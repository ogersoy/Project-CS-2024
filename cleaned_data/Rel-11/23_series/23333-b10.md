# Foreword
This Technical Specification has been produced by the 3^rd^ Generation
Partnership Project (3GPP).
The contents of the present document are subject to continuing work within the
TSG and may change following formal TSG approval. Should the TSG modify the
contents of the present document, it will be re-released by the TSG with an
identifying change of release date and an increase in version number as
follows:
Version x.y.z
where:
x the first digit:
1 presented to TSG for information;
2 presented to TSG for approval;
3 or greater indicates TSG approved document under change control.
y the second digit is incremented for all changes of substance, i.e. technical
enhancements, corrections, updates, etc.
z the third digit is incremented when editorial only changes have been
incorporated in the document.
# 1 Scope
This specification describes the functional requirements and information flows
that generate procedures between the Multimedia Resource Function Controller
(MRFC) and the Multimedia Resource Function Processor (MRFP), the Mp
Interface.
This specification is limited to information flows relevant to the Mp
Interface; in order to define these procedures and make the functional
requirements clear some triggers from an external interface may be described;
these may be specified within the Mr interface for example or within an AS in
which the MRFC function resides. However for the overall stage 2 procedures of
IMS see 3GPP TS 23.228 [1].
The protocol on the Mp interface is defined to comply with ITU-T H.248.1
Gateway Control Protocol; see [3].The goal of this specification is to provide
the input to defining a formal Profile within the H.248 protocol toolbox
specifically for the Mp application.
# 2 References
The following documents contain provisions which, through reference in this
text, constitute provisions of the present document.
  * References are either specific (identified by date of publication, > edition number, version number, etc.) or non‑specific.
  * For a specific reference, subsequent revisions do not apply.
  * For a non-specific reference, the latest version applies. In the > case of a reference to a 3GPP document (including a GSM document), > a non-specific reference implicitly refers to the latest version > of that document _in the same Release as the present document_.
[1] 3GPP TS 23.228: \"IP Multimedia Subsystem (IMS); Stage 2\".
[2] 3GPP TS 23.002: \"Network architecture\".
[3] ITU-T Recommendation H.248.1 (05/2002), Gateway control protocol: Version
2 + Corrigendum 1 (03/2004) and ITU-T Recommendation H.248.1 (09/2005),
Gateway control protocol: Version 3 for Floor Control requirements.
[4] 3GPP TS 24.147: \"Conferencing using the IP Multimedia (IM) Core Network
(CN) subsystem; Stage 3\".
[5] 3GPP TS 26.244: \"Transparent end-to-end packet switched streaming service
(PSS); 3GPP file format (3GP)\".
[6] 3GPP TR 21.905: \"Vocabulary for 3GPP Specifications\".
[7] 3GPP TS 23.205: \"Bearer independent circuit-switched core network; Stage
2\".
[8] 3GPP TS 26.235: \"Packet switched conversational multimedia applications;
Default codecs\".
[9] 3GPP TS 29.163: \"Interworking between the IP Multimedia (IM) Core Network
(CN) subsystem and Circuit Switched (CS) networks\".
[10] IETF RFC 2833: \"RTP Payload for DTMF Digits, Telephony Tones and
Telephony Signals\".
[11] W3C Recommendation (September 2004): \"Speech Synthesis Markup Language
(SSML) Version 1.0\".
[12] W3C Recommendation (September 2004): \"Speech Recognition Grammar
Specification (SRGS) Version 1.0\".
[13] W3C Recommendation (September 2005): \"Extensible MultiModal Annotation
markup language (EMMA) (draft work in progress)\".
[14] 3GPP TS 32.260: \"Telecommunication management; Charging management; IP
Multimedia Subsystem (IMS) charging\".
[15] W3C Recommendation (November 2000): \"Natural Language Semantics Markup
Language (NLSML) for the Speech Interface Framework\".
[16] 3GPP TS 29.333: \"Multimedia Resource Function Controller (MRFC) \--
Multimedia Resource Function Processor (MRFP) Mp Interface - Stage 3\".
[17] 3GPP TS 24.247: \"Messaging service using the IP Multimedia (IM) Core
Network (CN) subsystem - Stage 3\".
[18] IETF RFC 4975: \"The Message Session Relay Protocol (MSRP)\".
[19] IETF RFC 4376: \"Requirements for Floor Control Protocols\".
[20] IETF RFC 4582: \"The Binary Floor Control Protocol (BFCP)\".
[21] IETF RFC 4583: \"Session Description Protocol (SDP) Format for Binary
Floor Control Protocol (BFCP) Streams\".
[22] 3GPP TS 26.140: \"Multimedia Messaging Service; Media formats and
codecs\".
[23] 3GPP TS 26.114: \"IP Multimedia Subsystem (IMS); Multimedia Telephony;
Media handling and interaction\".
[24] IETF RFC 3168: \"The Addition of Explicit Congestion Notification (ECN)
to IP\".
[25] IETF RFC 6679: \"Explicit Congestion Notification (ECN) for RTP over
UDP\".
[26] 3GPP TS 22.153: \"Multimedia Priority Service\".
# 3 Definitions, symbols and abbreviations
## 3.1 Definitions
For the purposes of the present document, the terms and definitions given in
3GPP TR 21.905 [6] and the following apply. A term defined in the present
document takes precedence over the definition of the same term, if any, in
3GPP TR 21.905 [6].
Media Gateway: See Recommendation H.248.1 [3].
Media Gateway Controller: See Recommendation H.248.1 [3].
Multimedia Resource Function Controller: See 3GPP TS 23.228 [1].
Multimedia Resource Function Processor: See 3GPP TS 23.228 [1].
## 3.2 Symbols
For the purposes of the present document, the following symbols apply:
Mr Interface between the MRFC and S-CSCF
Mp Interface between the MRFC and MRFP
Mb Interface between MRFP and the other bearer entity
## 3.3 Abbreviations
For the purposes of the present document, the abbreviations given in 3GPP TR
21.905 [6] and the following apply. An abbreviation defined in the present
document takes precedence over the definition of the same abbreviation, if
any, in 3GPP TR 21.905 [6].
ASR Automatic Speech Recognition
DTMF Dual Tone Multi Frequency
ECN Explicit Congestion Notification
ECN-CE ECN Congestion Experienced
EMMA Extensible MultiModal Annotation markup language
IP Internet Protocol
MGC Media Gateway Controller
MGW Media Gateway
MPS Multimedia Priority Service
MRFC Multimedia Resource Function Controller
MRFP Multimedia Resource Function Processor
NLSML Natural Language Semantics Markup Language
SDP Session Description Protocol
SIP Session Initiation Protocol
SRGS Speech Recognition Grammar Specification
SSML Speech Synthesis Markup Language
TTS Text to Speech
VXML Voice Extensible Markup Language
# 4 Architecture
The architecture concerning the Multimedia Resource Function is presented in
Figure 4.1 below.
Figure 4.1: Architecture of MRF
The scope of this specification is limited to the area shown within the green
shading.
The MRF is split into Multimedia Resource Function Controller (MRFC) and
Multimedia Resource Function Processor (MRFP).
Tasks of the MRFC may consist of the following:
\- Control the media stream resources in the MRFP.
\- Interpret information coming from an AS and S‑CSCF (e.g. session
identifier) and control MRFP accordingly.
\- Generation of CDRs.
\- Advanced control of conferences (e.g. floor control)
Tasks of the MRFP may consist of the following:
\- Control of the bearer on the Mb reference point.
\- Provide resources to be controlled by the MRFC.
\- Mixing of incoming media streams (e.g. for multiple parties).
\- Media stream source (e.g. for multimedia announcements).
\- Media stream processing (e.g. audio transcoding, media analysis).
\- Manage access rights to shared resources in a conferencing environment
(e.g. floor control).
The Mp reference point allows an MRFC to control media stream resources
provided by an MRFP.
# 5 Functional Requirements
## 5.1 General
All functions are optional. Within a given function some components and
procedures might be optional to still support the function but some will be
required. Normative text in the following sections thus describes requirements
for support within an optional feature where it is desired to differentiate
between optional and mandatory parts of the feature.
## 5.2 Play Tone
The MRFC shall request the MRFP to send tones to one, one of several, multiple
or all parties connected in a call/session with a given tone identifier for
each specific tone.
The MRFC may request the tone to be played continuously until requested to be
stopped.
The MRFC may include in the request the length of time that the tone shall be
played; the duration may be provisioned.
The MRFC may then request a notification from the MRFP when the tone is
completed.
The MRFC may request DTMF detection while playing a tone.
The MRFC may request that upon DTMF detection the MRFP stops playing a tone.
## 5.3 Play Announcement
The function of playing announcement is to play audio media streams to the
subscriber. The function can be used in services such as audio announcements,
mail box services, play back recorded audio etc.
The MRFC shall request the MRFP to play announcements to one, one of several,
multiple or all parties connected in a call/session.
The announcement may be referenced by identifiers that may be pre-configured,
or dynamically obtained from the same MRFP for example due to Audio Record.
The MRFC shall request sequences of predefined fixed announcements within one
request to the MRFP.
The MRFC may request announcements to be played in a loop until it commands
the MRFP to stop.
The MRFC may request the MRFP to play an announcement for a fixed number of
times.
The MRFC may request DTMF detection while playing an announcement.
The MRFC may request the MRFP to stop playing an announcement when a DTMF
digit is detected.
The MRFC may request the MRFP to add the following variants to the
announcements:
\- Date/Day/Month
\- Time
\- Digits (the announcement may contain a number of digits to be controlled by
the MRFC for example a telephone number)
\- Money (currency)
\- Integer (a value within the announcement that is controlled by the MRFC,
e.g. \"you are caller number 3 in the queue\")
\- Variants may have predefined default values for a given network.
The MRFC may request the MRFP to indicate when a specific announcement
previously requested has been played successfully.
The MRFP shall indicate error cases such as announcement not played
successfully.
## 5.4 Text to Speech
TTS (Text To Speech) is the process of automatic generation of speech output
from text or annotated text input.
The MRFC shall request the MRFP to play the text to one, one of several,
multiple or all parties connected in a call/session.
The text format shall comply with the SSML format as specified in [11].
The MRFC shall extract the SSML script from the VXML or other format XML
script if received
If the received text is another format than SSML, the MRFC shall generate a
SSML script that may include the basic SSML text and the language type.
The MRFC shall indicate to the MRFP the text-to-speech, by sending the SSML
script or sending an URI reference to this SSML script.
If the MRFC indicates the SSML script to the MRFP, the SSML text is sent
inline in a H.248 command of Mp; the size shall be limited to avoid the
segmentation in the Mp interface. The MRFC may remove unnecessary elements,
such as the comments element, from the SSML document, providing that the
result is a Conforming Speech Synthesis Markup Language Fragment as described
in section 2.2.1 of SSML ref [11]. This is however outside the scope of the
current Mp specification work. If the SSML script size pre-processed results
in segmentation in the Mp interface, the URI reference should be used.
When the MRFC indicates the SSML script using an URI reference to the MRFP,
two options can exist:
\- the file (referenced by the URI) is located in the MRFP and it is a SSML
text, hence the MRFP should play the text;
\- the file (referenced by the URI) is located outside the MRFP; the MRFP may
fetch the text and play it to the user otherwise the MRFP indicates an error.
The MRFP shall execute the basic SSML elements and may ignore the SSML
elements not supported. The basic SSML elements include the root element
\"speak\", language type and spoken text.
The MRFC may request the MRFP to play a text in a loop until it commands the
MRFP to stop.
The MRFC may request the MRFP to play a text for a fixed number of times.
The MRFC may request DTMF detection while playing a text.
The MRFC may request the MRFP to stop playing a text when a DTMF digit is
detected.
The MRFC may request the MRFP to indicate when a text has been played
successfully.
The MRFP shall indicate error cases such as text not played successfully.
Ignoring a non-supported SSML element shall not result in an error.
## 5.5 Audio Record
The function requirement of audio record is to record the audio media
stream(s) and store it into a file. The function can be used in some services,
such as the voice mail box service, conference service, etc.
The MRFC shall request the MRFP to start the audio record from one or all
parties connected in a call/session. If it is to record one party in a
call/session, only the input stream of the party is recorded. If it is to
record all parties in a call/session, the mixed stream of all parties is
recorded.
The MRFP file format shall comply with the 3GPP multimedia file formats as
specified in the 3GPP TS 26.244[5].
The MRFC may request the MRFP to detect the DTMF digit while recording an
audio.
The MRFC may request the MRFP to stop recording and still retain the recording
file.
The MRFC may indicate to the MRFP the file format and the URI to store the
recorded file or request the MRFP to return the record file URI.
The MRFC may indicate to the MRFP the maximum record time.
The MRFC shall request the MRFP to indicate the result and the cause of record
completion when an audio has been recorded successfully.
The MRFP shall indicate error cases such as audio not recorded successfully.
The MRFC may indicate the MRFP to execute other functions, such as playing an
announcement, when the MRFP is recording audio.
## 5.6 DTMF Collection
The MRFC shall request the MRFP to detect and report the DTMF digits.
The MRFP shall report DTMF Digits detected as RTP Telephony Events (see IETF
RFC 2833 [10]) if the Telephony Event for DTMF Payload Type has been assigned
to that interface. The MRFP shall report only single DTMF Digits.
## 5.7 Automatic Speech Recognition
ASR (Automatic Speech Recognition) function is that the recognizer processes
the user input voice and may match that input against a target data to produce
a recognition result that represents the detected input. In the IMS, the MRFP
acts as the recognizer that is under control of the MRFC and finish the
function of recognition.
The MRFC shall request the MRFP to start the automatic speech recognition.
The MRFC shall extract the SRGS recognition grammar script or URI from the
VXML script if received or other format XML script if received.
The grammar format shall comply with the SRGS format as specified in W3C
Recommendation [12].
The MRFC shall indicate the SRGS script or the SRGS URI to the MRFP using
H.248 packages. If the SRGS script is sent inline,. the size of the SRGS
script shall be limited to avoid segmentation in the Mp interface.
The MRFC may indicate to the MRFP the recognition mode: Normal Recognition
Mode or Hotword Recognition Mode.
\- If the MRFC indicates the Normal Recognition Mode to the MRFP, the MRFP
shall attempt to match all of the speech against a recognition grammar and
returns a no-match status if the input fails to match or the method times out.
\- If the MRFC indicates the Hot-word Recognition Mode to the MRFP, the MRFP
shall look for a match against specific speech grammar and ignores speech that
does not match. The recognition completes only for a successful match of the
recognition grammar or if the subscriber cancels the request or if the
recognition time elapses.
The MRFP shall execute the recognition against the SRGS grammar and may ignore
SRGS elements which are not supported.
The MRFC may request DTMF detection while executing ASR.
The MRFC may request the MRFP to stop ASR when a DTMF digit is detected.
The MRFC may request the MRFP to indicate when a specific ASR has been
completed successfully.
When ASR is completed successfully, the MRFP may notify the MRFC the
recognition result.
The recognition result shall comply with a single recognition format (e.g. the
EMMA format as specified in W3C Recommendation [13] or the NLSML format as
specified in W3C Recommendation [15]).
NOTE: The mandatory recognition result format may be defined in Stage 3
specification 3GPP TS 29.333 [16].The MRFP may notify the MRFC multiple
recognition results that are mutually exclusive. Each result may be structured
by multiple parts in time sequence with the input time, may include the text
token that the value will correspond to tokens as defined by the SRGS grammar,
may include the interpretation of application specific markup, may include the
confidence score that represents the recognition quality.
The MRFP shall indicate error cases such as ASR not executed successfully.
## 5.8 Play Multimedia
### 5.8.1 General Play Multimedia
The function of playing multimedia is to play any combination of audio, video
and messaging media streams (except for audio only play which is specified
according to clause 5.2 or clause 5.3 ) to the subscriber. When playing
combination of audio and video media stream(s), the media stream(s) shall be
synchronized. The function can be used in the services, such as multimedia
announcement, multimedia mail box service, etc.
The MRFC shall request MRFP to play multimedia to one, one of several,
multiple or all parties connected in a call/session.
The multimedia to be played may be referenced by pre-configured identifiers or
by reference to a file (location).
The MRFC shall request sequences of predefined fixed multimedia announcements
within one request to the MRFP.
The MRFP multimedia of synchronized audio and video file format shall comply
with the 3GPP multimedia file formats as specified in the 3GPP TS 26.244[5].
The MRFP may transcode the input codec into the session codec, if the
multimedia file provides a different audio or video codec with the session
codec.
The MRFC may request MRFP to play multimedia of synchronized audio and video
in a loop until it commands the MRFP to stop.
The MRFC may request the MRFP to play multimedia of synchronized audio and
video for a fixed number of times.
The MRFC may request DTMF detection while playing multimedia of synchronized
audio and video.
The MRFC may request the MRFP to stop playing multimedia when a DTMF digit is
detected.
The MRFC may indicate to the MRFP the multimedia file identifier and file
format.
The MRFC may request the MRFP to indicate when a specific multimedia
previously requested has been played successfully.
The MRFC may be able to decouple the play audio and play video request to the
MRFP via separate sources for each media.
The MRFP shall indicate error cases such as multimedia not played
successfully.
### 5.8.2 Play Message
The function specified in clause 5.8.1 for \"General Play Multimedia\" shall
be followed. This clause describes the additional requirements to play the
messaging media stream.
To detect DTMF digits is not required for message media stream.
To play message in a loop or in a loop with a fixed number of times is not
required.
The MRFP message file formats shall comply with the file formats used inside
MMS (Multimedia Messaging Service) as specified in the 3GPP TS 26.140 [22] in
the current version.
## 5.9 Multimedia Record
### 5.9.1 General Multimedia Record
The function of the multimedia record is to record the any combination of
audio, video and messaging media stream(s) (except for audio only record which
are specified according to clause 5.5). When recording combination of audio
and video media stream(s), the media stream(s) shall be synchronized and be
stored into a multimedia file. The multimedia record function can be used in
the services, such as multimedia mail box service, multimedia conference, etc.
The MRFC shall request the MRFP to start the multimedia record to one or all
parties connected in a call/session. If it is to record one party in a
call/session, only the input stream of the party shall be recorded.
If it is to record all parties in a call/session, the mixed stream of all
parties shall be recorded. The MRFC may request the MRFP to detect the digit
while recording a multimedia of synchronized audio and video.
The MRFP multimedia of synchronized audio and video file format shall comply
with the 3GPP multimedia file formats as specified in the 3GPP TS 26.244[5].
The MRFC may request the MRFP to detect DTMF digits while recording multimedia
of synchronized audio and video.
The MRFC may request the MRFP to stop recording and still retain the recording
file.
The MRFC may indicate to the MRFP the file format and URI to store the
recorded file or request the MRFP to return the URI.
The MRFC may indicate to the MRFP the maximum record time.
The MRFC may request the MRFP to indicate the result and the cause of record
completion when a multimedia has been recorded successfully.
The MRFP shall indicate error cases such as multimedia not recorded
successfully.
The MRFC may indicate the MRFP to execute other functions, such as playing an
announcement, when the MRFP is recording multimedia.
### 5.9.2 Message Record
The function specified in clause 5.9.1 for \"General Multimedia Record\" shall
be followed. This clause describes the additional requirements to record the
messaging media stream.
The function of the message record is to record the messaging media stream(s)
and store into a message file. The message record function can be used in the
services, message conference, etc.
To detect DTMF digits is not required for message media stream.
The message file formats shall comply with the file formats used inside MMS
(Multimedia Messaging Service) as specified in the 3GPP TS 26.140[22] in
current version.
## 5.10 Audio Conference
Audio conferences allow users participating in the conference to communicate
with all other participants simultaneously.
The details for conferencing within the IP Multimedia Core Network subsystem
(IMS) are specified in 3GPP TS 24.147 [4].
The conference mixer is located in the MRFP.
The MRFC shall request the MRFP to create resources for an audio conference.
The MRFC shall create resources for users to join an existing conference, and
to release resources for users to leave an existing conference.
The MRFC may request the MRFP to collect DTMF (according to clause5.5), play
tones (according to clause 5.1) or announcements (according to clause 5.2), or
record the audio during the conference (according to 5.4).
The MRFP may support transcoding between different users.
## 5.11 Multimedia Conference
### 5.11.1 General Multimedia Conferencing
Multimedia conferences allow users participating in the conference to
communicate with all other participants simultaneously using any combination
of voice, video and messaging (except for audio only conferences which are
specified according to clause 5.10).
The details for conferencing within the IP Multimedia Core Network subsystem
(IMS) are specified in 3GPP TS 24.147 [4].
The conference mixer is located in the MRFP.
The MRFC shall request the MRFP to create resources for a multimedia
conference.
The MRFC shall create resources for users to join an existing conference, and
to release resources for users to leave an existing conference.
The MRFC may indicate to the MRFP to collect the DTMF (according to clause
5.6), play multimedia (according to clause 5.8), or record the multimedia
(according to clause 5.9) during the conference. It is not required to collect
DTMF when creating messaging conference separately.
The MRFP may support audio transcoding between different users.
The MRFP may support video transcoding between different users.
The MRFC may indicate to the MRFP to modify the media attribute, including:
\- To create a video stream or close a video stream.
\- To create an audio stream or close an audio stream.
\- To create a messaging stream or close a messaging stream.
\- To modify the codec of audio or video.
### 5.11.2 Message Conferencing
Messaging conferences allow users participating in the conference to
communicate with all other participants simultaneously using session based
message. Message content shall be possible to carry different media including
text, image, video and audio.
The details for messaging conference within the IP Multimedia Core Network
subsystem (IMS) are specified in 3GPP TS 24.247 [17].
The MRFC shall request the MRFP to create resources for a messaging
conference.
The MRFC shall request the MRFP to create resources for users to join an
existing conference, and to release resources for users to leave an existing
conference.
The MRFC may indicate the granted quotas and valid time to the MRFP. The
granted quotas indicate the units specifying the number of messages or volume
(size) of messages allowed to be received or sent by users. The valid time
indicates the validity time of the granted service units.
The MRFP may report statistics information of messages according to the
indication by the MRFC when the granted quota is reached or the valid time
elapses even if the granted service units have not been consumed within the
validity time. The statistics information of messages may include any of the
following received or sent by users in the conference:
  * number of messages sent
  * number of messages received
  * volume (size) of messages sent
  * volume (size) of messages received.
The MRFC may request the MRFP to report the statistics information of messages
sent and/or received at the end of the session or during the session.
The MRFP may report the statistics information at the end of the session or
during the session as requested by the MRFC. The statistics information of
messages may includeany of the following received or sent by users in the
conference:
  * number of messages sent
  * number of messages received
  * volume (size) of messages sent
  * volume (size) of messages received
The MRFP shall utilize the Message Session Relay Protocol (MSRP) (see IETF RFC
4975 [18]) to transport messages carrying different media including text,
images, video and audio. The Media types shall be MIME encoded.
The MRFC may request the MRFP to play messaging (according to clause 5.8)
during the conference.
The MRFC may request the MRFP to support the message record (according to
clause 5.9), including global storage of sessions and personal storage during
the conference.
The MRFC may request the MRFP to filter the message of the recipient. If the
filtering capabilities are supported:
  * The MRFC shall request the MRFP to start/stop message filtering.
  * The MRFC shall indicate the filtering criteria to the MRFP. The filtering criteria may include sender address, message size, message content type (e.g. video, audio), message content format (e.g. mpeg, jpeg) and message subject.
  * The MRFC shall indicate the message treatments to the MRFP. The message treatments include block the delivery of the message content, store the message content and redirect the message to another address.
  * The MRFP shall execute the message treatment when the criteria is reached.
## 5.12 Audio Transcoding
The MRFP shall support audio transcoding between streams of two Terminations
within the same context where the streams are encoded differently, in
accordance with standard H.248.1 principles, see ITU-T H.248.1 [3]. As minimum
requirement the MRFP shall support the default 3GPP audio codec AMR
(narrowband), and optionally any other audio codecs as specified in 3GPP TS
26.235 [8].
## 5.13 Video Transcoding
The MRFP shall support video transcoding between streams of two Terminations
within the same context where the streams are encoded differently, in
accordance with standard H.248 principles, see ITU-T H.248.1 [3]. As minimum
requirement the MRFP shall support the default 3GPP video codec H.263, and
optionally any other video codecs as specified in 3GPP TS 26.235 [8].
## 5.14 Floor Control Service Requirement
### 5.14.1 General
Floor control is a means to manage joint or exclusive access to shared
resources in a (multiparty) conferencing environment. It enables applications
or users to gain safe and mutually exclusive or non-exclusive input access to
the shared object or resource. The \"Floor\" is an individual temporary access
or manipulation permission for a specific shared resource (or group of
resources) IETF RFC 4376 [19]. Floor control is an optional procedure; where
\"shall\" is used it is meant that this is basic required functionality within
the feature.
### 5.14.2 Architecture
The functional architecture concerning Floor control is presented in Figure
5.14.2.1 below.
Figure 5.14.2.1: Functionality Architecture of Floor Control
The functional entities are described by solid line, and the roles are
described by broken line.
The functional entities consist of the following:
\- User Equipment (UE), a UE shall support the \"Client\" role of BFCP as
specified by IETF RFC 4582 [20]. the Client may be a \"Floor Participant\" or
\"Floor Chair\" .
\- Media Resource Function (MRF), an MRF shall support the \"Floor Control
Server\" role.
The roles consist of the following:
\- Floor Participant, the Floor Participant shall support general Client
operations and Floor Participant operations as described in IETF RFC 4582
[20].
\- Floor Chair, the Floor Chair shall support Client operations and Floor
Chair operations as described in IETF RFC 4582 [20].
\- Floor Control Server, the Floor Control Server (FCS) shall support Floor
Control Server operations as described in IETF RFC 4582 [20].
### 5.14.3 Services Requirements
The MRF shall support the Floor Control function, including: the \"conference
policy\" related to Floor control and the communication between the Floor
control functional entities (the Floor Participant, the Floor Chair and the
Floor Control Server).
1\. The MRF shall support the following Floor control policy related to Floor
control:
\- Whether the Floor control is in use or not.
\- The algorithm to be used in granting the Floor.
> The following algorithms shall be supported:
>
> \- FCFS (First Come First Served)
>
> The following algorithms may be supported:
>
> \- Chair-Controlled
\- The maximum number of users who can hold the Floor at the same time.
\- To assign and modify the Floor Chair, if the Floor is Chair-controlled.
The MRF may support the following:
\- Announcements/tones from network for indicating when a user gets and looses
the hold of the Floor (note: announcement may also be text or indication in
video)
2\. The MRF, acting as FCS, shall support the communication with the Floor
Participants and the Floor Chairs according to the BFCP protocol as described
in IETF RFC 4582 [20] , providing:
\- Communication between Floor Participant and FCS such that the participant
shall be able to request/ modify /release a Floor for the Floor Participant
himself or a third-party Floor Participant;
\- Communication between Floor Chair and FCS such that the Chair shall be able
to receive Floor requests and to grant/ reject/ revoke the Floor requests.
### 5.14.4 Information Flows
This clause covers the information flows between the UE and MRF.
#### 5.14.4.1 User requesting the Floor during a conference
Figure 5.14.4.1.1 shows a Floor Participant requesting the Floor to obtain the
right to talk during a conference. The UE#1 is a Floor Participant, the Floor
of the \"right to talk\" is Chair-controlled and the UE#2 is the Floor Chair
of the conference.
Figure 5.14.4.1.1: User requesting the Floor to obtain the right to talk
during a conference
The details of the flows are as follows:
1\. Conference session with UE#1 & UE#2 established
The UE#1 and UE#2 are participants of an existing conference. The BFCP
connections between the participant and the MRF need to be established before
the BFCP communication.
2\. FloorRequest
The UE#1 requests the MRF for the Floor of the \"right to talk\". The message
format is described in IETF RFC 4582 [20].
3\. FloorStatus
The MRF notifies the UE#2 the Floor request from UE#1. The message format is
described in IETF RFC 4582[20].
4\. ChairAction
The UE#2 grants the Floor request and sends instruction to the MRF to action.
The message format is described in IETF RFC 4582[20].
5\. ChairActionAck
The MRF acknowledges the ChairAction message. The message format is described
in IETF RFC 4582[20].
6\. Floor RequestStatus
The MRF informs UE#1 about the status of their Floor requests. The message
format is described in IETF RFC 4582[20].
7\. UE#1 send and receive media (or audio) from/to the conference
Now the UE#1 has been granted the Floor of the \"right to talk\", it may send
and receive the audio stream to the MRF.
#### 5.14.4.2 User releasing the Floor during a conference
Figure 5.14.4.2.1 shows a Floor Participant requesting to release the Floor to
give up the right to talk during a conference. The UE#1 is a Floor Participant
and owns the Floor of the \"right to talk\", the Floor is Chair-controlled and
the UE#2 is the Floor Chair of the conference.
Figure 5.14.4.2.1: User releasing the Floor to give up the right to talk
during a conference
The details of the flows are as follows:
1\. Conference session with UE#1 & UE#2 established
The UE#1 and UE#2 are participants of an existing conference. The BFCP
connections between the participant and the MRF need to be established before
the BFCP communication.
2\. FloorRelease
The UE#1 requests to release the MRF for the Floor of the \"right to talk\".
The message format is described in IETF RFC 4582 [20].
3\. FloorStatus
The MRF notifies the UE#2 the Floor release request from UE#1. The message
format is described in IETF RFC 4582[20].
4\. Floor RequestStatus
The MRF informs UE#1 about the status of the Floor release request. The
message format is described in IETF RFC 4582[20].
5\. UE#1 receive stream from the conference
Now the UE#1 has been revoked the right to talk, he may receive the audio
stream from the MRF only.
### 5.14.5 Requirements on Mp interface
### 5.14.5.1 Requirements for MRFP based FCS
The MRFC shall indicate to the MRFP the Floor Control Policy:
\- The algorithm to be used in granting the Floor.
\- The FCFS algorithm shall be supported.
\- The Chair-controlled algorithm may be supported.
\- The maximum number of users who can hold the same Floor at the same time.
\- To assign and modify the Floor Chair, if the Floor is Chair-controlled.
\- The Floor media type shall be audio, video or a combination of one or more
media type.
\- The association between Floors and resources.
The MRFP shall maintain the state of the Floor(s), including which Floors
exists, which terminations hold which Floors, and which termination is the
Floor Chair, if the floor is Chair-controlled.
The MRFC may request the MRFP to establish a BFCP connection between the MRFP
(FCS) and the Client (via Floor control Client Termination).
The MRFP shall support the communication with a Floor Participant such that
the participant may request/ modify /release a Floor for the Floor Participant
himself or a third-party Floor Participant according to the BFCP protocol
[20].
The MRFP may support the communication with Floor Chair such that the Chair
shall be able to receive Floor requests and to grant/ reject/ revoke the Floor
according to the BFCP protocol [20].
The MRFP shall (if requested by the MRFC) report to the MRFC any requests to
change the Floor holding status. The MRFC shall indicate to the MRFP to modify
the Client\'s access right to the media according to the changes in Floor
status.
The MRFC may request the MRFP to play tones (according to clause 5.1) or
announcements (according to clause 5.2) for indicating when a Client gains or
loses a Floor.
## 5.15 Explicit Congestion Notification Service Requirement
### 5.15.1 General
A MRFC/MRFP may support Multimedia Telephony using Explicit Congestion
Notification see IETF RFC 3168 [24], and may act as an ECN endpoint to enable
ECN with a local ECN-capable terminal within a local network that properly
handles ECN-marked packets.
This requires that the MRFC performs the following:
  * support SDP ability to negotiate ECN as described in 3GPP TS 26.114 [23].
This requires the MRFP to be capable of enabling end-to-end rate adaptation
due to congestion between the local Multimedia Telephony terminal and the MRFP
by performing the following towards the local Multimedia Telephony terminal:
\- trigger rate adaptation request towards the Multimedia Telephony terminal
when receiving incoming IMS media flow IP packets marked with ECN-CE;
\- perform media adaptation (e.g. reduce media bit-rate) towards the
Multimedia Telephony terminal when receiving from the latter an adaptation
request;
\- if requested by the MRFC, provide notification and an ECN failure event if
ECN errors or packet losses occur.
## 5.16 Multimedia Priority Service (MPS) Support
The Multimedia Priority Service (MPS) is specified in 3GPP TS 22.153 [26]. The
MRFC and MRFP may support the priority treatment of a call/session identified
as an MPS call/session. If MPS is supported then upon receipt of the MPS
priority information in the call control signalling:
\- The MRFC shall recognise the call/session as having priority.
\- The MRFC shall send the Priority information for a context to the MRFP to
enable the priority treatment described below related to the MRFP.
\- The MRFC shall apply priority handling to H.248 transactions related to
priority calls/sessions when network resources are congested, e.g.,
preferential treatment in any queues or buffers.
\- If the H.248 control association utilises a transport with the possibility
for prioritisation, the MRFC may apply priority using the appropriate
prioritisation procedures.
\- If the MPS Priority service requires a specific MPS DSCP setting, the MRFC
shall configure the MRFP to apply a specific MPS DSCP marking to the user data
transport packets to indicate that the packets are of a higher priority than
those for normal calls.
\- If the MRFP receives an indication to apply a specific MPS DSCP marking to
the user data transport packets, it shall apply this DSCP marking to the IP
headers.
NOTE 1: Support of Diffserv procedures by the MRFP assumes an operator uses
Diffserv for prioritising user plane traffic related to an MPS call/session.
\- When the MRFC marks a Context with Priority information, the MRFP may use
the Priority information for selecting resources for the media and signaling
transport with priority. The following actions may be taken by the MRFP if it
has reached a congested state:
i) seize priority reserved resources; or
ii) if resources are completely congested, indicate that in a Command Response
error code.
NOTE 2: The Priority information can be used to derive Layer 2 QoS marking and
trigger priority identification and priority treatment for other QoS
technologies than Diffserv.
# 6 MRFC-MRFP Procedures
## 6.1 Non-Call Related Procedures
### 6.1.1 General
The non-call related procedures are based on corresponding procedures of 3GPP
TS 23.205[7] when the MRFC takes the place of the MSC server and the MRFP
takes the place of the MGW.
### 6.1.2 MRFP Unavailable
The MRFC recognises that the MRFP is unavailable in the following 4 cases:
1\. The signalling connection is unavailable
{width="3.004166666666667in" height="1.7444444444444445in"}
Figure 6.1.2.1: Signalling connection failure
2\. The MRFP indicates the failure condition to all connected MRFCs
{width="3.004166666666667in" height="1.7444444444444445in"}
Figure 6.1.2.2: MRFP indicates the Failure/Maintenance locking
The failure indication indicates that the MRFP will soon go out of service and
that no new connections should be established using this MRFP. The MRFP can
choose between the \"graceful\" and the \"forced\" method. In the graceful
method the connections are cleared when the corresponding calls are
disconnected. In the forced method all connection are cleared immediately.
3\. The MRFC recognises that the MRFP is not functioning correctly, e.g.
because there is no reply on periodic sending of Audits. The periodic sending
of Audits by MRFC should persist.
4\. The MRFP indicates the maintenance locking condition to all concerned
MRFCs.
The maintenance locking indication indicates that the MRFP is locked for new
calls and that no new connections shall be established using this MRFP. The
MRFP can choose between the \"graceful\" and the \"forced\" method. In the
graceful method the connections are cleared when the corresponding calls are
disconnected. In the forced method all connection are cleared immediately
In all of the above cases the MRFC shall prevent the usage of the MRFP until
the MRFP has recovered or the communication with the MRFP is restored.
### 6.1.3 MRFP Available
The MRFC discovers that the MRFP is available when it receives an MRFP
Communication Up message or an MRFP Restoration message. When the MRFC
discovers that the MRFP is available the following shall occur:
1\. Signalling recovery
The MRFP indicates to all connected MRFCs that the signalling connection is
restored.
{width="3.004166666666667in" height="1.7444444444444445in"}
Figure 6.1.3.1: Communication goes up
2\. MRFP restoration/maintenance unlocking indication.
> The MRFP indicates to all connected MRFCs that normal operation has resumed.
{width="3.004861111111111in" height="1.7444444444444445in"}
Figure 6.1.3.2: MRFP indicates recovery from a failure/or maintenance
unlocking
NOTE: This procedure may be used after recovery from a signalling failure.
3\. The MRFC recognises that the MRFP is now functioning correctly, e.g.
because there is a reply on periodic sending of Audits.
After this the MRFC can use the MRFP. If none of 1,2, or 3 happens the MRFC
can initiate the MRFC Ordered Re-register procedure**.**
### 6.1.4 MRFP Recovery
If the MRFP recovers from a failure, is maintenance unlocked, or it has been
restarted, it registers to its known MRFCs using the MRFP Restoration
procedure or the MRFP Registration procedure. The MRFP can indicate whether
the Service has been restored or whether it has restarted with a cold or warm
boot. The response sent to the MRFP indicates a signalling address to be used
by the MRFP.
{width="3.004166666666667in" height="1.7444444444444445in"}
Figure 6.1.4.1: MRFP Restoration
{width="3.004166666666667in" height="1.7444444444444445in"}
Figure 6.1.4.2 MRFP Registration
After the recovery the MRFC can use the MRFP.
### 6.1.5 MRFC Recovery
#### 6.1.5.1 General
If an MRFP-unavailable condition is provoked by a failure/recovery action, the
MRFC recovery sequence will, from an information flow point of view, look like
MRFP unavailable and then MRFP available. If an MRFP-unavailable condition is
not provoked, the MRFC recovery sequence will look like MRFP available.
After the information flow, the terminations affected by the recovery action
are released.
#### 6.1.5.2 MRFC Restoration
{width="3.004166666666667in" height="2.497916666666667in"}
Figure 6.1.5.2.1: MRFC Restoration
NOTE: Normal release procedure may also be initiated.
After the recovery action is complete and it is possible to signal to the MRFP
the MRFC starts a timer Tw. If recovery indications are not received (MRFP
Communication Up or MRFP Restoration) from the MRFP during Tw an Audit is
sent. If the MRFC receives a recovery indication or MRFP communication up
indication, it shall acknowledge the indication before the MRFC Restoration
may be sent or the release procedure is initiated.
### 6.1.6 MRFP Re-register
When the MRFC requests an MRFP to perform a registration (see clause 6.1.7),
the MRFP performs a re-registration to the MRFC which is defined in the MRFC
address.
{width="3.004166666666667in" height="1.7444444444444445in"}
Figure 6.1.6.1: Re-registration of an MRFP
### 6.1.7 MRFP Re-registration Ordered by MRFC
If the MRFC knows that communication is possible, but the MRFP has not
registered, the MRFC can order re-registration of the MRFP.
{width="3.004166666666667in" height="1.7444444444444445in"}
Figure 6.1.7.1: Re-registration ordered by the MRFC
If the re-registration request is accepted the MRFP uses the MRFP Re-register
procedure to register with the MRFC.
### 6.1.8 Audit of MRFP
#### 6.1.8.1 Audit of Value
The MRFC may request the MRFP to report the current values assigned to
distinct objects in the MRFP.
{width="3.004166666666667in" height="1.7444444444444445in"}
Figure 6.1.8.1.1: Audit Value
### 6.1.8.2 Audit of Capability
The MRFC may request the MRFP to report the capabilities of distinct objects
in the MRFP.
{width="3.004166666666667in" height="1.7444444444444445in"}
Figure 6.1.8.2.1: Audit Capability
### 6.1.9 MRFP Capability Change
The MRFP reports a change of capability of distinct objects in the MRFP.
{width="3.004166666666667in" height="1.7444444444444445in"}
Figure 6.1.9.1: Capability Update
The MRFC can use the Audit Value and/or Audit Capability procedures to obtain
further information, about the objects whose capabilities have changed.
### 6.1.10 MRFC Out of service
{width="3.004861111111111in" height="1.7444444444444445in"}
Figure 6.1.10.1: MRFC Out of Service
If an MRFC discovers that it wants to go out of service it starts an MRFC Out
of Service procedure. The MRFC can indicate whether it requires the context to
be cleared immediately (forced) or cleared when all terminations are
released.(Graceful)
### 6.1.11 MRFP Resource Congestion Handling -- Activate
When the MRFC requires that an MRFP congestion notification mechanism be
applied in the MRFP, the MRFC shall use the MRFP Resource Congestion Handling
- Activate procedure towards the MRFP.
{width="3.004166666666667in" height="1.7444444444444445in"}
Figure 6.1.11.1: MRFP Resource Congestion Handling - Activate
### 6.1.12 MRFP Resource Congestion Handling -Indication
When the MRFC receives a load reduction notification from the MRFP via the
MRFP Resource Congestion Handling - Indication procedure, the MRFC tries to
reduce the processing load that the MRFC creates on the MRFP. The MRFP shall
decide the actual level of traffic reduction.
{width="3.004166666666667in" height="1.7444444444444445in"}
Figure 6.1.12.1: MRFP Resource Congestion Handling-Indication
## 6.1.13 Hanging termination detection
Whenever requesting new IP bearer terminations, the MRFC shall request the
MRFP to periodically report termination heartbeat indications to detect
hanging context and termination in the MRFP that may result e.g. from a loss
of communication between the MRFC and the MRFP.
When the MRFC receives a termination heartbeat notification from the MRFP via
the Termination heartbeat - Indication procedure, the MRFC shall return a
Termination heartbeat --Indication Ack (without an error) if the context id /
termination identity combination exists in the MRFC. If it does not exist, the
MRFC shall return an error and shall correct the mismatch, e.g. by requesting
the MRFP to subtract the indicated termination and to clear any associated
context.
Figure 6.1.13.1: Termination heartbeat -- Indication
## 6.2 Call Related Procedures
### 6.2.1 Play Tone Procedure
#### 6.2.1.1 General
The following procedure assumes the IMS session has been established and the
bearer is through-connected and the MRFC has received a trigger to play a tone
and the MRFP selected for the call has the capabilities to provide tones.
NOTE: This procedure may also be ordered in combination with the session
establishment procedure.
#### 6.2.1.2 Send tone
After reception of a trigger to play a tone, the MRFC shall initiate the Send
tone procedure. The MRFC may request the MRFP to send tone to one, multiple or
all terminations in a context simultaneously with the tone identifier. The
tone identifier may be a pre-configured identifier.
The MRFC may request the MRFP to send tone continuously until requested to be
stopped. Alternatively, duration may be indicated or provisioned in the MRFP.
When the duration elapses, the tone shall be stopped.
The MRFC may request the MRFP to detect DTMF digits, and may request the MRFP
to stop sending tone when a DTMF digit is detected. For the second case, only
the tone completion event is notified.
The MRFC may request the MRFP to detect the tone completion, and notify the
completion event and cause to the MRFC. The tone is completed when either of
the following has occurred;
\- the duration has elapsed or:
\- a DTMF digit is detected by the MRFP or:
\- the sending tone is not successful.
#### 6.2.1.3 Stop tone
On receipt of a trigger to stop a tone, the MRFC shall request the MRFP to
stop the tone.
#### 6.2.1.4 Tone completed
When a tone is completed, if the MRFC has requested the MRFP to notify the
tone completion, the MRFP shall notify the tone completion event and the cause
to the MRFC. The cause that the tone is completed may be that the duration has
elapsed, a DTMF digit is detected by the MRFP, or that the tone is not
successful. Then the MRFC may indicate to the AS that the tone has been
stopped.
#### 6.2.1.5 Message sequence chart
Figure 6.2.1.1 shows the message sequence chart example for sending tone.
{width="6.669444444444444in" height="4.988888888888889in"}
Figure 6.2.1.1 Sending tone (message sequence chart)
### 6.2.2 Play Announcement Procedure
#### 6.2.2.1 General
The following procedure assumes the IMS session has been established and the
bearer is through-connected, and the MRFC has received a trigger to play
announcement, and the MRFP selected for the call has the capabilities to
provide announcement.
NOTE: This procedure may also be ordered in combination with the session
establishment procedure.
#### 6.2.2.2 Start announcement
After reception of a trigger to play the announcement, the MRFC should
initiate the Start announcement procedure. The MRFC shall request the MRFP to
play announcement to one, multiple or all terminations in a context with the
announcement identifier. The announcement identifier may be a pre-configured
identifier (such as a number).
If it is a sequence of announcements, the MRFC shall request the MRFP to play
all the announcements with one request. The MRFC may request the MRFP to play
the announcement in a loop continuously until requested to be stopped or in a
loop with a fixed number of times. For the second case, if the fixed number of
times is exhausted, the announcement is completed successfully.
If it is a variable announcement, the MRFC may indicate to the MRFP the
following variants to the announcements:
\- Date: A date variant is made up of three components: day, month and year.
The MRFC shall indicate the date value and the date format to the MRFP, such
as \" day-month-year\" or \"year-month-day\".
\- Time: A time variant is made up of two components: hour and minute, The
MRFC shall indicate the time value and the time format to the MRFP, such as
\"12-hours format\" or \"24-hours format\".
\- Digits (the announcement may contain a number of digits to be controlled by
the MRFC for example a telephone number): a digits variant is made up of a
sequence digit.
\- Money (currency).
\- Integer (a value within the announcement that is controlled by the MRFC,
e.g. \"you are caller number 3 in the queue\"): an integer variant may be
spoken as a cardinal or ordinal value. The MRFC shall indicate to the MRFP the
value and type to be spoken.
The MRFC may request the MRFP to detect DTMF digit while playing an
announcement, and may request the MRFP to stop playing an announcement when a
DTMF digit is detected. For the latter case, only the announcement completion
event is notified.
The MRFC may request the MRFP to detect the announcement completion, and
notify the completion event and cause to the MRFC. The announcement is
completed when either of the following has occurred;
\- the announcement has been completed successfully or:
\- a DTMF digit is detected by the MRFP or:
\- the playing announcement is not successful.
#### 6.2.2.3 Stop announcement
On receipt of a trigger to stop the announcement, the MRFC shall request the
MRFP to stop the announcement.
#### 6.2.2.4 Announcement completed
When an announcement is completed, if the MRFC has requested the MRFP to
notify the announcement completion, the MRFP shall notify the announcement
completion event and the cause to the MRFC. The cause that the announcement is
completed may be the announcement has been completed successfully, or a DTMF
digit is detected by the MRFP, or the playing announcement is not successful.
Then the MRFC may indicate to the AS that the announcement has been stopped.
#### 6.2.2.5 Message sequence chart
Figure 6.2.2.1 shows the message sequence chart example for playing
announcement.
{width="6.641666666666667in" height="4.708333333333333in"}
Figure 6.2.2.1 Playing announcement (message sequence chart)
### 6.2.3 Text to Speech Procedure
#### 6.2.3.1 General
The following procedure assumes the IMS session has been established and the
bearer is through-connected, and the MRFC has received a trigger to play TTS,
and the MRFP selected for the call has the capabilities to provide TTS.
NOTE: This procedure may also be ordered in combination with the session
establishment procedure.
#### 6.2.3.2 Start TTS
After reception of a trigger to play TTS, the MRFC should initiate the Start
TTS procedure.
If the MRFC receives a VXML script, the MRFC shall extract the SSML script or
the SSML file identifier from the VXML script. If the MRFC receives plain
text, the MRFC shall generate a SSML script that includes this plain text
(\) and the language type (xml:lang) used the basic SSML format. If the
size of the SSML script is larger than the transport capability of the Mp
interface, the MRFC shall stop the Start TTS procedure and return error.
Then the MRFC shall indicate to the MRFP the SSML script or the SSML file
identifier to play the SSML text to one, one of many, multiple or all
terminations in a context. If the MRFP does not support an element of the
SSML, the MRFP may ignore the element.
The MRFC may request the MRFP to play the TTS in a loop continuously until
requested to be stopped or in a loop with a fixed number of times. For the
second case, if the fixed number of times is exhausted, the TTS is completed
successfully.
The MRFC may request the MRFP to detect DTMF digit while playing a TTS, and
may request the MRFP to stop TTS when a DTMF digit is detected. For the second
case, only the TTS completion event is notified.
The MRFC may request the MRFP to detect the TTS completion and notify the
completion event and cause to the MRFC. The TTS is completed when either of
the following has occurred;
\- the TTS has been completed successfully or:
\- a DTMF digit is detected by the MRFP or:
\- the playing TTS is not successful.
#### 6.2.3.3 Stop TTS
On receipt of a trigger to stop TTS, the MRFC shall request the MRFP to stop
the TTS.
#### 6.2.3.4 TTS Completed
When a TTS is completed, if the MRFC has requested the MRFP to notify the TTS
completion, the MRFP shall notify the TTS completion event and the cause to
the MRFC. The cause that the TTS is completed may be the TTS has been
completed successfully, or a DTMF digit is detected by the MRFP, or the
playing TTS is not successful. Then the MRFC may indicate to the AS that the
TTS has been stopped.
#### 6.2.3.5 Message sequence chart
Figure 6.2.3.5.1 shows the message sequence chart example for playing TTS.
{width="6.6930555555555555in" height="4.551388888888889in"}
Figure 6.2.3.5.1 Playing TTS (message sequence chart)
### 6.2.4 Audio Record Procedure
#### 6.2.4.1 General
The following procedure assumes the IMS session has been established and the
bearer is through-connected, and the MRFC has received a trigger to record
audio, and the MRFP selected for the call has the capabilities to provide
audio record.
NOTE: This procedure may also be ordered in combination with the session
establishment procedure.
#### 6.2.4.2 Start audio record
After reception of a trigger to record audio, the MRFC should initiate the
Start audio record procedure. The MRFC shall request the MRFP to record audio
from one or all terminations in a context with the record file URI and record
file format. If it is to record one party, only the input stream of the party
is recorded. If it is to record all parties, the mixed stream of all parties
is recorded.
When recording audio from all terminations in a context (for two-party
sessions or a conference) the MRFC may request the MRFP to assign a new
termination to record the audio in the context.
If other signals such as playing announcement are requested to be executed on
the same termination as the termination to perform the recording the signals
shall not override each other, e.g. the recording shall not be interrupted.
The record file URI can be generated by the AS/MRFC or by the MRFP. For the
second case, the MRFC shall indicate the MRFP to generate the URI and return
the generated URI to the MRFC. The record file format is the 3GPP multimedia
file format, defined in the 3GPP TS 26.244[5], and only the audio track is
used for the audio recording. The MRFC may indicate the maximum record time to
the MRFP. When the maximum record time has elapsed, the MRFP shall stop the
audio recording.
The MRFC may request the MRFP to detect the audio recording completion, and
notify the completion event and cause to the MRFC. The audio recording is
completed when either of the following has occurred;
\- the maximum time period of audio recording has elapsed,
\- no input is detected,
> \- DTMF digits are detected by the MRFP where the DTMF key sequence shall
> stop or cancel the audio recording ,
\- the MRFC requests the MRFP to stop the audio recording, or:
\- the audio recording is not successful.
#### 6.2.4.3 Stop audio record
After reception of a trigger to stop audio record, the MRFC shall request the
MRFP to stop the audio recording. If the audio recording termination is added,
the MRFC shall request the MRFP to subtract it.
#### 6.2.4.4 Audio record completed
When an audio recording is completed, if the audio recording is successful,
the MRFP shall save the record file to the specified URI. If the audio
recording is not successful, the MRFP shall delete the record file. If the
MRFC has requested the MRFP to notify the audio recording completion, the MRFP
shall notify the audio recording completion event and the cause to the MRFC.
The cause of the audio recording completed may be no voice has been input
during a specific period, the maximum record time has elapsed, a DTMF digit
that represents to finish or cancel the audio recording is detected by the
MRFP, or the audio recording is not successful. Then the MRFC may indicate to
the AS that the audio record has been stopped.
#### 6.2.4.5 Message sequence chart
Figure 6.2.4.1 shows the message sequence chart example for audio recording.
{width="6.636805555555555in" height="5.747222222222222in"}
Figure 6.2.4.1 Audio record (message sequence chart)
### 6.2.5 DTMF Collection Procedure
On receipt of a request to detect DTMF Digits, the MRFC may command the MRFP
to report DTMF Digits as defined in the Detect DTMF Procedure.
MRFC shall assign the RTP Payload Type for DTMF Telephony Events. When a DTMF
Digit has been detected by the MRFP it shall report it to the MRFC.
When requested to detect DTMF the MRFP shall not forward the reported digit
toward another connection.
An example sequence is shown in Figure 6.2.5.1.
{width="6.636111111111111in" height="6.207638888888889in"}
Figure 6.2.5.1 DTMF Telephony Event Detection
DTMF digit detection may be stopped by the MRFC sending the procedure Stop
DTMF Detection. The MFRP, once it has acknowledged this request will no longer
check for DTMF digits or report them to the MRFC.
### 6.2.6 Automatic Speech Recognition Procedure
#### 6.2.6.1 General
The following procedure assumes the IMS session has been established and the
bearer is through-connected, and the MRFC has received a trigger to play ASR,
and the MRFP selected for the call has the capabilities to provide Automatic
Speech Recognition.
NOTE: This procedure may also be ordered in combination with the session
establishment procedure.
#### 6.2.6.2 Start ASR
If the MRFC receives a request to initiate ASR, the MRFC shall extract the
SRGS script or the SRGS URI from the received script.
If the size of the SRGS script is larger than the transport capability of the
Mp interface, the MRFC shall terminate ASR procedure and return error.
Otherwise the MRFC initiates the Start ASR procedure; the MRFC shall indicate
to the MRFP the SRGS script or the SRGS URI to play ASR to one termination in
a context.
The MRFC may indicate to the MRFP the recognition mode: Normal Recognition
Mode, Hotword Recognition Mode. If the MRFC indicate the Normal Recognition
Mode to the MRFP, the MRFP shall match all of the speech against a recognition
grammar and returns a no-match status if the input fails to match or the
method times out. If the MRFC indicates the Hot-word Recognition Mode to the
MRFP, the MRFP shall look for a match against specific speech grammar and
ignores speech that does not match.
The MRFP shall recognize the subscriber's input speech stream according to the
SRGS grammar, and output the result as the EMMA format.
If the MRFP does not support an element of the SRGS, the MRFP may ignore the
element.
The MRFC may request the MRFP to detect DTMF digit while executing ASR, and
may request the MRFP to stop ASR when a DTMF digits is detected. For the
latter case, only the ASR result is notified.
The MRFC may request the MRFP to detect the ASR completion and notify the
completion event and cause to the MRFC. The ASR is completed when either of
the following has occurred;
\- the ASR has been completed successfully,
\- a DTMF digit is detected by the MRFP,
\- the executing of ASR is not successful or
\- the recognition time elapses.
#### 6.2.6.3 Stop ASR
On receipt of a trigger to stop ASR, the MRFC shall request the MRFP to stop
the ASR.
6.2.6.4 ASR Completed
When an ASR is completed, if the MRFC has requested the MRFP to notify the ASR
completion, the MRFP shall notify the ASR result and the cause to the MRFC.
The cause of the ASR completed may be that the ASR has been completed
successfully, a DTMF digit is detected by the MRFP, or the executing ASR is
not successful.
The MRFP shall generate the ASR result as the EMMA format. The EMMA result may
include multiple recognition results that are mutually exclusive. Each result
may be structured by multiple parts in time sequence with the input time. Each
result may include the text token that the value will correspond to tokens as
defined by the SRGS grammar. Each result may include the interpretation of
application specific markup. Each result may include the confidence score that
represents the recognition quality.
If the size of the EMMA script is larger than the transport capability of the
Mp interface, the MRFP shall return the MRFC the ASR is not successful.
Then the MRFC may indicate to the AS that the ASR has been stopped and the ASR
result.
#### 6.2.6.5 Message sequence chart
Figure 6.2.6.5.1 shows the message sequence chart example for executing ASR.
{width="6.553472222222222in" height="5.714583333333334in"}
Figure 6.2.6.5.1 ASR (message sequence chart)
### 6.2.7 Play Multimedia Procedure
#### 6.2.7.1 General
The following procedure assumes the IMS session has been established and the
bearer is through-connected, and the MRFC has received a trigger to play
multimedia, and the MRFP selected for the call has the capabilities to provide
playing multimedia. The clauses 6.2.7.3- 6.2.7.6 specify the procedures to
play the synchronized audio and video media stream(s). The clauses 6.2.7.aa-
6.2.7.dd describe the procedures for playing message.
NOTE: This procedure may also be ordered in combination with the session
establishment procedure.
#### 6.2.7.2 H.248 context model
The figure 6.2.7.1 shows the H.248 context model for playing multimedia. There
may be up to three streams in the termination that is used for playing
multimedia, which are any combination of audio, video and messaging media
stream(s). The H.248 command can be processed in the termination to play
multimedia and detect the playing multimedia completed event.
Figure 6.2.7.1: Playing Multimedia H.248 context model
#### 6.2.7.3 Start playing multimedia
After reception of a trigger to play multimedia, the MRFC shall initiate the
Start playing multimedia procedure.
If it is to play multimedia to one party, the multimedia shall be played in
the external direction of the existing termination.
The MRFC shall indicate to the MRFP the multimedia identifier which may be a
single identifier or list of identifiers. The MRFC may use a single identifier
or separate identifiers per stream. If it is multiple identifiers, the MRFC
shall request the MRFP to play all media in one request. If the identifier
references a file, the file format shall be indicated. The multimedia file
format is the 3GPP multimedia file format in current version. If the
multimedia file provides different audio or video codec than the session
codec, the MRFP shall transcode the input codec into the session codec.
The MRFC may request the MRFP to play the multimedia in a loop continuously
until requested to be stopped or in a loop with a fixed number of times. For
the latter case, if the fixed number of times is exhausted, the playing
multimedia is completed successfully.
The MRFC may request the MRFP to detect DTMF digit while playing multimedia,
and may request the MRFP to stop playing multimedia when DTMF digits is
detected. For the latter case, only the multimedia completion is notified.
The MRFC may request the MRFP to detect the multimedia completion, and notify
the completion event and cause to the MRFC. The play multimedia is completed
when either of the following has occurred;
\- the multimedia has been completed successfully,
\- a DTMF digit is detected by the MRFP or:
\- the playing multimedia is not successful.
#### 6.2.7.4 Stop playing multimedia
After reception of a trigger to stop playing multimedia, the MRFC shall
request the MRFP to stop playing multimedia.
#### 6.2.7.5 Playing multimedia completed
When a playing multimedia is completed, if the MRFC has requested the MRFP to
notify the playing multimedia completion, the MRFP shall notify the multimedia
completion event and the cause to the MRFC. The cause of the playing
multimedia completion may be the playing multimedia has been completed
successfully, or a DTMF digit is detected by the MRFP, or the playing
multimedia is not successful. Then the MRFC may indicate to the AS that the
playing multimedia has been stopped.
#### 6.2.7.6 Message sequence chart
Figure 6.2.7.2 shows the message sequence chart example for playing
multimedia.
{width="6.579861111111111in" height="5.720138888888889in"}
Figure 6.2.7.2 Play multimedia (message sequence chart)
#### 6.2.7.7 Start playing message
After reception of a trigger to play message, the MRFC shall initiate the
Start playing message procedure.
If it is to play message to one party, the message shall be played in the
external direction of the existing termination.
The MRFC shall indicate to the MRFP the message identifier which may be a
single identifier or list of identifiers. The MRFC may use a single identifier
or separate identifiers per stream. If it is message identifiers, the MRFC
shall request the MRFP to play all media in one request. If the message
references a file, the file message file formats shall comply with the file
formats used inside MMS(Multimedia Messaging Service) as specified in the 3GPP
TS 26.140 [22] in current version.
The MRFC may request the MRFP to notify the completion event and cause to the
MRFC. The play message is completed when either of the following has occurred;
\- the message has been completed successfully, or:
\- the playing message is not successful.
#### 6.2.7.8 Stop playing message
After reception of a trigger to stop playing message, the MRFC shall request
the MRFP to stop playing message.
#### 6.2.7.9 Playing message completed
When a playing message is completed, if the MRFC has requested the MRFP to
notify the playing message completion, the MRFP shall notify the message
completion event and the cause to the MRFC. The cause of the playing message
completion may be the playing message has been completed successfully, or the
playing message is not successful. Then the MRFC may indicate to the AS that
the playing message has been stopped.
#### 6.2.7.10 Message sequence chart
Figure 6.2.7.3 shows the message sequence chart example for playing message.
Figure 6.2.7.3 Play message (message sequence chart)
### 6.2.8 Multimedia Record Procedure
#### 6.2.8.1 General
The following procedure assumes the IMS session has already been established
and the bearer is through-connected, and the MRFC has received a trigger to
record multimedia, and the MRFP selected for the call has the capabilities to
provide multimedia record. The clauses 6.2.8.3- 6.2.8.6 specify the procedures
to record the synchronized audio and video media stream(s). The clauses
6.2.8.aa- 6.2.8.dd describe the procedures for message record.
NOTE: This procedure may also be ordered in combination with the session
establishment procedure.
#### 6.2.8.2 H.248 context model
The figure 6.2.8.1 shows the H.248 context model for the multimedia record.
The termination used for recording may have up to three streams, which are any
combination of audio, video and messaging media stream(s). The H.248 command
can be processed in the termination to record multimedia and detect the record
multimedia completed event.
Figure 6.2.8.1: Multimedia Record Context Model
#### 6.2.8.3 Start multimedia Record
After reception of a trigger to record multimedia, the MRFC shall initiate the
Start multimedia record procedure.
If it is to record one party, only the input stream of the party is recorded.
If it is to record all parties, the mixed stream of all parties is recorded.
When recording multimedia from all terminations in a context (for two-party
sessions or a conference) the MRFC may request the MRFP to assign a new
termination to record the multimedia in the context.
If other signals such as playing announcement are requested to be executed on
the same termination as the termination to perform the recording the signals
shall not override each other, e.g. the recording shall not be interrupted.
The MRFC shall indicate the record file URI and the record file format to the
MRFP. The record file URI can be generated by the AS/MRFC or by the MRFP. For
the second case, the MRFC shall indicate the MRFP to generate the URI and
return the generated URI to the MRFC. The record file format is the 3GPP
multimedia file format, defined in the 3GPP TS 26.244[5]. The MRFC may
indicate the maximum record time to the MRFP, when this time has elapsed, the
MRFP shall stop the multimedia recording.
The MRFC may request the MRFP to detect the multimedia recording completion,
and notify the completion event and cause to the MRFC. The multimedia
recording is completed when either of the following occurs;
\- the maximum time period of multimedia recording has elapsed,
> \- a DTMF digit is detected by the MRFP where the DTMF key sequence shall
> stop or cancel the multimedia recording,
>
> \- DTMF digits are detected by the MRFP where the DTMF key sequence shall
> stop or cancel the audio recording,
\- the MRFC requests the MRFP to stop the audio recording, or
\- the media recording is not successful.
#### 6.2.8.4 Stop multimedia record
After reception of a trigger to stop multimedia record, the MRFC shall request
the MRFP to stop the multimedia recording. If the multimedia recording
termination is added, the MRFC shall request the MRFP to subtract it.
#### 6.2.8.5 Multimedia record Completed
When a multimedia recording is completed, if the multimedia recording is
successful, the MRFP shall save the recorded content to the specified URI. If
the multimedia recording is not successful, the MRFP shall discard the
recorded content. If the MRFC has requested the MRFP to notify the multimedia
recording completion, the MRFP shall notify the multimedia recording
completion event to the MRFC. The cause of the multimedia recording completion
may be that the maximum record time has elapsed, a DTMF digit that represents
to finish or cancel the multimedia recording is detected by the MRFP, or the
multimedia recording is not successful. Then the MRFC may indicate to the AS
that the multimedia record has been stopped.
#### 6.2.8.6 Message sequence chart
Figure 6.2.8.2 shows the message sequence chart example for multimedia record.
{width="6.498611111111111in" height="4.844444444444444in"}
Figure 6.2.8.2 Multimedia record (message sequence chart)
#### 6.2.8.7 Start Message Record
After reception of a trigger to record message, the MRFC shall initiate the
Start message record procedure.
If it is to record one party, only the input stream of the party is recorded.
If it is to record all parties, the message streams of all parties are
recorded.
When recording message from all terminations in a context (for two-party
sessions or a conference) the MRFC may request the MRFP to assign a new
termination to record the message in the context.
If other signals such as playing announcement are requested to be executed on
the same termination as the termination to perform the recording the signals
shall not override each other, e.g. the recording shall not be interrupted.
The MRFC may indicate the record file URI and the record file format to the
MRFP. The record file URI can be generated by the AS/MRFC or by the MRFP. For
the second case, the MRFC shall indicate the MRFP to generate the URI and
return the generated URI to the MRFC. The record file formats shall comply
with the file formats used inside MMS(Multimedia Messaging Service) as
specified in the 3GPP TS 26.140 [22] in the current version. The MRFC may
indicate the maximum record time to the MRFP, when this time has elapsed, the
MRFP shall stop the message recording.
The MRFC may request the MRFP to detect the message recording completion, and
notify the completion event and cause to the MRFC. The message recording is
completed when either of the following occurs;
\- the maximum time period of message recording has elapsed,
\- the MRFC requests the MRFP to stop the recording, or
\- the media recording is not successful.
#### 6.2.8.8 Stop Message record
After reception of a trigger to stop message record, the MRFC shall request
the MRFP to stop the message recording. If the message recording termination
is added, the MRFC shall request the MRFP to subtract it.
#### 6.2.8.9 Message record Completed
When a message recording is completed, if the message recording is successful,
the MRFP shall save the recorded content to the specified URI. If the message
recording is not successful, the MRFP shall discard the recorded content. If
the MRFC has requested the MRFP to notify the message recording completion,
the MRFP shall notify the message recording completion event to the MRFC. The
cause of the message recording completion may be that the maximum record time
has elapsed, or the message recording is not successful. Then the MRFC may
indicate to the AS that the message record has been stopped.
#### 6.2.8.10 Message sequence chart
Figure 6.2.8.10.1 shows the message sequence chart example for message record.
Figure 6.2.8.10.1 Message record (message sequence chart)
### 6.2.9 Audio Conference Procedure
#### 6.2.9.1 Context Model
A conference consists of one context with terminations representing each user.
The MRFP shall consider the context to represent an ad-hoc conference when
three or more terminations have been through-connected.
#### 6.2.9.2 Ad-hoc Conferences
##### 6.2.9.2.1 General
An ad-hoc conference starts without any prior booking or reservation when a
user initiates the conference, for further definition of ad-hoc conference,
see 3GPP TS 24.147 [4]. Further participants can then be added to the
conference without any prior reservation of resources, through either a method
of \"dial-out\" where the conference calls the participant, or by a \"dial-
in\" scenario where the end user calls the conference.
##### 6.2.9.2.2 Create Ad-hoc Audio Conference Procedure
The MRFC receives a trigger to create an ad-hoc conference. The MRFC then
initiates the \"Reserve and Configure IMS Resources\" procedure as specified
in subclause 8.20.
The MRFC:
Requests a new context and a new bearer termination including the Remote
Connection Address.
The MRFP:
Creates a new context
Adds a new termination to the context and returns the Local Connection
Address.
The MRFC:
Notifies the new user about the Local Connection Address.
Figure 6.2.9.1 shows the message sequence chart example for creating
conference procedure.
Figure 6.2.9.1 Create Ad-hoc conference
##### 6.2.9.2.3 Closure of Audio Conference Procedure
The MRFP will in accordance with the general rules of H.248.1 delete the
context when the last termination has been subtracted from the context.
##### 6.2.9.2.4 Add Subsequent User to Conference; Dial-out
The MRFC receives a trigger to add a new bearer termination. The trigger does
not contain connection address nor resources that the new participant can use.
The MRFC adds a new bearer termination by initiating the \"Reserve IMS
Resources\" procedure as specified in subclause 8.21.
The MRFC:
Requests a bearer termination to be added to the existing context.
The MRFP:
Adds a bearer termination to the existing context and notifies the MRFC about
its reserved resources and connection address.
The MRFC:
Sends a notification to the new user about the MRFP's resources and connection
address.
The MRFC will then receive a trigger containing the new user's address and
resources. The MRFC initiates the \"Configure IMS resources\" procedure as
specified in subclause 8.22.
The MRFC:
Requests that remote address and resources be configured to the termination
The MRFP:
Modifies the termination using the received data and confirms the action
The MRFC:
Notifies the new participant about the result
Figure 6.2.9.2 shows the message sequence chart example for dial-out
procedure.
Figure 6.2.9.2 Procedure to add user in Dial-out scenario
##### 6.2.9.2.5 Add subsequent user to conference; Dial-in
Precondition is that a conference exists. The MRFC receives a trigger to add a
new user including Remote Connection Address. The MRFC then initiates the
\"Reserve and Configure IMS Resources\" procedure as specified in subclause
8.20.
The MRFC:
Requests a new bearer termination, including the Remote Connection Address, to
be added to the existing context.
The MRFP:
Adds a new termination to the existing context and returns the Local
Connection Address.
The MRFC notifies the new user about the Local Connection Address.
Figure 6.2.9.3 shows the message sequence chart example for dial-in procedure.
Figure 6.2.9.3 Procedure to add user in Dial-in scenario
##### 6.2.9.2.6 Remove Conference Participant Procedure
When the MRFC receives a trigger that a user has left the conference, it
initiates the \"Release IMS termination\" procedure as specified in subclause
8.23.
The MRFC:
Requests that the termination is released.
The MRFP:
Releases the termination and informs the MRFC about the result.
Figure 6.2.9.4 shows the message sequence chart example for removing
conference participant procedure.
{width="4.986805555555556in" height="3.736111111111111in"}
Figure 6.2.9.4 Procedure to remove conference participant
### 6.2.10 Multimedia Conference Procedures
#### 6.2.10.1 Context Model
A conference consists of one context with terminations representing
connections to the participants. Each termination shall support up to three
streams, one for audio, one for messaging and one for video. The MRFP shall
consider the context to represent an ad-hoc conference when three or more
terminations have been through-connected.
It is possible for a user supporting only one media, represented by one
stream, to join a conference. The user will then only participate in the part
of the conference that is using the supported stream.
#### 6.2.10.2 Ad-hoc Conferences
##### 6.2.10.2.1 General
An ad-hoc conference starts without any prior booking or reservation when a
user initiates the conference, for further definition of ad-hoc conference,
see 3GPP TS 24.147 [4]. Further participants can then be added to the
conference without any prior reservation of resources, through either a method
of \"dial-out\" where the conference calls the participant, or by a \"dial-
in\" scenario where the end user calls the conference.
##### 6.2.10.2.2 Create Ad-hoc Multimedia Conference Procedure
The MRFC receives a trigger to create an ad-hoc conference. The MRFC then
initiates the \"Reserve and Configure IMS Resources\" procedure as specified
in subclause 8.20, where the connection address and resources shall have
multiple values for speech, messaging and video.
The MRFC:
Requests a new context and a new bearer termination including the Remote
Connection Addresses.
The MRFP:
Creates a new context
Adds a new termination to the context and returns the Local Connection
Address.
The MRFC:
Notifies the new user about the Local Connection Address.
Figure 6.2.10.1 shows the message sequence chart example for creating
multimedia conference procedure.
Figure 6.2.10.1 Create Ad-hoc conference
##### 6.2.10.2.3 Closure of Multimedia Conference Procedure
The MRFP will in accordance with the general rules of H.248.1 delete the
context when the last termination has been subtracted from the context..
##### 6.2.10.2.4 Add Subsequent User to Conference; Dial-out
Precondition for this procedure is that a conference exists. The MRFC receives
a trigger to add a new bearer termination. The trigger does not contain
connection address nor resources that the new participant can use. The MRFC
adds a new bearer termination by initiating the \"Reserve IMS Resources\"
procedure as specified in subclause 8.21 where the connection address and
resources may have multiple values for speech, messaging and video.
The MRFC:
Requests a bearer termination to be added to the existing context.
The MRFP:
Adds a bearer termination to the existing context and notifies the MRFC about
its reserved resources and connection address.
The MRFC:
Sends a notification to the new user about the MRFP's resources and connection
address.
The MRFC will then receive a trigger containing the new user's address and
resources. The MRFC initiates the \"Configure IMS resources\" procedure as
specified in subclause 8.22 where the connection address and resources may
have multiple values for speech, messaging and video.
The MRFC:
Requests that remote address and resources be configured to the termination
The MRFP:
Modifies the termination using the received data and confirms the action
The MRFC:
Notifies the new participant about the result
Figure 6.2.10.2 shows the message sequence chart example for dial-out
procedure of multimedia conference.
Figure 6.2.10.2 Procedure to add user in Dial-out scenario
##### 6.2.10.2.5 Add subsequent user to conference; Dial-in
Precondition is that a conference exists. The MRFC receives a trigger to add a
new user including Remote Connection Address. The MRFC then initiates the
\"Reserve and Configure IMS Resources\" procedure as specified in subclause
8.20 where the connection address and resources may have multiple values for
speech, messaging and video.
The MRFC:
Requests a new bearer termination, including the Remote Connection Address, to
be added to the existing context.
The MRFP:
Adds a new termination to the existing context and returns the Local
Connection Address.
The MRFC notifies the new user about the Local Connection Address.
Figure 6.2.10.3 shows the message sequence chart example for dial-in procedure
of multimedia conference.
Figure 6.2.10.3 Procedure to add user in Dial-in scenario
##### 6.2.10.2.6 Remove Conference Participant Procedure
When the MRFC receives a trigger that a user has left the conference, it
initiates the \"Release IMS termination\" procedure as specified in subclause
8.23.
The MRFC:
Requests that the termination is released.
The MRFP:
Releases the termination and informs the MRFC about the result.
Figure 6.2.10.4 shows the message sequence chart example for removing
multimedia conference participant procedure.
{width="4.997222222222222in" height="3.7430555555555554in"}
Figure 6.2.10.4 Procedure to remove conference participant
#### 6.2.10.3 Message Conferencing
The procedures specified in clauses 6.2.10.1- 6.2.10.6 for \"General
Multimedia Conferencing\" shall be followed. The following clauses describe
the additional requirements for the message conferencing.
##### 6.2.10.3.1 General
For message conferencing, the Message Session Relay Protocol (MSRP) (see IETF
RFC 4975 [18]) shall be used to transport messages. The message content may
carry different media including text, image, video and audio. The Media types
shall be MIME encoded. The TCP connection that the MSRP runs over shall be
established when adding a new participant into the conference by including the
SDP attribute for MSRP/TCP. In order to manage the message conferencing, the
following features may be supported:
\- Message statistics.
\- Message filtering.
##### 6.2.10.3.2 Messages Statistics
The MRFP may report the statistics for the number of messages sent and/or
received in two ways described as following.
  1. The MRFC indicates quotas granted to the MRFP. The granted quotas indicate the units specifying the number of messages or volume of messages allowed to be received or sent by users. The MRFC may also indicate to the MRFP a valid time together with the granted quotas. The valid time indicates the time until the specific unit may be measured, after which the quota shall be reported, whether or not it has reached its granted quota. The MRFC initiates this via the \"Configure Granted Quota\" procedure as specified in subclause 8.50. The quotas granted by MRFC may include any of the following:
  2. Quota for number of messages sent
  3. Quota for number of messages received
  4. Quota for volume (size) of messages sent
  5. Quota for volume (size) of messages received
> When the quota granted is reached or the valid time elapses the MRFP shall
> report statistics information of messages according to the indication by the
> MRFC. The MRFP uses the \"Report Message Statistics\" procedure as specified
> in subclause 8.51 to report the statistics of messages. The statstistics of
> messages sent and/or received may include any of the following:
  * number of messages sent
  * number of messages received
  * volume (size) of messages sent
  * volume (size) of messages received
  * reason for report i.e. quota reached or granted time elapsed
```{=html}
``` \- 2. The MRFC requests the MRFP to report the statistics information > of
messages sent and/or received at the end of the session or > during the
session. In this case, the quotas or the valid time is > not required, and the
MRFP should report the statistics of message > as requested by the MRFC. The
statstistics of messages are the > same as described above.
Figure 6.2.10.3.2.1 shows the message sequence chart example for reporting
message statistics.
Figure 6.2.10.3.2.1 Message statistics according to the granted quota
###### 6.2.10.3.3 Message Filtering
When the MRFC receives the trigger to config the filtering rules, the MRFC may
initiate the \"Configure Filtering Rules\" procedure as specified in subclause
8.52 to set filtering rules in the MRFP. The filtering rule is composed of two
parts: the criteria and the treatment of the filtered message. The MRFP should
handle messages according to the filtering rules.
The MRFC may indicate to the MRFP the following criterias:
Sender address
Message size
Message content type (e.g. video, audio)
Message content format(e.g. mpeg, jpeg)
Message subject
The MRFC may indicate to the MRFP the following message treatments:
> Block the delivery of the message content
>
> Store the message content
>
> Redirect the message to another address
The MRFC may indicate to the MRFP the \"store url\" when messages storage is
needed, or the MRFC may indicate the MRFP to allocate the \"store url\" and
return the generated \"store url\" to the MRFC.
The MRFC may indicate to the MRFP the \"redirect url\" when messages
redirection is needed.
Figure 6.2.10.3.3.1 shows the message sequence chart example to config the
filtering rules.
Figure 6.2.10.3.3.1 Configure the filtering rules
### 6.2.11 Audio Transcoding Procedure
As transcoding is considered a basic feature of a MRFP, the MRFC does not
explicitly request transcoding. It is expected that the MRFP determines when
transcoding is applied, for example, when the MRFC specifies the audio codec
to be applied for a given stream in a context, if there are any other audio
terminations in the context and the stream modes permit data flow between
these terminations and where the source encodings are not compatible then the
MRFP transcodes the stream between these terminations.
### 6.2.12 Video Transcoding Procedure
As transcoding is considered a basic feature of an MRFP the MRFC does not
explicitly request transcoding. It is expected that the MRFP determines when
transcoding is applied, for example, when the MRFC specifies the video codec
to be applied for a given stream in a context, if there are any other
terminations supporting video in the context and the stream modes permit data
flow between these terminations and where the source encodings are not
compatible then the MRFP transcodes the stream between these terminations.
### 6.2.13 Floor Control
#### 6.2.13.1 General
Floor control offers control of shared conference resources at the MRFP(s).
Floor control protocol (BFCP) is used to convey the Floor control messages
between the Floor Chair of the conference, the Floor Control Server, and the
Floor Participants of the conference. All Floor control messages go via the
Floor Control Server. Processing (granting or rejecting) Floor control
requests is done by the one or more Floor chairs or by the FCS itself,
depending on the Floor Control Policy.
The location of the Floor Control Server may be in either the MRFC or the MRFP
depending on the complexity/distribution of the conference. However when
located in the MRFP, the MRFP shall forward the Floor request decision to the
MRFC in order to execute the changes to the Floor Participant\'s granted
permissions.
#### 6.2.13.2 Floor Control within the MRFP
##### 6.2.13.2.1 Floor Control Connection Establishment
The set of data to establish a BFCP connection shall be exchanged in
accordance with IETF RFC 4583 [21]. A Floor control connection, which requires
a BFCP/TCP protocol termination property, shall be established between the UE
and the Floor Control Server, located in the MRFP. The MRFC shall initiate the
\"Configure BFCP Termination\" procedure as specified in clause 8.44 to
indicate to the MRFP the remote Floor control Client connection address and
request the local Floor control Client connection address. The MRFP shall
return the local Floor control Client connection address to the MRFC. The
Floor control connection may be initiated by the UE or the MRFP (FCS).
  * It is a prerequisite that the conference is configured using \"Configure Conference for Floor Control\" procedure as described in clause 6.2.13.2.2, which is used to set the common data of the conference for Floor control.
The combined sequence is shown in Figure 6.2.13.2.1.1
Figure 6.2.13.2.1.1: Combined procedures to Configure Conference and add a
Floor Control Termination
##### 6.2.13.2.2 Configure Conference and Floor Control Policy Indication
The \"Configure Conference For Floor Control\" procedure, specified in Clause
8.45 shall be used to set up a conference and to modify FCS properties such as
the Floor Control Policy. The procedure defines common data for all BFCP
users, these properties are defined on Context level.
The common data include:
\- Floor-Resource Associations, which indicates the correlation between Floor
ID and media properties for the MRFP to identify the Floor(s) when receiving
BFCP requests and notifying the MRFC of decisions to change the floor
permissions for a given user (termination).
\- Conference Identifier, which indicates the Conference Identifier for the
BFCP client to identify the conference when sending BFCP requests.
Floor Control Policy. This consists of:
\- The Floor control algorithm to be used in granting the Floor, either:
\- The FCFS algorithm or
\- The chair-controlled algorithm.
\- The maximum number of users who can hold the Floor at the same time.
Figure 6.2.13.2.2.1 shows the message sequence chart example for configuring a
conference for Floor control.
Figure 6.2.13.2.2.1 Procedure to Configure Conference for Floor Control
##### 6.2.13.2.3 Floor Chair Designation
If the Floor Control Policy indicates that the conference is Chair-controlled,
the MRFC shall indicate to the MRFP which termination represents the Floor
Chair and which Floor(s) the Floor Chair controls using the \"Designate Floor
Chair\" procedure as specified in clause 8.46.
The MRFC may also change the Floor Chair as needed using the \"Designate Floor
Chair\" procedure as specified in clause 8.46.
NOTE: There may be one or more Floor Chairs in a conference. But one media
stream can be controlled by only one chair.
It is a prerequisite that the conference is configured and the termination
configured for BFCP using \"Configure Conference for Floor Control\" and
\"Configure BFCP Termination\" procedures respectively.
NOTE: These procedures may be requested at same time.
Figure 6.2.13.2.3.1 shows the message sequence chart example for designating
Floor Chair.
Figure 6.2.13.2.3.1 Procedure to designate Floor Chair
##### 6.2.13.2.4 Floor Request Decision
The MRFC shall request the MRFP to notify the decision of Floor request using
the \"Floor Decision Request\" procedure as specified in clause 8.47. The MRFP
shall then notify the MRFC the outcome of the Floor Request, when the FCS has
made the decision to change the status to \"Granted\", \" Released \" or \"
Revoked \" ( The status is defined as REQUEST-STATUS in IETF RFC 4582[20]),
using the \"Report Floor Status Decision\" procedure as specified in clause
8.48.
The Floor Request Decision information is used by the MRFC to decide how to
set the media properties of the associated Termination/Stream on the MRFP.
The MRFP shall indicate the Floor Identity or Identities to which the Floor
decision is associated. The MRFP sends one notification per Floor decision for
a given termination and only one notification per termination shall be
outstanding at any time.
Figure 6.2.13.2.4.1 shows the message sequence chart example for requesting
and reporting Floor Request decisions.
Figure 6.2.13.2.4.1 Procedure to request and report Floor Request decisions
##### 6.2.13.2.5 Media Update and Confirmation
The MRFC modifies media properties associated with the Floor Request Decision
received from the MRFP using the \"Modify Media\" procedure defined in Clause
8.59; this will be either adding permissions if the \"status\" was granted or
removing the permissions if the \"status\" was revoked or released. The MRFC
shall indicate to the MRFP when it has successfully modified the media
properties based on the provided Floor Request Decisions notification using
the \"Confirm Media Update \" procedure as specified in clause 8.49. The MRFP
shall then modify the Floor status of the associated Client.
Figure 6.2.13.2.5.1 shows the message sequence chart example for modifying the
media and confirming media update based on Floor Request status.
Figure 6.2.13.2.5.1 Procedures to modify the media and confirm media update
##### 6.2.13.2.6 Floor Control Procedure
A Floor Participant may request one or more Floors by sending a BFCP request
message to the MRFP (FCS).
The MRFP (FCS) informs the Floor Chair, if present, about a Floor
Participant\'s Floor request via BFCP.
The Floor Chair sends to the MRFP (FCS) the decision to the Floor
Participant\'s Floor requests. If the Floor is not Chair-controlled, the FCS
located in the MRFP shall make the decision itself according to the Floor
Control Algorithm.
The MRFP shall notify the MRFC the Floor change request decision via the
\"Report Floor Request Decision\" procedure described in Clause 6.2.13.2.4.
The MRFC requests the MRFP to modify the media properties associated with the
Floor Request decision as described in Clause 6.2.13.2.5.
The MRFC informs the MRFP that the requested media changes to satisfy the new
Floor permissions have been completed using the \"Confirm Media Update\"
procedure, see Clause 8.49.
The MRFC may request the MRFP to play tones or announcements for indicating
when a user gains or loses Floor permissions.
##### 6.2.13.2.7 Floor Control Connection Release
When the MRFC receives an indication that the Floor control connection is to
be closed, the MRFC shall command the MRFP to release the Floor control
connections.
The Floor control connection shall also be released by the MRFP when the
termination for that connection is removed.
The Floor related BFCP signalling resources are released by the MRFP when the
Floor control connection is released.
If a Floor Participant owns a Floor when releasing the Floor control
connection, the MRFP(FCS) shall revoke the Floor permission.
##### 6.2.13.2.8 Example Message sequence chart
Figure 6.2.13.1 shows the message sequence chart example for Floor control on
a termination which is not the Floor Chair.
Figure 6.2.13.1 Floor control (message sequence chart)
### 6.2.14 Explicit Congestion Notification Support
#### 6.2.14.1 General
If the MRFC receives a SDP Offer containing ECN negotiation, see IETF RFC 6679
[25], and the MRFC and MRFP support ECN and at least some of the
initialisation methods offered within the \"a=ecn-capable-rtp\" attribute,
NOTE: Only the \"leap\" initialisation method is supported over the Mp
interface in this release.
the MRFC shall:
\- act as an end point for ECN;
\- return a SDP Answer according to 3GPP TS 26.114 [23] and the capabilities
of the MRFP, containing the \"a=ecn-capable-rtp\" attribute; and
\- indicate to the MRFP that it shall apply the ECN procedures (according to
3GPP TS 26.114 [23]) and act as an ECT endpoint.
NOTE: ECN XR summary reports and RTCP AVPF ECN feedback message are not
supported in this release.
When creating the SDP Offer the MRFC may initiate ECN negotiation (in
accordance with 3GPP TS 26.114 [23]), indicating the capabilities of the MRFP.
If the MRFC receives the SDP Answer also containing ECN attributes (indicating
successful ECN negotiation) then it shall indicate to the MRFP that it shall
apply the ECN procedures (according to 3GPP TS 26.114 [23]) and act as an ECT
endpoint.
The following ECN parameters are preconfigured in the MRFP:
  * Initialisation = \"leap\";
  * Mode = \"setread\";
  * ECT Marking = ECT-0;
  * Feedback is via Application Specific Adaptation Requests (i.e. Receiver Driven Congestion Control).
The MRFP should not send RTCP XR ECN summary reports.
The procedure to configure the MRFP for ECN may be combined with any other
procedure requesting media resource from the MRFP.
#### 6.2.14.2 Message sequence chart, Request ECN
Figure 6.2.14.2.1 shows the message sequence chart example for requesting
Explicit Congestion Notification.
Figure 6.2.14.2.1: Procedure to Request ECN
Upon receipt of a request to apply Explicit Congestion Notification the MRFP
shall set the ECN field of the IP header in accordance with 3GPP TS 26.114
[23] when sending any data packets.
Upon receipt of any IP headers indicating Congestion Experienced (ECN-CE) the
MRFP shall trigger rate adaptation in accordance with 3GPP TS 26.114 [23].
#### 6.2.14.3 Message sequence chart, Report ECN Failure Event
Figure 6.2.14.3.1 shows the message sequence chart example for ECN Failure
Event.
Figure 6.2.14.3.1: Procedure to Report ECN Failure
When the MRFC receives a Notification indicating that an error has occurred it
may trigger a new SDP offer to remove ECN.
### 6.2.15 Multimedia Priority Service Congestion Control Procedures
#### 6.2.15.1 General
The MRFC and MRFP may support the priority treatment of a call/session
identified as an MPS call/session. This clause describes the Mp signalling
procedures and their interactions with SIP signalling in the control plane and
with user plane procedures to support the requirements for MPS. These Mp
signalling procedures may or may not apply depending on the network
configuration (e.g. whether the MRFP is shared by multiple MRFCs or whether
the MRFC controls multiple MRFPs for a given route -- Media Gateway Group).
The MRFC can receive a SIP INVITE with MPS priority information (see 3GPP TS
23.228 [1], subclause 5.21).
#### 6.2.15.2 MRFP Resource Congestion in ADD response, request is queued
If the MRFC requests a resource via the Reserve and Configure IMS Resources
procedure or Reserve IMS Resources procedure and receives an error indicating
that the requested resource could not be seized (e.g. H.248 error code #510
\"insufficient resources\") and the MRFC does not have an alternative MRFP
through which it can route the call/session, the MRFC queues the priority
call/session and gives it priority over any further Reserve and Configure IMS
Resources or Reserve IMS Resources procedures for lower priority
calls/sessions towards this MRFP until the requested resource for this queued
call/session is successfully seized. The example sequence is shown in Figure
6.2.15.2.1.
Figure 6.2.15.2.1: Request to Reserve MPS priority call resources when MRFP is
congested
#### 6.2.15.3 MRFP Resource Congestion in ADD response, MRFC seizes new MRFP
If the MRFC requests a resource via the Reserve and Configure IMS Resources
procedure or Reserve IMS Resources procedure and receives an error indicating
that the requested resources could not be seized due to congestion (e.g. H.248
error code #510 \"insufficient resources\") and Media Gateway Groups are
implemented the MRFC seizes a new MRFP from the same Media Gateway Group
before resorting to any queuing of the priority call/session (as described in
6.2.15.2) to enable the MPS call/session to proceed as early as possible.
#### 6.2.15.4 MRFP Priority Resource Allocation
If the MRFP supports the Priority information (determined through provisioning
or package profile), the MRFC requests a resource via the Reserve and
Configure IMS Resources procedure or Reserve IMS Resources procedure and
includes the Priority information. The MRFP may then provide priority
allocation of resources once a congestion threshold is reached. The example
sequence is shown in Figure 6.2.15.4.1. If the MRFP is completely congested it
shall indicate this to the MRFC as described in 6.2.15.2.
Figure 6.2.15.4.1: Request to reserve MPS priority call resources when MRFP is
congested, priority resources are allocated
#### 6.2.15.5 MRFP Priority User Data marking
The MRFC may request the streams associated to an MPS call/session to be
marked with certain priority code point. The MRFP shall then mark each IP
packet header accordingly. The example sequence is shown in Figure 6.2.15.5.1.
Figure 6.2.15.5.1: Request to reserve IMS resources and apply DSCP marking for
MPS
The MRFP may also provide priority allocation for resources requested via a
subsequent Configure IMS Resources procedure not including Priority
information if the related context has been marked with priority information
during the Reserve IMS Resources procedure or Reserve and Configure IMS
Resources procedure.
# 7 Charging
The charging is specified in 3GPP TS 32.260[14]; no requirements are
identified for the Mp interface.
# 8 Messages/Procedures and contents
## 8.1 General
This clause describes logical signalling procedures between the MRFC and MRFP.
The procedures within this clause are intended to be implemented using the
standard H.248 procedure as defined in ITU recommendation H.248.1 [3] with
appropriate parameter combinations.
## 8.2 Send tone
This procedure is used to send a tone.
Table 8.2.1: Procedures between MRFC and MRFP: Send Tone
+-------------+-------------+-------------+-------------+-------------+ | ** | ** | ** | ** | ** | | Procedure**| Initiated** | Information | Information | Information | | | | element | element | element | | | | name**| required** | de | | | | | | scription** | +-------------+-------------+-------------+-------------+-------------+ | Send Tone | Context | M | This | | | | | | information | | | MRFC | | | element | | | | | | indicates | | | | | | the context | | | | | | for the | | | | | | bearer | | | | | | t | | | | | | ermination. | | +-------------+-------------+-------------+-------------+-------------+ | | Bearer | M | This | | | | Termina | | information | | | | tion/Bearer | | element | | | | Termination | | indicates | | | | Request | | the | | | | | | existing | | | | | | bearer | | | | | | termination | | | | | | or requests | | | | | | a new | | | | | | bearer | | | | | | termination | | | | | | where the | | | | | | tone is | | | | | | sent. | | +-------------+-------------+-------------+-------------+-------------+ | | Tone | M | This | | | | | | information | | | | | | element | | | | | | indicates | | | | | | the tone to | | | | | | be | | | | | | generated. | | +-------------+-------------+-------------+-------------+-------------+ | | Notify Tone | O | This | | | | Completion | | information | | | | | | element | | | | | | requests a | | | | | | n | | | | | | otification | | | | | | of a | | | | | | completed | | | | | | tone. | | +-------------+-------------+-------------+-------------+-------------+ | | Tone | O | This | | | | Direction | | information | | | | | | element | | | | | | indicates | | | | | | the tone | | | | | | direction | | | | | | in the | | | | | | bearer | | | | | | t | | | | | | ermination. | | +-------------+-------------+-------------+-------------+-------------+ | | Tone Timing | O | This | | | | | | information | | | | | | element | | | | | | indicates | | | | | | the time | | | | | | for the | | | | | | tone. | | +-------------+-------------+-------------+-------------+-------------+ | | DTMF | O | This | | | | trigger | | information | | | | | | element | | | | | | indicates | | | | | | the MRFP to | | | | | | detect the | | | | | | DTMF and | | | | | | the MRFP | | | | | | should stop | | | | | | the tone | | | | | | when a DTMF | | | | | | digit is | | | | | | detected. | | +-------------+-------------+-------------+-------------+-------------+ | | Notify | C | This | | | | termination | | information | | | | heartbeat | | element | | | | | | requests | | | | | | termination | | | | | | heartbeat | | | | | | i | | | | | | ndications. | | | | | | This | | | | | | information | | | | | | element | | | | | | shall be | | | | | | included | | | | | | when | | | | | | requesting | | | | | | a new | | | | | | bearer | | | | | | t | | | | | | ermination. | | +-------------+-------------+-------------+-------------+-------------+ | Send Tone | MRFP | Context | M | This | | Ack | | | | information | | | | | | element | | | | | | indicates | | | | | | the context | | | | | | where the | | | | | | command was | | | | | | executed. | +-------------+-------------+-------------+-------------+-------------+ | | | Bearer | M | This | | | | Termination | | information | | | | | | element | | | | | | indicates | | | | | | the bearer | | | | | | termination | | | | | | where the | | | | | | command was | | | | | | executed. | +-------------+-------------+-------------+-------------+-------------+
NOTE This procedure may be combined with other procedures such as to ADD
bearer connections.
## 8.3 Stop tone
This procedure is used to stop the tone.
Table 8.3.1: Procedures between MRFC and MRFP: Stop Tone
* * *
**Procedure** **Initiated** **Information element name** **Information element
required** **Information element description** Stop Tone MRFC Context M This
information element indicates the context for the bearer termination. Bearer
Termination M This information element indicates the bearer termination where
the tone is stopped. Stop Tone M This information element requests that tone
generation is stopped. Stop Tone Ack MRFP Context M This information element
indicates the context where the command was executed. Bearer Termination M
This information element indicates the bearer termination where the command
was executed.
* * *
## 8.4 Tone completed
This procedure is used to notify the completed tone.
Table 8.4.1: Procedures between MRFC and MRFP: Tone Completed
* * *
**Procedure** **Initiated** **Information element name** **Information element
required** **Information element description** Tone Completed MRFP Context M
This information element indicates the context for the bearer termination.
Bearer Termination M This information element indicates the bearer termination
where the tone was completed. Tone Completed M This information element
indicates completion of the tone. Cause M This information element indicates
the cause of tone completion. Tone Completed Ack MRFC Context M This
information element indicates the context where the command was executed.
Bearer Termination M This information element indicates the Bearer Termination
where the command was executed.
* * *
## 8.5 Start announcement
This procedure is used to request to start announcement.
Table 8.5.1: Procedures between MRFC and MRFP: Start announcement
+-------------+-------------+-------------+-------------+-------------+ | ** | ** | ** | ** | ** | | Procedure**| Initiated** | Information | Information | Information | | | | element | element | element | | | | name**| required** | de | | | | | | scription** | +-------------+-------------+-------------+-------------+-------------+ | Start | Context | M | This | | | a | | | information | | | nnouncement | | | element | | | | | | indicates | | | MRFC | | | the context | | | | | | for the | | | | | | bearer | | | | | | t | | | | | | ermination. | | +-------------+-------------+-------------+-------------+-------------+ | | Bearer | M | This | | | | Termina | | information | | | | tion/Bearer | | element | | | | Termination | | indicates | | | | Request | | the | | | | | | existing | | | | | | bearer | | | | | | termination | | | | | | or requests | | | | | | a new | | | | | | bearer | | | | | | termination | | | | | | where the | | | | | | a | | | | | | nnouncement | | | | | | is sent. | | +-------------+-------------+-------------+-------------+-------------+ | | A | M | This | | | | nnouncement | | information | | | | identifier | | element | | | | | | indicates | | | | | | the | | | | | | a | | | | | | nnouncement | | | | | | or | | | | | | a | | | | | | nnouncement | | | | | | list to be | | | | | | played. | | +-------------+-------------+-------------+-------------+-------------+ | | Audio file | O | This | | | | format | | information | | | | | | element | | | | | | indicates | | | | | | the audio | | | | | | file type, | | | | | | such as the | | | | | | 3GPP file | | | | | | type. | | +-------------+-------------+-------------+-------------+-------------+ | | Direction | O | This | | | | | | information | | | | | | element | | | | | | indicates | | | | | | the | | | | | | a | | | | | | nnouncement | | | | | | direction | | | | | | in the | | | | | | bearer | | | | | | t | | | | | | ermination. | | +-------------+-------------+-------------+-------------+-------------+ | | Iterations | O | This | | | | | | information | | | | | | element | | | | | | indicates | | | | | | the number | | | | | | of times | | | | | | the | | | | | | a | | | | | | nnouncement | | | | | | shall be | | | | | | played | | +-------------+-------------+-------------+-------------+-------------+ | | Variable | O | This | | | | List | | information | | | | | | element | | | | | | indicates | | | | | | the | | | | | | variable or | | | | | | variable | | | | | | list to be | | | | | | played. | | +-------------+-------------+-------------+-------------+-------------+ | | Notify | O | This | | | | A | | information | | | | nnouncement | | element | | | | Completed | | requests a | | | | | | n | | | | | | otification | | | | | | of a | | | | | | completed | | | | | | an | | | | | | nouncement. | | +-------------+-------------+-------------+-------------+-------------+ | | DTMF stop | O | This | | | | a | | information | | | | nnouncement | | element | | | | | | indicates | | | | | | whether the | | | | | | MRFP should | | | | | | stop the | | | | | | a | | | | | | nnouncement | | | | | | when a DTMF | | | | | | digit is | | | | | | detected. | | +-------------+-------------+-------------+-------------+-------------+ | | Notify | C | This | | | | termination | | information | | | | heartbeat | | element | | | | | | requests | | | | | | termination | | | | | | heartbeat | | | | | | i | | | | | | ndications. | | | | | | This | | | | | | information | | | | | | element | | | | | | shall be | | | | | | included | | | | | | when | | | | | | requesting | | | | | | a new | | | | | | bearer | | | | | | t | | | | | | ermination. | | +-------------+-------------+-------------+-------------+-------------+ | Start | MRFP | Context | M | This | | a | | | | information | | nnouncement | | | | element | | Ack | | | | indicates | | | | | | the context | | | | | | where the | | | | | | command was | | | | | | executed. | +-------------+-------------+-------------+-------------+-------------+ | | | Bearer | M | This | | | | Termination | | information | | | | | | element | | | | | | indicates | | | | | | the bearer | | | | | | termination | | | | | | where the | | | | | | command was | | | | | | executed. | +-------------+-------------+-------------+-------------+-------------+
NOTE This procedure may be combined with other procedures such as to ADD
bearer connections.
## 8.6 Stop Announcement
This procedure is used to stop the announcement.
Table 8.6.1: Procedures between MRFC and MRFP: Stop Announcement
+-------------+-------------+-------------+-------------+-------------+ | ** | ** | ** | ** | ** | | Procedure**| Initiated** | Information | Information | Information | | | | element | element | element | | | | name**| required** | de | | | | | | scription** | +-------------+-------------+-------------+-------------+-------------+ | Stop | MRFC | Context | M | This | | A | | | | information | | nnouncement | | | | element | | | | | | indicates | | | | | | the context | | | | | | for the | | | | | | bearer | | | | | | t | | | | | | ermination. | +-------------+-------------+-------------+-------------+-------------+ | | | Bearer | M | This | | | | Termination | | information | | | | | | element | | | | | | indicates | | | | | | the bearer | | | | | | termination | | | | | | where the | | | | | | a | | | | | | nnouncement | | | | | | is stopped. | +-------------+-------------+-------------+-------------+-------------+ | | | Stop | M | This | | | | A | | information | | | | nnouncement | | element | | | | | | requests | | | | | | that | | | | | | a | | | | | | nnouncement | | | | | | playing is | | | | | | stopped. | +-------------+-------------+-------------+-------------+-------------+ | Stop | MRFP | Context | M | This | | A | | | | information | | nnouncement | | | | element | | | | | | indicates | | Ack | | | | the context | | | | | | where the | | | | | | command was | | | | | | executed. | +-------------+-------------+-------------+-------------+-------------+ | | | Bearer | M | This | | | | Termination | | information | | | | | | element | | | | | | indicates | | | | | | the bearer | | | | | | termination | | | | | | where the | | | | | | command was | | | | | | executed. | +-------------+-------------+-------------+-------------+-------------+
## 8.7 Announcement Completed
This procedure is used to notify the completed announcement.
Table 8.7.1: Procedures between MRFC and MRFP Announcement Completed
* * *
**Procedure** **Initiated** **Information element name** **Information element
required** **Information element description** Announcement Completed MRFP
Context M This information element indicates the context for the bearer
termination. Bearer Termination M This information element indicates the
bearer termination where the announcement was completed. Announcement
Completed M This information element indicates completion of the announcement.
Cause M This information element indicates the cause of announcement
completion. Announcement Completed Ack MRFC Context M This information element
indicates the context where the command was executed. Bearer Termination M
This information element indicates the Bearer Termination where the command
was executed.
* * *
## 8.8 Start audio record
This procedure is used to start the audio record.
Table 8.8.1: Procedures between MRFC and MRFP: Start audio record
+-------------+-------------+-------------+-------------+-------------+ | ** | ** | ** | ** | ** | | Procedure**| Initiated** | Information | Information | Information | | | | element | element | element | | | | name**| required** | de | | | | | | scription** | +-------------+-------------+-------------+-------------+-------------+ | Start audio | Context | M | This | | | record | | | information | | | | | | element | | | MRFC | | | indicates | | | | | | the context | | | | | | for the | | | | | | bearer | | | | | | t | | | | | | ermination. | | +-------------+-------------+-------------+-------------+-------------+ | | Bearer | M | This | | | | Termina | | information | | | | tion/Bearer | | element | | | | Termination | | indicates | | | | Request | | the | | | | | | existing | | | | | | bearer | | | | | | termination | | | | | | or requests | | | | | | a new | | | | | | bearer | | | | | | termination | | | | | | where the | | | | | | audio is | | | | | | recorded. | | +-------------+-------------+-------------+-------------+-------------+ | | Record file | M | This | | | | Identifier | | information | | | | | | element | | | | | | indicates | | | | | | the record | | | | | | file | | | | | | Identifier | | | | | | or a | | | | | | request to | | | | | | the MRFP to | | | | | | create the | | | | | | record file | | | | | | Identifier. | | +-------------+-------------+-------------+-------------+-------------+ | | Record file | O | This | | | | Format | | information | | | | | | element | | | | | | indicates | | | | | | the audio | | | | | | record file | | | | | | format. | | +-------------+-------------+-------------+-------------+-------------+ | | Maximum | O | This | | | | Record | | information | | | | Timer | | element | | | | | | indicates | | | | | | the maximum | | | | | | allowable | | | | | | length of | | | | | | the | | | | | | recording | | +-------------+-------------+-------------+-------------+-------------+ | | Notify | O | This | | | | audio | | information | | | | record | | element | | | | Completed | | requests a | | | | | | n | | | | | | otification | | | | | | of a | | | | | | completed | | | | | | audio | | | | | | record. | | +-------------+-------------+-------------+-------------+-------------+ | | Notify | C | This | | | | termination | | information | | | | heartbeat | | element | | | | | | requests | | | | | | termination | | | | | | heartbeat | | | | | | i | | | | | | ndications. | | | | | | This | | | | | | information | | | | | | element | | | | | | shall be | | | | | | included | | | | | | when | | | | | | requesting | | | | | | a new | | | | | | bearer | | | | | | t | | | | | | ermination. | | +-------------+-------------+-------------+-------------+-------------+ | Start audio | MRFP | Context | M | This | | record Ack | | | | information | | | | | | element | | | | | | indicates | | | | | | the context | | | | | | where the | | | | | | command was | | | | | | executed. | +-------------+-------------+-------------+-------------+-------------+ | | | Bearer | M | This | | | | Termination | | information | | | | | | element | | | | | | indicates | | | | | | the bearer | | | | | | termination | | | | | | where the | | | | | | command was | | | | | | executed. | +-------------+-------------+-------------+-------------+-------------+ | | | Record File | O | This | | | | identifier | | information | | | | | | element | | | | | | indicates | | | | | | the file | | | | | | identifier | | | | | | created by | | | | | | the MRFP if | | | | | | the MRFC | | | | | | request to | | | | | | create a | | | | | | file URI. | +-------------+-------------+-------------+-------------+-------------+
NOTE This procedure may be combined with other procedures such as to ADD
bearer connections.
## 8.9 Stop audio record
This procedure is used to stop the audio record.
Table 8.9.1: Procedures between MRFC and MRFP: Stop audio record
* * *
**Procedure** **Initiated** **Information element name** **Information element
required** **Information element description** Stop audio record MRFC Context
M This information element indicates the context for the bearer termination.
Bearer Termination M This information element indicates the bearer termination
where the audio record is stopped. Stop audio record M This information
element requests that audio record is stopped. Stop audio record Ack MRFP
Context M This information element indicates the context where the command was
executed. Bearer Termination M This information element indicates the bearer
termination where the command was executed.
* * *
## 8.10 Audio record completed
This procedure is used to report the audio record completed.
Table 8.10.1: Procedures between MRFC and MRFP: Report audio record completed
* * *
**Procedure** **Initiated** **Information element name** **Information element
required** **Information element description** Audio Record Completed MRFP
Context M This information element indicates the context for the bearer
termination. Bearer Termination M This information element indicates the
bearer termination where the audio record was completed. audio record
Completed M This information element indicates the audio record completed.
Cause M This information element indicates the return code of audio record.
Audio record Completed Ack MRFC Context M This information element indicates
the context where the command was executed. Bearer Termination M This
information element indicates the Bearer Termination where the command was
executed.
* * *
## 8.11 Detect DTMF
This procedure is used to request detection of a DTMF digit.
Table 8.11.1: Procedures between MRFC and MRFP: Detect DTMF
* * *
**Procedure** **Initiated** **Information element name** **Information element
required** **Information element description** Detect DTMF MRFC Context M This
information element indicates the context for the bearer termination. Bearer
Termination/Bearer Termination Request M This information element indicates
the existing bearer termination or requests a new bearer termination where the
DTMF digit detection is requested. Start_DTMF_Detection M This information
element requests MRFP to detect a DTMF digit. Detect DTMF Ack MRFP Context M
This information element indicates the context where the command was executed.
Bearer Termination M This information element indicates the bearer termination
where the command was executed.
* * *
NOTE This procedure may be combined with other procedures such as to ADD
bearer connections.
## 8.12 Stop DTMF Detection
This procedure is used to stop detection of the DTMF digit.
Table 8.12.1: Procedures between MRFC and MRFP: Stop DTMF Detection
* * *
**Procedure** **Initiated** **Information element name** **Information element
required** **Information element description** Stop DTMF Detection MRFC
Context M This information element indicates the context for the bearer
termination. Bearer Termination M This information element indicates the
bearer termination where the DTMF digit detection is stopped. Stop DTMF
Detection M This information element requests that DTMF digit detection is
stopped. Stop DTMF Detection Ack MRFP Context M This information element
indicates the context where the command was executed. Bearer Termination M
This information element indicates the bearer termination where the command
was executed.
* * *
## 8.13 Report DTMF
This procedure is used to report a detected DTMF digit.
Table 8.13.1: Procedures between MRFP and MRFC: Report DTMF
* * *
**Procedure** **Initiated** **Information element name** **Information element
required** **Information element description** Report DTMF MRFP Context M This
information element indicates the context for the bearer termination. Bearer
Termination M This information element indicates the bearer termination where
the DTMF digit was detected. Digit M This information element reports the
detected DTMF digit. Report DTMF Ack MRFC Context M This information element
indicates the context where the command was executed. Bearer Termination M
This information element indicates the Bearer Termination where the command
was executed.
* * *
## 8.14 Start playing multimedia
This procedure is used to start playing multimedia.
Table 8.14.1: Procedures between MRFC and MRFP: start playing multimedia
+-------------+-------------+-------------+-------------+-------------+ | ** | ** | ** | ** | ** | | Procedure**| Initiated** | Information | Information | Information | | | | element | element | element | | | | name**| required** | de | | | | | | scription** | +-------------+-------------+-------------+-------------+-------------+ | Start | Context | M | This | | | playing | | | information | | | multimedia | | | element | | | | | | indicates | | | > MRFC | | | the context | | | | | | for the | | | | | | bearer | | | | | | t | | | | | | ermination. | | +-------------+-------------+-------------+-------------+-------------+ | | Bearer | M | This | | | | Termina | | information | | | | tion/Bearer | | element | | | | Termination | | indicates | | | | Request | | the | | | | | | existing | | | | | | bearer | | | | | | termination | | | | | | or requests | | | | | | a new | | | | | | bearer | | | | | | termination | | | | | | where the | | | | | | multimedia | | | | | | is sent. | | +-------------+-------------+-------------+-------------+-------------+ | | Multimedia | M | This | | | | identifier | | information | | | | | | element | | | | | | indicates | | | | | | the | | | | | | multimedia | | | | | | or list of | | | | | | multimedia | | | | | | to be | | | | | | played. | | | | | | This may be | | | | | | a single | | | | | | identifier | | | | | | or one | | | | | | identifier | | | | | | per media | | | | | | type. | | +-------------+-------------+-------------+-------------+-------------+ | | Multimedia | O | This | | | | file format | | information | | | | | | element | | | | | | indicates | | | | | | the | | | | | | multimedia | | | | | | file type, | | | | | | such as the | | | | | | 3GP file | | | | | | type. | | +-------------+-------------+-------------+-------------+-------------+ | | Iterations | O | This | | | | | | information | | | | | | element | | | | | | indicates | | | | | | the number | | | | | | of times | | | | | | the | | | | | | multimedia | | | | | | shall be | | | | | | played | | +-------------+-------------+-------------+-------------+-------------+ | | Direction | O | This | | | | | | information | | | | | | element | | | | | | indicates | | | | | | the | | | | | | direction | | | | | | of the | | | | | | multimedia | | | | | | to be sent. | | +-------------+-------------+-------------+-------------+-------------+ | | Notify | O | This | | | | multimedia | | information | | | | completed | | element | | | | | | requests a | | | | | | n | | | | | | otification | | | | | | when the | | | | | | playing | | | | | | multimedia | | | | | | is | | | | | | completed. | | +-------------+-------------+-------------+-------------+-------------+ | | DTMF stop | O | This | | | | multimedia | | information | | | | | | element | | | | | | indicates | | | | | | the MRFP to | | | | | | detect the | | | | | | DTMF digits | | | | | | and stop | | | | | | the playing | | | | | | multimedia | | | | | | when a | | | | | | pre-defined | | | | | | DTMF digit | | | | | | is | | | | | | detected. | | +-------------+-------------+-------------+-------------+-------------+ | | Notify | C | This | | | | termination | | information | | | | heartbeat | | element | | | | | | requests | | | | | | termination | | | | | | heartbeat | | | | | | i | | | | | | ndications. | | | | | | This | | | | | | information | | | | | | element | | | | | | shall be | | | | | | included | | | | | | when | | | | | | requesting | | | | | | a new | | | | | | bearer | | | | | | t | | | | | | ermination. | | +-------------+-------------+-------------+-------------+-------------+ | Start | MRFP | Context | M | This | | playing | | | | information | | multimedia | | | | element | | Ack | | | | indicates | | | | | | the context | | | | | | where the | | | | | | command was | | | | | | executed. | +-------------+-------------+-------------+-------------+-------------+ | | | Bearer | M | This | | | | Termination | | information | | | | | | element | | | | | | indicates | | | | | | the bearer | | | | | | termination | | | | | | where the | | | | | | command was | | | | | | executed. | +-------------+-------------+-------------+-------------+-------------+
NOTE This procedure may be combined with other procedures such as to ADD
bearer connections.
## 8.15 Stop playing multimedia
This procedure is used to stop playing multimedia.
Table 8.15.1: Procedures between MRFC and MRFP: Stop playing multimedia
+-------------+-------------+-------------+-------------+-------------+ | ** | ** | ** | ** | ** | | Procedure**| Initiated** | Information | Information | Information | | | | element | element | element | | | | name**| required** | de | | | | | | scription** | +-------------+-------------+-------------+-------------+-------------+ | Stop | > MRFC | Context | M | This | | playing | | | | information | | multimedia | | | | element | | | | | | indicates | | | | | | the context | | | | | | for the | | | | | | bearer | | | | | | t | | | | | | ermination. | +-------------+-------------+-------------+-------------+-------------+ | | | Bearer | M | This | | | | Termination | | information | | | | | | element | | | | | | indicates | | | | | | the | | | | | | existing | | | | | | bearer | | | | | | t | | | | | | ermination. | +-------------+-------------+-------------+-------------+-------------+ | | | Stop | M | This | | | | playing | | information | | | | multimedia | | element | | | | | | requests | | | | | | that | | | | | | multimedia | | | | | | playing is | | | | | | stopped. | +-------------+-------------+-------------+-------------+-------------+ | stop | > MRFP | Context | M | This | | playing | | | | information | | multimedia | | | | element | | | | | | indicates | | Ack | | | | the context | | | | | | where the | | | | | | command was | | | | | | executed. | +-------------+-------------+-------------+-------------+-------------+ | | | Bearer | M | This | | | | Termination | | information | | | | | | element | | | | | | indicates | | | | | | the bearer | | | | | | termination | | | | | | where the | | | | | | command was | | | | | | executed. | +-------------+-------------+-------------+-------------+-------------+
## 8.16 Playing multimedia completed
This procedure is used to report the playing multimedia completed.
Table 8.16.1: Procedures between MRFC and MRFP: Report playing multimedia
completed
+-------------+-------------+-------------+-------------+-------------+ | ** | ** | ** | ** | ** | | Procedure**| Initiated** | Information | Information | Information | | | | element | element | element | | | | name**| required** | de | | | | | | scription** | +-------------+-------------+-------------+-------------+-------------+ | Report | > MRFP | Context | M | This | | playing | | | | information | | multimedia | | | | element | | completed | | | | indicates | | | | | | the context | | | | | | for the | | | | | | bearer | | | | | | t | | | | | | ermination. | +-------------+-------------+-------------+-------------+-------------+ | | | Bearer | M | This | | | | Termination | | information | | | | | | element | | | | | | indicates | | | | | | the | | | | | | existing | | | | | | bearer | | | | | | t | | | | | | ermination. | +-------------+-------------+-------------+-------------+-------------+ | | | Playing | M | This | | | | Completed | | information | | | | | | element | | | | | | indicates | | | | | | completed | | | | | | of the | | | | | | multimedia | | | | | | play. | +-------------+-------------+-------------+-------------+-------------+ | | | Cause | M | This | | | | | | information | | | | | | element | | | | | | indicates | | | | | | the return | | | | | | code of | | | | | | playing | | | | | | multimedia. | +-------------+-------------+-------------+-------------+-------------+ | Report | > MRFC | Context | M | This | | playing | | | | information | | multimedia | | | | element | | completed | | | | indicates | | | | | | the context | | ACK | | | | where the | | | | | | command was | | | | | | executed. | +-------------+-------------+-------------+-------------+-------------+ | | | Bearer | M | This | | | | Termination | | information | | | | | | element | | | | | | indicates | | | | | | the bearer | | | | | | termination | | | | | | where the | | | | | | command was | | | | | | executed. | +-------------+-------------+-------------+-------------+-------------+
## 8.17 Start multimedia record
This procedure is used to start the multimedia record.
Table 8.17.1: Procedures between MRFC and MRFP: Start multimedia record
+-------------+-------------+-------------+-------------+-------------+ | ** | ** | ** | ** | ** | | Procedure**| Initiated** | Information | Information | Information | | | | element | element | element | | | | name**| required** | de | | | | | | scription** | +-------------+-------------+-------------+-------------+-------------+ | Start | Record | Context | M | This | | | | | | information | | multimedia | MRFC | | | element | | | | | | indicates | | | | | | the context | | | | | | for the | | | | | | bearer | | | | | | t | | | | | | ermination. | +-------------+-------------+-------------+-------------+-------------+ | | | Bearer | M | This | | | | Termina | | information | | | | tion/Bearer | | element | | | | Termination | | indicates | | | | Request | | the | | | | | | existing | | | | | | bearer | | | | | | termination | | | | | | or requests | | | | | | a new | | | | | | bearer | | | | | | termination | | | | | | where the | | | | | | multimedia | | | | | | is | | | | | | recorded. | +-------------+-------------+-------------+-------------+-------------+ | | | Multimedia | M | This | | | | file | | information | | | | identifier | | element | | | | | | indicates | | | | | | the | | | | | | multimedia | | | | | | record file | | | | | | ide | | | | | | ntification | | | | | | or a | | | | | | request to | | | | | | the MRFP to | | | | | | create a | | | | | | file | | | | | | identifier. | +-------------+-------------+-------------+-------------+-------------+ | | | Multimedia | O | This | | | | file Format | | information | | | | | | element | | | | | | indicates | | | | | | the | | | | | | multimedia | | | | | | record file | | | | | | format. | +-------------+-------------+-------------+-------------+-------------+ | | | Maximum | O | This | | | | Record | | information | | | | Timer | | element | | | | | | indicates | | | | | | the maximum | | | | | | allowable | | | | | | length of | | | | | | the | | | | | | recording | +-------------+-------------+-------------+-------------+-------------+ | | | Notify | O | This | | | | multimedia | | information | | | | record | | element | | | | Completed | | requests a | | | | | | n | | | | | | otification | | | | | | of a | | | | | | completed | | | | | | multimedia | | | | | | record. | +-------------+-------------+-------------+-------------+-------------+ | | | Notify | C | This | | | | termination | | information | | | | heartbeat | | element | | | | | | requests | | | | | | termination | | | | | | heartbeat | | | | | | i | | | | | | ndications. | | | | | | This | | | | | | information | | | | | | element | | | | | | shall be | | | | | | included | | | | | | when | | | | | | requesting | | | | | | a new | | | | | | bearer | | | | | | t | | | | | | ermination. | +-------------+-------------+-------------+-------------+-------------+ | Start | MRFP | Context | M | This | | | | | | information | | multimedia | | | | element | | | | | | indicates | | record Ack | | | | the context | | | | | | where the | | | | | | command was | | | | | | executed. | +-------------+-------------+-------------+-------------+-------------+ | | | Bearer | M | This | | | | | | information | | | | Termination | | element | | | | | | indicates | | | | | | the bearer | | | | | | termination | | | | | | where the | | | | | | command was | | | | | | executed. | +-------------+-------------+-------------+-------------+-------------+ | | | File | O | This | | | | identifier | | information | | | | | | element | | | | | | indicates | | | | | | the file | | | | | | ide | | | | | | ntification | | | | | | created by | | | | | | the MRFP if | | | | | | the MRFC | | | | | | request to | | | | | | create a | | | | | | file | | | | | | identifier. | +-------------+-------------+-------------+-------------+-------------+
NOTE This procedure may be combined with other procedures such as to ADD
bearer connections.
## 8.18 Stop multimedia record
This procedure is used to stop the multimedia record.
Table 8.18.1: Procedures between MRFC and MRFP: Stop multimedia record
+-------------+-------------+-------------+-------------+-------------+ | ** | ** | ** | ** | ** | | Procedure**| Initiated** | Information | Information | Information | | | | element | element | element | | | | name**| required** | de | | | | | | scription** | +-------------+-------------+-------------+-------------+-------------+ | Stop | MRFC | Context | M | This | | | | | | information | | Multimedia | | | | element | | | | | | indicates | | Record | | | | the context | | | | | | for the | | | | | | bearer | | | | | | t | | | | | | ermination. | +-------------+-------------+-------------+-------------+-------------+ | | | Bearer | M | This | | | | Termination | | information | | | | | | element | | | | | | indicates | | | | | | the | | | | | | existing | | | | | | bearer | | | | | | t | | | | | | ermination. | +-------------+-------------+-------------+-------------+-------------+ | | | Stop | M | This | | | | multimedia | | information | | | | record | | element | | | | | | requests | | | | | | that | | | | | | multimedia | | | | | | record is | | | | | | stopped. | +-------------+-------------+-------------+-------------+-------------+ | Stop | MRFP | Context | M | This | | | | | | information | | Multimedia | | | | element | | | | | | indicates | | record Ack | | | | the context | | | | | | where the | | | | | | command is | | | | | | executed. | +-------------+-------------+-------------+-------------+-------------+ | | | Bearer | M | This | | | | Termination | | information | | | | | | element | | | | | | indicates | | | | | | the bearer | | | | | | termination | | | | | | where the | | | | | | command is | | | | | | executed. | +-------------+-------------+-------------+-------------+-------------+
## 8.19 Multimedia record completed
This procedure is used to report the multimedia record completed.
Table 8.19.1: Procedures between MRFC and MRFP: Report multimedia record
completed
+-------------+-------------+-------------+-------------+-------------+ | ** | ** | ** | ** | ** | | Procedure**| Initiated** | Information | Information | Information | | | | element | element | element | | | | name**| required** | de | | | | | | scription** | +-------------+-------------+-------------+-------------+-------------+ | Report | > MRFP | Context | M | This | | multimedia | | | | information | | record | | | | element | | completed | | | | indicates | | | | | | the context | | | | | | for the | | | | | | bearer | | | | | | t | | | | | | ermination. | +-------------+-------------+-------------+-------------+-------------+ | | | Bearer | M | This | | | | Termination | | information | | | | | | element | | | | | | indicates | | | | | | the | | | | | | existing | | | | | | bearer | | | | | | t | | | | | | ermination. | +-------------+-------------+-------------+-------------+-------------+ | | | Multimedia | M | This | | | | record | | information | | | | Completed | | element | | | | | | indicates | | | | | | the | | | | | | multimedia | | | | | | record | | | | | | completed. | +-------------+-------------+-------------+-------------+-------------+ | | | Cause | M | This | | | | | | information | | | | | | element | | | | | | indicates | | | | | | the return | | | | | | code of | | | | | | multimedia | | | | | | record. | +-------------+-------------+-------------+-------------+-------------+ | Report | > MRFC | Context | M | This | | multimedia | | | | information | | record | | | | element | | completed | | | | indicates | | ACK | | | | the context | | | | | | where the | | | | | | command is | | | | | | executed. | +-------------+-------------+-------------+-------------+-------------+ | | | Bearer | M | This | | | | Termination | | information | | | | | | element | | | | | | indicates | | | | | | the bearer | | | | | | termination | | | | | | where the | | | | | | command is | | | | | | executed. | +-------------+-------------+-------------+-------------+-------------+
## 8.20 Reserve and Configure IMS Resources
This procedure is used to reserve multimedia-processing resources for an Mp
interface connection; it is based on the procedure of the same name defined in
3GPP TS 29.163 [9].
Table 8.20.1: Procedures between MRFC and MRFP: Reserve and Configure IMS
Resources
+-------------+-------------+-------------+-------------+-------------+ | ** | ** | ** | ** | ** | | Procedure**| Initiated** | Information | Information | Information | | | | element | element | element | | | | name**| required** | de | | | | | | scription** | +-------------+-------------+-------------+-------------+-------------+ | Reserve and | MRFC | Cont | M | This | | Configure | | ext/Context | | information | | IMS | | Request | | element | | Resources | | | | indicates | | | | | | the | | | | | | existing | | | | | | context or | | | | | | requests a | | | | | | new context | | | | | | for the | | | | | | bearer | | | | | | t | | | | | | ermination. | +-------------+-------------+-------------+-------------+-------------+ | | | Priority | O | This | | | | information | | information | | | | | | element | | | | | | requests | | | | | | the MRFP to | | | | | | apply | | | | | | priority | | | | | | treatment | | | | | | for the | | | | | | t | | | | | | erminations | | | | | | and bearer | | | | | | connections | | | | | | in the | | | | | | specified | | | | | | context. | +-------------+-------------+-------------+-------------+-------------+ | | | IMS | M | This | | | | Termination | | information | | | | Request | | element | | | | | | indicates | | | | | | the | | | | | | existing | | | | | | bearer | | | | | | termination | | | | | | or requests | | | | | | a new IMS | | | | | | termination | | | | | | for the | | | | | | bearer to | | | | | | be | | | | | | e | | | | | | stablished. | +-------------+-------------+-------------+-------------+-------------+ | | | Local IMS | M | This | | | | Resources | | information | | | | | | element | | | | | | indicates | | | | | | the | | | | | | resource(s) | | | | | | (i.e. | | | | | | codecs) for | | | | | | which the | | | | | | MRFP shall | | | | | | be prepared | | | | | | to receive | | | | | | user data. | | | | | | | | | | | | For | | | | | | t | | | | | | erminations | | | | | | supporting | | | | | | any | | | | | | combination | | | | | | of video, | | | | | | audio and | | | | | | messaging | | | | | | this IE | | | | | | shall | | | | | | contain | | | | | | separate | | | | | | resources | | | | | | per stream. | +-------------+-------------+-------------+-------------+-------------+ | | | R | O | This | | | | eserveValue | | information | | | | | | element | | | | | | indicates | | | | | | if multiple | | | | | | local IMS | | | | | | resources | | | | | | are to be | | | | | | reserved | +-------------+-------------+-------------+-------------+-------------+ | | | Remote IMS | M | This | | | | Resources | | information | | | | | | element | | | | | | indicates | | | | | | the | | | | | | resource(s) | | | | | | (i.e. | | | | | | codecs) for | | | | | | which the | | | | | | MRFP shall | | | | | | send data. | | | | | | | | | | | | For | | | | | | t | | | | | | erminations | | | | | | supporting | | | | | | any | | | | | | combination | | | | | | of video, | | | | | | audio and | | | | | | messaging | | | | | | this IE | | | | | | shall | | | | | | contain | | | | | | separate | | | | | | resources | | | | | | per stream. | +-------------+-------------+-------------+-------------+-------------+ | | | Local | M | This | | | | Connection | | information | | | | Address | | element | | | | Request | | requests an | | | | | | IP address | | | | | | and port | | | | | | number(s) | | | | | | on the MRFP | | | | | | that the | | | | | | remote end | | | | | | can send | | | | | | user plane | | | | | | data to. | | | | | | | | | | | | For | | | | | | t | | | | | | erminations | | | | | | supporting | | | | | | any | | | | | | combination | | | | | | of video, | | | | | | audio and | | | | | | messaging | | | | | | this may | | | | | | contain | | | | | | multiple | | | | | | addresses. | +-------------+-------------+-------------+-------------+-------------+ | | | Remote | M | This | | | | Connection | | information | | | | Address | | element | | | | | | indicates | | | | | | the remote | | | | | | IP address | | | | | | and port | | | | | | number(s) | | | | | | that the | | | | | | MRFP can | | | | | | send user | | | | | | plane data | | | | | | to. | | | | | | | | | | | | For | | | | | | t | | | | | | erminations | | | | | | supporting | | | | | | any | | | | | | combination | | | | | | of video, | | | | | | audio and | | | | | | messaging | | | | | | this may | | | | | | contain | | | | | | multiple | | | | | | addresses. | +-------------+-------------+-------------+-------------+-------------+ | | | Notify | O | This | | | | Released | | information | | | | Bearer | | element | | | | | | requests a | | | | | | n | | | | | | otification | | | | | | of a | | | | | | released | | | | | | bearer. | +-------------+-------------+-------------+-------------+-------------+ | | | Notify | C | This | | | | termination | | information | | | | heartbeat | | element | | | | | | requests | | | | | | termination | | | | | | heartbeat | | | | | | i | | | | | | ndications. | | | | | | This | | | | | | information | | | | | | element | | | | | | shall be | | | | | | included | | | | | | when | | | | | | requesting | | | | | | a new | | | | | | bearer | | | | | | t | | | | | | ermination. | | | | | | Otherwise | | | | | | the | | | | | | information | | | | | | element is | | | | | | optional. | +-------------+-------------+-------------+-------------+-------------+ | | | ECN Enable | O | This | | | | | | information | | | | | | element | | | | | | requests | | | | | | the MRFP to | | | | | | apply ECN. | +-------------+-------------+-------------+-------------+-------------+ | | | ECN | C | This | | | | Initiation | | information | | | | Method | | element | | | | | | specifies | | | | | | the ECN | | | | | | Initiation | | | | | | method and | | | | | | requests | | | | | | the MRFP to | | | | | | perform IP | | | | | | header | | | | | | settings as | | | | | | an ECN | | | | | | endpoint. | | | | | | It may be | | | | | | included | | | | | | only if ECN | | | | | | is enabled. | +-------------+-------------+-------------+-------------+-------------+ | | | Notify ECN | C | This | | | | Failure | | information | | | | Event | | element | | | | | | requests a | | | | | | n | | | | | | otification | | | | | | if an ECN | | | | | | related | | | | | | error | | | | | | occurs It | | | | | | may be | | | | | | included | | | | | | only if ECN | | | | | | is | | | | | | enabled.. | +-------------+-------------+-------------+-------------+-------------+ | | | Diffserv | O | This | | | | Code Point | | information | | | | | | element | | | | | | requests | | | | | | the MRFP to | | | | | | apply a | | | | | | specific | | | | | | Diffserv | | | | | | Code Point | | | | | | to the IP | | | | | | headers. | +-------------+-------------+-------------+-------------+-------------+ | Reserve and | MRFP | Context | M | This | | Configure | | | | information | | IMS | | | | element | | Resources | | | | indicates | | Ack | | | | the context | | | | | | where the | | | | | | command was | | | | | | executed. | +-------------+-------------+-------------+-------------+-------------+ | | | IMS | M | This | | | | Termination | | information | | | | | | element | | | | | | indicates | | | | | | the Bearer | | | | | | Termination | | | | | | where the | | | | | | command was | | | | | | executed. | +-------------+-------------+-------------+-------------+-------------+ | | | Local IMS | M | This | | | | Resources | | information | | | | | | element | | | | | | indicates | | | | | | the | | | | | | resource(s) | | | | | | (i.e. | | | | | | codecs) for | | | | | | which the | | | | | | MRFP shall | | | | | | be prepared | | | | | | to receive | | | | | | user data. | | | | | | | | | | | | For | | | | | | t | | | | | | erminations | | | | | | supporting | | | | | | any | | | | | | combination | | | | | | of video, | | | | | | audio and | | | | | | messaging | | | | | | this IE | | | | | | shall | | | | | | contain | | | | | | separate | | | | | | resources | | | | | | per stream. | +-------------+-------------+-------------+-------------+-------------+ | | | Remote IMS | M | This | | | | Resources | | information | | | | | | element | | | | | | indicates | | | | | | the | | | | | | resource(s) | | | | | | (i.e. | | | | | | codecs) for | | | | | | which the | | | | | | MRFP shall | | | | | | send data. | | | | | | | | | | | | For | | | | | | t | | | | | | erminations | | | | | | supporting | | | | | | any | | | | | | combination | | | | | | of video, | | | | | | audio and | | | | | | messaging | | | | | | this IE | | | | | | shall | | | | | | contain | | | | | | separate | | | | | | resources | | | | | | per stream. | +-------------+-------------+-------------+-------------+-------------+ | | | Local | M | This | | | | Connection | | information | | | | Address | | element | | | | | | indicates | | | | | | the IP | | | | | | address and | | | | | | port | | | | | | number(s) | | | | | | the MRFP | | | | | | shall | | | | | | receive | | | | | | user plane | | | | | | data from | | | | | | IMS. | | | | | | | | | | | | For | | | | | | t | | | | | | erminations | | | | | | supporting | | | | | | any | | | | | | combination | | | | | | of video, | | | | | | audio and | | | | | | messaging | | | | | | this may | | | | | | contain | | | | | | multiple | | | | | | addresses. | +-------------+-------------+-------------+-------------+-------------+ | | | Remote | M | This | | | | Connection | | information | | | | Address | | element | | | | | | indicates | | | | | | the remote | | | | | | IP address | | | | | | and port | | | | | | number(s) | | | | | | that the | | | | | | MRFP can | | | | | | send user | | | | | | plane data | | | | | | to. | | | | | | | | | | | | For | | | | | | t | | | | | | erminations | | | | | | supporting | | | | | | any | | | | | | combination | | | | | | of video, | | | | | | audio and | | | | | | messaging | | | | | | this may | | | | | | contain | | | | | | multiple | | | | | | addresses. | +-------------+-------------+-------------+-------------+-------------+
## 8.21 Reserve IMS Resources Procedure
This procedure is used to reserve local connection addresses and local
resources in MRFP; it is based on the procedure of the same name defined in
3GPP TS 29.163 [9].
Table 8.21.1: Procedures between MRFC and MRFP: Reserve IMS Resources
+-------------+-------------+-------------+-------------+-------------+ | ** | ** | ** | ** | ** | | Procedure**| Initiated** | Information | Information | Information | | | | element | element | element | | | | name**| required** | de | | | | | | scription** | +-------------+-------------+-------------+-------------+-------------+ | Reserve IMS | MRFC | Context | M | This | | Resources | | /Context | | information | | | | Request | | element | | | | | | indicates | | | | | | the | | | | | | existing | | | | | | context or | | | | | | requests a | | | | | | new context | | | | | | for the | | | | | | bearer | | | | | | t | | | | | | ermination. | +-------------+-------------+-------------+-------------+-------------+ | | | Priority | O | This | | | | information | | information | | | | | | element | | | | | | requests | | | | | | the MRFP to | | | | | | apply | | | | | | priority | | | | | | treatment | | | | | | for the | | | | | | t | | | | | | erminations | | | | | | and bearer | | | | | | connections | | | | | | in the | | | | | | specified | | | | | | context. | +-------------+-------------+-------------+-------------+-------------+ | | | IMS | M | This | | | | Termination | | information | | | | Request | | element | | | | | | requests a | | | | | | new bearer | | | | | | termination | +-------------+-------------+-------------+-------------+-------------+ | | | Local IMS | M | This | | | | Resources | | information | | | | | | element | | | | | | indicates | | | | | | the | | | | | | resource(s) | | | | | | (i.e. | | | | | | codecs) for | | | | | | which the | | | | | | MRFP shall | | | | | | be prepared | | | | | | to receive | | | | | | user data. | | | | | | | | | | | | For | | | | | | t | | | | | | erminations | | | | | | supporting | | | | | | any | | | | | | combination | | | | | | of video, | | | | | | audio and | | | | | | messaging | | | | | | this IE | | | | | | shall | | | | | | contain | | | | | | separate | | | | | | resources | | | | | | per stream. | +-------------+-------------+-------------+-------------+-------------+ | | | R | O | This | | | | eserveValue | | information | | | | | | element | | | | | | indicates | | | | | | if multiple | | | | | | local IMS | | | | | | resources | | | | | | are to be | | | | | | reserved. | +-------------+-------------+-------------+-------------+-------------+ | | | Local | M | This | | | | Connection | | information | | | | Address | | element | | | | Request | | requests an | | | | | | IP address | | | | | | and port | | | | | | number(s) | | | | | | on the MRFP | | | | | | that the | | | | | | remote end | | | | | | can send | | | | | | user plane | | | | | | data to. | | | | | | | | | | | | For | | | | | | t | | | | | | erminations | | | | | | supporting | | | | | | any | | | | | | combination | | | | | | of video, | | | | | | audio and | | | | | | messaging | | | | | | this may | | | | | | contain | | | | | | multiple | | | | | | addresses. | +-------------+-------------+-------------+-------------+-------------+ | | | Notify | O | This | | | | Released | | information | | | | Bearer | | element | | | | | | requests a | | | | | | n | | | | | | otification | | | | | | of a | | | | | | released | | | | | | bearer. | +-------------+-------------+-------------+-------------+-------------+ | | | Notify | M | This | | | | termination | | information | | | | heartbeat | | element | | | | | | requests | | | | | | termination | | | | | | heartbeat | | | | | | i | | | | | | ndications. | +-------------+-------------+-------------+-------------+-------------+ | | | ECN Enable | O | This | | | | | | information | | | | | | element | | | | | | requests | | | | | | the MRFP to | | | | | | apply ECN. | +-------------+-------------+-------------+-------------+-------------+ | | | ECN | C | This | | | | Initiation | | information | | | | Method | | element | | | | | | specifies | | | | | | the ECN | | | | | | Initiation | | | | | | method and | | | | | | requests | | | | | | the MRFP to | | | | | | perform IP | | | | | | header | | | | | | settings as | | | | | | an ECN | | | | | | endpoint. | | | | | | It may be | | | | | | included | | | | | | only if ECN | | | | | | is enabled. | +-------------+-------------+-------------+-------------+-------------+ | | | Notify ECN | C | This | | | | Failure | | information | | | | Event | | element | | | | | | requests a | | | | | | n | | | | | | otification | | | | | | if an ECN | | | | | | related | | | | | | error | | | | | | occurs. It | | | | | | may be | | | | | | included | | | | | | only if ECN | | | | | | is enabled. | +-------------+-------------+-------------+-------------+-------------+ | | | Diffserv | O | This | | | | Code Point | | information | | | | | | element | | | | | | requests | | | | | | the MRFP to | | | | | | apply a | | | | | | specific | | | | | | Diffserv | | | | | | Code Point | | | | | | to the IP | | | | | | headers. | +-------------+-------------+-------------+-------------+-------------+ | Reserve IMS | MRFP | Context | M | This | | Resources | | | | information | | Ack | | | | element | | | | | | indicates | | | | | | the context | | | | | | where the | | | | | | command was | | | | | | executed. | +-------------+-------------+-------------+-------------+-------------+ | | | Bearer | M | This | | | | Termination | | information | | | | | | element | | | | | | indicates | | | | | | the Bearer | | | | | | Termination | | | | | | where the | | | | | | command was | | | | | | executed. | +-------------+-------------+-------------+-------------+-------------+ | | | Local IMS | M | This | | | | Resources | | information | | | | | | element | | | | | | indicates | | | | | | the | | | | | | resource(s) | | | | | | (i.e. | | | | | | codecs) for | | | | | | which the | | | | | | MRFP shall | | | | | | be prepared | | | | | | to receive | | | | | | user data | | | | | | | | | | | | For | | | | | | t | | | | | | erminations | | | | | | supporting | | | | | | any | | | | | | combination | | | | | | of video, | | | | | | audio and | | | | | | messaging | | | | | | this IE | | | | | | shall | | | | | | contain | | | | | | separate | | | | | | resources | | | | | | per stream. | +-------------+-------------+-------------+-------------+-------------+ | | | Local | M | This | | | | Connection | | information | | | | Address | | element | | | | | | indicates | | | | | | the IP | | | | | | address and | | | | | | port | | | | | | number(s) | | | | | | the MRFP | | | | | | shall | | | | | | receive | | | | | | user plane | | | | | | data from | | | | | | IMS. | | | | | | | | | | | | For | | | | | | t | | | | | | erminations | | | | | | supporting | | | | | | any | | | | | | combination | | | | | | of video, | | | | | | audio and | | | | | | messaging | | | | | | this may | | | | | | contain | | | | | | multiple | | | | | | addresses. | +-------------+-------------+-------------+-------------+-------------+
## 8.22 Configure IMS Resources Procedure
This procedure is used to select multimedia-processing resources for an Mp
interface connection; it is based on the procedure of the same name defined in
3GPP TS 29.163 [9].
Table 8.22.1: Procedures between MRFC and MRFP: Configure IMS Resources
Procedure
+-------------+-------------+-------------+-------------+-------------+ | ** | ** | ** | ** | ** | | Procedure**| Initiated** | Information | Information | Information | | | | element | element | element | | | | name**| required** | de | | | | | | scription** | +-------------+-------------+-------------+-------------+-------------+ | Configure | MRFC | Context | M | This | | IMS | | | | information | | Resources | | | | element | | | | | | indicates | | | | | | the context | | | | | | for the | | | | | | bearer | | | | | | t | | | | | | ermination. | +-------------+-------------+-------------+-------------+-------------+ | | | IMS | M | This | | | | Termination | | information | | | | | | element | | | | | | indicates | | | | | | the | | | | | | existing | | | | | | bearer | | | | | | t | | | | | | ermination. | +-------------+-------------+-------------+-------------+-------------+ | | | Local IMS | O | This | | | | Resources | | information | | | | | | element | | | | | | indicates | | | | | | the | | | | | | resource(s) | | | | | | (i.e. | | | | | | codecs) for | | | | | | which the | | | | | | MRFP shall | | | | | | be prepared | | | | | | to receive | | | | | | user data. | | | | | | | | | | | | For | | | | | | t | | | | | | erminations | | | | | | supporting | | | | | | any | | | | | | combination | | | | | | of video, | | | | | | audio and | | | | | | messaging | | | | | | this IE | | | | | | shall | | | | | | contain | | | | | | separate | | | | | | resources | | | | | | per stream. | +-------------+-------------+-------------+-------------+-------------+ | | | Remote IMS | M | This | | | | Resources | | information | | | | | | element | | | | | | indicates | | | | | | the | | | | | | resource(s) | | | | | | (i.e. | | | | | | codecs) for | | | | | | which the | | | | | | MRFP shall | | | | | | send data. | | | | | | | | | | | | For | | | | | | t | | | | | | erminations | | | | | | supporting | | | | | | any | | | | | | combination | | | | | | of video, | | | | | | audio and | | | | | | messaging | | | | | | this IE | | | | | | shall | | | | | | contain | | | | | | separate | | | | | | resources | | | | | | per stream. | +-------------+-------------+-------------+-------------+-------------+ | | | Local | O | This | | | | Connection | | information | | | | Address | | element | | | | | | indicates | | | | | | the IP | | | | | | address and | | | | | | port | | | | | | number(s) | | | | | | on the MRFP | | | | | | that the | | | | | | IMS user | | | | | | can send | | | | | | user plane | | | | | | data to. | | | | | | | | | | | | For | | | | | | t | | | | | | erminations | | | | | | supporting | | | | | | video any | | | | | | combination | | | | | | of video, | | | | | | audio and | | | | | | messaging | | | | | | may contain | | | | | | multiple | | | | | | addresses. | +-------------+-------------+-------------+-------------+-------------+ | | | Remote | M | This | | | | Connection | | information | | | | Address | | element | | | | | | indicates | | | | | | the remote | | | | | | IP address | | | | | | and port | | | | | | number(s) | | | | | | that the | | | | | | MRFP can | | | | | | send user | | | | | | plane data | | | | | | to. | | | | | | | | | | | | For | | | | | | t | | | | | | erminations | | | | | | supporting | | | | | | any | | | | | | combination | | | | | | of video, | | | | | | audio and | | | | | | messaging | | | | | | this may | | | | | | contain | | | | | | multiple | | | | | | addresses. | +-------------+-------------+-------------+-------------+-------------+ | | | Notify | O | This | | | | termination | | information | | | | heartbeat | | element | | | | | | requests | | | | | | termination | | | | | | heartbeat | | | | | | i | | | | | | ndications. | +-------------+-------------+-------------+-------------+-------------+ | | | ECN Enable | O | This | | | | | | information | | | | | | element | | | | | | requests | | | | | | the MRFP to | | | | | | apply ECN | | | | | | procedures. | +-------------+-------------+-------------+-------------+-------------+ | | | ECN | C | This | | | | Initiation | | information | | | | Method | | element | | | | | | specifies | | | | | | the ECN | | | | | | Initiation | | | | | | method and | | | | | | requests | | | | | | the MRFP to | | | | | | perform IP | | | | | | header | | | | | | settings as | | | | | | an ECN | | | | | | endpoint. | | | | | | It may be | | | | | | included if | | | | | | ECN is | | | | | | enabled. | +-------------+-------------+-------------+-------------+-------------+ | | | Notify ECN | C | This | | | | Failure | | information | | | | Event | | element | | | | | | requests a | | | | | | n | | | | | | otification | | | | | | if an ECN | | | | | | related | | | | | | error | | | | | | occurs. It | | | | | | may be | | | | | | included if | | | | | | ECN is | | | | | | enabled. | +-------------+-------------+-------------+-------------+-------------+ | Configure | MRFP | Context | M | This | | IMS | | | | information | | Resources | | | | element | | Ack | | | | indicates | | | | | | the context | | | | | | where the | | | | | | command was | | | | | | executed. | +-------------+-------------+-------------+-------------+-------------+ | | | IMS | M | This | | | | Termination | | information | | | | | | element | | | | | | indicates | | | | | | the Bearer | | | | | | Termination | | | | | | where the | | | | | | command was | | | | | | executed. | +-------------+-------------+-------------+-------------+-------------+ | | | Local IMS | O | This | | | | Resources | | information | | | | | | element | | | | | | indicates | | | | | | the | | | | | | resource(s) | | | | | | (i.e. | | | | | | codecs) for | | | | | | which the | | | | | | MRFP shall | | | | | | be prepared | | | | | | to receive | | | | | | user data | | | | | | | | | | | | For | | | | | | t | | | | | | erminations | | | | | | supporting | | | | | | any | | | | | | combination | | | | | | of video, | | | | | | audio and | | | | | | messaging | | | | | | this IE | | | | | | shall | | | | | | contain | | | | | | separate | | | | | | resources | | | | | | per stream. | +-------------+-------------+-------------+-------------+-------------+ | | | Remote IMS | M | This | | | | Resources | | information | | | | | | element | | | | | | indicates | | | | | | the | | | | | | resource(s) | | | | | | (i.e. | | | | | | codecs) for | | | | | | which the | | | | | | MRFP shall | | | | | | send data. | | | | | | | | | | | | For | | | | | | t | | | | | | erminations | | | | | | supporting | | | | | | any | | | | | | combination | | | | | | of video, | | | | | | audio and | | | | | | messaging | | | | | | this IE | | | | | | shall | | | | | | contain | | | | | | separate | | | | | | resources | | | | | | per stream. | +-------------+-------------+-------------+-------------+-------------+ | | | Local | O | This | | | | Connection | | information | | | | Address | | element | | | | | | indicates | | | | | | the IP | | | | | | address and | | | | | | port | | | | | | number(s) | | | | | | on the MRFP | | | | | | that the | | | | | | IMS user | | | | | | can send | | | | | | user plane | | | | | | data to. | | | | | | | | | | | | For | | | | | | t | | | | | | erminations | | | | | | supporting | | | | | | any | | | | | | combination | | | | | | of video, | | | | | | audio and | | | | | | messaging | | | | | | this may | | | | | | contain | | | | | | multiple | | | | | | addresses. | +-------------+-------------+-------------+-------------+-------------+ | | | Remote | M | This | | | | Connection | | information | | | | Address | | element | | | | | | indicates | | | | | | the remote | | | | | | IP address | | | | | | and port | | | | | | number(s) | | | | | | that the | | | | | | MRFP can | | | | | | send user | | | | | | plane data | | | | | | to. | | | | | | | | | | | | For | | | | | | t | | | | | | erminations | | | | | | supporting | | | | | | any | | | | | | combination | | | | | | of video, | | | | | | audio and | | | | | | messaging | | | | | | this may | | | | | | contain | | | | | | multiple | | | | | | addresses. | +-------------+-------------+-------------+-------------+-------------+
## 8.23 Release IMS Termination
This procedure is used to release a termination towards the IMS and free all
related resources; it is based on the procedure of the same name defined in
3GPP TS 29.163 [9].
Table 8.23.1: Procedures between MRFC and MRFP: Release IMS Termination
* * *
**Procedure** **Initiated** **Information element name** **Information element
required** **Information element description** **Release IMS Termination**
MRFC Context M This information element indicates the existing context for the
bearer termination. Bearer Termination M This information element indicates
the bearer termination to be released. **Release IMS Termination** Ack MRFP
Context M This information element indicates the context where the command was
executed. Bearer Termination M This information element indicates the Bearer
Termination where the command was executed.
* * *
## 8.24 Start TTS
This procedure is used to request to start TTS.
Table 8.24.1: Procedures between MRFC and MRFP: Start TTS
* * *
**Procedure** **Initiated** **Information element name** **Information element
required** **Information element description** Start TTS MRFC Context M This
information element indicates the context for the bearer termination. Bearer
Termination/Bearer Termination Request M This information element indicates
the existing bearer termination or requests a new bearer termination where the
TTS is sent. Direction O This information element indicates the direction of
the TTS to be sent. Notify TTS Completed O This information element requests a
notification of a completed TTS. DTMF stop TTS O This information element
indicates the MRFP to detect the DTMF digits and stop the TTS when a pre-
defined DTMF digit is detected. SSML M This information element indicates the
text to be spoken as SSML script. Iterations O This information element
indicates the number of times the TTS shall be played. Notify termination
heartbeat C This information element requests termination heartbeat
indications. This information element shall be included when requesting a new
bearer termination. Start TTS Ack MRFP Context M This information element
indicates the context where the command was executed. Bearer Termination M
This information element indicates the bearer termination where the command
was executed.
* * *
NOTE This procedure may be combined with other procedures such as to ADD
bearer connections.
## 8.25 Stop TTS
This procedure is used to stop TTS.
Table 8.25.1: Procedures between MRFC and MRFP: Stop TTS
* * *
**Procedure** Initiated **Information element name** **Information element
required** **Information element description** Stop TTS MRFC Context M This
information element indicates the context for the bearer termination. Bearer
Termination M This information element indicates the bearer termination where
the TTS is stopped. Stop TTS M This information element requests that TTS is
stopped. Stop TTS Ack MRFP Context M This information element indicates the
context where the command was executed. Bearer Termination M This information
element indicates the bearer termination where the command was executed.
* * *
## 8.26 TTS Completed
This procedure is used to report the TTS result.
Table 8.26.1: Procedures between MRFC and MRFP: TTS Completed
* * *
**Procedure** **Initiated** **Information element name** **Information element
required** **Information element description** TTS Completed MRFP Context M
This information element indicates the context for the bearer termination.
Bearer Termination M This information element indicates the bearer termination
where the TTS is requested. TTS Completed M This information element indicates
completed of the TTS. Cause M This information element indicates the return
code of TTS. TTS Completed Ack MRFC Context M This information element
indicates the context where the command was executed. Bearer Termination M
This information element indicates the Bearer Termination where the command
was executed.
* * *
## 8.27 Start ASR
This procedure is used to request to start ASR.
Table 8.27.1: Procedures between MRFC and MRFP: Start ASR
* * *
**Procedure** **Initiated** **Information element name** **Information element
required** **Information element description** Start ASR MRFC Context M This
information element indicates the context for the bearer termination. Bearer
Termination/Bearer Termination Request M This information element indicates
the existing bearer termination or requests a new bearer termination where the
ASR is requested. Recognition Mode O This information element indicates the
recognition mode: Normal Recognition Mode, Hotword Recognition Mode. Notify
ASR completion O This information element requests a notification of a
completed ASR. DTMF stop ASR O This information element indicates the MRFP to
detect the DTMF digits and stop the ASR when a pre-defined DTMF digit is
detected. SRGS Grammar M This information element indicates the SRGS format
grammar as script or URI. Notify termination heartbeat C This information
element requests termination heartbeat indications. This information element
shall be included when requesting a new bearer termination. Start ASR Ack MRFP
Context M This information element indicates the context where the command was
executed. Bearer Termination M This information element indicates the bearer
termination where the command was executed.
* * *
NOTE This procedure may be combined with other procedures such as to ADD
bearer connections.
## 8.28 Stop ASR
This procedure is used to stop ASR.
Table 8.28.1: Procedures between MRFC and MRFP: Stop ASR
* * *
**Procedure** **Initiated** **Information element name** **Information element
required** **Information element description** Stop ASR MRFC Context M This
information element indicates the context for the bearer termination. Bearer
Termination M This information element indicates the bearer termination where
the ASR is stopped. Stop ASR M This information element requests that ASR is
stopped. Stop ASR Ack MRFP Context M This information element indicates the
context where the command was executed. Bearer Termination M This information
element indicates the bearer termination where the command was executed.
* * *
## 8.29 ASR completed
This procedure is used to report the ASR result.
Table 8.29.1: Procedures between MRFC and MRFP: ASR completed
+-------------+-------------+-------------+-------------+-------------+ | ** | ** | ** | ** | ** | | Procedure**| Initiated** | Information | Information | Information | | | | element | element | element | | | | name**| required** | de | | | | | | scription**| +-------------+-------------+-------------+-------------+-------------+ | ASR | MRFP | Context | M | This | | completed | | | | information | | | | | | element | | | | | | indicates | | | | | | the context | | | | | | for the | | | | | | bearer | | | | | | t | | | | | | ermination. | +-------------+-------------+-------------+-------------+-------------+ | | | Bearer | M | This | | | | Termination | | information | | | | | | element | | | | | | indicates | | | | | | the bearer | | | | | | termination | | | | | | where the | | | | | | ASR is | | | | | | requested. | +-------------+-------------+-------------+-------------+-------------+ | | | ASR | M | This | | | | Completed | | information | | | | | | element | | | | | | indicates | | | | | | completed | | | | | | of the ASR. | +-------------+-------------+-------------+-------------+-------------+ | | | Cause | M | This | | | | | | information | | | | | | element | | | | | | indicates | | | | | | the return | | | | | | code of | | | | | | ASR. | +-------------+-------------+-------------+-------------+-------------+ | | | Recognition | O | This | | | | | | information | | | | Result | | element | | | | | | reports the | | | | | | ASR result. | +-------------+-------------+-------------+-------------+-------------+ | | | Text Token | O | This | | | | | | information | | | | | | element | | | | | | indicates a | | | | | | text token | | | | | | * | | | | | | *correspond | | | | | | to tokens | | | | | | as defined | | | | | | by the SRGS | | | | | | grammar. | | | | | | The ASR may | | | | | | return | | | | | | multiple | | | | | | results.** | +-------------+-------------+-------------+-------------+-------------+ | | | **Result | O | This | | | | Inter | | information | | | | pretation** | | element | | | | | | indicates | | | | | | **int | | | | | | erpretation | | | | | | of | | | | | | application | | | | | | specific** | | | | | | for each | | | | | | result. | +-------------+-------------+-------------+-------------+-------------+ | | | * | O | This | | | | _Confidence | | information | | | | Score_ * | | indicates | | | | | | the quality | | | | | | of the | | | | | | input for | | | | | | each | | | | | | result. The | | | | | | confidence | | | | | | score is a | | | | | | number in | | | | | | the range | | | | | | from 0.0 to | | | | | | 1.0 | | | | | | inclusive. | +-------------+-------------+-------------+-------------+-------------+ | | | Input Time | O | This | | | | | | information | | | | | | indicates | | | | | | the time of | | | | | | the speech | | | | | | input for | | | | | | each | | | | | | result. | +-------------+-------------+-------------+-------------+-------------+ | ASR | MRFC | Context | M | This | | completed | | | | information | | Ack | | | | element | | | | | | indicates | | | | | | the context | | | | | | where the | | | | | | command was | | | | | | executed. | +-------------+-------------+-------------+-------------+-------------+ | | | Bearer | M | This | | | | Termination | | information | | | | | | element | | | | | | indicates | | | | | | the Bearer | | | | | | Termination | | | | | | where the | | | | | | command was | | | | | | executed. | +-------------+-------------+-------------+-------------+-------------+
## 8.30 MRFP Out-of-Service or Maintenance Locked
This procedure is used to indicate that the MRFP will go out of service or is
maintenance locked.
Table 8.30.1: Procedures between MRFC and MRFP: MRFP Out-of-Service
* * *
Procedure Initiated Information element name Information element required
Information element description MRFP Out-of-Service MRFP Context M This
information element indicates the context for the command. Root Termination M
This information element indicates the root termination for the command.
Reason M This information element indicates the reason for service change.
Method M This information element indicates the method for service change.
MRFP Out-of-Service Ack MRFC Context M This information element indicates the
context where the command was executed. Root Termination M This information
element indicates the root termination where the command was executed.
* * *
## 8.31 MRFP Communication Up
This procedure is used to indicate that the MRFP is back in service.
Table 8.31.1: Procedures between MRFC and MRFP: MRFP Communication Up
+-------------+-----------+-------------+-------------+-------------+ | Procedure | Initiated | Information | Information | Information | | | | element | element | element | | | | name | required | description | +-------------+-----------+-------------+-------------+-------------+ | MRFP | MRFP | Context | M | This | | Co | | | | information | | mmunication | | | | element | | | | | | indicates | | Up | | | | the context | | | | | | for the | | | | | | command. | +-------------+-----------+-------------+-------------+-------------+ | | | Root | M | This | | | | Termination | | information | | | | | | element | | | | | | indicates | | | | | | the root | | | | | | termination | | | | | | for the | | | | | | command. | +-------------+-----------+-------------+-------------+-------------+ | | | Reason | M | This | | | | | | information | | | | | | element | | | | | | indicates | | | | | | the reason | | | | | | for service | | | | | | change. | +-------------+-----------+-------------+-------------+-------------+ | | | Method | M | This | | | | | | information | | | | | | element | | | | | | indicates | | | | | | the method | | | | | | for service | | | | | | change. | +-------------+-----------+-------------+-------------+-------------+ | MRFP | MRFC | Context | M | This | | Co | | | | information | | mmunication | | | | element | | | | | | indicates | | Up Ack | | | | the context | | | | | | where the | | | | | | command was | | | | | | executed. | +-------------+-----------+-------------+-------------+-------------+ | | | Root | M | This | | | | Termination | | information | | | | | | element | | | | | | indicates | | | | | | the root | | | | | | termination | | | | | | where the | | | | | | command was | | | | | | executed. | +-------------+-----------+-------------+-------------+-------------+
## 8.32 MRFP Restoration
This procedure is used to indicate the MRFP failure or recovery.
Table 8.32.1: Procedures between MRFC and MRFP: MRFP Restoration
* * *
Procedure Initiated Information element name Information element required
Information element description MRFP Restoration MRFP Context M This
information element indicates the context for the command. Root Termination M
This information element indicates the root termination for the command.
Reason M This information element indicates the reason for the service change.
Method M This information element indicates the method for service change.
MRFP Restoration Ack MRFC Context M This information element indicates the
context where the command was executed. Root Termination M This information
element indicates the root termination where the command was executed.
* * *
## 8.33 MRFC Restoration
This procedure is used to indicate the MRFC failure or recovery.
Table 8.33.1: Procedures between MRFC and MRFP: MRFC Restoration
* * *
Procedure Initiated Information element name Information element required
Information element description MRFC Restoration MRFC Context M This
information element indicates the context for the command. Root Termination M
This information element indicates the root termination for the command.
Reason M This information element indicates the reason for the service change.
Method M This information element indicates the method for service change.
MRFC Restoration Ack MRFP Context M This information element indicates the
context where the command was executed. Root Termination M This information
element indicates the root termination where the command was executed.
* * *
## 8.34 MRFP Re-register
This procedure is used to re-register the MRFP.
Table 8.34.1: Procedures between MRFC and MRFP: MRFP Re-register
* * *
Procedure Initiated Information element name Information element required
Information element description MRFP Re-register MRFP Context M This
information element indicates the context for the command. Root Termination M
This information element indicates the root termination for the command.
Reason M This information element indicates the reason for the service change.
Method M This information element indicates the method for service change.
Protocol Version M This information element indicates the protocol version for
Mp interface requested by the MRFP. Service Change Profile M This information
element indicates the profile for the Mp interface requested by the MRFP. MRFP
Re-register Ack MRFC Context M This information element indicates the context
where the command was executed. Root Termination M This information element
indicates the root termination where the command was executed. Protocol
Version O This information element indicates the protocol version for Mp
interface supported by the MRFC. Service Change Profile O This information
element indicates the profile for the Mp interface supported by the MRFC.
* * *
## 8.35 MRFC Re-registration Ordered by MRFC
This procedure is used by the MRFC to request the MRFP to register itself.
Table 8.35.1: Procedures between MRFC and MRFP: MRFC Ordered Re-register
+-------------+-----------+-------------+-------------+-------------+ | Procedure | Initiated | Information | Information | Information | | | | element | element | element | | | | name | required | description | +-------------+-----------+-------------+-------------+-------------+ | MRFC | MRFC | Context | M | This | | Ordered Re- | | | | information | | | | | | element | | register | | | | indicates | | | | | | the context | | | | | | for the | | | | | | command. | +-------------+-----------+-------------+-------------+-------------+ | | | Root | M | This | | | | Termination | | information | | | | | | element | | | | | | indicates | | | | | | the root | | | | | | termination | | | | | | for the | | | | | | command. | +-------------+-----------+-------------+-------------+-------------+ | | | Reason | M | This | | | | | | information | | | | | | element | | | | | | indicates | | | | | | the reason | | | | | | for the | | | | | | service | | | | | | change. | +-------------+-----------+-------------+-------------+-------------+ | | | MRFC | O | This | | | | Address | | information | | | | | | element | | | | | | indicates | | | | | | the MRFC | | | | | | signalling | | | | | | address. | +-------------+-----------+-------------+-------------+-------------+ | MRFC | MRFP | Context | M | This | | Ordered Re- | | | | information | | | | | | element | | register | | | | indicates | | Ack | | | | the context | | | | | | where the | | | | | | command was | | | | | | executed. | +-------------+-----------+-------------+-------------+-------------+ | | | Root | M | This | | | | Termination | | information | | | | | | element | | | | | | indicates | | | | | | the root | | | | | | termination | | | | | | where the | | | | | | command was | | | | | | executed. | +-------------+-----------+-------------+-------------+-------------+
## 8.36 Audit Value
This procedure is used to audit values of different object(s).
Table 8.36.1: Procedures between MRFC and MRFP: Audit Value
* * *
Procedure Initiated Information element name Information element required
Information element description Audit Value MRFC Context M This information
element indicates the context for the command. Bearer Termination M This
information element indicates the bearer termination(s) for the command.
Object(s) M This information element indicates the object(s) to be audited.
Audit Value Ack MRFP Context M This information element indicates the context
where the command was executed. Bearer Termination M This information element
indicates the bearer termination where the command was executed. Value(s) M
This information element indicates the value(s) of the object(s).
* * *
## 8.37 Audit Capability
This procedure is used to audit capabilities of different object(s).
Table 8.37.1: Procedures between MRFC and MRFP: Audit Capability
* * *
Procedure Initiated Information element name Information element required
Information element description Audit Capability MRFC Context M This
information element indicates the context for the command. Bearer Termination
M This information element indicates the bearer termination(s) for the
command. Object(s) M This information element indicates the object(s) which
capability is requested. Audit Capability Ack MRFP Context M This information
element indicates the context where the command was executed. Bearer
Termination M This information element indicates the bearer termination where
the command was executed. Capabilities(s) M This information element indicates
the capabilities of the object(s).
* * *
## 8.38 Capability Update
This procedure is used to indicate update of an object capability.
Table 8.38.1: Procedures between MRFC and MRFP: Capability Update
* * *
Procedure Initiated Information element name Information element required
Information element description Capability Update MRFP Context M This
information element indicates the context for the command. Bearer Termination
M This information element indicates the bearer termination(s) for the
command. Reason M This information element indicates the reason for service
change. Method M This information element indicates the method for service
change. Capability Update Ack MRFC Context M This information element
indicates the context where the command was executed. Bearer Termination M
This information element indicates the bearer termination where the command
was executed.
* * *
## 8.39 MRFC Out of Service
This procedure is used to indicate that MRFC has gone out of service.
Table 8.39.1: Procedures between MRFC and MRFP: MRFC Out of Service
+-------------+-----------+-------------+-------------+-------------+ | Procedure | Initiated | Information | Information | Information | | | | element | element | element | | | | name | required | description | +-------------+-----------+-------------+-------------+-------------+ | MRFC Out of | MRFC | Context | M | This | | Service | | | | information | | | | | | element | | | | | | indicates | | | | | | the context | | | | | | for the | | | | | | command. | +-------------+-----------+-------------+-------------+-------------+ | | | Root | M | This | | | | Termination | | information | | | | | | element | | | | | | indicates | | | | | | the root | | | | | | termination | | | | | | for the | | | | | | command. | +-------------+-----------+-------------+-------------+-------------+ | | | Reason | M | This | | | | | | information | | | | | | element | | | | | | indicates | | | | | | the reason | | | | | | for the | | | | | | service | | | | | | change. | +-------------+-----------+-------------+-------------+-------------+ | | | Method | M | This | | | | | | information | | | | | | element | | | | | | indicates | | | | | | the method | | | | | | for service | | | | | | change. | +-------------+-----------+-------------+-------------+-------------+ | MRFC Out of | MRFP | Context | M | This | | Service | | | | information | | | | | | element | | Ack | | | | indicates | | | | | | the context | | | | | | where the | | | | | | command was | | | | | | executed. | +-------------+-----------+-------------+-------------+-------------+ | | | Root | M | This | | | | Termination | | information | | | | | | element | | | | | | indicates | | | | | | the root | | | | | | termination | | | | | | where the | | | | | | command was | | | | | | executed. | +-------------+-----------+-------------+-------------+-------------+
## 8.40 MRFP Resource Congestion Handling - Activate
This procedure is used to activate the congestion handling mechanism.
Table 8.40.1: Procedures between MRFC and MRFP: MRFP Resource Congestion
Handling - Activate
+-------------+-----------+-------------+-------------+-------------+ | Procedure | Initiated | Information | Information | Information | | | | element | element | element | | | | name | required | description | +-------------+-----------+-------------+-------------+-------------+ | MRFP | MRFC | Context | M | This | | Resource | | | | information | | Congestion | | | | element | | Handling -- | | | | indicates | | | | | | that all | | Activate | | | | context are | | | | | | applicable | | | | | | for the | | | | | | root | | | | | | t | | | | | | ermination. | +-------------+-----------+-------------+-------------+-------------+ | | | Root | M | This | | | | Termination | | information | | | | | | element | | | | | | indicates | | | | | | that root | | | | | | termination | | | | | | is where | | | | | | the | | | | | | congestion | | | | | | mechanism | | | | | | is | | | | | | activated. | +-------------+-----------+-------------+-------------+-------------+ | | | Congestion | M | This | | | | Activate | | information | | | | | | element | | | | | | requests to | | | | | | activate | | | | | | the | | | | | | congestion | | | | | | mechanism. | +-------------+-----------+-------------+-------------+-------------+ | MRFP | MRFP | Context | M | This | | Resource | | | | information | | Congestion | | | | element | | Handling - | | | | indicates | | | | | | that all | | Activate | | | | context are | | Ack | | | | where the | | | | | | command was | | | | | | executed. | +-------------+-----------+-------------+-------------+-------------+ | | | Root | M | This | | | | Termination | | information | | | | | | element | | | | | | indicates | | | | | | that root | | | | | | termination | | | | | | is where | | | | | | the command | | | | | | was | | | | | | executed. | +-------------+-----------+-------------+-------------+-------------+
## 8.41 MRFP Resource Congestion Handling - Indication
This procedure is used to inform the MRFC that traffic restriction is advised.
Table 8.41.1: Procedures between MRFC and MRFP: MRFP Resource Congestion
Handling - Indication
+-------------+-------------+-------------+-------------+-------------+ | ** | ** | Information | ** | ** | | Procedure**| Initiated** | element | Information | Information | | | | name | element | element | | | | | required**| de | | | | | | scription** | +-------------+-------------+-------------+-------------+-------------+ | MRFP | MRFP | Context | M | This | | Resource | | | | information | | Congestion | | | | element | | Handling - | | | | indicates | | | | | | all context | | Indication | | | | are | | | | | | applicable | | | | | | for the | | | | | | root | | | | | | t | | | | | | ermination. | +-------------+-------------+-------------+-------------+-------------+ | | | Root | M | This | | | | Termination | | information | | | | | | element | | | | | | indicates | | | | | | that root | | | | | | termination | | | | | | is where | | | | | | the | | | | | | congestion | | | | | | mechanism | | | | | | was | | | | | | activated. | +-------------+-------------+-------------+-------------+-------------+ | | | Reduction | M | This | | | | | | information | | | | | | element | | | | | | indicates | | | | | | the load | | | | | | percentage | | | | | | to be | | | | | | reduced. | +-------------+-------------+-------------+-------------+-------------+ | MRFP | MRFC | Context | M | This | | Resource | | | | information | | Congestion | | | | element | | Handling - | | | | indicates | | | | | | all context | | Indication | | | | are where | | Ack | | | | the command | | | | | | was | | | | | | executed. | +-------------+-------------+-------------+-------------+-------------+ | | | Root | M | This | | | | Termination | | information | | | | | | element | | | | | | indicates | | | | | | that root | | | | | | termination | | | | | | is where | | | | | | the command | | | | | | was | | | | | | executed. | +-------------+-------------+-------------+-------------+-------------+
## 8.42 Command Reject
This command is used to reject the received command request. It may be used as
response to any of the procedures.
Table 8.42.1: Procedures between (G)MSC server and MGW: Command Reject
* * *
Procedure Initiated Information element name Information element required
Information element description Command Reject Both Context M This information
element indicates the context where the command was rejected. Bearer
Termination M This information element indicates the bearer termination where
the command was rejected. Error M This information element indicates the error
that caused command rejection.
* * *
### 8.43 Termination heartbeat indication
This procedure is used to report indication of hanging termination.
Table 8.43.1: Procedures between MRFC and MRFP: Hanging termination indication
* * *
Procedure Initiated Information element name Information element required
Information element description Termination heartbeat indication MRFP Context
M This information element indicates the context for the bearer termination.
Bearer Termination M This information element indicates the bearer termination
for which the termination heartbeat is reported. Termination heartbeat M
Hanging Termination event, as defined in 3GPP TS 29.333 [16]. Termination
heartbeat indication Ack MRFC Context M This information element indicates the
context where the command was executed. Bearer Termination M This information
element indicates the Bearer Termination where the command was executed.
* * *
## 8.44 Configure BFCP Termination
This procedure is used to configure a termination to support BFCP protocol
Table 8.44.1: Procedures between MRFC and MRFP: Configure BFCP Termination
* * *
Procedure Initiated Information element name Information element required
Information element description Configure BFCP Termination MRFC Context M This
information element indicates the context for the bearer termination. Bearer
Termination M This information element indicates the existing bearer
termination or requests a new bearer termination. Local BFCP Connection
Address Request M This information element requests an IP address and port
number(s) on the MRFP to serve BFCP/TCP protocol Remote BFCP Connection
Address M This information element indicates the remote IP address and port
number(s) that the MRFP can send BFCP/TCP to. User Identifier M This
information element indicates the user Identifier to identify the BFCP client
when receiving BFCP requests. Available Floors M This information Element
defines the list of Floor Ids that may be requested (via BFCP) to be used by
the client represented by this termination. Configure BFCP Termination Ack
MRFP Context M This information element indicates the context where the
command was executed. Bearer Termination M This information element indicates
the Bearer Termination where the command was executed. NOTE: The above
procedure may be combined with other procedures in ADD or MOD commands.
* * *
## 8.45 Configure Conference For Floor Control
This procedure is used to configure or modify a conference for floor control
and indicate the Floor policy for a conference.
Table 8.45.1: Procedures between MRFC and MRFP: Configure Conference For Floor
Control
* * *
Procedure Initiated Information element name Information element required
Information element description Indicate Floor Policy MRFC Context M This
information element indicates the context for the bearer termination.
Conference Identifier M This information element indicates the Identifier for
the conference for BFCP purposes. Floor-Resource Associations M This
information element indicates the resource associated with specific Floor Ids
for the MRFP to identify the Floor(s) when receiving BFCP requests. Floor
Control Algorithm M This information element indicates for a specific floor,
the algorithm to be used in granting the Floor. Maximum Floor Holder Number M
This information element indicates for a specific floor, the maximum number of
users who can hold the same Floor at the same time. Indicate Floor Policy Ack
MRFP Context M This information element indicates the context where the
command was executed. NOTE: The above procedure applies to a context instead
of a termination. The H.248v3 shall be supported. The procedure may be
combined with other procedures in ADD or MOD commands.
* * *
## 8.46 Designate Floor Chair
This procedure is used to designate a Floor Chair to a conference.
Table 8.46.1: Procedures between MRFC and MRFP: Designate Floor Chair
* * *
**Procedure** **Initiated** **Information element name** **Information element
required** **Information element description** Designate Floor Chair MRFC
Context M This information element indicates the context for the bearer
termination. Bearer Termination/Bearer Termination Request M This information
element indicates the existing bearer termination. Floor Chair M This
information element indicates that the termination represents a Floor Chair in
accordance with BFCP [20]. Floor Controlled By Chair O This information
element indicates the Floor(s) the Floor Chair controls. Designate Floor Chair
Ack MRFP Context M This information element indicates the context where the
command was executed. Bearer Termination M This information element indicates
the bearer termination where the command was executed.
* * *
## 8.47 Floor Request Decision
This procedure is used to request the MRFP to report the Floor request
decision.
Table 8.47.1: Procedures between MRFC and MRFP: Floor Request Decision
* * *
**Procedure** **Initiated** **Information element name** **Information element
required** **Information element description** Floor Request Decision MRFC
Context M This information element indicates the context for the bearer
termination. Bearer Termination/Bearer Termination Request M This information
element indicates the existing bearer termination. Notify Floor Request
Decision M This information element requests MRFP to notify the decision of
the FCS to Floor requests. Floor Request Decision Ack MRFP Context M This
information element indicates the context where the command was executed.
Bearer Termination M This information element indicates the bearer termination
where the command was executed.
* * *
## 8.48 Report Floor Request Decision
This procedure is used to report the Floor request status .
Table 8.48.1: Procedures between MRFP and MRFC: Report Floor Request Decision
* * *
**Procedure** **Initiated** **Information element name** **Information element
required** **Information element description** Report Floor Request Decision
MRFP Context M This information element indicates the context for the bearer
termination. Bearer Termination M This information element indicates the
bearer termination to which the Floor request is associated. Floor Request
Status M This information element reports the Floor Id or Floor Ids to which
the Floor Request is associated and the Floor request status of specific Floor
or Floors.. Report Floor Request Decision Ack MRFC Context M This information
element indicates the context where the command was executed. Bearer
Termination M This information element indicates the Bearer Termination where
the command was executed.
* * *
## 8.49 Confirm Media Update
This procedure is used to indicate whether the media properties associated
with a Floor Request have been modified successfully or not..
Table 8.49.1: Procedures between MRFC and MRFP: Confirm Media Update
* * *
**Procedure** **Initiated** **Information element name** **Information element
required** **Information element description** Confirm Media Update MRFC
Context M This information element indicates the context for the bearer
termination. Bearer Termination M This information element indicates the
existing bearer termination to which the floor request is associated. Floor
Request Status M This information element indicates the Floor Id or Ids and
requested status to which the Confirm Media Result applies.. Result M This
information element indicates whether the media properties associated with a
Floor Request have been modified successfully or not. Confirm Media Update Ack
MRFP Context M This information element indicates the context where the
command was executed. Bearer Termination M This information element indicates
the bearer termination where the command was executed.
* * *
## 8.50 Configure Granted Quota
This procedure is used to configure the granted quota.
Table 8.50.1: Procedures between MRFC and MRFP: Configure Granted Quota
* * *
Procedure Initiated Information element name Information element required
Information element description Configure Granted Quota MRFC Context M This
information element indicates the context for the bearer termination. Bearer
Termination M This information element indicates the bearer termination to
configure the granted quotas. Quota for number of messages sent O This
information element indicates the quota for the number of messages sent. Quota
for number of messages received O This information element indicates the quota
for the number of messages received. Quota for volume of messages sent O This
information element indicates the quota for the volume of messages sent. Quota
for volume of messages received O This information element indicates the quota
for the volume of messages received. Valid Time O This information element
indicates the valid time for collecting message statistics, upon expiry the
MRFP shall report the current message statistics. Configure Granted Quota Ack
MRFP Context M This information element indicates the context where the
command was executed. Bearer Termination M This information element indicates
the Bearer Termination where the command was executed.
* * *
## 8.51 Report Message Statistics
This procedure is used to report statistics for the sent and received
messages.
Table 8.51.1: Procedures between MRFP and MRFC: Report Message Statistics
* * *
Procedure Initiated Information element name Information element required
Information element description Report Message Statistics MRFP Context M This
information element indicates the context for the bearer termination. Bearer
Termination M This information element indicates the bearer termination to
report statistics. Number of messages sent O This information element
indicates the number of messages sent. Number of messages received O This
information element indicates the number of messages received. Volume of
messages sent O This information element indicates the volume of messages
sent. Volume of messages received O This information element indicates the
volume of messages received. Reason For Report M Indicates reason for the
report (e.g. expiry of time, granted quotas reached) Report Message Statistics
Ack MRFC Context M This information element indicates the context where the
command was executed. Bearer Termination M This information element indicates
the Bearer Termination where the command was executed.
* * *
## 8.52 Configure Filtering Rules
This procedure is used to configure the filtering rules.
Table 8.52.1: Procedures between MRFC and MRFP: Configure Filtering Rules
+-------------+-------------+-------------+-------------+-------------+ | ** | ** | ** | ** | ** | | Procedure**| Initiated** | Information | Information | Information | | | | element | element | element | | | | name**| required** | de | | | | | | scription** | +-------------+-------------+-------------+-------------+-------------+ | Configure | MRFC | Context | M | This | | Filtering | | | | information | | Rules | | | | element | | | | | | indicates | | | | | | the context | | | | | | for the | | | | | | bearer | | | | | | t | | | | | | ermination. | +-------------+-------------+-------------+-------------+-------------+ | | | Bearer | M | This | | | | Termination | | information | | | | | | element | | | | | | indicates | | | | | | the bearer | | | | | | termination | | | | | | to config | | | | | | the | | | | | | filtering | | | | | | rules. | +-------------+-------------+-------------+-------------+-------------+ | | | Sender | O | This | | | | address | | information | | | | | | element | | | | | | indicates | | | | | | the | | | | | | filtering | | | | | | criteria of | | | | | | sender | | | | | | address. | +-------------+-------------+-------------+-------------+-------------+ | | | Message | O | This | | | | size | | information | | | | | | element | | | | | | indicates | | | | | | the | | | | | | filtering | | | | | | criteria of | | | | | | message | | | | | | size. | +-------------+-------------+-------------+-------------+-------------+ | | | Message | O | This | | | | content | | information | | | | type | | element | | | | | | indicates | | | | | | the | | | | | | filtering | | | | | | criteria of | | | | | | message | | | | | | content | | | | | | type. | +-------------+-------------+-------------+-------------+-------------+ | | | Message | O | This | | | | content | | information | | | | format | | element | | | | | | indicates | | | | | | the | | | | | | filtering | | | | | | criteria of | | | | | | message | | | | | | content | | | | | | format. | +-------------+-------------+-------------+-------------+-------------+ | | | Message | O | This | | | | subject | | information | | | | | | element | | | | | | indicates | | | | | | the | | | | | | filtering | | | | | | criteria of | | | | | | message | | | | | | subject. | +-------------+-------------+-------------+-------------+-------------+ | | | Message | O | This | | | | treatment | | information | | | | | | element | | | | | | indicates | | | | | | to the MRFP | | | | | | the message | | | | | | treatment | | | | | | when the | | | | | | filtering | | | | | | criteria is | | | | | | reached. | | | | | | The message | | | | | | treatment | | | | | | can be: | | | | | | | | | | | | Block the | | | | | | delivery of | | | | | | the message | | | | | | content. | | | | | | | | | | | | Store the | | | | | | message | | | | | | content | | | | | | | | | | | | Redirect | | | | | | the message | | | | | | to another | | | | | | address. | +-------------+-------------+-------------+-------------+-------------+ | | | Store URL | O | This | | | | | | information | | | | | | element | | | | | | indicates | | | | | | the store | | | | | | URL. | +-------------+-------------+-------------+-------------+-------------+ | | | Redirect | O | This | | | | URL | | information | | | | | | element | | | | | | indicates | | | | | | the | | | | | | redirect | | | | | | URL. | +-------------+-------------+-------------+-------------+-------------+ | Configure | MRFP | Context | M | This | | Filtering | | | | information | | Rules Ack | | | | element | | | | | | indicates | | | | | | the context | | | | | | where the | | | | | | command was | | | | | | executed. | +-------------+-------------+-------------+-------------+-------------+ | | | Bearer | M | This | | | | Termination | | information | | | | | | element | | | | | | indicates | | | | | | the Bearer | | | | | | Termination | | | | | | where the | | | | | | command was | | | | | | executed. | +-------------+-------------+-------------+-------------+-------------+ | | | Store URL | O | This | | | | | | information | | | | | | element | | | | | | indicates | | | | | | the store | | | | | | URL. | +-------------+-------------+-------------+-------------+-------------+
## 8.53 Start message record
This procedure is used to start the message record.
Table 8.53.1: Procedures between MRFC and MRFP: Start message record
+-------------+-------------+-------------+-------------+-------------+ | ** | ** | ** | ** | ** | | Procedure**| Initiated** | Information | Information | Information | | | | element | element | element | | | | name**| required** | de | | | | | | scription** | +-------------+-------------+-------------+-------------+-------------+ | Start | MRFC | Context | M | This | | | | | | information | | message | | | | element | | | | | | indicates | | Record | | | | the context | | | | | | for the | | | | | | bearer | | | | | | t | | | | | | ermination. | +-------------+-------------+-------------+-------------+-------------+ | | | Bearer | M | This | | | | Termina | | information | | | | tion/Bearer | | element | | | | Termination | | indicates | | | | Request | | the | | | | | | existing | | | | | | bearer | | | | | | termination | | | | | | or requests | | | | | | a new | | | | | | bearer | | | | | | termination | | | | | | where the | | | | | | message is | | | | | | recorded. | +-------------+-------------+-------------+-------------+-------------+ | | | Message | M | This | | | | file | | information | | | | identifier | | element | | | | | | indicates | | | | | | the message | | | | | | record file | | | | | | iden | | | | | | tification. | | | | | | The MRFC | | | | | | may also | | | | | | request the | | | | | | MRFP to | | | | | | create file | | | | | | identifier. | +-------------+-------------+-------------+-------------+-------------+ | | | Maximum | O | This | | | | Record | | information | | | | Timer | | element | | | | | | indicates | | | | | | the maximum | | | | | | allowable | | | | | | length of | | | | | | time of the | | | | | | recording | +-------------+-------------+-------------+-------------+-------------+ | | | Notify | O | This | | | | message | | information | | | | record | | element | | | | Completed | | requests a | | | | | | n | | | | | | otification | | | | | | of a | | | | | | completed | | | | | | message | | | | | | record. | +-------------+-------------+-------------+-------------+-------------+ | Start | MRFP | Context | M | This | | | | | | information | | message | | | | element | | | | | | indicates | | record Ack | | | | the context | | | | | | where the | | | | | | command was | | | | | | executed. | +-------------+-------------+-------------+-------------+-------------+ | | | Bearer | M | This | | | | | | information | | | | Termination | | element | | | | | | indicates | | | | | | the bearer | | | | | | termination | | | | | | where the | | | | | | command was | | | | | | executed. | +-------------+-------------+-------------+-------------+-------------+ | | | File | O | This | | | | identifier | | information | | | | | | element | | | | | | indicates | | | | | | the file | | | | | | ide | | | | | | ntification | | | | | | created by | | | | | | the MRFP if | | | | | | the MRFC | | | | | | request to | | | | | | create a | | | | | | file | | | | | | identifier. | +-------------+-------------+-------------+-------------+-------------+
NOTE This procedure may be combined with other procedures such as to ADD
bearer connections.
## 8.54 Stop message record
This procedure is used to stop the message record.
Table 8.54.1: Procedures between MRFC and MRFP: Stop message record
+-------------+-------------+-------------+-------------+-------------+ | ** | ** | ** | ** | ** | | Procedure**| Initiated** | Information | Information | Information | | | | element | element | element | | | | name**| required** | de | | | | | | scription** | +-------------+-------------+-------------+-------------+-------------+ | Stop | MRFC | Context | M | This | | | | | | information | | Message | | | | element | | | | | | indicates | | Record | | | | the context | | | | | | for the | | | | | | bearer | | | | | | t | | | | | | ermination. | +-------------+-------------+-------------+-------------+-------------+ | | | Bearer | M | This | | | | Termination | | information | | | | | | element | | | | | | indicates | | | | | | the | | | | | | existing | | | | | | bearer | | | | | | t | | | | | | ermination. | +-------------+-------------+-------------+-------------+-------------+ | | | Stop | M | This | | | | message | | information | | | | record | | element | | | | | | requests | | | | | | that | | | | | | message | | | | | | record is | | | | | | stopped. | +-------------+-------------+-------------+-------------+-------------+ | Stop | MRFP | Context | M | This | | | | | | information | | Message | | | | element | | | | | | indicates | | record Ack | | | | the context | | | | | | where the | | | | | | command is | | | | | | executed. | +-------------+-------------+-------------+-------------+-------------+ | | | Bearer | M | This | | | | Termination | | information | | | | | | element | | | | | | indicates | | | | | | the bearer | | | | | | termination | | | | | | where the | | | | | | command is | | | | | | executed. | +-------------+-------------+-------------+-------------+-------------+
## 8.55 Message record completed
This procedure is used to report the message record completed.
Table 8.55.1: Procedures between MRFC and MRFP: Report message record
completed
* * *
**Procedure** **Initiated** **Information element name** **Information element
required** **Information element description** Report message record completed
MRFP Context M This information element indicates the context for the bearer
termination. Bearer Termination M This information element indicates the
existing bearer termination. Message record Completed M This information
element indicates the message record completed. Cause M This information
element indicates the return code of message record. Report message record
completed ACK MRFC Context M This information element indicates the context
where the command is executed. Bearer Termination M This information element
indicates the bearer termination where the command is executed.
* * *
## 8.56 Start playing message
This procedure is used to start playing message.
Table 8.56.1: Procedures between MRFC and MRFP: start playing message
* * *
**Procedure** **Initiated** **Information element name** **Information element
required** **Information element description** Start playing message MRFC
Context M This information element indicates the context for the bearer
termination. Bearer Termination/Bearer Termination Request M This information
element indicates the existing bearer termination or requests a new bearer
termination where the message is sent. Message identifier M This information
element indicates the message or list of message to be played. This may be a
single identifier or one identifier per media type. Direction O This
information element indicates the direction of the message to be sent. Notify
message completed O This information element requests a notification when the
playing message is completed. Notify termination heartbeat C This information
element requests termination heartbeat indications. This information element
shall be included when requesting a new bearer termination. Start playing
message Ack MRFP Context M This information element indicates the context
where the command was executed. Bearer Termination M This information element
indicates the bearer termination where the command was executed.
* * *
NOTE This procedure may be combined with other procedures such as to ADD
bearer connections.
## 8.57 Stop playing message
This procedure is used to stop playing message.
Table 8.57.1: Procedures between MRFC and MRFP: Stop playing message
+-------------+-------------+-------------+-------------+-------------+ | ** | ** | ** | ** | ** | | Procedure**| Initiated** | Information | Information | Information | | | | element | element | element | | | | name**| required** | de | | | | | | scription** | +-------------+-------------+-------------+-------------+-------------+ | Stop | MRFC | Context | M | This | | playing | | | | information | | message | | | | element | | | | | | indicates | | | | | | the context | | | | | | for the | | | | | | bearer | | | | | | t | | | | | | ermination. | +-------------+-------------+-------------+-------------+-------------+ | | | Bearer | M | This | | | | Termination | | information | | | | | | element | | | | | | indicates | | | | | | the | | | | | | existing | | | | | | bearer | | | | | | t | | | | | | ermination. | +-------------+-------------+-------------+-------------+-------------+ | | | Stop | M | This | | | | playing | | information | | | | message | | element | | | | | | requests | | | | | | that | | | | | | message | | | | | | playing is | | | | | | stopped. | +-------------+-------------+-------------+-------------+-------------+ | Stop | MRFP | Context | M | This | | playing | | | | information | | message | | | | element | | | | | | indicates | | Ack | | | | the context | | | | | | where the | | | | | | command was | | | | | | executed. | +-------------+-------------+-------------+-------------+-------------+ | | | Bearer | M | This | | | | Termination | | information | | | | | | element | | | | | | indicates | | | | | | the bearer | | | | | | termination | | | | | | where the | | | | | | command was | | | | | | executed. | +-------------+-------------+-------------+-------------+-------------+
## 8.58 Playing message completed
This procedure is used to report the playing message completed.
Table 8.58.1: Procedures between MRFC and MRFP: Report playing message
completed
+-------------+-------------+-------------+-------------+-------------+ | ** | ** | ** | ** | ** | | Procedure**| Initiated** | Information | Information | Information | | | | element | element | element | | | | name**| required** | de | | | | | | scription** | +-------------+-------------+-------------+-------------+-------------+ | Report | MRFP | Context | M | This | | playing | | | | information | | message | | | | element | | completed | | | | indicates | | | | | | the context | | | | | | for the | | | | | | bearer | | | | | | t | | | | | | ermination. | +-------------+-------------+-------------+-------------+-------------+ | | | Bearer | M | This | | | | Termination | | information | | | | | | element | | | | | | indicates | | | | | | the | | | | | | existing | | | | | | bearer | | | | | | t | | | | | | ermination. | +-------------+-------------+-------------+-------------+-------------+ | | | Playing | M | This | | | | Completed | | information | | | | | | element | | | | | | indicates | | | | | | completed | | | | | | of the | | | | | | message | | | | | | play. | +-------------+-------------+-------------+-------------+-------------+ | | | Cause | M | This | | | | | | information | | | | | | element | | | | | | indicates | | | | | | the return | | | | | | code of | | | | | | playing | | | | | | message. | +-------------+-------------+-------------+-------------+-------------+ | Report | MRFC | Context | M | This | | playing | | | | information | | message | | | | element | | completed | | | | indicates | | | | | | the context | | ACK | | | | where the | | | | | | command was | | | | | | executed. | +-------------+-------------+-------------+-------------+-------------+ | | | Bearer | M | This | | | | Termination | | information | | | | | | element | | | | | | indicates | | | | | | the bearer | | | | | | termination | | | | | | where the | | | | | | command was | | | | | | executed. | +-------------+-------------+-------------+-------------+-------------+
## 8.59 Modify Media
This procedure is used to modify the media and stream properties for a given
Floor Request (as indicated by the Report Floor Request Decision, Clause
8.48).
Table 8.59.1: Procedures between MRFC and MRFP: Modify Media
* * *
Procedure Initiated Information element name Information element required
Information element description Modify Media MRFC Context M This information
element indicates the existing context for the bearer termination or requests
a new context for the bearer termination. Bearer Termination M This
information element indicates the existing bearer termination to which the
floor request is associated. Stream M This information element indicates the
existing stream to which the floor request is associated Stream Mode M Stream
mode properties associated to the floor request. Media Properties M Media
properties associated to the floor request Modify Media Ack MRFP Context M
This information element indicates the context where the command was executed.
Bearer Termination M This information element indicates the bearer termination
where the command was executed.
* * *
## 8.60 ECN Failure Indication
This procedure is used to indicate an ECN related Error.
Table 8.60.1: Procedures between MRFC and MRFP: ECN Failure indication
+-------------+-------------+-------------+-------------+-------------+ | ** | ** | ** | ** | ** | | Procedure**| Initiated** | Information | Information | Information | | | | element | element | element | | | | name**| required** | de | | | | | | scription** | +-------------+-------------+-------------+-------------+-------------+ | ECN Failure | > MRFP | Context | M | This | | Indication | | | | information | | | | | | element | | | | | | indicates | | | | | | the context | | | | | | for the | | | | | | bearer | | | | | | t | | | | | | ermination. | +-------------+-------------+-------------+-------------+-------------+ | | | Bearer | M | This | | | | Termination | | information | | | | | | element | | | | | | indicates | | | | | | the | | | | | | existing | | | | | | bearer | | | | | | t | | | | | | ermination. | +-------------+-------------+-------------+-------------+-------------+ | | | ECN Failure | M | This | | | | Indication | | information | | | | | | element | | | | | | indicates | | | | | | an ECN | | | | | | failure | | | | | | event. | +-------------+-------------+-------------+-------------+-------------+ | ECN Failure | > MRFC | Context | M | This | | Indication | | | | information | | ACK | | | | element | | | | | | indicates | | | | | | the context | | | | | | where the | | | | | | command is | | | | | | executed. | +-------------+-------------+-------------+-------------+-------------+ | | | Bearer | M | This | | | | Termination | | information | | | | | | element | | | | | | indicates | | | | | | the bearer | | | | | | termination | | | | | | where the | | | | | | command is | | | | | | executed. | +-------------+-------------+-------------+-------------+-------------+
#