# Foreword
This Technical Report has been produced by the 3^rd^ Generation Partnership
Project (3GPP).
The contents of the present document are subject to continuing work within the
TSG and may change following formal TSG approval. Should the TSG modify the
contents of the present document, it will be re-released by the TSG with an
identifying change of release date and an increase in version number as
follows:
Version x.y.z
where:
x the first digit:
1 presented to TSG for information;
2 presented to TSG for approval;
3 or greater indicates TSG approved document under change control.
y the second digit is incremented for all changes of substance, i.e. technical
enhancements, corrections, updates, etc.
z the third digit is incremented when editorial only changes have been
incorporated in the document.
# Introduction
The Release 10 WI for HNB and HeNB Mobility Enhancements (RP-101426)
introduced signalling via horizontal RAN interfaces (Iurh, X2) for the support
of H(e)NB to H(e)NB mobility.
A new Release 11 work package was agreed at RAN#51, starting with a
feasibility study, taking both 3G and LTE aspects into account:
\- UMTS only: Work on support for enhanced mobility in CELL_FACH for 3G home
access was discontinued in Rel-10. This SI considers support of CELL_FACH
state and the benefits that support of CELL_PCH and URA_PCH states can
provide.
\- The extension of SHO capability to include operation with the macro network
can allow better integration of HNB cells with the macro network. To support
SHO an extension of Iur from the HNB-GW to a macro RNC can be used, and this
can also be used to link HNB-GWs as the Iur is a symmetrical interface. If
supported for SHO, the presence of an Iur between the HNB-GW and macro RNC
would allow use of enhanced SRNS relocation between the HNB and macro networks
to further improve Hand-in/Hand-out performance compared to the CN involved
methods already specified.
\- Support for inter-CSG HO was discontinued in Rel-10. The issues involved in
supporting inter-CSG HO need to be studied.
\- LTE only: Support for eNB to HeNB was de-scoped in Rel-10, but provides
significant benefits for open mode HeNBs used in mall environments and to
extend the macro network coverage. Also deferred from Rel-10 was support for
inter-CSG HeNB-HeNB HO.
\- Support of X2 via GW proxy for HeNB to HeNB mobility will be studied.
\- RAN Sharing [(]{.underline}UMTS and LTE[)]{.underline}: RAN sharing,
supported on the macro network has not been considered in relation to H(e)NBs.
This will be studied in the context of any further requirements from SA.
# 1 Scope
This document captures the results of the study item on H(e)NB enhanced
mobility in RP-110456[2]. It identifies the existing mobility functions for
UMTS and LTE, the use cases and requirements for enhancements, and reviews and
compares scenarios and techniques for enhancement of the mobility
functionality. Aspects of RAN sharing related to H(e)NB mobility are also
included.
# 2 References
The following documents contain provisions which, through reference in this
text, constitute provisions of the present document.
\- References are either specific (identified by date of publication, edition
number, version number, etc.) or non‑specific.
\- For a specific reference, subsequent revisions do not apply.
\- For a non-specific reference, the latest version applies. In the case of a
reference to a 3GPP document (including a GSM document), a non-specific
reference implicitly refers to the latest version of that document _in the
same Release as the present document_.
[1] 3GPP TR 21.905: \"Vocabulary for 3GPP Specifications\".
[2] RP-110456 Proposed SID: Further enhancements for HNB and HeNB. Alcatel-
Lucent
[3] 3GPP TS 25.467: UTRAN architecture for 3G Home NodeB; Stage 2
[4] 3GPP TS 36.300: Evolved Universal Terrestrial Radio Access (E-UTRA) and
Evolved Universal Terrestrial Radio Access Network (E-UTRAN); Overall
description; Stage 2
[5] R3-112499 "Mobility Enhancement from Macro eNB to HeNB", New Postcom
[6] R3-112595 "X2 Mobility between Macro and Open HeNBs", Ericsson.
[7] R3-112428 "Inter-CSG Enhanced Mobility", Nokia Siemens Networks.
[8] R3-112567 "Inter-CSG Enhanced HeNB Mobility", Alcatel-Lucent.
[9] 3GPP TS 25.331: Radio Resource Control (RRC); Protocol specification
[10] 3GPP TS 25.215: Physical layer; Measurements (FDD)
[11] R3-112026 "Macro to small cell, metro cell Hand-in", Alcatel-Lucent, AT&T
[12] R3-120205 "Macro to HNB legacy UE hand-in: target disambiguation",
Qualcomm Incorporated, Huawei, Alcatel-Lucent, ip.Access, AT&T
[13] R3-103129 LS from RAN2 on CELL_FACH
[14] 3GPP 25.304 User Equipment (UE) procedures in idle mode and procedures
for cell reselection in connected mode
[15] IETF RFC 4960: "Stream Control Transmission Protocol" (09/2007).
[16] 3GPP TS 36.422, "E-UTRAN; X2 Signalling Transport (Release 10)", v.
10.1.0 (2011-06).
[17] 3GPP TS 36.413, "E-UTRAN; S1 Application Protocol (S1AP) (Release 10)",
v. 10.5.0 (2012-03).
# 3 Definitions, symbols and abbreviations
## 3.1 Definitions
Void
## 3.2 Symbols
Void
## 3.3 Abbreviations
For the purposes of the present document, the abbreviations given in TR 21.905
[1] and the following apply. An abbreviation defined in the present document
takes precedence over the definition of the same abbreviation, if any, in TR
21.905 [1].
AC Access Control
MV Membership Verification
OTD Observed Time Difference
# 4 Existing Mobility Functionality
## 4.1 UMTS
### 4.1.1 Mobility Functions supported
The enhancements studied in this document build on the existing
functionalities provided up to Rel-10. These functionalities are listed here
to form a baseline for the enhancements considered.
Table 4.1 shows the mobility scenarios supported up to Rel-10 for HNBs and
UEs. This table does not include details of support of non-CSG HNBs to improve
clarity.
Table 4.1.1.1 Supported Mobility Functions.
Mobility Type | From>To | Rel Intro | CN involved | UE required (minimum) | Source O/H/C * | Target O/H/C * | Inter-CSG | Inter-GW | Stg 2 ref + | Notes  
---|---|---|---|---|---|---|---|---|---|---  
HHO | HNB > Macro | Rel-8 | Yes | Any | C | O | N/A | N/A | - | 2  
HHO | Macro > HNB | Rel-9 | Yes | Non-csg/Pre-R9 Non-csg/Pre-R9 Rel-9 | O O O | O H,C H.C | N/A N/A N/A | N/A N/A N/A | 5.9.4a 5.9.3a 5.9.2a | 1 1  
HHO | HNB > HNB | Rel-9 | Yes | Non-csg Non-csg Non-csg Rel-9 Rel-9 Rel-9 | O, H H C O, H H C | O H C O H C | N/A Yes Yes N/A Yes Yes | Yes Yes Yes Yes Yes Yes | 5.9.4a 5.9.3a 5.9.3a 5.9.4a 5.9.2a 5.9.2a | 1 1 1  
HHO | HNB > HNB | Rel-10 | No | Any | O H C | O H C | N/A No No | No No No | 5.7.2 5.7.2 5.7.2 |   
SHO | HNB > HNB | Rel-10 | No | Any | O H C | O H C | N/A No No | No No No | 5.7.3 5.7.3 5.7.3 |   
* O= open, H = Hybrid, C= closed.
\+ Stage 2 reference is TS 25.467 [3]
Notes:
1\. No mechanism is defined for the determination of the target HNB in this
scenario.
2\. This scenario is not defined in the stage 2.
### 4.1.2 Architecture
Figure 4.1.2.1 shows the Rel-10 architecture, it includes the macro
architecture although no direct connections exist between the macro and the
femto architectures, all connections are via the core network.
Figure 4.1.2.1: Rel-10 architecture
Figure 4.1.2.2 shows the nodes and interfaces involved in the mobility. This
shows that mobility to or from macro nodes is via the HNB-GW and the Iu. All
signalling flows for mobility are carried by these interfaces. As inter-gw
mobility is not supported at Rel-10, then only a single HNB-GW is shown.
Figure 4.1.2.2: Nodes and Interfaces involved in mobility
### 4.1.3 Assumption Baseline
The work up to Rel-10 has been on the basis of these assumptions:
1\. UMTS Macro cells do not support CSG
2\. A HNB serves a single cell
3\. Support for legacy UEs is required. (This may require proprietary methods
for complete support)
4\. Minimize impact on existing macro nodes.
5\. No direct connectivity between HNB-GWs, only Intra-GW mobility considered.
## 4.2 LTE
### 4.2.1 Mobility Functions supported
The enhancements studied in this document build on the existing
functionalities provided up to Rel-10. These functionalities are listed here
to form a baseline for the enhancements considered.
Table 4.2.1.1 shows the mobility scenarios supported up to Rel-10 for HeNBs.
Table 4.2.1.1: Supported Mobility Functions.
+-------+-------+-------+-------+-------+-------+-------+-------+ | Mob | Fro | S | T | Inte | Int | Stg 2 | Notes | | ility | m>To | ource | arget | r-CSG | er-GW | ref + | | | Type | | O/H/C | O/H/C | | | | | | | | * | * | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | S1 HO | HeNB | O, C, | N/A | N/A | N/A | 1 | | | | > | H | | | | 0.5.2 | | | | Macro | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | S1 HO | Macro | N/A | O | N/A | N/A | 2 | | | | > | | | | | 2.3.3 | | | | HeNB | N/A | H,C | N/A | N/A | | | | | | | | | | 1 | | | | | | | | | 0.5.1 | | +-------+-------+-------+-------+-------+-------+-------+-------+ | S1 HO | HeNB | O | O | N/A | Yes | 2 | | | | > | | | | | 2.3.3 | | | | HeNB | O | H,C | N/A | Yes | | | | | | | | | | 1 | | | | | H,C | O | Yes | Yes | 0.5.1 | | | | | | | | | | | | | | H | H,C | Yes | Yes | 2 | | | | | | | | | 2.3.3 | | | | | C | C,H | Yes | Yes | | | | | | | | | | 1 | | | | | | | | | 0.5.1 | | | | | | | | | | | | | | | | | | 1 | | | | | | | | | 0.5.1 | | +-------+-------+-------+-------+-------+-------+-------+-------+ | X2 HO | HeNB | O, H, | O | N/A | Yes | 2 | | | | > | C | | | | 2.3.3 | | | | HeNB | | H,C | No | Yes | | | | | | H | | | | 4.6.1 | | | | | | C,H | No | Yes | | | | | | C | | | | 4.6.1 | | +-------+-------+-------+-------+-------+-------+-------+-------+
* O= open, H = Hybrid, C= closed.
\+ Stage 2 reference is TS 36.300 [4]
### 4.2.2 Architecture
Figure 4.2.2.1 shows the Rel-10 architecture, it includes the macro
architecture although no direct connections exist between the macro and the
femto architectures, all connections are via the core network.
Figure 4.2.2.1: Rel-10 architecture
* * *
No GW involved One HeNB via GW, one via S1 Both HeNBs via different GWs Both
HeNBs via the same GW
* * *
Figure 4.2.2.2: Handover Scenarios
Figure 4.2.2.3: HeNB Architecture
### 4.2.3 Assumption Baseline
The work up to Rel-10 has been on the basis of these assumptions:
1\. HeNBs are single cell
2\. No direct connectivity between HeNB-GWs, X2 based mobility (direct
connectivity) for intra- and inter-GW mobility scenarios supported.
Note: Mobility from/to macro CSG will not be in the scope of the Study Item.
# 5 Use cases and Requirements for enhanced mobility
## 5.1 UMTS
### 5.1.1 Use cases
Table 5.1.1.1 shows the mobility usecases considered for the SI based on these
items derived from the WID[2].
Table 5.1.1.1: Mobility Enhancement Usecases for UMTS.
+-------+-------+-------+-------+-------+-------+-------+-------+ | Mob | Fro | S | T | AC/MV | Int | Pri | Notes | | ility | m>To | ource | arget | n | er-GW | ority | | | Type | | Type | Type | eeded | | | | | | | * | * | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | HHO | Macro | | O | No | N/A | 1 | | | | > | | | | | | | | | HNB | | H | Yes | N/A | 1 | | | | | | | | | | | | | | | C | Yes | N/A | 2 | | +-------+-------+-------+-------+-------+-------+-------+-------+ | HHO | HNB | O | | No | N/A | 1 | | | | > | | | | | | | | | Macro | H | | No | N/A | 1 | | | | | | | | | | | | | | C | | No | N/A | 2 | | +-------+-------+-------+-------+-------+-------+-------+-------+ | SHO | Macro | | O | No | N/A | 3 | Pri | | | > | | | | | | ority | | | HNB | | H | Yes | N/A | 3 | be | | | | | | | | | cause | | | | | C | Yes | N/A | 3 | of | | | | | | | | | p | | | | | | | | | erfor | | | | | | | | | mance | | | | | | | | | i | | | | | | | | | ssues | +-------+-------+-------+-------+-------+-------+-------+-------+ | SHO | HN B | O | | No | N/A | 3 | Pri | | | > | | | | | | ority | | | Macro | C | | No | N/A | 3 | be | | | | | | | | | cause | | | | H | | No | N/A | 3 | of | | | | | | | | | p | | | | | | | | | erfor | | | | | | | | | mance | | | | | | | | | i | | | | | | | | | ssues | +-------+-------+-------+-------+-------+-------+-------+-------+ | HHO | HNB | O | O | No | Yes | 2 | Inte | | | > | | | | | | r-CSG | | | HNB | O | C | Yes | No | 2 | | | | | | | | | | Inter | | | | C | O | No | No | 1 | CSG | | | | | | | | | | | | | H | H | Yes | No | 1 | Inter | | | | | | | | | CSG | | | | O | H | Yes | No | 1 | | | | | | | | | | Inter | | | | C | C | Yes | No | 2 | CSG | | | | | | | | | | | | | H | C | Yes | No | 2 | Intra | | | | | | | | | CSG | | | | C | H | Yes | No | 2 | | | | | | | | | | Intra | | | | H | C | No | No | 1 | CSG | | | | | | | | | | | | | C | H | No | No | 1 | | | | | | | | | | | | | | H | O | No | No | 1 | | +-------+-------+-------+-------+-------+-------+-------+-------+ | SHO | HNB | O | O | No | Yes | 3 | Inte | | | > | | | | | | r-CSG | | | HNB | O | C | Yes | No | 2 | | | | | | | | | | Inter | | | | C | O | No | No | 1 | CSG | | | | | | | | | | | | | O | H | Yes | No | 2 | Intra | | | | | | | | | CSG | | | | H | O | No | No | 2 | | | | | | | | | | Intra | | | | H | H | Yes | No | 2 | CSG | | | | | | | | | | | | | C | C | Yes | No | 2 | Inter | | | | | | | | | CSG | | | | H | C | No | No | 1 | | | | | | | | | | Inter | | | | C | H | No | No | 1 | CSG | | | | | | | | | | | | | H | C | Yes | No | 2 | | | | | | | | | | | | | | C | H | Yes | No | 2 | | +-------+-------+-------+-------+-------+-------+-------+-------+ | C | Macro | | O | No | N/A | 1 | | | ELL_ | > | | | | | | | | FACH, | HNB | | H | Yes | N/A | 1 | | | CELL | | | | | | | | | _PCH | | | C | Yes | N/A | 1 | | | and | | | | | | | | | URA | | | | | | | | | _PCH | | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | C | HNB | O | | No | N/A | 1 | | | ELL_ | > | | | | | | | | FACH, | Macro | H | | No | N/A | 1 | | | CELL | | | | | | | | | _PCH | | C | | No | N/A | 1 | | | and | | | | | | | | | URA | | | | | | | | | _PCH | | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | C | HNB | O | O | No | No | 1 | Intr | | ELL_ | > | | | | | | a-CSG | | FACH, | HNB | H | H | No | No | 1 | | | CELL | | | | | | | Intr | | _PCH | | H | C | No | No | 1 | a-CSG | | and | | | | | | | | | URA | | C | H | No | No | 1 | Intr | | _PCH | | | | | | | a-CSG | | | | C | C | No | No | 1 | | | | | | | | | | Intr | | | | H | O | No | No | 1 | a-CSG | | | | | | | | | | | | | C | O | No | No | 1 | Inte | | | | | | | | | r-CSG | | | | O | H | Yes | No | 1 | | | | | | | | | | Inte | | | | O | C | Yes | No | 1 | r-CSG | | | | | | | | | | | | | H | H | Yes | No | 1 | Inte | | | | | | | | | r-CSG | | | | H | C | Yes | No | 1 | | | | | | | | | | Inte | | | | C | H | Yes | No | 1 | r-CSG | | | | | | | | | | | | | C | C | Yes | No | 1 | | +-------+-------+-------+-------+-------+-------+-------+-------+
* O= open, H = Hybrid, C= closed.
Notes:
For all approved scenarios support for legacy UEs should be studied
Unless specified in the table, all inter-GW scenarios are FFS (priority 3)
Priorities: 1, 2, 3; where 1 is the highest and 3 the lowest.
## 5.2 LTE
### 5.2.1 Use cases
Table 5.2.1.1 shows the mobility usecases considered for the SI based on these
items derived from the WID[2].
Table 5.2.1.1 Mobility Enhancement Usecases for LTE.
+----------+----------+----------+----------+----------+----------+ | From>To | Source | Target | AC/MV | Priority | Notes | | | Type* | Type * | needed | | | +----------+----------+----------+----------+----------+----------+ | Macro > | | O | No | 1 | | | HeNB | | | | | | | | | H | Yes | 1 | | | | | | | | | | | | C | Yes | 2 | | +----------+----------+----------+----------+----------+----------+ | HeNB > | O | | No | 1 | | | Macro | | | | | | | | H | | No | 1 | | | | | | | | | | | C | | No | 2 | | +----------+----------+----------+----------+----------+----------+ | HeNB > | O | H | Yes | 1 | only | | HeNB | | | | | applies | | | O | C | Yes | 2 | to the | | | | | | | case of | | | H | H | Yes | 1 | in | | | | | | | ter-CSG. | | | H | C | Yes | 3 | | | | | | | | only | | | C | C | Yes | 3 | applies | | | | | | | to the | | | C | H | Yes | 3 | case of | | | | | | | i | | | | | | | nter-CSG | | | | | | | | | | | | | | only | | | | | | | applies | | | | | | | to the | | | | | | | case of | | | | | | | i | | | | | | | nter-CSG | | | | | | | | | | | | | | only | | | | | | | applies | | | | | | | to the | | | | | | | case of | | | | | | | i | | | | | | | nter-CSG | +----------+----------+----------+----------+----------+----------+
> * O= open, H = Hybrid, C= closed.
Notes:
Priorities: 1, 2, 3; where 1 is the highest and 3 is the lowest.
# 6 Enhanced Mobility: description and analysis of the different architectural
options
## 6.1 UMTS architectural topics
Figure 6.1.1: Iur connection from RNC to HNB system via HNB GW.
A deployment scenario for the targeted macro-femto use cases above is depicted
in Figure 1 for macro-femto RNS interaction.
### 6.1.1 Enhanced Mobility in CELL_FACH, CELL_PCH and URA_PCH
#### 6.1.1.1 Problems to be solved.
##### 6.1.1.1.1 CELL_FACH mobility Support for CSG-capable UEs
The Problem is identified in LS from RAN2 [13]:
It is stated in the RAN2 specifications 25.304 and 25.367 that autonomous
search used for cell reselection to CSG/Hybrid cells is applicable in Idle
Mode, CELL_PCH and URA_PCH states, but not CELL_FACH. This means that if a
CSG/Hybrid cell is not included in the Neighbour Cell List (NCL), a CSG
capable UE will not find the neighbour CSG/Hybrid cell in CELL_FACH state.
However, if the CSG/Hybrid cell is included in NCL then the legacy
measurement, search, and reselection criteria applies, and any UE can find the
CSG/Hybrid cell.
In the following sections the individual aspects related to the problems to
solve in RAN2 for CELL_FACH mobility for CSG capable UEs are further refined.
##### 6.1.1.1.1.1 Detection and Search criteria for reselection in CELL_FACH
{#detection-and-search-criteria-for-reselection-in-cell_fach .H6}
In order to support CELL_FACH mobility to CSG cells, a UE with a CSG whitelist
in CELL_FACH state needs to be able to detect CSG cells which can be outside
of the Neighbour Cell List and additionally whether the search is performed
using the serving cell reselection Ssearch criteria or via UE autonomous
search behaviour (as is done in Idle Mode, CELL_PCH and URA_PCH states).
###### 6.1.1.1.1.2 Measuring of inter-frequency CSG cells in CELL_FACH state
For the intra-frequency reselection case and for the inter-frequency case when
the UE has a 2^nd^ receiver, a UE can search, measure and read the SIB of CSG
cells with no measurement occasions or gaps required.
For the inter-frequency case (when UE doesn't have a 2^nd^ receiver),
currently a UE is only required to measure up to two additional frequencies,
and if more than two frequencies are specified in the NCL then a UE only has
to measure the first two frequencies.
The measuring in CELL_FACH is done either utilising DRX periods or FACH
measurement occasions (depending upon the UE capability).
The CSG cells may not be included in the NCL, and additionally may use
different frequencies than cells listed in the NCL. Therefore for measuring
CSG cells in CELL_FACH state a UE may need to measure on the dedicated CSG
frequency(ies).
The first problem identified is whether the UE needs to be able to read more
than two additional frequencies in order to measure CSG cells or prioritise
the frequencies to include the CSG dedicated frequencies. And the second
problem identified, which is dependant upon the first problem, is whether
there is any impact on the FACH measurement occasions or DRX periods.
##### 6.1.1.1.1.3 System Information Block reading of target CSG cell(s) in
CELL_FACH state {#system-information-block-reading-of-target-csg-cells-in-
cell_fach-state .H6}
In order to determine whether a UE is allowed to reselect to a CSG cell, a UE
would need to read the system information and compare it with the UEs CSG
whitelist.
Whilst for an intra-frequency CSG cell the UE should be able to read the SIB
of the CSG cell, for an inter-frequency CSG cell the UE would need to use DRX
gaps or FACH measurement occasions (depending on the UE capability and when
the UE doesn't have a 2^nd^ receiver). Due to the SIB scheduling of the CSG
cells, the DRX or FACH measurement occasions patterns may not be sufficient
for a UE to be able to read the whole SIB information for sometime.
##### 6.1.1.1.2 Target HNB acquiring the UE context from the source HNB.
In macro networks the UE context is acquired from the source RNC by the RNC
managing the reselected cell by reference to the UE's U-RNTI. For HNB systems
(pre Rel-11) U-RNTI assignment is managed independently by each HNB and hence
it is not possible for the HNB or HNB-GW to determine the source cell (HNB)
using the UE's U-RNTI.
##### 6.1.1.1.3 Support for mixed HNB releases.
When the HNB-GW is upgraded to Rel-11, it is possible that some HNBs
connecting to the HNB-GW are still pre-Rel-11. If a central U-RNTI management
is agreed in Rel-11, the U-RNTI is unique in all Rel-11 HNBs under a given
HNB-GW. However since in pre-Rel-11 HNBs U-RNTIs are managed independently by
each HNB, the uniqueness of U-RNTI within the HNB-GW cannot be guaranteed. In
case a U-RNTI was assigned in an uncoordinated manner by pre-Rel-11 HNB, then
Rel-11 HNB needs to recognise that this U-RNTI was assigned uncoordinated and
no attempt should be made to retrieve the UE context.
#### 6.1.1.2 Possible solutions
##### 6.1.1.2.1 CELL_FACH mobility Support for CSG-capable UEs
##### 6.1.1.2.1.1 Detection and Search criteria for reselection in CELL_FACH
{#detection-and-search-criteria-for-reselection-in-cell_fach-1 .H6}
**Solution A1: Same search criteria as Idle and PCH**
In order to detect a CSG cell, a UE with a CSG whitelist in CELL_FACH state
should be able to detect CSG cells from the "CSG PSC Split Information" IE and
"Dedicated CSG frequency List" IE.
When reselecting in CELL_FACH state to CSG cells, a similar search criteria
applies as is used for Idle and PCH states.
\- The UE autonomous search function shall be used by a UE in CELL_FACH for
reselection to CSG cells on the same frequency as the source cell, when the
CSG cell detected is suitable, and according to the reselection rules where
the CSG cell is the highest ranked (using the cell reselection criteria).
\- The UE search function shall be used by a UE in CELL_FACH for reselection
to CSG cells on a different frequency to the source cell, when the CSG cell
detected is the strongest cell, irrespective of the cell reselection rules.
**Solution A2: UE\'s NCL for re-selection can be changed on a per UE basis in
CELL_FACH**
Network can change the NCL of the UE used for Cell re-selection via dedicated
messages. This can be done after indication of proximity from the UE or
triggered by the network.
###### 6.1.1.2.1.2 Measuring of inter-frequency CSG cells in CELL_FACH state
**Solution B1:** **CSG frequencies are included in additional 2 frequencies.**
For measuring CSG cells in CELL_FACH state a UE would need to measure on the
dedicated CSG frequency(ies). UE could measure first on the dedicated CSG
frequency(ies) and then additional frequencies (listed in the system
information block type 11/11bis/12). Still keeping the maximum of 2 additional
frequencies.
**Solution B2: UE measures on more than 2 additional frequencies**
> **Variant B2a: More FACH measurement periods are assigned.**
>
> For measuring CSG cells in CELL_FACH state a UE would need to measure on the
> dedicated CSG frequency(ies). This would be in addition to the requirement
> that a UE is only required to measure on two frequencies.
>
> If a UE is required to measure more than 2 additional frequencies and UE
> requires measurement occasions to perform the measurements in CELL_FACH, the
> UE is assigned more inter-frequency FACH measurement occasions.
>
> If a UE is required to measure more than 2 additional frequencies and HS-
> DSCH discontinuous reception is ongoing, the UE could be assigned more DRX
> periods.
>
> Allowing more measurement periods has the effect of needing to schedule the
> UE for more gaps for all FACH measurements, therefore some reduction in
> throughput would be expected in legacy UEs.
>
> **Variant B2b: Additional set of FACH measurement periods are assigned.**
>
> If a UE is required to measure more than 2 additional frequencies and UE
> requires measurement occasions to perform the measurements in CELL_FACH, the
> UE is assigned an additional set of inter-frequency FACH measurement
> occasions for measuring CSG cells.
>
> If a UE is required to measure more than 2 additional frequencies and HS-
> DSCH discontinuous reception is ongoing, the UE could be assigned an
> additional set of DRX periods.
>
> The second measurement period would only be used by UE supporting it and
> therefore not affecting any legacy UEs behaviour.
>
> **Variant B2c: UE uses autonomous gaps**
>
> UE uses autonomous gaps to measure more than 2 additional frequencies, where
> these frequencies are the dedicated CSG frequency(ies).
**Solution B3: UE measures CSG cells in 2^nd^ DRX**
In the release 11 further enhancements for CELL_FACH Work Item, a 2^nd^ and
longer DRX cycle in CELL_FACH will be defined (details are FFS). This longer
DRX cycle could be equivalent to that specified in Idle modes and PCH states,
therefore the same autonomous measurement behaviour can be used by the UE for
reselection to CSG cells in CELL_FACH as already specified for Idle Mode,
CELL_PCH and URA_PCH states. A combination of the 1^st^ and 2^nd^ DRX could be
sufficient to read the system information.
###### 6.1.1.2.1.3 System Information Block reading of target CSG cell(s) in
CELL_FACH state
**Solution C1: UE doesn't need to read SIB before reselecting to previously
visited CSG cell. Instead relying on fingerprint.**
For a previously visited member cell the UE will have a whitelist entry for
the cell, and a set of information pertaining to the CSG cell that would allow
the UE to send a proximity indication in CELL_DCH. It is expected that a UE
will know that it near a member CSG cell and therefore recognize from
measurements fingerprint the member CSG cell in which case it may not need to
read the SIB information before reselecting, but rather reselects, then reads
the SIB (as a final check on the membership) before sending the CELL UPDATE
message (if allowed).
**Solution C2:** **UE reads SI in 2^nd^ DRX**
As per solution B3 above a UE uses the 2^nd^ DRX also for reading the SI of a
CSG cell to determine whether UE is allowed to reselect.
**Solution C3:** **If FACH measurement occasions or DRX period is not long
enough to perform SI, NW can reconfigure UE to suitable state or provide
longer DRX**
UE indicates CSG measurement results in a Cell Update message (without SI
reading results). The network can then decide whether to perform redirection,
or to move the UE to a more suitable state, or to provide a longer DRX period
in order that the UE can perform SI reading and membership check.
**Solution C4: UE uses** autonomous search
UE reads the neighboring SIBs as done in CELL_PCH or Idle.
**Solution C5: UE uses autonomous gaps**
UE uses autonomous gaps to read the system information of inter-frequency CSG
cell.
##### 6.1.1.2.1.4 Common Solution {#common-solution .H6}
The above set of solutions allow for the reselection in CELL_FACH. There is
another option whereby the UE reports a proximity indication (or type of
proximity indication) in CELL_FACH when in the vicinity of a previously
visited member CSG cells. The network could then move the UE into an
appropriate state to perform the search, measurements and System Information
reading/acquisition. In Idle/PCH this would be CSG reselection as per REL-8 or
CSG mobility in CELL_DCH state as per REL-9.
##### 6.1.1.2.2 Target acquiring UE context from the source HNB
The solutions listed below do not consider access control/membership aspect
that would be necessary in case of Inter --CSG mobility since access
control/membership aspect are discussed within the scope of mobility in CELL
DCH state. It is assumed that the framework for access control/membership
aspect agreed for Cell DCH Mobility would be adopted for CELL FACH mobility
scenario also.
**Solution 1:Assignment of U-RNTIs by the HNB-GW.**
**Variant 1a: U-RNTI Reassignment during UE Registration**
When a UE first connects to a HNB, the HNB retrieves a unique U-RNTI from the
HNB-GW for the UE. This therefore would provide a single, central place to
allocate U-RNTIs, and hence in theory this could provide a guarantee that each
U-RNTI allocated is unique across all HNBs registered with that HNB-GW,
provided that all HNBs support that functionality. A similar scheme, maintains
the HNB as the "allocator" of the UE's U-RNTI, but with a variation and
involves enhancement of the HNBAP UE REGISTRATION procedure to allow the HNB
to inform the HNB-GW about the U-RNTI(s) assigned to the UE. The HNB-GW is
then able to respond with different U-RNTI(s) in case these values are already
in use by another HNB registered with that HNB-GW. In case the U-RNTI value(s)
suggested by the HNB are not accepted by the HNB-GW, the HNB performs the RRC
RECONFIGURATION procedure towards the UE.
Such a scheme should allow a THNB to query the SHNB from the HNB-GW using the
UE's U-RNTI.
Figure 6.1.1.2.2.1: Intra HNB GW Intra CSG Mobility in CELL FACH state U-RNTI
Management
> The description of the procedure assumes the following:
  * UE-1 has one or more active PS session on source HNB but has moved to the CELL_FACH state
  * The UE is able to find CSG/Hybrid cell assuming that CSG/Hybrid cell is configured in the NCL as already clarified by RAN2[14]. In case CSG/Hybrid cell is not configured in the NCL, autonomous search function in CELL FACH state is FFS (based on the RAN2 work).
1\. UE re-selects to Target HNB while in the CELL_FACH state.
2\. UE sends a Cell Update message to Target HNB including the U-RNTI assigned
to the UE by Source HNB.
3\. The Target HNB sends HNBAP UE Signalling Transfer message to the HNB-GW
including the U-RNTI value and the received Cell Update message. U-RNTI is
included as a separate IE to prevent the need for HNB-GW to decode the Cell
Update message to know the U-RNTI.
4\. The HNB-GW looks up the UE\'s Context based on the U-RNTI value and
determines that the UE is currently registered on Source HNB. In case, the
target HNB belongs to different CSG than the source HNB, access control of the
UE is FFS.
5\. The HNB-GW sends to the Source HNB the HNBAP UE Signalling Transfer for
that UE with Cell Update message. HNB-GW shall include Context ID as the
Routing Information. HNB-GW shall also send target RNC-Id and target Cell-
Identity information to the Source HNB to enable Source HNB to encode RANAP
Relocation Required message.
6\. The Source HNB decides to relocate the UE to the Target HNB. The Source
HNB sends an RNA: CONNECT message containing an RNSAP: ENHANCED RELOCATION
REQUEST message to the Target HNB to prepare the Target HNB for relocation.
7\. The Target HNB sends an RNA:DIRECT TRANSFER message containing an
RNSAP:ENHANCED RELOCATION RESPONSE message back to the Source HNB.
8\. The Source HNB may send RNA: DIRECT TRANSFER message containing an RNSAP:
RELOCATION COMMIT message, to commit the relocation preparation on the Target
HNB.
9\. Target HNB sends UE e.g. RRC Cell Update Confirm message to inform the new
S-RNTI for the UE.
10\. Target RNC receives the UTRAN Mobility Information Confirm from the UE.
11\. The rest of the relocation procedure continues as in the Steps 7, 8, 9 of
TS 25.467 Figure 5.7.2.1-1.
CELL_FACH Mobility handing involving Macro RNC cell (HNB to Macro or Macro to
HNB) is based on the following assumptions:
(a) RNSAP messages can be exchanged between Macro RNC and HNB by means of an
Iur interface between Macro RNC and HNB-GW).
(b) Target HNB would be able distinguish between HNB to HNB and Macro to HNB
mobility by looking at the SRNC ID part of the U-RNTI.
With the above assumption,
  * HNB to Macro CELL FACH Mobility would be handled according to Figure 6.1.1.2.2.3
  * Macro to HNB CELL FACH Mobility would be handled according to Figure 6.1.1.2.2.4
**Variant 1b: U-RNTI Range Assignment during HNB Registration**
The HNB reports the capability or a U-RNTI range request to the HNB-GW by
sending the HNB REGISTER REQUEST message. The HNB-GW can assign the size of
the U-RNTI range according to the capability or the U-RNTI range request of
HNBs. E.g. an enterprise HNB can support 16 concurrent users, the HNB-GW can
assign 24 or 32 U-RNTIs for this HNB. During the HNB CONFIGURATION TRANSFER,
this range can be exchanged between HNBs if there is a possible Iurh
connection. When a UE in CELL_FACH/CELL_PCH/URA_PCH reselects to the target
HNB, the target HNB can know the source HNB via the U-RNTI directly without
any extra signalling via the HNB-GW. The current signalling for existing
mobility procedures are preserved.
For mobility between HNBs with the Iurh connection, the HNB can get the U-RNTI
range of the other HNBs via the HNB CONFIGURATION TRANSFER via the HNB-GW. The
target can identify the source by the U-RNTI in the CELL UPDATE message
without asking the HNB-GW.
Figure 6.1.1.2.2.2: Example Procedures for U-RNTI Range Assignment during HNB
Registration
1\. The HNB sends the HNB Register Request to the HNB-GW with the capacity of
the HNB.
2\. The HNB-GW response HNB Register Accept to the HNB with a range of U-RNTI
for the HNB.
3\. The HNB requests the configuration of the Target HNB(s) by sending HNBAP
HNB Configuration Transfer Request to the HNB-GW.
4\. The HNB-GW response the range of U-RNTI for the target HNBs with other
parameters.
At some point later the UE reselects to the THNB as follows.
1\. The UE sends Cell Update to a HNB with Cause = Cell Reselection.
2\. The target HNB identify the source HNB based on the range information of
the neighbour HNBs.
3\. The target HNB includes the Cell UPDATE in the Uplink Signalling Transfer
Indication message to the source HNB via Iurh.
4\. A relocation is triggered to relocate the UE context from the source to
the target HNB.
5\. The target HNB then confirms the Cell Update to the UE
6\. The UE responds with a UTRAN Mobility Information Complete.
The following two figures show the example procedures to support the CELL_FACH
mobility between Macro and HNB
Cell update from HNB to macro cell
Figure 6.1.1.2.2.3: Example Procedures for cell update from HNB to macro cell
Cell update from macro cell to HNB
Figure 6.1.1.2.2.4: Example Procedures for cell update from macro cell to HNB
The only difference comparing to the mobility between HNBs is that in the step
4, the HNB-GW identifies the source by the U-RNTI comprising RNC ID and
S-RNTI.
**Variant 1c U-RNTI Management by HNB-GW**
During the HNB-Registration process the HNB-GW provides a list of U-RNTI
values (or a U-RNTI value plus a range of subsequent values) available for
exclusive usage by the HNB. An HNB may indicate during HNB Registration the
number of requested U-RNTI values. Reason being that the number of UEs HNBs
are able to support might be different, or the number of U-RNTIs a HNB has to
assign might depend on the HNBs role within the femto network (e.g. HNBs
located close to the entrances of an enterprise or mall area). The U-RNTI once
assigned by an HNB is not changed until the UE leaves the coverage area of the
HNBs connected to the same HNB-GW, e.g. when handed over to a macro NB/RNC.
The following procedures are described in the next section showing
applications of such a centrally managed U-RNTI assignment scheme:
\- HNB and UE registration in section below
\- UE mobility:
\- Cell Update to a second HNB, in 'UE Mobility: Cell Update to HNB#2'
\- HO from a first to a second HNB followed by Cell Update to a Macro NB, in
Section 'UE mobility: HO from HNB#1 to HNB#2 followed by Cell-update to macro
NB'.
**HNB registration and UE registration**
The message flow depicted below shows one possibility for U-RNTI management by
the HNB-GW not introducing additional delays in UE REGISTRATION procedure.
Figure 6.1.1.2.2.5: U-RNTI coordination at the HNB-GW
1) HNB sends HNB REGISTRATION REQUEST to HNB-GW, optionally indicating the
number of U-RNTI values it want to get assigned.
2) HNB-GW accepts the HNB REGISTRATION and additionally provides a list of
U-RNTI values the HNB may assign to UEs.
\- The HNB-GW, when granting a given set of U-RNTI values to a requesting HNB,
marks those U-RNTI values as being assigned to this HNB.
3) UE sends RRC Connection Request.
4) In answering with RRC Connection Setup the HNB assigns a currently
unallocated U-RNTI value out of the list of U-RNTI values previously received
from the HNB-GW.
5) RRC connection setup is completed.
6) HNB needs to register the newly attached UE with the HNB-GW and the HNB-GW
is informed about the assigned U-RNTI being now in use by the HNB performing
the UE Registration. The HNB may optionally indicate the need for more U-RNTIs
for future assignment.
7) HNB-GW accepts the registration and optionally, if the number of U-RNTI
values still available at the HNB is below a minimum, it includes a new set of
U-RNTI values to the HNB.
\- The HNB-GW when accepting the UE registration marks the U-RNTI value
indicated in the UE REGISTRATION REQUEST message as "assigned to UE" and
additionally stores the information where to retrieve the corresponding UE
context. As long as the UE is not handed-over to another HNB, the information
about the HNB that was initially assigned the U-RNTI and the HNB where to
retrieve the UE context are identical.
**UE mobility: Cell Update to HNB#2**
The message flow given below provides details of how the UE context is
retrieved based on the U-RNTI contained in the CELL UPDATE message.
Figure 6.1.1.2.2.6: U-RNTI coordination at the HNB-GW: Cell Update to other
HNB
1) HNB#1 and HNB#2 register with the HNB-GW, being provided with U-RNTIs.
2) The UE connects to HNB#1, which registers the UE with the HNB-GW, which is
informed about the U-RNTI "in use" at HNB#1.
3) The UE changes from CELL_DCH state to e.g. CELL_FACH state and due to
physical movement, it discovers another acceptable HNB cell.
4) UE performs Cell Update procedure and presents the previously assigned
U-RNTI to the selected HNB.
\- The receiving HNB needs to query the HNB-GW about the HNB that is known to
currently host the UE context.
There are two possibilities to request for the HNB holding the UE context
denoted by the indicated U-RNTI. Either:
5a/5b) Request the HNB-ID from the HNB-GW, holding the UE context denoted by
the received U-RNTI.
\- The HNB-GW, when retrieving the request about the HNB last serving the UE,
stores the identity of the requesting HNB as the "next serving" HNB.
5c) Like in between macro RNCs, the RRC Cell Update is forwarded to HNB#1via
RNSAP means.
or:
6a/b) The RRC Cell Update is forwarded to HNB#1 via the HNB-GW by HNBAP means.
As after step 5b, the HNB-GW memorizes the fact that the UE context denoted by
the U-RNTI is being transferred to HNB#2
7) The receiving HNB, triggers RNSAP relocation. Upon HNBAP Relocation
Complete the UE context can be regarded as being successfully transferred to
HNB#2.
**UE mobility: HO from HNB#1 to HNB#2 followed by Cell-update to macro NB**
The message flow given below provides details how to keep the information
about the "last" serving HNB up to date in the HNB-GW. This is considered key
for scenarios, where a UE first is handed-over to an HNB of e.g. in case of
enterprise or mall scenario and then in turn is handed over to a series of
other HNBs, before the UE state changes from CELL-DCH to any other non-
CELL_DCH state.
Figure 6.1.1.2.2.7: U-RNTI coordination at the HNB-GW: HO followed by Cell
Update to macro NB
1) HNB#1 and HNB#2 register with the HNB-GW, which in turn provides U-RNTIs
for being assigned to UEs.
2) The UE connects to HNB#1, the HNB-GW marks the U-RNTI as being "in use" in
HNB#1.
3) The UE, in e.g. CELL_FACH, moves to HNB#2 and the HNB-GW is informed about
the U-RNTI "in use" in HNB#2.
4) The UE performs Cell Update procedure and presents the U-RNTI assigned
originally by HNB#1 to the RNC controlling the selected cell.
\- Based on the RNC-ID which is part of the U-RNTI the receiving RNC is
starting RNSAP procedure towards the HNB-GW.
5) The received U-RNTI is passed to the HNB-GW via RNSAP Uplink Signalling
Transfer Indication.
\- The HNB-GW, when retrieving the information about the last serving HNB,
stores the identity of the requesting RNC as "next" serving node.
6) The HNB-GW relays the RNSAP Uplink Signalling Transfer to the serving
HNB#2.
7) The HNB#2 triggers an Enhanced Relocation procedure, during which the
U-RNTI will be released from being in use, hence being "freed" for further
usage.
8) The target RNC then confirms the Cell Update to the UE.
9) The UE responds with a UTRAN Mobility Information Complete.
**Variant 1d U-RNTI Management by HNB-GW -- U-RNTI modification**
This solution is an evolution of what we proposed with Solution 1c. While the
registration procedure would remain the same of 1c (i.e., containing the
U-RNTI range allocation by the HNB-GW to the HNB), the Cell Update HNB to HNB
and HNB to macro have been updated.
The main difference with Solution 1c consists in the **U-RNTI being modified**
every time the UE leaves the coverage area of an HNB and attaches to another
HNB connected to the same HNB-GW, e.g. when handed over to a macro NB/RNC
(while, in 1c, the U-RNTI remained the same as long as the UE did not leave
the HNB-GW coverage area).
**Cell update from HNB1 to HBN2**
Figure 6.1.2.2.8 describes the HNB to HNB cell update procedure for Solution
1d. Changes with respect to Solution 1c are marked in bold red:
\- Message 4b): Notice that now, after the UE sends the Cell Update message
and presents the previously assigned U-RNTI to the target HNB, the target HNB
assigns now a new U-RNTI and sends it to the UE within the RRC Cell Update
Confirm message.
\- Message 5a)/6a): Notice that the target HNB, knowing the previously
assigned U-RNTI, will still use it to indicate to the HNB-GW to retrieve UE
context from the proper source HNB.
Figure 6.1.1.2.2.8: Solution 1d, Cell Update to other HNB
**Cell update from HNB1 to Macro**
Similarly to the HNB to HNB cell update, also for the HNB to macro cell update
the UE will be assigned a new U-RNTI by the RNC once it leaves the HNB-GW
coverage area. Figure 6.1.1.2.2.9 reports the message flow and in bold red are
marked the difference with the equivalent procedure of Solution 1c.
Figure 6.1.1.2.2.9: Solution 1d, Cell Update towards macro HNB
**Variant 1e S-RNTI prefix based solution**
U-RNTI is formed by a 12 bit long RNC-ID followed by a 20 bit long S-RNTI.
The first _n_ bits of the S-RNTI can carry a unique Identifier to identify the
HNB within a specific area (in terms of macro-cell). We will call such first
_n_ bits **S-RNTI-prefix** and it will occupy a flexible space in the 20 bit
long S-RNTI, up to, e.g. 9 bits. This would imply that we assume a maximum
number of HNBs under the HNB-GW of 512 (i.e., 2\^9) and at maximum number of
S-RNTIs needed per every HNB equal to 2048 (i.e. 2\^11).
These S-RNTI prefixes are assigned by the HNB-GW in a unique way to every HNB
under its control. In order to maximize the reuse of U-RNTI, the solution can
take into account information such like the macro-cell identifier in HNB-
Registration message.
The HNB-GW shall assign the S-RNTI Prefix for this HNB considering the
uniqueness of the Prefix within the best-macro-cell area and optionally the
HNB capacity.
_Note: the description of solution 1e includes a basic and an optimized
version. The optimized version takes into account macro-cell identifiers and
HNB capacities. This guarantees a maximum reuse of U-RNTIs. However, in case
of scenarios in which the optimized version of the solution turns out to be
too complex or fails to find a feasible S-RNTI assignment, it can always fall
back to the basic version of the solution that works without any macro-cell
identifiers/HNB capabilities._
**HNB Registration**
The HNB-GW should take care of assigning the unique S-RNTI-prefix within the
macro-cell area and may consider the HNB capacity.
Figure 6.1.1.2.2.10 depicts the message flow for the S-RNTI prefixes
assignment by the HNB-GW during HNB Registration. Notice that Figure reports
also the steps necessary for additional mapping allowing S-RNTI prefixes
reuse.
Figure 6.1.1.2.2.10: Solution 1e, S-RNTI prefixes assignment at HNB
registration
**Cell update HNB to HNB**
In case of femto to femto mobility, the HNBAP HNB Configuration Transfer will
also provide the S-RNTI prefix along with other IP-Address details of the
neighbour HNB.
_Note: In order to support URA_PCH, the HNB-GW should also consider the
uniqueness of prefix within the HNBs of same URA/overlapping URAs and, in
addition, consider uniqueness if HNBs share the same macro cell coverage. With
such solution, even though the URA Update is received after the UE moves
across multiple HNBs or towards a macro cell, the source can be identified
based on the prefix._
The target HNB obtains the S-RNTI prefix from the first _n_ bits of the S-RNTI
parto of U-RNTI included in the Cell Update message. At this point, the target
HNB can retrieve the context by routing the message towards the proper source
HNB(see Steps 3 and 4 of Figure 6.1.1.2.2.11).
_Note: If the Reselection is Inter-CSG, the Target HNB will have to trigger an
Access Control procedure towards the CN._
Figure 6.1.1.2.2.11 below reports the message flow in case of CELL_FACH
mobility across HNBs.
Figure 6.1.1.2.2.11: Solution 1e, Cell Update towards other HNB
Notice that, in case there is no Iurh interface instance previously
established between the target HNB and the source HNB, the target HNB can ask
to establish it via the HNB-GW. Such case is described in Figure
6.1.1.2.2.11b.
_Note: Alternatively the configuration transfer could include S-RNTI prefix
info of all enterprise neighbours instead of only the HNB reported neighbours.
This will allow the HNB to route directly based on prefix for all deployed
HNBs, instead of querying the HNB-GW at the time of forwarding the Cell-FACH
message, and the message flow in Figure 6.1.1.2.2.11b would not be executed._
Figure 6.1.1.2.2.11b: Solution 1e, Cell Update towards other HNB with whom no
Iurh interface instance was previously established
**Cell update HNB to Macro**
Finally, in case of femto to macro mobility, if the Cell Update message
contains S-RNTI corresponding to the HNB-GW, then the Iurh message which
forwards the Cell Update from the RNC to the HNB-GW should also include the
macro-cell-id from which the cell-update is received. The HNB-GW will then use
the S-RNTI-prefix (first _n_ bits of the S-RNTI part of the U-RNTI included in
the Cell Update message from the RNC) and the macro-cell-id to find the proper
source HNB to route the message to. At this point the source HNB and the
(target) RNC can exchange the UE Context by means of the SRNS Relocation
procedure.
The procedure then ends with the RNC sending a Cell Update Confirm to the UE.
_Note: In order to support URA_PCH, the S-RNTI prefix uniqueness needs to
consider multiple macro-cells under the same URA/overlapping URAs. The mapping
between macro cells and their URAs is done via OAM configuration._
The message flow of the femto to macro CELL_FACH mobility scenario for
solution 1d is reported in Figure 6.1.1.2.2.12.
Figure 6.1.1.2.2.12: Solution 1e, Cell Update towards macro NB
**Solution 2 Methods involving additional information from the UE.**
**Solution 2a Pre-knowledge of Cell_FACH/Cell_PCH/URA_PCH mobility.**
When a UE is about to reselect to another HNB it informs the SHNB before the
reselection procedure. The SHNB can then inform the THNB that a UE is about to
reselect to it. This has some advantages, since the THNB will "know" which
SHNB the UE was accessing when it performs the reselection. In addition such a
scheme could allow the THNB to prepare resources if required, so for example
if the UE is in Cell_FACH and supports RABs, the impact on the data sent via
those RABs during the reselection procedure could be minimised if the THNB was
aware of the pending reselection. This would require the UE to report the
intended reselection cell to the SHNB in e.g. a Measurement Report and the
SHNB to then send an indication to THNB.
As the THNB has "pre-knowledge" of Cell_FACH/PCH/URA_PCH mobility the
procedure for this can be quite simple. Such scenarios are shown in the
following sequence diagram.
Figure 6.1.1.2.2.13: Intra HNB GW in CELL FACH state Pre-knowledge version
1\. UE sends RRC message to it's serving HNB
.Note: _The actual RRC message/procedure used is TBD by RAN2._
2\. The Serving HNB uses the information provided by the UE to determine the
address of the HNB that the UE is planning to reselect to.
3\. Serving HNB sends an RNA Connectionless Transfer message to the THNB
containing an indication that there is a pending reselection about to take
place. This message contains the UE context.
Note: _The Pending Reselection Indication message is TBD and could be either
an RNSAP or RNA message._
At some point later the UE reselects to the THNB as follows.
4\. UE sends Cell Update to a HNB with Cause = Cell Reselection.
5\. Target HNB determines that it already has a "pending" context for the UE
Note: _If the Reselection is Inter-CSG, the Target HNB will have to trigger an
Access Control procedure towards the CN._
6\. The target HNB updates the transport network layer information for any
RABs that are to be relocated to it by sending a HNBAP TNL Update Request
message to the HNB-GW, the HNB-GW responds with a HNBAP TNL Update Response.
7\. Target HNB indicates to the HNB-GW that the UE has successfully relocated
via the HNBAP UE Relocation Complete. The HNB-GW also switches the Uplane to
the Target HNB.
8\. The HNB-GW sends the HNBAP UE DEREGISTER to the Source-HNB indicating
Successful RNSAP Relocation with an appropriate cause value
9\. Target HNB then confirms the Cell Update to the UE
10\. UE responds with a UTRAN Mobility Information Complete
The solution outlined above, allows the THNB to complete the Reselection
procedure very quickly as minimal messaging is used and hence avoids drawbacks
of the THNB having to first retrieve the UE context from the SHNB before it
can complete the procedure. If for some reason the UE does not trigger a Cell
Update to the THNB after previously indicating that it was going to, the THNB
can simply release the "pending" UE context after a period of time, which
would be implementation specific.
However there are some drawbacks to this solution:
\- A THNB could be "informed" about a pending reselection and the UE may not
actually perform the reselection procedure.
\- This solution is only applicable to the mobility between R11 HNBs.
\- This solution requires a change in the UE behaviour; send the measurement
report to the source HNB, before sending the Cell Update to the target node.
Furthermore there is no mechanism to ensure that the "pre-information" is
received by the target before the Cell Update.
Solution 2b UE Indication of Source Cell.
This solution would require the UE to indicate in CELL UPDATE message the
source cell-id. From this the target HNB would be able to determine the source
HNB to acquire the UE context.
Such scenarios are shown in the following sequence diagram.
Figure 6.1.2.2.14: Intra HNB GW in CELL FACH state Source Cell Indication
version using context transfer procedure
Figure 6.1.2.2.15: Intra HNB GW in CELL FACH state Source Cell Indication
version using enhanced relocation procedure
1\. UE sends Cell Update to a HNB with Cause = Cell Reselection.
2\. Target HNB determines address of SHNB from Cell-ID information provided in
the Cell Update.
3\. Target HNB sends an RNA Connect message containing Context Transfer
Request to the Source HNB.
Note: _Either a new RNA procedure or existing Signalling Transfer Indication
can be used._
4\. Source HNB responds by sending a RNA Direct Transfer message containing a
Context Transfer Response message.
Note: _If the Reselection is Inter-CSG, the Target HNB will have to trigger an
Access Control procedure towards the CN._
Note 2: _Alternatively RNSAP enhanced relocation procedure can be used to
transfer the UE context to the target. In this case the source does not need
to send a Relocation Commit._
5\. The target HNB updates the transport network layer information for any
RABs that are to be relocated to it by sending a HNBAP TNL Update Request
message to the HNB-GW, the HNB-GW responds with a HNBAP TNL Update Response.
6\. Target HNB indicates to the HNB-GW that the UE has successfully relocated
via the HNBAP UE Relocation Complete. The HNB-GW also switches the Uplane to
the Target HNB.
7\. The HNB-GW sends the HNBAP UE DEREGISTER to the Source-HNB indicating
Successful RNSAP Relocation with an appropriate cause value.
8\. Source HNB sends an RNA Disconnect containing RNSAP Enhanced Relocation
Signalling Transfer message to the Target HNB.
9\. Target HNB then confirms the Cell Update to the UE.
10\. UE responds with a UTRAN Mobility Information Complete.
**Solution 3 Use of DSCR**
In macro system, both SRNS relocation and DCSR (Directed Signalling Connection
Re-establishment) can achieve mobility between RNCs. SRNS relocation procedure
can guarantee the continuity service. The RNC will send a RRC CONNECTION
RELEASE message with cause \"Directed Signalling Connection re-establishment\"
when it is unable to contact the SRNC to validate the UE due to lack of Iur
connection. DSCR procedure is simpler, more suitable for the mobility of non-
real time/non- continuity services.
Regarding the choice of transport channel, DCH is used for applications
requiring high data rate and low delay services. FACH is designed for
applications requiring very low data throughput rate. In Cell_PCH and URA_PCH
states, there is no user data transfer.
According to the choosing of transport channel for different services, when UE
is in CELL_DCH, high data rate and low delay services are running, SRNS
relocation is more suitable for the inter-RNC mobility. When UE is in
CELL_FACH/CELL_PCH/URA_PCH, low data throughput rate services are running or
there is no user data transfer, DSCR is the best choice to realize the inter
RNC mobility.
For HNB, similar principle would be applied.
The procedure of DSCR to achieve the inter HNB mobility is illustrated in the
following figure.
Figure 6.1.1.2.2.16: Use of DSCR
1\. UE sends Cell Update to the target HNB.
2\. Target HNB sends RRC CONNECTION RELEASE message with the release cause
"Directed signalling connection re-establishment".
3\. UE sends RRC CONNECTION REQUEST to target HNB with the cause "Call re-
establishment".
4\. The call is re-established through the target HNB.
The source HNB releases the old RRC connection upon expiry of the timer.
Using DSCR to realize the inter HNB and HNB-Macro mobility in CELL_FACH
/CELL_PCH /URA_PCH states, the impacts on current specification is minimized.
It's the simplest way.
According to TS 23.060 (text extracted are shown in Italics):
_In case of RRC connection release with cause \"Directed Signalling connection
re-establishment\" or in case of an error, the PMM state of the MS and the
3G‑SGSN may lose synchronisation. In this case the MS may be in the PMM‑IDLE
state while the 3G‑SGSN is in the PMM‑CONNECTED state._
**Observation 1: From the NAS point of view, it can be noted that RRC
Connection Release with cause \"Directed Signalling connection re-
establishment\" is treated like an error condition where the UE and SGSN are
in two different PMM states.**
_If the SGSN in PMM-CONNECTED state receives Iu connection establishment
request from the MS, the SGSN shall ensure the new Iu connection and the
existing one are for the same MS, and if so the SGSN shall process the new
request and release existing Iu connection and all RABs associated with it. To
ensure that the new Iu connection and the existing one are for the same MS,
the SGSN may perform the security functions._
**Observation 2: During the DSCR, the existing Iu connection cannot be kept
for the UE. In other words, a new Iu connection is established for the UE
while the old Iu connection is to be released.**
**Observation 3: The SGSN may need to perform the additional security function
in order to ensure that new Iu connection and old Iu connection belongs to the
same UE.**
_The UE shall also perform a RAU procedure immediately on entering PMM-IDLE
state when it has received a RRC Connection Release message with cause
\"Directed Signalling connection re-establishment\" even if the RA has not
changed since the last update. The UE shall perform a subsequent Service
request procedure after successful completion of the RA Update procedure to
re-establish the radio access bearer when it has pending user data to send._
**Observation 4: The UE is mandated to perform the RAU procedure even if RA is
not change after DSCR.**
Taking into consideration of the above description, the actual end to end
signalling diagram when using DSCR procedure would be as following:
Figure 6.1.1.2.2.17: DSCR Method showing end to end signalling
The above signalling diagram Figure 6.1.1.2.2.17 and the observations show
that DSCR based solution incurs huge AS and NAS signalling and CN processing.
Clearly, this method is much more complicated than it looks only from the RAN
point of view. It must be noted that the basic purpose of Release-11 SI is to
look for optimized handling for CELL FACH mobility that is long awaited since
release-9. It is also important to mention that CELL FACH Mobility is given as
high priority in this Study Item during the previous discussions. Therefore,
while it is useful for the RAN3 to note that in the pre-Rel-11cases DSCR can
be seen as a solution to handle the CELL FACH state this solution should be
removed as an option for the Rel-11 CELL FACH Mobility solution.
> **Proposal 1: The DSCR method can be considered as temporary solution to
> handle CELL FACH Mobility (no need to specify anything in the specification)
> for previous releases, but should not be considered as a candidate solution
> for CELL FACH Mobility in context of Release-11 study Item.**
##### 6.1.1.2.3 Support for mixed HNB releases
Solution 1 Using extended RNC-ID
To allow for a mixed deployment of HNBs supporting central U-RNTI management
and HNBs not supporting central U-RNTI management, the HNB-GW should assign an
extended RNC-ID to those HNBs not supporting central management of U-RNTIs
during the HNB Registration process. According to TS 25.469 clause 9.2.26 the
RNC-ID could either be of traditional 12bits length or of 16 bits length
("extended RNC-ID"). The assignment of the extended RNC-ID should be done in a
way to ensure that bits 1 up to 12 are identical with the RNC-ID assigned to
HNBs supporting central management of U-RNTI values. In this way, bits 13 up
to 16 of a specific extended RNC-ID may form a numbering space indicating that
the corresponding U-RNTI was assigned by a HNB not supporting central
management of U-RNTIs.
Note, that all HNBs served by the same HNB-GW share the same RNC-ID
considering bits 1 to 12 only. This ensures that all HNBs served by one HNB-GW
are seen as one single RNC from the Core Network or an Iur-connected macro
RNC, based on the assumption that the RNC-ID known to the CN node or Iur
connected macro RNCs is a 12 bit identifier.
The HNB-GW procedure assigning centrally managed U-RNTI values does not
provide U-RNTI values that might be confused with those not centrally managed.
In this way, the U-RNTIs allocated by HNBs not supporting central U-RNTI
management are distinguishable from U-RNTIs allocated for UEs served by HNBs
supporting central U-RNTI management.
The HNB-GW's awareness of the HNBs' support of U-RNTI management may be either
based on the HNB identity or on the presence of information during HNB
Registration.
Solution 2 Using indication from UE
U-RNTI management is not used in this solution, so mixed HNB releases can be
accomodated, as the source identification is performed by the Rel-11 UE.
Solution 3 Use of DSCR
U-RNTI management is not used in this solution. This can be applied at any
release for UEs that can reselect to a HNB.
#### 6.1.1.3 Comparison of solutions
##### 6.1.1.3.1 Narrative summary of solutions advantages/disadvantages
**Solution 1a**
**Advantages**
\- The solution does not require any new functionality in the UE. In other
words, the existing macro behaviour where U-RNTI is used at the target to
detect the source RAN node is kept unchanged.
\- The HNB does not need to maintain/ kept updated about the URNTI range
utilised by the neighbouring HNBs.
**Disadvantages**
\- If the HNB-GW determines a clash of U-RNTIs the HNB will have to perform an
RRC Reconfiguration procedure to the UE, which can add additional delay.
**Solution 1b**
**Advantages**
\- The macro-macro CellFACH mobility procedure can be reused without any
change.
\- The Cell UPDATE message can be transmitted to the source HNB without
querying HNB-GW to minimize the handover delay.
**Disadvantages**
\- A central allocation scheme such as this will also limit the total number
of U-RNTIs that can be allocated to 2\^20, which in turn places a limit on the
number of UEs that can be supported by HNBs accessing that HNB-GW. Such a
limit may be undesirable.
**Solution 1c**
**Advantages**
The main advantages of this solution consist in:
\- providing fully dynamic assignment of the U-RNTIs to different HNBs under
the same HNB-GW;
\- full support for pre-Rel-11 CSG capable UEs;
\- compatibility with Pre-Rel-11 HNBs.
\- the HNB does not need to maintain/ kept updated about the URNTI range
utilised by the neighbouring HNBs.
**Disadvantages**
\- The solution may require extra signaling in case a HNB needs to request
more U-RNTIs to the HNB-GW.
\- New logic in the HNB-GW is needed to keep track of the UE when moving among
the different HNBs.
**Solution 1d**
**Advantages:**
\- No impact on the UEs.
\- No UE specific database needed at the HNB-GW.
\- HNB-GW could assign U-RNTI values according to individual HNB requirements
(i.e., fully dynamic U-RNTI ranges assignment).
\- No need for contiguous U-RNTIs assigned to a given HNB.
\- Involving the HNB-GW into the preparation of the UE handover allows for
unique procedure in the HNB as no differentiation between HNB to HNB and HNB
to macro HO is required.
**Disadvantages:**
\- HNB-GW needs to keep mapping HNB IDs and U-RNTI values assigned.
**Solution 1e**
**Advantages:**
\- No impact on the UEs.
\- Minimal impact on the HNBs.
\- No UE specific database needed at the HNB-GW.
\- The HNB-GW just needs to assign the S-RNTI-prefix based on the macro
surrounding.
\- The reuse of U-RNTIs is allowed across non overlapping area so that a
higher number of UEs in CELL_FACH can be handled at the same time under a give
HNB-GW.
**Disadvantages:**
\- HNB-GW needs to keep a mapping table between S-RNTI prefixes and HNB-Ids
\- Solution 1e requires (source) R11 HNBs for incoming mobility.
\- In case to support U-RNTIs reuse, solution 1e requires knowledge of macro
network topology to ensure unique U-RNTIs are assigned within a
macro/geographical area by the HNB-GW
\- In case to support U-RNTIs reuse, it relies on multiple macro cell
measurements that may not be available.
**Solution 2a**
**Advantages**
> The solution outlined above, allows the THNB to complete the Reselection
> procedure very quickly as minimal messaging is used and hence avoids
> drawbacks of the THNB having to first retrieve the UE context from the SHNB
> before it can complete the procedure. If for some reason the UE does not
> trigger a Cell Update to the THNB after previously indicating that it was
> going to, the THNB can simply release the "pending" UE context after a
> period of time, which would be implementation specific.
**Disadvantages**
\- A THNB could be "informed" about a pending reselection and the UE may not
actually perform the reselection procedure.
\- This solution is only applicable to the mobility between R11 HNBs.
\- This solution requires a change in the UE behaviour; send the measurement
report to the source HNB, before sending the Cell Update to the target node.
Furthermore there is no mechanism to ensure that the "pre-information" is
received by the target before the Cell Update.
**Solution 2b**
**Advantages**
\- This solution makes no requirement for management of U-RNTI or any
restriction on their use.
\- The additional information needed from the UE enables the THNB to quickly
obtain the UE context if an Iurh already exists to the Source.
\- The procedures do not need to use enhanced relocation to support transfer
of UE context.
\- Does not require any further macro network information, apart from source
cell ID from UE.
**Disadvantages**
\- This solution is only applicable to the mobility between R11 HNBs.
\- This solution requires a change in the UE to provide additional information
in the Cell Update message.
\- Requires an additional procedure in RNA or RNSAP.
**Solution 3**
**Advantages**
> This involves no new procedures, or changes to UE. No U-RNTI management is
> needed, and could be implemented without any further standards impact (apart
> from RAN2 changes). It could be considered as the failure case for Solution
> 1(a,b,c) when UE context cannot be retrieved.
**Disadvantages**
\- Does not provide CELL_FACH mobility, as UE is sent to idle and has to re-
attach.
\- Involves signalling to release bearers to the CN, and involves extra
signalling and delay.
##### 6.1.1.3.3 Comparison Table
+-------+-------+-------+-------+-------+-------+-------+-------+-------+ | A | H | UE | DSCR | | | | | | | spect | NB-GW | pro | | | | | | | | | U | vides | | | | | | | | | -RNTI | i | | | | | | | | | manag | nform | | | | | | | | | ement | ation | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+-------+ | | U | U | U | U | S | Pre | S | 3 | | | -RNTI | -RNTI | -RNTI | -RNTI | -RNTI | -know | ource | | | | Re | Range | Manag | Manag | Pre | ledge | cell | | | | assig | Assig | ement | ement | fixes | 2a | indic | | | | nment | nment | by | by | Manag | | ation | | | | d | d | H | H | ement | | 2b | | | | uring | uring | NB-GW | NB-GW | by | | | | | | UE | HNB | 1c | 1d | H | | | | | | Re | Re | | | NB-GW | | | | | | gistr | gistr | | | based | | | | | | ation | ation | | | on | | | | | | 1a | 1b | | | ge | | | | | | | | | | ograp | | | | | | | | | | hical | | | | | | | | | | areas | | | | | | | | | | ( | | | | | | | | | | macro | | | | | | | | | | cell | | | | | | | | | | cove | | | | | | | | | | rage) | | | | | | | | | | | | | | | | | | | | 1e | | | | +-------+-------+-------+-------+-------+-------+-------+-------+-------+ | Ele | HN | HN | HN | HN | HN | HN | HN | HNB | | ments | B-GW, | B-GW, | B-GW, | B-GW, | B-GW, | B-GW, | B-GW, | | | Imp | HNB | HNB | HNB | HNB | mini | HNB, | HNB, | | | acted | | | | | mally | UE | UE | | | | | | | | HNB | | | | +-------+-------+-------+-------+-------+-------+-------+-------+-------+ | Bac | HNBs | HNBs | HNBs | H | H | HNBs | HNBs | No | | kward | and | and | and | NB-GW | NB-GW | and | and | r | | compa | H | H | H | must | must | UEs | UEs | equir | | tible | NB-GW | NB-GW | NB-GW | be | be | must | must | ement | | | must | must | must | R-11, | R-11, | be | be | | | | be | be | be | but | but | R-11 | R-11 | | | | R-11, | R-11, | R-11, | co | co | | | | | | but | but | but | -exis | -exis | | | | | | co | co | co | tence | tence | | | | | | -exis | -exis | -exis | with | with | | | | | | tence | tence | tence | pre | pre | | | | | | with | with | with | -R-11 | -R-11 | | | | | | not | not | not | HNBs | HNBs | | | | | | R-11 | R-11 | R-11 | pos | pos | | | | | | HNBs | HNBs | HNBs | sible | sible | | | | | | pos | pos | pos | | | | | | | | sible | sible | sible | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+-------+ | U | Esse | Esse | Esse | Esse | Esse | Not | Not | Not | | -RNTI | ntial | ntial | ntial | ntial | ntial | ne | n | n | | uniqu | lo | lo | lo | lo | geog | eded. | eeded | eeded | | eness | cally | cally | cally | cally | raphi | | | | | to a | | | | | cally | | | | | local | | | | | | | | | | area | | | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+-------+ | No of | 8 | 7 | 6-7 | 7-8 | 6-8 | 5 | 5 | 7 | | no | | | | | ( | | (HNB- | | | n-RRC | | | | | HNB-t | | HNB), | | | mes | | | | | o-HNB | | 6-8 | | | sages | | | | | )/6-8 | | HNB- | | | inv | | | | | (HNB | | macro | | | olved | | | | | -to-M | | | | | | | | | | acro) | | | | +-------+-------+-------+-------+-------+-------+-------+-------+-------+ | Exi | A new | No | A new | A new | A new | A new | No | No | | sting | proc | im | proc | proc | proc | proc | new | new | | Proce | edure | pact, | edure | edure | edure | edure | proce | proce | | dures | to | the | to | to | to | to be | dures | dures | | i | tra | exi | u | u | tra | intro | ne | n | | mpact | nsfer | sting | pdate | pdate | nsfer | duced | eded. | eeded | | | Cell | proce | H | H | Cell | | | | | | U | dures | NB-GW | NB-GW | U | | | | | | PDATE | can | U | U | PDATE | | | | | | via | be | -RNTI | -RNTI | via | | | | | | H | re | to | to | H | | | | | | NB-GW | used. | HNB | HNB | NB-GW | | | | | | | | ma | ma | n | | | | | | | | pping | pping | eeded | | | | | | | | | | in | | | | | | | | | | case | | | | | | | | | | of | | | | | | | | | | mob | | | | | | | | | | ility | | | | | | | | | | to | | | | | | | | | | wards | | | | | | | | | | macro | | | | +-------+-------+-------+-------+-------+-------+-------+-------+-------+ | RRM | The | No | M | M | In | Uncer | No | Extra | | As | Cell | extra | ethod | ethod | case | tain: | extra | delay | | pects | U | delay | 1: | 1: | of | less | delay | from | | co | PDATE | | s | s | femto | me | | call | | mpare | will | | ource | ource | -to-m | ssage | | setu | | with | a | | HNB | HNB | acro: | i | | p/rel | | exi | lways | | ad | ad | cell | ntera | | ease. | | sting | tra | | dress | dress | u | ction | | | | Macro | nsfer | | fe | fe | pdate | but | | | | proce | via | | tched | tched | via | the | | | | dure. | the | | from | from | H | condi | | | | | H | | HNB | HNB | NB-GW | tions | | | | | NB-GW | | GW | GW | | and | | | | | | | b | b | | delay | | | | | | | efore | efore | | nece | | | | | | | RNSAP | RNSAP | | ssary | | | | | | | U | U | | to | | | | | | | plink | plink | | rel | | | | | | | Signa | Signa | | iably | | | | | | | lling | lling | | re | | | | | | | Tra | Tra | | ceive | | | | | | | nsfer | nsfer | | the | | | | | | | me | me | | RRC | | | | | | | ssage | ssage | | me | | | | | | | is | is | | ssage | | | | | | | sent | sent | | to | | | | | | | to | to | | i | | | | | | | S | S | | nform | | | | | | | ource | ource | | the | | | | | | | HNB. | HNB. | | S-HNB | | | | | | | | | | of | | | | | | | Met | M | | Cell | | | | | | | hod2: | ethod | | R | | | | | | | The | 2 The | | esele | | | | | | | Cell | Cell | | ction | | | | | | | U | U | | are | | | | | | | PDATE | PDATE | | FFS | | | | | | | will | will | | (to | | | | | | | a | a | | be | | | | | | | lways | lways | | eval | | | | | | | tra | tra | | uated | | | | | | | nsfer | nsfer | | by | | | | | | | via | via | | R | | | | | | | the | the | | AN2). | | | | | | | H | H | | | | | | | | | NB-GW | NB-GW | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+-------+ | Compl | H | H | H | H | H | Not | Not | Not | | exity | NB-GW | NB-GW | NB-GW | NB-GW | NB-GW | N | N | N | | of | needs | and | and | and | needs | eeded | eeded | eeded | | Addit | to | HNB | HNB | HNB | to | | | | | ional | mai | needs | need | need | a | | | | | U | ntain | to | to | to | ssign | | | | | -RNTI | and | mai | mai | mai | U | | | | | Manag | all | ntain | ntain | ntain | -RNTI | | | | | ement | ocate | U | U | U | pre | | | | | at | U- | -RNTI | -RNTI | -RNTI | fixes | | | | | HNB/ | RNTIs | ra | r | r | to | | | | | H | | nges. | anges | anges | the | | | | | NB-GW | | | | | HNBs | | | | | | | Ne | | | in | | | | | | | ighbo | | | order | | | | | | | uring | | | to | | | | | | | HNBs | | | uni | | | | | | | need | | | quely | | | | | | | to | | | ide | | | | | | | up | | | ntify | | | | | | | dated | | | them. | | | | | | | if | | | Sub | | | | | | | U | | | seque | | | | | | | -RNTI | | | ntly, | | | | | | | range | | | HNBs | | | | | | | of a | | | will | | | | | | | HNB | | | s | | | | | | | ch | | | imply | | | | | | | anges | | | gen | | | | | | | | | | erate | | | | | | | | | | U- | | | | | | | | | | RNTIs | | | | | | | | | | based | | | | | | | | | | on | | | | | | | | | | the | | | | | | | | | | pro | | | | | | | | | | vided | | | | | | | | | | U | | | | | | | | | | -RNTI | | | | | | | | | | pref | | | | | | | | | | ixes. | | | | +-------+-------+-------+-------+-------+-------+-------+-------+-------+ | Max | 2\^20 | 2\^20 | 2\^20 | 2\^20 | max | Max | Max | max | | no of | a | a | a | a | | | | | | U | cross | cross | cross | cross | | | | | | -RNTI | all | all | all | all | | | | | | per | HNBs | HNBs | HNBs | HNBs | | | | | | HNB | per | per | per | per | | | | | | | GW. | GW. | GW. | GW. | | | | | | | | Typi | | | | | | | | | | cally | | | | | | | | | | 24-32 | | | | | | | | | | per | | | | | | | | | | HNB | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+-------+
#### 6.1.1.4 Agreed Way Forward
Solution 3 is already currently possible from a standards point of view and
that such solution needs no further standardization work.
See also Section 7.1.
### 6.1.2 Enhanced Mobility with macro network
Some general assumptions for the following study can be beneficial.
It could be desirable that the solutions studied for macro-to-femto enhanced
mobility preserve the current signalling for existing mobility procedures as
much as possible.
It would also be beneficial if such solutions would preserve the functional
split currently assigned to the various elements forming the HNB architecture,
without increasing the overall system complexity.
It could be also desirable that the method chosen for membership verification
signalling (when required) should be also applicable to the case of inter-CSG
enhanced mobility between hybrid HNBs.
#### 6.1.2.1 Macro to Open HNB Enhanced Hard Handover Mobility
The mobility scenario to be analysed in this section is the enhanced hard
handover mobility from Macro cells to Open Access HNB cells. The scenario
shall refer to CSG capable UEs.
##### 6.1.2.1.1 Problem Definition
Mobility from Macro cells to Open Access HNB cells follows the same principles
as mobility between macro cells. Therefore there are no changes needed to
existing mobility procedures for macro RNCs nor there is the need for changes
at the UE.
Mobility from Macro cells to Open Access HNB cells can already follow Iu based
RANAP Relocation procedures. If agreed, an improvement to such mobility
consists of supporting Iur based Enhanced SRNS Relocation from macro RNCs to
Open Access HNBs via an Iur interface between RNC and HNB GW.
While the signalling between macro RNC and HNB GW shall follow currently
standardised procedures in order to be backwards compatible, there is the need
to converge on how signalling is exchanged between HNB GW and target HNB.
The main problem for this mobility case is therefore the following:
\- How to convey Enhanced SRNS Relocation signalling between HNB GW and HNB
##### 6.1.2.1.2 Possible Solutions
**Solution 1: Iurh/Iur interworking at HNB-GW**
A potential solution is based on the Iurh/Iur interworking function at HNB-GW
as described in [1].
Figure 6.1.2.1.2.1: Protocol Stack for macro-femto interworking via Iurh-Iur.
Figure 6.1.2.1.1 shows the protocol stack for macro-femto enhanced mobility
based on horizontal connectivity via Iurh/Iur.
The Interworking functions deal with:
\- extracting or inserting addressing information from/to RNA,
\- on Iurh, RNL related addressing information carried on RNA within the
"Receivers HNB RNL Identity" and the "Senders HNB RNL Identity";
\- on Iur, RNL related addressing information is carried within RNSAP.
The call flows in TS 25.467 [3] subclause 7.3 describing the usage of RNA by
RNSAP need to be extended in order to describe interworking between an
RNA/SCTP and an SCCP based signaling stack. For each of them the new
functionalities with regard to the already existing message flows in 25.467
are listed:
\- Iurh-Iur Signalling Connection Establishment -- HNB initiated
\- HNB-GW has to be able to connect an RNA-based signalling connection to an
SCCP-based signalling connection for HNB-RNC end-2-end communication
\- Iur-Iurh Signalling Connection Establishment -- RNC initiated
\- HNB-GW is seen by Source RNC as a (configured) neighbour RNC. Any
signalling towards a target cell with a respective RNC-Id-prefix is sent to
the HNB-GW.
\- HNB-GW has to be able (1) to extract the Receivers HNB RNL Id from the
(Global) Cell-Id indicated in the initiating RNSAP PDU and (2) to connect an
SCCP-based signalling connection to an RNA-based signalling connection for
HNB-RNC end-to-end communication.
\- Transport of RNSAP signalling messages via an established Iurh-Iur
signalling connection
\- No need for additional functions
\- Release of Iurh-Iur connection -- HNB initiated
\- No need for additional functions
\- Release of Iurh-Iur connection -- RNC Initiated
\- No new function is needed for this procedure.
\- Connectionless transfer -- HNB Initiated
\- HNB-GW has to be able to contain an HNB-GW Id, which has been converted
from Senders HNB RNL Id, into a connectionless SCCP message
\- Connectionless transfer -- RNC Initiated
\- HNB-GW has to be able to extract the receiving HNB's RNL address from
received RNSAP PDU
\- Iur-Iurh Signalling Connection Refuse -- RNC initiated
\- HNB-GW has to be able to connect an RNA-based signalling connection to an
SCCP-based signalling connection for HNB-RNC end-to-end communication
\- Setup of the connectivity between an HNB and an RNC
\- The Iur between HNB-GW and RNC is established by configuration.
\- The Iurh setup procedure is to establish the Iurh part and terminated in
the HNB-GW.
Addressing the RNC-ID via RNA is FFS.
**Solution 2:**
...
##### 6.1.2.1.3 Agreed Way Forward
See Section 7.1.
#### 6.1.2.2 Macro to Hybrid HNB Enhanced Hard Handover Mobility
The mobility scenario to be analysed in this section is the enhanced hard
handover mobility from Macro cells to Hybrid Access HNB cells. The scenario
shall refer to CSG capable UEs.
##### 6.1.2.2.1 Problem Definition
Mobility from macro cells to Hybrid Access HNB cells is currently possible via
Iu based RANAP Relocation. In such mobility procedure the Core Network (CN) is
involved in the mobility signalling and it is able to perform Membership
Verification to establish whether the UE is member or non-member of the CSG
supported by the target cell.
A possible enhancement of such mobility procedure consists of allowing
Enhanced SRNS Relocation from macro cells to Hybrid HNB cells via an Iur
interface between macro RNC and HNB GW.
If it is agreed to follow the Enhanced SRNS Relocation, the signalling between
macro RNC and HNB GW shall follow currently standardised procedures in order
to be backwards compatible. However, there is the need to converge on how
signalling is exchanged between HNB GW and target Hybrid HNB.\ Further, if it
is agreed that the procedure has to be backwards compatible towards legacy CN,
the target HNB shall generate the appropriate signalling messages towards the
CN as per current Enhanced SRNS Relocation specifications.
In case of such type of Enhanced SRNS Relocation the CN is not involved in the
relocation until after the relocation preparation has been completed and the
UE has relocated to the target.\ Therefore it is no more possible to follow
the same Membership Verification mechanism as per Iu based RANAP Relocation.
The main problems for this mobility case are therefore the following:
\- How to convey Enhanced SRNS Relocation signalling between HNB GW and HNB
\- How to perform Membership Verification for the UE relocating to the target
Hybrid HNB
While the former problem applies both to the Macro to Open HNB mobility and to
the Macro to Hybrid HNB mobility scenarios, the latter is specific for the
Macro to Hybrid HNB mobility scenario and potential solutions are described
below.
##### 6.1.2.2.2 Possible Solutions
**Solution 1:** Membership verification (MV) in CN.
**Solution 1a:** Source RNC triggers MV before initiating handover.\ Note:
this solution is not backward compatible.
Principles:
1\. The source RNC requests the MSC/SGSN for CSG access control every time
before sending the Enhanced Relocation Request over Iur/Iurh towards the
target cell.
2\. The MSC/SGSN informs the source RNC whether the UE is member of the target
candidate's CSG-Id.
Evaluation:
This option is consistent with the Rel-9 design principle that is the
membership verification is done at the relocation preparation stage and before
the admission control is performed by the Target HNB.. However, the solution
requires a new message in RANAP to request membership information (for MV or
AC) from the CN.
The MSC/SGSN has to get involved "outside" the actual relocation signalling.
The intention to reduce signalling/processing load in the MSC/SGSN is not
really reached, even compared to the current Iu based relocation procedure
with CSG access control in MSC/SGSN.
**Solution 1b:** Target HNB triggers MV before accepting handover.
Figure 6.1.2.2.2.1: Macro HNB Hand-in
Macro Hand-in and Hand-out both use the Enhanced SRNS relocation procedure.
Although this procedure minimises the involvement of the CN, the CN is still
used to switch the UP so has an involvement in each handover.
Access control/membership verification is triggered by the target HNB. As a
result of the access/membership query these actions are performed:
a) Response indicates that the UE is a member, so relocation proceeds with the
UE as a member. If the HNB is heavily loaded, non-members QoS may be degraded.
b) Response indicates that the UE is a non-member, so relocation proceeds with
the UE as a non-member. The appropriate QoS for a non-member will be provided.
c) Response indicates that the UE is a non-member, however the HNB is heavily
loaded and cannot accept any more non-members, the relocation request is
rejected.
This solution requires a new message in RANAP to request membership
information (for MV or AC) from the CN. However, the solution is consistent
with Rel-9 design principle that is the membership verification is done at the
relocation preparation stage and before the admission control is performed by
the Target HNB.
Issue for this solution (and others) is the membership query sent to one CN
domain or both, and if to both, could the responses be different.
**Solution 1c:** Target HNB triggers MV during handover, first accepting the
UE as a non-member and later upgrading it according to MV outcome.
Principles:
0\. The Source RNC and CN do not need to modify their behaviour with respect
to Enhanced SRNS Relocation signalling procedures.
1\. The relocation preparation procedures at SRNC follow the currently
standardised Enhanced SRNS Relocation procedures via Iur interface between
SRNC and HNB GW.
2\. Upon successful relocation preparation and RRC signalling completion, the
UE is temporarily admitted in the target hybrid cell. The UE may be admitted
as "non-member" until the outcomes of membership verification are received
from CN.
3\. After the Enhanced SRNS Relocation preparation has been completed and the
UE has completed RRC signalling for the relocation, the RANAP: ENHANCED
RELOCATION COMPLETE REQUEST message is sent from target HNB to HNB GW (via
Iurh) and forwarded from HNB GW to MSC/SGSN (via Iu). The RANAP: ENHANCED
RELOCATION COMPLETE REQUEST includes _CSG ID_ IE and _Cell Access Mode_ IE of
target cell.
4\. After reception of RANAP: ENHANCED RELOCATION COMPLETE REQUEST the
MSC/SGSN performs membership verification of the relocated UE according to
_CSG ID_ IE and _Cell Access Mode_ IE received. The MSC/SGSN replies to the
HNB GW with RANAP: ENHANCED RELOCATION COMPLETE RESPONSE containing the _CSG
Membership Status_ IE. The RANAP: ENHANCED RELOCATION COMPLETE RESPONSE
message is forwarded from HNB GW to target NB (via Iurh).
5\. After reception of the RANAP: ENHANCED RELOCATION COMPLETE RESPONSE the
target HNB may apply the appropriate level of prioritisation to the UE
according to the _CSG Membership Status_ IE received.
Evaluation:
This solution does not require any new signalling with respect to the
currently standardised Enhanced SRNS Relocation procedure.
The CN is informed of the change of SRNS via legacy signalling procedure, i.e.
RANAP: ENHANCED RELOCATION COMPLETE REQUEST/RESPONSE.
The latter procedure is modified with the addition of _CSG ID_ IE and _Cell
Access Mode_ IE in the RANAP: ENHANCED RELOCATION COMPLETE REQUEST. This
allows the CN to perform membership verification for the relocating UE.\ The
latter is in line with the current assumption that the main location for
access control and membership verification resides in the CN, avoiding
duplication of the subscriber database, which would imply higher complexity in
database's management and maintenance.
By allowing the membership verification to occur in the core network it is
also ensured that current security and protection of subscriber information is
maintained. This is due to avoiding distributing subscribers' information to
RAN nodes.
The solution violates Rel-9 design principle that is the membership
verification in this case is done after the admission control is performed by
the Target HNB. Furthermore, this solution in some cases may lead to a
situation where a member UE is denied access.
**Solution 1d:** Target HNB triggers MV during handover, first accepting the
UE according to its reported CSG membership status and later downgrading it if
MV fails
Principles:
0\. The Source RNC and CN do not need to modify their behaviour with respect
to Enhanced SRNS Relocation signalling procedures.
1\. The relocation preparation procedures at SRNC follow the currently
standardised Enhanced SRNS Relocation procedures via Iur interface between
SRNC and HNB GW.
2\. Upon successful relocation preparation and RRC signalling completion, the
UE is temporarily admitted in the target hybrid cell according to the access
status declared by the UE. The UE may be admitted as its reported CSG
membership status until the outcomes of membership verification are received
from CN. The RNSAP: ENHANCED RELOCATION REQUEST includes _CSG Membership
Status_ IE, which is already available.
3\. After the Enhanced SRNS Relocation preparation has been completed and the
UE has completed RRC signalling for the relocation, the RANAP: ENHANCED
RELOCATION COMPLETE REQUEST message is sent from target HNB to HNB GW (via
Iurh) and forwarded from HNB GW to MSC/SGSN (via Iu). The RANAP: ENHANCED
RELOCATION COMPLETE REQUEST includes _CSG ID_ IE and _Cell Access Mode_ IE of
target cell.
4\. After reception of RANAP: ENHANCED RELOCATION COMPLETE REQUEST the
MSC/SGSN performs membership verification of the relocated UE according to
_CSG ID_ IE and _Cell Access Mode_ IE received. The MSC/SGSN replies to the
HNB GW with RANAP: ENHANCED RELOCATION COMPLETE RESPONSE containing the _CSG
Membership Status_ IE. The RANAP: ENHANCED RELOCATION COMPLETE RESPONSE
message is forwarded from HNB GW to target HNB (via Iurh).
5\. After reception of the RANAP: ENHANCED RELOCATION COMPLETE RESPONSE the
target HNB may apply the appropriate level of prioritisation to the UE
according to the _CSG Membership Status_ IE received.
Figure 6.1.2.2.2.2: Macro to HNB Enhanced Mobility with MV via Enhanced
Relocation Complete
Figure 6.1.2.2.2.2 shows the procedure proposed in this solution. The only
additions when comparing it to current signalling procedures is the addition
of _CSG ID_ IE and _Cell Access Mode_ IE in the RANAP ENHANCED RELOCATION
COMPLETE REQUEST message and addition of _CSG Membership Status_ IE in
RELOCATION COMPLETE RESPONSE message.
Evaluation:
This solution does not require any new signalling with respect to the
currently standardised Enhanced SRNS Relocation procedure. The _CSG Membership
Status_ IE has already been introduced in ENHHANCED RELOCATION REQUEST to
support the RNSAP Relocation between HNBs. The value of this IE is set
depending on the Access Status reported by the UE in the measurement report.
The CN is informed of the change of SRNS via legacy signalling procedure, i.e.
RANAP: ENHANCED RELOCATION COMPLETE REQUEST/RESPONSE.
The latter procedure is modified with the addition of _CSG ID_ IE and _Cell
Access Mode_ IE in the RANAP: ENHANCED RELOCATION COMPLETE REQUEST. This
allows the CN to perform membership verification for the relocating UE.
The latter is in line with the current assumption that the main location for
access control and membership verification resides in the CN, avoiding
duplication of the subscriber database, which would imply higher complexity in
database's management and maintenance.
By allowing the membership verification to occur in the core network it is
also ensured that current security and protection of subscriber information is
maintained. This is due to avoiding distributing subscribers' information to
RAN nodes.
In most cases, the reported CSG membership status by the UE is correct, and
the UE will get the right treatment from the beginning. In case a UE pretends
to be a CSG member, the target HNB could either treat it as a non-member (if
resources are available) or drop/blacklist it, according to operator policies
and/or implementation. The principle of trusting the UE-reported Access Status
is in line with the principle adopted in Release 9, by which relocation
signalling towards a target closed CSG cell is started only if the UE reports
Access Status equal to "Member".
The solution does violate Rel-9 design principle that is the membership
verification in this case is done after the admission control is performed by
the Target HNB. Furthermore, this solution in some cases may lead to a
situation where a member UE is denied access.
**Solution 2:** Membership verification (MV) in HNB GW.
**Solution 2a:** Target HNB GW triggers MV before forwarding handover
signaling to target HNB
Principles:
0\. At connection setup (which could be at call setup within the femto system
or during relocation towards the femto system), the MSC/SGSN provides the
available UE's white list entries to the HNB GW, which does not forward this
information to the HNB due to already mentioned security concerns.
1\. The relocation preparation phase in the source RNC is executed by means of
Enhanced Relocation Iur signaling.
2\. The HNB-GW (target-side) contacts the MSC/SGSN for providing information
(i.e. the UE's white list entries) to perform MV before forwarding the
Enhanced Relocation Signalling towards the target HNB. The target HNB will be
informed about the MV result by the HNB-GW.
3\. These principles are not applicable for the femto-femto inter-CSG
scenarios, as in case of direct Iurh connectivity, the HNB-GW is not contacted
during RNSAP Relocation preparation.
Figure 4 reports the message flow of the Hand-in procedure, assuming Solution
2a is in place. It is assumed that the HNB already discovered the neighbour
NB.
Figure 6.1.2.2.2.3: Macro-HNB Hand-in in case of Solution 2a
Evaluation:
This solution avoids introducing new signaling between the source macro system
and the MSC/SGSN, assuming the HNB GW to be a safe place for subscription
information. The solution is consistent with Rel-9 design principle that is
the membership verification is done at the relocation preparation stage and
before the admission control is performed by the Target HNB.
New signalling and processing would need to be introduced
\- signalling between the CN and the HNB GW for retrieving membership
information and intercepting the respective Iu signalling in order to remove
sensible subscription information when relaying the Iu signalling messages
towards the HNB.
\- between the HNB GW and the HNB (actually signalling which was finally
removed for Rel-10) for providing the MV result.
As the CN is informed if the UE's CSG related subscription changes (expiration
or addition/removal of CSG subscription), there is the possibility to update
the cached information at the HNB-GW, which however necessitates the
introduction of at least new IEs in existing RANAP procedures.
By allowing the CN to send the White List to the HNB-GW during the Hand-in
procedure, the HNB-GW will have the necessary information to autonomously
handle subsequent Inter-CSG HNB-to-HNB HOs (without the need of contacting the
CN).
The latter is not consistent with the Release 9 design principles, according
to which Membership Verification for CSG UEs shall occur at the CN and
according to which subscriber information such as CSG White List shall not be
propagated to the RAN.
**Solution 2b:** Target HNB triggers MV with HNB GW before accepting handover
Principles:
0\. At connection setup (which could be at call setup within the femto system
or during relocation towards the femto system), the MSC/SGSN provides the
available UE's white list entries to the HNB GW, which does not forward this
information to the HNB due to already mentioned security concerns.
1\. The relocation preparation phase in the source RNC is executed by means of
Enhanced Relocation Iur signaling.
2\. The HNB-GW relays the Enhanced Relocation signalling towards the target
HNB w/o interception.
3\. The target HNB, contacts the HNB-GW for MV, which on its own retrieves the
UE's white list entries from the MSC/SGSN), performs MV and provides the
result to the target HNB.
4\. These principles are easily usable for inter-CSG mobility, leaving it up
to the target HNB to query the HNB-GW for MV, if necessary.
Figure 5 reports the message flow assuming Solution 2b is in place.
Figure 6.1.2.2.2.4: Macro-HNB Hand-in in case of Solution 2b
Evaluation:
This scheme follows proposals already available for Rel-10 (but finally
removed as not necessary).
This presented option could be used the target HNB serving either a hybrid or
closed access cell.
The solution is consistent with Rel-9 design principle that is the membership
verification is done at the relocation preparation stage and before the
admission control is performed by the Target HNB.
This solution is not consistent with the Release 9 design principles,
according to which Membership Verification for CSG UEs shall occur at the CN
and according to which subscriber information such as CSG White List shall not
be propagated to the RAN.
**Solution 2c:** Target HNB triggers MV with HNB GW after accepting handover
Principles:
1\. At connection setup (which could be at call setup within the femto system
or during relocation towards the femto system), the MSC/SGSN provides the
available UE's white list entries to the HNB GW, which does not forward this
information to the HNB due to already mentioned security concerns.
2\. The relocation is already executed when the target HNB triggers the path
update and MV.
Figure 6.1.2.2.2.5 reports the message flow assuming Solution 2c is in place.
Figure 6.1.2.2.2.5: Macro-HNB Hand-in in case of Solution 2c
Evaluation:
This solution would be feasible only for hybrid target cell scenarios.
Furthermore, the solution violates Rel-9 design principle that is the
membership verification in this case is done after the admission control is
performed by the Target HNB. Furthermore, this solution in some cases may lead
to a situation where a member UE is denied access.\ Also, this solution is not
consistent with the Release 9 design principles, according to which Membership
Verification for CSG UEs shall occur at the CN and according to which
subscriber information such as CSG White List shall not be propagated to the
RAN.
Similarly to Solution 2a and 2b, by allowing the CN to send the White List to
the HNB-GW during the Hand-in procedure, the HNB-GW will have the necessary
information to autonomously handle subsequent Inter-CSG HNB-to-HNB HOs
(without the need of contacting the CN). However, now the Membership
Verification is triggered by the HNB after the HO from the RNC is completed
(see steps #20 to #23 in Figure 6). Notice also that, after the MV is
completed, it might be needed to upgrade the membership status of the UE
within the HNB (see step#25 in Figure 6).
##### 6.1.2.2.3 Solutions Comparison
In this section a comparison between the solutions made available so far is
carried out.\ The comparison is aimed at evaluating the level of efficiency of
each proposed solution when compared to existing RANAP based mobility
procedures. Also, the comparison is aimed at evaluating the impact of each
solution on different parts of the system. Finally, the comparison is aimed at
assessing whether the right level of prioritisation for the relocated UE is
applied at the target RAN.
| Mobility Enhancement wrt RANAP based relocation | Impact on serving RNC | Impact on CN | Efficiency of Subscriber Information Location/Management | Impact on HNB GW | Impact on target HNB | Appropriate prioritisation at target RAN | Appropriate timing of Call Admission Control | Usable for other prioritised scenarios  
---|---|---|---|---|---|---|---|---|---  
Sol-1a | Low, Access Control before relocation start prolongs handover time and might cause failures | High,  
SRNC needs to support a pre-relocation access control procedure | High, SGSN/MSC will have to support a new access control procedure | High Subscriber information accessed in CN | High, HNB GW needs to support Iur interface and RNSAP mobility procedures to/from RNCs | High, HNB needs to support an extra mobility procedure and has to know when to trigger it | Yes, From the moment relocation is started | Yes,  
CAC performed after membership status has ben acquired from CN | No  
Sol-1b | Low, Access Control during relocation preparation prolongs handover time and might cause failures | Low | High, SGSN/MSC will have to support a new access control procedure | High Subscriber information accessed in CN | High, HNB GW needs to support Iur interface and RNSAP mobility procedures to/from RNCs including new CN access control procedure | High HNB needs to support an extra mobility procedure and has to know when to trigger it. Also, a new access control procedure needs to be supported | Yes, From the moment relocation preparation is completed | Yes,  
CAC performed after membership status has been acquired from CN | Yes RANAP Access-Membership Query could be reused for hybrid to hybrid and hybrid to closed mobility  
Sol-1c | Medium, Iur base relocation provides moderate improvements wrt RANAP based mobility | Low | Medium, CN needs to support Membership Verification during RANAP: ENHANCED RELOCATION COMPLETE REQUEST/RESPONSE | High, Subscriber information accessed in CN | High, HNB GW needs to support Iur interface and RNSAP mobility procedures to/from RNCs | High, HNB needs to support an extra mobility procedure and has to know when to trigger it | Conditional: Yes, if the UE is non member If UE is member appropriate prioritisation is applied only after relocation complete procedure is terminated. A member UE could be denied access. | Conditional: Yes, if the UE is non member If UE is member CAC is performed before Membership Verification is terminated. A member UE could be denied access. | No  
Sol-1d | Medium, Iur base relocation provides moderate improvements wrt RANAP based mobility | Low | Medium, CN needs to support Membership Verification during RANAP: ENHANCED RELOCATION COMPLETE REQUEST/RESPONSE | High, Subscriber information accessed in CN | High, HNB GW needs to support Iur interface and RNSAP mobility procedures to/from RNCs | High, HNB needs to support an extra mobility procedure and has to know when to trigger it | Conditional: Yes, if UE reports correct membership status If UE reports wrong membership status appropriate prioritisation is applied only after relocation complete procedure is terminated. A member UEs could be denied access.  
Appropriate measures such as cell banning can be applied to UEs reporting wrong membership status. | Conditional: Yes, if UE reports correct membership status If UE reports wrong membership status CAC is performed before Membership Verification is terminated. A member UEs could be denied access.  
Appropriate measures such as cell banning can be applied to UEs reporting wrong membership status. | No  
Sol-2a | Low, Access Control during relocation preparation prolongs handover time and might cause failures | Low | High, SGSN/MSC will have to support a new access control procedure and cope with higher mobility signalling | Low Subscriber information accessed before relocation completion in CN (for first HO) procedure and then accessed in HNB GW (for following HOs). Subscriber information to be managed in HNB GW and to be validated prior to following HOs | High, HNB GW needs to support Iur interface and RNSAP mobility procedures to/from RNCs including new CN access control procedure | High, HNB needs to support an extra mobility procedure and has to know when to trigger it | Yes, From the moment relocation preparation is completed | Yes,  
CAC performed after membership status has ben acquired from CN | Yes The new RANAP Membership Verification procedure could be reused for hybrid to hybrid and hybrid to closed mobility  
Sol-2b | Low, Access Control during relocation preparation prolongs handover time and might cause failures | Low | High, SGSN/MSC will have to support a new access control procedure and cope with higher mobility signalling | Low Subscriber information accessed before relocation completion in CN (for first HO) procedure and then accessed in HNB GW (for following HOs). Subscriber information to be managed in HNB GW and to be validated prior to following HOs | High, HNB GW needs to support Iur interface and RNSAP mobility procedures to/from RNCs including new CN access control procedure | High, HNB needs to support an extra mobility procedure and has to know when to trigger it. Also, a new access control procedure needs to be supported | Yes, From the moment relocation preparation is completed | Yes,  
CAC performed after membership status has ben acquired from CN | Yes The new RANAP Membership Verification procedure could be reused for hybrid to hybrid and hybrid to closed mobility  
Sol-2c | Medium, Iur base relocation provides moderate improvements wrt RANAP based mobility | Low | High, SGSN/MSC will have to support a new access control procedure and cope with higher mobility signalling | Low Subscriber information accessed before relocation completion in CN (for first HO) procedure and then accessed in HNB GW (for following HOs). Subscriber information to be managed in HNB GW and to be validated prior to following HOs | High, HNB-GW needs to support Iur interface and RNSAP mobility procedures to/from RNCs. Also, a new access control procedure needs to be supported | High, HNB needs to support an extra mobility procedure and has to know when to trigger it Also, a new access control procedure needs to be supported | Conditional: The UE is admitted as non-member by default adn then upgraded if MV is successful. A member UE could be denied access. | Conditional: Yes, if UE reports correct membership status If UE reports wrong membership status CAC is performed before Membership Verification is terminated. A member UEs could be denied access.  
Appropriate measures such as cell banning can be applied to UEs reporting wrong membership status. | No  
##### 6.1.2.2.4 Agreed Way Forward
See Section 7.1.
#### 6.1.2.3 SHO between HNB and Macro
Soft handover and macro diversity significantly reduce the ratio of call drops
and improve the communication quality in UMTS network. In the enterprise case,
the SHO between HNBs directly or via HNB-GW has been introduced in Release 10,
there should be no technical issues to introduce the SHO between HNB and
Macro.
Provision of SHO between macro and HNB extends the benefits provided in the
macro network with SHO to mobility between a macro RNC and a number of HNBs
that may be in an enterprise scenario and having many involvements with the
nearest macro network e.g. in the windows area and other open area of the
enterprise, SHO is a good choice to avoid interference and unnecessary HHO. In
addition where the HNB is deployed as part of the macro network (metro cells)
to support blackspots or hotspots, then provision of SHO will provide exactly
the same performance and feature benefits that a UE will see when mobility is
between macro cells. It can significantly decrease the ratio of call drops and
improves the user experience in UMTS network. These scenarios are assumed to
be for provision of a controlled environment where the backhaul and deployment
of HNBs is securely supervised so that issues of security and resource
allocation are adequately managed. It also assumed that the backhaul is
adequate to support SHO. These scenarios of SHO relate to support of CSG and
SI acquisition for HO capable UEs. A further consideration is that the
algorithms used in the HNBs and the RNCs for such areas as power control and
RL synchronisation should be compatible so as to avoid any impact to either
HRNS or RNS.
A solution is based on the Iurh/Iur interworking function at HNB-GW.
Figure 6.1.2.3.1: Protocol Stack for macro-femto interworking via Iurh-Iur.
Figure 6.1.2.3.1 shows the protocol stack for macro-femto enhanced mobility
based on horizontal connectivity via Iurh/Iur.
The Interworking functions deal with:
\- extracting or inserting addressing information from/to RNA,
\- on Iurh, RNL related addressing information carried on RNA within the
"Receivers HNB RNL Identity" and the "Senders HNB RNL Identity";
\- on Iur, RNL related addressing information is carried within RNSAP.
\- on Iurh, any TNL related address information carried within RNSAP messages.
The call flows in TS 25.467 [3] subclause 7.3 describing the usage of RNA by
RNSAP need to be extended in order to describe interworking between an
RNA/SCTP and an SCCP based signaling stack. For each of them the new
functionalities with regard to the already existing message flows in 25.467
are listed:
\- Iurh-Iur Signalling Connection Establishment -- HNB initiated
\- HNB-GW has to be able to connect an RNA-based signalling connection to an
SCCP-based signalling connection for HNB-RNC end-2-end communication
\- Iur-Iurh Signalling Connection Establishment -- RNC initiated
\- HNB-GW is seen by Source RNC as a (configured) neighbour RNC. Any
signalling towards a target cell with a respective RNC-Id-prefix is sent to
the HNB-GW.
\- HNB-GW has to be able (1) to extract the Receivers HNB RNL Id from the
(Global) Cell-Id indicated in the initiating RNSAP PDU and (2) to connect an
SCCP-based signalling connection to an RNA-based signalling connection for
HNB-RNC end-to-end communication
\- Transport of RNSAP signalling messages via an established Iurh-Iur
signalling connection
\- TNL address translation in the HNB-GW for some SHO related messages.
\- Release of Iurh-Iur connection -- HNB initiated
\- No need for additional functions
\- Release of Iurh-Iur connection -- RNC Initiated
\- No new function is needed for this procedure.
\- Iur-Iurh Signalling Connection Refuse -- RNC initiated
\- HNB-GW has to be able to connect an RNA-based signalling connection to an
SCCP-based signalling connection for HNB-RNC end-to-end communication
\- Setup of the connectivity between an HNB and an RNC
\- The Iur between HNB-GW and RNC is established by configuration.
\- The Iurh setup procedure is to establish the Iurh part and terminated in
the HNB-GW.
##### 6.1.2.3.1 HNB to Macro Soft Handover
##### 6.1.2.3.1.1 Problem Definition {#problem-definition-2 .H6}
Mobility from HNB cells (any type) to macro RNC follows the same principles as
mobility between macro cells. Therefore there are no changes needed to
existing mobility procedures for macro RNCs nor there is the need for changes
at the UE.
Mobility from HNB cells (any type) to macro RNC using Soft Handover cannot be
provided unless an Iur like interface is established between HNB and macro RNC
in some way, to support RNSAP signalling.
Establishment of an Iur from a macro RNC to all the neighbouring HNBs would
present a scaling problem, so an issue to resolve is should the Iur be
established between the HNB-GW and the macro RNC, and how is the signalling
and management handled between the HNB-GW and the HNB. As the HNB acting as
SRNC is directly managing some resources on the macro RNC, it is assumed that
the HNB is adequately secure and managed to ensure that it has no adverse
impact on macro network operation.
##### 6.1.2.3.1.2 Possible Solutions {#possible-solutions-3 .H6}
Using the architecture of Figure 6.1.1 above, then SHO can be supported by
using the Iurh (as it is for HNB-HNB SHO), and also using an Iur between the
HNB-GW and the macro RNC.
The HNB-GW will act as a single RNC towards the macro RNC (as it does towards
the CN) and therefore act as a concentrator for Iur access.
For this case there is no involvement of the CN in the SHO operations, as
there is no access control/membership verification needed for SHO to a macro
RNC.
The HNB acts as a SRNC and requests resources from the macro RNC, however this
managed by the CAC on the DRNC.
Figure 6.1.2.3.1.1 shows the sequence of messages involved.
Figure 6.1.2.3.1.1 HNB -- Macro SHO
##### 6.1.2.3.2 Macro to Open HNB Soft Handover
##### 6.1.2.3.2.1 Problem Definition {#problem-definition-3 .H6}
Mobility from Macro cells to Open Access HNB cells follows the same principles
as mobility between macro cells. Therefore there are no changes needed to
existing mobility procedures for macro RNCs nor there is the need for changes
at the UE.
Mobility from Macro cells to Open Access HNB cells using Soft Handover cannot
be provided unless an Iur like interface is established between HNB and macro
RNC in some way, to support RNSAP signalling.
Establishment of an Iur from a macro RNC to all the neighbouring HNBs would
present a scaling problem, so an issue to resolve is should the Iur be
established between the HNB-GW and the macro RNC, and how is the signalling
and management handled between the HNB-GW and the HNB.
##### 6.1.2.3.2.2 Possible Solutions {#possible-solutions-4 .H6}
Using the architecture of Figure 6.1.1 above, then SHO can be supported by
using the Iurh (as it is for HNB-HNB SHO), and then the Iur between the HNB-GW
and the macro RNC.
The HNB-GW will act as a single RNC towards the macro RNC (as it does towards
the CN) and therefore act as a concentrator for Iur access.
For this case of open access HNB, there is no involvement of the CN in the SHO
operations.
The macro RNC acting as SRNC requests resources from the HNB, this managed by
the CAC on the HNB.
Consideration of management of Neighbour lists provided to the macro RNC to
ensure their consistency and the correct neighbours are included.
Figure 6.1.2.3.2.1 shows the sequence of messages involved.
Figure 6.1.2.3.2.1 Macro to Open HNB SHO
##### 6.1.2.3.3 Macro to Hybrid HNB Soft Handover
##### 6.1.2.3.3.1 Problem Definition {#problem-definition-4 .H6}
The scenario of macro to closed SHO is a lower priority, so is not considered
here. Mobility from Macro cells to Hybrid HNB cells follows the same
principles as mobility between macro cells. Therefore there are no changes
needed to existing mobility procedures for macro RNCs nor there is the need
for changes at the UE.
Mobility from Macro cells to Hybrid HNB cells using Soft Handover cannot be
provided unless an Iur like interface is established between HNB and macro RNC
in some way, to support RNSAP signalling.
Establishment of an Iur from a macro RNC to all the neighbouring HNBs would
present a scaling problem, so an issue to resolve is should the Iur be
established between the HNB-GW and the macro RNC, and how is the signalling
and management handled between the HNB-GW and the HNB. Membership verification
needs to be considered for SHO to hybrid.
###### 6.1.2.3.3.2 Possible Solutions
Using the architecture of Figure 6.1.1 above, then SHO can be supported by
using the Iurh (as it is for HNB-HNB SHO), and then the Iur between the HNB-GW
and the macro RNC.
The HNB-GW will act as a single RNC towards the macro RNC (as it does towards
the CN) and therefore act as a concentrator for Iur access.
In this case to handle hybrid access HNB, the CN may need to be involved to
provide membership verification for the target HNB during SHO operations.
**Membership Verification**
Membership verification may be needed for macro to hybrid SHO. Two options are
shown below, the second option following whatever is chosen in support of HHO.
Solution 1:
During SHO from macro to hybrid, the macro RNC remains as SRNC and additional
resources are taken from the hybrid, where the UE may or may not be a member.
It can be considered that as the (macro) SRNC remains in control the SHO can
be accepted at the HNB as a non-member -- the HNB acting as an open cell, and
MV need only be performed when SRNS relocation occurs when the appropriate MV
checks are performed as in section 6.1.2.2. With this approach no
access/membership query signalling need be performed at any stage during SHO,
the UE remains a non-member for SHO while the SRNC is the macro RNC.
Although this is similar to solution 1c in 6.1.2.2, but no subsequent MV is
performed while the SRNC is the macro RNC. If the UE is a member of the hybrid
cell it and it is overloaded, then it will still receive unrestricted service
from the macro cell. When SRNS relocation is performed then the UE will
receive the appropriate level of service from the hybrid cell.
Solution 2:
Use membership verification method chosen for macro-HNB HHO over Iur in
Section 6.1.2.2.
Figure 6.1.2.3.3.1 shows the sequence of messages involved.
{width="5.761805555555555in" height="6.128472222222222in"}
Figure 6.1,2.3.3.1 Macro to Hybrid SHO
Note: Steps 11a, 11b, and 12a, 12b are not needed unless Target MV is
performed.
##### 6.1.2.3.4 Evaluation
SHO is evaluated against the assumed existing provision of HHO via Iur in
subclause 6.1.2.1.
Table 6.1.2.3.4.1 Evaluation of SHO against existing Iur provision for HHO
* * *
Impact on macro RNC Impact on CN Impact on HNB GW Impact on HNB FFS FFS FFS
FFS
* * *
### 6.1.3 Legacy UE mobility
#### 6.1.3.1 Problem Statement
The term **Legacy UE** refers to non SIB-reading UEs (_to be confirmed_).
In dense HNB deployment scenarios the size of the NCL with 32 PSC values per
frequency carrier will be a limiting factor especially in co-channel
deployment with macro cells.
The PSCs of the neighbouring hybrid access HNB cells need to be indicated in
the NCL of the serving macro cell in order to support inbound mobility with
legacy and non-member UEs. The same is required in open access HNB cell
deployments for all UEs.
In closed access HNB deployments the limited size of NCL is only part of the
problems in supporting the legacy UEs for inbound handovers. Additionally the
deployments where non-member legacy UEs trigger a significant number of
handover attempts could experience a corresponding Core Network signalling
increase and identification of proper handover target may get delayed leading
to handover failures in worst case.
The analysis below is focusing on solving the problem of the limited NCL space
in case of dense co-channel HNB deployments in order to improve the legacy UE
support in hybrid access cell scenarios and the support of all UEs in dense
open access cell scenarios. The closed access HNB deployments will benefit of
solving this problem, however the Core Network signalling increase is an
additional issue for target CSG cell scenarios.
One option to solve the addressed problem is to reserve for HNBs only very few
PSC values, which have to be reused among the HNBs.
This however leads to another issue to be solved, the PSC Confusion problem.
This may result in the inability of identifying, at the macro RNC, a unique
target HNB corresponding to a PSC reported by a UE.
The Table 6.1.3.1.1 summarises the scenarios in which mobility issues due to
PSC confusion might be encountered when legacy UEs attempt to handover to HNB
cells.
Table 6.1.3.1.1
+----------------+----------------+----------------+----------------+ | | Is mobility | Are potential | Issues to be | | | scenario | mobility | solved with | | | relevant? | issues | this scenario | | | | foreseen? | | +----------------+----------------+----------------+----------------+ | Macro to | Yes | **Case 1:** | **Case 1** : | | Hybrid/Open | | Deployments | N/A | | Access HNB | | where Open and | | | | | Hybrid cells | **Case2** : PSC | | | | are | confusion | | | | coordinated | | | | | and deployed | | | | | with uniquely | | | | | identifiable | | | | | PSCs do not | | | | | suffer from | | | | | PSC confusion. | | | | | | | | | | **Case 2:** | | | | | Networks where | | | | | Open and | | | | | Hybrid HNBs | | | | | are not | | | | | deployed with | | | | | uniquely | | | | | identifiable | | | | | PSCs suffer | | | | | from PSC | | | | | confusion. | | | | | | | | | | Rel-9 hand-in | | | | | was designed | | | | | on the basis | | | | | of presence of | | | | | CSG | | | | | capabilities | | | | | at the UE in | | | | | order to avoid | | | | | issues due to | | | | | potential PSC | | | | | Confusion for | | | | | Open and | | | | | Hybrid HNBs. | | | | | Some companies | | | | | assert that | | | | | PSC allocation | | | | | for Open and | | | | | Hybrid cells | | | | | could be such | | | | | as to avoid | | | | | PSC confusion | | +----------------+----------------+----------------+----------------+ | Macro to | Yes | Yes, in cases | Target cell | | Closed Access | | where high | disambiguation | | HNB | | density Closed | in intra and | | | | Access HNBs | inter carrier | | | | are deployed | deployments | | | | and limited | | | | | PSC ranges are | | | | | allocated. | | | | | | | | | | _Given that | | | | | the NCL size | | | | | is already | | | | | limited even | | | | | for macro | | | | | cells, | | | | | anything other | | | | | than a couple | | | | | of Closed | | | | | Access HNBs | | | | | per macro | | | | | would cause | | | | | PSC confusion_ | | +----------------+----------------+----------------+----------------+ | Closed Access | Yes, | FFS\ | FFS | | HNB to Closed | | Independently | | | Access HNB | | of the access | | | | | mode source | | | | | HNBs will in | | | | | many cases be | | | | | able to list | | | | | all their | | | | | neighbour | | | | | cells | | +----------------+----------------+----------------+----------------+ | Open/Hybrid | Yes, | | FFS | | HNB to Closed | | | | | Access HNB | | | | +----------------+----------------+----------------+----------------+ | Open/Hybrid | Yes | | FFS | | HNB to | | | | | Open/Hybrid | | | | | HNB | | | | +----------------+----------------+----------------+----------------+ | Closed Access | Yes, | | FFS | | HNB to | | | | | Open/Hybrid | | | | | Access HNB | | | | +----------------+----------------+----------------+----------------+ | Closed Access | Yes, | | FFS | | HNB to Closed | | | | | Access HNB | | | | +----------------+----------------+----------------+----------------+
The issue of PSC confusion in the Macro to HNB mobility is illustrated in Step
2 of Figure 6.1.3.1.1. The _Cell Id_ IE in this step is normally filled:
A. via a configured PSCCell Id map
or
B. from the SI Measurement Report of a supporting Rel-9 UE.
In case the association between identified PSC and Cell ID cannot be achieved,
neither of these approaches is feasible for UEs not supporting the Rel-9 SI
Acquisition feature.
Subsections 6.1.3.3 and 6.1.3.4 capture proposed options for addressing Legacy
UE hand-in from Macro to HNB cells.
{width="6.6930555555555555in" height="2.689583333333333in"}
Figure 6.1.3.1.1: S-RNC cannot identify HNB in PSC Confusion causes
#### 6.1.3.2 Scope
##### 6.1.3.2.1 Use case scenario
The use case scenario for support of legacy (non CSG capable) UEs mobility to
HNB cells is where an operator has deployed a large enough number of neighbour
cells within the macro carrier that the macro cell NCL is nearly saturated
(e.g. more than 24 cells are already configured).
Further, the operator has decided to deploy on the same carrier a considerable
amount of HNB cells (e.g. more than 4-8 per macro cell), which would imply PSC
confusion.
PSC Confusion exists when the number of HNBs within a macro coverage exceeds
the number of PSC entries available for deploying HNBs (e.g. illustated in
[12] for six NCL HNB entries and eleven HNBs).
Moreover, another condition is that for the foreseeable future UEs with SI
acquisition for HO capabilities will constitute a minority of the UE
population that should be able to handover to such HNB cells.
Note: With respect to Open and Hybrid cells, if the deployment is such that
the macro NCL is very close to saturation (e.g. more than 28 PSCs already used
in the NCL), the deployment of any kind of additional cells will be more
constrained regardless of UE release. This is because the smaller the range of
available PSCs in the NCL, the smaller the PSC range that can be reused by
allocation to such cells and stricter constraints (e.g. low density of HNBs)
will be needed for these additional cells, otherwise there will be a risk of
PSC collision.
##### 6.1.3.2.2 Hybrid and Open HNBs
Solutions in this discussion are targetted to deployments where PSC Confusion
exists, as described in 6.1.3.1.
If it is assumed that dense small cell deployments are in place (to the point
of NCL saturation) and Open and Hybrid cells are deployed in the same macro
carrier, then non-CSG capable UEs are likely to experience call drops when
approaching hybrid or open HNBs while connected to a rapidly degrading macro
signal.
##### 6.1.3.2.3 CSG HNBs
The absence of CSG support in the UE results in lack of pre-filtering of
candidate closed cells (as per release 9 support) on the source side. This can
be the cause of unnecessary handover requests to the target HNB-GW, and
additional signalling in the core network and at the gateway. Although in some
cases the HO will be successful (if the UE is a member), in many cases
(depending on RF conditions) an unnecessary HO may be triggered when instead a
different handling would be preferable (e.g., HO to a different macro carrier
to avoid interference from the closed cell).
As such, enhancements under discussion are generally not suitable for closed
cells.
##### 6.1.3.2.4 Status Quo
Active mode mobility towards open and hybrid cells subject to PSC confusion is
possible for UEs capable of SI-acquisition.
[Active mode mobility of legacy UEs towards HNB cells is possible when these
cells are included in the NCL of the serving macro cell and when no PSC
confusion is present.]{.underline}
[In other cases, where disambiguation is not possible for UEs not capable of
SI acquisition, the following consequences would result when UEs approach HNBs
while in deteriorating source cell conditions: call drop, DL interference, UL
interference (to HNB and to source cell).mobility to HNBs is not
possible.]{.underline}
#### 6.1.3.3 Options
##### 6.1.3.3.1 Option 1: Disambiguation at HNB-GW
##### 6.1.3.3.1.1 Option 1a: Disambiguation at HNB-GW (∆OTD/Source
Cell/C-PICH) {#option-1a-disambiguation-at-hnb-gw-otdsource-cellc-pich .H6}
The combination of three approaches is proposed to help the HNB-GW
disambiguate the correct target HNB in step 4 of Figure 6.1.3.1.1:
1\. Source Cell
2\. Timing Difference (∆OTD)
3\. C-PICH matching
{width="3.125in" height="4.020138888888889in"}
Figure 6.1.3.3.1.1.1: HNB Disambiguation
###### # 6.1.3.3.1.1.1 Source Cell
This technique allows the HNB-GW to consider as candidate targets only those
HNBs in the neighbourhood of the source macro cell.
This requires delivery of the Source Macro cell identity from SRNC to the HNB-
GW.
In the event multiple cells are measured by a UE in step 1 of Figure
6.1.3.3.1.1.1, providing to the HNB-GW information for all such cells can
increase the resolution of the disambiguation approach. Such information helps
when the UE is in soft hand-over when the Step 1 report is executed, or when
the HNB is in neighborhood multiple deployed cells reportable in Step 1.
Useful information for each such macro cell is:
\- Cell Id (to match against cells observed by the HNB).
\- CPICH RSCP (e.g. to assist the in selecting the best matching neighbor(s)
for disambiguation).
###### # 6.1.3.3.1.1.2 Timing Difference (∆OTD)
This technique allows the HNB-GW to consider as candidate targets only those
HNBs whose downlink frame timing matches with that reported by the UE.
Namely, and referring to Figure 6.1.3.3.1.1.2.1:
\- ∆OTD = (OTD~HNB1~ - OTD ~MNB~) represents the target HNB's timing with
respect to the macro cell, as measured by the UE
\- OTD~cell~ = UE's timing with respect to the given cell.
\- OTD~cell~ = OFF~cell~*10 ms + Tm~cell~ (expressed in chips), as reported by
R99 UEs [9]
\- OFF and Tm compose the "_SFN-CFN observed time difference_ " [10] §5.1.8
\- ∆OTD ε [0, 256*38400-1] chips
\- OTD~HNB1~ and OTD ~MNB~ are reportable with event-1a.
\- ∆Reference_OTD is measurable by each HNB
\- The availability of thousands of random ∆Reference_OTD signatures makes
timing signature confusion unlikely within the macrocell
\- ∆Reference_OTD is robust to UTRAN clock drifts
At the HNB-GW, the comparison between ∆Reference_OTD and ∆OTD is the basis of
the ∆OTD-based disambiguation approach. This approach is also illustrated in
the Appendix of contribution [11].
In the event multiple HNB neighbours are reported in Step 1 of Figure
6.1.3.1.1, OTD ~MNB~ for each such neighbor should be made available to the
HNB-GW.
{width="6.686805555555556in" height="2.667361111111111in"}
Figure 6.1.3.3.1.1.2.1: ∆OTD approach
###### # 6.1.3.3.1.1.3 C-PICH matching
This technique allows the HNB-GW to consider as candidate targets only those
HNBs whose pilots match with that reported by the UE. While the approaches in
6.1.3.1.1.1.1 and 6.1.3.1.1.1.2 offer the most significant increase in
resolution, C-PICH matching can be helpful to further increase disambiguation
capability.
HNB pilots can be characterized by:
\- Primary Scrambling Code
\- ARFCN
\- CPICH RSCP
###### # 6.1.3.3.1.1.4 Signalling
Providing OFF~HNB1,~ Tm~HNB1~, OFF~MNB,~ Tm~MNB~, and the Source Cell to the
target HNB-GW is necessary to address PSC Confusion, as shown in the figure
below. Additional useful target information are PSC and ARFCN.
In addition HNBAP signalling would be needed to inform the HNB-GW of
∆Reference_OTD and corresponding macro neighbors. Signaling the HNB's C-PICH
(i.e. PSC and ARFCN) would also be helpful.
Figure 6.1.3.3.1.1.4.1: Iu Signaling with Source & Delta-OTD-based
disambiguation
###### # 6.1.3.3.1.1.5 Inter-frequency handover
The value of OFF "_is always reported to be 0_ " for inter-frequency cells in
Step-1 [10].
Therefore it should be noted that the range of ∆OTD will be different for
intra and inter-frequency cell measurements (e.g. when the HNB cell is
measured on another frequency than the source cell) and hence the ability to
disambiguate in the two scenarios will also differ.
###### 6.1.3.3.1.2 Option 1b: Disambiguation at HNB-GW based on UL detection
at HNB sub-system(UE UL PSC/UE UL DPCCH/target PSC)
In this solution, the disambiguation is also located in the HNB-GW. The HNB-GW
will distribute the handover UE information to the candidate target cells,
which having the same PSC as the target cell. The candidate cells should
measure the UL DPCCH of the UE by reusing the uplink synchronization procedure
with the UE info and send the measurement result (e.g. SIR) to the HNB GW. The
UE information shall include the UL PSC and UL DPCCH Chip offset of the Radio
Link with respect to the target cell frame boundary. Then the HNB GW selects
the best cell as the target cell based the measurement result of the cells.
Then HNB GW could trigger the RL Setup Request/Relocation Message in the
target cell to continue the handover procedure as usual.
Note: For inter-frequency hand-in, a second receiver may be required in the
HNB to detect the UE camping on another frequency.
###### 6.1.3.3.1.2.1 Signalling
Figure 6.1.3.3.1.2.1.1: Disambiguation by Uplink Detection
Figure 6.1.3.3.1.2.1.1 shows an example of signalling procedure following the
solution proposed.
1) A legacy UE sends Measurement Report Message to SRNC.
2) The SRNC sends Relocation Message or Radio Link Setup Request Message to
HNB GW including the target cell PSC, UE UL PSC and UL DPCCH chip offset.
Note: the relocation can be transmitted by RANAP or, if available RNSAP.
3) The HNB GW acquires the candidate target cells based on the target cell
PSC, sends the information from the SRNC to the candidate cells, and the
candidate target cells measure the Uplink signal quality of the UE and respond
with the measurement result to HNB GW.
After the candidate target cell receives the detect request, it establishes
the Uplink synchronisation using, for instance the synchronisation procedure A
with the UL DPCCH chip offset. During the synchronisation procedure the Uplink
signal quality of the UE is used as the reference to select the target cell.
Note: For inter-frequency hand-in, a second receiver may be required in the
HNB to detect the UE camping on another frequency.
4) The HNB GW selects the best cell based on the measurement result (e.g.
RSCP/SIR) from candidate cells.
###### 6.1.3.3.1.3 Option 1c: Disambiguation at HNB-GW(UE UL detection + ∆OTD
Filtering)
In this solution, the disambiguation is also located in the HNB-GW. The HNB-GW
should firstly filter the candidate target cells with ∆OTD information, and
the HNB-GW will distribute the handover UE information to the remaining
candidate target cells. Should any further ambiguity remain after HNB-GW
filtering, the UE UL detection as in Option 1b will be used to resolve it.
The following steps are the same as solution 1b, except ∆OTD filtering is
performed at the HNB-GW in step 3a, prior to step 3b.
Note: option 1c combines the benefits of both solutions 1a (minimized amount
of Iuh signalling and excellent intra-frequency disambiguation) and 1b
(excellent inter-frequency disambiguation ability).
Figure 6.1.3.3.1.3.1: Disambiguation by Uplink Detection with ∆OTD Filtering
at the HNB-GW
Below is more description on the procedure signalling:
1) A legacy UE sends Measurement Report Message to SRNC.
2) The SRNC sends Relocation Message or Radio Link Setup Request Message to
HNB GW including the target cell PSC, OTD information, UE UL PSC and UL DPCCH
chip offset.
Note: the relocation can be transmitted by RANAP or, if available RNSAP.
3) Before the HNB GW sends the detect request to the target candidate cells,
it should firstly filter the candidate target cells with ∆OTD information, and
the HNB-GW will distribute the handover UE information to the remaining
candidate target cells. If no further ambiguity remains the detect procedure
could be skipped and continue the normal handover.
The HNB GW acquires the candidate target cells based on the target cell PSC
and OTD information, and then sends the UE UL PSC and UL DPCCH chip offset
information from the SRNC to the candidate cells if there is still more than
one candidate. The candidate target cell measure the uplink signal quality of
the UE and respond with the measurement result to HNB GW.
After the candidate target cell receives the detect request, it establishes
the Uplink synchronisation using the synchronisation procedure A with the UL
DPCCH chip offset. During the synchronisation procedure the Uplink signal
quality of the UE is used as the reference to select the target cell.
Note: For inter-frequency hand-in, a second receiver may be required in the
HNB to detect the UE camping on another frequency.
Additionally, after the successful inbound handover, the HNB GW could update
the ∆OTD information between the target HNB cell and the source macro cell. No
additional Iuh signalling is brought to update the ∆OTD information in HNB GW.
4) The HNB GW selects the best cell based on the measurement result (e.g. SIR)
from candidate cells.
##### 6.1.3.3.2 Option 2: Disambiguation at Serving RNC
In this solution information needed to carry out disambiguation of the target
cell are stored in the serving RNC (SRNC). This information may consists of
some or all of the following:
1\. System Information of target cell
2\. PSCs of cells neighbouring the target cell
3\. Timing Difference (∆OTD) between source and target cell
The following sections explain how this information can be used to support
mobility of legacy UEs to HNB cells.
##### 6.1.3.3.2.1 Option 2a: Acquisition of information at SRNC
{#option-2a-acquisition-of-information-at-srnc .H6}
It is assumed that by the time Release 11 HNB architectures would be fully
deployed there would be a substantial number of Release 9 UEs available.
Release 9 UEs are able to acquire System Information for detected cells or in
general for any intra or inter frequency PSC reported to the SRNC, upon
configuration of such SI acquisition and opportunity to measure. Therefore it
is plausible to rely on such UEs to report to a SRNC System Information of
cells not configured or not included in the Neighbour Cell List of the SRNC.\
It has to be noted that this assumption is already adopted across several
technical areas in 3GPP. For example, the UTRAN ANR function purely relies on
Release 10 UEs for collecting and reporting neighbour cell information able to
enhance the Neighbour Relation Table of an RNC. Similarly, in LTE, the
adjustment of mobility parameters between cells for resolution of mobility
failures relies on the presence of Release 9 and Release 10 UEs capable of
supporting the MRO function.
By means of Release 9 UEs an RNC can acquire System Information about the
cells neighbouring each served cell. It has to be noted that the serving RNC
does not need to be reported any System Information for cells directly served,
given that all the cell configuration parameters for those cells are already
known.
Moreover, an RNC can collect information about the PSCs and signal strength of
cells in the neighbourhood of a given target cell.
For example, if it is assumed that a UE reports a given Cell-n with PSC-n as
the strongest target cell, information about the PSCs of the cells
neighbouring Cell-n are provided by the UE in the reported PSCs included in
the monitored set and/or in the detected set of cells the UE is able to
monitor.
Similarly, the RNC may also store timing difference information between source
and target cells reported by the UE. Such timing difference information may
consist of some or all of the following (as described in [10]):
A. SFN (Target Cell) -- SFN (Source Cell)
B. SFN (Target Cell) -- CFN (Source Cell)
##### 6.1.3.3.2.2 Option 2b: Target Cell Disambiguation at SRNC
{#option-2b-target-cell-disambiguation-at-srnc .H6}
As an important alternative to Option 2a , information about the HNB cells
neighbouring RNC served cells could be acquired via OAM configuration.
In fact, a HNB needs to report to its OAM system a considerable amount of
information regarding every detected cells neighbouring its served cell. This
information consists of, amongst other IEs, the PSC, the signal strength, Cell
ID, LAC, RAC and CSG ID of neighbouring cells. Namely, an OAM assisted
solution could be used either to complement and optimize the solution
described in Option 2a, or it could be used independently to provide the
information needed for disambiguation of target HNB cell at SRNC.
The HNB OAM system could send this information to the RNC OAM system, which in
turn it could pass them to the RNC to either speed up creation of a neighbour
cell database or to fully create and maintain such database.
It needs to be noted that exchange of information between HNB OAM system and
RNC OAM system already needs to occur. For example, the two OAM systems may
exchange information about the range of PSCs in use for deployment of CSG
cells. Further, if any of the HNB cells (e.g. open cells deployed in a
coordinated way with the macro layer) needs to be added in the NCL of any
macro cell, the two OAM systems may to exchange information concerning these
cells.
Moreover, this solution provides possibilities for optimization due to the
likely existence in the future of an Iur interface between HNB GW and RNC.
Information concerning the neighbour cells of an HNB could be passed from HNB
GW to RNC via the Iur interface.
Figure 6.1.3.3.2.2.1: Support for HNB mobility for legacy UEs
In figure 6.1.3.3.2.2.1 The procedures of neighbour information acquisition
described in section 6.1.3.3.2.2 are shown, where the SRNC can either acquire
neighbour cell information via CSG capable UEs (Option 2a) or it can acquire
them via OAM (Option 2b).
In addition to these procedures the figure shows the process of target
disambiguation in cases of mobility involving legacy UEs.
When a legacy UE detects a target cell (by means of detecting its PSC), it
will also report to the SRNC a number of other PSCs, together with their pilot
signal strength, belonging to either monitored cells (i.e. cells in the macro
NCL or monitored set) or to detected cells (i.e. cells not in the macro NCL).
Moreover, the legacy UE may report timing difference information between
source and target.
The SRNC can compare the information reported by the legacy UE with the
neighbour cell information previously acquired and stored. Namely, the SRNC is
able to compare the signature of neighbour cells PSCs and signal strengths
reported by the UE with the signature previously stored in one or both of
these methods:
\- Neighbour information stored via acquisition from SI-acquisition capable
UEs
\- Neighbour information stored via acquisition from HNB OAM system
Under the assumption that no PSC collision occurs, i.e. that the set of PSCs
monitored by a UE at the same time is made of PSCs different to each other,
By means of comparison of information reported from the UE and information
stored at SRNC the target disambiguation can be carried out.
It has to be noted that disambiguation of the target based on detected PSCs in
a given neighbourhood is a principle already acknowledged in Release 9. In
fact, Release 9 UEs can report a CSG Proximity Indicator by means of so called
"fingerprinting", which was discussed in several occasions as consisting of
monitoring and recording the ecosystem of PSCs surrounding an accessible CSG
cells. The same principle is used and enhanced in this solution.
###### 6.1.3.3.2.3: Signalling
One of the main advantages of the proposed solution is that it does not
require any changes in the signalling procedures currently standardised for
relocation.
Figure 6.1.3.3.2.3.1: Signalling exchange for HNB mobility of legacy UEs
Figure 6.1.3.3.2.3.1 shows an example of signalling procedure following the
solution proposed.
1) Legacy UE reports the cell associated to PSC=3 as the strongest monitored
cell.\ The UE also reports other monitored PSCs (i.e. PSC=1 and PSC=12). The
UE may report the timing difference between source cell and detected cells
including strongest target cell (i.e. HNBc). However, identification of target
is mainly based on signature of detected neighbour cells, while timing
difference information.
2) SRNC uses the database of neighbour cell information to disambiguate the
target cell associated to PSC=3 reported by the UE. Such disambiguation
results in identifying HNBc as the target.
3) SRNC triggers a legacy RANAP: RELOCATION REQUIRED procedure towards the
SGSN/MSC.
4) SGSN/MSC triggers RANAP: RELOCATION REQUEST to the HNB GW, which will then
forward the message to HNBc.
The solution proposed guarantees the following:
1) It maintains a fundamental principle adopted across 3GPP networks, namely
that source RNS detects and decides to which target relocation needs to be
addressed.
2) It minimises the impact on the network by involving only the SRNC in the
target resolution process.
3) It does not impact any RAN interface, allowing for interoperability with
legacy HNB infrastructure
##### 6.1.3.3.2.4 Option 2c: Disambiguation at RNC (disambiguation data
provided by femto during previous Femto to Macro HOs)
{#option-2c-disambiguation-at-rnc-disambiguation-data-provided-by-femto-
during-previous-femto-to-macro-hos .H6}
This approach has much in common with solution 1a and solutions 2a/2b, and can
be seen as a remapping of functions to the network elements. This solution was
designed with the following features in mind:
\- the RNC remains in control of the HO decision;
\- the disambiguating node (RNC) decides on the goodness of the available
disambiguation data, from UE reports;
\- the approach can be applied to both femto and picocells (no reliance on
gateway functionality or HNB O&M);
\- the approach should not require explicit standardization work.
Option 2c can be split in two different steps: at first, during Femto to Macro
mobility, the RNC builds a local database including all necessary information
(e.g., PSCs, Cell IDs, OTDs, Measurement Reports); in a second phase, during
Macro to Femto mobility, the RNC uses the information previously gathered in
order to disambiguate the target Femto cell in case of a certain PSC is shared
in a given (target) area.
###### # 6.1.3.3.2.4.1 Option 2c, Step 1: Construction of HNB database in the
macro cell RNC
Figure 6.1.3.3.2.4.1.1 depicts the first step of the solution: it consists in
the macro building the database of HNBs. Such DB would include:
\- PSCs
\- Cell IDs
\- Assistance data (e.g., OTD, measurement report)
Figure 6.1.3.3.2.4.1.1: Step 1 of Option 1d: The macro cell RNC constructs
database of HNBs including PSCs, cell IDs, plus assistance data (OTD,
measurement report).
This first step can be split in the following sub-steps:
A. The UE under control of the HNB is configured to provide measurement
reports, including OTD data;
B. The HNB initiates relocation towards macro cells, including full MR and
OTD;
C. The Macro cell RNC collects incoming data and adds it to its database.
At this stage, the Macro RNC has built a database with all necessary
information necessary for future Relocation.
###### # 6.1.3.3.2.4.2 Option 2c, Step 2: Best match activity (disambiguation)
executed by the RNC
Figure 6.1.3.3.2.4.2.1 depicts the second step of solution 2c, in which the
RNC, during Macro to Femto mobility (hand-in) can trigger the "best match"
activity and disambiguate the target HNB.
Figure 6.1.3.3.2.4.2.1: Step 2 -- The macro cell RNC now knows if a certain
PSC is shared in an area, so if that PSC is a target, it can initiate a "best
match" activity
As shown the figure above, the second step of the solution consists in:
A. The macro cell RNC decides whether or not to configure OTD reporting e.g.
if UE is not SIB reading capable + likely target is known to be a "shared" PSC
in the area
B. The macro cell RNC finds the best match in database in case of a shared PSC
C The macro cell RNC initiates relocation towards HNB cell as normal
###### # 6.1.3.3.2.4.3 Considerations on Option 2c
**Construction of the HNB database**
\- It is the function of the HNBs
\- to configure the UEs to provide the OTDs and any other relevant data,
\- also to include it in relevant messages
\- It is the function of the HNB to maintain data fresh in the macro
\- Normal handovers towards the macro are of course good occasions to provide
this data
\- Possible enhancement:
\- If OTD data is known to be stale (HNB knows what data it last provided and
when), the HNB could use any existing UEs to measure and initiate procedures
towards macro RNC
\- This method is usable if the macro RNC can determine that the neighbour
relation is usable to update the DB
\- In this case, the HNB would need to supervise / cancel the procedures
towards the macro
\- HNB needs to provide data towards all potential macro neighbours
\- No difference in functionality requirements for HNBs and small cell RNC
(HNB GW is not involved)
**Target cell disambiguation**
\- From the macro point of view, the work required is simply to ensure a best
match from the known database of cells (the HO signalling is not impacted)
\- Implementation is easily extendable to release 9 UE support:
\- if UE is SI acquisition capable, macro RNC can choose to order the UE to
read the SIB -> which is obviously more reliable
\- If UE is not capable of SI acquisition, macro RNC requires MR information
plus OTD
\- If there is only one neighbour with given PSC for the specific macro cell,
no extra effort needed (macro will know this -- this also helps even for SIB
reading UEs)
\- OTD not always needed (apart from SIB reading UEs, also depends on number
of cells with that PSC, plus also optional use of MR data in disambiguation)
\- If "best match" is not reliable due to e.g. stale data, OTD or MRs too
close to differentiate etc, macro can choose not to trigger HO
\- Likely to lead to further actions in normal operation such as inter-
frequency HO
#### 6.1.3.4 Discussion
This section captures a framework to compare solutions in section 6.1.3.3 to
the current solution based on the deployment of Rel-10 nodes. Regarding Option
2, a further split into Options 2a and 2b is effected, as described in 6.1.3.3
+----------------------------------------------------------------------+ | _[Option 2]{.underline}: Disambiguation performed at the SRNC. This | | option is further made possible via two means:_ | | | | a) _Disambiguation-assisting information supplied by other UEs that | | implement the WCDMA Rel-9 SI Acquisition feature._ | | | | b) _Disambiguation-assisting information supplied by the HNB_ | | | | c) _Disambiguation-assisting information supplied by the HNB during | | previous Femto to Macro HO and stored in RNC's local database_ | +----------------------------------------------------------------------+
##### 6.1.3.4.1 Parameters for Disambiguation
Table 6.1.3.4.1.1 summarizes the parameters that may be used for
disambiguation (at each proposed option's chosen node).
Note that for reach disambiguation parameter, a **_reference parameter_**
stored in the disambiguation node (as per each solution) is be compared
against the **_corresponding parameter in the Measurement Report Message_**
that triggers hand-in.
Table 6.1.3.4.1.1: Disambiguation Parameters
+-------+-------+-------+-------+-------+-------+-------+-------+ | Node | I | O | O | O | O | O | O | | Type | nform | ption | ption | ption | ption | ption | ption | | | ation | 1a | 1b | 1c | 2a | 2b | 2c | | | | | | | | | | | | | _Disa |_ Disa | _Disa | * | * | * | | | | mbigu | mbigu | mbigu | (Disa | (Disa | (Disa | | | | ation | ation | ation | mbigu | mbigu | mbigu | | | | @ | @ | @ | ation | ation | ation | | | | HNB | HNB- | HN | @ | @ | @ | | | | -GW(∆ | GW(UE | B-GW( | S | SRNC, | SRNC, | | | | OTD)_ | UL | ∆OTD+ | RNC,_| based | based | | | | | D | UE UL | | on | on | | | | | etect | D | * | i | i | | | | | ion)_ | etect | based | nform | nform | | | | | | ion)_| on | ation | ation | | | | | | | i | sup | pro | | | | | | | nform | plied | vided | | | | | | | ation | by | by | | | | | | | sup | HNBs | HNBs | | | | | | | plied | to | to | | | | | | | by | SR | SRNC | | | | | | | Rel-9 | NC))_ | d | | | | | | | UEs | | uring | | | | | | | to | | pre | | | | | | | S | | vious | | | | | | | RNC)_| | Femto | | | | | | | | | to | | | | | | | | | Macro | | | | | | | | | HO)_ | +-------+-------+-------+-------+-------+-------+-------+-------+ | **S | So | Yes | Yes | Ye | Ye | Ye | Yes | | ource | urce: | | | s^Not | s^Not | s^Not | | | C | CPICH | | | e\ 4^ | e\ 1^ | e\ 1^ | | | ell** | A | | | | | | | | | RFCN, | | | | | | | | | PSC | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | | So | Yes | No | Ye | Yes | No | Yes | | | urce: | | | s^Not | | | | | | CPICH | | | e\ 4^ | | | | | | OTD | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | | So | Yes | No | Ye | No | No | Yes | | | urce: | | | s^Not | | | | | | CPICH | | | e\ 4^ | | | | | | RSCP | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | | So | Yes | Yes | Yes | Yes | Yes | Yes | | | urce: | | | ^Not | (impl | (impl | (impl | | | cell | | | e\ 4^ | icit) | icit) | icit) | | | ide | | | | | | | | | ntity | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | **T | Ta | Yes | Yes | Yes | Yes | Yes | Yes | | arget | rget: | | | ^Not | | | | | C | CPICH | | | e\ 4^ | | | | | ell** | A | | | | | | | | | RFCN, | | | | | | | | | PSC | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | | Ta | Yes | No | Yes | Yes | No | Yes | | | rget: | | | ^Not | | | | | | CPICH | | | e\ 4^ | | | | | | OTD | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | | Ta | Yes | No | Yes | Yes | No | Yes | | | rget: | | | ^Not | | | | | | CPICH | | | e\ 4^ | | | | | | RSCP | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | ** | Other | Yes | No | Yes | Yes | Yes | Yes | | Other | c | | | ^Not | ^Not | ^Not | | | Ce | ells: | | | e\ 4^ | e\ 2^ | e\ 2^ | | | lls**| CPICH | | | | | | | | | A | | | | | | | | | RFCN, | | | | | | | | | PSC | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | | Other | Yes | No | Yes | Yes | No | Yes | | | c | | | ^Not | | | | | | ells: | | | e\ 4^ | | | | | | CPICH | | | | | | | | | OTD | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | | Other | Yes | No | Yes | Yes | Yes | Yes | | | c | | | ^Not | | | | | | ells: | | | e\ 4^ | | | | | | CPICH | | | | | | | | | RSCP | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | * | UL | No | Yes | Yes | No | No | No | | *UE** | DPCC | | | ^Not | | | | | | H:SIR | | | e\ 4^ | | | | | | ^Not | | | | | | | | | e\ 5^ | | | | | | | | | | | | | | | | | | UL | | | | | | | | | Scram | | | | | | | | | bling | | | | | | | | | Code | | | | | | | | | ^Not | | | | | | | | | e\ 6^ | | | | | | | | | | | | | | | | | | UL | | | | | | | | | D | | | | | | | | | PCCH: | | | | | | | | | Chip | | | | | | | | | O | | | | | | | | | ffset | | | | | | | | | of | | | | | | | | | the | | | | | | | | | UL | | | | | | | | | DPCCH | | | | | | | | | with | | | | | | | | | re | | | | | | | | | spect | | | | | | | | | to | | | | | | | | | the | | | | | | | | | t | | | | | | | | | arget | | | | | | | | | HNB's | | | | | | | | | frame | | | | | | | | | bou | | | | | | | | | ndary | | | | | | | | | (aka | | | | | | | | | T~m | | | | | | | | | ,HNB~ | | | | | | | | | + | | | | | | | | | T | | | | | | | | | ~0~). | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | Note | | | | | | | | | 1: | | | | | | | | | n | | | | | | | | | eeded | | | | | | | | | to | | | | | | | | | corr | | | | | | | | | elate | | | | | | | | | OTD | | | | | | | | | in | | | | | | | | | M | | | | | | | | | easur | | | | | | | | | ement | | | | | | | | | R | | | | | | | | | eport | | | | | | | | | Me | | | | | | | | | ssage | | | | | | | | | with | | | | | | | | | s | | | | | | | | | ource | | | | | | | | | cell. | | | | | | | | | | | | | | | | | | Note | | | | | | | | | 2: | | | | | | | | | per | | | | | | | | | F | | | | | | | | | igure | | | | | | | | | 6 | | | | | | | | | .1.3. | | | | | | | | | 1.2-2 | | | | | | | | | | | | | | | | | | Note | | | | | | | | | 3: | | | | | | | | | TBD, | | | | | | | | | based | | | | | | | | | on | | | | | | | | | cla | | | | | | | | | rific | | | | | | | | | ation | | | | | | | | | d | | | | | | | | | uring | | | | | | | | | e | | | | | | | | | -mail | | | | | | | | | d | | | | | | | | | iscus | | | | | | | | | sions | | | | | | | | | how | | | | | | | | | refe | | | | | | | | | rence | | | | | | | | | OTD | | | | | | | | | v | | | | | | | | | alues | | | | | | | | | are | | | | | | | | | obt | | | | | | | | | ained | | | | | | | | | for | | | | | | | | | O | | | | | | | | | ption | | | | | | | | | 2b | | | | | | | | | | | | | | | | | | Note | | | | | | | | | 4: | | | | | | | | | Same | | | | | | | | | as | | | | | | | | | for | | | | | | | | | Sol | | | | | | | | | ution | | | | | | | | | 1a | | | | | | | | | | | | | | | | | | Note | | | | | | | | | 5: As | | | | | | | | | mea | | | | | | | | | sured | | | | | | | | | by | | | | | | | | | the | | | | | | | | | t | | | | | | | | | arget | | | | | | | | | HNB | | | | | | | | | | | | | | | | | | Note | | | | | | | | | 6: As | | | | | | | | | confi | | | | | | | | | gured | | | | | | | | | at | | | | | | | | | the | | | | | | | | | s | | | | | | | | | ource | | | | | | | | | cell, | | | | | | | | | b | | | | | | | | | efore | | | | | | | | | ha | | | | | | | | | nd-in | | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+
##### 6.1.3.4.2 Node Impact
The following table summarizes the nodes where implementation upgrade is
expected, for each of the options:
Table 6.1.3.4.2.1: Node Upgrade Requirements
+---------+---------+---------+---------+---------+---------+---------+ | Node | Option | Option | Option | Option | Option | Option | | | 1a | 1b | 1c | 2a | 2b | 2c | | | | | | | | | | | * | * | * | _( |_( | _( | | | Disambi | Disambi | Disambi | Disambi | Disambi | Disambi | | | guation | guation | guation | guation | guation | guation | | | @ | @ | @ | @ SRNC, | @ SRNC, | @ SRNC, | | | HNB-GW | HN | HNB-G | based | based | based | | | (∆OTD)_ | B-GW(UE | W(∆OTD+ | on | on | on | | | | UL | UE UL | A | A | info | | | | Dete | Dete | NR-type | NR-type | rmation | | | | ction)_| ction)_ | info | info | s | | | | | | from | from | upplied | | | | | | Rel-9 | OAM)_| by HNBs | | | | | | CSG | | to SRNC | | | | | | UEs)_ | | during | | | | | | | | p | | | | | | | | revious | | | | | | | | Femto | | | | | | | | to | | | | | | | | Macro | | | | | | | | HO)_| +---------+---------+---------+---------+---------+---------+---------+ | RNC | FFS | Yes^N | Yes^N | Yes: | Yes: | Yes^N | | | ^N | ote\ 7^ | ote\ 7^ | disambi | disambi | ote\ 8^ | | | ote\ 1^ | | | guation | guation | | | | | | | | | | | | | | | TBD: | TBD: | | | | | | | provide | provide | | | | | | |_ re | _re | | | | | | | ference | ference | | | | | | | params | params | | | | | | | from | from | | | | | | | DRNC | DRNC | | | | | | | to_ | to _| | | | | | | SRNC^N | SRNC^N | | | | | | | ote\ 2^ | ote\ 2^ | | +---------+---------+---------+---------+---------+---------+---------+ | UE | No | No | No | UE to | No | No | | | | | | h | | | | | | | | and-in: | | | | | | | | No | | | | | | | | | | | | | | | | Other | | | | | | | | UEs: | | | | | | | | * | | | | | | | |_ "_subs | | | | | | | | tantial | | | | | | | | number | | | | | | | | of | | | | | | | | Release | | | | | | | | 9 | | | | | | | | UEs_ "**| | | | | | | | Ref x | | | +---------+---------+---------+---------+---------+---------+---------+ | HNB-GW | Yes: | Yes: | Yes: | No | Yes, | No | | | disambi | disambi | Fi | | HNB GW | | | | guation | guation | ltering | | will | | | | | based | by OTD | | need to | | | | | on UE | info | | update | | | | | UL | rmation | | SRNC | | | | | info | and | | with | | | | | rmation | disambi | | HNB | | | | | | guation | | timing | | | | | | based | | info | | | | | | on UE | | rmation | | | | | | UL | | | | | | | | info | | Note: | | | | | | rmation | | when | | | | | | | | option | | | | | | | | 2b is | | | | | | | | used in | | | | | | | | conj | | | | | | | | unction | | | | | | | | with | | | | | | | | option | | | | | | | | 2a it | | | | | | | | is | | | | | | | | suf | | | | | | | | ficient | | | | | | | | to have | | | | | | | | Rel9 | | | | | | | | UEs to | | | | | | | | report | | | | | | | | timing | | | | | | | | diff | | | | | | | | erence, | | | | | | | | th | | | | | | | | erefore | | | | | | | | a | | | | | | | | voiding | | | | | | | | impacts | | | | | | | | on HNB | | | | | | | | GW | | +---------+---------+---------+---------+---------+---------+---------+ | HNB | Yes: | Yes: | * | No ^4^ | Yes, | Yes^N | | | provide | De | *Yes:** | | HNB | ote\ 4^ | | | _Re | tecting | provide | | will | | | | ference | UE |_ Re | | need to | Pr | | | Params _| based | ference | | report | ovision | | | to | on UE | Params_ | | timing | of | | | HNB-GW | info | to | | info | as | | | | rmation | HNB-GW | | rmation | sisting | | | | and | and | | to HNB | info | | | | r | De | | GW | rmation | | | | esponse | tecting | | | to the | | | | HNB-GW | UE | | Note: | RNC | | | | the | based | | when | during | | | | result. | on UE | | option | Femto | | | | | info | | 2b is | to | | | | | rmation | | used in | Macro | | | | | and | | conj | HO | | | | | r | | unction | | | | | | esponse | | with | | | | | | HNB-GW | | option | | | | | | the | | 2a it | | | | | | result. | | is | | | | | | | | suf | | | | | | | | ficient | | | | | | | | to have | | | | | | | | Rel9 | | | | | | | | UEs to | | | | | | | | report | | | | | | | | timing | | | | | | | | diff | | | | | | | | erence, | | | | | | | | th | | | | | | | | erefore | | | | | | | | a | | | | | | | | voiding | | | | | | | | impacts | | | | | | | | on HNB | | +---------+---------+---------+---------+---------+---------+---------+ | HMS | No | No | No | No | No | No | +---------+---------+---------+---------+---------+---------+---------+ | NM~HNB~ | No | No | No | No | Yes | No | | | | | | | ^Note6^ | | +---------+---------+---------+---------+---------+---------+---------+ | NM | No | No | No | No | Yes | No | | ~Macro~ | | | | | ^Note6^ | | +---------+---------+---------+---------+---------+---------+---------+ | DM~RNC~ | No | No | No | No | Yes | No | | | | | | | ^Note6^ | | +---------+---------+---------+---------+---------+---------+---------+ | Note 1: | | | | | | | | Source | | | | | | | | Cell Id | | | | | | | | can | | | | | | | | already | | | | | | | | p | | | | | | | | rovided | | | | | | | | part of | | | | | | | | UE | | | | | | | | History | | | | | | | | Infor | | | | | | | | mation, | | | | | | | | as | | | | | | | | cl | | | | | | | | arified | | | | | | | | in Ref | | | | | | | | y. All | | | | | | | | other | | | | | | | | par | | | | | | | | ameters | | | | | | | | fro | | | | | | | | m[9], | | | | | | | | except | | | | | | | | Source | | | | | | | | Cell | | | | | | | | Id | | | | | | | | entity, | | | | | | | | are | | | | | | | | av | | | | | | | | ailable | | | | | | | | in the | | | | | | | | UE's | | | | | | | | Meas | | | | | | | | urement | | | | | | | | Report | | | | | | | | M | | | | | | | | essage, | | | | | | | | which | | | | | | | | SRNC | | | | | | | | " | | | | | | | | should" | | | | | | | | [9] | | | | | | | | make | | | | | | | | av | | | | | | | | ailable | | | | | | | | to the | | | | | | | | HNB-GW. | | | | | | | | Such | | | | | | | | RNCs | | | | | | | | need no | | | | | | | | u | | | | | | | | pgrade. | | | | | | | | | | | | | | | | The | | | | | | | | st | | | | | | | | ructure | | | | | | | | of the | | | | | | | | RRC | | | | | | | | co | | | | | | | | ntainer | | | | | | | | (SRNS | | | | | | | | Rel | | | | | | | | ocation | | | | | | | | Info) | | | | | | | | can | | | | | | | | carry a | | | | | | | | single | | | | | | | | meas | | | | | | | | urement | | | | | | | | report | | | | | | | | re | | | | | | | | garding | | | | | | | | the | | | | | | | | target | | | | | | | | cell\'s | | | | | | | | pilot | | | | | | | | st | | | | | | | | rength. | | | | | | | | The OTD | | | | | | | | meas | | | | | | | | urement | | | | | | | | reports | | | | | | | | are | | | | | | | | already | | | | | | | | an | | | | | | | | i | | | | | | | | ntegral | | | | | | | | part of | | | | | | | | the | | | | | | | | UE's | | | | | | | | meas | | | | | | | | urement | | | | | | | | report | | | | | | | | and UE | | | | | | | | p | | | | | | | | rovides | | | | | | | | them | | | | | | | | (c.f. | | | | | | | | 3GPP TS | | | | | | | | 25.331, | | | | | | | | section | | | | | | | | 10 | | | | | | | | .3.7.6) | | | | | | | | based | | | | | | | | on | | | | | | | | meas | | | | | | | | urement | | | | | | | | config | | | | | | | | uration | | | | | | | | by RNC. | | | | | | | | | | | | | | | | RNC is | | | | | | | | able to | | | | | | | | co | | | | | | | | nfigure | | | | | | | | the UE | | | | | | | | for | | | | | | | | cell | | | | | | | | measu | | | | | | | | rements | | | | | | | | in | | | | | | | | cluding | | | | | | | | OTD. | | | | | | | | The | | | | | | | | requ | | | | | | | | irement | | | | | | | | in RAN2 | | | | | | | | for | | | | | | | | in | | | | | | | | cluding | | | | | | | | the | | | | | | | | UE's | | | | | | | | meas | | | | | | | | urement | | | | | | | | report | | | | | | | | in the | | | | | | | | RRC | | | | | | | | tran | | | | | | | | sparent | | | | | | | | co | | | | | | | | ntainer | | | | | | | | at | | | | | | | | h | | | | | | | | andover | | | | | | | | time a | | | | | | | | " | | | | | | | | should" | | | | | | | | not a | | | | | | | | "shall" | | | | | | | | requi | | | | | | | | rements | | | | | | | | (c.f. | | | | | | | | 3GPP TS | | | | | | | | 25.331, | | | | | | | | section | | | | | | | | 14 | | | | | | | | .12.4.2 | | | | | | | | [9]). | | | | | | | | It is | | | | | | | | then | | | | | | | | conc | | | | | | | | eivable | | | | | | | | that | | | | | | | | current | | | | | | | | RNC | | | | | | | | might | | | | | | | | not | | | | | | | | deliver | | | | | | | | the | | | | | | | | Meas | | | | | | | | urement | | | | | | | | Report | | | | | | | | that | | | | | | | | \"tr | | | | | | | | iggered | | | | | | | | the | | | | | | | | SRNS | | | | | | | | reloc | | | | | | | | ation\" | | | | | | | | in the | | | | | | | | RRC | | | | | | | | con | | | | | | | | tainer. | | | | | | | | | | | | | | | | Note 2: | | | | | | | | TBD, | | | | | | | | based | | | | | | | | on | | | | | | | | clarif | | | | | | | | ication | | | | | | | | during | | | | | | | | e-mail | | | | | | | | dis | | | | | | | | cussion | | | | | | | | re | | | | | | | | garding | | | | | | | | which | | | | | | | | disambi | | | | | | | | guation | | | | | | | | par | | | | | | | | ameters | | | | | | | | are | | | | | | | | used | | | | | | | | for | | | | | | | | Options | | | | | | | | 2a and | | | | | | | | 2b. | | | | | | | | | | | | | | | | Note 3: | | | | | | | | TBD, | | | | | | | | based | | | | | | | | on | | | | | | | | clarifi | | | | | | | | cations | | | | | | | | during | | | | | | | | e-mail | | | | | | | | dis | | | | | | | | cussion | | | | | | | | about | | | | | | | | how and | | | | | | | | which | | | | | | | | re | | | | | | | | ference | | | | | | | | par | | | | | | | | ameters | | | | | | | | are | | | | | | | | tracked | | | | | | | | for | | | | | | | | Option | | | | | | | | 2b. | | | | | | | | | | | | | | | | Note 4: | | | | | | | | TBD, | | | | | | | | based | | | | | | | | on | | | | | | | | clarif | | | | | | | | ication | | | | | | | | during | | | | | | | | e-mail | | | | | | | | dis | | | | | | | | cussion | | | | | | | | re | | | | | | | | garding | | | | | | | | how | | | | | | | | tract | | | | | | | | ability | | | | | | | | of | | | | | | | | ∆ | | | | | | | | Referen | | | | | | | | ce_OTD | | | | | | | | is | | | | | | | | ensured | | | | | | | | at the | | | | | | | | SRNC | | | | | | | | for | | | | | | | | option | | | | | | | | 2a, and | | | | | | | | whether | | | | | | | | that | | | | | | | | imposes | | | | | | | | requi | | | | | | | | rements | | | | | | | | new | | | | | | | | requi | | | | | | | | rements | | | | | | | | on | | | | | | | | HNBs. | | | | | | | | | | | | | | | | Note 5: | | | | | | | | Given | | | | | | | | the | | | | | | | | network | | | | | | | | ope | | | | | | | | rators' | | | | | | | | desire | | | | | | | | to | | | | | | | | operate | | | | | | | | HNB and | | | | | | | | Macro | | | | | | | | n | | | | | | | | etworks | | | | | | | | indepen | | | | | | | | dently, | | | | | | | | many | | | | | | | | HMSs do | | | | | | | | not | | | | | | | | im | | | | | | | | plement | | | | | | | | Itf-N; | | | | | | | | reg | | | | | | | | ardless | | | | | | | | of any | | | | | | | | s | | | | | | | | tandard | | | | | | | | support | | | | | | | | ident | | | | | | | | ifiable | | | | | | | | for | | | | | | | | Note 3, | | | | | | | | an | | | | | | | | upgrade | | | | | | | | of this | | | | | | | | node is | | | | | | | | likely | | | | | | | | r | | | | | | | | equired | | | | | | | | for | | | | | | | | Option | | | | | | | | 2b. | | | | | | | | | | | | | | | | Note 6: | | | | | | | | Option | | | | | | | | 2a | | | | | | | | relies | | | | | | | | on | | | | | | | | identif | | | | | | | | ication | | | | | | | | of | | | | | | | | target | | | | | | | | based | | | | | | | | on | | | | | | | | surr | | | | | | | | ounding | | | | | | | | ne | | | | | | | | ighbour | | | | | | | | PCIs. | | | | | | | | Such | | | | | | | | set of | | | | | | | | ne | | | | | | | | ighbour | | | | | | | | be | | | | | | | | p | | | | | | | | rovided | | | | | | | | by the | | | | | | | | HNB | | | | | | | | HMS, | | | | | | | | which | | | | | | | | is | | | | | | | | i | | | | | | | | nformed | | | | | | | | about | | | | | | | | ne | | | | | | | | ighbour | | | | | | | | cells | | | | | | | | for | | | | | | | | each | | | | | | | | HNB | | | | | | | | cell. | | | | | | | | | | | | | | | | Note 7: | | | | | | | | The | | | | | | | | UE's UL | | | | | | | | Scr | | | | | | | | ambling | | | | | | | | Code | | | | | | | | prior | | | | | | | | to | | | | | | | | hand-in | | | | | | | | must be | | | | | | | | p | | | | | | | | rovided | | | | | | | | to the | | | | | | | | target | | | | | | | | HNB-GW, | | | | | | | | along | | | | | | | | with | | | | | | | | the | | | | | | | | UE's Tm | | | | | | | | measu | | | | | | | | rmement | | | | | | | | of the | | | | | | | | target | | | | | | | | HNB. | | | | | | | | | | | | | | | | Note 8: | | | | | | | | Such | | | | | | | | change | | | | | | | | does | | | | | | | | not | | | | | | | | nece | | | | | | | | ssarily | | | | | | | | require | | | | | | | | s | | | | | | | | tandard | | | | | | | | ization | | | | | | | | work. | | | | | | | +---------+---------+---------+---------+---------+---------+---------+
##### 6.1.3.4.3 Interface Impact
Table 6.1.3.4.3.1 summarizes the interfaces where protocol upgrade is
expected, for each of the options.
Table 6.1.3.4.3.1: Interface Impact
+---------+---------+---------+---------+---------+---------+---------+ | In | Option | Option | Option | Option | Option | Option | | terface | 1a | 1b | 1c | 2a | 2b | 2c | | | | | | | | | | | * | * | * | _( |_( | _( | | | Disambi | Disambi | Disambi | Disambi | Disambi | Disambi | | | guation | guation | guation | guation | guation | guation | | | @ | @ | @ | @ SRNC, | @ SRNC, | @ SRNC, | | | HNB-GW | HN | HNB-G | based | based | based | | | (∆OTD)_ | B-GW(UE | W(∆OTD+ | on | on | on | | | | UL | UE UL | A | A | info | | | | Dete | Dete | NR-type | NR-type | rmation | | | | ction)_| ction)_ | info | info | s | | | | | | from | from | upplied | | | | | | Rel-9 | OAM)_| by HNBs | | | | | | CSG | | to SRNC | | | | | | UEs)_ | | during | | | | | | | | p | | | | | | | | revious | | | | | | | | Femto | | | | | | | | to | | | | | | | | Macro | | | | | | | | HO)_| +---------+---------+---------+---------+---------+---------+---------+ | Iu | FFS | FFS | FFS | No | No | No | | | ^N | ^N | ^N | | | | | | ote\ 1^ | ote\ 1^ | ote\ 1^ | | | | +---------+---------+---------+---------+---------+---------+---------+ | Iuh | Yes: | Yes:a | Yes: | No | Yes | No | | | update | new UE | update | | | | | | of | UL | of | | Note: | | | |_ re | de | _re | | when | | | | ference | tection | ference | | option | | | | para | pr | para | | 2b is | | | | meters_ | ocedure | meters* | | used in | | | | | ^N | and a | | conj | | | | | ote\ 5^ | new UE | | unction | | | | | | UL | | with | | | | | | de | | option | | | | | | tection | | 2a it | | | | | | pr | | is | | | | | | ocedure | | suf | | | | | | ^N | | ficient | | | | | | ote\ 5^ | | to have | | | | | | | | Rel9 | | | | | | | | UEs to | | | | | | | | report | | | | | | | | timing | | | | | | | | diff | | | | | | | | erence, | | | | | | | | th | | | | | | | | erefore | | | | | | | | a | | | | | | | | voiding | | | | | | | | impacts | | | | | | | | on Iuh | | +---------+---------+---------+---------+---------+---------+---------+ | Iur | No | Yes: | Yes: | TBD | Yes | No | | | | t | t | ^N | | | | | | ransmit | ransmit | ote\ 3^ | Note: | | | | | target | target | | when | | | | | cell | cell | | option | | | | | infor | infor | | 2b is | | | | | mation. | mation. | | used in | | | | | ^N | ^N | | conj | | | | | ote\ 4^ | ote\ 4^ | | unction | | | | | | | | with | | | | | | | | option | | | | | | | | 2a it | | | | | | | | is | | | | | | | | suf | | | | | | | | ficient | | | | | | | | to have | | | | | | | | Rel9 | | | | | | | | UEs to | | | | | | | | report | | | | | | | | timing | | | | | | | | diff | | | | | | | | erence, | | | | | | | | th | | | | | | | | erefore | | | | | | | | a | | | | | | | | voiding | | | | | | | | impacts | | | | | | | | on Iur | | +---------+---------+---------+---------+---------+---------+---------+ | Itf | No | No | No | No | No | No | | -S~HNB~ | | | | | | | +---------+---------+---------+---------+---------+---------+---------+ | Itf | No | No | No | No | No | No | | -N~HNB~ | | | | | | | +---------+---------+---------+---------+---------+---------+---------+ | OAM | No | No | No | No | No | No | | -Type-4 | | | | | | | +---------+---------+---------+---------+---------+---------+---------+ | Itf-N | No | No | No | No | No | No | | ~Macro~ | | | | | | | +---------+---------+---------+---------+---------+---------+---------+ | Itf-S | No | No | No | No | No | No | | ~Macro~ | | | | | | | +---------+---------+---------+---------+---------+---------+---------+ | Note 1: | | | | | | | | See | | | | | | | | note 1 | | | | | | | | and 2 | | | | | | | | in | | | | | | | | Table | | | | | | | | 6.1.3 | | | | | | | | .4.2.1. | | | | | | | | Disambi | | | | | | | | guation | | | | | | | | Par | | | | | | | | ameters | | | | | | | | would, | | | | | | | | at any | | | | | | | | rate, | | | | | | | | be | | | | | | | | tran | | | | | | | | sparent | | | | | | | | to the | | | | | | | | CN. | | | | | | | | | | | | | | | | Note 2: | | | | | | | | TBD, | | | | | | | | based | | | | | | | | on | | | | | | | | clarifi | | | | | | | | cations | | | | | | | | during | | | | | | | | e-mail | | | | | | | | dis | | | | | | | | cussion | | | | | | | | about | | | | | | | | which | | | | | | | | disambi | | | | | | | | guation | | | | | | | | par | | | | | | | | ameters | | | | | | | | are | | | | | | | | used | | | | | | | | for | | | | | | | | Option | | | | | | | | 2b, and | | | | | | | | how | | | | | | | | corres | | | | | | | | ponding | | | | | | | | re | | | | | | | | ference | | | | | | | | par | | | | | | | | ameters | | | | | | | | are | | | | | | | | made | | | | | | | | av | | | | | | | | ailable | | | | | | | | to the | | | | | | | | (S)RNC. | | | | | | | | | | | | | | | | Note 3: | | | | | | | | TBD, | | | | | | | | based | | | | | | | | on | | | | | | | | clarifi | | | | | | | | cations | | | | | | | | during | | | | | | | | e-mail | | | | | | | | dis | | | | | | | | cussion | | | | | | | | on how | | | | | | | | re | | | | | | | | ference | | | | | | | | Par | | | | | | | | ameters | | | | | | | | tran | | | | | | | | sferred | | | | | | | | from | | | | | | | | C-RNCs | | | | | | | | neig | | | | | | | | hboring | | | | | | | | the | | | | | | | | target | | | | | | | | HNB to | | | | | | | | S-RNC | | | | | | | | for | | | | | | | | Option | | | | | | | | 2a. Iur | | | | | | | | would | | | | | | | | be a | | | | | | | | natural | | | | | | | | choice, | | | | | | | | a | | | | | | | | lthough | | | | | | | | others | | | | | | | | are | | | | | | | | also | | | | | | | | po | | | | | | | | ssible. | | | | | | | | | | | | | | | | Note 4: | | | | | | | | It is | | | | | | | | only | | | | | | | | i | | | | | | | | nvolved | | | | | | | | in case | | | | | | | | of soft | | | | | | | | h | | | | | | | | andover | | | | | | | | pro | | | | | | | | cedure. | | | | | | | | | | | | | | | | Note 5: | | | | | | | | Iur- | | | | | | | | constel | | | | | | | | lations | | | | | | | | with | | | | | | | | long | | | | | | | | lasting | | | | | | | | drift | | | | | | | | links | | | | | | | | would | | | | | | | | need to | | | | | | | | be | | | | | | | | avoided | | | | | | | | by | | | | | | | | proper | | | | | | | | network | | | | | | | | config | | | | | | | | uration | | | | | | | +---------+---------+---------+---------+---------+---------+---------+
##### 6.1.3.4.4 Specification Impact
**Option 1a** : Impacts are expected on the following specifications:
\- TS 25.467, Stage2 for HNB operation:
\- Description of the functionalities in RNC, HNB-GW and HNB required in order
to support the target cell identification based on the timing difference
information.
\- Description of the conditions when the serving RNC adds the timing
difference measurement results to the RRC container (or alternatively, as
explicit new IEs within the RANAP container).
\- TS 25.469, Stage 3 Iuh interface Application Part (HNBAP) signalling:
\- Signalling procedures to deliver and to update the timing difference
information between the HNBs and the serving HNB-GW.
\- TS 25.413, Stage 3 Iu interface Application Part (RANAP) or TS 25.331,
Stage 3 RRC:
\- either in 25.413 the transparent container transports the UE measured
timing difference information from the SRNC to the HNB-GW as explicit new IEs
\- or in 25.331, existing IEs within the SRNS RELOCATION INFO are utilised to
transport the UE measured timing difference. Whether this is possible without
protocol changes (at least change of semantics) would need to be clarified
with RAN2.
**Option 1b** : Impacts are expected on the following specifications:
\- TS 25.467, Stage2 for HNB operation:
\- Description of the functionalities in RNC, HNB-GW and HNB required in order
to support the target cell identification based on the timing difference
information.
\- Description of the conditions when the serving RNC adds the target cell's
T~m~ measurement result and the UE's UL scrambling code to the RRC container
(or alternatively, as explicit new IEs within the RANAP container).
\- TS 25.469, Stage 3 Iuh interface Application Part (HNBAP) signalling:
\- Signalling changes to deliver the UE's UL scrambling code and the taget
cell T~m~ measurement to all HNBs in PSC Confusion.
\- TS 25.413, Stage 3 Iu interface Application Part (RANAP) or TS 25.331,
Stage 3 RRC:
\- IEs to transport the UE UL Scrambling code and the target cell T~m~
measurement to the target RNC
**Option 1c** : Since option 1c combines options 1a and 1b, refer to the
impacts of options 1a and 1b
**Option 2c** : Since all the changes needed to implement option 2c can be
left to implementation no impact on any Stage 2 or Stage 3 specification is
foreseen.
## 6.2 LTE architectural topics
### 6.2.1 Void
### 6.2.2 Enhanced Mobility with macro network
In order to better meet increased demands for traffic and mobility, it is
beneficial to deploy X2 interfaces between eNBs and open or hybrid HeNBs. This
effectively extends the Rel-10 enhanced mobility scenarios also to those
cases, as prioritized by RAN3, where membership verification is required. It
will thus be necessary to provide the appropriate membership information for
the new use cases identified in this TR, so that the membership verification
function can be applied also in the newly identified cases.
Some general assumptions can be beneficial.
It is desirable that the solutions studied for eNB-to-HeNB enhanced mobility
preserve the current signaling and architecture as much as possible.
#### 6.2.2.1 Issue 1: Macro  Open HeNB
In this mobility case, membership verification is not needed [5][6]. The eNB
may differentiate the open-access HeNB from the other types of (H)eNBs by PCI
configuration or ECGI configuration.
**Solution 1:** Macro-open enhanced mobility is performed via X2 between eNB
and open-access HeNB.
#### 6.2.2.2 Issue 2: Membership Verification
This issue applies to macro -- hybrid HeNB, open HeNB -- hybrid HeNB, and
hybrid HeNB -- hybrid HeNB (inter-CSG) cases.
Membership verification could be performed in the CN or in the RAN (e.g. in
the source eNB, or in the target HeNB). If it is performed outside the CN,
this would probably require additional signaling and the propagation of the
UE's subscription information outside of the CN. This would violate the
current assumptions about network security and trust (i.e. about the RAN being
less "trusted" than the CN). On the other hand, if membership verification is
performed in the CN, the UE's subscription information is not propagated
outside of the CN, and the current network security and trust model still
holds.
It is desirable that the method chosen for membership verification should be
also applicable to the case of inter-CSG enhanced mobility between hybrid
HeNBs. In fact, there are some commonalities between macro-to-hybrid, open-to-
hybrid, and inter-CSG hybrid-to-hybrid enhanced mobility [7][8].
**Solution 1:** Membership verification (MV) in CN.
**Solution 1a:** Source eNB triggers MV before initiating handover.
{width="5.222916666666666in" height="3.33125in"}
Figure 6.2.2.1: Signaling flow for Solution 1a.
In this solution, MV is done by sending request and reply between source eNB
and MME. This procedure is triggered whenever the source eNB decides to hand
over the UE to a hybrid target via X2.
**Solution 1b:** Target HeNB triggers MV before accepting handover.
{width="5.347222222222222in" height="3.229861111111111in"}
Figure 6.2.2.2: Signaling flow for Solution 1b.
In this solution, MV is done by sending request and reply between target eNB
and MME. This procedure is triggered whenever target eNB receives handover
signaling.
**Solution 1c:** Target HeNB triggers MV during handover, first accepting the
UE as a non-member and later upgrading it if MV is successful.
In this solution, MME performs MV after handover. MME checks UE subscriber
data upon receiving PATH SWITCH REQUEST message to determine the UE's
membership status. The MME can then inform the target HeNB about the verified
membership status of the UE via either the path switch procedure or the UE
context modification procedure.
Figure 6.2.2.3: Signaling flow for Solution 1c.
**Solution 1d:** Target HeNB triggers MV during handover, first accepting the
UE according to its reported CSG membership status and later downgrading it if
MV is not successful.
In this solution, MME performs MV after handover. MME checks UE subscriber
data upon receiving PATH SWITCH REQUEST message to determine the UE's
membership status. The MME can then inform the target HeNB about the verified
membership status of the UE via either the path switch procedure or the UE
context modification procedure.
Alternatively, the target HeNB informs the MME about the CSG membership of the
UE. The MME checks UE subscriber data upon receiving the PATH SWITCH REQUEST
message to verify the UE membership status. If membership verification is not
successful, the MME then provides the target HeNB with the correct
information.
Compared to Solution 1c, this procedure streamlines the "normal" condition
when the CSG access is correct. In case the CSG check should fail (e.g. due to
an expired membership or faked CSG ID), the target hybrid HeNB can still have
the final decision whether to drop the UE, or to treat it as a non-member.
Figure 6.2.2.4: Signaling flow for Solution 1d.
**Solution 2** : MV in the RAN.
There are at least two options for switching the function of access control to
the source eNB. In the first case, the UE CSG membership information will
always be sent to the source eNB when the UE is in connected mode. In the
second case, the UE CSG membership information will be sent to the source eNB
considering the CSG ID of its neighbors (i.e. when its neighbors have the same
CSG ID as the UE). The eNB can then perform membership verification based on
this information.
**Comparison of the various solutions**
Table 6.2.2.1 below gives a quick comparison of the various solutions
described in the previous sections.
Table 6.2.2.1: Comparison between the identified solutions for eNB-HeNB
enhanced mobility.
* * *
MV Solution Relative Signaling load Suitable for macro-closed HeNB HO?
Consistent with current principles (MV in CN, subscription info does not leave
CN) Handover performance (qualitative) Impact on target HeNB Impact on source
(H)eNB Impact on CN functionality Sol. 1a Higher Yes Yes Possibly lower Low
High Low Sol. 1b Higher Yes Yes Possibly lower High Low Low Sol. 1c Lower No
Yes Higher High Low Low Sol. 1d Lower No Yes Higher High Low Low Sol. 2
Possibly higher No No Higher High High High
* * *
**Considerations on the various solutions**
\- Solutions 1c and 1d might require less signaling than the others.
\- In Solution 1b, the target HeNB would allocate the appropriate resources,
priority, and charging upon receiving MV, before acceptance.
\- In Solutions 1c and 1d, handover is expedited (i.e. the UE is accepted "on
trust" before receiving the MV result or even triggering MV).
\- Solutions 1c and 1d are probably not suitable in case of macro-closed HeNB
handover (lower priority scenarios in current SI).
\- In Solution 1c, a UE that is a CSG member would possibly get degraded
service until its membership is confirmed. If the target hybrid HeNB is
overloaded, that UE could fail to be accepted while others with lower priority
get served. For example, a CSG member might not be able to pre-empt a non-
member.
\- Solution 1d is optimized for successful MV (arguably the majority of
cases). In case a UE pretends to be a CSG member, the target HeNB could either
treat it as a non-member (if resources are available) or drop/blacklist it,
according to operator policies and/or implementation.
\- In Solution 1d, in case a UE pretends to be a CSG member while it is not
and the target hybrid HeNB is overloaded, that UE might, in some extreme
cases, pre-empt a real CSG member from accessing the target HeNB.
\- Solution 2 requires sending CSG subscription information out of the CN, so
it can pose additional security concerns with respect to the other solutions.
**Control Plane Signaling -- Performance Comparison**
The following table compares the various solutions in terms of required
Control Plane signaling.
* * *
                    Solution 1a:                                 Solution 1b:                                 Solution 1c:          Solution 1d:          Solution 2:
CN perspective Half the S1 messages used for S1 HO Half the S1 messages used
for S1 HO Equivalent to X2 HO Equivalent to X2 HO Equivalent to X2 HO[?] eNB
perspective Twice as many messages as X2 at source eNB Twice as many messages
as X2 at source eNB Equivalent to X2 HO Equivalent to X2 HO Equivalent to X2
HO
* * *
**Foreseen Performance Improvement over S1 Handover**
**Solutions 1a and 1b**
In these solutions, the RAN has to wait for the core network to confirm
membership over S1 before handover is completed (or even started, as in
Solution 1a) over X2. The performance is therefore dominated by the speed and
latency of the S1 link. The expected performance, therefore, is not better
than S1 HO, especially in scenarios where the backhaul is congested. Solution
1b is more optimized, and has a lower impact on the source node.
**Solutions 1c and 1d**
These solutions make a compromise in terms of their approach to UE membership
verification by allowing a UE to access the target cell before waiting for
confirmation. The MV signaling is carried on top of the path switch signaling
toward the end of the handover procedure. X2 Handover performance is therefore
decoupled from S1 link load, and the expected performance is similar to an X2
HO.
**Solution 2**
This solution shifts the burden of MV from the core network to the RAN, in
order to save explicit signaling for this purpose at handover time. As for
Solutions 1c/1d, the expected performance is similar to an X2 HO.
### 6.2.3 Support of X2 via GW proxy
#### 6.2.3.1 Problem Statement
The discussion aims at answering the question to which extent an X2-proxy can
be used to address scalability issues for eNBs supporting X2 mobility
towards/from HeNBs.
#### 6.2.3.2 Full X2-Proxy
##### 6.2.3.2.1 Full X2-Proxy definition
An X2-proxy, if deployed, resides in the HeNB-GW and provides X2 proxy
functionality between HeNBs connected to the HeNB-GW and the eNBs.
The X2 proxy functionality includes
\- passing UE-dedicated X2 signalling messages between X2-connected eNBs and
HeNBs.
\- supporting the establishment of X2-connectivity between eNBs and HeNBs.
\- terminating non-UE-dedicated signaling - both with the HeNB, and with the
eNB.
##### 6.2.3.2.2 Logical architecture
Figure 6.2.3.2.2.1: EUTRAN HeNB Logical Architecture
##### 6.2.3.2.3 Detailed call flows
##### 6.2.3.2.3.1 X2 setup {#x2-setup .H6}
**HeNB initiated TNL address discovery procedure and X2 Setup**
In case the HeNB initiated TNL address discovery procedure towards an eNB, a
possible call flow is shown as below:
Figure 6.2.3.2.3.1.1: HeNB initiated TNL address discovery and X2 setup
1\. HeNB3 detects a new (non-CSG) cell (E-CGI1) and decides to setup X2
towards the serving eNB1.
2\. It initiates an eNB Configuration Transfer procedure towards the higher up
node to which it is S1-connected (in this case the HeNB-GW).
3\. The HeNB-GW doesnt have any info on the macro node's X2 TNL address and
forwards the eNB Configuraiton Update towards its higher up node to which it
is S1-connected.
4\. The MME knows the eNB1 (as it is S1-connected) and sends an MME
CONFIGURATION TRANSFER message to it.
5.-7. eNB1 returns its X2-TNL address, the MME (6.) is able to route the
transfer procedure based on the TAI and finally the address info reaches the
requesting HeNB3 (7.), whereas the HeNB-GW would need to memorise the
X2-address of eNB1 and then changes the X2-address into its own, so that the
HeNB3 receives as X2-address of the HeNB-GWs for X2 connectivity.
8.-9. SCTP associations are setup between the HeNB-GW and eNB1 and the HeNB-GW
and HeNB3.
10\. The HeNB3 starts the X2 setup towards the HeNB-GW, indicating cell E-CGI1
as neighbour. The procedure is logically terminated at the HeNB-GW.
11\. The HeNB-GW starts another X2 setup procedure to continue the setup of
X2-connectivity towards the eNB1, indicating its own eNB-ID2 and E-CGI1 as
neighbour info.
12.-13. The eNB1 and HeNB-GW respond with the HeNB-GW memorising the
X2-connectivity data (X2 adr1, eNB-ID1, E-CGIs served by the eNB, etc.). The
X2-proxy may need to memorize the list of neighbouring HeNBs (or eNBs) for
each connected eNB (or HeNB). This information can be used further to only
update the affected neighbouring HeNB (or eNB) when the information for an eNB
(or HeNB) is changed.
15.-17. Any further X2-address request from other HeNBs for X2-connectivity
towards eNB1 will be responded by the HeNB-GW without forwarding the request
via the MME towards the eNB1.
18\. An SCTP assocation is setup between the HeNB-GW and HeNB4.
19\. -22. The X2-setup between the new HeNB4, as shown, is performed directly
with the HeNB-GW, whereas the respond is only sent, if the X2 Configuration
Update between the HeNB-GW and the eNB1 is performed successfully.
**eNB initiated TNL address discovery procedure and X2 Setup**
In case the eNB initiated TNL address discovery procedure towards a HeNB, a
possible call flow is shown as below:
Figure 6.2.3.2.3.1.2: eNB initiated TNL address discovery and X2 setup
**Observation 1: The HeNB-GW may change the IP address in the eNB/MME
Configuration Transfer message.**
**Observation 2: The X2-proxy may initiate the X2 setup with the eNB or the
HeNB.**
**Observation 3: The X2-proxy memorizes the list of neighbouring HeNBs (or
eNB) for the connected eNB (or HeNB).**
##### 6.2.3.2.4 Handling X2 procedures in X2-proxy
**UE-dedicated procedures**
\- Handover Preparation
\- SN Status Transfer
\- UE Context Release
\- Handover Cancel
\- Reset
\- Error Indication
Figure 6.2.3.2.4.1: Processing UE-dedicated procedure
**Observation 4: The X2-proxy processes and forwards all X2 messages between
the HeNB and other eNBs for all UE-dedicated procedures. The processing of
X2-AP messages includes modifying X2-AP UE IDs, but leaves other parts of the
message unchanged. Upon reception of the X2 Handover Request message, the
X2-proxy forward the message to target node based on the target cell ID.**
**Non-UE-dedicated procedures**
\- X2 Setup
The X2 setup procedure is handled locally on each X2 interface instance. eNB
configuration update procedure will be triggered in case the updated X2
relation need to be informed to HeNB or neighbour eNB.
\- eNB Configuration Update
The eNB Configuration Update procedures will be handled locally on each X2
interface instance. An eNB configuration update procedure may be triggered in
case the updated X2 relation needs to be informed to HeNB or neighbour eNB.
\- Reset
The Reset procedure is handled locally on each X2 interface instance.
\- Error Indication
The Error Indication procedure is initiated by an eNB to report detected
errors in one incoming message, provided they cannot be reported by an
appropriate failure message. In case the Old eNB UE X2AP ID IE and New eNB UE
X2AP ID IE are not included in the ERROR INDICATION message, the procedure
uses non UE-associated signalling. The Error Indication procedure is handled
locally on each X2 interface instance.
**Observation 5: All non-UE-dedicated X2-AP procedures are terminated at the
X2-proxy, and handled locally between the HeNB and the X2-proxy, and between
the X2-proxy and other eNBs. Upon reception of an X2 non cell related non-UE-
associated message from HeNB or neighbour eNB, the X2-proxy may trigger
associated non-UE-dedicated X2-AP procedure(s) to the neighbour eNB or
HeNB(s).**
##### 6.2.3.2.5 Impact to eNB/HeNB
**ANR**
The ANR function resides in the eNB and manages the conceptual Neighbour
Relation Table (NRT). For each cell that the eNB has, the eNB keeps a NRT. For
each NR, the NRT contains the Target Cell Identifier (TCI), which identifies
the target cell. For E-UTRAN, the TCI corresponds to the E-UTRAN Cell Global
Identifier (ECGI) and Physical Cell Identifier (PCI) of the target cell.
Furthermore, each NR has three attributes, the NoRemove, the NoHO and the NoX2
attribute. The meaning of these attributes would remain unchanged when
eNB/HeNB has the X2 interface with X2-proxy.
When the eNB detects a HeNB, the eNB can use existing ANR function to instruct
the UE to report the information of the HeNB, and add the HeNB to the
Neighbour Relation List.
**O &M procedure**
As described above, there is no new configuration to the eNB or HeNB to use
the X2-proxy.
**Neighbouring cell information handling and X2 HO**
In current macro system, the eNB saves the information of neighbouring cell
received during the X2 setup procedure, and eNB configuration update
procedure. When the eNB need to initiates a HO, it checks the related
information and determines whether to use X2 HO.
For X2-proxy, the eNB (or HeNB) saves the information of neighbouring cell
received during the X2 setup procedure, and eNB configuration update
procedure. If the served cells contained in the message belonging to the
neighbour HeNB (or eNB), the eNB/HeNB shall regard the X2 interface between
X2-proxy and the neighbour HeNB/eNB as available. When the eNB (or HeNB) needs
to initiate a HO, it checks the related information and determines whether use
X2 HO. So the change is the cell-data-model in the eNB/HeNB in order to use
X2-proxy.
##### 6.2.3.2.6 Possible spec changes
\- The definition for X2-proxy
\- The neighbouring cell information handling.
#### 6.2.3.2.7 Comparison
+----------------------+----------------------+----------------------+ | | Direct X2 | X2-proxy | +----------------------+----------------------+----------------------+ | **Scalability** | eNB need to maintain | eNB need to maintain | | | one SCTP/X2 for each | a single SCTP/X2 | | | neighbouring | through X2 proxy to | | | eNB/HeNB. | address all | | | | neighbouring HeNBs | | | | connected to that X2 | | | | proxy, one | | | | additional direct | | | | SCTP/X2 per | | | | neighbouring eNB and | | | | one additional | | | | direct SCTP/X2 per | | | | HeNB that directly | | | | connects to MME | | | | (when such | | | | deployment exists). | +----------------------+----------------------+----------------------+ | Impact on MME load | Same | Same | +----------------------+----------------------+----------------------+ | Impact on eNB | No new X2 functions. | New function | | | | interworking with X2 | | | | proxy that may | | | | affect existing | | | | functions (e.g. X2 | | | | setup, eNB | | | | configuration | | | | update), and | | | | neighbouring cell | | | | handling* | | | | | | | | Need to support and | | | | manage two types of | | | | X2 handover and | | | | connections, either | | | | direct or via X2 | | | | proxy. | +----------------------+----------------------+----------------------+ | Impact on HeNB | No new X2 functions. | New function | | | | interworking with X2 | | | | proxy that may | | | | affect existing | | | | functions (e.g. on | | | | X2 setup, eNB | | | | Configuration | | | | Update), and | | | | neighbouring cell | | | | handling.* | | | | | | | | Need to support and | | | | manage two types of | | | | X2 handover and | | | | connections, either | | | | direct or via X2 | | | | proxy. | +----------------------+----------------------+----------------------+ | Impact on IOT | The eNB need to | The eNB need to | | | perform IOT with | perform IOT with the | | | different vendors of | different HeNB-GW | | | HeNBs for X2 (on | vendors for X2 (on | | | existing scope of | new functional | | | functions). | scope), and also | | | | with different HeNB | | | | vendors (on existing | | | | X2 scope of | | | | functions) for HeNBs | | | | if they directly | | | | connect to the MME. | +----------------------+----------------------+----------------------+ | Specification impact | Only minor Stage-2 | Stage-2 changes for | | | change to state that | the | | | X2 HO is allowed | defi | | | between eNB and | nition/functionality | | | HeNB. | for X2-proxy, and | | | | the handling some | | | | procedure in | | | | particular the X2 | | | | common procedures. | | | | * | +----------------------+----------------------+----------------------+ | Impact on O&M | When an HeNB is | When an HeNB is | | | turned off, the | turned off, no | | | HeNB-GW and the eNB | impact to the eNB's | | | will generate | O&M. The HeNB-GW may | | | separate alarms for | only generate one | | | the loss of SCTP | alarm for the loss | | | connection. | of the SCTP | | | | connection with the | | | | HeNB. | | | | | | | | It is FFS whether | | | | there is any new | | | | requirement on O&M. | +----------------------+----------------------+----------------------+ | Impact from the | No impact? | No impact? | | dynamic change of | | | | the HeNB's IP | | | | address | | | +----------------------+----------------------+----------------------+
* severity assessment pending on the detailed discussion on X2-proxy (e.g. X2 setup, handling of X2 procedures, etc) in RAN3#75-bis meeting.
##### 6.2.3.2.8 Open issues
##### 6.2.3.2.8.1 Is the source node e.g. eNB changed because it newly need to
store for each neighbour e.g. HeNB whether it needs to address it via the
proxy or direct? {#is-the-source-node-e.g.-enb-changed-because-it-newly-need-
to-store-for-each-neighbour-e.g.-henb-whether-it-needs-to-address-it-via-the-
proxy-or-direct .H6}
As for the specific property of HeNB serving only a single cell, the cell-
data-model in the eNB becomes a "node-data-model", and one can argue at length
whether this changes the eNB or not. The fact is that the eNB as for any other
neighbour node, need to maintain X2-connectivity information. Whether the eNB
is "confused" of the fact that the same X2 address is used for several nodes
is probably a matter of implementation.
Further, during the X2 setup between the eNB and the X2-Proxy, the eNB is able
to realise X2-connectivity towards the neighbouring HeNB via an X2-proxy, by
noticing that the Served cells (i.e. HeNBs) of the X2-Proxy do not share the
same 20-bit eNB ID of the X2-Proxy. The eNB saves the information of
neighbouring cell received during the X2 setup procedure, and eNB
configuration update procedure, then considers the X2 with the neighbouring
HeNB is available via X2-Proxy. Talking of detailed implementation, the eNB
continue to maintain the same table containing the information of the
neighbouring HeNBs. If a specific eNB implementation uses the eNB ID as an
index, it may need some changes to use the 28-bit cell ID as an index, since
the neighbouring HeNBs does not have the same eNB ID. When the eNB needs to
initiate a HO, it checks the related information and determines whether use X2
HO. So the change is the cell-data-model in the eNB in order to use X2-proxy.
##### 6.2.3.2.8.2 If the source eNB wants to remove an NR with a target HeNB,
and wants to proxy to tear down the X2 between proxy and target HeNB, how does
it work? {#if-the-source-enb-wants-to-remove-an-nr-with-a-target-henb-and-
wants-to-proxy-to-tear-down-the-x2-between-proxy-and-target-henb-how-does-it-
work .H6}
There is no X2 tear down procedure in current standard. So there is no reason
to introduce it for X2-Proxy.
##### 6.2.3.2.8.3 Will the proxy maintain up to date all the NR tables of all
the nodes it is connected to? {#will-the-proxy-maintain-up-to-date-all-the-nr-
tables-of-all-the-nodes-it-is-connected-to .H6}
The X2-Proxy memorize TNL addresses gained from the X2 TNL discovery process
in order to route the setup of X2 connectivity and has of course the
information of all HeNBs/eNBs connected to it. So, as a by-product of these
tasks, it is able keep track of neighbouring HeNBs (or eNBs) for each
connected eNB (or HeNB).
##### 6.2.3.2.8.4 In case of eNB Configuration Update: How does the proxy
route the message towards the relevant target HeNB? {#in-case-of-enb-
configuration-update-how-does-the-proxy-route-the-message-towards-the-
relevant-target-henb .H6}
Since the X2-Proxy memorizes the list of neighbouring HeNBs for each connected
eNB, so the X2-Proxy can route the messages towards the eNB's neighbouring
HeNB(s).
##### 6.2.3.2.8.5 Q 2.4 seems to add some new function/information to the eNB
configuration update procedure. What element in that message is included to
inform the neighbouring eNB(s)? {#q-2.4-seems-to-add-some-new-
functioninformation-to-the-enb-configuration-update-procedure.-what-element-
in-that-message-is-included-to-inform-the-neighbouring-enbs .H6}
There is no new element necessary. And this is also related to the question
"When the HeNB switches off, how is the eNB informed that this HeNB is no
longer a valid neighbour?" When a HeNB is switched off, the X2-Proxy can
detect the SCTP association with this HeNB is unavailable. Since the X2-Proxy
knows this HeNB's neighbouring eNB(s), the X2-Proxy may initiate the X2 eNB
Configuration Update procedure to inform the neighbouring eNB(s). The X2-Proxy
can use the _Served Cells To Delete_ IE indicating the HeNB is deleted. This
is same as the macro system when an eNB initiates the eNB Configuration Update
procedure to other eNBs informing to delete a cell.
##### 6.2.3.2.8.6 How is the proxy informed if the HeNB switches on again ?
{#how-is-the-proxy-informed-if-the-henb-switches-on-again .H6}
When a HeNB switches on again, it follows the normal procedure, for example,
in case the HeNB detects a neighbouring eNB, the HeNB initiates the TNL
address discovery procedure, then initiates the X2 Setup with the X2-Proxy.
The below figures shows a possible call flow when HeNB4 switches on.
Figure 6.2.3.2.8.6.1 -- HeNB initiated TNL address discovery
##### 6.2.3.2.8.7 Does the proxy maintain a duplicate of all NR tables
presents in all eNBs and HeNBs connected to it? If yes, what is the mechanism
to ensure consistencies with these duplicates? If yes, how is any discrepancy
resolved? {#does-the-proxy-maintain-a-duplicate-of-all-nr-tables-presents-in-
all-enbs-and-henbs-connected-to-it-if-yes-what-is-the-mechanism-to-ensure-
consistencies-with-these-duplicates-if-yes-how-is-any-discrepancy-resolved
.H6}
As described in Section 6.2.3.2.3, the X2-proxy and the HeNBs/eNBs gain their
neighbour information from the very same procedures. If anything is
added/removed/modified, all relevant nodes are involved. This provides a
rather explicit guarantee for consistency. You may remember the similar issue
discussed for relay, and concluded nothing to be defined in standard.
##### 6.2.3.2.8.8 Handling of resource status request message in the proxy
(the X2 proxy needs to split it?, etc...)
Since this SI is focussing on mobility enhancement only, supporting the X2
Resource Status Request procedure between eNB and HeNB is not a mandatory
requirement for eNB, HeNB and X2-Proxy.
If it is required, the handling of resource status request message in X2-proxy
should be done as specified for cell related X2 messages for the DeNB (TS
36.300 Section 4.7.4). The Resource Status Reporting procedure is handled
locally on each X2 interface instance. Upon the reception of the Resource
Status Request message containing cells belonging to multiple eNBs or HeNB(s),
the X2-proxy may trigger Resource Status Reporting Initiation procedure(s) to
the related eNB(s) or HeNB(s). The X2-Proxy may modify the measurement ID
before proxying the message and storing the mapping relation for the
measurement ID used between eNB and X2-proxy, and the one used between HeNB
and X2-Proxy. If one or more eNB(s) or HeNB(s) are involved, the X2-Proxy may
wait and aggregate the response messages from all involved nodes to respond to
the originating node.
It is possible that there is a race-condition due to the intermediate delay,
e.g. HeNB has switched off but neighbour eNBs are not yet informed.
This corner case also applies to relay. There is no difference for how
X2-Proxy handles it in HeNB and in Relay. The X2-Proxy simply uses the partial
success to notify the originator.
In addition, this can also happen for macro system, for example, eNB2's cell#1
is switched off. Before eNB1 receive the eNB Configuration Update message from
eNB2, eNB1 initiates the Resource Status Reporting Initiating procedure
towards eNB2 including cell#1. The eNB2 can reply with the Resource Status
Response message including cell#1 and the failure cause.
##### 6.2.3.2.8.9 Handling of the load information message in the proxy
{#handling-of-the-load-information-message-in-the-proxy .H6}
Since this SI is focussing on mobility enhancement only, supporting the X2
Load Indication procedure between eNB and HeNB is not a mandatory requirement
for eNB, HeNB and X2-Proxy.
If it is required, the handling of load information message in X2-proxy should
be done as specified for cell related X2 messages for the DeNB (TS 36.300
Section 4.7.4). The Load Indication procedure is handled locally on each X2
interface instance. Upon the reception of the Load Information message
containing cells belonging to multiple eNBs or HeNB(s), the X2-proxy may
trigger Load Indication procedure(s) to the related eNB(s) or HeNB(s) based on
the Target Cell ID.
##### 6.2.3.2.8.10 Which list of served cells is included in X2 setup Response
message {#which-list-of-served-cells-is-included-in-x2-setup-response-message
.H6}
The HeNB-GW memorizes the list of neighbouring HeNBs (or eNBs) for each
connected eNB (or HeNB), i.e. node-level neighbourship relations. This
information can be used later to only update the affected neighbouring HeNB
(or eNB) when the information for an eNB (or HeNB) is changed.
**For eNB initiated X2 Setup procedure (eNB view):** the X2-Proxy replies with
the X2 Setup Response message. From the neighbouring HeNBs (i.e. femto cell-
IDs) reported by the eNB, the X2-Proxy includes those HeNBs that have X2
interface with the X2-Proxy, as the Served Cells in the X2 Setup Response
message. For example, eNB1 indicates its neighbouring HeNBs are HeNB1, HeNB2
and HeNB3. HeNB1 and HeNB2 have X2 interface with X2-Proxy. The X2-Proxy
includes (the cells of) HeNB1 and HeNB2 as Served Cells in the X2 Setup
Response message.
**For X2-proxy initiated X2 Setup procedure (HeNB view):** There is no change
to eNB/HeNB on how to construct the X2 Setup Response message.
##### 6.2.3.2.8.11 Call flow with multiple eNBs connecting to same HeNB
{#call-flow-with-multiple-enbs-connecting-to-same-henb .H6}
Figure 6.2.3.2.8.11.1 -- Two eNBs connecting to same HeNB
> Step 4: since HeNB-GW already has the X2 interface with the target HeNB,
> HeNB-GW can responds back to eNB2 accordingly.
>
> Step 9: upon the reception of the X2 Setup Request message from eNB2, HeNB-
> GW knows HeNB1 is the neighboring cell of eNB2. HeNB-GW initiates the eNB
> Configuration Update message to HeNB1. The message includes the eNB2's cells
> as Served Cells to Add.
>
> [The message includes the eNB2's cells as Served Cells to Add. The
> _Neighbour Information_ IE is the same as the one received in the X2 Setup
> Request message from eNB2.
>
> Step 21: eNB1 initiates an X2 HO towards HeNB1, the processing in the HeNB-
> GW can refer to the call flow Figure 6.2.3.2.4.1 in TR37.803.
>
> Step 31: eNB2 initiates an X2 HO towards HeNB1, the processing in the HeNB-
> GW can refer to the call flow Figure 6.2.3.2.4.1 in TR37.803.
>
> Step 41: HeNB1's configuration is changed. HeNB1 initiates eNB Configuration
> Update procedure to notify X2-Proxy.
>
> Step 43: X2-Proxy initiates eNB Configuration Update procedure to notify
> eNB1 and eNB2 regarding the changes of HeNB1.
##### 6.2.3.2.8.12 Management of simultaneous direct connections and
connections via x2 proxy for both eNB and HeNB {#management-of-simultaneous-
direct-connections-and-connections-via-x2-proxy-for-both-enb-and-henb .H6}
In current macro system, the management of X2 connection consists of following
functions:
\- Adding a new X2 connection
\- Updating the X2 connection
\- Memorizing how to use the X2-connection
In case of direct X2, the eNB (or HeNB) saves/updates the information of
neighbouring cell received during the X2 setup procedure, and eNB
configuration update procedure. Talking of implementation details, the eNB (or
HeNB) may maintain a table containing the information of the neighbouring
HeNBs (or eNBs), and use the target eNB's ID or target cell ID as an index.
When the eNB (or HeNB) need to initiates a HO or other non-UE-associated
procedures, towards the target HeNB (or eNB), it checks the related
information and determines whether and via which X2 link to be used to perform
X2 HO or other non-UE-associated procedures.
In case the eNB also have an X2 connection with an X2-proxy, the eNB similarly
saves/updates information of neighbouring cells (i.e. HeNB) received during
the X2 setup procedure, and eNB configuration update procedure. By noticing
that the Served cells of the X2-Proxy do not share the same 20-bit eNB ID of
the X2-Proxy, the eNB is able to realise X2-connectivity towards the
neighbouring HeNB via an X2-proxy, and considers the X2 with the neighbouring
HeNB is available.
Talking of detailed implementation, the eNB continue to maintain the same
table containing the information of the neighbouring HeNBs. If a specific eNB
implementation uses the eNB ID as an index, it may need some changes to use
the 28-bit cell ID as an index, since the neighbouring HeNBs does not have the
same eNB ID. When the eNB needs to initiate a HO or other non-UE-associated
procedures, towards the target HeNB, it checks the related information and
determines whether and via which X2 link to be used to perform X2 HO or other
non-UE-associated procedures. So the only change to support both X2
connections is the cell-data-model in the eNB in order to use X2-proxy.
In case the HeNB also have an X2 connection to an X2-proxy, the HeNB similarly
saves/updates information of neighbouring cells (i.e. eNB's cells) received
during the X2 setup procedure, and eNB configuration update procedure. By
noticing that the Served cells of the X2-Proxy do not share the same 20-bit
eNB ID of the X2-Proxy, the HeNB is able to realise X2-connectivity towards
the neighbouring eNB via an X2-proxy, and considers the X2 with the
neighbouring eNB is available. Talking of implementation details, the HeNB
continue to maintain the same table containing the information of the
neighbouring eNBs. When the HeNB needs to initiate a X2 HO or other non-UE-
associated procedures, towards the target eNB, it checks the related
information and determines whether and via which X2 link to be used to perform
X2 HO or other non-UE-associated procedures. So the only change to support
both X2 connections is the cell-data-model in the HeNB in order to use
X2-proxy.
##### 6.2.3.2.8.13 Description of the complete interaction scheme between S1
GTW and X2 proxy (some already seen e.g. enb conf transfer, mme conf transfer,
enb conf update, etc...) {#description-of-the-complete-interaction-scheme-
between-s1-gtw-and-x2-proxy-some-already-seen-e.g.-enb-conf-transfer-mme-conf-
transfer-enb-conf-update-etc .H6}
The X2-Proxy resides in the HeNB-GW. Interaction between the S1-proxy and the
X2-Proxy function within the HeNB-GW is an implementation matter. As described
in the call flows for X2 Setup, the only interaction between the current HeNB-
GW (S1-proxy) functions and the X2-Proxy is for the TNL address discovery
procedure and X2 setup. In detail,
\- During TNL address discover procedure, the HeNB-GW may need to replace the
eNB (or HeNB)'s IP address with the IP address of the X2-Proxy.
\- For HeNB (or eNB) initiated TNL address discovery procedure, the HeNB-GW
save the IP address of the eNB (or HeNB), then use it to initiate the X2 setup
with the eNB (or the HeNB).
##### 6.2.3.2.8.14 Management of ACL list in target RAN node when X2 proxy
used (feature introduced by Deutsche Telekom) {#management-of-acl-list-in-
target-ran-node-when-x2-proxy-used-feature-introduced-by-deutsche-telekom .H6}
In current macro system, when the source eNB initiates the TNL address
discovery procedure, it includes its own X2 TNL Configuration information so
that the target eNB can add the related IP addresses into the ACL.
When X2-Proxy is used, the HeNB-GW need to replace the X2 TNL Configuration
information with the X2-Proxy's IP addresses during the eNB/HeNB initiated TNL
address discovery procedure (Step 3 and Step 7).
Figure 6.2.3.2.8.14.1 -- HeNB initiated TNL address discovery with ACL
Step 3: HeNB-GW replace the X2 TNL Configuration information with its own IP
adresses, then forward the eNB Configuration Update message to the MME.
Step 4: Upon receiption of the MME Configuration Transfer message, the eNB1
configures its ACL for the X2 interface with HeNB3.
Step 7: HeNB-GW replace the X2 TNL Configuration information with its own IP
adresses, then forward the MME Configuration Update message to the HeNB. Upon
receiption of the MME Configuration Transfer message, the HeNB configures its
ACL for the X2 interface with X2-Proxy.
Figure 6.2.3.2.8.14.2 -- eNB initiated TNL address discovery with ACL
Step 3: HeNB-GW replace the X2 TNL Configuration information with its own IP
adresses, then forward the MME Configuration Update message to HeNB3.
Step 4: Upon receiption of the MME Configuration Transfer message, HeNB3
configures its ACL for the X2 interface with X2-Proxy.
##### 6.2.3.2.8.15 Management of the "no X2 flag", "remove flag", "no ho flag"
when X2-proxy used {#management-of-the-no-x2-flag-remove-flag-no-ho-flag-
when-x2-proxy-used .H6}
As described in TR37.803, for each cell that the eNB (or HeNB) has, the eNB
(or HeNB) keeps a NRT. For each NR, the NRT contains the Target Cell
Identifier (TCI), which identifies the target cell. For E-UTRAN, the TCI
corresponds to the E-UTRAN Cell Global Identifier (ECGI) and Physical Cell
Identifier (PCI) of the target cell. Furthermore, as described in TS36.300,
each NR has three attributes, the "No Remove", the "No HO" and the "No X2"
attribute. The meaning of these attributes would remain unchanged when eNB (or
HeNB) has the X2 interface with X2-proxy.
When the eNB detects a HeNB, the eNB can use existing ANR function to instruct
the UE to report the information of the HeNB, and add the HeNB to the
Neighbour Relation List. The ANR function also allows O&M to manage the NRT.
O&M can add and delete NRs. It can also change the attributes of the NRT. The
O&M system is informed about changes in the NRT.
##### 6.2.3.2.8.16 Present some error handling call flows corresponding to
paper R3-120138 {#present-some-error-handling-call-flows-corresponding-to-
paper-r3-120138 .H6}
For HeNB initiated TNL address discovery procedure and X2 setup, it is
possible that the X2 setup may be failed.
Figure 6.2.3.2.8.16.1 -- X2 Setup Failure for HeNB initiated TNL address
discovery and X2 setup
For eNB initiated TNL address discovery and X2 setup, it is possible that the
X2 setup may be failed.
Figure 6.2.3.2.8.16.2 -- X2 Setup Failure for eNB initiated TNL address
discovery and X2 setup
As described in TR37.803 Section 6.2.1.5, the non-UE-dedicated X2 procedures
are handled locally between the eNB and the X2-Proxy, and between the HeNB and
the X2-Proxy. In case a failure for the non-UE-dedicated X2 procedure, the
X2-Proxy terminates the procedure. The X2-Proxy may trigger the associated
non-UE-dedicated X2-AP procedure(s) to other side.
Figure 6.2.3.2.8.16.3 --Failure for UE-dedicated procedures
As described in TR37.803 Section 6.2.1.5, the X2-Proxy process and forwards
the X2 messages for the UE-dedicated X2 procedures. In case the X2-Proxy
receives the failure message or error indication message, the X2-Proxy may
changes the X2AP ID, and then forward it to the other side.
##### 6.2.3.2.8.17 More clarification on the transparency issue (i.e. whether
the X2GW should be seen as a Macro eNB by other eNBs) {#more-clarification-on-
the-transparency-issue-i.e.-whether-the-x2gw-should-be-seen-as-a-macro-enb-by-
other-enbs .H6}
The X2-Proxy appears as an eNB (for X2) to the eNB and HeNB.
\- From the eNB's perspective, the neighbouring HeNBs connecting to X2-Proxy
are considered as cells of the X2-Proxy.
\- From the HeNB's perspective, the cells of the neighbouring eNBs are
considered as cells of the X2-Proxy.
The X2-proxy is not regarded to be absolutely "transparent", although the
basic design principle foresees to align it with the behaviour of a macro eNB.
The eNB (or HeNB) can realize X2-connectivity towards the neighbouring HeNB
(or eNB) via an X2-proxy. The X2-Proxy only includes the cells of the HeNB's
neighbouring eNB(s) to the HeNB, and only includes the eNB's neighbouring
HeNBs to the eNB.
##### 6.2.3.2.8.18 O&M impact (case of proxy reporting more than 256 cells)
{#om-impact-case-of-proxy-reporting-more-than-256-cells .H6}
Currently, when the eNB is notified of a neighbouring eNB, the eNB can add the
neighbouring eNB's cells into its NRT and notify the OAM. The OAM can change
the attributes of the NRT.
> In case the eNB has an X2 connection with the X2-Proxy, the eNB similarly
> saves/reports the NRT to the OAM, and OAM can change the attributes of the
> NRT. In case a specific OAM implementation manages the NRT on a per-eNB
> basis, it may need some changes to manage a NRT table with more than 256
> cells for a neighbouring eNB, i.e. X2-Proxy.
##### 6.2.3.2.8.19 When an SCTP Association between the HeNB-GW & an HeNB is
established, i.e. what triggers this establishment? {#when-an-sctp-
association-between-the-henb-gw-an-henb-is-established-i.e.-what-triggers-
this-establishment .H6}
As clearly described in Figure 6.2.3.2.3.1.1: HeNB initiated TNL address
discovery and X2 setup and Figure 6.2.3.2.3.1.2: eNB initiated TNL address
discovery and X2 setup of TR37.803, the setup of SCTP association is triggered
by the TNL address discovery procedure, i.e. Step 8/9/18 in both figures.
##### 6.2.3.2.8.20 The concern for X2-Proxy using eNB Configuration Update
procedure to notify an eNB, in case the HeNB-GW detects failure (or shutdown)
of the SCTP association supporting the X2 connection towards an HeNB {#the-
concern-for-x2-proxy-using-enb-configuration-update-procedure-to-notify-an-
enb-in-case-the-henb-gw-detects-failure-or-shutdown-of-the-sctp-association-
supporting-the-x2-connection-towards-an-henb .H6}
The concern is using the eNB Configuration Update procedure requires new logic
in eNB. This is a misunderstanding on X2-Proxy. There is no new logic required
for the eNB.
As stated multiple times in the TR and related contributions, the eNB
considers the neighbouring HeNBs as the cells of the X2-Proxy. In case a
neighbouring HeNB is unavailable, it is quite reasonable that the eNB receives
the message from the X2-Proxy indicating that one of the X2-Proxy's cell, i.e.
the switched off HeNB, is unavailable. The SCTP with the X2-Proxy is used for
all neighbouring HeNBs connected to the X2-Proxy. If using the proposed method
as described in the question, i.e. explicit indication for the SCTP is
unavailable, it will be a new logic to the eNB.
In current X2-Proxy, the explicit indication for the SCTP is unavailable is
only used when all neighbouring HeNBs are power off.
##### 6.2.3.2.8.21 Procedure for eNB to trigger the establishment of SCTP and
X2 between the X2-Proxy and the said HeNB, after the eNB detects a restarted
HeNB {#procedure-for-enb-to-trigger-the-establishment-of-sctp-and-x2-between-
the-x2-proxy-and-the-said-henb-after-the-enb-detects-a-restarted-henb .H6}
When the eNB detects a restarted HeNB, the eNB initiates the TNL address
discovery procedure. After the TNL address discovery procedure, the X2-Proxy
initiates the SCTP association (Step 8) and X2 Setup (Step 10) with the HeNB.
The eNB only have one X2 with the X2-Proxy. The eNB does not re-initiate the
X2-Setup if the eNB already have X2 setup with the X2-Proxy.
Figure 6.2.3.2.8.21.1 -- eNB1 detects the restarted HeNB2
As described in above Figure, the X2-Proxy initiates the SCTP and X2 setup
after the eNB (i.e. eNB1) initiated TNL address discovery procedure. One may
argue that the eNB (i.e. eNB1) may choose not to initiate the X2 setup due to
the NRT attribute is set to "No X2" for this HeNB (i.e. HeNB2), thus cause the
SCTP/X2 is unnecessarily setup between the X2-Proxy and HeNB2. First, if the
NRT attribute is set to "NO X2", it is useless for the eNB1 initiated TNL
address discovery procedure. It is questionable why eNB1 initiates the TNL
address discovery procedure towards HeNB2 if the related NRT attribute is set
to "NO X2". Even if this does happen, it is a valid assumption that the NRT
attribute in the HeNB2 is also set to "No X2" for eNB1. So when the X2-Proxy
initiates the X2 setup request including the eNB1's cell information, HeNB2
can reject the X2 Setup request. Thus there will be no SCTP/X2 between
X2-Proxy and HeNB2.
##### 6.2.3.2.8.22 Open issues {#open-issues-1 .H6}
> 1\. How to decouple X2-Proxy from S1-GW during the TNL address discovery and
> X2 setup?
#### 6.2.3.3 X2 Routing Proxy Alternative
The X2 Routing proxy alternative supports X2 between eNBs & HeNBs
independently of whether an HeNB-GW was present (or indeed needed) or not.
Such a solution would provide flexibility to satisfy various deployment
requirements. This would introduce the logical function, the X2 Routing Proxy.
The following diagram illustrates the applicable network architecture with the
proposed solution.
Figure 6.2.3.3.1 Logical network architecture
The following sections provide more details of how such a solution would be
implemented, highlighting certain key scenarios.
##### 6.2.3.3.1 X2 Setup
One of the key scenarios to consider is how an X2 connection could be
established between eNB & HeNB. The following figure illustrates the \"basic\"
X2 setup procedure, i.e. when an eNB detects (or is configured with
information about) a neighbouring HeNB.
The figure shows how the new proposal would work when the X2 Routing Proxy
function is deployed.
Figure 6.2.3.3.1.1 X2 Setup procedure
The steps shown in the above figure are as follows.
1\. eNB#1 detects HeNB#2.
2\. eNB#1 then requests information about HeNB#2 via the S1AP eNB/MME
Configuration Transfer procedures, which are sent via the MME to HeNB#2.
3\. HeNB#2 provides two sets of _TNL config. Info_ in the Configuration
Transfer response, the first provides TNL info. of the X2 Routing Proxy, the
second is TNL info. of HeNB#2 itself. Alternatively, only the TNL info of
HeNB#2 is provided in the Configuration Transfer Response message and the X2
Routing Proxy TNL info is known by configuration in eNB#1.
4\. Once eNB#1 has received information about HeNB#2, it setups an SCTP
Association to the X2 Routing Proxy using the TNL Configuration Information
received/configured only if no SCTP association is yet existing..
5\. eNB#1 sends an X2 Setup Request to the peer node over the SCTP association
between eNB#1 and the proxy. To avoid having to implement special behaviour
with respect to populating neighbour cell information in the X2 message a new
IE, the _Receivers eNB TNL identity_ is introduced. This new IE allows the X2
Routing Proxy to determine where to send the X2 message to i.e. HeNB#2. If an
SCTP association already exists towards HeNB#2, the proxy forwards the X2
Setup Request message over that existing association. If the SCTP association
towards the HeNB#2 is not yet existing, the Proxy sets it up before forwarding
the X2 Setup Request message (new logic).
6\. Once HeNB#2 receives the X2 Setup Request, the HeNB#2 notices that it
doesn't have yet an X2AP connection towards the peer eNB#1 ID included in the
message. Therefore it does not reset any existing X2AP connection but instead
establish a new one with the eNB#1 by responding with an X2 Setup Response. As
for the Setup Request, a new IE the Receivers eNB TNL identity is included
(which is set to identify eNB#1) in the X2 Setup Response.
The same scenario will be repeated if the eNB subsequently decides to
establish an X2 to another HeNB. Similarly if the source is an HeNB and the
target an eNB, the procedure is the same.
Similarly, the X2 Setup Failure message will require new IEs to identify both
the source & target eNB/HeNB.
##### 6.2.3.3.2 Other X2 procedures
In order to ensure in the case when an X2 Routing Proxy is deployed that the
behaviour of the Proxy is kept simple & transparent, new "routing" IEs (to
identify the source/target eNB) would also be introduced to other X2 messages
that do not currently support such information. Whilst this would therefore
require the addition of _Source & Target eNB-ID TNL identity_ IEs to the X2
messages, it would result in a consistent & coherent implementation on the X2
Routing proxy.
An example being the Handover procedure shown below.
Figure 6.2.3.3.2.1 Handover procedure
##### 6.2.3.3.3 Summary
As can be seen from the information above, the proposed X2 Routing Proxy
solution is simple, in that it only requires the addition of "routing" IEs in
the X2 messages and some basic new functionality on the eNB/HeNB. The X2
Routing Proxy functionality is the ability to "route" messages based on
received IEs.
This solution has advantages over the existing proposals including:
\- That it will work in various network architectures
\- There is no need to implement additional functionality on the HeNB-GW to
manage non-UE related X2 procedures
\- There is no need to maintain neighbour cell mappings on the HeNB-GW
\- There is no need to manage X2AP IDs on the HeNB-GW
\- The solution does not require MME changes
\- There is no need to implement non-standard SCTP
##### 6.2.3.3.4 Open Issues
\- How to notify the peer eNB (or HeNB) when the SCTP association between the
X2 Routing Proxy and the HeNB (or eNB) breaks?
\- How to notify the eNB when the switched off HeNB power up with a different
IP address, but other parameters (e.g. PCI, global eNB ID) are not changed?
This may be even worse if the eNB does not know the HeNB switches off, i.e.
The eNB did not initiate any X2 procedure towards the HeNB after the HeNB
switched off , so the method as described in the 1st bullet does not work.
#### 6.2.3.4 Support of X2 via an SCTP Concentrator
An SCTP concentrator acts as an IP proxy between an eNB and its HeNB
neighbors. It addresses the issue of reducing the number of SCTP connections
toward the macro network by leaving the X2AP layer untouched and by
concentrating the SCTP layer. The SCTP concentrator is part of the transport
layer, and it is transparent to the application layer. It can be completely
"orthogonal" to the HeNB-GW.
##### 6.2.3.4.1 Logical Architecture
In Figure 6.2.3.4.1.1 the logical architecture for an SCTP concentrator is
shown. In principle, if a HeNB-GW is deployed, both logical nodes could be
implemented in the same physical node, but by decoupling the X2 SCTP
concentration functionality from the S1-GW functionality, a higher flexibility
for the operator is obtained.
{width="3.420138888888889in" height="2.8340277777777776in"}
Figure 6.2.3.4.1.1 Logical network architecture for an SCTP concentrator.
##### 6.2.3.4.2 Functions
The SCTP concentrator hosts the following functions:
\- Mapping the application layer to the TNL as needed, by setting up and
maintaining SCTP associations underneath the end-to-end X2 interface;
\- Performing NAT if desired, between HeNBs and eNBs;
\- Switching the appropriate SCTP streams into the various SCTP associations
as required.
##### 6.2.3.4.3 Protocol Stack
In Figure 6.2.3.4.3.1 we show the current protocol stack for the X2 control
plane with the presence of an SCTP concentrator. A single SCTP association per
X2-C interface instance is used with one pair of stream identifiers for X2-C
common procedures. An SCTP concentrator terminates the lower layers so that
the eNB does not need to be aware that several peers, with which it maintains
X2 interfaces, are actually behind the concentrator.
{width="4.804166666666666in" height="2.56875in"}
Figure 6.2.3.4.3.1 Protocol stack for the X2 interface over an SCTP
concentrator.
The key characteristics are:
1\. There is a single X2AP association (application layer) between the eNB and
each HeNB, so the eNB directly "sees" each neighbor.
2\. There is a single SCTP association (transport layer) between the eNB and
the SCTP concentrator.
3\. There is a single SCTP association (transport layer) between the SCTP
concentrator and each HeNB connected to it.
4\. The SCTP concentrator does not touch the application layer, and transports
it transparently.
5\. For each HeNB, the SCTP concentrator maps the X2AP signaling on the
appropriate SCTP association, "switching" between the various SCTP streams
from the X2 interface between itself and the eNB.
6\. The SCTP concentrator can also act as a "smart NAT", in case the HeNBs are
assigned private IP addresses.
Points 2 and 3 may require changes to [16], as detailed in Sec. 6.2.3.4.6.4.
In principle, the presence of the SCTP concentrator does not prevent a HeNB
from setting up a direct X2 interface with another (H)eNB.
##### 6.2.3.4.4 Leveraging SCTP Multi-Streaming
Point 5 above descends from the multi-streaming capabilities of SCTP. The eNB
can map X2AP signaling for different HeNBs on different streams over the same
SCTP association. The concentrator receives the messages, terminates the SCTP
connection, and maps each message on a new SCTP association toward the
appropriate HeNB according to the stream number used. Since there can be up to
65535 streams in an SCTP association, in principle it is possible to address a
large number of HeNBs from the same eNB. The SCTP concentrator handles the
appropriate switching between each stream number on the SCTP concentrator-
macro eNB association and each HeNB-SCTP concentrator association (see Figure
6.2.3.4.4.1). This functionality is completely contained in the SCTP
concentrator and only requires that the (H)eNBs map X2AP signaling to
different peers, on different SCTP stream identifiers.
{width="5.675694444444445in" height="3.238888888888889in"}
Figure 6.2.3.4.4.1 Switching of SCTP streams into different SCTP associations
by the SCTP concentrator.
##### 6.2.3.4.5 Autonomous X2 Setup through the SCTP Concentrator
###### 6.2.3.4.5.1 X2 Setup from HeNB to eNB
Let us assume that one of the HeNBs pictured needs to set up X2 with the macro
eNB.
1\. The HeNB can obtain the TNL address of the eNB e.g. by doing a DNS lookup
toward the core network, or by sending an eNB CONFIGURATION TRANSFER message
to the MME, containing the eNB ID to look up, and reading the corresponding
address in the answer (the MME CONFIGURATION TRANSFER from the MME can contain
up to 2 IP addresses for the X2 SCTP endpoint).
2\. The HeNB sets up an SCTP association with the concentrator if none is
already present. In the SCTP INIT chunk, the HeNB indicates both the address
of the concentrator and the address of the eNB.
3\. The HeNB sends the X2 SETUP REQUEST to the concentrator.
4\. The concentrator reads the eNB address from the SCTP INIT chunk and sets
up an SCTP association with the eNB if none is already present, negotiating a
suitable set of SCTP stream identifiers. The concentrator also maps the stream
identifiers from the SCTP association with the eNB, to the stream identifiers
from the SCTP association with the HeNB.
5\. The concentrator forwards the X2 SETUP REQUEST to the eNB.
6\. Assuming a positive response, the eNB replies with X2 SETUP RESPONSE to
the concentrator. The eNB needs to send the response over the same stream
number as the received X2 SETUP REQUEST in order to allow mapping by the
concentrator.
7\. Based on the mapping between SCTP streams in Step 4, the concentrator
forwards the X2 SETUP RESPONSE to the HeNB and the procedure ends.
###### 6.2.3.4.5.2 X2 Setup from eNB to HeNB
In this case, we assume that it is the eNB that has just discovered one of the
HeNBs in and needs to set up an X2 with it. We assume the HeNB has already
indicated both its address and the address of the SCTP concentrator to the
MME, e.g. using the _X2 TNL Configuration Info_ IE in the eNB CONFIGURATION
TRANSFER message which the MME transparently passes to the target.
1\. The eNB could obtain the TNL address of the HeNB for example by sending an
eNB CONFIGURATION TRANSFER message to the MME, containing the HeNB ID to look
up. The MME will answer with both the HeNB address and the concentrator
address in the MME CONFIGURATION TRANSFER message.
2\. The eNB sets up an SCTP association with the concentrator if none is
already present, negotiating a suitable set of SCTP stream identifiers. At
least two pairs of stream identifiers per HeNB, one for UE-associated
signaling and one for non-UE-associated signaling in both directions, may be
needed. In the SCTP INIT chunk, the eNB indicates both the address of the HeNB
and the address of the concentrator.
3\. The concentrator reads the HeNB address from the SCTP INIT chunk and sets
up an SCTP association with the HeNB if none is already present. The
concentrator also maps the stream identifiers from the SCTP association with
the HeNB, to the stream identifiers from the SCTP association with the eNB.
4\. The eNB sends the X2 SETUP REQUEST to the concentrator.
5\. The concentrator forwards the X2 SETUP REQUEST to the HeNB.
6\. Assuming a positive response, the HeNB replies with X2 SETUP RESPONSE to
the concentrator. The HeNB needs to send the response over the same stream
number as the received X2 SETUP REQUEST in order to allow mapping by the
concentrator.
7\. Based on the mapping between SCTP streams in Step 4, the concentrator
forwards the X2 SETUP RESPONSE to the eNB and the procedure ends.
##### 6.2.3.4.6 Open Issues
###### 6.2.3.4.6.1 ANR Impact on OAM
It is possible that, due to proprietary OAM extensions / features, the eNB
might report the TNL addresses of newly-found neighbors in the NR report to
its OAM. If this is the case, all discovered neighbor HeNBs that are connected
through an SCTP concentrator will be reported with the same TNL address. The
impact of having several neighbors with the same TNL address on the OAM,
however, depends on the single OAM implementation.
###### 6.2.3.4.6.2 Handling multiple peers connected to the same (H)eNB
In each (H)eNB there would be separate X2AP associations for each peer,
regardless if it is connected directly or through the SCTP concentrator. For
this reason, provided that two (H)eNBs are not connected via direct X2 and via
X2 through the SCTP concentrator _at the same time_ , a (H)eNB should be able
to handle direct and indirect (i.e. through the concentrator) connections
simultaneously. This, however, requires that each (H)eNB is able to map the
X2AP to different peers, onto different SCTP streams.
###### 6.2.3.4.6.3 Impact on Current SCTP Stack
Even though the capability to switch the different SCTP streams resides only
in the SCTP concentrator itself, further analysis might be needed to assess
the impact on the SCTP stack in the (H)eNBs connected through the
concentrator.
In particular, the following open issues have been identified:
1\. SCTP was originally designed for pure point-to-point connections. The SCTP
concentrator implements internal functionality on top of SCTP. It is FFS
whether such functionality should be considered as an application requiring an
SCTP PPI (Protocol Payload Indicator) of its own.
2\. The SCTP concentrator functionality exploits ("abuses") the multihoming
capability of SCTP. The IP addresses communicated over SCTP INIT chunks,
according to the multihoming requirements in [16],need to be in different IP
sub-networks, while still required to give access to the same SCTP stack. This
might pose some limitations on IP address allocation. Without further
configuration, the receiving side might have no information about the nature
of the received IP address.
3\. According to [15], all IP addresses contained in the SCTP INIT chunk are
considered as valid IP addresses of the sending host. By using an IP address
received in the INIT chunk to establish an SCTP association to a third node
(the other X2AP endpoint), the SCTP concentrator "abuses" this principle. A
similar "abuse" happens in the sending node. It is FFS whether this is
acceptable behavior.
4\. The number of SCTP streams between the concentrator and the eNB is greater
than the number of SCTP streams between the concentrator and each HeNB. In
other words, there need to be as many in/outbound streams between an eNB and
the concentrator as HeNBs should ever connect to that eNB via the
concentrator. According to [15], it is not foreseen to increase the number of
streams once the SCTP association has been initialized. In principle it is
possible to address a large number of HeNBs from the same eNB since there can
be up to 65535 streams in an SCTP association, nevertheless in some cases this
might pose dimensioning problems (some tens of bytes per stream may need to be
reserved statically in each node). A mechanism to negotiate an additional set
of stream IDs for each eNB-HeNB pair over the same SCTP association needs to
be defined in IETF.
5\. The eNB needs to send the response over the same stream number as the
received X2 SETUP REQUEST in order to allow mapping by the concentrator.
6\. Depending on the SCTP implementation in the sending node, an SCTP INIT
having the same port and IP address as an existing SCTP association might not
be sent by the source.
7\. Whenever a new X2 needs to be set up between a (H)eNB and a new neighbor
via the concentrator, this needs to be done without setting up an additional
SCTP association with the concentrator. A mechanism to set up SCTP only when
there is none set up, needs to be defined.
###### 6.2.3.4.6.4 Impact on Current Specifications
According to [16], there shall be only one SCTP association established for X2
between one eNB pair. It needs to be verified whether using the X2 SCTP
concentrator violates this principle.
There might be some impact to [17] in order to include and differentiate the
addresses of the SCTP concentrator from the addresses of the target (H)eNB,
since both are signaled to the (H)eNB in the MME CONFIGURATION TRANSFER
message.
## 6.3 Inter-CSG Mobility
## 6.4 RAN Sharing
### 6.4.1 Issue 1: Determining set of PLMN id(s) for which the UE is a member
for HO to a CSG cell which is advertising multiple PLMN-ids
In RAN2, it was recently agreed to extend the membership check to also cover
equivalent PLMN, see the following definition form TS 36.331:
> **CSG member cell** : for a UE in RRC_CONNECTED, a cell broadcasting the
> identity of the Registered PLMN or Equivalent PLMN and for which CSG
> whitelist of the UE includes an entry comprising of cell's CSG ID and the
> respective PLMN identity.
If the target cell is a CSG member cell, the UE will report membership in SI
request for HO procedure together with ECGI/TAI/CSG ID.
The source eNB/HeNB only knows the UE is a member of the target cell, but
doesn't know the PLMN-id(s) for this CSG for which the UE is a member. So the
source eNB/HeNB can't select proper PLMN for the UE.
Therefore, to support handover to a CSG member cell, the following soltions
exist:
**Solution 1** : eNB/RNC selects PLMN
**Solution 1a** : The UE reports the subset of the broadcasted PLMN identities
passing access and CSG membership check, the eNB/RNC verifies access check for
the PLMNs indicated by the UE and selects one if multiple pass the access
check and finally the MME/SGSN verifies the CSG membership check for the PLMN
selected by the source eNB/RNC.
Note: _the access check means to verify whether the reported PLMN is the UE's
rPLMN or ePLMN. CSG member check means to verify whether the PLMN ID and CSG
ID is in UE's allowed CSG list._
Figure 6.4.1.1: Signaling flow for Solution 1a
**Solution 1b:** The source eNB verifies if the UE is allowed to access the
target cell for the target cell broadcasted PLMN identities. If the check
succeeds for more than one PLMN identity, the source eNB initiates an
additional handshake/ procedure with the MME. As part of this procedure, the
source eNB provides the list of accessible PLMNs to the MME. The MME
subsequently verifies the CSG membership for each of the indicated PLMNs and
the CSG identity. The MME returns the subset of PLMN identities that pass the
CSG membership check to the eNB. If the MME returns more than one PLMN
identity, the source eNB selects the PLMN identity.
Figure 6.4.1.2: Signaling flow for Solution 1b
**Solution 1c:** MME/SGSN provides CSG subscription information to the
eNB/RNC. The source eNB/RNC verifies if the UE is allowed to access the target
cell based on the CSG subscription information provided by the MME/SGSN.
Figure 6.4.1.3: Signaling flow for Solution 1c
**Solution 2** : UE selects PLMN
The UE select one of the broadcasted PLMN identities passing access and CSG
membership check and report the selected PLMN to the eNB/RNC.
Figure 6.4.1.4: Signaling flow for Solution 2
UE selects the PLMN by the following rules:
\- If the rPLMN broadcast in the target cell and the rPLMN + CSG ID
broadcasted in the target cell in UE CSG whitelist, UE select the rPLMN.
\- If the UE's HPLMN broadcast in the target cell and the HPLMN is part of
UE's ePLMN and the HPLMN + CSG ID broadcasted in the target cell in UE CSG
whitelist, UE select the HPLMN.
\- If one of UE's ePLMN broadcast in the target cell and the ePLMN + CSG ID
broadcasted in the target cell is in UE CSG whitelist, UE select the ePLMN. If
more than one ePLMN+CSG ID in UE CSG Whitelist, UE will select the ePLMN based
on the broadcasted order.
**Solution 3: MME/SGSN selects PLMN**
The source eNB verifies if the UE is allowed to access the target cell for the
target cell broadcasted PLMN identities. If the check succeeds for more than
one PLMN identity, the source eNB/RNC provides the list of accessible PLMNs to
the MME/SGSN. The MME/SGSN subsequently verifies the CSG membership for each
of the indicated PLMNs and the CSG identity. If the CSG membership check
succeeds for more than one PLMN identity, the source MME/SGSN selects the PLMN
identity.
Figure 6.4.1.5: Signaling flow for Solution 3
### 6.4.2 Issue 2: _Architecture for network sharing for H(e)NB_
The LS R3-113148was sent to SA2. The following summarises the response from
SA2 in R3-120477.
The following network sharing architectures should be supported for H(e)NB
subsystem:
Figure 6.4.2.1. GWCN Network sharing for H(e)NB Subsystem with H(e)NB-GW and
without HeNB-GW.
Figure 6.4.2.2. MOCN Network sharing for H(e)NB Subsystem with H(e)NB-GW and
without HeNB-GW
SA2 understanding is that the RAN developed H(e)NB subsystem architecture
principles remain in Release 11.
Based on that understanding, SA2 would like to provide the following input:
\- A HeNB shall only connect to a single HeNB GW at one time, namely no S1
Flex function shall be used. A HeNB GW can be connected to one or more
MMEs/Core Networks via S1 or S1-Flex interfaces.
\- When there is no HeNB GW, the HeNB can directly connect to one or more MMEs
via S1 or S1-Flex interfaces.
### 6.4.3 Impact analysis and comparison for issue 1
Solution 1a and solution 2 are in the RAN2 scope. The solution has no impact
on RAN3. The \'_si-RequestForHO_ procedure\' needs to be extended such that
the UE reports the subset or one of the broadcasted PLMN identities that pass
both the access and CSG membership check.
Solution 1b, solution 1c and solution 3 need to involve RAN3/SA2.
**[Comparision:]{.underline}**
+----------+----------+----------+----------+----------+----------+ | | Soluton | Soluton | Soluton | Solution | Solution | | | 1a | 1b | 1c | 2 | 3 | +----------+----------+----------+----------+----------+----------+ | Change | No  | No  | No  | Yes  | Yes  | | the role | | | | | | | of PLMN | | | | | | | s | | | | | | | election | | | | | | +----------+----------+----------+----------+----------+----------+ | Overhead | More  | More  | More  | Little  | More  | | on Uu | | | | | | | i | UE | UE | UE | UE | UE | | nterface | reports | reports | reports | report | reports | | | several | several | several | one PLMN | several | | | PLMNs. | PLMNs. | PLMNs. | | PLMNs. | +----------+----------+----------+----------+----------+----------+ | Handover | Short  | Long  | Short  | short  | Short  | | delay | | | | | | | | | An | | | | | | | ad | | | | | | | ditional | | | | | | | h | | | | | | | andshake | | | | | | | p | | | | | | | rocedure | | | | | | | between | | | | | | | eNB/RNC | | | | | | | and CN | | | | | | | is | | | | | | | needed. | | | | +----------+----------+----------+----------+----------+----------+ | UE | Yes. | Yes. | Yes. | Yes. | Yes. | | impact | | | | | | | | \'_| The UE | The UE | UE | The UE | | | si-Reque | report | report | select | report | | | stForHO_ | the full | the full | PLMN and | the full | | | pro | PLMN | PLMN | report | PLMN | | | cedure\' | list  | list  | it.  | list  | | | needs to | | | | | | | be | | | | | | | extended | | | | | | |  | | | | | +----------+----------+----------+----------+----------+----------+ | eNB/RNC | Yes  | Yes  | Yes  | Yes  | Yes  | | impact | | | | | | | | Low | Possible | Possible | Low | Low | | | | Higher | Higher | | | +----------+----------+----------+----------+----------+----------+ | MME/SGSN | No  | Yes  | Yes  | No  | Yes  | | impact | | | | | | +----------+----------+----------+----------+----------+----------+ | Work for | Not work | Support | Support | Not work | Support | | pr |  | inbound | inbound |  | inbound | | e-Rel-11 | | handover | handover | | handover | | UE | | to a CSG | to a CSG | | to a CSG | | | | cell for | cell for | | cell for | | | | a | a | | a | | | | pr | pr | | pr | | | | e-REL-11 | e-REL-11 | | e-REL-11 | | | | UE for | UE for | | UE for | | | | the | the | | the | | | | f | f | | f | | | | ollowing | ollowing | | ollowing | | | | case: | case: | | case: | | | | | | | | | | | > | > | | > | | | | E-UTRAN | E-UTRAN | | E-UTRAN | | | | > is | > is | | > is | | | | > aware | > aware | | > aware | | | | > of the | > of the | | > of the | | | | > list | > list | | > list | | | | > of | > of | | > of | | | | > PLMNs | > PLMNs | | > PLMNs | | | | > b | > b | | > b | | | | roadcast | roadcast | | roadcast | | | | > by the | > by the | | > by the | | | | > target | > target | | > target | | | | > CSG | > CSG | | > CSG | | | | > cell | > cell | | > cell | +----------+----------+----------+----------+----------+----------+ | Notes | | Need SA2 | Violate | Open | Need SA2 | | | | invo | the | issue: | invo | | | | lvement. | current | either | lvement. | | | | | ass | we | | | | | | umptions | specify | | | | | | about | how the | | | | | | network | UE makes | | | | | | security | this | | | | | | and | choice | | | | | | trust; | or risk | | | | | | | that | | | | | | Need SA2 | d | | | | | | invo | ifferent | | | | | | lvement. | UE | | | | | | | impleme | | | | | | | ntations | | | | | | | lead to | | | | | | | d | | | | | | | ifferent | | | | | | | sel | | | | | | | ections. | | +----------+----------+----------+----------+----------+----------+
### 6.4.4 Conclusion
Agreement to adopt solution 1a for PLMN selection (both 3G and LTE).
# 7 Conclusions and Recommendations
## 7.1 UMTS topics
1) Enhanced Mobility in CELL_FACH, CELL_PCH and URA_PCH
Solutions 1e and 2b are agreed to be considered for further specification
work. RAN2 specific impact would still need to be elaborated for solution 2b.
2) Macro to HNB Enhanced Hard Handover Mobility
Solution 1d is agreed to be considered for further specification work, i.e.
membership verification (MV) is triggered by the target HNB while first
accepting the UE according to its reported CSG membership status and later
downgrading it if MV fails. This agreement does not apply to closed mode HNBs.
3) Macro to HNB Soft Handover Mobility
SHO between a macro RNC and open/hybrid access HNB (both may either serve as
SRNS or DRNS) is agreed to be feasible if care is taken concerning the
involved HNBs. Such HNBs need to be deployed in a secure and operator
controlled way (coordinated deployment). This agreement does not apply to
closed HNBs. A number of aspects have been identified for interoperability
between RNC and HNB. Their resolution is FFS.
4) Legacy UE mobility
All the solutions in clause 6.1.3 are agreed to be feasibile, unsolved FFSs
are not regarded as showstoppers.
It is commonly understood that any of those options are not suitable for
closed cells.\ It is also commonly understood that options 1a, 1b and 1c would
require modification of UTRAN interface signalling specifications.
Solution 2c is feasible without standardization changes if OTD signatures can
be maintainted up to date. Otherwise, handover failures may occur.
It is commonly acknowledged that there is a tradeoff between handover failure
and solution complexity.
## 7.2 LTE Topics
Properties for a standardized X2-GW:
\- X2-GW shall be explicitly defined but optional to deploy.
\- X2 interface to the X2-GW shall reuse SCTP without any changes.
\- Decoupling S1-GW from X2-GW.
\- Priority should be given to minimize implementation impact on the eNB and
HeNB, thus minimizing the standard impact.
\- Minimize the complexity of the X2-GW,
\- * X2-GW shall not terminate UE-dedicated procedures (only route in a
similar way as e.g. the S1 HeNB GW)
\- * X2-GW may terminate the non-UE dedicated procedures when appropriate.
#