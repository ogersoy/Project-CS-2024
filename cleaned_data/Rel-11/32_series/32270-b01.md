# Foreword
This Technical Specification has been produced by the 3^rd^ Generation
Partnership Project (3GPP).
The contents of the present document are subject to continuing work within the
TSG and may change following formal TSG approval. Should the TSG modify the
contents of the present document, it will be re-released by the TSG with an
identifying change of release date and an increase in version number as
follows:
Version x.y.z
where:
x the first digit:
1 presented to TSG for information;
2 presented to TSG for approval;
3 or greater indicates TSG approved document under change control.
y the second digit is incremented for all changes of substance, i.e. technical
enhancements, corrections, updates, etc.
z the third digit is incremented when editorial only changes have been
incorporated in the document.
# 1 Scope
The present document is part of a series of Technical Specifications (TSs)
that specify charging functionality and charging management in GSM/UMTS
networks. The GSM/UMTS core network charging architecture and principles are
specified in document TS 32.240 [1], which provides an umbrella for other
charging management documents that specify:
\- the content of the CDRs per domain and subsystem (offline charging);
\- the content of real-time charging messages per domain / subsystem (online
charging);
\- the functionality of online and offline charging for those domains and
subsystems;
> \- the interfaces that are used in the charging framework to transfer the
> charging information (i.e. CDRs or charging events).
The complete document structure for these TSs is defined in TS 32.240 [1].
The present document specifies the offline and online charging description for
MMS charging, based on the functional stage 2 descriptions of the MMS in TS
23.140 [201]. This charging description includes the offline and online
charging architecture and scenarios specific to the MMS, as well as the
mapping of the common 3GPP charging architecture specified in TS 32.240 [1]
onto MMS. It further specifies the structure and content of the CDRs for
offline charging, and the charging events for online charging. The present
document is related to other 3GPP charging TSs as follows:
  * The common 3GPP charging architecture is specified in TS 32.240 [1];
  * The parameters, abstract syntax and encoding rules for these CDR types are specified in TS 32.298 [51].
  * A transaction based mechanism for the transfer of CDRs within the network is specified in TS 32.295 [54].
  * The file based mechanism used to transfer the CDRs from the network to the operator\'s billing domain (e.g. the billing system or a mediation device) is specified in TS 32.297 [52].
  * The 3GPP Diameter application that is used for MMS online charging is specified in TS 32.299 [50].
All terms, definitions and abbreviations used in the present document, that
are common across 3GPP TSs, are defined in the 3GPP Vocabulary, TR 21.905
[100]. Those that are common across charging management in GSM/UMTS domains,
services or subsystems are provided in the umbrella document TS 32.240 [1] and
are copied into clause 3 of the present document for ease of reading. Finally,
those items that are specific to the present document are defined exclusively
in the present document.
Furthermore, requirements that govern the charging work are specified in TS
22.115 [102].
# 2 References
The following documents contain provisions, which through reference in this
text, constitute provisions of the present document.
  * References are either specific (identified by date of publication, > edition number, version number, etc.) or nonâ€‘specific.
  * For a specific reference, subsequent revisions do not apply.
  * For a non-specific reference, the latest version applies. In the > case of a reference to a 3GPP document (including a GSM document), > a non-specific reference implicitly refers to the latest version > of that document _in the same Release as the present document_.
[1] 3GPP TS 32.240: \"Telecommunication management; Charging management;
Charging Architecture and Principles\".
[2]-[9] Void.
[10] 3GPP TS 32.250: \"Telecommunication management; Charging management;
Circuit Switched (CS) domain charging\".
[11]-[33] Void.
[34] 3GPP TS 32.274: \"Telecommunication management; Charging management;
Short Message Service (SMS) charging\".
[35]-[49] Void.
[50] 3GPP TS 32.299: \"Telecommunication management; Charging management;
Diameter charging application\".
[51] 3GPP TS 32.298: \"Telecommunication management; Charging management;
Charging Data Record (CDR) parameter description\".
[52] 3GPP TS 32.297: \"Telecommunication management; Charging management;
Charging Data Records (CDR) file format and transfer\".
[53] 3GPP TS 32.296: \"Telecommunication management; Charging management;
Online Charging System (OCS) applications and interfaces\".
[54] 3GPP TS 32.295: \"Telecommunication management; Charging management;
Charging Data Record (CDR) transfer\".
[55]-[99] Void.
[100] 3GPP TR 21.905: \"Vocabulary for 3GPP Specifications\".
[101]-[199] Void.
[200] 3GPP TS 22.140: \"Multimedia Messaging Service (MMS); Stage 1\".
[201] 3GPP TS 23.140: \"Multimedia Messaging Service (MMS); Functional
description; Stage 2\".
[202] 3GPP TS 24.002: \"GSM - UMTS Public Land Mobile Network (PLMN) Access
Reference Configuration\".
[203]-[299] Void.
[300]-[399] Void.
[400] Void.
[401] IETF RFC 3588 (2003): \"Diameter Base Protocol\".
[402] IETF RFC 4006: \"Diameter Credit-Control Application\".
# 3 Definitions, symbols and abbreviations
## 3.1 Definitions
For the purposes of the present document, the following terms and definitions
given in TR 21.905 [50], TS 32.240 [1] and TS 22.140 [200] and the following
apply:
**accounting:** process of apportioning charges between the Home Environment,
Serving Network and subscriber.
**application data:** Information / data specific to an application other than
the MMS User Agent / VASP which is intended to be transported without
alteration by using MMS. Application Data may be of any content type and
format.
**billing:** function whereby CDRs generated by the charging function(s) are
transformed into bills requiring payment.
**Billing Domain:** part of the operator network, which is outside the
telecommunications network, that receives and processes CDR files from the
network charging functions. It includes functions that can provide billing
mediation and billing or other (e.g. statistical) end applications. It is only
applicable to offline charging (see \"Online Charging System\" for equivalent
functionality in online charging).
**CDR field categories:** the CDR fields are defined in the present document.
They are divided into the following categories:
\- Mandatory (**M**): field that shall always be present in the CDR.
\- Conditional (**C**): field that shall be present in a CDR if certain
conditions are met.
\- Operator Provisionable: Mandatory (**O~M~**): A field that operators have
provisioned to always be included in the CDR.
\- Operator Provisionable: Conditional (**O~C~**): A field that operators have
provisioned to be included in the CDR if certain conditions are met.
**chargeable event:** activity utilizing telecommunications network resources
and related services for:
\- user to user communication (e.g. a single call, a data communication
session or a short message); or
\- user to network communication (e.g. service profile administration); or
\- inter-network communication (e.g. transferring calls, signalling, or short
messages); or
\- mobility (e.g. roaming or inter-system handover); and
\- that the network operator may want to charge for.
As a minimum, a chargeable event characterises the resource / service usage
and indicates the identity of the involved end user(s).
**charged party:** user involved in a chargeable event who has to pay parts or
the whole charges of the chargeable event, or a third party paying the charges
caused by one or all users involved in the chargeable event, or a network
operator.
**charging:** a function within the telecommunications network and the
associated OCS/BD components whereby information related to a chargeable event
is collected, formatted, transferred and evaluated in order to make it
possible to determine usage for which the charged party may be billed.
**Charging Data Record (CDR):** a formatted collection of information about a
chargeable event (e.g. time of call set-up, duration of the call, amount of
data transferred, etc) for use in billing and accounting. For each party to be
charged for parts of or all charges of a chargeable event a separate CDR shall
be generated, i.e. more than one CDR may be generated for a single chargeable
event, e.g. because of its long duration, or because more than one charged
party is to be charged.
**charging event: a set of charging information forwarded by the CTF towards
the CDF (offline charging) or towards the OCS (online charging). Each charging
event matches exactly one chargeable event.**
**charging function:** entity inside the network domain, subsystem or service
that is involved in charging for that domain, subsystem or service.
**circuit switched domain:** domain within GSM / UMTS in which information is
transferred in circuit switched mode.
**Credit-Control:**
Editor\'s note: FFS.
**delivery report:** feedback information provided to an originator MMS User
Agent by an MMS Relay/Server about the status of the delivery of an MM.
**domain:** part of a communication network that provides network resources
using a certain bearer technology.
**forwarded MM:** MM originally sent from a sender to an intended recipient
which is then forwarded to other recipient(s) and to which a delivery report
and/or read-reply report may refer and which may be subject to further
forwarding.
**forwarding MMS User Agent** : MMS User Agent that is the intended recipient
of an MM and that requests forwarding of the MM for delivery to other
recipient(s) without having to first download the MM.
**Fully Qualified Partial CDR (FQPC):** partial CDR that contains a complete
set of the fields specified in the present document. This includes all the
mandatory and conditional fields as well as those fields that the PLMN
operator has provisioned to be included in the CDR. The first Partial CDR
shall be a Fully qualified Partial CDR.
**message ID:** unique identifier for an MM.
**middle tier TS: used for the 3GPP charging TSs that specify the domain /
subsystem / service specific, online and offline, charging functionality.
These are all the TSs in the numbering range from TS 32.250 [10] to TS 32.27x
[3x], e.g. TS 32.250 [10] for the CS domain, or TS 32.270 [30] for the MMS
service. Currently, there is only one \"tier 1\" TS in 3GPP, which is TS
32.240 [1] that specifies the charging architecture and principles. Finally,
there are a number of top tier TSs in the 32.29x numbering range ([50] ff)
that specify common charging aspects such as parameter definitions, encoding
rules, the common Billing Domain interface or common charging applications.**
**MMSE:** collection of MMS-specific elements under the control of a single
administration.
**MMS Relay/Server (MMS R/S):** MMS-specific network entity/application that
is under the control of an MMS service provider.\ An MMS relay/server
transfers messages, provides operations of the MMS that are specific to or
required by the mobile environment and provides (temporary and/or persistent)
storage services to the MMS.
**MMS User Agent:** application residing on a user equipment, a mobile station
or an external device that performs MMS-specific operations on a user\'s
behalf and/or on another application\'s behalf. An MMS User Agent is not
considered part of an MMSE.
**near real-time:** near real-time charging and billing information is to be
generated, processed, and transported to a desired conclusion in less than one
(1) minute.
**offline charging:** charging mechanism where charging information **does
not** affect, in real-time, the service rendered.
**online charging:** charging mechanism where charging information can affect,
in real-time, the service rendered and therefore a direct interaction of the
charging mechanism with bearer/session/service control is required.
**Online Charging System:** the entity that performs real-time Credit-Control.
Its functionality includes transaction handling, rating, online correlation
and management of subscriber accounts/balances.
**original MM:** (initial) MM sent from a sender to a recipient and to which a
delivery report and/or a read-reply report and/or a reply-MM may refer and/or
which may be subject to being forwarded.
**originator MMS User Agent: a** n MMS User Agent associated with the sender
of an MM.
**packet switched domain:** domain within GSM / UMTS in which data is
transferred in packet switched mode. Corresponds to the term \"GPRS\".
**partial CDR:** CDR that provides information on part of a subscriber
session. A long session may be covered by several partial CDRs. Two formats
are considered for Partial CDRs. One that contains all of the specified fields
(FQPC); the second has a reduced format (RPC _)_.
**read-reply report:** feedback information to an originator MMS User Agent by
a Recipient MMS User Agent about the status of handling/rendering of an
original MM in a Recipient MMS User Agent.
**real-time:** real-time charging and billing information is to be generated,
processed, and transported to a desired conclusion in less than 1 second.
**Recipient MMS User Agent:** MMS User Agent associated with the recipient of
an MM.
**reply-MM:** in case of reply-charging the first reply accepted by the
Recipient MMS Relay/Server (after checking the reply charging limitations,
such as the latest time of submission) is called a reply-MM.
**settlement:** payment of amounts resulting from the accounting process.
**subscriber:** a subscriber is an entity (associated with one or more users)
that is engaged in a subscription with a service provider. The subscriber is
allowed to subscribe and unsubscribe services, to register a user or a list of
users authorized to enjoy these services, and also to set the limits relative
to the use that associated users make of these services.
**user: a** n entity, not part of the 3GPP System, that uses **network
resources by means of a subscription. The user may or may not be identical to
the subscriber holding that subscription.**
**User Equipment (UE):** a device allowing a user access to network services.
For the purpose of 3GPP specifications the interface between the UE and the
network is the radio interface. A User Equipment can be subdivided into a
number of domains, the domains being separated by reference points. Currently
defined domains are the USIM and ME Domains. The ME Domain can further be
subdivided into several components showing the connectivity between multiple
functional groups. These groups can be implemented in one or more hardware
devices. An example of such a connectivity is the TE -- MT interface. Further,
an occurrence of a User Equipment is an MS for GSM as defined in TS 24.002
[202].
## 3.2 Symbols
For the purposes of the present document, the following symbols apply:
Ci Charging Trigger in combined MMS Relay/Server.
Bm Reference point for the CDR file transfer from the MMS CGF to the BD.
Mi Charging Trigger in MMS Relay/Server for MMBox Management.
MM1 The reference point between the MMS User Agent and the MMS Relay/Server.
MM2 The reference point between the MMS Relay and the MMS Server.
MM3 The reference point between the MMS Relay/Server and external (legacy)
messaging systems.
MM4 The reference point between the MMS Relay/Server and another MMS
Relay/Server that is within another MMSE.
MM5 The reference point between the MMS Relay/Server and the Home Location
Register (HLR).
MM6 The reference point between the MMS Relay/Server and the MMS User
Databases.
MM7 The reference point between the MMS Relay/Server and MMS VAS Applications.
MM8 The reference point between the MMS Relay/Server and the post-processing
system.
MM9 The reference point between the MMS Relay/Server and the online charging
system.
MM10 The reference point between the MMS Relay/Server and a Messaging Service
Control Function (MSCF).
Oi Charging Trigger in Originator MMS Relay/Server.
Ri Charging Trigger in Recipient MMS Relay/Server.
## 3.3 Abbreviations
For the purposes of the present document, the abbreviations defined in TR
21.905 [50], TS 23.140 [201], TS 32.240 [1] and the following apply:
3G 3rd Generation
3GPP 3^rd^ Generation Partnership Project
AVP Attribute Value Pair
BD Billing Domain
CCA Credit Control Answer
CCR Credit Control Request
CDF Charging Data Function
CDR Charging Data Record
CGF Charging Gateway Function
CS Circuit Switched
CTF Charging Trigger Function
DCCA Diameter Credit Control Application
EBCF Event Based Charging Function
ECUR Event Charging with Unit Reservation
FTAM File Transfer, Access and Management
GPRS General Packet Radio Service
GSM Global System for Mobile communication
HLR Home Location Register
IEC Immediate Event Charging
IETF Internet Engineering Task Force
IMS IP Multimedia Subsystem
IMSI International Mobile Subscriber Identity
IP Internet Protocol
ITU-T International Telecommunication Union - Telecommunications
standardization sector
LCS LoCation Service
MCC Mobile Country Code (part of IMSI)
ME Mobile Equipment
MIME Multipurpose Internet Mail Extensions
MM Multimedia Message
MMS Multimedia Messaging Service
MMSE Multimedia Messaging Service Element
MMSNA Multimedia Messaging Service Network Architecture
MMSO Multimedia Messaging Service Originator
MMSR Multimedia Messaging Service Recipient
MMS R/S Multimedia Messaging Relay/Server
MNC Mobile Network Code (part of IMSI)
MO Mobile Originated
MS Mobile Station
MSCF Messaging Service Control Function
MT Mobile Terminated
NE Network Element
OCS Online Charging System
PLMN Public Land Mobile Network
PS Packet-Switched
RPC Reduced Partial CDR
SCCP Signalling Connection Control Part
TR Technical Report
TS Technical Specification
UA User Agent
UE User Equipment
UMTS Universal Mobile Telecommunications System
USIM User Service Identity Module
VAS Value Added Service
VASP Value Added Service Provider
# 4 Architecture considerations
## 4.1 High-level MMS architecture
Figure 4.1.1 depicts the MMS reference architecture, as described in TS 23.140
[201].
Figure 4.1.1: MMS reference architecture
As can be seen in figure 4.1.1, the following MMS elements are relevant for
charging:
\- MMS Relay/Server (MMS R/S),
\- \"Foreign\" MMS Relay/Server (MMS R/S).
## 4.2 MMS offline charging architecture
As described in TS 32.240 [1], the CTF (an integrated component in each
charging relevant NE) generates charging events and forwards them to the CDF.
The CDF, in turn, generates CDRs which are then transferred to the CGF.\
Finally, the CGF creates CDR files and forwards them to the Billing Domain
(BD).
In MMS, all charging functions (CTF, CDF and CGF) reside within the MMS R/S.
I.e. the MMS R/S is connected directly to the BD via the Bm interface. Bm is
the MMS specific variant of the common Bx interface and is functionally
equivalent to MM8. This architecture implies that there exists no separate CDF
and CGF for MMS, i.e. no corresponding open interfaces between any such
functions, within the 3GPP standards.
Figure 4.2.1 depicts the mapping of the 3GPP common charging architecture, as
laid down in TS 32.240 [1], onto the MMS.
{width="6.310416666666667in" height="2.3090277777777777in"}
Figure 4.2.1: MMS offline charging architecture
In addition to the standard approach depicted in figure 4.2.1, vendors may
choose to implement separate CDF and CGF for MMS. In that case, the interfaces
between these functions should comply with the definition of the Rf and Ga
interfaces (TS 32.299 [50] and TS 32.295 [54], respectively) as much as
possible.
## 4.3 MMS online charging architecture
MMS online charging is based on MMS R/S functionality that is further
specified in the present document. For online charging, the MMS R/S utilizes
the Ro interface and application towards the OCS as specified in TS 32.299
[50].\ The Ro reference point covers all online charging functionality
required for MMS, i.e. it is functionally equivalent to the MM9 reference
point.
The MMS online charging architecture is depicted in figure 4.3.1.
Figure 4.3.1: MMS online charging architecture
Details on the interfaces and functions can be found in TS 32.240 [1] for the
general architecture components,\ TS 32.296 [53] for the OCS, and 32.299 [50]
for the Ro application.
# 5 MMS charging principles and scenarios
## 5.1 MMS charging principles
### 5.1.0 Introduction
The MMS R/S collects charging information for each MM transaction that crosses
the relevant reference points defined in TS 22.140 [200]. The chargeable
events that trigger the collection of charging information on the applicable
reference points are identical for MMS offline and online charging and are
specified below. The use of the events to generate CDRs (offline charging) or
Credit-Ccontrol requests (online charging) are described in clause 5.2 for
offline charging and in clause 5.3 for online charging, respectively.
In line with the requirements laid down in TS 22.140 [200] and TS 23.140 [201]
the MMS R/S collects charging information such as:
> \- the destination and source addresses applied for an MM;
>
> \- identification of the MMS R/S(s) involved in the MM transaction;
>
> \- the amount and type of user data transmitted in MO and MT directions for
> the transfer of MM; i.e. the size of the MM and its components;
>
> \- storage duration; i.e. the time interval when a MM is saved on a non-
> volatile memory media;
>
> \- identification of the bearer resources used for the transport of the MM;
> i.e. the identity of the network and the network nodes;
>
> \- in scenarios involving a VASP, the charging information describes the
> identification of the VASP and the amount of user data sent and received
> between the MMS R/S and the VASP.
>
> \- in scenarios involving the MSCF, additional information supplied by the
> MSCF.
The information listed above is captured for use cases in relation to:
> \- MM submission;
>
> \- MM retrieval;
>
> \- MM forwarding;
>
> \- transactions involving the MMbox;
>
> \- transactions involving a VASP.
Refer to TS 23.140 [201] for further details on the above MM transactions.
The following scenarios can be distinguished in MMS charging:
> \- Combined Originator and Recipient MMS R/S. This scenario covers the case
> where the Originator MMS R/S and the Recipient MMS R/S are identical, which
> implies that that particular MMS R/S handles both MM submission and MM
> retrieval.
>
> \- Distributed Originator and Recipient MMS R/S. This scenario covers the
> case of the Originator MMS R/S and the Recipient MMS R/S being two different
> entities, where the Originator MMS R/S handles MM submission and the
> Recipient MMS R/S handles MM retrieval.
>
> \- MMBox management. MMBox is a logical entity of the MMS R/S that allow to
> support the persistent network-based storage of the MMs. This feature is an
> extension of the MM1 interface that enables a MMS User Agent to store,
> retrieve and delete incoming and submitted MMs.
>
> \- VASP transactions. MMS VAS Application offers value added services to the
> MMS Users. The MMS VASP are able to interact with the MMS R/S via the MM7
> interface using transactions similar to those of the MM1 interface i.e.
> submission, reception, delivery-report, read-reply report, etc.
These scenarios all pertain to atomic actions related to MMs, e.g. submission,
retrieval, storage, deletion, etc., implying that MMS only uses event based
charging, as specified in TS 32.240 [1] (i.e. session based charging is not
applicable for MMS). The following subclauses further describe the above
scenarios and illustrate the conditions for the various types of chargeable
events based on MMs crossing the reference points identified in TS 23.140
[201] (MM1, MM4 and MM7). The labels in the message flows identify the
chargeable events in relation to the particular reference point.
### 5.1.1 Combined OOriginator and Recipient MMS R/S
This scenario, as depicted in figure 5.1.1.1, covers the case where the
Originator MMS R/S and the Recipient MMS R/S are identical, which implies that
that particular MMS R/S handles both MM submission and MM retrieval.
Figure 5.1.1.1: Chargeable event overview for combined case
Table 5.1.1.2: Trigger point overview for combined MMS R/S
+----------------------------------+----------------------------------+ | Trigger point | Trigger name | +----------------------------------+----------------------------------+ | C1 | Originator MM1 Submission | +----------------------------------+----------------------------------+ | C2 | Recipient MM1 Notification | | | Request | +----------------------------------+----------------------------------+ | C3 | Recipient MM1 Notification | | | Response | +----------------------------------+----------------------------------+ | C4 | Recipient MM1 Retrieval | +----------------------------------+----------------------------------+ | C5 | Recipient MM1 Acknowledgement | +----------------------------------+----------------------------------+ | C6 | Originator MM1 Delivery Report | +----------------------------------+----------------------------------+ | C7 | Recipient MM1 Read Reply | | | Recipient | +----------------------------------+----------------------------------+ | C8 | Originator MM4 Read Reply | | | Originator | +----------------------------------+----------------------------------+ | C9 | Recipient MM1 Cancellation (see | | | note 2) | +----------------------------------+----------------------------------+ | C10 | Recipient MM1 Deletion | +----------------------------------+----------------------------------+ | Any time between | Originator MM Deletion | | | | | C1 to C8 | | +----------------------------------+----------------------------------+ | NOTE 1: Chargeable events for MM | | | submission, retrieval and | | | cancellation are triggered by | | | the MMS R/S responding to | | | MM1_submit.REQ and | | | MM1_retrieve.REQ, rather than | | | upon receiving those requests | | | and receiving a response to | | | MM1_Cancel.RES rather than upon | | | submitting this request | | | | | | NOTE 2: MM1 Cancellation is | | | triggered by receiving an | | | MM7_extended_cancel.REQ. | | +----------------------------------+----------------------------------+
### 5.1.2 Distributed Originator and Recipient MMS R/S
This scenario, as depicted in figure 5.1.2.1, covers the case of the
Originator MMS R/S and the Recipient MMS R/S being two different entities,
where the Originator MMS R/S handles MM submission and the Recipient MMS R/S
handles MM retrieval.
Figure 5.1.2.1: Chargeable event overview for distributed case
Table 5.1.2.2 : Trigger type overview for the Originator MMS R/S
* * *
Trigger point Trigger name O1 Originator MM1 Submission O2 Originator MM4
Forward Request O3 Originator MM4 Forward Response O4 Originator MM4 Delivery
Report O5 Originator MM1 Delivery Report O6 Originator MM4 Read Reply Report
O7 Originator MM1 Read Reply Originator Any time between O1... O7 Originator
MM Deletion NOTE: Chargeable events for MM submission are triggered by the MMS
R/S responding to MM1_submit.REQ, rather than upon receiving those requests.
* * *
Table 5.1.2.3: Trigger type overview for the Recipient MMS R/S
+----------------------------------+----------------------------------+ | Trigger point | Trigger name | +----------------------------------+----------------------------------+ | R1 | Recipient MM4 Forward | +----------------------------------+----------------------------------+ | R2 | Recipient MM1 Notification | | | Request | +----------------------------------+----------------------------------+ | R3 | Recipient MM1 Notification | | | Response | +----------------------------------+----------------------------------+ | R4 | Recipient MM1 Retrieval | +----------------------------------+----------------------------------+ | R5 | Recipient MM1 Acknowledgement | +----------------------------------+----------------------------------+ | R6 | Recipient MM4 Delivery Report | | | Request | +----------------------------------+----------------------------------+ | R7 | Recipient MM4 Delivery Report | | | Response | +----------------------------------+----------------------------------+ | R8 | Recipient MM1 Read Reply | | | Recipient | +----------------------------------+----------------------------------+ | R9 | Recipient MM4 Read Reply Report | | | Request | +----------------------------------+----------------------------------+ | R10 | Recipient MM4 Read Reply Report | | | Response | +----------------------------------+----------------------------------+ | R11 | Recipient MM1 Cancellation (see | | | note 2) | +----------------------------------+----------------------------------+ | R12 | Recipient MM1 Deletion | +----------------------------------+----------------------------------+ | Anytime after R2 | Recipient MM Deletion | +----------------------------------+----------------------------------+ | NOTE 1: Chargeable events for MM | | | retrieval and cancellation are | | | triggered by the MMS R/S | | | responding to MM1_retrieve.REQ, | | | rather than upon receiving those | | | requests and receiving a | | | response to MM1_Cancel.RES | | | rather than upon submitting this | | | request | | | | | | NOTE 2: MM1 Cancellation is | | | triggered by receiving an | | | MM7_extended_cancel.REQ. | | +----------------------------------+----------------------------------+
### 5.1.3 MMBox management
MMBox is a logical entity of the MMS R/S that allows to support the persistent
network-based storage of the MMs.\ This feature is an extension of the MM1
interface that enables the MMS User Agent to store, retrieve and delete
incoming and submitted MMs. For further detailed description of \"Persistent
Network-Based Storage\" see TS 23.140 [201].
This scenario, as depicted in figure 5.1.3.1, covers the MM transactions
related to MMBox usage and the associated chargeable events in the affected
MMS R/S.
Figure 5.1.3.1: Chargeable event overview for MMBox management
Table 5.1.3.2: Trigger type overview for MMBox management
+--------------------------------------------------+------------------+ | Trigger point | Trigger name | +--------------------------------------------------+------------------+ | M1 | MMBox MM1 Upload | +--------------------------------------------------+------------------+ | M2 | MMBox MM1 Store | +--------------------------------------------------+------------------+ | M3 | MMBox MM1 View | +--------------------------------------------------+------------------+ | M4 | MMBox MM1 Delete | +--------------------------------------------------+------------------+ | NOTE: Chargeable events for MM Upload, Store, | | | View and Delete are triggered by | | | | | | the MMS R/S responding to these requests, rather | | | than upon receiving them. | | +--------------------------------------------------+------------------+
### 5.1.4 VASP transactions
MMS VAS Application offers value added services to the MMS Users. The MMS VASP
are able to interact with the MMS R/S via the MM7 reference point using
transactions similar to those of the MM1 interface i.e. submission, reception,
delivery-report, read-reply report, etc.
The VASP may provide service codes that contain billing information which may
be transferred to the MMS R/S and passed directly to the billing system
without intervention. In addition, the VASP may provide an indication to the
MMS R/S which party is expected to be charged for an MM submitted by the VASP,
e.g. the sending, receiving, both parties or neither.
This scenario, as depicted in figure 5.1.4.1, covers the VASP related MM
transactions and the associated chargeable events in the affected MMS R/S.
Figure 5.1.4.1: Chargeable event overview for VASP transactions
Table 5.1.4.2: Trigger type overview for VASP transactions
* * *
Trigger point Trigger name
V1 MM7 **Deliver Request**
V2 MM7 **Deliver Response**
V3 **MM7 Submission**
V4 **MM7 Delivery Report Request**
V5 **MM7 Delivery Report Response**
V6 **MM7 Read Reply Report Request**
V7 **MM7 Read Reply Report Response**
V8 **MM7 Replacement**
V9 **MM7 Cancellation**
V10 MM7 Extended Replacement
V11 MM7 Extended Cancellation
NOTE: Chargeable events for MM7 submission, replacement and cancellation are
triggered by\  
the MMS R/S responding to these requests, rather than upon receiving them.
* * *
## 5.2 MMS offline charging scenarios
### 5.2.1 Basic principles
MMS offline charging implies the generation of CDRs of various types by the
involved MMS R/S(s). As explained in clause 5.1, only event based charging
applies to MMS, i.e. there is no use of session based charging in the MMS
R/S.\ In line with the principles for event based charging laid down in TS
32.240 [1], the relationship between chargeable events and charging events is
1:1, and the relationship between charging events and CDRs is also 1:1.
The chargeable event triggers are defined in clause 5.1.1 to 5.1.4 above and
are identified by the labels within the figures 5.1 to 5.4 (message flows) in
relation to the particular MMS reference point. As can be seen from these
figures, the chargeable events relate to transactions at the MM1, MM4 and MM7
reference points.
An open Rf or Ga interface is not specified for MMS in the 3GPP standards,
hence no charging events (Rf message flows) are specified in clause 5.2.2.\ In
clause 5.2.3, CDR generation is described in relation to the chargeable event
triggers specified in clause 5.1, given that there is a 1:1 relation all the
way from chargeable event to CDR type as explained in the first paragraph
above. However, due to the absence of a standard Ga interface for MMS, from
the 3GPP specifications perspective these CDRs are only visible in CDR files
crossing the Bm interface.
### 5.2.2 Rf message flows
Not applicable, as the separation of the CTF and CDF is not in the scope of
the MMS charging standards.\ Refer to clause 4.2 for further information.
NOTE: Vendors may nevertheless implement a separate CTF and CDF for MMS
charging.\ In this case, it is recommended that the approach chosen conforms
to the principles and protocol applications specified in TS 32.299 [50].
### 5.2.3 CDR generation
For MMS, the Ga interface is not applicable, as the separation of the CDF and
CGF is not in the scope of the MMS charging specifications. I.e. the following
CDR types are visible only in the CDR files transferred from the MMS R/S
embedded CGF to the BD via the Bm interface.
NOTE: If vendors choose to implement the Ga interface for MMS, then it is
recommended that the approach chosen conforms with the CDRs specified in this
section and the Ga protocol conventions laid down in\ TS 32.295 [54].
#### 5.2.3.1 Combined Originator and Recipient MMS R/S case
The chargeable events for the case of a combined Originator and Recipient MMS
R/S are depicted in figure 5.1.1.1 and further listed in table 5.1.1.1. Due to
the fact that only event based charging applies to MMS (see clause 5.2.1),
these chargeable events translate 1:1 into the CDR types listed in table
5.2.3.1.1 below.
The first row in table 5.2.3.1.1 refers to the trigger labels in figure/table
5.1.1.1.\ The second row identifies the associated CDR type. The content of
these CDR types is specified in clause 6.
Table 5.2.3.1.1: Record type overview for combined MMS R/S
* * *
Record trigger C1 C2 C3 C4 C5 C6 C7 C8 C9 C10 Any time between\ C1 .. C8
Record type O1S R1NRq R1NRs R1Rt R1A O1D R1RR O1R _R1C_ RMD OMD
* * *
#### 5.2.3.2 Distributed Originator and Recipient MMSR/S case
The chargeable events for the case of distributed Originator and Recipient MMS
R/Ss are depicted in figures 5.1.2.2/3 and further listed in table 5.1.2.1.
Due to the fact that only event based charging applies to MMS (see clause
5.2.1), these chargeable events translate 1:1 into the CDR types listed in
tables 5.2.3.2.1/2 below.
The first row in the tables refers to the trigger labels in figure/table
5.1.2. The second row identifies the associated CDR type. The content of these
CDR types is specified in clause 6.
Table 5.2.3.2.1: Record type overview for the Originator MMS R/S
* * *
Record trigger O1 O2 O3 O4 O5 O6 O7 Any time between O1.. O7 Record type O1S
O4FRq O4FRs O4D O1D O4R O1R OMD
* * *
Table 5.2.3.2.2: Record type overview for the Recipient MMS R/S
* * *
Record trigger R1 R2 R3 R4 R5 R6 R7 R8 R9 R10 R11 R12 Anytime after R2 Record
type R4F R1NRq R1NRs R1Rt R1A R4DRq R4DRs R1RR R4RRq R4RRs R1C RMD RMD
* * *
#### 5.2.3.3 MMBox related CDRs
The chargeable events for the MMBox management are depicted in figure 5.1.3.1
and further listed in table 5.1.3.2.\ Due to the fact that only event based
charging applies to MMS (see clause 5.2.1), these chargeable events translate
1:1 into the CDR types listed in table 5.2.3.3.1 below.
The first row in table 5.2.3.3.1 refers to the trigger labels in figure/table
5.1.3.1.\ The second row identifies the associated CDR type. The content of
these CDR types is specified in clause 6.
Table 5.2.3.3.1 : Trigger type overview for MMBox management
* * *
Record trigger M1 M2 M3 M4 Record type Bx1U Bx1S Bx1V Bx1D
* * *
#### 5.2.3.4 CDRs related to VASP transactions
The chargeable events for the VASP transactions are depicted in figure 5.1.4.1
and further listed in table 5.1.4.2.\ Due to the fact that only event based
charging applies to MMS (see clause 5.2.1), these chargeable events translate
1:1 into the CDR types listed in table 5.2.3.4.1 below.
The first row in table 5.2.3.4.1 refers to the trigger labels in figure/table
5.1.4.1.\ The second row identifies the associated CDR type. The content of
these CDR types is specified in clause 6.
Table 5.2.3.4.1: Record type overview for VASP transactions
* * *
Record trigger V1 V2 V3 V4 V5 V6 V7 V8 V9 V10 V11 Record type MM7S MM7DRq
MM7DRs MM7C MM7R MM7DRRq MM7DRRs MM7RRq MM7RRs MM7ER MM7EC
* * *
### 5.2.4 Ga record transfer flows
Not applicable, as the separation of the CDF and CGF is not in the scope of
the MMS charging standards.\ Refer to clause 4.2 for further information.
NOTE: Vendors may nevertheless implement a separate CDF and CGF for MMS
charging. In this case, it is recommended that the approach chosen conforms to
the principles and protocol applications specified in TS 32.295 [54].
### 5.2.5 Bm CDR file transfer
The integrated CGF of the MMS R/S transfers the CDR files to the BD as
described in TS 32.297 [52].\ In MMS, both fully qualified partial CDRs (FQPC)
and reduced partial CDRs (RPC), as specified in TS 32.240 [1] may be supported
on the Bm interface. In line with TS 32.240 [1], the support of FQPCs is
mandatory, the support of RPCs is optional. For further details on the Bm
protocol application refer to TS 32.297 [52].
## 5.3 MMS online charging scenarios
MMS online charging uses the Credit Control (CC) application as specified in
TS 32.299 [50].
### 5.3.1 Basic principles
MMS charging may use the Immediate Event Charging (IEC) principle or the Event
Charging with Unit Reservation (ECUR) principle as specified in TS 32.299
[50]. The chargeable events for subscriber charging are associated with MM
submission and MM retrieval.
An implementation shall use only one principle for all chargeable events
throughout a given instance of providing MMS service to the user, i.e. either
IEC or ECUR.
The units used for quota shall be service specific and based on an MM.
### 5.3.2 Ro message flows
#### 5.3.2.0 General
The message flows described in the present document specify the charging
communications between MMS R/S and the Online Charging System (OCS) for
different charging scenarios. The MMS messages associated with these charging
scenarios are shown primarily for general information and to illustrate the
charging triggers that are also used for MMS offline charging.
#### 5.3.2.1 MM submission
Figure 5.3.2.1.1 shows the Credit-Control transactions that are required
between MMS R/S and OCS during the MM submission. In this scenario the
originator MMS User Agent is the party to charge for the MM submission.
Figure 5.3.2.1.1: MMS online charging scenario for MM submission
#### 5.3.2.2 MM retrieval
Figures 5.3.2.2.1 and 5.3.2.2.2 show the Credit-Control transactions that are
required between MMS R/S and OCS during the MM retrieval. In this scenario the
Recipient MMS User Agent is the party to charge for the reception.
NOTE: For IEC, if the retrieval process is not successful for any reason (e.g.
MM1_retrieve_Ack is not received) and another MM1_retrieve_req is received for
the same message (identified by the Message ID), it is OCS logic to determine
whether the subsequent requests are charged.
Figure 5.3.2.2.1 : MMS online charging for MM retrieval using IEC
Figure 5.3.2.2.2: MMS online charging scenario for MM retrieval using ECUR
#### 5.3.2.3 MMS reports
##### 5.3.2.3.1 Delivery report
Editor\'s note: FFS.
##### 5.3.2.3.2 Read report
Editor\'s note: FFS.
# 6 Definition of charging information
## 6.0 General
This clause provides the Stage 3 specifications of the CDR type and content
for MMS, in line with the CDR type definitions provided in clause 5.2.3.
## 6.1 Data description for MMS offline charging
### 6.1.0 Introduction
Dedicated types of CDRs can be generated for MMS by the MMS R/Ss. The content
of each CDR type is defined in one of the tables that are part of this clause.
For each CDR type the parameter definition includes the parameter name,
description and category.
Equipment vendors shall be able to provide all of the parameters listed in the
CDR content table in order to claim compliance with the present document.
However, since CDR processing and transport consume network resources,
operators may opt to eliminate some of the parameters that are not essential
for their operation.\ This operator provisionable reduction is specified by
the parameter category.
A parameter category can have one of two primary values:
> **M** This parameter is **M** andatory and shall always be present in the
> CDR;
>
> **C** This parameter shall be present in the CDR only when certain **C**
> onditions are met.\ These **C** onditions are specified as part of the
> parameter definition.
Some of these parameters are designated as Operator (**O**) provisionable.
Using TMN management functions or specific tools provided by an equipment
vendor, operators may choose to include or omit the parameter from the CDR.\
Once omitted, this parameter is not generated in a CDR of the particular type.
To avoid any potential ambiguity, a CDR generating element MUST be able to
provide all these parameters. Only an operator can choose whether or not these
parameters should be generated in its system.
Those parameters that the operator may configure to be present or absent are
further qualified with the\ \'Operator provisionable\' indicator as follows:
> **O~M~** This is a parameter that, if provisioned by the operator to be
> present, shall always be included in the CDRs.\ In other words, a **O~M~**
> parameter that is provisioned to be present is a mandatory parameter;
>
> **O~C~** This is a parameter that, if provisioned by the operator to be
> present, shall be included in the CDRs when the required conditions are met.
> In other words, a **O~C~** parameter that is configured to be present is a
> conditional parameter.
The MMS R/S CGF shall be able to provide the CDRs at the Billing System (BS)
interface in the format and encoding described in the present document. In
MMS, both fully qualified partial CDRs (FQPC) and reduced partial CDRs (RPC),
as specified in TS 32.240 [1] may be supported on the Bm interface. In line
with TS 32.240 [1], the support of FQPCs is mandatory, the support of RPCs is
optional.
The following tables provide a brief description of each CDR parameter. Full
definitions of the parameters, sorted by the parameter name in alphabetical
order, are provided in TS 32.298 [51].
### 6.1.1 MMS records for Originator MMS R/S
#### 6.1.1.0 General
The following subclauses specify CDRs created in the OOriginator MMS R/S based
on messages flowing over the MM1 and MM4 reference points. The CDRs referring
to MM4 messages (Originator MM4 *** CDR) are created only if the Originator
and Recipient MMS R/Ss communicate over the MM4 interface (i.e. the
OOriginator MMS R/S is not also the Recipient MMS R/S). The CDRs referring to
MM1 messages (Originator MM1 *** CDR) are created regardless of whether the
OriginatorOriginator MMS R/S is also the Recipient MMS R/S or not. Unless
otherwise specified, the CDR parameters are copied from the corresponding MM1
or MM4 message parameters as applicable.
#### 6.1.1.1 Originator MM1 Submission record (O1S-CDR)
If enabled, an Originator MM1 Submission O1S-CDR shall be produced in the
Originator MMS R/S for each MM submitted in an MM1_submit.REQ by an originator
MMS User Agent to the Originator MMS R/S if and when the Originator MMS R/S
responds with an MM1_submit.RES. The operator can configure whether this CDR,
if enabled, shall only be created for MM1_submit.RES indicating acceptance of
the submitted MM, or also for the unsuccessful submissions.
NOTE 1: This includes the case where the MM is a reply-MM to an original MM.
In this case the MMS User Agent sending the reply-MM is called the originator
MMS User Agent of this reply-MM and the MMS R/S receiving the reply-MM in an
MM1_submit.REQ is called the OriginatorOriginator MMS R/S for this reply-MM.
NOTE 2: The case of an MMS R/S receiving an MM1_forward.REQ is treated in
clause 6.1.3.
Table 6.1.1.1.1: Originator MM1 Submission record (O1S-CDR)
* * *
Field Category Description Record Type M Originator MM1 Submission record
Originator MMS Relay/Server Address M .IP address or domain name of
OriginatorOriginator MMS R/S Message ID M The MM identification provided by
the OriginatorOriginator MMS R/S Reply-Charging ID C This field is present in
the CDR only if the MM is a reply-MM to an original MM. The Reply-Charging ID
is the Message ID of the original MM Originator address M The address of the
originator MMS User Agent (i.e., of the MMS User Agent that has sent the
MM1_submit.REQ) Recipients address list M The address(es) of the Recipient MMS
User Agent(s) of the MM. Multiple addresses are possible if the MM is not a
reply MM Access Correlation O**~M~** A unique identifier delivered by the used
access network domain of the originator MMS User Agent Content type M The
content type of the MM content Content Class O**~C~** This field classifies
the content of the MM to the smallest content class to which the MM belongs,
if specified in the MM1_submit_REQ DRM Content O**~C~** This field indicates
if the MM contains DRM-protected content, if specified in the MM1_submit_REQ
Adaptations O**~C~** This field indicates if the originator allows adaptation
of the content (default True), if specified in the MM1_submit_REQ MM component
list O**~M~** The list of media components with volume size Message size M The
total size of the MM content Message class O**~C~** The class selection such
as personal, advertisement, information service if specified in the
MM1_submit_REQ Charge Information O**~M~** The charged party indication and
charge type Submission Time O**~C~** The time at which the MM was submitted
from the originator MMS User Agent if specified in the MM1_submit_REQ Time of
Expiry O**~C~** The desired date of expiry or duration of time prior to expiry
for the MM if specified by the originator MMS User Agent Earliest Time Of
Delivery C This field contains either the earliest time to deliver the MM or
the number of seconds to wait before delivering the MM as specified by the
originator MMS User Agent Duration Of Transmission O**~M~** The time used for
transmission of the MM between the User Agent and the MMS R/S Request Status
Code O**~M~** The status code of the MM as received in the MM1_submit_REQ
Delivery Report Requested O**~M~** This field indicates whether a delivery
report has been requested by the originator MMS User Agent or not Reply
Charging O**~C~** A request for reply-charging if specified by the originator
MMS User Agent Reply Deadline O**~C~** In case of reply-charging the latest
time of submission of replies granted to the recipient(s) as specified by the
originator MMS User Agent Reply Charging Size O**~C~** In case of reply-
charging the maximum size for reply-MM(s) granted to the recipient(s) as
specified by the originator MMS User Agent Priority O**~C~** The priority
(importance) of the message if specified by the originator MMS User Agent
Sender visibility O**~M~** A request to show or hide the sender\'s identity
when the message is delivered to the recipient as specified by the originator
MMS User Agent Read reply requested O**~M~** A request for read-reply report
as specified in the MM1_submit.REQ Status Text O**~C~** This field includes a
more detailed technical status of the message at the point in time when the
CDR is generated. This field is only present if the MM submission is rejected
Applic-ID O**~C~** If present, this field holds the identification of the
destination application that the underlying MMS abstract message was addressed
to. Reply-Applic-ID O**~C~** If present, this parameter indicates a "reply
path", i.e. the identifier of the application to which delivery reports, read-
reply reports and reply-MMs are addressed. Aux-Applic-Info O**~C~** If
present, this parameter indicates additional application/implementation
specific control information. Record Time Stamp O**~M~** Time of generation of
the CDR Local Record Sequence Number O**~M~** Consecutive record number
created by this node. The number is allocated sequentially including all CDR
types MMBox Storage Information O**~C~** A set of parameters related to the
MMBox management. This parameter is only present if the MMBox feature is
supported by the MMS R/S and storage of the MM was requested by originator MMS
User Agent (i.e., of the MMS User Agent that has sent the MM1_submit.REQ) MSCF
Information O**~C~** A set of parameters provided by the MSCF when interacting
with the MMS R/S via the MM10 interface prior to the MM1_submit.RES Serving
network identity O**~C~** If present this parameter holds the SGSN PLMN
Identifier (MCC and MNC) used during this record RAT Type O~C~ The radio
access technology used during this record. MS Time Zone O~C~ This field
contains the MS Time Zone the MMS User Agent is currently located, if
available. Record extensions O**~C~** A set of network/manufacturer specific
extensions to the record. Conditioned upon the existence of an extension
* * *
#### 6.1.1.2 Originator MM4 Forward Request record (O4FRq-CDR)
If enabled, an Originator MM4 Forward Request O4FRq-CDR shall be produced in
the Originator MMS R/S if and when the Originator MMS R/S has sent an
MM4_forward.REQ to the Recipient MMS R/S, regardless of whether or not an
MM4_forward.RES is received from the recipient. That is, the CDR is created
upon completion of transmission of the MM4_forward.REQ.
The MM4_forward.REQ may be generated as a reaction to an incoming
MM1_forward.REQ. In this case, the _Originator address_ field specifies the
address of the originator MMS User Agent of the original MM, whereas the
address of the forwarding MMS User Agent is contained in the _Forwarding
address_ field.
Table 6.1.1.2.1: Originator MM4 Forward Request record (O4FRq-CDR)
* * *
Field Category Description
Record Type M Originator MM4 Forward Request record
Originator MMS Relay/Server Address M IP address or domain name of the
Originator MMS R/S
Recipient MMS Relay/Server Address M IP address or domain name of the
Recipient MMS R/S
Message ID M The MM identification provided by the Originator MMS R/S
3GPP MMS Version O**~M~** The MMS version of the Originator MMS R/S
Originator address M The address of the originator MMS User Agent of the MM.
(If the MM4_forward.REQ is generated as a reaction to an incoming
MM1_forward.REQ, this is the address of the originator MMS User Agent of the
original MM
Recipients address list M The address(es) of the Recipient MMS User Agent(s)
of the MM as specified in the MM4_forward.REQ that triggered the CDR
Recipient address for routing M The address(es) of the Recipient MMS User
Agent(s) of the MM for that routing is requested as specified in the
MM4_forward.REQ that triggered the CDR
Content type M The content type of the MM content
Content Class O**~c~** This field classifies the content of the MM to the
smallest content class to which the MM belongs, if specified in the
MM4_forward_REQ
DRM Content O**~c~** This field indicates if the MM contains DRM-protected
content, if specified in the MM4_forward_REQ
Adaptations O**~c~** This field indicates if the originator allows adaptation
of the content (default True), if specified in the MM4_forward_REQ
MM component list O**~M~** The list of media components with volume size
Message size M The total size of the MM content
Message class C The class of the MM (e.g., personal, advertisement,
information service) if specified by the Originator MMS User Agent
Submission Time M The time at which the MM was submitted or forwarded as
specified in the corresponding MM1_submit.REQ or MM1_forwarding.REQ
Time of Expiry C The desired date of expiry or duration of time prior to
expiry for the MM if specified by the originatorOriginator MMS User Agent
Delivery Report Requested M This field indicates whether a delivery report has
been requested by the originator MMS User Agent or not
Priority C The priority (importance) of the message if specified by the
originator MMS User Agent
Sender visibility M A request to show or hide the sender\'s identity when the
message is delivered to the MM recipient if the Originator MMS User Agent has
requested her address to be hidden from the recipient
Read reply requested M A request for read-reply report if the originator MMS
User Agent has requested a read-reply report for the MM
Acknowledgement Request M Request for MM4_forward.RES
Forward counter C A counter indicating the number of times the particular MM
was forwarded
Forwarding address C The address(es) of the forwarding MMS User Agent(s).
Multiple addresses are possible.\ In the multiple address case this is a
sequential list of the address(es) of the forwarding MMS User Agents who
forwarded the same MM
Applic-ID O**~C~** If present, this field holds the identification of the
destination application that the underlying MMS abstract message was addressed
to.
Reply-Applic-ID O**~C~** If present, this parameter indicates a "reply path",
i.e. the identifier of the application to which delivery reports, read-reply
reports and reply-MMs are addressed.
Aux-Applic-Info O**~C~** If present, this parameter indicates additional
application/implementation specific control information.
Record Time Stamp M Time of generation of the CDR
Local Record Sequence Number O**~M~** Consecutive record number created by
this node. The number is allocated sequentially including all CDR types
Serving network identity O**~M~** SGSN PLMN Identifier (MCC and MNC) used
during this record
Record extensions O**~C~** A set of network/manufacturer specific extensions
to the record. Conditioned upon the existence of an extension
* * *
#### 6.1.1.3 Originator MM4 Forward Response record (O4FRs-CDR)
If enabled, an Originator MM4 Forward Response O4FRs-CDR shall be produced in
the Originator MMS R/S if and when, after an MM has been forwarded with an
MM4_forward.REQ to the Recipient MMS R/S, the Originator MMS R/S receives a
corresponding MM4_forward.RES from the Recipient MMS R/S.
Table 6.1.1.3.1: Originator MM4 Forward Response record (O4FRs-CDR)
* * *
Field Category Description
Record Type M Originator MM4 Forward Response record
Originator MMS Relay/Server Address O**~M~** IP address or domain name of the
Originator MMS R/S
Recipient MMS Relay/Server Address M IP address or domain name of the
Recipient MMS R/S
Message ID M The MM identification provided by the Originator MMS R/S
3GPP MMS Version O**~M~** The MMS version of the Recipient MMS R/S
Request Status Code O**~M~** The status code of the request to route forward
the MM as received in the MM4_forward.RES
Status Text O**~C~** This field includes the status text as received in the
MM4_forward.RES corresponding to the Request Status Code.\ Present only if
provided in the MM4_forward.RES
Record Time Stamp O**~M~** Time of generation of the CDR
Local Record Sequence Number O**~M~** Consecutive record number created by
this node. The number is allocated sequentially including all CDR types
Record extensions O**~C~** A set of network/manufacturer specific extensions
to the record. Conditioned upon the existence of an extension
* * *
#### 6.1.1.4 Originator MM4 Delivery Report record (O4D-CDR)
If enabled, an Originator MM4 Delivery Report O4D-CDR shall be produced in the
Originator MMS R/S if and when the Originator MMS R/S receives an
MM4_delivery_report.REQ from the Recipient MMS R/S.
Table 6.1.1.4.1: Originator MM4 Delivery Report record (O4D-CDR)
* * *
Field Category Description Record Type M Originator MM4 Delivery report record
Recipient MMS Relay/Server Address O**~M~** IP address or domain name of the
Recipient MMS R/S Originator MMS Relay/Server Address O**~M~** IP address or
domain name of the Originator MMS R/S Message ID M The MM identification
provided by the Originator MMS R/S 3GPP MMS Version O**~M~** The MMS version
of the Recipient MMS R/S Originator address O**~M~** The address of the
originator MMS User Agent of the MM Recipient address M The address of the MM
recipient of the MM MM Date and time M Date and time the MM was handled
(retrieved, expired, rejected, etc.) as specified in the MM4_delivery_report
Acknowledgement Request M Request for MM4_delivery_report.RES MM Status Code M
The status code of the delivered MM as received in the MM4_delivery_report.REQ
Status Text O**~C~** This field includes the status text as received in the
MM4_delivery_report.REQ corresponding to the MM Status Code. Present only if
provided in the MM4_delivery_report.REQ Applic-ID O**~C~** If present, this
field holds the identification of the destination application that the
underlying MMS abstract message was addressed to. Reply-Applic-ID O**~C~** If
present, this parameter indicates a "reply path", i.e. the identifier of the
application to which delivery reports, read-reply reports and reply-MMs are
addressed. Aux-Applic-Info O**~C~** If present, this parameter indicates
additional application/implementation specific control information. Record
Time Stamp O**~M~** Time of generation of the CDR Local Record Sequence Number
O**~M~** Consecutive record number created by this node. The number is
allocated sequentially including all CDR types Record extensions O**~C~** A
set of network/manufacturer specific extensions to the record. Conditioned
upon the existence of an extension
* * *
#### 6.1.1.5 Originator MM1 Delivery Report record (O1D-CDR)
If enabled, an Originator MM1 Delivery Report O1D-CDR shall be produced in the
Originator MMS R/S if and when the Originator MMS R/S sends an
MM1_delivery_report.REQ to the originator MMS User Agent.
Table 6.1.1.5.1: Originator MM1 Delivery Report record (O1D-CDR)
* * *
Field Category Description Record Type M Originator MM1 Delivery report record
Recipient MMS Relay/Server Address O**~M~** IP address or domain name of the
Recipient MMS R/S Originator MMS Relay/Server Address O**~M~** IP address or
domain name of the Originator MMS R/S Access Correlation O**~M~** A unique
identifier delivered by the used access network domain of the originator MMS
User Agent Message ID M The MM identification provided by the Originator MMS
R/S 3GPP MMS Version O**~M~** The MMS version of the Originator MMS R/S
Originator address O**~M~** The address of the originator MMS User Agent of
the MM Recipient address M The address of the MM recipient of the MM MM Status
Code O**~M~** The status code of the MM as sent in the MM Status information
element in the MM1_delivery_report.REQ Applic-ID O**~C~** If present, this
field holds the identification of the destination application that the
underlying MMS abstract message was addressed to. Reply-Applic-ID O**~C~** If
present, this parameter indicates a "reply path", i.e. the identifier of the
application to which delivery reports, read-reply reports and reply-MMs are
addressed. Aux-Applic-Info O**~C~** If present, this parameter indicates
additional application/implementation specific control information. Record
Time Stamp O**~M~** Time of generation of the CDR Local Record Sequence Number
O**~M~** Consecutive record number created by this node. The number is
allocated sequentially including all CDR types Serving network identity
O**~C~** If present this parameter holds the SGSN PLMN Identifier (MCC and
MNC) used during this record RAT Type O~C~ The radio access technology used
during this record. MS Time Zone O~C~ This field contains the MS Time Zone the
MMS User Agent is currently located, if available. Record extensions O**~C~**
A set of network/manufacturer specific extensions to the record. Conditioned
upon the existence of an extension
* * *
#### 6.1.1.6 Originator MM4 Read Reply Report record (O4R-CDR)
If enabled, an Originator MM4 Read Reply Report O4R-CDR shall be produced in
the Originator MMS R/S if and when the Originator MMS R/S receives an
MM4_read_reply_report.REQ from the Recipient MMS R/S.
Table 6.1.1.6.1: Originator MM4 Read Reply Report record (O4R-CDR)
* * *
Field Category Description Record Type M Originator MM4 Read reply report
record Recipient MMS Relay/Server Address O**~M~** IP address or domain name
of the Recipient MMS R/S Originator MMS Relay/Server Address O**~M~** IP
address or domain name of the Originator MMS R/S Message ID M The MM
identification provided by the Originator MMS R/S 3GPP MMS Version O**~M~**
The MMS version of the Recipient MMS R/S Originator address O**~M~** The
address of the originator MMS User Agent of the MM Recipient address O**~M~**
The address of the MM recipient of the MM MM Date and time O**~M~** Date and
time the MM was handled (retrieved, expired, rejected, etc.) Acknowledgement
Request M Request for MM4_read_reply_report.RES Read Status O**~M~** The
status of the MM as received in the MM4_read_reply_report.REQ Status Text
O**~C~** This field includes the status text if received in the
MM4_read_reply_report.REQ corresponding to the Read Status. Present only if
provided in the MM4_read_reply_report.REQ Applic-ID O**~C~** If present, this
field holds the identification of the destination application that the
underlying MMS abstract message was addressed to. Reply-Applic-ID O**~C~** If
present, this parameter indicates a "reply path", i.e. the identifier of the
application to which delivery reports, read-reply reports and reply-MMs are
addressed. Aux-Applic-Info O**~C~** If present, this parameter indicates
additional application/implementation specific control information. Record
Time Stamp O**~M~** Time of generation of the CDR Local Record Sequence Number
O**~M~** Consecutive record number created by this node. The number is
allocated sequentially including all CDR types Record extensions O**~C~** A
set of network/manufacturer specific extensions to the record. Conditioned
upon the existence of an extension
* * *
#### 6.1.1.7 Originator MM1 Read Reply Originator record (O1R-CDR)
If enabled, an Originator MM1 ReadRreply Originator O1R-CDR shall be produced
in the Originator MMS R/S if and when the Originator MMS R/S sends an
MM1_read_reply_Originator.REQ to the originator MMS User Agent.
Table 6.1.1.7.1: Originator MM1 Read Reply Originator record (O1R-CDR)
* * *
Field Category Description Record Type M Originator MM1 Read reply Originator
record Recipient MMS Relay/Server Address O**~M~** IP address or domain name
of the Recipient MMS R/S Originator MMS Relay/Server Address O**~M~** IP
address or domain name of the Originator MMS R/S Access Correlation O**~M~** A
unique identifier delivered by the used access network domain of the
originator MMS User Agent. Message ID M The MM identification provided by the
Originator MMS R/S 3GPP MMS Version O**~M~** The MMS version of the Originator
MMS R/S Originator address O**~M~** The address of the originator MMS User
Agent of the MM Recipient address O**~M~** The address of the MM recipient of
the MM Read Status O**~M~** The status of the MM as sent in the MM1_read_reply
Originator.REQ Applic-ID O**~C~** If present, this field holds the
identification of the destination application that the underlying MMS abstract
message was addressed to. Reply-Applic-ID O**~C~** If present, this parameter
indicates a "reply path", i.e. the identifier of the application to which
delivery reports, read-reply reports and reply-MMs are addressed. Aux-Applic-
Info O**~C~** If present, this parameter indicates additional
application/implementation specific control information. Record Time Stamp
O**~M~** Time of generation of the CDR Local Record Sequence Number O**~M~**
Consecutive record number created by this node. The number is allocated
sequentially including all CDR types Serving network identity O**~C~** If
present this parameter holds the SGSN PLMN Identifier (MCC and MNC) used
during this record RAT Type O~C~ The radio access technology used during this
record. MS Time Zone O~C~ This field contains the MS Time Zone the MMS User
Agent is currently located, if available. Record extensions O**~C~** A set of
network/manufacturer specific extensions to the record. Conditioned upon the
existence of an extension
* * *
#### 6.1.1.8 Originator MM Deletion record (OMD-CDR)
If enabled, an Originator MM Deletion OMD-CDR shall be produced in the
Originator MMS R/S, after sending an MM1_submit.RES to the originator MMS User
Agent, if and when:
a) the Originator MMS R/S decides to abandon processing of the MM at any point
after receiving the corresponding MM1_submit.REQ; or
b) the Originator MMS R/S decides to delete the MM because of expiry of
storage time, which may either be indicated in the submit request or governed
by operator procedure (e.g. after successful MM delivery).
Abandoning the processing of the MM, or deleting the MM, implies that there
remains no knowledge of the MM in the Originator MMS R/S.
The status code indicates the precise reason for abandoning or deleting the MM
with respect to the MMS transactions specified in TS 23.140 [201].
This CDR is created regardless of whether the Originator MMS R/S is also the
Recipient MMS R/S or not.
Table 6.1.1.8.1: Originator MM Deletion record (OMD-CDR)
* * *
Field Category Description Record Type M Originator MM Deletion record
Originator MMS R/S Address O**~M~** IP address or domain name of the
Originator MMS R/S Recipient MMS R/S Address C IP address or domain name of
the Recipient MMS R/S. This field is present, if such an address is known
Message ID M The MM identification provided by the Originator MMS R/S Message
size O**~M~** The total size of the MM content MM Status Code O**~M~** The
status code of the MM at the time when the CDR is generated Status Text
O**~M~** This field includes a more detailed technical status of the message
at the point in time when the CDR is generated Record Time Stamp O**~M~** Time
of generation of the CDR Local Record Sequence Number O**~M~** Consecutive
record number created by this node. The number is allocated sequentially
including all CDR types Record extensions O**~M~** A set of
network/manufacturer specific extensions to the record. Conditioned upon the
existence of an extension
* * *
### 6.1.2 MMS records for Recipient MMS R/S
#### 6.1.2.0 General
The following subclauses specify CDRs created in the Recipient MMS R/S based
on messages flowing over the MM1 and MM4 interfaces. The CDRs referring to MM4
messages (Recipient MM4 *** CDR) are created only if the Originator and
Recipient MMS R/Ss communicate over the MM4 interface (i.e. the Recipient MMS
R/S is not also the Originator MMS R/S). The CDRs referring to MM1 messages
(Recipient MM1 *** CDR) are created regardless of whether the Recipient MMS
R/S is also the Originator MMS R/S or not. Unless otherwise specified the CDR
parameters are copied from the corresponding MM1 or MM4 message parameters as
applicable.
#### 6.1.2.1 Recipient MM4 Forward record (R4F-CDR)
If enabled, a Recipient MM4 Forward R4F-CDR shall be produced in the Recipient
MMS R/S if and when the Recipient MMS R/S receives an MM4_forward.REQ from the
Originator MMS R/S.
Table 6.1.2.1.1 : Recipient MM4 Forward record (R4F-CDR)
* * *
Field Category Description Record Type M Recipient MM4 Forward record
Recipient MMS Relay/Server Address M IP address or domain name of the
Recipient MMS R/S Originator MMS Relay/Server Address M IP address or domain
name of the Originator MMS R/S Message ID M The MM identification provided by
the Originator MMS R/S 3GPP MMS Version O**~M~** The MMS version of the
Originator MMS R/S Originator address M The address of the originator MMS User
Agent of the MM Recipients address list M The address(es) of the recipient MMS
User Agent(s) of the -MM Content type M The content type of the MM content MM
component list O**~M~** The list of media components with volume size Message
size M The total size of the MM content Message class C The class selection
such as personal, advertisement, information service Submission Time M The
time at which the MM was submitted or forwarded as specified in the
MM4_forward.REQ Time of Expiry C The desired date of expiry or duration of
time prior to expiry for the MM if specified by the originator MMS User Agent
Delivery Report Requested M This field indicates whether a delivery report has
been requested by the originator MMS User Agent or not Priority C The priority
(importance) of the message if specified by the originator MMS User Agent
Sender visibility M A request to show or hide the sender\'s identity when the
message is delivered to the MM recipient if the originator MMS User Agent has
requested her address to be hidden from the recipient Read reply Requested M A
request for read-reply report if the originator MMS User Agent has requested a
read-reply report for the MM Request status code M The status of the request
to route forward the MM. If the MM4_forward.REQ is responded by an
MM4_forward.RES, this shall be the same information as specified in the
Request Status Code information element in the MM4_forward.RES Status Text C
This field includes a more detailed technical status of the message at the
point in time when the CDR is generated. If the MM4_forward.REQ is responded
by an MM4_forward.RES, this shall be the same information as specified in the
Status Text information element in the MM4_forward.RES corresponding to the
Request Status Code Acknowledgement Request M Request for MM4_forward.RES
Forward_counter C A counter indicating the number of times the particular MM
was forwarded Forwarding address C The address(es) of the forwarding MMS User
Agent(s). Multiple addresses are possible. In the multiple address case this
is a Sequential list of the address(es) of the forwarding MMS User Agents who
forwarded the same MM Record Time stamp M Time of generation of the CDR Local
Record Sequence Number O**~M~** Consecutive record number created by this
node. The number is allocated sequentially including all CDR types Record
extensions O**~C~** A set of network/manufacturer specific extensions to the
record. Conditioned upon the existence of an extension
* * *
#### 6.1.2.2 Recipient MM1 Notification Request record (R1NRq-CDR)
If enabled, a Recipient MM1 Notification Request R1NRq-CDR shall be produced
in the Recipient MMS R/S if and when the Recipient MMS R/S sends an
MM1_notification.REQ to the Recipient MMS User Agent.
Table 6.1.2.2.1: Recipient MM1 Notification Request record (R1NRq -CDR)
* * *
Field Category Description Record Type **M** Recipient MM1 Notification
Request record Recipient MMS R/S Address **M** IP address or domain name of
the Recipient MMS R/S Message ID **M** The MM identification provided by the
Originator MMS R/S Reply Charging ID **C** This field is present in the CDR
only if the MM is a reply-MM to an original MM. The Reply-Charging ID is the
Message ID of the original MM Sender address **M** The address of the MMS User
Agent as used in the MM1_notification_REQ. This parameter is present in the
CDR regardless of address hiding Recipient address **M** The address of the MM
recipient of the MM Access Correlation **O~M~** A unique identifier delivered
by the used access network domain of the Recipient MMS User Agent Message
class **M** The class selection such as personal, advertisement, information
service; default = personal MM component list **O~M~** The list of media
components with volume size Message size **O~M~** The total size of the MM
content Time of Expiry **O~M~** The date of expiry or duration of time prior
to expiry for the MM Message Reference **M** A reference, e.g., URI, for the
MM Delivery Report Requested **O~M~** This field indicates whether a delivery
report is requested or not as specified in the MM1_notification.REQ Reply
Charging **O~C~** Information that a reply to this particular original MM is
free of charge as specified in the MM1_notification.REQ Reply Deadline
**O~C~** In case of reply-charging the latest time of submission of a reply
granted to the recipient as specified in the MM1_notification.REQ Reply
Charging-Size **O~C~** In case of reply-charging the maximum size of a reply-
MM granted to the recipient as specified in the MM1_notification.REQ MM Status
Code **O~M~** The status code of the MM at the time when the CDR is generated
Status Text **O~M~** This field includes a more detailed technical status of
the message at the point in time when the CDR is generated. MSCF Information
**O~C~** A set of parameters provided by the MSCF when interacting with the
MMS R/S via the MM10 interface prior to the MM1_notification.REQ Applic-ID
**O~C~** If present, this field holds the identification of the destination
application that the underlying MMS abstract message was addressed to. Reply-
Applic-ID **O~C~** If present, this parameter indicates a "reply path", i.e.
the identifier of the application to which delivery reports, read-reply
reports and reply-MMs are addressed. Aux-Applic-Info **O~C~** If present, this
parameter indicates additional application/implementation specific control
information. Replace-ID **O~C~** If present, this parameter holds the
Identifier of the previous MM that is replaced by the current MM, if requested
by a VASP Record Time Stamp **O~M~** Time of generation of the CDR Local
Record Sequence Number **O~M~** Consecutive record number created by this
node. The number is allocated sequentially including all CDR types Serving
network identity **O~C~** If present this parameter holds the SGSN PLMN
Identifier (MCC and MNC) used during this record RAT Type **O~C~** The radio
access technology used during this record. MS Time Zone O~C~ This field
contains the MS Time Zone the MMS User Agent is currently located, if
available. VAS-Id **O~C~** This field indicates the VAS that originated the
MM. Only present in MM1 Retrieval and if the MM was received over an MM7
interface. VASP-Id **O~C~** This field indicates the VASP that originated the
MM. Only present in MM1 Retrieval and if the MM was received over an MM7
interface. Record extensions **O~C~** A set of network/manufacturer specific
extensions to the record. Conditioned upon the existence of an extension
* * *
#### 6.1.2.3 Recipient MM1 Notification Response record (R1NRs-CDR)
If enabled, a Recipient MM1 Notification Response R1NRs-CDR shall be produced
in the Recipient MMS R/S if and when the Recipient MMS R/S receives an
MM1_notification.RES from the Recipient MMS User Agent.
Table 6.1.2.3.1: Recipient MM1 Notification Response record (R1NRs-CDR)
* * *
Field Category Description Record Type M Recipient MM1 Notification Response
record Recipient MMS Relay/Server Address M IP address or domain name of the
Recipient MMS R/S Message ID M The MM identification provided by the
Originator MMS R/S Recipient address M The address of the MM recipient of the
MM Access Correlation O~M~ A unique identifier delivered by the used access
network domain of the Recipient MMS User Agent Report allowed C Request to
allow or disallow the sending of a delivery report to the MM Originator if
specified in the MM1_notification_RES MM Status Code O~M~ The status code of
the MM at the time when the CDR is generated Status Text O~M~ This field
includes a more detailed technical status of the message at the point in time
when the CDR is generated Record Time Stamp O~M~ Time of generation of the CDR
Local Record Sequence Number O~M~ Consecutive record number created by this
node. The number is allocated sequentially including all CDR types Serving
network identity O~C~ If present this parameter holds the SGSN PLMN Identifier
(MCC and MNC) used during this record RAT Type O~C~ The radio access
technology used during this record. MS Time Zone O~C~ This field contains the
MS Time Zone the MMS User Agent is currently located, if available. Record
extensions O~C~ A set of network/manufacturer specific extensions to the
record. Conditioned upon the existence of an extension
* * *
#### 6.1.2.4 Recipient MM1 Retrieve record (R1Rt-CDR)
If enabled, a Recipient MM1 Retrieve R1Rt-CDR shall be produced in the
Recipient MMS R/S if and when the Recipient MMS R/S has sent an
MM1_retrieve.RES to the Recipient MMS User Agent. That is, the CDR is created
upon completion of transmission of the MM1_retrieve.RES.
Table 6.1.2.4.1: Recipient MM1 Retrieve record (R1Rt-CDR)
+----------------------------+----------+----------------------------+ | Field | Category | Description | +----------------------------+----------+----------------------------+ | Record Type | M | Recipient MM1 Retrieve | | | | record | +----------------------------+----------+----------------------------+ | Recipient MMS R/S Address | M | IP address or domain name | | | | of the Recipient MMS R/S. | +----------------------------+----------+----------------------------+ | Message ID | M | The MM identification | | | | provided by the Originator | | | | MMS R/S. | +----------------------------+----------+----------------------------+ | Reply Charging ID | C | This field is present in | | | | the CDR only if the MM is | | | | a reply-MM to an original | | | | MM. The Reply-Charging ID | | | | is the Message ID of the | | | | original MM. | +----------------------------+----------+----------------------------+ | Sender address | C | The address of the MMS | | | | User Agent as used in the | | | | MM1_retrieve.RES, or the | | | | address of VASP as used in | | | | the MM7_submit.REQ. This | | | | parameter is present in | | | | the CDR regardless of | | | | address hiding. | +----------------------------+----------+----------------------------+ | Recipient address | M | The address of the | | | | Recipient MM User Agent of | | | | the MM. | +----------------------------+----------+----------------------------+ | Access Correlation | O~M~ | A unique identifier | | | | delivered by the used | | | | access network domain of | | | | the originator MMS User | | | | Agent. | +----------------------------+----------+----------------------------+ | Message Reference | M | Location of the content of | | | | the MM to be retrieved as | | | | specified in the | | | | MM1_retrieve.REQ. | +----------------------------+----------+----------------------------+ | Original MM Content | M | This parameter contains a | | | | set of information | | Content type | | elements related to the | | | | original MM. | | Message size | | | | | | | | MM component list | | | +----------------------------+----------+----------------------------+ | | M | The content type of the MM | | | | content. | +----------------------------+----------+----------------------------+ | | O~M~ | The total size of the | | | | original MM content. | +----------------------------+----------+----------------------------+ | | O~M~ | The list of media | | | | components with volume | | | | size. | +----------------------------+----------+----------------------------+ | Adapted MM Content | C | If the MM content is | | | | adapted prior to its | | Content type | | retrieval, this parameter | | | | is present and contains | | Message size | | the resulting set of | | | | information elements | | MM component list | | related to the adapted MM. | +----------------------------+----------+----------------------------+ | | C | The content type of the | | | | adapted MM content. | +----------------------------+----------+----------------------------+ | | O~C~ | The total size of the | | | | adapted MM content. | +----------------------------+----------+----------------------------+ | | O~C~ | The list of media | | | | components with volume | | | | size of the adapted MM. | +----------------------------+----------+----------------------------+ | Message class | O~C~ | The class of the message | | | | (e.g., personal, | | | | advertisement, information | | | | service) if specified in | | | | the MM1_retrieve.RES | +----------------------------+----------+----------------------------+ | Submission Time | M | The time at which the MM | | | | was submitted or forwarded | | | | as specified in the | | | | MM1_retrieve.RES | +----------------------------+----------+----------------------------+ | Delivery report Requested | O~M~ | A request for delivery | | | | report as specified in the | | | | Delivery Report | | | | information element in the | | | | MM1_retrieve.RES | +----------------------------+----------+----------------------------+ | Priority | O~C~ | The priority (importance) | | | | of the message if | | | | specified in the | | | | MM1_retrieve.RES | +----------------------------+----------+----------------------------+ | Read reply Requested | O~C~ | A request for read-reply | | | | report if specified in the | | | | Read Reply information | | | | element in the | | | | MM1_retrieve.RES | +----------------------------+----------+----------------------------+ | MM Status Code | O~M~ | The status code of the MM | | | | at the time when the CDR | | | | is generated | +----------------------------+----------+----------------------------+ | Status Text | O~M~ | This field includes a more | | | | detailed technical status | | | | of the message at the | | | | point in time when the CDR | | | | is generated | +----------------------------+----------+----------------------------+ | Applic-ID | O~C~ | If present, this field | | | | holds the identification | | | | of the destination | | | | application that the | | | | underlying MMS abstract | | | | message was addressed to. | +----------------------------+----------+----------------------------+ | Reply-Applic-ID | O~C~ | If present, this parameter | | | | indicates a "reply path", | | | | i.e. the identifier of the | | | | application to which | | | | delivery reports, | | | | read-reply reports and | | | | reply-MMs are addressed. | +----------------------------+----------+----------------------------+ | Aux-Applic-Info | O~C~ | If present, this parameter | | | | indicates additional | | | | application/implementation | | | | specific control | | | | information. | +----------------------------+----------+----------------------------+ | Replace-ID | O~C~ | If present, this parameter | | | | holds the Identifier of | | | | the previous MM that is | | | | replaced by the current | | | | MM, if requested by a VASP | +----------------------------+----------+----------------------------+ | Reply Deadline | O~C~ | In case of reply-charging | | | | the latest time of | | | | submission of a reply | | | | granted to the recipient | | | | as specified in the | | | | MM1_retrieve.RES | +----------------------------+----------+----------------------------+ | Reply Charging-Size | O~C~ | In case of reply-charging | | | | the maximum size of a | | | | reply-MM granted to the | | | | recipient as specified in | | | | the MM1_retrieve.RES | +----------------------------+----------+----------------------------+ | Duration Of Transmission | O~M~ | The time used for | | | | transmission of the MM | | | | between the User Agent and | | | | the MMS R/S | +----------------------------+----------+----------------------------+ | Record Time Stamp | O~M~ | Time of generation of the | | | | CDR | +----------------------------+----------+----------------------------+ | Local Record Sequence | O~M~ | Consecutive record number | | Number | | created by this node. The | | | | number is allocated | | | | sequentially including all | | | | CDR types | +----------------------------+----------+----------------------------+ | Serving network identity | O~C~ | If present this parameter | | | | holds the SGSN PLMN | | | | Identifier (MCC and MNC) | | | | used during this record | +----------------------------+----------+----------------------------+ | RAT Type | O~C~ | The radio access | | | | technology used during | | | | this record. | +----------------------------+----------+----------------------------+ | MS Time Zone | O~C~ | This field contains the MS | | | | Time Zone the MMS User | | | | Agent is currently | | | | located, if available. | +----------------------------+----------+----------------------------+ | VAS-Id | O~C~ | This field indicates the | | | | VAS that originated the | | | | MM. Only present in MM1 | | | | Retrieval and if the MM | | | | was received over an MM7 | | | | interface. | +----------------------------+----------+----------------------------+ | VASP-Id | O~C~ | This field indicates the | | | | VASP that originated the | | | | MM. Only present in MM1 | | | | Retrieval and if the MM | | | | was received over an MM7 | | | | interface. | +----------------------------+----------+----------------------------+ | Record extensions | O~C~ | A set of | | | | network/manufacturer | | | | specific extensions to the | | | | record. Conditioned upon | | | | the existence of an | | | | extension | +----------------------------+----------+----------------------------+
#### 6.1.2.5 Recipient MM1 Acknowledgement record (R1A-CDR)
If enabled, a Recipient MM1 Acknowledgement R1A-CDR shall be produced in the
Recipient MMS R/S if and when the Recipient MMS R/S receives an
MM1_acknowledgement.REQ from the Recipient MMS User Agent.
Table 6.1.2.5.1: Recipient MM1 Acknowledgement record (R1A-CDR)
* * *
Field Category Description Record Type M Recipient MM1 Acknowledgement record
Recipient MMS Relay/Server Address M IP address or domain name of the
Recipient MMS R/S Message ID M The MM identification provided by the
Originator MMS R/S Recipient address M The address of the Recipient MM User
Agent of the MM Access Correlation O~M~ A unique identifier delivered by the
used access network domain of the originator MMS User Agent. Report allowed C
Request to allow or disallow the sending of a delivery report to the MM
Originator if specified in the MM1_acknowledgement.RES MM Status Code O~M~ The
status code of the MM at the time when the CDR is generated Status Text O~M~
This field includes a more detailed technical status of the message at the
point in time when the CDR is generated Record Time Stamp O~M~ Time of
generation of the CDR Local Record Sequence Number O~M~ Consecutive record
number created by this node. The number is allocated sequentially including
all CDR types Serving network identity O~C~ If present this parameter holds
the SGSN PLMN Identifier (MCC and MNC) used during this record RAT Type O~C~
The radio access technology used during this record. MS Time Zone OC This
field contains the MS Time Zone the MMS User Agent is currently located, if
available. Record extensions O~C~ A set of network/manufacturer specific
extensions to the record. Conditioned upon the existence of an extension
* * *
#### 6.1.2.6 Recipient MM4 Delivery Report Request record (R4DRq-CDR)
If enabled, a Recipient MM4 Delivery Report Request R4DRq-CDR shall be
produced in the Recipient MMS R/S if and when the Recipient MMS R/S sends an
MM4_delivery_report.REQ to the Originator MMS R/S.
Table 6.1.2.6.1: Recipient MM4 Delivery Report Request record (R4DRq-CDR)
* * *
Field Category Description Record Type M Recipient MM4 Delivery report Request
record Recipient MMS Relay/Server Address M IP address or domain name of the
Recipient MMS R/S Originator MMS Relay/Server Address M IP address or domain
name of the Originator MMS R/S Message ID M The MM identification provided by
the Originator MMS R/S 3GPP MMS Version O~M~ The MMS version of the Recipient
MMS R/S Originator address M The address of the originator MMS User Agent of
the MM Recipient address M The address of the MM recipient of the MM MM Date
and time O~M~ Date and time the MM was handled (retrieved, expired, rejected,
etc.) Acknowledgement Request M Request for MM4_delivery_report.RES MM Status
Code O~M~ The status code of the MM as sent in the MM4_delivery_report.REQ
Status Text O~C~ This field includes the status text as sent in the
MM4_delivery_report.REQ corresponding to the MM Status Code Record Time Stamp
O~M~ Time of generation of the CDR Local Record Sequence Number O~M~
Consecutive record number created by this node. The number is allocated
sequentially including all CDR types Record extensions O~M~ A set of
network/manufacturer specific extensions to the record. Conditioned upon the
existence of an extension
* * *
#### 6.1.2.7 Recipient MM4 Delivery Report Response record (R4DRs-CDR)
If enabled, a Recipient MM4 Delivery Report Response R4DRs-CDR shall be
produced in the Recipient MMS R/S if and when the Recipient MMS R/S receives
an MM4_delivery_report.RES from the Originator MMS R/S.
Table 6.1.2.7.1: Recipient MM4 Delivery Report Response record (R4DRs-CDR)
* * *
Field Category Description Record Type M Recipient MM4 Delivery report
Response record Recipient MMS Relay/Server Address M IP address or domain name
of the Recipient MMS R/S Originator MMS Relay/Server Address M IP address or
domain name of the Originator MMS R/S Message ID M The MM identification
provided by the Originator MMS R/S 3GPP MMS Version O~M~ The MMS version of
the Originator MMS R/S Request Status Code O~M~ The status code of the MM as
received in the MM4_delivery_report.RES Status Text O~C~ This field includes
the status text as received in the MM4_delivery_report.RES corresponding to
the Request Status Code Record Time Stamp O~M~ Time of generation of the CDR
Local Record Sequence Number O~M~ Consecutive record number created by this
node. The number is allocated sequentially including all CDR types Record
extensions O~C~ A set of network/manufacturer specific extensions to the
record. Conditioned upon the existence of an extension
* * *
#### 6.1.2.8 Recipient MM1 Read Reply Recipient record (R1RR-CDR)
If enabled, a Recipient MM1 Read Reply Recipient R1RR-CDR shall be produced in
the Recipient MMS R/S if and when the Recipient MMS R/S receives an
MM1_read_reply_recipient.REQ from the Recipient MMS User Agent.
Table 6.1.2.8.1: Recipient MM1 Read Reply Recipient record (R1RR-CDR)
* * *
Field Category Description Record Type M Recipient MM1 Read reply Recipient
record Recipient MMS Relay/Server Address M IP address or domain name of the
Recipient MMS R/S Message ID M The MM identification provided by the
Originator MMS R/S Recipient address M The address of the Recipient MM User
Agent of the MM Originator address M The address of the MM Originator of the
original MM, i.e., the recipient of the read-reply report Access Correlation
O~M~ A unique identifier delivered by the used access network domain of the
originator MMS User Agent MM Status Code O~M~ The status code of the MM at the
time when the CDR is generated Status Text O~M~ This field includes a more
detailed technical status of the message at the point in time when the CDR is
generated Applic-ID O~C~ If present, this field holds the identification of
the destination application that the underlying MMS abstract message was
addressed to. Reply-Applic-ID O~C~ If present, this parameter indicates a
"reply path", i.e. the identifier of the application to which delivery
reports, read-reply reports and reply-MMs are addressed. Aux-Applic-Info O~C~
If present, this parameter indicates additional application/implementation
specific control information. Record Time Stamp O~M~ Time of generation of the
CDR Local Record Sequence Number O~M~ Consecutive record number created by
this node. The number is allocated sequentially including all CDR types
Serving network identity O~C~ If present this parameter holds the SGSN PLMN
Identifier (MCC and MNC) used during this record RAT Type O~C~ The radio
access technology used during this record. MS Time Zone OC This field contains
the MS Time Zone the MMS User Agent is currently located, if available. Record
extensions O~C~ A set of network/manufacturer specific extensions to the
record. Conditioned upon the existence of an extension
* * *
#### 6.1.2.9 Recipient MM4 Read Reply Report Request record (R4RRq-CDR)
If enabled, a Recipient MM4 Read Reply Report Request R4RRq-CDR shall be
produced in the Recipient MMS R/S if and when the Recipient MMS R/S sends an
MM4_read_reply_report.REQ to the Originator MMS R/S.
Table 6.1.2.9.1: Recipient MM4 Read Reply Report Request record (R4RRq-CDR)
* * *
Field Category Description Record Type M Recipient MM4 read reply report
Request record Recipient MMS Relay/Server Address M IP address or domain name
of the Recipient MMS R/S Originator MMS Relay/Server Address M IP address or
domain name of the Originator MMS R/S Message ID M The MM identification
provided by the Originator MMS R/S 3GPP MMS Version O~M~ The MMS version of
the Recipient MMS R/S Originator address M The address of the originator MMS
User Agent of the MM Recipient address M The address of the MM recipient of
the MM MM Date and time O~M~ Date and time the MM was handled (retrieved,
expired, rejected, etc.) Acknowledgement Request M Request for
MM4_read_reply_report.RES MM Status Code O~M~ The status code of the MM at the
time when the CDR is generated Status Text O~M~ This field includes a more
detailed technical status of the message at the point in time when the CDR is
generated Record Time Stamp O~M~ Time of generation of the CDR Local Record
Sequence Number O~M~ Consecutive record number created by this node. The
number is allocated sequentially including all CDR types Record extensions
O~C~ A set of network/manufacturer specific extensions to the record.
Conditioned upon the existence of an extension
* * *
#### 6.1.2.10 Recipient MM4 Read Reply Report Response record (R4RRs-CDR)
If enabled, a Recipient MM4 Read Reply Report Response R4RRs-CDR shall be
produced in the Recipient MMS R/S if and when the Recipient MMS R/S receives
an MM4_read_reply_report.RES from the Originator MMS R/S.
Table 6.1.2.10.1: Recipient MM4 DeliveryRead Reply Report Response record
(R4DRRs-CDR)
* * *
Field Category Description Record Type M Recipient MM4 Read reply report
Response record Recipient MMS Relay/Server Address M IP address or domain name
of the Recipient MMS R/S Originator MMS Relay/Server Address M IP address or
domain name of the Originator MMS R/S Message ID M The MM identification
provided by the Originator MMS R/S 3GPP MMS Version O~M~ The MMS version of
the Originator MMS R/S Request Status Code O~M~ The status code of the MM as
received in the MM4_read_reply_report.RES Status Text O~C~ This field includes
a more detailed technical status if received in the MM4_read_reply_report.RES
corresponding to the Request Status Code Record Time Stamp O~M~ Time of
generation of the CDR Local Record Sequence Number O~M~ Consecutive record
number created by this node. The number is allocated sequentially including
all CDR types Record extensions O~C~ A set of network/manufacturer specific
extensions to the record. Conditioned upon the existence of an extension
* * *
#### 6.1.2.11 Recipient MM1 Cancellation record (R1C-CDR)
If enabled, a Recipient MM1 Cancellation R1C-CDR shall be produced in the
Recipient MMS R/S if and when the Recipient MMS R/S receives an MM1_Cancel.RES
from the Recipient MMS User Agent.
Table 6.1.2.11.1: Recipient MM1 Cancellation record (R1C-CDR)
* * *
Field Category Description Record Type M Recipient MM1 Cancellation record
Recipient MMS Relay/Server Address M IP address or domain name of the
Recipient MMS R/S Originator MMS Relay/Server Address M IP address or domain
name of the Originator MMS R/S Cancel ID M The identification of the cancelled
MM 3GPP MMS Version O~M~ The MMS version of the Originator MMS R/S Request
Status Code O~M~ The status code of the cancellation as received in the
MM1_Cancel.RES Record Time Stamp O~M~ Time of generation of the CDR Local
Record Sequence Number O~M~ Consecutive record number created by this node.
The number is allocated sequentially including all CDR types Record extensions
O~C~ A set of network/manufacturer specific extensions to the record.
Conditioned upon the existence of an extension
* * *
#### 6.1.2.12 Recipient MM Deletion record (RMD-CDR)
If enabled, a Recipient MM Deletion RMD-CDR shall be produced in the Recipient
MMS R/S if and when:
a) the Recipient MMS R/S decides to abandon processing of the MM at any point
after receiving the corresponding MM4_forward.REQ; or
b) the Recipient MMS R/S decides to delete the MM because of expiry of storage
time, which may either be indicated in the submit request or governed by
operator procedure(e.g. after successful MM delivery); or
c) The Recipient MMS R/S decides to delete the MM prior to the expiry of
storage time because it received a request to delete a deferred MM (i.e. MM
for that retrieval has been deferred) from the recipient MMS User Agent in the
corresponding MM1_delete.REQ and before an MM1_cancel.REQ, if any, is sent to
the recipient MMS User Agent.
Abandoning the processing of the MM implies that there remains no knowledge of
the MM in the Recipient MMS R/S.
The status code indicates the precise reason for abandoning or deleting the MM
with respect to the MMS transactions specified in TS 23.140 [201].
A special case is where the Recipient MMS R/S is also the Forwarding MMS R/S.
In this case only the Originator MM Deletion CDR specified in clause 6.1.1.8
is required.
Table 6.1.2.12.1: Recipient MM Deletion record (RMD-CDR)
* * *
Field Category Description Record Type M Recipient MM Deletion record
Originator MMS Relay/Server Address M IP address or domain name of the
Originator MMS R/S Recipient MMS Relay/Server Address O~M~ IP address or
domain name of the Recipient MMS R/S Message ID M The MM identification
provided by the Originator MMS R/S Message size O~M~ The total size of the MM
content MM Status Code O~M~ The status code of the MM at the time when the CDR
is generated Status Text O~M~ This field includes a more detailed technical
status of delivering the message Record Time Stamp O~M~ Time of generation of
the CDR Local Record Sequence Number O~M~ Consecutive record number created by
this node. The number is allocated sequentially including all CDR types Record
extensions O~C~ A set of network/manufacturer specific extensions to the
record. Conditioned upon the existence of an extension
* * *
### 6.1.3 MMS records for Forwarding MMS R/S
#### 6.1.3.1 Forwarding record (F-CDR)
If enabled, a Forwarding F-CDR shall be produced in the Forwarding MMS R/S on
receipt of an MM1_forward.REQ if and when the Forwarding MMS R/S responds with
an MM1_forward.RES indicating acceptance.
Table 6.1.3.1 : MM Forwarding record (F-CDR)
* * *
Field Category Description Record Type M MM Forwarding record Forwarding MMS
Relay/Server Address M IP address or domain name of the Forwarding MMS R/S
Message ID M The MM identification provided by the Originator MMS R/S
Forwarding address M One or more addresses of the forwarding MMS User Agent
(i.e., of the MMS User Agent that has sent the MM1_forward.REQ) Recipients
address list M The address(es) of the Recipient MMS User Agent(s) of the
forwarded MM. Multiple addresses are possible Charge Information O~M~ The
charged party indication and charge type Time of Expiry O~C~ The desired date
of expiry or duration of time prior to expiry for the MM if specified by the
forwarding MMS User Agent Earliest Time Of Delivery O~C~ This field contains
either the earliest time to deliver the MM or the number of seconds to wait
before delivering the MM Delivery Report Requested O~M~ This field indicates
whether a delivery report has been requested by the forwarding MMS User Agent
or not Read reply requested O~M~ A request for read-reply report as specified
in the MM1_forward.REQ Message reference M A reference, e.g., URI, for the MM
as specified in the MM1_forward.REQ MM Status Code O~M~ The status code of the
MM at the time when the CDR is generated Status Text O~M~ This field includes
a more detailed technical status of the message at the point in time when the
CDR is generated Record Time Stamp O~M~ Time of generation of the CDR Local
Record Sequence Number O~M~ Consecutive record number created by this node.
The number is allocated sequentially including all CDR types MMBox Storage
Information O~C~ A set of parameters related to the MMBox management. This
parameter is only present if the MMBox feature is supported by the MMS R/S and
storage of the MM was requested by the forwarding MMS User Agent (i.e., of the
MMS User Agent that has sent the MM1_forward.REQ) Reply Charging O~C~ A
request for reply-charging if specified by the forwarding MMS User Agent Reply
Deadline O~C~ In case of reply-charging the latest time of submission of
replies granted to the recipient(s) as specified by the forwarding MMS User
Agent Reply Charging Size O~C~ In case of reply-charging the maximum size for
reply-MM(s) granted to the recipient(s) as specified by the forwarding MMS
User Agent Serving network identity O~M~ SGSN PLMN Identifier (MCC and MNC)
used during this record Record extensions O~C~ A set of network/manufacturer
specific extensions to the record. Conditioned upon the existence of an
extension
* * *
### 6.1.4 Service records for MMS R/S supporting MMBoxes
#### 6.1.4.1 MMBox MM1 Store record (Bx1S-CDR)
If enabled, an MMBox MM1 Store Bx1S-CDR shall be produced in the MMS R/S if
and when the MMS R/S responds with an MM1_mmbox_store.RES to the MMS User
Agent.
Table 6.1.4.1.1: MMBox MM1 Store record (Bx1S-CDR)
* * *
Field Category Description Record Type M MMBox MM1 Store record MMS
Relay/Server Address M An address of the MMS R/S Managing address M The
address of the managing MMS User Agent (i.e., of the MMS User Agent that has
sent the MM1_mmbox_store.REQ) Access Correlation O~M~ A unique identifier
delivered by the used access network domain of the originator MMS User Agent
Content type O~M~ The content type of the MM content Message size O~M~ The
size of the MM Message Reference O~M~ A reference to the newly stored or
updated MM, suitable for subsequent usage (e.g.: with MM1_retrieve.REQ and
MM1_mmbox_delete.REQ) MM State O~M~ The state of the MM. If not present when
the Message Reference is from a notification request, defaults to New. No
value is assumed when the Message Reference refers to an already stored MM MM
Flags O~C~ If available, the keyword flags of the MM. There are no defaults
Store status O~C~ The status code of the request to store the MM as received
in the MM1_store.RES Store Status Text O~C~ This field includes a more
detailed technical description of the store status at the point in time when
the CDR is generated. This field is only present if the store status is
present Sequence Number O~M~ Record number Time Stamp O~M~ Time of generation
of the CDR Serving network identity O~C~ If present this parameter holds the
SGSN PLMN Identifier (MCC and MNC) used during this record RAT Type O~C~ The
radio access technology used during this record. MS Time Zone OC This field
contains the MS Time Zone the MMS User Agent is currently located, if
available. Record extensions O~C~ A set of network/manufacturer specific
extensions to the record
* * *
#### 6.1.4.2 MMBox MM1 View record (Bx1V-CDR)
If enabled, an MMBox MM1 View Bx1V-CDR shall be produced in the MMS R/S if and
when the MMS R/S has sent an MM1_mmbox_view.RES to the MMS User Agent.
Table 6.1.4.2.1: MMBox MM1 View record (Bx1V-CDR)
* * *
Field Category Description Record Type M MMBox MM1 View record MMS
Relay/Server Address M An address of the MMS R/S. Managing address M The
address of the managing MMS User Agent (i.e., of the MMS User Agent that has
sent the MM1_mmbox_view.REQ). Access Correlation O~M~ A unique identifier
delivered by the used access network domain of the originator MMS User Agent.
Attributes list O~M~ A list of information elements that are to be returned as
a group for each MM to be listed in the MM1_mmbox_view.RES. If absent, the
default list (i.e. Message ID, Date and time, Sender address, Subject, Message
size, MM State, and MM Flags) shall apply. Message Selection O~M~ A list of MM
State or MM Flags keywords (e.g. new or draft) or a list of Message Reference
by which MMs within the MMBox can be selected. If both are absent, a listing
of all MMs currently stored within the MMBox shall be selected. Start O~M~ A
number, indicating the index of the first MM of those selected to have
information elements returned in the response. If this is absent, the first
item selected is returned. Limit O~M~ A number indicating the maximum number
of selected MMs to their information elements returned in the response. If
this is absent, information elements from all remaining MMs are returned.
Totals requested O~M~ This field indicates whether the current total number of
messages and/or size contained by the MMBox has been requested by the managing
MMS User Agent. Quotas requested O~M~ This field indicates whether the current
message and/or size quotas (i.e. the maximum number of messages allowed and/or
the maximum size allowed) has been requested by the managing MMS User Agent.
MM listing O~M~ The requested listing of the selected MMs, which shall be one
or more groups of information elements, one for each MM listed. Each MM group
shall include: a Message Reference, and may include additional information
elements as well. If absent, no MMs were found or selected. Request Status
Code O~M~ The status code of the request to view the MM as received in the
MM1_view.RES. Status Text O~C~ This field includes the status text as received
in the MM1_view.RES corresponding to the Request Status Code. Present only if
provided in the MM1_view.RES. Totals O~C~ The total number of messages and/or
octets for the MMBox, identified with Messages or Octets, respectively,
depending upon the presence of Totals in the request. Quotas O~C~ The quotas
of the MMBox in messages and/or octets identified with Messages or Octets,
respectively, depending upon the presence of Quotas in the request. Sequence
Number O~M~ Record number. Time Stamp O~M~ Time of generation of the CDR.
Serving network identity O~C~ If present this parameter holds the SGSN PLMN
Identifier (MCC and MNC) used during this record. RAT Type O~C~ The radio
access technology used during this record. MS Time Zone OC This field contains
the MS Time Zone the MMS User Agent is currently located, if available. Record
extensions O~C~ A set of network/manufacturer specific extensions to the
record.
* * *
#### 6.1.4.3 MMBox MM1 Upload record (Bx1U-CDR)
If enabled, an MMBox MM1 Upload Bx1U-CDR shall be produced in the MMS R/S if
and when the MMS R/S has sent an MM1_mmbox_upload.RES to the MMS User Agent.
Table 6.1.4.3.1: MMBox MM1 Upload record (Bx1U-CDR)
* * *
Field Category Description Record Type M MMBox MM1 Upload record MMS
Relay/Server Address M An address of the MMS R/S. Managing address M The
address of the managing MMS User Agent (i.e., of the MMS User Agent that sends
the MM1_mmbox_upload.REQ). Access Correlation O~M~ A unique identifier
delivered by the used access network domain of the originator MMS User Agent.
Message class O~C~ The class of the MM (e.g., personal, advertisement,
information service) if provided by the MMS User Agent. Upload Time O~M~ The
time and date at which the MM was uploaded (time stamp). Time of Expiry O~C~
The desired date of expiry or duration of time prior to expiry for the MM if
specified by the originator MMS User Agent Earliest Time Of Delivery O~C~ This
field contains either the earliest time to deliver the MM or the number of
seconds to wait before delivering the MM if specified by the originator MMS
User Agent Priority O~C~ This field indicates the priority (importance) of the
message if specified by the MMS User Agent, MM State O~M~ The state of the MM.
Will default to the Draft state if absent MM Flags O~C~ If available, the
keyword flags of the MM. There are no defaults. Content type O~M~ The content
type of the MM content. Message size O~M~ The size of the MM. Message
Reference O~M~ A reference to the newly stored MM, suitable for subsequent
usage (e.g.: with MM1_retrieve.REQ, MM1_mmbox_delete.REQ, etc.). Request
Status Code O~M~ The status code of the request to view the MM as received in
the MM1_upload.RES. Status Text O~C~ This field includes the status text as
received in the MM1_upload.RES corresponding to the Request Status Code.
Present only if provided in the MM1_upload.RES. Sequence Number O~M~ Record
number. Time Stamp O~M~ Time of generation of the CDR. Serving network
identity O~C~ If present this parameter holds the SGSN PLMN Identifier (MCC
and MNC) used during this record. RAT Type O~C~ The radio access technology
used during this record.. MS Time Zone O~C~ This field contains the MS Time
Zone the MMS User Agent is currently located, if available. Record extensions
O~C~ A set of network/manufacturer specific extensions to the record.
* * *
#### 6.1.4.4 MMBox MM1 Delete record (Bx1D-CDR)
If enabled, an MMBox MM1 Delete Bx1D-CDR shall be produced in the MMS R/S if
and when the MMS R/S has sent an MM1_mmbox_delete.RES to the MMS User Agent.
Table 6.1.4.4.1: MMBox MM1 Delete record (Bx1D-CDR)
* * *
Field Category Description Record Type M MMBox MM1 Delete record MMS
Relay/Server Address M An address of the MMS R/S. Managing address M The
address of the managing MMS User Agent (i.e., of the MMS User Agent that sends
the MM1_mmbox_upload.REQ). Access Correlation O~M~ A unique identifier
delivered by the used access network domain of the originator MMS User Agent.
Message Reference O~C~ A reference to the message in error, if any, to which
the following information elements apply Request Status Code O~M~ The status
code of the request to view the MM as received in the MM1_delete.RES. Status
Text O~C~ This field includes the status text as received in the
MM1_delete.RES corresponding to the Request Status Code. Present only if
provided in the MM1_delete.RES. Sequence Number O~M~ Record number. Time Stamp
O~M~ Time of generation of the CDR. Serving network identity O~C~ If present
this parameter holds the SGSN PLMN Identifier (MCC and MNC) used during this
record. RAT Type O~C~ The radio access technology used during this record. MS
Time Zone OC This field contains the MS Time Zone the MMS User Agent is
currently located, if available. Record extensions O~C~ A set of
network/manufacturer specific extensions to the record.
* * *
### 6.1.5 MMS records for MMS VAS applications
#### 6.1.5.0 General
The following subclauses specify CDRs created in the Originator MMS R/S based
on messages flowing over the MM7 reference point. Unless otherwise specified,
the CDR parameters are copied from the corresponding MM7 message parameters as
applicable.
#### 6.1.5.1 MM7 Submission record (MM7S-CDR)
If enabled, an MM7 Submission MM7S-CDR shall be produced in the MMS R/S for
each MM submitted in an MM7_submit.REQ by a VASP to the MMS R/S if and when
the MMS R/S responds with an MM7_submit.RES. The operator can configure
whether this CDR, if enabled, shall only be created for MM7_submit.RES
indicating acceptance of the submitted MM, or also for the unsuccessful
submissions.
Table 6.1.5.1.1: MM7 Submission record (MM7S-CDR)
+----------------------------+----------+----------------------------+ | Field | Category | Description | +----------------------------+----------+----------------------------+ | Record Type | M | MM7 Submission record. | +----------------------------+----------+----------------------------+ | Originator MMS | M | .IP address or domain name | | Relay/Server Address | | of Originator MMS R/S. | +----------------------------+----------+----------------------------+ | Linked ID | C | This field is present in | | | | the CDR only if the MM | | | | defines a correspondence | | | | to a previous message that | | | | was delivered by the MMS | | | | R/S. The MM identification | | | | provided by the Originator | | | | MMS R/S. | +----------------------------+----------+----------------------------+ | VASP ID | M | Identifier of the VASP for | | | | this MMS R/S | +----------------------------+----------+----------------------------+ | VAS ID | M | Identifier of the | | | | originating application. | +----------------------------+----------+----------------------------+ | Message ID | M | The MM identification | | | | provided by the Originator | | | | MMS R/S. | +----------------------------+----------+----------------------------+ | Originator Address | M | The address of the MM | | | | Originator. | +----------------------------+----------+----------------------------+ | Recipients address list | M | The address(es) of the | | | | Recipient MMS User | | | | Agent(s) of the MM. | | | | Multiple addresses are | | | | possible if the MM is not | | | | a reply MM. | +----------------------------+----------+----------------------------+ | Service code | O**~C~** | Charging related | | | | information that is used | | | | directly for billing | | | | purposes | +----------------------------+----------+----------------------------+ | Content type | M | The content type of the MM | | | | content. | +----------------------------+----------+----------------------------+ | Content Class | O~C~ | This field classifies the | | | | content of the MM to the | | | | smallest content class to | | | | which the MM belongs, if | | | | specified in the | | | | MM7_submit_REQ | +----------------------------+----------+----------------------------+ | DRM Content | O~C~ | This field indicates if | | | | the MM contains | | | | DRM-protected content, if | | | | specified in the | | | | MM7_submit_REQ | +----------------------------+----------+----------------------------+ | Adaptations | O~C~ | This field indicates if | | | | the Originator allows | | | | adaptation of the content | | | | (default True), if | | | | specified in the | | | | MM7_submit_REQ | +----------------------------+----------+----------------------------+ | MM component list | O~M~ | The list of media | | | | components with volume | | | | size. | +----------------------------+----------+----------------------------+ | Message size | M | The total size of the MM | | | | content. | +----------------------------+----------+----------------------------+ | Message class | O~C~ | The class selection such | | | | as personal, | | | | advertisement, information | | | | service if specified in | | | | the MM7_submit_REQ. | +----------------------------+----------+----------------------------+ | Charge Information | O~M~ | The charged party | | | | indication and charge type | | | | e.g. the sending, | | | | receiving, both parties, | | | | third party or neither. | +----------------------------+----------+----------------------------+ | Submission Time | O~C~ | The time at which the MM | | | | was submitted from the | | | | VASP if specified in the | | | | MM7_submit_REQ. | +----------------------------+----------+----------------------------+ | Time of Expiry | O~C~ | The desired date of expiry | | | | or duration of time prior | | | | to expiry for the MM if | | | | specified by the VASP | +----------------------------+----------+----------------------------+ | Earliest Time Of Delivery | C | This field contains either | | | | the earliest time to | | | | deliver the MM or the | | | | number of seconds to wait | | | | before delivering the MM | | | | if specified by the VASP | +----------------------------+----------+----------------------------+ | Delivery Report Requested | O~M~ | This field indicates | | | | whether a delivery report | | | | has been requested by the | | | | VASP or not. | +----------------------------+----------+----------------------------+ | Reply Charging | O~C~ | A request for | | | | reply-charging if | | | | specified by the VASP | +----------------------------+----------+----------------------------+ | Read reply requested | O~M~ | A request for read-reply | | | | report as specified in the | | | | MM7_submit.REQ. | +----------------------------+----------+----------------------------+ | Reply Deadline | O~C~ | In case of reply-charging | | | | the latest time of | | | | submission of replies | | | | granted to the | | | | recipient(s) as specified | | | | by the VASP | +----------------------------+----------+----------------------------+ | Reply Charging Size | O~C~ | In case of reply-charging | | | | the maximum size for | | | | reply-MM(s) granted to the | | | | recipient(s) as specified | | | | by the VASP | +----------------------------+----------+----------------------------+ | Priority | O~C~ | The priority (importance) | | | | of the message if | | | | specified by the VASP | +----------------------------+----------+----------------------------+ | Charged Party ID | O~C~ | The address of the third | | | | party which is expected to | | | | pay for the MM. | +----------------------------+----------+----------------------------+ | Message Distribution | O~C~ | This field is present if | | Indicator | | specified in the | | | | MM7_submit.REQ | | | | | | | | If set to \"false\" the | | | | VASP has indicated that | | | | content of the MM is not | | | | intended for | | | | redistribution. | | | | | | | | If set to \"true\" the | | | | VASP has indicated that | | | | content of the MM can be | | | | redistributed. | +----------------------------+----------+----------------------------+ | Request Status Code | O~M~ | The status code of the | | | | associated | | | | MM7_submit_REQ | +----------------------------+----------+----------------------------+ | Status Text | O~C~ | This field includes a more | | | | detailed technical status | | | | of the message at the | | | | point in time when the CDR | | | | is generated. This field | | | | is only present if the MM | | | | submission is rejected. | +----------------------------+----------+----------------------------+ | MSCF Information | O~C~ | A set of parameters | | | | provided by the MSCF when | | | | interacting with the MMS | | | | R/S via the MM10 interface | | | | prior to the | | | | MM7_submit.RES | +----------------------------+----------+----------------------------+ | Applic-ID | O~C~ | If present, this field | | | | holds the identification | | | | of the destination | | | | application that the | | | | underlying MMS abstract | | | | message was addressed to. | +----------------------------+----------+----------------------------+ | Reply-Applic-ID | O~C~ | If present, this parameter | | | | indicates a "reply path", | | | | i.e. the identifier of the | | | | application to which | | | | delivery reports, | | | | read-reply reports and | | | | reply-MMs are addressed. | +----------------------------+----------+----------------------------+ | Aux-Applic-Info | O~C~ | If present, this parameter | | | | indicates additional | | | | application/implementation | | | | specific control | | | | information. | +----------------------------+----------+----------------------------+ | Record Time Stamp | O~M~ | Time of generation of the | | | | CDR. | +----------------------------+----------+----------------------------+ | Local Record Sequence | O~M~ | Consecutive record number | | Number | | created by this node. The | | | | number is allocated | | | | sequentially including all | | | | CDR types. | +----------------------------+----------+----------------------------+ | Record extensions | O~C~ | A set of | | | | network/manufacturer | | | | specific extensions to the | | | | record. Conditioned upon | | | | the existence of an | | | | extension. | +----------------------------+----------+----------------------------+
#### 6.1.5.2 MM7 Deliver Request record (MM7DRq-CDR)
If enabled, a MM7 Deliver Request MM7DRq-CDR shall be produced in the MMS R/S
if and when the MMS R/S sends an MM7_deliver.REQ to the Recipient MMS VASP.
Table 6.1.5.2.1: MM7 Deliver Request record (MM7DRq -CDR)
* * *
Field Category Description Record Type M MM7 Deliver Request record. Recipient
MMS Relay/Server Address M IP address or domain name of the Recipient MMS R/S.
Linked ID C This field is present in the CDR only if the MM defines a
correspondence to a previous message that was delivered by the MMS R/S. The MM
identification provided by the Originator MMS R/S. Reply Charging ID C This
field is present in the CDR only if the MM is a reply-MM to an original MM.
The Reply-Charging ID is the Message ID of the original MM. Originator address
M The address of the MMS User Agent as used in the MM7_deliver_REQ. Recipient
address M The address of the MM recipient of the MM. MM component list O~M~
The list of media components with volume size. Message size O~M~ The total
size of the MM content. Content type M The content type of the MM content. MMS
User Agent Capabilities O~C~ Information about the capabilities of the MMS
User Agent that originated the MM. Present only if provided in the
MM7_deliver.REQ. Priority O~C~ The priority (importance) of the message if
specified by the VASP Applic-ID O~C~ If present, this field holds the
identification of the destination application that the underlying MMS abstract
message was addressed to. Reply-Applic-ID O~C~ If present, this parameter
indicates a "reply path", i.e. the identifier of the application to which
delivery reports, read-reply reports and reply-MMs are addressed. Aux-Applic-
Info O~C~ If present, this parameter indicates additional
application/implementation specific control information. Record Time Stamp
O~M~ Time of generation of the CDR Local Record Sequence Number O~M~
Consecutive record number created by this node. The number is allocated
sequentially including all CDR types. Record extensions O~C~ A set of
network/manufacturer specific extensions to the record. Conditioned upon the
existence of an extension.
* * *
#### 6.1.5.3 MM7 Deliver Response record (MM7DRs-CDR)
If enabled, a MM7 Deliver Response MM7DRs-CDR shall be produced in the MMS R/S
if and when the MMS R/S receives an MM7_deliver.RES from the Recipient MMS
VASP.
Table 6.1.5.3.1: MM7 Deliver Response record (MM7DRs-CDR)
* * *
Field Category Description Record Type M MM7 Deliver Response record.
Recipient MMS Relay/Server Address M IP address or domain name of the
Recipient MMS R/S. Message ID M The MM identification provided by the
Originator MMS R/S. Recipient address M The address of the MM recipient of the
MM. Service code O~C~ Charging related information that is used directly for
billing purposes Request Status Code O~M~ The status code of the associated
MM7_deliver_REQ Status Text O~M~ This field includes a more detailed technical
status of the message at the point in time when the CDR is generated. Record
Time Stamp O~M~ Time of generation of the CDR Local Record Sequence Number
O~M~ Consecutive record number created by this node. The number is allocated
sequentially including all CDR types. Record extensions O~C~ A set of
network/manufacturer specific extensions to the record. Conditioned upon the
existence of an extension.
* * *
#### 6.1.5.4 MM7 Cancel record (MM7C-CDR)
If enabled, an MM7 Cancel MM7C-CDR shall be produced in the MMS R/S if and
when the MMS R/S has sent an MM7_cancel.RES to the MMS VASP.
Table 6.1.5.4.1: MM7 Cancel record (MM7C-CDR)
* * *
Field Category Description Record Type M MM7 Cancel record Recipient MMS
Relay/Server Address M IP address or domain name of Recipient MMS R/S. VASP ID
M Identifier of the VASP for this MMS R/S VAS ID M Identifier of the
originating application. Message ID M The MM identification provided by the
Originator MMS R/S. Originator Address M The address of the MM Originator.
Content Class O~C~ This field classifies the content of the MM to the smallest
content class to which the MM belongs, if specified in the MM7_cancel_REQ DRM
Content O~C~ This field indicates if the MM contains DRM-protected content, if
specified in the MM7_ cancel_REQ Adaptations O~C~ This field indicates if the
Originator allows adaptation of the content (default True), if specified in
the MM7_ cancel_REQ Request Status Code O~M~ The status code of the associated
MM7_cancel.REQ. Status Text O~C~ This field includes the status text as
received in the MM7_cancel.RES corresponding to the Request Status Code.
Present only if provided in the MM7_cancel.RES. Applic-ID O~C~ If present,
this field holds the identification of the destination application that the
underlying MMS abstract message was addressed to. Reply-Applic-ID O~C~ If
present, this parameter indicates a "reply path", i.e. the identifier of the
application to which delivery reports, read-reply reports and reply-MMs are
addressed. Aux-Applic-Info O~C~ If present, this parameter indicates
additional application/implementation specific control information. Sequence
Number O~M~ Record number. Time Stamp O~M~ Time of generation of the CDR.
Record extensions O~C~ A set of network/manufacturer specific extensions to
the record.
* * *
#### 6.1.5.5 MM7 Replace record (MM7R-CDR)
If enabled, an MM7 Replace MM7R-CDR shall be produced in the MMS R/S if and
when the MMS R/S has sent an MM7_replace.RES to the MMS VASP.
Table 6.1.5.5.1: MM7 Replace record (MM7R-CDR)
* * *
Field Category Description Record Type M MM7 Replace record Recipient MMS
Relay/Server Address M IP address or domain name of Recipient MMS R/S. VASP ID
M Identifier of the VASP for this MMS R/S VAS ID M Identifier of the
originating application. Message ID M The MM identification provided by the
Originator MMS R/S. Originator Address M The address of the MM Originator.
Service code O**~C~** Charging related information that is used directly for
billing purposes Content type M The content type of the MM content. Submission
time O~C~ The time at which the MM was submitted from the VASP if specified in
the MM7_replace_REQ. Time of Expiry O~C~ The desired date of expiry or
duration of time prior to expiry for the MM if specified by the VASP Earliest
Time Of Delivery O~C~ This field contains either the earliest time to deliver
the MM or the number of seconds to wait before delivering the MM if specified
by the VASP Request Status Code O~M~ The status code of associated
MM7_replace.REQ. Status Text O~C~ This field includes the status text as
received in the MM7_replace.RES corresponding to the Request Status Code.
Present only if provided in the MM7_replace.RES. Applic-ID O~C~ If present,
this field holds the identification of the destination application that the
underlying MMS abstract message was addressed to. Reply-Applic-ID O~C~ If
present, this parameter indicates a "reply path", i.e. the identifier of the
application to which delivery reports, read-reply reports and reply-MMs are
addressed. Aux-Applic-Info O~C~ If present, this parameter indicates
additional application/implementation specific control information. Sequence
Number O~M~ Record number Time Stamp O~M~ Time of generation of the CDR.
Record extensions O~C~ A set of network/manufacturer specific extensions to
the record.
* * *
#### 6.1.5.6 MM7 Delivery Report Request record (MM7DRRq-CDR)
If enabled, a MM7 Delivery Report Request MM7DRRq-CDR shall be produced in the
MMS R/S if and when the MMS R/S sends an MM7_delivery_report.REQ to the MMS
VASP.
Table 6.1.5.6.1: MM7 Delivery Report Request record (MM7DRRq-CDR)
* * *
Field Category Description Record Type M MM7 Delivery Report Requestrecord.
Recipient MMS Relay/Server Address O~M~ IP address or domain name of the
Recipient MMS R/S. Message ID M The MM identification provided by the
Originator MMS R/S. Originator address O~M~ The address of the VAS that
submitted the original MM. Recipient address M The address of the MM recipient
of the MM. MM Date and time M Date and time the MM was handled (retrieved,
expired, rejected, etc.) as specified in the MM7_delivery_report.REQ. MM
Status Code M The status code of the delivered MM as received in the
MM7_delivery_report.RES. MM Status Text O~C~ This field includes the status
text as received in the MM7_delivery_report.RES corresponding to the MM Status
Code. Present only if provided in the MM7_delivery_report.RES. MMS User Agent
Capabilities O~C~ Information about the capabilities of the MMS User Agent
that originated the MM. Present only if provided in the
MM7_delivery_report.REQ. Applic-ID O~C~ If present, this field holds the
identification of the destination application that the underlying MMS abstract
message was addressed to. Reply-Applic-ID O~C~ If present, this parameter
indicates a "reply path", i.e. the identifier of the application to which
delivery reports, read-reply reports and reply-MMs are addressed. Aux-Applic-
Info O~C~ If present, this parameter indicates additional
application/implementation specific control information. Record Time Stamp
O~M~ Time of generation of the CDR Local Record Sequence Number O~M~
Consecutive record number created by this node. The number is allocated
sequentially including all CDR types. Record extensions O~C~ A set of
network/manufacturer specific extensions to the record. Conditioned upon the
existence of an extension.
* * *
#### 6.1.5.7 MM7 Delivery Report Response record (MM7DRRs-CDR)
If enabled, an MM7 Delivery Report Response MM7DRRs-CDR shall be produced in
the MMS R/S if and when the MMS R/S receives an MM7_delivery_report.RES from
the MMS VASP.
Table 6.1.5.7.1: MM7 Delivery Report Response record (MM7DRRs-CDR)
* * *
Field Category Description Record Type M MM7 Delivery Report Response record.
Recipient MMS Relay/Server Address O~M~ IP address or domain name of the
Recipient MMS R/S. Message ID M The MM identification provided by the
Originator MMS R/S. Originator address O~M~ The address of the VAS that
submitted the original MM. Recipient address M The address of the MM recipient
of the MM. Request Status Code O~M~ The status code of the associated
MM7_delivery_report.REQ. Status Text O~C~ This field includes the status text
as received in the MM7_delivery_report.RES corresponding to the Request Status
Code. Present only if provided in the MM7_delivery_report.RES. Record Time
Stamp O~M~ Time of generation of the CDR Local Record Sequence Number O~M~
Consecutive record number created by this node. The number is allocated
sequentially including all CDR types. Record extensions O~C~ A set of
network/manufacturer specific extensions to the record. Conditioned upon the
existence of an extension.
* * *
#### 6.1.5.8 MM7 Read Reply Report Request record (MM7RRq-CDR)
If enabled, a MM7 Read Reply Report Request MM7RRq-CDR shall be produced in
the MMS R/S if and when the Recipient MMS R/S sends an MM7_read
reply_report.REQ to the MMS VASP.
Table 6.1.5.8.1: MM7 Read Reply Report Request record (MM7RRq-CDR)
* * *
Field Category Description Record Type M MM7 Read reply report Requestrecord.
Recipient MMS Relay/Server Address O~M~ IP address or domain name of the
Recipient MMS R/S. Message ID M The MM identification provided by the
Originator MMS R/S. Originator address O~M~ The address of the VAS that
submitted the original MM. Recipient address M The address of the MM recipient
of the MM. MM Date and time M Date and time the MM was handled (retrieved,
expired, rejected, etc.) as specified in the MM7_Read reply_report.REQ. Read
Status M The status of the MM (e.g. Read, deleted without being read, etc.) as
sent in the MM7_read_reply_report.REQ. MM Status Text O~C~ This field includes
the status text as received in the MM7_read reply_report.RES corresponding to
the Read Status. Present only if provided in the MM7_read reply_report.REQ.
Applic-ID O~C~ If present, this field holds the identification of the
destination application that the underlying MMS abstract message was addressed
to. Reply-Applic-ID O~C~ If present, this parameter indicates a "reply path",
i.e. the identifier of the application to which delivery reports, read-reply
reports and reply-MMs are addressed. Aux-Applic-Info O~C~ If present, this
parameter indicates additional application/implementation specific control
information. Record Time Stamp O~M~ Time of generation of the CDR Local Record
Sequence Number O~M~ Consecutive record number created by this node. The
number is allocated sequentially including all CDR types. Record extensions
O~C~ A set of network/manufacturer specific extensions to the record.
Conditioned upon the existence of an extension.
* * *
#### 6.1.5.9 MM7 Read Reply Report Response record (MM7RRs-CDR)
If enabled, an MM7 Read Reply Report Response MM7RRs-CDR shall be produced in
the MMS R/S if and when the MMS R/S receives an MM7_Read reply_report.RES from
the Originator MMS VASP.
Table 6.1.5.9.1: MM7 Read Reply Report Response record (MM7RRs-CDR)
* * *
Field Category Description Record Type M MM7 Read reply report Response
record. Recipient MMS Relay/Server Address O~M~ IP address or domain name of
the Recipient MMS R/S. Message ID M The MM identification provided by the
Originator MMS R/S. Originator address O~M~ The address of the VAS that
submitted the original MM. Recipient address M The address of the MM recipient
of the MM. Request Status Code O~M~ The status code of the associated MM7_read
reply_report.REQ. Status Text O~C~ This field includes the status text as
received in the MM7_read reply_report.RES corresponding to the Request Status
Code. Present only if provided in the MM7_read reply_report.RES. Record Time
Stamp O~M~ Time of generation of the CDR Local Record Sequence Number O~M~
Consecutive record number created by this node. The number is allocated
sequentially including all CDR types. Record extensions O~C~ A set of
network/manufacturer specific extensions to the record. Conditioned upon the
existence of an extension.
* * *
#### 6.1.5.10 MM7 Extended Cancel record (MM7EC-CDR)
If enabled, an MM7 Extended Cancel MM7EC-CDR shall be produced in the MMS R/S
if and when the MMS R/S has sent an MM7_extended_cancel.RES to the MMS VASP.
Table 6.1.5.10.1: MM7 Extended Cancel record (MM7EC-CDR)
* * *
Field Category Description Record Type M MM7 Extended Cancel record Recipient
MMS Relay/Server Address M IP address or domain name of Recipient MMS R/S.
VASP ID M Identifier of the VASP for this MMS R/S VAS ID M Identifier of the
originating application. Cancel ID M The identification of the cancelled MM
Request Status Code O~M~ The status code of the associated MM7_cancel.REQ.
Sequence Number O~M~ Record number. Time Stamp O~M~ Time of generation of the
CDR. Record extensions O~C~ A set of network/manufacturer specific extensions
to the record.
* * *
#### 6.1.5.11 MM7 Extended Replace record (MM7ER-CDR)
If enabled, an MM7 Extended Replace MM7ER-CDR shall be produced in the MMS R/S
if and when the MMS R/S has sent an MM7_extended_replace.RES to the MMS VASP.
Table 6.1.5.11.1: MM7 Extended Replace record (MM7ER-CDR)
* * *
Field Category Description Record Type M MM7 Extended Replace record Recipient
MMS Relay/Server Address M IP address or domain name of Recipient MMS R/S.
VASP ID M Identifier of the VASP for this MMS R/S VAS ID M Identifier of the
originating application. Message ID M The MM identification provided by the
Originator MMS R/S. Service code O~C~ Charging related information that is
used directly for billing purposes Content type M The content type of the MM
content. Submission time O~C~ The time at which the MM was submitted from the
VASP if specified in the MM7_replace_REQ. Earliest Time Of Delivery O~C~ This
field contains either the earliest time to deliver the MM or the number of
seconds to wait before delivering the MM if specified by the VASP Request
Status Code O~M~ The status code of associated MM7_extended_replace.REQ.
Sequence Number O~M~ Record number Time Stamp O~M~ Time of generation of the
CDR. Record extensions O~C~ A set of network/manufacturer specific extensions
to the record.
* * *
## 6.2 Data description for MMS online charging
### 6.2.1 Ro message contents
#### 6.2.1.0 General
The MMS R/S generate Debit / Reserve Units information that can be transferred
from the CTF to the OCF. For this purpose, MMS online charging utilises the
_Debit Units and Reserve Units_ procedure that is specified in the 3GPP Debit
/ Reserve Units operation in TS 32.299 [50].
The _Debit / Reserve Units_ procedure employs the _Debit / Reserve Units
Request_ and _Debit / Reserve Units Response_ messages.
Table 6.2.1.1 describes the use of these messages for MMS online charging.
Table 6.2.1.1: MMS online charging messages contents
* * *
Message Source Destination  
Debit / Reserve Units Request MMS R/S OCS  
Debit / Reserve Units Response OCS MMS R/S
* * *
This clause describes the different fields used in the Credit-Ccontrol
messages.
Note that not for all structured fields the individual parameters are listed
in the table. Detailed descriptions of the fields are provided in TS 32.299
[50].
#### 6.2.1.1 Debit / Reserve Units Request message
Table 6.2.1.1.1 illustrates the basic structure of a _Debit / Reserve Units
Request_ message from MMS R/S as used for MMS online charging.
Table 6.2.1.1.1: _Debit / Reserve Units Request_ message contents for MMS
* * *
Information Element Category Description Session Identifier M This field
identifies the operation session. Originator Host M This field contains the
identification of the source point of the operation. Originator Domain M This
field contains the realm of the operation Originator. Destination Domain M
This field contains the realm of the operation destination. Operation
Identifier M This field is a unique operation identifier. Operation Token M
This field contains the service identifier. Operation Type M This field
defines the transfer type: event for event based charging and start, interim,
stop for session based charging. Operation Number M This field contains the
sequence number of the transferred messages. Destination Host O**~C~** This
field contains the identification of the destination point of the operation.
User Name O**~C~** This field contains the identification of the user.
Origination State - Not used for MMS in 3GPP. OrignationTimestamp O**~C~**
This field contains the time when the operation is requested. Subscriber
Identifier O**~M~** This field contains the identification of the mobile
subscriber (i.e. MSISDN) that uses the requested service. Termination Cause -
Not used for MMS in 3GPP. Requested Action O**~C~** This field contains the
requested action. Multiple Operation O~M~ This field indicate the occurrence
of multiple operations. Multiple Unit Operation O~C~ This field contains the
parameter for the quota management. Subscriber Equipment Number - Not used for
MMS in 3GPP. Proxy Information O~C~ This field contains the parameter of the
proxy. Route Information O~C~ This field contains the parameter of the route.
Service Information O**~M~** This field holds the MMS specific parameter and
is described in clause 6.3.
* * *
#### 6.2.1.2 Debit / Reserve Units Response message
Table 6.2.1.2.1 illustrates the basic structure of a Debit / Reserve Units
Response message as used for MMS charging. This message is always used by the
OCS as specified below, independent of the receiving MMS R/S and the operation
type that is being replied to.
Table 6.2.1.2.1: Debit / Reserve Units Response message contents for MMS
* * *
Information Element Category Description Session Identifier M This field
identifies the operation session. Operation Result M This field identifies the
result of the operation. Originator Host M This field contains the
identification of the source point of the operation. Originator Domain M This
field contains the realm of the operation Originator. Operation Identifier M
This field is a unique operation identifier. Operation Type M This field
defines the transfer type: event for event based charging and start, interim,
stop for session based charging. Operation Number M This field contains the
sequence number of the transferred messages. Operation Failover - Not used for
MMS in 3GPP. Multiple Unit Operation O~C~ This field contains the parameter
for the quota management. Operation Failure Action O**~C~** This field defines
the operation if a failure has occurred at the OCS for ECUR. Operation Event
Failure Action O~C~ This field defines the operation if a failure has occurred
at the OCS for IEC. Redirection Host - Not used for MMS in 3GPP. Redirection
Host Usage - Not used for MMS in 3GPP. Redirection Cache Time - Not used for
MMS in 3GPP. Proxy Information O~C~ This field contains the parameter of the
proxy. Route Information O~C~ This field contains the parameter of the route.
Failed parameter O~C~ This field contains missing and/or unsupported parameter
that caused the failure. Service Information - Not used for MMS in 3GPP.
* * *
## 6.3 MMS charging specific parameters
### 6.3.0 General
The MMS Information parameter used for MMS charging is provided in the Service
Information parameter.
### 6.3.1 MMS charging information assignment for Service Information
The components in the Service Information that are use for MMS charging can be
found in table 6.3.1.1.
Table 6.3.1.1: Service Information used for MMS charging
* * *
Information Element Category Description Service Information O~M~ This is a
structured field and holds the 3GPP specific parameter as defined in TS 32.299
[50]. For MMS Charging the MMS-Information and PS-Information are used. MMS
Information O~M~ This is a structured field and holds the MMS specific
parameters. The details are defined in table 6.3.2. SMS Information O~C~ This
is a structured field and holds PS specific parameters relevant to MMS. The
complete structure is defined in TS 32.274 [34]. Originator SCCP Address O~C~
This field holds the SCCP calling address used to receive the MMS. Recipient
Info O~C~ This field holds recipient information for the MMS. It occurs at
most one time in the MMS delivery case. PS Information O~C~ This is a
structured field and holds PS specific parameters relevant to MMS. The
complete structure is defined in TS 32.251 [11]. 3GPP User Location Info O~C~
This field holds the information about the location of the subscriber during
the MMS transaction. Only applicable to online charging. 3GPP RAT Type O~C~
This field holds information about the radio access technology used for the
MMS transaction. PDP Address O~C~ This field holds the IP address used by the
subscriber for the MMS transaction. MS Time Zone O~C~ This field indicates the
offset between universal time and local time in steps of 15 minutes of where
the MS currently resides.
* * *
### 6.3.2 Definition of the MMS Information
MMS specific charging information is provided within the MMS Information. The
detailed structure of the MMS Information parameter can be found in table
6.3.2.1.
Table 6.3.2.1: Structure of the MMS Information
* * *
Information Element Category Description
Originator Address O~C~ This field holds the address (Public User ID: SIP URL,
E.164, etc.) of the party generating the MMS.
Recipient Address O~C~ This field holds the address (Public User ID: SIP URL,
E.164, etc.) of the party to whom the MMS is sent.
Correlation Information O~M~ Bearer correlation information
Submission Time O~C~ The time at which the MM was submitted or forwarded as
specified in the corresponding MM1 message.
MM Content Type O~C~ The content type of the MM content.
Priority O~C~ The priority (importance) of the message if specified by the
originator MMS User Agent.
Message ID O~C~ This field holds the MM identification provided by the
Originator MMS R/S.
Message Type O~C~ This field holds the type of the message according to the
MMS transactions e.g. submission, delivery.
Message Size O~C~ This field holds the total size of the MMS.
Message Class O~C~ The class of the MM (e.g., personal, advertisement,
information service) if specified by the originator MMS User Agent.
Delivery Report Requested O~C~ This field indicates whether a delivery report
has been requested by the originator MMS User Agent or not.
Read Reply Report Requested O~C~ A request for read-reply report as specified
in the MM1 message.
MMBox Storage Requested O~C~ This parameter is only present if the MMBox
feature is supported by the MMS R/S and storage of the MM was requested by\
originator MMS User Agent (i.e., of the MMS User Agent that has sent the
MM1_submit.REQ).
Applic ID O~C~ This field holds the identification of the destination
application that the underlying MMS abstract message was addressed to.
Reply Applic ID O~C~ This field holds the identifier of a "reply path", i.e.
the identifier of the application to which delivery reports, read-reply
reports and reply-MMs are addressed.
Aux Applic Info O~C~ This field holds additional application/implementation
specific control information.
Content Class O~C~ This field classifies the content of the MM to the smallest
content class to which the MM belongs
DRM Content O~C~ This field indicates if the MM contains DRM-protected
content.
Adaptations O~C~ This field indicates if the Originator allows adaptation of
the content (default True).
VAS Identifier O~C~ This field indicates the VAS that originated the MM. Only
present in MM1 Retrieval and if the MM was received over an MM7 interface.
VASP Identifier O~C~ This field indicates the VASP that originated the MM.
Only present in MM1 Retrieval and if the MM was received over an MM7
interface.
* * *
### 6.3.3 Detailed message format for online charging
Editor\'s note: TBD.
### 6.3.4 Formal MMS charging parameter description
#### 6.3.4.1 MMS charging information for CDRs
The detailed definitions, abstract syntax and encoding of the MMS CDR
parameters are specified in TS 32.298 [51].
#### 6.3.4.2 MMS charging information for charging events
The detailed charging event parameter definitions are specified in TS 32.299
[50].
###### ## Annex A (informative): Bibliography
**a) The 3GPP charging specifications**
\- 3GPP TS 32.251: \"Telecommunication management; Charging management; Packet
Switched (PS) domain charging\".
\- 3GPP TS 32.252: \"Telecommunication management; Charging management;
Wireless Local Area Network (WLAN) charging\".
\- 3GPP TS 32.260: \"Telecommunication management; Charging management; IP
Multimedia Subsystem (IMS) charging\".
\- 3GPP TS 32.271: \"Telecommunication management; Charging management;
Location Services (LCS) charging\".
\- 3GPP TS 23.125: \"Overall High Level Functionality and Architecture Impacts
of Flow Based Charging; Stage 2\"
**b) Common 3GPP specifications**
\- 3GPP TS 22.101: \"Service aspects; Service Principles\".
\- 3GPP TS 22.115: \"Service aspects; Charging and billing\".
\- 3GPP TS 23.002: \"Network Architecture\".
\- 3GPP TS 23.003: \"Numbering, addressing and identification\".
\- 3GPP TS 27.001: \"General on Terminal Adaptation Functions (TAF) for Mobile
Stations (MS)\".
**c) other Domain and Service specific 3GPP / ETSI specifications**
**-**
**d) Relevant ITU Recommendations**
\- ITU-T Recommendation D.93: \"Charging and accounting in the international
land mobile telephone service (provided via cellular radio systems)\".
\- ITU-T Recommendation E.164: \"The international public telecommunication
numbering plan\".
\- ITU-T Recommendation Q.767: \"Application of the ISDN user part of CCITT
signalling System No.7 for international ISDN interconnections\".
\- ITU-T Recommendation X.25: \"Interface between Data Terminal Equipment
(DTE) and Data Circuit-terminating Equipment (DCE) for terminals operating in
the packet mode and connected to public data networks by dedicated circuit\".
\- ITU-T Recommendation X.121: \"International numbering plan for public data
networks\".
**e) Relevant IETF RFCs**
\- IETF RFC 959 (1985): \"File Transfer Protocol\".
\- IETF RFC 1350: \"The TFT Protocol (Revision 2)\"
#