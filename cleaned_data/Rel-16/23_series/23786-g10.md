# Foreword
This Technical Report has been produced by the 3rd Generation Partnership
Project (3GPP).
The contents of the present document are subject to continuing work within the
TSG and may change following formal TSG approval. Should the TSG modify the
contents of the present document, it will be re-released by the TSG with an
identifying change of release date and an increase in version number as
follows:
Version x.y.z
where:
x the first digit:
1 presented to TSG for information;
2 presented to TSG for approval;
3 or greater indicates TSG approved document under change control.
y the second digit is incremented for all changes of substance, i.e. technical
enhancements, corrections, updates, etc.
z the third digit is incremented when editorial only changes have been
incorporated in the document.
# 1 Scope
The objective of this Technical Report is to identify and evaluate potential
architecture enhancements of EPS and 5G System design needed to support
advanced V2X services identified in TR 22.886 [2], based on vehicular services
requirements defined in TS 22.185 [3] and TS 22.186 [4] and determine which of
the solutions can proceed to normative specifications.
In Rel-15, the study focuses on EPS.
# 2 References
The following documents contain provisions which, through reference in this
text, constitute provisions of the present document.
\- References are either specific (identified by date of publication, edition
number, version number, etc.) or nonâ€‘specific.
\- For a specific reference, subsequent revisions do not apply.
\- For a non-specific reference, the latest version applies. In the case of a
reference to a 3GPP document (including a GSM document), a non-specific
reference implicitly refers to the latest version of that document _in the
same Release as the present document_.
[1] 3GPP TR 21.905: \"Vocabulary for 3GPP Specifications\".
[2] 3GPP TR 22.886: \"Study on enhancement of 3GPP Support for 5G V2X
Services\".
[3] 3GPP TS 22.185: \"Service requirements for V2X services; Stage 1\".
[4] 3GPP TS 22.186: \"Enhancement of 3GPP support for V2X scenarios; Stage
1\".
[5] 3GPP TS 23.285: \"Architecture enhancements for V2X services\".
[6] 3GPP TS 22.278: \"Service requirements for the Evolved Packet System
(EPS)\".
[7] 3GPP TS 23.501: \"System Architecture for the 5G System; Stage 2\".
[8] 3GPP TS 23.303: \"Proximity-based Services (ProSe); Stage 2\".
[9] 3GPP TS 23.502: \"Procedures for the 5G System; Stage 2\".
[10] 3GPP TS 23.503: \"Policy and Charging Control Framework for the 5G
System; Stage 2\".
[11] 3GPP TS 33.303: \"Proximity-based Services (ProSe); Security aspects\".
[12] 3GPP TS 23.203: \"Policy and charging control architecture\".
[13] 3GPP TS 24.334: \"Proximity-services (ProSe) User Equipment (UE) to ProSe
function protocol aspects; Stage 3\".
[14] 3GPP TS 36.440: \"General aspects and principles for interfaces
supporting Multimedia Broadcast Multicast Service (MBMS) within E-UTRAN\".
[15] 3GPP TR 23.724: \"Study on Cellular IoT support and evolution for the 5G
System\".
[16] 3GPP TS 23.246: \"Multimedia Broadcast/Multicast Service (MBMS);
Architecture and functional description\".
[17] 3GPP TS 26.346: \"Multimedia Broadcast/Multicast Service (MBMS);
Protocols and codecs\".
[18] 3GPP TS 25.446: \"MBMS synchronisation protocol (SYNC)\".
[19] Void.
[20] Void.
[21] 3GPP TS 23.222: \"Functional architecture and information flows to
support Common API Framework for 3GPP Northbound APIs; Stage 2\".
[22] 3GPP TS 22.261: \"Service requirements for next generation new services
and markets\".
[23] 3GPP TS 23.288: \"Architecture enhancements for 5G System (5GS) to
support network data analytics services\".
[24] 3GPP TS 28.552: \"Management and orchestration; 5G performance
measurements\".
# 3 Definitions and abbreviations
## 3.1 Definitions
For the purposes of the present document, the terms and definitions given in
TR 21.905 [1], TS 23.285 [5] and TS 23.501 [7] apply.
## 3.2 Abbreviations
For the purposes of the present document, the abbreviations given in TR 21.905
[1], TS 23.285 [5], TS 23.501 [7] and the following apply. An abbreviation
defined in the present document takes precedence over the definition of the
same abbreviation, if any, in TR 21.905 [1].
CoR Categories of Requirements
LoA Level of Automation
RN Rank Notification
V2X AS V2X Application Server
V2XCF V2X Control Function
VQI V2X 5QI
# 4 Architectural Assumptions and Requirements
## 4.1 Architectural Assumptions
### 4.1.1 General
\- Architecture reference models defined in TS 23.285 [5] (i.e. PC5 and LTE-Uu
based V2X architecture reference model and MBMS for LTE-Uu based V2X
architecture reference model) are used as basis architecture for supporting
eV2X services in EPS.
\- For EPS based enhancement, it is assumed that AS layer impact for solutions
in this TR should be avoided as much as possible.
\- eV2X Groups are handled within the V2X application which is out of scope of
3GPP.
\- Architecture reference models defined in TS 23.501 [7] are used as baseline
architecture for supporting eV2X services in 5GS.
\- For V2X configuration of parameters known as Service Authorization and
Provisioning of the UE, the architecture is based on Alternative #1 (V2XCF as
part of the PCF) of Annex A.1 and parameters are provided by the PCF to the UE
via the AMF based on procedure in TS 23.502 [9] clause 4.2.4.3 \'UE
Configuration Update procedure for transparent UE Policy delivery\'.
\- The provisioning mechanism also includes pre-configuration in the UE (via
UICC or ME) and, either via V1 directly or via AF/PCF, parameter provisioning
to the UE from the V2X Application Server.
Editor\'s Note: This requires Stage 3 changes, e.g., to include the NR
parameters in the management objects.
### 4.1.2 PC5 and NG-RAN Uu based V2X architecture reference model
The high-level view of the non-roaming, roaming and inter-PLMN 5G System
architecture for PC5 and Uu based V2X communication are depicted in Figure
A.1.1.3-1, Figure A.1.1.3-2 and Figure A.1.1.3-3, respectively.
## 4.2 Architectural Requirements
Editor\'s note: This clause will define the architectural requirements based
on the normative stage-1 requirements defined in TS 22.185 [3], TS 22.186 [4]
and TS 22.278 [6].
# 5 Key Issues
Editor\'s note: This clause will describe the key issues for architecture
enhancements of EPS and 5G System to support advanced V2X services.
## 5.1 Key Issue #1: Support of eV2X Group Communication
### 5.1.1 General description
One of the main use cases for eV2X is Vehicle Platooning where vehicles of the
same platoon are involved in sharing the necessary information required to
support the platoon operations (for example, distance between vehicles,
relative speed, updates from RSU, etc.). Similar requirements apply also for
the Extended Sensor use case where UEs exchange data gathered through local
sensors or live video data among vehicles, Road Site Units, devices of
pedestrians and V2X application servers.
For both cases such sharing of information is supported by creating a specific
eV2X Group within a V2X application.
This key issue addresses how eV2X communication for these group of UEs will be
supported by the 3GPP system. In particular, the following aspects are
required to be studied:
\- Whether and how the 3GPP system is required to be aware of an eV2X Group
within the V2X application.
\- Whether and how the 3GPP system is required to be aware of the number of
UEs within an eV2X Group of a V2X application.
NOTE: It is assumed that eV2X Group discovery is supported within the V2X
application.
\- How 3GPP layer communication between UEs of the same eV2X Group is carried
out.
## 5.2 Key Issue #2: 3GPP PC5 RAT selection for a V2X application
### 5.2.1 General description
A UE may support multiple radio access technologies (RATs) over PC5 interface,
including LTE and NR. For such UE, the most suitable 3GPP PC5 RAT(s) for V2X
applications should be selected based on various criteria. For example, for
the V2X application requiring low latency, the PC5 RAT that meets the required
latency should be selected.
To support the proper selection of 3GPP PC5 RAT to use for a V2X application,
the following aspects need to be studied:
\- What parameters should be considered as input to 3GPP PC5 RAT selection for
each V2X application, e.g. QoS parameters, RAN related parameters such as
expected range of a RAT, operator policy, preferences for each V2X
application, peer UE capabilities, etc.?
\- When and how the 3GPP PC5 RAT selection is performed? Is the 3GPP PC5 RAT
selected before sending/receiving each V2X message, or is the 3GPP PC5 RAT
selected based on static configuration for each V2X application?
\- How can 3GPP system support the 3GPP PC5 RAT selection for the V2X
application?
In addition, if the UE supports multiple (e)V2X applications and the UE is in
scheduled mode operation, the UE may be required to change cell when a V2X
application that requires to send a V2X message, has an operating carrier
frequency, or resource configuration for a PC5 RAT that is not supported by
the cell the UE is currently camped on. In such a case the following issues
may arise and need to be studied:
\- An active V2X application will be interrupted in case the new cell does not
support its operating carrier frequency or resource configuration for the PC5
RAT selected.
\- A UE may select a cell only supporting E-UTRA radio interrupting V2X
applications that require to send V2X messages over NR Uu.
When studying the above aspects, the following need to be considered:
\- When the UE is non-roaming and when the UE is roaming;
\- When the UE is in coverage and when the UE is out of coverage.
Editor\'s note: When necessary, RAN WGs should be involved during the study of
this key issue.
## 5.3 Key Issue #3: QoS Support for eV2X over Uu interface
### 5.3.1 General description
Rel-14 handles QoS for V2X communications as specified in TS 23.285 [5] clause
4.4.5, defining QoS handling for V2X communication over PC5 and over LTE-Uu
reference points.
TS 22.186 [4] specifies service requirements to enhance 3GPP support for V2X
scenarios in the 3GPP systems, both for safety (e.g., automated driving,
vehicle platooning etc.) and non-safety (e.g., mobile high data rate
entertainment, mobile hotspot/office/home, dynamic digital map update etc.)
V2X scenarios.
In particular, TS 22.186 [4] defines five Categories of Requirements (CoR) to
support eV2X scenarios: General Aspects, Vehicle Platooning, Advanced Driving,
Extended Sensors and Remote Driving. Additionally, it defines six Level of
Automation (LoA), reflecting the functional aspects of the technology and
affecting the system performance requirements. The five level of automation
defined are: No Automation (0), Driver Assistance (1), Partial Automation (2),
Conditional Automation (3), High Automation (4), Full Automation (5). For each
CoR and each LoA, requirements are specified in terms of Payload (from 50 to
12000 bytes), Transmission Rate (from 2 to 50 message/sec), Maximum end-to-end
latency (from 3 to 500 ms), Reliability (from 90% to 99.999%), Data rate (from
0.5 to 1000 Mbps) and minimum required communication range (from 50 to 1000
meters).
To ensure the support eV2X scenarios in 5GS, including all CoRs and LoAs
(including, e.g., URLLC), according to requirements specified in TS 22.186
[4], the following issues need to be studied:
\- Investigating if the 5G QoS Characteristics defined in TS 23.501 [7] clause
5.7.4 (i.e., Resource Type, Priority Level, Packet Delay Budget, Packet Error
Rate, Default Maximum Data Burst Volume, Default Averaging Window) are
sufficient to represent the QoS profiles required by V2X services, or if
additional QoS Characteristics need to be defined;
\- Investigating if the standardised 5QI values defined in TS 23.501 [7]
clause 5.7.4 are sufficient to support all CoRs and LoAs defined in TS 22.186
[4], or if additional standardised 5QI values need to be defined;
\- Investigating possible enhancements of the 5GS QoS framework to support
improved RAN QoS monitoring and control;
Editor\'s note: This aspect has RAN dependency and needs coordination with RAN
WGs.
\- Investigating possible enhancements to the 5GS QoS framework to allow the
AF to influence QoS for eV2X applications.
## 5.4 Key Issue #4: Support of PC5 QoS framework enhancement for eV2X
### 5.4.1 General description
In Rel-14 V2X as documented in TS 23.285 [5], the QoS over PC5 is supported
with the ProSe Per-Packet Priority (PPPP). Application layer is allowed to
mark the packets with the PPPP, which indicates the required QoS level.
Certain enhancement was added, e.g. by allowing deriving of PDB from the PPPP.
The new QoS requirements for eV2X are captured in TS 22.186 [4]. Various new
KPIs are captured in clauses 5.2 to 5.5. These have a variety of new QoS
parameter ranges, e.g. the latency (PDB) range from 100ms in advanced driving
to 3ms in Emergency trajectory alignment. Message rate range from 10
message/second to 50 message/second, and with some burst traffic types, e.g.
in extended sensor information sharing. In addition, the reliability
requirement also varies, e.g. 90% to 99.999%.
The existing PPPP mechanism with 8 levels may not be sufficient to support the
QoS differentiation. Therefore, enhancement may be required to allow the new
QoS requirements of the V2X traffic to be conveyed from application layer to
the AS layer.
This key issue will study the following aspects:
\- Whether existing PC5 QoS framework (e.g. PPPP) is sufficient to support
eV2X QoS requirements;
\- What the QoS parameters for an application are and how such information can
be passed to the AS layer to enforce.
This key issue also addresses the support of URLLC traffic.
## 5.5 Key Issue #5: Service Authorization and Provisioning to UE for eV2X
communications over PC5 reference point
### 5.5.1 General description
In order to enable the UE to use eV2X Service in 5G system, service
authorization and provisioning for eV2X communication over PC5 reference point
is needed, following aspects need to be studied:
\- Whether current authorization and provisioning mechanism over V2X control
function defined in clause 4.4.1.1 of TS 23.285 [5] can be reused;
\- Justification for introducing a new solution and overall solution
description;
\- Policy and parameters provisioned to UE;
\- Principles for applying parameters for V2X communications over PC5
reference point;
\- How to revoke the service authorization and provisioning to UE.
## 5.6 Key Issue #6: Service Authorization to NG-RAN for eV2X communications
over PC5 reference point
### 5.6.1 General description
In order to provide eV2X service authorization information to NG-RAN (i.e.
assisting NG-RAN to operate in Mode 3 or 4) for eV2X communication over PC5
reference point, following aspects need to be studied:
\- When and how the UE indicates its eV2X capability to network;
\- When and how 5GC provides to NG-RAN the authorization information on
whether UE is authorized to use V2X communication over PC5 reference point;
\- How to revoke the service authorization to NG-RAN.
## 5.7 Key Issue #7: Network Slicing for eV2X Services
### 5.7.1 General description
For 5GS, the Network Slicing feature, introduced in Release 15 (see TS 23.501
[7]), allows to deploy separate networks for dedicated purposes. Network
slicing offers network deployment options, which can be exploited to support
various eV2X services and scenarios. To make use of the 5G slicing framework
for eV2X services, the following issues need to be studied:
\- Which eV2X features, supported by Rel-15 5GS features or requiring
enhancements to the 5GS architecture (e.g., side-link communication,
multicast-broadcast communication, group communication etc.), would require or
benefit from explicit network slicing support;
\- The relationship between the 5GS features required to support eV2X services
and network slicing, including:
\- Whether new SST value(s) needs to be standardised, or if such features will
be supported by existing SST values;
\- Which 5GS features required to support eV2X services are supported by
certain SST values.
## 5.8 Key Issue #8: Support of edge computing
### 5.8.1 General description
Edge computing is considered one of the key technologies to support V2X
services. The edge computing for V2X services can be characterized by edge
computing system located at the edge of the mobile network to support
collecting and processing of time critical information from vehicle UEs,
pedestrian UEs and/or RSUs, and providing information to vehicle UEs,
pedestrian UEs and/or RSUs.
Figure 5.8.1-1: High level view of edge computing for V2X services
The ability to steer traffic to a specific local DN depending on the
DNN/S-NSSAI/etc. and support for edge computing are already defined in Rel-15,
e.g. in clause 5.6.7 \'Application Function influence on traffic routing\' and
clause 5.13 \'Support for Edge Computing\' of TS 23.501 [7].
This key issue will study that the existing mechanisms specified in TS 23.501
[7] can be reused for V2X purposes and whether any enhancement is needed to
support specific needs for V2X, e.g. local routing to/from V2X Application
Server(s) in a local DN close to NG-RAN.
This key issue will also study how to support the session and service
continuity requirement of V2X when the edge computing is utilized.
Solutions for this key issue should leverage those developed in FS_5G_URLLC
and focus on aspects specific to V2X.
## 5.9 Key Issue #9: Support of unicast/multicast for sensor sharing over PC5
### 5.9.1 General description
In TS 22.186 [4], there are new requirements captured for supporting higher
data rate information sharing between vehicles, e.g. that for the support of
Extended Sensor use case in clause 5.4. The KPIs include those that can be
still supported using broadcast mechanism, and those that cannot be supported
with broadcast mechanism over the available ITS spectrum, especially, when
there are multiple vehicles performing broadcast based information sharing in
the proximity
Therefore, besides the broadcast mechanism, eV2X also needs to support a new
interactive delivery mechanism to handle high data rate data sharing between
vehicles, e.g. using unicast and/or multicast.
This key issue will study:
\- How an interactive, e.g. request and response based, data delivery
mechanism can assist the efficient delivery of data to satisfy eV2X use cases.
\- If any V2X layer signalling is required.
\- What information needs to be exchanged to enable the AS layer to configure
the corresponding transmission and reception.
\- How to prevent privacy issues related to long duration unicast/multicast
session e.g. source L2 ID tracking.
NOTE: Coordination with RAN regarding the unicast/multicast support is needed.
## 5.10 Key Issue #10: eV2X message transmission and reception
### 5.10.1 General description
Transmission of a V2X message e.g. for V2V Service and V2P Service can be
triggered periodically or based on a certain event. The V2X message can be
exchanged when the UE is served by operator network, or when the UE is not
served by operator network. The V2X message can be exchanged when the UE is
non-roaming and roaming. The V2X message can be IP based or non-IP based.
When architectural requirements are identified in Release 16 to accommodate
V2X messages transmission via PC5/Uu interfaces, then impacts on the eV2X
message transmission will be addressed in this key issue.
## 5.11 Key Issue #11: Service Authorization and Provisioning to UE over NG-Uu
reference point
### 5.11.1 General description
In order to enable the UE to use eV2X Service in 5G system, service
authorization and provisioning for eV2X communication over NG-Uu reference
point is needed, following aspects need to be studied:
\- Whether current authorization and provisioning mechanism can be reused if
V2X control function defined in clause 4.4.1.1 of TS 23.285 [5] shall be used;
\- Justification for introducing a new solution and overall solution
description;
\- Policy and parameters provisioned to UE for unicast over NG-Uu;
\- Principles for applying parameters for V2X communications over NG-Uu
reference point;
\- How to revoke the service authorization and provisioning to UE.
## 5.12 Key Issue #12: System migration and interworking for eV2X
### 5.12.1 General description
The eV2X system needs to support both the V2X requirements as specified in TS
22.185 [3], and the eV2X requirements as specified in TS 22.186 [4].
Therefore, the system needs to handle all types of V2X UEs, e.g. UE with EPS
V2X capabilities, and UE with 5GS V2X capabilities.
The 5GS V2X capable UE needs to also support the services available via the
EPS V2X system, and may need to interact with the EPS V2X capable UEs. This
means that interworking towards V2X services via EPS needs to be investigated
in order to support same V2X applications running over 5GS V2X and EPS V2X,
e.g. any potential new QoS mechanism should also be able to handle QoS based
on PPPP.
In addition, the eV2X system based on 5GC defined in TS 23.501 [7] need also
be able to interwork with the EPC based V2X system, as one V2X UE may be
roaming between the two systems.
For this key issue, the following aspects should be addressed:
\- For PC5, how to support a 5GS V2X capable UE\'s communication with EPS V2X
capable UE for the common services, e.g. basic safety related V2X services.
This includes for example the selection of the PC5 RAT and features to use
such that the 5GS V2X capable UE\'s message can be properly received by EPS
V2X capable UEs;
Editor\'s note: This aspect has RAN dependency and needs coordination with RAN
WGs.
\- How to operate a 5GS V2X capable UE when it is under a V2X system based on
EPS, and how to operate an EPS V2X capable UE when it is under a V2X system
based on 5GS, with the understanding that current 5GS interworking principles
as defined in clause 5.17 of TS 23.501 [7] are also applied to V2X;
\- How to support roaming/interworking operation of the V2X UE between a V2X
system based on EPC and that based on 5GC, e.g. how to handle the V2X
policy/parameters from V2X Control Function via EPS and those delivered via
5GS.
## 5.13 Key Issue #13: Support NR based PC5 communication when UE connects to
EPC
### 5.13.1 General description
When the UE connects to EPC, the UE may be allowed to use NR based PC5
communication.
The following aspects need to be studied to support NR based PC5 communication
when UE connects to EPC:
\- Whether and how the UE indicates its NR PC5 capability to the network;
\- Whether and how the MME authorizes to use V2X service operation for NR PC5;
\- Whether and which V2X policy and parameters need to be provisioned for NR
based PC5 communication in the UE.
Editor\'s note: This key issue has RAN dependency and needs alignment with
outcome of RAN work.
## 5.14 Key Issue #14: Support of broadcast over NG-Uu
### 5.14.1 General description
According to TS 22.185 [3], \"the 3GPP system shall be able to distribute
information in a resource efficient way to large numbers of UEs supporting V2X
application\". Additionally, TS 22.186 [4] includes requirements related to
group message transmission. Such requirements encompass the support for
message transfer for group management operations and message transfer among a
group of UEs supporting V2X application.
As a result, in addition to the current NG-Uu based unicast mechanism, eV2X
also needs to support the broadcast delivery mechanism in order to efficiently
handle message transfers for groups of UEs.
This key issue will study the following aspects for the broadcast service for
eV2X:
\- How to support broadcast transmission that can satisfy the eV2X use cases
(e.g., assist efficient delivery of data to large numbers of UEs).
\- What information needs to be provided to the UE and how to provide such
information (e.g., broadcast area).
\- Whether and how to enhance the current architecture and/or NFs (e.g., SMF,
UPF) to accommodate the broadcast service.
\- How to support interworking with EPS based V2X broadcast.
NOTE 1: NR broadcast is out of scope of this key issue.
NOTE 2: Potential impacts on RAN, including RAN architecture, are to be
analysed by and coordinated with the relevant RAN WGs.
Editor\'s note: Consistency with FS_CIoT_5G SI regarding broadcast support is
to be ensured.
## 5.15 Key Issue #15: Enhancements to assist Application Adjustment
### 5.15.1 General description
Each eV2X service, as defined in TS 22.186 [4], may be provided with different
application configurations, such as Levels of Automation, inter-vehicle gap,
etc. Each application configuration may have a different QoS requirement. As a
consequence, the application may have to adjust its configuration in case of
QoS change according to the new QoS that can be delivered.
Considering the requirements of eV2X services, it may be important for some
application(s) to be notified about a potential change in the delivered QoS in
advance, in order to be able to dynamically adjust its configuration. The
notification may consider the locations in which the UE is likely to be
driving for a given time period.
This key issue aims at studying 5GS enhancements to assist application
adjustments for eV2X services, according to notifications about potential
change in the delivered QoS.
This Key issue applies only to UEs connected via Uu.
This key issue addresses the following aspects:
\- what information is required as input to enable the assessment of a
potential change in QoS in given areas by the 5GS;
\- how the 5GS may determine that a notification about potential change in
delivered QoS is necessary;
\- how the 5GS may communicate such information to the application in the AF
and/or the UE.
# 6 Solutions
Editor\'s note: This clause is intended to document the agreed architecture
solutions. Each solution should clearly describe which of the key issues it
covers and how.
## 6.1 Solution #1: Solution for Group Communication for eV2X
### 6.1.1 Functional Description
For eV2X, group communication can be supported based on the existing PC5 based
V2X Communication as defined in TS 23.285 [5].
With this solution, the 3GPP system is not required to be aware of any eV2X
group within the V2X application. The group management, including controlling
the number of UEs within the group, is expected to be performed at application
layer, which is out of scope of 3GPP.
In addition, the discovery of the group and group maintenance are also
expected to be handled at application layer based on the V2X messages. Such
application layer messages are to be defined by other SDOs responsible for
upper layers, e.g. SAE, ETSI-ITS.
For the communication between UEs of the same eV2X group, existing V2X
communication can be used as defined in TS 23.285 [5].
If desired, e.g. for optimized operations, separation of the traffic from
different groups could be also achieved with the use of different destination
L2 IDs. These destination L2 IDs could be negotiated among group members at
application layer or obtained from V2X AS at application layer. For such
operations, the application layer would decide the L2 ID and pass it down
together with the packets down to 3GPP layer. In this case, PSID to L2 ID
mapping is not used in deciding on the destination L2 ID.
NOTE: Any potential clash of \"Group\" L2 IDs assigned by different V2X
applications is resolved within the application.
For eV2X group communication, no bearer level security is required. Security
protection, including integrity (and confidentiality if required), is provided
at application layer based on application requirements.
### 6.1.2 Procedures
No change to the existing procedures is required.
### 6.1.3 Impact on existing entities and interfaces
Potentially the 3GPP layer can be enhanced to support receiving destination L2
ID from application layer to use for group communication. If destination L2 ID
is provided, the PSID to L2 ID mapping is not used.
### 6.1.4 Topics for further study
None is identified.
### 6.1.5 Conclusions
The eV2X Group Communication can be supported with existing PC5-based V2X
communication mechanism and application layer group management. Uu-based V2X
communication mechanism can also be used for eV2X group communications e.g.
platooning. No normative change is needed.
## 6.2 Solution #2: QoS Support for eV2X over Uu interface
### 6.2.1 Functional Description
#### 6.2.1.1 General description
This solution addresses Key Issue #3 (QoS Support for eV2X over Uu interface)
and it is twofold. In its first part, it is addressed if any new QoS
characteristics for Uu interface are needed, while in the second part it is
addressed if new standardized 5QI values are needed.
#### 6.2.1.2 Necessary QoS Characteristics for Uu Interface
eV2X is a distinctive family of services which may cover ultra-reliable and
low latency scenarios, while at the same time it may require high data rates.
TS 22.186 [4] specifies service requirements to enhance 3GPP support for V2X
scenarios in the 3GPP systems. Requirements include support for both safety
and non-safety V2X scenarios:
\- Safety-related V2X scenarios: e.g. automated driving, vehicle platooning,
etc.;
\- Non-safety-related V2X scenarios: e.g., mobile high data rate
entertainment, mobile hotspot/office/home, dynamic digital map update etc.
Notably, **Categories of Requirements** (CoR) are defined to support eV2X
scenarios. Five CoRs are defined: General Aspects, Vehicle Platooning,
Advanced Driving, Extended Sensors and Remote Driving.
Additionally, the concept of **Level of Automation** (LoA) is defined, which
reflects the functional aspects of the technology and affects the system
performance requirements. The defined LoAs are: No Automation (0), Driver
Assistance (1), Partial Automation (2), Conditional Automation (3), High
Automation (4), Full Automation (5).
According to the TS 22.186 [4], for each CoR and each LoA, performance
requirements are specified in terms of:
\- Payload (Bytes);
\- Transmission rate (Message/Sec);
\- Maximum end-to-end latency (ms);
\- Reliability (%);
\- Data rate (Mbps);
\- Minimum required communication range (meters).
The above requirements are covered by the 5G QoS characteristics associated
with 5QI (TS 23.501 [7]).
\- The Payload can be linked to the Maximum Data Burst Volume (which can be
defined to be equal to the maximum required payload for the CoR & LoA+
protocol overhead),
\- the Maximum end-to-end latency (ms) is similar to the Packet Delay Budget
(PDB), while the Reliability is **calculated by using jointly the PDB and the
Packet Error Rate (PE** R). Precisely, reliability (%) is defined as the
success probability of transmitting X byte within a certain delay, which is
the time it takes to deliver a small data packet from the radio protocol layer
2/3 SDU ingress point to the radio protocol layer 2/3 SDU egress point of the
radio interface.
\- The Data Rate is equal to the guaranteed flow bit rate (GBR QoS Flows) or
the non-guaranteed bit rate (non-GBR)**.** The Minimum required communication
range is not considered as QoS characteristics.
Consequently, referring to V2X communication over Uu, no new QoS
characteristics on top of those already defined in TS 23.501 [7] are
necessary.
#### 6.2.1.3 Necessary 5QI values
Some eV2X scenarios, based on their QoS attributes (as defined in TS 22.186
[4]), can be mapped to already existing Delay Critical GBR 5QI Values (see TS
23.501 [7], Table 5.7.4-1). In particular:
\- _Remote Driving_ service should be mapped to the specified Delay Critical
GBR 5QI Value 85;
\- _Platooning (low Level of Automation - LoA)_ and _Cooperative Lane Change
(low LoA)_ services should be mapped to the specified Delay Critical GBR 5QI
value 83.
However, if not updated, the current standardized 5QI Values do not seem
sufficient to match all eV2X Services based on their QoS requirements. More
precisely, _Platooning (high LoA)_ and _Cooperative Lane Change (high LoA)_
services necessitate very low PDB (PDB=_5ms_) and at the same time PER equal
to _10^-4^_ , while the Default Maximum Data Burst Volume can vary from low
(50B) to high (1354B).
Table 6.2.1.3-1: Proposed Standardized 5QIs to QoS characteristics mapping for
Delay Critical GBR (_changes with respect to TS 23.501 [7] in Bold-Italic
text_)
+-------+-------+-------+-------+-------+-------+-------+-------+ | 5QI | Res | De | P | P | **De | De |** Ex | | | ource | fault | acket | acket | fault | fault | ample | | Value | Type | Pri | Delay | Error | Ma | | Servi | | | | ority | B | | ximum | Aver | ces**| | | | Level | udget | Rate | Data | aging | | | | | | | | Burst | W | | | | | | | | Vol | indow | | | | | | | | ume** | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 82 | Delay | 19 | 1 | 1 | 255 | 2000 | Dis | | | Cri | | 0 ms\ | 0^-4^ | bytes | ms | crete | | | tical | | (NO | | | | Autom | | | GBR | | TE 4) | | | | ation | | | | | | | | | (see | | | | | | | | | TS | | | | | | | | | 22.2 | | | | | | | | | 61 [ | | | | | | | | | 22]) | +-------+-------+-------+-------+-------+-------+-------+-------+ | 83 | | 22 | 1 | 1 | 1354 | 2000 | Dis | | | | | 0 ms\ | 0^-4^ | bytes | ms | crete | | | | | (NO | | | | Autom | | | | | TE 4) | | (NO | | ation | | | | | | | TE 3) | | (see | | | | | | | | | TS | | | | | | | | | 22.26 | | | | | | | | | 1 [2 | | | | | | | | | 2]), | | | | | | | | | ** | | | | | | | | | _eV2X | | | | | | | | | Mes | | | | | | | | | sages | | | | | | | | | (P | | | | | | | | | latoo | | | | | | | | | ning, | | | | | | | | | C | | | | | | | | | ooper | | | | | | | | | ative | | | | | | | | | Lane | | | | | | | | | C | | | | | | | | | hange | | | | | | | | | with | | | | | | | | | low | | | | | | | | | LoA; | | | | | | | | | see | | | | | | | | | TS 2 | | | | | | | | | 2.186 | | | | | | | | | [4\ | | | | | | | | | ])_**| +-------+-------+-------+-------+-------+-------+-------+-------+ | 84 | | 24 | 30 ms | 1 | 1354 | 2000 | I | | | | | | 0^-5^ | bytes | ms | ntell | | | | | (NOTE | | | | igent | | | | | 6) | | | | tran | | | | | | | | | sport | | | | | | | | | sy | | | | | | | | | stems | | | | | | | | | (see | | | | | | | | | TS | | | | | | | | | 22.2 | | | | | | | | | 61 [ | | | | | | | | | 22]) | +-------+-------+-------+-------+-------+-------+-------+-------+ | 85 | | 21 | 5 ms | 1 | 255 | 2000 | E | | | | | | 0^-5^ | bytes | ms | lectr | | | | | (NOTE | | | | icity | | | | | 5) | | | | Dis | | | | | | | | | tribu | | | | | | | | | tion- | | | | | | | | | high | | | | | | | | | vo | | | | | | | | | ltage | | | | | | | | | (see | | | | | | | | | TS | | | | | | | | | 22.26 | | | | | | | | | 1 [2 | | | | | | | | | 2]), | | | | | | | | |**_R | | | | | | | | | emote | | | | | | | | | Dr | | | | | | | | | iving | | | | | | | | | (see | | | | | | | | | TS 2 | | | | | | | | | 2.186 | | | | | | | | | [4\ | | | | | | | | | ])_**| +-------+-------+-------+-------+-------+-------+-------+-------+ | * | | *** |**_5 | ** | ** | ** | ** | |__New | | 18_**| ms** _|_ 10^- | _1354 |_ 2000 | _eV2X | | Val | | | | 4^_**| byt | ms** _| mes | | ue_**| | | | | es** _| | sages | | | | | | | | | (Coll | | | | | | | | | ision | | | | | | | | | Avoid | | | | | | | | | ance, | | | | | | | | | Plato | | | | | | | | | oning | | | | | | | | | with | | | | | | | | | high | | | | | | | | | LoA | | | | | | | | | (see | | | | | | | | | TS 2 | | | | | | | | | 2.186 | | | | | | | | | [4\ | | | | | | | | | ])_ ** | +-------+-------+-------+-------+-------+-------+-------+-------+
The PDB value for the new 5QI Value refers to half of the maximum end-to-end
delay defined in TS 22.186 [4]. The priority level for the new 5QI Value is
set as higher than 5QI 82, due to the more critical delay requirement under
the same PER and higher than 5QI 85 to reflect high LoA.
NOTE 1: Whether a new standardized 5QI Value is needed or not is to be
discussed together with RAN WG2.
NOTE 2: Whether a new standardized 5QI Value with ultra-low PDB \~1.5 ms,
PER=10^-5^ for high reliability and big payload \~1300 B is feasible for V2X
services, e.g. Emergency Trajectory Alignment and Sensors information Sharing
with high LoA, needs feedback from RAN WG2.
## 6.3 Solution #3: Service Authorization and Provisioning to UE for eV2X
communications over PC5 and NG-Uu reference points
### 6.3.1 Functional Description
This solution addresses Key Issue #5 and Key Issue #11.
This solution applies to the architecture option Alternative#1 in Annex A.
In 5GS, the service authorization parameters for V2X PC5 and V2X NG-Uu
communication can be made available in the UE in different ways, i.e.
\- pre-configured in the ME, or
\- configured in the UICC, or
\- preconfigured in the ME and configured in the UICC, or
\- provided/updated by the V2X AS via PCF, or
\- provided/updated by the PCF to the UE
When the service authorization parameters for V2X PC5 and NG-Uu communication
are provided by the PCF, the existing procedures will be used:
\- When the UE performs initial Registration as defined in clause 4.2.2
\"Registration Management procedures\" in TS 23.502 [9], the UE indicates to
AMF the V2X capability, so that the AMF discovers the PCF supporting V2X by
utilizing the NRF or local configuration in the AMF. If the UE supports V2X
communication and it doesn\'t have valid V2X communication Policy/Parameter,
the UE includes in the Registration Request message the UE Policy Container
with indicating the V2X Policy Provisioning request. Based on the indication
in the UE Policy Container, the PCF determines whether to provision the eV2X
PC5 and eV2X NG-Uu service authorization parameters to the UE using procedures
as defined clause 4.2.4.3 \"UE Configuration Update procedure for transparent
UE Policy delivery\" in TS 23.502 [9] and clause 6.1.2 \"Non-session
management related policy control\" in TS 23.503 [10].
\- During mobility, e.g. UE moves from one PLMN to another PLMN, the PCF may
update the UE with new service authorization parameters.
\- When there is a subscription change in the list of PLMNs where the UE is
authorized to perform V2X communication service over PC5 and/or NG-Uu
reference point, the PCF may need to update the policy/parameters to the UE.
If the serving PLMN is removed from the list when the UE is authorized to
perform V2X communication service over PC5 and/or NG-Uu, it means the service
authorization is revoked in the UE.
\- When the user is roaming, the subscription change resulting in updates of
V2X policy/parameters will be transferred by H-PCF via V-PCF.
\- If the V2X configuration parameters is located in a database external to
the UDR the V2X configuration parameters will be transferred to the PCF via
the AF (i.e. the external database interacts like a 3rd Party AS).
NOTE 1: Update of provisioning information directly to the UE (i.e. V1
reference point) is available in this option as well.
NOTE 2: The UE provisioning is controlled by the PCF and in this solution no
UE triggered provisioning update is needed. If the UE, due to a failure case
or of some other reason, see a need to update the provisioning, the UE has to
perform initial registration in the network. The solution assumes this
registration trigger is very rare occurrence since the UE can be kept up to
date by the PCF if any change in configuration is to occur. If UE triggered
policy provisioning is adopted in general (see clause 6.3.2a), then such
procedure can be also applied for V2X policy update from the UE.
NOTE 3: Deployment of PCF for the purposes of supporting UE policies for V2X
via AMF does not depend on deployment of PCF for Session based PCC.
NOTE 4: In order to avoid multiple policy associations to the UE for both V2X
and non-Session based PCC, it is assumed that the PCF for V2X supports also
non-Session based PCC.
### 6.3.2 Procedures
Procedure for UE policy update can be reused:
\- Clause 4.2.4.3 \"UE Configuration Update procedure for transparent UE
Policy delivery\" in TS 23.502 [9].
\- Clause 6.1.2 \"Non-session management related policy control\" in TS 23.503
[10].
### 6.3.2a Option of UE triggered V2X Policy provisioning procedure
The procedure is initiated when the UE determines the V2X Policy is invalid in
following cases:
\- if the parameter is outdated (e.g. the validity timer for the eV2X
communication policy/parameter expires),
\- if there are no valid parameters for current area, or
\- parameters lost or deleted locally by abnormal situation.
This procedure, if agreed to be adopted for general UE triggered policy
provisioning then it can also be applied for V2X.
Figure 6.3.2a-1: UE triggered V2X Policy provisioning procedure
1\. UE sends UE Policy provisioning request including UE Policy container
(Indication of V2X Policy provisioning request) to AMF.
2\. The AMF sends Npcf_UEPolicyControl_Update request to the PCF to establish
an AM policy control association with the PCF included the UE Policy container
received from UE.
3\. The UE Policy delivery procedure defined in clause 4.2.4.3 of TS 23.502
[9] is triggered.
NOTE: Steps 2 and 3 reuse existing messages.
### 6.3.3 Impact on existing entities and interfaces
Impacts on existing entities, interfaces and procedures are limited to adding
new policies/parameters, no new functionality is introduced. Below are the
impacted entities and interfaces listed:
\- UDR for subscription change in the list of PLMNs where the UE is authorized
to perform V2X communication service over PC5 reference point
\- PCF handles service authorization and provisioning of parameters for V2X
PC5 and V2X NG-Uu communication based on the the Indication of V2X Policy
provisioning request in the UE Policy Container.
\- UE handles the policy/parameters for service authorization using existing
5GC procedures with supporting UE triggered V2X Policy provisioning procedure
if available. UE decides whether to include the Indication of V2X Policy
provisioning request in the UE Policy Container in the initial Registration
procedure or UE triggered V2X Policy provisioning procedure.
\- AMF transferring the policy/parameters to the UE using existing procedures.
AMF requests to create UE Policy Association to the PCF for V2X communication,
based on the V2X capability indication in the Registration Request message.
\- Impacted interfaces: N1, N8, N15, N24.
To perform the UE provisioning the user plane set-up is not needed.
### 6.3.4 Topics for further study
None is identified.
### 6.3.5 Conclusions
TBD.
## 6.4 Solution #4: Reusing solution of TS 23.285 [5] for Key Issue #5
### 6.4.1 Functional Description
This solution corresponds to the Key Issue #5 \"Service Authorization and
Provisioning to UE for eV2X communications over PC5 reference point\" based on
the architecture documented in Annex A, clause A.2.
The proposed solution reuses clause 4.4.1.1 \'Authorization and provisioning
for V2X communications over PC5 reference point\' of TS 23.285 [5]. Therefore,
the followings apply for Service Authorization and Provisioning to UE for eV2X
communications over PC5 reference point:
\- Pre-configuration in the UE;
\- Service Authorization and Provisioning to UE from V2X Control Function;
\- Parameter provisioning to UE from V2X Application Server.
### 6.4.2 Procedures
Same with clause 4.4.1.1 \'Authorization and provisioning for V2X
communications over PC5 reference point\' of TS 23.285 [5].
The V2X policy/parameters provisioned by the V2X Control Function contain the
complete set of information for the UE\'s operation of V2X in EPS and 5GS,
regardless of the UE\'s current connection (e.g. via EPS or 5GS).
NOTE 1: The parameters provisioned needs to take care of the compatibility
issue, as the UE may not be 5GS capable.
When the UE accesses the 5GS, it follows existing procedure as defined in TS
23.501 [7]. For the PDU Session that is used for the provisioning, a V2X
related S-NSSAI should be used for the PDU Session.
If a dedicated DNN is configured to be used for the provisioning, the network
ensures the access to the V2X Control Function at HPLMN is possible from all
PDU Sessions using this DNN and associated with V2X related S-NSSAI. If no
specific DNN is configured to the UE for the provisioning, the network ensures
the access to the V2X Control Function for any PDU Sessions allowed for this
slice regardless of the DNN used. In case the PDU Session is local breakout,
the VPLMN needs to have a V2X Control Function proxy to support the access of
the V2X Control Function in HPLMN, same as the V2X Control Function proxy
defined in TS 23.285 [5] for EPS.
NOTE 2: This V2X Control Function proxy is not required if UE is configured to
use a DNN for home routed PDU Session. The configuration for the DNN used for
provisioning follows the mechanism in the same way as the configuration for
the APN specified in TS 23.285 [5] for EPS.
Editor\'s note: It is FFS how the V2X Control Function and HSS interactions
from EPS is mapped in 5GS, i.e. interactions with UDM.
### 6.4.3 Impact on existing entities and interfaces
UE:
\- The UE gets authorization information (see clause 4.4.1.1.2 of TS 23.285
[5]) to use V2X communications over PC5 reference point on a per PLMN basis in
the serving PLMN by the V2X Control Function in the HPLMN.
V2X Control Function:
\- The V2X Control Function in the HPLMN requests authorization information
from the V2X Control Function of the serving PLMN.
\- The V2X Control Function in the HPLMN merges authorization information from
home and serving PLMNs and informs the UE of the final authorization
information (see clause 4.4.1.1.2 of TS 23.285 [5]).
\- The V2X Control Function in the VPLMN or HPLMN may revoke the authorization
at any time. The V2X Control Function in the HPLMN is notified when
authorization is revoked by the VPLMN.
### 6.4.4 Topics for further study
No.
### 6.4.5 Conclusions
Editor\'s note: Conclusions will be collected for this particular
functionality.
## 6.5 Solution #5: Service Provisioning to UE for eV2X communications over
PC5 and NG-Uu reference points
### 6.5.1 General Description
This solution addresses Key Issues #5 and #11. In order to enable the UE to
use eV2X Service in 5G System, service authorization and provisioning for eV2X
communication over PC5 and NG-Uu reference point are needed. As a pre-
assumption, the V2XCF is a Control Plane NF (i.e. option b in Annex A, clause
A.0 is considered as the architecture).
The eV2X Communication Parameters for V2X PC5 and V2X NG-Uu communication can
be pre-configured in the UE or provided by the V2XCF. In the latter case, the
V2XCF shall provide the eV2X Communication Parameters to UE via the UE
Configuration Update Command. When the eV2X Communication Parameters need to
be updated (e.g., due to UE mobility, subscription change, V2X AS update), the
UE or the V2XCF is triggered to update the eV2X Communication Parameters to UE
via AMF.
Editor\'s note: the solution description for the roaming case is FFS.
### 6.5.2 Initial Provisioning of eV2X Communication Parameters
Figure 6.5.2-1: Initial provisioning of eV2X communication parameters
1\. UE sends the Registration Request message. If the UE does not have
available the eV2X Communication Parameters, the UE includes the \"eV2X
Communication Parameters Indication\" in the N1 container for V2XCF in the
registration request message.
2\. AMF retrieves UE subscription data from UDM. If the UE\'s subscription
data authorizes the UE to make V2X communication, the AMF should select a
V2XCF for the UE.
3\. If the message in Step 1 contains the N1 container for V2XCF, the AMF
includes the N1 container for V2XCF received from UE in the message sending to
V2XCF.
4\. The V2XCF determines whether to provide V2X parameters to the UE, e.g.
based on \"eV2X Communication Parameters Indication\" (indicated in Step 1),
the information subscription data, local policy, etc.
5\. If V2XCF determines that V2X communication parameters need to be
provisioned to the UE then V2XCF includes the V2X communication parameters in
the V2X Parameter Response message.
6\. AMF sends the Registration Accept message to UE.
NOTE: Steps 3 and 6 can be executed in parallel.
7\. AMF delivers the provisioned eV2X Communication Parameters to UE via a
dedicated message (see step 2 of Figure 4.2.4.3-1 in TS 23.502 [9]).
8\. UE replies with the result of the delivery of eV2X Communication
Parameters (see step 3 of Figure 4.2.4.3-1 in TS 23.502 [9]).
### 6.5.3 Update of eV2X Communication Parameters
#### 6.5.3.0 General
After the UE retrieves and stores the eV2X Communication Parameters, the
network may find the need to update the eV2X Communication Parameters, due to
the occurrence of any of the following events:
\- UE mobility, i.e., location change: The V2XCF may subscribe to location
change notifications from AMF (via Namf_EventExposure_Subscribe) and trigger
the update procedure if needed, i.e. if V2XCF determines that V2X parameters
need to be updated. These events should result in the update of V2X
provisioning parameters at the UE. V2XCF sends the updated parameters to AMF
in a transparent container. The AMF then delivers the updated parameters to
the UE.
\- UE\'s V2X subscription has changed: The V2XCF may subscribe to UE\'s
subscriber data update notification for V2X specific data type (via
Nudm_SDM_Subscribe) and determine whether to provide updated V2X parameters to
the UE.
\- V2X AS configures new V2X parameters at the V2XCF: The V2XCF receives the
new V2X parameters from the V2X AS via V2 interface thus the update procedure
may be initiated.
\- Notification from AMF of UE entering an Area of Interest.
\- Notification from V2X AF/ V2X AS of updated parameter provisioning (see TS
23.285 [5]).
In addition, after UE retrieves and stores the eV2X Communication Parameters,
UE itself may find the need to update the eV2X Communication Parameters, due
to the occurrence of any of the following events:
\- UE mobility, i.e., location change: if the associating available area of
the eV2X Communication Parameters is provided to the UE.
\- Notification from the AF/V2X AS to UE via the application layer.
\- Expiration of a Validity Timer associated with the eV2X Communication
Parameters; for example, if the UE is out-of-coverage when the timer expires,
it shall request new parameters when it is back in-coverage.
\- Parameters lost or deleted in some abnormal cases.
In the cases above, the V2XCF shall provide the updated service provisioning
parameters to UE via AMF by the UE Configuration Update Command. If the UE is
in CM-IDLE state, the AMF shall initiate paging UE firstly. In the cases
above, UE can initiate the registration request with the \"eV2X Communication
Parameters Indication\" to retrieve the new eV2X Communication Parameters.
#### 6.5.3.1 UE triggered update of eV2X Communication Parameters
Option A: The UE triggered update of eV2X Communication Parameters requires
the Registration procedure and is same as described in clause 6.5.2.
Option B: The UE triggered update of eV2X Communication Parameters using
procedure other than Registration.
Figure 6.5.3.1-1: UE triggered V2X Policy provisioning procedure
1\. UE sends V2X Parameter provisioning request including the \"eV2X
Communication Parameters Indication\" in the N1 container to AMF.
2\. The AMF includes the N1 container for V2XCF received from UE in the
message sending to V2X CF.
3\. The V2X Parameter delivery procedure defined in clause 6.5.3.2 is
triggered.
During AMF relocation, the target AMF may receive a V2XCF id from the source
AMF to enable the usage of the same V2XCF by the target AMF, and the target
AMF may decide based on operator policy either to use the same V2XCF or select
a new V2XCF.
#### 6.5.3.2 Network triggered update of eV2X Communication Parameters
Figure 6.5.3.2-1: Network triggered update of eV2X Communication Parameters
1\. After UE registers to the Network, the V2XCF maintains the UE\'s current
V2X Communication Parameters. The network (i.e., V2XCF) can detect that the
eV2X Service provisioning Parameters need to be updated due to:
\- Notification from AMF of UE entering an Area of Interest;
\- Notification from V2X AF/ V2X AS of updated parameter provisioning (see TS
23.285 [5]).
2\. The V2XCF generates the updated eV2X Communication Parameters for the UE.
During this step, V2XCF may interact with AMF, AF. If Step 1 is triggered by
the AMF, then the V2XCF may check with the AF for restrictions/conditions
relating to the area of interests to determine new parameters. If Step 1 is
triggered by the AF, then the V2XCF may request info on UE location to the AMF
to determine new parameters.
3\. V2XCF delivers the updated eV2X Communication Parameters to UE via the AMF
by sending the eV2X Communication Parameter Update message to AMF.
4\. AMF sends the V2X provision parameters to UE via the UE configuration
update command (see step 2 of Figure 4.2.4.3-1 in TS 23.502 [9]).
5\. UE responds with the result of the delivery of eV2X Communication
Parameters (see step 3 of Figure 4.2.4.3-1 in TS 23.502 [9]).
### 6.5.4 Impact on existing entities and interfaces
AMF:
\- Obtains V2X subscription data from the UDM by means of the Nudm_SDM_Get
operation;
\- Executes V2X authorization check;
\- Retrieves V2X parameters from the V2XCF by means of new or existing
operations;
\- Provides V2X parameters to UE via UCU message.
\- Transparently sends the N1 container for V2XCF.
UDM:
\- Stores and provides V2X subscription data to the AMF by means of the
Nudm_SDM_Get operation.
V2XCF:
\- Provides the services for associating with AMF and conveying the V2X
parameters to the AMF.
\- Subscribes to location change notifications.
\- Subscribes to subscriber data update notifications for V2X data type.
UE:
\- Performs Registration Procedure or Procedure other than Registration,
including eV2X Communication Parameters Indication, when it finds the need to
update the eV2X Communication Parameters.
### 6.5.5 Conclusions
TBD.
## 6.6 Solution #6: eV2X impacts to 5GC procedures
### 6.6.1 Functional Description
This solution corresponds to the Key Issue #6 \"Service Authorization to NG-
RAN for eV2X communications over PC5 reference point\" and based on TS 23.285
[5] clause 5.5 \'V2X impacts to EPC procedures\' that describes the required
EPC procedures for Service Authorization to E-UTRAN for V2X communications
over PC5 reference point.
This solution applies to all options for eV2X architecture.
### 6.6.2 Procedures
#### 6.6.2.1 Registration procedure for UE
The Registration procedure for UE is performed as defined in TS 23.502 [9]
with the following additions:
\- The UE includes the V2X capability indication as part of the \"5GMM
capability\" in the Registration Request message. The AMF stores this
information for V2X operation. The V2X capability can indicate whether the UE
is capable of supporting V2X communication over PC5 reference point.
\- If the UE indicated V2X capability, and the UE is authorized to use V2X
communication over PC5 reference point based on the subscription data, then
the AMF shall include a \"V2X services authorized\" indication in the NGAP
message, indicating the UE is authorized to use V2X communication over PC5
reference point as Vehicle UE, Pedestrian UE or both.
\- The AMF obtains the UE-PC5-AMBR, and cross-RAT PC5 control authorization
from the UDM as part of the subscription data and includes it in the NGAP
message to the NG-RAN, which use it in resource management of UE\'s PC5
transmission for V2X services in network scheduled mode.
#### 6.6.2.2 Service Request procedures for UE
The Service Request procedures for UE in CM-IDLE state are performed as
defined in TS 23.502 [9] with the following additions:
\- If the UE is V2X capable, and the UE is authorized to use V2X communication
over PC5 reference point based on the subscription data, then the AMF shall
include a \"V2X services authorized\" indication in the NGAP message,
indicating the UE is authorized to use V2X communication over PC5 reference
point as Vehicle UE, Pedestrian UE or both.
\- The AMF includes the UE-PC5-AMBR, and cross-RAT PC5 control authorization
in the NGAP message to the NG-RAN which stores it as part of the UE context
and may use it in resource management of UE\'s PC5 transmission for V2X
services in network scheduled mode.
#### 6.6.2.3 N2 Handover procedures for UE
The N2 based handover or the Inter-RAT to NG-RAN handover procedures for UE
are performed as defined in TS 23.502 [9] with the following additions:
\- If the UE is V2X capable, and the UE is authorized to use V2X communication
over PC5 reference point based on the subscription data, then the target AMF
shall send the \"V2X services authorized\" indication, UE-PC5-AMBR and cross-
RAT PC5 control authorization to the target NG-RAN as follows:
\- For the intra AMF handover, the \"V2X services authorized\" indication, UE-
PC5-AMBR and cross-RAT PC5 control authorization are included in the NGAP
Handover Request message. If after the handover procedure, the \"V2X services
authorized\" indication, or the UE-PC5-AMBR, or cross-RAT PC5 control
authorization, or any combination are changed, the updated \"V2X services
authorized\" indication, or the updated UE-PC5-AMBR, or cross-RAT PC5 control
authorization or all are included in the NGAP UE Context Modification Request
message sent to the target NG-RAN.
\- For the inter AMF handover or Inter-RAT handover to NG-RAN, the \"V2X
services authorized\" indication, UE-PC5-AMBR and cross-RAT PC5 control
authorization are included in the NGAP UE Context Modification Request message
sent to the target NG-RAN after the handover procedure.
The \"V2X services authorized\" indication sent to target NG-RAN denotes the
UE is authorized to use V2X communication over PC5 reference point as Vehicle
UE, Pedestrian UE or both.
The UE-PC5-AMBR and cross-RAT PC5 control authorization are sent to target NG-
RAN for the resources management of UE\'s PC5 transmission in V2X
communication.
#### 6.6.2.4 Xn Handover procedures for UE
The Xn based handover procedures for UE are performed as defined in TS 23.502
[9] with the following additions:
\- If the source NG-RAN is V2X-enabled and the \"V2X services authorized\"
indication is included in the UE context, then the source NG-RAN shall include
a \"V2X services authorized\" indication, UE-PC5-AMBR and cross-RAT PC5
control authorization in the XnAP Handover Request message to the target NG-
RAN.
\- If the UE is V2X capable, and the UE is authorized to use V2X communication
over PC5 reference point based on the subscription data, then the AMF shall
send the \"V2X services authorized\" indication, the UE-PC5-AMBR and cross-RAT
PC5 control authorization to the target NG-RAN in the Path Switch Request
Acknowledge message. If, after the handover procedure, the \"V2X services
authorized\" indication, or the UE-PC5-AMBR, or cross-RAT PC5 control
authorization or any combination are changed, the updated \"V2X services
authorized\" indication, or the updated UE-PC5-AMBR, or cross-RAT PC5 control
authorization or all are included in the NGAP UE Context Modification Request
message sent to the target NG-RAN.
The \"V2X services authorized\" indication sent to target NG-RAN denotes the
UE is authorized to use V2X communication over PC5 reference point as Vehicle
UE, Pedestrian UE or both.
The UE-PC5-AMBR and cross-RAT PC5 control authorization are sent to target NG-
RAN for the resources management of UE\'s PC5 transmission in V2X
communication.
#### 6.6.2.5 Nudm_SDM_UpdateNotification procedure for UE
The Nudm_SDM_UpdateNotification procedures for UE are performed as defined in
TS 23.502 [9] with the following additions:
\- If the \"V2X services authorized\" indication or the UE-PC5-AMBR, or cross-
RAT PC5 control authorization or any combination need to be changed due to the
changed subscription data and the UE is in CM-CONNECTED state, then the AMF
shall notify the NG-RAN the updated \"V2X services authorized\" indication, or
the UE-PC5-AMBR, or cross-RAT PC5 control authorization or all via the NGAP UE
Context Modification Request message.
#### 6.6.2.6 V2X capability indication and V2X related information per PC5 RAT
A UE may support multiple radio access technologies (RATs) over PC5 reference
point, including LTE and NR. For such UE, the V2X capability indication and
V2X related information can be per PC5 RAT as below:
\- The V2X capability indication sent by the UE described in clause 6.6.2.1 is
per PC5 RAT. The V2X capability per PC5 RAT indicates whether the UE is
capable of supporting V2X communication over PC5 reference point, i.e. over
LTE PC5, over NR PC5 or over both.
\- The \"V2X services authorized\" indication sent to NG-RAN described in
clause 6.6.2.1 to clause 6.6.2.5 is per PC5 RAT.
\- The UE-PC5-AMBR sent to NG-RAN described in clause 6.6.2.1 to clause
6.6.2.5 is per PC5 RAT.
\- The cross-RAT PC5 control authorization sent to the NG-RAN described in
clause 6.6.2.1 to clause 6.6.2.5 is per PC5 RAT.
NOTE 1: For V2X capability indication and V2X related information per PC5 RAT,
coordination with RAN WGs is needed.
NOTE 2: Stage 3 will decide if an explicit cross-RAT PC5 control authorization
IE is needed for the signaling over N2, or it can be indicated in an implicit
manner.
NOTE 3: The cross-RAT PC5 control authorization indicates whether LTE Uu
controls LTE and/or NR sidelink from the cellular network, and whether NR Uu
controls LTE and/or NR sidelink from the cellular network. RAN WGs will decide
if all combinations are needed.
### 6.6.3 Impact on existing entities and interfaces
UE:
\- UE includes its V2X capability indicating whether the UE is capable of
supporting V2X communication over PC5 reference point as a part of the \"5GMM
capability\" in the Registration Request message.
AMF:
\- AMF determines if the UE is authorized to use V2X communication over PC5
reference point based on the subscription data.
\- AMF includes a \"V2X services authorized\" indication in the N2 message
sent to NG-RAN denoting that the UE is authorized to use V2X communication
over PC5 reference point as Vehicle UE, Pedestrian UE or both.
\- AMF includes UE-PC5-AMBR and cross-RAT PC5 control authorization in the N2
message sent to NG-RAN.
NG-RAN:
\- NG-RAN needs to handle the \"V2X services authorized\" indication and UE-
PC5-AMBR.
\- The source NG-RAN includes a \"V2X services authorized\" indication, UE-
PC5-AMBR and cross-RAT PC5 control authorization in the XnAP Handover Request
message to the target NG-RAN.
UDM (or maybe also UDR):
\- UDM (or maybe also UDR) handles subscription parameters for eV2X.
### 6.6.4 Topics for further study
None.
### 6.6.5 Conclusions
For Key Issue #6, it is concluded to take Solution #6 for normative work.
## 6.7 Solution #7: Solution for Network Slicing for eV2X services
### 6.7.1 Functional Description
This solution addresses the Key Issue #7 in the perspective of Network Slicing
for eV2X Services.
The eV2X services require certain level of service requirements, e.g. the
latency (PDB) range from 100ms in advanced driving to 3ms in Emergency
trajectory alignment. Message rate range from 10 message/second to 50
message/second, and with some burst traffic types, e.g. in extended sensor
information sharing. In addition, the reliability requirement also varies,
e.g. 90% to 99.999%.
To support certain level of service requirements described above, the eV2X
services require certain network features, e.g. eV2X communications using
side-link communication, multicast-broadcast communication or group
communication, service authorization and parameters provisioning, etc.
Therefore, this solution proposes to define a specific SST for eV2X services.
This approach follows the slicing framework and procedures defined in TS
23.501 [7] and TS 23.502 [9].
A Slice/Service Type can be a standard or non-standard value. One of the
reasons to assign a standard value is to facilitate roaming support. In case
of vehicle communications, it can be expected that vehicles move fast and
cross over to different countries/PLMNs often while connected to the networks.
Therefore, this solution proposes to define a specific SST for eV2X services
as a standard value.
### 6.7.2 Procedures
Editor\'s note: This clause describes procedures to support Network Slicing by
this solution.
### 6.7.3 Impact on existing entities and interfaces
\- Define a specific SST for eV2X services as a standard value
### 6.7.4 Topics for further study
Editor\'s note: This clause describes topics for further study.
### 6.7.5 Conclusions
Editor\'s note: This clause provides conclusions of the solution.
## 6.8 Solution #8: Application Function influence based edge computing for
V2X
### 6.8.1 Functional Description
This solution corresponds to the Key Issue #8 \"Support of edge computing\".
The proposed solution is based on clause 5.6.7 \'Application Function
influence on traffic routing\' of TS 23.501 [7] and describes how the
Application Function (AF) influence on traffic routing feature can be applied
to support edge computing for V2X.
According to clause 5.6.7 of TS 23.501 [7], an AF may send requests to
influence SMF routing decisions for traffic of PDU Session and the AF requests
may influence UPF (re)selection to allow routing user traffic via a local
access in a Data Network identified by a DNAI (DN Access Identifier). Such AF
requests for influencing SMF routing decisions may contain at least:
1) Information to identify the traffic to be routed.
2) Information about the N6 traffic routing requirements for traffic
identified as defined in 1).
3) Potential locations of applications towards which the traffic routing
should apply.
4) Information on the UE(s) whose traffic is to be routed.
\- Identities of individual UEs.
\- Groups of UEs identified by an External Group Identifier when the AF
interacts via the NEF, or Internal-Group Identifier when the AF interacts
directly with the PCF.
\- Any UE the request applies to any UE accessing the combination of DNN,
S-NSSAI and DNAI(s).
5) Indication of application relocation possibility.
6) Temporal validity condition indicating when the traffic routing is to
apply.
7) Spatial validity condition on the UE(s) location indicating that the
request applies only to the traffic of UE(s) located in the specified
location.
8) An AF transaction identifier referring to the AF request.
9) Information on AF subscription to corresponding SMF events.
To route V2X messages or any traffic for V2X purposes to/from V2X Application
Server(s) in a local DN close to NG-RAN, AF (i.e. V2X Application Server)
operated by e.g. operators, OEMs, road authorities, can use the Application
Function influence on traffic routing feature.
### 6.8.2 Procedures
Figure 6.8.2-1 shows a high-level procedure regarding an edge computing
scenario to route V2X messages of any V2X UE located in a certain location
(e.g. intersection area) to/from a V2X Application Server in a local DN. This
procedure is not exhaustive to just show how the Application Function
influence on traffic routing feature can achieve the support of edge computing
for V2X.
Figure 6.8.2-1: High-level procedure for AF influence based edge computing for
V2X
1\. An AF sends an AF request containing the following information to a NEF.
\- An AF transaction identifier referring to the AF request.
\- Spatial validity condition indicating the certain location, e.g. a list of
geographic zone identifier(s).
\- Information on the target UE set to any UE accessing the combination of
DNN, S-NSSAI and DNAI related to V2X. For example, DNN is for V2X Services,
S-NSSAI is comprised of an SST with a standardized SST value for V2X Services
and DNAI represents an identifier of a user plane access to a local DN where
the V2X Application Server is deployed.
\- Information on the traffic to be routed including DNN and S-NSSAI related
to V2X.
\- Information about the N6 traffic routing requirements including in the form
of a list of DNAIs and associated N6 traffic routing information.
2\. The NEF sends the AF request to PCF(s) related to the PDU Session for
UE(s) corresponding to the AF request. Regarding spatial validity condition,
the NEF maps the information from the AF to areas of validity based on pre-
configuration and provides the areas of validity to the PCF(s).
NOTE: AF can also determine whether the UE has entered, or left area of
interest based on subscribing to UE location information from the SMF (i.e.
presence reporting area) or from the AMF via NEF.
3\. The PCF received the AF request identifies which traffic in the PDU
Session of the UE is corresponding to the AF request. Regarding the spatial
validity condition, the PCF subscribes to the SMF to receive notifications
about change of UE location in an area of interest. Therefore, the PCF can be
notified by the SMF about UE location in or out of the subscribed area of
interest.
4\. When the PCF is notified that the UE entered the area of interest, the PCF
provides to the SMF the PCC rules generated based on the AF request by
triggering a PDU Session modification.
5\. When the PCC rules are activated, the SMF may, based on local policies,
take the information in the PCC rules into account to (re)select UPF(s) for
PDU Sessions, or activate mechanisms for traffic multi-homing or enforcement
of an UL Classifier (UL CL).
As a result, the traffic corresponding to the AF request for the UE located in
the area of validity can be locally routed to/from the V2X Application Server
relevant to the area.
6\. When the PCF is notified the UE left the area of interest, the PCF
provides to the SMF updated PCC rules by triggering a PDU Session
modification.
7\. The SMF may take appropriate actions to reconfigure the User Plane of the
PDU Session.
As a result, the traffic corresponding to the AF request for the UE left the
area of validity is not routed to/from the V2X Application Server relevant to
the area anymore.
The AF that sends the AF request for AF influence based edge computing for V2X
and the V2X Application Server that the traffic is routed to/from can be same
or different.
### 6.8.3 Impact on existing entities and interfaces
No additional impact compared to impact on existing entities and interfaces
described in TS 23.501 [7].
### 6.8.4 Topics for further study
None.
### 6.8.5 Conclusions
This solution has no normative impacts but can be documented in potential
specification generated for eV2X, if needed.
## 6.9 Solution #9: Interworking for eV2X
### 6.9.1 Introduction
In the Key Issue #12 there are three aspects listed to be addressed and in
this contribution one of this is put in focus:
\- How to support roaming/interworking operation of the V2X UE between a V2X
system based on EPC and that based on 5GC, e.g. how to handle the V2X
policy/parameters from V2X Control Function via EPS and those delivered via
5GS.
The analyses are based on the use of the architecture shown in Annex A, clause
A.1.
NOTE: Additional provisioning/configuration as supported via UICC, ME or
directly from V2X Application Server is independent of the interworking with
EPC.
### 6.9.2 Functional Description
V2X capable UEs not supporting 5GC NAS will only be connected to EPC and be
provisioned using the V2X Control Function in EPC over the V3 reference point.
These UEs will never be connected to 5GC.
V2X capable UEs both supporting EPC NAS and 5GC NAS can be connected to either
EPC or 5GC. The radio parameters provisioned in the UE for PC5 communication
may be the same in EPS and 5GS. The service parameters to be provisioned in
the UE may be the same but there will probably also be differences if
connected to 5GS or EPS e.g. some services can only be used if accessing via
5G.
The V2X policy/parameters are not session parameters (e.g. session type) that
needs to be mapped between PDN connection and PDU session when UE moves
between EPC and 5GC, and there is no need for V2X Control Function and PCF in
Annex A, clause A.1 to interact when UE moves between EPC and 5GC.
The V2X Control Function can be seen as a container keeping a set of static
configuration parameters. By this the V2X Control Function cannot be compared
and do not have the requirements as the dynamic interworking functionality
specified in TS 23.501 [7] clause 4.3 e.g. PCF.
To avoid adding complexity to 5GC it is proposed to handle the
\"interworking\" between EPC and 5GC as follows, see also Figure 6.9.2-1:
1\. A UE connecting to EPC will be provisioned via the V2X Control Function
over V3.
2\. A UE connecting to 5GC will be provisioned via the existing \'UE
Configuration Update procedure for transparent UE Policy delivery\'.
Figure 6.9.2-1: Local breakout roaming architecture for interworking between
5GS and EPC/E-UTRAN incl. V2X Control Function
NOTE: Alternative#4 in Annex A provides additional details on the provisioning
via PCF when the configuration data is held in V2X Application Server.
### 6.9.3 Procedures
UE connected to EPC the existing procedures for V2X provisioning is used as
specified in TS 23.285 [5].
UE connected to 5GC the existing
\- Clause 4.2.4.3 UE Configuration Update procedure for transparent UE Policy
delivery in TS 23.502 [9].
\- Clause 6.1.2 Non-session management related policy control in TS 23.503
[10].
### 6.9.4 Impacts on existing entities and interfaces
No impacts on the EPC or 5GC as existing functionality is used.
### 6.9.5 Evaluation
The solution is with the following properties:
\- Based on the use of the architecture shown in Annex A, clause A.1;
\- It is assumed there is no need for the PCF and V2X Control Function to
interact when UE moves between EPC and 5GC;
\- When the UE moves from 5GS to EPS, the UE may obtain the V2X parameters if
no valid parameters after system change.
### 6.9.6 Conclusions
This solutions addresses Key Issue #12 (System migration and interworking for
eV2X) and it is proposed to take it as baseline for the normative phase.
## 6.10 Solution #10: Interworking solution based on Architecture in A.2
### 6.10.1 Introduction
This solution addresses following aspect of Key Issue #12 based on the
architecture in A.2:
\- How to support roaming/interworking operation of the V2X UE between a V2X
system based on EPC and that based on 5GC, e.g. how to handle the V2X
policy/parameters from V2X Control Function via EPS and those delivered via
5GS.
### 6.10.2 Functional Description
Figure 6.10.2-1 shows Local breakout roaming architecture for V2X interworking
between 5GS and EPS. The proposed solution is also applied to non-roaming and
Home Routed roaming scenarios. Support of N26 interface in the network is
optional for interworking as described in TS 23.501 [7].
Figure 6.10.2-1: Local breakout roaming architecture for V2X interworking
between 5GS and EPS
Based on the above architecture figure, we can see:
\- Both EPS V2X CF and 5GS V2X CF are collocated;
\- When the UE is accessing to EPS, the UE is provisioned with V2X related
parameters/policy by the EPS h-V2X CF via user plane in EPS;
\- When the UE is accessing to 5GS, the UE is provisioned with V2X related
parameters/policy by the 5GS h-V2X CF via user plane in 5GS.
### 6.10.3 Procedures
When the UE connects to EPS, the existing procedures for V2X parameter/policy
provisioning are used as specified in TS 23.285 [5], i.e. the U-plane based
provisioning over PDN connection.
When the UE connects to 5GS, the existing procedures for V2X parameter/policy
provisioning can be used as specified in TS 23.285 [5], i.e. the U-plane based
provisioning over PDU session.
V2X Control Function provisions V2X parameter/policy for both EPS (if
available) and 5GS (if available) to UE via U-plane based provisioning when UE
accesses to either EPS or 5GS.
NOTE: How to handle the received V2X parameter/policy for 5GS in the UE only
supporting EPS is up to UE implementation.
### 6.10.4 Impact on existing entities and interfaces
EPS V2X CF needs to be upgraded to support 5GS V2X CF.
Same impacts on 5GS as described in clause 6.4.3.
### 6.10.5 Conclusions
Editor\'s note: Conclusions will be collected for this particular
functionality.
## 6.11 Solution #11: Solution for unicast or multicast for eV2X communication
over PC5 reference point
### 6.11.1 Functional Description
This solution addresses Key Issue #1 on the support of eV2X Group
Communication, Key Issue #9 on the support of the unicast/multicast
communication over PC5 and Key Issue #4 on the support of PC5 QoS framework
enhancement for eV2X, focusing on the following aspects:
\- Identifiers for the unicast communication, e.g. L2 ID;
\- Signalling protocol to support unicast/multicast communication;
\- QoS support and AS layer configurations;
\- Security associations;
\- Procedures for the link establishment and maintenance.
### 6.11.2 Solution description
#### 6.11.2.1 Identifiers for the unicast communication
##### 6.11.2.1.1 Separate L2 ID address space for unicast and multicast from
those for broadcast
One of the essential identifiers for the unicast/multicast communication is
the L2 ID. As of the ProSe design in TS 23.303 [8], the destination L2 ID
address space for one-to-one communication and one-to-many communications are
separate with AS layer mechanism, i.e. MAC layer version number. This is done
to avoid conflicts of the address used that may cause harm to one-to-one
communications. In a similar manner, V2X unicast should also use the separate
L2 IDs than that for the broadcast and multicast.
This separation applies to both destination L2 ID and source L2 ID. For a UE
that has both broadcast and unicast/multicast traffic, different L2 IDs should
be used with corresponding formats. The source L2 ID will be used by peer UE
as the destination L2 ID in unicast communication. Details of the related L2
ID management for unicast/multicast is described in following clauses.
The UE may use distinct source L2 ID for different unicast one to one
communication link e.g. when different unicast links are associated with
different upper layer indentifiers.
##### 6.11.2.1.2 Deciding the Destination L2 ID to use for unicast/multicast
communication
##### 6.11.2.1.2.1 Option A {#option-a .H6}
In TS 23.285 [5], the Destination L2 ID is decided by the UE based on a
configured mapping between PSID/ITS-AID to the L2 ID. This suites for
broadcast traffic, but does not work for unicast or multicast traffic. In
unicast or multicast, destination L2 ID would not be decided based on
PSID/ITS-AID. A V2X UE should be allowed to have multiple unicast connections
or multicast groups supported simultaneously for a particular service
(PSID/ITS-AID). Therefore, the destination L2 ID information in this case
should come from the upper layer. This means that the interface between the
V2X layer and upper layer needs to be enhanced to allow such information to be
passed down together with the data packet.
It is expected that the actual V2X applications do not understand the notion
of L2 ID, as the applications can be built for cross technology or platforms.
Therefore, some mid-ware layer within the UE has to translate the identifier
used by the application layer, e.g. Station ID, to the V2X L2 ID. It means
such mid-ware layer needs to maintain the mapping of application layer
destination identifiers and L2 IDs. Since this mid-ware layer is out of scope
of SA2, in the specification it can be noted as \"upper layer\" in general,
and the assumption that this \"upper layer\" maintains the mapping and
provides the L2 ID for unicast or multicast communication should be
documented.
##### 6.11.2.1.2.2 Option B {#option-b .H6}
An alternative to the above solution is for the V2X layer to manage such
unicast link/multicast group to L2 ID mapping. In that case, the unicast
link/multicast group can be allocated with a flow identifier at the time of
establishment. Corresponding connection profile information, e.g. L2 IDs,
transmission settings, QoS parameters, etc., could be associated with it. In
such a case, the upper layer only needs to use the flow identifier to indicate
the destination and pass it down with the data packet. V2X layer will apply
the associated profile information, including the L2 IDs, for the
transmission. This would allow the reuse the Uu link handling mechanisms, e.g.
similar to that of the QoS Flows, and be more extensible. Again, the
translation of the application layer identifiers, e.g. Station ID, to this
flow identifier has to be done by this mid-ware layer, i.e. the \"upper
layer\".
#### 6.11.2.2 Signalling protocol to support unicast/multicast communication
For unicast or multicast communication, there is a need for some control
message exchanged between the UEs involved in order to establish the link or
group. Therefore, some signalling protocol is required.
In ProSe one-to-one communication defined in TS 23.303 [8], a PC5 Signalling
Protocol (clause 5.1.1.5.2) was introduced, which runs over PDCP layer.
Although it is defined for ProSe use, the messages could be extended in order
to be used for V2X communication. The detailed protocol design needs to be
reviewed based on the actual unicast operation procedures.
Another alternative approach is to run RRC over PC5. As PC5 Signalling
Protocol is used over PDCP anyway, RRC protocol can be used to replace it.
Although not all RRC features are required for PC5 operation, those selected
V2X relevant RRC messages can be extended and used, e.g.
SidelinkUEInformation, etc. The advantage of that is the potential unification
of control signalling protocols for Uu and PC5.
Therefore, in this solution a signalling protocol over PC5 for the
unicast/multicast communication management is introduced.
#### 6.11.2.3 QoS support and AS layer configurations
It is desirable that QoS can be support over the unicast and multicast
communication as well.
In TS 23.285 [5], the QoS model for V2X communication is based on the per
packet model, e.g. PPPP and PPPR. With unicast or multicast communication, it
should be discussed whether a connection-oriented QoS model similar to that of
Uu connection should be supported as well.
As also discussed in Key Issue #4 \"Support of PC5 QoS framework enhancement
for eV2X\", something more than existing PPPP and PPPR is expected be
required.
Specifically for unicast or multicast, due to the link or group involved, most
packets sent over the same unicast link between a pair of peers should have
the same QoS characteristics. This is closer to the Uu connection model,
rather than the normal broadcast based traffic. Therefore, Uu type of QoS
management concept can be reused here. This allow a unified model for Uu and
PC5.
In addition, there could be different AS layer features that may be optional
or not backward compatible. Therefore, when setting up the unicast link, such
configuration could be also negotiated and configured together with/or as part
of the QoS profile.
NOTE: The QoS Model for unicast described in Solution #19 (clause 6.19) is
used.
#### 6.11.2.4 Security associations
The unicast or multicast communication may need protection at link layer as
well. The ProSe one-to-one communication supports secure L2 link
establishment, as defined in TS 33.303 [11].
However, within V2X communication context, each UE has the corresponding
certificates for the security protection. Therefore, there may be a need to
enhancement or adjust the existing L2 secure link establishment protocol in
order to support the use of such security associations.
The exact security handling should be analysed and decided by SA3. SA2 design
needs to be aligned with those decisions when available.
#### 6.11.2.5 Procedures for the link establishment and maintenance
TS 23.303 [8] has defined the procedures for the establishment and maintenance
of secure L2 link over PC5, as in clause 5.4.5. These procedures can be
enhanced and adapted for the V2X use, subject to the decisions above regarding
signalling protocol choice, security handling, etc.
Some addition considerations for the V2X for the link/group handling is
required though. For V2X communication, not all UEs will be supporting or use
unicast communication. In addition, not all services may be run over the same
channel or RAT (e.g. LTE V2X vs. NR V2X). With V2X, there is no discovery
channel like that of ProSe (i.e. PC5-D), and there is no assumption on the
configuration from network as that of Public Safety use. Therefore, in order
to support the link establishment, there is a need for service announcement in
order to inform the peer of the existence of the UE and the capability of the
UE for the unicast communication, e.g. channel to operate, or the services
supported, etc.
Such a service announcement should be made accessible to all the UEs that are
interested in using the service. For example, such announcement could be
either configured to send over a dedicate channel, similar to how WAVE Service
Advertisement (WSA) is handled, or to be piggybacked on the periodical
messages from the supporting UEs.
NOTE 1: Service announcement is handled by upper layer and out of scope of
SA2.
For layer 2 link maintenance, keep-alive functionality is needed to detect
that when the UEs are not in direct communication range, so that they can
proceed with implicit layer 2 link release.
NOTE 2: It is left to Stage 3 to determine how keep-alive functionality is
supported.
### 6.11.3 Procedures
#### 6.11.3.1 Establishment of layer 2 link over PC5
Layer-2 link establishment procedure as defined in TS 23.303 [8] clause
5.4.5.2 can be reused for the eV2X unicast link establishment, with the
following adaptations:
\- The messages may be converted to RRC signaling message instead of PC5
signaling message, depends on RAN WG\'s decision.
\- \"UE oriented layer 2 link establishment\" operates as below and Figure
6.11.3.1-1 shows the procedure:
\- The Direct Communication Request message can be sent by UE-1 with broadcast
mechanism, i.e. to a broadcast address associated with the application instead
of the L2 ID of UE-2. The upper identifier of UE-2 is included in the Direct
Communication Request message to allow UE-2 to decide on if to respond to the
request. The Source L2 ID of this message should be the unicast L2 ID of the
UE-1.
\- The Direct Communication Request message should be transmitted using
default AS layer setting e.g. broadcast setting, that can be understood by
UE-2.
\- UE-2 uses the source L2 ID of the received Direct Communication Request
message as destination L2 ID in the subsequent signalling to UE-1, and uses
its own unicast L2 ID as the source L2 ID. UE-1 obtains UE-2\'s L2 ID for
future communication, for signalling and data traffic.
Figure 6.11.3.1-1: UE oriented layer 2 link establishment procedure
\- \"V2X Service oriented layer 2 link establishment\" operates same to the
\"UE oriented layer 2 link establishment\" with the following differences and
Figure 6.11.3.1-2 shows the procedure:
\- The information about V2X Service requesting L2 link establishment, i.e.
information about the announced V2X Service is included in the Direct
Communication Request message to allow other UEs to decide on if to respond to
the request.
\- The UEs that are interested in using the V2X Service announced by the
Direct Communication Request message can respond to the request (UE-2 and UE-4
in Figure 6.11.3.1-2).
\- After establishing layer 2 link with other UE(s) as described above, new
UE(s) can enter proximity with UE-1, i.e. UE-1\'s direct communication range.
In this case, UE-1 may initiate V2X Service oriented layer 2 link
establishment procedure as it is aware of new UE(s) from Application Layer
messages sent by the UE(s). Or the new UE may initiate V2X Service oriented
layer 2 link establishment procedure. Therefore, UE-1 does not have to keep
sending a Direct Communication Request message periodically to announce the
V2X Service it wants to establish L2 link with other UE for unicast.
Figure 6.11.3.1-2: V2X Service oriented layer 2 link establishment procedure
The layer 2 link supports the non-IP traffic. No IP address negotiation and
allocation procedure would be carried out.
#### 6.11.3.2 Contents of the signalling message for link establishment
The information carried in Direct Communication Request message defined in TS
24.334 [13] requires at least the following updates:
\- For \"UE oriented layer 2 link establishment\",
\- The User Info needs to include the target UE\'s ID (UE-2\'s upper layer
ID), besides the initiating UE\'s ID (UE-1\'s upper layer ID).
NOTE: Stage 3 can decide if these IDs can be carried in the same IE or
separate IEs, for example, the Station ID/Vehicle Temp ID only needs to be 4
octets.
\- For \"V2X Service oriented layer 2 link establishment\",
\- The Announced V2X Service Info needs to include the information about V2X
Service requesting L2 link establishment, e.g. PSID or ITS-AIDs of the V2X
application. Sensor Sharing, and etc can be the case for the V2X Service.
\- The IP Address Config, which is specified as mandatory for ProSe, should
allow an indication that no IP is to be used, such that the receiving UE (e.g.
UE-2) would not start any IP configuration procedure for this particular link.
\- The IEs dedicated for security need to be reviewed by SA3, as the security
mechanism for eV2X may be different and requires different IEs.
\- Additional configuraiton information regarding the link, e.g. when RRC
message is used there may be AS layer configurations.
#### 6.11.3.3 Link identifier update procedure for privacy protection of
unicast communication
{width="4.186805555555556in" height="2.34375in"}
Figure 6.11.3.3-1: Layer-2 link identifier update procedure
This procedure is used to update the peer in the unicast communication of the
impending change of the identifiers used for this link. Due to the privacy
requirements, in eV2X use, UE should frequently change its identifiers in
order to avoiding being trackable by 3rd party. When the identifier change
happens, all identifiers across all the layers, i.e. from application layer ID
to L2 ID, need to be changed. This signaling is required before the identifier
changes happen, to prevent service interruptions.
1\. UE-1 decides the change of identifiers, e.g. due to the upper layer
identifier change or a timer, and includes the new identifiers to use
(including the new upper layer identifiers, new IP address/prefix if
application, new L2 IDs) in the Link Identifier Update Request message, and
send to UE-2 before it changes the identifiers. The new identifiers to use
should be cyphered to protect privacy.
NOTE 1: The timer is running on a per Source L2 ID.
2\. UE-2 respond with a Link Identifier Update Response message. Upon
reception of the message, UE-1 and UE-2 can start to use the new identifiers
for the data traffic. UE-1 shall receive traffic on its old L2 ID until it
receives the Link Id Update Response from UE-2.
NOTE 2: If there are multiple links from UE-1 using the same upper layer
identifiers or L2 IDs, UE-1 needs to perform the update procedure over each of
the link and for each link needs to keep receiving traffic on its old L2 ID
for that specific link until it receives the Link Id Update Response.
#### 6.11.3.4 Security aspects for layer 2 link
As the eV2X applications have associated security certificates, the unicast
link can reuse those to derive the security association for protecting the
signalling or data of the unicast link.
### 6.11.4 Impact on existing entities and interfaces
Editor\'s note: Impacts on existing nodes or functionality will be added.
### 6.11.5 Topics for further study
None.
### 6.11.6 Conclusions
Solution documented in clauses 6.11.1 to 6.11.4 addressed all the aspects of
Key Issue #9 Support of unicast/multicast for sensor sharing over PC5, and
should move to normative phase. Following aspects will be further updated
based on feedbacks from other Working Groups:
\- the signalling message definition for unicast link establishment and
management, e.g. if and how RRC signalling is used for unicast link;
\- the choice of per packet QoS model or bearer based QoS model for broadcast,
groupcast, and unicast based on RAN decisions;
\- signal to the base station regarding the service used when network
scheduled mode is used;
\- the potential security related procedure updates for unicast communication
over PC5.
NOTE: The application layer may use unicast or groupcast communication
mechanism for different applications, e.g. platooning applications.
## 6.12 Solution #12: 3GPP PC5 RAT selection for a V2X application
### 6.12.1 Functional Description
This solution corresponds to the Key Issue #2 \"3GPP PC5 RAT selection for a
V2X application\".
If a V2X services need to be made available to LTE PC5 (resp. NR PC5) V2X
capable UEs, the corresponding packets shall be transmitted at least over LTE
PC5 (resp. NR PC5). This aspect is also related to the Key Issue #2 because
this key issue can be interpreted that for V2X services requiring availability
to LTE PC5 V2X capable UEs, NR PC5 V2X capable UEs supporting LTE PC5 should
use at least LTE PC5 as a 3GPP PC5 RAT to transmit the corresponding V2X
messages.
In Rel-15 (for RAN WI \"LTE_eV2X-Core\"), there is the backward-compatibility
issue with Rel-14 V2X regarding LTE PC5 transmission of V2X messages. This
backward-compatibility issue mainly happens because Rel-15 LTE PC5 PHY format
(modulation and TBS size) is incompatible with the Rel-14 LTE PC5 PHY format
which means when a Rel-15 UE transmits V2X message by using Rel-15 LTE PC5 PHY
format, Rel-14 UEs cannot decode the V2X message. Similarly, it is expected
that when NR PC5 V2X capable UE transmits V2X message by using NR PC5 format,
LTE PC5 V2X capable UEs not supporting NR PC5 cannot decode the V2X message.
Since Rel-14 LTE PC5 V2X capable UEs support the basic safety V2X
services/messages, it is expected that to satisfy legacy support, the NR PC5
V2X capable UE supporting Rel-14 LTE PC5 should at least select the Rel-14 LTE
PC5 RAT, unless it is specifically configured not to use them.
To resolve the backward-compatibility issue with Rel-14 LTE PC5 V2X, \"Tx
Profiles\" based approach is considered as a potential approach for broadcast.
In this solution, it is proposed to use the \"Tx Profiles\" approach to solve
the Key Issue #2 on 3GPP PC5 RAT selection for a V2X application by extending
\"Tx Profiles\" to cover NR PC5 transmission mechanisms. Contents of Tx
Profile can be defined by the AS layer while configuration of \"Tx Profiles\"
associated with the V2X services, e.g. PSID or ITS-AIDs of the V2X
applications, needs to be defined by the V2X layer.
Editor\'s note: Whether this solution is suitable is depending on design of NR
PC5 that will be developed in RAN WGs.s introduced when developing contextge
to the networkto transmit and receive non-IP based V2X message over Uu in
5GS000000000
### 6.12.2 Procedures
\- The \"Tx Profiles\" are configured in the UE and associated with the V2X
services, e.g. PSID or ITS-AIDs of the V2X applications.
\- The V2X layer checks the V2X service of a packet from the upper layer (e.g.
based on PSID or ITS-AID and/or QoS parameters) and locates the corresponding
\"Tx Profile(s)\".
\- The V2X layer passes the packet to the applicable LTE and/or NR PC5 AS
layer(s) in accordance with the \"Tx Profile(s)\" for transmission.
NOTE: Any V2X packet passed to a PC5 AS layer is expected to be transmitted
according to applicable RRM requirements (e.g. interference, resource
scheduling etc).
### 6.12.3 Impact on existing entities and interfaces
Editor\'s note: Impacts on existing nodes or functionality will be added.
### 6.12.4 Topics for further study
Editor\'s note: Topics for FFS will be collected for this particular
functionality.
### 6.12.5 Conclusions
Editor\'s note: Conclusions will be collected for this particular
functionality.
## 6.13 Solution #13: Solution for PC5 RAT selection
### 6.13.1 Functional Description
This solution addresses the Key Issue #2 in the perspective of 3GPP PC5 RAT
selection for a V2X application.
This solution applies to the all architecture options in Annex A.
Considering vehicle communications environment, it would be expected that
various types of vehicles with different capabilities and with different
subscription to different PLMNs are on the same road and need to communicate
each other. So, it is hardly possible to know peer UE capabilities in advance.
In addition, the LTE RAT and NR RAT may provide different characteristics in
terms of data rate, latency and message transfer range, etc. So, it is
possible to decide which RAT type is the most suitable PC5 RAT to meet the
service requirement of a certain V2X application in advance.
Therefore, this solution proposes to define a mapping of PC5 RAT type and the
V2X services, e.g. PSID or ITS-AIDs of the V2X application. The UE is
provisioned with the mapping information and is able to select a PC5 RAT type
when sending V2X messages over PC5.
If a V2X service identified by e.g. PSID or ITS-AID is required to transfer
V2X messages over LTE PC5, the V2X layer provides to AS layer the \"Tx
profile\" associated with the same PSID or ITS-AID if available.
Editor\'s note: Whether this solution is suitable is depending on design of NR
PC5 that will be developed in RAN WGs.
### 6.13.2 Procedures
The mapping of PC5 RAT type and V2X services (e.g. PSID or ITS-AIDs) is
provided to the UE when the V2X service parameters are provisioned to the UE.
How the service authorization and provisioning for eV2X communications over
PC5 is provided to the UE will be studied under Key Issue #5 and architecture
options in Annex A. Therefore, no further effort is required here.
### 6.13.3 Impact on existing entities and interfaces
UE:
\- The UE stores the mapping of PC5 RAT type and V2X services and uses the
mapping information to select a PC5 RAT type when sending V2X messages over
PC5.
PCF, V2X Control Function and/or V2X AS:
\- The entity who is in charge of managing V2X service provisioning
parameters, i.e. PCF, V2X Control Function, and/or V2X AS, depending on which
architecture reference model is selected, manages the mapping of PC5 RAT type
and V2X services, and provides the mapping information to the UE.
### 6.13.4 Topics for further study
Editor\'s note: This clause describes topics for further study.
### 6.13.5 Conclusions
Editor\'s note: This clause provides conclusions of the solution.
## 6.14 Solution #14: Solution for eV2X system migration
### 6.14.1 Functional Description
#### 6.14.1.1 General description
This solution addresses Key Issue #12 (System migration and interworking for
eV2X). The use cases described in the key issue are considered separately for
PC5 based operation and Uu based operation.
#### 6.14.1.2 PC5 based V2X communication considerations
Depends on regional regulation and deployment choices, there may be following
different types of UEs:
\- Type 1: UE with LTE PC5 interface only;
\- Type 2: UE with LTE PC5 and NR PC5 interfaces;
\- Type 3: UE with NR PC5 interface only.
To address Key Issue #12 (system migration and interworking), the following
situations should be considered:
\- Depends on regional regulations and deployment, Type 1 UE may be deployed
in a particular Geo-Area. In this case, when Type 2 UE or Type 3 UEs are made
available later, all the UEs must be configured properly with the association
of service (identified by PSID/ITS-AID) and RAT types, such that the service
running on different types of UEs can interwork. The configuration data
structure should support the following possibilities:
\- Map a service type (PSID/ITS-AID) to one RAT type (e.g. LTE PC5 or NR PC5).
For example, for basic safety services (e.g. BSM 0x20) is associated with LTE
PC5, and Traveler information and roadside signage service (e.g. TIM 0x83) is
associated with NR PC5. This way:
\- Type 1 UE sends and receives BSM messages over LTE PC5, and indicates to
upper layer that TIM is not supported.
\- Type 2 UE sends and receives BSM messages over LTE PC5, and sends and
receives TIM message over NR PC5.
\- Type 3 UE sends and receives TIM messages over NR PC5, and informs upper
layer that BSM is not supported (so that upper layer may decide to use other
radio technology for such service).
\- In some region, there may be no Type 1 UE deployment (or it was phased out
after a long period), there may be Type 2 and Type 3 UEs. In this case,
correct configuration should also point correctly the RAT type to allow the
service running on different types of UEs to interwork. The configuration data
structure should support the following possibilities:
\- Map all service type (PSID/ITS-AID) to one RAT type (e.g. NR PC5). This
way:
\- Type 2 UE sends and receives all V2X messages over NR PC5.
\- Type 3 UE sends and receives all V2X messages over NR PC5.
NOTE: Use of non-3GPP access technology for the V2X message transmission is
handled at upper layer, and is out of scope of 3GPP.
In order to support the above operation, the different types of UEs need to
have consistent configurations at least regarding:
\- Radio resources to use for the specific PC5 interface in a particular
region;
\- Policy and parameters for the operation, e.g. service identifier mapping to
the Tx Profile and QoS requirements.
Similar to existing definition in TS 23.285 [5], such configurations could be
pre-configured (on the ME or UICC), or provisioned (via mechanism selected as
described in Annex A, or via V1 from the V2X Application Server). The
provisioning approach depends on the architecture options described in Annex
A.
\- For a EPS V2X Capable UE, the provisioning method is as defined in TS
23.285 [5] clause 5.2 (which in turn uses procedure of TS 23.303 [8] clause
5.2.1 and clause 5.2.2). When such a UE moves under the coverage of a 5GS
system, it is expected that configuration from EPS will continued to be used,
as it cannot access 5GS provisioning methods.
\- For a 5GS V2X Capable UE, the provisioning can happen in EPS or 5GS.
Therefore, there is a need to ensure that consistent configuration information
is provided to the UE, and also avoid double provisioning of the configuration
when UE moves between EPS and 5GS.
#### 6.14.1.3 Additional consideration for PC5 Mode 3 operations
For PC5 Mode 3 operation, network support is required. The assumed operation
is as following:
Therefore, a 5GS V2X UE can operates Mode 3 when it is under the coverage of a
NG-RAN that supports scheduling of 5GS V2X PC5 (i.e. NR V2X PC5). In such a
case, the EPS V2X PC5 of the same UE (i.e. LTE V2X PC5) can operate in Mode 3
if the same serving NG-RAN node also supports scheduling of EPS V2X PC5.
Otherwise, it can fall back to Mode 4. When the 5GS V2X UE is under the
coverage of an EPS system, it can operate in Mode 3 of the EPS V2X PC5 (i.e.
LTE V2X PC5) if the E-UTRAN supports it. The 5GS V2X PC5 (i.e. NR V2X PC5)
will operate in Mode 4.
Editor\'s note: The Mode 3 operation details and the falling back to Mode 4
requires RAN\'s confirmation.
For an EPS V2X UE, obviously, it only operates in Mode 3 when it is connected
to an EPS system.
#### 6.14.1.4 Uu based V2X communication considerations
There are two types of Uu based V2X communication defined in TS 23.285 [5],
i.e. Uu unicast based, and Uu MBMS based.
For Uu unicast based V2X communication, it is possible for the UE to have the
same service supported in EPS and 5GS, as long as architecture requirements as
defined in TS 23.501 [7], e.g. clause 4.3, clause 5.17, can be met. Certain
services may be only supported in 5GS, due to for example QoS requirements.
Those services will not be considered for interworking.
### 6.14.2 Procedures
TBD.
Editor\'s note: This will be defined after the confirmation of the eV2X system
architecture option.
### 6.14.3 Impact on existing entities and interfaces
TBD.
### 6.14.4 Topics for further study
Interaction between EPS and 5GS in configuration parameter provisioning based
on eV2X system architecture option selection.
Assumptions and solutions have dependency on RAN design on V2X for 5G and need
to be coordinated with RAN.
### 6.14.5 Conclusions
Principles documented in clause 6.14.1.2 to 6.14.1.3 provided examples
regarding how proper configurations at the UE can support migration and
interworking of V2X services on different types of UEs.
## 6.15 Solution #15: Network-controlled QoS mechanism for PC5 communication
### 6.15.1 General Description
This solution addresses Key Issues #4.Current QoS framework for V2X
communication over PC5 is based on PPPP (ProSe Per Packet Priority) and PPPR
(ProSe Per Packet Reliability) mechanisms which can be found in TS 23.285 [5].
It is proposed to use a new mechanism for:
\- Making use of the similar QoS parameters for PC5 as the one for Uu;
\- Delivering the QoS information from network side: the network provides the
QoS rules of PC5 communication to the UE, i.e., Core Network-controlled QoS
parameters provisioning procedure.
### 6.15.2 Proposed QoS model for PC5 communication
In clause 6.2.1.2 of Solution #2, it demonstrates that performance
requirements in each CoR and LoA can be interpreted by the 5G QoS
characteristics associated with 5QI (note that the original idea of Solution
#2 is for Uu interface). As a result, similar QoS parameters can be used for
PC5 communication, e.g. the Data Rate, Payload, Reliability and Maximum end-
to-end latency can be represented by GBR QoS Flows or Non-GBR QoS Flows,
Maximum Data Burst Volume, **the combination of PDB and the Packet Error Rate
(PE** R), and PDB, respectively. Such QoS parameters for QoS flow relevant to
the PC5 communication will be associated to a certain PC5 link, to guarantee
PC5 communication.
Editor\'s note: It is FFS what other parameters are needed to support QoS
control to PC5, e.g. for satisfying \"Transmission rate\", and \"Minimum
required communication range\" requirements in CoR and LoA, why these new
parameters are needed, and how UE uses these new parameters for PC5
communication.
Editor\'s note: It is FFS whether and how NG-RAN enforces the QoS parameters
for network schedule mode for PC5 communication.
Editor\'s note: It is FFS whether the QoS framework can be applied only to
unicast/multicast or also to broadcast.
Editor\'s note: It is FFS that how does UE operate on network scheduling mode
(mode 3) and autonomous communication mode (mode 4).
### 6.15.3 Procedures
NOTE: How to provide QoS parameters for PC5 communication by the CN is based
on the Architecture decision.
### 6.15.4 Impact on existing entities and interfaces
V2XCF:
\- The Network Function in the 5GC that will provide QoS parameters for PC5
communication to the AMF.
UE:
\- Obtains QoS parameters for PC5 communication from the CN.
### 6.15.5 Conclusions
TBD
## 6.16 Solution #16: Solution for QoS Support for eV2X over Uu Interface -
Enhancements for QoS Monitoring and Control
### 6.16.1 Functional Description
This solution addresses Key Issue #3 (QoS Support for eV2X over Uu interface)
and it is based on enhancing the 5GS QoS model.
This solution defines two alternative options:
\- Option 1 -- RAN based multi-QoS profile;
\- Option 2 -- CN based multi-QoS profile.
To enable enhanced QoS Monitoring and Control the following steps should be
executed. The steps apply to both options unless otherwise indicated.
1\. An eV2X Application Function (AF), possibly from 3rd party, influences the
QoS of the eV2X service, by offering a set of possible QoS levels to the PCF.
For examples, the AF indicates QoS levels 1, 2 and 3 which, based on SLA, are
mapped on different QoS parameters sets.
2\. To support eV2X services, a new type of PCC rule with multiple QoS
parameter sets (each consists of a rank, 5QI, and optionally Rank notification
(RN), GBR and MBR) should be introduced. The PCF generates such a PCC rule for
the eV2X service and maps the QoS levels provided by the AF to different QoS
parameter sets. This PCC rule is then provided to the SMF.
The new type of PCC rule includes, e.g.:
Parameter set 1 = {Rank 1: 5QI value = x1, RN, GBR = y1, MBR = z1} (i.e.,
highest QoS level);
Parameter set 2 = {Rank 2: 5QI value = x2, RN, GBR = y2, MBR = z2} (i.e.
medium QoS level);
Parameter set 3 = {Rank 3: 5QI value = x3, RN, GBR = y3, MBR = z3} (i.e.
lowest QoS level).
3\. To support eV2X services, a new type of QoS flow that can be associated
with multiple QoS profiles should be introduced. When the SMF receives a PCC
rule with multiple QoS parameter sets, it establishes such a QoS flow and
provides a QoS profile per QoS parameter set.
The new type of QoS Flow includes, e.g.:
QoS profile 1 = {Rank 1: 5QI value = x1, RN, GBR = y1, MBR = z1} (i.e.,
highest QoS level);
QoS profile 2 = {Rank 2: 5QI value = x2, RN, GBR = y2, MBR = z2} (i.e. medium
QoS level);
QoS profile 3 = {Rank 3: 5QI value = x3, RN, GBR = y3, MBR = z3} (i.e. lowest
QoS level).
4\. (This step applies to Option 1 only) When the RAN receives a QoS flow
establishment request which contains multiple QoS profiles, it treats this QoS
flow according to the QoS profile with the highest rank (i.e. with the most
demanding QoS parameter values).
NOTE 1: The ranking of the different QoS profiles is based on the
application\'s input.
5a. (This step applies to Option 1 only) If later the current QoS profile
cannot be fulfilled for the QoS flow, the RAN should try to fulfil the QoS of
one of the other QoS profiles associated to the QoS flow. If this is
successful, the RAN will indicate the rank of the now supported QoS profile in
the notification to the network that the current QoS can no longer be
fulfilled.
NOTE 2: RAN can optionally send a notification to the UE on the next level of
QoS to be adjusted if specified by the PCF/SMF.
5b. (This step applies to Option 2 only) If the QoS profile cannot be
fulfilled for the QoS flow, the RAN triggers a PDU session modification to
notify the 5GC of the QoS failure (see TS 23.502 [9], clause 4.3.3.2 step 1a).
The 5GC modifies the PDU session to fulfil the QoS of one of the other QoS
profiles associated to the QoS flow.
NOTE 3: RAN can optionally send a notification to the UE on the unfulfilment
of the QoS profile if specified by the PCF/SMF.
6\. The AF and/or UE is notified by the PCF whenever a QoS level change occurs
and can adjust the eV2X service accordingly. The notification indicates the
supported QoS level following the change.
> Depending on the use case (e.g., in case of latency constrains, the
> notification should be sent directly to the UE), the AF may indicate in the
> notification request message whether the notification should be sent to the
> UE, AF or both.
7\. (This step applies to Option 1 only) If later the RAN recognizes that a
higher rank QoS profile can be fulfilled, the QoS flow will be treated
accordingly and a notification to the network is sent that a new QoS profile
can now be fulfilled.
8\. The AF and/or UE is notified by the PCF whenever a QoS level change occurs
and can adjust the eV2X service accordingly. The notification indicates the
supported QoS level following the change.
NOTE 4: Steps 5+6 and/or 7+8 can occur several times depending on the number
of QoS profiles that are associated to the QoS flow.
### 6.16.2 Procedures
#### 6.16.2.1 Application Function Request to Influence eV2X QoS
The procedure for the application function request to influence eV2X QoS
follows the principles specified in TS 23.503 [10] clause 6.2.3. The AF shall
invoke (either directly of via the NEF) the
Npcf_PolicyAuthorization_Create/Update Request service operation.
The Npcf_PolicyAuthorization_Create/Update Request service operation is
extended by:
\- The set of possible QoS Levels to associate to specific eV2X services;
\- An preferred/default QoS Level to specific eV2X services;
\- QoS level change policy in case the preferred/default QoS Level could not
be fulfilled;
NOTE: Details on the content of the service operation are FFS.
The PCF shall notify (either directly of via the NEF) the AF the Success or
the Failure of the request, along with the supported QoS Levels.
#### 6.16.2.2 Application Function Request of QoS Level Change Notification
The procedure for the application function request of QoS Level Change
Notification follows the principles specified in in TS 23.502 [9] clause
4.3.6.3.
The AF shall invoke (either directly of via the NEF) the
Npcf_PolicyAuthorization_Subscribe service operation. The service operation
(AF request) may contain at least:
\- Type of the notification (e.g. notified NFs or UE);
\- Other information, e.g. as described in TS 23.501 [7] clause 5.6.7
NOTE: Details on the content of the service operation are FFS.
In case the AF shall be notified, the PCF shall notify either directly of via
the NEF the AF the successful subscription to the QoS Level Change
Notification event.
In case the UE shall be notified, PCF decides which NF should notify the UE
(e.g., RAN, SMF or PCF).
#### 6.16.2.3 eV2X Service Session QoS Level Change and AF Notification
##### 6.16.2.3.1 Option 1 - (R)AN based multi-QoS profile
Figure 6.16.2.3.1-1 represents a high level description of how the QoS level
change and related AF/UE notification work.
Figure 6.16.2.3.1-1: QoS Level Change and Notification (Option 1)
0\. PCF/SMF gets the RAN capability on multi QoS profile support (e.g., via
OAM configuration).
1\. PDU session context establishment and authentication/authorization as
described in TS 23.502 [9] clause 4.3.2.2.
2\. Session Management Policy Establishment/Modification.
2a) The Application Function Request to Influence eV2X QoS procedure is
executed as described in clause 6.16.2.1.
2b) The Application Function Request of QoS Level Change Notification
procedure is executed as described in clause 6.16.2.2.
3\. eV2X Service Session establishment with Multi QoS profiles QoS Flow
according to the correspondent Multi QoS Level PCC rule.
4\. When the RAN decides, e.g., that the QoS targets of the active QoS profile
of the QoS Flow cannot be fulfilled, it triggers a PDU Session modification
towards the SMF as described in TS 23.502 [9] clause 4.3.3.2, step 1e, and
informs the SMF and, optionally the UE, about the new rank of the QoS profile.
The SMF forwards the notification to the PCF.
The SMF continues the PDU Session modification to inform the UE about the
currently active QoS profile (as described in clause 6.16.1 step 5). If
specified by the PCF, the SMF may notify the UE without modification of the
current PDU session.
NOTE: How RAN sends the notification to UE is pending RAN WGs\' feedback.
5\. The PCF notifies the AF of the QoS Level Change by sending the
Npcf_QoS_Level_Change_Notification, after the completion of the PDU Session
Modification if configured in step 2. The notification message may contain at
least:
\- eV2X session, UE ID, time, location, QoS Level and AF transaction
identifier information.
> The UE may also be notified of the QoS Level Change via NAS message, if not
> done at step 4.
6\. The AF notifies the UE of the adjustment of V2X application according to
the new QoS Level and/or vice versa. The notification may also include
information on the QoS Level Change, if not previously notified in step 4 or
step 5.
##### 6.16.2.3.2 Option 2 - CN based multi-QoS profile
Figure 6.16.2.3.2-1: QoS Level Change and Notification (Option 2)
1-3. As steps 1 to 3 of clause 6.16.2.3.1.
4\. The RAN notifies the SMF of a QoS failure. The SMF triggers the PDU
session modification asking for another QoS profile in Multi QoS profiles
(e.g., according to the rules specified by PCF).
The SMF continues the PDU Session modification to inform the UE about the
currently active QoS profile (as described in clause 6.16.1 step 5). If
specified by the PCF, SMF may notify the UE without modification of the
current PDU session.
5-6. As steps 5 to 6 of clause 6.16.2.3.1.
### 6.16.3 Impact on existing entities and interfaces
The solution has the following impacts:
**Option 1 - (R)AN based multi-level QoS profile**
QoS model
\- The 5G QoS model should support a new type a QoS Flow associated to
multiple QoS profiles.
AF
\- The AF shall be able to invoke PCF services:
\- To request multiple QoS levels for eV2X services;
\- To request the QoS level change notification.
PCF
\- The PCF shall extend existing services:
\- To allow AF to request multiple QoS levels for eV2X services;
\- To allow AF to request the QoS level change notification;
\- To send AF notifications of QoS Level changes.
\- The PCF shall define a new type of PCC rule with multiple QoS parameter
sets (each consists of a rank, 5QI, and optionally Rank notification (RN), GBR
and MBR) to support multiple QoS Levels eV2X services.
\- The PCF shall identify ANs which support and not support multi QoS
profiles.
SMF
\- The SMF shall support the type of PCC rule with multiple QoS parameter
sets;
\- The SMF shall identify ANs which support and not support multi QoS
profiles.
RAN
\- The RAN should support multi QoS profiles bearers;
\- The RAN should support the notification of a QoS profile change for multi
QoS profile bearers towards the 5GC and/or the UE.
UE
\- The UE should support multi QoS profiles.
**Option 2 - CN based multi-level QoS profile**
Same as for Option 1, with the following differences:
\- no impacts on RAN.
### 6.16.4 Topics for further study
### 6.16.5 Solution evaluation
Solution #16 addresses Key Issue #3 \"QoS Support for eV2X over Uu interface\"
and, in particular, the Requirements to support vehicle quality of service
(see clause 5.6 of TS 22.186 [4]). The solution requires extending the current
QoS framework and has some impact on the AF and 5GS. The main benefits are:
> \- It allows the eV2X AF to better adjust to the currently applied QoS
> (e.g., in case of QoS failure, instead of downgrading to the lowest possible
> QoS level, the V2X application can still operate at a higher QoS level, even
> if not at the highest one).
>
> \- It reduces the signalling load by avoiding QoS re-negotiations between
> V2X AF and 5GC and between PCF and SMF.
>
> \- The support of Multi QoS profile flows enables controlled QoS adjustments
> (i.e. upgrade or downgrade) according to the needs of the V2X application.
\- It reduces discontinuity of eV2X applications.
### 6.16.6 Conclusions
Editor\'s note: Conclusions are FFS.
## 6.17 Solution #17: Solution for QoS Support for eV2X over Uu Interface
### 6.17.1 Functional Description
This solution addresses Key Issue #3 (QoS Support for eV2X over Uu interface)
and it **reuses** the 5GS QoS model specified in TS 23.501 [7] and TS 23.503
[10] with necessary enhancement as follows.
1\. An eV2X Application Function (AF), possibly from 3rd party, influences the
QoS of the eV2X service, by providing service info to the PCF (via NEF if 3rd
party AF) as specified in TS 23.503 [10] (and TS 23.203 [12]).
> The V2X Application Function may require that the AN notify the UE of the
> QoS target unfulfilment/re-fulfillment.
2\. PCF authorize the service info from the AF, translates it into PCC rule
with QoS parameters such as 5QI, ARP, GBR/MBR, and optionally PL and
notification control and then sends the PCC rule to the SMF.
> The PCF passes the AN-to-UE notification control if requested by the V2X AF.
3\. The SMF performs QoS Flow binding and creates a new QoS Flow if no
existing QoS Flow can fulfil the service requirement. The SMF also derives the
QoS rules and QoS Flow level parameters to the UE, as well as QoS profile to
the AN.
> The SMF may also indicate that AN need to notify the UE based on the
> information in PCC rule.
4\. The AN receives a QoS flow establishment request which contains the QoS
profile. Per TS 23.501 [7], in the QoS profile,
\- The GFBR is recommended as the lowest acceptable service bitrate where the
service will survive, and MFBR>GFBR can be provided to the RAN. The bit rates
above the GFBR value and up to the MFBR value may be provided with relative
priority determined by the Priority level of the QoS Flows.
> \- The PDB for GBR QoS Flows with GBR resource type shall be interpreted as
> a maximum delay with a confidence level of 98 percent if the QoS flow is not
> exceeding the GFBR. The PDB for delay critical GBR resource type may be
> exceeded for at most PER packets, that is, a packet delayed more than PDB is
> counted as lost if the transmitted data burst is less than MDBV within the
> period of PDB and the QoS Flow is not exceeding the GFBR.
\- The Packet Error Rate (PER) defines an upper bound for the rate of PDUs
(e.g. IP packets) that have been processed by the sender of a link layer
protocol but that are not successfully delivered by the corresponding receiver
to the upper layer, i.e. the PER defines an upper bound for a rate of non-
congestion related packet losses. For GBR QoS Flows with Delay critical GBR
resource type, a packet which is delayed more than PDB is counted as lost, and
included in the PER unless the data burst is exceeding the MDBV within the
period of PDB or the QoS Flow is exceeding the GFBR.
5\. If the (R)AN cannot fulfil the GFBR requirement, and/or the PDB
requirement and/or the PER requirement, it notifies the 5GC what QoS
characteristics cannot be fulfilled using the procedure as specified in clause
5.7.2.4 of TS 23.501 [7] and then to the AF if notification is required so
that the AF can take proper action.
When radio condition changes, and the requirement of GFBR, PDB and PER can be
fulfilled again, the NG-RAN notifies the 5GC using the procedure as specified
in clause 5.7.2.4 of TS 23.501 [7] and then to the V2X application. The V2X
Application then takes proper action based on information provided by the 3GPP
system and maybe other sources.
NOTE 1: A non-GBR Flow may use the bit rate up to the value of the session
AMBR which can be very high, and consequently the non-GBR QoS Flow may take
unreasonably large amount of resources and starve resource for other flows,
therefore it\'s considered unrealistic to apply Notification Control for the
non-GBR QoS Flow unless a bit rate parameter is also introduced for non-GBR
Flow which means a major change to the QoS model.
In addition, (R)AN may also notify to the UE of the QoS target
fulfilment/unfulfillment based on request from 5GC.
In addition to notify the V2X AF that the QoS targets cannot be fulfilled, the
NG-RAN may also include the currently \'QoS requirements that are guaranteed\'
(GFBR, PDB and/or PER), so that the V2X application can take this information
into account.
NOTE 2: The format of the \'QoS requirements that are guaranteed\' between PCF
and AF can be decided in the normative phase.
NOTE 3: It\'s assumed that (R)AN does not notify the UE frequently, e.g. every
few milliseconds.
NOTE 4: How the NG-RAN decides that the PDB and/or PER cannot be fulfilled is
implementation specific.
NOTE 5: The details on how the RAN notifies the UE of the QoS unfulfillment or
re-fulfillment require coordination with RAN WGs. Whether RAN can provide PDB
and/or PER information needs to be coordinated with RAN WG2.
NOTE 6: Whether the notification enhancement applies to V2X application only
and up to the operator policy.
### 6.17.2 Procedures
Existing procedures can be reused with the following enhancement:
(1) That the RAN can also notify the unfulfillment/re-fulfilment of the QoS
characteristics PDB and PER to the 5GC, and then to the Application Function.
(2) AF may request via 5GC that RAN notifies the UE of the unfulfillment/re-
fulfilment of the QoS characteristics and proposes the bit rate between GFBR
and MFBR to be used.
### 6.17.3 Impact on existing entities and interfaces
The following entities are impacted to support Notification Control of PDB and
PER.
\- RAN should be able to notify the UE and provide \'QoS requirements that are
guaranteed\' to 5GC.
\- SMF/PCF shall support sending additional trigger to enable notification at
(R)AN and transfer the currently \'QoS requirements that are guaranteed\'.
\- AF shall be able to specify the destination of the notification (UE and/or
AF) during the subscription to the PCF notification services and receive the
\'QoS requirements that are guaranteed\' from the PCF.
\- UE
\- Receiving notification from the RAN.
### 6.17.4 Topics for further study
### 6.17.5 Solution evaluation
This solution supports RAN notification directly to UE for time critical
application.
This solution reuses the existing QoS model and PCC framework as defined in
3GPP Rel-15 with some enhancement, therefore the impact on the system is
minimized.
QoS modification triggered by the RAN notification is decided by one entity,
therefore the chance of race condition in 5GC is minimized, and the risk of
unstable system is minimized.
The solution enables the application to directly react/adjust to the changing
conditions thus the control stays end to end on the application.
### 6.17.6 Conclusions
Editor\'s note: Conclusions are FFS.
## 6.18 Solution #18: Non-IP based V2X message transmission and reception over
Uu reference point in 5GS
### 6.18.1 Functional Description
This solution corresponds to the Key Issue #10 \"eV2X message transmission and
reception\", in particular related to how for a UE to transmit and receive
non-IP based V2X message over Uu reference point in 5GS. That is, the proposed
solution focuses only on non-IP based V2X message transmission and reception
over Uu reference point in 5GS while other aspects regarding Key Issue #10 is
out of scope of the solution.
**(1) IP encapsulation**
According to clause 4.4.3.2 of TS 23.285 [5], the UE uses IP type PDN
connection to transmit and receive non-IP based V2X messages over LTE-Uu
reference point in EPS which means the UE encapsulates non-IP based V2X
message into IP packet before sending the V2X message to a V2X Application
Server.
Therefore, in 5GS, same mechanism can be considered to transmit and receive
non-IP based V2X message over Uu reference point specified in TS 23.285 [5] in
5GS which means IP type PDU Session is used to transmit and receive non-IP
based V2X message over Uu reference point.
Different than EPS approach as defined in TS 23.285 [5], the 5G solution
should be agnostic towards Transport Layer protocols for unicast
communication. Unicast Uplink operation for the UE can be unified with this
limit (e.g. restriction to UDP only) removed.
NOTE 1: Removing transport layer restrictions in 3GPP will allow application
developers and/or other standardization organizations to determine the
appropriate ones for their applications.
**(2) Unstructured PDU Session type**
In 5GS, Unstructured PDU Session type has been specified (see TS 23.501 [7]
and TS 23.502 [9]). Unstructured PDU Session type can be considered to
transmit and receive non-IP based V2X message over Uu reference point.
Regarding interworking with EPS, Unstructured PDU Session type is transferred
to EPC as non-IP PDN type when non-IP PDN type is supported by UE and network.
NOTE 2: Unstructured PDU Session type supports a maximum of one 5G QoS Flow
per PDU Session and does not support SSC mode 3.
The UE determines which method between (1) and (2) is used for non-IP based
V2X messages based on configuration. Regarding the configuration, two options
can be considered as below:
\- Option#1: V2X parameter based option
In this option, for the UE to route non-IP based V2X messages via an IP type
PDU Session or an Unstructured type PDU Session, the following parameters for
V2X Communication over NG-Uu can be provisioned in the UE.
\- Mapping of the V2X services, e.g. PSID or ITS-AIDs of the V2X application
to:
\- PDU Session Type (IP type or Unstructured type).
\- For IP type PDU Session, V2X Application Server address (consisting of IP
address/FQDN and transport layer port#) for unicast.
\- V2X Application Server address information.
\- List of FQDNs or IP addresses of the V2X Application Servers, associated
with served geographical area information and list of PLMNs that the
configuration applies to.
\- Option#2: URSP based option
In this option, for the UE to route non-IP based V2X messages via an IP type
PDU Session or an Unstructured type PDU Session, URSP rules and the following
parameters for V2X Communication over NG-Uu can be provisioned in the UE.
Currently Application descriptor consists of OSId and OSAppId(s), so this does
not cover PSID or ITS-AIDs of the V2X application. Therefore, new Application
descriptor for V2X services needs to be defined as a Traffic descriptor or
existing Application descriptor needs to be extended.
\- URSP rules in order to cover the following:
\- Mapping of the V2X services, e.g. PSID or ITS-AIDs of the V2X application
to PDU Session Type (IP type or Unstructured type).
\- Parameters for V2X Communication over NG-Uu:
\- For IP type PDU Session, mapping of the V2X services, e.g. PSID or ITS-AIDs
of the V2X application to V2X Application Server address (consisting of IP
address/FQDN and transport layer port#) for unicast.
\- V2X Application Server address information.
\- List of FQDNs or IP addresses of the V2X Application Servers, associated
with served geographical area information and list of PLMNs that the
configuration applies to.
Option#1 requires only V2X parameters while Option#2 requires URSP as well as
V2X parameters. In any case, V2X parameters will be defined to support V2X
services, e.g. V2X parameters for V2X communication over PC5. Therefore, only
using V2X parameters is considered efficient. In this regards, it is proposed
to take Option#1 for the UE to decide whether non-IP based V2X messages are
routed via an IP type PDU Session or an Unstructured type PDU Session. The V2X
parameters are pre-configured or provisioned to the UE using the solution
defined for Key Issue #11.
### 6.18.2 Impact on existing entities and interfaces
UE:
\- For \"(1) IP encapsulation\", no additional impact compared to impact on
non-IP based V2X message transmission/reception over Uu reference point
defined in TS 23.285 [5] except there is no restriction on the Transport Layer
Protocols use in 5GS (e.g. UDP, TCP etc.). It is recommended that this applies
to UEs starting from Rel-16 independent of whether it is connected via EPS or
5GS.
\- Regarding UDP or TCP, UE may learn from V2X Application Server or it may be
configured if explicitly a transport protocol needs to be used (e.g. TCP, UDP)
or no restriction imposed by configuration.
\- For \"(2) Unstructured PDU Session type\", no additional impact compared to
impact on non-IP based V2X message transmission/reception over Uu reference
point defined in TS 23.501 [7] and TS 23.502 [9].
\- UE determines which method between (1) and (2) is used for non-IP based V2X
messages based on configuration.
5GC:
\- 5GC handles configuration for the UE to determine which method between (1)
and (2) is used for non-IP based V2X messages.
NG-RAN:
\- No impact.
### 6.18.3 Topics for further study
None.
### 6.18.4 Conclusions
It is proposed to adopt Solution #18 with Option#1 (V2X parameter based
option) for normative work for 5GS. In addition, it is proposed to adopt the
principle related to IP encapsulation for EPS as well.
## 6.19 Solution #19: QoS Support for eV2X communication over PC5 interface
### 6.19.1 Functional Description
#### 6.19.1.1 General description
This solution addresses Key Issue#4 (clause 5.4) Support of PC5 QoS framework
enhancement for eV2X. The QoS requirements for eV2X are different from that of
the EPS V2X, and the previous defined PPPP/ PPPR in TS 23.285 [5] are
considered not to satisfy the needs. Specifically, there are much more QoS
parameters to consider for the eV2X services. This solution proposes to use
5QI for eV2X communication over PC5 interface. This allows a unified QoS model
for eV2X services over different links.
#### 6.19.1.2 Solution description
The new service requirements were captured in TS 22.186 [4]. The new
performances KPIs were specified with the following parameters:
\- Payload (Bytes);
\- Transmission rate (Message/Sec);
\- Maximum end-to-end latency (ms);
\- Reliability (%);
\- Data rate (Mbps);
\- Minimum required communication range (meters).
Note that the same set of service requirements apply to both PC5 based V2X
communication and Uu based V2X communication. As analysed in Solution #2
(clause 6.2), these QoS characteristics could be well represented with 5QI
defined in TS 23.501 [7].
It is therefore possible to have a unified QoS model for PC5 and Uu, i.e. also
use 5QIs for V2X communication over PC5, such that the application layer can
have a consistent way of indicating QoS requirements regardless of the link
used. This does not prevent the AS layer from implementing different
mechanisms over PC5 and Uu to achieve the QoS requirements.
Considering the 5GS V2X capable UEs, there are three different types of
traffic: broadcast, multicast, and unicast.
The UE-PC5-AMBR is applied to all types of traffic and is used for the RAN for
capping the UE PC5 transmission in the resources management.
For unicast type of traffic, it is clear that the same QoS Model as that of Uu
can be utilized, i.e. each of the unicast link could be treated as a bearer,
and QoS flows could be associated with it. All the QoS characteristics defined
in 5QI and the additional parameter of data rate could apply. In addition, the
Minimum required communication range could be treated as an additional
parameter specifically for PC5 use.
For broadcast traffic, there is no bearer concept. Therefore, each of the
message may have different characteristics according to the application
requirements. The 5QI should then be used in the similar manner as that of the
PPPP/PPPR, i.e. to be tagged with each of the packet. 5QI is able to represent
all the characteristics needed for the PC5 broadcast operation, e.g. latency,
priority, reliability, etc. A group of V2X broadcast specific 5QIs (i.e. VQIs)
could be defined for PC5 use.
NOTE 1: The 5QI used for PC5 may be different from that used for Uu even for
the same V2X service, e.g. the PDB for the PC5 can be longer than that for the
Uu as it is a direct link. The 5QIs used for PC5 is named VQI for
differentiation.
NOTE 2: A mapping between the EPS V2X QoS parameters, e.g. PPPP and PPPR, with
the new VQIs, e.g. similar to the non-GBR 5QIs defined in TS 23.501 [7], will
be defined in normative phase for broadcast operation.
NOTE 3: The working assumption is that NR PC5 design support the use of V2X
5QIs.
NOTE 4: AS layer may handle unicast, groupcast and broadcast traffic by taking
all their priorities, e.g. indicated by VQI, into account.
#### 6.19.1.3 V2X 5QI (VQI) values for PC5 broadcast use
A set of new VQIs for V2X use will be defined in normative phase reflecting
the service requirements documented in TS 22.186 [4].
NOTE 1: The working assumption is that non-standardized VQI is not supported
in this release.
NOTE 2: Whether per packet or per QoS flow QoS Model is used depends on RAN
decision.
### 6.19.2 Procedures
Editor\'s note: This clause describes procedures to use the new QoS model for
PC5 communication. It depends on RAN development as well.
#### 6.19.2.1 QoS support for unicast communication over PC5 interface
##### 6.19.2.1.0 General
To enable QoS support for eV2X one-to-one communication over PC5 interface,
the followings procedures need to be supported.
Editor\'s note: The following procedures may be further updated depending on
the progress on PC5 QoS Model.
##### 6.19.2.1.1 QoS parameters provision to UE and NG-RAN
The PC5 QoS parameters and PC5 QoS rule are provisioned to the UE as part of
service authorization parameters using the solution defined for Key Issue #5.
The PC5 QoS rule is used to map the V2X services (e.g. PSID or ITS-AIDs of the
V2X application) to the PC5 QoS flow.
The PC5 QoS parameters retrieved by the PCF from the UDR are provided to the
NG-RAN via AMF. The AMF stores such information as part of the UE context. For
subsequent procedures (e.g., Service request, Handover), the provision of the
PC5 QoS parameters via N2 will follow the description as per clause 6.6.2.
NOTE 1: The UE-PC5-AMBR is provided by the UDM and the details will follow the
description as per Solution #6.
The PC5 QoS parameters provisioning to the UE and NG-RAN could be triggered by
the UE Policy container included in the NAS message provided by the UE. The
PCF sends to the AMF the updated PC5 QoS parameters for NG-RAN when needed.
NOTE 2: The detailed PC5 QoS parameters used by NG-RAN will be identified
during the normative work phase.
NOTE 3: NG-RAN is configured with static parameters for network scheduled
resources allocation mode to support PC5 QoS.
##### 6.19.2.1.2 QoS parameters negotiation between UEs
The PC5 QoS parameters are negotiated at the establishment of one-to-one
communication procedure, so the one-to-one communication establishment
procedure defined in TS 23.303 [8] is enhanced to support PC5 QoS parameters
negotiation between two UEs. After the PC5 QoS parameters negotiation
procedure, the same QoS is used in both directions.
Figure 6.19.2.1.2-1: Establishment of secure layer-2 link over PC5
UEs engaged in one to one communication negotiate PC5 QoS parameters during
the link establishment procedure.
1\. UE-1 sends a Direct Communication Request message to UE-2 in order to
trigger mutual authentication. This message includes the requested PC5 QoS
parameters.
2\. UE-2 initiates the procedure for mutual authentication. The UE-2 includes
the accepted PC5 QoS parameters in the Response message.
NOTE: This procedure is aligned with Solution #11 (clause 6.11).
##### 6.19.2.1.3 QoS handling for eV2X communication
When PC5 unicast is used for the transmission of eV2X messages, the following
principles are applied for both network scheduled operation mode and UE
autonomous resources selection mode:
\- PC5 QoS parameters defined in clause 6.19.1.2 applies to the eV2X
communication over PC5.
\- The eV2X message is sent on the PC5 QoS flow established using the
procedure described in clause 6.19.2.1.2.
\- The mapping of application layer eV2X message to PC5 QoS parameters is
based on the PC5 QoS rule.
When the network scheduled operation mode is used, following additional
principles apply:
\- UE provides PC5 QoS parameter information to the gNB for resources request.
\- When the gNB receives a request for PC5 resource from a UE, the gNB can
authorize the requested PC5 QoS parameter based on the PC5 QoS parameters
received from AMF.
\- gNB can use the PC5 QoS parameter information for PC5 QoS handling.
When the autonomous resources selection mode is used, following additional
principle applies:
\- The UE can use the PC5 QoS parameter for PC5 QoS handling based on the
provisioned information described in clause 6.19.2.1.1.
#### 6.19.2.2 QoS support for broadcast communication over PC5 interface
When PC5 broadcast is used for the transmission of eV2X messages, the
following principles are followed for both network scheduled operation mode
and UE autonomous resources selection mode:
\- PC5 QoS parameters (e.g. VQI) defined in clause 6.19.1.2 applies to the
eV2X communication over PC5.
\- The application layer sets the PC5 QoS parameters for each eV2X message
when passing it to V2X layer for transmission.
When the network scheduled operation mode is used, following additional
principles apply:
\- UE provides PC5 QoS information reflecting PC5 QoS parameters to the gNB
for resources request.
\- gNB can use the PC5 QoS information reflecting PC5 QoS parameters for QoS
handling.
When the autonomous resources selection mode is used, following additional
principle applies:
\- The UE can use the PC5 QoS parameters for PC5 QoS handling.
NOTE: The choice of per packet QoS model or bearer based QoS model for
broadcast is based on RAN decisions.
#### 6.19.2.3 QoS support for group communication over PC5 interface
The procedure on QoS support for group communication over PC5 interface is
described in clause 6.21.2 (Solution #21).
### 6.19.3 Impact on existing entities and interfaces
Following are the impacts to the UE and other NFs:
\- UE needs to support new QoS model for PC5 communication.
\- AMF provides NG-RAN with the QoS parameters for PC5 communication fetched
from PCF in associating N2 messages for different procedures.
\- NG-RAN receives QoS parameters for PC5 communication from AMF and enforces
QoS parameter for the network schedule mode.
\- UDR stores QoS parameters for PC5 communication.
Editor\'s note: It is FFS if mapping of PPPP, PPPR to the new VQI would be
necessary for broadcast traffic.
### 6.19.4 Topics for further study
Editor\'s note: This clause describes topics for further study.
### 6.19.5 Conclusions
The solution captured in clauses 6.19.1 to 6.19.3 should move to normative
phase.
## 6.20 Solution #20: Authorization Policy for eV2X communication over PC5
interface and NG-Uu interface
### 6.20.1 Functional Description
This solution addresses the aspects of \"Policy and parameters provisioned to
UE\" in Key Issue #5 \"Service Authorization and Provisioning to UE for eV2X
communications over PC5 reference point\", Key Issue #11 \"Service
Authorization and Provisioning to UE over NG-Uu reference point\" and PC5
interworking aspect of Key Issue #12 \"System migration and interworking for
eV2X\" partially.
This solution is based on clause 4.4.1.1.2 of TS 23.285 [5] and applies for
the PCF based eV2X architecture in Annex A.1. In the solution, some
Authorization Policy parameters are for in coverage and the others are for out
of coverage.
Since NR and E-UTRA can both connect to 5GC, a UE can be served by either
E-UTRA connected to 5GC or NR, in the perspective of Uu interface. In
addition, depending on the operator\'s deployment and UE\'s subscription, it
is possible that a UE is authorized for only one RAT or both RATs for PC5 in a
PLMN.
This solution describes the authorization policy provided to UE, considering
the scenario that UE is connected to 5GC.
### 6.20.2 Authorization Policy parameters to UE Connected to 5GC
#### 6.20.2.1 Authorization Policy parameters for PC5 Communication
The following Authorization policy/parameters for eV2X communications over PC5
reference point is provisioned to the UE connected to 5GC:
1) Authorization policy:
\- When the UE is \"served by E-UTRA\" or \"served by NR\":
\- PLMNs in which the UE is authorized to perform eV2X communications over PC5
reference point when \"served by E-UTRA\" or \"served by NR\".
> For each above PLMN:
\- RAT(s) over which the UE is authorized to perform eV2X communications over
PC5 reference point.
\- When the UE is \"not served by E-UTRA\" and \"not served by NR\":
\- Indicates whether the UE is authorized to perform eV2X communications over
PC5 reference point when \"not served by E-UTRA\" and \"not served by NR\".
\- RAT(s) over which the UE is authorized to perform eV2X communications over
PC5 reference point.
2) Radio parameters when the UE is \"not served by E-UTRA\" and \"not served
by NR\":
\- Includes the radio parameters per PC5 RAT (i.e. LTE PC5, NR PC5) with
Geographical Area(s) and an indication of whether they are \"operator
managed\" or \"non-operator managed\". The UE uses the radio parameters to
perform V2X communications over PC5 reference point when \"not served by
E-UTRA\" and \"not served by NR\" only if the UE can reliably locate itself in
the corresponding Geographical Area. Otherwise, the UE is not authorized to
transmit.
NOTE 1: The radio parameters are to be defined by RAN WGs. Whether a frequency
band is \"operator managed\" or \"non-operator managed\" in a given
Geographical Area is defined by local regulations.
3) Policy/parameters for PC5 Tx Profile selection:
\- The mapping of service types (e.g. PSID or ITS-AIDs) to Tx Profiles.
4) Policy/parameters related to privacy:
\- The list of V2X services, e.g. PSID or ITS-AIDs of the V2X applications,
with Geographical Area(s) that require privacy support.
5) Policy/parameters when LTE PC5 is selected:
> Same as specified in 3) Policy/parameters in clause 4.4.1.1.2 of TS 23.285
> [5] except for the mapping of service types to Tx Profiles and the list of
> V2X services with Geographical Area(s) that require privacy support.
6) Policy/parameters when NR PC5 is selected:
\- The mapping of service types (e.g. PSID or ITS-AIDs) to V2X frequencies
with Geographical Area(s).
NOTE 2: The V2X frequencies with Geographical Area(s) will be determined by
RAN WGs.
Editor\'s note: Whether Destination Layer-2 ID is part of the Policy/Parameter
and how to determine the Destination Layer-2 ID are based on the conclusion of
Key Issue #9.
Editor\'s note: Which QoS parameter(s) is used and how to determine the QoS
parameter(s) is based on the conclusion of Key Issue #4.
#### 6.20.2.2 Policy parameters for NG-Uu Communication
The following Authorization policy/parameters for eV2X communications over NG-
Uu reference point is provisioned to the UE connected to 5GC:
1) Mapping of the V2X services (e.g. PSID or ITS-AIDs of the V2X application)
to:
\- PDU Session Type (IP type or Unstructured type);
\- SSC Mode;
\- S-NSSAI(s);
\- DNN(s).
NOTE: Above listed information elements (i.e. PDU Session Type, SSC Mode,
S-NSSAI(s) and DNN(s)) are used by UE as UE Local Configuration specified in
TS 23.503 [10].
#### 6.20.2.3 Policy parameters for both Uu and NG-Uu Communication
The following parameters for eV2X communications over Uu and NG-Uu reference
point is provisioned to the UE connected to 5GC:
1) Mapping of the V2X services (e.g. PSID or ITS-AIDs of the V2X application)
to V2X Application Server address information (consisting of IP address/FQDN)
for unicast;
2) List of FQDNs or IP addresses of the V2X Application Servers, associated
with served geographical area information and list of PLMNs that the
configuration applies to;
Editor\'s note: whether MBMS related information is part of the authorization
Policy and parameters has dependency on the conclusion of Key Issue #14.
### 6.20.3 Impact on existing entities and interfaces
UE:
\- The UE stores the Authorization Policy and uses this information to decide
whether it is authorized to send eV2X message over PC5 via which RAT.
\- The UE stores the information to establish PDU sessions over NG-Uu and
determine the V2X Application Server address over Uu/NG-Uu.
Editor\'s note: The impacts on Network Functions are FFS.
### 6.20.4 Topics for further study
Editor\'s note: This clause describes topics for further study.
### 6.20.5 Conclusions
Editor\'s note: This clause provides conclusions of the solution.
## 6.21 Solution #21: Group communication enhancement for NR PC5
### 6.21.1 Functional Description
#### 6.21.1.1 General description
This solution addresses Key Issue#1 (clause 5.1) \"Support of eV2X Group
Communicaiton\", Key Issue#4 (clause 5.4) \"Support of PC5 QoS framework
enhancement for eV2X\".
This solution addressed the support of the groupcast operation introduced in
NR PC5 at AS layer. The solution follows the general principles established in
Solution #1 (clause 6.1) that the group management is peformed by Application
Layer; and uses the QoS Model introduced in Solution#19 (clause 6.19).
#### 6.21.1.2 Solution description
This solution follows the below principles when NR PC5 is the selected RAT:
\- V2X Layer informs the Access Stratum (AS) Layer of the Destination L2 ID
for the group communication transmission, based on group identifier provided
by Application Layer;
\- V2X Layer informs the Access Stratum (AS) Layer of the Source L2 ID (self-
assigned by the UE) for the group communication transmission;
\- V2X Layer informs the Access Stratum Layer of the communication type, and
QoS parameters (including 5QI) and Range for the group communication traffic;
NOTE 1: Range may also be provided to AS Layer for the dynamic group
communication operations, depending on RAN decisions.
\- V2X Layer informs the Access Stratum Layer of the Destination L2 ID for the
group communication reception;
\- When V2X Layer receives no group information from Application Layer, it
should then use the default mapping, e.g. derive destination L2 ID and QoS
parameters (e.g. VQI) and Range based on PSID/ITS-AID mapping, and use those
for the operation;
\- V2X Layer coverts the Group Identifier provided by Application Layer into
the Destination L2 ID, using a mechanism defined by stage 3.
NOTE 2: Different Destination L2 IDs may be used for different QoS levels.
NOTE 3: Stage 3 needs to standardize the mechanism to be used by both
transmitting and receiving UE, e.g. a specific hash function.
### 6.21.2 Procedures
With reference to Figure 6.21.2-1, the operations of the Transmitting UE (Tx
UE) and Receiving UE (Rx UE) are presented.
Figure 6.21.2-1: End to end group communication operation
As concluded in Solution #1 (clause 6.1), the group management is carried out
in Application Layer, and therefore, the Group Identifier is determined by
Application Layer and passed down to the V2X layer.
For the Tx UE side, the V2X Layer converts the Group Identifier into the form
of a Destination L2 ID. The Destination L2 ID is passed down from the V2X
Layer to the AS layer. The Source L2 ID is self-assigned by the UE and is
provided by the V2X Layer to the AS layer.
In addition, from the Application Layer, QoS parameters associated with the
group communication, identified by the Group Identifier, is indicated to the
V2X Layer via the control interface. The QoS parameters include the
characteristics represented by 5QI (as explained in Solution #19), and the
Range parameter.
When the Application Layer passes down the data packet that is associated with
the Gorup Identifier, the V2X Layer tags the packet with the configured QoS
settings (5QI and Range) and passes those down to AS Layer. The V2X Layer also
indicates to the AS Layer that it is for group communication, in order to
differentiate it from broadcast traffic.
At the Rx UE side, the V2X Layer also passes the Destination L2 ID converted
from the Group Identifier to the AS Layer, such that it would be able to
manage the receiving operation, e.g. performing HARQ.
NOTE 1: The mechanism to convert the Group Identifier to L2 ID is defined by
stage 3.
For the data traffic from the Application Layer without the Group Identifier
associated, V2X Layer treats them with legacy operation, i.e. using default
PSID/ITS-AID mapping to determine destination L2 ID and QoS parameters (e.g.
VQI) and Range.
When PC5 group communication is used for the transmission of eV2X messages,
the following principles are followed for both network scheduled operation
mode and UE autonomous resources selection mode:
\- PC5 QoS parameters (e.g. VQI) and Range defined in clause 6.19.1.2 apply to
the eV2X group communication over PC5.
\- When the Application Layer passes down the data packet that is associated
with the Gorup Identifier, the application layer sets the PC5 QoS parameters
and Range for each Group Identifier when passing eV2X messages to V2X layer
for transmission.
\- For the data traffic from the Application Layer without the Group
Identifier associated, the V2X layer sets the PC5 QoS parameters based on the
default mapping between PSID/ITS-AID and PC5 QoS parameters and Range, and
then passing it to AS layer for transmission.
NOTE 2: The details on default mapping between PSID/ITS-AID and PC5 QoS
parameters and Range if needed is to be specified in the normative work.
When the network scheduled operation mode is used, following additional
principles apply:
\- UE provides PC5 QoS information reflecting PC5 QoS parameters to the gNB
for resources request.
\- gNB can use the PC5 QoS information reflecting PC5 QoS parameters for QoS
handling.
When the autonomous resources selection mode is used, following additional
principle applies:
\- The UE can use the PC5 QoS parameters for PC5 QoS handling.
NOTE 3: The choice of per packet QoS model or bearer based QoS model for group
communication is based on RAN decisions.
### 6.21.3 Impact on existing entities and interfaces
Following are the impacts to the UE:
\- Enhanced interactions among different layers in the UE regarding the group
communication identification and QoS requirements.
NOTE: The mechanism to convert the Group Identifier provided by upper layer to
destination L2 ID is defined by stage 3.
### 6.21.4 Topics for further study
None.
### 6.21.5 Conclusions
Solution documented in clauses 6.21.1 to 6.21.3 addressed the Key Issue #1
(Support of eV2X Group Communication) and should be used as the baseline for
normative phase work.
## 6.22 Solution #22: Authorization for NR based PC5 communication when the UE
is served by EPS
### 6.22.1 Functional Description
#### 6.22.1.1 General Description
The solution applies to Key Issue#13
This solution allows the network operator to control the transmission of V2X
messages over PC5 over NR or LTE in network scheduled mode of operation.
The following are proposed:
\- The UE includes its enhanced V2X capability as an additional parameter
within the \"UE Network Capability\" in the Attach Request message
\- The MME based on subscription information provides information to the RAN
node whether the UE is authorized for V2X communication over NR and/or LTE PC5
\- The UE when attached in EPS uses the same V2X configuration information
received by the same PLMN (over 5GS) to determine whether a V2X message needs
to be sent over NR based PC5 or LTE based PC5.
Editor\'s Note: This solution has RAN dependency and is based on the
assumption that an eNB is able to schedule resources for V2X message
transmission over PC5 over both LTE and NR
### 6.22.2 Procedures
#### 6.22.2.1 UE indicates its NR PC5 capability to the EPS network
For Rel. 14 V2X, the UE includes its V2X capability within the \"UE Network
Capability\" information in the Attach Request message.
In order to allow an EPS operator to control authorization of transmission
over NR and/or LTE PC5, a Rel.16 UE includes its \"enhanced V2X\" capability
as additional capability within the \"UE Network Capability\" information.
#### 6.22.2.2 Authorization for sending V2X message over PC5 using NR RAT
The MME currently provides a \"V2X services authorized\" indication within the
S1-AP Initial Context Setup Request indicating that the UE is authorized for
V2X communication over PC5 (as Vehicle UE, Pedestrian UE or both).
An additional indication is needed to indicate to the RAN that the UE is
authorized to for \"eV2X communication over PC5\". The RAN node uses this
information to perform resource managements for V2X communication over NR/LTE
PC5 in network scheduled mode.
The MME also requires to include the allowed AMBR for PC5 transmission (UE-
PC5-AMBR) that is used by the RAN node in network scheduled mode. It is
proposed to use the same parameter for managing resources to allow the RAN
node to determine the maximum allowed AMBR for both NR and LTE transmissions
over PC5.
#### 6.22.2.3 Provisioning of V2X configuration for NR based PC5
communication.
There are already solutions specified where the UE receives V2X Configuration
assisting the UE to perform PC5 RAT selection based on the requested V2X
service (for example see Solution #12).
The Rel 16 UE uses the V2X configuration information received from the V2X
Control Function of the 5GS network to decide whether a V2X message over PC5
should be sent via an LTE or NR RAT when camping on an EPS network. Such UE
does not contact the V2X Control Function in the EPS network to receive V2X
configuration information.
### 6.22.3 Impact on existing entities and interfaces
UE
\- Provide an additional indication within the UE Network Capability
information element of the Initial Attach/TAU message that enhanced V2X is
supported
MME
\- Provide an additional indication to the RAN node that the UE is authorized
for V2X transmissions over NR PC5.
HSS
\- Provide an additional indication to the MME whether a UE is authorized for
V2X transmission over NR PC5
eNB
\- Receiving an indication from the MME that the UE is authorized for V2X
transmission over NR PC5
\- Support scheduling resources for V2X messages over NR PC5
### 6.22.4 Topics for further study
Editor\'s note: This clause describes topics for further study.
### 6.22.5 Conclusions
Editor\'s note: This clause provides conclusions of the solution.
## 6.23 Solution #23: Early notification for Dynamic Application Adjustment
### 6.23.1 Functional Description
This solution addresses Key Issue #15 (Enhancements to assist Application
Adjustment) by enabling the 5GS to send early notifications about potential
change in QoS to AF for the expected position(s) of the UE in the future,
allowing timely dynamic application adjustments, e.g. changes of Level of
Automation.
The solution includes four phases:
1\. Request for notification or subscription to notification(s) about
potential change in QoS: during this phase, the 5GS receives from the AF the
configuration parameters needed to define the QoS KPIs of interests, the
geographical location, the timing, and the triggering conditions for the
notification about potential change in QoS.
NOTE 1: The request can come from the UE, but in that case it goes via the AF.
2\. QoS KPIs, external context and UE expected position(s) information
collection: during this phase, the 5GS identifies the 5GS coordinates of the
expected UE position(s) and collects the corresponding statistics information
on the QoS KPIs of interests, possibly enriched by external context
information and to be filtered according to UE current context information.
3\. Decision about notification about potential change in QoS: during this
phase, according to the configuration as per phase#1 and upon info collected
as per phase#2, the 5GS verifies whether the triggering conditions for the
notification about potential change in QoS are met and if so, the AF receives
one or more notifications about potential change in QoS.
NOTE 2: AF may forward the notification(s) to the UE.
4\. V2X application adjustment. Upon being notified about a potential change
in QoS, the eV2X application may be adjusted at the AF, e.g. changing the
Level of Automation.
### 6.23.2 Procedures
Figure 6.23.2-1: Enhancements for Early QoS Potential Change Notification
0.a: The NWDAF collects from, e.g., OAM system the 5GS QoS KPIs information
relevant for the notification about potential change (e.g., Average UL/DL
Throughput per UE, DRB Accessibility, etc.).
0.b: The NWDAF may collect from the 3rd party AF (i.e. non related to the 3GPP
system) context information (e.g. weather condition statistics) to be
correlated with 5GS QoS KPIs. The external context information is mapped to
5GS coordinates (e.g. to cell IDs) and correlated with the QoS KPIs
information.
NOTE 0: Whether new Event ID needs to be defined to collect external context
information from the 3rd party AF and which NF (NWDAF or NEF) maps the
external context information into the 3GPP related information can be
discussed at normative phase.
NOTE 1: Steps 0.a and 0.b may be repeated whenever updated QoS KPIs and/or
external context information is available.
1: The PCF receives from the AF (via NEF) a request for notification or
subscription to notification(s) about potential change in QoS containing
information on:
\- expected future UE positions (geographic location and time). The PCF
receives this information from AF (via NEF) as part of the requestsubscription
for notification;
\- the QoS KPIs of interest;
\- the threshold(s) of interest (per QoS KPI).
NOTE 2: If the PCF receives the request from the AF (via NEF), the PCF is the
SM Policy PCF.
NOTE 3: This solution assumes that the user consents to provide such
information to the AF or 5GS for services requiring network notification about
potential QoS changes.
NOTE 4: Relevant QoS KPIs may depend upon the eV2X Application considered.
Definition of the QoS KPIs for the notification about potential change is left
to normative phase.
NOTE 5: Solutions to protect the user privacy (e.g. anonymization) can be
considered at normative phase.
2: The PCF, assisted by the NEF, maps information on expected future UE
positions retrieved by AF onto 5GS coordinates (e.g. cell ID), to allow a
mapping between collected QoS KPIs information and the expected future UE
positions.
3: The PCF interacts with the NWDAF to retrieve the QoS statistics. For the
5QI of the service, the QoS KPI statistics for the relevant cells and time
intervals are selected. More details are provided in clause 6.23.2A.
4: The PCF determines if the eV2X application has to be notified about a
potential change in QoS. The decision is determined upon the following input:
\- current and expected future UE positions, identified as per step 2;
\- statistics of QoS KPIs information, as per step 3;
\- QoS KPIs and threshold(s) of interest received from AF as per step 1.
The PCF checks whether the statistics of QoS KPIs information in any cell
identified in step 2 is below any of the threshold(s) provided by the AF for
the time the UE is expected to be in the cell. For every cell identified in
step 2, the lowest threshold that is crossed is relevant for the per-UE
notification to the AF.
5: The PCF sends one or more notifications to the AF informing about the
outcome of step 4, i.e. the threshold(s) crossed and the time when the
potential change(s) in QoS may happen or that no threshold is crossed.
6: eV2X application adjustment may take place at AF upon reception of the
notification about potential change in QoS.
### 6.23.2A Details of analytics retrieval from the NWDAF
#### 6.23.2A.1 Input Data
Table 6.23.2A.1-1: Input information
* * *
Information Source Description Cell ID(s) PCF/NEF Cell(s) for which the
information is needed Time interval(s) PCF/NEF Time interval(s) for which the
information is needed. 5QI(s) PCF 5QI(s) for which the information is needed.
* * *
#### 6.23.2A.2 Output Analytics
Table 6.23.2A.2-1 shows the minimum set of analytic IDs by the NWDAF to
retrieve information from the OAM.
Table 6.23.2A.2-1: Output information
+------------------------+-----------------+------------------------+ | Analytic ID | Analytic Filter | Description | +------------------------+-----------------+------------------------+ | Per 5QI UE non-GBR | Time, | Average UE bitrate in | | average bitrate | | the cell for the | | | Date, | indicated time for the | | | | requested 5QI. | | | Cell ID(s) | | +------------------------+-----------------+------------------------+ | Per 5QI GBR average | Time, | Average failure rate | | failure rate | | in the cell for the | | | Date, | indicated time for the | | | | requested 5QI. | | | Cell ID(s) | | +------------------------+-----------------+------------------------+
### 6.23.3 Impact on existing entities
NWDAF:
\- Provides \"per cell\" 5GS QoS KPIs analytics per 5QI collected from OAM;
\- Collects from 3rd party AF (i.e. non related to the 3GPP system) external
context information to be correlated with 5GS QoS KPIs.
\- If the QoS KPI statistics have to be exposed as analytics: Define the
parameter values of analytics request (an Analytics ID associated to per-5QI
per-cell UE non-GBR average bitrate and to per-5QI per-cell GBR average
failure rate).
NOTE: According to the eNA defined framework, the NWDAF is already capable of
retrieving from the OAM system the QoS KPI statistics for the relevant cells
and time intervals.
PCF:
\- Decides about potential change in QoS based on inputs such as:
\- configuration parameters provided by AF;
\- 5QI (and perhaps GBR) authorized for the V2X service;
\- location information provided by AF;
\- \"per cell\" 5GS QoS KPIs information for the 5QI provided by NWDAF.
\- Notifies potential change in QoS to AF.
AF:
\- Requests the PCF to notify about potential changes in QoS.
NEF:
\- Assists to the PCF for expected UE position mapping.
### 6.23.4 Evaluation
This solution fulfils the requirements as per Key Issue#15 (Enhancements to
assist application adjustments for eV2X services, according to notifications
about potential change in the delivered QoS). It defines 5GS enhancements to
provide early per-UE notifications about potential change in the delivered
QoS, necessary to assist application adjustments for eV2X services.
### 6.23.5 Conclusions
Editor\'s note: Conclusions are FFS.
## 6.24 Solution #24: Solution for AF-initiated UE provisioning
### 6.24.1 Functional Description
#### 6.24.1.1 General Description
This solution addresses the Key Issue #5 and Key Issue #11. This solution
applies to the CP-based architecture alternative#4 in Annex A.
Figure 6.24.1.1-1 shows V2X architecture reference model in the perspective of
UE provisioning. This solution proposes NEF service to enable communication
between NFs in the PLMN and V2X Application Server (i.e. Application
Function). The V2X Application Server can provide V2X service parameters to
the PLMN via NEF. The NEF stores the V2X service parameters in the UDR. The
UDR is considered as V2X repository.
Figure 6.24.1.1-1: V2X architecture reference model for AF-initiated service
parameter provisioning
#### 6.24.1.2 AF-initiated Service Parameter provisioning
An AF may send requests to provision V2X service parameters. The network
stores the service parameters in the V2X repository (UDR) and delivers it to
the UE when the UE is reachable.
The AF may issue requests on behalf of applications not owned by the PLMN
serving the UE.
The AF requests are sent to the NEF, as described in clause 6.24.1.3. PCF
delivers the V2X service parameters provided by the AF to the UE as described
in clause 6.24.2.
NOTE 1: In the case of architecture without CAPIF support, the AF is locally
configured with the API termination points for the service. In case of
architecture with CAPIF support, the AF obtains the service API information
from the CAPIF core function via the Availability of service APIs event
notification or Service Discover Response as specified in TS 23.222 [21].
NOTE 2: The AF can also provision the UE with the V2X service parameters via
V1 directly as described in clause 4.1.1.
The AF request contains the information as below:
\- Service Description,
\- Service Parameters,
\- Target UE(s) or a group of UEs.
Service Description identifies a service the Service Parameters are applied
to. Service Parameters are the service specific information which needs to be
provisioned in the Network and in the UE in order to support the service
identified by the Service Description. Target UE(s) or a group of UEs indicate
the UE(s) who the Provisioning information shall be delivered to.
In case of V2X service, the Service Description indicates V2X service (e.g.
V2X S-NSSAI and/or DNN). The Service Parameters includes policy/provisioning
parameters for V2X communication over Uu and PC5 (e.g. the mapping of V2X
services to V2X Application Server address information for unicast, the list
of V2X services that require privacy support, etc.).
NOTE 3: The set of V2X service policy/provisioning parameters is discussed in
other solutions (e.g. Solution #20). The V2X service parameters provided from
the V2X AS depends on the conclusion of those solutions.
#### 6.24.1.3 NEF service for Service Parameter provisioning
##### 6.24.1.3.1 General
The following table shows the NEF service and service operation for service
parameter provisioning:
Table 6.24.1.3.1-1: NF Service provided by the NEF
* * *
Service Name Service Operations Operation Semantics Example Consumer(s)
Nnef_ServiceParameter Create Request/Response AF Update Request/Response AF
Delete Request/Response AF
* * *
##### 6.24.1.3.2 Nnef_ServiceParameter_Create operation
**Service operation name:** Nnef_ServiceParameter_Create
**Description:** Authorize the request and forward the request to create
service parameter provisioning.
##### 6.24.1.3.3 Nnef_ServiceParameter_Update operation
**Service operation name:** Nnef_ServiceParameter_Update
**Description:** Authorize the request and forward the request to update
service parameter provisioning.
##### 6.24.1.3.4 Nnef_ServiceParameter_Delete operation
**Service operation name:** Nnef_ServiceParameter_Delete
**Description:** Authorize the request and forward the request to delete
service parameter provisioning.
#### 6.24.1.4 V2X service parameter delivery
The PCF delivers the V2X service parameters to the UE as described in clause
4.2.4.3 of TS 23.502 [9]. If the UE is not reachable the AMF informs the PCF
of UE Policy delivery failure. The PCF may subscribe UE reachability event to
the AMF in order to be notified when the UE becomes reachable and deliver the
V2X service parameters to the UE.
The PCF may subscribe the \"Connectivity state changes (IDLE or CONNECTED)\"
event as defined in TS 23.502 [9] clause 5.2.2.3 when the PCF is notified UE
Policy delivery failure.
### 6.24.2 Procedures
Figure 6.24.2-1 shows procedure for AF-initiated service parameter
provisioning. The V2X Application Server (i.e. AF) uses Nnef_ServiceParameter
service to provide the V2X service parameters to the PLMN and the UE.
Figure 6.24.2-1: AF-initiated service parameter provisioning
1\. To create a new request, the AF invokes an Nnef_ServiceParameter_Create
service operation. The content of this service operation (AF request) includes
the information described in clause 6.24.1.2.
> To update or remove an existing request, the AF invokes an
> Nnef_ServiceParameter_Update or Nnef_ServiceParameter_Delete service
> operation.
2\. The AF sends its request to the NEF.
3\. (in the case of Nnef_ServiceParameter_Create or Update): The NEF stores
the AF request information in the UDR.
> (in the case of Nnef_ServiceParameter _delete): The NEF deletes the AF
> request information in the UDR.
4\. The NEF responds to the AF.
If the UE is registered to the network and the PCF performs the subscription
to notification to the data modified in the UDR by invoking Nudr_DM_Subscribe
(AF service parameter provisioning information, SUPI) at step 0, the following
steps are performed:
5\. The PCF(s) receive(s) a Nudr_DM_Notify notification of data change from
the UDR.
6\. The PCF initiates UE Policy delivery as specified in clause 4.2.4.3 \"UE
Configuration Update procedure for transparent UE Policy delivery\" of TS
23.502 [9] and in clause 6.24.1.4.
### 6.24.3 Impact on existing entities and interfaces
NEF:
\- Interacts with AF by using a newly defined NEF service,
Nnef_ServiceParameter.
UDR:
\- Stores V2X service parameters.
PCF:
\- Handles V2X service parameters.
### 6.24.4 Topics for further study
None.
### 6.24.5 Conclusions
Nnef_ChargeableParty and Nnef_AFsessionWithQoS in clause 4.15.6 of TS 23.502
[9] are not needed for the purpose of V2X service parameters provisioning.
Nnef_ParameterProvision procedure in clause 4.15.6 of TS 23.502 [9] looks
largely similar to the Nnef_ServiceParameter procedure proposed in the
Solution #24. However, there are some differences in terms of parameters
included in the AF request message and the NF operations. Therefore, the
existing NEF services cannot be reused and the new Nnef_ServiceParameter is
needed.
For Key Issue #5 and Key Issue #11, it is concluded that Solution #24 is
selected for normative work.
## 6.25 Solution #25: Solution for Key Issue #13
### 6.25.1 Functional Description
When the UE connects to EPC, it needs to indicate its V2X capability for PC5
communication with the corresponding PC5 RAT information (i.e. LTE PC5, NR
PC5) as part of the \"UE Network Capability\" in the Attach Request and
Tracking Area Update Request messages. When the MME receives the V2X
capability indication, it needs to check with the received subscription
information from HSS and determine whether the UE is authorized to use V2X
service operation for PC5 with the corresponding RAT. The MME stores this
information for the V2X operation and sends the \"V2X service authorized\"
along with NR PC5 RAT and UE-AMBR for NR PC5 additionally to eNB structured as
following:
\- V2X service authorized;
\- UE-PC5-AMBR for LTE PC5;
\- UE-PC5-AMBR for NR PC5.
NOTE 1: The additional parameter for NR PC5 should not impact the stage 3
structure of the V2X service authorization information.
The corresponding RAT information needs to be part of V2X operation
authorization information and transferred from source eNB to target eNB in
S1-AP/X2-AP Handover Request message during handover procedure and from MME to
eNB in initial S1-AP message during Attach, TAU and Service Request
procedures.
When the UE is in EPS and it does not have valid V2X policy/parameters, the UE
requests the V2X policy/parameters from V2X CF as defined in TS 23.285 [5].
For the policy/parameters defined in clause 4.4.1.1.2 of TS 23.285 [5], the
corresponding V2X Policy/parameters to support NR PC5 communication is needed.
As such, once the UE has selected the PC5 RAT based on the solution for Key
Issue #2, it will use the policy/parameters for the selected PC5 RAT.
NOTE 2: The detailed V2X policy/parameters for PC5 communication delivered to
UE via User Plane approach in EPS can be identified once the detailed
policy/parameters is defined for 5GS.
Editor\'s Note: This solution has RAN dependency and is based on the
assumption that an eNB is able to schedule resources for V2X message
transmission over PC5 over both LTE and NR.
### 6.25.2 Impacts on existing entities and interfaces
UE:
\- It needs to indicate its V2X capability indication with the corresponding
PC5 RAT information (i.e. LTE PC5, NR PC5) as part of the \"UE Network
Capability\" in the Attach Request and Tracking Area Update Request message.
\- It needs to understand and store the policy/parameters defined in clause
4.4.1.1.2 of TS 23.285 [5] with a corresponding PC5 RAT information (i.e. LTE,
NR).
MME:
\- It needs to send following additional V2X service authorization information
to eNB in initial S1-AP message:
\- UE-PC5-AMBR for NR PC5.
eNB:
\- It needs to store the V2X service authorization information with the
corresponding PC5 RAT information and the according UE-PC5-AMBR for the PC5
RAT(s);
\- It needs to send following additional V2X service authorization information
to target eNB in S1-AP/X2-AP Handover Request message during handover
procedure:
\- UE-PC5-AMBR for NR PC5.
V2X CF:
\- For the policy/parameters defined in clause 4.4.1.1.2 of TS 23.285 [5], the
corresponding V2X Policy/parameters to support NR PC5 communication is needed.
### 6.25.3 Conclusions
For Key Issue #13, it is concluded to take Solution #25 for normative work.
## 6.26 Solution #26: Path-based QoS booking for Application Adjustment
### 6.26.1 Functional Description
This is a proposal to resolve the Key Issue #15: Enhancements to assist
Application Adjustment.
This solution assumes there is a need by V2X AS and the Application in the UE
to know in advance of the UE moving to a certain area whether in that area it
is likely or not, or whether it is assured or not, that a certain QoS level
can be sustained. This provides a high degree of confidence a certain QoS
level can be met, but not a 100% guarantee as the wireless link can be subject
to local issues that are not predictable. If there is no guarantee, or a
guarantee of a low level of QoS or a low assurance, the Application layer
adapts. Optionally, the PLMN may indicate the degree of confidence also of its
assessment.
The solution allows different degrees of inspection of network resources. If
there is a high degree of confidence that in certain areas there will be
sufficient resources based on centralised information, it is not necessary to
retrieve information from the affected RAN nodes. If, however the centralised
status information is not providing such confidence, the retrieval of
information from affected RAN nodes is also enabled.
Eventually, if the application layer requires firm commitments, the PLMN
provides a booked resource token which the application can provide the UE so
the UE can request the QoS when it comes to the desired node. The UE context
contains the token so it releases the prebooked resources with matching token
when the UE moves to the next RAN node. Otherwise the token will stop being
valid on its own outside the validity time window.
The basic principles of this solution are the following:
1) The UE, while determining a path for the vehicle, it would invoke the
assistance of the V2X application layer to request the network to perform a
booking of resources (i.e. logging of future demand on network resources
within a specific time window in affected RAN nodes - note: this is not static
reservation from the time the response is given for a UE) along the path or
sections of the path option selected by the UE. The network then provides the
V2X app with a confirmation the required resources are expected to be
available. The request may be for multiple levels of QoS in one time if the
application could operate at multiple QoS levels. If multiple request levels
are tested the availability of each is specified in the confirmation to the
UE.
2) The booking is based on estimate of the arrival time in a coverage area.
The PLMN may also include assessment of whether coverage is likely to be poor
or not available along the path.
3) If the PLMN provides feedback that the required QoS is not available, the
application may adapt based on this along the path.
4) Once the application accepts a level or levels of made available QoS by the
network along the path, the UE and network commit with one another and the UE
and/or the V2X app may get a token to access the committed/booked resources
along the path (e.g. the token, like a booking number, is provided at service
request by the UE in both NAS and RRC layers or passed in the UE context).
5) The network will manage QoS allocation in the system, so resources
committed are made available when the UE arrives at the expected location.
6) The resources booking and time window may be updated based on the UE
updating the V2X app and the V2X app updating the system on the UE progress
along the path, and varying network conditions.
7) The network, with a sufficiently large lead time, may at any warn the
vehicle some committed resources may not be any longer available if this
becomes strictly necessary, so the UE may trigger corrective actions if needed
(e.g. negotiate a lower QoS and/or change path). If this update happens the Ue
may accept committing to the new proposed QoS along the path. Note the update
may also include improvements of available QoS, not only worsening conditions.
8) The UE passes the token to the PLMN when a PDU session is supposed to
access the resources that have been booked. The PLMN verifies the UE is
authorised to use the token for the PDU session by interacting with the V2X AS
(Application Server). The V2X AS keeps a mapping between the GPSI and the
token at application layer.
9) The UE in the RAN includes the token so the resources matching with the
token are released in the pool of available resources once the UE has moved to
the next RAN node.
The information exchanged by UE and V2X app may be discussed but can be
largely out of the scope of 3GPP. The V2X app though shall pass to the network
time windows and path information and QoS levels required and updates thereof.
The network provides to the V2X application and the UE (perhaps mediated by
the application) a token to enable access to the resources. The token is
stored in the UE context in the RAN and in the CN.
Tokens have a validity time and need to be renewed before they expire so the
UE and application need to maintain tokens before the expiration time i.e. if
the UE does not arrive at a time that was expected the UE has to update the
network, so the network can create new state state/assessment of QoS
availability.
### 6.26.2 Procedures
#### 6.26.2.1 V2X application Requested Booking
Figure 6.26.2.1-1: Outline of the application driven path resources booking
procedure
1\. The UE and V2X app have exchanged information on path, path start time,
QoS requirements. This may also be due to a continuous update (e.g. after a
previous booking path or timeline has changed).
2\. The CN receives a Booking request including a path descriptor (i.e. a
suitable way to represent the path and the time the Ue is at certain
locations), Qos level(s) required
3\. The CN proceeds to a tentative booking of resources along the path. See
clause 6.26.2.3 for more details.
4\. The CN provides the V2X AS with the outcome of booking request as an
offer. This may include no offer of QoS.
5\. The V2X app provides the outcome to the UE at application layer as an
offer. This may include no offer of QoS. If the UE receives no offer, then the
UE assumes no suitable QoS level is available along the path and adapts any
application that requires the level of QoS that was requested to assume none
is available. Otherwise it selects the desired offered QoS level and proceeds
to accept one level of QoS.
6\. The UE accepts a level of QoS along the path.
7\. The V2X application accepts a level of QoS along the path and provides
this acceptance to the CN.
8\. The CN and RAN nodes commit to the desired QoS level and a token is
assigned with a specific lifetime. This is stored in the RAN nodes along the
path. See clause 6.26.2.3.
9\. The CN commits the QoS along the path and provide the token to the V2X AS.
10\. The V2X AS passes the token to the UE.
#### 6.26.2.2 Network Initiated Booking Update
Figure 6.26.2.2-1: Outline of the application driven path resources booking
procedure
1\. The system determines a change to an existing booking is needed or
possible. This may be triggered by NDWAF which then drives a booking step as
in clause 6.26.2.3.
2\. The CN provides an update to a booking with an existing TOKEN as a
reference.
3\. The V2X AS provides the update to the UE.
4\. The UE chooses the QoS level it requires and accepts it
5\. The V2X AS accepts towards the CN.
6\. The CN and RAN nodes involved commit the booking and potentially issue a
new validity time for the booking, using steps 10-13 as in clause 6.26.2.3.
7\. The CN commits the booking.
8\. The V2X AS provides the token with validity time to the UE indicating it
is committed.
#### 6.26.2.3 Details of system interactions for resources booking
This clause provides details of the system functions interactions of the steps
described above.
Figure 6.26.2.3-1: System details of the resources booking procedure
1\. The V2X AS requests certain QoS Level(s) over a certain path (e.g.
identified by coordinates and the time and a time window over which a certain
QoS level or levels are requested to be provided at each coordinate in the
path). The granularity of path description and the way to describe the path is
a SLA based parameter and outside the scope of this solution. The path length
can be chosen to fit the needs of the specific application and it should be
sufficient for safe operation within a certain time window (i.e. it needs not
be end-to-end path the UE needs to reach the final destination, which may be
quite extensive).
2\. The NEF relays the request to NWDAF which determines a list of cell IDs
and related TAIs that support the path. The NWDAF performs a preliminary
assessment of the availability of resources that may be based on a centralized
view of the status of the RAN along the path. The NWDAF may also assess
whether there is high likelihood QoS cannot be guaranteed (e.g the NWDAF knows
there is patchy coverage along the path)
3\. The NDWAF provides the NEF with a list of cell IDs and TAIs and the QoS
level(s) that it estimates could be available.
> If none is available the NEF immediately ends the transaction by reporting
> at step 8 that non QoS is offered.
>
> If there is at NWDAF high confidence level the QoS is available, the NWDAF
> reports that to NEF and the steps 4-7 are skipped and the procedures
> continues from step 8.
>
> Otherwise steps 4-7 are executed.
4-7. The NEF distributes a booking request with a token to identify the
request to AMF(s) that are capable to reach the relevant cell IDs that map to
the received coordinates. Note this does not assume that these will become
serving AMFs, i.e. these AMFs will not keep state for the UE/token. The AMF(s)
then relays the booking request to relevant NG-RAN nodes to determine whether
the desired QoS level is available. If so, each RAN node provides a response
with indication of which QoS level(s) can be offered to the AMF and the AMF
responds to the NEF that summarises the outcome for the V2X AS. The RAN nodes,
if steps 4-7 are executed, keep the resources booked for the relevant time
window for a time bounded by a guard timer that implies a commit is received
from the AMF. If no commit is received the booking is released.
8-14. The V2X AS accepts a certain QoS level. The NEF passes on the acceptance
to the affected RAN nodes.
The NEF subscribes with NWDAF to obtain information whether a certain QoS
level is likely to be available. This may trigger the NEF to attempt a booking
executing steps 4-7 or by directly going step 8 to offer a new QoS level. The
AMF also reports to NEF any notification control the RAN may provide to update
on the booking status (e.g. the notification control is augmented to report
about likelihood existing bookings can no longer be fulfilled or some
dedicated procedure TBD). This may trigger a new transaction to provide a new
offered QoS.
#### 6.26.2.4 Impact on other procedures
The UE shall include the booking token in a service request at both AS and NAS
layers. This is checked against the UE context for validation when received
from CN in the RAN. This booking token is sufficient to indicate the reserved
resources in the system.
The booking token is included in the UE context in the AS and NAS layer
contexts to identify the tokens the UE is authorised to use. The Authorisation
is given by the PCF as described in bullet 8 in clause 6.26.1. The UE provides
the token when a QoS flow is established to access the booked resources and
the authorisation of the token is recorded by the AMF when it executes these
services:
\- Nsmf_PDUSession_CreateSMContext
\- Nsmf_PDUSession_UpdateSMContext
Other subscription services can also be used to get notifications of
revocations or update of validity of tokens from NEF (details would be part of
normative work)
### 6.26.3 Impact on existing entities and interfaces
This solution impacts the:
NEF: handling of the V2X AS interaction
NWDAF: handling of QoS evaluations on a path and resolution of path to cell
IDs
AMF: interaction with SMF, NEF and the NG-RAN for token management
PCF: handling of tokens
NG-RAN: handling of booking and update of status with NWDAF with status of
resources allocated to V2X. Handling of tokens
V2X AS: handling of tokens and QoS bookings along the path, mutual updates
between V2X AS and UE side of the applications.
UE: support of the feature as documented above (token handling, Application
layer interactions).
### 6.26.4 Topics for further study
Editor\'s note: This clause describes topics for further study.
### 6.26.5 Conclusions
TBD
## 6.27 Solution #27: Solution for QoS Support for eV2X over Uu Interface
### 6.27.1 Functional Description
This solution addresses Key Issue #3 (QoS Support for eV2X over Uu interface)
and it **reuses** the 5GS QoS model specified in TS 23.501 [7] and TS 23.503
[10] with necessary enhancement as follows.
1\. An eV2X Application Function (AF) influences the QoS of the eV2X service,
by providing service info to the PCF (via NEF if 3rd party AF) as specified in
TS 23.503 [10] (and TS 23.203 [12]).
> In addition, when supported by the AF and PCF/NEF, the AF may indicate
> multiple **_Alternative Service Requirement(s)_** in addition to the
> **_Requested Service Requirement_** in the service info.
>
> The **_Alternative Service Requirement(s)_** is of the same format as the
> **_Requested Service Requirement_** that an AF normally requests, e.g.
> instead of providing one set of bandwidth requirements, the AF provides
> additionally set(s) of bandwidth requirements, marked as the **_Alternative
> Service Requirement(s)_** in the request.
>
> In addition, the AF may indicate that the PCF is responsible for changes in
> the QoS profile of the QoS Flow from the **_Requested Service Requirement_**
> to one of the **_Alternative Service Requirement(s)_**.
NOTE 1: The AF can indicate that the PCF is responsible for changes in the QoS
profile only if the changes do not affect the required bitrate. This ensures
that the change in the bitrate requirements is always triggered by the AF and
it can therefore always be aligned with rate adaptation of the data flow.
2\. PCF authorize the service info from the AF, translates it into PCC rule
with QoS parameters such as 5QI, ARP, GBR/MBR, and optionally PL(Priority
Level) and notification control and then sends the PCC rule to the SMF.
> If notification control is enabled, the PCF may include **_Alternative QoS
> parameter set(s)_** in the PCC rule sent to the SMF. The PCF derives the
> **_Alternative QoS parameter set(s)_** based on the **_Alternative Service
> Requirement(s)_** provided by the AF.
>
> The **_Alternative QoS parameter set(s)_** is of the same format as the QoS
> parameter set included in the existing PCC rules.
3\. The SMF performs QoS Flow binding and creates a new QoS Flow if no
existing QoS Flow can fulfil the service requirement. The SMF also derives the
QoS rules and QoS Flow level parameters to the UE, as well as QoS profile to
the NG-RAN.
> If notification control is enabled, the SMF may derive **_Alternative QoS
> profile(s)_** based on the **_Alternative QoS parameter set(s),_** and send
> to the NG-RAN.
>
> The **_Alternative QoS profile(s)_** takes the same format as the QoS
> Profile, i.e. SMF sends multiple sets of QoS Profiles as defined in TS
> 23.501 [7] to the NG-RAN, which are marked as \"Alternative\" except one
> that serves as the target QoS Profile.
4\. The NG-RAN receives a N2 PDU Session Request for the purpose of QoS flow
establishment which contains the QoS profile in N2 SM Information. Per TS
23.501 [7], in the QoS profile,
\- The GFBR is recommended as the lowest acceptable service bitrate where the
service will survive, and MFBR>GFBR can be provided to the RAN. The bit rates
above the GFBR value and up to the MFBR value may be provided with relative
priority determined by the Priority level of the QoS Flows.
> \- The PDB for GBR QoS Flows with GBR resource type shall be interpreted as
> a maximum delay with a confidence level of 98 percent if the QoS flow is not
> exceeding the GFBR. The PDB for delay critical GBR resource type may be
> exceeded for at most PER packets, that is, a packet delayed more than PDB is
> counted as lost if the transmitted data burst is less than MDBV within the
> period of PDB and the QoS Flow is not exceeding the GFBR.
\- The Packet Error Rate (PER) defines an upper bound for the rate of PDUs
(e.g. IP packets) that have been processed by the sender of a link layer
protocol but that are not successfully delivered by the corresponding receiver
to the upper layer, i.e. the PER defines an upper bound for a rate of non-
congestion related packet losses. For GBR QoS Flows with Delay critical GBR
resource type, a packet which is delayed more than PDB is counted as lost, and
included in the PER unless the data burst is exceeding the MDBV within the
period of PDB or the QoS Flow is exceeding the GFBR.
> If the NG-RAN supports the feature, NG-RAN will also store the
> **_Alternative QoS profile(s)_**.
5\. If the NG-RAN cannot fulfil the GFBR requirement, and/or the PDB
requirement and/or the PER requirement of the QoS profile, it notifies the 5GC
using the procedure as specified in clause 5.7.2.4 of TS 23.501 [7] and then
to the AF (i.e. V2X application).
NOTE 2: A non-GBR Flow may use the bit rate up to the value of the session
AMBR which can be very high, and consequently the non-GBR QoS Flow may take
unreasonably large amount of resources and starve resource for other flows,
therefore it\'s considered unrealistic to apply Notification Control for the
non-GBR QoS Flow unless a bit rate parameter is also introduced for non-GBR
Flow which means a major change to the QoS model.
If the **_Alternative QoS profile(s)_** were received, in addition to the
notification to the 5GC and ton the V2X application that the QoS targets
cannot be fulfilled, the NG-RAN, when supporting the feature, checks if any of
the **_Alternative QoS Profile(s)_** could be supported** _._** If the NG-RAN
can support one of the **_Alternative QoS Profile(s),_** the NG-RAN may
include its associated index in the notification, so that the 5GC and V2X
application can take this information into account.
If none of the **_Alternative QoS profile(s)_** is applicable, the NG-RAN may
provide the information about what QoS characteristics cannot be fulfilled,
including the current \'QoS requirements that are guaranteed\' (GFBR, PDB
and/or PER), using the procedure as specified in clause 5.7.2.4 of TS 23.501
[7] and then to the AF if notification is required so that the V2X application
can take this information into account and take proper action.
> NG-RAN still tries to fulfil the original QoS target after sending the
> notification.
>
> When radio condition changes, and the requirement of GFBR, PDB and PER of
> the QoS profile can be fulfilled again, the NG-RAN notifies the 5GC using
> the procedure as specified in clause 5.7.2.4 of TS 23.501 [7] and then to
> the AF (i.e. V2X application). The V2X Application then takes proper action
> based on information provided by the 3GPP system and other sources if
> available.
NOTE 3: The format for the indication of **_Alternative QoS Profiles/levels_**
between NG-RAN and PCF, and of the **_Alternative Service Requirements_**
between PCF and AF can be decided in the normative phase.
NOTE 4: How the NG-RAN decides that the PDB and/or PER cannot be fulfilled is
implementation specific.
NOTE 5: Whether the notification enhancement applies to V2X application only
is up to the operator policy.
6\. If, in step 1, the AF indicated that the PCF is responsible for changes in
the QoS profile of the QoS Flow from the **_Requested Service Requirement_**
to one of the **_Alternative_** **_Service Requirement(s)_** , the PCF
triggers a PDU Session Modification as per TS 23.502 [9] clause 4.3.3.2 step
1.d when AN notifies the 5GC that QoS characteristics cannot be fulfilled and
if an **Alternative QoS Profile** exists which fits to the information
included in the AN notification (i.e. a switch from the **target QoS Profile**
to an **Alternative QoS Profile** triggered by PCF is possible).
### 6.27.2 Procedures
Existing 5GS QoS model and QoS Notification Control procedures can be reused
with the following enhancement:
(1) That the NG-RAN can also notify the unfulfillment/re-fulfilment of the QoS
characteristics of PDB and PER to the 5GC, and then to the Application
Function. NG-RAN, when supporting the feature, can also notify 5GC about the
currently supported **_Alternative_** **_QoS profile (index)_**.
### 6.27.3 Impact on existing entities and interfaces
The following entities are impacted to support Notification Control proposed
in this solution.
\- NG-RAN notifies the 5GC and, when supporting the feature, provides
supported **_Alternative QoS Profile (index)_** to 5GC or the current \'QoS
requirements that are guaranteed\' (GFBR, PDB and/or PER).
\- When enabled, PCF supports to derive the Alternative QoS parameter set(s)
based on the Alternative Service Requirement(s) provided by the AF and include
the Alternative QoS parameter set(s) in the PCC rule sent to the SMF.
\- SMF enables notification at NG-RAN, by providing the **_Alternative QoS
Profile(s)_** additionally so that the NG-RAN may include the currently
supported **_Alternative_** **_QoS Profile (index)_** when sending a
notification to 5GC.
\- AF shall be able to provide **_Alternative Service Requirement(s)_** and
receive the supported **_Alternative Service Requirement_** from the PCF.
### 6.27.4 Topics for further study
### 6.27.5 Solution evaluation
Comparing to Solution #16 Option 1 (clause 6.16), the NG-RAN does not enforce
a different QoS Profile when a notification is sent to the 5GC. Rather, it
still tries to fulfil the original QoS Profile, i.e. following the same
behaviour as defined in Rel-15.
### 6.27.6 Conclusions
This solution satisfies the Key Issue #3 regarding QoS monitoring, control and
notification.
## 6.28 Solution #28: Ecosystem-based gathering of network intelligence for in
advance performance estimation
### 6.28.1 Functional Description
The potential of the Automotive and Mobile ecosystem harvesting of network
data goes beyond the mere ability of the PLMNs to provide that information.
One of the powerful tools that the ecosystem can harness is the sheer large
volume of information that can be harvested from devices that are in the
field. Indeed, this did not go unnoticed when the MDT was discussed in 3GPP.
In addition, resilience to the deployment of the feature required to operate
certain application aspects by the operators and to the always possible case
the UE ends up in the EPS is a valuable aspect of considering some degree of
independence from the operator provided information. In summary it is
extremely likely that V2X applications will require to be able to operate
independently from the network (but of course they could enhance their
operation from leveraging network information).
There is a wealth of information that can be gathered like experienced data
rates, coverage detection, signal strength detection, Cell IDs+ location, QoS
levels allowed, notifications from the network, in application Quality reports
(which of course the network cannot access). In addition, car sensor data e.g
on weather conditions (nowcasting from the field + forecasting from third
parties), road conditions, etc. can also be elaborated at the same time and
sourced from the Car Groups. Indeed, some information can also be reported
shared by and reported to information aggregators /OS ecosystems implicitly or
explicitly by the UE and these can become available to the application layer.
In summary the amount if information that can and will be available even
without the assistance of networks will be considerable. See Figure 6.28.1-1
as an example of the structure of the ecosystem.
Figure 6.28.1-1: Example overview of the Ecosystem for V2X related information
sharing
In this ecosystem the 3GPP community has also a role to play, e.g. the
Notification control information, if available, can be sent to the V2X AS
(either by the UEs that receive such notifications or by the CN that receives
them from the RAN) and indirectly serve as a tool to infer the inability to
meet certain QoS in a cell/RAN node for as long as this is not reporting that
improved QoS levels are achievable.
The PLMN can also provide exposure of data it gathers via its own regular
OAM/Network Automation. All of this can helpful to the V2X ecosystem.
### 6.28.2 Procedures
Use NEF to expose QoS information from the NWDAF useful to satisfy the
objectives of this KI. UE impact from this KI is not required (e.g. KI#3
solution information can be reused and harvested by the V2X AS to the benefit
of this solution).
### 6.28.3 Impact on existing entities and interfaces
None
### 6.28.4 Topics for further study
None
### 6.28.5 Solution evaluation
This solution is resilient to lack of sharing from PLMNs (i.e. is resilient to
such information not being available in EPS).
### 6.28.6 Conclusions
This solution satisfies KI#15. No UE-related impact as part of this Key Issue
#15 is expected. If additional information not yet defined by other Work Items
or Key issues or not already defined in existing TSs was beneficial to be
exposed by PLMNs NEF, this can be defined in normative phase in this work item
context, and also in future 3GPP releases. One example is information on
availability of certain QoS level with a certain confidence level along a
path.
## 6.29 Solution #29: Potential QoS change notification to assist Application
Adjustment
### 6.29.1 Functional Description
This solution corresponds to the Key Issue #15 \"Enhancements to assist
Application Adjustment\".
The proposed solution reuses the mechanism defined in TS 23.288 [23] as much
as possible. The basic principles of this solution are the following:
**(1)** V2X Application Server requests analytics information regarding
potential QoS change in a geographic area via NEF. The request includes the
following parameters:
\- Analytics ID = \"Potential QoS change\".
\- Analytic Filter Information:
\- QoS requirements:
\- Standardized 5QI, and applicable additional QoS Characteristics and the
corresponding value (conditional, i.e. it is needed for GBR 5QIs to know the
GFBR).
\- For non-standardized QoS Characteristics, the QoS Characteristics attribute
and the corresponding values (optional).
NOTE 1: The V2X Application Server can determine the 5QIs and the QoS
characteristics it needs to provide as input to the QoS change notification
service based on SLA with the operator which authorizes the V2X Application
Server to use certain 5QIs and to use the QoS change notification service only
for these. The 5QI provided by the V2X Application Server is one of
standardized 5QI values or one that the operator defines.
\- Location information:
\- The location information indicates a path of interest and is a form of
Geographical Area(s), e.g. geographical coordinates or a polygon describing an
area.
NOTE 2: The location information could reflect a list of waypoints.
\- Time window (optional):
\- The time window indicates the time period (e.g., between 1PM and 2PM) to
which the information in the the potential QoS change notification applies
(which is needed for the specific applications the V2X Application Server
serves). If not provided, the NWDAF uses a default value set by the operator
based e.g on local policy or SLA. During the normative phase the maximum value
of the time window will be determined, but it should not be too long.
\- Threshold(s):
\- The threshold(s) indicate level(s) which, if crossed, trigger the
notification that the potential QoS change (improvement or worsening) can
happen. The level(s) relate to the, e.g. average UL/DL throughput, DRB
accessibility/retainability, etc. for the relevant 5QI(s) defined in TS 28.552
[24].
NOTE 3: Further details of the threshold may be considered during the
normative phase.
NOTE 4: The optional number of UEs indicating for how many UEs the request is
for, the optional ARP and the optional N-SSAI may be considered during the
normative phase.
NOTE 5: A new Analytic ID \"Potential QoS change\" needs to be defined for
this solution.
NOTE 6: It is assumed that the V2X Application Server makes a request and sets
the parameters included in the request by considering notification timing,
e.g. how early is the notification expected to be returned to the V2X
Application Server so the application has time to adapt.
NOTE 7: The V2X Application Server can either request to subscribe to
notifications from the 5GC or send/receive single requests/responses to/from
the 5GC.
**(2)** Based on the request from the V2X Application Server, the NEF
interacts with NWDAF to request analytics information.
NOTE 8: Whether any mapping of parameters included in the request from the V2X
Application Server to information used by the 3GPP system can be discussed in
the normative phase.
**(3)** The NWDAF collects data from OAM.
**(4)** The NWDAF provides analytic feedback, i.e. notification of potential
QoS change, to the V2X Application Server via the NEF. The analytic feedback
contains the following information:
\- Information on the location in the geographic area and the time when a QoS
change may happen (and what threshold is crossed).
The potential QoS change detected by the NWDAF may be based on the data from
OAM, e.g. average UL/DL throughput, DRB accessibility/retainability, etc, for
the relevant 5QI(s) defined in TS 28.552 [24], and parameters in the request
from the V2X Application Server described in (1). Data collected from other
NFs can be used as well.
The NWDAF can detect the need for notification about \"potential QoS change\"
based on comparing the expected value for the KPI of the target 5QI against
the threshold(s) provided by the V2X Application Server in any cell over the
requested time window. The expected KPI values are derived from the statistics
for the 5QI obtained from OAM and other information. OAM information may also
include planned or unplanned outages detection and other information that is
not in scope for 3GPP to discuss in detail.
NOTE 9: Data collected per 5QI not yet defined but will be defined in Rel-16
by other WGs such as SA5, RAN WGs can be used to detect potential QoS change.
### 6.29.2 Procedures
In this clause, the proposed procedure is related to continuous reporting
based on operator configuration, however one-time reporting can be also used.
Figure 6.29.2-1 depicts a procedure for potential QoS change notification to
assist Application Adjustment. Figure 6.29.2-1 shows the interaction between
V2X Application Server and NWDAF performed via the NEF.
Figure 6.29.2-1: Potential QoS change notification to assist Application
Adjustment
1\. The UE provides information on V2X service, path, path start time and QoS
requirements to the V2X Application Server. The path can be a form of
geographic coordinates to reflect a list of waypoints.
NOTE 1: The figure shows only one UE for simplicity, anyhow, the V2X
Application Server can receive the above information from other UEs.
2\. The V2X Application Server subscribes to analytic information provided by
NWDAF via NEF. The parameters included in the request are described in clause
6.29.1.
The V2X Application Server may include multiple sets of parameters in order to
provide different combinations of \"Location information\" and \"Time window\"
when requesting analytics information regarding potential QoS change. That is,
one request may include multiple sets of parameters to reflect different
timescales that may be useful to the V2X Application Server for monitoring for
a path of interest.
NOTE 2: The request made by the V2X Application Server does not have to be
per-UE.
The V2X Application Server may generate a request for analytics information
regarding potential QoS change for multiple UEs based on the information
received from the UEs in step 1. The V2X Application Server does not have to
provide any information related to UE identifier(s) (e.g. GPSI(s)) in the
request. The NWDAF does not have to get noticed or differentiate whether the
request from the V2X Application Server is for a single UE or multiple UEs.
NOTE 3: Whether a request is generated for a UE or multiple UEs, and how to
set the parameters included in the request are up to the V2X Application
Server implementation and out of the scope of 3GPP.
The V2X Application Server may issue a request based on local decision (i.e.
without explicit request from a specific UE or UEs) if it needs a map of the
QoS available over an entire network of roads within a certain time window for
a certain number of potential users.
If the analytic information subscription is authorized by the NEF, the NEF
records the association of the analytic trigger and the requester identity.
3\. Based on the subscription request from the V2X Application Server, the NEF
subscribes to analytic information to NWDAF as described in clause 6.29.1.
4\. The NWDAF collects data from OAM as described in clause 6.29.1.
5-6. If the NWDAF detects potential QoS change, the NWDAF provides a
notification for potential QoS change to the V2X Application Server via the
NEF as described in clause 6.29.1.
7\. V2X application adjustment may take place at UE and/or V2X Application
Server upon reception of the notification about potential change in QoS.
For the case that the V2X Application Server sends a request for multiple UEs
in step 2, the V2X Application Server may perform the V2X application
adjustment with every UE corresponding to the request.
NOTE 4: When the request made in step 2 is for multiple UEs, V2X application
adjustment may take place at each UE.
### 6.29.3 Impact on existing entities and interfaces
V2X Application Server
\- requests indication of potential QoS change in a geographic area via NEF.
\- performs mapping between individual UE path requests and subscription to
notification per path/road segment.
NEF
\- interacts with NWDAF to request analytics information based on the request
from the V2X Application Server.
NWDAF
\- collects data to detect potential QoS change.
\- provides notification on potential QoS change to the V2X Application
Server.
### 6.29.4 Topics for further study
### 6.29.5 Solution evaluation
This solution satisfies Key Issue #15.
In this solution, the NWDAF operates UE-independent QoS change monitoring and
notification. However, the V2X Application Server manages a request for QoS
change notification sent to the NWDAF by considering individual UE request,
and performs the V2X application adjustment with a relevant UE when potential
QoS change is notified, which means the V2X Application Server interacts with
individual UE regarding QoS change notification operation.
### 6.29.6 Conclusions
Editor\'s note: Conclusions are FFS.
# 7 Conclusions
## 7.0 General
Any solutions or other descriptions as far as not relevant for the conclusions
are not further updated. Also any Editor\'s notes not relevant for the
conclusions may remain in the TR.
Any Editor\'s notes relevant for the conclusions, e.g. related to other WGs
dependency, will be resolved in the normative phase.
## 7.1 Conclusions for EPS
In this study, no architecture enhancement of EPS for eV2X is identified. This
conclusion is relevant to Key Issue#1.
SA2 may have normative work for V2X enhancement to EPS in Rel-15 if there is
any input from RAN WGs and such input causes normative work in SA2. For the
normative work of V2X enhancement to EPS in Rel-15, the dedicated work item is
not required in SA2.
For Key Issue #2 (3GPP PC5 RAT selection for a V2X application), it is
concluded that Solution #12 in clause 6.12 is selected for normative work.
## 7.2 Conclusions for 5G System
For the architectural reference model it is concluded to take Alternative #1
in Annex A.1 as the baseline for normative work.
For Key Issue #1 (Support of eV2X Group Communication), it is concluded that
Solution #21 in clause 6.21 is used as the baseline for normative work.
For Key Issue #2 (3GPP PC5 RAT selection for a V2X application), it is
concluded that Solution #12 in clause 6.12 is selected for normative work.
For Key Issue #3 (QoS Support for eV2X over Uu interface),
\- Regarding QoS characteristics and new standardized 5QI value, it is
concluded to take Solution #2 in clause 6.2 as the baseline for normative
work. No additional QoS parameters have been identified in addition to the
ones already specified in TS 23.501 [7]. Whether the new combinations of QoS
parameter values proposed in Solution #2 are supported or not is pending RAN
WG2\'s feedback.
\- Regarding QoS Notification Control enhancements, it is concluded that
Solution #27 in clause 6.27 is taken as the baseline for normative work.
NOTE 0: As RAN WGs had been requested to evaluate the RAN impacts, solution#27
may be updated and aligned with RAN WG feedbacks in the normative phase.
For Key Issue #4 (Support of PC5 QoS framework enhancement for eV2X), depends
on RAN WG decisions, it is concluded that Solution #19 in clause 6.19 is used
as the baseline for normative work, with the working assumption that VQI can
be supported by NR PC5, and a new set of VQIs would be defined in normative
phase.
For Key Issue #5 (Service Authorization and Provisioning to UE for eV2X
communications over PC5 reference point) and Key Issue #11 (Service
Authorization and Provisioning to UE over NG-Uu reference point), it is
concluded that Solution #3 in clause 6.3, Solution #20 in clause 6.20 and
Solution #24 in clause 6.24 are selected for normative work.
For Key Issue #6 (Service Authorization to NG-RAN for eV2X communications over
PC5 reference point), Solution #6 in clause 6.6 is selected for the normative
work.
NOTE 1: For V2X capability indication and V2X related information per PC5 RAT,
alignment based on progress/decision in RAN WGs will be performed as part of
the normative phase.
For Key Issue #7 (Network Slicing for eV2X Services),
\- To facilitate deployment of dedicated network slice for use of, for
example, automotive industry and to facilitate roaming support, it is
concluded to reuse the Network Slicing functionality for 5GS (see TS 23.501
[7], TS 23.502 [9]) with specifying a new standardized SST value dedicated for
V2X services.
\- Existing values (both standardized and non-standardized SST) defined in TS
23.501 [7] can also be used for any V2X services e.g. eMBB, URLLC, etc.
For Key Issue #8 (Support of edge computing), it is concluded that the
mechanisms to support edge computing defined in TS 23.501 [7] and TS 23.502
[9] can be used. No additional normative work has been identified for this key
issue. Potential normative work may be identified by FS_5G_URLLC for this key
issue.
For Key Issue #9 (Support of unicast/multicast for sensor sharing over PC5),
it is concluded that Solution #11 documented in clause 6.11 is adopted as the
baseline for normative work, with the following potential updates based on
other Working Groups\' feedbacks:
\- the signalling message definition for unicast link establishment and
management, e.g. if and how RRC signalling is used for unicast link;
\- the choice of per packet QoS model or bearer based QoS model for broadcast,
groupcast, and unicast based on RAN decisions;
\- signal to the base station regarding the service used when network
scheduled mode is used;
\- the potential security related procedure updates for unicast communication
over PC5.
NOTE 2: In Key Issue #9 and Solution #11, multicast means groupcast.
For Key Issue #10 (eV2X message transmission and reception) on the support of
non-IP based V2X message over NG-Uu reference point, it is concluded to take
Solution #18 in clause 6.18 for normative work.
For Key Issue #12 (System migration and interworking for eV2X), it is
concluded to take Solution #9 in clause 6.9 and Solution #20 in clause 6.20
for normative work. PC5 interworking can be supported with proper UE
configurations by taking into account e.g. regional regulations, deployments,
and UE PC5 RAT capability.
For Key Issue #14 (Support of broadcast over NG-Uu), it is concluded to stop
further solution work on 5GS MBMS for Release 16. No normative work shall be
performed for this key issue in Release 16.
For Key Issue #15 (Enhancements to assist Application Adjustment) it is
concluded to select Solution #29 as the basis for normative work.
## 7.3 Interim Conclusions for EPS
For Key Issue #13 (Support NR based PC5 communication when UE connects to
EPC), it is concluded that Solution #25 in clause 6.25 is selected for
normative work once RAN WGs conclude to support Network Controlled NR PC5
radio resource scheduling in eNB.
###### ### Annex A: eV2X Architecture variants
# A.0 Description
In the existing V2X system architecture (as defined in TS 23.285 [5]), the V2X
Control Function is responsible for provisioning of V2X policy and parameters
not only for V2X communication over PC5 but also for V2X communication over
LTE-Uu. In the EPC, V2X Control Function uses V3 to provision the parameters
to the UE, which relies on OMA-DM. Alternatively, the parameters may be
provisioned to the UE through V1 from the V2X Application Server.
In 5GC, it is possible to realize the service authorization and provisioning
function with the following options, given the 5GC architecture:
\- Provision the V2X policy/parameters via U-plane:
a) Reuse the V2X Control Function as defined in TS 23.285 [5], which provides
the V3 via a U-plane connection to the UE;
\- Provision the V2X policy/parameters via C-plane:
The parameters are provided to the UE from the AMF through N1. The C-plane
based provisioning options are further divided as which entity sends the
parameters to the AMF.
b) Define the V2X Control Function as a new CP NF in 5GC, which provides the
V2X policy and parameters via C-plane towards the UE, i.e. using the
Namf_Communication_N1N2MessageTransfer/N1MessageNotify service of the AMF, and
the NAS transport to realize V3;
c) V2X Control Function connected to PCF via N5 to provision the V2X
policy/parameters using UE Policy delivery mechanism;
d) V2X Control Function connects to NEF and provides the V2X
policies/parameters to PCF via NEF, which in turn delivers the
policies/parameters to UE via UE Policy delivery mechanism;
e) PCF realizes the V2X policy/parameter provisioning function of the V2X
Control Function and delivers the policies/parameters to UE via UE Policy
delivery mechanism;
f) AF (i.e. V2X Application Server), connected to 5GC directly or via NEF,
realizes the V2X Control Function and provides the parameters to the UE.
# A.1 Alternative#1: eV2X Architecture Reference Model
## A.1.1 Description
### A.1.1.1 Description of existing V2X for EPS
The V2X Control Function in EPC handles the configuration of the UE in two
areas:
\- Configuration of radio parameters for the use of PC5.
\- Configuration of application parameters for the UE to access the
application server and to receiving application information over MBMS.
The specific V2X reference points specified by 3GPP are:
**V2** : The reference point between the V2X Application Server and the V2X
Control Function in the operator\'s network. The V2X Application Server may
connect to V2X Control Functions belonging to multiple PLMNs.\ In TS 23.285
[5] this is only handling MBMS configuration data and not further specified.
**V3** : The reference point between the UE and the V2X Control Function in
UE\'s home PLMN. It is based on the service authorization and provisioning
part of the PC3 reference point defined in clause 5.2 of TS 23.303 [8]. It is
applicable to both PC5 and LTE-Uu based V2X communication and optionally MBMS
and LTE-Uu based V2X communication.\ This is going over the user plane and
used for the UE configuration.
**V4** : The reference point between the HSS and the V2X Control Function in
the operator\'s network.\ The V4 interface allows the V2X Control Function to
retrieve V2X related subscription data in order to authorize access from the
UE for V2X services.
**V6** : The reference point between the V2X Control Function in the HPLMN and
the V2X Control Function in the VPLMN.
### A.1.1.2 5G Description
In 5GC a new reference architecture has been introduced and by that it should
be analysed if a simplified V2X architecture can be developed by using some of
the available features and thus eliminating the need for components from EPS
or if the V2X architecture from EPS shall be reused.
As the V2X Control Function only handles UE configuration it is proposed that
the new procedure in 5GC handles UE configuration, see TS 23.502 [9] clause
4.2.4.3 \'UE Configuration Update procedure for transparent UE Policy
delivery\'.
It is proposed to use PCF as the eV2X policy/parameters provisioning
functional entity.
The preconfiguration in ME or the UICC as specified in TS 23.285 [5] will
still be used where applicable.
If needed by the V2X application, the Application Function (AF) features such
as application influence and notification can be applied by V2X application.
In Release 15 5GS, MBMS feature is not supported.
### A.1.1.3 PC5 and Uu based eV2X architecture reference model
Figure A.1.1.3-1 shows the high-level view of the non-roaming 5G System
architecture for PC5 and Uu based V2X communication.
Figure A.1.1.3-1: Non-roaming 5G System architecture for PC5 and Uu based V2X
communication
Figure A.1.1.3-2 shows the high-level view of the roaming 5G System
architecture for PC5 and Uu based V2X communication.
Figure A.1.1.3-2: Roaming 5G System architecture for PC5 and Uu based V2X
communication
Figure A.1.1.3-3 shows the high-level view of the inter-PLMN 5G System
architecture for PC5 and Uu based V2X communication.
Figure A.1.1.3-3: Inter-PLMN 5G System architecture for PC5 and Uu based V2X
communication
The 5G System architectures for PC5 and Uu based V2X communication depicted in
Figures A.1.1.3-1, A.1.1.3-2 and A.1.1.3-3 are based on the 5G System
architectures defined in TS 23.501 [7] and PC5 and LTE-Uu based V2X
architecture reference model defined in TS 23.285 [5].
Editor\'s note: Service Based architecture will be determined once the final
reference architecture selection is completed.
## A.1.2 Procedures
The procedure in TS 23.502 [9] clause 4.2.4.3 \'UE Configuration Update
procedure for transparent UE Policy delivery\' can be used for the UE
configuration of V2X related parameters.
It is proposed to use PCF as the eV2X policy/parameters provisioning
functional entity.
## A.1.3 Impact on existing entities and interfaces
The reference points V3, V4 and V6 in the EPC V2X architecture is no longer
needed as this will be handled in the existing 5GC interfaces.
The configuration of the UE using V3 will instead be handled over existing
interfaces as handled by UE Configuration Update procedure.
The reference point between V4 between V2X Control Function and HSS will not
be needed as this is handle using the 5GC existing interfaces.
The V6 interface between the VPLMN and the HPLMN V2X Control Functions is not
needed as the needed information exchange may be handled by existing roaming
interfaces.
Editor\'s note: The handling of roaming interfaces will be further evolved
when a broader picture of the eV2X architectural requirements has been
developed
The functionality of V2X Control Function in the 5GC architecture resides in
the PCF, see clause A.1.2.
## A.1.4 Topics for further study
It is for further study which existing NFs that will be affected to support
the existing V2X functionality and new functionality introduced by other Key
Issues in the present document.
# A.2 Alternative#2: Reusing EPS V2X Architecture
## A.2.1 Description
The proposed 5G System architectures for PC5 and Uu based V2X communication
are based on the 5G System architectures defined in TS 23.501 [7] and V2X
architecture reference model defined in TS 23.285 [5].
Figure A.2.1-1 shows the high level view of the non-roaming 5GS architecture
for PC5 and Uu based V2X communication.
Figure A.2.1-1: Non-roaming 5GS architecture for PC5 and Uu based V2X
communication
Figure A.2.1-2 shows the high level view of the roaming architecture for PC5
and LTE-Uu based V2X communication. In this figure, UE A uses a subscription
of PLMN A and UE B uses a subscription of PLMN B; UE A is roaming in PLMN B
while UE B is not roaming.
A V2X Application Server may connect to multiple PLMNs, e.g. one V2X
Application Server can connect with the V2X Control Function in PLMN A and the
V2X Control Function in PLMN B in the figure.
Figure A.2.1-2: Roaming 5GS architecture for PC5 and Uu based V2X
communication
Figure A.2.1-3 shows the high level view of the inter-PLMN architecture for
PC5 and Uu based V2X communication. In this figure, UE A uses a subscription
of PLMN A and UE B uses a subscription of PLMN B; UE A is roaming in PLMN C
while UE B is not roaming.
Figure A.2.1-3: Inter-PLMN architecture for PC5 and Uu based V2X communication
**V1** : The reference point between the V2X application in the UE and in the
V2X Application Server. This reference point is out of scope of this
specification.
**V2** : The reference point between the V2X Application Server and the V2X
Control Function in the operator\'s network. The V2X Application Server may
connect to V2X Control Functions belonging to multiple PLMNs.
**V3** : The reference point between the UE and the V2X Control Function in
UE\'s home PLMN. It is based on the service authorization and provisioning
part of the PC3 reference point defined in clause 5.2 of TS 23.303 [8]. It is
applicable to both PC5 and Uu based V2X communication.
**V4** : The reference point between the UDM and the V2X Control Function in
the operator\'s network.
**V5** : The reference point between the V2X applications in the UEs. This
reference point is not specified in this release of the specification.
**V6** : The reference point between the V2X Control Function in the HPLMN and
the V2X Control Function in the VPLMN.
**PC5** : The reference point between the UEs used for user plane for ProSe
Direct Communication for V2X Service.
**N2, N3, N6, N8, N10:** same as defined in TS 23.501 [7].
**V2X Control Function, V2X Application Server:** same as defined in TS 23.285
[5].
# A.3 Alternative#3: V2X Control Function as a new CP entity in 5GC
## A.3.1 Description
V2X Control Function is used to provision the UE with necessary parameters in
order to use V2X communication. This alternative is equivalent to option b) of
clause A.0 and is based on defining a new CN NF specifically for supporting
the V2X CF functionalities. Figure A.3.1-1 below depicts the non-roaming
architecture for this option.
Figure A.3.1-1: Non-roaming 5GS architecture for PC5 and Uu based V2X
communication
Figure A.3.1-2 below depicts the roaming architecture for this option.
Figure A.3.1-2: Roaming 5GS architecture for PC5 and Uu based V2X
communication
Figure A.3.1-3 below depicts the roaming architecture for this option.
Figure A.3.1-3: Inter-PLMN 5G System architecture for PC5 and Uu based V2X
communication
## A.3.2 Procedures
A UE Configuration Update procedure (similar to TS 23.502 [9] clause 4.2.4.3)
needs to be defined.
## A.3.3 Impact on existing entities and interfaces
Considering V3, V4 and V6 introduced in EPS for V2X specific scenario:
\- V3 reference point (between UE and V2XCF): a new NAS type (e.g., NAS V2X
message) on top of NAS-MM is needed;
\- V4 reference point (between V2XCF and UDM): it is possible to reuse the
Nudm service interface to access the UDM. This allows the V2XCF to retrieve
V2X related data in order to authorize access from the UE for V2X services.
\- V6 reference point (between H-V2XCF and V-V2XCF): a new service interface
Nv2xcf is used to coordinate among V2XCF in the Home-PLMN and in the Visited-
PLMN.
Editor\'s note: Further details on which data is exchanged over V4 and V6 are
needed.
## A.3.4 Topics for further study
Editor\'s note: It is FFS that whether some new functionalities e.g. the
access control for V2X shall be captured for V2XCF as an NF.
# A.4 Alternative#4: eV2X Architecture Reference Model
## A.4.1 Description
The eV2X architecture reference model described in this clause corresponds to
the option f) of clause A.0.
Figure A.4.1-1 shows the AF (i.e. V2X Application Server) and the interfaces
that the AF is using.
Figure A.4.1-1: AF and the interfaces that the AF is using
When the AF is managed by a PLMN and allowed to access NFs directly (case 1),
the AF uses PCF services through the Npcf interface to provide V2X policy and
parameters to the UE.
Editor\'s note: It is FFS whether the PCF services specified in clause 5.2.5
of TS 23.502 [9] can be used or new PCF services need to be defined.
When the AF is managed by a V2X service provider (case 2), the AF uses NEF
services through the Nnef interface. The AF uses the
Nnef_ParameterProvision_Update service described in clause 5.2.6.4 and clause
4.15.6.2 of TS 23.502 [9] to update V2X related information. The V2 reference
point between the V2X AS and the PLMN is realized by using Nnef and Naf
interfaces.
Editor\'s note: It is FFS which NF in the PLMN acts as a peer for V2 reference
point.
Figure A.4.1-2 depicts the high level view of non-roaming eV2X architecture
reference model showing option f). The AF can belong to a PLMN or a V2X
Service Provider.
Figure A.4.1-2: Non-roaming eV2X architecture reference model
###### ### Annex B: Solutions for broadcast/multicast/group delivery over Uu
# B.0 Description
This Annex addresses and documents solutions for FS_CIoT_5G as well.
# B.1 Solution #B1: Support of broadcast in 5GS
## B.1.1 Functional Description
### B.1.1.0 General
This solution corresponds Key Issue #14 Support of broadcast over NG-Uu, Key
Issue #1 Support of eV2X Group Communication and also Key Issue#8 Support of
edge computing for eV2X. This solution proposes 5G-MBMS architecture and
corresponding procedures for V2X services. It is considered to utilize E-UTRAN
providing multicast/broadcast as specified in TS 36.440 [14], since NG-RAN is
composed of ng-eNB (providing E-UTRA user plane and control plane protocol)
and gNB (providing NR user plane and control plane protocol). This solution
proposes to adopt existing MBMS architecture principle and procedure in EPS,
but only necessary functionality for V2X service will be specified for this
solution.
### B.1.1.1 5G-MBMS Architecture
{width="6.686111111111111in" height="2.234027777777778in"}
Figure B.1.1.1-1: 5G MBMS Architecture
NOTE 1: For this architecture, NG-RAN is ng-eNB providing MBMS as specified in
TS 36.440 [14].
MB-AMF performs routing of session management message between MB-SMF and NG-
RAN.
MB-SMF is dedicated SMF for MBMS, corresponding to MBMS-GW Control Plane:
\- MBMS Bearer Session create/modify/release
\- IP multicast address allocation
\- Use Nmb (compliant to SGmb) to interact with BMSC-CPF
\- Interact with MCE via M3 reference point, which is routed via MB-AMF
MB-UPF is dedicated UPF for MBMS, corresponding to MBMS-GW User Plane:
\- Distribution of MBMS user plane data to E-UTRAN (M1 reference point)
\- Use SGi-mb to interact with BMSC-UPF
NOTE 2: Edge computing function can be supported by selecting a local MB-UPF
when it is available.
BMSC-CPF is Control plane function of BMSC, connecting with Application Server
via MB2-C or xMB-C
\- TMGI allocation, MBMS Session identifier management, Location dependent
content transfer
BMSC-UPF is User plane function of BMSC, connecting with Application Server
via MB2-U or xMB-U
\- MBMS data transmission, generate charging record
NOTE 3: Edge computing function can be supported by selecting a local BMSC-UPF
when it is available.
Editor\'s note: In this solution, it is encouraged to specify essential
functionality for V2X service. Above list of functionality is not exhaustive
and also can be modified.
### B.1.1.2 Service-based interfaces and Reference points
The 5G-MBMS architecture contains the following service-based interfaces and
reference points:
**Nmb** : Service based interface exhibited by BMSC-CPF equivalent to SGmb as
specified in TS 23.246 [16].
**Nmbsmf** : Service based interface exhibited by MB-SMF for MBMS session
procedure
**N4mb** : Reference point between MB-SMF and MB-UPF for MBMS session related
procedure
Editor\'s note: It is FFS whether N4mb can be supported as service-based
interface.
**M1** : Reference point between E-UTRAN and MB-UPF for MBMS data delivery. IP
multicast is used on this interface.
**M3** : Reference point for control plane between E-UTRAN and MB-AMF. It is
used to carry session management message between MB-SMF and E-UTRAN.
Editor\'s note: It is FFS whether functions of M3 reference point can be
modified.
**SGimb** : Reference point between BMSC-UPF and MB-UPF for MBMS data
delivery.
**MB2** Reference point between BMSC and V2X AS as specified in TS 26.346 [17]
**xMB** : Reference point between BMSC and V2X AS as specified in TS 26.346
[17]
Editor\'s note: use of MB2 or xMB will depends on service level agreement
## B.1.2 Procedures
### B.1.2.1 Service Announcement
Editor\'s note: Detail procedure will be specified. For V2X, Application
Server provides service announcement information to the UE on behalf of BMSC.
### B.1.2.2 TMGI Management
Editor\'s note: Detail procedure will be specified.
### B.1.2.3 MBMS Session Management
Editor\'s note: Detail procedure will be specified for session creation,
modification, and release.
## B.1.3 Impact on existing entities and interfaces
Editor\'s note: This clause describes impacts to existing entities and
interfaces.
The solution introduces new network entities:
MB-SMF: Dedicated SMF for MBMS:
\- MBMS Bearer Session create/modify/release
\- IP multicast address allocation
\- Use Nmb (compliant to SGmb) to interact with BMSC-CPF
\- Interact with MCE via M3 reference point, which is routed via MB-AMF
\- Nmbsmf: Service based interface exhibited by MB-SMF for MBMS session
procedure
\- N4mb: Reference point between MB-SMF and MB-UPF for MBMS session related
procedure
MB-UPF: Dedicated UPF for MBMS:
\- Distribution of MBMS user plane data to E-UTRAN (M1 reference point)
\- Use SGi-mb to interact with BMSC-UPF
\- N4mb: Reference point between MB-SMF and MB-UPF for MBMS session related
procedure
BMSC-CPF: Control plane function of BMSC:
\- TMGI allocation, MBMS Session identifier management, Location dependent
content transfer
\- Nmb: Service based interface exhibited by BMSC-CPF
BMSC-UPF: User plane function of BMSC:
\- MBMS data transmission, generate charging record
MB-AMF: Support transfer of MBMS session related message via M3 reference
points.
## B.1.4 Topics for further study
Editor\'s note: Topics for FFS will be collected for this particular
functionality.
## B.1.5 Conclusions
Editor\'s note: Conclusions will be collected for this particular
functionality.
# B.2 Solution #B2: Support of broadcast/multicast/group delivery over Uu
## B.2.1 Introduction
Editor\'s note: This clause lists the key issue(s) addressed by this solution.
This solution addresses Key Issue #16: Support of Group communication and
messaging in CIoT TR 23.724 [15] and Key Issue #14: Support of broadcast over
NG-Uu in this TR. It is based on the 5GS (5GC + E-UTRA) providing a transport
only service for groupcast delivery in the air by means of an enhanced SMF
(the Group-SMF), an enhanced AMF and Group-UPF. In the CN, the G-SMF
establishes an IP Multicast connection between the selected Group-UPF and
(R)AN nodes involved in the group communication (GC) session.
## B.2.2 Architecture
Editor\'s note: This clause outlines solution principles and documents any
assumptions made.
Figure B.2.2-1: Architecture for broadcast/multicast/group delivery over Uu in
5G network.
The following applies to the solution:
\- 5GC provides the session management and data forwarding for group
communication, while AF provides the membership management and security
management for group communication.
\- It is considered that the RAT is E-UTRA. Consequently, the RAN node is ng-
eNB.
\- It is considered that the NEF selects the G-SMF at first when the AF
requires the 5GC to setup group session.
\- The G-SMF selects a specific AMF AMF to support the GC session and message
exchanges between the G-SMF and RAN.
\- The G-SMF selects UPF(s) and notifies the AF about UPF information and
protocol. The control entity for establishing the group session is the G-SMF.
\- TMGI is reused for the group session identification in both the RAN and CN
side.
## B.2.3 Support of EPC interworking
Editor\'s note: This clause describes if and how EPC-5GC interworking is
supported by this solution.
## B.2.4 Procedures
### B.2.4.1 Service announcement
The service announcement mechanisms allow users to be informed about the
necessary information for receiving the group communication service (e.g. TMGI
and service start time). The AF performs service announcement by itself via
application layer message.
### B.2.4.2 TMGI Management
#### B.2.4.2.1 General
TMGIs are managed between the AF and the G-SMF using procedures for the
allocation, update and deallocation procedures upon request from the AF. TMGIs
may also be allocated automatically by the G-SMF at Group Session
Establishment as described in the clause B.2.4.3.2. Each TMGI is allocated by
the G-SMF for a given period of time determined by the G-SMF. If the AF wants
to retain access to a TMGI for an extended period of time the AF needs to
request extension of the allocation period. The AF may request an extension of
the allocation period at any time prior to expiry of the time period.
#### B.2.4.2.2 TMGI Allocation
Figure B.2.4.2.2-1: TMGI allocation procedure.
1\. When the AF wishes to have one or more TMGIs for group sessions, the AF
sends an Allocate TMGI Request message to the NEF.
2\. The NEF checks whether the AF is authorized by NEF to send the requestfor
TMGI allocation. If the request is not authorized, then NEF continues in step
6 indicating the reason to failure in the response message.
3\. If the AF is authorized by NEF, the NEF selects the G-SMF to manage the
session by using the information e.g. the information provided by the AF, load
of the G-SMFs and the serving area of G-SMF(s), and sends the request to such
G-SMF.
4\. G-SMF allocates a set of TMGIs. G-SMF also determines the associating
expiration time for the newly-requested TMGIs.
5\. The G-SMF sends an Allocate TMGI Response message to the NEF indicating
the list of allocated TMGIs, and an expiration time for those TMGIs.
6\. NEF sends the allocated TMGIs to AF.
#### B.2.4.2.3 TMGI Refresh
Figure B.2.4.2.3-1: TMGI refresh procedure.
1\. The AF includes a list of TMGIs that are already allocated to the AF, and
for which the AF wishes to obtain a later expiration time.
2\. The NEF checks whether the AF is authorizsed by NEF to send the request to
G-SMF. If the request is not authorized, then NEF continues in step 5
indicating the reason to failure in the response message.
3\. If the AF is authorized by NEF, NEF sends the request to the related
G-SMF.
4\. G-SMF determines the associating expiration time for the TMGIs.
5\. The G-SMF shall send an Allocate TMGI Response message to the AF
indicating the list of allocated TMGIs, and an expiration time for those TMGIs
via NEF.
#### B.2.4.2.4 TMGI deallocation
Figure B.2.4.2.4-1: TMGI deallocation procedure.
1\. When the AF decides that it no longer needs one or more TMGIs that are
allocated to it, the AF shall send a Deallocate TMGI Request message to the
NEF with the list of TMGIs to be deallocated. Absence of the list of TMGIs
implies that all TMGIs currently allocated to be deallocated.
2\. The NEF checks whether the AF is authorized by NEF to send the request. If
the request is not authorized, then NEF continues in step 5 indicating the
reason to failure in the response message.
3\. If the AF is authorized by NEF, NEF sends the request to the related
G-SMF.
4\. G-SMF shall then deallocate the TMGIs. If the groupcast and group session
resources are in use for any of the deallocated TMGIs, those resources are
released using the step 4\~9 of the procedure defined in clause B.2.4.3.3, and
the G-SMF shall release any corresponding resources.
5\. The G-SMF shall send a Deallocate TMGI Response message to the NEF
indicating the list of allocated TMGIs.
### B.2.4.3 Create, Update and Release a Group Session
#### B.2.4.3.1 General
Creating and releasing group session involves the allocation/deallocation of
groupcast resources, based on the configuration provided by the AF, using the
following procedures upon request from the AF.
The G-SMF initiates the GC Session Start procedure before the start time of GC
Session, which is requested by the AF. This is a request to establish the
resources of the network for the transfer of group session data. Through this
procedure, the session attributes such as QoS, groupcast area, are provided to
the relatedAMF(s) and RAN nodes. In addition the procedure allocates the user
plane information to all UPF(s) and E-UTRAN that respond to the GC session
start request message.
IP multicast distribution of the user plane data to RAN is supported. The
G-SMF allocates an IP Multicast address together with the corresponding IP
address of the multicast source are provided to the RAN node via AMF. The
group communication payload with the synchronization information shall be
distributed by the UPF with IP Multicast to the RAN nodes. The synchronization
information is used in the radio interface for the user data transmission
synchronization across the RAN nodes similar as described in TS 25.446 [18].
#### B.2.4.3.2 Triggering of the Group Session Establishment
Figure B.2.4.3.2-1: Procedure of triggering group session establishment.
1\. In order to activate the group session, AF sends an Group Communication
(GC) Session Request message to the NEF, including AF Transaction ID, group
session information (groupcast area, scheduled start time, QoS requirements),
Application Server information (IP address, port number), and UE information.
The UE information may include External Group ID. The groupcast area is the
list of Geographic Zone ID(s). The group session information may also include
the TMGI.
2\. The NEF checks whether the AF is authorized to send the request. If the
request is not authorized, then NEF continues in step 11 indicating the reason
to failure in the response message.
3\. If the AF is authorized by the NEF to send the request, the NEF selects an
appropriate G-SMF, and sends the GC Session request to the G-SMF, including
the TMGI, service area and/or a list of cell IDs start time, QoS
requirements). The NEF may map the groupcast area to RAN service area and a
list of cell IDs.
4\. If the TMGI is not included, the G-SMF allocates a TMGI and transport
network IP multicast address. The G-SMF selects the corresponding G-UPFs and
AMFs based on the information of RAN service area and a list of cell IDs. The
G-SMF sends a GC Session Start Request message to the AMF nodes to indicate
the impending start of the transmission and to provide the session attributes
(TMGI, QoS, service area and/or a list of cell IDs, IP address of the
multicast source, GC Session Duration, Minimum Time to GC Data Transfer).
5\. The AMF sends an N2 message including the session attributes (TMGI, QoS,
IP address of the multicast source, GC Session Duration, Minimum Time to GC
Data Transfer) to the RAN nodes.
6\. If the RAN node accepts IP Multicast distribution, it joins the
appropriate transport network IP multicast address allocated by the G-SMF, to
enable reception of groupcast data.
The RAN stores the session attributes, and responds the AMF to confirm the
reception of the N2 message. The RAN establishes the necessary radio resources
for the transfer of groupcast data.
7\. The AMF forwards the response from RAN to G-SMF.
8\. The G-SMF initiates IP Multicast distribution
9\. The UPF acknowledges by sending an N4 Response message.
10\. The G-SMF sends a GC Session Response message to the AF including service
description, UPF information (IP address and port number).
11\. The NEF sends the received response message to AF including the UPF IP
address and port number for the user-plane.
#### B.2.4.3.3 Triggering of Session release
Figure B.2.4.3.3-1: Procedure of triggering group session release.
1\. When the AF determines that the group session is no longer needed, it
shall send a Release GC Session Request message to the NEF, including the TMGI
representing the GC Session to be released.
2\. The NEF checks whether the AF is authorized by NEF to send the request.
3\. If the AF is authorized by NEF to send the request, the NEF sends the
Release GC Session Request to the G-SMF.
4\. The G-SMF sends a GC Session Stop Request message to the related AMF(s) to
indicate the end of GC Session and the resources can be released. The GC
Session Context is uniquely identified by the TMGI.
5\. The G-AMF forwards N2 message to the RAN nodes.
6\. RAN shall disable reception from the IP backbone of the particular
groupcast service. Each RAN responds with Session Stop Response message to the
AMF. The RAN releases the affected resources and removes the groupcast
Context.
7\. The AMF responses with Session Stop Response and release its information
regarding the session.
8\. G-SMF sends N4 request to UPF to delete the groupcast transmission.
9\. The UPF acknowledges by sending an N4 Response message.
10\. The G-SMF shall send a Release GC Session Response message to the NEF,
the result is included.
11\. The NEF transfer the message to the AF.
#### B.2.4.3.4 Triggering of Session Modification
Figure B.2.4.3.4-1: Procedure of triggering group session modification.
1\. When the AF determines that a created group session need to be modified,
it shall send a Modify GC Session Request message to the NEF, including the AF
Transaction ID, any new priority and preemption characteristics to be used,
and the groupcast area.
2\. The NEF checks whether the AF is authorized by NEF to send the request.
3\. If the AF is authorized by NEF to send the request, the NEF sends the
Modify GC Session request to the G-SMF.
4\. If the modification is authorized by G-SMF, The G-SMF sends a Session
Update Request (TMGI, QoS, GC Session Duration, Minimum Time to GC Data
Transfer) to the G-AMF. The ARP parameter may be different if it is to be
updated. The new service area and/or a list of cell IDs maybe included if
updated. The G-SMF sends a Session Start Request message to any added AMF,
Session Stop Request to any removed AMF, and Session Update to the remaining
G-AMF in the new list.
5\. The G-AMF sends an N2 message including the GC Session attributes (TMGI,
QoS, transport network IP Multicast Address, IP address of the multicast
source, GC Session Duration, Minimum Time to GC Data Transfer) to each RAN
node that is connected to the AMF.
6\. If the RAN has no GC Session context with the TMGI indicated in the N2
message, the RAN creates a GC Session context. Otherwise the RAN compares the
new service area and/or a list of cell IDs with the one it has stored in the
GC context and make the corresponding update. Then the RAN responds the AMF to
confirm the reception of the N2 Message. The RAN establishes/releases the
radio resources for the transfer of groupcast data.
7\. The AMF updates the GC session attributes in its groupcast Context and
responds to the G-SMF.
8\. The G-SMF initiates IP Multicast distribution to related UPFs.
9\. The UPF acknowledges by sending an N4 Response message.
10\. The G-SMF sends a Modify GC Session Response message to the NEF,
including the result.
11\. The NEF shall send a Modify GC Session Response message to the AF.
## B.2.5 Impacts on existing entities and interfaces/Functional Entities
Editor\'s note: This clause describes impacts to existing entities and
interfaces.
### B.2.5.1 Impacts on existing entities
The solution has impacts on the following network entities:
1\. The SMF supports the following additional functions:
\- Initiate group Session establishment/modification/release procedure;
\- Allocate and refresh the TMGI;
\- Notify the AF the information necessary for transmitting the group session
data via NEF.
\- Support IP multicast transmission between RAN and G-UPF
2\. AMF:
\- AMF is able to support transfer of messages between the SMF and the RAN
related to session for group session.
3\. RAN:
\- RAN part Group relevant group session activation/modification upon request
from core network;
\- Deliver the group session data to the designated area;
\- Receiving multicast data from UPF.
4\. NEF:
\- Provides interfaces between both SMF and AF for group session management;
\- Mapping the geographical area information to the RAN service area and ECGI.
\- Select G-SMF for group session
5\. AF:
\- Membership management: In transport only mode, the membership management is
implemented in the AF side;
\- Security: The AF takes charge of encrypting the data of the GC session;
\- Service announcement: The AF performs service announcement by itself to
announce the necessary parameters to the UE for receiving the data of group
communication;
\- Triggering of Group relevant group session to SMF directly for through NEF.
6\. UPF:
\- support multicast transmission to RAN for the group session data
\- Distribute the synchronization information with the group session data to
the RAN nodes if needed
\- Receive the group session data from AF/Content Provider and map into the
group session for multicast transmission to RAN
\- security association between UPF and AF/Context Provider, e.g. DTLS, IPSec
### B.2.5.2 Impacts on existing interfaces
**N2** : It is the reference point between AMF and RAN for transmitting
session attributes (e.g., TMGI, QoS, IP Multicast Address, GC Session
Duration, Minimum Time to GC Data Transfer).
**N3** : It is the reference point between UPF and RAN for group session data
delivery. IP Multicast is used on this interface to forward data.
**N11** : It is the reference point between G-SMF and AMF for transmitting
session attributes (e.g., TMGI, QoS, group session service area, IP Multicast
Address, GC Session Duration, Minimum Time to GC Data Transfer).
**Nnef** : It is the service interface provided by NEF, and it shall support
the 1) Interact with AF for the group session related actions, and 2)
Create/modification/release group session.
## B.2.6 Evaluation
Editor\'s note: This clause provides an evaluation of the solution.
# B.3 Solution #B3: Support for eMBMS over EPS MBMS with independent unicast
from 5GS
## B.3.1 Functional Description
### B.3.1.1 General description
This solution assumes that the Application Server or network function, e.g.
V2X Application Server or SCEF, in charge of the broadcast traffic generation
has access to the EPS based MBMS system serving the area of the UE. The EPS
based eMBMS system is as defined in TS 23.246 [16], with some extensions
introduced in TS 23.285 [5]. This solution applies to both eV2X and CIOT.
### B.3.1.2 Solution description
#### B.3.1.2.1 General solution for support of receiving eMBMS traffic for UE
connected to 5GS
The MBMS architecture in TS 23.246 [16], clause D.2.3 defines the following UE
Scenarios:
_UE Scenario 1: The UE receives both unicast and broadcast service from same
PLMN. The UE follows the same functionality as defined in clause 5.2._
_UE Scenario 2: The UE receives broadcast MBMS service without PLMN
subscription over E-UTRAN without the need to access and register with the
PLMN offering the MBMS service. The UE acts in Receive Only mode as defined in
Annex E._
_UE Scenario 3: The UE receives unicast service from one serving PLMN\'s (e.g.
the PLMN for which it has unicast subscription), and receive MBMS service
through a different PLMN. The UE acts in Receive Only mode with independent
unicast as defined in Annex E._
In TS 23.285 [5], all three secenarios are supported. However, when UE is
under the coverage of 5GS, UE Scenario 1 may not be usable due to the lack of
broadcast delivery mechanism. In this case, UE Secenario 2 or 3 can be still
used for the UE.
The UE in this case is operating in Receive-Only Mode (ROM) as defined in
Annex E of TS 23.246 [16]. Specifically, for UE Scenario 3, if the independent
unicast for UE is using 5GS, the UE architecture for these scenarios is shown
in Figure B.3.1.2.1-1, based on the illustration in TS 23.246 [16].
Figure B.3.1.2.1-1: UE components in Receive Only Mode and Receive Only Mode
with independent 5GS unicast
#### B.3.1.2.2 Applying the general solution to eV2X
In TS 23.285 [5], the eMBMS architecture for V2X was specified when EPS is
used. It was clarified that the UE can receive the downlink broadcast from the
PLMN other than Serving PLMN based on the V2X USD(s) obtained, i.e. use the
ROM mode.
Therefore, the same applies even when UE is connected to 5GS over unicast. The
only requirement is to provide the UE with the V2X USD(s). Therefore, the
three different approaches of providing the V2X USD(s) listed in TS 23.285 [5]
can be used as well:
\- Existing MBMS service announcement mechanisms specified in TS 23.246 [16]
and TS 26.346 [17].
\- Provisioning via 5GS from V2X Control Function or PCF depending on
conclusion of the architecture.
\- Provisioning from the V2X Application Server via V1 reference point.
Following figure shows architecture that supports the MBMS ROM operation with
UE connected to 5GS.
Figure B.3.1.2.2-1: Network architecture for receiving MBMS from EPS and
independent unicast from 5GS
For UE that is connected via 5GS, it can access the V2X Application Server via
the NG-Uu connections using unicast mechanism. Over this link, UE could obtain
configurations for V2X operation, including the V2X USD(s) for receiving MBMS
traffic over the EPS MBMS system (of the same or different PLMNs). Such
configurations can be delivered via either the provisioning mechanism defined
for V2X in 5GS (e.g. from V2X Control Function or PCF - not shown in the
figure), or from the V2X Application Server via V1.
In case the EPS MBMS system is in another PLMN than that of the 5GS, the V2X
Application Server would handle the interaction with the MBMS system of that
PLMN. The UE is configured with the V2X Application Server information for the
service access, similar to that defined in TS 23.285 [5]. There is no UE
impacts in this aspect.
## B.3.2 Procedures
Since the EPS MBMS system is used, the procedure as defined in TS 23.285 [5]
clause 5.4.2 can be resused.
## B.3.3 Impact on existing entities and interfaces
There is no impact to the UE, as the UE as specified in TS 23.285 [5] already
supports Receive Only Mode operation for MBMS in EPS.
There is no impact to 5GS, as it only provides unicast access to UE as normal.
In case the UE provides NG-RAN Cell IDs to the V2X Application Server, as in
clause 5.4.2.1 of TS 23.285 [5], either the V2X Application Server or the BM-
SC needs to be able to derive the correct MBMS Service Area and SAI list based
on that.
## B.3.4 Topics for further study
Editor\'s note: This clause describes topics for further study.
## B.3.5 Conclusions
Editor\'s note: This clause provides conclusions of the solution.
# B.4 Solution #B4: Support of multicast/groupcast/broadcast services in 5GS
## B.4.1 Functional Description
### B.4.1.1 Architecture
This solution proposes a new architecture alternative as a starting point for
MBMS services in 5G together for V2X services and CIoT requirements. It is
assumed that unilateral development of 5G solution in this context without RAN
work and not having full scope of MBMS services is not the best approach to
take. The study should also look into efficiency, streamlining and appropriate
separation of functions aligned with 5G architecture principles.
Figure B.4.1.1-1 illustrates the functional decomposition and possible
interactions among these functions related to MBMS.
NOTE 1: This architecture option proposes RAN WGs to develop NG-RAN MBMS
architecture together with SA WG2 in order to determine how the functional
split will be determined.
Figure B.4.1.1-1: 5G MBMS functional decomposition
NOTE 2: MCPTT services today do not use xMB interfaces. Though any 3GPP or 3rd
Party services can utilise xMB.
NOTE 3: The interfaces among the entities are shown for illustration purposes
only and not proposed as an architecture.
Some additional key open questions are (not exhaustive):
\- Development of NG-RAN - 5GCN MBMS functional distribution and NG-RAN MBMS
functions
\- Does the MBMS system offer an IP level service (similar to today\'s SA WG2
architecture) and / or does the MBMS system also offer delivery services
(similar separation as with IMS in SA WG2)?
NOTE 4: SA WG2 work already earlier separated IP Level service and delivery
services into Service Type 1 (aka Transport-Only Service) and Service Type 2
(aka full Service) within the TV broadcast services.
\- MBMS Services: MCPTT, Live DASH, RTP and file delivery.
NOTE 5: MCPTT has just moved functions from a BM-SC node to the MCPTT AS node.
Thus, the MCPTT architecture follows a bit or a different deployment view.
\- The BM-SC is supposed to be \"transparent\" for the MCPTT AS (i.e. MCPTT AS
accesses only the MBMS Bearer Services).
\- The UPF is an IP level function, similar to MBMS-GW. The function of the
MBMS-GW was to separate Core network (GTP tunneling domain) for Service layer
(IP routed domain), does MBMS GW user plane have distinct charactiertics that
require new entity/NF?
\- It may make sense to combine MBMS-GW and BM-SC network functions (control
and user plane as 5G system)?
\- Separate out the BMSC Application Function component as stand alone
enabling appropriate functional separation?
\- Can all MBMS Control plane functions be combined including functions
currently belonging to MME?
\- All EPC MBMS functions are needed. However, functions may be moved /
combined to provide better/efficient delivery of the services?
\- Keep Unicast and MBMS Functions separated as in EPC? Likely answer is yes.
NOTE 6: It is RAN WGs responsibility to study MBMS architecture for RAN.
NOTE 7: The full architecture needs to be studied together with SA WG4, SA WG6
and RAN WGs.
### B.4.1.2 Service-based interfaces and Reference points
Tbd.
## B.4.2 Procedures
Tbd.
## B.4.3 Impact on existing entities and interfaces
Tbd.
## B.4.4 Topics for further study
Editor\'s note: This clause describes topics for further study.
## B.4.5 Conclusions
Editor\'s note: This clause provides conclusions of the solution.
#