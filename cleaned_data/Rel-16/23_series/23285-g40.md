# Foreword
This Technical Report has been produced by the 3^rd^ Generation Partnership
Project (3GPP).
The contents of the present document are subject to continuing work within the
TSG and may change following formal TSG approval. Should the TSG modify the
contents of the present document, it will be re-released by the TSG with an
identifying change of release date and an increase in version number as
follows:
Version x.y.z
where:
x the first digit:
1 presented to TSG for information;
2 presented to TSG for approval;
3 or greater indicates TSG approved document under change control.
y the second digit is incremented for all changes of substance, i.e. technical
enhancements, corrections, updates, etc.
z the third digit is incremented when editorial only changes have been
incorporated in the document.
# 1 Scope
The present document specifies architecture enhancements to facilitate
vehicular communications for Vehicle-to-Everything (V2X) services, which
includes Vehicle-to-Vehicle (V2V), Vehicle-to-Pedestrian (V2P), Vehicle-to-
Infrastructure (V2I), and Vehicle-to-Network (V2N), according to the use cases
and service requirements defined in TS 22.185 [2] and TS 22.186 [28].
The following vehicular communications for V2X services are specified:
\- V2X communication over PC5 reference point.
\- V2X communication over LTE-Uu reference point.
V2X communication over NR PC5 reference point specified in TS 23.287 [30] is
supported.
# 2 References
The following documents contain provisions which, through reference in this
text, constitute provisions of the present document.
\- References are either specific (identified by date of publication, edition
number, version number, etc.) or non‑specific.
\- For a specific reference, subsequent revisions do not apply.
\- For a non-specific reference, the latest version applies. In the case of a
reference to a 3GPP document (including a GSM document), a non-specific
reference implicitly refers to the latest version of that document _in the
same Release as the present document_.
[1] 3GPP TR 21.905: \"Vocabulary for 3GPP Specifications\".
[2] 3GPP TS 22.185: \"Service requirements for V2X services\".
[3] ISO 17419:2018: \"Intelligent transport systems - Cooperative systems -
Globally unique identification\".
[4] IEEE Std 1609.12-2016: \"IEEE Standard for Wireless Access in Vehicular
Environments (WAVE) - Identifier Allocations\".
[5] 3GPP TS 23.303: \"Proximity-based Services (ProSe); Stage 2\".
> [6] 3GPP TS 23.401: \"General Packet Radio Service (GPRS) enhancements for
> Evolved Universal Terrestrial Radio Access Network (E-UTRAN) access\".
[7] 3GPP TS 23.468: \"Group Communication System Enablers for LTE
(GCSE_LTE)\".
[8] 3GPP TS 23.246: \"Multimedia Broadcast/Multicast Service (MBMS);
Architecture and functional description\".
[9] 3GPP TS 36.331: \"Evolved Universal Terrestrial Radio Access (E-UTRA);
Radio Resource Control (RRC); Protocol specification\".
[10] 3GPP TS 36.300: \"Evolved Universal Terrestrial Radio Access (E-UTRA) and
Evolved Universal Terrestrial Radio Access Network (E-UTRAN); Overall
description; Stage 2\".
[11] 3GPP TS 26.346: \"Multimedia Broadcast/Multicast Service (MBMS);
Protocols and codecs\".
[12] 3GPP TS 23.203: \"Policy and charging control architecture\".
[13] IEEE Std 1609.3-2010: \"IEEE Standard for Wireless Access in Vehicular
Environments (WAVE) - Networking Services\".
[14] ISO 29281-1:2013: \"Intelligent Transport Systems - Communications access
for land mobiles (CALM) - Non-IP networking - Part 1: Fast networking &
transport layer protocol (FNTP)\".
[15] 3GPP TS 29.272: \"Evolved Packet System (EPS); Mobility Management Entity
(MME) and Serving GPRS Support Node (SGSN) related interfaces based on
Diameter protocol\".
[16] ETSI TS 102 637‑2 V1.2.1: \"Intelligent Transport Systems (ITS);
Vehicular Communications; Basic Set of Applications; Part 2: Specification of
Cooperative Awareness Basic Service\".
[17] ETSI TS 102 637‑3 V1.1.1: \"Intelligent Transport Systems (ITS);
Vehicular Communications; Basic Set of Applications; Part 3: Specifications of
Decentralized Environmental Notification Basic Service\".
[18] 3GPP TS 32.277: \"Proximity-based Services (ProSe) charging\".
[19] Void.
[20] 3GPP TS 32.251: \"Telecommunication management; Charging management;
Packet Switched (PS) domain charging\".
[21] 3GPP TS 32.273: \"Telecommunication management; Charging management;
Multimedia Broadcast and Multicast Service (MBMS) charging\".
[22] 3GPP TS 36.304: \"Evolved Universal Terrestrial Radio Access (E-UTRA);
User Equipment (UE) procedures in idle mode\".
[23] 3GPP TS 23.122: \"Non-Access-Stratum (NAS) functions related to Mobile
Station (MS) in idle mode\".
[24] Void.
[25] 3GPP TS 33.185: \"Security aspect for LTE support of V2X services\".
[26] 3GPP TS 36.321: \"Evolved Universal Terrestrial Radio Access (E-UTRA);
Medium Access Control (MAC) protocol specification\".
[27] 3GPP TS 24.386: \"User Equipment (UE) to V2X control function; protocol
aspects; Stage 3\".
[28] 3GPP TS 22.186: \"Enhancement of 3GPP support for V2X scenarios; Stage
1\".
[29] 3GPP TS 26.348: \"Northbound Application Programming Interface (API) for
Multimedia Broadcast/Multicast Service (MBMS) at the xMB reference point\".
[30] 3GPP TS 23.287: \"Architecture enhancements for 5G System (5GS) to
support Vehicle-to-Everything (V2X) services\".
[31] 3GPP TS 23.167: \"IP Multimedia Subsystem (IMS) emergency sessions\".
[32] CCSA YD/T 3707-2020: \"Technical requirements of network layer of LTE-
based vehicular communication\".
# 3 Definitions and abbreviations
## 3.1 Definitions
For the purposes of the present document, the terms and definitions given in
TR 21.905 [1] and the following apply.\ A term defined in the present document
takes precedence over the definition of the same term, if any, in TR 21.905
[1].
**Tx Profile:** The transmission format (i.e. which 3GPP Release) to be used
by the UE over LTE PC5 RAT, see TS 36.300 [10].
For the purposes of the present document, the following terms and definitions
given in ISO 17419 [3] apply:
**Intelligent Transport Systems**
**ITS Application Identifier**
For the purposes of the present document, the following term and definition
given in IEEE Std 1609.12-2016 [4] apply:
**Provider Service Identifier**
For the purposes of the present document, the following term and definition
given in TS 22.185 [2] apply:
**Road Side Unit**
For the purposes of the present document, the following term and definition
given in TS 23.303 [5] apply:
**Geographical Area**
For the purposes of the present document, the following term and definition
given in CCSA YD/T 3707-2020 [32] apply:
**Application Identifier**
## 3.2 Abbreviations
For the purposes of the present document, the abbreviations given in TR 21.905
[1] and the following apply.\ An abbreviation defined in the present document
takes precedence over the definition of the same abbreviation, if any, in TR
21.905 [1].
AID Application Identifier
C-TEID Common-Tunnel Endpoint IDentifier
ITS Intelligent Transport Systems
ITS-AID ITS Application Identifier
PSID Provider Service Identifier
RSU Road Side Unit
SIPTO\@LN SIPTO at the Local Network
USD User Service Description
V2X Vehicle-to-Everything
# 4 Architecture model and concepts
## 4.1 General concept
There are two modes of operation for V2X communication, namely over the PC5
and over LTE-Uu. LTE-Uu can be unicast and/or MBMS. These two operation modes
may be used by a UE independently for transmission and reception, e.g. a UE
can use MBMS for reception without using LTE-Uu for transmission. A UE may
also receive V2X messages via LTE-Uu unicast downlink.
> For both operation modes, the following principles apply:
\- V2X Application Servers e.g. in different domains can communicate with each
other for the exchange of V2X messages. The interface between V2X Application
Servers and the methods of the exchange of messages between V2X Application
Servers is out of scope of 3GPP.
\- ProSe discovery feature (TS 23.303 [5] clause 5.3 ProSe Direct Discovery)
is not required for V2X Services.
NOTE: _ProSe discovery feature can be used by a V2X supporting UE, but that is
up to UE implementation_.
\- Subject to regional regulations, lawful interception requirements apply to
V2X Services.
\- An RSU is not an architectural entity, but an implementation option. This
is achieved by collocating a V2X application logic/server with some entities
of the 3GPP system, as shown in examples in Annex A.
## 4.2 Architectural reference model
### 4.2.1 PC5 and LTE-Uu based V2X architecture reference model
#### 4.2.1.1 Non-roaming architecture for PC5 and LTE-Uu based V2X
communication
Figure 4.2.1.1-1 shows the high level view of the non-roaming architecture for
PC5 and LTE-Uu based V2X communication.
Figure 4.2.1.1-1: Non-roaming reference architecture for PC5 and LTE-Uu based
V2X communication
#### 4.2.1.2 Roaming architecture for PC5 and LTE-Uu based V2X communication
Figure 4.2.1.2-1 shows the high level view of the roaming architecture for PC5
and LTE-Uu based V2X communication. In this figure, UE A uses a subscription
of PLMN A and UE B uses a subscription of PLMN B; UE A is roaming in PLMN B
while UE B is not roaming.
A V2X Application Server may connect to multiple PLMNs, e.g. one V2X
Application Server can connect with the V2X Control Function in PLMN A and the
V2X Control Function in PLMN B in the figure.
Figure 4.2.1.2-1: Roaming reference architecture for PC5 and LTE-Uu based V2X
communication
#### 4.2.1.3 Inter-PLMN architecture for PC5 and LTE-Uu based V2X
communication
Figure 4.2.1.3-1 shows the high level view of the inter-PLMN architecture for
PC5 and LTE-Uu based V2X communication. In this figure, UE A uses a
subscription of PLMN A and UE B uses a subscription of PLMN B; UE A is roaming
in PLMN C while UE B is not roaming.
Figure 4.2.1.3-1: Inter-PLMN reference architecture for PC5 and LTE-Uu based
V2X communication
### 4.2.2 MBMS for LTE-Uu based V2X architecture reference model
Figure 4.2.2-1a and figure 4.2.2-1b show the high level view of the reference
architectures with MBMS for LTE-Uu based V2X communication. V2X Application
Server may apply either MB2 or xMB reference points when managing MBMS service
related information via BM-SC, MB2 reference point as defined in TS 23.468 [7]
provides functionality related to group communication and xMB reference point
as defined in TS 26.348 [29] provides functionality overall for any content
and also supports security framework between content provider and BM-SC.
Figure 4.2.2-1a: Reference architecture for MBMS for LTE-Uu based V2X
communication via MB2
Figure 4.2.2-1b: Reference architecture for MBMS for LTE-Uu based V2X
communication via xMB
### 4.2.3 Reference points
**V1** : The reference point between the V2X application in the UE and in the
V2X Application Server. This reference point is out of scope of this
specification.
**V2** : The reference point between the V2X Application Server and the V2X
Control Function in the operator\'s network. The V2X Application Server may
connect to V2X Control Functions belonging to multiple PLMNs.
**V3** : The reference point between the UE and the V2X Control Function in
UE\'s home PLMN. It is based on the service authorization and provisioning
part of the PC3 reference point defined in clause 5.2 of TS 23.303 [5]. It is
applicable to both PC5 and LTE-Uu based V2X communication and optionally MBMS
and LTE-Uu based V2X communication.
**V4** : The reference point between the HSS and the V2X Control Function in
the operator\'s network.
**V5** : The reference point between the V2X applications in the UEs. This
reference point is not specified in this release of the specification.
**V6** : The reference point between the V2X Control Function in the HPLMN and
the V2X Control Function in the VPLMN.
**PC5** : The reference point between the UEs used for user plane for ProSe
Direct Communication for V2X Service.
**S6a** : In addition to the relevant functions defined in TS 23.401 [6] for
S6a, in case of V2X Service S6a is used to download V2X Service related
subscription information to MME during E-UTRAN attach procedure or to inform
MME subscription information in the HSS has changed.
**S1-MME** : In addition to the relevant functions defined in TS 23.401 [6]
for S1-MME, in case of V2X Service it is also used to convey the V2X Service
authorization from MME to eNodeB.
**xMB:** The reference point between the V2X Application Server (e.g. Content
Provider) and the BM-SC, and defined in TS 26.348 [29].
**MB2** : The reference point between the V2X Application Server and the BM-
SC, and defined in TS 23.468 [7].
**SGmb/SGi-mb/M1/M3** : The SGmb/SGi-mb/M1/M3 reference points are internal to
the MBMS system and are defined in TS 23.246 [8].
**LTE-Uu** : The reference point between the UE and the E-UTRAN.
## 4.3 Functional entities
### 4.3.1 V2X Control Function
#### 4.3.1.1 General
The V2X Control Function is the logical function that is used for network
related actions required for V2X. In this version of the specification it is
assumed that there is only one logical V2X Control Function in each PLMN that
supports V2X Services.
NOTE 1: If multiple V2X Control Functions are deployed within the same PLMN
(e.g., for load reasons), then the method to locate the specific V2X Control
Function (e.g., through a database lookup, etc.) is not defined in this
version of the specification.
V2X Control Function is used to provision the UE with necessary parameters in
order to use V2X communication. It is used to provision the UEs with PLMN
specific parameters that allow the UE to use V2X in this specific PLMN. V2X
Control Function is also used to provision the UE with parameters that are
needed when the UE is \"not served by E-UTRAN\".
V2X Control Function may also be used to obtain V2X USDs for UEs to receive
MBMS based V2X traffic, through V2 reference point from the V2X Application
Server.
V2X Control Function may also obtain the parameters required for V2X
communications over PC5 reference point, from the V2X Application Server via
V2 reference point.
NOTE 2: The V2X Control Function in HPLMN can be always reached if Home Routed
configuration is applied for PDN connection (e.g., the PDN GW is located in
the HPLMN), when such function is supported by the HPLMN. In case of Local
Breakout (e.g., the PDN GW is located in the VPLMN), a V2X Control Function
Proxy can be deployed by the VPLMN to support UE to Home V2X Control Function
communication, if inter-PLMN signalling is required. Whether a PDN connection
is provided by Local Breakout or Home Routed is determined by the HSS
configuration described in TS 23.401 [6]. The UE is not aware of this and, as
such, it will not know which APN can be used for communication with the V2X
Control Function, unless the specific APN information is configured in the UE
indicating that this APN provides signalling connectivity between the UE and
the Home V2X Control Function.
#### 4.3.1.2 V2X Control Function discovery
The V2X Control Function of HPLMN is discovered through interaction with the
Domain Name Service function. The FQDN of a V2X Control Function in the Home
PLMN may either be pre-configured in the UE, provisioned by the network or
self-constructed by the UE, e.g., derived from the PLMN ID of the HPLMN. The
IP address of a V2X Control Function in the Home PLMN may also be provisioned
to the UE.
### 4.3.2 UE
The UE may support the following functions:
\- Exchange of V2X control information between UE and the V2X Control Function
over the V3 reference point.
\- Procedures for V2X communication over PC5 reference point and/or LTE-Uu
reference point.
\- Configuration of parameters for V2X communication (e.g., destination
Layer-2 IDs, radio resource parameters, V2X Application Server address
information, mapping between service types and V2X frequencies). These
parameters can be pre-configured in the UE, or, if in coverage, provisioned by
signalling over the V3 reference point from the V2X Control Function in the
HPLMN.
\- Provided with V2X USDs for receiving MBMS based V2X traffic via existing
MBMS service announcement mechanisms, or provisioned from V2X Control
Function, or provisioned from the V2X Application Server via V1 reference
point.
\- Provisioned with V2X Server USDs for receiving V2X Application Server
information via MBMS.
### 4.3.3 V2X Application Server
The V2X Application Server (V2X AS) may support the following capabilities:
\- Receiving uplink data from the UE over unicast.
\- Delivering data to the UE(s) in a target area using Unicast Delivery and/or
MBMS Delivery.
\- Mapping from geographic location information to appropriate target MBMS
SAI(s) for the broadcast.
\- Mapping from geographic location information to appropriate target 3GPP
ECGI(s) for the broadcast.
\- Mapping from UE provided ECGI to appropriate target MBMS SAI(s) for the
broadcast.
\- Providing the appropriate ECGI(s) and/or MBMS SAI(s) to BM-SC.
\- Pre-configured with Local MBMS (L.MBMS) information (e.g. IP multicast
address, multicast source (SSM), C-TEID).
\- Pre-configured with L.MBMS\'s IP address and port number for the user-
plane.
\- Sending L.MBMS information to the BM-SC.
\- Requests BM-SC for allocation/de-allocation of a set of TMGIs.
\- Requests BM-SC for activating/deactivating/modifying the MBMS bearer.
\- Providing the V2X USDs for UE to receive MBMS based V2X traffic to V2X
Control Function.
\- Providing the parameters for V2X communications over PC5 reference point to
V2X Control Function.
\- Providing the parameters for V2X communications over PC5 reference point to
UE.
### 4.3.4 MME
In addition to the functions defined in TS 23.401 [6] and TS 23.246 [8], in
case of V2X the MME performs the following functions:
\- Obtains subscription information related to V2X as part of the subscription
data.
\- Provides indication to the E-UTRAN about the UE authorization status on V2X
use.
### 4.3.5 BM-SC
In addition to the functions defined in TS 23.246 [8] and TS 23.468 [7], in
case of V2X the BM-SC performs the following functions:
\- Receives L.MBMS information from V2X Application Server.
\- Sends L.MBMS information to the MBMS-GW.
### 4.3.6 MBMS-GW
In addition to the functions defined in TS 23.246 [8], in case of V2X the
MBMS-GW performs the following functions:
\- If receiving L.MBMS information from the BM-SC, skipping the allocation
procedure for IP multicast distribution, e.g., allocating an IP multicast
address.
## 4.4 High level function
### 4.4.1 Authorization and Provisioning for V2X communications
#### 4.4.1.1 Authorization and provisioning for V2X communications over PC5
reference point
##### 4.4.1.1.1 General
The basic principles of service authorization for V2X communications over PC5
reference point:
\- The UE gets authorization to use V2X communications over PC5 reference
point on a per PLMN basis in the serving PLMN by the V2X Control Function in
the HPLMN.
\- The V2X Control Function in the HPLMN requests authorization information
from the V2X Control Function of the serving PLMN.
\- The V2X Control Function in the HPLMN merges authorization information from
home and serving PLMNs and informs the UE of the final authorization
information.
\- The V2X Control Function in the VPLMN or HPLMN may revoke the authorization
at any time. The V2X Control Function in the HPLMN shall be notified when
authorization is revoked by the VPLMN.
##### 4.4.1.1.2 Policy/Parameter provisioning
The following information for V2X communications over PC5 reference point is
provisioned to the UE:
1) Authorization policy:
\- When the UE is \"served by E-UTRAN\":
\- PLMNs in which the UE is authorized to perform V2X communications over PC5
reference point.
\- When the UE is \"not served by E-UTRAN\":
\- Indicates whether the UE is authorized to perform V2X communications over
PC5 reference point when \"not served by E-UTRAN\".
2) Radio parameters for when the UE is \"not served by E-UTRAN\":
\- Includes the radio parameters with Geographical Area(s) and an indication
of whether they are \"operator managed\" or \"non-operator managed. These
radio parameters (e.g. frequency bands) are defined in TS 36.331 [9]. The UE
uses the radio parameters to perform V2X communications over PC5 reference
point when \"not served by E-UTRAN\" only if the UE can reliably locate itself
in the corresponding Geographical Area. Otherwise, the UE is not authorized to
transmit.
NOTE 1: Whether a frequency band is \"operator managed\" or \"non-operator
managed\" in a given Geographical Area is defined by local regulations.
3) Policy/parameters:
\- The mapping of Destination Layer-2 ID(s) and the V2X services, e.g. PSIDs,
ITS-AIDs or AIDs of the V2X application.
NOTE 2: PLMN operators coordinate to make sure Destination Layer-2 ID(s) for
different V2X services are configured in a consistent manner.
NOTE 3: To pre-configure a UE with the provisioning parameters, at least the
\"not served by E-UTRAN\" parameters of 1) and 2), and the parameters of 3)
need to be included.
\- The mapping of ProSe Per-Packet Priority and packet delay budget for V2X
communication (autonomous resources selection mode).
\- The list of V2X services, e.g. PSIDs, ITS-AIDs or AIDs of the V2X
applications, with Geographical Area(s) that require privacy support.
\- The mapping of service types (e.g. PSIDs, ITS-AIDs or AIDs) to V2X
frequencies (see TS 36.300 [10] for further information) with Geographical
Area(s).
\- The mapping of service types (e.g. PSIDs, ITS-AIDs or AIDs) to Tx Profiles
(see TS 36.300 [10] for further information).
\- The list of V2X services, e.g. PSIDs, ITS-AIDs or AIDs of the V2X
applications, allowed to use a specific PPPR value.
4) Policy/parameters for NR PC5:
\- Same as specified in TS 23.287 [30] clause 5.1.2.1 item 6)
Policy/parameters when NR PC5 is selected.
Alternatively, the above parameters in 2) and 3) may be configured on the UE
through the V1 reference point from the V2X Application Server. The V2X
Control Function may also obtain these parameters through the V2 reference
point from the V2X Application Server.
The parameters provisioned by the V2X Control Function take precedence over
the configured parameters on the UE.
NOTE 4: The V2 reference point procedure is not specified in this Release.
##### 4.4.1.1.3 Principles for applying parameters for V2X communications over
PC5 reference point
For V2X communication over PC5, the operator may pre-configure the UEs with
the required provisioning parameters for V2X Communication, without the need
for the UEs to connect to the V2X Control Function to get this initial
configuration. The following apply:
\- The provisioning parameters for V2X communications over PC5 may be
configured in the UICC, in the ME, or in both the UICC and the ME.
\- The ME provisioning parameters shall not be erased when a USIM is
deselected or replaced.
\- If both the UICC and the ME contain the same set of provisioning
parameters, the set of parameters from the UICC shall take precedence.
\- The UE shall use radio resources for V2X communications over PC5 reference
point as follows:
\- While a UE has a serving cell and is camped on a cell and the UE intends to
use for V2X service the radio resources (i.e. carrier frequency) operated by
this cell, then the UE shall use the radio resource description indicated by
this cell the UE is camped on and ignore any radio resource description of the
same radio resource provisioned in the ME or the UICC. If the cell does not
provide radio resources for V2X service, the UE shall not perform V2X message
transmission and reception on radio resources operated by this cell.
\- If the UE intends to use \"operator-managed\" radio resources (i.e. carrier
frequency) for V2X service that are not operated by the UE\'s serving cell, as
specified in clause 4.4.1.1.2, or if the UE is out of coverage, the UE shall
search for a cell in any PLMN that is operating the provisioned radio
resources (i.e. carrier frequency) as defined in TS 36.300 [10] and TS 36.304
[22], and:
\- If the UE finds such cell in the registered PLMN or a PLMN equivalent to
the registered PLMN, and authorization for V2X communications over PC5
reference point to this PLMN is confirmed, the UE shall use the radio resource
description indicated by that cell. If that cell does not provide radio
resources for V2X service, the UE shall not perform V2X message transmission
and reception on those radio resources.
\- If the UE finds such cell but not in the registered PLMN or a PLMN
equivalent to the registered PLMN, and that cell belongs to a PLMN authorized
for V2X communications over PC5 reference point and provides radio resources
for V2X service then the UE shall perform PLMN selection triggered by V2X
communications over PC5 reference point as defined in TS 23.122 [23]. If the
UE has an ongoing emergency session, it shall not trigger any PLMN selection
due to V2X communication over PC5 reference point.
NOTE 1: An ongoing emergency session could be either using IMS or CS as
described in TS 23.167 [31].
\- If the UE finds such cell but not in a PLMN authorized for V2X
communications over PC5 reference point the UE shall not use V2X
communications over PC5 reference point.
\- If the UE does not find any such cell in any PLMN, then the UE shall
consider itself \"not served by E-UTRAN\" and use radio resources provisioned
in the ME or the UICC. If no such provision exists in the ME or the UICC or
the provision does not authorize V2X communications over PC5 reference point
then the UE is not authorized to transmit.
\- If the UE intends to use \"non-operator-managed\" radio resources (i.e.
carrier frequency) for V2X service, according to TS 36.331 [9] and as
specified in clause 4.4.1.1.2, then the UE shall perform V2X communication
over PC5 using resource provisioned in the ME or the UICC. If no such
provision exists in the ME or the UICC or the provision does not authorize V2X
communications over PC5 reference point then the UE is not authorized to
transmit.
\- The UE provisioning shall support setting Geographical Areas.
NOTE 2: It is possible for a UE to use other radio resources for V2X service
based on the Geographical Area instead of those operated by the serving
E‑UTRAN cell, when provisioned in the UE, even if the UE\'s serving cell
offers normal service and the SIB21 indicates that the service (V2X
communication) is available. This is to cover the scenario when e.g. the radio
resources used for V2X communications over PC5 reference point are not owned
by the serving network of the UE.
NOTE 3: When cross-carrier operation is supported, according to TS 36.331 [9],
a UE can be instructed by its serving cell to perform V2X communication over a
different carrier frequency. The UE is still considered as \"served by
E-UTRAN\" in this case.
NOTE 4: The scenario that a cell is detected and the cell does not provide
support for V2X communications over PC5 reference point when the UE attempts
to use a carrier frequency configured for V2X communications over PC5
reference point, is considered a configuration error. Therefore the UE does
not transmit on that frequency to avoid interference to the network.
\- The V2X communications over PC5 reference point is only specified for
E-UTRA.
NOTE 5: It is out of scope of the present specification to define how the UE
can locate itself in a specific Geographical Area. When the UE is in coverage
of a 3GPP RAT, it can for example, use information derived from the serving
PLMN. When the UE is not in coverage of a 3GPP RAT, it can use other
techniques, e.g. Global Navigation Satellite System (GNSS). User provided
location is not a valid input.
#### 4.4.1.2 Authorization and provisioning for V2X communications over LTE-Uu
reference point
##### 4.4.1.2.1 General
Additional information may be provisioned to the UE for the use of V2X
communications over LTE-Uu reference point, e.g. for unicast or MBMS.
NOTE: A single V2X Application Server can support multiple V2X applications.
##### 4.4.1.2.2 Policy/Parameter provisioning
The following information may be configured in V2X Control Function and
optionally provisioned to the UE for V2X communications over LTE-Uu reference
point:
1) PLMNs in which the UE is authorized to use MBMS based V2X communication.
\- Corresponding V2X USD(s) for receiving MBMS based V2X traffic in the PLMN.
The V2X USD(s) may be obtained through the V2 reference point from the V2X
Application Server.
NOTE: The V2 reference point procedure is not specified in this Release.
2) V2X Application Server address information.
\- List of FQDNs or IP addresses of the V2X Application Servers, associated
with served geographical area information and list of PLMNs that the
configuration applies to.
3) V2X Application Sever discovery using MBMS.
\- List of PLMNs and corresponding V2X Server USDs for receiving V2X
Application Server information via MBMS.
4) Mapping of the V2X services, e.g. PSIDs, ITS-AIDs or AIDs of the V2X
application to:
\- V2X Application Server address (consisting of IP address/FQDN and TCP or
UDP port) for unicast;
\- V2X USD for MBMS.
Information of the V2X USD is described in clause 4.4.7.2 and information of
the V2X Server USD is described in clause 4.4.7.3.
### 4.4.2 V2X message transmission/reception over PC5 reference point
PC5 reference point as defined in TS 23.303 [5] is used for the transmission
and reception of V2X messages. The V2X communication over PC5 reference point
supports roaming and inter-PLMN operations. V2X communication over PC5
reference point is supported when the UE is \"served by E-UTRAN\" and when the
UE is \"not served by E‑UTRAN\".
A UE is authorized to transmit and receive V2X messages by the V2X Control
Function in its home PLMN as described in clause 5.2.
The V2X communication over PC5 reference point is a type of ProSe Direct
Communication with the following characteristics:
\- The V2X communication over PC5 reference point is connectionless, and there
is no signalling over PC5 control plane for connection establishment.
\- V2X messages are exchanged between UEs over PC5 user plane.
\- Both IP based and non-IP based V2X messages are supported.
\- For IP based V2X messages, only IPv6 is used. IPv4 is not supported in this
release.
The identifiers used in the V2X communication over PC5 reference point are
described in clause 4.5.1. UE decides on the Tx Profile to use for the
transmission of a particular packets based on the configuration described in
clause 4.4.1.1.2.
When the network scheduled operation mode is used, following additional
principle applies:
\- When the eNB receives a request for PC5 resource from a UE, the eNB may
deduce the Tx Profile from the Destination L2 ID.
NOTE 1: The mapping from Destination L2 ID to Tx Profile is configured in the
eNB. The eNB can determine the Tx Profiles that the UE needs to use for
transmitting the packets thus utilising the resources available appropriately
-i.e. handling of sidelink grant), see TS 36.321 [26] for details.
If the UE has an ongoing emergency session, the communication over the
emergency session shall be prioritized over V2X communication over PC5
reference point.
NOTE 2: An ongoing emergency session could be either using IMS or CS as
described in TS 23.167 [31].
NOTE 3: The emergency session setup is based on appropriate regional/national
regulatory requirements and operator policies as defined in TS 23.401 [6].
### 4.4.3 V2X message transmission/reception over LTE-Uu reference point
#### 4.4.3.1 General
The LTE-Uu reference point is used for the transmission and reception of V2X
messages. The V2X message transmission and reception via unicast is described
in clause 4.4.3.2, while the V2X message reception via MBMS is described in
clause 4.4.3.3.
#### 4.4.3.2 V2X message transmission/reception via unicast
The V2X communication via unicast over the LTE-Uu reference point supports
roaming operations. Latency reduction for V2X message transfer via unicast may
be achieved by using SIPTO\@LN or SIPTO above RAN as defined in TS 23.401 [6].
NOTE 1: In case of SIPTO\@LN with L-GW function collocated with an eNB,
mobility is not supported.
For transport of IP based or non-IP based V2X messages using uplink unicast
V2X communication in case of applications identified by e.g. PSID, ITS-AID, or
AID for the same applications as over PC5 reference point:
\- V2X messages are transported over TCP/IP or UDP/IP packets. The UE may
learn from V2X Application Server or UE may be configured explicitly about a
transport layer protocol to be used, or no restriction is imposed by
configuration;
NOTE 2: When IP multicast is used, only UDP/IP is supported.
\- the UE sends a V2X message over TCP/IP or UDP/IP to a V2X Application
Server address. The destined V2X Application Server address is derived from
e.g. the PSID (or the ITS-AID, or the AID) and the UE configuration as
described in clause 4.4.1.2.2; and
\- the V2X Application Server receives the V2X message in a TCP/IP or UDP/IP
packet on a V2X Application Server address.
For transport of V2X messages:
\- for applications different from the applications with e.g. PSID, ITS-AID or
AID for PC5 reference point, or
\- for configured applications with e.g. PSID, ITS-AID or AID sending IP based
V2X messages,
existing unicast routing towards application server applies.
NOTE 3: In case V2X application uses TCP/IP or UDP/IP transport then existing
unicast routing towards application server applies, i.e. no further
encapsulation is performed.
#### 4.4.3.3 V2X message reception via MBMS
V2X messages can be broadcasted via MBMS in which the V2X Application Server
transfers V2X messages via MBMS bearer service(s) as shown in Figure 4.2.2-1a.
For MBMS reception of V2X messages, V2X USD per PLMN for V2X services is
required for the UE. The UE is provisioned with mapping of e.g. PSID (or ITS-
AID, or AID) and V2X USD as described in clause 4.4.1.2.2.
To provide the UE with the V2X USD(s), the following ways may be used:
\- Existing MBMS service announcement mechanisms specified in TS 23.246 [8]
and TS 26.346 [11].
\- Provisioning as described in clause 4.4.1.2.2, i.e. pre-configuration in
the UE and/or configuration from V2X Control Function.
\- Provisioning from the V2X Application Server via V1 reference point.
NOTE 1: The UE can receive the downlink broadcast from the PLMN other than
Serving PLMN based on the V2X USD(s) obtained as described in this clause.
NOTE 2: The operator can configure multiple MBMS Service Areas for a specific
V2X service. If any of these MBMS Service Areas overlap, the UE needs to be
configured with different TMGIs for these overlapping MBMS Service Areas for
this V2X service.
The V2X Application Server providing the V2X service identified by e.g. the
PSID (or the ITS-AID, or the AID) sends the V2X message via UDP/IP transport
using information provided in the V2X USD.
For latency improvements for MBMS, localized MBMS can be considered for
localized routing of V2X messages destined to UEs. Some localized MBMS
deployment options are described in Annex B.
### 4.4.4 V2X Application Server discovery
#### 4.4.4.1 General
A UE needs to discover the V2X Application Server(s), when V2X communication
over LTE-Uu operation mode is used. The V2X Application Server address
information may be configured on the UE or provisioned via V3 interface, as
specified in clause 4.4.1.2.2.
When the configuration contains the FQDN(s), the UE shall perform DNS to
resolve the address(es) of the V2X Application Server. The UE may use the
configured V2X Application Server information only in the designated
geographical area. When the UE changes serving PLMN or crosses configured
geographic areas, it should perform address resolution again.
For a network that has deployed broadcast mechanisms, e.g. MBMS, additional
information to assist V2X Application Server discovery can be provided via the
MBMS broadcast channel. When a UE has the configuration for receiving V2X
Application Server information via MBMS, as specified in clause 4.4.1.2.2, it
can perform the procedures specified in clause 5.4.1 to obtain additional
local V2X Application Server information. The local V2X Application Server
information obtained by MBMS as described in clause 5.4.1 takes precedence
over the V2X Application Server information in the UE.
#### 4.4.4.2 Multiple V2X Application Server and Localized V2X Application
Server discovery and routing
Multiple V2X Application Servers may be involved in the V2X communication,
each providing particular V2X services and/or serving a particular
geographical region. Therefore, the V2X Application Server address information
as specified in clause 4.4.1.2.2 can contain multiple servers\' information.
When multiple V2X Application Servers are configured, the application layer
will choose the proper V2X Application Server to use.
When localized V2X Application Servers are deployed, Anycast may be used to
conceal the server change from the UE. In this case, a FQDN is configured for
a large region, e.g. the entire PLMN, and the UE only needs to resolve it once
to an Anycast address. The PDN GW or LGW is responsible for routing the
traffic to the appropriate local V2X Application Servers based on Anycast
address.
### 4.4.5 QoS handling for V2X communication
#### 4.4.5.1 QoS handling for V2X communication over PC5 reference point
Core Network, i.e. MME, provides the UE-PC5-AMBR based on subscription
information to the eNB as part of the UE context information.
When PC5 is used for the transmission of V2X messages, the following
principles are followed for both network scheduled operation mode and UE
autonomous resources selection mode:
> \- ProSe Per-Packet Priority (PPPP) defined in clause 5.4.6.1 of TS 23.303
> [5] applies to the V2X communication over PC5.
>
> \- ProSe Per-Packet Reliability (PPPR) applies to the V2X communication over
> PC5 as defined in TS 23.303 [5]. PPPR has a value range of 1 to 8, where the
> higher value represents the lower reliability requirement for that message.
> The UE may be configured with a list of V2X services, e.g. PSIDs, ITS-AIDs
> or AIDs allowed to use the specific PPPR value.
>
> \- The application layer sets the PPPP for each V2X message when passing it
> to lower layer for transmission.
>
> \- The application layer may set the PPPR for each V2X message when passing
> it to lower layer for transmission.
\- The mapping of application layer V2X message priority to PPPP is
configuration on the UE.
> \- The mapping of application layer V2X message reliability to PPPR is
> configuration on the UE.
\- The setting of the PPPP value should reflect the latency required in both
UE and eNB, i.e. the low PDB is mapped to the high priority PPPP value.
\- The mapping between V2X service types and V2X frequencies is as defined in
clause 4.3.2 and clause 4.4.1.1.2.
\- The mapping of Destination Layer-2 ID(s) and the V2X services, e.g. PSIDs,
ITS-AIDs or AIDs of the V2X application is as described in clause 4.4.1.1.2.
NOTE: The mapping of PPPP to packet delay budget is not specified in this
specification.
When the network scheduled operation mode is used, following additional
principles apply:
\- UE provides priority information reflecting PPPP to the eNB for resources
request.
\- When the eNB receives a request for PC5 resource from a UE, the eNB can
deduce the packet delay budget from the priority information reflecting PPPP
from the UE.
\- eNB can use the priority information reflecting PPPP for priority handling
and UE-PC5-AMBR for capping the UE PC5 transmission in the resources
management.
\- UE may provide PPPR information reflecting reliability requirement
described in TS 22.186 [28] to the eNB for resources request.
\- UE provides Destination Layer-2 ID(s) of the V2X services to the eNB for
resources requested as defined in TS 36.321 [26].
\- When the eNB receives a request for PC5 resource from a UE, the eNB
determines the V2X frequency(ies) in which the V2X service is to be scheduled
as defined in TS 36.300 [10].
When the autonomous resources selection mode is used, following additional
principle applies:
\- The UE derives the packet delay budget of the V2X message from PPPP based
on the provisioned mapping information described in clause 4.4.1.1.2.
\- The UE derives the frequency in which a V2X service is to be transmitted,
from the mapping between V2X service types and V2X frequencies as described in
clause 4.4.1.1.2.
#### 4.4.5.1a QoS handling for V2X communication over NR PC5 reference point
The QoS handling for V2X communication over NR PC5 reference point as defined
in TS 23.287 [30] clause 5.4 is applied.
#### 4.4.5.2 QoS handling for V2X communication over LTE-Uu reference point
The V2X messages can be delivered via Non-GBR bearer as well as GBR bearer.
The following standardized QCI values defined in TS 23.203 [12] can be used:
\- QCI 3 and QCI 79 can be used for the unicast delivery of V2X messages;
\- QCI 75 is only used for the delivery of V2X messages over MBMS bearers.
### 4.4.6 Subscription to V2X services
The user\'s profile in the HSS contains the subscription information to give
the user permission to use V2X services.
At any time, the operator can remove the UE subscription rights for V2X
services from user\'s profile in the HSS, and revoke the user\'s permission to
use V2X services.
The following subscription information is defined for V2X services:
a) whether the UE is authorized to perform V2X communication over PC5
reference point as Vehicle UE, Pedestrian UE, or both, including for LTE PC5
and for NR PC5.
b) UE-PC5-AMBR for V2X communication over PC5 reference point, including UE-
PC5-AMBR for LTE PC5 and for NR PC5.
c) the list of the PLMNs where the UE is authorized to perform V2X
communication over PC5 reference point. For each PLMN in the list, the RAT(s)
over which the UE is authorized to perform V2X communication over PC5
reference point.
d) PC5 QoS parameters for V2X communication over NR PC5 reference point as
defined in TS 23.287 [30] clause 5.4.2.
The HSS provides a), b) and d) to MME as subscription information and the MME
provides a), b) and d) to eNB as part of the UE context information.
The HSS provides c) to V2X Control Function.
### 4.4.7 MBMS bearer announcement for V2X use
#### 4.4.7.1 General
MBMS bearer announcements are needed for V2X message reception via MBMS as
defined in clause 4.4.3.3, or V2X Application Server discovery via MBMS as
defined in clauses 4.4.4.1 and 5.4.1.
The method for delivering the per PLMN configuration to the UE is specified in
clause 4.4.3.3. The announced service information for V2X use should follow
the guidance in clauses 4.4.7.2 and 4.4.7.3.
#### 4.4.7.2 User Service Description for V2X Communication (V2X USD)
As the V2X Application Server is out of scope of 3GPP, the exact information
to be included in the V2X USD cannot be controlled. However, the V2X
Application Server should make sure that the information listed in table
4.4.7.2-1 is included in the V2X USD it provides.
The V2X message formats are handled by upper layer via Session Description
Protocol (SDP).
Table 4.4.7.2-1: Information for V2X USD
+----------------------------------+----------------------------------+ | Information element | Description | +==================================+==================================+ | TMGI | TMGI information | +----------------------------------+----------------------------------+ | List of service area identifier | A list of service area | | | identifier for the applicable | | | MBMS broadcast area. | +----------------------------------+----------------------------------+ | Frequency | Identification of frequency if | | | multi carrier support is | | | provided | +----------------------------------+----------------------------------+ | SDP information (NOTE 1) | SDP with IP multicast address | | | and port number used for V2X | | | communication via MBMS. | | | | | | Depending on the V2X | | | application, the V2X message can | | | be carried directly on top of | | | UDP, without any streaming | | | protocols. | +----------------------------------+----------------------------------+ | NOTE 1: Typical V2X application | | | does not require Codec | | | information in the SDP | | | information. | | +----------------------------------+----------------------------------+
#### 4.4.7.3 User Service Description for V2X Application Server Discovery
(V2X Server USD)
The V2X Server USD is used to configure the UE for receiving local V2X
Application Server information when it is provided over MBMS, as specified in
clause 5.4.1.
The local Service Information contained in the broadcast is as described in
clause 5.4.1.2, and should include similar information defined in clause
4.4.1.2.2.
NOTE: Stage 3 defines the format of the local Service information.
Table 4.4.7.3-1: Information for V2X Server USD
+---------------------------------+-----------------------------------+ | Information element | Description | +=================================+===================================+ | TMGI | TMGI information | +---------------------------------+-----------------------------------+ | List of service area identifier | A list of service area identifier | | | for the applicable MBMS broadcast | | | area. | +---------------------------------+-----------------------------------+ | Frequency | Identification of frequency if | | | multi carrier support is provided | +---------------------------------+-----------------------------------+ | SDP information | SDP with IP multicast address and | | | port number used for V2X | | | Application Server discovery via | | | MBMS. | | | | | | The content of the message | | | carries the local Service | | | Information and should include | | | following information: | | | | | | - Mapping of the V2X services, | | | e.g. PSIDs, ITS-AIDs or AIDs of | | | the V2X application of a PSID, | | | ITS-AID and AID to V2X | | | Application Server address | | | (consisting of IP address/FQDN | | | and TCP or UDP port) for unicast, | | | and V2X USD for V2X communication | | | via MBMS. | +---------------------------------+-----------------------------------+
### 4.4.8 Support for V2X communication for UEs in limited service state
For UE in limited service state, only V2X communication over PC5 is allowed.
UEs that are authorized to use V2X communication over PC5 reference point
shall be able to use V2X communication over PC5 reference point when in
limited service state following the principles defined in clause 4.4.1.1.3 for
V2X communication over PC5 reference point when the UE enters in limited
service state:
\- because it cannot find a suitable cell of the selected PLMN as described in
TS 23.122 [23] or
\- as the result of receiving one of the following reject reasons defined in
TS 23.122 [23]:
\- a \"PLMN not allowed\" response to a registration request or;
\- a \"GPRS not allowed\" response to a registration request
A UE in limited service state shall only use the radio resources and procedure
available in ECM-IDLE mode for V2X communication over PC5 reference point, for
details see TS 36.300 [10].
UEs shall not use V2X communication over PC5 reference point using the
\"operator-managed\" radio resources, as specified in clause 4.4.1.1.2, if the
UE has entered in limited service state due to all other situations (e.g. no
SIM in the MS, an \"illegal MS\" or \"illegal ME\" response to a registration
request, or an \"IMSI unknown in HLR\" response to a registration request)
defined in TS 23.122 [23], where the UE is unable to obtain normal service
from a PLMN. The UEs may use V2X communication over PC5 reference point using
the \"non-operator-managed\" radio resources, as specified in clause
4.4.1.1.2, according to the principles defined in clause 4.4.1.1.3.
### 4.4.9 Charging support for V2X communication
#### 4.4.9.1 Charging support for V2X communication over PC5 reference point
For V2X communication over PC5, the mechanism defined in TS 32.277 [18] for
ProSe Direct Communication can be reused for charging support. No enhancement
to charging support for V2X communication over PC5 is specified in this
Release.
#### 4.4.9.2 Charging support for V2X communication over LTE-Uu reference
point
For V2X communication over LTE-Uu, there are unicast traffic and/or MBMS based
broadcast traffic.
For unicast V2X communication, charging is provided with the existing unicast
communication mechanism as specified in TS 32.251 [20] where applicable.
For MBMS based broadcast traffic, charging is provided with the existing
mechanism as specified in TS 32.273 [21] where applicable.
No enhancement to charging support for V2X communication over LTE-Uu is
specified in this Release.
### 4.4.10 Security and privacy protection support for V2X communication
The security for the V3 and PC5 reference points is provided with mechanisms
defined in TS 33.185 [25].
The security and privacy protection for the PC5 based V2X communication is
provided by application layer schemes developed in other SDOs. In addition,
the V2X layer also provides an additional mechanism to change Layer-2 ID and
source IP address to protect privacy, as described in clause 4.5.1.
The security of LTE-Uu based V2X communication reuses existing EPS security.
No privacy enhancement for V2X communication over LTE-Uu is specified for this
release.
Details of security and privacy protection mechanisms for V2X communication
over PC5 or LTE-Uu reference points are defined in TS 33.185 [25].
## 4.5 Identifiers
### 4.5.1 Identifiers for V2X communication over PC5 reference point
Each UE has a Layer-2 ID for the V2X communication over PC5 reference point,
which is included in the source Layer-2 ID field of every frame that it sends
on the layer-2 link. The UE self-assigns the Layer-2 ID for the V2X
communication over PC5 reference point.
When IP based V2X messages are supported, the UE auto-configures a link local
IPv6 address to be used as the source IP address, as defined in clause 4.5.3
of TS 23.303 [5]. The UE may use the auto-configured link local IP address for
V2X communication over PC5 reference point without sending Neighbor
Solicitation and Neighbor Advertisement message for Duplicate Address
Detection.
If the UE has an active V2X application that requires privacy support in the
current Geographical Area, as identified by configuration described in clause
4.4.1.1.2, in order to ensure that a source UE (e.g. vehicle) cannot be
tracked or identified by any other UEs (e.g. vehicles) beyond a certain short
time-period required by the application, the source Layer-2 ID must be changed
over time and randomized. For IP based V2X communication over PC5 reference
point, the source IP address must be also changed over time and randomized.
The change of the identifiers of a source UE must be synchronized across
layers used for PC5, e.g. when application layer identifier changes, the
source Layer-2 ID and the source IP address need to be changed.
The UE is configured with the destination Layer-2 ID(s) to be used for V2X
services. The Layer-2 ID for a V2X message is selected based on the
configuration as described in clause 4.4.1.1.
# 5 Functional description and information flows
## 5.1 Control and user plane stacks
### 5.1.1 User plane for PC5 reference point supporting V2X services
The PC5-U stack as defined in clause 5.1.2.1 of TS 23.303 [5] is used for the
V2X communication over PC5 reference point. IP and Non-IP PDCP SDU types are
supported for the V2X communication over PC5.
For IP PDCP SDU type, only IPv6 is supported. The IP address allocation and
configuration are as defined in clause 4.5.1.
The Non-IP PDCP SDU contains a Non-IP Type header, which indicates the V2X
message family used by the application layer, e.g. IEEE 1609 family\'s WSMP
[13], ISO defined FNTP [14], CCSA defined DSMP [32], etc.
NOTE: The Non-IP Type header and allowed values are defined in TS 24.386 [27].
## 5.2 Service authorization and update for V2X communications
### 5.2.1 Service authorization procedures
The service authorization procedures as specified in clause 5.2.1 of TS 23.303
[5] are reused for the authorization of a UE for V2X communications, with the
V2X Control Functions in the corresponding PLMNs acting as the ProSe
Functions.
### 5.2.2 Service authorization update procedures
The service authorization update procedures as specified in clause 5.2.2 of TS
23.303 [5] are reused for the updating of service authorization information in
the UE.
## 5.3 Procedure for V2X communication over PC5 reference point
To perform V2X communication over PC5 reference point, the UE is configured
with the related information as described in clause 4.4.1.1.
The procedure for one-to-many ProSe Direct Communication transmission
described in clause 5.4.2 of TS 23.303 [5] is applied to V2X communication
over PC5 reference point with following differences:
\- The source Layer-2 ID is set to the Layer-2 ID described in clause 4.5.1.
\- A UE shall be configured with a set of Layer-2 ID corresponding to
different type of services.
\- A UE shall be configured with the mapping of services types to Tx Profiles
as described in clause 4.4.1.1.2, and selects a Tx Profile to use based on the
upper layer provided service type (e.g. PSID/ITS-AID/AID).
The procedure for one-to-many ProSe Direct Communication reception described
in clause 5.4.3 of TS 23.303 [5] is applied to V2X communication over PC5
reference point.
## 5.4 Procedure for V2X communication over LTE-Uu reference point
### 5.4.1 V2X Application Server discovery using MBMS
#### 5.4.1.1 General
This procedure is applicable for local V2X Application Server discovery if
supported by the network. It may be used by the UE only when it is configured
with the information to receive V2X Application Server information via MBMS,
as specified in clause 4.4.1.2.2.
#### 5.4.1.2 Procedures for receiving V2X Application Server information via
MBMS
Figure 5.4.1.2-1: V2X Application Server discovery using broadcast
1\. When a UE desires V2X communications via LTE-Uu, it attaches to the
serving PLMN if it has not done so.
2\. If the UE has configuration for receiving V2X Application Server
information via MBMS, as specified in clause 4.4.1.2.2, it receives the local
Service Information from the corresponding broadcast traffic channel. The
local Service Information includes the address information of the local V2X
Application Servers, e.g. the FQDNs of the servers. In addition, the local
Service Information may include the V2X USD for the corresponding V2X
Application Servers, if MBMS downlink is to be used.
NOTE: The UE can be in MBMS receive only mode for obtaining the local Service
Information.
3\. Based on the information received from step 2, the UE obtains the local
V2X Application Server address, e.g. via a query of the DNS with the received
FQDN.
4\. The UE may establish connection with the V2X Application Server for the
service, e.g. obtaining the V2X USD if it is not provided in step 2 to allow
the UE to receive V2X messages over MBMS.
### 5.4.2 Procedure for V2X communication with MBMS
#### 5.4.2.1 MBMS service area mapping
##### 5.4.2.1.1 General
MBMS service areas for V2X services may be configured at the V2X Application
Server. Such service areas are not expected to change frequently. V2X
Application Server performs the following procedures for managing the MBMS
sessions:
• MBMS bearer activation/deactivation procedures specified in TS 23.468 [7]
and clause 5.4.2.2 are used for managing MBMS sessions. V2X Application Server
acting as the GCS AS uses the configured MBMS Service Area Identities (SAIs)
and/or list of Cell IDs (ECGIs) of the target broadcast area for such
procedures.
• If the UE provides its geographic location or Cell ID information over V1
reference point, the V2X Application Server may use such information for the
determination of the target broadcast area (e.g. MBMS SAI(s) and/or ECGI(s))
for the downlink broadcast of V2X messages.
• From such procedures, the V2X Application Server knows which TMGI/Flow-ID
(i.e. MBMS session) is serving a geographical area. Hence, V2X Application
Server forwards a V2X message to the appropriate MBMS session.
NOTE: V2X messages may be broadcasted to an area larger than needed. The V2X
application in the UE discards the messages that are not relevant to the UE
based on procedures internal to the UE.
##### 5.4.2.1.2 Functional Description
V2X Application Server shall map UE provided location information to a form
that is understood by the 3GPP MBMS system, e.g. MBMS SAI(s) and/or ECGI(s).
A UE may include its geographic location information in the V2X message, e.g.
as defined ETSI ITS (ETSI TS 102 637‑2 [16], ETSI TS 102 637‑3 [17]) or other
ITS specifications. The V2X Application Server shall provide the MBMS
broadcast area parameters to BM-SC and BM-SC process the MBMS broadcast area
parameters as defined in TS 23.468 [7].
Additionally, a UE may provide its geographic location information in the V2X
message and Cell ID (i.e. ECGI) information in the signalling to the V2X
Application Sever. The V2X Application Server may use such information for
determining the target MBMS broadcast area as defined in TS 23.468 [7].
The BM-SC derives the MBMS Service Area and the SAI list for the availability
information from Geographical Area as provided by the V2X Application Server
as defined in TS 26.348 [29] when using xMB interface.
NOTE: As specified in TS 23.246 [8], the BM-SC provides both the MBMS SAI(s)
and Cell ID(s) towards the downlink signalling path towards the RAN nodes.
#### 5.4.2.2 Local MBMS based MBMS data delivery
For MBMS latency improvements, the V2X Application Server may provide the BM-
SC with L.MBMS (Local MBMS) information, i.e., M1 interface information
including transport network IP Multicast Address, IP address of multicast
source and C-TEID, as well as MB2-U interface information including IP address
and UDP port number for the user plane. This L.MBMS information is
preconfigured in the V2X Application Server.
Figure 5.4.2.2-1 shows the procedure that the L.MBMS information (both M1
interface information and MB2-U interface information) is provided from the
V2X Application Server to the BM-SC, and in turn M1 interface information is
provided from BM-SC to MBMS-GW when activating MBMS bearer and V2X message is
delivered per the provided L.MBMS information.
Figure 5.4.2.2-1: L.MBMS based MBMS data delivery
0\. The L.MBMS information is preconfigured in the V2X Application Server.
1\. The V2X Application Server performs the TMGI Allocation procedure as
specified in TS 23.468 [7].
2-3. Steps 2 and 3 are similar to in clause 5.1.2.3.2 of TS 23.468 [7], with
the following differences:
\- In step 2, the V2X Application Server includes L.MBMS information in an
Activate MBMS Bearer Request message. The L.MBMS information is preconfigured
in the V2X Application Server.
\- In step 3, if the BM-SC uses the L.MBMS information from the V2X
Application Server then it copies the MB2-U interface information received
from step 2 as MB2-U address (i.e., \"BM-SC IP address and port number for the
user-plane\" information element) in the Activate MBMS Bearer Response message
to the V2X Application Server.
4-5. Steps 4 and 5 are similar to in clause 8.3.2 of TS 23.246 [8], with the
following differences:
\- In step 4, the BM-SC includes the M1 interface information of the L.MBMS
information received from the V2X Application Server in the Session Start
Request message if the BM-SC decided to use the L.MBMS information.
\- In steps 4 and 5, if the MBMS-GW uses the M1 interface information received
from the BM-SC then it skips the allocation procedure for IP multicast
distribution, e.g. allocate an IP multicast address.
6-10. Same to steps 3 to 6 and step 8 in clause 8.3.2 of TS 23.246 [8].
11\. The V2X Application Server sends V2X message to the L.MBMS\'s IP address
via MB2-U.
If BM-SC does not use L.MBMS information received from V2X Application Server,
then BM-SC allocates the addresses related to MB2-U interface as currently
specified in TS 23.468 [7]. V2X Application Server is aware that the BM-SC is
not using L.MBMS information when the MB2-U address received from step 3 is
different than the one in the L.MBMS information provided in step 2. In this
case, V2X Application Server shall continue with procedure as defined in TS
23.468 [7].
The L.MBMS support using xMB interface requires same information to be
provided via xMB-C using Service Management Procedures as defined in TS 26.348
[29]. For MBMS latency improvements, the V2X Application Server may provide
the BM-SC with L.MBMS (Local MBMS) information, i.e., M1 interface information
including transport network IP Multicast Address, IP address of multicast
source and C-TEID, as well as xMB-U interface information including IP address
and UDP port number for the user plane. This L.MBMS information is
preconfigured in the V2X Application Server.
## 5.5 V2X impacts to EPC procedures
### 5.5.1 E-UTRAN attach procedure for UE
The E-UTRAN attach procedure for UE is performed as defined in TS 23.401 [6]
with the following additions:
\- The UE includes the V2X capability indication as part of the \"UE Network
Capability\" in the Attach Request message. The MME stores this information
for V2X operation. The V2X capability can indicate whether the UE is capable
of supporting V2X communication over PC5 reference point.
\- If the UE indicated V2X capability, and the UE is authorized to use V2X
communication over PC5 reference point based on the subscription data, then
the MME shall include a \"V2X services authorized\" indication in the S1-AP
Initial Context Setup Request, indicating the UE is authorized to use V2X
communication over PC5 reference point as Vehicle UE, Pedestrian UE or both.
\- The MME obtains the UE-PC5-AMBR from the HSS as part of the subscription
data and includes it in the S1-AP Initial Context Setup Request to the eNodeB,
which use it in resource management of UE\'s PC5 transmission for V2X services
in network scheduled mode.
### 5.5.2 Service Request procedures for UE
The Service Request procedures for UE are performed as defined in TS 23.401
[6] with the following additions:
\- If the UE is V2X capable, and the UE is authorized to use V2X communication
over PC5 reference point based on the subscription data, then the MME shall
include a \"V2X services authorized\" indication in the S1-AP Initial Context
Setup Request, indicating the UE is authorized to use V2X communication over
PC5 reference point as Vehicle UE, Pedestrian UE or both.
\- The MME includes the UE-PC5-AMBR in the S1-AP Initial Context Setup Request
to the eNodeB which stores it as part of the UE context and may use it in
resource management of UE\'s PC5 transmission for V2X services in network
scheduled mode.
### 5.5.3 S1 Handover procedures for UE
The Intra-E-UTRAN S1-based handover or the Inter-RAT to E-UTRAN handover
procedures for UE are performed as defined in TS 23.401 [6] with the following
additions:
\- If the UE is V2X capable, and the UE is authorized to use V2X communication
over PC5 reference point based on the subscription data, then the target MME
shall send the \"V2X services authorized\" indication and UE-PC5-AMBR to the
target eNodeB as follows:
\- For the intra MME handover, the \"V2X services authorized\" indication and
UE-PC5-AMBR are included in the S1-AP Handover Request message. If after the
handover procedure, the \"V2X services authorized\" indication or the UE-
PC5-AMBR or both are changed, the updated \"V2X services authorized\"
indication or the updated UE-PC5-AMBR or both are included in the S1-AP UE
Context Modification Request message sent to the target eNodeB.
\- For the inter MME handover or Inter-RAT handover to E-UTRAN, the \"V2X
services authorized\" indication and UE-PC5-AMBR are included in the S1-AP UE
Context Modification Request message sent to the target eNodeB after the
handover procedure.
The \"V2X services authorized\" indication sent to target eNodeB denotes the
UE is authorized to use V2X communication over PC5 reference point as Vehicle
UE, Pedestrian UE or both.
### 5.5.4 X2 Handover procedures for UE
For the X2-based handover, the \"V2X services authorized\" indication and the
UE-PC5-AMBR are sent to target eNodeB as follows:
\- If the source eNodeB is V2X-enabled and the \"V2X services authorized\"
indication is included in the UE context, then the source eNodeB shall include
a \"V2X services authorized\" indication and UE-PC5-AMBR in the X2-AP Handover
Request message to the target eNodeB.
\- If the UE is V2X capable, and the UE is authorized to use V2X communication
over PC5 reference point based on the subscription data, then the MME shall
send the \"V2X services authorized\" indication and the UE-PC5-AMBR to the
target eNodeB in the Path Switch Request Acknowledge message. If, after the
handover procedure, the \"V2X services authorized\" indication or the UE-
PC5-AMBR or both are changed, the updated \"V2X services authorized\"
indication or the updated UE-PC5-AMBR or both are included in the S1-AP UE
Context Modification Request message sent to the target eNodeB.
The \"V2X services authorized\" indication sent to target eNodeB denotes the
UE is authorized to use V2X communication over PC5 reference point as Vehicle
UE, Pedestrian UE or both.
The UE-PC5-AMBR is sent to target eNodeB for the resources management of UE\'s
PC5 transmission in V2X communication.
### 5.5.5 Tracking Area Update procedure for UE
The Tracking Area Update procedures for UE are performed as defined in TS
23.401 [6] with the following additions:
\- The UE includes the V2X capability indication as part of the \"UE Network
Capability\" in the Tracking Area Update Request message. The MME stores this
information for the V2X operation.
\- If the MME determines to re-establish the radio and S1 bearers for all
active EPS bearer contexts due to the \"active\" flag included in the Tracking
Area Update Request message or the pending downlink data or signalling, the UE
is V2X capable, and the UE is authorized to use V2X communication over PC5
reference point based on the subscription data, then the MME shall include a
\"V2X services authorized\" indication and UE-PC5-AMBR in the S1-AP Initial
Context Setup Request. The \"V2X services authorized\" indication sent to
eNodeB denotes the UE is authorized to use V2X communication over PC5
reference point as Vehicle UE, Pedestrian UE or both.
### 5.5.6 Insert Subscriber Data procedure for UE
The Insert Subscriber Data procedures for UE are performed as defined in TS
23.401 [6] with the following additions:
\- If the \"V2X services authorized\" indication or the UE-PC5-AMBR or both
need to be changed due to the changed subscription data and the S1 bearer is
established, then the MME shall notify the eNodeB the updated \"V2X services
authorized\" indication or the UE-PC5-AMBR or both via the S1-AP UE Context
Modification Request message.
### 5.5.7 Delete Subscriber Data procedure for UE
Delete Subscriber Data procedure for UE is performed as defined in TS 29.272
[15] with the same additions as in clause 5.5.6.
### 5.5.8 V2X capability indication and V2X related information per PC5 RAT
A UE may support multiple PC5 RATs (i.e. LTE PC5 and NR PC5). For such UE, the
V2X capability indication for NR PC5 and V2X related information (i.e. \"V2X
services authorized\" indication and UE-PC5-AMBR) described in clauses 5.5.1
to 5.5.7 is per PC5 RAT.
### 5.5.9 Support of V2X communication over NR PC5 reference point
To support V2X communication over NR PC5 reference point, the EPC procedures
described in clauses 5.5.1 to 5.5.7 are applied with the following
differences:
\- The PC5 QoS parameters may be included in the S1-AP Initial Context Setup
Request, S1-AP Handover Request, S1-AP UE Context Modification Request, X2-AP
Handover Request, and Path Switch Request Acknowledge messages.
NOTE: Non-UE specific PC5 QoS parameters, e.g. default PC5 QoS parameters, can
also be locally configured in E-UTRAN. How such configuration is performed is
out of scope of this specification.
###### ## Annex A (informative): Road Side Unit (RSU) implementation options
This Annex presents examples how RSU can be implemented. With reference to the
architectural reference models defined in clause 4.2, the RSU can receive V2X
messages via SGi, PC5 or LTE-Uu interface depending on implementation option.
Figure A-1 shows a UE-type RSU, which combines a UE with the V2X application
logic.
Figure A-1: RSU includes a UE and the V2X application logic
Figure A-2 shows one example of eNB-type RSUs. In this example, the RSU
comprises an eNB, a collocated L-GW, and a V2X Application Server.
Figure A-2: RSU includes an eNB, L-GW and a V2X Application Server
###### ## Annex B (informative): Localized MBMS deployment options
# B.1 General Description
In current MBMS system, the BM-SC, MBMS-GW and MME are located in the Core
Network. The backhaul delay between the BM-SC and the eNB is non-negligible
when calculating the end-to-end delay, especially when MBMS is used to
delivery downlink V2X messages in the V2X system. To minimize the latency,
possible deployment can consider the following options:
\- To move the MBMS CN functions (e.g. BM-SC, MBMS-GW) closer to the eNB.
\- To move the user plane of MBMS CN functions (BM-SC, MBMS-GW) closer to the
eNB.
These options are illustrated in clause B.2 and clause B.3. The list of
deployment options is not exhaustive and that they are shown for illustration
purposes only.
If the V2X Application Server utilizes xMB interface, the options B.2 and B.3
replace MB2-C and MB2-U with xMB-C and xMB-U respectively.
# B.2 Option of localized MBMS CN functions
In this case BM-SC, and MBMS-GW are located close to the eNB. This option is
shown in Figure B.2-1.
Figure B.2-1: Localized MBMS CN functions
# B.3 Option of localized user plane of MBMS CN functions
In this case user plane of MBMS CN functions (BM-SC and MBMS-GW) is located
close to the eNB. This option is shown in Figure B.3-1.
Figure B.3-1: Localized user plane of MBMS CN functions
The user plane of MBMS CN functions can implement the following user plane
functionalities:
\- Receive user data from V2X Application Server over MB2-U.
\- IP multicast distribution of MBMS user plane data to E-UTRAN (M1 reference
point).
\- Data synchronization (as for the BM-SC in legacy MBMS mechanisms).
\- If used, apply favourable error resilient schemes, e.g. specialized MBMS
codecs or Forward Error Correction schemes.
\- If used, MBMS data encryption.
The procedure for Local MBMS based MBMS data delivery described in clause
5.4.2.2 makes this type of deployment option possible to improve V2X latency.
The separation of control and user plane functions in this option is for
illustration only.
###### ## Annex C (informative): Example hybrid operation modes for V2X
communication over PC5 and LTE-Uu
# C.1 General
This Annex presents examples on how two operation modes for V2X communication,
i.e. over the PC5 and over LTE-Uu, can be used in a hybrid manner.
# C.2 PC5 based V2X communication with MBMS reception
In this operation mode, a UE always transmits the V2X messages via PC5. The UE
receives V2X messages via PC5 and via MBMS as well.
A stationary infrastructure entity acting as a UE, e.g. an RSU, receives V2X
messages via PC5, and forwards the application layer processed V2X messages to
a V2X Application Server via V1 interface, e.g. using a PDN connection over
LTE-Uu or other type of connection (for example fixed). The V2X messages
processed by the V2X Application Server can be distributed to UEs via the MBMS
system as required.
In this manner, a UE can directly receive V2V messages from other UEs in close
proximity. Additionally, in this operation mode, the mobile network provides
information from an extended range and satisfies the needs of soft safety
(e.g. situational awareness at range) or enables more advanced driving
assistance applications. This combined sources of information are especially
useful in high density use cases, where the UE may not be able to reliably
receive V2X messages directly from distant UEs over PC5.
# C.3 Simultaneous LTE-Uu based and PC5 based V2X communication without MBMS
In this operation mode, UEs communicate with other UEs that are in proximity,
including with UE-type RSUs, via PC5 for both the transmission and reception
of V2X messages. The UE-type RSUs can communicate with the V2X Application
Servers in the mobile network, e.g. over LTE-Uu, as needed, for managing the
communication of V2X messages beyond the direct PC5 communication range. With
such hybrid use of PC5 and LTE-Uu based V2X communication, MBMS broadcast on
the downlink is not needed.
Figure C.3-1: V2X message transmission and reception using UE-type RSU via
LTE-Uu and PC5
Figure C.3-1 is a high level illustration of this operation mode. This
operation mode consists of three components:
• Stationary infrastructure entities acting as UEs, e.g. UE-type RSUs, are
deployed to provide adequate coverage to vehicular traffic infrastructure. The
UEs and the UE-type RSUs are configured or provisioned with information for
V2X communication over PC5 as specified in clause 4.4.1. The UE-type RSUs may
communicate with the V2X Application Servers.
• The UE-type RSUs receive V2X messages from other UEs via PC5. The V2X
application of the RSU(s) decides if the messages need to be routed to the V2X
Application Server(s) over LTE-Uu connection, e.g. when the target area is
larger than its V2X communication range over PC5. The V2X Application
Server(s) determines the target area and the size of the area where the V2X
messages need to be distributed. The V2X Application Server may coordinate and
communicate with other V2X Application Servers for the determination of the
target area and distribution of V2X messages in the target area.
• V2X Application Server(s) send V2X messages downlink to the RSUs in the
target distribution area, e.g. over LTE-Uu. The RSUs broadcast the received
V2X messages using V2X communication over PC5. UEs within the region receive
the RSU broadcasted V2X messages over PC5.
In this manner, a UE, e.g. vehicle UE only needs to operate in the operation
mode of V2X communication over PC5, for V2V/V2P services. Only the UEs
implemented as RSUs operate in the hybrid mode of simultaneous V2X
communication over PC5 and LTE-Uu. Such combination of PC5 based and LTE-Uu
based V2X communications is also useful in use cases where the UE may not be
able to receive V2X messages directly from distant UEs via PC5. In addition,
the UE-type RSUs can use SIPTO connection for the communication with local V2X
Servers to reduce latency.
###### ## Annex D (informative): V2X Message Distribution Server deployment
option
# D.1 General Description
In the case of non-session based V2X services (i.e. Road Status Notification),
it is possible that a single V2X message needs to be delivered to multiple
locally relevant V2X Application Servers. In order to provide network support
for the distribution of these V2X messages to multiple V2X Application
Servers, a possible deployment option includes a V2X Message Distribution
Server behind the L/PGW as illustrated in Figure D.1-1. It is configured to
distinguish whether a V2X message needs to be delivered to multiple V2X
Application Servers and send them accordingly.
UEs discover and send V2X messages to these network deployed distribution
servers in the same way as to V2X Application Servers. From the UE
perspective, it is communicating with a V2X Application Server and is not
aware whether any of the V2X messages are further distributed onward to other
servers.
NOTE: The V2X Message Distribution Server is used for illustrative purpose and
not further described in any 3GPP specification.
Figure D.1-1: V2X message distribution server deployment option
#