# Foreword
This Technical Specification has been produced by the 3rd Generation
Partnership Project (3GPP).
The contents of the present document are subject to continuing work within the
TSG and may change following formal TSG approval. Should the TSG modify the
contents of the present document, it will be re-released by the TSG with an
identifying change of release date and an increase in version number as
follows:
Version x.y.z
where:
x the first digit:
1 presented to TSG for information;
2 presented to TSG for approval;
3 or greater indicates TSG approved document under change control.
y the second digit is incremented for all changes of substance, i.e. technical
enhancements, corrections, updates, etc.
z the third digit is incremented when editorial only changes have been
incorporated in the document.
In the present document, modal verbs have the following meanings:
**shall** indicates a mandatory requirement to do something
**shall not** indicates an interdiction (prohibition) to do something
The constructions \"shall\" and \"shall not\" are confined to the context of
normative provisions, and do not appear in Technical Reports.
The constructions \"must\" and \"must not\" are not used as substitutes for
\"shall\" and \"shall not\". Their use is avoided insofar as possible, and
they are not used in a normative context except in a direct citation from an
external, referenced, non-3GPP document, or so as to maintain continuity of
style when extending or modifying the provisions of such a referenced
document.
**should** indicates a recommendation to do something
**should not** indicates a recommendation not to do something
**may** indicates permission to do something
**need not** indicates permission not to do something
The construction \"may not\" is ambiguous and is not used in normative
elements. The unambiguous constructions \"might not\" or \"shall not\" are
used instead, depending upon the meaning intended.
**can** indicates that something is possible
**cannot** indicates that something is impossible
The constructions \"can\" and \"cannot\" are not substitutes for \"may\" and
\"need not\".
**will** indicates that something is certain or expected to happen as a result
of action taken by an agency the behaviour of which is outside the scope of
the present document
**will not** indicates that something is certain or expected not to happen as
a result of action taken by an agency the behaviour of which is outside the
scope of the present document
**might** indicates a likelihood that something will happen as a result of
action taken by some agency the behaviour of which is outside the scope of the
present document
**might not** indicates a likelihood that something will not happen as a
result of action taken by some agency the behaviour of which is outside the
scope of the present document
In addition:
**is** (or any other verb in the indicative mood) indicates a statement of
fact
**is not** (or any other negative verb in the indicative mood) indicates a
statement of fact
The constructions \"is\" and \"is not\" do not indicate requirements.
# 1 Scope
The present document specifies the protocol aspects for the location
management capability of SEAL to support vertical applications (e.g. V2X) over
the 3GPP system.
The present document is applicable to the user equipment (UE) supporting the
location management client functionality as described in 3GPP TS 23.434 [4],
to the application server supporting the location management server
functionality as described in 3GPP TS 23.434 [4] and to the application server
supporting the vertical application server (VAL server) functionality as
defined in the specific vertical application service (VAL service)
specifications.
NOTE: The specification of the VAL server for a specific VAL service is out of
scope of present document.
# 2 References {#references-1}
The following documents contain provisions which, through reference in this
text, constitute provisions of the present document.
\- References are either specific (identified by date of publication, edition
number, version number, etc.) or nonâ€‘specific.
\- For a specific reference, subsequent revisions do not apply.
\- For a non-specific reference, the latest version applies. In the case of a
reference to a 3GPP document (including a GSM document), a non-specific
reference implicitly refers to the latest version of that document in the same
Release as the present document.
[1] 3GPP TR 21.905: \"Vocabulary for 3GPP Specifications\".
[2] 3GPP TS 23.003: \"Numbering, addressing and identification\".
[3] 3GPP TS 23.032: \"Universal Geographical Area Description (GAD)\".
[4] 3GPP TS 23.434: \"Service Enabler Architecture Layer for Verticals (SEAL);
Functional architecture and information flows\".
[5] 3GPP TS 24.229: \"IP multimedia call control protocol based on Session
Initiation Protocol (SIP) and Session Description Protocol (SDP); Stage 3\".
[6] 3GPP TS 24.547: \"Identity management - Service Enabler Architecture Layer
for Verticals (SEAL); Protocol specification\".
[7] IETF RFC 2616: \"Hypertext Transfer Protocol -- HTTP/1.1\".
[8] IETF RFC 3261 (June 2002): \"SIP: Session Initiation Protocol\".[9] IETF
RFC 4825: \"The Extensible Markup Language (XML) Configuration Access Protocol
(XCAP)\".
[10] IETF RFC 6050 (November 2010): \"A Session Initiation Protocol (SIP)
Extension for the Identification of Services\"
[11] IETF RFC 6665 (July 2012): \"SIP-Specific Event Notification\".
[12] OMA OMA-TS-XDM_Core-V2_1-20120403-A: \"XML Document Management (XDM)
Specification\"
[13] IETF RFC 6750: \"The OAuth 2.0 Authorization Framework: Bearer Token
Usage\".
[14] IETF RFC 3428 (December 2002): \"Session Initiation Protocol (SIP)
Extension for Instant Messaging\".
[15] void
[16] void
[17] void
[18] void
[19] IETF RFC 7159: \"The JavaScript Object Notation (JSON) Data Interchange
Format\".
[20] IETF RFC 7230: \"Hypertext Transfer Protocol (HTTP/1.1): Message Syntax
and Routing\".
[20A] IETF RFC 6086: \"Session Initiation Protocol (SIP) INFO Method and
Package Framework\".
# 3 Definitions of terms and abbreviations
## 3.1 Terms
For the purposes of the present document, the terms given in 3GPP TR 21.905
[1] and the following apply. A term defined in the present document takes
precedence over the definition of the same term, if any, in 3GPP TR 21.905
[1].
**SEAL location management client** : An entity that provides the client side
functionalities corresponding to the SEAL location management service.
**SEAL location management server** : An entity that provides the server side
functionalities corresponding to the SEAL location management service.
For the purposes of the present document, the following terms and definitions
given in 3GPP TS 23.434 [4] apply:
**SEAL client**
**SEAL server**
**SEAL service**
**VAL server**
**VAL service**
**VAL user**
**Vertical**
**Vertical application**
## 3.2 Abbreviations
For the purposes of the present document, the abbreviations given in 3GPP TR
21.905 [1] and the following apply. An abbreviation defined in the present
document takes precedence over the definition of the same abbreviation, if
any, in 3GPP TR 21.905 [1].
SCEF Service Capability Exposure Function
SEAL Service Enabler Architecture Layer for verticals
SLM-C SEAL Location Management Client
SLM-S SEAL Location Management Server
VAL Vertical Application Layer
# 4 General description
Location management is a SEAL service that provides the location management
related capabilities to one or more vertical applications. The present
document enables a SEAL location management client (SLM-C) and a VAL server
that communicate with a SEAL location management server (SLM-S).
# 5 Functional entities
## 5.1 SEAL location management client (SLM-C)
The SLM-C functional entity acts as the application client for location
management related transactions. To be compliant with the procedures in the
present document the SLM-C:
a) shall support the role of XCAP client as specified in IETF RFC 4825 [9];
b) shall support the role of XDMC as specified in OMA OMA-TS-XDM_Core-V2_1
[12];
c) shall support the location management procedures in clause 6.2; and
d) void
e) shall support HTTP client and HTTP server functionalities as specified in
IETF RFC 7230 [20].
## 5.2 SEAL location management server (SLM-S)
The SLM-S is a functional entity used to provide location management supported
within the vertical application layer. To be compliant with the procedures in
the present document the SLM-S:
a) shall support the role of XCAP server as specified in IETF RFC 4825 [9];
b) shall support the role of XDMS as specified in OMA OMA-TS-XDM_Core-V2_1
[12];
c) shall support the location management procedures in clause 6.2; and
d) shall support HTTP client and HTTP server functionalities as specified in
IETF RFC 7230 [20].
# 6 Location management procedures
## 6.1 General
## 6.2 On-network procedures
### 6.2.1 General
#### 6.2.1.1 Authenticated identity in HTTP request
Upon receiving an HTTP request, the SLM-S shall authenticate the identity of
the sender of the HTTP request is authorized as specified in 3GPP TS 24.547
[6], and if authentication is successful, the SLM-S shall use the identity of
the sender of the HTTP request as an authenticated identity.
#### 6.2.1.2 Boot up procedure
Upon device boot up, the SLM-C in the UE shall send HTTP POST message to SLM-S
containing the call back URI (where the SLM-S can send request message to
SLM-C) in a JavaScript Object Notation (JSON) structure as specified in IETF
RFC 7159 [19].
### 6.2.2 Event-triggered location reporting procedure
#### 6.2.2.1 General
The SLM-C sends a location reporting configuration request when it needs to
fetch location reporting configuration from the SLM-S.
The SLM-C sends a location report when at least one of the trigger criteria is
fulfilled. To send the location report the SLM-C can use an appropriate HTTP
request message.
If a location reporting trigger is met, the SLM-C checks if the minimum-
report-interval timer is running. If the timer is running, the SLM-C waits
until the timer expires. When the minimum-report-interval timer expires, the
SLM-C:
a) shall send a location information report as specified in clause 6.2.2.2, if
any of the reporting triggers are still met.
#### 6.2.2.2 Client procedure
##### 6.2.2.2.1 Fetching location reporting configuration
In order to fetch location reporting configuration, the SLM-C shall send an
HTTP GET request message according to procedures specified in IETF RFC 2616
[7] \"Fetch a Document\". In the HTTP GET request message, the SLM-C:
a) shall set the Request-URI to the URI identifying the XML document to be
fetched. In the Request-URI;
1) the \"auid\" is set to specific VAL service identity; and
2) the document selector is set to a document URI pointing to the location
reporting configuration document; and
b) shall include an Authorization header field with the \"Bearer\"
authentication scheme set to an access token of the \"bearer\" token type as
specified in IETF RFC 6750 [13].
Upon receiving an HTTP 200 (OK) response from the SLM-S containing:
a) a Content-Type header field set to \"application/vnd.3gpp.seal-location-
info+xml\"; and
b) an application/vnd.3gpp.seal-location-info+xml MIME body with a
\ element included in the \ root element;
the SLM-C:
a) shall store the content of the \ elements;
b) shall set the location reporting triggers accordingly; and
c) shall start the minimum-report-interval timer.
##### 6.2.2.2.2 Location reporting
In order to report the location information, the SLM-C shall send an HTTP POST
request message according to procedures specified in IETF RFC 2616 [7]. In the
HTTP POST request message, the SLM-C:
a) shall set the Request-URI to the URI included in the received HTTP response
message for location report configuration;
b) shall include a Content-Type header field set to
\"application/vnd.3gpp.seal-location-info+xml\";
c) shall include an application/vnd.3gpp.seal-location-info+xml MIME body and
in the \ root element:
1) shall include an \ element with a \ child element
set to the identity of the VAL user for location report; and
2) shall include a \ element and, if the report was triggered by a
location request, include the \ attribute set to the value of the
\ attribute in the received request. The \ element:
i) shall include a \ child element set to the value of each
\ value of the triggers that have been met; and
ii) shall include the location reporting elements corresponding to the
triggers that have been met;
d) shall set the minimum-report-interval timer to the minimum-report-interval
time and start this timer; and
e) shall reset all the trigger criteria for location reporting.
#### 6.2.2.3 Server procedure
##### 6.2.2.3.1 Fetching location reporting configuration
Upon receiving of an HTTP GET request where the Request-URI of the HTTP GET
request identifies a location reporting configuration document as specified in
the specific vertical application, the SLM-S:
a) shall determine the identity of the sender of the received HTTP GET request
as specified in clause 6.2.1.1, and:
1) if the identity of the sender of the received HTTP GET request is not
authorized to fetch requested configuration document, shall respond with a
HTTP 403 (Forbidden) response to the HTTP GET request and skip rest of the
steps;
b) shall support handling an HTTP GET request from a SLM-C according to
procedures specified in IETF RFC 4825 [9] \"GET Handling\".
c) shall generate an HTTP 200 (OK) response according to IETF RFC 2616 [7]. In
the HTTP 200 (OK) response message, the SLM-S:
1) shall include a Content-Type header field set to
\"application/vnd.3gpp.seal-location-info+xml\";
2) shall include an application/vnd.3gpp.seal-location-info+xml MIME body and
in the \ root element:
i) shall include an \ element with a \ child element
set to the identity of the VAL user requesting for location reporting
configuration;
ii) shall include a \ element which shall include at least one
of the followings:
A) the location reporting elements which are requested;
B) a \ child element which provides the triggers for the
SLM-C to request a location report as described in clause 7; and
C) a \child element specifying the minimum time
between consecutive reports. The value is given in seconds;
3) shall include the \ attribute where defined for the sub-
elements defining the trigger criterion; and
d) shall send the HTTP 200 (OK) response towards the SLM-C.
##### 6.2.2.3.2 Location reporting
Upon reception of an HTTP POST request message containing:
a) a Content-Type header field set to \"application/vnd.3gpp.seal-location-
info+xml\"; and
b) an application/vnd.3gpp.seal-location-info+xml MIME body with a \
element included in the \ root element;
where the Request-URI of the HTTP POST request identifies an element of a XML
document as specified in application usage of the specific vertical
application, the SLM-S:
a) shall determine the identity of the sender of the received HTTP POST
request as specified in clause 6.2.1.1; and
1) if the identity of the sender of the received HTTP POST request is not
authorized to obtain location information of another VAL user, shall respond
with a HTTP 403 (Forbidden) response to the HTTP POST request and shall skip
rest of the steps; and
2) shall support handling an HTTP POST request from a SLM-C according to
procedures specified in IETF RFC 4825 [9] where the Request-URI of the HTTP
POST request identifies an element of XML document as specified in application
usage of the specific vertical application. The SLM-S:
i) shall store the received location information of the reporting SLM-C; and
ii) shall use the location information as needed.
NOTE: The \ element contains the event triggering identity in the
location information report from the VAL client, and can contain location
information.
### 6.2.3 On-demand location reporting procedure
#### 6.2.3.1 Client procedure
Upon receiving an HTTP POST request containing:
a) an Accept header field set to \"application/vnd.3gpp.seal-location-
info+xml\";
b) a Content-Type header field set to \"application/vnd.3gpp.seal-location-
info+xml\";
c) an application/vnd.3gpp.seal-location-info+xml MIME body with a \
element included in the \ root element;
the SLM-C:
a) may send a location report as specified in clause 6.2.2.2.2.
#### 6.2.3.2 Server procedure
If the SLM-S needs to request the SLM-C to report its location, the SLM-S
shall generate an HTTP POST request according to procedures specified in IETF
RFC 2616 [7]. The SLM-S:
a) shall include a Request-URI set to the URI corresponding to the identity of
the SLM-C;
b) shall include an Accept header field set to \"application/vnd.3gpp.seal-
location-info+xml\";
c) shall include a Content-Type header field set to
\"application/vnd.3gpp.seal-location-info+xml\";
d) shall include an application/vnd.3gpp.seal-location-info+xml MIME body and
in the \ root element:
1) shall include a \ element with a \ child
element set to the identity of the VAL user whose location is requested;
2) shall include a \ element; and
e) shall send the HTTP POST request as specified in IETF RFC 2616 [7].
NOTE: Push notification service can be used to send HTTP POST request to the
client. Details about the push notification service is out of scope this
specification.
### 6.2.4 Client-triggered or VAL server-triggered location reporting
procedure
#### 6.2.4.1 Client procedure
Upon receiving a request from a VAL user to obtain the location information of
another VAL user or to update the location reporting trigger, the SLM-C shall
send an HTTP POST request according to procedures specified in IETF RFC 2616
[7]. In the HTTP POST request, the SLM-C:
a) shall set the Request-URI to the URI included in the received HTTP response
message for location report configuration;
b) shall include a Content-Type header field set to
\"application/vnd.3gpp.seal-location-info+xml\"; and
c) shall include an application/vnd.3gpp.seal-location-info+xml MIME body and
in the \ root element:
1) shall include an \ element with a \ child element
set to the identity of the VAL user which requests the location report;
2) shall include a \ element with a \ child
element set to the identity of the VAL user for which a location report is
requested. The VAL user should belong to the same VAL service as the identity
of the VAL user which requests the location report; and
3) a \ element which shall include at least one of the
followings:
i) an \ child element to indicate that an
immediate location report is required;
ii) the location reporting elements which are requested;
iii) a \ child element which indicate a specified
location trigger criteria to send the location report;
iv) a \child element specifying the minimum time
between consecutive reports. The value is given in seconds; and
v) if an \ element is set to required, an
\ child element set to the information of the endpoint of the
requesting VAL server to which the location report notification has to be
sent.
Upon reception of an HTTP POST request message containing:
a) a Content-Type header field set to \"application/vnd.3gpp.seal-location-
info+xml\"; and
b) an application/vnd.3gpp.seal-location-info+xml MIME body with a \
element included in the \ root element;
where the Request-URI of the HTTP POST request identifies an element of a XML
document as specified in application usage of the specific vertical
application, the SLM-C shall follow the procedure as specified in clause
6.2.2.3.2.
#### 6.2.4.2 Server procedure
Upon reception of an HTTP POST request where the Request-URI of the HTTP POST
request identifies an element of a XML document as specified in application
usage of the specific vertical application, the SLM-S:
a) shall determine the identity of the sender of the received HTTP POST
request as specified in clause 6.2.1.1 and;
1) if the identity of the sender of the received HTTP POST request is not
authorized to obtain location information of another VAL user, shall respond
with a HTTP 403 (Forbidden) response to the HTTP POST request and shall skip
rest of the steps; and
2) shall support handling an HTTP POST request from a SLM-C according to
procedures specified in IETF RFC 4825 [9] where the Request-URI of the HTTP
POST request identifies an element of XML document as specified in application
usage of the specific vertical application. Depending on the information
specified by the HTTP POST request, the SLM-S initiates either an event-
triggered location reporting procedure as specified in clause 6.2.2.2 or an
on-demand location reporting procedure as specified in clause 6.2.2.3 for
providing the SLM-C with the location of the requested VAL user; and
b) For on-demand location report request, upon receiving the location
information of the SLM-C, the SLM-S sends location report to the requesting
SLM-C or VAL server as specified in clause 6.2.2.2.
### 6.2.5 Location reporting triggers configuration cancel procedure
#### 6.2.5.1 Client procedure
Upon receiving an HTTP POST request containing:
a) a Content-Type header field set to \"application/vnd.3gpp.seal-location-
info+xml\"; and
b) an application/vnd.3gpp.seal-location-info+xml MIME body with a
\ element included in the \ root element, which
has none of child elements;
the SLM-C:
a) shall delete the content of the \ elements;
b) shall stop the location reporting; and
c) shall generate an HTTP 200 (OK) response to the received HTTP POST request
message according to IETF RFC 2616 [7] and shall send it towards SLM-S.
#### 6.2.5.2 Server procedure
Upon receiving an HTTP POST request containing:
a) a Content-Type header field set to \"application/vnd.3gpp.seal-location-
info+xml\"; and
b) an application/vnd.3gpp.seal-location-info+xml MIME body with a
\ element included in the \ root element, which
has none of child elements;
the SLM-S:
a) shall include a Request-URI set to the URI corresponding to the identity of
the SLM-C;
b) shall include a Content-Type header field set to
\"application/vnd.3gpp.seal-location-info+xml\";
c) shall include an application/vnd.3gpp.seal-location-info+xml MIME body and
in the \ root element:
1) shall include an \ element with a \ child element
set to the identity of the VAL user for location reporting event triggers
configuration cancellation;
2) shall include a \ element which shall not include any child
element; and
d) shall send the HTTP POST request as specified in IETF RFC 2616 [7].
Upon receiving response from the SLM-C, the SLM-S shall generate an HTTP 200
(OK) response to the received HTTP POST request message according to IETF RFC
2616 [7] and shall send it towards VAL server.
#### 6.2.5.3 VAL Server procedure
The VAL Server (or authorized VAL user) may cancel the location reporting
triggers configuration for the SLM-C by generatiing an HTTP POST request
message according to procedures specified in IETF RFC 2616 [7]. The VAL
server:
a) shall include a Request-URI set to the URI corresponding to the identity of
the SLM-S;
b) shall include a Content-Type header field set to
\"application/vnd.3gpp.seal-location-info+xml\";
c) shall include an application/vnd.3gpp.seal-location-info+xml MIME body and
in the \ root element:
1) shall include a \ element set to the identity of the VAL user
for location reporting event triggers configuration cancellation;
2) shall include a \ element which shall not include any child
element; and
d) shall send the HTTP POST request as specified in IETF RFC 2616 [7].
### 6.2.6 Location information subscription procedure
The VAL service will use the same identity which has been authenticated by VAL
service with SIP core using SIP based REGISTER message. If VAL service do not
support SIP protocol, then HTTP based method needs to be used.
#### 6.2.6.1 VAL server procedure
##### 6.2.6.1.1 SIP based procedure
##### 6.2.6.1.1.1 Create subscription {#create-subscription .H6}
In order to subscribe location information of one or more VAL users or VAL
UEs, if VAL server supports SIP, the VAL server shall generate an initial SIP
MESSAGE request according to 3GPP TS 24.229 [5] and IETF RFC 3428 [14]. In the
SIP MESSAGE request, the VAL server:
a) shall set the Request-URI to the public service identity identifying the
originating SLM-S serving the VAL server;
b) shall include the ICSI value \"urn:urn-7:3gpp-service.ims.icsi.seal\"
(coded as specified in 3GPP TS 24.229 [5]), in a P-Preferred-Service header
field according to IETF RFC 6050 [10];
c) shall include an application/vnd.3gpp.seal-location-info+xml MIME body and
in the \ root element;
1) shall include an \ element with a \ child element
set to the identity of the VAL server which requests the location information
subscription;
2) shall include a \ element which shall include:
i) an \ element with one or more \ child
elements set to the identities of the VAL users whose location information is
requested;
ii) a \ element specifying the time between consecutive
reports. The value is given in seonds; and
iii) an \ element specifying the time when the VAL server wants
to receive the current status and later notification; and
d) shall send the SIP MESSAGE request towards the SLM-S according to 3GPP TS
24.229 [5].
Upon receiving a SIP MESSAGE with an application/vnd.3gpp.seal-location-
info+xml MIME body, the VAL server:
a) shall store the Subcription expiry value set in \ element; and
b) may start subscription refresh timer and set expiry time for the
subscription refresh timer to the 2/3 of Subcription expiry value.
NOTE: It is upto implementation to refressh subscribe upon expiry of
subscription refresh timer.
##### 6.2.6.1.1.2 Deleting subscription {#deleting-subscription .H6}
In order to delete the subscription as identified by the subscription
identifier, the VAL server:
a) shall generate a SIP MESSAGE request according to 3GPP TS 24.229 [5] and
IETF RFC 3428 [14];
b) shall include an application/vnd.3gpp.seal-location-info+xml MIME body and
in the \ root element, the VAL server:
1) a \ element set to the subscription identifier
value which uniqly identified the subscription; and
2) set an \ element to zero;
c) shall send the SIP MESSAGE request towards the SLM-S according to 3GPP TS
24.229 [5].
Upon receiving a SIP MESSAGE with an application/vnd.3gpp.seal-location-
info+xml MIME body containing \ element along with
\ element set to zero, the VAL server:
a) shall delete the subscription related data.
##### 6.2.6.1.2 HTTP based procedure
###### 6.2.6.1.2.1 Create subscription
If VAL server does not support SIP, the VAL server shall send an HTTP POST
request to the SLM-S according to procedures specified in IETF RFC 2616 [7].
In the HTTP POST request message, the VAL server:
a) shall include a Request-URI set to the URI corresponding to the identity of
the SLM-S;
b) shall include an Accept header field set to \"application/vnd.3gpp.seal-
location-info+xml\";
c) shall include a Content-Type header field set to
\"application/vnd.3gpp.seal-location-info+xml\";
d) shall include an application/vnd.3gpp.seal-location-info+xml MIME body and
in the \ root element;
1) shall include an \ element with a \ child element
set to the identity of the VAL server which requests the location information
subscription; and
2) shall include a \ element as described in clause 6.2.6.1.1.1;
and
e) shall send the HTTP POST request towards the SLM-S as specified in IETF RFC
2616 [7].
Upon receiving an HTTP POST request with an application/vnd.3gpp.seal-
location-info+xml MIME body, the VAL server:
a) shall store the Subcription expiry value set in \ element; and
b) may start subscription refresh timer and set expiry time for the
subscription refresh timer to the 2/3 of Subcription expiry value.
NOTE: It is upto implementation to refressh subscribe upon expiry of
subscription refresh timer.
###### 6.2.6.1.2.2 Delete subscription
In order to delete the subscription as identified by the subscription
identifier, the VAL server shall generate an HTTP POST request according to
procedures specified in IETF RFC 2616 [7]. In the HTTP POST request message,
the VAL server:
a) shall include an application/vnd.3gpp.seal-location-info+xml MIME body and
in the \ root element:
1) shall include a \ element set to the subscription
identifier value which uniqly identified the subscription; and
2) shall include an \ element set to zero;
b) shall send the HTTP POST request towards the SLM-S as specified in IETF RFC
2616 [7].
Upon receiving an HTTP POST with an application/vnd.3gpp.seal-location-
info+xml MIME body containing \ element along with
\ element set to zero, the VAL server:
a) shall delete the subscription related data.
#### 6.2.6.2 Server procedure
##### 6.2.6.2.1 SIP based procedure
##### 6.2.6.2.1.1 Create subscription {#create-subscription-2 .H6}
Upon receiving a SIP MESSAGE request such that:
a) Request-URI of the SIP MESSAGE request contains the public service identity
identifying the SLM-S of the served VAL server;
b) the ICSI value \"urn:urn-7:3gpp-service.ims.icsi.seal\" (coded as specified
in 3GPP TS 24.229 [5]), in a P-Asserted-Service header field according to IETF
RFC 6050 [10]; and
c) the SIP MESSAGE request contains an application/vnd.3gpp.seal-location-
info+xml MIME body with an \ element included in the \ root element;
the SLM-S:
a) shall identify the served VAL user ID in the \ element of the
application/ vnd.3gpp.seal-location-info+xml MIME body of the SIP MESSAGE
request;
b) if the Request-URI of the SIP MESSAGE request contains the public service
identity identifying the SLM-S serving the VAL server, shall identify the
originating VAL user ID from public user identity in the P-Asserted-Identity
header field of the SIP MESSAGE request;
c) if the originating VAL user ID is different than the served VAL user ID,
shall send a 403 (Forbidden) response and shall not continue with the rest of
the steps; and
d) shall generate a 200 (OK) response to the SIP MESSAGE request according to
3GPP TS 24.229 [5] and send it towards VAL server.
e) shall store all users information contained in \ element of
\ element;
f) shall store the expiry time for the subscription to the \
value; if the expiry time value as present in \ element is not
acceptable to the SLM-S, the SLM-S may change the expiry time value to a lower
value;
g) shall store the time interval value to the \ element;
h) shall generate and assign a unique integer as subscription identifier to
the subscription request received from VAL server;
i) shall generate a SIP MESSAGE request according to 3GPP TS 24.229 [5] and
IETF RFC 3428 [14].
j) In the SIP MESSAGE, the SLM-S shall include an application/vnd.3gpp.seal-
location-info+xml MIME body and in the \ root element;
1) shall include a \ element which shall include:
i) a \ element set to the unique subscription
identifier which is assigned to the subscription request;
ii) an \ element set to the accepted expiry time value; and
iii) if the VAL users whose location information is requested as present in
\ element is not fully acceptable to the SLM-S, the SLM-S may
change the VAL users to a subset and shall include an \ with
one or more \ child elements set to the identities of the new VAL
users;
k) shall send the SIP MESSAGE request towards the VAL server according to 3GPP
TS 24.229 [5]; and
l) shall start the timer TLM-1 (subscription expiry) and set the expiry time
of the timer to the expiry time for the subscription.
m) shall start the timer TLM-2 (notification interval) timer and set the
internal time of the timer to the \ element value.
##### 6.2.6.2.1.2 Delete subscription {#delete-subscription-1 .H6}
Upon receiving a SIP MESSAGE with an application/vnd.3gpp.seal-location-
info+xml MIME body containing \ element along with
\ element set to zero, the SLM-S:
a) shall generate a SIP 200 (OK) response and send it towards VAL server;
b) shall delete all information related to subscription;
c) shall generate a SIP MESSAGE request according to 3GPP TS 24.229 [5] and
IETF RFC 3428 [14].
d) In the SIP MESSAGE, the SLM-S shall include an application/vnd.3gpp.seal-
location-info+xml MIME body and in the \ root element;
1) shall include a \ element which shall include:
i) a \ element set to the unique subscription
identifier which is assigned to the subscription request;
d) shall send the SIP MESSAGE request towards the VAL server according to 3GPP
TS 24.229 [5];
e) shall stop TLM-1 (subscription expiry) timer if it is running; and
f) shall stop TLM-2 (notification interval) timer if it is running.
##### 6.2.6.2.1.3 Expiry of TLM-1 (subscription expiry) {#expiry-of-
tlm-1-subscription-expiry .H6}
On expiry of TLM-1 (subscription expiry) timer, the SLM-S shall consider the
subscription terminated and shall inform VAL server about subscription
terminated. In order to notify the VAL server about the termination of the
subscription, the SLM-S:
a) shall generate a SIP MESSAGE request according to 3GPP TS 24.229 [5] and
IETF RFC 6086 [20A];
b) shall include in the SIP MESSAGE request, an application/vnd.3gpp.seal-
location-info+xml MIME body and in the \ root element, the VAL
server:
1) a \ element set to the subscription identifier
value which uniqly identified the subscription; and
2) set an \ element to zero;
c) shall send the SIP MESSAGE request towards the VAL server according to 3GPP
TS 24.229 [5].
##### 6.2.6.2.1.4 Expiry of TLM-2 (notification interval) timer {#expiry-of-
tlm-2-notification-interval-timer .H6}
On expiry of TLM-2 (notification interval) timer, the SLM-S shall check if any
notification is pending to send or not. The SLM-S should follow procedure
described in clause 6.2.7.2 to send notification if any pending notifications
are present.
##### 6.2.6.2.2 HTTP based procedure
Upon receiving an HTTP POST request containing:
a) an Accept header field set to \"application/vnd.3gpp.seal-location-
info+xml\";
b) a Content-Type header field set to \"application/vnd.3gpp.seal-location-
info+xml\";
c) an application/vnd.3gpp.seal-location-info+xml MIME body with a
\ element included in the \ root element;
the SLM-S:
a) shall determine the identity of the sender of the received HTTP POST
request as specified in clause 6.2.1.1; and
1) if the identity of the sender of the received HTTP POST request is not
authorized to subscribe location information of another VAL user or VAL UE,
shall respond with a HTTP 403 (Forbidden) response to the HTTP POST request
and shall skip rest of the steps; and
2) shall support handling an HTTP POST request from a SLM-C according to
procedures specified in IETF RFC 4825 [9] \"POST Handling\";
b) shall store the expiry time for the subscription to the \
value. If the expiry time value as present in \ element is not
acceptable to the SLM-S, the SLM-S may change the expiry time value to a lower
value;
c) shall store the time interval value to the \ element.
if the time interval value as present in \ element is
not acceptable to the SLM-S, the SLM-S may change the time interval value to a
lower value;
d) shall generate and assign a unique integer as subscription identifier to
the subscription request received from VAL server;
e) shall store the users information contained in the \ elements
of \ element. If the VAL users whose location information is
requested as present in \ element is not fully acceptable to
the SLM-S, the SLM-S may change the VAL users to a subset and store the
identities of the new VAL users;
f
f) shall generate an HTTP 200 (OK) response according to IETF RFC 2616 [7]. In
the HTTP 200 (OK) message, the SLM-S:
1) shall include an application/vnd.3gpp.seal-location-info+xml MIME body and
in the \ root element:
i) a \ element set to the unique subscription
identifier which is assigned to the subscription request;
ii) an \ element set to the accepted expiry time value; and
iii) if the VAL users whose location information is requested as present in
\ element is not fully acceptable to the SLM-S, the SLM-S may
change the VAL users to a subset and shall include an \ with
one or more \ child elements set to the identities of the new VAL
users;
g) shall send the HTTP 200 (OK) message towards the VAL server according to
IETF RFC 2616 [7];
h) shall start the timer TLM-1 (subscription expiry) and set the expiry time
of the timer to the expiry time for the subscription; and
i) shall start the timer TLM-2 (notification interval) timer and set the
internal time of the timer to the \ element value.
Upon receiving an HTTP POST request with an application/vnd.3gpp.seal-
location-info+xml MIME body containing \ element
along with \ element set to zero, the SLM-S:
a) shall delete all information related to subscription;
b) shall generate an HTTP 200 (OK) message according to IETF RFC 2616 [7]. In
the HTTP 200 (OK) message, the SLM-S shall include an
application/vnd.3gpp.seal-location-info+xml MIME body and in the \ root element;
1) shall include a \ element which shall include:
i) a \ element set to the unique subscription
identifier which is assigned to the subscription request;
d) shall send the HTTP 200 (OK) message towards the VAL server according to
IETF RFC 2616 [7];
e) shall stop TLM-1 (subscription expiry) timer if it is running; and
f) shall stop TLM-2 (notification interval) timer if it is running.
### 6.2.7 Event-triggered location information notification procedure
NOTE: The SLM-C will use the same identity which has been authenticated by VAL
service with SIP core using SIP based REGISTER message. If VAL service do not
support SIP protocol, then HTTP based method needs to be used.
#### 6.2.7.1 Client procedure
Upon receiving a SIP NOTIFY request containing an application/vnd.3gpp.seal-
location-info+xml MIME body with a \ element included in the
\ root element, or an HTTP POST request message containing:
a) a Content-Type header field set to \"application/vnd.3gpp.seal-location-
info+xml\"; and
b) an application/vnd.3gpp.seal-location-info+xml MIME body with a
\ element included in the \ root element;
the SLM-C:
a) shall store the received location information; and
b) may share the information to a group or to another VAL user or VAL UE.
#### 6.2.7.2 Server procedure
In order to nitify the subscriber about the location information report, the
SLM-S:
a) shall generate an application/vnd.3gpp.seal-location-info+xml MIME body
containing:
1) an \ element with a \ child element set to the
identity of the VAL user which subscribed to location of another VAL user or
VAL UE; and
2) a \ element which shall include:
i) an \ element with one or more \ child
elements set to the identities of the VAL users whose location information
needs to be notified;
ii) a \ element set to the value of each \ value of
the triggers that have been met; and
iii) a \ element containing one or more \ elements.
The \ shall include:
A) a \ element set to the identity of the VAL user whose location
information needs to be notified; and
B) the latest location information corresponding to the VAL user; and
b) if SLM-C supports SIP, shall send a SIP NOTIFY request according to 3GPP TS
24.229 [5] and IETF RFC 6665 [11] with the constructed
application/vnd.3gpp.seal-location-info+xml MIME body;
c) if SLM-C does not support SIP, shall send an HTTP POST request message to
the SLM-C according to procedures specified in IETF RFC 2616 [7] with the
constructed application/vnd.3gpp.seal-location-info+xml MIME body and an
Content-Type header field set to \"application/vnd.3gpp.seal-location-
info+xml\".
### 6.2.8 On-demand usage of location information procedure
#### 6.2.8.1 VAL server procedure
If the VAL server needs to request UE location information, the VAL server
shall send an HTTP POST request to the SLM-S according to procedures specified
in IETF RFC 2616 [7]. In the HTTP POST request message, the VAL server:
a) shall include a Request-URI set to the URI corresponding to the identity of
the SLM-S;
b) shall include an Accept header field set to \"application/vnd.3gpp.seal-
location-info+xml\";
c) shall include a Content-Type header field set to
\"application/vnd.3gpp.seal-location-info+xml\";
d) shall include an application/vnd.3gpp.seal-location-info+xml MIME body and
in the\ root element:
1) shall include an \ element with a \ child element
set to the identity of the VAL server which requests the location information;
and
2) shall include an \ element with one or more \
child elements set to the identities of the VAL users whose location
information is requested;
Upon receiving an HTTP 200 (OK) response from the SLM-S containing:
a) a Content-Type header field set to \"application/vnd.3gpp.seal-location-
info+xml\"; and
b) an application/vnd.3gpp.seal-location-info+xml MIME body with a \
element included in the \ root element;
the VAL server:
a) shall store the received location information; and
b) may share the information to a group or to another VAL user or VAL UE.
#### 6.2.8.2 Server procedure
Upon receiving an HTTP POST request containing:
a) an Accept header field set to \"application/vnd.3gpp.seal-location-
info+xml\";
b) a Content-Type header field set to \"application/vnd.3gpp.seal-location-
info+xml\";
c) an application/vnd.3gpp.seal-location-info+xml MIME body with an \ element included in the \ root element;
the SLM-S:
a) shall determine the identity of the sender of the received HTTP POST
request as specified in clause 6.2.1.1; and
1) if the identity of the sender of the received HTTP POST request is not
authorized to obtain location information of another VAL user, shall respond
with a HTTP 403 (Forbidden) response to the HTTP POST request and shall skip
rest of the steps; and
b) shall support handling an HTTP POST request from a SLM-C according to
procedures specified in IETF RFC 4825 [9] \"POST Handling\";
c) shall generate an HTTP 200 (OK) response according to IETF RFC 2616 [7]. In
the HTTP 200 (OK) response message, the SLM-S:
1) shall include a Content-Type header field set to
\"application/vnd.3gpp.seal-location-info+xml\";
2) shall include an application/vnd.3gpp.seal-location-info+xml MIME body and
in the \ root element:
i) shall include an \ element with a \ child element
set to the identity of the VAL user for location reporting configuration;
ii) an \ element with one or more \ child
elements set to the identities of the VAL users whose location information is
requested;
iii) a \ element containing one or more \ elements.
The \ contains a \ element set to the identity
of the VAL user in the requested-identity-list and the latest location
information corresponding to the VAL user; and
d) shall send an HTTP 200 (OK) response towards the VAL server.
### 6.2.9 Query list of users based on location
#### 6.2.9.1 Client procedure
The procedure defined in this clause can be used by SEAL server to query list
of users based on given geolocation area.
In order to query the list of users based on given geolocation area, the
client shall send an HTTP POST request message according to procedures
specified in IETF RFC 2616 [7]. In the HTTP POST request message, the SLM-C:
a) shall set the Request-URI to the URI corresponding to the identity of the
SEAL server;
b) shall include a Content-Type header field set to
\"application/vnd.3gpp.seal-location-info+xml\"; and
c) shall include an application/vnd.3gpp.seal-location-info+xml MIME body and
in the \ root element:
1) shall include an \ element with a \ child element
set to the identity of the SEAL server querying list of users; and
2) shall include an \ element with a \
child element or an \ child element.
#### 6.2.9.2 Server procedure
Upon reception of an HTTP POST request containing:
a) a Content-Type header field set to \"application/vnd.3gpp.seal-location-
info+xml\"; and
b) an application/vnd.3gpp.seal-location-info+xml MIME body with a \ element included in the \ root element;
the SLM-S:
a) shall authorize the identity of the sender of the received HTTP POST
request; and
1) if the identity of the sender of the received HTTP POST request is not
authorized to obtain list of users based on given geolocation area, shall
respond with a HTTP 403 (Forbidden) response to the HTTP POST request and
shall skip rest of the steps;
b) shall generate the list of users who are currently available in requested
geographical area; and
c) shall send an HTTP 200 (OK) response message to SLM-C. In the HTTP 200 (OK)
response message, the SLM-S:
1) shall generate an application/vnd.3gpp.seal-location-info+xml MIME body
containing:
i) an \ element with a \ child element set to the
identity of the SEAL server querying list of users; and
ii) a \ element which shall include:
A) an \ element with one or more \ child
elements set to the identities of the VAL users to be queried;
## 6.3 Off-network procedures
The off-network procedures are out of scope of the present document in this
release of the specification.
# 7 Coding
## 7.1 General
This clause specifies the coding to enable an SLM-C and an SLM-S to
communicate.
## 7.2 Application unique ID
The AUID shall be set to the VAL service ID as specified in specific VAL
service specification.
## 7.3 Structure
The location management document shall conform to the XML schema described in
clause 7.4.
The \ element shall be the root element of the
SEALLocationManagement document.
The \ element shall include at least one of the following:
a) an \ element;
b) a \ element;
c) a \ element;
d) a \ element;
e) a \ element;
f) a \ element;
g) a \ element;
h) a \ element;
i) a \ element; or
j) a \ element.
The \ element shall include one of the following:
a) a \ element may include a \ element; or
b) a \ element.
The \ element shall include:
a) an \ element which shall include:
1) one or more \ elements; and
b) a \ element;
c) a \ element;
d) an \ element;
The \ element shall include:
a) an \ element which shall include:
1) one or more \ elements;
b) a \ element; and
c) a \ element containing one or more \ elements.
The \ element shall include:
1) a \ element;
2) a \ element, which shall include at least one of the
following sub-elements:
i) a \ element;
ii) a \ element;
iii) an \ element;
iv) an \ element; or
v) a \ element;
The \ element shall contain a \ attribute. The \
shall include:
a) a \ element; and
b) a \ element which shall include at least one of the
following:
1) a \ element;
2) a \ element;
3) a \ element; or
4) a \ element.
The \ element includes:
a) a \ element including:
1) a \ element;
2) a \ element;
3) an \ element;
4) an \ element; or
5) a \ element;
b) a \ element shall include at least one of the
following sub-elements:
1) a \ element shall include one of the following sub-elements:
i) an \ element shall include a \ element;
ii) an \ element shall include a \ element;
and
iii) an \ element include a \ element;
2) a \ element shall include one of the following sub-
elements:
i) an \ element shall include a \
element;
ii) an \ element shall include a \
element; and
iii) an \ element shall include a \
element;
3) a \ element shall include one of the following sub-elements:
i) an \ element shall include a \ element;
ii) an \element shall include a \ element;
and
iii) an \ element shall include a \ element;
4) an \ element shall include one of the following sub-
elements:
i) an \ element shall include a \ element;
ii) an \ element shall include a \
element; and
iii) an \ element shall include a \
element;
5) an \ element shall include one of the following sub-
elements:
i) an \ element shall include a \ element;
ii) an \ element shall include a \
element; and
iii) an \ element shall include a \
element;
6) a \ element shall include a \ element;
7) a \ element shall include a \ element;
8) a \ element shall include one of the following
sub-elements:
i) an \ element shall include a \ element;
ii) a \ element shall include a \
element; and
iii) an \, an optional element specifying that any other
application signalling event than initial-log-on and location-configuration-
received triggers a request for a location report. This element contains a
mandatory \ attribute that shall be set to a unique string;
9) a \ element shall include one of the following
sub-elements:
i) an \ element shall include a \ element;
ii) an \ element shall include the following sub-element:
A) a \ element shall include the following two sub-
elements:
I) a \ element shall include a \ element; and
II) an \ element shall include a \ element;
iii) an \ element shall include a \
element;
c) a \ element;
The \ shall contain a \ attribute.
The \ element shall include one of the following sub-
elements:
a) a \ element may include a \ element; or
b) a \ element.
The \ element shall include at least one of the following sub-
elements:
a) an \ element;
b) a \ element which shall include at least one of the
following sub-elements:
1) a \ element;
2) a \ element;
3) an \ element; or
4) a \ element;
c) a \ element shall include at least one of the
following sub-elements:
1) a \ element shall include one of the following sub-elements:
i) an \ element shall include a \ element;
ii) a \ element shall include a \ element;
and
iii) an \ element include a \ element;
2) a \ element shall include one of the following sub-
elements:
i) an \ element shall include a \
element;
ii) an \ element shall include a \
element; and
iii) an \ element shall include a \
element;
3) a \ element shall include one of the following sub-elements:
i) an \ element shall include a \ element;
ii) an \element shall include a \ element;
and
iii) an \ element shall include a \ element;
4) an \ element shall include one of the following sub-
elements:
i) an \ element shall include a \ element;
ii) an \ element shall include a \
element; and
iii) an \ element shall include a \
element;
5) an \ element shall include one of the following sub-
elements:
i) an \ element shall include a \ element;
ii) an \ element shall include a \
element; and
iii) an \ element shall include a \
element;
6) a \ element shall include a \ element;
7) a \ element shall include a \ element;
8) a \ element shall include one of the following
sub-elements:
i) an \ element shall include a \ element;
ii) a \ element shall include a \
element; and
iii) an \, an optional element specifying that any other
application signalling event than initial-log-on and location-configuration-
received triggers a request for a location report. This element contains a
mandatory \ attribute that shall be set to a unique string;
9) a \ element shall include one of the following
sub-elements:
i) an \ element shall include a \ element;
ii) an \ element shall include the following sub-element:
A) a \ element shall include the following two sub-
elements:
I) a \ element shall include a \ element; and
II) an \ element shall include a \ element;
iii) an \ element shall include a \
element;
d) a \ element; and
e) an \ element.
The \ element shall include at least one of the
following:
a) a \ element; or
b) an \ element.
The \ element may include:
a) an \ element which shall include:
1) one or more \ elements;
## 7.4 XML schema
### 7.4.1 General
This clause defines the XML schema for location information.
### 7.4.2 XML schema
\
\
\
\
\
\Root element, contains all information related to location
configuration, location request and location reporting for the SEAL
service\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\ \
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
## 7.5 Data semantics
The \ element is the root element of the XML document. The
\ element contains the \, \,
\, \ and \ sub-elements.
\ is a mandatory element used to include the identity of a VAL user,
a VAL client or a VAL group. The \ element contains one of following
sub-elements:
a) \, an element contains the identity of the VAL user. This
element contains an optional \ attribute that contains the
identity of the VAL client; or
b) \, an element contains the group identity of a set of VAL
users or VAL clients according to the VAL service.
\ contains the following sub-elements:
a) \, an element contains one or more \
elements. Each \ element contains the identity of the VAL user
whose location information is requested.
b) \, an element specifying the interval time the SLM-S
needs to wait before sending location reports. The value is given in seconds.
c) \, an element specifying the value to uniquely
identify the subscription.
d) \, an element specifying expiry time for subscription in
seconds.
\ contains the following sub-elements:
a) \, an element contains one or more \
elements. Each \ element contains the identity of the VAL user
whose location information needs to be notified.
b) \, an element which can occur multiple times that contains the
value of the \ attribute associated with a trigger that has fired;
and
c) \, an element contains one or more \ elements.
Each \ element contains the following sub-elements:
1) \, an element contains the identity of a VAL user in the
identities list;
2) \, an element contains at least one of the following sub-
elements:
i) \, an optional element containing the NR cell global
identity (NCGI) of the serving cell coded as specified in clause 19.6A in 3GPP
TS 23.003 [2];
ii) \, an optional element that can occur multiple times.
It contains the NCGI of any neighbouring cell the SLM-C can detect;
iii) \, an optional element containing the MBMS service
area id the SLM-C is using coded as specified in clause 15.3 in 3GPP TS 23.003
[2] for service area identifier (SAI);
iv) \ element, an optional element specifying that the MBSFN area
Id needs to be reported; and
v) \, an optional element containing the longitude and
latitude coded as specified in clause 6.1 in 3GPP TS 23.032 [3];
\ is a mandatory element used to include the location report. It
contains a \ attribute. The \ attribute is used to
return the value in the \ attribute in the \ element. The
\ element contains the following sub-elements:
a) \, a mandatory element which can occur multiple times that
contain the value of the \ attribute associated with a trigger
that has fired; and
b) \, a mandatory element that contains the location
information. The \ element contains the following sub-
elements:
1) \, an optional element containing the NR cell global
identity (NCGI) of the serving cell coded as specified in clause 19.6A in 3GPP
TS 23.003 [2];
2) \, an optional element that can occur multiple times. It
contains the NCGI of any neighbouring cell the SLM-C can detect;
3) \, an optional element containing the MBMS service
area id the SLM-C is using coded as specified in clause 15.3 in 3GPP TS 23.003
[2] for service area identifier (SAI); and
4) \, an optional element containing the longitude and
latitude coded as specified in clause 6.1 in 3GPP TS 23.032 [3].
\ is an element with a \ attribute. The \
element is used to request a location report. The value of the \
attribute is returned in the corresponding \ attribute in order to
correlate the request and the report.
\ is a mandatory element used to include the identity of a
VAL user, a VAL client or a VAL group for which a location report is
requested. The \ element contains one of following sub-
elements:
a) \, an element contains the identity of the VAL user. This
element contains an optional \ attribute that contains the
identity of the VAL client; or
b) \, an element contains the group identity of a set of VAL
users or VAL clients according to the VAL service.
\ is an element with a \ attribute that
can have the value \"Full\" or \"Update\" . The value \"Full\" means that the
\ element contains the full location configuration which
replaces any previous location configuration. The value \"Update\" means that
the location configuration is an addition to any previous location
configuration. To remove configuration elements a \"Full\" configuration is
needed. The \ element contains the following sub-elements:
a) \, an optional element that specifies the location
information. The \ has the sub-elements:
1) \, an optional element containing the NR cell global identity
(NCGI) of the serving cell coded as specified in clause 19.6A in 3GPP TS
23.003 [2];
2) \, an optional element that can occur multiple times. It
contains the NCGI of any neighbouring cell the SLM-C can detect;
3) \, an optional element containing the MBMS service
area id that the SLM-C is using. The MBMS service area id is coded as
specified in clause 15.3 in 3GPP TS 23.003 [2] for service area identifier
(SAI);
4) \, an optional element specifying that the MBSFN area id
that needs to be reported;
5) \, an optional element containing the
longitude and latitude coded as specified in clause 6.1 in 3GPP TS 23.032 [3];
and
b) \, an optional element specifying the triggers for the
SLM-C to request a location report of a VAL user, a VAL client or a VAL group.
The \ element contains at least one of the following sub-
elements:
1) \, an optional element specifying what cell changes trigger
the request for a location report. This element consists of the following sub-
elements:
i) \, an optional element. The presence of this element
specifies that any cell change is a trigger. This element contains a mandatory
\ attribute that shall be set to a unique string;
ii) \, an optional element specifying an NCGI which when
entered triggers a request for alocation report coded as specified in clause
19.6A in 3GPP TS 23.003 [2]. This element contains a mandatory \
attribute that shall be set to a unique string; and
iii) \, an optional element specifying an NCGI which when
exited triggers a request for a location report coded as specified in clause
19.6A in 3GPP TS 23.003 [2]. This element contains a mandatory \
attribute that shall be set to a unique string;
2) \, an optional element specifying what tracking area
changes trigger a request for a location report. This element consists of the
following sub-elements:
i) \, an optional element. The presence of this
element specifies that any tracking area change is a trigger. This element
contains a mandatory \ attribute that shall be set to a unique
string;
ii) \, an optional element specifying a tracking
area identity coded as specified in clause 19.4.2.3 in 3GPP TS 23.003 [2]
which when entered triggers a request for a location report. This element
contains a mandatory \ attribute that shall be set to a unique
string; and
iii) \, an optional element specifying a tracking
area identity coded as specified in clause 19.4.2.3 in 3GPP TS 23.003 [2]
which when exited triggers a request for alocation report. This element
contains a mandatory \ attribute that shall be set to a unique
string;
3) \, an optional element specifying what PLMN changes trigger a
request for a location report. This element consists of the following sub-
elements:
i) \, an optional element. The presence of this element
specifies that any PLMN change is a trigger. This element contains a mandatory
\ attribute that shall be set to a unique string;
ii) \, an optional element specifying a PLMN id (MCC+MNC)
coded as specified in 3GPP TS 23.003 [2] which when entered triggers a request
for a location report. This element contains a mandatory \
attribute that shall be set to a unique string; and
iii) \, an optional element specifying a PLMN id (MCC+MNC)
coded as specified in 3GPP TS 23.003 [2] which when exited triggers a location
report. This element contains a mandatory \ attribute that shall
be set to a unique string;
4) \, an optional element specifying what MBMS changes trigger
location reporting. This element consists of the following sub-elements:
i) \, an optional element. The presence of this element
specifies that any MBMS SA change is a trigger for a request for a location
report. This element contains a mandatory \ attribute that shall
be set to a unique string;
ii) \, an optional element specifying an MBMS service
area id which when entered triggers a request for a location report. The MBMS
service area id is coded as specified in clause 15.3 in 3GPP TS 23.003 [2] for
service area identifier (SAI). This element contains a mandatory \
attribute that shall be set to a unique string; and
iii) \, an optional element specifying an MBMS service
area id which when exited triggers a request a location report. The MBMS
service area id is coded as specified in clause 15.3 in 3GPP TS 23.003 [2] for
service area identifier (SAI). This element contains a mandatory \
attribute that shall be set to a unique string;
5) \, an optional element specifying what MBSFN changes
trigger a request for a location report. This element consists of the
following sub-elements:
i) \, an optional element. The presence of this element
specifies that any MBSFN area change is a trigger for a request for a location
report. This element contains a mandatory \ attribute that shall
be set to a unique string;
ii) \, an optional element specifying an MBSFN area
which when entered triggers a request for a location report. This element
contains a mandatory \ attribute that shall be set to a unique
string; and
iii) \, an optional element specifying an MBSFN area
which when exited triggers a request for a location report. This element
contains a mandatory \ attribute that shall be set to a unique
string;
6) \, an optional element specifying that periodic request
for a location report shall be sent. The value in seconds specifies the
reporting interval. This element contains a mandatory \ attribute
that shall be set to a unique string;
7) \, an optional element specifying that the travelled
distance shall trigger a request for a location report. The value in metres
specified the travelled distance. This element contains a mandatory \ attribute that shall be set to a unique string;
8) \, an optional element specifying what
application signalling events triggers a request for a location report. The
\ element has the following sub-elements:
i) \, an optional element specifying that an initial log on
triggers a request for a location report. This element contains a mandatory
\ attribute that shall be set to a unique string;
ii) \, an optional element specifying that a
received location configuration triggers a request for a location report. This
element contains a mandatory \ attribute that shall be set to a
unique string; and
iii) \, an optional element specifying that any other
application signalling event than initial-log-on and location-configuration-
received triggers a request for a location report. This element contains a
mandatory \ attribute that shall be set to a unique string;
9) \, an optional element specifying what
geographical are changes trigger a request for a location reporting. This
element consists of the following sub-elements:
i) \, an optional element. The presence of this element
specifies that any geographical area change is a trigger. This element
contains a mandatory \ attribute that shall be set to a unique
string;
ii) \, an optional element specifying a geographical area
which when entered triggers a location report. This element contains a
mandatory \ attribute that shall be set to a unique string. The
\ element has the following sub-elements:
A) \, an optional element containing a \
attribute and the following two subelements:
I) \, an optional element specifying the area as a polygon
specified in clause 5.2 in 3GPP TS 23.032 [2]; and
II) \, an optional element specifying the area as an
ellipsoid arc specified in clause 5.7 in 3GPP TS 23.032 [2]; and
iii) \, an optional element specifying a geographical
area which when exited triggers a request for a location report. This element
contains a mandatory \ attribute that shall be set to a unique
string.
c) \, a mandatory element specifying the minimum time
the SLM-C needs to wait between sending location reports. The value is given
in seconds;
\ is a mandatory element used to include the requested
location report. The \ element contains at least one of the
following sub-elements:
a) \, presence of the element indicates that an
immediate location report is required;
b) \, an optional element that contains the location
information. The \ element contains the following sub-
elements:
1) \, an optional element containing the NR cell global
identity (NCGI) of the serving cell coded as specified in clause 19.6A in 3GPP
TS 23.003 [2];
2) \, an optional element that can occur multiple times. It
contains the NCGI of any neighbouring cell the SLM-C can detect;
3) \, an optional element containing the MBMS service
area id that the SLM-C is using. The MBMS service area id is coded as
specified in clause 15.3 in 3GPP TS 23.003 [2] for service area identifier
(SAI); and
4) \, an optional element containing the longitude and
latitude coded as specified in clause 6.1 in 3GPP TS 23.032 [3].
c) \, a mandatory element specifying the triggers for the
SLM-C to request a location report of a VAL user, a VAL client or a VAL group.
The \ element contains at least one of the following sub-
elements:
1) \, an optional element specifying what cell changes trigger
the request for a location report. This element consists of the following sub-
elements:
i) \, an optional element. The presence of this element
specifies that any cell change is a trigger. This element contains a mandatory
\ attribute that shall be set to a unique string;
ii) \, an optional element specifying an NCGI which when
entered triggers a request for alocation report coded as specified in clause
19.6A in 3GPP TS 23.003 [2]. This element contains a mandatory \
attribute that shall be set to a unique string; and
iii) \, an optional element specifying an NCGI which when
exited triggers a request for a location report coded as specified in clause
19.6A in 3GPP TS 23.003 [2]. This element contains a mandatory \
attribute that shall be set to a unique string;
2) \, an optional element specifying what tracking area
changes trigger a request for a location report. This element consists of the
following sub-elements:
i) \, an optional element. The presence of this
element specifies that any tracking area change is a trigger. This element
contains a mandatory \ attribute that shall be set to a unique
string;
ii) \, an optional element specifying a tracking
area identity coded as specified in clause 19.4.2.3 in 3GPP TS 23.003 [2]
which when entered triggers a request for a location report. This element
contains a mandatory \ attribute that shall be set to a unique
string; and
iii) \, an optional element specifying a tracking
area identity coded as specified in clause 19.4.2.3 in 3GPP TS 23.003 [2]
which when exited triggers a request for alocation report. This element
contains a mandatory \ attribute that shall be set to a unique
string;
3) \, an optional element specifying what PLMN changes trigger a
request for a location report. This element consists of the following sub-
elements:
i) \, an optional element. The presence of this element
specifies that any PLMN change is a trigger. This element contains a mandatory
\ attribute that shall be set to a unique string;
ii) \, an optional element specifying a PLMN id (MCC+MNC)
coded as specified in 3GPP TS 23.003 [2] which when entered triggers a request
for a location report. This element contains a mandatory \
attribute that shall be set to a unique string; and
iii) \, an optional element specifying a PLMN id (MCC+MNC)
coded as specified in 3GPP TS 23.003 [2] which when exited triggers a location
report. This element contains a mandatory \ attribute that shall
be set to a unique string;
4) \, an optional element specifying what MBMS changes trigger
location reporting. This element consists of the following sub-elements:
i) \, an optional element. The presence of this element
specifies that any MBMS SA change is a trigger for a request for a location
report. This element contains a mandatory \ attribute that shall
be set to a unique string;
ii) \, an optional element specifying an MBMS service
area id which when entered triggers a request for a location report. The MBMS
service area id is coded as specified in clause 15.3 in 3GPP TS 23.003 [2] for
service area identifier (SAI). This element contains a mandatory \
attribute that shall be set to a unique string; and
iii) \, an optional element specifying an MBMS service
area id which when exited triggers a request a location report. The MBMS
service area id is coded as specified in clause 15.3 in 3GPP TS 23.003 [2] for
service area identifier (SAI). This element contains a mandatory \
attribute that shall be set to a unique string;
5) \, an optional element specifying what MBSFN changes
trigger a request for a location report. This element consists of the
following sub-elements:
i) \, an optional element. The presence of this element
specifies that any MBSFN area change is a trigger for a request for a location
report. This element contains a mandatory \ attribute that shall
be set to a unique string;
ii) \, an optional element specifying an MBSFN area
which when entered triggers a request for a location report. This element
contains a mandatory \ attribute that shall be set to a unique
string; and
iii) \, an optional element specifying an MBSFN area
which when exited triggers a request for a location report. This element
contains a mandatory \ attribute that shall be set to a unique
string;
6) \, an optional element specifying that periodic request
for a location report shall be sent. The value in seconds specifies the
reporting interval. This element contains a mandatory \ attribute
that shall be set to a unique string;
7) \, an optional element specifying that the travelled
distance shall trigger a request for a location report. The value in metres
specified the travelled distance. This element contains a mandatory \ attribute that shall be set to a unique string;
8) \, an optional element specifying what
application signalling events triggers a request for a location report. The
\ element has the following sub-elements:
i) \, an optional element specifying that an initial log on
triggers a request for a location report. This element contains a mandatory
\ attribute that shall be set to a unique string;
ii) \, an optional element specifying that a
received location configuration triggers a request for a location report. This
element contains a mandatory \ attribute that shall be set to a
unique string; and
iii) \, an optional element specifying that any other
application signalling event than initial-log-on and location-configuration-
received triggers a request for a location report. This element contains a
mandatory \ attribute that shall be set to a unique string;
9) \, an optional element specifying what
geographical are changes trigger a request for a location reporting. This
element consists of the following sub-elements:
i) \, an optional element. The presence of this element
specifies that any geographical area change is a trigger. This element
contains a mandatory \ attribute that shall be set to a unique
string;
ii) \, an optional element specifying a geographical area
which when entered triggers a location report. This element contains a
mandatory \ attribute that shall be set to a unique string. The
\ element has the following sub-elements:
A) \, an optional element containing a \
attribute and the following two subelements:
I) \, an optional element specifying the area as a polygon
specified in clause 5.2 in 3GPP TS 23.032 [3]; and
II) \, an optional element specifying the area as an
ellipsoid arc specified in clause 5.7 in 3GPP TS 23.032 [3]; and
iii) \, an optional element specifying a geographical
area which when exited triggers a request for a location report. This element
contains a mandatory \ attribute that shall be set to a unique
string;
d) \, an optional element that defaults to 0 if
absent otherwise indicates the interval time between consecutive reports. The
value is given in seconds.
e) \, an optional element specifying information of the
endpoint of the requesting VAL server to which the location report
notification has to be sent. It is provided if Immediate Report Indicator is
set to required.
\ contains at least one of the following sub-elements:
a) \, an optional element specifying the area as a polygon
specified in clause 5.2 in 3GPP TS 23.032 [3]; and
b) \, an optional element specifying the area as an
Ellipsoid Arc specified in clause 5.7 in 3GPP TS 23.032 [3].
\ contains the following sub-elements:
a) \, an optional element contains one or more \
elements. Each \ element contains the identity of the VAL user to
be queried.
The recipient of the XML ignores any unknown element and any unknown
attribute.
## 7.6 MIME type
The MIME type for the LocationInfo document shall be
\"application/vnd.3gpp.seal-location-info+xml\".
## 7.7 IANA registration template
Your Name:
\
Your Email Address:
\
Media Type Name:
Application
Subtype name:
vnd.3gpp.seal-location-info+xml
Required parameters:
None
Optional parameters:
\"charset\" the parameter has identical semantics to the charset parameter of
the \"application/xml\" media type as specified in clause 9.1 of IETF RFC
7303.
Encoding considerations:
binary.
Security considerations:
Same as general security considerations for application/xml media type as
specified in clause 9.1 of IETF RFC 7303. In addition, this media type
provides a format for exchanging information in SIP, so the security
considerations from IETF RFC 3261 apply.
The information transported in this media type does not include active or
executable content.
Mechanisms for privacy and integrity protection of protocol parameters exist.
Those mechanisms as well as authentication and further security mechanisms are
described in 3GPP TS 24.229.
This media type does not include provisions for directives that institute
actions on a recipient\'s files or other resources.
This media type does not include provisions for directives that institute
actions that, while not directly harmful to the recipient, may result in
disclosure of information that either facilitates a subsequent attack or else
violates a recipient\'s privacy in any way.
This media type does not employ compression.
Interoperability considerations:
Same as general interoperability considerations for application/xml media type
as specified in clause 9.1 of IETF RFC 7303. Any unknown XML elements and any
unknown XML attributes are to be ignored by recipient of the MIME body.
Published specification:
3GPP TS 24.545 \"Location Management - Service Enabler Architecture Layer for
Verticals (SEAL)\" version 16.0.0, available via
http://www.3gpp.org/specs/numbering.htm.
Applications which use this media type:
Applications supporting the SEAL location management as described in the
published specification.
Fragment identifier considerations:
The handling in clause 5 of IETF RFC 7303 applies.
Restrictions on usage:
None
Provisional registration? (standards tree only):
N/A
Additional information:
1\. Deprecated alias names for this type: none
2\. Magic number(s): none
3\. File extension(s): none
4\. Macintosh File Type Code(s): none
5\. Object Identifier(s) or OID(s): none
Intended usage:
Common
Person to contact for further information:
\- Name: \
\- Email: \
\- Author/Change controller:
i) Author: 3GPP CT1 Working Group/3GPP_TSG_CT_WG1\@LIST.ETSI.ORG
ii) Change controller: \/\
###### ## Annex A (normative): Timers
# A.1 General
This clause provides a brief description of the timers used in this
specification.
# A.2 On network timers
The table A.2-1 provides a description of the timers used in this
specification, specifies the timer values, describes the reason for starting
of the timer, normal stop and the action on expiry.
Table A.2-1: On network timers
Timer Timer value Cause of start Normal stop On expiry
* * *
TLM-1 (subscription expiry) The timer value is negotiated between SLM-C and
SLM-S while creating or modifying subscription. The SLM-S starts the timer
upon sending response to create subscription request message towards SLM-C; On
sending response to delete subscription request message towards SLM-C;
Consider that the subscription associated with the timer is terminated and
shall delete all data related to the subscription. TLM-2 (notification
interval) The timer value is set by user in create subscription request
message in \element. The SLM-S starts timer each time
after sending location information notification. On sending response to delete
subscription request message towards SLM-C; If any location information data
is pending to be notified then the SLM-S sends the notification.
#