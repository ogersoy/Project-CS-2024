# Foreword
This Technical Specification has been produced by the 3rd Generation
Partnership Project (3GPP).
The contents of the present document are subject to continuing work within the
TSG and may change following formal TSG approval. Should the TSG modify the
contents of the present document, it will be re-released by the TSG with an
identifying change of release date and an increase in version number as
follows:
Version x.y.z
where:
x the first digit:
1 presented to TSG for information;
2 presented to TSG for approval;
3 or greater indicates TSG approved document under change control.
y the second digit is incremented for all changes of substance, i.e. technical
enhancements, corrections, updates, etc.
z the third digit is incremented when editorial only changes have been
incorporated in the document.
In the present document, modal verbs have the following meanings:
**shall** indicates a mandatory requirement to do something
**shall not** indicates an interdiction (prohibition) to do something
The constructions \"shall\" and \"shall not\" are confined to the context of
normative provisions, and do not appear in Technical Reports.
The constructions \"must\" and \"must not\" are not used as substitutes for
\"shall\" and \"shall not\". Their use is avoided insofar as possible, and
they are not used in a normative context except in a direct citation from an
external, referenced, non-3GPP document, or so as to maintain continuity of
style when extending or modifying the provisions of such a referenced
document.
**should** indicates a recommendation to do something
**should not** indicates a recommendation not to do something
**may** indicates permission to do something
**need not** indicates permission not to do something
The construction \"may not\" is ambiguous and is not used in normative
elements. The unambiguous constructions \"might not\" or \"shall not\" are
used instead, depending upon the meaning intended.
**can** indicates that something is possible
**cannot** indicates that something is impossible
The constructions \"can\" and \"cannot\" are not substitutes for \"may\" and
\"need not\".
**will** indicates that something is certain or expected to happen as a result
of action taken by an agency the behaviour of which is outside the scope of
the present document
**will not** indicates that something is certain or expected not to happen as
a result of action taken by an agency the behaviour of which is outside the
scope of the present document
**might** indicates a likelihood that something will happen as a result of
action taken by some agency the behaviour of which is outside the scope of the
present document
**might not** indicates a likelihood that something will not happen as a
result of action taken by some agency the behaviour of which is outside the
scope of the present document
In addition:
**is** (or any other verb in the indicative mood) indicates a statement of
fact
**is not** (or any other negative verb in the indicative mood) indicates a
statement of fact
The constructions \"is\" and \"is not\" do not indicate requirements.
# 1 Scope
The present document specifies the protocol aspects for the network resource
management capability of SEAL to support vertical applications (e.g. V2X) over
the 3GPP system.
The present document is applicable to the user equipment (UE) supporting the
network resource management client functionality as described in 3GPP TS
23.434 [2], to the application server supporting the network resource
management server functionality as described in 3GPP TS 23.434 [2] and to the
application server supporting the vertical application server (VAL server)
functionality as defined in the specific vertical application service (VAL
service) specifications.
NOTE: The specification of the VAL server for a specific VAL service is out of
scope of present document.
# 2 References {#references-1}
The following documents contain provisions which, through reference in this
text, constitute provisions of the present document.
\- References are either specific (identified by date of publication, edition
number, version number, etc.) or nonâ€‘specific.
\- For a specific reference, subsequent revisions do not apply.
\- For a non-specific reference, the latest version applies. In the case of a
reference to a 3GPP document (including a GSM document), a non-specific
reference implicitly refers to the latest version of that document in the same
Release as the present document.
[1] 3GPP TR 21.905: \"Vocabulary for 3GPP Specifications\".
[2] 3GPP TS 23.434: \"Service Enabler Architecture Layer for Verticals (SEAL);
Functional architecture and information flows\".
[3] 3GPP TS 23.003: \"Numbering, addressing and identification\".
[4] 3GPP TS 23.203: \"Policy and charging control architecture\".
[5] 3GPP TS 24.008: \"Mobile Radio Interface Layer 3 specification; Core
Network Protocols; Stage 3\".
[6] 3GPP TS 24.229: \"IP multimedia call control protocol based on Session
Initiation Protocol (SIP) and Session Description Protocol (SDP); Stage 3\".
[7] 3GPP TS 24.486: \"Vehicle-to-Everything (V2X) Application Enabler (VAE)
layer; Protocol aspects; Stage 3\".
[8] 3GPP TS 24.545: \"Location Management - Service Enabler Architecture Layer
for Verticals (SEAL); Protocol specification\".
[9] 3GPP TS 24.547: \"Identity management - Service Enabler Architecture Layer
for Verticals (SEAL); Protocol specification\".
[10] 3GPP TS 26.346: \"Multimedia Broadcast/Multicast Service (MBMS);
Protocols and codecs\".
[11] 3GPP TS 29.061: \"Interworking between the Public Land Mobile Network
(PLMN) supporting packet based services and Packet Data Networks (PDN)\".
**[12] 3GPP TS 29.214: \"Policy and Charging Control over Rx reference
point\".**
[13] 3GPP TS 29.468: \"Group Communication System Enablers for LTE (GCSE_LTE);
MB2 reference point; Stage 3\".
[14] 3GPP TS 29.514: \"5G System; Policy Authorization Service; Stage 3\".
[15] IETF RFC 2616: \"Hypertext Transfer Protocol -- HTTP/1.1\".
[16] IETF RFC 3095: \"RObust Header Compression (ROHC): Framework and four
profiles: RTP, UDP, ESP, and uncompressed\".
[17] IETF RFC 3428: \"Session Initiation Protocol (SIP) Extension for Instant
Messaging\".
[18] IETF RFC 3841: \"Caller Preferences for the Session Initiation Protocol
(SIP)\".
[19] IETF RFC 4825: \"The Extensible Markup Language (XML) Configuration
Access Protocol (XCAP)\".
[20] IETF RFC 5795: \"The Robust Header Compression (ROHC) Framework\".
[21] OMA OMA-TS-XDM_Core-V2_1-20120403-A: \"XML Document Management (XDM)
Specification\"
# 3 Definitions of terms and abbreviations
## 3.1 Terms
For the purposes of the present document, the terms given in 3GPP TR 21.905
[1] and the following apply. A term defined in the present document takes
precedence over the definition of the same term, if any, in 3GPP TR 21.905
[1].
**SEAL network resource management client** : An entity that provides the
client side functionalities corresponding to the SEAL network resource
management service.
**SEAL network resource management server** : An entity that provides the
server side functionalities corresponding to the SEAL network resource
management service.
For the purposes of the present document, the following terms and definitions
given in 3GPP TS 23.434 [2] apply:
**SEAL client**
**SEAL server**
**SEAL service**
**VAL server**
**VAL service**
**VAL user**
**Vertical**
**Vertical application**
## 3.2 Abbreviations
For the purposes of the present document, the abbreviations given in 3GPP TR
21.905 [1] and the following apply. An abbreviation defined in the present
document takes precedence over the definition of the same abbreviation, if
any, in 3GPP TR 21.905 [1].
BM-SC Broadcast-Multicast Service Centre
SNRM-C SEAL Network Resource Management Client
SNRM-S SEAL Network Resource Management Server
PCF Policy Control Function
SEAL Service Enabler Architecture Layer for verticals
VAL Vertical Application Layer
# 4 General description
Network resource management is a SEAL service that provides the network
resource management related capabilities (e.g. unicast and multicast network
resources) to one or more vertical applications. The present document enables
a SEAL network resource management client (SNRM-C) and a VAL server that
communicate with a SEAL network resource management server (SNRM-S).
The SNRM-S obtains and controls multicast resources from the underlying 3GPP
network system via the BM-SC and controls unicast resources from the
underlying 3GPP network system via the PCRF/PCF.
# 5 Functional entities
## 5.1 SEAL network resource management client (SNRM-C)
The SNRM-C functional entity acts as the application client for network
resource management related transactions. To be compliant with the procedures
in the present document the SNRM-C:
a) shall support the role of XCAP client as specified in IETF RFC 4825 [19];
b) shall support the role of XDMC as specified in OMA OMA-TS-XDM_Core-V2_1
[21]; and
c) shall support the multicast resource management procedures in clause 6.2.3.
## 5.2 SEAL network resource management SEAL server (SNRM-S)
The SNRM-S is a functional entity used to provide resource management of 3GPP
system network resources (e.g. unicast, multicast) to one or more vertical
applications. To be compliant with the procedures in the present document the
SNRM-S shall:
a) shall support the role of XCAP server as specified in IETF RFC 4825 [19];
b) shall support the role of XDMS as specified in OMA OMA-TS-XDM_Core-V2_1
[21];
c) shall support the unicast resource management procedures in clause 6.2.2;
and
d) shall support the multicast resource management procedures in clause 6.2.3.
# 6 Network resource management procedures
## 6.1 General
## 6.2 On-network procedures
### 6.2.1 General
#### 6.2.1.1 Authenticated identity in HTTP request
Upon receiving an HTTP request, the SNRM-S shall authenticate the identity of
the sender of the HTTP request is authorized as specified in 3GPP TS 24.547
[9], and if authentication is successful, the SNRM-S shall use the identity of
the sender of the HTTP request as an authenticated identity.
### 6.2.2 Unicast resource management
#### 6.2.2.1 General
This clause describes the procedures used for unicast resource management. The
unicast resource management comprises procedures for:
a) activation and deactivation of bearers;
b) modification of the QoS characteristics of a bearer; and
c) modification of GBR due to application requirement.
The VAL client can request the VAL server to provide unicast resources (see
clause 6.2.2.2), to modify or to release unicast resources (see clause
6.2.2.3) or to perform network resource adaptation (see clause 6.2.2.4).
NOTE: A VAL service communication can consist of both unicast and multicast
bearers which can all need modification due to the same event.
VAL specific pre-requisites and resultant behaviour by functional entities in
performing the unicast resource management procedures are specified in the
respective VAL TS (e.g. for V2X application layer, see 3GPP TS 24.486 [7]).
Unicast resource management is supported with PCRF interactions with SIP core
and PCC interactions with the SNRM-S. The PCRF procedures are specified in
**3GPP TS 29.214** [12] and the PCF procedures are specified in 3GPP TS 29.514
[14].
#### 6.2.2.2 Request for unicast resource at VAL service communication
establishment procedure with SIP core
##### 6.2.2.2.1 VAL server procedure
If the VAL client requests VAL service communication with the VAL server, the
VAL server shall generate an HTTP POST request message according to procedures
specified in IETF RFC 2616 [15]. In the HTTP POST request message, the VAL
server:
a) shall include a Request-URI set to the URI corresponding to the identity of
the SNRM-S;
b) shall include an Accept header field set to \"application/vnd.3gpp.seal-
unicast-info+xml\";
c) shall include a Content-Type header field set to
\"application/vnd.3gpp.seal-unicast-info +xml\";
d) shall include an application/vnd.3gpp.seal-unicast-info+xml MIME body and
in the \ root element:
1) shall include a \ element which shall include:
i) a \ element set to the identity of the VAL server
performing the request;
ii) an \ element set to the identity of the VAL user or VAL UE which
requests the VAL service communication; and
iii) an optional \ element set to the requested unicast
resource information; and
e) shall send the HTTP POST request message towards the SNRM-S according to
IETF RFC 2616 [15].
NOTE: Before terminating connection due to no response from the SNRM-S, the
VAL server allows sufficient time for the SNRM-S to reserve resources and
respond. It is up to implementation to decide how long the VAL server waits
for receiving response.
##### 6.2.2.2.2 Server procedure
Upon receiving an HTTP POST request message containing:
a) an Accept header field set to \"application/vnd.3gpp.seal-unicast-
info+xml\";
b) a Content-Type header field set to \"application/vnd.3gpp.seal-unicast-info
+xml\"; and
c) an application/vnd.3gpp.seal-unicast-info+xml MIME body with a \
element in the \ root element;
the NRM-S:
a) shall determine the identity of the sender of the received HTTP POST
request as specified in clause 6.2.1.1, and:
1) if the identity of the sender of the received HTTP POST request is not
authorized to request unicast resource, shall respond with a HTTP 403
(Forbidden) response to the HTTP POST request and shall skip rest of the
steps; and
2) shall support handling an HTTP POST request from a VAL server according to
procedures specified in IETF RFC 4825 [19] \"POST Handling\"; and
b) shall evaluate the need for network resources and use of resource sharing,
and then send a SIP MESSAGE request containing request for resources according
to procedures specified in 3GPP TS 29.214 [12] for EPS and/or 3GPP TS 29.514
[14] for 5GS.
Upon receiving a SIP 200 (OK) response to the SIP MESSAGE request, the SNRM-S:
a) shall generate an HTTP 200 (OK) response message according to IETF RFC 2616
[15]. In the HTTP 200 (OK) response message, the SNRM-S:
1) shall include a Request-URI set to the URI corresponding to the identity of
the VAL server;
2) shall include a Content-Type header field set to
\"application/vnd.3gpp.seal-unicast-info+xml\"; and
3) shall include an application/vnd.3gpp.seal-unicast-info+xml MIME body and
in the \ root element:
i) shall include a \ element set to \"success\" indicating
success of the resource request operation; andb) shall send the HTTP 200 (OK)
response message towards the VAL server according to IETF RFC 2616 [15].
#### 6.2.2.3 Request for modification of unicast resources procedure with SIP
core
##### 6.2.2.3.1 VAL server procedure
To modify unicast bearers, the VAL server shall generate an HTTP POST request
according to procedures specified in IETF RFC 2616 [15]. In the HTTP POST
request message, the VAL server:
a) shall include a Request-URI set to the URI corresponding to the identity of
the SNRM-S;
b) shall include an Accept header fideld set to \"application/vnd.3gpp.seal-
unicast-info+xml\";
c) shall include a Content-Type header field set to
\"application/vnd.3gpp.seal-unicast-info +xml\";
d) shall include an application/vnd.3gpp.seal-unicast-info+xml MIME body and
in the \ root element:
1) shall include a \ element which shall include:
i) a \ element set to the identity of the VAL server
performing the request;
ii) an \ element set to the identity of the VAL user or VAL UE which
requests the VAL service communication; and
iii) an \ element set to the modified unicast resource
information; and
e) shall send the HTTP POST request message towards the VAL server according
to IETF RFC 2616 [15].
NOTE: Before terminating connection due to no response from the SNRM-S, the
VAL server allows sufficient time for the SNRM-S to reserve resources and
respond. It is up to implementation to decide how long the VAL server waits
for receiving response.
##### 6.2.2.3.2 Server procedure
Upon receiving an HTTP POST request message containing:
a) an Accept header fideld set to \"application/vnd.3gpp.seal-unicast-
info+xml\";
b) a Content-Type header field set to \"application/vnd.3gpp.seal-unicast-info
+xml\"; and
c) an application/vnd.3gpp.seal-unicast-info+xml MIME body with a
\ element in the \ root element;
the SNRM-S:
a) shall determine the identity of the sender of the received HTTP POST
request as specified in clause 6.2.1.1, and:
1) if the identity of the sender of the received HTTP POST request is not
authorized to modify unicast resource, shall respond with a HTTP 403
(Forbidden) response to the HTTP POST request and shall skip rest of the
steps; and
2) shall support handling an HTTP POST request from a VAL server according to
procedures specified in IETF RFC 4825 [19] \"POST Handling\";
b) if the media bearer modification is not required, shall generate an HTTP
200 (OK) response message according to IETF RFC 2616 [15]. In the HTTP 200
(OK) response message, the SNRM-S:
1) shall include a Request-URI set to the URI corresponding to the identity of
the VAL server;
2) shall include a Content-Type header field set to
\"application/vnd.3gpp.seal-unicast-info+xml\";
3) shall include an application/vnd.3gpp.seal-unicast-info+xml MIME body and
in the \ root element:
i) shall include a \ element set to \"failure\"
indicating failure of the resource modification request operation; and
4) shall send the HTTP 200 (OK) response message towards the VAL server
according to IETF RFC 2616 [15]; and
c) if the media bearer modification is required, shall send a SIP MESSAGE
request containing the modified parameters of the unicast bearer according to
procedures specified in 3GPP TS 29.214 [12] for EPS and/or 3GPP TS 29.514 [14]
for 5GS.
Upon receiving a SIP 200 (OK) response to the SIP MESSAGE request, the SNRM-S:
a) shall generate an HTTP 200 (OK) response message according to IETF RFC 2616
[15]. In the HTTP 200 (OK) response message, the SNRM-S:
1) shall include a Request-URI set to the URI corresponding to the identity of
the VAL server;
2) shall include a Content-Type header field set to
\"application/vnd.3gpp.seal-unicast-info+xml\"; and
3) shall include an application/vnd.3gpp.seal-unicast-info+xml MIME body and
in the \ root element:
i) shall include a \ element set to \"success\"
indicating success of the resource modification request operation; and
b) shall send the HTTP 200 (OK) response message towards the VAL server
according to IETF RFC 2616 [15].
#### 6.2.2.4 Network resource adaptation procedure with SIP core
##### 6.2.2.4.1 VAL server procedure
In order to request unicast resources or modify already allocated unicast
resources to VAL communications, the VAL server shall generate an HTTP POST
request according to procedures specified in IETF RFC 2616 [15]. In the HTTP
POST request message, the VAL server:
a) shall include a Request-URI set to the URI corresponding to the identity of
the SNRM-S;
b) shall include an Accept header field set to \"application/vnd.3gpp.seal-
unicast-info+xml\";
c) shall include a Content-Type header field set to
\"application/vnd.3gpp.seal-unicast-info +xml\";
d) shall include an application/vnd.3gpp.seal-unicast-info+xml MIME body and
in the \ root element:
1) shall include an \ element which shall include:
i) a \ element set to the identity of the VAL server
performing the request;
ii) an \ element which shall include one of the following elements:
A) a \ element with one or more \ child elements
set to the identities of the VAL UEs for whom the network resource adaptation
occurs; or
B) a \ element set to the identity of the VAL group for whom the
network resource adaptation occurs; and
iii) a \ element set to the VAL service QoS requirements as
applied for the corresponding VAL UEs or group of UEs; and
e) shall send the HTTP POST request message towards the VAL server according
to procedures specified in IETF RFC 2616 [15].
##### 6.2.2.4.2 Server procedure
Upon receiving an HTTP POST request message containing:
a) an Accept header field set to \"application/vnd.3gpp.seal-unicast-
info+xml\";
b) a Content-Type header field set to \"application/vnd.3gpp.seal-unicast-info
+xml\";
c) an application/vnd.3gpp.seal-unicast-info+xml MIME body with an
\ element in the \ root element;
the SNRM-S:
a) shall determine the identity of the sender of the received HTTP POST
request as specified in clause 6.2.1.1, and:
1) if the identity of the sender of the received HTTP POST request is not
authorized to adapt unicast resource, shall respond with a HTTP 403
(Forbidden) response to the HTTP POST request and shall skip rest of the
steps; and
2) shall support handling an HTTP POST request from a VAL server according to
procedures specified in IETF RFC 4825 [19] \"POST Handling\"; and
b) shall apply/enforce the resource adaptation per VAL UE, and then initiate
the PCC procedures for each VAL UE as described in 3GPP TS 29.214 [12] for EPS
and/or 3GPP TS 29.514 [14] for 5GS. After the PCC procedures, the SNRM-S shall
generate an HTTP 200 (OK) response message according to IETF RFC 2616 [15]. In
the HTTP 200 (OK) response message, the SNRM-S:
1) shall include a Request-URI set to the URI corresponding to the identity of
the VAL server;
2) shall include a Content-Type header field set to
\"application/vnd.3gpp.seal-unicast-info+xml\";
3) shall include an application/vnd.3gpp.seal-unicast-info+xml MIME body and
in the \ root element:
i) shall include an \ element set to \"success\" or
\"failure\" indicating success or failure of the network resource adaptation
with the underlying network; and
4) shall send the HTTP 200 (OK) response message towards the VAL server
according to procedures specified in IETF RFC 2616 [15].
### 6.2.3 Multicast resource management
#### 6.2.3.1 General
#### 6.2.3.2 Use of pre-established MBMS bearers procedure
##### 6.2.3.2.1 VAL server procedure
When a user originates a request for a VAL service group communication session
for one of these areas, in order to use the pre-established MBMS bearers, the
VAL server shall generate an HTTP POST request according to procedures
specified in IETF RFC 2616 [15]. In the HTTP POST request message, the VAL
server:
a) shall include a Request-URI set to the URI corresponding to the identity of
the SNRM-S;
b) shall include a Content-Type header field set to
\"application/vnd.3gpp.seal-mbms-usage-info +xml\";
c) shall include an application/vnd.3gpp.seal-mbms-usage-info+xml MIME body
and in the \ root element:
1) shall include an \ element which shall include:
i) a \ element set to the identity of the VAL server
performing the request;
ii) a \ element set to the identity of the VAL group that the
MBMS bearer is requested for;
iii) a \ indicating whether the request is sent by
NRM server or by the VAL server;
iv) a \ element indicating the requested QoS for the bearer;
v) an optional \ element indicating the area where the MBMS
bearer is requested for; and
vi) an \ element set to the information of the endpoint of the
VAL server to which the user plane notifications have to be sent; and
d) shall send the HTTP POST request message towards the SNRM-S according to
IETF RFC 2616 [15].
##### 6.2.3.2.2 Server procedure
Upon receiving an HTTP POST request message containing:
a) a Content-Type header field set to \"application/vnd.3gpp.seal-mbms-usage-
info +xml\"; and
b) an application/vnd.3gpp.seal-mbms-usage-info+xml MIME body with a
\ element in the \ root element;
the SNRM-S:
a) shall determine the identity of the sender of the received HTTP POST
request as specified in clause 6.2.1.1, and:
1) if the identity of the sender of the received HTTP POST request is not
authorized to request mbms resource, shall respond with a HTTP 403 (Forbidden)
response to the HTTP POST request and shall skip rest of the steps; and
2) shall support handling an HTTP POST request from a VAL server according to
procedures specified in IETF RFC 4825 [19] \"POST Handling\"; and
b) shall determine to activate MBMS bearer, and then generate an HTTP POST
request message according to IETF RFC 2616 [15]. In the HTTP POST request
message, the SNRM-S:
1) shall set the Request-URI to the URI corresponding to the identity of the
SNRM-C;
2) shall include a Content-Type header field set to
\"application/vnd.3gpp.seal-mbms-usage-info+xml\";
3) shall include in a MIME body with Content-Type header field set to
\"application/vnd.3gpp.seal-info+xml\", the \ element set to
the VAL user ID of the user;
4) shall include an application/vnd.3gpp.seal-mbms-usage-info+xml MIME body
with the \ element set to \"1\" and one or more \
elements associated with the pre-activated MBMS bearers in the \
root element. Each set of an \ element:
i) shall include a \ element set to a TMGI value;
NOTE 1: The same TMGI value can only appear in one \ element.
The TMGI value is also used to identify the \ when updating or
cancelling the \ element.
NOTE 2: The security key active for the general purpose MBMS subchannel on
which the mapping (i.e. the Map Group To Bearer message) of media or media
control to this MBMS bearer was indicated, is used for MBMS subchannels on
this MBMS bearer, unless a different key or an indication of not using
encryption is in place.
ii) may include an \ element set to a list of additional
alternative TMGI used in roaming scenarios;
iii) may include the QCI value in the \ element;
iv) shall include one or more MBMS service area IDs in \
elements in the \ element;
NOTE 3: Initial mappings of groups to MBMS subchannels on an MBMS bearer for
the purpose of carrying media or media control can occur only where the MBMS
service area for this bearer and the MBMS service area for the bearer carrying
the general purpose MBMS subchannel on which the Map Group To Bearer message
is sent intersect. However, once media or media control were successfully
mapped to this bearer, the reception by the SNRM-C can continue (until Unmap
Group To Bearer is received or until timeout) throughout the entire MBMS
service area of this bearer.
v) if multiple carriers are supported, shall include the frequency to be used
in the \ element;
NOTE 4: In the current release if the \ element is included, the
frequency in the \ element is the same as the frequency used for
unicast.
vi) shall include a \ element set to the SDP with media and
application control information applicable to groups that can use this bearer;
vii) may include a \ element set to \"monitoring\" or \"not-
monitoring\" used to control if the client is actively monitoring the MBMS
bearer quality or not;
viii) may include an \ element set to \"true\" or
\"false\" indicating if the NRM server requires an acknowledgement of the MBMS
bearer announcement;
ix) may include an \ element set to \"listening\" or \"not-
listening\" indicating if the listening status of the unicast bearer is
requested;
x) if the packet headers are compressed with ROHC specified in IETF RFC 5795
[20] in this MBMS bearer, shall include a \ element; and
5) shall send the HTTP POST request message towards the SNRM-C according to
IETF RFC 2616 [15].
Upon receiving an HTTP POST request message containing:
a) a Content-Type header field set to \"application/vnd.3gpp.seal-mbms-usage-
info+xml\"; and
b) an application/vnd.3gpp.seal-mbms-usage-info+xml MIME body with an \ element;
the SNRM-S:
a) shall determine the identity of the sender of the received HTTP POST
request as specified in clause 6.2.1.1, and:
1) if the identity of the sender of the received HTTP POST request is not
authorized to report mbms listening status, shall respond with a HTTP 403
(Forbidden) response to the HTTP POST request and shall skip rest of the
steps; and
2) shall support handling an HTTP POST request from a SNRM-C according to
procedures specified in IETF RFC 4825 [19] \"POST Handling\";
b) shall generate an HTTP 200 (OK) response message according to IETF RFC 2616
[15]. In the HTTP 200 (OK) response message, the SNRM-S:
1) shall set the Request-URI to the URI corresponding to the identity of the
VAL server;
2) shall include a Content-Type header field set to
\"application/vnd.3gpp.seal-mbms-usage-info+xml\";
3) shall include an application/vnd.3gpp.seal-mbms-usage-info+xml MIME body
with an \ element in the \ root element which:
i) shall include a \ element set to \"success\" or \"failure\"
indicating success or failure of the MBMS bearers request operation;
ii) may include a \ element set to a TMGI value;
iii) shall include a \ element set to the BM-SC user plane
IP address and port; and
iv) may include a \ element indicating MBMS bearer
related configuration information as defined in 3GPP TS 26.346 [10]; and
c) shall send the HTTP 200 (OK) response message towards the VAL server
according to IETF RFC 2616 [15].
##### 6.2.3.2.3 Client procedure
Upon receiving an HTTP POST request message containing:
a) a Content-Type header field set to \"application/vnd.3gpp.seal-mbms-usage-
info+xml\"; and
b) an application/vnd.3gpp.seal-mbms-usage-info+xml MIME body with one or more
\ element(s);
the NRM-C:
a) shall store the content of the \ elements and generate an
HTTP POST request message according to IETF RFC 2616 [15]. In the HTTP POST
request message, the SNRM-C:
1) shall set the Request-URI to the URI corresponding to the identity of the
SNRM-S;
2) shall include a Content-Type header field set to
\"application/vnd.3gpp.seal-mbms-usage-info +xml\";
3) shall include an application/vnd.3gpp.seal-mbms-usage-info+xml MIME body
with an \ subelement which:
i) shall include an \ element set to the identity of the VAL user or
VAL UE who wants to report the MBMS listening status;
ii) shall include one or more \ elements for which the listening status
applies;
iii) shall include an \ element set to \"listening\" if
the SNRM-C is listening to the MBMS bearer or \"not-listening\" if the SNRM-C
is not listening;
iv) may include an \ element set to the
reception quality level per TMGI; and
b) shall send the HTTP POST request towards the SNRM-S according to IETF RFC
2616 [15].
#### 6.2.3.3 MBMS bearer announcement over MBMS bearer procedure
##### 6.2.3.3.1 General
The availability of a MBMS bearer is announced to SNRM-Cs by means of an MBMS
bearer announcement message. One or more MBMS bearer announcement elements are
included in an application/vnd.3gpp.seal-mbms-usage-info+xml MIME body.
An MBMS bearer announcement message can contain new MBMS bearer announcements,
updated MBMS bearer announcements or cancelled MBMS bearer announcements or a
mix of all of them at the same time in an application/vnd.3gpp.seal-mbms-
usage-info+xml MIME body. Each initial MBMS bearer announcement message
announces one MBMS bearer intended to carry a general purpose MBMS subchannel
used for application level multicast signalling in a specified MBMS service
area and additionally, the message could also announce zero or more extra MBMS
bearers intended to carry media and media control.
NOTE 1: A new MBMS bearer announcement does not implicitly remove previously
sent MBMS bearer announcements if the previously sent MBMS bearer announcement
is not included in an MBMS bearer announcement message.
NOTE 2: The SNRM-C will use the same identity which has been authenticated by
VAL service with SIP core using SIP based REGISTER message. If VAL service do
not support SIP protocol, then HTTP based method needs to be used.
NOTE 3: The VAL service can select appropriate procedure(s) based on service
specific requirements. If the VAL service supports both HTTP and SIP, HTTP is
prior.
When and to whom the SNRM-S sends the MBMS bearer announcement is based on
local policy in the SNRM-S.
##### 6.2.3.3.2 Server procedure
###### 6.2.3.3.2.1 Generate MBMS bearer announcement message
For each SNRM-C that the SNRM-S is sending an MBMS bearer announcement to, the
SNRM-S:
a) shall generate an application/vnd.3gpp.seal-mbms-usage-info+xml MIME body
with the \ element set to \"1\" and one or more \
elements associated with the pre-activated MBMS bearers. Each set of an
\ element:
1) shall include a \ element set to a TMGI value;
NOTE 1: The same TMGI value can only appear in one \ element.
The TMGI value is also used to identify the \ when updating or
cancelling the \ element.
NOTE 2: The security key active for the general purpose MBMS subchannel on
which the mapping (i.e. the Map Group To Bearer message) of media or media
control to this MBMS bearer was indicated, is used for MBMS subchannels on
this MBMS bearer, unless a different key or an indication of not using
encryption is in place.
2) may include an \ element set to a list of additional
alternative TMGI used in roaming scenarios;
3) may include the QCI value in the \ element;
4) shall include one or more MBMS service area IDs in \
elements in the \ element;
NOTE 3: Initial mappings of groups to MBMS subchannels on an MBMS bearer for
the purpose of carrying media or media control can occur only where the MBMS
service area for this bearer and the MBMS service area for the bearer carrying
the general purpose MBMS subchannel on which the Map Group To Bearer message
is sent intersect. However, once media or media control were successfully
mapped to this bearer, the reception by the SNRM-C can continue (until Unmap
Group To Bearer is received or until timeout) throughout the entire MBMS
service area of this bearer.
5) if multiple carriers are supported, shall include the frequency to be used
in the \ element;
NOTE 4: In the current release if the \ element is included, the
frequency in the \ element is the same as the frequency used for
unicast.
6) shall include a \ element set to the SDP with media and
application control information applicable to groups that can use this bearer;
7) may include a \ element set to \"monitoring\" or \"not-
monitoring\" used to control if the client is actively monitoring the MBMS
bearer quality or not;
8) may include an \ element set to \"true\" or
\"false\" indicating if the NRM server requires an acknowledgement of the MBMS
bearer announcement;
9) may include an \ element used to indicate the listening
status of the unicast bearer which is requested;
10) if the packet headers are compressed with ROHC specified in IETF RFC 5795
[20] in this MBMS bearer, shall include a \ element.
###### # 6.2.3.3.2.1.1 SIP based procedure
If the VAL service supports SIP, the SNRM-S shall generate an SIP MESSAGE
request in accordance with 3GPP TS 24.229 [6] and IETF RFC 3428 [17] with the
constructed application/vnd.3gpp.seal-mbms-usage-info +xml MIME body as
specified in clause 6.2.3.3.2.1. In the SIP MESSAGE request, the SNRM-S:
a) shall set the Request-URI to the URI received in the To header field in a
third-party SIP REGISTER request;
b) shall include an Accept-Contact header field with the g.3gpp.icsi-ref
media-feature tag with the value of \"urn:urn-7:3gpp-service.ims.icsi.seal\"
along with parameters \"require\" and \"explicit\" according to IETF RFC 3841
[18];
c) shall include a P-Asserted-Service header field with the value
\"urn:urn-7:3gpp-service.ims.icsi.seal\";
d) shall include the MBMS public service identity of the SNRM-S in the
P-Asserted-Identity header field;
e) shall include in a MIME body with Content-Type header field set to
\"application/vnd.3gpp.seal-info+xml\", the \ element set to
the VAL user ID of the user; and
f) shall send the SIP MESSAGE request towards the SNRM-C according to 3GPP TS
24.229 [6].
###### # 6.2.3.3.2.1.2 HTTP based procedure
If the VAL service does not support SIP, the SNRM-S shall generate an HTTP
POST request message in accordance with IETF RFC 2616 [15] with the
constructed application/vnd.3gpp.seal-mbms-usage-info +xml MIME body as
specified in clause 6.2.3.3.2.1. In the HTTP POST request message, the SNRM-S:
a) shall set the Request-URI to the URI corresponding to the identity of the
SNRM-C;
b) shall include a Content-Type header field set to
\"application/vnd.3gpp.seal-mbms-usage-info +xml\";
c) shall include in a MIME body with Content-Type header field set to
\"application/vnd.3gpp.seal-info+xml\", the \ element set to
the VAL user ID of the user; and
d) shall send the HTTP POST request towards the SNRM-C according to IETF RFC
2616 [15].
###### 6.2.3.3.2.2 MBMS bearer de-announcement procedure
When the SNRM-S wants to cancel an MBMS bearer announcement associated with an
\ element, the SNRM-S sends an MBMS bearer announcement as
specified in clause 6.2.3.3.2.1 where the SNRM-S in the \
element to be cancelled. The SNRM-S:
a) shall include the same TMGI value as in the \ element to be
cancelled in the \ element; and
b) shall not include an \ element.
##### 6.2.3.3.3 Client procedure
Upon receiving a SIP MESSAGE request containing:
a) a P-Asserted-Service header field containing the \"urn:urn-7:3gpp-
service.ims.icsi.seal\"; and
b) an application/vnd.3gpp.seal-mbms-usage-info+xml MIME body containing one
or more \ element(s);
or an HTTP POST request message containing:
a) a Content-Type header field set to \"application/vnd.3gpp.seal-mbms-usage-
info +xml\"; and
b) an application/vnd.3gpp.seal-mbms-usage-info+xml MIME body containing one
or more \ element(s);
the SNRM-C for each \ element in the application/vnd.3gpp.seal-
mbms-usage-info+xml MIME body:
a) if the \ element is present:
1) if an \ element with the same value of the \ element is
already stored:
i) shall replace the old \ element with the \
element received in the application/vnd.3gpp.seal-mbms-usage-info+xml MIME
body;
2) if there is no \ element with the same value of the \
element stored:
i) shall store the received \ element;
3) shall store the MBMS public service identity of the SNRM-S received in the
P-Asserted-Identity header field and associate the MBMS public service
identity with the new \ element;
4) if there is an \ element set to \"true\",
shall send an acknowledgement of the MBMS bearer to the SNRM-S;
5) shall check the condition for sending a listening status report;
b) if no \ element is present:
1) shall discard a previously stored \ element identified by the
value of the \; and
2) check the condition for sending a listening status report;
c) if the \ element is present:
1) if the \ is set to \"monitor\", shall start to monitor
the MBMS bearer quality; and
2) if the \ is set to \"not-monitor\", shall stop monitoring
the MBMS bearer quality; and
d) if the \ element is present, shall include the \ element in the MBMS listening status report message.
#### 6.2.3.4 MBMS bearer quality detection procedure
NOTE 1: The SNRM-C will use the same identity which has been authenticated by
VAL service with SIP core using SIP based REGISTER message. If VAL service do
not support SIP protocol, then HTTP based method needs to be used.
NOTE 2: The VAL service can select appropriate procedure(s) based on service
specific requirements. If the VAL service supports both HTTP and SIP, HTTP is
prior.
##### 6.2.3.4.1 Client procedure
Upon determining the MBMS bearer quality, if the MBMS bearer quality reaches a
certain threshold, the SNRM-C shall report the MBMS listening status. The
SNRM-C:
NOTE 1: The SNRM-C may determine the MBMS bearer quality by using the BLER of
the received data. When no data is received, the quality estimation can
consider the reference signals and the modulation and coding scheme (MCS). The
UE may also use predictive methods to estimate the expected MBMS bearer
quality (e.g. speed and direction) to proactively inform the NRM server of an
expected loss of the MBMS bearer quality.
NOTE 2: The threshold used to indicate MBMS bearer quality depends on VAL
service type and the metrics used. The metrics used and the associated
thresholds are out of scope of this specification.
NOTE 3: The application/vnd.3gpp.seal-mbms-usage-info+xml can contain both the
listening status \"listening\" and \"not listening\" at the same time.
a) shall generate an application/vnd.3gpp.seal-mbms-usage-info+xml MIME body
with an \ element in the \ root
element which;
1) shall include an \ element set to the identity of the VAL user or
VAL UE who wants to report the MBMS listening status;
2) shall include an \ element set to \"listening\" if
the SNRM-C is listening to the MBMS bearer or \"not-listening\" if the SNRM-C
is not listening;
3) shall include one or more \ elements for which the listening status
applies;
4) may include an \ element set to the reception
quality level per TMGI; and
5) if the \ element is present in the MBMS announcement
message, shall include an \ element set to
\"listening\" or \"not-listening\" indicating the unicast listening status.
###### 6.2.3.4.1.1 SIP based procedure
If the VAL service supports SIP, the SNRM-S shall generate a SIP MESSAGE
request according to 3GPP TS 24.229 [6] and IETF RFC 3428 [17] with the
constructed application/vnd.3gpp.seal-mbms-usage-info +xml MIME body as
specified in clause 6.2.3.4.1 and the application/vnd.3gpp.seal-info+xml MIME
body. In the SIP MESSAGE request, the SNRM-C:
a) shall include a Request-URI set to the MBMS public service identity of the
SNRM-S received in the P-Asserted-Identity header field of the announcement
message;
b) shall include an Accept-Contact header field with the g.3gpp.icsi-ref
media-feature tag with the value of \"urn:urn-7:3gpp-service.ims.icsi.seal\"
along with parameters \"require\" and \"explicit\" according to IETF RFC 3841
[18];
c) should include a public user identity in the P-Preferred-Identity header
field as specified in 3GPP TS 24.229 [6];
d) shall include a P-Preferred-Service header field with the value
\"urn:urn-7:3gpp-service.ims.icsi.seal\";
e) shall send the SIP MESSAGE request according to 3GPP TS 24.229 [6].
###### 6.2.3.4.1.2 HTTP based procedure
If the VAL service does not support SIP, the SNRM-S shall generate an HTTP
POST request message in accordance with IETF RFC 2616 [15] with the
constructed application/vnd.3gpp.seal-mbms-usage-info +xml MIME body as
specified in clause 6.2.3.4.1 and the application/vnd.3gpp.seal-info+xml MIME
body. In the HTTP POST request message, the SNRM-C:
a) shall set the Request-URI to the URI corresponding to the identity of the
SNRM-S;
b) shall include a Content-Type header field set to
\"application/vnd.3gpp.seal-mbms-usage-info +xml\"; and
c) shall send the HTTP POST request towards the SNRM-S according to IETF RFC
2616 [15].
##### 6.2.3.4.2 Server procedure
###### 6.2.3.4.2.1 SIP based procedure
Upon receiving a SIP MESSAGE request containing:
a) an application/vnd.3gpp.seal-mbms-usage-info+xml MIME body with an \ element and an \ element;
the SNRM-S:
a) shall verify that the public user identity in the P-Asserted-Identity
header field is bound to theVAL user ID in the \ element in
the application/vnd.3gpp.seal-info+xml MIME body;
b) may send an MBMS bearer announcement message as specified in clause 6.2.3.3
with additional proposal for measurements, e.g. information about neighbouring
MBMS bearers; and
c) may send user plane delivery mode to VAL server based on the MBMS listening
status to preserve the service continuity as described in clause 6.2.3.5.
###### 6.2.3.4.2.2 HTTP based procedure
Upon receiving an HTTP POST request message containing:
a) an application/vnd.3gpp.seal-mbms-usage-info+xml MIME body with an \ element and an \ element;
the SNRM-S:
a) shall determine the identity of the sender of the received HTTP POST
request as specified in clause 6.2.3.4.1.2, and:
1) if the identity of the sender of the received HTTP POST request is not
authorized to detect MBMS bearer quality, shall respond with an HTTP 403
(Forbidden) response to the HTTP POST request and skip rest of the steps;
b) may send an MBMS bearer announcement message as specified in clause 6.2.3.3
with additional proposal for measurements, e.g. information about neighbouring
MBMS bearers; and
c) may send user plane delivery mode to VAL server based on the MBMS listening
status to preserve the service continuity as described in clause 6.2.3.5.
#### 6.2.3.5 Service continuity in MBMS scenarios
##### 6.2.3.5.1 Client procedure
If the VAL UE is located in MBSFN 1 and can listen to TMGI 1, where no
additional MBMS bearers that the SNRM-C is interested in are active in the
current cell, the SNRM-C shall send an MBMS listening status report with
information related to TMGI 1 as specified in clause 6.2.3.4.1 towards the
SNRM-S.
If the VAL UE moves into a new cell in which both TMGI 1 and TMGI 2 are
active, the SNRM-C shall send a location information report as specified in
3GPP TS 24.545 clause 6.2.2.2.2 [8] towards the SNRM-S.
If the SNRM-C receives TMGI 1 and TMGI 2, the SNRM-C shall send an MBMS
listening status report with information related to TMGI 1 and TMGI 2 as
specified in clause 6.2.3.4.1 towards the SNRM-S.
If the VAL UE moves into a new cell in MBSFN area 2, where only TMGI 2 is
active, the SNRM-C shall send an MBMS listening status report with information
related to TMGI 2 as specified in clause 6.2.3.4.1 towards the SNRM-S.
##### 6.2.3.5.2 Server procedure
Upon receiving an HTTP POST request message containing:
a) a Content-Type header field set to \"application/vnd.3gpp.seal-mbms-usage-
info +xml\"; and
b) an application/vnd.3gpp.seal-mbms-usage-info+xml MIME body with an \ elment;
the SNRM-S:
a) shall determine the identity of the sender of the received HTTP POST
request as specified in clause 6.2.1.1, and:
1) if the identity of the sender of the received HTTP POST request is not
authorized to report mbms listening status, shall respond with a HTTP 403
(Forbidden) response to the HTTP POST request and shall skip rest of the
steps; and
2) shall support handling an HTTP POST request from a SNRM-C according to
procedures specified in IETF RFC 4825 [19] \"POST Handling\";
b) shall generate an HTTP POST request message according to IETF RFC 2616
[15]. In the HTTP POST request message, the SNRM-S:
1) shall include a Request-URI set to the URI corresponding to the identity of
the VAL server;
2) shall include a Content-Type header field set to
\"application/vnd.3gpp.seal-mbms-usage-info +xml\";
3) shall include an application/vnd.3gpp.seal-mbms-usage-info+xml MIME body
with a \ element in the \ root element
which shall include:
i) a \ element indicating whether to deliver the user data to
the UE(s) via unicast mode or multicast mode;
ii) an \ element indicating the MBMS media stream to be
used to deliver the media currently over unicast, or the MBMS media stream
currently being used.; and
iii) one or more \ element(s), each element
indicating the unicast media stream to be used to deliver the media currently
over multicast, or the unicast to be stopped and switched to multicast; and
c) shall send the HTTP POST request towards the VAL server according to IETF
RFC 2616 [15].
Upon receiving an HTTP POST request message containing:
a) a Content-Type header field set to \"application/vnd.3gpp.seal-location-
info+xml\";
b) an application/vnd.3gpp.seal-location-info+xml MIME body with a \
element in the \ root element;
the SNRM-S:
a) shall determine the identity of the sender of the received HTTP POST
request as specified in clause 6.2.1.1, and:
1) if the identity of the sender of the received HTTP POST request is not
authorized to report location information, shall respond with a HTTP 403
(Forbidden) response to the HTTP POST request and shall skip rest of the
steps; and
2) shall support handling an HTTP POST request from a SNRM-C according to
procedures specified in IETF RFC 4825 [19] \"POST Handling\"; and
b) shall send an MBMS bearer announcement message with information related to
TMGI 2 as specified in clause 6.2.3.3 towards the SNRM-C.
#### 6.2.3.6 MBMS suspension notification procedure
##### 6.2.3.6.1 Client procedure
Upon receiving an HTTP POST request message containing:
a) a Content-Type header field set to \"application/vnd.3gpp.seal-mbms-usage-
info +xml\"; and
b) an application/vnd.3gpp.seal-mbms-usage-info+xml MIME body with an \ elment in the \ root element;
the SNRM-C shall send an HTTP 204 (No Content) response according to IETF RFC
2616 [15] towards the SNRM-S.
If the SNRM-C detects the MBMS suspension and has not received a \ element set to \"disable\", the SNRM-C shall generate an HTTP POST
request message according to IETF RFC 2616 [15]. In the HTTP POST request
message, the SNRM-C:
a) shall include a Request-URI set to the URI corresponding to the identity of
the SNRM-S;
b) shall include a Content-Type header field set to
\"application/vnd.3gpp.seal-mbms-usage-info +xml\";
c) shall include an application/vnd.3gpp.seal-mbms-usage-info+xml MIME body
with an \ element in the \ root element
which:
1) shall include an \ element set to the identity of the VAL user or
VAL UE that reports MBMS suspension;
2) if at least one MBMS bearer is about to be suspended:
i) shall include an \ element set to \"suspending\";
ii) shall set the \ element to the total number of
the included \ elements and \ elements;
iii) shall include \ element(s) set to the TMGI value for each
of the MTCHs on the same MCH corresponding to the MBMS bearers about to be
suspended; and
iv) may include \ elements, if available, corresponding to the
TMGI values for other MTCHs on the same MCH as the MBMS bearers to be
suspended; and
3) if the MBMS bearer is no longer about to be suspended, shall include:
i) an \ element set to \"not-suspending\";
ii) a \ element set to the number of included
\ elements; and
iii) a \ element set to the corresponding TMGI value for each
of the MTCHs of the MBMS bearers that are no longer about to be suspended.
d) shall send the HTTP POST request message towards the SNRM-S according to
IETF RFC 2616 [15].
##### 6.2.3.6.2 Server procedure
If the SNRM-S decide on a subset of all VAL UEs in the MBMS broadcast area
that shall report on MBMS bearer suspension, the SNRM-S shall generate an HTTP
POST request message according to IETF RFC 2616 [15]. In the HTTP POST request
message, the SNRM-S:
a) shall include a Request-URI set to the URI corresponding to the identity of
the SNRM-C;
b) shall include a Content-Type header field set to
\"application/vnd.3gpp.seal-mbms-usage-info +xml\";
c) shall include an application/vnd.3gpp.seal-mbms-usage-info+xml MIME body
with an \ element in the \
root element which:
1) if a unicast bearer is used for MBMS suspension reporting, shall include:
i) an \ element set to the identity of the VAL user or VAL UE that
shall report MBMS suspension; and
ii) a \ element indicating to enable or disable the
suspension reporting for the SNRM-C;
2) if a multicast bearer is used for MBMS suspension reporting, shall include:
i) a \ element containing a uniquely
defined subset of NRM clients that shall report MBMS suspension; and
d) shall send the HTTP POST request message towards the SNRM-C according to
IETF RFC 2616 [15].
#### 6.2.3.7 MBMS bearer event notification procedure
##### 6.2.3.7.1 Server procedure
NOTE The details between the SNRM-S and EPS (BM-SC) are defined in 3GPP TS
29.468 [13].
Upon receiving an MBMS bearer event notification as described in the clause
6.4.5 of 3GPP TS 29.468 [13], the SNRM-S shall send a user plane delivery mode
as described in clause 6.2.2.4.2 towards the VAL server.
#### 6.2.3.8 Switching between MBMS bearer bearer and unicast bearer procedure
##### 6.2.3.8.1 Client procedure
If the VAL UE detects changing MBMS bearer condition (good or bad MBMS
coverage) for the corresponding MBMS service, the NRM-C shall send an MBMS
listening status report as specified in clause 6.2.3.4.1 towards the SNRM-S.
##### 6.2.3.8.2 Server procedure
Upon receiving an HTTP POST request message containing:
a) a Content-Type header field set to \"application/vnd.3gpp.seal-mbms-usage-
info+xml\"; and
b) an application/vnd.3gpp.seal-mbms-usage-info+xml MIME body with an \ element;
the SNRM-S:
a) shall determine the identity of the sender of the received HTTP POST
request as specified in clause 6.2.1.1, and:
1) if the identity of the sender of the received HTTP POST request is not
authorized to report mbms listening status, shall respond with a HTTP 403
(Forbidden) response to the HTTP POST request and shall skip rest of the
steps; and
2) shall support handling an HTTP POST request from a SNRM-C according to
procedures specified in IETF RFC 4825 [19] \"POST Handling\";
b) shall send a user plane delivery mode as described in clause 6.2.2.4.2
towards the VAL server.
#### 6.2.3.9 Use of dynamic MBMS bearers procedure
##### 6.2.3.9.1 VAL server procedure
If the VAL server uses a unicast bearer for communication with the UE on the
DL at the start of the group communication session, in order to trigger to use
an MBMS bearer in EPS for the DL VAL service communication, the VAL server
shall send an MBMS bearer request message as described in clause 6.2.3.2.1
towards the SNRM-S.
##### 6.2.3.9.2 Server procedure
Upon receiving an HTTP POST request message containing:
a) a Content-Type header field set to \"application/vnd.3gpp.seal-mbms-usage-
info +xml\"; and
b) an application/vnd.3gpp.seal-mbms-usage-info+xml MIME body with a
\ element in the \ root element;
the SNRM-S:
a) shall determine the identity of the sender of the received HTTP POST
request as specified in clause 6.2.1.1, and:
1) if the identity of the sender of the received HTTP POST request is not
authorized to request mbms resource, shall respond with a HTTP 403 (Forbidden)
response to the HTTP POST request and shall skip rest of the steps; and
2) shall support handling an HTTP POST request from a VAL server according to
procedures specified in IETF RFC 4825 [19] \"POST Handling\"; and
b) shall determine to activate MBMS bearer, and then send an MBMS bearer
announcement message as described in clause 6.2.3.2.2 towards the SNRM-C.
Upon receiving an HTTP POST request message containing:
a) a Content-Type header field set to \"application/vnd.3gpp.seal-mbms-usage-
info+xml\"; and
b) an application/vnd.3gpp.seal-mbms-usage-info+xml MIME body with an \ element;
the SNRM-S:
a) shall determine the identity of the sender of the received HTTP POST
request as specified in clause 6.2.1.1, and:
1) if the identity of the sender of the received HTTP POST request is not
authorized to report mbms listening status, shall respond with a HTTP 403
(Forbidden) response to the HTTP POST request and shall skip rest of the
steps; and
2) shall support handling an HTTP POST request from a SNRM-C according to
procedures specified in IETF RFC 4825 [19] \"POST Handling\"; and
b) shall send an MBMS bearers response message as decribed in clause 6.2.3.2.2
towards the VAL server.
##### 6.2.3.9.3 Client procedure
Upon receiving an HTTP POST request message containing:
a) a Content-Type header field set to \"application/vnd.3gpp.seal-mbms-usage-
info+xml\"; and
b) an application/vnd.3gpp.seal-mbms-usage-info+xml MIME body with one or more
\ element(s);
the NRM-C:
a) shall store the content of the \ elements and starts
monitoring data over MBMS associated with the TMGI, while in the service area
associated with the TMGI; and
b) if the VAL UE detects that it is able to receive data over MBMS associated
with the TMGI, shall send an MBMS bearer listening status report as described
in clause 6.2.3.2.3 towards the SNRM-S.
## 6.3 Off-network procedures
The off-network procedures are out of scope of the present document in this
release of the specification.
# 7 Coding
## 7.1 General
This clause specifies the coding to enable an SNRM-C and an SNRM-S to
communicate.
## 7.2 Application unique ID
The AUID shall be set to the VAL service ID as specified in specific VAL
service specification.
## 7.3 Structure
The network resource management document shall conform to the XML schema
described in clause 7.4.
### 7.3.1 VALInfo document
The \ element shall be the root element of the VALInfo
document.
The \ element shall include one of the followings:
a) a \ element may include a \ element; or
b) a \ element.
### 7.3.2 UnicastInfo document
The \ element shall be the root element of the UnicastInfo
document.
The \ element shall include one of the followings:
a) a \ element;r
b) a \ element;
c) a \ element;
d) a \ element;
e) an \ element; or
f) an \ element.
The \ element shall include the followings:
a) a \ element;
b) an \ element; and
c) an optional \ element.
The \ element shall include the followings:
a) a \ element;
b) an \ element; and
c) a \ element.
The \ element shall include the followings:
a) a \ element;
b) an \ element which shall include one of the following elements:
1) a \ element which shall include:
i) one or more \ elements; and
2) a \ element; and
c) a \ element.
### 7.3.3 MBMSInfo document
The \ element shall be the root element of the MBMSInfo document.
The \ element shall include one of the followings:
a) one or more \ elements;
b) an \ element;
c) a \ element;
d) an \ element;
e) a \ element;
f) an \ element; or
g) an \ element.
The \ element shall include:
a) a \ element;
b) an optional \ element;
c) an optional \ element;
d) an \ element which shall include:
1) one or more \ elements;
e) a \ element;
f) an \ element;
g) an optional \ element;
h) an optional \ element;
i) an optional \ element; and
j) an optional \ element.
The \ element shall include:
a) an \ element;
b) a \ element;
c) an \ element;
d) an optional \ elment; and
e) an optional \ element.
The \ element shall include:
a) a \ element;
b) a \ element;
c) a \ element;
d) a \ element;
e) an optional \ element; and
f) an \ element.
The \ element shall include:
a) a \ element;
b) an optional \ element;
c) a \ element; and
d) an optional \ element.
The \ element shall include:
a) a \ element;
b) an \ element; and
c) a \ element;
The \ element shall include either the
first two followings or the third following:
a) an \ element;
b) a \ element; or
c) a \ element which shall include:
1) one or more \ elements.
The \ element shall include:
a) an \ element;
b) an \ element;
c) one or more \ element; and
d) an optional \ element.
## 7.4 XML schema
### 7.4.1 General
This clause defines the XML schemas for application/vnd.3gpp.seal-info+xml,
application/vnd.3gpp.seal-unicast-info+xml and application/vnd.3gpp.seal-mbms-
usage-info+xml.
### 7.4.2 XML schema for application/vnd.3gpp.seal-info+xml
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
### 7.4.3 XML schema for application/vnd.3gpp.seal-unicast-info+xml
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
### 7.4.4 XML schema for application/vnd.3gpp.seal-mbms-usage-info+xml
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
## 7.5 Data semantics
### 7.5.1 VALInfo document
The \ element is the root element of the XML document. The
\ element contains contains one of following sub-elements:
a) \, an element contains the identity of the VAL user. This
element contains an optional \ attribute that contains the
identity of the VAL client; or
b) \, an element contains the group identity of a set of VAL
users or VAL clients according to the VAL service.
The recipient of the XML ignores any unknown element and any unknown
attribute.
### 7.5.2 UnicastInfo document
The recipient of the XML ignores any unknown element and any unknown
attribute.
The \ element is the root element of the XML document. The
\ element contains a \ or \ element.
\ is an optional element used to include the unicast resource
management requested information. The \ element contains the
following sub-elements:
a) \, an element contains the identity of the VAL server
performing the request;
b) \, an element contains the identity of the VAL user or VAL UE;
and
c) \, an optional element contains the requested unicast
resource information.
\ contains a string set to either \"success\" or \"failure\"
used to indicate success or failure of the resource request operation \".
\ contains the following sub-elements:
a) \, an element contains the identity of the VAL server
performing the request;
b) \, an element contains the identity of the VAL user or VAL UE;
and
c) \, an element contains the modified unicast resource
information.
\ contains a string set to either \"success\" or
\"failure\" used to indicate success or failure of the resource modification
request operation.
\ contains the following sub-elements:
a) \, an element contains the identity of the VAL server
performing the request;
b) \, an element contains one of the following elements:
1) \, an element contains one or more \ elements.
Each \ element contains the identity of the VAL UE for whom the
network resource adaptation occurs; and
2) \, an element contains the identity of the VAL group for whom
the network resource adaptation occurs; and
c) \, an element contains VAL service QoS requirements as applied
for the corresponding VAL UEs or group of UEs.
\ contains a string set to either \"success\" or
\"failure\" used to indicate success or failure of the network resource
adaptation with the underlying network.
### 7.5.3 MBMSInfo document
The recipient of the XML ignores any unknown element and any unknown
attribute.
The \ element is the root element of the XML document. The \ element contains one or more \ subelements, the \ subelement, the \ subelement, the \ subelement, the \ subelement, the \ subelement and the \
subelement.
\ element contains the following sub-elements:
a) \, an element contains the TMGI. The \ element is coded as
described in 3GPP TS 24.008 [5] clause 10.5.6.13 excluding the Temporary
mobile group identity IEI and the Length of temporary mobile group identity
contents (octet 1 and octet 2 in 3GPP TS 24.008 [5] clause 10.5.6.13);
b) \, an optional element contains a list of additional
alternative TMGI used in roaming scenarios;
c) \, an optional element contains the QCI information used by the ProSe
UE-Network Relay to determine the ProSe Per-Packet Priority value to be
applied for the multicast packets relayed to Remote UE over PC5. QCI values
are defined in 3GPP TS 23.203 [4];
d) \, an element contains a list of MBMS service area IDs
for the applicable MBMS broadcast area as specified in 3GPP TS 23.003 [3] for
service area identifier (SAI), and with the encoding as specified in 3GPP TS
29.061 [11] for the MBMS-Service-Area AVP;
e) \, an optional element contains identification of frequency in
case of multi carrier support. The \ element is coded as specified
in 3GPP TS 29.468 [13];
f) \, an element contains SDP with media and application
control information applicable to groups that can use this bearer;
g) \, an optional element contains a string used to control
if the client is actively monitoring the MBMS bearer quality or not:
\- The value \"monitor\" indicates that the SNRM-C shall monitor the MBMS
bearer quality; and
\- The value \"not-monitor\" indicates that the SNRM-C shall not monitor the
MBMS bearer quality;
h) \, presence of the \ element indicates the NRM server requires an acknowledgement
of the MBMS bearer announcement;
i) \, presence of the \ element indicates the
listening status of the unicast bearer is requested; and
j) \, presence of the \ element indicates that
the flows delivered by the announced MBMS bearer are header compressed with
ROHC as specified in IETF RFC 5795 [20] and IETF RFC 3095 [16].
\ element contains the following sub-elements:
a) \, an element contains the identity of the VAL user or VAL UE who
wants to report the MBMS listening status;
b) \, an element contains the TMGI. The \ element is coded as
described in 3GPP TS 24.008 [5] clause 10.5.6.13 excluding the Temporary
mobile group identity IEI and the Length of temporary mobile group identity
contents (octet 1 and octet 2 in 3GPP TS 24.008 [5] clause 10.5.6.13);
c) \, an element contains a string "listening" or "not-
listening" used to indicate the MBMS listening status per TMGI;
d) \, an optional element contains an integer
used to indicate the reception quality level per TMGI; and
e) \, an optional element contains a string
"listening" or "not-listening" used to indicate the unicast listening status.
\ is an element used to include the multicast resource management
requested information. The \ element contains the following sub-
elements:
a) \, an element contains the identity of the VAL server
performing the request;
b) \, an element contains the identity of the VAL group that the
MBMS bearer is requested for;
c) \, an element contains a string used to indicate
whether the request is sent by NRM server or by the VAL server:
\- The value "NRM-S" indicates the request is sent by NRM server;
\- The value "VAL-server" indicates the request is sent by the VAL server;
d) \, an element contains the requested QoS information for the bearer;
e) \, an optional element specifying the serving MBMS service
area id where the MBMS bearer is requested for; and
f) \, an element contains the information of the endpoint of
the VAL server to which the user plane notifications have to be sent.
\ element contains the following sub-elements:
a) \, an element contains a string either \"success\" or \"failure\"
indicating success or failure of the MBMS bearers request operation;
b) \, an optional element contains the TMGI. The \ element is
coded as described in 3GPP TS 24.008 [5] clause 10.5.6.13 excluding the
Temporary Mobile Group Identity IEI and Length of Temporary Mobile Group
Identity contents (octet 1 and octet 2 in 3GPP TS 24.008 [5] clause
10.5.6.13);
c) \, an element contains the BM-SC user plane IP address
and port; and
d) \, an optional element contains the MBMS bearer
related configuration information as defined in 3GPP TS 26.346 [10];
\ element contains the following sub-elements:
a) \, an element contains a string used to indicate whether to
deliver the user data to the UE(s) via unicast mode or multicast mode:
\- The value "unicast" indicates to deliver the user data to the UE(s) via
unicast mode;
\- The value "multicast" indicates to deliver the user data to the UE(s) via
mulicast mode;
b) \, an element set to the MBMS media stream ID
indicating the MBMS media stream to be used to deliver the media currently
over unicast, or the MBMS media stream currently being used; and
c) one or more \ element(s), each element set to the
unicast media stream ID indicating the unicast media stream to be used to
deliver the media currently over multicast, or the unicast to be stopped and
switched to multicast.
\ contains the following sub-elements:
a) \, an element contains the identity of the VAL user or VAL UE
that reports MBMS suspension in case of a unicast bearer is used for MBMS
suspension reporting;
b) \, an element contains a string used to enable or
disable the suspension reporting for the SNRM-C in case of a unicast bearer is
used for MBMS suspension reporting:
\- The value "enable" indicates to enable the suspension reporting;
\- The value "disable" indicates to disable the suspension reporting; and
c) \, an element contains one or more
\ child elements set to the identities of the NRM clients that
shall report MBMS suspension in case of a multicast bearer is used for MBMS
suspension reporting;
\ element contains the following sub-elements:
a) \, an element contains a string used to indicate
the MBMS bearers intended suspension status:
\- The value \"suspending\" indicates that the RAN has decided to suspend the
referenced MBMS bearer(s) at the beginning of the next MCCH modification
period;
\- The value \"not-suspending\" indicates that the RAN has decided to revoke
its decision to suspend the referenced MBMS bearer(s) before the beginning of
the next MCCH modification period;
b) \, an element contains a hex binary number
denoting the total number of occurrences of the \ and \ elements reported as part of the MBMS bearer suspension status;
c) \, an element contains a TMGI that is being reported as
about to be suspended or as no longer about to be suspended; and
d) \, an element contains a TMGI that is not being reported as
about to be suspended or as no longer about to be suspended, but which shares
the same MCH with MBMS bearers reported in the \ elements;
## 7.6 MIME types
The MIME type for the VALInfo document shall be \"application/vnd.3gpp.seal-
info+xml MIME body\".
The MIME type for the UnicastInfo document shall be
\"application/vnd.3gpp.seal-unicast-info+xml MIME body\".
The MIME type for the MBMSInfo document shall be \"application/vnd.3gpp.seal-
mbms-usage-info+xml MIME body\".
## 7.7 IANA registration template
### 7.7.1 IANA registration template for VALInfo
Your Name:
\
Your Email Address:
\
Media Type Name:
Application
Subtype name:
application/vnd.3gpp.seal-info+xml
Required parameters:
None
Optional parameters:
\"charset\" the parameter has identical semantics to the charset parameter of
the \"application/xml\" media type as specified in section 9.1 of IETF RFC
7303.
Encoding considerations:
binary.
Security considerations:
Same as general security considerations for application/xml media type as
specified in section 9.1 of IETF RFC 7303. In addition, this media type
provides a format for exchanging information in SIP or in HTTP, so the
security considerations from IETF RFC 3261 apply while exchanging information
in SIP and the security considerations from IETF RFC 2616 apply while
exchanging information in HTTP.
The information transported in this media type does not include active or
executable content.
Mechanisms for privacy and integrity protection of protocol parameters exist.
Those mechanisms as well as authentication and further security mechanisms are
described in 3GPP TS 24.229.
This media type does not include provisions for directives that institute
actions on a recipient\'s files or other resources.
This media type does not include provisions for directives that institute
actions that, while not directly harmful to the recipient, may result in
disclosure of information that either facilitates a subsequent attack or else
violates a recipient\'s privacy in any way.
This media type does not employ compression.
Interoperability considerations:
Same as general interoperability considerations for application/xml media type
as specified in section 9.1 of IETF RFC 7303. Any unknown XML elements and any
unknown XML attributes are to be ignored by recipient of the MIME body.
Published specification:
3GPP TS 24.548 \"Network Resource Management - Service Enabler Architecture
Layer for Verticals (SEAL); Protocol specification\" version 16.0.0, available
via http://www.3gpp.org/specs/numbering.htm.
Applications which use this media type:
Applications supporting the SEAL network resource management as described in
the published specification.
Fragment identifier considerations:
The handling in section 5 of IETF RFC 7303 applies.
Restrictions on usage:
None
Provisional registration? (standards tree only):
N/A
Additional information:
1\. Deprecated alias names for this type: none
2\. Magic number(s): none
3\. File extension(s): none
4\. Macintosh File Type Code(s): none
5\. Object Identifier(s) or OID(s): none
Intended usage:
Common
Person to contact for further information:
\- Name: \
\- Email: \
\- Author/Change controller:
i) Author: 3GPP CT1 Working Group/3GPP_TSG_CT_WG1\@LIST.ETSI.ORG
ii) Change controller: \/\
### 7.7.2 IANA registration template for UnicastInfo
Your Name:
\
Your Email Address:
\
Media Type Name:
Application
Subtype name:
application/vnd.3gpp.seal-unicast-info+xml
Required parameters:
None
Optional parameters:
\"charset\" the parameter has identical semantics to the charset parameter of
the \"application/xml\" media type as specified in section 9.1 of IETF RFC
7303.
Encoding considerations:
binary.
Security considerations:
Same as general security considerations for application/xml media type as
specified in section 9.1 of IETF RFC 7303. In addition, this media type
provides a format for exchanging information in SIP or in HTTP, so the
security considerations from IETF RFC 3261 apply while exchanging information
in SIP and the security considerations from IETF RFC 2616 apply while
exchanging information in HTTP.
The information transported in this media type does not include active or
executable content.
Mechanisms for privacy and integrity protection of protocol parameters exist.
Those mechanisms as well as authentication and further security mechanisms are
described in 3GPP TS 24.229.
This media type does not include provisions for directives that institute
actions on a recipient\'s files or other resources.
This media type does not include provisions for directives that institute
actions that, while not directly harmful to the recipient, may result in
disclosure of information that either facilitates a subsequent attack or else
violates a recipient\'s privacy in any way.
This media type does not employ compression.
Interoperability considerations:
Same as general interoperability considerations for application/xml media type
as specified in section 9.1 of IETF RFC 7303. Any unknown XML elements and any
unknown XML attributes are to be ignored by recipient of the MIME body.
Published specification:
3GPP TS 24.548 \"Network Resource Management - Service Enabler Architecture
Layer for Verticals (SEAL); Protocol specification\" version 16.0.0, available
via http://www.3gpp.org/specs/numbering.htm.
Applications which use this media type:
Applications supporting the SEAL network resource management as described in
the published specification.
Fragment identifier considerations:
The handling in section 5 of IETF RFC 7303 applies.
Restrictions on usage:
None
Provisional registration? (standards tree only):
N/A
Additional information:
1\. Deprecated alias names for this type: none
2\. Magic number(s): none
3\. File extension(s): none
4\. Macintosh File Type Code(s): none
5\. Object Identifier(s) or OID(s): none
Intended usage:
Common
Person to contact for further information:
\- Name: \
\- Email: \
\- Author/Change controller:
i) Author: 3GPP CT1 Working Group/3GPP_TSG_CT_WG1\@LIST.ETSI.ORG
ii) Change controller: \/\
### 7.7.3 IANA registration template for MBMSInfo
Your Name:
\
Your Email Address:
\
Media Type Name:
Application
Subtype name:
application/vnd.3gpp.seal-mbms-usage-info+xml
Required parameters:
None
Optional parameters:
\"charset\" the parameter has identical semantics to the charset parameter of
the \"application/xml\" media type as specified in section 9.1 of IETF RFC
7303.
Encoding considerations:
binary.
Security considerations:
Same as general security considerations for application/xml media type as
specified in section 9.1 of IETF RFC 7303. In addition, this media type
provides a format for exchanging information in SIP or in HTTP, so the
security considerations from IETF RFC 3261 apply while exchanging information
in SIP and the security considerations from IETF RFC 2616 apply while
exchanging information in HTTP.
The information transported in this media type does not include active or
executable content.
Mechanisms for privacy and integrity protection of protocol parameters exist.
Those mechanisms as well as authentication and further security mechanisms are
described in 3GPP TS 24.229.
This media type does not include provisions for directives that institute
actions on a recipient\'s files or other resources.
This media type does not include provisions for directives that institute
actions that, while not directly harmful to the recipient, may result in
disclosure of information that either facilitates a subsequent attack or else
violates a recipient\'s privacy in any way.
This media type does not employ compression.
Interoperability considerations:
Same as general interoperability considerations for application/xml media type
as specified in section 9.1 of IETF RFC 7303. Any unknown XML elements and any
unknown XML attributes are to be ignored by recipient of the MIME body.
Published specification:
3GPP TS 24.548 \"Network Resource Management - Service Enabler Architecture
Layer for Verticals (SEAL); Protocol specification\" version 16.0.0, available
via http://www.3gpp.org/specs/numbering.htm.
Applications which use this media type:
Applications supporting the SEAL network resource management as described in
the published specification.
Fragment identifier considerations:
The handling in section 5 of IETF RFC 7303 applies.
Restrictions on usage:
None
Provisional registration? (standards tree only):
N/A
Additional information:
1\. Deprecated alias names for this type: none
2\. Magic number(s): none
3\. File extension(s): none
4\. Macintosh File Type Code(s): none
5\. Object Identifier(s) or OID(s): none
Intended usage:
Common
Person to contact for further information:
\- Name: \
\- Email: \
\- Author/Change controller:
i) Author: 3GPP CT1 Working Group/3GPP_TSG_CT_WG1\@LIST.ETSI.ORG
ii) Change controller: \/\
#