# Foreword {#foreword .TT}
This Technical Report has been produced by the 3^rd^ Generation Partnership
Project (3GPP).
The contents of the present document are subject to continuing work within the
TSG and may change following formal TSG approval. Should the TSG modify the
contents of the present document, it will be re-released by the TSG with an
identifying change of release date and an increase in version number as
follows:
Version x.y.z
where:
x the first digit:
1 presented to TSG for information;
2 presented to TSG for approval;
3 or greater indicates TSG approved document under change control.
y the second digit is incremented for all changes of substance, i.e. technical
enhancements, corrections, updates, etc.
z the third digit is incremented when editorial only changes have been
incorporated in the document.
# 1 Scope
The present document specifies the protocols:
\- for V2X authorization between the UE and the V2X control function (over the
V3 interface);
\- for V2X communication among the UEs (over the LTE-PC5 interface, and over
the NR-PC5 interface as described in 3GPP TS 24.587 [XY] and 3GPP TS 38.331
[25]); and
\- for V2X communication between the UE and the V2X application server (over
the LTE-Uu interface).
The present document defines the associated procedures for V2X authorization
and V2X communication.
The present document also defines the message format, message contents, error
handling and system parameters applied by the protocols for V2X.
The present document is applicable to:
\- the UE;
\- the V2X control function; and
\- the V2X application server.
# 2 References
The following documents contain provisions which, through reference in this
text, constitute provisions of the present document.
\- References are either specific (identified by date of publication, edition
number, version number, etc.) or nonâ€‘specific.
\- For a specific reference, subsequent revisions do not apply.
\- For a non-specific reference, the latest version applies. In the case of a
reference to a 3GPP document (including a GSM document), a non-specific
reference implicitly refers to the latest version of that document _in the
same Release as the present document_.
[1] 3GPP TR 21.905: \"Vocabulary for 3GPP Specifications\".
[2] 3GPP TS 23.285: \"Architecture enhancements for V2X services\".
[3] 3GPP TS 24.385: \"V2X services Management Object (MO)\".
[4] 3GPP TS 24.334: \"Proximity-services (ProSe) User Equipment (UE) to
Proximity-services (ProSe) Function Protocol aspects; Stage 3\".
[5] IEEE 1609.3 2016: \"IEEE Standard for Wireless Access in Vehicular
Environments (WAVE) -- Networking Services\".
[6] ISO 29281-1 2013: \"Intelligent transport systems -- Communication access
for land mobiles (CALM) -- Non-IP networking -- Part 1: Fast networking &
transport layer protocol (FNTP)\".
[7] Void.
[8] 3GPP TS 36.323: \"Packet Data Convergence Protocol (PDCP) specification\".
[9] 3GPP TS 23.122: \"Non-Access-Stratum (NAS) functions related to Mobile
Station (MS) in idle mode\".
[10] 3GPP TS 36.304: \"Evolved Universal Terrestrial Radio Access (E-UTRA);
User Equipment (UE) procedures in idle mode\".
[11] 3GPP TS 24.301: \"Non-Access-Stratum (NAS) protocol for Evolved Packet
System (EPS); Stage 3\".
[12] 3GPP TS 24.008: \"Mobile Radio Interface Layer 3 specification; Core
Network Protocols; Stage 3\".
[13] IETF RFC 1035: \"DOMAIN NAMES - IMPLEMENTATION AND SPECIFICATION\".
[14] 3GPP TS 23.003: \"Numbering, addressing and identification\".
[15] 3GPP TS 29.468: \"Group Communication System Enablers for LTE (GCSE_LTE);
MB2 Reference Point; Stage 3\".
[16] IETF RFC 4566: \"SDP: Session Description Protocol\".
[17] IETF RFC 2234: \"Augmented BNF for Syntax Specification: ABNF\".
[18] IETF RFC 768: \"User Datagram Protocol\".
[19] Void.
[20] 3GPP TS 33.185: \"Security aspect for LTE support of V2X services\".
[21] 3GPP TS 33.401: \"3GPP System Architecture Evolution: Security
Architecture\".
[22] 3GPP TS 36.331: \"Evolved Universal Terrestrial Radio Access (E-UTRA);
Radio Resource Control (RRC); Protocol specification\".
[23] ETSI EN 302 636-3 v1.2.1: \"Intelligent Transport Systems (ITS);
Vehicular Communications; GeoNetworking; Part 3: Network Architecture\".
[24] CCSA YD/T 3707-2020: \"Technical requirements of network layer of LTE-
based vehicular communication\".
[25] 3GPP TS 38.331: \"NR; Radio Resource Control (RRC) protocol
specification\".
[26] 3GPP TS 23.287: \"Architecture enhancements for 5G System (5GS) to
support; Vehicle-to-Everything (V2X) services\".
[27] 3GPP TS 24.587: \"Vehicle-to-Everything (V2X) services in 5G System
(5GS); Stage 3\".
[28] 3GPP TS 24.587: \"Vehicle-to-Everything (V2X) services in 5G System
(5GS); Protocol aspects; Stage 3\".
[29] IETF RFC 793: \"Transmission Control Protocol\".
# 3 Definitions and abbreviations
## 3.1 Definitions
For the purposes of the present document, the terms and definitions given in
3GPP TR 21.905 [1] and the following apply.\ A term defined in the present
document takes precedence over the definition of the same term, if any, in
3GPP TR 21.905 [1].
**Not served by E-UTRAN for V2X communication: the UE is either:**
\- outside of E-UTRAN coverage;
\- within E-UTRAN coverage but not camped on any cell;
\- within E-UTRAN coverage but camped on a non-E-UTRAN cell;
\- camped on an E-UTRAN cell not indicating that V2X communication over PC5 is
supported by the network; or
\- camped on an E-UTRAN cell indicating that V2X communication over PC5 is
supported by the network and providing carrier frequencies and/or radio
resources for V2X communication over PC5 which do not belong to the
provisioned carrier frequency that the UE intends to use.
**V2X service identifier** : an identifier of a V2X service, e.g. PSID, ITS-
AID, or AID of the V2X application.
For the purposes of the present document, the following terms and definitions
given in 3GPP TS 23.285 [2] apply:
**Application Identifier (AID)**
**Intelligent Transport Systems (ITS)**
**ITS Application Identifier (ITS-AID)**
**ProSe Per-Packet Reliability (PPPR)**
**Provider Service Identifier (PSID)**
**V2X service**
For the purposes of the present document, the following terms and definitions
given in 3GPP TS 23.003 [14] apply:
**TMGI**
## 3.2 Abbreviations
For the purposes of the present document, the abbreviations given in 3GPP TR
21.905 [1] and the following apply. An abbreviation defined in the present
document takes precedence over the definition of the same abbreviation, if
any, in 3GPP TR 21.905 [1].
PDB Packet Delay Budget
PPPP ProSe Per-Packet Priority
SAI Service Area Identifier
SDP Session Description Protocol
UDP User datagram protocol
V2X Vehicle-to-Everything
# 4 General
## 4.1 Overview
The present specification specifies means for transport of V2X messages. V2X
messages are generated and consumed by upper layers of the UE and the V2X
application server. V2X messages can contain IP data or non-IP data.
The V2X messages can be transported using:
\- V2X communication over PC5; and
\- V2X communication over LTE-Uu.
V2X communication over PC5 enables transfer of V2X messages among UEs. For V2X
messages containing IP data, only IPv6 is used. IPv4 is not supported in this
release of the specifications.
V2X communication over LTE-Uu enables transfer of V2X messages between a UE
and a V2X application server. V2X messages are carried over LTE-Uu in payload
of a UDP/IP packet or via a TCP connection. A UE using V2X communication over
LTE-Uu:
\- can use unicast transport (in uplink, downlink or both of them);
\- can use MBMS transport (in downlink only);
\- can use transport for uplink which is the same or different to the
transport for downlink; and
\- can use also MBMS transport for downlink without using any transport for
uplink.
The communication security over the V3 interface and LTE-Uu interface is
specified in 3GPP TS 33.185 [20]. The communication security and privacy over
the PC5 interface is specified in 3GPP TS 33.185 [20].
NOTE: ProSe charging specified in 3GPP TS 24.334 [4] is expected to be usable
for V2X communication over PC5, although no V2X specific procedures for
charging are specified in this release.
# 5 Provisioning of parameters for V2X configuration
## 5.1 General
V2X communication is configured by the V2X configuration parameters.
## 5.2 Configuration and precedence of V2X configuration parameters
### 5.2.1 General
The V2X configuration parameters consist of:
a) configuration parameters for V2X provisioning as specified in subclause
5.2.3;
b) configuration parameters for V2X communication over PC5 as specified in
subclause 5.2.4; and
c) configuration parameters for V2X communication over LTE-Uu as specified in
subclause 5.2.5.
### 5.2.2 Precedence of the V2X configuration parameters
The V2X configuration parameters can be:
a) pre-configured in the ME;
b) configured in the USIM;
c) provided by the V2X control function to the ME using procedures specified
in subclause 5.3.2, subclause 5.3.3 and subclause 5.3.4; or
d) any combination of the above.
The UE shall use the V2X configuration parameters in the following order of
decreasing precedence:
a) the V2X configuration parameters provided by the V2X control function to
the ME using procedures specified in subclause 5.3.2, subclause 5.3.3 and
subclause 5.3.4;
b) the V2X configuration parameters configured in the USIM; and
c) the V2X configuration parameters pre-configured in the ME.
### 5.2.3 Configuration parameters for V2X provisioning
The configuration parameters for V2X provisioning consist of:
a) optionally a V2X control function address. The V2X control function address
can be an FQDN or an IP address; and
b) optionally parameters of a PDN connection for communication with V2X
control function.
### 5.2.4 Configuration parameters for V2X communication over PC5
The configuration parameters for V2X communication over PC5 consist of:
a) an expiration time for the validity of the configuration parameters for V2X
communication over PC5;
b) a list of PLMNs in which the UE is authorized to use V2X communication over
PC5 when the UE is served by E-UTRAN for V2X communication;
c) an indication of whether the UE is authorized to use V2X communication over
PC5 when the UE is not served by E-UTRAN for V2X communication;
d) per geographical area:
1) radio parameters for V2X communication over PC5 applicable when the UE is
not served by E-UTRAN for V2X communication and is located in the geographical
area, with an indication of whether these radio parameters are \"operator
managed\" or \"non-operator managed\";
e) a list of the V2X services authorized for V2X communication over PC5. Each
entry of the list contains:
1) a V2X service identifier; and
2) a destination Layer-2 ID;
f) PPPP to PDB mapping rules between the ProSe Per-Packet Priority (PPPP) and
the Packet Delay Budget (PDB) for V2X communication over PC5;
g) optionally, a default destination Layer-2 ID;
h) optionally, a configuration for the applicability of privacy for V2X
communication over PC5, containing:
1) a T5000 timer indicating how often the UE shall change the source Layer-2
ID and source IP address (for IP data) self-assigned by the UE for V2X
communication over PC5; and
2) a list of the V2X services which require privacy for V2X communication over
PC5. Each entry in the list contains:
A) a V2X service identifier; and
B) optionally, one or more associated geographical areas;
i) optionally, V2X service identifier to V2X frequency mapping rules between
the V2X service identifiers and the V2X frequencies with associated
geographical areas for V2X communication over PC5;
j) optionally, a list of the V2X services authorized for ProSe Per-Packet
Reliability (PPPR). Each entry of the list contains a V2X service identifier
and a ProSe Per-Packet Reliability (PPPR) value;
k) optionally, V2X service identifier to Tx Profile mapping rules between the
V2X service identifiers and the Tx Profile for V2X communication over PC5; and
l) optionally, configuration parameters for V2X communication over NR-PC5,
consisting of:
1) optionally, a list of V2X service identifier to V2X NR frequency mapping
rules. Each mapping rule contains one or more V2X service identifiers and the
V2X NR frequencies with associated geographical areas;
2) a list of V2X service identifier to destination layer-2 ID for broadcast
mapping rules. Each mapping rule contains one or more V2X service identifiers
and the destination layer-2 ID for broadcast;
3) optionally, a default destination layer-2 ID for broadcast;
4) a list of V2X service identifier to destination layer-2 ID for groupcast
mapping rules. Each mapping rule contains one or more V2X service identifiers
and the destination layer-2 ID for groupcast;
5) a list of V2X service identifier to default destination layer-2 ID for
unicast initial signaling mapping rules. Each mapping rule contains one or
more V2X service identifiers and the default destination layer-2 ID for
initial signalling to establish unicast connection;
6) a list of V2X service identifier to PC5 QoS parameters mapping rules. The
PC5 QoS parameters are specified in clause 5.4.2 of 3GPP TS 23.287 [26];
7) an AS configuration, including a list of SLRB mapping rules applicable when
the UE is not served by E-UTRA and is not served by NR. Each SLRB mapping rule
contains a PC5 QoS profile and an SLRB. The PC5 QoS profile contains the
following parameters:
i) the PC5 QoS profile contains a PQI;
ii) if the PQI of the PC5 QoS profile identifies a GBR QoS, the PC5 QoS
profile contains a PC5 flow bit rates consisting of a guaranteed flow bit rate
(GFBR) and a maximum flow bit rate (MFBR);
iii) if the PQI of the PC5 QoS profile identifies a non-GBR QoS, the PC5 QoS
profile contains the PC5 link aggregated bit rate consisting of a per link
aggregate maximum bit rate (PC5 LINK-AMBR);
NOTE: PC5 link aggregated bit rate is only used for unicast mode
communications over PC5.
iv) the PC5 QoS profile contains a range, which is only used for groupcast
mode communications over PC5; and
v) the PC5 QoS profile can contain the priority level, the averaging window,
and/or the maximum data burst volume. If one or more of the priority level,
the averaging window or the maximum data burst volume are not contained in the
PC5 QoS profile, their default values apply;
8) a list of V2X service identifier to default mode of communication mapping
rules. Each mapping rule contains one or more V2X service identifiers and the
default mode of communication (one of unicast, groupcast or broadcast); and
9) a list of NR-PC5 unicast security policies. Each entry in the list contains
an NR-PC5 unicast security policy composed of:
i) one or more V2X service identifiers;
ii) the signalling integrity protection policy for the V2X service
identifier(s);
iii) the signalling ciphering policy for the V2X service identifier(s);
iv) the user plane integrity protection policy for the V2X service
identifier(s);
v) the user plane ciphering policy for the V2X service identifier(s); and
vi) one or more geographical areas where the NR-PC5 unicast security policy
applies.
### 5.2.5 Configuration parameters for V2X communication over LTE-Uu
The configuration parameters for V2X communication over LTE-Uu consist of:
a) an expiration time for the validity of the configuration parameters for V2X
communication over LTE-Uu;
b) optionally parameters of a PDN connection for V2X communication over LTE-Uu
using unicast; and
c) a list of PLMNs in which the UE is authorized to use V2X communication over
LTE-Uu. For each PLMN, the list contains:
1) optionally a V2X AS MBMS configuration for receiving V2X application server
information using MBMS consisting of:
A) a TMGI;
B) a list of service area identifiers (SAIs);
C) a frequency; and
D) an SDP encoded as specified in subclause 7.3;
2) for transfer of a V2X message of a V2X service not identified by a V2X
service identifier:
A) optionally one or more V2X MBMS configuration(s) for receiving V2X
communication over LTE-Uu using MBMS consisting of:
i) a TMGI;
ii) a list of service area identifiers (SAIs);
iii) a frequency; and
iv) an SDP body;
B) optionally one or more V2X application server address(es) applicable when
the UE is registered to the PLMN. A V2X application server address can be an
FQDN or an IP address; and
C) optionally per geographical area, one or more V2X application server
address(es) applicable when the UE is registered to the PLMN and is located in
the geographical area. A V2X application server address can be an FQDN or an
IP address; and
3) for transfer of a V2X message of a V2X service identified by a V2X service
identifier:
A) a list of the V2X services authorized for V2X communication over LTE-Uu.
Each entry of the list contains:
i) a V2X service identifier;
ii) optionally one or more V2X MBMS configuration(s) for receiving V2X
communication over LTE-Uu using MBMS consisting of:
\- a TMGI;
\- a list of service area identifiers (SAIs);
\- a frequency; and
\- an SDP body encoded as specified in subclause 7.2;
iii) optionally a V2X application server address for the unicast V2X
communication over LTE-Uu applicable when the UE is registered to the PLMN. A
V2X application server address consists of:
\- an FQDN, or an IP address; and
\- a UDP port, a TCP port for bidirectional transport or both of them; and
iv) optionally per geographical area, one or more V2X application server
address(es) for the unicast V2X communication over LTE-Uu applicable when the
UE is registered to the PLMN and is located in the geographical area. A V2X
application server address consists of:
\- an FQDN, or an IP address; and
\- a UDP port, a TCP port for bidirectional transport or both of them;
B) optionally one or more default V2X MBMS configuration(s) for receiving V2X
communication over LTE-Uu using MBMS consisting of:
i) a TMGI;
ii) a list of service area identifiers (SAIs);
iii) a frequency; and
iv) an SDP body encoded as specified in subclause 7.2;
C) optionally per type of data (IP and non-IP) and V2X message family (in case
of non-IP), one or more default V2X application server addresses for the
unicast V2X communication over LTE-Uu applicable when the UE is registered to
the PLMN. Each V2X application server address consists of:
i) an FQDN, or an IP address; and
ii) a UDP port, a TCP port for bidirectional transport or both of them;
D) optionally per type of data (IP and non-IP), V2X message family (in case of
non-IP) and a geographical area, one or more default V2X application server
addresses for the unicast V2X communication over LTE-Uu applicable when the UE
is registered to the PLMN. A V2X application server address consists of:
i) an FQDN, or an IP address; and
ii) a UDP port, a TCP port for bidirectional transport or both of them; and
E) a list of V2X service identifiers of the V2X services authorized for V2X
communication over LTE-Uu using existing unicast routing.
## 5.3 Procedures
### 5.3.1 General
The procedures specified in remaining subclauses of the parent subclause of
this subclause enable modification of the configuration parameters of the UE
specified in subclause 5.2. The UE and the V2X control function shall support
requirements for securing communication over V3 reference point as specified
in 3GPP TS 33.185 [20].
### 5.3.2 V2X control function discovery procedure
In order to discover the V2X control function IP address, the UE shall proceed
in following order of decreasing precedence:
a) if the V2X control function address specified in subclause 5.2.3 is
provisioned and is an IP address, the UE shall use this IP address as the
discovered V2X control function address;
b) if the V2X control function address specified in subclause 5.2.3 is
provisioned and is an FQDN, the UE shall perform DNS lookup of the V2X control
function FQDN as specified in IETF RFC 1035 [13] and shall use the resulting
IP address as the discovered V2X control function address;
c) if the V2X control function address specified in subclause 5.2.3 is not
provisioned and the UE is pre-configured with a V2X control function FQDN, the
UE shall perform DNS lookup as specified in IETF RFC 1035 [13] of the V2X
control function FQDN and shall use the resulting IP address as the discovered
V2X control function address; and
d) if the V2X control function address specified in subclause 5.2.3 is not
provisioned and the UE is not pre-configured with a V2X control function FQDN,
the UE shall self-construct the V2X control function FQDN as specified in 3GPP
TS 23.003 [14], shall perform DNS lookup as specified in IETF RFC 1035 [13] of
the V2X control function FQDN and shall use the resulting IP address as the
discovered V2X control function address.
### 5.3.3 V2X authorization procedure
#### 5.3.3.1 General
The V2X authorization procedure enables the UE to retrieve V2X communication
parameters from the V2X control function.
The UE shall initiate the V2X authorization procedure:
a) when the UE receives a request from upper layers to send or to receive
using V2X communication over PC5 a V2X message of a V2X service identified by
a V2X service identifier and:
1) the expiration time of validity of the configuration parameters for V2X
communication over PC5 indicates a timer earlier than the current time; or
2) the V2X service identifier is not listed in an entry of the list of the V2X
services authorized for V2X communication over PC5 and the registered PLMN is
in the list of PLMNs in which the UE is authorized to use V2X communication
over PC5 as specified in subclause 5.2.4;
b) when the UE is served by E-UTRAN for V2X communication and the UE changes
its registered PLMN to a PLMN which is not listed in the list of PLMNs in
which the UE is authorized to use V2X communication over PC5 when the UE is
served by E-UTRAN for V2X communication;
c) when the UE is served by E-UTRAN for V2X communication and the UE changes
its registered PLMN to a PLMN which is not listed in the list of PLMNs in
which the UE is authorized to use V2X communication over LTE-Uu;
d) when the UE receives a request from upper layers to send or to receive
using V2X communication over LTE-Uu a V2X message of a V2X service not
identified by a V2X service identifier and the expiration time of validity of
the configuration parameters for V2X communication over LTE-Uu indicates a
timer earlier than the current time; or
e) when the UE receives a request from upper layers to send or to receive a
V2X message using V2X communication over LTE-Uu of a V2X service identified by
a V2X service identifier and:
1) the expiration time of validity of the configuration parameters for V2X
communication over LTE-Uu indicates a timer earlier than the current time; or
2) the V2X service identifier is not listed in an entry of the list of the V2X
services authorized for V2X communication over LTE-Uu and the registered PLMN
is in the list of PLMNs in which the UE is authorized to use V2X communication
over LTE-Uu as specified in subclause 5.2.5.
If the parameters of a PDN connection for communication with V2X control
function specified in subclause 5.2.3 are configured:
a) if a PDN connection according to these parameters is not established yet,
the UE shall establish a PDN connection according to these parameters; and
b) if a PDN connection according to these parameters is already established
(due to application of the present specification or due to another
application), the UE shall send and receive messages of the V2X authorization
procedure via the PDN connection established according to these parameters.
The UE shall send messages of the V2X authorization procedure to the V2X
control function IP address discovered as specified in subclause 5.3.2.
#### 5.3.3.2 V2X authorization procedure initiation
In order to initiate the V2X authorization procedure, the UE shall request
client-initiated provisioning of the management object specified in 3GPP TS
24.385 [3].
Upon receiving a request for client-initiated provisioning of the management
object specified in 3GPP TS 24.385 [3], the V2X control function may update
the management object specified in 3GPP TS 24.385 [3] in the UE.
#### 5.3.3.3 V2X authorization procedure successful
If client-initiated provisioning of the management object specified in 3GPP TS
24.385 [3] successfully finishes, the UE and the V2X control function shall
consider the V2X authorization procedure to be successfully completed.
#### 5.3.3.4 V2X authorization procedure not successful
If the UE receives no response within an implementation dependent time after
sending of the request for client-initiated provisioning of the management
object specified in 3GPP TS 24.385 [3], the UE shall determine that the V2X
authorization procedure is unsuccessfully completed.
### 5.3.4 V2X authorization update procedure
#### 5.3.4.1 General
The V2X authorization update procedure enables the V2X control function to
provide new V2X configuration parameters to the UE.
If the parameters of a PDN connection for communication with V2X control
function specified in subclause 5.2.3 are configured:
a) if a PDN connection according to these parameters is not established yet,
the UE shall establish a PDN connection according to these parameters; and
b) if a PDN connection according to these parameters is already established
(due to application of the present specification or due to another
application), the UE shall send and receive messages of the V2X authorization
update procedure via the PDN connection established according to these
parameters.
The UE shall send messages of the V2X authorization update procedure to the
V2X control function IP address discovered as specified in subclause 5.3.2.
#### 5.3.4.2 V2X authorization update procedure initiation
In order to initiate the V2X authorization update procedure, the V2X control
function shall send a notification requesting the UE to initiate server-
initiated provisioning of the management object specified in 3GPP TS 24.385
[3] to the UE.
Upon receiving a notification requesting the UE to initiate server-initiated
provisioning of the management object specified in 3GPP TS 24.385 [3], the UE
shall request server-initiated provisioning of the management object specified
in 3GPP TS 24.385 [3].
Upon receiving a request for server-initiated provisioning of the management
object specified in 3GPP TS 24.385 [3], the V2X control function shall update
the management object specified in 3GPP TS 24.385 [3] in the UE.
#### 5.3.4.3 V2X authorization update procedure successful
If server-initiated provisioning of the management object specified in 3GPP TS
24.385 [3] successfully finishes, the UE and the V2X control function shall
consider the V2X authorization update procedure to be successfully completed.
#### 5.3.4.4 V2X authorization update procedure not successful
If the V2X control function does not receive a request for server-initiated
provisioning of the management object specified in 3GPP TS 24.385 [3] within
an implementation dependent time after sending of the notification requesting
the UE to initiate server-initiated provisioning of the management object
specified in 3GPP TS 24.385 [3], the V2X control function shall determine that
the V2X authorization update procedure is unsuccessfully completed.
If the UE receives no response within an implementation dependent time after
sending of the request for server-initiated provisioning of the management
object specified in 3GPP TS 24.385 [3], the UE shall determine that the V2X
authorization update procedure is unsuccessfully completed.
# 6 V2X communication
## 6.1 V2X communication over PC5
### 6.1.1 General
This subclause describes the procedures at the UE, and between UEs, for V2X
communication over PC5.
The UE shall support requirements for securing V2X communication over PC5 as
specified in 3GPP TS 33.185 [20]. The UE shall support a privacy protection
for the V2X communication over PC5 subject to regional regulatory requirements
and/or operator policy for a V2X application as specified in 3GPP TS 33.185
[20], subclause 6.1.2.4.Both IP based and non-IP based V2X communication over
PC5 are supported. For IP based V2X communication, only IPv6 is used. IPv4 is
not supported in this release of the present document.
### 6.1.2 Transmission of V2X communication over PC5
#### 6.1.2.1 Initiation
The upper layers can request the UE to send a V2X message of a V2X service
identified by a V2X service identifier using V2X communication over PC5. The
request from the upper layers includes:
a) the V2X message;
b) the V2X service identifier of the V2X service for the V2X message;
c) the type of data in the V2X message (IP or non-IP);
d) if the V2X message contains non-IP data, the V2X message family (see
subclause 7.1) of data in the V2X message;
e) the V2X message priority; and
f) optionally the ProSe Per-Packet Reliability (PPPR) value.
Upon a request from upper layers to send a V2X message of a V2X service
identified by a V2X service identifier using V2X communication over PC5, if
the UE is configured with V2X service identifier to V2X frequency mapping
rules for V2X communication over PC5 as specified in subclause 5.2.4 and there
is one or more V2X frequencies associated with the V2X service identifier of
the V2X service for the V2X message in the current the geographical area, pass
the one or more V2X frequencies associated with the V2X service identifier of
the V2X service for the V2X message to the lower layers. Then, the UE shall
proceed as follows:
a) if the following conditions are met:
1) the UE is served by E-UTRAN for V2X communication;
2) the UE intends to use the radio resources (i.e. carrier frequency) provided
by an E-UTRAN cell;
3) the registered PLMN is in the list of PLMNs in which the UE is authorized
to use V2X communication over PC5 when the UE is served by E-UTRAN for V2X
communication as specified in subclause 5.2.4; and
4) the V2X service identifier of the V2X service is included in the list of
V2X services authorized for V2X communication over PC5 as specified in
subclause 5.2.4 or the UE is configured with a default destination Layer-2 ID
for V2X communication over PC5 as specified in subclause 5.2.4;
then the UE shall:
1) request radio resources for V2X communication over PC5 as specified in 3GPP
TS 24.334 [4] subclause 10.2.2. When requesting the radio resources for V2X
communication over PC5, if:
A) a ProSe Per-Packet Reliability (PPPR) value is received from the upper
layers; and
B) one of the following conditions is met:
i) the list of the V2X services authorized for ProSe Per-Packet Reliability
(PPPR) is not configured; or
ii) the V2X service identifier of the V2X service for the V2X message and the
received ProSe Per-Packet Reliability (PPPR) value are included in an entry of
the list of the V2X services authorized for ProSe Per-Packet Reliability
(PPPR);
then the UE shall indicate to lower layers the received ProSe Per-Packet
Reliability (PPPR) value; and
2) perform transmission of V2X communication over PC5 as specified in
subclause 6.1.2.2; and
b) if the following conditions are met:
1) the UE is:
A) not served by E-UTRAN for V2X communication;
B) in limited service state as specified in 3GPP TS 23.122 [9], if the reason
for the UE being in limited service state is one of the following;
i) the UE is unable to find a suitable cell in the selected PLMN as specified
in 3GPP TS 36.304 [10];
ii) the UE received an ATTACH REJECT message or a TRACKING AREA UPDATE REJECT
message or a SERVICE REJECT message with the EMM cause #11 \"PLMN not
allowed\" as specified in 3GPP TS 24.301 [11] or a LOCATION UPDATING REJECT
message or a GPRS ATTACH REJECT message or a ROUTING AREA UPDATE REJECT
message or SERVICE REJECT message with the EMM cause #11 \"PLMN not allowed\"
as specified in 3GPP TS 24.008 [12]; or
iii) the UE received an ATTACH REJECT message or a TRACKING AREA UPDATE REJECT
message or a SERVICE REJECT message with the EMM cause #7 \"EPS services not
allowed\" as specified in 3GPP TS 24.301 [11] or a LOCATION UPDATING REJECT
message or a GPRS ATTACH REJECT message or a ROUTING AREA UPDATE REJECT
message or a SERVICE REJECT message with the EMM cause #7 \"GPRS services not
allowed\" as specified in 3GPP TS 24.008 [12]; or
C) in limited service state as specified in 3GPP TS 23.122 [9] for reasons
other than i), ii) or iii) above, and located in a geographical area for which
the UE is provisioned with \"non-operator managed\" radio parameters as
specified in subclause 5.2.4;
2) the UE is authorized to use V2X communication over PC5 when the UE is not
served by E-UTRAN for V2X communication as specified in subclause 5.2.4; and
3) the V2X service identifier of the V2X service is included in the list of
V2X services authorized for V2X communication over PC5 as specified in
subclause 5.2.4 or the UE is configured with a default destination Layer-2 ID
for V2X communication over PC5 as specified in subclause 5.2.4;
then the UE shall:
1) select radio resources for V2X communication over PC5 as specified in
subclause 6.1.2.3; and
2) perform transmission of V2X communication over PC5 as specified in
subclause 6.1.2.2;
else the UE shall not perform transmission of V2X communication over PC5.
If the UE is camped on an E-UTRAN cell indicating that V2X communication over
PC5 is supported by the network, but not broadcasting any carrier frequencies
and radio resources for V2X communication over PC5 as specified in 3GPP TS
36.331 [23], the UE shall request radio resources for V2X communication over
PC5 as specified in 3GPP TS 24.334 [4] subclause 10.2.2.
#### 6.1.2.2 Transmission
The UE shall include the V2X message in a protocol data unit and pass it to
the lower layers for transmission along with the following parameters:
a) a Layer-3 protocol data unit type (see 3GPP TS 36.323 [8]) set to:
1) IP packet, if the V2X message contains IP data; or
2) non-IP packet, if the V2X message contains non-IP data;
b) the source Layer-2 ID set to the Layer-2 ID self-assigned by the UE for V2X
communication over PC5;
c) the destination Layer-2 ID set to:
1) the destination Layer-2 ID associated with the V2X service identifier of
the V2X service in this list of V2X services authorized for V2X communication
over PC5 as specified in subclause 5.2.4, if the V2X service identifier of the
V2X service is included in the list of V2X services authorized for V2X
communication over PC5 as specified in subclause 5.2.4; or
2) the default destination Layer-2 ID configured to the UE for V2X
communication over PC5 as specified in subclause 5.2.4, if the V2X service
identifier of the V2X service is not included in the list of V2X services
authorized for V2X communication over PC5 and the UE is configured with a
default destination Layer-2 ID for V2X communication over PC5;
d) if the V2X message contains non-IP data, an indication to set the non-IP
type field of the non-IP type PDU to the value corresponding to the V2X
message family (see subclause 7.1) used by the V2X service as indicated by
upper layers;
e) if the V2X message contains IP data, the source IP address set to the
source IP address self-assigned by the UE for V2X communication over PC5;
f) the ProSe Per-Packet Priority set to the value corresponding to the V2X
message priority received from upper layers. The mapping of V2X message
priority to ProSe Per-Packet Priority is configured on the UE and is out of
the scope of this specification;
g) if the UE is configured with PDB (Packet Delay Budget)-to-ProSe Per-Packet
Priority mapping rules for V2X communication over PC5 as specified in
subclause 5.2.4, the PDB associated with the ProSe Per-Packet Priority as
specified in subclause 5.2.4;
h) if:
1) a ProSe Per-Packet Reliability (PPPR) value is received from the upper
layers; and
2) one of the following conditions is met:
A) the list of the V2X services authorized for ProSe Per-Packet Reliability
(PPPR) is not configured; or
B) the V2X service identifier of the V2X service for the V2X message and the
received ProSe Per-Packet Reliability (PPPR) value are included in an entry of
the list of the V2X services authorized for ProSe Per-Packet Reliability
(PPPR);
then the ProSe Per-Packet Reliability (PPPR) value; and
i) if the UE is configured with V2X service identifier to Tx Profile mapping
rules for V2X communication over PC5 as specified in subclause 5.2.4, the Tx
Profile associated with the V2X service identifier as specified in subclause
5.2.4.
If the UE has an emergency PDN connection, the UE shall send an indication to
the lower layers to prioritize transmission over the emergency PDN connection
as compared to transmission of V2X communication over PC5.
#### 6.1.2.3 Procedure for UE to use provisioned radio resources for V2X
communication over PC5
When the UE is not served by E-UTRAN for V2X communication, the UE shall
select the radio parameters to be used for V2X communication over PC5 as
follows:
\- if the UE can determine itself located in a geographical area, and the UE
is provisioned with radio parameters for the geographical area, the UE shall
select the radio parameters associated with that geographical area; or
\- in all other cases, the UE shall not initiate V2X communication over PC5.
It is out of scope of the present specification to define how the UE can
locate itself in a specific geographical area. When the UE is in coverage of a
3GPP RAT it can for example use information derived from the serving PLMN.
When the UE is not in coverage of a 3GPP RAT it can use other techniques, e.g.
Global Navigation Satellite System (GNSS). The UE shall not consider user
provided location as a valid input to locate itself in a specific geographical
area.
If the UE intends to use \"non-operator managed\" radio parameters as
specified in subclause 5.2.4, the UE shall initiate V2X communication over PC5
with the selected radio parameters.
If the UE intends to use \"operator managed\" radio parameters as specified in
subclause 5.2.4, before initiating V2X communication over PC5, the UE shall
check with lower layers whether the selected radio parameters can be used in
the current location without causing interference to other cells as specified
in 3GPP TS 36.331 [22], and:
\- if the lower layers indicate that the usage would not cause any
interference, the UE shall initiate V2X communication over PC5; or
NOTE: If the lower layers find that there exists a cell operating the
provisioned radio resources (i.e., carrier frequency), and the cell belongs to
the registered PLMN or a PLMN equivalent to the registered PLMN, and the UE is
authorized for V2X communication over PC5 in this PLMN, the UE can use the
radio parameters indicated by the cell as specified in 3GPP TS 36.331 [22].
\- else if the lower layers report that one or more PLMNs operate in the
provisioned radio resources (i.e. carrier frequency) then:
a) if the following conditions are met:
1) none of the PLMNs reported by the lower layers is the registered PLMN or
equivalent to the registered PLMN;
2) at least one of the PLMNs reported by the lower layers is in the list of
authorized PLMNs for V2X communication over PC5 and provides radio resources
for V2X communication over PC5 as specified in 3GPP TS 36.331 [22]; and
3) the UE does not have an emergency PDN connection;
then the UE shall:
1) if in EMM-IDLE mode, perform PLMN selection triggered by V2X communication
over PC5 as specified in 3GPP TS 23.122 [9]; or
2) else if in EMM-CONNECTED mode, either:
i) perform a detach procedure as specified in 3GPP TS 24.301 [11] and then
perform PLMN selection triggered by V2X communication over PC5 as specified in
3GPP TS 23.122 [9]; or
ii) not initiate V2X communication over PC5.
Whether the UE performs i) or ii) above is left up to UE implementation; or
b) else the UE shall not initiate V2X communication over PC5.
If the registration to the selected PLMN is successful, the UE shall proceed
with the procedure to initiate V2X communication over PC5 as specified in
subclause 6.1.2.1.
If the UE is performing V2X communication over PC5 using radio parameters
associated with a geographical area and moves out of that geographical area,
the UE shall stop performing V2X communication over PC5 and then:
\- if the UE is not served by E-UTRAN for V2X communication or the UE intends
to use radio resources for V2X communication over PC5 other than those
operated by the serving E-UTRAN cell, the UE shall select appropriate radio
parameters for the new geographical area as specified above; or
\- if the UE is served by E-UTRAN for V2X communication and intends to use
radio resources for V2X communication over PC5 operated by the serving E-UTRAN
cell, the UE shall proceed with the procedure to initiate V2X communication
over PC5 when served by E-UTRAN for V2X communication.
#### 6.1.2.4 Privacy of V2X transmission over PC5
Upon initiating transmission of V2X communication over PC5, if:
\- the V2X service identifier of a V2X service requesting transmission of V2X
communication over PC5 is in the list of of V2X services which require privacy
for V2X communication over PC5 as specified in subclause 5.2.4; and
\- the UE is located in a geographical area in which this V2X service requires
privacy for V2X communication over PC5 as specified in subclause 5.2.4, or the
UE is not provisioned any geographical areas in which this V2X services
requires privacy for V2X communication over PC5,
the UE shall proceed as follows:
\- if timer T5000 is not running, start timer T5000;
\- upon:
a) getting an indication from upper layers that the application layer
identifier has been changed; or
b) timer T5000 expiration,
then:
a) change the value of the source Layer-2 ID self-assigned by the UE for V2X
communication over PC5;
b) if the V2X message contains IP data, change the value of the source IP
address self-assigned by the UE for V2X communication over PC5;
c) provide an indication to upper layers that the source Layer-2 ID and/or the
source IP address are changed; and
d) restart timer T5000; and
\- upon stopping transmission of V2X communication over PC5, stop timer T5000.
### 6.1.3 Reception of V2X communication over PC5
The UE can be configured by upper layers with one or more destination Layer-2
ID(s) for reception of V2X messages over PC5. For each received protocol data
unit over PC5, the receiving UE shall check if the destination Layer-2 ID of
the received protocol data unit matches one of the configured destination
Layer-2 IDs. If yes, the UE shall then check whether the protocol data unit
type as defined 3GPP TS 36.323 [8] provided by the lower layers for the
received packet is set to IP packet or non-IP packet, and pass the protocol
data unit to the corresponding upper layer entity.
## 6.2 V2X communication over LTE-Uu
### 6.2.1 General
Procedures for V2X communication over LTE-Uu for V2X services not identified
by a V2X service identifier are out of scope of the present version of the
present specification. Security procedures specified in 3GPP TS 33.401 [21]
for LTE-Uu, and application layer security as defined in other SDOs (e.g. IEEE
or ETSI ITS) apply, as stated in 3GPP 3GPP TS 33.185 [20].
NOTE: The upper layers are responsible for re-assembly of V2X messages and
that is out of scope of 3GPP.
### 6.2.2 Transmission of V2X communication over LTE-Uu from UE to V2X
application server
The upper layers can request the UE to send a V2X message of a V2X service
identified by a V2X service identifier using V2X communication over LTE-Uu.
The request from the upper layers includes:
a) the V2X message;
b) the V2X service identifier of the V2X service for the V2X message;
c) the type of data in the V2X message (IP or non-IP); and
d) if the V2X message contains non-IP data, the V2X message family (see
subclause 7.1) of data in the V2X message.
Upon a request from upper layers to send a V2X message of a V2X service using
V2X communication over LTE-Uu:
a) if the registered PLMN of the UE is not in the list of PLMNs in which the
UE is authorized to use V2X communication over LTE-Uu as specified in
subclause 5.2.5, the UE shall determine that the transmission of V2X
communication over LTE-Uu from UE to V2X application server is not authorized
and shall not continue with the rest of the steps; and
b) if the V2X service is identified by a V2X service identifier:
1) if:
A) the type of data in the V2X message is non-IP; or
B) the type of data in the V2X message is IP, and the V2X service identifier
is not included in the list of V2X service identifiers of the V2X services
authorized for V2X communication over LTE-Uu using existing unicast routing as
specified in subclause 5.2.5;
then:
A) the UE shall discover the V2X application server address as described in
subclause 6.2.6. If the V2X application server address cannot be discovered,
the UE shall determine that the transmission of V2X communication over LTE-Uu
from UE to V2X application server is not possible and shall not continue with
the rest of the steps;
B) if UDP is to be used for the determined V2X application server address, the
UE shall generate a UDP message as described in IETF RFC 768 [18]. In the UDP
message, the UE shall include the V2X message provided by upper layers in the
data octets field. The UE shall send the UDP message to the determined V2X
application server address; and
C) if TCP is to be used for the determined V2X application server address:
i) if a TCP connection with the determined V2X application server address is
not established yet, the UE shall establish a TCP connection with the
determined V2X application server address; and
ii) the UE shall generate one or more TCP message(s) as described in IETF RFC
793 [rfc793]. In the one or more TCP message(s), the UE shall include the V2X
message provided by upper layers in the data octets filed. The UE shall send
the one or more TCP message(s) to the determined V2X application server
address via the TCP connection;
2) if the type of data in the V2X message is IP, and the V2X service
identifier is included in the list of V2X service identifiers of the V2X
services authorized for V2X communication over LTE-Uu using existing unicast
routing as specified in subclause 5.2.5, then the UE shall send the V2X
message using existing unicast routing.
### 6.2.3 Reception of V2X communication over LTE-Uu from UE to V2X
application server
The V2X application server shall be configured with one or more UDP ports, one
or more TCP ports for bidirectional transport or both of them, for reception
of the V2X communication over LTE-Uu from the UE.
If the V2X application server is configured with a UDP port, the following
applies:
a) If the V2X application server supports V2X messages of IP type of data and
of non-IP type of data, then the V2X application server shall be configured
with different UDP ports for V2X messages of different types of data.
b) If the V2X application server supports V2X messages of several V2X message
families, then the V2X application server shall be configured with different
UDP ports for V2X messages of different V2X message families.
c) The V2X application server shall extract a V2X message of a V2X service
from a UDP message received on a local IP address and a UDP port configured
for the V2X service.
If the V2X application server is configured with a TCP port for bidirectional
transport, the V2X application server shall listen for incoming TCP
connection(s) on a local IP address and the TCP port, shall accept the
incoming TCP connection(s), shall receive one or more TCP message(s) via the
accepted TCP connection(s) and shall extract a V2X message of the V2X service
from the received one or more TCP message(s).
### 6.2.4 Transmission of V2X communication over LTE-Uu from V2X application
server to UE
The V2X application server shall be configured with a multicast IP address and
one or more UDP ports for transport of the V2X communication over LTE-Uu to
the UE.
If the V2X application server supports V2X messages of IP type of data and of
non-IP type of data, then the V2X application server shall be configured with
different UDP ports for V2X messages of different types of data.
If the V2X application server supports V2X messages of several V2X message
families, then the V2X application server shall be configured with different
UDP ports for V2X messages of different V2X message families.
In order to transport a V2X message of a V2X service identified by a V2X
service identifier via an MBMS bearer, the V2X application server shall
generate a UDP message. In the UDP message, the V2X application server:
a) shall set data octets field to the V2X message; and
b) shall set the destination IP address and the destination UDP port to the
configured multicast IP address and the configured UDP port associated the
type of data of the V2X message and the V2X message family of the data of the
V2X message (in case of non-IP).
The V2X application server sends the UDP message as the user plane data to the
BM-SC for transport via the MBMS bearer.
### 6.2.5 Reception of V2X communication over LTE-Uu from V2X application
server to UE
The upper layers can request the UE to receive a V2X message of a V2X service
identified by a V2X service identifier using V2X communication over LTE-Uu.
The request from the upper layers includes:
a) the V2X service identifier of the V2X service for the V2X message to be
received;
b) the type of data in the V2X message to be received (IP or non-IP); and
c) if the V2X message to be received contains non-IP data, the V2X message
family (see subclause 7.1) of data in the V2X message to be received.
Upon a request from upper layers to receive a V2X message of a V2X service
using V2X communication over LTE-Uu:
a) if the registered PLMN of the UE is not in the list of PLMNs in which the
UE is authorized to use V2X communication over LTE-Uu as specified in
subclause 5.2.5, the UE shall determine that the transmission of V2X
communication over LTE-Uu Uu from V2X application server to UE is not
authorized and shall not continue with the rest of the steps; and
b) if the V2X service is identified by a V2X service identifier:
1) the UE shall discover one or more V2X MBMS configuration(s) for receiving
V2X communication over LTE-Uu using MBMS as described in subclause 6.2.7;2) if
the V2X MBMS configuration for receiving V2X communication over LTE-Uu using
MBMS is discovered:
A) if the type of data is IP, the UE shall listen for a UDP packet:
i) with the destination IP address set to the IP address indicated in the
\"c=\" line applicable for the \"m=\" line with the application/vnd.3gpp.v2x
media type with the type parameter indicating IP in the SDP body of the V2X
MBMS configuration for receiving V2X communication over LTE-Uu using MBMS; and
ii) with the destination UDP port set to the port indicated in the \"m=\" line
with the application/vnd.3gpp.v2x media type with the type parameter
indicating IP in the SDP body of the V2X MBMS configuration for receiving V2X
communication over LTE-Uu using MBMS;
received via an MBMS bearer corresponding to the TMGI, the list of SAIs and
the frequency of the V2X MBMS configuration for receiving V2X communication
over LTE-Uu using MBMS. If several V2X MBMS configurations for receiving V2X
communication over LTE-Uu using MBMS were discovered, the UE shall perform
this action once per each discovered V2X MBMS configurations for receiving V2X
communication over LTE-Uu using MBMS;
B) if the type of data is non-IP, the UE shall listen for a UDP packet:
i) with the destination IP address set to the IP address indicated in the
\"c=\" line applicable for the \"m=\" line with the application/vnd.3gpp.v2x
media type with:
\- the type parameter indicating non-IP; and
\- the v2x-message-family parameter indicating the V2X message family;
in the SDP body of the V2X MBMS configuration for receiving V2X communication
over LTE-Uu using MBMS; and
ii) with the destination UDP port set to the port indicated in the \"m=\" line
with the application/vnd.3gpp.v2x media type with:
\- the type parameter indicating non-IP; and
\- the v2x-message-family parameter indicating the V2X message family;
in the SDP body of the V2X MBMS configuration for receiving V2X communication
over LTE-Uu using MBMS;
received via an MBMS bearer corresponding to the TMGI, the list of SAIs and
the frequency of the V2X MBMS configuration for receiving V2X communication
over LTE-Uu using MBMS. If several V2X MBMS configurations for receiving V2X
communication over LTE-Uu using MBMS were discovered, the UE shall perform
this action once per each discovered V2X MBMS configurations for receiving V2X
communication over LTE-Uu using MBMS; and
C) the UE shall extract the V2X message from the data octets field of the
received UDP message as described in IETF RFC 768 [18] and pass the V2X
message to upper layers. ; ands
3) if the V2X MBMS configuration for receiving V2X communication over LTE-Uu
using MBMS is not discovered:
A) the UE shall discover the V2X application server address for downlink
transport as described in subclause 6.2.6. If the V2X application server
address cannot be discovered, the UE shall determine that the transmission of
V2X communication over LTE-Uu from V2X application server to UE is not
possible and shall not continue with the rest of the steps; and
B) if TCP is to be used for the determined V2X application server address:
i) if a TCP connection with the determined V2X application server address is
not established yet, the UE shall establish a TCP connection with the
determined V2X application server address; and
ii) the UE shall generate one or more TCP message(s) as described in IETF RFC
793 [rfc793]. In the one or more TCP message(s), the UE shall include the V2X
message provided by upper layers in the data octets filed. The UE shall send
the one or more TCP message(s) to the determined V2X application server
address via the TCP connection.
### 6.2.6 V2X application server discovery
#### 6.2.6.1 General
Before initiating V2X communication over LTE-Uu, the UE needs to discover the
V2X application server to which the V2X messages shall be sent. The UE shall
proceed as follows, in priority order:
a) if the serving PLMN is associated with a V2X AS MBMS configuration for
receiving V2X application server information using MBMS in the configuration
parameters for V2X communication over LTE-Uu provisioned to the UE as
specified in subclause 5.2.5, the UE shall perform the procedure in subclause
6.2.6.2 to discover the V2X application server;
b) else if the V2X service of the V2X message is identified by a V2X service
identifier and this V2X service identifier is associated with a V2X
application server IP address and a UDP port or TCP port for bidirectional
transport in the list of V2X services authorized for V2X communication over
LTE-Uu for the serving PLMN and the geographical area in which the UE is
located as specified in subclause 5.2.5, the UE shall use the IP address and
the UDP or TCP port for V2X communication over LTE-Uu;
c) else if the V2X service of the V2X message is identified by a V2X service
identifier and this V2X service identifier is associated with a V2X
application server FQDN and a UDP port or a TCP for bidirectional transport in
the list of V2X services authorized for V2X communication over LTE-Uu for the
serving PLMN and the geographical area in which the UE is located as specified
in subclause 5.2.5, the UE shall perform DNS lookup as specified in IETF RFC
1035 [13], then use the resulting IP address and the configured UDP or TCP
port for V2X communication over LTE-Uu;
d) else if the V2X service of the V2X message is identified by a V2X service
identifier and this V2X service identifier is associated with a V2X
application server IP address and a UDP port or a TCP port for bidirectional
transport in the list of V2X services authorized for V2X communication over
LTE-Uu for the serving PLMN as specified in subclause 5.2.5, the UE shall use
the IP address and the UDP or TCP port for V2X communication over LTE-Uu;
e) else if the V2X service of the V2X message is identified by a V2X service
identifier and this V2X service identifier is associated with a V2X
application server FQDN and a UDP port or a TCP port for bidirectional
transport in the list of V2X services authorized for V2X communication over
LTE-Uu for the serving PLMN as specified in subclause 5.2.5, the UE shall
perform DNS lookup as specified in IETF RFC 1035 [13], then use the resulting
IP address and the configured UDP or TCP port for V2X communication over LTE-
Uu;
f) else if the V2X service of the V2X message is identified by a V2X service
identifier, the V2X message contains IP data, and the default V2X application
server address applicable for the serving PLMN, the geographical area in which
the UE is located and the IP type of data as specified in subclause 5.2.5 is
configured and contains an IP address and a UDP port or a TCP port for
bidirectional transport, then the UE shall use the IP address and the UDP or
TCP port for V2X communication over LTE-Uu;
g) else if the V2X service of the V2X message is identified by a V2X service
identifier, the V2X message contains IP data, and the default V2X application
server address applicable for the serving PLMN, the geographical area in which
the UE is located and the IP type of data as specified in subclause 5.2.5 is
configured and contains an FQDN and a UDP port or a TCP port for bidirectional
transport, then the UE shall perform DNS lookup of the FQDN as specified in
IETF RFC 1035 [13], and shall use the resulting IP address and the UDP or TCP
port for V2X communication over LTE-Uu;
h) else if the V2X service of the V2X message is identified by a V2X service
identifier, the V2X message contains IP data, and the default V2X application
server address applicable for the the serving PLMN and the IP type of data as
specified in subclause 5.2.5 is configured and contains an IP address and a
UDP port or a TCP port for bidirectional transport, then the UE shall use the
IP address and the UDP or the TCP port for V2X communication over LTE-Uu;
i) else if the V2X service of the V2X message is identified by a V2X service
identifier, the V2X message contains IP data, and the default V2X application
server address applicable for the serving PLMN and the IP type of data as
specified in subclause 5.2.5 is configured and contains an FQDN and a UDP port
or a TCP port for bidirectional transport, then the UE shall perform DNS
lookup of the FQDN as specified in IETF RFC 1035 [13], and shall use the
resulting IP address and the UDP port or TCP port for V2X communication over
LTE-Uu;
j) else if the V2X service of the V2X message is identified by a V2X service
identifier, the V2X message contains non-IP data, and the default V2X
application server address applicable for the serving PLMN, the geographical
area in which the UE is located and the V2X message family of the non-IP data
as specified in subclause 5.2.5 is configured and contains an IP address and a
UDP port or a TCP port for bidirectional transport, then the UE shall use the
IP address and the UDP or TCP port for V2X communication over LTE-Uu;
k) else if the V2X service of the V2X message is identified by a V2X service
identifier, the V2X message contains non-IP data, and the default V2X
application server address applicable for the serving PLMN, the geographical
area in which the UE is located and the V2X message family of the non-IP data
as specified in subclause 5.2.5 is configured and contains an FQDN and a UDP
port or a TCP port for bidirectional transport, then the UE shall perform DNS
lookup of the FQDN as specified in IETF RFC 1035 [13], and shall use the
resulting IP address and the UDP or TCP port for V2X communication over LTE-
Uu;
l) else if the V2X service of the V2X message is identified by a V2X service
identifier, the V2X message contains non-IP data, and the default V2X
application server address applicable for the serving PLMN and the V2X message
family of the non-IP data as specified in subclause 5.2.5 is configured and
contains an IP address and a UDP port or a TCP port for bidirectional
transport, then the UE shall use the IP address and the UDP or TCP port for
V2X communication over LTE-Uu;
m) else if the V2X service of the V2X message is identified by a V2X service
identifier, the V2X message contains non-IP data, and the default V2X
application server address applicable for the serving PLMN and the V2X message
family of the non-IP data as specified in subclause 5.2.5 is configured and
contains an FQDN and a UDP port or a TCP port for bidirectional transport,
then the UE shall perform DNS lookup of the FQDN as specified in IETF RFC 1035
[13], and shall use the resulting IP address and the UDP or TCP port for V2X
communication over LTE-Uu;
n) else if the V2X service of the V2X message is not identified by a V2X
service identifier and the UE is configured with a V2X application server IP
address for the serving PLMN and the geographical area in which the UE is
located as specified in subclause 5.2.5, the UE shall use this IP address for
V2X communication over LTE-Uu;
o) else if the V2X service of the V2X message is not identified by a V2X
service identifier and the UE is configured with a V2X application server FQDN
for the serving PLMN and the geographical area in which the UE is located as
specified in subclause 5.2.5, the UE shall perform DNS lookup as specified in
IETF RFC 1035 [13], then use the resulting IP address for V2X communication
over LTE-Uu;
p) else if the V2X service of the V2X message is not identified by a V2X
service identifier and the UE is configured with a V2X application server IP
address for the serving PLMN as specified in subclause 5.2.5, the UE shall use
this IP address for V2X communication over LTE-Uu; and
q) else if the V2X service of the V2X message is not identified by a V2X
service identifier and the UE is configured with a V2X application server FQDN
for the serving PLMN as specified in subclause 5.2.5, the UE shall perform DNS
lookup as specified in IETF RFC 1035 [13], then use the resulting IP address
for V2X communication over LTE-Uu.
NOTE: It is out of scope of the present specification to define how the UE can
locate itself in a specific geographical area. When the UE is in coverage of a
3GPP RAT it can for example use information derived from the serving PLMN.
When the UE is not in coverage of a 3GPP RAT it can use other techniques.
To discover the V2X application server address for downlink transport, the UE
shall proceed as follows, in priority order:
a) if the V2X service of the V2X message is identified by a V2X service
identifier and this V2X service identifier is associated with a V2X
application server IP address and a TCP port for bidirectional transport in
the list of V2X services authorized for V2X communication over LTE-Uu for the
serving PLMN and the geographical area in which the UE is located as specified
in subclause 5.2.5, the UE shall use this IP address and the TCP port for V2X
communication over LTE-Uu;
b) else if the V2X service of the V2X message is identified by a V2X service
identifier and this V2X service identifier is associated with a V2X
application server FQDN and a TCP port for bidirectional transport in the list
of V2X services authorized for V2X communication over LTE-Uu for the serving
PLMN and the geographical area in which the UE is located as specified in
subclause 5.2.5, the UE shall perform DNS lookup as specified in IETF RFC 1035
[13], then use the resulting IP address and the TCP port for V2X communication
over LTE-Uu;
c) else if the V2X service of the V2X message is identified by a V2X service
identifier and this V2X service identifier is associated with a V2X
application server IP address and a TCP port for bidirectional transport in
the list of V2X services authorized for V2X communication over LTE-Uu for the
serving PLMN as specified in subclause 5.2.5, the UE shall use this IP address
and the TCP port for V2X communication over LTE-Uu;
d) else if the V2X service of the V2X message is identified by a V2X service
identifier and this V2X service identifier is associated with a V2X
application server FQDN and a TCP port for bidirectional transport in the list
of V2X services authorized for V2X communication over LTE-Uu for the serving
PLMN as specified in subclause 5.2.5, the UE shall perform DNS lookup as
specified in IETF RFC 1035 [13], then use the resulting IP address and the TCP
port for V2X communication over LTE-Uu;
e) else if the V2X service of the V2X message is identified by a V2X service
identifier, the V2X message contains IP data, and the default V2X application
server address applicable for the serving PLMN, the geographical area in which
the UE is located and the IP type of data as specified in subclause 5.2.5 is
configured and contains an IP address and a TCP port for bidirectional
transport, then the UE shall use the IP address and the TCP port for V2X
communication over LTE-Uu;
f) else if the V2X service of the V2X message is identified by a V2X service
identifier, the V2X message contains IP data, and the default V2X application
server address applicable for the serving PLMN, the geographical area in which
the UE is located and the IP type of data as specified in subclause 5.2.5 is
configured and contains an FQDN and a TCP port for bidirectional transport,
then the UE shall perform DNS lookup of the FQDN as specified in IETF RFC 1035
[13], and shall use the resulting IP address and the TCP port for V2X
communication over LTE-Uu;
g) else if the V2X service of the V2X message is identified by a V2X service
identifier, the V2X message contains IP data, and the default V2X application
server address applicable for the the serving PLMN and the IP type of data as
specified in subclause 5.2.5 is configured and contains an IP address and a
TCP port for bidirectional transport, then the UE shall use the IP address and
the TCP port for V2X communication over LTE-Uu;
h) else if the V2X service of the V2X message is identified by a V2X service
identifier, the V2X message contains IP data, and the default V2X application
server address applicable for the serving PLMN and the IP type of data as
specified in subclause 5.2.5 is configured and contains an FQDN and a TCP port
for bidirectional transport, then the UE shall perform DNS lookup of the FQDN
as specified in IETF RFC 1035 [13], and shall use the resulting IP address and
the TCP port for V2X communication over LTE-Uu;
i) else if the V2X service of the V2X message is identified by a V2X service
identifier, the V2X message contains non-IP data, and the default V2X
application server address applicable for the serving PLMN, the geographical
area in which the UE is located and the V2X message family of the non-IP data
as specified in subclause 5.2.5 is configured and contains an IP address and a
TCP port for bidirectional transport, then the UE shall use the IP address and
the TCP port for V2X communication over LTE-Uu;
j) else if the V2X service of the V2X message is identified by a V2X service
identifier, the V2X message contains non-IP data, and the default V2X
application server address applicable for the serving PLMN, the geographical
area in which the UE is located and the V2X message family of the non-IP data
as specified in subclause 5.2.5 is configured and contains an FQDN and a TCP
port for bidirectional transport, then the UE shall perform DNS lookup of the
FQDN as specified in IETF RFC 1035 [13], and shall use the resulting IP
address and the TCP port for V2X communication over LTE-Uu;
k) else if the V2X service of the V2X message is identified by a V2X service
identifier, the V2X message contains non-IP data, and the default V2X
application server address applicable for the serving PLMN and the V2X message
family of the non-IP data as specified in subclause 5.2.5 is configured and
contains an IP address and a TCP port for bidirectional transport, then the UE
shall use the IP address and the TCP port for V2X communication over LTE-Uu;
and
l) else if the V2X service of the V2X message is identified by a V2X service
identifier, the V2X message contains non-IP data, and the default V2X
application server address applicable for the serving PLMN and the V2X message
family of the non-IP data as specified in subclause 5.2.5 is configured and
contains an FQDN and a TCP port for bidirectional transport, then the UE shall
perform DNS lookup of the FQDN as specified in IETF RFC 1035 [13], and shall
use the resulting IP address and the TCP port for V2X communication over LTE-
Uu.
If multiple V2X application servers are discovered, the V2X application server
to be used is selected by the V2X application layer.
The UE shall perform V2X application server discovery again when the UE
changes its registered PLMN.
If the V2X application server used by the UE is associated with a particular
geographical area, the UE shall perform V2X application server discovery again
when the UE moves out of that geographical area.
#### 6.2.6.2 V2X application server discovery using MBMS
##### 6.2.6.2.1 General
The purpose of the V2X application server discovery using MBMS procedure is to
allow the UE to receive the V2X application server information over MBMS
bearers.
The UE shall only initiate the V2X application server discovery using MBMS
procedure if:
a) the UE is authorized for V2X communication over LTE-Uu in the serving PLMN
as specified in subclause 5; and
b) the serving PLMN is associated with a V2X AS MBMS configuration for
receiving V2X application server information using MBMS in the configuration
parameters for V2X communication over LTE-Uu provisioned to the UE as
specified in subclause 5.2.5.
The UE should use the V2X application server information received over MBMS
bearers for transmission of V2X communication over LTE-Uu using unicast only
when the UE is registered in the PLMN from which this V2X application server
information was received.
##### 6.2.6.2.2 Procedure for V2X application server discovery using MBMS
The UE shall proceed as follows:
a) the UE shall start listening to the MBMS bearer corresponding to the TMGI,
list of SAIs and frequency included in the V2X AS MBMS configuration
associated with the serving PLMN in the configuration parameters for V2X
communication over LTE-Uu provisioned to the UE as specified in subclause
5.2.5
b) the UE shall use the IP multicast address and port included in the V2X AS
MBMS configuration associated with the serving PLMN in the configuration
parameters for V2X communication over LTE-Uu provisioned to the UE as
specified in subclause 5.2.5 to receive the V2X local service information. The
V2X local service information is encoded as specified in subclause 7.4; and
NOTE: The UE can be in MBMS receive only mode for obtaining the V2X
application server information.
c) If the V2X service identifier of the V2X service requesting V2X
communication over LTE-Uu maps to a V2X application server FQDN in the V2X
application server information obtained at step 2, the UE shall perform DNS
lookup as specified in IETF RFC 1035 [13] to resolve the IP address(es) of the
V2X application server.
6.2.7 V2X MBMS parameter discovery
Before receiving a V2X communication over LTE-Uu using MBMS bearer, the UE
needs to discover the V2X MBMS parameters via which the V2X communication is
to be received.
The UE shall proceed as follows, in priority order:
a) if the V2X message to be received is of IP type of data, the V2X service of
the V2X message to be received is identified by a V2X service identifier, and
this V2X service identifier is associated with a V2X MBMS configuration for
receiving V2X communication over LTE-Uu using MBMS in the list of V2X services
authorized for V2X communication over LTE-Uu for the registered PLMN of the UE
and the SDP body of the V2X MBMS configuration for receiving V2X communication
over LTE-Uu using MBMS contains a \"m=\" line of the application/vnd.3gpp.v2x
media type with the type parameter indicating IP, the UE shall use the V2X
MBMS configuration for receiving V2X communication over LTE-Uu using MBMS. If
several such V2X MBMS configurations are configured, the UE shall use all such
V2X MBMS configurations for receiving V2X communication over LTE-Uu using
MBMS;
b) else if the V2X message to be received is of non-IP type of data, the V2X
message to be received is of V2X message family, the V2X service of the V2X
message to be received is identified by a V2X service identifier, and this V2X
service identifier is associated with a V2X MBMS configuration for receiving
V2X communication over LTE-Uu using MBMS in the list of V2X services
authorized for V2X communication over LTE-Uu for the registered PLMN of the UE
and the SDP body of the V2X MBMS configuration for receiving V2X communication
over LTE-Uu using MBMS contains a \"m=\" line of the application/vnd.3gpp.v2x
media type with:
1) the type parameter indicating non-IP; and
2) the v2x-message-family parameter indicating the V2X message family;
the UE shall use the V2X MBMS configuration for receiving V2X communication
over LTE-Uu using MBMS. If several such V2X MBMS configurations are
configured, the UE shall use all such V2X MBMS configurations for receiving
V2X communication over LTE-Uu using MBMS;
c) else if the V2X message to be received is of IP type of data, the V2X
service of the V2X message to be received is identified by a V2X service
identifier, and the default V2X MBMS configuration for receiving V2X
communication over LTE-Uu using MBMS as specified in subclause 5.2.5 is
configured and the SDP body of the V2X MBMS configuration for receiving V2X
communication over LTE-Uu using MBMS contains a \"m=\" line of the
application/vnd.3gpp.v2x media type with the type parameter indicating IP, the
UE shall use the default V2X MBMS configuration for receiving V2X
communication over LTE-Uu using MBMS. If several such V2X MBMS configurations
are configured, the UE shall use all such V2X MBMS configurations for
receiving V2X communication over LTE-Uu using MBMS;
d) else if the V2X message to be received is of non-IP type of data, the V2X
message to be received is of V2X message family, the V2X service of the V2X
message to be received is identified by a V2X service identifier, and the
default V2X MBMS configuration for receiving V2X communication over LTE-Uu
using MBMS as specified in subclause 5.2.5 is configured and the SDP body of
the V2X MBMS configuration for receiving V2X communication over LTE-Uu using
MBMS contains a \"m=\" line of the application/vnd.3gpp.v2x media type with:
1) the type parameter indicating non-IP; and
2) the v2x-message-family parameter indicating the V2X message family;
the UE shall use the default V2X MBMS configuration for receiving V2X
communication over LTE-Uu using MBMS. If several such V2X MBMS configurations
are configured, the UE shall use all such V2X MBMS configurations for
receiving V2X communication over LTE-Uu using MBMS; and
e) else if the V2X service of the V2X message to be received is not identified
by a V2X service identifier, and the V2X MBMS configuration for receiving V2X
communication over LTE-Uu using MBMS as specified in subclause 5.2.5 is
configured, the UE shall use the V2X MBMS configuration for receiving V2X
communication over LTE-Uu using MBMS. If several such V2X MBMS configurations
are configured, the UE shall use all such V2X MBMS configurations for
receiving V2X communication over LTE-Uu using MBMS.
# 7 General message format and information elements coding
## 7.1 V2X message family encoding
The following values are specified to identify the V2X message family:
0 Reserved
1 IEEE 1609, see IEEE 1609.3 [5]
2 ISO, see ISO 29281-1 [6]
3 ETSI-ITS, see ETSI EN 302 636-3 [23]
4 CCSA, see CCSA YD/T 3707-2020 [24]
5-255 Reserved
## 7.2 V2X MBMS configuration
### 7.2.1 Minimum components of V2X MBMS configuration
The V2X MBMS configuration is provided to the UE to enable the UE to discover
and acquire the V2X communication carried in IP multicast datagrams by the
MBMS Bearer Service. It contains at least the following parameters:
a) a TMGI encoded as specified in 3GPP TS 24.008 [12] excluding the Temporary
Mobile Group Identity IEI and Length of Temporary Mobile Group Identity
contents;
b) a list of MBMS Service Area Identifiers (SAIs), with each SAI encoded as
specified in 3GPP TS 23.003 [14];
c) in case of multicarrier support, a frequency encoded as specified in 3GPP
TS 29.468 [15]; and
d) a V2X MBMS configuration SDP encoded as specified in subclause 7.2.2.
### 7.2.2 Encoding of V2X MBMS configuration SDP
#### 7.2.2.1 Minimum components of V2X MBMS configuration SDP
The V2X MBMS configuration SDP shall contain at least the following
parameters:
a) IP multicast address used for V2X communication over LTE-Uu using MBMS; and
b) a list of UDP port numbers used for V2X communication over LTE-Uu using
MBMS, each associated with a V2X message family or IP type of data as defined
in subclause 7.1.
These shall be expressed in SDP syntax (see IETF RFC 4566 [16]) according to
the following subclauses.
In a V2X MBMS configuration SDP body, sending entity shall not include any
media announcement field (\"m=\") other than the one specified in subclause
7.2.2.3.
In a V2X MBMS configuration SDP body, receiving entity shall ignore any media
announcement field (\"m=\") other than the one specified in subclause 7.2.2.3.
#### 7.2.2.2 IP multicast address
The IP multicast address shall be defined according to the \"connection data\"
field (\"c=\") of IETF RFC 4566 [16].
#### 7.2.2.3 List of UDP port numbers and associated V2X message family
The association between a UDP port number and a V2X message family is defined
according to the media announcement field (\"m=\") of IETF RFC 4566 [16],
with:
a) the \ portion set to the UDP port number;
b) the \ portion set to \"application\";
c) the \ portion set to \"udp\";
d) the \ portion set to \"vnd.3gpp.v2x\"; and
e) an fmtp attribute:
1) with the \ portion set to \"vnd.3gpp.v2x\"; and
2) with the \ portion containing a semicolon
separated list of parameters as specified in subclause A.1.2 with:
A) a type parameter set to IP or non-IP; and
B) if a UDP port is used for exchange of V2X messages of non-IP type of data,
a v2x-message-family parameter set to the value of the associated V2X message
family as specified in subclause 7.1.
If multiple parameters are indicated in the \
portion of an fmpt attribute with the \ portion set to
\"vnd.3gpp.v2x\", the order of parameters is not significant.
Sending entity shall not include any parameter not defined in the present
version of the present specification in the \
portion of an fmpt attribute with the \ portion set to
\"vnd.3gpp.v2x\".
Receiving entity shall ignore any parameter included in the \ portion of an fmpt attribute with the \ portion set to
\"vnd.3gpp.v2x\", such that the parameter is not specified in the present
version of the present specification.
Receiving entity shall ignore the media announcement field (\"m=\") if the
type parameter does not contain a value or contains a value not specified in
the present version of the present specification.
#### 7.2.2.4 Example of V2X MBMS configuration SDP
Here is an example of a V2X MBMS configuration SDP:
v=0
o=user123 2890844526 2890842807 IN IP6 2201:056D::112E:144A:1E24
s=V2X MBMS configuration SDP example
c=IN IP6 FF15::101\ m=application 1234 udp vnd.3gpp.v2x
a=fmtp:vnd.3gpp.v2x type=non-IP;v2x-message-family=1
m=application 1235 udp vnd.3gpp.v2x\ a=fmtp:vnd.3gpp.v2x v2x-message-
family=2;type=non-IP
m=application 1236 udp vnd.3gpp.v2x
a=fmtp:vnd.3gpp.v2x v2x-message-family=3;type=non-IP
m=application 1237 udp vnd.3gpp.v2x
a=fmtp:vnd.3gpp.v2x type=ip
## 7.3 V2X AS MBMS configuration
### 7.3.1 Introduction
The V2X AS MBMS configuration is provided to the UE to enable the UE to
discover and acquire the V2X local service information carried in IP multicast
datagrams by the MBMS Bearer Service. It contains at least the following
parameters:
a) a TMGI encoded as specified in 3GPP TS 24.008 [12] excluding the Temporary
Mobile Group Identity IEI and Length of Temporary Mobile Group Identity
contents;
b) a list of MBMS Service Area Identifiers (SAIs), with each SAI encoded as
specified in 3GPP TS 23.003 [14] ;
c) in case of multicarrier support, a frequency encoded as specified in 3GPP
TS 29.468 [15]; and
d) a V2X AS MBMS configuration SDP encoded as specified in subclause 7.3.2.
The V2X local service information is carried using the
application/vnd.3gpp-v2x-local-service-information MIME type defined in
subclause 7.4.
### 7.3.2 Encoding of V2X AS MBMS configuration SDP
#### 7.3.2.1 Minimum components of V2X AS MBMS configuration SDP
The V2X AS MBMS configuration SDP shall contain at least the following
parameters:
a) IP multicast address used for V2X application server discovery using MBMS;
and
b) UDP port number used for V2X application server discovery using MBMS;
These shall be expressed in SDP syntax (see IETF RFC 4566 [16]) according to
the following subclauses.
#### 7.3.2.2 IP multicast address
The IP multicast address shall be defined according to the \"connection data\"
field (\"c=\") of IETF RFC 4566 [16].
#### 7.3.2.3 Port number
The UDP port number shall be defined according to the \ sub-field of the
media announcement field (\"m=\") of IETF RFC 4566 [16].
#### 7.3.2.4 Example of V2X AS MBMS configuration SDP
Here is an example of a V2X AS MBMS configuration SDP:
v=0
o=user123 2890844526 2890842807 IN IP6 2201:056D::112E:144A:1E24
s=V2X AS MBMS configuration SDP example
c=IN IP6 FF15::101\ m=application 1234 UDP vnd.3gpp-v2x-local-service-
information
## 7.4 Encoding of V2X local service information
### 7.4.1 General
This subclause defines the format of the V2X local service information.
This subclause also defines the MIME type used to convey the V2X local service
information over MBMS bearers.
### 7.4.2 application/vnd.3gpp-v2x-local-service-information
The MIME type is used to carry information related to the local V2X
application server, and optionally the V2X MBMS configuration. It shall be
coded in binary ASN.1 PER as specified below.
\-- ASN1START
V2X-local-service-information-definitions DEFINITIONS AUTOMATIC TAGS ::= BEGIN
V2X-local-service-information ::= SEQUENCE {
V2X-as-info-list ListOfV2X-as-info,
V2X-MBMS-configuration-list ListOfV2X-MBMS-configuration OPTIONAL,
...
}
ListOfV2X-as-info :: = SEQUENCE OF V2X-as-info
ListOfV2X-MBMS-configuration :: = SEQUENCE OF V2X-MBMS-configuration
V2X-as-info :: = SEQUENCE {
V2X-service-identifier OCTET STRING (SIZE (1...4)),
V2X-as-address VisibleString,
UDP-port INTEGER,
...
}
V2X-MBMS-configuration :: = SEQUENCE {
V2X-service-identifier OCTET STRING (SIZE (1...4)),
tmgi OCTET STRING (SIZE (8)),
SAI-list ListOfSAIs,
Frequency INTEGER (0...262143) OPTIONAL,
IP-multicast-address VisibleString,
UDP-port INTEGER,
...
}
ListOfSAIs :: = SEQUENCE OF SAI
SAI :: = INTEGER (0...65535)
\-- ASN1STOP
### 7.4.3 Semantics
The V2X-local-service-information contains the following elements:
a) one or more V2X-AS-info element(s) containing an association between a V2X
service identifier and one or more V2X application server address(es). Each
V2X-AS-info element consists of:
1) one V2X-service-identifier element containing a 4 octet V2X service
identifier;
2) one V2X-as-address element containing a V2X application server IP address
or FQDN; and
3) one udp-port element containing a UDP port; and
b) zero, one or more V2X-MBMS-configuration element(s) containing the
information enabling the UE to discover and acquire V2X communication over
LTE-Uu using MBMS. Each V2X-MBMS-configuration element consists of the
following:
1) one V2X-service-identifier element containing a 4 octet V2X service
identifier;
2) one tmgi element containing the TMGI encoded as specified in 3GPP TS 24.008
[12] excluding the Temporary Mobile Group Identity IEI and Length of Temporary
Mobile Group Identity contents;
3) one SAI-list element containing:
A) one or more SAI element(s) containing an MBMS SAI encoded as specified in
3GPP TS 23.003 [14];
4) zero or one frequency element containing a frequency encoded as specified
in 3GPP TS 29.468 [15];
5) one ip-multicast-address element containing an IP multicast address; and
6) one udp-port element containing a UDP port.
# 8 List of system parameters
## 8.1 General
The description of timers in table 8.2.1 is considered a brief summary. The
complete descriptions of the timers are in the procedures defined in subclause
5 and subclause 6.
## 8.2 Timers of procedures for V2X communication over PC5
Table 8.2.1: V2X communication over PC5 timers -- UE side
+-------------+-------------+-------------+-------------+-------------+ | TIMER NUM. | TIMER VALUE | CAUSE OF | NORMAL STOP | ON\ | | | | START | | EXPIRY | +-------------+-------------+-------------+-------------+-------------+ | T5000 | Default 300 | Upon | Upon | Change the | | | seconds | initiating | stopping | value of | | | | t | t | the source | | | NOTE | ransmission | ransmission | Layer-2 ID | | | | of V2X | of V2X | se | | | | co | co | lf-assigned | | | | mmunication | mmunication | by the UE | | | | over PC5, | over PC5, | for V2X | | | | as | as | co | | | | described | described | mmunication | | | | in | in | over PC5. | | | | subclau | subclau | | | | | se 6.1.2.4. | se 6.1.2.4. | If the V2X | | | | | | message | | | | Upon | | contains IP | | | | receiving | | data, | | | | an | | change the | | | | indication | | value of | | | | from upper | | the source | | | | layers that | | IP address | | | | the | | se | | | | application | | lf-assigned | | | | layer | | by the UE | | | | identifier | | for V2X | | | | has been | | co | | | | changed | | mmunication | | | | while | | over PC5. | | | | performing | | | | | | t | | Restart | | | | ransmission | | T5000. | | | | of V2X | | | | | | co | | | | | | mmunication | | | | | | over PC5, | | | | | | as | | | | | | described | | | | | | in | | | | | | subclau | | | | | | se 6.1.2.4. | | | | | | | | | | | | Upon T5000 | | | | | | expiration | | | | | | while while | | | | | | performing | | | | | | t | | | | | | ransmission | | | | | | of V2X | | | | | | co | | | | | | mmunication | | | | | | over PC5, | | | | | | as | | | | | | described | | | | | | in | | | | | | subclau | | | | | | se 6.1.2.4. | | | +-------------+-------------+-------------+-------------+-------------+ | NOTE: The | | | | | | default | | | | | | value of | | | | | | this timer | | | | | | is used if | | | | | | the V2X | | | | | | control | | | | | | function | | | | | | does not | | | | | | provision | | | | | | another | | | | | | value to | | | | | | the UE as | | | | | | part of the | | | | | | co | | | | | | nfiguration | | | | | | parameters | | | | | | for V2X | | | | | | co | | | | | | mmunication | | | | | | over PC5. | | | | | +-------------+-------------+-------------+-------------+-------------+
###### ## Annex A (informative): Documentation of new MIME types and SDP
extensions
## A.1 vnd.3gpp.v2x MIME type
### A.1.1 vnd.3gpp.v2x MIME type registration
Your Name:
\
Your Email Address:
\
Media Type Name:
Application
Subtype name:
Vendor tree -- vnd.3gpp.v2x
Required parameters:
type parameter.
The type parameter can be set to \"IP\", or \"non-IP\".
A content of the application/vnd.3gpp.v2x MIME type with the type parameter
set to \"IP\" contains one V2X message such that the V2X message is an IP
packet.
A content of the application/vnd.3gpp.v2x MIME type with the type parameter
set to \"non-IP\" and the v2x-message-family parameter indicating a V2X
message family contains one V2X message of the V2X message family.
Optional parameters:
v2x-message-family parameter.
The v2x-message-family parameter shall be included when the type parameter is
set to \"non-IP\". Permissible values of the v2x-message-family parameter are
specified in TS 24.386 subclause 7.1.
Encoding considerations:
binary.
Security considerations:
This media type does not include provisions for directives that institute
actions on a recipient\'s files or other resources.
The information transported in this media type does not include active or
executable content.
This media type does not include provisions for directives that institute
actions that, while not directly harmful to the recipient, may result in
disclosure of information that either facilitates a subsequent attack or else
violates a recipient\'s privacy in any way.
This media type does not employ compression.
This media type is not targeted for applications that require some sort of
security assurance but don\'t provide the necessary security mechanisms
themselves. The security assurance is expected to be provided by the
environment this media type operates in. When this media type operates in
environment described in 3GPP TS 33.185, security mechanisms are described in
3GPP TS 33.185.
Interoperability considerations:
Receiving entity shall ignore any media type parameter not defined in this
media type registration.
If a content of the application/vnd.3gpp.v2x MIME type is transported using
UDP transport, the UDP message contains one V2X message.
Published specification:
3GPP TS 24.386 (http://www.3gpp.org/ftp/Specs/html-info/24386.htm)
Applications which use this media type:
V2X applications
Fragment identifier considerations:
This media type does not specify how applications interpret fragment
identifiers associated with the media type.
Restrictions on usage:
None
Provisional registration? (standards tree only):
n/a
Additional information:
1\. Deprecated alias names for this type: n/a
2\. Magic number(s): n/a
3\. File extension(s): n/a
4\. Macintosh File Type Code(s): n/a
5\. Object Identifier(s) or OID(s): n/a
Intended usage:
Common.
Other information/general comment:
The media type is intended to be used for V2X communication.
Person to contact for further information:
\- Name: \
\- Email: \
\- Author/Change controller:
i) Author: 3GPP CT1 Working Group/3GPP_TSG_CT_WG1\@LIST.ETSI.ORG
ii) Change controller: \/\
### A.1.2 Mapping vnd.3gpp.v2x MIME parameters into SDP
The information carried in the MIME application type has a specific mapping to
fields in SDP.
A vnd.3gpp.v2x connection shall be described by using an SDP m line. According
to IETF RFC 4566 [16], the m-line format is the following:
m=\ \ \ \
For vnd.3gpp.v2x:
\- the media type field shall have a value of \"application\";
\- the port field shall include the transport port for V2X;
\- the transport field shall have a value of \"udp\";
\- the format field shall have a value of \"vnd.3gpp.v2x\".
The following is an example of an m line for a vnd.3gpp.v2x connection:
m=application 1234 udp vnd.3gpp.v2x
The vnd.3gpp.v2x media type parameters are indicated in the \ portion of the SDP \"a=fmtp\" attribute by a semicolon separated
list of parameters as shown in table A.1.2-1.
Table A.1.2-1: ABNF syntax of the \ portion of the
SDP \"a=fmtp\" attribute
format-specific-parameters = param *( \";\" param )
param = param-name [ \"=\" param-value ]
param-name = ALPHA *(ALPHA / DIGIT / \"-\")
param-value = *( param-char )
param-char = *( %x20-3A / %x3C-FF )
The following is an example of an attribute line for vnd.3gpp.v2x options:
a=fmtp:vnd.3gpp.v2x type=non-IP;v2x-message-family=1
## A.2 application/vnd.3gpp-v2x-local-service-information MIME type
### A.2.1 application/vnd.3gpp-v2x-local-service-information MIME type
registration
Your Name:
\
Your Email Address:
\
Media Type Name:
Application
Subtype name:
Vendor Tree -- vnd.3gpp-v2x-local-service-information
Required parameters:
None
Optional parameters:
None.
Encoding considerations:
binary.
Security considerations:
The information transported in this media type does not include active or
executable content. Mechanisms for privacy and integrity protection of
protocol parameters exist. Those mechanisms as well as authentication and
further security mechanisms are described in 3GPP TS 33.185.
This media type does not include provisions for directives that institute
actions on a recipient\'s files or other resources.
This media type does not include provisions for directives that institute
actions that, while not directly harmful to the recipient, may result in
disclosure of information that either facilitates a subsequent attack or else
violates a recipient\'s privacy in any way.
This media type does not employ compression.
Interoperability considerations:
The media type allows for interoperability of messages transmitted for V2X
over MBMS bearers. The messages are sent between user equipment and mobile
network.
Published specification:
3GPP TS 24.386 (http://www.3gpp.org/ftp/Specs/html-info/24386.htm)
Applications which use this media type:
n/a
Fragment identifier considerations:
The handling in section 5 of IETF RFC 7303 applies.
Restrictions on usage:
None
Provisional registration? (standards tree only):
n/a
Additional information:
1\. Deprecated alias names for this type: n/a
2\. Magic number(s): n/a
3\. File extension(s): n/a
4\. Macintosh File Type Code(s): n/a
5\. Object Identifier(s) or OID(s): n/a
Intended usage:
Common.
Other information/general comment:
The media type is intended to be used for V2X communication. The content of
this media type is formatted according to 3GPP TS 24.386 subclause 7.4.
Person to contact for further information:
\- Name: \
\- Email: \
\- Author/Change controller:
i) Author: 3GPP CT1 Working Group/3GPP_TSG_CT_WG1\@LIST.ETSI.ORG
ii) Change controller: \/\
#