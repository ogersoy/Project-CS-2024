# Foreword
This Technical Report has been produced by the 3rd Generation Partnership
Project (3GPP).
The contents of the present document are subject to continuing work within the
TSG and may change following formal TSG approval. Should the TSG modify the
contents of the present document, it will be re-released by the TSG with an
identifying change of release date and an increase in version number as
follows:
Version x.y.z
where:
x the first digit:
1 presented to TSG for information;
2 presented to TSG for approval;
3 or greater indicates TSG approved document under change control.
y the second digit is incremented for all changes of substance, i.e. technical
enhancements, corrections, updates, etc.
z the third digit is incremented when editorial only changes have been
incorporated in the document.
# 1 Scope
The present document develops use cases of message communication for MIoT,
identifies 5G Message (5GMSG) service potential requirements, and identifies
potential requirements on 5G system. The use cases include the following
scenarios:
\- Efficient message communication
\- Low delay message communication
\- Group message communication
\- Multicast and broadcast message communication
\- High density of UEs message communication
It also provides a gap analysis between the new requirements of message
communication for MIoT and the existing operator's message services/3GPP
network capabilities, and recommends the future work for the standardization
of 5GMSG service for MIoT.
# 2 References
The following documents contain provisions which, through reference in this
text, constitute provisions of the present document.
\- References are either specific (identified by date of publication, edition
number, version number, etc.) or non‑specific.
\- For a specific reference, subsequent revisions do not apply.
\- For a non-specific reference, the latest version applies. In the case of a
reference to a 3GPP document (including a GSM document), a non-specific
reference implicitly refers to the latest version of that document _in the
same Release as the present document_.
[1] 3GPP TR 21.905: \"Vocabulary for 3GPP Specifications\".
[2] "Home Appliances Information Model and Mapping oneM2M- TS-0023-V3.7.0",
Reference links for: http://www.onem2m.org/component/rsfiles/download-
file/files?path=Release_3_Draft_TS%255CTS-0023-Home_Appliances_Information_Model_and_Mapping-V3_7_0.doc&Itemid=238.
[3] 3GPP TS 23.682: \"Architecture enhancements to facilitate communications
with packet data networks and applications\"
[4] 3GPP TS 23.040: \"Technical realization of the Short Message Service
(SMS)\"
[5] 3GPP TS 23.041: \"Technical realization of Cell Broadcast Service (CBS)\"
[6] OMA OMA-ERELD-LightweightM2M-V1_1-20180612-C: \"Enabler Release Definition
for LightweightM2M\"
[7] GSMA RCC.71: \"RCS Universal Profile Service Definition Document\"
# 3 Definitions, symbols and abbreviations
## 3.1 Definitions
For the purposes of the present document, the terms and definitions given in
3GPP TR 21.905 [1] and the following apply. A term defined in the present
document takes precedence over the definition of the same term, if any, in
3GPP TR 21.905 [1].
**5GMSG Service:** a MNO message service with the 5G System that enables point
to point, application to point, broadcast, multicast and group message
communications for IoT devices, including thing-to-thing communication and
person-to-thing communication.
**5GMSG proxy/gateway:** a device performing the interworking between 5G MSG
and M2M system, or access of 5G IoT devices.
**Controller terminal:** usually an intelligent terminal that can access the
5G network and sends the control message instructions to machine equipment. A
controller terminal can control multiple controlled terminals.
**Controlled terminal:** an IoT physical equipment which can access the
network through a variety of technologies and network slicing. A controlled
terminal can be controlled by a number of controller terminals.
## 3.2 Symbols
For the purposes of the present document, the following symbols apply:
\ \
## 3.3 Abbreviations
For the purposes of the present document, the abbreviations given in 3GPP TR
21.905 [1] and the following apply. An abbreviation defined in the present
document takes precedence over the definition of the same abbreviation, if
any, in 3GPP TR 21.905 [1].
5GMSG 5G Message
> API Application Programming Interface
>
> CIoT Cellular Internet of Things
>
> CoAP Constrained Application Protocol
>
> DRB Data Resource Bearer
>
> DRX Discontinuous Reception
>
> HTTP Hypertext Transfer Protocol
>
> IMS IP Multimedia Subsystem
>
> IoT Internet of Things
>
> JSON JavaScript Object Notation
>
> LWM2M Lightweight Machine to Machine
>
> M2M Machine to Machine
>
> MBMS Multimedia Broadcast Multicast Service
>
> MIoT Massive Internet of Things
>
> MNO Mobile Network Operator
>
> NIDD Non-IP Data Delivery
>
> OMA Open Mobile Alliance
>
> PB Protocol Buffer
>
> QoS Quality of Service
>
> SIP Session Initiation Protocol
>
> SMS Short Message Service
>
> SMS-CB Short Message Service-Cell Broadcast
>
> SRB Signal Resource Bearer
>
> XML Extensible Markup Language
# 4 Overview
Massive Internet of Things (MIoT) is one of key market segments of 5G. The
typical IoT device communication is sending and receiving small data which can
be delivered just in a message. Although an IoT application may implement its
own message enabler or data communication enabler, it will introduce problems
such as interoperability, signalling overhead etc. For the benefit of the IoT
ecosystem, it is expected that MNOs provide advanced message service for MIoT.
Today SMS is used as message enabler for some IoT applications. However SMS
has limitation in term of service capabilities (e.g. 140 bytes payload) and
performance (e.g. long latency), in addition, the overhead of control plane
resource is high. There have been enhancements and optimizations on the 3GPP
network capabilities to facilitate IoT applications including device
triggering, small data transfer, Non IP Data Delivery (NIDD), and group
messaging etc. Nevertheless, MIoT will bring various new demands on message
communication, e.g. light weight message communication for provision and
monitoring, ultra low delay and high reliability message communication for
remote control, and extremely high resource efficiency for large scale
connections.
5GMSG Service is to be developed for this new and huge market segment. It
enables an UE sending/receiving message of text, voice, video or data to/from
another UE or application server. While SMS is originally designed for person-
to-person communication, 5GMSG Service is basically designed for IoT device
communication, including thing-to-thing communication and person-to-thing
communication. The emerging IoT device communication will introduce new
requirements of messaging service in terms of service capabilities,
performance, charging, and security etc.
The 5GMSG Service enables various messaging communications models including:
\- MOMT: UE A sends a message to UE B
\- MOAT: UE A sends a message to Application Server
\- AOMT: Application Server sends a message to UE A
\- MOMT-G: UE A sends a message to a group of UEs
\- AOMT-G: Application Server sends a message to a group of UEs
\- AOMT-B: Application Server broadcast a message to all UEs ( in a specific
service area)
The UEs can be handset and IoT devices. The message communication between two
UEs can be with or without a 5GMSG Proxy/Gateway.
# 5 Use cases
## 5.1 Shared bike communication
### 5.1.1 Description
The shared bike service allows a rider to rent a bike via a mobile app and
drop it off anywhere for the next rider. This service offers the citizens a
cheap and convenient way for city trip, and getting more and more popular in
some cities. In shared bike services, there are message communications between
the riders and the bikes via the service platform for locating, reserving,
unlocking the bikes. In some hot spots, the density of station bikes is very
high, e.g. up to 1000 bikes within 500m * 3m area. The message communications
will consider the case where there is no handset/device to be operated by the
rider, or there is no coverage for the handset, but the device in the bike has
coverage.
The message communications for the bikes need to be light weight in order to
save power and data traffic. The network needs to be able to support high
density of UEs sending and receiving messages in real time.
### 5.1.2 Pre-conditions
The shared bike is equipped with smart lock and 5G message communication
module, and has a voice input device.
Case1: Tom's smart phone installs the shared bike Client which utilizes 5G
message service to communicate with the Server for renting a shared bike.
Case 2: Tom's smart phone has no client installed, or smart phone has no
power, or smart phone is not under coverage but the device in the shared bike
is under coverage.
### 5.1.3 Service Flows
Case 1:
1) Tom uses the Client to send a message to Server to request unlocking the
bike;
2) The Server sends a message to the bike to unlock the bike;
3) The bike is unlocked and sends a message to the Server to report the
result.
Case 2:
1) Tom verbally provides some indication to the shared bike through the voice
input device, for example, "I am Tom, I want to use this bike to go to the X
Street."
2) The shared bike records the voice, and transfer the voice message to the
server in the network.
3) The Server receives the voice message and through the voice analysis
recognizes that it is Tom and that he wants to use the shared bike, and the
server sends a message to the bike to unlock the bike. The server may also
send another voice message to the bike, for example, "the bike is unlocked",
"this bike is broken, please choose another one", etc.
4) The bike is unlocked and sends a message to the Server to report the
result. The bike may play the voice message received from the server.
### 5.1.4 Post-conditions
### 5.1.5 Potential Impacts or Interactions with Existing Services/Features
### 5.1.6 Potential Requirements
The 5GMSG Service shall support UE sending and receiving messages with end-to-
end (i.e. UE-to-UE) delay less than [500] ms.
NOTE 1: However, initial connection activation latencies may be longer
depending on receiving UE power saving states, paging, etc.
The 3GPP system shall support light weight communication for the 5GMSG
Service.
The 3GPP network shall be able to support high density of UEs to sending and
receiving messages within the area.
The 5GMSG Service shall support UE sending and receiving messages which
encapsulate voice with end-to-end (i.e. UE-to-UE) delay less than [500] ms.
NOTE 2: However, initial connection activation latencies may be longer
depending on receiving UE power saving states, paging, etc.
The 3GPP system shall support extensible payload for 5GMSG messages e.g. to
support an object model.
## 5.2 Monitoring data reporting
### 5.2.1 Description
In environmental monitoring, the outdoor monitoring devices with sensors are
powered by batteries or small solar photovoltaic equipment. The devices send
messages to the server to report the monitoring data collected by the sensors
periodically (e.g. every one hour). There are no terminating messages for such
devices.
To minimize the resource usage, a monitoring device does not need to be always
online for 5GMSG service; instead it connects to the 5GMSG Service only when
it needs to send a message.
### 5.2.2 Pre-conditions
The monitoring devices are equipped with a 5GMSG communication model.
### 5.2.3 Service Flows
The device sends a message to the server to report the monitoring data
collected by the sensor every hour.
### 5.2.4 Post-conditions
### 5.2.5 Potential Impacts or Interactions with Existing Services/Features
### 5.2.6 Potential Requirements
The 5G system shall minimize resource usage for periodical (e.g. every hour)
5GMSG communication originating from UEs.
## 5.3 Unified remote control of intelligent terminal
### 5.3.1 Description
There are many kinds of MIoT devices in the family, including electrical
products, communications products. Usually their operations are very simple
and require only simple messages. For example, in the cold winter, Ryder wants
to open the air conditioner ahead of time, or turn off some dangerous
electrical equipment remotely when he forgot. These are some PTP operations.
But now it\'s hard to control multiple devices with one app.
### 5.3.2 Pre-conditions
\- A terminal sends instructions and a terminal receives instructions are
needed.
\- And the terminal that receives instructions is the terminal of MIoT, which
can be any terminal product.
\- The terminal A sends instructions can be any kind of portable mobile
terminal, like Mobile phone, watch, pad, which may be MIoT terminal or not.
\- Terminal receives instructions may under WLAN, blue tooth, or attach to
MIoT network.
\- Terminal A may attach to macro network as well as MIoT network.
\- The receiving terminal may also be in power saving.
\- A MSG proxy/Gateway, in the network provides access to different MIoT
terminal devices for different access. The MSG proxy/gateway also perform
protocol conversion so that the different terminals do not need to support the
same protocols.
\- The MSG proxy/Gateway can also provide additional value-added services,
e.g. device monitoring and trouble shooting.
### 5.3.3 Service Flows
The following figure shows the service flows for Unified remote control of
intelligent terminal.
Figure 5.3.3-1: Service flows for Unified remote control of intelligent
terminal.
Terminal A is for initiating instruction. The acceptance of the terminal B is
an air conditioner from company 1. Terminal C is an oven from company 2.
Terminal D is a washing machine from company 3. B, C, D are machine equipments
of different access.
\- Terminal A send power on instructions to B, C or D through MSG
proxy/Gateway in the 5G network. The instructions are 5G message services.
\- Terminal B and C may access the 5G network by WLAN with HTTP and other
light weight technology. At the same time, Terminal D may connect to the 5G
network through any heterogeneous network (e.g. an industrial network). The
protocol used by terminal D may be ZigBee technology which is outside the 3GPP
scope.
\- Terminal B, C and D may access the 5G network by WLAN with HTTP and other
light weight technology. The MSG proxy/Gateway needs to convert different
popular device access technologies and protocols into unified MSG service on
the northbound side of the MSG proxy/Gateway. Then terminal B, C and D may
receive instructions from the terminal A forwarded from the 5G network MSG
proxy/Gateway.
\- B, C or D power on immediately after receiving instructions and begin to
work.
\- Terminal A send shut down instructions to B, C or D in the same way.
\- B, C or D shut down immediately after receiving instructions and stop to
work.
### 5.3.4 Post-conditions
Terminal A can control devices of different accesses in the house by macro
network, regardless of moving to any place.
### 5.3.5 Potential Impacts or Interactions with Existing Services/Features
Operators currently support IMS networks that can send messages to control.
But the IMS protocol is huge and the process is complex. MIoT terminal vendors
are hard to embed IMS in lower cost terminal devices. Therefore, a relatively
simple mechanism is needed to control access and security of the terminals,
which may offer even faster, lighter, and easier. A mechanism which is
flexible and can integrate different messaging protocols used by different
types of devices on different accesses and enable communication between
devices and smart phones on the internet.
### 5.3.6 Potential Requirements
The 5GMSG Service shall support UE to send and receive messages with a 5GMSG
proxy/gateway in the network side.
NOTE: The connection between the UE and the 5GMSG proxy/gateway can be 3GPP or
non-3GPP access (e.g. WLAN, etc.)
The 3GPP system shall support generating and collecting of charging
information related to number of transferred messages and number of
devices/connections.
The 5GMSG Service shall support the addition, deletion and location mobility
of IoT devices.
The 5GMSG Service shall support unified control of different types, access,
and interfaces IoT terminals.
The 3GPP system shall support generating and collecting of charging
information related to the amount of data transfers by the controlled and
controller terminals.
Charging records shall be associated to the controller's identity.
## 5.4 Remote control based on attribute file
### 5.4.1 Description
In residential buildings, some electrical devices contain relatively advanced
functions. For example, some electrical equipment can set the turn-on time.
Others need some diverse attributes. For instance, Ryder needs to set his air
conditioner to cool the room before he go back home in the hot summer. Ryder
need his multifunctional electric rice cooker to stew soup.
### 5.4.2 Pre-conditions
  * A terminal sends instructions and a terminal receives instructions are needed.
  * And the terminal that receives instructions is the terminal of MIoT, which can be any terminal product.
  * The terminal A sends instructions can be any kind of portable mobile terminal, like Mobile phone, watch, pad, which may be MIoT terminal or not.
  * Terminal receives instructions may under WLAN and attach to MIoT network.
  * Terminal A may attach to macro network as well as MIoT network.
### 5.4.3 Service Flows
Terminal A is for initiating instruction. The acceptance of the terminal B is
an air conditioner. Terminal C is rice cooker. B and C are different
manufacturers of equipment.
  * Terminal A sends power on instruction with an attribute file of "heat" to B.
  * B power on immediately after receiving instructions and begin to heat.
  * Terminal A sends power on instruction with an attribute file of "stew soup" and "time" to C.
  * C power on according to the attribute file "time" ,after receiving instructions and execute the procedure of cook soup.
### 5.4.4 Post-conditions
Terminal B and C can be executed according to the attribute file carried in
the instruction from terminal A.
### 5.4.5 Potential Impacts or Interactions with Existing Services/Features
None identified.
### 5.4.6 Potential Requirements
The 5GMSG Service shall support UE sending and receiving messages with end-to-
end (i.e. UE-to-UE) latency less than [500] ms.
NOTE: However, initial connection activation latencies may be longer depending
on receiving UE power saving states, paging, etc.
## 5.5 Remote control based on status interactive
### 5.5.1 Description
Residence MIoT scenarios need to extract some of the current running status
from the electrical device. The extracted information can include text, video,
or images. For example, Ryder wants to obtain the temperature and humidity in
his home monitor. Or he may extract images or video from his home security
system.
### 5.5.2 Pre-conditions
  * A terminal sends instructions and a terminal receives instructions are needed.
  * And the terminal that receives instructions is the terminal of MIoT, which can be any terminal product.
  * The terminal A sends instructions can be any kind of portable mobile terminal, like Mobile phone, watch, pad, which may be MIoT terminal or not.
  * Terminal receives instructions may under WLAN and attach to MIoT network.
  * Terminal A may attach to macro network as well as MIoT network.
### 5.5.3 Service Flows
Terminal A is for initiating instruction. The acceptance of the terminal B is
a camera. Terminal C is a rice cooker. B and C are different manufacturers of
equipment, and working under the control of terminal A.
  * Terminal A sends requirement instruction to B with an attribute file of "images" to check the status.
  * B immediately returns the current picture in the monitoring range, after receiving instructions. When the received attribute file is "video", a piece of current monitoring video will be fed back.
  * Terminal A sends requirement instruction to C with an attribute file of "time and temperature" to check the status.
  * C immediately returns the current running status, including running time and temperature, after receiving instructions.
### 5.5.4 Post-conditions
Terminal B and C returns the corresponding information of running status
according to the attribute file carried in the requirement instruction from
terminal A.
### 5.5.5 Potential Impacts or Interactions with Existing Services/Features
None identified.
### 5.5.6 Potential Requirements
The 5GMSG Service shall support UE sending and receiving messages of text,
image or video with a full message end-to-end (i.e. UE-to-UE) latency less
than [1000] ms.
## 5.6 Broadcast message
### 5.6.1 Description
In a smart building, smart video cameras for surveillance are equipped. When
one of the cameras detects an event of intrusion, it will send a broadcast
message to notify all the smart devices of the security system in the building
within milliseconds, so that the smart devices can quickly respond to the
event.
### 5.6.2 Pre-conditions
The smart building is equipped with a security system with smart video cameras
for surveillance, monitors, alerting speakers, warning lights etc.
### 5.6.3 Service Flows
1) A smart video camera detects an event of intrusion.
2) This smart video camera broadcasts a message that carries the info of
intrusion notification to all the smart devices of the security system in the
building within milliseconds.
3) After that, the smart video camera broadcasts another message that carries
a captured image of the intruder to all the smart devices of the security
system in the building within milliseconds.
4) All the smart devices of the security system in the building receive the
messages, and respond to the intrusion event accordingly, e.g. the monitors
show up the warning text and the image of the intruder, the warning lights
flash.
### 5.6.4 Post-conditions
None.
### 5.6.5 Potential Impacts or Interactions with Existing Services/Features
None.
### 5.6.6 Potential Requirements
The 5GMSG Service shall support broadcasting messages with end-to-end latency
less than [500] ms.
The 5GMSG Service shall support broadcasting messages to all the UEs within a
specific area according to the policy of application.
The 5GMSG Service shall support an authorized UE to send a broadcast message
to all the UEs within a specific area according to the policy of application.
The 5GMSG Service shall support broadcasting multimedia messages of text,
voice, image, video and data.
## 5.7 Group message
### 5.7.1 Description
In smart home, there are many intelligent devices for different purposes, e.g.
lock, camera, and smoke detector for safety, smart water heater, intelligent
air-conditioning, and cleaning robot for better living. The family members can
communicate with these intelligent devices via 5GMSG Service. A communication
group that includes the intelligent devices in the home and the family members
can be established for high efficiency communication. A family member can send
a message to the group so that all the intelligent devices receive this
message. The intelligent devices interpret this message and take actions
accordingly or just skip it if no action is needed.
### 5.7.2 Pre-conditions
Tom establishes a communication group G all intelligent devices in his home
and his smart phone.
### 5.7.3 Service Flows
Group Management:
a) The cleaning robot A is out of work. Tom removes robot A from the group G.
b) Tom buys a new cleaning robot B, and adds robot B to the Group G.
Group Message:
1) At 9AM, Tom is going to leave home for work, and he sends a message "I
leave home now" to the group G.
2) All the intelligent devices in the group G receive this message. Upon
receiving this message, the cleaning robot starts cleaning the house, the
lights turns off.
3) At 6PM, Tom comes back home from office, and he sends a message "I am back
home" to the Group G.
4) All the intelligent devices in the group G receive this message. Upon
receiving this message, intelligent air-conditioning starts to work, the
lights turn on.
### 5.7.4 Post-conditions
None.
### 5.7.5 Potential Impacts or Interactions with Existing Services/Features
None.
### 5.7.6 Potential Requirements
The 5GMSG Service shall support an UE sending/receiving a message to/from a
group.
The 5GMSG Service shall support an UE joining/leaving a group for message
communication.
## 5.8 Personal Possession Tracking
### 5.8.1 Description
A user tags many his personal possessions (wallet, keys, bike, bike helmet,
rucksack) with IoT tags. The purpose of these IoT tags is to allow the user to
remotely ping the device and receive back the location of the object. In order
to extend the life of these tags, there is no continuous mobile originated
(MO) data uplink, only on request from the user. The key performance metrics
for IoT tags such as this are battery lifetime (order of \~10yrs), latency
(order of \~1 minute), size and weight (order of \~20cm^3^, 40g).
The tags remain in a dormant state for extended periods of time, consisting of
periods of power saving mode and discontinuous reception. In between the
dormant states, the tags check for incoming messages from the serving network.
When the tag receives an incoming message requesting a location upload, the
device calculates its location based on available sources (e.g. GPS, cell ID,
OTDOA, UTDOA, beacon systems) and sends this message to the user.
### 5.8.2 Pre-conditions
The user's wallet is tagged with an IoT device supporting the location request
function.
The user has a UE capable of sending an IoT message to the IoT device attached
to the user's wallet.
### 5.8.3 Service Flows
The user loses his wallet.
The user discovers that he has lost his wallet and uses his cell phone to find
the location of his wallet. He uses an app to send a message to the IoT tag.
The message is sent from the user's cell phone UE to the serving network and,
if required, is passed to the PLMN currently serving the IoT tag.
The PLMN serving the IoT tag attempts to deliver the message. If the IoT tag
acknowledges receipt of the message, the PLMN serving the IoT may return an
acknowledgement message to the user's cell phone (if requested). If the IoT
tag does not acknowledge the receipt of the message, or if deliver was not
attempted as the PLMN serving the IoT tag knew that the IoT tag was in power
saving mode, the PLMN serving the IoT tag retains the message and will attempt
to deliver it to the IoT tag at the earliest possibility.
Receiving the message at the IoT tag triggers the device to fully wake up and
establish a PDN connection to the serving PLMN. The IoT tag calculates its
position and transmits this data to the user's cell phone. Once the data has
been transmitted and acknowledged, the UE returns to low power consumption
states such as DRX and PSM.
### 5.8.4 Post-conditions
The user receives the location of the wallet and sets off to find it.
### 5.8.5 Potential Impacts or Interactions with Existing Services/Features
None.
### 5.8.6 Potential Requirements
The 5GMSG Service shall support mobile originated -- mobile terminated
messaging.
The 5GMSG Service shall support triggering a device.
The 5GMSG Service shall support storage of a message if an IoT device is
unavailable for future delivery once an IoT device becomes available.
The 5GMSG Service shall support acknowledgement of delivery of a message.
5.9 Modem availability schedule
5.9.1 Description
In this use case, a population of IoT terminals may be in different network
access. Some terminals are served by enterprise's networks, and/or network
slices of MNOs. The network is completely transparent to the upper
application.
5.9.2 Pre-conditions
  * The terminal A, terminal B and terminal C of the IoT are controlled by the mobile terminal M.
  * Terminal A is connected to eMBB network slice, terminal B belongs to NB-IoT network, terminal C is an enterprise\'s IoT device.
  * The terminal A has one 'high activity' state where the device has short DRX period and is able to receive messages from the network with low delay, and one 'low activity' state where it applies extended DRX period and is hardly reachable by the network. The network maintains the modem availability schedule to realize the 'high and low activity' state.
5.9.3 Service Flows
```{=html}
``` \- The terminal A is an IoT device, such as a car, which is connected
through eMBB network slice. At this point, the mobile terminal M can control
the car door to open or close through eMBB network slice.
  * The terminal B is an intelligent air conditioner connected to the network through WiFi or NB-IoT. The mobile terminal M can control terminal B by WiFi network or NB-IoT network.
  * The terminal A enters 'low activity' state. At this point, the manufacturer\'s private application software cannot reach the terminal A, although the user wants to. The user wants to control the car in case of travelling, in the working morning or in evening social affairs.
  * As for terminal A, most users often control the vehicles at work on hours in the morning and off hours in the evening. Users can configure schedule of 'low and high activity' states, e.g. 'high activity' state between 8 a.m. -10 a.m. and 5 p.m. - 7 p.m., and 'low activity' state otherwise.
5.9.4 Post-conditions
While the controller terminal M accessed from eMBB network, it can still
control the terminals located in WiFi or NB-IoT network.
5.9.5 Potential Impacts or Interactions with Existing Services/Features
None.
5.9.6 Potential Requirements
The 5GMSG Service shall support open API to set the modem availability
schedule. Based on pre-provisioned schedule by users and/or MNOs, controlled
terminals can receive the messages.
The 5GMSG Services shall enable the controller terminals to control IoT
terminal devices of multiple slices through their respective network slices.
5.10 Message Encoding
5.10.1 Description
IoT equipment can be classified into several major categories: home, factory,
medical and vehicle applications, etc. The device behaviour of each type of
application categories has some common characteristics. Therefore, message
interaction for each different application categories can be patterned.
5.10.2 Pre-conditions
  * Ryder has a terminal sends instructions and a terminal receives instructions are needed.
  * And the terminal that receives instructions is the terminal of MIoT, which can be any terminal product.
5.10.3 Service Flows
```{=html}
``` \- Ryder has lots of home domain devices such as TV, refrigerator, air
conditioner, clothes washer, oven, and robot cleaner. He wants to control all
of them by his mobile phone.
  * Ryder wants to control all of them power on or off. He wants to get temperature information from refrigerator and air conditioner. He wants to know the running state of refrigerator, oven and robot cleaner.
  * Ryder hopes to display all the IoT devices on the same application of one of MNO's partners.
  * Ryder has a new robot cleaner and an old one. Ryder\'s hopes to control both of them. The new cleaner machine has extended and added new interactive functions. The network side only needs to update the new API based on 5G message, but not the other network elements. The mobile phone's application updates the software package to control the new equipment.
5.10.4 Post-conditions
The 5G message is to control machine things, which behaviours and experiences
are very new, and different from humans'. The 5G message encoding needs to be
newly defined.
5.10.5 Potential Impacts or Interactions with Existing Services/Features
None.
5.10.6 Potential Requirements
5G message services shall support suitable encoding to express the payloads
(e.g. XML, JSON).
5G message services shall support suitable encoding to express multimedia
payloads.
5G message service shall support the variable payload and segmented
transmission.
5G message service shall support the ability of open API of message to the
MNO's partners.
5.11 Optimization of Experience and Performance
5.11.1 Description
There are many types of IoT terminals, and a large number of them. Most of the
existing networks do not know what kinds of IoT devices are carrying, or the
states of device on the network.
5.11.2 Pre-conditions
  * The terminal A and terminal B of the IoT are controlled by the mobile terminal M.
  * Terminal A is a relatively static terminal connected network, like Sweeping robot.
  * Terminal B is a physical device of relative movement, such as a personal vehicle.
5.11.3 Service Flows
```{=html}
``` \- The terminal B is an IoT device, which is connected through eMBB
network slice. At this point, the mobile terminal M can control the car door
to open or close through eMBB network slice.
  * The terminal A is connected to the network through WiFi or NB-IoT. The mobile terminal M can control terminal A by WiFi network or NB-IoT network.
  * The terminal A's battery is exhausted. When the mobile terminal M initiates an instruction to the terminal A through the network. If the network saves the state of the De-registration from terminal A, it could feed back the correct reason to mobile terminal M.
  * The terminal B is accessed from the eMBB network slice.
  * The sleep time of terminal B is usually in the specific time period in the evening, and the terminal A is usually in the daytime. The periodic signaling of 5G message service, including login and security detection, can be simplified according to the sleep time of different terminals.
5.11.4 Post-conditions
Signaling optimization and error codes feedback can enhance the business
experience and device performance of 5G message network deployment.
5.11.5 Potential Impacts or Interactions with Existing Services/Features
None.
5.11.6 Potential Requirements
The 5G message service shall support indication of successful delivery, and
reason of failure.
5.12 Building Automation
5.12.1 Description
Building automation [9] refers to the management of equipment in buildings
such as heaters, coolers, and ventilators. Automation of such systems brings
several benefits, including the reduction of energy consumption, the
improvement of comfort level for people using the building, and the handling
of failure and emergency situations. Sensors installed in the building perform
measurements of the environment and report these measurements to Local
Controllers. Local Controllers (LC), in turn, report these results to a
Building Management System.
A Building Management System (BMS) may then execute different operations:
> \- Store the information into a database (e.g., for histogram purpose);
>
> \- Send an alarm to a (third-party) Building Management System;
>
> \- The Building Management System sends a command to an actuator (e.g.,
> command to increase room temperature, turn on a light).
The key performance metrics for the sensors that are typically battery powered
are battery lifetime (order of \~10yrs), latency to be reached from network
(order of \~5 seconds), size and weight (order of \~20cm3, 40g).
5.12.2 Pre-conditions
A building with a building automation system gets an indication from one
sensor that something is not correct e.g. too high temperature deviation.
5.12.3 Service Flows
The local controller gets a value form one of the temperature sensors of a
"too high value". The local controller then immediately initiate a process to
poll the other sensors nearby to get more information of this potential issue.
The local controller requests e.g. the fire detection sensors and temperature
sensors to report current values. The local controller can then decide upon
this additional information whether it is a false alarm or it is a fire and in
that case how far in the building it had spread.
5.12.4 Post-conditions
The local Controller can report to the management system if there is a fire or
not, or if there is an issue with one sensor.
5.12.5 Potential Impacts or Interactions with Existing Services/Features
None.
5.12.6 Potential Requirements
The 5GMSG Service shall support Application Originated Mobile Terminated
messaging service with maximum latency of 5 seconds while maintaining the long
battery life +10 years for normal small data traffic once a day and typical
sized IOT battery [200-500mAh].
## 5.13 Health monitoring
### 5.13.1 Description
Health control sensors typically require long standby to avoid charging of
battery. Today sensors like heart rate, blood sugar and blood pressure sensors
exists but also more like fall detection etc. for elderly. All this types of
sensors do have a web application where you can monitor the different values.
Typically there are also built in alarms if values goes beyond defined typical
values. There is however no way to reach the sensors and get an instant value
if you suspect something is wrong without significantly impacting the battery
life.
The key performance metrics for the sensors that are typically battery powered
are battery lifetime (order of \~3 months), latency to be reached from network
(order of \~10seconds), size and weight (order of \~20cm^3^, 40g).
### 5.13.2 Pre-conditions
A blood sugar sensor is reporting the values once every hour to the
application server and network. During the time in-between measure reporting
the parent would like get an instant value.
### 5.13.3 Service Flows
The application server gets values as they are reported from the IOT sensor.
An authorized person would like to get an instant value from the sensor to
check that everything is all right.
### 5.13.4 Post-conditions
The IoT sensor reports the requested data with a low delay
### 5.13.5 Potential Impacts or Interactions with Existing Services/Features
None.
### 5.13.6 Potential Requirements
The 5GMSG service shall support Application Originated Mobile Terminated
messaging service with max latency of 10 seconds while maintaining battery
life of 3 months for normal small data traffic once every hour and typical
sized IOT battery [200-500mAh].
# 6 Considerations
## 6.1 Considerations on charging
The business model of MIoT market may be different from that of consumer
market. The MNO may need flexible policy for charging of the 5GMSG Service,
e.g. flat rate, charge per message, charge by amount of data, and charge per
UE per month or per year. For different message communication models (MOMT,
MOAT, AOMT, MOMT-G, AOMT-G, AOMT-B), the charging policy may be distinguished.
The 5GMSG Service need to provide charging information to support different
charging policy.
## 6.2 Considerations on security
The 5GMSG Service enables messaging communication of thing-to-thing and
person-to-thing. This kind of messaging communication might trigger actions of
devices, for example remote control. Several security requirements need to be
taken into account in the 5GMSG Service. First, authorization is required for
message communication between two UEs, e.g. UE B is allowed to send messages
to UE A, while UE C is not allowed to send messages to UE A. Second, the
messages need to be integrity and confidentiality protected.
# 7 Consolidated potential requirements
## 7.1 5G message service requirements
7.1.1 General
[CPR.7.1.1-01]The 5GMSG Service shall support UE sending and receiving text
messages with end-to-end (i.e. UE-to-UE) delay less than [500] ms.
NOTE 1: Initial connection activation latencies may be longer depending on
receiving UE power saving states, paging, etc.
[CPR.7.1.1-02]The 5GMSG Service shall support the variable size of payload of
a text message with maximum [2048 bytes].
[CPR.7.1.1-03]The 5GMSG Service shall support
  * Mobile Originated Mobile Terminated (MOMT) messaging, i.e. messages are originated and terminated at UEs
  * Mobile Originated Application Terminated (MOAT) messaging, i.e. messages are originated at an application sever in the network and terminated at a UE
  * Application Originated Mobile Terminated (AOMT) messaging, i.e. messages are originated at a UE and terminated at an application sever in the network
[CPR.7.1.1-04]The 5GMSG Service shall support a server in the network to
trigger the UE to perform an action (e.g. wake up and establish a PDN
connection).
[CPR.7.1.1-05]The 5GMSG Service shall support storage of a message if an IoT
device is unavailable for future delivery once the IoT device becomes
available.
[CPR.7.1.1-06]The 5GMSG Service shall support indication of successful
delivery, and reason of failure.
[CPR.7.1.1-07]The 5GMSG Service shall support acknowledgement of delivery of a
message.
[CPR.7.1.1-08]The 5GMSG Service shall support UE to send and receive messages
with a 5GMSG proxy/gateway in the network side.
NOTE 2: The connection between the UE and the 5GMSG proxy/gateway can be 3GPP
or non-3GPP access (e.g. WLAN, etc.)
[CPR.7.1.1-09]The 5GMSG service shall support Application Originated Mobile
Terminated messaging with max latency of 10 seconds while maintaining battery
life of 3 months for normal small data traffic once every hour and typical
sized IoT battery [200-500mAh].
[CPR.7.1.1-10]The 5GMSG service shall support Application Originated Mobile
Terminated messaging with maximum latency of 5 seconds while maintaining the
long battery life +10 years for normal small data traffic once a day and
typical sized IoT battery [200-500mAh] for UE's that do not require mobility.
7.1.2 Group and broadcast
[CPR.7.1.2-01]The 5GMSG Service shall support broadcasting messages with end-
to-end latency less than [500] ms.
[CPR.7.1.2-02]The 5GMSG Service shall support broadcasting messages to all the
UEs within a specific area according to the policy of application.
[CPR.7.1.2-03]The 5GMSG Service shall support an authorized UE to send a
broadcast message to all the UEs within a specific area according to the
policy of application.
[CPR.7.1.2-04]The 5GMSG Service shall support an UE sending/receiving a
message to/from a group.
[CPR.7.1.2-05]The 5GMSG Service shall support an UE joining/leaving a group
for message communication.
7.1.3 Service capability exposure
[CPR.7.1.3-01]The 5GMSG Service shall support the ability of open API of
message to the MNO's partners.
[CPR.7.1.3-02]The 5GMSG Service shall support open API to application to
configure the availability schedule of a UE to access the 5GMSG Service.
## 7.2 5G system requirements
[CPR.7.2-02]The 5G system shall be able to support high density of UEs within
a specific area accessing to the 5GMSG Service.
[CPR.7.2-04]The 5G system shall minimize resource usage for periodical (e.g.
every hour) 5GMSG communication originating from UEs.
[CPR.7.2-05]The 5G system shall support collecting of charging information
related to number of transferred messages and number of devices/connections.
[CPR.7.2-06]The 3GPP system shall support collecting of charging information
related to the amount of data transfers by the originated UE and terminated UE
in a message, and associating the charging information of originated UE and
terminated UE.
# 8 Gap analysis
## 8.1 Unified remote control of intelligent terminal
For 5G system in Rel-15, there is no existing technology to meet the
requirements of the use case: Unified remote control of intelligent terminal.
If MNOs want to be able to implement 5GMSG service with 5GMSG proxy/gateway,
then new technologies need to be introduced. Here are some possible potential
ways to describe 5GMSG proxy/gateway. These potential ways do not limit the
specific implementation of the next step.
As the 5GMSG proxy/gateway of 5G system, it has several possible capabilities,
which are based on different models.
1) 5GMSG Gateway Model ：
The M2M system may be deployed by industry manufacturers. At this time, the
IoT Devices' identification and terminal information management and control of
terminal B, C, D described in the case of Supporting messaging with different
types of UEs may be implemented by the M2M system, but not include the
terminal A.
5GMSG Gateway needs to realize the control of the terminal B, C, D accessed
the M2M system by the terminal A.
As shown in the following diagram of terminal A (unified 5G control terminal),
for example, there is an table for lighting control, discomfort information
collection, washing machine, and air conditioning control.
Figure 8.1-1 5GMSG Gateway Model
At that time, the gateway of 5G needs to convert 5G messages and
intercommunicate with terminals using different protocols in the M2M network,
such as ZigBee and LWM2M/CoAP messaging, etc., as shown on the red circle in
3GPP scope. In case of adding more IoT terminals based on different
technologies, only the gateway is required to be upgraded. The implementation
of the gateway can refer to the standardized mechanisms done in other
organizations (e.g. oneM2M).
2) 5GMSG proxy Model
The M2M system may be deployed by MNOs. At this time, the IoT devices'
identification and terminal information management and control of terminal B,
C, D described in the case of Unified remote control of intelligent terminal
may be implemented by the 5G system.
5GMSG Proxy needs to realize the access of the terminal B, C, D accessed from
e.g. WLAN, by the terminal A.
The 5GMSG Proxy can also achieve the packet data acquisition and the control
of the IoT terminals of the terminal A.
The following is an example of an intelligent washing machine, which is in a
bathroom and supports smart washing services. Herein, the 5GMSG Proxy plays
the role of convey the control from terminal A, in case of the terminal A want
to change the brand of the terminal D through the 5GMSG Proxy, as shown on the
red circle in 3GPP scope.
Figure 8.1-2 5GMSG proxy Model
## 8.2 5G Message Size
One of the most commonly technology used by IoT is Bluetooth Technology. The
link layer of BLE packet has only one packet format used for both advertising
channel packet and data channel packets, with the following format:
\- Preamble: 1 octet,
\- Access Address: 4 octets,
\- PDU: 2 to 39 octets,
\- And CRC: 3 octets.
The date channel PDU has a 16 bit header, a variable size payload, and may
include a Message Integrity Check(MIC) field, like:
\- Header: 16 bits,
\- Payload: ,
\- And MIC: 32 bits
The length field of the Header indicates the length of the Payload and MIC if
included. The length field has the range of 0 to 31 octets. The Payload field
shall be less than or equal to 27 octets in length. The MIC is 4 octets in
length. Other details of packet size definition may refer to "2 AIR INTERFACE
PACKETS".
But for small devices, the implementation of TCP and HTTP protocol is
obviously an excessive requirement. In order to enable small devices to access
the network, the CoAP protocol is designed. CoAP is an application layer
protocol running on the UDP protocol instead of running on TCP like HTTP. The
CoAP protocol is very compact, and the smallest packet is only 4 bytes.
The common size of the IoT message packet ranges from tens of bytes to
hundreds of bytes. According to the different consumer behaviour of the
operator market, different packet sizes are set in different regions to meet
the optimization of network performance.
8.3 Message Encoding
While supporting message encoding, the network needs to refer to some message
model information. The IoT devices can be modelled according to the physical
functions of the devices, taking home cases as an example. For household
ClothesDryer, properties such as switch, running mode and running state can be
defined.
  * The switch properties of the ClothesDryer have only two settings: power on or off,
  * The ClothesDryer's running mode may include the setting of: Normal, QuickDry, PermanentPress, HeavyDuty, Delicates, AirDry and ExtendedTumble,
  * The ClothesDryer's running state may include the setting of: idle, preActive, active, reserved, stopped, error, diagnostic, test, maintenance, clear and charging.
For all brands of ClothesDryer, these properties are very similar. Besides,
the running state of most electronic devices includes the above parameters
alike. For house physical equipment properties, we can refer to the work of
related specifications, such as [2]. Meanwhile, there is more detailed models
definition for other device types of other scenarios.
8.4 Lightweight message communication
One of the general requirements of the 5GMSG Service for MIoT is that the
communication between devices or between persons and devices need to be
lightweight, in terms of power and data traffic consumption in the device and
resource usage in the network.
Non-IP data delivery(NIDD)[3] is part of the CIoT EPS optimizations for small
data of both mobile originated (MO) and mobile terminated (MT). With NIDD,
data packets are transmitted over control plane -- SRB (Signal Resource
Bearer), without requiring the establishment of DRB (Data Resource Bearer).
Due to the resource limitation of SRB, NIDD is appropriate for infrequent
transmission of small data.
Device Triggering (DT)[3] is the means to trigger an UE to perform application
specific actions. The payload in the trigger message provides information to
the application that may trigger application related actions. DT is for AOMT
communication that can be done in one message. It is not applicable to MOMT
communication.
OMA LWM2M [6] uses light and compact protocol (i.e. CoAP) as well as an
efficient resource data model for IoT device management, service enablement
and information reporting. LWM2M enables both AOMT and MOAT communication
between a server and a device, but does not support MOMT communication.
8.5 Broadcast and multicast message delivery
The 5GMSG Service for MIoT needs to support broadcast and multicast message
delivery in order to handle the massive communications efficiently without
long delay. The receivers of broadcast/multicast messages can be all UEs
within a cell or multiple cells.
Short Message Service -Cell Broadcast (SMS-CB) [5] is a messaging service that
allows messages to be broadcast to all UEs within a designated geographical
area of a cell or a set of cells. With SMS-CB, a message can be delivered to
millions of UEs in seconds. The size of a SMS-CB message can be up to 1395
characters, so it is well fit for a text or small data message, but not for a
multimedia message.
Group Message Delivery (GMD) [3] utilizes MBMS capability to efficiently
distribute the same content to the members of a group that are located in a
particular geographical area.
8.6 Group message communication
In group message communication, the members of a group can be persons and
things that are located in different geographical areas. All the members can
send messages to the group. Group management mechanism is required to support
the members joining or leaving a group.
SMS-CB and GMD use broadcast or multicast delivery which are fit for a large
group in a designated geographical area. However, they are not fit for a small
group whose members are located in different geographical areas. A more
flexible mechanism other than broadcast or multicast is preferred. The
messaging service in Rich Communication Services (RCS) [7] defined by GSMA
provides group chat feature that enables an UE sends a message (text, picture,
voice, video etc.) to a group whose members can be in any location. However,
RCS is on top of SIP (Session Initiation Protocol) stack and IMS (IP
Multimedia Subsystem) , which is not lightweight enough for the IoT devices.
8.7 Summary
There are messaging capabilities defined by several SDOs, including SMS, NIDD,
DT and GMD by 3GPP, MMS and LWM2M by OMA, RCS by GSMA. Table 8-1 summarizes
the gaps between 5GMSG Service requirements and existing services
capabilities. None of these message capabilities can meet all the requirements
of the 5GMSG Services.
Table 8-1 Gaps between 5GMSG Service requirements and existing services
capabilities
* * *
                            **SMS**   **NIDD**   **DT**   **GMD**   **MMS**   **LWM2M**   **RCS**
1 MOMT Y Y N N Y N Y 2 Multi-media N N N N Y N Y 3 Offline message Y N N N Y N
Y 4 Group message N N N N N N Y 4 Broadcast/multicast Y N N Y N N N 5
Proxy/Gateway N N N N N N N 6 Lightweight Y Y Y Y N Y N 7 Low delay N Y Y Y N
Y N NOTE :
* * *
# 9 Conclusion and recommendations
The feasibility study on 5G message service for MIoT develops a number of use
cases and conducts the potential requirements based on the use cases. It
further analyzes the gaps between 5GMSG Service requirements and existing
services capabilities. For the benefit of the IoT ecosystem, a new MNOs
message service for MIoT - the 5GMSG Service needs to be developed.
It is recommended that the requirements identified in this Technical Report
are considered for the development of normative requirements. A new Technical
Specification is expected to address the service level requirements of the
5GMSG Service, and the new requirements on 5G System to support the 5GMSG
Service are to be input to TS 22.261.
#