# Foreword
This Technical Report has been produced by the 3^rd^ Generation Partnership
Project (3GPP).
The contents of the present document are subject to continuing work within the
TSG and may change following formal TSG approval. Should the TSG modify the
contents of the present document, it will be re-released by the TSG with an
identifying change of release date and an increase in version number as
follows:
Version x.y.z
where:
x the first digit:
1 presented to TSG for information;
2 presented to TSG for approval;
3 or greater indicates TSG approved document under change control.
y the second digit is incremented for all changes of substance, i.e. technical
enhancements, corrections, updates, etc.
z the third digit is incremented when editorial only changes have been
incorporated in the document.
# 1 Scope
The present document is related to the study item \"Integrated Access and
Backhaul\" [1].
The document describes the architectures, the radio protocols, and the
physical layer aspects related to relaying of access traffic by sharing radio
resources between access and backhaul links.
# 2 References
The following documents contain provisions which, through reference in this
text, constitute provisions of the present document.
\- References are either specific (identified by date of publication, edition
number, version number, etc.) or nonâ€‘specific.
\- For a specific reference, subsequent revisions do not apply.
\- For a non-specific reference, the latest version applies. In the case of a
reference to a 3GPP document (including a GSM document), a non-specific
reference implicitly refers to the latest version of that document in the same
Release as the present document.
[1] 3GPP TR 21.905: \"Vocabulary for 3GPP Specifications\".
[2] 3GPP RP-172290, \"Study on Integrated Access and Backhaul for NR\"
[3] 3GPP TS 38.300, \"NR; NR and NG-RAN Overall Description; Stage 2\"
[4] 3GPP TS 38.474, \"NG-RAN; F1 data transport\"
[5] 3GPP TS 38.470, \"NG-RAN; F1 general aspects and principles\"
[6] 3GPP TS 23.502, \"Procedures for the 5G System; Stage 2\"
[7] 3GPP TS 38.401, \"NG-RAN; Architecture description\"
[8] 3GPP TS 38.425, \"NG-RAN; NR user plane protocol\"
# 3 Definitions and abbreviations
## 3.1 Definitions
For the purposes of the present document, the terms and definitions given in
TR 21.905 [1] and the following apply. A term defined in the present document
takes precedence over the definition of the same term, if any, in TR 21.905
[1].
IAB-node RAN node that supports wireless access to UEs and wirelessly
backhauls the access traffic.
IAB-donor RAN node which provides UE\'s interface to core network and wireless
backhauling functionality to IAB-nodes.
## 3.2 Abbreviations
For the purposes of the present document, the abbreviations given in TR 21.905
[1] and the following apply. An abbreviation defined in the present document
takes precedence over the definition of the same abbreviation, if any, in TR
21.905 [1].
IAB Integrated Access and Backhaul
BH Backhaul
# 4 Introduction
At the 3GPP TSG RAN #75 meeting, the Study Item description on \"Study on
Integrated Access and Backhaul for NR\" was approved [2]. **The objective of
the study was to identify and evaluate potential solutions for efficient
operation of integrated access and wireless backhaul for NR. Frequency ranges
up to 100 GHz will be considered. Detailed objectives of the study item
were:**
\- Topology management for single-hop/multi-hop and redundant connectivity
[RAN2, RAN3], e.g.:
\- Protocol stack and network architecture design (including interfaces
between rTRPs) considering operation of multiple relay hops between the anchor
node (e.g. connection to core) and UE;
\- Control and User plane procedures, **including handling of QoS,** for
supporting forwarding of traffic across via one or multiple wireless backhaul
links.
\- Route selection and optimization [RAN2, RAN1, RAN3], e.g.:
\- Mechanisms for discovery and management of backhaul links for TRPs with
integrated backhaul and access functionalities;
\- RAN-based mechanisms to support dynamic route selection (potentially
without core network involvement) to accommodate short-term blocking and
transmission of latency-sensitive traffic across backhaul links;
\- Evaluate the benefit of resource allocation/route management coordination
across multiple nodes, for end-to-end route selection and optimization.
\- Dynamic resource allocation between the backhaul and access links **[RAN1,
RAN2], e.g.:**
\- Mechanisms to efficiently multiplex access and backhaul links (for both DL
and UL directions) in time, frequency, or space under a per-link **half-duplex
constraint** across one or multiple backhaul link hops for both TDD and FDD
operation;
\- Cross-link interference (CLI) measurement, coordination and mitigation
between rTRPs and UEs.
\- High spectral efficiency while also supporting reliable transmission
[RAN1]:
\- Identification of physical layer solutions or enhancements to support
wireless backhaul links with high spectral efficiency.
NOTE: support of these functionalities should consider existing mechanisms for
access links as a starting point.
NOTE: rTRP may refer to IAB-node and anchor node may refer to Donor-node in
the other sections.
The results and findings of the study are documented in this technical report.
# 5 Requirements
## 5.1 Use cases and deployment scenarios
### 5.1.1 Relay deployment scenarios
A key benefit of IAB is enabling flexible and very dense deployment of NR
cells without densifying the transport network proportionately. A diverse
range of deployment scenarios can be envisioned including support for outdoor
small cell deployments, indoors, or even mobile relays (e.g. on buses or
trains).
**Requirement:** The Rel. 15 study item shall focus on IAB with physically
fixed relays. This requirement does not preclude optimization for mobile
relays in future releases.
### 5.1.2 In-band vs. out-of-band backhaul
In-band- and out-of-band backhauling with respect to the access link represent
important use cases for IAB. In-band backhauling includes scenarios where
access- and backhaul link at least partially overlap in frequency creating
half-duplexing or interference constraints, which imply that the IAB-node
cannot transmit and receive simultaneously on both links. In the present
context, out-of-band scenarios are understood as not posing such constraints.
It is critical to study in-band backhauling solutions that accommodate tighter
interworking between access and backhaul in compliance with half-duplexing and
interference constraints.
**Requirement:** The architectures considered in the study should support in-
band and out-of-band scenarios:
\- In-band IAB scenarios including (TDM/FDM/SDM) of access- and backhaul links
subject to half-duplex constraint at the IAB-node should be supported (this
requirement does not exclude full duplex solutions to be studied);
\- Out-of-band IAB scenarios should also be supported using the same set of
RAN features designed for in-band scenarios. The study should identify if
additional RAN features are needed for out-of-band scenarios.
### 5.1.3 Access/backhaul RAT options
IAB can support access and backhaul in above-6GHz- and sub-6GHz spectrum. The
focus of the study is on backhauling of NR-access traffic over NR backhaul
links. Solutions for NR-backhauling of LTE-access may be included into the
study.
It is further considered critical that Rel. 15 NR UEs can transparently
connect to an IAB-node via NR, and that legacy LTE UEs can transparently
connect to an IAB-node via LTE in case IAB supports backhauling of LTE access.
**Requirement:** NR access over NR backhaul should be studied with highest
priority:
\- Additional architecture solutions required for LTE-access over NR-backhaul
should be explored;
\- The IAB design shall at least support the following UEs to connect to an
IAB-node:
\- Rel. 15 NR UE;
\- Legacy LTE UE if IAB supports backhauling of LTE access.
### 5.1.4 Standalone and non-standalone deployments
IAB can support stand-alone (SA) and non-stand-alone (NSA) deployments. For
NSA, relaying of the UE\'s SCG path (NR) is included in the study. Relaying of
the UE\'s MCG path (LTE) is contingent on the support for IAB-based relaying
of LTE-access (see 5.1.3.).
The IAB-node itself can operate in SA or NSA mode. While SA and NSA scenarios
are included in the study, backhauling over the LTE radio interface is
excluded from the study. Since EN-DC and SA option 2 represent relevant
deployment options for early rollout of NR, EN-DC and SA option 2 for UEs and
IAB-nodes have high priority in this study. Other NSA deployment options or
combinations of SA and NSA may also be explored and included in the study.
**Requirements:**
1: SA and NSA shall be supported for the access link. For an NSA access link,
relaying is applied to the NR path. Relaying of the LTE path is contingent on
the support of backhauling of LTE traffic (see 5.1.3).
2: Both NSA and SA shall be studied for the backhaul link. Backhaul traffic
over the LTE radio interface is excluded from the study.
3: For NSA access- and backhaul links, the study shall consider EN-DC with
priority. However, other NSA options shall not be precluded from the study.
Further, for IAB-nodes, the following options are studied:
\- Case 1 - Connection in Networks without NGC: The IAB-nodes connects as a UE
to EPC using EN-DC;
\- Case 2 - Connection in Networks with NGC: The IAB-node connects as a UE to
NGC using NR:
\- This can also be used when access UEs support option 3/3X.
## 5.2 Architecture Requirements
### 5.2.1 Multi-hop backhauling
Multi-hop backhauling provides **more** **range extension** than single hop.
This is especially beneficial for above-6GHz frequencies due to their limited
range. Multi-hop backhauling further **enables** **backhauling around
obstacles** , e.g. buildings in urban environment for in-clutter deployments.
The maximum number of hops in a deployment is expected to depend on many
factors such as frequency, cell density, propagation environment, and traffic
load. These factors are further expected to change over time. From the
architecture perspective, flexibility in hop count is therefore desirable.
With increasing number of hops, scalability issues may arise and limit
performance or increase signaling load to unacceptable levels. Capturing
scalability to hop count as a KPI is therefore an important aspect of the
study.
**Requirements** : IAB design shall support multiple backhaul hops:
\- The architecture should not impose limits on the number of backhaul hops;
\- The study should consider scalability to hop-count an important KPI;
\- Single hop should be considered a special case of multiple backhaul hops.
### 5.2.2 Topology adaptation
Wireless backhaul links are vulnerable to **blockage** , e.g., due to moving
objects such as vehicles, due to seasonal changes (foliage), or due to
infrastructure changes (new buildings). Such vulnerability also applies to
physically stationary IAB-nodes. Also, traffic variations can create uneven
load distribution on wireless backhaul links leading to local link or node
**congestion**.
Topology adaptation refers to procedures that autonomously **reconfigure the
backhaul network** under circumstances such as blockage or local congestion
without discontinuing services for UEs.
**Requirement:** Topology adaptation for physically fixed relays shall be
supported to enable robust operation, e.g., mitigate blockage and load
variation on backhaul links
### 5.2.3 L2- and L3-relay architectures
There has been **extensive work** in 3GPP on Layer 2 (L2) and Layer 3 (L3)
relay architectures. Leveraging this work may **reduce the standardization
effort** for IAB. The study can further **establish an understanding** of the
tradeoff between L2- and L3-relaying in the context of IAB.
**Requirement:** L2- and L3-relay architectures shall be studied.
### 5.2.4 Core-network impact
IAB-related features such as IAB-node integration and topology adaptation may
**impact core-network specifications**. It is desirable to minimize the impact
to core-network specifications related to IAB.
Also, dependent on design, IAB features may create **additional core-network
signaling load**. The amount of signaling load may vary among the various
designs discussed in the study. Core-network signaling load is therefore
considered an important KPI for the comparison of IAB designs.
**Requirements** :
1: The IAB design shall strive to minimize the impact to core network
specifications;
2: The study should consider the impact to the core network signalling load as
an important KPI.
### 5.2.5 Reuse of Rel-15 NR
Leveraging existing Rel-15 NR specifications can **greatly reduce the
standardization effort** for the backhaul link.
The backhaul link may have **additional requirements** , which are not
addressed in Rel-15 NR. For instance, both link end points of the backhaul
link are expected to have similar capabilities. It may therefore be desirable
to consider enhancements to Rel-15 NR specifications for the backhaul link.
**Requirement:** The study should strive to maximize the reuse of Rel-15 NR
specifications for the design of the backhaul link. Enhancement can also be
considered.
### 5.2.6 Network Synchronization
Time synchronization between IAB-nodes is also very essential e.g. to support
TDD system and some potential features which need network synchronization. IAB
may have additional requirement on network synchronization, which includes in-
band wireless backhaul and multi-hops backhauling.
# 6 Architectures
## 6.1 General
### 6.1.1 Functions and Interfaces for IAB
Figure 6.1.1-1: Reference diagram for IAB-architectures (SA mode)
IAB strives to reuse existing functions and interfaces defined for access. In
particular, Mobile-Termination (MT), gNB-DU, gNB-CU, UPF, AMF and SMF as well
as the corresponding interfaces NR Uu (between MT and gNB), F1, NG, X2 and N4
are used as baseline for the IAB architectures. Modifications or enhancements
to these functions and interfaces for the support of IAB will be explained in
the context of the architecture discussion. Additional functionality such as
multi-hop forwarding is included in the architecture discussion as it is
necessary for the understanding of IAB operation and since certain aspects may
require standardization.
The Mobile-Termination (MT) function has been defined as a component of the
Mobile Equipment. In the context of this study, MT is referred to as a
function residing on an IAB-node that terminates the radio interface layers of
the backhaul Uu interface toward the IAB-donor or other IAB-nodes.
Figure 6.1.1-1 shows a reference diagram for IAB in standalone mode, which
contains one IAB-donor and multiple IAB-nodes. The IAB-donor is treated as a
single _logical_ node that comprises a set of functions such as gNB-DU, gNB-
CU-CP, gNB-CU-UP and potentially other functions. In a deployment, the IAB-
donor can be split according to these functions, _which can all be either
collocated or non-collocated as allowed by 3GPP NG-RAN architecture._ IAB-
related aspects may arise when such split is exercised. Also, some of the
functions presently associated with the IAB-donor may eventually be moved
outside of the donor in case it becomes evident that they do not perform IAB-
specific tasks.
### 6.1.2 Operation in SA-mode and NSA-mode
Figure 6.1.2-1: Examples for operation in SA and NSA mode. a) UE and IAB-node
operate in SA with NGC, b) UE operates in NSA with EPC while IAB-node operates
in SA with NGC, c) UE and IAB-node operate in NSA with EPC.
The IAB-node can operate in SA- or in NSA mode. When operating in NSA, the
IAB-node only uses the NR link for backhauling.
The UE connecting to an IAB-node may choose a different operation mode than
the IAB-node. The UE may further connect to a different type of core network
than the IAB-node it is connected to. In this case, (e)Decor or slicing can be
used for CN selection.
IAB-nodes operating in NSA-mode may be connected to the same or to different
eNBs. UEs that also operate in NSA-node may connect to the same or to a
different eNB than the IAB-node they are connected to.
Figure 6.1.2-1 shows examples for SA-mode with NGC and NSA-mode with EPC.
In Option c
\"UE and IAB-node operate in NSA with EPC\", the IAB-node may use the LTE leg
for **IAB-node initial access and configuration, topology management, route
selection, and resource partitioning**.
Option a \"UE and IAB-node operate in SA with NGC\" has following impacts:
\- Impact to LTE RAN:
\- N/A.
\- Impact to EPC:
\- N/A.
\- Impact to NR RAN:
\- It may potentially require change or add NR signaling procedures for
reconfiguration of IAB-MT, e.g. Configure NR IAB over NR air interface.
\- Impact to NGC:
\- Support authentication/authorization of the IAB-node, and key generation in
the IAB-node (SA3);
\- For some architecture options with UPF in the Donor, enhancement is needed
in order to select the UPF collocated in the Donor. (This may also require
some support from NG-RAN, e.g. provide the information of the local UPF to
NGC).
Option b \"UE operates in NSA with EPC while IAB-node operates in SA with
NGC\" has following impacts:
\- Impact to LTE RAN:
\- N/A.
\- Impact to EPC:
\- N/A.
\- Impact to NR RAN:
\- It may potentially require change or add NR signaling procedures for
reconfiguration of IAB-MT, e.g. Configure NR IAB over NR air interface;
\- Access control mechanism to only allow IAB-MT connects to IAB-Donor and
IAB-node. An Access UE can only connect to the IAB-Donor or the IAB-node in DC
or MC, and use the IAB-Donor and the IAB-node as a SN.
\- Impact to NGC:
\- Support authentication/authorization of the IAB-node, and key generation in
the IAB-node (SA3);
\- For some architecture options with UPF in the Donor, enhancement is needed
in order to select the UPF collocated in the Donor. (This may also require
some support from NG-RAN, e.g. provide the information of the local UPF to
NGC).
Option c \"UE and IAB-node operate in NSA with EPC\" has following impacts:
\- Impact to LTE RAN:
\- It may potentially require change or add LTE signaling procedures for
reconfiguration of IAB-MT, e.g. Configure NR IAB over LTE air interface.
\- Impact to EPC:
\- Support authentication/authorization of the IAB-node, and key generation in
the IAB-node (SA3);
\- For some architecture options with UPF in the Donor, enhancement is needed
in order to select the L-GW collocated in the Donor.
\- Impact to NR RAN:
\- N/A.
\- Impact to NGC:
\- N/A.
## 6.2 IAB Architectures proposed
All IAB multi-hop designs submitted to RAN-3 #99 can be represented with five
architecture reference diagrams ([2]-[11]). These reference diagrams differ
with respect to the modification needed on interfaces or additional
functionality needed, e.g. to accomplish multi-hop forwarding. These five
architectures are divided into two architecture groups. The main features of
these architectures can be summarized as follows:
**Architecture group 1** : Consists of architectures 1a and 1b. Both
architectures leverage CU/DU split architecture.
\- Architecture 1a:
\- Backhauling of F1-U uses an adaptation layer or GTP-U combined with an
adaptation layer;
\- Hop-by-hop forwarding across intermediate nodes uses the adaptation layer
for operation with NGC or PDN-connection-layer routing for operation with EPC.
\- Architecture 1b:
\- Backhauling of F1-U on access node uses GTP-U/UDP/IP;
\- Hob-by-hop forwarding across intermediate node uses the adaptation layer.
**Architecture group 2** : Consists of architectures 2a, 2b and 2c
\- Architecture 2a:
\- Backhauling of F1-U or NG-U on access node uses GTP-U/UDP/IP;
\- Hop-by-hop forwarding across intermediate node uses PDU-session-layer
routing.
\- Architecture 2b:
\- Backhauling of F1-U or NG-U on access node uses GTP-U/UDP/IP;
\- Hop-by-hop forwarding across intermediate node uses GTP-U/UDP/IP nested
tunneling.
\- Architecture 2c:
\- Backhauling of F1-U or NG-U on access node uses GTP-U/UDP/IP;
\- Hop-by-hop forwarding across intermediate node uses GTP-U/UDP/IP/PDCP
nested tunneling.
## 6.3 Architecture group 1
### 6.3.1 Architecture 1a
Figure 6.3.1-1: Reference diagram for architecture 1a (SA-mode with NGC)
Architecture 1a leverages CU/DU-split architecture. Figure 6.3.1-1 shows the
reference diagram for a two-hop chain of IAB-nodes underneath an IAB-donor,
where IAB-node and UE connect in SA-mode to an NGC.
In this architecture, each IAB-node holds a DU and an MT. Via the MT, the IAB-
node connects to an upstream IAB-node or the IAB-donor. Via the DU, the IAB-
node establishes RLC-channels to UEs and to MTs of downstream IAB-nodes. For
MTs, this RLC-channel may refer to a modified RLC*. An IAB-node can connect to
more than one upstream IAB-node or IAB-donor DU. The IAB-node may contain
multiple DUs, but each DU part of the IAB-node has F1-C connection only with
one IAB-donor CU-CP.
The donor also holds a DU to support UEs and MTs of downstream IAB-nodes. The
IAB-donor holds a CU for the DUs of all IAB-nodes and for its own DU. It is
assumed that the DUs on an IAB-node are served by only one IAB-donor. This
IAB-donor may change through topology adaptation. Each DU on an IAB-node
connects to the CU in the IAB-donor using a modified form of F1, which is
referred to as F1*. F1*-U runs over RLC channels on the wireless backhaul
between the MT on the serving IAB-node and the DU on the donor. An adaptation
layer is added, which holds routing information, enabling hop-by-hop
forwarding. It replaces the IP functionality of the standard F1-stack. F1*-U
may carry a GTP-U header for the end-to-end association between CU and DU. In
a further enhancement, information carried inside the GTP-U header may be
included into the adaption layer. Further, optimizations to RLC may be
considered such as applying ARQ only on the end-to-end connection opposed to
hop-by-hop. The right side of Figure 6.3.1-1 shows two examples of such F1*-U
protocol stacks. In this figure, enhancements of RLC are referred to as RLC*.
The MT of each IAB-node further sustains NAS connectivity to the NGC, e.g.,
for authentication of the IAB-node. It may further sustain a PDU-session via
the NGC, e.g., to provide the IAB-node with connectivity to the OAM.
For NSA operation with EPC, the MT is dual-connected with the network using
EN-DC. The IAB-node\'s MT sustains a PDN connection with the EPC, e.g., to
provide the IAB-node with connectivity to the OAM.
### 6.3.2 Architecture 1b
Figure 6.3.2-1: Reference diagram for architecture 1b (SA-mode with NGC)
Architecture 1b also leverages CU/DU-split architecture. Figure 6.3.2-1 shows
the reference diagram for a two-hop chain of IAB-nodes underneath an IAB-
donor. Note that the IAB-donor only holds one logical CU. An IAB-node can
connect to more than one upstream IAB-node or IAB-donor DU. The IAB-node may
contain multiple DUs, but each DU part of the IAB-node has F1-C connection
only with one IAB-donor CU-CP.
In this architecture, each IAB-node and the IAB-donor hold the same functions
as in architecture 1a. Also, as in architecture 1a, every backhaul link
establishes an RLC-channel, and an adaptation layer is inserted to enable hop-
by-hop forwarding of F1*.
Opposed to architecture 1a, the MT on each IAB-node establishes a PDU-session
with a UPF residing on the donor. The MT\'s PDU-session carries F1* for the
collocated DU. In this manner, the PDU-session provides a point-to-point link
between CU and DU. On intermediate hops, the PDCP-PDUs of F1* are forwarded
via adaptation layer in the same manner as described for architecture 1a. The
right side of Figure 6.3.2-1 shows an example of the F1*-U protocol stack.
For NSA operation with EPC, the MT is dual-connected with the network using
EN-DC. In this case, the IAB-node\'s MT sustains a PDN connection with a L-GW
residing on the donor.
## 6.4 Architecture group 2
### 6.4.1 Architecture 2a
Figure 6.4.1-1: Reference diagram for architecture 2a (SA-mode with NGC)
Figure 6.4.1-1 shows the reference diagram for architecture 2a, where UE and
IAB-node use SA-mode with NGC.
In this architecture, the IAB-node holds an MT to establish an NR Uu link with
a gNB on the parent IAB-node or IAB-donor. Via this NR-Uu link, the MT
sustains a PDU-session with a UPF that is collocated with the gNB. In this
manner, an independent PDU-session is created on every backhaul link. Each
IAB-node further supports a routing function to forward data between PDU-
sessions of adjacent links. This creates a forwarding plane across the
wireless backhaul. Based on PDU-session type, this forwarding plane supports
IP or Ethernet. In case PDU-session type is Ethernet, an IP layer can be
established on top. In this manner, each IAB-node obtains IP-connectivity to
the wireline backhaul network. An IAB-node can connect to more than one
upstream IAB-node or IAB-donor.
All IP-based interfaces such as NG, Xn, F1, N4, etc. are carried over this
forwarding plane. In the case of F1, the UE-serving IAB-Node would contain a
DU for access links in addition to the gNB and UPF for the backhaul links. The
CU for access links would reside in or beyond the IAB-donor. The right side of
Figure 6.4.1-1 shows an example of the NG-U protocol stack for IP-based and
for Ethernet-based PDU-session type.
In case the IAB-node holds a DU for UE-access, it may not be required to
support PDCP-based protection on each hop since the end user data will already
be protected using end to end PDCP between the UE and the CU.
For NSA operation with EPC, the MT is dual-connected with the network using
EN-DC. In this case, the IAB-node\'s MT sustains a PDN-connection with a L-GW
residing on the parent IAB-node or the IAB-donor. All IP-based interfaces such
as S1, S5, X2, etc. are carried over this forwarding plane.
### 6.4.2 Architecture 2b
Figure 6.4.2-1: Reference diagram for architecture 2b (SA-mode with NGC)
In architecture 6.4.2-1, the IAB-node holds an MT to establish an NR Uu link
with a gNB on the parent IAB-node or IAB-donor. Via this NR-Uu link, the MT
sustains a PDU-session with a UPF. Opposed to architecture 2a, this UPF is
located at the IAB-donor. Also, forwarding of PDUs across upstream IAB-nodes
is accomplished via tunnelling. The forwarding across multiple hops therefore
creates a stack of nested tunnels. As in architecture 2a, each IAB-node
obtains IP-connectivity to the wireline backhaul network. All IP-based
interfaces such as NG, Xn, F1, N4, etc. are carried over this forwarding IP
plane. The right side of Figure 6.4.1-2 shows a protocol stack example for
NG-U. An IAB-node can connect to more than one upstream IAB-node or IAB-donor.
For NSA operation with EPC, the MT is dual-connected with the network using
EN-DC. In this case, the IAB-node\'s MT sustains a PDN-connection with a L-GW
residing on the IAB-donor.
### 6.4.3 Architecture 2c
Figure 6.4.3.-1: Reference diagram for architecture 2c (SA-mode with NGC)
Architecture 6.4.3-1 leverages DU-CU split. The IAB-node holds an MT which
sustains an RLC-channel with a DU on the parent IAB-node or IAB-donor. The
IAB-donor holds a CU and a UPF for each IAB-node\'s DU. The MT on each IAB-
node sustains a NR-Uu link with a CU and a PDU session with a UPF on the
donor. Forwarding on intermediate nodes is accomplished via tunnelling. The
forwarding across multiple hops creates a stack of nested tunnels. As in
architecture 2a and 2b, each IAB-node obtains IP-connectivity to the wireline
backhaul network. Opposed to architecture 2b, however, each tunnel includes an
SDAP/PDCP layer. All IP-based interfaces such as NG, Xn, F1, N4, etc. are
carried over this forwarding plane. The right side of Figure 6.4.3-1 shows a
protocol stack example for NG-U. An IAB-node can connect to more than one
upstream IAB-node or IAB-donor.
For NSA operation with EPC, the MT is dual-connected with the network using
EN-DC. In this case, the IAB-node\'s MT sustains a PDN-connection with a L-GW
residing on the IAB-donor.
# 7 Physical layer aspects
## 7.1 General
Based on the requirement listed in Section 5.2.5, the IAB design should strive
to maximize the reuse of Rel-15 NR specifications for the design of the
backhaul link. As a result, the Rel-15 NR physical layer should be the
starting point for the physical layer of the IAB backhaul link. The following
sections describe various aspects of the backhaul link physical layer design.
## 7.2 Backhaul link discovery and measurements
### 7.2.1 IAB-node initial access (Stage 1)
In case of SA deployments, initial IAB-node discovery by the MT (Stage 1)
follows the same Rel-15 initial access procedure as a UE, including cell
search based on the same SSBs available for access UEs, SI acquisition, and
random access, in order to initially set up a connection to a parent IAB-node
or an IAB-donor.
In case of an NSA deployment (from an access UE perspective), when the IAB-
node MT performs initial access on the NR carrier, it follows the same Stage 1
initial access as in SA deployments (from an access UE perspective). The
SSB/RMSI periodicity assumed by the MTs for initial access may be longer than
20ms assumed by Rel-15 UEs, and a single value is to be selected from the
following candidate values: 20ms, 40ms, 80ms, 160ms.
NOTE: This implies that the candidate parent IAB-nodes/donors must support
both NSA functionality for the UE and SA functionality for the MT on the NR
carrier.
When IAB-node MT performs initial access on an LTE carrier, Stage 2 solutions
can be used for IAB-node parent selection by the MT on the NR carrier.
### 7.2.2 Inter-IAB-node discovery and measurement (Stage 2)
For the purpose of backhaul link RSRP/RSRQ RRM measurements IAB supports both
SSB-based and CSI- RS based solutions.
For the purpose of inter-IAB-node and donor detection after the IAB-node DU
becomes active (Stage 2), the inter IAB-node discovery procedure needs to take
into account the half-duplex constraint at an IAB-node and multi-hop
topologies. The following three solutions are supported:
**[SSB-based solutions (Solution 1-A and 1-B):]{.underline}**
\- Solution 1-A) Reusing the same set of SSBs used for access UEs:
\- In this case, the SSBs for inter-IAB cell search in stage 2 are on the
currently defined sync raster for a SA frequency layer, while for a NSA
frequency layer the SSBs are transmitted inside of the SMTC configured for
access UEs.
\- Solution 1-B) Use of SSBs which are orthogonal (TDM and/or FDM) with SSBs
used for access UEs:
\- In this case, the SSBs, that may get muted, for inter-IAB cell search and
measurement in stage 2 are not on the currently defined sync raster for a SA
frequency layer, while for a NSA frequency layer the SSBs are transmitted
outside of the SMTC configured for access UEs.
An IAB-node should not mute its own SSB transmissions targeting UE cell search
and measurement when doing inter-IAB cell search in stage 2:
\- For SA, this means that SSBs transmitted on the currently defined sync
raster follow the currently defined periodicity for initial access;
\- In case of Solution 1-B, this implies SSBs, that may get muted, for inter-
IAB stage 2 cell search is at least TDM with SSBs used for UE cell search and
measurements.
**[CSI-RS based solutions (Solution 2):]{.underline}**
\- CSI-RS can be used for inter-IAB detection in synchronous network
To support IAB-node initial access and Stage 2 inter-IAB-node discovery and
measurement, enhancements to existing Rel.15 SMTC/CSI-RS/RACH configurations
and RMSI may need to be supported as well as coordination across IAB-nodes.
### 7.2.3 IAB-node RACH
IAB supports the ability of network flexibility to configure backhaul RACH
resources with different occasions, longer RACH periodicities, and additional
preamble formats allowing for longer RTT, compared to access RACH resources
without impacting Rel-15 UEs.
Based on Rel-15 PRACH configurations, the network is allowed to configure
offset(s) for PRACH occasions for the MT of IAB-node(s), in order to TDM
backhaul RACH resources across adjacent hops.
### 7.2.4 Backhaul link management
An IAB-node supports mechanisms for detecting/recovering from backhaul link
failure based on Rel-15 mechanisms. Enhancements to Beam Failure Recovery and
Radio Link Failure procedures are beneficial and should be supported for NR
IAB, including:
\- Enhancements to support interaction between Beam Failure Recovery success
indication and RLF;
\- Enhancements to existing beam management procedures for faster beam
switching/coordination/recovery to avoid backhaul link outages should be
considered for IAB-nodes.
In addition, the need for additional backhaul link condition notification
mechanism (E.g., if the parent IAB-node\'s backhaul link fails) from the
parent IAB-node DU to the child IAB-node as well as corresponding IAB-node
behaviour were studied. Solutions to avoid RLF at a child IAB-node due to
parent backhaul link failure should be supported.
## 7.3 Scheduling and resource allocation/coordination
### 7.3.1 Scheduling of backhaul and access links
As shown in Figure 7.3.1-1, the following link types are supported for IAB:
\- Access link: a link between an access UE and an IAB-node or IAB-donor
(L~A,DL~ or L~A,UL~);
\- Backhaul link: a link between an IAB-node and an IAB child node (L~C,DL~ or
L~C,UL~) or an IAB parent node (L~P,DL~ or L~P,UL~).
{width="6.835416666666666in" height="2.573611111111111in"}
Figure 7.3.1-1: Different IAB link types
Note that depending on the topology/architectures considered in Section 6 and
9 respectively, the IAB-node may have its functions for UL access and child BH
respectively in the same location or different locations, and for a given BH
link for an IAB-node, it may be a parent BH or a child BH, depending on the
topology/architecture.
Downlink IAB-node transmissions (i.e. transmissions on backhaul links from an
IAB-node to child IAB-nodes served by the IAB-node and transmissions on access
links from an IAB-node to UEs served by the IAB-node) should be scheduled by
the IAB-node itself. Uplink IAB transmission (transmissions on a backhaul link
from an IAB-node to its parent IAB-node or IAB-donor) should be scheduled by
the parent IAB-node or IAB-donor.
### 7.3.2 Multiplexing of access and backhaul links
IAB supports TDM, FDM, and SDM between access and backhaul links at an IAB-
node, subject to a half-duplex constraint. Mechanisms for efficient
TDM/FDM/SDM multiplexing of access/backhaul traffic across multiple hops
considering an IAB-node half-duplex constraint were studied.
For TDM, the supported cases are given in Table 7.3.2-1.
Table 7.3.2-1: Supported TDM cases
* * *
         TDM Between:
Case Link 1 Link 2 1 L~P,DL~ L~C,DL~ 2 L~P,UL~ L~C,UL~ 3 L~P,DL~ L~C,UL~ 4
L~P,UL~ L~C,DL~ 5 L~P,DL~ L~A,DL~ 6 L~P,UL~ L~A,UL~ 7 L~P,DL~ L~A,UL~ 8
L~P,UL~ L~A,DL~ 9 L~P,DL~ L~A,DL\ and~ L~C,DL~ 10 L~P,UL~ L~A,UL\ and~ L~C,UL~
11 L~P,DL~ L~A,UL\ and~ L~C,UL~ 12 L~P,UL~ L~A,DL\ and~ L~A,DL~ 13 L~C,DL~
L~A,DL~ 14 L~C,UL~ L~A,UL~ 15 L~C,DL~ L~A,UL~ 16 L~C,UL~ L~A,DL~
* * *
In case of transmitter-side SDM/FDM, an IAB-node simultaneously transmits in
the DL (to an access UE and/or child IAB-node) and transmits in the UL (to a
parent IAB-node). In case of receiver-side SDM/FDM, an IAB-node simultaneous
receives in the DL (from a parent node) and receives in the UL (from an access
UE and/or child IAB-node).
Additionally, an IAB-node can support multiplexing of DL transmissions to
access UEs and child IAB-nodes and multiplexing of UL transmissions from
access UEs and child IAB-nodes, using existing MU-MIMO or sectorization
mechanisms.
The following solutions for the different multiplexing options were considered
as part of the study:
\- Mechanisms for orthogonal partitioning of time slots or frequency resources
between access and backhaul links across one or multiple hops;
\- Utilization of different DL/UL slot configurations for access and backhaul
links;
\- Interference management including cross-link interference;
\- For support of SDM/FDM:
\- DL and UL power control enhancements and timing requirements to allow for
intra-panel FDM and SDM of backhaul and access links, as well as transmit
power coordination between parent and child links;
\- Considerations of single panel vs. multi-panel operation (single or
multiple baseband);
\- Requirements of symbol-level timing alignment within an IAB-node (e.g. Case
#6/Case #7).
\- Whether a parent node or the network needs to be aware of a child IAB-
node\'s capability, including the following aspects:
\- Support for full duplex;
\- Supporting SDM/FDM TX of parent and child links;
\- Supporting SDM/FDM RX of parent and child links;
\- Supported timing alignment cases.
DL and UL transmit power coordination between IAB-nodes is supported,
including mechanisms for DL power control between a parent and child IAB-node.
### 7.3.3 Resource coordination
From an IAB-node MT point-of-view, as in Rel. 15, the following time-domain
resources can be indicated for the parent link:
\- Downlink time resource;
\- Uplink time resource;
\- Flexible time resource.
From an IAB-node DU point-of-view, the child link has the following types of
time resources:
\- Downlink time resource;
\- Uplink time resource;
\- Flexible time resource;
\- Not available time resources (resources not to be used for communication on
the DU child links).
Each of the downlink, uplink and flexible time-resource types of the DU child
link can belong to one of two categories:
\- Hard: The corresponding time resource is always available for the DU child
link;
\- Soft: The availability of the corresponding time resource for the DU child
link is explicitly and/or implicitly controlled by the parent node.
At least for TDM Cases 1-12 in Section 7.3.2, an IAB-node is configured with
IAB-node specific resources in time available for the links.
Mechanisms for scheduling coordination, resource allocation, and route
selection across IAB-nodes/IAB-donors and multiple backhaul hops were studied,
including the following aspects:
\- Distributed or centralized coordination mechanisms;
\- Resource granularity, adaptation period, and enhancements to existing
mechanisms for the required signalling (e.g. slot or symbol-level or TDD
configuration pattern) provided to the IAB-node;
\- Explicit or implicit indication of the resources;
\- Exchange of L1 and/or L3 measurements between IAB-nodes;
\- Exchange of topology related information (e.g. hop order) impacting the
study of the backhaul link physical layer design;
\- Resource (frequency, time in terms of slot/slot format, etc.) coordination
which is faster than semi-static coordination and the indication of resources
within the configuration which can be dynamically and flexibly used for
different links, including:
\- The need to consider the scheduling delay, IAB-node processing delays, or
information required to be available for the use of flexible resources;
\- Mechanisms to schedule flexible resources (e.g. GC-PDCCH).
In order to support mechanisms for resource allocation for IAB-nodes, semi-
static configuration is supported for the configuration of IAB-node DU
resources. In addition, dynamic indication (L1 signalling) to an IAB-node of
the availability of soft resources for an IAB-node DU is supported. Existing
Rel.15 L1 signalling methods as the baseline, while potential enhancements
(e.g. new slot formats), rules for DU/MT behaviour in case of conflicts across
multiple hops, and processing time constraints at the IAB-node may need to be
considered.
Tables 7.3.3-1 and 7.3.3-2 capture the possible combinations of DU and MT
behavior. The tables assume an IAB not capable of full-duplex operation. In
the tables below the following definitions apply:
\- \"MT: Tx\" means that the MT should transmit if scheduled;
\- \"DU: Tx\" means that the DU may transmit;
\- \"MT: Rx\" means that the MT should be able to receive (if there is
anything to receive);
\- \"DU: Rx\" means that the DU may schedule uplink transmissions from child
nodes or UEs;
\- \"MT: Tx/Rx\" means that the MT should transmit if scheduled and should be
able to receive, but not simultaneously;
\- \"DU: Tx/Rx\" means that the DU may transmit and may schedule uplink
transmission from child nodes and UEs, but not simultaneously;
\- \"IA\" means that the DU resource is explicitly or implicitly indicated as
available;
\- \"INA\" means that the DU resource is explicitly or implicitly indicated as
not available;
\- \"MT: NULL\" means that the MT does not transmit and does not have to be
able to receive;
\- \"DU: NULL\" means that the DU does not transmit and does not schedule
uplink transmission from child nodes and UEs.
Table 7.3.3-1 applies in case of TDM operation, where there can be no
simultaneous transmission in the DU and the MT, nor any simultaneous reception
in the DU and the MT.
Table 7.3.3-1: DU and MT behavior in case of TDM operation
+----------------+----------------+----------------+----------------+ | DU | MT | | | | Configuration | configuration | | | +----------------+----------------+----------------+----------------+ | | DL | UL | F | +----------------+----------------+----------------+----------------+ | DL-H | DU: Tx | DU: Tx | DU: Tx | | | | | | | | MT: NULL | MT: NULL | MT: NULL | +----------------+----------------+----------------+----------------+ | DL-S | When DU | When DU | When DU | | | resource: IA | resource: IA | resource: IA | | | | | | | | DU: Tx | DU: Tx | DU: Tx | | | | | | | | MT: NULL | MT: NULL | MT: NULL | | | | | | | | When DU | When DU | When DU | | | resource: INA | resource: INA | resource: INA | | | | | | | | DU: NULL | DU: NULL | DU: NULL | | | | | | | | MT: Rx | MT: Tx | MT: Tx/Rx | +----------------+----------------+----------------+----------------+ | UL-H | DU: Rx | DU: Rx | DU: Rx | | | | | | | | MT: NULL | MT: NULL | MT: NULL | +----------------+----------------+----------------+----------------+ | UL-S | When DU | When DU | When DU | | | resource: IA | resource: IA | resource: IA | | | | | | | | DU: Rx | DU: Rx | DU: Rx | | | | | | | | MT: NULL | MT: NULL | MT: NULL | | | | | | | | When DU | When DU | When DU | | | resource: INA | resource: INA | resource: INA | | | | | | | | DU: NULL | DU: NULL | DU: NULL | | | | | | | | MT: Rx | MT: Tx | MT: Tx/Rx | +----------------+----------------+----------------+----------------+ | F-H | DU: Tx/Rx | DU: Tx/Rx | DU: Tx/Rx | | | | | | | | MT: NULL | MT: NULL | MT: NULL | +----------------+----------------+----------------+----------------+ | F-S | When DU | When DU | When DU | | | resource: IA | resource: IA | resource: IA | | | | | | | | DU: Tx/Rx | DU: Tx/Rx | DU: Tx/Rx | | | | | | | | MT: NULL | MT: NULL | MT: NULL | | | | | | | | When DU | When DU | When DU | | | resource: INA | resource: INA | resource: INA | | | | | | | | DU: NULL | DU: NULL | DU: NULL | | | | | | | | MT: Rx | MT: Tx | MT: Tx/Rx | +----------------+----------------+----------------+----------------+ | NA | DU: NULL | DU: NULL | DU: NULL | | | | | | | | MT: Rx | MT: Tx | MT: Tx/Rx | +----------------+----------------+----------------+----------------+
Table 7.3.3-2 applies in case of SDM operation, where there can be
simultaneous transmission in the DU and the MT, alternatively simultaneous
reception in the DU and the MT.
Table 7.3.3-2: DU and MT behaviour in case of SDM operation
+------+-------------------+-------------------+-------------------+ | | DL | UL | F | +------+-------------------+-------------------+-------------------+ | DL-H | DU: Tx | DU: Tx | DU: Tx | | | | | | | | MT: NULL | MT: Tx | MT: Tx | +------+-------------------+-------------------+-------------------+ | DL-S | When DU resource: | When DU resource: | When DU resource: | | | IA | IA | IA | | | | | | | | DU: Tx | DU: Tx | DU: Tx | | | | | | | | MT: NULL | MT: Tx | MT: Tx | | | | | | | | When DU resource: | When DU resource: | When DU resource: | | | INA | INA | INA | | | | | | | | DU: NULL | DU: NULL | DU: NULL | | | | | | | | MT: Rx | MT: Tx | MT: Tx/Rx | +------+-------------------+-------------------+-------------------+ | UL-H | DU: Rx | DU: Rx | DU: Rx | | | | | | | | MT: Rx | MT: NULL | MT: Rx | +------+-------------------+-------------------+-------------------+ | UL-S | When DU resource: | When DU resource: | When DU resource: | | | IA | IA | IA | | | | | | | | DU: Rx | DU: Rx | DU: Rx (only if | | | | | MT is Rx and the | | | MT: Rx | MT: NULL | DU knows that | | | | | ahead of time) | | | When DU resource: | When DU resource: | | | | INA | INA | MT: Rx | | | | | | | | DU: NULL | DU: NULL | When DU resource: | | | | | INA | | | MT: Rx | MT: Tx | | | | | | DU: NULL | | | | | | | | | | MT: Tx/Rx | +------+-------------------+-------------------+-------------------+ | F-H | DU: Tx/Rx | DU: Tx/Rx | DU: Tx/Rx | | | | | | | | MT: Rx (only if | MT: Tx (only if | MT: Tx (only if | | | DU is Rx and the | DU is Tx and the | DU is Tx and the | | | parent DU is | parent is aware | parent DU knows | | | aware in advance) | in advance) | that ahead of | | | | | time), Rx (only | | | | | if DU is Rx and | | | | | the parent DU is | | | | | aware in advance) | +------+-------------------+-------------------+-------------------+ | F-S | When DU resource: | When DU resource: | When DU resource: | | | IA | IA | IA | | | | | | | | DU: Tx/Rx | DU: Tx/Rx | DU: Tx/Rx | | | | | | | | MT: Rx (only if | MT: Tx (only if | MT: Tx (only if | | | DU is Rx and the | DU is Tx and the | DU is Tx and the | | | parent DU is | parent DU is | parent DU knows | | | aware in advance) | aware in advance) | that ahead of | | | | | time), Rx (only | | | When DU resource: | When DU resource: | if DU is Rx and | | | INA | INA | the parent DU is | | | | | aware in advance) | | | DU: NULL | DU: NULL | | | | | | When DU resource: | | | MT: Rx | MT: Tx | INA | | | | | | | | | | DU: NULL | | | | | | | | | | MT: Tx/Rx | +------+-------------------+-------------------+-------------------+ | NA | DU: NULL | DU: NULL | DU: NULL | | | | | | | | MT: Rx | MT: Tx | MT: Tx/Rx | +------+-------------------+-------------------+-------------------+
## 7.4 IAB-node synchronization and timing alignment
The feasibility of over-the-air (OTA) synchronization and the impact of timing
misalignment on IAB performance (e.g. the number of supportable hops) was
studied. With the assumption of a \ \- Modification of PDCP protocol/procedures. This mechanism would not be
> applicable to Rel-15 UEs which means that Rel-15 UE performance may be
> impaired;
>
> \- When either PDCP data recovery / PDCP re-establishment is triggered by
> RRC or PDCP status report is received, UE retransmits UL data irrespective
> of whether successful delivery has been confirmed by RLC;
>
> \- New field may be included in the RRC message or PDCP status report in
> order to indicate, whether the UE performs UL data retransmission regardless
> of confirmation of successful delivery by RLC.
\- Rerouting of PDCP PDUs buffered on intermediate IAB-nodes in response to a
route update:
\- UL data is buffered on IAB-node(s) until the IAB-node receives from its
parent node either information about UL data, which has been successfully
delivered to IAB-donor, or RLC positive ACK;
\- When forwarding path is (re)configured, the buffered data is retransmitted
by the IAB-node that is either the last unchanged node in the new path or
where backhaul-link failure occurs.
\- Introducing UL status delivery (from the Donor gNB to the IAB-node):
\- One way is that UE\'s access IAB-node delays the sending of RLC positive
ACKs to UE until receiving a confirmation of data reception from IAB-donor.
Another way is that an IAB-node delays the sending of RLC positive ACKs to its
child node or UE until receiving RLC positive ACKs from its parent node;
\- When PDCP data recovery / PDCP re-establishment is triggered by RRC, UE
retransmits UL data as in the current specifications.
Table 8.2.3-2: Comparison of mechanisms for lossless delivery of UL data in
hop-by-hop RLC ARQ case
+----------------+----------------+----------------+----------------+ | | Modification | Rerouting of | Introducing UL | | | of PDCP | PDCP PDUs | status | | | proto | buffered on | delivery | | | col/procedures | intermediate | | | | | IAB-nodes | | +----------------+----------------+----------------+----------------+ | **Applicable |** No**|** Yes**|** Yes**| | to Rel-15 | | | | | UEs** | | | | +----------------+----------------+----------------+----------------+ | **Signaling |** Yes**|** Yes**|** Yes**| | overhead** | | | | | | New signaling | New signaling | New signaling | | | for triggering | for either | for confirming | | | data | deciding | data reception | | | retransmission | whether to | and/or | | | | discard the | triggering | | | | buffered data | data | | | | or configuring | r | | | | the forwarding | etransmission. | | | | path for the | | | | | buffered data | | | | | on the old | | | | | route. | | +----------------+----------------+----------------+----------------+ | **Support of |** Yes**|** No**|** Yes**| | lossless | | | | | delivery of UL | | | | | data** | | | | +----------------+----------------+----------------+----------------+
### 8.2.4 Scheduler and QoS impacts
#### 8.2.4.1 UE-bearer-to-BH-RLC-Channel mapping
An IAB-node needs to multiplex the UE DRBs to the BH RLC-Channel. The
following two options can be considered on bearer mapping in IAB-node.
Figure 8.2.4.1-1: Example of one-to-one mapping between UE DRB and BH RLC-
Channel
**Option 1. One-to-one mapping between UE DRB and BH RLC-channel**
In this option, each UE DRB is mapped onto a separate BH RLC-channel. Further,
each BH RLC-channel is mapped onto a separate BH RLC-channel on the next hop.
The number of established BH RLC-channels is equal to the number of
established UE DRBs.
Identifiers (e.g. for the UE and/or DRB) may be required (e.g. if multiple BH
RLC-channels are multiplexed into a single BH logical channel). Which exact
identifiers are needed, and which of these identifier(s) are placed within the
adaptation layer header depends on the architecture/protocol option.
Figure 8.2.4.1-2: Example of many-to-one mapping between UE DRBs and BH RLC-
channel
**Option 2. Many-to-one mapping between UE DRBs and BH RLC-channel**
For the many-to-one mapping, several UE DRBs are multiplexed onto a single BH
RLC-channel based on specific parameters such as bearer QoS profile. Other
information such as hop-count could also be configured. The IAB-node can
multiplex UE DRBs into a single BH RLC-channel even if they belong to
different UEs. Furthermore, a packet from one BH RLC-channel may be mapped
onto a different BH RLC-channel on the next hop (details of IAB L2 structure
for bearer multiplexing are given in section 8.2.5). All traffic mapped to a
single BH RLC-channel receive the same QoS treatment on the air interface.
Since the BH RLC-channel multiplexes data from/to multiple bearers, and
possibly even different UEs, each data block transmitted in the BH RLC-channel
needs to contain an identifier of the UE, DRB, and/or IAB-node it is
associated with. Which exact identifiers are needed, and which of these
identifier(s) are placed within the adaptation layer header depends on the
architecture/protocol option.
#### 8.2.4.2 Enforcement of Fairness Schemes
An IAB network should attempt to schedule the wireless resources to meet each
UE bearer\'s requirement regardless of the number of hops a given UE is away
from the Donor DU.
The scheduler on the wireless backhaul link can distinguish the QoS profiles
associated with different RLC channels. It may also apply information
regarding the number of hops a packet needs to traverse, in addition to the
QoS profile of the bearers, in order to provide hop-agnostic performance.
Different scheduling techniques may differ in their normative impact.
When one-to-one mapping is used between UE bearer and RLC-channel on the
backhaul, the IAB-node has explicit information on each UE bearer and can
therefore apply appropriate QoS differentiation among QoS profiles, as well as
fairness among UE bearers with same QoS profile.
While QoS differentiation is still possible when UE bearers are aggregated to
backhaul RLC-channels, enforcement of fairness across UE bearers becomes less
granular.
Figure 8.2.4.2-1: IAB network with 3 hops and 12 UEs
Figure 8.2.4.2-1 shows an example scenario of an IAB network with 3 hops and
12 UEs attached. The UEs are assumed to have one bearer each with same QoS
profile (e.g. default bearer). The UE-bearers are assumed to share the same
RLC channel on BH links. Consequently, each backhaul link carries different
number of UE-bearers (Table 8.2.4.2-1).
Below are the two options for applying fairness schemes across backhaul and
access links (other options are not precluded):
\- Option 1: The DU scheduler obtains information about the number of UE
bearers carried on each backhaul link. This enables the scheduler to apply
fairness schemes. For this, the scheduler has to be updated whenever the
number of UE bearers change on one of its backhaul RLC-channels.
Alternatively, the scheduler derives the number of UE bearers carried on the
backhaul RLC-channel from packet inspection;
\- Option 2: The DU scheduler obtains information about the number of
descendant IAB-nodes supported by each backhaul link. This allows enforcing
fairness schemes as long as the total traffic is balanced across IAB-nodes.
Table 8.2.4.2-1: UE bearers and IAB-nodes served
+----------+----------+----------+----------+----------+----------+ | DU | UE | De | | | | | S | bearers | scendent | | | | | cheduler | Served | I | | | | | | | AB-nodes | | | | | | | | | | | | | | served | | | | +----------+----------+----------+----------+----------+----------+ | | Access | Backhaul | Backhaul | Backhaul | Backhaul | | | | | | | | | | | link 1 | link 2 | link 1 | link 2 | +----------+----------+----------+----------+----------+----------+ | I | 1 | 1 | 10 | 1 | 4 | | AB-donor | | | | | | +----------+----------+----------+----------+----------+----------+ | IAB-node | 1 | | | | | | (1a) | | | | | | +----------+----------+----------+----------+----------+----------+ | IAB-node | 1 | 3 | 6 | 1 | 2 | | (1b) | | | | | | +----------+----------+----------+----------+----------+----------+ | IAB-node | 3 | | | | | | (2a) | | | | | | +----------+----------+----------+----------+----------+----------+ | IAB-node | 2 | 4 | | | 1 | | (2b) | | | | | | +----------+----------+----------+----------+----------+----------+ | IAB-node | 4 | | | | | | (3) | | | | | | +----------+----------+----------+----------+----------+----------+
#### 8.2.4.3 Radio aware scheduling
NR enables radio aware scheduling for the access link by providing the timely
channel quality feedback and the ability to monitor the per UE bearer windowed
throughput at the radio scheduling function in the DU. IAB scheduling should
also be provided with timely feedback to enable efficient radio aware
scheduling. Some examples of feedback may include:
\- Number of UEs served by child IAB-nodes and their subtending IAB-nodes as
shown in Table 8.2.4.2-1;
\- UE bearer windowed throughput to identify the service rate of the access
link;
\- UE congestion at the next hop due to unscheduled packets (e.g. next hop
queue depth);
\- The relative benefit/penalty for scheduling a given UE or backhaul bearer
on the adjacent hop.
The example feedback listed above, and possibly other information, may be
forwarded from child to parent and parent to child to support efficient
scheduling in an IAB network. Efficiency may be improved by appropriately
sizing traffic on the most congested links. Efficiency may further be improved
by appropriately allocating resources on the backhaul hops to match the load
existing on partitions of the IAB topology (e.g. subtending tree). Efficiency
may also be improved by limiting traffic on congested branches by reducing the
overall interference.
Radio-aware and efficient scheduling for IAB may also be further enabled by
mechanisms for resource coordination (see 7.3.3).
### 8.2.5 L2 structure
Figure 8.2.5-1a: DL L2-structure of IAB-donor for 1:1 mapping of UE-bearers to
BH RLC-channels
Figure 8.2.5-1b: DL L2-structure of IAB-node for 1:1 mapping of UE-bearers to
BH RLC-channels for end-to-end RLC ARQ
Figure 8.2.5-2a: DL L2-structure of IAB-donor for 1:1 mapping of UE-bearers to
BH RLC-channels and multiplexing of RLC-channels to logical channels
Figure 8.2.5-2b: DL L2-structure of IAB-node for 1:1 mapping of UE-bearers to
BH RLC-channels, multiplexing of RLC-channels to logical channels, and end-to-
end RLC ARQ
Figure 8.2.5-3a: DL L2-structure of IAB-donor for many-to-one mapping of UE-
bearers to BH RLC-channels
Figure 8.2.5-3b: DL L2-structure of IAB-node for many-to-one mapping of UE-
bearers to BH RLC-channels
The Figures 8.2.5**-** 1, 8.2.5-2, and 8.2.5**-** 3 provide examples for
L2-structures for multi-hop IAB in the downlink direction (IAB-donor towards
UE).
Figure 8.2.5-1a shows an example of the DL L2 structure of the IAB-donor for
1:1 mapping of UE access bearers to BH RLC-channels. This L2-structure is the
same as defined for Rel-15 NR access. Since a separate RLC-entity is supported
on each backhaul link for each UE access bearer, the number of logical
channels required on backhaul links may exceed the LCID space, which demands
for an LCID-space extension or introduction of an additional identifier.
In this L2-structure, the MAC scheduler can support UE-bearer-specific QoS on
the backhaul link. The L2-structure may support aggregation of UE bearers
based on QoS profiles by applying the same QoS treatment to multiple UE-
bearers.
Figure 8.2.5**-** 1b shows an example of the DL L2 structure of the IAB-node
for 1:1 mapping of UE access bearers to BH RLC-channels and end-to-end RLC
ARQ. The reassembly step is optional, i.e., RLC SDU segments can be forwarded
without waiting for the reassembly. In this L2-structure, the IAB-node
performs routing decisions by selecting an RLC-outbound channel for a data
unit based on this data-unit\'s incoming RLC-channel. The pairwise-mapping
between inbound and outbound RLC-channels is configured when the RLC-channels
are established.
Figure 8.2.5**-** 2a shows an example of the DL L2 of the IAB-donor structure
for 1:1 mapping of UE-access bearers to RLC-channels. In contrast to Figure
8.2.5-1a, RLC channels are multiplexed to logical channels. For the RLC-
channels, a new identifier is introduced such as a UE-bearer-specific
identifier. This identifier is carried on the adaptation layer.
As in the L2-structure of Figure 8.2.5-1a, the MAC scheduler can support UE-
bearer-specific QoS on the backhaul link. For that purpose, the MAC scheduler
has to consider the multitude of RLC-channels. It may also support mapping
based on QoS profiles, e.g., by applying the same QoS treatment to multiple
RLC-channels multiplexed into the same logical channel.
Figure 8.2.5**-** 2b shows an example of the DL L2 structure of the IAB-node
for 1:1 mapping of UE access bearers to BH RLC-channels, multiplexing of RLC-
channels to logical channels, and end-to-end RLC ARQ. The IAB-node performs
routing decisions by selecting an RLC-outbound channel for a data unit based
on this data-unit\'s incoming RLC-channel. The RLC-channel of a data unit on
an inbound link may be indicated by the UE-bearer-specific identifier carried
in the Adapt header. The mapping between an RLC-channel and an outbound
logical channel could be configured when the RLC-channel is established.
Figure 8.2.5**-** 3a shows an example of the DL L2 structure of the IAB-donor
for many-to-one mapping of UE access bearers to BH RLC-channels and hop-by-hop
RLC ARQ. This mapping introduces an additional multiplexing step above RLC
ARQ.
Figure 8.2.5**-** 3b shows an example of the DL L2 structure of the IAB-node
for many-to-one mapping of UE access bearers to BH RLC-channels.
In this L2-structure, the IAB-node performs routing decisions by selecting an
outbound link for a data unit based on a route identifier or destination-node
identifier carried in the Adapt header. The mapping between this route- or
destination-node identifier and the outbound RLC-channel could be configured
when the route is established.
### 8.2.6 Flow control and congestion handling
In the multi-hop backhaul, congestion may occur on intermediate IAB-nodes.
On the uplink, an intermediate IAB-node acts as a gNB-DU to child IAB-nodes
and can control the amount of uplink data from child IAB-nodes and UEs by
adjusting the UL grants, i.e. the current transmission/scheduling mechanisms
control uplink data rate to an IAB-node. This mechanism allows mitigating
congestion at the intermediate IAB-node. Additional control mechanism may be
needed to handle uplink data congestion.
On the downlink, the IAB-node\'s link capacity to a child IAB-node or a UE may
be smaller than the link capacity of a backhaul link from the parent IAB-node.
The DU side of the parent IAB-node may not know the downlink buffer status of
the IAB-node. As a result, the ingress data rate scheduled by the parent IAB-
node\'s DU may be larger than the egress data rate the IAB-node\'s DU can
schedule to its child IAB-nodes and UEs, which may result in downlink data
congestion and packet discard at the intermediate IAB-node. Discarding of
packets at intermediate IAB-nodes may have negative consequences (e.g. may
lead to TCP slow start for impacted UE flows).
End-to-end flow control (e.g. flow control via F1-U or F1*-U) could help to
address packet discard at the intermediate IAB-nodes due to the downlink data
congestion problem to some extent by providing a downlink delivery status from
the UE\'s access IAB-node DU in hop-by-hop ARQ to the IAB-donor CU. End-to-end
ARQ similarly can address packet discard by intermediate IAB-nodes due to
downlink data congestion. However, these mechanisms may be slow to react to
local congestion problems in intermediate IAB-nodes as they do not provide
information to pin point at which link/node the congestion is occurring. Thus,
hop-by-hop flow control may also be required together with end-to-end
congestion handling.
The congested IAB-node may provide feedback information to the parent IAB-node
or the IAB-donor. Based on this feedback, the parent IAB-node or IAB-donor may
perform flow control and alleviate downlink data congestion.
The flow control feedback may include the following information:
\- IAB-node buffer load;
\- IAB-node ID, where the congestion has occurred;
\- Potentially other information.
The granularity of the feedback information can be e.g. per UE radio bearer,
per RLC-channel, per backhaul link.
### 8.2.7 UP support of IAB-node
Figure 8.2.7-1: Protocol stack examples for MT-access using L2-relaying with
adaptation layer for architecture 1a
Figure 8.2.7-2: Protocol stack examples for MT-access using L2-relaying with
adaptation layer for architecture 1b
Figure 8.2.7-3: Protocol stack examples for MT-access using L2-relaying
without adaptation layer for architecture 1a
Figure 8.2.7-4: Protocol stack examples for MT-access using L2-relaying
without adaptation layer for architecture 1b
The MT on the IAB-node may also have its own access traffic, e.g., for OAM
support. Figures 8.2.7-1, -2, -3 and -4 show examples of protocol stacks to
support MT-access traffic.
In Figures 8.2.7-1 and -2, the MT uses backhaul RLC channels to carry its own
traffic. In this case, the MT\'s access traffic is encapsulated in F1*-U on
the MT\'s backhaul link.
In Figures 8.2.7-3 and -4, the MT uses access RLC channels for its own traffic
like a UE.
Table 8.2.7-1 shows comparisons between both options.
Table 8.2.7-1: Comparison between transport of MT\'s own traffic on MT\'s
backhaul RLC channel or on access RLC channel
* * *
MT\'s own traffic transported on backhaul RLC channel MT\'s own traffic
transported on access RLC channel 1\. The logical channel space is not
decreased through MT access traffic. 1. Separate logical channel needs to be
assigned for MT access traffic, which reduces the number of logical channels
available for BH traffic. 2\. Same processing rules are used for MT\'s access
traffic and BH traffic on last hop. 2. Different processing rules are used for
MT\'s access traffic than for BH traffic on last hop. 3\. Different processing
rules are used for MT-access traffic than for UE access traffic. 3. Same
processing rules are used for MT access traffic and UE access traffic. 4\.
Additional overhead on last hop for MT\'s access traffic due to F1*-U. 4. No
additional overhead on last hop for MT\'s access traffic.
* * *
### 8.2.8 Security protection of F1*-U
F1*-U can be security-protected via PDCP or IPsec. One example is given for
each of these two options. Other options are not precluded.
Figure 8.2.8-1: Protocol stack example for PDCP-based security protection of
F1*-U
Figure 8.2.8-2: Protocol stack example for IPsec-based security protection of
F1*-U
Figure 8.2.8-1 shows a protocol stack example where F1*-U is protected via
PDCP. In this example, the adaptation layer is carried on top of RLC. Other
options for adaptation layer placement are not precluded. The IP-termination
point resides at the IAB-donor DU. This example supports the requirements of
the unified design in the following manner:
\- The outer GTP-U layer between CU and IAB-donor DU maps to the RLC-channel
used on the wireless backhaul link;
\- The inner GTP-U layer represents the UE-bearer\'s F1-U.
Both, 1:1 and N:1 bearer mapping can be supported by either allocating for
each inner GTP-U one outer GTP-U, or by aggregating multiple inner GTP-U into
one outer GTP-U.
Figure 8.2.8-2 shows a protocol stack example where F1*-U is protected via
IPsec. In this example, the IP-termination point resides at the IAB-node. This
example supports the requirements of the unified design in the following
manner:
\- The DSCP or Flow-Label value on the IPv6 header maps to the RLC-channel
used on the wireless backhaul link. The IPv6 Flow Label has been designed for
this purpose (IETF RFC 6294);
\- The inner GTP-U layer represents the UE-bearer\'s F1-U.
Both, 1:1 and N:1 bearer mapping can be supported by either allocating for
each GTP-U one specific Flow-Label value, or by aggregating multiple GTP-U to
one DSCP or Flow-Label value.
### 8.2.9 Unified design for architecture group 1
The IAB architecture should support many-to-one and one-to-one bearer mappings
in a common design since both mapping options provide benefits in different
deployment and traffic scenarios.
This design should allow many-to-one and one-to-one bearer mappings to be used
at the same time.
The design supports hop-by-hop ARQ. End-to-end ARQ is not excluded for one-to-
one mapping.
The design addresses LCID-space and LCG-space limitations to support fine-
granular QoS for a sufficiently large number of bearers.
### 8.2.10 Examples of unified design for architecture group 1
Below, two examples are provided for the unified design. Both examples use the
same identifiers on the wireless backhaul, but they differ in the L2
processing of N:1 and 1:1 bearer mapping. Support for the IAB-node-MT\'s
access traffic is not included in these examples.
#### 8.2.10.1 Design Example 1
**[Characteristics:]{.underline}**
**\- UE-** bearers are N:1-mapped to RLC-channels, where N=1 is permitted;
\- RLC-channels are 1:1-mapped to LCHs;
\- Identification of ingress RLC-channel based on LCID;
\- LCID-space extension **is required to support N=1 for many bearers.**
**[Identifiers and their placement in L2 header stack:]{.underline}**
\- **UE-bearer-ID** above RLC:
\- Used at IAB-donor DU for mapping to F1-U on wireless fronthaul and at UE\'s
access IAB-node for mapping to UE\'s access RLC-channel.
\- **IAB-node-address/IAB-node DU-address** above RLC:
\- Used on L2 for routing.
**\- LCID** on MAC sub-header:
\- Used at receiver to determine ingress RLC-channel.
**[Variants, options, optimizations:]{.underline}**
\- IAB-node/IAB-donor DU may have multiple addresses, or the address may
contain a route-Id for the support of multiple independent routes.
[Downstream processing by IAB-donor DU and IAB-node]{.underline}
Table 8.2.10.1-1: Downstream packet processing - consolidated example 1 (red:
ingress parameters; blue: egress parameters)
+----------------+-------------------------+-------------------------+ | | IAB-donor DU | IAB-node | +----------------+-------------------------+-------------------------+ | **Ingress** | On wireline network, | On BH-link, packet | | | packet received from CU | received from parent | | **packet** | holds: | holds: | | | | | | | - GTP-U TEID | - UE-bearer-ID | | | | | | | | - IAB-node-address | | | | | | | | - LCID | +----------------+-------------------------+-------------------------+ | **Packet** | Node derives from | - Node derives from | | | packet header and | packet header and | | **processing** | lookup tables: | lookup tables: | | | | | | | - Egress link type | - Ingress RLC channel | | | based on GTP-U TEID: | through 1:1 mapping | | | | from LCID | | | > \- \"UE-access\" if | | | | > UE of UE-bearer-ID is | - Egress link type | | | > local | based on | | | > | IAB-node-address: | | | > \- \"BH\" if UE of | | | | > UE-bearer-ID is | > \- \"UE-access\" if | | | > remote | > address is local | | | | > | | | - If egress link type | > \- \"BH\" if address | | | = \"UE-access\", | > is remote | | | derive: | | | | | - If egress link type | | | > \- Egress link based | = \"UE-access\", | | | > on GTP-U TEID | derive: | | | > | | | | > \- Egress RLC channel | > \- Egress link from | | | > from GTP-U TEID | > UE-bearer-ID | | | | > | | | - If egress link type | > \- Egress RLC channel | | | = \"BH\", derive: | > from UE-bearer-ID | | | | | | | > \- UE-bearer-ID and | - If egress link type | | | > IAB-node-address | = \"BH\", derive: | | | > based on GTP-U TEID | | | | > | > \- Egress | | | > \- Egress link based | > IAB-node-address = | | | > on IAB-node-address | > Ingress | | | > (routing) | > IAB-node-address | | | > | > | | | > \- Egress RLC-channel | > \- Egress link based | | | > based on UE-bearer-ID | > on IAB-node-address | | | > (N:1 bearer mapping). | > (routing) | | | | > | | | - Egress LCID based on | > \- Egress RLC channel | | | 1:1 mapping between RLC | > based on ingress RLC | | | channel and LCH. | > channel and | | | | > IAB-node-address | | | | > (mapping between BH | | | | > RLC channels) | | | | | | | | - Egress LCID via 1:1 | | | | mapping between RLC | | | | channel and LCH. | +----------------+-------------------------+-------------------------+ | **Egress** | On BH link, packet | On BH link, packet | | | transmitted to child | transmitted to child | | **packet** | holds: | holds: | | | | | | | - UE-bearer-ID | - UE-bearer-ID | | | | | | | - IAB-node-address | - IAB-node-address | | | | | | | - LCID | - LCID | | | | | | | On UE-access link, RLC | On UE-access link, RLC | | | packet transmitted to | packet transmitted to | | | UE holds: | UE holds: | | | | | | | - LCID | - LCID | +----------------+-------------------------+-------------------------+
[Upstream processing by IAB-donor DU and IAB-node]{.underline}
Table 8.2.10.1-2: Upstream packet processing -- consolidated example 1 (red:
ingress parameters; blue: egress parameters)
+----------------+-------------------------+-------------------------+ | | IAB-donor DU | IAB-node | +----------------+-------------------------+-------------------------+ | **Ingress** | On BH link, packet | On BH link, packet | | | received from child | received from child | | **packet** | holds: | holds: | | | | | | | - UE-bearer-ID | - UE-bearer-ID | | | | | | | - IAB-donor DU-address | - IAB-donor DU-address | | | | | | | - LCID | - LCID | | | | | | | On UE-access link, RLC | On UE-access link, RLC | | | packet received from UE | packet received from UE | | | holds: | holds: | | | | | | | - LCID | - LCID | +----------------+-------------------------+-------------------------+ | **Packet** | Node derives from | Node derives from | | | packet header content | packet header content | | **processing** | and lookup tables: | and lookup tables: | | | | | | | - Ingress RLC-channel | - Ingress RLC-channel | | | based on LCID using 1:1 | based on LCID using 1:1 | | | mapping between RLC | mapping between RLC | | | channel and LCH. | channel and LCH. | | | | | | | - If ingress link type | - If ingress link type | | | is \"UE-access\", | is \"UE-access\", | | | derive: | derive: | | | | | | | > \- GTP-U TEID from | > \- UE-bearer-ID from | | | > ingress link and LCID | > ingress link and LCID | | | | > | | | - If ingress link type | > \- IAB-donor | | | is \"BH\", derive: | > DU-address based on | | | | > UE-bearer-ID | | | > \- GTP-U TEID from | > | | | > UE-bearer-ID | > \- Egress link based | | | | > on IAB-donor | | | | > DU-address (routing) | | | | > | | | | > \- Egress RLC-channel | | | | > based on UE-bearer-ID | | | | > (N:1 bearer mapping) | | | | | | | | - If ingress link type | | | | is \"BH\", derive: | | | | | | | | > \- Egress IAB-donor | | | | > DU-address = Ingress | | | | > IAB-donor DU-address | | | | > | | | | > \- Egress link based | | | | > on IAB-donor | | | | > DU-address | | | | > | | | | > \- Egress RLC channel | | | | > based on ingress RLC | | | | > channel and IAB-donor | | | | > DU-address (mapping | | | | > between BH RLC | | | | > channels) | | | | | | | | - LCID via 1:1 mapping | | | | between RLC channel and | | | | LCH. | +----------------+-------------------------+-------------------------+ | **Egress** | On wireline network, | On BH link, packet | | | packet transmitted to | transmitted to parent | | **packet** | CU holds: | holds: | | | | | | | - GTP-U TEID | - UE-bearer-ID | | | | | | | | - IAB-donor DU-address | | | | | | | | - LCID | +----------------+-------------------------+-------------------------+
#### 8.2.10.2 Design Example 2
**[Characteristics:]{.underline}**
\- UE-bearers are either N:1 or 1:1 mapped to RLC-channels;
\- Mapping of RLC-channels to LCHs:
\- For N:1 bearer mapping, RLC-channels are 1:1 mapped to LCHs;
\- For 1:1 bearer mapping, RLC-channels are K:1 mapped to LCHs (K â‰¥ 1).
\- Identification of ingress RLC-channel:
\- For N:1 bearer mapping, RLC-channels are identified by LCH;
\- For 1:1 bearer mapping, RLC-channels are identified by UE-bearer-ID.
\- Bearer mapping type is indicated explicitly or implicitly (e.g. a set of
LCIDs may be configured for N:1 mapping, the complement set for 1:1 mapping);
\- LCID-space extension may not be needed.
**[Identifiers and their placement in L2 header stack:]{.underline}**
\- **UE-bearer-ID**
\- Used at receiver to determine ingress RLC-channel for 1:1 mapping;
\- Used at IAB-donor DU for mapping to F1-U on wireless fronthaul and at UE\'s
access IAB-node for mapping to UE\'s access RLC-channel.
\- **IAB-node-address/IAB-donor DU-address**
\- Used for L2 for routing.
**\- LCID** on MAC sub-header:
\- Used at the MAC to multiplex/demultiplex N:1 and 1:1 bearer mapping (in
case of implicit indication as shown in processing table below).
\- Used at receiver to determine ingress RLC-channel for N:1 mapping
**[Variants, options, optimizations:]{.underline}**
\- IAB-node/IAB-donor DU may have multiple addresses, or the address may
contain a route-Id for the support of multiple independent routes;
\- For 1:1 mapping, the UE-bearer-Id may be replaced by UE-Id + LCID.
[Downstream processing by IAB-donor DU and IAB-node]{.underline}
Table 8.2.10.2-1: Downstream packet processing - consolidated example 2 (red:
ingress parameters; blue: egress parameters)
+----------------+-------------------------+-------------------------+ | | IAB-donor DU | IAB-node | +----------------+-------------------------+-------------------------+ | **Ingress** | On wireline network, | On BH-link, packet | | | packet received from CU | received from parent | | **packet** | holds: | holds: | | | | | | | - GTP-U TEID | - UE-bearer-ID | | | | | | | | - IAB-node-address | | | | | | | | - LCID | +----------------+-------------------------+-------------------------+ | **Packet** | Node derives from | Node derives from | | | packet header and | packet header and | | **processing** | lookup tables: | lookup tables: | | | | | | | - Egress link type | - Determination of N:1 | | | based on GTP-U TEID | vs. 1:1 bearer mapping | | | | based on LCID. | | | > \- \"UE-access\" if | | | | > UE of UE-bearer-ID is | - If \"N:1 bearer | | | > local | mapping\": | | | > | | | | > \- \"BH\" if UE of | > \- Ingress RLC | | | > UE-bearer-ID is | > channel through 1:1 | | | > remote | > mapping from LCID | | | | | | | - If egress link type | - If \"1:1 bearer | | | = \"UE-access\", | mapping\": | | | derive: | | | | | > \- Ingress RLC | | | > \- Egress link and | > channel based on | | | > UE-bearer from GTP-U | > combination of | | | > TEID | > UE-bearer-ID + LCID | | | > | | | | > \- Egress RLC channel | - Egress link type | | | > from GTP-U TEID | based on | | | > | IAB-node-address: | | | > \- Egress LCID via | | | | > 1:1 mapping between | > \- \"UE-access\" if | | | > RLC channel and LCH. | > address is local | | | | > | | | - If egress link type | > \- \"BH\" if address | | | = \"BH\", derive: | > is remote | | | | | | | > \- UE-bearer-ID and | - If egress link type | | | > IAB-node-address | = \"UE-access\", | | | > based on GTP-U TEID | derive: | | | > | | | | > \- Egress link based | > \- Egress link and | | | > on IAB-node-address | > UE-bearer from | | | > (routing) | > UE-bearer-ID | | | > | > | | | > \- Egress RLC-channel | > \- Egress RLC channel | | | > based on UE-bearer-ID | > from UE-bearer-ID | | | > | > | | | > \- If bearer mapping | > \- Egress LCID via | | | > = N:1 | > 1:1 mapping between | | | > | > RLC channel and LCH. | | | > \- Egress LCID based | | | | > on 1:1 mapping | - If egress = \"BH\", | | | > between RLC channel | derive: | | | > and LCH. | | | | > | > \- Egress | | | > \- If bearer mapping | > IAB-node-address = | | | > = 1:1: | > Ingress | | | > | > IAB-node-address | | | > \- Egress LCID based | > | | | > on K:1 mapping | > \- Egress link based | | | > between RLC channels | > on IAB-node-address | | | > and LCH. | > (routing) | | | | > | | | | > \- If bearer mapping | | | | > = N:1: | | | | > | | | | > \- Egress RLC channel | | | | > based on ingress RLC | | | | > channel and | | | | > IAB-node-address | | | | > (mapping between BH | | | | > RLC channels) | | | | > | | | | > \- Egress LCID via | | | | > 1:1 mapping between | | | | > RLC channel and LCH. | | | | > | | | | > \- If bearer mapping | | | | > = 1:1: | | | | > | | | | > \- Egress RLC-channel | | | | > based on ingress | | | | > RLC-channel (mapping | | | | > is implicit, since | | | | > for 1:1 mapped | | | | > bearers we can | | | | > consider ingress and | | | | > egress RLC channels | | | | > to be the same | | | | > RLC-channel) | | | | > | | | | > \- Egress LCID via | | | | > K:1 mapping between | | | | > RLC channel and LCH. | +----------------+-------------------------+-------------------------+ | **Egress** | On BH link, packet | On BH link, packet | | | transmitted to child | transmitted to child | | **packet** | holds: | holds: | | | | | | | - UE-bearer-ID | - UE-bearer-ID | | | | | | | - IAB-node-address | - IAB-node-address | | | | | | | - LCID | - LCID | | | | | | | On UE-access link, RLC | On UE-access link, RLC | | | packet transmitted to | packet transmitted to | | | UE holds: | UE holds: | | | | | | | - LCID | - LCID | +----------------+-------------------------+-------------------------+
[Upstream processing by IAB-donor DU and IAB-node]{.underline}
Table 8.2.10.2-2: Upstream packet processing - consolidated example 2 (red:
ingress parameters; blue: egress parameters)
+----------------+-------------------------+-------------------------+ | | IAB-donor DU | IAB-node | +----------------+-------------------------+-------------------------+ | **Ingress** | On BH link, packet | On BH link, packet | | | received from child: | received from child | | **packet** | | holds: | | | - UE-bearer-ID | | | | | - UE-bearer-ID | | | - Donor-DU-address | | | | | - IAB-node-address | | | - LCID | | | | | - LCID | | | On UE-access link, RLC | | | | packet received from UE | On UE-access link, RLC | | | holds: | packet received from UE | | | | holds: | | | - LCID | | | | | - LCID | +----------------+-------------------------+-------------------------+ | **Packet** | Node derives from | Node derives from | | | packet header content | packet header content | | **processing** | and lookup tables: | and lookup tables: | | | | | | | - If ingress link type | - If ingress link type | | | is \"UE-access\", | = \"UE-access\", | | | derive: | derive: | | | | | | | > \- GTP-U TEID from | > \- UE-bearer-ID from | | | > ingress link and LCID | > ingress link and | | | | > LCID. | | | - If ingress link type | > | | | is \"BH\", derive: | > \- IAB-donor | | | | > DU-address based on | | | > \- N:1 vs. 1:1 bearer | > UE-bearer-ID | | | > mapping based on | > | | | > LCID. | > \- Egress link based | | | > | > on IAB-donor | | | > \- If \"N:1 bearer | > DU-address (routing) | | | > mapping\": | > | | | > | > \- Egress RLC-channel | | | > \- Ingress RLC | > based on UE-bearer-ID | | | > channel based on LCID | > (N:1 bearer mapping) | | | > using 1:1 mapping | > | | | > between RLC channel | > \- Egress LCID via | | | > and LCH. | > 1:1 mapping between | | | > | > RLC channel and LCH. | | | > \- If \"1:1 bearer | | | | > mapping\": | - Determination of N:1 | | | > | vs. 1:1 bearer mapping | | | > \- Ingress RLC | based on LCID. | | | > channel based on | | | | > combination of | > \- If \"N:1 bearer | | | > UE-bearer-ID + LCID | > mapping\": | | | > | > | | | > \- GTP-U TEID from | > \- Ingress RLC | | | > UE-bearer-ID | > channel through 1:1 | | | | > mapping from LCID | | | | > | | | | > \- If \"1:1 bearer | | | | > mapping\": | | | | > | | | | > \- Ingress RLC | | | | > channel based on | | | | > combination of | | | | > UE-bearer-ID + LCID | | | | | | | | - If ingress = \"BH\", | | | | derive: | | | | | | | | > \- Egress IAB-donor | | | | > DU-address = Ingress | | | | > IAB-donor DU-address | | | | > | | | | > \- Egress link based | | | | > on IAB-donor | | | | > DU-address | | | | > | | | | > \- If bearer mapping | | | | > = N:1: | | | | > | | | | > \- Egress RLC channel | | | | > based on ingress RLC | | | | > channel and IAB-donor | | | | > DU-address (mapping | | | | > between BH RLC | | | | > channels). | | | | > | | | | > \- Egress LCID via | | | | > 1:1 mapping between | | | | > RLC channel and LCH. | | | | > | | | | > \- If bearer mapping | | | | > = 1:1: | | | | > | | | | > \- Egress RLC-channel | | | | > based on ingress | | | | > RLC-channel (mapping | | | | > is implicit, since | | | | > for 1:1 mapped | | | | > bearers we can | | | | > consider ingress and | | | | > egress RLC channels | | | | > to be the same | | | | > RLC-channel). | | | | > | | | | > \- Egress LCID via | | | | > K:1 mapping between | | | | > RLC channel and LCH. | +----------------+-------------------------+-------------------------+ | **Egress** | On wireline network, | On BH link, packet | | | packet transmitted to | transmitted to parent | | **packet** | CU holds: | holds: | | | | | | | - UE-bearer-ID = GTP-U | - UE-bearer-ID | | | TEID | | | | | - IAB-donor DU-address | | | | | | | | - LCID | +----------------+-------------------------+-------------------------+
## 8.3 Control-plane considerations for architecture group 1
### 8.3.1 Routing and QoS enforcement for CP signaling
CP signaling across wireless backhaul-link uses the same routing and QoS
enforcement mechanisms as defined for UP traffic.
NOTE The priority and QoS requirements of the CP signaling can be different
from the UP traffic.
### 8.3.2 CP signaling protocols
Signaling between the MT on an IAB-node and the CU-CP on the IAB-donor uses
RRC protocol.
Signaling between DU on an IAB-node and the CU-CP on the IAB-donor uses F1-AP
protocol.
IAB specific enhancements to RRC and F1-AP are not precluded
### 8.3.3 Control plane transport requirements
The following essential functionalities are required for transporting of
control plane messages between the donor CU and IAB DUs over the IAB backhaul
network:
\- Reliable transport;
\- In-order delivery;
\- Security.
Other aspects that can be studied further include (this list is not
exhaustive):
\- how to achieve low bounded latency (e.g. by avoiding head of line
blocking);
\- route redundancy;
\- minimizing impact to existing F1-AP procedures;
\- overhead of transport solution, both in terms of headers and control
aspects to setup/maintain transport.
### 8.3.4 CP signaling security protection
RRC and F1-AP connections are secured over the wireless backhaul links.
The RRC connection has at least the same level of protection on the wireless
backhaul link as on the access link.
The baseline assumption is that the F1-AP connection has at least the same
level of protection on the wireless backhaul link as the RRC connection.
NOTE: SA3 has to confirm whether the same level of protection for F1-AP as for
RRC is acceptable or whether new requirements are needed.
The following protocols are used for CP signaling protection:
\- PDCP is used to protect RRC.
\- PDCP is baseline to protect F1-AP over the wireless backhaul.
\- Other solutions (e.g. based on using NDS) are not precluded for F1-AP
protection.
### 8.3.5 CP alternatives for architecture 1a
In architecture 1a, the UE\'s and the MT\'s UP and RRC traffic can be
protected via PDCP over the wireless backhaul. A mechanism has to be defined
to also protect F1-AP traffic over the wireless backhaul.
The following five alternatives can be considered. Other alternatives are not
precluded.
Figure 8.3.5-1: Example for alternative 1 of architecture 1a. 1a: UE\'s RRC,
1b: MT\'s RRC, 1c: DU\'s F1-AP
**Alternative 1:**
Figure 8.3.5-1 shows protocol stacks for UE\'s RRC, MT\'s RRC and DU\'s F1-AP
for alternative 1. In these examples, the adaptation layer is placed on top of
RLC. On the IAB-node\'s access link, the adaptation layer may or may not be
included. The example does not preclude other options. This alternative has
the following main features:
\- The UE\'s and the MT\'s RRC are carried over SRB;
\- On the UE\'s or MT\'s access link, the SRB uses an RLC-channel;
\- On the wireless backhaul links, the SRB\'s PDCP layer is carried over RLC-
channels with adaptation layer. The adaptation layer placement in the RLC
channel is the same for C-plane as for U-plane. The information carried on the
adaptation layer may be different for SRB than for DRB;
\- The DU\'s F1-AP is encapsulated in RRC of the collocated MT. F1-AP is
therefore protected by the PDCP of the underlying SRB;
\- Within the IAB-donor, the baseline is to use native F1-C stack (see section
9);
\- The following essential control plane functionalities are supported:
\- Reliable transport: via RLC over the wireless backhaul;
\- In-order delivery: via PDCP;
\- Security: via PDCP.
Figure 8.3.5-2: Example for alternative 2 of architecture 1a. 2a: UE\'s RRC,
2b: MT\'s RRC, 2c: DU\'s F1-AP
**Alternative 2:**
Figure 8.3.5 - 2 shows protocol stacks for UE\'s RRC, MT\'s RRC and DU\'s
F1-AP for alternative 2. In these examples, the adaptation layer resides on
top of RLC. On the IAB-node\'s access link, the adaptation layer may or may
not be included. The example does not preclude other options. This alternative
has the following main features:
\- The UE\'s and the MT\'s RRC are carried over SRB;
\- On the UE\'s or MT\'s access link, the SRB uses an RLC-channel;
\- On the wireless backhaul link, the PDCP of the RRC\'s SRB is encapsulated
into F1-AP;
\- The DU\'s F1-AP is carried over an SRB of the collocated MT. F1-AP is
protected by this SRB\'s PDCP;
\- On the wireless backhaul links, the PDCP of the F1-AP\'s SRB is carried
over RLC-channels with adaptation layer. The adaptation layer placement in the
RLC channel is the same for C-plane as for U-plane. The information carried on
the adaptation layer may be different for SRB than for DRB;
\- Within the IAB-donor, the baseline is to use native F1-C stack (see section
9);
\- The following essential control plane functionalities are supported:
\- Reliable transport: via RLC over the wireless backhaul;
\- In-order delivery: via PDCP;
\- Security: via PDCP.
NOTE: For CP Alternative 2, in order to carry F1-AP over an SRB, due to
conventional RRC operation RRC encapsulation of F1-AP may be required.
Figure 8.3.5-3: Example for alternative 3 of architecture 1a. 3a: UE\'s RRC,
3b: MT\'s RRC, 3c: DU\'s F1-AP
**Alternative 3:**
Figure 8.3.5 - 3 shows protocol stacks for UE\'s RRC, MT\'s RRC and DU\'s
F1-AP for alternative 3. In these examples, the adaptation layer resides on
top of RLC. On the IAB-node\'s access link, the adaptation layer may or may
not be included. The example does not preclude other options. This alternative
has the following main features:
\- The UE\'s and the MT\'s RRC are carried over SRB;
\- On the UE\'s or MT\'s access link, the RRC\'s SRB uses an RLC-channel. On
the wireless backhaul links, the SRB\'s PDCP layer is carried over RLC-
channels with adaptation layer. The adaptation layer placement in the RLC
channel is the same for C-plane as for U-plane. The information carried on the
adaptation layer may be different for SRB than for DRB;
\- The DU\'s F1-AP is also carried over an SRB of the collocated MT. F1-AP is
protected by this SRB\'s PDCP;
\- On the wireless backhaul links, the PDCP of the SRB is also carried over
RLC-channels with adaptation layer;
\- Within the IAB-donor, the baseline is to use native F1-C stack (see section
9);
\- The following essential control plane functionalities are supported:
> \- Reliable transport: via RLC over the wireless backhaul;
\- In-order delivery: via PDCP;
\- Security: via PDCP.
Figure 8.3.5-4: Example for alternative 4 of architecture 1a. 4a: UE\'s RRC,
4b: MT\'s RRC, 4c: DU\'s F1-AP
**Alternative 4:**
Figure 8.3.5 - 4 shows protocol stacks for UE\'s RRC, MT\'s RRC and DU\'s
F1-AP for alternative 4. In these examples, the adaptation layer resides on
top of RLC and carries an IP-layer as discussed in section 8.2.2. This
alternative has the following main features:
\- The IP-layer carried by adapt is connected to the fronthaul\'s IP-plane
through a routing function at the IAB-donor DU. On this IP-layer, all IAB-
nodes hold IP-addresses, which are routable from the IAB-donor CU-CP;
\- For deployments with IPv6, IP address assignment to the IAB-node could be
based on IPv6 Neighbour Discovery Protocol where the DU act as an IPv6 router
sending out ICMPv6 Router Advertisement over one or more backhaul bearer
towards the IAB-node. The IP address may also be assigned by the CU-CP via
RRC. Other methods are not excluded;
\- The extended IP-plane allows native F1-C to be used between IAB-node DU and
IAB-donor CU-CP. Signalling traffic can be prioritized on this IP routing
plane using DSCP markings in compliance with TS 38.474 [4];
\- F1-C is protected via NDS, e.g. via D-TLS, as established by S3-181838;
\- The UE\'s and the MT\'s RRC use SRB, which is carried over F1-C in
compliance with TS 38.470 [5];
\- The following essential control plane functionalities are supported:
\- Reliable transport: via SCTP;
\- In-order delivery: via SCTP;
\- Security: via NDS.
Figure 8.3.5-5: Example for alternative 5 of architecture 1a. 5a: UE\'s RRC,
5b: MT\'s RRC, 5c: DU\'s F1-AP
**Alternative 5:**
Figure 8.3.5-5 shows protocol stacks for UE\'s RRC, MT\'s RRC and DU\'s F1-AP
for alternative 5. In these examples, the adaptation layer is placed on top of
RLC. On the IAB-node\'s access link, the adaptation layer may or may not be
included. The example does not preclude other options. This alternative has
the following main features:
\- The UE\'s and the MT\'s RRC are carried over SRB.
\- On the UE\'s or MT\'s access link, the SRB uses an RLC-channel.
\- On the wireless backhaul links, the SRB\'s PDCP layer is carried over RLC-
channels with adaptation layer. The adaptation layer placement in the RLC
channel is the same for C-plane as for U-plane. The information carried on the
adaptation layer may be different for SRB than for DRB.
\- The DU\'s F1-AP is carried over a DRB. F1-AP is therefore protected by this
DRB\'s PDCP.
\- Within the IAB-donor, the baseline is to use native F1-U stack. The DU\'s
F1-AP is carried over E1 interface.
\- The following essential control plane functionalities are supported:
\- Reliable transport: via RLC over the wireless backhaul;
\- In-order delivery: via PDCP;
\- Security: via PDCP.
**Summary:**
For Encapsulation (for relaying RRC messages):
\- Without F1-AP Encapsulation: The IAB-node doesn\'t use F1-AP to carry UE\'s
RRC/MT\'s RRC. The IAB-node maps UE\'s RRC/MT\'s RRC directly on RLC-channels;
\- Using F1-AP Encapsulation: The IAB-node uses F1-AP to carry UE\'s RRC/MT\'s
RRC. The IAB-node encapsulates UE\'s RRC/MT\'s RRC with F1-AP RRC message
containers;
\- Using F1-AP Encapsulation with SCTP/IP: The IAB-node uses F1-AP to carry
UE\'s RRC/MT\'s RRC. In addition, the IAB-node uses SCTP/IP for adaptation
layer.
For Using DRB or SRB for transmission of CP signaling (F1-AP mapping on PDCP
entity):
\- Encapsulated in RRC of the collocated MT: The IAB-node encapsulates DU\'s
F1-AP. F1-AP is protected by the PDCP of the underlying SRB;
\- Carried via SRB: The IAB-node uses another SRB to carry DU\'s F1-AP without
encapsulation in RRC;
\- Carried over native F1-C: The IAB-node uses native F1-C format to carry
DU\'s F1-AP;
\- Carried over DRB: The IAB-node uses a DRB to carry DU\'s F1-AP.
For Security of F1-AP:
\- Via PDCP: F1-AP is protected by the PDCP;
\- Via DTLS: F1-AP is protected by the DTLS.
The comparison analysis of the five CP alternatives are provided in the Table
10.2-1. More comparison aspects are not excluded.
Only CP alternatives 2 and 4 are considered further in this study.
**NSA operation:**
In CP alternatives where the IAB-node potentially uses an SRB to carry F1-AP
to the IAB-donor, when the IAB-node operates in SA with NGC (described as
\"Option a\" and \"Option b\" in Section 6.1.2), the SRB uses the NR air
interface. In case the IAB-node operates in NSA with EPC (described as
\"Option c\" in Section 6.1.2), for those CP alternatives the SRB may be
carried over the LTE air interface.
For downlink, the IAB-donor CU could send the RRC message for the IAB-node MT
to MeNB first via X2AP RRC transfer message. And then, the MeNB could send the
RRC message received in the X2AP RRC transfer message to the corresponding
IAB-node MT. However, X2AP RRC transfer message is not used for DL RRC message
transfer in the current specification.
### 8.3.6 Control Signalling to BH-RLC-Channel mapping for architecture 1a
In this section, only CP alternatives 2 and 4 are considered for the control
signaling mapping. In both alternatives, the control signaling to BH RLC
channel mapping can be considered as mapping of MT terminated SRBs to BH RLC
Channels. The following two options can be considered:
> **Option 1: One-to-one mapping**
>
> In this option, the BH RLC channel is specific to MT\'s SRB. Thus, the
> number of BH RLC channels used for transport of UE/MT\'s SRBs is the same as
> the number of UE/MT\'s SRBs. There is no need to multiplex UE/MT\'s SRB.
> Furthermore, each BH RLC channel is mapped onto a separate BH RLC channel on
> the next hop.
Figure 8.3.6-1: Example of one-to-one mapping between MT\'s SRBs and BH RLC-
Channel(s)
> **Option 2: many-to-one mapping**
>
> In this option, several MT\'s SRBs (e.g., MT\'s SRBs with same priority, or
> MT\'s SRBs with different priorities) are multiplexed onto a single BH RLC
> channel. Specifically, MT\'s SRBs with same priority level are multiplexed
> onto a single BH RLC channel over all the hops. Thus, the number of BH RLC
> channels required depends on the set of MT\' SRBs. For example, if we have a
> set of three SRBs, i.e. SBR0, SRB1, and SRB2, then many-to-one mapping needs
> only three BH RLC channels on all the hops. Furthermore, the MT SRBs mapped
> to different BH RLC channels on one hop may be mapped onto the same BH RLC
> channel on the next hop.
Figure 8.3.6-2: Example of many-to-one mapping between MT\'s SRB and BH RLC-
Channel(s)
### 8.3.7 CP alternatives for architecture 1b
Figure 8.3.7-1: RRC and F1-AP for architecture 1b. 4a: UE\'s RRC, 4b: MT\'s
RRC, 4c: DU\'s F1-AP
Figure 8.3.7-1 shows protocol stacks for UE\'s RRC, MT\'s RRC and DU\'s F1-AP
for architecture 1b. In these examples, the adaptation layer carrying the
DRB\'s PDCP resides on top of RLC. On the IAB-node\'s access link, the
adaptation layer may or may not be included. The example does not preclude
other options.
For architecture 1b, the UE\'s or MT\'s RRC is carried over SRB. On the
wireless backhaul, this SRB\'s PDCP is carried over native F1-C.
The DUs on IAB-node and IAB-donor use native F1-C stack.
\- Over the wireless backlinks, the IP-layer of this native F1-C stack is
provided by a PDU-session. This PDU-session is established between the MT
collocated with the DU and a UPF.
\- The PDU-session is carried by a DRB between the MT and the CU-UP. Between
CU-UP and UPF, the PDU-session is carried via NG-U.
\- IP transport between UPF and CU-CP is provided by the PDU-session\'s DN.
The baseline assumption is that this transport is protected.
NOTE: SA3 may evaluate requirements on the protection of F1-C transport across
the DN between UPF and CU-CP.
## 8.4 User-plane considerations for architecture group 2
### 8.4.1 General
An MT component in each IAB-node establishes a Connectivity Service to
transport a payload over an IAB hop. Each PDU session is terminated at the
next upstream hop in a simplified UPF that supports packet forwarding/routing
and minimal other functions. Connectivity services over IAB hops may be
concatenated to support multi-hop scenarios. Donors may have a DU/CU split, so
IAB PDU Sessions setup from IAB-nodes directly connected to the Donor may use
a centrally located CU and UPF, as would be typical for a UE without IAB.
Similarly, an IAB-node may use a DU to serve UEs. For IAB-nodes connected to
upstream IAB-nodes, a CU and UPF in the upstream node are used. The chained
connectivity services are capable of transporting packets containing any
payload, including N1, N2, N3, N4, Xn, F1, N3, OA&M, Wi-Fi Ethernet, LTE S1 or
other packets, as the IAB PDU Sessions are independent of the \"Application\"
transported by the IAB-node MT.
### 8.4.2 User-plane protocol stack
Figure 8.4.2-1: Protocol stack example showing transport of NR UE U-plane for
Architecture 2a
In Figure 8.4.2-1, some examples of the architecture 2a user plane protocol
stacks are shown for the transport of NR access.
For Option a), the following are key attributes of the protocol
1\. The example shows a DU/CU split in the IAB-node serving the UE. F1-U is
transported from IAB-Node-2, and both directly connected UEs and IAB-node MTs
may use a common gNB in an upstream IAB-node.
2\. IAB-nodes at intermediate hops (e.g.: IAB-node 1) may also contain a DU to
serve directly connected UEs, similar to the DU in IAB-node 2, In this case a
single IAB-node MT may relay both F1-U and NG-U between their respective
tunnel endpoints. Methods to ensure that IAB-node MTs access only the gNB and
UEs only the DU require further investigation. Network/RAN slicing, use of
private networks and mechanisms similar to 4G Closed Subscriber Groups are
options to investigate.
3\. If the MT PDU session F1-U header does not require protection, hop-by-hop
PDCP layer encryption may be deactivated for the example protocol stack as
user plane data are protected by PDCP between the UE and the UE\'s CU.
For Option b), the UE\'s serving IAB-node (IAB-node 2) behaves as a full stack
gNB towards the UE in access link, and the UE related NG interface terminates
(e.g., N3 connection of user plane) at IAB-node 2. The N3 interface for the UE
is carried over hop-by-hop PDU sessions for the MT part of each intermediate
IAB-node. If we take the assumption that the PDU session type for IAB is IP,
the routing of UE\'s N3 packets across intermediate IAB-nodes and DgNB is IP
layer based. Thus, the intermediate IAB-node needs to fulfil 3 different
roles; gNB for child node, UPF for child node, and MT for parent node. The 3
parts should be conceptually interconnected by some internal interfaces, e.g.
internal N3 interface, etc. Protocol stacks designed for NR Uu interface can
be reused in the backhaul interface (i.e., interface between IAB-nodes,
interface between IAB-node and DgNB, etc.
For both option a) and b):
1\. Packets are forwarded through the IAB topology based on the IP packet
header (eg: GTP tunnel destination IP address). This means reusing usual
routing tables one would normally have with wired backhaul. The Donor CU may
configure routes via C-plane or U-plane signaling.
2\. Multiple UEs may be aggregated by the IAB-node MT onto a PDU Session and
transported transparently. IAB-node MTs may setup separate PDU Sessions to
transport traffic of different types (e.g.: U-plane, C-plane, OA&M). IAB PDU
sessions may be setup for UE traffic with specific QoS requirements, or UE
traffic with different QoS requirements may be differentiated via QFI markings
within a PDU session.
## 8.5 Control-plane considerations for architecture group 2
### 8.5.1 General
This section describes the C-plane for architecture 2a. All C-plane signaling
is carried over IAB hops by the IAB PDU session user plane. Hence the IAB
transport layers are unchanged from the U-plane and are identical for all
C-plane stacks. Variation among C-plane protocol stacks is due solely to the
content transported.
As with the U-plane, a connectivity service is setup by a MT component in each
IAB-node to transport the control plane payload over each hop. Also, like the
UE U-plane, the IAB PDU sessions are terminated in simplified UPFs that
support packet forwarding/routing and minimal other functions. Connectivity
services over IAB hops may be concatenated to support multi-hop scenarios. In
the first example shown in the next section, IAB PDU Session setup from IAB-
nodes directly connected to the IAB-donor may use a CU and a centrally located
UPF. The UE serving IAB-node uses a DU to serve directly connected UEs. In the
second example, at each hop a full gNB is used to serve both users and
downstream IAB-node MTs.
### 8.5.2 Control Plane Protocol Stacks
Figure 8.5.2-1: Protocol Stack examples showing transport of NR UE C-plane for
Architecture 2a
In Figure 8.5.2-1, examples for the architecture-2a UE C-plane protocol stacks
are shown. In Option a), the UE C-plane-related layers are colored in gray
while U-plane layers specific to IAB transport are shown in orange. NAS and
RRC are transported over the UE-serving IAB-node\'s F1 interface as would be
the case without IAB. F1-C from the DU is carried over the IAB transport
layers, which are identical to those used for U-plane transport.
For Option b), IAB-node 2 behaves as fully functional gNB and provides all the
CP-related layers (including RRC, PDCP, RLC, MAC, PHY) of the Uu interface
towards a UE. The N2 interface corresponding to the UE is terminated at IAB-
node 2, and such N2 interface is carried over hop-by-hop PDU sessions for the
MT part of each intermediate IAB-node, just like the UE related N3 interface.
Thus, the N2 messages between IAB-node 1 and the AMF serving the UE will also
be forwarded by the Donor gNB and IAB-node 1 according to IP-layer-based
routing. The UP protocol stack designed for Uu interface will be reused for
backhaul links, which means that CP messages need to be carried via DRBs on
backhaul links.
Some variants of L3 relaying solutions are also possible for architecture 2a.
For example, a kind of proxy node may be introduced inside the intermediate
IAB-nodes and the Donor gNB to provide a hop-by-hop NG proxy function between
the UE\'s serving IAB-node and NGC nodes. Such a solution enables UE-related
NG contexts to be known by all intermediate nodes, and it could facilitate QoS
guarantees across intermediate hops.
Figure 8.5.2-2: Protocol Stack example showing transport of IAB-node MT
C-plane for Architecture 2a
Figure 8.5.2-2 shows an example of the architecture-2a IAB-mode MT C-plane.
IAB-node MT C-plane-related layers are colored gray while U-plane layers
specific to IAB transport are shown in orange. IAB-node-2\'s NAS and RRC are
transported over the user plane of IAB-node 1.
Figure 8.5.2-3: Protocol Stack example showing transport of IAB-node DU
C-plane (F1-C) for Architecture 2a
Figure 8.5.2-3 shows an example of the architecture-2a IAB-node-DU\'s C-plane
(F1-C). IAB DU and CU control plane layers are colored gray while U-plane
layers specific to IAB transport are shown in orange. IAB-node-2\'s F1-C is
transported over the U-plane by the chained PDU sessions between IAB-node-2
and IAB-node-1, and between IAB-node-1 and the UPF upstream of the IAB-donor.
### 8.5.3 Other aspects
Following are some further control plane aspects which need to be considered
for architecture group 2.
\- Routing in architecture 2a
> The required processing in IAB/Donor needs to be investigated, i.e.
> adding/replacing/removing the routing related information, and how to
> configure the IAB/Donor.
\- QoS enforcement
Need to clarify the required QoS information in the PDU-session-layer for the
QoS enforcement of all types of user traffic over the air interface. For
example, if the PDU session type is IP, DSCP may be used, but need to
determine the mapping of DSCP to the QoS, and whether the granularity of DSCP
is enough.
\- Procedures of IAB-node integration
The IAB integration procedure in Section 9.3 may be affected, for example,
setup the IAB-node\'s gNB and UPF, etc.
\- Support of multi-connectivity
Need to clarify how the multiple-connectivity is supported.
\- Topology adaptation
During topology adaptation, the IAB-node MT may connect to a different IAB-
node, which causes the change of UPF. The detail about the procedures of
topology adaptation, such as context and data forwarding, CN-involved
signalling, etc., needs to be investigated.
## 8.6 Latency in UL scheduling
Increased latency due to multiple hops in an IAB network can adversely impact
the performance of both control plane procedures (such as handover and radio
link recovery) and also user plane data transmission. In order to achieve hop
agnostic performance in IAB scheduling, it is important to reduce the E2E
delay from the UE to the IAB-donor, and meet the latency requirement,
regardless of how many hops the UE is away from the IAB-donor.
In multi-hop networks, upstream data arriving from a child node may suffer
scheduling delays at the parent node and intermediate nodes. To some extent,
this is no different from a single-hop UE where new data arrives into UE
buffers after a BSR is sent. However, in a multi-hop network, the delays are
likely to accumulate due to number of hops and aggregated volume of data at
IAB-nodes and may require mitigation mechanisms. Request of uplink resources
at each hop and UL data transmission are shown in Figure 8.6-1.
Figure 8.6-1: Uplink Delays in IAB Network: worst case scenario, where none of
the intermediate nodes have any UL resources allocated to them
It is clear that this process can be significantly longer than the
corresponding process in one-hop networks, due to the multiple consecutive
uplink resource request and allocation steps. The underlying reason for these
delays is that the MT part of an IAB-node can only request uplink resources
for the UL data transmission after it actually receives the data to be
transmitted.
One approach to mitigate such delays consists of initiating an uplink resource
request at an IAB-node based on data that is expected to arrive. This would
enable the IAB-node to obtain the uplink resource prior to actual data
reception from its child IAB-node or a UE that it serves.
The details of the content and triggers of the SR/BSR and UL scheduling are
left for the WI phase.
# 9 Backhaul aspects
## 9.1 Additional Interfaces
No additional interfaces were considered in this study.
## 9.2 IAB Topologies
The following IAB topologies were considered in the study:
1\. Spanning tree (ST)
2\. Directed acyclic graph (DAG)
Figure 9.2-1: Examples for spanning tree and directed acyclic graph. The arrow
indicates the directionality of the graph edge.
The directionality of the Uu-backhaul link, defined by uplink and downlink, is
aligned with the hierarchy of the ST or DAG.
For ST, each IAB-node has only one parent node, which can be another IAB-node
or the IAB-donor. Each IAB-node is therefore connected to only one IAB-donor
at a time, and only one route exists between IAB-node and this IAB-donor.
Figure 9.2-2: Examples for link- and route redundancy in DAG
For DAG, the following options can be considered:
\- The IAB-node is multi-connected, i.e., it has links to multiple parent
nodes (Fig 9.2-2a).
\- The IAB-node has multiple routes to another node, e.g. the IAB-donor (Fig
9.2-2b).
\- Both options can be combined, i.e., the IAB-node may have redundant routes
to another node via multiple parents (Fig 9.2-2c).
Multi-connectivity or route redundancy may be used for back-up purposes. It is
also possible that redundant routes are used concurrently, e.g., to achieve
load balancing, reliability, etc.
Figure 9.2-3: Route redundancy in arch group 1 either using single MT function
or multiple MT functions
For architecture group 1, the CP/UP split architecture of IAB-donor CU needs
to be considered for an IAB-node with redundant routes.
For the CP, the following applies:
\- Each IAB-node DU connects to only one IAB-donor-CU-CP.
\- Each IAB-node DU may be connected to this IAB-donor-CU-CP via redundant
routes. These routes may pass through the same IAB-donor DU or through
different IAB-donor DUs (Figure 9.2.3).
\- The IAB-node MT may be connected to one or more IAB-donor-CU-CPs.
For the UP, the following applies:
\- Each IAB-node DU may connect to one or more IAB-donor-CU-UPs, for access
UE\'s traffic. Each F1-U connection may be supported via redundant routes.
These routes may pass through the same IAB-donor DU or through different IAB-
donor DUs of same or different Donor.
\- The IAB-node MT may be connected to one or more IAB-donors for its own
traffic, e.g. OAM support.
Figure 9.2-4: Examples for link- and route redundancy in arch group 2
For architecture group 2, the following scenarios need to be considered for an
IAB-node with redundant routes. These routes may pertain to:
\- The same IP domain;
\- Different IP domains.
For at least some of these topologies, aspects of IP address management as
well as procedures for topology adaptation will be studied. Further
prioritization of these topologies may be necessary.
## 9.3 Integration of IAB-node
IAB-node integration has the following phases:
1\. The IAB-node authenticates with the operator\'s network and establishes IP
connectivity to reach OAM functionality for OAM configuration:
\- This phase includes discovery and selection of a serving node, which can be
an IAB-donor or another IAB-node. The IAB-node may retrieve this information,
e.g. from OAM or via RAN signaling such as OSI or RRC.
\- This phase further includes setting up connectivity to other RAN nodes and
CN.
\- This phase involves the MT function on the IAB-node.
2\. The IAB-node\'s DU, gNB, or UPF are set up together with all interfaces to
other RAN-nodes and CN. This phase must be performed before the IAB-node can
start serving UEs or before further IAB-nodes can connect:
\- For architectures 1a and 1b, this phase involves setup of the IAB-node\'s
DU and the F1-establishment to the IAB-donor\'s CU-CP and CU-UP.
\- For architecture 2a, this phase involves setup of the IAB-node\'s gNB and
UPF as well as integration into the PDU-session forwarding layer across the
wireless backhaul.
\- This phase includes the IAB-node\'s integration into topology and route
management.
3\. The IAB-node provides service to UEs or to other integrated IAB-nodes:
\- UEs will not be able to distinguish access to the IAB-node from access to
gNBs.
{width="4.175in" height="3.5145833333333334in"}
Figure 9.3-1: IAB-node\'s Integration Procedure
A high-level flow chart for SA-based IAB integration is shown in the Figure
9.3-1:
1\. IAB-node\'s integration procedure phase 1: IAB-node MT part setup. In this
phase, IAB-node MT part connects the network as a normal UE, such as IAB-node
MT part performs RRC connection setup procedure between donor-CU,
authentication and PDU session establishment between OAM, IAB-node MT part
related context and bearer configuration in RAN side, and etc. For CP
alternative 2 and alternative 4 for 1a and 1b, the intermediate IAB-node DU
part encapsulates the related RRC messages of the IAB-node MT part in F1-AP
messages.
2\. IAB-node\'s integration procedure phase 2-1: Routing update. In this
phase, the routing information are updated for all related IAB-nodes due to
the setup of IAB-node.
3\. IAB-node\'s integration procedure phase 2-2: IAB-node DU part setup. For
CP alternative 2 and alternative 4 for 1a and 1b, the IAB-node\'s DU part
performs F1-AP setup procedure.
4\. IAB-node\'s integration procedure phase 3: The IAB-node provides service
to UEs or to other integrated IAB-nodes.
NSA-based IAB-node integration has the following phases:
**Phase 1: IAB-node MT part setup.** In this phase, IAB-node MT part performs
the connection setup procedure and authentication via LTE RRC signaling to the
LTE network. The eNB then configures the IAB-node MT part with an NR
measurement configuration in order to perform discovery, measurement, and
measurement reporting of candidate parent IAB-nodes to the eNB. The IAB-node
MT part then connects to the parent IAB-node\'s DU and CU via the EN-DC SN
addition procedure.
**Phase 2-1: Routing update.** In this phase, routing information is updated
on the IAB-node\'s parent and its ancestor nodes to establish an NR backhaul
path between IAB-node and IAB-donor.
**Phase 2-2: IAB-node DU part setup.** The IAB-node\'s DU performs F1-AP setup
procedure. It can use the same transport over the NR backhaul as in SA mode.
Alternatively, it may leverage SRBs over LTE and the X2 connection between eNB
and CU for the transport of F1-AP as outlined in section 8.3.4. Both
alternatives can be further studied, considering robustness and overhead of
transmissions on the LTE or NR carrier(s).
**Phase 3:** The IAB-node DU provides service to UEs or to other integrated
IAB-nodes via NR and the IAB-node MT maintains connectivity with the LTE eNB
and parent IAB-node.
{width="5.610416666666667in" height="5.104166666666667in"}
Figure 9.3-2(a): IAB-node\'s Integration Procedure Phase 1
As an example, one of possible IAB-node integration procedure for
architecture-1a CP alternative 2 is given as in the Figure 9.3-2.
**IAB-node\'s integration procedure phase 1: IAB-node MT part setup**
1\. IAB-node2 MT part performs normal cell discovery and cell selection and
sends \"RRC connection request\" to IAB-node1 DU part.
2\. IAB-node1 DU part generates F1AP message (i.e. the initial UL RRC Message)
to carry the RRC message sent from IAB-node2 MT part.
3\. IAB-node1 MT part transmits the encapsulated uplink F1AP message to Donor-
DU via SRB.
4\. Donor-DU learns the specific message type (F1AP message of IAB-node). Then
it removes the header of adaptation layer, and encapsulates the payload2
(including the F1AP message of IAB-node) in its own F1AP message.
5\. Donor-DU sends its F1AP message which contains the IAB-node1\'s F1AP
message towards the donor-CU.
6\. After decapsulation of the F1AP message received from Donor-DU, Donor-CU
get payload2, and obtains the \"RRC connection request\" message inside
payload2 through further decapsulation.
7\. Donor-CU sends the F1AP message (e.g. DL IAB F1AP message transfer) which
contains payload2 towards the Donor-DU and routing information (e.g., IAB-node
1 address, Donor-CU address, etc.) for the payload2.
8\. Donor-DU extract payload2 from the received F1AP message (e.g. DL IAB F1AP
message transfer), and adds the adaptation layer header which includes
essential routing information for payload2.
9\. Donor-DU transmits the encapsulated downlink F1AP message (DL RRC message
transfer, inside payload2) towards IAB-node1 MT part via SRB.
10\. IAB-node1 MT part learns the specific message type (F1AP message of IAB-
node) according to the specific SRB or the message type indicator, and knows
that the F1AP message is for itself from the routing information in the
adaptation header. Then IAB-node 1 MT part removes the header of adaptation
layer, and forwards the F1AP message which contains the RRC message for IAB-
node 2 after receiver processing of the PDCP layer to IAB-node 1 DU part. The
IAB-node 1 DU part extracts the RRC message from F1-AP message.
11\. IAB-node1 DU parts send the RRC message (RRC connection setup) towards
IAB-node 2.
12\. More subsequent steps for IAB-node2 MT part to connect the network as a
normal UE, such as IAB-node sending RRC connection setup complete towards
donor-CU, authentication, PDU session establishment for connection to OAM,
security mode configuration, IAB-node2 related context configuration in RAN
side, setup of IAB-node2\'s radio bearer, etc.
{width="6.207638888888889in" height="2.790277777777778in"}
Figure 9.3-2(b): IAB-node\'s Integration Procedure Phase 2-1
**IAB-node\'s integration procedure phase 2-1: Routing update**
For CP alternative 2:
1\. Identifiers and routing information are configured by F1-AP messages.
Donor-CU sends the related F1AP message to the newly integrated IAB-node2 to
assign its identifier. Donor-CU sends another F1AP message to the intermediate
IAB-node1 to update its routing information.
2\. The adaptation layer in donor-CU and IAB-node2 can include the configured
identifier and routing information to each adaptation headers which are
attached to the BH packets. The adaptation layer in IAB-node1 decide the
destination of each BH packets based on updated routing information.
For CP alternative 4:
1\. Identifier assignments are done by using IPv6 mechanism. The donor DU
sends out ICMPv6 Router Advertisement (RA) to the IAB-node2. The IAB-node2,
when it receives the ICMPv6 RA, generates 1 or more IPv6 addresses. The IAB-
node2 announces the IP addresses to the donor DU using ICMPv6 Neighbor
Solicitation and Neighbor Advertisement. The donor DU creates a mapping
between IP addresses of the IAB-nodes and establishes the routing information
for IAB-nodes, and broadcasts the information.
2\. The adaptation layer in donor-CU and IAB-node1, IAB-node2 can use IP
addresses and the configured IP routing information for BH packets forwarding.
For CP alternative 1, 3, and 5:
1\. Identifiers and routing information are configured by adaptation layer.
Donor-CU assigns a new identifier to the IAB-node2 by sending an adaptation
layer command. Donor-CU sends another adaptation layer command to the
intermediate IAB-node1 to update the routing information.
2\. The adaptation layer in donor-CU and IAB-node2 can include the configured
identifier to each adaptation headers which are attached to the BH packets.
The adaptation layer in IAB-node1 decide the destination of each BH packets
based on updated routing information.
> Figure 9.3-2(b) depicts the procedure for CP alternative 2.
{width="6.685416666666667in" height="3.5395833333333333in"}
Figure 9.3-2(c): IAB-node\'s Integration Procedure Phase 2-2
**IAB-node\'s integration procedure phase 2-2: IAB-node DU part setup**
In this phase, the IAB-node DU part is setup via F1 interface setup procedure
between IAB-node and Donor CU.
1\. IAB-node2 DU part generates F1AP message and does security protection in
PDCP layer to get payload 3, then adds routing information (e.g. IAB-node2\'s
address, Donor-CU\'s address) in adaptation layer. After that, the IAB-node2
MT part sends the Adapt PDU to IAB-node 1 via SRB.
2\. IAB-node1 forwards the payload3 towards Donor-DU according to the routing
information contained in the adaptation layer header.
3\. Donor-DU encapsulates the payload3 in its F1AP message and sends the F1AP
message to Donor-CU.
4\. Donor-CU extracts payload3, and gets the inner F1AP message (i.e. F1 setup
request) sent from IAB-node 2, then generates DL F1AP message (i.e. F1 setup
response) in response to the IAB-node 2\'s connection request, and
encapsulates it to another outer DL F1AP message towards Donor DU.
5\. Donor-CU sends the nested F1AP message to Donor DU.
6\. Donor-DU extracts the inner DL F1AP message and adds routing information
in the adaptation layer header, and then forwards the Adapt PDU to IAB-node 1
via SRB.
7\. IAB-node1 DU part forwards the DL F1AP message to IAB-node2 MT part via
SRB.
8\. CU/ IAB-node2\'s configuration update.
## 9.4 Modifications to CU/DU architecture
### 9.4.1 Modifications of IAB-donor/IAB-node DU and IAB-donor CU for
architecture group 1
The study assumes that Rel. 15 F1-U is considered as the baseline between the
IAB-donor DU and the IAB-donor CU. If this baseline does not meet the
requirements of the SI, then potential modifications to Rel 15 F1-U will be
considered.
The study further considers modifications to the IAB-node DU that are
necessary to support F1*-U over the wireless NR backhaul.
## 9.5 Backhaul bearer setup for architecture group 1
### 9.5.1 Satisfying the QoS requirements
_IAB mode of operation may impose additional requirements on the RAN design,
in order for the RAN to support the QoS profiles imposed by the Core network.
These additional requirements may be due to e.g. the latency associated with
multiple hops, congestion and failure of wireless backhaul links. However, in
both IAB and non-IAB mode of operation, RAN may not always be able to meet the
QoS profiles requested by the core network. To handle this scenario, the TS
23.502 [6] in Section 4.3.2. defines an N2 procedure which allows the RAN to
reject the QoS profiles requested by the core network, in case the RAN cannot
meet these QoS profiles. This N2 procedure is applicable to both IAB and non-
IAB mode of operation._
With regards to the aforementioned N2 procedure, after receiving a flow QoS
request from the core network, the IAB-donor CU may inform, via F1-AP, the
corresponding access-IAB-node DU and some or all intermediate IAB-node DUs
about this flow and its QoS requirement. The inquired DUs may accept/reject
the request. In order to guarantee latency bounds, the CU may include in the
QoS request to the DUs, some assistance information (e.g. some hop-count-
related information pertaining to the route to the access-IAB-node DU).
_Since the IAB-specific constraints on QoS depend on the particular IAB
architecture option, the study captures the tradeoff among the various IAB
architecture options with respect to their impact on QoS._
### 9.5.2 Signalling Procedures
For architecture group 1, the backhaul bearer corresponds to the RLC channel
used for backhauling (between IAB-node and donor DU, or between different IAB-
nodes). Backhaul RLC channels are setup and configured on the intermediate
IAB-nodes along the UE\'s data forwarding path by the donor CU when the UE\'s
DRB and PDU session is configured, or before that. Backhaul RLC channels are
modified when the data forwarding routes change due to topology adaptation or
UE handover. Moreover, the backhaul RLC channel might be modified/released on
intermediate IAB-nodes when the UE bearer or the route changes.
The donor CU will initiate the backhaul RLC channel setup/modify procedure. As
shown in Figure 9.5-1, the UE is served by the DU of IAB-node 1, the MT part
of IAB-node 1 is served by the DU of IAB-node 2, and the MT part of IAB-node 2
is served by donor DU. Figure 9.5-1 provides an example of how backhaul RLC
channels are setup or modified as the result of the establishment or
modification of a PDU session for the UE in the following steps:
1\. The UE or network initiates the PDU session establishment/modify procedure
and a set of new or modified QoS flows needs to be supported for the access
UE. The NGC sends the PDU session resource setup/modify request message to
donor CU.
2\. Upon receiving the PDU session resource setup/modify request message, the
Donor CU establishes/modifies one or more UE DRBs, and associates each
accepted QoS flow of the PDU session to a DRB. The donor CU determines the
backhaul RLC channels that need to be established or modified on the
intermediate IAB-node to support these QoS flows along the data path.
3\. The donor CU configures the UE context and backhaul RLC channels at the
Donor DU using F1 procedures, and configures corresponding RLC channels at the
MT of IAB-node 2 using RRC procedures.
4\. The donor CU configures the UE context and backhaul RLC channels at the DU
of IAB-node 2 using F1 procedures, and configures corresponding RLC channels
at the MT of IAB-node 1 using RRC procedures.
5\. The donor CU configures the UE context and UE DRBs at the DU of IAB-node 1
using F1 procedures, and configures corresponding DRBs at the UE using RRC
procedures.
6\. The donor CU reports the PDU session resource setup/modify result to the
NGC in the PDU session resource setup/modify response message.
NOTE: With N:1 bearer mapping, UE bearers and backhaul bearers may not be
setup or modified at the same time
{width="6.6930555555555555in" height="5.316666666666666in"}
Figure 9.5.2-1: Example of backhaul bearer setup for Architecture 1
It is conceivable that there may be situations where not all the intermediate
IAB-node could successfully establish/modify the backhaul RLC channels
requested by donor CU (e.g. and IAB-node may not have sufficient resources to
fulfill the requested QoS). For example, the set of backhaul RLC channels
accepted at each intermediate IAB-node could be different. As a result,
further enhancement may be necessary for the backhaul bearer setup/modify
procedure between DU and CU.
### 9.5.3 QoS parameters
Establishment or modification of the UE context at the; Donor DU, the UE\'s
access IAB-node, and intermediate IAB-nodes, identifies the configured QoS
parameters for the UE\'s DRBs. The QoS profile for the UE and its bearers
comprises a number of parameters that define different aspects that are
considered, guaranteed, or enforced by the network nodes in order to provide
the appropriate QoS treatment for each DRB. For example, a minimum bit rate
should be insured by the IAB network for GBR bearers. Hence, it is important
to understand which parameters of the QoS profile are relevant to the access
IAB-node and intermediate IAB-nodes.
**In the downlink, all the traffic first arrives at the IAB-donor, and the
IAB-donor is able to control the maximum bitrate by flow control or other
mechanisms. Hence, downlink UE-AMBR does not need to be enforced by the
intermediate IAB-nodes, since it already enforced by the IAB-donor directly.
For DL GBR bearers, similar to downlink UE-AMBR, the IAB-donor can ensure that
the MFBR is not exceeded by controlling the transmission rate of the downlink
GBR bearer on the Uu interface between Donor DU and MT of 1^st^ IAB-node.
Therefore, intermediate IAB-nodes may not need to enforce the MFBR for DL GBR
bearers.**
**A similar mechanism can be applied for the uplink. The access IAB-node
serving the UE ensures the UE-AMBR and MFBR are not exceeded on the Uu
interface between the UE and its serving IAB-node. Thus, the UE-AMBR and MFBR
also cannot be exceeded on upstream backhaul links. Consequently, intermediate
IAB-nodes may not need to enforce uplink UE-AMBR nor MFBR for uplink GBR UE
bearers.**
**For GFBR, the UE\'s access IAB-node guarantees the GFBR by appropriately
scheduling of the UE. In order to guarantee the GFBR on backhaul links, the
intermediate IAB-nodes should also be informed of the GFBR of a UE\'s bearer.
However, for the case where many UE-bearers are mapped to the same BH RLC
channel, GFBR per UE bearer may not need to be supported for the** N:1 mapped
bearers**.**
NOTE: Table 9.5.3-1 does not imply that signaling of QoS parameters needs to
be optimized for intermediate IAB-nodes. Some QoS parameters may be signaled
to intermediate IAB-nodes, even if this is not strictly required. The
specifics of how QoS is supported at IAB-nodes is up to network
implementation.
Table 9.5.3-1 below provides a summary of these QoS parameters, and potential
impacts to intermediate IAB-nodes.
Table 9.5.3-1: QoS Parameters for Intermediate IAB-nodes
+----------------------+----------------------+----------------------+ | QoS related | Description | Use at Intermediate | | parameters | | IAB-nodes | +----------------------+----------------------+----------------------+ | UE AMBR-Downlink | The downlink maximum | May not be critical | | | bitrate to be | to enforce UE | | | enforced for all | AMBR-Downlink at | | | non-GBR QoS flows | intermediate | | | per UE. | IAB-node | +----------------------+----------------------+----------------------+ | UE AMBR-Uplink | The uplink maximum | May not be critical | | | bitrate to be | to enforce UE | | | enforced for all | AMBR-Uplink at | | | non-GBR QoS flows | intermediate | | | per UE. | IAB-node | +----------------------+----------------------+----------------------+ | Allocation and | The QoS parameter | Needed to correctly | | Retention Priority | ARP contains | prioritize bearers | | (ARP) | information about | for admission | | | the priority level, | control or | | | the pre-emption | pre-emption | | | capability and the | | | | pre-emption | | | | vulnerability. This | | | | allows a node to | | | | decide whether a new | | | | QoS Flow may be | | | | accepted or needs to | | | | be rejected in the | | | | case of resource | | | | limitations. It may | | | | also be used to | | | | decide which | | | | existing QoS Flows | | | | to pre-empt during | | | | periods of resource | | | | limitation. | | +----------------------+----------------------+----------------------+ | 5QI | The characteristics | Needed to | | | of 5QI includes: | differentiate QoS | | | Resource Type (GBR | treatment for | | | or Non-GBR), | bearers | | | Priority level, | | | | Packet Delay Budget, | | | | Packet Error Rate, | | | | Averaging window, | | | | Maximum Data Burst | | | | Volume. | | +----------------------+----------------------+----------------------+ | Reflective QoS | The Reflective QoS | Used at SDAP layer | | Attribute (RQA) | Attribute (RQA) is | for reflective QoS | | | an optional | functionality. | | | parameter which | Needed at least for | | | indicates that | bearers with SDAP at | | | certain traffic (not | intermediate | | | necessarily all) | IAB-node (e.g. MT | | | carried on this QoS | bearers) | | | Flow is subject to | | | | Reflective QoS. | | +----------------------+----------------------+----------------------+ | GBR QoS Information | The GBR Flow | Used to ensure bit | | | Information | rate requirements | | | includes: | for GBR Type | | | | bearers. May not be | | | GFBR; | critical to enforce | | | | MFBR at Intermediate | | | MFBR; | IAB-nodes. | | | | | | | Notification | **GFBR per UE bearer | | | Control; | may not need to be | | | | supported for the** | | | Maximum Packet Loss | N:1 mapped bearers | | | Rate. | | +----------------------+----------------------+----------------------+
## 9.6 IAB Topology Discovery
### 9.6.1 Discovery procedure for architecture group 1
In architecture group 1, topology-, route- and resource management is
centrally managed by the CU-CP.
When an IAB-node attaches to the IAB-topology, the CU-CP learns from the new
IAB-node-MT\'s RRC connection setup procedure about the parent, where the new
MT connects.
When a DU on the new IAB-node subsequently launches its F1-AP connection with
the CU-CP, the CU-CP has to learn about the DU\'s location within the IAB-
topology, i.e. on which IAB-node it resides. The following options may be
considered:
> **Option 1** : The DU includes into an F1-AP message an identifier of the
> collocated MT. This may, for instance, be a TNL or RNL identifier. The
> identifier may have been assigned by the CU-CP to the MT before.
>
> **Option 2** : The MT includes into an RRC message an identifier for the
> collocated DU. This identifier may have been assigned by the CU-CP to the DU
> before.
### 9.6.2 Discovery procedure for architecture group 2
One example to discover the IAB topology is based on each IAB-node determining
a one-hop hierarchy, linking the IAB-node identifier with the node identifier
of the serving upstream node. The node identifier may be cell ID, or other
identifiers (to be further studied). The process is summarized as follows
(using cell ID as an example, but other identifiers are not precluded):
1\. The IAB-node MT obtains the Cell ID(s) of the upstream IAB-node or IAB-
donor it is accessing (e.g. via cell broadcast).
2\. The gNB part of the IAB-node is set up and the IAB-node MT obtains the
Cell ID(s) of its collocated gNB.
3\. The IAB-node then associates the Cell IDs of the upstream cells with the
Cell IDs of its own gNB (obtained in step 1). This creates one or more
(Upstream-Node-ID, Downstream-Node-ID)-associated cell pairs.
These first 3 steps are illustrated in figure 9.6.2-1, where NGCI is shown as
the Cell ID. PCI and/or other identifiers may additionally be included.
Figure 9.6.2-1: IAB-node-discovery steps 1-3
4\. New Cell ID Pairs are sent by the IAB-node MT to the IAB-node\'s gNB via
RRC messaging.
5\. For architecture 2a, the IAB-node may contain the gNB serving one or more
downstream IAB-nodes. In this case, the IAB-node MT additionally forwards to
its CU any Cell ID pairs received from a downstream node.
6\. If the IAB-node\'s gNB receiving the cell pair information is different
form the IAB-donor gNB, then the IAB-node\'s gNB sends the received (Upstream-
Node-ID, Downstream-Node-ID)-pairs to the IAB-donor (e.g: via Xn messaging).
When this process is repeated at each IAB-node and the cell pairs recorded for
RRC-connected IAB-nodes, the result is an IAB-node topology table as shown in
Figure 9.6.2-2. In this manner, each IAB-node and the IAB-donor maintain a
complete view of the subtending IAB topology.
Figure 9.6.2-2: Example for topology tables
## 9.7 Topology adaptation
### 9.7.1 Goals of IAB topology adaptation
Topology adaptation has the goal to change the IAB-topology in order to ensure
that the IAB-node can continue to operate (incl. providing coverage and end
user service continuity) even if the current active backhaul path is degraded
or lost.
It is also desirable to minimize service disruption and packet loss during
topology adaptation.
IAB Topology adaptation can be triggered by integration of a IAB-node to the
topology, detachment of an IAB-node from the topology, detection of backhaul
link over load, deterioration of backhaul link quality or link failure, or
other events.
### 9.7.2 Tasks pertaining to IAB topology adaptation
Topology adaptation includes the following tasks:
\- Information collection
\- Information includes, e.g., backhaul link quality, link- and node-load,
neighbor-node signal strength.
\- Collection applies to sufficiently large area of the IAB topology.
\- Topology determination
\- Deciding best topology based on the collected info and following a
performance **objective**.
\- Topology reconfiguration
\- Adjusting topology based on topology determination, through e.g.
establishing new connections, releasing other connections, changing routes,
etc.
The following discussion mainly focuses on topology reconfiguration. In this
discussion, it is assumed that existing Rel-15 procedures for measurements,
handover, dual-connectivity and F1-interface management are baseline for
topology reconfiguration in architecture 1. **Furthermore, Rel-16 related
procedures should be considered when these procedures are available.**
### 9.7.3 Topologies considered for architecture 1a
Figure 9.2.1 considers two types of topologies:
\- Spanning tree (ST) topology;
\- Directed acyclic graph (DAG) topology.
In ST-topologies, there is only one route between each IAB-node and the IAB-
donor. In architecture group 1, where the IAB-donor holds one CU with one or
multiple DUs, the graph underneath each IAB-donor DU represents a separate ST.
In DAG-topologies, redundant routes are supported between each IAB-node and
the CU. In architecture group 1, such route redundancy may involve multiple
IAB-donor DUs. Topologically redundant routes may simultaneously run traffic.
It is also possible to keep one route active and assign backup status to a
redundant route. In order to separate this case from the ST topology which
could be dynamically reconfigured, we assume at least control plane
connectivity is simultaneously maintained on all paths in the DAG topology.
### 9.7.4 Topology adaptation scenarios in architecture 1a
**1\. Intra-Donor CU, Intra-Donor DU:**
In this scenario, the IAB-node migrates from one parent node to another parent
node under same IAB-donor DU as shown in Fig. 9.7.4-1.
Figure 9.7.4-1: Topology Adaptation: Intra-Donor CU, Intra-Donor DU
The Donor-CU initiates the topology adaptation based on measurement reports
from migrating IAB-node\'s MT and includes other IAB-node measurements within
the configured topology.
This scenario triggers the following:
a. Establishment of new route between the migrating IAB-node and the IAB-donor
DU. This includes the establishment or reconfiguration of RLC-channels.
b. Release the old routes and contexts.
**2\. Intra-Donor CU, Inter-Donor DU**
In this scenario, the IAB-node migrates from a parent node served by one IAB-
donor DU to a parent node served by a different IAB-donor DU, both connected
to same IAB-donor-CU as shown in Fig 9.7.4-2.
Figure 9.7.4-2: Topology Adaptation: Intra-Donor CU, Inter-Donor DU
The Donor-CU initiates topology adaptation based on measurement reports from
migrating IAB-node\'s MT and includes other IAB-node measurements within the
configured topology.
This scenario triggers the following:
a. Establishment of new route between the migrating IAB-node and the target
IAB-donor DU. This includes the establishment or reconfiguration of RLC-
channels.
b. Reconfiguration of F1-C association and F1-U tunnels. This involves the
redirection of F1-U tunnels and F1-AP onto new routes.
c. Release of old routes and contexts.
**3\. Inter-Donor CU, Inter-Donor DU**
In this scenario, the IAB-node migrates from a parent node served by one IAB-
donor DU to a parent node served by a different IAB-donor DU connected to a
different IAB-donor-CU, as shown in Fig. 9.7.4-3.
Figure 9.7.4-3: Topology Adaptation: Inter-Donor CU, Inter-Donor DU
The IAB-donor-CU initiates the topology adaptation based on measurement
reports from migrating IAB-node\'s MT and includes measurements from other
IAB-nodes within the configured topology.
This would be an inter-CU HO scenario that would result into the following:
a. Establishment of new F1-C association and F1-U tunnels between the
migrating IAB-node and the target CU, while releasing the existing F1-C
associations and F1-U tunnels with serving CU.
b. Establishment of new route between the migrating IAB-node and the target
IAB-donor DU.
c. This may result into inter-CU handover of all access UEs and subtending
IAB-nodes connected below the migrating IAB-node.
d. Release of old contexts and routes.
The 3^rd^ scenario may need further analysis.
### 9.7.5 Principal steps of intra-CU topology adaptation in architecture 1a
Figure 9.7.5-1: Topology adaptation in ST: The green IAB-node migrates from a
source parent to a target parent.
The following discussion focuses on the procedure for topology adaptation
within a ST using architecture 1a. This discussion only addresses topology
changes underneath the IAB-donor.
Figure 9.7.5-1 shows a ST topology with five IAB-nodes connected to an IAB-
donor which holds two DUs. One IAB-node in this topology, referred to as
_migrating IAB-node_ , changes its attachment point from a source parent node
to a target parent node. The migrating IAB-node has one UE attached.
Figure 9.7.5-1a shows the topology before the migration. Figure 9.7.5-1b shows
the topology after migration, and it indicates the links and routes that are
established and released.
Figure 9.7.5-2: Procedure for adaptation of ST topology as shown in Figure
9.7.5-1
It is assumed that topology adaptation is initiated by the CU based on
measurements reported by the migrating-IAB-node\'s MT. The CU\'s topology
adaptation decision may include measurements by other IAB-nodes. The
measurements may be based on a measurement configuration the IAB-nodes
received from the CU before.
Figure 9.7.5-2 shows the topology adaptation procedure for the migrating IAB-
node. In this procedure, the migrating IAB-nodes\' MT applies the steps of
_Inter-gNB-DU mobility_ as described in TS 38.401 section 8.2.1.1 [7] (black
and green arrows in Fig. 9.7.5-2). Additional signalling is supported for
route changes of on-path IAB-nodes and on-path IAB-donor DUs (blue arrows in
Fig. 9.7.5-1).
The procedure contains the following steps (all non-bold font is based on TS
38.401 section 8.2.1.1 [7]):
1\. The MT sends a _Measurement Report_ message to the source IAB-node DU.
This report is based on a _Measurement Configuration_ the migrating-IAB-
node\'s MT received from the IAB-donor CU before.
2\. The source IAB-node DU sends an Uplink RRC Transfer message to the gNB-CU
to convey the received _Measurement Report_.
3\. The gNB-CU sends an UE Context Setup Request message to the target IAB-
node DU to create an MT context and setup one or more bearers.
\- IAB-specific:
\- These bearers are used by the MT for its own data and signalling traffic.
\- In addition, one or more RLC-channels are established for backhauling.
4\. The target IAB-node DU responds to the gNB-CU with an UE Context Setup
Response message.
5\. The gNB-CU sends a UE Context Modification Request message to the source
IAB-node DU, which includes a generated _RRCConnectionReconfiguration_ message
and indicates to stop the data transmission for the MT.
\- IAB-specific:
\- For IAB, the retransmission of PDCP PDUs and the use of Downlink Data
Delivery Status as discussed in TS 38.425 clause 5.4.2 [8] are potentially
relevant.
6\. The source IAB-node DU forwards the received
_RRCConnectionReconfiguration_ message to the MT.
7\. The source IAB-node DU responds to the gNB-CU with the UE Context
Modification Response message.
8\. A Random Access procedure is performed at the target IAB-node DU.
9\. The MT responds to the target IAB-node -DU with an
_RRCConnectionReconfigurationComplete_ message.
10\. The target IAB-node DU sends an Uplink RRC Transfer message to the gNB-CU
to convey the received _RRCConnectionReconfigurationComplete_ message.
Downlink packets are sent to the MT. Also, uplink packets are sent from the
MT, which are forwarded to the gNB-CU through the target IAB-node DU.
**A. For IAB: The gNB-CU configures a new adaptation-layer route on the
wireless backhaul between migrating IAB-node and IAB-donor DU via the target
IAB-node. It further configures a forwarding entry between the fronthaul on
the new route on the wireless backhaul.** **These configurations may be
performed at an earlier stage, e.g. right after step 4.** **The details of
this step depend on the particular UP and CP transport option (see below).**
**B. For IAB: The gNB-CU redirects all F1-U tunnels for the migrating-IAB-node
DU from the old route to the new route. It further redirects F1-C for the
migrating-IAB-node DU from the old route to the new route. While step B has to
follow step A it may be performed at an earlier stage as described under step
A. The details of this step depend on the particular UP and CP transport
option (see below).**
11\. The gNB-CU sends an UE Context Release Command message to the source IAB-
node DU.
12\. The source IAB-node -DU releases the MT context and responds the gNB-CU
with an UE Context Release Complete message.
**C. For IAB: The gNB-CU releases the old adaptation-layer route on the
wireless backhaul between migrating IAB-node and IAB-donor DU via the source
IAB-node.** **It further releases the forwarding entry between the fronthaul
on the old route on the wireless backhaul. The detailed steps depend on the
particular UP and CP transport option (see below).**
Figure 9.7.5-3: Topology adaptation in ST: The migrating IAB-node has a
descendant IAB-node.
Figure 9.7.5-3 shows a ST topology where the migrating IAB-node has a
descendant IAB-node. The figures illustrate that the above steps A, B, and C
also have to be conducted for all IAB-nodes that are descendant to the
migrating IAB-node.
### 9.7.6 Principal steps of inter-CU topology adaptation in architecture 1a
The following discussion focuses on the procedure for topology adaptation
within a ST using architecture 1a. This discussion only addresses topology
changes between IAB-donors.
The inter-CU topology adaptation procedure described may cause multiple
subsequent RLFs for descendant IAB-nodes and UEs of the migrating IAB-node.
This may cause long service interruption for the UEs. Further enhancement is
needed to reduce this service interruption.
Figure 9.7.6-1: Topology adaptation in ST: The green IAB-node migrates from a
source parent to a target parent of different CU.
Figure 9.7.6-1 shows a ST topology with five IAB-nodes connected to two IAB-
donors. One IAB-node in this topology, referred to as _migrating IAB-node_ ,
changes its attachment point from a source parent node connecting to a source
IAB-donor to a target parent node connecting to a target IAB-donor. The
migrating IAB-node has one UE attached.
Figure 9.7.6-1a shows the topology before the migration. Figure 9.7.5-1b shows
the topology after migration, and it indicates the links and routes that are
established and released.
Figure 9.7.6-2: Procedure for adaptation of ST topology as shown in Figure
9.7.6-1
It is assumed that topology adaptation is initiated by the CU based on
measurements reported by the migrating-IAB-node\'s MT. The CU\'s topology
adaptation decision may include measurements by other IAB-nodes. The
measurements may be based on a measurement configuration the IAB-nodes
received from the CU before.
Figure 9.7.6-2 shows one example for the topology adaptation procedure for the
migrating IAB-node. In this procedure, the migrating IAB-nodes\' MT applies
the steps of _Inter-gNB_ handover as described in TS 38.401 section 8.9.4 [7]
(black arrows of steps 1 to 8 and 10 to 14 in Fig. 9.7.6-2). Additional
signalling is supported for route changes of on-path IAB-nodes and on-path
IAB-donor DUs (blue boxes in Fig. 9.7.6-2).
When the migrating IAB-node\'s MT connects to the target CU during Inter-gNB
handover, the IAB-node\'s DU has to discontinue service since it loses
connectivity to its source CU. Consequently, UEs connected to this DU observe
RLF.
After the MT\'s handover has completed and a new route has been established,
the migrating IAB-node\'s DU establishes a new F1*-C connection to the target
CU, receives configuration information and re-establishes service. This allows
the UE to perform RRC Connection Reestablishment with the target CU via the
reconfigured DU.
The procedure contains the following steps (all non-bold font is based on TS
38.401 section 8.2.1.1 [7]):
1\. The MT sends a _Measurement Report_ message to the source IAB-node DU.
This report is based on a _Measurement Configuration_ the migrating-IAB-
node\'s MT received from the gNB-CU1 before.
2\. The source IAB-node DU sends an Uplink RRC Transfer message to the gNB-CU1
to convey the received _Measurement Report_.
3\. The gNB-CU1 sends an Xn Handover Request message to gNB-CU2 to initiate
handover preparation. The handover preparation is also performed for all
access UEs and subtend IAB-MTs.
4\. The gNB-CU2 sends an UE Context Setup Request message to the target IAB-
node DU to create an MT context and setup one or more bearers.
**IAB-specific:**
**\- These bearers are used by the MT for its own data and signalling
traffic.**
**\- In addition, one or more RLC-channels are included for backhauling.**
5\. The target IAB-node-4-DU responds to the gNB-CU2 with an UE Context Setup
Response message.
6\. The gNB-CU2 responses to the gNB-CU1 with a Xn Handover Request
Acknowledge message.
7\. The gNB-CU1 sends a UE Context Modification Request message to the IAB-
node 3, which includes a generated _RRCReconfiguration_ message for the MT.
8\. The IAB-node 3 forwards the received _RRCReconfiguration_ message to the
MT. The MT recognizes that the _RRCReconfiguration_ is association with
migration to a different IAB-donor CU.
9\. The gNB-CU1 sends an SN Status Transfer message to gNB-CU2.
10\. The DU on IAB-node-5 discontinues service since it loses F1*-C
connectivity to gNB-CU-1.
11\. The IAB-node-5-MT discovers IAB-node-4-DU, synchronizes and conducts
Random Access Procedure.
12\. The IAB-node-5-MT sends _RRCReconfigurationComplete_ to IAB-node-4-DU.
13\. IAB-node-4-DU forwards the _RRCReconfigurationComplete_ message via
Uplink RRC Transfer to gNB-CU2.
14\. gNB-CU2 performs path-switch procedure for the IAB-node-5-MT with the
NGC.
15\. gNB-CU2 sends context-release request to gNB-CU1.
**A. For IAB: The gNB-CU configures a new adaptation-layer route on the
wireless backhaul between migrating IAB-node and IAB-donor DU via the target
IAB-node. It further configures a forwarding entry between the fronthaul on
the new route on the wireless backhaul.** **These configurations may be
performed at an earlier stage, e.g. right after step 4.** **The details of
this step depend on the particular UP and CP transport option (see below).**
> **B. The DU on IAB-node-5 initiates a new F1*-C connection to the new CU-CP.
> This procedure is the same as IAB-node setup phase 2.2 described in section
> 9.3. The DU will obtain a new configuration during that procedure which,
> e.g., a new PCI. After that, the DU resumes service.**
NOTE: Another possibility is to replace steps 11 to B\' with the IAB-node\'s
integration procedure as discussed in section 9.3.
16\. The UE discovers RLF to the old DU.
17\. The UE discovers and selects the new DU configured on IAB-node-5 (or any
other DU).
18\. The UE conducts random access procedure with this DU.
19\. The UE and the CU-2 conducts _RRCConnectionReestablishment_ procedure via
IAB-node 5.
20\. gNB-CU2 performs path-switch procedure for the UE with the NGC.
**C. For IAB: The gNB-CU1 releases the old adaptation-layer route on the
wireless backhaul between migrating IAB-node and IAB-donor DU via the source
IAB-node.** **It further releases the forwarding entry between the fronthaul
on the old route on the wireless backhaul. The detailed steps depend on the
particular UP and CP transport option (see below).**
Descendent IAB-nodes of IAB-node-5 and their UEs undergo BH RLF-recovery
procedure as shown for the UE in the above procedure. The source CU can avoid
such BH RLF-recovery procedure for descendant nodes by only migrating the leaf
nodes of its topology.
### 9.7.7 Detailed steps of topology adaptation in architecture 1a
The IAB-related steps A, B and C depend on the particular UP and CP transport
option chosen. Some details related to these UP and CP options are provided
here:
**Step A** : Establishment of new route:
\- Route establishment uses the same procedure as during IAB-node setup.
Routing entries need to be configured on at least all IAB-nodes that reside on
the section of the new path that does not overlap with the old path. In case
new routing identifiers are used for the new route, all IAB-nodes on the new
path need to be configured.
\- A forwarding entry needs to be configured on the new IAB-donor DU to
interconnect the TNL between IAB-donor DU and CU with the new adaptation-layer
route between the new IAB-donor DU and the migrating IAB-node. The details of
this forwarding entry depend on the identifiers used for routing on the
wireless backhaul.
\- In case the migrating IAB-node supports an IP-address on the adaptation
layer (e.g. CP alternative 4), which is derived from a fronthaul IP-prefix
owned by the IAB-donor DU, the IAB-node needs to obtain a new IP address when
the IAB-donor DU changes. The new IP address can be obtained in the same
manner as during IAB-node setup.
\- In case end-to-end RLC is supported between UE and IAB-donor DU, IAB-
topology adaptation as discussed in this context can be accomplished in the
following manner:
\- Option 1: The entire RLC-state is migrated from the old IAB-donor DU to the
new IAB-donor DU, which can remain transparent to the UE.
\- Option 2: The RLCs of all the bearers of all the UEs under the migrating
IAB-node and the UEs under the descendant IAB-nodes of the migrating IAB-node
are reset and re-established, which is not transparent to the UEs.
\- In case hop-by-hop RLC is supported between UE and IAB-donor DU, IAB-
topology adaptation as discussed in this context may lead to data loss for UL
traffic. TR 38.874 section 8.2.3 discusses potential remedies.
**Step B** : Redirection of F1-U tunnels and F1-AP onto new route:
\- In case the IAB-donor DU changes during topology adaptation, the downlink
F1-TNL-end points have to be reconfigured. The TNL addresses for F1 are either
those of the IAB-donor DU (CP alternative 1, 2, and 3) or of the migrating
IAB-node (CP alternative 4). In this latter case, the migrating IAB-node\'s IP
address changes during topology adaptation as discussed under Step A.
\- In case the GTP-U tunnels for the IAB-node are terminated at the IAB-donor
DU (e.g. UP alternative a, b and c) these tunnels need to be moved to the
target IAB-donor DU. It is assumed this can be done by allocating new GTP
TEIDs when the forwarding is updated in the target IAB-donor DU.
\- In case an F1-AP/SCTP connection between the CU and donor-DU is used to
deliver CP message towards the IAB-node (e.g. CP alternative 1-3), the
F1-AP/SCTP connection between the CU and the target IAB-donor DU need to be
updated to allow forwarding of CP message to the IAB-node.
**Step C** : Release of old route:
\- Routing entries of the old route are released as long as they are not used
for forwarding on the new path.
\- Also, forwarding entries are released on the old IAB-donor DU that
interconnect the TNL between IAB-donor DU and CU with the old adaptation-layer
route. The details of this forwarding entry depend on the identifiers used for
routing on the wireless backhaul.
### 9.7.8 Goals of Topological Redundancy
Topological redundancy has the goal to enable robust operation, e.g., in case
of backhaul link blockage, and to balance load across backhaul links.
Establishment and management of topological redundancy is part of topology
adaptation.
Mechanisms for topology adaptation for IAB should be designed to ensure
support of various multi-connectivity options of the IAB architecture design
as described in section 9.2. Under a single IAB-donor DU the following two
cases for multi-connectivity in an IAB deployment should be considered. Note
that multi-connectivity solutions could also be considered for the case where
the redundant routes are to different IAB-donor DUs:
\- Case 1: UE is multi-connected to the IAB-donor via redundant routes
(traditional DC scenario).
\- Case 2: IAB-node is multi-connected to the IAB-donor node via redundant
routes.
Multi-connectivity of IAB-node (Case 2 above) can be supported by:
\- using a single MT function in the IAB-node,
\- using several independent MT functions in the IAB-node, where each MT
function makes an independent connection to the network (using normal MT
setup).
Regardless of whether a single MT or multiple MT connections are used, the
IAB-node will be configured with multiple backhaul RLC-channels associated
with the different paths.
Multi-connectivity solutions designed for IAB should take into account the
protocol stacks available at the IAB-node and IAB-donor depending on the
architecture. This means that, for example, in some alternatives for
architecture group 1a, a multi-path framework needs to be designed potentially
based on the adaptation layer.
### 9.7.9 Adding redundant routes in architecture 1a
Figure 9.7.9-1: Topology adaptation to create redundant routes for green IAB-
node.
NOTE: For the purpose of explanation, the MCG-path and SCG-path in this
section are used as an example to indicate two different paths.
Figure 9.7.9-1 shows a ST topology with five IAB-nodes connected to an IAB-
donor which holds two DUs. One IAB-node in this topology, referred to as
_dual-connecting IAB-node_ , starts out with an MCG-link to a parent IAB-node
DU and it adds an SCG-link to another IAB-node DU. In this example, the dual-
connecting IAB-node has two UE attached, where each UE has a default-bearer
established with F1-U GTP-U 1 and F1-U GTP-U 2, respectively. After connecting
to the SCG, an additional route is established between the dual-connecting
IAB-node DU and the CU via the SCG-path.
Since the new route uses a different IAB-donor DU, its southbound end point is
associated with a different IP address on the wireline fronthaul. The CU can
add this IP address as an alternative SCTP endpoint for F1-C to the dual-
connecting IAB-node DU. This is one example of achieving enhanced CP
robustness can be achieved for the dual-connecting IAB-node DU.
In this example, the CU further migrates traffic for UE 2 to the new route
while it keeps traffic for UE1 at the initial route. In this manner, load is
balanced over both routes.
Figure 9.7.9-1a shows the topology before addition of the SCG. Figure 9.7.9-1b
shows the topology after establishment of SCG link and additional route.
Figure 9.7.9-2: Procedure for adding SCG link and redundant route to dual-
connecting IAB-node shown in Figure 9.7.9-1
It is assumed that topology adaptation is initiated by the CU based on
measurements reported by the dual-connecting-IAB-node MT. The CU\'s topology
adaptation decision may include measurements by other IAB-nodes. The
measurements may be based on a measurement configuration the IAB-nodes
received from the CU before.
Figure 9.7.9-2 shows the topology adaptation procedure for the dual-connecting
IAB-node. This procedure leverages signalling for adding a link to a SCG as
defined for NR in Rel-15 (black box in Fig. 9.7.9-2). Additional signalling is
supported for route addition (blue box in Fig. 9.7.9-2).
The procedure contains the following steps:
1\. A connection to the SCG on established for the dual-connecting IAB-node MT
using Rel-15 NR procedures.
A. The gNB-CU configures a new adaptation-layer route (SCG-route) on the
wireless backhaul between dual-connecting IAB-node and IAB-donor DU via the
SCG IAB-node. It further configures a forwarding entry between the fronthaul
and the new route on the wireless backhaul. The detailed steps depend on the
particular UP and CP transport option (see below).
B. For IAB: The gNB-CU adds an alternative SCTP path for F1-C of the dual-
connecting-IAB-node DU. The detailed steps depend on the particular CP
transport option (see below). The gNB-CU further redirects the F1-U tunnel for
UE 2 from the old route to the new route.
Figure 9.7.9-3: Procedure for adding SCG link and redundant route to a
descendant IAB-node
Figure 9.7.9-3 shows establishment of route redundancy for a descendant IAB-
node (pink) of the dual-connecting IAB-node (green). The figure illustrates
that the above steps A and B also have to be conducted for this descendant
IAB-node.
### 9.7.10 Detailed steps of route addition in architecture 1a
The IAB-related steps A and B depend on the particular UP and CP transport
option chosen. Some details related to these UP and CP options are provided
here:
**Step A** : Establishment of new route:
\- Route establishment uses the same procedure as during IAB-node setup.
Routing entries need to be configured on at least all IAB-nodes that reside on
the section of the new path that does not overlap with the old path. In case
new routing identifiers are used for the new route, all IAB-nodes on the new
path need to be configured.
\- A forwarding entry needs to be configured on the new IAB-donor DU to
interconnect the TNL between IAB-donor DU and CU with the new adaptation-layer
route between the new IAB-donor DU and the migrating IAB-node. The details of
this forwarding entry depend on the identifiers used for routing on the
wireless backhaul.
\- In case the migrating IAB-node supports an IP-address on the adaptation
layer (e.g. CP alternative 4), which is derived from a fronthaul IP-prefix
owned by the IAB-donor DU, the IAB-node needs to obtain a new IP address when
the IAB-donor DU changes. The new IP address can be obtained in the same
manner as during IAB-node setup.
\- In case end-to-end RLC is supported between UE and IAB-donor DU, migration
of the UE-bearer to the new route as discussed in this context can be
accomplished in the following manner:
\- Option 1: The entire RLC-state is migrated from the old path IAB-donor DU
to the new path IAB-donor DU, which can remain transparent to the UE.
\- Option 2: RLC is reset and re-established, which is not transparent to the
UE.
\- In case hop-by-hop RLC is supported between UE and IAB-donor DU, migration
of the UE-bearer as discussed in this context may lead to data loss for UL
traffic. TR 38.974 section 8.2.3 discusses potential remedies.
**Step B** : Redirection of F1-U tunnels and F1-AP onto new route:
\- In case the IAB-donor DU is different for the SCG route that the MCG route,
the F1-TNL-end points have to be reconfigured. The TNL addresses for F1 are
either those of the IAB-donor DU (CP alternative 1, 2, and 3) or of the
migrating IAB-node (CP alternative 4). In this latter case, the migrating IAB-
node\'s IP address changes during topology adaptation as discussed under Step
A.
\- For UP, the CU configures new F1*-U tunnels with the dual-connecting-IAB-
node\'s DU via UE Context Modification Request/Response handshake.
\- For CP, the CU can add the new F1-C TNL address as an alternative IP-
address to the F1-C\'s SCTP layer.
### 9.7.11 Route Management
In case of multiple hops, routing in the RAN part is an important issue that
enables a packet to be forwarded via multiple intermediate IAB-nodes between
the IAB-donor and a specific UE. This includes establishment of routes, e.g.
when the IAB-node connects to the network or when the topology changes. It
further includes the selection of a route in case multiple concurrent routes
exist between the same end points, e.g. IAB-donor DU and IAB-node. One
possible solution is destination-address-based routing, which has the
following characteristics:
\- A routing table including routing information is configured on each node,
such as IAB-donor DU or IAB-node. This routing table can be configured by the
CU-CP (e.g. via F1-AP or RRC). The routing information may contain:
\- destination address;
\- next-hop node, BH link or BH RLC channel where packet is forwarded;
\- cost metric.
\- The destination address is carried in the packet header. For downlink data
transmissions, this destination address is added by the IAB-donor DU and the
destination address could be the target IAB-node-ID or UE-ID. For uplink data
transmissions, the destination address may be the donor-DU address.
\- For each packet, an intermediate IAB-node selects the next hop node for
data transmission according to the routing table and the destination address
carried in the packet\'s adaptation info. In case the routing table holds
multiple next-hop entries for the same destination address, it selects the
next hop based on the cost metric.
One example of route selection in a redundant topology is provided in Figure
9.7.11-1.
Figure 9.7.11-1: An example of route selection
Since IAB backhaul-link-failure (BH RLF) and node congestion may occur
frequently and swiftly in IAB networks, route selection under multi-
connectivity (topological redundancy) can achieve a fast response to RLF and
overloading of IAB-nodes. In essence, route selection can deal with short-term
changes in IAB networks, whereas topology adaptation can only deal with long-
term changes.
The cost metric can be defined based on the average (long-term) cost of
sending a packet between the two IAB-nodes in the current topology. The next-
hop node can be selected at every IAB-node with the least cost metrics to the
destination node, under the current conditions of satisfied link quality and
buffer load.
The cost metric can be either calculated by the CU and signalled to the IAB-
node, or it can be calculated or updated locally at every IAB-nodes.
Since consecutive UE packets may take different or opportunistic UL and DL
routes in reaching the destination, mechanisms for dealing with out-of-order
packets can be supported.
### 9.7.12 Backhaul-link-failure recovery scenarios
Due to various reasons, d**ifferent scenarios of backhaul-link failure may
happen in IAB networks**. In the following, some example scenarios are
illustrated for backhaul-link failure. Each scenario is depicted with an
illustrative figure (Figures 9.7.12-1 to 9.7.12-3) aiming at establishing a
route between IAB-donor and IAB-node D after BH-link failure, where:
\- Nodes A1 and A2 are IAB-donor nodes; nodes B to H are IAB-nodes;
\- The blue dashed line represents the established connection between two
nodes;
\- The red arrow represents the established route after BH-link failure, and
the red dashed line represents the new established connection.
Figure 9.7.12-1: Example of backhaul-link failure scenario 1
**Scenario 1**
In this scenario (depicted in Figure 9.7.12-1), the backhaul-link failure
occurs between on upstream IAB-node (e.g., IAB-node C) and one of its parent
IAB-nodes (e.g. IAB-node B), where the upstream IAB-node (IAB-node C) has an
additional link established to another parent node (IAB-node E).
Figure 9.7.12-2: Example backhaul-link failure scenario 2
**Scenario 2**
In this scenario (depicted in Figure 9.7.12-2), the backhaul-link failure
occurs between an upstream IAB-node (e.g. IAB-node C) and all its parent IAB-
nodes (e.g. IAB-nodes B and E). The upstream IAB-node (IAB-node C) has to
reconnect to a new parent node (e.g. IAB-node F), and the connection between
IAB-node F and IAB-node C is newly established).
Figure 9.7.12-3: Example backhaul-link failure scenario 3
**Scenario 3**
In this scenario (depicted in Figure 9.7.12-3), the backhaul-link failure
occurs between IAB-node C and IAB-node D. IAB-node D has to reconnect to the
new IAB-donor (e.g. IAB-donor A2) via a new route.
### 9.7.13 Principal steps of BH RLF recovery in architecture 1a
In the following, three scenarios of backhaul RLF and subsequent recovery are
discussed:
\- Scenario 1: Recovery via an existing BH link (Figures 9.7.13-1, -2).
\- Scenario 2: Recovery via a newly established BH link using the same IAB-
donor CU (Figures 9.7.13-3, -4).
\- Scenario 3: Recovery via a newly established BH link using a different IAB-
donor CU (Figures 9.7.13-5, -6).
Figure 9.7.13-1: Scenario 1: BH topology with BH RLF (1a) and after recovery
using existing backup link (1b)
Figure 9.7.13-2: Scenario 1: Procedure for BH RLF recovery using existing
backhaul link
In scenario 1 (Figs. 9.7.13-1, -2), the MT on IAB-node-5 is dual-connected to
IAB-node-3 and IAB-node-4, which hold MCG and SCG, respectively. Two
adaptation layer routes have been established, one referred to as _Adapt route
A_ via IAB-node-3, and the other referred to as _Adapt route B_ via IAB-node
4. It is assumed that _Adapt route A_ is used for backhauling of access
traffic for the UE attached to IAB-node-5. The RLF is further assumed to occur
on the link to the MCG on IAB-node-3. The SCG link to IAB-node-5 may further
be in RRC-inactive state.
Figure 9.7.13-2 shows one example for the recovery procedure for scenario 1:
1\. The MT on IAB-node-5 conducts RLM on both links and discovers RLF on the
link to MCG on IAB-node-3.
2\. The MT may report MCG RLF over SCG RRC to the CU-CP using NR DC
procedures. This step implies that such reporting is supported by NR DC. In
case the SCG link is in RRC inactive state the MT will resume the RRC
connection on this link.
3\. The CU-CP migrates the MT\'s MCG from IAB-node-3 to IAB-node-4 using NR DC
procedures. This step implies that such procedure is supported by NR DC.
B. The CU-CP migrates the F1*-U connection with the DU on IAB-node-5 to _Adapt
route B_. It further uses _Adapt route B_ for F1*-C signalling with the DU on
IAB-node-5. This procedure is described in sections 9.7.8 and 9.7.9. This step
also has to be applied to all descendent IAB-nodes of IAB-node-5.
C. The CU-CP may release _Adapt route A_. This procedure is described in 9.7.5
and 9.7.7.
After BH RLF recovery, the CU-CP can add topologically redundant BH links and
routes as discussed in sections 9.7.8 and 9.7.9 to improve robustness.
NOTE: While the Scenario 1 recovery procedure is presented for the case of
multi-connectivity of single-MT IAB-nodes, it is expected that a similar
solution is applicable to the case of multi-connected multi-MT IAB-nodes.
Figure 9.7.13-3: Scenario 2: BH topology with BH RLF (3a) and after recovery
via new BH link using [same]{.underline} CU (3b)
Figure 9.7.13-4: Scenario 2: Procedure for BH RLF recovery using new BH link
using [same]{.underline} CU
In scenario 2 (Figs. 9.7.13-3, -4), the MT on IAB-node-5 is single connected
to IAB-node-3. One adaptation layer route has been established via IAB-node-3
referred to as _Adapt route A_. The RLF is assumed to occur on the link
between IAB-node-5 and its parent node IAB-node-3.
Figure 9.7.13-4 shows one example the recovery procedure for scenario 2:
1\. The MT on IAB-node-5 conducts RLM on the link to its parent and discovers
RLF.
2\. The MT on IAB-node-5 synchronizes with the DU on IAB-node-4 and performs
RACH procedure.
3\. The MT on IAB-node-5 initiates RRC-Connection-Reestablishment leveraging
existing NR procedures. Since the CU is the [same]{.underline} as before, it
has all context of this MT. IAB-node-5 discovers that the CU has not changed
through a CU-specific identifier provided to the MT. Consequently, IAB-
node-5\'s DU can keep the existing F1-AP with the CU.
A. The CU-CP establishes _Adapt route B_ to IAB-node-5 via IAB-donor DU2, IAB-
node-2 and IAB-node-4. This procedure is described in 9.7.5 and 9.7.6.
B. The CU-CP migrates F1*-U with the DU on IAB-node-5 to _Adapt route B_. It
further uses _Adapt route B_ for F1*-C signalling with the DU on IAB-node-5.
This procedure is described in sections 9.7.5 and 9.7.7. This step also has to
be applied to all descendent IAB-nodes of IAB-node-5.
C. The CU-CP may release _Adapt route A_. This procedure is described in 9.7.5
and 9.7.6.
After BH RLF recovery, the CU-CP can add topologically redundant BH links and
routes as discussed in sections 9.7.8 and 9.7.10 to improve robustness.
Figure 9.7.13-5. Scenario 3: BH topology with BH RLF (5a) and after recovery
via new BH link with [different]{.underline} CU (5b)
Figure 9.7.13-6. Scenario 3: Procedure for BH RLF recovery using new BH link
with [different]{.underline} CU
In scenario 3 (Figs. 9.7.13-5, -6), the MT on IAB-node-5 is single-connected
to IAB-node-3. One adaptation layer route has been established via IAB-node-3
referred to as _Adapt route A_. The RLF is assumed to occur on the link
between IAB-node-5 and its parent node IAB-node-3.
Figure 9.7.13-6 shows one example for the recovery procedure for scenario 3:
1\. The MT on IAB-node-5 conducts RLM on the link to its parent and discovers
RLF.
2\. The MT on IAB-node-5 synchronizes with the DU on IAB-node-4 and performs
RACH procedure.
3\. The DU on IAB-node-5 discontinues service since it has lost F1*-C
connectivity to gNB-CU-1.
4\. The MT on IAB-node-5 initiates RRC-Connection-Reestablishment leveraging
existing NR procedures. Since the CU is the [different]{.underline}, it may or
may not be able to fetch the context of this MT. IAB-node-5 discovers that the
CU has changed from a CU-specific identifier provided to the MT. Consequently,
IAB-node-5 has to restart F1-AP from its DU to the new CU.
A. The new CU-CP establishes _Adapt route B_ to IAB-node-5 via IAB-donor DU2,
IAB-node-2 and IAB-node-4. This procedure is described in TR 38.874, sections
9.7.5 and 9.7.7.
B\'. The DU on IAB-node-5 initiates a new F1*-C connection to the new CU-CP.
This procedure is the same as IAB-node setup phase 2.2 described in section
9.3. The DU will obtain a new configuration during that procedure which, e.g.,
a new PCI. After that, the DU resumes service.
5\. The UE determines RLF with the prior DU on IAB-node-5.
6\. The UE discovers and selects the new DU on IAB-node-5
7\. The UE conducts random access procedure with this new DU on IAB-node-5.
8\. The UE initiates RRC-Connection-Reestablishment with the new CU-CP
leveraging NR procedures. The new CU-CP may or may not be able to fetch the
UE\'s context from the old CU-CP. The new CU-CP will set up F1*-U for the UE
with the new DU on IAB-node-5 following NR procedures.
C. The CU-CP releases _Adapt route A_. This release may be based on F1*-C
failure detection. The procedure for the release is described in TR 38.874,
sections 9.7.5 and 9.7.7.
After BH RLF recovery, the CU-CP can add topologically redundant BH links and
routes as discussed in sections 9.7.8 and 9.7.9 to improve robustness.
Steps 3, 4, A, B\', C and potentially steps 1 and 2 also have to be applied by
for all descendant IAB-nodes of IAB-node-5. Further, steps 4, 5 and 6 will
also be applied by all UEs connected to descendant IAB-nodes of IAB-node-5.
As these steps show, the BH RLF recovery procedure to a different CU may cause
multiple subsequent RLFs for descendant IAB-nodes and UEs. This may cause long
service interruption for UEs. Further enhancements are needed to reduce this
service interruption.
### 9.7.14 Downstream notification of BH RLF in architecture 1a
Figure 9.7.14-1: Topology with multiple IAB-node generations below BH RLF
When the IAB-node observes RLF on its parent link, it cannot provide further
backhaul service to downstream IAB-nodes. Also, child IAB-nodes cannot further
serve their descendant IAB-nodes. One example is shown in Fig. 9.7.14-1, where
IAB-node-5 observes RLF to its parent IAB-node-3 and subsequently cannot
provide backhaul service to its child node, i.e., IAB-node-6.
While the IAB-node observing RLF is aware about backhaul connectivity loss,
the descendent IAB-nodes do not have explicit means to identify this upstream
backhaul connectivity loss. In case the RLF can be recovered swiftly, as it
can be expected for BH-RLF-recovery scenario 1, there may be no need to
explicitly inform the descendant IAB-nodes about the temporary BH connectivity
loss. When the BH RLF cannot be recovered swiftly, it may be beneficial to
release backhaul connectivity to descendant IAB-nodes so that they themselves
can seek means to recover from the BH RLF. For this purpose, three options may
be considered:
\- Option 1: The IAB-node DU discontinues service. Consequently, the child
nodes will also determine BH RLF and follow through the above procedures to
recover.
\- Option 2: The IAB-node DU explicitly alerts child IAB-nodes about the
upstream RLF. Child IAB-nodes receiving this alert can forward the alert
further downstream. Each IAB-node receiving such alert initiates BH-RLF
recovery as discussed above.
\- Option 3: Every IAB-node can regularly share information on, e.g., BH
quality, to its child or parent IAB-nodes. In this manner, downstream or
upstream RLF can be sensed without taking explicit actions.
In case a descendant IAB-node (such as IAB-node 6) can recover from such an
upstream RLF by using one of the procedures described above, its DU can
provide BH RLF-recovery for former ancestor nodes (such as IAB-node 5).
### 9.7.15 Efficient backhaul-link-failure recovery
The recovery procedure for backhaul failure scenarios 2 and 3 consists of
identifying an alternate parent node and establishing/re-establishing control
plane and user plane through the alternate parent node. However, identifying
and attaching to an alternate node can take a significant amount of time and
also may not always be possible, e.g due to lost connectivity with Donor CU or
due to lack of alternative parent nodes (especially in millimeter-wave
deployments). It may be necessary to consider how the IAB network is
reorganized when there is a backhaul failure in a way that minimizes
interruption time of connection with the IAB-donor.
Figure 9.7.15-1: Example for a recovery after BH RLF in an IAB network
Figure 9.7.15-1 illustrates a scenario of a backhaul failure on one of the
links in an IAB network. In such scenarios, many IAB-nodes and UEs may be left
without a connection to the IAB-donor and may need to find alternate parent
nodes. Downstream IAB-nodes (e.g. IAB-nodes 4, 6 in the figure) and the IAB-
donor may need to be informed of the backhaul failure. Furthermore, if all the
affected IAB-nodes simultaneously try to find alternate parent nodes, the
resulting topology may be inefficient.
The following can be considered for recovery from backhaul failures:
\- Information can be provided to downstream IAB-nodes regarding backhaul
failure including a list of nodes that cannot serve as parent nodes due to the
backhaul failure.
\- Preparation of alternative backhaul links and routes in advance (i.e.
before occurrence of RLF).
## 9.8 LTE-access over NR backhaul
LTE access over NR backhaul is an important scenario, which allows (legacy)
E-UTRAN UEs to use NR backhaul. On the other side, the backhaul link is NR
which can provide several benefits e.g. utilize higher frequency bands for
backhaul, larger bandwidth, higher throughput, lower latency, etc. IAB should
also take into account this deployment scenario. Support of LTE access over NR
backhaul needs further discussion.
Figure 9.8-1: E-UTRAN access over NR backhaul
# 10 Comparison
## 10.1 Comparison of IAB architectures
The following table compares architectures 1a, 1b and 2a.
Table 10.1-1: Comparison among IAB architectures
+----------+----------+----------+----------+----------+----------+ | Classi | KPI | Arch | Arch | Arch | A | | fication | | itecture | itecture | itecture | dvantage | | | | 1a | 1b | 2a | | +----------+----------+----------+----------+----------+----------+ | * | Backhaul | Over RLC | Over PDU | - | | | _Functio | t | channel | session | | | | nality_ _| ransport | | | | | +----------+----------+----------+----------+----------+----------+ | * | Security | En | Hop by | - | | |_ Functio | | d-to-end | hop | | | | nality**| | security | security | | | | | | between | in each | | | | | | UE and | access | | | | | | donor CU | link and | | | | | | node | backhaul | | | | | | | link | | | +----------+----------+----------+----------+----------+----------+ | * | Ter | At donor | At UE\'s | - | | | *Functio | mination | CU | serving | | | | nality** | of UE\'s | | IAB-node | | | | | NG-U | | | | | | | tunnel | | | | | +----------+----------+----------+----------+----------+----------+ | * | Ter | At donor | At UE\'s | - | | | _Functio | mination | CU | serving | | | | nality_ _| of UE\'s | | IAB-node | | | | | NG-C | | | | | | | co | | | | | | | nnection | | | | | +----------+----------+----------+----------+----------+----------+ | * | Speci | Cen | Dis | - | | |_ Specifi | fication | tralized | tributed | | | | cation**| for | control | protocol | | | | | topology | via | by | | | | | d | CU-CP | pro | | | | | iscovery | with | pagation | | | | | | R | l | | | | | | RC/F1-AP | ink-end- | | | | | | for | point-ID | | | | | | si | pairs | | | | | | gnalling | toward | | | | | | as well | the | | | | | | as | donor | | | | | | dis | via RRC | | | | | | tributed | | | | | | | control | | | | | | | via | | | | | | | IAB-node | | | | +----------+----------+----------+----------+----------+----------+ | * | Speci | Cen | Has not | Architec | | | *Specifi | fication | tralized | been | ure1a/1b | | | cation** | for | control | studied | | | | | topology | via | | | | | | ma | CU-CP | | | | | | nagement | with | | | | | | | R | | | | | | | RC/F1-AP | | | | | | | for | | | | | | | si | | | | | | | gnalling | | | | | | | as well | | | | | | | as | | | | | | | dis | | | | | | | tributed | | | | | | | control | | | | | | | via | | | | | | | IAB-node | | | | +----------+----------+----------+----------+----------+----------+ | * | Speci | Same as | Has not | Architec | | | _Specifi | fication | for | been | ure1a/1b | | | cation_ _| for | topology | studied | | | | | route | ma | | | | | | ma | nagement | | | | | | nagement | above | | | | +----------+----------+----------+----------+----------+----------+ | * | Speci | Same as | Has not | Architec | | |_ Specifi | fication | for | been | ure1a/1b | | | cation**| for | topology | studied | | | | | resource | ma | | | | | | ma | nagement | | | | | | nagement | above | | | | | | to | | | | | | | address | | | | | | | half-d | | | | | | | uplexing | | | | | | | co | | | | | | | nstraint | | | | | | | and | | | | | | | in | | | | | | | ter-link | | | | | | | inte | | | | | | | rference | | | | | | | across | | | | | | | topology | | | | | +----------+----------+----------+----------+----------+----------+ | * | Core | Lower | M | Archi | | | *Specifi | network | | inimally | tecure1a | | | cation** | speci | No CN | higher | | | | | fication | speci | | | | | | | fication | CN | | | | | | needed | speci | | | | | | for | fication | | | | | | UPF/GW. | needed | | | | | | | for | | | | | | | UPF/GW | | | | | | | support | | | | | | | on | | | | | | | I | | | | | | | AB-donor | | | | | | | and | | | | | | | I | | | | | | | AB-node. | | | +----------+----------+----------+----------+----------+----------+ | * | RAN | Needed | Not | Archi | | | _Specifi | speci | | needed | tecure2a | | | cation_ _| fication | Modi | | | | | | | fication | | | | | | | of | | | | | | | protocol | | | | | | | layers | | | | | | | for L2 | | | | | | | t | | | | | | | ransport | | | | +----------+----------+----------+----------+----------+----------+ | * | S | Mostly | RAN and | - | | |_ Specifi | tandards | RAN | also | | | | cation**| Areas | | NGC/EPC | | | | | Impacted | | due to | | | | | | | need of | | | | | | | UPF/GW | | | +----------+----------+----------+----------+----------+----------+ |** Depl | CP | Lower | Higher | Architec | | | oyment**| sca | | | ure1a/1b | | | | lability | Donor | Each | | | | | with the | CU-CP is | IAB-node | | | | | number | res | manages | | | | | of | ponsible | the RRC | | | | | I | for the | co | | | | | AB-nodes | RRC | nnection | | | | | | co | and DRBs | | | | | | nnection | of its | | | | | | and DRB | own | | | | | | ma | access | | | | | | nagement | UE. | | | | | | of all | Donor | | | | | | the UEs | IAB-node | | | | | | served | is only | | | | | | by the | res | | | | | | donor DU | ponsible | | | | | | as well | for the | | | | | | as | RRC | | | | | | do | co | | | | | | wnstream | nnection | | | | | | IA | and DRB | | | | | | B-nodes. | ma | | | | | | So, | nagement | | | | | | donor | of | | | | | | CU-CP | directly | | | | | | may | c | | | | | | become | onnected | | | | | | bo | UEs. | | | | | | ttleneck | | | | | | | with | | | | | | | more | | | | | | | I | | | | | | | AB-nodes | | | | | | | agg | | | | | | | regated. | | | | | | | | | | | | | | . | | | | +----------+----------+----------+----------+----------+----------+ |** Depl | T | S | S | S | - | | oyment**| ransport | upported | upported | upported | | | | of LTE | | | | | | | access & | Over PDU | Over PDU | Over PDU | | | | non-3GPP | session | session | session | | | | access | to UPF, | to UPF | to UPF | | | | | which | on donor | on | | | | | needs to | | parent | | | | | be | | IAB-node | | | | | deployed | | | | +----------+----------+----------+----------+----------+----------+ | **Depl | Co | S | S | - | | | oyment**| mpliance | upported | upported | | | | | with | for | for | | | | | DU/CU | IAB-node | donor | | | | | dep | and | | | | | | loyments | donor | | | | +----------+----------+----------+----------+----------+----------+ |** Comp | Number | Lower | Higher | Architec | | | lexity**| of | | | ure1a/1b | | | | ter | Only one | N2/3 and | | | | | mination | F1 to | Xn to | | | | | points | donor | sur | | | | | of gNB | | rounding | | | | | external | | I | | | | | in | | AB-nodes | | | | | terfaces | | | | | | | in | | | | | | | IAB-node | | | | | | | | | | | | | | (F1, | | | | | | | N2/3, | | | | | | | Xn, | | | | | | | etc.) | | | | | +----------+----------+----------+----------+----------+----------+ |** Comp | Need for | Not | Needed | Architec | | | lexity**| packet | needed | for | ure1a/1b | | | | fo | for | every | | | | | rwarding | intra-CU | handover | | | | | at | h | since | | | | | handover | andover, | each | | | | | to/from | only | IAB-node | | | | | IAB-node | needed | holds a | | | | | | for | CU | | | | | | inter-CU | | | | | | | handover | | | | +----------+----------+----------+----------+----------+----------+ |** Comp | F | MT + DU | MT + DU | Architec | | | lexity**| unctions | | + CU + | ure1a/1b | | | | s | | UPF | | | | | upported | | | | | | | in | | | | | | | IAB-node | | | | | +----------+----------+----------+----------+----------+----------+ |** Se | Vulne | UE | UE | Archi | | | curity**| rability | security | security | tecure2a | | | | of | is not | is | | | | | I | te | te | | | | | AB-nodes | rminated | rminated | | | | | to | at | at | | | | | security | IAB-node | IAB-node | | | | | attacks | | | | | | | (e.g. | | | | | | | due to | | | | | | | t | | | | | | | ampering | | | | | | | with | | | | | | | node) | | | | | +----------+----------+----------+----------+----------+----------+ |** Proc | Packet | Lower | Higher | Architec | | | essing**| pr | | | ure1a/1b | | | | ocessing | No BH | BH PDCP | | | | | in | PDCP | has to | | | | | inte | pr | be | | | | | rmediate | ocessing | p | | | | | I | | rocessed | | | | | AB-nodes | | on every | | | | | | | BH | | | | | | | i | | | | | | | nterface | | | +----------+----------+----------+----------+----------+----------+ |** Proc | Core | Lower | Slightly | Higher | Archi | | essing**| network | | higher | | tecure1a | | | si | No UPF | | For any | | | | gnalling | or GW | For | topology | | | | during | has to | inter-CU | a | | | | topology | be | topology | daption, | | | | ad | co | a | esta | | | | aptation | nfigured | daption, | blishing | | | | | on | UPF or | new BH | | | | | I | GW has | link, | | | | | AB-donor | to be | UPF or | | | | | or | co | GW has | | | | | I | nfigured | to be | | | | | AB-node. | on | co | | | | | | I | nfigured | | | | | | AB-donor | on | | | | | | for | I | | | | | | topology | AB-donor | | | | | | ad | for | | | | | | aptation | topology | | | | | | | ad | | | | | | | aptation | | +----------+----------+----------+----------+----------+----------+ |** Perfo | CN | Lower | Higher | Architec | | | rmance**| s | | | ure1a/1b | | | | ignaling | No CN | CN | | | | | overhead | s | s | | | | | due to | ignaling | ignaling | | | | | UE | for | for | | | | | mobility | int | int | | | | | | ra-donor | ra-donor | | | | | | CU node | mobility | | | | | | mobility | | | | +----------+----------+----------+----------+----------+----------+ |** Perfo | Protocol | BH link | BH | - | | | rmance**| overhead | contains | co | | | | | | PHY | nnection | | | | | | -MAC-RLC | contains | | | | | | (pot | MAC-RL | | | | | | entially | C-PDCP-S | | | | | | also | DAP-IP-U | | | | | | IP-UD | DP-GTP-U | | | | | | P-GTP-U) | | | | +----------+----------+----------+----------+----------+----------+ |** Perfo | QoS | Per-U | QoS only | Archi | | | rmance**| | E-bearer | s | tecure1a | | | | | QoS | upported | | | | | | s | per QoS | | | | | | upported | profile | | | | | | on | on | | | | | | backhaul | backhaul | | | | | | | | | | | | | | Per-U | | | | | | | E-bearer | | | | | | | QoS has | | | | | | | not been | | | | | | | studied | | | +----------+----------+----------+----------+----------+----------+ |** Perfo | Core | Only | Also, | Architec | | | rmance**| network | during | during | ure1a/1b | | | | si | IAB-node | every | | | | | gnalling | int | topology | | | | | overhead | egration | ad | | | | | | and | aptation | | | | | | inter-CU | p | | | | | | RLF | rocedure | | | | | | r | that | | | | | | ecovery. | est | | | | | | | ablishes | | | | | | | or | | | | | | | releases | | | | | | | a BH | | | | | | | link. | | | +----------+----------+----------+----------+----------+----------+ |** Perfo | RRC | Higher | Lower | Archi | | | rmance**| latency | | | tecure1a | | | | | M | Single | | | | | | ulti-hop | hop to | | | | | | to donor | parent | | | +----------+----------+----------+----------+----------+----------+ |** Perfo | Packet | Smaller | Slightly | Higher | Archi | | rmance** | pr | | higher | | tecure1a | | | ocessing | since | | since | | | | overhead | there is | since | P | | | | | no | P | DCP/SDAP | | | | | P | DCP/SDAP | stack | | | | | DCP/SDAP | stack | needs to | | | | | stack to | needs to | be | | | | | be | be | p | | | | | p | p | rocessed | | | | | rocessed | rocessed | for | | | | | for | for | bac | | | | | back | bac | khauling | | | | | hauling. | khauling | on each | | | | | | on | hop. | | | | | | access | | | | | | | IAB-node | | | | | | | and | | | | | | | IA | | | | | | | B-donor. | | | +----------+----------+----------+----------+----------+----------+
Advantages:
\- Architecture1a has advantages in 14 KPIs
\- Architecture1b has advantages in 9 KPIs
\- Architecture2 has advantages in 2 KPIs
Recommendation:
Based on the above comparison, it is feasible to adopt Archtecture1a.
## 10.2 Comparison of CP alternatives for IAB architectures 1a
Table 10.2 provides a comparison analysis of the five CP alternatives
discussed in section 8.3.5. More comparison aspects are not excluded.
**Only CP alternatives 2 and 4 are further considered in this study.**
_Table 10.2-1: Comparison of the five CP alternatives of architecture 1a_
+-------+-------+-------+-------+-------+-------+-------+-------+ | Compa | Alt 1 | Alt 2 | Alt 3 | Alt 4 | Alt 5 | Compa | | | rison | | | | | | rison | | | as | | | | | | ana | | | pects | | | | | | lysis | | +-------+-------+-------+-------+-------+-------+-------+-------+ | Tran | UE | SRB | Same | Same | Same | Same | SRB | | sport | /IAB- | in | as | as | as | as | is | | for | MT\'s | a | alt 1 | alt 1 | alt 1 | alt 1 | r | | CP | RRC | ccess | | | | | ecomm | | sign | | link, | | | | | ended | | aling | | SRB | | | | | to | | on | | over | | | | | carry | | wir | | RLC | | | | | UE | | eless | | ch | | | | | /IAB- | | plane | | annel | | | | | MT\'s | | | | in | | | | | RRC | | | | bac | | | | | sign | | | | khaul | | | | | aling | | | | links | | | | | in | | | | | | | | | all | | | | | | | | | the | | | | | | | | | alt | | | | | | | | | ernat | | | | | | | | | ives. | | | | | | | | | | | | | | | | | | Use | | | | | | | | | of | | | | | | | | | SRB | | | | | | | | | to | | | | | | | | | carry | | | | | | | | | IAB- | | | | | | | | | DU\'s | | | | | | | | | F1AP | | | | | | | | | may | | | | | | | | | re | | | | | | | | | quire | | | | | | | | | defin | | | | | | | | | ition | | | | | | | | | of | | | | | | | | | new | | | | | | | | | SR | | | | | | | | | B(s). | | | | | | | | | | | | | | | | | | Use | | | | | | | | | of | | | | | | | | | DRB | | | | | | | | | to | | | | | | | | | carry | | | | | | | | | IAB- | | | | | | | | | DU\'s | | | | | | | | | F1AP | | | | | | | | | confi | | | | | | | | | gures | | | | | | | | | the | | | | | | | | | DRB | | | | | | | | | with | | | | | | | | | high | | | | | | | | | prio | | | | | | | | | rity. | +-------+-------+-------+-------+-------+-------+-------+-------+ | | IAB- | SRB | Same | Same | RLC | DRB | | | | DU\'s | of | as | as | ch | | | | | F1AP | collo | alt 1 | alt 1 | annel | | | | | | cated | | | | | | | | | MT | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | Enc | UE | W | W | Same | Same | Same | The | | apsul | /IAB- | ithin | ithin | as | as | with | case | | ation | MT\'s | PDCP | PDCP | alt 1 | alt 2 | alt 1 | wi | | on | RRC | but | and | | | | thout | | the | | wi | F1-AP | | | | enc | | wir | | thout | of | | | | apsul | | eless | | enc | se | | | | ating | | plane | | apsul | rving | | | | RRC | | | | ation | IAB | | | | me | | | | in | -node | | | | ssage | | | | F1-AP | | | | | into | | | | of | | | | | F1-AP | | | | se | | | | | me | | | | rving | | | | | ssage | | | | IAB | | | | | has | | | | -node | | | | | an | | | | | | | | | i | | | | | | | | | mpact | | | | | | | | | since | | | | | | | | | the | | | | | | | | | F1 | | | | | | | | | (i.e. | | | | | | | | | non | | | | | | | | | -RRC) | | | | | | | | | i | | | | | | | | | nform | | | | | | | | | ation | | | | | | | | | need | | | | | | | | | to be | | | | | | | | | t | | | | | | | | | ransf | | | | | | | | | erred | | | | | | | | | in | | | | | | | | | some | | | | | | | | | other | | | | | | | | | way | | | | | | | | | to | | | | | | | | | the | | | | | | | | | IAB- | | | | | | | | | node. | +-------+-------+-------+-------+-------+-------+-------+-------+ | | IAB- | W | W | Same | W | W | All | | | DU\'s | ithin | ithin | as | ithin | ithin | op | | | F1AP | RRC | PDCP | Alt 2 | DT | PDCP | tions | | | | of | of | | LS/SC | of | has | | | | collo | collo | | TP/IP | collo | some | | | | cated | cated | | above | cated | pro | | | | MT | MT | | RLC | MT | tocol | | | | | | | ch | | im | | | | | | | annel | | pacts | | | | | | | | | com | | | | | | | | | pared | | | | | | | | | to | | | | | | | | | n | | | | | | | | | ormal | | | | | | | | | Uu | | | | | | | | | stack | | | | | | | | | car | | | | | | | | | rying | | | | | | | | | IP | | | | | | | | | pa | | | | | | | | | ckets | | | | | | | | | over | | | | | | | | | PDCP. | +-------+-------+-------+-------+-------+-------+-------+-------+ | Enc | UE | N | W | Same | N | Same | On | | apsul | /IAB- | ative | ithin | as | ative | as | a | | ation | MT\'s | F1-C | end | Alt1 | end | Alt1 | ltern | | (over | RRC | to | to | | to | | ative | | the | | donor | end | | end | | 1, 3, | | wired | | DU | F1-AP | | F1-C | | 5 the | | donor | | | /PDCP | | | | F1-C | | CU-DU | | | and | | | | is | | link) | | | N | | | | termi | | | | | ative | | | | nated | | | | | F1-C | | | | in | | | | | to | | | | the | | | | | donor | | | | Don | | | | | DU | | | | or-DU | | | | | | | | | me | | | | | | | | | aning | | | | | | | | | that | | | | | | | | | the | | | | | | | | | F1-C | | | | | | | | | i | | | | | | | | | nform | | | | | | | | | ation | | | | | | | | | re | | | | | | | | | lated | | | | | | | | | to | | | | | | | | | RRC | | | | | | | | | me | | | | | | | | | ssage | | | | | | | | | need | | | | | | | | | to be | | | | | | | | | t | | | | | | | | | ransf | | | | | | | | | erred | | | | | | | | | in | | | | | | | | | some | | | | | | | | | other | | | | | | | | | way | | | | | | | | | to | | | | | | | | | IAB- | | | | | | | | | node. | | | | | | | | | | | | | | | | | | In | | | | | | | | | a | | | | | | | | | ltern | | | | | | | | | ative | | | | | | | | | 2 the | | | | | | | | | donor | | | | | | | | | DU | | | | | | | | | has | | | | | | | | | some | | | | | | | | | new | | | | | | | | | F1-C | | | | | | | | | t | | | | | | | | | ransp | | | | | | | | | arent | | | | | | | | | tunne | | | | | | | | | lling | | | | | | | | | mech | | | | | | | | | anism | | | | | | | | | where | | | | | | | | | PDCP | | | | | | | | | pa | | | | | | | | | ckets | | | | | | | | | are | | | | | | | | | forw | | | | | | | | | arded | | | | | | | | | to | | | | | | | | | RLC | | | | | | | | | chan | | | | | | | | | nels. | | | | | | | | | | | | | | | | | | In | | | | | | | | | a | | | | | | | | | ltern | | | | | | | | | ative | | | | | | | | | 4 the | | | | | | | | | donor | | | | | | | | | DU | | | | | | | | | fo | | | | | | | | | rward | | | | | | | | | IP | | | | | | | | | pa | | | | | | | | | ckets | | | | | | | | | des | | | | | | | | | tined | | | | | | | | | for | | | | | | | | | the | | | | | | | | | IAB | | | | | | | | | -node | | | | | | | | | to | | | | | | | | | the | | | | | | | | | RLC | | | | | | | | | cha | | | | | | | | | nnel. | +-------+-------+-------+-------+-------+-------+-------+-------+ | | IAB- | W | W | Same | N | W | In | | | DU\'s | ithin | ithin | as | ative | ithin | all | | | F1AP | end | end | Alt2 | end | end | solu | | | | to | to | | to | to | tions | | | | end | end | | end | end | the | | | | RRC | PDCP | | IP | PDCP | F1-AP | | | | /PDCP | and | | | and | pro | | | | and | N | | | GTP-U | tocol | | | | N | ative | | | to | is | | | | ative | F1-C | | | the | termi | | | | F1-C | to | | | donor | nated | | | | to | donor | | | | in | | | | donor | DU | | | | IAB- | | | | DU | | | | | node. | +-------+-------+-------+-------+-------+-------+-------+-------+ | Sec | Prot | Same | Same | Prot | Same | Using | | | urity | ected | as | as | ected | as | PDCP | | | of | by | alt 1 | alt 1 | by | alt 1 | for | | | F1AP | PDCP | | | DTLS | | F1-AP | | | | | | | | | sec | | | | | | | | | urity | | | | | | | | | i | | | | | | | | | ncurs | | | | | | | | | less | | | | | | | | | over | | | | | | | | | head. | | | | | | | | | | | | | | | | | | The | | | | | | | | | total | | | | | | | | | ove | | | | | | | | | rhead | | | | | | | | | of | | | | | | | | | F1-AP | | | | | | | | | signa | | | | | | | | | lling | | | | | | | | | may | | | | | | | | | be | | | | | | | | | ins | | | | | | | | | ignif | | | | | | | | | icant | | | | | | | | | com | | | | | | | | | pared | | | | | | | | | to | | | | | | | | | F1-U | | | | | | | | | tra | | | | | | | | | ffic. | | +-------+-------+-------+-------+-------+-------+-------+-------+ | Ro | Adapt | Same | Same | Same | Same | In | | | uting | ation | as | as | as | as | all | | | of | layer | alt 1 | alt 1 | alt 1 | alt 1 | alt | | | co | is | | | | | ernat | | | ntrol | r | | | | | ives, | | | plane | espon | | | | | the | | | PDUs | sible | | | | | adapt | | | | for | | | | | ation | | | | ro | | | | | layer | | | | uting | | | | | is | | | | | | | | | used | | | | | | | | | for | | | | | | | | | rou | | | | | | | | | ting. | | +-------+-------+-------+-------+-------+-------+-------+-------+ | I | Su | Su | Same | Su | Same | | | | mpact | pport | pport | as | pport | as | | | | to | of | of | alt 1 | for | alt 1 | | | | IAB- | using | using | for | DTLS | for | | | | donor | donor | donor | RRC | | RRC | | | | CU | F1-AP | F1-AP | mes | | mes | | | | | to | to | sages | | sages | | | | | dir | tra | to UE | | to UE | | | | | ectly | nsfer | or | | or | | | | | tra | F1-AP | IAB | | IAB | | | | | nsfer | mes | MT | | MT | | | | | RRC | sages | | | | | | | | mes | to | Same | | Su | | | | | sages | the | as | | pport | | | | | to UE | IAB | alt2 | | for | | | | | or | -node | for | | tran | | | | | IAB | | F1-AP | | sport | | | | | MT | | to | | of | | | | | | | IAB | | F1-AP | | | | | Su | | DU | | mes | | | | | pport | | | | sages | | | | | of | | | | over | | | | | using | | | | E1 | | | | | donor | | | | | | | | | F1-AP | | | | | | | | | to | | | | | | | | | tra | | | | | | | | | nsfer | | | | | | | | | end | | | | | | | | | to | | | | | | | | | end | | | | | | | | | F1-AP | | | | | | | | | to | | | | | | | | | IAB | | | | | | | | | DU. | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | I | Su | Same | Same | Su | Same | | | | mpact | pport | as | as | pport | as | | | | to | for | alt1 | alt1 | for | alt1 | | | | IAB- | ma | | | IP | for | | | | donor | pping | | | ro | RRC | | | | DU | F1-AP | | | uting | mes | | | | | mes | | | fun | sages | | | | | sages | | | ction | to | | | | | to | | | (the | UEs | | | | | the | | | same | and | | | | | p | | | fun | I | | | | | roper | | | ction | AB\'s | | | | | adapt | | | ality | MT | | | | | ation | | | as in | | | | | | layer | | | UP | Su | | | | | ad | | | o | pport | | | | | dress | | | ption | for | | | | | | | | e) | ma | | | | | | | | | pping | | | | | | | | | GTP-U | | | | | | | | | tu | | | | | | | | | nnels | | | | | | | | | to | | | | | | | | | the | | | | | | | | | p | | | | | | | | | roper | | | | | | | | | adapt | | | | | | | | | ation | | | | | | | | | layer | | | | | | | | | ad | | | | | | | | | dress | | | | | | | | | (for | | | | | | | | | F1-AP | | | | | | | | | to | | | | | | | | | IAB | | | | | | | | | DU) | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | The | No | Yes | No | Yes | No | Sol | | | tran | | | | | | ution | | | sport | | | | | | 1, 3, | | | of | | | | | | 5 | | | R | | | | | | tra | | | RC-re | | | | | | nsmit | | | lated | | | | | | F1-AP | | | and | | | | | | and | | | non-R | | | | | | RRC | | | RC-re | | | | | | mes | | | lated | | | | | | sages | | | F1-AP | | | | | | in | | | mess | | | | | | diff | | | ages. | | | | | | erent | | | | | | | | | ways, | | | | | | | | | th | | | | | | | | | ereby | | | | | | | | | not | | | | | | | | | being | | | | | | | | | able | | | | | | | | | to | | | | | | | | | tran | | | | | | | | | sport | | | | | | | | | F1-AP | | | | | | | | | mes | | | | | | | | | sages | | | | | | | | | to | | | | | | | | | the | | | | | | | | | IAB | | | | | | | | | -node | | | | | | | | | that | | | | | | | | | have | | | | | | | | | emb | | | | | | | | | edded | | | | | | | | | RRC | | | | | | | | | me | | | | | | | | | ssage | | | | | | | | | to | | | | | | | | | the | | | | | | | | | UE. | | +-------+-------+-------+-------+-------+-------+-------+-------+
# 11 Conclusion
The study of Integrated Access and Backhaul for NR considered five
architectures referred to as 1a, 1b, 2a, 2b, and 2c.
RAN-3 recommends architecture 1a for a future normative phase. This may not
preclude support of architecture 1b, e.g., by implementation.
After studying various IAB design aspects, it is concluded that it is feasible
to support the following requirements and functionalities with the recommended
IAB architecture:
> \- Physically fixed IAB-nodes;
\- In-band and out-of-band scenarios;
\- NR backhauling of NR access traffic;
\- SA and NSA mode for the UE and for the IAB-node;
\- Multi-hop backhauling;
\- Topology adaptation;
\- Network synchronization of IAB-nodes.
For architecture 1a, RAN2 studied many-to-one and one-to-one bearer mapping
options. An IAB system that supports both bearer mapping options is
recommended for Rel.16 work item.
RAN2 studied design examples, which support both bearer mapping options.
Design example 1 (section 8.2.10.1) is recommended for the work item. In this
design, the adaptation layer resides above RLC, and LCID extension is used to
increase the number of UE-bearers supported by the IAB-node with one-to-one
bearer mapping. This LCID extension only applies to backhaul RLC channels.
RAN2 studied hop-by-hop and end-to-end RLC ARQ. It is recommended to only
support hop-by-hop ARQ in Rel-16.
RAN2 investigated termination of IP at the access IAB-node vs. IAB-donor DU.
IP termination at the access IAB-node is recommended for the work item. In
this solution, GTP-U is included in the UP stack for F1-U.
The following physical layer features and solutions are recommended to be
specified as part of a Rel.16 IAB WI from a RAN1 perspective:
\- SSB/RMSI periodicity values assumed by the IAB-node MT for initial access;
\- Enhancements for use of SSBs which are orthogonal (TDM and/or FDM) with
SSBs used for access UEs, including new periodicities and time-domain
mapping/muting patterns;
\- Enhancements to support configuration of backhaul RACH resources with
different occasion and longer RACH periodicities, compared to access RACH
resources without impacting Rel-15 UEs;
\- Efficient mechanisms for multiplexing access and backhaul traffic:
\- Semi-static configuration for IAB-node DU resources in case of TDM
operation subject to a half-duplex constraint, with further consideration for
forward compatibility for potential support of FDM/SDM operation;
\- Case 1 signaling and IAB-node behavior is supported in Rel. 16.
\- Dynamic indication (L1 signalling) to an IAB-node of the availability of
soft resources for an IAB-node DU;
\- In addition, as a secondary priority;
\- Enhancements to support additional preamble formats for PRACH allowing for
longer RTT, without impacting Rel-15 UEs;
\- Efficient mechanisms for multiplexing access and backhaul traffic:
\- Semi-static configuration for IAB-node DU resources in case of FDM/SDM
operation is additionally supported.
\- Inter-IAB-node CLI measurement coordination/configuration:
\- It is expected that the definition of CLI measurements will be specified in
a different WI and can be utilized for Inter-IAB-node CLI measurement.
###### ### Annex A: Evaluation methodology
# A.1 Evaluation assumptions
This subclause describes the simulation assumptions for evaluating IAB. The
system level evaluation assumptions for IAB are provided in Table A.1.1-1.
The reference network for comparing the performance of IAB network is the
network as defined in Table A.1.1-1, but without the IAB-nodes.
The following performance metrics should be considered in IAB evaluations:
\- Area traffic capacity
\- Geometry
\- Per-link Geometry per hop level
\- Min(Geometry) of all links for a given UE route (access and one or more
backhaul links) between a donor and UE
\- Resource utilization
\- Average RU over nodes per hop level for access traffic is reported
\- Average RU over nodes per hop level for backhaul traffic is reported
\- User plane latency (from the donor to the access UE)
\- User perceived throughput (UPT) for bursty traffic: the unfinished bursts
should be incorporated in the UPT calculation
\- UEs in outage (which is defined as when UEs with traffic to be served but
no packets have been delivered to higher layers by the end of the simulation)
are included in the CDF for UPT.
\- Distribution of minimum backhaul link RSRP of a given route between an IAB-
node and IAB-donor
\- Distribution of number of child IAB-nodes per IAB-node and per IAB-donor
\- Distribution of number of access UEs per IAB-donor
\- Hop count distribution
Table A.1-1: System level evaluation assumptions for integrated access and
backhaul
+----------------------+----------------------+----------------------+ | Parameters | Heterogeneous | Homogeneous scenario | | | scenario (dense | (urban micro) | | | urban) | | +----------------------+----------------------+----------------------+ | Layout | [Two | [Single | | | layer]{.underline} | layer]{.underline}\ | | | | Micro layer: Hex. | | | Macro layer: Hex. | Grid | | | Grid (all macro BSs | | | | are IAB-donors) | 19 sites | | | | | | | 7 sites | Number of IAB-donors | | | | (Ndonor) | | | Micro layer: Random | | | | drop (All micro BSs | 1, 3 and 7 | | | are all outdoor and | | | | are IAB-nodes) | Number of IAB-nodes | | | | is | | | - 1 micro BSs per | | | | macro BS | 19 -- Ndonor | | | | | | | - 3 micro BSs per | | | | macro BS | | | | | | | | See Figures A.2.1-3 | | | | of TR 38.802 | | | | | | | | IAB-node is assumed | | | | to have 3 panels | | | | with 120 degree | | | | shift relative to | | | | each other. | | | | Companies can | | | | simulate either | | | | panel orientation | | | | options below. | | | | | | | | Option 1: The panel | | | | for IAB-node is | | | | oriented in a | | | | suitable direction | | | | after the topology | | | | formation (e.g. in | | | | the direction of the | | | | parent node) | | | | | | | | Option 2: Random | | | | orientation | | | | (independent of | | | | topology) | | | | | | | | Panel orientation is | | | | assumed fixed for a | | | | simulation run. | | +----------------------+----------------------+----------------------+ | Inter-BS distance | Macro layer: 200m, | 200m | | | 500m | | +----------------------+----------------------+----------------------+ | Min distance | ----- | N/A | | | -------------------- | | | | -------------------- | | | | ---------- --------- | | | | ----- -------------- | | | | **D | | | | istance** | | | | | | | | **ISD 5 | | | | 00m** **ISD 200m** | | | | **Minimum distance | | | | between Micro TRPs* | | | | * ** | | | | 40m** **40m** | | | | **Minimum distance | | | | between Macro TRP a | | | | nd UE** ** | | | | 35m**** 10m**| | | |** Minimum distance | | | | between Micro TRP a | | | | nd UE**** | | | | 10m** **10m** | | | | **Minimum distance | | | | between Micro TRPs | | | | and Macro TRP** ** | | | | 40 m**** 20m**| | | | ----- | | | | -------------------- | | | | -------------------- | | | | ---------- --------- | | | | ----- -------------- | | +----------------------+----------------------+----------------------+ | Topology formation | The following | | | | factors can be | | | | considered as input | | | | to the IAB-node | | | | parent-node | | | | selection, in | | | | addition to | | | | parent-node RSRP as | | | | measured by the | | | | IAB-node: | | | | | | | | Number of hops to | | | | between the | | | | candidate parent | | | | node to the donor | | | | node | | | | | | | | \"Capacity\" | | | | measures (downlink | | | | and uplink) of links | | | | on the path between | | | | the candidate parent | | | | node to the donor | | | | node | | | | | | | | e.g. min RSRP of a | | | | route, harmonic mean | | | | of RSRP, Shannon | | | | capacity of the | | | | link, IAB-node | | | | capability | | | | | | | | Load (downlink and | | | | uplink) of the | | | | candidate parent | | | | node as well as | | | | nodes on the paths | | | | between the | | | | candidate parent | | | | node to the donor | | | | node | | | | | | | | Examples: Number of | | | | IAB-nodes and access | | | | UEs served by a | | | | certain node | | | | | | | | Note: Other factors | | | | to avoid the | | | | backhaul link | | | | congestion can also | | | | be included for | | | | parent node | | | | selection. The | | | | detailed algorithm | | | | is up to companies\' | | | | choice and should be | | | | reported by | | | | companies. | | +----------------------+----------------------+----------------------+ | Carrier frequency | 4 GHz and 30GHz | 4 GHz and 30GHz | +----------------------+----------------------+----------------------+ | Duplex mode | TDD | TDD | +----------------------+----------------------+----------------------+ | Aggregated system\ | 4GHz: Up to 100MHz | 4GHz: Up to 100 MHz | | bandwidth (access + | (DL+UL)\ | (DL+UL)\ | | backhaul) | 30GHz: Up to 400MHz | 30GHz: Up to 400MHz | | | (DL+UL) | (DL+UL) | +----------------------+----------------------+----------------------+ | Simulation bandwidth | Per CC BW is up to | | | | company (up to | | | | 400MHz for 30GHz and | | | | up to 100MHz for | | | | 4GHz) | | +----------------------+----------------------+----------------------+ | Large-scale channel | Below 6GHz: | Below 6GHz: | | parameters | | | | | - Macro-to-UE: 3D | - Micro-to-UE: 3D | | | UMa | UMi | | | | | | | - Micro-to-UE: 3D | - Micro-to-Micro: | | | UMi | 3D UMi (h~UE~ =10m) | | | | | | | - Macro-to-Micro: | - UE-to-UE: A.2.1.2 | | | 3D UMa (h~UE~ =10m) | in TR36.843(***), | | | | penetration loss | | | - Micro-to-Micro: | between UEs follows | | | 3D UMi (h~UE~ =10m) | Table A.2.1-13 of | | | | TR38.802 | | | - UE-to-UE: A.2.1.2 | | | | in TR36.843(***), | Above 6GHz: | | | penetration loss | | | | between UEs follows | - Micro-to-UE: | | | Table A.2.1-13 of | UMi-Street canyon | | | TR38.802 | | | | | - Micro-to-Micro: | | | Above 6GHz: | UMi-Street canyon | | | | (h~UE~ =10m) | | | - Macro-to-UE: 5GCM | | | | UMa | - UE-to-UE: | | | | UMi-Street canyon | | | - Micro-to-UE: | (h~BS~ =1.5m \~ | | | UMi-Street canyon | 22.5m), penetration | | | | loss between UEs | | | - Macro-to-Macro: | follows Table | | | 5GCM UMa (h~UE~ | A.2.1-12 of TR38.802 | | | =25m) | | | | | The path loss for | | | - Macro-to-Micro: | links between the | | | 5GCM UMa (h~UE~ | IAB-node and | | | =10m) | candidate serving | | | | IAB-nodes/donors is | | | - Micro-to-Micro: | determined based on | | | UMi-Street canyon | N =3 independent | | | (h~UE~ =10m) | large-scale channel | | | | realizations (taking | | | - UE-to-UE: | into account | | | UMi-Street canyon | LOS/NLOS probability | | | (h~BS~ =1.5m \~ | and shadow fading). | | | 22.5m), penetration | The realization that | | | loss between UEs | results in the | | | follows Table | minimum pathloss | | | A.2.1-12 of TR38.802 | between the IAB-node | | | | and the associated | | | The path loss for | serving | | | links between the | IAB-node/donor is | | | IAB-node and | selected. | | | candidate serving | | | | IAB-nodes/donors is | | | | determined based on | | | | N =3 independent | | | | large-scale channel | | | | realizations (taking | | | | into account | | | | LOS/NLOS probability | | | | and shadow fading). | | | | The realization that | | | | results in the | | | | minimum pathloss | | | | between the IAB-node | | | | and the associated | | | | serving | | | | IAB-node/donor is | | | | selected. | | +----------------------+----------------------+----------------------+ | Fast fading | Below 6GHz: | Below 6GHz: | | parameters | | | | | - Macro-to-UE: 3D | - Micro-to-UE: 3D | | | UMa | UMi | | | | | | | - Micro-to-UE: 3D | - Micro to Micro: | | | UMi | 3D UMi O-to-O (h~UE~ | | | | =10m); ASA and ZSA | | | - Macro to Macro: | statistics updated | | | 3D UMa O-to-O (h~UE~ | to be the same as | | | =25m); ASA and ZSA | ASD and ZSD; ZoD | | | statistics(**) | offset = 0 | | | updated to be the | | | | same as ASD and ZSD; | - UE to UE: InH for | | | ZoD offset = 0 | indoor to indoor, | | | | and 3D UMi for other | | | - Macro to Micro: | cases. ASD and ZSD | | | 3D UMa O-to-O; ASA | statistics updated | | | and ZSA statistics | to be the same as | | | updated to be the | ASA and ZSA. Dual | | | same as ASD and ZSD | mobility support. | | | for UMi-Street | | | | canyon; ZoD offset = | Above 6GHz: | | | 0 | | | | | - Micro-to-UE: | | | - Micro to Micro: | UMi-Street canyon | | | 3D UMi O-to-O (h~UE~ | | | | =10m); ASA and ZSA | - Micro to Micro: | | | statistics updated | UMi-Street canyon | | | to be the same as | O-to-O (h~UE~ =10m); | | | ASD and ZSD; ZoD | ASA and ZSA | | | offset = 0 | statistics updated | | | | to be the same as | | | - UE to UE: InH for | ASD and ZSD; ZoD | | | indoor to indoor, | offset = 0 | | | and 3D UMi for other | | | | cases. ASD and ZSD | - UE to UE: | | | statistics updated | UMi-Street canyon; | | | to be the same as | ASD and ZSD | | | ASA and ZSA. Dual | statistics updated | | | mobility support. | to be the same as | | | | ASA and ZSA. Dual | | | Above 6GHz: | mobility support. | | | | | | | - Macro-to-UE: 5GCM | | | | UMa | | | | | | | | - Micro-to-UE: | | | | UMi-Street canyon | | | | | | | | - Macro to macro: | | | | 5GCM UMa O-to-O | | | | (h~UE~ =25m); ASA | | | | and ZSA statistics | | | | updated to be the | | | | same as ASD and ZSD; | | | | ZoD offset = 0 | | | | | | | | - Macro to micro: | | | | 5GCM UMa O-to-O; ASA | | | | and ZSA statistics | | | | updated to be the | | | | same as ASD and ZSD | | | | for UMi-Street | | | | canyon; ZoD offset = | | | | 0 | | | | | | | | - Micro to Micro: | | | | UMi-Street canyon | | | | O-to-O (h~UE~ =10m); | | | | ASA and ZSA | | | | statistics updated | | | | to be the same as | | | | ASD and ZSD; ZoD | | | | offset = 0 | | | | | | | | - UE to UE: | | | | UMi-Street canyon; | | | | ASD and ZSD | | | | statistics updated | | | | to be the same as | | | | ASA and ZSA. Dual | | | | mobility support. | | +----------------------+----------------------+----------------------+ | BS Tx power | [Macro | [Below | | | layer:]{.underline} | 6GHz]{.underline}: | | | | 33dBm PA scaled down | | | Below 6GHz: 44 dBm | with simulation BW | | | PA scaled down with | when system BW is | | | simulation BW when | higher than | | | system BW is higher | simulation BW. | | | than simulation BW. | Otherwise, 33dBm | | | Otherwise, 44 dBm | | | | | [Above | | | Above 6GHz: 40 dBm | 6GHz]{.underline}: | | | PA scaled down with | 33dBm PA scaled down | | | simulation BW when | with simulation BW | | | system BW is higher | when system BW is | | | than simulation BW. | higher than | | | Otherwise, 40 dBm | simulation BW. | | | | Otherwise, 33dBm | | | [Micro | | | | layer:]{.underline} | EIRP should not | | | | exceed 68 dBm (*) | | | 4 GHz: 33dBm for | | | | 20MHz system | | | | bandwidth | | | | | | | | Above 6GHz: 33 dBm | | | | PA scaled down with | | | | simulation BW when | | | | system BW is higher | | | | than simulation BW. | | | | Otherwise, 33 dBm. | | | | | | | | EIRP should not | | | | exceed 73 dBm and 68 | | | | dBm for the macro | | | | and micro layers | | | | respectively(*) | | +----------------------+----------------------+----------------------+ | UE Tx power | [Below | | | | 6GHz]{.underline}: | | | | 23dBm | | | | | | | | [30GHz]{.underline}: | | | | 23dBm | | | | | | | | EIRP should not | | | | exceed 43 dBm | | | | (Note1) | | +----------------------+----------------------+----------------------+ | BS antenna | See Table A.2.1-4 of | | | configurations | TR38.802. | | | | | | | | [At least for the | | | | purpose of IAB | | | | evaluations, when | | | | the IAB-node has | | | | multiple panels, | | | | access and backhaul | | | | traffic can be sent | | | | on any panel, | | | | subject to the per | | | | IAB-node half duplex | | | | cons | | | | traint.]{.underline} | | +----------------------+----------------------+----------------------+ | BS antenna height | 25m for macro cells | 10 m | | | and 10m for micro | | | | cells | | +----------------------+----------------------+----------------------+ | BS antenna element | See Table A.2.1-4 of | | | gain + connector | TR38.802 | | | loss | | | +----------------------+----------------------+----------------------+ | BS receiver noise | Below 6GHz: 5dB | | | figure | | | | | Above 6GHz: 7dB | | +----------------------+----------------------+----------------------+ | UE antenna | See Table A.2.1-4 of | | | configuration | TR8.802. | | +----------------------+----------------------+----------------------+ | UE antenna height | Follow TR36.873 | | +----------------------+----------------------+----------------------+ | UE antenna gain | Follow the modeling | | | | of TR36.873 | | +----------------------+----------------------+----------------------+ | UE receiver noise | Below 6GHz: 9dB\ | | | figure | Above 6GHz: 13dB | | | | (baseline | | | | performance), 10dB | | | | (high performance) | | +----------------------+----------------------+----------------------+ | Traffic model | FTP model 3 with | | | | packet size | | | | [2]Mbytes. | | | | | | | | Ratio of access | | | | DL/UL traffic = | | | | {4:1} | | | | | | | | - Values can be | | | | revisited after | | | | tuning the lambda | | | | value to achieve | | | | target RU | | +----------------------+----------------------+----------------------+ | Traffic load | RU target of the | | | (Resource | donor nodes for the | | | utilization) | IAB deployment | | | | scenarios | | | | | | | | - Low (0-20%), | | | | medium (20 -- 55%) | | | | and high (55 - 80%) | | | | | | | | For the non-IAB | | | | case: | | | | | | | | Baseline: The same | | | | FTP model parameter | | | | values are applied | | | | in the non-IAB case | | | | | | | | Optional: RU target | | | | for the non-IAB | | | | case: Low (0-20%), | | | | medium (20 -- 55%) | | | | and high (55-80%) | | +----------------------+----------------------+----------------------+ | UE distribution |**[30, 60] users | **10 users per | | | per macro sector. | sector. UEs are | | | UEs are dropped | dropped | | | independently with | independently with | | | uniform | uniform | | | distribution. The | distribution. The | | | number of UEs is | number of UEs is | | | fixed for cases with | fixed for cases with | | | and without | and without | | | IAB-nodes.** | IAB-nodes.**| | | | | | |** \- 80% indoor | **\- 80% indoor | | | (3km/h), 20% outdoor | (3km/h), 20% outdoor | | | (30km/h)** | (30km/h)**| | | | | | |** Mix of O2I | **Mix of O2I | | | penetration loss | penetration loss | | | models for higher | models for higher | | | carrier frequency** | carrier frequency**| | | | | | | -** Option1**| -** Option1**| | | | | | | -** Low loss model | - **Low loss model | | | -- 80%** | -- 80%**| | | | | | | -** High-loss model | - **High-loss model | | | -- 20%** | -- 20%**| | | | | | | -** Option2**| -** Option2**| | | | | | | -** Low loss model | - **Low loss model | | | -- 50%** | -- 50%**| | | | | | | -** High-loss model | - **High-loss model | | | -- 50%** | -- 50%** | +----------------------+----------------------+----------------------+ | UE receiver | MMSE-IRC as the | | | | baseline receiver\ | | | | Note: Advanced | | | | receiver is not | | | | precluded. | | +----------------------+----------------------+----------------------+ | Feedback assumption | Realistic | | +----------------------+----------------------+----------------------+ | Channel estimation | Realistic | | +----------------------+----------------------+----------------------+ | Note 1: See Appendix | | | | in R1-164383 and | | | | R1-167533 for the | | | | derivation of | | | | maximum allowed | | | | EIRP. EIRP limit is | | | | only used for | | | | evaluation purpose | | | | in RAN1. | | | +----------------------+----------------------+----------------------+
# A.2 Evaluation results
This section contains references to contributions submitted during the IAB SI
containing evaluation results for IAB based on the simulation assumptions
provided in Section A.1. Details of the simulation parameters and observations
can be found in the corresponding referenced contributions:
R1-1810691: Evaluation results for NR IAB, AT&T
R1-1812860: Evaluation results for NR IAB, AT&T
R1-1811514: Evaluation of topology formation for IAB, Ericsson
R1-1813573: Evaluation of multihop IAB networks, Ericsson
R1-1805924: IAB system evaluation methodology and preliminary results, Huawei,
Hisilicon
R1-1812199: System performance evaluation in multi-hop IAB network, Huawei,
Hisilicon
R1-1812203: Consideration on cross-link interference in IAB, Huawei, Hisilicon
R1-1812204: On high order modulation in IAB, Huawei, Hisilicon
R1-1806551: PHY layer enhancement for NR IAB, Intel Corporation
R1-1808692: Evaluation methodology for IAB, Intel Corporation
R1-1812487: Evaluation methodology for IAB, Intel Corporation
R1-1812701: Evaluation of IAB, Nokia, Nokia Shanghai Bell
R1-1812707: On Cross-link Interference Management, Nokia, Nokia Shanghai Bell
R1-1813418: System Level Simulation Results for IAB Networks, Qualcomm
R1-1814060: Evaluation Results for NR IAB, Samsung
R1-1811196: IAB evaluations based on different topology constructions, ZTE,
Sanechips
## A.2.1 Performance gain of IAB
The following list of contributions contain simulation results for the
following performance evaluations:
1) Comparison between network deployments which utilize IAB and deployments
with only IAB-donor (i.e. wired backhaul) nodes to provide connectivity for
access UEs: R1-1810691, R1-1812199, R1-1806551, R1-1808692, R1-1812701,
R1-1813418, R1-1814060.
2) Comparison of different multiplexing approaches for IAB, including dynamic
and static TDM and SDM of access and backhaul links: R1-1812199, R1-1812487,
R1-1814060.
3) The impact of cross-link interference and benefit of mitigation approaches:
R1-1810691, R1-1808692, R1-1812701, R1-1812707.
4) Use of higher order modulation up to 1024 QAM on backhaul links:
R1-1812199, R1-1812204.
5) Comparison of single vs. multi-hop IAB networks: R1-1812487.
## A.2.2 Topology formation for IAB
The following list of contributions, contain simulation results which
investigate different topology formation methodologies, taking into account
different factors including:
\- Backhaul link RSRP/SINR: R1-1811514, R1-1805924, R1-1812487, R1-1813418,
R1-1814060, R1-1811196
\- Hop count: R1-1813418, R1-1814060, R1-1811196
\- Number of descendent child nodes: R1-1811514, R1-1813418, R1-1814060,
R1-1811196
\- Traffic load: R1-1813418
\- Antenna panel orientation: R1-1813418, R1-1814060
\- Spanning tree vs. mesh topologies: R1-1813418
\- End-to-End Quality: R1-1811514
## A.2.3 Summary
From the results provided, the following conclusions can be made:
\- IAB provides significant gains in downlink and uplink user perceived
throughput and coverage compared to a baseline deployment without IAB-nodes
and the same number of wired nodes. The gains are present for low, medium, and
high load scenarios and different resource allocation approaches (including
semi-static and dynamic TDM and SDM) which take into account a half-duplex
constraint at the IAB-nodes.
\- Multi-hop IAB deployments provide benefits at least in terms of link/route
quality, between the UE and the serving IAB-donor comparing to a single-hop
relay only scenario.
\- Higher modulation order using 256QAM & 1024QAM has been evaluated and shown
performance gains under the evaluated conditions for IAB.
\- Topology adaption based on for example loading or interference, provides
benefits compared to a static IAB topology.
#