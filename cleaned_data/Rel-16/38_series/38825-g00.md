# Foreword
This Technical Report has been produced by the 3rd Generation Partnership
Project (3GPP).
The contents of the present document are subject to continuing work within the
TSG and may change following formal TSG approval. Should the TSG modify the
contents of the present document, it will be re-released by the TSG with an
identifying change of release date and an increase in version number as
follows:
Version x.y.z
where:
x the first digit:
1 presented to TSG for information;
2 presented to TSG for approval;
3 or greater indicates TSG approved document under change control.
y the second digit is incremented for all changes of substance, i.e. technical
enhancements, corrections, updates, etc.
z the third digit is incremented when editorial only changes have been
incorporated in the document.
# 1 Scope
The present document is related to Study on NR Industrial Internet of Things
(IoT) with a scope as defined in [2].
The document describes NR enhancements to Ultra Reliable Low Latency
Communications (URLLC) and Industrial Internet of Things, which were analysed
as part of the study such as data duplication and multi-connectivity
enhancements, solutions for **UL/DL intra-UE prioritization/multiplexing and
Time Sensitive Networking support (TSN) via accurate reference timing
delivery, QoS/scheduling enhancements for TSN traffic types, Ethernet header
compression. Technical Report captures also performance analysis of TSN
requirements defined in [6].**
# 2 References
The following documents contain provisions which, through reference in this
text, constitute provisions of the present document.
\- References are either specific (identified by date of publication, edition
number, version number, etc.) or nonâ€‘specific.
\- For a specific reference, subsequent revisions do not apply.
\- For a non-specific reference, the latest version applies. In the case of a
reference to a 3GPP document (including a GSM document), a non-specific
reference implicitly refers to the latest version of that document _in the
same Release as the present document_.
[1] 3GPP TR 21.905: \"Vocabulary for 3GPP Specifications\".
[2] 3GPP RP-182090 \"Revised SID: Study on NR Industrial Internet of Things
(IoT)\".
[3] 3GPP TR 22.804: \"Study on Communication for Automation in Vertical
Domains\".
[4] 3GPP TR 23.725: \"Study on enhancement of Ultra-Reliable Low-Latency
Communication (URLLC) support in the 5G Core network (5GC)\".
[5] 3GPP TR 23.734: \"Study on 5GS Enhanced support of Vertical and LAN
Services\".
[6] 3GPP TS 22.104: \"Service requirements for cyber-physical control
applications in vertical domains\".
[7] 3GPP TS 36.331: \"Evolved Universal Terrestrial Radio Access (E-UTRA);
Radio Resource Control (RRC) protocol specification\".
[8] 3GPP TR 38.824: \"Study on physical layer enhancements for NR ultra-
reliable and low latency case (URLLC)\".
[9] IEEE 802.1Q-2014 - IEEE Standard for Local and metropolitan area networks
--Bridges and Bridged Networks.
[10] 3GPP TS 23.501: \"System architecture for the 5G System (5GS)\".
[11] 3GPP R2-1816689: \"Ethernet Header Compression\".
[12] 3GPP R2-1817175: \"Ethernet Header Compression\".
[13] 3GPP R2-1817572: \"Discussion on the Ethernet header compression\".
[14] 3GPP TS 38.323: \"NR; Packet Data Convergence Protocol (PDCP)
specification\".
[15] 3GPP R2-1817913: \"RoHC based Header Compression for TSN\".
[16] 3GPP R2-1816765: \"Ethernet header compression\".
[17] 3GPP TS 36.323: \"Evolved Universal Terrestrial Radio Access (E-UTRA);
Packet Data Convergence Protocol (PDCP) specification\".
[18] IETF RFC 1951: \"DEFLATE Compressed Data Format Specification\".
[19] 3GPP S2-189051: \"LS on TSN integration in the 5G System\".
[20] 3GPP TR 37.910: \"Study on self evaluation towards IMT-2020 submission\".
[21] 3GPP R1-1900156: \"On evaluation of latency, reliability and TSN
requirements\".
[22] 3GPP R1-1901334: \"TSN evaluations for IIoT requirements\".
[23] 3GPP R1-1900935: \"Discussion on the RAN2 LS on TSN requirements
evaluation\".
[24] 3GPP R1-1901252: \"Evaluation on TSN requirements\".
[25] 3GPP R1-1901470: \"Reply LS on TSN requirements evaluation\".
[26] 3GPP R1-1900180: \"Reliability and Latency Evaluation for Case I Factory
Automation Scenario\".
[27] 3GPP R1-1901072: \"Discussion on TSN requirements evaluation\".
[28] 3GPP R2-1816043: \"LS on TSN requirements evaluation\".
[29] 3GPP R1-1901456: \"Summary of evaluations on TSN reliability, latency and
synchronization accuracy\".
[30] 3GPP R1-1900903: \"Discussion on Timing Requirements for Industrial
IoT\".
[31] 3GPP R1-1901353: \"Analysis of Time Synchronization Accuracy over Uu
Interface\".
# 3 Definitions, symbols and abbreviations
## 3.1 Definitions
For the purposes of the present document, the terms and definitions given in
3GPP TR 21.905 [1] and the following apply. A term defined in the present
document takes precedence over the definition of the same term, if any, in
3GPP TR 21.905 [1].
## 3.2 Abbreviations
For the purposes of the present document, the abbreviations given in 3GPP TR
21.905 [1] and the following apply. An abbreviation defined in the present
document takes precedence over the definition of the same abbreviation, if
any, in 3GPP TR 21.905 [1].
BWP Bandwidth Part
CA Carrier Aggregation
CG Configured Grant
CSI Channel State Indication
DC Dual Connectivity
GM Grand Master
gPTP generalized Precision Time Protocol
HRP High Reliability Protocol
IANA Internet Assigned Numbers Authority
LCH Logical Channel
LCP Logical Channel Prioritisation
MTU Maximum Transmission Unit
PMU Phasor Measurement Unit
PTP Precision Time Protocol
RG Reliability Group
SCS Sub-carrier Spacing
SPS Semi-persistent Scheduling
SR Scheduling Request
TE Time Error
TRP Transmission Reception Point
TSN Time Sensitive Networking
UAV Unmanned Aerial Vehicle
URLLC Ultra Reliable Low Latency Communications
# 4 Data duplication and multi-connectivity enhancements
## 4.1 General
This section focuses on PDCP duplication and higher layer multi-connectivity
aspects such as assessment of gains of duplication with more than two copies,
potential enhancements to achieve resource efficient PDCP duplication and
captures RAN aspects of higher layer multi-connectivity solutions.
## 4.2 Enhancements to PDCP duplication
### 4.2.1 Protocol aspects
In PDCP duplication, the PDCP entity delivers duplicate PDCP PDUs to more than
one RLC entity.
The benefit in supporting up to four (4) copies can give the NW freedom, in
certain architectural deployment scenarios, e.g. using CA or DC, to configure
towards achieving consistent reliability using several concurrent radio links
that dynamically vary in reliability and latency. Duplication increases
overhead as well as protocol complexity and use of more than two copies is not
expected to be a common configuration.
Multiple RLC entities/legs give better possibilities for varying link
characteristics and selecting for which radio links duplication is active.
This facilitates having duplicated PDUs transmitted, possibly dynamically, on
selected radio link(s) in a subset of a total number of configured RLC
entities/legs. For example, the active subset of configured RLC entity/leg
and/or carriers can be dynamically switched to support flexible transmission
of PDCP PDUs. In addition, supporting multiple configurable RLC entities/legs
also supports different architectural deployments and combinations, e.g. DC in
combination with CA or other.
RRC configuration can be used to initially configure UEs of a set of RLC
entities or legs; for where the NW can dynamically control how configured RLC
entities or legs are activated and used for duplicate transmission using
signalling such as MAC CE. Dynamic selection of RLC entities or legs may
possibly also be made using other methods, for example UE based.
PDCP duplication enhancements are applicable to CA, DC (NR only) and DC+CA (NR
Only). LTE enhancements are not considered in this SI.
In this study, selective duplication in the form of that UE (PDCP) deciding on
per packet basis if additional copies are needed, when a copy is delivered to
another RLC entity/leg and on which RLC entity/leg a copy is transmitted have
not been sufficiently evaluated. Details of selective duplication and possible
benefits need more evaluation.
The current Rel-15 PDCP discard mechanism is deemed sufficient and benefits of
an enhancement through a selective discard mechanism have been determined to
be not needed.
Possible benefits in improving activation/deactivation of PDCP duplication
could be to define UE based, configurable criteria or other to allow a more
dynamic activation and deactivation of duplication for an RLC entity/leg or
bearer. This would complement the extent to which the number of duplicates on
active bearers are used. However, it is not clear from this study item if the
benefit can be achieved within reasonable complexity increase.
In this study, it is assumed that the same RLC mode in all RLC entities per
DRB are used. The RLC mode associated with a DRB is currently determined based
on the service or services carried on that bearer.
Enhancements to LCH restriction or LCP, possibly with dynamic adaptation to
improve e.g radio resource efficiency may be beneficial but has not been
studied in this SI.
### 4.2.2 Radio access network aspects
Packet duplication is regarded as an effective feature to meet the reliability
requirements for URLLC services but at the cost of radio resources. Hence it
is important to support efficient downlink packet duplication from a RAN
architecture perspective. The current Rel-15 packet duplication functionality
should be taken as the baseline. Optimizations to improve resource efficiency
(e.g. Selective PDCP duplication upon transmission failure, PDCP discarding,
Effective PDCP duplication) are discussed without full evaluation. Potential
enhancements may be possible.
## 4.3 Higher layer multi-connectivity
### 4.3.1 Layer 2/3 protocol aspects
TR 23.725 [4] has introduced several possible solutions enabling higher-layer
multi-connectivity. Some of the solutions were identified to have RAN impacts
and this section captures layer 2/3 protocol aspects relating to Solutions #2,
#3, #7, and #10 from [4], as summarised below.
**Aspects of Solutions based on Reliability Group (Solution #2 and Solution
#10)**
To enable the realization of solutions based on reliability groups (RGs),
wherein multiple UEs of a device are associating to distinct end-to-end
connections to achieve diversity, broadcasting signalling (such as SIB) in the
air interface could be applied for purposes of RG allocation (Solution #10).
However, existing mechanisms (e.g., providing cell reselection priorities in
dedicated signalling) can achieve the same functionality, and such an approach
is preferable from RAN point of view.
**Aspects of Solutions based on PDCP/GTP-U Enhancement or HRP Protocol Layer
(Solution #3)**
Option 1 of Solution #3 introduces dependency between the sequence number in
GTP-U header and PDCP SN, in which PDCP SN could be assigned by the RAN nodes
in accordance to the GTP-U header via mapping. Such approach could result in
impacts in terms of PDCP SN resetting. In particular, the PDCP SN is used for
ciphering, deciphering, and integrity protection, so it is extremely important
that both PDCP transmitter and receiver have the same view of the SN of each
of the PDCP PDUs. The PDCP SN is always set to zero when the PDCP is
established. This can happen, for instance, when the entity is initially set
up or when an RRC reconfiguration with the full configuration option is
signalled. In this latter case (full configuration option), there is a risk of
packet losses in PDCP. In addition, PDCP re-establishment also leads to PDCP
SN reset to its initial value for UMD DRBs. PDCP (re-)establishment are also
triggered by RRC.
On the other hand, Option 2 of Solution #3 introduces a new protocol layer
dubbed HRP between UE and UPF to handle packet replication and elimination.
Impacts to RAN are foreseeable as the knowledge regarding whether this new
protocol layer exists (and hence the header), is required by the RAN to
perform header compression/decompression at the PDCP. Moreover, as this option
requires two N3 tunnels for DC-based architecture, two PDCP entities are
needed at the RAN.
**Aspects of Solutions based on UPF Indication (Solution #7)**
In Solution #7, the UPF may indicate if a flow is utilized for redundant
packet, and the lower layer should be instructed to treat the packets as
uncorrelated as possible, in a bid to support reliable transmission via multi-
connectivity. How the RAN should respond to such indication is an
implementation issue and hence no specification impacts have been observed. UL
transmission was not analysed in detail.
### 4.3.2 Radio access network aspects
#### 4.3.2.1 Redundant user plane paths based on dual connectivity
##### 4.3.2.1.1 Overview
This is the solution of redundant user plane paths based on dual connectivity
for Key Issue 1 captured in TR 23.725[4].
The solution will enable a terminal device to set up two redundant PDU
Sessions over the 5G network, so that the network will attempt to make the
paths of the two redundant PDU sessions independent whenever that is possible.
Figure 4.3.2.1.1-1: Overview of redundant user plane paths based on dual
connectivity approach
##### 4.3.2.1.2 Impacts on RAN
\- Attempt to establish and maintain dual connectivity when the need for
redundant user planes are indicated for a pair of PDU Sessions.
\- Set up dual connectivity in such a way that both the MgNB and the SgNB have
an independent PDCP entity for handling the two independent user plane paths.
This is supported in the specification already.
\- To achieve the use plane redundancy, one PDU session is setup as MN
terminated MCG bearer, the other PDU session (of the pair) is setup as SN
terminated SCG bearer.
\- To ensure independent paths, the bearer type change of MN terminated MCG
bearer to SCG bearer or split bearer may be disallowed. The bearer type change
of the SN terminated SCG bearer to MCG bearer or split bearer may be
disallowed.
\- If the PDCP duplication is to be used, the lower layer resources should be
ensured to be isolated, e.g. using other frequency.
#### 4.3.2.2 Multiple UEs per device for user plane
##### 4.3.2.2.1 Overview
This is the solution \"Multiple UEs per device for user plane\" for Key Issue
1 captured in TR 23.725[4].
The solution will enable a terminal device to set up multiple redundant PDU
Sessions over the 5G network, so that the network will attempt to make the
paths of the multiple redundant PDU sessions independent whenever that is
possible.
Figure 4.3.2.2.1-1: Overview of multiple UEs per device for user plane
approach
##### 4.3.2.2.2 Impacts on RAN
\- O&M configuration of the RAN RGs on a per cell level.
\- Prioritization of the handover of the UE to a cell whose RAN RG coincides
with the UE RG, when such a suitable target cell is available.
#### 4.3.2.3 Supporting redundant data transmission via single UPF and two RAN
nodes
##### 4.3.2.3.1 Overview
This is the solution of \"supporting redundant data transmission via single
UPF and two RAN nodes\" for Key Issue 1 captured in TR 23.725[4].
This solution realizes the reliability of user plane between UPF and UE while
the QoS flow redundant transmission in the PDU session is decided by SMF.
Figure 4.3.2.3.1-1: Overview of redundant data transmission via single UPF and
two RAN nodes approach
##### 4.3.2.3.2 Impacts on RAN
\- The RAN node shall support redundant transmission via DC architecture with
two N3 tunnels.
\- In case protocol stack option 1 in TS 23.725[4] is adopted, RAN need to
ensure there is only one QoS Flow per DRB.
#### 4.3.2.4 Supporting redundant data transmission via single UPF and single
RAN node
##### 4.3.2.4.1 Overview
This is the solution of \"supporting redundant data transmission via single
UPF and single RAN node\" for Key Issue 1 captured in TR 23.725[4].
In this solution the redundant packets will be transferred between UPF and RAN
via two independent N3 tunnels, which are associated with a single PDU
Session, over different transport layer path to enhance the reliability of
service.
Figure 4.3.2.4.1-1: Overview of redundant data transmission via single UPF and
single RAN node approach
##### 4.3.2.4.2 Impacts on RAN
\- The RAN shall be able to replicate the uplink packet per QOS flow and
assign the same GTP-U sequence number to these packets, and send the duplicate
packets to the two N3 tunnels.
\- The RAN shall be able to eliminate the duplicate downlink packets based on
the same GTP-U sequence number of these packets.
#### 4.3.2.5 Support replication framework in 3GPP System
##### 4.3.2.5.1 Overview
This is the solution of \"Replication framework in 3GPP System\" for Key Issue
1 captured in TR 23.725 [4].
This solution introduces a replicator that allows the 3GPP system to be aware
(e.g. detect or have explicit information) that two or more \"streams\" of
replicated packets belong together, and guide the lower layers to ensure these
packets get an optimized treatment in the 3GPP system.
The Replicator functionality may be a part of the UPF (or collocated with the
UPF) for user plane functionality and SMF for control plane functionality.
Figure 4.3.2.5.1-1: Architecture with Replication Framework
##### 4.3.2.5.2 Impacts on RAN
\- Access to replicator functionality support. Replicator in the RAN has the
capability to replicate packets over N3 and/or eliminate further replication
of packets over Uu/N3.
# 5 **Intra-UE prioritization/multiplexing**
## 5.1 General
This section describes an aspect of intra-UE traffic prioritization and
multiplexing considering data and control channels, different latency and
reliability requirements and different types of resource allocations for both
uplink and downlink directions.
## 5.2 Scenarios and use cases
### 5.2.1 Overview
Intra-UE prioritization/multiplexing considers the cases wherein a UE
confronts with DL/UL radio resource conflict between control/data traffics
associating to different QoS requirements. For example, a UAV at a smart
factory may have to concurrently cope with eMBB traffics such as surveillance
video and URLLC traffics such as motion control. The objective of this section
is to describe several scenarios of Intra-UE prioritization that this SI has
identified for further investigation.
### 5.2.2 Scenario 1: Intra-UE DL Prioritization
In this scenario, a UE has been scheduled to receive DL traffics with
different priorities, corresponding to different DL assignments received
sequentially, but over the radio resources overlapping in time.
### 5.2.3 Scenario 2: Intra-UE UL Prioritization: Resource Conflict between
Configured and Dynamic Grants
In this scenario, a UE receives a dynamic grant for uplink transmission, the
associated PUSCH of which overlaps in time with reserved uplink resources
activated by either Type-1 or Type 2 configured grant. According to the
priority rule defined in Rel-15, dynamic grant always overrides configured
grant in situations of resource conflict between them. However, this may not
be desirable in some cases as configured grants are typically used to cater
URLLC traffics, and it may be problematic if URLLC can be punctured by another
dynamic grant.
### 5.2.4 Scenario 3: Intra-UE UL Prioritization: Resource Conflict between
Dynamic Grants
In this scenario, a UE sequentially receives two dynamic grants from the gNB
for uplink transmission with overlapped PUSCH resources in time. For such
cases, currently there is no existing mechanism or rules for the UE to
determine how to handle prioritization of these two grants.
### 5.2.5 Scenario 4: Intra-UE UL Prioritization -- Resource Conflict between
Control Information and Control Information
In this scenario, a UE needs to conduct uplink transmission of control
information such as SR, HARQ feedback and CSI associating to a prioritized
traffic at the same time as the on-going uplink transmission of control
information for other traffics with lower priority levels, to reduce the
resultant latency.
### 5.2.6 Scenario 5: Intra-UE UL Prioritization -- Resource Conflict between
Control Information and Data
In this scenario, a UE needs to conduct uplink transmission of control
information such as SR, HARQ feedback and CSI associating to a prioritized
traffic at the same time as the on-going uplink transmission of data for other
traffics with lower priority levels, to reduce the resultant latency.
## 5.3 Solutions for uplink **intra-UE prioritization/multiplexing**
### 5.3.1 Solutions for resource collision involving data only
Data-only intra-UE prioritization is applicable for resource conflicts between
configured/configured, configured/dynamic, or dynamic/dynamic grants.
UE prioritization of a grant when there is at most one dynamic grant in the
set of conflicting grants (scenario 2 and configured/configured grant
collisions) shall be addressed. MAC specifies currently the UE prioritization
of such cases, and modifications to MAC would be required.
RAN2 assumes that the later dynamic grant may always be prioritized over an
earlier dynamic grant (scenario 3). One way to realize this is that MAC
generates a PDU for each grant and lets L1 handle conflicting transmissions
(to be confirmed following evaluation of physical layer aspects). Other
solutions are not precluded.
For cases when MAC prioritizes a grant, MAC prioritizes the grant on which
data of the highest priority can be transmitted according to LCP restrictions
and priority configured for each logical channel.
### 5.3.2 Solutions for resource collision involving control information
This section describes the issues and possible solutions for intra-UE uplink
resource collision cases corresponding to Scenario 4 and 5 listed in Section
5.2, where at least one colliding uplink resources are intended to be used for
transmission of control information (e.g. SR, CSI, HARQ feedback and MAC CEs).
For resource collision between SR associating to high-priority traffic and
uplink data of lower-priority traffic, the current specifications of Rel-15
refrains transmission of SR by always prioritizing UL-SCH, which may cause a
delay for the SR transmission and may ultimately result in failure to meet the
QoS requirement of high-priority traffic. Possible solutions include to define
a prioritization handling rule to determine whether to transmit SR or PUSCH
based on e.g. the priority of the LCH which triggers the SR and priorities of
the data to be transmitted on the PUSCH resource.
### 5.3.3 Physical layer aspects
RAN1 has discussed the uplink intra-UE prioritization/multiplexing in
scenarios 2, 3, 4 and 5 from PHY layer perspective.
For scenario 2, in case the collision between configured grant and dynamic
grant occurs in physical layer, options to determine the prioritization
between configured grant and dynamic grant include at least:
\- Priority at PHY is determined by MAC layer for the purpose of PHY
prioritization.
\- Note: this may or may not have any RAN1 impact
\- Priority at PHY is determined via PHY channel(s)/signal(s)/parameters for
the purpose of PHY prioritization.
\- It is configurable as part of the configured grant configuration whether it
should have higher priority than dynamic grant in case of conflict.
\- Other options are not precluded.
RAN1 recommends to allow the prioritization of configured grant over dynamic
grant under some conditions in case of collision in scenario 2.
For scenario 3, RAN1 recommends to support the handling of scenario 3.
For scenarios 4 and 5, RAN1 recommends to support enhancements for scenario 4
and 5. RAN1 recommends considering the prioritization and/or multiplexing
behaviour among URLLC/eMBB HARQ-ACK/SR/CSI and URLLC/eMBB PUSCH, including the
cases with UCI on PUCCH and UCI on PUSCH. Note that RAN1 has not concluded
whether to support prioritization, or multiplexing, or both.
## 5.4 Solutions for downlink **intra-UE prioritization/multiplexing**
RAN1 has discussed the downlink intra-UE prioritization/multiplexing in
scenario 1. RAN1 recommends to support the handling of scenario 1.
# 6 **Time Sensitive Networking**
## 6.1 General
This section contains explanation on what TSN networking is and how it can be
supported using 5G/NR technologies as well as analysis of the potential TSN
specific enhancements of NR such has accurate reference timing delivery,
QoS/scheduling enhancements and Ethernet header compression. It also contains
an evaluation of NR with respect to performance and synchronization accuracy
requirements as defined in [3].
## 6.2 TSN use cases, scenarios and architectures
## 6.3 TSN performance evaluation
### 6.3.1 Requirements
The following requirements extracted from [3] are the baseline for the TSN
performance evaluation by RAN WGs:
Table 6.3.1-1 Use cases and requirements considered for TSN requirements
evaluation
Case #UE Communications service availability Transmit period Allowed E2E
latency Survival time Packet size Service area Traffic periodicity Use case
* * *
I 20 99,9999% to 99,999999% 0.5 ms â‰¤ Transmit period Transmit period 50 bytes
15 m x 15 m x 3 m Periodic Motion control and control-to-control use cases II
50 99,9999% to 99,999999% 1 ms â‰¤ Transmit period Transmit period 40 bytes 10 m
x 5 m x 3 m Periodic Motion control and control-to-control use cases III 100
99,9999% to 99,999999% 2 ms â‰¤ Transmit period Transmit period 20 bytes 100 m x
100 m x 30 m Periodic Motion control and control-to-control use cases
It should be noted that, after finalization of Technical Specification in [6],
the requirements of various use cases as captured there take precedence over
those captured in Table 6.3.1-1 and extracted from [3]. However, the
differences for the use cases chosen for evaluation in RAN WGs concern
communications service availability requirement (which was decreased) and
service area and do not affect the outcome of the analysis as presented in
this document.
Furthermore, the following assumptions are made with respect to TSN
performance requirements analysis:
\- reliability targets going beyond 99.9999% can be achieved by higher layer
redundancy (e.g. PDCP duplication) and it is not required to analyse whether
those can be met on PHY layer
\- packet arrival jitter is not to be considered in performance evaluation
(i.e. RAN-level analysis focuses on whether the maximum latency target can be
met while de-jittering is handled by higher protocol layers)
The requirements for clock synchronization can be found in sections 5.6 of
[6]. The evaluation should focus on the following clock synchronization
performance requirements:
Table 6.3.1-2 Clock synchronisation service performance requirement (source:
3GPP TS 22.104)
+-------------+-------------+-------------+-------------+-------------+ | Clock | Number of | Sync | Service | Scenario | | sy | devices in | hronisation | area | | | nchronicity | one | clock | | | | accuracy | Co | sy | | | | level | mmunication | nchronicity | | | | | group for | requirement | | | | | clock | | | | | | sync | | | | | | hronisation | | | | +=============+=============+=============+=============+=============+ | 1 | Up to 300 | \200m to achieve a
synchronization accuracy better than 1us).
The related following conclusions of the physical layer aspects of the
achievable timing synchronization accuracy have been informed to SA1, SA2,
RAN2 and RAN3 in LS R1-1901470 [25]:
_A timing synchronization error between a gNB and a UE no worse than 540ns is
achievable based on the RAN1 agreed evaluation assumptions for Rel-15 NR with
15kHz SCS. It is RAN1Â´s conclusion, that the synchronization accuracy is
improved when using higher SCS. For small service areas with dense small cell
deployments a propagation delay compensation by the UE would not be required.
The propagation delay compensation needs to be applied by the TSN UEs for
larger service areas with more sparse cell deployments (e.g. for inter-site
distances >200m the gNB-to-UE timing synchronization accuracy without
propagation delay compensation may be worse than 1us)._
_Note that the RAN1 analysis does not contain the effects of the granularity &
accuracy of the absolute timing indication information by the gNB, which are
outside of the RAN1 study scope._
### 6.3.3 Protocol aspects
With respect to different options of integrating TSN into 5G system, as
captured in [5], from RAN perspective, it is preferential to reuse the current
QoS framework and TSN integration options allowing that (e.g. \"5G as a black
box\") are preferred.
Protocol aspects of accurate reference time provisioning are discussed in
Section 6.4.
### 6.3.4 Radio access network aspects
#### 6.3.4.1 Time synchronization accuracy
Regarding the achievable time synchronization accuracy from the RAN
perspective, the synchronization accuracy between the gNB and TSN GM clock can
be much less than **1Âµs**.
As examples, several options for delivery of TSN time information from the
synchronization source were considered:
1\. Local on-site GNSS receiver as TSN GM clock;
2\. Local on-site TSN GM clock;
3\. Remote TSN GM clock entity using cascaded PTP capable transport network
connection.
The maximum absolute time error between the TSN GM clock and gNB for the above
time synchronization options is summarized in Table 6.3.4.1-1.
Table 6.3.4.1-1: Maximum absolute time error (TE) between TSN GM clock and gNB
_Synchronization source_ _Synchronization accuracy_
* * *
Local on-site GNSS receiver (GPS is TSN GM clock) \|TE\| = 100 ns. Local on-
site TSN GM clock TE is negligible. Remote TSN GM clock entity using cascaded
PTP capable transport network connections \|TE\| \~N*40ns, where N is the
number of PTP hops.
#### 6.3.4.2 Latency on network interfaces
The latency introduced by network interfaces depends on the backhaul type and
network architecture. The latency can be negligible in certain scenarios, e.g.
high quality backhaul and/or compact architecture (e.g. UPF collocated or very
close to the gNB, no CU/DU split, etc). However, there are cases where the
latency introduced on network interfaces is not negligible, e.g. when an
operator wants to replace an existing wired TSN network with a full \"in-
building wireless solution\" or when utilising wide area network deployment.
In such scenarios, some delay budget needs to be available for the network
interface out of the allowed E2E latency budget as specified in Table 6.3.1-1.
This may also require 5GS QoS enhancements to be supported to deliver
deterministic QoS on the links between the gNB and UPF, and at handover.
### 6.3.5 Overall synchronization accuracy analysis
The synchronization accuracy analysis is based on the following:
\- Synchronization accuracy achievable over the Uu interface discussed in
Section 6.3.2,
\- Synchronization accuracy between TSN GM clock and gNB discussed in Section
6.3.4, and
\- Granularity of signalled reference timing discussed in Section 6.4.2.
Considering the above and assuming 100 ns time error between TSN GM clock and
gNB, as well as the sub-carrier spacing (SCS) of 15 kHz, the overall
synchronization accuracy error between a clock source and UE clock would be
equal to 665 ns (i.e. 540ns (air interface accuracy) + 100ns (network
interface accuracy) + 25 ns (granularity/2)).
Some remarks about the above accuracy analysis:
\- Most UEs will achieve smaller errors when the network configures higher
SCSs.
\- The above calculation assumes the propagation delay is either negligible
(i.e. small service areas) or is compensated for in larger service areas.
\- Without propagation delay compensation, for inter-site distances greater
than 200m, the gNB-to-UE timing synchronization accuracy may be worse than
1us.
\- The synchronization accuracy analysis above is a generic analysis and does
not assume any particular solution in [5].
## 6.4 Accurate reference timing provisioning
### 6.4.1 General
To meet clock synchronization requirements in clause 5.6 of TS 22.104 [6],
accurate reference timing delivery by a gNB to UEs is used.
### 6.4.2 Realizing accurate reference timing delivery
Accurate reference timing delivery is carried out using broadcast and/or
unicast RRC signalling (similar to E-UTRAN approach in [7]). Granularity of
the signalled reference timing is at most 50 ns and determination of exact
value needs further evaluation. Section 6.3.5 provides an analysis for
synchronization accuracy achievable using accurate reference timing delivery.
## 6.5 QoS and scheduling enhancements
### 6.5.1 Overview of traffic characteristics in TSN use cases
In TSN use cases, e.g. in a future factory environment, the UEs need to handle
a mixture of the following different traffic:
\- multiple periodic streams, of different periodicities, of critical
priority, for example multiple TSN streams coming from different applications;
\- aperiodic critical priority traffic that is the result of critical events,
like alarms, safety detectors that need to be informed about the occurrence of
a critical event;
\- best effort type of traffic such as eMBB traffic, internet traffic, or any
other traffic supporting factory operations.
### 6.5.2 Issues and solutions related to TSN traffic support in NR
Table 6.5.2-1 presents TSN traffic characteristics, which may have impact on
the current QoS/scheduling framework in NR. Potential approaches to resolve
those impacts are also listed, which include solutions with both
specifications impact and no specifications impact.
Table 6.5.2-1: TSN traffic characteristics with potential issues and
enhancements
+-----+-------------------+-------------------+-------------------+ | No. | TSN traffic | Description | Potential | | | characteristic | | solutions and | | | | | enhancements | +=====+===================+===================+===================+ | 1 | Deterministic | As captured in TS | Knowledge of TSN | | | nature of TSN | 22.104 [6], TSN | traffic pattern | | | traffic | traffic is often | is useful for the | | | | periodic, | gNB to allow it | | | | deterministic | to more | | | | (meaning that the | efficiently | | | | delay between | schedule either | | | | transmission of a | via CG/SPS or | | | | message and | dynamic grants. | | | | receipt of the | It would be | | | | message at the | beneficial to | | | | destination | provide the | | | | address needs to | relevant | | | | be stable (within | information, e.g. | | | | bounds)) and with | upon QoS flow | | | | a message size | establishment. | | | | which is fixed or | The provided | | | | in a specified | information | | | | range. | should at least | | | | | include message | | | | | periodicity, | | | | | message size and | | | | | reference | | | | | time/offset. | | | | | Additionally, | | | | | such information | | | | | as survival time | | | | | could be | | | | | considered, if | | | | | deemed useful. | | | | | | | | | | The information | | | | | could be provided | | | | | either from the | | | | | Core Network or | | | | | from the UE, but | | | | | since Core | | | | | Network interacts | | | | | directly with the | | | | | TSN network and | | | | | possesses all the | | | | | required | | | | | information, it | | | | | is preferred for | | | | | this information | | | | | to be signaled | | | | | from the Core | | | | | Network. | +-----+-------------------+-------------------+-------------------+ | 2 | Short | As captured in | In order to | | | periodicities of | section 6.3.1, | support TSN | | | TSN messages | the periodicity | traffic flows | | | | of the TSN flows, | with very short | | | | which need to be | periodicities in | | | | supported over NR | DL direction, it | | | | can be as low as | is beneficial to | | | | 0.5ms. Currently, | support | | | | configured grants | additional, | | | | can be set with | shorter SPS | | | | the periodicity | periodicities. | | | | as low as 2 | Using SPS has an | | | | symbols, which | advantage over | | | | spans between | dynamic | | | | \~18us and | scheduling | | | | \~143us depending | utilization, | | | | on the subcarrier | since it allows | | | | spacing. | reducing PDCCH | | | | Therefore, in | overhead and | | | | uplink direction, | increasing | | | | low periodicities | reliability by | | | | of traffic can be | avoiding control | | | | supported. On the | channel blocking. | | | | other hand, TSN | | | | | communications is | | | | | bi-directional | | | | | while for DL | | | | | direction, the | | | | | minimum | | | | | periodicity for | | | | | SPS configuration | | | | | is currently | | | | | 10ms, which is | | | | | not sufficient to | | | | | support of | | | | | periodic TSN | | | | | traffic. | | +-----+-------------------+-------------------+-------------------+ | 3 | Multiple TSN | As captured in | In order to serve | | | flows in a single | section 6.5.1, a | multiple TSN | | | TSN device | single UE may | flows | | | | need to handle | simultaneously, | | | | \"multiple | it is beneficial | | | | periodic streams, | to support | | | | of different | multiple | | | | periodicities, of | Configured Grant | | | | critical | as well as SPS | | | | priority, for | configurations in | | | | example multiple | the single UE, | | | | TSN streams | for a given | | | | coming from | Bandwidth Part of | | | | different | a serving cell. | | | | applications\". | | | | | Therefore, a | | | | | solution to serve | | | | | multiple TSN | | | | | traffic flows in | | | | | a single UE may | | | | | be required. | | +-----+-------------------+-------------------+-------------------+ | 4 | TSN message | In TSN use cases, | The following | | | periodicities | the periodicity | solutions could | | | with non-integer | of data packets | potentially help | | | multiple of NR | which are sent | in resolving or | | | supported | depends on | mitigating the | | | periodicities | application and | issue: | | | | in majority of | | | | | the cases, it is | > \- Adjustment | | | | not possible to | > of SPS/CG | | | | modify it. There | > resource by RRC | | | | may be use cases | > reconfiguration | | | | where periodicity | > (as per current | | | | values are not | > specification) | | | | multiple of NR | > | | | | slot or symbol | > \- Usage of | | | | period, which are | > short SPS/CG | | | | used to configure | > periodicities | | | | CG/SPS | > and/or multiple | | | | periodicity. The | > SPS/CG | | | | severity of this | > configurations | | | | issue depends on | > and/or | | | | the traffic\'s | > combination | | | | latency | > thereof (for | | | | requirement and | > SPS, support | | | | the frequency of | > for shorter | | | | misalignment | > periodicities | | | | occurrences. | > than those | | | | | > available in | | | | | > Rel-15 may be | | | | | > required) | | | | | > | | | | | > \- More | | | | | > efficient | | | | | > adjustment of | | | | | > SPS/CG resource | | | | | > timing in the | | | | | > UE as compared | | | | | > to RRC | | | | | > | | | | | reconfiguration, | | | | | > e.g. based on | | | | | > network | | | | | > configuration | | | | | > or dynamic | | | | | > network | | | | | > signalling and | | | | | > which could be | | | | | > based on | | | | | > knowledge of | | | | | > TSN traffic | | | | | > pattern | | | | | > | | | | | > \- Applying | | | | | > de-jittering | | | | | > buffer at the | | | | | > edges of 5G | | | | | > system | +-----+-------------------+-------------------+-------------------+ | 5 | TSN system | As captured by | Even though the | | | synchronized with | SA1 requirements | issue can | | | external clock | in section 5.6 of | potentially | | | | TS 22.104 [6], | impact | | | | 5G system should | scheduling, it is | | | | support TSN | at the moment | | | | services that are | understood that, | | | | synchronized with | if it occurs, it | | | | external clocks. | can be resolved | | | | Such external | outside of RAN, | | | | clock may not be | e.g. by using | | | | synchronized with | clocks with | | | | clock used by NR, | sufficient | | | | thus e.g., time | accuracy or | | | | offset and drift | adjusting the | | | | between the | clocks without | | | | clocks may occur. | RAN involvement. | | | | | | | | | | Therefore, work | | | | | on dedicated | | | | | solutions in RAN | | | | | is not deemed | | | | | required at the | | | | | moment, although | | | | | the solutions | | | | | mentioned in row | | | | | 4 of this table | | | | | could be | | | | | applicable. | +-----+-------------------+-------------------+-------------------+ | 6 | Mobility of the | As captured in | The following | | | UE serving | section 5.2 of TS | solutions can | | | deterministic TSN | 22.104 [6], in | address this | | | traffic flows | many factory | issue: | | | | automation use | | | | | cases, the | > \- Coordination | | | | devices (and thus | > between the | | | | the UEs) are | > target node and | | | | mobile, e.g. with | > source node on | | | | speeds up to 75 | > the resource | | | | km/h for a motion | > | | | | control use case. | pre-reservation, | | | | It is important | > e.g. exchange | | | | to ensure that a | > of QoS and TSN | | | | UE which is | > traffic pattern | | | | serving periodic | > information | | | | and deterministic | > between source | | | | traffic using CG | > and target gNB | | | | or SPS | > during | | | | configurations, | > handover. Such | | | | after being | > information may | | | | handed over to a | > be used by the | | | | neighbouring | > target gNB to | | | | cell, can still | > provide CG/SPS | | | | meet the service | > configuration | | | | requirements in | > already in the | | | | terms of | > HO command. | | | | delay/jitter and | > | | | | periodicity | > \- Higher layer | | | | considering that | > or physical | | | | the resources | > layer | | | | required to | > duplications | | | | achieve that, can | > from both | | | | already be | > target node and | | | | allocated for | > source node | | | | other UEs in the | > until handover | | | | target cell. | > is successfully | | | | | > completed. | | | | | > | | | | | > \- Other | | | | | > solutions, e.g. | | | | | > those developed | | | | | > as part of 3GPP | | | | | > work devoted to | | | | | > mobility | | | | | > enhancements, | | | | | > could also | | | | | > apply. | +-----+-------------------+-------------------+-------------------+ | 7 | Co-existence of | As captured in | The potential | | | deterministic and | section 6.5.1, | solutions to the | | | non-deterministic | UEs need to be | issue include: | | | traffic | able to handle a | | | | | mixture of | - Intra-UE or | | | | periodic traffic | Inter-UE traffic | | | | with non-periodic | multiplexi | | | | high priority | ng/prioritization | | | | traffic as well | or pre-emption, | | | | as best-effort | for example, | | | | type of traffic. | using solutions | | | | Due to the high | described in TR | | | | requirements for | 38.824 [8] or | | | | TSN traffic (high | by allowing | | | | number of users | scheduling of | | | | with very short | non-adjacent | | | | periodicity | resources with | | | | traffic), a | dynamic grants. | | | | significant | | | | | portion of | - Deploying the | | | | available | network | | | | physical | accordingly, e.g. | | | | resources will be | via denser gNB or | | | | reserved to | TRP placement (no | | | | periodic | specification | | | | high-priority TSN | impact) | | | | traffic. This may | | | | | lead to | | | | | inefficiencies in | | | | | dynamic | | | | | scheduling of | | | | | other types of | | | | | traffic. | | +-----+-------------------+-------------------+-------------------+
It should be noted that solutions for issues 2, 3, 4 and 7 may require
modifications to physical layer specifications and the PHY layer impacts were
not fully analysed.
## 6.6 Ethernet header compression
### 6.6.1 Scenario and benefits assessment
#### 6.6.1.1 General
Ethernet header compression is a means to reduce the overhead induced by
transport of the Ethernet header. Ethernet frames may be transported over the
5G system in an Ethernet PDU session type. Header compression may especially
be beneficial when payload sizes are relatively small compared to the overall
size of the frame, which is typically the case in Industrial IoT networks
based on Ethernet.
#### 6.6.1.2 Ethernet header fields
As an overview, IEEE 802.3 MAC Ethernet frame format is shown in IEEE 802.1Q,
2014, page 1703, \"Figure G-1---Example of IEEE 802.3 MAC frame format\" [9].
Some parts of the Ethernet frame do not need transmission over the 5G system,
therefore TS 23.501 [10] states for the PDU session type:
_Ethernet Preamble and Start of Frame delimiter are not sent over 5GS:_
_\- For UL traffic the UE strips the preamble and frame check sequence (FCS)
from the Ethernet frame._
_\- For DL traffic the PDU Session Anchor strips the preamble and frame check
sequence (FCS) from the Ethernet frame._
Therefore, the fields PREAMBLE, SFD and FRAME CHECK SEQUENCE are not
transmitted over the 5G system and can just be ignored in Ethernet header
compression.
Furthermore, the DESTINATION ADDRESS (6 octets) and SOURCE ADDRESS (6 octets)
fields provide the basic identifies of a station within the Ethernet layer.
These fields may be static among subsequent packets, which can be exploited
for compression.
The LENGTH/TYPE (2 octets) field may be used for length information or to
define the 802.1QTagType, and can be used in compression. In most case where
this is a TYPE-field the value would be static.
Tagging (Q-Tags) is widely used in Ethernet networks for traffic separation
and marking. During forwarding various tags may be added to and removed from
user data frames by the tag encoding and decoding functions of L2 nodes. The
most common Q-Tags named explicitly for Ethernet header compression related
contributions are:
\- C-Tag: Tag Protocol Identifier (TPID) and Tag Control Information (TCI)
\- S-Tag: Tag Protocol Identifier (TPID) + Tag Control Information (TCI)
These Q-Tags include not only a VLAN IDENTIFIER, but bits used for QoS
purposes (e.g., PCP, DE) as well. Compression may not consider for example
those QoS related bits.
Q-TAGs and all their sub-fields may be static, which can be used in
compression.
There may be further fields within the Ethernet header for certain use-cases,
which were determined not to be useful to be considered in structure-aware
header compression.
#### 6.6.1.3 Padding
The allowed minimum Ethernet frame length is 64 bytes. Any frame which is less
than 64 bytes is illegal and dropped. Padding will be used to fill up the
payload field of the Ethernet frame for payload data sizes smaller than the
allowed field sizes. Padding is redundant, and furthermore, the 5G system
transporting Ethernet frames does not expect Ethernet frame payload sizes of a
certain defined length. Therefore, padding may either be removed, e.g. at PDU
session level, or compressed as part of the header compression. Due to the
absence of a length field in the Ethernet header indicating the actual payload
size, additional complexity is required, when determining and compressing
padding part of the payload field. The complexity property is related to the
applied compression solution.
#### 6.6.1.4 Benefit assessment
First of all, to analyse the gains, assumptions of the Ethernet payload sizes
have to be considered. TS 22.104 ([6]) considers for example MTU sizes between
20 and 250 byte in several periodic deterministic communication service use-
cases, and mentions also 1k-1.5k as payload size for certain use-cases in
electrical power distribution and control-to-control motion control.
Given the minimum Ethernet frame size of 64byte, and assuming an Ethernet
header size between 14byte and 22byte (considering SOURCE ADR, DESTINATION
ADR, LENGTH/TYPE and potentially Q-TAGs), payload up to 40byte in the minimum
Ethernet frame size can be considered. Padding would be used for lower actual
payload sizes.
To estimate the benefit of header compression, an assumption needs to be taken
to which size the header fields can be compressed. The following tables assume
compression from 18 byte to 1, 3, 5 bytes respectively.
From R2-1816689 ([11]) relative gains in terms of reduction of overall frame
size, assuming 1 byte compressed header:
Table 6.6.1.4-1: Relative gains in terms of reduction of overall frame size,
assuming 1 byte compressed header (Source: R2-1816689 ([11]))
Header size without compression Overall frame size without compression Header
size with compression Overall frame size with compression Relative reduction
in overall frame size
* * *
**18** **64** **1** **47** **[27%]{.underline}** 18 128 1 111 13% 18 1518 1
1507 1%
From R2-1817175 ([12]), relative gains in terms of reduction of overall frame
size, assuming 3bytes and 5bytes compressed header (from 18byte uncompressed
header):
Figure 6.6.1.4-1: relative gains in terms of reduction of overall frame size,
assuming 3bytes and 5bytes compressed header (from 18byte uncompressed header)
(Source: R2-1817175 ([12]))
Significant gains become obvious in the range of \~20-27% for frame sizes of
64byte, as well as \~10-13% for frame sizes of 128 byte, and moderate gains of
\~5% for frame sizes of 256 bytes. For the maximum frame size of 1518 only
marginal gains of around 1% are observed.
There is a trade-off between compression complexity and efficiency, i.e. to
which minimum size the header can be compressed, with which effort e.g. in
terms memory/cycle times. Given the analysis above showing high gains already
for compression towards 3 or 5 bytes headers (instead of towards 1 byte), it
appears sufficient to consider a simple solution only e.g. focusing on static
header fields.
It is noted that potential additional gain in compressing/removing padding is
not considered in above numbers. Also, compression schemes going beyond
compressing the Ethernet header are not considered in the analysis above.
#### 6.6.1.5 Industrial communication protocols using Ethernet
Beside support of generic Ethernet header compression, i.e. for IEEE 802.3
and/or IEEE 802.1Q, additional support for e.g. a wide range of industrial
field-bus technologies building on those protocols, could potentially be
considered, as discussed in R2-1817572 ([13]). It would require deep packet
inspection to support many flavours of industrial protocols, leading to higher
complexities.
### 6.6.2 Potential solutions
#### 6.6.2.1 Protocol layer
One aspect of the solution development of the Ethernet header compression
function is its placement, i.e. in terms of protocol layer as well as network
protocol termination point. IP header compression today is done by Robust
Header Compression (RoHC), which is part of PDCP, thus compression is done
between UE and gNB [14]. Ethernet header compression could be anchored
similarly on PDCP. See for example R2-1817913 ([15]) or R2-1816765 ([16]) for
further details. An alternative option, mentioned in R2-1816689 ([11]), would
be header compression between UE and UPF, where the (Ethernet) PDU session is
terminated.
Figure 6.6.2.1-1: Potential Ethernet header compression anchor points (Source:
R2-1816689 ([11])).
Overhead reduction resulting from Ethernet header compression may be only
relevant over the radio interface Uu, assuming that the (wired) N3 interface
has sufficient bandwidth. Therefore, Ethernet header compression between UE
and gNB is the only relevant option (i.e. indicated as 2) in the figure.
Furthermore, the natural protocol level choice is PDCP, as it is the layer
that today provides ROHC functionality. As concluded from R2-1816765 ([16]),
it would not be suitable to perform Ethernet header compression in MAC or RLC
layer due to the encryption / integrity protection performed in PDCP layer.
SDAP layer is not a suitable layer either. SDAP layer mainly maps QoS flows to
DRBs. Adding Ethernet header compression functionality does not conform to the
main functionality of SDAP layer. Lastly, adding a new layer on top of SDAP
layer purely for Ethernet header compression is not justified. There is
additional complexity when Ethernet header compression and ROHC are used
together if Ethernet header compression is in a different layer other than
PDCP. Given that ROHC is PDCP layer functionality and Ethernet header
compression has the same motivation as ROHC, it is natural that Ethernet
header compression functionality is in PDCP layer.
#### 6.6.2.3 Relation to IP header compression
Ethernet may transport IP or non-IP traffic. This aspect is mentioned in e.g.
R2-1817572 ([13]). IP header compression may be considered when Ethernet
header compression is employed, in which case both independent/separate header
compression solutions can be envisaged as well as a joint/integrated header
compression of Ethernet and IP. Given the complexities inherent in a joint
compression scheme, and the benefits of a modular approach, the developed
structure-aware Ethernet header compression scheme should not consider IP
header compression within a joint solution.
#### 6.6.2.4 Design principles
Based on the analysis above, as a summary, the solution for header compression
would build on the following principles:
\- Preamble, SFD and FCS are ignored are not transmitted thus not considered
in Ethernet header compression.
\- Ethernet header compression considers the header fields DESTINATION
ADDRESS, SOURCE ADDRESS, TYPE/LENGTH, Q-TAGs (including all sub-fields), but
no further fields of the Ethernet header for structure-aware compression
solution.
\- Additional complexity of removing padding in Ethernet header compression
must be justified.
\- Further industrial protocols above Ethernet are not considered in
structure-aware Ethernet header compression.
\- The developed structure-aware Ethernet header compression scheme does not
consider IP header compression within a joint solution.
\- For structure-agnostic compression scheme, further fields, further
industrial protocols above Ethernet, IP header are compressed together with
Ethernet header.
\- PDCP at gNB is the network anchor for Ethernet header compression.
#### 6.6.2.5 Solution approaches
The following potential solution approaches were discussed in this study:
**New PDCP solution**
Ethernet header compression may be specified by RAN2 within a new solution
integrated in PDCP. This study did not compare the performance in terms of
complexity and compression ratio/gains between New PDCP solution and other
solutions such as ROHC. The advantage of this approach would lie in the
standardization process, i.e. a pure RAN2-based solution would avoid potential
impact/dependencies to other specification groups or bodies.
**ROHC-based solution**
Ethernet header compression may build on the ROHC-framework, which is
currently used for IP-header compression and applied on PDCP layer. A ROHC
profile specific to the Ethernet header would need to be defined, meaning that
the existing ROHC framework and features would be reused and do not need to be
developed. R2-1817913 ([13]) analyses the benefits of this approach. For
example, robustness of compression against packet losses and in-built handling
for multiple flows. On the other hand, ROHC profiles are defined by IETF for
TCP/UDP/RTP/IP protocols, and Ethernet is defined by IEEE. It is unclear how
3GPP can define a new ROHC profile and if/how IETF/IEEE adopts such new ROHC
profile. In addition, ROHC profile identifiers may need registration with
IANA. Such collaboration/liaison with other standard bodies may add
uncertainties and could delay the work completion.
**UDC-based solution**
In LTE, Uplink Data Compression (UDC) [17] is defined in PDCP specification
and based on IETF RFC 1951 (DEFLATE Compressed Data Format Specification)
[18], and allows a generic compression of PDCP SDU data. It is unaware of the
header structures of higher layer PDCP payload, i.e. Ethernet in this case.
This way, also further headers of protocol layers above Ethernet including IP
header, as well as padding and payload data, may be compressed. This study did
not compare the performance in terms of complexity between UDC-based and other
header-structure-aware schemes such as ROHC. An advantage of the UDC-based
approach would also be that it is a pure RAN2 based solution without impacting
to other specification groups or bodies.
# 7 Conclusions
RAN WGs analysed various issues and solutions as per the objectives described
in [2] and the conclusions and recommendations are provided below for each of
these objectives respectively.
**PDCP duplication enhancements**
Various enhancements for PDCP duplication framework were analysed, as captured
in section 4.2, and the following is concluded:
\- For increased reliability, it is recommended to support PDCP duplication
enhancement with up to 4 copies. To achieve that, it is recommended to specify
the following enhancement:
\- Support of PDCP duplication with up to 4 RLC entities configured by RRC in
architectural combinations including CA, and NR-DC in combination with CA. It
is assumed that all RLC entities are configured with the same transmission
mode.
\- Support of dynamic control of how a set or subset of configured RLC
entities or legs are used by the UE for PDCP duplication, e.g. using MAC CE.
Other methods of leg selection are not precluded.
\- The solutions to increase resource efficiency when PDCP duplication is
activated were analysed, including: per-packet selective duplication,
selective discard mechanism, activation/deactivation of PDCP duplication
enhancements. Based on the analysis in the SI, as captured in section 4.2.1,
it is recommended to specify activation/deactivation of PDCP enhancements,
e.g. MAC CE based or based on UE configurable criteria, provided that
complexity increase is reasonable. Other solutions are not precluded, e.g.
per-packet selective duplication. Enhancements for selective discard are not
required.
Enhancements to improve resource efficiency in the downlink were discussed in
RAN3. From RAN3 perspective, it is recommended that the Rel-15 PDCP
duplication functionality should be taken as baseline, and enhancements for
efficient DL PDCP duplication without impacting the UE may be specified,
provided that gains can be confirmed with a reasonable complexity.
**Higher layer multi-connectivity impacts on RAN**
RAN WGs have analysed higher layer multi-connectivity solutions as studied by
SA2 and RAN impacts are explained in section 4.3. RAN impact analysis was
communicated to SA2. Depending on further normative work in SA2, RAN2 and RAN3
may need to perform some specification work as well.
**Intra-UE prioritization and multiplexing**
RAN 2 has analysed intra-UE prioritization and multiplexing for scenarios 1-5
as captured in section 5.2. It is deemed feasible to support enhanced
prioritization between different traffic types and priorities as described by
these scenarios. Additionally, a scenario where conflicts between multiple
active configured grants occur should be addressed. In particular, based on
the analysis, the following is recommended to be undertaken in the WI phase:
\- Specification of enhancements to address scenario 2 and conflicts involving
multiple CGs.
\- Address scenario 3 under the assumption that the later dynamic grant may
always be prioritized over an earlier dynamic grant, e.g. by MAC generating a
PDU for each grant and letting physical layer to handle the conflicting
transmissions (this solution requires further physical layer aspects
evaluation). Other solutions may be considered.
\- Specification of grant prioritization in MAC based on LCH priorities and
LCP restrictions for the cases where MAC prioritizes the grant.
\- Address a resource collision between SR associating to high-priority
traffic and uplink data of lower-priority traffic, e.g. by specifying a
prioritization handling rule to determine whether to transmit SR or PUSCH
based on, e.g. the priority of the LCH which triggers the SR and priorities of
the data to be transmitted on the PUSCH resource.
RAN1 has briefly discussed scenarios 1-5. RAN1 recommends to support the
handling of scenarios 1 and 3, to allow the prioritization of configured grant
over dynamic grant under some conditions in case of collision in scenario 2,
and to support enhancements for scenario 4 and 5, following the guidelines and
candidate solutions provided in section 5.3 and 5.4.
**Performance evaluation of TSN requirements**
RAN WGs have analysed TSN requirements as captured in section 6.3.1 and it is
concluded that NR, with some additional enhancements introduced in Rel-16, can
meet the requirements in TS 22.104 with respect to latency, reliability and
synchronization accuracy for some network configurations and deployments, but
the performance depends on such aspects as utilized subcarrier spacing, FDD or
TDD network type, backhaul type, cell density etc.
**Accurate reference time provisioning**
In order to enable precise time synchronization using 5G/NR system, it is
recommended to specify accurate reference timing delivery from gNB to UE using
broadcast and/or unicast RRC signalling. The signalling specified in Rel-15
for E-UTRA can be used as a baseline, but the time information should have
granularity no higher than 50 ns. The final design may also depend on SA2
decision with respect to overall synchronization solution.
**Enhancements (e.g. for scheduling) to satisfy QoS for wireless Ethernet when
using TSN traffic patterns**
Based on analysis of TSN traffic characteristics, the following enhancements
are recommended for specification:
\- Support of provisioning, from Core Network to RAN, of TSN traffic pattern
related information such as message periodicity, message size, message arrival
time at gNB (DL) and UE (UL).
\- Support for multiple simultaneous active CG and SPS configurations for a
given BWP of a UE.
\- Support for shorter SPS periodicities than the existing ones
In addition, it is concluded that NR should address the following issues
related to TSN traffic characteristics:
\- Support TSN message periodicities with non-integer multiple of NR supported
periodicities. Candidate solutions are captured in section 6.5.2. The choice
and the details of the solution should be decided in WI phase.
It is noted that the scheduling enhancements related to TSN traffic patterns
may have impact on physical layer and RAN1 needs to be involved in the related
work in WI phase.
**Ethernet header compression**
With respect to Ethernet header compression, RAN2 concluded that it is
beneficial in the context of Industrial IoT use cases. The solution for header
compression should be built using the principles in Section 6.6.2.4.
#