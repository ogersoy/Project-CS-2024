# Foreword {#foreword-1}
This Technical Specification has been produced by the 3rd Generation
Partnership Project (3GPP).
The contents of the present document are subject to continuing work within the
TSG and may change following formal TSG approval. Should the TSG modify the
contents of the present document, it will be re-released by the TSG with an
identifying change of release date and an increase in version number as
follows:
Version x.y.z
where:
x the first digit:
1 presented to TSG for information;
2 presented to TSG for approval;
3 or greater indicates TSG approved document under change control.
Y the second digit is incremented for all changes of substance, i.e. technical
enhancements, corrections, updates, etc.
z the third digit is incremented when editorial only changes have been
incorporated in the document.
In the present document, modal verbs have the following meanings:
**shall** indicates a mandatory requirement to do something
**shall not** indicates an interdiction (prohibition) to do something
The constructions \"shall\" and \"shall not\" are confined to the context of
normative provisions, and do not appear in Technical Reports.
The constructions \"must\" and \"must not\" are not used as substitutes for
\"shall\" and \"shall not\". Their use is avoided insofar as possible, and
they are not used in a normative context except in a direct citation from an
external, referenced, non-3GPP document, or so as to maintain continuity of
style when extending or modifying the provisions of such a referenced
document.
**Should** indicates a recommendation to do something
**should not** indicates a recommendation not to do something
**may** indicates permission to do something
**need not** indicates permission not to do something
The construction \"may not\" is ambiguous and is not used in normative
elements. The unambiguous constructions \"might not\" or \"shall not\" are
used instead, depending upon the meaning intended.
**Can** indicates that something is possible
**cannot** indicates that something is impossible
The constructions \"can\" and \"cannot\" are not substitutes for \"may\" and
\"need not\".
**Will** indicates that something is certain or expected to happen as a result
of action taken by an agency the behaviour of which is outside the scope of
the present document
**will not** indicates that something is certain or expected not to happen as
a result of action taken by an agency the behaviour of which is outside the
scope of the present document
**might** indicates a likelihood that something will happen as a result of
action taken by some agency the behaviour of which is outside the scope of the
present document
**might not** indicates a likelihood that something will not happen as a
result of action taken by some agency the behaviour of which is outside the
scope of the present document
In addition:
**is** (or any other verb in the indicative mood) indicates a statement of
fact
**is not** (or any other negative verb in the indicative mood) indicates a
statement of fact
The constructions \"is\" and \"is not\" do not indicate requirements.
# 1 Scope
The present document is part of a series of documents that specify charging
aspects of network slicing.
The present document includes the charging aspects of network slice
performance and analytics, including charging scenarios, data and way of data
transfer specific for the network slice.
The architecture for network slice charging follows common architecture and
concepts specified in TS 32.240 [1].
The charging aspect of network slice charging on PDU session charging is
specified in TS 32.255 [15].
The network slice performance and analytics charging collects and processes
charging information related to performance metrics of a network slice.
All references, abbreviations, definitions, descriptions, principles and
requirements, used in the present document, that are common across 3GPP TSs,
are defined in TR 21.905 [100]. Charging management in 3GPP networks/domains,
services or subsystems are provided in the umbrella TS 32.240 [1] and are
copied into clause 3 of the present document for ease of reading. Finally,
those items that are specific to the present document are defined exclusively
in the present document.
# 2 References
The following documents contain provisions which, through reference in this
text, constitute provisions of the present document.
\- References are either specific (identified by date of publication, edition
number, version number, etc.) or nonâ€‘specific.
\- For a specific reference, subsequent revisions do not apply.
\- For a non-specific reference, the latest version applies. In the case of a
reference to a 3GPP document (including a GSM document), a non-specific
reference implicitly refers to the latest version of that document _in the
same Release as the present document_.
[1] 3GPP TS 32.240: \"Telecommunication management; Charging management;
Charging architecture and principles\".
[2] - [14] Void
[15] 3GPP TS 32.255: \"Telecommunication management; Charging management; 5G
data connectivity domain charging; Stage 2\".
[16] - [49] Void.
[50] 3GPP TS 32.290: \"Telecommunication management; Charging management; 5G
system; Services, operations and procedures of charging using Service Based
Interface (SBI)\".
[51] 3GPP TS 32.291: \"Telecommunication management; Charging management; 5G
system; Charging service, stage 3\".
[52] - [54] Void.
[55] 3GPP TS 32.295: \"Telecommunication management; Charging management;
Charging Data Record (CDR) transfer\".
[56] 3GPP TS 32.297: \"Telecommunication management; Charging management;
Charging Data Record (CDR) file format and transfer\".
[57] 3GPP TS 32.298: \"Telecommunication management; Charging management;
Charging Data Record (CDR) parameter description\".
[58] - [99] Void.
[100] 3GPP TR 21.905: \"Vocabulary for 3GPP Specifications\".
[101] - [149] Void.
[150] 3GPP TS 23.288: \"Architecture enhancements for 5G System (5GS) to
support network data analytics services\".
[151] - [199] Void.
[200] 3GPP TS 28.202: \"Charging management; Network slice management charging
in the 5G System (5GS); Stage 2\".
[201] - [249] Void.
[250] 3GPP TS 28.533: \"Management and orchestration; Architecture
framework\".
[251] 3GPP TS 28.532: \"Management and orchestration; Generic management
services\".
[252] - [270] Void.
[271] 3GPP TS 28.554: \"Management and orchestration; 5G end to end Key
Performance Indicators (KPI)\".
[272] - [299] Void.
[300] 3GPP TS 29.510: \"5G System; Network function repository services; Stage
3\".
[301] - [400] Void.
[401] - [499] Void.
[500] GSMA NG.116: \"Generic Network Slice Template\".
# 3 Definitions of terms, symbols and abbreviations
## 3.1 Terms
For the purposes of the present document, the terms given in 3GPP TR 21.905
[100] and the following apply. A term defined in the present document takes
precedence over the definition of the same term, if any, in 3GPP TR 21.905
[100].
## 3.2 Symbols
For the purposes of the present document, the following symbols apply:
Bns Reference point for the CDR file transfer from the network slice CGF to
the BD.
Ga Reference point for CDR transfer between a CDF and the CGF.
Nchf Service based interface exhibited by CHF.
Nnwdaf Service based interface exhibited by NWDAF.
## 3.3 Abbreviations
For the purposes of the present document, the abbreviations given in 3GPP TR
21.905 [100] and the following apply. An abbreviation defined in the present
document takes precedence over the definition of the same abbreviation, if
any, in 3GPP TR 21.905 [100].
CEF Charging Enablement Function
CGF Charging Gateway Function
CHF Charging Function
MnS Management Service
NSPA Network Slice Performance and Analytics
NWDAF Network Data Analytics Function
PEC Post Event Charging
# 4 Architecture considerations
## 4.1 High-level description
### 4.1.1 Network slice charging architecture
The architecture for network slice charging follows common architecture and
concepts specified in TS 32.240 [1].
The network slice charging shall support charging of network slice management
specified in TS 28.202 [200] and performance and analytics based charging in
the present document.
The NWDAF is part of the architecture specified in TS 23.501 [2] and the
figure 4.1.1-1 shows the Network Data Analytics Exposure architecture
specified in TS 23.288 [150].
{width="3.9444444444444446in" height="0.9326388888888889in"}
Figure 4.1.1-1: Network Data Analytics Exposure architecture
The figure 4.1.1-2 shows the management service which offers management
capabilities, specified in TS 28.533 [250] clause 4.
Figure 4.1.1-2: Management Service
## 4.2 Network slice performance and analytics charging architecture
### 4.2.1 High level network slice performance and analytics architecture
The scope of the present document is network slice performance and analytics
charging, the details for other type of network slice charging are defined in
TS 32.255 [15] and TS 28.202 [200].
### 4.2.2 Converged charging architecture
The architectural options for network slice performance and analytics
converged charging are depicted in figure 4.2.2-1.
Figure 4.2.2-1: Network slice performance and analytics converged charging
architecture
The Charging Enablement Function (CEF):
\- subscribes to notifications by consuming management services or services
exposed by other functions, for receiving required charging information from
the services.
> \- unsubscribes to notifications by consuming management services or
> services exposed by other functions, for cancelling the subscription to
> performance and analytics information.
>
> \- determines the occurrence of chargeable events. When it determines that a
> chargeable event has occurred it then triggers charging by consuming the
> Nchf services.
Charging information addressed by the CEF in the present document, are related
to performance and analytics for network slices.
The MnS producer is defined in TS 28.533 [250]: the MnS producer in the
present document is the producer of performance MnS.
For network slice performance and analytics converged charging the CEF is a
consumer of either one or both:
\- performance management service (MnS) for network slice exposed by the MnS
Producer, specified in TS 28.532 [253];
\- Network Data Analytics service (Nnwdaf) for network slice exposed by the
Network Data Analytics Function (NWDAF), described in TS 23.288 [150].
> And the CEF is a consumer of:
\- charging (Nchf) service.
The general architecture components can be found in TS 32.240 [1].
Ga is described in clause 5.2.4 and Bns in clause 5.2.5 of the present
document, and Nchf is described in TS 32.290 [50].
# 5 Network slice performance and analytics charging principles and scenarios
## 5.1 Network slice performance and analytics charging principles
### 5.1.1 General
Performance and analytics based charging shall be achieved by subscription to
the performance metrics or analytics information of a specific network slice
and report them to CHF for charging purpose. The detail of performance and
analytics information is specified in the clause 5.1.3.
Network slice performance and analytics charging shall support collection of
network slice performance metrics related to network slice charging based on
network slice performance and analytics charging requirements.
### 5.1.2 Requirements
The following are high-level charging requirements specific to the network
slice performance and analytics charging:
\- The CEF shall support subscription to specific network slice performance
and analytics information.
\- The CEF shall support reporting charging information based on network slice
performance and analytics information.
\- The CEF shall support reporting performance and analytics charging
information per network slice.
\- The CEF shall support PEC scenario to report performance and analytics
charging information.
### 5.1.3 Network slice performance and analytics charging information
The following is a non-exhaustive list related to one or more of the
performance and analytics inputs relevant to charging for network slice:
\- Latency as defined in clause 6.3, TS 28.554 [271]
\- Throughput as defined in clause 6.3, TS 28.554 [271]
\- Maximum packet loss rate as defined in GSMA NG.116 [500]
\- Service Experience statistics information as defined in clause 6.4, TS
23.288 [150]
\- The number of PDU sessions as defined in clause 6.4, TS 28.554 [271]
\- The number of registered subscribers as defined in clause 6.2, TS 28.554
[271]
\- Load level information as defined in clause 6.3, TS 23.288 [150].
### 5.1.4 NWDAF discovery
The NWDAF service discovery by the CEF is specified in TS 29.510 [300].
### 5.1.5 CHF selection
The CHF selection, i.e. CHF address determination, by the CEF is done based on
the following and with this priority order (highest to lowest):
\- NRF based discovery;
\- pre-configured CHF address in the CEF.
## 5.2 Network slice performance and analytics charging scenarios
### 5.2.1 Basic principles
#### 5.2.1.1 General
Network slice performance and analytics charging is performed by the CEF
interacting with CHF using Nchf specified in TS 32.290 [50] and TS 32.291
[51].In order to provide the data required for the charging management
activities outlined in TS 32.240 [1], the CEF shall be able to perform
converged charging for each of the following:
\- the performance and analytics information obtained from NWDAF.
\- the performance and analytics information obtained from MnS;
The CEF shall be able to obtain performance and analytics information from the
NWDAF and/or MnS as follows:
\- The Subscribe/Notify are exchanged between the CEF and the NWDAF using the
Nnwdaf service. The interactions are issued by the CEF towards the NWDAF when
certain conditions are met.
\- The Subscribe/Notify are exchanged between the CEF and the MnS producer.
The interactions are issued by the CEF when certain conditions are met.
The CEF shall be able to perform converged charging by interacting with CHF,
for charging data related to network slice performance and analytics. The
Charging Data Request and Charging Data Response are exchanged between the CEF
and the CHF, based on PEC scenarios specified in TS 32.290 [50]. The Charging
Data Request is issued by the CEF towards the CHF when certain conditions
(chargeable events) are met.
The charging information is collected per Single Network Slice Selection
Assistance Information (S-NSSAI).
The services provided by NWDAF are defined in the TS 23.288[150] and the
services provided by MnS producer are defined in the TS 28.533 [250]. The
charging functionalities for network slice performance and analytics, i.e. CEF
functionality, charging events and charging procedures, are defined in the
following clauses.
Whether performance and analytics charging for an S-NSSAI in the CEF is active
or not is based on configuration. Which performance and analytics information
is obtained from NWDAF or MnS by the CEF is based on configuration.
The configuration may be per S-NSSAI, detailed information about the
configuration or provisioning of the configuration is outside the present
document.
The contents and purpose of each charging event that triggers interaction with
CHF, as well as the chargeable events that trigger them, are described in
clauses 5.2.2.
A detailed formal description of the converged charging parameters to CHF
defined in the present document can be found in TS 32.291 [51].
A detailed formal description of the CDR parameters defined in the present
document can be found in TS 32.298 [57].
#### 5.2.1.2 Applicable triggers in network slice performance and analytics
charging
Triggers for CEF to invoke a Charging Data Request [Event] towards the CHF are
defined as following trigger conditions.
When a charging event is issued towards the CHF, it includes details such as
Single Network Slice Selection Assistance Information (S-NSSAI). Table
5.2.1.2-1 summarizes the set of default trigger conditions and their category
which shall be supported by the CEF.
Table 5.2.1.2-1: Default Trigger conditions in CEF
+----------+----------+----------+----------+----------+----------+ | Trigger | Trigger | Default | CHF | CHF | Message | | Co | level | category | allowed | allowed | when | | nditions | | | to | to | \"i | | | | | change | enable | mmediate | | | | | category | and | rep | | | | | | disable | orting\" | | | | | | | category | +==========+==========+==========+==========+==========+==========+ | Notify | - | Deferred | Not | Not | Charging | | event | | | Ap | Ap | Data | | for a | | | plicable | plicable | Request | | subs | | | | | \ | | cription | | | | | [Event] | +----------+----------+----------+----------+----------+----------+ | Expiry | - | I | Not | Not | Charging | | of time | | mmediate | Ap | Ap | Data | | limit | | | plicable | plicable | Request | | per | | | | | \ | | S-NSSAI | | | | | [Event] | +----------+----------+----------+----------+----------+----------+ | T | - | I | Not | Not | Charging | | hreshold | | mmediate | Ap | Ap | Data | | reached | | | plicable | plicable | Request | | for a | | | | | \ | | per | | | | | [Event] | | formance | | | | | | | i | | | | | | | ndicator | | | | | | | (e.g. | | | | | | | load | | | | | | | level | | | | | | | per | | | | | | | S-NSSAI) | | | | | | +----------+----------+----------+----------+----------+----------+ | Limit | - | I | Not | Not | Charging | | reached | | mmediate | Ap | Ap | Data | | for | | | plicable | plicable | Request | | number | | | | | \ | | of | | | | | [Event] | | notify | | | | | | | events | | | | | | | per | | | | | | | subs | | | | | | | cription | | | | | | | made by | | | | | | | CEF | | | | | | +----------+----------+----------+----------+----------+----------+ | Limit | - | I | Not | Not | Charging | | reached | | mmediate | Ap | Ap | Data | | for | | | plicable | plicable | Request | | number | | | | | \ | | of | | | | | [Event] | | notify | | | | | | | events | | | | | | | per | | | | | | | S-NSSAI | | | | | | +----------+----------+----------+----------+----------+----------+ | NOTE 1: | | | | | | | In | | | | | | | a | | | | | | | ddition, | | | | | | | there | | | | | | | may be | | | | | | | operator | | | | | | | specific | | | | | | | t | | | | | | | riggers. | | | | | | | | | | | | | | NOTE 2: | | | | | | | The | | | | | | | t | | | | | | | hreshold | | | | | | | and | | | | | | | limit is | | | | | | | default | | | | | | | co | | | | | | | nfigured | | | | | | | and | | | | | | | updated | | | | | | | based on | | | | | | | the | | | | | | | config | | | | | | | uration. | | | | | | +----------+----------+----------+----------+----------+----------+
The CDR generation mechanism processed by the CHF upon receiving Charging Data
Request [Event] issued by the CEF for these chargeable events, is specified in
clause 5.2.3.
### 5.2.2 Message flows
#### 5.2.2.1 General
The message flows in the present document specify the interaction for
performance and analytics charging functionality, based on the performance and
analytics information from NWDAF and MnS.
The charging interaction is based on Charging Data Request /Response messages
specified in TS 32.290 [50], exchanged between the CEF and the CHF.
One source of performance and analytics information is based on the messages
specified in TS 23.288 [150], exchanged between the CEF and NWDAF.
Another source of performance and analytics information is based on the
messages specified in TS 28.532 [251], exchanged between the CEF and MnS.
#### 5.2.2.2 Analytics and performance charging from CEF
##### 5.2.2.2.1 General
The clause below describes analytics and performance charging from CEF
scenarios.
##### 5.2.2.2.2 General analytics and performance charging -- PEC
The following figure 5.2.2.2.2-1 describes analytics and performance charging:
Figure 5.2.2.2.2-1: Analytics and performance reporting
**1) Collection of analytics and performance information:** Collection of
information related to the network slice analytics and performance is done by
the CEF.
**2) Trigger condition met:** the CEF determines based on the collected
information and the trigger conditions that a report of charging information
to the CHF is needed.
**3) Charging Data Request [Event]:** The CEF generates charging data related
to the collected information and sends the charging data request for the CHF
to process the related charging data for CDR generation purpose.
**4) Create CDR:** the CHF stores received information and creates a CDR
related to the event.
**5) Charging Data Response [Event]:** The CHF informs the CEF on the result
of the request.
#### 5.2.2.3 Network Slice data analytics subscription from NWDAF
##### 5.2.2.3.1 General
The clause below describes network data analytics subscription scenarios. The
CEF acts as a NWDAF Service Consumer and uses the Nnwdaf_AnalyticsSubscription
service to subscribe to the applicable analytics information required for the
chargeable events, based on clause 6.1.1 in TS 23.288 [150].
##### 5.2.2.3.2 Network slice performance and analytics information
Subscribe/Notify
The following figure 5.2.2.3.2-1 procedure is used by CEF to
subscribe/unsubscribe at NWDAF to be notified on performance and analytics
information, using Nnwdaf_AnalyticsSubscription service for Network Slice
defined in TS 23.288 [150].
Figure 5.2.2.3.2-1: Analytics and performance from NWDAF
**1) Subscribe Request:** the CEF decides to start the collection of
performance and analytics information and subscribes to performance and
analytics information from NWDAF with the performance indicator, S-NSSAI and
subscription condition (e.g. Start time, stop time).
**2) Subscribe Respond:** the NWDAF responses the subscription successful.
**3) Notification:** based on the subscription of performance and analytics
information, the NWDAF notifies the CEF with the performance and analytics
information.
NOTE: There might be several "notification" during the subscription.
**4) Unsubscribe Request:** the CEF cancels the subscription to performance
and analytics information.
**5) Unsubscribe Respond:** the NWDAF responses the unsubscription successful.
The CEF could update the subscription during the duration of the subscription.
#### 5.2.2.4 Network slice performance and analytics subscription using MnS
##### 5.2.2.4.1 General
CEF may support subscription to network slice performance information using
MnS. The clauses below describes message flow of network slice performance and
analytics charging using MnS defined in clause 11.3.1 in TS 28.532 [251] (e.g.
Subscribe operation, unsubscribe operation and notifyFileReady).
##### 5.2.2.4.2 Network slice performance and analytics information
Subscribe/Notify
The following figure 5.2.2.4.2-1 procedure is used by CEF to
subscribe/unsubscribe the performance and analytics information using MnS.
Figure 5.2.2.4.2-1: Performance and analytics information from MnS Producer
**1) Subscribe Request:** The CEF decides to start the collection of
performance and analytics information and subscribes to performance and
analytics information using MnS with the performance indicator, S-NSSAI and
subscription condition (e.g. Start time, stop time).
**2) Subscribe Respond:** the MnS producer responses the subscription
successful.
**3) Notification:** Based on the subscription of performance and analytics
information, the MnS producer notifies the CEF with the performance and
analytics information.
NOTE: There might be several "notification" during the subscription.
**4) Notification Acknowledge:** the CEF sends the acknowledge notification.
**5) Unsubscribe Request:** the CEF cancels the subscription to performance
and analytics information.
**6) Unsubscribe Respond:** the MnS producer responses the unsubscription
successful.
The CEF could update the subscription during the duration of the subscription
### 5.2.3 CDR generation
#### 5.2.3.1 Introduction
The network slice performance and analytics CHF CDRs are generated by the CHF
to collect charging information that they subsequently transfer to the
Charging Gateway Function (CGF).
The following clauses describe in detail the conditions for generating the
network slice performance and analytics CHF CDR, which shall be supported by
the CHF.
#### 5.2.3.2 Triggers for CHF CDR
##### 5.2.3.2.1 General
A network slice performance and analytics CHF CDR is used to capture charging
information related to network slice performance and analytics chargeable
events for PEC.
##### 5.2.3.2.2 Triggers for CHF CDR generation
A network slice performance and analytics CHF CDR is generated by the CHF for
each received Charging Data Request [Event].
### 5.2.4 Ga record transfer flows
Details of the Ga protocol application are specified in TS 32.295 [55].
### 5.2.5 Bns CDR file transfer
Details of the Bns protocol application are specified in TS 32.297 [56].
# 6 Definition of charging information
## 6.1 Data description for network slice performance and analytics charging
### 6.1.1 Message contents
#### 6.1.1.1 General
The Charging Data Request and Charging Data Response are specified in clause
5.1.2.2.1 of TS 32.290 [50].
Table 6.1.1.1-1 describes the use of these messages for network slice
performance and analytics charging.
Table 6.1.1.1-1: network slice performance and analytics charging messages
reference table
**Message** **Source** **Destination**
* * *
Charging Data Request CEF CHF Charging Data Response CHF CEF
The following clauses describe the different fields used in the Charging Data
messages and the category in the tables is used according to the charging data
configuration defined in clause 5.4 of TS 32.240 [1].
#### 6.1.1.2 Charging Data Request message
Table 6.1.1.2-1 illustrates the basic structure of a Charging Data Request
message from the CEF as used for performance and analytics based charging.
Table 6.1.1.2-1: Charging Data Request message contents
+----------------------+----------------------+----------------------+ | Information Element | Category for | Description | | | converged charging | | +======================+======================+======================+ | Session Identifier | > O~C~ | Described in TS | | | | 32.290 [57]. | +----------------------+----------------------+----------------------+ | Subscriber | > \- | This field is not | | Identifier | | applicable. | +----------------------+----------------------+----------------------+ | Tenant Identifier | > O~M~ | This field if | | | | present is the | | | | identifier of | | | | subscriber of | | | | network slice. | +----------------------+----------------------+----------------------+ | NF Consumer | > M | Described in TS | | Identification | | 32.290 [57]. | +----------------------+----------------------+----------------------+ | > NF Functionality | > M | Described in TS | | | | 32.290 [57]. | +----------------------+----------------------+----------------------+ | > NF Name | > O~C~ | Described in TS | | | | 32.290 [57]. | +----------------------+----------------------+----------------------+ | > NF Address | > O~C~ | Described in TS | | | | 32.290 [57]. | +----------------------+----------------------+----------------------+ | > NF PLMN ID | > O~C~ | Described in TS | | | | 32.290 [57]. | +----------------------+----------------------+----------------------+ | Invocation Timestamp | > M | Described in TS | | | | 32.290 [57]. | +----------------------+----------------------+----------------------+ | Invocation Sequence | > M | Described in TS | | Number | | 32.290 [57]. | +----------------------+----------------------+----------------------+ | Retransmission | > \- | This field is not | | Indicator | | applicable. | +----------------------+----------------------+----------------------+ | One-time Event | > O~C~ | Described in TS | | | | 32.290 [57]. | +----------------------+----------------------+----------------------+ | One-time Event Type | > O~C~ | Described in TS | | | | 32.290 [57]. | +----------------------+----------------------+----------------------+ | Notify URI | > \- | This field is not | | | | applicable. | +----------------------+----------------------+----------------------+ | Service | > O~C~ | Described in TS | | Specification | | 32.290 [57]. | | Information | | | +----------------------+----------------------+----------------------+ | Triggers | > O~C~ | Described in TS | | | | 32.290 [57]. | +----------------------+----------------------+----------------------+ | Multiple Unit Usage | > O~C~ | Described in TS | | | | 32.290 [57], with | | | | the exception that | | | | quota management is | | | | not applicable. | +----------------------+----------------------+----------------------+ | > Rating Group | > M | Described in TS | | | | 32.290 [57] | +----------------------+----------------------+----------------------+ | > Requested Unit | > \- | This field is not | | | | applicable. | +----------------------+----------------------+----------------------+ | > Used Unit | > O~C~ | Described in TS | | > Container | | 32.290 [57] | +----------------------+----------------------+----------------------+ | > Service Identifier | > \- | This field is not | | | | applicable. | +----------------------+----------------------+----------------------+ | > Quota management | > \- | This field is not | | > Indicator | | applicable. | +----------------------+----------------------+----------------------+ | > Triggers | > O~C~ | This field is | | | | described in TS | | | | 32.290 [57] and | | | | holds the network | | | | slice performance | | | | and analytics | | | | specific triggers | | | | described in clause | | | | 5.2.1. | +----------------------+----------------------+----------------------+ | > Trigger Timestamp | > O~C~ | Described in TS | | | | 32.290 [57] | +----------------------+----------------------+----------------------+ | > Time | > \- | This field is not | | | | applicable. | +----------------------+----------------------+----------------------+ | > Total Volume | > \- | This field is not | | | | applicable. | +----------------------+----------------------+----------------------+ | > Uplink Volume | > \- | This field is not | | | | applicable. | +----------------------+----------------------+----------------------+ | > Downlink Volume | > \- | This field is not | | | | applicable. | +----------------------+----------------------+----------------------+ | > Service Specific | > \- | This field is not | | > Unit | | applicable. | +----------------------+----------------------+----------------------+ | > Event Time Stamps | > \- | This field is not | | | | applicable. | +----------------------+----------------------+----------------------+ | > Local Sequence | > O~M~ | Described in TS | | > Number | | 32.290 [57] | +----------------------+----------------------+----------------------+ | > NSPA Container | > O~C~ | This field holds the | | > Information | | network slice | | | | performance and | | | | analytics container | | | | specific information | | | | described in clause | | | | 6.2.1.3. | +----------------------+----------------------+----------------------+ | NSPA Charging | > O~C~ | This field holds the | | Information | | network slice | | | | information, which | | | | is reported to the | | | | CHF described in | | | | clause 6.2.1.2. | +----------------------+----------------------+----------------------+
#### 6.1.1.3 Charging data response message
Table 6.1.1.3-1 illustrates the basic structure of a Charging Data Response
message from the CHF as used for performance and analytics based charging.
Table 6.1.1.3-1: Charging Data Response message contents
+----------------------+----------------------+----------------------+ | Information Element | Category for | Description | | | converged charging | | +======================+======================+======================+ | Session Identifier | > O~C~ | Described in TS | | | | 32.290 [57]. | +----------------------+----------------------+----------------------+ | Invocation Timestamp | > M | Described in TS | | | | 32.290 [57]. | +----------------------+----------------------+----------------------+ | Invocation Result | > O~C~ | Described in TS | | | | 32.290 [57]. | +----------------------+----------------------+----------------------+ | Invocation Sequence | > \- | This field is not | | Number | | applicable. | +----------------------+----------------------+----------------------+ | Session Failover | > O~C~ | Described in TS | | | | 32.290 [57]. | +----------------------+----------------------+----------------------+ | Triggers | > \- | This field is not | | | | applicable. | +----------------------+----------------------+----------------------+ | Multiple Unit | > \- | This field is not | | Information | | applicable. | +----------------------+----------------------+----------------------+
### 6.1.2 Ga message contents
Details of the Ga message contents are specified in TS 32.295 [55].
### 6.1.3 CDR description on the B~ns~ interface
#### 6.1.3.1 General
This clause describes the CDR content and format generated for performance and
analytics based charging.
The following table provide a brief description of each CDR parameter. The
category in the tables is used according to the charging data configuration
defined in clause 5.4 of TS 32.240 [1]. Full definitions of the CDR
parameters, sorted by the name in alphabetical order, are provided in TS
32.298 [57].
#### 6.1.3.2 Network slice performance and analytics CHF CDR data
If enabled, network slice performance and analytics CDRs shall be produced for
each network slice (i.e. S-NSSAI).
The fields of network slice performance and analytics CHF CDR are specified in
table 6.1.3.2-1.
Table 6.1.3.2-1: Network slice performance and analytics CHF record data
+----------------------------+----------+----------------------------+ | Field | Category | Description | +============================+==========+============================+ | Record Type | > M | CHF record. | +----------------------------+----------+----------------------------+ | Recording Network Function | > O~M~ | This field holds the name | | ID | | of the recording entity, | | | | i.e. the CHF id. | +----------------------------+----------+----------------------------+ | Tenant Identifier | > O~M~ | This field if present is | | | | the identifier of | | | | subscriber of network | | | | slice.. | +----------------------------+----------+----------------------------+ | NF Consumer Information | > M | This field holds the | | | | information of the CEF | | | | that used the charging | | | | service. | +----------------------------+----------+----------------------------+ | > NF Functionality | > M | This field contains the | | | | function of the node (i.e. | | | | CEF) | +----------------------------+----------+----------------------------+ | > NF Name | > O~C~ | This field holds the name | | | | of the CEF used. | +----------------------------+----------+----------------------------+ | > NF Address | > O~C~ | This field holds the IP | | | | Address of the CEF used. | +----------------------------+----------+----------------------------+ | > NF PLMN ID | > O~C~ | This field holds the PLMN | | | | identifier (MCC MNC) of | | | | the CEF. | +----------------------------+----------+----------------------------+ | List of Multiple Unit | > O~M~ | This field holds a list of | | Usage | | changes in charging | | | | conditions for one single | | | | Network Slice Selection | | | | Assistance. The list is | | | | categorized per rating | | | | group. Each change is time | | | | stamped. | +----------------------------+----------+----------------------------+ | > Rating Group | > O~M~ | This filed holds the | | | | rating group. | +----------------------------+----------+----------------------------+ | > Used Unit Container | > OC | This field holds the | | | | information connected to | | | | the reported network | | | | slice. | +----------------------------+----------+----------------------------+ | > Triggers | > O~C~ | This field holds the | | | | reason for closing the | | | | used unit container. | +----------------------------+----------+----------------------------+ | > Trigger Timestamp | > O~C~ | This field holds the | | | | timestamp of the trigger. | +----------------------------+----------+----------------------------+ | > Local Sequence Number | > M | This field holds the | | | | container sequence number. | +----------------------------+----------+----------------------------+ | > NSPA Container | > O~C~ | This field holds the | | > Information | | network slice performance | | | | and analytics container | | | | specific information | | | | described in clause | | | | 6.2.1.3. | +----------------------------+----------+----------------------------+ | NSPA Charging Information | > O~M~ | This field holds the | | | | network slice performance | | | | and analytics charging | | | | information defined in | | | | clause 6.2.1.2. | +----------------------------+----------+----------------------------+ | Record Opening Time | > M | Described in TS 32.298 | | | | [57]. | +----------------------------+----------+----------------------------+ | Duration | > M | Described in TS 32.298 | | | | [57]. | +----------------------------+----------+----------------------------+ | Record Sequence Number | > C | Described in TS 32.298 | | | | [57]. | +----------------------------+----------+----------------------------+ | Cause for Record Closing | > M | Described in TS 32.298 | | | | [57]. | +----------------------------+----------+----------------------------+ | Local Record Sequence | > O~M~ | Described in TS 32.298 | | Number | | [57]. | +----------------------------+----------+----------------------------+ | Record Extensions | > O~C~ | Described in TS 32.298 | | | | [57]. | +----------------------------+----------+----------------------------+
## 6.2 Network slice performance and analytics charging specific parameters
### 6.2.1 Definition of network slice performance and analytics charging
information
#### 6.2.1.1 General
The Charging Information parameter used for network slice performance and
analytics charging is provided in the following clauses.
#### 6.2.1.2 Definition of Performance and Analytics Charging Information
Specific charging information used for network slice performance and analytics
charging is provided within the Performance and Analytics Charging
Information.
The detailed structure of the Performance and Analytics Charging Information
can be found in table 6.2.1.2.1.
Table 6.2.1.2-1: Structure of NSPA Charging Information
* * *
Information Element Category Description Single NSSAI M This field holds
network slice information the performance and analytics information belongs
to.
* * *
#### 6.2.1.3 Definition of NSPA Container Information
Specific charging information used for network slice performance and analytics
charging is provided within the NSPA Container Information.
The detailed structure of the NSPA Charging Information can be found in table
6.2.1.3.1.
Table 6.2.1.3-1: Structure of NSPA Container Information
* * *
Information Element Category Description Latency O~C~ This field holds latency
as described in 28.554 [271]. Throughput O~C~ This field holds throughput as
described in TS 28.554 [271] Maximum packet loss rate O~C~ This field holds
maximum packet loss rate as described in TS GSMA NG.116 [500] Service
Experience statistics data O~C~ This field holds service experience statistics
data as described in TS 23.288 [150] Number of PDU sessions O~C~ This field
holds the number of PDU sessions as described in TS 28.554 [271]. Number of
registered Subscribers O~C~ This field holds the number of registered
subscribers as described in TS 28.554 [271]. Load level O~C~ This field holds
the load level as described in TS 23.288 [150].
* * *
### 6.2.2 Formal network slice performance and analytics charging parameter
description
#### 6.2.2.1 Network slice performance and analytics CHF CDR parameters
The detailed definitions, abstract syntax and encoding of network slice
performance and analytics CHF CDRs parameters are specified in TS 32.298 [57].
#### 6.2.2.2 Network slice performance and analytics resources attributes
The detailed definitions of resources attributes used for network slice
performance and analytics charging are specified in TS 32.291 [51].
### 6.2.3 Detailed message format for converged charging
The following clause specifies per Operation Type the charging data that are
sent by CEF for network slice performance and analytics converged charging.
The Operation Types are listed in the following order: I (Initial)/T
(Termination)/E (Event). Therefore, when all Operation Types are possible it
is marked as ITE. If only some Operation Types are allowed for a node, only
the appropriate letters are used (i.e. IT or E) as indicated in the table
heading. The omission of an Operation Type for a particular field is marked
with \"-\" (i.e. I-E). Also, when an entire field is not allowed in a node the
entire cell is marked as \"-\".
Table 6.2.3-1 defines the basic structure of the supported fields in the
_Charging Data Request_ message for CEF converged charging.
Table 6.2.3-1: Supported fields in _Charging Data Request message_
+------------------------------+---------------------------+-----+ | Information Element | Analytics and Performance | CEF | +==============================+===========================+=====+ | | Supported Operation Types | E | +------------------------------+---------------------------+-----+ | Session Identifier | > \- | | +------------------------------+---------------------------+-----+ | Subscriber Identifier | > \- | | +------------------------------+---------------------------+-----+ | Tenant Identifier | > E | | +------------------------------+---------------------------+-----+ | NF Consumer Identification | > E | | +------------------------------+---------------------------+-----+ | Invocation Timestamp | > E | | +------------------------------+---------------------------+-----+ | Invocation Sequence Number | > E | | +------------------------------+---------------------------+-----+ | Retransmission Indicator | > \- | | +------------------------------+---------------------------+-----+ | One-time Event | > E | | +------------------------------+---------------------------+-----+ | One-time Event Type | > E | | +------------------------------+---------------------------+-----+ | Notify URI | > \- | | +------------------------------+---------------------------+-----+ | Triggers | > E | | +------------------------------+---------------------------+-----+ | Multiple Unit Usage | > E | | +------------------------------+---------------------------+-----+ | > Rating Group | > E | | +------------------------------+---------------------------+-----+ | > Used Unit Container | > E | | +------------------------------+---------------------------+-----+ | > Triggers | > E | | +------------------------------+---------------------------+-----+ | > NSPA Container Information | > E | | +------------------------------+---------------------------+-----+ | NSPA Charging Information | | | +------------------------------+---------------------------+-----+ | > Single NSSAI | > E | | +------------------------------+---------------------------+-----+
Table 6.2.3-2 defines the basic structure of the supported fields in the
_Charging Data Response_ message for CEF converged charging.
Table 6.2.3-2: Supported fields in _Charging Data Response message_
+----------------------------+-------------------------------+-----+ | Information Element | **Analytics and Performance** | CEF | +============================+===============================+=====+ | | Supported Operation Types | E | +----------------------------+-------------------------------+-----+ | Session Identifier | > E | | +----------------------------+-------------------------------+-----+ | Invocation Timestamp | > E | | +----------------------------+-------------------------------+-----+ | Invocation Result | > E | | +----------------------------+-------------------------------+-----+ | Invocation Sequence Number | > \- | | +----------------------------+-------------------------------+-----+ | Session Failover | > E | | +----------------------------+-------------------------------+-----+ | Triggers | > \- | | +----------------------------+-------------------------------+-----+ | Multiple Unit information | > \- | | +----------------------------+-------------------------------+-----+
## 6.3 Bindings for network slice performance and analytics converged charging
This mapping between the Information Elements, resource attributes and CHF CDR
parameters for network slice performance and analytics converged charging is
described in clause 7 of TS 32.291 [51].
#