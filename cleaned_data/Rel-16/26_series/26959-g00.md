# Foreword
This Technical Report has been produced by the 3rd Generation Partnership
Project (3GPP).
The contents of the present document are subject to continuing work within the
TSG and may change following formal TSG approval. Should the TSG modify the
contents of the present document, it will be re-released by the TSG with an
identifying change of release date and an increase in version number as
follows:
Version x.y.z
where:
x the first digit:
1 presented to TSG for information;
2 presented to TSG for approval;
3 or greater indicates TSG approved document under change control.
y the second digit is incremented for all changes of substance, i.e. technical
enhancements, corrections, updates, etc.
z the third digit is incremented when editorial only changes have been
incorporated in the document.
# Introduction
Voice-over-LTE (VoLTE) may require better LTE Reference Signal Received Power
(RSRP) compared to data service, i.e. while the LTE radio signal may be good
enough for pure data session, it may not be reliable enough for VoLTE
services. In scenarios where the radio network is dimensioned for data
services, eNB may trigger SRVCC handover to CS, e.g. when the UE falls into
marginal or weak LTE coverage or when an EPS bearer with QCI-1 reliability is
not sufficiently met.
In certain network dimensioning, the VoLTE coverage border may be a function
of the selected codec and its selected configuration, its rate and mode
adaptation, and potentially the applied application layer redundancy, as well
as the required QoS of the VoLTE bearer. In these cases, legacy RAN might
unnecessarily hand over fairly good VoLTE calls to 2G/3G CS via SRVCC HO,
because it is unaware of the robustness of the selected codec. Radio Resource
Management functions could potentially avoid unnecessary SRVCC HOs, if
appropriate information is made available.
TS 26.114 (which is used as basis for the GSMA IR.92 VoLTE profile) includes
several tools for increased robustness of speech calls with initial selection
of Codecs and their Configuration and in-call dynamic rate and mode adaptation
and maybe application layer full redundancy. EVS, especially the EVS Channel
Aware mode, demonstrates higher robustness against transmission errors than
AMR and AMR-WB codecs by application-layer partial redundancy.
The present document investigates possible solutions to maintain voice quality
on LTE as high as possible and by that avoiding or at least delaying SRVCC as
much as possible and by that minimize the negative impact on user experience
for VoLTE subscribers in areas with weak LTE coverage.
The recommendations and conclusions of this document were used to develop the
Coverage and Handoff Enhancements for Multimedia (CHEM) feature which extended
beyond SRVCC and LTE to general handoffs. Aside from inter-domain handoffs,
this added intra-domain handoffs that also includes intra-system and inter-
system handoffs for any type of media. Normative and informative annexes for
this are specified in 3GPP TS 26.114 [3].
# 1 Scope
The present document provides a study on the enhanced VoLTE performance
(eVoLP). The study focuses on:
\- Guidelines or requirements to ensure that MTSI clients send requests to
adapt to robust modes of codec operation when necessary. This study may
require investigating performance results for different conditions and
adaptation procedures.
\- Mechanisms to indicate at setup a terminal\'s ability to send adaptation
triggers (e.g. to adapt to the most robust codec mode).
\- Evaluate the impact of proprietary client implementations of Packet-Loss
Concealment and Jitter Buffer Management (JBM) on having different Max PLR and
potential mechanisms to indicate this to the network.
# 2 References
The following documents contain provisions which, through reference in this
text, constitute provisions of the present document.
\- References are either specific (identified by date of publication, edition
number, version number, etc.) or nonâ€‘specific.
\- For a specific reference, subsequent revisions do not apply.
\- For a non-specific reference, the latest version applies. In the case of a
reference to a 3GPP document (including a GSM document), a non-specific
reference implicitly refers to the latest version of that document _in the
same Release as the present document_.
[1] 3GPP TR 21.905: \"Vocabulary for 3GPP Specifications\".
[2] 3GPP TR 21.952: \"Codec for Enhanced Voice Services (EVS); Performance
characterization\".
[3] 3GPP TS 26.114: \"IP Multimedia Subsystem (IMS); Multimedia telephony;
Media handling and interaction\".
[4] 3GPP TS 26.445: \"Codec for Enhanced Voice Services (EVS); Detailed
algorithmic description\".
[5] 3GPP TS 36.331: \"Evolved Universal Terrestrial Radio Access (E-UTRA);
Radio Resource Control (RRC); Protocol specification\"
[6] IETF RFC 4585 (2006): \"Extended RTP Profile for Real-time Transport
Control Protocol (RTCP) - Based Feedback (RTP/AVPF)\", J. Ott, S. Wenger, N.
Sato, C. Burmeister and J. Rey.
[7] Rep. ITU-R M.2135: \"Guidelines for evaluation of radio interface
technologies for IMT-Advanced\", 2008.
> [8] 3GPP TS 23.203: \"Policy and charging control architecture\".
>
> [9] 3GPP TS 23.401: \"General Packet Radio Service (GPRS) enhancements for
> Evolved Universal Terrestrial Radio Access Network (E-UTRAN) access\".
>
> [10] 3GPP TR 23.759: \"Study for enhanced Voice Over LTE (VoLTE)
> Performance\".
>
> [11] GSMA IR.92 (06/2017): \"IMS Profile for Voice and SMS v11.0\".
>
> [12] IETF RFC 4867: \"RTP Payload Format and File Storage Format for the
> Adaptive Multi-Rate (AMR) and Adaptive Multi-Rate Wideband (AMR-WB) Audio
> Codecs\", J. Sjoberg, M. Westerlund, A. Lakaniemi, Q. Xie.
>
> [13] IETF RFC 3550 (2003): \"RTP: A Transport Protocol for Real-Time
> Applications\", H. Schulzrinne, S. Casner, R. Frederick and V. Jacobson.
# 3 Definitions and abbreviations
## 3.1 Definitions
For the purposes of the present document, the terms and definitions given in
3GPP TR 21.905 [1] and the following apply. A term defined in the present
document takes precedence over the definition of the same term, if any, in
3GPP TR 21.905 [1].
## 3.2 Abbreviations
For the purposes of the present document, the abbreviations given in 3GPP TR
21.905 [1] and the following apply. An abbreviation defined in the present
document takes precedence over the definition of the same abbreviation, if
any, in 3GPP TR 21.905 [1].
DL Downlink (from eNB to UE)
eVoLP Enhanced VoLTE performance
JBM Jitter buffer management
Max. PLR Maximum end-to-end packet loss rate
PLR Packet loss rate
UL Up-link (from UE to eNB)
# 4 Overview
## 4.1 Introduction
## 4.2 UE-based and Network-based Architectures
### 4.2.1 Network-based Architecture
The network-based solution relies on the fact that the information on the
negotiated codecs and configurations (or codec modes) for the session is
available in the PCRF through its knowledge of the SDP that contains the
negotiated session parameters. Based on such information, the PCRF can derive
the relevant robustness parameter information (e.g. Maximum Packet Loss Rate)
and signal this information to the eNB, using the procedures defined in TS
23.203 [8] and TS 23.401 [9]. The derivation of the robustness parameter
information based on the negotiated codec modes can be performed subject to a
standardized mapping rule, e.g. with an indication of packet loss rate for
each codec mode and calculation of the Maximum Packet Loss Rate based on the
negotiated codec modes. The network-based solution is depicted in Figure 4.1.
In this solution, the PCRF by default does not know the MTSI client adaptation
behavior, and would therefore set the robustness parameter (e.g. Maximum
Packet Loss Rate) based on the least robust codec mode among the negotiated
codec configurations. If however the PCRF knows from the SDP that the MTSI
client receiver supports adaptation to the most robust codec mode, i.e. that
the UE will request the sender to change its encoder to a more robust mode
when it detects packet losses, then the PCRF could set the robustness
parameter based on the most robust codec mode, and thereby potentially
enabling enhanced optimized SRVCC handover performance. Such indication to the
PCRF is enabled via the new SDP parameter \'adapt\', see clause 7.2.1 for
further details.
{width="6.6930555555555555in" height="1.5916666666666666in"}
Figure 4.1: Network-based solution to signal robustness information to eNB
### 4.2.2 UE-based Architecture
The UE-based solution relies on the fact that the information on the
negotiated codecs and configurations (or codec modes) for the session is
available in the UE through its knowledge of the SDP that contains the
negotiated session parameters. Based on such information, the UE can derive
the relevant robustness parameter (e.g. Maximum Packet Loss Rate) and signal
this to the eNB. Such signaling from the UE to the eNB would have to be
defined in the RAN, e.g. via use of RRC signaling to carry the robustness
parameter information in TS 36.331 [5] (the exact format of the signaling may
be decided by RAN2). The derivation of the robustness parameter information
based on the negotiated codec modes can be performed subject to a standardized
mapping rule, e.g. with an indication of packet loss rate for each codec mode
and calculation of the Maximum Packet Loss Rate based on the negotiated codec
modes. The UE-based solution is depicted in Figure 4.2.
For the UE-based solution, one can observe that the UE (i.e. MTSI client) not
only knows the negotiated codecs and configurations (or codec modes), but also
the selected codec configuration or mode for the currently transmitted RTP
stream, i.e. as determined via the outcome of the media adaptation in the UE.
As such, the UE can determine the packet loss rate corresponding to the
selected codec configuration and signal the relevant robustness parameter
information (e.g. MaxPLR) to the eNB. Therefore, an indication at the SDP
level via the \'adapt\' parameter as described in clause 7.2.1 is not
necessary for the UE-based signaling solution, and an enhanced SRVCC handover
performance can potentially be ensured without supporting the \'adapt\'
feature in the SDP and enforcing a particular adaptation behavior on the MTSI
client in the UE. Moreover, depending on the change in the selected codec
configuration or mode, the UE can dynamically update the eNB on the
corresponding robustness parameter information, e.g. updated value for MaxPLR.
{width="6.691666666666666in" height="1.5972222222222223in"}
Figure 4.2: UE-based solution to signal robustness information to eNB
# 5 Parameters for SRVCC Handover Thresholds
## 5.1 Description
In this study, the parameters considered in TR 23.759 [10] are reused. In
particular Max PLR in UL and DL directions is a parameter that indicates the
maximum Packet Loss Rate that the specific codec mode is able to experience
without degrading the voice quality.
## 5.2 Potential Solutions
### 5.2.1 Robustness Indication
#### 5.2.1.1 Maximum Packet Loss Rate (PLR)
##### 5.2.1.1.1 General
Based on the 3GPP EVS Selection and Characterization results that included
AMR-WB, AMR-WB encoder with ITU-T G718IO decoder, and EVS codec, this clause
provides an example set of Max. PLR operating points that the terminal may
indicate to the PCRF.
##### 5.2.1.1.2 Max PLR recommendation without Application Layer Redundancy
Table 5.1 provides an example Maximum PLR operating points based on the EVS
Selection and Characterization experiment results.
Based on the EVS Characterization experiment results, e.g. Figure 11.10 and
Figure 11.17 in TR 26.952 [2] the following can be noted:
\- Compared against AMR-WB/EVS AMR-WB-IO modes, the subjective quality
performance gap with EVS-SWB Channel Aware mode increases from about 0.3 DMOS
to 0.75 DMOS. For example, EVS SWB CA 13.2 kbps at 9% FER is NWT than that of
AMR-WB (or EVS-IO) at 23.85 kbps at 3% FER.
Based on the EVS Selection experiment results, e.g. Figure 10.2 in TR 26.952,
the following can be noted.
\- the performance of EVS WB at 6% FER (solid red line) is similar to that of
the AMR-WB/G.718IO at 3% FER (dotted blue line). Note that AMR-WB/G.718IO
incorporates enhanced decoder-side packet loss concealment techniques that are
not specified in AMR-WB codec.
Based on the EVS Selection experiment results, e.g. Figure 10.12 in TR 26.952,
the following can be noted.
\- the performance of EVS AMR-WB IO at a given FER is similar to that of AMR-
WB/G.718IO at the same FER.
Table 5.1: Example Maximum End-to-end Packet Loss Rate (PLR) per link for AMR-
WB, EVS
* * *
Codec Robustness Parameter Maximum End-to-end Packet Loss Rate AMR-WB Normal
1.5% AMR-WB/G718 IO, EVS AMR-WB IO Medium 3% EVS WB, SWB High 6% EVS WB, SWB
Channel Aware Extreme High 9%
* * *
##### 5.2.1.1.3 Max PLR recommendation with Application Layer Redundancy
Application layer redundancy can work in conjunction with any of the
aforementioned codec modes in Table 5.1, and may in general improve the Max.
PLR operating points.
Unlike the EVS channel aware (partial redundancy) codec mode for which there
are test results (see TR 26.952) that may be used to derive the Maximum PLR
operating points, the derivation of the Max. PLR operating points with
Application Layer Redundancy may depend on many factors, e.g.:
\- Different redundancy levels (100% or 200% or 300%).
\- Rate and intervals at which the packets are repeated and transmitted.
\- Underlying changes to the codec audio bandwidth (e.g. super-wideband to
wideband and drop in intrinsic quality) if the codec bitrate is reduced to
allow for packet repetitions.
Conducting subjective tests to measure the performance of application layer
redundancy is one way to obtain some guidance. However, repeating the same
level of subjective testing rigor to study the eVoLP performance with all
potential application layer redundancy modes is simply too complex. Therefore,
it is more practical to limit the number of application layer redundancy
modes, e.g. use only 100% redundancy modes.
In general, use of application layer redundancy (i.e. packet repetitions) may
have benefits to improve error performance, but to assess what is the Max. PLR
operating point for improving eVoLP performance is challenging, especially to
provide analytical guidance on top of the case when application layer
redundancy is not used. For example, if one is operating at EVS 24.4 kbps SWB
and encountered an FER of 10%, use of application layer redundancy with 2x9.6
kbps (to stay within the same data rate) may improve the effective loss rate
to about 1%. However, the drop in the intrinsic quality of the EVS codec at
9.6 kbps relative to that of at 24.4 kbps needs to be accounted for when
setting the Max. PLR operating point. Similarly, if one is operating at EVS
13.2 kbps SWB, and encounters an FER of 10%, use of application layer
redundancy with 2x5.9 kbps (to stay within the same data rate) may improve the
effective loss rate to about 1%, with the cost that SWB coding is not
supported at 5.9 kbps.
Table 5.2: Example Max. End-to-end Packet Loss Rate (PLR) with application
layer redundancy for EVS codec
+----------------------+----------------------+----------------------+ | Codec | Robustness Parameter | Maximum End-to-end | | | | Packet Loss Rate | +----------------------+----------------------+----------------------+ | No application layer | - | X % | | redundancy, | | | | | | | | EVS (@ bitrate of R | | | | kbps) | | | +----------------------+----------------------+----------------------+ | With 100% | - | (X+2)% to (X+5) % | | application layer | | | | redundancy, | | | | | | | | EVS (@ bitrate of 2R | | | | kbps), Offset=2. | | | +----------------------+----------------------+----------------------+
Note: The relationship to path loss when operating at twice the bit rate is
not accounted in the Max. PLR value in Table 5.2.
Table 5.2 provides example Maximum PLR operating points with and without
application layer redundancy applicable to EVS codec based on informal
objective and subjective results in Annex A. The example Max. PLR values in
Table 5.2 for EVS includes 100% application layer redundancy with offset 2,
resulting in (2xbitrate). In particular, from Figure A.1 and Figure, A.2, it
can be noted that similar MOS-LQO values are observed for the following, 1)
EVS \@2x7.2 kbps at 6% FER and EVS \@13.2 kbps at 4% FER, 2) EVS 2x13.2 kbps
at 8% FER and EVS 13.2 kbps at 3% FER, and 3) EVS 2x9.6 kbps at 6% FER and EVS
24.4 kbps at 3% FER. With the use of application layer redundancy, it is not
straightforward to set the Max. PLR parameter as it will depend highly on the
configuration and the bitrates used. To this extent, in Table 5.2, a range of
possible Max. PLR improvements that can be feasible, e.g. 2-5% are suggested.
That is if the Max. end-to-end packet loss rate that a terminal can handle is
X% when there is no application layer redundancy (e.g. as per Table 5.1), then
with the application layer redundancy the Max. PLR end-to-end packet loss rate
that a terminal can similarly handle may increase to the range of (X+2)% to
(X+5)%. It is not straightforward to obtain a reliable single Max. PLR value
for various configurations of application layer redundancy; and it is up to
the service provider to evaluate the network configuration and select a
suitable Max. PLR value when using application layer redundancy for eVoLP.
Another aspect to take into consideration is that even though it may be
possible that the codec (or codec configurations) can handle maximum end-to-
end packet loss rate in the range of e.g. 12%, the radio link may be quite
unstable at those channel conditions.
The use of application layer redundancy introduces the following
considerations:
1) Increasing the aggregate bit rate can:
\- further reduce coverage, which is the opposite to the objective of the
eVoLP feature. This was not simulated in the study.
\- increase the packet loss rate provided by the RAN as it is supporting a
higher bit rate. This was not simulated in the study.
2) Keeping the aggregate bit rate the same by reducing the codec bit rate
(e.g. 13.2 -> 2 x 7.2) can reduce the voice quality as a lower rate codec is
used. This was not taken into account in the study.
3) Reserving QoS resources for a data rate more than required by the highest
codec mode negotiated to support application layer redundancy may result in a
waste of network resources if the application layer redundancy is never used.
This consideration can limit the number of codec modes with which application-
layer redundancy can be used. For example, a configuration may not reserve
more QoS than is required by the highest codec mode negotiated. When
application layer redundancy is used in such configuration it can only be used
with lower rate codec modes.
## 5.3 Conclusion
For eVoLP SRVCC threshold selection, it is recommended to use the example Max.
PLR operating points as per clauses 5.2.1.1.1 and clauses 5.2.1.1.2.
# 6 Codec Mode Adaptation Procedures
## 6.1 Description
## 6.2 Potential Solutions
### 6.2.1 Adaptation to Packet Loss
The main clause dealing with adaptation in TS 26.114 is clause 10 and example
adaptation algorithms for speech are provided in Annex C of TS 26.114. There
are no mandatory adaptation mechanisms, however clause 10 provides some high-
level guidelines (e.g. conservative use of adaptation). TS 26.114 currently
defines two methods to signal adaptation requests for speech:
\- RTP CMR in the codec payload
\- RTCP-APP
Note that additional mechanisms are available (e.g. ANBR for bitrate
adaptation and ECN-triggered adaptation). RTCP-APP is recommended for speech
adaptation defined in clause 10.2.1 of TS 26.114 (including application-layer
redundancy). However, it is also specified that AVPF will be offered when
offering to use RTCP-APP signalling.
The procedures for client adaptation to packet loss can be introduced in Annex
C of TS 26.114, similar to how the procedures for rate adaptation are
specified. This would be specified as follows:
In 3GPP TS 26.114 [3]:
##### **_\"C.1.3.6 Adaptation to Packet Loss_** {#c.1.3.6-adaptation-to-
packet-loss .H6}
_When the MTSI client detects packet losses higher than tolerable by the
current codec mode and application layer redundancy in use (if any), then the
MTSI client should use the CMR or RTCP-APP messages to request a more robust
codec mode or increased application layer redundancy from the media sender.\"_
## 6.3 Conclusion
It is recommended to add the procedures to client adaptation to packet loss in
TS 26.114 as per clause 6.2.1.
# 7 Adaptation Capability Indication
## 7.1 Description
Void.
## 7.2 Potential Solutions
### 7.2.1 SDP Indication
### 7.2.1 SDP Indication
A new SDP attribute (e.g. \"PLR_adapt\") can be defined to indicate that the
MTSI client receiver supports adaptation to the most robust codec mode, i.e.
that the UE will request the sender to change its encoder to a more robust
mode when it detects packet losses.
The \"PLR_adapt\" SDP attribute is necessary so that the UEs and network can
confirm that the MTSI clients will be able to adapt to the most robust codec
mode negotiated for the session. When the attribute is sent by an MTSI client
in SDP (Offer or Answer) this indicates that when the MTSI client detects high
packet loss in the received media stream, the MTSI client will request that
the media sender use a more robust codec mode among those negotiated.
During the design of the Coverage and Handoff Enhancements for Multimedia
(CHEM) feature it was determined that some network operators may want to
disable the MTSI client's ability to perform robustness adaptation (e.g.,
network wants to guarantee that UEs from different vendors do not change codec
modes at different PLR values before performing SRVCC). To support this, the
\"PLR_adapt\" SDP attribute was modified from being a capability indication to
become an attribute for negotiating use of the CHEM feature, i.e., the MTSI
client shall only perform robustness adaptation when it receives the
"PLR_adapt" attribute from the other MTSI client. To disable the feature the
network could remove the SDP attribute during SDP negotiation.
For the network-based solution, the PCRF can use the presence of the
\"PLR_adapt\" attribute in SDP to determine what Max PLR to indicate to its
eNB as follows:
a) If the PCRF detects the \"PLR_adapt\" attribute in both the SDP offer and
answer, but does not detect the "ALR" parameter, then the PCRF can indicate,
a) the Max PLR for the **most robust** codec mode that does not use
application layer redundancy negotiated in the downlink direction to the eNB
for its downlink. Otherwise, if the \"PLR_adapt\" attribute is not detected,
the PCRF indicates the Max PLR for the **least robust** codec mode negotiated
in the downlink direction to the eNB for its downlink
b) the Max PLR for the **most robust** codec mode that does not use
application layer redundancy negotiated in the uplink direction to the eNB for
its uplink. Otherwise, if the \"PLR_adapt\" attribute is not detected, the
PCRF indicates the Max PLR for the **least robust** codec mode negotiated in
the uplink direction to the eNB for its uplink
b) If the PCRF detects the \"PLR_adapt\" attribute in both the SDP offer and
answer, and also detects the "ALR" parameter, then the PCRF can indicate,
a) the Max PLR for the **most robust** codec mode (including those that rely
on application layer redundancy) negotiated in the downlink direction to the
eNB for its downlink. Otherwise, if the \"PLR_adapt\" attribute is not
detected, the PCRF indicates the Max PLR for the **least robust** codec mode
negotiated in the downlink direction to the eNB for its downlink
b) the Max PLR for the **most robust** codec mode (including those that rely
on application layer redundancy) negotiated in the uplink direction to the eNB
for its uplink. Otherwise, if the \"PLR_adapt\" attribute is not detected, the
PCRF indicates the Max PLR for the **least robust** codec mode negotiated in
the uplink direction to the eNB for its uplink
Figure 7.1: void
Figure 7.2: void
The PLR_adapt SDP attribute applies to the entire media line, i.e., either all
of the codecs support robustness adaptation or none do.
### 7.2.2 Application Layer Redundancy Adaptation Request
#### 7.2.2.1 General
Application layer redundancy is a codec-agnostic feature and not a codec mode
as such. For example, the application layer redundancy may be used in
conjunction with the current codecs AMR or AMR-WB or EVS AMR-WB IO or EVS with
or without Channel aware. The use of application layer redundancy requires use
of the RTCP-APP redundancy request message as specified in clause 10.2.1.3, TS
26.114 [3]. However, other signalling options than RTCP-APP are studied in
another clause.
Further, as per GSMA RiLTE specification IR 92 v11.0, it was specified that
\"RTCP-APP must not be used for Codec Mode Requests (CMR) by the UE and the
entities in the IMS core network that terminate the user plane\", and AVPF
will not be used. The use of RTCP-APP is therefore restricted for use of
requesting application layer redundancy.
GSMA IR.92 specifies that \"the RTP AVP profile must be used by the client and
IMS network. Besides, entities must be able to ignore SDPCapNeg attributes and
indicate the use of the RTP AVP profile when clients support both AVP and
AVPF\". With this minimum profile of MTSI, it is therefore not possible to use
RTCP-APP with the AVPF profile which could affect performance of media
robustness adaptation due to signalling latency. The primary uses of RTCP are
voice quality monitoring and keep-alive functionality.
#### 7.2.2.2 Signal method 1: RTCP-APP
RTCP-APP signalling is defined in TS 26.114 [3], clause 10. This method does
not seem applicable with the current minimum profile defined in GSMA IR.92
[11].
#### 7.2.2.3 Signal method 2: RTP CMR using the Reserved CMR codepoints
RTP CMR for AMR and AMR-WB is specified in IETF RFC 4867 [12]. The 4-bit CMR
code space is not fully used and allows to signal bit rate adaption requests
for the 8 and 9 modes of AMR and AMR-WB, together with the NO_REQ code. Some
CMR code points are left for future use.
RTP CMR for EVS is specified in Annex A of TS 26.445. In Compact mode, there
is only a 3-bit CMR for EVS AMR-WB IO to signal 7 out 9 modes and a \'none\'
code equivalent to \'NO_REQ\'. A CMR byte is defined for Header-full mode,
with code points for operation mode / bit rate / coded bandwidth adaptations
(EVS-NB, -WB, -SWB, and -FB and AMR-WB IO), together with specific requests
for EVS CAM at different offsets and FEC indicators. There is also a specific
code point for NO_REQ in the CMR byte. The code space in the CMR byte is
sparse with many entries indicated as \'Not used\' and some entries indicated
as \'reserved\'.
The existing code points for RTP CMR in AMR and AMR-WB can only be used for
bit rate adaptation while RTP CMR for EVS is able to signal adaptation
requests in terms of operation mode / bit rate / coded bandwidth / CAM mode
adaptation. To be able to signal other types of requests, such as application-
layer redundancy or frame aggregation, one has to rely on RTCP-APP, however
this is not allowed in IR.92.
Assuming there is a specific new SDP attribute indicating \'eVoLP capability\'
in the terminal for interoperability with legacy terminals (e.g. a media level
attribute below the \'m=audio\' line in SDP), one may reuse \'reserved\' CMR
codepoints for AMR, AMR-WB and EVS.
{width="4.4743055555555555in" height="2.0770833333333334in"}
Figure 7.3: Packet structure with extended CMR (ext. CMR) by reusing reserved
code points
The use of CMR to request for application layer redundancy is not possible in
case of AMR-WB and EVS AMR-WB IO as there are no available points as per Table
A.3 in TS 26.445 [4]. In case of EVS primary modes, repurposing the 15
Reserved Fields is highly risky given that:
\- It is not clear if all the current implementations strictly ignore the
Reserved Fields or reset them.
\- Also, as per clause A.2.2.1.1 in TS 26.445, when a CMR is received
requesting a bit rate and/or audio bandwidth that does not comply with the
negotiated media parameters, it will be ignored. Any change to the TS 26.445
specification now would introduce backwards compatibility issues with legacy
devices. One may have to rely on additional eVoLP related SDP attributes
and/or parameters (e.g. eVoLP \'PLR_adapt\' attribute and optional 'ALR'
attribute) to limit the backward interop issues.
Some indicative example of code point reuse for AMR, AMR-WB and EVS are
provided in Tables 7.1, 7.2, 7.3.
Table 7.1: Reusing \'reserved\' code points for AMR.
* * *
CMR code Application layer redundancy AMR request 9 RED 2x4.75 10 RED 2x5.15
11 RED 2x5.9 12 Not used 13 Not used 14 Not used
* * *
Table 7.2: Reusing \'reserved\' code points for AMR-WB
* * *
CMR code Application layer redundancy AMR-WB request 9 RED 2x6.6 10 RED 2x8.85
11 RED 2x12.65 12 Not used 13 Not used 14 Not used
* * *
Table 7.3: Example 1: Reusing \'reserved\' code points for EVS.
* * *
CMR code Application layer redundancy EVS request 111 0000 RED 2x7.2-NB 111
0001 RED 2x8-NB 111 0010 RED 2x9.6-NB 111 0011 RED 2x13.2-NB 111 0100 RED
2x7.2-WB 111 0101 RED 2x8-WB 111 0110 RED 2x9.6-WB 111 0111 RED 2x13.2-WB 111
1000 RED 2x13.2 CAM WB 111 1001 RED 2x13.2 CAM SWB 111 1010 RED 2x9.6-SWB 111
1011 RED 2x13.2-SWB 111 1100 RED 2x6.6-IO 111 1101 RED 2x8.85-IO 111 1110 RED
2x12.65-IO
* * *
#### 7.2.2.4 Signal method 3: Padding
Assuming there is a specific new SDP attribute indicating \'eVoLP capability\'
in the terminal for interoperability with legacy terminals (e.g. a media level
attribute below the \'m=audio\' line in SDP), padding can be inserted at the
end of the payload. The padding bit (P) in the RTP header may be set to 1,
however this bit may also be kept to 0 to avoid impact on header compression.
Padding should be inserted following RFC 3550, where the last octet indicates
the number of inserted bytes. The signalled request may be format as in RTCP-
APP or as in extended CMR. In the latter case, care should be taken to avoid
conflicts with the possible CMR in the payload header.
{width="4.347916666666666in" height="2.01875in"}
Figure 7.4: Packet structure with extended request with padding bytes
This solution is not feasible, because RTP-level padding is mandated to be set
to 0 [13].
#### 7.2.2.5 Signal method 4: RTP header extension
Assuming there is a specific new SDP attribute indicating \'eVoLP capability\'
in the terminal for interoperability with legacy terminals (e.g. a media level
attribute below the \'m=audio\' line in SDP), this capability attribute can be
formatted according to RFC 8285 with the \"rtp-hdrext\" parameter. The
extension bit (X) in the RTP header will be set to 1.
The signalled request may be format as in RTCP-APP or as in extended CMR. In
the latter case, care should be taken to avoid conflicts with the possible CMR
in the payload header.
{width="4.347916666666666in" height="2.01875in"}
Figure 7.5: Packet structure with header extension
#### 7.2.2.6 Conclusions on Application Layer Redundancy
With the GSMA IR.92 restrictions against using the AVPF RTP profile for
speech, the solution chosen for supporting the request of application layer
redundancy for speech robustness was use of the reserved RTP CMR codepoints as
described in clause 7.2.2.3.
As there were no identified commercial deployments of application layer
redundancy it was determined that its support not be mandated for the Coverage
and Handoff Enhancements for Multimedia (CHEM) feature specified in 3GPP TS
26.114 [3]. Use of application layer redundancy has to be explicitly
negotiated using an optional SDP 'ALR' parameter of the PLR_adapt SDP
attribute. The use of the RTP CMR codepoints is restricted to only sessions
where both MTSI clients indicate support via the 'ALR' SDP attribute, thus
avoiding backwards compatibility issues with legacy terminals and enabling use
of the reserved code points for future features that do not rely or co-exist
with application layer redundancy.
### 7.2.3 Considerations on the impact of packet loss on adaptation requests
When RTP CMR is used, the CMR field is carried in RTP packets, which are
typically over UDP (in unacknowledged RLC mode in LTE), so in case of packet
loss the CMR field might be lost. Some possible guidelines are provided below
to ensure proper behavior in impaired conditions, assuming the existing RTP
CMR method is used to application layer redundancy adaptation requests:
\- For AMR and AMR-WB, the CMR field is always present. Assuming an updated
adaptation request has been sent in a given CMR (different from \'NO_REQ\'),
the code point corresponding to the targeted operation should be used and
repeated until the next update of the request, instead of the \'CMR15\' code
point. Alternatively, one may repeat a request several times until the request
is executed or up to a given timeout.
\- For EVS, assuming the default packetization mode is used, sending CMR may
require temporarily switching from compact to header-full (at the expense of
payload size). If the terminal, which has sent an adaptation request by CMR,
has not received any RTP packets matching the request after a given timeout
(e.g. 500 ms), it may resend a new CMR (potentially with an updated value).
There may be other approaches, for instance, the terminal may just repeat the
latest updated adaptation request, however this may require using header-full
mode most of the time, especially if the adaptation frequency is high or if
the target is to maximize the robustness of CMR transport. Here, it is
important to recall that there is some potential padding penalty used for size
collision avoidance of header-full mode, which may have an impact on
efficiency.
## 7.3 Conclusion
It is recommended to define a new SDP parameter (e.g. \"PLR_adapt\") to
indicate that the MTSI client receiver supports adaptation to the most robust
codec mode. For the network-based eVoLP solution, the PCRF can use the
presence of this parameter in SDP to determine the Max. PLR to indicate to its
eNB as per clause 7.2.1.
# 8 Impact of JBM and PLC on Handover Thresholds
## 8.1 Description
In addition to the negotiated codecs and codec modes, the end-to-end quality
and robustness of the VoLTE connection also depends on the UE capabilities
including, for example, jitter buffer management (JBM) and packet loss
concealment (PLC). In the meantime, the MaxPLR parameter derived by the PCRF
(i.e. in the network-based architecture in clause 4.2.1) or UE (i.e. in the
UE-based architecture in clause 4.2.2) and signaled to the eNB does not
capture the impact of such UE capabilities. As such, further refinements on
the MaxPLR could be considered on a per UE basis depending on the capabilities
of the UE.
One of the challenges in setting the handover thresholds is to ensure that the
end-to-end error rate across the transport path from the media sender to a
media receiver does not exceed the maximum packet loss that the codec, the PLC
implementation, and the JBM implementation in the receiving UE can handle. In
Figure 8.1, assuming that the backhaul introduces negligible error requires
that in the transmission direction from UE B to UE A, that:
eNB_A_DL_PLR + eNB_B_UL_PLR \ 0 1 2 3\ 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1\
> +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\ \| ID \|
> len=7 \| UL_DL_PLR_Ratio1 \| UL_DL_PLR_Ratio2 \|\
> +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
In this setting where RTP header extension messages contain DL and UL PLR
allocations for both forward and reverse links, there would not be a need to
use the RTCP feedback messages, in order to signal UL PLR information from the
MTSI receiver to the MTSI sender. This signalling option however relies on the
presence of a bi-directional link, i.e. it would not work in case of sendonly
or recvonly streams.
Figure 8.3 below with signaling flows provides an example usage of the above
dynamic DL PLR and UL PLR allocation framework based on the use of RTCP
feedback signaling.
{width="6.684027777777778in" height="2.9006944444444445in"}
Figure 8.3: Examplary signaling flow for dynamic DL PLR and UL PLR allocation
based on the use of RTCP feedback signaling
Step 1: UE-A and UE-B exchange SDP that includes information on (i)
max_e2e_PLR on UE-A and UE-B., (ii) RTCP-based ability to signal UL PLR
information as described above, (iii) RTP header extension based capability to
exchange UL PLR information as described above. Following the SDP negotiation,
it is possible that DL PLR and UL PLR values may be statically configured and
the respective SRVCC thresholds may be determined, as per the UE-based and
network-based approaches documented in clauses 8.2.2.3 and 8.2.3.3 to 8.2.3.5,
respectively. For instance, from the perspective of UE B, this means,
eNB_B_DL_PLR and eNB_A_UL_PLR are also statically set.
Step 2: UE-A sends RTP media flow to UE-B.
Step 3: UE-B detects DL good radio conditions locally, e.g. UE-B measures low
BLER over the local radio link. Hence, UE-B concludes that the local radio
conditions will support the most robust codec mode with negligibly small PLR,
and the chances of SRVCC handover are quite small.
Step 4: On the contrary, UE-A detects UL poor radio conditions locally, e.g.
UE-A measures high BLER over the local radio link. Hence, UE-A concludes that
the local radio conditions may hardly support the most robust codec mode, and
there\'s a good chance that SRVCC handover will need to be triggered.
Step 5: UE-B sends to UE A an RTCP feedback message including UL PLR
information, where eNB_A_UL_PLR value is set to a value almost close to
max_e2e_PLR for UE B.
Step 6: UE A signals the new UL PLR value to eNB A. Then eNB updates its SRVCC
handover threshold based on the new UL PLR value, which is higher than the
statically set UL PLR value.
Step 7: SRVCC handover over the UL connection from UE A to eNB A is delayed
further due to the dynamically signalled UL PLR information from UE B.
Next, we evaluate the potential performance enhancement based on the dynamic
allocation of DL PLR and UL PLR compared to a static PLR allocation policy,
considering the Example Maximum End-to-end Packet Loss Rate (PLR) per link
values for AMR-WB and EVS as given in Table 5.1.
In the examples below, we distinguish between poor coverage UEs and good
coverage UEs depending on their coverage conditions. Both kinds of UEs will be
encountered in a typical cellular deployment. A poor coverage UE is typically
located far from the eNB, e.g. at the cell edge, while a good coverage UE is
typically located close to the eNB, e.g. at cell center. For a good coverage
UE, it is considered that the most robust codec mode will be supported with
negligibly small PLR, while for a poor coverage UE, PLR budget is critical and
even the most robust codec mode may not be supported below the DL/UL PLR
values set at the corresponding eNBs necessitating to trigger SRVCC handover.
Note: The dynamic PLR thresholds offered by the UEs are based on the PLR
statistics observed over time.
**Example 1: Sender in Poor Coverage (UL), Receiver in Good Coverage (DL)**
\- EVS and EVS-CA are negotiated as codecs for the session. Thus, MaxPLR for
the end-to-end connection is 9%, as per Table 5.1.
\- Consider two static PLR allocation schemes for reference toward the
performance comparison. A 50-50 static PLR allocation policy would set both DL
PLR and UL PLR to 4.5%. A 70-30 static allocation policy would set DL PLR to
2.7% and UL PLR to 6.3%.
\- Due to very poor coverage on the sender side, EVS-CA mode needs to be used
based on the MTSI client adaptation. In the meantime, due to the good DL
coverage conditions, the receiver can receive the voice packets at a
negligibly small PLR from its eNB. Thus, most of the end-to-end PLR budget may
be allocated to UL PLR. As such, UL PLR can be set to close to 9% by the
dynamic allocation policy. To make this allocation happen, the poor coverage
UE makes a request by signaling the UL PLR value close to 9%, say 8.5% (or a
corresponding UL/DL ratio value, say 20 or higher) to the good coverage UE,
and then the good coverage UE agrees to this PLR allocation and signals back
accordingly. It should be noted that by default eNBs would use the statically
configured PLR thresholds in case there is no agreement between the UEs on the
dynamic PLR allocation, among the UEs. Upon agreement, the good coverage UE
and bad coverage UE may then signal the agreed DL PLR and UL PLR values to
their eNBs to configure the corresponding SRVCC handover thresholds.
\- As such, the UL PLR as set by the dynamic allocation policy will help to
sustain the LTE voice connection for a longer amount of time, and delay the
SRVCC handover until the UL PLR exceeds 8.5%. On the contrary, the static
allocation policy would have triggered SRVCC when the UL PLR exceeded 4.5%
(under the 50-50 allocation) or 6.3% (under the 70-30 allocation). This
demonstrates the potential performance enhancement from the use of a dynamic
PLR allocation framework over static PLR allocation.
\- For static (non-moving) UEs, channel conditions will tend to persist for a
long period of time. As such, once the UL and DL PLR values have been set as
per the dynamic allocation policy, there is no need to change them for a long
period of time, potentially for the entire duration of the voice call.
\- For mobile (moving) UEs, the channel conditions will vary over time, and as
such it will be necessary to update the dynamic PLR allocation values over
time. However, given the even for moving UEs, the frequency of the PLR updates
are expected to be manageable during the course of the MTSI voice session.
**Example 2: Sender in Good Coverage (UL), Receiver in Poor Coverage (DL)**
\- EVS and EVS-CA are negotiated as codecs for the session. Thus, MaxPLR for
the end-to-end connection is 9%, as per Table 5.1.
\- Consider two static PLR allocation schemes for reference toward the
performance comparison. A 50-50 static PLR allocation policy would set both DL
PLR and UL PLR to 4.5%. A 70-30 static allocation policy would set DL PLR to
2.7% and UL PLR to 6.3%.
\- Due to very poor coverage on the receiver side, EVS-CA mode needs to be
used based on the MTSI client adaptation. In the meantime, due to the good UL
coverage conditions, the sender can transmit the voice packets at a negligibly
small PLR to its eNB. Thus, most of the end-to-end PLR budget may be allocated
to DL PLR. As such, DL PLR can be set to \~9% by the dynamic allocation
policy. To make this allocation happen, the poor coverage UE makes a request
by signaling the UL PLR value close to 0%, say 0.5% (or a corresponding UL/DL
ratio value, say 0.05 or lower) to the good coverage UE, and then the good
coverage UE agrees to this PLR allocation and signals back accordingly. The
good coverage UE and bad coverage UE may then signal the agreed DL PLR and UL
PLR values to their eNBs to configure the corresponding SRVCC handover
thresholds.
\- As such, the DL PLR as set by the dynamic allocation policy will help to
sustain the LTE voice connection for a longer amount of time, and delay the
SRVCC handover until the DL PLR exceeds 8.5%. On the contrary, the static
allocation policy would have triggered SRVCC when the DL PLR exceeded 4.5%
(under the 50-50 allocation) or 2.7% (under the 70-30 allocation). This
demonstrates the potential performance enhancement from the use of a dynamic
PLR allocation framework over static PLR allocation.
\- For static and mobile UEs, the same considerations as in Example 1 above
apply. As such, once the UL and DL PLR values have been set as per the dynamic
allocation policy, there is no need to change them for a reasonably long
period of time and the frequency of PLR updates is expected to be low.
**Example 3: Sender in Poor Coverage (UL), Receiver in Poor Coverage (DL)**
\- EVS and EVS-CA are negotiated as codecs for the session. Thus, MaxPLR for
the end-to-end connection is 9%, as per Table 5.1.
\- Consider two static PLR allocation schemes for reference toward the
performance comparison. A 50-50 static PLR allocation policy would set both DL
PLR and UL PLR to 4.5%. A 70-30 static allocation policy would set DL PLR to
2.7% and UL PLR to 6.3%.
\- Due to very poor coverage on both the sender and receiver sides, EVS-CA
mode needs to be used based on the MTSI client adaptation. End-to-end PLR
budget needs to be allocated very carefully between DL PLR and UL PLR as SRVCC
may be triggered on both ends due to poor coverage conditions and determining
the optimal DL PLR and UL PLR can help to sustain the LTE voice connections on
both ends for a longer amount of time.
\- As part of the dynamic PLR allocation, both UEs will seek to use from the
available end-to-end PLR budget as much as possible. As such, it is likely
that both UEs will request a significant portion from the available end-to-end
PLR budget. This may lead to back and forth exchanges between the UEs on the
dynamic PLR allocation. The UEs may agree on a DL and UL PLR allocation that
will fulfil the PLR demands on both links. In case of no agreement, a fallback
to the static PLR allocation policy would be more suitable in this scenario.
**Example 4: Sender in Good Coverage (UL), Receiver in Good Coverage (DL)**
\- EVS and EVS-CA are negotiated as codecs for the session. Thus, MaxPLR for
the end-to-end connection is 9%, as per Table 5.1.
\- Consider two static PLR allocation schemes for reference toward the
performance comparison. A 50-50 static PLR allocation policy would set both DL
PLR and UL PLR to 4.5%. A 70-30 static allocation policy would set DL PLR to
2.7% and UL PLR to 6.3%.
\- Due to good coverage conditions on both the sender and receiver sides, EVS
mode is used based on the MTSI client adaptation. The likelihood of triggering
SRVCC is quite small in this setting. As such, static PLR allocation and
dynamic PLR allocation yield the same result.
**Bi-Directional Communication Considerations**
The relevant MTSI scenario of when one UE is in good coverage, say UE1, and
other UE is in poor coverage, say UE2, is the combination of Examples 1 and 2
above. In particular, Example 1 would be applicable for the RTP media streamed
from UE2 to UE1, and Example 2 would be applicable for the RTP media streamed
from UE1 to UE2, as part of the MTSI voice call.
Table 8.4 illustrates the corresponding PLR allocations for the static PLR
allocation (50:50 and 70:30) and dynamic PLR allocation strategies described
in Examples 1 and 2. As such, SRVCC for the poor coverage UE (i.e. UE2) is
governed by the DL PLR and UL PLR thresholds in the third and fourth rows of
Table Z. It can be seen that dynamic PLR allocation strategy leads to a
significant increase in the DL and UL PLR thresholds to serve as SRVCC
triggers. In particular, for the poor coverage UE (UE2 in this example), the
measured DL PLR and UL PLR values are likely to be high. As such, SRVCC would
be triggered when measured DL PLR or UL PLR exceeds 4.5% in the 50:50 static
PLR allocation scenario. Likewise, SRVCC would be triggered when measured DL
PLR exceeds 2.7% or measured UL PLR exceeds 6.3% in the 70:30 static PLR
allocation scenario. For dynamic PLR allocation, SRVCC would only be triggered
when measured DL PLR or UL PLR exceeds 8.5%. This demonstrates that, compared
to the static allocation strategies, the dynamic PLR allocation strategy will
allow further delaying the SRVCC handover for the poor coverage UE, provided
that the remote end UE experiences sufficiently good coverage.
Table 8.4: Comparison of Static and Dynamic PLR Allocation Strategies
* * *
Parameter 50:50 Static PLR Allocation 70:30 Static PLR Allocation Dynamic PLR
Allocation DL PLR threshold at UE1 (Good Coverage UE) 4.5% 2.7% Variable (0.5%
for Examples 1 and 2) UL PLR threshold at UE1 (Good Coverage UE) 4.5% 6.3%
Variable (0.5% for Examples 1 and 2) DL PLR threshold at UE2 (Poor Coverage
UE) 4.5% 2.7% Variable (8.5% for Examples 1 and 2) UL PLR threshold at UE2
(Poor Coverage UE) 4.5% 6.3% Variable (8.5% for Examples 1 and 2)
* * *
**Sample Timeline of Events with Static and Dynamic PLR Allocation**
In Table 8.5, a sample timeline of events with static and dynamic PLR
allocation strategies is presented based on the setup described in Examples
1-4, and resulting DL PLR and UL PLR thresholds presented in Table 8.4. The
table presents a sample set of the measured DL PLR and UL PLR values on both
ends of the link during an MTSI voice call between UE1 and UE2. In this
example, UE1 is placed close to the eNB to have good coverage, while UE2 is
farther away from the eNB to experience poor coverage. Measured DL PLR and UL
PLR values for UE1 and UE2 were obtained in a system-level simulation
environment considering the Urban Macrocell (UMa) deployment scenario of the
IMT-Advanced evaluation methodology [7] with UE mobility at 3km/h, using a 2x2
antenna configuration for DL, 1x2 antenna configuration for UL and an inter-
site distance (ISD) of 500m. Moreover, the simulation configuration was
established based on the VoIP evaluation methodology of [7].
For the dynamic PLR allocation, the agreed UL/DL PLR ratios in the two
directions are also presented. The first UL/DL PLR ratio number in the table
is for UL PLR at UE2 and DL PLR at UE1, and the second UL/DL PLR ratio number
is for UL PLR at UE1 and DL PLR at UE2.
For the 50:50 static PLR allocation policy, based on the PLR thresholds in
Table 8.4, SRVCC is triggered at time = 2s. For the 70:30 static PLR
allocation policy, based on the PLR thresholds in Table 8.4, SRVCC is
triggered at time = 6s. The dynamic PLR allocation is able to adaptively
select the UL/DL PLR ratios with varying link conditions and is able to avoid
SRVCC during the entire 10s period. In this case, given the extremely good
DL/UL coverage conditions for UE1, SRVCC is avoided by maintaining the same
dynamic PLR allocation over the entire 10s period.
Table 8.5: Sample Timeline with Static and Dynamic PLR Allocation Strategies
* * *
Parameter Time =2 s Time = 4s Time = 6s Time = 8s Time = 10s Measured DL PLR
at UE1 0% 0% 0% 0% 0% Measured UL PLR at UE1 0% 0% 0% 0% 0% Measured DL PLR at
UE2 2.7% 2.2% 5.9% 3% 2% Measured UL PLR at UE2 4.6% 2.6% 6.7% 5.2% 3.7%
Outcome of 50:50 Static PLR Allocation **SRVCC triggered**  
Outcome of 70:30 Static PLR Allocation No SRVCC triggered No SRVCC triggered
**SRVCC triggered**  
Outcome of Dynamic PLR Allocation Agree on 80:20 & 20:80, **No SRVCC
triggered** Maintain 80:20 & 20:80, **No SRVCC triggered** Maintain 80:20 &
20:80, **No SRVCC triggered** Maintain 80:20 & 20:80, **No SRVCC triggered**
Maintain 80:20 & 20:80, **No SRVCC triggered**
* * *
In Table 8.6, another sample timeline of events with static and dynamic PLR
allocation strategies is presented based on the setup described in Examples
1-4, and resulting DL PLR and UL PLR thresholds presented in Table 8.4. In
this example, both UE1 and UE2 are assumed to experience coverage issues.
Otherwise, the same simulation setup used to generate the results in Table 8.5
was used.
For the dynamic PLR allocation, the agreed UL/DL PLR ratios in the two
directions are also again presented. The first UL/DL PLR ratio number in the
table is for UL PLR at UE2 and DL PLR at UE1, and the second UL/DL PLR ratio
number is for UL PLR at UE1 and DL PLR at UE2. To consider as few
configurations as possible, UL/DL PLR ratios are constrained such that the
numerator and denominator values are to be multiples of 10, i.e. leading to
configurations such as 50:50, 40:60, 30:70, etc.
For the 50:50 static PLR allocation policy, based on the PLR thresholds in
Table 8.4, SRVCC is triggered at time = 2s. For the 70:30 static PLR
allocation policy, based on the PLR thresholds in Table 8.4, SRVCC is
triggered at time = 6s. The dynamic PLR allocation is able to adaptively
select the UL/DL PLR ratios with varying link conditions and is able to avoid
SRVCC during the first 8s. During time=10s, none of the constrained UL/DL PLR
ratios would lead to SRVCC PLR thresholds that fall below the measured PLR
values, and hence SRVCC is triggered. Otherwise, an UL/DL PLR allocation of
(45:55) & (70:30) could have prevented SRVCC at time=10s as well.
Table 8.6: Another Sample Timeline with Static and Dynamic PLR Allocation
Strategies
* * *
Parameter Time =2 s Time = 4s Time = 6s Time = 8s Time = 10s Measured DL PLR
at UE1 2.2% 2% 1.8% 3.5% 4.6% Measured UL PLR at UE1 3.6% 3.5% 2.4% 3.4% 6.3%
Measured DL PLR at UE2 2.7% 2.2% 5.9% 3% 2% Measured UL PLR at UE2 4.6% 2.6%
6.7% 5.2% 3.7% Outcome of 50:50 Static PLR Allocation **SRVCC triggered**  
Outcome of 70:30 Static PLR Allocation No SRVCC triggered No SRVCC triggered
**SRVCC triggered**  
Outcome of Dynamic PLR Allocation Agree on 70:30 & 50:50, **No SRVCC
triggered** Maintain 70:30 & 50:50, **No SRVCC triggered** Agree on 80:20 &
30:70, **No SRVCC triggered** Agree on 60:40 & 50:50, **No SRVCC triggered**
**SRVCC triggered**
* * *
**Implications on Signalling Frequency:**
The relevant question in this context is to understand what kind of signalling
frequency would be required to realize such dynamic PLR allocation strategies.
As described by the examples above, the scenario when the dynamic PLR
allocation leads to a performance improvement over the static PLR allocation
in an MTSI call is when one UE experiences poor coverage while the other UE
experiences good coverage.
If the UEs are static, such coverage conditions tend to persist for a long
time, i.e. potentially for the entire duration of the MTSI voice session. If
the UEs are mobile, the coverage conditions may vary over time, depending on
the UE mobility. Even in this case however, the same coverage conditions on
average will persist in the order of a few seconds considering the various
mobility levels of the IMT Advanced evaluation methodology [7], i.e. speeds of
3 km/h and 30 km/h for the Urban Macrocell (UMa) and 120 km/h for the Rural
Macrocell (RMa) deployment models.
Figure 8.2.2 contains the simulated DL PLR curves based on the IMT-Advanced
evaluation methodology [7] for the various UEs experiencing PLRs in the range
of 1%-10%, at mobility levels 3 km/h (UMa), 30 km/h (UMa) and 120 km/h (RMa).
The simulation configuration was established based on the VoIP evaluation
methodology of [7]. The system operates close to its VoIP capacity with 50, 44
and 38 VoIP UEs per sector per MHz for 3, 30 and 120 km/h, respectively. Most
of the other UEs experience PLRs close to 0 (these were not plotted) for the
entire duration of the simulation. In particular, on average, 96.3% of the UEs
experience 0% PLR, 2.1% of the UEs experience PLRs in the range of 0-10% and
1.6% of the UEs experience PLRs above 10%. The averaging window size for PLR
measurements is 5 seconds long, the window slide to update PLR estimates is
0.25 seconds and the total simulation time is 40 seconds. A 2x2 DL antenna
configuration and an inter-site distance (ISD) of 500m were considered.
It can be observed from the plots that the same coverage conditions on average
will persist in the order of several seconds considering all three mobility
levels. As such, when a UE agrees on a certain dynamic PLR allocation, it can
be expected that this agreed-upon PLR allocation can be maintained for at
least several seconds for all of the mobility levels. In other words, if an
MTSI voice session is established between a poor coverage UE and a good
coverage UE, and the DL/UL PLR thresholds for SRVCC at the respective eNBs are
chosen based on the a dynamic PLR allocation policy, it is highly likely that
these DL/UL PLR thresholds may be sustained in the order of several seconds
without the need for any additional signalling to modify the agreed-upon PLR
allocation, since the good coverage UE will remain in good coverage, and poor
coverage UE will remain in poor coverage with similar range of PLR variations.
Hence, it is concluded that the frequency of the PLR updates and signaling
necessary to realize the dynamic PLR allocation strategies described above are
in the order of several seconds and therefore are expected to be manageable
during the course of the MTSI voice session.
{width="3.3in" height="2.475in"}{width="3.3in" height="2.475in"}
(a) (b)
{width="3.3in" height="2.475in"}{width="3.3in" height="2.475in"}
(c) (d)
{width="3.3in" height="2.475in"}{width="3.3in" height="2.475in"}
(e) (f)
Figure 8.4: Simulated PLR curves for various mobility levels, 3 km/h, 30 km/h,
and 120 km/h
### 8.2.3 Network-requested UL and DL PLR
#### 8.2.3.1 General
In the following set of solutions, after the exchange of the required
max_e2e_PLR in each transmission direction, the UEs or the network determine
what maximum PLR is needed for the uplink and downlink (Figure 8.5). Then the
network sends the required maximum UL PLR and DL PLR values to the eNBs using
messages that would be specified in SA2.
Figure 8.5: Network-requested UL PLR and DL PLR
How the UEs and networks can determine the UL PLR and DL PLR to request of
each eNB is described in the following clauses. One distinction to observe
among the potential solutions is whether (i) the UL PLR and DL PLR are set
statically at the session level and kept the same regardless of the local RAN
conditions as in clauses 8.2.3.2 to 8.2.3.5, or (ii) the UL PLR and DL PLR are
dynamically allocated according to the local RAN conditions on both ends of
the link, as in clause 8.2.3.6.
#### 8.2.3.2 Simple Ratio
This follows the same principle as in clause 8.2.2.2 where a ratio of UL PLR:
DL PLR is configured or agreed among the PCRFs. Based on this ration the PCRFs
can allocate the appropriate proportion of max_e2e_PLR to their local eNB\'s
uplink and downlink. If UL PLR: DL PLR = R then:
\- PCRF A asks its eNB to support on its uplink, UL_PLR_A = (max_e2e_PLR_B) [R
/(R+1)]
\- PCRF A asks its eNB to support on its downlink, DL_PLR_A = (max_e2e_PLR_A)
[1 /(R+1)]
\- PCRF B asks its eNB to support on its uplink, UL_PLR_B = (max_e2e_PLR_A) [R
/(R+1)]
\- PCRF B asks its eNB to support on its downlink, DL_PLR_B = (max_e2e_PLR_B)
[1 /(R+1)]
#### 8.2.3.3 SDP-Negotiated
This follows the same principle as in clause 8.2.2.3 where the UEs negotiate
the proportion of the max_e2e_PLR to their local eNB\'s uplink and downlink.
However, instead of having the UEs request the resulting uplink and downlink
PLRs directly from the eNBs, the CSCF/PCRFs examine the SDP answer to extract
the negotiated PLR configuration and communicate the appropriate values to
their local eNBs.
For example, if UE A is the offerer and UE B is the answerer then the PCRFs
would perform the following with SDP parameters included SDP answer:
\- PCRF A asks its eNB to support on its uplink, UL_PLR_A = UL_PLR_Off (the
value included in the SDP answer)
\- PCRF A asks its eNB to support on its downlink, DL_PLR_A = DL_PLR_Off (the
value included in the SDP answer)
\- PCRF B asks its eNB to support on its uplink, UL_PLR_B = UL_PLR_Ans
\- PCRF B asks its eNB to support on its downlink, DL_PLR_B = DL_PLR_Ans
#### 8.2.3.4 PCRF-Negotiated
This is similar to the approach described in clause 8.2.3.3 except that the
negotiation of what proportion of the max_e2e_PLR to allocate to the eNBs
uplinks and downlinks is performed by CSCFs/PCRFs as follows:
\- UE A (the offerer) in its SDP offer indicates its max_e2e_PLR_Off.
\- CSCF/PCRF A sees this parameter value and based on operator policy, decides
how it would prefer to allocate a proportion of max_e2e_PLR_Off across the
downlink of eNB A and indicates this by adding DL_PLR_Off in the SDP offer.
\- CSCF/PCRF A also indicates its preferred uplink PLR by adding UL_PLR_Off
into the offer.
\- CSCF/PCRF B stores the values of DL_PLR_Off and UL_PLR_Off in the SDP offer
and removes these SDP parameters from the SDP offer before forwarding this
onto UE B.
\- UE B receives the SDP offer, and responds by including its max_e2e_PLR_Ans
in the SDP answer it sends back.
\- CSCF/PCRF B receives the SDP answer, and checks that, DL_PLR_Ans, plus
UL_PLR_Off is less than max_e2e_PLR_Ans.
\- If this condition is met then CSCF/PCRF B adds DL_PLR_Ans and UL_PLR_Off
into the SDP Answer.
\- Otherwise, CSCF/PCRF B modifies both DL_PLR_Ans and UL_PLR_Off so that
their sum is less than max_e2e_PLR_Ans, then includes them into the SDP
answer.
\- Similarly, CSCF/PCRF A checks that, UL_PLR_Ans, plus DL_PLR_Off is less
than max_e2e_PLR_Off:
\- If this condition is met then CSCF/PCRF A adds UL_PLR_Ans and DL_PLR_Off
into the SDP Answer.
\- Otherwise, CSCF/PCRF B modifies both UL_PLR_Ans and DL_PLR_Off so that
their sum is less than max_e2e_PLR_Off, then includes them into the SDP
answer.
\- When CSCF/PCRF A receives the SDP answer it may reject it if the values of
UL_PLR_Off and DL_PLR_Off that were modified by CSCF/PCRF B are not
acceptable. If CSCF/PCRF A accepts the SDP answer then both CSCF/PCRF A and
CSCF/PCRF B have all the information they need to communicate the required UL
and DL PLRs to their local eNBs.
#### 8.2.3.5 PCRF-Negotiated using single SDP parameter
In this approach only a single SDP parameter, max_e2e_PLR, is defined and
used. In the description below the \"_A\" and \"_B\" extensions are added to
make it easier to understand what is being described. In the actual SDP only
the max_e2e_PLR parameter needs to be used.
The procedures are as follows:
\- UE A sends its max_e2e_PLR_A in the SDP offer.
\- CSCF/PCRF A sees this parameter in the SDP offer and decides that it will
allocate on the downlink to UE A DL_PLR_A which is less than max_e2e_PLR_A.
\- CSCF/PCRF A also modifies the parameter in the SDP offer to indicate a:
\- new max_e2e_PLR_A = old max_e2e_PLR_A -- DL_PLR_A.
\- This modified SDP offer is sent to the CSCF/PCRF B.
\- CSCF/PCRF B uses the modified max_e2e_PLR_A value in the SDP offer to set
the uplink PLR at eNB B, UL_PLR_B = new max_e2e_PLR_A. CSCF/PCRF B could also
choose to use a UL_PLR_B \< new max_e2e_PLR_A if it did not want to use the
entire e2e PLR budget.
In the reverse direction a similar procedure happens:
\- UE B sends its max_e2e_PLR_B in the SDP answer.
\- The local CSCF/PCRF B takes a portion of max_e2e_PLR_B and allocates it to
the downlink of eNB B in DL_PLR_B.
\- CSCF/PCRF B modifies the max_e2e_PLR_B in the SDP answer to new
max_e2e_PLR_B = old max_e2e_PLR_B -- DL_PLR_B
\- CSCF/PCRF B then sends this new max_e2e_PLR_B value to CSCF/PCRF A.
\- CSCF/PCRF A uses the new max_e2e_PLR_B value in the SDP answer to set the
uplink PLR at eNB A, UL_PLR_A = new max_e2e_PLR_B. CSCF/PCRF A could also
choose to use a UL_PLR_A \< new max_e2e_PLR_B if it did not want to use the
entire e2e PLR budget.
#### 8.2.3.6 Dynamic Allocation of UL PLR and DL PLR
The network-requested DL and UL PLR framework as described above leads to
static allocation and configuration of DL PLR and UL PLR values. If such a
framework is used, the respective eNBs may determine the SRVCC thresholds
based on these PLR values as configured by the network.
On top of this, the UE-based signaling described in clause 8.2.2.4 may be used
to dynamically exchange information on UL PLR and DL PLR allocation between
the UEs and signal this information to the respective eNBs. The eNBs may then
override the SRVCC thresholds based on the dynamically signaled PLR
information from the UEs. As such, it would be possible to dynamically
optimize the allocation of DL PLR and UL PLR values, which leads to the most
optimal selection of the SRVCC handover thresholds on both ends of the link.
## 8.3 Conclusion
This Clause evaluated the benefits of two types of functionality for realizing
codec-aware SRVCC enhancements:
1) SDP-based signalling of max_e2e_PLR, DL/UL PLR (or PLR ratio) values
considering the potential solutions as per clauses 8.2.2.3, 8.2.3.3.
2) RTP/RTCP-based indication of recommended DL/UL PLR (or PLR ratio) values
considering the potential solutions as per clauses 8.2.2.4 and 8.2.3.6.
Both of these approaches improve the selection of the DL/UL PLR thresholds at
the eNB for triggering SRVCC, by providing further enhancements on top of the
determination of the DL/UL PLR threshold values at the PCRF based on the
negotiated codecs and codec modes (as described in clauses 4.2.1 and 5.2.1).
SDP-based signalling of max_e2e_PLR allows for considering the receiving UE
capabilities including, for example, jitter buffer management (JBM) and packet
loss concealment (PLC), in addition to the negotiated codecs and codec modes.
As such, for an MTSI session involving bidirectional media communication
between two UEs, different max_e2e_PLR values may be negotiated for each of
the two media streams depending on each UE\'s JBM and PLC capabilities. This
also helps choose the DL/UL PLR thresholds for SRVCC differently at the eNBs
depending on the negotiated max_e2e_PLR values.
The RTP/RTCP-based indication of the recommended DL/UL PLR (or PLR ratio)
values realizes a dynamic PLR allocation framework on DL PLR and UL PLR
thresholds. This framework enables further optimizations of the SRVCC
thresholds for DL and UL after initial setting of the DL PLR and UL PLR
thresholds at the eNB based on the signalling from the PCRF. The dynamic PLR
allocation realizes this enhancement by adapting the DL PLR and UL PLR
thresholds to the local RAN conditions considering UE coverage, leading to the
SRVCC performance improvements as documented in clause 8.2.2.4.
Note: SDP-based signalling of max_e2e_PLR, DL/UL PLR (or PLR ratio) requires
CT1/3/4 and SA2 support. RTP/RTCP-based indication of recommended DL/UL PLR
(or PLR ratio) values requires RAN2 support.
# 9 Conclusions
Based on the Conclusions in clauses 5.3, 6.3, 7.3, and 8.3, it is recommended
to conduct normative work to specify the following in TS 26.114:
1) Include in an annex MaxPLR operating points for different codecs
considering the examples as per clauses 5.2 and 5.3 (see Annex X of 3GPP TS
26.114 [3]).
2) Adaptation capability indication (using a new SDP attribute) considering
the potential solutions as per clauses 7.2 and 7.3 (see Annexes W.1, W.2, and
W.3 of 3GPP TS 26.114 [3]).
3) SDP-based signalling of max_e2e_PLR, DL/UL PLR (or PLR ratio) values
considering the potential solutions as per clauses 8.2.2.3, 8.2.3.3, 8.2.3.4,
and 8.2.3.5 (see Annex W.4 of 3GPP TS 26.114 [3]).
4) RTP/RTCP-based indication of recommended DL/UL PLR (or PLR ratio) values
considering the potential solutions as per clauses 8.2.2.4 and 8.2.3.6. This
approach has not been pursued in the normative specification because of lack
of the necessary RAN2 support.
Note: The above SDP-based signalling and RTP/RTCP-based indication requires
CT1/CT3/CT4/SA2 and RAN2 support, respectively.
The recommendations on MaxPLR operating points for different codecs (bullet 1
above) serves at the center of the anticipated eVoLP capabilities in TS
26.114, for both the network-based and UE-based architectures described in
clause 4.2. It is noted that among these architectures, the network-based
architecture in clause 4.2.1 is already supported through the signalling from
PCRF to eNB as defined in TS 23.203 and TS 23.401, and as such enables early
deployments of eVoLP.
Among the three eVoLP functionalities listed in bullets 2, 3 and 4 above, it
is expected that the adaptation capability indication will be mandatory for
eVoLP-capable MTSI clients, while the remaining two functionalities will be
defined as supplemental and left optional for eVoLP-capable MTSI clients. A
key reason for this is that adaptation capability indication serves as a
critical eVoLP functionality allowing the derivation of MaxPLR at the PCRF (in
case of the network-based architecture) based on the most robust codec mode
among the negotiated codecs and codec modes, while in the absence of this
parameter the MaxPLR would have to be derived based on the least robust codec
mode.
Adaptation capability indication and negotiation based on the SDP \'adapt\'
parameter (bullet 2 above) and SDP-based signalling of max_e2e_PLR, DL/UL PLR
(or PLR ratio) values (bullet 3 above) would lead to definition of new SDP
parameters in TS 26.114, requiring core network support. RTP/RTCP-based
indication of recommended DL/UL PLR (or PLR ratio) values (bullet 4 above)
would lead to definition of _conceptual message_ formats between the UE and
eNB in TS 26.114 (similar to the _conceptual message_ formats for ANBR in TS
26.114), requiring RAN support toward determining the exact message mapping,
e.g. for LTE or NR access. As such, upon completion of normative work in TS
26.114, it is expected that these core network and RAN dependencies will also
have to be addressed in coordination with the relevant 3GPP working groups.
Figure 9.1 illustrates the relationships between the core functionality and
different optional enhancements specified in the normative feature "Coverage
and Handoff Enhancements for Multimedia" (CHEM) in Annex W of TS 26.114.
Clauses W.1 and W.2 specify the basic core functionality, the minimum
requirement, needed to use the CHEM feature. Clause W.4 specifies the optional
enhancement to negotiate the end-to-end PLR values on both the uplink and
downlink of each MTSI client. Clause W.3 specifies the another optional
enhancement to use application layer redundancy to improve media robustness
and use specifically-scoped in-band RTP CMR codepoints to request application
layer redundancy.
{width="3.884027777777778in" height="3.1694444444444443in"}
Figure 9.1: Core function and optional enhancements of the normative feature
"Coverage and Handoff Enhancements for Multimedia (CHEM)". References are to
clauses in 3GPP TS 26.114.
###### ### Annex A: Informal Objective and Subjective Experiments for
Obtaining Max. PLR Operating Points with and without Application Layer
Redundancy
**Experiment A.1**
MOS LQO statistics of certain example codec operating points as per Table 5.1
in clause 5.2.1.1 are presented in Figure A.1. The ITU-T P.863.1
recommendation is used to generate the MOS-LQO statistics over Clean speech
(North American English database, 4 male, 4 female talkers, 5 sentences pairs
(8 sec) per talker), over frame erasure rates of 3%-10%.
VoLTE Delay loss profiles 7, 8, 9, and 10 that were used in EVS
Characterization testing (TR 26.952, Experiment S1) are used to obtain the
MOS-LQO statistics for EVS 13.2 SWB, 13.2 CA SWB Offset 3, 2x7.2, 2x13.2,
2x13.2 CA, and IO 23.85. The experiment includes 100% application layer
redundancy with Offset 2, resulting in 2xbitrate.
{width="6.5in" height="3.5854166666666667in"}
Figure A.1: ITU-T P.863.1 MOS-LQO statistics of different codec operating
points (as per Table 5.1) at different FER ranges with and without application
layer redundancy
**Experiment A.2**
Unlike Experiment A.1 that was based on the VoLTE delay profiles, this
experiment was based on random channel errors (at FER of 3, 6, 9, and 12%)
without Jitter from EVS qualification scripts. The simulation included 100%
application-layer redundancy (offset=2). Loss patterns were generated as in
EVS qualification with the \'gen-patt\' tool from ITU-T STL with gamma=1 (i.e.
Gilbert model operated with random errors and no memory). Packet loss patterns
used a random generation with a uniform i.i.d distribution, therefore the
performance with 100% application-layer redundancy at PLR rate p corresponds
to the performance without redundancy at PLR rate p^2^ (in the asymptotic
case). This is a conservative case as it does not include the Jitter and other
bursty channel characteristics of a VoLTE profile.
As an example EVS configuration with br=9.6-24.4 kbit/s, bw=swb, one may
enable the 2*9.6 kb/s (redundancy) condition in the allowed bearer. For other
configurations, e.g. br=5.9-24.4, bw=nb-swb, the application layer redundancy
can exercise many different options, e.g. 2x5.9, 3x5.9, 2x7.2, 3x7.2, 2x8,
3x8, and 2x9.6 within the allowed bearer.
From Figure A.2 the maximum PLR operating point with application layer
redundancy is about 3% more than without application layer redundancy (i.e.
9.6 kbps at 6% FER and 24.4 kbps at 3% FER). This analysis does not take into
account the corresponding path loss characteristics at higher bitrates and is
a conservative estimate.
{width="4.8597222222222225in" height="3.642361111111111in"}
Figure A.2: Test results for EVS Primary (SWB) performance in loss conditions,
with and without application-layer redundancy
**Experiment A.3.**
The P.800 ACR test methodology was used to study the Max. PLR operating points
with application layer redundancy in addition to the objective experiments A.1
and A.2.
The test included 48 conditions and used Listening level at 73 dB SPL (diotic
listening with Sennheiser 380Pro), 48 naive listeners (6 panels of 8
listeners), 24 clean speech samples with 4 talkers and 6 samples per talker.
Further the test included 1152 processed sequences with 24 blocks for 6 panels
(of 8 listeners), 4 blocks per panel. Each block contained 48 conditions and 4
talkers equally.
The number of votes per condition was 4 x 48 = 192. The overall
listening/scoring duration was around 42 min for each subject (192 x approx.
13s), without the training session (12 samples) and breaks. Only random loss
conditions (with no memory) were used with the following target PLR: noisy1 at
3%, noisy2 at 6%, noisy3 at 9%, and noisy4 at 12%.
The processing was done by extending EVS qualification scripts (Experiment J
for SWB with noisy channel). The EVS codec was the latest fixed-point version
(TS 26.442 v14.1). **The overall number of processing frames was 10,100
(24*8*50 frames of speech, with a 10s silence preamble accounting for 500
frames).** All EVS test conditions had DTX activated (DTX on). Application-
layer redundancy was applied only to active frames.
The EVS encoding algorithm was not modified - only the bitstream output was
changed by using an extra buffer (queue) of encoded frames outside the main
encoding loop to produce a G.192-extended bitstream including 100% redundancy
at a given offset. The EVS decoder was extended to use a fixed buffer with
some extra delay to allow using redundant frame at a given offset; besides
this modified bitstream pre-processing, the EVS decoding algorithm was not
changed. In the test, the offset was set to 2 for both 100% application-layer
redundancy and EVS 13.2 channel-aware (with FEC indicator set to HI).
A summary of test results for the experiment is provided in Figure A.3. This
bar chart shows the average scores with 95% confidence intervals for all 48
conditions (with reference conditions followed by test conditions at 0, 3, 6,
9, 12% PLR). The 100% application-layer conditions are identified with the
\'2x\' label.
{width="6.492361111111111in" height="3.5416666666666665in"}
Figure A.3: P.800 ACR subjective test results (SWB, clean speech).
**Observations from Experiment A.3:**
The test is based on the P.800 ACR unlike the P.800 DCR subjective test
methodology that was used in the EVS SWB qualification, selection and
characterization testing. With the P.800 ACR test, EVS SWB conditions as shown
in blue bar chart in Figure A.3 is providing a reduced subjective quality
resolution. EVS at 2x7.2 kbps was not included in the test and cannot make a
direct comparison to EVS 13.2 kbps or the most robust codec mode 13.2 kbps CA
mode as per Table 5.1 for a similar bit rate. The channel conditions
considered in this test were limited to random losses (with no memory).
Further tests considering delay/loss profiles that reflect realistic VoLTE
conditions are desirable. This will add other factors such as channel memory
and the influence of jitter buffer with time scaling artifacts. Loss patterns
were not constrained to be embedded as a function of increasing PLR, therefore
slightly irregular MOS variation across PLR was expected.
#