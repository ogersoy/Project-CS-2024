# Foreword
This Technical Specification has been produced by the 3rd Generation
Partnership Project (3GPP).
The contents of the present document are subject to continuing work within the
TSG and may change following formal TSG approval. Should the TSG modify the
contents of the present document, it will be re-released by the TSG with an
identifying change of release date and an increase in version number as
follows:
Version x.y.z
where:
x the first digit:
1 presented to TSG for information;
2 presented to TSG for approval;
3 or greater indicates TSG approved document under change control.
Y the second digit is incremented for all changes of substance, i.e. technical
enhancements, corrections, updates, etc.
z the third digit is incremented when editorial only changes have been
incorporated in the document.
# Introduction
The present document defines a northbound interface between the BM-SC and the
content provider. The interface is called xMB. Both external (3rd party)
content providers and 3GPP defined API invokers e.g. GCS AS can use the xMB
reference point to access BM-SC provided delivery services.
The xMB reference point supports different session types, such as generic file
delivery e.g. for MCData, application streaming, including DASH streaming, RTP
ingest and ingest for transparent delivery. The xMB reference point supports
unicast delivery of content, e.g. for devices outside of the MBMS coverage
area.
The xMB reference point is fully integrated into the Common API Framework for
3GPP Northbound APIs (CAPIF).
# 1 Scope
The present document provides interaction methods and interfaces between a BM-
SC and a content provider. The purpose of the document is the definition of
enablers for the usage of MBMS delivery.
# 2 References
The following documents contain provisions which, through reference in this
text, constitute provisions of the present document.
\- References are either specific (identified by date of publication, edition
number, version number, etc.) or nonâ€‘specific.
\- For a specific reference, subsequent revisions do not apply.
\- For a non-specific reference, the latest version applies. In the case of a
reference to a 3GPP document (including a GSM document), a non-specific
reference implicitly refers to the latest version of that document _in the
same Release as the present document_.
[1] 3GPP TR 21.905: \"Vocabulary for 3GPP Specifications\".
[2] 3GPP TS 26.346: \"Multimedia Broadcast/Multicast Service (MBMS); Protocols
and codecs\".
[3] 3GPP TS 26.234: \"Transparent end-to-end Packet-switched Streaming Service
(PSS); Protocols and codecs\".
[4] 3GPP TS 26.247: \"Transparent end-to-end Packet-switched Streaming Service
(PSS); Progressive Download and Dynamic Adaptive Streaming over HTTP (3GP-
DASH)\".
[5] 3GPP TS 33.310: \"Network Domain Security (NDS); Authentication Framework
(AF)\".
[6] IETF RFC 6347: \"Datagram Transport Layer Security Version 1.2\", E.
Rescorla, N. Modadugu.
[7] IETF RFC 4918: \"HTTP Extensions for Web Distributed Authoring and
Versioning (WebDAV)\", L. Dusseault.
[8] IETF RFC 5795: \"The Robust Header Compression (ROHC) Framework\".
[9] IETF RFC 3095: \"RObust Header Compression (ROHC): Framework and four
profiles: RTP, UDP, ESP, and uncompressed\".
[10] 3GPP TS 23.222: \"Common API Framework for 3GPP Northbound APIs\".
[11] IETF Internet-Draft: \"JSON Schema: A Media Type for Describing JSON
Documents\", draft-wright-json-schema-01, April 15, 2017.
[12] 3GPP TS 23.280, \"Common functional architecture to support mission
critical services; Stage 2\".
[13] 3GPP TS 29.061: \"Interworking between the Public Land Mobile Network
(PLMN) supporting packet based services and Packet Data Networks (PDN)\".
[14] 3GPP TS 29.468: \"Group Communication System Enablers for LTE (GCSE_LTE);
MB2 reference point; Stage 3\".
[15] IETF RFC 5234 (January 2008): \"Augmented BNF for Syntax Specifications:
ABNF\", D. Crocker and P. Overell.
[16] 3GPP TS 23.246: \"Multimedia Broadcast/Multicast Service (MBMS);
Architecture and functional description\".
# 3 Definitions and abbreviations
## 3.1 Definitions
For the purposes of the present document, the terms and definitions given in
3GPP TR 21.905 [1] and the following apply. A term defined in the present
document takes precedence over the definition of the same term, if any, in
3GPP TR 21.905 [1].
## 3.2 Abbreviations
For the purposes of the present document, the abbreviations given in 3GPP TR
21.905 [1] and the following apply. An abbreviation defined in the present
document takes precedence over the definition of the same abbreviation, if
any, in 3GPP TR 21.905 [1].
ARP Allocation and Retention Priority
BM-SC Broadcast-Multicast - Service Centre
DASH Dynamic Adaptive Streaming over HTTP
DTLS Datagram Transport Layer Security
FEC Forward Error Correction
GBR Guaranteed Bitrate
HLS HTTP Live Streaming
MPD Media Presentation Description
QCI QOS Class Identifier
QOS Quality of Service
QOE Quality of Experience
ROM Receive Only Mode
RTSP Real-Time Streaming Protocol
RTP Real Time Transport Protocol
RTCP Real Time Transport Control Protocol
SACH Service Announcement Channel
SAI Service Area Identity
SCEF Service Capability Exposure Function
SDP Session Description protocol
TLS Transport Layer Security
TV Television
UE User Equipment
UDP User Datagram Protocol
URL Uniform Resource Locator
UTC Universal Time Coordinated
# 4 Architecture
## 4.1 General
As shown in Figure 4.1-1, the reference point between Content Provider and BM-
SC is called the xMB interface. Using the xMB reference point, content
provider can invoke procedures supported by BM-SC(s) to setup and manage MBMS
user service from BM-SC to the MBMS clients. BM-SC defines an endpoint with
all supported procedures on the xMB interface, which can then be converted to
SGmb procedures for the interface between BM-SC and MBMS GW (not depicted).
Figure 4.1-1: The xMB reference model
The BM-SC may forward the received content for unicast delivery for
appropriate functions (e.g., MBMS user service fallback).
The control plane (xMB-C) and the user plane (xMB-U) may be optionally
terminated by 3GPP defined enabler / exposure functions such as an SCEF, which
exposes the same or a different interface to content providers. The exposed
API such as by SCEF is not specified in the present document.
The content provider may optionally exchange application level information
like service metadata (e.g. serviceIds or URL(s) of USD(s) or other service
identifier(s)) directly with the application.
The BM-SC may support CAPIF [10]. When CAPIF is supported, then:
\- the BM-SC shall support the CAPIF API provider domain functions (i.e.
CAPIF-2/2e (xMB), CAPIF-3, CAPIF-4 and CAPIF-5 as specified in TS 23.222
[10]);
\- the BM-SC xMB authentication and authorization functions (as defined in
Clause 5.2) are replaced by CAPIF equivalent core domain functions (i.e.
CAPIF-1/1e).
The CAPIF and associated API provider domain functions are specified in TS
23.222 [10].
The content provider may be a mission critical service provider ([12]), which
is arranging MC Services to Mission Critical Organizations. Providing MC
Services may require additional control of the resource allocation (QoS,
coverage area). For this purpose, the interface can be extended with the xMB
mission critical extension. The xMB mission critical extension consists in:
\- additional properties within the control plane procedures (Table 5.4-6),
\- specific semantic and syntax for the geographical area (Clause 5.4.7).
## 4.2 xMB reference point
The xMB reference point exists between the content provider and the BM-SC
directly or via 3GPP defined enabler / exposure functions such as SCEF. When
the BM-SC connects to content provider via a 3GPP defined enabler / exposure
function, the xMB-C interface (and optionally also the xMB-U) is terminated at
the 3GPP defined enabler / exposure function.
The xMB reference point provides the ability for the content provider to:
\- authenticate and authorize BM-SC(s).
\- create, modify and terminate a service.
\- create, modify and terminate a session.
\- query information.
\- deliver content to the BM-SC(s)
The xMB reference point provides the ability for the BM-SC to:
\- authenticate and authorize a content provider.
\- notify the content provider of the status of an MBMS user service usage.
\- retrieve content from the content provider.
The xMB reference point shall support security function for confidentiality
protection of both control plane (xMB-C) and user plane (xMB-U).
# 5 Procedure
## 5.1 General
The xMB reference point defines procedures between a BM-SC and a content
provider. The content provider may be external (i.e. 3rd party provider) or
3GPP defined API invokers.
The following procedures are available:
\- Authentication and Authorization
NOTE: When CAPIF is used, the CAPIF 1 / CAPIF 1e procedures are used.
\- Service Management Procedures
\- Session Management Procedures
By default the BM-SC announces all the services including the different eMBMS
parameters to MBMS Clients so that MBMS Clients can activate reception of the
announced MBMS services. It is also possible that the Content Provider /API
invoker is doing the service announcement by itself.
A set of different session types are supported, namely:
\- Streaming: the BM-SC may use the MBMS Streaming delivery method for content
distribution to MBMS Clients
\- Files: the BM-SC may use the MBMS Download delivery method for content
distribution to MBMS Clients
\- Application: the BM-SC may use the MBMS Download delivery method for
content distribution to MBMS Clients.
NOTE: This ession type contains DASH and HLS streaming over MBMS
\- Transport-Mode: the BM-SC is transparent to the stream and passed data via
MBMS bearers to UEs.
## 5.2 Authentication and Authorization
### 5.2.1 Introduction
The content provider and the BM-SC shall follow the procedures in this clause
for authentication and authorization over the xMB.
When the content provider (API invoker) uses CAPIF to discover the BM-SC (xMB
provider) and to interact with the BM-SC, then the xMB security procedures (as
defined in this clauses) are replaced by CAPIF-1 / CAPIF-1e [10] security
procedures.
Before provisioning of services at the BM-SC, the content provider has to be
authenticated and authorized to perform service management functions using
xMB. If the content provider wants to modify or remove the provisioned
services, it can do so by using a valid access token.
The content provider may have multiple and different end-points for xMB-C and
xMB-U. Each connection may have different entitlements based on the roles
assigned to the requesting connecting party.
While authentication is performed based on standard (D)TLS connection and
certificate exchange, authorization is performed using either the \"domain-
based\" or \"user-based\" mode as described in clause 5.2.3.
In the user-based mode, fine-grained authorization shall be performed prior to
any transaction to allow the BM-SC to check the access rights of the content
provider user (either a human or a machine). Such authorization procedure, if
successful, shall result in the creation of an \"access token\" that the
server will return to the content provider for subsequent requests made on the
xMB interface.
In the domain-based mode, additional authorization steps shall not be
performed. Users within a content provider domain are not further separated.
### 5.2.2 Authentication Procedure
The authentication procedure is used by the content provider and the BM-SC to
authenticate each other. The content provider shall be authenticated with the
BM-SC when the content provider wants to provision new services or manage
existing services. Similarly, the BM-SC shall be authenticated by the content
provider when the BM-SC needs to send reports and notifications to the content
provider. Authentication is also required for all user plane procedures.
Figure 5.2-1 shows the authentication procedure used between the content
provider and the BM-SC.
Figure 5.2-1: Authentication Procedure
1\. The content provider and the BM-SC authenticate each other for performing
service management and status reporting and notification respectively. During
this authentication step, the content provider and BM-SC exchange their X.509
certificates using TLS as defined in TS 33.310 [5] and independently verify
the validity of each other\'s certificate.
2\. The TLS connection is established.
### 5.2.3 Authorization Procedure
Before using any of the MBMS xMB procedure, the Content Provider shall first
use the following authorization procedure the retrieve its authorization.
After successful authorization based on the content provider\'s
representative\'s credentials, operations such as service and session creation
within the granted permissions become possible.
In this version of the specification, the BM-SC shall support at least one of
the two following modes of authorization: _domain-based_ or _user-based_.
Upon a successful authentication procedure, the absence of an access token
provided to the content provider in response to an authorization request is an
indication that the BM-SC only supports domain-based authorization, based on
the previously-established (D)TLS connection between the Content Provider
server and the BM-SC. This means that the same access rights to service or
session resource requests across the xMB interface will be granted at the
level of the business entity represented by the sender, independent of the
end-user representative of that entity or administrative domain submitting the
request. This requires the network operator to have already created and
provided a unique certificate for storage by the BM-SC. If the certificate of
the content provider is not contained in the BM-SC, then the authorization
procedure shall fail.
Presence of an access token in the authorization response is an indication
that the BM-SC supports user-based authorization, i.e., fine-grained
authorization at the end-user representative level, of xMB resource requests.
In this case, the content provider representative shall include this access
token in each subsequent resource request made on xMB.
NOTE 1: It is up to the BM-SC to decide whether it supports domain-based or
user-based authorization.
> NOTE 2: In Figure 5-3 and subsequent clauses on Service Management and
> Session Management procedures and the associated message sequence diagrams,
> it is assumed that user-based authorization is supported by the BM-SC.
Figure 5.2-2 shows the procedure for content provider authorization by the BM-
SC.
Figure 5.2-2: Authorization Procedure
1) If the content provider\'s representative is not in possession of a valid
access token, it shall connect to the BM-SC using the authenticated TLS
connection and perform the authorization procedure to retrieve the access
token.
2) The BM-SC checks the credentials of the content provider and upon
successful verification it will generate an access token that will be returned
to the content provider. The link between the access token and the entitlement
is outside of the scope of the specification.
3) The content provider may then use the access token on subsequent calls to
the xMB interface.
## 5.3 Service Management Procedures
### 5.3.1 Introduction
The service management procedures allow the content provider to create, modify
and delete services on the BM-SC. Each service may contain multiple sequential
sessions.
### 5.3.2 Create Service
The procedure allows a content provider to create a new the service. Service
configuration and service sessions are added in subsequent procedures.
Figure 5.3-1: Service Creation
1\. The service is created. The content provider provides a valid access
token.
2\. On successful creation, the BM-SC responds with the resource id of the
service. Service properties are fetched and modified with subsequent
transactions.
### 5.3.3 Get Service Properties
The procedure allows a content provider to fetch the current configuration of
the service.
Figure 5.3-2: Get current service properties
1\. The content provider sends along with the service property request, the
access token and the resource id of the service.
2\. The BM-SC provides the service properties in response.
### 5.3.4 Update Service Properties
The procedure allows a content provider to update the current configuration of
the service.
Figure 5.3-3: Service Update
The content provider may first fetch the current service configuration using
the Get Service Configuration procedure.
1\. The content provider modifies the properties of the service resource. The
procedure may allow modification of individual properties or all properties.
2\. The content provider updates the resource identified by the id of the
service.
### 5.3.5 Terminate a Service
The content provider may terminate a service. All sessions, including those
which are being created or are already active will be deleted automatically
with the termination of the service.
Figure 5.3-4: Service Termination
1\. The content provider sends the service termination command. The access
token and the resource id of the service is provided as input.
2\. The BM-SC terminates the service and deletes all associated sessions, and
acknowledges the reception of this request.
### 5.3.6 Service Notifications
Service Notifications can be pushed to the content provider, when the content
provider has provided a value for the Push Notification URL property through a
Service Update procedure transaction. The content provider can always initiate
request for the delivery of notifications using the URL for notification
resources.
The content provider may configure a push notification end-point within the
service properties. When present, the BM-SC notifies the content provider
whenever appropriate.
Figure 5.3-5: Event Push Notification
1\. When an event occurs, the BM-SC determines whether an event notification
should be sent to the content provider.
2\. The BM-SC sends a notification, containing details around the event, to
the content provider.
3\. The content provider acknowledges the reception.
The content provider may initiate periodical \"pull\"-based reception of
notifications.
Figure 5.3-6: Event Pull Notification
1\. The content provider sends along with the notification request, the access
token and may additionally provide the service id as a filter.
> 2\. The BM-SC provides all the notifications in response which occurred
> during a BM-SC-defined past period prior to the time of reception of the
> request.
### 5.3.7 List of Service Properties
All Service Properties, except for the resource id, are always carried in a
HTTPS message body. The access-token is always carried as part of HTTP
Headers. Except for the service creation request (where the id is not
present), the resource id shall be present in the URL of all requests that
relate to a specific service.
In the Table 5.3-1, the following assertions are made:
\- Table header: C stands for Create Service Procedure, G is for Get Service
Procedure, U is for Update Service Procedure and T is for Terminate Service
Procedure. \"I\", and \"O\" respectively denote \"request\" (going **I** nto
the BM-SC), and response (going **O** ut of the BM-SC).
\- Optional (\"O\") means that the property may or may not be sent/received
during a REST transaction. It does not necessarily mean that the property is
optional. It is possible, for example, that a session is not yet started
because the Content Provider has not set the property in any previous Update
transaction using the PUT or PATCH HTTP method, as opposed to representing a
hint on the importance of the property for the BM-SC.
\- A property marked as optional (O) in a request message may be present in
the request. When not present in the request body, the property, if present in
the BM-SC, will not be updated.
\- A property marked as optional (O) in a response message is only present in
the response when a value is assigned by the BM-SC.
\- A property marked as mandatory (M) in a response message is always present
in the response. The BM-SC provides defaults, which may be modified
subsequently by the content provider.
\- A blank cell in the table means \"forbidden\" (the property cannot be added
to the request or returned by the BM-SC, depending on the transaction
direction).
Table 5.3-1: List of Service Properties
+-----------------+-----------------+----+----+----+----+----+----+----+ | Property Name | Property | C\ | C\ | G\ | G\ | U\ | U\ | T\ | | | Description | I | O | I | O | I | O | I | +-----------------+-----------------+----+----+----+----+----+----+----+ | id | Identifier of | | M | | | | | | | | the Service | | | | | | | | | | Resource. | | | | | | | | | | | | | | | | | | | | Shall be | | | | | | | | | | systematically | | | | | | | | | | present in the | | | | | | | | | | message URL to | | | | | | | | | | identify the | | | | | | | | | | resource in the | | | | | | | | | | BM-SC. | | | | | | | | | | | | | | | | | | | | --------- - | | | | | | | | | | ----- --------- | | | | | | | | | | Type | | | | | | | | | | Unit Default | | | | | | | | | | Integ | | | | | | | | | | er None N/A | | | | | | | | | | --------- - | | | | | | | | | | ----- --------- | | | | | | | | +-----------------+-----------------+----+----+----+----+----+----+----+ | ServiceID | ServiceId, set | | | | M | | | | | | by the BM-SC to | | | | | | | | | | identify the | | | | | | | | | | MBMS User | | | | | | | | | | Service as | | | | | | | | | | defined in | | | | | | | | | | Clause 11.2.1.1 | | | | | | | | | | of TS 26.346 | | | | | | | | | | [2]. | | | | | | | | | | | | | | | | | | | | -------- - | | | | | | | | | | ----- --------- | | | | | | | | | | Type | | | | | | | | | | Unit Default | | | | | | | | | | Stri | | | | | | | | | | ng None N/A | | | | | | | | | | -------- - | | | | | | | | | | ----- --------- | | | | | | | | +-----------------+-----------------+----+----+----+----+----+----+----+ | Service Class | The service | | | | M | O | | | | | class that | | | | | | | | | | service belongs | | | | | | | | | | to (see | | | | | | | | | | _serviceClass_ | | | | | | | | | | element in | | | | | | | | | | Clause | | | | | | | | | | 11.2.1.2) of TS | | | | | | | | | | 26.346 [2]. | | | | | | | | | | | | | | | | | | | | | | | | | | | | | | -------- ----- | | | | | | | | | | - ------------- | | | | | | | | | | --------------- | | | | | | | | | | Type | | | | | | | | | | Unit Default | | | | | | | | | | String Non | | | | | | | | | | e (operator d | | | | | | | | | | efined default) | | | | | | | | | | | | | | | | | | | | -------- ----- | | | | | | | | | | - ------------- | | | | | | | | | | --------------- | | | | | | | | +-----------------+-----------------+----+----+----+----+----+----+----+ | Service | List of | | | | O | O | | | | Languages | languages of | | | | | | | | | | the service | | | | | | | | | | content (see | | | | | | | | | | _s | | | | | | | | | | erviceLanguage_ | | | | | | | | | | element in | | | | | | | | | | Clause | | | | | | | | | | 11.2.1.1) of TS | | | | | | | | | | 26.346 [2]. | | | | | | | | | | | | | | | | | | | | ------ | | | | | | | | | | ---------- ---- | | | | | | | | | | -- ------------ | | | | | | | | | | T | | | | | | | | | | ype | | | | | | | | | | Unit Default | | | | | | | | | | List | | | | | | | | | | of String No | | | | | | | | | | ne Empty list | | | | | | | | | | ------ | | | | | | | | | | ---------- ---- | | | | | | | | | | -- ------------ | | | | | | | | +-----------------+-----------------+----+----+----+----+----+----+----+ | Service Names | List of Service | | | | O | O | | | | | Names (see | | | | | | | | | | _name_ element | | | | | | | | | | in Clause | | | | | | | | | | 11.2.1.1) of TS | | | | | | | | | | 26.346 [2]. | | | | | | | | | | | | | | | | | | | | ------ | | | | | | | | | | ---------- ---- | | | | | | | | | | -- ------------ | | | | | | | | | | T | | | | | | | | | | ype | | | | | | | | | | Unit Default | | | | | | | | | | List | | | | | | | | | | of String No | | | | | | | | | | ne Empty List | | | | | | | | | | ------ | | | | | | | | | | ---------- ---- | | | | | | | | | | -- ------------ | | | | | | | | +-----------------+-----------------+----+----+----+----+----+----+----+ | Receive Only | When set to | | | | | O | | | | Mode | \'true\', the | | | | | | | | | | Content | | | | | | | | | | Provider | | | | | | | | | | indicates that | | | | | | | | | | the service is | | | | | | | | | | a Receive Only | | | | | | | | | | Mode service. | | | | | | | | | | | | | | | | | | | | | | | | | | | | | | --------- ---- | | | | | | | | | | ----- --------- | | | | | | | | | | Type Na | | | | | | | | | | me Default | | | | | | | | | | Boolean | | | | | | | | | | Enabled False | | | | | | | | | | | | | | | | | | | | --------- ---- | | | | | | | | | | ----- --------- | | | | | | | | +-----------------+-----------------+----+----+----+----+----+----+----+ | Service | Enumeration of | | | | M | O | | | | Announcement | Service | | | | | | | | | Mode | Announcement | | | | | | | | | | Mode. | | | | | | | | | | | | | | | | | | | | Additional | | | | | | | | | | service | | | | | | | | | | announcement | | | | | | | | | | modes may be | | | | | | | | | | added in | | | | | | | | | | future. | | | | | | | | | | | | | | | | | | | | - **SACH** : | | | | | | | | | | BM-SC performs | | | | | | | | | | the Service | | | | | | | | | | Announcement | | | | | | | | | | for the current | | | | | | | | | | service using | | | | | | | | | | the SACH | | | | | | | | | | channel (cf. | | | | | | | | | | Annex L.2, L3 | | | | | | | | | | of TS 26.346 | | | | | | | | | | [2]). | | | | | | | | | | | | | | | | | | | | **\- Content | | | | | | | | | | Provider** : | | | | | | | | | | Content | | | | | | | | | | Provider | | | | | | | | | | performs the | | | | | | | | | | Service | | | | | | | | | | Announcement to | | | | | | | | | | an (not | | | | | | | | | | necessarily | | | | | | | | | | 3GPP-defined) | | | | | | | | | | MBMS User Agent | | | | | | | | | | function in the | | | | | | | | | | UE. The MBMS | | | | | | | | | | User Agent | | | | | | | | | | performs a | | | | | | | | | | similar role to | | | | | | | | | | but is a | | | | | | | | | | separate entity | | | | | | | | | | from the MBMS | | | | | | | | | | client, the | | | | | | | | | | latter of which | | | | | | | | | | is not involved | | | | | | | | | | in Service | | | | | | | | | | Announcement | | | | | | | | | | reception. The | | | | | | | | | | BM-SC shall | | | | | | | | | | provide the | | | | | | | | | | service | | | | | | | | | | announcement | | | | | | | | | | information to | | | | | | | | | | content | | | | | | | | | | provider. | | | | | | | | | | | | | | | | | | | | -------- - | | | | | | | | | | ----- --------- | | | | | | | | | | Type | | | | | | | | | | Unit Default | | | | | | | | | | Strin | | | | | | | | | | g None SACH | | | | | | | | | | -------- - | | | | | | | | | | ----- --------- | | | | | | | | +-----------------+-----------------+----+----+----+----+----+----+----+ | Consumption | The content | | | | O | O | | | | Reporting | provider wishes | | | | | | | | | Configuration | to collect | | | | | | | | | | consumption | | | | | | | | | | reports. | | | | | | | | | | | | | | | | | | | | ----- | | | | | | | | | | ---- ---------- | | | | | | | | | | ---------- ---- | | | | | | | | | | --------------- | | | | | | | | | | Type | | | | | | | | | | Name | | | | | | | | | | Default | | | | | | | | | | Boolea | | | | | | | | | | n Enabled | | | | | | | | | | False | | | | | | | | | | Integer | | | | | | | | | | Sample Percenta | | | | | | | | | | ge 10 (in %) | | | | | | | | | | Int | | | | | | | | | | eger Reportin | | | | | | | | | | g Interval 36 | | | | | | | | | | 00 (in seconds) | | | | | | | | | | ----- | | | | | | | | | | ---- ---------- | | | | | | | | | | ---------- ---- | | | | | | | | | | --------------- | | | | | | | | +-----------------+-----------------+----+----+----+----+----+----+----+ | Push | The content | | | | O | O | | | | Notification | provider | | | | | | | | | URL | provides | | | | | | | | | | Notification | | | | | | | | | | URL over which | | | | | | | | | | it will receive | | | | | | | | | | notifications | | | | | | | | | | \"pushed\" by | | | | | | | | | | the BM-SC. The | | | | | | | | | | Notification | | | | | | | | | | procedure is | | | | | | | | | | described in | | | | | | | | | | Clause 5.4.6 of | | | | | | | | | | TS 26.346 | | | | | | | | | | [2]. | | | | | | | | | | | | | | | | | | | | - | | | | | | | | | | ------- ------- | | | | | | | | | | ----- --------- | | | | | | | | | | | | | | | | | | | | Type Unit | | | | | | | | | | Default | | | | | | | | | | String -- | | | | | | | | | | None -- \"\" | | | | | | | | | | - | | | | | | | | | | ------- ------- | | | | | | | | | | ----- --------- | | | | | | | | +-----------------+-----------------+----+----+----+----+----+----+----+ | Push | If the content | | | | O | O | | | | Notification | provider | | | | | | | | | Configuration | enables push | | | | | | | | | | delivery of | | | | | | | | | | notifications, | | | | | | | | | | then the | | | | | | | | | | content | | | | | | | | | | provider may | | | | | | | | | | provide | | | | | | | | | | notification | | | | | | | | | | filters. | | | | | | | | | | | | | | | | | | | | This parameter | | | | | | | | | | contains a | | | | | | | | | | comma separated | | | | | | | | | | list of Classes | | | | | | | | | | it wishes to | | | | | | | | | | receive among | | | | | | | | | | the following | | | | | | | | | | options: | | | | | | | | | | **Critical** , | | | | | | | | | | **Warning** , | | | | | | | | | | * | | | | | | | | | | _Information_ _, | | | | | | | | | |__Service_ _, | | | | | | | | | |__Session_ _, or | | | | | | | | | |__All_ * to get | | | | | | | | | | all types of | | | | | | | | | | notification. | | | | | | | | | | | | | | | | | | | | The | | | | | | | | | | notification | | | | | | | | | | message shall | | | | | | | | | | be sent | | | | | | | | | | immediately to | | | | | | | | | | the content | | | | | | | | | | provider upon | | | | | | | | | | becoming | | | | | | | | | | available. | | | | | | | | | | | | | | | | | | | | -------- - | | | | | | | | | | ----- --------- | | | | | | | | | | Type | | | | | | | | | | Unit Default | | | | | | | | | | Stri | | | | | | | | | | ng None All | | | | | | | | | | -------- - | | | | | | | | | | ----- --------- | | | | | | | | +-----------------+-----------------+----+----+----+----+----+----+----+
Note: It is assumed that the BM-SC can derive the required UE capabilities
from the provided service and session properties.
## 5.4 Session Management Procedures
### 5.4.1 Introduction
Session management procedures allow the content provider to create, modify and
terminate sessions. Each session is time bound (i.e. has a start and stop
time) and is associated with a target broadcast area (which can be used to
derive the MBMS Service Area). The stop time may be absent in case of 24/7
sessions.
The MBMS Bearer is active between start and stop time of the session
independently whether the content provider is sending data. The BM-SC
automatically terminates the MBMS bearer at stop time. The content provider
may proactively terminate the session before the stop time.
A session has one of the following states. The BM-SC may only allow state
transition, when the mandatory session properties according to the service
type is configure. The BM-SC may reject modification of properties depending
on the session state.
{width="6.697222222222222in" height="2.7708333333333335in"}
Figure 5.4-1: Session State Diagram
State description of the BM-SC for a session. The BM-SC may reject state
transitions when mandatory properties are missing. The BM-SC may send error
notifications to the content provider.
\- Session Idle: The Session is under preparation. Typically, the content
provider needs multiple session updates in order to configure all session
properties and retrieve the needed information for content provider user-plane
entities.
\- Session Announced: The session properties have been announced and MBMS
Clients may become aware that the session is about to start.
\- Session Active: The session is active according to the Session Schedule.
### 5.4.2 Create Session
This procedure allows the content provider to create a session for an
available service.
Figure 5.4-2: Session Creation
1) The Content Provider wishes to create a new session and sends the Create
Session command. The content provider provides the access token and the
resource id of the service with the input.
2) The BM-SC creates the session resources and provides the session resource
id in response. The session properties are defined in subsequent transactions.
### 5.4.3 Get Session Properties
This procedure allows the content provider to get the current session
configuration.
Figure 5.4-3: Get Current Session Properties
1\. The content provider requests the session configuration information. The
content provider provides the access token, the resource ids the service and
the session with the request.
2\. The BM-SC provides the session configuration in response.
### 5.4.4 Update Session Properties
This procedure allows the content provider to update session properties.
Figure 5.4-4: Session Properties Update
The content provider may first fetch the current session properties
configuration using the Get Session Properties procedure:
1\. The content provider requests updating of the properties of the session
resource associated with a service. The access token and the resource ids of
the service and the session are provided as input. The procedure may allow
modification of individual properties or all properties for the named session.
2\. The BM-SC updates the session properties for the indicated service and
returns an acknowledgment to the content provider.
### 5.4.5 Terminate a Session
The content provider terminates a session during any session state.
Figure 5.4-5: Session Termination
1\. The content provider sends the service termination command. The access
token and the id of the service and the session id are provided as input.
2\. The BM-SC terminates the session and deletes all associated resources and
acknowledges the reception of this command.
### 5.4.6 Session Properties
All Session properties, except for the resource id, are carried in the HTTPS
message body. The access-token is always carried as part of HTTP Headers.
Except for the session creation request (where the resource id is not
present), the resource id shall be present in the URL of all requests that
relate to a specific session.
In the table below, the following assertions are made:
\- Table header: C stands for Create Session, G is for Get Session, U is for
Update Session and T is for Terminate Session. \"I\", and \"O\" respectively
denote \"request\" (going **I** nto the BM-SC), and response (going Out of the
BM-SC).
\- Optional (\"O\") means that the property may or may not be sent/received
during a REST transaction. It does not necessarily mean that the property is
optional. It is possible, for example, that a session is not yet started
because the Content Provider has not set it in any Update transaction using
the PUT or PATCH HTTP method as opposed to representing a hint on the
importance of the property for the BM-SC.
\- A property marked as optional (O) in a request message may be present in
the request. When not present in the request body, the property, if present in
the BM-SC, will not be updated.
\- A property marked as optional (O) in a response message is only present in
the response when a value is assigned in the BM-SC.
\- A property marked as mandatory (M) in a response message is always present
in the response. The BM-SC provides default values for the session, which may
be modified subsequently by the content provider.
\- A blank cell in the cell shall means \"forbidden\" (the property cannot be
added to the request or returned by the BM-SC, depending on the transaction
direction).
Table 5.4-1: List of Session Properties
+-----------------+-----------------+----+----+----+----+----+----+----+ | Property Name | Property | C\ | C\ | G\ | G\ | U\ | U\ | T\ | | | Description | I | O | I | O | I | O | I | +-----------------+-----------------+----+----+----+----+----+----+----+ | id | Resource Id of | | M | | | | | | | | the Session. | | | | | | | | | | | | | | | | | | | | --------- - | | | | | | | | | | ----- --------- | | | | | | | | | | Type | | | | | | | | | | Unit Default | | | | | | | | | | Integ | | | | | | | | | | er None N/A | | | | | | | | | | --------- - | | | | | | | | | | ----- --------- | | | | | | | | +-----------------+-----------------+----+----+----+----+----+----+----+ | Session start | Start time when | | | | M | O | | | | | the MBMS Bearer | | | | | | | | | | become active. | | | | | | | | | | | | | | | | | | | | -------- | | | | | | | | | | - ------------- | | | | | | | | | | --------------- | | | | | | | | | | --------------- | | | | | | | | | | - ------------- | | | | | | | | | | --------------- | | | | | | | | | | Ty | | | | | | | | | | pe Unit | | | | | | | | | | | | | | | | | | | | | | | | | | | | | | Default | | | | | | | | | | Intege | | | | | | | | | | r UTC Date ti | | | | | | | | | | mestamp (with s | | | | | | | | | | econd precision | | | | | | | | | | ) Session cre | | | | | | | | | | ation date + 1h | | | | | | | | | | -------- | | | | | | | | | | - ------------- | | | | | | | | | | --------------- | | | | | | | | | | --------------- | | | | | | | | | | - ------------- | | | | | | | | | | --------------- | | | | | | | | +-----------------+-----------------+----+----+----+----+----+----+----+ | Session stop | End time at | | | | M | O | | | | | which the MBMS | | | | | | | | | | bearer becomes | | | | | | | | | | inactive. | | | | | | | | | | | | | | | | | | | | | | | | | | | | | | --------- ----- | | | | | | | | | | --------------- | | | | | | | | | | --------------- | | | | | | | | | | --------- ----- | | | | | | | | | | --------------- | | | | | | | | | | Ty | | | | | | | | | | pe Unit | | | | | | | | | | | | | | | | | | | | | | | | | | | | | | Default | | | | | | | | | | Integer UTC | | | | | | | | | | Date timestamp | | | | | | | | | | (with second p | | | | | | | | | | recision) Ses | | | | | | | | | | sion start + 1h | | | | | | | | | | | | | | | | | | | | --------- ----- | | | | | | | | | | --------------- | | | | | | | | | | --------------- | | | | | | | | | | --------- ----- | | | | | | | | | | --------------- | | | | | | | | +-----------------+-----------------+----+----+----+----+----+----+----+ | Max Bitrate | The requested | | | | M | O | | | | | bitrate | | | | | | | | | | excludes FEC | | | | | | | | | | overhead and | | | | | | | | | | transport | | | | | | | | | | overhead. The | | | | | | | | | | BM-SC | | | | | | | | | | calculates the | | | | | | | | | | MBMS Bearer | | | | | | | | | | bitrate from | | | | | | | | | | it, considering | | | | | | | | | | overhead like | | | | | | | | | | FEC and other | | | | | | | | | | transport | | | | | | | | | | overheads. The | | | | | | | | | | session bitrate | | | | | | | | | | is always | | | | | | | | | | larger or equal | | | | | | | | | | to the payload | | | | | | | | | | bitrate. | | | | | | | | | | | | | | | | | | | | --------- - | | | | | | | | | | ----- --------- | | | | | | | | | | Type | | | | | | | | | | Unit Default | | | | | | | | | | Int | | | | | | | | | | eger kbps 0 | | | | | | | | | | --------- - | | | | | | | | | | ----- --------- | | | | | | | | +-----------------+-----------------+----+----+----+----+----+----+----+ | Max Delay | Specifies the | | | | O | O | | | | | maximum delay | | | | | | | | | | the MBMS System | | | | | | | | | | should add, | | | | | | | | | | i.e. from the | | | | | | | | | | time a packet | | | | | | | | | | is received by | | | | | | | | | | the BM-SC to | | | | | | | | | | the time by | | | | | | | | | | when the packet | | | | | | | | | | is received by | | | | | | | | | | the MBMS | | | | | | | | | | client. | | | | | | | | | | | | | | | | | | | | --------- - | | | | | | | | | | ----- --------- | | | | | | | | | | Type | | | | | | | | | | Unit Default | | | | | | | | | | Inte | | | | | | | | | | ger ms -1 | | | | | | | | | | --------- - | | | | | | | | | | ----- --------- | | | | | | | | | | | | | | | | | | | | Note, that the | | | | | | | | | | value -1 | | | | | | | | | | indicates that | | | | | | | | | | the content | | | | | | | | | | provider has no | | | | | | | | | | specific delay | | | | | | | | | | requirement. | | | | | | | | +-----------------+-----------------+----+----+----+----+----+----+----+ | Session State | The BM-SC may | | | | M | | | | | | automatically | | | | | | | | | | change the | | | | | | | | | | state of the | | | | | | | | | | session. | | | | | | | | | | | | | | | | | | | | Possible | | | | | | | | | | states: Session | | | | | | | | | | Idle, Session | | | | | | | | | | Announced, | | | | | | | | | | Session Active | | | | | | | | | | | | | | | | | | | | -------- - | | | | | | | | | | ----- --------- | | | | | | | | | | Type | | | | | | | | | | Unit Default | | | | | | | | | | Strin | | | | | | | | | | g None Idle | | | | | | | | | | -------- - | | | | | | | | | | ----- --------- | | | | | | | | +-----------------+-----------------+----+----+----+----+----+----+----+ | Service | When present, | | | | O | O | | | | Announcement | this time at | | | | | | | | | start time | which the BM-SC | | | | | | | | | | shall start | | | | | | | | | | service | | | | | | | | | | announcement. | | | | | | | | | | If absent, the | | | | | | | | | | BM-SC may | | | | | | | | | | automatically | | | | | | | | | | start service | | | | | | | | | | announcement | | | | | | | | | | when it has all | | | | | | | | | | data needed to | | | | | | | | | | perform such | | | | | | | | | | service | | | | | | | | | | announcement. | | | | | | | | | | | | | | | | | | | | ---- | | | | | | | | | | ----- --------- | | | | | | | | | | --------------- | | | | | | | | | | --------------- | | | | | | | | | | ----- --------- | | | | | | | | | | Ty | | | | | | | | | | pe Unit | | | | | | | | | | | | | | | | | | | | | | | | | | | | | | Default | | | | | | | | | | | | | | | | | | | | Integer UTC | | | | | | | | | | Date timestamp | | | | | | | | | | (with second pr | | | | | | | | | | ecision) None | | | | | | | | | | ---- | | | | | | | | | | ----- --------- | | | | | | | | | | --------------- | | | | | | | | | | --------------- | | | | | | | | | | ----- --------- | | | | | | | | +-----------------+-----------------+----+----+----+----+----+----+----+ | Geographical | Geographical | | | | M | O | | | | Area | Area, at which | | | | | | | | | | the service is | | | | | | | | | | to be provided, | | | | | | | | | | either through | | | | | | | | | | unicast or | | | | | | | | | | through MBMS | | | | | | | | | | Bearers. The | | | | | | | | | | BM-SC derives | | | | | | | | | | the MBMS | | | | | | | | | | Service Area | | | | | | | | | | and the SAI | | | | | | | | | | list for the | | | | | | | | | | availability | | | | | | | | | | information | | | | | | | | | | from | | | | | | | | | | Geographical | | | | | | | | | | Area as | | | | | | | | | | provided by the | | | | | | | | | | content | | | | | | | | | | provider. | | | | | | | | | | | | | | | | | | | | The | | | | | | | | | | Geographical | | | | | | | | | | Area contains | | | | | | | | | | the following | | | | | | | | | | information: | | | | | | | | | | | | | | | | | | | | ------ | | | | | | | | | | ---------- ---- | | | | | | | | | | -- ------------ | | | | | | | | | | T | | | | | | | | | | ype | | | | | | | | | | Unit Default | | | | | | | | | | List | | | | | | | | | | of String No | | | | | | | | | | ne Empty list | | | | | | | | | | ------ | | | | | | | | | | ---------- ---- | | | | | | | | | | -- ------------ | | | | | | | | | | | | | | | | | | | | The content of | | | | | | | | | | each string | | | | | | | | | | item is left to | | | | | | | | | | the business | | | | | | | | | | agreement | | | | | | | | | | between the | | | | | | | | | | Content | | | | | | | | | | Provider and | | | | | | | | | | the Operator. | | | | | | | | +-----------------+-----------------+----+----+----+----+----+----+----+ | QoE Reporting | List of QoE | | | | O | O | | | | | metrics that | | | | | | | | | | the content | | | | | | | | | | provider | | | | | | | | | | recommends the | | | | | | | | | | BM-SC to | | | | | | | | | | collect. The | | | | | | | | | | QoE metrics | | | | | | | | | | shall be | | | | | | | | | | derived from | | | | | | | | | | the QoE metrics | | | | | | | | | | in Clause 8.4 | | | | | | | | | | of TS 26.346 | | | | | | | | | | [2] and in | | | | | | | | | | Clause 10.2 of | | | | | | | | | | 26.247 [4] | | | | | | | | | | and depend on | | | | | | | | | | the delivery | | | | | | | | | | method that is | | | | | | | | | | used for the | | | | | | | | | | session. | | | | | | | | +-----------------+-----------------+----+----+----+----+----+----+----+ | QoE Report URL | Resource | | | | O | | | | | | location at | | | | | | | | | | which the BM-SC | | | | | | | | | | will provide | | | | | | | | | | the QoE | | | | | | | | | | reports. | | | | | | | | | | | | | | | | | | | | -------- ---- | | | | | | | | | | -- ------------ | | | | | | | | | | --------------- | | | | | | | | | | Type | | | | | | | | | | Unit Default | | | | | | | | | | String No | | | | | | | | | | ne Operator s | | | | | | | | | | elected default | | | | | | | | | | -------- ---- | | | | | | | | | | -- ------------ | | | | | | | | | | --------------- | | | | | | | | +-----------------+-----------------+----+----+----+----+----+----+----+ | Session Type | The Session | | | | M | O | | | | | Type represents | | | | | | | | | | the method used | | | | | | | | | | by the content | | | | | | | | | | provider in | | | | | | | | | | providing | | | | | | | | | | content to the | | | | | | | | | | BM-SC (via | | | | | | | | | | xMB-U). The | | | | | | | | | | BM-SC shall | | | | | | | | | | select the | | | | | | | | | | appropriate | | | | | | | | | | delivery method | | | | | | | | | | based on the | | | | | | | | | | Session Type | | | | | | | | | | value. | | | | | | | | | | | | | | | | | | | | Valid values: | | | | | | | | | | Streaming, | | | | | | | | | | Files, | | | | | | | | | | Application, | | | | | | | | | | Transport-Mode | | | | | | | | | | | | | | | | | | | | When Session | | | | | | | | | | Type is set to | | | | | | | | | | Streaming, the | | | | | | | | | | BM-SC expects a | | | | | | | | | | Streaming type | | | | | | | | | | input (RTP) | | | | | | | | | | whose format is | | | | | | | | | | compliant to | | | | | | | | | | MBMS streaming | | | | | | | | | | (as defined in | | | | | | | | | | TS 26.346). | | | | | | | | | | | | | | | | | | | | When Session | | | | | | | | | | Type is set to | | | | | | | | | | Files, the | | | | | | | | | | BM-SC expects | | | | | | | | | | generic files | | | | | | | | | | as input. The | | | | | | | | | | files can be | | | | | | | | | | provided either | | | | | | | | | | by on-request | | | | | | | | | | pull | | | | | | | | | | interactions or | | | | | | | | | | continuous push | | | | | | | | | | ingest. | | | | | | | | | | | | | | | | | | | | When Session | | | | | | | | | | Type is set to | | | | | | | | | | Application, | | | | | | | | | | then the ingest | | | | | | | | | | method depends | | | | | | | | | | on the | | | | | | | | | | application | | | | | | | | | | service | | | | | | | | | | description. | | | | | | | | | | | | | | | | | | | | When the | | | | | | | | | | Application | | | | | | | | | | Service | | | | | | | | | | Description | | | | | | | | | | pertains to | | | | | | | | | | DASH, the BM-SC | | | | | | | | | | expects an MPD | | | | | | | | | | and optionally | | | | | | | | | | one or more | | | | | | | | | | Initialization | | | | | | | | | | Segments. The | | | | | | | | | | content is | | | | | | | | | | assumed to be | | | | | | | | | | 3GP-DASH | | | | | | | | | | compliant (as | | | | | | | | | | defined by | | | | | | | | | | 26.247 [4]). | | | | | | | | | | The BM-SC may | | | | | | | | | | either pull the | | | | | | | | | | media segments | | | | | | | | | | from the | | | | | | | | | | content | | | | | | | | | | provider or the | | | | | | | | | | content | | | | | | | | | | provider | | | | | | | | | | continuously | | | | | | | | | | pushes segments | | | | | | | | | | into the BM-SC. | | | | | | | | | | | | | | | | | | | | When Session | | | | | | | | | | Type is set to | | | | | | | | | | Transport-Mode, | | | | | | | | | | the BM-SC shall | | | | | | | | | | provide | | | | | | | | | | transport of | | | | | | | | | | data/TV content | | | | | | | | | | according to | | | | | | | | | | the Transparent | | | | | | | | | | delivery method | | | | | | | | | | as described in | | | | | | | | | | clause 8B of TS | | | | | | | | | | 26.346[2]. | | | | | | | | | | The content | | | | | | | | | | provider may | | | | | | | | | | provide some of | | | | | | | | | | the session | | | | | | | | | | properties for | | | | | | | | | | the broadcast | | | | | | | | | | distribution. | | | | | | | | | | | | | | | | | | | | The Session | | | | | | | | | | Type shall be | | | | | | | | | | extensible for | | | | | | | | | | further session | | | | | | | | | | types. | | | | | | | | | | | | | | | | | | | | -------- - | | | | | | | | | | ----- --------- | | | | | | | | | | Type | | | | | | | | | | Unit Default | | | | | | | | | | String | | | | | | | | | | None Files | | | | | | | | | | -------- - | | | | | | | | | | ----- --------- | | | | | | | | +-----------------+-----------------+----+----+----+----+----+----+----+ | Header | Requests the | | | | O | O | | | | Compression | BM-SC to enable | | | | | | | | | | ROHC [8] and | | | | | | | | | | [9] on the | | | | | | | | | | input flow to | | | | | | | | | | save overhead | | | | | | | | | | space. | | | | | | | | | | | | | | | | | | | | When this | | | | | | | | | | property is | | | | | | | | | | present, then | | | | | | | | | | header | | | | | | | | | | compression | | | | | | | | | | shall be | | | | | | | | | | processed on | | | | | | | | | | each described | | | | | | | | | | input flow. | | | | | | | | | | Each flow to be | | | | | | | | | | processed shall | | | | | | | | | | contain | | | | | | | | | | following | | | | | | | | | | parameters: | | | | | | | | | | | | | | | | | | | | - Flow | | | | | | | | | | Description: | | | | | | | | | | Typically the | | | | | | | | | | IP/port of the | | | | | | | | | | input flow. | | | | | | | | | | | | | | | | | | | | - Periodicity: | | | | | | | | | | number denoting | | | | | | | | | | the target | | | | | | | | | | periodicity for | | | | | | | | | | ROHC full | | | | | | | | | | header packets | | | | | | | | | | in units of | | | | | | | | | | seconds. | | | | | | | | | | | | | | | | | | | | - Profile: | | | | | | | | | | Applicable ROHC | | | | | | | | | | profile (see | | | | | | | | | | IETF RFC 5795 | | | | | | | | | | [8].When the | | | | | | | | | | Content | | | | | | | | | | Provider does | | | | | | | | | | not explicitly | | | | | | | | | | set this | | | | | | | | | | property, the | | | | | | | | | | BM-SC decides | | | | | | | | | | on the usage. | | | | | | | | +-----------------+-----------------+----+----+----+----+----+----+----+ | FEC | When present, | | | | O | O | | | | | requests the | | | | | | | | | | BM-SC to | | | | | | | | | | perform FEC | | | | | | | | | | protection of | | | | | | | | | | the input | | | | | | | | | | flow(s) when | | | | | | | | | | transmitting | | | | | | | | | | over the MBMS | | | | | | | | | | channel using | | | | | | | | | | the provided | | | | | | | | | | SDP. | | | | | | | | | | | | | | | | | | | | The SDP should | | | | | | | | | | include FEC | | | | | | | | | | scheme | | | | | | | | | | according to | | | | | | | | | | the used | | | | | | | | | | delivery method | | | | | | | | | | as defined in | | | | | | | | | | TS 26.346. | | | | | | | | | | | | | | | | | | | | - | | | | | | | | | | ------- ------ | | | | | | | | | | --------------- | | | | | | | | | | --------------- | | | | | | | | | | --------------- | | | | | | | | | | --------------- | | | | | | | | | | Type | | | | | | | | | | Unit Default | | | | | | | | | | | | | | | | | | | | String None | | | | | | | | | | SDP descripti | | | | | | | | | | on of FEC frame | | | | | | | | | | work configurat | | | | | | | | | | ion information | | | | | | | | | | - | | | | | | | | | | ------- ------ | | | | | | | | | | --------------- | | | | | | | | | | --------------- | | | | | | | | | | --------------- | | | | | | | | | | --------------- | | | | | | | | | | | | | | | | | | | | When the | | | | | | | | | | Content | | | | | | | | | | Provider does | | | | | | | | | | not explicitly | | | | | | | | | | set the | | | | | | | | | | property, the | | | | | | | | | | BM-SC decides | | | | | | | | | | on the usage | | | | | | | | | | and amount of | | | | | | | | | | FEC redundancy. | | | | | | | | +-----------------+-----------------+----+----+----+----+----+----+----+ | Get Sharing ID | When present | | | | O | O | | | | | and set to | | | | | | | | | | \"true\", | | | | | | | | | | request the | | | | | | | | | | BM-SC to | | | | | | | | | | provide a | | | | | | | | | | unique | | | | | | | | | | identifier so | | | | | | | | | | that the | | | | | | | | | | transmission | | | | | | | | | | resources can | | | | | | | | | | be shared with | | | | | | | | | | other sessions. | | | | | | | | | | | | | | | | | | | | Note, that | | | | | | | | | | other sessions | | | | | | | | | | will use the | | | | | | | | | | same Max | | | | | | | | | | Bitrate, | | | | | | | | | | Geographical | | | | | | | | | | Area and (in | | | | | | | | | | case of MC | | | | | | | | | | Services) | | | | | | | | | | Q | | | | | | | | | | oSâ€‘Information. | | | | | | | | | | | | | | | | | | | | --------- - | | | | | | | | | | ----- --------- | | | | | | | | | | Type | | | | | | | | | | Unit Default | | | | | | | | | | Boolean | | | | | | | | | | None False | | | | | | | | | | --------- - | | | | | | | | | | ----- --------- | | | | | | | | +-----------------+-----------------+----+----+----+----+----+----+----+ | Sharing ID | When present, | | | | O | O | | | | | the value of | | | | | | | | | | the field | | | | | | | | | | identifies an | | | | | | | | | | already | | | | | | | | | | existing | | | | | | | | | | session to | | | | | | | | | | share the | | | | | | | | | | transmission, | | | | | | | | | | where Max | | | | | | | | | | Bitrate, | | | | | | | | | | Geographical | | | | | | | | | | Area and (in | | | | | | | | | | case of MC | | | | | | | | | | Services) | | | | | | | | | | QoSâ€‘Information | | | | | | | | | | are re-used | | | | | | | | | | | | | | | | | | | | Note, the Max | | | | | | | | | | Bitrate, | | | | | | | | | | Geographical | | | | | | | | | | Area and (in | | | | | | | | | | case of MC | | | | | | | | | | Services) | | | | | | | | | | QoSâ€‘Information | | | | | | | | | | cannot be | | | | | | | | | | changed since | | | | | | | | | | the values from | | | | | | | | | | the original | | | | | | | | | | session will be | | | | | | | | | | used. | | | | | | | | | | | | | | | | | | | | -------- - | | | | | | | | | | ----- --------- | | | | | | | | | | Type | | | | | | | | | | Unit Default | | | | | | | | | | Strin | | | | | | | | | | g None \"\" | | | | | | | | | | -------- - | | | | | | | | | | ----- --------- | | | | | | | | +-----------------+-----------------+----+----+----+----+----+----+----+
When the Session Type is set to \"Transport-Mode\", then the additional
properties as defined in Table 5.4-2 apply. The properties in Table 5.4-2 are
only present when the Session Type is set to \"Transport-Mode\".
Table 5.4-2: Additional properties for Transport-Mode
+-----------------+-----------------+----+----+----+----+----+----+----+ | Property Name | Property | C\ | C\ | G\ | G\ | U\ | U\ | T\ | | | Description | I | O | I | O | I | O | I | +-----------------+-----------------+----+----+----+----+----+----+----+ | Session | This property | | | | O | O | | | | Description | provides | | | | | | | | | Parameters for | information to | | | | | | | | | User Plane | the BM-SC on | | | | | | | | | | where and how | | | | | | | | | | to access the | | | | | | | | | | user plane | | | | | | | | | | content from | | | | | | | | | | the content | | | | | | | | | | provider, and | | | | | | | | | | comprises one | | | | | | | | | | or more of the | | | | | | | | | | following | | | | | | | | | | components: | | | | | | | | | | | | | | | | | | | | - **Type** : | | | | | | | | | | the type of the | | | | | | | | | | content | | | | | | | | | | associated with | | | | | | | | | | the target | | | | | | | | | | resource, for | | | | | | | | | | example the | | | | | | | | | | Internet Media | | | | | | | | | | Type of the | | | | | | | | | | resource as | | | | | | | | | | identified by | | | | | | | | | | an HTTP/S URL. | | | | | | | | | | **Type** with | | | | | | | | | | the value | | | | | | | | | | \"embedded\" is | | | | | | | | | | defined in this | | | | | | | | | | version of the | | | | | | | | | | specification, | | | | | | | | | | as an | | | | | | | | | | indication that | | | | | | | | | | the xMB-U user | | | | | | | | | | plane | | | | | | | | | | parameters are | | | | | | | | | | embedded in the | | | | | | | | | | User Plane | | | | | | | | | | Parameters | | | | | | | | | | object | | | | | | | | | | described | | | | | | | | | | below. | | | | | | | | | | | | | | | | | | | | - **Access | | | | | | | | | | URL** : A URL | | | | | | | | | | that enables | | | | | | | | | | BM-SC access to | | | | | | | | | | and possibly | | | | | | | | | | control of the | | | | | | | | | | ingest session. | | | | | | | | | | The URL could | | | | | | | | | | be, for | | | | | | | | | | example, a) an | | | | | | | | | | RTSP URL, b) a | | | | | | | | | | reference to an | | | | | | | | | | SDP that | | | | | | | | | | describes a | | | | | | | | | | multicast | | | | | | | | | | stream | | | | | | | | | | associated with | | | | | | | | | | the ingest | | | | | | | | | | session, or c) | | | | | | | | | | an HTTP/S URL | | | | | | | | | | to retrieve an | | | | | | | | | | a | | | | | | | | | | lready-packaged | | | | | | | | | | MPEG2-TS | | | | | | | | | | stream. | | | | | | | | | | | | | | | | | | | | - **User Plane | | | | | | | | | | Parameters** : | | | | | | | | | | Object provided | | | | | | | | | | by the Content | | | | | | | | | | Provider to the | | | | | | | | | | BM-SC, which | | | | | | | | | | when set to | | | | | | | | | | \"embedded\", | | | | | | | | | | contains the | | | | | | | | | | session | | | | | | | | | | description | | | | | | | | | | information for | | | | | | | | | | the following | | | | | | | | | | purposes: | | | | | | | | | | | | | | | | | | | | - If the | | | | | | | | | | _property_ | | | | | | | | | | Delivery Mode | | | | | | | | | | Configuration | | | | | | | | | | for user plane | | | | | | | | | | is set to | | | | | | | | | | **Forward | | | | | | | | | | Only** , the | | | | | | | | | | **User Plane | | | | | | | | | | Parameters** | | | | | | | | | | object may | | | | | | | | | | contain a | | | | | | | | | | ready-made | | | | | | | | | | Session | | | | | | | | | | Description and | | | | | | | | | | the indication | | | | | | | | | | of a single | | | | | | | | | | xMB-U reception | | | | | | | | | | UDP port, in | | | | | | | | | | which case the | | | | | | | | | | BM-SC shall use | | | | | | | | | | it for Service | | | | | | | | | | Announcement | | | | | | | | | | over SACH. | | | | | | | | | | | | | | | | | | | | - If such | | | | | | | | | | Session | | | | | | | | | | Description is | | | | | | | | | | not present in | | | | | | | | | | this object, | | | | | | | | | | the Content | | | | | | | | | | Provider is | | | | | | | | | | directly | | | | | | | | | | performing the | | | | | | | | | | Service | | | | | | | | | | Announcement, | | | | | | | | | | i.e., it | | | | | | | | | | corresponds to | | | | | | | | | | the case where | | | | | | | | | | _Service | | | | | | | | | | Announcement | | | | | | | | | | Mode_ property, | | | | | | | | | | as defined in | | | | | | | | | | Table 5.3-1, is | | | | | | | | | | set to | | | | | | | | | | **Content | | | | | | | | | | Provider**. | | | | | | | | | | | | | | | | | | | | - If this | | | | | | | | | | property | | | | | | | | | | _Delivery Mode | | | | | | | | | | Configuration | | | | | | | | | | for user plane_ | | | | | | | | | | is set to | | | | | | | | | | **Proxy** , the | | | | | | | | | | object shall | | | | | | | | | | contain a | | | | | | | | | | Session | | | | | | | | | | Description | | | | | | | | | | template and a | | | | | | | | | | list of the | | | | | | | | | | transmitted UDP | | | | | | | | | | flows to be | | | | | | | | | | forwarded on | | | | | | | | | | the established | | | | | | | | | | MBMS bearer for | | | | | | | | | | the session. | | | | | | | | | | For each list | | | | | | | | | | entry, the | | | | | | | | | | content | | | | | | | | | | provider shall | | | | | | | | | | indicate | | | | | | | | | | whether a) this | | | | | | | | | | UDP flow is | | | | | | | | | | directly | | | | | | | | | | associated with | | | | | | | | | | a media | | | | | | | | | | description | | | | | | | | | | entry in the | | | | | | | | | | Session | | | | | | | | | | Description | | | | | | | | | | Template -- | | | | | | | | | | i.e., an \"m=\" | | | | | | | | | | line is present | | | | | | | | | | in the template | | | | | | | | | | and which | | | | | | | | | | contains a port | | | | | | | | | | field, or b) | | | | | | | | | | this UDP flow | | | | | | | | | | is related to a | | | | | | | | | | media | | | | | | | | | | description | | | | | | | | | | entry -- e.g., | | | | | | | | | | it corresponds | | | | | | | | | | to an RTCP flow | | | | | | | | | | affiliated with | | | | | | | | | | the RTP flow as | | | | | | | | | | described by | | | | | | | | | | the RTP/AVP | | | | | | | | | | profile). If | | | | | | | | | | the flow is | | | | | | | | | | directly | | | | | | | | | | associated with | | | | | | | | | | a media | | | | | | | | | | description | | | | | | | | | | entry, then the | | | | | | | | | | BM-SC shall | | | | | | | | | | modify the port | | | | | | | | | | field of the | | | | | | | | | | media | | | | | | | | | | description | | | | | | | | | | entry in the | | | | | | | | | | Session | | | | | | | | | | Description | | | | | | | | | | Template. If | | | | | | | | | | the flow is | | | | | | | | | | related to a | | | | | | | | | | media | | | | | | | | | | description | | | | | | | | | | entry, then the | | | | | | | | | | BM-SC shall | | | | | | | | | | simply forward | | | | | | | | | | the flow onto a | | | | | | | | | | port whose | | | | | | | | | | value is equal | | | | | | | | | | to the port of | | | | | | | | | | the related | | | | | | | | | | media session | | | | | | | | | | plus an offset. | | | | | | | | | | | | | | | | | | | | Note the BM-SC | | | | | | | | | | may get input | | | | | | | | | | on session | | | | | | | | | | properties from | | | | | | | | | | the content | | | | | | | | | | provider, e.g. | | | | | | | | | | bitrate, | | | | | | | | | | depending on | | | | | | | | | | the ingest | | | | | | | | | | session. | | | | | | | | +-----------------+-----------------+----+----+----+----+----+----+----+ | Delivery Mode | This property | | | | M | O | | | | Configuration | defines how the | | | | | | | | | for user plane | session needs | | | | | | | | | | to be delivered | | | | | | | | | | to the | | | | | | | | | | application, | | | | | | | | | | i.e. it | | | | | | | | | | basically | | | | | | | | | | establishes the | | | | | | | | | | delivery mode. | | | | | | | | | | | | | | | | | | | | - Mode | | | | | | | | | | Enumeration: | | | | | | | | | | Specifies the | | | | | | | | | | delivery mode. | | | | | | | | | | | | | | | | | | | | - | | | | | | | | | | ** | | | | | | | | | | Forward-only**: | | | | | | | | | | The BM-SC | | | | | | | | | | receives | | | | | | | | | | complete IP | | | | | | | | | | Multicast | | | | | | | | | | packets for to | | | | | | | | | | be forwarded. | | | | | | | | | | The content | | | | | | | | | | provider will | | | | | | | | | | create the IP | | | | | | | | | | multicast | | | | | | | | | | packets. | | | | | | | | | | | | | | | | | | | | -** Proxy**: | | | | | | | | | | The BM-SC | | | | | | | | | | proxies the | | | | | | | | | | incoming UDP | | | | | | | | | | payloads to the | | | | | | | | | | outgoing UDP | | | | | | | | | | payloads. The | | | | | | | | | | BM-SC will | | | | | | | | | | create the IP | | | | | | | | | | multicast | | | | | | | | | | packets. | | | | | | | | | | | | | | | | | | | | ------ | | | | | | | | | | -- ------------ | | | | | | | | | | -------------- | | | | | | | | | | | | | | | | | | | | Type Unit | | | | | | | | | | Default | | | | | | | | | | Stri | | | | | | | | | | ng -- None -- | | | | | | | | | | Forward-only | | | | | | | | | | ------ | | | | | | | | | | -- ------------ | | | | | | | | | | -------------- | | | | | | | | +-----------------+-----------------+----+----+----+----+----+----+----+ | Delivery | The contents of | | | | O | | | | | Session | this property | | | | | | | | | Description | depend on the | | | | | | | | | Parameters | setting of the | | | | | | | | | |_Service | | | | | | | | | | Announcement | | | | | | | | | | Mode_ property | | | | | | | | | | as defined in | | | | | | | | | | Table 5.3-1. If | | | | | | | | | | _Service | | | | | | | | | | Announcement | | | | | | | | | | Mode_ is set to | | | | | | | | | | **Content | | | | | | | | | | Provider**, | | | | | | | | | | then at minimum | | | | | | | | | | the following | | | | | | | | | | session | | | | | | | | | | parameters | | | | | | | | | | shall be | | | | | | | | | | provided by the | | | | | | | | | | BM-SC: | | | | | | | | | | | | | | | | | | | | - TMGI of the | | | | | | | | | | MBMS Bearer | | | | | | | | | | | | | | | | | | | | Note that | | | | | | | | | | additional | | | | | | | | | | parameters may | | | | | | | | | | be provided, | | | | | | | | | | based on the | | | | | | | | | | configuration | | | | | | | | | | options of the | | | | | | | | | | delivery method | | | | | | | | | | when _Session | | | | | | | | | | Type_ is set to | | | | | | | | | | **Tr | | | | | | | | | | ansport-Mode**. | | | | | | | | +-----------------+-----------------+----+----+----+----+----+----+----+
When the Session Type is set to \"Streaming\", then the additional properties
as defined in Table 5.4-3 apply. The properties in Table 5.4-3 are only
present when the Session Type is set to \"Streaming\".
Table 5.4-3: Additional properties for Streaming
+---------------+-----------------+----+----+----+----+----+----+----+ | Property Name | Property | C\ | C\ | G\ | G\ | U\ | U\ | T\ | | | Description | I | O | I | O | I | O | I | +---------------+-----------------+----+----+----+----+----+----+----+ | SDP URL | A URL to the | | | | M | O | | | | | SDP that | | | | | | | | | | describes the | | | | | | | | | | streaming | | | | | | | | | | session between | | | | | | | | | | the content | | | | | | | | | | provider and | | | | | | | | | | the BM-SC which | | | | | | | | | | will be used | | | | | | | | | | for ingesting | | | | | | | | | | the streaming | | | | | | | | | | session via | | | | | | | | | | xMB-U. The SDP | | | | | | | | | | shall include | | | | | | | | | | the RTSP links | | | | | | | | | | for every media | | | | | | | | | | session as part | | | | | | | | | | of the | | | | | | | | | | \"a=control\" | | | | | | | | | | attribute to | | | | | | | | | | enable RTSP | | | | | | | | | | control of the | | | | | | | | | | session. The | | | | | | | | | | SDP shall also | | | | | | | | | | contain the | | | | | | | | | | required | | | | | | | | | | bitrate for | | | | | | | | | | each of the | | | | | | | | | | media sessions. | | | | | | | | | | | | | | | | | | | | The content | | | | | | | | | | shall conform | | | | | | | | | | to the | | | | | | | | | | constraints of | | | | | | | | | | the present | | | | | | | | | | document. | | | | | | | | | | | | | | | | | | | | - | | | | | | | | | | ------- ------- | | | | | | | | | | ----- --------- | | | | | | | | | | | | | | | | | | | | Type Unit | | | | | | | | | | Default | | | | | | | | | | String -- | | | | | | | | | | None -- \"\" | | | | | | | | | | - | | | | | | | | | | ------- ------- | | | | | | | | | | ----- --------- | | | | | | | | | | | | | | | | | | | | Note that the | | | | | | | | | | session will | | | | | | | | | | not be | | | | | | | | | | activated | | | | | | | | | | without a valid | | | | | | | | | | SDP URL. | | | | | | | | +---------------+-----------------+----+----+----+----+----+----+----+ | TimeShifting | Indicates if | | | | O | O | | | | | and for how | | | | | | | | | | long time | | | | | | | | | | shifting access | | | | | | | | | | to the content | | | | | | | | | | (using unicast) | | | | | | | | | | may be provided | | | | | | | | | | for this | | | | | | | | | | session. | | | | | | | | | | | | | | | | | | | | --------- --- | | | | | | | | | | ----- --------- | | | | | | | | | | Type U | | | | | | | | | | nit Default | | | | | | | | | | Integ | | | | | | | | | | er second 0 | | | | | | | | | | --------- --- | | | | | | | | | | ----- --------- | | | | | | | | | | | | | | | | | | | | If not set (so | | | | | | | | | | defaulted to | | | | | | | | | | 0), there shall | | | | | | | | | | be no time | | | | | | | | | | shifting | | | | | | | | | | access. | | | | | | | | +---------------+-----------------+----+----+----+----+----+----+----+
The BM-SC starts the streaming session when the session state becomes active.
When the BM-SC adds FEC redundancy, then the BM-SC may start the ingest
session sufficiently earlier.
When the Session Type is set to \"Application\", then the additional
properties as defined in Table 5.4-4 apply. The properties in Table 5.4-4 are
only present when the Session Type is set to \"Application\".
Table 5.4-4: Additional properties for Application, incl. DASH Service
Descriptions
+-----------------+-----------------+----+----+----+----+----+----+----+ | Property Name | Property | CI | CO | GI | G\ | U\ | U\ | T\ | | | Description | | | | O | I | O | I | +-----------------+-----------------+----+----+----+----+----+----+----+ | Application | MIME type of | | | | M | O | | | | Service | the Application | | | | | | | | | Description | Service, for | | | | | | | | | | example | | | | | | | | | | appli | | | | | | | | | | cation/dash+xml | | | | | | | | | | for DASH or | | | | | | | | | | application/vn | | | | | | | | | | d.apple.mpegurl | | | | | | | | | | for HLS. | | | | | | | | | | | | | | | | | | | | -------- ---- | | | | | | | | | | ------- ------- | | | | | | | | | | --------------- | | | | | | | | | | Type Unit | | | | | | | | | | Default | | | | | | | | | | String MI | | | | | | | | | | ME type appli | | | | | | | | | | cation/dash+xml | | | | | | | | | | -------- ---- | | | | | | | | | | ------- ------- | | | | | | | | | | --------------- | | | | | | | | +-----------------+-----------------+----+----+----+----+----+----+----+ | Alternative | Alternative | | | | O | O | | | | App | MIME type of | | | | | | | | | licationService | the Application | | | | | | | | | Description | Service, for | | | | | | | | | | services which | | | | | | | | | | can be | | | | | | | | | | described by | | | | | | | | | | different MIME | | | | | | | | | | types, as | | | | | | | | | | DASH/HLS hybrid | | | | | | | | | | services. | | | | | | | | | | | | | | | | | | | | This parameter | | | | | | | | | | is only used | | | | | | | | | | for DASH/HLS | | | | | | | | | | hybrid | | | | | | | | | | services. | | | | | | | | | | | | | | | | | | | | | | | | | | | | | | -------- ------ | | | | | | | | | | ----- --------- | | | | | | | | | | Type Unit | | | | | | | | | | Default | | | | | | | | | | String M | | | | | | | | | | IME type \"\" | | | | | | | | | | | | | | | | | | | | -------- ------ | | | | | | | | | | ----- --------- | | | | | | | | +-----------------+-----------------+----+----+----+----+----+----+----+ | Ingest Mode | The ingest mode | | | | M | O | | | | | enumerates how | | | | | | | | | | resources are | | | | | | | | | | ingested into | | | | | | | | | | the BM-SC via | | | | | | | | | | xMB-U. | | | | | | | | | | | | | | | | | | | | **Pull** : The | | | | | | | | | | BM-SC pulls the | | | | | | | | | | resources as | | | | | | | | | | described by | | | | | | | | | | the application | | | | | | | | | | entry point | | | | | | | | | | document. | | | | | | | | | | | | | | | | | | | | **Push** : The | | | | | | | | | | content | | | | | | | | | | provider pushes | | | | | | | | | | resources. The | | | | | | | | | | BM-SC needs to | | | | | | | | | | provide a push | | | | | | | | | | URL. | | | | | | | | | | | | | | | | | | | | In case of | | | | | | | | | | DASH, resources | | | | | | | | | | are media | | | | | | | | | | segments: | | | | | | | | | | | | | | | | | | | | **Pull** : The | | | | | | | | | | BM-SC pulls the | | | | | | | | | | media segments | | | | | | | | | | as described by | | | | | | | | | | the segment | | | | | | | | | | availability | | | | | | | | | | start time from | | | | | | | | | | a DASH MPD. | | | | | | | | | | | | | | | | | | | | **Push** : The | | | | | | | | | | content | | | | | | | | | | provider pushes | | | | | | | | | | media segments, | | | | | | | | | | so that the | | | | | | | | | | media segment | | | | | | | | | | is available on | | | | | | | | | | the BM-SC | | | | | | | | | | according to | | | | | | | | | | segment | | | | | | | | | | availability | | | | | | | | | | start time. The | | | | | | | | | | BM-SC needs to | | | | | | | | | | provide a push | | | | | | | | | | URL. | | | | | | | | | | | | | | | | | | | | In the case of | | | | | | | | | | HLS, resources | | | | | | | | | | are media | | | | | | | | | | playlists and | | | | | | | | | | media segments: | | | | | | | | | | | | | | | | | | | | **Pull** : The | | | | | | | | | | BM-SC pulls the | | | | | | | | | | media playlists | | | | | | | | | | as described by | | | | | | | | | | the master | | | | | | | | | | playlist and | | | | | | | | | | pulls the media | | | | | | | | | | segments as | | | | | | | | | | described by | | | | | | | | | | the pulled | | | | | | | | | | media | | | | | | | | | | playlists. | | | | | | | | | | | | | | | | | | | | **Push** : The | | | | | | | | | | content | | | | | | | | | | provider pushes | | | | | | | | | | media playlists | | | | | | | | | | and media | | | | | | | | | | segments. The | | | | | | | | | | BM-SC needs to | | | | | | | | | | provide a push | | | | | | | | | | URL. | | | | | | | | | | | | | | | | | | | | In the case of | | | | | | | | | | a DASH/HLS | | | | | | | | | | hybrid service, | | | | | | | | | | resources are | | | | | | | | | | HLS media | | | | | | | | | | playlists and | | | | | | | | | | DASH/HLS media | | | | | | | | | | segments. Only | | | | | | | | | | the Push mode | | | | | | | | | | is authorized. | | | | | | | | | | | | | | | | | | | | **Push** : The | | | | | | | | | | content | | | | | | | | | | provider pushes | | | | | | | | | | HLS media | | | | | | | | | | playlists and | | | | | | | | | | media segments. | | | | | | | | | | The BM-SC needs | | | | | | | | | | to provide a | | | | | | | | | | push URL. | | | | | | | | | | | | | | | | | | | | -------- - | | | | | | | | | | ----- --------- | | | | | | | | | | Type | | | | | | | | | | Unit Default | | | | | | | | | | Strin | | | | | | | | | | g None Push | | | | | | | | | | -------- - | | | | | | | | | | ----- --------- | | | | | | | | +-----------------+-----------------+----+----+----+----+----+----+----+ | Application | The application | | | | M | O | | | | Entry Point URL | entry point | | | | | | | | | | refers to an | | | | | | | | | | MPD when | | | | | | | | | | Application | | | | | | | | | | Service | | | | | | | | | | Description | | | | | | | | | | pertains to | | | | | | | | | | DASH or to a | | | | | | | | | | master playlist | | | | | | | | | | when | | | | | | | | | | Application | | | | | | | | | | Service | | | | | | | | | | Description | | | | | | | | | | pertains to | | | | | | | | | | HLS. | | | | | | | | | | | | | | | | | | | | When the Ingest | | | | | | | | | | Mode is set to | | | | | | | | | | **Push** for a | | | | | | | | | | DASH service,, | | | | | | | | | | then the MPD | | | | | | | | | | Url refers to a | | | | | | | | | | DASH MPD which | | | | | | | | | | should be | | | | | | | | | | fetched, | | | | | | | | | | optionally | | | | | | | | | | conditioned and | | | | | | | | | | inserted into | | | | | | | | | | Service | | | | | | | | | | Announcement. | | | | | | | | | | | | | | | | | | | | When the Ingest | | | | | | | | | | Mode is set to | | | | | | | | | | **Push** for a | | | | | | | | | | HLS service, | | | | | | | | | | then the master | | | | | | | | | | playlist Url | | | | | | | | | | refers to a HLS | | | | | | | | | | master playlist | | | | | | | | | | which should be | | | | | | | | | | fetched, | | | | | | | | | | optionally | | | | | | | | | | conditioned and | | | | | | | | | | inserted into | | | | | | | | | | Service | | | | | | | | | | Announcement. | | | | | | | | | | | | | | | | | | | | When the Ingest | | | | | | | | | | Mode is set to | | | | | | | | | | **Pull** , then | | | | | | | | | | the BM-SC | | | | | | | | | | starts fetching | | | | | | | | | | the segments | | | | | | | | | | using unicast. | | | | | | | | | | | | | | | | | | | | -------- - | | | | | | | | | | ----- --------- | | | | | | | | | | Type | | | | | | | | | | Unit Default | | | | | | | | | | Strin | | | | | | | | | | g None \"\" | | | | | | | | | | -------- - | | | | | | | | | | ----- --------- | | | | | | | | | | | | | | | | | | | | Note that if | | | | | | | | | | not set to a | | | | | | | | | | valid URL, the | | | | | | | | | | session will | | | | | | | | | | not be started. | | | | | | | | +-----------------+-----------------+----+----+----+----+----+----+----+ | Alternative | The alternative | | | | O | O | | | | Application | application | | | | | | | | | Entry Point URL | Entry Point | | | | | | | | | | provides the | | | | | | | | | | application | | | | | | | | | | entry point | | | | | | | | | | with repect to | | | | | | | | | | the MIME type | | | | | | | | | | given by the | | | | | | | | | | Alternative | | | | | | | | | | Service | | | | | | | | | | Description | | | | | | | | | | parameter. | | | | | | | | | | | | | | | | | | | | This parameter | | | | | | | | | | is only used | | | | | | | | | | for DASH/HLS | | | | | | | | | | hybrid | | | | | | | | | | services. | | | | | | | | | | | | | | | | | | | | -------- - | | | | | | | | | | ----- --------- | | | | | | | | | | Type | | | | | | | | | | Unit Default | | | | | | | | | | Strin | | | | | | | | | | g None \"\" | | | | | | | | | | -------- - | | | | | | | | | | ----- --------- | | | | | | | | | | | | | | | | | | | | Note that if | | | | | | | | | | not set to a | | | | | | | | | | valid URL, the | | | | | | | | | | session will | | | | | | | | | | not be started. | | | | | | | | | | | | | | | | | | | | The alternative | | | | | | | | | | application | | | | | | | | | | Entry Point | | | | | | | | | | should be added | | | | | | | | | | to the service | | | | | | | | | | Announcement. | | | | | | | | +-----------------+-----------------+----+----+----+----+----+----+----+ | Push URL | A resource | | | | O | | | | | | locator for | | | | | | | | | | ingesting media | | | | | | | | | | segments using | | | | | | | | | | HTTPS via | | | | | | | | | | xMB-U. The | | | | | | | | | | content | | | | | | | | | | provider may | | | | | | | | | | create | | | | | | | | | | additional | | | | | | | | | | sub-resources | | | | | | | | | | using WebDAV | | | | | | | | | | procedures. | | | | | | | | | | | | | | | | | | | | This is a | | | | | | | | | | read-only | | | | | | | | | | property | | | | | | | | | | managed by the | | | | | | | | | | BM-SC and only | | | | | | | | | | present when | | | | | | | | | | Ingest Mode is | | | | | | | | | | set to Push. | | | | | | | | | | | | | | | | | | | | -------- - | | | | | | | | | | ----- --------- | | | | | | | | | | Type | | | | | | | | | | Unit Default | | | | | | | | | | Strin | | | | | | | | | | g None \"\" | | | | | | | | | | -------- - | | | | | | | | | | ----- --------- | | | | | | | | | | | | | | | | | | | | This property | | | | | | | | | | is mandatory if | | | | | | | | | | the Session | | | | | | | | | | type is set to | | | | | | | | | | **Application** | | | | | | | | | | and Ingest Mode | | | | | | | | | | is set to | | | | | | | | | | **Push**. | | | | | | | | +-----------------+-----------------+----+----+----+----+----+----+----+ | Unicast | Indicator | | | | M | O | | | | Delivery | whether the | | | | | | | | | | content is also | | | | | | | | | | available for | | | | | | | | | | unicast | | | | | | | | | | retrieval. | | | | | | | | | | | | | | | | | | | | --------- - | | | | | | | | | | ----- --------- | | | | | | | | | | Type | | | | | | | | | | Unit Default | | | | | | | | | | Boolean | | | | | | | | | | None False | | | | | | | | | | --------- - | | | | | | | | | | ----- --------- | | | | | | | | +-----------------+-----------------+----+----+----+----+----+----+----+ | Components | List of | | | | O | O | | | | | Components of | | | | | | | | | | the | | | | | | | | | | application, | | | | | | | | | | which are | | | | | | | | | | recommended to | | | | | | | | | | be made | | | | | | | | | | available on | | | | | | | | | | MBMS Bearers. | | | | | | | | | | | | | | | | | | | | If the value of | | | | | | | | | | the Application | | | | | | | | | | Service | | | | | | | | | | Description | | | | | | | | | | parameter is | | | | | | | | | | set to | | | | | | | | | | \"applicat | | | | | | | | | | ion/dash+xml\", | | | | | | | | | | each component | | | | | | | | | | is identified | | | | | | | | | | by a | | | | | | | | | | representation | | | | | | | | | | identifier. | | | | | | | | | | | | | | | | | | | | If the value of | | | | | | | | | | the Application | | | | | | | | | | Service | | | | | | | | | | Description | | | | | | | | | | parameter is | | | | | | | | | | set to | | | | | | | | | | \"ap | | | | | | | | | | plication/vnd.a | | | | | | | | | | pple.mpegurl\", | | | | | | | | | | each component | | | | | | | | | | is identified | | | | | | | | | | by the URL of | | | | | | | | | | the Media | | | | | | | | | | Playlist. | | | | | | | | | | | | | | | | | | | | ------ | | | | | | | | | | ---------- ---- | | | | | | | | | | -- ------------ | | | | | | | | | | T | | | | | | | | | | ype | | | | | | | | | | Unit Default | | | | | | | | | | List | | | | | | | | | | of String No | | | | | | | | | | ne Empty list | | | | | | | | | | ------ | | | | | | | | | | ---------- ---- | | | | | | | | | | -- ------------ | | | | | | | | +-----------------+-----------------+----+----+----+----+----+----+----+
When the Session Type is set to \"Files\", then the additional properties as
defined in Table 5.4-5 apply. The properties in Table 5.4-5 are only present
when the Session Type is set to \"Files\".
Table 5.4-5: Additional properties for Files
+-----------------+-----------------+----+----+----+----+----+----+----+ | Property Name | Property | C\ | C\ | G\ | G\ | U\ | U\ | T\ | | | Description | I | O | I | O | I | O | I | +-----------------+-----------------+----+----+----+----+----+----+----+ | Ingest Mode | The ingest mode | | | | M | O | | | | | enumerates how | | | | | | | | | | resources are | | | | | | | | | | ingested into | | | | | | | | | | the BM-SC via | | | | | | | | | | xMB-U. | | | | | | | | | | | | | | | | | | | | **\- Push** : The | | | | | | | | | | Content | | | | | | | | | | Provider shall | | | | | | | | | | push the file | | | | | | | | | | to the BM-SC | | | | | | | | | | that will | | | | | | | | | | immediately | | | | | | | | | | process and | | | | | | | | | | deliver as soon | | | | | | | | | | as it is ready. | | | | | | | | | | The BM-SC may | | | | | | | | | | be configured | | | | | | | | | | to ignore all | | | | | | | | | | files that are | | | | | | | | | | pushed before | | | | | | | | | | session active | | | | | | | | | | time, or stage | | | | | | | | | | them. In case | | | | | | | | | | of Push mode, | | | | | | | | | | the BM-SC shall | | | | | | | | | | provide back to | | | | | | | | | | the content | | | | | | | | | | provider the | | | | | | | | | | URL the Content | | | | | | | | | | Provider shall | | | | | | | | | | use to push the | | | | | | | | | | files. | | | | | | | | | | | | | | | | | | | | **\- Pull** : In | | | | | | | | | | this case, the | | | | | | | | | | Content | | | | | | | | | | Provider | | | | | | | | | | provides the | | | | | | | | | | resource | | | | | | | | | | location from | | | | | | | | | | which the BM-SC | | | | | | | | | | will fetch the | | | | | | | | | | file. The | | | | | | | | | | Content | | | | | | | | | | Provider may | | | | | | | | | | tell the BM-SC | | | | | | | | | | when to start | | | | | | | | | | fetching the | | | | | | | | | | file | | | | | | | | | | | | | | | | | | | | -------- - | | | | | | | | | | ----- --------- | | | | | | | | | | Type | | | | | | | | | | Unit Default | | | | | | | | | | Strin | | | | | | | | | | g None Pull | | | | | | | | | | -------- - | | | | | | | | | | ----- --------- | | | | | | | | +-----------------+-----------------+----+----+----+----+----+----+----+ | File List | List of files | | | | O | O | | | | | to be sent. | | | | | | | | | | | | | | | | | | | | In the **Push** | | | | | | | | | | mode, the file | | | | | | | | | | list is not | | | | | | | | | | used since the | | | | | | | | | | BM-SC will | | | | | | | | | | monitor its | | | | | | | | | | push folder and | | | | | | | | | | send the files | | | | | | | | | | it receives on | | | | | | | | | | a first-come | | | | | | | | | | first-served | | | | | | | | | | basis. | | | | | | | | | | | | | | | | | | | | In **Pull** | | | | | | | | | | mode, the file | | | | | | | | | | list contains | | | | | | | | | | the following | | | | | | | | | | information per | | | | | | | | | | file entry: | | | | | | | | | | | | | | | | | | | | **\- file URL** : | | | | | | | | | | the URL to the | | | | | | | | | | file the BM-SC | | | | | | | | | | will use to | | | | | | | | | | fetch the | | | | | | | | | | content | | | | | | | | | | | | | | | | | | | | **\- file | | | | | | | | | | display UR** L: | | | | | | | | | | the URL to the | | | | | | | | | | file as seen by | | | | | | | | | | the UE | | | | | | | | | | | | | | | | | | | | **\- file | | | | | | | | | | earliest fetch | | | | | | | | | | time** : The | | | | | | | | | | BM-SC shall | | | | | | | | | | fetch the file | | | | | | | | | | no sooner than | | | | | | | | | | this UTC | | | | | | | | | | timestamp. If | | | | | | | | | | absent, then | | | | | | | | | | the file shall | | | | | | | | | | be present on | | | | | | | | | | the Content | | | | | | | | | | Provider server | | | | | | | | | | and the BM-SC | | | | | | | | | | may fetch it at | | | | | | | | | | a time of its | | | | | | | | | | choosing. | | | | | | | | | | | | | | | | | | | | **\- file latest | | | | | | | | | | fetch time** : | | | | | | | | | | The BM-SC shall | | | | | | | | | | fetch the file | | | | | | | | | | no later than | | | | | | | | | | this UTC | | | | | | | | | | timestamp. If | | | | | | | | | | absent, then | | | | | | | | | | the file shall | | | | | | | | | | be present on | | | | | | | | | | the Content | | | | | | | | | | Provider server | | | | | | | | | | and the BM-SC | | | | | | | | | | may fetch it at | | | | | | | | | | a time of its | | | | | | | | | | choosing. | | | | | | | | | | | | | | | | | | | | **\- file size | | | | | | | | | | (optional):** | | | | | | | | | | The content | | | | | | | | | | provider may | | | | | | | | | | provide the | | | | | | | | | | precise or a | | | | | | | | | | file size | | | | | | | | | | estimate as | | | | | | | | | | input. The | | | | | | | | | | BM-SC may | | | | | | | | | | update the file | | | | | | | | | | size once it | | | | | | | | | | has started to | | | | | | | | | | fetch the file. | | | | | | | | | | | | | | | | | | | | **\- file | | | | | | | | | | status:** | | | | | | | | | | Enumeration | | | | | | | | | | stating the | | | | | | | | | | state of the | | | | | | | | | | file. Possible | | | | | | | | | | values are | | | | | | | | | | pending, | | | | | | | | | | fetching, | | | | | | | | | | fetched, fetch | | | | | | | | | | failed, | | | | | | | | | | preparing, | | | | | | | | | | prepared, | | | | | | | | | | prepare failed, | | | | | | | | | | in transmission | | | | | | | | | | queue, | | | | | | | | | | transmitting, | | | | | | | | | | transmission | | | | | | | | | | failed, sent. | | | | | | | | | | | | | | | | | | | | **\- Target | | | | | | | | | | reception | | | | | | | | | | completion time | | | | | | | | | | (on the MBMS | | | | | | | | | | Client):** hint | | | | | | | | | | on the target | | | | | | | | | | time, when the | | | | | | | | | | file should be | | | | | | | | | | completely | | | | | | | | | | received by the | | | | | | | | | | UE. The BM-SC | | | | | | | | | | should schedule | | | | | | | | | | and order the | | | | | | | | | | transmission | | | | | | | | | | etc | | | | | | | | | | accordingly. | | | | | | | | | | | | | | | | | | | | **\- Keep Update | | | | | | | | | | Interval:** The | | | | | | | | | | BM-SC checks | | | | | | | | | | the file | | | | | | | | | | resources with | | | | | | | | | | the given | | | | | | | | | | interval for | | | | | | | | | | changes. | | | | | | | | | | | | | | | | | | | | **\- Unicast | | | | | | | | | | availability** : | | | | | | | | | | Indication that | | | | | | | | | | the file is | | | | | | | | | | also available | | | | | | | | | | for unicast | | | | | | | | | | retrieval by | | | | | | | | | | the application | | | | | | | | | | at a Content | | | | | | | | | | Provider server | | | | | | | | | | whose location | | | | | | | | | | is given by the | | | | | | | | | | HTTP(S) URL | | | | | | | | | | corresponding | | | | | | | | | | to the value of | | | | | | | | | | \"file display | | | | | | | | | | URL\". | | | | | | | | | | | | | | | | | | | | **\- byteRange | | | | | | | | | | (optional):** | | | | | | | | | | If present and | | | | | | | | | | set to "true", | | | | | | | | | | indicates that | | | | | | | | | | the HTTP(S) URL | | | | | | | | | | given in the | | | | | | | | | | fileDisplayURL | | | | | | | | | | parameter can | | | | | | | | | | be used for | | | | | | | | | | B | | | | | | | | | | yte-Range-Based | | | | | | | | | | file repair | | | | | | | | | | (subclause 9.3) | | | | | | | | | | otherwise | | | | | | | | | | fileDisplayURL | | | | | | | | | | parameter | | | | | | | | | | should not be | | | | | | | | | | used for | | | | | | | | | | B | | | | | | | | | | yte-Range-Based | | | | | | | | | | file repair | | | | | | | | | | | | | | | | | | | | **\- ETag | | | | | | | | | | (optional):** | | | | | | | | | | represents the | | | | | | | | | | value of the | | | | | | | | | | ETag as defined | | | | | | | | | | in RFC 2616 | | | | | | | | | | [18] which | | | | | | | | | | may also serve | | | | | | | | | | as the version | | | | | | | | | | identifier for | | | | | | | | | | the file in the | | | | | | | | | | B | | | | | | | | | | yte-Range-Based | | | | | | | | | | file repair | | | | | | | | | | requests. The | | | | | | | | | | ETag should | | | | | | | | | | only be | | | | | | | | | | supplied by the | | | | | | | | | | 3rd party | | | | | | | | | | content | | | | | | | | | | provider if it | | | | | | | | | | is expected | | | | | | | | | | that it is | | | | | | | | | | different from | | | | | | | | | | the one | | | | | | | | | | provided over | | | | | | | | | | xMB-U when | | | | | | | | | | fetching the | | | | | | | | | | file. | | | | | | | | | | | | | | | | | | | | **\- File | | | | | | | | | | repetition | | | | | | | | | | (optional):** | | | | | | | | | | The number of | | | | | | | | | | times the file | | | | | | | | | | shall be sent | | | | | | | | | | on the session | | | | | | | | | | (a value of 1 | | | | | | | | | | means the file | | | | | | | | | | shall be sent | | | | | | | | | | only once). | | | | | | | | | | This counter | | | | | | | | | | shall be | | | | | | | | | | decreased each | | | | | | | | | | time the file | | | | | | | | | | has been | | | | | | | | | | transmitted. | | | | | | | | | | When equals to | | | | | | | | | | zero, no more | | | | | | | | | | file repeat is | | | | | | | | | | scheduled. The | | | | | | | | | | BM-SC may send | | | | | | | | | | FEC instead of | | | | | | | | | | source | | | | | | | | | | information. | | | | | | | | | | Default value | | | | | | | | | | is 1. | | | | | | | | | | | | | | | | | | | | - Note that | | | | | | | | | | the expected | | | | | | | | | | behavior is | | | | | | | | | | that the BM-SC | | | | | | | | | | will first send | | | | | | | | | | all files in | | | | | | | | | | the order of | | | | | | | | | | the File List, | | | | | | | | | | then decrement | | | | | | | | | | the file | | | | | | | | | | repetition | | | | | | | | | | counter for | | | | | | | | | | each file, and | | | | | | | | | | subsequently | | | | | | | | | | retransmit the | | | | | | | | | | list again | | | | | | | | | | (only files | | | | | | | | | | with counter > | | | | | | | | | | 0 are | | | | | | | | | | transmitted). | | | | | | | | | | This is | | | | | | | | | | repeated until | | | | | | | | | | all repetitions | | | | | | | | | | are completed, | | | | | | | | | | or the session | | | | | | | | | | stop time has | | | | | | | | | | elapsed, | | | | | | | | | | whichever event | | | | | | | | | | occurring | | | | | | | | | | first. | | | | | | | | +-----------------+-----------------+----+----+----+----+----+----+----+ | Carousel Mode | Provides | | | | O | O | | | | | information on | | | | | | | | | | carousel | | | | | | | | | | activation and | | | | | | | | | | mode. Possible | | | | | | | | | | values are | | | | | | | | | | none, | | | | | | | | | | back-to-back, | | | | | | | | | | scheduled. | | | | | | | | | | | | | | | | | | | | When carousel | | | | | | | | | | is enabled, | | | | | | | | | | file repetition | | | | | | | | | | is ignored. | | | | | | | | | | | | | | | | | | | | -------- - | | | | | | | | | | ----- --------- | | | | | | | | | | Type | | | | | | | | | | Unit Default | | | | | | | | | | Strin | | | | | | | | | | g None none | | | | | | | | | | -------- - | | | | | | | | | | ----- --------- | | | | | | | | +-----------------+-----------------+----+----+----+----+----+----+----+ | Carousel | When carousel | | | | O | O | | | | Scheduled | mode is set to | | | | | | | | | Interval | Scheduled, time | | | | | | | | | | interval | | | | | | | | | | between two | | | | | | | | | | consecutive | | | | | | | | | | sessions. | | | | | | | | | | | | | | | | | | | | | | | | | | | | | | --------- ---- | | | | | | | | | | ----- --------- | | | | | | | | | | Type Un | | | | | | | | | | it Default | | | | | | | | | | Integer | | | | | | | | | | Seconds 3600 | | | | | | | | | | | | | | | | | | | | --------- ---- | | | | | | | | | | ----- --------- | | | | | | | | +-----------------+-----------------+----+----+----+----+----+----+----+ | File delivery | Alternative to | | | | O | O | | | | manifest URL | the file list. | | | | | | | | | | The resource | | | | | | | | | | may | | | | | | | | | | additionally | | | | | | | | | | describe | | | | | | | | | | scheduling | | | | | | | | | | information for | | | | | | | | | | the file. | | | | | | | | | | | | | | | | | | | | -------- - | | | | | | | | | | ----- --------- | | | | | | | | | | Type | | | | | | | | | | Unit Default | | | | | | | | | | Strin | | | | | | | | | | g None \"\" | | | | | | | | | | -------- - | | | | | | | | | | ----- --------- | | | | | | | | +-----------------+-----------------+----+----+----+----+----+----+----+ | Push URL | A resource | | | | O | | | | | | locator for | | | | | | | | | | ingesting | | | | | | | | | | content using | | | | | | | | | | HTTPS via | | | | | | | | | | xMB-U. | | | | | | | | | | | | | | | | | | | | This is a | | | | | | | | | | read-only | | | | | | | | | | property | | | | | | | | | | managed by the | | | | | | | | | | BM-SC and only | | | | | | | | | | present when | | | | | | | | | | Ingest Mode is | | | | | | | | | | set to Push. | | | | | | | | | | | | | | | | | | | | -------- - | | | | | | | | | | ----- --------- | | | | | | | | | | Type | | | | | | | | | | Unit Default | | | | | | | | | | Strin | | | | | | | | | | g None \"\" | | | | | | | | | | -------- - | | | | | | | | | | ----- --------- | | | | | | | | +-----------------+-----------------+----+----+----+----+----+----+----+ | Display Base | When ingest | | | | O | O | | | | URL | mode is set to | | | | | | | | | | Push, the Base | | | | | | | | | | URL is seen by | | | | | | | | | | the UE. | | | | | | | | | | | | | | | | | | | | -------- - | | | | | | | | | | ----- --------- | | | | | | | | | | Type | | | | | | | | | | Unit Default | | | | | | | | | | Strin | | | | | | | | | | g None \"\" | | | | | | | | | | -------- - | | | | | | | | | | ----- --------- | | | | | | | | +-----------------+-----------------+----+----+----+----+----+----+----+ | SA file URL | When the | | | | O | | | | | | service | | | | | | | | | | announcement | | | | | | | | | | mode is set to | | | | | | | | | | \"Content | | | | | | | | | | provider\", the | | | | | | | | | | BM-SC returns | | | | | | | | | | the URL of the | | | | | | | | | | SA file | | | | | | | | | | announcing the | | | | | | | | | | session. The | | | | | | | | | | BM-SC shall | | | | | | | | | | follow the | | | | | | | | | | profile 1c | | | | | | | | | | (Annex L.3 of | | | | | | | | | | 3GPP 26.346 | | | | | | | | | | [2]) | | | | | | | | +-----------------+-----------------+----+----+----+----+----+----+----+
For the xMB mission critical extension, the additional properties as defined
in Table 5.4-6 apply. The properties _TMGI_ and _QoSâ€‘Information_ in Table
5.4-6 are only present when the _MC-Extension_ property is set to true.
Table 5.4-6: Additional properties in the xMB mission critical extension
+-----------------+-----------------+----+----+----+----+----+----+----+ | Property Name | Property | C\ | C\ | G\ | G\ | U\ | U\ | T\ | | | Description | I | O | I | O | I | O | I | +-----------------+-----------------+----+----+----+----+----+----+----+ | MC-Extension | (Optional) Set | O | | | O | | | | | | to true to use | | | | | | | | | | the mission | | | | | | | | | | critical | | | | | | | | | | extension. | | | | | | | | | | | | | | | | | | | | --------- - | | | | | | | | | | ----- --------- | | | | | | | | | | Type | | | | | | | | | | Unit Default | | | | | | | | | | Boolean | | | | | | | | | | None False | | | | | | | | | | --------- - | | | | | | | | | | ----- --------- | | | | | | | | +-----------------+-----------------+----+----+----+----+----+----+----+ | TMGI | TMGI of the | | | | M | | | | | | MBMS session, | | | | | | | | | | as returned by | | | | | | | | | | the MBMS | | | | | | | | | | Session start | | | | | | | | | | procedure (3GPP | | | | | | | | | | TS 29.061 | | | | | | | | | | [13]). | | | | | | | | +-----------------+-----------------+----+----+----+----+----+----+----+ | QoSâ€‘Information | Provides the | | | | M | O | | | | | QoS parameters | | | | | | | | | | for the MBMS | | | | | | | | | | bearer. The | | | | | | | | | | list of QoS | | | | | | | | | | parameters | | | | | | | | | | matches the | | | | | | | | | | composition of | | | | | | | | | | the QoS | | | | | | | | | | Information AVP | | | | | | | | | | specified in | | | | | | | | | | 3GPP TS 29.468 | | | | | | | | | | [14]: GBR, | | | | | | | | | | ARP, QCI. | | | | | | | | | | | | | | | | | | | | The difference | | | | | | | | | | between the | | | | | | | | | | **Max Bitrate** | | | | | | | | | | (Table 5.4-1) | | | | | | | | | | and GBR can be | | | | | | | | | | used by the | | | | | | | | | | BM-SC as a | | | | | | | | | | budget for FEC. | | | | | | | | +-----------------+-----------------+----+----+----+----+----+----+----+
### 5.4.7 Geographical area for mission critical services
The BM-SC derives the MBMS Service Area and the SAI list for the availability
information from the Geographical Area property, provided as a list of strings
by the content provider. How the derivation is done is left to a business
agreement between the content provider and the operator, as specified in Table
5.4-1.
This subclause specifies syntax and semantic for the geographical area, when
the _MC-Extension_ property is set to true.
A string included in the Geographical Area property represent either a MBMS
service area or a cell id, according the following syntax, in ABNF [15]:
geographical_area_string = cell_string / sai_string
cell_string = \"ECGI-\" 1*HEXDIG; Hexadecimal representation of an ECGI
sai_string = \"SAI-\" 1*DIGIT; MBMS SAI
If the Geographical Area property contains both a list of cells and a list of
MBMS service areas, then the provided MBMS service areas shall be a complete
set of the MBMS service areas that contains all the provided cells.
If the Geographical Area property contains only a list of cells, the BM-SC
shall derive the list of MBMS service areas from the list of cells based on
operator policy.
The BM-SC shall provide the list of MBMS service areas and the list of cells
in the Session Start procedure defined in 3GPP TS 23.246 [16].
## 5.5 User Plane Procedures
### 5.5.1 Introduction
The xMB-U user plane procedures cover the transmission of service data from
the content provider to the BM-SC. Only authorized and authenticated content
provider sources shall be able to ingest user plane data over xMB-U to the BM-
SC. The following data transfer modes are supported:
\- File Push: the content provider uploads or transmits files to the BM-SC
either as soon as they become available, or in advance.
\- File Pull: the content provider makes files available prior to the session
start and at least during the lifetime of a session. The BM-SC will retrieve
the files when it needs to deliver them.
\- RTP Streaming: the BM-SC establishes an RTSP session to the content
provider and starts the streaming session to relay media streams.
\- Transport: the BM-SC listens on one IP address and one port number to
receive UDP packets.
The details of these procedures are provided in the following clauses.
### 5.5.2 File Distribution
Provisioning files for file distribution shall use one of the following
options:
\- WebDAV as described in RFC 4918 [7] over HTTP over TLS. The Content
Provider shall provide an authorization access token with every HTTPS
transaction.
\- HTTP over TLS for file retrieval. The BM-SC shall use at least HTTP Version
1.1.
The content provider shall ensure that content is available at the BM-SC prior
to its scheduled transmission time. For instance, for DASH segments, the
segment shall be pushed to the BM-SC considering the timing requirements
indicated in the MPD. For HLS segments, the segments shall be pushed to the
BM-SC prior to their inclusion in a Media Playlist available to the BM-SC.
Also for all files that are declared as part of the file list of a session,
all declared files shall be available before their indicated availability
time, or if not provided, prior to the session start.
As an alternative to providing the properties and transport-related
requirements of a file-based service, for delivery over the MBMS bearer
service, via the \'File List\' property of the \'Session\' resource in
subclause 5.4.6, the Content Provider may elect to convey the same information
via the File Delivery Manifest, as described in clause 5.6.
### 5.5.3 RTP Streaming
The content provider shall support PSS server functionality according to PSS
as described in Clause 5.3 of 3GPP TS 26.234 [3]. The streaming session shall
be accessible prior to the start of the session. When the user plane data is
provided via UDP, then SRTP over DTLS [6] shall be used for user plane
protection. Establishment of TCP based user plane sessions with PSS is not
supported.
### 5.5.4 Transport
For Transport sessions, the BM-SC shall activate the receivers on the
indicated IP address and port number. All traffic shall use DTLS as specified
in RFC 4347 [6] where both client and server certificates are verified.
### 5.5.5 Notification Messages
When the content provider wants to receive notifications, then the content
provider shall provide a HTTPS URL using which the BM-SC will send, via push
delivery, service and session related notification to the content provider.
The BM-SC shall use HTTPS to send notifications to the content provider. The
content of the notification message shall be provided as part of the body part
of the HTTP message. Upon successful reception, the content provider shall
reply with a 200 OK response.
The format of the notification message shall contain the following parameters,
the corresponding details of which are specified in Table 5.5-1:
\- Message Name (String): The unique identifier of the message.
\- Message Class (enumeration): Enumeration with the following values (may be
expanded in the future):
\- **Critical:** When some event drastically prevent the proper delivery of
content, such as when the network is down, the data ingestion is interrupted,
BM-SC data delivery function stopped, ....
\- **Warning:** When the service can be partially delivered but quality is
reduced. The reason can be that the service is partly down because the data
bitrate is too high, the packet loss rate is too high, ...
\- **Information:** When the service is properly delivered but some
interesting event occurred. The reason can be the presence of reporting
information for the service, the correct transmission of the service
announcement.
\- **Session/Service:** Service/Session related parameters, such as
service/session started, service/session terminated, Content file send, file
fetching error, etc.
\- Message Information (Dictionary): A dictionary of key values containing
information linked to the notification.
\- Message **Source** : The ids are stored in the key \"**source** \" in a
hierarchical dot separated format (e.g. Service 1 => \"1\", Session 2 of
service 3 => \"3.2\"). When Source is empty, then the notification is system
wide.
\- Message Information (Dictionary): A dictionary of key values containing
information linked to the notification. Common keys in the dictionary, which
shall be always present:
\- **Date:** Every message information dictionary contains the UTC timestamp
(in ms) of the date of the event, accessible using the key \"**date** \". It
also contains the ids of the service/session that triggered the message
(necessary since in PUSH mode, the URL will not contain such identifiers).
Table 5.5-1: List of Additional Notification Message
* * *
Message Class Message Name Additional Key Value Pairs Critical NetworkIsDown
-- None -- ServiceBadlyConfigured badOrMissingParameters: [ \,
..] SessionBadlyConfigured badOrMissingParameters: [ \, ..]
Warning IncomingBitrateExceedSessionCapacity incomingBitRate:\
NoIncomingData None
Information QoEReportAvailable None ConsumptionReportsAvailable None
ReceptionReportsAvailable None
Service ServiceAnnouncementChange (only when in session state Session
Announced or Session Active) None Session SessionStateChange Session State
Enumerates: Session Idle, Session Announced, Session Active, Session
Terminated FileReadyForTransmission (only when Session Type is \"Files\")
fileUrl:\, fileSize: \, transmission size: \
FileDownloadStarted (only when Session Type is \"Files\") fileUrl: \
FileSuccessfullySent (only when Session Type is \"Files\") fileUrl:\
FileFetchError fileUrl:\, httpErrorCode: \
* * *
## 5.6 File Delivery Manifest
### 5.6.1 General
File-based services originating from 3^rd^ party Content Providers may be
ingested over the xMB interface and delivered to UEs using the download
delivery method. This clause specifies the File Delivery Manifest, which
represents an alternative to the _FileList_ property and its subordinate
parameters of the "session" resource whose stage 2 text is described in
subclause 5.4.6.
### 5.6.2 File Delivery Manifest
The fields and description of the File Delivery Manifest, assuming such
document is delivered as a JSON-encoded document, are shown in Table 5.6-1.
Table 5.6-1: Description of File Delivery Manifest
+---------+---------+---------+---------+---------+-------+---------+ | Field | JSON | Default | Desc | | | | | Name | Value | | ription | | | | | | Type | | | | | | +---------+---------+---------+---------+---------+-------+---------+ | | | Child | Units | Value | | | | | | Pa | | | | | | | | rameter | | | | | +---------+---------+---------+---------+---------+-------+---------+ | | | | Child | | | | | | | | Pa | | | | | | | | rameter | | | | +---------+---------+---------+---------+---------+-------+---------+ | F | array | | | | | Co | | ileList | | | | | | ntainer | | | | | | | | for the | | | | | | | | set of | | | | | | | | files, | | | | | | | | for | | | | | | | | d | | | | | | | | elivery | | | | | | | | over | | | | | | | | MBMS, | | | | | | | | whose | | | | | | | | pro | | | | | | | | perties | | | | | | | | or | | | | | | | | tr | | | | | | | | ansport | | | | | | | | par | | | | | | | | ameters | | | | | | | | are | | | | | | | | given | | | | | | | | in the | | | | | | | | File | | | | | | | | D | | | | | | | | elivery | | | | | | | | Ma | | | | | | | | nifest. | | | | | | | | This | | | | | | | | field | | | | | | | | may | | | | | | | | contain | | | | | | | | the | | | | | | | | fo | | | | | | | | llowing | | | | | | | | child | | | | | | | | para | | | | | | | | meters: | | | | | | | | | | | | | | | | - | | | | | | | | fileURL | | | | | | | | | | | | | | | | - | | | | | | | | fileDis | | | | | | | | playURL | | | | | | | | | | | | | | | | - | | | | | | | | fileEar | | | | | | | | liestFe | | | | | | | | tchTime | | | | | | | | | | | | | | | | - | | | | | | | | fileL | | | | | | | | atestFe | | | | | | | | tchTime | | | | | | | | | | | | | | | | - | | | | | | | | f | | | | | | | | ileSize | | | | | | | | | | | | | | | | - | | | | | | | | t | | | | | | | | argetRe | | | | | | | | ception | | | | | | | | Complet | | | | | | | | ionTime | | | | | | | | | | | | | | | | - | | | | | | | | keepU | | | | | | | | pdatedI | | | | | | | | nterval | | | | | | | | | | | | | | | | - | | | | | | | | unica | | | | | | | | stAvail | | | | | | | | ability | | | | | | | | | | | | | | | | - | | | | | | | | by | | | | | | | | teRange | | | | | | | | | | | | | | | | - ETag | | | | | | | | | | | | | | | | - | | | | | | | | fileRep | | | | | | | | etition | +---------+---------+---------+---------+---------+-------+---------+ | | string | fileURL | - | - | - | In the | | | | | | | | case of | | | | | | | | pul | | | | | | | | l-based | | | | | | | | content | | | | | | | | ing | | | | | | | | estion, | | | | | | | | the | | | | | | | | r | | | | | | | | esource | | | | | | | | l | | | | | | | | ocation | | | | | | | | of the | | | | | | | | file, | | | | | | | | as an | | | | | | | | HTTP(S) | | | | | | | | URL, at | | | | | | | | the | | | | | | | | Content | | | | | | | | P | | | | | | | | rovider | | | | | | | | server | | | | | | | | from | | | | | | | | which | | | | | | | | the | | | | | | | | BM-SC | | | | | | | | can | | | | | | | | request | | | | | | | | the | | | | | | | | file. | +---------+---------+---------+---------+---------+-------+---------+ | | string | fileDis | - | - | - | HTTP(S) | | | | playURL | | | | URL of | | | | | | | | the | | | | | | | | file as | | | | | | | | p | | | | | | | | rovided | | | | | | | | to the | | | | | | | | MBM | | | | | | | | S-aware | | | | | | | | appli | | | | | | | | cation. | +---------+---------+---------+---------+---------+-------+---------+ | | integer | fileEar | - | UTC | - | In the | | | | liestFe | | time | | case of | | | | tchTime | | with | | pul | | | | | | secon | | l-based | | | | | | d-level | | content | | | | | | pr | | ing | | | | | | ecision | | estion, | | | | | | | | the | | | | | | | | a | | | | | | | | bsolute | | | | | | | | time, | | | | | | | | ex | | | | | | | | pressed | | | | | | | | as the | | | | | | | | 32-bit | | | | | | | | integer | | | | | | | | portion | | | | | | | | of an | | | | | | | | NTP | | | | | | | | time | | | | | | | | stamp, | | | | | | | | repre | | | | | | | | senting | | | | | | | | the | | | | | | | | e | | | | | | | | arliest | | | | | | | | time | | | | | | | | that | | | | | | | | the | | | | | | | | BM-SC | | | | | | | | can | | | | | | | | request | | | | | | | | the | | | | | | | | file | | | | | | | | from | | | | | | | | the | | | | | | | | Content | | | | | | | | P | | | | | | | | rovider | | | | | | | | server. | | | | | | | | Absence | | | | | | | | of this | | | | | | | | pa | | | | | | | | rameter | | | | | | | | is an | | | | | | | | ind | | | | | | | | ication | | | | | | | | that | | | | | | | | the | | | | | | | | BM-SC | | | | | | | | may | | | | | | | | submit | | | | | | | | a | | | | | | | | request | | | | | | | | for the | | | | | | | | file at | | | | | | | | a time | | | | | | | | of its | | | | | | | | ch | | | | | | | | oosing. | +---------+---------+---------+---------+---------+-------+---------+ | | integer | fileL | - | UTC | - | In the | | | | atestFe | | time | | case of | | | | tchTime | | with | | pul | | | | | | secon | | l-based | | | | | | d-level | | content | | | | | | pr | | ing | | | | | | ecision | | estion, | | | | | | | | the | | | | | | | | a | | | | | | | | bsolute | | | | | | | | time, | | | | | | | | ex | | | | | | | | pressed | | | | | | | | as the | | | | | | | | 32-bit | | | | | | | | integer | | | | | | | | portion | | | | | | | | of an | | | | | | | | NTP | | | | | | | | time | | | | | | | | stamp, | | | | | | | | repre | | | | | | | | senting | | | | | | | | the | | | | | | | | latest | | | | | | | | time | | | | | | | | that | | | | | | | | the | | | | | | | | BM-SC | | | | | | | | can | | | | | | | | request | | | | | | | | the | | | | | | | | file | | | | | | | | from | | | | | | | | the | | | | | | | | Content | | | | | | | | P | | | | | | | | rovider | | | | | | | | server. | | | | | | | | Absence | | | | | | | | of this | | | | | | | | pa | | | | | | | | rameter | | | | | | | | is an | | | | | | | | ind | | | | | | | | ication | | | | | | | | that | | | | | | | | the | | | | | | | | BM-SC | | | | | | | | may | | | | | | | | submit | | | | | | | | a | | | | | | | | request | | | | | | | | for the | | | | | | | | file at | | | | | | | | a time | | | | | | | | of its | | | | | | | | ch | | | | | | | | oosing. | +---------+---------+---------+---------+---------+-------+---------+ | | integer | f | - | bytes | - | Precise | | | | ileSize | | | | or | | | | | | | | es | | | | | | | | timated | | | | | | | | size of | | | | | | | | the | | | | | | | | file in | | | | | | | | units | | | | | | | | of | | | | | | | | bytes. | | | | | | | | If this | | | | | | | | pa | | | | | | | | rameter | | | | | | | | is | | | | | | | | absent, | | | | | | | | it | | | | | | | | means | | | | | | | | that | | | | | | | | the | | | | | | | | file | | | | | | | | size is | | | | | | | | not | | | | | | | | known | | | | | | | | to the | | | | | | | | Content | | | | | | | | Pr | | | | | | | | ovider. | +---------+---------+---------+---------+---------+-------+---------+ | | integer | t | - | UTC | - | A hint | | | | argetRe | | time | | from | | | | ception | | with | | the CP | | | | Complet | | secon | | to the | | | | ionTime | | d-level | | BM-SC | | | | | | pr | | on the | | | | | | ecision | | no | | | | | | | | minally | | | | | | | | e | | | | | | | | xpected | | | | | | | | time, | | | | | | | | ex | | | | | | | | pressed | | | | | | | | as the | | | | | | | | 32-bit | | | | | | | | integer | | | | | | | | portion | | | | | | | | of an | | | | | | | | NTP | | | | | | | | time | | | | | | | | stamp, | | | | | | | | at | | | | | | | | which | | | | | | | | the | | | | | | | | file | | | | | | | | should | | | | | | | | be | | | | | | | | com | | | | | | | | pletely | | | | | | | | r | | | | | | | | eceived | | | | | | | | by the | | | | | | | | MBMS | | | | | | | | client | | | | | | | | and | | | | | | | | made | | | | | | | | av | | | | | | | | ailable | | | | | | | | to the | | | | | | | | MBM | | | | | | | | S-aware | | | | | | | | appli | | | | | | | | cation. | | | | | | | | The | | | | | | | | BM-SC | | | | | | | | is | | | | | | | | e | | | | | | | | xpected | | | | | | | | to | | | | | | | | s | | | | | | | | chedule | | | | | | | | and | | | | | | | | order | | | | | | | | trans | | | | | | | | mission | | | | | | | | of the | | | | | | | | file in | | | | | | | | acc | | | | | | | | ordance | | | | | | | | to this | | | | | | | | att | | | | | | | | ribute. | | | | | | | | Absence | | | | | | | | of this | | | | | | | | pa | | | | | | | | rameter | | | | | | | | is an | | | | | | | | ind | | | | | | | | ication | | | | | | | | that | | | | | | | | there | | | | | | | | is no | | | | | | | | e | | | | | | | | xplicit | | | | | | | | requ | | | | | | | | irement | | | | | | | | by the | | | | | | | | CP on | | | | | | | | when | | | | | | | | the | | | | | | | | re | | | | | | | | ception | | | | | | | | of the | | | | | | | | file at | | | | | | | | the | | | | | | | | MBMS | | | | | | | | client | | | | | | | | should | | | | | | | | occur, | | | | | | | | other | | | | | | | | than it | | | | | | | | should | | | | | | | | not be | | | | | | | | earlier | | | | | | | | than | | | | | | | | _earli | | | | | | | | estRece | | | | | | | | ptionCo | | | | | | | | mpletio | | | | | | | | nTime_ , | | | | | | | | if | | | | | | | | p | | | | | | | | resent, | | | | | | | | in the | | | | | | | | File | | | | | | | | D | | | | | | | | elivery | | | | | | | | Ma | | | | | | | | nifest. | +---------+---------+---------+---------+---------+-------+---------+ | []{.und | integer | keepU | | milli | - | I | | erline} | | pdatedI | | seconds | | nterval | | | | nterval | | | | that | | | | | | | | the | | | | | | | | BM-SC | | | | | | | | is | | | | | | | | e | | | | | | | | xpected | | | | | | | | to | | | | | | | | check | | | | | | | | for | | | | | | | | update | | | | | | | | of the | | | | | | | | file if | | | | | | | | it | | | | | | | | belongs | | | | | | | | to a | | | | | | | | Keep- | | | | | | | | Updated | | | | | | | | S | | | | | | | | ervice. | +---------+---------+---------+---------+---------+-------+---------+ | | boolean | unica | - | - | false | Ind | | | | stAvail | | | | ication | | | | ability | | | | that | | | | | | | | the | | | | | | | | file is | | | | | | | | also | | | | | | | | av | | | | | | | | ailable | | | | | | | | for | | | | | | | | unicast | | | | | | | | acqu | | | | | | | | isition | | | | | | | | by the | | | | | | | | appl | | | | | | | | ication | | | | | | | | at a | | | | | | | | Content | | | | | | | | P | | | | | | | | rovider | | | | | | | | server | | | | | | | | whose | | | | | | | | l | | | | | | | | ocation | | | | | | | | is | | | | | | | | given | | | | | | | | by the | | | | | | | | HTTP(S) | | | | | | | | URL | | | | | | | | corres | | | | | | | | ponding | | | | | | | | to the | | | | | | | | value | | | | | | | | of the | | | | | | | | pa | | | | | | | | rameter | | | | | | | | [ | | | | | | | | ]{.und | | | | | | | | erline} | | | | | | | | _fi | | | | | | | | leDispl | | | | | | | | ayURL_[ | | | | | | | | .]{.und | | | | | | | | erline} | +---------+---------+---------+---------+---------+-------+---------+ | | boolean | by | -- | -- | false | If | | | | teRange | | | | present | | | | | | | | and set | | | | | | | | to | | | | | | | | "true", | | | | | | | | in | | | | | | | | dicates | | | | | | | | that | | | | | | | | the | | | | | | | | HTTP(S) | | | | | | | | URL | | | | | | | | given | | | | | | | | in the | | | | | | | | _f | | | | | | | | ileDisp | | | | | | | | layURL_ | | | | | | | | pa | | | | | | | | rameter | | | | | | | | can be | | | | | | | | used | | | | | | | | for | | | | | | | | By | | | | | | | | te-Rang | | | | | | | | e-Based | | | | | | | | file | | | | | | | | repair | | | | | | | | (su | | | | | | | | bclause | | | | | | | | 9.3) | | | | | | | | ot | | | | | | | | herwise | | | | | | | | _f | | | | | | | | ileDisp | | | | | | | | layURL_ | | | | | | | | pa | | | | | | | | rameter | | | | | | | | should | | | | | | | | not be | | | | | | | | used | | | | | | | | for | | | | | | | | By | | | | | | | | te-Rang | | | | | | | | e-Based | | | | | | | | file | | | | | | | | repair. | +---------+---------+---------+---------+---------+-------+---------+ | | string | ETag | -- | -- | -- | rep | | | | | | | | resents | | | | | | | | the | | | | | | | | value | | | | | | | | of the | | | | | | | | ETag as | | | | | | | | defined | | | | | | | | in RFC | | | | | | | | 2616 | | | | | | | | [18] | | | | | | | | which | | | | | | | | may | | | | | | | | also | | | | | | | | serve | | | | | | | | as the | | | | | | | | version | | | | | | | | ide | | | | | | | | ntifier | | | | | | | | for the | | | | | | | | file in | | | | | | | | the | | | | | | | | By | | | | | | | | te-Rang | | | | | | | | e-Based | | | | | | | | file | | | | | | | | repair | | | | | | | | re | | | | | | | | quests. | | | | | | | | | | | | | | | | The | | | | | | | | ETag | | | | | | | | should | | | | | | | | only be | | | | | | | | s | | | | | | | | upplied | | | | | | | | by the | | | | | | | | 3rd | | | | | | | | party | | | | | | | | content | | | | | | | | p | | | | | | | | rovider | | | | | | | | if it | | | | | | | | is | | | | | | | | e | | | | | | | | xpected | | | | | | | | that it | | | | | | | | is | | | | | | | | di | | | | | | | | fferent | | | | | | | | from | | | | | | | | the one | | | | | | | | p | | | | | | | | rovided | | | | | | | | over | | | | | | | | xMB-U | | | | | | | | when | | | | | | | | f | | | | | | | | etching | | | | | | | | the | | | | | | | | file. | +---------+---------+---------+---------+---------+-------+---------+ | | number | fileRep | - | - | - | The | | | | etition | | | | number | | | | | | | | of | | | | | | | | times | | | | | | | | the | | | | | | | | file | | | | | | | | shall | | | | | | | | be sent | | | | | | | | on the | | | | | | | | session | | | | | | | | (a | | | | | | | | value | | | | | | | | of 1 | | | | | | | | means | | | | | | | | the | | | | | | | | file | | | | | | | | shall | | | | | | | | be sent | | | | | | | | only | | | | | | | | once). | | | | | | | | This | | | | | | | | counter | | | | | | | | shall | | | | | | | | be | | | | | | | | decr | | | | | | | | emented | | | | | | | | each | | | | | | | | time | | | | | | | | the | | | | | | | | file | | | | | | | | has | | | | | | | | been | | | | | | | | trans | | | | | | | | mitted. | | | | | | | | When | | | | | | | | the | | | | | | | | counter | | | | | | | | reaches | | | | | | | | zero, | | | | | | | | the | | | | | | | | file | | | | | | | | shall | | | | | | | | cease | | | | | | | | to be | | | | | | | | del | | | | | | | | ivered. | | | | | | | | The | | | | | | | | BM-SC | | | | | | | | may | | | | | | | | send | | | | | | | | FEC | | | | | | | | repair | | | | | | | | symbols | | | | | | | | instead | | | | | | | | of | | | | | | | | source | | | | | | | | s | | | | | | | | ymbols. | | | | | | | | Default | | | | | | | | value | | | | | | | | is 1. | | | | | | | | | | | | | | | | Note | | | | | | | | that | | | | | | | | the | | | | | | | | e | | | | | | | | xpected | | | | | | | | be | | | | | | | | haviour | | | | | | | | is that | | | | | | | | the | | | | | | | | BM-SC | | | | | | | | first | | | | | | | | sends | | | | | | | | all the | | | | | | | | files | | | | | | | | as | | | | | | | | ordered | | | | | | | | in | | | | | | | | "Fil | | | | | | | | eList", | | | | | | | | then | | | | | | | | dec | | | | | | | | rements | | | | | | | | the | | | | | | | | counter | | | | | | | | for | | | | | | | | each | | | | | | | | file, | | | | | | | | and | | | | | | | | subse | | | | | | | | quently | | | | | | | | retr | | | | | | | | ansmits | | | | | | | | the | | | | | | | | list of | | | | | | | | files | | | | | | | | again | | | | | | | | (only | | | | | | | | those | | | | | | | | files | | | | | | | | whose | | | | | | | | counter | | | | | | | | > 0 | | | | | | | | are | | | | | | | | transm | | | | | | | | itted). | | | | | | | | This | | | | | | | | process | | | | | | | | is | | | | | | | | r | | | | | | | | epeated | | | | | | | | until | | | | | | | | either | | | | | | | | the | | | | | | | | counter | | | | | | | | reaches | | | | | | | | '0', or | | | | | | | | the | | | | | | | | session | | | | | | | | stop | | | | | | | | time | | | | | | | | has | | | | | | | | e | | | | | | | | lapsed, | | | | | | | | wh | | | | | | | | ichever | | | | | | | | event | | | | | | | | occurs | | | | | | | | first. | +---------+---------+---------+---------+---------+-------+---------+
### 5.6.3 JSON Schema for File Delivery Manifest
When encoded as a JSON document, the schema of the File Delivery Manifest,
whose description is provided in clause 5.6.2, and specified according to JSON
Schema [11], is shown below.
{
\"FileManifest\": {
\"type\": \"object\",
\"description\": \"Refer to Table 5.6-1 for detailed description.\",
\"properties\": {
\"FileList\": {
\"type\": \"array\",
\"description\": \"Refer to Table 5.6-1 for detailed description.\",
\"items\": {
\"type\": \"object\",
\"properties\": {
\"fileURL\": {
\"type\": \"string\",
\"description\": \"Refer to Table 5.6-1 for detailed description.\"
},
\"fileDisplayURL\": {
\"type\": \"string\",
\"description\": \"Refer to Table 5.6-1 for detailed description.\"
},
\"fileEarliestFetchTime\": {
\"type\": \"integer\",
\"format\": \"int32\",
\"description\": \"Refer to Table 5.6-1 for detailed description.\"
},
\"fileLatestFetchTime\": {
\"type\": \"integer\",
\"format\": \"int32\",
\"description\": \"Refer to Table 5.6-1 for detailed description.\"
},
\"fileSize\": {
\"type\": \"integer\",
\"format\": \"int32\",
\"description\": \"Refer to Table 5.6-1 for detailed description.\"
},
\"targetReceptionCompletionTime\": {
\"type\": \"integer\",
\"format\": \"int32\",
\"description\": \"Refer to Table 5.6-1 for detailed description.\"
},
\"keepUpdatedInterval\": {
\"type\": \"integer\",
\"format\": \"int32\",
\"description\": \"Refer to Table 5.6-1 for detailed description.\"
},
\"unicastAvailability\": {
\"type\": \"boolean\",
\"description\": \"Refer to Table 5.6-1 for detailed description.\"
},
\"byteRange\": {
\"type\": \"boolean\",
\"description\": \"Refer to Table 5.6-1 for detailed description.\"
},
\"ETag\": {
\"type\": \"string\",
\"description\": \"Refer to Table 5.6-1 for detailed description.\"
},
\"fileRepetition\": {
\"type\": \"number\",
\"description\": \"Refer to Table 5.6-1 for detailed description.\"
}
}
}
}
}
}
}
###### ## Annex A (informative): xMB User Plane (xMB-U)
# A.0 General
This annex provides an overview of the different xMB User Plane (xMB-U)
protocol stacks for the various xMB delivery options. The xMB Control Plane is
used to select the correct version.
# A.1 Generic File Delivery
## A.1.1 Introduction
This clause illustrates the various xMB-U options for generic file delivery. A
file many be a large file like a video on demand file or a small file. Files
can also be regarded as messages e.g. a plain text file or with header and
body.
## A.1.2 File ingestion with Pull
The Content Provider delegates all MBMS related complexity to the operator and
provides files for delivery using HTTP to the BM-SC. The Content Provider
provides the file URLs to the BM-SC and the BM-SC fetches the files using
HTTP. The BM-SC is handling all MBMS related complexity, e.g. converting the
HTTP payload into an IP Multicast suitable protocols, adding AL-FEC, etc. The
Content Provider delegates the delivery of MBMS of Service Announcement
Metadata (i.e. IP Multicast protocol details, etc) to the MBMS Client to the
BM-SC.
Figure A.1.2-1 illustrates a setup, where the BM-SC pulls files from a File
Server. The xMB-C is used to provide the file URLs to the BM-SC.
Figure A.1.2-1: File Delivery using Pull Mode (HTTP GET)
The following Session Properties allow the configuration of this xMB-U mode:
_\- Session Type_ is set by the Content Provider to Files.
_\- Ingest Mode_ (Session Type specific property) is set by the Content
Provider to Pull.
\- The _File List_ (Session Type specific property) is updated by the Content
Provider with File URLs to be fetched by the BM-SC and then send. The BM-SC
updates Service Announcement according to the File List information.
**Procedure**
The following flow diagram illustrates the message flow. During provisioning
phase, the according xMB Service and Sessions are created. Some lead time is
needed to secure that all intended receiving UEs are capable of receiving the
content.
Figure A.1.2-2: Call Flow
**Provisioning**
1: The Content Provider creates the File Delivery Service and Session using
xMB procedures.
2: As result of the Service and Session provisioning procedure, the Content
Provider gets the service identification information (e.g. ServiceId), which
needs to be used by the App to request the reception activation from the MBMS
Client.
3: When a File Schedule should be inserted into service announcement, the
content provider provides the full file list well in advance. The BM-SC
determines the file sizes and creates the resulting file schedule entry.
4: The MBMS client receives the service access information via SACH.
5: When the App is interested in the service, the App requests the MBMS client
to activate reception using the appropriate MBMS Client API call. The App uses
the ServiceId as identification for the interested service.
At scheduled File Delivery Session start time.
6: When not all file URLs to be sent during the file delivery session are
provided, the Content Provider updates the File List and adds additional file
entries.
7: The BM-SC fetches the file according to the file list.
8: The BM-SC receives the requested file and wraps it into MBMS Download
Delivery Objects.
9: The BM-SC sends the file as MBMS Download Delivery Object. When the MBMS
Client has activated the reception for that service and is located inside of
the broadcast coverage, the MBMS client receives the file (potentially after
correcting packet losses).
10: When the MBMS Client has successfully received the file, it notifies the
App.
11: Step 6 can be repeated multi times, independent from steps 7 to 9. Steps 7
to 9 are repeated (as sequence) for every file in the file list until the
session schedule end time is reached.
## A.1.3 File ingestion with Push
The Content Provider delegates all MBMS related complexity to the operator and
provides files for delivery using HTTP to the BM-SC. The Content Provider
pushes the files using HTTP. The BM-SC is handling all MBMS related
complexity, e.g. converting the HTTP payload into an IP Multicast suitable
protocols, adding AL-FEC, etc. The Content Provider delegates the delivery of
MBMS of Service Announcement Metadata (i.e. DASH MPD, IP Multicast protocol
details, etc) to the MBMS Client to the BM-SC.
Figure A.1.3-1 illustrates a setup, where a File Server pushes files using
HTTP PUT into the BM-SC.
Figure A.1.3-1: File Delivery using Push Mode (HTTP PUT)
The following Session Properties allow the configuration of this xMB-U mode:
_\- Session Type_ is set by the Content Provider to Files.
_\- Ingest Mode_ (Session Type specific property) is set by the Content
Provider to Push.
\- The BM-SC provides the _Push URL_ (Session Type specific property) to the
Content Provider. The value of this property is configured to the File Server.
_\- Display Base URL_ contains the base URL for the files. In the URLs, used
in the FLUTE FDT instances and (in some cases) in Service Announcement, the
BM-SC replaces the Push URL part of the file URL with the value of the
_Display Base URL_.
**Procedure**
The following flow diagram illustrates the message flow. During provisioning
phase, the according xMB Service and Sessions are created. Some lead time is
needed to secure that all intended receiving UEs are capable of receiving the
content
Figure A.1.3-2: Call Flow
**Provisioning:**
1: The Content Provider creates the File Delivery Service and Session using
xMB procedures.
2: As result of the Service and Session provisioning procedure, the Content
Provider gets the service identification information, which needs to be used
by the App to request the reception activation from the MBMS Client.
3: The MBMS client receives the service access information via SACH.
At scheduled DASH Session start time.
4: The content provider starts pushing files to the BM-SC, which wraps the
received file into MBMS Download Delivery Objects.
5: The BM-SC sends the File as MBMS Download Delivery Object.
6: Step 5 and 6 are repeated for every file until the session schedule end
time is reached.
# A.2 DASH Media Presentation Delivery
## A.2.1 Introduction
This clause illustrates the various xMB-U options for DASH Media Presentation
delivery. A DASH Media Presentation consists of a Media Presentation
Description (MPD), one or more initialization segments and sequences of media
segments, containing the media data. A segment is a small file, containing a
defined duration of media time, like 2sec of media time.
The Media Presentation Description (MPD) and Initialization Segments (IS) are
typically provided with the SACH before the actual DASH media segment
reception so that the UE has all access information available for tuning in to
the DASH stream. The media segments and MPD updates are ingested using xMB-U.
## A.2.2 DASH Content ingestion with Pull
The Content Provider delegates all MBMS related complexity to the operator and
provides DASH compliant content using HTTP to the BM-SC. The Content Provider
provides a MPD to the BM-SC and the BM-SC fetches the DASH content according
to the MPD description using HTTP. The BM-SC is handling all MBMS related
complexity, e.g. converting the HTTP payload into an IP Multicast suitable
protocols, adding AL-FEC, etc. The Content Provider delegates the delivery of
MBMS of Service Announcement Metadata (i.e. DASH MPD, IP Multicast protocol
details, etc) to the MBMS Client to the BM-SC.
Figure A.2.2-1 illustrates a setup, where the BM-SC fetches DASH Content using
HTTP GET according to an DASH MPD from a Content Server.
Figure A.2.2-1: Segment Delivery using Pull Mode (HTTP GET)
The following Session Properties allow the configuration of this xMB-U mode.
_\- Session Type_ is set by the Content Provider to Application.
_\- Ingest Mode_ (Session Type specific property) is set by the Content
Provider to Pull.
_\- Application Service Description_ (Session Type specific property) is set
to application/dash+xml.
_\- Application Entry Point URL_ contains the URL to the DASH MPD. The BM-SC
will fetch the DASH MPD using the value of the _Application Entry Point URL_
and start fetching segments. Further, the BM-SC will fetch the DASH MPD using
the value of the _Application Entry Point URL_ and embed the MPD into the
Service Announcement File (SACH).
_\- Unicast Delivery_ is set to _false_. Indicating that the operation is not
allowed to use MooD, e.g. because of content distribution rights.
**Procedure**
The following flow diagram illustrates the message flow. During provisioning
phase, the according xMB Service and Sessions are created. Some lead time is
needed to secure that all intended receiving UEs are capable of receiving the
content.
Figure A.2.2-2: Call Flow
**Provisioning**
1: The Content Provider creates the DASH Delivery Service and Session using
xMB procedures.
2: As result of the Service and Session provisioning procedure, the Content
provider gets the service identification information, which needs to be used
by the App to request the reception activation from the MBMS Client.
3: The content provider provides the MPD and IS, which should be provided
together with other access information using the SACH to the MBMS Client.
4: The MBMS client receives the service access information. At scheduled DASH
Session start time.
5: The BM-SC updates the MPD according to the MPD update instructions.
6: The BM-SC uses the provided MPD to determine the segment availability start
times for the different segments. Here, Segment X is the next segment to send
and the BM-SC segments a segment request to the Content Provider.
7: The BM-SC receives the requested Segment X and wraps it into MBMS Download
Delivery Objects.
8: The BM-SC sends the DASH Segment as MBMS Download Delivery Object.
9: Steps 5 to 8 are repeated for every DASH media segment until the session
schedule end time is reached.
## A.2.3 DASH Content ingestion with Push
The Content Provider delegates all MBMS related complexity to the operator and
provides DASH compliant content using HTTP to the BM-SC. The Content Provider
pushes the DASH Content as soon as new DASH Content is available using HTTP.
The BM-SC is handling all MBMS related complexity, e.g. converting the HTTP
payload into an IP Multicast suitable protocols, adding AL-FEC, etc.The
Content Provider delegates the delivery of MBMS of Service Announcement
Metadata (i.e. DASH MPD, IP Multicast protocol details, etc) to the MBMS
Client to the BM-SC.
Figure A.2.3-1 illustrates a setup, where a DASH packager pushes DASH Content
using HTTP PUT into the BM-SC, once the segment (or MPD update) becomes
available.
Figure A.2.3-1: DASH Content Delivery using Push (HTTP PUT)
The following Session Properties allow the configuration of this xMB-U mode.
_\- Session Type_ is set by the Content Provider to Application.
_\- Ingest Mode_ (Session Type specific property) is set by the Content
Provider to Push.
\- The BM-SC provides the _Push URL_ (Session Type specific property) to the
Content Provider. The value of this property is configured to the DASH
packager.
_\- Application Service Description_ (Session Type specific property) is set
to application/dash+xml.
_\- Application Entry Point URL_ contains the URL to the DASH MPD. The BM-SC
will fetch the DASH MPD using the value of the _Application Entry Point URL_
and embed the MPD into the Service Announcement File (SACH).
_\- Unicast Delivery_ is set to _false_. Indicating that the operation is not
allowed to use MooD, e.g. because of content distribution rights.
**Procedure**
The following flow diagram illustrates the message flow. During provisioning
phase, the according xMB Service and Sessions are created. Some lead time is
needed to secure that all intended receiving UEs are capable of receiving the
content.
Figure A.2.3-2: Call Flow
**Provisioning**
Steps 1 to 4 are identical as in Figure A.2.2-2.
At scheduled DASH Session start time.
5: The content provider starts pushing DASH media segments to the BM-SC, which
wraps the DASH Media Segments into MBMS Download Delivery Objects.
6: The BM-SC sends the File as MBMS Download Delivery Object.
7: Steps 5 and 6 are repeated for every DASH media segment until the session
schedule end time is reached.
# A.3 MBMS Streaming (with RTP)
This clause illustrates the various xMB-U options for MBMS Streaming with RTP.
The BM-SC receives here the RTP stream from the content provider.
Figure A.3-1 illustrates a setup, where the BM-SC receives an RTP stream from
the content provider. The xMB-C is used to provide the RTPS URL to the BM-SC.
Figure A.3-1: MBMS Streaming with RTP
The following Session Properties allow the configuration of this xMB-U mode:
_\- Session Type_ is set by the Content Provider to _Streaming._
_\- SDP URL_ (Session Type specific property) is set by the Content Provider
and points to the RTSP server hosting the content. The BM-SC establishes the
RTSP session to control the RTP flow.
# A.4 Transparent Delivery
This clause illustrates the various xMB-U options for Transparent Delivery
Mode. The BM-SC handles the streams in a transparent manner.
Figure A.4-1 illustrates a setup of Transparent Delivery with Proxy. The xMB-C
is used to provide the necessary information to the BM-SC.
Figure A.4-1: Transparent Delivery with Proxy mode
The following Session Properties allow the configuration of this xMB-U mode:
_\- Session Type_ is set by the Content Provider to _Transport-Mode._
_\- Delivery Mode Configuration for user plane_ (Session Type specific
property) is set by the Content Provider to _Proxy._
_\- Session Description Parameters for User Plane_ (Session Type specific
property) is set by the Content Provider and contains the UDP flow mapping
descriptions.
\- When _Session Announcement Mode_ (Session Type specific property) is set by
the Content Provider to _SACH_ , the BM-SC will add according session
description into the SACH. In this case the MBMS Client (cf. TS 26.347) will
offer the service to an application.
\- When _Session Announcement Mode_ (Session Type specific property) is set by
the Content Provider to _Content Provider_ then the Content Provider is
responsible to announce services to UEs (e.g. using GC1). The BM-SC provides
at least the TMGIs as value of the _Delivery Session Description Parameters_
property.
Figure A.4-2 illustrates a setup of Transparent Delivery with Forward-Only.
The xMB-C is used to provide the necessary information to the BM-SC.
Figure A.4-2: Transparent Delivery with Forward-Only
The following Session Properties allow the configuration of this xMB-U mode:
_\- Session Type_ is set by the Content Provider to _Transport-Mode._
_\- Delivery Mode Configuration for user plane_ (Session Type specific
property) is set by the Content Provider to _Forward-only._
_\- Session Description Parameters for User Plane_ (Session Type specific
property) is set by the Content Provider and contains the UDP flow mapping
descriptions.
\- When _Session Announcement Mode_ (Session Type specific property) is set by
the Content Provider to _SACH_ , the BM-SC will add according session
description into the SACH. In this case the MBMS Client (cf. TS 26.347) will
offer the service to an application.
\- When _Session Announcement Mode_ (Session Type specific property) is set by
the Content Provider to _Content Provider_ then the Content Provider is
responsible to announce services to UEs (e.g. using GC1). The BM-SC provides
at least the TMGIs as value of the _Delivery Session Description Parameters_
property.
## A.5 HLS Media Presentation Delivery
## A.5.1 Introduction
This subclause illustrates the xMB-U constraints and options for HLS delivery.
An HLS presentation typically consists of a single Master Playlist and
multiple Media Playlists, one for each media Rendition. Media Playlists
specify a sequence of media segments, each containing media data. A Media
Playlist may also specify, by way of an EXT-MAP tag, a segment containing only
the subsequent sequences' CMAF Header. These header-only segments are also
referred to as Initialization Segments (IS) or Media Initialization Sections.
## A.5.2 Segment and Playlist Order Guarantee
As mentioned in subclause 5.5.2, media segments should be made available to
the BM-SC, and ingested using xMB-U, prior to the ingestion of the Media
Playlists that specify those segments. This ordering is the responsibility of
the Content Provider, irrespective of ingest mode, as detailed below.
## A.5.3 HLS Content Ingestion with Pull
#### A.5.3.1 Introduction
The Content Provider delegates all MBMS related complexity to the operator and
provides HLS compliant content using an HTTP GET method to the BM-SC. The
Content Provider is responsible for ensuring the required ordering of media
segments and Media Playlist availability to the requesting BM-SC. Using the
Pull ingest mode the BM-SC should parse the supplied Media Playlist, at each
update, to discover new media segment URIs.
The following Session Properties allow the configuration of this xMB-U mode.
\-  _Session Type_ is set by the Content Provider to Application.
\-  _Ingest Mode_ (Session Type specific property) is set by the Content
Provider to Pull.
\-  _Application Service Description_ (Session Type specific property) is set
to application/vnd.apple.mpegurl.
\-  _Application Entry Point URL_ contains the URL to the HLS Master Playlist.
The BM-SC will fetch the Master Playlist using the value of the Application
Entry Point URL and embed the Master Playlist into the Service Announcement
File (via SACH).
#### A.5.3.2 Content ingestion steps
1: The Content Provider creates the HLS Delivery Service and Session using xMB
procedures.
2: As a result of the Service and Session provisioning procedure, the Content
Provider gets the service identification information, which needs to be used
by the Application to request the reception activation from the MBMS Client.
3: The Content Provider provides the Master Playlist. It also provides the IS,
with identifying source URI, for each Media Playlist to be broadcast. The
source URI should match the EXT-MAP tag within the corresponding Media
Playlist. Note that the Master Playlist and the collection of IS will be
provided via the SACH to the MBMS Client.
4: The MBMS client receives the service access information.
5: At Playlist reload intervals as specified by RFC 8216 section 6.3.4, the
BM-SC Pulls, via HTTP GET, Media Playlist updates, which specify all
segment(s) currently available. Following this the BM-SC Pulls any media
segments it has not yet ingested. The BM-SC then wraps the Media Playlist and
the new media segment(s) into MBMS Download Delivery Objects.
6: The BM-SC sends the CMAF Segment(s) as MBMS Download Delivery Objects
together with the corresponding Media Playlists.
7: Steps 5 and 6 are repeated until the session schedule end time is reached.
## A.5.4 HLS Content Ingestion with Push
#### A.5.4.1 Introduction
The Content Provider delegates all MBMS related complexity to the operator and
provides HLS compliant content using an HTTP PUT method to the BM-SC. The
Content Provider is responsible for ensuring the order of media segments and
Media Playlist availability to the BM-SC over the xMB-U.
The following Session Properties allow the configuration of this xMB-U mode.
\-  _Session Type_ is set by the Content Provider to Application.
\-  _Ingest Mode_ (Session Type specific property) is set by the Content
Provider to Push.
\- The BM-SC provides the _Push_ URL (Session Type specific property) to the
Content Provider. The value of this property is configured to the HLS
packager.
\-  _Application Service Description_ (Session Type specific property) is set
to application/vnd.apple.mpegurl.
\-  _Application Entry Point URL_ contains the URL to the HLS Master Playlist.
The BM-SC will fetch the Master Playlist using the value of the Application
Entry Point URL and embed the Master Playlist into the Service Announcement
File (SACH).
#### A.5.4.2 Content ingestion steps
Steps 1 to 4 are identical to clause A.5.3.
5: At segment Duration intervals, the Content Provider pushes a new media
segment to the BM-SC. The BM-SC then wraps it into an MBMS Download Delivery
Object.
6: Following each segment push, the Content Provider pushes to the BM-SC a
Media Playlist update that now specifies the segment made available in step 5.
The BM-SC then wraps it into an MBMS Download Delivery Object.
7: The BM-SC sends the CMAF segment(s) together with the corresponding Media
Playlist update as MBMS Download Delivery Objects.
8: Steps 5 to 7 are repeated until the session schedule end time is reached.
#