# Foreword
This Technical Specification has been produced by the 3rd Generation
Partnership Project (3GPP).
The contents of the present document are subject to continuing work within the
TSG and may change following formal TSG approval. Should the TSG modify the
contents of the present document, it will be re-released by the TSG with an
identifying change of release date and an increase in version number as
follows:
Version x.y.z
where:
x the first digit:
1 presented to TSG for information;
2 presented to TSG for approval;
3 or greater indicates TSG approved document under change control.
y the second digit is incremented for all changes of substance, i.e. technical
enhancements, corrections, updates, etc.
z the third digit is incremented when editorial only changes have been
incorporated in the document.
# 1 Scope
The present document specifies the stage 3 protocol and data model for Vs
interface between the V2X application specific server and VAE server and VAE-E
interface between VAE servers. It provides stage 3 protocol definitions and
message flows, and specifies the API for each service offered by the VAE
server. The **Vs, VAE-E** interfaces and the related stage 2 functional
requirements are defined in 3GPP TS 23.286 [4].
# 2 References
The following documents contain provisions which, through reference in this
text, constitute provisions of the present document.
\- References are either specific (identified by date of publication, edition
number, version number, etc.) or nonâ€‘specific.
\- For a specific reference, subsequent revisions do not apply.
\- For a non-specific reference, the latest version applies. In the case of a
reference to a 3GPP document (including a GSM document), a non-specific
reference implicitly refers to the latest version of that document _in the
same Release as the present document_.
[1] 3GPP TR 21.905: \"Vocabulary for 3GPP Specifications\".
[2] 3GPP TS 29.500: \"5G System; Technical Realization of Service Based
Architecture; Stage 3\".
[3] 3GPP TS 29.501: \"5G System; Principles and Guidelines for Services
Definition; Stage 3\".
[4] 3GPP TS 23.286: \"Application layer support for Vehicle-to-Everything
(V2X) services; Functional architecture and information flows\".
[5] IETF RFC 7540: \"Hypertext Transfer Protocol Version 2 (HTTP/2)\".
[6] OpenAPI: \"OpenAPI 3.0.0 Specification\", https://github.com/OAI/OpenAPI-
Specification/blob/master/versions/3.0.0.md.
[7] IETF RFC 8259: \"The JavaScript Object Notation (JSON) Data Interchange
Format\".
[8] 3GPP TR 21.900: \"Technical Specification Group working methods\".
[11] 3GPP TS 29.571: \"5G System; Common Data Types for Service Based
Interfaces; Stage 3\".
[12] IETF RFC 7230: \"Hypertext Transfer Protocol (HTTP/1.1): Message Syntax
and Routing\".
[13] IETF RFC 7231: \"Hypertext Transfer Protocol (HTTP/1.1): Semantics and
Content\".
[14] IETF RFC 7232: \"Hypertext Transfer Protocol (HTTP/1.1): Conditional
Requests\".
[15] IETF RFC 7233: \"Hypertext Transfer Protocol (HTTP/1.1): Range
Requests\".
[16] IETF RFC 7234: \"Hypertext Transfer Protocol (HTTP/1.1): Caching\".
[17] IETF RFC 7235: \"Hypertext Transfer Protocol (HTTP/1.1):
Authentication\".
[18] IETF RFC 5246, \"The Transport Layer Security (TLS) Protocol Version
1.2\".
[19] 3GPP TS 29.116: \"Representational state transfer over xMB reference
point between Content Provider and BM-SC\".
[20] 3GPP TS 29.572: \"5G System; Location Management Services; Stage 3\".
[21] IETF RFC 6455: \"The Websocket Protocol\".
[22] 3GPP TS 29.122: \"T8 reference point for Northbound APIs\".
[23] IETF RFC 6749: \"The OAuth 2.0 Authorization Framework\".
[24] IETF RFC 5246, \"The Transport Layer Security (TLS) Protocol Version
1.2\".
# 3 Definitions of terms, symbols and abbreviations
## 3.1 Terms
For the purposes of the present document, the terms given in 3GPP TR 21.905
[1] and the following apply. A term defined in the present document takes
precedence over the definition of the same term, if any, in 3GPP TR 21.905
[1].
Void
## 3.2 Symbols
For the purposes of the present document, the following symbols apply:
Void
## 3.3 Abbreviations
For the purposes of the present document, the abbreviations given in 3GPP TR
21.905 [1] and the following apply. An abbreviation defined in the present
document takes precedence over the definition of the same abbreviation, if
any, in 3GPP TR 21.905 [1].
V2X Vehicle-to-Everything
VAE V2X Application Enabler
# 4 Overview
The Vs interface is between the V2X application specific server and the VAE
Server. It specifies RESTful APIs that allow the V2X application specific
server to access the services and capabilities provided by VAE Server.
The stage 2 level requirements and signalling flows for the **Vs** interface
are defined in 3GPP TS 23.286 [4].
The **Vs** interface supports the following APIs:
\- VAE_MessageDelivery
\- VAE_FileDistribution
\- VAE_ApplicationRequirement
\- VAE_DynamicGroup
The VAE-E interface is between VAE Servers. It specifies RESTful APIs that
allow the VAE server to access the services and capabilities provided by other
VAE Server.
The stage 2 level requirements and signalling flows for the **VAE-E**
interface are defined in 3GPP TS 23.286 [4].
The **VAE-E** interface supports the following APIs:
\- VAE_ServiceContinuity
# 5 Services offered by the V2X Application Enabler
## 5.1 Introduction
The table 5.1-1 shows the services provided by the VAE server and
corresponding Service Operations:
Table 5.1-1 List of services provided by the VAE Server
+----------------+----------------+----------------+----------------+ | Service Name | Service | Operation | Example | | | Operations | | Consumer(s) | | | | Semantics | | +----------------+----------------+----------------+----------------+ | VAE_M | Delive | Re | V2X | | essageDelivery | r_DL_Message | quest/Response | application | | | | | specific | | | | | server | +----------------+----------------+----------------+----------------+ | | Delive | Su | V2X | | | r_UL_Message | bscribe/Notify | application | | | | | specific | | | | | server | +----------------+----------------+----------------+----------------+ | | V2X | | V2X | | | _MessageDeliv | | application | | | ery_Subscribe | | specific | | | | | server | +----------------+----------------+----------------+----------------+ | | V2X_ | | V2X | | | MessageDeliver | | application | | | y_Unsubscribe | | specific | | | | | server | +----------------+----------------+----------------+----------------+ | VAE_Fi | Di | Request/ | V2X | | leDistribution | stribute_File | Response | application | | | | | specific | | | | | server | +----------------+----------------+----------------+----------------+ | VAE_Applicat | Reserve_N | Su | V2X | | ionRequirement | etworkResource | bscribe/Notify | application | | | | | specific | | | | | server | +----------------+----------------+----------------+----------------+ | | Notify_N | | | | | etworkResource | | | +----------------+----------------+----------------+----------------+ | VAE | Configure | Su | V2X | | _DynamicGroup | _DynamicGroup | bscribe/Notify | application | | | | | specific | | | | | server | +----------------+----------------+----------------+----------------+ | VAE_Ser | Query_Ser | Re | VAE server | | viceContinuity | viceContinuity | quest/Response | | +----------------+----------------+----------------+----------------+
Table 5.1-2 summarizes the corresponding APIs defined in this specification.
Table 5.1-2: API Descriptions
* * *
**Service Name** **Clause** **Description** **OpenAPI Specification File**
**apiName** **Annex** VAE_MessageDelivery 6.1 VAE Message Delivery Service
TS29486_VAE_MessageDelivery.yaml vae-message-delivery A.2 VAE_FileDistribution
6.2 VAE File Distribution Service TS29486_VAE_FileDistribution.yaml vae-file-
distribution A.3 VAE_ApplicationRequirement 6.3 VAE Application Requirement
Provision Service TS29486_VAE_ApplicationRequirement.yaml vae-app-req A.4
VAE_DynamicGroup 6.4 VAE Configure Dynamic Group Information Service
TS29486_VAE_DynamicGroup.yaml vae-dynamic-group A.5 VAE_ServiceContinuity 6.5
VAE Service Continuity Service TS29486_VAE_ServiceContinuity.yaml vae-service-
continuity A.6
* * *
## 5.2 VAE_MessageDelivery Service
### 5.2.1 Service Description
This service enables a NF service consumer to communicate with the VAE server
to exchange V2X messages with the V2X UEs.
### 5.2.2 Service Operations
#### 5.2.2.1 Introduction
The VAE_MessageDelivery service supports following service operations:
\- V2X_MessageDelivery_Subscribe;
\- V2X_MessageDelivery_Unsubscribe;
\- Deliver_DL_Message; and
\- Deliver_UL_Message.
#### 5.2.2.2 V2X_MessageDelivery_Subscribe
##### 5.2.2.2.1 General
The V2X_MessageDelivery_Subscribe service operation is used to create a
subscription for V2X messages delivery between the V2X application specific
server and VAE server.
##### 5.2.2.2.2 Message Delivery Subscribe
Figure 5.2.2.2.2-1: Message delivery subscribe
When the NF service consumer (e.g. V2X application specific server) needs to
receive the message from the V2X UE and/or send the message to the V2X UE, the
NF service consumer shall send the POST method as step 1of the figure
5.2.2.2.2-1 to request to create an \"Individual Message Delivery
Subscription\".
The NF service consumer shall include MessageDeliverySubscriptionData data
structure in the payload body of the HTTP POST to request a creation of
representation of the \"Individual Message Delivery Subscription\" resource.
The \"Individual Message Delivery Subscription\" resource is created as
described below.
The NF service consumer within MessageDeliverySubscriptionData data structure
shall include:
\- The identity of the V2X application specific server within the \"appSerId\"
attribute;
\- The V2X service ID within the \"serviceId\" attribute;
\- The notification URI within the \"notifUri\" attribute; and
\- The supported features with the \"suppFeat\" attribute;
and may include
\- The geographical area identifier within the \"geoId\" attribute.
When the VAE Server receives the HTTP POST request from the NF service
consumer, the VAE server shall make an authorization based on the information
received from the NF service consumer. If the authorization is successful, the
VAE Server shall create a new resource, which represents \"Individual Message
Delivery Subscription\", addressed by a URI as defined in clause 6.1.3.3.2 and
contains a VAE Server created resource identifier. The VAE Server shall
respond to the NF service consumer with a 201 Created message, including
Location header field containing the URI for the created resource.
If errors occur when processing the HTTP POST request, the VAE server shall
apply error handling procedures as specified in subclause 6.1.7.
The NF service consumer shall use the URI received in the Location header in
subsequent requests to the VAE Server to refer to the \"Individual Message
Delivery Subscription\".
#### 5.2.2.3 V2X_MessageDelivery_Unsubscribe
##### 5.2.2.3.1 General
The V2X_MessageDelivery_Unsubscribe service operation is used to remove the
V2X messages delivery subscription.
##### 5.2.2.3.2 Message Delivery Unsubscribe
Figure 5.2.2.3.2-1: message delivery unsubscribe
When the NF service consumer (e.g. V2X application specific server) needs to
remove an existing subscription for receiving the message from the V2X UE or
sending the message to the V2X UE, the NF service consumer shall send the
DELETE method as step 1of the figure 5.2.2.3.2-1 to request to delete an
\"Individual Message Delivery Subscription\".
Upon the reception of the HTTP DELETE request, if the VAE Server successfully
processed and accepted the received HTTP DELETE request, the VAE Server shall:
\- remove the corresponding subscription; and
\- send an HTTP \"204 No Content\" response.
If errors occur when processing the HTTP POST request, the VAE Server shall
send an HTTP error response as specified in subclause 6.1.7.
#### 5.2.2.4 Deliver_DL_Message
##### 5.2.2.4.1 General
The Deliver_DL_Message service operation is used to deliver the V2X messages
to the V2X UEs.
##### 5.2.2.4.2 Deliver Downlink Message
Figure 5.2.2.4.2-1: V2X message delivery
When the NF service consumer (e.g. V2X application specific server) needs to
send the message to the V2X UE, the NF service consumer shall send the POST
method as step 1of the figure 5.2.2.4.2-1 to request to create an \"Individual
Downlink Message Delivery\".
The NF service consumer shall include DownlinkMessageDeliveryData data
structure in the payload body of the HTTP POST to request a creation of
representation of the \"Individual Downlink Message Delivery\" resource. The
\"Individual Downlink Message Delivery\" resource is created as described
below.
The NF service consumer within the DownlinkMessageDeliveryData data structure
shall include:
\- Either the V2X UE ID within the \"ueId\" attribute or the V2X Group ID
within the \"groupId\" attribute;
\- V2X message payload carried by the V2X message within the \"payload\"
attribute;
and may include:
\- The duration within the \"duration\" attribute; and
\- The geographical area identifier within the \"geoId\" attribute.
When the VAE Server receives the HTTP POST request from the NF service
consumer, the VAE server shall make an authorization based on the information
received from the NF service consumer. If the authorization is successful, the
VAE Server shall create a new resource, which represents \"Individual Downlink
Message Delivery\", addressed by a URI as defined in clause 6.1.3.5.2 and
contains a VAE Server created resource identifier. The VAE Server shall
respond to the NF service consumer with a 201 Created message, including
Location header field containing the URI for the created resource.
The NF service consumer shall use the URI received in the Location header in
subsequent requests to the VAE Server to refer to the \"Individual Downlink
Message Delivery\".
Upon receipt of the HTTP DELETE message from the NF service consumer, the VAE
Server shall check if the Individual Message Delivery resource identified by
the URI already exists. If the resource exists, the VAE Server shall delete
the resource and respond to the NF service consumer with a 204 No Content
success message.
When the message delivery duration expires, the VAE server may remove the
associated Individual Message Delivery resource locally.
If errors occur when processing the HTTP POST or DELETE request, the VAE
Server shall apply error handling procedures as specified in subclause 6.1.7.
#### 5.2.2.5 Deliver_UL_Message
##### 5.2.2.5.1 General
The Deliver_UL_Message service operation is used to deliver the uplink message
to the NF service consumer (e.g. V2X application specific server).
##### 5.2.2.5.2 Deliver Uplink Message
Figure 5.2.2.5.2-1: Deliver Uplink Message
If the VAE Server receives the uplink message for a V2X UE which an NF service
consumer has subscribed to or a V2X UE belongs to a V2X group which the NF
service consumer has subscribed to, the VAE Server shall send an HTTP POST
request with \"{notifUri}\" as previously provided by the NF service consumer
within the corresponding subscription as URI and UplinkMessageDeliveryData
data structure as request body that shall include:
\- resource URI of the individual Message Delivery Subscription related to the
notification within the \"resourceUri\" attribute;
\- The V2X UE ID within the \"ueId\" attribute;
\- V2X message payload carried by the V2X message within the \"payload\"
attribute; and
\- The geographical area identifier within the \"geoId\" attribute if
available.
Upon the reception of the HTTP POST message, if the NF service consumer
successfully processed and accepted the received HTTP POST request, the NF
service consumer shall send an \"204 No Content\" HTTP response for a
succesfull processing.
If errors occur when processing the HTTP POST request, the NF service consumer
shall send an HTTP error response as specified in subclause 6.1.7.
## 5.3 VAE_FileDistribution Service
### 5.3.1 Service Description
This API enables the V2X application specific server to communicate with the
VAE server to initiate file distribution to the V2X UEs.
### 5.3.2 Service Operations
#### 5.3.2.1 Introduction
The VAE_FileDistribution service supports following service operations:
\- Distribute_File
#### 5.3.2.2 Distribute_File
##### 5.3.2.2.1 General
The Distribute_File service operation is used to distribute files to the V2X
UEs.
##### 5.3.2.2.2 Distribute File
Figure 5.3.2.2.2-1: Distribute File
When the NF service consumer (e.g. V2X application specific server) needs to
distribute the file to the V2X UEs, the NF service consumer shall send the
POST method as step 1 of the figure 5.3.2.2.2-1 to request to create an
\"Individual File Distribution\".
The NF service consumer shall include FileDistributionData data structure in
the payload body of the HTTP POST to request a creation of representation of
the \"Individual File Distribution\" resource. The \"Individual File
Distribution\" resource is created as described below.
The NF service consumer within the FileDistributionData data structure shall
include:
\- The file lists within the \"fileLists\" attribute;
\- The geographical area within the \"geoArea\" attribute;
\- maximum bitrate for the V2X application within the \"maxBitrate\"
attribute; and
\- maximum delay for the V2X application within the \"maxDelay\" attribute;
and may include:
\- The V2X Group ID within the \"groupId\" attribute;
\- The serving class within the \"serviceClass\" attribute; and
\- The duration within the \"duration\" attribute.
When the VAE Server receives the HTTP POST request from the NF service
consumer, the VAE server shall make an authorization based on the information
received from the NF service consumer. If the authorization is successful, the
VAE Server shall create a new resource, which represents \"Individual File
Distribution\", addressed by a URI as defined in clause 6.2.3.3.2 and contains
a VAE Server created resource identifier. The VAE Server shall respond to the
NF service consumer with a 201 Created message, including Location header
field containing the URI for the created resource.
The VAE Server shall use the URI received in the Location header in subsequent
requests to the VAE Server to refer to the \"Individual File Distribution\".
Upon receipt of the HTTP DELETE message from the NF service consumer, the VAE
Server shall check if the Individual File Distribution resource identified by
the URI already exists. If the resource exists, the VAE Server shall delete
the resource and respond to the NF service consumer with a 204 No Content
success message.
If errors occur when processing the HTTP POST or DELETE request, the VAE
Server shall apply error handling procedures as specified in subclause 6.2.7.
When the message delivery duration expires, the VAE server may remove the
associated Individual Message Delivery resource locally.
The VAE server makes use of the xMB procedures as defined 3GPP TS 29.116 [19]
to create MBMS sessions whose type is set to \"files\" and to request the
delivery of files over these sessions. Before provisioning files to the BMâ€‘SC,
the VAE server prepares the file for distribution, which may include partition
of large files into smaller files or encryption.
The VAE server is responsible for translating the parameters related to the
V2X application triggering the file delivery into corresponding xMB
parameters. Table 5.3.2.2.2-1 describes the mapping between the
VAE_FileDistribution API attribute and the xMB API properties specified in
3GPP TS 29.116 [19].
Table 5.3.2.2.2-1: Mapping between VAE_FileDistribution API and xMB API
* * *
V2X parameter Corresponding xMB API property serviceClass service-class
fileLists file-list geoArea geographical-area maxBitrate max-bitrate maxDelay
max-delay
* * *
NOTE: The list of V2X parameters needed for file delivery is not exhaustive
and can be updated based on the specific V2X application requirements.
## 5.4 VAE_ApplicationRequirement Service
### 5.4.1 Service Description
This API enables the V2X application specific server to communicate with the
VAE server to provide V2X application requirement to the underlying 3GPP
network.
### 5.4.2 Service Operations
#### 5.4.2.1 Introduction
The VAE_ApplicationRequirement service supports following service operations:
\- Reserve_NetworkResource
\- Notify_NetworkResource
#### 5.4.2.2 Reserve_NetworkResource
##### 5.4.2.2.1 General
The Reserve_NetworkResource service operation is used to provide V2X
application requirement to underlying 3GPP network.
##### 5.4.2.2.2 Reserve Network Resource
Figure 5.4.2.2.2-1: Reserve Network Resource
When the NF service consumer (e.g. V2X application specific server) needs to
provide V2X application requirement to the underlying 3GPP network, the NF
service consumer shall send the POST method as step 1 of the figure
5.4.2.2.2-1 to request to create an \"Individual Application Requirement\".
The NF service consumer shall include ApplicationRequirementData data
structure in the payload body of the HTTP POST to request a creation of
representation of the \"Individual Application Requirement\" resource. The
\"Individual Application Requirement\" resource is created as described below.
The NF service consumer within the ApplicationRequirementData data structure
shall include:
\- Either the V2X Group ID within the \"groupId\" attribute or the V2X UE ID
within the \"ueId\" attribute;
\- notification URI within the \"notifUri\" attribute;
\- The service Id within the \"serviceId\" attribute; and
\- V2X application requirement within the \"appRequirement\" attribute;
and may include:
\- The duration within the \"duration\" attribute.
When the VAE Server receives the HTTP POST request from the NF service
consumer, the VAE server shall make an authorization based on the information
received from the NF service consumer. If the authorization is successful, the
VAE Server shall create a new resource, which represents \"Individual
Application Requirement\", addressed by a URI as defined in clause 6.3.3.3.2
and contains a VAE Server created resource identifier. The VAE Server shall
respond to the NF service consumer with a 201 Created message, including
Location header field containing the URI for the created resource.
The NF service consumer shall use the URI received in the Location header in
subsequent requests to the VAE Server to refer to the \"Individual Application
Requirement\".
Upon receipt of the HTTP DELETE message from the NF service consumer, the VAE
Server shall check if the Individual Application Requirement resource
identified by the URI already exists. If the resource exists, the VAE Server
shall delete the resource and respond to the NF service consumer with a 204 No
Content success message.
If errors occur when processing the HTTP POST or DELETE request, the VAE
Server shall apply error handling procedures as specified in subclause 6.3.7.
When the message delivery duration expires, the VAE server may remove the
associated Individual Application Requirement resource locally.
#### 5.4.2.3 Notify_NetworkResource
##### 5.4.2.3.1 General
The Notify_NetworkResource service operation is used to notify the result of
network resource adaptation corresponding to the V2X application requirement.
##### 5.4.2.3.2 Notify Network Resource
Figure 5.4.2.3.2-1: Notify Network Resource
If the VAE Server receives the result of network resource adaptation
corresponding to the V2X application requirement, the VAE Server shall send an
HTTP POST request with \"{notifUri}\" as previously provided by the NF service
consumer within the corresponding subscription as URI and AppReqNotification
data structure as request body that shall include:
\- resource URI of the individual Application Requirement related to the
notification within the \"resourceUri\" attribute;
\- the result of the network resource adaptation corresponding to the V2X
application requirement within the \"result\" attribute.
Upon the reception of the HTTP POST message, if the NF service consumer
successfully processed and accepted the received HTTP POST request, the NF
service consumer shall send an \"204 No Content\" HTTP response for a
succesfull processing.
If errors occur when processing the HTTP POST request, the VAE Server shall
send an HTTP error response as specified in subclause 6.3.7.
## 5.5 VAE_DynamicGroup Service
### 5.5.1 Service Description
This API enables the V2X application specific server to communicate with the
VAE server to configure dynamic group information.
### 5.5.2 Service Operations
#### 5.5.2.1 Introduction
The VAE_DynamicGroup service supports following service operations:
\- Configure_DynamicGroup
\- Notify_DynamicGroup
#### 5.5.2.2 Configure_DynamicGroup
##### 5.5.2.2.1 General
The Configure_DynamicGroup service operation is used to configures the dynamic
group information at the VAE server.
##### 5.5.2.2.2 Configure Dynamic Group
Figure 5.5.2.2.2-1: Configure Dynamic Group
When the NF service consumer (e.g. V2X application specific server) needs to
configures the dynamic group information at the VAE server, the NF service
consumer shall send the POST method as step 1 of the figure 5.5.2.2.2-1 to
request to create an \"Individual Group Configuration\".
The NF service consumer shall include GroupConfigurationData data structure in
the payload body of the HTTP POST to request a creation of representation of
the \"Individual Group Configuration\" resource. The \"Individual Group
Configuration\" resource is created as described below.
The NF service consumer within GroupConfigurationData data structure shall
include:
\- The dynamic Group ID within the \"groupId\" attribute;
\- The group definition within the \"definition\" attribute;
\- The group leader Id within the \"leaderId\" attribute; and
\- The notification URI within the \"notifUri\" attribute.
and may include:
\- The duration within the \"duration\" attribute.
When the VAE Server receives the HTTP POST request from the NF service
consumer, the VAE server shall make an authorization based on the information
received from the NF service consumer. If the authorization is successful, the
VAE Server shall create a new resource, which represents \"Individual Group
Configuration\", addressed by a URI as defined in clause 6.4.3.2.2 and
contains a VAE Server created resource identifier. The VAE Server shall
respond to the NF service consumer with a 201 Created message, including
Location header field containing the URI for the created resource.
The NF service consumer shall use the URI received in the Location header in
subsequent requests to the VAE Server to refer to the \"Individual Group
Configuration\".
Upon receipt of the HTTP DELETE message from the NF service consumer, the VAE
Server shall check if the Individual Message Delivery resource identified by
the URI already exists. If the resource exists, the VAE Server shall delete
the resource and respond to the NF service consumer with a 204 No Content
success message.
If errors occur when processing the HTTP POST or DELETE request, the VAE
Server shall apply error handling procedures as specified in subclause 6.4.7.
When the message delivery duration expires, the VAE server may remove the
associated Individual Message Delivery resource locally.
#### 5.5.2.3 Notify_DynamicGroup
##### 5.5.2.3.1 General
The Notify_DynamicGroup service operation is used to notify the dynamic group
information (i.e. group member joins or leaves) at the VAE server.
##### 5.5.2.3.2 Notify Dynamic Group
Figure 5.5.2.3.2-1: Notify Dynamic Group
If the VAE Server receives the dynamic group information (i.e. group member
joins or leaves), the VAE Server shall send an HTTP POST request with
\"{notifUri}\" as previously provided by the NF service consumer within the
corresponding subscription as URI and DynamicGroupNotification data structure
as request body that shall include:
\- resource URI of the individual Application Requirement related to the
notification within the \"resourceUri\" attribute;
\- one or more joined group member within the \"joinedUeIds\" attribute if
available; and
\- one or more left group member within the \"leftUeIds\" attribute if
available.
Upon the reception of the HTTP POST message, the NF service consumer shall
send an \"204 No Content\" HTTP response for a succesfull processing.
If errors occur when processing the HTTP POST request, the NF service consumer
shall send an HTTP error response as specified in subclause 6.4.7.
## 5.6 VAE_ServiceContinuity Service
### 5.6.1 Service Description
This service provided by the VAE server enables exposing information to
facilitate the V2X service continuity.
### 5.6.2 Service Operations
#### 5.6.2.1 Introduction
The VAE_ServiceContinuity service supports following service operations:
\- Query_ServiceContinuity
#### 5.6.2.2 Query_ServiceContinuity
##### 5.6.2.2.1 General
The Query_ServiceContinuity service operation is used to query the VAE server
whether it can support the desired V2X service in the designated geographical
area.
##### 5.6.2.2.2 Query service continuity
Figure 5.6.2.2.2-1: Query service continuity
When the NF service consumer (e.g. V2X server) needs to query service
continuity information, the NF service consumer shall send an HTTP GET request
as step 1 of the figure 5.6.2.2.2-1 to the \"Individual Geographical Area\"
resource with query parameter V2X service id in \"service-id\". When the VAE
Server receives the HTTP GET request from the NF service consumer, the VAE
Server shall perform the query.
On success, \"200 OK\" shall be returned as step 2 of the figure 5.6.2.2.2-1
to indicate that the VAE server can support the desired V2X service for the
target \"Individual Geographical Area\" resource. The response body shall
contain the \"Individual Geographical Area" resource including the requested
V2X service id.
If errors occur when processing the HTTP POST request, the VAE Server shall
apply error handling procedures as specified in subclause 6.5.7.
# 6 API Definitions
## 6.1 VAE_MessageDelivery Service API
### 6.1.1 Introduction
The VAE_MessageDelivery shall use the VAE_MessageDelivery API.
The API URI of the VAE_MessageDelivery shall be:
**{apiRoot}/\ /\/**
The request URIs used in HTTP requests from the NF service consumer towards
the VAE Server shall have the Resource URI structure defined in clause 4.4.1
of 3GPP TS 29.501 [3], i.e.:
All resource URIs of this API shall have the following root:
**{apiRoot}/\ /\/\**
with the following components:
\- The {apiRoot} shall be set as described in 3GPP TS 29.501 [3].
\- The \ shall be \"vae-message-delivery\".
\- The \ shall be \"v1\".
\- The \ shall be set as described in clause
6.1.3.
### 6.1.2 Usage of HTTP
#### 6.1.2.1 General
Support of HTTP/1.1 (IETF RFC 7230 [12], IETF RFC 7231 [13], IETF RFC 7232
[14], IETF RFC 7233 [15], IETF RFC 7234 [16] and IETF RFC 7235 [17]) over TLS
(IETF RFC 5246 [18]) is mandatory and support of HTTP/2 as specified in clause
5 of 3GPP TS 29.500 [2] is recommended. A V2X application specific server
desiring to use HTTP/2 shall use the HTTP upgrade mechanism to negotiate
applicable HTTP version as described in IETF RFC 7540 [5].
HTTP/2, shall be transported as specified in clause 5.3 of 3GPP TS 29.500 [2].
An OpenAPI [6] specification of HTTP messages and content bodies for the
VAE_MessageDelivery is contained in Annex A.2.
#### 6.1.2.2 HTTP standard headers
##### 6.1.2.2.1 General
See clause 5.2.2 of 3GPP TS 29.500 [2] for the usage of HTTP standard headers.
##### 6.1.2.2.2 Content type
JSON, IETF RFC 8259 [7], shall be used as content type of the HTTP bodies
specified in the present specification as specified in clause 5.4 of 3GPP TS
29.500 [2]. The use of the JSON format shall be signalled by the content type
\"application/json\".
#### 6.1.2.3 HTTP custom headers
##### 6.1.2.3.1 General
The mandatory HTTP custom header fields specified in clause 5.2.3.2 of 3GPP TS
29.500 [2] shall be applicable.
### 6.1.3 Resources
#### 6.1.3.1 Overview
Figure 6.1.3.1-1: Resource URI structure of the VAE_MessageDelivery API
Table 6.1.3.1-1 provides an overview of the resources and applicable HTTP
methods.
Table 6.1.3.1-1: Resources and methods overview
* * *
Resource name Resource URI HTTP method or custom operation Description Message
Delivery Subscriptions /subscriptions POST Create a new Individual Message
Delivery Subscription resource. Individual Message Delivery Subscription
/subscriptions/{subscriptionId} GET Read an Individual Message Delivery
Subscription resource. DELETE Delete an Individual Message Delivery
Subscription resource. Downlink Message Deliveries
/subscriptions/{subscriptionId}/message-deliveries POST Create a new
Individual Downlink Message Delivery resource for a V2X UE ID or V2X group ID.
Individual Downlink Message Delivery /subscriptions/{subscriptionId}/message-
deliveries/{dlDeliveryId} GET Read the Individual Downlink Message Delivery
resource. DELETE Delete the Individual Downlink Message Delivery resource.
* * *
#### 6.1.3.2 Resource: Message Delivery Subscriptions
##### 6.1.3.2.1 Description
This resource represents the collection of the Individual Message Delivery
Subscription resources created in the VAE Server.
##### 6.1.3.2.2 Resource Definition
Resource URI: **{apiRoot}/vae-message-delivery/\ /subscriptions**
This resource shall support the resource URI variables defined in table
6.1.3.2.2-1.
Table 6.1.3.2.2-1: Resource URI variables for this resource
* * *
Name Data Type Definition apiRoot string See clause 6.1.1 apiVersion string
See clause 6.1.1
* * *
##### 6.1.3.2.3 Resource Standard Methods
###### 6.1.3.2.3.1 POST
This method shall support the URI query parameters specified in table
6.1.3.2.3.1-1.
Table 6.1.3.2.3.1-1: URI query parameters supported by the POST method on this
resource
* * *
Name Data type P Cardinality Description Applicability n/a
* * *
This method shall support the request data structures specified in table
6.1.3.2.3.1-2 and the response data structures and response codes specified in
table 6.1.3.2.3.1-3.
Table 6.1.3.2.3.1-2: Data structures supported by the POST Request Body on
this resource
* * *
Data type P Cardinality Description MessageDeliverySubscriptionData M 1
Parameters to create an Individual Message Delivery Subscription resources.
* * *
Table 6.1.3.2.3.1-3: Data structures supported by the POST Response Body on
this resource
+---------------+---+-------------+-------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+-------------+---------------+ | Messa | O | 0..1 | 201 Created | An Individual | | geDeliverySub | | | | Message | | scriptionData | | | | Delivery | | | | | | Subscription | | | | | | resource for | | | | | | the V2X UE ID | | | | | | or V2X group | | | | | | ID is created | | | | | | successfully. | +---------------+---+-------------+-------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the POST | | | | | | method listed | | | | | | in table | | | | | | 5.2.7.1-1 of | | | | | | 3GPP TS | | | | | | 29.500 [2] | | | | | | shall also | | | | | | apply. | | | | | +---------------+---+-------------+-------------+---------------+
Table 6.1.3.2.3.1-4: Headers supported by the 201 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 Contains the URI
of the newly created resource, according to the structure: {apiRoot}/vae-
message-delivery/\/subscriptions/{subscriptionId}
* * *
##### 6.1.3.2.4 Resource Custom Operations
None.
#### 6.1.3.3 Resource: Individual Message Delivery Subscription
##### 6.1.3.3.1 Description
The Individual Message Subscription resource represents an Individual Message
Delivery Subscription created in the VAE Server and associated with the V2X UE
ID or V2X group ID.
##### 6.1.3.3.2 Resource definition
Resource URI: **{apiRoot}/vae-message-delivery/\
/subscriptions/{subscriptionId}**
This resource shall support the resource URI variables defined in table
6.1.3.3.2-1.
Table 6.1.3.3.2-1: Resource URI variables for this resource
* * *
Name Data type Definition apiRoot string See clause 6.1.1 apiVersion string
See clause 6.1.1 subscriptionId string Unique identifier of the individual
Message Delivery Subscription resource for the V2X UE ID or V2X group ID.
* * *
##### 6.1.3.3.3 Resource Standard Methods
###### 6.1.3.3.3.1 GET
This method shall support the URI query parameters specified in table
6.1.3.3.3.1-1.
Table 6.1.3.3.3.1-1: URI query parameters supported by the GET method on this
resource
* * *
Name Data type P Cardinality Description n/a
* * *
This method shall support the request data structures specified in table
6.1.3.3.3.1-2 and the response data structures and response codes specified in
table 6.1.3.3.3.1-3.
Table 6.1.3.3.3.1-2: Data structures supported by the GET Request Body on this
resource
* * *
Data type P Cardinality Description n/a
* * *
Table 6.1.3.3.3.1-3: Data structures supported by the GET Response Body on
this resource
* * *
Data type P Cardinality Response codes Description
MessageDeliverySubscriptionData M 1 200 OK An individual Message Delivery
Subscription resource for the V2X UE ID or V2X group ID is returned
successfully. NOTE: The mandatory HTTP error status codes for the GET method
listed in table 5.2.7.1-1 of 3GPP TS 29.500 [2] shall also apply.
* * *
###### 6.1.3.3.3.2 DELETE
This method shall support the URI query parameters specified in table
6.1.3.3.3.2-1.
Table 6.1.3.3.3.2-1: URI query parameters supported by the DELETE method on
this resource
* * *
Name Data type P Cardinality Description n/a
* * *
This method shall support the request data structures specified in table
6.1.3.3.3.2-2 and the response data structures and response codes specified in
table 6.1.3.3.3.2-3.
Table 6.1.3.3.3.2-2: Data structures supported by the DELETE Request Body on
this resource
* * *
Data type P Cardinality Description n/a
* * *
Table 6.1.3.3.3.2-3: Data structures supported by the DELETE Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | n/a | | | 204 No | Individual | | | | | Content | Message | | | | | | Delivery | | | | | | Subscription | | | | | | was | | | | | | successfully | | | | | | deleted. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the | | | | | | DELETE method | | | | | | listed in | | | | | | Table | | | | | | 5.2.7.1-1 of | | | | | | 3GPP TS | | | | | | 29.500 [5] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
##### 6.1.3.3.4 Resource Custom Operations
None.
#### 6.1.3.4 Resource: Downlink Message Deliveries
##### 6.1.3.4.1 Description
This resource represents the collection of the individual Downlink Message
Delivery resources created in the VAE Server.
##### 6.1.3.4.2 Resource Definition
Resource URI: **{apiRoot}/vae-message-delivery/\
/subscriptions/{subscriptionId}/message-deliveries**
This resource shall support the resource URI variables defined in table
6.1.3.4.2-1.
Table 6.1.3.4.2-1: Resource URI variables for this resource
* * *
Name Data type Definition apiRoot string See clause 6.1.1 apiVersion string
See clause 6.1.1 subscriptionId string Unique identifier of the individual
Message Delivery Subscription resource for the V2X UE ID or V2X group ID.
* * *
##### 6.1.3.4.3 Resource Standard Methods
###### 6.1.3.4.3.1 POST
This method shall support the URI query parameters specified in table
6.1.3.4.3.1-1.
Table 6.1.3.4.3.1-1: URI query parameters supported by the POST method on this
resource
* * *
Name Data type P Cardinality Description Applicability n/a
* * *
This method shall support the request data structures specified in table
6.1.3.4.3.1-2 and the response data structures and response codes specified in
table 6.1.3.4.3.1-3.
Table 6.1.3.4.3.1-2: Data structures supported by the POST Request Body on
this resource
* * *
Data type P Cardinality Description DownlinkMessageDeliveryData M 1 Parameters
to create an Individual Downlink Message Delivery resources.
* * *
Table 6.1.3.4.3.1-3: Data structures supported by the POST Response Body on
this resource
+---------------+---+-------------+-------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+-------------+---------------+ | D | O | 0..1 | 201 Created | An Individual | | ownlinkMessag | | | | Downlink | | eDeliveryData | | | | Message | | | | | | Delivery | | | | | | resource for | | | | | | the V2X UE ID | | | | | | **or** V2X | | | | | | group ID is | | | | | | created | | | | | | successfully. | +---------------+---+-------------+-------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the POST | | | | | | method listed | | | | | | in table | | | | | | 5.2.7.1-1 of | | | | | | 3GPP TS | | | | | | 29.500 [2] | | | | | | shall also | | | | | | apply. | | | | | +---------------+---+-------------+-------------+---------------+
Table 6.1.3.4.3.1-4: Headers supported by the 201 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 Contains the URI
of the newly created resource, according to the structure: {apiRoot}/vae-
message-delivery/\/subscriptions/{subscriptionId}/message-
deliveries/{dlDeliveryId}
* * *
##### 6.1.3.4.4 Resource Custom Operations
None.
#### 6.1.3.5 Resource: Individual Downlink Message Delivery
##### 6.1.3.3.1 Description
The Individual Downlink Message Delivery resource represents an Individual
Downlink Message Delivery created in the VAE Server and associated with the
V2X UE ID or V2X group ID.
##### 6.1.3.5.2 Resource definition
Resource URI: **{apiRoot}/vae-message-delivery/\
/subscriptions/{subscriptionId}/message-
deliveries/{dlDeliveryId}**
This resource shall support the resource URI variables defined in table
6.1.3.5.2-1.
Table 6.1.3.5.2-1: Resource URI variables for this resource
* * *
Name Data type Definition apiRoot string See clause 6.1.1 apiVersion string
See clause 6.1.1 subscriptionId string Unique identifier of the individual
Message Delivery Subscription resource for the V2X UE ID or V2X group ID.
dlDeliveryId string Unique identifier of the Individual Downlink Message
Delivery resource for the V2X UE ID or V2X group ID.
* * *
##### 6.1.3.5.3 Resource Standard Methods
###### 6.1.3.5.3.1 GET
This method shall support the URI query parameters specified in table
6.1.3.5.3.1-1.
Table 6.1.3.5.3.1-1: URI query parameters supported by the GET method on this
resource
* * *
Name Data type P Cardinality Description n/a
* * *
This method shall support the request data structures specified in table
5.1.3.5.3.1-2 and the response data structures and response codes specified in
table 5.1.3.5.3.1-3.
Table 6.1.3.5.3.1-2: Data structures supported by the GET Request Body on this
resource
* * *
Data type P Cardinality Description n/a
* * *
Table 6.1.3.5.3.1-3: Data structures supported by the GET Response Body on
this resource
* * *
Data type P Cardinality Response codes Description DownlinkMessageDeliveryData
M 1 200 OK An individual Downlink Message Delivery resource for the V2X UE ID
**or** V2X group ID is returned successfully. NOTE: The mandatory HTTP error
status codes for the GET method listed in table 5.2.7.1-1 of 3GPP TS 29.500
[2] shall also apply.
* * *
###### 6.1.3.5.3.2 DELETE
This method shall support the URI query parameters specified in table
6.1.3.5.3.2-1.
Table 6.1.3.5.3.2-1: URI query parameters supported by the DELETE method on
this resource
* * *
Name Data type P Cardinality Description n/a
* * *
This method shall support the request data structures specified in table
6.1.3.5.3.2-2 and the response data structures and response codes specified in
table 6.1.3.5.3.2-3.
Table 6.1.3.5.3.2-2: Data structures supported by the DELETE Request Body on
this resource
* * *
Data type P Cardinality Description n/a
* * *
Table 6.1.3.5.3.2-3: Data structures supported by the DELETE Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | n/a | | | 204 No | Individual | | | | | Content | Downlink | | | | | | Message | | | | | | Delivery | | | | | | resource was | | | | | | successfully | | | | | | deleted. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the | | | | | | DELETE method | | | | | | listed in | | | | | | Table | | | | | | 5.2.7.1-1 of | | | | | | 3GPP TS | | | | | | 29.500 [5] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
##### 6.1.3.3.4 Resource Custom Operations
None.
### 6.1.4 Custom Operations without associated resources
There are no custom operations without associated resources supported on
VAE_MessageDelivery.
### 6.1.5 Notifications
#### 6.1.5.1 General
The VAE server and NF service consumer shall support the delivery of
Notifications using a separate HTTP connection towards an address as assigned
the NF service consumer described in clause 6.1.5.2.
A VAE server and NF service consumer may support testing a notification
connection as described in clause 6.1.5.3. A VAE server and NF service
consumer may support the delivery of Notification using Websocket (IETF RFC
6455 [21]) as described in clause 6.1.5.4.
#### 6.1.5.2 Notification Delivery using a separate HTTP connection
The descriptions in clause 5.2.5.2 of 3GPP TS 29.122 [22] apply with following
differences:
\- description of SCS/AS applies to the NF service consumer;
\- description of SCEF applies to the VAE server; and
\- \"notificationDestination\" attribute is replaced by the \"notifUri\"
attribute.
#### 6.1.5.3 Notification Test Event
The descriptions in clause 5.2.5.3 of 3GPP TS 29.122 [22] apply with following
differences:
\- description of SCS/AS applies to the NF service consumer; and
\- description of SCEF applies to the VAE server.
#### 6.1.5.4 Notification Delivery using Websocket
The descriptions in clause 5.2.5.4 of 3GPP TS 29.122 [22] apply with following
differences:
\- description of SCS/AS applies to the NF service consumer; and
\- description of SCEF applies to the VAE server.
#### 6.1.5.5 Methods
Table 6.1.5.5-1: Notifications
* * *
Callback URI HTTP method or custom operation Description (service operation)
{notifUri} POST Uplink Message Delivery.
* * *
#### 6.1.5.6 Uplink Message Delivery
##### 6.1.5.6.1 Description
This notification is used by the VAE Server to deliver the uplink message to
the update the policy.
##### 6.1.5.6.2 Operation Definition
This operation shall support the request data structures specified in table
6.1.5.6.2-1 and the response data structure and response codes specified in
table 6.1.5.6.2-2.
Table 6.1.5.6.2-1: Data structures supported by the POST Request Body on this
resource
* * *
Data type P Cardinality Description UplinkMessageDeliveryData M 1 Contains the
uplink message delivery data
* * *
Table 6.1.5.6.2-2: Data structures supported by the POST Response Body on this
resource
* * *
Data type P Cardinality Response codes Description n/a 204 No Content The
uplink message is delivery successfully. NOTE: The mandatory HTTP error status
codes for the POST method listed in table 5.2.7.1-1 of 3GPP TS 29.500 [4]
shall also apply.
* * *
### 6.1.6 Data Model
#### 6.1.6.1 General
This clause specifies the application data model supported by the API.
Table 6.1.6.1-1 specifies the data types defined for the VAE_MessageDelivery
API.
Table 6.1.6.1-1: VAE_MessageDelivery specific Data Types
* * *
Data type Section defined Description Applicability AppServerId 6.1.6.3.2
Identity of the V2X application specific server.  
DownlinkMessageDeliveryData 6.1.6.2.2 Contains the downlink V2X message
delivery data  
GeoId 6.1.6.3.2 Geographical area identifier  
UplinkMessageDeliveryData 6.1.6.2.4 Contains the uplink V2X message delivery
data  
MessageDeliverySubscriptionData 6.1.6.2.3 Contains the V2X message delivery
subscription data  
V2xGroupId 6.1.6.3.2 The group ID for which the V2X message is addressed  
V2xServiceID 6.1.6.3.2 The V2X service ID to which the V2X message belongs to  
V2xUeId 6.1.6.3.2 Identifier of the destination V2X UE  
V2xMessagePayload 6.1.6.3.2 V2X message payload carried by the V2X message
* * *
Table 6.1.6.1-2 specifies data types re-used by the VAE_MessageDelivery
service based interface protocol from other specifications, including a
reference to their respective specifications and when needed, a short
description of their use within the VAE_MessageDelivery service based
interface.
Table 6.1.6.1-2: VAE_MessageDelivery re-used Data Types
* * *
Data type Reference Comments Applicability Bytes 3GPP TS 29.571 [11] String
with format \"byte\" as defined in OpenAPI Specification [6], i.e,
base64-encoded characters  
DateTime 3GPP TS 29.571 [11] String with format \"date-time\" as defined in
OpenAPI Specification [6].  
SupportedFeatures 3GPP TS 29.571 [11]  
TestNotification 3GPP TS 29.122 [22] Represents a notification that can be
sent to test whether a chosen notification mechanism works.
Notification_test_event Uri 3GPP TS 29.571 [11]  
WebsockNotifConfig 3GPP TS 29.122 [22] Pepresents configuration for the
delivery of notifications over Websockets. Notification_websocket
* * *
#### 6.1.6.2 Structured data types
##### 6.1.6.2.1 Introduction
This clause defines the structures to be used in resource representations.
##### 6.1.6.2.2 Type: DownlinkMessageDeliveryData
Table 6.1.6.2.2-1: Definition of type DownlinkMessageDeliveryData
* * *
Attribute name Data type P Cardinality Description Applicability ueId V2xUeId
O 0..1 Indicates an identifier of the V2X UE.  
groupId V2xGroupId O 0..1 Indicates a group ID for which the V2X message is
addressed.  
geoId GeoId O 0..1 Indicates a geographical area identifier.  
payload V2xMessagePayload M 1 Constains the V2X message payload carried by the
V2X message  
duration DateTime O 0..1 Identifies the absolute time at which the related
Individual Downlink Message Delivery resource is considered to expire. When
omitted in the request, it indicates the resource is requested to be valid
forever by the NF service consumer. When omitted in the response, it indicates
the resource is set to valid forever by the VAE server  
NOTE: Either \"ueId\" attribute or \"groupId\" attribute shall be included.
* * *
##### 6.1.6.2.3 Type: MessageDeliverySubscriptionData
Table 6.1.6.2.3-1: Definition of type MessageDeliverySubscriptionData
* * *
Attribute name Data type P Cardinality Description Applicability appSerId
AppServerId M 1 Identity of the V2X application specific server.  
serviceId V2xServiceId M 1 Indicates a V2X service ID to which the V2X message
belongs to.  
geoId GeoId O 0..1 Indicates a geographical area identifier.  
notifUri Uri M 1 Contains the notification URIã€‚  
requestTestNotification boolean O 0..1 Set to true by the NF service consumer
to request the VAE server to send a test notification as defined in clause
6.1.5.3. Set to false or omitted otherwise. Notification_test_event
websockNotifConfig WebsockNotifConfig O 0..1 Configuration parameters to set
up notification delivery over Websocket protocol as defined in clause 6.1.5.4.
Notification_websocket suppFeat SupportedFeatures C 0..1 Indicates the
features supported by the service consumer and VAE server. It shall be
included in the request and response of the creation of individual Message
Delivery Subscription resource.
* * *
##### 6.1.6.2.4 Type: UplinkMessageDeliveryData
Table 6.1.6.2.4-1: Definition of type UplinkMessageDeliveryData
* * *
Attribute name Data type P Cardinality Description Applicability resourceUri
Uri M 1 The resource URI of the individual Uplink Message Delivery
Subscription related to the notification.  
ueId V2xUeId M 1 Indicates an identifier of the V2X UE.  
geoId GeoId O 0..1 Indicates a geographical area identifier.  
payload V2xMessagePayload M 1 Contains the V2X message payload carried by the
V2X message
* * *
#### 6.1.6.3 Simple data types and enumerations
##### 6.1.6.3.1 Introduction
This clause defines simple data types and enumerations that can be referenced
from data structures defined in the previous clauses.
##### 6.1.6.3.2 Simple data types
The simple data types defined in table 6.1.6.3.2-1 shall be supported.
Table 6.1.6.3.2-1: Simple data types
* * *
Type Name Type Definition Description Applicability AppServerId string
Identity of the V2X application specific server  
GeoId string Defines a geographical area identifier.  
V2xGroupId string Defines a group ID for which the V2X message is addressed.  
V2xServiceId string Defines a V2X service ID to which the V2X message belongs
to  
V2xUeId string Identifier of the V2X UE  
V2xMessagePayload Bytes V2X message payload carried by the V2X message.
* * *
### 6.1.7 Error Handling
#### 6.1.7.1 General
HTTP error handling shall be supported as specified in clause 5.2.4 of 3GPP TS
29.500 [2].
For the VAE_MessageDelivery Service API, HTTP error responses shall be
supported as specified in subclause 4.8 of 3GPP TS 29.501 [3].
Protocol errors and application errors specified in table 5.2.7.2-1 of 3GPP TS
29.500 [2] shall be supported for an HTTP method if the corresponding HTTP
status codes are specified as mandatory for that HTTP method in table
5.2.7.1-1 of 3GPP TS 29.500 [2].
In addition, the requirements in the following subclauses are applicable for
the VAE_MessageDelivery Service API.
#### 6.1.7.2 Protocol Errors
In this Release of the specification, there are no additional protocol errors
applicable for the VAE_MessageDelivery API.
#### 6.1.7.3 Application Errors
The application errors defined for the VAE_MessageDelivery service are listed
in Table 6.1.7.3-1.
Table 6.1.7.3-1: Application errors
* * *
Application Error HTTP status code Description
* * *
### 6.1.8 Feature negotiation
The optional features in table 6.1.8-1 are defined for the VAE_MessageDelivery
API. They shall be negotiated using the extensibility mechanism defined in
clause 6.6 of 3GPP TS 29.500 [2].
Table 6.1.8-1: Supported Features
* * *
Feature number Feature Name Description 1 Notification_test_event The testing
of notification connection is supported according to clause 6.1.5.3. 2
Notification_websocket The delivery of notifications over Websocket is
supported according to clause 6.1.5.4. This feature requires that the
Notification_test_event feature is also supported.
* * *
## 6.2 VAE_FileDistribution Service API
### 6.2.1 Introduction
The VAE_FileDistribution shall use the VAE_FileDistribution API.
The API URI of the VAE_FileDistribution shall be:
**{apiRoot}/\ /\/**
The request URIs used in HTTP requests from the NF service consumer towards
the VAE Server shall have the Resource URI structure defined in clause 4.4.1
of 3GPP TS 29.501 [3], i.e.:
**{apiRoot}/\ /\/\**
with the following components:
\- The {apiRoot} shall be set as described in 3GPP TS 29.501 [3].
\- The \ shall be \"vae-file-distribution\".
\- The \ shall be \"v1\".
\- The \ shall be set as described in clause
6.2.3.
### 6.2.2 Usage of HTTP
#### 6.2.2.1 General
Support of HTTP/1.1 (IETF RFC 7230 [12], IETF RFC 7231 [13], IETF RFC 7232
[14], IETF RFC 7233 [15], IETF RFC 7234 [16] and IETF RFC 7235 [17]) over TLS
(IETF RFC 5246 [18]) is mandatory and support of HTTP/2 as specified in clause
5 of 3GPP TS 29.500 [2] is recommended. A V2X application specific server
desiring to use HTTP/2 shall use the HTTP upgrade mechanism to negotiate
applicable HTTP version as described in IETF RFC 7540 [5].
HTTP/2, shall be transported as specified in clause 5.3 of 3GPP TS 29.500 [2].
An OpenAPI [6] specification of HTTP messages and content bodies for the
VAE_FileDistribution is contained in Annex A.3.
#### 6.2.2.2 HTTP standard headers
##### 6.2.2.2.1 General
See clause 5.2.2 of 3GPP TS 29.500 [2] for the usage of HTTP standard headers.
##### 6.2.2.2.2 Content type
JSON, IETF RFC 8259 [7], shall be used as content type of the HTTP bodies
specified in the present specification as specified in clause 5.4 of 3GPP TS
29.500 [2]. The use of the JSON format shall be signalled by the content type
\"application/json\".
#### 6.2.2.3 HTTP custom headers
##### 6.2.2.3.1 General
The mandatory HTTP custom header fields specified in clause 5.2.3.2 of 3GPP TS
29.500 [2] shall be applicable.
### 6.2.3 Resources
#### 6.2.3.1 Overview
Figure 6.2.3.1-1: Resource URI structure of the VAE_FileDistribution API
Table 6.2.3.1-1 provides an overview of the resources and applicable HTTP
methods.
Table 6.2.3.1-1: Resources and methods overview
* * *
Resource name Resource URI HTTP method or custom operation Description File
Distributions /file-distributions POST Create a new Individual File
Distribution resource for a V2X group ID. Individual File Distribution /file-
distributions/{distributionId} GET Read an Individual File Distribution
resource. DELETE Delete an Individual File Distribution resource.
* * *
#### 6.2.3.2 Resource: File Distributions
##### 6.2.3.2.1 Description
This resource represents the collection of the individual File Distribution
resources created in the VAE Server.
##### 6.2.3.2.2 Resource Definition
Resource URI: **{apiRoot}/vae-file-distribution/\ /file-
distributions**
This resource shall support the resource URI variables defined in table
6.2.3.2.2-1.
Table 6.2.3.2.2-1: Resource URI variables for this resource
* * *
Name Data type Definition apiRoot string See clause 6.2.1 apiVersion string
See clause 6.2.1
* * *
##### 6.2.3.2.3 Resource Standard Methods
###### 6.2.3.2.3.1 POST
This method shall support the URI query parameters specified in table
6.2.3.2.3.1-1.
Table 6.2.3.2.3.1-1: URI query parameters supported by the POST method on this
resource
* * *
Name Data type P Cardinality Description Applicability n/a
* * *
This method shall support the request data structures specified in table
6.2.3.2.3.1-2 and the response data structures and response codes specified in
table 6.2.3.2.3.1-3.
Table 6.2.3.2.3.1-2: Data structures supported by the POST Request Body on
this resource
* * *
Data type P Cardinality Description FileDistributionData M 1 Parameters to
create an individual File Distribution resource.
* * *
Table 6.2.3.2.3.1-3: Data structures supported by the POST Response Body on
this resource
+---------------+---+-------------+-------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+-------------+---------------+ | FileDis | O | 0..1 | 201 Created | An individual | | tributionData | | | | File | | | | | | Distribution | | | | | | resource for | | | | | | the V2X group | | | | | | ID is created | | | | | | successfully. | +---------------+---+-------------+-------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the POST | | | | | | method listed | | | | | | in table | | | | | | 5.2.7.1-1 of | | | | | | 3GPP TS | | | | | | 29.500 [2] | | | | | | shall also | | | | | | apply. | | | | | +---------------+---+-------------+-------------+---------------+
Table 6.2.3.2.3.1-4: Headers supported by the 201 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 Contains the URI
of the newly created resource, according to the structure: {apiRoot}/vae-file-
distribution/\/file-distributions/{distributionId}
* * *
##### 6.2.3.2.4 Resource Custom Operations
None.
#### 6.2.3.3 Resource: Individual File Distribution
##### 6.2.3.3.1 Description
The individual File Distribution resource represents an individual File
Distribution created in the VAE Server and associated with the V2X group ID.
##### 6.2.3.3.2 Resource definition
Resource URI: **{apiRoot}/vae-file-distribution/\ /file-
distributions/{distributionId}**
This resource shall support the resource URI variables defined in table
6.2.3.3-1.
Table 6.2.3.3.2-1: Resource URI variables for this resource
* * *
Name Data type Definition apiRoot string See clause 6.2.1 apiVersion string
See clause 6.2.1 distributionId string Unique identifier of the individual
File Distribution resource for the V2X group ID.
* * *
##### 6.2.3.3.3 Resource Standard Methods
###### 6.2.3.3.3.1 GET
This method shall support the URI query parameters specified in table
6.2.3.3.3.1-1.
Table 6.2.3.3.3.1-1: URI query parameters supported by the GET method on this
resource
* * *
Name Data type P Cardinality Description n/a
* * *
This method shall support the request data structures specified in table
6.2.3.3.3.1-2 and the response data structures and response codes specified in
table 6.2.3.3.3.1-3.
Table 6.2.3.3.1-2: Data structures supported by the GET Request Body on this
resource
* * *
Data type P Cardinality Description n/a
* * *
Table 6.2.3.3.3.1-3: Data structures supported by the GET Response Body on
this resource
* * *
Data type P Cardinality Response codes Description FileDistributionData M 1
200 OK An individual File Distribution resource for the V2X group ID is
returned successfully. NOTE: The mandatory HTTP error status codes for the GET
method listed in table 5.2.7.1-1 of 3GPP TS 29.500 [2] shall also apply.
* * *
###### 6.2.3.3.3.2 DELETE
This method shall support the URI query parameters specified in table
6.2.3.3.3.2-1.
Table 6.2.3.3.3.2-1: URI query parameters supported by the DELETE method on
this resource
* * *
Name Data type P Cardinality Description n/a
* * *
This method shall support the request data structures specified in table
6.2.3.3.3.2-2 and the response data structures and response codes specified in
table 6.2.3.3.3.2-3.
Table 6.2.3.3.3.2-2: Data structures supported by the DELETE Request Body on
this resource
* * *
Data type P Cardinality Description n/a
* * *
Table 6.2.3.3.3.2-3: Data structures supported by the DELETE Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | n/a | | | 204 No | Individual | | | | | Content | File | | | | | | Distribution | | | | | | resource was | | | | | | successfully | | | | | | deleted. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status code | | | | | | for the | | | | | | DELETE method | | | | | | listed in | | | | | | Table | | | | | | 5.2.7.1-1 of | | | | | | 3GPP TS | | | | | | 29.500 [2] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
##### 6.2.3.4 Resource Custom Operations
None.
### 6.2.4 Custom Operations without associated resources
There are no custom operations without associated resources supported on
VAE_FileDistribution.
### 6.2.5 Notifications
N/A
### 6.2.6 Data Model
#### 6.2.6.1 General
This clause specifies the application data model supported by the API.
Table 6.2.6.1-1 specifies the data types defined for the VAE_FileDistribution
API.
Table 6.2.6.1-1: VAE_FileDistribution specific Data Types
* * *
Data type Section defined Description Applicability FileStatus 6.2.6.3.3  
FileDistributionData 6.2.6.2.2  
Filelist 6.2.6.2.3
* * *
Table 6.1.6.1-2 specifies data types re-used by the VAE_FileDistribution
service based interface protocol from other specifications, including a
reference to their respective specifications and when needed, a short
description of their use within the VAE_FileDistribution service based
interface.
Table 6.2.6.1-2: VAE_FileDistribution re-used Data Types
* * *
Data type Reference Comments Applicability BitRate 3GPP TS 29.571 [11]  
DateTime 3GPP TS 29.571 [11]  
DurationSec 3GPP TS 29.571 [11]  
GeographicArea 3GPP TS 29.572 [20]  
SupportedFeatures 3GPP TS 29.571 [11]  
Uinteger 3GPP TS 29.571 [11]  
V2xGroupId 6.1.6.3.2
* * *
#### 6.2.6.2 Structured data types
##### 6.2.6.2.1 Introduction
This clause defines the structures to be used in resource representations.
##### 6.2.6.2.2 Type: FileDistributionData
Table 6.2.6.2.2-1: Definition of type FileDistributionData
* * *
Attribute name Data type P Cardinality Description Applicability groupId
V2xGroupId O 0..1 Indicates a group ID for which the V2X message is addressed.  
fileLists array(FileList) M 1..N File lists.  
serviceClass string O 0..1 Information about the V2X application (e.g.,
software update, HD map download)  
geoArea GeographicArea M 1 Target geographical area for the V2X Ues  
maxBitrate BitRate M 1 Maximum bitrate for the V2X application.  
maxDelay Uinteger M 1 Unsigned integer identifying a maximum delay in units of
milliseconds for the V2X application.  
duration DateTime O 0..1 Identifies the absolute time at which the related
Individual File Distribution Data resource is considered to expire. When
omitted in the request, it indicates the resource is requested to be valid
forever by the NF service consumer. When omitted in the response, it indicates
the resource is set to valid forever by the VAE server  
suppFeat SupportedFeatures C 0..1 Indicates the features supported by the
service consumer and VAE server. It shall be included in the request and
response of the Creation of Individual File Distribution Data resource..
* * *
##### 6.2.6.2.3 Type: FileList
Table 6.2.6.2.4-1: Definition of type FileList
* * *
Attribute name Data type P Cardinality Description Applicability fileUri Uri M
1  
fileDisplayUri Uri M 1  
fileEarFetchTime DateTime M 1  
fileLatFetchTime DateTime M 1  
fileSize Uinteger O 0..1  
fileStatus FileStatus M 1  
completionTime DateTime M 1  
keepUpdateInterval DurationSec M 1  
uniAvailability Boolean O 0..1  
fileRepetition Uinteger O 0..1
* * *
#### 6.2.6.3 Simple data types and enumerations
##### 6.2.6.3.1 Introduction
This clause defines simple data types and enumerations that can be referenced
from data structures defined in the previous clauses.
##### 6.2.6.3.2 Simple data types
The simple data types defined in table 6.1.6.3.2-1 shall be supported.
Table 6.2.6.3.2-1: Simple data types
* * *
Type Name Type Definition Description Applicability
* * *
##### 6.2.6.3.3 Enumeration: FileStatus
Table 6.2.6.3.3-1: Enumeration FileStatus
* * *
Enumeration value Description Applicability PENDING The file is pending.  
FETCHED The file is fetched  
PREPARED The file is prepared  
TRANSMITTING The file is transmitting  
SENT The file is sent.
* * *
### 6.2.7 Error Handling
#### 6.2.7.1 General
HTTP error handling shall be supported as specified in clause 5.2.4 of 3GPP TS
29.500 [2].
For the VAE_FileDistribution Service API, HTTP error responses shall be
supported as specified in subclause 4.8 of 3GPP TS 29.501 [3].
Protocol errors and application errors specified in table 5.2.7.2-1 of 3GPP TS
29.500 [2] shall be supported for an HTTP method if the corresponding HTTP
status codes are specified as mandatory for that HTTP method in table
5.2.7.1-1 of 3GPP TS 29.500 [2].
In addition, the requirements in the following subclauses are applicable for
the VAE_FileDistribution Service API.
#### 6.2.7.2 Protocol Errors
In this Release of the specification, there are no additional protocol errors
applicable for the VAE_FileDistribution API.
#### 6.2.7.3 Application Errors
The application errors defined for the VAE_FileDistribution service are listed
in Table 6.2.7.3-1.
Table 6.2.7.3-1: Application errors
* * *
Application Error HTTP status code Description
* * *
### 6.2.8 Feature negotiation
The optional features in table 6.1.8-1 are defined for the
VAE_FileDistribution API. They shall be negotiated using the extensibility
mechanism defined in clause 6.6 of 3GPP TS 29.500 [2].
Table 6.1.8-1: Supported Features
* * *
Feature number Feature Name Description
* * *
## 6.3 VAE_ApplicationRequirement API
### 6.3.1 Introduction
The VAE_ApplicationRequirement Service shall use the
VAE_ApplicationRequirement API.
The API URI of the VAE_ApplicationRequirement API shall be:
**{apiRoot}/\ /\/**
The request URIs used in HTTP requests from the NF service consumer towards
the VAE Server shall have the Resource URI structure defined in clause 4.4.1
of 3GPP TS 29.501 [3], i.e.:
**{apiRoot}/\ /\/\**
with the following components:
\- The {apiRoot} shall be set as described in 3GPP TS 29.501 [3].
\- The \ shall be \"vae-app-req\".
\- The \ shall be \"v1\".
\- The \ shall be set as described in clause
6.3.3.
### 6.3.2 Usage of HTTP
#### 6.3.2.1 General
Support of HTTP/1.1 (IETF RFC 7230 [12], IETF RFC 7231 [13], IETF RFC 7232
[14], IETF RFC 7233 [15], IETF RFC 7234 [16] and IETF RFC 7235 [17]) over TLS
(IETF RFC 5246 [18]) is mandatory and support of HTTP/2 as specified in clause
5 of 3GPP TS 29.500 [2] is recommended. A V2X application specific server
desiring to use HTTP/2 shall use the HTTP upgrade mechanism to negotiate
applicable HTTP version as described in IETF RFC 7540 [5].
HTTP/2, shall be transported as specified in clause 5.3 of 3GPP TS 29.500 [2].
An OpenAPI [6] specification of HTTP messages and content bodies for the
VAE_ApplicationRequirement is contained in Annex A.4.
#### 6.3.2.2 HTTP standard headers
##### 6.3.2.2.1 General
See clause 5.2.2 of 3GPP TS 29.500 [2] for the usage of HTTP standard headers.
##### 6.3.2.2.2 Content type
JSON, IETF RFC 8259 [7], shall be used as content type of the HTTP bodies
specified in the present specification as specified in clause 5.4 of 3GPP TS
29.500 [2]. The use of the JSON format shall be signalled by the content type
\"application/json\".
#### 6.3.2.3 HTTP custom headers
##### 6.3.2.3.1 General
The mandatory HTTP custom header fields specified in clause 5.2.3.2 of 3GPP TS
29.500 [2] shall be applicable.
### 6.3.3 Resources
#### 6.3.3.1 Overview
Figure 6.3.3.1-1: Resource URI structure of the VAE_ApplicationRequirement API
Table 6.3.3.1-1 provides an overview of the resources and applicable HTTP
methods.
Table 6.3.3.1-1: Resources and methods overview
* * *
Resource name Resource URI HTTP method or custom operation Description
Application Requirements /application-requirements POST Create a new
Individual Application Requirement resource for a V2X UE or V2X group ID.
Individual Application Requirement /application-requirements /{requirementId}
GET Read an Individual Application Requirement resource. DELETE Delete an
Individual Application Requirement resource.
* * *
#### 6.3.3.2 Resource: Application Requirements
##### 6.3.3.2.1 Description
This resource represents the collection of the individual Application
Requirement resources created in the VAE Server.
##### 6.3.3.2.2 Resource Definition
Resource URI: **{apiRoot}/vae-app-req/\ /application-
requirements**
This resource shall support the resource URI variables defined in table
6.3.3.2.2-1.
Table 6.3.3.2.2-1: Resource URI variables for this resource
* * *
Name Data type Definition apiRoot string See clause 6.3.1 apiVersion string
See clause 6.3.1
* * *
##### 6.3.3.2.3 Resource Standard Methods
###### 6.3.3.2.3.1 POST
This method shall support the URI query parameters specified in table
6.3.3.2.3.1-1.
Table 6.3.3.2.3.1-1: URI query parameters supported by the POST method on this
resource
* * *
Name Data type P Cardinality Description Applicability n/a
* * *
This method shall support the request data structures specified in table
6.3.3.2.3.1-2 and the response data structures and response codes specified in
table 6.3.3.2.3.1-3.
Table 6.3.3.2.3.1-2: Data structures supported by the POST Request Body on
this resource
* * *
Data type P Cardinality Description ApplicationRequirementData M 1 Parameters
to create an individual Application Requirement resource.
* * *
Table 6.3.3.2.3.1-3: Data structures supported by the POST Response Body on
this resource
+---------------+---+-------------+-------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+-------------+---------------+ | ApplicationRe | O | 0..1 | 201 Created | An individual | | quirementData | | | | Application | | | | | | Requirement | | | | | | resource for | | | | | | the V2X UE ID | | | | | | or the V2X | | | | | | group ID is | | | | | | created | | | | | | successfully. | +---------------+---+-------------+-------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the POST | | | | | | method listed | | | | | | in table | | | | | | 5.2.7.1-1 of | | | | | | 3GPP TS | | | | | | 29.500 [2] | | | | | | shall also | | | | | | apply. | | | | | +---------------+---+-------------+-------------+---------------+
Table 6.3.3.2.3.1-4: Headers supported by the 201 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 Contains the URI
of the newly created resource, according to the structure: {apiRoot}/vae-app-
req/\/application-requirements/{requirementId}
* * *
##### 6.3.3.2.4 Resource Custom Operations
None.
#### 6.3.3.3 Resource: Individual Application Requirement
##### 6.3.3.3.1 Description
The individual Application Requirement resource represents an individual
Application Requirement created in the VAE Server and associated with the V2X
UE ID or V2X group ID.
##### 6.3.3.3.2 Resource definition
Resource URI: **{apiRoot}/vae-app-req/\ /application-
requirements/{requirementId}**
This resource shall support the resource URI variables defined in table
6.2.3.3-1.
Table 6.3.3.3.2-1: Resource URI variables for this resource
* * *
Name Data type Definition apiRoot string See clause 6.3.1 apiVersion string
See clause 6.3.1 requirementId string Unique identifier of the individual
Application Requirement resource for the V2X UE ID or the V2X group ID.
* * *
##### 6.3.3.3.3 Resource Standard Methods
###### 6.3.3.3.3.1 GET
This method shall support the URI query parameters specified in table
6.3.3.3.3.1-1.
Table 6.3.3.3.3.1-1: URI query parameters supported by the GET method on this
resource
* * *
Name Data type P Cardinality Description n/a
* * *
This method shall support the request data structures specified in table
6.3.3.3.3.1-2 and the response data structures and response codes specified in
table 6.3.3.3.3.1-3.
Table 6.3.3.3.3.1-2: Data structures supported by the GET Request Body on this
resource
* * *
Data type P Cardinality Description n/a
* * *
Table 6.3.3.3.3.1-3: Data structures supported by the GET Response Body on
this resource
* * *
Data type P Cardinality Response codes Description ApplicationRequirementData
M 1 200 OK An individual Application Requirement resource for the V2X UE ID or
V2X group ID is returned successfully. NOTE: The mandatory HTTP error status
codes for the GET method listed in table 5.2.7.1-1 of 3GPP TS 29.500 [2] shall
also apply.
* * *
###### 6.3.3.3.3.2 DELETE
This method shall support the URI query parameters specified in table
6.3.3.3.3.2-1.
Table 6.3.3.3.3.2-1: URI query parameters supported by the DELETE method on
this resource
* * *
Name Data type P Cardinality Description n/a
* * *
This method shall support the request data structures specified in table
6.3.3.3.3.2-2 and the response data structures and response codes specified in
table 6.3.3.3.3.2-3.
Table 6.3.3.3.3.2-2: Data structures supported by the DELETE Request Body on
this resource
* * *
Data type P Cardinality Description n/a
* * *
Table 6.3.3.3.3.2-3: Data structures supported by the DELETE Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | n/a | | | 204 No | Individual | | | | | Content | Application | | | | | | Requirement | | | | | | resource was | | | | | | successfully | | | | | | deleted | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status code | | | | | | for the | | | | | | DELETE method | | | | | | listed in | | | | | | Table | | | | | | 5.2.7.1-1 of | | | | | | 3GPP TS | | | | | | 29.500 [5] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
##### 6.3.3.4 Resource Custom Operations
None.
### 6.3.4 Custom Operations without associated resources
There are no custom operations without associated resources supported on
VAE_ApplicationRequirement.
### 6.3.5 Notifications
#### 6.3.5.1 General
The VAE server and NF service consumer shall support the delivery of
Notifications using a separate HTTP connection towards an address as assigned
the NF service consumer described in clause 6.3.5.2.
A VAE server and NF service consumer may support testing a notification
connection as described in clause 6.3.5.3. A VAE server and NF service
consumer may support the delivery of Notification using Websocket (IETF RFC
6455 [21]) as described in clause 6.1.5.4.
#### 6.3.5.2 Notification Delivery using a separate HTTP connection
The descriptions in clause 5.2.5.2 of 3GPP TS 29.122 [22] apply with following
differences:
\- description of SCS/AS applies to the NF service consumer;
\- description of SCEF applies to the VAE server; and
\- \"notificationDestination\" attribute is replaced by the \"notifUri\"
attribute.
#### 6.3.5.3 Notification Test Event
The descriptions in clause 5.2.5.3 of 3GPP TS 29.122 [22] apply with following
differences:
\- description of SCS/AS applies to the NF service consumer; and
\- description of SCEF applies to the VAE server.
#### 6.3.5.4 Notification Delivery using Websocket
The descriptions in clause 5.2.5.4 of 3GPP TS 29.122 [22] apply with following
differences:
\- description of SCS/AS applies to the NF service consumer; and
\- description of SCEF applies to the VAE server.
#### 6.3.5.5 Methods
Table 6.3.5.5-1: Methods
* * *
Callback URI HTTP method or custom operation Description (service operation)
{notifUri} POST Notify the result of the network resource adaptation
corresponding to the V2X application requirement.
* * *
#### 6.3.5.6 Notify Network Resource
##### 6.3.5.6.1 Description
This notification is used by the VAE Server to notify the result of the
network resource adaptation corresponding to the V2X application requirement.
##### 6.3.5.6.2 Operation Definition
This operation shall support the request data structures specified in table
6.3.5.6.2-1 and the response data structure and response codes specified in
table 6.3.5.6.2-2.
Table 6.3.5.6.2-1: Data structures supported by the POST Request Body on this
resource
* * *
Data type P Cardinality Description AppReqNotification M 1 Notify the result
of the network resource adaptation corresponding to the V2X application
requirement.
* * *
Table 6.3.5.6.2-2: Data structures supported by the POST Response Body on this
resource
* * *
Data type P Cardinality Response codes Description n/a 204 No Content . NOTE
1: The mandatory HTTP error status codes for the POST method listed in table
5.2.7.1-1 of 3GPP TS 29.500 [4] shall also apply.
* * *
### 6.3.6 Data Model
#### 6.3.6.1 General
This clause specifies the application data model supported by the API.
Table 6.3.6.1-1 specifies the data types defined for the
VAE_ApplicationRequirement API.
Table 6.3.6.1-1: VAE_ApplicationRequirement specific Data Types
* * *
Data type Section defined Description Applicability ApplicationRequirement
6.3.6.2.3  
AppReqNotification 6.3.6.2.4  
ApplicationRequirementData 6.3.6.2.2  
ReservationResult 6.3.6.3.4  
ServiceLevel 6.3.6.3.3
* * *
Table 6.3.6.1-2 specifies data types re-used by the VAE_ApplicationRequirement
service based interface protocol from other specifications, including a
reference to their respective specifications and when needed, a short
description of their use within the VAE_ApplicationRequirement service based
interface.
Table 6.3.6.1-2: VAE_ApplicationRequirement re-used Data Types
* * *
Data type Reference Comments Applicability DateTime 3GPP TS 29.571 [11]  
SupportedFeatures 3GPP TS 29.571 [11]  
TestNotification 3GPP TS 29.122 [22] Represents a notification that can be
sent to test whether a chosen notification mechanism works.
Notification_test_event Uri 3GPP TS 29.571 [11] URI.  
V2xGroupId 6.1.6.3.2  
V2xServiceID 6.1.6.3.2 The V2X service ID to which the V2X message belongs to  
V2xUeId 6.1.6.3.2 Identifier of the destination V2X UE  
WebsockNotifConfig 3GPP TS 29.122 [22] Pepresents configuration for the
delivery of notifications over Websockets. Notification_websocket
* * *
#### 6.3.6.2 Structured data types
##### 6.3.6.2.1 Introduction
This clause defines the structures to be used in resource representations.
##### 6.3.6.2.2 Type: ApplicationRequirementData
Table 6.3.6.2.2-1: Definition of type ApplicationRequirementData
* * *
Attribute name Data type P Cardinality Description Applicability ueId V2xUeId
O 0..1 Indicates a UE ID for which the V2X message is addressed. (NOTE)  
groupId V2xGroupId O 0..1 Indicates a group ID for which the V2X message is
addressed. (NOTE)  
serviceId V2xServiceId M 1 The V2X service ID for which application
requirement corresponds to.  
appRequirement ApplicationRequirement M 1 The requirement for application
change. E.g. service levels for application service.  
notifUri Uri M 1 Identifies the recipient of V2X application requirement
notification sent by the VAE server.  
duration DateTime O 0..1 Identifies the absolute time at which the related
Individual Application Requirement resource is considered to expire. When
omitted in the request, it indicates the resource is requested to be valid
forever by the NF service consumer. When omitted in the response, it indicates
the resource is set to valid forever by the VAE server  
requestTestNotification boolean O 0..1 Set to true by the NF service consumer
to request the VAE server to send a test notification as defined in clause
6.3.5.3. Set to false or omitted otherwise. Notification_test_event
websockNotifConfig WebsockNotifConfig O 0..1 Configuration parameters to set
up notification delivery over Websocket protocol as defined in clause 6.3.5.4.
Notification_websocket suppFeat SupportedFeatures C 0..1 Indicates the
features supported by the service consumer. It shall be included in the first
interaction.  
NOTE: Either the \"ueId\" attribute or \"groupId\" attribute shall be
included.
* * *
##### 6.3.6.2.3 Type: ApplicationRequirement
Table 6.3.6.2.3-1: Definition of type ApplicationRequirement
* * *
Attribute name Data type P Cardinality Description Applicability serviceLevel
ServiceLevel O 0..1 Indicates a service level for application service.
* * *
##### 6.3.6.2.4 Type: AppReqNotification
Table 6.3.6.2.4-1: Definition of type AppReqNotification
* * *
Attribute name Data type P Cardinality Description Applicability resourceUri
Uri M 1 The resource URI of the individual Application Requirement related to
the notification.  
result ReservationResult M 1 The result of the network resource adaptation
corresponding to the V2X application requirement.
* * *
#### 6.3.6.3 Simple data types and enumerations
##### 6.3.6.3.1 Introduction
This clause defines simple data types and enumerations that can be referenced
from data structures defined in the previous clauses.
##### 6.3.6.3.2 Simple data types
The simple data types defined in table 6.3.6.3.2-1 shall be supported.
Table 6.3.6.3.2-1: Simple data types
* * *
Type Name Type Definition Description Applicability
* * *
##### 6.3.6.3.3 Enumeration: ServiceLevel
Table 6.3.6.3.3-1: Enumeration ServiceLevel
* * *
Enumeration value Description Applicability HIGH Service level is high.  
MEDIUM Service level is medium.  
LOW Service level is low.
* * *
##### 6.3.6.3.4 Enumeration: ReservationResult
Table 6.3.6.3.4-1: Enumeration ReservationResult
* * *
Enumeration value Description Applicability SUCCESSFUL The resource
reservation is successful.  
FAILURE The resource reservation is failure.
* * *
### 6.3.7 Error Handling
#### 6.3.7.1 General
HTTP error handling shall be supported as specified in clause 5.2.4 of 3GPP TS
29.500 [2].
For the VAE_ApplicationRequirement Service API, HTTP error responses shall be
supported as specified in subclause 4.8 of 3GPP TS 29.501 [3].
Protocol errors and application errors specified in table 5.2.7.2-1 of 3GPP TS
29.500 [2] shall be supported for an HTTP method if the corresponding HTTP
status codes are specified as mandatory for that HTTP method in table
5.2.7.1-1 of 3GPP TS 29.500 [2].
In addition, the requirements in the following subclauses are applicable for
the VAE_ApplicationRequirement Service API.
#### 6.3.7.2 Protocol Errors
In this Release of the specification, there are no additional protocol errors
applicable for the VAE_ApplicationRequirement API.
#### 6.3.7.3 Application Errors
The application errors defined for the VAE_ApplicationRequirement service are
listed in Table 6.3.7.3-1.
Table 6.3.7.3-1: Application errors
* * *
Application Error HTTP status code Description
* * *
### 6.3.8 Feature negotiation
The optional features in table 6.3.8-1 are defined for the
VAE_ApplicationRequirement API. They shall be negotiated using the
extensibility mechanism defined in clause 6.6 of 3GPP TS 29.500 [2].
Table 6.3.8-1: Supported Features
* * *
Feature number Feature Name Description 1 Notification_test_event The testing
of notification connection is supported according to clause 6.3.5.3. 2
Notification_websocket The delivery of notifications over Websocket is
supported according to clause 6.3.5.4. This feature requires that the
Notification_test_event feature is also supported.
* * *
## 6.4 VAE_DynamicGroup API
### 6.4.1 Introduction
The VAE_DynamicGroup service shall use the VAE_DynamicGroup API.
The API URI of the VAE_DynamicGroup API shall be:
**{apiRoot}/\ /\/**
The request URIs used in HTTP requests from the NF service consumer towards
the VAE Server shall have the Resource URI structure defined in clause 4.4.1
of 3GPP TS 29.501 [3], i.e.:
**{apiRoot}/\ /\/\**
with the following components:
\- The {apiRoot} shall be set as described in 3GPP TS 29.501 [3].
\- The \ shall be \"vae-dynamic-group\".
\- The \ shall be \"v1\".
\- The \ shall be set as described in clause
6.4.3.
### 6.4.2 Usage of HTTP
#### 6.4.2.1 General
Support of HTTP/1.1 (IETF RFC 7230 [12], IETF RFC 7231 [13], IETF RFC 7232
[14], IETF RFC 7233 [15], IETF RFC 7234 [16] and IETF RFC 7235 [17]) over TLS
(IETF RFC 5246 [18]) is mandatory and support of HTTP/2 as specified in clause
5 of 3GPP TS 29.500 [2] is recommended. A V2X application specific server
desiring to use HTTP/2 shall use the HTTP upgrade mechanism to negotiate
applicable HTTP version as described in IETF RFC 7540 [5].
HTTP/2, shall be transported as specified in clause 5.3 of 3GPP TS 29.500 [2].
An OpenAPI [6] specification of HTTP messages and content bodies for the
VAE_DynamicGroup is contained in Annex A.5.
#### 6.4.2.2 HTTP standard headers
##### 6.4.2.2.1 General
See clause 5.2.2 of 3GPP TS 29.500 [2] for the usage of HTTP standard headers.
##### 6.4.2.2.2 Content type
JSON, IETF RFC 8259 [7], shall be used as content type of the HTTP bodies
specified in the present specification as specified in clause 5.4 of 3GPP TS
29.500 [2]. The use of the JSON format shall be signalled by the content type
\"application/json\".
#### 6.4.2.3 HTTP custom headers
##### 6.4.2.3.1 General
The mandatory HTTP custom header fields specified in clause 5.2.3.2 of 3GPP TS
29.500 [2] shall be applicable.
### 6.4.3 Resources
#### 6.4.3.1 Overview
Figure 6.4.3.1-1: Resource URI structure of the VAE_DynamicGroup API
Table 6.4.3.1-1 provides an overview of the resources and applicable HTTP
methods.
Table 6.4.3.1-1: Resources and methods overview
* * *
Resource name Resource URI HTTP method or custom operation Description Group
Configurations /group-configurations POST Create a new Individual Group
Configuration resource for a V2X group ID. Individual Group Configuration
/group-configurations/{configId} GET Read an Individual Group Configuration
resource. DELETE Delete an Individual Group Configuration resource.
* * *
#### 6.4.3.2 Resource: Group Configurations
##### 6.4.3.2.1 Description
This resource represents the collection of the individual Application
Requirement resources created in the VAE Server.
##### 6.4.3.2.2 Resource Definition
Resource URI: **{apiRoot}/vae-dynamic-group/\
/group**-**configuration** s
This resource shall support the resource URI variables defined in table
6.4.3.2.2-1.
Table 6.4.3.2.2-1: Resource URI variables for this resource
* * *
Name Data type Definition apiRoot string See clause 6.4.1 apiVersion string
See clause 6.4.1
* * *
##### 6.4.3.2.3 Resource Standard Methods
###### 6.4.3.2.3.1 POST
This method shall support the URI query parameters specified in table
6.4.3.2.3.1-1.
Table 6.4.3.2.3.1-1: URI query parameters supported by the POST method on this
resource
* * *
Name Data type P Cardinality Description Applicability n/a
* * *
This method shall support the request data structures specified in table
6.4.3.2.3.1-2 and the response data structures and response codes specified in
table 6.4.3.2.3.1-3.
Table 6.4.3.2.3.1-2: Data structures supported by the POST Request Body on
this resource
* * *
Data type P Cardinality Description GroupConfigurationData M 1 Parameters to
create an individual Group Configuration resource.
* * *
Table 6.3.3.2.3.1-3: Data structures supported by the POST Response Body on
this resource
+---------------+---+-------------+-------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+-------------+---------------+ | GroupConf | O | 0..1 | 201 Created | An individual | | igurationData | | | | Group | | | | | | Configuration | | | | | | resource for | | | | | | the V2X group | | | | | | ID is created | | | | | | successfully. | +---------------+---+-------------+-------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the POST | | | | | | method listed | | | | | | in table | | | | | | 5.2.7.1-1 of | | | | | | 3GPP TS | | | | | | 29.500 [2] | | | | | | shall also | | | | | | apply. | | | | | +---------------+---+-------------+-------------+---------------+
Table 6.4.3.2.3.1-4: Headers supported by the 201 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 Contains the URI
of the newly created resource, according to the structure: {apiRoot}/vae-
dynamic-group/\/group-configurations/{configId}
* * *
##### 6.4.3.2.4 Resource Custom Operations
None.
#### 6.4.3.3 Resource: Individual Group Configuration
##### 6.4.3.3.1 Description
The individual Group Configuration resource represents an individual Group
Configuration created in the VAE Server and associated with the V2X group ID.
##### 6.4.3.3.2 Resource definition
Resource URI: **{apiRoot}/vae-dynamic-group/\
/group**-**configuration** s**/{configId}**
This resource shall support the resource URI variables defined in table
6.2.3.3-1.
Table 6.4.3.3.2-1: Resource URI variables for this resource
* * *
Name Data type Definition apiRoot string See clause 6.4.1. apiVersion string
See clause 6.4.1 configId string Unique identifier of the individual group
configuration resource for the V2X group ID.
* * *
##### 6.4.3.3.3 Resource Standard Methods
###### 6.4.3.3.3.1 GET
This method shall support the URI query parameters specified in table
6.4.3.3.3.1-1.
Table 6.4.3.3.3.1-1: URI query parameters supported by the GET method on this
resource
* * *
Name Data type P Cardinality Description n/a
* * *
This method shall support the request data structures specified in table
6.4.3.3.3.1-2 and the response data structures and response codes specified in
table 6.4.3.3.3.1-3.
Table 6.4.3.3.3.1-2: Data structures supported by the GET Request Body on this
resource
* * *
Data type P Cardinality Description n/a
* * *
Table 6.4.3.3.3.1-3: Data structures supported by the GET Response Body on
this resource
* * *
Data type P Cardinality Response codes Description GroupConfigurationData M 1
200 OK An individual Group Configuration resource for the V2X group ID is
returned successfully. NOTE: The mandatory HTTP error status codes for the GET
method listed in table 5.2.7.1-1 of 3GPP TS 29.500 [2] shall also apply.
* * *
###### 6.4.3.3.3.2 DELETE
This method shall support the URI query parameters specified in table
6.4.3.3.3.2-1.
Table 6.4.3.3.3.2-1: URI query parameters supported by the DELETE method on
this resource
* * *
Name Data type P Cardinality Description n/a
* * *
This method shall support the request data structures specified in table
6.4.3.3.3.2-2 and the response data structures and response codes specified in
table 6.4.3.3.3.2-3.
Table 6.4.3.3.3.2-2: Data structures supported by the DELETE Request Body on
this resource
* * *
Data type P Cardinality Description n/a
* * *
Table 6.4.3.3.3.2-3: Data structures supported by the DELETE Response Body on
this resource
+---------------+---+-------------+---------------+-------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+-------------+ | n/a | | | 204 No | | | | | | Content | | +---------------+---+-------------+---------------+-------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the | | | | | | DELETE method | | | | | | listed in | | | | | | table | | | | | | 5.2.7.1-1 of | | | | | | 3GPP TS | | | | | | 29.500 [2] | | | | | | shall also | | | | | | apply. | | | | | +---------------+---+-------------+---------------+-------------+
##### 6.4.3.4 Resource Custom Operations
None.
### 6.4.4 Custom Operations without associated resources
There are no custom operations without associated resources supported on
VAE_DynamicGroup API.
### 6.4.5 Notifications
#### 6.4.5.1 General
The VAE server and NF service consumer shall support the on-network dynamic
group notifications using a separate HTTP connection towards an address as
assigned the NF service consumer described in clause 6.4.5.2.
A VAE server and NF service consumer may support testing a notification
connection as described in clause 6.4.5.3. A VAE server and NF service
consumer may support the delivery of Notification using Websocket (IETF RFC
6455 [21]) as described in clause 6.4.5.4.
#### 6.4.5.2 Notification Delivery using a separate HTTP connection
The descriptions in clause 5.2.5.2 of 3GPP TS 29.122 [22] apply with following
differences:
\- description of SCS/AS applies to the NF service consumer;
\- description of SCEF applies to the VAE server; and
\- \"notificationDestination\" attribute is replaced by the \"notifUri\"
attribute.
#### 6.4.5.3 Notification Test Event
The descriptions in clause 5.2.5.3 of 3GPP TS 29.122 [22] apply with following
differences:
\- description of SCS/AS applies to the NF service consumer; and
\- description of SCEF applies to the VAE server.
#### 6.4.5.4 Notification Delivery using Websocket
The descriptions in clause 5.2.5.4 of 3GPP TS 29.122 [22] apply with following
differences:
\- description of SCS/AS applies to the NF service consumer; and
\- description of SCEF applies to the VAE server.
#### 6.4.5.5 Methods
Table 6.4.5.5-1: Methods
* * *
Callback URI HTTP method or custom operation Description (service operation)
{notifUri} POST Notify the dynamic group information (i.e. group member joins
or leaves).
* * *
#### 6.4.5.6 Notify Dynamic Group
##### 6.4.5.6.1 Description
This notification is used by the VAE Server to notify the dynamic group
information (i.e. group member joins or leaves).
##### 6.4.5.6.2 Operation Definition
This operation shall support the request data structures specified in table
6.4.5.6.2-1 and the response data structure and response codes specified in
table 6.4.5.6.2-2.
Table 6.4.5.6.2-1: Data structures supported by the POST Request Body on this
resource
* * *
Data type P Cardinality Description DynamicGroupNotification M 1 Notify the
dynamic group information (i.e. group member joins or leaves).
* * *
Table 6.3.5.6.2-2: Data structures supported by the POST Response Body on this
resource
* * *
Data type P Cardinality Response codes Description n/a 204 No Content . NOTE
1: The mandatory HTTP error status codes for the POST method listed in table
5.2.7.1-1 of 3GPP TS 29.500 [4] shall also apply.
* * *
### 6.4.6 Data Model
#### 6.4.6.1 General
This clause specifies the application data model supported by the API.
Table 6.4.6.1-1 specifies the data types defined for the VAE_DynamicGroup API.
Table 6.4.6.1-1: VAE_DynamicGroup specific Data Types
* * *
Data type Section defined Description Applicability DynamicGroupNotification
6.3.6.2.3  
GroupConfigurationData 6.3.6.2.2
* * *
Table 6.4.6.1-2 specifies data types re-used by the VAE_DynamicGroup service
based interface protocol from other specifications, including a reference to
their respective specifications and when needed, a short description of their
use within the VAE_DynamicGroup service based interface.
Table 6.4.6.1-2: VAE_DynamicGroup re-used Data Types
* * *
Data type Reference Comments Applicability DateTime 3GPP TS 29.571 [11] String
with format \"date-time\" as defined in OpenAPI Specification [6].  
SupportedFeatures 3GPP TS 29.571 [11]  
TestNotification 3GPP TS 29.122 [22] Represents a notification that can be
sent to test whether a chosen notification mechanism works.
Notification_test_event V2xGroupId 6.1.6.3.2  
V2xUeId 6.1.6.3.2 Identifier of the destination V2X UE  
WebsockNotifConfig 3GPP TS 29.122 [22] Pepresents configuration for the
delivery of notifications over Websockets. Notification_websocket
* * *
#### 6.4.6.2 Structured data types
##### 6.4.6.2.1 Introduction
This clause defines the structures to be used in resource representations.
##### 6.4.6.2.2 Type: GroupConfigurationData
Table 6.4.6.2.2-1: Definition of type GroupConfigurationData
* * *
Attribute name Data type P Cardinality Description Applicability groupId
V2xGroupId M 1 Indicates a group ID to be used for the V2X group.  
definition string M 1 Information about the V2X group.  
leaderId V2xUeId M 1 Indicates a UE ID to be used for user controlled group
join.  
duration DateTime O 0..1 Identifies the absolute time at which the related
Individual Group Configuration resource is considered to expire. When omitted
in the request, it indicates the resource is requested to be valid forever by
the NF service consumer. When omitted in the response, it indicates the
resource is set to valid forever by the VAE server  
notifUri Uri M 1 Identifies the recipient of V2X dynamic group notification
sent by the VAE server.  
requestTestNotification boolean O 0..1 Set to true by the NF service consumer
to request the VAE server to send a test notification as defined in clause
6.1.5.3. Set to false or omitted otherwise. Notification_test_event
websockNotifConfig WebsockNotifConfig O 0..1 Configuration parameters to set
up notification delivery over Websocket protocol as defined in clause 6.1.5.4.
Notification_websocket suppFeat SupportedFeatures C 0..1 Indicates the
features supported by the service consumer and VAE server. It shall be
included in the request and response of the Creation of Individual Group
Configuration resource.
* * *
##### 6.4.6.2.3 Type: DynamicGroupNotification
Table 6.4.6.2.2-1: Definition of type DynamicGroupNotification
* * *
Attribute name Data type P Cardinality Description Applicability resourceUri
Uri M 1 The resource URI of the individual Group Configuration related to the
notification.  
joinedUeIds array(V2xUeId) O 1..N The joined group member(s).  
leftUeIds array(V2xUeId) O 1..N The left group member(s).
* * *
#### 6.4.6.3 Simple data types and enumerations
##### 6.4.6.3.1 Introduction
This clause defines simple data types and enumerations that can be referenced
from data structures defined in the previous clauses.
##### 6.4.6.3.2 Simple data types
The simple data types defined in table 6.4.6.3.2-1 shall be supported.
Table 6.4.6.3.2-1: Simple data types
* * *
Type Name Type Definition Description Applicability
* * *
### 6.4.7 Error Handling
#### 6.4.7.1 General
HTTP error handling shall be supported as specified in clause 5.2.4 of 3GPP TS
29.500 [2].
For the VAE_DynamicGroup Service API, HTTP error responses shall be supported
as specified in subclause 4.8 of 3GPP TS 29.501 [3].
Protocol errors and application errors specified in table 5.2.7.2-1 of 3GPP TS
29.500 [2] shall be supported for an HTTP method if the corresponding HTTP
status codes are specified as mandatory for that HTTP method in table
5.2.7.1-1 of 3GPP TS 29.500 [2].
If the \"Redirect3XX\" feature is supported, an HTTP redirect response, i.e.
307 Temporary Redirect or 308 Permanent Redirect, shall be supported.
In addition, the requirements in the following subclauses are applicable for
the VAE_DynamicGroup Service API.
#### 6.4.7.2 Protocol Errors
In this Release of the specification, there are no additional protocol errors
applicable for the VAE_DynamicGroup API.
#### 6.4.7.3 Application Errors
The application errors defined for the VAE_DynamicGroup service are listed in
Table 6.4.7.3-1.
Table 6.4.7.3-1: Application errors
* * *
Application Error HTTP status code Description
* * *
### 6.4.8 Feature negotiation
The optional features in table 6.4.8-1 are defined for the VAE_DynamicGroup
API. They shall be negotiated using the extensibility mechanism defined in
clause 6.6 of 3GPP TS 29.500 [2].
Table 6.4.8-1: Supported Features
* * *
Feature number Feature Name Description 1 Notification_test_event The testing
of notification connection is supported according to clause 6.4.5.3. 2
Notification_websocket The delivery of notifications over Websocket is
supported according to clause 6.4.5.4. This feature requires that the
Notification_test_event feature is also supported.
* * *
## 6.5 VAE_ServiceContinuity Service API
### 6.5.1 Introduction
The VAE_ServiceContinuity shall use the VAE_ServiceContinuity API.
The API URI of the VAE_ServiceContinuity API shall be:
**{apiRoot}/\ /\/**
The request URIs used in HTTP requests from the NF service consumer towards
the VAE Server shall have the Resource URI structure defined in clause 4.4.1
of 3GPP TS 29.501 [3], i.e.:
**{apiRoot}/\ /\/\**
with the following components:
\- The {apiRoot} shall be set as described in 3GPP TS 29.501 [3].
\- The \ shall be \"vae-service-continuity\".
\- The \ shall be \"v1\".
\- The \ shall be set as described in clause
6.5.3.
### 6.5.2 Usage of HTTP
#### 6.5.2.1 General
Support of HTTP/1.1 (IETF RFC 7230 [12], IETF RFC 7231 [13], IETF RFC 7232
[14], IETF RFC 7233 [15], IETF RFC 7234 [16] and IETF RFC 7235 [17]) over TLS
(IETF RFC 5246 [18]) is mandatory and support of HTTP/2 as specified in clause
5 of 3GPP TS 29.500 [2] is recommended. A V2X application specific server
desiring to use HTTP/2 shall use the HTTP upgrade mechanism to negotiate
applicable HTTP version as described in IETF RFC 7540 [5].
HTTP/2, shall be transported as specified in clause 5.3 of 3GPP TS 29.500 [2].
An OpenAPI [6] specification of HTTP messages and content bodies for the
VAE_ServiceContinuity is contained in Annex A.6.
#### 6.5.2.2 HTTP standard headers
##### 6.5.2.2.1 General
See clause 5.2.2 of 3GPP TS 29.500 [2] for the usage of HTTP standard headers.
##### 6.5.2.2.2 Content type
JSON, IETF RFC 8259 [7], shall be used as content type of the HTTP bodies
specified in the present specification as specified in clause 5.4 of 3GPP TS
29.500 [2]. The use of the JSON format shall be signalled by the content type
\"application/json\".
#### 6.5.2.3 HTTP custom headers
##### 6.5.2.3.1 General
The mandatory HTTP custom header fields specified in clause 5.2.3.2 of 3GPP TS
29.500 [2] shall be applicable.
### 6.5.3 Resources
#### 6.5.3.1 Overview
Figure 6.5.3.1-1: Resource URI structure of the VAE_ServiceContinuity API
Table 6.5.3.1-1 provides an overview of the resources and applicable HTTP
methods.
Table 6.5.3.1-1: Resources and methods overview
* * *
Resource name Resource URI HTTP method or custom operation Description
Individual Geographical Area /geo-areas/{geoId} GET Query the Individual
Geographical Area resource.
* * *
#### 6.5.3.2 Resource: Individual Geographical Area
##### 6.5.3.2.1 Description
This resource represents the individual geographical area resource in the VAE
Server.
##### 6.5.3.2.2 Resource Definition
Resource URI: **{apiRoot}/vae-service-continuity/\ /geo-
areas/{geoId}**
This resource shall support the resource URI variables defined in table
6.5.3.2.2-1.
Table 6.5.3.2.2-1: Resource URI variables for this resource
* * *
Name Data type Definition apiRoot string See clause 6.5.1 apiVersion string
See clause 6.5.1 geoId string Geographical area id.
* * *
##### 6.5.3.2.3 Resource Standard Methods
###### 6.5.3.2.3.1 GET
This method shall support the URI query parameters specified in table
6.5.3.2.3.1-1.
Table 6.5.3.2.3.1-1: URI query parameters supported by the GET method on this
resource
* * *
Name Data type P Cardinality Description Applicability service-id V2xServiceId
M 1 V2X service id  
supp-feat SupportedFeatures O 0..1 To filter irrelevant responses related to
unsupported features.
* * *
This method shall support the request data structures specified in table
6.5.3.2.3.1-2 and the response data structures and response codes specified in
table 6.5.3.2.3.1-3.
Table 6.5.3.2.3.1-2: Data structures supported by the GET Request Body on this
resource
* * *
Data type P Cardinality Description n/a
* * *
Table 6.5.3.2.3.1-3: Data structures supported by the GET Response Body on
this resource
+-----------------+---+-------------+----------+-----------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +-----------------+---+-------------+----------+-----------------+ | V2xServiceInfo | M | 1 | 200 OK | An individual | | | | | | geographical | | | | | | area resource | | | | | | including the | | | | | | designated V2X | | | | | | service id is | | | | | | returned | | | | | | successfully. | +-----------------+---+-------------+----------+-----------------+ | NOTE: The | | | | | | mandatory HTTP | | | | | | error status | | | | | | codes for the | | | | | | GET method | | | | | | listed in table | | | | | | 5.2.7.1-1 of | | | | | | 3GPP | | | | | | TS 29.500 [2] | | | | | | shall also | | | | | | apply. | | | | | +-----------------+---+-------------+----------+-----------------+
##### 6.5.3.2.4 Resource Custom Operations
None.
### 6.5.4 Custom Operations without associated resources
There are no custom operations without associated resources supported on
VAE_ServiceContinuity.
### 6.5.5 Notifications
Notifications are not applicable for the current Release.
### 6.5.6 Data Model
#### 6.5.6.1 General
This clause specifies the application data model supported by the API.
Table 6.5.6.1-1 specifies the data types defined for the VAE_ServiceContinuity
API.
Table 6.5.6.1-1: VAE_ServiceContinuity specific Data Types
* * *
Data type Section defined Description Applicability V2xServiceInfo 6.5.6.2.2
* * *
Table 6.5.6.1-2 specifies data types re-used by the VAE_ServiceContinuity
service based interface protocol from other specifications, including a
reference to their respective specifications and when needed, a short
description of their use within the VAE_ServiceContinuity service based
interface.
Table 6.5.6.1-2: VAE_ServiceContinuity re-used Data Types
* * *
Data type Reference Comments Applicability V2xServiceId 6.1.6.3.2 Defines a
V2X service ID.
* * *
#### 6.5.6.2 Structured data types
##### 6.5.6.2.1 Introduction
This clause defines the structures to be used in resource representations.
##### 6.5.6.2.2 Type: V2xServiceInfo
Table 6.5.6.2.2-1: Definition of type V2xServiceInfo
* * *
Attribute name Data type P Cardinality Description Applicability serviceIds
array(V2xServiceId) M 1..N Indicates a list of supported V2X service
identifiers.  
suppFeat SupportedFeatures C 0..1 Indicates the features supported by the
service consumer and VAE server. It shall be included if the query request
includes supported features.
* * *
#### 6.5.6.3 Simple data types and enumerations
##### 6.5.6.3.1 Introduction
This clause defines simple data types and enumerations that can be referenced
from data structures defined in the previous clauses.
##### 6.5.6.3.2 Simple data types
The simple data types defined in table 6.5.6.3.2-1 shall be supported.
Table 6.5.6.3.2-1: Simple data types
* * *
Type Name Type Definition Description Applicability
* * *
### 6.5.7 Error Handling
#### 6.5.7.1 General
HTTP error handling shall be supported as specified in clause 5.2.4 of 3GPP TS
29.500 [2].
For the VAE_ServiceContinuity Service API, HTTP error responses shall be
supported as specified in subclause 4.8 of 3GPP TS 29.501 [3].
Protocol errors and application errors specified in table 5.2.7.2-1 of 3GPP TS
29.500 [2] shall be supported for an HTTP method if the corresponding HTTP
status codes are specified as mandatory for that HTTP method in table
5.2.7.1-1 of 3GPP TS 29.500 [2].
In addition, the requirements in the following subclauses are applicable for
the VAE_ServiceContinuity Service API.
#### 6.5.7.2 Protocol Errors
In this Release of the specification, there are no additional protocol errors
applicable for the VAE_ServiceContinuity API.
#### 6.5.7.3 Application Errors
The application errors defined for the VAE_ServiceContinuity service are
listed in Table 6.5.7.3-1.
Table 6.5.7.3-1: Application errors
* * *
Application Error HTTP status code Description
* * *
### 6.5.8 Feature negotiation
The optional features in table 6.5.8-1 are defined for the
VAE_ServiceContinuity API. They shall be negotiated using the extensibility
mechanism defined in clause 6.6 of 3GPP TS 29.500 [2].
Table 6.5.8-1: Supported Features
* * *
Feature number Feature Name Description
* * *
# 7 Security
TLS (IETF RFC 5246 [24]) shall be used to support the security communication
between the VAE server and the V2X application specific server over Vs
interface, and also between different VAE servers over VAE-E interface. The
access to the VAE service APIs shall be authorized by means of OAuth2 protocol
(see IETF RFC 6749 [23]), based on local configuration, using the \"Client
Credentials\" authorization grant. If OAuth2 is used, a client, prior to
consuming services offered by the VAE service APIs, shall obtain a \"token\"
from the authorization server.
###### ## Annex A (normative): OpenAPI specification
# A.1 General
This Annex is based on the OpenAPI 3.0.0 specification [6] and provides
corresponding representations of all APIs defined in the present
specification.
NOTE 1: An OpenAPIs representation embeds JSON Schema representations of HTTP
message bodies.
This Annex shall take precedence when being discrepant to other parts of the
specification with respect to the encoding of information elements and methods
within the API(s).
NOTE 2: The semantics and procedures, as well as conditions, e.g. for the
applicability and allowed combinations of attributes or values, not expressed
in the OpenAPI definitions but defined in other parts of the specification
also apply.
Informative copies of the OpenAPI specification files contained in this 3GPP
Technical Specification are available on a Git-based repository, that uses the
GitLab software version control system (see clause 5B of the 3GPP TS 21.900
[8] and clause 5.3.1 of the 3GPP TS 29.501 [3] for further information).
# A.2 VAE_MessageDelivery API
openapi: 3.0.0
info:
version: 1.0.0
title: VAE_MessageDelivery
description: \|
API for VAE Message Delivery Service
Â© 2020, 3GPP Organizational Partners (ARIB, ATIS, CCSA, ETSI, TSDSI, TTA,
TTC).
All rights reserved.
externalDocs:
description: 3GPP TS 29.486 V16.1.0 V2X Application Enabler (VAE) Services
url: \'http://www.3gpp.org/ftp/Specs/archive/29_series/29.486/\'
security:
\- {}
\- oAuth2ClientCredentials: []
servers:
\- url: \'{apiRoot}/vae-message-delivery/v1\'
variables:
apiRoot:
default: https://example.com
description: apiRoot as defined in clause 4.4 of 3GPP TS 29.501
paths:
/subscriptions:
post:
summary: Create a new Individual Message Delivery Data Subscription resource
operationId: CreateIndividualMessageDeliveryDataSubscription
tags:
\- Message Delivery Data Subscriptions (Collection)
requestBody:
required: true
content:
application/json:
schema:
\$ref: \'#/components/schemas/MessageDeliverySubscriptionData\'
responses:
\'201\':
description: The subscription was created successfully.
content:
application/json:
schema:
\$ref: \'#/components/schemas/MessageDeliverySubscriptionData\'
headers:
Location:
description: \'Contains the URI of the newly created resource\'
required: true
schema:
type: string
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'411\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29571_CommonData.yaml#/components/responses/default\'
callbacks:
uplinkMessageDelivery:
\'{\$request.body#/notifUri}\':
post:
requestBody:
required: true
content:
application/json:
schema:
\$ref: \'#/components/schemas/UplinkMessageDeliveryData\'
responses:
\'204\':
description: No Content, Notification was successful
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'411\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29571_CommonData.yaml#/components/responses/default\'
/subscriptions/{subscriptionId}:
get:
summary: Get an existing individual Message Delivery Subscription resource
operationId: ReadIndividualMessageDeliverySubscription
tags:
\- Individual Message Delivery Subscription (Document)
parameters:
\- name: subscriptionId
in: path
description: String identifying a subscription to the Individual Message
Delivery Subscription
required: true
schema:
type: string
responses:
\'200\':
description: The subscription information is returned.
content:
application/json:
schema:
\$ref: \'#/components/schemas/MessageDeliverySubscriptionData\'
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'406\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/406\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29571_CommonData.yaml#/components/responses/default\'
delete:
summary: Delete an individual Message Delivery Subscription resource
operationId: DeleteMessageDeliverySubscription
tags:
\- Individual Message Delivery Subscription (Document)
parameters:
\- name: subscriptionId
in: path
description: String identifying a subscription to the Individual Message
Delivery Subscription
required: true
schema:
type: string
responses:
\'204\':
description: The subscription was terminated successfully.
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29571_CommonData.yaml#/components/responses/default\'
/subscriptions/{subscriptionId}/message-deliveries:
post:
summary: VAE Message delivery resource create service Operation
tags:
\- message deliveries collection (Collection)
operationId: CreateDownlinkMessageDelivery
parameters:
\- name: subscriptionId
in: path
description: String identifying a subscription to the Individual Message
Delivery Subscription
required: true
schema:
type: string
requestBody:
content:
application/json:
schema:
\$ref: \'#/components/schemas/DownlinkMessageDeliveryData\'
required: true
responses:
\'201\':
description: Downlink Message Delivery Resource Created
headers:
Location:
description: \'Contains the URI of the newly created resource\'
required: true
schema:
type: string
content:
application/json:
schema:
\$ref: \'#/components/schemas/DownlinkMessageDeliveryData\'
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'411\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
description: Unexpected error
/subscriptions/{subscriptionId}/message-deliveries/{dlDeliveryId}:
get:
summary: VAE Message delivery resource Read service Operation
tags:
\- Individual downlink message delivery (Document)
operationId: ReadIndividualDownlinkMessageDelivery
parameters:
\- name: subscriptionId
in: path
description: String identifying a subscription to the Individual Message
Delivery Subscription
required: true
schema:
type: string
\- name: dlDeliveryId
in: path
description: Identifier of a downlink messge delivery resource
required: true
schema:
type: string
responses:
\'200\':
description: OK. Resource representation is returned
content:
application/json:
schema:
\$ref: \'#/components/schemas/DownlinkMessageDeliveryData\'
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'406\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/406\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29571_CommonData.yaml#/components/responses/default\'
delete:
summary: VAE Message delivery resource delete service Operation
tags:
\- Individual message delivery (Document)
operationId: DeleteMessageDelivery
parameters:
\- name: subscriptionId
in: path
description: String identifying a subscription to the Individual Message
Delivery Subscription
required: true
schema:
type: string
\- name: dlDeliveryId
in: path
required: true
description: Unique ID of the message delivery to be deleted
schema:
type: string
responses:
\'204\':
description: No Content (Successful deletion of the existing subscription)
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
description: Unexpected error
components:
securitySchemes:
oAuth2ClientCredentials:
type: oauth2
flows:
clientCredentials:
tokenUrl: \'{tokenUrl}\'
scopes: {}
schemas:
DownlinkMessageDeliveryData:
type: object
properties:
ueId:
\$ref: \'#/components/schemas/V2xUeId\'
groupId:
\$ref: \'#/components/schemas/V2xGroupId\'
duration:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/DateTime\'
geoId:
\$ref: \'#/components/schemas/GeoId\'
payload:
\$ref: \'#/components/schemas/V2xMessagePayload\'
required:
\- payload
MessageDeliverySubscriptionData:
type: object
properties:
appSerId:
\$ref: \'#/components/schemas/AppServerId\'
serviceId:
\$ref: \'#/components/schemas/V2xServiceId\'
geoId:
\$ref: \'#/components/schemas/GeoId\'
notifUri:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Uri\'
requestTestNotification:
type: boolean
description: Set to true by the NF service consumer to request the VAE server
to send a test notification as defined in clause 6.1.5.3. Set to false or
omitted otherwise.
websockNotifConfig:
\$ref: \'TS29122_CommonData.yaml#/components/schemas/WebsockNotifConfig\'
suppFeat:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/SupportedFeatures\'
required:
\- appSerId
\- serviceId
\- notifUri
UplinkMessageDeliveryData:
type: object
properties:
resourceUri:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Uri\'
ueId:
\$ref: \'#/components/schemas/V2xUeId\'
geoId:
\$ref: \'#/components/schemas/GeoId\'
payload:
\$ref: \'#/components/schemas/V2xMessagePayload\'
required:
\- resourceUri
\- ueId
\- payload
AppServerId:
type: string
V2xUeId:
type: string
V2xGroupId:
type: string
V2xServiceId:
type: string
GeoId:
type: string
V2xMessagePayload:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Bytes\'
# A.3 VAE_FileDistribution API
openapi: 3.0.0
info:
version: 1.0.0
title: VAE_FileDistribution
description: \|
API for VAE File Distribution Service
Â© 2020, 3GPP Organizational Partners (ARIB, ATIS, CCSA, ETSI, TSDSI, TTA,
TTC).
All rights reserved.
externalDocs:
description: 3GPP TS 29.486 V16.1.0 V2X Application Enabler (VAE) Services
url: \'http://www.3gpp.org/ftp/Specs/archive/29_series/29.486/\'
security:
\- {}
\- oAuth2ClientCredentials: []
servers:
\- url: \'{apiRoot}/vae-file-distribution/v1\'
variables:
apiRoot:
default: https://example.com
description: apiRoot as defined in clause 4.4 of 3GPP TS 29.501
paths:
/file-distributions:
post:
summary: VAE File Distributions resource create service Operation
tags:
\- file distributions collection (Document)
operationId: CreateFileDistributions
requestBody:
content:
application/json:
schema:
\$ref: \'#/components/schemas/FileDistributionData\'
required: true
responses:
\'201\':
description: File Distribution Resource Created
headers:
Location:
description: \'Contains the URI of the newly created resource\'
required: true
schema:
type: string
content:
application/json:
schema:
\$ref: \'#/components/schemas/FileDistributionData\'
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/404\'
\'411\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
description: Unexpected error
/file-distributions/{distributionId}:
get:
summary: Get an existing individual file distribution resource
operationId: ReadIndividualFileDistribution
tags:
\- Individual File Distribution (Document)
parameters:
\- name: distributionId
in: path
description: Identifier of a file distribution resource
required: true
schema:
type: string
responses:
\'200\':
description: OK. Resource representation is returned
content:
application/json:
schema:
\$ref: \'#/components/schemas/FileDistributionData\'
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'406\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/406\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29571_CommonData.yaml#/components/responses/default\'
delete:
summary: VAE File Distribution resource delete service Operation
tags:
\- Individual file distribution (Document)
operationId: DeleteFileDistribution
parameters:
\- name: distributionId
in: path
required: true
description: Unique ID of the file distribution to be deleted
schema:
type: string
responses:
\'204\':
description: The subscription was terminated successfully.
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
description: Unexpected error
components:
securitySchemes:
oAuth2ClientCredentials:
type: oauth2
flows:
clientCredentials:
tokenUrl: \'{tokenUrl}\'
scopes: {}
schemas:
FileDistributionData:
type: object
properties:
groupId:
\$ref: \'TS29486_VAE_MessageDelivery.yaml#/components/schemas/V2xGroupId\'
fileLists:
type: array
items:
\$ref: \'#/components/schemas/FileList\'
minItems: 1
serviceClass:
type: string
geoArea:
\$ref: \'TS29572_Nlmf_Location.yaml#/components/schemas/GeographicArea\'
maxBitrate:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/BitRate\'
maxDelay:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Uinteger\'
suppFeat:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/SupportedFeatures\'
required:
\- fileLists
\- geoArea
\- maxBitrate
\- maxDelay
FileList:
type: object
properties:
fileUri:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Uri\'
fileDisplayUri:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Uri\'
fileEarFetchTime:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/DateTime\'
fileLatFetchTime:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/DateTime\'
fileSize:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Uinteger\'
fileStatus:
\$ref: \'#/components/schemas/FileStatus\'
completionTime:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/DateTime\'
keepUpdateInterval:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/DurationSec\'
uniAvailability:
type: boolean
fileRepetition:
type: integer
required:
\- fileUri
\- fileDisplayUri
\- fileEarFetchTime
\- fileLatFetchTime
\- fileStatus
\- completionTime
\- keepUpdateInterval
FileStatus:
anyOf:
\- type: string
enum:
\- PENDING
\- FETCHED
\- PREPARED
\- TRANSMITTING
\- SENT
\- type: string
# A.4 VAE_ApplicationRequirement API
openapi: 3.0.0
info:
version: 1.0.1
title: VAE_ApplicationRequirement
description: \|
API for VAE Application Requirement Service
Â© 2020, 3GPP Organizational Partners (ARIB, ATIS, CCSA, ETSI, TSDSI, TTA,
TTC).
All rights reserved.
externalDocs:
description: 3GPP TS 29.486 V16.4.0 V2X Application Enabler (VAE) Services
url: \'http://www.3gpp.org/ftp/Specs/archive/29_series/29.486/\'
security:
\- {}
\- oAuth2ClientCredentials: []
servers:
\- url: \'{apiRoot}/vae-app-req/v1\'
variables:
apiRoot:
default: https://example.com
description: apiRoot as defined in clause 4.4 of 3GPP TS 29.501
paths:
/application-requirements:
post:
summary: VAE_Application_Requirements resource create service Operation
tags:
\- application requirements collection (Document)
operationId: CreateApplicationRequirement
requestBody:
content:
application/json:
schema:
\$ref: \'#/components/schemas/ApplicationRequirementData\'
required: true
responses:
\'201\':
description: Application Requirement Resource Created
headers:
Location:
description: \'Contains the URI of the newly created resource\'
required: true
schema:
type: string
content:
application/json:
schema:
\$ref: \'#/components/schemas/ApplicationRequirementData\'
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'411\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29571_CommonData.yaml#/components/responses/default\'
callbacks:
NotifyNetworkResource:
\'{\$request.body#/notifUri}\':
post:
requestBody:
required: true
content:
application/json:
schema:
\$ref: \'#/components/schemas/AppReqNotification\'
responses:
\'204\':
description: No Content, Notification was succesfull
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'411\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29571_CommonData.yaml#/components/responses/default\'
/application-requirements/{requirementId}:
get:
summary: VAE Application Requirement resource read service Operation
tags:
\- Individual application requirement (Document)
operationId: ReadApplicationRequirement
parameters:
\- name: requirementId
in: path
description: Identifier of an application requirement resource
required: true
schema:
type: string
responses:
\'200\':
description: OK. Resource representation is returned
content:
application/json:
schema:
\$ref: \'#/components/schemas/ApplicationRequirementData\'
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'406\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/406\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29571_CommonData.yaml#/components/responses/default\'
delete:
summary: VAE Application Requirement resource delete service Operation
tags:
\- Individual application requirement (Document)
operationId: DeleteApplicationRequirement
parameters:
\- name: requirementId
in: path
required: true
description: Unique ID of the application requirement to be deleted
schema:
type: string
responses:
\'204\':
description: The subscription was terminated successfully.
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29571_CommonData.yaml#/components/responses/default\'
components:
securitySchemes:
oAuth2ClientCredentials:
type: oauth2
flows:
clientCredentials:
tokenUrl: \'{tokenUrl}\'
scopes: {}
schemas:
ApplicationRequirementData:
type: object
properties:
ueId:
\$ref: \'TS29486_VAE_MessageDelivery.yaml#/components/schemas/V2xUeId\'
groupId:
\$ref: \'TS29486_VAE_MessageDelivery.yaml#/components/schemas/V2xGroupId\'
duration:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/DateTime\'
serviceId:
\$ref: \'TS29486_VAE_MessageDelivery.yaml#/components/schemas/V2xServiceId\'
appRequirement:
\$ref: \'#/components/schemas/ApplicationRequirement\'
notifUri:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Uri\'
requestTestNotification:
type: boolean
description: Set to true by the NF service consumer to request the VAE server
to send a test notification as defined in clause 6.3.5.3. Set to false or
omitted otherwise.
websockNotifConfig:
\$ref: \'TS29122_CommonData.yaml#/components/schemas/WebsockNotifConfig\'
suppFeat:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/SupportedFeatures\'
required:
\- serviceId
\- appRequirement
\- notifUri
ApplicationRequirement:
type: object
properties:
serviceLevel:
\$ref: \'#/components/schemas/ServiceLevel\'
AppReqNotification:
type: object
properties:
resourceUri:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Uri\'
result:
\$ref: \'#/components/schemas/ReservationResult\'
required:
\- resourceUri
\- result
ServiceLevel:
anyOf:
\- type: string
enum:
\- HIGH
\- MEDIUM
\- LOW
\- type: string
ReservationResult:
anyOf:
\- type: string
enum:
\- SUCCESSFUL
\- FAILURE
\- type: string
# A.5 VAE_DynamicGroup API
openapi: 3.0.0
info:
version: 1.0.1
title: VAE_DynamicGroup
description: \|
VAE_Dynamic_Group Service
Â© 2020, 3GPP Organizational Partners (ARIB, ATIS, CCSA, ETSI, TSDSI, TTA,
TTC).
All rights reserved.
externalDocs:
description: 3GPP TS 29.486 V16.4.0 V2X Application Enabler (VAE) Services
url: \'http://www.3gpp.org/ftp/Specs/archive/29_series/29.486/\'
security:
\- {}
\- oAuth2ClientCredentials: []
servers:
\- url: \'{apiRoot}/vae-dynamic-group/v1\'
variables:
apiRoot:
default: https://example.com
description: apiRoot as defined in clause clause 4.4 of 3GPP TS 29.501
paths:
/group-configurations:
post:
summary: VAE_Dynamice_Group resource create service Operation
tags:
\- application requirements collection (Document)
operationId: CreateGroupConfiguration
requestBody:
content:
application/json:
schema:
\$ref: \'#/components/schemas/GroupConfigurationData\'
required: true
responses:
\'201\':
description: Application Requirement Resource Created
headers:
Location:
description: \'Contains the URI of the newly created resource\'
required: true
schema:
type: string
content:
application/json:
schema:
\$ref: \'#/components/schemas/GroupConfigurationData\'
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'411\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29571_CommonData.yaml#/components/responses/default\'
callbacks:
NotifyDynamicGroup:
\'{\$request.body#/notifUri}\':
post:
requestBody:
required: true
content:
application/json:
schema:
\$ref: \'#/components/schemas/DynamicGroupNotification\'
responses:
\'204\':
description: No Content, Notification was succesfull
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'411\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29571_CommonData.yaml#/components/responses/default\'
/group-configurations/{configId}:
get:
summary: VAE Group Configuration resource read service Operation
tags:
\- Individual Group Configuration(Document)
operationId: ReadDynamicGroupConfiguration
parameters:
\- name: configId
in: path
description: Identifier of an group configuration resource
required: true
schema:
type: string
responses:
\'200\':
description: OK. Resource representation is returned
content:
application/json:
schema:
\$ref: \'#/components/schemas/GroupConfigurationData\'
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'406\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/406\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29571_CommonData.yaml#/components/responses/default\'
delete:
summary: VAE Group Configuration resource delete service Operation
tags:
\- Individual group configuration (Document)
operationId: DeleteGroupConfiguration
parameters:
\- name: configId
in: path
required: true
description: Unique ID of the group configuration to be deleted
schema:
type: string
responses:
\'204\':
description: The subscription was terminated successfully.
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29571_CommonData.yaml#/components/responses/default\'
components:
securitySchemes:
oAuth2ClientCredentials:
type: oauth2
flows:
clientCredentials:
tokenUrl: \'{tokenUrl}\'
scopes: {}
schemas:
GroupConfigurationData:
type: object
properties:
groupId:
\$ref: \'TS29486_VAE_MessageDelivery.yaml#/components/schemas/V2xGroupId\'
definition:
type: string
leaderId:
\$ref: \'TS29486_VAE_MessageDelivery.yaml#/components/schemas/V2xUeId\'
notifUri:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Uri\'
duration:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/DateTime\'
requestTestNotification:
type: boolean
description: Set to true by the NF service consumer to request the VAE server
to send a test notification as defined in clause 6.4.5.3. Set to false or
omitted otherwise.
websockNotifConfig:
\$ref: \'TS29122_CommonData.yaml#/components/schemas/WebsockNotifConfig\'
suppFeat:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/SupportedFeatures\'
required:
\- groupId
\- definition
\- leaderId
\- notifUri
DynamicGroupNotification:
type: object
properties:
resourceUri:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Uri\'
joinedUeIds:
type: array
items:
\$ref: \'TS29486_VAE_MessageDelivery.yaml#/components/schemas/V2xUeId\'
minItems: 1
leftUeIds:
type: array
items:
\$ref: \'TS29486_VAE_MessageDelivery.yaml#/components/schemas/V2xUeId\'
minItems: 1
required:
\- resourceUri
# A.6 VAE_ServiceContinuity API
openapi: 3.0.0
info:
version: 1.0.0
title: VAE_Service Continuity
description: \|
API for VAE Service Continuity Service
Â© 2020, 3GPP Organizational Partners (ARIB, ATIS, CCSA, ETSI, TSDSI, TTA,
TTC).
All rights reserved.
externalDocs:
description: 3GPP TS 29.486 V16.1.0 V2X Application Enabler (VAE) Services
url: \'http://www.3gpp.org/ftp/Specs/archive/29_series/29.486/\'
security:
\- {}
\- oAuth2ClientCredentials: []
servers:
\- url: \'{apiRoot}/vae-service-continuity/v1\'
variables:
apiRoot:
default: https://example.com
description: apiRoot as defined in clause 4.4 of 3GPP TS 29.501
paths:
/geo-areas/{geoId}:
get:
summary: VAE service continuity query service operation
tags:
\- Individual geographical area (Document)
operationId: QueryServiceContinuity
parameters:
\- name: geoId
in: path
description: Identifier of a geographical area
required: true
schema:
type: string
\- name: service-id
in: query
description: Identifier of a V2X service
required: true
schema:
\$ref: \'TS29486_VAE_MessageDelivery.yaml#/components/schemas/V2xServiceId\'
\- name: supp-feat
in: query
description: To filter irrelevant responses related to unsupported features
schema:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/SupportedFeatures\'
responses:
\'200\':
description: OK. Resource representation is returned
content:
application/json:
schema:
\$ref: \'#/components/schemas/V2xServiceInfo\'
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'406\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/406\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29571_CommonData.yaml#/components/responses/default\'
components:
securitySchemes:
oAuth2ClientCredentials:
type: oauth2
flows:
clientCredentials:
tokenUrl: \'{tokenUrl}\'
scopes: {}
schemas:
V2xServiceInfo:
type: object
properties:
serviceIds:
type: array
items:
\$ref: \'TS29486_VAE_MessageDelivery.yaml#/components/schemas/V2xServiceId\'
minItems: 1
suppFeat:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/SupportedFeatures\'
required:
\- serviceIds
#