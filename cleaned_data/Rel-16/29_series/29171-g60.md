# Foreword
This Technical Specification has been produced by the 3rd Generation
Partnership Project (3GPP).
The contents of the present document are subject to continuing work within the
TSG and may change following formal TSG approval. Should the TSG modify the
contents of the present document, it will be re-released by the TSG with an
identifying change of release date and an increase in version number as
follows:
Version x.y.z
where:
x the first digit:
1 presented to TSG for information;
2 presented to TSG for approval;
3 or greater indicates TSG approved document under change control.
y the second digit is incremented for all changes of substance, i.e. technical
enhancements, corrections, updates, etc.
z the third digit is incremented when editorial only changes have been
incorporated in the document.
In the present document, modal verbs have the following meanings:
**shall** indicates a mandatory requirement to do something
**shall not** indicates an interdiction (prohibition) to do something
The constructions \"shall\" and \"shall not\" are confined to the context of
normative provisions, and do not appear in Technical Reports.
The constructions \"must\" and \"must not\" are not used as substitutes for
\"shall\" and \"shall not\". Their use is avoided insofar as possible, and
they are not used in a normative context except in a direct citation from an
external, referenced, non-3GPP document, or so as to maintain continuity of
style when extending or modifying the provisions of such a referenced
document.
**should** indicates a recommendation to do something
**should not** indicates a recommendation not to do something
**may** indicates permission to do something
**need not** indicates permission not to do something
The construction \"may not\" is ambiguous and is not used in normative
elements. The unambiguous constructions \"might not\" or \"shall not\" are
used instead, depending upon the meaning intended.
**can** indicates that something is possible
**cannot** indicates that something is impossible
The constructions \"can\" and \"cannot\" are not substitutes for \"may\" and
\"need not\".
**will** indicates that something is certain or expected to happen as a result
of action taken by an agency the behaviour of which is outside the scope of
the present document
**will not** indicates that something is certain or expected not to happen as
a result of action taken by an agency the behaviour of which is outside the
scope of the present document
**might** indicates a likelihood that something will happen as a result of
action taken by some agency the behaviour of which is outside the scope of the
present document
**might not** indicates a likelihood that something will not happen as a
result of action taken by some agency the behaviour of which is outside the
scope of the present document
In addition:
**is** (or any other verb in the indicative mood) indicates a statement of
fact
**is not** (or any other negative verb in the indicative mood) indicates a
statement of fact
The constructions \"is\" and \"is not\" do not indicate requirements.
# 1 Scope
The present document specifies the procedures and information coding for LCS
Application Protocol (LCS-AP) that is needed to support the location services
in E-UTRAN. The LCS-AP message set is applicable to the SLs interface between
the E-SMLC and the MME. LCS-AP is developed in accordance to the general
principles stated in 3GPP TS 23.271 [3].
# 2 References
The following documents contain provisions which, through reference in this
text, constitute provisions of the present document.
\- References are either specific (identified by date of publication, edition
number, version number, etc.) or non‑specific.
\- For a specific reference, subsequent revisions do not apply.
\- For a non-specific reference, the latest version applies. In the case of a
reference to a 3GPP document (including a GSM document), a non-specific
reference implicitly refers to the latest version of that document _in the
same Release as the present document_.
[1] 3GPP TR 21.905: \"Vocabulary for 3GPP Specifications\".
[2] 3GPP TS 36.305: \"Stage 2 functional specification of User Equipment (UE)
positioning in E-UTRAN\".
[3] 3GPP TS 23.271: \"Functional stage 2 description of Location Services
(LCS)\".
[4] IETF RFC 4960: \"Stream Control Transmission Protocol\".
[5] TIA/EIA/IS-J-STD-036 (2000): \"Wireless Enhanced Emergency Services\".
[6] 3GPP TS 23.032: \"Universal Geographical Area Description (GAD)\".
[7] 3GPP TS 36.413: \"S1 Application Protocol (S1AP)\".
[8] ITU-T Recommendation X.680 (07/2002): \"Information Technology - Abstract
Syntax Notation One (ASN.1): Specification of basic notation\".
[9] ITU-T Recommendation X.681 (07/2002): \"Information Technology - Abstract
Syntax Notation One (ASN.1): Information object specification\".
[10] 3GPP TS 22.071: \"Location Services (LCS); Service Description; Stage1\".
[11] 3GPP TS 23.003: \"Numbering, addressing and identification\".
[12] ITU-T Recommendation X.691 (07/2002): \"Information Technology - ASN.1
encoding rules - Specification of Packed Encoding Rules (PER)\".
[13] IETF RFC 4119: \"A Presence-based GEOPRIV Location Object Format\".
[14] IETF RFC 5139: \"Revised Civic Location Format for Presence Information
Data Format Location Object\".
[15] IETF RFC 6848: \"Specifying Civic Address Extensions in the Presence
Information Data Format Location Object (PIDF-LO)\".
[16] IETF RFC 5905: \"Network Time Protocol Version 4: Protocol and Algorithms
Specification\".
[17] 3GPP TS 24.301: \"Non-Access-Stratum (NAS) protocol for Evolved Packet
System (EPS); Stage 3\".
# 3 Definitions and abbreviations
## 3.1 Definitions
For the purposes of the present document, the terms and definitions given in
TR 21.905 [1] and the following apply. A term defined in the present document
takes precedence over the definition of the same term, if any, in TR 21.905
[1].
**Elementary Procedure:** LCS-AP protocol consists of Elementary Procedures
(EPs). An LCS-AP Elementary Procedure is a unit of interaction between the MME
and the E-SMLC. An EP consists of an initiating message and possibly a
response message. Two kinds of EPs are used:
\- **Class 1:** Elementary Procedures with response (success or failure),
\- **Class 2:** Elementary Procedures without response.
## 3.2 Abbreviations
For the purposes of the present document, the abbreviations given in TR 21.905
[1] and the following apply. An abbreviation defined in the present document
takes precedence over the definition of the same abbreviation, if any, in TR
21.905 [1].
CID Cell-ID (positioning method)
E-CID Enhanced Cell-ID (positioning method)
E-SMLC Enhanced Serving Mobile Location Centre
E-UTRAN Envolved Universal Terrestrial Radio Access Network
GNSS Global Navigation Satellite System
GPS Global Positioning System
LCS LoCation Services
LCS-AP LCS Application Protocol
LPP LTE Positioning Protocol
LPPa LTE Positioning Protocol Annex
LTE Long Term Evolution
MBS Metropolitan Beacon System
MO-LR Mobile Originated Location Request
MT-LR Mobile Terminated Location Request
NI-LR Network Induced Location Request
MME Mobility Management Entity
OTDOA Observed Time Difference Of Arrival
PDU Protocol Data Unit
SCTP Stream Control Transmission Protocol
SET SUPL Enabled Terminal
SLP SUPL Location Platform
SUPL Secure User Plane Location
TA Timing Advanced
UE User Equipment
U-TDOA Uplink Time Difference Of Arrival
# 4 Functional Overview
## 4.1 General
Figure 4.1-1 below shows the architecture applicable to the positioning of a
UE with E-UTRAN access. The SLs interface is used to convey LCS-AP messages
and parameters between the MME to the E-SMLC. It is also used for tunnelling
LTE Positioning Protocols (LPP between the E-SMLC and the target UE, LPPa
between the E-SMLC and the eNB), which are transparent to the MME as described
in 3GPP TS 36.305 [2].
Figure 4.1-1 Positioning Interfaces in E-UTRAN
# 5 LCS-AP Message Transport
## 5.1 General
The LCS-AP is a logical interface between the MME and the E-SMLC. This clause
specifies the standards for signaling transport to be used across LCS-AP.
## 5.2 Protocol Layering
Figure 5.2-1 below shows the protocol layering used to support the transfer of
LCS-AP PDUs between an E-SMLC and a MME. The LTE Positioning Protocols (LPP
and LPPa) can be carried in LCS-AP messages which are transparent to the MME.
Figure 5.2-1 Protocol Layering for LCS-AP
## 5.3 Usage of SCTP Associations
SCTP (see IETF RFC 4960 [4]) shall be supported as the transport layer of LCS-
AP messages.
Semi-permanent SCTP associations shall be established between MME and E-SMLC,
i.e. the SCTP associations shall remain up under normal circumstances.
Local multi-homing should be supported. Remote multi-homing shall be
supported.
Multiple local SCTP endpoints may be supported. Multiple remote SCTP endpoints
shall be supported. When multiple local or remote SCTP endpoints are
configured, several simultaneous SCTP associations shall be supported between
MME and E-SMLC.
The MME shall establish the SCTP association. Since under normal operation
there should always be an SCTP association established between an MME and an
E-SMLC, if the E-SMLC needs to initiate a message towards an MME it shall do
so over an existing SCTP association already established with that MME.
When an entity detects that an SCTP association has been lost, all resources
for transactions open on that association shall be released.
The registered port number for LCS-AP is 9082. The registered payload protocol
identifier for LCS-AP is 29.
# 6 LCS-AP Procedures
## 6.1 General
The LCS-AP interface can be divided into the following procedures:
\- Location service request procedure
\- Location information exchange procedure
The E-UTRAN positioning capabilities are intended to be forward compatible to
other access types and other position methods, in an effort to reduce the
amount of additional positioning support needed in the future.
## 6.2 Procedures Applicable to LCS-AP
### 6.2.1 Location Service Request
#### 6.2.1.1 General
The purpose of the location service request procedure is to obtain the
location estimate for a target UE in E-UTRAN.
#### 6.2.1.2 Successful Operation
Figure 6.2.1.2-1 Location Service Request Procedure, Successful Operation
The initiator (MME) of the location service request procedure sends a LCS-AP
Location Request message to the E-SMLC associated with the current or last
known serving cell for the target UE and starts the timer T3x01. The message
contains the following mandatory (M), conditional (C) and optional (O)
information, where conditional parameters are required if available.
\- Correlation ID (M)
\- Location Type (M)
\- Cell Identifier (M)
\- LCS Client Type (C)
\- LCS Priority (C)
\- LCS Service Type ID (C)
\- LCS QoS (C)
\- UE Positioning Capability (O)
\- Include Velocity (O)
\- IMSI of target UE (O)
\- IMEI of target UE (O)
\- APDU (O)
\- RAT Type (O)
\- Coverage Level (O)
The Correlation ID is assigned by the MME and enables association of the
location response with the location request when more than one location
service request procedure is ongoing for the UE with the same E-SMLC.
The Location Type IE indicates the type of Location Information being
requested. The following types are supported:
\- Current geographic location estimate
\- Location assistance data for the target UE
\- Last known location estimate
If the location estimate is requested, the E-SMLC performs positioning
procedure on the target UE using a particular position method or a combination
of more than one positioning method based on the UE capability. If UE
capability is unknown, the E-SMLC may request UE position capability through
LPP as defined in 3GPP TS 36.305 [2].
Alternatively, if assistance data was requested, the E-SMLC may provide
positioning assistance data to the UE. The E-SMLC may invoke the following
LCS-AP procedures to get assistance data:
\- Connection Oriented Information Transfer
\- Connectionless Information Transfer
Otherwise, if a last known location estimate is requested, the E-SMLC obtains
a geographic location estimate using only the information provided in the LCS-
AP Location Request message. The E-SMLC shall not attempt to obtain location
information for the target UE from either the E-UTRAN or the target UE (e.g.
because the UE may not be currently reachable).
If a location estimate or a last known location estimate was requested and was
subsequently obtained, the E-SMLC shall return a LCS-AP Location Response to
the initiator of the location request using the same SCTP association as the
location request. This message contains the following mandatory (M),
conditional (C) and optional parameters (O).
\- Correlation ID (M)
\- Location Estimate (M).
\- Accuracy Fulfilment Indicator (O).
\- Velocity estimate (C).
\- Positioning Data (C).
\- E-UTRAN Cell Identifier (O).
\- Cell Portion ID (O).
\- Civic Address (O).
\- Barometric Pressure (O).
If assistance data was instead requested for an UE and the E-SMLC was able
successfully to transfer this to the UE, the E-SMLC shall return a LCS-AP
Location Response to the initiator of the location request (MME). This message
shall contain no parameters. The absence of a LCS Cause parameter in this case
implies that the transfer was successful.
If the MME receives the LCS-AP Location Response for corresponding request
message, the MME shall stop the timer T3x01.
#### 6.2.1.3 Unsuccessful Operation
If the E-SMLC is unable to obtain any of the location information requested or
if requested LCS assistance data could not be transferred, the E-SMLC shall
return a LCS-AP Location Response to the initiator of the Location Request
carrying the following parameters:
\- Correlation ID (M)
\- LCS Cause (M)
\- Positioning Data (O)
The E-SMLC shall use the same SCTP association for the Location Response as
was used for the request.
If the MME receives the LCS-AP Location Response for corresponding request
message, the MME shall stop the timer T3x01.
On the expiry of the timer T3x01, the MME shall abort the procedure, release
any resources allocated for this location request procedure and notify the
node that triggered the Location Request about the error.
### 6.2.2 Location Information Exchange
#### 6.2.2.1 Connection Oriented Information Transfer
##### 6.2.2.1.1 General
The Connection Oriented Information transfer procedure enables two-way
transfer of LPP and LPPa messages between an E-SMLC and a MME. The procedure
is only valid while a location request procedure for the target UE is ongoing.
This procedure makes use of the same SCTP association as the location request
procedure for the particular target UE.
##### 6.2.2.1.2 Successful Operation
Figure 6.2.2.1.2-1 Connection Oriented Information, Successful Operation
The initiator of the procedure (E-SMLC or MME) with a LPP or LPPa message to
transfer concerning a particular target UE sends a LCS-AP Connection Oriented
Information message to a recipient carrying the following parameters:
\- Correlation ID (M)
\- Payload Type (M)
\- APDU (M);
The Correlation ID in this message is the Correlation ID used for the Location
Request. It shall be present for a message transfer from the E-SMLC to the MME
and for a message transfer from the MME to the E-SMLC.
The Payload Type shall be present to indicate the type of the APDU. The
supported information types are LPP and LPPa.
The APDU shall contain an LPP APDU when communicating between the E-SMLC and
the target UE or an LPPa APDU when communicating between the E-SMLC and
serving eNB. The MME shall forward this to the serving eNB for the target UE.
If the intended recipient is the E-SMLC for a target UE, the message is
terminated in the E-SMLC. The E-SMLC shall then perform interpretation of the
APDU.
##### 6.2.2.1.3 Abnormal Conditions
At an intermediate entity, if a received LCS-AP Connection Oriented
Information message contains unrecognized information or if the message cannot
be sent on, the message shall be discarded.
#### 6.2.2.2 Connectionless Information Transfer
##### 6.2.2.2.1 General
The Connectionless Information transfer procedure enables two-way transfer of
LPPa messages between an E-SMLC and a MME when there is no existing signalling
connection association. This procedure can be used to query eNBs for the
information not related to a UE connection, such as Timing information on the
eNB.
##### 6.2.2.2.2 Successful Operation
Figure 6.2.2.2.2-1 Connectionless Information Procedure, Successful Operation
The initiator of the procedure (either E-SMLC or MME) sends a LCS-AP
Connectionless Information message to a recipient carrying the following
parameters:
\- Source Entity (M)
\- Destination Entity (M)
\- APDU (M)
\- Return Error Request (O)
The source entity identifies the sender. The recipient entity identifies the
final destination. The APDU contains a LPPa APDU to be transferred. The Return
Error Request may be included to request notification in the event of
unsuccessful transfer and indicate the type of notification needed. If the
recipient entity is not the final destination, the recipient shall transfer
the LCS-AP Connectionless Information message to either the final destination
or an intermediate entity capable of forward it to the final destination.
##### 6.2.2.2.3 Unsuccessful Operation
If the message cannot be transferred by an intermediate entity or destination
entity and the Return Error Request is not included, the message shall be
discarded. If the Return Error Request is included, the intermediate or
destination entity shall, depending on the Return Error Request type, send a
LCS-AP Connectionless Information message to, or towards, the original source
containing the following parameters:
\- Source Entity (M)
\- Destination Entity (M)
\- APDU (M)
\- Return Error Cause (M)
The Source entity shall indicate the Destination Entity in the original
received message. The Destination Entity shall indicate the Source Entity in
the original message. The Return Error cause shall indicate the reason for
unsuccessful transfer. The APDU shall contain any originally received APDU.
If a received LCS-AP Connectionless Information message containing a Return
Error Cause cannot be transferred by an intermediate entity, it shall be
discarded with no return error message.
##### 6.2.2.2.4 Abnormal Conditions
At an intermediate entity, if a received LCS-AP Connectionless Information
message contains unrecognized or invalid information, the message shall be
discarded.
At the recipient entity, if a received LCS-AP Connectionless Information
message contains invalid or unrecognized information as defined for LCS-AP,
the message shall be discarded.
### 6.2.3 Ciphering Keys Delivery
#### 6.2.3.1 General
The purpose of the ciphering keys delivery procedure is to enable the E-SMLC
to send ciphering keys for broadcast assistance data to the MME so that the
MME can then distribute the ciphering keys to suitably subscribed UEs.
#### 6.2.3.2 Successful Operation
Figure 6.2.3.2-1 Ciphering Keys Delivery Procedure, Successful Operation
The initiator (E-SMLC) of the ciphering keys delivery procedure sends a
Ciphering Key Data message to the MME and starts the timer T3x03. The message
contains the following mandatory (M) information:
\- Ciphering Data (M):
If the MME is able to successfully store all ciphering data sets included in
the Ciphering Key Data message, the MME sends a Ciphering Key Data Result
message. The message contains the following mandatory (M) information:
\- Ciphering Data Ack (M)
If the E-SMLC receives the Ciphering Key Data Result message, the E-SMLC shall
stop the timer T3x03.
#### 6.2.3.3 Unsuccessful Operation
If the MME is unable to successfully store one or more ciphering data sets
included in the Ciphering Key Data message, the MME shall return a Ciphering
Key Data Result message carrying the following mandatory (M) information:
\- Ciphering Data Error Report (M)
If the E-SMLC receives the Ciphering Key Data Result message message, the
E-SMLC shall stop the timer T3x03.
On the expiry of the timer T3x03, the E-SMLC shall abort the procedure and
release any resources allocated for this ciphering keys delivery procedure.
## 6.3 Exception Procedures
### 6.3.1 Location Abort
#### 6.3.1.1 General
The purpose of the Location Abort procedure is to cancel an ongoing
positioning attempt or the request for assistance data. This message can be
sent from the MME to the E-SMLC. This procedure makes use of the same SCTP
association as the location request procedure for the particular target UE.
#### 6.3.1.2 Normal Operation
Figure 6.3.1.2-1 Location Abort Procedure, Normal Operation
The MME sends a LCS-AP Location Abort Request message to the E-SMLC across the
SLs interface. The message contains a LCS Cause parameter indicating the
reason of cancellation.
On receipt of this message, the E-SMLC shall stop the positioning transactions
of the target UE and may release any resources previously allocated. The
E-SMLC shall return a LCS-AP Location Response message containing the LCS
Cause received in Location Abort Request and, optionally, positioning data.
The E-SMLC may also optionally include in this response any \"best-effort\"
location estimate that it has already determined prior to receiving the LCS-AP
Location Abort Request.
#### 6.3.1.3 Abnormal Conditions
At the recipient entity, if no ongoing location transaction for the target UE
is found, the recipient entity shall discard the received LCS-AP Location
Abort Request message with no return error message.
### 6.3.2 Reset
#### 6.3.2.1 General
The Reset procedure is an optional procedure applicable to the LCS-AP. It
enables an E-SMLC or a MME that has undergone a failure with loss of location
service transactions to indicate this to a partner entity. The recipient
entity can then release its own connection and transaction resources. The
Reset procedure may not be applicable when only a limited part of an E-SMLC or
a MME has suffered a failure, since error recovery procedures specific to
individual connections and transactions may then be used. The Reset procedure
applies to all transactions initiated on a single SCTP association.
#### 6.3.2.2 Normal Operation
Figure 6.3.2.2-1 Reset Procedure, Normal Operation
In the event of a failure at an E-SMLC or a MME that results in the loss of
location service transactions, a LCS-AP Reset Request message may be sent to
the partner entity across the SLs interface. The message contains a LCS Cause
parameter indicating the reason for the reset. The sending entity shall ensure
that all information on location service transactions for the SCTP association
on which the Reset Request was sent is reinitialized to indicate no existing
transactions.
On receiving a LCS-AP Reset Request message, the recipient entity (E-SMLC or
MME) shall clear all references and state information for the location service
transactions on the SCTP association on which the Reset Request was received
and shall release any associated resources. The recipient entity shall then
return a LCS-AP Reset Acknowledge message using the same SCTP association as
the Reset Request.
If the initiating entity (E-SMLC or MME) received the LCS-AP Reset Acknowledge
message, it shall stop the timer T3x02.
#### 6.3.2.3 Abnormal Conditions
On the first expiry of the timer T3x02, the Source entity (E-SMLC or MME)
shall resend the LCS-AP Reset Request message and shall reset and restart
timer T3x02. This retransmission is repeated a maximum of \"n\" times, where
\"n\" is an O&M administered parameter. Following \"n\" unsuccessful reset
attempts, the procedure shall be terminated and maintenance shall be informed.
## 6.4 Error Handling
### 6.4.1 Abnormal Conditions
If an ongoing location request is pre-empted at the initiator by an inter-eNB
handover and MME relocation, or if the main signalling link to the target UE
is released by the MME, or if a main signalling link failure indicated by the
serving eNodeB persists for more than a certain timeout interval or if there
is a timeout waiting for the positioning response, or any other abnormal
conditions for which the positioning procedure cannot be maintained, the MME
shall send a LCS-AP Location Abort message to the E-SMLC to terminate the
positioning procedure.
For Intra-MME handovers, the location session between the MME and E-SMLC is
not affected. Application layer impacts on these handovers are handled by
higher protocol layers.
If the E-SMLC cannot proceed with positioning due to some protocol violation
or error condition (e.g. inter-eNB handover), it shall return a LCS-AP
Location Response message to the initiator containing a LCS cause and,
optionally, positioning data.
### 6.4.2 Overload
If an E-SMLC is in overload condition, it may reject a LCS-AP Location Request
by returning a LCS-AP Location Response containing a LCS Cause parameter
indicating congestion. The initiator of the location requests (i.e. MME) may
reduce the frequency of later location requests until rejection due to
overload has ceased. In reducing the frequency of location service requests,
the MME shall reduce lower priority requests, to zero if necessary, before
reducing the frequency of higher priority requests. An E-SMLC shall similarly
reject location requests of a lower priority, to zero if necessary, due to
overload before rejecting location requests of a higher priority. An E-SMLC in
overload condition may optionally employ the following procedures to alleviate
overload:
a) Allow higher priority location service requests to pre-empt lower priority
requests for which location service procedures are already in progress.
b) Abort lower priority location service requests already in progress.
c) Reduce the supported QoS for lower priority requests for a location
estimate -- e.g. by reducing accuracy or increasing response time.
d) Employ UE based positioning methods, where supported by the target UE and
the E-SMLC, rather than UE assisted or network based methods (except TA).
The priority of a location request shall be defined according to the value in
the LCS Priority parameter. If this parameter is absent in a LCS-AP Location
Request, the lowest priority shall be assumed.
# 7 LCS-AP Messages and Message Formats
## 7.1 General
This clause describes the structure of the messages and information elements
required for the LCS-AP messages.
## 7.2 Message Formats
LCS-AP ASN.1 definition conforms to ITU-T Recommendations ITU-T Recommendation
X.680 (07/2002) [8] and ITU-T Recommendation X.681 (07/2002) [9]. The ASN.1
definition specifies the structure and content of LCS-AP messages. The LCS-AP
messages may contain any IEs specified in the object set definitions for that
message without the order or number of occurrence being restricted by ASN.1.
However, for this version of the standard, a sending entity shall construct a
LCS-AP message according to the PDU definitions module and with the following
additional rules (Note that in the following IE means an IE in the object set
with an explicit id. If one IE needed to appear more than once in one object
set, then the different occurrences have different IE ids):
\- IEs shall be ordered (in an IE container) in the order they appear in
object set definitions.
\- Object set definitions specify how many times IEs may appear. An IE shall
appear exactly once if the presence field in an object has value
\"mandatory\". An IE may appear at most once if the presence field in an
object has value \"optional\" or \"conditional\". If in a tabular format there
is multiplicity specified for an IE (i.e. an IE list) then in the
corresponding ASN.1 definition the list definition is separated into two
parts. The first part defines an IE container list where the list elements
reside. The second part defines list elements. The IE container list appears
as an IE of its own. For this version of the standard an IE container list may
contain only one kind of list elements.
If a LCS-AP message that is not constructed as defined above is received, this
shall be considered as Abstract Syntax Error, and the message shall be handled
as defined for Abstract Syntax error.
For the handling of unknown, unforeseen and erroneous protocol data, please
refer to 3GPP TS 36.413 [7].
## 7.3 LCS-AP Messages
The following attributes are used for the tabular description of the messages
and information elements: Presence, Range Criticality and Assigned
Criticality. Their definition and use can be found in 3GPP TS 36.413 [7].
### 7.3.1 LCS-AP Location Request message
This message is sent by the MME to request a location estimate for a target UE
and contains sufficient information to enable location according to the
required QoS using any positioning method supported. The message is also used
to request LCS assistance data transfer to an UE.
Direction: MME → E-SMLC
Table 7.3.1-1: Location Request message contents
* * *
IE/Group Name Presence Range IE type and reference Semantics description
Criticality Assigned Criticality Message Type M 7.4.2 YES reject Correlation
ID M 7.4.28 YES reject Location Type M 7.4.3 YES reject E-UTRAN Cell
Identifier M E-CGI / 7.4.4 YES ignore LCS Client Type O 7.4.5 YES reject LCS
Priority O 7.4.6 YES reject LCS QoS O 7.4.7 YES reject LCS Service Type ID O
7.4.30 YES ignore UE Positioning Capability O 7.4.8 YES reject Include
Velocity O 7.4.9 YES reject IMSI O 7.4.10 YES ignore IMEI O 7.4.11 YES ignore
Multiple APDUs 0..3  
APDU M 7.4.18 YES reject RAT Type O 7.4.34 YES ignore Coverage Level O 7.4.35
YES ignore NOTE: The IMSI should be sent preferably if known. The IMEI may be
sent if the IMSI is not known, or in addition to the IMSI for the purpose of
allowing correlation between the two identities.
* * *
### 7.3.2 LCS-AP Location Response message
This message is sent in response to a LCS-AP Location Request to return a
successful location estimate for a target UE or to indicate some failure in
obtaining this. The message is also sent in response to a LCS-AP Location
Request to return an indication that LCS assistance data has been successfully
delivered to an UE.
Direction: E-SMLC → MME
Table 7.3.2-1: Location Response message contents
* * *
IE/Group Name Presence Range IE type and reference Semantics description
Criticality Assigned Criticality Message Type M 7.4.2 YES reject Correlation
ID M 7.4.28 YES reject Location Estimate O Geographic Area / 7.4.12 YES reject
Positioning Data O 7.4.13 YES reject Velocity Estimate O 7.4.14 YES reject
Accuracy Fulfilment Indicator O 7.4.15 YES reject LCS Cause O 7.4.16 YES
ignore E-UTRAN Cell Identifier O E-CGI / 7.4.4 YES ignore Cell Portion ID O
7.4.31 YES ignore Civic Address O 7.4.32 YES ignore Barometric Pressure O
7.4.33 YES ignore
* * *
### 7.3.3 LCS-AP Location Abort Request message
This message is sent by the MME to abort the positioning attempt or the
request for assistance data.
Direction: MME → E-SMLC
Table 7.3.3-1: Location Abort Request message contents
* * *
IE/Group Name Presence Range IE type and reference Semantics description
Criticality Assigned Criticality Message Type M 7.4.2 YES reject Correlation
ID M 7.4.28 YES reject LCS Cause M 7.4.16 YES ignore
* * *
### 7.3.4 LCS-AP Connection Oriented Information message
This message is sent in association with an existing signalling connection
between an E-SMLC and another entity to transfer information between the
E-SMLC and other entity belonging to a higher level protocol.
Direction: E-SMLC → MME or MME → E-SMLC
Table 7.3.4-1: Connection Oriented Information message contents
* * *
IE/Group Name Presence Range IE type and reference Semantics description
Criticality Assigned Criticality Message Type M 7.4.2 YES reject Correlation
ID M 7.4.28 YES reject Payload Type M 7.4.17 YES reject APDU M 7.4.18 YES
reject
* * *
### 7.3.5 LCS-AP Connectionless Information message
This message conveys signalling information associated with a higher protocol
level between an E-SMLC and another entity when there is no existing
signalling connection association.
Direction: E-SMLC → MME or MME → E-SMLC
Table 7.3.5-1: Connectionless Information message contents
* * *
IE/Group Name Presence Range IE type and reference Semantics description
Criticality Assigned Criticality Message Type M 7.4.2 YES reject Source
Identity M Network Element / 7.4.19 YES reject Destination Identity M Network
Element / 7.4.19 YES reject APDU M 7.4.18 YES reject Return Error Request O
7.4.20 YES reject Return Error Cause O 7.4.21 YES ignore
* * *
### 7.3.6 LCS-AP Reset Request message
This message is sent to indicate a failure in the sending entity with loss of
location service transactions that were established or were being established.
Direction: E-SMLC → MME or MME → E-SMLC
Table 7.3.6-1: Reset Request message contents
* * *
IE/Group Name Presence Range IE type and reference Semantics description
Criticality Assigned Criticality Message Type M 7.4.2 YES reject LCS Cause M
7.4.16 YES ignore
* * *
### 7.3.7 LCS-AP Reset Acknowledge message
This message is sent in response to a LCS-AP Reset message to indicate that
references and resources associated with location service transactions towards
the entity sending the LCS-AP Reset have been released.
Direction: E-SMLC → MME or MME → E-SMLC
Table 7.3.7-1: Reset Acknowledge message contents
* * *
IE/Group Name Presence Range IE type and reference Semantics description
Criticality Assigned Criticality Message Type M 7.4.2 YES reject
* * *
### 7.3.8 LCS-AP Ciphering Key Data message
This message is used by the E-SMLC to send ciphering keys for broadcast
assistance data to the MME.
Direction: E-SMLC → MME
Table 7.3.8-1: Ciphering Key Data message contents
IE/Group Name Presence Range IE type and reference Semantics description
Criticality Assigned Criticality
* * *
Message Type M 7.4.2 YES reject Ciphering Data M 7.4.36 YES reject
### 7.3.9 LCS-AP Ciphering Key Data Result message
This message is used by the MME to indicate to the E-SMLC whether the MME was
able to successfully store the ciphering data sets received from the E-SMLC in
a Ciphering Data Key message.
Direction: MME → E-SMLC
Table 7.3.9-1: Ciphering Key Data Result message contents
IE/Group Name Presence Range IE type and reference Semantics description
Criticality Assigned Criticality
* * *
Message Type M 7.4.2 YES reject Ciphering Data Ack C 7.4.37 YES reject
Ciphering Data Error Report C 7.4.38 YES reject
## 7.4 Information Elements
### 7.4.1 General
When specifying information elements which are to be represented by bit
strings, if not otherwise specifically stated in the semantics description of
the concerned IE or elsewhere, the following principle applies with regards to
the ordering of bits:
\- The first bit (leftmost bit) contains the most significant bit (MSB)
\- The last bit (rightmost bit) contains the least significant bit (LSB)
\- When importing bit strings from other specifications, the first bit of the
bit string contains the first bit of the concerned information
### 7.4.2 Message Type
The _Message Type_ IE uniquely identifies the message being sent. It is
mandatory for all messages.
Table 7.4.2-1: Message Type
+----------------+----------+-------+----------------+----------------+ | IE/Group Name | Presence | Range | IE type and | Semantics | | | | | reference | description | +----------------+----------+-------+----------------+----------------+ | Procedure Code | M | | INTEGER | \"0\" = LCS-AP | | | | | (0..255) | LOCATION | | | | | | SERVICE | | | | | | REQUEST | | | | | | | | | | | | \"1\" = LCS-AP | | | | | | CONNECTION | | | | | | ORIENTED | | | | | | INFORMATION | | | | | | TRANSFER | | | | | | | | | | | | \"2\" = LCS-AP | | | | | | CONNECTIONLESS | | | | | | INFORMATION | | | | | | TRANSFER | | | | | | | | | | | | \"3\" = LCS-AP | | | | | | LOCATION ABORT | | | | | | | | | | | | \"4\" = LCS-AP | | | | | | RESET | | | | | | | | | | | | \"5\" = LCS-AP | | | | | | CIPHERING KEY | | | | | | DATA | +----------------+----------+-------+----------------+----------------+ | **Type of | M | | ENUMERATED | | | Message** | | | (Initi | | | | | | ating Message, | | | | | | Succe | | | | | | ssful Outcome, | | | | | | Unsucce | | | | | | ssful Outcome, | | | | | | ...) | | +----------------+----------+-------+----------------+----------------+
### 7.4.3 Location Type
This parameter defines the type of location information being requested.
Table 7.4.3-1: Location Type
+---------------+----------+-------+----------------+----------------+ | IE/Group Name | Presence | Range | IE type and | Semantics | | | | | reference | description | +---------------+----------+-------+----------------+----------------+ | Location Type | M | | ENUMERATED | | | | | | (geographic | | | | | | location, | | | | | | assistance | | | | | | information, | | | | | | | | | | | | ..., | | | | | | | | | | | | last known | | | | | | location) | | +---------------+----------+-------+----------------+----------------+
### 7.4.4 E-CGI
This parameter gives the current cell location of the target UE or the last
known cell location for the case when the Location Type IE is set to last
known location. The E-UTRAN Cell Global Identifier (ECGI) is used to globally
identify a cell.
Table 7.4.4-1: ECGI
* * *
IE/Group Name Presence Range IE type and reference Semantics description PLMN
Identity M 7.4.27  
Cell Identity M BIT STRING (28) The leftmost bits of the Cell Identity
correspond to the eNB ID (defined in 7.4.19).
* * *
### 7.4.5 LCS Client Type
This parameter defines the type of the originating LCS Client. It shall be
included if the Location Type indicates a request for a location estimate and
may be included in other cases to assist an SMLC to appropriately prioritize a
location request.
Table 7.4.5-1: LCS Client Type
+---------------+----------+-------+----------------+----------------+ | IE/Group Name | Presence | Range | IE type and | Semantics | | | | | reference | description | +---------------+----------+-------+----------------+----------------+ | Client Type | M | | ENUMERATED | Identifies the | | | | | | category of | | | | | (Emergency | LCS client. | | | | | Services, | | | | | | Value Added | | | | | | Services, PLMN | | | | | | Operator | | | | | | Services, | | | | | | Lawful | | | | | | Intercept | | | | | | Services, PLMN | | | | | | Operator - | | | | | | broadcast | | | | | | services, PLMN | | | | | | Operator - | | | | | | O&M, PLMN | | | | | | Operator - | | | | | | anonymous | | | | | | statistics, | | | | | | PLMN Operator | | | | | | - Target MS | | | | | | service | | | | | | support, | | | | | | | | | | | | ...) | | +---------------+----------+-------+----------------+----------------+
### 7.4.6 LCS Priority
This parameter defines the priority of the location request.
Table 7.4.6-1: LCS Priority
+---------------+----------+-------+----------------+----------------+ | IE/Group Name | Presence | Range | IE type and | Semantics | | | | | reference | description | +---------------+----------+-------+----------------+----------------+ | LCS Priority | M | | OCTET STRING | 0= highest | | | | | (SIZE(1)) | priority | | | | | | | | | | | | 1= normal | | | | | | priority | | | | | | | | | | | | all other | | | | | | values treated | | | | | | as 1 | | | | | | | | | | | | For details, | | | | | | refer to 3GPP | | | | | | TS | | | | | | 22.071 [10]. | +---------------+----------+-------+----------------+----------------+
### 7.4.7 LCS QoS
This parameter provides the required Quality of Service for the LCS Request.
Quality of Service may include horizontal accuracy, vertical accuracy and
allowed response time.
Table 7.4.7-1: LCS QoS
+----------------+----------+-------+----------------+----------------+ | IE/Group Name | Presence | Range | IE type and | Semantics | | | | | reference | description | +----------------+----------+-------+----------------+----------------+ | Horizontal | O | | INTEGER( | bit 8 = 0 | | Accuracy | | | | | | | | | 0..127) | bits 7-1 = 7 | | | | | | bit | | | | | | Uncertainty | | | | | | Code defined | | | | | | in 3GPP | | | | | | TS | | | | | | 23.032 [6]. | | | | | | | | | | | | The horizontal | | | | | | location error | | | | | | should be less | | | | | | than the error | | | | | | indicated by | | | | | | the | | | | | | uncertainty | | | | | | code with 67% | | | | | | confidence. | +----------------+----------+-------+----------------+----------------+ | Vertical | O | | ENUMERATED( | Default value | | Requested | | | | if this IE is | | | | | Vertical | not present | | | | | Coordinate Is | is: Vertical | | | | | Not Requested | Coordinate Is | | | | | (0), | Not Requested | | | | | | (0). | | | | | Vertical | | | | | | Coordinate Is | | | | | | Requested (1) | | | | | | ) | | +----------------+----------+-------+----------------+----------------+ | Vertical | O | | INTEGER( | bit 8 = 0 | | Accuracy | | | | | | | | | 0..127) | bits 7-1 = 7 | | | | | | bit Vertical | | | | | | Uncertainty | | | | | | Code defined | | | | | | in 3GPP | | | | | | TS | | | | | | 23.032 [6]. | | | | | | | | | | | | The vertical | | | | | | location error | | | | | | should be less | | | | | | than the error | | | | | | indicated by | | | | | | the | | | | | | uncertainty | | | | | | code with 67% | | | | | | confidence. | | | | | | | | | | | | If the | | | | | | vertical | | | | | | requested IE | | | | | | is not present | | | | | | or present | | | | | | with a value | | | | | | of 0, then | | | | | | this vertical | | | | | | accuracy will | | | | | | be ignored, if | | | | | | present. | +----------------+----------+-------+----------------+----------------+ | Response Time | O | | ENUMERATED | For details, | | | | | | refer to 3GPP | | | | | (Low Delay(0), | TS | | | | | | 22.071 [10]. | | | | | Delay Tolerant | | | | | | (1), | | | | | | | | | | | | ...) | | +----------------+----------+-------+----------------+----------------+
### 7.4.8 UE Positioning Capability
This parameter provides information about the LCS capabilities of the target
UE.
Table 7.4.8-1: UE Positioning Capability
* * *
IE/Group Name Presence Range IE Type and Reference Semantics Description
Criticality Assigned Criticality LPP Support M BOOLEAN Defines if the UE
supports LPP or not. TRUE means supported. --
* * *
### 7.4.9 Include Velocity
This parameter indicates if the Velocity of the target UE is requested in the
Location Response.
Table 7.4.9-1: Include Velocity
+----------------+----------+-------+----------------+----------------+ | IE/Group Name | Presence | Range | IE type and | Semantics | | | | | reference | description | +----------------+----------+-------+----------------+----------------+ | Velocity | O | | ENUMERATED | Specify if | | Indicator | | | (requested, | Velocity of UE | | | | | | is requested. | | | | | not requested, | | | | | | | | | | | | ...) | | +----------------+----------+-------+----------------+----------------+
### 7.4.10 IMSI
This parameter identifies the IMSI of the target UE.
Table 7.4.10-1: IMSI
* * *
IE/Group Name Presence Range IE type and reference Semantics description IMSI
M OCTET STRING (SIZE (3..8)) The number of decimal digits shall be from 6 to
15 starting with the digits from the PLMN identity. It is encoded with TBCD
String, two digits per octet.
* * *
### 7.4.11 IMEI
This parameter identifies the IMEI of the target UE.
Table 7.4.11-1: IMEI
+---------------+----------+-------+----------------+----------------+ | IE/Group Name | Presence | Range | IE type and | Semantics | | | | | reference | description | +---------------+----------+-------+----------------+----------------+ | IMEI | M | | OCTET STRING | Refers to | | | | | (SIZE (8)) | International | | | | | | Mobile Station | | | | | | Equipment | | | | | | Identity and | | | | | | Software | | | | | | Version Number | | | | | | (SVN) defined | | | | | | in TS 3GPP | | | | | | TS | | | | | | 23.003 [11]. | | | | | | | | | | | | This IE is 16 | | | | | | digits encoded | | | | | | with TBCD | | | | | | String, two | | | | | | digits per | | | | | | octet. | | | | | | | | | | | | If the SVN is | | | | | | not present | | | | | | the last octet | | | | | | shall contain | | | | | | the digit 0 as | | | | | | filler. | | | | | | | | | | | | If present the | | | | | | SVN shall be | | | | | | included in | | | | | | the last | | | | | | octet. | +---------------+----------+-------+----------------+----------------+
### 7.4.12 Geographic Area
This parameter provides a location estimate for the target UE in the case of a
successful location attempt.
Table 7.4.12-1: Geographic Area
+-------------+----------+-------------+-------------+-------------+ | IE/Group | Presence | Range | IE type and | Semantics | | Name | | | reference | description | +-------------+----------+-------------+-------------+-------------+ | CHOICE | | | | | | _G | | | | | | eographical | | | | | | Area_ | | | | | +-------------+----------+-------------+-------------+-------------+ | >_Point_ | | | | Ellipsoid | | | | | | point | +-------------+----------+-------------+-------------+-------------+ | >>G | M | | 7.4.23 | | | eographical | | | | | | | | | | | | Coordinates | | | | | +-------------+----------+-------------+-------------+-------------+ | >_Point | | | | Ellipsoid | | With | | | | point with | | U | | | | uncertainty | | ncertainty_ | | | | circle | +-------------+----------+-------------+-------------+-------------+ | >>G | M | | 7.4.23 | | | eographical | | | | | | | | | | | | Coordinates | | | | | +-------------+----------+-------------+-------------+-------------+ | >> | M | | INTEGER ( | The | | Uncertainty | | | | uncertainty | | Code | | | 0..127) | \"r\" | | | | | | expressed | | | | | | in meters | | | | | | is derived | | | | | | from the | | | | | | \" | | | | | | Uncertainty | | | | | | Code\" k by | | | | | | | | | | | | r = | | | | | | 10 | | | | | | x(1.1^k^-1) | +-------------+----------+-------------+-------------+-------------+ | \ | | | | | | >_Ellipsoid | | | | | | point with_ | | | | | | | | | | | | uncertainty | | | | | | Ellipse | | | | | +-------------+----------+-------------+-------------+-------------+ | >>G | M | | 7.4.23 | | | eographical | | | | | | | | | | | | Coordinates | | | | | +-------------+----------+-------------+-------------+-------------+ | >> | M | | 7.4.24 | | | Uncertainty | | | | | | Ellipse | | | | | +-------------+----------+-------------+-------------+-------------+ | >\ | M | | INTEGER ( | In | | >Confidence | | | | percentage | | | | | 0..100) | | +-------------+----------+-------------+-------------+-------------+ | >Polygon | | | | List of | | | | | | Ellipsoid | | | | | | points | +-------------+----------+-------------+-------------+-------------+ | >>Polygon | | _1..\ * | | number of | | | | | | points | | | | | | allowed is | | | | | | 3. | +-------------+----------+-------------+-------------+-------------+ | \>\>\>G | M | | 7.4.23 | | | eographical | | | | | | | | | | | | Coordinates | | | | | +-------------+----------+-------------+-------------+-------------+ | \ | | | | | | >_Ellipsoid | | | | | | point with _| | | | | | | | | | | | altitude | | | | | +-------------+----------+-------------+-------------+-------------+ | >>G | M | | 7.4.23 | | | eographical | | | | | | | | | | | | Coordinates | | | | | +-------------+----------+-------------+-------------+-------------+ | \ | M | | 7.4.22 | | | >>Altitude | | | | | | and | | | | | | direction | | | | | +-------------+----------+-------------+-------------+-------------+ | \ | | | | | | >_Ellipsoid | | | | | | point with _| | | | | | | | | | | | altitude | | | | | | and | | | | | | uncertainty | | | | | | | | | | | | Ellipsoid | | | | | +-------------+----------+-------------+-------------+-------------+ | >>G | M | | 7.4.23 | | | eographical | | | | | | | | | | | | Coordinates | | | | | +-------------+----------+-------------+-------------+-------------+ | \ | M | | 7.4.22 | | | >>Altitude | | | | | | and | | | | | | direction | | | | | +-------------+----------+-------------+-------------+-------------+ | >> | M | | 7.4.24 | | | Uncertainty | | | | | | Ellipse | | | | | +-------------+----------+-------------+-------------+-------------+ | >> | M | | INTEGER ( | The | | Uncertainty | | | | uncertainty | | Altitude | | | 0..127) | altitude | | | | | | \"h\" | | | | | | expressed | | | | | | in metres | | | | | | is derived | | | | | | from the | | | | | | \" | | | | | | Uncertainty | | | | | | Altitude\" | | | | | | _k _, by: | | | | | | | | | | | | h=45x( | | | | | | 1.025^k^-1) | +-------------+----------+-------------+-------------+-------------+ | >\ | M | | INTEGER ( | In | | >Confidence | | | | percentage | | | | | 0..100) | | +-------------+----------+-------------+-------------+-------------+ | \ | | | | | | >_Ellipsoid | | | | | | Arc _| | | | | +-------------+----------+-------------+-------------+-------------+ | >>G | M | | 7.4.23 | | | eographical | | | | | | | | | | | | Coordinates | | | | | +-------------+----------+-------------+-------------+-------------+ | >>Inner | M | | INTEGER ( | The | | radius | | | | relation | | | | | 0..2^16^-1) | between the | | | | | | value (N) | | | | | | and the | | | | | | radius (r) | | | | | | in meters | | | | | | it | | | | | | describes | | | | | | is 5N≤ r | | | | | | \> | M | | INTEGER ( | The | | Uncertainty | | | | uncertainty | | radius | | | 0..127) | \"r\" is | | | | | | derived | | | | | | from the | | | | | | \" | | | | | | Uncertainty | | | | | | radius\" k | | | | | | by | | | | | | | | | | | | r = | | | | | | 10 | | | | | | x(1.1^k^-1) | +-------------+----------+-------------+-------------+-------------+ | >>Offset | M | | INTEGER ( | The | | angle | | | | relation | | | | | 0..179) | between the | | | | | | value (N) | | | | | | and the | | | | | | angle (a) | | | | | | in degrees | | | | | | it | | | | | | describes | | | | | | is\ | | | | | | 2N≤ a | | | | | | \>Included | | | | relation | | angle | | | 0..179) | between the | | | | | | value (N) | | | | | | and the | | | | | | angle (a) | | | | | | in degrees | | | | | | it | | | | | | describes | | | | | | is\ | | | | | | 2N\\ | M | | INTEGER ( | | | >Confidence | | | | | | | | | 0..100) | | +-------------+----------+-------------+-------------+-------------+ | >High | | | | | | Accuracy | | | | | | Ellipsoid | | | | | | point with | | | | | | uncertainty | | | | | | Ellipse | | | | | +-------------+----------+-------------+-------------+-------------+ | >>High | M | | 7.4.41 | | | Accuracy | | | | | | G | | | | | | eographical | | | | | | Coordinates | | | | | +-------------+----------+-------------+-------------+-------------+ | >>High | M | | 7.4.42 | | | Accuracy | | | | | | Uncertainty | | | | | | Ellipse | | | | | +-------------+----------+-------------+-------------+-------------+ | >\ | M | | INTEGER ( | In | | >Confidence | | | | percentage | | | | | 0..100) | | +-------------+----------+-------------+-------------+-------------+ | >High | | | | | | Accuracy | | | | | | Ellipsoid | | | | | | point with | | | | | | Scalable | | | | | | uncertainty | | | | | | Ellipse | | | | | +-------------+----------+-------------+-------------+-------------+ | >>High | M | | 7.4.41 | | | Accuracy | | | | | | G | | | | | | eographical | | | | | | Coordinates | | | | | +-------------+----------+-------------+-------------+-------------+ | >>High | M | | 7.4.45 | | | Accuracy | | | | | | Scalable | | | | | | Uncertainty | | | | | | Ellipse | | | | | +-------------+----------+-------------+-------------+-------------+ | >\ | M | | INTEGER ( | In | | >Confidence | | | | percentage | | | | | 0..100) | | +-------------+----------+-------------+-------------+-------------+ | >High | | | | | | Accuracy | | | | | | Ellipsoid | | | | | | point with | | | | | | altitude | | | | | | and | | | | | | uncertainty | | | | | | Ellipsoid | | | | | +-------------+----------+-------------+-------------+-------------+ | >>High | M | | 7.4.41 | | | Accuracy | | | | | | G | | | | | | eographical | | | | | | Coordinates | | | | | +-------------+----------+-------------+-------------+-------------+ | >>High | M | | 7.4.43 | | | Accuracy | | | | | | Altitude | | | | | +-------------+----------+-------------+-------------+-------------+ | >>High | M | | 7.4.42 | | | Accuracy | | | | | | Uncertainty | | | | | | Ellipse | | | | | +-------------+----------+-------------+-------------+-------------+ | >\ | M | | INTEGER ( | In | | >Confidence | | | | percentage | | | | | 0..100) | | +-------------+----------+-------------+-------------+-------------+ | >>High | M | | INTEGER ( | The high | | Accuracy | | | | accuracy | | Uncertainty | | | 0..255) | uncertainty | | Altitude | | | | altitude | | | | | | \"h\" | | | | | | expressed | | | | | | in metres | | | | | | is derived | | | | | | from the | | | | | | high | | | | | | accuracy | | | | | | uncertainty | | | | | | code | | | | | | \"_k\"*, | | | | | | by: | | | | | | | | | | | | h=0.3x | | | | | | (1.02^k^-1) | +-------------+----------+-------------+-------------+-------------+ | \ | M | | INTEGER ( | In | | >>Vertical | | | | percentage | | Confidence | | | 0..100) | | +-------------+----------+-------------+-------------+-------------+ | >High | | | | | | Accuracy | | | | | | Ellipsoid | | | | | | point with | | | | | | altitude | | | | | | and | | | | | | scalable | | | | | | uncertainty | | | | | | Ellipsoid | | | | | +-------------+----------+-------------+-------------+-------------+ | >>High | M | | 7.4.41 | | | Accuracy | | | | | | G | | | | | | eographical | | | | | | Coordinates | | | | | +-------------+----------+-------------+-------------+-------------+ | >>High | M | | 7.4.43 | | | Accuracy | | | | | | Altitude | | | | | +-------------+----------+-------------+-------------+-------------+ | >>High | M | | 7.4.45 | | | Accuracy | | | | | | Scalable | | | | | | Uncertainty | | | | | | Ellipse | | | | | +-------------+----------+-------------+-------------+-------------+ | >\ | M | | INTEGER ( | In | | >Confidence | | | | percentage | | | | | 0..100) | | +-------------+----------+-------------+-------------+-------------+ | >>High | M | | 7.4.46 | | | Accuracy | | | | | | Scalable | | | | | | Uncertainty | | | | | | Altitude | | | | | +-------------+----------+-------------+-------------+-------------+ | \ | M | | INTEGER ( | In | | >>Vertical | | | | percentage | | Confidence | | | 0..100) | | +-------------+----------+-------------+-------------+-------------+
Table 7.4.12-2: Range bound
* * *
Range bound Explanation maxnoofPoints Maximum no. of points in polygon. Value
is 15.
* * *
### 7.4.13 Positioning Data
This parameter provides additional information for the positioning attempt
from the E-SMLC.
Table 7.4.13-1: Positioning Data
+-------------+----------+-------------+-------------+-------------+ | IE/Group | Presence | Range | IE type and | Semantics | | Name | | | reference | description | +-------------+----------+-------------+-------------+-------------+ | **Position | M | | | | | Data** | | | | | +-------------+----------+-------------+-------------+-------------+ | **>** | O | | | | | Positioning | | | | | | Data Set | | | | | +-------------+----------+-------------+-------------+-------------+ | >> | | 1. | OCTET | Coding of | | Positioning | | .\ | STRING (1) | positioning | | Method and | | | | method | | Usage | | | | (bits 8-4): | | | | | | | | | | | | 00000 Cell | | | | | | ID | | | | | | | | | | | | 00001 | | | | | | Reserved | | | | | | | | | | | | 00010 E-CID | | | | | | | | | | | | 00011 | | | | | | Reserved | | | | | | | | | | | | 00100 OTDOA | | | | | | | | | | | | 00101 | | | | | | Reserved | | | | | | | | | | | | 00110 | | | | | | Reserved | | | | | | | | | | | | 00111 | | | | | | Reserved | | | | | | | | | | | | 01000 | | | | | | U-TDOA | | | | | | | | | | | | 01001 | | | | | | Reserved | | | | | | | | | | | | 01010 | | | | | | Reserved | | | | | | | | | | | | 01011 | | | | | | Reserved | | | | | | | | | | | | 01100 to | | | | | | 01111 | | | | | | reserved | | | | | | for other | | | | | | location | | | | | | t | | | | | | echnologies | | | | | | | | | | | | 10000 to | | | | | | 11111 | | | | | | reserved | | | | | | for network | | | | | | specific | | | | | | positioning | | | | | | methods | | | | | | | | | | | | Coding of | | | | | | usage (bits | | | | | | 3-1): | | | | | | | | | | | | 000 | | | | | | Attempted | | | | | | uns | | | | | | uccessfully | | | | | | due to | | | | | | failure or | | | | | | i | | | | | | nterruption | | | | | | - not used. | | | | | | | | | | | | 001 | | | | | | Attempted | | | | | | su | | | | | | ccessfully: | | | | | | results not | | | | | | used to | | | | | | generate | | | | | | location - | | | | | | not used. | | | | | | | | | | | | 010 | | | | | | Attempted | | | | | | su | | | | | | ccessfully: | | | | | | results | | | | | | used to | | | | | | verify but | | | | | | not | | | | | | generate | | | | | | location - | | | | | | not used. | | | | | | | | | | | | 011 | | | | | | Attempted | | | | | | su | | | | | | ccessfully: | | | | | | results | | | | | | used to | | | | | | generate | | | | | | location. | | | | | | | | | | | | 100 | | | | | | Attempted | | | | | | su | | | | | | ccessfully: | | | | | | case where | | | | | | UE supports | | | | | | multiple | | | | | | mobile | | | | | | based | | | | | | positioning | | | | | | methods and | | | | | | the actual | | | | | | method or | | | | | | methods | | | | | | used by the | | | | | | UE cannot | | | | | | be | | | | | | determined. | +-------------+----------+-------------+-------------+-------------+ | **\>**GNSS | O | | | | | Positioning | | | | | | Data Set | | | | | +-------------+----------+-------------+-------------+-------------+ | \>\>GNSS | O | 1..\\\ | STRING (1) | Method | | Method and | | | | (Bits 8-7) | | Usage | | | | : | | | | | | | | | | | | 00 : | | | | | | UE-Based | | | | | | | | | | | | 01 : | | | | | | UE-Assisted | | | | | | | | | | | | 10 : | | | | | | C | | | | | | onventional | | | | | | | | | | | | 11 : | | | | | | Reserved | | | | | | | | | | | | Coding of | | | | | | GNSS ID | | | | | | (Bits 6-4) | | | | | | : | | | | | | | | | | | | 000 : GPS | | | | | | | | | | | | 001 : | | | | | | Galileo | | | | | | | | | | | | 010 : SBAS | | | | | | | | | | | | 011 : | | | | | | Modernized | | | | | | GPS | | | | | | | | | | | | 100 : QZSS | | | | | | | | | | | | 101 : | | | | | | GLONASS | | | | | | | | | | | | 110 : BDS | | | | | | | | | | | | 111 : NavIC | | | | | | | | | | | | Coding of | | | | | | usage (bits | | | | | | 3-1): | | | | | | | | | | | | 000 | | | | | | Attempted | | | | | | uns | | | | | | uccessfully | | | | | | due to | | | | | | failure or | | | | | | i | | | | | | nterruption | | | | | | | | | | | | 001 | | | | | | Attempted | | | | | | su | | | | | | ccessfully: | | | | | | results not | | | | | | used to | | | | | | generate | | | | | | location | | | | | | | | | | | | 010 | | | | | | Attempted | | | | | | su | | | | | | ccessfully: | | | | | | results | | | | | | used to | | | | | | verify but | | | | | | not | | | | | | generate | | | | | | location | | | | | | | | | | | | 011 | | | | | | Attempted | | | | | | su | | | | | | ccessfully: | | | | | | results | | | | | | used to | | | | | | generate | | | | | | location | | | | | | | | | | | | 100 | | | | | | Attempted | | | | | | su | | | | | | ccessfully: | | | | | | case where | | | | | | UE supports | | | | | | multiple | | | | | | mobile | | | | | | based | | | | | | positioning | | | | | | methods and | | | | | | the actual | | | | | | method or | | | | | | methods | | | | | | used by the | | | | | | UE cannot | | | | | | be | | | | | | determined. | +-------------+----------+-------------+-------------+-------------+ | \ | O | | | | | >Additional | | | | | | Positioning | | | | | | Data Set | | | | | +-------------+----------+-------------+-------------+-------------+ | \>\ | | *1 to | OCTET | Coding of | | >Additional | | \* | (SIZE(1)) | method | | Method and | | | | (bits 8-7): | | Usage | | | | | | | | | | 00 | | | | | | UE-Based; | | | | | | | | | | | | 01 | | | | | | U | | | | | | E-Assisted; | | | | | | | | | | | | 10 | | | | | | Standalone; | | | | | | | | | | | | 11 | | | | | | Reserved. | | | | | | | | | | | | Coding of | | | | | | Additional | | | | | | Positioning | | | | | | ID (bits | | | | | | 6-4): | | | | | | | | | | | | 000 | | | | | | Barometric | | | | | | Pressure; | | | | | | | | | | | | 001 WLAN; | | | | | | | | | | | | 010 | | | | | | Bluetooth; | | | | | | | | | | | | 011 MBS; | | | | | | | | | | | | 100 | | | | | | Motion | | | | | | -Sensor(s); | | | | | | | | | | | | other | | | | | | values | | | | | | reserved. | | | | | | | | | | | | Coding of | | | | | | usage (bits | | | | | | 3-1): | | | | | | | | | | | | 000 | | | | | | Attempted | | | | | | uns | | | | | | uccessfully | | | | | | due to | | | | | | failure or | | | | | | i | | | | | | nterruption | | | | | | | | | | | | 001 | | | | | | Attempted | | | | | | su | | | | | | ccessfully: | | | | | | results not | | | | | | used to | | | | | | generate | | | | | | location | | | | | | | | | | | | 010 | | | | | | Attempted | | | | | | su | | | | | | ccessfully: | | | | | | results | | | | | | used to | | | | | | verify but | | | | | | not | | | | | | generate | | | | | | location | | | | | | | | | | | | 011 | | | | | | Attempted | | | | | | su | | | | | | ccessfully: | | | | | | results | | | | | | used to | | | | | | generate | | | | | | location | | | | | | | | | | | | 100 | | | | | | Attempted | | | | | | su | | | | | | ccessfully: | | | | | | case where | | | | | | UE supports | | | | | | multiple | | | | | | mobile | | | | | | based | | | | | | positioning | | | | | | methods and | | | | | | the actual | | | | | | method or | | | | | | methods | | | | | | used by the | | | | | | UE cannot | | | | | | be | | | | | | determined. | +-------------+----------+-------------+-------------+-------------+
Table 7.4.13-2: Range bound
* * *
Range bound Explanation maxSet Maximum size of the data set. Value is 9.
maxGNSSSet Maximum size of the data. Value is 9. maxAddPosSet Maximum size of
the data Value is 8.
* * *
### 7.4.14 Velocity Estimate
This parameter provides the velocity estimate for the target UE.
Table 7.4.14-1: Velocity Estimate
+----------------+----------+-------+----------------+----------------+ | IE/Group Name | Presence | Range | IE type and | Semantics | | | | | reference | description | +----------------+----------+-------+----------------+----------------+ | Choice | | | | | | _Velocity | | | | | | Estimate_ | | | | | +----------------+----------+-------+----------------+----------------+ | >Horizontal | | | | Horizontal | | Velocity | | | | speed and | | | | | | bearing (the | | | | | | direction of | | | | | | travel). | +----------------+----------+-------+----------------+----------------+ | >>Horizontal | M | | 7.4.25 | | | Speed and | | | | | | Bearing | | | | | +----------------+----------+-------+----------------+----------------+ | >Horizontal | | | | Horizontal | | with Vertical | | | | speed and | | Velocity | | | | bearing (the | | | | | | direction of | | | | | | travel) as | | | | | | well as | | | | | | vertical speed | | | | | | and the | | | | | | direction | | | | | | (upward or | | | | | | downward) | +----------------+----------+-------+----------------+----------------+ | >>Horizontal | M | | 7.4.25 | | | Speed and | | | | | | Bearing | | | | | +----------------+----------+-------+----------------+----------------+ | >>Vertical | M | | 7.4.26 | | | Velocity | | | | | +----------------+----------+-------+----------------+----------------+ | >Horizontal | | | | Horizontal | | Velocity with | | | | speed, bearing | | Uncertainty | | | | (the direction | | | | | | of travel), | | | | | | and the | | | | | | uncertainty of | | | | | | the reported | | | | | | speed. | +----------------+----------+-------+----------------+----------------+ | >>Horizontal | M | | 7.4.25 | | | Speed and | | | | | | Bearing | | | | | +----------------+----------+-------+----------------+----------------+ | \ | M | | INTEGER | Uncertainty | | >>Uncertainty | | | | speed is | | Speed | | | (0..255) | encoded in | | | | | | increments of | | | | | | 1 kilometer | | | | | | per hour using | | | | | | an 8 bit | | | | | | binary coded | | | | | | number (N). | | | | | | The value of N | | | | | | gives the | | | | | | uncertainty | | | | | | speed except | | | | | | for N=255 | | | | | | which | | | | | | indicates that | | | | | | the | | | | | | uncertainty is | | | | | | not specified | +----------------+----------+-------+----------------+----------------+ | >Horizontal | | | | Horizontal | | with Vertical | | | | speed and | | Velocity and | | | | bearing (the | | Uncertainty | | | | direction of | | | | | | travel) as | | | | | | well as | | | | | | vertical speed | | | | | | and the | | | | | | direction | | | | | | (upward or | | | | | | downward) and | | | | | | the | | | | | | uncertainty of | | | | | | the reported | | | | | | speed. | +----------------+----------+-------+----------------+----------------+ | >>Horizontal | M | | 7.4.25 | | | Speed and | | | | | | Bearing | | | | | +----------------+----------+-------+----------------+----------------+ | >>Vertical | M | | 7.4.26 | | | Velocity | | | | | +----------------+----------+-------+----------------+----------------+ | >>Horizontal | M | | INTEGER\ | Horizontal | | Uncertainty | | | (0..255) | Uncertainty | | Speed | | | | Speed is | | | | | | encoded in | | | | | | increments of | | | | | | 1 kilometer | | | | | | per hour using | | | | | | an 8 bit | | | | | | binary coded | | | | | | number (N). | | | | | | The value of N | | | | | | gives the | | | | | | uncertainty | | | | | | speed except | | | | | | for N=255 | | | | | | which | | | | | | indicates that | | | | | | the | | | | | | uncertainty is | | | | | | not specified | +----------------+----------+-------+----------------+----------------+ | >>Vertical | M | | INTEGER\ | Vertical | | Uncertainty | | | (0..255) | Uncertainty | | Speed | | | | Speed is | | | | | | encoded in | | | | | | increments of | | | | | | 1 kilometer | | | | | | per hour using | | | | | | an 8 bit | | | | | | binary coded | | | | | | number (N). | | | | | | The value of N | | | | | | gives the | | | | | | uncertainty | | | | | | speed except | | | | | | for N=255 | | | | | | which | | | | | | indicates that | | | | | | the | | | | | | uncertainty is | | | | | | not specified | +----------------+----------+-------+----------------+----------------+
### 7.4.15 Accuracy Fulfilment Indicator
This parameter whether the returned position estimate satisfies the requested
accuracy or not.
Table 7.4.15-1: Accuracy Fulfilment Indicator
* * *
IE/Group Name Presence Range IE type and reference Semantics description
Accuracy Fulfilment Indicator O ENUMERATED (requested accuracy fulfilled,\
Indicates if the requested accuracy is fulfilled or not. requested accuracy
not fulfilled,\  
...)
* * *
### 7.4.16 LCS Cause
The LCS Cause is included if and only if a requested location estimate was not
successfully obtained (e.g. location estimate not available), requested LCS
assistance data was not successfully transferred to the UE or location-related
data has been lost. The parameter provides the reason for the failure.
Table 7.4.16-1: LCS Cause
+----------------+----------+-------+----------------+----------------+ | IE/Group Name | Presence | Range | IE Type and | Semantics | | | | | Reference | Description | +----------------+----------+-------+----------------+----------------+ | CHOICE _Cause | | | | | | Group_ | | | | | +----------------+----------+-------+----------------+----------------+ | >Radio | | | | | | Network Layer | | | | | +----------------+----------+-------+----------------+----------------+ | >>Radio | M | | ENUMERATED\ | | | Network Layer | | | ( | | | Cause | | | | | | | | | Unspecified | | | | | | | | | | | | ...) | | +----------------+----------+-------+----------------+----------------+ | >Transport | | | | | | Layer | | | | | +----------------+----------+-------+----------------+----------------+ | >>Transport | M | | ENUMERATED\ | | | Layer Cause | | | (Transport | | | | | | Resource | | | | | | Unavailable, | | | | | | | | | | | | Unspecified, | | | | | | | | | | | | ...) | | +----------------+----------+-------+----------------+----------------+ | >Protocol | | | | | +----------------+----------+-------+----------------+----------------+ | >>Protocol | M | | ENUMERATED\ | | | Cause | | | (Transfer | | | | | | Syntax Error,\ | | | | | | Abstract | | | | | | Syntax Error | | | | | | (Reject),\ | | | | | | Abstract | | | | | | Syntax Error | | | | | | (Ignore and | | | | | | Notify),\ | | | | | | Message not | | | | | | Compatible | | | | | | with Receiver | | | | | | State, | | | | | | | | | | | | Semantic | | | | | | Error,\ | | | | | | Unspecified, | | | | | | | | | | | | Abstract | | | | | | Syntax Error | | | | | | (Falsely | | | | | | Constructed | | | | | | Message), | | | | | | | | | | | | ...) | | +----------------+----------+-------+----------------+----------------+ | >Misc | | | | | +----------------+----------+-------+----------------+----------------+ | >>Misc Cause | M | | ENUMERATED\ | | | | | | (Processing | | | | | | Overload,\ | | | | | | Hardware | | | | | | Failure,\ | | | | | | O&M | | | | | | Intervention,\ | | | | | | Unspecified,\ | | | | | | ...,\ | | | | | | Ciphering Key | | | | | | Data Lost) | | +----------------+----------+-------+----------------+----------------+
### 7.4.17 Payload Type
This parameter indicates the type of APDU included in LCS-AP Connected
Oriented Information message. The supported information types are LPP and
LPPa.
Table 7.4.17-1: Payload Type
+---------------+----------+-------+-----------------------+-----------------------+ | IE/Group Name | Presence | Range | IE type and reference | Semantics description | +---------------+----------+-------+-----------------------+-----------------------+ | Payload Type | M | | ENUMERATED | | | | | | | | | | | | (LPP, | | | | | | | | | | | | LPPa, | | | | | | | | | | | | ...) | | +---------------+----------+-------+-----------------------+-----------------------+
### 7.4.18 APDU
This parameter contains an embedded APDU. For information transfer between an
E-SMLC and an eNB this shall be an LPPa APDU. For information transfer between
an E-SMLC and a target UE, this shall be an LPP APDU.
Table 7.4.18-1: APDU
* * *
IE/Group Name Presence Range IE type and reference Semantics description APDU
M OCTET STRING This IE contains a message whose content and encoding are
defined according to the Payload Type.
* * *
### 7.4.19 Network Element
This parameter identifies the source or destination of the message. The
network element is identified by association with either an eNB ID or the
identity of an E-SMLC.
Table 7.4.19-1: Network Element
* * *
IE/Group Name Presence Range IE type and reference Semantics description
CHOICE _Network Element_ M  
>Global eNB ID The global identity of the eNB >>PLMN Identity 7.4.27  
>>eNB ID 7.4.29  
>E-SMLC Identity INTEGER (0..255) The identity of the E-SMLC (an index to
identify an specific E-SMLC among all the available E-SMLCs in the network)
* * *
### 7.4.20 Return Error Request
This parameter may be included to request an error response if LCS-AP message
cannot be delivered successfully to its final destination. This parameter
shall not be included if the Return Error cause is present.
Table 7.4.20-1: Return Error Type
+-------------------+----------+-------+-----------------------+-----------------------+ | IE/Group Name | Presence | Range | IE type and reference | Semantics description | +-------------------+----------+-------+-----------------------+-----------------------+ | Return Error Type | M | | ENUMERATED ( | | | | | | | | | | | | Yes, | | | | | | | | | | | | No | | | | | | | | | | | | ) | | +-------------------+----------+-------+-----------------------+-----------------------+
### 7.4.21 Return Error Cause
This parameter indicates an error response for a LCS-AP connectionless
information message that could not be delivered to its final destination. The
APDU should be present and the same as the APDU in the original undelivered
message. The source and destination identities shall be included and the same
as the destination and source identities, respectively, in the original
undelivered message.
Table 7.4.21-1: Return Error Cause
* * *
IE/Group Name Presence Range IE type and reference Semantics description
Return Error Cause M ENUMERATED (systemfailure, protocolerror,
destinationunkown, destinationunreachable, congestion,...)
* * *
### 7.4.22 Altitude and direction
Table 7.4.22-1: Altitude and direction
+----------------+----------+-------+----------------+----------------+ | IE/Group Name | Presence | Range | IE type and | Semantics | | | | | reference | description | +----------------+----------+-------+----------------+----------------+ | Direction of | M | | ENUMERATED | | | Altitude | | | (Height, | | | | | | Depth) | | +----------------+----------+-------+----------------+----------------+ | Altitude | M | | INTEGER ( | The relation | | | | | | between the | | | | | 0..2^15^-1) | value (N) and | | | | | | the altitude | | | | | | (a) in meters | | | | | | it describes | | | | | | is N ≤ a \Macro eNB ID BIT STRING (20) Equal to the 20 leftmost bits of the _Cell
Identity_ IE contained in the _E-UTRAN CGI_ IE (see clause 7.4.4) of each cell
served by the eNB >Home eNB ID BIT STRING (28) Equal to the _Cell Identity_ IE
contained in the _E-UTRAN CGI_ IE (see clause 7.4.4) of the cell served by the
eNB >Short Macro eNB ID BIT STRING (18) Equal to the 18 leftmost bits of the
_Cell Identity_ IE contained in the _E-UTRAN CGI_ IE (see clause 7.4.4) of
each cell served by the eNB >Long Macro eNB ID BIT STRING (21) Equal to the 21
leftmost bits of the _Cell Identity_ IE contained in the _E-UTRAN CGI_ IE (see
clause 7.4.4) of each cell served by the eNB
* * *
### 7.4.30 LCS Service Type ID
This parameter defines the service type ID for the location request.
Table 7.4.30-1: LCS Service Type ID
+----------------+----------+-------+----------------+----------------+ | IE/Group Name | Presence | Range | IE type and | Semantics | | | | | reference | description | +----------------+----------+-------+----------------+----------------+ | LCS Service | O | | INTEGER( | Identifies the | | Type ID | | | | type of | | | | | 0..127) | service | | | | | | requested. The | | | | | | meaning of the | | | | | | different | | | | | | service types | | | | | | is defined in | | | | | | 3GPP | | | | | | TS | | | | | | 22.071 [10]. | +----------------+----------+-------+----------------+----------------+
### 7.4.31 Cell Portion ID
This parameter gives the current Cell Portion location of the target UE. The
Cell Portion ID is the unique identifier for a cell portion within a cell.
Table 7.4.31-1: Cell Portion
* * *
IE/Group Name Presence Range IE type and reference Semantics description Cell
Portion ID M INTEGER (0..255,..., 256..4095)
* * *
### 7.4.32 Civic Address
This information element contains a location estimate for the target UE
expressed as a Civic address.
Table 7.4.32-1: Civic Address
* * *
IE/Group Name Presence Range IE type and reference Semantics description Civic
Address O OCTET STRING This IE contains a UTF-8 encoded PIDF-LO XML document
as defined in IETF RFC 4119 [13]. The document shall only contain a civic
address using the namespaces
\"urn:ietf:params:xml:ns:pidf:geopriv10:civicAddr\" per IETF RFC 5139 [14] and
\"urn:ietf:params:xml:ns:pidf:geopriv10:civicAddr:ext\" per IETF RFC 6848
[15].
* * *
### 7.4.33 Barometric Pressure
This information element contains the barometric pressure measurement as
reported by the target UE.
Table 7.4.33-1: Barometric Pressure
* * *
IE/Group Name Presence Range IE type and reference Semantics description
Barometric Pressure O INTEGER (30000..115000) This IE specifies the measured
uncompensated atmospheric pressure in units of Pascal (Pa).
* * *
### 7.4.34 RAT Type
This parameter provides the serving RAT type for the target UE or the last
known serving RAT type for the case when the Location Type IE is set to last
known location.
Table 7.4.34-1: RAT Type
* * *
IE/Group Name Presence Range IE type and reference Semantics description RAT
Type O ENUMERATED (lte-wb, nb-iot, lte-m, ...) This IE provides the serving
RAT type.
* * *
### 7.4.35 Coverage Level
This parameter defines the type of coverage level being requested.
Table 7.4.35-1: Coverage Level
+----------------+----------+-------+----------------+----------------+ | IE/Group Name | Presence | Range | IE type and | Semantics | | | | | reference | description | +----------------+----------+-------+----------------+----------------+ | Coverage Level | O | | ENUMERATED | | | | | | (Exte | | | | | | nded Coverage, | | | | | | | | | | | | ...) | | +----------------+----------+-------+----------------+----------------+
### 7.4.36 Ciphering Data
This parameter contains the ciphering data sets sent by the E-SMLC to the MME.
Table 7.4.36-1: Ciphering Data
IE/Group Name Presence Range IE type and reference Semantics description
* * *
**Ciphering Data** M  
>Ciphering Data Set M 1..\ 7.4.39
Table 7.4.36-2: Range bound
Range bound Explanation
* * *
maxCipherSet Maximum size of the data set. Value is 16
### 7.4.37 Ciphering Data Ack
This parameter contains the ciphering data acknowledgement information sent by
the MME to the E-SMLC.
Table 7.4.37-1: Ciphering Data Ack
+-------------+----------+-------------+-------------+-------------+ | IE/Group | Presence | Range | IE type and | Semantics | | Name | | | reference | description | +=============+==========+=============+=============+=============+ | **Ciphering | M | | | This IE | | Data Ack** | | | | contains | | | | | | the list of | | | | | | ciphering | | | | | | set IDs for | | | | | | which the | | | | | | MME is | | | | | | sending an | | | | | | ackn | | | | | | owledgement | +-------------+----------+-------------+-------------+-------------+ | >Ciphering | M | 1..\ | | | | | | | (0..65535) | | +-------------+----------+-------------+-------------+-------------+
Table 7.4.37-2: Range bound
Range bound Explanation
* * *
maxCipherSet Maximum size of the data set. Value is 16
### 7.4.38 Ciphering Data Error Report
This parameter contains a list of ciphering data sets with the associated
outcome of storage attempt at the MME.
Table 7.4.38-1: Ciphering Data Error Report
IE/Group Name Presence Range IE type and reference Semantics description
* * *
**Ciphering Data Error Report** M  
>Ciphering Data Error Report Contents M 1..\ 7.4.40
Table 7.4.38-2: Range bound
Range bound Explanation
* * *
maxCipherSet Maximum size of the data set. Value is 16
### 7.4.39 Ciphering Data Set
This parameter contains a ciphering data set sent by the E-SMLC to the MME.
Table 7.4.39-1: Ciphering Data Set
+----------------+----------+-------+----------------+----------------+ | IE/Group Name | Presence | Range | IE type and | Semantics | | | | | reference | description | +================+==========+=======+================+================+ | **Ciphering | M | | | | | Data Set** | | | | | +----------------+----------+-------+----------------+----------------+ | >Ciphering | M | | INTEGER | | | Set ID | | | | | | | | | (0..65535) | | +----------------+----------+-------+----------------+----------------+ | >Ciphering | M | | OCTET STRING | | | Key | | | (SIZE(16)) | | +----------------+----------+-------+----------------+----------------+ | >c0 | M | | BIT STRING | | | | | | (SIZE | | | | | | (1..128)) | | +----------------+----------+-------+----------------+----------------+ | >SIB Types | M | | OCTET STRING | This IE | | | | | (SIZE(4)) | contains a | | | | | | bitmap | | | | | | indicating the | | | | | | positioning | | | | | | SIB types for | | | | | | which the | | | | | | ciphering data | | | | | | set is | | | | | | applicable: | | | | | | | | | | | | -- a bit set | | | | | | to 0 indicates | | | | | | that the | | | | | | ciphering data | | | | | | set is not | | | | | | applicable to | | | | | | the | | | | | | corresponding | | | | | | positioning | | | | | | SIB type | | | | | | | | | | | | - a bit set | | | | | | to 1 indicates | | | | | | that the | | | | | | ciphering data | | | | | | set is | | | | | | applicable to | | | | | | the | | | | | | corresponding | | | | | | positioning | | | | | | SIB type | | | | | | | | | | | | The mapping of | | | | | | the bits to | | | | | | the | | | | | | positioning | | | | | | SIB types is | | | | | | as follows: | | | | | | | | | | | | -- bit 8 in | | | | | | the first | | | | | | octet maps to | | | | | | positioning | | | | | | SIB Type 1-1 | | | | | | | | | | | | -- bit 7 in | | | | | | the first | | | | | | octet maps to | | | | | | positioning | | | | | | SIB Type 1-2 | | | | | | | | | | | | -- bit 6 in | | | | | | the first | | | | | | octet maps to | | | | | | positioning | | | | | | SIB Type 1-3 | | | | | | | | | | | | -- bit 5 in | | | | | | the first | | | | | | octet maps to | | | | | | positioning | | | | | | SIB Type 1-4 | | | | | | | | | | | | -- bit 4 in | | | | | | the first | | | | | | octet maps to | | | | | | positioning | | | | | | SIB Type 1-5 | | | | | | | | | | | | -- bit 3 in | | | | | | the first | | | | | | octet maps to | | | | | | positioning | | | | | | SIB Type 1-6 | | | | | | | | | | | | -- bit 2 in | | | | | | the first | | | | | | octet maps to | | | | | | positioning | | | | | | SIB Type 1-7 | | | | | | | | | | | | -- bit 1 in | | | | | | the first | | | | | | octet maps to | | | | | | positioning | | | | | | SIB Type 2-1 | | | | | | | | | | | | -- bit 8 in | | | | | | the second | | | | | | octet maps to | | | | | | positioning | | | | | | SIB Type 2-2 | | | | | | | | | | | | -- bit 7 in | | | | | | the second | | | | | | octet maps to | | | | | | positioning | | | | | | SIB Type 2-3 | | | | | | | | | | | | -- bit 6 in | | | | | | the second | | | | | | octet maps to | | | | | | positioning | | | | | | SIB Type 2-4 | | | | | | | | | | | | -- bit 5 in | | | | | | the second | | | | | | octet maps to | | | | | | positioning | | | | | | SIB Type 2-5 | | | | | | | | | | | | -- bit 4 in | | | | | | the second | | | | | | octet maps to | | | | | | positioning | | | | | | SIB Type 2-6 | | | | | | | | | | | | -- bit 3 in | | | | | | the second | | | | | | octet maps to | | | | | | positioning | | | | | | SIB Type 2-7 | | | | | | | | | | | | -- bit 2 in | | | | | | the second | | | | | | octet maps to | | | | | | positioning | | | | | | SIB Type 2-8 | | | | | | | | | | | | -- bit 1 in | | | | | | the second | | | | | | octet maps to | | | | | | positioning | | | | | | SIB Type 2-9 | | | | | | | | | | | | -- bit 8 in | | | | | | the third | | | | | | octet maps to | | | | | | positioning | | | | | | SIB Type 2-10 | | | | | | | | | | | | -- bit 7 in | | | | | | the third | | | | | | octet maps to | | | | | | positioning | | | | | | SIB Type 2-11 | | | | | | | | | | | | -- bit 6 in | | | | | | the third | | | | | | octet maps to | | | | | | positioning | | | | | | SIB Type 2-12 | | | | | | | | | | | | -- bit 5 in | | | | | | the third | | | | | | octet maps to | | | | | | positioning | | | | | | SIB Type 2-13 | | | | | | | | | | | | -- bit 4 in | | | | | | the third | | | | | | octet maps to | | | | | | positioning | | | | | | SIB Type 2-14 | | | | | | | | | | | | -- bit 3 in | | | | | | the third | | | | | | octet maps to | | | | | | positioning | | | | | | SIB Type 2-15 | | | | | | | | | | | | -- bit 2 in | | | | | | the third | | | | | | octet maps to | | | | | | positioning | | | | | | SIB Type 2-16 | | | | | | | | | | | | -- bit 1 in | | | | | | the third | | | | | | octet maps to | | | | | | positioning | | | | | | SIB Type 2-17 | | | | | | | | | | | | -- bit 8 in | | | | | | the fourth | | | | | | octet maps to | | | | | | positioning | | | | | | SIB Type 2-18 | | | | | | | | | | | | -- bit 7 in | | | | | | the fourth | | | | | | octet maps to | | | | | | positioning | | | | | | SIB Type 2-19 | | | | | | | | | | | | -- bit 6 in | | | | | | the fourth | | | | | | octet maps to | | | | | | positioning | | | | | | SIB Type 3-1 | | | | | | | | | | | | Bits 5 to 1 in | | | | | | the fourth | | | | | | octets are | | | | | | spare and | | | | | | shall be coded | | | | | | as zero. | +----------------+----------+-------+----------------+----------------+ | >SIB Types | O | | OCTET STRING | This IE | | Ext | | | (SIZE(4)) | contains | | | | | | extension of | | | | | | the bitmap | | | | | | **SIB Types** | | | | | | indicating the | | | | | | positioning | | | | | | SIB types for | | | | | | which the | | | | | | ciphering data | | | | | | set is | | | | | | applicable: | | | | | | | | | | | | -- a bit set | | | | | | to 0 indicates | | | | | | that the | | | | | | ciphering data | | | | | | set is not | | | | | | applicable to | | | | | | the | | | | | | corresponding | | | | | | positioning | | | | | | SIB type | | | | | | | | | | | | -- a bit set | | | | | | to 1 indicates | | | | | | that the | | | | | | ciphering data | | | | | | set is | | | | | | applicable to | | | | | | the | | | | | | corresponding | | | | | | positioning | | | | | | SIB type | | | | | | | | | | | | The mapping of | | | | | | the bits to | | | | | | the | | | | | | positioning | | | | | | SIB types is | | | | | | as follows: | | | | | | | | | | | | -- bit 8 in | | | | | | the first | | | | | | octet maps to | | | | | | positioning | | | | | | SIB Type 1-8 | | | | | | | | | | | | -- bit 7 in | | | | | | the first | | | | | | octet maps to | | | | | | positioning | | | | | | SIB Type 2-20 | | | | | | | | | | | | -- bit 6 in | | | | | | the first | | | | | | octet maps to | | | | | | positioning | | | | | | SIB Type 2-21 | | | | | | | | | | | | -- bit 5 in | | | | | | the first | | | | | | octet maps to | | | | | | positioning | | | | | | SIB Type 2-22 | | | | | | | | | | | | -- bit 4 in | | | | | | the first | | | | | | octet maps to | | | | | | positioning | | | | | | SIB Type 2-23 | | | | | | | | | | | | -- bit 3 in | | | | | | the first | | | | | | octet maps to | | | | | | positioning | | | | | | SIB Type 2-24 | | | | | | | | | | | | -- bit 2 in | | | | | | the first | | | | | | octet maps to | | | | | | positioning | | | | | | SIB Type 2-25 | | | | | | | | | | | | Any unassigned | | | | | | bits are spare | | | | | | and shall be | | | | | | coded as zero. | | | | | | In the absence | | | | | | of this IE, | | | | | | the ciphering | | | | | | data set is | | | | | | not applicable | | | | | | for any of the | | | | | | positioning | | | | | | SIB types | | | | | | mapped by this | | | | | | IE. | +----------------+----------+-------+----------------+----------------+ | >Validity | M | | OCTET STRING | This IE | | Start time | | | (SIZE(4)) | contains the | | | | | | UTC time when | | | | | | the ciphering | | | | | | data set | | | | | | becomes valid, | | | | | | encoded in the | | | | | | same format as | | | | | | the first four | | | | | | octets of the | | | | | | 64-bit | | | | | | timestamp | | | | | | format as | | | | | | defined in | | | | | | clause 6 of | | | | | | IETF RF | | | | | | C 5905 [16]. | +----------------+----------+-------+----------------+----------------+ | >Validity | M | | INTEGER | In minutes | | Duration | | | | | | | | | (0..65535) | | +----------------+----------+-------+----------------+----------------+ | >TAIs List | O | | OCTET STRING | This IE | | | | | (SIZE (7..97)) | contains the | | | | | | TAIs of the | | | | | | tracking areas | | | | | | for which the | | | | | | ciphering data | | | | | | set is | | | | | | applicable. It | | | | | | is encoded as | | | | | | octets 2 to n | | | | | | of the | | | | | | Tracking area | | | | | | identity list | | | | | | IE specified | | | | | | in | | | | | | c | | | | | | lause 9.9.3.33 | | | | | | of 3GPP | | | | | | TS | | | | | | 24.301 [17]. | | | | | | | | | | | | If this IE is | | | | | | omitted, the | | | | | | ciphering data | | | | | | set is valid | | | | | | in the entire | | | | | | PLMN. | +----------------+----------+-------+----------------+----------------+
### 7.4.40 Ciphering Data Error Report Contents
This parameter contains a ciphering data set ID with the associated outcome of
storage attempt at the MME.
Table 7.4.40-1: Ciphering Data Error Report Contents
+----------------+----------+-------+----------------+----------------+ | IE/Group Name | Presence | Range | IE type and | Semantics | | | | | reference | description | +================+==========+=======+================+================+ | **Ciphering | M | | | | | Data Error | | | | | | Report | | | | | | Contents** | | | | | +----------------+----------+-------+----------------+----------------+ | >Ciphering | M | | INTEGER | This IE | | Set ID | | | | contains the | | | | | (0..65535) | list of | | | | | | ciphering set | | | | | | IDs for which | | | | | | the MME is | | | | | | sending an | | | | | | a | | | | | | cknowledgement | +----------------+----------+-------+----------------+----------------+ | >Storage | M | | ENUMERATED ( | | | outcome | | | | | | | | | Successful, | | | | | | Failed | | | | | | | | | | | | ) | | +----------------+----------+-------+----------------+----------------+
### 7.4.41 High Accuracy Geographical Coordinates
This IE contains the high accuracy geographical coordinates.
Table 7.4.41-1: High Accuracy Geographical Coordinates
+----------------+----------+-------+----------------+----------------+ | IE/Group Name | Presence | Range | IE type and | Semantics | | | | | reference | description | +----------------+----------+-------+----------------+----------------+ | High Accuracy | M | | INTEGER ( | The IE value | | Degrees Of | | | | (N) is derived | | Latitude | | | -2 | by this | | | | | ^31^..2^31^-1) | formula: | | | | | | | | | | | | N = 2^31^ X | | | | | | /90 | | | | | | | | | | | | X being the | | | | | | latitude in | | | | | | degree (-90°.. | | | | | | +90°) | +----------------+----------+-------+----------------+----------------+ | High Accuracy | M | | INTEGER ( | The IE value | | Degrees Of | | | | (N) is derived | | Longitude | | | -2 | by this | | | | | ^31^..2^31^-1) | formula: | | | | | | | | | | | | N = 2^31^ X | | | | | | /180 | | | | | | | | | | | | X being the | | | | | | longitude in | | | | | | degree | | | | | | (-180°..+180°) | +----------------+----------+-------+----------------+----------------+
### 7.4.42 High Accuracy Uncertainty Ellipse
This IE contains the high accuracy uncertainty ellipse of a geographical area,
using the range (0..255) for high-accuracy uncertainty code \"k\", as
specified in 3GPP TS 23.032 [6].
Table 7.4.42-1: High Accuracy Uncertainty Ellipse
+----------------+----------+-------+----------------+----------------+ | IE/Group Name | Presence | Range | IE type and | Semantics | | | | | reference | description | +----------------+----------+-------+----------------+----------------+ | High Accuracy | M | | INTEGER\ | The high | | Uncertainty | | | (0..255) | accuracy | | semi-major | | | | uncertainty | | | | | | \"r\" is | | | | | | derived from | | | | | | the high | | | | | | accuracy | | | | | | uncertainty | | | | | | code \"k\" by: | | | | | | | | | | | | r = | | | | | | 0 | | | | | | .3x(1.02^k^-1) | +----------------+----------+-------+----------------+----------------+ | High Accuracy | M | | INTEGER\ | The high | | Uncertainty | | | (0..255) | accuracy | | semi-minor | | | | uncertainty | | | | | | \"r\" is | | | | | | derived from | | | | | | the high | | | | | | accuracy | | | | | | uncertainty | | | | | | code \"k\" by: | | | | | | | | | | | | r = | | | | | | 0 | | | | | | .3x(1.02^k^-1) | +----------------+----------+-------+----------------+----------------+ | Orientation of | M | | INTEGER\ | Angle in | | major axis | | | (0..179) | degrees | | | | | | between the | | | | | | major axis and | | | | | | north | +----------------+----------+-------+----------------+----------------+
### 7.4.43 High Accuracy Altitude
Table 7.44.3-1: High Accuracy Altitude
* * *
IE/Group Name Presence Range IE type and reference Semantics description
High Accuracy Altitude M INTEGER (-64000..1280000) The relation between the IE
value (N) and the altitude a (in metres) it encodes is described by the
following equation:\ a=N x 2^-7^
* * *
### 7.4.44 High Accuracy Extended Uncertainty Ellipse
This IE contains the high accuracy extended uncertainty ellipse of a
geographical area, using the range (0..255) for High Accuracy Extended
Uncertainty code \"k\", as specified in 3GPP TS 23.032 [6].
Table 7.4.44-1: High Accuracy Extended Uncertainty Ellipse
* * *
IE/Group Name Presence Range IE type and reference Semantics description
* * *
High Accuracy Extended Uncertainty semi-major M INTEGER\ The high accuracy
extended uncertainty \"r\" is derived from the high accuracy extended
uncertainty code \"k\", as specified in 3GPP TS 23.032 [6] (0..255)
High Accuracy Extended Uncertainty semi-minor M INTEGER\ The high accuracy
extended uncertainty \"r\" is derived from the high accuracy extended
uncertainty code \"k\", as specified in 3GPP TS 23.032 [6] (0..255)
Orientation of major axis M INTEGER\ Angle in degrees between the major axis
and north (0..179)
* * *
### 7.4.45 High Accuracy Scalable Uncertainty Ellipse
Table 7.4.45-1: High Accuracy Scalable Uncertainty Ellipse
IE/Group Name Presence Range IE type and reference Semantics description
* * *
CHOICE _High Accuracy Scalable Uncertainty Ellipse_  
>High Accuracy Uncertainty Ellipse 7.4.42  
>High Accuracy Extended Uncertainty Ellipse 7.4.44
### 7.4.46 High Accuracy Scalable Uncertainty Altitude
Table 7.4.46-1: High Accuracy Scalable Uncertainty Altitude
+----------------+----------+-------+----------------+----------------+ | IE/Group Name | Presence | Range | IE type and | Semantics | | | | | reference | description | +================+==========+=======+================+================+ | CHOICE _High | | | | | | Accuracy | | | | | | Scalable | | | | | | Uncertainty | | | | | | Altitude_ | | | | | +----------------+----------+-------+----------------+----------------+ | >High | | | INTEGER ( | The high | | Accuracy | | | | accuracy | | Uncertainty | | | 0..255) | uncertainty | | Altitude | | | | altitude \"h\" | | | | | | expressed in | | | | | | metres is | | | | | | derived from | | | | | | the high | | | | | | accuracy | | | | | | uncertainty | | | | | | code \"_k\"_ , | | | | | | by: | | | | | | | | | | | | h=0 | | | | | | .3x(1.02^k^-1) | +----------------+----------+-------+----------------+----------------+ | >High | | | INTEGER ( | The high | | Accuracy | | | | accuracy | | Extended | | | 0..255) | extended | | Uncertainty | | | | uncertainty | | Altitude | | | | \"r\" is | | | | | | derived from | | | | | | the high | | | | | | accuracy | | | | | | extended | | | | | | uncertainty | | | | | | code \"k\", as | | | | | | specified in | | | | | | 3GPP T | | | | | | S 23.032 [6] | +----------------+----------+-------+----------------+----------------+
## 7.5 Message and information element abstract syntax
### 7.5.1 General
LCS-AP ASN.1 definition conforms to [8] and [9].
The ASN.1 definition specifies the structure and content of LCS-AP messages.
LCS-AP messages can contain any IEs specified in the object set definitions
for that message without the order or number of occurrence being restricted by
ASN.1. However, for this version of the standard, a sending entity shall
construct a LCS-AP message according to the PDU definitions module and with
the following additional rules (Note that in the following IE means an IE in
the object set with an explicit id. If one IE needed to appear more than once
in one object set, then the different occurrences have different IE ids):
\- IEs shall be ordered (in an IE container) in the order they appear in
object set definitions.
\- Object set definitions specify how many times IEs may appear. An IE shall
appear exactly once if the presence field in an object has value
\"mandatory\". An IE may appear at most once if the presence field in an
object has value \"optional\" or \"conditional\". If in a tabular format there
is multiplicity specified for an IE (i.e. an IE list) then in the
corresponding ASN.1 definition the list definition is separated into two
parts. The first part defines an IE container list where the list elements
reside. The second part defines list elements. The IE container list appears
as an IE of its own. For this version of the standard an IE container list may
contain only one kind of list elements.
If a LCS-AP message that is not constructed as defined above is received, this
shall be considered as Abstract Syntax Error, and the message shall be handled
as defined for Abstract Syntax error in clause 10 of [7].
### 7.5.2 Usage of protocol extension mechanism for non-standard use
The protocol extension mechanism for non-standard use may be used:
\- for special operator- (and/or vendor) specific features considered not to
be part of the basic functionality, i.e. the functionality required for a
complete and high-quality specification in order to guarantee multi-vendor
interoperability.
\- by vendors for research purposes, e.g. to implement and evaluate new
algorithms/features before such features are proposed for standardisation.
The extension mechanism shall not be used for basic functionality. Such
functionality shall be standardised.
### 7.5.3 Elementary procedure definitions
\-- **************************************************************
\--
\-- Elementary Procedure definitions
\--
\-- **************************************************************
LCS-AP-PDU-Descriptions {
itu-t (0) identified-organization (4) etsi (0) mobileDomain (0)
eps-Access (21) modules (3) lcs-AP (4) version1 (1) lcs-AP-PDU-Descriptions
(0)}
DEFINITIONS AUTOMATIC TAGS ::=
BEGIN
\-- **************************************************************
\--
\-- IE parameter types from other modules.
\--
\-- **************************************************************
IMPORTS
Criticality,
ProcedureCode
FROM LCS-AP-CommonDataTypes
Location-Request,
Location-Response,
Location-Abort-Request,
Connection-Oriented-Information,
Connectionless-Information,
Reset-Request,
Reset-Acknowledge,
Ciphering-Key-Data,
Ciphering-Key-Data-Result
FROM LCS-AP-PDU-Contents
id-Location-Service-Request,
id-Connection-Oriented-Information-Transfer,
id-Connectionless-Information-Transfer,
id-Location-Abort,
id-Reset,
id-Ciphering-Key-Data-Delivery
FROM LCS-AP-Constants;
\-- **************************************************************
\--
\-- Interface Elementary Procedure Class
\--
\-- **************************************************************
LCS-AP-ELEMENTARY-PROCEDURE ::= CLASS {
&InitiatingMessage ,
&SuccessfulOutcome OPTIONAL,
&UnsuccessfulOutcome OPTIONAL,
&procedureCode ProcedureCode UNIQUE,
&criticality Criticality DEFAULT ignore
}
WITH SYNTAX {
INITIATING MESSAGE &InitiatingMessage
[SUCCESSFUL OUTCOME &SuccessfulOutcome]
[UNSUCCESSFUL OUTCOME &UnsuccessfulOutcome]
PROCEDURE CODE &procedureCode
[CRITICALITY &criticality]
}
\-- **************************************************************
\--
\-- Interface PDU Definition
\--
\-- **************************************************************
LCS-AP-PDU ::= CHOICE {
initiatingMessage InitiatingMessage,
successfulOutcome SuccessfulOutcome,
unsuccessfulOutcome UnsuccessfulOutcome,
...
}
InitiatingMessage ::= SEQUENCE {
procedureCode LCS-AP-ELEMENTARY-PROCEDURE.&procedureCode ({LCS-AP-ELEMENTARY-
PROCEDURES}),
criticality LCS-AP-ELEMENTARY-PROCEDURE.&criticality ({LCS-AP-ELEMENTARY-
PROCEDURES}{\@procedureCode}),
value LCS-AP-ELEMENTARY-PROCEDURE.&InitiatingMessage ({LCS-AP-ELEMENTARY-
PROCEDURES}{\@procedureCode})
}
SuccessfulOutcome ::= SEQUENCE {
procedureCode LCS-AP-ELEMENTARY-PROCEDURE.&procedureCode ({LCS-AP-ELEMENTARY-
PROCEDURES}),
criticality LCS-AP-ELEMENTARY-PROCEDURE.&criticality ({LCS-AP-ELEMENTARY-
PROCEDURES}{\@procedureCode}),
value LCS-AP-ELEMENTARY-PROCEDURE.&SuccessfulOutcome ({LCS-AP-ELEMENTARY-
PROCEDURES}{\@procedureCode})
}
UnsuccessfulOutcome ::= SEQUENCE {
procedureCode LCS-AP-ELEMENTARY-PROCEDURE.&procedureCode ({LCS-AP-ELEMENTARY-
PROCEDURES}),
criticality LCS-AP-ELEMENTARY-PROCEDURE.&criticality ({LCS-AP-ELEMENTARY-
PROCEDURES}{\@procedureCode}),
value LCS-AP-ELEMENTARY-PROCEDURE.&UnsuccessfulOutcome ({LCS-AP-ELEMENTARY-
PROCEDURES}{\@procedureCode})
}
\-- **************************************************************
\--
\-- Interface Elementary Procedure List
\--
\-- **************************************************************
LCS-AP-ELEMENTARY-PROCEDURES LCS-AP-ELEMENTARY-PROCEDURE ::= {
LCS-AP-ELEMENTARY-PROCEDURES-CLASS-1 \|
LCS-AP-ELEMENTARY-PROCEDURES-CLASS-2 ,
...
}
LCS-AP-ELEMENTARY-PROCEDURES-CLASS-1 LCS-AP-ELEMENTARY-PROCEDURE ::= {
location-Service-Request \|
connectionless-Information-Transfer \|
location-Abort \|
reset \|
ciphering-Key-Data-Delivery ,
...
}
LCS-AP-ELEMENTARY-PROCEDURES-CLASS-2 LCS-AP-ELEMENTARY-PROCEDURE ::= {
connection-Oriented-Information-Transfer ,
...
}
\-- **************************************************************
\--
\-- Interface Elementary Procedures
\--
\-- **************************************************************
location-Service-Request LCS-AP-ELEMENTARY-PROCEDURE ::= {
INITIATING MESSAGE Location-Request
SUCCESSFUL OUTCOME Location-Response
UNSUCCESSFUL OUTCOME Location-Response
PROCEDURE CODE id-Location-Service-Request
CRITICALITY reject
}
connection-Oriented-Information-Transfer LCS-AP-ELEMENTARY-PROCEDURE ::= {
INITIATING MESSAGE Connection-Oriented-Information
PROCEDURE CODE id-Connection-Oriented-Information-Transfer
CRITICALITY reject
}
connectionless-Information-Transfer LCS-AP-ELEMENTARY-PROCEDURE ::= {
INITIATING MESSAGE Connectionless-Information
UNSUCCESSFUL OUTCOME Connectionless-Information
PROCEDURE CODE id-Connectionless-Information-Transfer
CRITICALITY reject
}
location-Abort LCS-AP-ELEMENTARY-PROCEDURE ::= {
INITIATING MESSAGE Location-Abort-Request
SUCCESSFUL OUTCOME Location-Response
PROCEDURE CODE id-Location-Abort
CRITICALITY reject
}
reset LCS-AP-ELEMENTARY-PROCEDURE ::= {
INITIATING MESSAGE Reset-Request
SUCCESSFUL OUTCOME Reset-Acknowledge
PROCEDURE CODE id-Reset
CRITICALITY reject
}
ciphering-Key-Data-Delivery LCS-AP-ELEMENTARY-PROCEDURE ::= {
INITIATING MESSAGE Ciphering-Key-Data
SUCCESSFUL OUTCOME Ciphering-Key-Data-Result
UNSUCCESSFUL OUTCOME Ciphering-Key-Data-Result
PROCEDURE CODE id-Ciphering-Key-Data-Delivery
CRITICALITY reject
}
END
### 7.5.4 PDU definitions
\-- **************************************************************
\--
\-- PDU definitions for LCS-AP.
\--
\-- **************************************************************
LCS-AP-PDU-Contents {
itu-t (0) identified-organization (4) etsi (0) mobileDomain (0)
eps-Access (21) modules (3) lcs-AP (4) version1 (1) lcs-AP-PDU-Contents (1)}
DEFINITIONS AUTOMATIC TAGS ::=
BEGIN
\-- **************************************************************
\--
\-- IE parameter types from other modules.
\--
\-- **************************************************************
IMPORTS
APDU,
Accuracy-Fulfillment-Indicator,
Barometric-Pressure,
Cell-Portion-ID,
Ciphering-Data,
Ciphering-Data-Ack,
Ciphering-Data-Error-Report,
Civic-Address,
Correlation-ID,
Coverage-Level,
E-CGI,
Geographical-Area,
IMSI,
IMEI,
Include-Velocity,
LCS-Cause,
LCS-Client-Type,
LCS-Service-Type-ID,
LCS-Priority,
LCS-QoS,
Location-Type,
MultipleAPDUs,
Network-Element,
Payload-Type,
Positioning-Data,
RAT-Type,
Return-Error-Type,
Return-Error-Cause,
UE-Positioning-Capability,
Velocity-Estimate
FROM LCS-AP-IEs
ProtocolExtensionContainer{},
ProtocolIE-Container{},
LCS-AP-PROTOCOL-EXTENSION,
LCS-AP-PROTOCOL-IES
FROM LCS-AP-Containers
id-Accuracy-Fulfillment-Indicator,
id-APDU,
id-Barometric-Pressure,
id-Cell-Portion-ID,
id-Ciphering-Data,
id-Ciphering-Data-Ack,
id-Ciphering-Data-Error-Report,
id-Civic-Address,
id-Correlation-ID,
id-Coverage-Level,
id-Destination-ID,
id-E-UTRAN-Cell-Identifier,
id-Include-Velocity,
id-IMEI,
id-IMSI,
id-LCS-Client-Type,
id-LCS-Priority,
id-LCS-QOS,
id-LCS-Cause,
id-LCS-Service-Type-ID,
id-Location-Estimate,
id-Location-Type,
id-MultipleAPDUs,
id-Payload-Type,
id-Positioning-Data,
id-RAT-Type,
id-Return-Error-Request,
id-Return-Error-Cause,
id-Source-Identity,
id-UE-Positioning-Capability,
id-Velocity-Estimate
FROM LCS-AP-Constants;
\-- **************************************************************
\--
\-- Location-Request
\--
\-- **************************************************************
Location-Request ::= SEQUENCE {
protocolIEs ProtocolIE-Container { { Location-Request-IEs} },
protocolExtensions ProtocolExtensionContainer { { Location-Request-Extensions}
} OPTIONAL,
...
}
Location-Request-IEs LCS-AP-PROTOCOL-IES ::= {
{ ID id-Correlation-ID CRITICALITY reject TYPE Correlation-ID PRESENCE
mandatory } \|
{ ID id-Location-Type CRITICALITY reject TYPE Location-Type PRESENCE mandatory
} \|
{ ID id-E-UTRAN-Cell-Identifier CRITICALITY ignore TYPE E-CGI PRESENCE
mandatory } \|
{ ID id-LCS-Client-Type CRITICALITY reject TYPE LCS-Client-Type PRESENCE
optional } \|
{ ID id-LCS-Priority CRITICALITY reject TYPE LCS-Priority PRESENCE optional }
\|
{ ID id-LCS-QOS CRITICALITY reject TYPE LCS-QoS PRESENCE optional } \|
{ ID id-UE-Positioning-Capability CRITICALITY reject TYPE UE-Positioning-
Capability PRESENCE optional } \|
{ ID id-Include-Velocity CRITICALITY reject TYPE Include-Velocity PRESENCE
optional } \|
{ ID id-IMSI CRITICALITY ignore TYPE IMSI PRESENCE optional } \|
{ ID id-IMEI CRITICALITY ignore TYPE IMEI PRESENCE optional } \|
{ ID id-MultipleAPDUs CRITICALITY reject TYPE MultipleAPDUs PRESENCE optional
} \|
{ ID id-RAT-Type CRITICALITY ignore TYPE RAT-Type PRESENCE optional } \|
{ ID id-Coverage-Level CRITICALITY ignore TYPE Coverage-Level PRESENCE
optional},
...
}
Location-Request-Extensions LCS-AP-PROTOCOL-EXTENSION ::= {
{ ID id-LCS-Service-Type-ID CRITICALITY ignore EXTENSION LCS-Service-Type-ID
PRESENCE optional },
...
}
\-- **************************************************************
\--
\-- Location-Response
\--
\-- **************************************************************
Location-Response ::= SEQUENCE {
protocolIEs ProtocolIE-Container { {Location-Response-IEs} },
protocolExtensions ProtocolExtensionContainer { {Location-Response-Extensions}
} OPTIONAL,
...
}
Location-Response-IEs LCS-AP-PROTOCOL-IES ::= {
{ ID id-Correlation-ID CRITICALITY reject TYPE Correlation-ID PRESENCE
mandatory } \|
{ ID id-Location-Estimate CRITICALITY reject TYPE Geographical-Area PRESENCE
optional } \|
{ ID id-Positioning-Data CRITICALITY reject TYPE Positioning-Data PRESENCE
optional } \|
{ ID id-Velocity-Estimate CRITICALITY reject TYPE Velocity-Estimate PRESENCE
optional } \|
{ ID id-Accuracy-Fulfillment-Indicator CRITICALITY reject TYPE Accuracy-
Fulfillment-Indicator PRESENCE optional } \|
{ ID id-LCS-Cause CRITICALITY ignore TYPE LCS-Cause PRESENCE optional } ,
...
}
Location-Response-Extensions LCS-AP-PROTOCOL-EXTENSION ::= {
{ ID id-E-UTRAN-Cell-Identifier CRITICALITY ignore EXTENSION E-CGI PRESENCE
optional } \|
{ ID id-Cell-Portion-ID CRITICALITY ignore EXTENSION Cell-Portion-ID PRESENCE
optional } \|
{ ID id-Civic-Address CRITICALITY ignore EXTENSION Civic-Address PRESENCE
optional } \|
{ ID id-Barometric-Pressure CRITICALITY ignore EXTENSION Barometric-Pressure
PRESENCE optional },
...
}
\-- **************************************************************
\--
\-- Location-Abort
\--
\-- **************************************************************
Location-Abort-Request ::= SEQUENCE {
protocolIEs ProtocolIE-Container { {Location-Abort-Request-IEs} },
protocolExtensions ProtocolExtensionContainer { {Location-Abort-Request-
Extensions} } OPTIONAL,
...
}
Location-Abort-Request-IEs LCS-AP-PROTOCOL-IES ::= {
{ ID id-Correlation-ID CRITICALITY reject TYPE Correlation-ID PRESENCE
mandatory } \|
{ ID id-LCS-Cause CRITICALITY ignore TYPE LCS-Cause PRESENCE mandatory } ,
...
}
Location-Abort-Request-Extensions LCS-AP-PROTOCOL-EXTENSION ::= {
...
}
\-- **************************************************************
\--
\-- Connection-Oriented-Information
\--
\-- **************************************************************
Connection-Oriented-Information ::= SEQUENCE {
protocolIEs ProtocolIE-Container { {Connection-Oriented-Information-IEs} },
protocolExtensions ProtocolExtensionContainer { {Connection-Oriented-
Information-Extensions} } OPTIONAL,
...
}
Connection-Oriented-Information-IEs LCS-AP-PROTOCOL-IES ::= {
{ ID id-Correlation-ID CRITICALITY reject TYPE Correlation-ID PRESENCE
optional } \|
{ ID id-Payload-Type CRITICALITY reject TYPE Payload-Type PRESENCE optional }
\|
{ ID id-APDU CRITICALITY reject TYPE APDU PRESENCE optional } ,
...
}
Connection-Oriented-Information-Extensions LCS-AP-PROTOCOL-EXTENSION ::= {
...
}
\-- **************************************************************
\--
\-- Connectionless-Information
\--
\-- **************************************************************
Connectionless-Information ::= SEQUENCE {
protocolIEs ProtocolIE-Container { {Connectionless-Information-IEs} },
protocolExtensions ProtocolExtensionContainer { {Connectionless-Information-
Extensions} } OPTIONAL,
...
}
Connectionless-Information-IEs LCS-AP-PROTOCOL-IES ::= {
{ ID id-Source-Identity CRITICALITY reject TYPE Network-Element PRESENCE
mandatory } \|
{ ID id-Destination-ID CRITICALITY reject TYPE Network-Element PRESENCE
mandatory } \|
{ ID id-APDU CRITICALITY reject TYPE APDU PRESENCE mandatory } \|
{ ID id-Return-Error-Request CRITICALITY reject TYPE Return-Error-Type
PRESENCE optional } \|
{ ID id-Return-Error-Cause CRITICALITY ignore TYPE Return-Error-Cause PRESENCE
optional } ,
...
}
Connectionless-Information-Extensions LCS-AP-PROTOCOL-EXTENSION ::= {
...
}
\-- **************************************************************
\--
\-- Reset-Request
\--
\-- **************************************************************
Reset-Request ::= SEQUENCE {
protocolIEs ProtocolIE-Container { {Reset-Request-IEs} },
protocolExtensions ProtocolExtensionContainer { {Reset-Request-Extensions} }
OPTIONAL,
...
}
Reset-Request-IEs LCS-AP-PROTOCOL-IES ::= {
{ ID id-LCS-Cause CRITICALITY ignore TYPE LCS-Cause PRESENCE mandatory } ,
...
}
Reset-Request-Extensions LCS-AP-PROTOCOL-EXTENSION ::= {
...
}
\-- **************************************************************
\--
\-- Reset-Acknowledge
\--
\-- **************************************************************
Reset-Acknowledge ::= SEQUENCE {
protocolIEs ProtocolIE-Container { { Reset-Acknowledge-IEs} },
protocolExtensions ProtocolExtensionContainer { { Reset-Acknowledge-
Extensions} } OPTIONAL,
...
}
Reset-Acknowledge-IEs LCS-AP-PROTOCOL-IES ::= {
...
}
Reset-Acknowledge-Extensions LCS-AP-PROTOCOL-EXTENSION ::= {
...
}
\-- **************************************************************
\--
\-- Ciphering-Key-Data
\--
\-- **************************************************************
Ciphering-Key-Data ::= SEQUENCE {
protocolIEs ProtocolIE-Container { {Ciphering-Key-Data-IEs} },
protocolExtensions ProtocolExtensionContainer { {Ciphering-Key-Data-
Extensions} } OPTIONAL,
...
}
Ciphering-Key-Data-IEs LCS-AP-PROTOCOL-IES ::= {
{ ID id-Ciphering-Data CRITICALITY reject TYPE Ciphering-Data PRESENCE
mandatory } ,
...
}
Ciphering-Key-Data-Extensions LCS-AP-PROTOCOL-EXTENSION ::= {
...
}
\-- **************************************************************
\--
\-- Ciphering-Key-Data-Result
\--
\-- **************************************************************
Ciphering-Key-Data-Result ::= SEQUENCE {
protocolIEs ProtocolIE-Container { {Ciphering-Key-Data-Result-IEs} },
protocolExtensions ProtocolExtensionContainer { {Ciphering-Key-Data-Result-
Extensions} } OPTIONAL,
...
}
Ciphering-Key-Data-Result-IEs LCS-AP-PROTOCOL-IES ::= {
{ ID id-Ciphering-Data-Ack CRITICALITY reject TYPE Ciphering-Data-Ack PRESENCE
conditional } \|
{ ID id-Ciphering-Data-Error-Report CRITICALITY reject TYPE Ciphering-Data-
Error-Report PRESENCE conditional } ,
...
}
Ciphering-Key-Data-Result-Extensions LCS-AP-PROTOCOL-EXTENSION ::= {
...
}
END
### 7.5.5 Information element definitions
\-- **************************************************************
\--
\-- Information Element Definitions
\--
\-- **************************************************************
LCS-AP-IEs {
itu-t (0) identified-organization (4) etsi (0) mobileDomain (0)
eps-Access (21) modules (3) lcs-AP (4) version1 (1) lcs-AP-IEs (2)}
DEFINITIONS AUTOMATIC TAGS ::=
BEGIN
IMPORTS
max-No-Of-Points,
max-Set,
max-GNSS-Set,
max-Add-Pos-Set,
max-Cipher-Set,
id-Additional-PositioningDataSet
FROM LCS-AP-Constants
Criticality,
ProcedureCode,
TriggeringMessage,
ProtocolIE-ID
FROM LCS-AP-CommonDataTypes
ProtocolExtensionContainer{},
LCS-AP-PROTOCOL-EXTENSION
FROM LCS-AP-Containers;
\-- A
APDU ::= OCTET STRING
Accuracy-Fulfillment-Indicator ::= ENUMERATED {
requested-accuracy-fulfilled,
requested-accuracy-not-fulfilled,
...
}
Additional-PositioningDataSet ::= SEQUENCE(SIZE(1..max-Add-Pos-Set)) OF
Additional-PositioningMethodAndUsage
Additional-PositioningMethodAndUsage ::= OCTET STRING (SIZE(1))
Altitude ::= INTEGER (0..65535)
\-- The valid value for this IE is 0 to 32767.
\-- Reception of value greater than 32767 shall be mapped to the value 32767.
Altitude-And-Direction ::= SEQUENCE {
direction-Of-Altitude Direction-Of-Altitude,
altitude Altitude,
...
}
Angle ::= INTEGER (0..179)
\-- B
Barometric-Pressure ::= INTEGER (30000..115000)
Bearing ::= INTEGER (0..359)
\-- C
C0 ::= BIT STRING (SIZE (1..128))
CellIdentity ::= BIT STRING (SIZE (28))
Cell-Portion-ID ::= INTEGER (0..255,..., 256..4095)
Ciphering-Data ::= SEQUENCE(SIZE(1..max-Cipher-Set)) OF Ciphering-Data-Set
Ciphering-Data-Ack ::= SEQUENCE(SIZE(1..max-Cipher-Set)) OF Ciphering-Set-ID
Ciphering-Data-Error-Report ::= SEQUENCE(SIZE(1..max-Cipher-Set)) OF
Ciphering-Data-Error-Report-Contents
Ciphering-Data-Set ::= SEQUENCE {
ciphering-Set-ID Ciphering-Set-ID,
ciphering-Key Ciphering-Key,
c0 C0,
sib-Types SIB-Types,
validity-Start-Time Validity-Start-Time,
validity-Duration Validity-Duration,
tais-List TAIs-List,
...
}
Ciphering-Data-Error-Report-Contents ::= SEQUENCE {
ciphering-Set-ID Ciphering-Set-ID,
storage-Outcome Storage-Outcome,
...
}
Ciphering-Set-ID ::= INTEGER (0..65535)
Ciphering-Key ::= OCTET STRING (SIZE (16))
Civic-Address ::= OCTET STRING
Confidence ::= INTEGER (0..100)
Correlation-ID ::= OCTET STRING (SIZE (4))
\-- D
DegreesLatitude ::= INTEGER (0..8388607) -- 23 bit field
DegreesLongitude ::= INTEGER (-8388608..8388607) -- 24 bit field
Direction-Of-Altitude ::= ENUMERATED {
height,
depth
}
\-- E
E-CGI ::= SEQUENCE {
pLMNidentity PLMN-ID,
cell-ID CellIdentity,
iE-Extensions ProtocolExtensionContainer { { E-CGI-ExtIEs} } OPTIONAL,
...}
E-CGI-ExtIEs LCS-AP-PROTOCOL-EXTENSION ::= {
...
}
Coverage-Level ::= ENUMERATED {
extendedcoverage,
...
}
Ellipsoid-Point-With-Uncertainty-Ellipse ::= SEQUENCE {
geographical-Coordinates Geographical-Coordinates,
uncertainty-Ellipse Uncertainty-Ellipse,
confidence Confidence,
iE-Extensions ProtocolExtensionContainer { { Ellipsoid-Point-With-Uncertainty-
Ellipse-ExtIEs} } OPTIONAL,
...}
Ellipsoid-Point-With-Uncertainty-Ellipse-ExtIEs LCS-AP-PROTOCOL-EXTENSION ::=
{
...
}
Ellipsoid-Point-With-Altitude ::= SEQUENCE {
geographical-Coordinates Geographical-Coordinates,
altitude-And-Direction Altitude-And-Direction,
iE-Extensions ProtocolExtensionContainer { { Ellipsoid-Point-With-Altitude-
ExtIEs} } OPTIONAL,
...}
Ellipsoid-Point-With-Altitude-ExtIEs LCS-AP-PROTOCOL-EXTENSION ::= {
...
}
Ellipsoid-Point-With-Altitude-And-Uncertainty-Ellipsoid ::= SEQUENCE {
geographical-Coordinates Geographical-Coordinates,
altitude-And-Direction Altitude-And-Direction,
uncertainty-Ellipse Uncertainty-Ellipse,
uncertainty-Altitude Uncertainty-Altitude,
confidence Confidence,
iE-Extensions ProtocolExtensionContainer { { Ellipsoid-Point-With-Altitude-
And-Uncertainty-Ellipsoid-ExtIEs} } OPTIONAL,
...}
Ellipsoid-Point-With-Altitude-And-Uncertainty-Ellipsoid-ExtIEs LCS-AP-
PROTOCOL-EXTENSION ::= {
...
}
Ellipsoid-Arc ::= SEQUENCE {
geographical-Coordinates Geographical-Coordinates,
inner-Radius Inner-Radius,
uncertainty-Radius Uncertainty-Code,
offset-Angle Angle,
included-Angle Angle,
confidence Confidence,
iE-Extensions ProtocolExtensionContainer { { Ellipsoid-Arc-ExtIEs} } OPTIONAL,
...
}
Ellipsoid-Arc-ExtIEs LCS-AP-PROTOCOL-EXTENSION ::= {
...
}
ENB-ID ::= CHOICE {
macro-eNB-ID Macro-eNB-ID,
home-eNB-ID Home-eNB-ID,
...,
short-macro-eNB-ID Short-Macro-eNB-ID,
long-macro-eNB-ID Long-Macro-eNB-ID
}
E-SMLC-ID ::= INTEGER (0..255)
\-- F
\-- G
Geographical-Area ::= CHOICE {
point Point,
point-With-Uncertainty Point-With-Uncertainty,
ellipsoidPoint-With-Uncertainty-Ellipse Ellipsoid-Point-With-Uncertainty-
Ellipse,
polygon Polygon,
ellipsoid-Point-With-Altitude Ellipsoid-Point-With-Altitude,
ellipsoid-Point-With-Altitude-And-Uncertainty-Ellipsoid Ellipsoid-Point-With-
Altitude-And-Uncertainty-Ellipsoid,
ellipsoid-Arc Ellipsoid-Arc,
...,
high-Accuracy-Ellipsoid-Point-With-Uncertainty-Ellipse High-Accuracy-
Ellipsoid-Point-With-Uncertainty-Ellipse,
high-Accuracy-Ellipsoid-Point-With-Altitude-And-Uncertainty-Ellipsoid High-
Accuracy-Ellipsoid-Point-With-Altitude-And-Uncertainty-Ellipsoid,
high-Accuracy-Ellipsoid-Point-With-Scalable-Uncertainty-Ellipse High-Accuracy-
Ellipsoid-Point-With-Scalable-Uncertainty-Ellipse,
high-Accuracy-Ellipsoid-Point-With-Altitude-And-Scalable-Uncertainty-Ellipsoid
High- Accuracy-Ellipsoid-Point-With-Altitude-And-Scalable-Uncertainty-
Ellipsoid
}
Geographical-Coordinates ::= SEQUENCE {
latitudeSign LatitudeSign,
degreesLatitude DegreesLatitude,
degreesLongitude DegreesLongitude,
iE-Extensions ProtocolExtensionContainer { {Geographical-Coordinates-ExtIEs} }
OPTIONAL,
...
}
Geographical-Coordinates-ExtIEs LCS-AP-PROTOCOL-EXTENSION ::= {
...
}
Global-eNB-ID ::= SEQUENCE {
pLMN-ID PLMN-ID,
eNB-ID ENB-ID
}
GNSS-Positioning-Method-And-Usage ::= OCTET STRING (SIZE (1))
GNSS-Positioning-Data-Set ::= SEQUENCE (SIZE (1..max-GNSS-Set)) OF GNSS-
Positioning-Method-And-Usage
\-- H
High-Accuracy-Altitude ::= INTEGER (-64000..1280000)
High-Accuracy-DegreesLatitude ::= INTEGER(-2147483648..2147483647)
High-Accuracy-DegreesLongitude ::= INTEGER(-2147483648..2147483647)
High-Accuracy-Ellipsoid-Point-With-Uncertainty-Ellipse ::= SEQUENCE {
high-Accuracy-Geographical-Coordinates High-Accuracy-Geographical-Coordinates,
high-Accuracy-Uncertainty-Ellipse High-Accuracy-Uncertainty-Ellipse,
confidence Confidence,
iE-Extensions ProtocolExtensionContainer { { High-Accuracy-Ellipsoid-Point-
With-Uncertainty-Ellipse-ExtIEs} } OPTIONAL,
...}
High-Accuracy-Ellipsoid-Point-With-Uncertainty-Ellipse-ExtIEs LCS-AP-PROTOCOL-
EXTENSION ::= {
...
}
High-Accuracy-Ellipsoid-Point-With-Scalable-Uncertainty-Ellipse ::= SEQUENCE {
high-Accuracy-Geographical-Coordinates High-Accuracy-Geographical-Coordinates,
high-Accuracy-Scalable-Uncertainty-Ellipse High-Accuracy-Scalable-Uncertainty-
Ellipse,
confidence Confidence,
iE-Extensions ProtocolExtensionContainer { { High-Accuracy-Ellipsoid-Point-
With-Scalable-Uncertainty-Ellipse-ExtIEs} } OPTIONAL,
...}
High-Accuracy-Ellipsoid-Point-With-Scalable-Uncertainty-Ellipse-ExtIEs LCS-AP-
PROTOCOL-EXTENSION ::= {
...
}
High-Accuracy-Ellipsoid-Point-With-Altitude-And-Uncertainty-Ellipsoid ::=
SEQUENCE {
high-Accuracy-Geographical-Coordinates High-Accuracy-Geographical-Coordinates,
high-Accuracy-Altitude High-Accuracy-Altitude,
high-Accuracy-Uncertainty-Ellipse High-Accuracy-Uncertainty-Ellipse,
confidence Confidence,
high-Accuracy-Uncertainty-Altitude High-Accuracy-Uncertainty-Code,
vertical-Confidence Confidence,
iE-Extensions ProtocolExtensionContainer { { High-Accuracy-Ellipsoid-Point-
With-Altitude-And-Uncertainty-Ellipsoid-ExtIEs} } OPTIONAL,
...}
High-Accuracy-Ellipsoid-Point-With-Altitude-And-Uncertainty-Ellipsoid-ExtIEs
LCS-AP-PROTOCOL-EXTENSION ::= {
...
}
High-Accuracy-Ellipsoid-Point-With-Altitude-And-Scalable-Uncertainty-Ellipsoid
::= SEQUENCE {
high-Accuracy-Geographical-Coordinates High-Accuracy-Geographical-Coordinates,
high-Accuracy-Altitude High-Accuracy-Altitude,
high-Accuracy-Scalable-Uncertainty-Ellipse High-Accuracy-Scalable-Uncertainty-
Ellipse,
confidence Confidence,
high-Accuracy-Scalable-Uncertainty-Altitude High-Accuracy-Scalable-
Uncertainty-Altitude,
vertical-Confidence Confidence,
iE-Extensions ProtocolExtensionContainer { { High-Accuracy-Ellipsoid-Point-
With-Altitude-And-Scalable-Uncertainty-Ellipsoid-ExtIEs} } OPTIONAL,
...}
High-Accuracy-Ellipsoid-Point-With-Altitude-And-Scalable-Uncertainty-
Ellipsoid-ExtIEs LCS-AP-PROTOCOL-EXTENSION ::= {
...
}
High-Accuracy-Geographical-Coordinates ::= SEQUENCE {
high-Accuracy-DegreesLatitude High-Accuracy-DegreesLatitude,
high-Accuracy-DegreesLongitude High-Accuracy-DegreesLongitude,
iE-Extensions ProtocolExtensionContainer { { High-Accuracy-Geographical-
Coordinates-ExtIEs} } OPTIONAL,
...
}
High-Accuracy-Geographical-Coordinates-ExtIEs LCS-AP-PROTOCOL-EXTENSION ::= {
...
}
High-Accuracy-Uncertainty-Code ::= INTEGER (0..255)
High-Accuracy-Extended-Uncertainty-Code ::= INTEGER (0..255)
High-Accuracy-Uncertainty-Ellipse ::= SEQUENCE {
high-Accuracy-Uncertainty-SemiMajor High-Accuracy-Uncertainty-Code,
high-Accuracy-Uncertainty-SemiMinor High-Accuracy-Uncertainty-Code,
orientation-Major-Axis INTEGER (0..179),
iE-Extensions ProtocolExtensionContainer { { High-Accuracy-Uncertainty-
Ellipse-ExtIEs} } OPTIONAL,
...
}
High-Accuracy-Uncertainty-Ellipse-ExtIEs LCS-AP-PROTOCOL-EXTENSION ::= {
...
}
High-Accuracy-Extended-Uncertainty-Ellipse ::= SEQUENCE {
high-Accuracy-Extended-Uncertainty-SemiMajor High-Accuracy-Extended-
Uncertainty-Code,
high-Accuracy-Extended-Uncertainty-SemiMinor High-Accuracy-Extended-
Uncertainty-Code,
orientation-Major-Axis INTEGER (0..179),
iE-Extensions ProtocolExtensionContainer { { High-Accuracy-Extended-
Uncertainty-Ellipse-ExtIEs} } OPTIONAL,
...
}
High-Accuracy-Extended-Uncertainty-Ellipse-ExtIEs LCS-AP-PROTOCOL-EXTENSION
::= {
...
}
High-Accuracy-Scalable-Uncertainty-Ellipse ::= CHOICE {
high-Accuracy-Uncertainty-Ellipse High-Accuracy-Uncertainty-Ellipse,
high-Accuracy-Extended-Uncertainty-Ellipse High-Accuracy-Extended-Uncertainty-
Ellipse
}
High-Accuracy-Scalable-Uncertainty-Altitude ::= CHOICE {
high-Accuracy-Uncertainty-Altitude High-Accuracy-Uncertainty-Code,
high-Accuracy-Extended-Uncertainty-Altitude High-Accuracy-Extended-
Uncertainty-Code
}
Home-eNB-ID ::= BIT STRING (SIZE (28))
Horizontal-Accuracy ::= INTEGER (0..127)
Horizontal-Speed-And-Bearing ::= SEQUENCE {
bearing INTEGER (0..359),
horizontal-Speed INTEGER (0..2047)
}
Horizontal-Velocity ::= SEQUENCE {
horizontal-Speed-And-Bearing Horizontal-Speed-And-Bearing,
iE-Extensions ProtocolExtensionContainer { { Horizontal-Velocity-ExtIEs} }
OPTIONAL,
...
}
Horizontal-Velocity-ExtIEs LCS-AP-PROTOCOL-EXTENSION ::= {
...
}
Horizontal-With-Vertical-Velocity ::= SEQUENCE {
horizontal-Speed-And-Bearing Horizontal-Speed-And-Bearing,
vertical-Velocity Vertical-Velocity,
iE-Extensions ProtocolExtensionContainer { { Horizontal-With-Vertical-
Velocity-ExtIEs} } OPTIONAL,
...
}
Horizontal-With-Vertical-Velocity-ExtIEs LCS-AP-PROTOCOL-EXTENSION ::= {
...
}
Horizontal-Velocity-With-Uncertainty ::= SEQUENCE {
horizontal-Speed-And-Bearing Horizontal-Speed-And-Bearing,
uncertainty-Speed INTEGER (0..255),
iE-Extensions ProtocolExtensionContainer { { Horizontal-Velocity-With-
Uncertainty-ExtIEs} } OPTIONAL,
...
}
Horizontal-Velocity-With-Uncertainty-ExtIEs LCS-AP-PROTOCOL-EXTENSION ::= {
...
}
Horizontal-With-Vertical-Velocity-And-Uncertainty ::= SEQUENCE {
horizontal-Speed-And-Bearing Horizontal-Speed-And-Bearing,
vertical-Velocity Vertical-Velocity,
horizontal-Uncertainty-Speed INTEGER (0..255),
vertical-Uncertainty-Speed INTEGER (0..255),
iE-Extensions ProtocolExtensionContainer { { Horizontal-With-Vertical-
Velocity-And-Uncertainty-ExtIEs} } OPTIONAL,
...
}
Horizontal-With-Vertical-Velocity-And-Uncertainty-ExtIEs LCS-AP-PROTOCOL-
EXTENSION ::= {
...
}
\-- I
IMSI ::= OCTET STRING (SIZE (3..8))
IMEI ::= OCTET STRING (SIZE (8))
Include-Velocity ::= ENUMERATED {
requested,
not-Requested,
...
}
Inner-Radius ::= INTEGER (0..65535) -- 16 bit field
\-- J
\-- K
\-- L
LatitudeSign ::= ENUMERATED {
north,
south
}
Location-Type ::= ENUMERATED {
geographic-Information,
assistance-Information,
...,
last-known-location
}
LCS-Cause ::= CHOICE {
radio-Network-Layer Radio-Network-Layer-Cause,
transport-Layer Transport-Layer-Cause,
protocol Protocol-Cause,
misc Misc-Cause
}
LCS-Client-Type ::= ENUMERATED {
emergency-Services,
value-Added-Services,
pLMN-Operator-Services,
lawful-Intercept-Services,
pLMN-Operator-broadcast-Services,
pLMN-Operator-OM,
pLMN-Operator-Anonymous-Statistics,
pLMN-Operator-Target-MS-Service-Support,
...
}
LCS-Priority ::= OCTET STRING (SIZE (1))
LCS-QoS ::= SEQUENCE {
horizontal-Accuracy Horizontal-Accuracy OPTIONAL,
vertical-Requested Vertical-Requested OPTIONAL,
vertical-Accuracy Vertical-Accuracy OPTIONAL,
response-Time Response-Time OPTIONAL,
...
}
LCS-Service-Type-ID ::= INTEGER (0..127)
Long-Macro-eNB-ID ::= BIT STRING (SIZE (21))
\-- M
Macro-eNB-ID ::= BIT STRING (SIZE (20))
Message-Identifier ::= BIT STRING (SIZE (16))
Misc-Cause ::= ENUMERATED {
processing-Overload,
hardware-Failure,
o-And-M-Intervention,
unspecified,
...,
ciphering-key-data-lost
}
MultipleAPDUs ::= SEQUENCE (SIZE (1.. 3)) OF APDU
\-- N
Network-Element ::= CHOICE {
global-eNB-ID Global-eNB-ID,
e-SMLC-ID E-SMLC-ID
}
\-- O
Orientation-Major-Axis ::= INTEGER (0..89)
\-- P
Payload-Type ::= ENUMERATED {
lPP,
lPPa,
...
}
PLMN-ID ::= TBCD-STRING
Point ::= SEQUENCE {
geographical-Coordinates Geographical-Coordinates,
iE-Extensions ProtocolExtensionContainer { {Point-ExtIEs} } OPTIONAL,
...
}
Point-ExtIEs LCS-AP-PROTOCOL-EXTENSION ::= {
...
}
Point-With-Uncertainty ::= SEQUENCE {
geographical-Coordinates Geographical-Coordinates,
uncertainty-Code Uncertainty-Code,
iE-Extensions ProtocolExtensionContainer { {Point-With-Uncertainty-ExtIEs} }
OPTIONAL,
...}
Point-With-Uncertainty-ExtIEs LCS-AP-PROTOCOL-EXTENSION ::= {
...
}
Polygon ::= SEQUENCE (SIZE (1..max-No-Of-Points)) OF Polygon-Point
Polygon-Point ::= SEQUENCE {
geographical-Coordinates Geographical-Coordinates,
iE-Extensions ProtocolExtensionContainer { {Polygon-Point-ExtIEs} } OPTIONAL,
...
}
Polygon-Point-ExtIEs LCS-AP-PROTOCOL-EXTENSION ::= {
...
}
Positioning-Data ::= SEQUENCE {
positioning-Data-Set Positioning-Data-Set OPTIONAL,
gNSS-Positioning-Data-Set GNSS-Positioning-Data-Set OPTIONAL,
iE-Extensions ProtocolExtensionContainer { { Positioning-Data-ExtIEs} }
OPTIONAL,
...
}
Positioning-Data-ExtIEs LCS-AP-PROTOCOL-EXTENSION ::= {
{ ID id-Additional-PositioningDataSet CRITICALITY ignore EXTENSION Additional-
PositioningDataSet PRESENCE optional },
...
}
Positioning-Data-Set ::= SEQUENCE (SIZE (1..max-Set)) OF Positioning-Method-
And-Usage
Positioning-Method-And-Usage ::= OCTET STRING (SIZE (1))
Protocol-Cause ::= ENUMERATED {
transfer-Syntax-Error,\ abstract-Syntax-Error-Reject,\ abstract-Syntax-Error-
Ignore-And-Notify,\ message-Not-Compatible-With-Receiver-State,
semantic-Error,\ unspecified,
abstract-Syntax-Error,
...
}
\-- Q
\-- R
Radio-Network-Layer-Cause ::= ENUMERATED {
unspecified,
...
}
RAT-Type ::= ENUMERATED {
lte-wb,
nb-iot,
...,
lte-m
}
Response-Time ::= ENUMERATED {
low-Delay(0),
delay-Tolerant(1),
...
}
Return-Error-Type ::= ENUMERATED {
yes,
no
}
Return-Error-Cause ::= ENUMERATED {
system-Failure,
protocol-Error,
destination-Unknown,
destination-Unreachable,
congestion,
...
}
\-- S
Short-Macro-eNB-ID ::= BIT STRING (SIZE (18))
SIB-Types ::= OCTET STRING (SIZE (4))
Storage-Outcome ::= ENUMERATED {
successful,
failed
}
\-- T
TAIs-List ::= OCTET STRING (SIZE (7..97))
TBCD-STRING ::= OCTET STRING (SIZE (3))
Transport-Layer-Cause ::= ENUMERATED {
tranport-Resource-Unavailable,
unspecified,
...
}
\-- U
Uncertainty-Altitude ::= INTEGER (0..127)
Uncertainty-Code ::= INTEGER (0..127)
Uncertainty-Ellipse ::= SEQUENCE {
uncertainty-SemiMajor Uncertainty-Code,
uncertainty-SemiMinor Uncertainty-Code,
orientation-Major-Axis Orientation-Major-Axis
}
UE-Positioning-Capability ::= SEQUENCE {
lPP BOOLEAN,
...
}
\-- V
Validity-Duration ::= INTEGER (0..65535)
Validity-Start-Time ::= OCTET STRING (SIZE (4))
Velocity-Estimate ::= CHOICE {
horizontal-Velocity Horizontal-Velocity,
horizontal-With-Vertical-Velocity Horizontal-With-Vertical-Velocity,
horizontal-Velocity-With-Uncertainty Horizontal-Velocity-With-Uncertainty,
horizontal-With-Vertical-Velocity-And-Uncertainty Horizontal-With-Vertical-
Velocity-And-Uncertainty,
...
}
Vertical-Requested ::= ENUMERATED {
vertical-coordinate-Is-Not-Requested(0),
vertical-coordinate-Is-Requested(1)
}
Vertical-Accuracy ::= INTEGER (0..127)
Vertical-Velocity ::= SEQUENCE {
vertical-Speed INTEGER (0..255),
vertical-Speed-Direction Vertical-Speed-Direction
}
Vertical-Speed-Direction ::= ENUMERATED {
upward,
downward
}
\-- W
\-- X
\-- Y
END
### 7.5.6 Common definitions
\-- **************************************************************
\--
\-- Common definitions
\--
\-- **************************************************************
LCS-AP-CommonDataTypes {
itu-t (0) identified-organization (4) etsi (0) mobileDomain (0)
eps-Access (21) modules (3) lcs-AP (4) version1 (1) lcs-AP-CommonDataTypes
(3)}
DEFINITIONS AUTOMATIC TAGS ::=
BEGIN
Criticality ::= ENUMERATED { reject, ignore, notify }
Presence ::= ENUMERATED { optional, conditional, mandatory }
ProcedureCode ::= INTEGER (0..255)
ProtocolExtensionID ::= INTEGER (0..65535)
ProtocolIE-ID ::= INTEGER (0..65535)
TriggeringMessage ::= ENUMERATED {initiating-message, successful-outcome,
unsuccessful-outcome, outcome}
END
### 7.5.7 Constant definitions
\-- **************************************************************
\--
\-- Constant definitions
\--
\-- **************************************************************
LCS-AP-Constants {
itu-t (0) identified-organization (4) etsi (0) mobileDomain (0)
eps-Access (21) modules (3) lcs-AP (4) version1 (1) lcs-AP-Constants (4)}
DEFINITIONS AUTOMATIC TAGS ::=
BEGIN
\-- **************************************************************
\--
\-- Elementary Procedures
\--
\-- **************************************************************
id-Location-Service-Request INTEGER ::= 0
id-Connection-Oriented-Information-Transfer INTEGER ::= 1
id-Connectionless-Information-Transfer INTEGER ::= 2
id-Location-Abort INTEGER ::= 3
id-Reset INTEGER ::= 4
id-Ciphering-Key-Data-Delivery INTEGER ::= 5
\-- **************************************************************
\--
\-- IEs
\--
\-- **************************************************************
id-Accuracy-Fulfillment-Indicator INTEGER ::= 0
id-APDU INTEGER ::= 1
id-Correlation-ID INTEGER ::= 2
id-Destination-ID INTEGER ::= 3
id-E-UTRAN-Cell-Identifier INTEGER ::= 4
id-Include-Velocity INTEGER ::= 5
id-IMEI INTEGER ::= 6
id-IMSI INTEGER ::= 7
id-LCS-Client-Type INTEGER ::= 8
id-LCS-Priority INTEGER ::= 9
id-LCS-QOS INTEGER ::= 10
id-LCS-Cause INTEGER ::= 11
id-Location-Estimate INTEGER ::= 12
id-Location-Type INTEGER ::= 13
id-MultipleAPDUs INTEGER ::= 14
id-Payload-Type INTEGER ::= 15
id-Positioning-Data INTEGER ::= 16
id-Return-Error-Request INTEGER ::= 17
id-Return-Error-Cause INTEGER ::= 18
id-Source-Identity INTEGER ::= 19
id-UE-Positioning-Capability INTEGER ::= 20
id-Velocity-Estimate INTEGER ::= 21
id-LCS-Service-Type-ID INTEGER ::= 22
id-Cell-Portion-ID INTEGER ::= 23
id-Civic-Address INTEGER ::= 24
id-Barometric-Pressure INTEGER ::= 25
id-Additional-PositioningDataSet INTEGER ::= 26
id-RAT-Type INTEGER ::= 27
id-Ciphering-Data INTEGER ::= 28
id-Ciphering-Data-Ack INTEGER ::= 29
id-Ciphering-Data-Error-Report INTEGER ::= 30
id-Coverage-Level INTEGER ::= 31
\-- **************************************************************
\--
\-- Extension constants
\--
\-- **************************************************************
\-- **************************************************************
\--
\-- Lists
\--
\-- **************************************************************
max-No-Of-Points INTEGER ::= 15
max-Set INTEGER ::= 9
max-GNSS-Set INTEGER ::= 9
max-Add-Pos-Set INTEGER ::= 8
max-Cipher-Set INTEGER ::= 16
maxProtocolExtensions INTEGER ::= 65535
maxProtocolIEs INTEGER ::= 65535
END
### 7.5.8 Container Definitions
\-- **************************************************************
\--
\-- Container definitions
\--
\-- **************************************************************
LCS-AP-Containers {
itu-t (0) identified-organization (4) etsi (0) mobileDomain (0)
eps-Access (21) modules (3) lcs-AP (4) version1 (1) lcs-AP-Containers (5)}
DEFINITIONS AUTOMATIC TAGS ::=
BEGIN
\-- **************************************************************
\--
\-- IE parameter types from other modules.
\--
\-- **************************************************************
IMPORTS
Criticality,
Presence,
ProtocolExtensionID,
ProtocolIE-ID
FROM LCS-AP-CommonDataTypes
maxProtocolExtensions,
maxProtocolIEs
FROM LCS-AP-Constants;
\-- **************************************************************
\--
\-- Class Definition for Protocol IEs
\--
\-- **************************************************************
LCS-AP-PROTOCOL-IES ::= CLASS {
&id ProtocolIE-ID UNIQUE,
&criticality Criticality DEFAULT ignore,
&Value,
&presence Presence
}
WITH SYNTAX {
ID &id
CRITICALITY &criticality
TYPE &Value
PRESENCE &presence
}
\-- **************************************************************
\--
\-- Class Definition for Protocol Extensions
\--
\-- **************************************************************
LCS-AP-PROTOCOL-EXTENSION ::= CLASS {
&id ProtocolExtensionID UNIQUE,
&criticality Criticality DEFAULT ignore,
&Extension,
&presence Presence
}
WITH SYNTAX {
ID &id
CRITICALITY &criticality
EXTENSION &Extension
PRESENCE &presence
}
\-- **************************************************************
\--
\-- Container for Protocol IEs
\--
\-- **************************************************************
ProtocolIE-Container {LCS-AP-PROTOCOL-IES : IEsSetParam} ::=
SEQUENCE (SIZE (0..maxProtocolIEs)) OF
ProtocolIE-Field {{IEsSetParam}}
ProtocolIE-Field {LCS-AP-PROTOCOL-IES : IEsSetParam} ::= SEQUENCE {
id LCS-AP-PROTOCOL-IES.&id ({IEsSetParam}),
criticality LCS-AP-PROTOCOL-IES.&criticality ({IEsSetParam}{\@id}),
value LCS-AP-PROTOCOL-IES.&Value ({IEsSetParam}{\@id})
}
\-- **************************************************************
\--
\-- Container Lists for Protocol IE Containers
\--
\-- **************************************************************
ProtocolIE-ContainerList {INTEGER : lowerBound, INTEGER : upperBound, LCS-AP-
PROTOCOL-IES : IEsSetParam} ::=
SEQUENCE (SIZE (lowerBound..upperBound)) OF
ProtocolIE-Container {{IEsSetParam}}
\-- **************************************************************
\--
\-- Container for Protocol Extensions
\--
\-- **************************************************************
ProtocolExtensionContainer {LCS-AP-PROTOCOL-EXTENSION : ExtensionSetParam} ::=
SEQUENCE (SIZE (1..maxProtocolExtensions)) OF
ProtocolExtensionField {{ExtensionSetParam}}
ProtocolExtensionField {LCS-AP-PROTOCOL-EXTENSION : ExtensionSetParam} ::=
SEQUENCE {
id LCS-AP-PROTOCOL-EXTENSION.&id ({ExtensionSetParam}),
criticality LCS-AP-PROTOCOL-EXTENSION.&criticality
({ExtensionSetParam}{\@id}),
extensionValue LCS-AP-PROTOCOL-EXTENSION.&Extension
({ExtensionSetParam}{\@id})
}
END
### 7.5.9 Message transfer syntax
LCS-AP shall use the ASN.1 Basic Packed Encoding Rules (BASIC-PER) Aligned
Variant as transfer syntax as specified in ITU-T Recommendation X.691 [12].
## 7.6 Handling of unknown, unforeseen and erroneous protocol data
Clause 10 of 3GPP TS 36.413 [7] is applicable for the purposes of the present
document.
# 8 LCS-AP Timers
## 8.1 General
The description of timers in the following tables should be considered a brief
summary.
## 8.2 Timers of LCS-AP
Table 8.2.1: LCS-AP timers
* * *
TIMER NUM. TIMER VALUE CAUSE OF START NORMAL STOP ON\ EXPIRY
* * *
T3x01 This value can be operator configurable, based on the received QoS
response time. A Location Request procedure started in the MME. Location
Response message is received MME shall send Abort message to E-SMLC and return
error to the requesting entity
T3x02 3 seconds A Reset message is sent Reset Acknowledge message is received
Retransmission of the Reset message
T3x03 This value can be operator configurable A Ciphering Keys Delivery
procedure started in the E-SMLC Ciphering Key Data Result message is received
E-SMLC shall abort the procedure and release any resources allocated for the
procedure
* * *
#