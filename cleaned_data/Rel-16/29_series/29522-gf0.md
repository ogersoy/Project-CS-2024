# Foreword
This Technical Specification has been produced by the 3^rd^ Generation
Partnership Project (3GPP).
The contents of the present document are subject to continuing work within the
TSG and may change following formal TSG approval. Should the TSG modify the
contents of the present document, it will be re-released by the TSG with an
identifying change of release date and an increase in version number as
follows:
Version x.y.z
where:
x the first digit:
1 presented to TSG for information;
2 presented to TSG for approval;
3 or greater indicates TSG approved document under change control.
y the second digit is incremented for all changes of substance, i.e. technical
enhancements, corrections, updates, etc.
z the third digit is incremented when editorial only changes have been
incorporated in the document.
# 1 Scope
The present specification describes the protocol for the **NEF Northbound**
interface between the NEF and the AF. The **NEF Northbound** interface and the
related stage 2 functional requirements are defined in 3GPP TS 23.502 [2],
3GPP TS 23.316 [28] and 3GPP TS 23.288 [29].
# 2 References
The following documents contain provisions which, through reference in this
text, constitute provisions of the present document.
\- References are either specific (identified by date of publication, edition
number, version number, etc.) or nonâ€‘specific.
\- For a specific reference, subsequent revisions do not apply.
\- For a non-specific reference, the latest version applies. In the case of a
reference to a 3GPP document (including a GSM document), a non-specific
reference implicitly refers to the latest version of that document _in the
same Release as the present document_.
[1] 3GPP TR 21.905: \"Vocabulary for 3GPP Specifications\".
[2] 3GPP TS 23.502: \"Procedures for the 5G system\".
[3] 3GPP TS 23.501: \"System Architecture for the 5G\".
[4] 3GPP TS 29.122: \"T8 reference point for northbound Application
Programming Interfaces (APIs)\".
[5] Open API Initiative, \"OpenAPI 3.0.0 Specification\",
https://github.com/OAI/OpenAPI-Specification/blob/master/versions/3.0.0.md.
[6] 3GPP TS 33.501: \"Security architecture and procedures for 5G System\".
[7] 3GPP TS 29.514: \"5G System; Policy Authorization Service; Stage 3\".
[8] 3GPP TS 29.571: \"5G System; Common Data Types for Service Based
Interfaces; Stage 3\".
[9] 3GPP TS 29.521: \"5G System; Binding Support Management Service; Stage
3\".
[10] Void.
[11] 3GPP TS 23.222: \"Common API Framework for 3GPP Northbound APIs; Stage
2\".
[12] 3GPP TS 29.222: \"Common API Framework for 3GPP Northbound APIs; Stage
3\".
[13] IETF RFC 6749: \"The OAuth 2.0 Authorization Framework\".
[14] 3GPP TS 33.122: \"Security Aspects of Common API Framework for 3GPP
Northbound APIs\".
[15] Void.
[16] IETF RFC 5246: \"The Transport Layer Security (TLS) Protocol Version
1.2\".
[17] 3GPP TS 29.503: \"5G System; Unified Data Management Services; Stage 3\".
[18] 3GPP TS 29.518: \"5G System; Access and Mobility Management Services;
Stage 3\".
[19] 3GPP TS 29.554: \"5G System; Background Data Transfer Policy Control
Service; Stage 3\".
[20] 3GPP TS 29.504: \"5G System; Unified Data Repository Services; Stage 3\".
[21] 3GPP TR 21.900: \"Technical Specification Group working methods\".
[22] 3GPP TS 29.523: \"5G System; Policy Control Event Exposure Service; Stage
3\".
[23] 3GPP TS 29.519: \"5G System; Usage of the Unified Data Repository service
for Policy Control Data, Application Data and Structured Data for Exposure;
Stage 3\".
[24] 3GPP TS 29.541: \"5G System; Network Exposure (NE) function services for
Non-IP Data Delivery (NIDD); Stage 3\".
[25] 3GPP TS 29.542: \"5G System, Session management services for Non-IP Data
Delivery (NIDD); Stage 3\".
[26] 3GPP TS 29.508: \"5G System; Session Management Event Exposure Service;
Stage 3\".
[27] 3GPP TS 29.520: \"5G System; Network Data Analytics Services; Stage 3\".
[28] 3GPP TS 23.316: \"Wireless and wireline convergence access support for
the 5G system (5GS)\".
[29] 3GPP TS 23.288: \"Architecture enhancements for 5G System (5GS) to
support network data analytics services\".
[30] 3GPP TS 23.032: \"Universal Geographical Area Description (GAD)\".
[31] 3GPP TS 23.287: \"Architecture enhancements for 5G System (5GS) to
Vehicle-to-Everything (V2X) services\".
[32] 3GPP TS 29.501: \"5G System; Principles and Guidelines for Services
Definition; Stage 3\".
[33] 3GPP TS 24.588: \"Vehicle-to-Everything (V2X) services in 5G System
(5GS); User Equipment (UE) policies; Stage 3\".
[34] 3GPP TS 29.572: \"5G System; Location Management Services; Stage 3\".
[35] 3GPP TS 29.515: \"5G System; Gateway Mobile Location Services; Stage 3\".
[36] 3GPP TS 23.273: \"5G System Location Services (LCS)\".
# 3 Definitions and abbreviations
## 3.1 Definitions
For the purposes of the present document, the terms and definitions given in
3GPP TR 21.905 [1] and the following apply. A term defined in the present
document takes precedence over the definition of the same term, if any, in
3GPP TR 21.905 [1].
## 3.2 Abbreviations
For the purposes of the present document, the abbreviations given in 3GPP TR
21.905 [1] and the following apply. An abbreviation defined in the present
document takes precedence over the definition of the same abbreviation, if
any, in 3GPP TR 21.905 [1].
ACS Auto-Configuration Server
AF Application Function
BDT Background Data Transfer
CAPIF Common API Framework
CP Communication Pattern
DN Data Network
DNAI DN Access Identifier
DNN Data Network Name
GMLC Global Mobile Location Centre
GPSI Generic Public Subscription Identifier
IPTV Internet Protocol Television
MO-LR Mobile Originated Location Request
NEF Network Exposure Function
PCF Policy Control Function
PCRF Policy and Charging Rule Function
PFD Packet Flow Description
PFDF Packet Flow Description Function
REST Representational State Transfer
SCEF Service Capability Exposure Function
S-NSSAI Single Network Slice Selection Assistance Information
UDR Unified Data Repository
UP User Plane
WB Wide Band
# 4 **NEF Northbound** Interface
## 4.1 Overview
The **NEF Northbound** interface is between the NEF and the AF. It specifies
RESTful APIs that allow the AF to access the services and capabilities
provided by 3GPP network entities and securely exposed by the NEF.
This document also specifies the procedures triggered at the NEF by API
requests from the AF and by event notifications received from 3GPP network
entities.
The stage 2 level requirements and signalling flows for the **NEF Northbound**
interface are defined in 3GPP TS 23.502 [2].
The **NEF Northbound** interface supports the following procedures:
1) Procedures for Monitoring
2) Procedures for Device Triggering
3) Procedures for resource management of Background Data Transfer
4) Procedures for CP Parameters, Network Configuration Parameters
Provisioning, 5G LAN Parameters Provisioning, ACS Configuration Parameter
Provisioning and Location Privacy Indication Parameters Provisioning
5) Procedures for PFD Management
6) Procedures for Traffic Influence
7) Procedures for changing the chargeable party at session set up or during
the session
8) Procedures for setting up an AF session with required QoS
9) Procedures for MSISDN-less Mobile Originated SMS
10) Procedures for non-IP data delivery
11) Procedures for analytics information exposure
12) Procedure for applying BDT policy
13) Procedures for Enhanced Coverage Restriction Control
14) Procedures for IPTV Configuration
15) Procedures for Service Parameter Provisioning
16) Procedures for RACS Parameter Provisioning
17) Procedures for Mobile Originated Location Request
Which correspond to the following services respectively, supported by the NEF
as defined in 3GPP TS 23.502 [2]:
1) Nnef_EventExposure service and Nnef_APISupportCapability service
2) Nnef_Trigger service
3) Nnef_BDTPNegotiation service
4) Nnef_ParameterProvision service
5) Nnef_PFDManagement service
6) Nnef_TrafficInfluence service
7) Nnef_ChargeableParty service
8) Nnef_AFsessionWithQoS service
9) Nnef_MSISDN-less_MO_SMS service
10) Nnef_NIDDConfiguration and Nnef_NIDD services
11) Nnef_AnalyticsExposure service
12) Nnef_ApplyPolicy service
13) Nnef_ECRestriction service
14) Nnef_IPTVConfiguration service
15) Nnef_ServiceParameter service
16) Nnef_UCMFProvisioning service
17) Nnef_Location service
NOTE 1: For Nnef_PFDManagement service, only the
Nnef_PFDManagement_Create/Update/Delete service operations are applicable for
the NEF Northbound interface.
NOTE 2: For Nnef_NIDD service, NF consumer other than the AF does not use the
NEF Northbound interface.
NOTE 3: For Nnef_NIDDConfiguration service, the Nnef_NIDDConfiguration_Trigger
service operation is only applicable for the NEF Northbound interface.
NOTE 4: The Nnef_APISupportCapability service is only applicable in the
MonitoringEvent API when the monitoring type sets to
\"API_SUPPORT_CAPABILITY\".
## 4.2 Reference model
The **NEF Northbound** interface resides between the NEF and the AF as
depicted in figure 4.2.1. The overall NEF architecture is depicted in 3GPP TS
23.502 [2]. An AF can get services from multiple NEFs, and an NEF can provide
services to multiple AFs.
NOTE: The AF can be provided by a third party.
Figure 4.2-1: Reference Architecture for the Nnef Service; SBI representation
Figure 4.2-2: Reference Architecture for the Nnef Service; reference point
representation
## 4.3 Functional elements
### 4.3.1 NEF
The Network Exposure Function (NEF) is a functional element that supports the
following functionalities:
\- The NEF shall securely expose network capabilities and events provided by
3GPP NFs to AF.
\- The NEF shall provide means for the AF to securely provide information to
3GPP network and may authenticate, authorize and assist in throttling the AF.
\- The NEF shall be able to translate the information received from the AF to
the one sent to internal 3GPP NFs, and vice versa.
\- The NEF shall support to expose information (collected from other 3GPP NFs)
to the AF.
\- The NEF may support a PFD Function which allows the AF to provision PFD(s)
and may store and retrieve PFD(s) in the UDR. The NEF further provisions
PFD(s) to the SMF.
A specific NEF instance may support one or more of the functionalities
described above and consequently an individual NEF may support a subset of the
APIs specified for capability exposure.
NOTE: The NEF can access the UDR located in the same PLMN as the NEF.
### 4.3.2 AF
The Application Function (AF) may interact with the 3GPP Core Network via the
NEF in order to access network capabilities.
## 4.4 Procedures over **NEF Northbound** Interface
### 4.4.1 Introduction
All procedures that operate across the **NEF Northbound** interface, as
specified in 3GPP TS 23.502 [2], are specified in the following subclauses.
### 4.4.2 Procedures for Monitoring
The procedures for monitoring as described in subclause 4.4.2 of 3GPP TS
29.122 [4] shall be applicable in 5GS with the following differences:
\- description of the SCS/AS applies to the AF;
\- description of the SCEF applies to the NEF;
\- description of the HSS applies to the UDM, and the NEF shall interact with
the UDM by using Nudm_EventExposure service as defined in 3GPP TS 29.503 [17];
\- description of the MME/SGSN applies to the AMF, the NEF shall resolve a
location area to the involved AMF(s) either by local configuration or via the
NRF, and the NEF shall interact with the AMF by using Namf_EventExposure
service as defined in 3GPP TS 29.518 [18];
\- description about the PCRF is not applicable;
\- description about the change of IMSI-IMEI(SV) association monitoring event
applies to the change of SUPI-PEI association monitoring event;
\- when \"monitoringType\" sets to \"LOCATION_REPORTING\" within the
MonitoringEventSubscription data type as defined in subclause 5.3.2.1.2 of
3GPP TS 29.122 [4] during the monitoring event subscription, only
\"CGI_ECGI\", \"TA_RA\" and \"GEO_AREA\" within the Accuracy data type as
defined in subclause 5.3.2.4.7 of 3GPP TS 29.122 [4], are applicable for 5G
MonitoringEvent API.
\- after validation of the AF request, the NEF may determine a monitoring
expiry time, based on operator policy and take into account the monitoring
expire time if included in the request; and the NEF may provide a expiry time
(determined by the NEF, UDM or AMF) to the AF even the AF does not provided
before.
\- if the \"Loss_of_connectivity_notification\" as defined in subclause 5.3.4
of 3GPP TS 29.122 [4] is supported, values 0-5 are not applicable for the
lossOfConnectReason attribute within MonitoringEventReport data type, the
lossOfConnectReason attribute shall be set to 6 if the UE is deregistered, 7
if the maximum detection timer expires or 8 if the UE is purged.
\- the AF may include a periodic reporting time indicated by the \"repPeriod\"
attribute within MonitoringEventSubscription data type, which is only
applicable for the \"Location_notification\" feature in the NEF.
\- if the \"locationType\" attribute sets to \"LAST_KNOWN_LOCATION\", the
\"maximumNumberOfReports\" attribute shall set to 1 as a One-time Monitoring
Request.
\- the default value of \"accuracy\" attribute within the
MonitoringEventSubscription data type is \"TA_RA\".
\- description about the PDN connectivity status event applies to the PDU
session status event, the description of the MME/SGSN applies to the SMF
during the reporting of monitoring event procedure, the NEF receives the event
notification via Nsmf_EventExposure service as defined in 3GPP TS 29.508 [26];
\- when sending the UDM/AMF/SMF event report to the AF, the NEF may store the
event data in the report in the UDR as part of the data for exposure as
specified in 3GPP TS 29.519 [23] by using Nudr_DataRepository service as
specified in 3GPP TS 29.504 [20].
\- If the \"Downlink_data_delivery_status_5G\" as defined in subclause 5.3.4
of 3GPP TS 29.122 [4] is supported, in order to support the downlink data
delivery status notification,
\- the AF shall send an HTTP POST message to the NEF to the resource
\"Monitoring Event Subscriptions\" as defined in subclause 5.3.3.2 of 3GPP TS
29.122 [4] for creating an subscription or send an HTTP PUT message to the NEF
to the resource \"Individual Monitoring Event Subscription\" as defined in
subclause 5.3.3.3 of 3GPP TS 29.122 [4] for updating the subscription with the
following difference:
\- within the MonitoringEventSubscription data structure the AF may
additionally include packet filter descriptor(s) within the
\"dddTraDescriptors\" attribute and the list of monitoring downlink data
delivery status event(s) within the \"dddStati\" attribute;
\- the NEF shall subscribe the events to the appropriate UDM(s) within the
network by invoking the Nudm_EventExposure_Subscribe service operation as
defined in subclause 5.5.2.2 of 3GPP TS 29.503 [17].
\- when the NEF receives the event notification as defined in subclause 4.4.2
of 3GPP TS 29.508 [26], the NEF shall send an HTTP POST message to the AF as
defined in subclause 4.4.2.3 of 3GPP TS 29.122 [4] with the difference that
within each MonitoringEventReport data structure, the NEF shall include:
\- the downlink data delivery status within the \"dddStatus\" attribute;
\- the downlink data descriptor impacted by the downlink data delivery status
change within the \"dddTraDescriptor\" attribute;
\- the estimated buffering time within the \"maxWaitTime\" attribute if the
downlink data delivery status is set to \"BUFFERED\";
\- If the \"Availability_after_DDN_failure_notification_enhancement\" feature
as defined in subclause 5.3.4 of 3GPP TS 29.122 [4] is supported, the AF shall
send an HTTP POST message to the NEF to the resource \"Monitoring Event
Subscriptions\" as defined in subclause 5.3.3.2 of 3GPP TS 29.122 [4] for
creating an subscription or send an HTTP PUT message to the NEF to the
resource \"Individual Monitoring Event Subscription\" as defined in subclause
5.3.3.3 of 3GPP TS 29.122 [4] for updating the subscription with the
difference that within the MonitoringEventSubscription data structure, the AF
shall include packet filter descriptions within the \"dddTraDescriptors\"
attribute.
\- If the \"eLCS\" feature as defined in subclause 5.3.4 of 3GPP TS 29.122 [4]
is supported, the AF may send an HTTP POST message to the NEF to the resource
\"Monitoring Event Subscriptions\" as defined in subclause 5.3.3.2 of 3GPP TS
29.122 [4] for creating an subscription or send an HTTP PUT message to the NEF
to the resource \"Individual Monitoring Event Subscription\" as defined in
subclause 5.3.3.3 of 3GPP TS 29.122 [4] for updating the subscription with the
following difference:
\- within the MonitoringEventSubscription data structure, the AF may
additionally include location QoS requirement within the \"locQoS\" attribute,
the service identifier within the \"svcId\" attribute, Location deferred
requested event type within the \"ldrType\" attribute, the validity start time
and the validity end time within the \"locTimeWindow\" attribute, the maximum
age of location estimate within the \"maxAgeOfLocEst\" attribute, the
requesting target UE velocity within the \"velocityRequested\" attribute, the
linear distance within the \"linearDistance\" attribute, the reporting target
UE location estimate indication within the \"reportingLocEstInd\" attribute,
the sampling interval within the \"samplingInterval\" attribute, the maximum
reporting expire interval within the \"maxRptExpireIntvl\" attribute, the
supported GAD shapes within the \"supportedGADShapes\" attribute, the Code
word within the \"codeword\" attribute, and other attributes as defined in
subclause 5.3.2.3.2 of 3GPP TS 29.122 [4] for location information
subscription; The MonitoringEventSubscription data structure may also include
the \"locationArea5G\" attribute containing only the \"geographicAreas\"
attribute and the \"accuracy\" attribute set to the value \"GEO_AREA\".
  * if the NEF identifies the location request precision higher than cell level location accuracy is required based on the \"locQoS\" attribute received, the NEF shall interact with the appropriate GMLC within the network by invoking the Ngmlc_Location_ProvideLocation service operation as defined in subclause 6.1 of 3GPP TS 29.515 [35];
\- if the location request precision is lower than or equal to cell level,
based on implementation, the NEF may interact with the GMLC by invoking the
Ngmlc_Location_ProvideLocation service operation as defined in subclause 6.1
of 3GPP TS 29.515 [35]; or retrieve the UE location privacy information from
the UDM by using Nudm_SDM service as described in subclause 5.2 of 3GPP TS
29.503 [17] and if the privacy setting is verified, the NEF shall interact
with the UDM for the serving AMF address by invoking the Nudm_UECM service as
described in subclause 5.3 of 3GPP TS 29.503 [17]. After receiving the serving
AMF address from the UDM, the NEF shall interact with the AMF by invoking the
Namf_EventExposure_Subscribe service operation as defined in subclause 5.3 of
3GPP TS 29.518 [18]; or may interact with UDM by using Nudm_EventExposure
service as defined in subclause 5.5 of 3GPP TS 29.503 [17] and the NEF
receives the location event notification from the AMF via Namf_EventExposure
service as defined in in subclause 5.5 of 3GPP TS 29.518 [18].
\- Based on the received AF information and local authorization policy, the
NEF shall derive the LCS client type with a suitable enumeration value for the
AF location request, to be provided as the \"externalClientType\" attribute
when invoking the Ngmlc_Location_ProvideLocation service operation as defined
in subclause 6.1 of 3GPP TS 29.515 [35].
> Upon receipt of a successful location response from the GMLC or the AMF or
> the UDM, the NEF shall create or update the \"Individual Monitoring Event
> Subscription\" resource and then send an HTTP POST or PUT response to the AF
> as defined in subclause 4.4.2.2 of 3GPP TS 29.122 [4]. Upon receipt of the
> location Report from the GMLC or the AMF, the NEF shall determine the
> monitoring event subscription associated with the corresponding Monitoring
> Event Report as defined in subclause 4.4.2.3 of 3GPP TS 29.122 [4].
>
> In order to delete a previous active configured monitoring event
> subscription at the NEF, the AF shall send an HTTP DELETE message to the NEF
> to the resource \"Individual Monitoring Event Subscription\" which is
> received in the response to the request that has created the monitoring
> events subscription resource. The NEF shall interact with the GMLC or the
> AMF or the UDM to remove the request, upon receipt of the successful
> response from the GMLC or the AMF or the UDM, the NEF shall delete the
> active resource \"Individual Monitoring Event Subscription\" addressed by
> the URI and send an HTTP response to the AF with a \"204 No Content\" status
> code, or a \"200 OK\" status code including the monitoring event report if
> received.
### 4.4.3 Procedures for Device Triggering
The procedures for device triggering as described in subclause 4.4.6 of 3GPP
TS 29.122 [4] shall be applicable in 5G with the following differences:
\- description of the SCS/AS applies to the AF;
\- description of the SCEF applies to the NEF;
\- description of the HSS applies to the UDM;
\- the NEF shall interact with the UDM by using the
Nudm_SubscriberDataManagement service and the Nudm_UEContextManagement service
as defined in 3GPP TS 29.503 [17]; and
\- the NEF acts as MTC-IWF.
### 4.4.4 Procedures for resource management of Background Data Transfer
The procedures for resource management of Background Data Transfer (BDT) in
5GS are described in subclause 4.4.3 of 3GPP TS 29.122 [4] with the following
differences:
\- description of the SCS/AS applies to the AF;
\- description of the SCEF applies to the NEF;
\- If the feature Group_Id is supported, an external group identifier may be
included in the HTTP POST or PUT request message by the NEF. If the external
group Id is sent from the AF to the NEF, the NEF shall interact with the UDM
by using Nudm_SubscriberDataManagement service as defined in 3GPP TS 29.503
[17] to translate the external group identifier into the corresponding
internal group identifier;
\- description of the PCRF applies to the PCF;
\- the NEF shall interact with the PCF by using Npcf_BDTPolicyControl service
as defined in 3GPP TS 29.554 [19];
\- if the \"BdtNotification_5G\" feature is supported, the AF may include a
notification URI within the \"notificationDestination\" attribute in the Bdt
data type during the background data transfer policy negotiation. In addition,
the AF may request to enable the BDT warning notification by setting the
\"warnNotifEnabled\" attribute to true. When the NEF receives the BDT warning
notification from the PCF as defined in clause 4.2.4.2 of 3GPP TS 29.554 [19]
and the \"warnNotifEnabled\" attribute was set to true, the NEF shall send an
HTTP POST message including the ExNotification data structure to the AF
identified by the notification destination URI received during the background
data transfer policy negotiation. The AF shall respond with an HTTP response
to confirm the received notification. The AF may select one policy from the
candidate of BDT policies if provided in the notification by using the HTTP
PATCH message as described in subclause 5.4.3.3.3.3 of 3GPP TS 29.122 [4]. The
AF may also request to disable/enable the BDT warning notification by
including the \"warnNotifEnabled\" attribute in the HTTP PATCH message; and
\- The AF may include a traffic descriptor of background data within the
\"trafficDes\" attribute in the Bdt data type during the background data
transfer policy negotiation.
### 4.4.5 Procedures for CP Parameters Provisioning
The procedures for CP parameters provisioning as described in subclause 4.4.9
of 3GPP TS 29.122 [4] shall be applicable in 5G with the following
differences:
\- description of the SCS/AS applies to the AF;
\- description of the SCEF applies to the NEF;
\- description of the HSS applies to the UDM;
\- the NEF shall interact with the UDM by using Nudm_ParameterProvision
service as defined in 3GPP TS 29.503 [17]; and
\- if the ExpectedUMT_5G feature as defined in subclause 5.10.4 of 3GPP TS
29.122 [4] is supported, the expected UE moving trajectory within the
\"expectedUmts\" attribute shall also be included in the HTTP POST/PUT
request. In addition, if the ExpectedUmtTime_5G feature as defined in
subclause 5.10.4 of 3GPP TS 29.122 [4] is supported, the start time and
duration may be provided in the \"expectedUmts\" attribute to indicate when
the UE arrives at a location and how long the UE stays in the location and the
periodicity in the \"expectedUmtDays\" attribute may be provided to indicate
the effective days within a week.
### 4.4.6 Procedures for PFD Management
The procedures for PFD management as described in subclause 4.4.10 of 3GPP TS
29.122 [4] shall be applicable for 5GS with the following differences:
\- description of the SCS/AS applies to the AF;
\- description of the SCEF applies to the NEF; and
\- the NEF (PFDF) shall interact with the UDR for PFD management by using
Nudr_DataRepository service as defined in 3GPP TS 29.504 [20]. The PFDF is
functionality within the NEF.
\- If the PFDs are provisioned to at least one of the subscribed SMFs (but not
all) within the allowed delay, the NEF (PFDF) may notify the AF about the
failed PFD provisioning with the HTTP POST message by including the PfdReport
data structure in the body of the message. In addition, the NEF may include
the location area(s) of the user plane(s) which are unable to enforce the
provisioned PFD(s) within the \"locationArea\" attribute of the PFD report(s).
If the PFDs are provisioned to none of the subscribed SMFs within the allowed
delay, the NEF (PFDF) shall notify the AF about the failed PFD provisioning
with the HTTP POST message using appropriate failure code as defined in Table
5.11.2.2.3-1 of 3GPP TS 29.122 [4].
NOTE 1: Unsuccessful PFDs provisioning to the subscribed SMFs within the
allowed delay means that the PFDs are not provisioned successfully to the UPFs
served by the failed SMFs.
NOTE 2: The NEF maps the 3GPP network area(s) to the geographic area(s), civic
address(es) or DNAI(s) if the 3GPP network area(s) is not allowed to be
exposed to the 3rd party according to the operator policy.
### 4.4.7 Procedures for Traffic Influence
#### 4.4.7.1 General
In order to create a resource for the Traffic Influence, the AF shall send an
HTTP POST message to the NEF to the resource \"Traffic Influence
Subscription\", the body of the HTTP POST message may include the AF Service
Identifier, external Group Identifier, any UE Indication, the UE address,
GPSI, DNN, S-NSSAI, Application Identifier or traffic filtering information,
Subscribed Event, Notification destination address, a list of geographic zone
identifier(s), AF Transaction Identifier, a list of DNAI(s), routing profile
ID(s) or N6 traffic routing information, Indication of application relocation
possibility, type of notifications, Temporal validity conditions, and if the
URLLC feature is supported, Indication of AF acknowledgement to be expected
and/or Indication of UE IP address preservation. The Notification destination
address shall be included if the Subscribed Event is included in the HTTP
request message.
In order to update an existing traffic influence subscription, the AF shall
send an HTTP PUT or PATCH message to the resource \"Individual Traffic
Influence Subscription\" requesting to change the traffic influence
parameters.
In order to delete an existing traffic influence subscription, the AF shall
send an HTTP DELETE message to the NEF to the resource \"Individual Traffic
Influence Subscription\".
Upon receipt of the HTTP request from the AF, if the AF is authorized, the NEF
shall perform the mapping as described in 3GPP TS 23.501 [3], and then perform
as described in subclause 4.4.7.2 if the request is identified by UE address
or perform as described in subclause 4.4.7.3 if the request is not identified
by UE address.
#### 4.4.7.2 AF request identified by UE address
Upon receipt of the above AF request which is for an individual UE identified
by IP or Ethernet address, the NEF may interact with the BSF to retrieve the
related PCF information by invoking the Nbsf_Management_Discovery service
operation as described in 3GPP TS 29.521 [9], if the NEF receives an error
code from the BSF, the NEF shall not create, update or delete the resource and
shall respond to the AF with a proper error status code.
After receiving a successful response from the BSF, the NEF shall interact
with the PCF by invoking the Npcf_PolicyAuthorization service as described in
3GPP TS 29.514 [7]. After receiving a successful response from the PCF, the
NEF shall,
\- for the HTTP POST request, create a resource \"Individual Traffic Influence
Subscription\" which represents the traffic influence subscription, addressed
by a URI that contains the AF Identifier and an NEF-created subscription
identifier, and shall respond to the AF with a 201 Created status code,
including a Location header field containing the URI for the created resource.
The AF shall use the URI received in the Location header in subsequent
requests to the NEF to refer to this traffic influence subscription.
\- for the HTTP PUT or PATCH request, update a resource \"Individual Traffic
Influence Subscription\" which represents the traffic influence subscription,
and shall responds to the AF with a 200 OK status code.
\- for the HTTP DELETE request, remove all properties of the resource and
delete the corresponding active resource \"Individual Traffic Influence
Subscription\" which represents the traffic influence subscription, then shall
responds to the AF with a 204 No Content status code.
If the NEF receives a response with an error code from the PCF, the NEF shall
not create, update or delete the resource and shall respond to the AF with a
proper error status code.
#### 4.4.7.3 AF request not identified by UE address
For AF request not identified by UE address, it may target an individual UE, a
group of UEs or any UE. For an individual UE identified by GPSI, or a group of
UEs identified by External Group Identifier, the NEF shall interact with the
UDM by invoking the Nudm_SubscriberDataManagement service as described in 3GPP
TS 29.503 [17] to retrieve the SUPI or Internal Group Identifier.
The NEF shall interact with the UDR by invoking the Nudr_DataRepository
service as described in 3GPP TS 29.504 [20], if the NEF receives an error code
from the UDR, the NEF shall not create, update or delete the resource and
shall respond to the AF with a proper error status code.
After receiving a successful response from the UDR, the NEF shall,
\- for the HTTP POST request, create a resource \"Individual Traffic Influence
Subscription\" which represents the traffic influence subscription, addressed
by a URI that contains the AF Identifier and an NEF-created subscription
identifier, and shall respond to the AF with a 201 Created status code,
including a Location header field containing the URI for the created resource.
The AF shall use the URI received in the Location header in subsequent
requests to the NEF to refer to this traffic influence subscription.
\- for the HTTP PUT or PATCH request, update a resource \"Individual Traffic
Influence Subscription\" which represents the traffic influence subscription,
and shall responds to the AF with a 200 OK status code.
\- for the HTTP DELETE request, delete the corresponding active resource
\"Individual Traffic Influence Subscription\" which represents the traffic
influence subscription, and shall responds to the AF with a 204 No Content
status code.
#### 4.4.7.4 Handling of UP path management event notification
If the NEF receives a UP path management event notification from the SMF
indicating that the subscribed event has been detected, then the NEF shall
provide a notification by sending an HTTP POST message that shall include the
EventNotification data type at least with the subscribed event (e.g. UP Path
has changed) to the AF identified by the notification destination received
during creation or modification of the Individual Traffic Influence
Subscription. If a URI for AF acknowledgement within the \"ackUri\" attribute
is provided by the SMF in the event notification as defined in 3GPP TS 29.508
[26], the NEF shall also provide a URI for AF acknowledgement within the
\"afAckUri\" attribute in the EventNotification data.
Upon receipt of the event notification, the AF shall respond with a \"204 No
Content\" status code to confirm the received event notification.
Afterwards, if a URI for AF acknowledgement within the \"afAckUri\" attribute
is received during the UP path management event notification, the AF may
determine that an application layer relocation is needed, and may then send an
HTTP POST request as acknowledgement for the UP path management event
notification to inform the NEF about the result of application layer
relocation. If the application layer is ready and/or the application
relocation is completed, within the payload of the HTTP POST request, the AF
shall include the AfAckInfo data type with the \"afStatus\" attribute sets to
\"SUCCESS\" and may provide the N6 traffic routing information associated to
the target DNAI as a \"trafficRoute\" attribute within the AfResultInfo data;
otherwise, the AF shall indicate the failure by including the AfAckInfo data
type in the payload with the \"afStatus\" attribute sets to the corresponding
failure cause. The NEF Northbound interface transaction identifier generated
by the AF shall also be provided as the \"afTransId\" attribute within the
AfAckInfo data if the AF has previously provided it.
Upon receipt of the AF acknowledgement, the NEF shall respond with a \"204 No
Content\" status code to confirm the received acknowledgement, and forward the
AF acknowledgement to the SMF as described in 3GPP TS 29.508 [26].
### 4.4.8 Procedures for changing the chargeable party at session set up or
during the session
The procedures for changing the chargeable party at session set up or during
the session in 5GS are described in subclause 4.4.4 of 3GPP TS 29.122 [4] with
the following differences:
\- description of the SCS/AS applies to the AF;
\- description of the SCEF applies to the NEF;
\- description of the PCRF applies to the PCF;
\- if the EthChgParty_5G feature as defined in subclause 5.5.4 of 3GPP TS
29.122 [4] is supported and the request is for Ethernet UE:
> \- in the HTTP POST request, the AF shall include the UE MAC address within
> the \"macAddr\" attribute instead of the UE IP address and the Ethernet Flow
> description within the \"ethFlowInfo\" attribute instead of the IP Flow
> description;
>
> \- in the HTTP PATCH request, the AF may update the Ethernet Flow
> description within the \"ethFlowInfo\" attribute;
\- the NEF may interact with BSF by using Nbsf_Management_Discovery service
(as defined in 3GPP TS 29.521 [9]) to retrieve the PCF address; and
\- the NEF shall interact with the PCF by using Npcf_PolicyAuthorization
service as defined in 3GPP TS 29.514 [7].
### 4.4.9 Procedures for setting up an AF session with required QoS
The procedures for setting up an AF session with required QoS in 5GS are
described in subclause 4.4.13 of 3GPP TS 29.122 [4] with the following
differences:
\- description of the SCS/AS applies to the AF;
\- description of the SCEF applies to the NEF;
\- description of the PCRF applies to the PCF;
\- the NEF may interact with BSF by using Nbsf_Management_Discovery service as
defined in 3GPP TS 29.521 [9] to retrieve the PCF address;
\- the NEF shall interact with the PCF by using Npcf_PolicyAuthorization
service as defined in 3GPP TS 29.514 [7];
\- description about the INDICATION_OF_SUCCESSFUL_RESOURCES_ALLOCATION event
and INDICATION_OF_FAILED_RESOURCES_ALLOCATION event apply to the
SUCCESSFUL_RESOURCES_ALLOCATION event and FAILED_RESOURCES_ALLOCATION event
respectively.
\- if the EthAsSessionQoS_5G feature as defined in subclause 5.14.4 of 3GPP TS
29.122 [4] is supported and the request is for Ethernet UE:
> \- in the HTTP POST/PUT request, the AF shall include the UE MAC address
> within the \"macAddr\" attribute instead of the UE IP address and the
> Ethernet Flow description within the \"ethFlowInfo\" attribute instead of
> the IP Flow description;
>
> \- in the HTTP PATCH request, the AF may update the Ethernet Flow
> description within the \"ethFlowInfo\" attribute;
\- if the \"QoSMonitoring_5G\" feature as defined in subclause 5.14.4 of 3GPP
TS 29.122 [4] is supported, in order to support the QoS Monitoring, the AF
shall include \"qosMonInfo\" attribute. Within the QosMonitoringInformation
data structure, the AF shall include:
\- one or more requested QoS Monitoring Parameter(s) within the
\"reqQosMonParams\"; and
\- one or more report frequency within the \"repFreqs\" attribute; and
\- when the \"repFreqs\" attribute includes the value \"PERIODIC\", the
reporting period within the \"repPeriod\" attribute; and
> \- when the \"repFreqs\" attribute includes the value \"EVENT_TRIGGERED\",
> the AF shall include:
>
> \- the delay threshold for downlink with the \"repThreshDl\" attribute;
>
> \- the delay threshold for uplink with the \"repThreshUl\" attribute; and/or
>
> \- the delay threshold for round trip with the \"repThreshRp\" attribute;
> and
>
> \- the minimum waiting time between subsequent reports within the
> \"waitTime\" attribute.
>
> \- when the NEF receives the event notification as defined in subclause
> 4.2.2 of 3GPP TS 29.508 [26] or subclauses 4.2.4.12 and 4.2.5.14 of 3GPP TS
> 29.514 [7], the NEF shall include one or more QoS monitoring reports within
> the \"qosMonReports\" attribute. Within the QosMonitoringReport data
> structure, the NEF shall include:
>
> \- one or two uplink packet delays within the \"ulDelays\" attribute;
>
> \- one or two downlink packet delays within the \"dlDelays\" attribute;
> and/or
>
> \- one or two round trip packet delays within the \"rtDelays\" attribute;
> and
\- if the \"AlternativeQoS_5G\" feature is supported, the AF may include an
ordered list of QoS references within the \"altQosReferences\" attribute and,
if the \"DisableUENotification_5G\" feature is also supported, an indication
that the UE does not need to be informed about changes related to Alternative
QoS Profiles within the \"disUeNotif\" attribute. The NEF shall transfer them
to the PCF in the Npcf_PolicyAuthorization service and subscribe to PCF event
\"QOS_NOTIF\" in the Npcf_PolicyAuthorization service. When the NEF receives
the notification of PCF event \"QOS_NOTIF\", it shall notify the AF with
\"QOS_GUARANTEED\" event; or \"QOS_NOT_GUARANTEED\" event with the currently
applied QoS reference if received. When the NEF receives the notification of
PCF event \"SUCCESSFUL_RESOURCES_ALLOCATION\", it shall notify the AF the
event together with the currently applied QoS reference if received.
NOTE: Based on the operator configuration, the QoS reference identifiers
received from the AF can be the same or different as the QoS reference
identifiers known at the PCF. The NEF can perform a mapping for the QoS
reference identifier.
### 4.4.10 Procedures for MSISDN-less Mobile Originated SMS
The procedures are used by the NEF to send the MSISDN-less MO-SMS to the AF in
5GS are described in subclause 4.4.14 of 3GPP TS 29.122 [4] with the following
differences:
\- description of the SCS/AS applies to the AF;
\- description of the SCEF applies to the NEF; and
\- the NEF shall interact with UDM by using Nudm_SubscriberDataManagement
service (as defined in 3GPP TS 29.503 [17]) to retrieve the external
identifier.
### 4.4.11 Procedures for Network Configuration Parameters Provisioning
The procedures for network configuration parameters provisioning as described
in subclause 4.4.12 of 3GPP TS 29.122 [4] shall be applicable in 5GS with the
following differences:
\- description of the SCS/AS applies to the AF;
\- description of the SCEF applies to the NEF;
\- description of the HSS applies to the UDM; and
\- the NEF shall interact with the UDM by using Nudm_ParameterProvision
service as specified in 3GPP TS 29.503 [17].
### 4.4.12 Procedures for Non-IP data delivery
#### 4.4.12.1 General
The procedures are used by the NEF to send/receive the non-IP data to/from the
AF. It comprises NIDD configuration and NIDD delivery.
The NIDD configuration may be triggered by the NEF or the AF. If it is
triggered by the NEF, the NiddConfigurationTrigger API described in subclause
5.5 is used and the procedure is described in subclause 4.4.12.2.
#### 4.4.12.2 NIDD configuration Triggered by the NEF
If the NEF receives a NIDD connection establishment request from the SMF and
if there is no NIDD configuration for the UE, the NEF may send a NIDD
configuration trigger to the AF. The NEF determines the destination URI by
local configuration. The NEF shall send to the determined destination URL an
HTTP POST request that shall include a NiddConfiguarationTrigger data type
with:
\- the NEF identifier,
\- the AF identifier, and
\- GPSI as UE identity.
The AF shall acknowledge the HTTP POST request with an HTTP 200 OK response.
Then the AF may start NIDD configuration procedure as described in subclause
4.4.12.3.
#### 4.4.12.3 NIDD configuration triggered by the AF and NIDD delivery
The procedures for NIDD configuration triggered by the AF and NIDD delivery
are described in subclause 4.4.5 of 3GPP TS 29.122 [4] with the following
differences:
\- description of the SCS/AS applies to the AF;
\- description of the SCEF applies to the NEF;
\- description of the MME/SGSN applies to the SMF;
\- for the connection establishment, the interaction between the NEF and the
SMF shall use Nnef_SMContext service as specified in 3GPP TS 29.541 [24];
\- for MO NIDD, the interaction between the SMF and the NEF shall use
Nnef_SMContext service as specified in 3GPP TS 29.541 [24]; and
\- for MT NIDD, the interaction between the SMF and the NEF shall use
Nsmf_NIDD service as specified in 3GPP TS 29.542 [25].
### 4.4.13 Procedures for RACS Parameter Provisioning
The procedures for RACS parameter provisioning as described in subclause
4.4.15 of 3GPP TS 29.122 [4] shall be applicable in 5G with the following
differences:
\- description of the SCS/AS applies to the AF;
\- description of the SCEF applies to the NEF.
### 4.4.14 Procedures for analytics information exposure
#### 4.4.14.1 Subscription/unsubscription to notification of analytics
information
The procedures are used by the AF to subscribe/unsubscribe to retrieve
analytics information via NEF, and are used by the NEF to notify the AF about
the requested analytics information as described in 3GPP TS 23.288 [29].
In order to subscribe to retrieve analytics information, the AF shall send an
HTTP POST message to the NEF to the resource \"Analytics Exposure
Subscriptions\", the HTTP POST message shall include AnalyticsExposureSubsc
data structure as request body.
The AnalyticsExposureSubsc data structure shall include:
\- an URI where to receive the requested notifications as \"notifUri\"
attribute;
\- Notification Correlation Identifier assigned by the NF service consumer for
the requested notifications as \"notifId\" attribute; and
\- a description of the subscribed events as \"analyEventsSubs\" attribute
that for each event shall include
1) an event identifier as \"analyEvent\" attribute.
The AnalyticsExposureSubsc data structure may include:
\- event reporting requirement information as \"analyRepInfo\" attribute,
which applies for all events in a subscription and may contain the following
attributes:
1) event notification method (periodic, one time, on event detection) as
\"notifMethod\" attribute;
2) maximum Number of Reports as \"maxReportNbr\" attribute;
3) monitoring Duration as \"monDur\" attribute;
4) repetition period for periodic reporting as \"repPeriod\" attribute;
5) immediate reporting indication as \"immRep\" attribute;
6) sampling ratio as \"sampRatio\" attribute;
7) group reporting guard time as \"grpRepTime\" attribute.
Each AnalyticsEventSubsc data structure may include:
> \- event specific filters via the \"analyEventFilter\" attribute; and
\- the indication of the UEs to which the subscription applies via \"tgtUe\"
attribute, which if provided shall include one of the following attributes:
> 1) identification of an individual UE via a \"gpsi\" attribute; or
>
> 2) identification of a group of UE(s) via a \"exterGroupId\" attribute; or
>
> 3) identification of any UE via the \"anyUeInd\" attribute.
Upon receipt of the HTTP POST request from the AF, if the AF is authorized,
the NEF shall interact with the UDM by using Nudm_SubscriberDataManagement
service as defined in 3GPP TS 29.503 [17] to translate the GPSI or external
group identifier into the corresponding SUPI or internal group identifier.
After receiving a successful response from the UDM, the NEF shall interact
with the NWDAF to subscribe to the subscription to the analytics information
by using the Nnwdaf_EventsSubscription service as defined in 3GPP TS 29.520
[27]. If the NEF receives an error code from the NWDAF, the NEF shall not
create the resource and shall respond to the AF with a proper error status
code.
In order to update an existing analytics exposure subscription, the AF shall
send an HTTP PUT message to the NEF to the resource \"Individual Analytics
Exposure Subscription\" requesting to change the subscription.
In order to delete an existing analytics exposure subscription, the AF shall
send an HTTP DELETE message to the NEF to the resource \"Individual Analytics
Exposure Subscription\".
Upon receipt of the HTTP PUT or DELETE request from the AF, if the AF is
authorized, the NEF shall interact with the NWDAF to modify or cancel the
subscription to the analytics information by using the
Nnwdaf_EventsSubscription service as defined in 3GPP TS 29.520 [27]. If the
NEF receives an error code from the NWDAF, the NEF shall not update or delete
the resource and shall respond to the AF with a proper error status code.
After receiving a successful response from the NWDAF, the NEF shall,
\- for the HTTP POST request, create a resource \"Individual Analytics
Exposure Subscription\" which represents the analytics exposure subscription,
addressed by a URI that contains the AF Identifier and an NEF-created
subscription identifier, and shall respond to the AF with a 201 Created status
code, including a Location header field containing the URI for the created
resource. The AF shall use the URI received in the Location header in
subsequent requests to the NEF to refer to this analytics exposure
subscription. If not all the requested analytics events in the subscription
are accepted, then the NEF may include the \"failEventReports\" attribute
indicating the event(s) for which the subscription failed and the associated
reason(s).
\- for the HTTP PUT request, update a resource \"Individual Analytics Exposure
Subscription\" which represents the analytics exposure subscription, and shall
responds to the AF with a 200 OK or 204 No Content status code. When
responding with a 200 OK status code, if not all the requested analytics
events in the subscription are modified successfully, then the NEF may include
the \"failEventReports\" attribute indicating the event(s) for which the
modification failed and the associated reason(s).
\- for the HTTP DELETE request, remove all properties of the resource and
delete the corresponding active resource \"Individual Analytics Exposure
Subscription\" which represents the analytics exposure subscription, then
shall responds to the AF with a 204 No Content status code.
If the immediate reporting indication in the \"immRep\" attribute within the
\"analyRepInfo\" attribute sets to true during the HTTP POST or PUT request,
the NEF shall also include the reports of the events subscribed, if available,
in the HTTP POST or PUT response to the AF.
If the NEF receives an analytics information notification from the NWDAF
indicating that the subscribed analytics event has been detected, the NEF
shall provide a notification by sending HTTP POST message that include the
AnalyticsEventNotification data structure at least with the detected analytics
event to the AF identified by the notification URI together with the
notification correlation identifier received during creation of the Individual
Analytics Exposure Subscription. Upon receipt of the analytics event
notification, the AF shall respond with a \"204 No Content\" status code to
confirm the received notification.
#### 4.4.14.2 Fetch analytics information
The procedures are used by the AF to fetch analytics information via NEF.
In order to fetch analytics information, the AF shall send an HTTP POST
message to the NEF to the customized operation URI \"{apiRoot}/3gpp-
analyticsexposure/v1/{afId}/fetch\", the HTTP POST message shall include
AnalyticsRequest data structure as request body. The AnalyticsRequest data
structure shall include:
\- identification of the analytics events as \"analyEvent\" attribute;
and may include:
\- description of the analytics reporting information as \"analyRep\"
attribute;
\- an event filter as \"analyEventFilter\" attribute.
\- indication of the UEs to which the analytics request applies via:
a) identification of an individual UE via a \"gpsi\" attribute; or
b) identification of a group of UE(s) via a \"exterGroupId\" attribute; or
> c) identification of any UE via the \"anyUeInd\" attribute.
Upon the reception of an HTTP POST request, if the AF is authorized, the NEF
shall interact with the UDM by using Nudm_SubscriberDataManagement service as
defined in 3GPP TS 29.503 [17] to translate the GPSI or external group
identifier into the corresponding SUPI or internal group identifier. After
receiving a successful response from the UDM, the NEF shall interact with the
NWDAF by using Nnwdaf_AnalyticsInfo service as defined in 3GPP TS 29.520 [27].
If the NEF receives an error code from the NWDAF, the NEF shall respond to the
AF with a proper error status code. If a successful response including
analytics information is received from the NWDAF, the NEF shall translate the
network internal information to external information (e.g. SUPI to GPSI,
Internal Group ID to External Group ID) and send an HTTP POST response to the
AF by including analytics information within the AnalyticsData data structure.
### 4.4.15 Procedures for 5G LAN Parameter Provisioning
#### 4.4.15.1 General
The procedures are used by the AF to provision 5G LAN type service related
parameters to the NEF. The following procedures support:
\- Management of 5G Virtual Network group membership; and/or
\- Management of 5G Virtual Network group data
#### 4.4.15.2 Creation of a new subscription for 5G LAN parameter provisioning
In order to create a new subscription to provision 5G LAN related parameters,
the AF shall initiate an HTTP POST request to the NEF for the \"5GLAN
Parameters Provision Subscriptions\" resource. The body of the HTTP POST
message shall include the 5G LAN service related parameters within the
\"5gLanParams\" attribute.
Upon receipt of the corresponding HTTP POST message, if the AF is authorized
by the NEF to provision the parameters, the NEF shall interact with the UDM to
create a subscription at the UDM by using Nudm_ParameterProvision service as
defined in 3GPP TS 29.503 [17]. If the request is accepted by the UDM and the
UDM informs the NEF with a successful response, the NEF shall create a new
subscription and assign a subscription identifier for the \"Individual 5GLAN
Parameters Provision Subscription\" resource. Then the NEF shall send a HTTP
\"201 Created\" response with 5GLanParametersProvision data structure as
response body and a Location header field containing the URI of the created
individual subscription resource.
#### 4.4.15.3 Modification of an existing subscription for 5G LAN parameter
provisioning
To modify an existing subscription to provision 5G LAN parameters, the AF
shall initiate an HTTP PUT/PATCH request to the NEF for the \"Individual 5GLAN
Parameters Provision Subscription\" resource. The body of the HTTP PUT message
shall include the 5GLanParametersProvision data type as defined in subclause
5.7.2.3.2. The External Group Identifier, DNN, S-NSSAI and PDU session type
shall remain unchanged from previous values. The body of the HTTP PATCH
message shall include the 5GLanParametersProvisionPatch data as defined in
subclause 5.7.2.3.5.
Upon receipt of the corresponding HTTP PUT/PATCH message, if the AF is
authorized by the NEF to provision the parameters, the NEF shall interact with
the UDM to modify an existing subscription at the UDM by using
Nudm_ParameterProvision service as defined in 3GPP TS 29.503 [17]. If the
modification request is accepted by the UDM and the UDM informs the NEF with a
successful response, the NEF shall update the existing subscription for the
\"Individual 5GLAN Parameters Provision Subscription\" resource. Then the NEF
shall send a HTTP response including \"200 OK\" status code with
5GLanParametersProvision data structure or \"204 No Content\" status code.
#### 4.4.15.4 Deletion of an existing subscription for 5G LAN parameter
provisioning
To delete an existing subscription to 5GLAN provision parameters, the AF shall
initiate an HTTP DELETE request to the NEF for the \"Individual 5GLAN
Parameters Provision Subscription\" resource.
Upon receipt of the corresponding HTTP DELETE message, if the AF is
authorized, the NEF shall interact with the UDM to delete an existing
parameters provision subscription at the UDM by using Nudm_ParameterProvision
service as defined in 3GPP TS 29.503 [17]. If the request is accepted by the
UDM and informs the NEF with a successful response, the NEF shall delete the
existing subscription for the \"Individual 5GLAN Parameters Provision
Subscription\" resource. Then the NEF shall send a HTTP \"204 No Content\"
response.
### 4.4.16 Procedures for applying BDT policy
In order to create a resource for the applying a previously negotiated
Background Data Transfer Policy to a UE or a Group of UEs, the AF shall send
an HTTP POST message to the NEF to the resource \"Applied BDT Policy
Subscriptions\". The body of the HTTP POST message shall contain the external
Group Identifier or external Identifier, and the Background Data Transfer
Reference ID for a previously negotiated policy of a background data transfer.
Upon receipt of the HTTP POST request from the AF, if the AF is authorized,
the NEF shall interact with the UDM by invoking the
Nudm_SubscriberDataManagement service as described in 3GPP TS 29.503 [17] to
retrieve the SUPI or Internal Group Identifier.
In order to update an existing applied BDT policy subscription, the AF shall
send an HTTP PATCH message to the resource \"Individual Applied BDT Policy
Subscription\" requesting to change the applied BDT policy. The AF shall
include in the body of the HTTP PATCH request the new Background Data Transfer
Reference ID.
In order to delete an existing applied BDT policy subscription, the AF shall
send an HTTP DELETE message to the NEF to the resource \"Individual Applied
BDT Policy Subscription\".
The NEF shall interact with the UDR by invoking the Nudr_DataRepository
service as described in 3GPP TS 29.504 [20], if the NEF receives an error code
from the UDR, the NEF shall not create, update or delete the resource and
shall respond to the AF with a proper error status code.
After receiving a successful response from the UDR, the NEF shall:
\- for the HTTP POST request, create a resource \"Individual Applied BDT
Policy Subscription\" addressed by a URI that contains the AF Identifier and
an NEF-created subscription identifier, and shall respond to the AF with a
\"201 Created\" status code, including a Location header field containing the
URI of the created resource. The AF shall use the URI received in the Location
header in subsequent requests to the NEF to refer to this resource.
\- for the HTTP PATCH request, update a resource \"Individual Applied BDT
Policy Subscription\" which represents the applied BDT policy subscription,
and shall respond to the AF with a \"200 OK\" or \"204 No Content\" status
code.
\- for the HTTP DELETE request, delete the corresponding active resource
\"Individual Applied BDT Policy Subscription\", and shall respond to the AF
with a \"204 No Content\" status code.
### 4.4.17 Procedures for Enhanced Coverage Restriction Control
The procedures for network configuration parameters provisioning as described
in subclause 4.4.11 of 3GPP TS 29.122 [4] shall be applicable in 5GS with the
following differences:
\- description of the SCS/AS applies to the AF;
\- description of the SCEF applies to the NEF;
\- description of the HSS applies to the UDM; and
\- upon receipt of HTTP POST request from the AF to query the current status
of enhanced coverage restriction, the NEF shall interact with the UDM by using
the Nudm_SubscriberDataManagement service as specified in 3GPP TS 29.503 [17].
\- upon receipt of HTTP POST request from the AF to configure the enhanced
converage restriction, the NEF shall interact with the UDM by using the
Nudm_ParameterProvision service as specified in 3GPP TS 29.503 [17].
\- if the ECR_WB_5G feature is supported, in order to configure the enhanced
coverage restriction for WB UE, the HTTP POST request message shall include
the WB mode related enhanced coverage restriction information via the
\"ecrDataWbs\" attribute for the WB UE.
### 4.4.18 Procedures for IPTV Configuration
The procedures are used by the AF to authorize the request and forward the
request for IPTV configuration information via NEF.
In order to configure IPTV information, the AF shall send an HTTP POST message
to the NEF to the resource \"IPTV Configurations\", the HTTP POST message
shall include IptvConfigData data structure as request body. The
IptvConfigData data structure shall include:
\- indication of the UEs to which the subscription applies via:
> a) identification of an individual UE via a \"gpsi\" attribute; or
>
> b) identification of a group of UE(s) via a \"exterGroupId\" attribute;
\- an application identifier as \"appId\" attribute; and
\- a list of Multicast Access Control as \"multiAccCtrls\" attribute;
and may include:
\- an DNN as \"dnn\" attribute;
\- an S-NSSAI as \"snssai\" attribute;
\- MTC Provider Information as \"mtcProviderId\" attribute.
NOTE: The NEF can check the received MTC Provider Id information and reject
the IPTV configuration request upon failure checking result.
In order to update an existing individual IPTV configuration, the AF shall
send an HTTP PUT or HTTP PATCH message to the NEF to the resource \"Individual
IPTV Configuration\" requesting to change the subscription. The External Group
Identifier, GPSI, DNN, S-NSSAI and Application Identifier shall remain
unchanged from previous values in the HTTP PUT message.
In order to delete an existing individual IPTV configuration, the AF shall
send an HTTP DELETE message to the NEF to the resource \"Individual IPTV
Configuration\".
Upon receipt of the HTTP request from the AF, if the AF is authorized, the NEF
shall interact with the UDM by invoking the Nudm_SubscriberDataManagement
service as described in 3GPP TS 29.503 [17] to retrieve the SUPI or Internal
Group Identifier. Then the NEF shall interact with the UDR to create, update
or delete the IPTV configuration by using the Nudr_DataRepository service as
defined in 3GPP TS 29.519 [23]. If the NEF receives an error code from the
UDR, the NEF shall not create, update or delete the resource and shall respond
to the AF with a proper error status code.
After receiving a successful response from the UDR, the NEF shall,
\- for the HTTP POST request, create a resource \"Individual IPTV
Configuration\" which represents the IPTV configuration request, addressed by
a URI that contains the AF Identifier and an NEF-created configuration
identifier, and shall respond to the AF with a 201 Created status code,
including a Location header field containing the URI for the created resource.
The AF shall use the URI received in the Location header in subsequent
requests to the NEF to refer to this IPTV configuration.
\- for the HTTP PUT or HTTP PATCH request, update a resource \"Individual IPTV
Configuration\" which represents the IPTV configuration, and shall responds to
the AF with a 200 OK or 204 No Content status code.
\- for the HTTP DELETE request, remove all properties of the resource and
delete the corresponding active resource \"Individual IPTV Configuration\",
then shall responds to the AF with a 204 No Content status code.
4.4.19 Procedures for Location Privacy Indication Parameters Provisioning
The procedures are used by the AF to provision Location Privacy Indication
parameters to the NEF. The procedures are applicable for an individual UE or a
group of UEs.
In order to provision Location Privacy Indication parameters, the AF shall
initiate an HTTP POST request to the NEF for the \"LPI Parameters
Provisionings\" resource. The body of the HTTP POST message shall include the
Location Privacy Indication related parameters within the
LpiParametersProvision data structure.
Upon receipt of the corresponding HTTP POST message, if the AF is authorized
by the NEF to provision the parameters, the NEF shall interact with the UDM to
create a resource at the UDM by using Nudm_ParameterProvision service as
defined in 3GPP TS 29.503 [17]. If the request is accepted by the UDM and the
UDM informs the NEF with a successful response, the NEF shall create a new
resource and assign an identifier for the \"Individual LPI Parameters
Provisioning\" resource. Then the NEF shall send a HTTP \"201 Created\"
response with LpiParametersProvision data structure as response body and a
Location header field containing the URI of the created individual resource.
In order to update an existing individual LPI Parameters Provisioning, the AF
may send an HTTP PUT message to the resource \"Individual LPI Parameters
Provisioning\" requesting the NEF to change all properties in the existing
resource. The body of the HTTP PUT request message shall include
LpiParametersProvision data type as defined in subclause 5.10.2.3.2. The
External Group Identifier or GPSI shall remain unchanged from previous values.
Upon receipt of the corresponding HTTP PUT message, if the AF is authorized by
the NEF to provision the parameters, the NEF shall interact with the UDM to
modify an existing resource at the UDM by using Nudm_ParameterProvision
service as defined in 3GPP TS 29.503 [17]. If the modification request is
accepted by the UDM and the UDM informs the NEF with a successful response,
the NEF shall update the existing resource for the \"Individual LPI Parameters
Provisioning\" resource. Then the NEF shall send a HTTP response including
\"200 OK\" status code with LpiParametersProvision data structure or \"204 No
Content\" status code.
To delete an existing individualLPI Parameters Provisioning, the AF shall
initiate an HTTP DELETE request to the NEF for the \"Individual LPI Parameters
Provisioning\" resource.
Upon receipt of the corresponding HTTP DELETE message, if the AF is
authorized, the NEF shall interact with the UDM to delete an existing LPI
Parameters Provisioning at the UDM by using Nudm_ParameterProvision service as
defined in 3GPP TS 29.503 [17]. If the request is accepted by the UDM, the NEF
shall delete the existing resource for the \"Individual LPI Parameters
Provisioning\" resource. Then the NEF shall send a HTTP \"204 No Content\"
response.
### 4.4.20 Procedures for service specific parameter provisioning
The procedures are used by the AF to provide service specific parameters to 5G
system via NEF.
In order to provision the service specific parameter, the AF shall send an
HTTP POST message to the NEF to the resource \"Service Parameter
Subscriptions\", the HTTP POST message shall include ServiceParameterData data
structure as request body. The ServiceParameterData data structure shall
include:
\- service description via:
a) an combination of DNN and S-NSSAI within the \"dnn\" attribute and the
\"snssai\" attribute respectively;
b) an AF service identifier within the \"afServiceId\" attribute; or
c) an application identifier within the \"appId\" attribute;
\- indication of the UEs to which the subscription applies via:
a) identification of an individual UE within the \"gpsi\" attribute;
b) an IPv4 address of the UE within the \"ueIpv4\" attribute;
c) an IPv6 address of the UE within the \"ueIpv6\" attribute;
d) an MAC address of the UE within the \"ueMac\" attribute;
e) an identification of a group of UE(s) within the \"externalGroupId\"
attribute; or
f) identification of any UE within the \"anyUeInd\" attribute.
NOTE: For V2X service parameter provisioning, only \"anyUeInd\", \"gpsi\" and
\"externalGroupId\" attributes are applicable.
\- service parameters for at least one of the following:
\- V2X service parameters via:
a) configuration parameters for V2X communication over PC5 within the
\"paramOverPc5\" attribute; and/or
b) configuration parameters for V2X communication over Uu within the
\"paramOverUu\" attribute.
In order to update an existing service parameter subscription, the AF shall
send an HTTP PUT or HTTP PATCH message to the NEF to the resource \"Individual
Service Parameter Subscription\" requesting to change the subscription.
In order to delete an existing service parameter subscription, the AF shall
send an HTTP DELETE message to the NEF to the resource \"Individual Service
Parameter Subscription\".
Upon receipt of the HTTP request from the AF, if the AF is authorized, the NEF
shall interact with the UDM by invoking the Nudm_SubscriberDataManagement
service as described in 3GPP TS 29.503 [17] to retrieve the SUPI or Internal
Group Identifier. Then the NEF shall interact with the UDR to create, update
or delete the service parameter by using the Nudr_DataRepository service as
defined in 3GPP TS 29.519 [23]. If the NEF receives an error code from the
UDR, the NEF shall not create, update or delete the resource and shall respond
to the AF with a proper error status code.
After receiving a successful response from the UDR, the NEF shall,
\- for the HTTP POST request, create a resource \"Individual Service Parameter
Subscription\" which represents the Service Parameter provisioning request,
addressed by a URI that contains the AF Identifier and an NEF-created
configuration identifier, and shall respond to the AF with a 201 Created
status code, including a Location header field containing the URI for the
created resource. The AF shall use the URI received in the Location header in
subsequent requests to the NEF to refer to this Service Parameter
Subscription.
\- for the HTTP PUT or HTTP PATCH request, update a resource \"Individual
Service Parameter Subscription\" which represents the service parameter, and
shall responds to the AF with a 200 OK or 204 No Content status code.
\- for the HTTP DELETE request, remove all properties of the resource and
delete the corresponding active resource \"Individual Service Parameter
Subscription\", then shall responds to the AF with a 204 No Content status
code.
### 4.4.21 Procedures for ACS configuration parameter provisioning
The procedures are used by the AF to provide ACS configuration information to
5G system via NEF.
In order to provision the ACS configuration information, the AF shall send an
HTTP POST message to the NEF to the resource \"ACS Configuration
Subscriptions\", the HTTP POST message shall include AcsConfigurationData data
structure as request body. The AcsConfigurationData data structure shall
include:
\- the URL of the ACS or the address of the ACS within the \"acsInfo\"
attribute; and
\- indication of the UEs to which the subscription applies via:
> a) identification of an individual UE via a \"gpsi\" attribute; or
>
> b) identification of a group of UE(s) via a \"exterGroupId\" attribute.
In order to update an existing ACS configuration subscription, the AF shall
send an HTTP PUT message to the NEF to the resource \"Individual ACS
Configuration Subscription\" requesting to change the subscription. The body
of the HTTP PUT request message shall include AcsConfigurationData data type.
The External Group Identifier or GPSI shall remain unchanged from previous
values.
In order to delete an existing ACS configuration subscription, the AF shall
send an HTTP DELETE message to the NEF to the resource \"Individual ACS
configuration Subscription\".
Upon receipt of the corresponding HTTP message, if the AF is authorized by the
NEF to provision the parameters, the NEF shall interact with the UDM to create
a subscription at the UDM by using Nudm_ParameterProvision service as defined
in 3GPP TS 29.503 [17].
After receiving a successful response from the UDM, the NEF shall,
\- for the HTTP POST request, create a resource \"Individual ACS Configuration
Subscription\" which represents the ACS configuration parameter provisioning
request, addressed by a URI that contains the AF Identifier and an NEF-created
configuration identifier, and shall respond to the AF with a 201 Created
status code, including a Location header field containing the URI for the
created resource. The AF shall use the URI received in the Location header in
subsequent requests to the NEF to refer to this ACS Configuration
Subscription.
\- for the HTTP PUT request, update a resource \"Individual ACS Configuration
Subscription\" which represents the ACS configuration, and shall responds to
the AF with a 200 OK or 204 No Content status code.
\- for the HTTP DELETE request, remove all properties of the resource and
delete the corresponding active resource \"Individual ACS Configuration
Subscription\", then shall responds to the AF with a 204 No Content status
code.
### 4.4.22 Procedures for Mobile Originated Location Request
#### 4.4.22.1 General
The procedure is used by NEF to transfer the updated UE location information
to AF. The following procedure support:
> \- Notify the AF of the updated UE location information as described in
> subclause 6.2 of 3GPP TS 23.273 [36];
#### 4.4.22.2 Location Update Notification triggered by UE
In order to notify the AF of the updated UE location information received from
GMLC, the NEF shall initiate an HTTP POST request to the AF. The body of the
HTTP POST message shall include the location information related to UE MO-LR
within the LocUpdateData data structure.
Upon receipt of the corresponding HTTP POST message, if the AF cannot handle
the location estimate of the UE, e.g. the UE does not register to the AF, the
AF shall respond to the NEF with an error code. Otherwise, the AF shall handle
the location estimate according to the Service Identity if provided, and send
a HTTP response including \"200 OK\" status code with LocUpdateDataReply data
structure.
# 5 **NEF Northbound** APIs
## 5.1 Introduction
The **NEF Northbound** APIs are a set of APIs defining the related procedures
and resources for the interaction between the NEF and the AF.
## 5.2 Information applicable to several APIs
The usage of HTTP, content type and URI structure definition, as specified in
subclauses 5.2.2, 5.2.3 and 5.2.4 of 3GPP TS 29.122 [4] respectively, shall be
applicable for NEF Northbound APIs.
The notification, error handling, feature negotiation, HTTP custom headers as
specified in subclauses 5.2.5, 5.2.6, 5.2.7, 5.2.8 of 3GPP TS 29.122 [4]
respectively, shall be applicable for NEF Northbound APIs except that the SCEF
is replaced by the NEF and the SCS/AS is replaced by the AF.
The conventions for Open API specification files as specified in subclause
5.2.9 of 3GPP TS 29.122 [4] shall be applicable for NEF Northbound APIs.
## 5.3 Reused APIs
This subclause describes the northbound APIs which are applicable for both EPS
and 5GS.
Table 5.3-1: Reused APIs applicable for both EPS and 5GS
+---------------------------+-----------------------------------------+ | API Name | Differences | +---------------------------+-----------------------------------------+ | ResourceManagementOfBdt | - The \"LocBdt_5G\" feature as | | | described in subclause 5.4.4 of | | | 3GPP TS 29.122 [4] may only be | | | supported in 5G. | | | | | | - The \"Group_Id\" feature as | | | described in subclause 5.4.4 of | | | 3GPP TS 29.122 [4] may be supported | | | in 5G. | | | | | | - The \"BdtNotification_5G\" feature | | | as described in subclause 5.4.4 of | | | 3GPP TS 29.122 [4] may only be | | | supported in 5G. | +---------------------------+-----------------------------------------+ | PfdManagement | The \"FailureLocation_5G\" feature as | | | described in subclause 5.11.4 of | | | 3GPP TS 29.122 [4] may only be | | | supported in 5G. | +---------------------------+-----------------------------------------+ | MonitoringEvent | - The | | | \"Number_of | | | _UEs_in_an_area_notification_5G\" | | | feature as described in subclause 5.3.4 | | | of 3GPP TS 29.122 [4] may only be | | | supported in 5G. | | | | | | - The | | | \ | | | "Downlink_data_delivery_status_5G\" | | | feature as described in subclause 5.3.4 | | | of 3GPP TS 29.122 [4] may only be | | | supported in 5G. | | | | | | - The | | | \"Availability_after_DD | | | N_failure_notification_enhancement\" | | | feature as described in subclause 5.3.4 | | | of 3GPP TS 29.122 [4] may only be | | | supported in 5G. | | | | | | - For the | | | \"Pdn_connectivity_status\" feature, | | | APN is equivalent to DNN; the non-IP | | | PDN type is equivalent to the | | | unstructured PDU session type; and the | | | enumeration InterfaceIndication value | | | \"PDN_GATEWAY\" stands for PDU session | | | anchored in UPF in 5G. | | | | | | - The \"eLCS\" feature as described in | | | subclause 5.3.4 of 3GPP TS 29.122 [4] | | | may only be supported in 5G. | +---------------------------+-----------------------------------------+ | DeviceTriggering | | +---------------------------+-----------------------------------------+ | CpProvisioning | - The \"ExpectedUMT_5G\" and | | | \"ExpectedUmtTime_5G\" features as | | | described in subclause 5.10.4 of | | | 3GPP TS 29.122 [4] may only be | | | supported in 5G. | | | | | | - The \"ScheduledCommType_5G\" | | | feature as described in | | | subclause 5.10.4 of | | | 3GPP TS 29.122 [4] may only be | | | supported in 5G. | +---------------------------+-----------------------------------------+ | ChargeableParty | - The \"EthChgParty_5G\" and | | | \"MacAddressRange_5G\" features as | | | described in subclause 5.5.4 of | | | 3GPP TS 29.122 [4] may only be | | | supported in 5G. | | | | | | - The events (i.e. LOSS_OF_BEARER, | | | RECOVERY_OF_BEARER and | | | RELEASE_OF_BEARER) do not apply for | | | 5G. | +---------------------------+-----------------------------------------+ | AsSessionWithQoS | - The \"EthAsSessionQoS_5G\", | | | \"QoSMonitoring_5G\", | | | \"MacAddressRange_5G\" and | | | \"AlternativeQoS_5G\" features as | | | described in subclause 5.14.4 of | | | 3GPP TS 29.122 [4] may only be | | | supported in 5G. | | | | | | - The events (i.e. LOSS_OF_BEARER, | | | RECOVERY_OF_BEARER and | | | RELEASE_OF_BEARER) do not apply for | | | 5G. | +---------------------------+-----------------------------------------+ | MsisdnLessMoSms | | +---------------------------+-----------------------------------------+ | NpConfiguration | The \"NpExpiry_5G" feature as | | | described in subclause 5.13.4 of | | | 3GPP TS 29.122 [4] may only be | | | supported in 5G. | +---------------------------+-----------------------------------------+ | NIDD | | +---------------------------+-----------------------------------------+ | RacsParameterProvisioning | | +---------------------------+-----------------------------------------+ | ECRControl | The \"ECR_WB_5G" feature as described | | | in subclause 5.12.4 of | | | 3GPP TS 29.122 [4] may only be | | | supported in 5G. | +---------------------------+-----------------------------------------+
## 5.4 TrafficInfluence API
### 5.4.1 Resources
#### 5.4.1.1 Overview
All resource URIs of this API should have the following root:
**{apiRoot}/3gpp-traffic-influence/v1/**
\"apiRoot\" is set as described in subclause 5.2.4 in 3GPP TS 29.122 [4].
\"apiName\" shall be set to \"3gpp-traffic-influence\" and \"apiVersion\"
shall be set to \"v1\" for the current version defined in the present
document. All resource URIs in the subclauses below are defined relative to
the above root URI.
This subclause describes the structure for the Resource URIs as shown in
figure 5.4.1.1-1 and the resources and HTTP methods used for the
TrafficInfluence API.
Figure 5.4.1.1-1: Resource URI structure of the TrafficInfluence API
Table 5.4.1.1-1 provides an overview of the resources and HTTP methods
applicable for the TrafficInfluence API.
Table 5.4.1.1-1: Resources and methods overview
* * *
Resource name Resource URI HTTP method Description Traffic Influence
Subscription /{afId}/subscriptions GET Read all subscriptions for a given AF
POST Create a new subscription to traffic influence Individual Traffic
Influence Subscription /{afId}/subscriptions/{subscriptionId} GET Read a
subscription to traffic influence PUT Modify all of the properties of an
existing subscription to traffic influence PATCH Modify part of the properties
of an existing subscription to traffic influence DELETE Delete a subscription
to traffic influence
* * *
#### 5.4.1.2 Resource: Traffic Influence Subscription
##### 5.4.1.2.1 Introduction
This resource allows a AF to read all active traffic influence subscribtions
for the given AF.
##### 5.4.1.2.2 Resource Definition
Resource URI: **{apiRoot}/3gpp-traffic-influence/v1/{afId}/subscriptions**
This resource shall support the resource URI variables defined in table
5.4.1.2.2-1.
Table 5.4.1.2.2-1: Resource URI variables for this resource
* * *
Name Data type Definition apiRoot string Subclause 5.2.4 of 3GPP TS 29.122
[4]. afId string Identifier of the AF.
* * *
##### 5.4.1.2.3 Resource Methods
###### 5.4.1.2.3.1 General
The following subclauses specify the resource methods supported by the
resource as described in subclause 5.4.1.2.2.
###### 5.4.1.2.3.2 GET
The GET method allows to read all active subscriptions for a given AF. The AF
shall initiate the HTTP GET request message and the NEF shall respond to the
message.
This method shall support the URI query parameters specified in table
5.4.1.2.3.2-1.
Table 5.4.1.2.3.2-1: URI query parameters supported by the GET method on this
resource
* * *
Name Data type P Cardinality Description N/A
* * *
This method shall support the request data structures specified in table
5.4.1.2.3.2-2 and the response data structures and response codes specified in
table 5.4.1.2.3.2-3.
Table 5.4.1.2.3.2-2: Data structures supported by the GET Request Body on this
resource
* * *
Data type P Cardinality Description N/A
* * *
Table 5.4.1.2.3.2-3: Data structures supported by the GET Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | array(Tra | M | 0..N | 200 OK | The | | fficInfluSub) | | | | subscription | | | | | | information | | | | | | for the AF in | | | | | | the request | | | | | | URI are | | | | | | returned. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 307 Temporary | Temporary | | | | | Redirect | redirection, | | | | | | during | | | | | | subscription | | | | | | retrieval. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | sub | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 308 Permanent | Permanent | | | | | Redirect | redirection, | | | | | | during | | | | | | subscription | | | | | | retrieval. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | sub | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the GET | | | | | | method listed | | | | | | in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.4.1.2.3.2-4: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
Table 5.4.1.2.3.2-5: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
###### 5.4.1.2.3.3 POST
The POST method creates a new subscription resource to traffic influence
subscription for a given AF. The AF shall initiate the HTTP POST request
message and the NEF shall respond to the message. The NEF shall construct the
URI of the created resource.
This method shall support the request data structures specified in table
5.4.1.2.3.3-1 and the response data structures and response codes specified in
table 5.4.1.2.3.3-2.
Table 5.4.1.2.3.3-1: Data structures supported by the POST Request Body on
this resource
* * *
Data type P Cardinality Description TrafficInfluSub M 1 Parameters to register
a subscription to influencing traffic routing and/or notification about UP
management events with the NEF.
* * *
Table 5.4.1.2.3.3-2: Data structures supported by the POST Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | Tr | M | 1 | 201 Created | The | | afficInfluSub | | | | subscription | | | | | | was created | | | | | | successfully. | | | | | | | | | | | | The URI of | | | | | | the created | | | | | | resource | | | | | | shall be | | | | | | returned in | | | | | | the | | | | | | \"Location\" | | | | | | HTTP header. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the POST | | | | | | method listed | | | | | | in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.4.1.2.3.3-3: Headers supported by the 201 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 Contains the URI
of the newly created resource, according to the structure: {apiRoot}/3gpp-
traffic-Influence/v1/{afId}/subscriptions/{subscriptionId}
* * *
#### 5.4.1.3 Resource: Individual Traffic Influence Subscription
##### 5.4.1.3.1 Introduction
This resource allows a AF to register a subscription to influencing traffic
routing and/or notification about UP management events with the NEF.
##### 5.4.1.3.2 Resource Definition
Resource URI: **{apiRoot}/3gpp-traffic-
influence/v1/{afId}/subscriptions/{subscriptionId}**
This resource shall support the resource URI variables defined in table
5.4.1.3.2-1.
Table 5.4.1.3.2-1: Resource URI variables for this resource
* * *
Name Data type Definition apiRoot string Subclause 5.2.4 of 3GPP TS 29.122
[4]. afId string Identifier of the AF. subscriptionId string Identifier of the
subscription.
* * *
##### 5.4.1.3.3 Resource Methods
###### 5.4.1.3.3.1 General
The following subclauses specify the resource methods supported by the
resource as described in subclause 5.4.1.3.2.
###### 5.4.1.3.3.2 GET
The GET method allows to read the active subscription for a given AF and
subscription Id. The AF shall initiate the HTTP GET request message and theNEF
shall respond to the message.
This method shall support the URI query parameters specified in table
5.4.1.3.3.2-1.
Table 5.4.1.3.3.2-1: URI query parameters supported by the GET method on this
resource
* * *
Name Data type P Cardinality Description N/A
* * *
This method shall support the request data structures specified in table
5.4.1.3.3.2-2 and the response data structures and response codes specified in
table 5.4.1.3.3.2-3.
Table 5.4.1.3.3.2-2: Data structures supported by the GET Request Body on this
resource
* * *
Data type P Cardinality Description N/A
* * *
Table 5.4.1.3.3.2-3: Data structures supported by the GET Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | Tr | M | 1 | 200 OK | The | | afficInfluSub | | | | subscription | | | | | | information | | | | | | for the AF in | | | | | | the request | | | | | | URI are | | | | | | returned. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 307 Temporary | Temporary | | | | | Redirect | redirection, | | | | | | during | | | | | | subscription | | | | | | retrieval. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | sub | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 308 Permanent | Permanent | | | | | Redirect | redirection, | | | | | | during | | | | | | subscription | | | | | | retrieval. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | sub | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the GET | | | | | | method listed | | | | | | in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.4.1.3.3.2-4: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
Table 5.4.1.3.3.2-5: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
###### 5.4.1.3.3.3 PUT
The PUT method modifies an existing subscription resource to update a
subscription. The AF shall initiate the HTTP PUT request message and the NEF
shall respond to the message.
This method shall support the request data structures specified in table
5.4.1.3.3.3-1 and the response data structures and response codes specified in
table 5.4.1.3.3.3-2.
Table 5.4.1.3.3.3-1: Data structures supported by the PUT Request Body on this
resource
* * *
Data type P Cardinality Description TrafficInfluSub M 1 Modify an existing
subscription to influencing traffic routing and/or notification about UP
management events with the NEF.
* * *
Table 5.4.1.3.3.3-2: Data structures supported by the PUT Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | Tr | M | 1 | 200 OK | The | | afficInfluSub | | | | subscription | | | | | | was updated | | | | | | successfully. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 307 Temporary | Temporary | | | | | Redirect | redirection, | | | | | | during | | | | | | subscription | | | | | | modification. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | sub | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 308 Permanent | Permanent | | | | | Redirect | redirection, | | | | | | during | | | | | | subscription | | | | | | modification. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | sub | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the PUT | | | | | | method listed | | | | | | in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.4.1.3.3.3-3: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
Table 5.4.1.3.3.3-4: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
###### 5.4.1.3.3.4 PATCH
The PATCH method allows to change some properties of an existing traffic
influence subscription. The AF shall initiate the HTTP PATCH request message
and the NEF shall respond to the message.
This method shall support the request data structures specified in table
5.4.1.3.3.4-1 and the response data structures and response codes specified in
table 5.4.1.3.3.4-2.
Table 5.4.1.3.3.4-1: Data structures supported by the PATCH Request Body on
this resource
* * *
Data type P Cardinality Description TrafficInfluSubPatch M 1 Partial update of
a subscription to influencing traffic routing and/or notifications about UP
management events with the NEF.
* * *
Table 5.4.1.3.3.4-2: Data structures supported by the PATCH Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | Tr | M | 1 | 200 OK | The | | afficInfluSub | | | | subscription | | | | | | was modified | | | | | | successfully. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 307 Temporary | Temporary | | | | | Redirect | redirection, | | | | | | during | | | | | | subscription | | | | | | modification. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | sub | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 308 Permanent | Permanent | | | | | Redirect | redirection, | | | | | | during | | | | | | subscription | | | | | | modification. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | sub | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the PATCH | | | | | | method listed | | | | | | in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.4.1.3.3.4-3: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
Table 5.4.1.3.3.4-4: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
###### 5.4.1.3.3.5 DELETE
The DELETE method deletes the traffic influence subscription for a given AF.
The AF shall initiate the HTTP DELETE request message and the NEF shall
respond to the message.
This method shall support the URI query parameters specified in table
5.4.1.3.3.5-1.
Table 5.4.1.3.3.5-1: URI query parameters supported by the DELETE method on
this resource
* * *
Name Data type P Cardinality Description N/A
* * *
This method shall support the request data structures specified in table
5.4.1.3.3.5-2 and the response data structures and response codes specified in
table 5.4.1.3.3.5-3.
Table 5.4.1.3.3.5-2: Data structures supported by the DELETE Request Body on
this resource
* * *
Data type P Cardinality Description N/A
* * *
Table 5.4.1.3.3.5-3: Data structures supported by the DELETE Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | N/A | | | 204 No | The | | | | | Content | subscription | | | | | | was | | | | | | terminated | | | | | | successfully. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 307 Temporary | Temporary | | | | | Redirect | redirection, | | | | | | during | | | | | | subscription | | | | | | termination. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | sub | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 308 Permanent | Permanent | | | | | Redirect | redirection, | | | | | | during | | | | | | subscription | | | | | | termination. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | sub | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the | | | | | | DELETE method | | | | | | listed in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.4.1.3.3.5-4: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
Table 5.4.1.3.3.5-5: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
### 5.4.2 Notifications
#### 5.4.2.1 Introduction
Upon receipt of a UP management event notification from the SMF indicating the
subscribed event (e.g. a DNAI has changed) is detected, the NEF shall send an
HTTP POST message including the notified event to the AF.
Upon receipt of the event notification, the AF may send an HTTP POST request
as acknowledgement for the UP path management event notification to inform the
NEF about the result of application layer relocation.
The NEF and the AF shall support the notification mechanism as described in
subclause 5.2.5 of 3GPP TS 29.122 [4].
Table 5.4.2.1-1: Notifications overview
+----------------+----------------+----------------+----------------+ | Notification | Callback URI | HTTP method or | Description | | | | custom | | | | | operation | (service | | | | | operation) | +----------------+----------------+----------------+----------------+ | Event | {notificati | POST | The UP | | Notification | onDestination} | | management | | | | | event | | | | | notification | | | | | from the NEF | | | | | to the AF. | +----------------+----------------+----------------+----------------+ | A | {afAckUri} | POST | The | | cknowledgement | | | A | | of event | | | cknowledgement | | notification | | | of Event | | | | | Notification | | | | | is used by the | | | | | AF to | | | | | acknowledge | | | | | the NEF about | | | | | handling | | | | | result of the | | | | | event | | | | | notification. | +----------------+----------------+----------------+----------------+
#### 5.4.2.2 Event Notification
##### 5.4.2.2.1 Description
The Event Notification is used by the NEF to report the UP path management
event notification from the SMF to the AF.
##### 5.4.2.2.2 Target URI
The Callback URI **\"{notificationDestination}\"** shall be used with the
callback URI variables defined in table 5.4.2.2.2-1.
Table 5.4.2.2.2-1: Callback URI variables
* * *
Name Data type Definition notificationDestination Link Callback reference
provided by the AF during creation/modification of the subscription within the
TrafficInfluSub data type as defined in Table 5.4.3.3.2-1.
* * *
##### 5.4.2.2.3 Operation Definition
##### 5.4.2.2.3.1 Notification via HTTP POST {#notification-via-http-post .H6}
This method shall support the request data structures specified in table
5.4.2.2.3.1-1 and the response data structures and response codes specified in
table 5.4.2.2.3.1-2.
Table 5.4.2.2.3.1-1: Data structures supported by the POST Request Body on
this resource
* * *
Data type P Cardinality Description EventNotification M 1 The UP management
event notification is provided by the NEF to the AF.
* * *
Table 5.4.2.2.3.1-2: Data structures supported by the POST Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | N/A | | | 204 No | The event | | | | | Content | notification | | | | | | is received | | | | | | successfully. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 307 Temporary | Temporary | | | | | Redirect | redirection, | | | | | | during event | | | | | | notification. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI | | | | | | representing | | | | | | the end point | | | | | | of an | | | | | | alternative | | | | | | AF where the | | | | | | notification | | | | | | should be | | | | | | sent. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | sub | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 308 Permanent | Permanent | | | | | Redirect | redirection, | | | | | | during event | | | | | | notification. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI | | | | | | representing | | | | | | the end point | | | | | | of an | | | | | | alternative | | | | | | AF where the | | | | | | notification | | | | | | should be | | | | | | sent. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | sub | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the POST | | | | | | method listed | | | | | | in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.4.2.2.3.1-3: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI representing the end point of an alternative AF towards which the
notification should be redirected.
* * *
Table 5.4.2.2.3.1-4: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI representing the end point of an alternative AF towards which the
notification should be redirected.
* * *
##### 5.4.2.2.3.2 Notification via Websocket {#notification-via-websocket .H6}
If supported by both AF and NEF and successfully negotiated, the
EventNotification may alternatively be delivered through the Websocket
mechanism as defined in subclause 5.2.5.4 of 3GPP TS 29.122 [4].
#### 5.4.2.3 Acknowledgement of event notification
##### 5.4.2.3.1 Description
The Acknowledgement of Event Notification is used by the AF to acknowledge the
NEF about handling result of the event notification (e.g. UP path change).
##### 5.4.2.3.2 Target URI
The Callback URI **\"{afAckUri}\"** shall be used with the callback URI
variables defined in table 5.4.2.3.2-1.
Table 5.4.2.3.2-1: Callback URI variables
* * *
Name Data type Definition afAckUri Link Callback reference provided by the NEF
during event notification within the EventNotification data type as defined in
Table 5.4.3.3.4-1.
* * *
##### 5.4.2.3.3 Operation Definition
###### 5.4.2.3.3.1 Notification via HTTP POST
This method shall support the request data structures specified in table
5.4.2.3.3.1-1 and the response data structures and response codes specified in
table 5.4.2.3.3.1-2.
Table 5.4.2.3.3.1-1: Data structures supported by the POST Request Body on
this resource
* * *
Data type P Cardinality Description AfAckInfo M 1 Acknowledgement information
of event notification.
* * *
Table 5.4.2.3.3.1-2: Data structures supported by the POST Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | N/A | | | 204 No | The | | | | | Content | ac | | | | | | knowledgement | | | | | | of event | | | | | | notification | | | | | | is received | | | | | | successfully. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 307 Temporary | Temporary | | | | | Redirect | redirection, | | | | | | during | | | | | | ac | | | | | | knowledgement | | | | | | of event | | | | | | notification. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI | | | | | | representing | | | | | | the end point | | | | | | of an | | | | | | alternative | | | | | | NEF where the | | | | | | notification | | | | | | should be | | | | | | sent. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | sub | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 308 Permanent | Permanent | | | | | Redirect | redirection, | | | | | | during | | | | | | ac | | | | | | knowledgement | | | | | | of event | | | | | | notification. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI | | | | | | representing | | | | | | the end point | | | | | | of an | | | | | | alternative | | | | | | NEF where the | | | | | | notification | | | | | | should be | | | | | | sent. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | sub | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the POST | | | | | | method listed | | | | | | in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.4.2.3.3.1-3: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI representing the end point of an alternative NEF towards which the
notification should be redirected.
* * *
Table 5.4.2.3.3.1-4: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI representing the end point of an alternative NEF towards which the
notification should be redirected.
* * *
### 5.4.3 Data Model
#### 5.4.3.1 General
This subclause specifies the application data model supported by the
TrafficInfluence API.
#### 5.4.3.2 Reused data types
The data types reused by the TrafficInfluence API from other specifications
are listed in table 5.4.3.2-1.
Table 5.4.3.2-1: Re-used Data Types
* * *
Data type Reference Comments Dnai 3GPP TS 29.571 [8] Identifies a DNAI.
DnaiChangeType 3GPP TS 29.571 [8] Describes the types of DNAI change. Dnn 3GPP
TS 29.571 [8] Identifies a DNN. EthFlowDescription 3GPP TS 29.514 [7] Contains
the Ethernet data flow information. (NOTE) ExternalGroupId 3GPP TS 29.122 [4]
External Group Identifier for a user group. FlowInfo 3GPP TS 29.122 [4]
Contains the IP data flow information. Gpsi 3GPP TS 29.571 [8] Identifies a
GPSI. Ipv4Addr 3GPP TS 29.122 [4] Identifies an IPv4 address. Ipv6Addr 3GPP TS
29.122 [4] Identifies an IPv6 address. Ipv6Prefix 3GPP TS 29.571 [8]
Identifies an IPv6 Prefix. Link 3GPP TS 29.122 [4] Identifies a referenced
resource. MacAddr48 3GPP TS 29.571 [8] Identifies a MAC address. Port 3GPP TS
29.122 [4] Identifies a port number. RouteToLocation 3GPP TS 29.571 [8]
Describes the traffic routes to the locations of the application. Snssai 3GPP
TS 29.571 [8] Identifies the S-NSSAI. SupportedFeatures 3GPP TS 29.571 [8]
Used to negotiate the applicability of the optional features defined in table
5.4.4-1. TemporalValidity 3GPP TS 29.514 [7] Indicates the time interval(s)
during which the AF request is to be applied WebsockNotifConfig 3GPP TS 29.122
[4] Contains the configuration parameters to set up notification delivery over
Websocket protocol. NOTE: In order to support a set of MAC addresses with a
specific range in the traffic filter, feature MacAddressRange as specified in
clause 5.4.4 shall be supported.
* * *
#### 5.4.3.3 Structured data types
##### 5.4.3.3.1 Introduction
This clause defines the structured data types to be used in resource
representations.
##### 5.4.3.3.2 Type: TrafficInfluSub
This type represents a traffic influence subscription. The same structure is
used in the subscription request and subscription response.
Table 5.4.3.3.2-1: Definition of type TrafficInfluSub
+-----------+-----------+---+-----------+-----------+-----------+ | Attribute | Data type | P | Ca | De | Appl | | name | | | rdinality | scription | icability | | | | | | | | | | | | | | (NOTE 1) | +-----------+-----------+---+-----------+-----------+-----------+ | af | string | O | 0..1 | I | | | ServiceId | | | | dentifies | | | | | | | a service | | | | | | | on behalf | | | | | | | of which | | | | | | | the AF is | | | | | | | issuing | | | | | | | the | | | | | | | request. | | +-----------+-----------+---+-----------+-----------+-----------+ | afAppId | string | O | 0..1 | I | | | | | | | dentifies | | | | | | | an | | | | | | | app | | | | | | | lication. | | | | | | | | | | | | | | (NOTE 3) | | +-----------+-----------+---+-----------+-----------+-----------+ | afTransId | string | O | 0..1 | I | | | | | | | dentifies | | | | | | | an NEF | | | | | | | N | | | | | | | orthbound | | | | | | | interface | | | | | | | tra | | | | | | | nsaction, | | | | | | | generated | | | | | | | by the | | | | | | | AF. | | +-----------+-----------+---+-----------+-----------+-----------+ | a | boolean | O | 0..1 | I | | | ppReloInd | | | | dentifies | | | | | | | whether | | | | | | | an | | | | | | | ap | | | | | | | plication | | | | | | | can be | | | | | | | relocated | | | | | | | once a | | | | | | | location | | | | | | | of the | | | | | | | ap | | | | | | | plication | | | | | | | has been | | | | | | | selected. | | | | | | | Set to | | | | | | | \"true\" | | | | | | | if it can | | | | | | | be | | | | | | | r | | | | | | | elocated; | | | | | | | otherwise | | | | | | | set to | | | | | | | \ | | | | | | | "false\". | | | | | | | Default | | | | | | | value is | | | | | | | \"false\" | | | | | | | if | | | | | | | omitted. | | +-----------+-----------+---+-----------+-----------+-----------+ | dnn | Dnn | O | 0..1 | I | | | | | | | dentifies | | | | | | | a DNN, a | | | | | | | full DNN | | | | | | | with both | | | | | | | the | | | | | | | Network | | | | | | | I | | | | | | | dentifier | | | | | | | and | | | | | | | Operator | | | | | | | Id | | | | | | | entifier, | | | | | | | or a DNN | | | | | | | with the | | | | | | | Network | | | | | | | I | | | | | | | dentifier | | | | | | | only. | | +-----------+-----------+---+-----------+-----------+-----------+ | snssai | Snssai | O | 0..1 | I | | | | | | | dentifies | | | | | | | an | | | | | | | S-NSSAI. | | +-----------+-----------+---+-----------+-----------+-----------+ | extern | Extern | O | 0..1 | I | | | alGroupId | alGroupId | | | dentifies | | | | | | | a group | | | | | | | of users. | | | | | | | | | | | | | | (NOTE 2) | | +-----------+-----------+---+-----------+-----------+-----------+ | anyUeInd | boolean | O | 0..1 | I | | | | | | | dentifies | | | | | | | whether | | | | | | | the AF | | | | | | | request | | | | | | | applies | | | | | | | to any UE | | | | | | | (i.e. all | | | | | | | UEs). | | | | | | | This | | | | | | | attribute | | | | | | | shall set | | | | | | | to | | | | | | | \"true\" | | | | | | | if | | | | | | | a | | | | | | | pplicable | | | | | | | for any | | | | | | | UE, | | | | | | | o | | | | | | | therwise, | | | | | | | set to | | | | | | | \ | | | | | | | "false\". | | | | | | | | | | | | | | (NOTE 2) | | +-----------+-----------+---+-----------+-----------+-----------+ | subscri | arra | O | 1..N | I | | | bedEvents | y(Subscri | | | dentifies | | | | bedEvent) | | | the | | | | | | | re | | | | | | | quirement | | | | | | | to be | | | | | | | notified | | | | | | | of the | | | | | | | event(s). | | +-----------+-----------+---+-----------+-----------+-----------+ | gpsi | Gpsi | O | 0..1 | I | | | | | | | dentifies | | | | | | | a user. | | | | | | | | | | | | | | (NOTE 2) | | +-----------+-----------+---+-----------+-----------+-----------+ | ipv4Addr | Ipv4Addr | O | 0..1 | I | | | | | | | dentifies | | | | | | | the IPv4 | | | | | | | address. | | | | | | | | | | | | | | (NOTE 2) | | +-----------+-----------+---+-----------+-----------+-----------+ | ipDomain | string | O | 0..1 | The IPv4 | | | | | | | address | | | | | | | domain | | | | | | | id | | | | | | | entifier. | | | | | | | | | | | | | | The | | | | | | | attribute | | | | | | | may only | | | | | | | be | | | | | | | provided | | | | | | | if the | | | | | | | ipv4Addr | | | | | | | attribute | | | | | | | is | | | | | | | present. | | +-----------+-----------+---+-----------+-----------+-----------+ | ipv6Addr | Ipv6Addr | O | 0..1 | I | | | | | | | dentifies | | | | | | | the IPv6 | | | | | | | address. | | | | | | | | | | | | | | (NOTE 2) | | +-----------+-----------+---+-----------+-----------+-----------+ | macAddr | MacAddr48 | O | 0..1 | I | | | | | | | dentifies | | | | | | | the MAC | | | | | | | address. | | | | | | | (NOTE 2) | | +-----------+-----------+---+-----------+-----------+-----------+ | dn | DnaiC | O | 0..1 | I | | | aiChgType | hangeType | | | dentifies | | | | | | | a type of | | | | | | | not | | | | | | | ification | | | | | | | regarding | | | | | | | UP path | | | | | | | m | | | | | | | anagement | | | | | | | event. | | +-----------+-----------+---+-----------+-----------+-----------+ | notif | Link | C | 0..1 | Contains | | | icationDe | | | | the | | | stination | | | | Callback | | | | | | | URL to | | | | | | | receive | | | | | | | the | | | | | | | not | | | | | | | ification | | | | | | | from the | | | | | | | NEF. | | | | | | | | | | | | | | It shall | | | | | | | be | | | | | | | present | | | | | | | if the | | | | | | | \" | | | | | | | subscribe | | | | | | | dEvents\" | | | | | | | is | | | | | | | present. | | +-----------+-----------+---+-----------+-----------+-----------+ | reque | boolean | O | 0..1 | Set to | Notific | | stTestNot | | | | true by | ation_te | | ification | | | | the AF to | st_event | | | | | | request | | | | | | | the NEF | | | | | | | to send a | | | | | | | test | | | | | | | not | | | | | | | ification | | | | | | | as | | | | | | | defined | | | | | | | in | | | | | | | subclaus | | | | | | | e 5.2.5.3 | | | | | | | of | | | | | | | 3GP | | | | | | | P TS 29.1 | | | | | | | 22 [4]. | | | | | | | Set to | | | | | | | false or | | | | | | | omitted | | | | | | | o | | | | | | | therwise. | | +-----------+-----------+---+-----------+-----------+-----------+ | websockNo | WebsockNo | O | 0..1 | Conf | Notif | | tifConfig | tifConfig | | | iguration | ication_ | | | | | | p | websocket | | | | | | arameters | | | | | | | to set up | | | | | | | not | | | | | | | ification | | | | | | | delivery | | | | | | | over | | | | | | | Websocket | | | | | | | protocol. | | +-----------+-----------+---+-----------+-----------+-----------+ | self | Link | C | 0..1 | Link to | | | | | | | the | | | | | | | created | | | | | | | resource. | | | | | | | | | | | | | | This | | | | | | | parameter | | | | | | | shall be | | | | | | | supplied | | | | | | | by the | | | | | | | NEF in | | | | | | | HTTP | | | | | | | responses | | | | | | | that | | | | | | | include | | | | | | | an object | | | | | | | of | | | | | | | Traffi | | | | | | | cInfluSub | | | | | | | type | | +-----------+-----------+---+-----------+-----------+-----------+ | traff | array( | O | 1..N | I | | | icFilters | FlowInfo) | | | dentifies | | | | | | | IP packet | | | | | | | filters. | | | | | | | | | | | | | | (NOTE 3) | | +-----------+-----------+---+-----------+-----------+-----------+ | ethTraff | array(E | O | 1..N | I | | | icFilters | thFlowDes | | | dentifies | | | | cription) | | | Ethernet | | | | | | | packet | | | | | | | filters. | | | | | | | | | | | | | | (NOTE 3) | | +-----------+-----------+---+-----------+-----------+-----------+ | traf | arra | O | 1..N | I | | | ficRoutes | y(RouteTo | | | dentifies | | | | Location) | | | the N6 | | | | | | | traffic | | | | | | | routing | | | | | | | req | | | | | | | uirement. | | +-----------+-----------+---+-----------+-----------+-----------+ | t | boolean | O | 0..1 | I | | | fcCorrInd | | | | ndication | | | | | | | of | | | | | | | traffic | | | | | | | cor | | | | | | | relation. | | | | | | | | | | | | | | May only | | | | | | | be | | | | | | | included | | | | | | | when | | | | | | | \ | | | | | | | "external | | | | | | | GroupId\" | | | | | | | attribute | | | | | | | was | | | | | | | included | | | | | | | within | | | | | | | the | | | | | | | Traffi | | | | | | | cInfluSub | | | | | | | data type | | | | | | | pr | | | | | | | eviously. | | | | | | | | | | | | | | It is | | | | | | | used to | | | | | | | indicate | | | | | | | that for | | | | | | | the group | | | | | | | of UEs, | | | | | | | the | | | | | | | targeted | | | | | | | PDU | | | | | | | sessions | | | | | | | should be | | | | | | | c | | | | | | | orrelated | | | | | | | by a | | | | | | | common | | | | | | | DNAI. | | | | | | | | | | | | | | Set to | | | | | | | \"true\" | | | | | | | if it | | | | | | | should be | | | | | | | co | | | | | | | rrelated; | | | | | | | otherwise | | | | | | | set to | | | | | | | \ | | | | | | | "false\". | | | | | | | Default | | | | | | | value is | | | | | | | \"false\" | | | | | | | if | | | | | | | omitted. | | +-----------+-----------+---+-----------+-----------+-----------+ | tempV | array | O | 0..N | Indicates | | | alidities | (Temporal | | | the time | | | | Validity) | | | in | | | | | | | terval(s) | | | | | | | during | | | | | | | which the | | | | | | | AF | | | | | | | request | | | | | | | is to be | | | | | | | applied. | | +-----------+-----------+---+-----------+-----------+-----------+ | validG | arra | O | 1..N | I | | | eoZoneIds | y(string) | | | dentifies | | | | | | | a | | | | | | | g | | | | | | | eographic | | | | | | | zone that | | | | | | | the AF | | | | | | | request | | | | | | | applies | | | | | | | only to | | | | | | | the | | | | | | | traffic | | | | | | | of UE(s) | | | | | | | located | | | | | | | in this | | | | | | | specific | | | | | | | zone. | | +-----------+-----------+---+-----------+-----------+-----------+ | afAckInd | boolean | O | 0..1 | I | URLLC | | | | | | dentifies | | | | | | | whether | | | | | | | the AF | | | | | | | acknow | | | | | | | ledgement | | | | | | | of UP | | | | | | | path | | | | | | | event | | | | | | | not | | | | | | | ification | | | | | | | is | | | | | | | expected. | | | | | | | | | | | | | | Set to | | | | | | | \"true\" | | | | | | | if the AF | | | | | | | ac | | | | | | | knowledge | | | | | | | is | | | | | | | expected; | | | | | | | otherwise | | | | | | | set to | | | | | | | \ | | | | | | | "false\". | | | | | | | | | | | | | | Default | | | | | | | value is | | | | | | | \"false\" | | | | | | | if | | | | | | | omitted. | | +-----------+-----------+---+-----------+-----------+-----------+ | addr | boolean | O | 0..1 | Indicates | URLLC | | PreserInd | | | | whether | | | | | | | UE IP | | | | | | | address | | | | | | | should be | | | | | | | p | | | | | | | reserved. | | | | | | | | | | | | | | This | | | | | | | attribute | | | | | | | shall set | | | | | | | to | | | | | | | \"true\" | | | | | | | if | | | | | | | p | | | | | | | reserved, | | | | | | | o | | | | | | | therwise, | | | | | | | set to | | | | | | | \ | | | | | | | "false\". | | | | | | | | | | | | | | Defalult | | | | | | | value is | | | | | | | \"false\" | | | | | | | if | | | | | | | omitted. | | +-----------+-----------+---+-----------+-----------+-----------+ | suppFeat | Supporte | C | 0..1 | Indicates | | | | dFeatures | | | the list | | | | | | | of | | | | | | | Supported | | | | | | | features | | | | | | | used as | | | | | | | described | | | | | | | in | | | | | | | subclau | | | | | | | se 5.4.4. | | | | | | | | | | | | | | This | | | | | | | attribute | | | | | | | shall be | | | | | | | provided | | | | | | | in the | | | | | | | POST | | | | | | | request | | | | | | | and in | | | | | | | the | | | | | | | response | | | | | | | of | | | | | | | s | | | | | | | uccessful | | | | | | | resource | | | | | | | creation. | | +-----------+-----------+---+-----------+-----------+-----------+ | NOTE 1: | | | | | | | P | | | | | | | roperties | | | | | | | marked | | | | | | | with a | | | | | | | feature | | | | | | | as | | | | | | | defined | | | | | | | in | | | | | | | subcla | | | | | | | use 5.4.4 | | | | | | | are | | | | | | | a | | | | | | | pplicable | | | | | | | as | | | | | | | described | | | | | | | in | | | | | | | subcla | | | | | | | use 5.2.7 | | | | | | | of | | | | | | | 3GP | | | | | | | P TS 29.1 | | | | | | | 22 [4]. | | | | | | | If no | | | | | | | feature | | | | | | | is | | | | | | | i | | | | | | | ndicated, | | | | | | | the | | | | | | | related | | | | | | | property | | | | | | | applies | | | | | | | for all | | | | | | | the | | | | | | | features. | | | | | | | | | | | | | | NOTE 2: | | | | | | | One of | | | | | | | i | | | | | | | ndividual | | | | | | | UE | | | | | | | i | | | | | | | dentifier | | | | | | | (i.e. | | | | | | | \"gpsi\", | | | | | | | " | | | | | | | macAddr", | | | | | | | \"i | | | | | | | pv4Addr\" | | | | | | | or | | | | | | | \"ipv | | | | | | | 6Addr\"), | | | | | | | External | | | | | | | Group | | | | | | | I | | | | | | | dentifier | | | | | | | (i.e. | | | | | | | \" | | | | | | | externalG | | | | | | | roupId\") | | | | | | | or any UE | | | | | | | i | | | | | | | ndication | | | | | | | \"a | | | | | | | nyUeInd\" | | | | | | | shall be | | | | | | | included. | | | | | | | | | | | | | | NOTE 3: | | | | | | | One of | | | | | | | \"a | | | | | | | fAppId\", | | | | | | | \"traffic | | | | | | | Filters\" | | | | | | | or | | | | | | | \"e | | | | | | | thTraffic | | | | | | | Filters\" | | | | | | | shall be | | | | | | | included. | | | | | | +-----------+-----------+---+-----------+-----------+-----------+
##### 5.4.3.3.3 Type: TrafficInfluSubPatch
This type represents a subscription of traffic influence parameters provided
by the AF to the NEF. The structure is used for HTTP PATCH request.
Table 5.4.3.3.3-1: Definition of type TrafficInfluSubPatch
+-----------+-----------+---+-----------+-----------+-----------+ | Attribute | Data type | P | Ca | De | Appl | | name | | | rdinality | scription | icability | +-----------+-----------+---+-----------+-----------+-----------+ | a | boolean | O | 0..1 | I | | | ppReloInd | | | | dentifies | | | | | | | whether | | | | | | | an | | | | | | | ap | | | | | | | plication | | | | | | | can be | | | | | | | relocated | | | | | | | once a | | | | | | | location | | | | | | | of the | | | | | | | ap | | | | | | | plication | | | | | | | has been | | | | | | | selected. | | | | | | | | | | | | | | (NOTE) | | +-----------+-----------+---+-----------+-----------+-----------+ | traff | array( | O | 1..N | I | | | icFilters | FlowInfo) | | | dentifies | | | | | | | IP packet | | | | | | | filters. | | +-----------+-----------+---+-----------+-----------+-----------+ | ethTraff | array(E | O | 1..N | I | | | icFilters | thFlowDes | | | dentifies | | | | cription) | | | Ethernet | | | | | | | packet | | | | | | | filters. | | +-----------+-----------+---+-----------+-----------+-----------+ | traf | arra | O | 1..N | I | | | ficRoutes | y(RouteTo | | | dentifies | | | | Location) | | | the N6 | | | | | | | traffic | | | | | | | routing | | | | | | | req | | | | | | | uirement. | | | | | | | | | | | | | | (NOTE) | | +-----------+-----------+---+-----------+-----------+-----------+ | t | boolean | O | 0..1 | I | | | fcCorrInd | | | | ndication | | | | | | | of | | | | | | | traffic | | | | | | | cor | | | | | | | relation. | | | | | | | | | | | | | | May only | | | | | | | be | | | | | | | included | | | | | | | when | | | | | | | \ | | | | | | | "external | | | | | | | GroupId\" | | | | | | | attribute | | | | | | | was | | | | | | | included | | | | | | | within | | | | | | | the | | | | | | | Traffi | | | | | | | cInfluSub | | | | | | | data type | | | | | | | pr | | | | | | | eviously. | | | | | | | | | | | | | | It is | | | | | | | used to | | | | | | | indicate | | | | | | | that for | | | | | | | the group | | | | | | | of UEs, | | | | | | | the | | | | | | | targeted | | | | | | | PDU | | | | | | | sessions | | | | | | | should be | | | | | | | c | | | | | | | orrelated | | | | | | | by a | | | | | | | common | | | | | | | DNAI. | | +-----------+-----------+---+-----------+-----------+-----------+ | tempV | array | O | 1..N | Indicates | | | alidities | (Temporal | | | the time | | | | Validity) | | | in | | | | | | | terval(s) | | | | | | | during | | | | | | | which the | | | | | | | AF | | | | | | | request | | | | | | | is to be | | | | | | | applied. | | | | | | | | | | | | | | (NOTE) | | +-----------+-----------+---+-----------+-----------+-----------+ | validG | arra | O | 1..N | I | | | eoZoneIds | y(string) | | | dentifies | | | | | | | a | | | | | | | g | | | | | | | eographic | | | | | | | zone that | | | | | | | the AF | | | | | | | request | | | | | | | applies | | | | | | | only to | | | | | | | the | | | | | | | traffic | | | | | | | of UE(s) | | | | | | | located | | | | | | | in this | | | | | | | specific | | | | | | | zone. | | | | | | | | | | | | | | (NOTE) | | +-----------+-----------+---+-----------+-----------+-----------+ | afAckInd | boolean | O | 0..1 | I | URLLC | | | | | | dentifies | | | | | | | whether | | | | | | | the AF | | | | | | | acknow | | | | | | | ledgement | | | | | | | of UP | | | | | | | path | | | | | | | event | | | | | | | not | | | | | | | ification | | | | | | | is | | | | | | | expected. | | +-----------+-----------+---+-----------+-----------+-----------+ | addr | boolean | O | 0..1 | Indicates | URLLC | | PreserInd | | | | whether | | | | | | | UE IP | | | | | | | address | | | | | | | should be | | | | | | | p | | | | | | | reserved. | | | | | | | | | | | | | | (NOTE) | | +-----------+-----------+---+-----------+-----------+-----------+ | NOTE: The | | | | | | | value of | | | | | | | the | | | | | | | property | | | | | | | shall be | | | | | | | set to | | | | | | | NULL for | | | | | | | removal. | | | | | | +-----------+-----------+---+-----------+-----------+-----------+
##### 5.4.3.3.4 Type: EventNotification
Table 5.4.3.3.4-1: Definition of type EventNotification
+-----------+-----------+---+-----------+-----------+-----------+ | Attribute | Data type | P | Ca | De | Appl | | name | | | rdinality | scription | icability | | | | | | | | | | | | | | (NOTE 1) | +-----------+-----------+---+-----------+-----------+-----------+ | afTransId | string | O | 0..1 | I | | | | | | | dentifies | | | | | | | an NEF | | | | | | | N | | | | | | | orthbound | | | | | | | interface | | | | | | | tra | | | | | | | nsaction, | | | | | | | generated | | | | | | | by the | | | | | | | AF. | | +-----------+-----------+---+-----------+-----------+-----------+ | dn | DnaiC | M | 1 | I | | | aiChgType | hangeType | | | dentifies | | | | | | | the type | | | | | | | of | | | | | | | not | | | | | | | ification | | | | | | | regarding | | | | | | | UP path | | | | | | | m | | | | | | | anagement | | | | | | | event. | | +-----------+-----------+---+-----------+-----------+-----------+ | sourceTra | RouteT | O | 0..1 | I | | | fficRoute | oLocation | | | dentifies | | | | | | | the N6 | | | | | | | traffic | | | | | | | routing | | | | | | | in | | | | | | | formation | | | | | | | a | | | | | | | ssociated | | | | | | | to the | | | | | | | source | | | | | | | DNAI. | | | | | | | | | | | | | | May be | | | | | | | present | | | | | | | if the | | | | | | | \ | | | | | | | "subscrib | | | | | | | edEvent\" | | | | | | | sets to | | | | | | | \"U | | | | | | | P_PATH_ | | | | | | | CHANGE\". | | | | | | | (NOTE 3) | | +-----------+-----------+---+-----------+-----------+-----------+ | subscr | Subscr | M | 1 | I | | | ibedEvent | ibedEvent | | | dentifies | | | | | | | a UP path | | | | | | | m | | | | | | | anagement | | | | | | | event the | | | | | | | AF | | | | | | | requested | | | | | | | to be | | | | | | | notified | | | | | | | of. | | +-----------+-----------+---+-----------+-----------+-----------+ | targetTra | RouteT | O | 0..1 | I | | | fficRoute | oLocation | | | dentifies | | | | | | | the N6 | | | | | | | traffic | | | | | | | routing | | | | | | | in | | | | | | | formation | | | | | | | a | | | | | | | ssociated | | | | | | | to the | | | | | | | target | | | | | | | DNAI. | | | | | | | | | | | | | | May be | | | | | | | present | | | | | | | if the | | | | | | | \ | | | | | | | "subscrib | | | | | | | edEvent\" | | | | | | | sets to | | | | | | | \"U | | | | | | | P_PATH_ | | | | | | | CHANGE\". | | | | | | | (NOTE 3) | | +-----------+-----------+---+-----------+-----------+-----------+ | s | Dnai | O | 0..1 | Source DN | | | ourceDnai | | | | Access | | | | | | | Id | | | | | | | entifier. | | | | | | | Shall be | | | | | | | included | | | | | | | for event | | | | | | | \" | | | | | | | UP_PATH\ | | | | | | | _CHANGE\" | | | | | | | if the | | | | | | | DNAI | | | | | | | changed | | | | | | | (NOTE 2, | | | | | | | NOTE 3). | | +-----------+-----------+---+-----------+-----------+-----------+ | t | Dnai | O | 0..1 | Target DN | | | argetDnai | | | | Access | | | | | | | Id | | | | | | | entifier. | | | | | | | Shall be | | | | | | | included | | | | | | | for event | | | | | | | \" | | | | | | | UP_PATH\ | | | | | | | _CHANGE\" | | | | | | | if the | | | | | | | DNAI | | | | | | | changed | | | | | | | (NOTE 2, | | | | | | | NOTE 3). | | +-----------+-----------+---+-----------+-----------+-----------+ | gpsi | Gpsi | O | 0..1 | I | | | | | | | dentifies | | | | | | | a user. | | +-----------+-----------+---+-----------+-----------+-----------+ | srcU | Ipv4Addr | O | 0..1 | The IPv4 | | | eIpv4Addr | | | | Address | | | | | | | of the | | | | | | | served UE | | | | | | | for the | | | | | | | source | | | | | | | DNAI. | | +-----------+-----------+---+-----------+-----------+-----------+ | srcUeI | I | O | 0..1 | The Ipv6 | | | pv6Prefix | pv6Prefix | | | Address | | | | | | | Prefix of | | | | | | | the | | | | | | | served UE | | | | | | | for the | | | | | | | source | | | | | | | DNAI. | | +-----------+-----------+---+-----------+-----------+-----------+ | tgtU | Ipv4Addr | O | 0..1 | The IPv4 | | | eIpv4Addr | | | | Address | | | | | | | of the | | | | | | | served UE | | | | | | | for the | | | | | | | target | | | | | | | DNAI. | | +-----------+-----------+---+-----------+-----------+-----------+ | tgtUeI | I | O | 0..1 | The Ipv6 | | | pv6Prefix | pv6Prefix | | | Address | | | | | | | Prefix of | | | | | | | the | | | | | | | served UE | | | | | | | for the | | | | | | | target | | | | | | | DNAI. | | +-----------+-----------+---+-----------+-----------+-----------+ | ueMac | MacAddr48 | O | 0..1 | UE MAC | | | | | | | address | | | | | | | of the | | | | | | | served | | | | | | | UE. | | +-----------+-----------+---+-----------+-----------+-----------+ | afAckUri | Link | O | 0..1 | The URI | URLLC | | | | | | provided | | | | | | | by the | | | | | | | NEF for | | | | | | | the AF | | | | | | | acknowl | | | | | | | edgement. | | | | | | | | | | | | | | May only | | | | | | | be | | | | | | | included | | | | | | | for event | | | | | | | \"U | | | | | | | P_PATH_ | | | | | | | CHANGE\". | | +-----------+-----------+---+-----------+-----------+-----------+ | NOTE 1: | | | | | | | P | | | | | | | roperties | | | | | | | marked | | | | | | | with a | | | | | | | feature | | | | | | | as | | | | | | | defined | | | | | | | in | | | | | | | subcla | | | | | | | use 5.4.4 | | | | | | | are | | | | | | | a | | | | | | | pplicable | | | | | | | as | | | | | | | described | | | | | | | in | | | | | | | subcla | | | | | | | use 5.2.7 | | | | | | | of | | | | | | | 3GP | | | | | | | P TS 29.1 | | | | | | | 22 [4]. | | | | | | | If no | | | | | | | feature | | | | | | | is | | | | | | | i | | | | | | | ndicated, | | | | | | | the | | | | | | | related | | | | | | | property | | | | | | | applies | | | | | | | for all | | | | | | | the | | | | | | | features. | | | | | | | | | | | | | | NOTE 2: | | | | | | | If the | | | | | | | DNAI is | | | | | | | not | | | | | | | changed | | | | | | | while the | | | | | | | N6 | | | | | | | traffic | | | | | | | routing | | | | | | | in | | | | | | | formation | | | | | | | is | | | | | | | changed, | | | | | | | the | | | | | | | \"sou | | | | | | | rceDnai\" | | | | | | | attribute | | | | | | | and | | | | | | | \"tar | | | | | | | getDnai\" | | | | | | | attribute | | | | | | | shall not | | | | | | | be | | | | | | | provided. | | | | | | | | | | | | | | NOTE 3: | | | | | | | The | | | | | | | change | | | | | | | from the | | | | | | | UP path | | | | | | | status | | | | | | | where no | | | | | | | DNAI | | | | | | | applies | | | | | | | to a | | | | | | | status | | | | | | | where a | | | | | | | DNAI | | | | | | | applies | | | | | | | indicates | | | | | | | the | | | | | | | a | | | | | | | ctivation | | | | | | | of the | | | | | | | related | | | | | | | AF | | | | | | | request | | | | | | | and | | | | | | | therefore | | | | | | | only the | | | | | | | target | | | | | | | DNAI and | | | | | | | N6 | | | | | | | traffic | | | | | | | routing | | | | | | | in | | | | | | | formation | | | | | | | is | | | | | | | provided | | | | | | | in the | | | | | | | event | | | | | | | noti | | | | | | | fication; | | | | | | | the | | | | | | | change | | | | | | | from the | | | | | | | UP path | | | | | | | status | | | | | | | where a | | | | | | | DNAI | | | | | | | applies | | | | | | | to a | | | | | | | status | | | | | | | where no | | | | | | | DNAI | | | | | | | applies | | | | | | | indicates | | | | | | | the | | | | | | | de-a | | | | | | | ctivation | | | | | | | of the | | | | | | | related | | | | | | | AF | | | | | | | request | | | | | | | and | | | | | | | therefore | | | | | | | only the | | | | | | | source | | | | | | | DNAI and | | | | | | | N6 | | | | | | | traffic | | | | | | | routing | | | | | | | in | | | | | | | formation | | | | | | | is | | | | | | | provided | | | | | | | in the | | | | | | | event | | | | | | | noti | | | | | | | fication. | | | | | | +-----------+-----------+---+-----------+-----------+-----------+
##### 5.4.3.3.5 Type: AfResultInfo
Table 5.4.3.3.5-1: Definition of type AfResultInfo
+---------------+---------------+---+-------------+---------------+ | Attribute | Data type | P | Cardinality | Description | | name | | | | | +---------------+---------------+---+-------------+---------------+ | afStatus | A | M | 1 | Identifies | | | fResultStatus | | | the result of | | | | | | the | | | | | | application | | | | | | relocation. | +---------------+---------------+---+-------------+---------------+ | trafficRoute | Ro | O | 0..1 | Identifies | | | uteToLocation | | | the N6 | | | | | | traffic | | | | | | routing | | | | | | information | | | | | | associated to | | | | | | the target | | | | | | DNAI. | | | | | | | | | | | | May only be | | | | | | present if | | | | | | the | | | | | | \"afStatus\" | | | | | | sets to | | | | | | \"SUCCESS\". | +---------------+---------------+---+-------------+---------------+
##### 5.4.3.3.6 Type AfAckInfo
Table 5.4.3.3.6-1: Definition of type AfAckInfo
* * *
Attribute name Data type P Cardinality Description Applicability afTransId
string C 0..1 Identifies an NEF Northbound interface transaction, generated by
the AF. It shall be provided if the AF has previously provided it.  
ackResult AfResultInfo M 1 Identifies the result of application layer
handling.  
gpsi Gpsi O 0..1 Identifies a GPSI.
* * *
#### 5.4.3.4 Simple data types and enumerations
##### 5.4.3.4.1 Introduction
This subclause defines simple data types and enumerations that can be
referenced from data structures defined in the previous subclauses.
##### 5.4.3.4.2 Simple data types
The simple data types defined in table 5.4.3.4.2-1 shall be supported.
Table 5.4.3.4.2-1: Simple data types
* * *
Type Name Type Definition Description Applicability
* * *
##### 5.4.3.4.3 Enumeration: SubscribedEvent
The enumeration SubscribedEvent represents the type of UP patch management
events of which the AF requests to be notified. It shall comply with the
provisions defined in table 5.4.3.4.3-1.
Table 5.4.3.4.3-1: Enumeration SubscribedEvent
* * *
Enumeration value Description UP_PATH_CHANGE The AF requests to be notified
when the UP path changes for the PDU session.
* * *
##### 5.4.3.4.4 Enumeration: AfResultStatus
The enumeration AfResultStatus represents the status of application handling
result. It shall comply with the provisions defined in table 5.4.3.4.4-1.
Table 5.4.3.4.4-1: Enumeration AfResultStatus
* * *
Enumeration value Description SUCCESS The application layer is ready or the
relocation is completed. TEMP_CONGESTION The application relocation fails due
to temporary congestion. RELOC_NO_ALLOWED The application relocation fails
because application relocation is not allowed. OTHER The application
relocation fails due to other reason.
* * *
### 5.4.4 Used Features
The table below defines the features applicable to the TrafficInfluence API.
Those features are negotiated as described in subclause 5.2.7 of 3GPP TS
29.122 [4].
Table 5.4.4-1: Features used by TrafficInfluence API
+----------------------+----------------------+----------------------+ | Feature number | Feature Name | Description | +----------------------+----------------------+----------------------+ | 1 | Not | The delivery of | | | ification_websocket | notifications over | | | | Websocket is | | | | supported as | | | | described in | | | | 3 | | | | GPP TS 29.122 [4]. | | | | This feature | | | | requires that the | | | | Notif | | | | ication_test_event | | | | feature is also | | | | supported. | +----------------------+----------------------+----------------------+ | 2 | Notif | The testing of | | | ication_test_event | notification | | | | connection is | | | | supported as | | | | described in | | | | 3 | | | | GPP TS 29.122 [4]. | +----------------------+----------------------+----------------------+ | 3 | URLLC | This feature | | | | indicates support of | | | | Ultra Reliable Low | | | | Latency | | | | Communication | | | | (URLLC) requirements | | | | (i.e. AF application | | | | relocation | | | | acknowledgement and | | | | UE address(es) | | | | preservation). | +----------------------+----------------------+----------------------+ | 4 | MacAddressRange | Indicates the | | | | support of a set of | | | | MAC addresses with a | | | | specific range in | | | | the traffic filter. | +----------------------+----------------------+----------------------+ | Feature: A short | | | | name that can be | | | | used to refer to the | | | | bit and to the | | | | feature, e.g. | | | | \"Notification\". | | | | | | | | Description: A clear | | | | textual description | | | | of the feature. | | | +----------------------+----------------------+----------------------+
## 5.5 NiddConfigurationTrigger API
### 5.5.1 Resources
There is no resource defined for this API.
### 5.5.2 Notifications
#### 5.5.2.1 Introduction
Upon receipt of a NIDD connection establishment request from the SMF and there
is no NIDD configuration for the UE, the NEF may send an HTTP POST message in
order to trigger the AF to start the NIDD configuration procedure as described
in subclause 5.6.3.2.3.4 of 3GPP TS 29.122 [4].
Table 5.5.2.1-1: Notifications overview
+----------------+----------------+----------------+----------------+ | Notification | Callback URI | HTTP method or | Description | | | | custom | | | | | operation | (service | | | | | operation) | +----------------+----------------+----------------+----------------+ | Event | {no | POST | Request for | | Notification | tificationUri} | | the NIDD | | | | | Configuration | | | | | Trigger | +----------------+----------------+----------------+----------------+
#### 5.5.2.2 Event Notification
The Callback URI **\"{notificationUri}\"** shall be used with the callback URI
variables defined in table 5.5.2.2-1.
Table 5.5.2.2-1: Callback URI variables
+-----------------+-----------+--------------------------------------+ | Name | Data type | Definition | +-----------------+-----------+--------------------------------------+ | notificationUri | Link | A URI indicating the notification | | | | destination where N33 notification | | | | requests shall be delivered to. | | | | | | | | This URI shall be preconfigured in | | | | the NEF. | +-----------------+-----------+--------------------------------------+
#### 5.5.2.3 Operation Definition
##### 5.5.2.3.1 Notification via HTTP POST
This method shall support the request data structures specified in table
5.5.2.3.1-1 and the response data structures and response codes specified in
table 5.5.2.3.1-2.
Table 5.5.2.3.1-1: Data structures supported by the POST Request Body on this
resource
* * *
Data type P Cardinality Description NiddConfigurationTrigger M 1 The NIDD
Configuration Trigger is provided by the NEF to the AF.
* * *
Table 5.5.2.3.1-2: Data structures supported by the POST Response Body on this
resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | Nid | M | 1 | 200 OK | The trigger | | dConfiguratio | | | | is received | | nTriggerReply | | | | successfully. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 307 Temporary | Temporary | | | | | Redirect | redirection, | | | | | | during | | | | | | Configuration | | | | | | Trigger. The | | | | | | response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI | | | | | | representing | | | | | | the end point | | | | | | of an | | | | | | alternative | | | | | | AF where the | | | | | | notification | | | | | | should be | | | | | | sent. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | sub | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 308 Permanent | Permanent | | | | | Redirect | redirection, | | | | | | during | | | | | | Configuration | | | | | | Trigger. The | | | | | | response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI | | | | | | representing | | | | | | the end point | | | | | | of an | | | | | | alternative | | | | | | AF where the | | | | | | notification | | | | | | should be | | | | | | sent. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | sub | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the POST | | | | | | method listed | | | | | | in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.5.2.3.1-3: Headers supported by the 307 Response Code on this resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI representing the end point of an alternative AF towards which the
notification should be redirected.
* * *
Table 5.5.2.3.1-3: Headers supported by the 308 Response Code on this resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI representing the end point of an alternative AF towards which the
notification should be redirected.
* * *
##### 5.5.2.3.2 Notification via Websocket
Not specified in the present specification.
### 5.5.3 Data Model
#### 5.5.3.1 General
This subclause specifies the application data model supported by the
NiddConfigurationTrigger API.
#### 5.5.3.2 Reused data types
The data types reused by the NiddConfigurationTrigger API from other
specifications are listed in table 5.5.3.2-1.
Table 5.5.3.2-1: Re-used Data Types
* * *
Data type Reference Comments Gpsi 3GPP TS 29.571 [8] Identifies a GPSI.
SupportedFeatures 3GPP TS 29.571 [8] Used to negotiate the applicability of
the optional features defined in table 5.5.4-1.
* * *
#### 5.5.3.3 Structured data types
##### 5.5.3.3.1 Introduction
This clause defines the structured data types to be used in resource
representations.
##### 5.5.3.3.2 Type: NiddConfigurationTrigger
This type represents a NIDD configuration trigger which is sent from the NEF
to the AF.
Table 5.5.3.3.2-1: Definition of type NiddConfigurationTrigger
+-----------+-----------+---+-----------+-----------+-----------+ | Attribute | Data type | P | Ca | De | Appl | | name | | | rdinality | scription | icability | | | | | | | | | | | | | | (NOTE) | +-----------+-----------+---+-----------+-----------+-----------+ | afId | string | M | 1 | I | | | | | | | dentifies | | | | | | | the | | | | | | | trigger | | | | | | | receiving | | | | | | | entity. | | +-----------+-----------+---+-----------+-----------+-----------+ | nefId | string | M | 1 | I | | | | | | | dentifies | | | | | | | the | | | | | | | trigger | | | | | | | sending | | | | | | | entity. | | +-----------+-----------+---+-----------+-----------+-----------+ | gpsi | Gpsi | M | 1 | I | | | | | | | dentifies | | | | | | | a user. | | +-----------+-----------+---+-----------+-----------+-----------+ | suppFeat | Supporte | M | 1 | Indicates | | | | dFeatures | | | the list | | | | | | | of | | | | | | | Supported | | | | | | | features | | | | | | | used as | | | | | | | described | | | | | | | in | | | | | | | subclau | | | | | | | se 5.5.4. | | +-----------+-----------+---+-----------+-----------+-----------+ | NOTE: | | | | | | | P | | | | | | | roperties | | | | | | | marked | | | | | | | with a | | | | | | | feature | | | | | | | as | | | | | | | defined | | | | | | | in | | | | | | | subcla | | | | | | | use 5.5.4 | | | | | | | are | | | | | | | a | | | | | | | pplicable | | | | | | | as | | | | | | | described | | | | | | | in | | | | | | | subcla | | | | | | | use 5.2.7 | | | | | | | of | | | | | | | 3GP | | | | | | | P TS 29.1 | | | | | | | 22 [4]. | | | | | | | If no | | | | | | | feature | | | | | | | is | | | | | | | i | | | | | | | ndicated, | | | | | | | the | | | | | | | related | | | | | | | property | | | | | | | applies | | | | | | | for all | | | | | | | the | | | | | | | features. | | | | | | +-----------+-----------+---+-----------+-----------+-----------+
##### 5.5.3.3.3 Type: NiddConfigurationTriggerReply
This data type represents a reply to a NIDD configuration trigger and is sent
from the AF to the NEF.
Table 5.15.2.1.3-1: Definition of type NiddConfigurationTriggerReply
+-----------+-----------+---+-----------+-----------+-----------+ | Attribute | Data type | P | Ca | De | Appl | | name | | | rdinality | scription | icability | | | | | | | | | | | | | | (NOTE) | +-----------+-----------+---+-----------+-----------+-----------+ | suppFeat | Supporte | M | 1 | Indicates | | | | dFeatures | | | the list | | | | | | | of | | | | | | | Supported | | | | | | | features | | | | | | | used as | | | | | | | described | | | | | | | in | | | | | | | subclau | | | | | | | se 5.5.4. | | +-----------+-----------+---+-----------+-----------+-----------+ | NOTE: | | | | | | | P | | | | | | | roperties | | | | | | | marked | | | | | | | with a | | | | | | | feature | | | | | | | as | | | | | | | defined | | | | | | | in | | | | | | | subcla | | | | | | | use 5.5.4 | | | | | | | are | | | | | | | a | | | | | | | pplicable | | | | | | | as | | | | | | | described | | | | | | | in | | | | | | | subcla | | | | | | | use 5.2.7 | | | | | | | of | | | | | | | 3GP | | | | | | | P TS 29.1 | | | | | | | 22 [4]. | | | | | | | If no | | | | | | | feature | | | | | | | is | | | | | | | i | | | | | | | ndicated, | | | | | | | the | | | | | | | related | | | | | | | property | | | | | | | applies | | | | | | | for all | | | | | | | the | | | | | | | features. | | | | | | +-----------+-----------+---+-----------+-----------+-----------+
#### 5.5.3.4 Simple data types and enumerations
##### 5.5.3.4.1 Introduction
This subclause defines simple data types and enumerations that can be
referenced from data structures defined in the previous subclauses.
##### 5.5.3.4.2 Simple data types
The simple data types defined in table 5.5.3.4.2-1 shall be supported.
Table 5.5.3.4.2-1: Simple data types
* * *
Type Name Type Definition Description Applicability
* * *
### 5.5.4 Used Features
The table below defines the features applicable to the
NiddConfigurationTrigger API. Those features are negotiated as described in
subclause 5.2.7 of 3GPP TS 29.122 [4].
Table 5.5.4-1: Features used by NiddConfigurationTrigger API
* * *
Feature number Feature Name Description
* * *
## 5.6 AnalyticsExposure API
### 5.6.1 Resources
#### 5.6.1.1 Overview
All resource URIs of this API should have the following root:
**{apiRoot}/3gpp-analyticsexposure/v1/**
\"apiRoot\" is set as described in subclause 5.2.4 in 3GPP TS 29.122 [4].
\"apiName\" shall be set to \"3gpp-analyticsexposure\" and \"apiVersion\"
shall be set to \"v1\" for the current version defined in the present
document. All resource URIs in the subclauses below are defined relative to
the above root URI.
This subclause describes the structure for the Resource URIs as shown in
figure 5.6.1.1-1 and the resources and HTTP methods used for the
AnalyticsExposure API.
Figure 5.6.1.1-1: Resource URI structure of the AnalyticsExposure API
Table 5.6.1.1-1 provides an overview of the resources and HTTP methods
applicable for the AnalyticsExposure API.
Table 5.6.1.1-1: Resources and methods overview
* * *
Resource name Resource URI HTTP method Description Analytics Exposure
Subscriptions /{afId}/subscriptions GET Read all subscriptions for a given AF
POST Create a new subscription to analytics exposure Individual Analytics
Exposure Subscription /{afId}/subscriptions /{subscriptionId} GET Read a
subscription to analytics exposure PUT Modify all of the properties of an
existing subscription to analytics exposure DELETE Delete a subscription to
analytics exposure
* * *
#### 5.6.1.2 Resource: Analytics Exposure Subscriptions
##### 5.6.1.2.1 Introduction
This resource allows a AF to read all active analytics exposure subscribtions
for the given AF, or allows a AF to create a new subscription to retrieve
analytics information.
##### 5.6.1.2.2 Resource Definition
Resource URI: **{apiRoot}/3gpp-analyticsexposure/v1/{afId}/subscriptions**
This resource shall support the resource URI variables defined in table
5.6.1.2.2-1.
Table 5.6.1.2.2-1: Resource URI variables for this resource
* * *
Name Data type Definition apiRoot string Subclause 5.2.4 of 3GPP TS 29.122
[4]. afId string Identifier of the AF.
* * *
##### 5.6.1.2.3 Resource Methods
###### 5.6.1.2.3.1 General
The following subclauses specify the resource methods supported by the
resource as described in subclause 5.6.1.2.2.
###### 5.6.1.2.3.2 GET
The GET method allows to read all active subscriptions for a given AF. The AF
shall initiate the HTTP GET request message and the NEF shall respond to the
message.
This method shall support the URI query parameters specified in table
5.6.1.2.3.2-1.
Table 5.6.1.2.3.2-1: URI query parameters supported by the GET method on this
resource
* * *
Name Data type P Cardinality Description supp-feat SupportedFeatures O 0..1
The features supported by the NF service consumer.
* * *
This method shall support the request data structures specified in table
5.6.1.2.3.2-2 and the response data structures and response codes specified in
table 5.6.1.2.3.2-3.
Table 5.6.1.2.3.2-2: Data structures supported by the GET Request Body on this
resource
* * *
Data type P Cardinality Description N/A
* * *
Table 5.6.1.2.3.2-3: Data structures supported by the GET Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | arr | M | 0..N | 200 OK | The | | ay(AnalyticsE | | | | subscription | | xposureSubsc) | | | | information | | | | | | for the AF in | | | | | | the request | | | | | | URI are | | | | | | returned. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 307 Temporary | Temporary | | | | | Redirect | redirection, | | | | | | during | | | | | | subscription | | | | | | retrieval. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | sub | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 308 Permanent | Permanent | | | | | Redirect | redirection, | | | | | | during | | | | | | subscription | | | | | | retrieval. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | sub | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the GET | | | | | | method listed | | | | | | in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.6.1.2.3.2-4: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
Table 5.6.1.2.3.2-5: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
###### 5.6.1.2.3.3 POST
The POST method creates a new subscription resource to analytics exposure
subscription for a given AF. The AF shall initiate the HTTP POST request
message and the NEF shall respond to the message. The NEF shall construct the
URI of the created resource.
This method shall support the request data structures specified in table
5.6.1.2.3.3-1 and the response data structures and response codes specified in
table 5.6.1.2.3.3-2.
Table 5.6.1.2.3.3-1: Data structures supported by the POST Request Body on
this resource
* * *
Data type P Cardinality Description AnalyticsExposureSubsc M 1 Parameters to
request a subscription to retrieve analytics information with the NEF.
* * *
Table 5.6.1.2.3.3-2: Data structures supported by the POST Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | Analytics | M | 1 | 201 Created | The | | ExposureSubsc | | | | subscription | | | | | | was created | | | | | | successfully. | | | | | | | | | | | | The URI of | | | | | | the created | | | | | | resource | | | | | | shall be | | | | | | returned in | | | | | | the | | | | | | \"Location\" | | | | | | HTTP header. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the POST | | | | | | method listed | | | | | | in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.6.1.2.3.3-3: Headers supported by the 201 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 Contains the URI
of the newly created resource, according to the structure: {apiRoot}/3gpp-
analyticsexposure/v1/{afId}/subscriptions/{subscriptionId}
* * *
#### 5.6.1.3 Resource: Individual Analytics Exposure Subscription
##### 5.6.1.3.1 Introduction
This resource allows a AF to read/modify/cancel a subscription to retrieve
analytics information with the NEF.
##### 5.6.1.3.2 Resource Definition
Resource URI: **{apiRoot}/3gpp-
analyticsexposure/v1/{afId}/subscriptions/{subscriptionId}**
This resource shall support the resource URI variables defined in table
5.6.1.3.2-1.
Table 5.6.1.3.2-1: Resource URI variables for this resource
* * *
Name Data type Definition apiRoot string Subclause 5.2.4 of 3GPP TS 29.122
[4]. afId string Identifier of the AF. subscriptionId string Identifier of the
subscription resource.
* * *
##### 5.6.1.3.3 Resource Methods
###### 5.6.1.3.3.1 General
The following subclauses specify the resource methods supported by the
resource as described in subclause 5.6.1.3.2.
###### 5.6.1.3.3.2 GET
The GET method allows to read the active subscription for a given AF and
subscription Id. The AF shall initiate the HTTP GET request message and theNEF
shall respond to the message.
This method shall support the URI query parameters specified in table
5.6.1.3.3.2-1.
Table 5.6.1.3.3.2-1: URI query parameters supported by the GET method on this
resource
* * *
Name Data type P Cardinality Description supp-feat SupportedFeatures O 0..1
The features supported by the NF service consumer.
* * *
This method shall support the request data structures specified in table
5.6.1.3.3.2-2 and the response data structures and response codes specified in
table 5.6.1.3.3.2-3.
Table 5.6.1.3.3.2-2: Data structures supported by the GET Request Body on this
resource
* * *
Data type P Cardinality Description N/A
* * *
Table 5.6.1.3.3.2-3: Data structures supported by the GET Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | Analytics | M | 1 | 200 OK | The | | ExposureSubsc | | | | subscription | | | | | | information | | | | | | for the AF in | | | | | | the request | | | | | | URI are | | | | | | returned. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 307 Temporary | Temporary | | | | | Redirect | redirection, | | | | | | during | | | | | | subscription | | | | | | retrieval. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | sub | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 308 Permanent | Permanent | | | | | Redirect | redirection, | | | | | | during | | | | | | subscription | | | | | | retrieval. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | sub | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the GET | | | | | | method listed | | | | | | in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.6.1.3.3.2-4: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
Table 5.6.1.3.3.2-5: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
###### 5.6.1.3.3.3 PUT
The PUT method modifies an existing subscription resource to update a
subscription. The AF shall initiate the HTTP PUT request message and the NEF
shall respond to the message.
This method shall support the request data structures specified in table
5.6.1.3.3.3-1 and the response data structures and response codes specified in
table 5.6.1.3.3.3-2.
Table 5.6.1.3.3.3-1: Data structures supported by the PUT Request Body on this
resource
* * *
Data type P Cardinality Description AnalyticsExposureSubsc M 1 Modify an
existing subscription to retrieve analytics information with the NEF.
* * *
Table 5.6.1.3.3.3-2: Data structures supported by the PUT Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | Analytics | M | 1 | 200 OK | The | | ExposureSubsc | | | | subscription | | | | | | was updated | | | | | | successfully. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 204 No | The | | | | | Content | subscription | | | | | | was updated | | | | | | successfully. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 307 Temporary | Temporary | | | | | Redirect | redirection, | | | | | | during | | | | | | subscription | | | | | | modification. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | sub | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 308 Permanent | Permanent | | | | | Redirect | redirection, | | | | | | during | | | | | | subscription | | | | | | modification. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | sub | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the PUT | | | | | | method listed | | | | | | in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.6.1.3.3.3-3: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
Table 5.6.1.3.3.3-4: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
###### 5.6.1.3.3.4 DELETE
The DELETE method deletes the analytics exposure subscription for a given AF.
The AF shall initiate the HTTP DELETE request message and the NEF shall
respond to the message.
This method shall support the URI query parameters specified in table
5.6.1.3.3.4-1.
Table 5.6.1.3.3.4-1: URI query parameters supported by the DELETE method on
this resource
* * *
Name Data type P Cardinality Description N/A
* * *
This method shall support the request data structures specified in table
5.6.1.3.3.4-2 and the response data structures and response codes specified in
table 5.6.1.3.3.4-3.
Table 5.6.1.3.3.4-2: Data structures supported by the DELETE Request Body on
this resource
* * *
Data type P Cardinality Description N/A
* * *
Table 5.6.1.3.3.4-3: Data structures supported by the DELETE Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | N/A | | | 204 No | The | | | | | Content | subscription | | | | | | was | | | | | | terminated | | | | | | successfully. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 307 Temporary | Temporary | | | | | Redirect | redirection, | | | | | | during | | | | | | subscription | | | | | | termination. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | sub | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 308 Permanent | Permanent | | | | | Redirect | redirection, | | | | | | during | | | | | | subscription | | | | | | termination. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | sub | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the | | | | | | DELETE method | | | | | | listed in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.6.1.3.3.4-4: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
Table 5.6.1.3.3.4-5: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
### 5.6.1a Custom Operations without associated resources
#### 5.6.1a.1 Overview
Custom operations used for this API are summarized in table 5.6.1a.1-1.
\"apiRoot\" is set as described in subclause 5.2.4 of 3GPP TS 29.122 [4].
Table 5.6.1a.1-1: Custom operations without associated resources
* * *
Operation name Custom operation URI Mapped HTTP method Description fetch
{apiRoot}/3gpp-analyticsexposure/v1/{afId}/fetch POST Request to fetch
analytics information
* * *
#### 5.6.1a.2 Operation: fetch
##### 5.6.1a.2.1 Description
The custom operation allows a service consumer to fetch analytics information
via the NEF.
##### 5.6.1a.2.2 Operation Definition
This operation shall support the response data structures and response codes
specified in tables 5.6.1a.2.2-1 and 5.6.1a.2.2-2.
Table 5.6.1a.2.2-1: Data structures supported by the POST Request Body on this
resource
* * *
Data type P Cardinality Description AnalyticsRequest M 1 Parameters to request
to fetch analytics information.
* * *
Table 5.6.1a.2.2-2: Data structures supported by the POST Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | AnalyticsData | M | 1 | 200 OK | The requested | | | | | | analytics | | | | | | information | | | | | | was returned | | | | | | successfully. | +---------------+---+-------------+---------------+---------------+ | n/a | | | 204 No | If the | | | | | Content | request | | | | | | Analytics | | | | | | data does not | | | | | | exist, the | | | | | | NEF shall | | | | | | respond with | | | | | | \"204 No | | | | | | Content\". | +---------------+---+-------------+---------------+---------------+ | N/A | | | 307 Temporary | Temporary | | | | | Redirect | redirection, | | | | | | during | | | | | | analytics | | | | | | information | | | | | | retrieval. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | sub | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 308 Permanent | Permanent | | | | | Redirect | redirection, | | | | | | during | | | | | | analytics | | | | | | information | | | | | | retrieval. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | sub | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | manadatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the POST | | | | | | method listed | | | | | | in Table | | | | | | 5.2.6-1 of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.6.1a.2.2-3: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
Table 5.6.1a.2.2-4: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
### 5.6.2 Notifications
#### 5.6.2.1 Introduction
Upon receipt of analytics information notification from the NWDAF indicating
the subscribed analytics event is detected, the NEF shall send an HTTP POST
message including the notified analytics event to the AF. The NEF and the AF
shall support the notification mechanism as described in subclause 5.2.5 of
3GPP TS 29.122 [4].
Table 5.6.2.1-1: Notifications overview
+----------------+--------------+----------------+----------------+ | Notification | Callback URI | HTTP method or | Description | | | | custom | | | | | operation | (service | | | | | operation) | +----------------+--------------+----------------+----------------+ | Event | {notifUri} | POST | The analytics | | Notification | | | event | | | | | notification | | | | | is provided by | | | | | the NEF to the | | | | | AF. | +----------------+--------------+----------------+----------------+
#### 5.6.2.2 Event Notification
The Callback URI **\"{notifUri}\"** shall be used with the callback URI
variables defined in table 5.6.2.2-1.
Table 5.6.2.2-1: Callback URI variables
* * *
Name Definition notifUri Callback reference provided by the AF during creation
of the subscription within the AnalyticsExposureSubsc data type as defined in
Table 5.6.3.3.2-1.
* * *
#### 5.6.2.3 Operation Definition
##### 5.6.2.3.1 Notification via HTTP POST
This method shall support the request data structures specified in table
5.6.2.3.1-1 and the response data structures and response codes specified in
table 5.6.2.3.1-2.
Table 5.6.2.3.1-1: Data structures supported by the POST Request Body on this
resource
* * *
Data type P Cardinality Description AnalyticsEventNotification M 1 The
analytics event notification is provided by the NEF to the AF.
* * *
Table 5.6.2.3.1-2: Data structures supported by the POST Response Body on this
resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | N/A | | | 204 No | The event | | | | | Content | notification | | | | | | is received | | | | | | successfully. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 307 Temporary | Temporary | | | | | Redirect | redirection, | | | | | | during event | | | | | | notification. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI | | | | | | representing | | | | | | the end point | | | | | | of an | | | | | | alternative | | | | | | AF where the | | | | | | notification | | | | | | should be | | | | | | sent. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | sub | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 308 Permanent | Permanent | | | | | Redirect | redirection, | | | | | | during event | | | | | | notification. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI | | | | | | representing | | | | | | the end point | | | | | | of an | | | | | | alternative | | | | | | AF where the | | | | | | notification | | | | | | should be | | | | | | sent. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | sub | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the POST | | | | | | method listed | | | | | | in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.6.2.3.1-3: Headers supported by the 307 Response Code on this resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI representing the end point of an alternative AF towards which the
notification should be redirected.
* * *
Table 5.6.2.3.1-4: Headers supported by the 308 Response Code on this resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI representing the end point of an alternative AF towards which the
notification should be redirected.
* * *
##### 5.6.2.3.2 Notification via Websocket
If supported by both AF and NEF and successfully negotiated, the
AnalyticsEventNotification may alternatively be delivered through the
Websocket mechanism as defined in subclause 5.2.5.4 of 3GPP TS 29.122 [4].
### 5.6.3 Data Model
#### 5.6.3.1 General
This subclause specifies the application data model supported by the
AnalyticsExposure API.
#### 5.6.3.2 Reused data types
The data types reused by the AnalyticsExposure API from other specifications
are listed in table 5.6.3.2-1.
Table 5.6.3.2-1: Re-used Data Types
* * *
Data type Reference Comments AdditionalMeasurement 3GPP TS 29.520 [27]  
ReportingInformation 3GPP TS 29.523 [22] Describes the analytics reporting
requirement information. BitRate 3GPP TS 29.571 [8]  
CongestionType 3GPP TS 29.520 [27]  
DateTime 3GPP TS 29.122 [4]  
Dnn 3GPP TS 29.571 [8]  
DurationSec 3GPP TS 29.122 [4] Seconds of duration. EventReportingRequirement
3GPP TS 29.520 [27]  
ExternalGroupId 3GPP TS 29.122 [4] External Group Identifier for a user group.
ExceptionId 3GPP TS 29.520 [27]  
ExpectedAnalyticsType 3GPP TS 29.520 [27]  
ExpectedUeBehaviourData 3GPP TS 29.503 [17]  
Float 3GPP TS 29.571 [8]  
Gpsi 3GPP TS 29.571 [8] Identifies a GPSI. NetworkPerfRequirement 3GPP TS
29.520 [27]  
QosRequirement 3GPP TS 29.520 [27]  
RetainabilityThreshold 3GPP TS 29.520 [27]  
SamplingRatio 3GPP TS 29.571 [8] Indicates Sampling Ratio.
ScheduledCommunicationTime 3GPP TS 29.122 [4]  
Snssai 3GPP TS 29.571 [8]  
SupportedFeatures 3GPP TS 29.571 [8] Used to negotiate the applicability of
the optional features defined in table 5.6.4-1. ThresholdLevel 3GPP TS 29.520
[27]  
TimeWindow 3GPP TS 29.122 [4]  
UeCommunication 3GPP TS 29.520 [27]  
Uinteger 3GPP TS 29.571 [8] Unsigned integer. Uri 3GPP TS 29.571 [8]
Identifies a referenced resource. LocationArea5G 3GPP TS 29.122 [4]
* * *
#### 5.6.3.3 Structured data types
##### 5.6.3.3.1 Introduction
This clause defines the structured data types to be used in resource
representations.
##### 5.6.3.3.2 Type: AnalyticsExposureSubsc
This type represents an analytics exposure subscription. The same structure is
used in the subscription request and subscription response.
Table 5.6.3.3.2-1: Definition of type AnalyticsExposureSubsc
+-----------+-----------+---+-----------+-----------+-----------+ | Attribute | Data type | P | Ca | De | Appl | | name | | | rdinality | scription | icability | | | | | | | | | | | | | | (NOTE) | +-----------+-----------+---+-----------+-----------+-----------+ | analyE | array(An | M | 1..N | S | | | ventsSubs | alyticsEv | | | ubscribed | | | | entSubsc) | | | analytics | | | | | | | events. | | +-----------+-----------+---+-----------+-----------+-----------+ | ana | Re | O | 0..1 | Reporting | | | lyRepInfo | portingIn | | | re | | | | formation | | | quirement | | | | | | | in | | | | | | | formation | | | | | | | of the | | | | | | | subs | | | | | | | cription. | | | | | | | | | | | | | | If | | | | | | | omitted, | | | | | | | the | | | | | | | default | | | | | | | values | | | | | | | within | | | | | | | the | | | | | | | Re | | | | | | | portingIn | | | | | | | formation | | | | | | | data type | | | | | | | apply. | | +-----------+-----------+---+-----------+-----------+-----------+ | notifUri | Uri | M | 1 | Not | | | | | | | ification | | | | | | | URI for | | | | | | | analytics | | | | | | | event | | | | | | | r | | | | | | | eporting. | | +-----------+-----------+---+-----------+-----------+-----------+ | notifId | string | M | 1 | Not | | | | | | | ification | | | | | | | Co | | | | | | | rrelation | | | | | | | ID | | | | | | | assigned | | | | | | | by the NF | | | | | | | service | | | | | | | consumer. | | +-----------+-----------+---+-----------+-----------+-----------+ | eve | array(An | C | 1..N | R | | | ntNotifis | alyticsEv | | | epresents | | | | entNotif) | | | the | | | | | | | Events to | | | | | | | be | | | | | | | reported. | | | | | | | | | | | | | | Shall | | | | | | | only be | | | | | | | present | | | | | | | if the | | | | | | | immediate | | | | | | | reporting | | | | | | | i | | | | | | | ndication | | | | | | | in the | | | | | | | \ | | | | | | | "immRep\" | | | | | | | attribute | | | | | | | within | | | | | | | the | | | | | | | \"analy | | | | | | | RepInfo\" | | | | | | | attribute | | | | | | | sets to | | | | | | | true | | | | | | | during | | | | | | | the event | | | | | | | subs | | | | | | | cription, | | | | | | | and the | | | | | | | reports | | | | | | | are | | | | | | | a | | | | | | | vailable. | | +-----------+-----------+---+-----------+-----------+-----------+ | failEve | array | O | 1..N | Supplied | | | ntReports | (Analytic | | | by the | | | | sFailureE | | | NWDAF. | | | | ventInfo) | | | | | | | | | | When | | | | | | | a | | | | | | | vailable, | | | | | | | shall | | | | | | | contain | | | | | | | the | | | | | | | event(s) | | | | | | | for which | | | | | | | the | | | | | | | sub | | | | | | | scription | | | | | | | is not | | | | | | | su | | | | | | | ccessful, | | | | | | | including | | | | | | | the | | | | | | | failure | | | | | | | r | | | | | | | eason(s). | | +-----------+-----------+---+-----------+-----------+-----------+ | suppFeat | Supporte | C | 0..1 | Indicates | | | | dFeatures | | | the list | | | | | | | of | | | | | | | Supported | | | | | | | features | | | | | | | used as | | | | | | | described | | | | | | | in | | | | | | | subclau | | | | | | | se 5.6.4. | | | | | | | | | | | | | | This | | | | | | | attribute | | | | | | | shall be | | | | | | | provided | | | | | | | in the | | | | | | | POST | | | | | | | request | | | | | | | and in | | | | | | | the | | | | | | | response | | | | | | | of | | | | | | | s | | | | | | | uccessful | | | | | | | resource | | | | | | | creation, | | | | | | | or in the | | | | | | | HTTP GET | | | | | | | response | | | | | | | if the | | | | | | | \"su | | | | | | | pp-feat\" | | | | | | | attribute | | | | | | | query | | | | | | | parameter | | | | | | | is | | | | | | | included | | | | | | | in the | | | | | | | HTTP GET | | | | | | | request. | | +-----------+-----------+---+-----------+-----------+-----------+ | self | Link | C | 0..1 | I | | | | | | | dentifies | | | | | | | the | | | | | | | I | | | | | | | ndividual | | | | | | | Analytics | | | | | | | Exposure | | | | | | | Sub | | | | | | | scription | | | | | | | resource. | | | | | | | | | | | | | | Shall be | | | | | | | present | | | | | | | in the | | | | | | | HTTP GET | | | | | | | response | | | | | | | when | | | | | | | reading | | | | | | | all the | | | | | | | subs | | | | | | | criptions | | | | | | | for an | | | | | | | AF. | | +-----------+-----------+---+-----------+-----------+-----------+ | reque | boolean | O | 0..1 | Set to | Notific | | stTestNot | | | | true by | ation_te | | ification | | | | the AF to | st_event | | | | | | request | | | | | | | the NEF | | | | | | | to send a | | | | | | | test | | | | | | | not | | | | | | | ification | | | | | | | as | | | | | | | defined | | | | | | | in | | | | | | | subclaus | | | | | | | e 5.2.5.3 | | | | | | | of | | | | | | | 3GP | | | | | | | P TS 29.1 | | | | | | | 22 [4]. | | | | | | | Set to | | | | | | | false or | | | | | | | omitted | | | | | | | o | | | | | | | therwise. | | +-----------+-----------+---+-----------+-----------+-----------+ | websockNo | WebsockNo | O | 0..1 | Conf | Notif | | tifConfig | tifConfig | | | iguration | ication_ | | | | | | p | websocket | | | | | | arameters | | | | | | | to set up | | | | | | | not | | | | | | | ification | | | | | | | delivery | | | | | | | over | | | | | | | Websocket | | | | | | | protocol. | | +-----------+-----------+---+-----------+-----------+-----------+ | NOTE: | | | | | | | P | | | | | | | roperties | | | | | | | marked | | | | | | | with a | | | | | | | feature | | | | | | | as | | | | | | | defined | | | | | | | in | | | | | | | subcla | | | | | | | use 5.6.4 | | | | | | | are | | | | | | | a | | | | | | | pplicable | | | | | | | as | | | | | | | described | | | | | | | in | | | | | | | subcla | | | | | | | use 5.2.7 | | | | | | | of | | | | | | | 3GP | | | | | | | P TS 29.1 | | | | | | | 22 [4]. | | | | | | | If no | | | | | | | feature | | | | | | | is | | | | | | | i | | | | | | | ndicated, | | | | | | | the | | | | | | | related | | | | | | | property | | | | | | | applies | | | | | | | for all | | | | | | | the | | | | | | | features. | | | | | | +-----------+-----------+---+-----------+-----------+-----------+
##### 5.6.3.3.3 Type: AnalyticsEventNotification
Table 5.6.3.3.3-1: Definition of type AnalyticsEventNotification
* * *
Attribute name Data type P Cardinality Description Applicability notifId
string M 1 Notification Correlation ID assigned by the NF service consumer.  
analyEventNotifs array(AnalyticsEventNotif) M 1..N Represents the analytics
events to be reported according to the subscription corresponding to the
Notification Correlation ID.
* * *
##### 5.6.3.3.4 Type: AnalyticsEventNotif
Table 5.6.3.3.4-1: Definition of type AnalyticsEventNotif
+-----------+-----------+---+-----------+-----------+-----------+ | Attribute | Data type | P | Ca | De | Appl | | name | | | rdinality | scription | icability | +-----------+-----------+---+-----------+-----------+-----------+ | a | Analy | M | 1 | Detected | | | nalyEvent | ticsEvent | | | analytics | | | | | | | event. | | +-----------+-----------+---+-----------+-----------+-----------+ | expiry | DateTime | O | 0..1 | Defines | | | | | | | the | | | | | | | e | | | | | | | xpiration | | | | | | | time | | | | | | | after | | | | | | | which the | | | | | | | analytics | | | | | | | in | | | | | | | formation | | | | | | | will | | | | | | | become | | | | | | | invalid. | | +-----------+-----------+---+-----------+-----------+-----------+ | timeStamp | DateTime | M | 1 | Time at | | | | | | | which the | | | | | | | event is | | | | | | | observed. | | +-----------+-----------+---+-----------+-----------+-----------+ | ueMobi | array(U | C | 1..N | Contains | Ue\ | | lityInfos | eMobility | | | the UE | _Mobility | | | Exposure) | | | mobility | | | | | | | inf | | | | | | | ormation. | | | | | | | | | | | | | | Shall be | | | | | | | present | | | | | | | if the | | | | | | | \"ana | | | | | | | lyEvent\" | | | | | | | attribute | | | | | | | sets to | | | | | | | \"UE_M | | | | | | | OBILITY\" | | +-----------+-----------+---+-----------+-----------+-----------+ | ue | arra | C | 1..N | Contains | Ue_Comm | | CommInfos | y(UeCommu | | | the | unication | | | nication) | | | ap | | | | | | | plication | | | | | | | comm | | | | | | | unication | | | | | | | inf | | | | | | | ormation. | | | | | | | | | | | | | | Shall be | | | | | | | present | | | | | | | if the | | | | | | | \"ana | | | | | | | lyEvent\" | | | | | | | attribute | | | | | | | sets to | | | | | | | \"U | | | | | | | E_COMM\" | | +-----------+-----------+---+-----------+-----------+-----------+ | abno | array | C | 1..N | Contains | Abnormal\ | | rmalInfos | (Abnormal | | | the | _Behavior | | | Exposure) | | | user's | | | | | | | abnormal | | | | | | | behavior | | | | | | | inf | | | | | | | ormation. | | | | | | | | | | | | | | Shall be | | | | | | | present | | | | | | | if the | | | | | | | \"ana | | | | | | | lyEvent\" | | | | | | | attribute | | | | | | | sets to | | | | | | | \"AB | | | | | | | NORMAL_B | | | | | | | EHAVIOR\" | | +-----------+-----------+---+-----------+-----------+-----------+ | con | array(Con | C | 1..N | Contains | C | | gestInfos | gestInfo) | | | the UE's | ongestion | | | | | | user data | | | | | | | c | | | | | | | ongestion | | | | | | | inf | | | | | | | ormation. | | | | | | | | | | | | | | Shall be | | | | | | | present | | | | | | | if the | | | | | | | \"ana | | | | | | | lyEvent\" | | | | | | | attribute | | | | | | | sets to | | | | | | | \"CON | | | | | | | GESTION\" | | +-----------+-----------+---+-----------+-----------+-----------+ | nw | array(Ne | C | 1..N | The | Ne | | PerfInfos | tworkPerf | | | network | twork_Pe | | | Exposure) | | | pe | rformance | | | | | | rformance | | | | | | | inf | | | | | | | ormation. | | | | | | | | | | | | | | Shall be | | | | | | | present | | | | | | | when the | | | | | | | requested | | | | | | | event is | | | | | | | \"NETWO | | | | | | | RK_PERFO | | | | | | | RMANCE\". | | +-----------+-----------+---+-----------+-----------+-----------+ | qosSus | array | C | 1..N | Contains | Q | | tainInfos | (QosSusta | | | the QoS | oS_Susta | | | inability | | | susta | inability | | | Exposure) | | | inability | | | | | | | inf | | | | | | | ormation. | | | | | | | | | | | | | | Shall be | | | | | | | present | | | | | | | if the | | | | | | | \"ana | | | | | | | lyEvent\" | | | | | | | attribute | | | | | | | is set to | | | | | | | \"QOS | | | | | | | _SUSTAIN | | | | | | | ABILITY\" | | +-----------+-----------+---+-----------+-----------+-----------+
##### 5.6.3.3.5 Type: AnalyticsEventSubsc
Table 5.6.3.3.5-1: Definition of type AnalyticsEventSubsc
* * *
Attribute name Data type P Cardinality Description Applicability analyEvent
AnalyticsEvent M 1 Requested analytics event.  
analyEventFilter AnalyticsEventFilterSubsc O 0..1 Represents analytics event
filter. (NOTE) tgtUe TargetUeId O 0..1 Identifies target UE information (NOTE)
NOTE: Applicability is further described in the corresponding data type.
* * *
##### 5.6.3.3.6 Type: AnalyticsEventFilterSubsc
Table 5.6.3.3.6-1: Definition of type AnalyticsEventFilterSubsc
+-----------+-----------+---+-----------+-----------+-----------+ | Attribute | Data type | P | Ca | De | Appl | | name | | | rdinality | scription | icability | +-----------+-----------+---+-----------+-----------+-----------+ | locArea | Locat | O | 0..1 | Ident | Abnormal\ | | | ionArea5G | | | ification | _Behavior | | | | | | of | | | | | | | network | C | | | | | | area to | ongestion | | | | | | which the | | | | | | | sub | Ue_Comm | | | | | | scription | unication | | | | | | applies. | | | | | | | | Ue\ | | | | | | (NOTE 1) | _Mobility | | | | | | (NOTE 7) | | | | | | | | Q | | | | | | | oS_Susta | | | | | | | inability | | | | | | | | | | | | | | Ne | | | | | | | twork_Pe | | | | | | | rformance | +-----------+-----------+---+-----------+-----------+-----------+ | dnn | Dnn | O | 0..1 | I | Ue_Comm | | | | | | dentifies | unication | | | | | | the DNN. | | | | | | | (NOTE 7) | Abnormal\ | | | | | | | _Behavior | +-----------+-----------+---+-----------+-----------+-----------+ | appIds | ar | O | 1..N | Each | Abnormal\ | | | ray(Appli | | | element | _Behavior | | | cationId) | | | i | | | | | | | dentifies | Ue_Comm | | | | | | an | unication | | | | | | app | | | | | | | lication. | | | | | | | (NOTE 7) | | +-----------+-----------+---+-----------+-----------+-----------+ | e | array(E | O | 1..N | R | Abnormal\ | | xcepRequs | xception) | | | epresents | _Behavior | | | | | | a list of | | | | | | | Exception | | | | | | | Ids with | | | | | | | a | | | | | | | ssociated | | | | | | | th | | | | | | | resholds. | | | | | | | | | | | | | | (NOTE 2, | | | | | | | NOTE 3) | | +-----------+-----------+---+-----------+-----------+-----------+ | ex | Exp | O | 0..1 | R | Abnormal\ | | ptAnaType | ectedAnal | | | epresents | _Behavior | | | yticsType | | | expected | | | | | | | UE | | | | | | | analytics | | | | | | | type. | | | | | | | | | | | | | | (NOTE 3) | | +-----------+-----------+---+-----------+-----------+-----------+ | ex | Expec | O | 0..1 | R | Abnormal\ | | ptUeBehav | tedUeBeha | | | epresents | _Behavior | | | viourData | | | expected | | | | | | | UE | | | | | | | b | | | | | | | ehaviour. | | +-----------+-----------+---+-----------+-----------+-----------+ | reptThlds | arr | O | 1..N | R | C | | | ay(Thresh | | | epresents | ongestion | | | oldLevel) | | | the | | | | | | | c | | | | | | | ongestion | | | | | | | levels to | | | | | | | be | | | | | | | reached | | | | | | | in order | | | | | | | to be | | | | | | | notified | | | | | | | by the | | | | | | | NEF. | | | | | | | | | | | | | | (NOTE 4) | | +-----------+-----------+---+-----------+-----------+-----------+ | n | ar | C | 1..N | R | Ne | | wPerfReqs | ray(Netwo | | | epresents | twork_Pe | | | rkPerfReq | | | the | rformance | | | uirement) | | | network | | | | | | | pe | | | | | | | rformance | | | | | | | requ | | | | | | | irements. | | | | | | | This | | | | | | | attribute | | | | | | | shall be | | | | | | | included | | | | | | | when | | | | | | | eventId | | | | | | | is | | | | | | | \"NETWO | | | | | | | RK_PERFO | | | | | | | RMANCE\". | | +-----------+-----------+---+-----------+-----------+-----------+ | snssai | Snssai | O | 0..1 | I | Ue_Comm | | | | | | dentifies | unication | | | | | | the | | | | | | | network | Q | | | | | | slice | oS_Susta | | | | | | inf | inability | | | | | | ormation. | | | | | | | (NOTE 7) | Abnormal\ | | | | | | | _Behavior | | | | | | | | | | | | | | C | | | | | | | ongestion | +-----------+-----------+---+-----------+-----------+-----------+ | qosReq | QosRe | C | 0..1 | R | Q | | | quirement | | | epresents | oS_Susta | | | | | | the QoS | inability | | | | | | requ | | | | | | | irements. | | | | | | | This | | | | | | | attribute | | | | | | | shall be | | | | | | | included | | | | | | | when | | | | | | | eventId | | | | | | | is | | | | | | | \"QOS\ | | | | | | | _SUSTAINA | | | | | | | BILITY\". | | +-----------+-----------+---+-----------+-----------+-----------+ | qosFl | ar | C | 1..N | R | Q | | owRetThds | ray(Retai | | | epresents | oS_Susta | | | nabilityT | | | the QoS | inability | | | hreshold) | | | flow | | | | | | | reta | | | | | | | inability | | | | | | | th | | | | | | | resholds, | | | | | | | | | | | | | | Shall be | | | | | | | supplied | | | | | | | for the | | | | | | | 5QI of | | | | | | | GBR | | | | | | | resource | | | | | | | type. | | | | | | | (NOTE 5) | | +-----------+-----------+---+-----------+-----------+-----------+ | ranUe | array | C | 1..N | R | Q | | ThrouThds | (BitRate) | | | epresents | oS_Susta | | | | | | the RAN | inability | | | | | | UE | | | | | | | t | | | | | | | hroughput | | | | | | | th | | | | | | | resholds. | | | | | | | | | | | | | | Shall be | | | | | | | supplied | | | | | | | for the | | | | | | | 5QI of | | | | | | | non-GBR | | | | | | | resource | | | | | | | type. | | | | | | | (NOTE 5) | | +-----------+-----------+---+-----------+-----------+-----------+ | extra | EventRe | O | 0..1 | The extra | | | ReportReq | portingRe | | | event | | | | quirement | | | reporting | | | | | | | re | | | | | | | quirement | | | | | | | inf | | | | | | | ormation. | | | | | | | (NOTE 6) | | +-----------+-----------+---+-----------+-----------+-----------+ | NOTE 1: | | | | | | | The | | | | | | | Networ | | | | | | | kAreaInfo | | | | | | | within | | | | | | | the | | | | | | | \" | | | | | | | locArea\" | | | | | | | attribute | | | | | | | is not | | | | | | | a | | | | | | | pplicable | | | | | | | for the | | | | | | | untrusted | | | | | | | AF. For | | | | | | | \"NETW | | | | | | | ORK_PERF | | | | | | | ORMANCE\" | | | | | | | or | | | | | | | \"CON | | | | | | | GESTION\" | | | | | | | event, | | | | | | | the | | | | | | | \" | | | | | | | locArea\" | | | | | | | attribute | | | | | | | shall be | | | | | | | provided | | | | | | | if the | | | | | | | event | | | | | | | applied | | | | | | | for all | | | | | | | UEs (i.e. | | | | | | | \"a | | | | | | | nyUeInd\" | | | | | | | attribute | | | | | | | set to | | | | | | | true | | | | | | | within | | | | | | | the | | | | | | | T | | | | | | | argetUeId | | | | | | | data). | | | | | | | For | | | | | | | \"QOS | | | | | | | _SUSTAIN | | | | | | | ABILITY\" | | | | | | | event, | | | | | | | the | | | | | | | \" | | | | | | | locArea\" | | | | | | | attribute | | | | | | | shall be | | | | | | | provided. | | | | | | | | | | | | | | NOTE 2: | | | | | | | Only | | | | | | | \" | | | | | | | excepId\" | | | | | | | and | | | | | | | \"exc | | | | | | | epLevel\" | | | | | | | within | | | | | | | the | | | | | | | Exception | | | | | | | data type | | | | | | | apply to | | | | | | | the | | | | | | | \"exc | | | | | | | epRequs\" | | | | | | | a | | | | | | | ttribute. | | | | | | | | | | | | | | NOTE 3: | | | | | | | Either | | | | | | | \"exc | | | | | | | epRequs\" | | | | | | | or | | | | | | | \"expt | | | | | | | AnaType\" | | | | | | | shall be | | | | | | | provided | | | | | | | if the | | | | | | | s | | | | | | | ubscribed | | | | | | | event is | | | | | | | \"ABN | | | | | | | ORMAL_BE | | | | | | | HAVIOR\". | | | | | | | | | | | | | | NOTE 4: | | | | | | | If the | | | | | | | s | | | | | | | ubscribed | | | | | | | event is | | | | | | | \"CONG | | | | | | | ESTION\", | | | | | | | this | | | | | | | attribute | | | | | | | shall be | | | | | | | provided | | | | | | | if | | | | | | | \"noti | | | | | | | fMethod\" | | | | | | | within | | | | | | | \"analy | | | | | | | RepInfo\" | | | | | | | sets to | | | | | | | \"ON_ | | | | | | | EVENT_DE | | | | | | | TECTION\" | | | | | | | or | | | | | | | omitted. | | | | | | | | | | | | | | NOTE 5: | | | | | | | For | | | | | | | \"QOS\ | | | | | | | _SUSTAINA | | | | | | | BILITY\", | | | | | | | this | | | | | | | property | | | | | | | shall be | | | | | | | provided | | | | | | | if the | | | | | | | \"noti | | | | | | | fMethod\" | | | | | | | in | | | | | | | \"analy | | | | | | | RepInfo\" | | | | | | | is set to | | | | | | | \"ON_ | | | | | | | EVENT_DE | | | | | | | TECTION\" | | | | | | | or | | | | | | | omitted. | | | | | | | | | | | | | | NOTE 6: | | | | | | | The | | | | | | | \"sa | | | | | | | mpRatio\" | | | | | | | attribute | | | | | | | within | | | | | | | EventRe | | | | | | | portingRe | | | | | | | quirement | | | | | | | data type | | | | | | | is not | | | | | | | a | | | | | | | pplicable | | | | | | | for the | | | | | | | present | | | | | | | API. | | | | | | | | | | | | | | NOTE 7: | | | | | | | For | | | | | | | \"AB | | | | | | | NORMAL_B | | | | | | | EHAVIOR\" | | | | | | | event | | | | | | | with | | | | | | | \" | | | | | | | anyUeId\" | | | | | | | attribute | | | | | | | in | | | | | | | \"tgtUe\" | | | | | | | attribute | | | | | | | sets to | | | | | | | true, | | | | | | | | | | | | | | > \- at | | | | | | | > least | | | | | | | > one of | | | | | | | > the | | | | | | | > \" | | | | | | | locArea\" | | | | | | | > and the | | | | | | | > \ | | | | | | | "snssai\" | | | | | | | > | | | | | | | attribute | | | | | | | > should | | | | | | | > be | | | | | | | > | | | | | | | included, | | | | | | | > if the | | | | | | | > | | | | | | | expected | | | | | | | > | | | | | | | analytics | | | | | | | > type | | | | | | | > via | | | | | | | > | | | | | | | the\"expt | | | | | | | AnaType\" | | | | | | | > | | | | | | | attribute | | | | | | | > or the | | | | | | | > list of | | | | | | | > | | | | | | | Exception | | | | | | | > Ids via | | | | | | | > the | | | | | | | > \"exc | | | | | | | epRequs\" | | | | | | | > | | | | | | | attribute | | | | | | | > is | | | | | | | > | | | | | | | mobility | | | | | | | > | | | | | | | related; | | | | | | | > | | | | | | | > \- at | | | | | | | > least | | | | | | | > one of | | | | | | | > the | | | | | | | > \"l | | | | | | | ocArea\", | | | | | | | > \" | | | | | | | appIds\", | | | | | | | > \"dnn\" | | | | | | | > and | | | | | | | > \ | | | | | | | "snssai\" | | | | | | | > | | | | | | | attribute | | | | | | | > should | | | | | | | > be | | | | | | | > | | | | | | | included, | | | | | | | > if the | | | | | | | > | | | | | | | expected | | | | | | | > | | | | | | | analytics | | | | | | | > type | | | | | | | > via | | | | | | | > | | | | | | | the\"expt | | | | | | | AnaType\" | | | | | | | > | | | | | | | attribute | | | | | | | > or the | | | | | | | > list of | | | | | | | > | | | | | | | Exception | | | | | | | > Ids via | | | | | | | > the | | | | | | | > \"exc | | | | | | | epRequs\" | | | | | | | > | | | | | | | attribute | | | | | | | > is | | | | | | | > comm | | | | | | | unication | | | | | | | > | | | | | | | related; | | | | | | | > | | | | | | | > \- the | | | | | | | > | | | | | | | expected | | | | | | | > | | | | | | | analytics | | | | | | | > type | | | | | | | > via | | | | | | | > | | | | | | | the\"expt | | | | | | | AnaType\" | | | | | | | > | | | | | | | attribute | | | | | | | > or the | | | | | | | > list of | | | | | | | > | | | | | | | Exception | | | | | | | > Ids via | | | | | | | > \"exc | | | | | | | epRequs\" | | | | | | | > | | | | | | | attribute | | | | | | | > shall | | | | | | | > not be | | | | | | | > | | | | | | | requested | | | | | | | > for | | | | | | | > both | | | | | | | > | | | | | | | mobility | | | | | | | > and | | | | | | | > comm | | | | | | | unication | | | | | | | > related | | | | | | | > | | | | | | | analytics | | | | | | | > at the | | | | | | | > same | | | | | | | > time. | | | | | | +-----------+-----------+---+-----------+-----------+-----------+
##### 5.6.3.3.7 Type TargetUeId
Table 5.6.3.3.7-1: Definition of type TargetUeId
+----------+----------+-------+----------+----------+----------+ | **A |** Data | **P** | **Cardi |** Descr | * | | ttribute | type**| | nality** | iption**| *Applica | | name** | | | | | bility** | +----------+----------+-------+----------+----------+----------+ | anyUeInd | boolean | O | 0..1 | Id | Ab | | | | | | entifies | normal_ | | | | | | whether | Behavior | | | | | | the AF | | | | | | | request | Co | | | | | | applies | ngestion | | | | | | to any | | | | | | | UE. | Netw | | | | | | | ork_Per | | | | | | This | formance | | | | | | a | | | | | | | ttribute | QoS | | | | | | shall | _Sustai | | | | | | set to | nability | | | | | | \"true\" | | | | | | | if | | | | | | | ap | | | | | | | plicable | | | | | | | for any | | | | | | | UE, | | | | | | | ot | | | | | | | herwise, | | | | | | | set to | | | | | | | \" | | | | | | | false\". | | +----------+----------+-------+----------+----------+----------+ | gpsi | Gpsi | O | 0..1 | Id | Ab | | | | | | entifies | normal_ | | | | | | a GPSI | Behavior | | | | | | for an | | | | | | | UE. | Co | | | | | | | ngestion | | | | | | | | | | | | | | Ue_ | | | | | | | Mobility | | | | | | | | | | | | | | U | | | | | | | e_Commu | | | | | | | nication | | | | | | | | | | | | | | Netw | | | | | | | ork_Per | | | | | | | formance | +----------+----------+-------+----------+----------+----------+ | exte | Externa | O | 0..1 | Re | Abnorm | | rGroupId | lGroupId | | | presents | al_Beha | | | | | | an | viorUe_ | | | | | | external | Mobility | | | | | | group | | | | | | | id | U | | | | | | entifier | e_Commu | | | | | | and | nication | | | | | | id | | | | | | | entifies | Netw | | | | | | a group | ork_Per | | | | | | of UEs. | formance | +----------+----------+-------+----------+----------+----------+ | NOTE: | | | | | | | For an | | | | | | | ap | | | | | | | plicable | | | | | | | feature, | | | | | | | only one | | | | | | | a | | | | | | | ttribute | | | | | | | ide | | | | | | | ntifying | | | | | | | the | | | | | | | target | | | | | | | UE shall | | | | | | | be | | | | | | | p | | | | | | | rovided. | | | | | | +----------+----------+-------+----------+----------+----------+
##### 5.6.3.3.8 Void
##### 5.6.3.3.9 Type UeMobilityExposure
Table 5.6.3.3.9-1: Definition of type UeMobilityExposure
+----------+----------+-------+----------+----------+----------+ | **A |** Data | **P** | **Cardi |** Descr | * | | ttribute | type**| | nality** | iption**| *Applica | | name** | | | | | bility** | +----------+----------+-------+----------+----------+----------+ | ts | DateTime | O | 0..1 | This | | | | | | | a | | | | | | | ttribute | | | | | | | id | | | | | | | entifies | | | | | | | the | | | | | | | t | | | | | | | imestamp | | | | | | | when the | | | | | | | UE | | | | | | | arrives | | | | | | | the | | | | | | | l | | | | | | | ocation. | | | | | | | (NOTE 1) | | +----------+----------+-------+----------+----------+----------+ | recur | Sc | O | 0..1 | Id | | | ringTime | heduledC | | | entifies | | | | ommunica | | | time of | | | | tionTime | | | the day | | | | | | | and day | | | | | | | of the | | | | | | | week | | | | | | | which | | | | | | | are | | | | | | | valid | | | | | | | within | | | | | | | the | | | | | | | obs | | | | | | | ervation | | | | | | | period | | | | | | | when the | | | | | | | UE | | | | | | | moves. | | | | | | | (NOTE 1, | | | | | | | NOTE 2) | | +----------+----------+-------+----------+----------+----------+ | duration | Dur | M | 1 | This | | | | ationSec | | | a | | | | | | | ttribute | | | | | | | id | | | | | | | entifies | | | | | | | the time | | | | | | | duration | | | | | | | the UE | | | | | | | stays in | | | | | | | the | | | | | | | l | | | | | | | ocation. | | | | | | | | | | | | | | If the | | | | | | | a | | | | | | | nalytics | | | | | | | result | | | | | | | applies | | | | | | | for a | | | | | | | group of | | | | | | | UEs, it | | | | | | | i | | | | | | | ndicates | | | | | | | the | | | | | | | average | | | | | | | duration | | | | | | | for the | | | | | | | group of | | | | | | | UEs. | | +----------+----------+-------+----------+----------+----------+ | duration | Float | C | 0..1 | This | | | Variance | | | | a | | | | | | | ttribute | | | | | | | i | | | | | | | ndicates | | | | | | | the | | | | | | | variance | | | | | | | of the | | | | | | | analysed | | | | | | | d | | | | | | | urations | | | | | | | for the | | | | | | | group of | | | | | | | UEs. It | | | | | | | shall be | | | | | | | provided | | | | | | | if the | | | | | | | a | | | | | | | nalytics | | | | | | | result | | | | | | | applies | | | | | | | for a | | | | | | | group of | | | | | | | UEs. | | +----------+----------+-------+----------+----------+----------+ | locInfo | array | M | 1..N | This | | | | (UeLocat | | | a | | | | ionInfo) | | | ttribute | | | | | | | includes | | | | | | | a list | | | | | | | of UE | | | | | | | location | | | | | | | inf | | | | | | | ormation | | | | | | | during | | | | | | | the time | | | | | | | d | | | | | | | uration. | | +----------+----------+-------+----------+----------+----------+ | NOTE 1: | | | | | | | Either | | | | | | | ts or | | | | | | | recur | | | | | | | ringTime | | | | | | | shall be | | | | | | | p | | | | | | | rovided. | | | | | | | | | | | | | | NOTE 2: | | | | | | | If this | | | | | | | a | | | | | | | ttribute | | | | | | | is | | | | | | | present, | | | | | | | it | | | | | | | i | | | | | | | ndicates | | | | | | | the UE | | | | | | | movement | | | | | | | is | | | | | | | p | | | | | | | eriodic. | | | | | | | This | | | | | | | a | | | | | | | ttribute | | | | | | | is | | | | | | | suitable | | | | | | | to be | | | | | | | present | | | | | | | for a | | | | | | | r | | | | | | | ecurring | | | | | | | mobility | | | | | | | in a | | | | | | | long | | | | | | | obs | | | | | | | ervation | | | | | | | time. | | | | | | +----------+----------+-------+----------+----------+----------+
##### 5.6.3.3.10 Type UeLocationInfo
Table 5.6.3.3.10-1: Definition of type UeLocationInfo
+----------+----------+-------+----------+----------+----------+ | **A |** Data | **P** | **Cardi |** Descr | * | | ttribute | type**| | nality** | iption**| *Applica | | name** | | | | | bility** | +----------+----------+-------+----------+----------+----------+ | loc | Locati | M | 1 | This | | | | onArea5G | | | a | | | | | | | ttribute | | | | | | | contains | | | | | | | the | | | | | | | detailed | | | | | | | l | | | | | | | ocation. | | +----------+----------+-------+----------+----------+----------+ | ratio | Sampl | C | 0..1 | This | | | | ingRatio | | | a | | | | | | | ttribute | | | | | | | contains | | | | | | | the | | | | | | | pe | | | | | | | rcentage | | | | | | | of UEs | | | | | | | in the | | | | | | | group. | | | | | | | | | | | | | | Shall be | | | | | | | present | | | | | | | if the | | | | | | | a | | | | | | | nalytics | | | | | | | result | | | | | | | applies | | | | | | | for a | | | | | | | group of | | | | | | | UEs. | | +----------+----------+-------+----------+----------+----------+ | co | Uinteger | C | 0..1 | I | | | nfidence | | | | ndicates | | | | | | | the | | | | | | | co | | | | | | | nfidence | | | | | | | of the | | | | | | | pre | | | | | | | diction. | | | | | | | (NOTE) | | | | | | | | | | | | | | Shall be | | | | | | | present | | | | | | | if the | | | | | | | a | | | | | | | nalytics | | | | | | | result | | | | | | | is a | | | | | | | pre | | | | | | | diction. | | | | | | | | | | | | | | Minimum | | | | | | | = 0. | | | | | | | Maximum | | | | | | | = 100. | | +----------+----------+-------+----------+----------+----------+ | NOTE: If | | | | | | | the | | | | | | | r | | | | | | | equested | | | | | | | period | | | | | | | id | | | | | | | entified | | | | | | | by the | | | | | | | \"s | | | | | | | tartTs\" | | | | | | | and | | | | | | | \ | | | | | | | "endTs\" | | | | | | | at | | | | | | | tributes | | | | | | | in the | | | | | | | \"Eve | | | | | | | ntReport | | | | | | | ingRequi | | | | | | | rement\" | | | | | | | type is | | | | | | | a future | | | | | | | time | | | | | | | period, | | | | | | | which | | | | | | | means | | | | | | | the | | | | | | | a | | | | | | | nalytics | | | | | | | result | | | | | | | is a | | | | | | | pre | | | | | | | diction. | | | | | | | If no | | | | | | | su | | | | | | | fficient | | | | | | | data is | | | | | | | c | | | | | | | ollected | | | | | | | to | | | | | | | provide | | | | | | | the | | | | | | | co | | | | | | | nfidence | | | | | | | of the | | | | | | | pr | | | | | | | ediction | | | | | | | before | | | | | | | the time | | | | | | | d | | | | | | | eadline, | | | | | | | a zero | | | | | | | co | | | | | | | nfidence | | | | | | | shall be | | | | | | | r | | | | | | | eturned. | | | | | | +----------+----------+-------+----------+----------+----------+
##### 5.6.3.3.11 Void
##### 5.6.3.3.12 Type: AnalyticsRequest
Table 5.6.3.3.12-1: Definition of type AnalyticsRequest
* * *
Attribute name Data type P Cardinality Description Applicability analyEvent
AnalyticsEvent M 1 Identifies the analytics type.  
analyEventFilter AnalyticsEventFilter C 0..1 Shall be included to identify the
analytics when filter information is needed for the related event.  
analyRep EventReportingRequirement O 0..1 Identifies the analytics reporting
requirement information.  
tgtUe TargetUeId O 0..1 Identifies the target UE information.  
suppFeat SupportedFeatures M 1 Represents the features supported by the NF
service consumer.
* * *
##### 5.6.3.3.13 Type AnalyticsEventFilter
Table 5.6.3.3.13-1: Definition of type AnalyticsEventFilter
+-----------+-----------+---+-----------+-----------+-----------+ | Attribute | Data type | P | Ca | De | Appl | | name | | | rdinality | scription | icability | +-----------+-----------+---+-----------+-----------+-----------+ | locArea | Locat | C | 0..1 | This IE | Ue\ | | | ionArea5G | | | r | _Mobility | | | | | | epresents | | | | | | | the | Ue_Comm | | | | | | network | unication | | | | | | area | | | | | | | where the | Ne | | | | | | NF | twork_Pe | | | | | | service | rformance | | | | | | consumer | | | | | | | wants to | Q | | | | | | know the | oS_Susta | | | | | | analytics | inability | | | | | | result. | | | | | | | | Abnormal\ | | | | | | (NOTE 2, | _Behavior | | | | | | NOTE 3) | | | | | | | | C | | | | | | | ongestion | +-----------+-----------+---+-----------+-----------+-----------+ | dnn | Dnn | O | 0..1 | I | Ue_Comm | | | | | | dentifies | unication | | | | | | the DNN. | | | | | | | (NOTE 3) | Abnormal\ | | | | | | | _Behavior | +-----------+-----------+---+-----------+-----------+-----------+ | nw | arra | C | 1..N | R | Ne | | PerfTypes | y(Network | | | epresents | twork_Pe | | | PerfType) | | | the | rformance | | | | | | network | | | | | | | pe | | | | | | | rformance | | | | | | | requ | | | | | | | irements. | | | | | | | This | | | | | | | attribute | | | | | | | shall be | | | | | | | included | | | | | | | when | | | | | | | eventId | | | | | | | is | | | | | | | \"NETWO | | | | | | | RK_PERFO | | | | | | | RMANCE\". | | +-----------+-----------+---+-----------+-----------+-----------+ | appIds | ar | O | 1..N | Each | Ue_Comm | | | ray(Appli | | | element | unication | | | cationId) | | | i | Abnormal\ | | | | | | dentifies | _Behavior | | | | | | an | | | | | | | app | | | | | | | lication. | | | | | | | The | | | | | | | absence | | | | | | | of appIds | | | | | | | means all | | | | | | | appl | | | | | | | ications. | | | | | | | (NOTE 3) | | +-----------+-----------+---+-----------+-----------+-----------+ | excepIds | array(Exc | O | 1..N | R | Abnormal\ | | | eptionId) | | | epresents | _Behavior | | | | | | a list of | | | | | | | Exception | | | | | | | Ids. | | | | | | | (NOTE 1) | | +-----------+-----------+---+-----------+-----------+-----------+ | ex | Exp | O | 0..1 | R | Abnormal\ | | ptAnaType | ectedAnal | | | epresents | _Behavior | | | yticsType | | | expected | | | | | | | UE | | | | | | | analytics | | | | | | | type. | | | | | | | (NOTE 1) | | +-----------+-----------+---+-----------+-----------+-----------+ | ex | Expec | O | 0..1 | R | Abnormal\ | | ptUeBehav | tedUeBeha | | | epresents | _Behavior | | | viourData | | | expected | | | | | | | UE | | | | | | | b | | | | | | | ehaviour. | | +-----------+-----------+---+-----------+-----------+-----------+ | snssai | Snssai | O | 0..1 | I | Ue_Comm | | | | | | dentifies | unication | | | | | | the | | | | | | | network | Q | | | | | | slice | oS_Susta | | | | | | in | inability | | | | | | formation | | | | | | | (NOTE 3) | Abnormal\ | | | | | | | _Behavior | | | | | | | | | | | | | | C | | | | | | | ongestion | +-----------+-----------+---+-----------+-----------+-----------+ | qosReq | QosRe | C | 0..1 | R | Q | | | quirement | | | epresents | oS_Susta | | | | | | the QoS | inability | | | | | | requ | | | | | | | irements. | | | | | | | This | | | | | | | attribute | | | | | | | shall be | | | | | | | included | | | | | | | when | | | | | | | a | | | | | | | nalyEvent | | | | | | | is | | | | | | | \"QOS\ | | | | | | | _SUSTAINA | | | | | | | BILITY\". | | +-----------+-----------+---+-----------+-----------+-----------+ | NOTE 1: | | | | | | | Either | | | | | | | \"e | | | | | | | xcepIds\" | | | | | | | or | | | | | | | \"expt | | | | | | | AnaType\" | | | | | | | shall be | | | | | | | provided | | | | | | | if the | | | | | | | s | | | | | | | ubscribed | | | | | | | event is | | | | | | | \"ABN | | | | | | | ORMAL_BE | | | | | | | HAVIOR\". | | | | | | | | | | | | | | NOTE 2: | | | | | | | The | | | | | | | Networ | | | | | | | kAreaInfo | | | | | | | within | | | | | | | the | | | | | | | \" | | | | | | | locArea\" | | | | | | | attribute | | | | | | | is not | | | | | | | a | | | | | | | pplicable | | | | | | | for the | | | | | | | untrusted | | | | | | | AF. For | | | | | | | \"NETW | | | | | | | ORK_PERF | | | | | | | ORMANCE\" | | | | | | | or | | | | | | | \"CON | | | | | | | GESTION\" | | | | | | | event, | | | | | | | the | | | | | | | \" | | | | | | | locArea\" | | | | | | | attribute | | | | | | | shall be | | | | | | | provided | | | | | | | if the | | | | | | | event | | | | | | | applied | | | | | | | for all | | | | | | | UEs (i.e. | | | | | | | \"a | | | | | | | nyUeInd\" | | | | | | | attribute | | | | | | | set to | | | | | | | true | | | | | | | within | | | | | | | the | | | | | | | T | | | | | | | argetUeId | | | | | | | data). | | | | | | | For | | | | | | | \"QOS | | | | | | | _SUSTAIN | | | | | | | ABILITY\" | | | | | | | event, | | | | | | | this | | | | | | | attribute | | | | | | | shall be | | | | | | | provided. | | | | | | | | | | | | | | NOTE 3: | | | | | | | For | | | | | | | \"AB | | | | | | | NORMAL_B | | | | | | | EHAVIOR\" | | | | | | | event | | | | | | | with | | | | | | | \" | | | | | | | anyUeId\" | | | | | | | attribute | | | | | | | in | | | | | | | \"tgtUe\" | | | | | | | attribute | | | | | | | sets to | | | | | | | true, | | | | | | | | | | | | | | > \- at | | | | | | | > least | | | | | | | > one of | | | | | | | > the | | | | | | | > \" | | | | | | | locArea\" | | | | | | | > and the | | | | | | | > \ | | | | | | | "snssai\" | | | | | | | > | | | | | | | attribute | | | | | | | > should | | | | | | | > be | | | | | | | > | | | | | | | included, | | | | | | | > if the | | | | | | | > | | | | | | | expected | | | | | | | > | | | | | | | analytics | | | | | | | > type | | | | | | | > via | | | | | | | > | | | | | | | the\"expt | | | | | | | AnaType\" | | | | | | | > | | | | | | | attribute | | | | | | | > or the | | | | | | | > list of | | | | | | | > | | | | | | | Exception | | | | | | | > Ids via | | | | | | | > the | | | | | | | > \"e | | | | | | | xcepIds\" | | | | | | | > | | | | | | | attribute | | | | | | | > is | | | | | | | > | | | | | | | mobility | | | | | | | > | | | | | | | related; | | | | | | | > | | | | | | | > \- at | | | | | | | > least | | | | | | | > one of | | | | | | | > the | | | | | | | > \"l | | | | | | | ocArea\", | | | | | | | > \" | | | | | | | appIds\", | | | | | | | > \"dnn\" | | | | | | | > and | | | | | | | > \ | | | | | | | "snssai\" | | | | | | | > | | | | | | | attribute | | | | | | | > should | | | | | | | > be | | | | | | | > | | | | | | | included, | | | | | | | > if the | | | | | | | > | | | | | | | expected | | | | | | | > | | | | | | | analytics | | | | | | | > type | | | | | | | > via | | | | | | | > | | | | | | | the\"expt | | | | | | | AnaType\" | | | | | | | > | | | | | | | attribute | | | | | | | > or the | | | | | | | > list of | | | | | | | > | | | | | | | Exception | | | | | | | > Ids via | | | | | | | > the | | | | | | | > \"e | | | | | | | xcepIds\" | | | | | | | > | | | | | | | attribute | | | | | | | > is | | | | | | | > comm | | | | | | | unication | | | | | | | > | | | | | | | related; | | | | | | | > | | | | | | | > \- the | | | | | | | > | | | | | | | expected | | | | | | | > | | | | | | | analytics | | | | | | | > type | | | | | | | > via | | | | | | | > | | | | | | | the\"expt | | | | | | | AnaType\" | | | | | | | > | | | | | | | attribute | | | | | | | > or the | | | | | | | > list of | | | | | | | > | | | | | | | Exception | | | | | | | > Ids via | | | | | | | > \"e | | | | | | | xcepIds\" | | | | | | | > | | | | | | | attribute | | | | | | | > shall | | | | | | | > not be | | | | | | | > | | | | | | | requested | | | | | | | > for | | | | | | | > both | | | | | | | > | | | | | | | mobility | | | | | | | > and | | | | | | | > comm | | | | | | | unication | | | | | | | > related | | | | | | | > | | | | | | | analytics | | | | | | | > at the | | | | | | | > same | | | | | | | > time. | | | | | | +-----------+-----------+---+-----------+-----------+-----------+
##### 5.6.3.3.14 Type AnalyticsData
Table 5.6.3.3.14-1: Definition of type AnalyticsData
+-----------+-----------+---+-----------+-----------+-----------+ | Attribute | Data type | P | Ca | De | Appl | | name | | | rdinality | scription | icability | +-----------+-----------+---+-----------+-----------+-----------+ | expiry | DateTime | O | 0..1 | Defines | | | | | | | the | | | | | | | e | | | | | | | xpiration | | | | | | | time | | | | | | | after | | | | | | | which the | | | | | | | analytics | | | | | | | in | | | | | | | formation | | | | | | | will | | | | | | | become | | | | | | | invalid. | | +-----------+-----------+---+-----------+-----------+-----------+ | ueMobi | array(U | C | 1..N | Contains | Ue\ | | lityInfos | eMobility | | | the UE | _Mobility | | | Exposure) | | | mobility | | | | | | | inf | | | | | | | ormation. | | | | | | | | | | | | | | Shall be | | | | | | | present | | | | | | | if the | | | | | | | \"ana | | | | | | | lyEvent\" | | | | | | | attribute | | | | | | | sets to | | | | | | | \"UE_M | | | | | | | OBILITY\" | | +-----------+-----------+---+-----------+-----------+-----------+ | ue | arra | C | 1..N | Contains | Ue_Comm | | CommInfos | y(UeCommu | | | the | unication | | | nication) | | | ap | | | | | | | plication | | | | | | | comm | | | | | | | unication | | | | | | | inf | | | | | | | ormation. | | | | | | | | | | | | | | Shall be | | | | | | | present | | | | | | | if the | | | | | | | \"ana | | | | | | | lyEvent\" | | | | | | | attribute | | | | | | | sets to | | | | | | | \"U | | | | | | | E_COMM\" | | +-----------+-----------+---+-----------+-----------+-----------+ | nw | array(Ne | C | 1..N | The | Ne | | PerfInfos | tworkPerf | | | network | twork_Pe | | | Exposure) | | | pe | rformance | | | | | | rformance | | | | | | | inf | | | | | | | ormation. | | | | | | | | | | | | | | Shall be | | | | | | | present | | | | | | | when the | | | | | | | requested | | | | | | | event is | | | | | | | \"NETWO | | | | | | | RK_PERFO | | | | | | | RMANCE\". | | +-----------+-----------+---+-----------+-----------+-----------+ | abno | array | C | 1..N | Contains | Abnormal\ | | rmalInfos | (Abnormal | | | the | _Behavior | | | Exposure) | | | user's | | | | | | | abnormal | | | | | | | behavior | | | | | | | inf | | | | | | | ormation. | | | | | | | | | | | | | | Shall be | | | | | | | present | | | | | | | if the | | | | | | | \"ana | | | | | | | lyEvent\" | | | | | | | attribute | | | | | | | sets to | | | | | | | \"AB | | | | | | | NORMAL_B | | | | | | | EHAVIOR\" | | +-----------+-----------+---+-----------+-----------+-----------+ | con | array(Con | C | 1..N | Contains | C | | gestInfos | gestInfo) | | | the UE's | ongestion | | | | | | user data | | | | | | | c | | | | | | | ongestion | | | | | | | inf | | | | | | | ormation. | | | | | | | | | | | | | | Shall be | | | | | | | present | | | | | | | if the | | | | | | | \"ana | | | | | | | lyEvent\" | | | | | | | attribute | | | | | | | sets to | | | | | | | \"CON | | | | | | | GESTION\" | | +-----------+-----------+---+-----------+-----------+-----------+ | qosSus | array | C | 1..N | Contains | Q | | tainInfos | (QosSusta | | | the QoS | oS_Susta | | | inability | | | susta | inability | | | Exposure) | | | inability | | | | | | | inf | | | | | | | ormation. | | | | | | | | | | | | | | Shall be | | | | | | | present | | | | | | | if the | | | | | | | \"ana | | | | | | | lyEvent\" | | | | | | | attribute | | | | | | | is set to | | | | | | | \"QOS | | | | | | | _SUSTAIN | | | | | | | ABILITY\" | | +-----------+-----------+---+-----------+-----------+-----------+ | suppFeat | Supporte | M | 1 | R | | | | dFeatures | | | epresents | | | | | | | the | | | | | | | features | | | | | | | supported | | | | | | | by both | | | | | | | the AF | | | | | | | and the | | | | | | | NEF. | | +-----------+-----------+---+-----------+-----------+-----------+
##### 5.6.3.3.15 Type AbnormalExposure
Table 5.6.3.3.15-1: Definition of type AbnormalExposure
+-----------+-----------+---+-----------+-----------+-----------+ | Attribute | Data type | P | Ca | De | Appl | | name | | | rdinality | scription | icability | +-----------+-----------+---+-----------+-----------+-----------+ | gpsis | ar | C | 1..N | Each | | | | ray(Gpsi) | | | element | | | | | | | i | | | | | | | dentifies | | | | | | | a UE | | | | | | | which is | | | | | | | affected | | | | | | | with the | | | | | | | E | | | | | | | xception. | | | | | | | | | | | | | | Shall be | | | | | | | present | | | | | | | if the | | | | | | | sub | | | | | | | scription | | | | | | | request | | | | | | | applies | | | | | | | to more | | | | | | | than one | | | | | | | UE. | | +-----------+-----------+---+-----------+-----------+-----------+ | excep | Exception | M | 1 | Contains | | | | | | | the | | | | | | | exception | | | | | | | inf | | | | | | | ormation. | | +-----------+-----------+---+-----------+-----------+-----------+ | appId | Appl | O | 0..1 | I | | | | icationId | | | dentifies | | | | | | | an | | | | | | | app | | | | | | | lication. | | | | | | | May only | | | | | | | be | | | | | | | present | | | | | | | if the | | | | | | | \ | | | | | | | "appIds\" | | | | | | | attribute | | | | | | | was | | | | | | | provided | | | | | | | within | | | | | | | An | | | | | | | alyticsEv | | | | | | | entFilter | | | | | | | during | | | | | | | the | | | | | | | sub | | | | | | | scription | | | | | | | for event | | | | | | | not | | | | | | | ification | | | | | | | p | | | | | | | rocedure. | | +-----------+-----------+---+-----------+-----------+-----------+ | ratio | Samp | C | 0..1 | This | | | | lingRatio | | | attribute | | | | | | | contains | | | | | | | the | | | | | | | p | | | | | | | ercentage | | | | | | | of UEs | | | | | | | with same | | | | | | | analytics | | | | | | | result in | | | | | | | the group | | | | | | | or among | | | | | | | all UEs. | | | | | | | | | | | | | | Shall be | | | | | | | present | | | | | | | if the | | | | | | | analytics | | | | | | | result | | | | | | | applies | | | | | | | for a | | | | | | | group of | | | | | | | UEs or | | | | | | | any UE. | | +-----------+-----------+---+-----------+-----------+-----------+ | c | Uinteger | C | 0..1 | Indicates | | | onfidence | | | | the | | | | | | | c | | | | | | | onfidence | | | | | | | of the | | | | | | | pr | | | | | | | ediction. | | | | | | | (NOTE) | | | | | | | | | | | | | | Shall be | | | | | | | present | | | | | | | if the | | | | | | | analytics | | | | | | | result is | | | | | | | a | | | | | | | pr | | | | | | | ediction. | | | | | | | | | | | | | | Minimum = | | | | | | | 0. | | | | | | | Maximum = | | | | | | | 100. | | +-----------+-----------+---+-----------+-----------+-----------+ | add | Add | O | 0..1 | A | | | tMeasInfo | itionalMe | | | dditional | | | | asurement | | | mea | | | | | | | surement. | | +-----------+-----------+---+-----------+-----------+-----------+ | NOTE: If | | | | | | | the | | | | | | | requested | | | | | | | period | | | | | | | i | | | | | | | dentified | | | | | | | by the | | | | | | | \" | | | | | | | startTs\" | | | | | | | and | | | | | | | \"endTs\" | | | | | | | a | | | | | | | ttributes | | | | | | | in the | | | | | | | \" | | | | | | | EventRepo | | | | | | | rtingRequ | | | | | | | irement\" | | | | | | | type is a | | | | | | | future | | | | | | | time | | | | | | | period, | | | | | | | which | | | | | | | means the | | | | | | | analytics | | | | | | | result is | | | | | | | a | | | | | | | pr | | | | | | | ediction. | | | | | | | If no | | | | | | | s | | | | | | | ufficient | | | | | | | data is | | | | | | | collected | | | | | | | to | | | | | | | provide | | | | | | | the | | | | | | | c | | | | | | | onfidence | | | | | | | of the | | | | | | | p | | | | | | | rediction | | | | | | | before | | | | | | | the time | | | | | | | deadline, | | | | | | | a zero | | | | | | | c | | | | | | | onfidence | | | | | | | shall be | | | | | | | returned. | | | | | | +-----------+-----------+---+-----------+-----------+-----------+
##### 5.6.3.3.16 Type CongestInfo
Table 5.6.3.3.16-1: Definition of type CongestInfo
* * *
Attribute name Data type P Cardinality Description Applicability locArea
LocationArea5G M 1 Network area of interest  
cngAnas array(CongestionAnalytics) M 1..N Represents data congestion analytics
for transfer over the user plane, control plane or both planes.
* * *
##### 5.6.3.3.17 Type CongestionAnalytics
Table 5.6.3.3.17-1: Definition of type CongestionAnalytics
+-----------+-----------+---+-----------+-----------+-----------+ | Attribute | Data type | P | Ca | De | Appl | | name | | | rdinality | scription | icability | +-----------+-----------+---+-----------+-----------+-----------+ | cngType | Conge | M | 1 | R | | | | stionType | | | epresents | | | | | | | c | | | | | | | ongestion | | | | | | | type. | | +-----------+-----------+---+-----------+-----------+-----------+ | tmWdw | T | M | 1 | R | | | | imeWindow | | | epresents | | | | | | | a start | | | | | | | time and | | | | | | | a stop | | | | | | | time | | | | | | | observed | | | | | | | for the | | | | | | | c | | | | | | | ongestion | | | | | | | inf | | | | | | | ormation. | | +-----------+-----------+---+-----------+-----------+-----------+ | nsi | Thres | M | 1 | R | | | | holdLevel | | | epresents | | | | | | | network | | | | | | | c | | | | | | | ongestion | | | | | | | level. | | +-----------+-----------+---+-----------+-----------+-----------+ | c | Uinteger | C | 0..1 | Indicates | | | onfidence | | | | the | | | | | | | c | | | | | | | onfidence | | | | | | | of the | | | | | | | pr | | | | | | | ediction. | | | | | | | (NOTE) | | | | | | | | | | | | | | Shall be | | | | | | | present | | | | | | | if the | | | | | | | analytics | | | | | | | result is | | | | | | | a | | | | | | | pr | | | | | | | ediction. | | | | | | | | | | | | | | Minimum = | | | | | | | 0. | | | | | | | Maximum = | | | | | | | 100. | | +-----------+-----------+---+-----------+-----------+-----------+ | NOTE: If | | | | | | | the | | | | | | | requested | | | | | | | period | | | | | | | i | | | | | | | dentified | | | | | | | by the | | | | | | | \" | | | | | | | startTs\" | | | | | | | and | | | | | | | \"endTs\" | | | | | | | a | | | | | | | ttributes | | | | | | | in the | | | | | | | \" | | | | | | | EventRepo | | | | | | | rtingRequ | | | | | | | irement\" | | | | | | | type is a | | | | | | | future | | | | | | | time | | | | | | | period, | | | | | | | which | | | | | | | means the | | | | | | | analytics | | | | | | | result is | | | | | | | a | | | | | | | pr | | | | | | | ediction. | | | | | | | If no | | | | | | | s | | | | | | | ufficient | | | | | | | data is | | | | | | | collected | | | | | | | to | | | | | | | provide | | | | | | | the | | | | | | | c | | | | | | | onfidence | | | | | | | of the | | | | | | | p | | | | | | | rediction | | | | | | | before | | | | | | | the time | | | | | | | deadline, | | | | | | | a zero | | | | | | | c | | | | | | | onfidence | | | | | | | shall be | | | | | | | returned. | | | | | | +-----------+-----------+---+-----------+-----------+-----------+
##### 5.6.3.3.18 Type QosSustainabilityExposure
Table 5.6.3.3.18-1: Definition of type QosSustainabilityExposure
+-----------+-----------+---+-----------+-----------+-----------+ | Attribute | Data type | P | Ca | De | Appl | | name | | | rdinality | scription | icability | +-----------+-----------+---+-----------+-----------+-----------+ | locArea | Locat | M | 1 | Identifi | | | | ionArea5G | | | cation(s) | | | | | | | of | | | | | | | a | | | | | | | pplicable | | | | | | | location | | | | | | | areas | | | | | | | where the | | | | | | | analytics | | | | | | | result | | | | | | | applies. | | +-----------+-----------+---+-----------+-----------+-----------+ | startTs | DateTime | M | 1 | R | | | | | | | epresents | | | | | | | the start | | | | | | | time of | | | | | | | the | | | | | | | a | | | | | | | pplicable | | | | | | | observing | | | | | | | period. | | +-----------+-----------+---+-----------+-----------+-----------+ | endTs | DateTime | M | 1 | R | | | | | | | epresents | | | | | | | the end | | | | | | | time of | | | | | | | the | | | | | | | a | | | | | | | pplicable | | | | | | | observing | | | | | | | period. | | +-----------+-----------+---+-----------+-----------+-----------+ | qosF | Reta | O | 0..1 | The | | | lowRetThd | inability | | | reporting | | | | Threshold | | | QoS Flow | | | | | | | Reta | | | | | | | inability | | | | | | | Threshold | | | | | | | that are | | | | | | | met or | | | | | | | crossed | | | | | | | for 5QI | | | | | | | of GBR | | | | | | | resource | | | | | | | type. | | | | | | | | | | | | | | (NOTE 1) | | +-----------+-----------+---+-----------+-----------+-----------+ | ranU | BitRate | O | 0..1 | The | | | eThrouThd | | | | reporting | | | | | | | RAN UE | | | | | | | T | | | | | | | hroughput | | | | | | | Threshold | | | | | | | that are | | | | | | | met or | | | | | | | crossed | | | | | | | for 5QI | | | | | | | of | | | | | | | non-GBR | | | | | | | resource | | | | | | | type. | | | | | | | | | | | | | | (NOTE 1) | | +-----------+-----------+---+-----------+-----------+-----------+ | c | Uinteger | C | 0..1 | Indicates | | | onfidence | | | | the | | | | | | | c | | | | | | | onfidence | | | | | | | of the | | | | | | | pr | | | | | | | ediction. | | | | | | | (NOTE 2) | | | | | | | | | | | | | | Shall be | | | | | | | present | | | | | | | if the | | | | | | | analytics | | | | | | | result is | | | | | | | a | | | | | | | pr | | | | | | | ediction. | | | | | | | | | | | | | | Minimum = | | | | | | | 0. | | | | | | | Maximum = | | | | | | | 100. | | +-----------+-----------+---+-----------+-----------+-----------+ | NOTE 1: | | | | | | | Either | | | | | | | qosF | | | | | | | lowRetThd | | | | | | | or | | | | | | | ranU | | | | | | | eThrouThd | | | | | | | shall be | | | | | | | provided. | | | | | | | | | | | | | | NOTE 2: | | | | | | | If the | | | | | | | requested | | | | | | | period | | | | | | | i | | | | | | | dentified | | | | | | | by the | | | | | | | \" | | | | | | | startTs\" | | | | | | | and | | | | | | | \"endTs\" | | | | | | | a | | | | | | | ttributes | | | | | | | in the | | | | | | | \" | | | | | | | EventRepo | | | | | | | rtingRequ | | | | | | | irement\" | | | | | | | type is a | | | | | | | future | | | | | | | time | | | | | | | period, | | | | | | | which | | | | | | | means the | | | | | | | analytics | | | | | | | result is | | | | | | | a | | | | | | | pr | | | | | | | ediction. | | | | | | | If no | | | | | | | s | | | | | | | ufficient | | | | | | | data is | | | | | | | collected | | | | | | | to | | | | | | | provide | | | | | | | the | | | | | | | c | | | | | | | onfidence | | | | | | | of the | | | | | | | p | | | | | | | rediction | | | | | | | before | | | | | | | the time | | | | | | | deadline, | | | | | | | a zero | | | | | | | c | | | | | | | onfidence | | | | | | | shall be | | | | | | | returned. | | | | | | +-----------+-----------+---+-----------+-----------+-----------+
##### 5.6.3.3.19 Type NetworkPerfExposure
Table 5.6.3.3.19-1: Definition of type NetworkPerfExposure
+-----------+-----------+---+-----------+-----------+-----------+ | Attribute | Data type | P | Ca | De | Appl | | name | | | rdinality | scription | icability | +-----------+-----------+---+-----------+-----------+-----------+ | locArea | Locat | M | 1 | Ident | | | | ionArea5G | | | ification | | | | | | | of | | | | | | | network | | | | | | | area to | | | | | | | which the | | | | | | | sub | | | | | | | scription | | | | | | | applies. | | +-----------+-----------+---+-----------+-----------+-----------+ | n | Networ | M | 1 | The type | | | wPerfType | kPerfType | | | of the | | | | | | | network | | | | | | | pe | | | | | | | rformance | | +-----------+-----------+---+-----------+-----------+-----------+ | rela | Samp | O | 0..1 | The | | | tiveRatio | lingRatio | | | reported | | | | | | | relative | | | | | | | ratio | | | | | | | expressed | | | | | | | in | | | | | | | pe | | | | | | | rcentage. | | | | | | | (NOTE 1) | | +-----------+-----------+---+-----------+-----------+-----------+ | ab | Uinteger | O | 0..1 | The | | | soluteNum | | | | reported | | | | | | | absolute | | | | | | | number | | | | | | | (NOTE 1) | | +-----------+-----------+---+-----------+-----------+-----------+ | c | Uinteger | C | 0..1 | Indicates | | | onfidence | | | | the | | | | | | | c | | | | | | | onfidence | | | | | | | of the | | | | | | | pr | | | | | | | ediction. | | | | | | | (NOTE 2) | | | | | | | | | | | | | | Shall be | | | | | | | present | | | | | | | if the | | | | | | | analytics | | | | | | | result is | | | | | | | a | | | | | | | pr | | | | | | | ediction. | | | | | | | | | | | | | | Minimum = | | | | | | | 0. | | | | | | | Maximum = | | | | | | | 100. | | +-----------+-----------+---+-----------+-----------+-----------+ | NOTE 1: | | | | | | | Either | | | | | | | rela | | | | | | | tiveRatio | | | | | | | or | | | | | | | ab | | | | | | | soluteNum | | | | | | | shall be | | | | | | | provided. | | | | | | | | | | | | | | NOTE 2: | | | | | | | If the | | | | | | | requested | | | | | | | period | | | | | | | i | | | | | | | dentified | | | | | | | by the | | | | | | | \" | | | | | | | startTs\" | | | | | | | and | | | | | | | \"endTs\" | | | | | | | a | | | | | | | ttributes | | | | | | | in the | | | | | | | \" | | | | | | | EventRepo | | | | | | | rtingRequ | | | | | | | irement\" | | | | | | | type is a | | | | | | | future | | | | | | | time | | | | | | | period, | | | | | | | which | | | | | | | means the | | | | | | | analytics | | | | | | | result is | | | | | | | a | | | | | | | pr | | | | | | | ediction. | | | | | | | If no | | | | | | | s | | | | | | | ufficient | | | | | | | data is | | | | | | | collected | | | | | | | to | | | | | | | provide | | | | | | | the | | | | | | | c | | | | | | | onfidence | | | | | | | of the | | | | | | | p | | | | | | | rediction | | | | | | | before | | | | | | | the time | | | | | | | deadline, | | | | | | | a zero | | | | | | | c | | | | | | | onfidence | | | | | | | shall be | | | | | | | returned. | | | | | | +-----------+-----------+---+-----------+-----------+-----------+
##### 5.6.3.3.20 Type AnalyticsFailureEventInfo
Table 5.6.3.3.20-1: Definition of type AnalyticsFailureEventInfo
* * *
Attribute name Data type P Cardinality Description Applicability event
AnalyticsEvent M 1 Event that is subscribed.  
failureCode AnalyticsFailureCode M 1 Identifies the failure reason
* * *
#### 5.6.3.4 Simple data types and enumerations
##### 5.6.3.4.1 Introduction
This subclause defines simple data types and enumerations that can be
referenced from data structures defined in the previous subclauses.
##### 5.6.3.4.2 Simple data types
The simple data types defined in table 5.6.3.4.2-1 shall be supported.
Table 5.6.3.4.2-1: Simple data types
* * *
Type Name Type Definition Description Applicability
* * *
##### 5.6.3.4.3 Enumeration: AnalyticsEvent
The enumeration represents the type of analytics events of which the AF
requests to be notified. It shall comply with the provisions defined in table
5.6.3.4.3-1.
Table 5.6.3.4.3-1: Enumeration AnalyticsEvent
* * *
Enumeration value Description Applicability UE_MOBILITY The AF requests to be
notified about analytics information of UE mobility. Ue_Mobility UE_COMM The
AF requests to be notified about analytics information of UE communication.
Ue_Communication ABNORMAL_BEHAVIOR The AF requests to be notified about
analytics information of UE's abnormal behavior. Abnormal_Behavior CONGESTION
The AF requests to be notified about analytics information of user data
congestion information. Congestion NETWORK_PERFORMANCE The AF requests to be
notified about analytics information of network performance information.
Network_Performance QOS_SUSTAINABILITY The AF requests to be notified about
analytics information of QoS sustainability. QoS_Sustainability
* * *
##### 5.6.3.4.4 Enumeration: AnalyticsFailureCode
Table 5.6.3.4.4-1: Enumeration AnalyticsFailureCode
* * *
Enumeration value Description Applicability BOTH_STAT_PRED_NOT_ALLOWED The
event is rejected since the start time is in the past and the end time is in
the future, which means the NF service consumer requested both statistics and
prediction for the analytics.  
UNAVAILABLE_DATA The event is rejected since necessary data to perform the
service is unavailable.  
OTHER The event is rejected due to other reasons.
* * *
### 5.6.4 Used Features
The table below defines the features applicable to the AnalyticsExposure API.
Those features are negotiated as described in subclause 5.2.7 of 3GPP TS
29.122 [4].
Table 5.6.4-1: Features used by AnalyticsExposure API
* * *
Feature number Feature Name Description 1 Ue_Mobility This feature indicates
support for the analytics event related to UE mobility. 2 Ue_Communication
This feature indicates support for the analytics event related to UE
communication information. 3 Abnormal_Behavior This feature indicates support
for the analytics event related to UE's abnormal behaviour. 4 Congestion This
feature indicates support for the analytics event related to UE's user data
congestion information. 5 Network_Performance This feature indicates support
for the analytics event related to network performance. 6 QoS_Sustainability
This feature indicates support for the analytics event related to QoS
sustainability. 7 Notification_websocket The delivery of notifications over
Websocket is supported as described in 3GPP TS 29.122 [4]. This feature
requires that the Notification_test_event feature is also supported. 8
Notification_test_event The testing of notification connection is supported as
described in 3GPP TS 29.122 [4].
* * *
### 5.6.5 Error handling
#### 5.6.5.1 General
HTTP error handling shall be supported as specified in subclause 5.2.6 of 3GPP
TS 29.122 [4].
In addition, the requirements in the following subclauses shall apply.
#### 5.6.5.2 Protocol Errors
In this Release of the specification, there are no additional protocol errors
applicable for the AnalyticsExposure API.
#### 5.6.5.3 Application Errors
The application errors defined for the AnalyticsExposure API are listed in
table 5.6.5.3-1. The NEF shall include in the HTTP status code a
\"ProblemDetails\" data structure with the \"cause\" attribute indicating the
application error as listed in table 5.6.5.3-1.
Table 5.6.5.3-1: Application errors
* * *
**Application Error** **HTTP status code** **Description**
SUBSCRIPTION_NOT_FOUND 404 Not Found Indicates the Individual Analytics
Exposure Subscription resource does not exist. (NOTE)
BOTH_STAT_PRED_NOT_ALLOWED 400 Bad Request For the requested observation
period, the start time is in the past and the end time is in the future, which
means the AF requested both statistics and prediction for the analytics.
UNAVAILABLE_DATA 500 Internal Server Error Indicates the requested statistics
in the past is rejected since necessary data to perform the service is
unavailable. NOTE: This application error is only applicable for the responses
to the GET, PUT and the DELETE requests.
* * *
## 5.7 5GLANParameterProvision API
### 5.7.1 Resources
#### 5.7.1.1 Overview
All resource URIs of this API should have the following root:
**{apiRoot}/3gpp-5glan-pp/v1/**
\"apiRoot\" is set as described in subclause 5.2.4 in 3GPP TS 29.122 [4].
\"apiName\" shall be set to \"3gpp-5glan-pp\" and \"apiVersion\" shall be set
to \"v1\" for the current version defined in the present document. All
resource URIs in the subclauses below are defined relative to the above root
URI.
This subclause describes the structure for the Resource URIs as shown in
figure 5.7.1.1-1 and the resources and HTTP methods used for the
5GLANParameterProvision API.
Figure 5.7.1.1-1: Resource URI structure of the 5GLANParameterProvision API
Table 5.7.1.1-1 provides an overview of the resources and HTTP methods
applicable for the 5GLANParameterProvision API.
Table 5.7.1.1-1: Resources and methods overview
* * *
Resource name Resource URI HTTP method Description 5GLAN Parameters Provision
Subscriptions /{afId}/subscriptions GET Read all subscriptions for a given AF
POST Create a new subscription to provision parameters Individual 5GLAN
Parameters Provision Subscription /{afId}/subscriptions/{subscriptionId} GET
Read an existing subscription identified by {subscriptionId} PUT Modify all of
the properties of an existing subscription identified by {subscriptionId}
PATCH Modify some properties of an existing subscription identified by
{subscriptionId} DELETE Delete a subscription identified by {subscriptionId}
* * *
#### 5.7.1.2 Resource: 5GLAN Parameters Provision Subscriptions
##### 5.7.1.2.1 Introduction
This resource allows a AF to read all active 5GLAN parameters provision
subscribtions for the given AF, or create an new individual 5GLAN parameters
provision subscription to provision parameters to the NEF.
##### 5.7.1.2.2 Resource Definition
Resource URI: **{apiRoot}/3gpp-5glan-pp/v1/{afId}/subscriptions**
This resource shall support the resource URI variables defined in table
5.7.1.2.2-1.
Table 5.7.1.2.2-1: Resource URI variables for this resource
* * *
Name Data type Definition apiRoot string Subclause 5.2.4 of 3GPP TS 29.122
[4]. afId string Identifier of the AF.
* * *
##### 5.7.1.2.3 Resource Methods
###### 5.7.1.2.3.1 General
The following subclauses specify the resource methods supported by the
resource as described in subclause 5.7.1.2.2.
###### 5.7.1.2.3.2 GET
The GET method allows to read all active subscriptions for a given AF. The AF
shall initiate the HTTP GET request message and the NEF shall respond to the
message.
This method shall support the URI query parameters specified in table
5.7.1.2.3.2-1.
Table 5.7.1.2.3.2-1: URI query parameters supported by the GET method on this
resource
* * *
Name Data type P Cardinality Description N/A
* * *
This method shall support the request data structures specified in table
5.7.1.2.3.2-2 and the response data structures and response codes specified in
table 5.7.1.2.3.2-3.
Table 5.7.1.2.3.2-2: Data structures supported by the GET Request Body on this
resource
* * *
Data type P Cardinality Description N/A
* * *
Table 5.7.1.2.3.2-3: Data structures supported by the GET Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | array | M | 0..N | 200 OK | All the | | (5GLanParamet | | | | subscription | | ersProvision) | | | | information | | | | | | for the AF in | | | | | | the request | | | | | | URI are | | | | | | returned. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 307 Temporary | Temporary | | | | | Redirect | redirection, | | | | | | during | | | | | | subscription | | | | | | retrieval. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | sub | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 308 Permanent | Permanent | | | | | Redirect | redirection, | | | | | | during | | | | | | subscription | | | | | | retrieval. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | sub | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the GET | | | | | | method listed | | | | | | in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.7.1.2.3.2-4: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
Table 5.7.1.2.3.2-5: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
###### 5.7.1.2.3.3 POST
The POST method creates a new resource to individual 5GLAN parameters
provision subscription for a given AF. The AF shall initiate the HTTP POST
request message and the NEF shall respond to the message. The NEF shall
construct the URI of the created resource.
This method shall support the request data structures specified in table
5.7.1.2.3.3-1 and the response data structures and response codes specified in
table 5.7.1.2.3.3-2.
Table 5.7.1.2.3.3-1: Data structures supported by the POST Request Body on
this resource
* * *
Data type P Cardinality Description 5GLanParametersProvision M 1 Parameters to
create a subscription to provision parameters.
* * *
Table 5.7.1.2.3.3-2: Data structures supported by the POST Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | 5GLanParame | M | 1 | 201 Created | The | | tersProvision | | | | subscription | | | | | | was created | | | | | | successfully. | | | | | | | | | | | | The URI of | | | | | | the created | | | | | | resource | | | | | | shall be | | | | | | returned in | | | | | | the | | | | | | \"Location\" | | | | | | HTTP header. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the POST | | | | | | method listed | | | | | | in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.7.1.2.3.3-3: Headers supported by the 201 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 Contains the URI
of the newly created resource, according to the structure:
{apiRoot}/3gpp-5glan-pp/v1/{afId}/subscriptions/{subscriptionId}
* * *
#### 5.7.1.3 Resource: Individual 5GLAN Parameters Provision Subscription
##### 5.7.1.3.1 Introduction
This resource allows a AF to read, update or delete an existing subscription
to provision 5GLAN parameters.
##### 5.7.1.3.2 Resource Definition
Resource URI: **{apiRoot}/3gpp-5glan-
pp/v1/{afId}/subscriptions/{subscriptionId}**
This resource shall support the resource URI variables defined in table
5.7.1.3.2-1.
Table 5.7.1.3.2-1: Resource URI variables for this resource
* * *
Name Data type Definition apiRoot string Subclause 5.2.4 of 3GPP TS 29.122
[4]. afId string Identifier of the AF. subscriptionId string Identifier of the
subscription resource.
* * *
##### 5.7.1.3.3 Resource Methods
###### 5.7.1.3.3.1 General
The following subclauses specify the resource methods supported by the
resource as described in subclause 5.7.1.3.2.
###### 5.7.1.3.3.2 GET
The GET method allows to read the active subscription for a given AF and
subscription Id. The AF shall initiate the HTTP GET request message and the
NEF shall respond to the message.
This method shall support the URI query parameters specified in table
5.7.1.3.3.2-1.
Table 5.7.1.3.3.2-1: URI query parameters supported by the GET method on this
resource
* * *
Name Data type P Cardinality Description N/A
* * *
This method shall support the request data structures specified in table
5.7.1.3.3.2-2 and the response data structures and response codes specified in
table 5.7.1.3.3.2-3.
Table 5.7.1.3.3.2-2: Data structures supported by the GET Request Body on this
resource
* * *
Data type P Cardinality Description N/A
* * *
Table 5.7.1.3.3.2-3: Data structures supported by the GET Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | 5GLanParame | M | 1 | 200 OK | The | | tersProvision | | | | information | | | | | | for the | | | | | | subscription | | | | | | in the | | | | | | request URI | | | | | | are returned. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 307 Temporary | Temporary | | | | | Redirect | redirection, | | | | | | during | | | | | | subscription | | | | | | retrieval. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | sub | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 308 Permanent | Permanent | | | | | Redirect | redirection, | | | | | | during | | | | | | subscription | | | | | | retrieval. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | sub | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the GET | | | | | | method listed | | | | | | in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.7.1.3.3.2-4: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
Table 5.7.1.3.3.2-5: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
###### 5.7.1.3.3.3 PUT
The PUT method modifies an existing resource to update a subscription. The AF
shall initiate the HTTP PUT request message and the NEF shall respond to the
message.
This method shall support the request data structures specified in table
5.7.1.3.3.3-1 and the response data structures and response codes specified in
table 5.7.1.3.3.3-2.
Table 5.7.1.3.3.3-1: Data structures supported by the PUT Request Body on this
resource
* * *
Data type P Cardinality Description 5GLanParametersProvision M 1 Modify an
existing subscription to provision parameters.
* * *
Table 5.7.1.3.3.3-2: Data structures supported by the PUT Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | 5GLanParame | M | 1 | 200 OK | The | | tersProvision | | | | subscription | | | | | | was updated | | | | | | successfully. | +---------------+---+-------------+---------------+---------------+ | n/a | | | 204 No | The | | | | | Content | subscription | | | | | | was updated | | | | | | successfully. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 307 Temporary | Temporary | | | | | Redirect | redirection, | | | | | | during | | | | | | subscription | | | | | | modification. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | sub | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 308 Permanent | Permanent | | | | | Redirect | redirection, | | | | | | during | | | | | | subscription | | | | | | modification. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | sub | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the PUT | | | | | | method listed | | | | | | in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.7.1.3.3.3-3: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
Table 5.7.1.3.3.3-4: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
###### 5.7.1.3.3.4 DELETE
The DELETE method deletes an existing individual 5GLAN parameters provision
subscription for a given AF. The AF shall initiate the HTTP DELETE request
message and the NEF shall respond to the message.
This method shall support the URI query parameters specified in table
5.7.1.3.3.4-1.
Table 5.7.1.3.3.4-1: URI query parameters supported by the DELETE method on
this resource
* * *
Name Data type P Cardinality Description N/A
* * *
This method shall support the request data structures specified in table
5.7.1.3.3.4-2 and the response data structures and response codes specified in
table 5.7.1.3.3.4-3.
Table 5.7.1.3.3.4-2: Data structures supported by the DELETE Request Body on
this resource
* * *
Data type P Cardinality Description N/A
* * *
Table 5.7.1.3.3.4-3: Data structures supported by the DELETE Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | N/A | | | 204 No | The | | | | | Content | subscription | | | | | | was | | | | | | terminated | | | | | | successfully. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 307 Temporary | Temporary | | | | | Redirect | redirection, | | | | | | during | | | | | | subscription | | | | | | termination. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | sub | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 308 Permanent | Permanent | | | | | Redirect | redirection, | | | | | | during | | | | | | subscription | | | | | | termination. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | sub | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the | | | | | | DELETE method | | | | | | listed in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.7.1.3.3.4-4: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
Table 5.7.1.3.3.4-5: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
###### 5.7.1.3.3.5 PATCH
The PATCH method allows to change some properties of an existing resource to
update a subscription. The AF shall initiate the HTTP PATCH request message
and the NEF shall respond to the message.
This method shall support the request data structures specified in table
5.7.1.3.3.5-1 and the response data structures and response codes specified in
table 5.7.1.3.3.5-2.
Table 5.7.1.3.3.5-1: Data structures supported by the PATCH Request Body on
this resource
* * *
Data type P Cardinality Description 5GLanParametersProvisionPatch M 1 Modify
an existing subscription to provision parameters.
* * *
Table 5.7.1.3.3.5-2: Data structures supported by the PATCH Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | 5GLanParame | M | 1 | 200 OK | The | | tersProvision | | | | subscription | | | | | | was updated | | | | | | successfully. | +---------------+---+-------------+---------------+---------------+ | n/a | | | 204 No | The | | | | | Content | subscription | | | | | | was updated | | | | | | successfully. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 307 Temporary | Temporary | | | | | Redirect | redirection, | | | | | | during | | | | | | subscription | | | | | | modification. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | sub | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 308 Permanent | Permanent | | | | | Redirect | redirection, | | | | | | during | | | | | | subscription | | | | | | modification. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | sub | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the PATCH | | | | | | method listed | | | | | | in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.7.1.3.3.5-3: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
Table 5.7.1.3.3.5-4: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
### 5.7.1a Notifications
Notifications are not applicable to this API.
### 5.7.2 Data Model
#### 5.7.2.1 General
This subclause specifies the application data model supported by the
5GLANParameterProvision API.
#### 5.7.2.2 Reused data types
The data types reused by the 5GLANParameterProvision API from other
specifications are listed in table 5.7.2.2-1.
Table 5.7.2.2-1: Re-used Data Types
* * *
Data type Reference Comments ApplicationId 3GPP TS 29.571 [8]  
Dnn 3GPP TS 29.571 [8] Identifies a DNN. ExternalGroupId 3GPP TS 29.122 [4]
External Group Identifier for a user group. Gpsi 3GPP TS 29.571 [8] Identifies
a GPSI. Ipv4Addr 3GPP TS 29.571 [8] Identifies an IPv4 address. Ipv6Addr 3GPP
TS 29.571 [8] Identifies an IPv6 address. Link 3GPP TS 29.122 [4] Identifies a
referenced resource. MtcProviderInformation 3GPP TS 29.571 [8] Indicates MTC
provider information for 5G VN Group Configuration authorization. OsId 3GPP TS
29.519 [23] Operating System. PduSessionType 3GPP TS 29.571 [8] PDU session
type. Snssai 3GPP TS 29.571 [8] Identifies the S-NSSAI. SupportedFeatures 3GPP
TS 29.571 [8] Used to negotiate the applicability of the optional features
defined in table 5.7.3-1.
* * *
#### 5.7.2.3 Structured data types
##### 5.7.2.3.1 Introduction
This clause defines the structured data types to be used in resource
representations.
##### 5.7.2.3.2 Type: 5GLanParametersProvision
Table 5.7.2.3.2-1: Definition of type 5GLanParametersProvision
+-----------+-----------+---+-----------+-----------+-----------+ | Attribute | Data type | P | Ca | De | Appl | | name | | | rdinality | scription | icability | +-----------+-----------+---+-----------+-----------+-----------+ | self | Link | C | 0..1 | I | | | | | | | dentifies | | | | | | | the | | | | | | | i | | | | | | | ndividual | | | | | | | p | | | | | | | arameters | | | | | | | provision | | | | | | | sub | | | | | | | scription | | | | | | | resource. | | | | | | | | | | | | | | Shall be | | | | | | | present | | | | | | | in the | | | | | | | HTTP GET | | | | | | | response | | | | | | | when | | | | | | | reading | | | | | | | all the | | | | | | | subs | | | | | | | criptions | | | | | | | for an | | | | | | | AF. | | +-----------+-----------+---+-----------+-----------+-----------+ | 5g | 5GLanP | M | 1 | R | | | LanParams | arameters | | | epresents | | | | | | | the 5G | | | | | | | LAN | | | | | | | service | | | | | | | related | | | | | | | pa | | | | | | | rameters. | | +-----------+-----------+---+-----------+-----------+-----------+ | suppFeat | Supporte | M | 1 | Indicates | | | | dFeatures | | | the | | | | | | | n | | | | | | | egotiated | | | | | | | supported | | | | | | | features. | | +-----------+-----------+---+-----------+-----------+-----------+
##### 5.7.2.3.3 Type: 5GLanParameters
This type represents the 5G LAN service related parameters need to be
provisioned.
Table 5.7.2.3.3-1: Definition of type 5GLanParameters
+-----------+-----------+---+-----------+-----------+-----------+ | Attribute | Data type | P | Ca | De | Appl | | name | | | rdinality | scription | icability | +-----------+-----------+---+-----------+-----------+-----------+ | ext | Extern | M | 1 | I | | | erGroupId | alGroupId | | | dentifies | | | | | | | an 5G | | | | | | | Virtual | | | | | | | Network | | | | | | | Group | | +-----------+-----------+---+-----------+-----------+-----------+ | gpsis | map(Gpsi) | M | 1..N | R | | | | | | | epresents | | | | | | | the list | | | | | | | of 5G VN | | | | | | | Group | | | | | | | members, | | | | | | | each | | | | | | | member is | | | | | | | i | | | | | | | dentified | | | | | | | by GPSI | | +-----------+-----------+---+-----------+-----------+-----------+ | dnn | Dnn | M | 1 | DNN for | | | | | | | the 5G VN | | | | | | | group, a | | | | | | | full DNN | | | | | | | with both | | | | | | | the | | | | | | | Network | | | | | | | I | | | | | | | dentifier | | | | | | | and | | | | | | | Operator | | | | | | | Id | | | | | | | entifier, | | | | | | | or a DNN | | | | | | | with the | | | | | | | Network | | | | | | | I | | | | | | | dentifier | | | | | | | only. | | +-----------+-----------+---+-----------+-----------+-----------+ | aa | Ipv4Addr | O | 1 | I | | | aIpv4Addr | | | | dentifies | | | | | | | the | | | | | | | DN-AAA | | | | | | | server | | | | | | | IPv4 | | | | | | | address | | | | | | | provided | | | | | | | by AF, | | | | | | | for the | | | | | | | secondary | | | | | | | a | | | | | | | uthentica | | | | | | | tion/auth | | | | | | | orization | | | | | | | and/or UE | | | | | | | IP | | | | | | | address | | | | | | | a | | | | | | | llocation | | | | | | | by DN-AAA | | | | | | | server. | | +-----------+-----------+---+-----------+-----------+-----------+ | aa | Ipv6Addr | O | 1 | I | | | aIpv6Addr | | | | dentifies | | | | | | | the | | | | | | | DN-AAA | | | | | | | server | | | | | | | IPv6 | | | | | | | address | | | | | | | provided | | | | | | | by AF, | | | | | | | for the | | | | | | | secondary | | | | | | | a | | | | | | | uthentica | | | | | | | tion/auth | | | | | | | orization | | | | | | | and/or UE | | | | | | | IP | | | | | | | address | | | | | | | a | | | | | | | llocation | | | | | | | by DN-AAA | | | | | | | server. | | +-----------+-----------+---+-----------+-----------+-----------+ | aaaUsgs | array( | O | 1..2 | I | | | | AaaUsage) | | | dentifies | | | | | | | the usage | | | | | | | needs for | | | | | | | secondary | | | | | | | a | | | | | | | uthentica | | | | | | | tion/auth | | | | | | | orization | | | | | | | and/or UE | | | | | | | IP | | | | | | | address | | | | | | | a | | | | | | | llocation | | | | | | | from the | | | | | | | DN-AAA | | | | | | | server. | | +-----------+-----------+---+-----------+-----------+-----------+ | mtcP | MtcP | O | 0..1 | Indicates | | | roviderId | roviderIn | | | MTC | | | | formation | | | provider | | | | | | | in | | | | | | | formation | | | | | | | for 5G VN | | | | | | | Group | | | | | | | Conf | | | | | | | iguration | | | | | | | autho | | | | | | | rization. | | | | | | | (NOTE) | | +-----------+-----------+---+-----------+-----------+-----------+ | snssai | Snssai | M | 1 | S-NSSAI | | | | | | | for the | | | | | | | 5G VN | | | | | | | group | | +-----------+-----------+---+-----------+-----------+-----------+ | se | PduSe | M | 1 | PDU | | | ssionType | ssionType | | | Session | | | | | | | Type | | | | | | | allowed | | | | | | | for 5G VN | | | | | | | group. | | +-----------+-----------+---+-----------+-----------+-----------+ | appDesps | map(AppDe | M | 1..N | Describes | | | | scriptor) | | | the | | | | | | | operation | | | | | | | systems | | | | | | | and the | | | | | | | corr | | | | | | | esponding | | | | | | | app | | | | | | | lications | | | | | | | for each | | | | | | | operation | | | | | | | systems. | | | | | | | The key | | | | | | | of map is | | | | | | | osId. | | +-----------+-----------+---+-----------+-----------+-----------+ | NOTE: The | | | | | | | NEF | | | | | | | should | | | | | | | check | | | | | | | received | | | | | | | MTC | | | | | | | Provider | | | | | | | In | | | | | | | formation | | | | | | | and then | | | | | | | the NEF | | | | | | | may: | | | | | | | | | | | | | | > \- | | | | | | | > | | | | | | | override | | | | | | | > it with | | | | | | | > local | | | | | | | > c | | | | | | | onfigured | | | | | | | > value | | | | | | | > and | | | | | | | > send it | | | | | | | > to UDM; | | | | | | | > | | | | | | | > \- send | | | | | | | > it | | | | | | | > | | | | | | | directly | | | | | | | > to the | | | | | | | > UDM; or | | | | | | | > | | | | | | | > \- | | | | | | | > reject | | | | | | | > the 5G | | | | | | | > VN | | | | | | | > Group | | | | | | | > Conf | | | | | | | iguration | | | | | | | > | | | | | | | request. | | | | | | +-----------+-----------+---+-----------+-----------+-----------+
##### 5.7.2.3.4 Type: AppDescriptor
Table 5.7.2.3.4-1: Definition of type AppDescriptor
* * *
Attribute name Data type P Cardinality Description Applicability osId OsId M 1
Identifies an operating system supported by the UE  
appIds map(ApplicationId) M 1..N Identifies applications that is running on
the UE's operating system.
* * *
##### 5.7.2.3.5 Type: 5GLanParametersProvisionPatch
Table 5.7.2.3.5-1: Definition of type 5GLanParametersProvisionPatch
* * *
Attribute name Data type P Cardinality Description Applicability
5gLanParamsPatch 5GLanParametersPatch O 0..1 Represents the 5G LAN servise
related parameters.
* * *
##### 5.7.2.3.6 Type: 5GLanParametersPatch
Table 5.7.2.3.6-1: Definition of type 5GLanParametersPatch
+-----------+-----------+---+-----------+-----------+-----------+ | Attribute | Data type | P | Ca | De | Appl | | name | | | rdinality | scription | icability | +-----------+-----------+---+-----------+-----------+-----------+ | gpsis | ma | O | 1..N | R | | | | p(GpsiRm) | | | epresents | | | | | | | the list | | | | | | | of 5G VN | | | | | | | Group | | | | | | | members, | | | | | | | each | | | | | | | member is | | | | | | | i | | | | | | | dentified | | | | | | | by GPSI | | +-----------+-----------+---+-----------+-----------+-----------+ | appDesps | ma | O | 1..N | Describes | | | | p(AppDesc | | | the | | | | riptorRm) | | | operation | | | | | | | systems | | | | | | | and the | | | | | | | corr | | | | | | | esponding | | | | | | | app | | | | | | | lications | | | | | | | for each | | | | | | | operation | | | | | | | system. | | | | | | | | | | | | | | The key | | | | | | | of map is | | | | | | | osId. | | +-----------+-----------+---+-----------+-----------+-----------+
##### 5.7.2.3.7 Type: AppDescriptorRm
Table 5.7.2.3.7-1: Definition of type AppDescriptorRm
* * *
Attribute name Data type P Cardinality Description Applicability appIds
map(ApplicationIdRm) O 1..N Identifies application(s) on the UE's operating
system.
* * *
##### 5.7.2.3.8 Enumeration: AaaUsage
Table 5.7.2.3.8-1: Enumeration DnAaaIndicator
The enumeration AaaUsage represents the usage of the DN-AAA server.
* * *
Enumeration value Description \"AUTH\" Secondary authentication/authorization
by DN-AAA server \"IP_ALLOC\" UE IP address allocation by DN-AAA server
* * *
#### 5.7.2.4 Simple data types and enumerations
##### 5.7.2.4.1 Introduction
This subclause defines simple data types and enumerations that can be
referenced from data structures defined in the previous subclauses.
##### 5.7.2.4.2 Simple data types
The simple data types defined in table 5.7.2.4.2-1 shall be supported.
Table 5.7.2.4.2-1: Simple data types
* * *
Type Name Type Definition Description Applicability
* * *
### 5.7.3 Used Features
The table below defines the features applicable to the 5GLANParameterProvision
API. Those features are negotiated as described in subclause 5.2.7 of 3GPP TS
29.122 [4].
Table 5.7.3-1: Features used by 5GLANParameterProvision API
* * *
Feature number Feature Name Description
* * *
## 5.8 ApplyingBdtPolicy API
### 5.8.1 Resources
#### 5.8.1.1 Overview
All resource URIs of this API should have the following root:
**{apiRoot}/3gpp-applying-bdt-policy/v1/**
\"apiRoot\" is set as described in subclause 5.2.4 in 3GPP TS 29.122 [4].
\"apiName\" shall be set to \"3gpp-applying-bdt-policy\" and \"apiVersion\"
shall be set to \"v1\" for the current version defined in the present
document. All resource URIs in the subclauses below are defined relative to
the above root URI.
This subclause describes the structure for the Resource URIs as shown in
figure 5.8.1.1-1 and the resources and HTTP methods used for the
ApplyingBdtPolicy API.
Figure 5.8.1.1-1: Resource URI structure of the ApplyingBdtPolicy API
Table 5.8.1.1-1 provides an overview of the resources and HTTP methods
applicable for the ApplyingBdtPolicy API.
Table 5.8.1.1-1: Resources and methods overview
* * *
Resource name Resource URI HTTP method Description Applied BDT Policy
Subscriptions /{afId}/subscriptions GET Read all applied BDT policy
subscriptions for a given AF. POST Create a new applied policy subscription.
Individual Applied BDT Policy Subscription
/{afId}/subscriptions/{subscriptionId} GET Read an applied BDT policy
subscription. PATCH Modify BDT Reference ID of an existing subscription to a
BDT policy. DELETE Delete an applied BDT policy subscription
* * *
#### 5.8.1.2 Resource: Applied BDT Policy Subscriptions
##### 5.8.1.2.1 Introduction
This resource allows a AF to read all applied BDT policy subscriptions for the
given AF.
##### 5.8.1.2.2 Resource Definition
Resource URI: **{apiRoot}/3gpp-applying-bdt-policy/v1/{afId}/subscriptions**
This resource shall support the resource URI variables defined in table
5.8.1.2.2-1.
Table 5.8.1.2.2-1: Resource URI variables for this resource
* * *
Name Data type Definition apiRoot string Subclause 5.2.4 of 3GPP TS 29.122
[4]. afId string Identifier of the AF.
* * *
##### 5.8.1.2.3 Resource Methods
###### 5.8.1.2.3.1 General
The following subclauses specify the resource methods supported by the
resource as described in subclause 5.8.1.2.2.
###### 5.8.1.2.3.2 GET
The GET method allows to read all active applied BDT policy subscriptions for
a given AF. The AF shall initiate the HTTP GET request message and the NEF
shall respond to the message.
This method shall support the URI query parameters specified in table
5.8.1.2.3.2-1.
Table 5.8.1.2.3.2-1: URI query parameters supported by the GET method on this
resource
* * *
Name Data type P Cardinality Description N/A
* * *
This method shall support the request data structures specified in table
5.8.1.2.3.2-2 and the response data structures and response codes specified in
table 5.8.1.2.3.2-3.
Table 5.8.1.2.3.2-2: Data structures supported by the GET Request Body on this
resource
* * *
Data type P Cardinality Description N/A
* * *
Table 5.8.1.2.3.2-3: Data structures supported by the GET Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | array(Appl | M | 0..N | 200 OK | The applied | | iedBdtPolicy) | | | | BDT Policy | | | | | | subscriptions | | | | | | for the AF in | | | | | | the request | | | | | | URI are | | | | | | returned. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 307 Temporary | Temporary | | | | | Redirect | redirection, | | | | | | during | | | | | | subscription | | | | | | retrieval. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | sub | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 308 Permanent | Permanent | | | | | Redirect | redirection, | | | | | | during | | | | | | subscription | | | | | | retrieval. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | sub | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the GET | | | | | | method listed | | | | | | in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.8.1.2.3.2-4: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
Table 5.8.1.2.3.2-5: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
###### 5.8.1.2.3.3 POST
The POST method creates an applied BDT policy subscription for a given AF. The
AF shall initiate the HTTP POST request message and the NEF shall respond to
the message. The NEF shall construct the URI of the created resource.
This method shall support the request data structures specified in table
5.8.1.2.3.3-1 and the response data structures and response codes specified in
table 5.8.1.2.3.3-2.
Table 5.8.1.2.3.3-1: Data structures supported by the POST Request Body on
this resource
* * *
Data type P Cardinality Description AppliedBdtPolicy M 1 Parameters to create
a subscription of the applied BDT policy.
* * *
Table 5.8.1.2.3.3-2: Data structures supported by the POST Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | App | M | 1 | 201 Created | The | | liedBdtPolicy | | | | subscription | | | | | | was created | | | | | | successfully. | | | | | | | | | | | | The URI of | | | | | | the created | | | | | | resource | | | | | | shall be | | | | | | returned in | | | | | | the | | | | | | \"Location\" | | | | | | HTTP header. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the POST | | | | | | method listed | | | | | | in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.8.1.2.3.3-3: Headers supported by the 201 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 Contains the URI
of the newly created resource, according to the structure: {apiRoot}/3gpp-
applying-bdt-policy/v1/{afId}/subscriptions/{SubscriptionId}
* * *
#### 5.8.1.3 Resource: Individual Applied BDT Policy Subscription
##### 5.8.1.3.1 Introduction
This resource allows a AF to read or delete an active subscription of applied
BDT policy.
##### 5.8.1.3.2 Resource Definition
Resource URI: **{apiRoot}/3gpp-applying-bdt-
policy/v1/{afId}/subscriptions/{subscriptionId}**
This resource shall support the resource URI variables defined in table
5.8.1.3.2-1.
Table 5.8.1.3.2-1: Resource URI variables for this resource
* * *
Name Data type Definition apiRoot string Subclause 5.2.4 of 3GPP TS 29.122
[4]. afId string Identifier of the AF. subscriptionId string Identifier of the
subscription resource.
* * *
##### 5.8.1.3.3 Resource Methods
###### 5.8.1.3.3.1 General
The following subclauses specify the resource methods supported by the
resource as described in subclause 5.8.1.3.2.
###### 5.8.1.3.3.2 GET
The GET method allows to read the active applied BDT policy for a given AF and
subscription Id. The AF shall initiate the HTTP GET request message and the
NEF shall respond to the message.
This method shall support the URI query parameters specified in table
5.8.1.3.3.2-1.
Table 5.8.1.3.3.2-1: URI query parameters supported by the GET method on this
resource
* * *
Name Data type P Cardinality Description N/A
* * *
This method shall support the request data structures specified in table
5.8.1.3.3.2-2 and the response data structures and response codes specified in
table 5.8.1.3.3.2-3.
Table 5.8.1.3.3.2-2: Data structures supported by the GET Request Body on this
resource
* * *
Data type P Cardinality Description N/A
* * *
Table 5.8.1.3.3.2-3: Data structures supported by the GET Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | App | M | 1 | 200 OK | The | | liedBdtPolicy | | | | subscription | | | | | | information | | | | | | for the AF in | | | | | | the request | | | | | | URI are | | | | | | returned. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 307 Temporary | Temporary | | | | | Redirect | redirection, | | | | | | during | | | | | | subscription | | | | | | retrieval. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | sub | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 308 Permanent | Permanent | | | | | Redirect | redirection, | | | | | | during | | | | | | subscription | | | | | | retrieval. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | sub | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the GET | | | | | | method listed | | | | | | in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.8.1.3.3.2-4: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
Table 5.8.1.3.3.2-5: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
###### 5.8.1.3.3.3 PATCH
The PATCH method allows to change some properties of an existing applied BDT
policy subscription. The AF shall initiate the HTTP PATCH request message and
the NEF shall respond to the message.
This method shall support the request data structures specified in table
5.8.1.3.3.3-1 and the response data structures and response codes specified in
table 5.8.1.3.3.3-2.
Table 5.8.1.3.3.3-1: Data structures supported by the PATCH Request Body on
this resource
* * *
Data type P Cardinality Description AppliedBdtPolicyPatch M 1 Partial update
of a subscription to applying BDT policy subscritpion.
* * *
Table 5.8.1.3.3.3-2: Data structures supported by the PATCH Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | App | M | 1 | 200 OK | The | | liedBdtPolicy | | | | subscription | | | | | | was modified | | | | | | successfully. | +---------------+---+-------------+---------------+---------------+ | n/a | | | 204 No | The | | | | | Content | subscription | | | | | | was modified | | | | | | successfully. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 307 Temporary | Temporary | | | | | Redirect | redirection, | | | | | | during | | | | | | subscription | | | | | | modification. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | sub | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 308 Permanent | Permanent | | | | | Redirect | redirection, | | | | | | during | | | | | | subscription | | | | | | modification. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | sub | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the PATCH | | | | | | method listed | | | | | | in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.8.1.3.3.3-3: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
Table 5.8.1.3.3.3-4: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
###### 5.8.1.3.3.4 DELETE
The DELETE method deletes an existing applied BDT policy subscription for a
given AF. The AF shall initiate the HTTP DELETE request message and the NEF
shall respond to the message.
This method shall support the URI query parameters specified in table
5.8.1.3.3.4-1.
Table 5.8.1.3.3.4-1: URI query parameters supported by the DELETE method on
this resource
* * *
Name Data type P Cardinality Description N/A
* * *
This method shall support the request data structures specified in table
5.8.1.3.3.4-2 and the response data structures and response codes specified in
table 5.8.1.3.3.4-3.
Table 5.8.1.3.3.4-2: Data structures supported by the DELETE Request Body on
this resource
* * *
Data type P Cardinality Description N/A
* * *
Table 5.8.1.3.3.4-3: Data structures supported by the DELETE Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | N/A | | | 204 No | The | | | | | Content | subscription | | | | | | was | | | | | | terminated | | | | | | successfully. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 307 Temporary | Temporary | | | | | Redirect | redirection, | | | | | | during | | | | | | subscription | | | | | | termination. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | sub | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 308 Permanent | Permanent | | | | | Redirect | redirection, | | | | | | during | | | | | | subscription | | | | | | termination. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | sub | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the | | | | | | DELETE method | | | | | | listed in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.8.1.3.3.4-4: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
Table 5.8.1.3.3.4-5: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
### 5.8.2 Notifications
Notifications are not applicable to this API.
### 5.8.3 Data Model
#### 5.8.3.1 General
This subclause specifies the application data model supported by the
ApplyingBdtPolicy API.
#### 5.8.3.2 Reused data types
The data types reused by the ApplyingBdtPolicy API from other specifications
are listed in table 5.8.3.2-1.
Table 5.8.3.2-1: Re-used Data Types
* * *
Data type Reference Comments BdtReferenceId 3GPP TS 29.122 [4] Identifier of a
selected BDT policy. Gpsi 3GPP TS 29.571 [8] Identifies a GPSI.
ExternalGroupId 3GPP TS 29.122 [4] External Group Identifier for a user group.
SupportedFeatures 3GPP TS 29.571 [8] Used to negotiate the applicability of
the optional features defined in table 5.8.4-1.
* * *
#### 5.8.3.3 Structured data types
##### 5.8.3.3.1 Introduction
This clause defines the structured data types to be used in resource
representations.
##### 5.8.3.3.2 Type: AppliedBdtPolicy
This type represents an applied BDT policy which is sent from the AF to the
NEF.
Table 5.8.3.3.2-1: Definition of type AppliedBdtPolicy
+-----------+-----------+---+-----------+-----------+-----------+ | Attribute | Data type | P | Ca | De | Appl | | name | | | rdinality | scription | icability | | | | | | | | | | | | | | (NOTE) | +-----------+-----------+---+-----------+-----------+-----------+ | bdtRefId | BdtRe | M | 1 | I | | | | ferenceId | | | dentifies | | | | | | | a | | | | | | | selected | | | | | | | policy of | | | | | | | b | | | | | | | ackground | | | | | | | data | | | | | | | transfer. | | +-----------+-----------+---+-----------+-----------+-----------+ | gpsi | Gpsi | C | 0..1 | I | | | | | | | dentifies | | | | | | | a user. | | +-----------+-----------+---+-----------+-----------+-----------+ | extern | Extern | C | 0..1 | I | | | alGroupId | alGroupId | | | dentifies | | | | | | | a user | | | | | | | group. | | +-----------+-----------+---+-----------+-----------+-----------+ | suppFeat | Supporte | M | 1 | Indicates | | | | dFeatures | | | the list | | | | | | | of | | | | | | | Supported | | | | | | | features | | | | | | | used as | | | | | | | described | | | | | | | in | | | | | | | subclau | | | | | | | se 5.8.4. | | | | | | | | | | | | | | This | | | | | | | attribute | | | | | | | shall be | | | | | | | provided | | | | | | | in the | | | | | | | POST | | | | | | | request | | | | | | | and in | | | | | | | the | | | | | | | response | | | | | | | of | | | | | | | s | | | | | | | uccessful | | | | | | | resource | | | | | | | creation | | +-----------+-----------+---+-----------+-----------+-----------+ | self | Link | C | 0..1 | I | | | | | | | dentifies | | | | | | | the | | | | | | | I | | | | | | | ndividual | | | | | | | Applied | | | | | | | BDT | | | | | | | Policy | | | | | | | Sub | | | | | | | scription | | | | | | | resource. | | | | | | | | | | | | | | Shall be | | | | | | | present | | | | | | | in the | | | | | | | HTTP GET | | | | | | | response | | | | | | | when | | | | | | | reading | | | | | | | all the | | | | | | | subs | | | | | | | criptions | | | | | | | for an | | | | | | | AF. | | +-----------+-----------+---+-----------+-----------+-----------+ | NOTE: | | | | | | | Only one | | | | | | | of the | | | | | | | p | | | | | | | roperties | | | | | | | \"gpsi\" | | | | | | | or | | | | | | | \ | | | | | | | "external | | | | | | | GroupId\" | | | | | | | shall be | | | | | | | included. | | | | | | +-----------+-----------+---+-----------+-----------+-----------+
##### 5.8.3.3.3 Type: AppliedBdtPolicyPatch
This type represents a subscription of applied BDT policy parameters provided
by the AF to the NEF. The structure is used for HTTP PATCH request.
Table 5.8.3.3.2-1: Definition of type AppliedBdtPolicyPatch
* * *
Attribute name Data type P Cardinality Description Applicability bdtRefId
BdtReferenceId M 1 Identifies a selected policy of background data transfer.
* * *
#### 5.8.3.4 Simple data types and enumerations
##### 5.8.3.4.1 Introduction
This subclause defines simple data types and enumerations that can be
referenced from data structures defined in the previous subclauses.
##### 5.8.3.4.2 Simple data types
The simple data types defined in table 5.8.3.4.2-1 shall be supported.
Table 5.8.3.4.2-1: Simple data types
* * *
Type Name Type Definition Description Applicability
* * *
### 5.8.4 Used Features
The table below defines the features applicable to the ApplyingBdtPolicy API.
Those features are negotiated as described in subclause 5.2.7 of 3GPP TS
29.122 [4].
Table 5.8.4-1: Features used by ApplyingBdtPolicy API
* * *
Feature number Feature Name Description
* * *
## 5.9 IPTVConfiguration API
### 5.9.1 Resources
#### 5.9.1.1 Overview
All resource URIs of this API should have the following root:
**{apiRoot}/3gpp-iptvconfiguration/v1/**
\"apiRoot\" is set as described in subclause 5.2.4 in 3GPP TS 29.122 [4].
\"apiName\" shall be set to \"3gpp-iptvconfiguration\" and \"apiVersion\"
shall be set to \"v1\" for the current version defined in the present
document. All resource URIs in the subclauses below are defined relative to
the above root URI.
This subclause describes the structure for the Resource URIs as shown in
figure 5.9.1.1-1 and the resources and HTTP methods used for the
IPTVConfiguration API.
Figure 5.9.1.1-1: Resource URI structure of the IPTVConfiguration API
Table 5.9.1.1-1 provides an overview of the resources and HTTP methods
applicable for the IPTVConfiguration API.
Table 5.9.1.1-1: Resources and methods overview
* * *
Resource name Resource URI HTTP method Description IPTV Configurations
/{afId}/configurations GET Read all configurations for a given AF POST Create
a new IPTV configuration Individual IPTV Configuration
/{afId}/configurations/{configurationId} GET Read an existing configuration
identified by {configurationId} PUT Modify all of the properties of an
existing configuration identified by **{** configurationId**}** PATCH Modify
some of the properties of an existing configuration identified by
{configurationId} DELETE Delete a configuration identified by **{**
configurationId**}**
* * *
#### 5.9.1.2 Resource: IPTV Configurations
##### 5.9.1.2.1 Introduction
This resource allows a AF to read all active IPTV configurations for the given
AF, or create an new individual IPTV configuration in the NEF.
##### 5.9.1.2.2 Resource Definition
Resource URI: **{apiRoot}/3gpp-iptvconfiguration/v1/{afId}/configurations**
This resource shall support the resource URI variables defined in table
5.9.1.2.2-1.
Table 5.9.1.2.2-1: Resource URI variables for this resource
* * *
Name Data type Definition apiRoot string Subclause 5.2.4 of 3GPP TS 29.122
[4]. afId string Identifier of the AF.
* * *
##### 5.9.1.2.3 Resource Methods
###### 5.9.1.2.3.1 General
The following subclauses specify the resource methods supported by the
resource as described in subclause 5.9.1.2.2.
###### 5.9.1.2.3.2 GET
The GET method allows to read all active configurations for a given AF. The AF
shall initiate the HTTP GET request message and the NEF shall respond to the
message.
This method shall support the URI query parameters specified in table
5.9.1.2.3.2-1.
Table 5.9.1.2.3.2-1: URI query parameters supported by the GET method on this
resource
* * *
Name Data type P Cardinality Description N/A
* * *
This method shall support the request data structures specified in table
5.9.1.2.3.2-2 and the response data structures and response codes specified in
table 5.9.1.2.3.2-3.
Table 5.9.1.2.3.2-2: Data structures supported by the GET Request Body on this
resource
* * *
Data type P Cardinality Description N/A
* * *
Table 5.9.1.2.3.2-3: Data structures supported by the GET Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | array(Ip | M | 0..N | 200 OK | All the | | tvConfigData) | | | | configuration | | | | | | information | | | | | | for the AF in | | | | | | the request | | | | | | URI are | | | | | | returned. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 307 Temporary | Temporary | | | | | Redirect | redirection, | | | | | | during | | | | | | resource | | | | | | retrieval. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | sub | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 308 Permanent | Permanent | | | | | Redirect | redirection, | | | | | | during | | | | | | resource | | | | | | retrieval. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | sub | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the GET | | | | | | method listed | | | | | | in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.9.1.2.3.2-4: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
Table 5.9.1.2.3.2-5: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
###### 5.9.1.2.3.3 POST
The POST method creates a new resource to individual IPTV configuration for a
given AF. The AF shall initiate the HTTP POST request message and the NEF
shall respond to the message. The NEF shall construct the URI of the created
resource.
This method shall support the request data structures specified in table
5.9.1.2.3.3-1 and the response data structures and response codes specified in
table 5.9.1.2.3.3-2.
Table 5.9.1.2.3.3-1: Data structures supported by the POST Request Body on
this resource
* * *
Data type P Cardinality Description IptvConfigData M 1 Parameters to create an
IPTV Configuration resource.
* * *
Table 5.9.1.2.3.3-2: Data structures supported by the POST Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | I | M | 1 | 201 Created | The | | ptvConfigData | | | | configuration | | | | | | resource was | | | | | | created | | | | | | successfully. | | | | | | | | | | | | The URI of | | | | | | the created | | | | | | resource | | | | | | shall be | | | | | | returned in | | | | | | the | | | | | | \"Location\" | | | | | | HTTP header. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the POST | | | | | | method listed | | | | | | in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.9.1.2.3.3-3: Headers supported by the 201 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 Contains the URI
of the newly created resource, according to the structure: {apiRoot}/3gpp-
iptvconfiguration/v1/{afId}/configurations/{configurationId}
* * *
#### 5.9.1.3 Resource: Individual IPTV Configuration
##### 5.9.1.3.1 Introduction
This resource allows a AF to read, update or delete an existing IPTV
Configuration.
##### 5.9.1.3.2 Resource Definition
Resource URI: **{apiRoot}/3gpp-
iptvconfiguration/v1/{afId}/configurations/{configurationId}**
This resource shall support the resource URI variables defined in table
5.9.1.3.2-1.
Table 5.9.1.3.2-1: Resource URI variables for this resource
* * *
Name Data type Definition apiRoot string Subclause 5.2.4 of 3GPP TS 29.122
[4]. afId string Identifier of the AF. configurationId string Identifier of
the configuration resource.
* * *
##### 5.9.1.3.3 Resource Methods
###### 5.9.1.3.3.1 General
The following subclauses specify the resource methods supported by the
resource as described in subclause 5.9.1.3.2.
###### 5.9.1.3.3.2 GET
The GET method allows to read the active configuration for a given AF and
subscription Id. The AF shall initiate the HTTP GET request message and theNEF
shall respond to the message.
This method shall support the URI query parameters specified in table
5.9.1.3.3.2-1.
Table 5.9.1.3.3.2-1: URI query parameters supported by the GET method on this
resource
* * *
Name Data type P Cardinality Description N/A
* * *
This method shall support the request data structures specified in table
5.9.1.3.3.2-2 and the response data structures and response codes specified in
table 5.9.1.3.3.2-3.
Table 5.9.1.3.3.2-2: Data structures supported by the GET Request Body on this
resource
* * *
Data type P Cardinality Description N/A
* * *
Table 5.9.1.3.3.2-3: Data structures supported by the GET Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | I | M | 1 | 200 OK | The | | ptvConfigData | | | | information | | | | | | for the | | | | | | configuration | | | | | | in the | | | | | | request URI | | | | | | are returned. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 307 Temporary | Temporary | | | | | Redirect | redirection, | | | | | | during | | | | | | resource | | | | | | retrieval. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | sub | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 308 Permanent | Permanent | | | | | Redirect | redirection, | | | | | | during | | | | | | resource | | | | | | retrieval. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | sub | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the GET | | | | | | method listed | | | | | | in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.9.1.3.3.2-4: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
Table 5.9.1.3.3.2-5: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
###### 5.9.1.3.3.3 PUT
The PUT method modifies an existing resource to update a configuration. The AF
shall initiate the HTTP PUT request message and the NEF shall respond to the
message.
This method shall support the request data structures specified in table
5.9.1.3.3.3-1 and the response data structures and response codes specified in
table 5.9.1.3.3.3-2.
Table 5.9.1.3.3.3-1: Data structures supported by the PUT Request Body on this
resource
* * *
Data type P Cardinality Description IptvConfigData M 1 Modify an existing
configuration.
* * *
Table 5.9.1.3.3.3-2: Data structures supported by the PUT Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | I | M | 1 | 200 OK | The | | ptvConfigData | | | | configuration | | | | | | resource was | | | | | | updated | | | | | | successfully. | +---------------+---+-------------+---------------+---------------+ | n/a | | | 204 No | The | | | | | Content | configuration | | | | | | resource was | | | | | | updated | | | | | | successfully. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 307 Temporary | Temporary | | | | | Redirect | redirection, | | | | | | during | | | | | | resource | | | | | | modification. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | sub | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 308 Permanent | Permanent | | | | | Redirect | redirection, | | | | | | during | | | | | | resource | | | | | | modification. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | sub | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the PUT | | | | | | method listed | | | | | | in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.9.1.3.3.3-3: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
Table 5.9.1.3.3.3-4: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
###### 5.9.1.3.3.4 DELETE
The DELETE method deletes an existing individual configuration for a given AF.
The AF shall initiate the HTTP DELETE request message and the NEF shall
respond to the message.
This method shall support the URI query parameters specified in table
5.9.1.3.3.4-1.
Table 5.9.1.3.3.4-1: URI query parameters supported by the DELETE method on
this resource
* * *
Name Data type P Cardinality Description N/A
* * *
This method shall support the request data structures specified in table
5.9.1.3.3.4-2 and the response data structures and response codes specified in
table 5.9.1.3.3.4-3.
Table 5.9.1.3.3.4-2: Data structures supported by the DELETE Request Body on
this resource
* * *
Data type P Cardinality Description N/A
* * *
Table 5.9.1.3.3.4-3: Data structures supported by the DELETE Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | N/A | | | 204 No | The | | | | | Content | configuration | | | | | | resource was | | | | | | terminated | | | | | | successfully. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 307 Temporary | Temporary | | | | | Redirect | redirection, | | | | | | during | | | | | | resource | | | | | | termination. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | sub | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 308 Permanent | Permanent | | | | | Redirect | redirection, | | | | | | during | | | | | | resource | | | | | | termination. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | sub | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the | | | | | | DELETE method | | | | | | listed in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.9.1.3.3.4-4: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
Table 5.9.1.3.3.4-5: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
###### 5.9.1.3.3.5 PATCH
The PATCH method allows to change some properties of an existing resource to
update a configuration. The AF shall initiate the HTTP PATCH request message
and the NEF shall respond to the message.
This method shall support the request data structures specified in table
5.9.1.3.3.5-1 and the response data structures and response codes specified in
table 5.9.1.3.3.5-2.
Table 5.9.1.3.3.5-1: Data structures supported by the PATCH Request Body on
this resource
* * *
Data type P Cardinality Description IptvConfigDataPatch M 1 Partial update an
existing configuration.
* * *
Table 5.9.1.3.3.5-2: Data structures supported by the PATCH Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | I | M | 1 | 200 OK | The | | ptvConfigData | | | | configuration | | | | | | resource was | | | | | | updated | | | | | | successfully. | +---------------+---+-------------+---------------+---------------+ | n/a | | | 204 No | The | | | | | Content | configuration | | | | | | resource was | | | | | | updated | | | | | | successfully. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 307 Temporary | Temporary | | | | | Redirect | redirection, | | | | | | during | | | | | | resource | | | | | | modification. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | sub | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 308 Permanent | Permanent | | | | | Redirect | redirection, | | | | | | during | | | | | | resource | | | | | | modification. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | sub | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the PATCH | | | | | | method listed | | | | | | in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.9.1.3.3.5-3: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
Table 5.9.1.3.3.5-4: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
### 5.9.1A Notifications
Notifications are not applicable to this API.
### 5.9.2 Data Model
#### 5.9.2.1 General
This subclause specifies the application data model supported by the
IPTVConfiguration API.
#### 5.9.2.2 Reused data types
The data types reused by the IPTVConfiguration API from other specifications
are listed in table 5.9.2.2-1.
Table 5.9.2.2-1: Re-used Data Types
* * *
Data type Reference Comments Dnn 3GPP TS 29.571 [8] Identifies a DNN.
ExternalGroupId 3GPP TS 29.122 [4] External Group Identifier for a user group.
Gpsi 3GPP TS 29.571 [8] Identifies a GPSI. Ipv4Addr 3GPP TS 29.571 [8]
Identifies an IPv4 address. Ipv6Addr 3GPP TS 29.571 [8] Identifies an IPv6
address. Link 3GPP TS 29.122 [4]  
MtcProviderInformation 3GPP TS 29.571 [8] Indicates MTC provider information.
Snssai 3GPP TS 29.571 [8] Identifies the S-NSSAI. SupportedFeatures 3GPP TS
29.571 [8] Used to negotiate the applicability of the optional features
defined in table 5.9.3-1.
* * *
#### 5.9.2.3 Structured data types
##### 5.9.2.3.1 Introduction
This clause defines the structured data types to be used in resource
representations.
##### 5.9.2.3.2 Type: IptvConfigData
Table 5.9.2.3.2-1: Definition of type IptvConfigData
+-----------+-----------+---+-----------+-----------+-----------+ | Attribute | Data type | P | Ca | De | Appl | | name | | | rdinality | scription | icability | +-----------+-----------+---+-----------+-----------+-----------+ | self | Link | C | 0..1 | I | | | | | | | dentifies | | | | | | | the | | | | | | | i | | | | | | | ndividual | | | | | | | IPTV | | | | | | | conf | | | | | | | iguration | | | | | | | resource | | | | | | | URI. | | | | | | | | | | | | | | Shall be | | | | | | | present | | | | | | | in the | | | | | | | HTTP GET | | | | | | | response | | | | | | | when | | | | | | | reading | | | | | | | all the | | | | | | | confi | | | | | | | gurations | | | | | | | for an | | | | | | | AF. | | +-----------+-----------+---+-----------+-----------+-----------+ | gpsi | Gpsi | C | 0..1 | I | | | | | | | dentifies | | | | | | | GP | | | | | | | SI.(NOTE) | | +-----------+-----------+---+-----------+-----------+-----------+ | ext | Extern | C | 0..1 | R | | | erGroupId | alGroupId | | | epresents | | | | | | | a group | | | | | | | of users. | | | | | | | (NOTE) | | +-----------+-----------+---+-----------+-----------+-----------+ | afAppId | string | M | 1 | I | | | | | | | dentifies | | | | | | | an | | | | | | | app | | | | | | | lication. | | +-----------+-----------+---+-----------+-----------+-----------+ | dnn | Dnn | O | 0..1 | I | | | | | | | dentifies | | | | | | | a DNN, a | | | | | | | full DNN | | | | | | | with both | | | | | | | the | | | | | | | Network | | | | | | | I | | | | | | | dentifier | | | | | | | and | | | | | | | Operator | | | | | | | Id | | | | | | | entifier, | | | | | | | or a DNN | | | | | | | with the | | | | | | | Network | | | | | | | I | | | | | | | dentifier | | | | | | | only. | | +-----------+-----------+---+-----------+-----------+-----------+ | snssai | Snssai | O | 0..1 | I | | | | | | | dentifies | | | | | | | an | | | | | | | S-NSSAI. | | +-----------+-----------+---+-----------+-----------+-----------+ | mult | map(Multi | M | 1..N | I | | | iAccCtrls | castAcces | | | dentifies | | | | sControl) | | | a list of | | | | | | | multicast | | | | | | | address | | | | | | | access | | | | | | | control | | | | | | | inf | | | | | | | ormation. | | +-----------+-----------+---+-----------+-----------+-----------+ | mtcP | MtcP | O | 0..1 | Indicates | | | roviderId | roviderIn | | | MTC | | | | formation | | | provider | | | | | | | inf | | | | | | | ormation. | | +-----------+-----------+---+-----------+-----------+-----------+ | suppFeat | Supporte | M | 1 | Indicates | | | | dFeatures | | | the | | | | | | | n | | | | | | | egotiated | | | | | | | supported | | | | | | | features. | | +-----------+-----------+---+-----------+-----------+-----------+ | NOTE: | | | | | | | Only one | | | | | | | of the | | | | | | | \"gpsi\" | | | | | | | or | | | | | | | \"exter | | | | | | | GroupId\" | | | | | | | attribute | | | | | | | shall be | | | | | | | provided. | | | | | | +-----------+-----------+---+-----------+-----------+-----------+
##### 5.9.2.3.3 Type: MulticastAccessControl
Table 5.9.2.3.3-1: Definition of type MulticastAccessControl
+-----------+-----------+---+-----------+-----------+-----------+ | Attribute | Data type | P | Ca | De | Appl | | name | | | rdinality | scription | icability | +-----------+-----------+---+-----------+-----------+-----------+ | sr | Ipv4Addr | O | 0..1 | I | | | cIpv4Addr | | | | dentifies | | | | | | | the | | | | | | | source | | | | | | | IPv4 | | | | | | | address | | | | | | | of IPTV | | | | | | | multicast | | | | | | | channel. | | +-----------+-----------+---+-----------+-----------+-----------+ | sr | Ipv6Addr | O | 0..1 | I | | | cIpv6Addr | | | | dentifies | | | | | | | the | | | | | | | source | | | | | | | IPv6 | | | | | | | address | | | | | | | of IPTV | | | | | | | multicast | | | | | | | channel. | | +-----------+-----------+---+-----------+-----------+-----------+ | multic | Ipv4Addr | O | 0..1 | I | | | astV4Addr | | | | dentifies | | | | | | | the | | | | | | | multicast | | | | | | | IPv4 | | | | | | | address | | | | | | | of IPTV | | | | | | | multicast | | | | | | | channel. | | | | | | | | | | | | | | (NOTE) | | +-----------+-----------+---+-----------+-----------+-----------+ | multic | Ipv6Addr | O | 0..1 | I | | | astV6Addr | | | | dentifies | | | | | | | the | | | | | | | multicast | | | | | | | IPv6 | | | | | | | address | | | | | | | of IPTV | | | | | | | multicast | | | | | | | channel. | | | | | | | | | | | | | | (NOTE) | | +-----------+-----------+---+-----------+-----------+-----------+ | accStatus | AccessRi | M | 1 | R | | | | ghtStatus | | | epresents | | | | | | | access | | | | | | | right | | | | | | | status of | | | | | | | the | | | | | | | multicast | | | | | | | channel. | | +-----------+-----------+---+-----------+-----------+-----------+ | NOTE: At | | | | | | | least one | | | | | | | of the | | | | | | | \ | | | | | | | "multicas | | | | | | | tV4Addr\" | | | | | | | or | | | | | | | \ | | | | | | | "multicas | | | | | | | tV6Addr\" | | | | | | | attribute | | | | | | | shall be | | | | | | | provided. | | | | | | +-----------+-----------+---+-----------+-----------+-----------+
##### 5.9.2.3.4 Type: IptvConfigDataPatch
Table 5.9.2.3.4-1: Definition of type IptvConfigDataPatch
* * *
Attribute name Data type P Cardinality Description Applicability multiAccCtrls
map(MulticastAccessControl) O 1..N Identifies a list of multicast address
access control information.
* * *
#### 5.9.2.4 Simple data types and enumerations
##### 5.9.2.4.1 Introduction
This subclause defines simple data types and enumerations that can be
referenced from data structures defined in the previous subclauses.
##### 5.9.2.4.2 Simple data types
The simple data types defined in table 5.9.2.4.2-1 shall be supported.
Table 5.9.2.4.2-1: Simple data types
* * *
Type Name Type Definition Description Applicability
* * *
##### 5.9.2.4.3 Enumeration: AccessRightStatus
The enumeration AccessRightStatus represents the parameters provision type of
which the AF requests to provision. It shall comply with the provisions
defined in table 5.9.2.4.3-1.
Table 5.9.2.4.3-1: Enumeration ProvisionType
* * *
Enumeration value Description FULLY_ALLOWED The User is fully allowed to
access to the channel. PREVIEW_ALLOWED The User is preview allowed to access
to the channel. NO_ALLOWED The User is not allowed to access to the channel.
* * *
### 5.9.3 Used Features
The table below defines the features applicable to the IPTVConfiguration API.
Those features are negotiated as described in subclause 5.2.7 of 3GPP TS
29.122 [4].
Table 5.9.3-1: Features used by IPTVConfiguration API
* * *
Feature number Feature Name Description
* * *
## 5.10 LpiParameterProvision API
### 5.10.1 Resources
#### 5.10.1.1 Overview
All resource URIs of this API should have the following root:
**{apiRoot}/3gpp-lpi-pp/v1/**
\"apiRoot\" is set as described in subclause 5.2.4 in 3GPP TS 29.122 [4].
\"apiName\" shall be set to \"3gpp-lpi-pp\" and \"apiVersion\" shall be set to
\"v1\" for the current version defined in the present document. All resource
URIs in the subclauses below are defined relative to the above root URI.
This subclause describes the structure for the Resource URIs as shown in
figure 5.10.1.1-1 and the resources and HTTP methods used for the
LpiParameterProvision API.
Figure 5.10.1.1-1: Resource URI structure of the LpiParameterProvision API
Table 5.10.1.1-1 provides an overview of the resources and HTTP methods
applicable for the LpiParameterProvision API.
Table 5.10.1.1-1: Resources and methods overview
* * *
Resource name Resource URI HTTP method Description LPI Parameters
Provisionings /{afId}/provisionedLpis GET Read all LPI Parameters Provisioning
resources for a given AF POST Create a new Individual LPI Parameters
Provisioning resource Individual LPI Parameters Provisioning
/{afId}/provisionedLpis/{provisionedLpiId} GET Read an existing Individual LPI
Parameters Provisioning resource identified by {provisionedLpiId} PUT Modify
all of the properties of an existing Individual LPI Parameters Provisioning
resource identified by {provisionedLpiId} DELETE Delete an existing Individual
LPI Parameters Provisioning resource identified by {provisionedLpiId}
* * *
#### 5.10.1.2 Resource: LPI Parameters Provisionings
##### 5.10.1.2.1 Introduction
This resource allows a AF to read all active LPI Parameters Provisionings for
the given AF, or create an new individual LPI Parameters Provisioning resource
to provision parameters to the NEF.
##### 5.10.1.2.2 Resource Definition
Resource URI: **{apiRoot}/3gpp-lpi-pp/v1/{afId}/provisionedLpis**
This resource shall support the resource URI variables defined in table
5.10.1.2.2-1.
Table 5.10.1.2.2-1: Resource URI variables for this resource
* * *
Name Data type Definition apiRoot string Subclause 5.2.4 of 3GPP TS 29.122
[4]. afId string Identifier of the AF.
* * *
##### 5.10.1.2.3 Resource Methods
###### 5.10.1.2.3.1 General
The following subclauses specify the resource methods supported by the
resource as described in subclause 5.10.1.2.3.
###### 5.10.1.2.3.2 GET
The GET method allows to read all active LPI Parameters Provisioning resources
for a given AF. The AF shall initiate the HTTP GET request message and the NEF
shall respond to the message.
This method shall support the URI query parameters specified in table
5.10.1.2.3.2-1.
Table 5.10.1.2.3.2-1: URI query parameters supported by the GET method on this
resource
* * *
Name Data type P Cardinality Description N/A
* * *
This method shall support the request data structures specified in table
5.10.1.2.3.2-2 and the response data structures and response codes specified
in table 5.10.1.2.3.2-3.
Table 5.10.1.2.3.2-2: Data structures supported by the GET Request Body on
this resource
* * *
Data type P Cardinality Description N/A
* * *
Table 5.10.1.2.3.2-3: Data structures supported by the GET Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | arr | M | 0..N | 200 OK | All the LPI | | ay(LpiParamet | | | | Parameters | | ersProvision) | | | | Provisioning | | | | | | information | | | | | | for the AF in | | | | | | the request | | | | | | URI are | | | | | | returned. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 307 Temporary | Temporary | | | | | Redirect | redirection, | | | | | | during | | | | | | resource | | | | | | retrieval. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | sub | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 308 Permanent | Permanent | | | | | Redirect | redirection, | | | | | | during | | | | | | resource | | | | | | retrieval. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | sub | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the GET | | | | | | method listed | | | | | | in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.10.1.2.3.2-4: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
Table 5.10.1.2.3.2-5: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
###### 5.10.1.2.3.3 POST
The POST method creates a new resource to LPI Parameters Provisionings for a
given AF. The AF shall initiate the HTTP POST request message and the NEF
shall respond to the message. The NEF shall construct the URI of the created
resource.
This method shall support the request data structures specified in table
5.10.1.2.3.3-1 and the response data structures and response codes specified
in table 5.10.1.2.3.3-2.
Table 5.10.1.2.3.3-1: Data structures supported by the POST Request Body on
this resource
* * *
Data type P Cardinality Description LpiParametersProvision M 1 Parameters to
create an Individual LPI Parameters Provisioning resource to provision
parameters.
* * *
Table 5.10.1.2.3.3-2: Data structures supported by the POST Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | LpiParame | M | 1 | 201 Created | The resource | | tersProvision | | | | was created | | | | | | successfully. | | | | | | | | | | | | The URI of | | | | | | the created | | | | | | resource | | | | | | shall be | | | | | | returned in | | | | | | the | | | | | | \"Location\" | | | | | | HTTP header. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the POST | | | | | | method listed | | | | | | in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.10.1.2.3.3-3: Headers supported by the 201 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 Contains the URI
of the newly created resource, according to the structure: {apiRoot}/3gpp-lpi-
pp/v1/{afId}/provisionedLpis/{provisionedLpiId}
* * *
#### 5.10.1.3 Resource: Individual LPI Parameters Provisioning
##### 5.10.1.3.1 Introduction
This resource allows a AF to read, update or delete an existing Individual LPI
Parameters Provisioning resource.
##### 5.10.1.3.2 Resource Definition
Resource URI: **{apiRoot}/3gpp-lpi-
pp/v1/{afId}/provisionedLpis/{provisionedLpiId}**
This resource shall support the resource URI variables defined in table
5.10.1.3.2-1.
Table 5.10.1.3.2-1: Resource URI variables for this resource
* * *
Name Data type Definition apiRoot string Subclause 5.2.4 of 3GPP TS 29.122
[4]. afId string Identifier of the AF. provisionedLpiId string Identifier of
the provisioning resource.
* * *
##### 5.10.1.3.3 Resource Methods
###### 5.10.1.3.3.1 General
The following subclauses specify the resource methods supported by the
resource as described in subclause 5.10.1.3.3.
###### 5.10.1.3.3.2 GET
The GET method allows to read an active Individual LPI Parameters Provisioning
resource for a given AF and provisionedLpiId. The AF shall initiate the HTTP
GET request message and the NEF shall respond to the message.
This method shall support the URI query parameters specified in table
5.10.1.3.3.2-1.
Table 5.10.1.3.3.2-1: URI query parameters supported by the GET method on this
resource
* * *
Name Data type P Cardinality Description N/A
* * *
This method shall support the request data structures specified in table
5.10.1.3.3.2-2 and the response data structures and response codes specified
in table 5.10.1.3.3.2-3.
Table 5.10.1.3.3.2-2: Data structures supported by the GET Request Body on
this resource
* * *
Data type P Cardinality Description N/A
* * *
Table 5.10.1.3.3.2-3: Data structures supported by the GET Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | LpiParame | M | 1 | 200 OK | The | | tersProvision | | | | information | | | | | | for the | | | | | | source in the | | | | | | request URI | | | | | | are returned. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 307 Temporary | Temporary | | | | | Redirect | redirection, | | | | | | during | | | | | | resource | | | | | | retrieval. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | sub | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 308 Permanent | Permanent | | | | | Redirect | redirection, | | | | | | during | | | | | | resource | | | | | | retrieval. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | sub | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the GET | | | | | | method listed | | | | | | in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.10.1.3.3.2-4: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
Table 5.10.1.3.3.2-5: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
###### 5.10.1.3.3.3 PUT
The PUT method modifies an existing resource to update an existing Individual
LPI Parameters Provisioning resource. The AF shall initiate the HTTP PUT
request message and the NEF shall respond to the message.
This method shall support the request data structures specified in table
5.10.1.3.3.3-1 and the response data structures and response codes specified
in table 5.10.1.3.3.3-2.
Table 5.10.1.3.3.3-1: Data structures supported by the PUT Request Body on
this resource
* * *
Data type P Cardinality Description LpiParametersProvision M 1 Modify an
existing individual LPI Parameters Provisioning resource to provision
parameters.
* * *
Table 5.10.1.3.3.3-2: Data structures supported by the PUT Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | LpiParame | M | 1 | 200 OK | The resource | | tersProvision | | | | was updated | | | | | | successfully. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 204 No | The resource | | | | | Content | was updated | | | | | | successfully | | | | | | and no | | | | | | additional | | | | | | content is | | | | | | sent in the | | | | | | response | | | | | | message. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 307 Temporary | Temporary | | | | | Redirect | redirection, | | | | | | during | | | | | | resource | | | | | | modification. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | sub | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 308 Permanent | Permanent | | | | | Redirect | redirection, | | | | | | during | | | | | | resource | | | | | | modification. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | sub | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the PUT | | | | | | method listed | | | | | | in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.10.1.3.3.3-3: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
Table 5.10.1.3.3.3-4: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
###### 5.10.1.3.3.4 DELETE
The DELETE method deletes an existing individual LPI Parameters Provisioning
resource for a given AF. The AF shall initiate the HTTP DELETE request message
and the NEF shall respond to the message.
This method shall support the URI query parameters specified in table
5.10.1.3.3.4-1.
Table 5.10.1.3.3.4-1: URI query parameters supported by the DELETE method on
this resource
* * *
Name Data type P Cardinality Description N/A
* * *
This method shall support the request data structures specified in table
5.10.1.3.3.4-2 and the response data structures and response codes specified
in table 5.10.1.3.3.4-3.
Table 5.10.1.3.3.4-2: Data structures supported by the DELETE Request Body on
this resource
* * *
Data type P Cardinality Description N/A
* * *
Table 5.10.1.3.3.4-3: Data structures supported by the DELETE Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | N/A | | | 204 No | The resource | | | | | Content | was removed | | | | | | successfully. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 307 Temporary | Temporary | | | | | Redirect | redirection, | | | | | | during | | | | | | resource | | | | | | termination. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | sub | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 308 Permanent | Permanent | | | | | Redirect | redirection, | | | | | | during | | | | | | resource | | | | | | termination. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | sub | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the | | | | | | DELETE method | | | | | | listed in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.10.1.3.3.4-4: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
Table 5.10.1.3.3.4-5: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
### 5.10.2 Data Model
#### 5.10.2.1 General
This subclause specifies the application data model supported by the
LpiParameterProvision API.
#### 5.10.2.2 Reused data types
The data types reused by the LpiParameterProvision API from other
specifications are listed in table 5.10.2.2-1.
Table 5.10.2.2-1: Re-used Data Types
* * *
Data type Reference Comments ExternalGroupId 3GPP TS 29.122 [4] External Group
Identifier for a user group. Gpsi 3GPP TS 29.571 [8] Identifies a GPSI. Link
3GPP TS 29.122 [4] Identifies a referenced resource. Lpi 3GPP TS 29.503 [17]
Identifies the Location Privacy Indication information. MtcProviderInformation
3GPP TS 29.571 [8] Indicates MTC provider information for LCS privacy
parameter configuration authorization. SupportedFeatures 3GPP TS 29.571 [8]
Used to negotiate the applicability of the optional features defined in table
5.10.3-1.
* * *
#### 5.10.2.3 Structured data types
##### 5.10.2.3.1 Introduction
This clause defines the structured data types to be used in resource
representations.
##### 5.10.2.3.2 Type: LpiParametersProvision
Table 5.10.2.3.2-1: Definition of type LpiParametersProvision
+-----------+-----------+---+-----------+-----------+-----------+ | Attribute | Data type | P | Ca | De | Appl | | name | | | rdinality | scription | icability | +-----------+-----------+---+-----------+-----------+-----------+ | self | Link | C | 0..1 | I | | | | | | | dentifies | | | | | | | the | | | | | | | i | | | | | | | ndividual | | | | | | | p | | | | | | | arameters | | | | | | | pro | | | | | | | visioning | | | | | | | resource. | | | | | | | | | | | | | | This | | | | | | | attribute | | | | | | | shall be | | | | | | | supplied | | | | | | | by the | | | | | | | NEF in | | | | | | | HTTP | | | | | | | responses | | | | | | | that | | | | | | | include | | | | | | | an object | | | | | | | of | | | | | | | LpiP | | | | | | | arameters | | | | | | | Provision | | | | | | | type. | | +-----------+-----------+---+-----------+-----------+-----------+ | ext | Extern | O | 0..1 | I | | | erGroupId | alGroupId | | | dentifies | | | | | | | a group | | | | | | | of UEs. | | | | | | | | | | | | | | (NOTE 1) | | +-----------+-----------+---+-----------+-----------+-----------+ | gpsi | Gpsi | O | 0..1 | I | | | | | | | dentifies | | | | | | | an UE | | | | | | | with | | | | | | | GPSI. | | | | | | | | | | | | | | (NOTE 1) | | +-----------+-----------+---+-----------+-----------+-----------+ | lpi | Lpi | M | 1 | Location | | | | | | | Privacy | | | | | | | I | | | | | | | ndication | | | | | | | p | | | | | | | arameters | | +-----------+-----------+---+-----------+-----------+-----------+ | mtcP | MtcP | O | 0..1 | Indicates | | | roviderId | roviderIn | | | MTC | | | | formation | | | provider | | | | | | | in | | | | | | | formation | | | | | | | for LCS | | | | | | | privacy | | | | | | | parameter | | | | | | | conf | | | | | | | iguration | | | | | | | autho | | | | | | | rization. | | | | | | | (NOTE 2) | | +-----------+-----------+---+-----------+-----------+-----------+ | suppFeat | Supporte | M | 1 | Indicates | | | | dFeatures | | | the | | | | | | | n | | | | | | | egotiated | | | | | | | supported | | | | | | | features. | | +-----------+-----------+---+-----------+-----------+-----------+ | NOTE 1: | | | | | | | Only one | | | | | | | of the | | | | | | | \"gpsi\" | | | | | | | or | | | | | | | \"exter | | | | | | | GroupId\" | | | | | | | attribute | | | | | | | shall be | | | | | | | provided. | | | | | | | | | | | | | | NOTE 2: | | | | | | | The NEF | | | | | | | should | | | | | | | check | | | | | | | received | | | | | | | MTC | | | | | | | Provider | | | | | | | Id | | | | | | | in | | | | | | | formation | | | | | | | and then | | | | | | | the NEF | | | | | | | may: | | | | | | | | | | | | | | > \- | | | | | | | > | | | | | | | override | | | | | | | > it with | | | | | | | > local | | | | | | | > c | | | | | | | onfigured | | | | | | | > value | | | | | | | > and | | | | | | | > send it | | | | | | | > to UDM; | | | | | | | > | | | | | | | > \- send | | | | | | | > it | | | | | | | > | | | | | | | directly | | | | | | | > to the | | | | | | | > UDM; or | | | | | | | > | | | | | | | > \- | | | | | | | > reject | | | | | | | > the LPI | | | | | | | > | | | | | | | Parameter | | | | | | | > Pro | | | | | | | visioning | | | | | | | > | | | | | | | request. | | | | | | +-----------+-----------+---+-----------+-----------+-----------+
#### 5.10.2.4 Simple data types and enumerations
##### 5.10.2.4.1 Introduction
This subclause defines simple data types and enumerations that can be
referenced from data structures defined in the previous subclauses.
##### 5.10.2.4.2 Simple data types
The simple data types defined in table 5.10.2.4.2-1 shall be supported.
Table 5.10.2.4.2-1: Simple data types
* * *
Type Name Type Definition Description Applicability
* * *
### 5.10.3 Used Features
The table below defines the features applicable to the LpiParameterProvision
API. Those features are negotiated as described in subclause 5.2.7 of 3GPP TS
29.122 [4].
Table 5.10.3-1: Features used by LpiParameterProvision API
* * *
Feature number Feature Name Description
* * *
## 5.11 ServiceParameter API
### 5.11.1 Resources
#### 5.11.1.1 Overview
All resource URIs of this API should have the following root:
**{apiRoot}/3gpp-service-parameter/v1/**
\"apiRoot\" is set as described in subclause 5.2.4 in 3GPP TS 29.122 [4].
\"apiName\" shall be set to \"3gpp-service-parameter\" and \"apiVersion\"
shall be set to \"v1\" for the current version defined in the present
document. All resource URIs in the subclauses below are defined relative to
the above root URI.
This subclause describes the structure for the Resource URIs as shown in
figure 5.11.1.1-1 and the resources and HTTP methods used for the
ServiceParameter API.
Figure 5.9.1.1-1: Resource URI structure of the ServiceParameter API
Table 5.11.1.1-1 provides an overview of the resources and HTTP methods
applicable for the ServiceParameter API.
Table 5.9.1.1-1: Resources and methods overview
* * *
Resource name Resource URI HTTP method Description Service Parameter
Subscripions /{afId}/subscriptions GET Read all subscriptions for a given AF.
POST Create a new service parameter subscription. Individual Service Parameter
Subscripion /{afId}/subscriptions/{subscriptionId} GET Read an existing
subscription identified by {subscriptionId} PUT Modify all of the properties
of an existing subscription. identified by {subscriptionId} PATCH Modify some
of the properties of an existing subscription identified by {subscriptionId}
DELETE Delete a subscription identified by {subscriptionId}
* * *
#### 5.11.1.2 Resource: Service Parameter Subscriptions
##### 5.11.1.2.1 Introduction
This resource allows a AF to read all active Service Parameter Subscriptions
for the given AF, or create an new individual service parameter subscription
in the NEF.
##### 5.11.1.2.2 Resource Definition
Resource URI: **{apiRoot}/3gpp-service-parameter/v1/{afId}/subscriptions**
This resource shall support the resource URI variables defined in table
5.11.1.2.2-1.
Table 5.11.1.2.2-1: Resource URI variables for this resource
* * *
Name Data type Definition apiRoot string Subclause 5.2.4 of 3GPP TS 29.122
[4]. afId string Identifier of the AF.
* * *
##### 5.11.1.2.3 Resource Methods
###### 5.11.1.2.3.1 General
The following subclauses specify the resource methods supported by the
resource as described in subclause 5.11.1.2.3.
###### 5.11.1.2.3.2 GET
The GET method allows to read all active subscriptions for a given AF. The AF
shall initiate the HTTP GET request message and the NEF shall respond to the
message.
This method shall support the URI query parameters specified in table
5.11.1.2.3.2-1.
Table 5.11.1.2.3.2-1: URI query parameters supported by the GET method on this
resource
* * *
Name Data type P Cardinality Description N/A
* * *
This method shall support the request data structures specified in table
5.11.1.2.3.2-2 and the response data structures and response codes specified
in table 5.11.1.2.3.2-3.
Table 5.11.1.2.3.2-2: Data structures supported by the GET Request Body on
this resource
* * *
Data type P Cardinality Description N/A
* * *
Table 5.11.1.2.3.2-3: Data structures supported by the GET Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | a | M | 0..N | 200 OK | All the | | rray(ServiceP | | | | subscription | | arameterData) | | | | information | | | | | | for the AF in | | | | | | the request | | | | | | URI are | | | | | | returned. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 307 Temporary | Temporary | | | | | Redirect | redirection, | | | | | | during | | | | | | subscription | | | | | | retrieval. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | sub | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 308 Permanent | Permanent | | | | | Redirect | redirection, | | | | | | during | | | | | | subscription | | | | | | retrieval. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | sub | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the GET | | | | | | method listed | | | | | | in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.11.1.2.3.2-4: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
Table 5.11.1.2.3.2-5: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
###### 5.11.1.2.3.3 POST
The POST method creates a new resource to individual service parameter
subscription for a given AF. The AF shall initiate the HTTP POST request
message and the NEF shall respond to the message. The NEF shall construct the
URI of the created resource.
This method shall support the request data structures specified in table
5.11.1.2.3.3-1 and the response data structures and response codes specified
in table 5.11.1.2.3.3-2.
Table 5.11.1.2.3.3-1: Data structures supported by the POST Request Body on
this resource
* * *
Data type P Cardinality Description ServiceParameterData M 1 Parameters to
create a service parameter subscription resource.
* * *
Table 5.11.1.2.3.3-2: Data structures supported by the POST Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | Service | M | 1 | 201 Created | The | | ParameterData | | | | subscription | | | | | | resource was | | | | | | created | | | | | | successfully. | | | | | | | | | | | | The URI of | | | | | | the created | | | | | | resource | | | | | | shall be | | | | | | returned in | | | | | | the | | | | | | \"Location\" | | | | | | HTTP header. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the POST | | | | | | method listed | | | | | | in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.11.1.2.3.3-3: Headers supported by the 201 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 Contains the URI
of the newly created resource, according to the structure: {apiRoot}/3gpp-
service-parameter/v1/{afId}/subscriptions/{subscriptionId}
* * *
#### 5.11.1.3 Resource: Individual Service Parameter Subscription
##### 5.11.1.3.1 Introduction
This resource allows a AF to read, update or delete an existing service
parameter subscription.
##### 5.11.1.3.2 Resource Definition
Resource URI: **{apiRoot}/3gpp-service-
parameter/v1/{afId}/subscriptions/{subscriptionId}**
This resource shall support the resource URI variables defined in table
5.9.1.3.2-1.
Table 5.11.1.3.2-1: Resource URI variables for this resource
* * *
Name Data type Definition apiRoot string Subclause 5.2.4 of 3GPP TS 29.122
[4]. afId string Identifier of the AF. subscriptionId string Identifier of the
subscription resource.
* * *
##### 5.11.1.3.3 Resource Methods
###### 5.11.1.3.3.1 General
The following subclauses specify the resource methods supported by the
resource as described in subclause 5.11.1.3.3.
###### 5.11.1.3.3.2 GET
The GET method allows to read the active subscription for a given AF and
subscription Id. The AF shall initiate the HTTP GET request message and theNEF
shall respond to the message.
This method shall support the URI query parameters specified in table
5.11.1.3.3.2-1.
Table 5.11.1.3.3.2-1: URI query parameters supported by the GET method on this
resource
* * *
Name Data type P Cardinality Description N/A
* * *
This method shall support the request data structures specified in table
5.11.1.3.3.2-2 and the response data structures and response codes specified
in table 5.11.1.3.3.2-3.
Table 5.11.1.3.3.2-2: Data structures supported by the GET Request Body on
this resource
* * *
Data type P Cardinality Description N/A
* * *
Table 5.11.1.3.3.2-3: Data structures supported by the GET Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | Service | M | 1 | 200 OK | The | | ParameterData | | | | information | | | | | | for the | | | | | | subscription | | | | | | in the | | | | | | request URI | | | | | | are returned. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 307 Temporary | Temporary | | | | | Redirect | redirection, | | | | | | during | | | | | | subscription | | | | | | retrieval. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | sub | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 308 Permanent | Permanent | | | | | Redirect | redirection, | | | | | | during | | | | | | subscription | | | | | | retrieval. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | sub | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the GET | | | | | | method listed | | | | | | in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.11.1.3.3.2-4: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
Table 5.11.1.3.3.2-5: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
###### 5.11.1.3.3.3 PUT
The PUT method modifies an existing resource to update a configuration. The AF
shall initiate the HTTP PUT request message and the NEF shall respond to the
message.
This method shall support the request data structures specified in table
5.9.1.3.3.3-1 and the response data structures and response codes specified in
table 5.9.1.3.3.3-2.
Table 5.11.1.3.3.3-1: Data structures supported by the PUT Request Body on
this resource
* * *
Data type P Cardinality Description ServiceParameterData M 1 Modify an
existing subscription.
* * *
Table 5.11.1.3.3.3-2: Data structures supported by the PUT Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | Service | M | 1 | 200 OK | The | | ParameterData | | | | subscription | | | | | | resource was | | | | | | updated | | | | | | successfully. | +---------------+---+-------------+---------------+---------------+ | n/a | | | 204 No | The | | | | | Content | subscription | | | | | | resource was | | | | | | updated | | | | | | successfully. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 307 Temporary | Temporary | | | | | Redirect | redirection, | | | | | | during | | | | | | subscription | | | | | | modification. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | sub | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 308 Permanent | Permanent | | | | | Redirect | redirection, | | | | | | during | | | | | | subscription | | | | | | modification. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | sub | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the PUT | | | | | | method listed | | | | | | in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.11.1.3.3.3-3: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
Table 5.11.1.3.3.3-4: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
###### 5.11.1.3.3.4 DELETE
The DELETE method deletes an existing individual subscription for a given AF.
The AF shall initiate the HTTP DELETE request message and the NEF shall
respond to the message.
This method shall support the URI query parameters specified in table
5.11.1.3.3.4-1.
Table 5.11.1.3.3.4-1: URI query parameters supported by the DELETE method on
this resource
* * *
Name Data type P Cardinality Description N/A
* * *
This method shall support the request data structures specified in table
5.11.1.3.3.4-2 and the response data structures and response codes specified
in table 5.11.1.3.3.4-3.
Table 5.11.1.3.3.4-2: Data structures supported by the DELETE Request Body on
this resource
* * *
Data type P Cardinality Description N/A
* * *
Table 5.11.1.3.3.4-3: Data structures supported by the DELETE Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | N/A | | | 204 No | The | | | | | Content | subscription | | | | | | resource was | | | | | | terminated | | | | | | successfully. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 307 Temporary | Temporary | | | | | Redirect | redirection, | | | | | | during | | | | | | subscription | | | | | | termination. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | sub | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 308 Permanent | Permanent | | | | | Redirect | redirection, | | | | | | during | | | | | | subscription | | | | | | termination. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | sub | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the | | | | | | DELETE method | | | | | | listed in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.11.1.3.3.4-4: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
Table 5.11.1.3.3.4-5: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
###### 5.11.1.3.3.5 PATCH
The PATCH method allows to change some properties of an existing resource to
update a subscription. The AF shall initiate the HTTP PATCH request message
and the NEF shall respond to the message.
This method shall support the request data structures specified in table
5.11.1.3.3.5-1 and the response data structures and response codes specified
in table 5.11.1.3.3.5-2.
Table 5.11.1.3.3.5-1: Data structures supported by the PATCH Request Body on
this resource
* * *
Data type P Cardinality Description ServiceParameterDataPatch M 1 Partial
update an existing subscription.
* * *
Table 5.11.1.3.3.5-2: Data structures supported by the PATCH Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | Service | M | 1 | 200 OK | The | | ParameterData | | | | subscription | | | | | | resource was | | | | | | updated | | | | | | successfully. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 204 No | The | | | | | Content | subscription | | | | | | resource was | | | | | | updated | | | | | | successfully. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 307 Temporary | Temporary | | | | | Redirect | redirection, | | | | | | during | | | | | | subscription | | | | | | modification. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | sub | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 308 Permanent | Permanent | | | | | Redirect | redirection, | | | | | | during | | | | | | subscription | | | | | | modification. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | sub | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the PATCH | | | | | | method listed | | | | | | in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.11.1.3.3.5-3: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
Table 5.11.1.3.3.5-4: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
### 5.11.2 Data Model
#### 5.11.2.1 General
This subclause specifies the application data model supported by the
ServiceParameter API.
#### 5.11.2.2 Reused data types
The data types reused by the ServiceParameter API from other specifications
are listed in table 5.9.2.2-1.
Table 5.11.2.2-1: Re-used Data Types
* * *
Data type Reference Comments Dnn 3GPP TS 29.571 [8] Identifies a DNN.
ExternalGroupId 3GPP TS 29.122 [4] External Group Identifier for a user group.
Gpsi 3GPP TS 29.571 [8] Identifies a GPSI. IPv4Addr 3GPP TS 29.571 [8]
Identifies an IPv4 address. IPv6Addr 3GPP TS 29.571 [8] Identifies an IPv6
address. Link 3GPP TS 29.122 [4]  
MacAddr48 3GPP TS 29.571 [8] Identifies an MAC address. MtcProviderInformation
3GPP TS 29.571 [8] Indicates MTC provider information. Snssai 3GPP TS 29.571
[8] Identifies the S-NSSAI. SupportedFeatures 3GPP TS 29.571 [8] Used to
negotiate the applicability of the optional features defined in table
5.11.3-1.
* * *
#### 5.11.2.3 Structured data types
##### 5.11.2.3.1 Introduction
This clause defines the structured data types to be used in resource
representations.
##### 5.11.2.3.2 Type: ServiceParameterData
Table 5.11.2.3.2-1: Definition of type ServiceParameterData
+-----------+-----------+---+-----------+-----------+-----------+ | Attribute | Data type | P | Ca | De | Appl | | name | | | rdinality | scription | icability | +-----------+-----------+---+-----------+-----------+-----------+ | self | Link | C | 0..1 | I | | | | | | | dentifies | | | | | | | the | | | | | | | i | | | | | | | ndividual | | | | | | | service | | | | | | | parameter | | | | | | | sub | | | | | | | scription | | | | | | | resource | | | | | | | URI. | | | | | | | | | | | | | | Shall be | | | | | | | present | | | | | | | by the | | | | | | | NEF in | | | | | | | HTTP | | | | | | | responses | | | | | | | that | | | | | | | include | | | | | | | an object | | | | | | | of | | | | | | | Se | | | | | | | rvicePara | | | | | | | meterData | | | | | | | type. | | +-----------+-----------+---+-----------+-----------+-----------+ | dnn | Dnn | O | 0..1 | I | | | | | | | dentifies | | | | | | | a DNN. | | | | | | | (NOTE 2) | | +-----------+-----------+---+-----------+-----------+-----------+ | snssai | Snssai | O | 0..1 | I | | | | | | | dentifies | | | | | | | an | | | | | | | S-NSSAI. | | | | | | | (NOTE 2) | | +-----------+-----------+---+-----------+-----------+-----------+ | af | string | O | 0..1 | I | | | ServiceId | | | | dentifies | | | | | | | a service | | | | | | | on behalf | | | | | | | of which | | | | | | | the AF is | | | | | | | issuing | | | | | | | the | | | | | | | request. | | | | | | | (NOTE 2) | | +-----------+-----------+---+-----------+-----------+-----------+ | appId | string | O | 0..1 | I | | | | | | | dentifies | | | | | | | an | | | | | | | ap | | | | | | | plication | | | | | | | id | | | | | | | entifier. | | | | | | | (NOTE 2) | | +-----------+-----------+---+-----------+-----------+-----------+ | gpsi | Gpsi | O | 0..1 | I | | | | | | | dentifies | | | | | | | GPSI. | | | | | | | (NOTE 1) | | +-----------+-----------+---+-----------+-----------+-----------+ | ueIpv4 | Ipv4Addr | O | 0..1 | The IPv4 | | | | | | | address | | | | | | | of the | | | | | | | served | | | | | | | UE. | | | | | | | (NOTE 1) | | +-----------+-----------+---+-----------+-----------+-----------+ | ueIpv6 | Ipv6Addr | O | 0..1 | The IPv6 | | | | | | | address | | | | | | | of the | | | | | | | served | | | | | | | UE. | | | | | | | (NOTE 1) | | +-----------+-----------+---+-----------+-----------+-----------+ | ueMac | MacAddr48 | O | 0..1 | The MAC | | | | | | | address | | | | | | | of the | | | | | | | served | | | | | | | UE. | | | | | | | (NOTE 1) | | +-----------+-----------+---+-----------+-----------+-----------+ | extern | Extern | O | 0..1 | R | | | alGroupId | alGroupId | | | epresents | | | | | | | a group | | | | | | | of users. | | | | | | | (NOTE 1) | | +-----------+-----------+---+-----------+-----------+-----------+ | anyUeInd | boolean | O | 0..1 | I | | | | | | | dentifies | | | | | | | whether | | | | | | | the | | | | | | | service | | | | | | | p | | | | | | | arameters | | | | | | | applies | | | | | | | to any | | | | | | | UE. This | | | | | | | attribute | | | | | | | shall set | | | | | | | to | | | | | | | \"true\" | | | | | | | if | | | | | | | a | | | | | | | pplicable | | | | | | | for any | | | | | | | UE, | | | | | | | o | | | | | | | therwise, | | | | | | | set to | | | | | | | \ | | | | | | | "false\". | | | | | | | (NOTE 1) | | +-----------+-----------+---+-----------+-----------+-----------+ | par | Paramet | O | 0..1 | Contains | | | amOverPc5 | erOverPc5 | | | the | | | | | | | service | | | | | | | parameter | | | | | | | used over | | | | | | | PC5 | | +-----------+-----------+---+-----------+-----------+-----------+ | pa | Parame | O | 0..1 | Contains | | | ramOverUu | terOverUu | | | the | | | | | | | service | | | | | | | parameter | | | | | | | used over | | | | | | | Uu | | +-----------+-----------+---+-----------+-----------+-----------+ | mtcP | MtcP | O | 0..1 | Indicates | | | roviderId | roviderIn | | | MTC | | | | formation | | | provider | | | | | | | inf | | | | | | | ormation. | | +-----------+-----------+---+-----------+-----------+-----------+ | suppFeat | Supporte | C | 0..1 | Indicates | | | | dFeatures | | | the list | | | | | | | of | | | | | | | Supported | | | | | | | features | | | | | | | used as | | | | | | | described | | | | | | | in | | | | | | | subclaus | | | | | | | e 5.11.3. | | | | | | | | | | | | | | This | | | | | | | attribute | | | | | | | shall be | | | | | | | provided | | | | | | | in the | | | | | | | POST | | | | | | | request | | | | | | | and in | | | | | | | the | | | | | | | response | | | | | | | of | | | | | | | s | | | | | | | uccessful | | | | | | | resource | | | | | | | creation. | | +-----------+-----------+---+-----------+-----------+-----------+ | NOTE 1: | | | | | | | One of | | | | | | | i | | | | | | | ndividual | | | | | | | UE | | | | | | | i | | | | | | | dentifier | | | | | | | (i.e. | | | | | | | \"gpsi\", | | | | | | | \" | | | | | | | ueIpv4\", | | | | | | | \ | | | | | | | "ueIpv6\" | | | | | | | or | | | | | | | \"ueMac\" | | | | | | | at | | | | | | | tribute), | | | | | | | External | | | | | | | Group | | | | | | | I | | | | | | | dentifier | | | | | | | (i.e. | | | | | | | \ | | | | | | | "external | | | | | | | GroupId\" | | | | | | | a | | | | | | | ttribute) | | | | | | | or any UE | | | | | | | i | | | | | | | ndication | | | | | | | (i.e. | | | | | | | \"a | | | | | | | nyUeInd\" | | | | | | | a | | | | | | | ttribute) | | | | | | | shall be | | | | | | | included. | | | | | | | | | | | | | | NOTE 2: | | | | | | | Either | | | | | | | the | | | | | | | \"afSe | | | | | | | rviceId\" | | | | | | | a | | | | | | | ttribute, | | | | | | | \"appId\" | | | | | | | attribute | | | | | | | or the | | | | | | | co | | | | | | | mbination | | | | | | | of | | | | | | | \ | | | | | | | "snssai\" | | | | | | | and | | | | | | | \"dnn\" | | | | | | | a | | | | | | | ttributes | | | | | | | shall be | | | | | | | provided. | | | | | | +-----------+-----------+---+-----------+-----------+-----------+
##### 5.11.2.3.3 Type: ServiceParameterDataPatch
Table 5.11.2.3.3-1: Definition of type ServiceParameterDataPatch
* * *
Attribute name Data type P Cardinality Description Applicability paramOverPc5
ParameterOverPc5Rm O 0..1 Contains the service parameter used over PC5  
paramOverUu ParameterOverUuRm O 0..1 Contains the service parameter used over
Uu
* * *
#### 5.11.2.4 Simple data types and enumerations
##### 5.11.2.4.1 Introduction
This subclause defines simple data types and enumerations that can be
referenced from data structures defined in the previous subclauses.
##### 5.11.2.4.2 Simple data types
The simple data types defined in table 5.11.2.4.2-1 shall be supported.
Table 5.11.2.4.2-1: Simple data types
* * *
Type Name Type Definition Description Applicability ParameterOverPc5 string
Configuration parameters for V2X communication over PC5. Its encoding shall
comply with the UE policies for V2X communication over PC5 as defined in
subclause 5.3 of 3GPP TS 24.588 [33]  
ParameterOverPc5Rm string This data type is defined in the same way as the
\"ParameterOverPc5\" data type, but with the OpenAPI \"nullable: true\"
property.  
ParameterOverUu string Configuration parameters for V2X communication over Uu.
Its encoding shall comply with the UE policies for V2X communication over Uu
as defined in subclause 5.4 of 3GPP TS 24.588 [33]  
ParameterOverUuRm string This data type is defined in the same way as the
\"ParameterOverUu\" data type, but with the OpenAPI \"nullable: true\"
property.
* * *
### 5.11.3 Used Features
The table below defines the features applicable to the ServiceParameter API.
Those features are negotiated as described in subclause 5.2.7 of 3GPP TS
29.122 [4].
Table 5.11.3-1: Features used by ServiceParameter API
* * *
Feature number Feature Name Description
* * *
## 5.12 ACSParameterProvision API
### 5.12.1 Resources
#### 5.12.1.1 Overview
All resource URIs of this API should have the following root:
**{apiRoot}/3gpp-acs-pp/v1/**
\"apiRoot\" is set as described in subclause 5.2.4 in 3GPP TS 29.122 [4].
\"apiName\" shall be set to \"3gpp-acs-pp\" and \"apiVersion\" shall be set to
\"v1\" for the current version defined in the present document. All resource
URIs in the subclauses below are defined relative to the above root URI.
This subclause describes the structure for the Resource URIs as shown in
figure 5.12.1.1-1 and the resources and HTTP methods used for the
ACSParameterProvision API.
Figure 5.12.1.1-1: Resource URI structure of the ACSParameterProvision API
Table 5.12.1.1-1 provides an overview of the resources and HTTP methods
applicable for the ACSParameterProvision API.
Table 5.12.1.1-1: Resources and methods overview
* * *
Resource name Resource URI HTTP method Description ACS Configuration
Subscripions /{afId}/subscriptions GET Read all subscriptions for a given AF.
POST Create a new ACS configuration subscription. Individual ACS Configuration
Subscripion /{afId}/subscriptions/{subscriptionId} GET Read an existing
subscription identified by {subscriptionId} PUT Modify all of the properties
of an existing subscription. identified by {subscriptionId} DELETE Delete a
subscription identified by {subscriptionId}
* * *
#### 5.12.1.2 Resource: ACS Configuration Subscriptions
##### 5.12.1.2.1 Introduction
This resource allows a AF to read all active ACS Configuration Subscriptions
for the given AF, or create an new individual ACS Configuration subscription
in the NEF.
##### 5.12.1.2.2 Resource Definition
Resource URI: **{apiRoot}/3gpp-acs-pp/v1/{afId}/subscriptions**
This resource shall support the resource URI variables defined in table
5.12.1.2.2-1.
Table 5.12.1.2.2-1: Resource URI variables for this resource
* * *
Name Definition apiRoot Subclause 5.2.4 of 3GPP TS 29.122 [4]. afId Identifier
of the AF of type string.
* * *
##### 5.12.1.2.3 Resource Methods
###### 5.12.1.2.3.1 General
The following subclauses specify the resource methods supported by the
resource as described in subclause 5.12.1.2.3.
###### 5.12.1.2.3.2 GET
The GET method allows to read all active subscriptions for a given AF. The AF
shall initiate the HTTP GET request message and the NEF shall respond to the
message.
This method shall support the URI query parameters specified in table
5.12.1.2.3.2-1.
Table 5.12.1.2.3.2-1: URI query parameters supported by the GET method on this
resource
* * *
Name Data type P Cardinality Description N/A
* * *
This method shall support the request data structures specified in table
5.12.1.2.3.2-2 and the response data structures and response codes specified
in table 5.12.1.2.3.2-3.
Table 5.12.1.2.3.2-2: Data structures supported by the GET Request Body on
this resource
* * *
Data type P Cardinality Description N/A
* * *
Table 5.12.1.2.3.2-3: Data structures supported by the GET Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | a | M | 0..N | 200 OK | All the | | rray(AcsConfi | | | | subscription | | gurationData) | | | | information | | | | | | for the AF in | | | | | | the request | | | | | | URI are | | | | | | returned. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 307 Temporary | Temporary | | | | | Redirect | redirection, | | | | | | during | | | | | | subscription | | | | | | retrieval. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | sub | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 308 Permanent | Permanent | | | | | Redirect | redirection, | | | | | | during | | | | | | subscription | | | | | | retrieval. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | sub | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the GET | | | | | | method listed | | | | | | in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.12.1.2.3.2-4: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
Table 5.12.1.2.3.2-5: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
###### 5.12.1.2.3.3 POST
The POST method creates a new resource to individual ACS Configuration
subscription for a given AF. The AF shall initiate the HTTP POST request
message and the NEF shall respond to the message. The NEF shall construct the
URI of the created resource.
This method shall support the request data structures specified in table
5.12.1.2.3.3-1 and the response data structures and response codes specified
in table 5.12.1.2.3.3-2.
Table 5.12.1.2.3.3-1: Data structures supported by the POST Request Body on
this resource
* * *
Data type P Cardinality Description AcsConfigurationData M 1 Parameters to
create an individual ACS Configuration subscription resource.
* * *
Table 5.12.1.2.3.3-2: Data structures supported by the POST Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | AcsConf | M | 1 | 201 Created | The | | igurationData | | | | subscription | | | | | | resource was | | | | | | created | | | | | | successfully. | | | | | | | | | | | | The URI of | | | | | | the created | | | | | | resource | | | | | | shall be | | | | | | returned in | | | | | | the | | | | | | \"Location\" | | | | | | HTTP header. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the POST | | | | | | method listed | | | | | | in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.12.1.2.3.3-3: Headers supported by the 201 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 Contains the URI
of the newly created resource, according to the structure: {apiRoot}/3gpp-acs-
pp/v1/{afId}/subscriptions/{subscriptionId}
* * *
#### 5.12.1.3 Resource: Individual ACS Configuration Subscription
##### 5.12.1.3.1 Introduction
This resource allows a AF to read, update or delete an existing ACS
Configuration subscription.
##### 5.12.1.3.2 Resource Definition
Resource URI: **{apiRoot}/3gpp-acs-
pp/v1/{afId}/subscriptions/{subscriptionId}**
This resource shall support the resource URI variables defined in table
5.9.1.3.2-1.
Table 5.12.1.3.2-1: Resource URI variables for this resource
* * *
Name Definition apiRoot Subclause 5.2.4 of 3GPP TS 29.122 [4]. afId Identifier
of the AF of type string. subscriptionId Identifier of the subscription
resource of type string.
* * *
##### 5.12.1.3.3 Resource Methods
###### 5.12.1.3.3.1 General
The following subclauses specify the resource methods supported by the
resource as described in subclause 5.12.1.3.3.
###### 5.12.1.3.3.2 GET
The GET method allows to read the active subscription for a given AF and
subscription Id. The AF shall initiate the HTTP GET request message and theNEF
shall respond to the message.
This method shall support the URI query parameters specified in table
5.12.1.3.3.2-1.
Table 5.12.1.3.3.2-1: URI query parameters supported by the GET method on this
resource
* * *
Name Data type P Cardinality Description N/A
* * *
This method shall support the request data structures specified in table
5.12.1.3.3.2-2 and the response data structures and response codes specified
in table 5.12.1.3.3.2-3.
Table 5.12.1.3.3.2-2: Data structures supported by the GET Request Body on
this resource
* * *
Data type P Cardinality Description N/A
* * *
Table 5.12.1.3.3.2-3: Data structures supported by the GET Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | AcsConf | M | 1 | 200 OK | The | | igurationData | | | | information | | | | | | for the | | | | | | subscription | | | | | | in the | | | | | | request URI | | | | | | are returned. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 307 Temporary | Temporary | | | | | Redirect | redirection, | | | | | | during | | | | | | subscription | | | | | | retrieval. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | sub | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 308 Permanent | Permanent | | | | | Redirect | redirection, | | | | | | during | | | | | | subscription | | | | | | retrieval. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | sub | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the GET | | | | | | method listed | | | | | | in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.12.1.3.3.2-4: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
Table 5.12.1.3.3.2-5: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
###### 5.12.1.3.3.3 PUT
The PUT method modifies an existing resource to update a configuration. The AF
shall initiate the HTTP PUT request message and the NEF shall respond to the
message.
This method shall support the request data structures specified in table
5.9.1.3.3.3-1 and the response data structures and response codes specified in
table 5.9.1.3.3.3-2.
Table 5.12.1.3.3.3-1: Data structures supported by the PUT Request Body on
this resource
* * *
Data type P Cardinality Description AcsConfigurationData M 1 Modify an
existing subscription.
* * *
Table 5.12.1.3.3.3-2: Data structures supported by the PUT Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | AcsConf | M | 1 | 200 OK | The | | igurationData | | | | subscription | | | | | | resource was | | | | | | updated | | | | | | successfully. | +---------------+---+-------------+---------------+---------------+ | n/a | | | 204 No | The | | | | | Content | subscription | | | | | | resource was | | | | | | updated | | | | | | successfully. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 307 Temporary | Temporary | | | | | Redirect | redirection, | | | | | | during | | | | | | subscription | | | | | | modification. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | sub | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 308 Permanent | Permanent | | | | | Redirect | redirection, | | | | | | during | | | | | | subscription | | | | | | modification. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | sub | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the PUT | | | | | | method listed | | | | | | in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.12.1.3.3.3-3: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
Table 5.12.1.3.3.3-4: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
###### 5.12.1.3.3.4 DELETE
The DELETE method deletes an existing individual subscription for a given AF.
The AF shall initiate the HTTP DELETE request message and the NEF shall
respond to the message.
This method shall support the URI query parameters specified in table
5.12.1.3.3.4-1.
Table 5.12.1.3.3.4-1: URI query parameters supported by the DELETE method on
this resource
* * *
Name Data type P Cardinality Description N/A
* * *
This method shall support the request data structures specified in table
5.12.1.3.3.4-2 and the response data structures and response codes specified
in table 5.12.1.3.3.4-3.
Table 5.12.1.3.3.4-2: Data structures supported by the DELETE Request Body on
this resource
* * *
Data type P Cardinality Description N/A
* * *
Table 5.12.1.3.3.4-3: Data structures supported by the DELETE Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | N/A | | | 204 No | The | | | | | Content | subscription | | | | | | resource was | | | | | | terminated | | | | | | successfully. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 307 Temporary | Temporary | | | | | Redirect | redirection, | | | | | | during | | | | | | subscription | | | | | | termination. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | sub | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 308 Permanent | Permanent | | | | | Redirect | redirection, | | | | | | during | | | | | | subscription | | | | | | termination. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | sub | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the | | | | | | DELETE method | | | | | | listed in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.12.1.3.3.4-4: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
Table 5.12.1.3.3.4-5: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
### 5.12.2 Data Model
#### 5.12.2.1 General
This subclause specifies the application data model supported by the
ACSParameterProvision API.
#### 5.12.2.2 Reused data types
The data types reused by the ACSParameterProvision API from other
specifications are listed in table 5.12.2.2-1.
Table 5.12.2.2-1: Re-used Data Types
* * *
Data type Reference Comments AcsInfo 3GPP TS 29.571 [8] Contains the
information of ACS ExternalGroupId 3GPP TS 29.122 [4] External Group
Identifier for a user group. Gpsi 3GPP TS 29.571 [8] Identifies a GPSI. Link
3GPP TS 29.122 [4]  
MtcProviderInformation 3GPP TS 29.571 [8] Indicates MTC provider information.
SupportedFeatures 3GPP TS 29.571 [8] Used to negotiate the applicability of
the optional features defined in table 5.9.4-1.
* * *
#### 5.12.2.3 Structured data types
##### 5.12.2.3.1 Introduction
This clause defines the structured data types to be used in resource
representations.
##### 5.12.2.3.2 Type: AcsConfigurationData
Table 5.12.2.3.2-1: Definition of type AcsConfigurationData
+-----------+-----------+---+-----------+-----------+-----------+ | Attribute | Data type | P | Ca | De | Appl | | name | | | rdinality | scription | icability | +-----------+-----------+---+-----------+-----------+-----------+ | self | Link | C | 0..1 | I | | | | | | | dentifies | | | | | | | the | | | | | | | i | | | | | | | ndividual | | | | | | | service | | | | | | | parameter | | | | | | | sub | | | | | | | scription | | | | | | | resource | | | | | | | URI. | | | | | | | | | | | | | | Shall be | | | | | | | present | | | | | | | by the | | | | | | | NEF in | | | | | | | HTTP | | | | | | | responses | | | | | | | that | | | | | | | include | | | | | | | an object | | | | | | | of | | | | | | | Ac | | | | | | | sConfigur | | | | | | | ationData | | | | | | | Data | | | | | | | type. | | +-----------+-----------+---+-----------+-----------+-----------+ | gpsi | Gpsi | O | 0..1 | I | | | | | | | dentifies | | | | | | | GPSI. | | | | | | | (NOTE) | | +-----------+-----------+---+-----------+-----------+-----------+ | ext | Extern | O | 0..1 | R | | | erGroupId | alGroupId | | | epresents | | | | | | | a group | | | | | | | of users. | | | | | | | (NOTE) | | +-----------+-----------+---+-----------+-----------+-----------+ | acsInfo | AcsInfo | M | 1 | Contains | | | | | | | the | | | | | | | in | | | | | | | formation | | | | | | | of ACS. | | +-----------+-----------+---+-----------+-----------+-----------+ | mtcP | MtcP | O | 0..1 | Indicates | | | roviderId | roviderIn | | | MTC | | | | formation | | | provider | | | | | | | inf | | | | | | | ormation. | | +-----------+-----------+---+-----------+-----------+-----------+ | suppFeat | Supporte | M | 1 | Indicates | | | | dFeatures | | | the list | | | | | | | of | | | | | | | Supported | | | | | | | features | | | | | | | used as | | | | | | | described | | | | | | | in | | | | | | | subclaus | | | | | | | e 5.12.3. | | | | | | | | | | | | | | This | | | | | | | parameter | | | | | | | shall be | | | | | | | supplied | | | | | | | by the NF | | | | | | | service | | | | | | | consumer | | | | | | | in the | | | | | | | POST | | | | | | | request | | | | | | | that | | | | | | | requested | | | | | | | the | | | | | | | creation | | | | | | | of an | | | | | | | i | | | | | | | ndividual | | | | | | | ACS | | | | | | | conf | | | | | | | iguration | | | | | | | Sub | | | | | | | scription | | | | | | | resource. | | +-----------+-----------+---+-----------+-----------+-----------+ | NOTE: | | | | | | | Only one | | | | | | | of the | | | | | | | \"gpsi\" | | | | | | | or | | | | | | | \"exter | | | | | | | GroupId\" | | | | | | | attribute | | | | | | | shall be | | | | | | | provided. | | | | | | +-----------+-----------+---+-----------+-----------+-----------+
#### 5.12.2.4 Simple data types and enumerations
##### 5.12.2.4.1 Introduction
This subclause defines simple data types and enumerations that can be
referenced from data structures defined in the previous subclauses.
##### 5.12.2.4.2 Simple data types
The simple data types defined in table 5.12.2.4.2-1 shall be supported.
Table 5.12.2.4.2-1: Simple data types
* * *
Type Name Type Definition Description Applicability
* * *
### 5.12.3 Used Features
The table below defines the features applicable to the ACSParameterProvision
API. Those features are negotiated as described in subclause 5.2.7 of 3GPP TS
29.122 [4].
Table 5.12.3-1: Features used by ACSParameterProvision API
* * *
Feature number Feature Name Description
* * *
## 5.13 MoLcsNotify API
### 5.13.1 Resources
There is no resource defined for this API.
### 5.13.2 Notifications
#### 5.13.2.1 Introduction
Upon receipt of a UE location information update notification from the GMLC,
the NEF shall send an HTTP POST message in order to notify the AF of the
updated UE location information.
#### 5.13.2.2 Event Notification
Callback URI: **{notificationDestination}** shall be used with the callback
URI variables defined in table 5.13.2.2-1.
Table 5.13.2.2-1: Callback URI variables
+-------------------------+-------------------------------------------+ | Name | Definition | +-------------------------+-------------------------------------------+ | notificationDestination | A URI indicating the notification | | | destination where N33 notification | | | requests shall be delivered to. | | | | | | This URI shall be preconfigured in the | | | NEF. | +-------------------------+-------------------------------------------+
#### 5.13.2.3 Operation Definition
##### 5.13.2.3.1 Notification via HTTP POST
This method shall support the request data structures specified in table
5.13.2.3.1-1 and the response data structures and response codes specified in
table 5.13.2.3.1-2.
Table 5.13.2.3.1-1: Data structures supported by the POST Request Body on this
resource
* * *
Data type P Cardinality Description LocUpdateData M 1 Delivers UE location to
AF during MO-LR procedure
* * *
Table 5.13.2.3.1-2: Data structures supported by the POST Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | LocUp | M | 1 | 200 OK | The | | dateDataReply | | | | notification | | | | | | is received | | | | | | successfully. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 307 Temporary | Temporary | | | | | Redirect | redirection, | | | | | | during | | | | | | notification. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI | | | | | | representing | | | | | | the end point | | | | | | of an | | | | | | alternative | | | | | | AF where the | | | | | | notification | | | | | | should be | | | | | | sent. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | sub | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 308 Permanent | Permanent | | | | | Redirect | redirection, | | | | | | during | | | | | | notification. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI | | | | | | representing | | | | | | the end point | | | | | | of an | | | | | | alternative | | | | | | AF where the | | | | | | notification | | | | | | should be | | | | | | sent. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | sub | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the POST | | | | | | method listed | | | | | | in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.13.2.3.1-3: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI representing the end point of an alternative AF towards which the
notification should be redirected.
* * *
Table 5.13.2.3.1-4: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI representing the end point of an alternative AF towards which the
notification should be redirected.
* * *
### 5.13.3 Data Model
#### 5.13.3.1 General
This subclause specifies the application data model supported by the
MoLcsNotify API.
#### 5.13.3.2 Reused data types
The data types reused by the MoLcsNotify API from other specifications are
listed in table 5.13.3.2-1.
Table 5.13.3.2-1: Re-used Data Types
* * *
Data type Reference Comments SupportedFeatures 3GPP TS 29.571 [8] Used to
negotiate the applicability of the optional features defined in table
5.13.4-1. Gpsi 3GPP TS 29.571 [8] Identifies a GPSI. LocationInfo 3GPP TS
29.122 [4] Represent user location information for exposure. LcsQosClass 3GPP
TS 29.572 [34] LCS QoS Class. ServiceIdentity 3GPP TS 29.515 [35] Service
identity
* * *
#### 5.13.3.3 Structured data types
##### 5.13.3.3.1 Introduction
This clause defines the structured data types to be used by the MoLcsNotify
API.
##### 5.13.3.3.2 Type: LocUpdateData
This type represents a UE updated location information from the NEF to the AF.
Table 5.13.3.3.2-1: Definition of type LocUpdateData
* * *
Attribute name Data type P Cardinality Description Applicability gpsi Gpsi M 1
Generic Public Subscription identifier  
locInfo LocationInfo M 1 Represent user location information for exposure.  
lcsQosClass LcsQosClass M 1 LCS QoS Class.  
svcId ServiceIdentity O 0..1 Service Identity may be specified by the UE for
LCS request.  
suppFeat SupportedFeatures M 1 Indicates the list of Supported features used
as described in subclause 5.13.4.
* * *
##### 5.13.3.3.3 Type: LocUpdateDataReply
This data type represents a reply to a MO LCS notification and is sent from
the AF to the NEF.
Table 5.13.3.3.3-1: Definition of type LocUpdateDataReply
* * *
Attribute name Data type P Cardinality Description Applicability suppFeat
SupportedFeatures M 1 Indicates the list of Supported features used as
described in subclause 5.13.4.
* * *
#### 5.13.3.4 Simple data types and enumerations
##### 5.13.3.4.1 Introduction
This subclause defines simple data types and enumerations that can be
referenced from data structures defined in the previous subclauses.
##### 5.13.3.4.2 Simple data types
The simple data types defined in table 5.13.3.4.2-1 shall be supported.
Table 5.13.3.4.2-1: Simple data types
* * *
Type Name Type Definition Description Applicability
* * *
### 5.13.4 Used Features
The table below defines the features applicable to the MoLcsNotify API. Those
features are negotiated as described in subclause 5.2.7 of 3GPP TS 29.122 [4].
Table 5.13.4-1: Features used by MoLcsNotify API
* * *
Feature number Feature Name Description
* * *
# 6 Security
TLS (IETF RFC 5246 [16]) shall be used to support the security communication
between the NEF and the AF over NEF Northbound interface as defined in
subclause 12 of 3GPP TS 33.501 [6]. The access to the SCEF northbound APIs
shall be authorized by means of OAuth2 protocol (see IETF RFC 6749 [13]),
based on local configuration, using the \"Client Credentials\" authorization
grant. If OAuth2 is used, a client, prior to consuming services offered by the
NEF Northbound APIs, shall obtain a \"token\" from the authorization server.
# 7 Using Common API Framework
## 7.1 General
When CAPIF is used with an NEF that is used for external exposure, the NEF
shall support the following as defined in 3GPP TS 29.222 [12]:
\- the API exposing function and related APIs over CAPIF-2/2e and CAPIF-3
reference points;
\- the API publishing function and related APIs over CAPIF-4 reference point;
\- the API management function and related APIs over CAPIF-5 reference point;
and
\- at least one of the security methods for authentication and authorization,
and related security mechanisms.
In a centralized deployment as defined in 3GPP TS 23.222 [11], where the CAPIF
core function and API provider domain functions are co-located, the
interactions between the CAPIF core function and API provider domain functions
may be independent of CAPIF-3, CAPIF-4 and CAPIF-5 reference points.
## 7.2 Security
When CAPIF is used for external exposure, before invoking the API exposed by
the NEF, the AF as API invoker shall negotiate the security method (PKI, TLS-
PSK or OAUTH2) with CAPIF core function and ensure the NEF has enough
credential to authenticate the AF (see 3GPP TS 29.222 [12], subclause 5.6.2.2
and subclause 6.2.2.2).
If PKI or TLS-PSK is used as the selected security method between the AF and
the NEF, upon API invocation, the NEF shall retrieve the authorization
information from the CAPIF core function as described in 3GPP TS 29.222 [12],
subclause 5.6.2.4.
As indicated in 3GPP TS 33.122 [14], the access to the NEF northbound APIs may
be authorized by means of the OAuth2 protocol (see IETF RFC 6749 [13]), using
the \"Client Credentials\" authorization grant, where the CAPIF core function
(see 3GPP TS 29.222 [12]) plays the role of the authorization server.
NOTE 1: In this release, only \"Client Credentials\" authorization grant is
supported.
If OAuth2 is used as the selected security method between the AF and the NEF,
the AF, prior to consuming services offered by the NEF northbound APIs, shall
obtain a \"token\" from the authorization server, by invoking the
Obtain_Authorization service, as described in 3GPP TS 29.222 [12], subclause
5.6.2.3.2.
The NEF northbound APIs do not define any scopes for OAuth2 authorization. It
is the NEF responsibility to check whether the AF is authorized to use an API
based on the \"token\". Once the NEF verifies the \"token\", it shall check
whether the NEF identifier in the \"token\" matches its own published
identifier, and whether the API name in the \"token\" matches its own
published API name. If those checks are passed, the AF has full authority to
access any resource or operation for the invoked API.
NOTE 2: For aforementioned security methods, the NEF needs to apply admission
control according to access control policies after performing the
authorization checks.
NOTE 3: The security requirement in the current subclause does not apply for
the NiddConfigurationTrigger and the MsisdnLessMoSms APIs since they are the
NEF initiated interaction with the AF. How the security scheme works for the
NiddConfigurationTrigger and MsisdnLessMoSms APIs is left to configuration.
###### ## Annex A (normative): OpenAPI representation for **NEF Northbound**
APIs
# A.1 General
This Annex is based on the OpenAPI 3.0.0 specification [5] and provides
corresponding representations of all APIs defined in the present
specification.
NOTE 1: An OpenAPIs representation embeds JSON Schema representations of HTTP
message bodies.
This Annex shall take precedence when being discrepant to other parts of the
specification with respect to the encoding of information elements and methods
within the API(s).
NOTE 2: The semantics and procedures, as well as conditions, e.g. for the
applicability and allowed combinations of attributes or values, not expressed
in the OpenAPI definitions but defined in other parts of the specification
also apply.
Informative copies of the OpenAPI specification files contained in this 3GPP
Technical Specification are available on a Git-based repository that uses the
GitLab software version control system (see clause 5B of the 3GPP TR 21.900
[21] and subclause 5.3.1 of the 3GPP TS 29.501 [32] for further information).
# A.2 TrafficInfluence API
openapi: 3.0.0
info:
title: 3gpp-traffic-influence
version: 1.1.2
description: \|
API for AF traffic influence
Â© 2021, 3GPP Organizational Partners (ARIB, ATIS, CCSA, ETSI, TSDSI, TTA,
TTC).
All rights reserved.
externalDocs:
description: 3GPP TS 29.522 V16.7.0; 5G System; Network Exposure Function
Northbound APIs.
url: \'http://www.3gpp.org/ftp/Specs/archive/29_series/29.522/\'
security:
\- {}
\- oAuth2ClientCredentials: []
servers:
\- url: \'{apiRoot}/3gpp-traffic-influence/v1\'
variables:
apiRoot:
default: https://example.com
description: apiRoot as defined in subclause 5.2.4 of 3GPP TS 29.122.
paths:
/{afId}/subscriptions:
parameters:
\- name: afId
in: path
description: Identifier of the AF
required: true
schema:
type: string
get:
summary: read all of the active subscriptions for the AF
tags:
\- Traffic Influence Subscription
responses:
\'200\':
description: OK.
content:
application/json:
schema:
type: array
items:
\$ref: \'#/components/schemas/TrafficInfluSub\'
\'307\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/404\'
\'406\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/406\'
\'429\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29122_CommonData.yaml#/components/responses/default\'
post:
summary: Creates a new subscription resource
tags:
\- Traffic Influence Subscription
requestBody:
description: Request to create a new subscription resource
required: true
content:
application/json:
schema:
\$ref: \'#/components/schemas/TrafficInfluSub\'
callbacks:
notificationDestination:
\'{request.body#/notificationDestination}\':
post:
requestBody: # contents of the callback message
required: true
content:
application/json:
schema:
\$ref: \'#/components/schemas/EventNotification\'
callbacks:
afAcknowledgement:
\'{request.body#/afAckUri}\':
post:
requestBody: # contents of the callback message
required: true
content:
application/json:
schema:
\$ref: \'#/components/schemas/AfAckInfo\'
responses:
\'204\':
description: No Content (successful acknowledgement)
\'307\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/404\'
\'411\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29122_CommonData.yaml#/components/responses/default\'
responses:
\'204\':
description: No Content (successful notification)
\'307\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/404\'
\'411\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29122_CommonData.yaml#/components/responses/default\'
responses:
\'201\':
description: Created (Successful creation of subscription)
content:
application/json:
schema:
\$ref: \'#/components/schemas/TrafficInfluSub\'
headers:
Location:
description: \'Contains the URI of the newly created resource\'
required: true
schema:
type: string
\'400\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/404\'
\'411\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29122_CommonData.yaml#/components/responses/default\'
/{afId}/subscriptions/{subscriptionId}:
parameters:
\- name: afId
in: path
description: Identifier of the AF
required: true
schema:
type: string
\- name: subscriptionId
in: path
description: Identifier of the subscription resource
required: true
schema:
type: string
get:
summary: read an active subscriptions for the SCS/AS and the subscription Id
tags:
\- Individual Traffic Influence Subscription
responses:
\'200\':
description: OK (Successful get the active subscription)
content:
application/json:
schema:
\$ref: \'#/components/schemas/TrafficInfluSub\'
\'307\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/404\'
\'406\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/406\'
\'429\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29122_CommonData.yaml#/components/responses/default\'
put:
summary: Updates/replaces an existing subscription resource
tags:
\- Individual Traffic Influence Subscription
requestBody:
description: Parameters to update/replace the existing subscription
required: true
content:
application/json:
schema:
\$ref: \'#/components/schemas/TrafficInfluSub\'
responses:
\'200\':
description: OK (Successful update of the subscription)
content:
application/json:
schema:
\$ref: \'#/components/schemas/TrafficInfluSub\'
\'307\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/404\'
\'411\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29122_CommonData.yaml#/components/responses/default\'
patch:
summary: Updates/replaces an existing subscription resource
tags:
\- Individual Traffic Influence Subscription
requestBody:
required: true
content:
application/merge-patch+json:
schema:
\$ref: \'#/components/schemas/TrafficInfluSubPatch\'
responses:
\'200\':
description: OK. The subscription was modified successfully.
content:
application/json:
schema:
\$ref: \'#/components/schemas/TrafficInfluSub\'
\'307\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/404\'
\'411\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29122_CommonData.yaml#/components/responses/default\'
delete:
summary: Deletes an already existing subscription
tags:
\- Individual Traffic Influence Subscription
responses:
\'204\':
description: No Content (Successful deletion of the existing subscription)
\'307\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/404\'
\'429\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29122_CommonData.yaml#/components/responses/default\'
components:
securitySchemes:
oAuth2ClientCredentials:
type: oauth2
flows:
clientCredentials:
tokenUrl: \'{tokenUrl}\'
scopes: {}
schemas:
TrafficInfluSub:
type: object
properties:
afServiceId:
type: string
description: Identifies a service on behalf of which the AF is issuing the
request.
afAppId:
type: string
description: Identifies an application.
afTransId:
type: string
description: Identifies an NEF Northbound interface transaction, generated by
the AF.
appReloInd:
type: boolean
description: Identifies whether an application can be relocated once a
location of the application has been selected.
dnn:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Dnn\'
snssai:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Snssai\'
externalGroupId:
\$ref: \'TS29122_CommonData.yaml#/components/schemas/ExternalGroupId\'
anyUeInd:
type: boolean
description: Identifies whether the AF request applies to any UE. This
attribute shall set to \"true\" if applicable for any UE, otherwise, set to
\"false\".
subscribedEvents:
type: array
items:
\$ref: \'#/components/schemas/SubscribedEvent\'
minItems: 1
description: Identifies the requirement to be notified of the event(s).
gpsi:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Gpsi\'
ipv4Addr:
\$ref: \'TS29122_CommonData.yaml#/components/schemas/Ipv4Addr\'
ipDomain:
type: string
ipv6Addr:
\$ref: \'TS29122_CommonData.yaml#/components/schemas/Ipv6Addr\'
macAddr:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/MacAddr48\'
dnaiChgType:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/DnaiChangeType\'
notificationDestination:
\$ref: \'TS29122_CommonData.yaml#/components/schemas/Link\'
requestTestNotification:
type: boolean
description: Set to true by the SCS/AS to request the NEF to send a test
notification as defined in subclause 5.2.5.3. Set to false or omitted
otherwise.
websockNotifConfig:
\$ref: \'TS29122_CommonData.yaml#/components/schemas/WebsockNotifConfig\'
self:
\$ref: \'TS29122_CommonData.yaml#/components/schemas/Link\'
trafficFilters:
type: array
items:
\$ref: \'TS29122_CommonData.yaml#/components/schemas/FlowInfo\'
minItems: 1
description: Identifies IP packet filters.
ethTrafficFilters:
type: array
items:
\$ref:
\'TS29514_Npcf_PolicyAuthorization.yaml#/components/schemas/EthFlowDescription\'
minItems: 1
description: Identifies Ethernet packet filters.
trafficRoutes:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/RouteToLocation\'
minItems: 1
description: Identifies the N6 traffic routing requirement.
tfcCorrInd:
type: boolean
tempValidities:
type: array
items:
\$ref:
\'TS29514_Npcf_PolicyAuthorization.yaml#/components/schemas/TemporalValidity\'
validGeoZoneIds:
type: array
items:
type: string
minItems: 1
description: Identifies a geographic zone that the AF request applies only to
the traffic of UE(s) located in this specific zone.
afAckInd:
type: boolean
addrPreserInd:
type: boolean
suppFeat:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/SupportedFeatures\'
allOf:
\- oneOf:
\- required: [afAppId]
\- required: [trafficFilters]
\- required: [ethTrafficFilters]
\- oneOf:
\- required: [ipv4Addr]
\- required: [ipv6Addr]
\- required: [macAddr]
\- required: [gpsi]
\- required: [externalGroupId]
\- required: [anyUeInd]
anyOf:
\- not:
required: [subscribedEvents]
\- required: [notificationDestination]
TrafficInfluSubPatch:
type: object
properties:
appReloInd:
type: boolean
description: Identifies whether an application can be relocated once a
location of the application has been selected.
nullable: true
trafficFilters:
type: array
items:
\$ref: \'TS29122_CommonData.yaml#/components/schemas/FlowInfo\'
minItems: 1
description: Identifies IP packet filters.
ethTrafficFilters:
type: array
items:
\$ref:
\'TS29514_Npcf_PolicyAuthorization.yaml#/components/schemas/EthFlowDescription\'
minItems: 1
description: Identifies Ethernet packet filters.
trafficRoutes:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/RouteToLocation\'
minItems: 1
description: Identifies the N6 traffic routing requirement.
tfcCorrInd:
type: boolean
nullable: true
tempValidities:
type: array
items:
\$ref:
\'TS29514_Npcf_PolicyAuthorization.yaml#/components/schemas/TemporalValidity\'
minItems: 1
nullable: true
validGeoZoneIds:
type: array
items:
type: string
minItems: 1
description: Identifies a geographic zone that the AF request applies only to
the traffic of UE(s) located in this specific zone.
nullable: true
afAckInd:
type: boolean
nullable: true
addrPreserInd:
type: boolean
nullable: true
EventNotification:
type: object
properties:
afTransId:
type: string
description: Identifies an NEF Northbound interface transaction, generated by
the AF.
dnaiChgType:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/DnaiChangeType\'
sourceTrafficRoute:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/RouteToLocation\'
subscribedEvent:
\$ref: \'#/components/schemas/SubscribedEvent\'
targetTrafficRoute:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/RouteToLocation\'
sourceDnai:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Dnai\'
targetDnai:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Dnai\'
gpsi:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Gpsi\'
srcUeIpv4Addr:
\$ref: \'TS29122_CommonData.yaml#/components/schemas/Ipv4Addr\'
srcUeIpv6Prefix:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Ipv6Prefix\'
tgtUeIpv4Addr:
\$ref: \'TS29122_CommonData.yaml#/components/schemas/Ipv4Addr\'
tgtUeIpv6Prefix:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Ipv6Prefix\'
ueMac:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/MacAddr48\'
afAckUri:
\$ref: \'TS29122_CommonData.yaml#/components/schemas/Link\'
required:
\- dnaiChgType
\- subscribedEvent
AfResultInfo:
type: object
properties:
afStatus:
\$ref: \'#/components/schemas/AfResultStatus\'
trafficRoute:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/RouteToLocation\'
required:
\- afStatus
AfAckInfo:
type: object
properties:
afTransId:
type: string
ackResult:
\$ref: \'#/components/schemas/AfResultInfo\'
gpsi:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Gpsi\'
required:
\- ackResult
SubscribedEvent:
anyOf:
\- type: string
enum:
\- UP_PATH_CHANGE
\- type: string
description: >
Possible values are
\- UP_PATH_CHANGE: The AF requests to be notified when the UP path changes for
the PDU session.
AfResultStatus:
anyOf:
\- type: string
enum:
\- SUCCESS
\- TEMPORARY_CONGESTION
\- RELOC_NO_ALLOWED
\- OTHER
\- type: string
description: >
Possible values are
\- SUCCESS: The application layer is ready or the relocation is completed.
\- TEMPORARY_CONGESTION: The application relocation fails due to temporary
congestion.
\- RELOC_NO_ALLOWED: The application relocation fails because application
relocation is not allowed.
\- OTHER: The application relocation fails due to other reason.
# A.3 NiddConfigurationTrigger API
openapi: 3.0.0
info:
title: 3gpp-nidd-configuration-trigger
version: 1.0.1
description: \|
API for NIDD Configuration Trigger.
Â© 2021, 3GPP Organizational Partners (ARIB, ATIS, CCSA, ETSI, TSDSI, TTA,
TTC).
All rights reserved.
externalDocs:
description: 3GPP TS 29.522 V16.7.0; 5G System; Network Exposure Function
Northbound APIs.
url: \'http://www.3gpp.org/ftp/Specs/archive/29_series/29.522/\'
security:
\- {}
\- oAuth2ClientCredentials: []
servers:
\- url: \'{apiRoot}\'
variables:
apiRoot:
default: https://example.com
description: apiRoot as defined in subclause 5.2.4 of 3GPP TS 29.122.
paths:
/:
post:
requestBody:
required: true
content:
application/json:
schema:
\$ref: \'#/components/schemas/NiddConfigurationTrigger\'
responses:
\'200\':
description: Success
content:
application/json:
schema:
\$ref: \'#/components/schemas/NiddConfigurationTriggerReply\'
\'307\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/404\'
\'411\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29122_CommonData.yaml#/components/responses/default\'
components:
securitySchemes:
oAuth2ClientCredentials:
type: oauth2
flows:
clientCredentials:
tokenUrl: \'{tokenUrl}\'
scopes: {}
schemas:
NiddConfigurationTrigger:
type: object
properties:
afId:
type: string
description: Identifies the trigger receiving entity.
nefId:
type: string
description: Identifies the trigger sending entity.
gpsi:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Gpsi\'
suppFeat:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/SupportedFeatures\'
required:
\- afId
\- nefId
\- gpsi
\- suppFeat
NiddConfigurationTriggerReply:
type: object
properties:
suppFeat:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/SupportedFeatures\'
required:
\- suppFeat
# A.4 AnalyticsExposure API
openapi: 3.0.0
info:
title: 3gpp-analyticsexposure
version: 1.0.4
description: \|
API for Analytics Exposure.
Â© 2021, 3GPP Organizational Partners (ARIB, ATIS, CCSA, ETSI, TSDSI, TTA,
TTC).
All rights reserved.
externalDocs:
description: 3GPP TS 29.522 V16.8.0; 5G System; Network Exposure Function
Northbound APIs.
url: \'http://www.3gpp.org/ftp/Specs/archive/29_series/29.522/\'
security:
\- {}
\- oAuth2ClientCredentials: []
servers:
\- url: \'{apiRoot}/3gpp-analyticsexposure/v1\'
variables:
apiRoot:
default: https://example.com
description: apiRoot as defined in subclause 5.2.4 of 3GPP TS 29.122.
paths:
/{afId}/subscriptions:
get:
summary: read all of the active subscriptions for the AF
tags:
\- Analytics Exposure Subscriptions
parameters:
\- name: afId
in: path
description: Identifier of the AF
required: true
schema:
type: string
\- name: supp-feat
in: query
description: Features supported by the NF service consumer
required: false
schema:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/SupportedFeatures\'
responses:
\'200\':
description: OK (Successful get all of the active subscriptions for the AF)
content:
application/json:
schema:
type: array
items:
\$ref: \'#/components/schemas/AnalyticsExposureSubsc\'
minItems: 0
\'307\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/404\'
\'406\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/406\'
\'429\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29122_CommonData.yaml#/components/responses/default\'
post:
summary: Creates a new subscription resource
tags:
\- Analytics Exposure Subscriptions
parameters:
\- name: afId
in: path
description: Identifier of the AF
required: true
schema:
type: string
requestBody:
description: new subscription creation
required: true
content:
application/json:
schema:
\$ref: \'#/components/schemas/AnalyticsExposureSubsc\'
callbacks:
notification:
\'{request.body#/notifUri}\':
post:
requestBody: # contents of the callback message
required: true
content:
application/json:
schema:
\$ref: \'#/components/schemas/AnalyticsEventNotification\'
responses:
\'204\':
description: No Content (successful notification)
\'307\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/404\'
\'411\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29122_CommonData.yaml#/components/responses/default\'
responses:
\'201\':
description: Created (Successful creation)
content:
application/json:
schema:
\$ref: \'#/components/schemas/AnalyticsExposureSubsc\'
headers:
Location:
description: \'Contains the URI of the newly created resource\'
required: true
schema:
type: string
\'204\':
description: Successful case. The resource has been successfully created and
no additional content is to be sent in the response message.
\'400\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/404\'
\'411\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29122_CommonData.yaml#/components/responses/default\'
/{afId}/subscriptions/{subscriptionId}:
get:
summary: read an active subscription for the AF and the subscription Id
tags:
\- Individual Analytics Exposure Subscription
parameters:
\- name: afId
in: path
description: Identifier of the AF
required: true
schema:
type: string
\- name: subscriptionId
in: path
description: Identifier of the subscription resource
required: true
schema:
type: string
\- name: supp-feat
in: query
description: Features supported by the NF service consumer
required: false
schema:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/SupportedFeatures\'
responses:
\'200\':
description: OK (Successful get the active subscription)
content:
application/json:
schema:
\$ref: \'#/components/schemas/AnalyticsExposureSubsc\'
\'307\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/404\'
\'406\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/406\'
\'429\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29122_CommonData.yaml#/components/responses/default\'
put:
summary: Updates/replaces an existing subscription resource
tags:
\- Individual Analytics Exposure Subscription
parameters:
\- name: afId
in: path
description: Identifier of the AF
required: true
schema:
type: string
\- name: subscriptionId
in: path
description: Identifier of the subscription resource
required: true
schema:
type: string
requestBody:
description: Parameters to update/replace the existing subscription
required: true
content:
application/json:
schema:
\$ref: \'#/components/schemas/AnalyticsExposureSubsc\'
responses:
\'200\':
description: OK (Successful deletion of the existing subscription)
content:
application/json:
schema:
\$ref: \'#/components/schemas/AnalyticsExposureSubsc\'
\'204\':
description: Successful case. The resource has been successfully updated and
no additional content is to be sent in the response message.
\'307\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/404\'
\'411\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29122_CommonData.yaml#/components/responses/default\'
delete:
summary: Deletes an already existing subscription
tags:
\- Individual Analytics Exposure Subscription
parameters:
\- name: afId
in: path
description: Identifier of the AF
required: true
schema:
type: string
\- name: subscriptionId
in: path
description: Identifier of the subscription resource
required: true
schema:
type: string
responses:
\'204\':
description: No Content (Successful deletion of the existing subscription)
\'307\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/404\'
\'429\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29122_CommonData.yaml#/components/responses/default\'
/{afId}/fetch:
post:
summary: Fetch analytics information
tags:
\- AnalyticsExposure API Fetch analytics information
parameters:
\- name: afId
in: path
description: Identifier of the AF
required: true
schema:
type: string
requestBody:
required: true
content:
application/json:
schema:
\$ref: \'#/components/schemas/AnalyticsRequest\'
responses:
\'200\':
description: The requested information was returned successfully.
content:
application/json:
schema:
\$ref: \'#/components/schemas/AnalyticsData\'
\'204\':
description: No Content (The requested Analytics data does not exist)
\'307\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/404\'
\'411\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29122_CommonData.yaml#/components/responses/default\'
components:
securitySchemes:
oAuth2ClientCredentials:
type: oauth2
flows:
clientCredentials:
tokenUrl: \'{tokenUrl}\'
scopes: {}
schemas:
AnalyticsExposureSubsc:
type: object
properties:
analyEventsSubs:
type: array
items:
\$ref: \'#/components/schemas/AnalyticsEventSubsc\'
minItems: 1
analyRepInfo:
\$ref:
\'TS29523_Npcf_EventExposure.yaml#/components/schemas/ReportingInformation\'
notifUri:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Uri\'
notifId:
type: string
eventNotifis:
type: array
items:
\$ref: \'#/components/schemas/AnalyticsEventNotif\'
minItems: 1
failEventReports:
type: array
items:
\$ref: \'#/components/schemas/AnalyticsFailureEventInfo\'
minItems: 1
suppFeat:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/SupportedFeatures\'
self:
\$ref: \'TS29122_CommonData.yaml#/components/schemas/Link\'
requestTestNotification:
type: boolean
description: Set to true by the AF to request the NEF to send a test
notification as defined in subclause 5.2.5.3 of 3GPP TS 29.122. Set to false
or omitted otherwise.
websockNotifConfig:
\$ref: \'TS29122_CommonData.yaml#/components/schemas/WebsockNotifConfig\'
required:
\- analyEventsSubs
\- notifUri
\- notifId
AnalyticsEventNotification:
type: object
properties:
notifId:
type: string
analyEventNotifs:
type: array
items:
\$ref: \'#/components/schemas/AnalyticsEventNotif\'
minItems: 1
required:
\- notifId
\- analyEventNotifs
AnalyticsEventNotif:
type: object
properties:
analyEvent:
\$ref: \'#/components/schemas/AnalyticsEvent\'
expiry:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/DateTime\'
timeStamp:
\$ref: \'TS29122_CommonData.yaml#/components/schemas/DateTime\'
ueMobilityInfos:
type: array
items:
\$ref: \'#/components/schemas/UeMobilityExposure\'
minItems: 1
ueCommInfos:
type: array
items:
\$ref:
\'TS29520_Nnwdaf_EventsSubscription.yaml#/components/schemas/UeCommunication\'
minItems: 1
abnormalInfos:
type: array
items:
\$ref: \'#/components/schemas/AbnormalExposure\'
minItems: 1
congestInfos:
type: array
items:
\$ref: \'#/components/schemas/CongestInfo\'
minItems: 1
nwPerfInfos:
type: array
items:
\$ref: \'#/components/schemas/NetworkPerfExposure\'
minItems: 1
qosSustainInfos:
type: array
items:
\$ref: \'#/components/schemas/QosSustainabilityExposure\'
minItems: 1
required:
\- analyEvent
\- timeStamp
AnalyticsEventSubsc:
type: object
properties:
analyEvent:
\$ref: \'#/components/schemas/AnalyticsEvent\'
analyEventFilter:
\$ref: \'#/components/schemas/AnalyticsEventFilterSubsc\'
tgtUe:
\$ref: \'#/components/schemas/TargetUeId\'
required:
\- analyEvent
AnalyticsEventFilterSubsc:
type: object
properties:
nwPerfReqs:
type: array
items:
\$ref:
\'TS29520_Nnwdaf_EventsSubscription.yaml#/components/schemas/NetworkPerfRequirement\'
minItems: 1
locArea:
\$ref: \'TS29122_CommonData.yaml#/components/schemas/LocationArea5G\'
appIds:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/ApplicationId\'
minItems: 1
dnn:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Dnn\'
excepRequs:
type: array
items:
\$ref:
\'TS29520_Nnwdaf_EventsSubscription.yaml#/components/schemas/Exception\'
minItems: 1
exptAnaType:
\$ref:
\'TS29520_Nnwdaf_EventsSubscription.yaml#/components/schemas/ExpectedAnalyticsType\'
exptUeBehav:
\$ref: \'TS29503_Nudm_SDM.yaml#/components/schemas/ExpectedUeBehaviourData\'
reptThlds:
type: array
items:
\$ref:
\'TS29520_Nnwdaf_EventsSubscription.yaml#/components/schemas/ThresholdLevel\'
minItems: 1
snssai:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Snssai\'
qosReq:
\$ref:
\'TS29520_Nnwdaf_EventsSubscription.yaml#/components/schemas/QosRequirement\'
qosFlowRetThds:
type: array
items:
\$ref:
\'TS29520_Nnwdaf_EventsSubscription.yaml#/components/schemas/RetainabilityThreshold\'
minItems: 1
ranUeThrouThds:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/BitRate\'
minItems: 1
extraReportReq:
\$ref:
\'TS29520_Nnwdaf_EventsSubscription.yaml#/components/schemas/EventReportingRequirement\'
TargetUeId:
type: object
properties:
anyUeInd:
type: boolean
gpsi:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Gpsi\'
exterGroupId:
\$ref: \'TS29122_CommonData.yaml#/components/schemas/ExternalGroupId\'
UeMobilityExposure:
type: object
properties:
ts:
\$ref: \'TS29122_CommonData.yaml#/components/schemas/DateTime\'
recurringTime:
\$ref:
\'TS29122_CpProvisioning.yaml#/components/schemas/ScheduledCommunicationTime\'
duration:
\$ref: \'TS29122_CommonData.yaml#/components/schemas/DurationSec\'
durationVariance:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Float\'
locInfo:
type: array
items:
\$ref: \'#/components/schemas/UeLocationInfo\'
minItems: 1
required:
\- duration
\- locInfo
UeLocationInfo:
type: object
properties:
loc:
\$ref: \'TS29122_CommonData.yaml#/components/schemas/LocationArea5G\'
ratio:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/SamplingRatio\'
confidence:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Uinteger\'
required:
\- loc
AnalyticsRequest:
type: object
properties:
analyEvent:
\$ref: \'#/components/schemas/AnalyticsEvent\'
analyEventFilter:
\$ref: \'#/components/schemas/AnalyticsEventFilter\'
analyRep:
\$ref:
\'TS29520_Nnwdaf_EventsSubscription.yaml#/components/schemas/EventReportingRequirement\'
tgtUe:
\$ref: \'#/components/schemas/TargetUeId\'
suppFeat:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/SupportedFeatures\'
required:
\- analyEvent
\- suppFeat
AnalyticsEventFilter:
type: object
properties:
locArea:
\$ref: \'TS29122_CommonData.yaml#/components/schemas/LocationArea5G\'
dnn:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Dnn\'
nwPerfTypes:
type: array
items:
\$ref:
\'TS29520_Nnwdaf_EventsSubscription.yaml#/components/schemas/NetworkPerfType\'
minItems: 1
appIds:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/ApplicationId\'
minItems: 1
excepIds:
type: array
items:
\$ref:
\'TS29520_Nnwdaf_EventsSubscription.yaml#/components/schemas/ExceptionId\'
minItems: 1
exptAnaType:
\$ref:
\'TS29520_Nnwdaf_EventsSubscription.yaml#/components/schemas/ExpectedAnalyticsType\'
exptUeBehav:
\$ref: \'TS29503_Nudm_SDM.yaml#/components/schemas/ExpectedUeBehaviourData\'
snssai:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Snssai\'
qosReq:
\$ref:
\'TS29520_Nnwdaf_EventsSubscription.yaml#/components/schemas/QosRequirement\'
AnalyticsData:
type: object
properties:
expiry:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/DateTime\'
ueMobilityInfos:
type: array
items:
\$ref: \'#/components/schemas/UeMobilityExposure\'
minItems: 1
ueCommInfos:
type: array
items:
\$ref:
\'TS29520_Nnwdaf_EventsSubscription.yaml#/components/schemas/UeCommunication\'
minItems: 1
nwPerfInfos:
type: array
items:
\$ref: \'#/components/schemas/NetworkPerfExposure\'
minItems: 1
abnormalInfos:
type: array
items:
\$ref: \'#/components/schemas/AbnormalExposure\'
minItems: 1
congestInfos:
type: array
items:
\$ref: \'#/components/schemas/CongestInfo\'
minItems: 1
qosSustainInfos:
type: array
items:
\$ref: \'#/components/schemas/QosSustainabilityExposure\'
minItems: 1
suppFeat:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/SupportedFeatures\'
required:
\- suppFeat
NetworkPerfExposure:
type: object
properties:
locArea:
\$ref: \'TS29122_CommonData.yaml#/components/schemas/LocationArea5G\'
nwPerfType:
\$ref:
\'TS29520_Nnwdaf_EventsSubscription.yaml#/components/schemas/NetworkPerfType\'
relativeRatio:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/SamplingRatio\'
absoluteNum:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Uinteger\'
confidence:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Uinteger\'
required:
\- locArea
\- nwPerfType
AbnormalExposure:
type: object
properties:
gpsis:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Gpsi\'
minItems: 1
appId:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/ApplicationId\'
excep:
\$ref:
\'TS29520_Nnwdaf_EventsSubscription.yaml#/components/schemas/Exception\'
ratio:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/SamplingRatio\'
confidence:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Uinteger\'
addtMeasInfo:
\$ref:
\'TS29520_Nnwdaf_EventsSubscription.yaml#/components/schemas/AdditionalMeasurement\'
required:
\- excep
CongestInfo:
type: object
properties:
locArea:
\$ref: \'TS29122_CommonData.yaml#/components/schemas/LocationArea5G\'
cngAnas:
type: array
items:
\$ref: \'#/components/schemas/CongestionAnalytics\'
minItems: 1
required:
\- locArea
\- cngAnas
CongestionAnalytics:
type: object
properties:
cngType:
\$ref:
\'TS29520_Nnwdaf_EventsSubscription.yaml#/components/schemas/CongestionType\'
tmWdw:
\$ref: \'TS29122_CommonData.yaml#/components/schemas/TimeWindow\'
nsi:
\$ref:
\'TS29520_Nnwdaf_EventsSubscription.yaml#/components/schemas/ThresholdLevel\'
confidence:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Uinteger\'
required:
\- cngType
\- tmWdw
\- nsi
QosSustainabilityExposure:
type: object
properties:
locArea:
\$ref: \'TS29122_CommonData.yaml#/components/schemas/LocationArea5G\'
startTs:
\$ref: \'TS29122_CommonData.yaml#/components/schemas/DateTime\'
endTs:
\$ref: \'TS29122_CommonData.yaml#/components/schemas/DateTime\'
qosFlowRetThd:
\$ref:
\'TS29520_Nnwdaf_EventsSubscription.yaml#/components/schemas/RetainabilityThreshold\'
ranUeThrouThd:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/BitRate\'
confidence:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Uinteger\'
required:
\- locArea
\- startTs
\- endTs
AnalyticsFailureEventInfo:
type: object
properties:
event:
\$ref: \'#/components/schemas/AnalyticsEvent\'
failureCode:
\$ref: \'#/components/schemas/AnalyticsFailureCode\'
required:
\- event
\- failureCode
AnalyticsEvent:
anyOf:
\- type: string
enum:
\- UE_MOBILITY
\- UE_COMM
\- ABNORMAL_BEHAVIOR
\- CONGESTION
\- NETWORK_PERFORMANCE
\- QOS_SUSTAINABILITY
\- type: string
description: >
This string provides forward-compatibility with future
extensions to the enumeration but is not used to encode
content defined in the present version of this API.
description: >
Possible values are
\- UE_MOBILITY: The AF requests to be notified about analytics information of
UE mobility.
\- UE_COMM: The AF requests to be notified about analytics information of UE
communication.
\- ABNORMAL_BEHAVIOR: The AF requests to be notified about analytics
information of UE's abnormal behavior.
\- CONGESTION: The AF requests to be notified about analytics information of
user data congestion information.
\- NETWORK_PERFORMANCE: The AF requests to be notified about analytics
information of network performance.
\- QOS_SUSTAINABILITY: The AF requests to be notified about analytics
information of QoS sustainability.
AnalyticsFailureCode:
anyOf:
\- type: string
enum:
\- UNAVAILABLE_DATA
\- BOTH_STAT_PRED_NOT_ALLOWED
\- OTHER
\- type: string
description: >
This string provides forward-compatibility with future
extensions to the enumeration but is not used to encode
content defined in the present version of this API.
description: >
Possible values are
\- UNAVAILABLE_DATA: The event is rejected since necessary data to perform the
service is unavailable.
\- BOTH_STAT_PRED_NOT_ALLOWED: The event is rejected since the start time is
in the past and the end time is in the future, which means the NF service
consumer requested both statistics and prediction for the analytics.
\- OTHER: The event is rejected due to other reasons.
# A.5 5GLANParameterProvision API
openapi: 3.0.0
info:
title: 3gpp-5glan-pp
version: 1.0.1
description: \|
API for 5G LAN Parameter Provision.
Â© 2021, 3GPP Organizational Partners (ARIB, ATIS, CCSA, ETSI, TSDSI, TTA,
TTC).
All rights reserved.
externalDocs:
description: 3GPP TS 29.522 V16.7.0; 5G System; Network Exposure Function
Northbound APIs.
url: \'http://www.3gpp.org/ftp/Specs/archive/29_series/29.522/\'
security:
\- {}
\- oAuth2ClientCredentials: []
servers:
\- url: \'{apiRoot}/3gpp-5glan-pp/v1\'
variables:
apiRoot:
default: https://example.com
description: apiRoot as defined in subclause 5.2.4 of 3GPP TS 29.122.
paths:
/{afId}/subscriptions:
get:
summary: read all of the active subscriptions for the AF
tags:
\- 5GLAN Parameters Provision Subscriptions
parameters:
\- name: afId
in: path
description: Identifier of the AF
required: true
schema:
type: string
responses:
\'200\':
description: OK (Successful get all of the active subscriptions for the AF)
content:
application/json:
schema:
type: array
items:
\$ref: \'#/components/schemas/5GLanParametersProvision\'
minItems: 0
\'307\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/404\'
\'406\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/406\'
\'429\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29122_CommonData.yaml#/components/responses/default\'
post:
summary: Creates a new subscription resource
tags:
\- 5GLAN Parameters Provision Subscriptions
parameters:
\- name: afId
in: path
description: Identifier of the AF
required: true
schema:
type: string
requestBody:
description: new subscription creation
required: true
content:
application/json:
schema:
\$ref: \'#/components/schemas/5GLanParametersProvision\'
responses:
\'201\':
description: Created (Successful creation)
content:
application/json:
schema:
\$ref: \'#/components/schemas/5GLanParametersProvision\'
headers:
Location:
description: \'Contains the URI of the newly created resource\'
required: true
schema:
type: string
\'400\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/404\'
\'411\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29122_CommonData.yaml#/components/responses/default\'
/{afId}/subscriptions/{subscriptionId}:
get:
summary: read an active subscription for the AF and the subscription Id
tags:
\- Individual 5GLAN Parameters Provision Subscription
parameters:
\- name: afId
in: path
description: Identifier of the AF
required: true
schema:
type: string
\- name: subscriptionId
in: path
description: Identifier of the subscription resource
required: true
schema:
type: string
responses:
\'200\':
description: OK (Successful get the active subscription)
content:
application/json:
schema:
\$ref: \'#/components/schemas/5GLanParametersProvision\'
\'307\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/404\'
\'406\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/406\'
\'429\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29122_CommonData.yaml#/components/responses/default\'
put:
summary: Updates/replaces an existing subscription resource
tags:
\- Individual 5GLAN Parameters Provision Subscription
parameters:
\- name: afId
in: path
description: Identifier of the AF
required: true
schema:
type: string
\- name: subscriptionId
in: path
description: Identifier of the subscription resource
required: true
schema:
type: string
requestBody:
description: Parameters to update/replace the existing subscription
required: true
content:
application/json:
schema:
\$ref: \'#/components/schemas/5GLanParametersProvision\'
responses:
\'200\':
description: OK (Successful deletion of the existing subscription)
content:
application/json:
schema:
\$ref: \'#/components/schemas/5GLanParametersProvision\'
\'204\':
description: Successful case. The resource has been successfully updated and
no additional content is to be sent in the response message.
\'307\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/404\'
\'411\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29122_CommonData.yaml#/components/responses/default\'
patch:
summary: Partial updates an existing subscription resource
tags:
\- Individual 5GLAN Parameters Provision Subscription
parameters:
\- name: afId
in: path
description: Identifier of the AF
required: true
schema:
type: string
\- name: subscriptionId
in: path
description: Identifier of the subscription resource
required: true
schema:
type: string
requestBody:
required: true
content:
application/merge-patch+json:
schema:
\$ref: \'#/components/schemas/5GLanParametersProvisionPatch\'
responses:
\'200\':
description: OK. The subscription was modified successfully.
content:
application/json:
schema:
\$ref: \'#/components/schemas/5GLanParametersProvision\'
\'204\':
description: Successful case. The resource has been successfully updated and
no additional content is to be sent in the response message.
\'307\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/404\'
\'411\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29122_CommonData.yaml#/components/responses/default\'
delete:
summary: Deletes an already existing subscription
tags:
\- Individual 5GLAN Parameters Provision Subscription
parameters:
\- name: afId
in: path
description: Identifier of the AF
required: true
schema:
type: string
\- name: subscriptionId
in: path
description: Identifier of the subscription resource
required: true
schema:
type: string
responses:
\'204\':
description: No Content (Successful deletion of the existing subscription)
\'307\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/404\'
\'429\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29122_CommonData.yaml#/components/responses/default\'
components:
securitySchemes:
oAuth2ClientCredentials:
type: oauth2
flows:
clientCredentials:
tokenUrl: \'{tokenUrl}\'
scopes: {}
schemas:
5GLanParametersProvision:
type: object
properties:
self:
\$ref: \'TS29122_CommonData.yaml#/components/schemas/Link\'
5gLanParams:
\$ref: \'#/components/schemas/5GLanParameters\'
suppFeat:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/SupportedFeatures\'
required:
\- 5gLanParams
\- suppFeat
5GLanParametersProvisionPatch:
type: object
properties:
5gLanParamsPatch:
\$ref: \'#/components/schemas/5GLanParametersPatch\'
5GLanParameters:
type: object
properties:
exterGroupId:
\$ref: \'TS29122_CommonData.yaml#/components/schemas/ExternalGroupId\'
gpsis:
type: object
additionalProperties:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Gpsi\'
minProperties: 1
dnn:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Dnn\'
aaaIpv4Addr:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Ipv4Addr\'
aaaIpv6Addr:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Ipv6Addr\'
aaaUsgs:
type: array
items:
\$ref: \'#/components/schemas/AaaUsage\'
minItems: 1
mtcProviderId:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/MtcProviderInformation\'
snssai:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Snssai\'
sessionType:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/PduSessionType\'
appDesps:
type: object
additionalProperties:
\$ref: \'#/components/schemas/AppDescriptor\'
minProperties: 1
required:
\- exterGroupId
\- gpsis
\- dnn
\- snssai
\- sessionType
\- appDesps
5GLanParametersPatch:
type: object
properties:
gpsis:
type: object
additionalProperties:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/GpsiRm\'
minProperties: 1
appDesps:
type: object
additionalProperties:
\$ref: \'#/components/schemas/AppDescriptorRm\'
minProperties: 1
AppDescriptor:
type: object
properties:
osId:
\$ref: \'TS29519_Policy_Data.yaml#/components/schemas/OsId\'
appIds:
type: object
additionalProperties:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/ApplicationId\'
minProperties: 1
required:
\- osId
\- appIds
AppDescriptorRm:
type: object
properties:
appIds:
type: object
additionalProperties:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/ApplicationIdRm\'
minProperties: 1
AaaUsage:
anyOf:
\- type: string
enum:
\- AUTH
\- IP_ALLOC
\- type: string
description: >
This string identifies the usage of secondary authentication/authorization,
and/or UE IP address allocation from the DN-AAA server.
description: >
Possible values are
\- AUTH: secondary authentication/authorization needed from DN-AAA server
\- IP_ALLOC: UE IP address allocation needed from DN-AAA server
# A.6 ApplyingBdtPolicy API
openapi: 3.0.0
info:
title: 3gpp-applying-bdt-policy
version: 1.0.2
description: \|
API for applying BDT policy
Â© 2021, 3GPP Organizational Partners (ARIB, ATIS, CCSA, ETSI, TSDSI, TTA,
TTC).
All rights reserved.
externalDocs:
description: 3GPP TS 29.522 V16.7.0; 5G System; Network Exposure Function
Northbound APIs.
url: \'http://www.3gpp.org/ftp/Specs/archive/29_series/29.522/\'
security:
\- {}
\- oAuth2ClientCredentials: []
servers:
\- url: \'{apiRoot}/3gpp-applying-bdt-policy/v1\'
variables:
apiRoot:
default: https://example.com
description: apiRoot as defined in subclause 5.2.4 of 3GPP TS 29.122.
paths:
/{afId}/subscriptions:
parameters:
\- name: afId
in: path
description: Identifier of the AF
required: true
schema:
type: string
get:
summary: read all of the active subscriptions for the AF
tags:
\- Applied BDT Policy Subscription
responses:
\'200\':
description: OK.
content:
application/json:
schema:
type: array
items:
\$ref: \'#/components/schemas/AppliedBdtPolicy\'
minItems: 0
\'307\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/404\'
\'406\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/406\'
\'429\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29122_CommonData.yaml#/components/responses/default\'
post:
summary: Creates a new subscription resource
tags:
\- Applied BDT Policy Subscription
requestBody:
description: Request to create a new subscription resource
required: true
content:
application/json:
schema:
\$ref: \'#/components/schemas/AppliedBdtPolicy\'
responses:
\'201\':
description: Created (Successful creation of subscription)
content:
application/json:
schema:
\$ref: \'#/components/schemas/AppliedBdtPolicy\'
headers:
Location:
description: \'Contains the URI of the newly created resource\'
required: true
schema:
type: string
\'400\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/404\'
\'411\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29122_CommonData.yaml#/components/responses/default\'
/{afId}/subscriptions/{subscriptionId}:
parameters:
\- name: afId
in: path
description: Identifier of the AF
required: true
schema:
type: string
\- name: subscriptionId
in: path
description: Identifier of the subscription resource
required: true
schema:
type: string
get:
summary: read an active subscriptions for the SCS/AS and the subscription Id
tags:
\- Individual Applied BDT Policy Subscription
responses:
\'200\':
description: OK (Successful get the active subscription)
content:
application/json:
schema:
\$ref: \'#/components/schemas/AppliedBdtPolicy\'
\'307\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/404\'
\'406\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/406\'
\'429\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29122_CommonData.yaml#/components/responses/default\'
patch:
summary: Updates/replaces an existing subscription resource
tags:
\- Individual Applied BDT Policy Subscription
requestBody:
required: true
content:
application/merge-patch+json:
schema:
\$ref: \'#/components/schemas/AppliedBdtPolicyPatch\'
responses:
\'200\':
description: OK. The subscription was modified successfully.
content:
application/json:
schema:
\$ref: \'#/components/schemas/AppliedBdtPolicy\'
\'204\':
description: No content. The subscription was modified successfully.
\'307\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/404\'
\'411\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29122_CommonData.yaml#/components/responses/default\'
delete:
summary: Deletes an already existing subscription
tags:
\- Individual Applied BDT Policy Subscription
responses:
\'204\':
description: No Content (Successful deletion of the existing subscription)
\'307\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/404\'
\'429\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29122_CommonData.yaml#/components/responses/default\'
components:
securitySchemes:
oAuth2ClientCredentials:
type: oauth2
flows:
clientCredentials:
tokenUrl: \'{tokenUrl}\'
scopes: {}
schemas:
AppliedBdtPolicy:
type: object
properties:
externalGroupId:
\$ref: \'TS29122_CommonData.yaml#/components/schemas/ExternalGroupId\'
gpsi:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Gpsi\'
bdtRefId:
\$ref: \'TS29122_CommonData.yaml#/components/schemas/BdtReferenceId\'
suppFeat:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/SupportedFeatures\'
self:
\$ref: \'TS29122_CommonData.yaml#/components/schemas/Link\'
required:
\- bdtRefId
\- suppFeat
oneOf:
\- required: [gpsi]
\- required: [externalGroupId]
AppliedBdtPolicyPatch:
type: object
properties:
bdtRefId:
\$ref: \'TS29122_CommonData.yaml#/components/schemas/BdtReferenceId\'
required:
\- bdtRefId
# A.7 IPTVConfiguration API
openapi: 3.0.0
info:
title: 3gpp-iptvconfiguration
version: 1.0.1
description: \|
API for IPTV configuration.
Â© 2021, 3GPP Organizational Partners (ARIB, ATIS, CCSA, ETSI, TSDSI, TTA,
TTC).
All rights reserved.
externalDocs:
description: 3GPP TS 29.522 V16.7.0; 5G System; Network Exposure Function
Northbound APIs.
url: \'http://www.3gpp.org/ftp/Specs/archive/29_series/29.522/\'
security:
\- {}
\- oAuth2ClientCredentials: []
servers:
\- url: \'{apiRoot}/3gpp-iptvconfiguration/v1\'
variables:
apiRoot:
default: https://example.com
description: apiRoot as defined in subclause 5.2.4 of 3GPP TS 29.122.
paths:
/{afId}/configurations:
get:
summary: read all of the active configurations for the AF
tags:
\- IPTV Configurations
parameters:
\- name: afId
in: path
description: Identifier of the AF
required: true
schema:
type: string
responses:
\'200\':
description: OK (Successful get all of the active configurations for the AF)
content:
application/json:
schema:
type: array
items:
\$ref: \'#/components/schemas/IptvConfigData\'
minItems: 0
\'307\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/404\'
\'406\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/406\'
\'429\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29122_CommonData.yaml#/components/responses/default\'
post:
summary: Creates a new configuration resource
tags:
\- IPTV Configurations
parameters:
\- name: afId
in: path
description: Identifier of the AF
required: true
schema:
type: string
requestBody:
description: new configuration creation
required: true
content:
application/json:
schema:
\$ref: \'#/components/schemas/IptvConfigData\'
responses:
\'201\':
description: Created (Successful creation of configuration)
content:
application/json:
schema:
\$ref: \'#/components/schemas/IptvConfigData\'
headers:
Location:
description: \'Contains the URI of the newly created resource\'
required: true
schema:
type: string
\'400\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/404\'
\'411\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29122_CommonData.yaml#/components/responses/default\'
/{afId}/configurations/{configurationId}:
get:
summary: read an active configuration for the AF and the configuration Id
tags:
\- Individual IPTV Configuration
parameters:
\- name: afId
in: path
description: Identifier of the AF
required: true
schema:
type: string
\- name: configurationId
in: path
description: Identifier of the configuration resource
required: true
schema:
type: string
responses:
\'200\':
description: OK (Successful get the active configuration)
content:
application/json:
schema:
\$ref: \'#/components/schemas/IptvConfigData\'
\'307\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/404\'
\'406\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/406\'
\'429\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29122_CommonData.yaml#/components/responses/default\'
put:
summary: Updates/replaces an existing configuration resource
tags:
\- Individual IPTV Configuration
parameters:
\- name: afId
in: path
description: Identifier of the AF
required: true
schema:
type: string
\- name: configurationId
in: path
description: Identifier of the configuration resource
required: true
schema:
type: string
requestBody:
description: Parameters to update/replace the existing configuration
required: true
content:
application/json:
schema:
\$ref: \'#/components/schemas/IptvConfigData\'
responses:
\'200\':
description: OK (Successful deletion of the existing configuration)
content:
application/json:
schema:
\$ref: \'#/components/schemas/IptvConfigData\'
\'204\':
description: Successful case. The resource has been successfully updated and
no additional content is to be sent in the response message.
\'307\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/404\'
\'411\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29122_CommonData.yaml#/components/responses/default\'
patch:
summary: Partial updates an existing configuration resource
tags:
\- Individual IPTV Configuration
parameters:
\- name: afId
in: path
description: Identifier of the AF
required: true
schema:
type: string
\- name: configurationId
in: path
description: Identifier of the configuration resource
required: true
schema:
type: string
requestBody:
required: true
content:
application/merge-patch+json:
schema:
\$ref: \'#/components/schemas/IptvConfigDataPatch\'
responses:
\'200\':
description: OK. The configuration was modified successfully.
content:
application/json:
schema:
\$ref: \'#/components/schemas/IptvConfigData\'
\'204\':
description: Successful case. The resource has been successfully updated and
no additional content is to be sent in the response message.
\'307\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/404\'
\'411\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29122_CommonData.yaml#/components/responses/default\'
delete:
summary: Deletes an already existing configuration
tags:
\- Individual IPTV Configuration
parameters:
\- name: afId
in: path
description: Identifier of the AF
required: true
schema:
type: string
\- name: configurationId
in: path
description: Identifier of the configuration resource
required: true
schema:
type: string
responses:
\'204\':
description: No Content (Successful deletion of the existing configuration)
\'307\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/404\'
\'429\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29122_CommonData.yaml#/components/responses/default\'
components:
securitySchemes:
oAuth2ClientCredentials:
type: oauth2
flows:
clientCredentials:
tokenUrl: \'{tokenUrl}\'
scopes: {}
schemas:
IptvConfigData:
type: object
properties:
self:
\$ref: \'TS29122_CommonData.yaml#/components/schemas/Link\'
gpsi:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Gpsi\'
exterGroupId:
\$ref: \'TS29122_CommonData.yaml#/components/schemas/ExternalGroupId\'
afAppId:
type: string
dnn:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Dnn\'
snssai:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Snssai\'
multiAccCtrls:
type: object
additionalProperties:
\$ref: \'#/components/schemas/MulticastAccessControl\'
minProperties: 1
mtcProviderId:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/MtcProviderInformation\'
suppFeat:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/SupportedFeatures\'
required:
\- afAppId
\- multiAccCtrls
\- suppFeat
IptvConfigDataPatch:
type: object
properties:
multiAccCtrls:
type: object
additionalProperties:
\$ref: \'#/components/schemas/MulticastAccessControl\'
minProperties: 1
MulticastAccessControl:
type: object
properties:
srcIpv4Addr:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Ipv4Addr\'
srcIpv6Addr:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Ipv6Addr\'
multicastV4Addr:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Ipv4Addr\'
multicastV6Addr:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Ipv6Addr\'
accStatus:
\$ref: \'#/components/schemas/AccessRightStatus\'
required:
\- accStatus
AccessRightStatus:
anyOf:
\- type: string
enum:
\- FULLY_ALLOWED
\- PREVIEW_ALLOWED
\- NO_ALLOWED
\- type: string
description: >
Possible values are
\- FULLY_ALLOWED: The User is fully allowed to access to the channel.
\- PREVIEW_ALLOWED: The User is preview allowed to access to the channel.
\- NO_ALLOWED: The User is not allowed to access to the channel.
# A.8 LpiParameterProvision API
openapi: 3.0.0
info:
title: 3gpp-lpi-pp
version: 1.0.2
description: \|
API for Location Privacy Indication Parameters Provisioning.
Â© 2022, 3GPP Organizational Partners (ARIB, ATIS, CCSA, ETSI, TSDSI, TTA,
TTC).
All rights reserved.
externalDocs:
description: 3GPP TS 29.522 V16.13.0; 5G System; Network Exposure Function
Northbound APIs.
url: \'http://www.3gpp.org/ftp/Specs/archive/29_series/29.522/\'
security:
\- {}
\- oAuth2ClientCredentials: []
servers:
\- url: \'{apiRoot}/3gpp-lpi-pp/v1\'
variables:
apiRoot:
default: https://example.com
description: apiRoot as defined in subclause 5.2.4 of 3GPP TS 29.122.
paths:
/{afId}/provisionedLpis:
get:
summary: read all of the active LPI Parameters Provisioning resources for the
AF
tags:
\- LPI Parameters Provisionings
parameters:
\- name: afId
in: path
description: Identifier of the AF
required: true
schema:
type: string
responses:
\'200\':
description: OK (Successful get all of the active resources for the AF)
content:
application/json:
schema:
type: array
items:
\$ref: \'#/components/schemas/LpiParametersProvision\'
\'307\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/404\'
\'406\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/406\'
\'429\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29122_CommonData.yaml#/components/responses/default\'
post:
summary: Creates a new LPI Parameters Provisioning resource
tags:
\- LPI Parameters Provisionings
parameters:
\- name: afId
in: path
description: Identifier of the AF
required: true
schema:
type: string
requestBody:
description: new resource creation
required: true
content:
application/json:
schema:
\$ref: \'#/components/schemas/LpiParametersProvision\'
responses:
\'201\':
description: Created (Successful creation)
content:
application/json:
schema:
\$ref: \'#/components/schemas/LpiParametersProvision\'
headers:
Location:
description: \'Contains the URI of the newly created resource\'
required: true
schema:
type: string
\'400\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/404\'
\'411\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29122_CommonData.yaml#/components/responses/default\'
/{afId}/provisionedLpis/{provisionedLpiId}:
get:
summary: read an active LPI Parameters Provisioning resource for the AF and
the provisioned LPI Id
tags:
\- Individual LPI Parameters Provisioning
parameters:
\- name: afId
in: path
description: Identifier of the AF
required: true
schema:
type: string
\- name: provisionedLpiId
in: path
description: Identifier of the provisioned LPI parameter resource
required: true
schema:
type: string
responses:
\'200\':
description: OK (Successful get the active resource)
content:
application/json:
schema:
\$ref: \'#/components/schemas/LpiParametersProvision\'
\'307\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/404\'
\'406\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/406\'
\'429\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29122_CommonData.yaml#/components/responses/default\'
put:
summary: Updates/replaces an existing LPI Parameters Provisioning resource
tags:
\- Individual LPI Parameters Provisioning
parameters:
\- name: afId
in: path
description: Identifier of the AF
required: true
schema:
type: string
\- name: provisionedLpiId
in: path
description: Identifier of the provisioned LPI parameter resource
required: true
schema:
type: string
requestBody:
description: Parameters to update/replace the existing resource
required: true
content:
application/json:
schema:
\$ref: \'#/components/schemas/LpiParametersProvision\'
responses:
\'200\':
description: OK (Successful update of the existing resource)
content:
application/json:
schema:
\$ref: \'#/components/schemas/LpiParametersProvision\'
\'204\':
description: >
Successful case. The resource has been successfully updated and no additional
content is sent in the response message.
\'307\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/404\'
\'411\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29122_CommonData.yaml#/components/responses/default\'
delete:
summary: Deletes an already existing LPI Parameters Provisioning resource
tags:
\- Individual LPI Parameters Provisioning
parameters:
\- name: afId
in: path
description: Identifier of the AF
required: true
schema:
type: string
\- name: provisionedLpiId
in: path
description: Identifier of the provisioned LPI parameter resource
required: true
schema:
type: string
responses:
\'204\':
description: No Content (Successful deletion of the existing resource)
\'307\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/404\'
\'429\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29122_CommonData.yaml#/components/responses/default\'
components:
securitySchemes:
oAuth2ClientCredentials:
type: oauth2
flows:
clientCredentials:
tokenUrl: \'{tokenUrl}\'
scopes: {}
schemas:
LpiParametersProvision:
type: object
properties:
self:
\$ref: \'TS29122_CommonData.yaml#/components/schemas/Link\'
exterGroupId:
\$ref: \'TS29122_CommonData.yaml#/components/schemas/ExternalGroupId\'
gpsi:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Gpsi\'
lpi:
\$ref: \'TS29503_Nudm_SDM.yaml#/components/schemas/Lpi\'
mtcProviderId:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/MtcProviderInformation\'
suppFeat:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/SupportedFeatures\'
required:
\- lpi
\- suppFeat
# A.9 ServiceParameter API
openapi: 3.0.0
info:
title: 3gpp-service-parameter
version: 1.0.3
description: \|
API for AF service paramter
Â© 2022, 3GPP Organizational Partners (ARIB, ATIS, CCSA, ETSI, TSDSI, TTA,
TTC).
All rights reserved.
externalDocs:
description: 3GPP TS 29.522 V16.13.0; 5G System; Network Exposure Function
Northbound APIs.
url: \'http://www.3gpp.org/ftp/Specs/archive/29_series/29.522/\'
security:
\- {}
\- oAuth2ClientCredentials: []
servers:
\- url: \'{apiRoot}/3gpp-service-parameter/v1\'
variables:
apiRoot:
default: https://example.com
description: apiRoot as defined in subclause 5.2.4 of 3GPP TS 29.122.
paths:
/{afId}/subscriptions:
parameters:
\- name: afId
in: path
description: Identifier of the AF
required: true
schema:
type: string
get:
summary: read all of the active subscriptions for the AF
tags:
\- Service Parameter Subscriptions
responses:
\'200\':
description: OK.
content:
application/json:
schema:
type: array
items:
\$ref: \'#/components/schemas/ServiceParameterData\'
minItems: 0
\'307\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/404\'
\'406\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/406\'
\'429\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29122_CommonData.yaml#/components/responses/default\'
post:
summary: Creates a new subscription resource
tags:
\- Service Parameter Subscriptions
requestBody:
description: Request to create a new subscription resource
required: true
content:
application/json:
schema:
\$ref: \'#/components/schemas/ServiceParameterData\'
responses:
\'201\':
description: Created (Successful creation of subscription)
content:
application/json:
schema:
\$ref: \'#/components/schemas/ServiceParameterData\'
headers:
Location:
description: \'Contains the URI of the newly created resource\'
required: true
schema:
type: string
\'400\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/404\'
\'411\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29122_CommonData.yaml#/components/responses/default\'
/{afId}/subscriptions/{subscriptionId}:
parameters:
\- name: afId
in: path
description: Identifier of the AF
required: true
schema:
type: string
\- name: subscriptionId
in: path
description: Identifier of the subscription resource
required: true
schema:
type: string
get:
summary: read an active subscriptions for the SCS/AS and the subscription Id
tags:
\- Individual Service Parameter Subscription
responses:
\'200\':
description: OK (Successful get the active subscription)
content:
application/json:
schema:
\$ref: \'#/components/schemas/ServiceParameterData\'
\'307\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/404\'
\'406\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/406\'
\'429\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29122_CommonData.yaml#/components/responses/default\'
put:
summary: Updates/replaces an existing subscription resource
tags:
\- Individual Service Parameter Subscription
requestBody:
description: Parameters to update/replace the existing subscription
required: true
content:
application/json:
schema:
\$ref: \'#/components/schemas/ServiceParameterData\'
responses:
\'200\':
description: OK (Successful update of the subscription)
content:
application/json:
schema:
\$ref: \'#/components/schemas/ServiceParameterData\'
\'204\':
description: OK (Successful update of the subscription)
\'307\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/404\'
\'411\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29122_CommonData.yaml#/components/responses/default\'
patch:
summary: Updates/replaces an existing subscription resource
tags:
\- Individual Service Parameter Subscription
requestBody:
required: true
content:
application/merge-patch+json:
schema:
\$ref: \'#/components/schemas/ServiceParameterDataPatch\'
responses:
\'200\':
description: OK. The subscription was modified successfully.
content:
application/json:
schema:
\$ref: \'#/components/schemas/ServiceParameterData\'
\'204\':
description: OK. The subscription was modified successfully.
\'307\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/404\'
\'411\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29122_CommonData.yaml#/components/responses/default\'
delete:
summary: Deletes an already existing subscription
tags:
\- Individual Service Parameter Subscription
responses:
\'204\':
description: No Content (Successful deletion of the existing subscription)
\'307\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/404\'
\'429\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29122_CommonData.yaml#/components/responses/default\'
components:
securitySchemes:
oAuth2ClientCredentials:
type: oauth2
flows:
clientCredentials:
tokenUrl: \'{tokenUrl}\'
scopes: {}
schemas:
ServiceParameterData:
type: object
properties:
afServiceId:
type: string
description: Identifies a service on behalf of which the AF is issuing the
request.
appId:
type: string
description: Identifies an application.
dnn:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Dnn\'
snssai:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Snssai\'
externalGroupId:
\$ref: \'TS29122_CommonData.yaml#/components/schemas/ExternalGroupId\'
anyUeInd:
type: boolean
description: >
Identifies whether the AF request applies to any UE. This attribute shall set
to \"true\"
if applicable for any UE, otherwise, set to \"false\".
gpsi:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Gpsi\'
ueIpv4:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Ipv4Addr\'
ueIpv6:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Ipv6Addr\'
ueMac:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/MacAddr48\'
self:
\$ref: \'TS29122_CommonData.yaml#/components/schemas/Link\'
paramOverPc5:
\$ref: \'#/components/schemas/ParameterOverPc5\'
paramOverUu:
\$ref: \'#/components/schemas/ParameterOverUu\'
mtcProviderId:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/MtcProviderInformation\'
suppFeat:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/SupportedFeatures\'
ServiceParameterDataPatch:
type: object
properties:
paramOverPc5:
\$ref: \'#/components/schemas/ParameterOverPc5Rm\'
paramOverUu:
\$ref: \'#/components/schemas/ParameterOverUuRm\'
ParameterOverPc5:
type: string
ParameterOverPc5Rm:
type: string
nullable: true
ParameterOverUu:
type: string
ParameterOverUuRm:
type: string
nullable: true
# A.10 ACSParameterProvision API
openapi: 3.0.0
info:
title: 3gpp-acs-pp
version: 1.0.1
description: \|
API for 5G ACS Parameter Provision.
Â© 2021, 3GPP Organizational Partners (ARIB, ATIS, CCSA, ETSI, TSDSI, TTA,
TTC).
All rights reserved.
externalDocs:
description: 3GPP TS 29.522 V16.7.0; 5G System; Network Exposure Function
Northbound APIs.
url: \'http://www.3gpp.org/ftp/Specs/archive/29_series/29.522/\'
security:
\- {}
\- oAuth2ClientCredentials: []
servers:
\- url: \'{apiRoot}/3gpp-acs-pp/v1\'
variables:
apiRoot:
default: https://example.com
description: apiRoot as defined in subclause 5.2.4 of 3GPP TS 29.122.
paths:
/{afId}/subscriptions:
get:
summary: read all of the active subscriptions for the AF
tags:
\- ACS Configuration Subscriptions
parameters:
\- name: afId
in: path
description: Identifier of the AF
required: true
schema:
type: string
responses:
\'200\':
description: OK (Successful get all of the active subscriptions for the AF)
content:
application/json:
schema:
type: array
items:
\$ref: \'#/components/schemas/AcsConfigurationData\'
minItems: 0
\'307\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/404\'
\'406\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/406\'
\'429\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29122_CommonData.yaml#/components/responses/default\'
post:
summary: Creates a new subscription resource
tags:
\- ACS Configuration Subscriptions
parameters:
\- name: afId
in: path
description: Identifier of the AF
required: true
schema:
type: string
requestBody:
description: new subscription creation
required: true
content:
application/json:
schema:
\$ref: \'#/components/schemas/AcsConfigurationData\'
responses:
\'201\':
description: Created (Successful creation)
content:
application/json:
schema:
\$ref: \'#/components/schemas/AcsConfigurationData\'
headers:
Location:
description: \'Contains the URI of the newly created resource\'
required: true
schema:
type: string
\'400\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/404\'
\'411\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29122_CommonData.yaml#/components/responses/default\'
/{afId}/subscriptions/{subscriptionId}:
get:
summary: read an active subscription for the AF and the subscription Id
tags:
\- Individual ACS Configuration Subscription
parameters:
\- name: afId
in: path
description: Identifier of the AF
required: true
schema:
type: string
\- name: subscriptionId
in: path
description: Identifier of the subscription resource
required: true
schema:
type: string
responses:
\'200\':
description: OK (Successful get the active subscription)
content:
application/json:
schema:
\$ref: \'#/components/schemas/AcsConfigurationData\'
\'307\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/404\'
\'406\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/406\'
\'429\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29122_CommonData.yaml#/components/responses/default\'
put:
summary: Updates/replaces an existing subscription resource
tags:
\- Individual ACS Configuration Subscription
parameters:
\- name: afId
in: path
description: Identifier of the AF
required: true
schema:
type: string
\- name: subscriptionId
in: path
description: Identifier of the subscription resource
required: true
schema:
type: string
requestBody:
description: Parameters to update/replace the existing subscription
required: true
content:
application/json:
schema:
\$ref: \'#/components/schemas/AcsConfigurationData\'
responses:
\'200\':
description: OK (Successful update of the existing subscription)
content:
application/json:
schema:
\$ref: \'#/components/schemas/AcsConfigurationData\'
\'204\':
description: Successful case. The resource has been successfully updated and
no additional content is to be sent in the response message.
\'307\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/404\'
\'411\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29122_CommonData.yaml#/components/responses/default\'
delete:
summary: Deletes an already existing subscription
tags:
\- Individual ACS Configuration Subscription
parameters:
\- name: afId
in: path
description: Identifier of the AF
required: true
schema:
type: string
\- name: subscriptionId
in: path
description: Identifier of the subscription resource
required: true
schema:
type: string
responses:
\'204\':
description: No Content (Successful deletion of the existing subscription)
\'307\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/404\'
\'429\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29122_CommonData.yaml#/components/responses/default\'
components:
securitySchemes:
oAuth2ClientCredentials:
type: oauth2
flows:
clientCredentials:
tokenUrl: \'{tokenUrl}\'
scopes: {}
schemas:
AcsConfigurationData:
type: object
properties:
self:
\$ref: \'TS29122_CommonData.yaml#/components/schemas/Link\'
exterGroupId:
\$ref: \'TS29122_CommonData.yaml#/components/schemas/ExternalGroupId\'
gpsi:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Gpsi\'
acsInfo:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/AcsInfo\'
mtcProviderId:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/MtcProviderInformation\'
suppFeat:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/SupportedFeatures\'
required:
\- acsInfo
\- suppFeat
# A.11 MoLcsNotify API
openapi: 3.0.0
info:
title: 3gpp-mo-lcs-notify
version: 1.0.1
description: \|
API for UE updated location information notification.
Â© 2021, 3GPP Organizational Partners (ARIB, ATIS, CCSA, ETSI, TSDSI, TTA,
TTC).
All rights reserved.
externalDocs:
description: 3GPP TS 29.522 V16.7.0; 5G System; Network Exposure Function
Northbound APIs.
url: \'http://www.3gpp.org/ftp/Specs/archive/29_series/29.522/\'
security:
\- {}
\- oAuth2ClientCredentials: []
servers:
\- url: \'{apiRoot}/3gpp-mo-lcs-notify/v1\'
variables:
apiRoot:
default: https://example.com
description: apiRoot as defined in subclause 5.2.4 of 3GPP TS 29.122.
paths:
/:
post:
summary: UE location information update notification
tags:
\- AF level UE location update notification operation
requestBody:
content:
application/json:
schema:
\$ref: \'#/components/schemas/LocUpdateData\'
required: true
responses:
\'200\':
description: Success
content:
application/json:
schema:
\$ref: \'#/components/schemas/LocUpdateDataReply\'
\'307\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/404\'
\'411\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29122_CommonData.yaml#/components/responses/default\'
components:
securitySchemes:
oAuth2ClientCredentials:
type: oauth2
flows:
clientCredentials:
tokenUrl: \'{tokenUrl}\'
scopes: {}
schemas:
LocUpdateData:
type: object
properties:
gpsi:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Gpsi\'
locInfo:
\$ref: \'TS29122_MonitoringEvent.yaml#/components/schemas/LocationInfo\'
lcsQosClass:
\$ref: \'TS29572_Nlmf_Location.yaml#/components/schemas/LcsQosClass\'
svcId:
\$ref: \'TS29515_Ngmlc_Location.yaml#/components/schemas/ServiceIdentity\'
suppFeat:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/SupportedFeatures\'
required:
\- gpsi
\- lcsQosClass
\- locInfo
\- suppFeat
LocUpdateDataReply:
type: object
properties:
suppFeat:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/SupportedFeatures\'
required:
\- suppFeat
#