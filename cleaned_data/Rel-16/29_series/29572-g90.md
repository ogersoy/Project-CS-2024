# Foreword
This Technical Specification has been produced by the 3rd Generation
Partnership Project (3GPP).
The contents of the present document are subject to continuing work within the
TSG and may change following formal TSG approval. Should the TSG modify the
contents of the present document, it will be re-released by the TSG with an
identifying change of release date and an increase in version number as
follows:
Version x.y.z
where:
x the first digit:
1 presented to TSG for information;
2 presented to TSG for approval;
3 or greater indicates TSG approved document under change control.
y the second digit is incremented for all changes of substance, i.e. technical
enhancements, corrections, updates, etc.
z the third digit is incremented when editorial only changes have been
incorporated in the document.
In the present document, modal verbs have the following meanings:
**shall** indicates a mandatory requirement to do something
**shall not** indicates an interdiction (prohibition) to do something
The constructions \"shall\" and \"shall not\" are confined to the context of
normative provisions, and do not appear in Technical Reports.
The constructions \"must\" and \"must not\" are not used as substitutes for
\"shall\" and \"shall not\". Their use is avoided insofar as possible, and
they are not used in a normative context except in a direct citation from an
external, referenced, non-3GPP document, or so as to maintain continuity of
style when extending or modifying the provisions of such a referenced
document.
**should** indicates a recommendation to do something
**should not** indicates a recommendation not to do something
**may** indicates permission to do something
**need not** indicates permission not to do something
The construction \"may not\" is ambiguous and is not used in normative
elements. The unambiguous constructions \"might not\" or \"shall not\" are
used instead, depending upon the meaning intended.
**can** indicates that something is possible
**cannot** indicates that something is impossible
The constructions \"can\" and \"cannot\" are not substitutes for \"may\" and
\"need not\".
**will** indicates that something is certain or expected to happen as a result
of action taken by an agency the behaviour of which is outside the scope of
the present document
**will not** indicates that something is certain or expected not to happen as
a result of action taken by an agency the behaviour of which is outside the
scope of the present document
**might** indicates a likelihood that something will happen as a result of
action taken by some agency the behaviour of which is outside the scope of the
present document
**might not** indicates a likelihood that something will not happen as a
result of action taken by some agency the behaviour of which is outside the
scope of the present document
In addition:
**is** (or any other verb in the indicative mood) indicates a statement of
fact
**is not** (or any other negative verb in the indicative mood) indicates a
statement of fact
The constructions \"is\" and \"is not\" do not indicate requirements.
# 1 Scope
The present document specifies the stage 3 protocol and data model for the
Nlmf Service Based Interface. It provides stage 3 protocol definitions and
message flows, and specifies the API for each service offered by the LMF.
The 5G System stage 2 architecture and procedures are specified in 3GPP TS
23.501 [2] and 3GPP TS 23.502 [3].
The Technical Realization of the Service Based Architecture and the Principles
and Guidelines for Services Definition are specified in 3GPP TS 29.500 [4] and
3GPP TS 29.501 [5].
# 2 References
The following documents contain provisions which, through reference in this
text, constitute provisions of the present document.
\- References are either specific (identified by date of publication, edition
number, version number, etc.) or nonâ€‘specific.
\- For a specific reference, subsequent revisions do not apply.
\- For a non-specific reference, the latest version applies. In the case of a
reference to a 3GPP document (including a GSM document), a non-specific
reference implicitly refers to the latest version of that document _in the
same Release as the present document_.
[1] 3GPP TR 21.905: \"Vocabulary for 3GPP Specifications\".
[2] 3GPP TS 23.501: \"System Architecture for the 5G System; Stage 2\".
[3] 3GPP TS 23.502: \"Procedures for the 5G System; Stage 2\".
[4] 3GPP TS 29.500: \"5G System; Technical Realization of Service Based
Architecture; Stage 3\".
[5] 3GPP TS 29.501: \"5G System; Principles and Guidelines for Services
Definition; Stage 3\".
[6] IETF RFC 4776: \"Dynamic Host Configuration Protocol (DHCPv4 and DHCPv6)
Option for Civic Addresses Configuration Information\".
[7] IETF RFC 5139: \"Revised Civic Location Format for Presence Information
Data Format Location Object (PIDF-LO)\".
[8] 3GPP TS 29.571: \"5G System; Common Data Types for Service Based
Interfaces; Stage 3\".
[9] 3GPP TS 33.501: \"Security architecture and procedures for 5G system\".
[10] IETF RFC 6749: \"The OAuth 2.0 Authorization Framework\".
[11] 3GPP TS 29.510: \"Network Function Repository Services; Stage 3\".
[12] IETF RFC 7540: \"Hypertext Transfer Protocol Version 2 (HTTP/2)\".
[13] IETF RFC 8259: \"The JavaScript Object Notation (JSON) Data Interchange
Format\".
[14] OpenAPI Initiative, \"OpenAPI 3.0.0 Specification\",
https://github.com/OAI/OpenAPI-Specification/blob/master/versions/3.0.0.md.
[15] IETF RFC 7807: \"Problem Details for HTTP APIs\".
[16] 3GPP TR 21.900: \"Technical Specification Group working methods\".
[17] 3GPP TS 22.071: \"Location Services (LCS); Service description; Stage
1\".
[18] 3GPP TS 29.002: \"Mobile Application Part (MAP) specification\".
[19] 3GPP TS 23.273: \"5G System (5GS) Location Services (LCS); Stage 2\".
[20] 3GPP TS 24.080: \"Mobile radio interface layer 3 Supplementary services
specification; Formats and coding\".
[21] 3GPP TS 36.355: \"Evolved Universal Terrestrial Radio Access (E-UTRA);
LTE Positioning Protocol (LPP)\".
[22] 3GPP TS 24.501: \"Non-Access-Stratum (NAS) protocol for 5G System (5GS);
Stage 3\".
[23] 3GPP TS 29.518: \"Access and Mobility Management Services\".
[24] 3GPP TS 29.171: \"Location Services (LCS); LCS Application Protocol (LCS-
AP) between the Mobile Management Entity (MME) and Evolved Serving Mobile
Location Centre (E-SMLC); SLs interface\".
[25] IETF RFC 4119: \"A Presence-based GEOPRIV Location Object Format\".
# 3 Definitions and abbreviations
## 3.1 Definitions
For the purposes of the present document, the terms and definitions given in
3GPP TR 21.905 [1] and the following apply. A term defined in the present
document takes precedence over the definition of the same term, if any, in
3GPP TR 21.905 [1].
## 3.2 Abbreviations
For the purposes of the present document, the abbreviations given in 3GPP TR
21.905 [1] and the following apply. An abbreviation defined in the present
document takes precedence over the definition of the same abbreviation, if
any, in 3GPP TR 21.905 [1].
LDR Location Deferred Request
LMF Location Management Function
# 4 Overview
The Location Management Function (LMF) is the network entity in the 5G Core
Network (5GC) supporting the following functionality:
\- Supports location determination for a UE.
\- Obtains downlink location measurements or a location estimate from the UE.
\- Obtains uplink location measurements from the NG RAN.
\- Obtains non-UE associated assistance data from the NG RAN.
\- Provides broadcast assistance data to UEs and forwards associated ciphering
keys to an AMF.
Other functions of an LMF are listed in clause 4.3.8 of 3GPP TS 23.273 [19].
Figure 4-1 provides the reference model (in service based interface
representation and in reference point representation), with focus on the LMF:
Figure 4-1: Reference model -- LMF
# 5 Services Offered by the LMF
## 5.1 Introduction
The LMF offers to other NFs the following services:
\- Nlmf_Location
\- Nlmf_Broadcast
Table 5.1-1 summarizes the corresponding APIs defined for this specification.
Table 5.1-1: API Descriptions
**Service Name** **Clause** **Description** **OpenAPI Specification File**
**apiName** **Annex**
* * *
Nlmf_Location 6.1 LMF Location Service TS29572_Nlmf_Location.yaml nlmf-loc A.2
Nlmf_Broadcast 6.2 LMF Broadcast Service TS29572_Nlmf_Broadcast.yaml nlmf-
broadcast A.3
## 5.2 Nlmf_Location Service
### 5.2.1 Service Description
The Nlmf_Location service enables an NF to request location determination
(current geodetic and optionally civic location) for a target UE or to request
periodic or triggered location for a target UE.
### 5.2.2 Service Operations
#### 5.2.2.1 Introduction
The service operations defined for the Nlmf_Location service are as follows:
\- DetermineLocation: It provides UE location information to the consumer NF.
\- EventNotify: It notifies the consumer NF of an event for periodic or
triggered location for a target UE.
\- CancelLocation: It enables a consumer NF to cancel an ongoing periodic or
triggered location for a target UE.
\- LocationContextTransfer: It enables a consumer NF to transfer location
context information for periodic or triggered location of a target UE to a new
LMF.
#### 5.2.2.2 DetermineLocation
##### 5.2.2.2.1 General
The following procedures are defined, using the \"DetermineLocation\" service
operation:
\- Retrieve UE Location
\- Retrieve UE Location for 5G-MO-LR
##### 5.2.2.2.2 Retrieve UE Location
This procedure allows a consumer NF to request the location information
(geodetic location and, optionally, civic location) for a target UE or to
activate periodic or triggered deferred location for a target UE.
Figure 5.2.2.2.2-1: DetermineLocation Request
1\. The NF Service Consumer shall send an HTTP POST request to the resource
URI associated with the \"determine-location\" custom operation. The input
parameters for the request (external client type, LCS correlation identifier,
serving cell identifier, location QoS, supported GAD shapes, LDR Type, H-GMLC
address, LDR Reference, UE connectivity state per access type ....) may be
included in the HTTP POST request body.
If UE LCS Capability is received in the request indicating LPP is not
supported by the UE, the LMF shall not send LPP messages to the UE in
subsequent positioning procedures.
2a. On success, \"200 OK\" shall be returned. The response body shall contain
the parameters related to the determined position of the UE if any (geodetic
position, civic location, positioning methods...).
2b. On failure or redirection, one of the HTTP status code listed in Table
6.1.4.2.2-2 shall be returned. For a 4xx/5xx response, the message body should
contain a ProblemDetails structure with the \"cause\" attribute set to one of
the application error listed in Table 6.1.4.2.2-2.
##### 5.2.2.2.3 Retrieve UE Location for 5G-MO-LR
This procedure allows a consumer NF (i.e. an AMF) to request the location
information or location assistance data for a target UE which initiates MO-LR
procedure (see 3GPP TS 23.273 [19]).
Figure 5.2.2.2.3-1: DetermineLocation Request for 5G-MO-LR
The same requirements in clause 5.2.2.2.2 shall be applied with following
modifications:
1\. Same as step 1 of figure 5.2.2.2.2-1, the request body shall include the
following additional information:
\- The indication received from UE indicating whether a location estimate or
location assistance data is required.
\- An LPP message if it is received in MO-LR Request from UE
2a. Same as step 2a of figure 5.2.2.2.2-1 if a consumer NF requests the
location information for a target UE. If a NF consumer requests location
assistance data for a target UE and LMF has successfully delivered location
assistance data to the UE, 204 No Content shall be returned.
2b. Same as step 2b of figure 5.2.2.2.2-1.
#### 5.2.2.3 EventNotify
##### 5.2.2.3.1 General
The following procedures are defined, using the \"EventNotify\" service
operation:
\- Periodic or Triggered Event Notification
##### 5.2.2.3.2 Periodic or Triggered Event Notification
This procedure notifies the NF Service Consumer (i.e. GMLC) about event
information related to periodic or triggered location of a target UE. The
notification is delivered to:
\- the callback URI of an H-GMLC received (from an AMF) during an earlier
DetermineLocation service operation if still available and if the LMF is
configured for direct access to the H-GMLC;
\- the callback URI of an H-GMLC received (from another LMF) during an earlier
LocationContextTransfer service operation if still available and if the LMF is
configured for direct access to the H-GMLC;
\- the callback URI of an H-GMLC received (from the target UE) in a
supplementary services event report if the LMF is configured for direct access
to the H-GMLC;
otherwise (if not available),
\- the callback URI of a V-GMLC registered in the NRF, if the V-GMLC
registered to the NRF with notification endpoints for periodic or triggered
event notifications; or
otherwise (if not available),
\- the URI of a V-GMLC locally provisioned in the LMF.
Figure 5.2.2.3.2-1: EventNotify Request
1\. The LMF shall send a POST request to the GMLC callback URI determined as
described above. The request body shall include a notification correlation ID
(LDR reference), the UE identification (SUPI and if available GPSI), the type
of event and may include a geodetic location, civic location, position methods
used, and other available parameters related to the position if any (e.g.
Velocity, Altitude etc.), H-GMLC callback URI (if the NF consumer is a V-GMLC)
and serving LMF identification.
2a. On success, \"204 No content\" shall be returned by the NF Service
Consumer.
2b. On failure or redirection, the appropriate HTTP status code (e.g. \"403
Forbidden\") indicating the error shall be returned and the message body
should contain a ProblemDetails structure indicating appropriate additional
error information.
#### 5.2.2.4 CancelLocation
##### 5.2.2.4.1 General
The following procedures are defined, using the \"CancelLocation\" service
operation:
\- Cancel Periodic or Triggered Location
##### 5.2.2.4.2 Cancel Periodic or Triggered Location
This procedure allows a consumer NF to cancel periodic or triggered location
for a target UE. The cancellation is delivered to a resource URI on the
serving LMF identified by the serving LMF identification provided to the
consumer NF (i.e. AMF) by a V-GMLC or H-GMLC (see 3GPP TS 23.273 [19]).
Figure 5.2.2.4.2-1: CancelLocation Request
1\. The NF Service Consumer shall send an HTTP POST request to the resource
URI of \"cancel-location\" custom operation on the serving LMF. The request
body shall include a notification correlation ID (LDR reference) and an H-GMLC
callback URI.
2a. On success, \"204 No content\" shall be returned by the LMF.
2b. On failure or redirection, one of the HTTP status code listed in Table
6.1.4.3.2-2 shall be returned. For a 4xx/5xx response, the message body should
contain a ProblemDetails structure with the \"cause\" attribute set to one of
the application errors listed in Table 6.1.4.3.2-2.
#### 5.2.2.5 LocationContextTransfer
##### 5.2.2.5.1 General
The following procedures are defined, using the \"LocationContextTransfer\"
service operation:
\- Transfer Location Context
##### 5.2.2.5.2 Transfer Location Context
This procedure allows a NF service consumer (e.g. the old LMF) to transfer
location context information for periodic or triggered location for a target
UE (see clause 6.4 and clause 6.7.2 of 3GPP TS 23.273 [19]). The NF service
consumer discovers the service URI of the new LMF by performing a discovery
via NRF using:
\- the identification of the LMF received (from an AMF) during an earlier
Namf_Communication_N1MessageNotify service operation to the consumer NF;
otherwise (if not available),
\- the identification of an LMF locally provisioned in the consumer NF.
Figure 5.2.2.5.2-1: LocationContextTransfer Request
1\. The NF Service Consumer shall send an HTTP POST request to the Custom
operation URI (\"/location-context-transfer\") on the Service URI discovered
as described above. The request body shall include an AMF identity, Deferred
location type, Deferred location parameters, Notification Target Address
(H-GMLC callback URI), Notification Correlation ID (LDR reference), an
embedded event report message and may include an event reporting status and UE
location information, and shall include an indication of Control Plane CIoT
5GS Optimisation if N1 message is received from the UE with Control Plane CIoT
5GS Optimisation.
2a. On success, \"204 No content\" shall be returned by the LMF.
2b. On failure or redirection, one of the HTTP status codes listed in Table
6.1.4.4.2-2 shall be returned. For a 4xx/5xx response, the message body should
contain a ProblemDetails structure with the \"cause\" attribute set to one of
the application error listed in Table 6.1.4.4.2-2.
## 5.3 Nlmf_Broadcast Service
### 5.3.1 Service Description
The Nlmf_Broadcast service enables an NF to obtain ciphering keys and
associated parameters applicable to location assistance data that is broadcast
to subscribed UEs in ciphered form.
### 5.3.2 Service Operations
#### 5.3.2.1 Introduction
The service operations defined for the Nlmf_Broadcast service are as follows:
\- CipheringKeyData: It provides the ciphering key information to the consumer
NF.
#### 5.3.2.2 CipheringKeyData
##### 5.3.2.2.1 General
The following procedures are defined, using the \"CipheringKeyData\" service
operation:
\- Request Ciphering Key Information
\- Provide Ciphering Key Information
NOTE: The Request Ciphering Key procedure is included in order to provide a
valid context in OpenAPI version 3 for the Provide Ciphering Key Information
procedure. The Request Ciphering Key procedure is not used for support of
ciphering key transfer in 3GPP TS 23.273 [19] and hence need not be supported
by an NF Service Consumer or by an LMF.
##### 5.3.2.2.2 Request Ciphering Key Information
This procedure allows a consumer NF to request ciphering key information.
Figure 5.3.2.2.2-1: CipheringKeyData Request
1\. The NF Service Consumer shall send an HTTP POST request to the resource
URI associated with the \"cipher-key-data\" custom operation. The request body
shall include a notification callback URI.
2a. On success, \"200 OK\" shall be returned. The response body shall indicate
whether the LMF has ciphering key data. If the LMF has ciphering key data, the
Provide Ciphering Key Information procedure is used to provide the ciphering
key data to the NF Service Consumer.
2b. On failure or redirection, one of the HTTP status codes listed in Table
6.2.4.4.2-2 shall be returned. For a 4xx/5xx response, the message body shall
contain a ProblemDetails structure with the \"cause\" attribute set to one of
the application errors listed in Table 6.2.7.3-1.
##### 5.3.2.2.3 Provide Ciphering Key Information
This procedure notifies the NF Service Consumer (i.e. AMF) about updated
ciphering key information applicable to broadcast of location assistance data
in ciphered form to subscribed UEs. The notification is delivered to:
\- the callback URI of an AMF received during an earlier CipheringKeyData
request service operation if still available; or
\- a callback URI registered in the NRF, if the AMF registered to the NRF with
notification endpoints for ciphering key data notifications;
Otherwise (if not available),
\- an AMF callback URI locally provisioned in the LMF.
The procedure is invoked by issuing a POST request to the callback URI of the
NF Service Consumer. See figure 5.3.2.2.3-1.
Figure 5.3.2.2.3-1: CipheringKeyData Notify
1\. The LMF shall send an HTTP POST request to the callback URI for the NF
service consumer determined as described above. The request body shall include
one or more ciphering keys and for each ciphering key may include a ciphering
key value, ciphering key identifier, validity period and set of applicable
types of broadcast assistance data.
2a. On success or partial success, \"200 OK\" shall be returned. The response
body shall indicate which ciphering key information was successfully stored by
the NF service consumer.
2b. On failure or redirection to store any ciphering key information, one of
the HTTP status codes listed in table 6.2.5.1.3.1-2 shall be returned. For a
4xx/5xx response, the message body shall contain a ProblemDetails structure
with the \"cause\" attribute set to one of the application errors listed in
table 6.2.5.1.3.1-2.
# 6 API Definitions
## 6.1 Nlmf_Location Service API
### 6.1.1 API URI
The Nlmf_Location service shall use the Nlmf_Location API.
The API URI of the Nlmf_Location API shall be:
**{apiRoot}/\ /\/**
The request URI used in HTTP requests from the NF service consumer towards the
NF service producer shall have the Resource URI structure defined in clause
4.4.1 of 3GPP TS 29.501 [5], i.e.:
**{apiRoot}/\ /\/\**
with the following components:
\- The {apiRoot} shall be set as described in 3GPP TS 29.501 [5].
\- The \ shall be \"nlmf-loc\".
\- The \ shall be \"v1\".
\- The \ shall be set as described in clause
6.1.3.
### 6.1.2 Usage of HTTP
#### 6.1.2.1 General
HTTP/2, as defined in IETF RFC 7540 [12], shall be used as specified in clause
5 of 3GPP TS 29.500 [4].
HTTP/2 shall be transported as specified in clause 5.3 of 3GPP TS 29.500 [4].
HTTP messages and bodies for the Nlmf_Location service shall comply with the
OpenAPI [14] specification contained in Annex A.
#### 6.1.2.2 HTTP Standard Headers
##### 6.1.2.2.1 General
##### 6.1.2.2.2 Content type
The following content types shall be supported:
\- JSON, as defined in IETF RFC 8259 [13], shall be used as content type of
the HTTP bodies specified in the present specification as indicated in clause
5.4 of 3GPP TS 29.500 [4].
\- The Problem Details JSON Object (IETF RFC 7807 [15]). The use of the
Problem Details JSON object in a HTTP response body shall be signalled by the
content type \"application/problem+json\".
Multipart messages shall also be supported (see clause 6.1.2.4) using the
content type \"multipart/related\", comprising:
\- one JSON body part with the \"application/json\" content type; and
\- one or more binary body parts with 3gpp vendor specific content subtypes.
The 3gpp vendor specific content subtypes defined in Table 6.1.2.2.2-1 shall
be supported.
Table 6.1.2.2.2-1: 3GPP vendor specific content subtypes
* * *
content subtype Description vnd.3gpp.lpp Binary encoded payload, encoding LTE
Positioning Protocol (LPP) IEs, as specified in 3GPP TS 36.355 [21]. NOTE:
Using 3GPP vendor content subtypes allows to describe the nature of the opaque
payload (e.g. LPP information) without having to rely on metadata in the JSON
payload.
* * *
See clause 6.1.2.4 for the binary payloads supported in the binary body part
of multipart messages.
#### 6.1.2.3 HTTP custom headers
##### 6.1.2.3.1 General
The following HTTP custom headers shall be supported:
\- 3gpp-Sbi-Message-Priority: See 3GPP TS 29.500 [4], clause 5.2.3.2.2.
This API does not define any new HTTP custom headers.
#### 6.1.2.4 HTTP multipart messages
HTTP multipart messages shall be supported, to transfer opaque LPP
Information, in the following service operations (and HTTP messages):
\- DetermineLocation Request (POST);
HTTP multipart messages shall include one JSON body part and one or more
binary body parts comprising:
\- one LPP payload (see clause 6.1.6.4).
The JSON body part shall be the \"root\" body part of the multipart message.
It shall be encoded as the first body part of the multipart message. The
\"Start\" parameter does not need to be included.
The multipart message shall include a \"type\" parameter (see IETF RFC 2387
[9]) specifying the media type of the root body part, i.e.
\"application/json\".
NOTE: The \"root\" body part (or \"root\" object) is the first body part the
application processes when receiving a multipart/related message, see IETF RFC
2387 [9]. The default root is the first body within the multipart/related
message. The \"Start\" parameter indicates the root body part, e.g. when this
is not the first body part in the message.
For each binary body part in a HTTP multipart message, the binary body part
shall include a Content-ID header (see IETF RFC 2045 [10]), and the JSON body
part shall include an attribute, defined with the RefToBinaryData type, that
contains the value of the Content-ID header field of the referenced binary
body part.
### 6.1.3 Resources
#### 6.1.3.1 Overview
The structure of the Resource URIs of the Nlmf_Location service is shown in
figure 6.1.3.1-1.
Figure 6.1.3.1-1: Resource URI structure of the Nlmf_Location API
### 6.1.4 Custom Operations without associated resources
#### 6.1.4.1 Overview
Table 6.1.4.1-1: Custom operations without associated resources
+----------------+----------------+----------------+----------------+ | Operation Name | Custom | Mapped HTTP | Description | | | operation URI | method | | | | | | (Service | | | | | Operation) | +================+================+================+================+ | dete | /dete | POST | Determine | | rmine-location | rmine-location | | Location | +----------------+----------------+----------------+----------------+ | c | /c | POST | Cancel | | ancel-location | ancel-location | | Location | +----------------+----------------+----------------+----------------+ | location-co | /location-co | POST | Transfer | | ntext-transfer | ntext-transfer | | Location | | | | | Context | +----------------+----------------+----------------+----------------+
#### 6.1.4.2 Operation: determine-location
##### 6.1.4.2.1 Description
This sublause will describe the custom operation and what it is used for, and
the custom operation\'s URI.
##### 6.1.4.2.2 Operation Definition
This operation shall support the response data structures and response codes
specified in tables 6.1.4.2.2-1 and 6.1.4.2.2-2.
Table 6.1.4.2.2-1: Data structures supported by the POST Request Body on this
resource
* * *
Data type P Cardinality Description InputData M 1 Input parameters to the
\"Determine Location\" operation
* * *
Table 6.1.4.2.2-2: Data structures supported by the POST Response Body on this
resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | LocationData | M | 1 | 200 OK | This case | | | | | | represents | | | | | | the | | | | | | successful | | | | | | retrieval of | | | | | | the location | | | | | | of the UE or | | | | | | successful | | | | | | activation of | | | | | | periodic or | | | | | | triggered | | | | | | location in | | | | | | the UE. | | | | | | | | | | | | Upon success, | | | | | | a response | | | | | | body is | | | | | | returned | | | | | | containing | | | | | | the different | | | | | | parameters of | | | | | | the location | | | | | | data if | | | | | | obtained, | | | | | | such as: | | | | | | | | | | | | > \- | | | | | | > Geographic | | | | | | > Area | | | | | | > | | | | | | > \- Civic | | | | | | > Location | | | | | | > | | | | | | > \- | | | | | | > Positioning | | | | | | > methods | +---------------+---+-------------+---------------+---------------+ | n/a | | | 204 No | This case | | | | | Content | represents | | | | | | the | | | | | | successful | | | | | | delivery of | | | | | | location | | | | | | assistance | | | | | | data to the | | | | | | UE, during | | | | | | MO-LR | | | | | | requesting | | | | | | for location | | | | | | assistance | | | | | | data for the | | | | | | UE. | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 307 Temporary | Temporary | | irectResponse | | | Redirect | redirection. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing a | | | | | | different | | | | | | URI, or the | | | | | | same URI if a | | | | | | request is | | | | | | redirected to | | | | | | the same | | | | | | target | | | | | | resource via | | | | | | a different | | | | | | SCP. In the | | | | | | former case, | | | | | | the URI shall | | | | | | be an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located on an | | | | | | alternative | | | | | | service | | | | | | instance | | | | | | within the | | | | | | same LMF or | | | | | | LMF (service) | | | | | | set. | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 308 Permanent | Permanent | | irectResponse | | | Redirect | redirection. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing a | | | | | | different | | | | | | URI, or the | | | | | | same URI if a | | | | | | request is | | | | | | redirected to | | | | | | the same | | | | | | target | | | | | | resource via | | | | | | a different | | | | | | SCP. In the | | | | | | former case, | | | | | | the URI shall | | | | | | be an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located on an | | | | | | alternative | | | | | | service | | | | | | instance | | | | | | within the | | | | | | same LMF or | | | | | | LMF (service) | | | | | | set. | +---------------+---+-------------+---------------+---------------+ | P | O | 0..1 | 403 Forbidden | The \"cause\" | | roblemDetails | | | | attribute may | | | | | | be used to | | | | | | indicate the | | | | | | following | | | | | | application | | | | | | errors: | | | | | | | | | | | | > \- | | | | | | > POSITI | | | | | | ONING_DENIED | | | | | | > | | | | | | > \- | | | | | | > UNSPECIFIED | | | | | | > | | | | | | > \- | | | | | | > UNSUPP | | | | | | ORTED_BY_UE | | | | | | | | | | | | See table | | | | | | 6.1.7.3-1 for | | | | | | the | | | | | | description | | | | | | of these | | | | | | errors. | +---------------+---+-------------+---------------+---------------+ | P | O | 0..1 | 500 Internal | The \"cause\" | | roblemDetails | | | Server Error | attribute may | | | | | | be used to | | | | | | indicate the | | | | | | following | | | | | | application | | | | | | error: | | | | | | | | | | | | > \- | | | | | | > POSITI | | | | | | ONING_FAILED | | | | | | | | | | | | See table | | | | | | 6.1.7.3-1 for | | | | | | the | | | | | | description | | | | | | of these | | | | | | errors. | +---------------+---+-------------+---------------+---------------+ | P | O | 0..1 | 504 Gateway | The \"cause\" | | roblemDetails | | | Timeout | attribute may | | | | | | be used to | | | | | | indicate the | | | | | | following | | | | | | application | | | | | | error: | | | | | | | | | | | | > \- | | | | | | > UNRE | | | | | | ACHABLE_USER | | | | | | | | | | | | See table | | | | | | 6.1.7.3-1 for | | | | | | the | | | | | | description | | | | | | of this | | | | | | error. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the POST | | | | | | method listed | | | | | | in Table | | | | | | 5.2.7.1-1 of | | | | | | 3GPP TS | | | | | | 29.500 [4] | | | | | | other than | | | | | | those | | | | | | specified in | | | | | | the table | | | | | | above also | | | | | | apply, with a | | | | | | P | | | | | | roblemDetails | | | | | | data type | | | | | | (see clause | | | | | | 5.2.7 of | | | | | | 3GPP TS 2 | | | | | | 9.500 [4]). | | | | | +---------------+---+-------------+---------------+---------------+
Table 6.1.4.2.2-3: Headers supported by the 307 Response Code on this resource
+-----------------+-----------+---+-------------+-----------------+ | Name | Data type | P | Cardinality | Description | +-----------------+-----------+---+-------------+-----------------+ | Location | string | M | 1 | An alternative | | | | | | URI of the | | | | | | resource | | | | | | located on an | | | | | | alternative | | | | | | service | | | | | | instance within | | | | | | the same LMF or | | | | | | LMF (service) | | | | | | set. | | | | | | | | | | | | Or the same | | | | | | URI, if a | | | | | | request is | | | | | | redirected to | | | | | | the same target | | | | | | resource via a | | | | | | different SCP. | +-----------------+-----------+---+-------------+-----------------+ | 3gpp-S | string | O | 0..1 | Identifier of | | bi-Target-Nf-Id | | | | the target NF | | | | | | (service) | | | | | | instance ID | | | | | | towards which | | | | | | the request is | | | | | | redirected | +-----------------+-----------+---+-------------+-----------------+
Table 6.1.4.2.2-4: Headers supported by the 308 Response Code on this resource
+-----------------+-----------+---+-------------+-----------------+ | Name | Data type | P | Cardinality | Description | +-----------------+-----------+---+-------------+-----------------+ | Location | string | M | 1 | An alternative | | | | | | URI of the | | | | | | resource | | | | | | located on an | | | | | | alternative | | | | | | service | | | | | | instance within | | | | | | the same LMF or | | | | | | LMF (service) | | | | | | set. | | | | | | | | | | | | Or the same | | | | | | URI, if a | | | | | | request is | | | | | | redirected to | | | | | | the same target | | | | | | resource via a | | | | | | different SCP. | +-----------------+-----------+---+-------------+-----------------+ | 3gpp-S | string | O | 0..1 | Identifier of | | bi-Target-Nf-Id | | | | the target NF | | | | | | (service) | | | | | | instance ID | | | | | | towards which | | | | | | the request is | | | | | | redirected | +-----------------+-----------+---+-------------+-----------------+
#### 6.1.4.3 Operation: cancel-location
##### 6.1.4.3.1 Description
This clause describes the custom operation and what it is used for.
##### 6.1.4.3.2 Operation Definition
This operation shall support the request and response data structures and
response codes specified in table 6.1.4.3.2-1 and table 6.1.4.3.2-2.
Table 6.1.4.3.2-1: Data structures supported by the POST Request Body on this
resource
* * *
Data type P Cardinality Description CancelLocData M 1 The information used to
cancel location.
* * *
Table 6.1.4.3.2-2: Data structures supported by the POST Response Body on this
resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +===============+===+=============+===============+===============+ | n/a | | | 204 No | This case | | | | | Content | represents | | | | | | successful | | | | | | cancellation | | | | | | of location. | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 307 Temporary | Temporary | | irectResponse | | | Redirect | redirection. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing a | | | | | | different | | | | | | URI, or the | | | | | | same URI if a | | | | | | request is | | | | | | redirected to | | | | | | the same | | | | | | target | | | | | | resource via | | | | | | a different | | | | | | SCP. In the | | | | | | former case, | | | | | | the URI shall | | | | | | be an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located on an | | | | | | alternative | | | | | | service | | | | | | instance | | | | | | within the | | | | | | same LMF or | | | | | | LMF (service) | | | | | | set. | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 308 Permanent | Permanent | | irectResponse | | | Redirect | redirection. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing a | | | | | | different | | | | | | URI, or the | | | | | | same URI if a | | | | | | request is | | | | | | redirected to | | | | | | the same | | | | | | target | | | | | | resource via | | | | | | a different | | | | | | SCP. In the | | | | | | former case, | | | | | | the URI shall | | | | | | be an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located on an | | | | | | alternative | | | | | | service | | | | | | instance | | | | | | within the | | | | | | same LMF or | | | | | | LMF (service) | | | | | | set. | +---------------+---+-------------+---------------+---------------+ | P | O | 0..1 | 403 Forbidden | The \"cause\" | | roblemDetails | | | | attribute may | | | | | | be used to | | | | | | indicate the | | | | | | following | | | | | | application | | | | | | errors: | | | | | | | | | | | | > \- | | | | | | > UNSPECIFIED | | | | | | > | | | | | | > \- | | | | | | > | | | | | | LOCATION_SES | | | | | | SION_UNKNOWN | | | | | | | | | | | | See | | | | | | ta | | | | | | ble 6.1.7.3-1 | | | | | | for the | | | | | | description | | | | | | of this | | | | | | error. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the POST | | | | | | method listed | | | | | | in Table | | | | | | 5.2.7.1-1 of | | | | | | 3GPP TS | | | | | | 29.500 [4] | | | | | | other than | | | | | | those | | | | | | specified in | | | | | | the table | | | | | | above also | | | | | | apply, with a | | | | | | P | | | | | | roblemDetails | | | | | | data type | | | | | | (see clause | | | | | | 5.2.7 of | | | | | | 3GPP TS 2 | | | | | | 9.500 [4]). | | | | | +---------------+---+-------------+---------------+---------------+
Table 6.1.4.3.2-3: Headers supported by the 307 Response Code on this resource
+-----------------+-----------+---+-------------+-----------------+ | Name | Data type | P | Cardinality | Description | +-----------------+-----------+---+-------------+-----------------+ | Location | string | M | 1 | An alternative | | | | | | URI of the | | | | | | resource | | | | | | located on an | | | | | | alternative | | | | | | service | | | | | | instance within | | | | | | the same LMF or | | | | | | LMF (service) | | | | | | set. | | | | | | | | | | | | Or the same | | | | | | URI, if a | | | | | | request is | | | | | | redirected to | | | | | | the same target | | | | | | resource via a | | | | | | different SCP. | +-----------------+-----------+---+-------------+-----------------+ | 3gpp-S | string | O | 0..1 | Identifier of | | bi-Target-Nf-Id | | | | the target NF | | | | | | (service) | | | | | | instance ID | | | | | | towards which | | | | | | the request is | | | | | | redirected | +-----------------+-----------+---+-------------+-----------------+
Table 6.1.4.3.2-4: Headers supported by the 308 Response Code on this resource
+-----------------+-----------+---+-------------+-----------------+ | Name | Data type | P | Cardinality | Description | +-----------------+-----------+---+-------------+-----------------+ | Location | string | M | 1 | An alternative | | | | | | URI of the | | | | | | resource | | | | | | located on an | | | | | | alternative | | | | | | service | | | | | | instance within | | | | | | the same LMF or | | | | | | LMF (service) | | | | | | set. | | | | | | | | | | | | Or the same | | | | | | URI, if a | | | | | | request is | | | | | | redirected to | | | | | | the same target | | | | | | resource via a | | | | | | different SCP. | +-----------------+-----------+---+-------------+-----------------+ | 3gpp-S | string | O | 0..1 | Identifier of | | bi-Target-Nf-Id | | | | the target NF | | | | | | (service) | | | | | | instance ID | | | | | | towards which | | | | | | the request is | | | | | | redirected | +-----------------+-----------+---+-------------+-----------------+
#### 6.1.4.4 Operation: location-context-transfer
##### 6.1.4.4.1 Description
This clause will describe the custom operation and what it is used for.
##### 6.1.4.4.2 Operation Definition
This operation shall support the request and response data structures and
response codes specified in table 6.1.4.4.2-1 and table 6.1.4.4.2-2.
Table 6.1.4.4.2-1: Data structures supported by the POST Request Body on this
resource
* * *
Data type P Cardinality Description LocContextData M 1 Input parameters to the
\"Location Context Transfer\" operation
* * *
Table 6.1.4.4.2-2: Data structures supported by the POST Response Body on this
resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +===============+===+=============+===============+===============+ | n/a | | | 204 No | This case | | | | | Content | represents | | | | | | successful | | | | | | transfer of | | | | | | the location | | | | | | context. | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 307 Temporary | Temporary | | irectResponse | | | Redirect | redirection. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing a | | | | | | different | | | | | | URI, or the | | | | | | same URI if a | | | | | | request is | | | | | | redirected to | | | | | | the same | | | | | | target | | | | | | resource via | | | | | | a different | | | | | | SCP. In the | | | | | | former case, | | | | | | the URI shall | | | | | | be an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located on an | | | | | | alternative | | | | | | service | | | | | | instance | | | | | | within the | | | | | | same LMF or | | | | | | LMF (service) | | | | | | set. | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 308 Permanent | Permanent | | irectResponse | | | Redirect | redirection. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing a | | | | | | different | | | | | | URI, or the | | | | | | same URI if a | | | | | | request is | | | | | | redirected to | | | | | | the same | | | | | | target | | | | | | resource via | | | | | | a different | | | | | | SCP. In the | | | | | | former case, | | | | | | the URI shall | | | | | | be an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located on an | | | | | | alternative | | | | | | service | | | | | | instance | | | | | | within the | | | | | | same LMF or | | | | | | LMF (service) | | | | | | set. | +---------------+---+-------------+---------------+---------------+ | P | O | 0..1 | 403 Forbidden | The \"cause\" | | roblemDetails | | | | attribute may | | | | | | be used to | | | | | | indicate the | | | | | | following | | | | | | application | | | | | | errors: | | | | | | | | | | | | > \- | | | | | | > UNSPECIFIED | | | | | | > | | | | | | > \- | | | | | | > LOCATION_ | | | | | | TRANSFER_NOT | | | | | | > SUPPORTED | | | | | | > | | | | | | > \- | | | | | | > INSUFFICIE | | | | | | NT_RESOURCES | | | | | | > | | | | | | > \- | | | | | | > E | | | | | | VENT_REPORT\ | | | | | | _UNRECOGNIZED | | | | | | | | | | | | See | | | | | | ta | | | | | | ble 6.1.7.3-1 | | | | | | for the | | | | | | description | | | | | | of this | | | | | | error. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the POST | | | | | | method listed | | | | | | in Table | | | | | | 5.2.7.1-1 of | | | | | | 3GPP TS | | | | | | 29.500 [4] | | | | | | other than | | | | | | those | | | | | | specified in | | | | | | the table | | | | | | above also | | | | | | apply, with a | | | | | | P | | | | | | roblemDetails | | | | | | data type | | | | | | (see clause | | | | | | 5.2.7 of | | | | | | 3GPP TS 2 | | | | | | 9.500 [4]). | | | | | +---------------+---+-------------+---------------+---------------+
Table 6.1.4.4.2-3: Headers supported by the 307 Response Code on this resource
+-----------------+-----------+---+-------------+-----------------+ | Name | Data type | P | Cardinality | Description | +-----------------+-----------+---+-------------+-----------------+ | Location | string | M | 1 | An alternative | | | | | | URI of the | | | | | | resource | | | | | | located on an | | | | | | alternative | | | | | | service | | | | | | instance within | | | | | | the same LMF or | | | | | | LMF (service) | | | | | | set. | | | | | | | | | | | | Or the same | | | | | | URI, if a | | | | | | request is | | | | | | redirected to | | | | | | the same target | | | | | | resource via a | | | | | | different SCP. | +-----------------+-----------+---+-------------+-----------------+ | 3gpp-S | string | O | 0..1 | Identifier of | | bi-Target-Nf-Id | | | | the target NF | | | | | | (service) | | | | | | instance ID | | | | | | towards which | | | | | | the request is | | | | | | redirected | +-----------------+-----------+---+-------------+-----------------+
Table 6.1.4.4.2-4: Headers supported by the 308 Response Code on this resource
+-----------------+-----------+---+-------------+-----------------+ | Name | Data type | P | Cardinality | Description | +-----------------+-----------+---+-------------+-----------------+ | Location | string | M | 1 | An alternative | | | | | | URI of the | | | | | | resource | | | | | | located on an | | | | | | alternative | | | | | | service | | | | | | instance within | | | | | | the same LMF or | | | | | | LMF (service) | | | | | | set. | | | | | | | | | | | | Or the same | | | | | | URI, if a | | | | | | request is | | | | | | redirected to | | | | | | the same target | | | | | | resource via a | | | | | | different SCP. | +-----------------+-----------+---+-------------+-----------------+ | 3gpp-S | string | O | 0..1 | Identifier of | | bi-Target-Nf-Id | | | | the target NF | | | | | | (service) | | | | | | instance ID | | | | | | towards which | | | | | | the request is | | | | | | redirected | +-----------------+-----------+---+-------------+-----------------+
### 6.1.5 Notifications
This clause specifies the notifications provided by the Nlmf_Location service.
Table 6.1.5.1-1: Notifications overview
+--------------+----------------+----------------+----------------+ | Notification | Callback URI | HTTP method or | Description | | | | custom | | | | | operation | (service | | | | | operation) | +==============+================+================+================+ | EventNotify | {hgm | POST | | | | lcCallBackURI} | | | +--------------+----------------+----------------+----------------+
#### 6.1.5.1 EventNotify
##### 6.1.5.1.1 Description
The EventNotify operation is used to notify the occurrence of periodic or
triggered location event for a target UE to a consumer NF (e.g. GMLC).
##### 6.1.5.1.2 Notification Definition
Callback URI: {hgmlcCallBackURI}
See clause 5.2.2.1.2 for the description of how the LMF obtains the Callback
URI of the NF Service Consumer (e.g. GMLC).
##### 6.1.5.1.3 Notification Standard Methods
##### 6.1.5.1.3.1 POST {#post .H6}
This method sends a Location event notify to the NF Service Consumer.
This method shall support the request and response data structures and
response codes specified in table 6.1.5.1.3.1-1 and table 6.1.5.1.3.1-2.
Table 6.1.5.1.3.1-1: Data structures supported by the POST Request Body
* * *
Data type P Cardinality Description EventNotifyData M 1 Input parameters to
the \"Location Event Notify\" operation
* * *
Table 6.1.5.1.3.1-2: Data structures supported by the POST Response Body
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +===============+===+=============+===============+===============+ | n/a | | | 204 No | This case | | | | | Content | represents | | | | | | successful | | | | | | notification | | | | | | of the event. | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 307 Temporary | Temporary | | irectResponse | | | Redirect | redirection. | | | | | | The NF | | | | | | service | | | | | | consumer | | | | | | shall | | | | | | generate a | | | | | | Location | | | | | | header field | | | | | | containing a | | | | | | URI pointing | | | | | | to the | | | | | | endpoint of | | | | | | another NF | | | | | | service | | | | | | consumer to | | | | | | which the | | | | | | notification | | | | | | should be | | | | | | sent. | | | | | | | | | | | | If an SCP | | | | | | redirects the | | | | | | message to | | | | | | another SCP | | | | | | then the | | | | | | location | | | | | | header field | | | | | | shall contain | | | | | | the same URI | | | | | | or a | | | | | | different URI | | | | | | pointing to | | | | | | the endpoint | | | | | | of the NF | | | | | | service | | | | | | consumer to | | | | | | which the | | | | | | notification | | | | | | should be | | | | | | sent. | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 308 Permanent | Permanent | | irectResponse | | | Redirect | redirection. | | | | | | The NF | | | | | | service | | | | | | consumer | | | | | | shall | | | | | | generate a | | | | | | Location | | | | | | header field | | | | | | containing a | | | | | | URI pointing | | | | | | to the | | | | | | endpoint of | | | | | | another NF | | | | | | service | | | | | | consumer to | | | | | | which the | | | | | | notification | | | | | | should be | | | | | | sent. | | | | | | | | | | | | If an SCP | | | | | | redirects the | | | | | | message to | | | | | | another SCP | | | | | | then the | | | | | | location | | | | | | header field | | | | | | shall contain | | | | | | the same URI | | | | | | or a | | | | | | different URI | | | | | | pointing to | | | | | | the endpoint | | | | | | of the NF | | | | | | service | | | | | | consumer to | | | | | | which the | | | | | | notification | | | | | | should be | | | | | | sent. | +---------------+---+-------------+---------------+---------------+ | P | O | 0..1 | 403 Forbidden | The \"cause\" | | roblemDetails | | | | attribute may | | | | | | be used to | | | | | | indicate the | | | | | | following | | | | | | application | | | | | | errors: | | | | | | | | | | | | > \- | | | | | | > UNSPECIFIED | | | | | | > | | | | | | > \- | | | | | | > | | | | | | LOCATION_SES | | | | | | SION_UNKNOWN | | | | | | | | | | | | See | | | | | | ta | | | | | | ble 6.1.7.3-1 | | | | | | for the | | | | | | description | | | | | | of this | | | | | | error. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the POST | | | | | | method listed | | | | | | in Table | | | | | | 5.2.7.1-1 of | | | | | | 3GPP TS | | | | | | 29.500 [4] | | | | | | other than | | | | | | those | | | | | | specified in | | | | | | the table | | | | | | above also | | | | | | apply, with a | | | | | | P | | | | | | roblemDetails | | | | | | data type | | | | | | (see clause | | | | | | 5.2.7 of | | | | | | 3GPP TS 2 | | | | | | 9.500 [4]). | | | | | +---------------+---+-------------+---------------+---------------+
Table 6.1.5.1.3.1-3: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 A URI pointing to
the endpoint of NF service consumer to which the notification should be sent
3gpp-Sbi-Target-Nf-Id string O 0..1 Identifier of the target NF (service)
instance ID towards which the notification is redirected
* * *
Table 6.1.5.1.3.1-4: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 A URI pointing to
the endpoint of NF service consumer to which the notification should be sent
3gpp-Sbi-Target-Nf-Id string O 0..1 Identifier of the target NF (service)
instance ID towards which the notification is redirected
* * *
### 6.1.6 Data Model
#### 6.1.6.1 General
This clause specifies the application data model supported by the API.
Table 6.1.6.1-1 specifies the data types defined for the Nlmf_Location service
based interface protocol.
Table 6.1.6.1-1: Nlmf_Location specific Data Types
Data type Clause defined Description
* * *
InputData 6.1.6.2.2 Information within Determine Location Request LocationData
6.1.6.2.3 Information within Determine Location Response
GeographicalCoordinates 6.1.6.2.4 Geographical coordinates GeographicArea
6.1.6.2.5 Geographic area specified by different shape Point 6.1.6.2.6
Ellipsoid Point PointUncertaintyCircle 6.1.6.2.7 Ellipsoid point with
uncertainty circle PointUncertaintyEllipse 6.1.6.2.8 Ellipsoid point with
uncertainty ellipse Polygon 6.1.6.2.9 Polygon PointAltitude 6.1.6.2.10
Ellipsoid point with altitude PointAltitudeUncertainty 6.1.6.2.11 Ellipsoid
point with altitude and uncertainty ellipsoid EllipsoidArc 6.1.6.2.12
Ellipsoid Arc LocationQoS 6.1.6.2.13 QoS of Location request CivicAddress
6.1.6.2.14 Indicates a Civic address PositioningMethodAndUsage 6.1.6.2.15
Indicates the usage of a positioning method GnssPositioningMethodAndUsage
6.1.6.2.16 Indicates the usage of a Global Navigation Satellite System (GNSS)
positioning method VelocityEstimate 6.1.6.2.17 Velocity estimate
HorizontalVelocity 6.1.6.2.18 Horizontal velocity
HorizontalWithVerticalVelocity 6.1.6.2.19 Horizontal and vertical velocity
HorizontalVelocityWithUncertainty 6.1.6.2.20 Horizontal velocity with speed
uncertainty HorizontalWithVerticalVelocityAndUncertainty 6.1.6.2.21 Horizontal
and vertical velocity with speed uncertainty UncertaintyEllipse 6.1.6.2.22
Ellipse with uncertainty UeLcsCapability 6.1.6.2.23 Indicates the LCS
capability supported by the UE. PeriodicEventInfo 6.1.6.2.24 Indicates the
information of periodic event reporting AreaEventInfo 6.1.6.2.25 Indicates the
information of area based event reporting ReportingArea 6.1.6.2.26 Indicates
an area for event reporting MotionEventInfo 6.1.6.2.27 Indicates the
information of motion based event reporting CancelLocData 6.1.6.2.29
Information within Cancel Location Request LocContextData 6.1.6.2.30
Information within Transfer Location Context Request EventReportMessage
6.1.6.2.31 Indicates an event report message EventReportingStatus 6.1.6.2.32
Indicates the status of event reporting UELocationInfo 6.1.6.2.33 Indicates
location information of a UE EventNotifyData 6.1.6.2.34 Information within
Event Notify Request UeConnectivityState 6.1.6.2.35 Indicates the connectivity
state of a UE Altitude 6.1.6.3.2 Indicates value of altitude Angle 6.1.6.3.2
Indicates value of angle Uncertainty 6.1.6.3.2 Indicates value of uncertainty
Orientation 6.1.6.3.2 Indicates value of orientation angle Confidence
6.1.6.3.2 Indicates value of confidence Accuracy 6.1.6.3.2 Indicates value of
accuracy InnerRadius 6.1.6.3.2 Indicates value of the inner radius
CorrelationID 6.1.6.3.2 LCS Correlation ID AgeOfLocationEstimate 6.1.6.3.2
Indicates value of the age of the location estimate HorizontalSpeed 6.1.6.3.2
Indicates value of horizontal speed VerticalSpeed 6.1.6.3.2 Indicates value of
vertical speed SpeedUncertainty 6.1.6.3.2 Indicates value of speed uncertainty
BarometricPressure 6.1.6.3.2 Specifies the measured uncompensated atmospheric
pressure LcsServiceType 6.1.6.3.2 LCS service type LdrReference 6.1.6.3.2 LDR
Reference ReportingAmount 6.1.6.3.2 Number of required periodic event reports
ReportingInterval 6.1.6.3.2 Event reporting periodic interval MinimumInterval
6.1.6.3.2 Minimum interval between event reports MaximumInterval 6.1.6.3.2
Maximum interval between event reports SamplingInterval 6.1.6.3.2 Maximum time
interval between consecutive evaluations by a UE of a trigger event
ReportingDuration 6.1.6.3.2 Maximum duration of event reporting LinearDistance
6.1.6.3.2 Minimum straight line distance moved by a UE to trigger a motion
event report LMFIdentification 6.1.6.3.2 LMF identification EventReportCounter
6.1.6.3.2 Number of event reports received from the target UE
EventReportDuration 6.1.6.3.2 Duration of event reporting ExternalClientType
6.1.6.3.3 Indicates types of External Clients SupportedGADShapes 6.1.6.3.4
Indicates supported GAD shapes ResponseTime 6.1.6.3.5 Indicates acceptable
delay of location request PositioningMethod 6.1.6.3.6 Indicates supported
positioning methods PositioningMode 6.1.6.3.7 Indicates supported modes used
for positioning method GnssId 6.1.6.3.8 Global Navigation Satellite System
(GNSS) ID Usage 6.1.6.3.9 Indicates usage made of the location measurement
LcsPriority 6.1.6.3.10 Indicates priority of the LCS client VelocityRequested
6.1.6.3.11 Indicates velocity requirement AccuracyFulfilmentIndicator
6.1.6.3.12 Indicates fulfilment of requested accuracy VerticalDirection
6.1.6.3.13 Indicates direction of vertical speed LdrType 6.1.6.3.14 Indicates
LDR types ReportingAreaType 6.1.6.3.15 Indicates type of event reporting area
OccurrenceInfo 6.1.6.3.16 Specifies occurrence of event reporting
ReportingAccessType 6.1.6.3.17 Specifies access types of event reporting
EventClass 6.1.6.3.18 Specifies event classes ReportedEventType 6.1.6.3.19
Specifies type of event reporting TerminationCause 6.1.6.3.20 Specifies causes
of event reporting termination LcsQosClass 6.1.6.3.21 Specifies LCS QoS class
UeLocationServiceInd 6.1.6.3.22 Specifies location service types requested by
UE
Table 6.1.6.1-2 specifies data types re-used by the Nlmf_Location service
based interface protocol from other specifications, including a reference to
their respective specifications and when needed, a short description of their
use within the Nlmf service based interface.
Table 6.1.6.1-2: Nlmf_Location re-used Data Types
Data type Reference Comments
* * *
Supi 3GPP TS 29.571 [8] Subscription Permanent Identifier Pei 3GPP TS 29.571
[8] Permanent Equipment Identifier Gpsi 3GPP TS 29.571 [8] Generic Public
Subscription Identifier Ecgi 3GPP TS 29.571 [8] E-UTRA Cell Identity Ncgi 3GPP
TS 29.571 [8] NR Cell Identity NfInstanceId 3GPP TS 29.571 [8] Network
Function Instance ID Uri 3GPP TS 29.571 [8] Uniform Resource Identifier
RefToBinaryData 3GPP TS 29.571 [8] Reference to binary data AccessType 3GPP TS
29.571 [8] Access type CmState 3GPP TS 29.518 [23] Connection Management State
Guami 3GPP TS 29.571 [8] GUAMI SupportedFeatures 3GPP TS 29.571 [8] Supported
Features RedirectResponse 3GPP TS 29.571 [8] Redirect Response
#### 6.1.6.2 Structured data types
##### 6.1.6.2.1 Introduction
This clause defines the structures to be used in resource representations.
##### 6.1.6.2.2 Type: InputData
Table 6.1.6.2.2-1: Definition of type InputData
+---------------+---------------+---+-------------+---------------+ | Attribute | Data type | P | Cardinality | Description | | name | | | | | +===============+===============+===+=============+===============+ | exter | Exter | O | 0..1 | When present, | | nalClientType | nalClientType | | | this IE shall | | | | | | carry the | | | | | | external | | | | | | client type | | | | | | of the | | | | | | requester. | +---------------+---------------+---+-------------+---------------+ | correlationID | CorrelationID | O | 0..1 | When present, | | | | | | this IE shall | | | | | | carry the | | | | | | correlation | | | | | | ID of the | | | | | | request. | +---------------+---------------+---+-------------+---------------+ | amfId | NfInstanceId | O | 0..1 | Indicates the | | | | | | AMF Instance | | | | | | serving the | | | | | | UE. LMF shall | | | | | | use the AMF | | | | | | Instance to | | | | | | forward LCS | | | | | | related N1/N2 | | | | | | messages to | | | | | | the UE/RAN. | +---------------+---------------+---+-------------+---------------+ | locationQoS | LocationQoS | O | 0..1 | When present, | | | | | | this IE shall | | | | | | carry the QoS | | | | | | of the | | | | | | location | | | | | | request. | +---------------+---------------+---+-------------+---------------+ | suppo | array(Suppor | O | 1..N | When present, | | rtedGADShapes | tedGADShapes) | | | this IE shall | | | | | | carry the GAD | | | | | | shapes | | | | | | supported by | | | | | | the | | | | | | requester. | +---------------+---------------+---+-------------+---------------+ | supi | Supi | O | 0..1 | Indicates the | | | | | | SUPI of the | | | | | | target UE. | +---------------+---------------+---+-------------+---------------+ | pei | Pei | O | 0..1 | Indicates the | | | | | | PEI of the | | | | | | target UE. | +---------------+---------------+---+-------------+---------------+ | gpsi | Gpsi | O | 0..1 | Indicates the | | | | | | GPSI of the | | | | | | target UE. | +---------------+---------------+---+-------------+---------------+ | ecgi | Ecgi | O | 0..1 | When present, | | | | | | this IE shall | | | | | | indicate the | | | | | | identifier of | | | | | | the E-UTRAN | | | | | | cell serving | | | | | | the UE or the | | | | | | serving cell | | | | | | identifier of | | | | | | the Primary | | | | | | Cell in the | | | | | | Master RAN | | | | | | Node that is | | | | | | an E-UTRAN | | | | | | node on Dual | | | | | | Connectivity | | | | | | scenarios. | | | | | | | | | | | | (NOTE 2) | +---------------+---------------+---+-------------+---------------+ | ecg | Ecgi | O | 0..1 | When present, | | iOnSecondNode | | | | the serving | | | | | | cell | | | | | | identifier of | | | | | | the Primary | | | | | | Cell in the | | | | | | Secondary RAN | | | | | | Node that is | | | | | | an E-UTRAN | | | | | | node when | | | | | | available on | | | | | | Dual | | | | | | Connectivity | | | | | | scenarios. | | | | | | | | | | | | (NOTE 3) | | | | | | (NOTE 4) | +---------------+---------------+---+-------------+---------------+ | ncgi | Ncgi | O | 0..1 | When present, | | | | | | this IE shall | | | | | | indicate the | | | | | | identifier of | | | | | | the NR cell | | | | | | serving the | | | | | | UE or the | | | | | | serving cell | | | | | | identifier of | | | | | | the Primary | | | | | | Cell in the | | | | | | Master RAN | | | | | | Node that is | | | | | | a NR node on | | | | | | Dual | | | | | | Connectivity | | | | | | scenarios. | | | | | | | | | | | | (NOTE 2) | +---------------+---------------+---+-------------+---------------+ | ncg | Ncgi | O | 0..1 | When present, | | iOnSecondNode | | | | the serving | | | | | | cell | | | | | | identifier of | | | | | | the Primary | | | | | | Cell in the | | | | | | Secondary RAN | | | | | | Node that is | | | | | | a NR node | | | | | | when | | | | | | available on | | | | | | Dual | | | | | | Connectivity | | | | | | scenarios. | | | | | | | | | | | | (NOTE 3) | | | | | | (NOTE 4) | +---------------+---------------+---+-------------+---------------+ | priority | LcsPriority | O | 0..1 | When present, | | | | | | this IE shall | | | | | | indicate the | | | | | | priority of | | | | | | the location | | | | | | request. | +---------------+---------------+---+-------------+---------------+ | velo | Velo | O | 0..1 | When present, | | cityRequested | cityRequested | | | this IE shall | | | | | | indicate | | | | | | whether | | | | | | velocity is | | | | | | requested or | | | | | | not. | +---------------+---------------+---+-------------+---------------+ | ueLcsCap | Ue | O | 0..1 | When present, | | | LcsCapability | | | this IE shall | | | | | | indicate the | | | | | | LCS | | | | | | capability | | | | | | supported by | | | | | | the UE. | +---------------+---------------+---+-------------+---------------+ | l | L | O | 0..1 | The LCS | | csServiceType | csServiceType | | | service type | +---------------+---------------+---+-------------+---------------+ | ldrType | LdrType | O | 0..1 | The type of | | | | | | LDR | +---------------+---------------+---+-------------+---------------+ | hgm | Uri | C | 0..1 | Callback URI | | lcCallBackURI | | | | of the H-GMLC | | | | | | | | | | | | It shall be | | | | | | present, if | | | | | | attribute | | | | | | LdrType is | | | | | | present. | +---------------+---------------+---+-------------+---------------+ | vgmlcAddress | Uri | C | 0..1 | V-GMLC | | | | | | address that | | | | | | corresponds | | | | | | to the V-GMLC | | | | | | that receives | | | | | | Location | | | | | | Request | | | | | | | | | | | | It shall be | | | | | | present, if | | | | | | attribute | | | | | | LdrType is | | | | | | present and | | | | | | the target UE | | | | | | is in roaming | | | | | | case. | +---------------+---------------+---+-------------+---------------+ | ldrReference | LdrReference | C | 0..1 | LDR Reference | | | | | | Number | | | | | | | | | | | | It shall be | | | | | | present, if | | | | | | attribute | | | | | | LdrType is | | | | | | present. | +---------------+---------------+---+-------------+---------------+ | peri | Peri | C | 0..1 | Information | | odicEventInfo | odicEventInfo | | | for periodic | | | | | | event | | | | | | reporting | +---------------+---------------+---+-------------+---------------+ | areaEventInfo | AreaEventInfo | C | 0..1 | Information | | | | | | for area | | | | | | event | | | | | | reporting | +---------------+---------------+---+-------------+---------------+ | mo | Mo | C | 0..1 | Information | | tionEventInfo | tionEventInfo | | | for motion | | | | | | event | | | | | | reporting | +---------------+---------------+---+-------------+---------------+ | reporti | array(Reporti | O | 1..N | Allowed | | ngAccessTypes | ngAccessType) | | | access types | | | | | | for event | | | | | | reporting | +---------------+---------------+---+-------------+---------------+ | ueConne | array(UeConne | O | 1..N | When present, | | ctivityStates | ctivityState) | | | this IE shall | | | | | | indicate the | | | | | | UE | | | | | | connectivity | | | | | | state per | | | | | | access type | +---------------+---------------+---+-------------+---------------+ | ueLocat | UeLocat | C | 0..1 | If UE sends | | ionServiceInd | ionServiceInd | | | an MO-LR | | | | | | Request | | | | | | message, this | | | | | | IE shall be | | | | | | present and | | | | | | indicate the | | | | | | request type | | | | | | for a | | | | | | 5GC-MO-LR. | +---------------+---------------+---+-------------+---------------+ | lppMessage | Re | C | 0..1 | If UE | | | fToBinaryData | | | includes the | | | | | | LPP message | | | | | | in MO-LR | | | | | | Request, this | | | | | | IE shall be | | | | | | present and | | | | | | Indicate the | | | | | | binary data | | | | | | of LPP | | | | | | message. | +---------------+---------------+---+-------------+---------------+ | supp | Supp | C | 0..1 | This IE shall | | ortedFeatures | ortedFeatures | | | be present if | | | | | | at least one | | | | | | optional | | | | | | feature | | | | | | defined in | | | | | | clause 6.1.9 | | | | | | is supported. | +---------------+---------------+---+-------------+---------------+ | NOTE 1: At | | | | | | least one of | | | | | | the | | | | | | attributes | | | | | | defined in | | | | | | this table | | | | | | shall be | | | | | | present in | | | | | | the InputData | | | | | | structure. | | | | | | | | | | | | NOTE 2: | | | | | | Attribute | | | | | | \"ecgi\" and | | | | | | \"ncgi\" | | | | | | shall not be | | | | | | present at | | | | | | the same | | | | | | time. | | | | | | | | | | | | NOTE 3: | | | | | | Attribute | | | | | | \"ecgiO | | | | | | nSecondNode\" | | | | | | and | | | | | | \"ncgiO | | | | | | nSecondNode\" | | | | | | shall not be | | | | | | present at | | | | | | the same | | | | | | time. | | | | | | | | | | | | NOTE 4: | | | | | | Attribute | | | | | | \"ecgiO | | | | | | nSecondNode\" | | | | | | or | | | | | | \"ncgiO | | | | | | nSecondNode\" | | | | | | shall not be | | | | | | present if | | | | | | neither | | | | | | attribute | | | | | | \"ecgi\" nor | | | | | | \"ncgi\" is | | | | | | present. | | | | | +---------------+---------------+---+-------------+---------------+
##### 6.1.6.2.3 Type: LocationData
Table 6.1.6.2.3-1: Definition of type LocationData
Attribute name Data type P Cardinality Description
* * *
locationEstimate GeographicArea M 1 For a request for triggered location where
location estimates are not required, the location estimate can be based on
current serving cell. accuracyFulfilmentIndicator AccuracyFulfilmentIndicator
O 0..1 When present, this IE shall indicate fulfilment of required accuracy.
ageOfLocationEstimate AgeOfLocationEstimate O 0..1 When present, this IE shall
indicate age of the location estimate. velocityEstimate VelocityEstimate O
0..1 When present, this IE shall indicate velocity estimate. civicAddress
CivicAddress O 0..1 When present, this IE shall indicate a civic address.
positioningDataList array(PositioningMethodAndUsage) O 1..N When present, this
IE shall include a list of data related to positioning methods.
gnssPositioningDataList array(GnssPositioningMethodAndUsage) O 1..N When
present, this IE shall include a list of data related to GNSS positioning
methods. ecgi Ecgi O 0..1 When present, this IE shall indicate the ID of the
E-UTRAN cell serving the UE. ncgi Ncgi O 0..1 When present, this IE shall
indicate the ID of the NR cell serving the UE. altitude Altitude O 0..1
Altitude of the positioning estimate. When the shape used in
\"locationEstimate\" supports conveying the altitude parameter, this IE shall
be absent. barometricPressure BarometricPressure O 0..1 If present, this IE
contains the barometric pressure measurement as reported by the target UE.
servingLMFidentification LMFIdentification O 0..1 When present, this IE shall
indicate the identity of the serving LMF
##### 6.1.6.2.4 Type: GeographicalCoordinates
Table 6.1.6.2.4-1: Definition of type GeographicalCoordinates
+----------------+-----------+---+-------------+-----------------+ | Attribute name | Data type | P | Cardinality | Description | +================+===========+===+=============+=================+ | lon | number | M | 1 | Longitude | | | | | | (D | | | | | | ouble-precision | | | | | | float value): | | | | | | | | | | | | Format: double | | | | | | | | | | | | Minimum: -180 | | | | | | | | | | | | Maximum: 180 | +----------------+-----------+---+-------------+-----------------+ | lat | number | M | 1 | Latitude | | | | | | (D | | | | | | ouble-precision | | | | | | float value): | | | | | | | | | | | | Format: double | | | | | | | | | | | | Minimum: -90 | | | | | | | | | | | | Maximum: 90 | +----------------+-----------+---+-------------+-----------------+
##### 6.1.6.2.5 Type: GeographicArea
Table 6.1.6.2.5-1: Definition of type GeographicArea as a list of mutually
exclusive alternatives
Data type Cardinality Discriminator property name Discriminator mapping
Description
* * *
Point 1 shape POINT Geographical area consisting of a single point,
represented by its longitude and latitude. PointUncertaintyCircle 1 shape
POINT_UNCERTAINTY_CIRCLE Geographical area consisting of a point and an
uncertainty value. PointUncertaintyEllipse 1 shape POINT_UNCERTAINTY_ELLIPSE
Geographical area consisting of a point, plus an uncertainty ellipse and a
confidence value. Polygon 1 shape POLYGON Geographical area consisting of a
list of points (between 3 to 15 points). PointAltitude 1 shape POINT_ALTITUDE
Geographical area consisting of a point and an altitude value.
PointAltitudeUncertainty 1 shape POINT_ALTITUDE_UNCERTAINTY Geographical area
consisting of a point, an altitude value and an uncertainty value.
EllipsoidArc 1 shape ELLIPSOID_ARC Geographical are consisting of an ellipsoid
arc. NOTE: The \"anyOf\" keyword (instead of \"oneOf\" keyword which is
normally used for mutually exclusive alternatives) is used for GeographicArea
type in yaml file to avoid validation failure of OpenAPI. According to current
definition, a PointUncertaintyCircle object will always pass the validation
with both PointUncertaintyCircle and Point, which fails the qualification of
\"oneOf\" keyword.
##### 6.1.6.2.6 Type: Point
Table 6.1.6.2.6-1: Definition of type Point
Attribute name Data type P Cardinality Description
* * *
shape SupportedGADShapes M 1 It shall take the value \"POINT\". point
GeographicalCoordinates M 1 Indicates a geographic point represented by its
longitude and latitude.
##### 6.1.6.2.7 Type: PointUncertaintyCircle
Table 6.1.6.2.7-1: Definition of type PointUncertaintyCircle
Attribute name Data type P Cardinality Description
* * *
shape SupportedGADShapes M 1 It shall take the value
\"POINT_UNCERTAINTY_CIRCLE\". point GeographicalCoordinates M 1 Indicates a
geographic point represented by its longitude and latitude. uncertainty
Uncertainty M 1 Indicates the uncertainty value.
##### 6.1.6.2.8 Type: PointUncertaintyEllipse
Table 6.1.6.2.8-1: Definition of type PointUncertaintyEllipse
Attribute name Data type P Cardinality Description
* * *
shape SupportedGADShapes M 1 It shall take the value
\"POINT_UNCERTAINTY_ELLIPSE\". point GeographicalCoordinates M 1 Indicates a
geographic point represented by its longitude and latitude. uncertaintyEllipse
UncertaintyEllipse M 1 Indicates an uncertainty ellipse. confidence Confidence
M 1 Indicates the value of confidence.
##### 6.1.6.2.9 Type: Polygon
Table 6.1.6.2.9-1: Definition of type Polygon
Attribute name Data type P Cardinality Description
* * *
shape SupportedGADShapes M 1 It shall take the value \"POLYGON\". pointList
array(GeographicalCoordinates) M 3..15 Array with up to15 items, where each
item is a \"point\".
##### 6.1.6.2.10 Type: PointAltitude
Table 6.1.6.2.10-1: Definition of type PointAltitude
Attribute name Data type P Cardinality Description
* * *
shape SupportedGADShapes M 1 It shall take the value \"POINT_ALTITUDE\". point
GeographicalCoordinates M 1 Indicates a geographic point represented by its
longitude and latitude. altitude Altitude M 1 Indicates the value of altitude.
##### 6.1.6.2.11 Type: PointAltitudeUncertainty
Table 6.1.6.2.11-1: Definition of type PointAltitudeUncertainty
Attribute name Data type P Cardinality Description
* * *
shape SupportedGADShapes M 1 It shall take the value
\"POINT_ALTITUDE_UNCERTAINTY\". point GeographicalCoordinates M 1 Indicates a
geographic point represented by its longitude and latitude. altitude Altitude
M 1 Indicates the value of altitude. uncertaintyEllipse UncertaintyEllipse M 1
Indicates the uncertainty ellipse uncertaintyAltitude Uncertainty M 1
Indicates the uncertainty of the altitude. confidence Confidence M 1 Indicates
the value of confidence.
##### 6.1.6.2.12 Type: EllipsoidArc
Table 6.1.6.2.12-1: Definition of type EllipsoidArc
Attribute name Data type P Cardinality Description
* * *
shape SupportedGADShapes M 1 It shall take the value \"ELLIPSOID_ARC\". point
GeographicalCoordinates M 1 Indicates a geographic point represented by its
longitude and latitude. innerRadius InnerRadius M 1 Indicates the value of
inner radius of the Ellipsoid Arc. uncertaintyRadius Uncertainty M 1 Indicates
the uncertainty radius of the Ellipsoid Arc. offsetAngle Angle M 1 Indicates
the offset angle of the Ellipsoid Arc. includedAngle Angle M 1 Indicates the
included angle of the Ellipsoid Arc. confidence Confidence M 1 Indicates the
value of confidence.
##### 6.1.6.2.13 Type: LocationQoS
Table 6.1.6.2.13-1: Definition of type LocationQoS
+---------------+--------------+---+-------------+---------------+ | Attribute | Data type | P | Cardinality | Description | | name | | | | | +===============+==============+===+=============+===============+ | hAccuracy | Accuracy | O | 0..1 | Horizontal | | | | | | accuracy | +---------------+--------------+---+-------------+---------------+ | vAccuracy | Accuracy | O | 0..1 | Vertical | | | | | | accuracy | +---------------+--------------+---+-------------+---------------+ | vertRequested | boolean | O | 0..1 | Vertical | | | | | | accuracy | | | | | | requested | | | | | | (yes/no) | +---------------+--------------+---+-------------+---------------+ | responseTime | ResponseTime | O | 0..1 | No delay, Low | | | | | | delay or | | | | | | Delay | | | | | | tolerant | +---------------+--------------+---+-------------+---------------+ | lcsQosClass | LcsQosClass | C | 0..1 | LCS QoS | | | | | | Class, see | | | | | | clause 4.1b | | | | | | of | | | | | | 3GPP TS 2 | | | | | | 3.273 [19]. | | | | | | | | | | | | This IE shall | | | | | | be absent if | | | | | | neither | | | | | | hAccuracy nor | | | | | | vAccuracy is | | | | | | included. | +---------------+--------------+---+-------------+---------------+
##### 6.1.6.2.14 Type: CivicAddress
Table 6.1.6.2.14-1: Definition of type CivicAddress
+----------------+-----------+---+-------------+-----------------+ | Attribute name | Data type | P | Cardinality | Description | +================+===========+===+=============+=================+ | country | string | M | 1 | The two-letter | | | | | | ISO 3166 | | | | | | country code in | | | | | | capital ASCII | | | | | | letters, e.g., | | | | | | DE or US | | | | | | | | | | | | IETF RFC | | | | | | 4776 [6] | +----------------+-----------+---+-------------+-----------------+ | A1 | string | O | 0..1 | National | | | | | | subdivisions | | | | | | (state, canton, | | | | | | region, | | | | | | province, | | | | | | prefecture) | | | | | | | | | | | | IETF RFC | | | | | | 4776 [6] | +----------------+-----------+---+-------------+-----------------+ | A2 | string | O | 0..1 | County, parish, | | | | | | gun (JP), | | | | | | district (IN) | | | | | | | | | | | | IETF RFC | | | | | | 4776 [6] | +----------------+-----------+---+-------------+-----------------+ | A3 | string | O | 0..1 | City, township, | | | | | | shi (JP) | | | | | | | | | | | | IETF RFC | | | | | | 4776 [6] | +----------------+-----------+---+-------------+-----------------+ | A4 | string | O | 0..1 | City division, | | | | | | borough, city | | | | | | district, ward, | | | | | | chou (JP) | | | | | | | | | | | | IETF RFC | | | | | | 4776 [6] | +----------------+-----------+---+-------------+-----------------+ | A5 | string | O | 0..1 | Neighbourhood, | | | | | | block | | | | | | | | | | | | IETF RFC | | | | | | 4776 [6] | +----------------+-----------+---+-------------+-----------------+ | A6 | string | O | 0..1 | Group of | | | | | | streets below | | | | | | the | | | | | | neighbourhood | | | | | | level | | | | | | | | | | | | IETF RFC | | | | | | 4776 [6] | +----------------+-----------+---+-------------+-----------------+ | PRD | string | O | 0..1 | Leading street | | | | | | direction | | | | | | | | | | | | IETF RFC | | | | | | 4776 [6] | +----------------+-----------+---+-------------+-----------------+ | POD | string | O | 0..1 | Trailing street | | | | | | suffix | | | | | | | | | | | | IETF RFC | | | | | | 4776 [6] | +----------------+-----------+---+-------------+-----------------+ | STS | string | O | 0..1 | Street suffix | | | | | | or type | | | | | | | | | | | | IETF RFC | | | | | | 4776 [6] | +----------------+-----------+---+-------------+-----------------+ | HNO | string | O | 0..1 | House number | | | | | | | | | | | | IETF RFC | | | | | | 4776 [6] | +----------------+-----------+---+-------------+-----------------+ | HNS | string | O | 0..1 | House number | | | | | | suffix | | | | | | | | | | | | IETF RFC | | | | | | 4776 [6] | +----------------+-----------+---+-------------+-----------------+ | LMK | string | O | 0..1 | Landmark or | | | | | | vanity address | | | | | | | | | | | | IETF RFC | | | | | | 4776 [6] | +----------------+-----------+---+-------------+-----------------+ | LOC | string | O | 0..1 | Additional | | | | | | location | | | | | | information | | | | | | | | | | | | IETF RFC | | | | | | 4776 [6] | +----------------+-----------+---+-------------+-----------------+ | NAM | string | O | 0..1 | Name (residence | | | | | | and office | | | | | | occupant) | | | | | | | | | | | | IETF RFC | | | | | | 4776 [6] | +----------------+-----------+---+-------------+-----------------+ | PC | string | O | 0..1 | Postal/zip code | | | | | | | | | | | | IETF RFC | | | | | | 4776 [6] | +----------------+-----------+---+-------------+-----------------+ | BLD | string | O | 0..1 | Building | | | | | | (structure) | | | | | | | | | | | | IETF | | | | | | RFC 5139 [7] | +----------------+-----------+---+-------------+-----------------+ | UNIT | string | O | 0..1 | Unit | | | | | | (apartment, | | | | | | suite) | | | | | | | | | | | | IETF | | | | | | RFC 5139 [7] | +----------------+-----------+---+-------------+-----------------+ | FLR | string | O | 0..1 | Floor | | | | | | | | | | | | IETF RFC | | | | | | 4776 [6] | +----------------+-----------+---+-------------+-----------------+ | ROOM | string | O | 0..1 | Room | | | | | | | | | | | | IETF | | | | | | RFC 5139 [7] | +----------------+-----------+---+-------------+-----------------+ | PLC | string | O | 0..1 | Place-type | | | | | | | | | | | | IETF | | | | | | RFC 5139 [7] | +----------------+-----------+---+-------------+-----------------+ | PCN | string | O | 0..1 | Postal | | | | | | community name | | | | | | | | | | | | IETF | | | | | | RFC 5139 [7] | +----------------+-----------+---+-------------+-----------------+ | POBOX | string | O | 0..1 | Post office box | | | | | | (P.O. box) | | | | | | | | | | | | IETF | | | | | | RFC 5139 [7] | +----------------+-----------+---+-------------+-----------------+ | ADDCODE | string | O | 0..1 | Additional code | | | | | | | | | | | | IETF | | | | | | RFC 5139 [7] | +----------------+-----------+---+-------------+-----------------+ | SEAT | string | O | 0..1 | Seat (desk, | | | | | | cubicle, | | | | | | workstation) | | | | | | | | | | | | IETF | | | | | | RFC 5139 [7] | +----------------+-----------+---+-------------+-----------------+ | RD | string | O | 0..1 | Primary road or | | | | | | street | | | | | | | | | | | | IETF | | | | | | RFC 5139 [7] | +----------------+-----------+---+-------------+-----------------+ | RDSEC | string | O | 0..1 | Road clause | | | | | | | | | | | | IETF | | | | | | RFC 5139 [7] | +----------------+-----------+---+-------------+-----------------+ | RDBR | string | O | 0..1 | Road branch | | | | | | | | | | | | IETF | | | | | | RFC 5139 [7] | +----------------+-----------+---+-------------+-----------------+ | RDSUBBR | string | O | 0..1 | Road sub-branch | | | | | | | | | | | | IETF | | | | | | RFC 5139 [7] | +----------------+-----------+---+-------------+-----------------+ | PRM | string | O | 0..1 | Road | | | | | | pre-modifier | | | | | | | | | | | | IETF | | | | | | RFC 5139 [7] | +----------------+-----------+---+-------------+-----------------+ | POM | string | O | 0..1 | Road | | | | | | post-modifier | | | | | | | | | | | | IETF | | | | | | RFC 5139 [7] | +----------------+-----------+---+-------------+-----------------+ | usageRules | string | O | 0..1 | When present, | | | | | | this IE shall | | | | | | carry the value | | | | | | of | | | | | | \"usage-rules\" | | | | | | Element of the | | | | | | PIDL-LO XML | | | | | | document, with | | | | | | UTF-8 encoding. | | | | | | | | | | | | IETF | | | | | | RFC 4119 [25] | +----------------+-----------+---+-------------+-----------------+ | method | string | O | 0..1 | When present, | | | | | | this IE shall | | | | | | contain the | | | | | | method token, | | | | | | carried by the | | | | | | \"method\" | | | | | | Element of the | | | | | | PIDL-LO XML | | | | | | document. | | | | | | | | | | | | IETF | | | | | | RFC 4119 [25] | +----------------+-----------+---+-------------+-----------------+ | providedBy | string | O | 0..1 | When present, | | | | | | this IE shall | | | | | | carry the value | | | | | | of | | | | | | \"provided-by\" | | | | | | Element of the | | | | | | PIDL-LO XML | | | | | | document, with | | | | | | UTF-8 encoding. | | | | | | | | | | | | IETF | | | | | | RFC 4119 [25] | +----------------+-----------+---+-------------+-----------------+
EXAMPLE: The above structure follows the same label naming as in the XML
schema shown in IETF RFC 5139 [7]. The same example shown in XML in that RFC,
in clause 5, would be equivalent to the following JSON document:
> {
>
> \"country\": \"AU\",
>
> \"A1\": \"NSW\",
>
> \"A3\": \"Wollongong\",
>
> \"A4\": \"North Wollongong\",
>
> \"RD\": \"Flinders\",
>
> \"STS\": \"Street\",
>
> \"RDBR\": \"Campbell Street\",
>
> \"LMK\": \"Gilligan\'s Island\",
>
> \"LOC\": \"Corner\",
>
> \"NAM\": \"Video Rental Store\",
>
> \"PC\": \"2500\",
>
> \"ROOM\": \"Westerns and Classics\",
>
> \"PLC\": \"store\",
>
> \"POBOX\": \"Private Box 15\"
>
> }
##### 6.1.6.2.15 Type: PositioningMethodAndUsage
Table 6.1.6.2.15-1: Definition of type PositioningMethodAndUsage
+---------------+---------------+---+-------------+---------------+ | Attribute | Data type | P | Cardinality | Description | | name | | | | | +===============+===============+===+=============+===============+ | method | Posi | M | 1 | Indicates the | | | tioningMethod | | | related | | | | | | positioning | | | | | | method | +---------------+---------------+---+-------------+---------------+ | mode | Po | M | 1 | Indicates the | | | sitioningMode | | | mode of the | | | | | | location | | | | | | measurement | | | | | | from the | | | | | | related | | | | | | positioning | | | | | | method. | +---------------+---------------+---+-------------+---------------+ | usage | Usage | M | 1 | Indicates the | | | | | | usage of the | | | | | | location | | | | | | measurement | | | | | | from the | | | | | | related | | | | | | positioning | | | | | | method. | +---------------+---------------+---+-------------+---------------+ | methodCode | integer | C | 0..1 | This IE shall | | | | | | be present | | | | | | when the | | | | | | _method_ IE | | | | | | is with value | | | | | | \"NETWORK | | | | | | _SPECIFIC\". | | | | | | | | | | | | When present, | | | | | | this IE shall | | | | | | carry the | | | | | | code value of | | | | | | the network | | | | | | specific | | | | | | positioning | | | | | | method in | | | | | | decimal which | | | | | | encodes the | | | | | | binary value | | | | | | \"10000 to | | | | | | 11111\" (bits | | | | | | 8-4 of | | | | | | \ | | | | | | "_Positioning | | | | | | Method and | | | | | | Usage_ \" IE | | | | | | within | | | | | | \ | | | | | | "_Positioning | | | | | | Data_ \" | | | | | | parameter, as | | | | | | specified in | | | | | | clause 7.4.13 | | | | | | of | | | | | | 3GPP TS 29 | | | | | | .171 [24].) | | | | | | | | | | | | Minimum: 16 | | | | | | | | | | | | Maximum: 31 | +---------------+---------------+---+-------------+---------------+
##### 6.1.6.2.16 Type: GnssPositioningMethodAndUsage
Table 6.1.6.2.16-1: Definition of type GnssPositioningMethodAndUsage
Attribute name Data type P Cardinality Description
* * *
mode PositioningMode M 1 Indicates the mode of location measurement from the
related GNSS positioning method. gnss GnssId M 1 Indicates the related GNSS
positioning method usage Usage M 1 Indicates the usage of the location
measurement from related GNSS positioning method.
##### 6.1.6.2.17 Type: VelocityEstimate
Table 6.1.6.2.17-1: Definition of type VelocityEstimate as a list of mutually
exclusive alternatives
Data type Cardinality Description
* * *
HorizontalVelocity 1 Velocity estimate including horizontal speed and bearing.
HorizontalWithVerticalVelocity 1 Velocity estimate including horizontal speed
and bearing, and also vertical speed and vertical direction.
HorizontalVelocityWithUncertainty 1 Velocity estimate including horizontal
speed and bearing; it also includes an uncertainty value.
HorizontalWithVerticalVelocityAndUncertainty 1 Velocity estimate including
horizontal speed and bearing, and also vertical speed and vertical direction;
it also includes uncertainty value for horizontal and vertical speeds.
##### 6.1.6.2.18 Type: HorizontalVelocity
Table 6.1.6.2.18-1: Definition of type HorizontalVelocity
Attribute name Data type P Cardinality Description
* * *
hSpeed HorizontalSpeed M 1 Horizontal speed in kilometres per hour. bearing
Angle M 1 Bearing angle in degrees, measured clockwise from North.
##### 6.1.6.2.19 Type: HorizontalWithVerticalVelocity
Table 6.1.6.2.19-1: Definition of type HorizontalWithVerticalVelocity
Attribute name Data type P Cardinality Description
* * *
hSpeed HorizontalSpeed M 1 Horizontal speed in kilometres per hour. bearing
Angle M 1 Bearing angel in degrees, measured clockwise from North. vSpeed
VerticalSpeed M 1 Vertical Seed in kilometres per hour. vDirection
VerticalDirection M 1 Vertical Direction: upward or downward.
##### 6.1.6.2.20 Type: HorizontalVelocityWithUncertainty
Table 6.1.6.2.20-1: Definition of type HorizontalVelocityWithUncertainty
Attribute name Data type P Cardinality Description
* * *
hSpeed HorizontalSpeed M 1 Speed in kilometres per hour. bearing Angle M 1
Bearing angel in degrees, measured clockwise from North. uncertainty
SpeedUncertainty M 1 Uncertainty of horizontal speed in kilometres per hour.
##### 6.1.6.2.21 Type: HorizontalWithVerticalVelocityAndUncertainty
Table 6.1.6.2.21-1: Definition of type
HorizontalWithVerticalVelocityAndUncertainty
Attribute name Data type P Cardinality Description
* * *
hspeed HorizontalSpeed M 1 Speed in kilometres per hour. bearing Angle M 1
Bearing angel in degrees, measured clockwise from North. vSpeed VerticalSpeed
M 1 Vertical Seed in kilometres per hour. vDirection VerticalDirection M 1
Vertical Direction: upwards or downwards. hUncertainty SpeedUncertainty M 1
Uncertainty of horizontal speed in kilometres per hour. vUncertainty
SpeedUncertainty M 1 Uncertainty of vertical speed in kilometres per hour.
##### 6.1.6.2.22 Type: UncertaintyEllipse
Table 6.1.6.2.22-1: Definition of type UncertaintyEllipse
Attribute name Data type P Cardinality Description
* * *
semiMajor Uncertainty M 1 Indicates the semi-major axis of the uncertainty
ellipse. semiMinor Uncertainty M 1 Indicates the semi-minor axis of the
uncertainty ellipse. orientationMajor Orientation M 1 Indicates the
orientation angle of the major axis.
##### 6.1.6.2.23 Type: UeLcsCapability
Table 6.1.6.2.23-1: Definition of type UeLcsCapability
+-----------------+-----------+---+-------------+-----------------+ | Attribute name | Data type | P | Cardinality | Description | +-----------------+-----------+---+-------------+-----------------+ | lppSupport | boolean | O | 0..1 | Indicates | | | | | | whether the UE | | | | | | supports LPP or | | | | | | not. | | | | | | | | | | | | - true | | | | | | (default): LPP | | | | | | supported by | | | | | | the UE | | | | | | | | | | | | - false: LPP | | | | | | not supported | | | | | | by the UE | +-----------------+-----------+---+-------------+-----------------+ | c | boolean | O | 0..1 | Indicates | | iotOptimisation | | | | whether the UE | | | | | | supports and is | | | | | | allowed to use | | | | | | Control Plane | | | | | | CIoT 5GS | | | | | | Optimisation to | | | | | | send an event | | | | | | report for | | | | | | periodic or | | | | | | triggered | | | | | | location or | | | | | | not. Refer to | | | | | | 3GPP T | | | | | | S 23.273 [19] | | | | | | clause 6.7 for | | | | | | more detail. | | | | | | | | | | | | - true: | | | | | | Control Plane | | | | | | CIoT 5GS | | | | | | Optimisation is | | | | | | supported by | | | | | | the UE and | | | | | | allowed | | | | | | | | | | | | - false | | | | | | (default): | | | | | | Control Plane | | | | | | CIoT 5GS | | | | | | Optimisation | | | | | | not supported | | | | | | by the UE or | | | | | | not allowed | +-----------------+-----------+---+-------------+-----------------+
##### 6.1.6.2.24 Type: PeriodicEventInfo
Table 6.1.6.2.24-1: Definition of type PeriodicEventInfo
Attribute name Data type P Cardinality Description
* * *
reportingAmount ReportingAmount M 1 Number of event reports reportingInterval
ReportingInterval M 1 Interval of event reports NOTE: reportingAmount x
reportingInterval shall not exceed 8639999 (99 days, 23 hours, 59 minutes and
59 seconds) for compatibility with OMA MLP and RLP.
##### 6.1.6.2.25 Type: AreaEventInfo
Table 6.1.6.2.25-1: Definition of type AreaEventInfo
+---------------+---------------+---+-------------+---------------+ | Attribute | Data type | P | Cardinality | Description | | name | | | | | +===============+===============+===+=============+===============+ | a | array(R | M | 1..250 | One or more | | reaDefinition | eportingArea) | | | reporting | | | | | | areas | +---------------+---------------+---+-------------+---------------+ | o | O | O | 0..1 | One time only | | ccurrenceInfo | ccurrenceInfo | | | report | | | | | | indication | +---------------+---------------+---+-------------+---------------+ | mi | Mi | C | 0..1 | Minimum | | nimumInterval | nimumInterval | | | interval | | | | | | between event | | | | | | reports. | | | | | | | | | | | | This IE shall | | | | | | not be | | | | | | included if | | | | | | o | | | | | | ccurrenceInfo | | | | | | is present | | | | | | and set to | | | | | | one time | | | | | | event. | +---------------+---------------+---+-------------+---------------+ | ma | Ma | C | 0..1 | Maximum | | ximumInterval | ximumInterval | | | interval | | | | | | between event | | | | | | reports. | | | | | | | | | | | | This IE shall | | | | | | not be | | | | | | included if | | | | | | o | | | | | | ccurrenceInfo | | | | | | is present | | | | | | and set to | | | | | | one time | | | | | | event. | +---------------+---------------+---+-------------+---------------+ | sam | Sam | O | 0..1 | Maximum time | | plingInterval | plingInterval | | | interval | | | | | | between | | | | | | consecutive | | | | | | evaluations | | | | | | by a UE of a | | | | | | trigger | | | | | | event. | +---------------+---------------+---+-------------+---------------+ | repo | Repo | O | 0..1 | Maximum | | rtingDuration | rtingDuration | | | duration of | | | | | | event | | | | | | reporting. | +---------------+---------------+---+-------------+---------------+ | reporti | boolean | C | 0..1 | This IE shall | | ngLocationReq | | | | be present | | | | | | and set to | | | | | | true if a | | | | | | location | | | | | | estimate is | | | | | | required for | | | | | | each event | | | | | | report. | +---------------+---------------+---+-------------+---------------+
##### 6.1.6.2.26 Type: ReportingArea
Table 6.1.6.2.26-1: Definition of type ReportingArea
+---------------+---------------+---+-------------+---------------+ | Attribute | Data type | P | Cardinality | Description | | name | | | | | +===============+===============+===+=============+===============+ | areaType | Repo | M | 1 | Type of | | | rtingAreaType | | | reporting | | | | | | area. | +---------------+---------------+---+-------------+---------------+ | tai | Tai | C | 1 | TAI for EPS | | | | | | or 5GS. | | | | | | | | | | | | This IE shall | | | | | | be present if | | | | | | the reporting | | | | | | area type is | | | | | | EPS TAI or | | | | | | 5GS TAI. | +---------------+---------------+---+-------------+---------------+ | ecgi | Ecgi | C | 1 | ECGI. | | | | | | | | | | | | This IE shall | | | | | | be present if | | | | | | the reporting | | | | | | area type is | | | | | | ECGI. | +---------------+---------------+---+-------------+---------------+ | ncgi | Ncgi | C | 1 | NCGI. | | | | | | | | | | | | This IE shall | | | | | | be present if | | | | | | the reporting | | | | | | area type is | | | | | | NCGI. | +---------------+---------------+---+-------------+---------------+ | NOTE: One of | | | | | | tai, ecgi or | | | | | | ncgi shall be | | | | | | included. | | | | | +---------------+---------------+---+-------------+---------------+
##### 6.1.6.2.27 Type: MotionEventInfo
Table 6.1.6.2.27-1: Definition of type MotionEventInfo
+---------------+---------------+---+-------------+---------------+ | Attribute | Data type | P | Cardinality | Description | | name | | | | | +===============+===============+===+=============+===============+ | l | L | M | 1 | Minimum | | inearDistance | inearDistance | | | linear | | | | | | (straight | | | | | | line) | | | | | | distance for | | | | | | motion event | | | | | | reports. | +---------------+---------------+---+-------------+---------------+ | o | O | O | 0..1 | One time only | | ccurrenceInfo | ccurrenceInfo | | | report | | | | | | indication | +---------------+---------------+---+-------------+---------------+ | mi | Mi | C | 0..1 | Minimum | | nimumInterval | nimumInterval | | | interval | | | | | | between event | | | | | | reports. | | | | | | | | | | | | This IE shall | | | | | | not be | | | | | | included if | | | | | | o | | | | | | ccurrenceInfo | | | | | | is present | | | | | | and set to | | | | | | one time | | | | | | event. | +---------------+---------------+---+-------------+---------------+ | ma | Ma | C | 0..1 | Maximum | | ximumInterval | ximumInterval | | | interval | | | | | | between event | | | | | | reports. | | | | | | | | | | | | This IE shall | | | | | | not be | | | | | | included if | | | | | | o | | | | | | ccurrenceInfo | | | | | | is present | | | | | | and set to | | | | | | one time | | | | | | event. | +---------------+---------------+---+-------------+---------------+ | sam | Sam | O | 0..1 | Maximum time | | plingInterval | plingInterval | | | interval | | | | | | between | | | | | | consecutive | | | | | | evaluations | | | | | | by a UE of a | | | | | | trigger | | | | | | event. | +---------------+---------------+---+-------------+---------------+ | repo | Repo | O | 0..1 | Maximum | | rtingDuration | rtingDuration | | | duration of | | | | | | event | | | | | | reporting. | +---------------+---------------+---+-------------+---------------+ | reporti | boolean | C | 0..1 | This IE shall | | ngLocationReq | | | | be present | | | | | | and set to | | | | | | true if a | | | | | | location | | | | | | estimate is | | | | | | required for | | | | | | each event | | | | | | report. | +---------------+---------------+---+-------------+---------------+
##### 6.1.6.2.28 Void
##### 6.1.6.2.29 Type: CancelLocData
Table 6.1.6.2.29-1: Definition of type CancelLocData
Attribute name Data type P Cardinality Description
* * *
hgmlcCallBackURI Uri M 1 Callback URI of the H-GMLC ldrReference LdrReference
M 1 LDR Reference supportedFeatures SupportedFeatures C 0..1 This IE shall be
present if at least one optional feature defined in clause 6.1.9 is supported.
##### 6.1.6.2.30 Type: LocContextData
Table 6.1.6.2.30-1: Definition of type LocContextData
+---------------+---------------+---+-------------+---------------+ | Attribute | Data type | P | Cardinality | Description | | name | | | | | +===============+===============+===+=============+===============+ | amfId | NfInstanceId | M | 1 | Indicates the | | | | | | AMF Instance | | | | | | serving the | | | | | | UE. LMF shall | | | | | | use the AMF | | | | | | Instance to | | | | | | forward LCS | | | | | | related N1/N2 | | | | | | messages to | | | | | | the UE/RAN. | +---------------+---------------+---+-------------+---------------+ | locationQoS | LocationQoS | C | 0..1 | This IE shall | | | | | | contain the | | | | | | location QoS | | | | | | if available. | +---------------+---------------+---+-------------+---------------+ | suppo | array(Suppor | C | 0..N | This IE shall | | rtedGADShapes | tedGADShapes) | | | contain the | | | | | | supported GAD | | | | | | shapes if | | | | | | available. | +---------------+---------------+---+-------------+---------------+ | supi | Supi | C | 0..1 | This IE shall | | | | | | contain the | | | | | | SUPI if | | | | | | available. | +---------------+---------------+---+-------------+---------------+ | gpsi | Gpsi | C | 0..1 | This IE shall | | | | | | contain the | | | | | | GPSI if | | | | | | available. | +---------------+---------------+---+-------------+---------------+ | ldrType | LdrType | M | 1 | The type of | | | | | | LDR | +---------------+---------------+---+-------------+---------------+ | hgm | Uri | M | 1 | Callback URI | | lcCallBackURI | | | | of the H-GMLC | +---------------+---------------+---+-------------+---------------+ | ldrReference | LdrReference | M | 1 | LDR Reference | +---------------+---------------+---+-------------+---------------+ | peri | Peri | C | 0..1 | Information | | odicEventInfo | odicEventInfo | | | for periodic | | | | | | event | | | | | | reporting | +---------------+---------------+---+-------------+---------------+ | areaEventInfo | AreaEventInfo | C | 0..1 | Information | | | | | | for area | | | | | | event | | | | | | reporting | +---------------+---------------+---+-------------+---------------+ | mo | Mo | C | 0..1 | Information | | tionEventInfo | tionEventInfo | | | for motion | | | | | | event | | | | | | reporting | +---------------+---------------+---+-------------+---------------+ | event | Event | M | 1 | Contains an | | ReportMessage | ReportMessage | | | embedded | | | | | | event report | +---------------+---------------+---+-------------+---------------+ | eventRe | EventRe | O | 0..1 | Status of | | portingStatus | portingStatus | | | event | | | | | | reporting | +---------------+---------------+---+-------------+---------------+ | u | U | O | 0..1 | Location | | eLocationInfo | ELocationInfo | | | information | | | | | | for the | | | | | | target UE | +---------------+---------------+---+-------------+---------------+ | cIoT5G | boolean | C | 0..1 | This IE shall | | SOptimisation | | | | be present if | | | | | | it was | | | | | | received from | | | | | | AMF. When | | | | | | present, it | | | | | | shall be set | | | | | | as follows: | | | | | | | | | | | | - true: | | | | | | Control Plane | | | | | | CIoT 5GS | | | | | | Optimisation | | | | | | was used and | | | | | | no signalling | | | | | | or data is | | | | | | currently | | | | | | pending for | | | | | | the UE at the | | | | | | AMF. | | | | | | | | | | | | - false | | | | | | (default): | | | | | | Control Plane | | | | | | CIoT 5GS | | | | | | Optimisation | | | | | | was not used | | | | | | or signalling | | | | | | or data is | | | | | | currently | | | | | | pending for | | | | | | the UE at the | | | | | | AMF. | +---------------+---------------+---+-------------+---------------+ | ecgi | Ecgi | C | 0..1 | When present, | | | | | | this IE shall | | | | | | indicate the | | | | | | identifier of | | | | | | the E-UTRAN | | | | | | cell serving | | | | | | the UE. | | | | | | | | | | | | This IE shall | | | | | | be present if | | | | | | it was | | | | | | received from | | | | | | AMF. | +---------------+---------------+---+-------------+---------------+ | ncgi | Ncgi | C | 0..1 | When present, | | | | | | this IE shall | | | | | | indicate the | | | | | | identifier of | | | | | | the NR cell | | | | | | serving the | | | | | | UE. | | | | | | | | | | | | This IE shall | | | | | | be present if | | | | | | it was | | | | | | received from | | | | | | AMF | +---------------+---------------+---+-------------+---------------+ | guami | Guami | C | 0..1 | This IE shall | | | | | | be present if | | | | | | it was | | | | | | received from | | | | | | AMF. | | | | | | | | | | | | When present, | | | | | | it shall | | | | | | contain the | | | | | | GUAMI serving | | | | | | the UE. | +---------------+---------------+---+-------------+---------------+ | supp | Supp | C | 0..1 | This IE shall | | ortedFeatures | ortedFeatures | | | be present if | | | | | | at least one | | | | | | optional | | | | | | feature | | | | | | defined in | | | | | | clause 6.1.9 | | | | | | is supported. | +---------------+---------------+---+-------------+---------------+ | NOTE: At | | | | | | least one of | | | | | | perio | | | | | | dicEventInfo, | | | | | | areaEventInfo | | | | | | or | | | | | | mo | | | | | | tionEventInfo | | | | | | shall be | | | | | | present in | | | | | | the | | | | | | L | | | | | | ocContextData | | | | | | structure. | | | | | +---------------+---------------+---+-------------+---------------+
##### 6.1.6.2.31 Type: EventReportMessage
Table 6.1.6.2.31-1: Definition of type EventReportMessage
Attribute name Data type P Cardinality Description
* * *
eventClass EventClass M 1 This IE shall contain the event class for the
message content specified in eventContent. eventContent RefToBinaryData M 1
This IE shall reference the event report binary data corresponding to the
eventClass.
##### 6.1.6.2.32 Type: EventReportingStatus
Table 6.1.6.2.32-1: Definition of type EventReportingStatus
Attribute name Data type P Cardinality Description
* * *
eventReportCounter EventReportCounter O 0..1 This IE shall contain a count of
event reports. eventReportDuration EventReportDuration O 0..1 This IE shall
contain the duration of event reporting.
##### 6.1.6.2.33 Type: UELocationInfo
Table 6.1.6.2.33-1: Definition of type UELocationInfo
Attribute name Data type P Cardinality Description
* * *
locationEstimate GeographicArea O 0..1 Previous location estimate for the
target UE. ageOfLocationEstimate AgeOfLocationEstimate O 0..1 Age of previous
location estimate. velocityEstimate VelocityEstimate O 0..1 Previous velocity
estimate for the target UE. ageOfVelocityEstimate AgeOfLocationEstimate O 0..1
Age of previous velocity estimate.
##### 6.1.6.2.34 Type: EventNotifyData
Table 6.1.6.2.34-1: Definition of type EventNotifyData
+---------------+---------------+---+-------------+---------------+ | Attribute | Data type | P | Cardinality | Description | | name | | | | | +===============+===============+===+=============+===============+ | repo | Repo | M | 1 | This IE shall | | rtedEventType | rtedEventType | | | contain the | | | | | | type of event | | | | | | being | | | | | | reported. | +---------------+---------------+---+-------------+---------------+ | supi | Supi | C | 0..1 | This IE shall | | | | | | contain the | | | | | | SUPI if | | | | | | available. | +---------------+---------------+---+-------------+---------------+ | gpsi | Gpsi | C | 0..1 | This IE shall | | | | | | contain the | | | | | | GPSI if | | | | | | available. | +---------------+---------------+---+-------------+---------------+ | hgm | Uri | C | 0..1 | Callback URI | | lcCallBackURI | | | | of the H-GMLC | | | | | | (NOTE 1) | +---------------+---------------+---+-------------+---------------+ | ldrReference | LdrReference | M | 1 | LDR Reference | +---------------+---------------+---+-------------+---------------+ | loc | G | O | 0..1 | If present, | | ationEstimate | eographicArea | | | this IE shall | | | | | | contain an | | | | | | estimate of | | | | | | the location | | | | | | of the UE in | | | | | | universal | | | | | | coordinates | | | | | | and the | | | | | | accuracy of | | | | | | the estimate. | +---------------+---------------+---+-------------+---------------+ | ageOfLoc | AgeOfLoc | O | 0..1 | If present, | | ationEstimate | ationEstimate | | | this IE shall | | | | | | contain an | | | | | | indication of | | | | | | how long ago | | | | | | the location | | | | | | estimate was | | | | | | obtained. | +---------------+---------------+---+-------------+---------------+ | civicAddress | CivicAddress | O | 0..1 | If present, | | | | | | this IE shall | | | | | | contain a | | | | | | civic | | | | | | address. | +---------------+---------------+---+-------------+---------------+ | positi | array( | O | 1..N | If present, | | oningDataList | PositioningMe | | | this IE shall | | | thodAndUsage) | | | indicate the | | | | | | usage of each | | | | | | non-GANSS | | | | | | positioning | | | | | | method that | | | | | | was attempted | | | | | | to determine | | | | | | the location | | | | | | estimate, | | | | | | either | | | | | | successfully | | | | | | or | | | | | | un | | | | | | successfully. | +---------------+---------------+---+-------------+---------------+ | gnssPositi | array(Gnss | O | 1..N | If present, | | oningDataList | PositioningMe | | | this IE shall | | | thodAndUsage) | | | indicate the | | | | | | usage of each | | | | | | GANSS | | | | | | positioning | | | | | | method that | | | | | | was attempted | | | | | | to determine | | | | | | the location | | | | | | estimate, | | | | | | either | | | | | | successfully | | | | | | or | | | | | | un | | | | | | successfully. | +---------------+---------------+---+-------------+---------------+ | servingLMFI | LMFI | C | 0..1 | This IE shall | | dentification | dentification | | | be included | | | | | | to identify | | | | | | an LMF which | | | | | | acts as a | | | | | | serving LMF | | | | | | if a serving | | | | | | LMF is used. | +---------------+---------------+---+-------------+---------------+ | ter | Ter | C | 0..1 | This IE shall | | minationCause | minationCause | | | be included | | | | | | if event | | | | | | reporting has | | | | | | been | | | | | | terminated | +---------------+---------------+---+-------------+---------------+ | vel | Vel | O | 0..1 | If present, | | ocityEstimate | ocityEstimate | | | this IE shall | | | | | | contain an | | | | | | estimate of | | | | | | the velocity | | | | | | of the target | | | | | | UE, composed | | | | | | by horizontal | | | | | | speed, | | | | | | vertical | | | | | | speed, and | | | | | | their | | | | | | respective | | | | | | uncertainty. | +---------------+---------------+---+-------------+---------------+ | altitude | Altitude | O | 0..1 | If present, | | | | | | this IE | | | | | | indicates the | | | | | | altitude of | | | | | | the | | | | | | positioning | | | | | | estimate. | | | | | | | | | | | | When the | | | | | | shape used in | | | | | | \"locat | | | | | | ionEstimate\" | | | | | | supports | | | | | | conveying the | | | | | | altitude | | | | | | parameter, | | | | | | this IE shall | | | | | | be absent. | +---------------+---------------+---+-------------+---------------+ | supp | Supp | C | 0..1 | This IE shall | | ortedFeatures | ortedFeatures | | | be present if | | | | | | at least one | | | | | | optional | | | | | | feature | | | | | | defined in | | | | | | clause 6.1.9 | | | | | | is supported. | +---------------+---------------+---+-------------+---------------+ | NOTE 1: The | | | | | | hgm | | | | | | lcCallBackURI | | | | | | shall be | | | | | | included when | | | | | | the consumer | | | | | | NF is not the | | | | | | H-GMLC. | | | | | +---------------+---------------+---+-------------+---------------+
##### 6.1.6.2.35 Type: UeConnectivityState
Table 6.1.6.2.35-1: Definition of type UeConnectivityState
Attribute name Data type P Cardinality Description
* * *
accessType AccessType M 1 Shall indicate the access type of the UE.
connectivitystate CmState O 0..1 When present, it shall indicate the UE
connectivity state in the indicated access type.
#### 6.1.6.3 Simple data types and enumerations
##### 6.1.6.3.1 Introduction
This clause defines simple data types and enumerations that can be referenced
from data structures defined in the previous clauses.
##### 6.1.6.3.2 Simple data types
The simple data types defined in table 6.1.6.3.2-1 shall be supported.
Table 6.1.6.3.2-1: Simple data types
+-----------------------+-----------------+------------------------+ | Type Name | Type Definition | Description | +-----------------------+-----------------+------------------------+ | Altitude | number | Double-precision float | | | | value of the altitude, | | | | expressed in meters. | | | | | | | | Minimum: -32767. | | | | Maximum: 32767. | | | | | | | | Format: double. | +-----------------------+-----------------+------------------------+ | Angle | integer | Integer value of the | | | | angle, expressed in | | | | degrees. | | | | | | | | Minimum: 0. Maximum: | | | | 360. | +-----------------------+-----------------+------------------------+ | Uncertainty | number | Float value of | | | | uncertainty, expressed | | | | in meters. | | | | | | | | Minimum: 0 | | | | | | | | Format: float. | +-----------------------+-----------------+------------------------+ | Orientation | integer | Integer value of the | | | | orientation angle, | | | | expressed in degrees. | | | | | | | | Minimum: 0. Maximum: | | | | 180. | +-----------------------+-----------------+------------------------+ | Confidence | integer | Integer value of the | | | | confidence, expressed | | | | in percentage value. | | | | | | | | Minimum: 0. Maximum: | | | | 100. | +-----------------------+-----------------+------------------------+ | Accuracy | number | Float value of | | | | accuracy, expressed in | | | | meters. | | | | | | | | Minimum: 0 | | | | | | | | Format: float. | +-----------------------+-----------------+------------------------+ | InnerRadius | integer | Integer value of the | | | | inner radius, | | | | expressed in meters. | | | | | | | | Minimum: 0. Maximum: | | | | 327675. | | | | | | | | Format: int32. | +-----------------------+-----------------+------------------------+ | CorrelationID | string | LCS Correlation ID. | | | | The correlation ID | | | | shall be of a minimum | | | | length of 1 character | | | | and maximum length of | | | | 255 characters. | +-----------------------+-----------------+------------------------+ | AgeOfLocationEstimate | integer | Integer value of the | | | | age of the location | | | | estimate, expressed in | | | | minutes. | | | | | | | | Minimum: 0. Maximum: | | | | 32767. | +-----------------------+-----------------+------------------------+ | HorizontalSpeed | number | Float value of | | | | horizontal speed, | | | | expressed in | | | | kilometres per hour. | | | | | | | | Minimum: 0. Maximum: | | | | 2047. | | | | | | | | Format: float. | +-----------------------+-----------------+------------------------+ | VerticalSpeed | number | Float value of | | | | horizontal speed, | | | | expressed in | | | | kilometres per hour. | | | | | | | | Minimum: 0. Maximum: | | | | 255. | | | | | | | | Format: float. | +-----------------------+-----------------+------------------------+ | SpeedUncertainty | number | Float value of speed | | | | uncertainty, expressed | | | | in kilometres per | | | | hour. | | | | | | | | Minimum: 0. Maximum: | | | | 255. | | | | | | | | Format: float. | +-----------------------+-----------------+------------------------+ | BarometricPressure | integer | This IE specifies the | | | | measured uncompensated | | | | atmospheric pressure | | | | in units of Pascal | | | | (Pa). | | | | | | | | Minimum: 30000. | | | | Maximum: 115000. | +-----------------------+-----------------+------------------------+ | LcsServiceType | integer | The LCS service type | | | | as defined in | | | | 3GPP TS 22.071 [17] | | | | and clause 17.7.8 of | | | | 3GPP TS 29.002 [18]. | | | | | | | | Minimum: 0. Maximum: | | | | 127. | +-----------------------+-----------------+------------------------+ | LdrReference | string | LDR Reference encoded | | | | as a string of | | | | hexadecimal | | | | characters. The | | | | LdrReference shall be | | | | of a minimum length of | | | | 2 characters and | | | | maximum length of 510 | | | | characters. | +-----------------------+-----------------+------------------------+ | ReportingAmount | integer | Number of required | | | | periodic event | | | | reports. | | | | | | | | Minimum: 1. Maximum: | | | | 8639999. | +-----------------------+-----------------+------------------------+ | ReportingInterval | integer | Event reporting | | | | periodic interval in | | | | seconds. | | | | | | | | Minimum: 1. Maximum: | | | | 8639999. | | | | | | | | ReportingInterval x | | | | ReportingAmount shall | | | | not exceed 8639999. | +-----------------------+-----------------+------------------------+ | MinimumInterval | integer | Minimum interval | | | | between event reports | | | | in seconds. | | | | | | | | Minimum: 1. Maximum: | | | | 32767. | +-----------------------+-----------------+------------------------+ | MaximumInterval | integer | Maximum interval | | | | between event reports | | | | in seconds. | | | | | | | | Minimum: 1. Maximum: | | | | 86400. | +-----------------------+-----------------+------------------------+ | SamplingInterval | integer | Maximum time interval | | | | between consecutive | | | | evaluations by a UE of | | | | a trigger event, in | | | | seconds. | | | | | | | | Minimum: 1. Maximum: | | | | 3600 | +-----------------------+-----------------+------------------------+ | ReportingDuration | integer | Maximum duration of | | | | event reporting, in | | | | seconds. | | | | | | | | Minimum: 1. Maximum: | | | | 8640000. | +-----------------------+-----------------+------------------------+ | LinearDistance | integer | The minimum straight | | | | line distance moved by | | | | a UE to trigger a | | | | motion event report, | | | | in meters. | | | | | | | | Minimum: 1. Maximum: | | | | 10000. | +-----------------------+-----------------+------------------------+ | LMFIdentification | string | The serving LMF | | | | identification as | | | | defined in | | | | 3GPP TS 23.273 [19], | | | | encoded as a string of | | | | hexadecimal | | | | characters. | +-----------------------+-----------------+------------------------+ | EventReportCounter | integer | Number of event | | | | reports received from | | | | the target UE. | | | | | | | | Minimum: 1. Maximum: | | | | 8640000. | | | | | | | | Note: the current | | | | event report is | | | | included in the count. | +-----------------------+-----------------+------------------------+ | EventReportDuration | integer | Duration of event | | | | reporting, in seconds. | | | | | | | | Minimum: 0. Maximum: | | | | 8640000. | | | | | | | | Note: the duration | | | | starts when event | | | | reporting is activated | | | | in the UE and extends | | | | to the current time. | +-----------------------+-----------------+------------------------+
##### 6.1.6.3.3 Enumeration: ExternalClientType
The enumeration ExternalClientType represents the different types of clients
of the location service.
Table 6.1.6.3.3-1: Enumeration ExternalClientType
Enumeration value Description
* * *
\"EMERGENCY_SERVICES\" External client for emergency services
\"VALUE_ADDED_SERVICES\" External client for value added services
\"PLMN_OPERATOR_SERVICES\" External client for PLMN operator services
\"LAWFUL_INTERCEPT_SERVICES\" External client for Lawful Intercept services
\"PLMN_OPERATOR_BROADCAST_SERVICES\" External client for PLMN Operator
Broadcast services \"PLMN_OPERATOR_OM\" External client for PLMN Operator O&M
\"PLMN_OPERATOR_ANONYMOUS_STATISTICS\" External client for PLMN Operator
anonymous statistics \"PLMN_OPERATOR_TARGET_MS_SERVICE_SUPPORT\" External
client for PLMN Operator target MS service support
##### 6.1.6.3.4 Enumeration: SupportedGADShapes
The enumeration SupportedGADShapes represents the different types, or shapes,
of geographic areas supported by the system.
Table 6.1.6.3.4-1: Enumeration SupportedGADShapes
Enumeration value Description
* * *
\"POINT\" Ellipsoid Point \"POINT_UNCERTAINTY_CIRCLE\" Ellipsoid point with
uncertainty circle \"POINT_UNCERTAINTY_ELLIPSE\" Ellipsoid point with
uncertainty ellipse \"POLYGON\" Polygon \"POINT_ALTITUDE\" Ellipsoid point
with altitude \"POINT_ALTITUDE_UNCERTAINTY\" Ellipsoid point with altitude and
uncertainty ellipsoid \"ELLIPSOID_ARC\" Ellipsoid Arc
##### 6.1.6.3.5 Enumeration: ResponseTime
The enumeration ResponseTime represents the acceptable delay in the
determination of the location of the UE.
Table 6.1.6.3.5-1: Enumeration ResponseTime
+----------------------------------+----------------------------------+ | Enumeration value | Description | +==================================+==================================+ | \"LOW_DELAY\" | Location request is expected | | | with low delay level. | +----------------------------------+----------------------------------+ | \"DELAY_TOLERANT\" | Location request is delay | | | tolerant. | +----------------------------------+----------------------------------+ | \"NO_DELAY \" | Location request is expected | | | with no delay | | | | | | (NOTE) | +----------------------------------+----------------------------------+ | NOTE: The value is only used in | | | the interface between GMLC and | | | AF/LCS client via NEF, not | | | further delivered to other NFs | | | in the network. After receiving | | | the enumeration value, the GMLC | | | shall immediately return any | | | location estimate or civic | | | location that it currently has. | | | The GMLC shall return either the | | | Initial or Last Known Location | | | of the Target UE. If no location | | | estimate or Dispatchable | | | Location is available, the GLMC | | | shall return the failure | | | indication and may optionally | | | initiate procedures to obtain a | | | location estimate or | | | Dispatchable Location (e.g. to | | | be available for a later | | | request). | | +----------------------------------+----------------------------------+
##### 6.1.6.3.6 Enumeration: PositioningMethod
The enumeration PositioningMethod represents the method used to determine the
location of the UE.
Table 6.1.6.3.6-1: Enumeration PositioningMethod
Enumeration value Description
* * *
\"CELLID\" Cell ID positioning method \"ECID\" Enhanced cell ID methods based
on LTE signals \"OTDOA\" Observed time difference of arrival positioning based
on LTE signals \"BAROMETRIC_PRESSURE\" Positioning method based on barometric
Pressure Sensor \"WLAN\" WLAN positioning \"BLUETOOTH\" Bluetooth positioning
\"MBS\" Terrestrial Beacon System (TBS) positioning based on MBS signals
\"MOTION_SENSOR\" Positioning method based on motion Sensor \"DL_TDOA\"
Downlink Time Difference of Arrival (DL-TDOA) based on NR signals \"DL_AOD\"
Downlink Angle-of-Departure (DL-AoD) based on NR signals \"MULTI-RTT\" Multi-
Round Trip Time Positioning (Multi-RTT based on NR signals). \"NR_ECID\" NR
enhanced cell ID methods (NR E-CID) based on NR signals. \"UL_TDOA\" Uplink
Time Difference of Arrival (UL-TDOA) based on NR signals \"UL_AOA\" Uplink
Angle of Arrival (UL-AoA), including the Azimuth of Arrival (A-AoA) and the
Zenith of Arrival (Z-AoA) based on NR signals. \"NETWORK_SPECIFIC\" Network
specific position methods.
##### 6.1.6.3.7 Enumeration: PositioningMode
The enumeration PositioningMode represents the mode used to determine the
location of the UE when a certain positioning method is used.
Table 6.1.6.3.7-1: Enumeration PositioningMode
Enumeration value Description
* * *
\"UE_BASED\" UE-based mode \"UE_ASSISTED\" UE-assisted mode \"CONVENTIONAL\"
Conventional mode
##### 6.1.6.3.8 Enumeration: GnssId
The enumeration GnssId represents the different GNSS systems.
Table 6.1.6.3.8-1: Enumeration GnssId
Enumeration value Description
* * *
\"GPS\" GPS \"GALILEO\" Galileo \"SBAS\" Space Based Augmentation Systems
\"MODERNIZED_GPS\" Modernized GPS \"QZSS\" Quasi Zenith Satellite System
\"GLONASS\" Global Navigation Satellite System \"BDS\" BeiDou Navigation
Satellite System \"NAVIC\" Navigation with Indian Constellation
##### 6.1.6.3.9 Enumeration: Usage
The enumeration Usage represents the type of usage made of the location
measurement from the UE.
Table 6.1.6.3.9-1: Enumeration Usage
Enumeration value Description
* * *
\"UNSUCCESS\" Not successful \"SUCCESS_RESULTS_NOT_USED\" Successful result
not used \"SUCCESS_RESULTS_USED_TO_VERIFY_LOCATION\" Successful result used to
verify the location estimate \"SUCCESS_RESULTS_USED_TO_GENERATE_LOCATION\"
Successful result used to generate the location estimate
\"SUCCESS_METHOD_NOT_DETERMINED\" Successful method not determined
##### 6.1.6.3.10 Enumeration: LcsPriority
The enumeration LcsPriority represents the priority of the LCS client.
Table 6.1.6.3.10-1: Enumeration LcsPriority
Enumeration value Description
* * *
\"HIGHEST_PRIORITY\" LCS client with highest priority \"NORMAL_PRIORITY\" LCS
client with normal priority
##### 6.1.6.3.11 Enumeration: VelocityRequested
The enumeration VelocityRequested represents the indication of velocity
requirement.
Table 6.1.6.3.11-1: Enumeration VelocityRequested
Enumeration value Description
* * *
\"VELOCITY_IS_NOT_REQUESTED\" velocity estimate is required
\"VELOCITY_IS_REQUESTED\" velocity estimate is not required
##### 6.1.6.3.12 Enumeration: AccuracyFulfilmentIndicator
The enumeration AccuracyFulfilmentIndicator represents whether the requested
accuracy was fulfilled or not.
Table 6.1.6.3.12-1: Enumeration AccuracyFulfilmentIndicator
Enumeration value Description
* * *
\"REQUESTED_ACCURACY_FULFILLED\" requested accuracy is fulfilled
\"REQUESTED_ACCURACY_NOT_FULFILLED\" requested accuracy is not fulfilled
##### 6.1.6.3.13 Enumeration: VerticalDirection
The enumeration VerticalDirection represents the direction (upward/downward)
of the vertical speed.
Table 6.1.6.3.13-1: Enumeration VerticalDirection
Enumeration value Description
* * *
\"UPWARD\" Vertical speed is upward \"DOWNWARD\" Vertical speed is downward
##### 6.1.6.3.14 Enumeration: LdrType
Table 6.1.6.3.14-1: Enumeration LdrType
Enumeration value Description
* * *
\"UE_AVAILABLE\" UE available event \"PERIODIC\" Periodic event
\"ENTERING_INTO_AREA\" Entering area event \"LEAVING_FROM_AREA\" Leaving area
event \"BEING_INSIDE_AREA\" Being inside area event \"MOTION\" Motion event
##### 6.1.6.3.15 Enumeration: ReportingAreaType
The enumeration ReportingAreaType indicates the type of a reporting area.
Table 6.1.6.3.15-1: Enumeration ReportingAreaType
Enumeration value Description
* * *
\"EPS_TRACKING_AREA_IDENTITY\" EPS TAI \"E-UTRAN_CELL_GLOBAL_IDENTIFICATION\"
ECGI \"5GS_TRACKING_AREA_IDENTITY\" 5GS TAI \"NR_CELL_GLOBAL_IDENTITY\" NCGI
##### 6.1.6.3.16 Enumeration: OccurrenceInfo
The enumeration OccurrenceInfo indicates whether event reporting is one time.
Table 6.1.6.3.16-1: Enumeration AreaType
Enumeration value Description
* * *
\"ONE_TIME_EVENT\" Event to be reported one-time only \"MULTIPLE_TIME_EVENT\"
Event to be reported multiple times
##### 6.1.6.3.17 Enumeration: ReportingAccessType
The enumeration ReportingAccessType indicates an allowed access type for event
reporting.
Table 6.1.6.3.17-1: Enumeration ReportingAccessType
Enumeration value Description
* * *
\"NR\" NG Radio access \"EUTRA_CONNECTED_TO_5GC\" E-URTAN access connected to
5GC \"NON_3GPP_CONNECTED_TO_5GC\" Non-3GPP access connected to 5GC
##### 6.1.6.3.18 Enumeration: EventClass
Table 6.1.6.3.18-1: Enumeration EventClass
Enumeration value Description
* * *
\"SUPPLEMENTARY_SERVICES\" A supplementary services message containing an
argument for an lcs-EventReport operation as defined in 3GPP TS 24.080 [20].
##### 6.1.6.3.19 Enumeration: ReportedEventType
Table 6.1.6.3.19-1: Enumeration ReportedEventType
Enumeration value Description
* * *
\"PERIODIC_EVENT\" Periodic reporting event \"ENTERING_AREA_EVENT\" Entering
area reporting event \"LEAVING_AREA_EVENT\" Leaving area reporting event
\"BEING_INSIDE_AREA_EVENT\" Being inside area reporting event \"MOTION_EVENT\"
Motion reporting event \"MAXIMUM_INTERVAL_EXPIRATION_EVENT\" Expiration of
maximum reporting interval event \"LOCATION_CANCELLATION_EVENT\" Cancellation
of location reporting event
##### 6.1.6.3.20 Enumeration: TerminationCause
Table 6.1.6.3.20-1: Enumeration TerminationCause
Enumeration value Description
* * *
\"TERMINATION_BY_UE\" Event reporting terminated by UE
\"TERMINATION_BY_NETWORK\" Event reporting terminated by Network
\"NORMAL_TERMINATION\" Normal Termination
##### 6.1.6.3.21 Enumeration: LcsQosClass
Table 6.1.6.3.21-1: Enumeration LcsQosClass
Enumeration value Description
* * *
\"BEST_EFFORT\" Best Effort Class \"ASSURED\" Assured Class
##### 6.1.6.3.22 Enumeration: UeLocationServiceInd
Table 6.1.6.3.22-1: Enumeration UeLocationServiceInd
Enumeration value Description
* * *
\"LOCATION_ESTIMATE\" Request location estimate \"LOCATION_ASSISTANCE_DATA\"
Request location assistance data
#### 6.1.6.4 Binary data
##### 6.1.6.4.1 Introduction
This clause defines the binary data that shall be supported in a binary body
part in an HTTP multipart message (see clauses 6.1.2.2.2 and 6.1.2.4).
##### 6.1.6.4.2 LPP Message
LPP Message shall encode a LPP message as specified in 3GPP TS 36.355 [21],
using the vnd.3gpp.lpp content-type.
### 6.1.7 Error Handling
#### 6.1.7.1 General
HTTP error handling shall be supported as specified in clause 5.2.4 of 3GPP TS
29.500 [4].
#### 6.1.7.2 Protocol Errors
Protocol errors handling shall be supported as specified in clause 5.2.7 of
3GPP TS 29.500 [4].
#### 6.1.7.3 Application Errors
The application errors defined for the Nlmf_Location service are listed in
Table 6.1.7.3-1.
Table 6.1.7.3-1: Application errors
Application Error HTTP status code Description
* * *
POSITIONING_DENIED 403 Forbidden The positioning procedure was denied.
UNSPECIFIED 403 Forbidden The request is rejected due to unspecified reasons.
UNSUPPORTED_BY_UE 403 Forbidden A request for periodic or triggered location
is not supported by the UE. LOCATION_SESSION_UNKNOWN 403 Forbidden The
location context was not found. LOCATION_TRANSFER_NOT_SUPPORTED 403 Forbidden
Transfer of a location context is not supported INSUFFICIENT_RESOURCES 403
Forbidden Insufficient resources for location context transfer
EVENT_REPORT_UNRECOGNIZED 403 Forbidden The event report is unrecognized or
cannot be parsed. POSITIONING_FAILED 500 Internal Server Error The positioning
procedure failed. UNREACHABLE_USER 504 Gateway Timeout The user could not be
reached in order to perform positioning procedure.
### 6.1.8 Security
As indicated in 3GPP TS 33.501 [9], the access to the Nlmf_Location API may be
authorized by means of the OAuth2 protocol (see IETF RFC 6749 [10]), using the
\"Client Credentials\" authorization grant, where the NRF (see 3GPP TS 29.510
[11]) plays the role of the authorization server.
If Oauth2 authorization is used, an NF Service Consumer, prior to consuming
services offered by the Nlmf_Location API, shall obtain a \"token\" from the
authorization server, by invoking the Access Token Request service, as
described in 3GPP TS 29.510 [11], clause 5.4.2.2.
NOTE: When multiple NRFs are deployed in a network, the NRF used as
authorization server is the same NRF that the NF Service Consumer used for
discovering the Nlmf_Location service.
The Nlmf_Location API defines scopes for OAuth2 authorization as specified in
3GPP TS 33.501 [9]; it defines a single scope consisting on the name of the
service (i.e., \"nlmf-loc\"), and it does not define any additional scopes at
resource or operation level.
### 6.1.9 Feature Negotiation
The optional features in table 6.1.9-1 are defined for the Nlmf_Location API.
They shall be negotiated using the extensibility mechanism defined in clause
6.6 of 3GPP TS 29.500 [4].
Table 6.1.9-1: Supported Features
+----------------+--------------+-----+----------------------+ | Feature number | Feature Name | M/O | Description | +================+==============+=====+======================+ | 1 | ES3XX | M | Extended Support of | | | | | HTTP 307/308 | | | | | redirection | | | | | | | | | | An NF Service | | | | | Consumer (e.g. AMF) | | | | | that supports this | | | | | feature shall | | | | | support handling of | | | | | HTTP 307/308 | | | | | redirection for any | | | | | service operation of | | | | | the Location | | | | | service. An NF | | | | | Service Consumer | | | | | that does not | | | | | support this feature | | | | | does only support | | | | | HTTP redirection as | | | | | specified for 3GPP | | | | | Release 15. | +----------------+--------------+-----+----------------------+
### 6.1.10 HTTP redirection
An HTTP request may be redirected to a different LMF service instance, within
the same LMF or a different LMF of an LMF set, e.g. when an LMF service
instance is part of an LMF (service) set or when using indirect communications
(see 3GPP TS 29.500 [4]). See also the ES3XX feature in clause 6.1.9.
An SCP that reselects a different LMF producer instance will return the NF
Instance ID of the new LMF producer instance in the 3gpp-Sbi-Producer-Id
header, as specified in clause 6.10.3.4 of 3GPP TS 29.500 [4].
If an LMF within an LMF set redirects a service request to a different LMF of
the set using an 307 Temporary Redirect or 308 Permanent Redirect status code,
the identity of the new LMF towards which the service request is redirected
shall be indicated in the 3gpp-Sbi-Target-Nf-Id header of the 307 Temporary
Redirect or 308 Permanent Redirect response as specified in clause 6.10.9.1 of
3GPP TS 29.500 [4].
## 6.2 Nlmf_Broadcast Service API
### 6.2.1 API URI
The Nlmf_Broadcast service shall use the Nlmf_Broadcast API.
The API URI of the Nlmf_Broadcast API shall be:
**{apiRoot}/\ /\/**
The request URI used in HTTP requests from the NF service consumer towards the
NF service producer shall have the Resource URI structure defined in clause
4.4.1 of 3GPP TS 29.501 [5], i.e.:
**{apiRoot}/\ /\/\**
with the following components:
\- The {apiRoot} shall be set as described in 3GPP TS 29.501 [5].
\- The \ shall be \"nlmf-broadcast\".
\- The \ shall be \"v1\".
\- The \ shall be set as described in clause
6.2.3.
### 6.2.2 Usage of HTTP
#### 6.2.2.1 General
HTTP/2, as defined in IETF RFC 7540 [12], shall be used as specified in clause
5 of 3GPP TS 29.500 [4].
HTTP/2 shall be transported as specified in clause 5.3 of 3GPP TS 29.500 [4].
HTTP messages and bodies for the Nlmf_Location service shall comply with the
OpenAPI [14] specification contained in Annex A.
#### 6.2.2.2 HTTP Standard Headers
##### 6.2.2.2.1 General
##### 6.2.2.2.2 Content type
The following content types shall be supported:
\- JSON, as defined in IETF RFC 8259 [13], shall be used as content type of
the HTTP bodies specified in the present specification as indicated in clause
5.4 of 3GPP TS 29.500 [4].
\- The Problem Details JSON Object (IETF RFC 7807 [15]). The use of the
Problem Details JSON object in a HTTP response body shall be signalled by the
content type \"application/problem+json\".
#### 6.2.2.3 HTTP custom headers
##### 6.2.2.3.1 General
The following HTTP custom headers shall be supported:
\- 3gpp-Sbi-Message-Priority: See 3GPP TS 29.500 [4], clause 5.2.3.2.2.
This API does not define any new HTTP custom headers.
### 6.2.3 Resources
#### 6.2.3.1 Overview
The structure of the Resource URIs of the Nlmf_Broadcast service is shown in
figure 6.2.3.1-1.
Figure 6.2.3.1-1: Resource URI structure of the Nlmf_Broadcast API
### 6.2.4 Custom Operations without associated resources
#### 6.2.4.1 Overview
Table 6.2.4.1-1: Custom operations without associated resources
Operation Name Custom operation URI Mapped HTTP method Description
* * *
cipher-key-data /cipher-key-data POST Ciphering Key Data
#### 6.2.4.4 Operation: cipher-key-data
##### 6.2.4.4.1 Description
This clause describes the custom operation and what it is used for.
##### 6.2.4.4.2 Operation Definition
This operation shall support the request and response data structures and
response codes specified in table 6.2.4.4.2-1 and table 6.2.4.4.2-2.
Table 6.2.4.4.2-1: Data structures supported by the POST Request Body on this
resource
Data type P Cardinality Description
* * *
CipherRequestData M 1 Input parameters to the \"Ciphering Key Data\" operation
Table 6.2.4.4.2-2: Data structures supported by the POST Response Body on this
resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +===============+===+=============+===============+===============+ | Ciphe | M | 1 | 200 OK | This case | | rResponseData | | | | represents a | | | | | | successful | | | | | | request for | | | | | | ciphering key | | | | | | data. | | | | | | | | | | | | Upon success, | | | | | | a response | | | | | | body is | | | | | | returned | | | | | | indicating | | | | | | whether the | | | | | | LMF has | | | | | | ciphering key | | | | | | data. The | | | | | | ciphering key | | | | | | data is | | | | | | returned | | | | | | separately in | | | | | | a | | | | | | Cip | | | | | | heringKeyData | | | | | | notification. | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 307 Temporary | Temporary | | irectResponse | | | Redirect | redirection. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing a | | | | | | different | | | | | | URI, or the | | | | | | same URI if a | | | | | | request is | | | | | | redirected to | | | | | | the same | | | | | | target | | | | | | resource via | | | | | | a different | | | | | | SCP. In the | | | | | | former case, | | | | | | the URI shall | | | | | | be an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located on an | | | | | | alternative | | | | | | service | | | | | | instance | | | | | | within the | | | | | | same LMF or | | | | | | LMF (service) | | | | | | set. | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 308 Permanent | Permanent | | irectResponse | | | Redirect | redirection. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing a | | | | | | different | | | | | | URI, or the | | | | | | same URI if a | | | | | | request is | | | | | | redirected to | | | | | | the same | | | | | | target | | | | | | resource via | | | | | | a different | | | | | | SCP. In the | | | | | | former case, | | | | | | the URI shall | | | | | | be an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located on an | | | | | | alternative | | | | | | service | | | | | | instance | | | | | | within the | | | | | | same LMF or | | | | | | LMF (service) | | | | | | set. | +---------------+---+-------------+---------------+---------------+ | P | O | 0..1 | 403 Forbidden | The \"cause\" | | roblemDetails | | | | attribute may | | | | | | be set to one | | | | | | of the | | | | | | following | | | | | | application | | | | | | errors: | | | | | | | | | | | | > \- | | | | | | > UNSPECIFIED | | | | | | > | | | | | | > \- | | | | | | > BRO | | | | | | ADCAST_CIPHE | | | | | | RING_KEYS_N | | | | | | OT_SUPPORTED | | | | | | | | | | | | See | | | | | | ta | | | | | | ble 6.2.7.3-1 | | | | | | for the | | | | | | description | | | | | | of this | | | | | | error. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the POST | | | | | | method listed | | | | | | in Table | | | | | | 5.2.7.1-1 of | | | | | | 3GPP TS | | | | | | 29.500 [4] | | | | | | other than | | | | | | those | | | | | | specified in | | | | | | the table | | | | | | above also | | | | | | apply, with a | | | | | | P | | | | | | roblemDetails | | | | | | data type | | | | | | (see clause | | | | | | 5.2.7 of | | | | | | 3GPP TS 2 | | | | | | 9.500 [4]). | | | | | +---------------+---+-------------+---------------+---------------+
Table 6.2.4.4.2-3: Headers supported by the 307 Response Code on this resource
+-----------------+-----------+---+-------------+-----------------+ | Name | Data type | P | Cardinality | Description | +-----------------+-----------+---+-------------+-----------------+ | Location | string | M | 1 | An alternative | | | | | | URI of the | | | | | | resource | | | | | | located on an | | | | | | alternative | | | | | | service | | | | | | instance within | | | | | | the same LMF or | | | | | | LMF (service) | | | | | | set. | | | | | | | | | | | | Or the same | | | | | | URI, if a | | | | | | request is | | | | | | redirected to | | | | | | the same target | | | | | | resource via a | | | | | | different SCP. | +-----------------+-----------+---+-------------+-----------------+ | 3gpp-S | string | O | 0..1 | Identifier of | | bi-Target-Nf-Id | | | | the target NF | | | | | | (service) | | | | | | instance ID | | | | | | towards which | | | | | | the request is | | | | | | redirected | +-----------------+-----------+---+-------------+-----------------+
Table 6.2.4.4.2-4: Headers supported by the 308 Response Code on this resource
+-----------------+-----------+---+-------------+-----------------+ | Name | Data type | P | Cardinality | Description | +-----------------+-----------+---+-------------+-----------------+ | Location | string | M | 1 | An alternative | | | | | | URI of the | | | | | | resource | | | | | | located on an | | | | | | alternative | | | | | | service | | | | | | instance within | | | | | | the same LMF or | | | | | | LMF (service) | | | | | | set. | | | | | | | | | | | | Or the same | | | | | | URI, if a | | | | | | request is | | | | | | redirected to | | | | | | the same target | | | | | | resource via a | | | | | | different SCP. | +-----------------+-----------+---+-------------+-----------------+ | 3gpp-S | string | O | 0..1 | Identifier of | | bi-Target-Nf-Id | | | | the target NF | | | | | | (service) | | | | | | instance ID | | | | | | towards which | | | | | | the request is | | | | | | redirected | +-----------------+-----------+---+-------------+-----------------+
### 6.2.5 Notifications
#### 6.2.5.1 CipheringKeyData
##### 6.2.5.1.1 Description
The CipheringKeyData operation is used to notify the occurrence of new
ciphering key information to a consumer NF (e.g. AMF).
##### 6.2.5.1.2 Notification Definition
Callback URI: {amfCallBackURI}
See clause 5.3.2.2.2 for the description of how the LMF obtains the Callback
URI of the NF Service Consumer (i.e. AMF).
##### 6.2.5.1.3 Notification Standard Methods
##### 6.2.5.1.3.1 POST {#post-1 .H6}
This method sends a ciphering key data notify to the NF Service Consumer.
This method shall support the request and response data structures and
response codes specified in table 6.2.5.1.3.1-1 and table 6.2.5.1.3.1-2.
Table 6.2.5.1.3.1-1: Data structures supported by the POST Request Body
Data type P Cardinality Description
* * *
CipheringKeyInfo M 1 Input parameters to the \"Ciphering Key Data\" operation
Table 6.2.5.1.3.1-2: Data structures supported by the POST Response Body
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +===============+===+=============+===============+===============+ | Cipheri | M | 1 | 200 OK | This case | | ngKeyResponse | | | | represents | | | | | | successful or | | | | | | partially | | | | | | successful | | | | | | storage of | | | | | | ciphering key | | | | | | information | | | | | | by the | | | | | | service | | | | | | consumer NF. | | | | | | | | | | | | A response | | | | | | body is | | | | | | returned | | | | | | containing | | | | | | the following | | | | | | parameters: | | | | | | | | | | | | > \- List of | | | | | | > Ciphering | | | | | | > Set IDs | | | | | | > | | | | | | successfully | | | | | | > stored | | | | | | > | | | | | | > \- List of | | | | | | > Ciphering | | | | | | > Set IDs not | | | | | | > | | | | | | successfully | | | | | | > stored | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 307 Temporary | Temporary | | irectResponse | | | Redirect | redirection. | | | | | | The NF | | | | | | service | | | | | | consumer | | | | | | shall | | | | | | generate a | | | | | | Location | | | | | | header field | | | | | | containing a | | | | | | URI pointing | | | | | | to the | | | | | | endpoint of | | | | | | another NF | | | | | | service | | | | | | consumer to | | | | | | which the | | | | | | notification | | | | | | should be | | | | | | sent. | | | | | | | | | | | | If an SCP | | | | | | redirects the | | | | | | message to | | | | | | another SCP | | | | | | then the | | | | | | location | | | | | | header field | | | | | | shall contain | | | | | | the same URI | | | | | | or a | | | | | | different URI | | | | | | pointing to | | | | | | the endpoint | | | | | | of the NF | | | | | | service | | | | | | consumer to | | | | | | which the | | | | | | notification | | | | | | should be | | | | | | sent. | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 308 Permanent | Permanent | | irectResponse | | | Redirect | redirection. | | | | | | The NF | | | | | | service | | | | | | consumer | | | | | | shall | | | | | | generate a | | | | | | Location | | | | | | header field | | | | | | containing a | | | | | | URI pointing | | | | | | to the | | | | | | endpoint of | | | | | | another NF | | | | | | service | | | | | | consumer to | | | | | | which the | | | | | | notification | | | | | | should be | | | | | | sent. | | | | | | | | | | | | If an SCP | | | | | | redirects the | | | | | | message to | | | | | | another SCP | | | | | | then the | | | | | | location | | | | | | header field | | | | | | shall contain | | | | | | the same URI | | | | | | or a | | | | | | different URI | | | | | | pointing to | | | | | | the endpoint | | | | | | of the NF | | | | | | service | | | | | | consumer to | | | | | | which the | | | | | | notification | | | | | | should be | | | | | | sent. | +---------------+---+-------------+---------------+---------------+ | P | O | 0..1 | 403 Forbidden | The \"cause\" | | roblemDetails | | | | attribute may | | | | | | be set to one | | | | | | of the | | | | | | following | | | | | | application | | | | | | errors: | | | | | | | | | | | | > \- | | | | | | > UNSPECIFIED | | | | | | > | | | | | | > \- | | | | | | > | | | | | | UNABLE_TO_S | | | | | | TORE_CIPHERI | | | | | | NG_KEY_DATA | | | | | | | | | | | | See | | | | | | ta | | | | | | ble 6.2.7.3-1 | | | | | | for the | | | | | | description | | | | | | of this | | | | | | error. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the POST | | | | | | method listed | | | | | | in Table | | | | | | 5.2.7.1-1 of | | | | | | 3GPP TS | | | | | | 29.500 [4] | | | | | | other than | | | | | | those | | | | | | specified in | | | | | | the table | | | | | | above also | | | | | | apply, with a | | | | | | P | | | | | | roblemDetails | | | | | | data type | | | | | | (see clause | | | | | | 5.2.7 of | | | | | | 3GPP TS 2 | | | | | | 9.500 [4]). | | | | | +---------------+---+-------------+---------------+---------------+
Table 6.2.5.1.3.1-3: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 A URI pointing to
the endpoint of NF service consumer to which the notification should be sent
3gpp-Sbi-Target-Nf-Id string O 0..1 Identifier of the target NF (service)
instance ID towards which the notification is redirected
* * *
Table 6.2.5.1.3.1-4: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 A URI pointing to
the endpoint of NF service consumer to which the notification should be sent
3gpp-Sbi-Target-Nf-Id string O 0..1 Identifier of the target NF (service)
instance ID towards which the notification is redirected
* * *
### 6.2.6 Data Model
#### 6.2.6.1 General
This clause specifies the application data model supported by the API.
Table 6.2.6.1-1 specifies the data types defined for the Nlmf_Broadcast
service based interface protocol.
Table 6.2.6.1-1: Nlmf_Broadcast specific Data Types
Data type Clause defined Description
* * *
CipheringKeyInfo 6.2.6.2.2 Information within Ciphering Key Data Notification
request CipheringKeyResponse 6.2.6.2.3 Information within Ciphering Key Data
Notification Response CipheringDataSet 6.2.6.2.4 Represents a Ciphering Data
Set CipheringSetReport 6.2.6.2.5 Represents a report of Ciphering Data Set
storage CipherRequestData 6.2.6.2.6 Information within Ciphering Key Data
request CipherResponseData 6.2.6.2.7 Information within Ciphering Key Data
Response CipheringSetID 6.2.6.3.2 Ciphering Data Set ID CipheringKey 6.2.6.3.2
Ciphering Key C0 6.2.6.3.2 First component of the initial ciphering counter
ValidityDuration 6.2.6.3.2 Validity Duration of the Ciphering Data Set
StorageOutcome 6.2.6.3.3 Indicates the result of Ciphering Data Set storage
DataAvailability 6.2.6.3.4 Indicates availability of ciphering key data at an
LMF
Table 6.2.6.1-2 specifies data types re-used by the Nlmf_Broadcast service
based interface protocol from other specifications, including a reference to
their respective specifications and when needed, a short description of their
use within the Nlmf service based interface.
Table 6.2.6.1-2: Nlmf_Broadcast re-used Data Types
Data type Reference Comments
* * *
Bytes 3GPP TS 29.571 [8] Binary data encoded as a base64 character string
DateTime 3GPP TS 29.571 [8] Date and Time Uri 3GPP TS 29.571 [8] Uniform
Resource Identifier SupportedFeatures 3GPP TS 29.571 [8] Supported Features
RedirectResponse 3GPP TS 29.571 [8] Redirect Response
#### 6.2.6.2 Structured data types
##### 6.2.6.2.1 Introduction
This clause defines the structures to be used in resource representations.
##### 6.2.6.2.2 Type: CipheringKeyInfo
Table 6.2.6.2.2-1: Definition of type CipheringKeyInfo
Attribute name Data type P Cardinality Description
* * *
cipheringData array(CipheringDataSet) M 1..N This IE contains one or more
ciphering data sets, where each ciphering data set contains information for
one ciphering key. supportedFeatures SupportedFeatures C 0..1 This IE shall be
present if at least one optional feature defined in clause 6.2.9 is supported.
##### 6.2.6.2.3 Type: CipheringKeyResponse
Table 6.2.6.2.3-1: Definition of type CipheringKeyResponse
+---------------+---------------+---+-------------+---------------+ | Attribute | Data type | P | Cardinality | Description | | name | | | | | +===============+===============+===+=============+===============+ | cipher | Array(Cipher | O | 1..N | This IE | | ingDataReport | ingSetReport) | | | indicates the | | | | | | ciphering | | | | | | data sets | | | | | | which were | | | | | | successfully | | | | | | stored or not | | | | | | stored. | | | | | | | | | | | | The absence | | | | | | of this IE | | | | | | indicates | | | | | | that all | | | | | | ciphering | | | | | | data sets | | | | | | were | | | | | | successfully | | | | | | stored. | +---------------+---------------+---+-------------+---------------+
##### 6.2.6.2.4 Type: CipheringDataSet
Table 6.2.6.2.4-1: Definition of type CipheringDataSet
+---------------+---------------+---+-------------+---------------+ | Attribute | Data type | P | Cardinality | Description | | name | | | | | +===============+===============+===+=============+===============+ | c | C | M | 1 | I | | ipheringSetID | ipheringSetID | | | dentification | | | | | | of a | | | | | | ciphering | | | | | | data set | +---------------+---------------+---+-------------+---------------+ | cipheringKey | CipheringKey | M | 1 | A ciphering | | | | | | key value | +---------------+---------------+---+-------------+---------------+ | **c0** | C0 | M | 1 | First | | | | | | component of | | | | | | the initial | | | | | | ciphering | | | | | | counter as | | | | | | defined in | | | | | | clause 7.4.2 | | | | | | of | | | | | | 3GPP TS | | | | | | 36.355 [21] | +---------------+---------------+---+-------------+---------------+ | **lte | Bytes | O | 0..1 | This IE | | PosSibTypes** | | | | contains a | | | | | | bitmap | | | | | | indicating | | | | | | the LTE | | | | | | positioning | | | | | | SIB types for | | | | | | which the | | | | | | ciphering | | | | | | data set is | | | | | | applicable: | | | | | | | | | | | | > \- a bit | | | | | | > set to 0 | | | | | | > indicates | | | | | | > that the | | | | | | > ciphering | | | | | | > data set is | | | | | | > not | | | | | | > applicable | | | | | | > to the | | | | | | > | | | | | | corresponding | | | | | | > LTE | | | | | | > positioning | | | | | | > SIB type | | | | | | > | | | | | | > \- a bit | | | | | | > set to 1 | | | | | | > indicates | | | | | | > that the | | | | | | > ciphering | | | | | | > data set is | | | | | | > applicable | | | | | | > to the | | | | | | > | | | | | | corresponding | | | | | | > LTE | | | | | | > positioning | | | | | | > SIB type | | | | | | | | | | | | The mapping | | | | | | of the bits | | | | | | to the LTE | | | | | | positioning | | | | | | SIB types is | | | | | | as follows: | | | | | | | | | | | | > \-- bit 8 | | | | | | > in the | | | | | | > first octet | | | | | | > maps to | | | | | | > positioning | | | | | | > SIB Type | | | | | | > 1-1 | | | | | | > | | | | | | > \-- bit 7 | | | | | | > in the | | | | | | > first octet | | | | | | > maps to | | | | | | > positioning | | | | | | > SIB Type | | | | | | > 1-2 | | | | | | > | | | | | | > \-- bit 6 | | | | | | > in the | | | | | | > first octet | | | | | | > maps to | | | | | | > positioning | | | | | | > SIB Type | | | | | | > 1-3 | | | | | | > | | | | | | > \-- bit 5 | | | | | | > in the | | | | | | > first octet | | | | | | > maps to | | | | | | > positioning | | | | | | > SIB Type | | | | | | > 1-4 | | | | | | > | | | | | | > \-- bit 4 | | | | | | > in the | | | | | | > first octet | | | | | | > maps to | | | | | | > positioning | | | | | | > SIB Type | | | | | | > 1-5 | | | | | | > | | | | | | > \-- bit 3 | | | | | | > in the | | | | | | > first octet | | | | | | > maps to | | | | | | > positioning | | | | | | > SIB Type | | | | | | > 1-6 | | | | | | > | | | | | | > \-- bit 2 | | | | | | > in the | | | | | | > first octet | | | | | | > maps to | | | | | | > positioning | | | | | | > SIB Type | | | | | | > 1-7 | | | | | | > | | | | | | > \-- bit 1 | | | | | | > in the | | | | | | > first octet | | | | | | > maps to | | | | | | > positioning | | | | | | > SIB Type | | | | | | > 1-8 | | | | | | > | | | | | | > \-- bit 8 | | | | | | > in the | | | | | | > second | | | | | | > octet maps | | | | | | > to | | | | | | > positioning | | | | | | > SIB Type | | | | | | > 2-1 | | | | | | > | | | | | | > \-- bit 7 | | | | | | > in the | | | | | | > second | | | | | | > octet maps | | | | | | > to | | | | | | > positioning | | | | | | > SIB Type | | | | | | > 2-2 | | | | | | > | | | | | | > \-- bit 6 | | | | | | > in the | | | | | | > second | | | | | | > octet maps | | | | | | > to | | | | | | > positioning | | | | | | > SIB Type | | | | | | > 2-3 | | | | | | > | | | | | | > \-- bit 5 | | | | | | > in the | | | | | | > second | | | | | | > octet maps | | | | | | > to | | | | | | > positioning | | | | | | > SIB Type | | | | | | > 2-4 | | | | | | > | | | | | | > \-- bit 4 | | | | | | > in the | | | | | | > second | | | | | | > octet maps | | | | | | > to | | | | | | > positioning | | | | | | > SIB Type | | | | | | > 2-5 | | | | | | > | | | | | | > \-- bit 3 | | | | | | > in the | | | | | | > second | | | | | | > octet maps | | | | | | > to | | | | | | > positioning | | | | | | > SIB Type | | | | | | > 2-6 | | | | | | > | | | | | | > \-- bit 2 | | | | | | > in the | | | | | | > second | | | | | | > octet maps | | | | | | > to | | | | | | > positioning | | | | | | > SIB Type | | | | | | > 2-7 | | | | | | > | | | | | | > \-- bit 1 | | | | | | > in the | | | | | | > second | | | | | | > octet maps | | | | | | > to | | | | | | > positioning | | | | | | > SIB Type | | | | | | > 2-8 | | | | | | > | | | | | | > \-- bit 8 | | | | | | > in the | | | | | | > third octet | | | | | | > maps to | | | | | | > positioning | | | | | | > SIB Type | | | | | | > 2-9 | | | | | | > | | | | | | > \-- bit 7 | | | | | | > in the | | | | | | > third octet | | | | | | > maps to | | | | | | > positioning | | | | | | > SIB Type | | | | | | > 2-10 | | | | | | > | | | | | | > \-- bit 6 | | | | | | > in the | | | | | | > third octet | | | | | | > maps to | | | | | | > positioning | | | | | | > SIB Type | | | | | | > 2-11 | | | | | | > | | | | | | > \-- bit 5 | | | | | | > in the | | | | | | > third octet | | | | | | > maps to | | | | | | > positioning | | | | | | > SIB Type | | | | | | > 2-12 | | | | | | > | | | | | | > \-- bit 4 | | | | | | > in the | | | | | | > third octet | | | | | | > maps to | | | | | | > positioning | | | | | | > SIB Type | | | | | | > 2-13 | | | | | | > | | | | | | > \-- bit 3 | | | | | | > in the | | | | | | > third octet | | | | | | > maps to | | | | | | > positioning | | | | | | > SIB Type | | | | | | > 2-14 | | | | | | > | | | | | | > \-- bit 2 | | | | | | > in the | | | | | | > third octet | | | | | | > maps to | | | | | | > positioning | | | | | | > SIB Type | | | | | | > 2-15 | | | | | | > | | | | | | > \-- bit 1 | | | | | | > in the | | | | | | > third octet | | | | | | > maps to | | | | | | > positioning | | | | | | > SIB Type | | | | | | > 2-16 | | | | | | > | | | | | | > \-- bit 8 | | | | | | > in the | | | | | | > fourth | | | | | | > octet maps | | | | | | > to | | | | | | > positioning | | | | | | > SIB Type | | | | | | > 2-17 | | | | | | > | | | | | | > \-- bit 7 | | | | | | > in the | | | | | | > fourth | | | | | | > octet maps | | | | | | > to | | | | | | > positioning | | | | | | > SIB Type | | | | | | > 2-18 | | | | | | > | | | | | | > \-- bit 6 | | | | | | > in the | | | | | | > fourth | | | | | | > octet maps | | | | | | > to | | | | | | > positioning | | | | | | > SIB Type | | | | | | > 2-19 | | | | | | > | | | | | | > \-- bit 5 | | | | | | > in the | | | | | | > fourth | | | | | | > octet maps | | | | | | > to | | | | | | > positioning | | | | | | > SIB Type | | | | | | > 2-20 | | | | | | > | | | | | | > \-- bit 4 | | | | | | > in the | | | | | | > fourth | | | | | | > octet maps | | | | | | > to | | | | | | > positioning | | | | | | > SIB Type | | | | | | > 2-21 | | | | | | > | | | | | | > \-- bit 3 | | | | | | > in the | | | | | | > fourth | | | | | | > octet maps | | | | | | > to | | | | | | > positioning | | | | | | > SIB Type | | | | | | > 2-22 | | | | | | > | | | | | | > \-- bit 2 | | | | | | > in the | | | | | | > fourth | | | | | | > octet maps | | | | | | > to | | | | | | > positioning | | | | | | > SIB Type | | | | | | > 2-23 | | | | | | > | | | | | | > \-- bit 1 | | | | | | > in the | | | | | | > fourth | | | | | | > octet maps | | | | | | > to | | | | | | > positioning | | | | | | > SIB Type | | | | | | > 2-24 | | | | | | > | | | | | | > \-- bit 8 | | | | | | > in the | | | | | | > fifth octet | | | | | | > maps to | | | | | | > positioning | | | | | | > SIB Type | | | | | | > 2-25 | | | | | | > | | | | | | > \-- bit 7 | | | | | | > in the | | | | | | > fifth octet | | | | | | > maps to | | | | | | > positioning | | | | | | > SIB Type | | | | | | > 3-1 | | | | | | > | | | | | | > \-- bit 6 | | | | | | > in the | | | | | | > fifth octet | | | | | | > maps to | | | | | | > positioning | | | | | | > SIB Type | | | | | | > 4-1 | | | | | | > | | | | | | > \-- bit 5 | | | | | | > in the | | | | | | > fifth octet | | | | | | > maps to | | | | | | > positioning | | | | | | > SIB Type | | | | | | > 5-1 | | | | | | | | | | | | Any | | | | | | unassigned | | | | | | bits are | | | | | | spare and | | | | | | shall be | | | | | | coded as | | | | | | zero. | | | | | | Non-included | | | | | | bits shall be | | | | | | treated as | | | | | | being coded | | | | | | as zero. | | | | | | | | | | | | (NOTE 1) | +---------------+---------------+---+-------------+---------------+ | **nr | Bytes | O | 0..1 | This IE | | PosSibTypes** | | | | contains a | | | | | | bitmap | | | | | | indicating | | | | | | the NR | | | | | | positioning | | | | | | SIB types for | | | | | | which the | | | | | | ciphering | | | | | | data set is | | | | | | applicable: | | | | | | | | | | | | > \- a bit | | | | | | > set to 0 | | | | | | > indicates | | | | | | > that the | | | | | | > ciphering | | | | | | > data set is | | | | | | > not | | | | | | > applicable | | | | | | > to the | | | | | | > | | | | | | corresponding | | | | | | > NR | | | | | | > positioning | | | | | | > SIB type | | | | | | > | | | | | | > \- a bit | | | | | | > set to 1 | | | | | | > indicates | | | | | | > that the | | | | | | > ciphering | | | | | | > data set is | | | | | | > applicable | | | | | | > to the | | | | | | > | | | | | | corresponding | | | | | | > NR | | | | | | > positioning | | | | | | > SIB type | | | | | | | | | | | | The mapping | | | | | | of the bits | | | | | | to the NR | | | | | | positioning | | | | | | SIB types is | | | | | | as follows: | | | | | | | | | | | | > \-- bit 8 | | | | | | > in the | | | | | | > first octet | | | | | | > maps to | | | | | | > positioning | | | | | | > SIB Type | | | | | | > 1-1 | | | | | | > | | | | | | > \-- bit 7 | | | | | | > in the | | | | | | > first octet | | | | | | > maps to | | | | | | > positioning | | | | | | > SIB Type | | | | | | > 1-2 | | | | | | > | | | | | | > \-- bit 6 | | | | | | > in the | | | | | | > first octet | | | | | | > maps to | | | | | | > positioning | | | | | | > SIB Type | | | | | | > 1-3 | | | | | | > | | | | | | > \-- bit 5 | | | | | | > in the | | | | | | > first octet | | | | | | > maps to | | | | | | > positioning | | | | | | > SIB Type | | | | | | > 1-4 | | | | | | > | | | | | | > \-- bit 4 | | | | | | > in the | | | | | | > first octet | | | | | | > maps to | | | | | | > positioning | | | | | | > SIB Type | | | | | | > 1-5 | | | | | | > | | | | | | > \-- bit 3 | | | | | | > in the | | | | | | > first octet | | | | | | > maps to | | | | | | > positioning | | | | | | > SIB Type | | | | | | > 1-6 | | | | | | > | | | | | | > \-- bit 2 | | | | | | > in the | | | | | | > first octet | | | | | | > maps to | | | | | | > positioning | | | | | | > SIB Type | | | | | | > 1-7 | | | | | | > | | | | | | > \-- bit 1 | | | | | | > in the | | | | | | > first octet | | | | | | > maps to | | | | | | > positioning | | | | | | > SIB Type | | | | | | > 1-8 | | | | | | > | | | | | | > \-- bit 8 | | | | | | > in the | | | | | | > second | | | | | | > octet maps | | | | | | > to | | | | | | > positioning | | | | | | > SIB Type | | | | | | > 2-1 | | | | | | > | | | | | | > \-- bit 7 | | | | | | > in the | | | | | | > second | | | | | | > octet maps | | | | | | > to | | | | | | > positioning | | | | | | > SIB Type | | | | | | > 2-2 | | | | | | > | | | | | | > \-- bit 6 | | | | | | > in the | | | | | | > second | | | | | | > octet maps | | | | | | > to | | | | | | > positioning | | | | | | > SIB Type | | | | | | > 2-3 | | | | | | > | | | | | | > \-- bit 5 | | | | | | > in the | | | | | | > second | | | | | | > octet maps | | | | | | > to | | | | | | > positioning | | | | | | > SIB Type | | | | | | > 2-4 | | | | | | > | | | | | | > \-- bit 4 | | | | | | > in the | | | | | | > second | | | | | | > octet maps | | | | | | > to | | | | | | > positioning | | | | | | > SIB Type | | | | | | > 2-5 | | | | | | > | | | | | | > \-- bit 3 | | | | | | > in the | | | | | | > second | | | | | | > octet maps | | | | | | > to | | | | | | > positioning | | | | | | > SIB Type | | | | | | > 2-6 | | | | | | > | | | | | | > \-- bit 2 | | | | | | > in the | | | | | | > second | | | | | | > octet maps | | | | | | > to | | | | | | > positioning | | | | | | > SIB Type | | | | | | > 2-7 | | | | | | > | | | | | | > \-- bit 1 | | | | | | > in the | | | | | | > second | | | | | | > octet maps | | | | | | > to | | | | | | > positioning | | | | | | > SIB Type | | | | | | > 2-8 | | | | | | > | | | | | | > \-- bit 8 | | | | | | > in the | | | | | | > third octet | | | | | | > maps to | | | | | | > positioning | | | | | | > SIB Type | | | | | | > 2-9 | | | | | | > | | | | | | > \-- bit 7 | | | | | | > in the | | | | | | > third octet | | | | | | > maps to | | | | | | > positioning | | | | | | > SIB Type | | | | | | > 2-10 | | | | | | > | | | | | | > \-- bit 6 | | | | | | > in the | | | | | | > third octet | | | | | | > maps to | | | | | | > positioning | | | | | | > SIB Type | | | | | | > 2-11 | | | | | | > | | | | | | > \-- bit 5 | | | | | | > in the | | | | | | > third octet | | | | | | > maps to | | | | | | > positioning | | | | | | > SIB Type | | | | | | > 2-12 | | | | | | > | | | | | | > \-- bit 4 | | | | | | > in the | | | | | | > third octet | | | | | | > maps to | | | | | | > positioning | | | | | | > SIB Type | | | | | | > 2-13 | | | | | | > | | | | | | > \-- bit 3 | | | | | | > in the | | | | | | > third octet | | | | | | > maps to | | | | | | > positioning | | | | | | > SIB Type | | | | | | > 2-14 | | | | | | > | | | | | | > \-- bit 2 | | | | | | > in the | | | | | | > third octet | | | | | | > maps to | | | | | | > positioning | | | | | | > SIB Type | | | | | | > 2-15 | | | | | | > | | | | | | > \-- bit 1 | | | | | | > in the | | | | | | > third octet | | | | | | > maps to | | | | | | > positioning | | | | | | > SIB Type | | | | | | > 2-16 | | | | | | > | | | | | | > \-- bit 8 | | | | | | > in the | | | | | | > fourth | | | | | | > octet maps | | | | | | > to | | | | | | > positioning | | | | | | > SIB Type | | | | | | > 2-17 | | | | | | > | | | | | | > \-- bit 7 | | | | | | > in the | | | | | | > fourth | | | | | | > octet maps | | | | | | > to | | | | | | > positioning | | | | | | > SIB Type | | | | | | > 2-18 | | | | | | > | | | | | | > \-- bit 6 | | | | | | > in the | | | | | | > fourth | | | | | | > octet maps | | | | | | > to | | | | | | > positioning | | | | | | > SIB Type | | | | | | > 2-19 | | | | | | > | | | | | | > \-- bit 5 | | | | | | > in the | | | | | | > fourth | | | | | | > octet maps | | | | | | > to | | | | | | > positioning | | | | | | > SIB Type | | | | | | > 2-20 | | | | | | > | | | | | | > \-- bit 4 | | | | | | > in the | | | | | | > fourth | | | | | | > octet maps | | | | | | > to | | | | | | > positioning | | | | | | > SIB Type | | | | | | > 2-21 | | | | | | > | | | | | | > \-- bit 3 | | | | | | > in the | | | | | | > fourth | | | | | | > octet maps | | | | | | > to | | | | | | > positioning | | | | | | > SIB Type | | | | | | > 2-22 | | | | | | > | | | | | | > \-- bit 2 | | | | | | > in the | | | | | | > fourth | | | | | | > octet maps | | | | | | > to | | | | | | > positioning | | | | | | > SIB Type | | | | | | > 2-23 | | | | | | > | | | | | | > \-- bit 1 | | | | | | > in the | | | | | | > fourth | | | | | | > octet maps | | | | | | > to | | | | | | > positioning | | | | | | > SIB Type | | | | | | > 3-1 | | | | | | > | | | | | | > \-- bit 8 | | | | | | > in the | | | | | | > fifth octet | | | | | | > maps to | | | | | | > positioning | | | | | | > SIB Type | | | | | | > 4-1 | | | | | | > | | | | | | > \-- bit 7 | | | | | | > in the | | | | | | > fifth octet | | | | | | > maps to | | | | | | > positioning | | | | | | > SIB Type | | | | | | > 5-1 | | | | | | > | | | | | | > \-- bit 6 | | | | | | > in the | | | | | | > fifth octet | | | | | | > maps to | | | | | | > positioning | | | | | | > SIB Type | | | | | | > 6-1 | | | | | | > | | | | | | > \-- bit 5 | | | | | | > in the | | | | | | > fifth octet | | | | | | > maps to | | | | | | > positioning | | | | | | > SIB Type | | | | | | > 6-2 | | | | | | > | | | | | | > \-- bit 4 | | | | | | > in the | | | | | | > fifth octet | | | | | | > maps to | | | | | | > positioning | | | | | | > SIB Type | | | | | | > 6-3 | | | | | | | | | | | | Any | | | | | | unassigned | | | | | | bits are | | | | | | spare and | | | | | | shall be | | | | | | coded as | | | | | | zero. | | | | | | Non-included | | | | | | bits shall be | | | | | | treated as | | | | | | being coded | | | | | | as zero. | | | | | | | | | | | | (NOTE 1) | +---------------+---------------+---+-------------+---------------+ | **validi | DateTime | M | 1 | This IE | | tyStartTime** | | | | contains the | | | | | | UTC time when | | | | | | the ciphering | | | | | | data set | | | | | | becomes | | | | | | valid. | +---------------+---------------+---+-------------+---------------+ | **valid | Val | M | 1 | The validity | | ityDuration** | idityDuration | | | duration of | | | | | | the ciphering | | | | | | data set. | +---------------+---------------+---+-------------+---------------+ | **taiList** | Bytes | O | 0..1 | This IE | | | | | | contains the | | | | | | TAIs of the | | | | | | tracking | | | | | | areas for | | | | | | which the | | | | | | ciphering | | | | | | data set is | | | | | | applicable. | | | | | | It is encoded | | | | | | as octets 2 | | | | | | to n of the | | | | | | 5GS tracking | | | | | | area identity | | | | | | list IE | | | | | | specified in | | | | | | cl | | | | | | ause 9.11.3.9 | | | | | | of | | | | | | 3GPP TS 2 | | | | | | 4.501 [22]. | | | | | | | | | | | | If this IE is | | | | | | omitted, the | | | | | | ciphering | | | | | | data set is | | | | | | valid in the | | | | | | entire PLMN. | +---------------+---------------+---+-------------+---------------+ | NOTE 1: At | | | | | | least one of | | | | | | ltesibTypes | | | | | | IE and | | | | | | nrsibTypes IE | | | | | | shall be | | | | | | included. | | | | | +---------------+---------------+---+-------------+---------------+
##### 6.2.6.2.5 Type: CipheringSetReport
Table 6.2.6.2.5-1: Definition of CipheringSetReport
Attribute name Data type P Cardinality Description
* * *
cipheringSetID CipheringSetID M 1 Identification of a ciphering data set
storageOutcome StorageOutcome M 1 Indication of whether the ciphering data set
was successfully stored or was not stored.
##### 6.2.6.2.6 Type: CipherRequestData
Table 6.2.6.2.6-1: Definition of CipherRequestData
Attribute name Data type P Cardinality Description
* * *
amfCallBackURI Uri M 1 Callback URI of the NF Service Consumer
supportedFeatures SupportedFeatures C 0..1 This IE shall be present if at
least one optional feature defined in clause 6.2.9 is supported.
##### 6.2.6.2.7 Type: CipherResponseData
Table 6.2.6.2.7-1: Definition of CipherResponseData
Attribute name Data type P Cardinality Description
* * *
dataAvailability DataAvailability M 1 An indication of whether the LMF
currently has ciphering key data applicable to the NF Service Consumer
#### 6.2.6.3 Simple data types and enumerations
##### 6.2.6.3.1 Introduction
This clause defines simple data types and enumerations that can be referenced
from data structures defined in the previous clauses.
##### 6.2.6.3.2 Simple data types
The simple data types defined in table 6.2.6.3.2-1 shall be supported.
Table 6.2.6.3.2-1: Simple data types
+------------------+-----------------+-------------------------------+ | Type Name | Type Definition | Description | +==================+=================+===============================+ | CipheringSetID | integer | The ciphering set ID | | | | | | | | Minimum = 0. Maximum = 65535 | +------------------+-----------------+-------------------------------+ | CipheringKey | Bytes | A 128 bit ciphering key | | | | encoded as a base64 character | | | | string | +------------------+-----------------+-------------------------------+ | C0 | Bytes | A 128 bit value for C0 | | | | encoded as a base64 character | | | | string | +------------------+-----------------+-------------------------------+ | ValidityDuration | integer | The validity duration in | | | | minutes. | | | | | | | | Minimum = 1. Maximum = 65535 | +------------------+-----------------+-------------------------------+
##### 6.2.6.3.3 Enumeration: StorageOutcome
The enumeration StorageOutcome represents the outcome of cipher set data
storage at the service consumer NF.
Table 6.2.6.3.3-1: Enumeration StorageOutcome
Enumeration value Description
* * *
\"STORAGE_SUCCESSFUL\" Indicates storage of Ciphering Data Set is successful
\"STORAGE_FAILED\" Indicates storage of Ciphering Data Set is not successful
##### 6.2.6.3.4 Enumeration: DataAvailability
The enumeration DataAvailability represents the availability of ciphering key
data at an LMF.
Table 6.2.6.3.4-1: Enumeration DataAvailability
Enumeration value Description
* * *
\"CIPHERING_KEY_DATA_AVAILABLE\" Indicates Ciphering Data Set is available in
LMF CIPHERING_KEY_DATA_NOT_AVAILABLE\" Indicates Ciphering Data Set is not
available in LMF
### 6.2.7 Error Handling
#### 6.2.7.1 General
HTTP error handling shall be supported as specified in clause 5.2.4 of 3GPP TS
29.500 [4].
#### 6.2.7.2 Protocol Errors
Protocol errors handling shall be supported as specified in clause 5.2.7 of
3GPP TS 29.500 [4].
#### 6.2.7.3 Application Errors
The application errors defined for the Nlmf_Broadcast service are listed in
table 6.2.7.3-1.
Table 6.2.7.3-1: Application errors
Application Error HTTP status code Description
* * *
UNSPECIFIED 403 Forbidden The request is rejected due to unspecified reasons.
UNABLE_TO_STORE_CIPHERING_KEY_DATA 403 Forbidden The service consumer NF was
unable to store ciphering key data. BROADCAST_CIPHERING_KEYS_NOT_SUPPORTED 403
Forbidden Ciphering keys for broadcast are not supported.
### 6.2.8 Security
The Nlmf_Broadcast API does not define service operations for which additional
security is needed in this version of the specification.
### 6.2.9 Feature Negotiation
The optional features in table 6.2.9-1 are defined for the Nlmf_Broadcast API.
They shall be negotiated using the extensibility mechanism defined in clause
6.6 of 3GPP TS 29.500 [4].
Table 6.2.9-1: Supported Features
+----------------+--------------+-----+----------------------+ | Feature number | Feature Name | M/O | Description | +================+==============+=====+======================+ | 1 | ES3XX | M | Extended Support of | | | | | HTTP 307/308 | | | | | redirection | | | | | | | | | | An NF Service | | | | | Consumer (e.g. AMF) | | | | | that supports this | | | | | feature shall | | | | | support handling of | | | | | HTTP 307/308 | | | | | redirection for any | | | | | service operation of | | | | | the Broadcast | | | | | service. An NF | | | | | Service Consumer | | | | | that does not | | | | | support this feature | | | | | does only support | | | | | HTTP redirection as | | | | | specified for 3GPP | | | | | Release 15. | +----------------+--------------+-----+----------------------+
### 6.2.10 HTTP redirection
An HTTP request may be redirected to a different LMF service instance, within
the same LMF or a different LMF of an LMF set, e.g. when an LMF service
instance is part of an LMF (service) set or when using indirect communications
(see 3GPP TS 29.500 [4]). See also the ES3XX feature in clause 6.2.9.
An SCP that reselects a different LMF producer instance will return the NF
Instance ID of the new LMF producer instance in the 3gpp-Sbi-Producer-Id
header, as specified in clause 6.10.3.4 of 3GPP TS 29.500 [4].
If an LMF within an LMF set redirects a service request to a different LMF of
the set using an 307 Temporary Redirect or 308 Permanent Redirect status code,
the identity of the new LMF towards which the service request is redirected
shall be indicated in the 3gpp-Sbi-Target-Nf-Id header of the 307 Temporary
Redirect or 308 Permanent Redirect response as specified in clause 6.10.9.1 of
3GPP TS 29.500 [4].
###### ## Annex A (normative): OpenAPI specification
## A.1 General
This Annex specifies the formal definition of the Nlmf Service APIs. It
consists of an OpenAPI 3.0.0 specification, in YAML format.
This Annex takes precedence when being discrepant to other parts of the
specification with respect to the encoding of information elements and methods
within the API(s).
NOTE: The semantics and procedures, as well as conditions, e.g. for the
applicability and allowed combinations of attributes or values, not expressed
in the OpenAPI definitions but defined in other parts of the specification
also apply.
Informative copies of the OpenAPI specification files contained in this 3GPP
Technical Specification are available on a Git-based repository, that uses the
GitLab software version control system (see 3GPP TS 29.501 [5] clause 5.3.1
and 3GPP TR 21.900 [7] clause 5B).
## A.2 Nlmf_Location API
openapi: 3.0.0
info:
version: \'1.1.5\'
title: \'LMF Location\'
description: \|
LMF Location Service.
Â© 2022, 3GPP Organizational Partners (ARIB, ATIS, CCSA, ETSI, TSDSI, TTA,
TTC).
All rights reserved.
externalDocs:
description: 3GPP TS 29.572 V16.9.0; 5G System; Location Management Services;
Stage 3
url: \'http://www.3gpp.org/ftp/Specs/archive/29_series/29.572/\'
servers:
\- url: \'{apiRoot}/nlmf-loc/v1\'
variables:
apiRoot:
default: https://example.com
description: apiRoot as defined in clause 4.4 of 3GPP TS 29.501
security:
\- {}
\- oAuth2ClientCredentials:
\- nlmf-loc
paths:
/determine-location:
post:
summary: Determine Location of an UE
operationId: DetermineLocation
tags:
\- Determine Location
requestBody:
content:
application/json:
schema:
\$ref: \'#/components/schemas/InputData\'
multipart/related: # message with binary body part(s)
schema:
type: object
properties: # Request parts
jsonData:
\$ref: \'#/components/schemas/InputData\'
binaryDataLppMessage:
type: string
format: binary
encoding:
jsonData:
contentType: application/json
binaryDataLppMessage:
contentType: application/vnd.3gpp.lpp
headers:
Content-Id:
schema:
type: string
required: true
responses:
\'200\':
description: Expected response to a valid request
content:
application/json:
schema:
\$ref: \'#/components/schemas/LocationData\'
\'204\':
description: Expected response for MO-LR requesting location assistance data.
\'307\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'411\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
\'504\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/504\'
default:
\$ref: \'TS29571_CommonData.yaml#/components/responses/default\'
callbacks:
EventNotify:
\'{\$request.body#/hgmlcCallBackURI}\':
post:
requestBody:
description: UE Event Notification
content:
application/json:
schema:
\$ref: \'#/components/schemas/EventNotifyData\'
responses:
\'204\':
description: Expected response to a valid notification
\'307\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'411\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
\'504\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/504\'
default:
\$ref: \'TS29571_CommonData.yaml#/components/responses/default\'
/cancel-location:
post:
summary: request cancellation of periodic or triggered location
operationId: CancelLocation
tags:
\- Cancel Location
requestBody:
content:
application/json:
schema:
\$ref: \'#/components/schemas/CancelLocData\'
required: true
responses:
\'204\':
description: Expected response to a successful cancellation
\'307\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'411\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
\'504\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/504\'
default:
\$ref: \'TS29571_CommonData.yaml#/components/responses/default\'
/location-context-transfer:
post:
summary: transfer context information for periodic or triggered location
operationId: LocationContextTransfer
tags:
\- Location Context Transfer
requestBody:
content:
application/json:
schema:
\$ref: \'#/components/schemas/LocContextData\'
required: true
responses:
\'204\':
description: Expected response to successful location context transfer
\'307\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'411\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
\'504\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/504\'
default:
\$ref: \'TS29571_CommonData.yaml#/components/responses/default\'
components:
securitySchemes:
oAuth2ClientCredentials:
type: oauth2
flows:
clientCredentials:
tokenUrl: \'{nrfApiRoot}/oauth2/token\'
scopes:
nlmf-loc: Access to the Nlmf_Location API
schemas:
#
# COMPLEX TYPES
#
InputData:
type: object
not:
required: [ ecgi, ncgi ]
properties:
externalClientType:
\$ref: \'#/components/schemas/ExternalClientType\'
correlationID:
\$ref: \'#/components/schemas/CorrelationID\'
amfId:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/NfInstanceId\'
locationQoS:
\$ref: \'#/components/schemas/LocationQoS\'
supportedGADShapes:
type: array
items:
\$ref: \'#/components/schemas/SupportedGADShapes\'
minItems: 1
supi:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Supi\'
pei:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Pei\'
gpsi:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Gpsi\'
ecgi:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Ecgi\'
ecgiOnSecondNode:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Ecgi\'
ncgi:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Ncgi\'
ncgiOnSecondNode:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Ncgi\'
priority:
\$ref: \'#/components/schemas/LcsPriority\'
velocityRequested:
\$ref: \'#/components/schemas/VelocityRequested\'
ueLcsCap:
\$ref: \'#/components/schemas/UeLcsCapability\'
lcsServiceType:
\$ref: \'#/components/schemas/LcsServiceType\'
ldrType:
\$ref: \'#/components/schemas/LdrType\'
hgmlcCallBackURI:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Uri\'
vgmlcAddress:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Uri\'
ldrReference:
\$ref: \'#/components/schemas/LdrReference\'
periodicEventInfo:
\$ref: \'#/components/schemas/PeriodicEventInfo\'
areaEventInfo:
\$ref: \'#/components/schemas/AreaEventInfo\'
motionEventInfo:
\$ref: \'#/components/schemas/MotionEventInfo\'
reportingAccessTypes:
type: array
items:
\$ref: \'#/components/schemas/ReportingAccessType\'
minItems: 1
ueConnectivityStates:
\$ref: \'#/components/schemas/UeConnectivityState\'
ueLocationServiceInd:
\$ref: \'#/components/schemas/UeLocationServiceInd\'
lppMessage:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/RefToBinaryData\'
supportedFeatures:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/SupportedFeatures\'
LocationData:
type: object
required:
\- locationEstimate
properties:
locationEstimate:
\$ref: \'#/components/schemas/GeographicArea\'
accuracyFulfilmentIndicator:
\$ref: \'#/components/schemas/AccuracyFulfilmentIndicator\'
ageOfLocationEstimate:
\$ref: \'#/components/schemas/AgeOfLocationEstimate\'
velocityEstimate:
\$ref: \'#/components/schemas/VelocityEstimate\'
civicAddress:
\$ref: \'#/components/schemas/CivicAddress\'
positioningDataList:
type: array
items:
\$ref: \'#/components/schemas/PositioningMethodAndUsage\'
minItems: 1
gnssPositioningDataList:
type: array
items:
\$ref: \'#/components/schemas/GnssPositioningMethodAndUsage\'
minItems: 1
ecgi:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Ecgi\'
ncgi:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Ncgi\'
altitude:
\$ref: \'#/components/schemas/Altitude\'
barometricPressure:
\$ref: \'#/components/schemas/BarometricPressure\'
servingLMFIdentification:
\$ref: \'#/components/schemas/LMFIdentification\'
GeographicArea:
anyOf:
\- \$ref: \'#/components/schemas/Point\'
\- \$ref: \'#/components/schemas/PointUncertaintyCircle\'
\- \$ref: \'#/components/schemas/PointUncertaintyEllipse\'
\- \$ref: \'#/components/schemas/Polygon\'
\- \$ref: \'#/components/schemas/PointAltitude\'
\- \$ref: \'#/components/schemas/PointAltitudeUncertainty\'
\- \$ref: \'#/components/schemas/EllipsoidArc\'
GADShape:
type: object
required:
\- shape
properties:
shape:
\$ref: \'#/components/schemas/SupportedGADShapes\'
discriminator:
propertyName: shape
mapping:
POINT: \'#/components/schemas/Point\'
POINT_UNCERTAINTY_CIRCLE: \'#/components/schemas/PointUncertaintyCircle\'
POINT_UNCERTAINTY_ELLIPSE: \'#/components/schemas/PointUncertaintyEllipse\'
POLYGON: \'#/components/schemas/Polygon\'
POINT_ALTITUDE: \'#/components/schemas/PointAltitude\'
POINT_ALTITUDE_UNCERTAINTY: \'#/components/schemas/PointAltitudeUncertainty\'
ELLIPSOID_ARC: \'#/components/schemas/EllipsoidArc\'
Point:
allOf:
\- \$ref: \'#/components/schemas/GADShape\'
\- type: object
required:
\- point
properties:
point:
\$ref: \'#/components/schemas/GeographicalCoordinates\'
PointUncertaintyCircle:
allOf:
\- \$ref: \'#/components/schemas/GADShape\'
\- type: object
required:
\- point
\- uncertainty
properties:
point:
\$ref: \'#/components/schemas/GeographicalCoordinates\'
uncertainty:
\$ref: \'#/components/schemas/Uncertainty\'
PointUncertaintyEllipse:
allOf:
\- \$ref: \'#/components/schemas/GADShape\'
\- type: object
required:
\- point
\- uncertaintyEllipse
\- confidence
properties:
point:
\$ref: \'#/components/schemas/GeographicalCoordinates\'
uncertaintyEllipse:
\$ref: \'#/components/schemas/UncertaintyEllipse\'
confidence:
\$ref: \'#/components/schemas/Confidence\'
Polygon:
allOf:
\- \$ref: \'#/components/schemas/GADShape\'
\- type: object
required:
\- pointList
properties:
pointList:
\$ref: \'#/components/schemas/PointList\'
PointAltitude:
allOf:
\- \$ref: \'#/components/schemas/GADShape\'
\- type: object
required:
\- point
\- altitude
properties:
point:
\$ref: \'#/components/schemas/GeographicalCoordinates\'
altitude:
\$ref: \'#/components/schemas/Altitude\'
PointAltitudeUncertainty:
allOf:
\- \$ref: \'#/components/schemas/GADShape\'
\- type: object
required:
\- point
\- altitude
\- uncertaintyEllipse
\- uncertaintyAltitude
\- confidence
properties:
point:
\$ref: \'#/components/schemas/GeographicalCoordinates\'
altitude:
\$ref: \'#/components/schemas/Altitude\'
uncertaintyEllipse:
\$ref: \'#/components/schemas/UncertaintyEllipse\'
uncertaintyAltitude:
\$ref: \'#/components/schemas/Uncertainty\'
confidence:
\$ref: \'#/components/schemas/Confidence\'
EllipsoidArc:
allOf:
\- \$ref: \'#/components/schemas/GADShape\'
\- type: object
required:
\- point
\- innerRadius
\- uncertaintyRadius
\- offsetAngle
\- includedAngle
\- confidence
properties:
point:
\$ref: \'#/components/schemas/GeographicalCoordinates\'
innerRadius:
\$ref: \'#/components/schemas/InnerRadius\'
uncertaintyRadius:
\$ref: \'#/components/schemas/Uncertainty\'
offsetAngle:
\$ref: \'#/components/schemas/Angle\'
includedAngle:
\$ref: \'#/components/schemas/Angle\'
confidence:
\$ref: \'#/components/schemas/Confidence\'
GeographicalCoordinates:
type: object
required:
\- lon
\- lat
properties:
lon:
type: number
format: double
minimum: -180
maximum: 180
lat:
type: number
format: double
minimum: -90
maximum: 90
UncertaintyEllipse:
type: object
required:
\- semiMajor
\- semiMinor
\- orientationMajor
properties:
semiMajor:
\$ref: \'#/components/schemas/Uncertainty\'
semiMinor:
\$ref: \'#/components/schemas/Uncertainty\'
orientationMajor:
\$ref: \'#/components/schemas/Orientation\'
PointList:
type: array
items:
\$ref: \'#/components/schemas/GeographicalCoordinates\'
minItems: 3
maxItems: 15
LocationQoS:
type: object
properties:
hAccuracy:
\$ref: \'#/components/schemas/Accuracy\'
vAccuracy:
\$ref: \'#/components/schemas/Accuracy\'
verticalRequested:
type: boolean
responseTime:
\$ref: \'#/components/schemas/ResponseTime\'
lcsQosClass:
\$ref: \'#/components/schemas/LcsQosClass\'
PositioningMethodAndUsage:
type: object
required:
\- method
\- mode
\- usage
properties:
method:
\$ref: \'#/components/schemas/PositioningMethod\'
mode:
\$ref: \'#/components/schemas/PositioningMode\'
usage:
\$ref: \'#/components/schemas/Usage\'
methodCode:
type: integer
minimum: 16
maximum: 31
GnssPositioningMethodAndUsage:
type: object
required:
\- mode
\- gnss
\- usage
properties:
mode:
\$ref: \'#/components/schemas/PositioningMode\'
gnss:
\$ref: \'#/components/schemas/GnssId\'
usage:
\$ref: \'#/components/schemas/Usage\'
CivicAddress:
type: object
properties:
country:
type: string
A1:
type: string
A2:
type: string
A3:
type: string
A4:
type: string
A5:
type: string
A6:
type: string
PRD:
type: string
POD:
type: string
STS:
type: string
HNO:
type: string
HNS:
type: string
LMK:
type: string
LOC:
type: string
NAM:
type: string
PC:
type: string
BLD:
type: string
UNIT:
type: string
FLR:
type: string
ROOM:
type: string
PLC:
type: string
PCN:
type: string
POBOX:
type: string
ADDCODE:
type: string
SEAT:
type: string
RD:
type: string
RDSEC:
type: string
RDBR:
type: string
RDSUBBR:
type: string
PRM:
type: string
POM:
type: string
usageRules:
type: string
method:
type: string
providedBy:
type: string
VelocityEstimate:
oneOf:
\- \$ref: \'#/components/schemas/HorizontalVelocity\'
\- \$ref: \'#/components/schemas/HorizontalWithVerticalVelocity\'
\- \$ref: \'#/components/schemas/HorizontalVelocityWithUncertainty\'
\- \$ref:
\'#/components/schemas/HorizontalWithVerticalVelocityAndUncertainty\'
HorizontalVelocity:
type: object
required:
\- hSpeed
\- bearing
properties:
hSpeed:
\$ref: \'#/components/schemas/HorizontalSpeed\'
bearing:
\$ref: \'#/components/schemas/Angle\'
HorizontalWithVerticalVelocity:
type: object
required:
\- hSpeed
\- bearing
\- vSpeed
\- vDirection
properties:
hSpeed:
\$ref: \'#/components/schemas/HorizontalSpeed\'
bearing:
\$ref: \'#/components/schemas/Angle\'
vSpeed:
\$ref: \'#/components/schemas/VerticalSpeed\'
vDirection:
\$ref: \'#/components/schemas/VerticalDirection\'
HorizontalVelocityWithUncertainty:
type: object
required:
\- hSpeed
\- bearing
\- hUncertainty
properties:
hSpeed:
\$ref: \'#/components/schemas/HorizontalSpeed\'
bearing:
\$ref: \'#/components/schemas/Angle\'
hUncertainty:
\$ref: \'#/components/schemas/SpeedUncertainty\'
HorizontalWithVerticalVelocityAndUncertainty:
type: object
required:
\- hSpeed
\- bearing
\- vSpeed
\- vDirection
\- hUncertainty
\- vUncertainty
properties:
hSpeed:
\$ref: \'#/components/schemas/HorizontalSpeed\'
bearing:
\$ref: \'#/components/schemas/Angle\'
vSpeed:
\$ref: \'#/components/schemas/VerticalSpeed\'
vDirection:
\$ref: \'#/components/schemas/VerticalDirection\'
hUncertainty:
\$ref: \'#/components/schemas/SpeedUncertainty\'
vUncertainty:
\$ref: \'#/components/schemas/SpeedUncertainty\'
UeLcsCapability:
type: object
properties:
lppSupport:
type: boolean
default: true
ciotOptimisation:
type: boolean
default: false
PeriodicEventInfo:
type: object
required:
\- reportingAmount
\- reportingInterval
properties:
reportingAmount:
\$ref: \'#/components/schemas/ReportingAmount\'
reportingInterval:
\$ref: \'#/components/schemas/ReportingInterval\'
AreaEventInfo:
type: object
required:
\- areaDefinition
properties:
areaDefinition:
type: array
items:
\$ref: \'#/components/schemas/ReportingArea\'
minItems: 1
maxItems: 250
occurrenceInfo:
\$ref: \'#/components/schemas/OccurrenceInfo\'
minimumInterval:
\$ref: \'#/components/schemas/MinimumInterval\'
maximumInterval:
\$ref: \'#/components/schemas/MaximumInterval\'
samplingInterval:
\$ref: \'#/components/schemas/SamplingInterval\'
reportingDuration:
\$ref: \'#/components/schemas/ReportingDuration\'
reportingLocationReq:
type: boolean
default: true
ReportingArea:
type: object
required:
\- areaType
properties:
areaType:
\$ref: \'#/components/schemas/ReportingAreaType\'
tai:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Tai\'
ecgi:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Ecgi\'
ncgi:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Ncgi\'
MotionEventInfo:
type: object
required:
\- linearDistance
properties:
linearDistance:
\$ref: \'#/components/schemas/LinearDistance\'
occurrenceInfo:
\$ref: \'#/components/schemas/OccurrenceInfo\'
minimumInterval:
\$ref: \'#/components/schemas/MinimumInterval\'
maximumInterval:
\$ref: \'#/components/schemas/MaximumInterval\'
samplingInterval:
\$ref: \'#/components/schemas/SamplingInterval\'
reportingDuration:
\$ref: \'#/components/schemas/ReportingDuration\'
reportingLocationReq:
type: boolean
default: true
CancelLocData:
type: object
required:
\- hgmlcCallBackURI
\- ldrReference
properties:
hgmlcCallBackURI:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Uri\'
ldrReference:
\$ref: \'#/components/schemas/LdrReference\'
supportedFeatures:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/SupportedFeatures\'
LocContextData:
type: object
required:
\- amfId
\- ldrType
\- hgmlcCallBackURI
\- ldrReference
\- eventReportMessage
properties:
amfId:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/NfInstanceId\'
locationQoS:
\$ref: \'#/components/schemas/LocationQoS\'
supportedGADShapes:
type: array
items:
\$ref: \'#/components/schemas/SupportedGADShapes\'
minItems: 1
supi:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Supi\'
gpsi:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Gpsi\'
ldrType:
\$ref: \'#/components/schemas/LdrType\'
hgmlcCallBackURI:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Uri\'
ldrReference:
\$ref: \'#/components/schemas/LdrReference\'
periodicEventInfo:
\$ref: \'#/components/schemas/PeriodicEventInfo\'
areaEventInfo:
\$ref: \'#/components/schemas/AreaEventInfo\'
motionEventInfo:
\$ref: \'#/components/schemas/MotionEventInfo\'
eventReportMessage:
\$ref: \'#/components/schemas/EventReportMessage\'
eventReportingStatus:
\$ref: \'#/components/schemas/EventReportingStatus\'
ueLocationInfo:
\$ref: \'#/components/schemas/UELocationInfo\'
cIoT5GSOptimisation:
type: boolean
default: false
ecgi:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Ecgi\'
ncgi:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Ncgi\'
guami:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Guami\'
supportedFeatures:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/SupportedFeatures\'
EventReportMessage:
type: object
required:
\- eventClass
\- eventContent
properties:
eventClass:
\$ref: \'#/components/schemas/EventClass\'
eventContent:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/RefToBinaryData\'
EventReportingStatus:
type: object
properties:
eventReportCounter:
\$ref: \'#/components/schemas/EventReportCounter\'
eventReportDuration:
\$ref: \'#/components/schemas/EventReportDuration\'
UELocationInfo:
type: object
properties:
locationEstimate:
\$ref: \'#/components/schemas/GeographicArea\'
ageOfLocationEstimate:
\$ref: \'#/components/schemas/AgeOfLocationEstimate\'
velocityEstimate:
\$ref: \'#/components/schemas/VelocityEstimate\'
ageOfVelocityEstimate:
\$ref: \'#/components/schemas/AgeOfLocationEstimate\'
EventNotifyData:
type: object
required:
\- reportedEventType
\- ldrReference
properties:
reportedEventType:
\$ref: \'#/components/schemas/ReportedEventType\'
supi:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Supi\'
gpsi:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Gpsi\'
hgmlcCallBackURI:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Uri\'
ldrReference:
\$ref: \'#/components/schemas/LdrReference\'
locationEstimate:
\$ref: \'#/components/schemas/GeographicArea\'
ageOfLocationEstimate:
\$ref: \'#/components/schemas/AgeOfLocationEstimate\'
civicAddress:
\$ref: \'#/components/schemas/CivicAddress\'
positioningDataList:
type: array
items:
\$ref: \'#/components/schemas/PositioningMethodAndUsage\'
minItems: 1
gnssPositioningDataList:
type: array
items:
\$ref: \'#/components/schemas/GnssPositioningMethodAndUsage\'
minItems: 1
servingLMFidentification:
\$ref: \'#/components/schemas/LMFIdentification\'
terminationCause:
\$ref: \'#/components/schemas/TerminationCause\'
velocityEstimate:
\$ref: \'#/components/schemas/VelocityEstimate\'
altitude:
\$ref: \'#/components/schemas/Altitude\'
supportedFeatures:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/SupportedFeatures\'
UeConnectivityState:
type: object
required:
\- accessType
properties:
accessType:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/AccessType\'
connectivitystate:
\$ref: \'TS29518_Namf_EventExposure.yaml#/components/schemas/CmState\'
#
#
# SIMPLE TYPES
#
Altitude:
type: number
format: double
minimum: -32767
maximum: 32767
Angle:
type: integer
minimum: 0
maximum: 360
Uncertainty:
type: number
format: float
minimum: 0
Orientation:
type: integer
minimum: 0
maximum: 180
Confidence:
type: integer
minimum: 0
maximum: 100
Accuracy:
type: number
format: float
minimum: 0
InnerRadius:
type: integer
format: int32
minimum: 0
maximum: 327675
CorrelationID:
type: string
minLength: 1
maxLength: 255
AgeOfLocationEstimate:
type: integer
minimum: 0
maximum: 32767
HorizontalSpeed:
type: number
format: float
minimum: 0
maximum: 2047
VerticalSpeed:
type: number
format: float
minimum: 0
maximum: 255
SpeedUncertainty:
type: number
format: float
minimum: 0
maximum: 255
BarometricPressure:
type: integer
minimum: 30000
maximum: 115000
LcsServiceType:
type: integer
minimum: 0
maximum: 127
LdrReference:
type: string
minLength: 2
maxLength: 510
ReportingAmount:
type: integer
minimum: 1
maximum: 8639999
ReportingInterval:
type: integer
minimum: 1
maximum: 8639999
MinimumInterval:
type: integer
minimum: 1
maximum: 32767
MaximumInterval:
type: integer
minimum: 1
maximum: 86400
SamplingInterval:
type: integer
minimum: 1
maximum: 3600
ReportingDuration:
type: integer
minimum: 1
maximum: 8640000
LinearDistance:
type: integer
minimum: 1
maximum: 10000
LMFIdentification:
type: string
EventReportCounter:
type: integer
minimum: 1
maximum: 8640000
EventReportDuration:
type: integer
minimum: 1
maximum: 8640000
#
# ENUMS
#
ExternalClientType:
anyOf:
\- type: string
enum:
\- EMERGENCY_SERVICES
\- VALUE_ADDED_SERVICES
\- PLMN_OPERATOR_SERVICES
\- LAWFUL_INTERCEPT_SERVICES
\- PLMN_OPERATOR_BROADCAST_SERVICES
\- PLMN_OPERATOR_OM
\- PLMN_OPERATOR_ANONYMOUS_STATISTICS
\- PLMN_OPERATOR_TARGET_MS_SERVICE_SUPPORT
\- type: string
SupportedGADShapes:
anyOf:
\- type: string
enum:
\- POINT
\- POINT_UNCERTAINTY_CIRCLE
\- POINT_UNCERTAINTY_ELLIPSE
\- POLYGON
\- POINT_ALTITUDE
\- POINT_ALTITUDE_UNCERTAINTY
\- ELLIPSOID_ARC
\- type: string
ResponseTime:
anyOf:
\- type: string
enum:
\- LOW_DELAY
\- DELAY_TOLERANT
\- NO_DELAY
\- type: string
PositioningMethod:
anyOf:
\- type: string
enum:
\- CELLID
\- ECID
\- OTDOA
\- BAROMETRIC_PRESSURE
\- WLAN
\- BLUETOOTH
\- MBS
\- MOTION_SENSOR
\- DL_TDOA
\- DL_AOD
\- MULTI-RTT
\- NR_ECID
\- UL_TDOA
\- UL_AOA
\- NETWORK_SPECIFIC
\- type: string
PositioningMode:
anyOf:
\- type: string
enum:
\- UE_BASED
\- UE_ASSISTED
\- CONVENTIONAL
\- type: string
GnssId:
anyOf:
\- type: string
enum:
\- GPS
\- GALILEO
\- SBAS
\- MODERNIZED_GPS
\- QZSS
\- GLONASS
\- BDS
\- NAVIC
\- type: string
Usage:
anyOf:
\- type: string
enum:
\- UNSUCCESS
\- SUCCESS_RESULTS_NOT_USED
\- SUCCESS_RESULTS_USED_TO_VERIFY_LOCATION
\- SUCCESS_RESULTS_USED_TO_GENERATE_LOCATION
\- SUCCESS_METHOD_NOT_DETERMINED
\- type: string
LcsPriority:
anyOf:
\- type: string
enum:
\- HIGHEST_PRIORITY
\- NORMAL_PRIORITY
\- type: string
VelocityRequested:
anyOf:
\- type: string
enum:
\- VELOCITY_IS_NOT_REQUESTED
\- VELOCITY_IS_REQUESTED
\- type: string
AccuracyFulfilmentIndicator:
anyOf:
\- type: string
enum:
\- REQUESTED_ACCURACY_FULFILLED
\- REQUESTED_ACCURACY_NOT_FULFILLED
\- type: string
VerticalDirection:
type: string
enum:
\- UPWARD
\- DOWNWARD
LdrType:
anyOf:
\- type: string
enum:
\- UE_AVAILABLE
\- PERIODIC
\- ENTERING_INTO_AREA
\- LEAVING_FROM_AREA
\- BEING_INSIDE_AREA
\- MOTION
\- type: string
ReportingAreaType:
anyOf:
\- type: string
enum:
\- EPS_TRACKING_AREA_IDENTITY
\- E-UTRAN_CELL_GLOBAL_IDENTIFICATION
\- 5GS_TRACKING_AREA_IDENTITY
\- NR_CELL_GLOBAL_IDENTITY
\- type: string
OccurrenceInfo:
anyOf:
\- type: string
enum:
\- ONE_TIME_EVENT
\- MULTIPLE_TIME_EVENT
\- type: string
ReportingAccessType:
anyOf:
\- type: string
enum:
\- NR
\- EUTRA_CONNECTED_TO_5GC
\- NON_3GPP_CONNECTED_TO_5GC
\- type: string
EventClass:
anyOf:
\- type: string
enum:
\- SUPPLEMENTARY_SERVICES
\- type: string
ReportedEventType:
anyOf:
\- type: string
enum:
\- PERIODIC_EVENT
\- ENTERING_AREA_EVENT
\- LEAVING_AREA_EVENT
\- BEING_INSIDE_AREA_EVENT
\- MOTION_EVENT
\- MAXIMUM_INTERVAL_EXPIRATION_EVENT
\- LOCATION_CANCELLATION_EVENT
\- type: string
TerminationCause:
anyOf:
\- type: string
enum:
\- TERMINATION_BY_UE
\- TERMINATION_BY_NETWORK
\- NORMAL_TERMINATION
\- type: string
LcsQosClass:
anyOf:
\- type: string
enum:
\- BEST_EFFORT
\- ASSURED
\- type: string
UeLocationServiceInd:
anyOf:
\- type: string
enum:
\- LOCATION_ESTIMATE
\- LOCATION_ASSISTANCE_DATA
\- type: string
## A.3 Nlmf_Broadcast API
openapi: 3.0.0
info:
version: \'1.0.3\'
title: \'LMF Broadcast\'
description: \|
LMF Broadcast Service.
Â© 2021, 3GPP Organizational Partners (ARIB, ATIS, CCSA, ETSI, TSDSI, TTA,
TTC).
All rights reserved.
externalDocs:
description: 3GPP TS 29.572 V16.8.0; 5G System; Location Management Services;
Stage 3
url: \'http://www.3gpp.org/ftp/Specs/archive/29_series/29.572/\'
servers:
\- url: \'{apiRoot}/nlmf-broadcast/v1\'
variables:
apiRoot:
default: https://example.com
description: apiRoot as defined in clause 4.4 of 3GPP TS 29.501
paths:
/cipher-key-data:
post:
summary: Request ciphering key data
operationId: CipheringKeyData
tags:
\- Request Ciphering Key Data
requestBody:
content:
application/json:
schema:
\$ref: \'#/components/schemas/CipherRequestData\'
required: true
responses:
\'200\':
description: Expected response to a valid request
content:
application/json:
schema:
\$ref: \'#/components/schemas/CipherResponseData\'
\'307\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'411\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
\'504\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/504\'
default:
\$ref: \'TS29571_CommonData.yaml#/components/responses/default\'
callbacks:
CipheringKeyData:
\'{\$request.body#/amfCallBackURI}\':
post:
requestBody:
description: Ciphering Key Data Notification
content:
application/json:
schema:
\$ref: \'#/components/schemas/CipheringKeyInfo\'
responses:
\'200\':
description: Expected response to a valid request
content:
application/json:
schema:
\$ref: \'#/components/schemas/CipheringKeyResponse\'
\'307\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'411\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
\'504\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/504\'
default:
\$ref: \'TS29571_CommonData.yaml#/components/responses/default\'
components:
schemas:
#
# COMPLEX TYPES
#
CipheringKeyInfo:
type: object
required:
\- cipheringData
properties:
cipheringData:
type: array
items:
\$ref: \'#/components/schemas/CipheringDataSet\'
minItems: 1
supportedFeatures:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/SupportedFeatures\'
CipheringKeyResponse:
type: object
properties:
cipheringDataReport:
type: array
items:
\$ref: \'#/components/schemas/CipheringSetReport\'
minItems: 1
CipheringDataSet:
type: object
required:
\- cipheringSetID
\- cipheringKey
\- c0
\- validityStartTime
\- validityDuration
properties:
cipheringSetID:
\$ref: \'#/components/schemas/CipheringSetID\'
cipheringKey:
\$ref: \'#/components/schemas/CipheringKey\'
c0:
\$ref: \'#/components/schemas/C0\'
ltePosSibTypes:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Bytes\'
nrPosSibTypes:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Bytes\'
validityStartTime:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/DateTime\'
validityDuration:
\$ref: \'#/components/schemas/ValidityDuration\'
taiList:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Bytes\'
CipheringSetReport:
type: object
required:
\- cipheringSetID
\- storageOutcome
properties:
cipheringSetID:
\$ref: \'#/components/schemas/CipheringSetID\'
storageOutcome:
\$ref: \'#/components/schemas/StorageOutcome\'
CipherRequestData:
type: object
required:
\- amfCallBackURI
properties:
amfCallBackURI:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Uri\'
supportedFeatures:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/SupportedFeatures\'
CipherResponseData:
type: object
required:
\- dataAvailability
properties:
dataAvailability:
\$ref: \'#/components/schemas/DataAvailability\'
#
#
# SIMPLE TYPES
#
CipheringSetID:
type: integer
minimum: 0
maximum: 65535
CipheringKey:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Bytes\'
C0:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Bytes\'
ValidityDuration:
type: integer
minimum: 1
maximum: 65535
#
# ENUMS
#
StorageOutcome:
anyOf:
\- type: string
enum:
\- STORAGE_SUCCESSFUL
\- STORAGE_FAILED
DataAvailability:
anyOf:
\- type: string
enum:
\- CIPHERING_KEY_DATA_AVAILABLE
\- CIPHERING_KEY_DATA_NOT_AVAILABLE
#