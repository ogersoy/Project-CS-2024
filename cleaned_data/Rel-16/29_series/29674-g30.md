# Foreword
This Technical Specification has been produced by the 3rd Generation
Partnership Project (3GPP).
The contents of the present document are subject to continuing work within the
TSG and may change following formal TSG approval. Should the TSG modify the
contents of the present document, it will be re-released by the TSG with an
identifying change of release date and an increase in version number as
follows:
Version x.y.z
where:
x the first digit:
1 presented to TSG for information;
2 presented to TSG for approval;
3 or greater indicates TSG approved document under change control.
y the second digit is incremented for all changes of substance, i.e. technical
enhancements, corrections, updates, etc.
z the third digit is incremented when editorial only changes have been
incorporated in the document.
In the present document, modal verbs have the following meanings:
**shall** indicates a mandatory requirement to do something
**shall not** indicates an interdiction (prohibition) to do something
The constructions \"shall\" and \"shall not\" are confined to the context of
normative provisions, and do not appear in Technical Reports.
The constructions \"must\" and \"must not\" are not used as substitutes for
\"shall\" and \"shall not\". Their use is avoided insofar as possible, and
they are not used in a normative context except in a direct citation from an
external, referenced, non-3GPP document, or so as to maintain continuity of
style when extending or modifying the provisions of such a referenced
document.
**should** indicates a recommendation to do something
**should not** indicates a recommendation not to do something
**may** indicates permission to do something
**need not** indicates permission not to do something
The construction \"may not\" is ambiguous and is not used in normative
elements. The unambiguous constructions \"might not\" or \"shall not\" are
used instead, depending upon the meaning intended.
**can** indicates that something is possible
**cannot** indicates that something is impossible
The constructions \"can\" and \"cannot\" are not substitutes for \"may\" and
\"need not\".
**will** indicates that something is certain or expected to happen as a result
of action taken by an agency the behaviour of which is outside the scope of
the present document
**will not** indicates that something is certain or expected not to happen as
a result of action taken by an agency the behaviour of which is outside the
scope of the present document
**might** indicates a likelihood that something will happen as a result of
action taken by some agency the behaviour of which is outside the scope of the
present document
**might not** indicates a likelihood that something will not happen as a
result of action taken by some agency the behaviour of which is outside the
scope of the present document
In addition:
**is** (or any other verb in the indicative mood) indicates a statement of
fact
**is not** (or any other negative verb in the indicative mood) indicates a
statement of fact
The constructions \"is\" and \"is not\" do not indicate requirements.
# 1 Scope
The present document specifies the UE Radio Capability Management Protocol
used on the interface between the MME and UCMF as specified in 3GPP TS 23.401
[2]. In the related stage 2 specifications the prefix S17 is used for these
common procedures realised by URCMP.
NOTE: As an alternative of URCMP, the MME could use SBI interface to access
UCMF Services.
# 2 References
The following documents contain provisions which, through reference in this
text, constitute provisions of the present document.
\- References are either specific (identified by date of publication, edition
number, version number, etc.) or nonâ€‘specific.
\- For a specific reference, subsequent revisions do not apply.
\- For a non-specific reference, the latest version applies. In the case of a
reference to a 3GPP document (including a GSM document), a non-specific
reference implicitly refers to the latest version of that document _in the
same Release as the present document_.
[1] 3GPP TR 21.905: \"Vocabulary for 3GPP Specifications\".
[2] 3GPP TS 23.401: \"General Packet Radio Service (GPRS) enhancements for
Evolved Universal Terrestrial Radio Access Network (E-UTRAN) access\".
[3] IETF RFC 768: \"User Datagram Protocol\".
[4] IETF RFC 791: \"INTERNET PROTOCOL\".
[5] IETF RFC 8200: \"Internet Protocol, Version 6 (Ipv6) Specification\".
[6] 3GPP TS 23.003: \"Numbering, addressing and identification\".
[7] 3GPP TS 24.301: \"Non-Access-Stratum (NAS) protocol for Evolved Packet
System (EPS); Stage 3\".
[8] 3GPP TS 36.413: \"Evolved Universal Terrestrial Radio Access Network
(E-UTRAN); S1 Application Protocol (S1AP)\".
[9] 3GPP TS 29.274: \"3GPP Evolved Packet System (EPS); Evolved General Packet
Radio Service (GPRS) Tunnelling Protocol for Control plane (GTPv2-C); Stage
3\".
[10] IETF RFC 5905: \"Network Time Protocol Version 4: Protocol and Algorithms
Specification\".
[11] 3GPP TS 38.413: \"NG Radio Access Network (NG-RAN); NG Application
Protocol (NGAP)\".
# 3 Definitions of terms, symbols and abbreviations
## 3.1 Terms
void
## 3.2 Symbols
void
## 3.3 Abbreviations
For the purposes of the present document, the abbreviations given in 3GPP TR
21.905 [1] and the following apply. An abbreviation defined in the present
document takes precedence over the definition of the same abbreviation, if
any, in 3GPP TR 21.905 [1].
MME Mobility Management Entity
URCMP UE Radio Capability Management Protocol
UCMF UE radio Capability Management Function
# 4 Protocol Stack
## 4.1 Introduction
The protocol stack for the control plane over the S17 reference points shall
be as depicted in Figure 4.1-1. Clauses 4.2 and 4.3 further specify the
related UDP and IP requirements.
Figure 4.1-1: Control Plane stack over S17
## 4.2 UDP Header and Port Numbers
### 4.2.1 General
A User Datagram Protocol (UDP) compliant with IETF RFC 768 [3] shall be used.
### 4.2.2 Request Message
The UDP Destination Port number for a Request message shall be the one and
only one configured by the operator for a given PLMN, e.g. in the range of
49152 to 65535.
The UDP Source Port for a Request message is a locally allocated port number
at the sending entity.
NOTE: The locally allocated source port number can be reused for multiple
Request messages.
### 4.2.3 Response Message
The UDP Destination Port value of a Response message shall be the value of the
UDP Source Port of the corresponding Request message.
The UDP Source Port of a Response message shall be the value from the UDP
Destination Port of the corresponding message.
## 4.3 IP Header and IP Addresses
### 4.3.1 General
In this clause, \"IP\" refers either to Ipv4 as defined by IETF RFC 791 [4] or
Ipv6 as defined by IETF RFC 8200 [5]. A URCMP entity shall support both Ipv4
and Ipv6.
### 4.3.2 Request Message
The IP Destination Address of a Request message shall be an IP address of the
peer entity.
The IP Source Address of a Request message shall be an IP address of the
sending entity.
### 4.3.3 Response Message
The IP Destination Address of a Response message shall be copied from the IP
Source Address of the corresponding Request message.
The IP Source Address of a Response message shall be copied from the IP
destination address of the corresponding Request message.
# 5 General description
## 5.1 Introduction
This document describes the procedures, messages and information elements over
the S17 reference point between the MME and the UCMF to support UE Radio
Capability Signalling optimization as specified in clause 5.11.3A of 3GPP TS
23.401 [2].
The UE Radio Capability Management Protocol (URCMP) is used over S17 reference
point.
# 6 Procedures
## 6.1 Introduction
The following clauses specify the procedures supported over the S17 reference
points.
## 6.2 Node Related Procedures
### 6.2.1 General
The following clauses specify the node related procedures over the S17
reference points.
### 6.2.2 Heartbeat Procedure
#### 6.2.2.1 General
Two messages are specified for URCMP heartbeat procedure: Heartbeat Request
and Heartbeat Response. The use of these messages is further specified in
clause 19B of 3GPP TS 23.007 [3] for EPC.
#### 6.2.2.2 Heartbeat Request
The MME or UCMF may send a Heartbeat Request on a path to the peer node to
find out if it is alive. Heartbeat Request messages may be sent for each peer
which is known by the sender, e.g. based on the configuration.
An MME or a UCMF shall be prepared to receive a Heartbeat Request at any time
and it shall reply with a Heartbeat Response message.
#### 6.2.2.3 Heartbeat Response
The message shall be sent as a response to a received Heartbeat Request
message.
### 6.2.3 Subscription Management Procedure
#### 6.2.3.1 General
The URCMP Subscription Management Procedure shall be used to create or delete
a subscription in the UCMF, where the subscription is to get notifications for
one or more new dictionary entries creation or for the deletion of one or more
PLMN Assigned UE Radio Capability IDs.
#### 6.2.3.2 Procedures in the MME
To create or delete a subscription in the UCMF which is used to receive
notifications afterwards, the MME shall initiate the Subscription Management
Procedure by sending a Subscription Management Request message towards the
UCMF including:
\- a \"Subscription Management Operation Type\" IE, which is set to either
\"Creation\" or \"Deletion\";
\- the MME Address Information IE which is used to receive subsequent
notifications from the UCMF if the operation type is set to \"Creation\". The
MME address information includes an IP address;
\- the Subscription ID which is used to address a subscription in the UCMF if
the operation code is set to \"Deletion\";
The MME shall create only one subscription in the UCMF.
When the MME receives the Subscription Management Response message with a
successful cause for a subscription creation request, the MME function shall
be prepared to receive subsequent notifications at the provided MME address.
#### 6.2.3.3 Procedures in the UCMF
When the UCMF receives a Subscription Management Request message, it shall
reply with a Subscription Management Response message.
On success:
\- If the operation code is set to \"Creation\", the UCMF shall create a new
subscription together with the MME address and the timestamp of the request to
create the subscription, and include the following information in the
Subscription Management Response message;
\- a Subscription ID;
\- the current highest Dictionary Entry ID which has been allocated in the
UCMF;
\- If the operation code is set to \"Deletion\", the UCMF shall delete the
subscription and include a success cause code in the Subscription Management
Response message;
On failure, the UCMF shall:
\- return an appropriate error cause value, e.g. MANDATORY_IE_MISSING for the
creation of a subscription, or SUBSCRIPTION_NOT_FOUND for the deletion of a
subscription, discard all the received information.
### 6.2.4 Event Notification Procedure
#### 6.2.4.1 General
The URCMP Event Notification Procedure shall be used to send a notification
for an event, e.g. the creation of one or more new dictionary entries, towards
an MME which has a valid subscription in the UCMF.
#### 6.2.4.2 Procedures in the UCMF
When one or more new dictionary entries are created in the UCMF since the time
of the creation of the subscription, or when a PLMN decides to switch to
operate based on manufacturer-assigned UE Radio Capability ID for a particular
type of UE, the UCMF shall initiate the Event Notification Procedure by
sending an Event Notification Request message towards the MME including:
\- an Event Type IE, which is set to either \"Creation of Dictionary Entry\"
or \"Deletion of PLMN-assigned UE Radio Capability ID\" or
\"NEW_VERSION_ID_OF_PLMN_ASSIGNED_IDs\";
\- the updated highest Dictionary Entry ID if the Event Type is set to \"
CREATION_OF_DICTIONARY_ENTRY \";
\- a new Version ID if the Event Type is set to \"
NEW_VERSION_ID_OF_PLMN_ASSIGNED_IDs\";
\- the Manufacturer Assigned operation requested list if the Event Type is set
to \" DELETION_OF_PLMN_ASSIGNED_IDS \" which shall include one of the
following (not both):;
\- one or more PLMN Assigned UE Radio Capability IDs to be deleted;
\- or, one or more Type Allocation Codes in corresponding to the PLMN Assigned
UE Radio Capability IDs to be deleted.
#### 6.2.4.3 Procedures in the MME
When the MME receives an Event Notification Request message, it shall reply
with an Event Notification Response message.
On success, the MME:
\- may determine and then retrieve those dictionary entries which are not
available yet locally using the Dictionary Entry ID if the Event Type is set
to \" Creation of Dictionary Entry\";
\- shall retrieve affected UE contexts which are using those PLMN-assigned UE
Radio Capability IDs which are to be deleted and behave as specified in clause
5.11.3a of 3GPP TS 23.401 [2] if the Event Type is set to \"Deletion of PLMN-
assigned UE Radio Capability ID\";
\- may determine to retrieve a new PLMN Assigned UE Radio Capability ID, e.g.
for a UE with signalling connection established to the MME;
\- shall include a success cause code in the Event Notification Response
message;
On failure, the MME:
\- shall return an appropriate error cause value in the Event Notification
Response message, e.g. MANDATORY_IE_MISSING, and discard all the received
information.
## 6.3 Session Related Procedures
### 6.3.1 General
The following clauses describe the session related procedures over the S17
reference points. A URCMP session refers to a signalling transaction
addressing a dictionary entry containing the mapping information between the
UE Radio Capability ID(s) and UE Radio Access Capability Information.
### 6.3.2 Create Dictionary Entry Procedure
#### 6.3.2.1 General
The URCMP Create Dictionary Entry procedure shall be used to create a
dictionary entry in the UCMF, and obtain a PLMN assigned UE Radio Capability
ID.
#### 6.3.2.2 Procedures in the MME
When the UE Radio Capability ID, either PLMN-assigned or Manufacturer-
assigned, is not received by the MME from a UE, or from the source MME during
an inter MME mobility procedure or if the MME receives a rejection response
from the UCMF with the cause code \"NO_DICTIONARY_ENTRY_FOUND\" when it uses a
Manufacturer-assigned UE Radio Capability ID to retrieve the corresponding UE
Radio Access Capability Information, or if the MME receives a rejection
response from the UCMF with the cause code \"OUT_DATED_VERSION_ID_IN_RAC_ID\"
when it uses a PLMN-assigned UE Radio Capability ID to retrieve the
corresponding UE Radio Access Capability Information, the MME shall initiate
the Create Dictionary Entry Procedure by sending a Create Dictionary Entry
Request message towards the UCMF including:
\- the UE Radio Access Capability Information, which is received from the eNB,
encoded as specified in 3GPP TS 36.413 [8], and optionally also including
information encoded as specified in 3GPP TS 38.413 [11]
\- Type Allocation Code in the IMEI of the UE
When the MME receives a Create Dictionary Entry Response message with a
successful cause, the MME function shall continue with the procedure which
triggered the Create Dictionary Entry procedure as specified in 3GPP TS 23.401
[2].
#### 6.3.2.3 Procedures in the UCMF
When the UCMF receives a Create Dictionary Entry Request message, it shall
reply with a Create Dictionary Entry Response message.
On success, the UCMF shall check whether for the provided input a dictionary
entry already exists and a PLMN Assigned UE Radio Capability ID has already
been assigned. If this is not the case, the UCMF shall create a new dictionary
entry with the received information and a new PLMN assigned UE Radio
Capability ID. The UCMF shall include the following (already existing or newly
created) information in the Create Dictionary Entry Response message;
\- a dictionary entry ID;
\- a PLMN assigned UE Radio Capability ID, if PLMN is configured to use a PLMN
specific UE Radio Capability ID.
On failure, the UCMF shall:
\- return an appropriate error cause value, e.g. MANDATORY_IE_MISSING, discard
all the received information and not create any dictionary entry.
A UCMF configured to operate in Mode of Operation A (3GPPP TS 23.401, Clause
5.11.3a) shall reject the operation if the request does not contain UE Radio
Access Capability Information in both the formats and UCMF is not able to find
match of the received UE Radio Access Capability Information in its database.
### 6.3.3 Query Dictionary Entry Procedure
#### 6.3.3.1 General
The URCMP Query Dictionary Entry procedure shall be used to retrieve UE Radio
Access Capability Information from a dictionary entry in the UCMF.
#### 6.3.3.2 Procedures in the MME
When the MME receives a UE Radio Capability ID from a UE or the source MME
(during an inter MME mobility procedure), which is either PLMN-assigned or
Manufacturer-assigned, while there is no corresponding UE Radio Access
Capability Information stored in the MME, the MME shall initiate the Query
Dictionary Entry Procedure by sending a Query Dictionary Entry Request message
towards the UCMF including:
\- a PLMN-assigned UE Radio Capability ID;
\- or a Manufacturer-assigned UE Radio Capability ID;
\- or a Dictionary Entry ID;
When the MME receives a Query Dictionary Entry Response message with a
successful cause, the MME function shall continue with the procedure which
triggered the Create Dictionary Entry procedure as specified in 3GPP TS 23.401
[2].
#### 6.3.3.3 Procedures in the UCMF
When the UCMF receives a Query Dictionary Entry Request message, it shall look
up the dictionary entries and reply with a Query Dictionary Entry Response
message.
On success, the UCMF shall provide the information included in the dictionary
entry which matches the query parameter in the Query Dictionary Entry Response
message, and the following information shall be included (if available):
\- the UE Radio Access Capability Information in correspondence to the
querying parameter, e.g. the UE Radio Capability ID included in the request
message;
\- a PLMN specific UE Radio Capability ID if allocated, e.g. when the querying
UE Radio Capability ID is a Manufacturer-assigned UE Radio Capability ID and
if PLMN is configured to use a PLMN specific UE Radio Capability ID;
\- the dictionary entry id;
\- a Manufacturer-assigned UE Radio Capability ID if available;
\- the Type Allocation Code.
NOTE: The UCMF will not provide the information in a dictionary entry which is
already included as a query parameter in the request message.
On failure, the UCMF shall:
\- return an appropriate error cause value, e.g. NO_DICTIONARY_ENTRY_FOUND,
OUT_DATED_VERSION_ID_IN_RAC_ID.
## 6.4 Reliable Delivery of URCMP Messages
Reliable delivery of URCMP messages is accomplished by retransmission of these
messages as specified in this clause.
A URCMP entity shall maintain, for each triplet of local IP address, local UDP
port and remote peer\'s IP address, a sending queue with Request messages to
be sent to that peer. Each message shall be sent with a Sequence Number and be
held until a corresponding Response is received or until the URCMP entity
ceases retransmission of that message. The Sequence Number shall be unique for
each outstanding Request message sourced from the same IP/UDP endpoint. A
URCMP entity may have several outstanding Requests waiting for replies.
When sending a Request message, the sending URCMP entity shall start a timer
T1. The sending entity shall consider that the Request message has been lost
if a corresponding Response message has not been received before the T1 timer
expires. If so, the sending entity shall retransmit the Request message, if
the total number of retry attempts is less than N1 times. The setting of the
T1 timer and N1 counter is implementation specific.
A retransmitted URCMP message shall have the same message content, including
the same URCMP header, UDP ports, source and destination IP addresses as the
originally transmitted message.
A Request and its Response message shall have the same Sequence Number value,
i.e. the Sequence Number in the URCMP header of the Response message shall be
copied from the respective Request message. A Request and its Response
messages are matched based on the Sequence Number and the IP address and UDP
port.
Not counting retransmissions, a Request message shall be answered with a
single Response message. Duplicated Response messages shall be discarded by
the receiver. A received Response message not matching an outstanding Request
message waiting for a reply should be discarded.
The URCMP entity should inform the upper layer when detecting an unsuccessful
transfer of a Request message to enable the controlling upper entity to take
any appropriate measure.
# 7 Messages and Message Formats
## 7.1 Introduction
## 7.2 Transmission Order and Bit Definitions
URCMP messages shall be transmitted in network octet order starting with octet
1 with the most significant bit sent first.
The most significant bit of an octet in a URCMP message is bit 8. If a field
in a URCMP message spans over several octets, the most significant bit is bit
8 of the octet with the lowest number, unless specified otherwise.
## 7.3 Message Format
### 7.3.1 General
The format of a URCMP message is depicted in Figure 7.3.1-1.
* * *
                Bits                                                              
     Octets     8                                     7   6   5   4   3   2   1   
     1 to m     URCMP message header                                              
     m+1 to n   Zero or more Information Element(s)
* * *
Figure 7.3.1-1: URCMP Message Format
A URCMP message shall contain the URCMP message header and may contain
subsequent information element(s) dependent on the type of message.
### 7.3.2 Message Header
URCMP messages use a fixed length header. The message header length shall be a
multiple of 4 octets. Figure 7.3.2.1-1 illustrates the format of the URCMP
Header.
* * *
              Bits
Octets 8 7 6 5 4 3 2 1 1 Version Spare  
2 Message Type  
3 Message Length (1^st^ Octet)  
4 Message Length (2^nd^ Octet)  
5 Message Length (3^rd^ Octet)  
6 Sequence Number (1^st^ Octet)  
7 Sequence Number (2^nd^ Octet)  
8 Sequence Number (3^rd^ Octet)
* * *
Figure 7.3.2-1: General format of URCMP Header
#### 7.3.3 Usage of the URCMP Header
The format of the URCMP header is specified in clause 7.3.2.
The usage of the URCMP header shall be as defined below.
The first octet of the header shall be used is the following way:
\- Bit 1-5 are spare bits. The sending entity shall set it to \"0\" and the
receiving entity shall ignore it.
\- Bits 6 to 8, which represent the URCMP version, shall be set to decimal 1
(\"001\").
The usage of the fields in octets 2 - n of the header shall be as specified
below.
\- Octet 2 represents the Message type field, which shall be set to the unique
value for each type of control plane message. Message type values are
specified in Table 7.3-1 \"Message types\".
\- Octets 3 to 5 represent the Message Length field. This field shall indicate
the length of the message in octets excluding the mandatory part of the URCMP
header (the first 5 octets). The Sequence Number shall be included in the
length count. The format of the Length field of information elements is
specified in clause 8.2 \"Information Element Format\".
\- Octets 6 to 8 represent URCMP Sequence Number field.
### 7.3.4 Information Elements
#### 7.3.4.1 General
The format of URCMP Information Elements are defined in clause 8.2.
#### 7.3.4.2 Presence Requirements of Information Elements
Ies within URCMP messages shall be specified with one of the following
presence requirement:
\- Mandatory: this means that the IE shall be included by the sending entity,
and that the receiver diagnoses a \"Mandatory IE missing\" error when
detecting that the IE is not present. A response including a \"Mandatory IE
missing\" cause, shall include the type of the missing IE.
\- Conditional: this means that:
\- the IE shall be included by sending entity if the conditions specified are
met;
\- the receiver shall check the conditions as specified in the corresponding
message type description, based on the parameter combination in the message
and/or on the state of the receiving node, to infer if a conditional IE shall
be expected. Only if a receiver has sufficient information, if a conditional
IE, which is necessary for the receiving entity to complete the procedure, is
missing, then the receiver shall abort the procedure.
\- Conditional-Optional: this means that:
\- the IE shall be included by a sending entity complying with the version of
the specification, if the conditions specified in the relevant protocol
specification are met. An entity, which is at an earlier version of the
protocol and therefore is not up-to-date, cannot send this IE;
\- the receiver need not check the presence of the IE in the message. If the
receiver checks the presence of the Conditional-Optional IE, then the IE\'s
absence shall not trigger any of the error handling procedures. The handling
of an absence or erroneous such Ies shall be treated as Optional Ies as
specified in clause 7.6.
\- Optional: this means that:
\- the IE shall be included as a service option. Therefore, the IE may be
included or not in a message. The handling of an absent optional IE, or an
erroneous optional IE is specified in clause 7.6.
For conditional Ies, the clause describing the URCMP message explicitly
defines the conditions under which the inclusion of each IE becomes mandatory
or optional for that particular message. These conditions shall be defined so
that the presence of a conditional IE only becomes mandatory if it is critical
for the receiving entity. The definition might reference other protocol
specifications for final terms used as part of the condition.
For grouped Ies, the presence requirement of the embedded IE shall follow the
rules:
\- If the grouped IE is Mandatory within a given message: the presence
requirements of individual embedded Ies are as stated within the Mandatory
grouped IE for the given message;
\- if the grouped IE is Conditional within a given message: if the embedded IE
in the grouped IE is Mandatory or Conditional, this embedded IE is viewed as
Conditional IE by the receiver. If the embedded IE in the grouped IE is
Conditional-Optional, this embedded IE is viewed as Optional IE by the
receiver. If the embedded IE in the grouped IE is Optional, this embedded IE
is viewed as Optional IE by the receiver;
\- if the grouped IE is Conditional-Optional within a given message: if the
embedded IE in the grouped IE is Mandatory or Conditional, this embedded IE is
viewed as Conditional-Optional IE by the receiver. If the embedded IE in the
grouped IE is Conditional-Optional, this embedded IE is viewed as Optional IE
by the receiver. If the embedded IE in the grouped IE is Optional, this
embedded IE is viewed as Optional IE by the receiver;
\- if the grouped IE is Optional within a given message: all embedded Ies in
the grouped IE are viewed as Optional Ies by the receiver.
In all of the above cases, appropriate error handling as described in clause
7.6 shall be applied for protocol errors of the embedded Ies.
Only the Cause IE at message level shall be included in the response if the
Cause contains a value that indicates that the request is not accepted,
regardless of whether there are other mandatory or conditional Ies defined for
a given response message.
#### 7.3.4.3 Grouped Information Elements
A Grouped IE is an IE which may contain other Ies.
Grouped Ies have a length value in the TLV encoding, which includes the added
length of all the embedded Ies. Overall coding of a grouped IE with 4 octets
long IE header is defined in clause 8.2. Each IE within a grouped IE also
shall also contain 4 octets long IE header.
Grouped Ies are not marked by any flag or limited to a specific range of IE
type values. The clause describing an IE in this specification shall
explicitly state if it is a Grouped IE.
NOTE: Each entry into each Grouped IE creates a new scope level. Exit from the
grouped IE closes the scope level. The URCMP message level is the top most
scope.
If more than one grouped Ies of the same type, but for a different purpose are
sent with a message, these Ies shall have different IE types.
If more than one grouped Ies of the same type and for the same purpose are
sent with a message, these Ies shall have exactly the same IE type to
represent a list.
#### 7.2.3.4 Information Element Type
An IE in a URCMP message or Grouped IE is identified by its IE Type and
described by a specific row in the corresponding tables in clause 7.
If several Ies with the same Type are included in a URCMP message or Grouped
IE, they represent a list for the corresponding IE name.
An IE Type value uniquely identifies a specific IE.
One IE type value is specified for Vendor Specific Ies.
## 7.4 Message Types
The URCMP message types to be used over the S17 reference points are defined
in Table 7.4-1.
Table 7.4-1: Message Types
Message Type value (Decimal) Message
* * *
0 Reserved **URCMP Node related messages** 1 Heartbeat Request 2 Heartbeat
Response 3 Subscription Management Request 4 Subscription Management Response
5 Event Notification Request 6 Event Notification Response 7 to 49 For future
use **URCMP Session related messages** 50 Create Dictionary Entry Request 51
Create Dictionary Entry Response 52 Query Dictionary Entry Request 53 Query
Dictionary Entry Response 54 to 99 For future use **Other messages** 100 to
255 For future use
## 7.5 S17-AP Messages
### 7.5.1 URCMP Node Related Messages
#### 7.5.1.1 General
This clause specifies the URCMP node related messages used over the S17
reference points.
#### 7.5.1.2 Heartbeat Request
Table 7.5.1.2-1: Information Elements in Heartbeat Request
**Information elements** **P** **Condition / Comment** **IE Type**
* * *
Recovery Time Stamp M This IE shall contain the time stamp when the URCMP
entity was started. Recovery Time Stamp
#### 7.5.1.3 Heartbeat Response
Table 7.5.1.3-1: Information Elements in Heartbeat Response
**Information elements** **P** **Condition / Comment** **IE Type**
* * *
Recovery Time Stamp M This IE shall contain the time stamp when the URCMP
entity was started. Recovery Time Stamp
#### 7.5.1.4 Subscription Management Request
**The** Subscription Management Request **shall be sent over the S17 interface
by the MME to the UCMF to create a subscription in the UCMF to receive the
notifications, or to delete an existing subscription.**
Table 7.5.1.4-1: Information Elements in a Subscription Management Request
Information elements P Condition / Comment IE Type
* * *
MME Address Information C This IE shall be included to contain the MME Address
Information to receive the subsequent notifications for the subscription if
the Subscription Management Operation Type indicates to create a new
subscription. MME Address Information Subscription Management Operation Type M
Subscription Management Operation Type Subscription ID C This IE shall be
included to contain the Subscription ID that allocated by the UCMF for this
subscription if the Subscription Management Operation Type indicates to delete
the subscription. Subscription ID
#### 7.5.1.5 Subscription Management Response
**The** Subscription Management Response **shall be sent over the S17
interface by the UCMF to the MME as a reply to the** Subscription Management
**Request.**
Table 7.5.1.5-1: Information Elements in a Subscription Management Response
Information elements P Condition / Comment IE Type
* * *
Cause M Cause Dictionary Entry ID C This IE shall be included to contain the
highest Dictionary Entry ID has been allocated in the UCMF if the cause
indicates an acceptance code. Dictionary Entry ID Subscription ID C This IE
shall be included to contain the Subscription ID that created in the UCMF for
this subscription if the cause indicates an acceptance code and the request is
to create a new subscription. Subscription ID
#### 7.5.1.6 Event Notification Request
**The** Event Notification Request **shall be sent over the S17 interface by
the UCMF to the MME to send a notification for the subscription created
earlier by the MME.**
Table 7.5.1.6-1: Information Elements in a Event Notification Request
Information elements P Condition / Comment IE Type
* * *
Dictionary Entry ID M This IE shall be included to contain the highest
Dictionary Entry ID has been allocated in the UCMF. Dictionary Entry ID Event
Type M Event Type Manufacturer Assigned Operation Requested List C This IE
shall be present if the Event Type indicates to delete one or more PLMN
assigned UE Radio Capability IDs. Manufacturer Assigned Operation Requested
List Version ID O This IE may be present if Event Type indicates to notify a
new version id of PLMN Assigned UE Radio Capability Id(s). Version ID
Table 7.5.1.6-2: Manufacturer Assigned Operation Requested List IE in a Event
Notification Request
+-------------------+---+-------------------+-------------------+---+ | Octet 1 and 2 | | Deletion of PLMN | | | | | | Assigned UE Radio | | | | | | Capability ID IE | | | | | | Type = 13 | | | | | | (decimal) | | | +===================+===+===================+===================+===+ | Octets 3 and 4 | | Length = n | | | +-------------------+---+-------------------+-------------------+---+ | Information | P | Condition / | IE Type | | | elements | | Comment | | | +-------------------+---+-------------------+-------------------+---+ | PLMN Assigned UE | C | This IE shall be | PLMN Assigned UE | | | Radio Capability | | included to | Radio Capability | | | ID | | contain a PLMN | ID | | | | | Assigned UE Radio | | | | | | Capability ID to | | | | | | be deleted. | | | | | | | | | | | | Several IEs with | | | | | | the same IE type | | | | | | may be present to | | | | | | represent a list | | | | | | of PLMN Assigned | | | | | | UE Radio | | | | | | Capability IDs. | | | | | | | | | | | | The UCMF shall | | | | | | always provide a | | | | | | complete list of | | | | | | PLMN Assigned UE | | | | | | Radio Capability | | | | | | IDs to enable the | | | | | | AMF to overwrite | | | | | | the existing | | | | | | list. | | | +-------------------+---+-------------------+-------------------+---+ | Type Allocation | C | This IE shall | Type Allocation | | | Code | | contain a Type | Code | | | | | Allocation Code | | | | | | in corresponding | | | | | | to the PLMN | | | | | | Assigned UE Radio | | | | | | Capability IDs to | | | | | | be deleted. | | | | | | | | | | | | Several IEs with | | | | | | the same IE type | | | | | | may be present to | | | | | | represent a list | | | | | | of Type | | | | | | Allocation Codes. | | | | | | | | | | | | The UCMF shall | | | | | | always provide a | | | | | | complete list of | | | | | | Type Allocation | | | | | | Codes to enable | | | | | | the AMF to | | | | | | overwrite the | | | | | | existing list. | | | +-------------------+---+-------------------+-------------------+---+
#### 7.5.1.7 Event Notification Response
**The** Event Notification Response **shall be sent over the S17 interface by
the MME to the UCMF as a reply to the** Event Notification Request**.**
Table 7.5.1.7-1: Information Elements in a Subscription Management Response
Information elements P Condition / Comment IE Type
* * *
Cause M Cause
### 7.5.2 URCMP Session Related Messages
#### 7.5.2.1 General
This clause specifies the URCMP session related messages used over the S17
interface.
#### 7.5.2.2 Create Dictionary Entry Request
**The** Create Dictionary Entry Request **shall be sent over the S17 interface
by the MME to create a dictionary entry in the UCMF, and then to obtain a PLMN
assigned UE Radio Capability ID.**
Table 7.5.2.2-1: Information Elements in a Create Dictionary Entry Request
Information elements P Condition / Comment IE Type
* * *
Type Allocation Code M This IE shall be included by the MME over S17 reference
point. Type Allocation Code UE Radio Access Capability Information M UE Radio
Access Capability Information
#### 7.5.2.3 Create Dictionary Entry Response
**The Create Dictionary Entry Response shall be sent over the S17 interface by
the UCMF to the MME as a reply to the** Create Dictionary Entry **Request.**
Table 7.5.2.3-1: Information Elements in a Create Dictionary Entry Response
Information elements P Condition / Comment IE Type
* * *
Cause M Cause Dictionary Entry ID C This IE shall be included to contain a
dictionary entry identifier allocated by the UCMF for newly created dictionary
entry as requested by the MME if the Cause indicates an acceptance code.
Dictionary Entry ID PLMN Assigned UE Radio Capability ID C This IE shall be
included to contain a PLMN Assigned UE Radio Capability ID allocated by the
UCMF for the UE Radio Access Capability Information included in the request
message if the cause indicates an acceptance code. PLMN Assigned UE Radio
Capability ID
#### 7.5.2.4 Query Dictionary Entry Request
**The** Query Dictionary Entry Request **shall be sent over the S17 interface
by the MME to** retrieve UE Radio Access Capability Information from a
dictionary entry in the UCMF.
Table 7.5.2.4-1: Information Elements in a Query Dictionary Entry Request
Information elements P Condition / Comment IE Type
* * *
Dictionary Entry ID C This IE shall be included if the MME uses a Dictionary
Entry ID to retrieve a dictionary entry. (NOTE 1) Dictionary Entry ID PLMN
Assigned UE Radio Capability ID C This IE shall be included if the MME uses a
PLMN Assigned UE Radio Capability ID to retrieve a dictionary entry. (NOTE 1)
PLMN Assigned UE Radio Capability ID Manufacturer Assigned UE Radio Capability
ID C This IE shall be included if the MME uses a Manufacturer Assigned UE
Radio Capability ID to retrieve a dictionary entry. (NOTE 1) Manufacturer
Assigned UE Radio Capability ID NOTE 1: At least one of query parameters,
Dictionary Entry ID, PLMN Assigned UE Radio Capability ID, Manufacture
Assigned UE Radio Capability ID or Type Allocation Code shall be used to
retrieve a dictionary entry.
#### 7.5.2.5 Query Dictionary Entry Response
**The** Query Dictionary Entry **Response shall be sent over the S17 interface
by the UCMF to the MME as a reply to the** Query Dictionary Entry **Request.**
Table 7.5.2.5-1: Information Elements in a Query Dictionary Entry Response
Information elements P Condition / Comment IE Type
* * *
Cause M Cause Dictionary Entry ID C This IE shall be included to contain a
dictionary entry identifier if the Cause indicates an acceptance cause.
Dictionary Entry ID PLMN Assigned UE Radio Capability ID C This IE shall be
included to contain a PLMN Assigned UE Radio Capability ID if allocated for
the UE Radio Access Capability Information in the dictionary entry and if the
Cause indicates an acceptance cause. PLMN Assigned UE Radio Capability ID
Manufacturer Assigned UE Radio Capability ID C This IE shall be included to
contain a Manufacturer Assigned UE Radio Capability ID if available for the UE
Radio Access Capability Information in the dictionary entry and if the Cause
indicates an acceptance cause. Manufacturer Assigned UE Radio Capability ID UE
Radio Access Capability Information C This IE shall be included to provide the
UE Radio Access Capability Information if the Cause indicates an acceptance
cause. [NOTE] UE Radio Access Capability Information Type Allocation Code C
This IE shall be included to provide the Type Allocation Code in corresponding
to the UE Radio Access Capability in the dictionary entry if the Cause
indicates an acceptance cause. Type Allocation Code NOTE: In this message,
\"UE Radio Access Capability Information\" shall contain \"UE Radio Access
Capability Information (EPS)\" field. \"UE Radio Access Capability Information
(5GS)\" may be present.
## 7.6 Error Handling
### 7.6.1 Protocol Errors
A protocol error is defined as a message or an Information Element received
from a peer entity with an unknown type, or if it is unexpected, or if it has
an erroneous content.
The term silently discarded is used in the following clauses to mean that the
receiving URCMP entity\'s implementation shall discard such a message without
further processing or that the receiving URCMP entity discards such an IE and
continues processing the message. The conditions for the receiving URCMP
entity to silently discard an IE are specified in the subsequent clauses.
The handling of unknown, unexpected or erroneous URCMP messages and IEs shall
provide for the forward compatibility of URCMP. Therefore, the sending URCMP
entity shall be able to safely include in a message a new conditional-optional
or an optional IE. Such an IE may also have a new type value. Any legacy
receiving URCMP entity shall, however, silently discard such an IE and
continue processing the message.
If a protocol error is detected by the receiving URCMP entity, it should log
the event including the erroneous message and may include the error in a
statistical counter.
For Response messages containing a rejection Cause value, see clause 7.3.4.2.
The receiving URCMP entity shall apply the error handling specified in the
subsequent clauses.
If the received erroneous message is a reply to an outstanding URCMP message,
the URCMP transaction layer shall stop retransmissions and notify the URCMP
application layer of the error even if the reply is silently discarded.
### 7.6.2 URCMP Message of Invalid Length
If a URCMP entity receives a message, which is too short to contain the
respective URCMP header, the URCMP-PDU shall be silently discarded.
If a URCMP entity receives a Request message within an IP/UDP packet of a
length that is inconsistent with the value specified in the Length field of
the URCMP header, then the receiving URCMP entity should log the error and
shall send the Response message with Cause IE value set to \"Invalid Length\".
If a URCMP entity receives a Response message within an IP/UDP packet of a
length that is inconsistent with the value specified in the Length field of
the URCMP header, then the receiving URCMP entity should log the error and
shall silently discard the message.
### 7.6.4 Unknown URCMP Message
If a URCMP entity receives a message with an unknown Message Type value, it
shall silently discard the message.
### 7.6.5 Unexpected URCMP Message
If a URCMP entity receives an unexpected request message, for example a known
message that is sent over an interface for which the message is not defined,
or a message that is sent over an interface for which the message is defined,
but the direction is incorrect, then the URCMP entity shall silently discard
the message and shall log an error.
If a URCMP entity receives an unexpected response message which is not a
request message, for example a message for which there is no corresponding
outstanding request, it shall discard the message and may log an error.
### 7.6.6 Missing Information Elements
A URCMP entity shall check if all mandatory IEs are present in the received
Request message. If one or more mandatory information elements are missing in
the received Request message, the URCMP entity should log the error and shall
send a Response message with Cause IE value set to \"Mandatory IE missing\"
with the type of the missing mandatory IE.
If a URCMP entity receives a Response message with Cause IE value set to
\"Mandatory IE missing\", it shall notify its upper layer.
A URCMP entity shall check if all mandatory IEs are present in the received
Response message without a rejection Cause value. If one or more mandatory
information elements are missing, the URCMP entity shall notify the upper
layer and should log the error.
A URCMP entity shall check if conditional information elements are present in
the received Request message, if possible (i.e. if the receiving entity has
sufficient information available to check if the respective conditions were
met). If one or more conditional information elements are missing, a URCMP
entity should log the error and shall send a Response message with Cause IE
value set to \"Conditional IE missing\" together with the type of the missing
conditional IE.
A URCMP entity shall check if conditional information elements are present in
the received Response message without a rejection Cause value, if possible
(i.e. if the receiving entity has sufficient information available to check if
the respective conditions were met). If one or more conditional information
elements are missing, a URCMP entity shall notify the upper layer and should
log the error.
Absence of an optional information element shall not trigger any error
handling.
### 7.6.7 Semantically incorrect Information Element
Apart from Echo Request message, the receiver of a URCMP signalling message
Request including a mandatory or a verifiable conditional information element
with a semantically invalid Value shall discard the request, should log the
error, and shall send a response with Cause IE value set to \"Mandatory IE
incorrect\" together with a type and instance of the offending IE.
The receiver of a URCMP signalling message Response including a mandatory or a
verifiable conditional information element with a semantically invalid Value
shall notify the upper layer that a message with this sequence number has been
received and should log the error.
If a URCMP entity receives an information element with a value which is shown
as reserved, it shall treat that information element as invalid and should log
the error. If the invalid IE is received in a Request, and it is a mandatory
IE or a verifiable conditional IE, the URCMP entity shall send a response with
Cause set to \"Mandatory IE incorrect\" together with a type and instance of
the offending IE.
The principle is: the use of reserved values invokes error handling; the use
of spare values can be silently discarded and for IEs with spare values used,
processing shall be continued ignoring the spare values.
The receiver of a URCMP signalling message including an optional information
element with a Value that is not in the range defined for this information
element value shall discard this IE, but shall treat the rest of the message
as if this IE was absent and continue processing. The receiver shall not check
the content of an information element field that is defined as \"spare\".
All semantically incorrect optional information elements in a URCMP signalling
message shall be treated as not present in the message.
### 7.6.8 Unknown or unexpected Information Element
The receiver of a URCMP message including an unexpected information element
with a known Type value that is not defined for this message shall discard the
IE and log an error. The receiver shall process the message.
NOTE: An Information Element in an encoded URCMP message or grouped IE is
identified by the IE Type.
### 7.6.9 Repeated Information Elements
An Information Element is repeated if there is more than one IE with the same
IE Type in the scope of the URCMP message (or in the scope of the grouped IE).
Such an IE is a member in a list.
If an information element is repeated in a URCMP signalling message in which
repetition of the information element is not specified, only the contents of
the information element appearing first shall be handled and all subsequent
repetitions of the information element shall be ignored. When the number of
repetitions of information elements is specified, only the contents of
specified repeated information elements shall be handled and all subsequent
repetitions of the information element shall be ignored.
# 8 Information elements
## 8.1 Information Elements Format
Figure 8.1-1 depicts the format of an Information Element.
* * *
                  Bits                                                                      
     Octets       8                                             7   6   5   4   3   2   1   
     1 to 2       Type = xxx (decimal)                                                      
     2 to 3       Length = n                                                                
     p to (p+1)   Enterprise ID                                                             
     k to (n+4)   IE specific data or content of a grouped IE
* * *
Figure 8.1-1: Information Element Format
NOTE 1: If the Bit 8 of Octet 1 is not set, this indicates that the IE is
defined by 3GPP and the Enterprise ID is absent. If Bit 8 of Octet 1 is set,
this indicates that the IE is defined by a vendor and the Enterprise ID is
present identified by the Enterprise ID.
An IE has the following mandatory fields:
\- Type: this field indicates the type of the Information Element. IE type
values within the range of 0 to 32767 are reserved for IE defined by 3GPP and
are listed in clause 8.2. IE type values within the range of 32768 to 65535
are used for vendor-specific IE and the value allocation is controlled by the
vendor.
\- Length: this field contains the length of the IE excluding the first four
octets, which are common for all IEs (Type and Length) and is denoted \"n\" in
Figure 8.1-1 and in Figure 8.1-2. Bit 8 of the lowest numbered octet is the
most significant bit and bit 1 of the highest numbered octet is the least
significant bit.
An IE has the following optional fields:
\- Enterprise ID: if the IE type value is within the range of 32768 to 65535,
this field shall contain the IANA-assigned \"SMI Network Management Private
Enterprise Codes\" value of the vendor defining the IE. The Enterprise ID set
to \"10415\" (IANA-assigned \"SMI Network Management Private Enterprise
Codes\") shall not be used for the vendor specific IEs.
For illustration, Figure 8.1-2 depicts the format of a Information Element
(IE) defined by 3GPP and is specified in this specification. For IE\'s defined
by 3GPP, the IE type shall be within the range of 0 to 32767.
* * *
                  Bits                                                                      
     Octets       8                                             7   6   5   4   3   2   1   
     1 to 2       Type = xxx (decimal)                                                      
     3 to 4       Length = n                                                                
     5 to (n+4)   IE specific data or content of a grouped IE
* * *
Figure 8.1-2: 3GPP defined Information Element Format
NOTE 2: Bit 8 of Octet 1 is not set. This indicates that the Information
Element type value has been allocated by 3GPP.
For illustration, Figure 8.1-3 depicts the format of a vendor-specific
Information Element, which content is not specified and the IE type value
shall be within the range of 32768 to 65535.
* * *
                  Bits                                                                      
     Octets       8                                             7   6   5   4   3   2   1   
     1 to 2       Type = xxx (decimal)                                                      
     3 to 4       Length = n                                                                
     5 to 6       Enterprise ID                                                             
     7 to (n+4)   IE specific data or content of a grouped IE
* * *
Figure 8.1-3: Vendor-Specific Information Element Format
NOTE 3: Bit 8 of Octet 1 is set. This indicates that the IE type value has
been allocated by the vendor identified by the Enterprise ID. The content of
this IE is vendor specific and therefore out of scope of this specification.
## 8.2 Information Elements Types
### 8.2.0 General
A URCMP message may contain several IEs. In order to have forward compatible
type definitions for the URCMP IEs, all of them shall be TLV (Type, Length,
Value) coded. URCMP IE type values are specified in the Table 8.2.0-1. The
last column of this table indicates whether the IE is:
\- Fixed Length: the IE has a fixed set of fields, and a fixed number of
octets;
\- Variable Length: the IE has a fixed set of fields, and has a variable
number of octets.\ For example, the last octets may be numbered similar to \"5
to (n+4)\". In this example, if the value of the length field, n, is 0, then
the last field is not present;
\- Extendable: the IE has a variable number of fields, and has a variable
number of octets.\ The last fields are typically specified with the statement:
\"These octet(s) is/are present only if explicitly specified\". The legacy
receiving entity shall ignore the unknown octets.
In order to improve the efficiency of troubleshooting, it is recommended that
the IEs should be arranged in the signalling messages as well as in the
grouped IEs, according to the order the IEs are listed in the message
definition table or grouped IE definition table in clause 7. However the
receiving entity shall be prepared to handle the messages with IEs in any
order.
Within IEs, certain fields may be described as spare. These bits shall be
transmitted with the value set to 0 to allow for future features, the receiver
shall not evaluate these bits.
Table 8.2.0-1: Information Element Types
+---------------+----------------+----------------+----------------+ | IE Type value | Information | Comment / | Number of | | | elements | Reference | Fixed Octets | | (Decimal) | | | | +===============+================+================+================+ | 0 | Reserved | | | +---------------+----------------+----------------+----------------+ | 1 | Cause | Fixed Length / | 1 | | | | 8.2.1 | | +---------------+----------------+----------------+----------------+ | 2 | Type | Fixed Length / | 4 | | | Allocation | 8.2.2 | | | | Code | | | +---------------+----------------+----------------+----------------+ | 3 | PLMN Assigned | Variable | Not Applicable | | | UE Radio | Length / 8.2.3 | | | | Capability ID | | | +---------------+----------------+----------------+----------------+ | 4 | Manufacturer | Variable | Not Applicable | | | Assigned UE | Length / 8.2.4 | | | | Radio | | | | | Capability ID | | | +---------------+----------------+----------------+----------------+ | 5 | Dictionary ID | Fixed Length / | 4 | | | | 8.2.5 | | +---------------+----------------+----------------+----------------+ | 6 | UE Radio | Extendable / | 1 | | | Access | 8.2.6 | | | | Capability | | | | | Information | | | +---------------+----------------+----------------+----------------+ | 7 | Subscription | Fixed Length / | 1 | | | Management | 8.2.7 | | | | Operation Type | | | +---------------+----------------+----------------+----------------+ | 8 | MME Address | Variable | Not Applicable | | | Information | Length / 8.2.8 | | +---------------+----------------+----------------+----------------+ | 9 | Subscription | Fixed Length / | 4 | | | ID | 8.2.9 | | +---------------+----------------+----------------+----------------+ | 10 | Event Type | Fixed Length / | 1 | | | | 8.2.10 | | +---------------+----------------+----------------+----------------+ | 11 | Recovery Time | Fixed Length / | 4 | | | Stamp | 8.2.11 | | +---------------+----------------+----------------+----------------+ | 12 | Manufacturer | Extendable / | Not Applicable | | | Assigned | Table | | | | Operation | 7.5.1.6-2 | | | | Requested List | | | +---------------+----------------+----------------+----------------+ | 13 | Version ID | Fixed Length / | 1 | | | | 8.2.xx | | +---------------+----------------+----------------+----------------+ | 14 to 65535 | Spare. For | | | | | future use. | | | +---------------+----------------+----------------+----------------+
### 8.2.1 Cause
Cause IE is coded as depicted in Figure 8.2.1-1.
* * *
. Bits  
Octets 8 7 6 5 4 3 2 1  
1 to 2 Type = 1 (decimal)  
3 to 4 Length = 1  
5 Cause value
* * *
Figure 8.2.1-1: Cause
The Cause value shall be included in a response message. In a response
message, the Cause value indicates the acceptance or the rejection of the
corresponding request message. The Cause value indicates the explicit reason
for the rejection.
Table 8.2.1-1: Cause values
+-----------------+-------------+-----------------+-----------------+ | Message Type | Cause value | Meaning | Description | | | | | | | | (decimal) | | | +=================+=============+=================+=================+ | | 0 | Reserved. | Shall not be | | | | | sent and if | | | | | received the | | | | | Cause shall be | | | | | treated as an | | | | | invalid IE | +-----------------+-------------+-----------------+-----------------+ | Acceptance in a | 1 | Request | \"Request | | response | | accepted | accepted | | | | (success) | (success)\" is | | | | | returned when | | | | | the PFCP entity | | | | | has accepted a | | | | | request. | +-----------------+-------------+-----------------+-----------------+ | | 2-63 | Spare. | This value | | | | | range shall be | | | | | used by Cause | | | | | values in an | | | | | acceptance | | | | | response | | | | | message. See | | | | | NOTE 1. | +-----------------+-------------+-----------------+-----------------+ | Rejection in a | 64 | Request | This cause | | response | | rejected | shall be | | | | (reason not | returned to | | | | specified) | report an | | | | | unspecified | | | | | rejection cause | +-----------------+-------------+-----------------+-----------------+ | | 65 | Mandatory IE | This cause | | | | missing | shall be | | | | | returned when | | | | | the receiver | | | | | detects that a | | | | | mandatory IE is | | | | | missing in a | | | | | request message | +-----------------+-------------+-----------------+-----------------+ | | 66 | Conditional IE | This cause | | | | missing | shall be | | | | | returned when | | | | | the receiver | | | | | detects that a | | | | | Conditional IE | | | | | is missing in a | | | | | request | | | | | message. | +-----------------+-------------+-----------------+-----------------+ | | 67 | Invalid length | This cause | | | | | shall be | | | | | returned when | | | | | the receiver | | | | | detects that an | | | | | IE with an | | | | | invalid length | | | | | in a request | | | | | message | +-----------------+-------------+-----------------+-----------------+ | | 68 | Mandatory IE | This cause | | | | incorrect | shall be | | | | | returned when | | | | | the receiver | | | | | detects that a | | | | | Mandatory IE is | | | | | incorrect in a | | | | | request | | | | | message, e.g. | | | | | the Mandatory | | | | | IE is malformed | | | | | or it carries | | | | | an invalid or | | | | | unexpected | | | | | value. | +-----------------+-------------+-----------------+-----------------+ | | 69 | NO_DICTIONAR | This cause | | | | Y_ENTRY_FOUND | shall be used | | | | | by the UCMF if | | | | | a dictionary | | | | | entry cannot be | | | | | found to match | | | | | the query | | | | | parameter | | | | | included in the | | | | | request | | | | | message. | +-----------------+-------------+-----------------+-----------------+ | | 70 | SUBSCRIPT | This cause | | | | ION_NOT_FOUND | shall be used | | | | | by the UCMF if | | | | | the | | | | | subscription to | | | | | be deleted | | | | | cannot be | | | | | found. | +-----------------+-------------+-----------------+-----------------+ | | 71 | OUT_D | The version id | | | | ATED_VERSION_ | in the | | | | ID_IN_RAC_ID | requested PLMN | | | | | Assigned UE | | | | | Radio | | | | | Capability Id | | | | | is out-dated. | +-----------------+-------------+-----------------+-----------------+ | | 72 to 255 | Spare for | This value | | | | future use in a | range shall be | | | | response | used by Cause | | | | message. See | values in a | | | | NOTE 2. | rejection | | | | | response | | | | | message. See | | | | | NOTE 2. | +-----------------+-------------+-----------------+-----------------+ | NOTE 1: This | | | | | value is or may | | | | | be used in | | | | | future version | | | | | of the | | | | | specification. | | | | | If the receiver | | | | | cannot | | | | | comprehend the | | | | | value, it shall | | | | | be interpreted | | | | | as an | | | | | unspecified | | | | | acceptance | | | | | cause. | | | | | Unspecifi | | | | | ed/unrecognized | | | | | acceptance | | | | | cause shall be | | | | | treated in the | | | | | same ways as | | | | | the cause value | | | | | 1 \" Request | | | | | accepted | | | | | (success)\". | | | | | | | | | | NOTE 2: This | | | | | value is or may | | | | | be used in a | | | | | future version | | | | | of the | | | | | specification. | | | | | If the receiver | | | | | cannot | | | | | comprehend the | | | | | value, it shall | | | | | be interpreted | | | | | as an | | | | | unspecified | | | | | rejection | | | | | cause. | | | | | Unspecifi | | | | | ed/unrecognized | | | | | rejection cause | | | | | shall be | | | | | treated in the | | | | | same ways as | | | | | the cause value | | | | | 32 \"Request | | | | | rejected | | | | | (reason not | | | | | specified)\". | | | | +-----------------+-------------+-----------------+-----------------+
### 8.2.2 Type Allocation Code
Type Allocation Code (TAC) is the first 8 digits in an IMEI (15 decimal
digits) or an IMEISV (16 decimal digits). See clause 6.2 of 3GPP TS 23.003
[6]. The Type Allocation Code shall be encoded as in Figure 8.2.2-1.
* * *
              Bits                                               
     Octets   8                      7   6   5   4   3   2   1   
     1 to 2   Type = 2 (decimal)                                 
     3 to 4   Length = 4                                         
     5 - 8    Type Allocation Code
* * *
Figure 8.2.2-1: Type Allocation Code
Each digit of the Type Allocation Code digits is encoded with BCD coding,
starting with the first digit coded in bits 4 to 1 of octet 5, the last digit
coded in bits 8 to 5 of octet 8.
### 8.2.3 PLMN Assigned UE Radio Capability ID
The PLMN Assigned UE Radio Capability ID shall be encoded as in Figure
8.2.3-1.
* * *
           Bits
Octets 8 7 6 5 4 3 2 1  
1 to 2 Type = 3 (decimal)  
3 to 4 Length = n  
5 - n PLMN Assigned UE Radio Capability ID
* * *
Figure 8.2.3-1: PLMN Assigned UE Radio Capability ID
The PLMN Assigned UE Radio Capability ID field shall be encoded as the \"UE
radio capability ID\" IE (starting from octet 3) as specified in clause the
clause 9.9.3.60 of 3GPP TS24.301 [7].
### 8.2.4 Manufacturer Assigned UE Radio Capability ID
The Manufacturer Assigned UE Radio Capability ID shall be encoded as in Figure
8.2.4-1.
* * *
           Bits
Octets 8 7 6 5 4 3 2 1  
1 to 2 Type = 4 (decimal)  
3 to 4 Length = n  
5 - n Manufacturer Assigned UE Radio Capability ID
* * *
Figure 8.2.4-1: PLMN Assigned UE Radio Capability ID
The Manufacturer Assigned UE Radio Capability ID field shall be encoded as the
\"UE radio capability ID\" IE (starting from octet 3) as specified in clause
the clause 9.9.3.60 of 3GPP TS24.301 [7].
### 8.2.5 Dictionary Entry ID
The Dictionary Entry ID IE is coded as in Figure 8.2.5-1. The Dictionary Entry
ID identifies a dictionary entry including the mapping between UE Radio Access
Capability Information and UE Radio Capability ID(s), Type Allocation Code.
* * *
              Bits                                              
     Octets   8                     7   6   5   4   3   2   1   
     1 to 2   Type = 5 (decimal)                                
     3 to 4   Length = 4                                        
     5 to 8   Dictionary Entry ID
* * *
Figure 8.2.5-1: Dictionary Entry ID
Octets 5 to 8 shall contain the Dictionary Entry ID and shall be encoded as an
Unsigned32 binary integer value.
### 8.2.6 UE Radio Access Capability Information
                        Bits
* * *
     Octets             8                                                            7      6      5     4     3   2   1   
     1 to 2             Type = 6 (decimal)                                                                                 
     3 to 4             Length = n                                                                                         
     5                  Spare                                                        5GSP   EPSP   5GS   EPS               
     m to (m+2)         Length = x                                                                                         
     (m+3) to (m+3+x)   UE Radio Access Capability Information (EPS)                                                       
     p to (p+2)         Length = y                                                                                         
     (p+3) to (p+3+y)   UE Radio Access Capability Information (5GS)                                                       
     q to (q+2)         Length = u                                                                                         
     (q+3) to (q+3+u)   UE Radio Access Capability Information for paging (EPS)                                            
     r to (r+2)         Length = v                                                                                         
     (r+3) to (r+3+v)   UE Radio Access Capability Information for paging (5GS)                                            
     (r+3+v) to (n+4)   These octet(s) is/are present only if explicitly specified
Figure 8.2.6-1: UE Radio Access Capability Information
The following flags are coded within Octet 5:
\- Bit 1 -- EPS: If this bit is set to \"1\", then the UE Radio Access
Capability Information (EPS) field shall be present, otherwise the UE Radio
Access Capability Information (EPS) field shall not be present.
\- Bit 2 -- 5GS: If this bit is set to \"1\", then the UE Radio Access
Capability Information (5GS) field shall be present, otherwise the UE Radio
Access Capability Information (5GS) field shall not be present.
\- Bit 3 -- EPSP: If this bit is set to \"1\", then the UE Radio Access
Capability Information for paging (EPS) field shall be present, otherwise the
UE Radio Access Capability Information for paging (EPS) field shall not be
present.
\- Bit 4 -- 5GSP: If this bit is set to \"1\", then the UE Radio Access
Capability Information for paging (5GS) field shall be present, otherwise the
UE Radio Access Capability Information for paging (5GS) field shall not be
present.
\- Bit 5 to 8 Spare, for future use and set to 0.
Octets \"m to (m+2)\", shall be present when EPS bit is set to 1. When
present, it represents length of UE Radio Access Capability Information (EPS)
field.
The UE Radio Access Capability Information (EPS) field, when present, shall be
encoded as an OctetString which contains the OCTET STRING of UE Radio
Capability IE specified in clause 9.2.1.27 of 3GPP TS 36.413 [8]).
Octets \"p to (p+2)\", shall be present when 5GS bit is set to 1. When
present, it represents length of UE Radio Access Capability Information (5GS)
field
The UE Radio Access Capability Information (5GS) field, when present, shall be
encoded as an OctetString which contains the OCTET STRING of UE Radio
Capability IE specified in clause 9.3.1.74 of 3GPP TS 38.413 [11]).
Octets \"q to (q+2)\", shall be present when EPSP bit is set to 1. When
present, it represents length of UE Radio Access Capability Information for
paging (EPS) field.
The UE Radio Access Capability Information for paging (EPS) field, when
present, shall be encoded as an OctetString which contains the OCTET STRING of
UE Radio Capability IE specified in clause 9.2.1.98 of 3GPP TS 36.413 [8]).
Octets \"r to (r+2)\", shall be present when 5GSP bit is set to 1. When
present, it represents length of UE Radio Access Capability Information for
paging (5GS) field
The UE Radio Access Capability Information for paging (5GS) field, when
present, shall be encoded as an OctetString which contains the OCTET STRING of
UE Radio Capability IE specified in clause 9.3.1.68 of 3GPP TS 38.413 [11]).
NOTE: Annex B of 3GPP TS 29.274 [9] specifies how to retrieve an OCTET STRING
from a S1AP IE.
### 8.2.7 Subscription Management Operation Type
The Subscription Management Operation Type IE type shall be encoded as shown
in Figure 8.2.7-1. The Subscription Management Operation Type indicates the
intention for a Subscription Management Request message.
* * *
              Bits                                                                                        
     Octets   8                    7                                              6   5   4   3   2   1   
     1 to 2   Type = 7 (decimal)                                                                          
     3 to 4   Length = 1                                                                                  
     5        Spare                Subscription Management Operation Type Value
* * *
Figure 8.2.7-1: Subscription Management Operation Type
The Subscription Management Operation Type value shall be encoded as a 4 bits
binary integer as specified in Table 8.2.7-1.
Table 8.2.7-1: Subscription Management Operation Type value
+------------------------------------------+--------------------+ | > Subscription Management Operation Type | > Values (Decimal) | +==========================================+====================+ | Create a subscription | 0 | +------------------------------------------+--------------------+ | Delete a subscription | 1 | +------------------------------------------+--------------------+ | Spare | 2 to 15 | +------------------------------------------+--------------------+
### 8.2.8 MME Address Information
The MME Address Information IE type shall be encoded as shown in Figure
8.2.8-1.
                   Bits
* * *
     Octets        8                    7      6    5    4   3   2   1   
     1 to 2        Type = 8 (decimal)                                    
     3 to 4        Length = n                                            
     5             Spare                Port   V4   V6                   
     m to (m+3)    IPv4 address                                          
     p to (p+15)   IPv6 address                                          
     q             Port Number
Figure 8.2.8-1: MME Address Information
The following flags are coded within Octet 5:
\- Bit 1 -- V6: If this bit is set to \"1\", then the IPv6 address field shall
be present, otherwise the IPv6 address field shall not be present.
\- Bit 2 -- V4: If this bit is set to \"1\", then the IPv4 address field shall
be present, otherwise the IPv4 address field shall not be present.
\- Bit 3 -- Port: If this bit is set to \"1\", then the Port Number field
shall be present, otherwise the IPv4 address field shall not be present.
\- Bit 4 to 8 Spare, for future use and set to 0.
Octets \"m to (m+3)\" or \"p to (p+15)\" (IPv4 address / IPv6 address fields),
if present, shall contain the address value.
Octet q, if present, shall contain the port number that the MME has allocated
to receive the notifications.
### 8.2.9 Subscription ID
The Subscription ID IE is coded as in Figure 8.2.9-1. The Subscription ID
identifies a subscription identifier created in the UCMF.
* * *
              Bits                                              
     Octets   8                     7   6   5   4   3   2   1   
     1 to 2   Type = 10 (decimal)                               
     3 to 4   Length = 4                                        
     5 to 8   Subscription ID
* * *
Figure 8.2.9-1: Subscription ID
Octets 5 to 8 shall contain the Subscription ID and shall be encoded as an
Unsigned32 binary integer value.
### 8.2.10 Event Type
The Event Type IE type shall be encoded as shown in Figure 8.2.10-1. The Event
Type represents different type of events included in a notification from the
UCMF.
* * *
              Bits                                                             
     Octets   8                     7                  6   5   4   3   2   1   
     1 to 2   Type = 10 (decimal)                                              
     3 to 4   Length = 1                                                       
     5        Spare                 Event Type Value
* * *
Figure 8.2.10-1: Event Type
The Event Type value shall be encoded as a 4 bits binary integer as specified
in Table 8.2.10-1.
Table 8.2.10-1: Event Type value
+-------------------------------------------+--------------------+ | > Event Type Value | > Values (Decimal) | +===========================================+====================+ | CREATION_OF_DICTIONARY_ENTRY | 0 | +-------------------------------------------+--------------------+ | DELETION_OF_PLMN_ASSIGNED_IDS | 1 | +-------------------------------------------+--------------------+ | NEW_VERSION_ID_OF_PLMN_ASSIGNED_IDs | 3 | +-------------------------------------------+--------------------+ | Spare | 4 to 15 | +-------------------------------------------+--------------------+
### 8.2.11 Recovery Time Stamp
The Recovery Time Stamp IE is coded as shown in Figure 8.2.11-1. It indicates
the UTC time when the URCMP entity started. Octets 5 to 8 are encoded in the
same format as the first four octets of the 64-bit timestamp format as defined
in clause 6 of IETF RFC 5905 [10].
NOTE: The encoding is defined as the time in seconds relative to 00:00:00 on 1
January 1900.
              Bits
* * *
     Octets   8                           7   6   5   4   3   2   1   
     1 to 2   Type = 11 (decimal)                                     
     3 to 4   Length = 4                                              
     5 to 8   Recovery Time Stamp value
Figure 8.2.11-1: Recovery Time Stamp
### 8.2.12 Version ID
The Version ID IE is coded as in Figure 8.2.12-1.The Version Id included in a
PLMN Assigned UE Radio Capability ID is specified as in clause 29.2 of 3GPP TS
23.003 [6].
* * *
              Bits                                              
     Octets   8                     7   6   5   4   3   2   1   
     1 to 2   Type = 13 (decimal)                               
     3 to 4   Length = 1                                        
     5        Version ID
* * *
Figure 8.2.12-1: Version Id
Octets 5 to 8 shall contain the Version ID and shall be encoded as an
Unsigned8 binary integer value.
#