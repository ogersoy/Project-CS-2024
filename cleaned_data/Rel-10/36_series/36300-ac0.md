# Foreword
This Technical Specification has been produced by the 3^rd^ Generation
Partnership Project (3GPP).
The contents of the present document are subject to continuing work within the
TSG and may change following formal TSG approval. Should the TSG modify the
contents of the present document, it will be re-released by the TSG with an
identifying change of release date and an increase in version number as
follows:
Version x.y.z
where:
x the first digit:
1 presented to TSG for information;
2 presented to TSG for approval;
3 or greater indicates TSG approved document under change control.
y the second digit is incremented for all changes of substance, i.e. technical
enhancements, corrections, updates, etc.
z the third digit is incremented when editorial only changes have been
incorporated in the document.
# 1 Scope
The present document provides an overview and overall description of the
E-UTRAN radio interface protocol architecture. Details of the radio interface
protocols are specified in companion specifications of the 36 series.
# 2 References
The following documents contain provisions which, through reference in this
text, constitute provisions of the present document.
\- References are either specific (identified by date of publication, edition
number, version number, etc.) or nonâ€‘specific.
\- For a specific reference, subsequent revisions do not apply.
\- For a non-specific reference, the latest version applies. In the case of a
reference to a 3GPP document (including a GSM document), a non-specific
reference implicitly refers to the latest version of that document _in the
same Release as the present document_.
> [1] 3GPP TR 21.905: \"Vocabulary for 3GPP Specifications\".
>
> [2] 3GPP TR 25.913: \"Requirements for Evolved UTRA (E-UTRA) and Evolved
> UTRAN (E-UTRAN)\".
>
> [3] 3GPP TS 36.201: \"Evolved Universal Terrestrial Radio Access (E-UTRA);
> Physical layer; General description\".
>
> [4] 3GPP TS 36.211:\"Evolved Universal Terrestrial Radio Access (E-UTRA);
> Physical Channels and Modulation\".
>
> [5] 3GPP TS 36.212: \"Evolved Universal Terrestrial Radio Access (E-UTRA);
> Multiplexing and channel coding\".
>
> [6] 3GPP TS 36.213: \"Evolved Universal Terrestrial Radio Access (E-UTRA);
> Physical layer procedures\".
>
> [7] 3GPP TS 36.214: \"Evolved Universal Terrestrial Radio Access (E-UTRA);
> Physical layer; Measurements\".
>
> [8] IETF RFC 4960 (09/2007): \"Stream Control Transmission Protocol\".
>
> [9] 3GPP TS 36.302: \"Evolved Universal Terrestrial Radio Access (E-UTRA);
> Services provided by the physical layer\".
>
> [10] Void
>
> [11] 3GPP TS 36.304: \"Evolved Universal Terrestrial Radio Access (E-UTRA);
> User Equipment (UE) procedures in idle mode\".
>
> [12] 3GPP TS 36.306: \"Evolved Universal Terrestrial Radio Access (E-UTRA);
> User Equipment (UE) radio access capabilities\".
>
> [13] 3GPP TS 36.321: \"Evolved Universal Terrestrial Radio Access (E-UTRA);
> Medium Acces Control (MAC) protocol specification\".
>
> [14] 3GPP TS 36.322: \"Evolved Universal Terrestrial Radio Access (E-UTRA);
> Radio Link Control (RLC) protocol specification\".
>
> [15] 3GPP TS 36.323: \"Evolved Universal Terrestrial Radio Access (E-UTRA);
> Packet Data Convergence Protocol (PDCP) specification\".
>
> [16] 3GPP TS 36.331: \"Evolved Universal Terrestrial Radio Access (E-UTRA);
> Radio Resource Control (RRC) protocol specification\".
>
> [17] 3GPP TS 23.401: \"Technical Specification Group Services and System
> Aspects; GPRS enhancements for E-UTRAN access\".
>
> [18] 3GPP TR 24.801: \"3GPP System Architecture Evolution (SAE); CT WG1
> aspects\".
>
> [19] 3GPP TS 23.402: \"3GPP System Architecture Evolution: Architecture
> Enhancements for non-3GPP accesses\".
>
> [20] 3GPP TR 24.301: \"Non-Access-Stratum (NAS) protocol for Evolved Packet
> System (EPS); Stage 3\".
>
> [21] 3GPP TS 36.133: \"Evolved Universal Terrestrial Radio Access (E-UTRA);
> \"Requirements for support of radio resource management\".
>
> [22] 3GPP TS 33.401: \"3GPP System Architecture Evolution: Security
> Architecture\".
>
> [23] 3GPP TS 23.272: \"Circuit Switched Fallback in Evolved Packet System;
> Stage 2\".
>
> [24] Void.
>
> [25] 3GPP TS 36.413: \"Evolved Universal Terrestrial Radio Access Network
> (E-UTRAN); S1 Application Protocol (S1AP)\".
>
> [26] 3GPP TS 23.003: \"Numbering, addressing and identification\".
>
> [27] 3GPP TR 25.922: \"Radio Resource Management Strategies\".
>
> [28] 3GPP TS 23.216: \"Single Radio voice Call continuity (SRVCC); Stage
> 2\".
>
> [29] 3GPP TS 32.421: \"Subscriber and equipment trace: Trace concepts and
> requirements\".
>
> [30] 3GPP TS 32.422: \"Subscriber and equipment trace; Trace control and
> configuration management\".
>
> [31] 3GPP TS 32.423: \"Subscriber and equipment trace: Trace data definition
> and management\".
>
> [32] 3GPP TS 25.346: \"Universal Mobile Telecommunications System (UMTS);
> Introduction of the Multimedia Broadcast/Multicast Service (MBMS) in the
> Radio Access Network (RAN); Stage 2\".
>
> [33] 3GPP TS 22.220: \"Service Requirements for Home NodeBs and Home
> eNodeBs\".
>
> [34] 3GPP TS 22.268: \"Public Warning System (PWS) Requirements\".
>
> [35] IETF RFC 3168 (09/2001): \"The Addition of Explicit Congestion
> Notification (ECN) to IP\".
>
> [36] 3GPP TS 25.446: \"MBMS synchronisation protocol (SYNC)\".
>
> [37] 3GPP TS 22.168: \"Earthquake and Tsunami Warning System (ETWS)
> requirements; Stage 1\".
>
> [38] 3GPP TR 25.306: \" UE Radio Access capabilities\".
>
> [39] Void.
>
> [40] 3GPP TS 29.274: \"Tunnelling Protocol for Control Plane (GTPv2-C);
> Stage 3\".
>
> [41] 3GPP TS 29.061: \"Interworking between the Public Land Mobile Network
> (PLMN) supporting packet based services and Packet Data Networks (PDN)\".
>
> [42] 3GPP TS 36.423: \"Evolved Universal Terrestrial Radio Access Network
> (E-UTRAN); X2 Application Protocol (X2AP)\".
>
> [43] 3GPP TS 37.320: \"Universal Terrestrial Radio Access (UTRA) and Evolved
> Universal Terrestrial Radio Access (E-UTRA); Radio measurement collection
> for Minimization of Drive Tests (MDT); Overall description; Stage 2\".
>
> [44] 3GPP TS 36.443: \"Evolved Universal Terrestrial Radio Access Network
> (E-UTRAN); M2 Application Protocol (M2AP)\".
>
> [45] 3GPP TS 36.444: \"Evolved Universal Terrestrial Radio Access Network
> (E-UTRAN); M3 Application Protocol (M3AP)\".
>
> [46] 3GPP TS 36.420: \"Evolved Universal Terrestrial Radio Access Network
> (E-UTRAN); X2 general aspects and principles\".
>
> [47] 3GPP TS 29.281: \"General Packet Radio System (GPRS) Tunnelling
> Protocol User Plane (GTPv1-U)\"
# 3 Definitions, symbols and abbreviations
## 3.1 Definitions
For the purposes of the present document, the following terms and definitions
apply.
**Carrier frequency** : center frequency of the cell.
**Cell: combination of downlink and optionally uplink resources. The linking
between the carrier frequency of the downlink resources and the carrier
frequency of the uplink resources is indicated in the system information
transmitted on the downlink resources.**
**E-RAB: An E-RAB uniquely identifies the concatenation of an S1 Bearer and
the corresponding Data Radio Bearer**. When an E-RAB exists, there is a one-
to-one mapping between this E-RAB and an EPS bearer of the Non Access Stratum
as defined in [17].
**CSG Cell:** A cell broadcasting a CSG indicator set to true and a specific
CSG identity.
**Hybrid cell** : A cell broadcasting a CSG indicator set to false and a
specific CSG identity. This cell is accessible as a CSG cell by UEs which are
members of the CSG and as a normal cell by all other UEs.
**MBMS-dedicated cell** : cell dedicated to MBMS transmission. MBMS-dedicated
cell is not supported in this release.
**Frequency layer** : set of cells with the same carrier frequency.
**Handover** : procedure that changes the serving cell of a UE in
RRC_CONNECTED.
**MBMS/Unicast-mixed** : cell supporting both unicast and MBMS transmissions.
**Membership Verification:** The process that checks whether a UE is a member
or non-member of a hybrid cell
**Access Control:** The process that checks whether a UE is allowed to access
and to be granted services in a closed cell
**CSG ID Validation:** The process that checks whether the CSG ID received via
handover messages is the same as the one broadcast by the target E-UTRAN
## 3.2 Abbreviations
For the purposes of the present document, the abbreviations given in TR 21.905
[1] and the following apply. An abbreviation defined in the present document
takes precedence over the definition of the same abbreviation, if any, in TR
21.905 [1].
1xCSFB Circuit Switched Fallback to 1xRTT
ABS Almost Blank Subframe
ACK Acknowledgement
ACLR Adjacent Channel Leakage Ratio
AM Acknowledged Mode
AMBR Aggregate Maximum Bit Rate
ANR Automatic Neighbour Relation
ARQ Automatic Repeat Request
ARP Allocation and Retention Priority
AS Access Stratum
BCCH Broadcast Control Channel
BCH Broadcast Channel
BSR Buffer Status Report
C/I Carrier-to-Interference Power Ratio
CAZAC Constant Amplitude Zero Auto-Correlation
CA Carrier Aggregation
CBC Cell Broadcast Center
CC Component Carrier
CIF Carrier Indicator Field
CMAS Commercial Mobile Alert Service
CMC Connection Mobility Control
CP Cyclic Prefix
C-plane Control Plane
C-RNTI Cell RNTI
CQI Channel Quality Indicator
CRC Cyclic Redundancy Check
CSA Common Subframe Allocation
CSG Closed Subscriber Group
DCCH Dedicated Control Channel
DeNB Donor eNB
DFTS DFT Spread OFDM
DL Downlink
DRB Data Radio Bearer
DRX Discontinuous Reception
DTCH Dedicated Traffic Channel
DTX Discontinuous Transmission
DwPTS Downlink Pilot Time Slot
ECGI E-UTRAN Cell Global Identifier
ECM EPS Connection Management
EMM EPS Mobility Management
E-CID Enhanced Cell-ID (positioning method)
eNB E-UTRAN NodeB
EPC Evolved Packet Core
EPS Evolved Packet System
E-RAB E-UTRAN Radio Access Bearer
ETWS Earthquake and Tsunami Warning System
E-UTRA Evolved UTRA
E-UTRAN Evolved UTRAN
FDD Frequency Division Duplex
FDM Frequency Division Multiplexing
GERAN GSM EDGE Radio Access Network
GNSS Global Navigation Satellite System
GSM Global System for Mobile communication
GBR Guaranteed Bit Rate
GP Guard Period
GRE Generic Routing Encapsulation
GUMMEI Globally Unique MME Identifier
GUTI Globally Unique Temporary Identifier
HARQ Hybrid ARQ
HO Handover
HRPD High Rate Packet Data
HSDPA High Speed Downlink Packet Access
ICIC Inter-Cell Interference Coordination
IP Internet Protocol
KPAS Korean Public Alert System
LB Load Balancing
LCG Logical Channel Group
> LCR Low Chip Rate
LCS LoCation Service
LIPA Local IP Access
LPPa LTE Positioning Protocol Annex
L-GW Local Gateway
LTE Long Term Evolution
MAC Medium Access Control
MBMS Multimedia Broadcast Multicast Service
MBR Maximum Bit Rate
MBSFN Multimedia Broadcast multicast service Single Frequency Network
MCCH Multicast Control Channel
MCE Multi-cell/multicast Coordination Entity
MCH Multicast Channel
MCS Modulation and Coding Scheme
MDT Minimization of Drive Tests
MIB Master Information Block
MIMO Multiple Input Multiple Output
MME Mobility Management Entity
MSA MCH Subframe Allocation
MSI MCH Scheduling Information
MSP MCH Scheduling Period
MTCH Multicast Traffic Channel
NACK Negative Acknowledgement
NAS Non-Access Stratum
NCC Next Hop Chaining Counter
NH Next Hop key
NNSF NAS Node Selection Function
NR Neighbour cell Relation
NRT Neighbour Relation Table
OFDM Orthogonal Frequency Division Multiplexing
OFDMA Orthogonal Frequency Division Multiple Access
OTDOA Observed Time Difference Of Arrival (positioning method)
P-GW PDN Gateway
P-RNTI Paging RNTI
PA Power Amplifier
PAPR Peak-to-Average Power Ratio
PBCH Physical Broadcast CHannel
PBR Prioritised Bit Rate
PCC Primary Component Carrier
PCCH Paging Control Channel
PCell Primary Cell
PCFICH Physical Control Format Indicator CHannel
PCH Paging Channel
PCI Physical Cell Identifier
PDCCH Physical Downlink Control CHannel
PDSCH Physical Downlink Shared CHannel
PDCP Packet Data Convergence Protocol
PDN Packet Data Network
PDU Protocol Data Unit
PHICH Physical Hybrid ARQ Indicator CHannel
PHY Physical layer
PLMN Public Land Mobile Network
PMCH Physical Multicast CHannel
PRACH Physical Random Access CHannel
PRB Physical Resource Block
PSC Packet Scheduling
PUCCH Physical Uplink Control CHannel
PUSCH Physical Uplink Shared CHannel
PWS Public Warning System
QAM Quadrature Amplitude Modulation
QCI QoS Class Identifier
QoS Quality of Service
RA-RNTI Random Access RNTI
RAC Radio Admission Control
RACH Random Access Channel
RAT Radio Access Technology
RB Radio Bearer
RBC Radio Bearer Control
RF Radio Frequency
RIM RAN Information Management
RLC Radio Link Control
RN Relay Node
RNC Radio Network Controller
RNL Radio Network Layer
RNTI Radio Network Temporary Identifier
ROHC Robust Header Compression
RRC Radio Resource Control
RRM Radio Resource Management
RU Resource Unit
S-GW Serving Gateway
S1-MME S1 for the control plane
SCC Secondary Component Carrier
SCell Secondary Cell
SI System Information
SIB System Information Block
SI-RNTI System Information RNTI
S1-U S1 for the user plane
SAE System Architecture Evolution
SAP Service Access Point
SC-FDMA Single Carrier -- Frequency Division Multiple Access
SCH Synchronization Channel
SDF Service Data Flow
SDMA Spatial Division Multiple Access
SDU Service Data Unit
SeGW Security Gateway
SFN System Frame Number
SPID Subscriber Profile ID for RAT/Frequency Priority
SR Scheduling Request
SRB Signalling Radio Bearer
SU Scheduling Unit
TA Tracking Area
TB Transport Block
TCP Transmission Control Protocol
TDD Time Division Duplex
TEID Tunnel Endpoint Identifier
TFT Traffic Flow Template
TM Transparent Mode
TNL Transport Network Layer
TTI Transmission Time Interval
UE User Equipment
UL Uplink
UM Unacknowledged Mode
UMTS Universal Mobile Telecommunication System
U-plane User plane
UTRA Universal Terrestrial Radio Access
UTRAN Universal Terrestrial Radio Access Network
UpPTS Uplink Pilot Time Slot
VRB Virtual Resource Block
X2-C X2-Control plane
X2-U X2-User plane
# 4 Overall architecture
The E-UTRAN consists of eNBs, providing the E-UTRA user plane
(PDCP/RLC/MAC/PHY) and control plane (RRC) protocol terminations towards the
UE. The eNBs are interconnected with each other by means of the X2 interface.
The eNBs are also connected by means of the S1 interface to the EPC (Evolved
Packet Core), more specifically to the MME (Mobility Management Entity) by
means of the S1-MME interface and to the Serving Gateway (S-GW) by means of
the S1-U interface. The S1 interface supports a many-to-many relation between
MMEs / Serving Gateways and eNBs.
The E-UTRAN architecture is illustrated in Figure 4 below.
Figure 4-1: Overall Architecture
## 4.1 Functional Split
The eNB hosts the following functions:
\- Functions for Radio Resource Management: Radio Bearer Control, Radio
Admission Control, Connection Mobility Control, Dynamic allocation of
resources to UEs in both uplink and downlink (scheduling);
\- IP header compression and encryption of user data stream;
\- Selection of an MME at UE attachment when no routing to an MME can be
determined from the information provided by the UE;
\- Routing of User Plane data towards Serving Gateway;
\- Scheduling and transmission of paging messages (originated from the MME);
\- Scheduling and transmission of broadcast information (originated from the
MME or O&M);
\- Measurement and measurement reporting configuration for mobility and
scheduling;
\- Scheduling and transmission of PWS (which includes ETWS and CMAS) messages
(originated from the MME);
\- CSG handling;
\- Transport level packet marking in the uplink.
The DeNB hosts the following functions in addition to the eNB functions:
\- S1/X2 proxy functionality for supporting RNs;
\- S11 termination and S-GW/P-GW functionality for supporting RNs.
The MME hosts the following functions (see 3GPP TS 23.401 [17]):
\- NAS signalling;
\- NAS signalling security;
\- AS Security control;
\- Inter CN node signalling for mobility between 3GPP access networks;
\- Idle mode UE Reachability (including control and execution of paging
retransmission);
\- Tracking Area list management (for UE in idle and active mode);
\- PDN GW and Serving GW selection;
\- MME selection for handovers with MME change;
\- SGSN selection for handovers to 2G or 3G 3GPP access networks;
\- Roaming;
\- Authentication;
\- Bearer management functions including dedicated bearer establishment;
\- Support for PWS (which includes ETWS and CMAS) message transmission;
\- Optionally performing paging optimisation.
NOTE 1: The MME should not filter the PAGING message based on the CSG IDs
towards macro eNBs.
The Serving Gateway (S-GW) hosts the following functions (see 3GPP TS 23.401
[17]):
> \- The local Mobility Anchor point for inter-eNB handover;
>
> \- Mobility anchoring for inter-3GPP mobility;
>
> \- E-UTRAN idle mode downlink packet buffering and initiation of network
> triggered service request procedure;
>
> \- Lawful Interception;
>
> \- Packet routeing and forwarding;
>
> \- Transport level packet marking in the uplink and the downlink;
>
> \- Accounting on user and QCI granularity for inter-operator charging;
>
> \- UL and DL charging per UE, PDN, and QCI.
The PDN Gateway (P-GW) hosts the following functions (see 3GPP TS 23.401
[17]):
> \- Per-user based packet filtering (by e.g. deep packet inspection);
>
> \- Lawful Interception;
>
> \- UE IP address allocation;
>
> \- Transport level packet marking in the uplink and the downlink;
>
> \- UL and DL service level charging, gating and rate enforcement;
>
> \- DL rate enforcement based on APN-AMBR;
This is summarized on the figure below where yellow boxes depict the logical
nodes, white boxes depict the functional entities of the control plane and
blue boxes depict the radio protocol layers.
NOTE 2: There is no logical E-UTRAN node other than the eNB needed for RRM
purposes.
NOTE 3: MBMS related functions in E-UTRAN are described separately in
subclause 15.
Figure 4.1-1: Functional Split between E-UTRAN and EPC
## 4.2 Void
### 4.2.1 Void
### 4.2.2 Void
## 4.3 Radio Protocol architecture
In this subclause, the radio protocol architecture of E-UTRAN is given for the
user plane and the control plane.
### 4.3.1 User plane
The figure below shows the protocol stack for the user-plane, where PDCP, RLC
and MAC sublayers (terminated in eNB on the network side) perform the
functions listed for the user plane in subclause 6, e.g. header compression,
ciphering, scheduling, ARQ and HARQ;
Figure 4.3.1-1: User-plane protocol stack
### 4.3.2 Control plane
The figure below shows the protocol stack for the control-plane, where:
\- PDCP sublayer (terminated in eNB on the network side) performs the
functions listed for the control plane in subclause 6, e.g. ciphering and
integrity protection;
\- RLC and MAC sublayers (terminated in eNB on the network side) perform the
same functions as for the user plane;
\- RRC (terminated in eNB on the network side) performs the functions listed
in subclause 7, e.g.:
\- Broadcast;
\- Paging;
\- RRC connection management;
\- RB control;
\- Mobility functions;
\- UE measurement reporting and control.
\- NAS control protocol (terminated in MME on the network side) performs among
other things:
\- EPS bearer management;
\- Authentication;
\- **ECM-IDLE** mobility handling;
\- Paging origination in **ECM-IDLE** ;
\- Security control.
NOTE: the NAS control protocol is not covered by the scope of this TS and is
only mentioned for information.
Figure 4.3.2-1: Control-plane protocol stack
## 4.4 Synchronization
Diverse methods and techniques are preferred depending on synchronization
requirements. As no single method can cover all E-UTRAN applications a logical
port at eNB may be used for reception of timing and/or frequency and/or phase
inputs pending to the synchronization method chosen.
## 4.5 IP fragmentation
Fragmentation function in IP layer on S1 and X2 shall be supported.
Configuration of S1-U (X2-U) link MTU in the eNB according to the MTU of the
network domain the node belongs to shall be considered as a choice at network
deployment. The network may employ various methods to handle IP fragmentation,
but the specific methods to use are implementation dependant.
## 4.6 Support of HeNBs
### 4.6.1 Architecture
Figure 4.6.1-1 shows a logical architecture for the HeNB that has a set of S1
interfaces to connect the HeNB to the EPC.
The configuration and authentication entities as shown here should be common
to HeNBs and HNBs.
Figure 4.6.1-1: E-UTRAN HeNB Logical Architecture
The E-UTRAN architecture may deploy a Home eNB Gateway (HeNB GW) to allow the
S1 interface between the HeNB and the EPC to support a large number of HeNBs
in a scalable manner. The HeNB GW serves as a concentrator for the C-Plane,
specifically the S1-MME interface. The S1-U interface from the HeNB may be
terminated at the HeNB GW, or a direct logical U-Plane connection between HeNB
and S-GW may be used (as shown in Figure 4.6.1-1).
The S1 interface is defined as the interface:
\- Between the HeNB GW and the Core Network,
\- Between the HeNB and the HeNB GW,
\- Between the HeNB and the Core Network,
\- Between the eNB and the Core Network.
The HeNB GW appears to the MME as an eNB. The HeNB GW appears to the HeNB as
an MME. The S1 interface between the HeNB and the EPC is the same, regardless
whether the HeNB is connected to the EPC via a HeNB GW or not.
The HeNB GW shall connect to the EPC in a way that inbound and outbound
mobility to cells served by the HeNB GW shall not necessarily require inter
MME handovers. One HeNB serves only one cell.
The functions supported by the HeNB shall be the same as those supported by an
eNB (with possible exceptions e.g. NNSF) and the procedures run between a HeNB
and the EPC shall be the same as those between an eNB and the EPC (with
possible exceptions e.g. S5 procedures in case of LIPA support).
X2-based HO between HeNBs is allowed if no access control at the MME is
needed, i.e. when the intra-PLMN handover is between closed/hybrid access
HeNBs having the same CSG ID or when the target HeNB is an open access HeNB.
This version of the specification supports direct X2-connectivity between
HeNBs, independent of whether any of the involved HeNBs is connected to a HeNB
GW.
The overall E-UTRAN architecture with deployed HeNB GW is shown below.
Figure 4.6.1-2: Overall E-UTRAN Architecture with deployed HeNB GW.
NOTE: In the figure above, a HeNB operating in LIPA mode has been represented
with its S5 interface.
Only if the HeNB supports the LIPA function, it shall support an S5 interface
towards the S-GW and an SGi interface towards the residential/IP network. See
section 4.6.5 for the details of the architecture and functions in case of
LIPA support.
### 4.6.2 Functional Split
A HeNB hosts the same functions as an eNB as described in section 4.1, with
the following additional specifics in case of connection to the HeNB GW:
\- Discovery of a suitable Serving HeNB GW;
\- A HeNB shall only connect to a single HeNB GW at one time, namely no S1
Flex function shall be used at the HeNB:
\- The HeNB will not simultaneously connect to another HeNB GW, or another
MME.
\- The TAC and PLMN ID used by the HeNB shall also be supported by the HeNB
GW;
\- Selection of an MME at UE attachment is hosted by the HeNB GW instead of
the HeNB. Upon reception of the GUMMEI from a UE, the HeNB shall include it in
the INITIAL UE MESSAGE message;
\- HeNBs may be deployed without network planning. A HeNB may be moved from
one geographical area to another and therefore it may need to connect to
different HeNB GWs depending on its location;
\- Signalling the GUMMEI of the Source MME to the HeNB GW in the S1 PATH
SWITCH REQUEST message.
Regardless of HeNB GW connection:
\- The HeNB may support the LIPA function. See section 4.6.5 for details.
The HeNB GW hosts the following functions:
\- Relaying UE-associated S1 application part messages between the MME serving
the UE and the HeNB serving the UE, except the UE CONTEXT RELEASE REQUEST
message received from the HeNB with an explicit GW Context Release Indication.
In that case, the HeNB GW terminates the S1 UE Context Release Request
procedure and releases the UE context if it determines that the UE identified
by the received UE S1AP IDs is no longer served by an HeNB attached to it.
Otherwise it ignores the message.
\- In case of S1 INITIAL CONTEXT SETUP REQUEST message and S1 HANDOVER REQUEST
message, informing the HeNB about any GUMMEI corresponding to the serving MME,
the MME UE S1AP ID assigned by the MME and the MME UE S1AP ID assigned by the
HeNB GW for the UE. In case of S1 PATH SWITCH REQUEST ACKNOWLEDGE message,
informing the HeNB about the MME UE S1AP ID assigned by the MME and the MME UE
S1AP ID assigned by the HeNB GW for the UE.
\- Terminating non-UE associated S1 application part procedures towards the
HeNB and towards the MME.
\- Upon receiving an OVERLOAD message, the HeNB GW should send the OVERLOAD
message towards the HeNB(s) including in the message the identities of the
affected MME node.
Note: If a HeNB GW is deployed, non-UE associated procedures shall be run
between HeNBs and the HeNB GW and between the HeNB GW and the MME.
\- Optionally terminating S1-U interface with the HeNB and with the S-GW.
\- Supporting TAC and PLMN ID used by the HeNB.
\- X2 interfaces shall not be established between the HeNB GW and other nodes.
\- Routing the S1 PATH SWITCH REQUEST message towards the MME based on the
GUMMEI of the source MME received from the HeNB.
A list of CSG IDs may be included in the PAGING message. If included, the HeNB
GW may use the list of CSG IDs for paging optimization.
In addition to functions specified in section 4.1, the MME hosts the following
functions:
\- Access control for UEs that are members of Closed Subscriber Groups (CSG):
\- In case of handovers to CSG cells, access control is based on the target
CSG ID of the registered PLMN provided to the MME by the serving E-UTRAN (see
3GPP TS 23.401 [17]).
\- Membership Verification for UEs handing over to hybrid cells:
\- In case of handovers to hybrid cells the MME performs Membership
Verification based on UE's registered PLMN, cell access mode related
information and the CSG ID of the target cell provided by the serving E-UTRAN
(see 3GPP TS 23.401 [17]).
\- CSG membership status signalling to the E-UTRAN in case of
attachment/handover to hybrid cells and in case of the change of membership
status when a UE is served by a CSG cell or a hybrid cell.
\- Supervising the E-UTRAN action after the change in the membership status of
a UE.
\- Routing of handover messages, MME configuration transfer messages and MME
Direct Information Transfer messages towards HeNB GWs based on the TAI
contained in these messages.
NOTE: If routing ambiguities are to be avoided, a TAI used in a HeNB GW should
not be reused in another HeNB GW.
NOTE: The MME or HeNB GW should not include the list of CSG IDs for paging
when sending the paging message directly to an un-trusted HeNB or eNB.
  * The MME may support the LIPA function with HeNB. See details of this support in section 4.6.5.
### 4.6.3 Interfaces
#### 4.6.3.1 Protocol Stack for S1 User Plane
The S1-U data plane is defined between the HeNB, HeNB GW and the S-GW. The
figures below show the S1-U protocol stack with and without the HeNB GW.
Figure 4.6.3.1-1: User plane for S1-U interface for HeNB without HeNB GW
Figure 4.6.3.1-2: User plane for S1-U interface for HeNB with HeNB GW
The HeNB GW may optionally terminate the user plane towards the HeNB and
towards the S-GW, and relay User Plane data between the HeNB and the S-GW.
#### 4.6.3.2 Protocol Stacks for S1 Control Plane
The two figures below show the S1-MME protocol stacks with and without the
HeNB GW.
When the HeNB GW is not present (Fig. 4.6.3.2-1), all the S1-AP procedures are
terminated at the HeNB and the MME.
When present (Fig. 4.6.3.2-2), the HeNB GW shall terminate the non-UE-
dedicated procedures -- both with the HeNB, and with the MME. The HeNB GW
relays Control Plane data between the HeNB and the MME. The scope of any
protocol function associated to a non-UE-dedicated procedure shall be between
HeNB and HeNB GW and/or between HeNB GW and MME.
Any protocol function associated to an UE-dedicated-procedure shall reside
within the HeNB and the MME only.
Figure 4.6.3.2-1: Control plane for S1-MME Interface for HeNB to MME without
the HeNB GW
Figure 4.6.3.2-2: Control plane for S1-MME Interface for HeNB to MME with the
HeNB GW
#### 4.6.3.3 Protocol Stack for S5 interface
The protocol stack for the S5 interface can be found in TS 29.281 [47] for the
user plane and in TS 29.274 [40] for the control plane.
#### 4.6.3.4 Protocol Stack for SGi interface
The protocol stack for the SGi interface can be found in TS 29.061 [41].
#### 4.6.3.5 Protocol Stack for X2 User Plane and X2 Control Plane
The protocol stack for X2 User Plane and X2 Control Plane is reported in
Section 6.4 of TS 36.420 [46].
### 4.6.4 Void
### 4.6.5 Support of LIPA with HeNB
Figure 4.6.5-1 shows the logical architecture for the HeNB when it supports
the LIPA function.
Figure 4.6.5-1: E-UTRAN - HeNB operating in LIPA mode - Logical Architecture
For a LIPA PDN connection, the HeNB sets up and maintains an S5 connection to
the EPC.
The S5 interface does not go via the HeNB GW, even when present.
Requirements on the secure backhaul link for the S5 interface are specified in
TS 33.320 [53].
The mobility of the LIPA PDN connection is not supported in this release of
the specification. The LIPA connection is always released at outgoing handover
as described in TS23.401 [17]. The L-GW function in the HeNB triggers this
release over the S5 interface.
In case of LIPA support, the HeNB supports the following additional functions,
regardless of the presence of a HeNB GW:
\- transfer of the collocated L-GW IP address of the HeNB over S1-MME to the
EPC at every idle-active transition,
\- transfer of the collocated L-GW IP address of the HeNB over S1-MME to the
EPC within every Uplink NAS Transport procedure,
\- support of basic P-GW functions in the collocated L-GW function such as
support of the SGi interface corresponding to LIPA,
\- additional support of first packet sending, buffering of subsequent
packets, internal direct L-GW - HeNB user path management and in sequence
packet delivery to the UE,
\- support of the necessary restricted set of S5 procedures corresponding to
the strict support of LIPA function as specified in TS 23.401 [17],
\- notification to the EPC of the collocated L-GW uplink TEID(s) or GRE key(s)
for the LIPA bearer(s) over S5 interface within the restricted set of
procedures to be forwarded over S1-MME and further used by the HeNB as
\"correlation id\" for correlation purposes between the collocated L-GW
function and the HeNB,
\- in case of outgoing handover triggering the L-GW function to release the
LIPA PDN connection and only handing over the non-LIPA E-RABs.
In case of LIPA support, the MME may support the following additional
functions:
\- verification of UE authorization to request LIPA activation for the
requested APN at this CSG and transfer of the received collocated L-GW IP
address,
\- transfer of the \"correlation id\" i.e. collocated L-GW uplink TEID or GRE
key to the HeNB within the UE context setup procedure and E-RAB setup
procedure,
\- verification of whether the LIPA PDN connection has been released during
the handover procedure, as specified in TS 23.401 [17],
\- deactivation of the LIPA PDN connection of an idle-mode UE if it detects
that the UE has moved out of the coverage area of the HeNB collocated with
L-GW function, as specified in TS 23.401 [17].
## 4.7 Support for relaying
### 4.7.1 General
E-UTRAN supports relaying by having a Relay Node (RN) wirelessly connect to an
eNB serving the RN, called Donor eNB (DeNB), via a modified version of the
E-UTRA radio interface, the modified version being called the Un interface.
The RN supports the eNB functionality meaning it terminates the radio
protocols of the E-UTRA radio interface, and the S1 and X2 interfaces. From a
specification point of view, functionality defined for eNBs, e.g. RNL and TNL,
also applies to RNs unless explicitly specified. RNs do not support NNSF.
In addition to the eNB functionality, the RN also supports a subset of the UE
functionality, e.g. physical layer, layer-2, RRC, and NAS functionality, in
order to wirelessly connect to the DeNB.
NOTE: Inter-cell handover of the RN is not supported.
NOTE: It is up to implementation when the RN starts or stops serving UEs.
NOTE: An RN may not use another RN as its DeNB.
### 4.7.2 Architecture
The architecture for supporting RNs is shown in Figure 4.7.2-1. The RN
terminates the S1, X2 and Un interfaces. The DeNB provides S1 and X2 proxy
functionality between the RN and other network nodes (other eNBs, MMEs and
Sâ€‘GWs). The S1 and X2 proxy functionality includes passing UE-dedicated S1 and
X2 signalling messages as well as GTP data packets between the S1 and X2
interfaces associated with the RN and the S1 and X2 interfaces associated with
other network nodes. Due to the proxy functionality, the DeNB appears as an
MME (for S1-MME), an eNB (for X2) and an S-GW (for S1-U) to the RN.
In phase II of RN operation (see subclause 4.7.6.3), the DeNB also embeds and
provides the S-GW/P-GW-like functions needed for the RN operation. This
includes creating a session for the RN and managing EPS bearers for the RN, as
well as terminating the S11 interface towards the MME serving the RN.
The RN and DeNB also perform mapping of signalling and data packets onto EPS
bearers that are setup for the RN. The mapping is based on existing QoS
mechanisms defined for the UE and the P-GW.
In phase II of RN operation (see subclause 4.7.6.3), the P-GW functions in the
DeNB allocate an IP address for the RN for the O&M which may be different than
the S1 IP address of the DeNB.
If the RN address is not routable to the RN O&M domain, it shall be reachable
from the RN O&M domain (e.g. via NAT).
Figure 4.7.2-1: Overall E-UTRAN Architecture supporting RNs
### 4.7.3 S1 and X2 user plane aspects
The S1 user plane protocol stack for supporting RNs is shown in Figure
4.7.3-1. There is a GTP tunnel associated with each UE EPS bearer, spanning
from the S-GW associated with the UE to the DeNB, which is switched to another
GTP tunnel in the DeNB, going from the DeNB to the RN (one-to-one mapping).
The X2 user plane protocol stack for supporting RNs is shown in Figure
4.7.3-2. There is a GTP forwarding tunnel associated with each UE EPS bearer
subject to forwarding, spanning from the other eNB to the DeNB, which is
switched to another GTP tunnel in the DeNB, going from the DeNB to the RN
(one-to-one mapping).
The S1 and X2 user plane packets are mapped to radio bearers over the Un
interface. The mapping can be based on the QCI associated with the UE EPS
bearers. UE EPS bearer with similar QoS can be mapped to the same Un radio
bearer.
Figure 4.7.3-1: S1 user plane protocol stack for supporting RNs
Figure 4.7.3-2: X2 user plane protocol stack for supporting RNs
### 4.7.4 S1 and X2 control plane aspects
The S1 control plane protocol stack for supporting RNs is shown in Figure
4.7.4-1. There is a single S1 interface relation between each RN and its DeNB,
and there is one S1 interface relation between the DeNB and each MME in the
MME pool. The DeNB processes and forwards all S1 messages between the RN and
the MMEs for all UE-dedicated procedures. The processing of S1-AP messages
includes modifying S1-AP UE IDs, Transport Layer address and GTP TEIDs but
leaves other parts of the message unchanged.
All non-UE-dedicated S1-AP procedures are terminated at the DeNB, and handled
locally between the RN and the DeNB, and between the DeNB and the MME(s). Upon
reception of an S1 non-UE-dedicated message from an MME, the DeNB may trigger
corresponding S1 non-UE-dedicated procedure(s) to the RN(s). If more than one
RN is involved, the DeNB may wait and aggregate the response messages from all
involved RNs before responding to the MME. Upon reception of an S1 non-UE-
dedicated message from an RN, the DeNB may trigger associated S1 non-UE-
dedicated procedure(s) to the MME(s). In case of the RESET procedure, the DeNB
does not need to wait for the response message(s) from the MME(s) or RN(s)
before responding with the RESET ACKNOWLEDGE message to the originating node.
Upon reception of a PAGING message, the DeNB sends the PAGING message toward
the RN(s) which support any tracking area(s) indicated in the List of TAIs.
Upon reception of an S1 MME overload message, the DeNB sends the MME overload
message towards the RN(s), including in the message the identities of the
affected CN node. Upon reception of the GUMMEI from a UE, the RN shall include
it in the INITIAL UE MESSAGE message.
The X2 control plane protocol stack for supporting RNs is shown in Figure
4.7.4-2. There is a single X2 interface relation between each RN and its DeNB.
In addition, the DeNB may have X2 interface relations to neighboring eNBs. The
DeNB processes and forwards all X2 messages between the RN and other eNBs for
all UE-dedicated procedures. The processing of X2-AP messages includes
modifying S1/X2-AP UE IDs, Transport Layer address and GTP TEIDs but leaves
other parts of the message unchanged.
All non-UE-dedicated X2-AP procedures are terminated at the DeNB, and handled
locally between the RN and the DeNB, and between the DeNB and other eNBs. Upon
reception of an X2 non cell related non-UE-associated message from RN or
neighbour eNB, the DeNB may trigger associated non-UE-dedicated X2-AP
procedure(s) to the neighbour eNB or RN(s). Upon reception of an X2 cell
related non-UE-dedicated message from RN or neighbour eNB, the DeNB may pass
associated information to the neighbour eNB or RN(s) based on the included
cell information. If one or more RN(s) are involved, the DeNB may wait and
aggregate the response messages from all involved nodes to respond to the
originating node. Further, parallel Cell Activation procedures are not allowed
on each X2 interface instance. The processing of Resource Status Reporting
Initiation/ Resource Status Reporting messages includes modification of
measurement ID.
The S1 and X2 interface signalling packets are mapped to radio bearers over
the Un interface.
Figure 4.7.4-1: S1 control plane protocol stack for supporting RNs
Figure 4.7.4-2: X2 control plane protocol stack for supporting RNs
### 4.7.5 Radio protocol aspects
The RN connects to the DeNB via the Un interface using the same radio
protocols and procedures as a UE connecting to an eNB. The control plane
protocol stack is shown in Figure 4.7.5-1 and the user plane protocol stack is
shown in Figure 4.7.5-2.
The following relay-specific functionalities aresupported:
\- the RRC layer of the Un interface has functionality to configure and
reconfigure an RN subframe configuration through the RN reconfiguration
procedure (e.g. DL subframe configuration and an RN-specific control channel)
for transmissions between an RN and a DeNB. The RN may request such a
configuration from the DeNB during the RRC connection establishment, and the
DeNB may initiate the RRC signalling for such configuration. The RN applies
the configuration immediately upon reception;
NOTE: The RN subframe configuration on the Un interface can be temporarily
misaligned with the MBSFN subframes configured in the RN cell due to the RN
subframe configuration; i.e. a new subframe configuration can be applied
earlier by the RN on Un than in the RN cell.
\- the RRC layer of the Un interface has functionality to send updated system
information in a dedicated message to an RN with an RN subframe configuration.
The RN applies the received system information immediately;
\- the PDCP layer of the Un interface has functionality to provide integrity
protection for the user plane. The integrity protection is configured per DRB.
To support PWS towards UEs, the RN receives the relevant information over S1.
The RN should hence ignore DeNB system information relating to PWS.
Figure 4.7.5-1: Radio control plane protocol stack for supporting RNs
Figure 4.7.5-2: Radio user plane protocol stack for supporting RNs
### 4.7.6 Signalling procedures
#### 4.7.6.1 RN attach procedure
Figure 4.7.6.1-1 shows a simplified version of the attach procedure for the
RN. The procedure is the same as the normal UE attach procedure TS 23.401 [17]
with the exception that:
\- The DeNB has been made aware of which MMEs support RN functionality via the
S1 Setup Response message earlier received from the MMEs;
\- The RN sends an RN indication to the DeNB during RRC connection
establishment;
\- After receiving the RN indication from the RN, the DeNB sends the RN
indicator and the IP address of the Sâ€‘GW/P-GW function embedded in the DeNB,
within the Initial UE Message, to an MME supporting RN functionality;
\- MME selects S-GW/P-GW for the RN based on the IP address included in the
Initial UE Message;
\- During the attach procedure, the EPC checks if the RN is authorised for
relay operation; only if the RN is authorised, the EPC accepts the attach and
sets up a context with the DeNB; otherwise the EPC rejects the attach.
The RN is preconfigured with information about which cells (DeNBs) it is
allowed to access.
Figure 4.7.6.1-1: RN attach procedure
#### 4.7.6.2 E-RAB activation/modification
Figure 4.7.6.2-1 shows a simplified version of the DeNB-initiated bearer
activation/modification procedure. This procedure can be used by the DeNB to
change the EPS bearer allocation for the RN. The procedure is the same as the
normal network-initiated bearer activation/modification procedure TS 23.401
[17] with the exception that the S-GW/Pâ€‘GW functionality (steps 1 and 6) is
performed by the DeNB.
Figure 4.7.6.2-1: DeNB-initiated bearer activation/modification procedure
#### 4.7.6.3 RN startup procedure
Figure 4.7.6.3-1 shows a simplified version of the startup procedure for the
RN. The procedure is based on the normal UE attach procedure TS 23.401 [17]
and it consists of the following two phases:
I. Phase I: Attach for RN preconfiguration.\ The RN attaches to the
E-UTRAN/EPC as a UE at power-up and retrieves initial configuration
parameters, including the list of DeNB cells, from RN OAM. After this
operation is complete, the RN detaches from the network as a UE and triggers
Phase II. The MME performs the S-GW and P-GW selection for the RN as a normal
UE.
II. Phase II: Attach for RN operation.\ The RN connects to a DeNB selected
from the list acquired during Phase I to start relay operations. For this
purpose, the normal RN attach procedure described in section 4.7.6.1 is
applied. After the DeNB initiates setup of bearer for S1/X2, the RN initiates
the setup of S1 and X2 associations with the DeNB (see section 4.7.4). In
addition, the DeNB may initiate an RN reconfiguration procedure via RRC
signalling for RN-specific parameters.\ After the S1 setup, the DeNB performs
the S1 eNB Configuration Update procedure(s), if the configuration data for
the DeNB is updated due to the RN attach. After the X2 setup, the DeNB
performs the X2 eNB Configuration Update procedure(s) to update the cell
information.\ In this phase the RN cells' ECGIs are configured by RN OAM.
Figure 4.7.6.3-1: RN startup procedure
#### 4.7.6.4 RN detach procedure
Figure 4.7.6.4-1 shows a simplified version of the detach procedure for the RN
operation in case no UE is connected to the RN cells.
1\. The detach procedure is the same as the normal UE detach procedure TS
23.401 [17].
2\. The DeNB performs the X2 eNB Configuration Update procedure(s) to update
the cell information.
3 The DeNB performs the S1 eNB Configuration Update procedure(s), if the
configuration data for the DeNB is updated due to the RN detach.
Figure 4.7.6.4-1: RN detach procedure
#### 4.7.6.5 Neighbouring Information Transfer
The X2 eNB Configuration Update procedure (see section 20.2.2.8) is used by
the DeNB to also transfer application level configuration data of a single
neighbouring eNB to the RN. Upon reception of an ENB CONFIGURATION UPDATE
message, if the served cells contained in the message belong to the neighbour
eNB rather than the DeNB, the RN shall regard the X2 interface between DeNB
and the neighbour eNB as available. The RN will update the X2 availability,
the corresponding GU Group ID and other information of the neighbour eNB
according to the message.
#### 4.7.6.6 Mobility to or from RN
In case of Handover between RN and neighbour eNB, in addition to the
procedures specified in section 10.1.2.1.1, the following also applies.
\- The DeNB may inform the RN of any GUMMEI of the UE\'s serving MME in the
INITIAL CONTEXT SETUP REQUEST and S1 HANDOVER REQUEST messages. Considering
this information as well as the GU Group ID of the neighbour eNB and the X2
interface availability between DeNB and neighbour eNB, the RN initiates either
S1 or X2 handover for the UE. In case the GUMMEI information is not available
to the RN, the RN attempts X2 handover for the UE (see section 19.2.2.5); upon
X2 handover failure, S1 handover may be initiated.
\- The S1/X2 HANDOVER REQUEST is received by the DeNB, which reads the target
cell ID from the message, finds the target node corresponding to the target
cell ID, and forwards the message toward the target node if appropriate.
### 4.7.7 Relay Node OAM Aspects
#### 4.7.7.1 Architecture
Each RN sends alarms and traffic counter information to its OAM system, from
which it receives commands, configuration data and software downloads (e.g.
for equipment software upgrades). This transport connection between each RN
and its OAM, using IP, is provided by the DeNB; the reference architecture is
shown in Figure 4.7.7.1-1. RN OAM traffic is transported over the Un
interface, and it shares resources with the rest of the traffic, including UEs
attached to the DeNB. The secure connection between the RN and its OAM may be
direct or hop-by-hop, i.e. involving intermediate hops trusted by the operator
for this purpose.
{width="1.9993055555555554in" height="2.2430555555555554in"}
Figure 4.7.7.1-1: Relay OAM architecture.
It has to be noted that Figure 4.7.7.1-1 refers to normal operating conditions
for the RN, i.e. after the initial start-up phase has been completed. The case
where the secure connection between the RN and the OAM does not go through the
DeNB, e.g. during the initial start-up phase, is not precluded.
#### 4.7.7.2 OAM Traffic QoS Requirements
Alarms in the RN generate bursts of high-priority traffic, to be transported
in real time. Traffic counters generate bursts of traffic, but their transport
need not be real-time. Configuration messages from OAM to the RN will also
generate small bursts of traffic, possibly with lower priority than alarms but
still delay-sensitive: when a configuration is committed on the OAM, the time
interval between the commitment and the effect on the equipment shall be
small.
Alarm messages and commands should be transported on a high-priority bearer,
while counters may be transported on a lower priority bearer. There is no need
to specify a new QCI value other than those already standardized.
Alarm messages and commands may be mapped over a dedicated bearer or over the
same bearer that carries S1 and/or X2 messages between the RN and the DeNB.
OAM software download to the RN may generate larger amounts of data, but both
the required data rate and the priority of this kind of traffic are much lower
than in the case of alarms, commands and counters. OAM software downloads may
be mapped to a dedicated, non-GBR bearer, or transported together with the
user plane traffic. If a dedicated bearer is used, it is FFS whether it shall
be present at all times, or its setup should be event-triggered (software
upgrades are triggered by the operator).
#### 4.7.7.3 Security Aspects
Refer to section D.2.5 of TS 33.401 [22] for details on secure management
procedures for RN.
#### 4.7.7.4 Void
#### 4.7.7.5 OAM Requirements for Configuration Parameters
##### 4.7.7.5.1 Parameters Associated with Relay Bearer Mapping
OAM provides the appopriate support to configure a QCI-to-DSCP mapping
function at the relay node which is used to control the mapping in uplink of
Uu bearer(s) of different QCI(s) to Un bearer(s).
# 5 Physical Layer for E-UTRA
Downlink and uplink transmissions are organized into radio frames with 10 ms
duration. Two radio frame structures are supported:
\- Type 1, applicable to FDD,
\- Type 2, applicable to TDD.
Frame structure Type 1 is illustrated in Figure 5.1-1. Each 10 ms radio frame
is divided into ten equally sized sub-frames. Each sub-frame consists of two
equally sized slots. For FDD, 10 subframes are available for downlink
transmission and 10 subframes are available for uplink transmissions in each
10 ms interval. Uplink and downlink transmissions are separated in the
frequency domain.
Figure 5.1-1: Frame structure type 1
Frame structure Type 2 is illustrated in Figure 5.1-2. Each 10 ms radio frame
consists of two half-frames of 5 ms each. Each half-frame consists of eight
slots of length 0.5 ms and three special fields: DwPTS, GP and UpPTS. The
length of DwPTS and UpPTS is configurable subject to the total length of
DwPTS, GP and UpPTS being equal to 1ms. Both 5ms and 10ms switch-point
periodicity are supported. Subframe 1 in all configurations and subframe 6 in
configuration with 5ms switch-point periodicity consist of DwPTS, GP and
UpPTS. Subframe 6 in configuration with 10ms switch-point periodicity consists
of DwPTS only. All other subframes consist of two equally sized slots.
For TDD, GP is reserved for downlink to uplink transition. Other
Subframes/Fields are assigned for either downlink or uplink transmission.
Uplink and downlink transmissions are separated in the time domain.
Figure 5.1-2: Frame structure type 2 (for 5ms switch-point periodicity)
Table 5.1-1: Uplink-downlink allocations.
* * *
Configuration Switch-point periodicity Subframe number  
0 1 2 3 4 5 6 7 8 9 0 5 ms D S U U U D S U U U 1 5 ms D S U U D D S U U D 2 5
ms D S U D D D S U D D 3 10 ms D S U U U D D D D D 4 10 ms D S U U D D D D D D
5 10 ms D S U D D D D D D D 6 5 ms D S U U U D S U U D
* * *
The physical channels of E-UTRA are:
**Physical broadcast channel (PBCH)**
\- The coded BCH transport block is mapped to four subframes within a 40 ms
interval;
\- 40 ms timing is blindly detected, i.e. there is no explicit signalling
indicating 40 ms timing;
\- Each subframe is assumed to be self-decodable, i.e. the BCH can be decoded
from a single reception, assuming sufficiently good channel conditions.
**Physical control format indicator channel (PCFICH)**
\- Informs the UE about the number of OFDM symbols used for the PDCCHs;
\- Transmitted in every downlink or special subframe.
**Physical downlink control channel (PDCCH)**
\- Informs the UE about the resource allocation of PCH and DL-SCH, and Hybrid
ARQ information related to DL-SCH;
\- Carries the uplink scheduling grant.
**Physical Hybrid ARQ Indicator Channel (PHICH)**
\- Carries Hybrid ARQ ACK/NAKs in response to uplink transmissions.
**Physical downlink shared channel (PDSCH)**
\- Carries the DL-SCH and PCH.
**Physical multicast channel (PMCH)**
\- Carries the MCH.
**Physical uplink control channel (PUCCH)**
\- Carries Hybrid ARQ ACK/NAKs in response to downlink transmission;
\- Carries Scheduling Request (SR);
\- Carries CQI reports.
**Physical uplink shared channel (PUSCH)**
\- Carries the UL-SCH.
**Physical random access channel (PRACH)**
\- Carries the random access preamble.
## 5.1 Downlink Transmission Scheme
### 5.1.1 Basic transmission scheme based on OFDM
The downlink transmission scheme is based on conventional OFDM using a cyclic
prefix. The OFDM sub-carrier spacing is _âˆ†f_ = 15 kHz. 12 consecutive sub-
carriers during one slot correspond to one downlink _resource block_. In the
frequency domain, the number of resource blocks, N~RB~, can range from N~RB-
min~ = 6 to N~RB-max~ = 110 per carrier or per Cell in case of CA.
In addition there is also a reduced sub-carrier spacing _âˆ†f~low~_ = 7.5 kHz,
only for MBMS-dedicated cell.
In the case of 15 kHz sub-carrier spacing there are two cyclic-prefix lengths,
corresponding to seven and six OFDM symbols per slot respectively.
\- Normal cyclic prefix: T~CP~ = 160Ã—Ts (OFDM symbol #0) , T~CP~ = 144Ã—Ts
(OFDM symbol #1 to #6)
\- Extended cyclic prefix: T~CP-e~ = 512Ã—Ts (OFDM symbol #0 to OFDM symbol #5)
where T~s~ = 1/ (2048 Ã— âˆ†f)
In case of 7.5 kHz sub-carrier spacing, there is only a single cyclic prefix
length T~CP-low~ = 1024Ã—Ts, corresponding to 3 OFDM symbols per slot.
In case of FDD, operation with half duplex from UE point of view is supported.
### 5.1.2 Physical-layer processing
The downlink physical-layer processing of transport channels consists of the
following steps:
\- CRC insertion: 24 bit CRC for PDSCH;
\- Channel coding: Turbo coding based on QPP inner interleaving with trellis
termination;
\- Physical-layer hybrid-ARQ processing;
\- Channel interleaving;
\- Scrambling: transport-channel specific scrambling on DL-SCH, BCH, and PCH.
Common MCH scrambling for all cells involved in a specific MBSFN transmission;
\- Modulation: QPSK, 16QAM, and 64QAM;
\- Layer mapping and pre-coding;
\- Mapping to assigned resources and antenna ports.
### 5.1.3 Physical downlink control channel
The downlink control signalling (PDCCH) is located in the first _n_ OFDM
symbols where _n_ â‰¤ 4 and consists of:
\- Transport format and resource allocation related to DL-SCH and PCH, and
hybrid ARQ information related to DL-SCH;
\- Transport format, resource allocation, and hybrid-ARQ information related
to UL-SCH;
Transmission of control signalling from these groups is mutually independent.
Multiple physical downlink control channels are supported and a UE monitors a
set of control channels.
_Control channels_ are formed by aggregation of _control channel elements,
each control channel element consisting of a set of resource elements.
Different code rates for the control channels are realized by aggregating
different numbers of control channel elements._
QPSK modulation is used for all control channels.
Each separate control channel has its own set of x-RNTI.
There is an implicit relation between the uplink resources used for
dynamically scheduled data transmission, or the DL control channel used for
assignment, and the downlink ACK/NAK resource used for feedback.
The physical layer supports R-PDCCH for the relay.
### 5.1.4 Downlink Reference signal and synchronization signals
The downlink cell-specific reference signals consist of known reference
symbols inserted in the first and third last OFDM symbol of each slot for
antenna port 0 and 1. There is one cell-specific reference signal transmitted
per downlink antenna port. The number of downlink antenna ports for the
transmission of cell-specific reference signals equals 1, 2, or 4.
Physical layer provides 504 unique cell identities using Synchronization
signals.
The downlink MBSFN reference signals consist of known reference symbols
inserted every other sub-carrier in the 3^rd^, 7^th^ and 11^th^ OFDM symbol of
sub-frame in case of 15kHz sub-carrier spacing and extended cyclic prefix.
In addition to cell-specific reference signals and MBSFN reference signals,
the physical layer supports UE-specific reference signals, positioning
reference signals and CSI reference signals.
### 5.1.5 Downlink multi-antenna transmission
Multi-antenna transmission with up to 8 transmit antennas is supported. The
maximum number of codeword is two irrespective to the number of antennas with
fixed mapping between code words to layers.
Spatial division multiplexing (SDM) of multiple modulation symbol streams to a
single UE using the same time-frequency (-code) resource, also referred to as
Single-User MIMO (SU-MIMO) is supported. When a MIMO channel is solely
assigned to a single UE, it is known as SU-MIMO. Spatial division multiplexing
of modulation symbol streams to different UEs using the same time-frequency
resource, also referred to as MU-MIMO, is also supported.
In addition, the following techniques are supported:
\- Code-book-based pre-coding with a single pre-coding feedback per full
system bandwidth when the system bandwidth (or subset of resource blocks) is
smaller or equal to12RB and per 5 adjacent resource blocks or the full system
bandwidth (or subset of resource blocks) when the system bandwidth is larger
than 12RB.
\- Non-code-book-based pre-coding with or without pre-coding feedback.
\- Rank adaptation with single rank feedback referring to full system
bandwidth. Node B can override rank report.
### 5.1.6 MBSFN transmission
MBSFN is supported for the MCH transport channel. Multiplexing of transport
channels using MBSFN and non-MBSFN transmission is done on a per-sub-frame
basis. Additional reference symbols, transmitted using MBSFN are transmitted
within MBSFN subframes.
### 5.1.7 Physical layer procedure
#### 5.1.7.1 Link adaptation
Link adaptation (AMC: adaptive modulation and coding) with various modulation
schemes and channel coding rates is applied to the shared data channel. The
same coding and modulation is applied to all groups of resource blocks
belonging to the same L2 PDU scheduled to one user within one TTI and within a
single stream.
#### 5.1.7.2 Power Control
Downlink power control can be used.
#### 5.1.7.3 Cell search
Cell search is the procedure by which a UE acquires time and frequency
synchronization with a cell and detects the Cell ID of that cell. E-UTRA cell
search supports a scalable overall transmission bandwidth corresponding to 72
sub-carriers and upwards.
E-UTRA cell search is based on following signals transmitted in the downlink:
the primary and secondary synchronization signals.
The primary and secondary synchronization signals are transmitted over the
centre 72 sub-carriers in the first and sixth subframe of each frame.
Neighbour-cell search is based on the same downlink signals as initial cell
search.
### 5.1.8 Physical layer measurements definition
The physical layer measurements to support mobility are classified as:
\- within E-UTRAN (intra-frequency, inter-frequency);
\- between E-UTRAN and GERAN/UTRAN (inter-RAT);
\- between E-UTRAN and non-3GPP RAT (Inter 3GPP access system mobility).
For measurements within E-UTRAN two basic UE measurement quantities shall be
supported:
\- Reference symbol received power (RSRP);
\- Reference symbol received quality (RSRQ).
## 5.2 Uplink Transmission Scheme
### 5.2.1 Basic transmission scheme
For both FDD and TDD, the uplink transmission scheme is based on single-
carrier FDMA, more specifically DFTS-OFDM. It also supports multi-cluster
assignment of DFTS-OFDM.
Figure 5.2.1-1: Transmitter scheme of SC-FDMA
The uplink sub-carrier spacing _âˆ†f_ = 15 kHz. The sub-carriers are grouped
into sets of 12 consecutive sub-carriers, corresponding to the uplink resource
blocks. 12 consecutive sub-carriers during one slot correspond to one uplink
_resource block_. In the frequency domain, the number of resource blocks,
N~RB~, can range from N~RB-min~ = 6 to N~RB-max~ = 110 per carrier or per CC
in case of CA.
There are two cyclic-prefix lengths defined: Normal cyclic prefix and extended
cyclic prefix corresponding to seven and six SC-FDMA symbol per slot
respectively.
\- Normal cyclic prefix: T~CP~ = 160Ã—Ts (SC-FDMA symbol #0) , T~CP~ = 144Ã—Ts
(SC-FDMA symbol #1 to #6)
\- Extended cyclic prefix: T~CP-e~ = 512Ã—Ts (SC-FDMA symbol #0 to SC-FDMA
symbol #5)
### 5.2.2 Physical-layer processing
The uplink physical layer processing of transport channels consists of the
following steps:
\- CRC insertion: 24 bit CRC for PUSCH;
\- Channel coding: turbo coding based on QPP inner interleaving with trellis
termination;
\- Physical-layer hybrid-ARQ processing;
\- Scrambling: UE-specific scrambling;
\- Modulation: QPSK, 16QAM, and 64QAM (64 QAM optional in UE);
\- Mapping to assigned resources and antennas ports.
### 5.2.3 Physical uplink control channel
The PUCCH shall be mapped to a control channel resource in the uplink.
Depending on presence or absence of uplink timing synchronization, the uplink
physical control signalling for scheduling request can differ.
In the case of time synchronization being present, the outband control
signalling consists of:
\- CQI;
\- ACK/NAK;
\- Scheduling Request (SR).
The CQI informs the scheduler about the current channel conditions as seen by
the UE. If MIMO transmission is used, the CQI includes necessary MIMO-related
feedback.
The HARQ feedback in response to downlink data transmission consists of a
single ACK/NAK bit per transport block in case of non-bundling configuration.
PUCCH resources for SR and CQI reporting are assigned and can be revoked
through RRC signalling. An SR is not necessarily assigned to UEs acquiring
synchronization through the RACH (i.e. synchronised UEs may or may not have a
dedicated SR channel). PUCCH resources for SR and CQI are lost when the UE is
no longer synchronized.
PUCCH is transmitted on PCell only in carrier aggregation.
The physical layer supports simultaneous transmission of PUCCH and PUSCH.
### 5.2.4 Uplink Reference signal
For PUSCH demodulation, uplink demodulation reference signals are transmitted
in the 4-th block of the slot in normal CP. Uplink demodulation reference
signals are also transmitted for PUCCH demodulation. The uplink demodulation
reference signals sequence length equals the size (number of sub-carriers) of
the assigned resource.
The uplink reference signals are based on sequences having constant amplitude
and zero autocorrelation.
Multiple reference signals can be created:
\- Based on different base sequences;
\- Different shifts of the same sequence;
\- Different orthogonal sequences (OCC) on DM RS.
In addition to demodulation reference signals, the physical layer supports
sounding reference signals (SRS).
### 5.2.5 Random access preamble
The physical layer random access burst consists of a cyclic prefix, a
preamble, and a guard time during which nothing is transmitted.
The random access preambles are generated from Zadoff-Chu sequences with zero
correlation zone, ZC-ZCZ, generated from one or several root Zadoff-Chu
sequences.
### 5.2.6 Uplink multi-antenna transmission
The antenna configuration for uplink supports both SU-MIMO and MU-MIMO.
Closed loop and open loop types of adaptive antenna selection transmit
diversity are supported for both FDD and TDD by physical layer.
The physical layer supports transmit diversity of some control formats.
### 5.2.7 Physical channel procedure
#### 5.2.7.1 Link adaptation
Uplink link adaptation is used in order to guarantee the required minimum
transmission performance of each UE such as the user data rate, packet error
rate, and latency, while maximizing the system throughput.
Three types of link adaptation are performed according to the channel
conditions, the UE capability such as the maximum transmission power and
maximum transmission bandwidth etc., and the required QoS such as the data
rate, latency, and packet error rate etc. Three link adaptation methods are as
follows.
\- Adaptive transmission bandwidth;
\- Transmission power control;
\- Adaptive modulation and channel coding rate.
#### 5.2.7.2 Uplink Power control
Intra-cell power control: the power spectral density of the uplink
transmissions can be influenced by the eNB.
#### 5.2.7.3 Uplink timing control
The timing advance is derived from the UL received timing and sent by the eNB
to the UE which the UE uses to advance/delay its timings of transmissions to
the eNB so as to compensate for propagation delay and thus time align the
transmissions from different UEs with the receiver window of the eNB.
The timing advance command is on a per need basis with a granularity in the
step size of 0.52 Î¼s (16Ã—T~s~).
## 5.3 Transport Channels
The physical layer offers information transfer services to MAC and higher
layers. The physical layer transport services are described by _how_ and with
what characteristics data are transferred over the radio interface. An
adequate term for this is "Transport Channel".
NOTE: This should be clearly separated from the classification of _what_ is
transported, which relates to the concept of logical channels at MAC sublayer.
Downlink transport channel types are:
1\. **Broadcast Channel (BCH)** characterised by:
\- fixed, pre-defined transport format;
\- requirement to be broadcast in the entire coverage area of the cell.
2\. **Downlink Shared Channel (DL-SCH)** characterised by:
\- support for HARQ;
\- support for dynamic link adaptation by varying the modulation, coding and
transmit power;
\- possibility to be broadcast in the entire cell;
\- possibility to use beamforming;
\- support for both dynamic and semi-static resource allocation;
\- support for UE discontinuous reception (DRX) to enable UE power saving;
NOTE: the possibility to use slow power control depends on the physical layer.
3\. **Paging Channel (PCH)** characterised by:
\- support for UE discontinuous reception (DRX) to enable UE power saving (DRX
cycle is indicated by the network to the UE);
\- requirement to be broadcast in the entire coverage area of the cell;
\- mapped to physical resources which can be used dynamically also for
traffic/other control channels.
4\. **Multicast Channel (MCH)** characterised by:
> \- requirement to be broadcast in the entire coverage area of the cell;
>
> \- support for MBSFN combining of MBMS transmission on multiple cells;
>
> \- support for semi-static resource allocation e.g. with a time frame of a
> long cyclic prefix.
Uplink transport channel types are:
1\. **Uplink Shared Channel (UL-SCH)** characterised by:
\- possibility to use beamforming; (likely no impact on specifications)
\- support for dynamic link adaptation by varying the transmit power and
potentially modulation and coding;
\- support for HARQ;
\- support for both dynamic and semi-static resource allocation.
NOTE: the possibility to use uplink synchronisation and timing advance depend
on the physical layer.
2\. **Random Access Channel(s) (RACH)** characterised by:
\- limited control information;
\- collision risk;
NOTE: the possibility to use open loop power control depends on the physical
layer solution.
### 5.3.1 Mapping between transport channels and physical channels
The figures below depict the mapping between transport and physical channels:
Figure 5.3.1-1: Mapping between downlink transport channels and downlink
physical channels
Figure 5.3.1-2: Mapping between uplink transport channels and uplink physical
channels
## 5.4 E-UTRA physical layer model
The E-UTRAN physical layer model is captured in TS 36.302 [9].
### 5.4.1 Void
### 5.4.2 Void
## 5.5 Carrier Aggregation
In C _arrier Aggregation (CA)_ , two or more _Component Carriers_ (CCs) are
aggregated in order to support wider transmission bandwidths up to 100MHz. A
UE may simultaneously receive or transmit on one or multiple CCs depending on
its capabilities:
\- A Rel-10 UE with reception and/or transmission capabilities for CA can
simultaneously receive and/or transmit on multiple CCs corresponding to
multiple serving cells;
\- A Rel-8/9 UE can receive on a single CC and transmit on a single CC
corresponding to one serving cell only.
CA is supported for both contiguous and non-contiguous CCs with each CC
limited to a maximum of 110 Resource Blocks in the frequency domain using the
Rel-8/9 numerology.
It is possible to configure a UE to aggregate a different number of CCs
originating from the same eNB and of possibly different bandwidths in the UL
and the DL.
\- The number of DL CCs that can be configured depends on the DL aggregation
capability of the UE;
\- The number of UL CCs that can be configured depends on the UL aggregation
capability of the UE;
\- It is not possible to configure a UE with more UL CCs than DL CCs;
\- In typical TDD deployments, the number of CCs and the bandwidth of each CC
in UL and DL is the same.
CCs originating from the same eNB need not to provide the same coverage.
CCs shall be LTE Rel-8/9 compatible. Nevertheless, existing mechanisms (e.g.
barring) may be used to avoid Rel-8/9 UEs to camp on a CC.
The spacing between centre frequencies of contiguously aggregated CCs shall be
a multiple of 300 kHz. This is in order to be compatible with the 100 kHz
frequency raster of Rel-8/9 and at the same time preserve orthogonality of the
subcarriers with 15 kHz spacing. Depending on the aggregation scenario, the
_n_ Ã— 300 kHz spacing can be facilitated by insertion of a low number of
unused subcarriers between contiguous CCs.
# 6 Layer 2
Layer 2 is split into the following sublayers: Medium Access Control (MAC),
Radio Link Control (RLC) and Packet Data Convergence Protocol (PDCP).
This subclause gives a high level description of the Layer 2 sub-layers in
terms of services and functions. The two figures below depict the PDCP/RLC/MAC
architecture for downlink and uplink, where:
\- Service Access Points (SAP) for peer-to-peer communication are marked with
circles at the interface between sublayers. The SAP between the physical layer
and the MAC sublayer provides the transport channels. The SAPs between the MAC
sublayer and the RLC sublayer provide the logical channels.
\- The multiplexing of several logical channels (i.e. radio bearers) on the
same transport channel (i.e. transport block) is performed by the MAC
sublayer;
\- In both uplink and downlink, when CA is not configured, only one transport
block is generated per TTI in the absence of spatial multiplexing.
Figure 6-1: Layer 2 Structure for DL
Figure 6-2: Layer 2 Structure for UL
NOTE: The eNB may not be able to guarantee that a L2 buffer overflow will
never occur. If such overflow occurs, UE may discard packets in the L2 buffer.
## 6.1 MAC Sublayer
This subclause provides an overview on services and functions provided by the
MAC sublayer.
### 6.1.1 Services and Functions
The main services and functions of the MAC sublayer include:
\- Mapping between logical channels and transport channels;
\- **Multiplexing/demultiplexing of MAC SDUs belonging to one or different
logical channels into/from transport blocks (TB) delivered to/from the
physical layer on transport channels;**
\- scheduling information reporting;
\- Error correction through HARQ;
\- Priority handling between logical channels of one UE;
\- Priority handling between UEs by means of dynamic scheduling;
\- MBMS service identification;
\- Transport format selection;
\- Padding.
### 6.1.2 Logical Channels
Different kinds of data transfer services as offered by MAC. Each logical
channel type is defined by what type of information is transferred.
A general classification of logical channels is into two groups:
\- Control Channels (for the transfer of control plane information);
\- Traffic Channels (for the transfer of user plane information).
There is one MAC entity per cell. MAC generally consists of several function
blocks (transmission scheduling functions, per UE functions, MBMS functions,
MAC control functions, transport block generation...). Transparent Mode is
only applied to BCCH and PCCH.
#### 6.1.2.1 Control Channels
Control channels are used for transfer of control plane information only. The
control channels offered by MAC are:
**\- Broadcast Control Channel (BCCH)**
A downlink channel for broadcasting system control information.
**\- Paging Control Channel (PCCH)**
A downlink channel that transfers paging information and system information
change notifications. This channel is used for paging when the network does
not know the location cell of the UE.
**\- Common Control Channel (CCCH)**
Channel for transmitting control information between UEs and network. This
channel is used for UEs having no RRC connection with the network.
**\- Multicast Control Channel (MCCH)**
A point-to-multipoint downlink channel used for transmitting MBMS control
information from the network to the UE, for one or several MTCHs. This channel
is only used by UEs that receive or are interested to receive MBMS.
**\- Dedicated Control Channel (DCCH)**
A point-to-point bi-directional channel that transmits dedicated control
information between a UE and the network. Used by UEs having an RRC
connection.
#### 6.1.2.2 Traffic Channels
Traffic channels are used for the transfer of user plane information only. The
traffic channels offered by MAC are:
**\- Dedicated Traffic Channel (DTCH)**
A Dedicated Traffic Channel (DTCH) is a point-to-point channel, dedicated to
one UE, for the transfer of user information. A DTCH can exist in both uplink
and downlink.
**\- Multicast Traffic Channel (MTCH)**
A point-to-multipoint downlink channel for transmitting traffic data from the
network to the UE. This channel is only used by UEs that receive MBMS.
### 6.1.3 Mapping between logical channels and transport channels
#### 6.1.3.1 Mapping in Uplink
The figure below depicts the mapping between uplink logical channels and
uplink transport channels:
Figure 6.1.3.1-1: Mapping between uplink logical channels and uplink transport
channels
In Uplink, the following connections between logical channels and transport
channels exist:
\- CCCH can be mapped to UL-SCH;
\- DCCH can be mapped to UL- SCH;
\- DTCH can be mapped to UL-SCH.
#### 6.1.3.2 Mapping in Downlink
The figure below depicts the mapping between downlink logical channels and
downlink transport channels:
Figure 6.1.3.2-1: Mapping between downlink logical channels and downlink
transport channels
In Downlink, the following connections between logical channels and transport
channels exist:
\- BCCH can be mapped to BCH;
\- BCCH can be mapped to DL-SCH;
\- PCCH can be mapped to PCH;
\- CCCH can be mapped to DL-SCH;
\- DCCH can be mapped to DL-SCH;
\- DTCH can be mapped to DL-SCH;
\- MTCH can be mapped to MCH;
\- MCCH can be mapped to MCH.
## 6.2 RLC Sublayer
This subclause provides an overview on services, functions and PDU structure
provided by the RLC sublayer. Note that:
\- The reliability of RLC is configurable: some radio bearers may tolerate
rare losses (e.g. TCP traffic);
\- Radio Bearers are not characterized by a fixed sized data unit (e.g. a
fixed sized RLC PDU).
### 6.2.1 Services and Functions
The main services and functions of the RLC sublayer include:
\- Transfer of upper layer PDUs;
\- Error Correction through ARQ (only for AM data transfer);
\- Concatenation, segmentation and reassembly of RLC SDUs (only for UM and AM
data transfer);
\- Re-segmentation of RLC data PDUs (only for AM data transfer);
\- Reordering of RLC data PDUs (only for UM and AM data transfer);
\- Duplicate detection (only for UM and AM data transfer);
\- Protocol error detection (only for AM data transfer);
\- RLC SDU discard (only for UM and AM data transfer);
\- RLC re-establishment.
### 6.2.2 PDU Structure
Figure 6.2.2-1 below depicts the RLC PDU structure where:
\- The PDU sequence number carried by the RLC header is independent of the SDU
sequence number (i.e. PDCP sequence number);
\- A red dotted line indicates the occurrence of segmentation;
\- Because segmentation only occurs when needed and concatenation is done in
sequence, the content of an RLC PDU can generally be described by the
following relations:
\- {0; 1} last segment of SDU~i~ + [0; n] complete SDUs + {0; 1} first segment
of SDU~i+n+1~ ; or
\- 1 segment of SDU~i~ .
Figure 6.2.2-1: RLC PDU Structure
## 6.3 PDCP Sublayer
This subclause provides an overview on services, functions and PDU structure
provided by the PDCP sublayer.
### 6.3.1 Services and Functions
The main services and functions of the PDCP sublayer for the user plane
include:
\- Header compression and decompression: ROHC only;
\- Transfer of user data;
\- In-sequence delivery of upper layer PDUs at PDCP re-establishment procedure
for RLC AM;
\- Duplicate detection of lower layer SDUs at PDCP re-establishment procedure
for RLC AM;
\- Retransmission of PDCP SDUs at handover for RLC AM;
\- Ciphering and deciphering;
\- Timer-based SDU discard in uplink.
NOTE: When compared to UTRAN, the _lossless DL RLC PDU size change_ is not
required.
The main services and functions of the PDCP for the control plane include:
\- Ciphering and Integrity Protection;
\- Transfer of control plane data.
### 6.3.2 PDU Structure
Figure 6.3.2-1 below depicts the PDCP PDU structure for user plane data,
where:
\- PDCP PDU and PDCP header are octet-aligned;
\- PDCP header can be either 1 or 2 bytes long.
Figure 6.3.2-1: PDCP PDU Structure
The structures for control PDCP PDUs and for control plane PDCP data PDUs are
specified in [15].
## 6.4 Carrier Aggregation
In case of CA, the multi-carrier nature of the physical layer is only exposed
to the MAC layer for which one HARQ entity is required per serving cell;
\- In both uplink and downlink, there is one independent hybrid-ARQ entity per
serving cell and one transport block is generated per TTI per serving cell in
the absence of spatial multiplexing. Each transport block and its potential
HARQ retransmissions are mapped to a single serving cell.
Figure 6.4-1: Layer 2 Structure for DL with CA configured
Figure 6.4-2: Layer 2 Structure for UL with CA configured
# 7 RRC
This subclause provides an overview on services and functions provided by the
RRC sublayer.
## 7.1 Services and Functions
The main services and functions of the RRC sublayer include:
\- Broadcast of System Information related to the non-access stratum (NAS);
\- Broadcast of System Information related to the access stratum (AS);
\- Paging;
\- Establishment, maintenance and release of an RRC connection between the UE
and E-UTRAN including:
\- Allocation of temporary identifiers between UE and E-UTRAN;
\- Configuration of signalling radio bearer(s) for RRC connection:
\- Low priority SRB and high priority SRB.
\- Security functions including key management;
\- Establishment, configuration, maintenance and release of point to point
Radio Bearers;
\- Mobility functions including:
\- UE measurement reporting and control of the reporting for inter-cell and
inter-RAT mobility;
\- Handover;
\- UE cell selection and reselection and control of cell selection and
reselection;
\- Context transfer at handover.
\- Notification and counting for MBMS services;
\- Establishment, configuration, maintenance and release of Radio Bearers for
MBMS services;
\- QoS management functions;
\- UE measurement reporting and control of the reporting;
\- NAS direct message transfer to/from NAS from/to UE.
## 7.2 RRC protocol states & state transitions
RRC uses the following states:
\- **RRC_IDLE** :
\- PLMN selection;
\- DRX configured by NAS;
\- Broadcast of system information;
\- Paging;
\- Cell re-selection mobility;
\- The UE shall have been allocated an id which uniquely identifies the UE in
a tracking area;
\- No RRC context stored in the eNB.
\- **RRC_CONNECTED** :
\- UE has an E-UTRAN-RRC connection;
\- UE has context in E-UTRAN;
\- E-UTRAN knows the cell which the UE belongs to;
\- Network can transmit and/or receive data to/from UE;
\- Network controlled mobility (handover and inter-RAT cell change order to
GERAN with NACC);
\- Neighbour cell measurements;
\- At PDCP/RLC/MAC level:
\- UE can transmit and/or receive data to/from network;
\- UE monitors control signalling channel for shared data channel to see if
any transmission over the shared data channel has been allocated to the UE;
\- UE also reports channel quality information and feedback information to
eNB;
\- DRX period can be configured according to UE activity level for UE power
saving and efficient resource utilization. This is under control of the eNB.
## 7.3 Transport of NAS messages
The AS provides reliable in-sequence delivery of NAS messages in a cell.
During handover, message loss or duplication of NAS messages can occur.
In E-UTRAN, NAS messages are either concatenated with RRC messages or carried
in RRC without concatenation. Upon arrival of concurrent NAS messages for the
same UE requiring both concatenation with RRC for the high priority queue and
also without concatenation for the lower priority queue, the messages are
first queued as necessary to maintain in-sequence delivery.
In DL, when an EPS bearer establishment or release procedure is triggered, the
NAS message should normally be concatenated with the associated RRC message.
When the EPS bearer is modified and when the modification also depends on a
modification of the radio bearer, the NAS message and associated RRC message
should normally be concatenated. Concatenation of DL NAS with RRC message is
not allowed otherwise. In uplink concatenation of NAS messages with RRC
message is used only for transferring the initial NAS message during
connection setup. Initial Direct Transfer is not used in E-UTRAN and no NAS
message is concatenated with RRC connection request.
Multiple NAS messages can be sent in a single downlink RRC message during EPS
bearer establishment or modification. In this case, the order of the NAS
messages in the RRC message shall be kept the same as that in the
corresponding S1-AP message in order to ensure the in-sequence delivery of NAS
messages.
NOTE: NAS messages are integrity protected and ciphered by PDCP, in addition
to the integrity protection and ciphering performed by NAS.
## 7.4 System Information
System information is divided into the _MasterInformationBlock_ (MIB) and a
number of _SystemInformationBlocks_ (SIBs):
_\- MasterInformationBlock_ defines the most essential physical layer
information of the cell required to receive further system information;
\- _SystemInformationBlockType1_ contains information relevant when evaluating
if a UE is allowed to access a cell and defines the scheduling of other system
information blocks;
\- _SystemInformationBlockType2_ contains common and shared channel
information;
\- _SystemInformationBlockType3_ contains cell re-selection information,
mainly related to the serving cell;
\- _SystemInformationBlockType4_ contains information about the serving
frequency and intra-frequency neighbouring cells relevant for cell re-
selection (including cell re-selection parameters common for a frequency as
well as cell specific re-selection parameters);
\- _SystemInformationBlockType5 contains information about_ other Eâ€‘UTRA
frequencies and inter-frequency neighbouring cells relevant for cell re-
selection (including cell re-selection parameters common for a frequency as
well as cell specific re-selection parameters);
\- _SystemInformationBlockType6 contains information about_ UTRA frequencies
and UTRA neighbouring cells relevant for cell re-selection (including cell re-
selection parameters common for a frequency as well as cell specific re-
selection parameters);
\- _SystemInformationBlockType7 contains information about_ GERAN frequencies
relevant for cell re-selection (including cell re-selection parameters for
each frequency);
\- _SystemInformationBlockType8_ contains information about CDMA2000
frequencies and CDMA2000 neighbouring cells relevant for cell re-selection
(including cell re-selection parameters common for a frequency as well as cell
specific re-selection parameters);
\- _SystemInformationBlockType9_ contains a home eNB name (HNB name);
\- _SystemInformationBlockType10_ contains an ETWS primary notification;
\- _SystemInformationBlockType11_ contains an ETWS secondary notification;
\- _SystemInformationBlockType12_ contains a CMAS warning notification;
> \- _SystemInformationBlockType13_ contains MBMS-related information.
The MIB is mapped on the BCCH and carried on BCH while all other SI messages
are mapped on the BCCH and dynamically carried on DL-SCH where they can be
identified through the SI-RNTI (System Information RNTI). Both the MIB and
_SystemInformationBlockType1_ use a fixed schedule with a periodicity of 40
and 80 ms respectively while the scheduling of other SI messages is flexible
and indicated by _SystemInformationBlockType1_.
The eNB may schedule DL-SCH transmissions concerning logical channels other
than BCCH in the same subframe as used for BCCH. The minimum UE capability
restricts the BCCH mapped to DL-SCH e.g. regarding the maximum rate.
The Paging message is used to inform UEs in RRC_IDLE and UEs in RRC_CONNECTED
about a system information change.
System information may also be provided to the UE by means of dedicated
signalling e.g. upon handover.
## 7.5 Carrier Aggregation
When CA is configured, the UE only has one RRC connection with the network. At
RRC connection establishment/re-establishment/handover, one serving cell
provides the NAS mobility information (e.g. TAI), and at RRC connection re-
establishment/handover, one serving cell provides the security input. This
cell is referred to as the Primary Cell (PCell). In the downlink, the carrier
corresponding to the PCell is the Downlink Primary Component Carrier (DL PCC)
while in the uplink it is the Uplink Primary Component Carrier (UL PCC).
Depending on UE capabilities, Secondary Cells (SCells) can be configured to
form together with the PCell a set of serving cells. In the downlink, the
carrier corresponding to an SCell is a Downlink Secondary Component Carrier
(DL SCC) while in the uplink it is an Uplink Secondary Component Carrier (UL
SCC).
The configured set of serving cells for a UE therefore always consists of one
PCell and one or more SCells:
\- For each SCell the usage of uplink resources by the UE in addition to the
downlink ones is configurable (the number of DL SCCs configured is therefore
always larger than or equal to the number of UL SCCs and no SCell can be
configured for usage of uplink resources only);
\- From a UE viewpoint, each uplink resource only belongs to one serving cell;
\- The number of serving cells that can be configured depends on the
aggregation capability of the UE (see subclause 5.5);
\- PCell can only be changed with handover procedure (i.e. with security key
change and RACH procedure);
\- PCell is used for transmission of PUCCH;
\- Unlike SCells, PCell cannot be de-activated (see subclause 11.2);
\- Re-establishment is triggered when PCell experiences RLF, not when SCells
experience RLF;
\- NAS information is taken from PCell.
The reconfiguration, addition and removal of SCells can be performed by RRC.
At intra-LTE handover, RRC can also add, remove, or reconfigure SCells for
usage with the target PCell. When adding a new SCell, dedicated RRC signalling
is used for sending all required system information of the SCell i.e. while in
connected mode, UEs need not acquire broadcasted system information directly
from the SCells.
# 8 E-UTRAN identities
## 8.1 E-UTRAN related UE identities
The following E-UTRAN related UE identities are used at cell level:
\- C-RNTI: unique identification used for identifying RRC Connection and
scheduling;
\- Semi-Persistent Scheduling C-RNTI: unique identification used for semi-
persistent scheduling;
\- Temporary C-RNTI: identification used for the random access procedure;
\- TPC-PUSCH-RNTI: identification used for the power control of PUSCH;
\- TPC-PUCCH-RNTI: identification used for the power control of PUCCH;
\- Random value for contention resolution: during some transient states, the
UE is temporarily identified with a random value used for contention
resolution purposes.
## 8.2 Network entity related Identities
The following identities are used in E-UTRAN for identifying a specific
network entity TS 36.413 [25]:
\- Globally Unique MME Identity (GUMMEI): used to identify MME globally. The
GUMMEI is constructed from the PLMN identity the MME belongs to, the group
identity of the MME group the MME belongs to and the MME code (MMEC) of the
MME within the MME group.
NOTE: GUMMEI or S-TMSI containing the MMEC is provided by the UE to the eNB
according to TS 23.401 [17], TS 24.301 [20] and TS 36.331 [16].
\- E-UTRAN Cell Global Identifier (ECGI): used to identify cells globally. The
ECGI is constructed from the PLMN identity the cell belongs to and the Cell
Identity (CI) of the cell. The included PLMN is the one given by the first
PLMN entry in SIB1, according to TS 36.331 [16].
\- eNB Identifier (eNB ID): used to identify eNBs within a PLMN. The eNB ID is
contained within the CI of its cells.
\- Global eNB ID: used to identify eNBs globally. The Global eNB ID is
constructed from the PLMN identity the eNB belongs to and the eNB ID. The MCC
and MNC are the same as included in the E-UTRAN Cell Global Identifier (ECGI).
\- The Global eNB ID of RN is the same as its serving DeNB.
\- Tracking Area identity (TAI): used to identify tracking areas. The TAI is
constructed from the PLMN identity the tracking area belongs to and the TAC
(Tracking Area Code) of the Tracking Area.
\- CSG identity (CSG ID): used to identify a CSG within a PLMN.
\- EPS Bearer ID / E-RAB ID:
\- The value of the E-RAB ID used at S1 and X2 interfaces to identify an E-RAB
allocated to the UE is the same as the EPS Bearer ID value used at the Uu
interface to identify the associated EPS Bearer (and also used at the NAS
layer as defined in TS 36.413 [25]).
The following identities are broadcast in every E-UTRAN cell (SIB1): CI, TAC,
CSG ID (if any) and one or more PLMN identities.
# 9 ARQ and HARQ
E-UTRAN provides ARQ and HARQ functionalities. The ARQ functionality provides
error correction by retransmissions in acknowledged mode at Layer 2. The HARQ
functionality ensures delivery between peer entities at Layer 1.
## 9.1 HARQ principles
The HARQ within the MAC sublayer has the following characteristics:
\- N-process Stop-And-Wait;
\- HARQ transmits and retransmits transport blocks;
\- In the downlink:
\- Asynchronous adaptive HARQ;
\- Uplink ACK/NAKs in response to downlink (re)transmissions are sent on PUCCH
or PUSCH;
\- PDCCH signals the HARQ process number and if it is a transmission or
retransmission;
\- Retransmissions are always scheduled through PDCCH.
\- In the uplink:
\- Synchronous HARQ;
\- Maximum number of retransmissions configured per UE (as opposed to per
radio bearer);
\- Downlink ACK/NAKs in response to uplink (re)transmissions are sent on
PHICH;
\- HARQ operation in uplink is governed by the following principles
(summarized in Table 9.1-1):
1) Regardless of the content of the HARQ feedback (ACK or NACK), when a PDCCH
for the UE is correctly received, the UE follows what the PDCCH asks the UE to
do i.e. perform a transmission or a retransmission (referred to as adaptive
retransmission);
2) When no PDCCH addressed to the C-RNTI of the UE is detected, the HARQ
feedback dictates how the UE performs retransmissions:
\- NACK: the UE performs a non-adaptive retransmission i.e. a retransmission
on the same uplink resource as previously used by the same process;
\- ACK: the UE does not perform any UL (re)transmission and keeps the data in
the HARQ buffer. A PDCCH is then required to perform a retransmission i.e. a
non-adaptive retransmission cannot follow.
\- Measurement gaps are of higher priority than HARQ retransmissions: whenever
an HARQ retransmission collides with a measurement gap, the HARQ
retransmission does not take place.
Table 9.1-1: UL HARQ Operation
+-----------------------+--------------------+-----------------------+ | > HARQ feedback seen | > PDCCH\ | > UE behaviour | | > by the UE | > seen by the UE | | +-----------------------+--------------------+-----------------------+ | > ACK or NACK | > New Transmission | > New transmission | | | | > according to PDCCH | +-----------------------+--------------------+-----------------------+ | > ACK or NACK | > Retransmission | > Retransmission | | | | > according to PDCCH | | | | > (adaptive | | | | > retransmission) | +-----------------------+--------------------+-----------------------+ | > ACK | > None | > No | | | | > (re)transmission, | | | | > k** _eep data in | | | | > HARQ buffer and a | | | | > PDDCH is required | | | | > to resume | | | | > retransmissions_** | +-----------------------+--------------------+-----------------------+ | > NACK | > None | > Non-adaptive | | | | > retransmission | +-----------------------+--------------------+-----------------------+
## 9.2 ARQ principles
The ARQ within the RLC sublayer has the following characteristics:
\- ARQ retransmits RLC PDUs or RLC PDU segments based on RLC status reports;
\- Polling for RLC status report is used when needed by RLC;
\- RLC receiver can also trigger RLC status report after detecting a missing
RLC PDU or RLC PDU segment.
## 9.3 Void
# 10 Mobility
Load balancing is achieved in E-UTRAN with handover, redirection mechanisms
upon RRC release and through the usage of inter-frequency and inter-RAT
absolute priorities and inter-frequency Qoffset parameters.
Measurements to be performed by a UE for mobility are classified in at least
three measurement types:
\- Intra-frequency E-UTRAN measurements;
\- Inter-frequency E-UTRAN measurements;
\- Inter-RAT measurements for UTRAN and GERAN;
\- Inter-RAT measurements of CDMA2000 HRPD or 1xRTT frequencies.
For each measurement type one or several measurement objects can be defined (a
measurement object defines e.g. the carrier frequency to be monitored).
For each measurement object one or several reporting configurations can be
defined (a reporting configuration defines the reporting criteria). Three
reporting criteria are used: event triggered reporting, periodic reporting and
event triggered periodic reporting.
The association between a measurement object and a reporting configuration is
created by a measurement identity (a measurement identity links together one
measurement object and one reporting configuration of same RAT). By using
several measurement identities (one for each measurement object, reporting
configuration pair) it is possible:
\- To associate several reporting configurations to one measurement object
and;
\- To associate one reporting configuration to several measurement objects.
The measurements identity is as well used when reporting results of the
measurements.
Measurement quantities are considered separately for each RAT.
Measurement commands are used by E-UTRAN to order the UE to start
measurements, modify measurements or stop measurements.
## 10.1 Intra E-UTRAN
In E-UTRAN RRC_CONNECTED state, network-controlled UE-assisted handovers are
performed and various DRX cycles are supported.
In E-UTRAN RRC_IDLE state, cell reselections are performed and DRX is
supported.
### 10.1.1 Mobility Management in ECM-IDLE
#### 10.1.1.1 Cell selection
The principles of PLMN selection in E-UTRA are based on the 3GPP PLMN
selection principles. Cell selection is required on transition from
EMM_DETACHED to EMM-REGISTERED and from ECM-IDLE or ECM-CONNECTED.
Cell selection:
\- The UE NAS layer identifies a selected PLMN and equivalent PLMNs;
\- The UE searches the E-UTRA frequency bands and for each carrier frequency
identifies the strongest cell. It reads cell system information broadcast to
identify its PLMN(s):
\- The UE may search each carrier in turn ("initial cell selection") or make
use of stored information to shorten the search ("stored information cell
selection").
\- The UE seeks to identify a suitable cell; if it is not able to identify a
suitable cell it seeks to identify an acceptable cell. When a suitable cell is
found or if only an acceptable cell is found it camps on that cell and
commence the cell reselection procedure:
\- A suitable cell is one for which the measured cell attributes satisfy the
cell selection criteria; the cell PLMN is the selected PLMN, registered or an
equivalent PLMN; the cell is not barred or reserved and the cell is not part
of a tracking area which is in the list of "forbidden tracking areas for
roaming";
\- An acceptable cell is one for which the measured cell attributes satisfy
the cell selection criteria and the cell is not barred;
Transition to RRC_IDLE:
On transition from RRC_CONNECTED to RRC_IDLE, a UE should camp on the last
cell for which it was in RRC_CONNECTED or a cell/any cell of set of cells or
frequency be assigned by RRC in the state transition message.
Recovery from out of coverage:
The UE should attempt to find a suitable cell in the manner described for
stored information or initial cell selection above. If no suitable cell is
found on any frequency or RAT the UE should attempt to find an acceptable
cell.
#### 10.1.1.2 Cell reselection
A UE in RRC_IDLE performs cell reselection. The principles of the procedure
are the following:
\- The UE makes measurements of attributes of the serving and neighbour cells
to enable the reselection process:
\- There is no need to indicate neighbouring cells in the serving cell system
information to enable the UE to search and measure a cell i.e. E-UTRAN relies
on the UE to detect the neighbouring cells;
\- For the search and measurement of inter-frequency neighbouring cells, only
the carrier frequencies need to be indicated;
\- Measurements may be omitted if the serving cell attribute fulfils
particular search or measurement criteria.
\- Cell reselection identifies the cell that the UE should camp on. It is
based on cell reselection criteria which involves measurements of the serving
and neighbour cells:
\- Intra-frequency reselection is based on ranking of cells;
\- Inter-frequency reselection is based on absolute priorities where a UE
tries to camp on the highest priority frequency available. Absolute priorities
for reselection are provided only by the RPLMN and are valid only within the
RPLMN; priorities are given by the system information and are valid for all
UEs in a cell, specific priorities per UE can be signalled in the RRC
Connection Release message. A validity time can be associated with UE specific
priorities.
\- For inter-frequency neighbouring cells, it is possible to indicate layer-
specific cell reselection parameters (e.g., layer specific offset). These
parameters are common to all neighbouring cells on a frequency;
\- An NCL can be provided by the serving cell to handle specific cases for
intra- and inter-frequency neighbouring cells. This NCL contains cell specific
cell reselection parameters (e.g., cell specific offset) for specific
neighbouring cells;
\- Black lists can be provided to prevent the UE from reselecting to specific
intra- and inter-frequency neighbouring cells;
\- Cell reselection can be speed dependent (speed detection based on UTRAN
solution);
> \- Cell reselection parameters are applicable for all UEs in a cell, but it
> is possible to configure specific reselection parameters per UE group or per
> UE.
Cell access restrictions apply as for UTRAN, which consist of access class
(AC) barring and cell reservation (e.g. for cells \"reserved for operator
use\") applicable for mobiles in RRC_IDLE mode.
#### 10.1.1.3 Void
#### 10.1.1.4 Void
#### 10.1.1.5 Void
### 10.1.2 Mobility Management in ECM-CONNECTED
The Intra-E-UTRAN-Access Mobility Support for UEs in ECM-CONNECTED handles all
necessary steps for handover procedures, like processes that precede the final
HO decision on the source network side (control and evaluation of UE and eNB
measurements taking into account certain UE specific area restrictions),
preparation of resources on the target network side, commanding the UE to the
new radio resources and finally releasing resources on the (old) source
network side. It contains mechanisms to transfer context data between evolved
nodes, and to update node relations on C-plane and U-plane.
In E-UTRAN RRC_CONNECTED state, network-controlled UE-assisted handovers are
performed and various DRX cycles are supported:
The UE makes measurements of attributes of the serving and neighbour cells to
enable the process:
\- There is no need to indicate neighbouring cells to enable the UE to search
and measure a cell i.e. E-UTRAN relies on the UE to detect the neighbouring
cells;
\- For the search and measurement of inter-frequency neighbouring cells, at
least the carrier frequencies need to be indicated;
\- The E-UTRAN signals reporting criteria for event-triggered and periodical
reporting;
\- An NCL can be provided by the serving cell by RRC dedicated signalling to
handle specific cases for intra- and inter-frequency neighbouring cells. This
NCL contains cell specific measurement parameters (e.g. cell specific offset)
for specific neighbouring cells;
\- Black lists can be provided to prevent the UE from measuring specific
neighbouring cells.
Depending on whether the UE needs transmission/reception gaps to perform the
relevant measurements, measurements are classified as gap assisted or non-gap
assisted. A non-gap assisted measurement is a measurement on a cell that does
not require transmission/reception gaps to allow the measurement to be
performed. A gap assisted measurement is a measurement on a cell that does
require transmission/reception gaps to allow the measurement to be performed.
Gap patterns (as opposed to individual gaps) are configured and activated by
RRC.
#### 10.1.2.1 Handover
The intra E-UTRAN HO of a UE in RRC_CONNECTED state is a UE-assisted network-
controlled HO, with HO preparation signalling in E-UTRAN:
\- Part of the HO command comes from the target eNB and is transparently
forwarded to the UE by the source eNB;
\- To prepare the HO, the source eNB passes all necessary information to the
target eNB (e.g. E-RAB attributes and RRC context):
\- When CA is configured and to enable SCell selection in the target eNB, the
source eNB can provide in decreasing order of radio quality a list of the best
cells and optionally measurement result of the cells.
\- Both the source eNB and UE keep some context (e.g. C-RNTI) to enable the
return of the UE in case of HO failure;
\- UE accesses the target cell via RACH following a contention-free procedure
using a dedicated RACH preamble or following a contention-based procedure if
dedicated RACH preambles are not available:
\- the UE uses the dedicated preamble until the handover procedure is finished
(successfully or unsuccessfully);
\- If the RACH procedure towards the target cell is not successful within a
certain time, the UE initiates radio link failure recovery using the best
cell;
\- No ROHC context is transferred at handover.
##### 10.1.2.1.1 C-plane handling
The preparation and execution phase of the HO procedure is performed without
EPC involvement, i.e. preparation messages are directly exchanged between the
eNBs. The release of the resources at the source side during the HO completion
phase is triggered by the eNB. In case an RN is involved, its DeNB relays the
appropriate S1 messages between the RN and the MME (S1-based handover) and X2
messages between the RN and target eNB (X2-based handover); the DeNB is
explicitly aware of a UE attached to the RN due to the S1 proxy and X2 proxy
functionality (see section 4.7.6.6). The figure below depicts the basic
handover scenario where neither MME nor Serving Gateway changes:
Figure 10.1.2.1.1-1: Intra-MME/Serving Gateway HO
Below is a more detailed description of the intra-MME/Serving Gateway HO
procedure:
0 The UE context within the source eNB contains information regarding roaming
restrictions which were provided either at connection establishment or at the
last TA update.
1 The source eNB configures the UE measurement procedures according to the
area restriction information. Measurements provided by the source eNB may
assist the function controlling the UE\'s connection mobility.
2 The UE is triggered to send MEASUREMENT REPORT by the rules set by i.e.
system information, specification etc.
3 The source eNB makes decision based on MEASUREMENT REPORT and RRM
information to hand off the UE.
4 The source eNB issues a HANDOVER REQUEST message to the target eNB passing
necessary information to prepare the HO at the target side (UE X2 signalling
context reference at source eNB, UE S1 EPC signalling context reference,
target cell ID, K~eNB*~, RRC context including the C-RNTI of the UE in the
source eNB, AS-configuration, E-RAB context and physical layer ID of the
source cell + short MAC-I for possible RLF recovery). UE X2 / UE S1 signalling
references enable the target eNB to address the source eNB and the EPC. The
E-RAB context includes necessary RNL and TNL addressing information, and QoS
profiles of the E-RABs.
5 Admission Control may be performed by the target eNB dependent on the
received E-RAB QoS information to increase the likelihood of a successful HO,
if the resources can be granted by target eNB. The target eNB configures the
required resources according to the received E-RAB QoS information and
reserves a C-RNTI and optionally a RACH preamble. The AS-configuration to be
used in the target cell can either be specified independently (i.e. an
\"establishment\") or as a delta compared to the AS-configuration used in the
source cell (i.e. a \"reconfiguration\").
6 The target eNB prepares HO with L1/L2 and sends the HANDOVER REQUEST
ACKNOWLEDGE to the source eNB. The HANDOVER REQUEST ACKNOWLEDGE message
includes a transparent container to be sent to the UE as an RRC message to
perform the handover. The container includes a new C-RNTI, target eNB security
algorithm identifiers for the selected security algorithms, may include a
dedicated RACH preamble, and possibly some other parameters i.e. access
parameters, SIBs, etc. The HANDOVER REQUEST ACKNOWLEDGE message may also
include RNL/TNL information for the forwarding tunnels, if necessary.
NOTE: As soon as the source eNB receives the HANDOVER REQUEST ACKNOWLEDGE, or
as soon as the transmission of the handover command is initiated in the
downlink, data forwarding may be initiated.
Steps 7 to 16 provide means to avoid data loss during HO and are further
detailed in 10.1.2.1.2 and 10.1.2.3.
7 The target eNB generates the RRC message to perform the handover, i.e
_RRCConnectionReconfiguration_ message including the
_mobilityControlInformation_ , to be sent by the source eNB towards the UE.
The source eNB performs the necessary integrity protection and ciphering of
the message. The UE receives the _RRCConnectionReconfiguration_ message with
necessary parameters (i.e. new C-RNTI, target eNB security algorithm
identifiers, and optionally dedicated RACH preamble, target eNB SIBs, etc.)
and is commanded by the source eNB to perform the HO. The UE does not need to
delay the handover execution for delivering the HARQ/ARQ responses to source
eNB.
8 The source eNB sends the SN STATUS TRANSFER message to the target eNB to
convey the uplink PDCP SN receiver status and the downlink PDCP SN transmitter
status of E-RABs for which PDCP status preservation applies (i.e. for RLC AM).
The uplink PDCP SN receiver status includes at least the PDCP SN of the first
missing UL SDU and may include a bit map of the receive status of the out of
sequence UL SDUs that the UE needs to retransmit in the target cell, if there
are any such SDUs. The downlink PDCP SN transmitter status indicates the next
PDCP SN that the target eNB shall assign to new SDUs, not having a PDCP SN
yet. The source eNB may omit sending this message if none of the E-RABs of the
UE shall be treated with PDCP status preservation.
9 After receiving the _RRCConnectionReconfiguration_ message including the
_mobilityControlInformation_ , UE performs synchronisation to target eNB and
accesses the target cell via RACH, following a contention-free procedure if a
dedicated RACH preamble was indicated in the _mobilityControlInformation_ , or
following a contention-based procedure if no dedicated preamble was indicated.
UE derives target eNB specific keys and configures the selected security
algorithms to be used in the target cell.
10 The target eNB responds with UL allocation and timing advance.
11 When the UE has successfully accessed the target cell, the UE sends the
_RRCConnectionReconfigurationComplete_ message (C-RNTI) to confirm the
handover, along with an uplink Buffer Status Report, whenever possible, to the
target eNB to indicate that the handover procedure is completed for the UE.
The target eNB verifies the C-RNTI sent in the
_RRCConnectionReconfigurationComplete_ message. The target eNB can now begin
sending data to the UE.
12 The target eNB sends a PATH SWITCH REQUEST message to MME to inform that
the UE has changed cell.
13 The MME sends a MODIFY BEARER REQUEST message to the Serving Gateway.
14 The Serving Gateway switches the downlink data path to the target side. The
Serving gateway sends one or more \"end marker\" packets on the old path to
the source eNB and then can release any U-plane/TNL resources towards the
source eNB.
15 The Serving Gateway sends a MODIFY BEARER RESPONSE message to MME.
16 The MME confirms the PATH SWITCH REQUEST message with the PATH SWITCH
REQUEST ACKNOWLEDGE message.
17 By sending the UE CONTEXT RELEASE message, the target eNB informs success
of HO to source eNB and triggers the release of resources by the source eNB.
The target eNB sends this message after the PATH SWITCH REQUEST ACKNOWLEDGE
message is received from the MME.
18 Upon reception of the UE CONTEXT RELEASE message, the source eNB can
release radio and C-plane related resources associated to the UE context. Any
ongoing data forwarding may continue.
When an X2 handover is used between HeNBs and when the source HeNB is
connected to a HeNB GW, a UE CONTEXT RELEASE REQUEST message including an
explicit GW Context Release Indication is sent by the source HeNB, in order to
indicate that the HeNB GW may release of all the resources related to the UE
context.
##### 10.1.2.1.2 U-plane handling
The U-plane handling during the Intra-E-UTRAN-Access mobility activity for UEs
in ECM-CONNECTED takes the following principles into account to avoid data
loss during HO:
\- During HO preparation U-plane tunnels can be established between the source
eNB and the target eNB. There is one tunnel established for uplink data
forwarding and another one for downlink data forwarding for each E-RAB for
which data forwarding is applied. In the case of a UE under an RN performing
handover, forwarding tunnels can be established between the RN and the target
eNB via the DeNB.
\- During HO execution, user data can be forwarded from the source eNB to the
target eNB. The forwarding may take place in a service and deployment
dependent and implementation specific way.
\- Forwarding of downlink user data from the source to the target eNB should
take place in order as long as packets are received at the source eNB from the
EPC or the source eNB buffer has not been emptied.
\- During HO completion:
\- The target eNB sends a PATH SWITCH message to MME to inform that the UE has
gained access and MME sends a MODIFY BEARER REQUEST message to the Serving
Gateway, the U-plane path is switched by the Serving Gateway from the source
eNB to the target eNB.
\- The source eNB should continue forwarding of U-plane data as long as
packets are received at the source eNB from the Serving Gateway or the source
eNB buffer has not been emptied.
For **RLC-AM bearers** :
\- During normal HO not involving Full Configuration:
\- For in-sequence delivery and duplication avoidance, PDCP SN is maintained
on a bearer basis and the source eNB informs the target eNB about the next DL
PDCP SN to allocate to a packet which does not have a PDCP sequence number yet
(either from source eNB or from the Serving Gateway).
\- For security synchronisation, HFN is also maintained and the source eNB
provides to the target one reference HFN for the UL and one for the DL i.e.
HFN and corresponding SN.
\- In both the UE and the target eNB, a window-based mechanism is needed for
duplication detection.
\- The occurrence of duplicates over the air interface in the target eNB is
minimised by means of PDCP SN based reporting at the target eNB by the UE. In
uplink, the reporting is optionally configured on a bearer basis by the eNB
and the UE should first start by transmitting those reports when granted
resources in the target eNB. In downlink, the eNB is free to decide when and
for which bearers a report is sent and the UE does not wait for the report to
resume uplink transmission.
\- The target eNB re-transmits and prioritizes all downlink PDCP SDUs
forwarded by the source eNB (i.e. the target eNB should send data with PDCP
SNs from X2 before sending data from S1), with the exception of PDCP SDUs of
which the reception was acknowledged through PDCP SN based reporting by the
UE.
\- The UE re-transmits in the target eNB all uplink PDCP SDUs starting from
the first PDCP SDU following the last consecutively confirmed PDCP SDU i.e.
the oldest PDCP SDU that has not been acknowledged at RLC in the source,
excluding the PDCP SDUs of which the reception was acknowledged through PDCP
SN based reporting by the target.
\- During HO involving Full Configuration:
\- The following description below for RLC-UM bearers also applies for RLC-AM
bearers. Data loss may happen.
For **RLC-UM bearers** :
\- The PDCP SN and HFN are reset in the target eNB.
\- No PDCP SDUs are retransmitted in the target eNB.
\- The target eNB prioritizes all downlink PDCP SDUs forwarded by the source
eNB if any (i.e. the target eNB should send data with PDCP SNs from X2 before
sending data from S1).
\- The UE PDCP entity does not attempt to retransmit any PDCP SDU in the
target cell for which transmission had been completed in the source cell.
Instead UE PDCP entity starts the transmission with other PDCP SDUs.
#### 10.1.2.2 Path Switch
After the downlink path is switched at the Serving GW downlink packets on the
forwarding path and on the new direct path may arrive interchanged at the
target eNB. The target eNodeB should first deliver all forwarded packets to
the UE before delivering any of the packets received on the new direct path.
The method employed in the target eNB to enforce the correct delivery order of
packets is outside the scope of the standard.
In order to assist the reordering function in the target eNB, the Serving GW
shall send one or more \"end marker\" packets on the old path immediately
after switching the path for each E-RAB of the UE. The \"end marker\" packet
shall not contain user data. The \"end marker\" is indicated in the GTP
header. After completing the sending of the tagged packets the GW shall not
send any further user data packets via the old path.
Upon receiving the \"end marker\" packets, the source eNB shall, if forwarding
is activated for that bearer, forward the packet toward the target eNB.
On detection of an \"end marker\" the target eNB shall discard the end marker
packet and initiate any necessary processing to maintain in sequence delivery
of user data forwarded over X2 interface and user data received from the
serving GW over S1 as a result of the path switch.
On detection of the \"end marker\", the target eNB may also initiate the
release of the data forwarding resource. However, the release of the data
forwarding resource is implementation dependent and could also be based on
other mechanisms (e.g. timer-based mechanism).
EPC may change the uplink end-point of the tunnels with Path Switch procedure.
However, the EPC should keep the old GTP tunnel end-point(s) sufficiently long
time in order to minimise the probability of packet losses and avoid
unintentional release of respective E-RAB(s).
#### 10.1.2.3 Data forwarding
##### 10.1.2.3.1 For RLC-AM DRBs
Upon handover, the source eNB may forward in order to the target eNB all
downlink PDCP SDUs with their SN that have not been acknowledged by the UE. In
addition, the source eNB may also forward without a PDCP SN fresh data
arriving over S1 to the target eNB.
NOTE: The target eNB does not have to wait for the completion of forwarding
from the source eNB before it begins transmitting packets to the UE.
The source eNB discards any remaining downlink RLC PDUs. Correspondingly, the
source eNB does not forward the downlink RLC context to the target eNB.
NOTE: The source eNB does not need to abort on going RLC transmissions with
the UE as it starts data forwarding to the target eNB.
Upon handover, the source eNB forwards to the Serving Gateway the uplink PDCP
SDUs successfully received in-sequence until the sending of the Status
Transfer message to the target eNB. Then at that point of time the source eNB
stops delivering uplink PDCP SDUs to the S-GW and shall discard any remaining
uplink RLC PDUs. Correspondingly, the source eNB does not forward the uplink
RLC context to the target eNB.
Then the source eNB shall either:
\- discard the uplink PDCP SDUs received out of sequence if the source eNB has
not accepted the request from the target eNB for uplink forwarding or if the
target eNB has not requested uplink forwarding for the bearer during the
Handover Preparation procedure,
\- forward to the target eNB the uplink PDCP SDUs received out of sequence if
the source eNB has accepted the request from the target eNB for uplink
forwarding for the bearer during the Handover Preparation procedure.
The PDCP SN of forwarded SDUs is carried in the \"PDCP PDU number\" field of
the GTP-U extension header. The target eNB shall use the PDCP SN if it is
available in the forwarded GTP-U packet.
For normal HO in-sequence delivery of upper layer PDUs during handover is
based on a continuous PDCP SN and is provided by the \"in-order delivery and
duplicate elimination\" function at the PDCP layer:
\- in the downlink, the \"in-order delivery and duplicate elimination\"
function at the UE PDCP layer guarantees in-sequence delivery of downlink PDCP
SDUs;
\- in the uplink, the \"in-order delivery and duplicate elimination\" function
at the target eNB PDCP layer guarantees in-sequence delivery of uplink PDCP
SDUs.
After a normal handover, when the UE receives a PDCP SDU from the target eNB,
it can deliver it to higher layer together with all PDCP SDUs with lower SNs
regardless of possible gaps.
For handovers involving Full Configuration, the source eNB behaviour is
unchanged from the description above. The target eNB may not send PDCP SDUs
for which delivery was attempted by the source eNB. The target eNB identifies
these by the presence of the PDCP SN in the forwarded GTP-U packet and
discards them.
After a Full Configuration handover, the UE delivers received PDCP SDU from
the source cell to the higher layer regardless of possible gaps. UE discards
uplink PDCP SDUs for which transmission was attempted and retransmission of
these over the target cell is not possible.
##### 10.1.2.3.2 For RLC-UM DRBs
Upon handover, the source eNB does not forward to the target eNB downlink PDCP
SDUs for which transmission had been completed in the source cell. PDCP SDUs
that have not been transmitted may be forwarded. In addition, the source eNB
may forward fresh downlink data arriving over S1 to the target eNB. The source
eNB discards any remaining downlink RLC PDUs. Correspondingly, the source eNB
does not forward the downlink RLC context to the target eNB.
Upon handover, the source eNB forwards all uplink PDCP SDUs successfully
received to the Serving Gateway (i.e. including the ones received out of
sequence) and discards any remaining uplink RLC PDUs. Correspondingly, the
source eNB does not forward the uplink RLC context to the target eNB.
##### 10.1.2.3.3 SRB handling
With respect to SRBs, the following principles apply at HO:
\- No forwarding or retransmissions of RRC messages in the target;
\- The PDCP SN and HFN are reset in the target.
#### 10.1.2.4 Void
#### 10.1.2.5 Void
#### 10.1.2.6 Void
#### 10.1.2.7 Timing Advance
In RRC_CONNECTED, the eNB is responsible for maintaining the timing advance.
In some cases (e.g. during DRX), the timing advance is not necessarily always
maintained and the MAC sublayer knows if the L1 is synchronised and which
procedure to use to start transmitting in the uplink:
\- as long as the L1 is non-synchronised, uplink transmission can only take
place on PRACH.
For a UE, cases where the UL synchronisation status moves from
\"synchronised\" to \"non-synchronised\" include:
\- Expiration of a timer;
\- Non-synchronised handover;
The value of the timer is either UE specific and managed through dedicated
signalling between the UE and the eNB, or cell specific and indicated via
broadcast information. In both cases, the timer is normally restarted whenever
a new timing advance is given by the eNB:
\- restarted to a UE specific value if any; or
\- restarted to a cell specific value otherwise.
Upon DL data arrival or for positioning purpose, a dedicated signature on
PRACH can be allocated by the eNB to the UE. When a dedicated signature on
PRACH is allocated, the UE shall perform the corresponding random access
procedure regardless of its L1 synchronisation status.
Timing advance updates are signalled by the eNB to the UE in MAC PDUs
addressed via C-RNTI.
### 10.1.3 Measurements
Measurements to be performed by a UE for intra/inter-frequency mobility can be
controlled by E-UTRAN, using broadcast or dedicated control. In RRC_IDLE
state, a UE shall follow the measurement parameters defined for cell
reselection specified by the E-UTRAN broadcast. The use of dedicated
measurement control for RRC_IDLE state is possible through the provision of UE
specific priorities (see sub-clause 10.2.4). In RRC_CONNECTED state, a UE
shall follow the measurement configurations specified by RRC directed from the
E-UTRAN (e.g. as in UTRAN MEASUREMENT_CONTROL).
Intra-frequency neighbour (cell) measurements and inter-frequency neighbour
(cell) measurements are defined as follows:
\- Intra-frequency neighbour (cell) measurements: Neighbour cell measurements
performed by the UE are intra-frequency measurements when the current and
target cell operates on the same carrier frequency. The UE shall be able to
carry out such measurements without measurement gaps.
\- Inter-frequency neighbour (cell) measurements: Neighbour cell measurements
performed by the UE are inter-frequency measurements when the neighbour cell
operates on a different carrier frequency, compared to the current cell. The
UE should not be assumed to be able to carry out such measurements without
measurement gaps.
Whether a measurement is non gap assisted or gap assisted depends on the UE\'s
capability and the current operating frequency. The UE determines whether a
particular cell measurement needs to be performed in a transmission/reception
gap and the scheduler needs to know whether gaps are needed:
\- Same carrier frequency and cell bandwidths (Scenario A): an intra-frequency
scenario; not measurement gap assisted.
\- Same carrier frequency, bandwidth of the target cell smaller than the
bandwidth of the current cell (Scenario B): an intra-frequency scenario; not
measurement gap assisted.
\- Same carrier frequency, bandwidth of the target cell larger than the
bandwidth of the current cell (Scenario C): an intra-frequency scenario; not
measurement gap assisted.
\- Different carrier frequencies, bandwidth of the target cell smaller than
the bandwidth of the current cell and bandwidth of the target cell within
bandwidth of the current cell (Scenario D): an inter-frequency scenario;
measurement gap-assisted scenario.
\- Different carrier frequencies, bandwidth of the target cell larger than the
bandwidth of the current cell and bandwidth of the current cell within
bandwidth of the target cell (Scenario E): an inter-frequency scenario;
measurement gap-assisted scenario.
\- Different carrier frequencies and non-overlapping bandwidth, (Scenario F):
an inter-frequency scenario; measurement gap-assisted scenario.
Figure 10.1.3-1: Inter and Intra-frequency measurements scenarios
Measurement gaps patterns are configured and activated by RRC.
When CA is configured, the \"current cell\" above refers to any serving cell
of the configured set of serving cells. For instance, for the definition of
intra and inter frequency measurements, this means:
\- Intra-frequency neighbour (cell) measurements: Neighbour cell measurements
performed by the UE are intra-frequency measurements when one of the serving
cells of the configured set and the target cell operates on the same carrier
frequency. The UE shall be able to carry out such measurements without
measurement gaps.
\- Inter-frequency neighbour (cell) measurements: Neighbour cell measurements
performed by the UE are inter-frequency measurements when the neighbour cell
operates on a different carrier frequency than any serving cell of the
configured set. The UE should not be assumed to be able to carry out such
measurements without measurement gaps.
#### 10.1.3.1 Intra-frequency neighbour (cell) measurements
In a system with frequency reuse = 1, mobility within the same frequency layer
(i.e. between cells with the same carrier frequency) is predominant. Good
neighbour cell measurements are needed for cells that have the same carrier
frequency as the serving cell in order to ensure good mobility support and
easy network deployment. Search for neighbour cells with the same carrier
frequency as the serving cell, and measurements of the relevant quantities for
identified cells are needed.
NOTE: To avoid UE activity outside the DRX cycle, the reporting criteria for
neighbour cell measurements should match the used DRX cycle.
#### 10.1.3.2 Inter-frequency neighbour (cell) measurements
Regarding mobility between different frequency layers (i.e. between cells with
a different carrier frequency), UE may need to perform neighbour cell
measurements during DL/UL idle periods that are provided by DRX or packet
scheduling (i.e. gap assisted measurements).
### 10.1.4 Paging and C-plane establishment
Paging groups (where multiple UEs can be addressed) are used on PDCCH:
\- Precise UE identity is found on PCH;
\- DRX configurable via BCCH and NAS;
\- Only one subframe allocated per paging interval per UE;
\- The network may divide UEs to different paging occasions in time;
\- There is no grouping within paging occasion;
\- One paging RNTI for PCH.
### 10.1.5 Random Access Procedure
The random access procedure is characterized by:
\- Common procedure for FDD and TDD;
\- One procedure irrespective of cell size and the number of serving cells
when CA is configured;
The random access procedure is performed for the following six events:
\- Initial access from RRC_IDLE;
\- RRC Connection Re-establishment procedure;
\- Handover;
\- DL data arrival during RRC_CONNECTED requiring random access procedure;
> \- E.g. when UL synchronisation status is "non-synchronised";
\- UL data arrival during RRC_CONNECTED requiring random access procedure;
> \- E.g. when UL synchronisation status is \"non-synchronised\" or there are
> no PUCCH resources for SR available.
\- For positioning purpose during RRC_CONNECTED requiring random access
procedure;
\- E.g. when timing advance is needed for UE positioning;
Furthermore, the random access procedure takes two distinct forms:
\- Contention based (applicable to first five events);
\- Non-contention based (applicable to only handover, DL data arrival and
positioning).
Normal DL/UL transmission can take place after the random access procedure.
An RN supports both contention-based and non-contention-based random access.
When an RN performs the random access procedure, it suspends any current RN
subframe configuration, meaning it temporarily disregards the RN subframe
configuration. The RN subframe configuration is resumed at successful random
access procedure completion.
#### 10.1.5.1 Contention based random access procedure
The contention based random access procedure is outlined on Figure 10.1.5.1-1
below:
Figure 10.1.5.1-1: Contention based Random Access Procedure
The four steps of the contention based random access procedures are:
1) Random Access Preamble on RACH in uplink:
> \- There are two possible groups defined and one is optional. If both groups
> are configured the size of message 3 and the pathloss are used to determine
> which group a preamble is selected from. The group to which a preamble
> belongs provides an indication of the size of the message 3 and the radio
> conditions at the UE. The preamble group information along with the
> necessary thresholds are broadcast on system information.
2) Random Access Response generated by MAC on DL-SCH:
\- Semi-synchronous (within a flexible window of which the size is one or more
TTI) with message 1;
\- No HARQ;
\- Addressed to RA-RNTI on PDCCH;
> \- Conveys at least RA-preamble identifier, Timing Alignment information,
> initial UL grant and assignment of Temporary C-RNTI (which may or may not be
> made permanent upon Contention Resolution);
\- Intended for a variable number of UEs in one DL-SCH message.
3) First scheduled UL transmission on UL-SCH:
\- Uses HARQ;
\- Size of the transport blocks depends on the UL grant conveyed in step 2 and
is at least 80 bits.
\- For initial access:
> \- Conveys the RRC Connection Request generated by the RRC layer and
> transmitted via CCCH;
>
> \- Conveys at least NAS UE identifier but no NAS message;
>
> \- RLC TM: no segmentation;
\- For RRC Connection Re-establishment procedure:
\- Conveys the RRC Connection Re-establishment Request generated by the RRC
layer and transmitted via CCCH;
\- RLC TM: no segmentation;
\- Does not contain any NAS message.
\- After handover, in the target cell:
\- Conveys the ciphered and integrity protected RRC Handover Confirm generated
by the RRC layer and transmitted via DCCH;
\- Conveys the C-RNTI of the UE (which was allocated via the Handover
Command);
\- Includes an uplink Buffer Status Report when possible.
\- For other events:
\- Conveys at least the C-RNTI of the UE.
4) Contention Resolution on DL:
\- Early contention resolution shall be used i.e. eNB does not wait for NAS
reply before resolving contention
\- Not synchronised with message 3;
\- HARQ is supported;
\- Addressed to:
\- The Temporary C-RNTI on PDCCH for initial access and after radio link
failure;
\- The C-RNTI on PDCCH for UE in RRC_CONNECTED;
\- HARQ feedback is transmitted only by the UE which detects its own UE
identity, as provided in message 3, echoed in the Contention Resolution
message;
\- For initial access and RRC Connection Re-establishment procedure, no
segmentation is used (RLC-TM).
The Temporary C-RNTI is promoted to C-RNTI for a UE which detects RA success
and does not already have a C-RNTI; it is dropped by others. A UE which
detects RA success and already has a C-RNTI, resumes using its C-RNTI.
When CA is configured, the first three steps of the contention based random
access procedures occur on the PCell while contention resolution (step 4) can
be cross-scheduled by the PCell.
#### 10.1.5.2 Non-contention based random access procedure
The non-contention based random access procedure is outlined on Figure
10.1.5.2-1 below:
Figure 10.1.5.2-1: Non-contention based Random Access Procedure
The three steps of the non-contention based random access procedures are:
0) Random Access Preamble assignment via dedicated signalling in DL:
\- eNB assigns to UE a non-contention Random Access Preamble (a Random Access
Preamble not within the set sent in broadcast signalling).
\- Signalled via:
> \- HO command generated by target eNB and sent via source eNB for handover;
>
> \- PDCCH in case of DL data arrival or positioning.
1) Random Access Preamble on RACH in uplink:
\- UE transmits the assigned non-contention Random Access Preamble.
2) Random Access Response on DL-SCH:
\- Semi-synchronous (within a flexible window of which the size is two or more
TTIs) with message 1;
\- No HARQ;
\- Addressed to RA-RNTI on PDCCH;
\- Conveys at least:
> \- Timing Alignment information and initial UL grant for handover;
>
> \- Timing Alignment information for DL data arrival;
>
> \- RA-preamble identifier.
>
> \- Intended for one or multiple UEs in one DL-SCH message.
When CA is configured, the Random Access Preamble assignment via PDCCH of step
0, step 1 and 2 of the non-contention based random access procedure occur on
the PCell.
#### 10.1.5.3 Interaction model between L1 and L2/3 for Random Access
Procedure
Random access procedure described above is modelled in Figure 10.1.5.3-1 below
from L1 and L2/3 interaction point of view. L2/L3 receives indication from L1
whether ACK is received or DTX is detected after indication of Random Access
Preamble transmission to L1. L2/3 indicates L1 to transmit first scheduled UL
transmission (RRC Connection Request in case of initial access) if necessary
or Random Access Preamble based on the indication from L1.
Figure 10.1.5.3-1: Interaction model between L1 and L2/3 for Random Access
Procedure
### 10.1.6 Radio Link Failure
Two phases govern the behaviour associated to radio link failure as shown on
Figure 10.1.6-1:
\- First phase:
\- started upon radio problem detection;
\- leads to radio link failure detection;
\- no UE-based mobility;
\- based on timer or other (e.g. counting) criteria (T~1~).
\- Second Phase:
\- started upon radio link failure detection or handover failure;
\- leads to RRC_IDLE;
\- UE-based mobility;
\- Timer based (T~2~).
Figure 10.1.6-1: Radio Link Failure
Table 10.1.6-1 below describes how mobility is handled with respect to radio
link failure:
Table 10.1.6-1: Mobility and Radio Link Failure
+----------------+----------------+----------------+----------------+ | > Cases | > First Phase | > Second Phase | > T2 expired | +----------------+----------------+----------------+----------------+ | > UE returns | > Continue as | > Activity is | > Go via | | > to the same | > if no radio | > resumed by | > RRC_IDLE | | > cell | > problems | > means of | | | | > occurred | > explicit | | | | | > signalling | | | | | > between UE | | | | | > and eNB | | +----------------+----------------+----------------+----------------+ | > UE selects a | > N/A | > Activity is | > Go via | | > different | | > resumed by | > RRC_IDLE | | > cell from | | > means of | | | > the same eNB | | > explicit | | | | | > signalling | | | | | > between UE | | | | | > and eNB | | +----------------+----------------+----------------+----------------+ | > UE selects a | > N/A | > Activity is | > Go via | | > cell of a | | > resumed by | > RRC_IDLE | | > prepared eNB | | > means of | | | > (NOTE) | | > explicit | | | | | > signalling | | | | | > between UE | | | | | > and eNB | | +----------------+----------------+----------------+----------------+ | > UE selects a | > N/A | > Go via | > Go via | | > cell of a | | > RRC_IDLE | > RRC_IDLE | | > different | | | | | > eNB that is | | | | | > not prepared | | | | | > (NOTE) | | | | +----------------+----------------+----------------+----------------+ | NOTE: a | | | | | prepared eNB | | | | | is an eNB | | | | | which has | | | | | admitted the | | | | | UE during an | | | | | earlier | | | | | executed HO | | | | | preparation | | | | | phase. | | | | +----------------+----------------+----------------+----------------+
In the Second Phase, in order to resume activity and avoid going via RRC_IDLE
when the UE returns to the same cell or when the UE selects a different cell
from the same eNB, or when the UE selects a cell from a different eNB, the
following procedure applies:
\- The UE stays in RRC_CONNECTED;
\- The UE accesses the cell through the random access procedure;
\- The UE identifier used in the random access procedure for contention
resolution (i.e. Câ€‘RNTI of the UE in the cell where the RLF occurred +
physical layer identity of that cell + short MAC-I based on the keys of that
cell) is used by the selected eNB to authenticate the UE and check whether it
has a context stored for that UE:
\- If the eNB finds a context that matches the identity of the UE, it
indicates to the UE that its connection can be resumed;
\- If the context is not found, RRC connection is released and UE initiates
procedure to establish new RRC connection. In this case UE is required to go
via RRC_IDLE.
The radio link failure procedure applies also for RNs, with the exception that
the RN is limited to select a cell from its DeNB cell list. Upon detecting
radio link failure, the RN discards any current RN subframe configuration (for
communication with its DeNB), enabling the RN to **perform normal contention-
based RACH as part of the re-establishment**. Upon successful re-
establishment, an RN subframe configuration can be configured again using the
RN reconfiguration procedure.
NOTE: If the recovery attempt in the second phase fails, the details of the RN
behaviour in RRC_IDLE to recover an RRC connection are up to the RN
implementation.
### 10.1.7 Radio Access Network Sharing
E-UTRAN shall support radio access network sharing based on support for multi-
to-multi relationship between E-UTRAN nodes and EPC nodes (S1-flex).
If the E-UTRAN is shared by multiple operators, the system information
broadcasted in each shared cell contains the PLMN-id of each operator (up to
6) and a single tracking area code (TAC) valid within all the PLMNs sharing
the radio access network resources.
The UE shall be able to read up to 6 PLMN-ids, to select one of the PLMN-ids
at initial attachment and to indicate this PLMN-id to the E-UTRAN in
subsequent instances of the Random Access procedures (e.g. as defined in
subclause 10.1.5). The E-UTRAN shall select an appropriate MME for the PLMN
indicated by the UE. Once attached to an MME, the UE shall be able to indicate
the allocated MME in subsequent instances of the Random Access procedures. The
indication of the allocated MMEC is contained in the temporary UE identity.
Handling of area restrictions for UE in ECM-CONNECTED shall follow the
principles specified in sub-clause 10.4.
### 10.1.8 Handling of Roaming and Area Restrictions for UEs in ECM-CONNECTED
Handling of roaming/area restrictions and handling of subscription specific
preferences in ECM-CONNECTED is performed in the eNB based on information
provided by the EPC over the S1 interface.
## 10.2 Inter RAT
Service-based redirection between GERAN / UTRAN and E-UTRAN is supported in
both directions. This should not require inter-RAT reporting in RRC CONNECTION
REQUEST.
### 10.2.1 Cell reselection
A UE in RRC_IDLE performs cell reselection. The principles of this procedure
are as follows:
\- The UE makes **measurements** of attributes of the serving and neighbour
cells to enable the reselection process:
\- For a UE to search and measure neighbouring GERAN cells, the ARFCNs of the
BCCH carriers need to be indicated in the serving cell system information
(i.e., an NCL). The NCL does not contain BSICs or cell specific offsets and
Qrxlevmin is given per frequency band.
\- For a UE to search and measure neighbouring UTRAN cells, the serving cell
can indicate an NCL containing a list of carrier frequencies and scrambling
codes.
\- Measurements may be omitted if the serving cell attribute fulfils
particular search or measurement criteria.
\- **Cell reselection** identifies the cell that the UE should camp on. It is
based on cell reselection criteria which involves measurements of the serving
and neighbour cells:
\- Inter-RAT reselection is based on absolute priorities where UE tries to
camp on highest priority RAT available. Absolute priorities for inter-RAT
reselection are provided only by the RPLMN and valid only within the RPLMN;
priorities are given by the system information and valid for all UEs in a
cell, specific priorities per UE can be signalled in the RRC Connection
Release message. A validity time can be associated with UE specific
priorities.
\- It should be possible to prevent the UE from reselecting to specific
detected neighbouring cells;
\- The UE is allowed to \"leave\" the source E-UTRAN cell to read the target
GERAN cell broadcast, in order to determine its \"suitability\", prior to
completing the cell reselection;
\- Cell reselection can be speed dependent (speed detection based on UTRAN
solution);
Cell access restrictions apply as for UTRAN, which consist of access class
(AC) barring and cell reservation (e.g. for cells \"reserved for operator
use\") applicable for mobiles in RRC_IDLE mode.
When performing cell reselection while the UE is camped on another RAT, the
principles of this procedure are as follows:
\- The UE measures attributes of the E-UTRA neighbouring cells:
\- Only the carrier frequencies need to be indicated to enable the UE to
search and measure E-UTRA neighbouring cells;
\- Cell reselection identifies the cell that the UE should camp on. It is
based on cell reselection criteria which involves measurements of the serving
and neighbour cells:
\- For E-UTRA neighbouring cells, there is no need to indicate cell-specific
cell reselection parameters i.e. these parameters are common to all
neighbouring cells on an E-UTRA frequency;
\- Cell reselection parameters are applicable to all UEs in a cell, but it is
possible to configure specific reselection parameters per UE group or per UE.
\- It should be possible to prevent the UE from reselecting to specific
detected neighbouring cells.
### 10.2.2 Handover
Inter RAT HO is designed so that changes to GERAN and UTRAN are minimised.
This can be done by following the principles specified for GERAN to/from UTRAN
intersystem HO. In particular the following principles are applied to E-UTRAN
Inter RAT HO design:
1\. Inter RAT HO is network controlled through source access system. The
source access system decides about starting the preparation and provides the
necessary information to the target system in the format required by the
target system. That is, the source system adapts to the target system. The
actual handover execution is decided in the source system.
2\. Inter RAT HO is backwards handover, i.e. radio resources are prepared in
the target 3GPP access system before the UE is commanded by the source 3GPP
access system to change to the target 3GPP access system.
3\. To enable backwards handover, and while RAN level interfaces are not
available, a control interface exists in CN level. In Inter RAT HO involving
E-UTRAN access, this interface is between 2G/3G SGSN and corresponding
MME/Serving Gateway.
4\. The target access system will be responsible for giving exact guidance for
the UE on how to make the radio access there (this includes radio resource
configuration, target cell system information etc.). This information is given
during the handover preparation and should be transported completely
transparently through the source access system to the UE.
5\. Mechanisms for avoiding or mitigating the loss of user data (i.e.
forwarding) can be used until the 3GPP Anchor determines that it can send DL
U-plane data directly to the target system.
6\. The handover procedure should not require any UE to CN signalling in order
for data to start to flow in the target system. This requires that the
security context, UE capability context and QoS context is transferred (or
translated) within the network between source and target system.
7\. Similar handover procedure should apply for handovers of both real time
and non-real time services.
8\. Similar handover procedure should apply for both Inter RAT Handover and
intra-LTE Handover with EPC node change.
9\. Network controlled mobility is supported even if no prior UE measurements
have been performed on the target cell and/or frequency i.e. "blind HO" is
supported.
### 10.2.2a Inter-RAT cell change order to GERAN with NACC
For interworking towards GERAN, inter-RAT cell change order with NACC is
supported even if no prior UE measurements have been performed on the system
i.e. "blind NACC" is supported.
### 10.2.2b Inter-RAT handovers from E-UTRAN
#### 10.2.2b.1 Data forwarding
##### 10.2.2b.1.1 For RLC-AM bearers
Upon handover, the eNB may forward all downlink PDCP SDUs that have not been
acknowledged by the UE, or all downlink PDCP SDUs that have not been
transmitted to the UE, to the target node. In addition, the eNB may forward
fresh data arriving over S1 to the target node.
NOTE: Any assigned PDCP SNs are not forwarded because of PDCP reset.
NOTE: Target node does not have to wait for the completion of forwarding from
the eNB before it begins transmitting packets to the UE.
The eNB discards any remaining downlink RLC PDUs.
Upon handover, all successfully received PDCP SDUs are delivered to the upper
layers in the UE.
NOTE: eNB does not need to abort ongoing RLC transmissions with the UE as it
starts data forwarding to the target node.
Upon handover, the eNB may forward uplink PDCP SDUs successfully received to
the Serving Gateway and shall discard any remaining uplink RLC PDUs.
Correspondingly, the eNB does not forward the downlink and uplink RLC context.
For the uplink, the UE transmits over the target RAT from the first PDCP SDU
for which transmission has not been attempted in the source cell.
In-sequence delivery of upper layer PDUs during handover is not guaranteed.
##### 10.2.2b.1.2 For RLC-UM bearers
Upon handover, the eNB does not forward to the target node downlink PDCP SDUs
for which transmission had been completed in the source cell. PDCP SDUs that
have not been transmitted may be forwarded. In addition, the eNB may forward
fresh data arriving over S1 to the target node. The eNB discards any remaining
downlink RLC PDUs.
Upon handover, all successfully received PDCP SDUs are delivered to the upper
layers in the UE.
Upon handover, the eNB may forward all uplink PDCP SDUs successfully received
to the Serving Gateway and discards any remaining uplink RLC PDUs.
For the uplink, the UE transmits over the target RAT from the first PDCP SDU
for which transmission has not been attempted in the source cell.
Correspondingly, the eNB does not forward the downlink and uplink RLC context.
### 10.2.3 Measurements
#### 10.2.3.1 Inter-RAT handovers from E-UTRAN
Measurements to be performed by a UE for inter-RAT mobility can be controlled
by E-UTRAN, using broadcast or dedicated control. In RRC_CONNECTED state, a UE
shall follow the measurement parameters specified by RRC directed from the
E-UTRAN (e.g. as in UTRAN MEASUREMENT_CONTROL).
UE performs inter-RAT neighbour cell measurements during DL/UL idle periods
that are provided by the network through suitable DRX/DTX period or packet
scheduling if necessary.
#### 10.2.3.2 Inter-RAT handovers to E-UTRAN
From UTRAN, UE performs E-UTRAN measurements by using idle periods created by
compressed mode (CELL_DCH) or DRX (other states except CELL_FACH).
From GERAN, E-UTRAN measurements are performed in the same way as WCDMA
measurements for handover to UTRAN: E-UTRAN measurements are performed in GSM
idle frames in a time multiplexed manner.
#### 10.2.3.3 Inter-RAT cell reselection from E-UTRAN
In RRC_IDLE state, a UE shall follow the measurement parameters specified by
the E-UTRAN broadcast (as in UTRAN SIB). The use of dedicated measurement
control is possible through the provision of UE specific priorities (see sub-
clause 10.2.4).
#### 10.2.3.4 Limiting measurement load at UE
Introduction of E-UTRA implies co-existence of various UE capabilities. Each
UE may support different combinations of RATs, e.g., E-UTRA, UTRA, GSM, and
non-3GPP RATs, and different combinations of frequency bands, e.g., 800 MHz,
1.7 GHz, 2 GHZ, etc. Despite such heterogeneous environment, the measurement
load at UE should be minimised. To limit the measurement load and the
associated control load:
\- E-UTRAN can configure the RATs to be measured by UE;
\- The number of measurement criteria (event and periodic reporting criteria)
should be limited (as in TS 25.133 subclause 8.3.2 [7]);
\- E-UTRAN should be aware of the UE capabilities for efficient measurement
control, to prevent unnecessary waking up of the measurement entity;
\- Blind HO (i.e., HO without measurement reports from UE) is possible.
### 10.2.4 Network Aspects
Inter-frequency/inter-RAT UE based mobility relies on a "priority based
scheme", where the network configures a list of RATs/frequencies to be taken
as basis for UE's inter-frequency/inter-RAT cell reselection decisions in
priority order. E-UTRAN cells can enable inter-frequency/inter-RAT cell
reselection by broadcasting a common priority valid for all UEs in a given
cell in addition to other inter-frequency/inter-RAT information.
NOTE: The same principles apply in UTRAN.
These common priorities can be overwritten by E-UTRAN through dedicated
signalling to individual UEs at RRC_CONNECTED to RRC_IDLE transition.
NOTE: In order to have consistent inter-RAT operation, the same principles
apply to inter-RAT reselection to E-UTRAN. For UTRAN this includes also the
transitions within RRC_CONNECTED state from CELL_DCH to CELL_PCH and URA_PCH.
Setting dedicated priorities by E-UTRAN can be based on subscription related
information provided by the MME.
### 10.2.5 CS fallback
CS fallback can be performed via different options. The following table
summarize the various CS fallback options per RAT, necessary UE capabilities
and FGI index which should be set to '1'. The meaning of FGI index is
specified in [16, Annex B]
Table 10.2.5-1: CS fallback options
+-------------+-------------+-----------+-------------+-------------+ | > Target | > Solutions | > Release | > UE | > FGI Index | | > RAT | | | > | | | | | | Capability | | +-------------+-------------+-----------+-------------+-------------+ | > CS | > RRC | > Rel-8 | > (NOTE 1) | | | > fallback | > | | > | | | > to UMTS | Connection | | > Mandatory | | | | > Release | | > for UEs | | | | > with | | > | | | | > | | supporting | | | | Redirection | | > CS | | | | > without | | > fallback | | | | > Sys Info | | > to UMTS | | +-------------+-------------+-----------+-------------+-------------+ | | > RRC | > Rel-9 | > (NOTE 1) | | | | > | | > | | | | Connection | | > e-Redi | | | | > Release | | rectionUTRA | | | | > with | | | | | | > | | | | | | Redirection | | | | | | > with Sys | | | | | | > Info | | | | +-------------+-------------+-----------+-------------+-------------+ | | > PS | > Rel-8 | > (NOTE 1) | > FGI8, | | | > handover | | > | > FGI22 | | | > with | | > Mandatory | | | | > DRB(s) | | > for UEs | | | | | | > | | | | | | supporting | | | | | | > CS | | | | | | > fallback | | | | | | > to UMTS | | +-------------+-------------+-----------+-------------+-------------+ | > CS | > RRC | > Rel-8 | > (NOTE 2) | | | > fallback | > | | > | | | > to GSM | Connection | | > Mandatory | | | | > Release | | > for UEs | | | | > with | | > | | | | > | | supporting | | | | Redirection | | > CS | | | | > without | | > fallback | | | | > Sys Info | | > to GSM | | +-------------+-------------+-----------+-------------+-------------+ | | > RRC | > Rel-9 | > (NOTE 2) | | | | > | | > | | | | Connection | | > Mandatory | | | | > Release | | > for UEs | | | | > with | | > | | | | > | | supporting | | | | Redirection | | > CS | | | | > with Sys | | > fallback | | | | > Info | | > to GSM | | +-------------+-------------+-----------+-------------+-------------+ | | > Cell | > Rel-8 | > (NOTE 2) | > FGI10 | | | > change | | > | | | | > order | | > Mandatory | | | | > without | | > for UEs | | | | > NACC | | > | | | | | | supporting | | | | | | > CS | | | | | | > fallback | | | | | | > to GSM | | +-------------+-------------+-----------+-------------+-------------+ | | > Cell | > Rel-8 | > (NOTE 2) | > FGI10 | | | > change | | > | | | | > order | | > Mandatory | | | | > with NACC | | > for UEs | | | | | | > | | | | | | supporting | | | | | | > CS | | | | | | > fallback | | | | | | > to GSM | | +-------------+-------------+-----------+-------------+-------------+ | | > PS | > Rel-8 | > (NOTE 2) | | | | > handover | | > | | | | | | > | | | | | | interRAT-PS | | | | | | -HO-ToGERAN | | +-------------+-------------+-----------+-------------+-------------+ | NOTE 1: All | | | | | | CS fallback | | | | | | to UMTS | | | | | | capable UE | | | | | | shall | | | | | | indicate | | | | | | that it | | | | | | supports | | | | | | UTRA FDD or | | | | | | TDD and | | | | | | supported | | | | | | band list | | | | | | in the UE | | | | | | capability. | | | | | | | | | | | | NOTE 2: All | | | | | | CS fallback | | | | | | to GSM | | | | | | capable UE | | | | | | shall | | | | | | indicate | | | | | | that it | | | | | | supports | | | | | | GERAN and | | | | | | supported | | | | | | band list | | | | | | in the UE | | | | | | capability. | | | | | | | | | | | | NOTE 3: The | | | | | | measurement | | | | | | may be | | | | | | performed | | | | | | before any | | | | | | of the | | | | | | above CS | | | | | | fallback | | | | | | solution is | | | | | | triggered | | | | | | to select | | | | | | the target | | | | | | cell or | | | | | | frequency | | | | | | layer more | | | | | | accurately | | | | | | based on | | | | | | eNB | | | | | | decision. | | | | | | eNB may | | | | | | trigger any | | | | | | of above CS | | | | | | fallback | | | | | | solutions | | | | | | blindly. | | | | | +-------------+-------------+-----------+-------------+-------------+
## 10.3 Mobility between E-UTRAN and Non-3GPP radio technologies
### 10.3.1 UE Capability Configuration
A UE shall be able to communicate with the E-UTRAN about its radio access
capability, such as the system (including the release and frequency band) it
supports and its receive and transmit capabilities (single/dual radio, dual
receiver). UE shall transfer its capability about other radio technologies
over E-UTRAN using the same procedure used to carry its E-UTRAN radio
capability.
### 10.3.2 Mobility between E-UTRAN and cdma2000 network
This section describes the E-UTRAN mechanisms to support idle and active mode
mobility between E-UTRAN and cdma2000 HRPD or 1xRTT. The overall system is
described in [17].
#### 10.3.2.1 Tunnelling of cdma2000 Messages over E-UTRAN between UE and
cdma2000 Access Nodes
In order to efficiently support handover procedures when on E-UTRAN with a
cdma2000 target system, cdma2000 messages are sent transparently to the target
system over the E-UTRAN, with the eNB and MME acting as relay points.
To support the MME in its selection of the correct target system node to which
it should route an Uplink tunnelled message and to provide the target system
with information that is needed to resolve technology-specific measurement
information (RouteUpdate and pilot strength measurements) that are delivered
to the cdma2000 system, each eNB cell is associated with a cdma2000 HRPD
SectorID and/or with a cdma2000 1xRTT SectorID (generically referred to as
cdma2000 reference cellid). This cdma2000 reference cellid is provided by the
eNB to the MME using the cdma2000 message transfer capability over S1-AP and
forwarded to the target system via the S101 interface and corresponding
interface to the cdma2000 1xRTT system.
Tunnelling is achieved over the E-UTRAN radio interface by encapsulating
tunnelled cdma2000 messages in the UL Information Transfer (for pre-
registration signalling) or UL Handover Preparation transfer (for handover
signalling) and DL Information Transfer RRC messages (e.g., similar to UMTS
Uplink/Downlink Direct Transfer). The reason for using different UL transfer
messages is so that the UL Handover Preparation transfer messages can use a
higher priority signalling radio bearer. For the UL/DL Information Transfer
messages a specific IE in these RRC messages is used to identify the type of
information contained in the message (e.g., NAS, TunneledMsg). Additionally if
the message is carrying a tunnelled message, an additional IE is included to
carry cdma2000 specific RRC Tunnelling Procedure Information (e.g. RAT type).
AS level security will be applied for these UL Information Transfer / UL
Handover Preparation Transfer and DL Information Transfer RRC messages as
normal but there is no NAS level security for these tunnelled cdma2000
messages.
Figure 10.3.2.1-1: Downlink Direct Transfer
Figure 10.3.2.1-2: Uplink Direct Transfer
Tunnelling to the MME is achieved over the S1-MME interface by encapsulating
the tunnelled cdma2000 message in a new S1 CDMA tunnelling messages. These S1
messages carry in addition to the tunnelled message some additional cdma2000
specific IEs (e.g. cdma2000 Reference Cell Id, RAT type, cdma2000 message
type).
#### 10.3.2.2 Mobility between E-UTRAN and HRPD
##### 10.3.2.2.1 Mobility from E-UTRAN to HRPD
###### 10.3.2.2.1.1 HRPD System Information Transmission in E-UTRAN
The HRPD system information block (SIB) shall be sent on the E-UTRAN BCCH. The
UE shall monitor the E-UTRAN BCCH during the RRC_IDLE and RRC_CONNECTED modes
to retrieve the HRPD system information for the preparation of cell
reselection or handover from the E-UTRAN to HRPD system. HRPD system
information may also be provided to the UE by means of dedicated signalling.
The HRPD system information contains HRPD neighbouring cell information, cdma
timing information, as well as information controlling the HRPD pre-
registration.
###### 10.3.2.2.1.2 Measuring HRPD from E-UTRAN
Measurement events and parameters for HRPD measurements are to be aligned with
those defined in section 10.2.3.
###### # 10.3.2.2.1.2.1 Idle Mode Measurement Control
UE shall be able to make measurements on the HRPD cells in RRC_IDLE mode to
perform cell re-selection.
The intra-3GPP inter-RAT idle mode measurement control is re-used to control
the idle mode measurements on HRPD. The UE performs measurement on HRPD when
the signal quality from E-UTRAN serving cell falls below a given threshold.
###### # 10.3.2.2.1.2.2 Active Mode Measurement Control
In RRC_CONNECTED mode, the UE shall perform radio measurements on the HRPD
network when directed by the E-UTRAN network. The network provides the
required HRPD neighbour cell list information and measurement controls to the
UE through dedicated RRC signalling. When needed the eNB is responsible for
configuring and activating the HRPD measurements on the UE via the dedicated
RRC signalling message. Periodic and event-triggered measurements are
supported.
For single-radio terminals, measurement gaps are needed to allow the UE to
switch into the HRPD network and do radio measurements. These measurement gaps
are network-controlled. The eNB is responsible for configuring the gap pattern
and providing it to the UE through RRC dedicated signalling. Terminals with a
dual receiver perform measurements on HRPD neighbour cells without tuning away
from the E-UTRAN network. No DL gap patterns will be required for UEs which
are capable of simultaneous reception on the involved frequency bands. No UL
gap patterns will be required for UEs which are capable simultaneous
transmission in one access and measuring on another access.
###### # 10.3.2.2.1.2.3 Active Mode Measurement
In RRC_CONNECTED mode, the UE measures the strengths of each of the HRPD
neighbour cells and reports them in an RRC message.
###### 10.3.2.2.1.3 Pre-registration to HRPD Procedure
Pre-registration allows a UE to establish a presence with an HRPD system in
advance of a cell re-selection or handover. E-UTRAN network instructs the UE
whether the pre-registration is needed over broadcast channel and in a
dedicated RRC message.
The signalling procedure is transparent to E-UTRAN network. In the pre-
registration to HRPD, messages shall be tunnelled inside RRC and S1-AP
messages between the UE and MME and in a generic \"transfer\" message between
source MME and target access network.
The UE is responsible for maintaining the HRPD context e.g. by performing
periodic re-registrations if needed. The UE will use pre-registration zone
information (including the current HRPD Pre-registration Zone and a list of
HRPD Secondary Pre-registration Zone ID) to decide whether a re-registration
shall be performed. A dual-receiver UE can ignore the parameter. E-UTRAN will
provide the pre-registration zone information on the E-UTRAN system
information broadcast channel or dedicated RRC signalling (unless it is
determined that the UE will read the E-UTRAN system information broadcast
channel in RRC_CONNECTED). Re-registrations are only allowed in areas where
pre-registration is requested.
The managing of pre-registration and re-registration is handled by HRPD upper
layer. The UE should indicate if it is pre-registered when sending measurement
reports on cdma2000 cells.
###### 10.3.2.2.1.4 E-UTRAN to HRPD Cell Re-selection
For the \"Optimized Idle-mode Mobility\" in [19], the pre-condition for cell
re-selection from E-UTRAN to HRPD is that the UE has previously established a
presence in the target HRPD network, either through the pre-registration
procedure or previous HRPD attachment.
For the \"Non-optimized Handover\" in [19], the above pre-condition does not
apply.
The UE performs Cell re-selection to HRPD while in RRC_IDLE.
Cell reselection from E-UTRAN to HRPD should be aligned with 3GPP inter RAT
cell reselection mechanism.
###### 10.3.2.2.1.5 E-UTRAN to HRPD Handover
The pre-condition for the E-UTRAN to HRPD Handover procedure is that the UE is
attached in the E-UTRAN network in E-UTRAN_ACTIVE state and has pre-registered
with the HRPD network. Based on measurement reports received from the UE the
eNB initiates a handover by sending an RRC Handover FROM E-UTRA PREPARATION
REQUEST message to the UE to indicate to the UE that it should begin the
handover procedure. This message shall include the specified target RAT type
and any cdma2000 specific HRPD parameters needed by the UE to create the
appropriate HRPD messages needed to request a connection. Upon reception of
this message the UE should begin handover signalling towards the HRPD access.
The HRPD handover signalling is tunnelled through E-UTRAN between the UE and
HRPD network. These HRPD parameters and HRPD messages are transparent to
E-UTRAN. The set of the required HRPD parameters are out of scope of this
specification.
The messages are transferred inside RRC transfer messages and S1 CDMA2000
tunnelling messages. The MME will, based on indication provided by the HRPD
network, get information about if the handover succeeded or failed making it
possible for the MME set the handover status in the S1 CDMA2000 tunnelling
messages (e.g. handover success, handover failure). In case the handover
succeeded E-UTRAN will include the tunnelled \"CDMA2000 handover command\",
which will be sent to the UE, inside the RRC MOBILITY from E-UTRA COMMAND
message.
The UE can continue to send and receive data on the E-UTRAN radio until it
receives the RRC MOBILITY from E-UTRA COMMAND message including a tunnelled
\"CDMA2000 handover command\". After this message is received by the UE, the
UE shall leave the E-UTRAN radio and start acquiring the HRPD traffic channel.
The HRPD handover signalling is tunnelled between the UE and HRPD network.
##### 10.3.2.2.2 Mobility from HRPD to E-UTRAN
Mobility from HRPD to E-UTRAN has no impact on the E-UTRAN.
#### 10.3.2.3 Mobility between E-UTRAN and cdma2000 1xRTT
##### 10.3.2.3.1 Mobility from E-UTRAN to cdma2000 1xRTT
###### 10.3.2.3.1.1 cdma2000 1xRTT System Information Transmission in E-UTRAN
The cdma2000 1xRTT system information block (SIB) shall be sent on E-UTRAN
BCCH. The UE shall monitor the E-UTRAN BCCH during the RRC_IDLE and
RRC_CONNECTED modes to retrieve the 1xRTT system information for the
preparation of handover from the E-UTRAN to cdma2000 1xRTT system. 1xRTT
system information may also be provided to the UE by means of dedicated
signalling. The 1xRTT system information contains 1xRTT neighbouring cell
information, cdma timing information, and 1xRTT CS Fallback information.
###### 10.3.2.3.1.2 Measuring cdma2000 1xRTT from E-UTRAN
Measurement events and parameters for 1xRTT measurements are to be aligned
with those defined in section 10.2.3.
###### 10.3.2.3.1.2.1 Idle Mode Measurement Control
UE shall be able to make measurements on the 1xRTT system cells in LTE_IDLE
mode to perform cell re-selection. UE shall perform cdma2000 1xRTT neighbour
cell measurements during DRX periods, between paging occasions.
The intra-3GPP inter-RAT idle mode measurement control is re-used to control
the idle mode measurements on cdma2000 1xRTT. The UE performs measurement on
cdma2000 1xRTT when the signal quality from E-UTRAN serving cell falls below a
given threshold.
###### 10.3.2.3.1.2.2 Active Mode Measurement Control
In the E-UTRAN network, in RRC_CONNECTED mode, the UE shall perform radio
measurements on the cdma2000 1xRTT network when directed by the E-UTRAN
network. The network provides the required cdma2000 1xRTT neighbour cell list
information and measurement controls to the UE through dedicated RRC
signalling. When needed the eNB is responsible for configuring and activating
the cdma2000 1xRTT measurements on the UE via the dedicated RRC signalling
message. As for intra-3GPP inter-RAT measurement reporting, periodic and
event-triggered measurements are supported.
For single-radio terminals, measurement gaps are needed to allow the UE to
switch into the cdma2000 1xRTT network and do radio measurements. These
Measurement gaps are network-controlled. The eNB is responsible for
configuring the gap pattern and providing it to the UE through RRC dedicated
signalling. Terminals with a dual receiver perform measurements on cdma2000
1xRTT neighbour cells without tuning away from the E-UTRAN network. No DL gap
patterns will be required for UEs which are capable of simultaneous reception
on the involved frequency bands. No UL gap patterns will be required for UEs
which are capable simultaneous transmission in one access and measuring on
another access.
###### 10.3.2.3.1.2.3 Active Mode Measurement
In RRC_CONNECTED mode, the UE measures the strengths of each of the cdma2000
1xRTT neighbour cells and reports them in an RRC Message.
###### 10.3.2.3.1.3 E-UTRAN to cdma2000 1xRTT Cell Re-selection
UE performs Cell re-selection to cdma2000 1xRTT while in RRC_IDLE.
Cell reselection from E-UTRAN to 1xRTT should be aligned with 3GPP inter RAT
cell reselection mechanism.
###### 10.3.2.3.1.4 E-UTRAN to cdma2000 1xRTT Handover
In the high level procedure for handover from E-UTRAN to cdma2000 1xRTT except
1xRTT CS Fallback, registration and handover is performed directly after the
handover decision has been made. Based on measurement reports received from
the UE the eNB initiates a handover by sending a RRC Handover FROM E-UTRA
PREPARATION REQUEST message to the UE to indicate to the UE that it should
begin the handover procedure. This message shall include the specified target
RAT type and any cdma2000 specific 1xRTT access parameters needed by the UE to
create the appropriate 1xRTT Origination Request message. The 1xRTT handover
signalling is tunnelled between the UE and 1xRTT network. The 1xRTT access
parameters and 1xRTT messages are transparent to E-UTRAN. The set of the
required 1xRTT access parameters are out of scope of this specification.
The messages are transferred inside RRC transfer messages and S1 CDMA2000
tunnelling messages. The MME will, based on indication provided by the 1xRTT
network, get information about if the handover succeeded or failed making it
possible for the MME set the handover status in the S1 CDMA2000 tunnelling
messages (e.g. handover success, handover failure). In case the handover
succeeded E-UTRAN will include the tunnelled "CDMA2000 handover command",
which will be sent to the UE, inside the RRC MOBILITY from E-UTRA COMMAND
message.
The UE can continue to send and receive data on the E-UTRAN radio until it
receives the RRC MOBILITY from E-UTRA COMMAND message including a tunnelled
"CDMA2000 handover command". After this message is received by the UE, the UE
shall leave the E-UTRAN radio and start acquiring the 1xRTT traffic channel.
##### 10.3.2.3.2 Mobility from cdma2000 1xRTT to E-UTRAN
Mobility from cdma2000 1xRTT has no impact on E-UTRAN.
##### 10.3.2.3.3 1xRTT CS Fallback
CS fallback to 1xRTT enables the delivery of CS-domain services when a UE is
being served by the E-UTRAN [23].
The UE initiates 1xCSFB (e.g. to perform a 1xCS call origination or accept a
1xCS call termination) by using NAS signalling to send a CSFB indication to
the MME. The MME then indicates to the eNB that 1xCSFB is required, which
triggers the eNB to execute one of the following 1xCSFB procedures depending
on network support and UE capability:
\- Rel-8 1xCSFB, characterized by RRC connection release with redirection to
1xRTT;
\- enhanced 1xCSFB, characterized by 1xRTT handover signalling tunnelled
between the UE and 1xRTT network;
\- dual receiver 1xCSFB, characterized by RRC connection release without
redirection information; or
\- dual receiver/transmitter enhanced 1xCSFB, characterized by either 1xRTT
handover signalling tunnelled between the UE and 1xRTT network, or redirection
of the UE's second radio to 1xRTT.
The network advertises its support for Rel-8 1xCSFB by broadcasting 1xRTT pre-
registration parameters in system information (_SIB8)_. The Rel-8 1xCSFB
procedure is the default procedure, when no other 1xCSFB procedure can be
performed. If Rel-8 1xCSFB is to be performed, the eNB optionally solicits
1xRTT measurements from the UE, and then sends an RRC Connection Release
message with redirection to 1xRTT. The UE then performs the normal 1xCS call
origination or termination procedure in the 1xRTT access network.
A network which advertises support for Rel-8 1xCSFB may also support enhanced
1xCSFB, in which case the eNB determines to perform enhanced 1xCSFB based on
UE capability. If enhanced 1xCSFB is to be performed, the eNB optionally
solicits 1xRTT measurements from the UE, and then sends it a Handover From
EUTRA Preparation Request message. This triggers the UE to send the UL
Handover Preparation Transfer message containing 1xRTT dedicated information.
The 1xRTT information is contained inside RRC and S1-AP messages between the
UE and MME and in a generic \"transfer\" message between MME and 1xRTT
network. The response from the 1xRTT network triggers the eNB to send a
Mobility From EUTRA Command message which includes a 1xRTT channel assignment
message that causes the UE to acquire a traffic channel in the 1xRTT access
network. In addition to enhanced 1xCSFB, the eNB may determine to perform
concurrent mobility to HRPD based on UE capability; if so, then two separate
UL Handover Preparation Transfer messages are triggered from the UE containing
1xRTT and HRPD dedicated information, respectively. The concurrent HRPD
handover procedure is handled independently from the e1xCSFB procedure, except
that responses from the 1xRTT and HRPD networks shall be combined by the eNB
into a single Mobility From EUTRA Command message.
The network advertises support for dual receiver 1xCSFB by broadcasting the
dual receiver 1xCSFB support indicator in system information (SIB8). The eNB
determines to perform dual receiver 1xCSFB if the UE has a dual Rx
configuration according to UE capability, and enhanced 1xCSFB cannot be
performed (i.e. because enhanced 1xCSFB is not supported by both network and
UE). If dual receiver 1xCSFB is to be performed, the eNB sends an RRC
Connection Release message without including redirection information. The UE
then performs the normal 1xCS call origination or termination procedure in the
1xRTT access network. A UE with dual Rx configuration may initiate 1xCSFB to a
network broadcasting _1xRTT pre-registration parameters but not broadcasting
the dual receiver 1xCSFB support indicator; in this case, the UE may receive
an RRC Connection Release message with redirection to 1xRTT_.
The network advertises support for dual receiver/transmitter enhanced 1xCSFB
(dual Rx/Tx e1xCSFB) by broadcasting the dual Rx/Tx e1xCSFB support indicator
in system information (SIB8). The eNB determines to perform dual Rx/Tx e1xCSFB
if the UE supports dual Rx/Tx e1xCSFB according to UE capability. If the
network does not advertise support for dual Rx/Tx e1xCSFB, UE which have dual
Rx/Tx configuration may decide to keep the 1xRTT receiver/transmitter turned
on in order to continuously operate in both 1xRTT and E-UTRAN. If dual Rx/Tx
e1xCSFB is to be performed, the eNB optionally solicits 1xRTT measurements
from the UE, and then sends a Handover From EUTRA Preparation Request message.
This triggers the UE to perform one of the following:
\- send the UL Handover Preparation Transfer message containing 1xRTT
dedicated information. The 1xRTT information is contained inside RRC and S1-AP
messages between the UE and MME and in a generic \"transfer\" message between
MME and 1xRTT network. The response from the 1xRTT network triggers the eNB to
send a DL Information Transfer message which includes a 1xRTT channel
assignment message that causes the UE to acquire a traffic channel in the
1xRTT access network while continuing to be served by the E-UTRAN (for PS-
domain services).
\- direct its second radio to 1xRTT, where it performs the 1xCS call
origination or termination procedure in the 1xRTT access network while
continuing to be served by the E-UTRAN (for PS-domain services).
The following table summarizes the various CS fallback options for 1xRTT,
necessary UE capabilities and FGI index which should be set to '1'. The
meaning of FGI index is specified in [16, Annex B].
Table 10.3.2.3.3-1: CS fallback options
+-------------+-------------+-----------+-------------+-------------+ | > Target | > Solutions | > Release | > UE | > FGI Index | | > RAT | | | > | | | | | | Capability | | +-------------+-------------+-----------+-------------+-------------+ | > CS | > RRC | > Rel-8 | > (NOTE 1) | | | > fallback | > | | > | | | > to 1xRTT | Connection | | > Mandatory | | | | > Release | | > for UEs | | | | > with | | > | | | | > | | supporting | | | | Redirection | | > CS | | | | | | > fallback | | | | | | > to 1xRTT | | +-------------+-------------+-----------+-------------+-------------+ | | > enhanced | > Rel-9 | > (NOTE 1) | | | | > 1xCSFB | | > | | | | | | > e | | | | | | -CSFB-1XRTT | | +-------------+-------------+-----------+-------------+-------------+ | | > enhanced | > Rel-9 | > (NOTE 1) | > FGI12, | | | > 1xCSFB | | > | > FGI26 | | | > with | | > _e- | | | | > | | CSFB-ConcPS | | | | concurrent | | -Mob1XRTT,_ | | | | > HRPD | | > Support | | | | > handover | | > of HRPD, | | | | | | > * | | | | | | supportedBa | | | | | | ndListHRPD _| | +-------------+-------------+-----------+-------------+-------------+ | | > dual | > Rel-9 | > (NOTE 1) | | | | > receiver | | > | | | | > 1xCSFB | | > _rx- | | | | > (RRC | | Config1XRTT | | | | > | | > (set to | | | | Connection | | > 'dual')* | | | | > Release | | | | | | > without | | | | | | > R | | | | | | edirection) | | | | +-------------+-------------+-----------+-------------+-------------+ | | > dual | > Rel-10 | > (NOTE 1) | | | | > receiver/ | | > | | | | transmitter | | > e-CSFB | | | | > enhanced | | -dual-1XRTT | | | | > 1xCSFB | | | | +-------------+-------------+-----------+-------------+-------------+ | NOTE 1: All | | | | | | CS fallback | | | | | | to 1xRTT | | | | | | capable UE | | | | | | shall | | | | | | indicate | | | | | | that it | | | | | | supports | | | | | | 1xRTT and | | | | | | supported | | | | | | band list | | | | | | in the UE | | | | | | capability. | | | | | | | | | | | | NOTE 2: The | | | | | | measurement | | | | | | may be | | | | | | performed | | | | | | before any | | | | | | of the | | | | | | above CS | | | | | | fallback | | | | | | solution is | | | | | | triggered | | | | | | to select | | | | | | the target | | | | | | cell or | | | | | | frequency | | | | | | layer more | | | | | | accurately | | | | | | based on | | | | | | eNB | | | | | | decision. | | | | | | eNB may | | | | | | trigger any | | | | | | of above CS | | | | | | fallback | | | | | | solutions | | | | | | blindly. | | | | | +-------------+-------------+-----------+-------------+-------------+
##### 10.3.2.3.3.1 Pre-registration Procedure for 1xRTT CSFB {#pre-
registration-procedure-for-1xrtt-csfb .H6}
A 1xCSFB capable terminal may pre-register in the 1xRTT network via the
E-UTRAN in order to establish CS services (e.g. originating and terminating
voice calls) in the 1xRTT network. Pre-registration applies only to Rel-8
1xCSFB, enhanced 1xCSFB and dual receiver/transmitter enhanced 1xCSFB. It does
not apply to dual receiver 1xCSFB, since the UE registers directly in the
1xRTT network using the normal 1xCS registration procedure.
The UE determines whether pre-registration is needed based on 1xRTT pre-
registration parameters broadcast in system information (SIB8). Before
performing a 1xRTT pre-registration, the UE requests from the eNB the
necessary information to perform the 1xRTT pre-registration using the CDMA2000
CSFB Parameters Request message. The eNB provides the necessary parameters in
the CDMA2000 CSFB Parameters Response _message_. These necessary parameters
are pre-configured in the eNB and are transparent to E-UTRAN.
The UE is responsible for maintaining the 1xRTT context, e.g. by performing
re-registrations if needed. The UE will use the 1xRTT pre-registration
information to decide whether a re-registration shall be performed. A dual
receiver UE which registers directly in the 1xRTT network can ignore these
parameters. Re-registrations are only allowed in areas where pre-registration
is allowed.
The management of the pre-registration and re-registration is handled by the
1xRTT upper layer in the UE.
## 10.4 Area Restrictions
The area restriction information for a UE includes the Serving PLMN, and may
include a list of equivalent PLMNs, and information on which area restrictions
are to be applied during ECM-CONNECTED state. It may be provided by the MME at
context setup over the S1 interface, and may be updated by the MME during S1
Handover, and when sending NAS Downlink messages.
The eNB shall store the UE area restriction information and use it to
determine whether the UE has access to radio resources in the E-UTRAN and/or
other RANs. The source eNB should apply restriction handling for subsequent
mobility action for which the eNB provides information about the target of the
mobility action towards the UE, e.g., handover and CCO, if applicable [17]
[23].
The available UE area restriction information shall be propagated by the
source eNB over X2 at intra E-UTRAN handover. For the case when the X2
handover results in a change of serving PLMN (to an equivalent PLMN), the
source eNB shall replace the Serving PLMN with the identity of the target PLMN
and move the Serving PLMN to the equivalent PLMN list, before propagating the
UE area restriction information.
## 10.5 Mobility to and from CSG and Hybrid cells
### 10.5.0 Principles for idle-mode mobility with CSG cells
#### 10.5.0.1 Intra-frequency mobility
Intra-frequency mobility in idle mode in the presence of "allowed" CSG cells
(_i.e._ , CSG cells that the UE is allowed to camp on) is based on cell
ranking and reselection using the "best cell principle": For cell ranking and
reselection, the UE may ignore all CSG cells that are known by the UE to be
not allowed.
#### 10.5.0.2 Inter-frequency mobility
For cell ranking and reselection, the UE should prioritize CSG cells with CSG
ID present in the UE's CSG whitelist, irrespective of normal network
configured frequency priorities.
#### 10.5.0.3 Inter-RAT Mobility
Inter-RAT inbound mobility to E-UTRAN CSG cells is also supported by a UE
autonomous search when the UE is camped on a RAT other than E-UTRAN. The UE
requirements are defined in the specifications of the concerned RAT.
### 10.5.1 Inbound mobility to CSG cells
#### 10.5.1.1 RRC_IDLE
Cell selection/reselection to CSG cells is based on a UE autonomous search
function. The search function determines itself when/where to search, and need
not be assisted by the network with information about frequencies which are
dedicated to CSG cells.
To assist the search function on mixed carriers, all CSG cells on mixed
carriers broadcast in system information a range of PCI values reserved by the
network for use by CSG cells. Optionally also non-CSG cells on the mixed
carrier can send this information in system information. The reserved PCI
range is only applicable to the frequency of the PLMN where the UE received
this information. The UE considers the last received reserved range of PCI
values for CSG cells to be valid for a maximum of 24 hours within the entire
PLMN. UE's use of the received PCI split information is UE implementation
dependent.
UE checks the suitability of CSG cells (identified by the 1 bit indicator)
based on the CSG whitelist in the UE (provided by upper layers). A CSG cell is
only suitable for a UE if it belongs to its CSG whitelist.
The automated searching for the CSG cells by the UE shall be disabled by the
search function, if the CSG whitelist configured in the UE is empty.
In addition, manual selection of CSG cells is supported.
Cell selection/reselection to CSG cells does not require the network to
provide neighbour cell information to the UE. The neighbour cell information
can be provided to help the UE in specific cases, e.g. where the network
wishes to trigger the UE to search for CSG cells.
Cell Reselection between allowed CSG cells is based on normal cell reselection
procedure.
#### 10.5.1.2 RRC_CONNECTED
While the UE is in RRC_CONNECTED state, the UE performs normal measurement and
mobility procedures based on configuration provided by the network.
The UE is not required to support manual selection of CSG IDs while in
RRC_CONNECTED state.
Handover to a HNB/HeNB follows the framework of UE assisted network controlled
handover as described in 10.1.2.1. Handover to a HNB/HeNB is different from
the normal handover procedure in three aspects:
**1\. Proximity Estimation** : in case the UE is able to determine, using
autonomous search procedures, that it is near a CSG or hybrid cell whose CSG
ID is in the UE's CSG whitelist, the UE may provide to the source eNB an
indication of proximity. The proximity indication may be used as follows:
\- If a measurement configuration is not present for the concerned
frequency/RAT, the source eNB may configure the UE to perform measurements and
reporting for the concerned frequency/RAT.
\- The source eNB may determine whether to perform other actions related to
handover to HNB/HeNBs based on having received a proximity indication (for
example, the source eNB may not configure the UE to acquire system information
of the HNB/HeNB unless it has received a proximity indication).
**2\. PSC/PCI Confusion:** due to the typical cell size of HNB/HeNBs being
much smaller than macro cells, there can be multiple HNBs/HeNBs within the
coverage of the source eNB that have the same PSC/PCI. This leads to a
condition referred to as PSC/PCI confusion, wherein the source eNB is unable
to determine the correct target cell for handover from the PSC/PCI included in
the measurement reports from the UE. PSC/PCI confusion is solved by the UE
reporting the global cell identity of the target HNB/HeNB.
**3\. Access Control:** if the target cell is a hybrid cell, prioritization of
allocated resources may be performed based on the UE's membership status.
Access control is done by a two step process, where first the UE reports the
membership status based on the CSG ID received from the target cell and the
UE's CSG whitelist, and then the network verifies the reported status. When
the UE has an emergency call the MME allows inbound mobility to CSG cells even
if the access control fails.
Mobility from eNB/HeNB to a HeNB's CSG/hybrid cell may take place with the S1
Handover procedure. In the following call flow the source cell can be an eNB
or a HeNB. The current version of the specification also supports mobility
from HeNB to HeNB by using X2 handover in some cases (see section 4.6.1).
The procedure applies to any scenario where the CSG ID is provided by the UE
or provided by the source eNB.
Figure 10.5.1.2-1: Mobility to HeNB's CSG and hybrid cells.
> 1) The source eNB configures the UE with proximity indication control.
>
> 2) The UE sends an "entering" proximity indication when it determines it may
> be near a cell (based on autonomous search procedures) whose CSG ID is in
> the UE's CSG whitelist. The proximity indication includes the RAT and
> frequency of the cell.
>
> 3) If a measurement configuration is not present for the concerned
> frequency/RAT the source eNB configures the UE with relevant measurement
> configuration including measurement gaps as needed, so that the UE can
> perform measurements on the reported RAT and frequency. The network may also
> use the proximity indication to minimize the requesting of handover
> preparation information of CSG/hybrid cells by avoiding requesting such
> information when the UE is not in the geographical area where cells whose
> CSG IDs are in the UEs CSG White-list are located.
>
> 4) The UE sends a measurement report including the PCI (e.g., due to
> triggered event A3).
>
> 5) The source eNB configures the UE to perform SI acquisition and reporting
> of a particular PCI.
>
> 6) The UE performs SI acquisition using autonomous gaps, i.e., the UE may
> suspend reception and transmission with the source eNB within the limits
> defined in [TS 36.133] to acquire the relevant system information from the
> target HeNB.
>
> 7) The UE sends a measurement report including (E-)CGI, TAI, CSG ID and
> "member/non-member" indication.
>
> 8) The source eNB includes the target E-CGI and the CSG ID in the Handover
> Required message sent to the MME. If the target is a hybrid cell the Cell
> Access Mode of the target is included.
>
> 9) The MME performs UE access control to the CSG cell based on the CSG ID of
> the registered PLMN received in the Handover Required message and the stored
> CSG subscription data for the UE (see 3GPP TS 23.401 [17]). If the access
> control procedure fails, the MME ends the handover procedure by replying
> with the Handover Preparation Failure message. If the Cell Access Mode is
> present, the MME determines the CSG Membership Status of the UE handing over
> to the hybrid cell and includes it in the Handover Request message.
>
> 10-11) The MME sends the Handover Request message to the target HeNB
> including the target CSG ID received in the Handover Required message. If
> the target is a hybrid cell the CSG Membership Status will be included in
> the Handover Request message.
>
> 12) The target HeNB verifies that the CSG ID received in the Handover
> Request message matches the CSG ID broadcast in the target cell and if such
> validation is successful it allocates appropriate resources. UE
> prioritisation may also be applied if the CSG Membership Status indicates
> that the UE is a member.
>
> 13-14) The target HeNB sends the Handover Request Acknowledge message to the
> MME via the HeNB GW if present.
>
> 15) The MME sends the Handover Command message to the source eNB.
>
> 16) The source eNB transmits the Handover Command (RRC Connection
> Reconfiguration message including mobility control information) to the UE.
NOTE: Steps 1-9, 15 and 16 also apply to inter-RAT mobility from LTE to HNB.
After sending an "entering" proximity indication (step 2), if the UE
determines that it is no longer near a cell whose CSG ID is in the UE's CSG
whitelist, the UE sends a "leaving" proximity indication to the source eNB.
Upon reception of this indication, the source eNB may reconfigure the UE to
stop measurements on the reported RAT and frequency.
In the above procedure, steps 2 and 3 may not be performed in case the UE has
not previously visited the HeNB, e.g., when the UE first visits a hybrid cell.
The PCI confusion is resolved by steps 5, 6 and 7. The source eNB can request
SI acquisition and reporting for any PCI, not limited to PSCs/PCIs of CSG or
hybrid cells.
### 10.5.2 Outbound mobility from CSG cells
#### 10.5.2.1 RRC_IDLE
For a UE leaving a CSG cell in idle mode normal cell reselection based on
configuration from the BCCH of the CSG cell applies.
#### 10.5.2.2 RRC_CONNECTED
For a UE leaving a CSG cell in active mode normal network controlled mobility
applies.
## 10.6 Measurement Model
Figure 10.6-1: Measurement model
  * **A:** measurements (samples) internal to the physical layer.
  * **Layer 1 filtering:** internal layer 1 filtering of the inputs measured at point A. Exact filtering is implementation dependant. How the measurements are actually executed in the physical layer by an implementation (inputs A and Layer 1 filtering) in not constrained by the standard.
  * **B:** A measurement reported by layer 1 to layer 3 after layer 1 filtering.
  * **Layer 3 filtering:** Filtering performed on the measurements provided at point B. The behaviour of the Layer 3 filters are standardised and the configuration of the layer 3 filters is provided by RRC signalling. Filtering reporting period at C equals one measurement period at B.
  * **C:** A measurement after processing in the layer 3 filter. The reporting rate is identical to the reporting rate at point B. This measurement is used as input for one or more evaluation of reporting criteria.
  * **Evaluation of reporting criteria:** This checks whether actual measurement reporting is necessary at point D. The evaluation can be based on more than one flow of measurements at reference point C e.g. to compare between different measurements. This is illustrated by input C and C\'. The UE shall evaluate the reporting criteria at least every time a new measurement result is reported at point C, C\'. The reporting criteria are standardised and the configuration is provided by RRC signalling (UE measurements).
  * **D:** Measurement report information (message) sent on the radio interface.
Layer 1 filtering will introduce a certain level of measurement averaging. How
and when the UE exactly performs the required measurements will be
implementation specific to the point that the output at B fulfils the
performance requirements set in [21]. Layer 3 filtering and parameters used is
specified in [16] and does not introduce any delay in the sample availability
between B and C. Measurement at point C, C\' is the input used in the event
evaluation.
## 10.7 Hybrid Cells
Hybrid Cells have a CSG Indication bit set to FALSE but broadcast a CSG
Identity and the PCI values for hybrid cells are not contained within the
reserved PCI range for CSG cells. Similar to CSG cells, the network can
reserve a PCI list for hybrid cells.
The network shall distinguish whether it is a hybrid cell, e.g. by reserving a
PCI list for hybrid cells.
### 10.7.1 RRC_IDLE
When the CSG ID of the hybrid cell belongs to the CSG whitelist of the UE, the
hybrid cell is considered by the UE as a CSG cell in idle mode cell
selection/reselection procedures.
> NOTE: The autonomous search for hybrid cells does not imply that a UE needs
> to constantly check the CSG ID of all cells it sees.
For all other UEs, normal cell selection/reselection procedures apply with
hybrid cells (as for non CSG cells).
Manual selection of CSG IDs of hybrid cells is also supported in the same way
as for CSG cells.
### 10.7.2 RRC_CONNECTED
#### 10.7.2.1 Inbound Mobility
Inbound mobility to hybrid cells is described in Section 10.5.1.2.
#### 10.7.2.2 Outbound Mobility
Procedure for outbound mobility from CSG cells applies (See section 10.5.2.2).
# 11 Scheduling and Rate Control
In order to utilise the SCH resources efficiently, a scheduling function is
used in MAC. In this subclause, an overview of the scheduler is given in terms
of scheduler operation, signalling of scheduler decisions, and measurements to
support scheduler operation.
## 11.1 Basic Scheduler Operation
MAC in eNB includes dynamic resource schedulers that allocate physical layer
resources for the DL-SCH and UL-SCH transport channels. Different schedulers
operate for the DL-SCH and UL-SCH.
The scheduler should take account of the traffic volume and the QoS
requirements of each UE and associated radio bearers, when sharing resources
between UEs. Only "per UE" grants are used to grant the right to transmit on
the UL-SCH (i.e. there are no "per UE per RB" grants).
Schedulers may assign resources taking account the radio conditions at the UE
identified through measurements made at the eNB and/or reported by the UE.
Radio resource allocations can be valid for one or multiple TTIs.
Resource assignment consists of physical resource blocks (PRB) and MCS.
Allocations for time periods longer than one TTI might also require additional
information (allocation time, allocation repetition factor...).
When CA is configured, a UE may be scheduled over multiple serving cells
simultaneously but at most one random access procedure shall be ongoing at any
time. Cross-carrier scheduling with the Carrier Indicator Field (CIF) allows
the PDCCH of a serving cell to schedule resources on another serving cell but
with the following restrictions:
\- Cross-carrier scheduling does not apply to PCell i.e. PCell is always
scheduled via its PDCCH;
\- When the PDCCH of an SCell is configured, cross-carrier scheduling does not
apply to this SCell i.e. it is always scheduled via its PDCCH;
> \- When the PDCCH of an SCell is not configured, cross-carrier scheduling
> applies and this SCell is always scheduled via the PDCCH of one other
> serving cell.
A linking between UL and DL allows identifying the serving cell for which the
DL assignment or UL grant applies when the CIF is not present:
\- DL assignment received on PCell corresponds to downlink transmission on
PCell;
\- UL grant received on PCell corresponds to uplink transmission on PCell;
\- DL assignment received on SCell _~n~_ corresponds to downlink transmission
on SCell _~n~_ ;
\- UL grant received on SCell _~n~_ corresponds to uplink transmission on
SCell _~n~_. If SCell _~n~_ is not configured for uplink usage by the UE, the
grant is ignored by the UE.
### 11.1.1 Downlink Scheduling
In the downlink, E-UTRAN can dynamically allocate resources (PRBs and MCS) to
UEs at each TTI via the C-RNTI on PDCCH(s). A UE always monitors the PDCCH(s)
in order to find possible allocation when its downlink reception is enabled
(activity governed by DRX when configured). When CA is configured, the same
C-RNTI applies to all serving cells.
In addition, E-UTRAN can allocate semi-persistent downlink resources for the
first HARQ transmissions to UEs:
\- RRC defines the periodicity of the semi-persistent downlink grant;
\- PDCCH indicates whether the downlink grant is a semi-persistent one i.e.
whether it can be implicitly reused in the following TTIs according to the
periodicity defined by RRC.
When required, retransmissions are explicitly signalled via the PDCCH(s). In
the sub-frames where the UE has semi-persistent downlink resource, if the UE
cannot find its C-RNTI on the PDCCH(s), a downlink transmission according to
the semi-persistent allocation that the UE has been assigned in the TTI is
assumed. Otherwise, in the sub-frames where the UE has semi-persistent
downlink resource, if the UE finds its C-RNTI on the PDCCH(s), the PDCCH
allocation overrides the semi-persistent allocation for that TTI and the UE
does not decode the semi-persistent resources.
When CA is configured, semi-persistent downlink resources can only be
configured for the PCell and only PDCCH allocations for the PCell can override
the semi-persistent allocation.
### 11.1.2 Uplink Scheduling
In the uplink, E-UTRAN can dynamically allocate resources (PRBs and MCS) to
UEs at each TTI via the C-RNTI on PDCCH(s). A UE always monitors the PDCCH(s)
in order to find possible allocation for uplink transmission when its downlink
reception is enabled (activity governed by DRX when configured). When CA is
configured, the same C-RNTI applies to all serving cells.
In addition, E-UTRAN can allocate a semi-persistent uplink resource for the
first HARQ transmissions and potentially retransmissions to UEs:
\- RRC defines the periodicity of the semi-persistent uplink grant;
\- PDCCH indicates whether the uplink grant is a semi-persistent one i.e.
whether it can be implicitly reused in the following TTIs according to the
periodicity defined by RRC.
In the sub-frames where the UE has semi-persistent uplink resource, if the UE
cannot find its C-RNTI on the PDCCH(s), an uplink transmission according to
the semi-persistent allocation that the UE has been assigned in the TTI can be
made. The network performs decoding of the pre-defined PRBs according to the
pre-defined MCS. Otherwise, in the sub-frames where the UE has semi-persistent
uplink resource, if the UE finds its C-RNTI on the PDCCH(s), the PDCCH
allocation overrides the persistent allocation for that TTI and the UE's
transmission follows the PDCCH allocation, not the semi-persistent allocation.
Retransmissions are either implicitly allocated in which case the UE uses the
semi-persistent uplink allocation, or explicitly allocated via PDCCH(s) in
which case the UE does not follow the semi-persistent allocation.
NOTE: there is no blind decoding in uplink and when the UE does not have
enough data to fill the allocated resource, padding is used.
When the UE is provided with valid uplink grants in several serving cells in
one TTI, the order in which the grants are processed during logical channel
prioritisation and whether joint or serial processing is applied are left up
to UE implementation.
Similarly as for the downlink, semi-persistent uplink resources can only be
configured for the PCell and only PDCCH allocations for the PCell can override
the semi-persistent allocation.
## 11.2 Activation/Deactivation Mechanism
To enable reasonable UE battery consumption when CA is configured, an
activation/deactivation mechanism of SCells is supported (i.e.
activation/deactivation does not apply to PCell). When an SCell is
deactivated, the UE does not need to receive the corresponding PDCCH or PDSCH,
cannot transmit in the corresponding uplink, nor is it required to perform CQI
measurements. Conversely, when an SCell is active, the UE shall receive PDSCH
and PDCCH (if the UE is configured to monitor PDCCH from this SCell), and is
expected to be able to perform CQI measurements.
The activation/deactivation mechanism is based on the combination of a MAC
control element and deactivation timers. The MAC control element carries a
bitmap for the activation and deactivation of SCells: a bit set to 1 denotes
activation of the corresponding SCell, while a bit set to 0 denotes
deactivation. With the bitmap, SCells can be activated and deactivated
individually, and a single activation/deactivation command can
activate/deactivate a subset of the SCells. One deactivation timer is
maintained per SCell but one common value is configured per UE by RRC.
At reconfiguration without mobility control information:
\- SCells added to the set of serving cells are initially "deactivated";
\- SCells which remain in the set of serving cells (either unchanged or
reconfigured) do not change their activation status ("activated" or
"deactivated").
At reconfiguration with mobility control information (i.e. handover):
\- SCells are "deactivated".
## 11.3 Measurements to Support Scheduler Operation
Measurement reports are required to enable the scheduler to operate in both
uplink and downlink. These include transport volume and measurements of a UEs
radio environment.
Uplink buffer status reports (BSR) are needed to provide support for QoS-aware
packet scheduling. In E-UTRAN uplink buffer status reports refer to the data
that is buffered in for a group of logical channel (LCG) in the UE. Four LCGs
and two formats are used for reporting in uplink:
> \- A short format for which only one BSR (of one LCG) is reported;
>
> \- A long format for which all four BSRs (of all four LCGs) are reported.
Uplink buffer status reports are transmitted using MAC signalling.
## 11.4 Rate Control of GBR, MBR and UE-AMBR
### 11.4.1 Downlink
The eNB guarantees the downlink GBR associated with a GBR bearer, enforces the
downlink MBR associated with a GBR bearer and enforces the downlink AMBR
associated with a group of Non-GBR bearers.
### 11.4.2 Uplink
The UE has an uplink rate control function which manages the sharing of uplink
resources between radio bearers. RRC controls the uplink rate control function
by giving each bearer a priority and a prioritised bit rate (PBR). The values
signalled may not be related to the ones signalled via S1 to the eNB.
The uplink rate control function ensures that the UE serves its radio
bearer(s) in the following sequence:
1\. All the radio bearer(s) in decreasing priority order up to their PBR;
2\. All the radio bearer(s) in decreasing priority order for the remaining
resources assigned by the grant.
NOTE1: In case the PBRs are all set to zero, the first step is skipped and the
radio bearer(s) are served in strict priority order: the UE maximises the
transmission of higher priority data.
NOTE2: By limiting the total grant to the UE, the eNB can ensure that the UE-
AMBR plus the sum of MBRs is not exceeded.
NOTE3: Provided the higher layers are responsive to congestion indications,
the eNB can enforce the MBR of an uplink radio bearer by triggering congestion
indications towards higher layers and by shaping the data rate towards the S1
interface.
If more than one radio bearer has the same priority, the UE shall serve these
radio bearers equally.
## 11.5 CQI reporting for Scheduling
The time and frequency resources used by the UE to report CQI are under the
control of the eNB. CQI reporting can be either periodic or aperiodic. A UE
can be configured to have both periodic and aperiodic reporting at the same
time. In case both periodic and aperiodic reporting occurs in the same
subframe, only the aperiodic report is transmitted in that subframe.
For efficient support of localized, distributed and MIMO transmissions, E-UTRA
supports three types of CQI reporting:
\- Wideband type: providing channel quality information of entire system
bandwidth of the cell;
\- Multi-band type: providing channel quality information of some subset(s) of
system bandwidth of the cell;
\- MIMO type: open loop or closed loop operation (with or without PMI
feedback).
Periodic CQI reporting is defined by the following characteristics:
\- When the UE is allocated PUSCH resources in a subframe where a periodic CQI
report is configured to be sent, the periodic CQI report is transmitted
together with uplink data on the PUSCH. Otherwise, the periodic CQI reports
are sent on the PUCCH.
Aperiodic CQI reporting is defined by the following characteristics:
> \- The report is scheduled by the eNB via the PDCCH;
>
> \- Transmitted together with uplink data on PUSCH.
When a CQI report is transmitted together with uplink data on PUSCH, it is
multiplexed with the transport block by L1 (i.e. the CQI report is not part of
the uplink the transport block).
The eNB configures a set of sizes and formats of the reports. Size and format
of the report depends on whether it is transmitted over PUCCH or PUSCH and
whether it is a periodic or aperiodic CQI report.
## 11.6 Explicit Congestion Notification
The eNB and the UE support of the Explicit Congestion Notification (ECN) is
specified in Section 5 of [35] (i.e., the normative part of [35] that applies
to the end-to-end flow of IP packets), and below. This enables the eNB to
control the initial codec rate selection and/or to trigger a codec rate
reduction. Thereby the eNB can increase capacity (e.g., in terms of number of
accepted VoIP calls), and improve coverage (e.g. for high bit rate video
sessions).
The eNB should set the Congestion Experienced (CE) codepoint ('11') in PDCP
SDUs in the downlink direction to indicate downlink (radio) congestion if
those PDCP SDUs have one of the two ECN-Capable Transport (ECT) codepoints
set. The eNB should set the Congestion Experienced (CE) codepoint ('11') in
PDCP SDUs in the uplink direction to indicate uplink (radio) congestion if
those PDCP SDUs have one of the two ECN-Capable Transport (ECT) codepoints
set.
# 12 DRX in RRC_CONNECTED
In order to enable reasonable UE battery consumption, DRX in E-UTRAN is
characterised by the following:
\- Per UE mechanism (as opposed to per radio bearer);
\- No RRC or MAC substate to distinguish between different levels of DRX;
\- Available DRX values are controlled by the network and start from non-DRX
up to _x_ seconds. Value _x_ may be as long as the paging DRX used in ECM-
IDLE;
\- Measurement requirement and reporting criteria can differ according to the
length of the DRX interval i.e. long DRX intervals may experience more relaxed
requirements;
\- Irrespective of DRX, UE may use first available RACH opportunity to send an
UL measurement report;
\- HARQ operation related to data transmission is independent of DRX operation
and the UE wakes up to read the PDCCH for possible retransmissions and/or
ACK/NAK signalling regardless of DRX In the downlink, a timer is used to limit
the time the UE stays awake awaiting for a retransmission;
\- When DRX is configured, the UE may be further configured with an \"on-
duration\" timer during which time the UE monitors the PDCCHs for possible
allocations;
\- When DRX is configured, periodic CQI reports can only be sent by the UE
during the "active-time". RRC can further restrict periodic CQI reports so
that they are only sent during the on-duration;
\- A timer in the UE is used to detect need for obtaining timing advance.
The following definitions apply to DRX in E-UTRAN:
\- **on-duration** : duration in downlink subframes that the UE waits for,
after waking up from DRX, to receive PDCCHs. If the UE successfully decodes a
PDCCH, the UE stays awake and starts the inactivity timer;
\- **inactivity-timer** : duration in downlink subframes that the UE waits to
successfully decode a PDCCH, from the last successful decoding of a PDCCH,
failing which it re-enters DRX. The UE shall restart the inactivity timer
following a single successful decoding of a PDCCH for a first transmission
only (i.e. not for retransmissions).
\- **active-time** : total duration that the UE is awake. This includes the
"on-duration" of the DRX cycle, the time UE is performing continuous reception
while the inactivity timer has not expired and the time UE is performing
continuous reception while waiting for a DL retransmission after one HARQ RTT.
Based on the above the minimum active time is of length equal to on-duration,
and the maximum is undefined (infinite);
Of the above parameters the on-duration and inactivity-timer are of fixed
lengths, while the active-time is of varying lengths based on scheduling
decision and UE decoding success. Only on-duration and inactivity-timer
duration are signalled to the UE by the eNB:
\- There is only one DRX configuration applied in the UE at any time;
\- UE shall apply an on-duration on wake-up from DRX sleep;
NOTE: this is also applicable for the case where the UE has only one service
(e.g. Real Time) that is being handled through the allocation of predefined
resources; this allows for other signalling such as RRC to be sent during the
remaining portion of the active time.
\- New transmissions can only take place during the active-time (so that when
the UE is waiting for one retransmission only, it does not have to be "awake"
during the RTT).
\- If PDCCH has not been successfully decoded during the on-duration, the UE
shall follow the DRX configuration (i.e. the UE can enter DRX sleep if allowed
by the DRX configuration):
\- This applies also for the sub-frames where the UE has been allocated
predefined resources.
> \- If it successfully decodes a PDCCH for a first transmission, the UE shall
> stay awake and start the inactivity timer (even if a PDCCH is successfully
> decoded in the sub-frames where the UE has also been allocated predefined
> resources) until a MAC control message tells the UE to re-enter DRX, or
> until the inactivity timer expires. In both cases, the DRX cycle that the UE
> follows after re-entering DRX is given by the following rules:
\- If a short DRX cycle is configured; the UE first follows the short DRX
cycle and after a longer period of inactivity the UE follows the long DRX
cycle;
\- Else the UE follows the long DRX cycle directly.
NOTE: When DRX is configured, the network should detect whether UE remains in
EUTRAN coverage by requesting UE to send periodic signals to the network.
In CA, whenever a UE is configured with only one serving cell (i.e. PCell)
Rel-8/9 DRX applies. In other cases, the same DRX operation applies to all
configured and activated serving cells (i.e. identical active time for PDCCH
monitoring).
# 13 QoS
An EPS bearer/E-RAB is the level of granularity for bearer level QoS control
in the EPC/E-UTRAN. That is, SDFs mapped to the same EPS bearer receive the
same bearer level packet forwarding treatment (e.g. scheduling policy, queue
management policy, rate shaping policy, RLC configuration, etc.) [17].
One EPS bearer/E-RAB is established when the UE connects to a PDN, and that
remains established throughout the lifetime of the PDN connection to provide
the UE with always-on IP connectivity to that PDN. That bearer is referred to
as the _default_ bearer. Any additional EPS bearer/E-RAB that is established
to the same PDN is referred to as a _dedicated_ bearer. The initial bearer
level QoS parameter values of the default bearer are assigned by the network,
based on subscription data. The decision to establish or modify a dedicated
bearer can only be taken by the EPC, and the bearer level QoS parameter values
are always assigned by the EPC.
An EPS bearer/E-RAB is referred to as a GBR bearer if dedicated network
resources related to a Guaranteed Bit Rate (GBR) value that is associated with
the EPS bearer/E-RAB are permanently allocated (e.g. by an admission control
function in the eNodeB) at bearer establishment/modification. Otherwise, an
EPS bearer/E-RAB is referred to as a Non-GBR bearer. A dedicated bearer can
either be a GBR or a Non-GBR bearer while a default bearer shall be a Non-GBR
bearer.
## 13.1 Bearer service architecture
The EPS bearer service layered architecture is depicted in Figure 13.1-1
below, where:
\- An UL TFT in the UE binds an SDF to an EPS bearer in the uplink direction.
Multiple SDFs can be multiplexed onto the same EPS bearer by including
multiple uplink packet filters in the UL TFT.
\- A DL TFT in the PDN GW binds an SDF to an EPS bearer in the downlink
direction. Multiple SDFs can be multiplexed onto the same EPS bearer by
including multiple downlink packet filters in the DL TFT.
\- An E-RAB transports the packets of an EPS bearer between the UE and the
EPC. When an E-RAB exists, there is a one-to-one mapping between this E-RAB
and an EPS bearer.
\- A data radio bearer transports the packets of an EPS bearer between a UE
and an eNB. When a data radio bearer exists, there is a one-to-one mapping
between this data radio bearer and the EPS bearer/E-RAB.
\- An S1 bearer transports the packets of an E-RAB between an eNodeB and a
Serving GW.
\- An S5/S8 bearer transports the packets of an EPS bearer between a Serving
GW and a PDN GW.
\- A UE stores a mapping between an uplink packet filter and a data radio
bearer to create the binding between an SDF and a data radio bearer in the
uplink.
\- A PDN GW stores a mapping between a downlink packet filter and an S5/S8a
bearer to create the binding between an SDF and an S5/S8a bearer in the
downlink.
\- An eNB stores a one-to-one mapping between a data radio bearer and an S1
bearer to create the binding between a data radio bearer and an S1 bearer in
both the uplink and downlink.
> \- A Serving GW stores a one-to-one mapping between an S1 bearer and an
> S5/S8a bearer to create the binding between an S1 bearer and an S5/S8a
> bearer in both the uplink and downlink.
Figure 13.1-1: EPS Bearer Service Architecture
## 13.2 QoS parameters
The bearer level (i.e. per bearer or per bearer aggregate) QoS parameters are
QCI, ARP, GBR, and AMBR [17]. Each EPS bearer/E-RAB (GBR and Non-GBR) is
associated with the following bearer level QoS parameters:
\- QoS Class Identifier (QCI): scalar that is used as a reference to access
node-specific parameters that control bearer level packet forwarding treatment
(e.g. scheduling weights, admission thresholds, queue management thresholds,
link layer protocol configuration, etc.), and that have been pre-configured by
the operator owning the eNodeB. A one-to-one mapping of standardized QCI
values to standardized characteristics is captured in [17].
\- Allocation and Retention Priority (ARP): the primary purpose of ARP is to
decide whether a bearer establishment / modification request can be accepted
or needs to be rejected in case of resource limitations. In addition, the ARP
can be used by the eNodeB to decide which bearer(s) to drop during exceptional
resource limitations (e.g. at handover).
Each GBR bearer is additionally associated with the following bearer level QoS
parameter:
\- Guaranteed Bit Rate (GBR): the bit rate that can be expected to be provided
by a GBR bearer,
\- Maximum Bit Rate (MBR): the maximum bit rate that can be expected to be
provided by a GBR bearer. MBR can be greater or equal to the GBR.
Each APN access, by a UE, is associated with the following QoS parameter:
\- per APN Aggregate Maximum Bit Rate (APN-AMBR).
Each UE in state EMM-REGISTERED is associated with the following bearer
aggregate level QoS parameter:
\- per UE Aggregate Maximum Bit Rate (UE-AMBR).
The definitions of APN AMBR and UE-AMBR are captured in [17].
The GBR and MBR denotes bit rate of traffic per bearer while UE-AMBR/APN-AMBR
denote bit rate of traffic per group of bearers. Each of those QoS parameters
has an uplink and a downlink component.
## 13.3 QoS support in Hybrid Cells
The following principles apply to serving non CSG members and CSG members of a
Hybrid Cell:
Note: The term \"eNB\" in this section applies to HeNBs (as described in
Â§4.6.1), as well as eNBs (as denoted in the basic E-UTRAN architecture in
Figure 4-1).
\- When the UE connects to a Hybrid Cell, the MME shall inform the eNB serving
this Hybrid Cell whether the UE is a member or not of the CSG associated with
this Hybrid Cell;
\- Based on CSG membership, the offered QoS for UEs served by this Hybrid Cell
may be modified as follows:
\- The eNB serving this Hybrid Cell may distinguish between a CSG member and
non-member when determining whether to handover a UE, which GBR bearers to
admit and which GBR bearers to deactivate;
\- The eNB serving this Hybrid Cell may distinguish between a CSG member and
non-member for handover and packet scheduling on Uu interface (including
reduced QoS) of non-GBR bearers.
# 14 Security
## 14.1 Overview and Principles
The following principles apply to E-UTRAN security:
\- The keys used for NAS and AS protection shall be dependent on the algorithm
with which they are used.
\- The eNB keys are cryptographically separated from the EPC keys used for NAS
protection (making it impossible to use the eNB key to figure out an EPC key).
\- The AS (RRC and UP) and NAS keys are derived in the EPC/UE from key
material that was generated by a NAS (EPC/UE) level AKA procedure (K~ASME~)
and identified with a key identifier (KSI~ASME~).
\- The eNB key (K~eNB~) is sent from the EPC to the eNB when the UE is
entering ECM-CONNECTED state (i.e. during RRC connection or S1 context setup).
\- Separate AS and NAS level security mode command procedures are used. AS
level security mode command procedure configures AS security (RRC and user
plane) and NAS level security mode command procedure configures NAS security.
Both integrity protection and ciphering for RRC are activated within the same
AS SMC procedure. User plane ciphering is activated at the same time as RRC
ciphering.
\- Keys stored inside eNBs shall never leave a secure environment within the
eNB (except when done in accordance with this or other 3GPP specifications),
and user plane data ciphering/deciphering shall take place inside the secure
environment where the related keys are stored.
\- Key material for the eNB keys is sent between the eNBs during ECM-CONNECTED
intra-E-UTRAN mobility.
\- A sequence number (COUNT) is used as input to the ciphering and integrity
protection. A given sequence number must only be used once for a given eNB key
(except for identical re-transmission) on the same radio bearer in the same
direction. The same sequence number can be used for both ciphering and
integrity protection.
\- A hyper frame number (HFN) (i.e. an overflow counter mechanism) is used in
the eNB and UE in order to limit the actual number of sequence number bits
that is needed to be sent over the radio. The HFN needs to be synchronized
between the UE and eNB.
\- If corruption of keys is detected, UE has to restart radio level attachment
procedure (e.g. similar radio level procedure to idle-to-connected mode
transition or initial attachment).
\- No integrity protection initialisation number (FRESH).
\- Since SIM access is not granted in E-UTRAN TS 33.401 [22] except for making
IMS Emergency calls, idle mode UE not equipped with USIM shall not attempt to
reselect to E-UTRAN unless it is originating an IMS Emergency call. The RNC
may try to prevent handover to E-UTRAN for example by identifying a SIM based
UE from the security keys provided by the CN.
A simplified key derivation is depicted on Figure 14.1-1 below, where:
**\- K~NASint~** is a key, which shall only be used for the protection of NAS
traffic with a particular integrity algorithm This key is derived by UE and
MME from K~ASME\ ,~ as well as an identifier for the integrity algorithm.
**\- K~NASenc~** is a key, which shall only be used for the protection of NAS
traffic with a particular encryption algorithm. This key is derived by UE and
MME from K~ASME,~ as well as an identifier for the encryption algorithm.
**\- K~eNB~** is a key derived by UE and MME from K~ASME~. K~eNB~ may also be
derived by the target eNB from NH at handover. K~eNB~ shall be used for the
derivation of K~RRCint~, K~RRCenc~ and K~UPenc~, and for the derivation of
K~eNB***** ~ upon handover.
\- **K~eNB*~** is a key derived by UE and source eNB from either K~eNB~ or
from a fresh NH. K~eNB*~ shall be used by UE and target eNB as a new K~eNB~
for RRC and UP traffic.
**\- K~UPenc~** is a key, which shall only be used for the protection of UP
traffic with a particular encryption algorithm. This key is derived by UE and
eNB from K~eNB~, as well as an identifier for the encryption algorithm.
**\- K~RRCint\ ~** is a key, which shall only be used for the protection of
RRC traffic with a particular integrity algorithm. **K~RRCint~** is derived by
UE and eNB from K~eNB~, as well as an identifier for the integrity algorithm.
> **\- K~RRCenc\ ~** is a key, which shall only be used for the protection of
> RRC traffic with a particular encryption algorithm. K~RRCenc~ is derived by
> UE and eNB from K~eNB~ as well as an identifier for the encryption
> algorithm.
\- Next Hop (**NH**) is used by UE and eNB in the derivation of K~eNB*~ for
the provision of \"forward security\" [22]. NH is derived by UE and MME from
K~ASME~ and K~eNB~ when the security context is established, or from K~ASME~
and previous NH, otherwise.
\- Next Hop Chaining Count (**NCC**) is a counter related to NH (i.e. the
amount of Key chaining that has been performed) which allow the UE to be
synchronised with the eNB and to determine whether the next **K~eNB*~** needs
to be based on the current K~eNB~ or a fresh NH.
Figure 14.1-1: Key Derivation
The MME invokes the AKA procedures by requesting authentication vectors to the
HE (Home environment) if no unused EPS authentication vectors have been
stored. The HE sends an authentication response back to the MME that contains
a fresh authentication vector, including a base-key named K~ASME~. Thus, as a
result of an AKA run, the EPC and the UE share K~ASME~. From K~ASME~, the NAS
keys, (and indirectly) K~eNB~ keys and NH are derived. The K~ASME~ is never
transported to an entity outside of the EPC, but K~eNB~ and NH are transported
to the eNB from the EPC when the UE transitions to ECM-CONNECTED. From the
K~eNB~, the eNB and UE can derive the UP and RRC keys.
RRC and UP keys are refreshed at handover. K~eNB*~ is derived by UE and source
eNB from target PCI, target frequency and K~eNB~ (this is referred to as a
_horizontal_ key derivation and is indicated to UE with an NCC that does not
increase) or from target PCI, target frequency and NH (this is referred to as
a _vertical_ key derivation and is indicated to UE with an NCC increase).
K~eNB*~ is then used as new K~eNB~ for RRC and UP traffic at the target. When
the UE goes into ECM-IDLE all keys are deleted from the eNB.
COUNT reusing avoidance for the same radio bearer identity in RRC_CONNECTED
mode without K~eNB~ change is left to eNB implementation e.g. by using intra-
cell handover, smart management of radio bearer identities or triggering a
transition to RRC_IDLE.
In case of HFN de-synchronisation in RRC_CONNECTED mode between the UE and
eNB, the UE is pushed to IDLE.
## 14.2 Security termination points
The table below describes the security termination points.
Table 14.2-1 Security Termination Points
+----------------------+----------------------+----------------------+ | | > Ciphering | > Integrity | | | | > Protection | +----------------------+----------------------+----------------------+ | > NAS Signalling | > Required and | > Required and | | | > terminated in MME | > terminated in MME | +----------------------+----------------------+----------------------+ | > U-Plane Data | > Required and | > Not Required\ | | | > terminated in eNB | > (NOTE 1) | +----------------------+----------------------+----------------------+ | > RRC Signalling | > Required and | > Required and | | > (AS) | > terminated in eNB | > terminated in eNB | +----------------------+----------------------+----------------------+ | > MAC Signalling | > Not required | > Not required | | > (AS) | | | +----------------------+----------------------+----------------------+ | > NOTE 1: Integrity | | | | > protection for | | | | > U-Plane is not | | | | > required and thus | | | | > it is not | | | | > supported between | | | | > UE and Serving | | | | > Gateway or for the | | | | > transport of user | | | | > plane data between | | | | > eNB and Serving | | | | > Gateway on S1 | | | | > interface. | | | +----------------------+----------------------+----------------------+
## 14.3 State Transitions and Mobility
### 14.3.1 RRC_IDLE to RRC_CONNECTED
As a general principle, on RRC_IDLE to RRC_CONNECTED transitions, RRC
protection keys and UP protection keys shall be generated while keys for NAS
protection as well as higher layer keys are assumed to be already available in
the MME. These higher layer keys may have been established in the MME as a
result of an AKA run, or as a result of a transfer from another MME during
handover or idle mode mobility [22].
### 14.3.2 RRC_CONNECTED to RRC_IDLE
On RRC_CONNECTED to RRC_IDLE transitions, eNBs shall delete the keys they
store such that state for idle mode UEs only has to be maintained in MME. It
is also assumed that eNB does no longer store state information about the
corresponding UE and deletes the current keys from its memory. In particular,
on connected to idle transitions:
\- The eNB and UE deletes NH, K~eNB~ , K~RRCenc~ , K~RRCint~ and K~UPenc~ and
related NCC.
\- MME and UE keeps K~ASME~, K~NASint~ and K~NASenc~ stored.
### 14.3.3 Intra E-UTRAN Mobility
The key hierarchy does not allow, as is, explicit RRC and UP key updates, but
RRC and UP keys are derived based on the algorithm identifiers and K~eNB~
which results with new RRC and UP keys at every handover:
\- Source eNB and UE independently create K~eNB*~ with the input parameters as
described in 3GPP TS 33.401 [22];
\- K~eNB*~ is given to Target eNB during the HO preparation phase;
\- Both Target eNB and UE considers the new K~eNB~ equal to the received
K~eNB*~.
The handling of HFN and PDCP SN at handover depends on the type of radio
bearer:
> \- SRB: HFN and PDCP SN are reset.
>
> \- RLC-UM bearers: HFN and PDCP SN are reset.
>
> \- RLC-AM bearers: PDCP SN and HFN are maintained (10.1.2.3).
>
> NOTE: COUNT reusing avoidance is left to network implementation.
## 14.4 AS Key Change in RRC_CONNECTED
If AS Keys (K~UPenc\ ,~ K~RRCint~ and K~RRCenc~) need to be changed in
RRC_CONNECTED, an intra-cell handover shall be used.
## 14.5 Security Interworking
Inter-RAT handover from UTRAN to E-UTRAN is only supported after activation of
integrity protection in UTRAN. Security may be activated in the target RAN
using null ciphering algorithms. If ciphering was not running in UTRAN, it
will be activated at handover to E-UTRAN. Integrity protection shall be
activated in E-UTRAN on handover from UTRAN/GERAN.
For E-UTRAN to UTRAN/GERAN mobility, the MME shall derive and transfer to the
SGSN a confidentially key and an integrity key derived from K~ASME~ and other
input parameters as specified in 3GPP TS 33.401 [22]. Based on this
information, the SGSN can in turn derive appropriate keys to be used in the
target RAN.
Similarly for UTRAN/GERAN to E-UTRAN mobility, the SGSN shall derive and
transfer to the MME a confidentially key and an integrity key CK and IK. Based
on this information and other input parameters as specified in 3GPP TS 33.401
[22], the MME and UE can in turn derive K~ASME~.
## 14.6 RN integrity protection for DRB(s)
Between the DeNB and the RN, integrity protection is required for the DRB(s)
carrying S1AP and/or X2AP signalling and optional for other DRB(s).
K~UPint~, used for the integrity protection of the DRBs, is derived by the RN
and the DeNB from KeNB, as well as an identifier for the integrity algorithm
used as specified in 3GPP TS 33.401 [22]. K~UPint~ is generated, changed or
deleted when other AS keys are generated, changed or deleted.
# 15 MBMS
For MBMS, the following definitions are introduced:
**MBSFN Synchronization Area** : an area of the network where all eNodeBs can
be synchronized and perform MBSFN transmissions. MBSFN Synchronization Areas
are capable of supporting one or more MBSFN Areas. On a given frequency layer,
a eNodeB can only belong to one MBSFN Synchronization Area. MBSFN
Synchronization Areas are independent from the definition of MBMS Service
Areas
**MBSFN Transmission or a transmission in MBSFN mode** : a simulcast
transmission technique realised by transmission of identical waveforms at the
same time from multiple cells. An MBSFN Transmission from multiple cells
within the MBSFN Area is seen as a single transmission by a UE.
**MBSFN Area** : an MBSFN Area consists of a group of cells within an MBSFN
Synchronization Area of a network, which are co-ordinated to achieve an MBSFN
Transmission. Except for the MBSFN Area Reserved Cells, all cells within an
MBSFN Area contribute to the MBSFN Transmission and advertise its
availability. The UE may only need to consider a subset of the MBSFN areas
that are configured, i.e. when it knows which MBSFN area applies for the
service(s) it is interested to receive.
Figure 15-1: MBMS Definitions
**MBSFN Area Reserved Cell** : A cell within a MBSFN Area which does not
contribute to the MBSFN Transmission. The cell may be allowed to transmit for
other services but at restricted power on the resource allocated for the MBSFN
transmission.
**Synchronisation Sequence** : Each SYNC PDU contains a time stamp which
indicates the start time of the synchronisation sequence. For an MBMS service,
each synchronisation sequence has the same duration which is configured in the
BM-SC and the MCE.
**Synchronisation Period** : The synchronisation period provides the time
reference for the indication of the start time of each synchronisation
sequence. The time stamp which is provided in each SYNC PDU is a relative
value which refers to the start time of the synchronisation period. The
duration of the synchronisation period is configurable.
## 15.1 General
In E-UTRAN, MBMS can be provided with single frequency network mode of
operation (MBSFN) only on a frequency layer shared with non-MBMS services (set
of cells supporting both unicast and MBMS transmissions i.e. set of
\"MBMS/Unicast-mixed cells\").
MBMS reception is possible for UEs in RRC_CONNECTED or RRC_IDLE states.
Whenever receiving MBMS services, a user shall be notified of an incoming
call, and originating calls shall be possible. ROHC is not supported for MBMS.
RNs do not support MBMS.
### 15.1.1 E-MBMS Logical Architecture
Figure 15.1.1-1: E-MBMS Logical Architecture
Figure 15.1.1-1 depicts the E-MBMS Logical Architecture.
**Multi-cell/multicast Coordination Entity (MCE)**
The MCE is a logical entity -- this does not preclude the possibility that it
may be part of another network element -- whose functions are:
\- the admission control and the allocation of the radio resources used by all
eNBs in the MBSFN area for multi-cell MBMS transmissions using MBSFN
operation. The MCE decides not to establish the radio bearer(s) of the new
MBMS service(s) if the radio resources are not sufficient for the
corresponding MBMS service(s) or may pre-empt radio resources from other radio
bearer(s) of ongoing MBMS service(s) according to ARP. Besides allocation of
the time/ frequency radio resources this also includes deciding the further
details of the radio configuration e.g. the modulation and coding scheme.
\- counting and acquisition of counting results for MBMS service(s).
\- resumption of MBMS session(s) within MBSFN area(s) based on e.g. the ARP
and/or the counting results for the corresponding MBMS service(s).
\- suspension of MBMS session(s) within MBSFN area(s) based e.g. the ARP
and/or on the counting results for the corresponding MBMS service(s).
The MCE is involved in MBMS Session Control Signalling. The MCE does not
perform UE - MCE signalling.
When the MCE is part of another network element, an eNB is served by a single
MCE.
**E-MBMS Gateway (MBMS GW)**
The MBMS GW is a logical entity -- this does not preclude the possibility that
it may be part of another network element -- that is present between the BMSC
and eNBs whose principal functions is the sending/broadcasting of MBMS packets
to each eNB transmitting the service. The MBMS GW uses IP Multicast as the
means of forwarding MBMS user data to the eNB. The MBMS GW performs MBMS
Session Control Signalling (Session start/stop) towards the E-UTRAN via MME.
**Control Plane Interfaces**
**_"M3" Interface: MCE -- MME_**
An Application Part is defined for this interface between MME and MCE. This
application part allows for MBMS Session Control Signalling on E-RAB level
(i.e. does not convey radio configuration data). The procedures comprise e.g.
MBMS Session Start and Stop. SCTP is used as signalling transport i.e. Point-
to-Point signalling is applied.
**_"M2" Interface: MCE -- eNB_**
An Application Part is defined for this interface, which conveys at least
radio configuration data for the multi-cell transmission mode eNBs and Session
Control Signalling. SCTP is used as signalling transport i.e. Point-to-Point
signalling is applied.
**User Plane Interface**
**_"M1" Interface: MBMS GW -- eNB_**
This interface is a pure user plane interface. Consequently no Control Plane
Application Part is defined for this interface. IP Multicast is used for
point-to-multipoint delivery of user packets.
**Deployment consideration**
The two envisaged alternatives are shown in Figure 15.1.1-2.
The architecture on the right part is defined as the \"distributed MCE
architecture\". In this architecture, a MCE is part of the eNB and the M2
interface should be kept between the MCE and the corresponding eNB.
The architecture on the left part is defined as the \"centralized MCE
architecture\". In this architecture, the MCE is a logical entity which means
it can be deployed as a stand-alone physical entity or collocated in another
physical entity e g eNB. In both cases of the centralized MCE architecture,
the M2 interface is kept between the MCE and all eNB(s) belonging to the
corresponding MBSFN area.
**Figure 15.1.1-2: eMBMS Architecture deployment alternatives**
### 15.1.2 E-MBMS User Plane Protocol Architecture
The overall U-plane architecture of content synchronization is shown in Figure
15.1.2-1. This architecture is based on the functional allocation for Unicast
and the SYNC protocol layer is defined additionally on transport network layer
to support content synchronization mechanism.
Figure 15.1.2-1: The overall u-plane architecture of the MBMS content
synchronization
The SYNC protocol is defined as a protocol to carry additional information
that enable eNBs to identify the timing for radio frame transmission and
detect packet loss. Every E-MBMS service uses its own SYNC entity. The SYNC
protocol is applicable to DL and is terminated in the BM-SC.
### 15.1.3 E-MBMS Control Plane Protocol Architecture
The E-MBMS C-plane protocol architecture is shown in Figure 15.1.3-1.
**Figure 15.1.3-1: The E-MBMS c-plane architecture**
MCCH is terminated in the eNB on the network side. How to achieve the
synchronisation of MCCH signalling is described in subclause 15.3.8.
## 15.2 MBMS Cells
### 15.2.1 MBMS-dedicated cell
Void
### 15.2.2 MBMS/Unicast-mixed cell
In E-UTRAN, MBMS is only supported in a carrier shared with unicast traffic.
Cells performing MBMS transmissions are referred to as MBMS/Unicast-mixed
cells. MBMS is not supported for HeNB.
For MBMS/Unicast mixed cells:
\- MTCH and MCCH are mapped on MCH for p-t-m transmission;
\- Transmission of both unicast and MBMS in the cell is done in a co-ordinated
manner.
## 15.3 MBMS Transmission
### 15.3.1 General
Void.
### 15.3.2 Single-cell transmission
Void.
### 15.3.3 Multi-cell transmission
Multi-cell transmission of MBMS is characterized by:
\- Synchronous transmission of MBMS within its MBSFN Area;
\- Combining of MBMS transmission from multiple cells is supported;
\- Scheduling of each MCH is done by the MCE;
\- A single transmission is used for MCH (i.e. neither blind HARQ repetitions
nor RLC quick repeat);
\- A single Transport Block is used per TTI for MCH transmission, that TB uses
all the MBSFN resources in that subframe;
\- MTCH and MCCH can be multiplexed on the same MCH and are mapped on MCH for
p-t-m transmission;
\- MTCH and MCCH use the RLC-UM mode;
\- The MAC subheader indicates the LCID for MTCH and MCCH;
\- The MBSFN Synchronization Area, the MBSFN Area, and the MBSFN cells are
semi-statically configured e.g. by O&M
\- MBSFN areas are static, unless changed by O&M (i.e. no dynamic change of
areas);
NOTE: The UE is not required to receive services from more than one MBSFN Area
simultaneously and may support only a limited number of MTCHs.
Multiple MBMS services can be mapped to the same MCH and one MCH contains data
belonging to only one MBSFN Area. An MBSFN Area contains one or more MCHs. An
MCH specific MCS is used for all subframes of the MCH that do not use the MCS
indicated in BCCH. All MCHs have the same coverage area.
For MCCH and MTCH, the UE shall not perform RLC re-establishment at cell
change between cells of the same MBSFN area. Within the MBSFN subframes, all
MCHs within the same MBSFN area occupy a pattern of subframes, not necessarily
adjacent in time, that is common for all these MCHs and is therefore called
the Common Subframe Allocation (CSA) Pattern. The CSA pattern is periodically
repeated with the CSA period. The actual MCH subframe allocation (MSA) for
every MCH carrying MTCH is defined by the CSA pattern, the CSA period, and the
MSA end, that are all signalled on MCCH. The MSA end indicates the last
subframe of the MCH within the CSA period. Consequently, the MCHs are time
multiplexed within the CSA period, which finally defines the interleaving
degree between the MCHs. It shall be possible for MCHs to not use all MBSFN
resources signalled as part of the Rel-8 MBSFN signalling. Further, such MBSFN
resource can be shared for more than one purpose (MBMS, Positioning, etc.).
During one MCH scheduling period (MSP), which is configurable per MCH, the eNB
applies MAC multiplexing of different MTCHs and optionally MCCH to be
transmitted on this MCH.
MCH scheduling information (MSI) is provided per MCH to indicate which
subframes are used by each MTCH during the MSP. The following principles are
used for the MSI:
  * it is used both when services are multiplexed onto the MCH and when only a single service is transmitted on the MCH;
  * it is generated by the eNB and provided once at the beginning of the MSP;
  * it has higher scheduling priority than the MCCH and, when needed, it appears first in the PDU;
  * it allows the receiver to determine what subframes are used by every MTCH, sessions are scheduled in the order in which they are included in the MCCH session list;
  * it is carried in a MAC control element which cannot be segmented;
  * it carries the mapping of MTCHs to the subframes of the associated MSP. This mapping is based on the indexing of subframes belonging to one MSP.
The content synchronization for multi-cell transmission is provided by the
following principles:
1\. All eNBs in a given MBSFN Synchronization Area have a synchronized radio
frame timing such that the radio frames are transmitted at the same time and
have the same SFN.
2\. All eNBs have the same configuration of RLC/MAC/PHY for each MBMS service,
and identical information (e.g. time information, transmission order/priority
information) such that synchronized MCH scheduling in the eNBs is ensured.
These are indicated in advance by the MCE.
3\. An E-MBMS GW sends/broadcasts MBMS packet with the SYNC protocol to each
eNB transmitting the service.
4\. The SYNC protocol provides additional information so that the eNBs
identify the transmission radio frame(s). The E-MBMS GW does not need accurate
knowledge of radio resource allocation in terms of exact time division (e.g.
exact start time of the radio frame transmission).
5\. eNB buffers MBMS packet and waits for the transmission timing indicated in
the SYNC protocol.
6\. The segmentation/concatenation is needed for MBMS packets and should be
totally up to the RLC/MAC layer in eNB.
7\. The SYNC protocol provides means to detect packet loss(es) and supports a
recovery mechanism robust against loss of consecutive PDU packets (MBMS
Packets with SYNC Header).
8\. For the packet loss case the transmission of radio blocks potentially
impacted by the lost packet should be muted.
9\. The mechanism supports indication or detection of MBMS data burst
termination (e.g. to identify and alternately use available spare resources
related to pauses in the MBMS PDU data flow).
10\. If two or more consecutive SYNC SDUs within a SYNC bearer are not
received by the eNB, or if no SYNC PDUs of Type 0 or 3 are received for some
synchronization sequence, the eNB may mute the exact subframes impacted by
lost SYNC PDUs using information provided by SYNC protocol. If not muting only
those exact subframes, the eNB stops transmitting the associated MCH from the
subframe corresponding to the consecutive losses until the end of the
corresponding MSP and it does not transmit in the subframe corresponding to
the MSI of that MSP.
11\. The eNB sets VT(US) to zero in the RLC UM entity corresponding to an
MCCHat its modification period boundary.
12\. The eNB sets VT(US) to zero in each RLC UM entity corresponding to an
MTCH at the beginning of its MSP.
13\. The eNB sets every bit in the MAC padding on MCH to \"0\".
14\. The eNB's RLC concatenates as many RLC SDUs from the same radio bearer as
possible.
15\. The eNB's MAC multiplexes as many RLC PDUs as fit in the Transport Block.
16\. The eNB sets every padding bit in the RLC UM PDU corresponding to an MTCH
or MCCH to \"0\".
### 15.3.4 MBMS Reception States
UEs that are receiving MTCH transmissions can be in RRC_IDLE or RRC_CONNECTED
state.
### 15.3.5 MCCH Structure
The following principles govern the MCCH structure:
\- One MBSFN Area is associated with one MCCH and one MCCH corresponds to one
MBSFN Area;
\- The MCCH is sent on MCH;
\- MCCH consists of a single MBSFN Area configuration RRC message which lists
all the MBMS services with ongoing sessions and an optional MBMS counting
request message which, when present, comes after the former message in the
repetition period;
\- MCCH is transmitted by all cells within an MBSFN Area, except the MBSFN
Area Reserved Cells;
\- MCCH is transmitted by RRC every MCCH repetition period;
\- MCCH uses a modification period;
\- A notification mechanism is used to announce changes of MCCH due to either
Session Start or the presence of an MBMS counting request message;
\- The notification is sent periodically throughout the modification period
preceding the change of MCCH, in MBSFN subframes configured for notification;
\- The DCI format 1C with M-RNTI is used for notification and includes an
8-bit bitmap to indicate the one or more MBSFN Area(s) in which the MCCH
change(s);
\- The UE monitors more than one notification subframe per modification
period;
\- When the UE receives a notification, it acquires the MCCH at the next
modification period boundary;
\- The UE detects changes to MCCH which are not announced by the notification
mechanism by MCCH monitoring at the modification period.
### 15.3.6 MBMS signalling on BCCH
\- BCCH only points to the resources where the MCCH(s) can be found i.e. it
does not indicate the availability of the services;
\- For each MCCH, BCCH indicates independently:
\- the scheduling of the MCCH for multi-cell transmission on MCH;
\- the MCCH modification period, repetition period radio frame offset and
subframe allocation;
\- an MCS which applies to the subframes indicated for MCCH scheduling and for
the first subframe of all MSPs in that MBSFN Area.
\- For the notification commonly used for all MCCH, BCCH:
\- configures the position of the MCCH change notification subframe and the
number of occasions monitored by the UE.
\- indicates the mapping between the PDCCH bit(s) carried in the notification
and the MCCH(s).
### 15.3.7 MBMS User Data flow synchronisation
The synchronised radio interface transmission from the cells controlled by
different eNBs requires a SYNC-protocol support between the BM-SC and the
eNBs.
As part of the SYNC-protocol procedures the BM-SC shall include within the
SYNC PDU packets a time stamp which tells the timing based on which the eNB
sends MBMS data over the air interface. This time stamp is based on a common
time reference, and common start of the first synchronisation period available
at the BM-SC and the concerned eNBs and represents a relative time value which
refers to the start time of the synchronisation period.
The BM-SC shall set the timestamp of all SYNC PDU packets in one
synchronisation sequence of an MBMS service to the same value. The BM-SC
should take into account the following factors for setting the timestamp:
arrival time of data, the Maximum Transmission Delay from the BM-SC to the
farthermost eNB, the length of the synchronisation sequence used for time
stamping and other extra delay (e.g. processing delay in the eNB). The MSP
length is one or multiple times of the synchronisation sequence length for
MBMS services in the MCH.
MBMS user data shall be time-stamped based on separable synchronisation
sequences which are tied to multiples of the TTI length. Each synchronisation
sequence for each service is denoted by a single timestamp value working in
such a manner that an increase of the timestamp value by one or more
synchronisation sequence lengths shall be interpreted as an implicit start-of-
a-new-synchronisation-sequence-indicator, so that the eNB becomes aware that a
new sequence is starting.
The BM-SC does not know the absolute time point at which a TTI starts, but the
sequence length for the time stamp is set by O&M like the delay parameters.
The BM-SC will use the delay parameters to define the transmission time point
of that user data packet and for the following user data packets the sequence
length for the time stamp: following user data packets arriving within e.g.
40ms will receive the same time stamp value as the first data packet, if the
sequence length is set to be 40 ms.
The eNB shall schedule the received data packets in the first MSP following
the time point indicated by the timestamp unless the MBMS service is
suspended, in which case no packet shall be sent by eNB. When a suspended MBMS
service is resumed, the eNB shall enable the transmission from the beginning
of the Modification Period indicated by the _MCCH Update Time_.
The elementary procedures related to the SYNC-protocol are defined in [36].
Based on the parameters in the SYNC Header (e.g. Timestamp, Packet Number,
Elapsed Octet Counter), the eNB is able to derive the timing for downlink
radio transmission and notice if any SYNC packets are lost during transmission
from BM-SC to the eNB. The eNB is also able to know the size of the lost SYNC
packet in case a single SYNC packet is lost. Furthermore, the eNB may also be
able to know the sizes of each lost SYNC packet if multiple consecutive SYNC
packets are lost. Additionally the eNB is able to reorder the PDUs before
passing them to RLC processing, if needed.
At the end of each synchronisation sequence the BM-SC shall send to the eNBs a
user data frame, which contains counter information including \'_Total Number
Of Packet Counter_ \' and \'_Total Number Of Octet_ \' without MBMS payload.
This _Total Counter_ frame is implicitly marking the end-of-sync.seq.. The
_Total Counter_ frame without payload may be repeated in order to improve the
reliability of the delivery to the eNBs.
In case the SYNC protocol delivers more data for an MCH than the air interface
can transport in the scheduling period, the following procedure shall be used
by the eNB. As long as the eNB must drop a packet because it has too much data
for this MCH scheduling period, it does the following,
\- select the last bearer according to the order in the MCCH list with a SYNC
SDU available for dropping;
\- for the selected bearer, drop the available SYNC SDU with the highest
Packet Number among the SYNC SDUs with the latest Timestamp.
A SYNC SDU is considered available for dropping when the eNB knows its size
and it has not been dropped by the eNB.
### 15.3.8 Synchronisation of MCCH Update Signalling via M2
The synchronised radio interface transmission from the cells controlled by
different eNBs require means to ensure that the MCCH content is updated at the
same modification period border in each cell belonging to the same MBSFN Area.
The MCE and the concerned eNBs maintain a common time reference which allows
each node to be aware of the modification period boundary within an MBSFN
Area. In addition, each node maintains a counter of modification periods which
is incremented by one at each modification period boundary. This counter which
is based on common start of the first MCCH modification period, allows the MCE
to indicate to the eNBs at which modification period the MCCH update shall
take place. The MCE shall ensure that it starts to inform all eNBs within the
MBSFN Area well in advance. In case of the simultaneously change of the MCCH
information and the MCCH related BCCH information, the eNB may use this
counter to decide after which BCCH modification period the MCCH related BCCH
information update takes place.
### 15.3.9 IP Multicast Distribution
To improve the transport efficiency the IP Multicast shall be used for the
MBMS payload distribution in the backbone network between the MBMS-GW and the
eNBs that have joined the IP Multicast Group.
The MBMS-GW allocates the Transport Layer Address used for the IP multicast
and the DL TEID used for the M1 Transport association. The MBMS-GW sends this
information to the MME(s) during the Session Start and, if needed, during
Session Update procedures . The MCE(s) shall receive these parameters from the
MME in the MBMS Session Start Request message and pass them to the relevant
eNBs. The MCE may also receive these parameters in the MBMS Session Update
message as part of the MBMS session attributes, and pass them to the relevant
eNBs via the MBMS Session Start procedure or the MBMS Session Update
procedure.
If the eNB accepts the MBMS Session Start request, or if it is required
following the acceptance of the MBMS Session Update request, the eNB shall
join the channel (IP Multicast and Source address) to the backbone in order to
join the bearer service multicast distribution.
The MBMS payload is forwarded by the MBMS-GW towards the IP Multicast address.
The eNBs having joined that IP Multicast address will receive the user data
packets (SYNC PDU) together with the synchronisation-related information in
header part of SYNC PDU.
## 15.4 Service Continuity
UEs that are receiving MBMS service(s) in RRC_IDLE state performing cell
reselection or are in RRC_CONNECTED state obtain target cell MTCH information
from the target cell MCCH. Mechanisms to deliver MCCH to UE via handover
command are not supported.
MBMS does not affect unicast mobility procedures and going from one MBSFN area
to another is left up to UE implementation. No new information is provided to
help the UE in switching reception between MBSFNs, but the frequency layer
which carries the MBSFN transmission may be set to a high priority to help
service continuity in RRC_IDLE.
No AS level mechanism for service continuity will be defined for mobility
outside cells belonging to the MBSFN area, such as HeNB.
## 15.5 Network sharing
Network sharing of MBMS resources among multiple operators of the same country
is supported, with focus on, but not limited to, sharing of a dedicated-
carrier MBSFN. MBMS network sharing shall not require unicast network sharing.
Unicast mobility shall not be affected by the sharing of MBMS resources by
operators.
NOTE: it is FFS whether this is based on dual-receiver solutions.
## 15.6 Network Functions for Support of Multiplexing
Considerable gain in radio resource efficiency can be achieved by multiplexing
several E-MBMS services on a single MCH. The services that share the resources
are called E-MBMS Service Multiplex. The amount of common radio resources
allocated to such an E-MBMS Service Multiplex can be smaller than the sum of
radio resources, which would need to be allocated for the individual services
without multiplexing. This represents the statistical multiplexing gain.
The MCE manages the E-MBMS Service Multiplex e.g. deciding which services are
to be multiplexed on which MCH. The duration of each E-MBMS service may be
different, so there is a need to manage the Service Multiplex dynamically,
i.e. addition or removal of services into/from the E-MBMS Service Multiplex.
The MCE allocates the optimal amount of resources to multiplexed services,
using service related information. The MCE selects the CSA pattern for the
MCHs and also the order in which the services appear in the MCCH. MBSFN
transmission is ensured by identical multiplexing of the services within the
MBMS-GW or different eNBs. The location of the multiplexing function is in the
eNB MAC layer.
These functions are supported by respective signalling information on M2
interface and by the SYNC protocol on M1. This scheduling information is sent
to all eNBs via the M2 interface procedure \"MBMS Scheduling Information\".
Figure 15.6.1 MBMS Scheduling Information procedure message flow on M2
interface
## 15.7 Procedures
### 15.7.1 Procedures for Broadcast mode
#### 15.7.1.1 Session Start procedure
The purpose of the MBMS Session Start procedure is to request the E-UTRAN to
notify UEs about an upcoming MBMS Session of a given MBMS Bearer Service and
to establish an MBMS E-RAB for this MBMS Session. The MBMS Session Start
procedure is triggered by the EPC.
Figure 15.7.1.1-1. Session Start procedure
1\. The MME sends MBMS session start request message to the MCE(s) controlling
eNBs in the targeted MBMS service area. The message includes the IP multicast
address, session attributes and the minimum time to wait before the first data
delivery.
2\. MCE checks whether the radio resources are sufficient for the
establishment of new MBMS service(s) in the area it controls. If not, MCE
decides not to establish the radio bearers of the MBMS service(s) and does not
forward the MBMS session start request message to the involved eNBs, or may
pre-empt radio resources from other radio bearer(s) of ongoing MBMS service(s)
according to ARP. The MCE confirms the reception of the MBMS Session Start
request to the MME. This message can be transmitted before the step 4.
3\. MCE sends the MBMS Session Start message to the eNBs in the targeted MBMS
service area.
NOTE: When to send the MBMS Session Start message from MCE to eNB according to
the minimum time to wait indication is an MCE implementation issue.
4\. eNB confirms the reception of the MBMS Session Start message.
5\. eNB indicates MBMS session start to UEs by MCCH change notification and
updated MCCH information which carries the MBMS service's configuration
information.
6\. eNB joins the IP multicast group to receive the MBMS User Plane data.
7\. eNB sends the MBMS data to radio interface at the determined time.
#### 15.7.1.2 Session Stop procedure
The MBMS Session Stop procedure is to request the E-UTRAN to notify UEs about
the end of a given MBMS Session and to release the corresponding MBMS E-RAB
this MBMS Session. The MBMS Session Stop procedure is triggered by the EPC.
Figure 15.7.1.2-1. Session Stop procedure
1\. The MME sends MBMS session stop request message to the MCE(s) controlling
eNBs in the targeted MBMS service area.
2\. MCE confirms the reception of the MBMS Session stop request to the MME.
3\. MCE forwards the MBMS Session stop message to the eNBs in the targeted
MBMS service area.
4\. eNB confirms the reception of the MBMS Session stop message.
5\. eNB indicates MBMS session stop to UEs by removing any service
configuration associated with the stopped session from the updated MCCH
message.
6\. The corresponding E-RAB is released, and eNB leaves the IP multicast
group.
## 15.7a M1 Interface
### 15.7a.1 M1 User Plane
The M1 user plane interface is defined between the eNB and the MBMS GW. The M1
user plane interface provides non guaranteed delivery of user plane PDUs
between the eNB and the MBMS GW. The user plane protocol stack on the M1
interface is shown in Figure 15.7a.1-1. The transport network layer is built
on IP transport and GTP-U is used on top of UDP/IP to carry the user plane
PDUs between the eNB and the MBMS GW.
Figure 15.7a.1-1: M1 Interface User Plane (eNB -- MBMS GW)
## 15.8 M2 Interface
### 15.8.1 M2 Control Plane
The M2 control plane interface is defined between the eNB and the MCE. The
control plane protocol stack of the M2 interface is shown on Figure 15.8.1-1.
The transport network layer is built on IP transport, for the reliable
transport of signalling messages SCTP is added on top of IP. The application
layer signalling protocol is referred to as M2AP (M2 Application Protocol).
Figure 15.8.1-1: M2 Interface Control Plane (eNB-MCE)
The SCTP layer provides the guaranteed delivery of application layer messages.
In the transport IP layer point-to-point transmission is used to deliver the
signalling PDUs.
A single SCTP association per eNB-MCE interface instance shall be used with
one pair of stream identifiers for M2 common procedures. Only a few pairs of
stream identifiers should be used for M2 MBMS-service-associated procedures.
eNB and MCE communication context identifiers that are assigned by the eNB and
the MCE for M2 MBMS-service-associated procedures shall be used to distinguish
MBMS service specific M2 signalling transport bearers. The communication
context identifiers are conveyed in the respective M2AP messages.
### 15.8.2 M2 Interface Functions
#### 15.8.2.1 General
The M2 interface provides the following functions:
\- MBMS Session Handling Function:
\- MBMS Session Start, MBMS Session Stop, MBMS Session Update.
\- MBMS Scheduling Information Provision Function.
\- M2 Interface Management Function:
\- Reset, Error Indication.
\- M2 Configuration Function.
\- MBMS Service Counting Function.
\- MBMS Service Suspension and Resumption Function.
#### 15.8.2.2 MBMS Session Handling Function
The MBMS Session Handling Function enables the MCE to provide Session Start,
Session Stop and Session Update messages to the eNBs it is connected to. The
MCE provides MBMS Service Area information to the eNB.
#### 15.8.2.3 MBMS Scheduling Information Provision Function
The MBMS Scheduling Information Provision Function enables the MCE to
configure MCCH content according to the expected or ongoing MBMS services.
#### 15.8.2.4 M2 Interface Management Function
The M2 interface management functions provide:
\- means to ensure a defined start of the M2 interface operation (reset);
\- means to handle different versions of application part implementations and
protocol errors (error indication).
#### 15.8.2.5 M2 Configuration Function
The M2 Configuration Function allows the eNB to exchange with the MCE node
configuration information necessary for operation the M2 interface, and MCCH
related BCCH content.
#### 15.8.2.6 MBMS Service Counting Function
The MBMS Service Counting Function enables the MCE to perform counting and to
receive counting results per MBMS service(s) within MBSFN area(s). MCE can
perform counting only for those MBMS service(s) for which access has not been
denied by the admission control function for the corresponding MBMS
session(s).
#### 15.8.2.7 MBMS Service Suspension and Resumption Function
The MBMS Service Suspension and Resumption Function enables the MCE to request
the eNB that it may release the allocated RAN resources, may leave the IP
multicast if already joined, shall update the MCCH information and shall
suspend the MBSFN transmission while keeping the MBMS context for that service
in the eNB. If the MCE subsequently requests the eNB for resumption, then the
eNB shall allocate the RAN resources, shall send the MCCH change notification,
shall update the MCCH information, shall resume the MBSFN transmission and
shall join IP multicast if previously left. This MBMS Services Suspension and
Resumption function is implemented by the MBMS Scheduling Information
procedure as described in subclause 15.8.3.3.
Suspension/Resumption of MBMS service provision is applied to a whole MBSFN
area.
### 15.8.3 M2 Interface Signalling Procedures
#### 15.8.3.1 General
The elementary procedures supported by the M2AP protocol are listed in Table 2
and Table 3 of TS 36.443 [44].
#### 15.8.3.2 MBMS Session signalling procedure
The MBMS Session signalling procedure enables the MCE to deliver Session
Start, Session Stop and Session Update messages to the concerned eNBs. At
Session Start and Session Update, the MCE provides MBMS Service Area
information to the eNB.
#### 15.8.3.3 MBMS Scheduling Information procedure
The MBMS Scheduling Information procedure enables the MCE to update MCCH
information whenever necessary. Typically, the MCE issues an MBMS Scheduling
Information procedure before user data transmission for an announced MBMS
service starts or after it has ended.
#### 15.8.3.4 M2 Interface Management procedures
##### 15.8.3.4.1 Reset procedure
The Reset procedure is issued in order to re-initialize the peer entity or
part of the peer entity after node setup and after a failure event occurred.
This procedure may be initiated by both the eNB and MCE.
##### 15.8.3.4.2 Error Indication procedure
The Error Indication procedure may be initiated by the eNB and the MCE. It is
used to report detected errors in one incoming message, if an appropriate
failure message cannot be reported to the sending entity.
#### 15.8.3.5 M2 Configuration procedures
##### 15.8.3.5.1 M2 Setup procedure
The M2 Setup procedure allows the exchange of configured data which is
required in the MCE and in the eNB respectively to ensure a proper
interoperation and MCCH related BCCH content. The M2 Setup procedure is
triggered by the eNB. The M2 Setup procedure is the first M2AP procedure
executed on an M2 interface instance.
##### 15.8.3.5.2 eNB Configuration Update procedure
The eNB Configuration Update procedure is used to provide updated configured
data in the eNB and receive MCCH related BCCH content from MCE. The eNB
Configuration Update procedure is triggered by the eNB.
##### 15.8.3.5.3 MCE Configuration Update procedure
The MCE Configuration Update procedure is used to provide updated configured
data in the MCE and tell eNB updated MCCH related BCCH content. The MCE
Configuration Update procedure is triggered by the MCE.
#### 15.8.3.6 MBMS Service Counting procedures
##### 15.8.3.6.1 MBMS Service Counting procedure
The MBMS Service Counting procedure is used to trigger the eNB to count the
number of connected mode UEs that either are receiving the MBMS service(s) or
are interested in the reception of the MBMS service(s).
##### 15.8.3.6.2 MBMS Service Counting Results Report procedure
The MBMS Service Counting Results Report procedure is used by the eNB to
provide the MCE with the number of connected mode UEs that either are
receiving the MBMS service(s) or are interested in the reception of the MBMS
service(s) based on counting performed by the eNB.
## 15.9 M3 Interface
### 15.9.1 M3 Control Plane
The M3 control plane interface is defined between the MME and the MCE. The
control plane protocol stack of the M3 interface is shown on Figure 15.9.1-1.
The transport network layer is built on IP transport, for the reliable
transport of signalling messages SCTP is added on top of IP. The application
layer signalling protocol is referred to as M3AP (M3 Application Protocol).
Figure 15.9.1-1: M3 Interface Control Plane (MME-MCE)
The SCTP layer provides the guaranteed delivery of application layer messages.
In the transport IP layer point-to-point transmission is used to deliver the
signalling PDUs.
A single SCTP association per MME-MCE interface instance shall be used with
one pair of stream identifiers for M3 common procedures. Only a few pairs of
stream identifiers should be used for M3 MBMS-service-associated procedures.
MME and MCE communication context identifiers that are assigned by the MME and
the MCE for M3 MBMS-service-associated procedures shall be used to distinguish
MBMS service specific M3 signalling transport bearers. The communication
context identifiers are conveyed in the respective M3AP messages.
### 15.9.2 M3 Interface Functions
#### 15.9.2.1 General
The M3 interface provides the following functions:
\- MBMS Session Handling Function:
\- MBMS Session Start, MBMS Session Stop, MBMS Session Update.
\- M3 Interface Management Function:
\- Reset, Error Indication.
#### 15.9.2.2 MBMS Session Handling Function
The MBMS Session Handling Function enables the MME to provided Session Start,
Session Stop and Session Update messages to the MCEs it is connected to. The
MME provides respective QoS and MBMS Service Area information to the MCEs.
#### 15.9.2.3 M3 Interface Management Function
The M3 interface management functions provide:
\- means to ensure a defined start of the M3 interface operation (reset);
\- means to handle different versions of application part implementations and
protocol errors (error indication).
### 15.9.3 M3 Interface Signalling Procedures
#### 15.9.3.1 General
The elementary procedures supported by the M3AP protocol are listed in Table
8-1 and Table 8-2 of TS 36.444 [45].
#### 15.9.3.2 MBMS Session signalling procedure
The MBMS Session signalling procedure enables the MME to deliver Session
Start, Session Stop and Session Update messages to the concerned MCEs. At
Session Start and Session Update, the MME provides respective QoS and MBMS
Service Area information to the MCEs.
#### 15.9.3.3 M3 Interface Management procedures
##### 15.9.3.3.1 Reset procedure
The Reset procedure is issued in order to re-initialize the peer entity or
part of the peer entity after node setup and after a failure event occurred.
This procedure may be initiated by both the MME and MCE.
##### 15.9.3.3.2 Error Indication procedure
The Error Indication procedure may be initiated by the MME and the MCE. It is
used to report detected errors in one incoming message, if an appropriate
failure message cannot be reported to the sending entity.
## 15.10 MBMS Counting
### 15.10.1 General
MBMS counting in LTE is used to determine if there are sufficient UEs
interested in receiving a service to enable the operator to decide if it is
appropriate to deliver the service via MBSFN. It allows the operator to choose
between enabling or disabling MBSFN transmission for the service. MBMS
counting applies only to connected mode UEs. Enabling and disabling MBSFN
transmission is realized by MBMS Service Suspension and Resumption function in
subclause 15.8.2.7.
The following principles are used for the MBMS counting:
\- Counting is supported for both a service already provided by MBSFN in an
MBSFN area as well as for a service not yet provided via MBSFN in an MBSFN
area. A service not yet provided via MBSFN in an MBSFN area may be:
\- Service provided via unicast bearer.
\- Service not yet provided either by MBSFN or by unicast.
\- RAN is not aware of MBMS service provisioning through unicast bearers.
### 15.10.2 Counting Procedure
The Counting Procedure is initiated by the network. Initiation of the Counting
Procedure results in a request to each eNB involved in the providing MBSFN
area to send a Counting Request (the Counting Request is included in the
directly extended MCCH message), which contains a list of TMGI\'s requiring UE
feedback. The connected mode UEs which are receiving or interested in the
indicated services will respond with a RRC Counting Response message, which
includes short MBMS service identities (unique within the MBSFN service area)
and may optionally include the information to identify the MBSFN Area (if
overlapping is configured).
The following principles are used for the Counting Procedure:
\- Network has means to disable UE counting per service.
\- The UE is able to report on multiple MBMS services via a single Counting
Response message.
\- It is unnecessary to retransmit the Counting Response when the UE moves
within the same MBSFN area.
\- The network only gets one response from a UE related to one Counting
Request message, which is broadcast for one modification period.
\- The UE can not automatically indicate to network a change of interest in
MBMS service(s).
\- The network counts UE interest per service.
# 16 Radio Resource Management aspects
The purpose of radio resource management (RRM) is to ensure the efficient use
the available radio resources and to provide mechanisms that enable E-UTRAN to
meet radio resource related requirements identified in sub-clause 10 of 3GPP
TR 25.913 [2]. In particular, RRM in E-UTRAN provides means to manage (e.g.
assign, re-assign and release) radio resources taking into account single and
multi-cell aspects.
## 16.1 RRM functions
### 16.1.1 Radio Bearer Control (RBC)
The establishment, maintenance and release of Radio Bearers involve the
configuration of radio resources associated with them. When setting up a radio
bearer for a service, radio bearer control (RBC) takes into account the
overall resource situation in E-UTRAN, the QoS requirements of in-progress
sessions and the QoS requirement for the new service. RBC is also concerned
with the maintenance of radio bearers of in-progress sessions at the change of
the radio resource situation due to mobility or other reasons. RBC is involved
in the release of radio resources associated with radio bearers at session
termination, handover or at other occasions.
RBC is located in the eNB.
### 16.1.2 Radio Admission Control (RAC)
The task of radio admission control (RAC) is to admit or reject the
establishment requests for new radio bearers. In order to do this, RAC takes
into account the overall resource situation in E-UTRAN, the QoS requirements,
the priority levels and the provided QoS of in-progress sessions and the QoS
requirement of the new radio bearer request. The goal of RAC is to ensure high
radio resource utilization (by accepting radio bearer requests as long as
radio resources available) and at the same time to ensure proper QoS for in-
progress sessions (by rejecting radio bearer requests when they cannot be
accommodated).
RAC is located in the eNB.
### 16.1.3 Connection Mobility Control (CMC)
Connection mobility control (CMC) is concerned with the management of radio
resources in connection with idle or connected mode mobility. In idle mode,
the cell reselection algorithms are controlled by setting of parameters
(thresholds and hysteresis values) that define the best cell and/or determine
when the UE should select a new cell. Also, E-UTRAN broadcasts parameters that
configure the UE measurement and reporting procedures. In connected mode, the
mobility of radio connections has to be supported. Handover decisions may be
based on UE and eNB measurements. In addition, handover decisions may take
other inputs, such as neighbour cell load, traffic distribution, transport and
hardware resources and Operator defined policies into account.
CMC is located in the eNB.
### 16.1.4 Dynamic Resource Allocation (DRA) - Packet Scheduling (PS)
The task of dynamic resource allocation (DRA) or packet scheduling (PS) is to
allocate and de-allocate resources (including buffer and processing resources
and resource blocks (i.e. chunks)) to user and control plane packets. DRA
involves several sub-tasks, including the selection of radio bearers whose
packets are to be scheduled and managing the necessary resources (e.g. the
power levels or the specific resource blocks used). PS typically takes into
account the QoS requirements associated with the radio bearers, the channel
quality information for UEs, buffer status, interference situation, etc. DRA
may also take into account restrictions or preferences on some of the
available resource blocks or resource block sets due to inter-cell
interference coordination considerations.
DRA is located in the eNB.
### 16.1.5 Inter-cell Interference Coordination (ICIC)
Inter-cell interference coordination has the task to manage radio resources
such that inter-cell interference is kept under control. ICIC mechanism
includes a frequency domain component and time domain component. ICIC is
inherently a multi-cell RRM function that needs to take into account
information (e.g. the resource usage status and traffic load situation) from
multiple cells. The preferred ICIC method may be different in the uplink and
downlink.
The frequency domain ICIC manages radio resource, notably the radio resource
blocks, such that multiple cells coordinate use of frequency domain resources.
For the time domain ICIC, subframe utilization across different cells are
coordinated in time through backhaul signalling or OAM configuration of so
called Almost Blank Subframe patterns. The Almost Blank Subframes (ABSs) in an
aggressor cell are used to protect resources in subframes in the victim cell
receiving strong inter-cell interference. Almost blank subframes are subframes
with reduced transmit power (including no transmission) on some physical
channels and/or reduced activity. The eNB ensures backwards compatibility
towards UEs by transmitting necessary control channels and physical signals as
well as System Information. Patterns based on ABSs are signalled to the UE to
restrict the UE measurement to specific subframes, called measurement resource
restrictions. There are different patterns depending on the type of measured
cell (serving or neighbour cell) and measurement type (e.g. RRM, RLM). MBSFN
subframes can be used for time domain ICIC when they are also included in ABS
patterns. The eNB cannot configure MBSFN subframes TS 36.211 [4] as ABSs when
these MBSFN subframes are used for other usages (e.g., MBMS, LCS).
ICIC is located in the eNB.
#### 16.1.5.1 UE configurations for time domain ICIC
For the UE to measure \"protected\" resources of the serving cell and/or
neighbour cells, RRM/RLM/CSI measurement resource restriction is signalled to
the UE. There are three kinds of measurement resource restriction patterns
that may be configured for the UE.
\- Pattern 1: A single RRM/RLM measurement resource restriction for the PCell.
\- Pattern 2: A single RRM measurement resource restriction for indicated list
of neighbour cells operating in the same carrier frequency as the PCell.
\- Pattern 3: Resource restriction for CSI measurement of the PCell. If
configured, two subframe subsets are configured per UE. The UE reports CSI for
each configured subframe subset.
> For pattern 3, it is up to the network to choose the two subframe subsets
> but typically the two subframe subsets are chosen with the expectation that
> CSI measurements using the two configured subframe subsets are subject to
> different levels of interference (e.g., one subframe subset indicates ABSs
> while the second subframe subset indicates non-ABSs). For periodic CSI
> reports, linkage of each CSI report to a configured subset of subframe is
> defined in TS 36.331 [16]. For aperiodic CSI reports, the UE reports CSI
> based on the subframe subset containing the CSI reference resource.
In RRC_CONNECTED, the RRM/RLM/CSI measurement resource restrictions are
configured by dedicated RRC signalling.
#### 16.1.5.2 OAM requirements for time domain ICIC
##### 16.1.5.2.1 Configuration for CSG cell
When the time-domain inter-cell interference coordination is used for non-
members UE in close proximity of a CSG cell, OAM configures a CSG cell not to
use a time domain resource set (i.e. a set of subframes), so that a non-member
UE in close proximity of the CSG cell can be still served by another cell. OAM
also configures a cell neighbour to a CSG cell with the protected time domain
resource set not used by the CSG cell, so that the neighbour cell knows which
time domain resource can be used for a non-member UE in close proximity of the
CSG cell.
##### 16.1.5.2.2 Configuration for interfering non-CSG cell
When the time-domain inter-cell interference coordination is used to mitigate
interference between two cells using X2 signalling of ABS patterns from an
interfering eNB to an interfered eNB, the following OAM requirements are
applied.
\- OAM may configure association between eNBs to use the time-domain inter-
cell interference coordination.
\- For the deployment scenarios where common subset for ABS patterns from
multiple interfering cells is desirable, OAM configuration ensures that a
'common subset' exists between the ABS patterns of those interfering cells.
NOTE: The possibility of whether the common ABS pattern from multiple eNBs is
desirable or not depends on the deployment cases of the time domain solution
of inter-cell interference coordination.
NOTE: It is up to eNB implementation how a receiving eNB derives the 'usable
ABS subset' from the ABS patterns coming from multiple neighbour eNBs.
### 16.1.6 Load Balancing (LB)
Load balancing has the task to handle uneven distribution of the traffic load
over multiple cells. The purpose of LB is thus to influence the load
distribution in such a manner that radio resources remain highly utilized and
the QoS of in-progress sessions are maintained to the extent possible and call
dropping probabilities are kept sufficiently small. LB algorithms may result
in hand-over or cell reselection decisions with the purpose of redistribute
traffic from highly loaded cells to underutilized cells.
LB is located in the eNB.
### 16.1.7 Inter-RAT Radio Resource Management
Inter-RAT RRM is primarily concerned with the management of radio resources in
connection with inter-RAT mobility, notably inter-RAT handover. At inter-RAT
handover, the handover decision may take into account the involved RATs
resource situation as well as UE capabilities and Operator policies. The
importance of Inter-RAT RRM may depend on the specific scenario in which
E-UTRAN is deployed. Inter-RAT RRM may also include functionality for inter-
RAT load balancing for idle and connected mode UEs.
### 16.1.8 Subscriber Profile ID for RAT/Frequency Priority
The RRM strategy in E-UTRAN may be based on user specific information.
The Subscriber Profile ID for RAT/Frequency Priority (SPID) parameter received
by the eNB via the S1 interface or the X2 interface is an index referring to
user information (e.g. mobility profile, service usage profile). The
information is UE specific and applies to all its Radio Bearers.
This index is mapped by the eNB to locally defined configuration in order to
apply specific RRM strategies (e.g. to define RRC_IDLE mode priorities and
control inter-RAT/inter frequency handover in RRC_CONNECTED mode).
## 16.2 RRM architecture
### 16.2.1 Centralised Handling of certain RRM Functions
Void.
### 16.2.2 De-Centralised RRM
#### 16.2.2.1 UE History Information
The source eNB collects and stores the UE History Information for as long as
the UE stays in one of its cells.
When information needs to be discarded because the list is full, such
information will be discarded in order of its position in the list, starting
with the oldest cell record.
The resulting information is then used in subsequent handover preparations by
means of the Handover Preparation procedures over the S1 and X2 interfaces,
which provide the target eNB with a list of previously visited cells and
associated (per-cell) information elements. The Handover Preparation
procedures also trigger the target eNB to start collection and storage of UE
history Information and thus to propagate the collected information.
### 16.2.3 Void
# 17 Void
## 17.1 Void
# 18 UE capabilities
RRC signalling carries AS capabilities and NAS signalling carries NAS
capabilities. The UE capability information is stored in the MME. In the
uplink, no capability information is sent early in e.g. RRCConnectionRequest
message. In the downlink, enquiry procedure of the UE capability is supported.
Figure 18-1: Initial UE Capability Handling
_The MME stores the UE Radio Capability uploaded in the UE CAPABILITY INFO
INDICATION message._
The possible RAT-Types in Rel-8 are: EUTRAN, UTRAN, GERAN-PS, GERAN-CS,
CDMA2000-1XRTT. The GERAN capability is divided into separate parts. MS
Classmark 2 and Classmark 3 are used for CS domain (in both AS and NAS) and MS
Radio Access Capability is used for PS domain. The main part of CDMA2000
capabilities is not handled by the eNB or the MME, but is exchanged via
tunnelling (see 10.3.2). The small part of CDMA2000 capabilities (for
CDMA2000-1XRTT) is needed for the eNB to be able to build messages for the
target CDMA2000 RNC (see 10.3.2).
The eNB may acquire the UE capabilities after a Handover completion. The UE
capabilities are then uploaded to the MME.
Usually during handover preparation, the source RAN node transfers both the UE
source RAT capabilities and the target RAT capabilities to the target RAN
node, in order to minimize interruptions and to follow the principles in
subclause 10.2.2. This is described in subclause 19.2.2.5.6. However at
Handover from UTRAN to EUTRAN, it is optional to forward the UTRAN
capabilities to the target RAN. The source RAN is not mandated to acquire
other RAT capabilities (i.e. other than the source and target RAT
capabilities) in order to start a handover preparation.
The UTRAN capabilities, i.e. the INTER RAT HANDOVER INFO, include START-CS,
START-PS and \"predefined configurations\", which are \"dynamic\" IEs. In
order to avoid the START values desynchronisation and the key replaying issue,
the eNB always enquiry the UE UTRAN capabilities at transition from RRC_IDLE
to RRC_CONNECTED and before Handover to UTRAN. The eNB does not upload the UE
UTRAN capabilities to the MME.
# 19 S1 Interface
## 19.1 S1 User plane
The S1 user plane interface (S1-U) is defined between the eNB and the S-GW.
The S1-U interface provides non guaranteed delivery of user plane PDUs between
the eNB and the S-GW. The user plane protocol stack on the S1 interface is
shown in Figure 19.1-1. The transport network layer is built on IP transport
and GTP-U is used on top of UDP/IP to carry the user plane PDUs between the
eNB and the S-GW.
Figure 19.1-1: S1 Interface User Plane (eNB - S-GW)
## 19.2 S1 Control Plane
The S1 control plane interface (S1-MME) is defined between the eNB and the
MME. The control plane protocol stack of the S1 interface is shown on Figure
19.2-1. The transport network layer is built on IP transport, similarly to the
user plane but for the reliable transport of signalling messages SCTP is added
on top of IP. The application layer signalling protocol is referred to as
S1-AP (S1 Application Protocol).
Figure 19.2-1: S1 Interface Control Plane (eNB-MME)
The SCTP layer provides the guaranteed delivery of application layer messages.
In the transport IP layer point-to-point transmission is used to deliver the
signalling PDUs.
A single SCTP association per S1-MME interface instance shall be used with one
pair of stream identifiers for S1-MME common procedures. Only a few pairs of
stream identifiers should be used for S1-MME dedicated procedures. MME
communication context identifiers that are assigned by the MME for S1-MME
dedicated procedures and eNB communication context identifiers that are
assigned by the eNB for S1-MME dedicated procedures shall be used to
distinguish UE specific S1-MME signalling transport bearers. The communication
context identifiers are conveyed in the respective S1-AP messages.
RNs terminate S1-AP. In this case, there is one S1 interface relation between
the RN and the DeNB, and one S1 interface relation between the DeNB and each
of the MMEs in the MME pool. The S1 interface relation between the RN and the
DeNB carries non-UE-associated S1-AP signalling between RN and DeNB and UE-
associated S1-AP signalling for UEs connected to the RN. The S1 interface
relation between the DeNB and an MME carries non-UE-associated S1-AP
signalling between DeNB and MME and UE-associated S1-AP signalling for UEs
connected to the RN and for UEs connected to the DeNB.
### 19.2.1 S1 Interface Functions
The S1 interface provides the following functions:
\- E-RAB Service Management function:
\- Setup, Modify, Release.
\- Mobility Functions for UEs in ECM-CONNECTED:
\- Intra-LTE Handover;
\- Inter-3GPP-RAT Handover.
\- S1 Paging function:
\- NAS Signalling Transport function;
\- LPPa Signalling Transport function;
\- S1-interface management functions:
\- Error indication;
\- Reset.
\- Network Sharing Function;
\- Roaming and Area Restriction Support function;
\- NAS Node Selection Function;
\- Initial Context Setup Function;
\- UE Context Modification Function;
\- MME Load balancing Function;
\- Location Reporting Function;
\- PWS (which includes ETWS and CMAS) Message Transmission Function;
\- Overload function;
\- RAN Information Management Function;
\- Configuration Transfer Function;
\- S1 CDMA2000 Tunnelling function;
\- Trace function.
#### 19.2.1.1 S1 Paging function
The paging function supports the sending of paging requests to all cells of
the TA(s) the UE is registered.
Paging requests are sent to the relevant eNBs according to the mobility
information kept in the UE's MM context in the serving MME.
#### 19.2.1.2 S1 UE Context Management function
In order to support UEs in ECM-CONNECTED, UE contexts need to be managed, i.e.
established and released in the eNodeB and in the EPC to support user
individual signalling on S1.
#### 19.2.1.3 Initial Context Setup Function
The Initial Context Setup function supports the establishment of the necessary
overall initial UE Context including E-RAB context, Security context, roaming
restriction, UE capability information, Subscriber Profile ID for
RAT/Frequency Priority, UE S1 signalling connection ID, etc. in the eNB to
enable fast Idle-to-Active transition.
In addition to the setup of overall initial UE Contexts, Initial Context Setup
function also supports the piggy-backing of the corresponding NAS messages.
Initial Context Setup is initiated by the MME.
#### 19.2.1.3a UE Context Modification Function
The UE Context Modification function supports the modification of UE Context
in eNB for UEs in active state.
#### 19.2.1.4 Mobility Functions for UEs in ECM-CONNECTED
##### 19.2.1.4.1 Intra-LTE Handover
The Intra-LTE-Handover function supports mobility for UEs in ECM-CONNECTED and
comprises the preparation, execution and completion of handover via the X2 and
S1 interfaces.
##### 19.2.1.4.2 Inter-3GPP-RAT Handover
The Inter-3GPP-RAT Handover function supports mobility to and from other 3GPP-
RATs for UEs in ECM-CONNECTED and comprises the preparation, execution and
completion of handover via the S1 interface.
#### 19.2.1.5 E-RAB Service Management function
The E-RAB Service management function is responsible for establishing,
modifying and releasing E-UTRAN resources for user data transport once a UE
context is available in the eNB. The establishment and modification of E-UTRAN
resources is triggered by the MME and requires respective QoS information to
be provided to the eNB. The release of E-UTRAN resources is triggered by the
MME either directly or following a request received from the eNB (optional).
#### 19.2.1.6 NAS Signalling Transport function
The NAS Signalling Transport function provides means to transport a NAS
message (e.g. for NAS mobility management) for a specific UE on the S1
interface.
#### 19.2.1.7 NAS Node Selection Function (NNSF)
The interconnection of eNBs to multiple MME/Serving S-GWs is supported in the
E-UTRAN/EPC architecture. Therefore a NAS node selection function is located
in the eNB to determine the MME association of the UE, based on the UE's
temporary identifier, which was assigned to the UE by the CN node (e.g. MME or
SGSN).
NOTE: In case the UE's temporary identifier is assigned by the SGSN,
respective mapping rules are defined in TS 23.003 [26].
Depending on the actual scenario the NNSF determines the UE's MME association
either based its S-TMSI (e.g. at service request) or based on its GUMMEI and
selected PLMN (e.g. at attach or tracking area update in non-registered TA).
The NNSF in the eNB may differentiate between a GUMMEI mapped from Pâ€‘TMSI/RAI
and a native GUMMEI as described in TS 23.401 [17].
This functionality is located in the eNB only and enables proper routing via
the S1 interface. On S1, no specific procedure corresponds to the NAS Node
Selection Function.
#### 19.2.1.8 S1-interface management functions
The S1-interface management functions provide
\- means to ensure a defined start of S1-interface operation (reset)
\- means to handle different versions of application part implementations and
protocol errors (error indication)
#### 19.2.1.9 MME Load balancing Function
MME Load balancing is the function which achieves load-balanced MMEs with
respect to their processing capacity within a pool area during system
operation. The means to load-balance MMEs is to distribute UEs newly entering
the pool to different MMEs in the MME pool. In addition the MME load balancing
function is able to achieve equally loaded MMEs within a pool area after the
introduction of a new MME and after the removal of a MME from the network.
The support of the MME load balancing function is achieved by indicating the
relative MME capacity in the S1 Setup procedure to all eNBs served by the MMEs
of the pool area per MME. In order to support the introduction and/or removal
of MMEs the MME initiated S1 setup update procedure may be used by the
operator indicating relative MME capacity value changes. The indicated
relative MME capacity steers the UE assignment for UEs newly entering the MME
pool.
#### 19.2.1.10 Location Reporting Function
The Location Reporting function supports the MME requests to the eNB to report
the location information of the UE.
#### 19.2.1.11 Warning Message Transmission function
The warning message transmission function provides means to transfer warning
message via S1 interface.
#### 19.2.1.12 Overload Function
The overload function comprises the signalling means:
\- to indicate to a proportion of eNBs that the serving MME is overloaded
\- to indicate to the eNBs that the serving MME is back in the \"normal
operation mode\"
#### 19.2.1.13 RAN Information Management Function
The RAN Information Management (RIM) function is a generic mechanism that
allows the request and transfer of information (e.g. GERAN System information)
between two RAN nodes via the core network.
#### 19.2.1.14 S1 CDMA2000 Tunnelling function
The S1 CDMA2000 Tunnelling function transports CDMA2000 signalling between UE
and CDMA2000 RAT over the S1 Interface for mobility from E-UTRAN to CDMA2000
HRPD and CDMA2000 1xRTT and for circuit switched fallback to CDMA2000 1xRTT.
#### 19.2.1.15 Configuration Transfer Function
The Configuration Transfer function is a generic mechanism that allows the
request and transfer of RAN configuration information (e.g. SON information)
between two RAN nodes via the core network.
#### 19.2.1.16 LPPa Signalling Transport function
The LPPa Signalling Transport function provides means to transport an LPPa
message on the S1 interface.
#### 19.2.1.17 Trace Function
The Trace function provides means to control trace sessions in the eNB. The
Trace function also provides means to control MDT sessions as described in TS
32.422 [30] and TS 37.320 [43].
### 19.2.2 S1 Interface Signalling Procedures
The elementary procedures supported by the S1AP protocol are listed in Table 1
and Table 2 of TS 36.413 [25].
#### 19.2.2.1 Paging procedure
Figure 19.2.2.1-1: Paging procedure
The MME initiates the paging procedure by sending the PAGING message to each
eNB with cells belonging to the tracking area(s) in which the UE is
registered. Each eNB can contain cells belonging to different tracking areas,
whereas each cell can only belong to one TA.
The paging response back to the MME is initiated on NAS layer and is sent by
the eNB based on NAS-level routing information.
#### 19.2.2.2 S1 UE Context Release procedure
The S1 UE Context Release procedure causes the eNB to remove all UE individual
signalling resources and the related user data transport resources. This
procedure is initiated by the EPC and may be triggered on request of the
serving eNB.
##### 19.2.2.2.1 S1 UE Context Release (EPC triggered)
Figure 19.2.2.2.1-1: S1 UE Context Release procedure (EPC triggered)
\- The EPC initiates the UE Context Release procedure by sending the S1 UE
Context Release Command towards the E-UTRAN. The eNodeB releases all related
signalling and user data transport resources.
\- The eNB confirms the S1 UE Context Release activity with the S1 UE Context
Release Complete message.
\- In the course of this procedure the EPC releases all related resources as
well, except context resources in the EPC for mobility management and the
default EPS Bearer/E-RAB configuration.
##### 19.2.2.2.2 S1 UE Context Release Request (eNB triggered)
The S1 UE Context Release Request procedure is initiated for E-UTRAN internal
reasons and comprises the following steps:
\- The eNB sends the S1 UE Context Release Request message to the EPC.
\- The EPC triggers the EPC initiated UE context release procedure.
Figure 19.2.2.2.2-1: S1 UE Context Release Request procedure (eNB triggered)\
and subsequent S1 UE Context Release procedure (EPC triggered)
If the E-UTRAN internal reason is a radio link failure detected in the eNB,
the eNB shall wait a sufficient time before triggering the S1 UE Context
Release Request procedure in order to allow the UE to perform the NAS recovery
procedure, see TS 23.401 [17].
#### 19.2.2.3 Initial Context Setup procedure
The Initial Context Setup procedure establishes the necessary overall initial
UE context in the eNB in case of an Idle-to Active transition. The Initial
Context Setup procedure is initiated by the MME.
The Initial Context Setup procedure comprises the following steps:
\- The MME initiates the Initial Context Setup procedure by sending INITIAL
CONTEXT SETUP REQUEST to the eNB. This message may include general UE Context
(e.g. security context, roaming restrictions, UE capability information, UE S1
signalling connection ID, etc.), E-RAB context (Serving GW TEID, QoS
information, Correlation id i.e. collocated L-GW TEID or GRE key in case of
LIPA support), and may be piggy-backed with the corresponding NAS messages.
When there are multiple NAS messages in the INITIAL CONTEXT SETUP REQUEST
message, the MME shall ensure that the NAS messages in the E-RAB to be Setup
List are aligned in the order of reception from the NAS layer to ensure the
in-sequence delivery of the NAS messages.
\- Upon receipt of INITIAL CONTEXT SETUP REQUEST, the eNB setup the context of
the associated UE, and perform the necessary RRC signalling towards the UE,
e.g. Radio Bearer Setup procedure. When there are multiple NAS messages to be
sent in the RRC message, the order of the NAS messages in the RRC message
shall be kept the same as that in the INITIAL CONTEXT SETUP REQUEST message.
\- The eNB responds with INITIAL CONTEXT SETUP RESPONSE to inform a successful
operation, and with INITIAL CONTEXT SETUP FAILURE to inform an unsuccessful
operation.
NOTE: In case of failure, eNB and MME behaviours are not mandated. Both
implicit release (local release at each node) and explicit release (MME-
initiated UE Context Release procedure) may in principle be adopted. The eNB
should ensure that no hanging resources remain at the eNB.
Figure 19.2.2.3-1: Initial Context Setup procedure (highlighted in blue) in
Idle-to-Active procedure
#### 19.2.2.3a UE Context Modification procedure
The UE Context Modification procedure enables the MME to modify the UE context
in the eNB for UEs in active state. The UE Context Modification procedure is
initiated by the MME.
The UE Context Modification procedure comprises the following steps:
\- The MME initiates the UE Context Modification procedure by sending UE
CONTEXT MODIFICATION REQUEST to the eNB to modify the UE context in the eNB
for UEs in active state.
\- The eNB responds with UE CONTEXT MODIFICATION RESPONSE in case of a
successful operation
\- If the UE is served by a CSG cell, and is no longer a member of the CSG
cell, the eNB may initiate a handover to another cell. If the UE is not handed
over, the eNB should request the release of UE context;
\- If the UE is served by a hybrid cell, and is no longer a CSG member of the
hybrid cell, the eNB may provide the QoS for the UE as a non CSG member.
\- The eNB responds with UE CONTEXT MODIFICATION FAILURE in case of an
unsuccessful operation.
Figure 19.2.2.3a-1: UE Context Modification procedure
#### 19.2.2.4 E-RAB signalling procedures
##### 19.2.2.4.1 E-RAB Setup procedure
Figure 19.2.2.4.1-1: E-RAB Setup procedure
The E-RAB Setup procedure is initiated by the MME to support:
\- Assignment of resources to a dedicated E-RAB.
\- Assignment of resources for a default E-RAB.
\- Setup of S1 Bearer (on S1) and Data Radio Bearer (on Uu).
The E-RAB Setup procedure comprises the following steps:
\- The E-RAB SETUP REQUEST message is sent by the MME to the eNB to setup
resources on S1 and Uu for one or several E-RAB(s). The E-RAB SETUP REQUEST
message contains the Serving GW TEID, QoS indicator(s) and the corresponding
NAS message per E-RAB within the E-RAB To Be Setup List. It may also include
the Correlation id i.e. collocated L-GW TEID or GRE key in case of LIPA
support. When there are multiple NAS messages in the E-RAB SETUP REQUEST
message, the MME shall ensure that the NAS messages in the E-RAB to be Setup
List are aligned in the order of reception from the NAS layer to ensure the
in-sequence delivery of the NAS messages.
\- Upon receipt of the E-RAB SETUP REQUEST message the eNB establishes the
Data Radio Bearer(s) (RRC: Radio Bearer Setup) and resources for S1 Bearers.
When there are multiple NAS messages to be sent in the RRC message, the order
of the NAS messages in the RRC message shall be kept the same as that in the
E-RAB SETUP REQUEST message.
\- The eNB responds with a E-RAB SETUP RESPONSE messages to inform whether the
setup of resources and establishment of each E-RAB was successful or
unsuccessful, with the E-RAB Setup list (E-RAB ID, eNB TEID) and the E-RAB
Failed to Setup list (E-RAB ID, Cause) The eNB also creates the binding
between the S1 bearer(s) (DL/UL TEID) and the Data Radio Bearer(s).
**Interactions with UE Context Release Request procedure:**
In case of no response from the UE the eNB shall trigger the S1 UE Context
Release Request procedure.
##### 19.2.2.4.2 E-RAB Modification procedure
Figure 19.2.2.4.2-1: E-RAB Modification procedure
The E-RAB Modification procedure is initiated by the MME to support the
modification of already established E-RAB configurations:
  * Modify of S1 Bearer (on S1) and Radio Bearer (on Uu)
The EPS Bearer Modification procedure comprises the following steps:
\- The E-RAB MODIFY REQUEST message is sent by the MME to the eNB to modify
one or several E-RAB(s). The E-RAB MODIFY REQUEST message contains the QoS
indicator(s), and the corresponding NAS message per E-RAB in the E-RAB To Be
Modified List. When there are multiple NAS messages in the E-RAB MODIFY
REQUEST message, the MME shall ensure that the NAS messages in the E-RAB to be
Modified List are aligned in the order of reception from the NAS layer to
ensure the in-sequence delivery of the NAS messages.
\- Upon receipt of the E-RAB MODIFY REQUEST message the eNB modifies the Data
Radio Bearer configuration (RRC procedure to modify the Data Radio bearer).
When there are multiple NAS messages to be sent in the RRC message, the order
of the NAS messages in the RRC message shall be kept the same as that in the
E-RAB MODIFY REQUEST message.
\- The eNB responds with an E-RAB MODIFY RESPONSE message to inform whether
the E-RAB modification has succeeded or not indicating with the E-RAB Modify
list and E-RAB Failed to Modify list. With E-RAB ID(s) in the E-RAB Modify
List or E-RAB Failed to Modify List the eNB identifies the E-RAB(s)
successfully modified or failed to modify.
**Interactions with UE Context Release Request procedure:**
In case of no response from the UE the eNB shall trigger the S1 UE Context
Release Request procedure.
##### 19.2.2.4.3 E-RAB Release procedure
Figure 19.2.2.4.3-1: E-RAB Release procedure
The E-RAB Release procedure is initiated by the MME to release resources for
the indicated E-RABs.
The E-RAB Release procedure comprises the following steps:
\- The E-RAB RELEASE COMMAND message is sent by the MME to the eNB to release
resources on S1 and Uu for one or several E-RAB(s). With the E-RAB ID(s) in
the E-RAB To Be Released List contained in E-RAB RELEASE COMMAND message the
MME identifies, the E-RAB(s) to be released.
\- Upon receipt of the E-RAB RELEASE COMMAND message the eNB releases the Data
Radio Bearers (RRC: Radio bearer release) and S1 Bearers.
\- The eNB responds with an E-RAB RELEASE COMPLETE message containing E-RAB
Release list and E-RAB Failed to Release list. With the E-RAB IDs in the E-RAB
Release List/E-RAB Failed to Release List the eNB identifies the E-RAB(s)
successfully released or failed to release.
**Interactions with UE Context Release Request procedure:**
In case of no response or negative response from the UE or in case the eNB
cannot successfully perform the release of any of the requested bearers, the
eNB shall trigger the S1 UE Context Release Request procedure, except if the
eNB has already initiated the procedures associated with X2 Handover.
##### 19.2.2.4.4 E-RAB Release Indication procedure
Figure 19.2.2.4.4-1: E-RAB Release Indication procedure
The E-RAB Release Indication procedure enables the E-UTRAN to send information
about released resources for one or several E-RABs to the MME. The eNB
initiates the procedure by sending the E-RAB RELEASE INDICATION message to the
MME. The E-RAB ID(s) in the E-RAB Released List identifies the released
E-RAB(s) in the eNB.
#### 19.2.2.5 Handover signalling procedures
Handover signalling procedures support both, inter-eNB handover and inter-RAT
handover.
Inter-RAT handovers shall be initiated via the S1 interface.
Inter-eNB handovers shall be initiated via the X2 interface except if any of
the following conditions are true:
\- the source eNB is not an RN and there is no X2 between source and target
eNB.
\- the source eNB is an RN and there is no X2 between DeNB and the target eNB
or between the source RN and the DeNB.
\- the source eNB is an RN and the UE's serving MME is not included in the MME
Pool(s) connected with the target eNB.
\- the source eNB has been configured to initiate handover to the particular
target eNB via S1 interface in order to enable the change of an EPC node (MME
and/or Serving GW).
\- the source eNB has attempted to start the inter-eNB HO via X2 but receives
a negative reply from the target eNB with a specific cause value.
Inter-eNB handovers shall be initiated via the S1 interface, if one of the
above conditions applies.
##### 19.2.2.5.1 Handover Preparation procedure
The Handover preparation procedure is initiated by the source eNB if it
determines the necessity to initiate the handover via the S1 interface.
Figure 19.2.2.5.1-1: Handover preparation procedure
The handover preparation comprises the following steps:
\- The HANDOVER REQUIRED message is sent to the MME.
\- The handover preparation phase is finished upon the reception of the
HANDOVER COMMAND message in the source eNB, which includes at least radio
interface related information (HO Command for the UE), successfully
established E-RAB(s) and E-RAB(s) which failed to setup.
  * In case the handover resource allocation is not successful (e.g. no resources are available on the target side) the MME responds with the HANDOVER PREPARATION FAILURE message instead of the HANDOVER COMMAND message.
##### 19.2.2.5.2 Handover Resource Allocation procedure
The handover resource allocation comprises the following steps:
EMBED Word.Picture.8 {width="6.072222222222222in"
height="2.2597222222222224in"}
Figure 19.2.2.5.2-1: Handover resource allocation procedure
\- The MME sends the HANDOVER REQUEST message including the E-RAB(s) which
needs to be setup by the target eNB.
In the case of a UE performing handover toward an RN, the HANDOVER REQUEST is
received by the DeNB, which shall read the target cell ID from the message,
find the target RN corresponding to the target cell ID, and forward the
message toward the target RN.
\- The target eNB responds with the HANDOVER REQUEST ACK message after the
required resources for all accepted E-RABs are allocated. The HANDOVER REQUEST
ACK message contains successfully established E-RAB(s), E-RAB(s) which failed
to setup and radio interface related information (HO Command for the UE),
which is later sent transparently via the EPC/CN from the target RAT to the
source RAT.
If no resources are available on the target side, the target eNB responds with
the HANDOVER FAILURE message instead of the HANDOVER REQUEST ACK message.
##### 19.2.2.5.3 Handover Notification procedure
The Handover Completion for S1 initiated handovers comprises the following
steps:
\- The HANDOVER NOTIFY message is sent by the target eNB to the MME when the
UE has successfully been transferred to the target cell.
EMBED Word.Picture.8 {width="6.548611111111111in"
height="1.8979166666666667in"}
Figure 19.2.2.5.3-1: Handover completion procedure
##### 19.2.2.5.4 Handover Cancellation
This functionality is located in the source eNB to allow a final decision
regarding the outcome of the handover, i.e. either to proceed or to cancel the
handover procedure.
EMBED Word.Picture.8 {width="4.207638888888889in" height="1.625in"}
Figure 19.2.2.5.4-1: Handover cancellation procedure
\- The source eNB sends a HANDOVER CANCEL message to the MME indicating the
reason for the handover cancellation.
\- The MME confirms the reception of the HANDOVER CANCEL message by returning
the HANDOVER CANCEL ACK message.
##### 19.2.2.5.5 Path Switch procedure
The handover completion phase for X2 initiated handovers comprises the
following steps:
\- The PATH SWITCH message is sent by the target eNB to the MME when the UE
has successfully been transferred to the target cell. The PATH SWITCH message
includes the outcome of the resource allocation: successfully established
E-RAB(s).
  * The MME responds with the PATH SWITCH ACK message which is sent to the eNB.
  * The MME responds with the PATH SWITCH FAILURE message in case a failure occurs in the EPC.
Figure 19.2.2.5.5-1: Path Switch procedure
##### 19.2.2.5.6 Message sequence diagrams
This subclause complements TR 25.922 [27] subclause 5.1.7.2 regarding the
E-UTRAN handling of containers.
Most RRC information is carried by means of containers across interfaces other
than Uu. The following sequence diagrams illustrate which RRC information
should be included within these containers used across the different network
interfaces.
NOTE: In order to maintain independence between protocols, no requirements are
included in the interface protocols that are used to transfer the RRC
information.
In current and previous releases,SRVCC (see TS 23.216 [28]) is supported from
EUTRAN to UTRAN or GERAN A/Gb mode, but not in the other direction.
There is no support for interworking between EUTRAN and GERAN Iu-mode and
between EUTRAN and GAN.
Figure 19.2.2.5.6-1 illustrates the message sequence for the PS handover from
GERAN to EUTRAN procedure:
Figure 19.2.2.5.6-1. Handover of PS domain service from GERAN A/Gb mode to
EUTRAN, normal flow
The first two signalling arrows indicate how capability information, which is
needed by the target eNB, is provided by NAS.
Figure 19.2.2.5.6-2 illustrates the message sequence for the PS handover from
UTRAN to EUTRAN procedure:
Figure 19.2.2.5.6-2: Handover of PS domain service from UTRAN to EUTRAN,
normal flow
Figure 19.2.2.5.6-3 to Figure 19.2.2.5.6-5 illustrate the message sequence for
the handover from EUTRAN to GERAN A/Gb mode procedure:
Figure 19.2.2.5.6-3: Handover of CS domain service from EUTRAN to GERAN A/Gb
mode, normal flow
Figure 19.2.2.5.6-4. Handover of PS domain service from EUTRAN to GERAN A/Gb
mode, normal flow
Figure 19.2.2.5.6-5: Handover of CS and PS domain services from EUTRAN to
GERAN A/Gb mode, normal flow
Figure 19.2.2.5.6-6 and Figure 19.2.2.5.6-7 illustrate the message sequence
for the handover from EUTRAN to UTRAN procedure:
Figure 19.2.2.5.6-6. Handover of PS or CS domain service from EUTRAN to UTRAN,
normal flow
Figure 19.2.2.5.6-7. Handover of PS and CS domain service from EUTRAN to
UTRAN, normal flow
##### 19.2.2.5.7 eNB Status Transfer procedure
The purpose of the eNB Status Transfer procedure is to transfer the uplink
PDCP SN and HFN receiver status and the downlink PDCP SN and HFN transmitter
status from the eNB to the MME during an S1 handover for each respective E-RAB
for which PDCP SN and HFN status preservation applies.
Figure 19.2.2.5.7-1: eNB Status Transfer
##### 19.2.2.5.8 MME Status Transfer procedure
The purpose of the MME Status Transfer procedure is to transfer the uplink
PDCP SN and HFN receiver status and the downlink PDCP SN and HFN transmitter
status from the MME to the eNB during an S1 handover for each respective E-RAB
for which PDCP SN and HFN status preservation applies.
Figure 19.2.2.5.8-1: MME Status Transfer
#### 19.2.2.6 NAS transport procedures
A NAS signalling message is transferred on the S1 interface in both
directions. The procedures providing this functionality are:
\- Initial UE Message procedure (eNB initiated);
\- Uplink NAS transport procedure (eNB initiated);
\- Downlink NAS transport procedure (MME initiated);
\- Downlink NAS non delivery indication procedure.
i) Initial UE Message procedure
Figure 19.2.2.6-1: Initial UE Message procedure
\- The INITIAL UE MESSAGE procedure is initiated by the eNB by sending the
INITIAL UE MESSAGE message to the MME. The INITIAL UE MESSAGE contains a NAS
message (e.g. Service Request), the UE signalling reference ID and other S1
addressing information. If the eNB is a HeNB supporting LIPA, the message
shall include the HeNB collocated L-GW IP address to enable the establishment
of a LIPA PDN connection. In case of UE access to a CSG cell the INITIAL UE
MESSAGE contains the CSG id of the cell. In case of UE access to a hybrid cell
the INITIAL UE MESSAGE contains the CSG id and Access Mode of the cell.
ii) NAS Transport procedure (eNB initiated).
Figure 19.2.2.6-2: Uplink NAS Transport procedure
\- The Uplink NAS Transport procedure is initiated by the eNB by sending the
UPLINK NAS TRANSPORT message to the MME. The UPLINK NAS TRANSPORT message
contains a NAS message, UE identification and other S1 related addressing
information. If the eNB is a HeNB supporting LIPA, the message shall include
the HeNB collocated L-GW IP address to enable the establishment of a LIPA PDN
connection.
iii) NAS Transport procedure (MME initiated)
Figure 19.2.2.6-3: Downlink NAS Transport procedure
\- The Downlink NAS Transport procedure is initiated by the MME by sending the
DOWNLINK NAS TRANSPORT message to the eNB. The DOWNLINK NAS TRANSPORT contains
a NAS message, UE identification and other S1 related addressing information.
iv) Downlink NAS non delivery procedure
{width="4.047916666666667in" height="1.7979166666666666in"}
Figure 19.2.2.6-4: Downlink NAS Non Delivery Indication procedure
\- When the eNB decides to not start the delivery of a NAS message that has
been received from MME, it shall report the non-delivery of this NAS message
by sending a DOWNLINK NAS NON DELIVERY INDICATION message to the MME including
the non-delivered NAS message and an appropriate cause value.
#### 19.2.2.7 S1 interface Management procedures
##### 19.2.2.7.1 Reset procedure
The purpose of the Reset procedure is to re-initialize the peer entity or part
of the peer entity after node setup and after a failure event occurred. This
procedure is initiated by both the eNB and MME.
##### 19.2.2.7.1a eNB initiated Reset procedure
Figure 19.2.2.7.1a-1: eNB initiated Reset procedure
\- The eNB triggers the RESET message to indicate that an initialisation in
the MME is required. The MME releases the corresponding references and
resources.
\- Afterwards the MME sends the RESET ACK message to confirm that the
resources and references are cleared.
##### 19.2.2.7.1b MME initiated Reset procedure
Figure 19.2.2.7.1b-1: MME initiated Reset procedure
\- The MME triggers the RESET message to indicate that an initialisation in
the eNB is required. The eNB releases the corresponding references and
resources.
\- Afterwards the eNB sends the RESET ACK message to confirm that the
resources and references are cleared.
##### 19.2.2.7.2 Error Indication functions and procedures
The Error Indication procedure is initiated by the eNB and the MME, to report
detected errors in one incoming message, if an appropriate failure message
cannot be reported to the sending entity.
##### 19.2.2.7.2a eNB initiated error indication
Figure 19.2.2.7.2a-1: eNB initiated Error Indication procedure
The eNB sends the ERROR INDICATION message to report the peer entity which
kind of error occurs.
##### 19.2.2.7.2b MME initiated error indication
Figure 19.2.2.7.2b-1: MME initiated Error Indication procedure
The MME sends the ERROR INDICATION message to report the peer entity which
kind of error occurs.
#### 19.2.2.8 S1 Setup procedure
The S1 Setup procedure is used to exchange configured data which is required
in the MME and in the eNB respectively to ensure a proper interoperation. The
S1 Setup procedure is triggered by the eNB. The S1 Setup procedure is the
first S1AP procedure which will be executed.
Figure 19.2.2.8-1: S1 Setup procedure
\- The eNB initiates the S1 Setup procedure by sending the S1 SETUP REQUEST
message including supported TAs and broadcasted PLMNs to the MME.
\- In the successful case the MME responds with the S1 SETUP RESPONSE message
which includes served PLMNs as well as a relative MME capacity indicator to
achieve load balanced MMEs in the pool area.
\- If the MME cannot accept the S1 Setup Request the MME responds with the S1
SETUP FAILURE message indicating the reason of the denial. The MME optionally
indicates in the S1 SETUP FAILURE message when the eNB is allowed to re-
initiate the S1 Setup Request procedure towards the same MME again.
#### 19.2.2.9 eNB Configuration Update procedure
The eNB Configuration Update procedure is used to provide updated configured
data in eNB. The eNB Configuration Update procedure is triggered by the eNB.
Figure 19.2.2.9-1: eNB Configuration Update procedure
\- The eNB initiates the eNB Configuration Update procedure by sending the ENB
CONFIGURATION UPDATE message including updated configured data like supported
TAs and broadcasted PLMNs to the MME. In case one or more supported TA(s)
needs to be updated, the eNB shall provide the whole list of TA(s), including
those which has not been changed, in the ENB CONFIGURATION UPDATE message.
\- The MME responds with the ENB CONFIGURATION UPDATE ACKNOWLEDGE message to
acknowledge that the provided configuration data are successfully updated.
\- The MME shall overwrite and store the received configuration data which are
included in the ENB CONFIGURATION UPDATE message. Configuration data which has
not been included in the ENB CONFIGURATION UPDATE message are interpreted by
the MME as still valid. For the provided TA(s) the MME shall overwrite the
whole list of supported TA(s).
\- In case the MME cannot accept the received configuration updates the MME
shall respond with the ENB CONFIGURATION UPDATE FAILURE message including an
appropriate cause value to indicate the reason of the denial. The MME
optionally indicates in the ENB CONFIGURATION UPDATE FAILURE message when the
eNB is allowed to re-initiate the eNB Configuration Update procedure towards
the same MME again. For the unsuccessful update case the eNB and the MME shall
continue with the existing configuration data.
#### 19.2.2.9a eNB Configuration Transfer procedure
The eNB Configuration Transfer procedure is initiated by the eNB to request
and/or transfer RAN configuration information via the core network.
Figure 19.2.2.9a-1: eNB Configuration Transfer procedure
The eNB Configuration Transfer procedure is initiated by the eNB by sending
the eNB CONFIGURATION TRANSFER message to the MME. The eNB CONFIGURATION
TRANSFER message contains RAN configuration information (e.g. SON information)
and other relevant information such as the routing address which identifies
the final RAN destination node.
#### 19.2.2.10 MME Configuration Update procedure
The MME Configuration Update procedure is used to provide updated configured
data and changes of the relative MME capacity values in the MME. The MME
Configuration Update procedure is triggered by the MME.
Figure 19.2.2.10-1: MME Configuration Update procedure
\- The MME initiates the MME Configuration Update procedure by sending the MME
CONFIGURATION UPDATE message including updated configured data like served
PLMNs and changes of the relative MME capacity values to the eNB.
\- The eNB responds with the MME CONFIGURATION UPDATE ACKNOWLEDGE message to
acknowledge that the provided configuration data and the relative MME capacity
values are successfully updated.
\- The eNB shall overwrite and store the received configuration data and
relative MME capacity values which are included in the MME CONFIGURATION
UPDATE message. Configuration data which has not been included in the MME
CONFIGURATION UPDATE message are interpreted by the eNB as still valid.
\- In case the eNB cannot accept the received configuration updates the eNB
shall respond with the MME CONFIGURATION UPDATE FAILURE message including an
appropriate cause value to indicate the reason of the denial. The eNB
optionally indicates in the MME CONFIGURATION UPDATE FAILURE message when the
MME is allowed to re-initiate the MME Configuration Update procedure towards
the same eNB again. For the unsuccessful update case the eNB and the MME shall
continue with the existing configuration data and relative MME capacity
values.
#### 19.2.2.10a MME Configuration Transfer procedure
The MME Configuration Transfer procedure is initiated by the MME to request
and/or transfer RAN configuration information to the eNB.
Figure 19.2.2.10a-1: MME Configuration Transfer procedure
The MME Configuration Transfer procedure is initiated by the MME by sending
the MME CONFIGURATION TRANSFER message to the eNB. The MME CONFIGURATION
TRANSFER message contains RAN configuration information (e.g. SON information)
and other relevant information.
#### 19.2.2.11 Location Reporting procedures
The Location Reporting procedures provide the means to report the current
location of a specific UE.
The procedures providing this function are:
\- Location Reporting Control procedure
\- Location Report procedure
\- Location Report Failure Indication procedure
##### 19.2.2.11.1 Location Reporting Control procedure
Figure 19.2.2.11.1-1: Location Reporting Control procedure
The Location Reporting Control procedure is initiated by the MME sending the
LOCATION REPORTING CONTROL to the eNB to request the current location
information, e.g. Cell ID, of a specific UE, and how the information shall be
reported, e.g. direct report, report every cell change. The Location Reporting
Control procedure is also used to terminate reporting on cell change.
If the Location Reporting Control procedure fails, e.g. due to an interaction
with an initiated handover then the eNB shall indicate the failure using the
Location Report Failure Indication procedure.
If the Location Reporting Control procedure is on going for a specific UE and
the eNB received an UE CONTEXT RELEASE COMMAND message from MME this specific
UE then the eNB shall terminate the on-going Location Reporting.
##### 19.2.2.11.2 Location Report procedure
Figure 19.2.2.11.2-1: Location Report procedure
The Location Report procedure is initiated by the eNB by sending the LOCATION
REPORT to the MME to report the current location information of a specific UE
as a standalone report, or every time UE changes cell.
##### 19.2.2.11.3 Location Report Failure Indication procedure
Figure 19.2.2.11.3-1: Location Report Failure Indication procedure
The Location Report Failure Indication procedure is initiated by the eNB by
sending the LOCATION REPORT FAILURE INDICATION to the MME to indicate that the
Location Report Control procedure has failed due to e.g. UE has performed
inter-eNB handover.
#### 19.2.2.12 Overload procedure
##### 19.2.2.12.1 Overload Start procedure
The Overload Start procedure is used by the MME to indicate to a proportion of
eNBs to which the MME has an S1 interface connection that the MME is
overloaded. The Overload Start procedure is used to provide an indication of
which type of RRC connections needs to be rejected/permitted only.
Figure 19.2.2.12.1-1 Overload Start procedure
If the OVERLOAD START message contains a list of GUMMEIs, the eNB shall select
the new RRC connections to be rejected based on this list.
##### 19.2.2.12.2 Overload Stop procedure
The Overload Stop procedure is used by the MME to indicate the concerned
eNB(s) that the MME is no longer overloaded.
Figure 19.2.2.12.2-1: Overload Stop procedure
If the OVERLOAD STOP message contains a list of GUMMEIs, the eNB shall stop
rejecting the new RRC connections corresponding to each received GUMMEI value
if applicable.
#### 19.2.2.13 Write-Replace Warning procedure
Figure 19.2.2.13.1-1: Write-Replace Warning procedure
The Write-Replace Warning procedure is used to start the broadcasting of a PWS
warning message.
ETWS is an example of PWS warning system using this procedure where one
message at a time can be delivered over the radio.
CMAS is another example of PWS warning system using this procedure which
allows the broadcast of multiple concurrent warning messages over the radio.
The procedure is initiated by the MME by sending WRITE-REPLACE WARNING REQUEST
message containing at least the Message Identifier, Warning Area list,
information on how the broadcast should be performed, and the contents of the
warning message to be broadcast.
The eNB responds with WRITE-REPLACE WARNING RESPONSE message to acknowledge
that the requested PWS warning message broadcast was initiated.
ETWS and CMAS are independent services and ETWS and CMAS messages are
differentiated over S1 in order to allow different handling.
In the case of ETWS, the Write-Replace Warning procedure can also be used to
overwrite the ongoing broadcasting of an ETWS warning message.
#### 19.2.2.14 eNB Direct Information Transfer procedure
The eNB Direct Information Transfer procedure is initiated by the eNB to
request and transfer information to the core network.
Figure 19.2.2.14-1: eNB Direct Information Transfer procedure
The eNB Direct Information Transfer procedure is initiated by the eNB by
sending the eNB DIRECT INFORMATION TRANSFER message to the MME. The eNB DIRECT
INFORMATION TRANSFER message contains RIM information and RIM routing address
which identifies the final RAN destination node.
#### 19.2.2.15 MME Direct Information Transfer procedure
The MME Direct Information Transfer procedure is initiated by the MME to
request and transfer information to the eNB.
Figure 19.2.2.15-1: MME Direct Information Transfer procedure
The MME Direct Information Transfer procedure is initiated by the MME by
sending the MME DIRECT INFORMATION TRANSFER message to the eNB. The MME DIRECT
INFORMATION TRANSFER message contains RIM information.
#### 19.2.2.16 S1 CDMA2000 Tunnelling procedures
The S1 CDMA2000 Tunnelling procedures carry CDMA2000 signalling messages
between UE and CDMA2000 RAT over the S1 Interface. This includes signalling
for pre-registration and handover preparation for optimized mobility from
E-UTRAN to CDMA2000 HRPD, signalling for handover preparation for mobility
from E-UTRAN to CDMA2000 1xRTT and signalling to support CS fallback to
CDMA2000 1xRTT for mobile originated and mobile terminated CS domain services.
The CDMA2000 messages are tunnelled transparently to the eNB and MME, however,
additional information may be sent along with the tunnelled CDMA2000 message
to assist the eNodeB and MME in the Tunnelling procedure. The procedures
providing this functionality are:
\- Downlink S1 CDMA2000 Tunnelling procedure;
\- Uplink S1 CDMA2000 Tunnelling procedure.
##### 19.2.2.16.1 Downlink S1 CDMA2000 Tunnelling procedure
The MME sends the DOWNLINK S1 CDMA2000 TUNNELLING message to the eNB to
forward a CDMA2000 message towards an UE for which a logical S1 connection
exists (see Figure 19.2.2.16.1-1 below).
Figure 19.2.2.16.1-1: Downlink S1 CDMA2000 Tunnelling procedure
##### 19.2.2.16.2 Uplink S1 CDMA2000 Tunnelling procedure
The eNB sends the UPLINK S1 CDMA2000 TUNNELLING message to the MME to forward
a CDMA2000 message towards the CDMA2000 RAT (HRPD or 1xRTT) as depicted on
Figure 19.2.2.16.2-1 below.
Figure 19.2.2.16.2-1: Uplink S1 CDMA2000 Tunnelling procedure
#### 19.2.2.17 Kill procedure
Figure 19.2.2.17-1: Kill procedure
The Kill procedure is used to stop the broadcasting a PWS warning message.
CMAS is an example of warning system using this procedure. The ETWS warning
system doesn't use this procedure.
The procedure is initiated by the MME sending the KILL REQUEST message
containing at least the Message Identifier and serial number of the message to
be killed and the Warning Area List where it shall be killed.
The eNB responds with a KILL RESPONSE message to acknowledge that the
requested PWS message broadcast delivery has actually been stopped.
#### 19.2.2.18 LPPa Transport procedures
An LPPa signalling message is transferred on the S1 interface in both
directions. The procedures providing this functionality are:
\- Downlink UE Associated LPPa Transport procedure;
\- Uplink UE Associated LPPa Transport procedure;
\- Downlink Non UE Associated LPPa Transport procedure;
\- Uplink Non UE Associated LPPa Transport procedure.
The UE-associated signalling is used to support E-CID positioning of a
specific UE. The non-UE associated signalling is used to obtain assistance
data from an eNodeB to support OTDOA positioning for any UE.
##### 19.2.2.18.1 Downlink UE Associated LPPa Transport procedure
The Downlink UE Associated LPPa Transport procedure is initiated by the MME by
sending the DOWNLINK UE ASSOCIATED LPPA TRANSPORT message to the eNB. The
DOWNLINK UE ASSOCIATED LPPA TRANSPORT contains an LPPa message.
Figure 19.2.2.18.1-1: Downlink UE Associated LPPa Transport procedure
##### 19.2.2.18.2 Uplink UE Associated LPPa Transport procedure
The Uplink UE Associated LPPa Transport procedure is initiated by the eNB by
sending the UPLINK UE ASSOCIATED LPPA TRANSPORT message to the MME. The UPLINK
UE ASSOCIATED LPPA TRANSPORT message contains a LPPa message.
Figure 19.2.2.18.2-1: Uplink UE Associated LPPa Transport procedure
##### 19.2.2.18.3 Downlink Non UE Associated LPPa Transport procedure
The Downlink Non UE Associated LPPa Transport procedure is initiated by the
MME by sending the DOWNLINK NON UE ASSOCIATED LPPA TRANSPORT message to the
eNB. The DOWNLINK NON UE ASSOCIATED LPPA TRANSPORT contains a LPPa message.
Figure 19.2.2.18.3-1: Downlink Non UE Associated LPPa Transport procedure
##### 19.2.2.18.4 Uplink Non UE Associated LPPa Transport procedure
The Uplink Non UE Associated LPPa Transport procedure is initiated by the eNB
by sending the UPLINK NON UE ASSOCIATED LPPA TRANSPORT message to the MME. The
UPLINK NON UE ASSOCIATED LPPA TRANSPORT message contains an LPPa message.
Figure 19.2.2.18.4-1: Uplink Non UE Associated LPPa Transport procedure
#### 19.2.2.19 Trace procedures
The Trace procedures provide the means to control trace sessions and MDT
sessions in the eNB for both signalling and management triggered sessions.
The procedures providing this function are:
\- Trace Start procedure;
\- Trace Failure Indication procedure;
\- Deactivate Trace procedure;
\- Cell Traffic Trace procedure.
##### 19.2.2.19.1 Trace Start procedure
Figure 19.2.2.19.1-1: Trace Start procedure
The Trace Start procedure is initiated by the MME by sending the TRACE START
message to the eNB in order to request the initiation of a trace session for a
specific UE in ECM_CONNECTED mode or request the initiation of an MDT session
for a specific UE.
##### 19.2.2.19.2 Trace Failure Indication procedure
Figure 19.2.2.19.2-1: Trace Failure Indication procedure
The Trace Failure Indication procedure is initiated by the eNB by sending the
TRACE FAILURE INDICATION message to the MME to report that a Trace Start
procedure or a Deactivate Trace procedure has failed due to an interaction
with a handover procedure.
##### 19.2.2.19.3 Deactivate Trace procedure
Figure 19.2.2.19.3-1: Deactivate Trace procedure
The Deactivate Trace procedure is initiated by the MME by sending the
DEACTIVATE TRACE message to the eNB to request the termination of an ongoing
trace session.
##### 19.2.2.19.4 Cell Traffic Trace procedure
Figure 19.2.2.19.4-1: Cell Traffic Trace procedure
The Cell Traffic Trace procedure is initiated by the eNB by sending the CELL
TRAFFIC TRACE message to the MME to report the allocated Trace Recording
Session Reference and the Trace Reference to MME. This procedure is used to
support management triggered trace.
#### 19.2.2.20 UE Capability Info Indication procedure
The purpose of the UE Capability Info Indication procedure is to enable the
eNB to provide to the MME UE capability-related information.
Figure 19.2.2.20-1: UE Capability Info Indication procedure
# 20 X2 Interface
## 20.1 User Plane
The X2 user plane interface (X2-U) is defined between eNBs. The X2-U interface
provides non guaranteed delivery of user plane PDUs. The user plane protocol
stack on the X2 interface is shown in Figure 20.1-1. The transport network
layer is built on IP transport and GTP-U is used on top of UDP/IP to carry the
user plane PDUs.
The X2-UP interface protocol stack is identical to the S1-UP protocol stack.
Figure 20.1-1: X2 Interface User Plane (eNB-eNB)
## 20.2 Control Plane
The X2 control plane interface (X2-CP) is defined between two neighbour eNBs.
The control plane protocol stack of the X2 interface is shown on Figure 20.2-1
below. The transport network layer is built on SCTP on top of IP. The
application layer signalling protocol is referred to as X2-AP (X2 Application
Protocol).
Figure 20.2-1: X2 Interface Control Plane
A single SCTP association per X2-C interface instance shall be used with one
pair of stream identifiers for X2-C common procedures. Only a few pairs of
stream identifiers should be used for X2-C dedicated procedures.
Source-eNB communication context identifiers that are assigned by the source-
eNB for X2-C dedicated procedures, and target-eNB communication context
identifiers that are assigned by the target-eNB for X2-C dedicated procedures,
shall be used to distinguish UE specific X2-C signalling transport bearers.
The communication context identifiers are conveyed in the respective X2AP
messages.
RNs terminate X2-AP. In this case, there is one X2 interface relation between
the RN and the DeNB.
### 20.2.1 X2-CP Functions
The X2AP protocol supports the following functions:
\- Intra LTE-Access-System Mobility Support for UE in ECM-CONNECTED:
\- Context transfer from source eNB to target eNB;
\- Control of user plane tunnels between source eNB and target eNB;
\- Handover cancellation.
\- Load Management;
\- General X2 management and error handling functions:
\- Error indication;
\- Setting up the X2;
\- Resetting the X2;
\- Updating the X2 configuration data;
> \- Mobility failure event notification and information exchange in support
> of handover settings negotiation.
\- Energy Saving. This function allows decreasing energy consumption by
enabling indication of cell activation/deactivation.
### 20.2.2 X2-CP Procedures
The elementary procedures supported by the X2AP protocol are listed in Table
8.1-1 and Table 8.1-2 of TS 36.423 [42].
#### 20.2.2.1 Handover Preparation procedure
The Handover preparation procedure is initiated by the source eNB if it
determines the necessity to initiate the handover via the X2 interface.
Figure 20.2.2.1-1: Handover Preparation procedure
The source eNB sends a HANDOVER REQUEST to the target eNB including the
bearers to be setup by the target ENB.
The handover preparation phase is finished upon the reception of the HANDOVER
REQUEST ACKNOWLEDGE message in the source eNB, which includes at least radio
interface related information (HO Command for the UE), successfully
established E-RAB(s) and failed established E-RAB(s).
In case the handover resource allocation is not successful (e.g. no resources
are available on the target side) the target eNB responds with the HANDOVER
PREPARATION FAILURE message instead of the HANDOVER REQUEST ACKNOWLEDGE
message.
If eNB received NAS message from MME during X2 handover procedure, it shall be
acted as specified in subclause 19.2.2.6.
#### 20.2.2.2 Handover Cancel procedure
This functionality is located in the source eNB to allow cancellation of the
handover procedure.
Figure 20.2.2.2-1: Handover Cancel procedure
The source eNB sends a HANDOVER CANCEL message to the target eNB indicating
the reason for the handover cancellation.
#### 20.2.2.3 UE Context Release procedure
The UE Context Release procedure is initiated by the target eNB to signal to
the source eNB that resources for the handed over UE context can be released.
Figure 20.2.2.3-1: UE Context Release procedure
By sending UE CONTEXT RELEASE the target eNB informs the source eNB of
Handover success and triggers the release of resources.
#### 20.2.2.4 SN Status Transfer procedure
The purpose of the SN Status Transfer procedure is to transfer the uplink PDCP
SN and HFN receiver status and the downlink PDCP SN and HFN transmitter status
from the source to the target eNB during an X2 handover for each respective
E-RAB for which PDCP SN and HFN status preservation applies.
Figure 20.2.2.4-1: SN Status Transfer procedure
#### 20.2.2.5 Error Indication procedure
The Error Indication procedure is initiated by an eNB to signal to a peer eNB
an error situation in a received message, provided it cannot be reported by an
appropriate failure message.
Figure 20.2.2.5-1: Error Indication procedure
#### 20.2.2.6 Load Indication procedure
Inter-cell interference coordination in E-UTRAN is performed through the X2
interface. In case of variation in the interference conditions, the eNB
signals the new condition to its neighbour eNBs e.g. the neighbour eNBs for
which an X2 interface is configured due to mobility reasons.
When the time-domain inter-cell interference coordination is used to mitigate
interferece, the eNB signals its almost blank subframe (ABS) patterns to its
neighbor eNBs, so that the receiving eNB can utilize the ABS of the sending
eNB with less interference.
NOTE: A typical use case of the time-domain solution of inter-cell
interference coordination is the one where an eNB providing broader coverage
and therefore being more capacity constrained determines its ABS patterns and
indicates them to eNBs, providing smaller coverage residing in its area.
The Load Indication procedure is used to transfer interference co-ordination
information between neighbouring eNBs managing intra-frequency cells.
Figure 20.2.2.6-1: Load Indication procedure
#### 20.2.2.7 X2 Setup procedure
The purpose of the X2 Setup procedure is to exchange application level data
needed for two eNBs to interoperate correctly over the X2 interface.
Figure 20.2.2.7-1: X2 Setup procedure
#### 20.2.2.8 eNB Configuration Update procedure
The purpose of the eNB Configuration Update procedure is to update application
level configuration data needed for two eNBs to interoperate correctly over
the X2 interface.
Figure 20.2.2.8-1: eNB Configuration Update procedure
#### 20.2.2.9 Reset procedure
The Reset procedure is initiated by an eNB to align the resources with a peer
eNB in the event of an abnormal failure. The procedure resets the whole X2
interface.
Figure 20.2.2.9-1: Reset procedure
#### 20.2.2.10 Resource Status Reporting Initiation procedure
The Resource Status Reporting Initiation procedure is used by an eNB to
request load measurements from another eNB.
Figure 20.2.2.10-1: Resource Status Reporting Initiation procedure
#### 20.2.2.11 Resource Status Reporting procedure
The Resource Status Reporting procedure reports measurement results requested
by another eNB.
Figure 20.2.2.11-1: Resource Status Reporting procedure
#### 20.2.2.12 Radio Link Failure Indication procedure
The purpose of the Radio Link Failure Indication procedure is to enable
mobility robustness improvement in E-UTRAN by passing information about a
failure event over the X2 interface.
When a re-establishment request is received or a connection failure reported
after RRC connection setup or an incoming successful handover, the eNB uses
the cell identifiers provided by the UE to identify the potentially previous
serving cell/eNB. The eNB that received the information about the failure
sends a RLF INDICATION message to the concerned eNB(s). The previously serving
eNB may then match the correct context, or use the information available in
the RLF Report, if included in the RLF INDICATION message, to analyze the
possible root cause of the failure.
Figure 20.2.2.12-1: Radio Link Failure Indication procedure
#### 20.2.2.13 Handover Report procedure
The purpose of the Handover Report procedure is to enable mobility robustness
improvement in E-UTRAN by passing information connected to the analysis of an
RLF which occurred shortly after a successful handover.
The eNB where the RLF occurred (original target eNB) sends a HANDOVER REPORT
message to the original source eNB, identifying the source cell, the target
cell, and the cell where re-establishment took place.
Figure 20.2.2.13-1: Handover Report procedure
#### 20.2.2.14 Mobility Settings Change procedure
The purpose of the MOBILITY SETTINGS CHANGE procedure is to enable an eNB to
send a MOBILITY CHANGE REQUEST message to a peer eNB to negotiate the handover
trigger settings.
Figure 20.2.2.14-1: Mobility Settings Change procedure
#### 20.2.2.15 Cell Activation procedure
The purpose of the Cell Activation procedure is to enable an eNB to send a
CELL ACTIVATION REQUEST message to a peer eNB to request the re-activation of
one or more cells, controlled by the peer eNB and which had been previously
indicated as dormant.
Figure 20.2.2.15-1: Cell Activation procedure
### 20.2.3 Void
# 21 Void
## 21.1 Void
## 21.2 Void
## 21.3 Void
# 22 Support for self-configuration and self-optimisation
## 22.1 Definitions
This concept includes several different functions from eNB activation to radio
parameter tuning. Figure 22.1-1 is a basic framework for all self-
configuration /self-optimization functions.
**Self-configuration process** is defined as the process where newly deployed
nodes are configured by automatic installation procedures to get the necessary
basic configuration for system operation.
This process works in pre-operational state. Pre-operational state is
understood as the state from when the eNB is powered up and has backbone
connectivity until the RF transmitter is switched on.
As described in Figure 21.1, functions handled in the pre-operational state
like:
\- Basic Setup and
\- Initial Radio Configuration
are covered by the Self Configuration process.
**Self-optimization process** is defined as the process where UE & eNB
measurements and performance measurements are used to auto-tune the network.
This process works in operational state. Operational state is understood as
the state where the RF interface is additionally switched on.
As described in Figure 21.1, functions handled in the operational state like:
\- Optimization / Adaptation
are covered by the Self Optimization process.
Figure 22.1-1: Ramifications of Self-Configuration /Self-Optimization
functionality
## 22.2 UE Support for self-configuration and self-optimisation
UE shall support measurements and procedures which can be used for self-
configuration and self-optimisation of the E-UTRAN system.
\- UE shall support measurements and measurement reporting to support self-
optimisation of the E-UTRAN system. Measurements and reports used for the
normal system operation, should be used as input for the self-optimisation
process as far as possible.
\- The network is able to configure the measurements and the reporting for
self-optimisation support by RRC signalling messages.
## 22.3 Self-configuration
### 22.3.1 Dynamic configuration of the S1-MME interface
#### 22.3.1.1 Prerequisites
The following prerequisites are assumed:
  * An initial remote IP end point to be used for SCTP initialisation is provided to the eNB for each MME. The eNB may be in pre-operational or operational state when this occurs.
How the eNB gets the remote IP end point(s) and its own IP address are outside
the scope of this specification.
#### 22.3.1.2 SCTP initialization
For each MME the eNodeB tries to initialize a SCTP association as described in
IETF RFC 4960 [8], using a known initial remote IP Endpoint as the starting
point, until SCTP connectivity is established.
#### 22.3.1.3 Application layer initialization
Once SCTP connectivity has been established, the eNodeB and MME shall exchange
application level configuration data over the S1-MME application protocol with
the S1 Setup Procedure, which is needed for these two nodes to interwork
correctly on the S1 interface.
\- The eNodeB provides the relevant configuration information to the MME,
which includes list of supported TA(s), etc.
\- The MME provides the relevant configuration information to the eNodeB,
which includes PLMN ID, etc.
\- When the application layer initialization is successfully concluded, the
dynamic configuration procedure is completed and the S1-MME interface is
operational.
### 22.3.2 Dynamic Configuration of the X2 interface
#### 22.3.2.1 Prerequisites
The following prerequisites are assumed:
\- An initial remote IP end point to be used for SCTP initialisation is
provided to the eNB.
#### 22.3.2.2 SCTP initialization
For candidate eNB the eNB tries to initialize a SCTP association as described
in IETF RFC 4960 [8], using a known initial remote IP Endpoint as the starting
point, until SCTP connectivity is established.
#### 22.3.2.3 Application layer initialization
Once SCTP connectivity has been established, the eNB and its candidate peer
eNB are in a position to exchange application level configuration data over
the X2 application protocol needed for the two nodes to interwork correctly on
the X2 interface.
\- The eNB provides the relevant configuration information to the candidate
eNB, which includes served cell information, etc.
\- The candidate eNB provides the relevant configuration information to the
initiating eNB, which includes served cell information, etc.
\- When the application layer initialization is successfully concluded, the
dynamic configuration procedure is completed and the X2 interface is
operational.
\- eNBs shall keep neighbouring eNBs updated with the complete list of served
cells while the X2 interface is operational.
### 22.3.2a Automatic Neighbour Relation Function
The purpose of the **Automatic Neighbour Relation** (ANR) function is to
relieve the operator from the burden of manually managing Neighbour Relations
(NRs). Figure 22.3.2a-1 shows ANR and its environment:
Figure 22.3.2a-1: Interaction between eNB and O&M due to ANR
The ANR function resides in the eNB and manages the conceptual Neighbour
Relation Table (NRT). Located within ANR, the Neighbour Detection Function
finds new neighbours and adds them to the NRT. ANR also contains the Neighbour
Removal Function which removes outdated NRs. The Neighbour Detection Function
and the Neighbour Removal Function are implementation specific.
A **Neighbour cell Relation** (NR) in the context of ANR is defined as
follows:
An existing Neighbour Relation from a source cell to a target cell means that
eNB controlling the source cell:
_a)_ Knows the ECGI/CGI and PCI of the target cell.
_b)_ Has an entry in the Neighbour Relation Table for the source cell
identifying the target cell.
_c)_ Has the attributes in this Neighbour Relation Table entry defined, either
by O&M or set to default values.
For each cell that the eNB has, the eNB keeps a NRT, see Figure 22.3.2a-1. For
each NR, the NRT contains the Target Cell Identifier (TCI), which identifies
the target cell. For E-UTRAN, the TCI corresponds to the E-UTAN Cell Global
Identifier (ECGI) and Physical Cell Identifier (PCI) of the target cell.
Furthermore, each NR has three attributes, the NoRemove, the NoHO and the NoX2
attribute. These attributes have the following definitions:
**\- No Remove** : If checked, the eNB shall not remove the Neighbour cell
Relation from the NRT.
**\- No HO** : If checked, the Neighbour cell Relation shall not be used by
the eNB for handover reasons.
**\- No X2:** If checked, the Neighbour Relation shall not use an X2 interface
in order to initiate procedures towards the eNB parenting the target cell.
Neighbour cell Relations are cell-to-cell relations, while an X2 link is set
up between two eNBs. Neighbour cell Relations are unidirectional, while an X2
link is bidirectional.
The ANR function also allows O&M to manage the NRT. O&M can add and delete
NRs. It can also change the attributes of the NRT. The O&M system is informed
about changes in the NRT.
### 22.3.3 Intra-LTE/frequency Automatic Neighbour Relation Function
The ANR (Automatic Neighbour Relation) function relies on cells broadcasting
their identity on global level, E-UTRAN Cell Global Identifier (ECGI).
{width="6.530555555555556in" height="3.863888888888889in"}
Figure 22.3.3-1: Automatic Neighbour Relation Function
The function works as follows:
The eNB serving cell A has an ANR function. As a part of the normal call
procedure, the eNB instructs each UE to perform measurements on neighbour
cells. The eNB may use different policies for instructing the UE to do
measurements, and when to report them to the eNB. This measurement procedure
is as specified in TS 36.331 [16].
1\. The UE sends a measurement report regarding cell B. This report contains
Cell B's PCI, but not its ECGI.
When the eNB receives a UE measurement report containing the PCI, the
following sequence may be used.
2\. The eNB instructs the UE, using the newly discovered PCI as parameter, to
read the ECGI, the TAC and all available PLMN ID(s) of the related neighbour
cell. To do so, the eNB may need to schedule appropriate idle periods to allow
the UE to read the ECGI from the broadcast channel of the detected neighbour
cell. How the UE reads the ECGI is specified in TS 36.331 [16].
3\. When the UE has found out the new cell's ECGI, the UE reports the detected
ECGI to the serving cell eNB. In addition the UE reports the tracking area
code and all PLMN IDs that have been detected. If the detected cell is a CSG
or hybrid cell, the UE also reports the CSG ID to the serving cell eNB.
4\. The eNB decides to add this neighbour relation, and can use PCI and ECGI
to:
a Lookup a transport layer address to the new eNB.
b Update the Neighbour Relation List.
c If needed, setup a new X2 interface towards this eNB. The setup of the X2
interface is described in section 22.3.2.
NOTE: The eNB may differentiate the open access HeNB from the other types of
(H)eNB by the PCI configuration or ECGI configuration.
### 22.3.4 Inter-RAT/Inter-frequency Automatic Neighbour Relation Function
Figure 22.3.4-1: Automatic Neighbour Relation Function in case of UTRAN
detected cell
For Inter-RAT and Inter-Frequency ANR, each cell contains an Inter Frequency
Search list. This list contains all frequencies that shall be searched.
For Inter-RAT cells, the NoX2 attribute in the NRT is absent, as X2 is only
defined for E-UTRAN.
The function works as follows:
The eNB serving cell A has an ANR function. During connected mode, the eNB can
instruct a UE to perform measurements and detect cells on other
RATs/frequencies. The eNB may use different policies for instructing the UE to
do measurements, and when to report them to the eNB.
1 The eNB instructs a UE to look for neighbour cells in the target
RATs/frequencies. To do so the eNB may need to schedule appropriate idle
periods to allow the UE to scan all cells in the target RATs/frequencies.
2 The UE reports the PCI of the detected cells in the target RATs/frequencies.
The PCI is defined by the carrier frequency and the Primary Scrambling Code
(PSC) in case of UTRAN FDD cell, by the carrier frequency and the cell
parameter ID in case of UTRAN TDD cell, by the Band Indicator + BSIC + BCCH
ARFCN in case of GERAN cell and by the PN Offset in case of CDMA2000 cell.
When the eNB receives UE reports containing PCIs of cell(s) the following
sequence may be used.
3 The eNB instructs the UE, using the newly discovered PCI as parameter, to
read the CGI and the RAC of the detected neighbour cell in case of GERAN
detected cells, CGI, LAC and, RAC in case of UTRAN detected cells and CGI in
case of CDMA2000 detected cells. For the Interfrequency case, the eNB
instructs the UE, using the newly discovered PCI as parameter, to read the
ECGI, TAC and all available PLMN ID(s) of the inter-frequency detected cell.
The UE ignores transmissions from the serving cell while finding the requested
information transmitted in the broadcast channel of the detected inter-
system/inter-frequency neighbour cell. To do so, the eNB may need to schedule
appropriate idle periods to allow the UE to read the requested information
from the broadcast channel of the detected inter-RAT/inter-frequency neighbour
cell.
4 After the UE has read the requested information in the new cell, it reports
the detected CGI and RAC (in case of GERAN detected cells) or CGI, LAC and RAC
(in case of UTRAN detected cells) or CGI (in case of CDMA2000 detected cells)
to the serving cell eNB. In the inter-frequency case, the UE reports the ECGI,
the, tracking area code and all PLMN-ID(s) that have been detected. If the
detected cell is a CSG or hybrid cell, the UE also reports the CSG ID to the
serving cell eNB.
5 The eNB updates its inter-RAT/inter-frequency Neighbour Relation Table.
In the inter-frequency case and if needed, the eNB can use the PCI and ECGI
for a new X2 interface setup towards this eNB. The setup of the X2 interface
is described in section 22.3.2.
NOTE: The eNB may differentiate the open access HeNB from the other types of
(H)eNB by the PCI configuration or ECGI configuration.
### 22.3.5 Framework for PCI Selection
The eNB shall base the selection of its PCI either on a centralized or
distributed PCI assignment algorithm:
[Centralized PCI assignment] The OAM signals a specific PCI value. The eNB
shall select this value as its PCI.
[Distributed PCI assignment] The OAM signals a list of PCI values. The eNB may
restrict this list by removing PCI-s that are:
a) reported by UEs;
b) reported over the X2 interface by neighbouring eNBs; and/or
c) acquired through other implementation dependent methods, e.g. heard over
the air using a downlink receiver.
The eNB shall select a PCI value randomly from the remaining list of PCIs.
### 22.3.6 TNL address discovery
#### 22.3.6.1 TNL address discovery of candidate eNB via S1 interface
If the eNB is aware of the eNB ID of the candidate eNB (e.g. via the ANR
function) but not a TNL address suitable for SCTP connectivity, then the eNB
can utilize the Configuration Transfer Function to determine the TNL address
as follows:
\- The eNB sends the eNB CONFIGURATION TRANSFER message to the MME to request
the TNL address of the candidate eNB, and includes relevant information such
as the source and target eNB ID.
\- The MME relays the request by sending the MME CONFIGURATION TRANSFER
message to the candidate eNB identified by the target eNB ID.
\- The candidate eNB responds by sending the eNB CONFIGURATION TRANSFER
message containing one or more TNL addresses to be used for SCTP connectivity
with the initiating eNB, and includes other relevant information such as the
source and target eNB ID.
\- The MME relays the response by sending the MME CONFIGURATION TRANSFER
message to the initiating eNB identified by the target eNB ID.
## 22.4 Self-optimisation
### 22.4.1 Support for Mobility Load Balancing
#### 22.4.1.1 General
The objective of load balancing is to distribute cell load evenly among cells
or to transfer part of the traffic from congested cells. This is done by the
means of self-optimisation of mobility parameters or handover actions.
Self-optimisation of the intra-LTE and inter-RAT mobility parameters to the
current load in the cell and in the adjacent cells can improve the system
capacity compared to static/non-optimised cell reselection/handover
parameters. Such optimisation can also minimize human intervention in the
network management and optimization tasks.
Support for mobility load balancing consists of one or more of following
functions:
\- Load reporting;
\- Load balancing action based on handovers;
\- Adapting handover and/or reselection configuration.
Triggering of each of these functions is optional and depends on
implementation. Functional architecture is presented in Figure 22.4.1.1-1.
Figure 22.4.1.1-1: Functional architecture of SON load balancing
22.4.1.2 Load reporting
The load reporting function is executed by exchanging cell specific load
information between neighbour eNBs over the X2 interface (intra-LTE scenario)
or S1 (inter-RAT scenario).
##### 22.4.1.2.1 Load reporting for intra-LTE scenario
The load information consists of:
\- radio resource usage (UL/DL GBR PRB usage, UL/DL non-GBR PRB usage, UL/DL
total PRB usage),
\- HW load indicator (UL/DL HW load: low, mid, high, overload),
\- TNL load indicator (UL/DL TNL load: low, mid, high, overload),
\- (Optionally) Cell Capacity Class value (UL/DL relative capacity indicator:
the same scale shall apply to E-UTRAN, UTRAN and GERAN cells when mapping cell
capacities on this value),
\- Capacity value (UL/DL available capacity for load balancing as percentage
of total cell capacity)
NOTE 1: Capacity value is expressed in available E-UTRAN resources.
NOTE 2: A cell is expected to accept traffic corresponding to the indicated
available capacity.
##### 22.4.1.2.2 Load reporting for inter-RAT scenario
The load information consists of:
\- Cell Capacity Class value (UL/DL relative capacity indicator: the same
scale shall apply to E-UTRAN, UTRAN and GERAN cells when mapping cell
capacities on this value).
\- Capacity value (UL/DL available capacity for load balancing as percentage
of total cell capacity)
NOTE 1: Capacity value is expressed in available E-UTRAN resources.
NOTE 2: A cell is expected to accept traffic corresponding to the indicated
available capacity.
Event-triggered inter-RAT load reports are sent when the reporting node
detects crossing of cell load thresholds.
Load information shall be provided in a procedure separated from existing
active mode mobility procedures, which shall be used infrequently and with
lower priority with respect to the UE dedicated signalling.
22.4.1.3 Load balancing action based on handovers
The source cell may initiate handover due to load (see sub-clauses 10.1.2 and
10.2.2). The target cell performs admission control for the load balancing
handovers. A handover preparation related to a mobility load balancing action
shall be distinguishable from other handovers, so that the target cell is able
to apply appropriate admission control.
22.4.1.4 Adapting handover and/or reselection configuration
This function enables requesting of a change of handover and/or reselection
parameters at target cell. The source cell that initialized the load balancing
estimates if it is needed to change mobility configuration in the source
and/or target cell. If the amendment is needed, the source cell initializes
mobility negotiation procedure toward the target cell.
The source cell informs the target cell about the new mobility setting and
provides cause for the change (e.g. load balancing related request). The
proposed change is expressed by the means of the difference (delta) between
the current and the new values of the handover trigger. The handover trigger
is the cell specific offset that corresponds to the threshold at which a cell
initialises the handover preparation procedure. Cell reselection configuration
may be amended to reflect changes in the HO setting. The target cell responds
to the information from the source cell. The allowed delta range for HO
trigger parameter may be carried in the failure response message. The source
cell should consider the responses before executing the planned change of its
mobility setting.
All automatic changes on the HO and/or reselection parameters must be within
the range allowed by OAM.
### 22.4.2 Support for Mobility Robustness Optimisation
#### 22.4.2.1 General
Mobility Robustness Optimisation aims at detecting and enabling correction of
following problems:
\- Connection failure due to intra-LTE mobility
\- Unnecessary HO to another RAT (too early IRAT HO with no radio link
failure)
#### 22.4.2.2 Connection failure due to intra-LTE mobility
One of the functions of Mobility Robustness Optimization is to detect
connection failures that occur due to Too Early or Too Late Handovers, or
Handover to Wrong Cell. These problems are defined as follows:
\- [Too Late Handover] A connection failure occurs in the source cell before
the handover was initiated or during a handover; the UE attempts to re-
establish the radio link connection in the target cell (if handover was
initiated) or in a cell that is not the source cell (if handover was not
initiated).
\- [Too Early Handover] A connection failure occurs shortly after a successful
handover from a source cell to a target cell or during a handover; the UE
attempts to re-establish the radio link connection in the source cell.
\- [Handover to Wrong Cell] A connection failure occurs shortly after a
successful handover from a source cell to a target cell or during a handover;
the UE attempts to re-establish the radio link connection in a cell other than
the source cell and the target cell.
In addition MRO provides means to distinguish LTE coverage related problems
from the above problems.
Solution for failure scenarios consists of one or more of following functions:
\- Detection of the failure after RRC re-establishment attempt
\- Detection of the failure after RRC connection setup
Triggering of each of these functions is optional and depends on situation and
implementation.
**Detection of the failure after RRC re-establishment attempt:**
Detection mechanisms for Too Late Handover, Too Early Handover and Handover to
Wrong Cell are carried out through the following:
\- [Too Late Handover]\ If the UE attempts to re-establish the radio link
connection in a cell that belongs to eNB B, after a failure at the source cell
belonging to eNB A, different from eNB B, then eNB B may report this event to
eNB A by means of the RLF Indication Procedure.
\- [Too Early Handover]\ If the target cell belongs to an eNB B different from
the eNB A that controls the source cell, the eNB B may send a HANDOVER REPORT
message indicating a Too Early Handover event to eNB A upon eNB B receives an
RLF INDICATION message from eNB A and if eNB B has sent the UE CONTEXT RELEASE
message to eNB A related to the completion of an incoming handover for the
same UE within the last Tstore_UE_cntxt seconds or there exists a prepared
handover for the same UE in eNB B.
\- [Handover to Wrong Cell]\ If the type of the failure is Radio Link Failure
and the target cell belongs to eNB B that is different from the eNB A that
controls the source cell, the eNB B may send a HANDOVER REPORT message
indicating a Handover To Wrong Cell event to eNB A upon eNB B receives an RLF
INDICATION message from eNB C, and if eNB B has sent the UE CONTEXT RELEASE
message to eNB A related to the completion of an incoming handover for the
same UE within the last Tstore_UE_cntxt seconds or there exists a prepared
handover for the same UE in eNB B. This also applies when eNB A and eNB C are
the same. The HANDOVER REPORT message may also be sent if eNB B and eNB C are
the same and the RLF Indication is internal to this eNB.\ If the type of the
failure is Handover Failure during a handover from a cell in eNB A, and the UE
attempts to re-establish the radio link connection to a cell in eNB C, then
eNB C may send a RLF INDICATION message to eNB A.
The detection of the above events, when involving more than one eNB, is
enabled by the RLF Indication and Handover Report procedures.
The RLF Indication procedure may be initiated after a UE attempts to re-
establish the radio link connection at eNB B after a failure at eNB A. The RLF
INDICATION message sent from eNB B to eNB A shall contain the following
information elements:
\- Failure Cell ID: PCI of the cell in which the UE was connected prior to the
failure occurred;
\- Reestablishment Cell ID: ECGI of the cell where RL re-establishment attempt
is made;
\- C-RNTI: C-RNTI of the UE in the cell where UE was connected prior to the
failure occurred;
\- shortMAC-I (optionally): the 16 least significant bits of the MAC-I
calculated using the security configuration of the source cell and the re-
establishment cell identity;
\- UE RLF Report Container (optionally): the RLF Report received from the UE,
as specified in TS 36.331 [16].
eNB B may initiate RLF Indication towards multiple eNBs if they control cells
which use the PCI signalled by the UE during the re-establishment procedure.
The eNB A selects the UE context that matches the received Failure Cell ID and
C-RNTI, and, if available, uses the shortMAC-I to confirm this identification,
by calculating the shortMAC-I and comparing it to the received IE.
The Handover Report procedure is used in the case of recently completed
handovers, when a failure occurs in the target cell (in eNB B) shortly after
it sent the UE Context Release message to the source eNB A. The Handover
Report procedure is also used in case of unsuccessful handovers, if the random
access procedure in the target cell was completed successfully. The HANDOVER
REPORT message contains the following information:
\- Type of detected handover problem (Too Early Handover, Handover to Wrong
Cell);
\- ECGI of source and target cells in the handover;
\- ECGI of the re-establishment cell (in the case of Handover to Wrong Cell);
\- Handover cause (signalled by the source during handover preparation).
UE may provide the RLF Report to the eNB after successful RRC re-
establishment. The radio measurements contained in the RLF Report may be used
to identify coverage issues as the potential cause of the failure. This
information may be used to exclude those events from the MRO evaluation of
intra-LTE mobility connection failures and redirect them as input to other
algorithms.
**Detection of the failure after RRC connection setup:**
In case the RRC re-establishment fails or the UE does not perform any RRC re-
establishment, the UE makes the RLF Report available to the eNB after
reconnecting from idle mode. The RLF Report is described in section 22.4.5.
Availability of the RLF Report at the RRC connection setup procedure is the
indication that the UE suffered from a connection failure and that the RLF
Report from this failure was not yet delivered to the network. The RLF Report
from the UE includes the following information:
\- The E-CGI of the last cell that served the UE (in case of RLF) or the
target of the handover (in case of handover failure). If the E-CGI is not
known, the PCI and frequency information are used instead.
\- E-CGI of the cell that the re-establishment attempt was made at.
\- E-CGI of the cell that served the UE at the last handover initialisation,
i.e. when message 7 (RRC Conn. Reconf.) was received by the UE, as presented
in Figure 10.1.2.1.1-1.
\- Time elapsed since the last handover initialisation until connection
failure.
\- An indication whether the connection failure was due to RLF or handover
failure.
\- The radio measurements.
The eNB receiving the RLF Report from the UE may forward the report to the eNB
that served the UE before the reported connection failure using the RLF
INDICATION message. The radio measurements contained in the RLF Report may be
used to identify coverage issues as the potential cause of the failure. This
information may be used to exclude those events from the MRO evaluation of
intra-LTE mobility connection failures and redirect them as input to other
algorithms.
Detection of Too Late Handover, Too Early Handover and Handover to Wrong Cell
is carried out through the following:
\- [Too Late Handover]\ There is no recent handover for the UE prior to the
connection failure i.e. the UE reported timer is absent or larger than the
configured threshold, e.g. Tstore_UE_cntxt.
\- [Too Early Handover]\ There is a recent handover for the UE prior to the
connection failure i.e. the UE reported timer is smaller than the configured
threshold, e.g. Tstore_UE_cntxt, and the first re-establishment attempt cell
is the cell that served the UE at the last handover initialisation.
\- [Handover to Wrong Cell]\ There is a recent handover for the UE prior to
the connection failure i.e. the UE reported timer is smaller than the
configured threshold, e.g. Tstore_UE_cntxt, and the first re-establishment
attempt cell is neither the cell that served the UE at the last handover
initialisation nor the cell that served the UE where the RLF happened or the
cell that the handover was initialised toward.
In case of Too Early Handover or Handover to Wrong Cell, the eNB receiving the
RLF INDICATION message may use the HANDOVER REPORT message to inform the eNB
controlling the cell where the mobility configuration caused the failure.
**Handling multiple reports from a single failure event**
In case the RRC re-estalishment fails and the RRC connection setup succeeds,
MRO evaluation of intra-LTE mobility connection failures may be triggered
twice for the same failure event. In this case, only one failure event should
be counted.
#### 22.4.2.3 Unnecessary HO to another RAT
One of the purposes of inter-RAT Mobility Robustness Optimisation is the
detection of a non-optimal use of network resources. In particular, in case of
inter-RAT operations and when E-UTRAN is considered, the case known as
Unnecessary HO to another RAT _is identified. The problem is defined as
follows:_
\- UE is handed over from E-UTRAN to other RAT (e.g. GERAN or UTRAN) even
though quality of the E-UTRAN coverage was sufficient for the service used by
the UE. The handover may therefore be considered as unnecessary HO to another
RAT (too early IRAT HO without connection failure).
_In inter-RAT HO, if the serving cell_ threshold (E-UTRAN) is set too high,
and another RAT with good signal strength is available, a handover to another
RAT (e.g. UTRAN or GERAN) may be triggered unnecessarily, resulting in an
inefficient use of the networks. With a lower threshold the UE could have
continued in the source RAT (E-UTRAN)_._
To be able to detect the Unnecessary HO to another RAT, an eNB may choose to
put additional coverage and quality condition information into the HANDOVER
REQUIRED message in the Handover Preparation procedure when an inter-RAT HO
from E-UTRAN to another RAT occurs. The RAN node in the other RAT, upon
receiving this additional coverage and quality information, may instruct the
UE to continue measuring the source RAT (E-UTRAN) during a period of time,
while being connected to another RAT (e.g. UTRAN or GERAN), and send periodic
or single measurement reports to the other RAT (e.g. UTRAN or GERAN). When the
period of time indicated by the source RAT (E-UTRAN) expires, the RAN node in
the other RAT (e.g. UTRAN or GERAN), may evaluate the received measurement
reports with the coverage/quality condition received during the inter-RAT HO
procedure and decide if an inter-RAT unnecessary HO report should be sent to
the RAN node in the source RAT (E-UTRAN). The inter-RAT unnecessary HO report
should include the following information:
\- _Handover type (_ LTE to UTRAN, LTE to GERAN);
\- Type of detected handover problem (Unnecessary HO to another RAT);
\- ECGI of the source cell in the handover;
\- Cell ID of the target cell;
\- A list of cells whose radio quality, as reported in the UE's first
measurement report following the handover, exceeds the threshold indicated in
the additional coverage and quality information in the Handover Preparation
procedure.
The inter-RAT unnecessary HO report shall only be sent in cases where, in all
UE measurement reports collected during the measurement period, any source RAT
cells exceed the radio coverage and/or quality threshold (the radio threshold
RSRP or/and RSRQ and the measurement period are indicated in the additional
coverage and quality information in the Handover Preparation procedure). No HO
Report shall be sent in case no E-UTRAN cell could be included, or if the
indicated period of time is interrupted by a new outgoing inter-RAT handover,
intra-UMTS handover with SRNC relocation or inter-BSS handover.
The RAN node in the source RAT (E-UTRAN) upon receiving of the report, can
decide if/how its parameters (e.g., threshold to trigger IRAT HO) should be
adjusted.
#### 22.4.2.4 O&M Requirements
All automatic changes of the HO and/or reselection parameters for mobility
robustness optimisation shall be within the range allowed by OAM.
The following control parameters shall be provided by OAM to control MRO
behaviour:
\- Maximum deviation of Handover Trigger\ This parameter defines the maximum
allowed absolute deviation of the Handover Trigger (as defined in 22.4.1.4),
from the default point of operation defined by the parameter values assigned
by OAM.
\- Minimum time between Handover Trigger changes\ This parameter defines the
minimum allowed time interval between two Handover Trigger change performed by
MRO. This is used to control the stability and convergence of the algorithm.
Furthermore, in order to support the solutions for detection of Too Late and
Too Early HO, the parameter Tstore_UE_cntxt shall be configurable by the OAM
system.
### 22.4.3 Support for RACH Optimisation
The setting of RACH parameters that can be optimized are:
\- RACH configuration (resource unit allocation);
\- RACH preamble split (among dedicated, group A, group B);
\- RACH backoff parameter value;
\- RACH transmission power control parameters.
RACH optimization is supported by UE reported information and by PRACH
parameters exchange between eNBs.
UEs which receive polling signalling shall report the below information:
\- Number of RACH preambles sent until the successful RACH completion;
\- Contention resolution failure.
### 22.4.4 Support for Energy Saving
#### 22.4.4.1 General
The aim of this function is to reduce operational expenses through energy
savings.
The function allows, for example in a deployment where capacity boosters can
be distinguished from cells providing basic coverage, to optimize energy
consumption enabling the possibility for a cell providing additional capacity,
to be switched off when its capacity is no longer needed and to be re-
activated on a need basis.
#### 22.4.4.2 Solution description
The solution builds upon the possibility for the eNB owning a capacity booster
cell to autonomously decide to switch-off such cell to lower energy
consumption (dormant state). The decision is typically based on cell load
information, consistently with configured information. The switch-off decision
may also be taken by O&M.
The eNB may initiate handover actions in order to off-load the cell being
switched off and may indicate the reason for handover with an appropriate
cause value to support the target eNB in taking subsequent actions, e.g. when
selecting the target cell for subsequent handovers.
All peer eNBs are informed by the eNB owning the concerned cell about the
switch-off actions over the X2 interface, by means of the eNB Configuration
Update procedure.
All informed eNBs maintain the cell configuration data also when a certain
cell is dormant. ENBs owning non-capacity boosting cells may request a re-
activation over the X2 interface if capacity needs in such cells demand to do
so. This is achieved via the Cell Activation procedure.
The eNB owning the dormant cell should normally obey a request. The switch-on
decision may also be taken by O&M. All peer eNBs are informed by the eNB
owning the concerned cell about the re-activation by an indication on the X2
interface.
#### 22.4.4.3 O&M requirements
Operators should be able to configure the energy saving function.
The configured information should include:
\- The ability of an eNB to perform autonomous cell switch-off.
\- The ability of an eNB to request the re-activation of a configured list of
dormant cells owned by a peer eNB.
O&M may also configure
\- policies used by the eNB for cell switch-off decision.
\- policies used by peer eNBs for requesting the re-activation of a dormant
cell.
### 22.4.5 Radio Link Failure report
The RLF Report from the UE can be used for both coverage optimization and
mobility robustness optimization.
The UE stores the latest RLF or handover failure related information, and
indicates RLF report availability at each subsequent LTE RRC connection
(re-)establishment and handover to an LTE cell until the RLF report is fetched
by the network or for 48 hours after the RLF or handover failure is detected.
The UE keeps the information during state transitions and RAT changes, and
indicates RLF report availability again after it returns to the LTE RAT.
The UE only indicates RLF report availability and only provides the RLF report
to the network if the current RPLMN is the RPLMN at the time the RLF or
handover failure was detected.
## 22.5 Void
## 22.6 Void
# 23 Others
## 23.1 Support for real time IMS services
### 23.1.1 IMS Emergency Call
IMS emergency calls are supported in this release of the specification and UE
may initiate an IMS emergency call on the PS domain if the network supports
it. IMS Emergency call support indication is provided to inform the UE that
emergency bearer services are supported. This is sent via NAS messaging for
normal service mode UE and via a BCCH indicator for limited service mode UE TS
23.401 [17]. The BCCH indicator is set to 'support' if any of the MMEs in a
non-shared environment or one of PLMNs in a shared network environment
supports IMS emergency bearer services.
If at the time of an IMS emergency call origination, the UE is already RRC
connected to a CN that does not support IMS emergency calls, it should
autonomously release the RRC connection and originate a fresh RRC connection
in a cell that is capable of handling emergency calls. Call admission control
for IMS emergency call is based on bearer QoS (e.g. the ARP).
Security procedures are activated for emergency calls. For UE in limited
service mode and the UE is not authenticated (as defined in TS 33.401 Section
15.2.2 [22]), 'NULL' algorithms for ciphering and integrity protection are
used and the related keys are set to specified value and may be ignored by the
receiving node. During handover from cell in non-restricted area to restricted
area, security is handled normally with normal key derivation etc. for both
the intra-LTE and inter-RAT handover. For inter-RAT handover from LTE, if
'NULL' Integrity Protection algorithms are used in LTE, security is stopped
after the handover. For inter-RAT handover to LTE, security is activated after
the handover with 'NULL' algorithms if security is not activated in the source
RAT.
## 23.2 Subscriber and equipment trace
Support for subscriber and equipment trace for E-UTRAN and EPC shall be as
specified in TS 32.421 [29], TS 32.422 [30] and TS 32.423 [31].
### 23.2.1 Signalling activation
All traces are initiated by the core network, even if the trace shall be
carried out in the radio network.
If the eNB has received an UE CONTEXT RELEASE COMMAND message where the UE is
associated to an E-UTRAN Trace Id then the eNB shall terminate the on-going
Trace.
The following functionality is needed on the S1 and X2 interface:
\- Support for inclusion of subscriber and equipment trace information in
INITIAL CONTEXT SETUP REQUEST message over the S1 interface.
\- Support for an explicit TRACE START message over the S1 interface.
\- Support for inclusion of subscriber and equipment trace information in the
HANDOVER REQUEST message over the X2 interface.
\- Support for inclusion of subscriber and equipment trace information in the
HANDOVER REQUEST message over the S1 interface.
\- Support for TRACE FAILURE INDICATION for the purpose of informing MME that
the requested trace action cannot be performed due to an on-going handover
preparation over the X2 interface.
A trace setup in the radio network will be propagated at handover. If the eNB
receives trace information for a given UE, and a handover preparation is not
already ongoing for the same UE, it shall store the trace information and
propagate it to the target eNB in the case of a X2 based HO. In the case of S1
based HO, the propagation is handled by the MME.
### 23.2.2 Management activation
All conditions for Cell Traffic Trace are defined by the O&M. When the
condition to start the trace recording is fulfilled the eNB will allocate a
Trace Recording Session Reference and send it together with the Trace
Reference to the MME in a CELL TRAFFIC TRACE message over the S1 interface.
Cell Traffic trace actions will not be propagated on the X2 interface or on
the S1 interface in case of handover.
## 23.3 E-UTRAN Support for Warning Systems
The E-UTRAN provides support for warning systems through means of system
information broadcast capability. The E-UTRAN performs scheduling and
broadcasting of the "warning message content" received from the CBC, which is
forwarded to the E-UTRAN by the MME. The schedule information for the
broadcast is received along with the "warning message content" from the CBC.
The E-UTRAN is also responsible for paging the UE to provide indication that
the warning notification is being broadcast. The "warning message content"
received by the E-UTRAN contains an instance of the warning notification.
Depending on the size, E-UTRAN may segment the secondary notification before
sending it over the radio interface.
### 23.3.1 Earthquake and Tsunami Warning System
ETWS is a public warning system developed to meet the regulatory requirements
for warning notifications related to earthquake and/or tsunami events. ETWS
warning notifications can either be a primary notification (short
notifications delivered within 4 seconds, see TS 25.346 [32]) or secondary
notification (providing detailed information). The ETWS primary notification
is broadcast in _SystemInformationBlockType10_ while the secondary
notification is broadcast in _SystemInformationBlockType11_.
### 23.3.2 Commercial Mobile Alert System
CMAS is a public warning system developed for the delivery of multiple,
concurrent warning notifications (see TS 22.268 [34]). The CMAS warning
notifications are short text messages (CMAS alerts). The CMAS warning
notifications are broadcast in _SystemInformationBlockType12_. The E-UTRAN
manages the delivery of multiple, concurrent CMAS warning notifications to the
UE and is also responsible for handling any updates of CMAS warning
notifications.
### 23.3.3 Korean Public Alert System
KPAS is a Korean public warning system developed for the delivery of multiple,
concurrent warning notifications (see TS 22.268 [34]). The Korean Public Alert
System (KPAS) uses the same AS mechanisms as CMAS. Therefore, the E-UTRAN
procedures defined for CMAS equally apply for KPAS.
###### ## Annex A (informative): NAS Overview
This subclause provides for information an overview on services and functions
provided by the NAS control protocol..
# A.1 Services and Functions
The main services and functions of the NAS sublayer include:
\- EPS Bearer control (see 3GPP TR 23.401 [17]);
\- ECM-IDLE mobility handling;
\- Paging origination;
\- Configuration and control of Security.
# A.2 NAS protocol states & state transitions
The NAS state model is based on a two-dimensional model which consists of EPS
Mobility Management (EMM) states describing the mobility management states
that result from the mobility management procedures e.g. Attach and Tracking
Area Update procedures, and of EPS Connection Management (ECM) states
describing the signalling connectivity between the UE and the EPC (see 3GPP TS
23.401 [17]).
NOTE: The ECM and EMM states are independent of each other and when the UE is
in EMM-CONNECTED state this does not imply that the user plane (radio and S1
bearers) is established.
The relation between NAS and AS states is characterised by the following
principles:
\- **EMM-DEREGISTERED & ECM-IDLE â‡’** RRC_IDLE:
\- Mobility: PLMN selection:
\- UE Position: not known by the network.
\- EMM-REGISTERED & ECM-IDLE â‡’ RRC_IDLE:
\- Mobility: cell reselection;
\- UE Position: known by the network at tracking area level.
\- EMM-REGISTERED & ECM-CONNECTED with radio bearers established â‡’
RRC_CONNECTED.
\- Mobility: handover;
\- UE Position: known by the network at cell level.
###### ## Annex B (informative): MAC and RRC Control
The E-UTRA supports control signalling in terms of MAC control signalling
(PDCCH and MAC control PDU) and RRC control signalling (RRC message).
# B.1 Difference between MAC and RRC control
The different characteristics of MAC and RRC control are summarized in the
table below.
Table B.1-1: Summary of the difference between MAC and RRC control
* * *
                           MAC control                     RRC control
Control entity MAC RRC
Signalling PDCCH MAC control PDU RRC message
Signalling reliability \~ 10^-2^ (no retransmission) \~ 10^-3^ (after HARQ) \~
10^-6^ (after ARQ)
Control delay Very short Short Longer
Extensibility None or very limited Limited High
Security No integrity protection\ No integrity protection\ Integrity
protection Ciphering No ciphering No ciphering
* * *
The main difference between MAC and RRC control lies in the signalling
reliability. Due to the signalling reliability, signalling involving state
transitions and radio bearer configurations should be performed by RRC.
Basically, all signalling performed by RRC in UTRA should also be performed by
RRC also for E-UTRA.
# B.2 Void
###### ## Annex C (informative): Void
###### ## Annex D (informative): Void
###### ## Annex E (informative): Void
###### ## Annex F (informative): Void
###### ## Annex G (informative): Guideline for E-UTRAN UE capabilities
Each radio access technology has defined specific "classes" of terminals in
terms of radio capabilities. E.g. in GPRS the "multislot classes" are defined,
in UMTS R'99 different dedicated bearer classes are defined and for HSDPA and
HSUPA 12 respectively 6 physical layer categories are defined. The definition
of UMTS R'99 UE classes lead to 7 DL classes and 7 UL classes for FDD out of
which only 2 DL and 3 UL classes were commercially realized. Furthermore the
lower end classes (e.g. 64 UL and 64 DL) disappeared from the market with
commercialization of the UMTS networks quite soon. Besides these class
definitions a huge number of possible parameter combinations (to achieve
certain data rates) exist with UMTS R'99 which lead to the huge number of RAB
and RB combinations defined. Further activities in the early phase of UMTS
standardization aimed to reduce the number of possible combinations
significantly.
For HSDPA two "simple" DL categories (11 & 12) with lowered complexity were
defined with the intent to speed up commercialization of HSDPA. Originally
those categories should have been removed for Rel-6. Out of the 12 defined
categories only approx. 4 will be realized in commercial HSDPA platform
products. A similar situation is likely for HSUPA as well as for the
combinations of HSDPA/HSUPA.
Generally the aim to mandate certain essential functions/requirements can help
to simplify the system definition as well as the realization options (e.g.
mandating 20 MHz of DL reception as well as 20 MHz UL transmission bandwidth
significantly reduced the E-UTRAN system complexity). Especially mandating
certain terminal functions could be useful for the system design if a defined
subset of parameter combinations are also supported by the systems, e.g. the
eNB scheduler. However, there is also a risk that not all the defined E-UTRA
features are deployed in the networks at the time when terminals are made
commercially available on the market place. Some features are likely to be
rather large and complex, which further increases the risk of interoperability
problems unless these features have undergone sufficient interoperability
testing (IOT) on real network equipment, and preferably with more than one
network in order to improve the confidence of the UE implementation. Thus,
avoiding unnecessary UE mandatory features but instead defining a limited set
of UE radio classes allows simplification for the interoperability testing.
Given the discussion above, it seems beneficial for the introduction of
E-UTRAN to limit the combination of radio capabilities to a clearly defined
subset and ensure that a given set of parameters is supported by certain UE
classes as well as networks for rapid E-UTRAN deployment. It seems unrealistic
to mandate only one single UE class which always mandates the maximum
capability.
In order to address the different market requirements (low end, medium and
high end), the definition of the following UE classes are proposed:
Table G-1: E-UTRAN UE Classes
+---------+---------------+----------------+ | > Class | > UL | > DL | +---------+---------------+----------------+ | > A | > [50] Mbps | > [100] Mbps | +---------+---------------+----------------+ | > B | > [25] Mbps | > [50] Mbps | +---------+---------------+----------------+ | > C | > [2] Mbps | > [2] Mbps | +---------+---------------+----------------+
> NOTE: For simplification reasons, the table only depict the UE capabilities
> in terms of uplink and downlink peak data rates supported. However, it
> should be noted that further discussion on other features is expected once
> the work progresses.
It may require further discussion whether there be a need for an additional
terminal class between 2 Mbps and 50 Mbps classes. It might make sense, since
up to 5 MHz band allocations may be rather common in real deployments for
several years. This would point to bit rate class of 25 Mbps in DL and 10 Mbps
in UL.
The above given data rates are indicative and should be subject for further
discussions in 3GPP RAN working groups. Depending on the different solutions
to reach those data rates, the target should be to define [3..4] UE classes in
different data rate ranges, and other parameters affecting device complexity
and cost. The definition of the required parameters/features is for further
study for each of the classes. For instance, half-duplex UEs form a specific
category that may be frequency band specific.
> NOTE: the support of half-duplex UEs is mandatory for the eNB where such a
> category is allowed in the frequency band supported by the eNB.
The aim is to ensure on the one hand that high end E-UTRAN UEs, supporting
data rates representing state of the art level and competitive with other
radio technologies are defined, while the medium and lower data rates aim to
reduce implementation cost for chipset/terminal vendors and allow adoption of
most cost efficient solutions for different market segments. It is expected
that the support of the high end data rate terminals is ensured from the very
beginning.
Another clear exception from this exercise is that on the low end very cheap
product implementation is possible (e.g. for the machine-to-machine market or
the voice and very low data rate only segment -- to substitute GSM in the
medium term) while top end performance is needed for data applications in
notebooks, wireless gateways ("wireless DSL"), etc.
Another important aspect that must be ensured is that a higher capability UE
can be treated in exactly the same way as for a lower capability UE, if the
network wishes to do so, e.g., in case the network does not support some
higher capability features. In HSDPA, there has been problems in this respect
due to 2-stage rate matching in HARQ. Such problems should be avoided in
E-UTRAN, and E-UTRAN UE capabilities should provide the compatibility to ease
implementation and interoperability testing.
###### ## Annex H (informative): Void
###### ## Annex I (informative): SPID ranges ad mapping of SPID values to cell
reselection and inter-RAT/inter frequency handover priorities
This Annex defines two ranges of SPID (Subscriber Profile ID for RAT/Frequency
Priority) values, respectively Operator Specific and Reference values. The
mapping at eNB of Reference SPID values to cell reselection and inter-
RAT/inter frequency handover priorities is defined.
## I.1 SPID ranges
> Values 1- 128 - Operator specific SPID values;
>
> Values 129 - 256 - Reference values.
## I.2 Reference SPID values
SPID = 256
Table I.2-1: eNB local configuration in idle and connected mode for SPID = 256
* * *
Configuration parameter Value Meaning E-UTRAN carriers priority high The
selection priorities for idle and connected mode of all E-UTRAN carriers are
higher than the priorities for all UTRAN and GERAN carriers UTRAN carriers
priority medium The selection priorities for idle and connected mode of all
UTRAN carriers are lower than the priorities for all E-UTRAN carriers and
higher than the priorities for all GERAN carriers GERAN carriers priority low
The selection priorities for idle and connected mode of all GERAN carriers are
lower than the priorities for all E-UTRAN and UTRAN carriers
* * *
SPID = 255
Table I.2-2: eNB local configuration in idle and connected mode for SPID = 255
* * *
Configuration parameter Value Meaning UTRAN carriers priority high The
selection priorities for idle and connected mode of all UTRAN carriers are
higher than the priorities for all GERAN and E-UTRAN carriers GERAN carriers
priority medium The selection priorities for idle and connected mode of all
GERAN carriers are lower than the priorities for all UTRAN carriers and higher
than the priorities for all E-UTRAN carriers E-UTRAN carriers priority low The
selection priorities for idle and connected mode of all E-UTRAN carriers are
lower than the priorities for all UTRAN and GERAN carriers
* * *
SPID = 254
Table I.2-3: eNB local configuration in idle and connected mode for SPID = 254
* * *
Configuration parameter Value Meaning GERAN carriers priority high The
selection priorities for idle and connected mode of all GERAN carriers are
higher than the priorities for all UTRAN and E-UTRAN carriers UTRAN carriers
priority medium The selection priorities for idle and connected mode of all
UTRAN carriers are lower than the priorities for all GERAN carriers and higher
than the priorities for all E-UTRAN carriers E-UTRAN carriers priority low The
selection priorities for idle and connected mode of all E-UTRAN carriers are
lower than the priorities for all GERAN and UTRAN carriers
* * *
###### ## Annex J (informative): Carrier Aggregation
## J.1 Deployment Scenarios
Table J.1-1 shows some of the potential deployment scenarios for CA. In
Rel-10, for the uplink, the focus is laid on the support of intra-band carrier
aggregations (e.g. scenarios #1, as well as scenarios #2 and #3 when F1 and F2
are in the same band). For the downlink, all scenarios should be supported in
Rel-10.
**Table J.1-1:** CA Deployment Scenarios (F2 > F1).
* * *
# Description Example 1 F1 and F2 cells are co-located and overlaid, providing
nearly the same coverage. Both layers provide sufficient coverage and mobility
can be supported on both layers. Likely scenario is when F1 and F2 are of the
same band, e.g., 2 GHz, 800 MHz, etc. It is expected that aggregation is
possible between overlaid F1 and F2 cells.  
2 F1 and F2 cells are co-located and overlaid, but F2 has smaller coverage due
to larger path loss. Only F1 provides sufficient coverage and F2 is used to
improve throughput. Mobility is performed based on F1 coverage. Likely
scenario when F1 and F2 are of different bands, e.g., F1 = {800 MHz, 2 GHz}
and F2 = {3.5 GHz}, etc. It is expected that aggregation is possible between
overlaid F1 and F2 cells.  
3 F1 and F2 cells are co-located but F2 antennas are directed to the cell
boundaries of F1 so that cell edge throughput is increased. F1 provides
sufficient coverage but F2 potentially has holes, e.g., due to larger path
loss. Mobility is based on F1 coverage. Likely scenario is when F1 and F2 are
of different bands, e.g., F1 = {800 MHz, 2 GHz} and F2 = {3.5 GHz}, etc. It is
expected that F1 and F2 cells of the same eNB can be aggregated where coverage
overlaps.  
4 F1 provides macro coverage and on F2 Remote Radio Heads (RRHs) are used to
improve throughput at hot spots. Mobility is performed based on F1 coverage.
Likely scenario is when F1 and F2 are of different bands, e.g., F1 = {800 MHz,
2 GHz} and F2 = {3.5 GHz}, etc. It is expected that F2 RRHs cells can be
aggregated with the underlying F1 macro cells.  
5 Similar to scenario #2, but frequency selective repeaters are deployed so
that coverage is extended for one of the carrier frequencies. It is expected
that F1 and F2 cells of the same eNB can be aggregated where coverage
overlaps.
* * *
The reception timing difference at the physical layer of DL assignments and UL
grants for the same TTI but from different serving cells (e.g. depending on
number of control symbols, propagation and deployment scenario) does not
affect MAC operation. A UE should cope with a relative propagation delay
difference up to 30 Î¼s among the component carriers to be aggregated in inter-
band non-contiguous CA. This implies that a UE should cope with a delay spread
of up to 30.26 Î¼s among the component carriers monitored at the receiver,
since the BS time alignment is specified to be up to 0.26 Î¼s.
When CA is deployed frame timing, SFN and TDD-Config are aligned across cells
that can be aggregated.
## J.2 Void
## J.3 Void
## J.4 Void
## J.5 Void
## J.6 Void
###### ## Annex K (informative): Time domain ICIC
This Annex reflects the agreements reached on time domain ICIC that may not
necessarily fit in the core of the specification but which needs to be
captured in the absence of corresponding details in Stage 3 specifications.
## K.1 Deployment scenarios
Two scenarios have been identified where conventional ICIC techniques are
insufficient to overcome co-channel interference, the CSG scenario and the
Pico scenario. The identified scenarios are examples of network configurations
that are intended to depict the basic concept of time domain ICIC and it
should be understood that other network deployment scenarios are also
possible.
### K.1.1 CSG scenario
Dominant interference condition may happen when non-member users are in close
proximity of a CSG cell. Depending on network deployment and strategy, it may
not be possible to divert the users suffering from inter-cell interference to
another E-UTRA carrier or other RAT. Time domain ICIC may be used to allow
such non-member UEs to remain served by the macro cell on the same frequency
layer.
Such interference may be mitigated by the CSG cell utilizing Almost Blank
Subframes to protect the corresponding macro cell's subframes from the
interference. A non-member UE may be signalled to utilize the protected
resources for cell measurements (RRM), radio link monitoring (RLM) and CSI
measurements for the serving macro cell, allowing the UE to continue to be
served by the macro cell under strong interference from the CSG cell.
**Figure K.1.1-1: Time domain ICIC: CSG scenario**
In RRC_CONNECTED, the network can find out that the UE is subject to dominant
interference from a CSG cell which the UE is not a member of through the
existing measurement events (defined in release-8/9), at which point the
network may choose to configure the RRM/RLM/CSI measurement resource
restriction for the UE. The network may also configure RRM measurement
resource restriction for neighbour cells in order to facilitate mobility from
the serving macro cell. The network may release the RRM/RLM/CSI measurement
resource restriction when it detects that the UE is no longer severely
interfered by the CSG cell.
### K.1.2 Pico scenario
Time domain ICIC may be utilized for pico users who served in the edge of the
serving pico cell, e.g. for traffic off-loading from a macro cell to a pico
cell. Time domain ICIC may be utilized to allow such UEs to remain served by
the pico cell on the same frequency layer.
Such interference may be mitigated by the macro cell(s) utilizing Almost Blank
Subframes to protect the corresponding pico cell's subframes from the
interference. A UE served by a pico cell uses the protected resources for cell
measurements (RRM), radio link monitoring (RLM) and CSI measurements for the
serving pico cell.
**Figure K.1.2-1: Time domain ICIC: Pico scenario**
For a UE served by a pico cell, the RRM/RLM/CSI measurement resource
restriction may allow more accurate measurement of pico cell under strong
interference from the macro cell(s). The pico cell may selectively configure
the RRM/RLM/CSI measurement resource restriction only for those UEs subject to
strong interference from the macro cell(s). Also, for a UE served by a macro
cell, the network may configure RRM measurement resource restriction for
neighbour cells in order to facilitate mobility from the macro cell to a pico
cell.
###### ## Annex L (informative): Void
#