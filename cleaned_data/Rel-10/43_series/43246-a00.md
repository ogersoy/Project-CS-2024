# Foreword
This Technical Specification has been produced by the 3^rd^ Generation
Partnership Project (3GPP).
The contents of the present document are subject to continuing work within the
TSG and may change following formal TSG approval. Should the TSG modify the
contents of the present document, it will be re-released by the TSG with an
identifying change of release date and an increase in version number as
follows:
Version x.y.z
where:
x the first digit:
1 presented to TSG for information;
2 presented to TSG for approval;
3 or greater indicates TSG approved document under change control.
y the second digit is incremented for all changes of substance, i.e. technical
enhancements, corrections, updates, etc.
z the third digit is incremented when editorial only changes have been
incorporated in the document.
# 1 Scope
The present document is part of the Release 6 \"**Introduction of the
Multimedia Broadcast Multicast Service (MBMS) in GERAN** \" work item and it
is linked to the corresponding 3GPP TS 22.146: \"Multimedia
Broadcast/Multicast Service (MBMS); Stage 1\" [3] and 3GPP TS 23.246:
\"Multimedia Broadcast/Multicast Service (MBMS); Architecture and functional
description\" [5].
The purpose of the present document is to provide a stage 2 description of the
changes required in existing specifications for the \"**Introduction of the
Multimedia Broadcast Multicast Service (MBMS) in GERAN** \" feature for
Release 6.
# 2 References
The following documents contain provisions which, through reference in this
text, constitute provisions of the present document.
  * References are either specific (identified by date of publication, > edition number, version number, etc.) or non‑specific.
  * For a specific reference, subsequent revisions do not apply.
  * For a non-specific reference, the latest version applies. In the > case of a reference to a 3GPP document (including a GSM document), > a non-specific reference implicitly refers to the latest version > of that document _in the same Release as the present document_.
[1] 3GPP TS 23.060: \"General Packet Radio Service (GPRS); Service
description; Stage 2\".
[2] 3GPP TS 23.107: \"Quality of Service (QoS) concept and architecture\".
[3] 3GPP TS 22.146: \"Multimedia Broadcast/Multicast Service (MBMS); Stage
1\".
[4] 3GPP TS 22.246: \"Multimedia Broadcast/Multicast Service (MBMS) user
services; Stage 1\".
[5] 3GPP TS 23.246: \"Multimedia Broadcast/Multicast Service (MBMS);
Architecture and functional description\".
[6] 3GPP TR 25.992: \"Multimedia Broadcast/Multicast Service (MBMS);
UTRAN/GERAN requirements\".
> [7] 3GPP TS 25.346: \"Introduction of Multimedia Broadcast/Multicast Service
> (MBMS) in the Radio Access Network (RAN); Stage 2\".
>
> [8] 3GPP TS 45.002: \"Multiplexing and multiple access on the radio path\".
>
> [9] 3GPP TS 45.008: \"Radio subsystem link control\".
>
> [10] 3GPP TS 43.022: \"Functions related to Mobile Station (MS) in idle mode
> and group receive mode\".
# 3 Definitions and abbreviations
## 3.1 Definitions
For the purposes of the present document, the terms and definitions given in
3GPP TS 22.146 [3] and the following apply.
**Dedicated MBMS Notification: A mechanism in the network that allows the
network to notify mobile stations in dedicated mode of starting MBMS multicast
sessions.**
**MBMS radio bearer:** In _A/Gb mode_ , an MBMS radio bearer is defined as
\"point-to-multipoint\".
**MBMS channel:** An MBMS channel consists of the physical resources assigned
to one (several) MBMS service(s). In _A/Gb mode_ , an MBMS channel carries one
(several) MBMS radio bearer(s) and may be on one (several) PDCH(s) with GPRS
and/or EGPRS TBF(s).
**MBMS session:** Defined in 3GPP TS 22.146 [3].
**MBMS service:** Defined in 3GPP TS 22.146 [3].
**MBMS service class:** An MBMS service class is defined as either Background
or Streaming, according to 3GPP TS 23.107 [2].
**MBMS notification:** Defined in 3GPP TS 23.246 [5].
## 3.2 Abbreviations
For the purposes of the present document, the following abbreviations apply:
BM-SC Broadcast/Multicast Service Centre
MBMS Multimedia Broadcast/Multicast Service
MPRACH MBMS Packet Random Access Channel
p-t-p point-to-point
p-t-m point-to-multipoint
TMGI Temporary Mobile Group Identifier
# 4 MBMS GERAN Architecture
## 4.1 General
One new transmission mode exists to provide the MBMS service:
\- Point-to-multipoint transmission (p-t-m)
Point-to-multipoint transmission is used to transfer MBMS specific information
between the network and an unspecified number of mobile stations. It is used
for both broadcast and multicast modes of MBMS.
## 4.2 GERAN A/Gb mode architecture
### 4.2.1 Protocol structure
No modifications are required to the GPRS protocol stack (see 3GPP TS 23.060)
for MBMS. However, some of the radio protocols in the GERAN will require
modifications to support MBMS p-t-m bearers.
### 4.2.2 void
### 4.2.3 MBMS reception
Table 4.2.3.1 shows whether a mobile station can support MBMS data reception
according to its mode (packet idle mode, packet transfer mode, dedicated mode
or dual transfer mode) at the time of the MBMS bearer establishment i.e.
immediately prior to MBMS reception.
Table 4.2.3.1: MBMS radio bearer available according to initial MAC mode and
MBMS service
+-------------+-------------+-------------+-------------+-------------+ | | Packet idle | Packet | Dedicated | Dual | | | mode | transfer | mode | transfer | | | | mode | | mode | | | ( | | | | | | GMM-Standby | | | | | | or | | | | | | GMM-Ready) | | | | +-------------+-------------+-------------+-------------+-------------+ | MBMS | p-t-m | p-t-p | p-t-p | p-t-p | | multicast | | repair | repair (1) | repair | +-------------+-------------+-------------+-------------+-------------+ | MBMS | p-t-m | Not | Not | Not | | broadcast | | specified | specified | specified | | | | (2) | (3) | (3) | +-------------+-------------+-------------+-------------+-------------+
1) A mobile station is moved to dual transfer mode on establishment of a TBF
to request an MBMS p-t-p repair.
2) Support is optional in the mobile station.
3) Note that an MBMS broadcast service is only available on a p-t-m radio
bearer.
## 4.3 GERAN Iu mode architecture
### 4.3.1 Protocol structure
No modifications are required to the GPRS protocol stack (see 3GPP TS 23.060
[1]) for MBMS. However, some of the radio protocols in the GERAN will require
modifications to support MBMS p-t-m bearers.
### 4.3.2 void
### 4.3.3 MBMS reception
Table 4.3.3.1 shows which type of MBMS radio bearer shall be assigned to the
mobile station according to its RRC and MAC states at the time of the MBMS
bearer establishment i.e. immediately prior to MBMS reception.
Table 4.3.3.1: MBMS radio bearer available according to initial MAC and RRC
states and MBMS service
+---------+---------+---------+---------+---------+---------+---------+ | | R | RRC-G | RR | RRC-C | | | | | RC-Idle | RA_PCH | C-Cell\ | ell_De | | | | | | | _Shared | dicated | | | +---------+---------+---------+---------+---------+---------+---------+ | | M | M | M | MAC | MAC-De | MAC-DTM | | | AC-Idle | AC-Idle | AC-Idle | -Shared | dicated | | +---------+---------+---------+---------+---------+---------+---------+ | MBMS | p-t-m | Not | p-t-m | p-t-p | p-t-p | p-t-p | | mu | | av | | | (3) | | | lticast | p-t-p | ailable | p-t-p | | | | | | (1) | (2) | (1) | | | | +---------+---------+---------+---------+---------+---------+---------+ | MBMS | p-t-m | p-t-m | p-t-m | Not | Not | Not | | br | | | | sp | sp | sp | | oadcast | | | | ecified | ecified | ecified | | | | | | (4) | | (5) | | | | | | | (5) | | +---------+---------+---------+---------+---------+---------+---------+
1) A mobile station is moved to MAC-Shared state on establishment of an MBMS
p-t-p radio bearer
2) A mobile station is moved to RRC-Cell_Shared state on establishment of an
MBMS radio bearer (p-t-m or p-t-p)
3) A mobile station is moved to MAC-DTM state on establishment of an MBMS
p-t-p radio bearer if it has no other PS connections established
4) Support is optional in the mobile station
5) Note that an MBMS broadcast service is only available on a p-t-m radio
bearer
# 5\. MBMS channel structure
## 5.1 Logical channels
For MBMS p-t-m transmission, the traffic data is carried on PDTCH (see 3GPP TS
45.002 [8]), whereas the control data is carried on PACCH (see 3GPP TS 45.002
[8]).
A new logical channel is defined, the MPRACH, which may be used during the
initial counting procedure (see sub-clause 6.1.1.3). On the MPRACH, Packet
Access Bursts or Extended Packet Access Bursts can be transmitted.
## 5.2 Physical channels
### 5.2.1 General
MBMS p-t-m radio bearers are transmitted on PDCH (see 3GPP TS 45.002 [8]).
On a PDCH it shall be possible to multiplex different MBMS p-t-m radio bearers
and GPRS and/or EGPRS TBFs using TFI.
### 5.2.2 Coding schemes
The existing GPRS and EGPRS coding schemes are used for MBMS.
An MBMS-capable mobile station shall support CS-1 to CS-4 and MCS-1 to MCS-9
in the downlink. A network supporting MBMS may support only some of the coding
schemes.
### 5.2.3 Mapping of MPRACH onto physical channels
The MPRACH may be mapped on any uplink PDCH.
The MPRACH is dynamically allocated in groups of four MPRACH blocks By
(y=4x+i, i=0 ,.., 3) corresponding to one PDCH block Bx (x=0,...,11),
indicated by a USF. The value of the USF allocated to the mobile station is
signalled by the network in the notification message.
# 6\. MBMS procedures in GERAN
## 6.1 Resource management procedures
### 6.1.1 Session start
#### 6.1.1.1 General
Upon receiving an MBMS SESSION START REQUEST message (or an MBMS SESSION
UPDATE REQUEST message for an ongoing MBMS broadcast session with an updated
MBMS service area) from the SGSN, if the network controls cells in the MBMS
service area the network creates an MBMS Service Context (if not yet available
for the ongoing MBMS broadcast session), and acknowledges the SGSN using an
MBMS SESSION START RESPONSE message (or an MBMS SESSION UPDATE RESPONSE
message). The network may receive an Allocation/Retention Priority associated
with the MBMS session in the MBMS SESSION START REQUEST message (or in the
MBMS SESSION UPDATE REQUEST message).
The network may use the Allocation/Retention Priority to prioritise between
MBMS bearer services, and between MBMS bearer services and non-MBMS bearer
services. The network initiates the MBMS channel establishment in each cell
belonging to the MBMS service area where the network has decided to provide
this MBMS service (and where the MBMS channel has not yet been established in
case of an ongoing MBMS broadcast session).
The channel establishment procedure consists of the following steps:
\- the optional pre-notification of the MBMS service which is starting a data
transmission;
\- the notification of all MBMS users in the cell of this MBMS service;
\- an optional counting procedure; and
\- a channel assignment message. The type of channel assigned may depend on
the number of users in the cell who respond to the notification in the
counting procedure.
If counting is not required, the notification and channel assignment
information may be transmitted in a single (PACKET) PAGING REQUEST message in
the case of an MBMS broadcast service or an MBMS multicast service.
#### 6.1.1.1a Pre-notification
The network may indicate the incoming notification of a given MBMS service and
MBMS session by sending a pre-notification of this MBMS service and MBMS
session to MBMS mobile stations in packet idle mode.
A pre-notification may be sent in PAGING REQUEST TYPE 1 or 2 messages on CCCH,
or if PCCCH is present, in PACKET PAGING REQUEST message and identifies the
TMGI as well as, if available, the MBMS Session Identity. Upon reception of a
pre-notification for an MBMS service and MBMS session, a mobile station in
packet idle mode shall enter non-DRX mode and monitor notifications as
described in sub-clause 6.1.1.2 in the following cases:
\- the MBMS service is a broadcast service and the mobile station is required
to receive this service; or
\- the MBMS service is a multicast service and the mobile station has joined
this service.
#### 6.1.1.2 Notification of session start
##### 6.1.1.2.1 General
When the network is informed that an MBMS session is starting or an ongoing
MBMS broadcast session has an updated MBMS service area, the network notifies
mobile stations in packet idle mode or MAC-Idle state, and may notify mobile
stations in packet transfer mode or MAC-Shared state, or mobile stations in
dedicated mode or MAC-Dedicated state, or mobile stations in dual transfer
mode or MAC-DTM state. The mobile stations in packet idle mode or MAC-Idle
state are notified on the (P)PCH by the network. The mobile stations in packet
transfer mode or MAC-Shared state and the mobile stations in dual transfer
mode or MAC-DTM state may be notified on the PACCH by the network using a
distribution message. The mobile stations in dedicated mode or MAC-Dedicated
state may be notified on the main DCCH by the network.
The network may optionally initiate, on a per-cell basis, a counting mechanism
(i.e. to count up to an operator-defined user threshold > 0) to ascertain the
interest of users in each cell. This may be used in order to select the type
of MBMS radio bearer (i.e. characterized by an uplink feedback channel or not)
to establish. If counting is activated in a cell, mobile stations shall
respond to the notification using the initial counting procedure, see sub-
clause 6.1.1.3.
If counting is not activated, the network may allocate the MBMS bearer in a
cell using the MBMS bearer establishment procedure, see sub-clause 6.1.1.4.
##### 6.1.1.2.2 Mobile stations in packet idle mode or MAC-Idle state
If the network controls cells in the MBMS service area of a starting MBMS
session (or of an ongoing MBMS broadcast session with an updated MBMS service
area), the network initiates the MBMS notification procedure on each of these
cells. A notification is sent in PAGING REQUEST TYPE 1 or 2 messages on CCCH,
or if PCCCH is present, in PACKET PAGING REQUEST message and identifies the
TMGI as well as, if available, the MBMS Session Identity.
A notification may include the uplink resource description for a PRACH
dedicated to MBMS (MPRACH). If a PRACH is allocated in the cell, and no MPRACH
Control Parameters are included in the notification message, the PRACH Control
Parameters shall be used for the MPRACH. If the network wishes to allocate an
MPRACH and no PRACH is allocated in the cell, the MBMS Notification message
shall include the MPRACH Control Parameters. If present, MPRACH Control
Parameters take precedence over PRACH Control Parameters.
If a mobile station has not joined the MBMS multicast service identified by
the TMGI or has already received the MBMS session identified by the TMGI and
MBMS Session Identity combination contained in the (PACKET) PAGING REQUEST
message, the mobile station shall discard the message.
If the mobile station has not previously received the MBMS session identified
by the TMGI and MBMS Session Identity (if available) combination contained in
the (PACKET) PAGING REQUEST message and the message includes an indication
that "counting shall be used", then the mobile station shall initiate the
initial counting procedure, see sub-clause 6.1.1.3, otherwise if such an
indication is not included then the mobile station shall continue with the
MBMS bearer establishment procedure, see sub-clause 6.1.1.4.
##### 6.1.1.2.3 Mobile stations in packet transfer mode or MAC-Shared state
and mobile stations in dual transfer mode or MAC-DTM state
If the network controls cells in the MBMS service area of a starting MBMS
session (or of an ongoing MBMS broadcast session with an updated MBMS service
area), the network may pass a PACKET MBMS ANNOUNCEMENT message to all MBMS
capable mobile stations that have a PACCH. The PACKET MBMS ANNOUNCEMENT
message includes the TMGI and, if available, the MBMS Session Identity of an
MBMS session and may optionally include a parameter that dictates whether
there is maximum reaction time for the mobile station or the MBMS session
(remaining) duration, the uplink resource description for a PRACH dedicated to
MBMS (MPRACH) possibly with control parameters, or the channel assignment
information for the MBMS session.
If the mobile station has not previously joined the MBMS multicast service
identified by the TMGI or the mobile station has already received the MBMS
session identified by the TMGI and the MBMS Session Identity combination
contained in the PACKET MBMS ANNOUNCEMENT message, the mobile station discards
the message. If the mobile station has joined the MBMS multicast service
identified by the TMGI contained in the PACKET MBMS ANNOUNCEMENT message and
has not received the session, optionally identified by the MBMS Session
Identity, then the mobile station stores the MBMS information contained in the
PACKET MBMS ANNOUNCEMENT message, initialises timer T3222 (see 3GPP TS 44.060)
if indicated to do so and the session duration timer for this MBMS session if
the MBMS session (remaining) duration is included in the PACKET MBMS
ANNOUNCEMENT message, and passes the received TMGI, and the MBMS Session
Identity if available, to the upper layers. If timer T3222 expires the stored
MBMS information associated with the timer is deleted.
If the mobile station returns to packet idle mode or MAC-Idle state when MBMS
information is stored, then:
\- if the channel assignment information for the MBMS session was not included
in the PACKET MBMS ANNOUNCEMENT message, the mobile station initiates the
initial counting procedure using the stored MBMS information, (see sub-clause
6.1.1.3), once the Transfer non-DRX mode period has elapsed;
\- if the channel assignment information for the MBMS session was included in
the PACKET MBMS ANNOUNCEMENT message, the mobile station starts listening to
the MBMS p-t-m radio bearer.
##### 6.1.1.2.4 Mobile stations in dedicated mode or MAC-Dedicated state
If the network controls cells in the MBMS service area of a starting MBMS
session (or of an ongoing MBMS broadcast session with an updated MBMS service
area), the network may pass an MBMS ANNOUNCEMENT message to all mobile
stations that have previously requested to be notified on the main DCCH. The
MBMS ANNOUNCEMENT message includes the TMGI and, if available, the MBMS
Session Identity of an MBMS session and may optionally include a parameter
that dictates whether there is maximum reaction time for the mobile station or
the MBMS session (remaining) duration, the uplink resource description for a
PRACH dedicated to MBMS (MPRACH) possibly with control parameters, or the
channel assignment information for the MBMS session.
If the mobile station has not previously joined the MBMS multicast service
identified by the TMGI or the mobile station has already received the MBMS
session identified by the TMGI and the MBMS Session Identity combination
contained in the MBMS ANNOUNCEMENT message, the mobile station discards the
message. If the mobile station has joined the MBMS Service identified by the
TMGI and has not received the session, optionally identified by the MBMS
Session Identity, then the mobile station stores the MBMS information
contained in the MBMS ANNOUNCEMENT message, initialises timer T3222 (see 3GPP
TS 44.060) if indicated to do so and the session duration timer for this MBMS
session if the MBMS session (remaining) duration is included in the MBMS
ANNOUNCEMENT message, and passes the received TMGI, and the MBMS Session
Identity if available, to the upper layers. If timer T3222 expires the stored
MBMS information associated with the timer is deleted.
If the mobile station returns to packet idle mode or MAC-Idle state when MBMS
information is stored, then:
  * if the channel assignment information for the MBMS session was not included in the MBMS ANNOUNCEMENT message, the mobile station initiates the initial counting procedure using the stored MBMS information, see sub-clause 6.1.1.3;
  * if the channel assignment information for the MBMS session was included in the MBMS ANNOUNCEMENT message, the mobile station starts listening to the MBMS p-t-m radio bearer.
#### 6.1.1.3 Initial counting procedure
The mechanism in the requirements 11 and 12 in A.1.1 implies that an MBMS
channel should not be established if no interested users are in the cell at
the time of the notification of the MBMS session. The network using such a
mechanism would therefore wait for at least one response from an MBMS user in
each cell before assigning the MBMS bearer. The initial counting procedure can
also be used to count the number of mobile stations when starting a broadcast
session.
If the notification message or the (PACKET) MBMS ANNOUNCEMENT message contains
the uplink resource description for an MPRACH, packet access for counting is
initiated by the mobile station by sending on such MPRACH a PACKET CHANNEL
REQUEST message with access cause \"Single Block MBMS Access\" requesting a
single uplink block. The mobile station acts on any response sent by the
network to that mobile station.
If the notification message or the (PACKET) MBMS ANNOUNCEMENT message does not
contain any uplink resource description for an MPRACH, packet access for
counting is initiated by the mobile station by sending a (PACKET) CHANNEL
REQUEST message on the common (P)RACH, with access cause \"Single Block MBMS
Access\" requesting a single uplink block.
Upon reception by the network of a (PACKET) CHANNEL REQUEST message with
access cause \"Single Block MBMS Access\", the network sends an IMMEDIATE
ASSIGNMENT message on CCCH (or a PACKET UPLINK ASSIGNMENT message on PAGCH)
allocating one uplink block to the mobile station.
Upon reception by the mobile station of an IMMEDIATE ASSIGNMENT (respectively
PACKET UPLINK ASSIGNMENT) message corresponding to one of its (PACKET) CHANNEL
REQUEST messages and allocating one uplink radio block for MBMS access, the
mobile station sends in this radio block an MBMS SERVICE REQUEST message on
PACCH to the network including its TLLI, the TMGI and, if available, the MBMS
Session Identity of the session, and enters non-DRX mode. In case the MBMS
SERVICE REQUEST message is not correctly received on the network side, the
network may repeat the IMMEDIATE ASSIGNMENT message on CCCH (or PACKET UPLINK
ASSIGNMENT message on PAGCH), allowing the mobile station to re-send the MBMS
SERVICE REQUEST message. The reception by the network of the MBMS SERVICE
REQUEST message from a number of mobile stations allows the network to
estimate in a given cell the number of mobile stations interested in a given
session.
FIGURE 6.1.1.3.a: No counting and no PTM Bearer defined
FIGURE 6.1.1.3.b: Counting used
FIGURE 6.1.1.3.c: PTM Bearer established
This estimate may be used by the network to establish a point-to-multipoint
channel for a given session, possibly characterized by an uplink feedback
channel, or to notify the mobile stations that no point-to-multipoint channel
will be established.
In case an uplink feedback channel is established, to receive MBMS DOWNLINK
ACK/NACK messages from the mobile stations addressing of mobile stations is
required. This procedure is described in sub-clause 6.1.1.5. The network may
address (i.e. distribute MS_ID identifiers to) only a subset of the counted
mobile stations. In this case, mobile stations without an allocated MS_ID
shall only listen to the MBMS p-t-m radio bearer and will not send any
feedback.
#### 6.1.1.4 MBMS bearer establishment
The network may allocate the MBMS bearer by including the bearer description
and the MBMS session duration in the notification message. An MBMS bearer
allocated via the notification message will initially operate without ARQ at
the RLC/MAC layer (see sub-clause 6.3.1.1).
The network may send the MBMS ASSIGNMENT message as a distribution message on
PAGCH or, if PCCCH is not present in the cell, the IMMEDIATE ASSIGNMENT
message including the _Multiple Blocks Packet Downlink Assignment_
construction on AGCH followed by the MBMS ASSIGNMENT message sent on the PDCH
specified by the _Packet Channel Description_ IE in the IMMEDIATE ASSIGNMENT
message (see 3GPP TS 44.060 and 3GPP TS 44.018) to all interested mobile
stations in packet idle mode.
The network either assigns a point-to-multipoint bearer for the transmission
of the MBMS session in a cell, or notifies the mobile stations that a p-t-m
bearer will not be established in the cell. The decision of whether to
allocate resources in a cell is implementation dependent.
The MBMS ASSIGNMENT message may be sent as a non-distribution message to a
specific mobile station that performs an access.
The MBMS ASSIGNMENT message includes the TMGI, the Session Id when available,
the MBMS session duration, the MBMS_BEARER_ID, the MBMS In-band Signalling
Indicator (see sub-clause 6.6) and the p-t-m channel description to assign the
p-t-m bearer in the cell, or, if the p-t-m bearer is not assigned in the cell,
a cause value indicating one of the following reasons:
  1. Further MBMS access allowed for the current MBMS session in the current cell; or
  2. No further MBMS access allowed for the current MBMS session in the current cell (e.g. the cell is outside the MBMS Service Area for the requested MBMS service); or
  3. No further MBMS access allowed for the current MBMS session in the Routeing Area (e.g. the network does not have any information about the requested session); or
  4. No further MBMS access allowed for the current MBMS session in any cell of the PLMN.
> If the mobile station detects:
>
> Cause 1. above, the mobile station may perform additional access attempts
> for the current MBMS session in this cell. If the mobile station moves cell
> whilst the session duration timer in the mobile station is running, the
> mobile station may request the session in any cell that supports MBMS.
>
> Cause 2. above, the mobile station shall not perform any further access
> attempts for the current MBMS session whilst the mobile station remains in
> this cell. If the mobile station moves cell whilst the session duration
> timer in the mobile station is running, the mobile station may request the
> session in any other cell that supports MBMS.
>
> Cause 3. above, the mobile station shall not perform any further access
> attempts for the current MBMS session in the current Routeing Area. If the
> mobile station moves Routeing Area whilst the session duration timer in the
> mobile station is running, the mobile station may request the session in any
> other cell that supports MBMS.
>
> Cause 4. above, the mobile station shall not perform any further access
> attempts for the current MBMS session.
When the session duration timer in the mobile station expires the mobile
station shall no longer attempt to request this MBMS session in any cell and
indicates to the upper layers that the multicast/broadcast delivery of this
MBMS session is complete.
Note that a mobile station is allowed to perform a new access attempt if it
has received a new (repeated) notification, irrespective of a reception of a
previous reject cause (i.e. cause 1 to 4 defined above) and of the expiry of
the session duration timer for the MBMS session in the mobile station.
NOTE: The session duration timer in the mobile station is initialised with a
value equal to the estimated session duration which may be included in the
notification or in the (PACKET) MBMS ANNOUNCEMENT message or in the MBMS
ASSIGNMENT message.
The MBMS ASSIGNMENT message may be repeated by the network, in order to
overcome potential radio impairments on the PDCH on which it is transmitted.
The network may send the MBMS ASSIGNMENT message at any time during the
counting procedure and before a maximum time limit after notification elapses
(see Annex A.1.1).
Upon reception of an MBMS ASSIGNMENT message including the MBMS_BEARER_ID and
the p-t-m channel description for a given session, a mobile station that
requires the reception of this session, does not perform any further access
attempts (see sub-clause 6.1.1.3) and switches to the assigned p-t-m channel.
Upon reception of an MBMS ASSIGNMENT message not including the MBMS_BEARER_ID
and the p-t-m channel description for a given session, all interested mobile
stations in packet idle mode perform as specified above depending on the cause
indication why no p-t-m bearer was established.
#### 6.1.1.5 Address assignment procedure
The assignment of an MS_ID address to a counted mobile station is performed by
the network sending an MBMS MS_ID ASSIGNMENT message on the PACCH/D of the
point-to-multipoint radio bearer addressed via the MBMS_BEARER_ID. If an MBMS
ASSIGNMENT message is sent as a non-distribution message it can contain MS_ID
and then no MBMS MS_ID ASSIGNMENT message needs to be sent. On a given point-
to-multipoint bearer there is a one-to-one relationship between an
MBMS_BEARER_ID + MS_ID combination and the TLLI of the mobile station. The
MBMS MS_ID ASSIGNMENT message also includes the timing advance parameters for
the addressed mobile station.
The network may request an addressed mobile station to acknowledge, with a
PACKET CONTROL ACKNOWLEDGEMENT message, the reception of the MBMS MS_ID
ASSIGNMENT message.
The mobile stations are identified with an MBMS_BEARER_ID + MS_ID combination,
which is provided within the TFI field. Both the MBMS_BEARER_ID and the MS_ID
are variable length fields inside the TFI field. The MBMS_BEARER_ID may range
from a 1-bit field up to a 5-bit field (in the latter case no mobile station
may be addressed). The MS_ID may range from a 1-bit field up to a 4-bit field.
At any time the overall size of the MBMS_BEARER_ID + MS_ID combination is a
5-bit field, i.e. the size of the TFI field. On a PDCH an MBMS bearer is
identified by the MBMS_BEARER_ID contained in the most significant bit(s) part
of the TFI field; all TFI values whose most significant bits are equal to a
given MBMS_BEARER_ID are reserved for this MBMS bearer and shall not be used
for any other (E)GPRS TBFs or p-t-m radio bearer on that PDCH. All the mobile
stations receiving the MBMS p-t-m radio bearer identified by a given
MBMS_BEARER_ID shall try to decode all the RLC/MAC blocks where the TFI field
contains this MBMS_BEARER_ID.
The network may modify the lengths of the MBMS_BEARER_ID and the MS_ID fields
during an ongoing MBMS session in order to dynamically change the multiplexing
of different MBMS p-t-m radio bearers and/or (E)GPRS TBFs on the same PDCH(s).
The network performs such identity reassignment of an MBMS radio bearer by
sending an MBMS ASSIGNMENT message as a non-distribution message on the
PACCH/D, containing the old and the new MBMS_BEARER_ID and optionally the
starting time of the validity of the new MBMS_BEARER_ID.
The network may reallocate or delete the MS_ID value assigned to a specific MS
with an MBMS MS_ID ASSIGNMENT message.
#### 6.1.1.6 Repetition of notifications of an on-going MBMS session
The network may repeat notifications of an ongoing session (repeated
notifications). The same procedures as in sub-clause 6.1.1.2 shall be used
with the exception that the network shall provide the estimated remaining
duration of the MBMS session.
A mobile station that is receiving an MBMS session shall ignore repeated
(pre-)notifications of that session.
### 6.1.2 MBMS channel reconfiguration
The network may modify the channel allocation for an MBMS bearer by sending an
MBMS ASSIGNMENT message as a non-distribution message including the relevant
MBMS_BEARER_ID. The MS shall use the same MS_ID on the new resource.
The MBMS ASSIGNMENT message includes the new MBMS bearer description, the
session duration value indicating the remaining duration of the MBMS session
and the MBMS In-band Signalling Indicator (see sub-clause 6.6).
### 6.1.3 MBMS channel release
When the GERAN receives an MBMS SESSION STOP REQUEST message from the SGSN
indicating that the MBMS session can be released, the network acknowledges
this request by sending the MBMS SESSION STOP RESPONSE message to the SGSN.
The network removes all radio resources allocated for the MBMS session,
identified in the MBMS SESSION STOP REQUEST message.
During the MBMS session the network may decide that the bearer supporting the
MBMS session is to be released. If the network decides to prematurely release
the bearer, the network sends a PACKET TBF RELEASE message.
At the end of an MBMS session, indicated by the expiry of the Session Duration
Timer, a mobile station shall notify the upper layers.
When the GERAN receives an MBMS SESSION UPDATE REQUEST message from the SGSN
the network releases the MBMS channel in each cell no longer belonging to the
MBMS service area in case of an ongoing MBMS broadcast session with an updated
MBMS service area. The network acknowledges this request by sending the MBMS
SESSION UPDATE RESPONSE message to the SGSN (see sub-clause 6.1.1.1).
## 6.2 Mobility procedures
### 6.2.1 Distribution of MBMS neighbouring cell information
If in a given cell an MBMS session is being sent on a p-t-m channel; and if in
any neighbouring cell of that given cell, the same session is being sent on a
p-t-m channel, the network may provide in that given cell for that MBMS
session, information about the characteristics (frequency and timeslot
allocation) of the MBMS p-t-m channel and the relevant MBMS_BEARER_ID of each
of these neighbouring cells. The network shall not provide neighbouring cell
information for sessions that are not being sent in that given cell.
This information is provided to mobile stations on the PACCH/D of the p-t-m
channel using the MBMS NEIGHBOURING CELL INFORMATION message. This message
also includes an indication of whether an uplink feedback channel associated
to the MBMS p-t-m channel is established in the specific cell, and if so on
which timeslot and whether an MPRACH is allocated onto that timeslot or not,
and the MBMS In-band Signalling Indicator (see sub-clause 6.6).
In order to increase the likelihood that all mobile stations prior to
reselecting a cell, have received, if available, the MBMS NEIGHBOURING CELL
INFORMATION message(s) for that cell:
\- If feedback is in use, a mobile station when polled shall indicate in the
MBMS DOWNLINK ACK/NACK message as many as possible of and up to the 6
strongest non-serving carriers to the network. The network may in turn
prioritise the transmission of MBMS NEIGHBOURING CELL INFORMATION messages
according to the neighbouring cells reported by the mobile stations.
In addition, if so ordered by the network in GPRS Cell Options IE, a mobile
station monitoring an MBMS session on a p-t-m channel shall not reselect a
suitable neighbouring cell until it has received, if available, an MBMS
NEIGHBOURING CELL INFORMATION message for that cell and that session. If
within a given time after having determined a suitable neighbouring cell, the
mobile station still has not received any MBMS NEIGHBOURING CELL INFORMATION
message for that neighbouring cell and that session, the mobile station shall
proceed with cell reselection.
NOTE: The order in which the MBMS NEIGHBOURING CELL INFORMATION messages are
sent is implementation dependent.
### 6.2.2 MBMS reception resumption after cell reselection
#### 6.2.2.1 Default behaviour
If a mobile station receiving an MBMS session on a p-t-m channel reselects a
new cell for which it does not have any information about an MBMS bearer being
allocated in the cell for that MBMS session, the mobile station, after having
acquired a consistent set of (packet) system information, shall request the
MBMS service from the network using the following procedure, if MBMS is
supported in the cell.
{width="2.4138888888888888in" height="1.6583333333333334in"}
1\. / 2. The mobile station requests resources using a (PACKET) CHANNEL
REQUEST message denoting \"Single Block MBMS Access\" and is allocated
resources from the network.
3\. The mobile station sends an MBMS SERVICE REQUEST message including its
TLLI, the TMGI and the session ID of the requested MBMS service. In case the
MBMS SERVICE REQUEST message is not correctly received on the network side,
the network may repeat the IMMEDIATE ASSIGNMENT message on AGCH (or PACKET
UPLINK ASSIGNMENT message on PAGCH), allowing the mobile station to re-send
the MBMS SERVICE REQUEST message.
4\. Upon receiving the MBMS SERVICE REQUEST message the network can either:
\- Instruct the mobile station to move to an MBMS point-to-multipoint bearer
(MBMS ASSIGNMENT message including the MBMS_BEARER_ID and the p-t-m channel
description); or
\- Notify the mobile station that no p-t-m bearer will be available (MBMS
ASSIGNMENT message not including the MBMS_BEARER_ID and the p-t-m channel
description) and report the cause indication why no p-t-m bearer was
established (see sub-clause 6.1.1.4).
In case an uplink feedback channel is established, if there are further MS_ID
identifiers available, after sending the MBMS ASSIGNMENT message, the network
may decide to send an MBMS MS_ID ASSIGNMENT message on PACCH to perform the
addressing procedure (see sub-clause 6.1.1.5).
NOTE. The network may send a single assignment message including not only the
TMGI, the Session Id, the MBMS_BEARER_ID, the MBMS In-band Signalling
Indicator, the MBMS session duration and the p-t-m channel description, but
also the TLLI, the MS_ID and the timing advance parameters in the MBMS
ASSIGNMENT message.
In case an uplink feedback channel is established, but there are no more MS_ID
identifiers available, the network may:
\- Release the uplink feedback channel, adopting a retransmission strategy
that does not exploit user feedback; or
\- Retain the uplink feedback channel and decide not to address the new mobile
station. In this case, the mobile station shall only listen to the MBMS p-t-m
radio bearer and will not send any feedback.
#### 6.2.2.2 Fast reception resumption
If a mobile station receiving an MBMS session on a p-t-m channel reselects a
new cell for which it has received information about an MBMS bearer being
allocated for that session (as described in sub-clause 6.2.1), the mobile
station shall immediately switch to this MBMS bearer and continue receiving
that MBMS session without waiting to receive a consistent set of (packet)
system information messages on (P)BCCH in that cell. If the mobile station
also has information about an uplink feedback channel being established in the
cell, the mobile station shall initiate the address assignment procedure as
described below, otherwise the mobile shall not perform any access to the
network. If the mobile station is in DRX mode (e.g. it is not involved in a
_routeing area update_ procedure) and has received the indication that an
MPRACH is allocated on the uplink feedback channel, it shall initiate the
procedure on that MPRACH, otherwise the procedure is initiated by the mobile
station either on a PCCCH or, if a packet control channel is not allocated in
the cell, on a CCCH.
1\. / 2. The mobile station requests resources using a MPRACH PACKET CHANNEL
REQUEST or (PACKET) CHANNEL REQUEST message denoting \"Single Block MBMS
Access\" and is allocated resources from the network.
3\. The mobile station sends an MBMS SERVICE REQUEST message including its
TLLI, the TMGI and the session ID of the requested MBMS service.
4\. Upon receiving the MBMS SERVICE REQUEST message, if there are still MS_ID
identifiers available, the network may send:
\- an MBMS ASSIGNMENT message on the PAGCH, or on the PCCCH corresponding to
the mobile station PCCCH­_GROUP if the mobile station initiated the procedure
on the MPRACH; or
\- if PCCCH is not present in the cell, an IMMEDIATE ASSIGNMENT message
including the _Multiple Blocks Packet Downlink Assignment_ construction on the
AGCH, or on the CCCH corresponding to the mobile station CCCH­_GROUP if the
mobile station initiated the procedure on the MPRACH, followed by the MBMS
ASSIGNMENT message sent on the PDCH specified by the _Packet Channel
Description_ IE in the IMMEDIATE ASSIGNMENT message (see 3GPP TS 44.060 and
3GPP TS 44.018).
> The MBMS ASSIGNMENT message includes not only the TMGI, the Session Id, the
> MBMS_BEARER_ID, the MBMS In-band Signalling Indicator, the MBMS session
> duration and the p-t-m channel description, but also the TLLI, the MS_ID and
> the timing advance parameters. If there are no more MS_ID identifiers
> available, the network shall answer with an MBMS ASSIGNMENT message
> containing no valid MS_ID, to inform the mobile station to stop the address
> assignment procedure.
After receiving the MS_ID, the mobile station shall -- upon polling - send an
MBMS DOWNLINK ACK/NACK message on the uplink feedback channel.
NOTE: The decision regarding which cell the mobile station should reselect to
is performed using the existing procedures (see 3GPP TS 45.008 [9]).
### 6.2.3 Cell change
The cell change procedures for mobile stations in broadcast/multicast receive
mode are described in 3GPP TS 43.022 [10].
## 6.3 MBMS data transfer for p-t-m transmission
### 6.3.1 General
#### 6.3.1.1 Point-to-multipoint data transfer options
For _A/Gb mode_ , MBMS data, in the form of LLC frames, is mapped into the
RLC/MAC-PTM_DATA primitive and is distributed from the SGSN to each network
within the MBMS Service Area.
For the p-t-m transmission of MBMS data, the following alternatives are
available:
1) Without the support of an uplink feedback channel, i.e. without ARQ at the
RLC/MAC layer. Each RLC/MAC block may be retransmitted an unspecified number
of times according to the principles outlined in sub-clause 6.3.1.2 below and
in 3GPP TS 44.060.
2) With the support of an uplink feedback channel, i.e. with ARQ at the
RLC/MAC layer. A selective retransmission technique may be used; this does not
preclude the possibility to also retransmit blocks independently on user
feedback, as described in bullet 1 above.
For _A/Gb mode_ , the LLC layer always operates in unacknowledged mode.
#### 6.3.1.2 RLC protocol behaviour
During an MBMS data transfer, the RLC protocol shall operate in non-persistent
mode (see 3GPP TS 44.060), regardless of the presence of a feedback channel.
The RLC endpoints in the network and in the mobile stations shall not expect
that every RLC block is correctly received at the mobile station side.
The mobile station shall consider as valid RLC blocks all the RLC blocks
higher than the next expected highest numbered RLC block as well as those
starting from the next expected highest numbered RLC block and going backwards
a number of blocks equal to the default window size in the GPRS case or to the
window size signalled by the network in the MBMS ASSIGNMENT message in the
EGPRS case. If an NPM Transfer Time limitation is associated with the MBMS
bearer, the mobile station shall consider as valid RLC blocks all the RLC
blocks meeting the conditions above for which the corresponding timer has not
expired. The network should avoid (re)transmitting RLC blocks that will not be
considered as valid by the mobile stations, to avoid wasting radio resources
(see 3GPP TS 44.060).
The RLC protocol behaviour in the mobile station is independent of the
availability of an MS_ID identifier in the mobile station and is independent
of the transmission strategy used by the network.
### 6.3.2 Block retransmission based on mobile station feedback
During the MBMS session, the MS_ID is used by the network in order to address
a mobile station, and by the mobile station in order to allow the network to
identify that mobile station among all the mobile stations involved in that
MBMS session. Each mobile station addressed with an MS_ID may at any time be
requested to send an MBMS DOWNLINK ACK/NACK message.
{width="5.166666666666667in" height="3.125in"}
The global identifier (MBMS_BEARER_ID + MS_ID) allows the network to address a
specific mobile station on an MBMS p-t-m bearer.
1) The mobile station addressed via the global identifier (MBMS_BEARER_ID +
MS_ID) shall send an MBMS DOWNLINK ACK/NACK message in the uplink radio block
period specified by the RRBP value. The mobile station includes the
(MBMS_BEARER_ID + MS_ID) in the MBMS DOWNLINK ACK/NACK message in order to let
the network detect the correct identity of the responding mobile station.
2) The network processes the received MBMS DOWNLINK ACK/NACK messages and may
perform retransmissions accordingly.
The mobile station shall notify, whenever possible, the network of the release
of the MS_ID for that MBMS radio bearer, on the mobile station side, for
whatever reason, in the MBMS DOWNLINK ACK/NACK message. In turn and
consequently, the network may send an MBMS MS_ID ASSIGNMENT message to the
mobile station, deleting the MS_ID previously assigned to that mobile station
on that MBMS radio bearer. Any procedure triggering the release of the MS_ID
on the mobile station side shall not be delayed by such release indication
(otherwise such release indication shall not be sent).
## 6.4 Multiple sessions
### 6.4.1 Transmission of multiple sessions
When transmitting multiple sessions on the same carrier, the network has the
following options:
1) the sessions can be multiplexed on the same timeslot or group of timeslots;
2) the sessions can be transmitted on separate timeslots or groups of
timeslots;
3) some sessions can be transmitted with partial overlap on a subset of all
the timeslots on which the sessions are located;
4) a combination of the above.
When data transfer is with ARQ, separate groups of timeslots in the downlink
shall be associated with different timeslots in the uplink for the
transmission of MBMS DOWNLINK ACK/NACK messages.
If sessions, for which system information and paging messages are sent on the
PACCH (see sub-clause 6.6), are transmitted with partial overlap, the network
may send the system information on one of the timeslots common to the
overlapping sessions in order to reduce the signalling load.
### 6.4.2 Reception of multiple sessions
The reception of multiple sessions in parallel shall be dependent upon mobile
station capabilities.
NOTE: Depending on the timeslot allocation for the sessions, a mobile station
may not be capable of transmitting MBMS DOWNLINK ACK/NACK messages on more
than one uplink feedback channel.
In the following the priority is an Individual Priority which is mobile
station-specific and user-defined. The Individual Priority allows for
prioritisation between MBMS bearer services on a per-mobile station basis.
  1. If there is a clash of MBMS notification messages, then the mobile station acts on the MBMS Notification with the highest associated priority. If the highest associated priority is the same for two or more MBMS Notifications, then the mobile station shall perform an implementation dependent selection of the MBMS sessions. The mobile station shall not respond to other, lower (or equal) priority MBMS Notifications but may still receive the corresponding sessions, if the capabilities of the mobile station allow.
  2. Reception of notification of lower (or equal) priority MBMS session whilst receiving higher priority MBMS session(s):
> If the MBMS bearer configuration is contained in the Notification and the
> capabilities of the mobile station allow, the mobile station may receive the
> new session in parallel, otherwise, if the Notification does not contain the
> MBMS bearer configuration and requires the counting procedure, the mobile
> station shall not perform the counting procedure but may still receive the
> MBMS ASSIGNMENT message to check if the new MBMS bearer configuration is
> consistent with its capabilities. If so, the mobile station may receive the
> new session in parallel.
  1. Reception of notification of higher priority MBMS session whilst receiving lower priority MBMS session(s):
> If the MBMS bearer configuration is contained in the Notification and the
> capabilities of the mobile station allow, the mobile station may receive all
> the sessions in parallel. If the capabilities of the mobile station do not
> allow for the reception of the new session in parallel, the mobile station
> stops the reception of the lower priority MBMS session(s) no longer
> consistent with the capabilities of the mobile station (assuming the mobile
> station would receive the higher priority MBMS session) and receives the new
> session.
>
> If the MBMS bearer configuration is not contained in the Notification and
> the notification requires the counting procedure, the mobile station shall
> temporarily stop the reception of the lower priority MBMS session(s) and
> perform the counting procedure for the higher priority MBMS session. If,
> after receiving the MBMS ASSIGNMENT message, the mobile station detects that
> its capabilities do not allow for the reception of this new session in
> parallel, the mobile station stops the reception of the lower priority MBMS
> session(s) no longer consistent with the capabilities of the mobile station
> (assuming the mobile station would receive the higher priority MBMS session)
> and receives the new session.
  1. Cell Change whilst active on multiple MBMS sessions:
> When the mobile station moves to the target cell, if in the serving cell the
> mobile station has received the MBMS NEIGHBOURING CELL INFORMATION message
> for (one of) the highest priority MBMS session(s) and possibly MBMS
> NEIGHBOURING CELL INFORMATION messages for other sessions, then the mobile
> station performs the Fast Reception Resumption procedure for (one of) the
> highest priority MBMS session(s) and, if the mobile station capabilities
> allow, for other MBMS sessions where bearer information is known from the
> serving cell.
>
> If in the serving cell the mobile station does not receive the MBMS
> NEIGHBOURING CELL INFORMATION message for (any of) the highest priority MBMS
> session(s), then in the target cell the mobile station performs the Fast
> Reception Resumption procedure without performing accesses for the
> session(s) where the MBMS NEIGHBOURING CELL INFORMATION messages have been
> received. The mobile station performs access in the target cell for (one of)
> the highest priority MBMS session(s). After being informed of the bearer
> allocation of the highest priority MBMS session, the mobile station may
> perform the access part of the Fast Reception Resumption procedure (if an
> uplink feedback channel is established) for the sessions that fall within
> the mobile station capabilities. The mobile station stops the reception of
> the session(s) that does (do) not fall within the mobile station
> capabilities with respect to priority, i.e. stops the reception of lower
> priority sessions.
>
> The mobile station may perform access for the lower (or equal) priority MBMS
> sessions which were ongoing in the serving cell where the mobile station has
> not received the MBMS NEIGHBOURING CELL INFORMATION messages while the
> highest priority MBMS session is ongoing. In this case, the MBMS access is
> performed in passive mode, i.e. the mobile station notifies the network that
> the mobile station shall not be counted, but the network may still address
> and assign the mobile station an MS_ID value, if available and the network
> wishes to do so. If the capabilities of the mobile station allow, the mobile
> station may receive all (or some of) the lower (or equal) priority sessions
> in parallel with the highest priority session.
>
> In the case where the bearer for the highest priority MBMS session is not
> allocated in the target cell, then the mobile station attempts the above
> described procedure with the next highest priority MBMS session and stops
> this process when a bearer is allocated.
Note: the application layer of the mobile station may decide to terminate the
reception of any MBMS bearer, e.g. the application layer may terminate the
MBMS bearer if a p-t-p repair is initiated and the MBMS bearer is outside the
radio access capabilities (e.g. multislot capability) of the mobile station.
  1. MBMS channel reconfiguration:
> If a mobile station is receiving multiple MBMS bearers and any of these are
> reconfigured by the network in a way that does not fall within the radio
> access capabilities (e.g. multislot capability) of the mobile station, then
> the mobile station shall continue receiving (one of) the highest priority
> MBMS session(s) and any other MBMS sessions that fall within the mobile
> station capabilities.
General Note: If the uplink feedback channels are not allocated within the
multislot capabilities of the mobile station, then the mobile station shall
select (one of) the highest priority MBMS session(s) with a feedback channel
and any other MBMS sessions with feedback channels that then fall within the
multislot capabilities.
## 6.5 Suspension/Resumption of the reception of an MBMS session
In case where a suspension occurs, a mobile station supporting multiple TBFs
may retain the radio layer information for the suspended MBMS session until
the expiry of the timeout timer that controls the normal operation during MBMS
data transfer. The radio layer information is anyway deleted if the mobile
station performs a cell reselection or the session duration timer for the
suspended MBMS session expires.
When the mobile station returns to packet idle mode (or completes the
reception of higher priority MBMS session(s) preventing the mobile station
from receiving the suspended MBMS session), if the radio layer information is
still available, then the mobile station attempts to resume the reception of
the suspended MBMS session, otherwise the mobile station shall perform an MBMS
access, according to sub-clause 6.2.2.1.
## 6.6 Acquisition of system information and paging messages
### 6.6.1 General
During the MBMS session, the mobile station needs to read system information
for the serving cell and be able to receive CS and/or PS paging messages. The
acquisition of system information (see sub-clause 6.6.2) and paging messages
(see sub-clause 6.6.3) shall be done on (P)BCCH and (P)CCCH or on the PACCH as
indicated by the MBMS In-band Signalling Indicator IE included in the MBMS
ASSIGNMENT and MBMS NEIGHBOURING CELL INFORMATION messages.
### 6.6.2 Acquisition of system information
The mobile station reads system information for the serving cell from the
(P)BCCH in parallel to the reception of the MBMS radio bearer, unless the
network has indicated, by setting the MBMS In-band Signalling Indicator, that
system information are sent on the PACCH of the MBMS radio bearer.
### 6.6.3 Reception of paging messages
The mobile station reads paging messages from the (P)CCCH in parallel to the
reception of the MBMS radio bearer, unless the network has indicated, by
setting the MBMS In-band Signalling Indicator, that paging messages are sent
on the PACCH of the MBMS radio bearer, and the mobile station has received an
MS_ID. If a mobile station has not (yet) received an MS_ID on the MBMS radio
bearer, and the location of the MBMS radio bearer with respect to the control
channels does not allow the mobile station to read the (P)CCCH, the mobile
station shall skip the reception of those radio blocks of the MBMS radio
bearer that would prevent the monitoring of its paging group on the paging
channel(s).
NOTE: If the mobile station is in non-DRX mode period (e.g. during a _routeing
area update_ procedure) it shall read all the paging occurrences on the
(P)CCCH.
The network does not need to send paging messages on the PACCH to a mobile
station whose MS_ID has been released due to that the mobile station has not
responded when being polled (i.e. T3195 has started for that MS_ID).
If the network sets the MBMS In-band Signalling Indicator, MBMS notifications
are also sent on the PACCH.
# 7 Mobile Station requirements
## 7.1 General requirements
An MBMS capable mobile station shall be able to receive at least one MBMS
service. The mobile station shall also be able to receive multiple services if
they are transmitted on the same carrier (provided that the MBMS multislot
capabilities of the mobile station are not exceeded). The simultaneous
reception of multiple services on different carriers shall be dependent upon
mobile station capabilities.
A mobile station receiving an MBMS p-t-m transmission shall be in
_broadcast/multicast receive mode._ This state is defined only for the mobile
station; from the network\'s point of view, the mobile station shall be in
packet idle mode. However, if the network has indicated in the assignment
message that the mobile station does not need to listen to the (P)CCCH and
(P)BCCH in parallel to the MBMS data, and the mobile station has an MS_ID on
that MBMS radio bearer, the network needs to keep track of such mobile station
listening to that MBMS radio bearer in order to send CS and/or PS paging
messages on the PACCH/D.
Unless the network has indicated in the assignment message that the mobile
station does not need to listen to the (P)BCCH and (P)CCCH in parallel to the
MBMS data, the mobile station shall, in parallel to the MBMS data, read system
information for the serving cell from the broadcast control channel and CS
and/or PS paging messages from its paging group on the paging channel(s)
allocated in the cell. Reading system information and paging messages takes
precedence over listening to the MBMS session.
NOTE: In case the network does not provide system information and paging
messages on the PACCH, the location of the MBMS bearer with respect to the
control channels should be chosen such that it will be possible for the mobile
station to read all the PDCHs of the MBMS radio bearer while monitoring the
control channels.
A mobile station receiving MBMS shall operate in Network Control mode NC0 (see
3GPP TS 45.008 [9]) even if it had been commanded otherwise by the network. If
in GMM-Ready state, the mobile station shall move to NC0 upon the start of the
MBMS session. Upon termination of the MBMS session, the mobile station shall
revert to the control mode commanded by the network before the start of the
MBMS session if the mobile station is still in GMM-Ready state.
## 7.2 Mobile Station tasks
When in broadcast/multicast receive mode, the requirements for monitoring the
received signal level of neighbouring cells shall be the same as those for
packet idle mode (see 3GPP TS 45.008 [9]). For the reconfirmation of the BSIC
of neighbouring cells, however, the requirements for packet transfer mode
shall apply (see 3GPP TS 45.008 [9]).
If the PBCCH is not present in the serving cell, a mobile station in
broadcast/multicast receive mode shall not attempt to decode the BCCH data
block that contains the parameters affecting cell reselection for non-serving
cells that have been provided by the System Information (see 3GPP TS 45.008
[9]). Instead, this information shall be provided by the serving cell either
on BCCH or on PACCH.
The behaviour of the MS which does not receive in time or does not receive at
all this information is defined in 3GPP TS 43.022 [10].
Mobile stations in broadcast/multicast receive mode shall obey the intra-RAT
and inter-RAT cell reselection algorithms defined for the GMM Ready state
(see3GPP TS 45.008).
A mobile station in broadcast/multicast receive mode shall be able to respond
to a PACKET POLLING REQUEST message as defined in 3GPP TS 44.060 when
addressed with its TLLI. It shall also be able to receive a PACKET POWER
CONTROL/TIMING ADVANCE message and act accordingly (see 3GPP TS 44.060).
## 7.3 Multislot capabilities
The multislot capability of an MBMS capable mobile station shall be such that
the mobile station is capable of receiving on up to 5 timeslots per frame and
the timeslots shall be assigned within a window of maximum size Rx=6.
An MBMS capable mobile station shall be capable of receiving MBMS:
\- on up to 4 timeslots simultaneously, if the MS must listen to the (P)BCCH
and (P)CCCH in addition to the timeslots assigned for MBMS data transfer; or
\- on up to 5 timeslots simultaneously, if PBCCH/PCCCH is mapped on one of the
PDCHs assigned to the MBMS session and the number of timeslots assigned to the
PCCCH is equal to one; or
\- on up to 5 timeslots simultaneously, if the network transmits system
information and paging messages on the PACCH of the MBMS radio bearer.
> NOTE: The downlink timeslots could be used to receive multiple MBMS sessions
> in parallel (see subclause 6.4).
If data transfer is with ARQ (see subclause 6.3), the mobile station shall
additionally be capable of transmitting on up to two timeslots. The number of
timeslots allocated for the reception of MBMS (_m_) and the number of
timeslots allocated for transmission (_n_) shall be such that the sum of _m_
and _n_ does not exceed 6 (5 in case the mobile station needs to listen to the
(P)BCCH and (P)CCCH in addition to the timeslots assigned for MBMS data
transfer).
Regardless of the data transfer method, the mobile station shall additionally
be capable of reading the (P)BCCH and the (P)CCCH on up to one additional
timeslot in those frames where the mobile station is required to read the
(packet) broadcast control channel or the (packet) common control channel. The
network can however indicate in the assignment message that the mobile station
will receive system information and CS and/or PS paging messages on the
PACCH/D of the MBMS radio bearer. In that case, the mobile station shall not
listen to the (P)BCCH and the (P)CCCH in parallel to the MBMS data (see sub-
clause 6.6).
NOTE: This will be possible without interrupting the reception of MBMS only if
allowed by the relative location of the (packet) control channels and of the
MBMS traffic channel and depending on the number of timeslots allocated to
MBMS (see Annex B), unless system information for the serving cell and CS
and/or PS paging messages are transferred on the PACCH/D.
If the number of timeslots allocated to the (P)CCCH is higher than one, the
number of timeslots on which MBMS can be received may be reduced.
## 7.4 MBMS notification for mobile stations in dedicated mode or packet
transfer mode or dual transfer mode
A mobile station in class A mode of operation which supports the MBMS feature
and requires notification of commencing MBMS sessions during dedicated mode
operation shall perform the service information sending procedure:
\- at the earliest opportunity after the early Classmark sending procedure and
any DTM related signalling, if and only if the dedicated mode MBMS
notification feature is supported in the cell; or
\- if the P-TMSI of the MS is reallocated during the CS connection and the
dedicated mode MBMS notification feature is supported in the cell; or
\- on the main DCCH of a target cell after successfully completing the
handover procedure, if indicated to do so in the HANDOVER COMMAND message and
the dedicated mode MBMS notification feature is supported in the target cell.
# 8 Network requirements
## 8.1 General requirements
In a network providing MBMS services, the support of the PBCCH is not
mandatory.
If the PBCCH is not present in a cell, the network shall provide the
parameters affecting cell reselection towards neighbouring cells either on
BCCH or on the PACCH.
For each session in a given cell, the network may provide MBMS neighbouring
cell information as described in sub-clause 6.2.1.
If the PBCCH is allocated, the support of NMO I is mandatory.
NOTE: If NMO III is used, the mobile station may need to interrupt the
reception of MBMS to listen to CS paging messages.
The network may transmit an MBMS session on up to 4 timeslots, regardless of
whether data transfer is with or without ARQ (see subclause 6.3).
## 8.2 MBMS notification for mobile stations in dedicated mode or packet
transfer mode or dual transfer mode
The network indicates whether the network supports the Dedicated MBMS
Notification mechanism and therefore whether the mobile stations are allowed
to send the SERVICE INFORMATION message or include information in the GPRS
SUSPENSION REQUEST message being sent to the network on the main DCCH.
The network may notify a mobile station that has requested to be notified on
the main DCCH of starting MBMS sessions when in dedicated mode or MAC-
Dedicated state, using the MBMS ANNOUNCEMENT message.
The network may inform a mobile station in the HANDOVER COMMAND message that a
mobile station after completing the Handover procedure should re-request the
network to send notifications on the main DCCH for starting MBMS sessions, if
previously requested.
Note: The network should ensure that any transmissions of the MBMS
ANNOUNCEMENT message, for the purpose of notifying the mobile station of the
start of an MBMS session, are only sent to mobile stations that joined that
MBMS session.
###### ## Annex A (normative): Requirements and recommendations
## A.1 General requirements and recommendations
### A.1.1 General requirements
  1. MBMS shall utilise the radio resource in an efficient manner.
  2. MBMS data transfer shall be downlink only.
  3. The reception of MBMS data blocks in p-t-m is not guaranteed at the GERAN level. MBMS does not support individual retransmissions at the radio link layer. This does not preclude the periodic repetitions of the MBMS content based on operator or content provider scheduling or retransmissions based on feedback at the radio level and/or at the application level.
  4. Simultaneous reception of MBMS and non-MBMS services shall be possible and shall depend upon mobile station capabilities.
  5. Simultaneous transmission of more than one MBMS service shall be possible and the reception shall depend upon mobile station capabilities.
  6. Mobile station controlled \"service based\" cell selection/reselection shall not be permitted.
  7. A mechanism to enable the network to move MBMS subscribers, in an MBMS session, between RATs and cells is required.
  8. Supported QoS attributes shall be the same for MBMS Multicast and Broadcast modes.
  9. During MBMS data transmission it shall be possible to page a given mobile station, irrespective of the RRC state / RR mode of operation.
  10. The MBMS Notification procedure shall be used to indicate the start (and potentially about the ongoing) of MBMS data transmission in the cell.
a. The mobile station shall return to DRX mode (if it was in DRX mode before
receiving the notification) in case no bearer establishment for that
particular session has been received before a given time. A maximum time limit
needs to be defined on the network side between notification and bearer
establishment.
b. The mobile station shall disregard a notification for which no bearer
establishment has been received before a given time
c. Mobile station reaction upon notification must be done on a session basis,
in which case means must exist to distinguish in the network the mobile
station responses per session
d. Due to capacity reasons, GERAN shall be able in any particular cell within
the service area, not to notify the session start of a given session hence not
to transfer this session at all
  11. A mechanism shall be defined to enable the network to start the MBMS data transmission for a multicast session in a cell if there is at least one user joined to this multicast session in the cell.
  12. A mechanism shall be defined to allow the network to stop the MBMS data transmission for a given multicast session in a cell which does not contain any MBMS mobile station joined to this multicast session.
  13. Continuing the acquisition of a given MBMS service after cell change within the MBMS service area shall be possible.
### A.1.2 General recommendations
  1. MBMS should maximise the reuse of existing channels.
  2. The GERAN should provide mechanisms to reduce the MBMS outage for a mobile station at cell change.
  3. Header compression should be supported.
## A.2 Mobile Station requirements and recommendations
### A.2.1 Mobile Station requirements
  1. During an MBMS session the mobile station shall be able to listen to the required paging channel(s), unless the network has indicated that the paging messages are sent on the PACCH/D of that MBMS session and the mobile station has received an MS_ID.
### A.2.2 Mobile Station recommendations
No recommendations for the mobile station have been identified.
## A.3 GERAN requirements and recommendations
### A.3.1 GERAN requirements
> 1\. The procedure for MBMS mobile station multicast activation (Joining)
> shall be transparent to the GERAN.
  1. The MBMS Notification procedure shall be performed within the MBMS service area.
> 3\. MBMS shall not prevent support for SGSN in pool.
>
> 4\. MBMS shall allow for efficient mobile station power consumption.
### A.3.1 GERAN recommendations
  1. MBMS charging should be transparent to the GERAN.
###### ## Annex B (informative): Physical channel allocation scenarios
In this Annex, the maximum number of timeslots that can be received by an MBMS
capable mobile station in different scenarios is investigated. This
investigation is useful in the case of the reception of multiple sessions. The
maximum number of timeslots that an MBMS session can be transmitted upon is 4.
When transmitting multiple sessions on the same carrier, the network can
choose one of the options in subclause 6.4.1; depending on the number of
timeslots allocated to each session and which of the options in subclause
6.4.1 is chosen, the mobile station may or may not be able to listen to more
than one session in parallel.
Only the cases where the mobile station needs to listen to the (P)CCCH and
(P)BCCH in parallel to the MBMS data are analysed in this Annex. The analysis
is carried out under the assumption that the mobile station is able to read
both the (packet) broadcast control channel and the (packet) common control
channel without having to interrupt the reception of MBMS and the transmission
on the uplink feedback channel, if established. Additionally, in all the
scenarios the maximum number of timeslots is calculated assuming that both the
(P)BCCH and the (P)CCCH are located on only one timeslot; if this assumption
is not satisfied (i.e. additional timeslots are used for (P)CCCH), the number
of timeslots that MBMS can be received upon will be reduced.
Throughout the Annex, the maximum number of timeslots for each scenario is
calculated assuming that the mobile station capabilities require T~tb~ = 1 and
T~ra~ = 1 (see 3GPP TS 45.002 [8]).
NOTE: Due to the fact that T~ra~ = 1, neighbour cell measurements are not
indicated in the figures.
The maximum number of timeslots will depend on whether an uplink feedback
channel per MBMS session is established or not (see subclause 6.3). In case
where an uplink feedback channel per MBMS session is established, for
simplicity reasons in the following it is assumed that (any of) the uplink
feedback channel(s) is(are) established on the same uplink timeslot.
The material in this Annex is not meant to provide an exhaustive analysis but
only to give some general guidance.
## B.1 Data transfer when no uplink feedback channel is established
### B.1.1 PBCCH not deployed, transmission with frequency hopping
Figure B.1
Figure B.1 shows that it is possible to have the simultaneous reception of
paging or broadcast channel and MBMS data if MBMS sessions are received on up
to 4 timeslots.
NOTE: In this scenario, it would be possible to receive multiple MBMS sessions
on up to 5 timeslots, still meeting the requirement of T~ra~ = 1; however,
this exceeds the required multislot capabilities of an MBMS capable mobile
station.
It is assumed that channel combination iv (BCCH+CCCH+FCCH+SCH) is allocated on
TN 0 of the BCCH carrier. If the CCCH is located on other timeslots in
addition to timeslot 0, the number of timeslots that MBMS can be received on
is reduced. For example, if a second timeslot is allocated to the CCCH (i.e.
BS_CC_CHANS = 2), then it necessarily has to be timeslot 2 (see 3GPP TS 45.002
[8]). Therefore only timeslots 4, 5 and 6 can be used for the transmission of
MBMS, and the maximum number of timeslots is reduced to 3.
### B.1.2 PBCCH not deployed, transmission without frequency hopping
Figure B.2
Figure B.2 shows that in this scenario the maximum number of timeslots that
one or more MBMS sessions can be received upon is 4.
NOTE: It would be possible to receive multiple MBMS sessions on up to 6
timeslots, still meeting the requirement of T~ra~ = 1, but this exceeds the
required multislot capabilities of an MBMS capable mobile station.
### B.1.3 PBCCH deployed, transmission with frequency hopping
Figure B.3
Figure B.3 shows that in this scenario the maximum number of timeslots that
one or more MBMS sessions can be received upon is 4.
NOTE 1: It would be possible to receive multiple MBMS sessions on up to 6
timeslots, still meeting the requirement of T~ra~ = 1, but this exceeds the
required multislot capabilities of an MBMS capable mobile station.
It is assumed that channel combination xi
(PBCCH+PCCCH+PDTCH/F+PACCH/F+PTCCH/F) is present on TN 0 and that all the
PCCCH blocks are located on the same timeslot as the PBCCH (i.e. no PCCCH
blocks are located on other timeslots).
NOTE 2: As paging coordination is mandatory in the network for MBMS, the
mobile station does not need to read the BCCH and the CCCH.
It is also assumed that both the PBCCH and the MBMS traffic channels use
frequency hopping, that the hopping pattern is the same and that, in every
frame, the PBCCH and the MBMS traffic channels are transmitted on the same
frequency. If the hopping pattern is not the same, the maximum number of
timeslots that one or more MBMS sessions can be received upon is still 4.
## B.2 Data transfer when an uplink feedback channel is established
### B.2.1 PBCCH not deployed, transmission with frequency hopping
Figure B.4
In this configuration, it is assumed that the BCCH and the CCCH are located on
timeslot 0 (with no additional timeslots assigned to CCCH). As shown in Figure
B.4, the mobile station is able to transmit also when the BCCH or the CCCH
need to be read, if one or more MBMS sessions are received on up to 3
timeslots.
NOTE 1: If in a frame the MS needs to read the BCCH or CCCH and transmit on
the uplink, the MS will need to perform three switchings within that frame.
NOTE 2: After receving a (pre-)notification for a new session while listening
to an ongoing session, the mobile station enters non-DRX mode and listens to
all the paging blocks on the CCCH to receive a(n) (notification)assignment. As
the time elapsing until the assignment received on the mobile station side
(see subclauses 6.1.1.2, 6.1.1.3, 6.1.1.4) could last for a considerable
length of time (up to the value of T3214, which is equal to 60 seconds, see
3GPP TS 44.018 and 3GPP TS 44.060), the worst case is in those frames where
the mobile station is required to: read 1 timeslot for BCCH or CCCH, use 1
timeslot for switching from the reception of BCCH/CCCH to the reception of
MBMS, read 3 timeslots for MBMS and transmit on 1 timeslot to send feedback.
In this scenario the sum of RX and TX is equal to 6; this leaves only 2
timeslots for switching. As the mobile station needs to be able to perform
neighbour cell measurements during these periods, it follows that T~tb~ = 1
and T~ra~ = 1.
### B.2.2 PBCCH not deployed, transmission without frequency hopping
Figure B.5
In this scenario, the maximum number of timeslots that one or more MBMS
sessions can be received upon is 4. This assumes that both the BCCH and the
CCCH are located on timeslot 0.
NOTE: After receving a (pre-)notification for a new session while listening to
an ongoing session, the mobile station enters non-DRX mode and listens to all
the paging blocks on the CCCH to receive a(n) (notification)assignment. As the
time elapsing until the assignment received on the mobile station side (see
subclauses 6.1.1.2, 6.1.1.3, 6.1.1.4) could last for a considerable length of
time (up to the value of T3214, which is equal to 60 seconds, see 3GPP TS
44.018 and 3GPP TS 44.060), the worst case is in those frames where the mobile
station is required to: read 1 timeslot for BCCH or CCCH, read 4 timeslots for
MBMS and transmit on 1 timeslot to send feedback. In this scenario the sum of
RX and TX is equal to 6; this leaves only 2 timeslots for switching. As the
mobile station needs to be able to perform neighbour cell measurements during
these periods, it follows that T~tb~ = 1 and T~ra~ = 1.
### B.2.3 PBCCH deployed, transmission with frequency hopping
Figure B.6
Figure B.6 shows that in this scenario the maximum number of timeslots that
one or more MBMS sessions can be received upon is 4.
It is assumed that the PBCCH and the PCCCH are located on a single timeslot.
If the PCCCH is transmitted on more than one timeslot, then the number of
timeslots that one or more MBMS sessions can be received upon is reduced
accordingly.
NOTE 1: As paging coordination is mandatory in the network for MBMS, the
mobile station does not need to read the BCCH and the CCCH.
NOTE 2: After receving a (pre-)notification for a new session while listening
to an ongoing session, the mobile station enters non-DRX mode and listens to
all the paging blocks on the PCCCH to receive a(n) (notification)assignment.
As the time elapsing until the assignment received on the mobile station side
(see subclauses 6.1.1.2, 6.1.1.3, 6.1.1.4) could last for a considerable
length of time (up to the value of T3214, which is equal to 60 seconds, see
3GPP TS 44.060), the worst case is in those frames where the mobile station is
required to: read 1 timeslot for PBCCH or PCCCH, read 4 timeslots for MBMS and
transmit on 1 timeslot to send feedback. In this scenario the sum of RX and TX
is equal to 6; this leaves only 2 timeslots for switching. As the mobile
station needs to be able to perform neighbour cell measurements during these
periods, it follows that T~tb~ = 1 and T~ra~ = 1.
It is also assumed that both the PBCCH and the MBMS traffic channels use
frequency hopping, that the hopping pattern is the same and that, in every
frame, the PBCCH and the MBMS traffic channels are transmitted on the same
frequency. If the hopping pattern is not the same, the maximum number of
timeslots that multiple MBMS sessions can be received upon is reduced to 3.
NOTE 3: If the hopping pattern is not the same and in a frame the MS needs to
read the PBCCH or PCCCH and transmit on the uplink, the MS will need to
perform three switchings within that frame.
#