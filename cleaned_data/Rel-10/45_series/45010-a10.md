# Foreword
This Technical Specification has been produced by the 3^rd^ Generation
Partnership Project (3GPP).
The contents of the present document are subject to continuing work within the
TSG and may change following formal TSG approval. Should the TSG modify the
contents of the present document, it will be re-released by the TSG with an
identifying change of release date and an increase in version number as
follows:
Version x.y.z
where:
x the first digit:
1 presented to TSG for information;
2 presented to TSG for approval;
3 or greater indicates TSG approved document under change control.
y the second digit is incremented for all changes of substance, i.e. technical
enhancements, corrections, updates, etc.
z the third digit is incremented when editorial only changes have been
incorporated in the document.
# 1 Scope
The present document defines the requirements for synchronization on the radio
sub-system of the digital cellular telecommunications systems GSM. However, it
does not define the synchronization algorithms to be used in the Base
Transceiver Station (BTS), CTS Fixed Part (CTS-FP) and Mobile Station (MS).
These are up to the manufacturer to specify.
## 1.1 References
The following documents contain provisions which, through reference in this
text, constitute provisions of the present document.
  * References are either specific (identified by date of publication, > edition number, version number, etc.) or non‑specific.
  * For a specific reference, subsequent revisions do not apply.
  * For a non-specific reference, the latest version applies. In the > case of a reference to a 3GPP document (including a GSM document), > a non-specific reference implicitly refers to the latest version > of that document _in the same Release as the present document_.
[1] 3GPP TR 21.905: "Vocabulary for 3GPP Specifications".
[2] 3GPP TS 25.123: "Requirements for support of radio resource management
(TDD)".
[3] 3GPP TS 25.133: "Requirements for support of radio resource management
(FDD)".
[4] 3GPP TR 43.030: "Radio network planning aspects".
[5] 3GPP TS 43.052: "Lower layers of the Cordless Telephony System (CTS) Radio
Interface; Stage 2".
[6] 3GPP TS 43.059: "Functional stage 2 description of Location Services (LCS)
in GERAN".
[7] 3GPP TS 43.064: "Overall description of the GPRS radio interface; Stage
2".
[8] 3GPP TS 44.018: "Mobile radio interface layer 3 specification, Radio
Resource Control Protocol".
[9] 3GPP TS 44.060: "General Packet Radio Service (GPRS); Mobile Station (MS)
- Base Station System (BSS) interface; Radio Link Control/ Medium Access
Control (RLC/MAC) protocol".
[10] 3GPP TS 45.002: "Multiplexing and multiple access on the radio path".
[11] 3GPP TS 45.005: "Radio transmission and reception".
[12] 3GPP TS 45.008: "Radio subsystem link control".
[13] 3GPP TS 45.050: "Background for RF Requirements".
[14] 3GPP TS 45.056: "CTS-FP Radio Sub-system".
[15] 3GPP TS 45.004: "Modulation".
[16] 3GPP TS 36.133: "Evolved Universal Terrestrial Radio Access (E-UTRA);
Requirements for support of radio resource management".
[17] 3GPP TS 36.211: "Evolved Universal Terrestrial Radio Access (E-UTRA);
Physical Channels and Modulation".
## 1.2 Definitions and abbreviations
In addition to those below, abbreviations used in the present document are
listed in 3GPP TR 21.905.
**BTS:** Base Transceiver Station.
**BTTI:** Basic TTI.
**CTS-FP:** CTS Fixed Part.
**CTS-MS:** MS operating in CTS mode.
**Current Serving BTS:** BTS on one of whose channels (TCH, DCCH, CCCH or
PDCH) the MS is currently operating.
**Current Serving CTS-FP:** CTS-FP on one of whose channels (TCH or CTS
control channels) the CTS-MS is currently operating.
**FANR (Fast Ack/Nack Reporting):** Fast Ack/Nack Reporting enables the use of
a PAN field within an RLC/MAC block for EGPRS data transfer or for EGPRS2 data
transfer. FANR enables the mobile station to transmit in the uplink direction
a PAN field corresponding to a downlink TBF. Similarly FANR enables the
network to transmit in the downlink direction a PAN field corresponding to an
uplink TBF.
**MS timing offset:** delay of the received signal relative to the expected
signal from an MS at zero distance under static channel conditions with zero
timing advance. This is accurate to ± 1 symbol, and reported once per SACCH or
after a RACH as. required (i.e. at the same rate as timing advance). For
example, for an MS with a round trip propagation delay of P symbols, but with
a timing advance of T symbols, the reported timing offset will be P‑T
quantized to the nearest symbol. For GPRS the MS timing offset is not
reported.
**Normal Symbol Period** : duration of a symbol for bursts using a modulating
symbol rate of 1625/6 ksymb/s (see 3GPP TS 45.004); it is equal to 48/13 µs.
This symbol duration is used for transmission of GMSK, 8PSK, 16QAM and 32QAM
modulated bursts on downlink and GMSK, 8PSK and 16QAM modulated bursts on
uplink (see 3GPP TS 45.004).
**Observed Frequency Offset (OFO):** difference of frequency of signals
received by a CTS-MS from a CTS-FP and a BTS. The Observed Frequency Offset is
measured and reported by the CTS-MS on CTS-FP requirement. The Observed
Frequency Offset is expressed in ppm with an accuracy of 1/64 ppm (i.e. about
0,016 ppm).
**PAN:** Piggy-backed Ack/Nack.
**Quarter symbol number:** timing of quarter symbol periods (12/13 µs or 10/13
µs depending on the actual symbol period used) within a timeslot. A symbol can
represent 1 to 5 bits depending upon modulation.
**Reduced Latency:** refers to the use of FANR either in BTTI configuration or
in RTTI configuration for EGPRS and EGPRS2.
**Reduced Symbol Period** : duration of a symbol for bursts using a modulating
symbol rate of 325 ksymb/s (see 3GPP TS 45.004); it is equal to 40/13 µs. This
symbol duration is used for transmission of QPSK, 16QAM and 32QAM modulated
bursts on uplink and downlink (see 3GPP TS 45.004).
**RTTI:** Reduced TTI.
**Symbol Period** : symbol period is the duration of a symbol and shall refer
to normal symbol period unless explicitly clarified to be the reduced symbol
period.
**TDMA frame number:** count of TDMA frames relative to an arbitrary start
point.
**Timebase counters:** set of counters which determine the timing state of
signals transmitted by a BTS or MS.
**Time group (TG):** used for compact**,** time groups shall be numbered from
0 to 3 and a particular time group shall be referred to by its time group
number (TG) (see 3GPP TS 45.002).
**Timeslot number:** timing of timeslots within a TDMA frame.
**Timing Advance:** signal sent by the BTS to the MS which the MS uses to
advance its timings of transmissions to the BTS so as to compensate for
propagation delay.
**Timing Advance Index:** Timing Advance Index TAI used for GPRS, which
determines the position of the subchannel on PTCCH (see 3GPP TS 45.002) used
by the MS to send an access burst, from which the network can derive the
timing advance.
**TTI:** Transmission Time Interval.
# 2 General description of synchronization system
This clause gives a general description of the synchronization system.
Detailed requirements are given in clauses 3 to 7.
The BTS sends signals on the BCCH or, for COMPACT on the CPBCCH, to enable the
MS to synchronize itself to the BTS and if necessary correct its frequency
standard to be in line with that of the BTS. The signals sent by the BTS for
these purposes are:
a) Frequency correction bursts;
b) Synchronization bursts.
The timings of timeslots, TDMA frames, TCH frames, control channel frames, and
(for COMPACT) the rotation of time groups are all related to a common set of
counters which run continuously whether the MS and BTS are transmitting or
not. Thus, once the MS has determined the correct setting of these counters,
all its processes are synchronized to the current serving BTS.
The MS times its transmissions to the BTS in line with those received from the
BTS. The BTS sends to each MS a \"timing advance\" parameter (TA) according to
the perceived round trip propagation delay BTS‑MS‑BTS. The MS advances its
timing by this amount, with the result that signals from different MS\'s
arriving at the BTS and compensated for propagation delay. This process is
called \"adaptive frame alignment\".
Additionally, synchronization functions may be implemented in both the MS and
the BTS to support the so‑called pseudo synchronization scheme for circuit-
switched handovers. The support of this scheme is optional except that MS
shall measure and report the Observed Timing Difference (OTD), which is a
mandatory requirement. The detailed specifications of the
pseudo‑synchronization scheme for circuit-switched handovers are included in
annex A.
While in dual transfer mode an MS performs all the tasks of dedicated mode. In
addition, upper layers can require the release of all the packet resources,
which triggers the transition to dedicated mode, or the release of the RR
resources, which triggers the transition either to idle mode and packet idle
mode or, depending upon network and MS capabilities, to packet transfer mode.\
When handed over to a new cell, the MS leaves the dual transfer mode, enters
the dedicated mode where it switches to the new cell, may read the system
information messages sent on the SACCH and may then enter dual transfer mode
in the new cell (see 3GPP TS 44.060).
In CTS, the CTS-FP sends signals on the CTSBCH to enable the MS to synchronize
itself to the CTS-FP and if necessary correct its frequency standard to be in
line with that of the CTS-FP.
The signals sent by the CTS-FP for these purposes are:
a) Frequency correction bursts;
b) Synchronization bursts.
The timings of timeslots, TDMA frames, CTSBCH, CTSARCH, CTSAGCH and CTSPCH
frames are all related to a first common set of counters which run
continuously whether the CTS-MS and CTS-FP are transmitting or not. Thus, once
the CTS-MS has determined the correct setting of these first counters, the
CTS-MS is able to attach to the current serving CTS-FP. In addition, during
CTS-MS attachment, the CTS-FP sends to the CTS-MS the remaining counters for
SACCH and TCH frames. Then, all processes of the CTS-MS are synchronized to
the current serving CTS-FP.
The CTS-MS times its transmissions to the CTS-FP in line with those received
from the CTS-FP. The timing advance parameter is set to zero for CTS.
Additionally, the CTS-FP may be assisted by a CTS-MS to adjust its frequency
source. When required by the CTS-FP, the CTS-MS estimates if possible and
reports the Observed Frequency Offset of the CTS-FP with a specified BTS. The
CTS-FP may then adjust its frequency source according to this value.
# 3 Timebase counters
## 3.1 Timing state of the signals
The timing state of the signals transmitted by a BTS (for normal symbol
period), a MS (for normal symbol period), a CTS-FP, or an Compact BTS and MS
is defined by the following counters:
‑ Quarter symbol number QN (0 ‑ 624)
‑ Symbol number BN (0 ‑ 156);
‑ Timeslot number TN (0 ‑ 7);
‑ TDMA frame number FN (0 to (26 x 51 x 2048) ‑ 1 = 2715647); or
\- for a non attached CTS-MS, TDMA frame number modulo 52 T4 (0 - 51); or
\- for Compact, TDMA frame number FN (0 to (52 x 51 x 1024) -1 = 2715647).
In CTS, the CTS-MS shall manage different sets of counters for CTS operation
and GSM operation.
Alternatively, in case of transmission using reduced symbol period, for a BTS
or an MS the following counters have the following ranges:
\- Quarter symbol number QN (0-749)
\- Symbol number BN (0-187)
## 3.2 Relationship between counters
The relationship between these counters is as follows:
‑ QN increments every 12/13 µs for normal symbol period and every 10/13µs for
Reduced Symbol Period;
‑ BN = Integer part of QN/4;
‑ TN increments whenever QN changes from count 624 to 0 for normal symbol
periodand whenever QN changes from count 749 to 0 for reduced symbol period;
‑ FN increments whenever TN changes from count 7 to 0; or
\- for a CTS-MS, T4 increments whenever TN changes from count 7 to 0.
# 4 Timing of transmitted signals
The timing of signals transmitted by the MS, BTS and CTS-FP are defined in
3GPP TS 45.002.
The MS can use the timing of receipt of the synchronization burst to set up
its timebase counters as follows:
QN is set by the timing of the training sequence;
TN = 0 when the synch burst is received;
FN = 51 ((T3‑T2) mod (26)) + T3 + 51 x 26 x T1 when the synch burst is
received,(where T3 = (10 x T3\') + 1, T1, T2 and T3\' being contained in
information fields in synchronization burst).
For Compact, the MS can use the timing of receipt of the synchronization burst
to set up its timebase counters as follows:
QN is set by the timing of the training sequence;
FN = (R1 x 51 + R2) x 52 + 51 when the synch burst is received (where R1 and
R2 are contained in information fields in synchronization burst);
TN is determined from TG as described in 3GPP TS 45.002, where TG is contained
in information fields in synchronization burst.
For CTS, the timebase counters are set as follows:
QN is set by the timing of the training sequence;
TN is set according to the CTSBCH-SB position (see Annex C);
T4 = 51 when the CTSBCH-SB is received (prior to attachment);
FN = (51 ((T3‑T2) mod (26)) + T3 + 51 x 26 x T1) mod (2715648) when the CTS-MS
receives the last CTSAGCH burst of the non-hopping access procedure, where T2
= T4 mod (26), and T1 and T3 being contained in this CTS immediate assignment
message.
Thereafter, the timebase counters are incremented as in subclause 3.2.
(When adjacent BTS\'s are being monitored for handover purposes, or for cell
reselection purposes in group receive mode, the MS may choose to store the
values of QN, TN and FN for all the BTS\'s whose synchronization bursts have
been detected relative to QN, TN and FN for its current serving BTS).
# 5 BTS Requirements for Synchronization
The conditions under which the requirements of subclauses 5.4 and 5.6 must be
met shall be 3 dB below the reference sensitivity level or input level for
reference performance, whichever applicable, in 3GPP TS 45.005 and 3 dB less
carrier to interference ratio than the reference interference ratios in 3GPP
TS 45.005.
## 5.1 Frequency source
The BTS shall use a single frequency source of absolute accuracy better than
0.05 ppm for both RF frequency generation and clocking the timebase. The same
source shall be used for all carriers of the BTS.
For the pico BTS class the absolute accuracy requirement is relaxed to 0.1ppm.
NOTE: BTS frequency source stability is one factor relating to E-OTD LCS
performance and the reader is referred to Annex C for the relationship between
BTS frequency source stability and E-OTD LCS performance characteristics.
## 5.2 Timebase counters
It is optional whether the timebase counters of different BTS\'s are
synchronized together.
For COMPACT inter base station time synchronization is required such that
timeslot number (TN) = i (i = 0 to 7) and frame number (FN) with FN mod 208 =0
shall occur at the same time in all cells. The timebase counters of different
BTSs shall be synchronized together such that the timing difference between
different BTSs shall be less than 1 symbol period, 48/13 μs (which can be 1 or
3 bits depending upon modulation) measured at the BTS antenna.
If a cell defines a COMPACT cell in its neighbour list, time synchronization
is required such that timeslot number (TN) = i (i = 0 to 7) and frame number
(FN) with FN mod 208 =0 shall occur at the same time in both cells.
## 5.3 Internal BTS carrier timing
The channels of different carriers transmitted by a BTS shall be synchronized
together, i.e. controlled by the same set of counters. The timing difference
between the different carriers shall be less than ¼ normal symbol periods,
measured at the BTS antenna.
For pico-BTS, the timing difference between different carriers shall be less
than 2 symbol periods, measured at the BTS antenna.
## 5.4 Initial Timing advance estimation
When the BTS detects an access burst transmission on RACH or PRACH, it shall
measure the delay of this signal relative to the expected signal from an MS at
zero distance under static channel conditions. This delay, called the timing
advance, shall be rounded to the nearest normal symbol period and included in
a response from the BTS when applicable.
For the pico-BTS there is no requirement to measure this timing advance.
However, either this measured value or a programmable value of timing advance
shall be included in the response from the BTS when a timing advance value
needs to be sent.
## 5.5 Maximum timing advance value
The maximum timing advance value TA~max~ shall be 63. If the BTS measures a
value larger than this, it shall set the timing advance to 63\. In the case of
GSM 400 the extended timing advance information element is supported and the
maximum timing advance value TA~max~ shall be 219. If the BTS measures a value
larger than this, it shall set the timing advance to 219. (3GPP TR 43.030
defines how the PLMN deals with MS\'s where the delay exceeds timing advance
value 63).
NOTE: The timing advance is always calculated in terms of number of symbols
with normal symbol period irrespective of the actual symbol period used on the
uplink.
## 5.6 Delay tracking
### 5.6.1 For circuit switched channels
For an MS in dedicated mode, the BTS shall thereafter continuously monitor the
delay of the normal bursts sent by from the MS. If the delay changes by more
than one symbol period, the timing advance shall be advanced or retarded 1 and
the new value signalled to the MS.
Restricting the change in timing advance to 1 symbol period at a time gives
the simplest implementation of the BTS. However the BTS may use a larger
change than this but great care must then be used in the BTS design.
### 5.6.2 For packet switched channels
The BTS shall perform the continuous timing advance procedure for all MS
working in packet transfer mode or in broadcast/multicast receive mode for
which an PTCCH subchannel is assigned, except for an MS in dual transfer mode.
Therefore the BTS shall monitor the delay of the access bursts sent by the MS
on PTCCH and respond with timing advance values for all MS performing the
procedure on that PDCH. These timing advance values shall be sent via a
downlink signalling message on PTCCH.
The BTS shall update the timing advance values in the next downlink signalling
message following the access burst.
The BTS may also monitor the delay of the normal bursts and access bursts sent
by the MS on PDTCH and PACCH. Whenever an updating of TA is needed, the BTS
may send the new TA value in a power control/timing advance message (see 3GPP
TS 44.060).
For an MS in dual transfer mode the BTS shall follow the procedure described
in subclause 5.6.1.
### 5.6.3 Delay assessment error
For circuit and packed switched channels the delay shall be assessed in such a
way that the assessment error (due to noise and interference) is less than ½
normal symbol periods for stationary MS. For MS moving at a speed up to 500
km/h the additional error shall be less then ¼ normal symbol period.
The control loop for the timing advance shall be implemented in such a way
that it will cope with MSs moving at a speed up to 500 km/h.
### 5.6.4 Pico-BTS delay tracking
The pico-BTS has no requirement to track timing advance for any class of
channels. However, it shall include either the measured timing advance as
specified above or a programmable timing advance value in the response from
the BTS when a timing advance value needs to be sent.
## 5.7 Timeslot length
Optionally, the BTS may use a timeslot length of 157 normal symbol periods on
timeslots with TN = 0 and 4, and 156 normal symbol periods on timeslots with
TN = 1, 2, 3, 5, 6, 7, rather than 156,25 normal symbol periods on all
timeslots. When reduced symbol period is implemented, this option is further
elaborated in section 5.7.2.
Figure 5.7.1: void
### 5.7.1 Regular implementation with timeslot lengths of non-integral symbol
periods
If the timeslot length for normal symbol period burst is 156.25 normal symbol
periods for all bursts, then, a timeslot of length 187.5 reduced symbol
periods shall be used for all bursts using reduced symbol period. This case is
shown in Figure 5.7.2 and Table 5.7.1. In this case if there is a pair of
different symbol period bursts on adjacent timeslots, then the guard period
between the two bursts shall be 8.5 normal symbol periods which equals 10.2
reduced symbol periods.
Figure 5.7.2: Implementation using non integral number of symbol periods in
both Normal Symbol Period burst and Reduced Symbol Period bursts.
Irrespective of the symbol duration used, the centre of the training sequence
shall occur at the same point in time. This is illustrated in Figure 5.7.3
below. This means that the active part of a reduced symbol period burst shall
start 12/13 μs (which is a quarter of a normal symbol period) later in time
and ends 12/13 μs earlier.
Figure 5.7.3: Timing alignment between normal symbol period and reduced symbol
period bursts
The duration of various components of the timeslot are illustrated in Table
5.7.1.
Table 5.7.1: Duration of various components of the time slot
* * *
                                  **reduced symbol period Bursts**   **normal symbol period Bursts**                 
                                  **Symbols**                        **Duration (μs)**                 **Symbols**   **Duration (μs)**
**Tail (left)** 4 3  
**Encrypted symbols (left)** 69 58  
**Training sequence** 31 26  
**Encrypted symbols (right)** 69 58  
**Tail (right)** 4 3  
**Guard period** 10.5 8.25  
**Total** 187.5 156.25
* * *
### 5.7.2 Implementation option for reduced symbol period bursts when integral
symbol period option is used for normal symbol period bursts
In this implementation option, the length of timeslots for the burst with
reduced symbol period shall be 188.4 reduced symbol periods for TN = 0, 4 and
187.2 reduced symbol periods for TN = 1, 2, 3, 5, 6, 7. This implementation is
shown in Figure 5.7.4.
Figure 5.7.4: Implementation allowing integral number of symbol periods for
normal symbol period bursts
The different burst lengths shall be obtained by changing the guard period
lengths to values other than what is described in Table 5.7.1. The guard
period lengths on adjacent timeslots shall be as described in Table 5.7.2.
Table 5.7.2: Guard period lengths between different timeslots
+-------------+-------------+-------------+-------------+-------------+ | **Burst |** Guard | **Guard | | | | T | Period | Period | | | | ransition** | Between | Between | | | | | Timeslots | Timeslots | | | | | (In terms | (In terms | | | | | of normal | of reduced | | | | | symbol | symbol | | | | | periods)**| periods)** | | | +-------------+-------------+-------------+-------------+-------------+ | | **TS0 and |** Any other | **TS0 and |** Any other | | | TS1 or\ | timeslot | TS1 or\ | timeslot | | | TS4 and | pair**| TS4 and | pair** | | | TS5**| | TS5** | | +-------------+-------------+-------------+-------------+-------------+ | **normal | 9 | 8 | 10.8 | 9.6 | | symbol | | | | | | period to\ | | | | | | normal | | | | | | symbol | | | | | | period** | | | | | +-------------+-------------+-------------+-------------+-------------+ | **normal | 9.25 | 8.25 | 11.1 | 9.9 | | symbol | | | | | | period to\ | | | | | | reduced | | | | | | symbol | | | | | | period** | | | | | +-------------+-------------+-------------+-------------+-------------+ | **reduced | 9.25 | 8.25 | 11.1 | 9.9 | | symbol | | | | | | period to** | | | | | | | | | | | | **normal | | | | | | symbol | | | | | | period** | | | | | +-------------+-------------+-------------+-------------+-------------+ | **reduced | 9.5 | 8.5 | 11.4 | 10.2 | | symbol | | | | | | period to** | | | | | | | | | | | | **reduced | | | | | | symbol | | | | | | period** | | | | | +-------------+-------------+-------------+-------------+-------------+
## 5.8 Range of Timing advance
The timing advance shall be in the range 0 to TA~max~ (see subclause 5.5). The
value 0 corresponds to no timing advance, i.e. the MS transmissions to the BTS
are 468,75 symbol periods behind (see subclause 6.4). The value TA~max~
corresponds to maximum timing advance, i.e. the MS transmissions are 468,75 -
TA~max~ symbol periods behind.
# 6 MS Requirements for Synchronization
The MS shall only start to transmit to the BTS if the requirements of
subclauses 6.1 to 6.4 are met.
The conditions under which the requirements of subclauses 6.1 to 6.4 must be
met shall be 3 dB below the reference sensitivity level or input level for
reference performance, whichever applicable, in 3GPP TS 45.005 and 3 dB less
carrier to interference ratio than the reference interference ratios or the
interference ratios for reference performance, whichever applicable, in 3GPP
TS 45.005.
In discontinuous reception (DRX), the MS should meet the requirements of
subclauses 6.1 to 6.3 during the times when the receiver is required to be
active.
For CTS, the CTS-MS shall fulfil all the requirements of subclauses 6.1 to
6.4, 6.7, 6.8, 6.10 and 6.11 where «BTS» designates the CTS-FP. The CTS-MS
shall always use a TA value of zero. The CTS-MS shall only start to transmit
to the CTS-FP if the requirements of subclauses 6.1 to 6.4 are met. The
conditions under which the requirements of subclauses 6.1 to 6.4 must be met
shall be 3 dB below the reference sensitivity level or input level for
reference performance, whichever applicable, in 3GPP TS 45.005 and 3 dB less
carrier to interference ratio than the reference interference ratios in 3GPP
TS 45.005. In discontinuous reception (DRX), the CTS-MS should meet the
requirements of subclauses 6.1 to 6.3 during the times when the receiver is
required to be active.
## 6.1 MS carrier frequency
The MS carrier frequency shall be accurate to within 0.1 ppm, or accurate to
within 0.1 ppm compared to signals received from the BTS, except for GSM 400
where 0.2 ppm shall apply in both case (these signals will have an apparent
frequency error due to BTS frequency error and Doppler shift). In the latter
case, the signals from the BTS must be averaged over sufficient time that
errors due to noise or interference are allowed for within the above 0.1 ppm
and 0.2 ppm figure. The MS shall use the same frequency source for both RF
frequency generation and clocking the timebase.
## 6.2 Internal timebase
The MS shall keep its internal timebase in line with that of signals received
from the BTS. If the MS determines that the timing difference exceeds 2 µ
seconds, it shall adjust its timebase in steps of ¼ normal symbol period. This
adjustment shall be performed at intervals of not less than 1 second and not
greater than 2 seconds until the timing difference is less than ½ normal
symbol periods.
## 6.3 Assessment of BTS timing
In determining the timing of signals from the BTS, the timings shall be
assessed in such a way that the timing assessment error is less than ½ normal
symbol periods. The assessment algorithm must be such that the requirements of
6.2 can be met.
## 6.4 Timing of transmission
The MS shall time its transmissions to the BTS according to signals received
from the BTS. The MS transmissions to the BTS, measured at the MS antenna,
shall be 468,75‑TA normal symbol periods (i.e. 3 timeslots‑TA) behind the
transmissions received from the BTS, where TA is the last timing advance
received from the current serving BTS. The tolerance on these timings shall be
± 1 normal symbol period. For CTS, the tolerance on these timings shall be ± ½
normal symbol period.
In case of a multislot configuration, the MS shall use a common timebase for
transmission of all channels. In this case, if the MS does not support
transmission of reduced symbol period bursts, it may optionally use a timeslot
length of 157 normal symbol periods on timeslots TN = 0 and 4, and 156 normal
symbol periods on timeslots with TN = 1, 2, 3, 5, 6 and 7, rather than 156,25
normal symbol periods on all timeslots. If the MS supports reduced symbol
period transmissions, it shall use a timeslot length of 187.5 reduced symbol
periods or a timeslot of length 156.25 normal symbol periods. When there is a
pair of different symbol period bursts on adjacent timeslots, then the guard
period between the two bursts shall be 8.5 normal symbol periods which equals
10.2 reduced symbol periods. The active part of a reduced symbol period burst
shall start a quarter of a normal symbol period later compared to a normal
symbol period burst as shown in Figure 5.7.3.
In case of a circuit switched multislot configuration, the common timebase
shall be derived from the main channel and the TA values received on other
channels shall be neglected. In case of a packet switched multislot
configuration the common timebase shall be derived from all timeslots
monitored by the MS. In this case, the MS may assume that the BTS uses a
timeslot length of 156,25 normal symbol periods on all timeslots using normal
symbol period and a timeslot length of 187,5 reduced symbol periods on all
timeslots using reduced symbol period. In the case of a combination of circuit
and packet switched channel configuration the MS may derive the common
timebase from the circuit switched channel only.
## 6.5 Application of Timing Advance
### 6.5.1 For circuit switched channels
When the MS receives a new value of TA from the BTS on the SACCH, it shall
implement the new value of TA at the first TDMA frame belonging to the next
reporting period (as defined in 3GPP TS 45.008), after the SACCH frame
containing the new TA value. On channels used for a voice group call, the TA
value sent by the BTS applies only to an MS currently allocated the uplink.
The MS shall signal the used TA to the BTS on the SACCH.
### 6.5.2 For packet switched channels
The following requirements apply for all MS in packet transfer mode or in
broadcast/multicast receive mode :
The MS shall transmit access bursts with TA value=0.
Within the packet resource assignments (see 3GPP TS 44.018 and 3GPP TS 44.060)
for uplink or downlink messages the MS gets the Timing Advance Index (TAI).
The MS shall send access bursts on the subchannel defined by the TAI on the
PTCCH. These access bursts received on PTCCH are used by the BTS to derive the
timing advance.
When the MS receives the updated value of TA from the BTS on the downlink
PTCCH, it shall always use the last received TA value for the uplink
transmission of normal bursts.
If an MS is allocated different TAI values for simultaneous uplink and
downlink packet transfer, the MS may chose to use any one or both PTCCH
subchannels. If two subchannels are used, the MS shall always use the received
TA value corresponding to the last transmitted PTCCH uplink burst. If the MS
has been assigned TAIs for both UL and DL and if either the last UL or the
last DL TBF is released, the MS shall use the TAI assigned for the remaining
direction of data transfer.
If the MS receives a packet resource assignment or power control/timing
advance message (see 3GPP TS 44.018 and 3GPP TS 44.060) without a TAI for the
corresponding UL or DL TBFs, the MS shall not use the old assigned TAI for the
continuous timing advance procedure for that direction of data transfer. If no
more TAIs are valid the MS shall not perform the continuous timing advance
procedure at all.
Upon initiation of the continuous timing advance procedure the MS shall
disregard the TA values on PTCCH until it has sent its first access burst on
PTCCH.
The network may request the MS to send 4 access bursts to calculate a new TA
value. For this purpose the network sets the system information element
CONTROL_ACK_TYPE to indicate that the MS is to respond with a
PACKET_CONTROL_ACKNOWLEDGEMENT consisting of 4 access bursts (see 3GPP TS
44.060), and sends a PACKET_POLLING_REQUEST to the MS. In this case, the MS
shall transmit 4 consecutive access bursts on the assigned resources.
If the MS receives a packet resource assignment or power control/timing
advance message (see 3GPP TS 44.018 and 3GPP TS 44.060), the MS shall use the
included TA value for normal burst transmissions until it receives a new value
on PTCCH. If the message does not contain a TA value, the MS shall not change
its TA value.
When entering packet transfer mode or broadcast/multicast receive mode, the MS
is not allowed to transmit normal bursts until it has received a valid TA
value by any of the methods described above.
An MS in dual transfer mode shall follow the procedures described in subclause
6.5.1. If the CS connection is released and the MS leaves dual transfer mode
to enter packet transfer mode, the MS shall follow the procedures described in
the present subclause. The MS shall perform the continuous timing advance
procedure if a TAI is contained in the packet CS release indication message
(see 3GPP TS 44.060). The mobile station shall use the last value of the
timing advance received whilst in dual transfer mode until a new value of the
timing advance is determined from the continuous timing advance procedure or
is received from the network.
## 6.6 Access to a new BTS
When the MS accesses a new BTS or the serving BTS is changed, or the MS
initiates a packet transfer, the MS shall change the TA as follows:
**Random access and Packet random access:**
\- the MS shall use a TA value of 0 for the Random Access burst sent. When a
TA is received from the BTS that TA shall be used.
**Synchronized or Pseudo Synchronized circuit-switched handover:**
  * after the HANDOVER ACCESS bursts which shall be sent with a TA value > of 0 the MS shall use a TA calculated as specified in annex A. > When a TA is received from the new BTS that TA shall be used. The > transmission of the HANDOVER ACCESS bursts is optional if so > indicated by the BTS.
> **Synchronized packet-switched handover:**
  * after the PS HANDOVER ACCESS bursts which shall be sent with a TA > value of 0 the MS shall use a TA calculated as specified in > annex A. When a TA is received from the new BTS that TA shall be > used. The transmission of the PS HANDOVER ACCESS bursts is > optional if so indicated by the BTS.
In those cells that support extended TA values if TA value in new cell is
greater than 63 and the HANDOVER COMMAND message indicates that the
transmission of four HANDOVER ACCESS messages is optional the MS shall not
transmit these four messages.
**Non‑synchronized circuit-switched handover:**
  * the MS shall use a TA value of 0 for the HANDOVER ACCESS bursts > sent. When a TA is received in a PHYSICAL INFORMATION message that > TA shall be used. Before a TA is received from the new BTS no > valid \"used TA\" shall be signalled to the new BTS.
**Non‑synchronized packet-switched handover:**
\- the MS shall use a TA value of 0 for the PS HANDOVER ACCESS bursts sent.
When a TA is received in a PACKET PHYSICAL INFORMATION message that TA shall
be used. Before a TA is received from the new BTS no valid \"used TA\" shall
be signalled to the new BTS.
**Pre‑synchronized circuit-switched handover:**
  * after the HANDOVER ACCESS bursts which shall be sent with a TA value > of 0 the MS shall use a TA as specified in the HANDOVER COMMAND > message by the old BTS, or a default value of 1, if the old BTS > did not provide a TA value. The transmission of the HANDOVER > ACCESS bursts is optional if so indicated by the BTS.
**Pre‑synchronized packet-switched handover:**
\- after the PS HANDOVER ACCESS bursts which shall be sent with a TA value of
0 the MS shall use a TA as specified in the PS HANDOVER COMMAND message by the
old BTS, or a default value of 1, if the old BTS did not provide a TA value.
The transmission of the PS HANDOVER ACCESS bursts is optional if so indicated
by the BTS.
In those cells that support extended TA values if TA value in new cell is
greater than 63 and the HANDOVER COMMAND message (respectively PS HANDOVER
COMMAND message) indicates that the transmission of four HANDOVER ACCESS
messages (respectively PS HANDOVER ACCESS messages) is optional the MS shall
not transmit these four messages.
## 6.7 Temporary loss of signal
During a temporary total loss of signal, of up to 64 SACCH block periods, the
MS shall update its timebase with a clock which is accurate to within 0,2 ppm,
or to within 0,2 ppm of the signals previously received from the BTS.
## 6.8 Timing of channel change
When the MS receives an intracell channel change command or a circuit-switched
handover command (see 3GPP TS 44.018) or a packet-switched handover command
(see 3GPP TS 44.060), it shall be ready to transmit on the new channel within
T_GSM_Delay of the last timeslot of the message block containing the command,
unless the access is delayed to an indicated starting time, in which case it
shall be ready to transmit on the new channel at the designated starting time,
or within T_GSM_Delay, whichever is the later. The time between the end of the
last complete speech or data frame or message block sent on the old channel
and the time the MS is ready to transmit on the new channel shall be less than
T_GSM_Interrupt.
T_GSM_Delay and T_GSM_Interrupt are defined in table 6.8.1.
Table 6.8.1: Channel change delay and interruption times.
+----------------------+----------------------+----------------------+ | Target cell | T_GSM_Delay (ms) | T_GSM_Interrupt | | | (Note 1) | (ms) | +----------------------+----------------------+----------------------+ | Synchronized GSM | 120 ms | 20 ms | | cell | | | +----------------------+----------------------+----------------------+ | Not Synchronized GSM | 220 ms | 120 ms | | cell | | | | | | | | Under good radio | | | | conditions | | | +----------------------+----------------------+----------------------+ | NOTE 1: In case of | | | | packet-switched | | | | handover, if the MS | | | | is required to | | | | transmit a PACKET | | | | CONTROL | | | | ACKNOWLEDGMENT | | | | message (see 3GPP TS | | | | 44.060), | | | | T_GSM_delay is | | | | increased by 40 ms. | | | +----------------------+----------------------+----------------------+
## 6.9 Application of new Timing Advance value
When the MS receives a new TA value in response to a handover access burst,
the MS shall be ready to transmit using the new TA value within 40 ms of the
end of the last timeslot of the message block containing the new TA value.
When the MS receives a new or updated TA value on the downlink PTCCH or
downlink PACCH, the MS shall be ready to transmit using the new TA value
within 40 ms of the end of the last timeslot of the message block containing
the new TA value.
## 6.10 Definition of \"ready to transmit within x ms\"
The phrase \"ready to transmit within x ms\" means that the MS shall transmit
no later than the first allowed transmission opportunity that occurs after the
x ms, e.g. :
‑ the first burst of the first TCH or control channel block that occurs after
the x ms, in case of an intracell channel change;
‑ the first burst of the TCH or control channel that occurs after the x ms, in
case of a handover;
\- the first burst of the PDTCH or control channel that occurs after the x ms;
  * the first allowed uplink frame (see 3GPP TS 25.212 and 3GPP TS > 25.214 for FDD and 3GPP TS 25.222 for TDD), that occurs after the > x ms, in case of an inter-RAT handover to a UTRAN cell.
\- the first uplink PRACH frame or (for TDD only) UpPTS field (see 3GPP TS
36.211) that occurs after the x ms, in case of an inter-RAT handover to a
E-UTRAN cell.
NOTE: The MS shall keep the timings of the neighbour GSM cells that it is
monitoring (according to 3GPP TS 45.008) to an accuracy of ± 1 normal symbol
periods.
## 6.11 Definition of additional reaction times for GPRS mobile stations
### 6.11.1 Uplink and downlink assignment reaction times
An MS shall be ready to transmit and receive using a new assignment 9 frame
periods after the last radio block containing the assignment message. A mobile
station that receives an assignment message for a new or ongoing TBF with FANR
activated (see 3GPP TS 44.060) shall be ready to transmit and receive using
the new assignment in the TDMA frame indicated in Table 6.11.1.1 where N = the
last TDMA frame of the downlink block containing the assignment message.
Table 6.11.1.1: Assignment Reaction Time for a TBF with FANR activated
* * *
Assignment message block format Full-rate PDCH uplink block with TDMA frame
number BTTI (N+5 or N+6) mod 2715648 RTTI (N+5 or N+6) mod 2715648
* * *
If the MS is required to transmit a PACKET CONTROL ACKNOWLEDGEMENT subsequent
to an assignment message (see 3GPP TS 44.060), the MS shall be ready to
transmit and receive on the new assignment (i.e. after transmitting the
PACKET_CONTROL_ACKNOWLEDGMENT using the old assignment) as follows:
\- For a TBF operating in BTTI configuration, no later than the next
occurrence of block B((x+2) mod 12) where block B(x) is the radio block
containing the PACKET CONTROL ACKNOWLEDGEMENT.
\- For a TBF operating in RTTI configuration, no later than the next
occurrence of block B((x+1) mod 12)~b~ where block Bx~a~ is the radio block
containing the PACKET CONTROL ACKNOWLEDGEMENT or no later than the next
occurrence of block B((x+2) mod 12)~a~ where block Bx~b~ is the radio block
containing the PACKET CONTROL ACKNOWLEDGEMENT (see 3GPP TS 45.002 [10] for an
explanation of RTTI radio block indexing applicable to the RTTI
configuration).
\- If the assignment message changes the TBF from BTTI to RTTI configuration,
no later than the next occurrence of block B((x+2) mod 12)~a~, where block Bx
is the radio block containing the PACKET CONTROL ACKNOWLEDGEMENT.
\- If the assignment message changes the TBF from RTTI to BTTI configuration,
no later than the next occurrence of block B((x+2) mod 12), where block Bx~a~
or Bx~b~ is the radio block containing the PACKET CONTROL ACKNOWLEDGEMENT (see
NOTE).
NOTE: This is to ensure the reaction time falls on a BTTI radio block
boundary.
The reaction time applies also for the reception of the first USF for dynamic
uplink assignment and extended dynamic uplink assignment, including when
Shifted USF operation is used.
### 6.11.2 Change in channel coding scheme commanded by network
Upon receipt of a command from the network to change the channel coding
scheme, the MS shall begin to transmit blocks using the new channel coding
scheme as follows:
  * For a TBF operating in BTTI configuration, no later than the next occurrence of block B((x+3) mod 12) where block B(x) is the radio block containing the command.
  * For a TBF operating in RTTI configuration, no later than the next occurrence of block B((x+2) mod 12)~b~ where block Bx~a~ is the radio block containing the command or no later than the next occurrence of block B((x+3) mod 12)~a~ where block Bx~b~ is the radio block containing the command (see 3GPP TS 45.002 [10] for an explanation of RTTI radio block indexing applicable to the RTTI configuration).
### 6.11.3 Contention resolution reaction time
Upon contention resolution during one phase access, the mobile station shall
start transmitting RLC data blocks without the TLLI field as follows:
  * For a TBF operating in BTTI configuration, no later than the next occurrence of block B((x+3) mod 12) where block B(x) is the radio block containing the contention resolution message (see 3GPP TS 44.060).
  * For a TBF operating in RTTI configuration, no later than the next occurrence of block B((x+2) mod 12)~b~ where block Bx~a~ is the radio block containing the contention resolution message or no later than the next occurrence of block B((x+3) mod 12)~a~ where block Bx~b~ is the radio block containing the contention resolution message (see 3GPP TS 45.002 [10] for an explanation of RTTI radio block indexing applicable to the RTTI configuration).
### 6.11.4 Reaction time in response to other commanding messages
Upon a receipt of a commanding message or indication from the network
requiring an action by the mobile station, if the reaction time for such
action is not specified elsewhere, the mobile station shall begin to perform
the required action as follows:
  * For a TBF operating in BTTI configuration, no later than the next occurrence of block B((x+6) mod 12), where block B(x) is the radio block containing the commanding message or indication from the network.
  * For a TBF operating in RTTI configuration, no later than the next occurrence of block B((x+5) mod 12)~b~ where block Bx~a~ is the radio block containing the commanding message/indication from the network or no later than the next occurrence of block B((x+6) mod 12)~a~ where block Bx~b~ is the radio block containing the commanding message/indication from the network (see 3GPP TS 45.002 [10] for an explanation of RTTI radio block indexing applicable to the RTTI configuration).
### 6.11.5 PAN related reaction times
A mobile station that receives a PAN corresponding to an uplink TBF with FANR
activated (see 3GPP TS 44.060) shall be ready to re-send the first missing
uplink RLC data block in the TDMA frame indicated in Table 6.11.5.1 where N =
the last TDMA frame of the downlink block containing the PAN.
Table 6.11.5.1: Reaction Time for receiving a downlink PAN
* * *
PAN block format Full-rate PDCH uplink block with TDMA frame number BTTI (N+5
or N+6) mod 2715648 RTTI (N+5 or N+6) mod 2715648
* * *
A mobile station that detects a missing/erroneous RLC data block for a
downlink TBF with FANR activated (see 3GPP TS 44.060) shall be ready to send
an uplink RLC/MAC block for data transfer with a PAN or an EGPRS PACKET
DOWNLINK ACK/NACK or EGPRS PACKET DOWNLINK ACK/NACK TYPE 2 message (in the
case that there is no uplink RLC data ready for transmission) reflecting the
missing/erroneous block in the TDMA frame indicated in Table 6.11.5.2 where N
= the last TDMA frame of the downlink block in which the MS detected the
problem.
Table 6.11.5.2: Reaction Time for detecting a downlink problem
* * *
Downlink TBF block format Full-rate PDCH uplink block with TDMA frame number
BTTI (N+5 or N+6) mod 2715648 RTTI (N+3 or N+4) mod 2715648
* * *
### 6.11.6 DTR related reaction times
A mobile station which is in DTR mode (see 3GPP TS 44.060) and receives a
radio block which causes the MS to leave DTR mode shall be ready to receive
data on all timeslots, in accordance with its uplink and/or downlink TBF
assignment(s) in the TDMA frame indicated in Table 6.11.6.1 or Table 6.11.6.2
where N = the last TDMA frame of the downlink block triggering the leaving of
DTR mode.
Table 6.11.6.1: Assignment Reaction Time for leaving DTR -- MS supports FANR
* * *
Radio block format Full-rate PDCH uplink block with TDMA frame number BTTI
(N+5 or N+6) mod 2715648 RTTI (N+5 or N+6) mod 2715648
* * *
Table 6.11.6.2: Assignment Reaction Time for leaving DTR -- MS does not
support FANR
* * *
Radio block format Full-rate PDCH uplink block with TDMA frame number BTTI
(N+9) mod 2715648
* * *
A mobile station shall enter DTR mode within the reaction time as specificied
in Table 6.11.6.3 or Table 6.11.6.4 where N = the last TDMA frame of the radio
block period in which all conditions for entering DTR were met.
Table 6.11.6.3: Assignment Reaction Time for entering DTR -- MS supports FANR
* * *
Radio block format Full-rate PDCH uplink block with TDMA frame number BTTI
(N+5 or N+6) mod 2715648 RTTI (N+5 or N+6) mod 2715648
* * *
Table 6.11.6.4: Assignment Reaction Time for entering DTR -- MS does not
support FANR
* * *
Radio block format Full-rate PDCH uplink block with TDMA frame number BTTI
(N+9) mod 2715648
* * *
## 6.12 Observed Frequency Offset (OFO) reported by the CTS-MS
When required the CTS-MS shall compute the Observed Frequency Offset between
the CTS-FP and a specified BTS (see 3GPP TS 45.008). The CTS-FP and BTS
received signals frequencies shall be estimated with an accuracy of 0,1 ppm,
averaging the signals over sufficient time. The conditions under which this
requirements must be met shall be 3 dB below the reference sensitivity level
or input level for reference performance, whichever applicable, in 3GPP TS
45.005 and 3 dB less carrier to interference ratio than the reference
interference ratios in 3GPP TS 45.005.
## 6.13 Timing of inter-RAT channel change from GSM to UTRAN
When the MS receives an INTER SYSTEM TO UTRAN HANDOVER COMMAND (see 3GPP TS
44.018) or a PS HANDOVER COMMAND for packet-switched handover to UTRAN (see
3GPP TS 44.060), it shall be ready to transmit on the new channel within
Tdelay of the last timeslot of the message block containing the command,
unless the access is delayed to an indicated starting time, in which case it
shall be ready to transmit on the new channel at the designated starting time,
or within Tdelay, whichever is the later. The time between the end of the last
complete speech or data frame or message block sent on the old channel and the
time the MS is ready to transmit on the new cell shall not exceed Tinterrupt.
Tdelay and Tinterrupt are defined in table 6.13.1 for the case of inter-RAT
handover to a single UTRAN cell assuming good radio conditions.
Table 6.13.1: Inter-RAT handover delay and interruption times.
+------------------------+----------------------+-----------------+ | Target cell | Tdelay (ms) (Note 1) | Tinterrupt (ms) | +------------------------+----------------------+-----------------+ | Known FDD cell\ | 220 | 120 | | (see 3GPP TS 25.133) | | | +------------------------+----------------------+-----------------+ | Not known FDD cell\ | 320 | 220 | | (see 3GPP TS 25.133) | | | +------------------------+----------------------+-----------------+ | Known TDD cell\ | 190 | 90 | | (see 3GPP TS 25.123) | | | +------------------------+----------------------+-----------------+ | Not known TDD cell\ | 350 | 250 | | (see 3GPP TS 25.123) | | | +------------------------+----------------------+-----------------+ | > NOTE 1: In case of | | | | > packet-switched | | | | > handover, if the MS | | | | > is required to | | | | > transmit a PACKET | | | | > CONTROL | | | | > ACKNOWLEDGMENT | | | | > message (see 3GPP TS | | | | > 44.060), Tdelay is | | | | > increased by 40 ms. | | | +------------------------+----------------------+-----------------+
## 6.13a Timing of inter-RAT channel change from GSM to E-UTRAN
When the MS receives a PS HANDOVER COMMAND for packet-switched handover to
E-UTRAN (see 3GPP TS 44.060), it shall be ready to transmit on the new channel
within Tdelay of the last timeslot of the message block containing the
command, unless the access is delayed to an indicated starting time, in which
case it shall be ready to transmit on the new channel at the designated
starting time, or within Tdelay, whichever is the later. The time between the
end of the last complete data frame or message block sent on the old channel
and the time the MS is ready to transmit on the new cell shall not exceed
Tinterrupt. Tdelay and Tinterrupt are defined in Table 6.13a.1 for the case of
inter-RAT handover to a single E-UTRAN cell assuming good radio conditions.
Table 6.13a.1: Inter-RAT handover delay and interruption times.
+------------------------------------+-------------+-----------------+ | Target cell | Tdelay (ms) | Tinterrupt (ms) | | | | | | | (Note 1) | | +------------------------------------+-------------+-----------------+ | Known FDD cell\ | 150 | 50 | | (see 3GPP TS 36.133) | | | +------------------------------------+-------------+-----------------+ | Not known FDD cell\ | 250 | 150 | | (see 3GPP TS 36.133) | | | +------------------------------------+-------------+-----------------+ | Known TDD cell\ | 150 | 50 | | (see 3GPP TS 36.133) | | | +------------------------------------+-------------+-----------------+ | Not known TDD cell\ | 250 | 150 | | (see 3GPP TS 36.133) | | | +------------------------------------+-------------+-----------------+ | > NOTE 1: If the MS is required to | | | | > transmit a PACKET CONTROL | | | | > ACKNOWLEDGMENT message (see 3GPP | | | | > TS 44.060), Tdelay is increased | | | | > by 40 ms. | | | +------------------------------------+-------------+-----------------+
## 6.14 Timing of combined intracell channel change and packet assignment
When the MS receives a combined intracell channel change command and packet
assignment in either dedicated mode or dual transfer mode (see 3GPP TS
44.018), the requirements specified in sub-clause 6.8 shall apply to the new
dedicated channel.
In addition, the MS shall be ready to transmit and receive using the packet
assignment within T_GSM_delay of the last timeslot of the message block
containing the command, unless the access is delayed to an indicated starting
time, in which case it shall be ready to transmit on the new channel at the
designated starting time, or within T_GSM_Delay, whichever is the later. This
applies also for the reception of the first USF for dynamic uplink assignment.
The requirements for using the packet assignment apply also when the MS
receives a stand-alone packet assignment (on the main DCCH), causing the
transition from dedicated mode into dual transfer mode (see 3GPP TS 44.018).
T_GSM_delay is defined in sub-clause 6.8, table 6.8.1.
# 7 CTS-FP Requirements for Synchronization
## 7.1 Frequency source default requirements
The CTS-FP shall use a single frequency source of absolute accuracy better
than 5 ppm for both RF frequency generation and clocking the timebase. The
same source shall be used for all carriers of the CTS-FP.
## 7.2 Frequency source for a CTS-FP assisted by a CTS-MS
When the CTS-FP is informed of its Observed Frequency Offset with a BTS, the
CTS-FP carrier frequency shall be accurate for one hour to within 2 ppm, or
accurate for one hour to within 2 ppm according to the received Observed
Frequency Offset.
However, if the Observed Frequency Offset is greater than 2 ppm, the CTS-FP
frequency source correction shall have a slope of 0,1 ppm for 936 TDMA frames,
i.e. 4,320 seconds.
## 7.3 Internal CTS-FP carrier timing
The channels of different carriers transmitted by a CTS-FP shall be
synchronized together, i.e. controlled by the same set of counters. The timing
difference between the different carriers shall be less than 2 symbol periods,
measured at the CTS-FP antenna.
## 7.4 Timeslot length
Optionally, the CTS-FP may use a timeslot length of 157 symbol periods on
timeslots with TN = 0 and 4, and 156 symbol periods on timeslots with TN = 1,
2, 3, 5, 6, 7, rather than 156,25 symbol periods on all timeslots.
## 7.5 Assessment of CTS-MS delay
In order to implement the procedure of control of the CTS-FP service range
(specified in 3GPP TS 45.008), the CTS-FP shall monitor the delay of the CTS-
MS signal relative to the expected signal from a CTS-MS at zero distance under
static channel conditions. The delay of the normal bursts sent by from the
CTS-MS shall be assessed in such a way that the assessment error (due to noise
and interference) is less than ¼ symbol period. The conditions under which
this requirement must be met shall be 3 dB below the reference sensitivity
level or input level for reference performance, whichever applicable, in 3GPP
TS 45.056 and 3 dB less carrier to interference ratio than the reference
interference ratios in 3GPP TS 45.056.
###### ## Annex A (normative): Additional requirements for
pseudo‑synchronization, synchronized handovers and pseudo‑synchronized
handovers
# A.1 General descriptions and definitions
## A.1.1 Conventions
The following conventions are adopted in this annex:
‑ the modulating symbol period is denoted T = 48/13 µs;
‑ all timing values are considered for descriptive purposes as real numbers
modulo the largest period defined in the system i.e. 3394560000T. When
transmitted over the air interface, such a value shall be rounded to the
nearest integer multiple of a ½ symbol period T/2 and that integer shall
either be reduced mod some integer multiple of 256 or the full value shall be
used as defined in 3GPP TS 44.018;
‑ the Timing Advance (TA) value, when the distance between the base station
and the MS is equal to or less than 35 km, or in the case of GSM 400 is equal
to or less than 120 km, represents the estimated two way propagation delay in
T units. For the purpose of the calculations in this annex the timing advance
values are considered to represent the estimated one way propagation delay in
T/2 units which is equivalent to twice the delay in T units.
## A.1.2 Definitions
Assuming that some MS has to perform handover from BTS 0 (the \"current\" or
\"old\" BTS) to BTS 1 (the \"new\" BTS), the following quantities are defined.
‑ t0 (resp. t1) denotes the one way line of sight propagation delay between
the MS and BTS 0 (resp. BTS 1).
‑ RTD (Real Time Difference) denotes the value of the local system time in BTS
0 minus that of BTS 1.
‑ OTD (Observed Time Difference) denotes the timing difference between BTS 0
and BTS 1 as measured by the MS with the same sign conventions as for RTD.
All these four values are slowly time‑varying due to the MS movement and
oscillators drift in the BTS\'s, but they are defined here just prior handover
execution.
## A.1.3 Details of operations
The following relation holds:
OTD = RTD + t1 ‑ t0
Synchronized and pseudo synchronized handovers work as follows:
\- for the pseudo synchronized circuit-switched handover, it is assumed that
RTD is known to BTS 0 and MS supports the scheme, BTS 0 may order
pseudo‑synchronized handover to BTS 1, including RTD in the \"HANDOVER
COMMAND\" message;
\- for the synchronized circuit-switched or packet-switched handovers, BTS 0
may order synchronized handover to BTS 1, and the MS sets RTD as defined in
subclause A.3.3;
\- under normal operating conditions, t0 should be closely related to the
latest received Timing Advance sent by BTS 0 to the MS; since the MS must have
got synch to BTS 1 before performing handover, OTD, RTD and t0 are available
to the MS, hence the value of t1 that can be used to set the new Timing
Advance parameter without receiving it from BTS 1;
\- after successful circuit-switched handover, either synchronized,
non‑synchronized or pseudo‑synchronized, the MS shall provide to BTS 1 the
value of OTD + t0 in the \"HANDOVER COMPLETE\" message, allowing BTS 1 to
obtain a non biased estimate of RTD given the transmitted OTD + t0 and it is
estimated value to t1. In practice, additional processing will be required to
mitigate the effects of estimation errors and quantization effects; this
matter is left unspecified.
# A.2 BTS requirements
## A.2.1 The pseudo‑synchronization scheme
If the pseudo‑synchronization scheme for circuit-switched handovers is
supported, the BTS shall comply with the following requirements, in addition
to those of the main part of the recommendations.
### A.2.1.1 BTS a time difference estimate
The BTS shall maintain for each of a set of neighbouring BTS a time difference
estimate encoded as in A 1.1. These time differences can be updated when a MS
supporting the pseudo‑synchronization scheme enters the cell via a handover:
the MS provides the observed time difference corrected for the propagation
time with the previous BTS but not corrected for the propagation to the
current BTS. When the adaptive frame alignment process in the new BTS has
assessed the propagation time, it is used to correct the observed time
difference given by the MS and the result is used (possibly after some
unspecified processing) to update the value of the time difference with the
previous BTS. Other means for maintaining the time difference estimates may be
used.
### A.2.1.2 The reception epoch criterion
The reception epoch criterion used for evaluating the MS time shift (see
subclause 5.6) shall be as close as possible to line of sight path reception
epoch, so that with MS supporting the pseudo‑synchronization scheme the timing
advance for stationary MS is as close as possible to the double propagation
delay.
### A.2.1.3 Pseudo‑synchronized handover
When a handover is requested, if the MS supports pseudo‑synchronization, it
may be chosen to order a pseudo‑synchronized handover. In that case, the time
difference between the two BTS, memorized as specified in A.2.1 and encoded as
specified in subclause A.1.1 must be sent to the MS.
## A.2.2 The synchronization scheme
If the synchronization scheme is supported, the BTS shall comply with the
following requirements, in addition to those of the main part of the
specifications.
The BTS shall maintain synchronization with a set of neighbouring BTS. In this
context, synchronization means that the timing of the TDMA frame at the BTSs
is the same, i.e. the timeslot zeros from the BTS transmitted are synchronous
with the timeslot zeros of the carriers on the set of neighbouring BTSs.
However, the frame numbers need not be the same. All timings are to be
referenced at the BTS.
# A.3 MS requirements
The MS shall comply to the following requirements.
## A.3.1 Provision of time difference information
The reception epoch criterion used for clocking the timebase shall be as close
as possible to line of sight path reception epoch so that the timing advance
when the MS is stationary is as close as possible to the double propagation
delay. However the quantization mentioned in subclause A.1.1 does not impose
any additional requirement on the resolution of the measurement.
## A.3.2 After each successful circuit-switched handover
After each successful circuit-switched handover the MS shall give to the new
BTS the sum of the observed time difference and the last timing advance value
received from the old BTS, if required by the BTS encoded as subclause A 1.1.
## A.3.3 Synchronized or a pseudo synchronized handover
When a synchronized circuit-switched or packet-switched handover, or a pseudo
synchronized circuit-switched handover occurs, the MS shall synchronize to the
new BTS and shall use as initial timing advance value the value calculated
modulo 256 from the observed time difference between the two BTS, the real
time difference and the last timing advance value received from the previous
BTS, according to subclause A.1.3. Calculated values between 230 and 255 shall
be regarded as negative timing advance. The Real Time Difference (RTD) is in
the case of pseudo synchronized handover given with the handover command and
in the case of synchronized handover set to 2500*INT(OTD/2500+0,5) by the MS.
If the initial timing advance value calculated is outside the range 0 to
TA~max~ the MS shall do as follows:
‑ if the initial timing advance value calculated is greater than TA~max~, the
cell shall be considered as out of range. The MS shall, if it attempts to
transmit on the new cell, use a timing advance value of TA~max~ as the initial
timing advance value. Whether the MS transmits on the new cell or not depends
on the NCI bit as specified in 3GPP TS 44.018;
‑ if the initial timing advance value calculated is less than 0, the MS shall
use a timing advance value of 0 as the initial timing advance value.
###### ## Annex B (informative): CTSBCH timeslot shifting properties for CTS-
MS synchronization
The determination of TN for CTS-MS synchronization is eased by specific
properties of the CTSBCH timeslot shifting procedure. Three successive CTSBCH
detection and decoding are always sufficient to set TN.
The CTSBCH shifting procedure may be either active or not. This is signalled
by a flag in the CTSBCH-SB (see 3GPP TS 45.002).
# B.1 Determination of TN by the CTS-MS when CTSBCH shifting is not active
When the CTSBCH shifting is not active, the CTSBCH TN is equal to the TNC
found in the CTSBCH-SB.
Therefore, the CTS-MS sets TN to TNC when decoding the CTSBCH-SB.
# B.2 Determination of TN by the CTS-MS when CTSBCH shifting is active
When the CTSBCH shifting procedure is active, the TN can be derived by the
CTS-MS according to following procedure:
1) the CTS-MS detects 3 successive CTSBCH-FB, decodes the three associated
CTSBCH-SB and stores the two timeslot shifts values between the three
successive CTSBCH-FB;
2) the CTS-MS checks that the three FPBI (see 3GPP TS 45.002) extracted from
the three CTSBCH-SB are identical and that the three CTSBCH shifting flags all
indicate CTSBCH shifting active;
3) the CTS-MS extracts the TNSCN from the FPBI according to the rule defined
in 3GPP TS 45.002;
4) the CTS-MS uses timeslot number series couple (TNS~TNSCN,0~, TNS~TNSCN,1~)
(see 3GPP TS 45.002) and the two stored CTSBCH shift values to determine the
three timeslot numbers of the three observed CTSBCH. Due to specific
properties of the shifting series, only one mapping is possible.
###### ## Annex C (informative): BTS frequency source stability and E-OTD LMU
reporting periods for LCS
# C.1 BTS frequency source stability and E-OTD LMU reporting periods
E-OTD location systems require measurements of OTDs made at both the LMUs and
MS. It is by comparing the two sets of OTDs that a location estimate can be
determined (see 3GPP TS 43.059 Annex C). In order to reduce signalling
requirements each LMU\'s measurements of OTDs are only reported at intervals
by the LMU to the SMLC. (For MS-assisted E-OTD the LMU\'s OTDs are retained by
an SMLC whereas for MS-based E-OTD the OTD\'s are further reported to the MS
periodically (see 3GPP TS 43.059)). The maximum allowable interval between LMU
reports depends on both the predictability of the BTS frequency source and the
level of accuracy required of the location estimate.
# C.2 Frequency source stability
The predictable component of the BTS frequency source behaviour includes any
long term difference between the BTS frequency source\'s actual and nominal
frequencies.
# C.3 Relationship to E-OTD reporting periods
The relationship between the E-OTD reporting period $\text{ΔT}$, the BTS
frequency source\'s rms time interval error $\text{TIE}_{\text{rms}}$ (RMS of
Time Interval Error, see ITU-T Recommendation G.810), and the maximum
admissible range error $r_{\text{max}}$ is given by (see 3GPP TS 45.050, annex
V.7):
in which $\nu$is the speed of the waves (usually taken as $c$, the speed of
light in vacuum) and $C_{p}$is a constant which sets the percentile
$\text{100}p$ associated with $r_{\text{max}}$. (When the _TIE_ has a Gaussian
distribution $C_{\text{67\%}} = 1\text{.}0$, $C_{\text{95\%}} = 2\text{.}0$,
and $C_{\text{99}\text{.}\text{7\%}} = 3\text{.}0$.) In practice, the BTS
frequency source stability $\text{TIE}_{\text{rms}}$and required E-OTD range
accuracy $r_{\text{max}}$ are likely to be given and table C.3.1 allows the
corresponding value of the E-OTD reporting period $\text{ΔT}$ to be read off.
Table C.3.1: Relationship between frequency source stability,\ E-OTD reporting
period and E-OTD range errors
+----------------+----------------+----------------+----------------+ | E-OTD | E-OTD MTIE ± @ | _r_ ~max~ ± @ | BTS frequency | | Reporting | 95% | 95% | source | | Period (∆ _Τ_) | | | stability - | | | | | | | | | | Normalised | | | | | _TIE_ ~rms~ | +----------------+----------------+----------------+----------------+ | 1 second | 50ns | 15 meters | 0.018 μs/sec | | | | | | | | 100ns | 30 meters | 0.036 μs/sec | | | | | | | | 200ns | 60 meters | 0.072μs/sec | +----------------+----------------+----------------+----------------+ | 3 seconds | 50ns | 15 meters | 0.006 μs/sec | | | | | | | | 100ns | 30 meters | 0.012μs/sec | | | | | | | | 200ns | 60 m eters | 0.024 μs/sec | +----------------+----------------+----------------+----------------+ | 10 seconds | 50ns | 15 meters | 0.0018 μs/sec | | | | | | | | 100ns | 30 meters | 0.0036 μs/sec | | | | | | | | 200ns | 60 meters | 0.0072 μs/sec | +----------------+----------------+----------------+----------------+ | 30 seconds | 50ns | 15 meters | 0.0006 μs/sec | | | | | | | | 100ns | 30 meters | 0.0012 μs/sec | | | | | | | | 200ns | 60 meters | 0.0024 μs/sec | +----------------+----------------+----------------+----------------+ | 100 seconds | 50ns | 15 meters | 0.00018 μs/sec | | | | | | | | 100ns | 30 meters | 0.00036 μs/sec | | | | | | | | 200ns | 60 meters | 0.00072 μs/sec | +----------------+----------------+----------------+----------------+ | 300 seconds | 50ns | 15 meters | 0.00006 μs/sec | | | | | | | | 100ns | 30 meters | 0.00012 μs/sec | | | | | | | | 200ns | 60 meters | 0.00024μs/sec | +----------------+----------------+----------------+----------------+ | 1000 seconds | 50ns | 15 meters | 0.000018 | | | | | μs/sec | | | 100ns | 30 meters | | | | | | 0.000036 | | | 200ns | 60 meters | μs/sec | | | | | | | | | | 0.000072 | | | | | μs/sec | +----------------+----------------+----------------+----------------+
For example given the requirement for _r_ ~max~ ± @ 95% shall be better than
60m and an observed frequency stability is 0,00072 μs/sec then the resulting
E-OTD Reporting Period (∆ _Τ_) from the LMU making the observations will be no
greater than 100 seconds.
#