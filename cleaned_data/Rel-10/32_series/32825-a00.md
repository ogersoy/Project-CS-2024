# Foreword
This Technical Report has been produced by the 3^rd^ Generation Partnership
Project (3GPP).
The contents of the present document are subject to continuing work within the
TSG and may change following formal TSG approval. Should the TSG modify the
contents of the present document, it will be re-released by the TSG with an
identifying change of release date and an increase in version number as
follows:
Version x.y.z
where:
x the first digit:
1 presented to TSG for information;
2 presented to TSG for approval;
3 or greater indicates TSG approved document under change control.
y the second digit is incremented for all changes of substance, i.e. technical
enhancements, corrections, updates, etc.
z the third digit is incremented when editorial only changes have been
incorporated in the document.
# 1 Scope
The present document is a study report for Rc reference point supported by
ABMF (Accounting Balance Management Function).
The study covers the drive and requirement analysis, existing architectures,
key issues analysis, recommandations, etc.
The study aims at producing recommendations for the following aspects:
\- 3GPP work item and specification;
\- Charging requirements and principles;
\- Charging architecture and Rc networking scenarios;
\- Charging data and protocols;
\- Technical recommandations
# 2 References
The following documents contain provisions which, through reference in this
text, constitute provisions of the present document.
  * References are either specific (identified by date of publication, > edition number, version number, etc.) or nonâ€‘specific.
  * For a specific reference, subsequent revisions do not apply.
  * For a non-specific reference, the latest version applies. In the > case of a reference to a 3GPP document (including a GSM document), > a non-specific reference implicitly refers to the latest version > of that document _in the same Release as the present document_.
[1] 3GPP TR 21.905: \"Vocabulary for 3GPP Specifications\".
[2] 3GPP TS 22.115 \"Service aspects; Charging and billing\".
[3] 3GPP TS 32.240: \"Telecommunication management; Charging management;
Charging Architecture and Principles\".
[4] 3GPP TS 32.296: \"Telecommunication management; Charging management;
Online Charging System (OCS) applications and interfaces\".
[5] 3GPP TS 32.297: \"Telecommunication management; Charging management;
Charging Data Records (CDR) file format and transfer\".
[6] 3GPP TS 32.299: \"Telecommunication management; Charging management;
Diameter charging application\".
[7] 3GPP TS 29.230 "Technical Specification Group Core Network and Terminals;
Diameter applications; 3GPP specific codes and identifiers".
[8] IETF RFC3588 "Diameter Base Protocol".
# 3 Definitions, symbols and abbreviations
## 3.1 Definitions
For the purposes of the present document, the terms and definitions given in
TR 21.905 [1], 3GPP TS 32.240 [3], 3GPP TS 32.296 [4] and the following apply.
A term defined in the present document takes precedence over the definition of
the same term, if any, in 3GPP TR 21.905 [1], 3GPP TS 32.240 [3] and 3GPP TS
32.296 [4].
**Account:** structure residing in the OCS for holding dynamic subscription
data with monetary equivalence. Accounts may have balances/counters of
currency or a unit type. An account can have one or more users associated with
it. Examples of account type could include individual, family, corporate, etc.
As opposed to bank accounts, transaction history is not necessarily kept in
the OCS account data structure.
**Account balance: represents the current numerical value from which service
delivery decisions can be determined.**
**Charging:** a function within the telecommunications network and the
associated OCS/BD components whereby information related to a chargeable event
is collected, formatted, transferred and evaluated in order to make it
possible to determine usage for which the charged party may be billed (offline
charging) or the subscribers account balance may be debited (online charging).
**Counter:** aggregation of units of service usage or monetary units, which
may be in relation to subscriber contractual terms (e.g. number of used SMS
per day or number of free minutes per month).
These form the basis for any type of loyalty program like discounts or bonus.
**Offline charging:** charging mechanism where charging information does not
affect, in real-time, the service rendered
**Online charging:** charging mechanism where charging information can affect,
in real-time, the service rendered and therefore a direct interaction of the
charging mechanism with session/service control is required.
**Tariff:** set of parameters defining the network utilization charges for the
use of a particular bearer / session / service.
**Subscriber:** A Subscriber is an entity (associated with one or more users)
that is engaged in a Subscription with a service provider. The subscriber is
allowed to subscribe and unsubscribe services, to register a user or a list of
users authorised to enjoy these services, and also to set the limits relative
to the use that associated users make of these services.
**Subscription:** A subscription describes the commercial relationship between
the subscriber and the service provider.
## 3.2 Symbols
For the purposes of the present document, the following symbols apply:
Rc Online Charging Reference Point towards the Account Balance Management
Function.
Ro Online Charging Reference Point towards the online charging functions
(EBCF, SBCF).
Rr Online Charging Reference Point towards an external account recharging
server.
Re Online Charging Reference Point towards the Rating Function
## 3.3 Abbreviations
For the purposes of the present document, the following abbreviations apply:
ABMF Accounting Balance Management Function
CCA Credit Control Answer
CCR Credit Control Request
CDR Charging Data Record
CGF Charging Gateway Function
EBCF Event Based Charging FunctionOCF Online Charging Function
OCS Online Charging System
RF Rating Function
SBCF Session Based Charging Function
# Requirement analysis for Rc Reference Point
## 4.1 Requirement and Drive Analysis
3GPP has introduced OCS architecture since Release 5. The principle drives for
the completion of the Rc reference point are:
1) To support a standardized connection by ABMF
This works as the key drive for Rc reference point specifications. The
technologies related with OCS is on the way to be complete in R8 or previous
releases which have been facilitate the application of OCS specifications.
Whereas Rc reference point was identified as outstanding in previous releases.
In current market each solution has its own way for this interconnection. For
the operator, the upgrading or corresponding action was limited to vendor
specific. A standardized way will bring a unified style for the connection.
As identified it's up to complete in late release. Through such, an operator
can benefit from multi-vendors existing environment, convenient inter-
connecting of accounting information within charging domains.
2) To facilitate interconnecting between OCF and ABMF
Within an operator's telecommunication network, especially for a vast network,
OCF and ABMF may be distributed in multi physical locations. For offering a
seamless service for the subscribing, local OCF may be requested to connect to
ABMF which physically belongs to another domain.
As the drives above, the specification of Rc reference point, the message
exchange, the flow need take into account the requirements above.
## 4.2 Rc Reference Point Scenarios
The Rc reference point is used to open account and balance management
functionality. As the main drives and requirement, it has following scenarios:
  * To fetch subscriber's accounting information including account balance and/or counters from ABMF;
  * To debit units from subscriber's account from ABMF independent service requested;
  * To refund units to subscriber's account in ABMF independent service requested;
  * To perform balance check independent of service.
  * To reserve units in subscribers' account from ABMF independent service requested;
Editor's notes: other primary scenarios are ffs.
# OCS Architecture Concept
## 5.1 Charging Architectures
The main requirements and high-level principles for charging and billing are
established in the 3GPP TS 22.115.
The logical online and offline charging architecture are introduced in the
3GPP TS 32.240.
## 5.2 OCS Charging Architecture Consideration
Below is the logical ubiquitous online charging architecture, 3GPP TS 32.296
[4] gives a detailed architecture of OCS as Figure 5.2.1.
Figure 5.2.1: Online charging system architecture
The ABMF is the location of the subscriber's account balance. It supports
interface for account balance management towards external account management
servers e.g. recharge server, hot billing server. Its functions include:
  * check account balance;
  * account balance update (credit/debit);
  * account balance reservation;
  * get/set counters;
  * get/set expiry date of the (prepaid) account (optional).
The OCF consists of two distinct modules, namely the Session Based Charging
Function (SBCF) and the Event Based Charging Function (EBCF), and communicates
with the ABMF to query and update the subscribers\' account and counters
status (counters are not applicable if a class \"B\" Rating Function is used).
Reference points:
  * The Rc reference point allows the interaction between the Online > Charging Functions (SBCF, EBCF) and the Account Balance Management > Function (ABMF) to access the subscribers account balance on the > OCS.
  * The Rr reference point allows the interaction between the Account > Balance Management Function and an external recharging server.
  * The Re reference points connect the Online Charging Functions (SBCF, > EBCF) with the Rating Function.
  * The Ga reference point allows the collection and transfer of > charging information from the Charging Data Functions (CDF) to the > Charging Gateway Function (CGF).
  * The Bo reference point allows the transfer of charging information > from the Charging Gateway Function to the operator\'s > post-processing system as the OCS variant of the Bx interface > description in 3GPP TS 32.297.
## 5.3 ABMF Networking Impact Analysis
As specified in 3GPP TS 32.296 [4], the Online Charging System (OCS) shall
support mechanisms for account balance management towards external account
management servers e.g. recharge server, hot billing server.
Figure 5.3.1 provides an overview of ABMF based charging architecture for
fulfilling the requirements in section 4.
Figure 5.3.1: ABMF based Charging Architecture
In the architecture, the ABMF is the OCF-independent module. The interface
between ABMF and the OCF is Rc reference point The hot billing server and
recharging server will access the ABMF through Rr reference point for account
balance management.
Note: ABMF is an internal functionality in OCS. ABMF and OCF can be collocated
physically in online charging, in this case, the interface between AMBF and
OCF corresponding to Rc reference point is not necessary. The present study
report analyzes a case where Rc interface is used to separate AMBF from OCF
physically.
# 6 Key Issues of Rc reference point
## 6.1 Message Exchange
The messages and data types on Rc reference point could be defined based on
the messages specified for the 3GPP Ro Diameter application [6] or Re Diameter
application [7].
The solution based on Ro Diameter application is a feasible option to provide
Rc functionality in the case where ABMF manages only monetary units.
The following describes the contents of the messages.
6.1.1 Functionality Analysis on Rc Reference Point
Following functionality of Rc Reference Point is proposed:
  * Request Account Information
OCF uses this message to fetches user account information over Rc reference
point from ABMF. In class "A" rating mode, counters reside in ABMF, OCF
fetches counters together with account information over Rc reference point.
  * Initial Account Reservation
The OCF uses this message to initiate a reservation over the Rc reference
point against a subscriber's account in the ABMF.
  * Account Reservation Update
The OCF uses this message to update an existing reservation made against a
subscriber's account in the ABMF over the Rc reference point. This message
triggers the ABMF to perform a debit of previous reservation and updates
account reservation for the service.
  * Debit Account Reservation
The OCF uses this message to request the debiting of used service units from
an existing reservation made against a subscriber's account in the ABMF over
the Rc reference point.
  * Debit Unit
The OCF uses this message to request to perform a debit of units from user
account balance or counters over Rc reference point. The ABMF performs debit
used units for the service.
  * Check Balance
OCF uses this message to request for checking balance of subscriber's account
over Rc reference point from ABMF. The ABMF retrieves the subscriber's account
balance and checks whether the subscriber's account is sufficient for the
service usage.
  * Refund
The OCF uses this message to request a refund of debited service units to
subscriber's account over Rc reference point. The ABMF performs account
refund.
6.1.2 Basic Operation Analysis for Rc Reference Point
Depending on the above functionality, the ABMF should support following basic
logic operations:
  * \"_Enquiry Request_ \"; sent from OCF ïƒ  ABMF
OCF requests subscriber's account or counters information from ABMF using an
_Enquiry Request_. This operation can also be sent by OCF for checking account
balance of subscriber over Rc reference point.
  * \"_Enquiry Response_ \"; sent from ABMF ïƒ  OCF
ABMF replies with a _Enquiry Response_ which transfers to the OCF of
subscriber's account or counters information.
When OCF requests for checking account balance of subscriber, ABMF replies
with an _Enquiry Response_ which informs OCF of the result of checking
balance.
  * \"_Reserve Units Request_ \"; sent from OCF ïƒ  ABMF
OCF requests to reserve a number of units for the service using a _Reserve
Units Request_.
  * \"_Reserve Units Response_ \"; sent from ABMF ïƒ  OCF
Response from ABMF which informs the OCF of the number of units that were
reserved as a result of the _Reserve Units Request_.
  * \"_Debit Units Request_ \"; sent from OCF ïƒ  ABMF
OCF requests to debit units from subscriber's account or counters in ABMF. For
refund purpose, the OCS sends a _Debit Units Request_ to the OCF as well.
  * \"_Debit Units Response_ \"; sent from ABMF ïƒ  OCF
Response from ABMF which informs OCF of the result of debitting or refund
operation.
Table 6.1.2.1 and table 6.1.2.2 describe the content of these operations.
Table 6.1.2.1:Enquiry, Debit Units and Reserve Units Request Content
* * *
Enquiry, Debit Units and Reserve Units Request Category Description Session
Identifier M This field identifies the operation session. Operation Type M
This field defines the transfer type: event for event based operation and
start, interim, stop for session based operation. Operation Number M This
field contains the sequence number of the transferred messages. Service
Context Information M This field identifies the domain, subsystem or service
and release. Origination Timestamp O~C~ This field contains the time when the
operation is requested. Subscriber Identifier O~M~ This field contains the
identification of the mobile subscriber (i.e. MSISDN) that uses the requested
service. Requested Action O~C~ This field contains the requested action.
Multiple Unit Operation O~C~ This field contains the parameter for the quota
management. Service Information O~M~ This parameter holds the individual
service specific parameters, e.g. service type,
* * *
Table 6.1.2.2: Enquiry, Debit Units and Reserve Units Response Content
+----------------------------+----------+----------------------------+ | Enquiry, Debit Units and | Category | Description | | Reserve Units Response | | | +----------------------------+----------+----------------------------+ | Session Identifier | M | This field identifies the | | | | operation session. | +----------------------------+----------+----------------------------+ | Operation Result | M | This field identifies the | | | | result of the operation. | +----------------------------+----------+----------------------------+ | Operation Type | M | This field defines the | | | | transfer type: event for | | | | event based operation and | | | | start, interim, stop for | | | | session based operation. | +----------------------------+----------+----------------------------+ | Operation Number | M | This field contains the | | | | sequence number of the | | | | transferred messages. | +----------------------------+----------+----------------------------+ | Account Status | O~C~ | This field indicates the | | | | status of user account, | | | | e.g. low balance. | +----------------------------+----------+----------------------------+ | Multiple Unit Operation | O~C~ | This field contains the | | | | parameter for the quota | | | | management. | +----------------------------+----------+----------------------------+ | Service Information | O~C~ | This parameter holds the | | | | individual service | | | | specific parameters. | +----------------------------+----------+----------------------------+ | Account Information | O~C~ | This field contains the | | | | subscriber's account and | | | | counter information | | | | residing in ABMF. | | | | | | | | Editor's notes: The | | | | structure of this | | | | parameter is ffs. | +----------------------------+----------+----------------------------+
## 6.2 Protocol Implementation options
The protocol implementation supported by Rc reference point is discussed in
the section.
The following options were appraised in considering an appropriate protocol
implementation for the Rc reference point.
Based on the IETF guidelines designing Diameter applications, the following
are potential options for approaches to designing the Diameter application to
meet the requirements of the Rc interface:
  1. New functionality added to an existing Diameter application without defining a new application
  2. Generate a new Diameter application by extending an existing application.
  3. Generate a new Diameter application without using any components of an existing application.
Design Evaluation Summary:
Design Option #3
There is existing Diameter functionality that can be applied to the Rc
interface. IETF's direction is as general theme to reuse commands, AVPs and
AVP values as much as possible. 3GPP should endeavour to reuse as much
existing Diameter functionality as is feasible. Therefore option #3 above was
discounted as a feasible option.
Design Option #1
Could an existing Diameter application be extended without having to define a
new application? The prefered candidate was 3GPP Re Diameter Application. This
approach has positive features such that it:
  * Follows the theme of re-use
  * Less administrative overheads i.e. no need to apply to IANA for entries in its Diameter registry.
Some concerns about this approach include:
  * Shall it impose significant backward compatibility issues?
  * Shall it impose significant forward compatibility issues?
  * Shall it lead to excessive command message payloads i.e. carrying AVPs that are redundant to ABMF operations
  * Does it provide all the functionality that will be required for the Rc interface e.g.
    * Can we be sure that no new command code codes are required for the Rc operations e.g. the operation _Enquiry Request (Request Account Information)_ doesn't appear to map easily to an existing Diameter Credit Control message?
    * Can we be sure that no new AVPs with the M-bit set are required to be added to the existing command messages, refer [8]?
Design Option #2
This approach has been used by 3GPP frequently in the past (e.g. Re, Gx, Gxx,
Rx, S9, Cx/Px, Sh, Wx, etc. refer [7]) and more specifically used by the
charging working group for the Re reference point within the OCS, refer [2].
This approach has positive features such that it:
  * Follows the theme of re-use
  * Means there would be no initial backward compatibility issues
  * Allows for optimized command message payloads
  * Enables new command messages to be added if required
  * Allows new "mandatory to understand" AVPs to be added if required
If this approach is adopted further investigation is required to address
issues such as:
  * Which (if any) command messages would be re-used by the new application? Diameter CCR/CCA messages would be candidates. Diameter RAR/RAA would also merit consideration.
  * Would any new command messages be required e.g. does it make sense to map an _Enquiry Request (Request Account Information)_ to a new AccountInformationRequest command?
  * What AVPs are required to be added to existing command messages
    * Mandatory to understand AVPs
    * Optional AVPs
  * Which (if any) AVPs can be deleted from the command messages that are re-used.
  * Is there any Diameter Accounting support required for the new application?
The consensus was that design option #1 using the 3GPP Re Diameter application
was the most suitable option for implementing the interface protocol for the
Rc reference point.
## 6.3 Message Flow
This subclause describes message flows for the Rc Reference Point.
6.3.1 Account Balance Request scenario
The following sub-sections describe the basic scenario for account balance
request from ABMF for ECUR and SCUR.
6.3.1.1 Account Balance Request scenario with Account Reservation
The following figure describes the case for unit reservation.
Figure 6.3.1: Account Balance Request scenario with Account Reservation
Step 1: The OCF receives a _Debit Units_ _Request_ (Initial) request referring
to an MS\'s bearer usage/session/service resource usage.
Step 2(Optional): The OCF requests account information for the subscriber from
the Account Balance Management Function (ABMF) using _Enquiry Request (Request
Account Information)_ message.
Step 3(Optional): The ABMF retrieves subscriber's counter information.
Step 4(Optional): The ABMF returns the account information to the OCF using
_Enquiry Response (Request Account Information)_ message.
Note: Steps 2, 3, 4 are required for OCS RF class "A" and therefore not needed
for OCS RF class "B".
Step 5: The OCF requests the appropriate tariff to be applied for the
bearer/session/service from the Rating Function.
Step 6: The Rating Function returns the tariff information to the OCF.
Step 7: The OCF requests for reserving account balance from the Account
Balance Management Function using _Reserve Units Request (Initial Account
Reservation)_ message.
Step 8: The ABMF reserves account balance for the service.
Step 9: The ABMF returns the result code to the OCF using _Reserve Units
Response (Initial Account Reservation)_ message.
Step 10: The OCF returns _Debit Units Response_ (Initial).
Step 11(Optional): The OCF receives a _Debit Units Request_ (Update) request
updating an MS\'s bearer usage/session resource usage.
Step 12(Optional): The OCF requests for updating account reservation from the
Account Balance Management Function using _Enquiry Request ( Request Account
Information)_.
Step 13(Optional):The ABMF performs debit of previous reservation and updates
account reservation for the service.
Step 14(Optional): The ABMF returns the result code to the OCF using _Enquiry
Response (Request Account Information)_ message.
Note: Steps 12, 13, 14 are required for OCS RF class "A" and therefore not
needed for OCS RF class "B".
Step 15: The OCF requests the appropriate tariff to be applied for the
bearer/session/service from the Rating Function.
Step 16: The Rating Function returns the tariff information to the OCF.
Step 17: The OCF requests for reserving account balance from the Account
Balance Management Function using _Reserve Units Request (Account Reservation
Update)_ message.
Step18: The ABMF reserves account balance for the service.
Step 19: The ABMF returns the result code to the OCF using _Reserve Units
Response (Account Reservation Update)_ message.
Step 20: The OCF returns _Debit Units Response_ (Update).
Step21: The OCF receives a _Debit Units Request_ (Terminate) request debiting
an MS\'s bearer usage/session resource usage.
Note: Steps 12, 13, 14 may be re-applied here for OCS RF class "A" to have
accurate rating taken into consideration for parallel services consumed
between steps 20 and 21. These steps are not needed for OCS RF class "B".
Step 22: The OCF requests the appropriate tariff to be applied for the
bearer/session from the Rating Function.
Step 23: The Rating Function returns the tariff information to the OCF.
Step 24: The OCF requests for debiting used service units from the Account
Balance Management Function using _Debit Units Request (Debit Account
Reservation)_.
Step 25: The ABMF performs debit used units for the service.
Step26: The ABMF returns the result code to the OCF using _Debit Account
Response (Debit Account Reservation)._
Step 27: The OCF returns _Debit Units Response_ (Terminate).
6.3.1.2 Account Balance Request scenario with Refund
The following figure describes the case for refund.
Figure 6.3.2: Account Balance Request scenario with Refund
Step 1: The OCF receives a _Debit Units_ request debiting an MS\'s bearer
usage/session resource usage.
Step 2(Optional): The OCF requests account information for the subscriber from
the Account Balance Management Function using _Enquiry Request (Request
Account Information)_.
Step 3(Optional): The ABMF retrieves subscriber's Account information.
Step 4(Optional): The ABMF returns the account information to the OCF using
_Enquiry Request (Request Account Information)_.
Notes: Steps 2, 3, 4 are required for OCS RF class "A" and therefore optional
for OCS RF class "B".
Step 5: The OCF requests the appropriate tariff to be applied for the
bearer/session from the Rating Function.
Step 6: The Rating Function returns the tariff information to the OCF.
Step 7: The OCF requests for debiting used service units from the Account
Balance Management Function using _Debit Units Request_.
Step 8: The ABMF performs debit operation for the service.
Step 9: The ABMF returns the result code to the OCF using _Debit Units
Response._
Step 10: The OCF returns _Debit Units Response_.
Step 11: The OCF receives a _Debit Units Request_ (Refund) request refunding
an MS\'s bearer usage/session resource usage.
Step 12 (Optional): The OCF requests the appropriate tariff to be applied for
the bearer/session from the Rating Function.
Step 13 (Optional): The Rating Function returns the tariff information to the
OCF.
Step 14: The OCF requests for refund some debited service units from the
Account Balance Management Function using _Debit Units Request (Refund)_.
Step15: The ABMF performs account refund.
Step16: The ABMF returns the result code to the OCF using _Debit Units
Response (Refund)_.
Step17: The OCF returns _Debit Units Response_ (Refund).
6.3.1.3 Account Balance Request scenario with Check Balance
The following figure describes the case for balance check.
Figure 6.3.4: Account Balance Request scenario with Check Balance
Step 1: The OCF receives a _Debit Unit Request_ (Check Balance) request
checking account balance.
Step 2 (Optional): The OCF requests the appropriate tariff to be applied for
the bearer/session/service from the Rating Function.
Step 3 (Optional): The Rating Function returns the tariff information to the
OCF.
Step 4: The OCF requests for checking balance of the subscriber's account from
the Account Balance Management Function using _Enquiry Request (Check
Balance)_.
Step 5: The ABMF retrieves the subscriber's account balance.
Step 6: The ABMF returns the result code to the OCF using _Enquiry Response
(Check Balance)_ message.
Step7: The OCF returns _Debit Units Response_ (Check balance).
6.3.1.4 Account Balance Request scenario for event based Direct Debiting
operation
The following figure describes direct debit operation in order to perform the
IEC.
Figure 6.3.1.4: Account Balance Request scenario with debit operation
Step 1: The OCF receives a _Debit Units Request_ with _CC-Request-Type_ AVP
indicating EVENT_REQUEST. The _Requested-Action_ AVP (RA) is set to
DIRECT_DEBITING. If known, the network element may include _Requested-Service-
Unit_ AVP (RSU) (monetary or non-monetary units) in the request message..
Step 2(Optional): The OCF requests account information for the subscriber from
the Account Balance Management Function (ABMF) using _Enquiry Request (Request
Account Information)_ message.
Step 3(Optional): The ABMF retrieves subscriber's counter information.
Step 4(Optional): The ABMF returns the account information to the OCF using
_Enquiry Response (Request Account Information)_ message.
Notes: Steps 2, 3, 4 are required for OCS RF class "A" and therefore not
needed for OCS RF class "B".
Step 5: The OCF requests the appropriate tariff to be applied for the
bearer/session from the Rating Function.
Step 6: The Rating Function returns the tariff information to the OCF.
Step 7: The OCF requests for debiting used service units from the Account
Balance Management Function using _Debit Units Request_.
Step 8: The ABMF performs debit used units for the service. Unused reserved
units are released, if applicable.
Step 9: The ABMF returns the result code to the OCF using _Debit Units
Response_ message.
Step 10: The OCF acknowledges the reception of the CCR message by sending
_Debit Units Response_ message with _CC-Request-Type_ AVP indicating
EVENT_REQUEST (_Granted-Service-Unit_ AVP (GSU) and possibly _Cost-
Information_ AVP (CI) indicating the cost of the service and _Remaining-
Balance_ AVP are included in the _Credit-Control-Answer_ message).
# 7 Conclusions and Recommendations
## 7.1 Conclusions
In summary, the 3GPP Online Charging System (OCS) represents a collection of
constituent functional components: Online Charging Functions (Session Based
Charging Function, Event Based Charging Function), Account Balance Management
Function, Charging Gateway Function, and Rating Function. 3GPP has also
declared a set of references for the online charging system's functional
components e.g. Ro, Rc, Re, Rr, Bo and CAP. It has been noted during this
study that OCSs have been ubiquitously deployed by operators providing 3GPP
access despite the fact that for a subset of the OCS functional component
reference points such as Rc or Rr are not specified whilst other such as Re
have not evolved significantly since its initial specification. The
implication of this for the Rc reference point is that in existing deployments
the operator has either chosen a single vendor for OCF and ABMF functional
components with no integration required as the interface for the Rc reference
point is an internal interface, or where different vendors are chosen to
provide OCF and ABMF functional components have employed bespoke/proprietary
means achieve the integration. During the study a number of operators have
declared their desire to have an open standard based alternative to the above
options. Concerns were raised that initial versions of a standardised
interface for Rc reference point would lack the functionality of the existing
proprietary interfaces but this is unavoidable and is not unique to this
scenario and this gap should diminish as the standard evolves. Another concern
raised was that there is an IPR divergence across ABMF vendors and this may
provide challenges in defining an inclusive set of functionality for the
standardised interface for the Rc reference point although this has not been
explored in depth during the study period. Some companies pointed out that the
use of external interfaces would have additional performance/latency overheads
compared with internal interfaces although the operator feedback was to
acknowledge this but that this was a tradeoff that they have already accepted.
An observation that raised disquiet during the study period was that the
experience for the one other standardised interface between two OCS
constituent functional components i.e. the Re interface has not been widely
adopted.
Not all areas were fully explored within in the study e.g. could certain Ro
functions deliver all the required Rc functionality and thus have OCF simply
proxy Ro messages to the ABMF with small enhancements.
Notwithstanding some of the concerns and caveats raised above a number of
operators articulated specific use cases addressing challenges such as:
  * A converged ABMF across charging domains (e.g. for operators who have consolidated their business lines wireless, wireline, cable, ISP, etc.)
  * A plurality of OCF vendors across geographically diverse regions integrating with a centralised ABMF.
  * An evolutionary path for operators leveraging their existing investment in legacy ABMF deployments (e.g. IN platforms) to a 3GPP compliant OCS.
The operators have defined a desire to have the option to use a standardised
interface for the Rc reference point to assist in overcoming these challenges.
## 7.2 Recommendations
To provide operators with optional guidance for deploying the options for Rc
reference point in the form of an informative annex to TS 32.296 (OCS).
#