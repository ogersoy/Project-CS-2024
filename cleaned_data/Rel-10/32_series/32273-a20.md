# Foreword
This Technical Specification has been produced by the 3rd Generation
Partnership Project (3GPP).
The contents of the present document are subject to continuing work within the
TSG and may change following formal TSG approval. Should the TSG modify the
contents of the present document, it will be re-released by the TSG with an
identifying change of release date and an increase in version number as
follows:
Version x.y.z
where:
x the first digit:
1 presented to TSG for information;
2 presented to TSG for approval;
3 or greater indicates TSG approved document under change control.
y the second digit is incremented for all changes of substance, i.e. technical
enhancements, corrections, updates, etc.
z the third digit is incremented when editorial only changes have been
incorporated in the document.
# 1 Scope
The present document is part of a series of documents that specify charging
functionality and charging management in GSM/UMTS networks. The GSM/UMTS core
network charging architecture and principles are specified in 3GPP TS 32.240
[1], which provides an umbrella for other charging management TSs that
specify:
  * the content of the CDRs per domain / subsystem / service (offline > charging);
  * the content of real-time charging messages per domain / subsystem / > service (online charging);
  * the functionality of online and offline charging for those domains / > subsystems / services;
  * the interfaces that are used in the charging framework to transfer > the charging information (i.e. CDRs or charging events).
The complete document structure for these TSs is defined in 3GPP TS 32.240
[1].
The present document specifies the Offline and Online Charging description for
the Multimedia Broadcast and Multicast Service (MBMS), based on the functional
stage 2 description in 3GPP TS 23.246 [200]. This charging description
includes the offline and online charging architecture and scenarios specific
to MBMS, as well as the mapping of the common 3GPP charging architecture
specified in 3GPP TS 32.240 [1] onto MBMS. It further specifies the structure
and content of the CDRs for offline charging, and the charging events for
online charging. The present document is related to other 3GPP charging TSs as
follows:
  * The common 3GPP charging architecture is specified in 3GPP TS 32.240 > [1];
  * The parameters, abstract syntax and encoding rules for the CDRs are > specified in 3GPP TS 32.298 [51];
  * A transaction based mechanism for the transfer of CDRs within the > network is specified in TS 32.295 [54];
  * The file based mechanism used to transfer the CDRs from the network > to the operator's billing domain (e.g. the billing system or a > mediation device) is specified in 3GPP TS 32.297 [52];
  * The 3GPP Diameter application that is used for MBMS offline and > online charging is specified in 3GPP TS 32.299 [50].
All terms, definitions and abbreviations used in the present document, that
are common across 3GPP TSs, are defined in the 3GPP Vocabulary, 3GPP TR 21.905
[100]. Those that are common across charging management in GSM/UMTS domains or
subsystems are provided in the umbrella document 3GPP TS 32.240 [1] and are
copied into clause 3 of the present document for ease of reading. Finally,
those items that are specific to the present document are defined exclusively
in the present document.
Furthermore, requirements that govern the charging work are specified in 3GPP
TS 22.115 [102].
# 2 References
The following documents contain provisions which, through reference in this
text, constitute provisions of the present document.
  * References are either specific (identified by date of publication, > edition number, version number, etc.) or non‑specific.
  * For a specific reference, subsequent revisions do not apply.
  * For a non-specific reference, the latest version applies. In the > case of a reference to a 3GPP document (including a GSM document), > a non-specific reference implicitly refers to the latest version > of that document _in the same Release as the present document_.
[1] 3GPP TS 32.240: \"Telecommunication management; Charging management;
Charging architecture and principles\".
[2]- [9] Void.
[10] 3GPP TS 32.250: \"Telecommunication management; Charging management;
Circuit Switched (CS) domain charging\".
[11] 3GPP TS 32.251: \"Telecommunication management; Charging management;
Packet Switched (PS) domain charging\".
[12]-[19] Void.
[20] 3GPP TS 32.260: \"Telecommunication management; Charging management; IP
Multimedia Subsystem (IMS) charging\".
[21]-[29] Void.
[30] 3GPP TS 32.270: \"Telecommunication management; Charging management;
Multimedia Messaging Service (MMS) charging\".
[31]-[49] Void.
[50] 3GPP TS 32.299: \"Telecommunication management; Charging management;
Diameter charging application\".
[51] 3GPP TS 32.298: \"Telecommunication management; Charging management;
Charging Data Record (CDR) parameter description\".
[52] 3GPP TS 32.297: \"Telecommunication management; Charging management;
Charging Data Record (CDR) file format and transfer\".
[53] Void.
[54] 3GPP TS 32.295: \"Telecommunication management; Charging management;
Charging Data Record (CDR) transfer\".
[55]-[99] Void.
[100] 3GPP TR 21.905: \"Vocabulary for 3GPP specifications\".
[101] Void.
[102] 3GPP TS 22.115: \"Service aspects; Charging and billing\".
[103]-[199] Void.
[200] 3GPP TS 23.246: \"Multimedia Broadcast/Multicast Service (MBMS);
Architecture and functional description\".
[201] 3GPP TS 22.146: \"Multimedia Broadcast/Multicast Service (MBMS); Stage
1\".
[202] 3GPP TS 22.246: \"Multimedia Broadcast/Multicast Service (MBMS) user
services; Stage 1\".
[203] 3GPP TS 26.346: \"Multimedia Broadcast/Multicast Service (MBMS);
Protocols and codecs\".
[204] 3GPP TS 29.061: \"Interworking between the Public Land Mobile Network
(PLMN) supporting packet based services and Packet Data Networks (PDN)\".
# 3 Definitions, symbols and abbreviations
## 3.1 Definitions
For the purposes of the present document, the terms and definitions given in
3GPP TR 21.905 [100], 3GPP TS 32.240 [1], 3GPP TS 23.246 [200] and the
following apply:
**2G- / 3G-:** prefixes 2G- and 3G- refer to functionality that supports only
GSM or UMTS, respectively, e.g. 2G‑SGSN refers only to the GSM functionality
of an SGSN
**accounting:** process of apportioning charges between the Home Environment,
Serving Network and Subscriber
**Advice of Charge (AoC):** real-time display of the network utilization
charges incurred by the Mobile Station\ The charges are displayed in the form
of charging units. If a unit price is stored by the MS then the display may
also include the equivalent charge in the home currency.
**AoC service:** combination of one or more services, both basic and
supplementary, together with a number of other charging relevant parameters to
define a customized service for the purpose of advice of charge
**billing:** function whereby CDRs generated by the charging function(s) are
transformed into bills requiring payment
**Billing Domain:** part of the operator network, which is outside the core
network, that receives and processes CDR files from the core network charging
functions\ It includes functions that can provide billing mediation and
billing or other (e.g. statistical) end applications. It is only applicable to
offline charging (see \"Online Charging System\" for equivalent functionality
in online charging).
**CDR field categories:** the CDR fields are defined in the present document.
CDR fields may be operator provisionable and are divided into the following
categories:
  * **Mandatory (M):** field that shall always be present in the CDR.
  * **Conditional (C):** field that shall be present in a CDR if certain > conditions are met.
  * **Operator Provisionable: Mandatory (OM):** field that, if > provisioned by the operator, shall always be present in the CDR.
  * **Operator Provisionable: Conditional (OC):** field that, if > provisioned by the operator, shall be present in a CDR if certain > conditions are met.
**chargeable event:** activity utilizing telecommunications network
infrastructure and related services for:
  * user to user communication (e.g. a single call, a data communication > session or a short message); or
  * user to network communication (e.g. service profile administration); > or
  * inter-network communication (e.g. transferring calls, signalling, or > short messages); or
  * mobility (e.g. roaming or inter-system handover); and
  * that the network operator may want to charge for.
**charged party:** user involved in a chargeable event that has to pay parts
or the whole charges of the chargeable event, or a third party paying the
charges caused by one or all users involved in the chargeable event, or a
network operator
**charging:** function within the telecommunications network and the
associated OCS/BD components whereby information related to a chargeable event
is collected, formatted, transferred and evaluated in order to make it
possible to determine usage for which the charged party may be billed (offline
charging) or the subscribers account balance may be debited (online charging)
**Charging Data Record (CDR):** formatted collection of information about a
chargeable event (e.g. time of call set-up, duration of the call, amount of
data transferred, etc.) for use in billing and accounting\ For each party to
be charged for parts of or all charges of a chargeable event a separate CDR
shall be generated, i.e. more than one CDR may be generated for a single
chargeable event, e.g. because of its long duration, or because more than one
charged party is to be charged.
**charging function:** entity inside the core network domain, subsystem or
service that is involved in charging for that domain, subsystem or service
**Fully qualified Partial CDR (FQPC):** partial CDR that contains a complete
set of the fields specified in 3GPP TS 23.273\ This includes all the mandatory
and conditional fields as well as those fields that the PLMN operator has
provisioned to be included in the CDR. The first Partial CDR shall be a Fully
qualified Partial CDR.
**GPRS:** packet switched bearer and radio services for GSM and UMTS systems
**GTP\':** GPRS protocol used for CDR transport. It is derived from GTP with
enhancements to improve transport reliability necessary for CDRs
> NOTE: This protocol is not used for tunnelling.
**inter-system change:** change of radio access between different radio access
technologies such as GSM and UMTS
**middle tier (charging) TS: term used for the 3GPP charging TSs that specify
the domain / subsystem / service specific, online and offline, charging
functionality\ These are all the TSs in the numbering range from 3GPP TS
32.250 to 3GPP TS 32.279, e.g. 3GPP TS 32.250 [10] for the CS domain, or 3GPP
TS 32.270 [30] for the MMS service. Currently, there is only one \"tier 1\" TS
in 3GPP, which is 3GPP TS 32.240 [1] that specifies the charging architecture
and principles. Finally, there are a number of top tier TSs in the 32.29x
numbering range ([50] ff) that specify common charging aspects such as
parameter definitions, encoding rules, the common billing domain interface or
common charging applications.**
**near real time:** near real time charging and billing information is to be
generated, processed, and transported to a desired conclusion in less than 1
minute
**offline charging:** charging mechanism where charging information **does
not** affect, in real-time, the service rendered
**online charging:** charging mechanism where charging information can affect,
in real-time, the service rendered and therefore a direct interaction of the
charging mechanism with bearer/session/service control is required
**Online Charging System:** the entity that performs real-time credit control\
Its functionality includes transaction handling, rating, online correlation
and management of subscriber account balances.
**packet switched domain:** domain within GSM / UMTS in which data is
transferred in packet switched mode\ Corresponds to the term \"GPRS\".
**partial CDR:** CDR that provides charging information on part of a
subscriber session\ A long session may be covered by several partial CDRs. Two
formats are considered for Partial CDRs. One that contains all of the
necessary fields; the second has a reduced format.
**real time:** real time charging and billing information is to be generated,
processed, and transported to a desired conclusion in less than 1 second
**Reduced Partial CDR (RPC):** partial CDRs that only provide mandatory fields
and information regarding changes in the session parameters relative to the
previous CDR
EXAMPLE: Location information is not repeated in these CDRs if the subscriber
did not change its location.
**settlement:** payment of amounts resulting from the accounting process
**subscriber:** entity (associated with one or more users) that is engaged in
a subscription with a service provider\ The subscriber is allowed to subscribe
and unsubscribe services, to register a user or a list of users authorized to
enjoy these services, and also to set the limits relative to the use that
associated users make of these services.
**successful call:** connection that reaches the communication or data
transfer phase e.g. the \"answered\" state for speech connections\ All other
connection attempts are regarded as unsuccessful.
**tariff period:** part of one (calendar) day during which a particular tariff
is applied\ Defined by the time at which the period commences (the switch-over
time) and the tariff to be applied after switch-over.
**tariff:** set of parameters defining the network utilization charges for the
use of a particular bearer / session / service
## 3.2 Symbols
For the purposes of the present document, the following symbols apply:
Bmb Reference point for the CDR file transfer from the MBMS CGF to the BD
Bo Reference point for the CDR file transfer from the OCF CGF to the BD
Bp Reference point for the CDR file transfer from the GPRS CGF to the BD
Bx Reference point between any (generic) 3GPP domain, subsystem or service CGF
and the BD
Ga Reference point for CDR transfer between a CDF and the CGF
Gi Interface between the Packet-Switched domain and an external packet data
network
Gn Interface between two GSNs within the same PLMN
Gp Interface between two GSNs in different PLMNs
kbit/s Kilobits per second. 1 kbit/s = 210 bits per second
Mbit/s Megabits per second. 1 Mbit/s = 220 bits per second
Rf Offline charging reference point between a BM-SC and the CDF
Ro Online charging reference point between a BM-SC and the OCS
## 3.3 Abbreviations
For the purposes of the present document, the abbreviations defined in 3GPP TR
21.905 [50], 3GPP TS 32.240 [1], 3GPP TS 23.246 [200] and the following apply:
ABNF Augmented Backus-Naur Form
ACA ACcounting Answer
ACR ACcounting Request
AF Application Function
AMF Account balance Management Function
AoC Advice of Charge
AVP Attribute Value Pair
BCF Bearer Charging Function
BCSM Basic Call State Model
BD Billing Domain
BMD Billing Mediation Device
BM-SC Broadcast Multicast - Service Centre
BS Billing System
CAI Charge Advice Information
CCA Credit Control Answer
CCR Credit Control Request
CDF Charging Data Function
CDR Charging Data Record
CG Charging Gateway
CGF Charging Gateway Function
CSE CAMEL Service Environment
CTF Charging Trigger Function
DRP Data Record Packet
ECF Event Charging Function
ECUR Event Charging with Unit Reservation
EDP Event Detection Point
EPS Evolved Packet System
FCI Furnish Charging Information
FQPC Fully Qualified Partial CDR
FTAM File Transfer, Access and Management
GTP\' The GPRS protocol used for CDR transport. It is derived from GTP with
enhancements to improve transport reliability necessary for CDRs
IEC Immediate Event Charging
IHOSS:OSP Internet Hosted Octet Stream Service: Octet Stream Protocol
MBMS GW Multimedia Broadcast Multicast Service Gateway
M-CDR Mobility management generated - Charging Data Record
MME Mobility Management Entity
OCS Online Charging System
PT Protocol Type (Field in GTP\' header)
RF Rating Function
RPC Reduced Partial CDR
SCI Subscriber Controlled Input
SCI Send Charging Information
SCUR Session Charging with Unit Reservation
TAP Transferred Account Procedure
TDP Trigger Detection Point
TID Tunnel IDentifier
TLV Type, Length, Value (GTP header format)
TMGI Temporary Mobile Group Identifier
TV Type, Value
VAS Value Added Service
VASP Value Added Service Provider
# 4 Architecture considerations
## 4.1 High level MBMS architecture
The high level MBMS architecture is as defined in 3GPP TS 23.246 [200].
The following clauses detail only service level charging. MBMS related aspects
of bearer level charging are defined in 3GPP TS 32.251 [11].
## 4.2 MBMS offline charging architecture
Figure 4.2 depicts the MBMS offline charging architecture. As defined in 3GPP
TS 32.240 [1], the BM-SC contains an integrated CTF that generates charging
events that are passed to the CDF via the Rf reference point.
Figure 4.2: Charging architecture for MBMS offline charging
## 4.3 MBMS online charging architecture
Figure 4.3 depicts the MBMS online charging architecture.
Figure 4.3: Charging architecture for MBMS online charging
For online charging, the BM-SC utilizes the Ro interface and the protocol and
application towards the OCS is as specified in 3GPP TS 32.299 [50] and the
present document.
# 5 MBMS charging principles and scenarios
## 5.1 MBMS charging principles
### 5.1.1 General principles for GPRS
A Multimedia Broadcast and Multicast Service consists of an MBMS User service,
as defined in TS 22.246 [202] and TS 26.346 [203], that is delivered over one
or more MBMS bearer services, as defined in TS 22.146 [201] and TS 23.246
[200].
NOTE: MBMS bearer service is referred in 3GPP TS 22.246 [202] as MBMS
transport service.
The BM-SC shall collect charging information for mobile subscribers receiving
services through MBMS and/or for content providers delivering content through
MBMS. Transactions involving the content provider (or VASP) shall be possible.
The BM-SC collects charging related information, such as:
  * Identification of the source of content.
  * Type of user service (streaming, download or carousel).
  * Type of bearer service used to deliver content (broadcast or > multicast).
  * Identification of subscribers receiving service.
  * Delivery notification from individual subscribers.
NOTE: Carousel services are not considered in the present document in the
current 3GPP release.
The following table shows the parties to be charged for the different MBMS
bearer services used as identified by 3GPP TS 22.246 [202] and 3GPP TS 22.146
[201].
Table 5.1.1: Charging requirements for service delivery
* * *
Service Aspects MBMS Bearer Service used  
Multicast (one or more) Broadcast (one or more) User Service (Content)
Receiving subscriber Receiving subscriber Bearer Service (Transport) Content
provider and/or receiving subscriber Content provider
* * *
The user service, as shown in table 5.1.1, shall be charged either by
subscription (out of scope of the present document) or as a one time event
charge (e.g. key management). Charging associated with the user service may be
treated independently from charging associated with the transport of the user
service.
Charging for the bearer service may be based on the session information (e.g.
QoS, media type, and service area) and one of the following, as described in
3GPP TS 22.146 [201]:
  * Session duration (time from the MBMS Session Start procedure to MBMS > Session Stop procedure as defined in 3GPP TS 23.246 [200]).
  * Volume of data of a session.
  * Duration of time whilst a subscriber is registered to receive a user > service (or from Join to Leave).
  * Volume of data transferred whilst a subscriber is registered to > receive a user service (from Join to Leave).
Table 5.1.2 shows the applicability of the accounting measurements to the
different bearer services used.
Table 5.1.2: Applicability of accounting measurements
* * *
Accounting measurement Applicable to (Yes / No)  
Broadcast Service Multicast Service Session Duration Yes Yes Volume of data of
a session Yes Yes Duration of time whilst a subscriber is registered to
receive a session No Yes Volume of data transferred whilst a subscriber is
registered to receive a session No Yes
* * *
### 5.1.1A General principles for EPS
The BM-SC shall collect charging information for mobile subscribers receiving
services through MBMS and/or for content providers delivering content through
MBMS. Transactions involving the content provider (or VASP) shall be possible.
NOTE: General principles are dependant on SA2 work in 3GPP TS 23.246 [200].
The BM-SC collects charging related information, such as:
  * Identification of the source of content.
  * Type of user service (streaming, download or carousel).
  * Type of bearer service used to deliver content (broadcast or > enhanced broadcast).
NOTE: Carousel services are not considered in the present document in the
current 3GPP release.
The following table shows the parties to be charged for the different MBMS
bearer services used as identified by 3GPP TS 22.246 [202] and 3GPP TS 22.146
[201].
Table 5.1.1A-1: Charging requirements for service delivery
* * *
Service Aspects MBMS Bearer Service used  
Enhanced Broadcast (one or more) Broadcast (one or more) User Service
(Content) Receiving subscriber Receiving subscriber Bearer Service (Transport)
Content provider Content provider
* * *
The user service, as shown in table 5.1.1A, shall be charged either by
subscription (out of scope of the present document) or as a one time event
charge (e.g. key management). Charging associated with the user service may be
treated independently from charging associated with the transport of the user
service.
Charging for the bearer service may be based on the session information (e.g.
QoS, media type, and service area) and one of the following, as described in
3GPP TS 22.146 [201]:
  * Session duration (time from the MBMS Session Start procedure to MBMS > Session Stop procedure as defined in 3GPP TS 23.246 [200]).
  * Volume of data of a session.
Table 5.1.1A-2 shows the applicability of the accounting measurements to the
different bearer services used.
Table 5.1.1A-2: Applicability of accounting measurements
* * *
Accounting measurement Applicable to (Yes / No)  
Broadcast Service Enhanced Broadcast Service Session Duration Yes Yes Volume
of data of a session Yes Yes Duration of time whilst a subscriber is
registered to receive a session No No Volume of data transferred whilst a
subscriber is registered to receive a session No No
* * *
### 5.1.2 Triggers for generation of charging information
  * Bearer service initiation/termination.
  * Key management.
## 5.2 MBMS offline charging scenarios
### 5.2.1 Basic principles
As described in clause 5.1, charging may be based on events (such as key
management) or based on MBMS sessions. However, as large numbers of users are
expected to use services delivered using MBMS, generation of charging
information should be performed in a manner that ensures the charging entities
and billing domain are not overloaded.
Charging information shall be generated for subscribers and/or for content
providers.
This reporting is achieved by sending Diameter Accounting Requests (ACR)
[start, interim, stop and event] from the BM-SC to the CDF.
The Diameter client (BM-SC) uses ACR start, interim and stop in procedures
related to both subscriber and content provider charging
In table 5.2.1.1, table 5.2.1.2 and table 5.2.1.3, the terms \"configurable\"
implies that operators may enable or disable the generation of an ACR message
by the IMS node in response to a particular trigger.
Table 5.2.1.1: Accounting Request messages for subscriber charging for GPRS
* * *
Diameter message Trigger Mandatory/ Configurable ACR [Start] Authorization of
UE to MBMS Bearer Service (for multicast only) Mandatory Reception of first
Session Start Response from any GGSN (for broadcast only) Configurable ACR
[Interim] Authorization of MBMS UE context activation (for multicast only)
Configurable Reception of first Session Start Response from any GGSN (for
multicast only) Configurable Reception of first Session Stop Response from any
GGSN (for multicast only) Configurable Expiration of AVP [Acct-Interim-
Interval] Configurable Reception of MBMS UE context modification Configurable
ACR [Stop] Reception of Leave Indication from UE (for multicast only)
Mandatory Reception of first Session Stop Response from any GGSN (for
broadcast only) Configurable Implementation dependent for termination of MBMS
User Service Configurable ACR [Event] Implementation dependent for MBMS User
Service charging Configurable
* * *
Table 5.2.1.2: Accounting Request messages for content provider charging for
GPRS
* * *
Diameter message Trigger Mandatory/ Configurable ACR [Start] First Session
Start Response from any GGSN Mandatory ACR [Interim] Registration or
Deregistration Request received from any GGSN Configurable Deregistration
Response received from any GGSN Configurable Expiration of AVP [Acct-Interim-
Interval] Configurable ACR [Stop] First Session Stop Response from any GGSN
Mandatory
* * *
Table 5.2.1.3: Accounting Request messages for content provider charging for
EPS
* * *
Diameter message Trigger Mandatory/ Configurable ACR [Start] First Session
Start Response from any MBMS GW. Mandatory ACR [Interim] Deregistration
Response received from any MBMS GW. Configurable Expiration of AVP [Acct-
Interim-Interval] Configurable ACR [Stop] First Session Stop Response from any
MBMS GW. Mandatory
* * *
### 5.2.2 Rf message flows
#### 5.2.2.1 Broadcast Service
##### 5.2.2.1.1 User service charging
A MBMS user service that is delivered using a broadcast bearer may be Event
charged or Session charged. As there is no 3GPP specified signalling for a UE
to activate or deactivate the broadcast service, it is MBMS user service
dependent (e.g. key management) when the Accounting Request is triggered. The
Event based and Session based offline charging flows are as defined in 3GPP TS
32.299 [50].
##### 5.2.2.1.2 Session Start for GPRS
Where charging for the content provider is applied for GPRS, the following
procedure applies as shown in figure 5.2.2.1.2.
Figure 5.2.2.1.2: Rf interaction during Broadcast Session Start Procedure for
a broadcast bearer
> 1) The BM-SC performs the MBMS Session Start procedure as described in 3GPP
> TS 23.246 [200].
>
> 2a) On receiving the first MBMS Session Start Response from any GGSN, the
> BM-SC sends an Accounting Request.
>
> 2b) The remainder of the MBMS Session Start procedure may occur in parallel
> with the Accounting Request procedure in 2a.
The full details of the MBMS Session Start procedure for the broadcast bearer
are described in 3GPP TS 23.246 [200].
##### 5.2.2.1.2A Session Start for EPS
The following procedure in figure 5.2.2.1.2A shows the charging interaction
for EPS during the MBMS Session Start procedure for a broadcast bearer.
Figure 5.2.2.1.2A: Rf interaction during Broadcast Session Start Procedure for
a broadcast bearer
> 1-2) The BM-SC performs the MBMS Session Start procedure as described in TS
> 23.246 [200].
>
> 3-4) On receiving the first MBMS Session Start Response from any MBMS GW,
> the BM-SC sends an Accounting Request.
>
> 5-6) The remainder of the MBMS Session Start procedure may occur in parallel
> with the Accounting Request procedure in 3-4).
The full details of the MBMS Session Start procedure for the broadcast bearer
are described in TS 23.246 [200].
##### 5.2.2.1.2B Void
##### 5.2.2.1.3 Session Stop for GPRS
The following procedure in figure 5.2.2.1.3 shows the charging interaction for
GPRS during the MBMS Session Stop procedure for a broadcast bearer.
Figure 5.2.2.1.3: Rf interaction during MBMS Session Stop procedure for a
broadcast bearer
> 1) The BM-SC performs the MBMS Session Stop procedure as described in 3GPP
> TS 23.246 [200].
>
> 2a) On receiving a Session Stop Response from any GGSN, the BM-SC sends a
> Accounting Request.
>
> 2b) The remainder of the MBMS Session Stop procedure occurs in parallel with
> the Accounting Request procedure in 2a.
The full details of the MBMS Session Stop procedure for the broadcast bearer
are described in 3GPP TS 23.246 [200].
##### 5.2.2.1.3A Session Stop for E-UTRAN
The following procedure in figure 5.2.2.1.3A shows the charging interaction
for EPS during the MBMS Session Stop procedure for a broadcast bearer.
Figure 5.2.2.1.3A: Rf interaction during MBMS Session Stop procedure for a
broadcast bearer
> 1-2) The BM-SC performs the MBMS Session Stop procedure as described in TS
> 23.246 [200].
>
> 3-4) On receiving the first MBMS Session Stop Response from any MBMS GW, the
> BM-SC sends an Accounting Request.
>
> 5-6) The remainder of the MBMS Session Stop procedure may occur in parallel
> with the Accounting Request procedure in 3-4).
The full details of the MBMS Session Stop procedure for the broadcast bearer
are described in TS 23.246 [200].
##### 5.2.2.1.3B Void
##### 5.2.2.1.4 BM-SC initiated Registration and De-Registration
BM-SC initiated Registration and De-Registration are handled through O&M
towards the GGSNs (and subsequent nodes) and therefore Rf interactions
(Accounting Request (Start) and Accounting Request (Stop) respectively) may be
triggered when the Registration and De-Registration is triggered through O&M.
These Rf interactions should only occur for sessions that have already
started.
##### 5.2.2.1.5 Session Update for EPS with E-UTRAN and UTRAN
The following procedure in figure 5.2.2.1.5 shows the charging interaction for
EPS during the MBMS Session Update procedure for a broadcast bearer
Figure 5.2.2.1.5: Rf interaction during Broadcast Session Update Procedure for
a broadcast bearer
1-2) The BM-SC performs the MBMS Session Update procedure as described in TS
23.246 [200].
3-4) On receiving the first MBMS Session Update Response from any MBMS GW, the
BM-SC sends an Accounting Request.
5-6) The remainder of the MBMS Session Update procedure may occur in parallel
with the Accounting Request procedure in 3-4).
The full details of the MBMS Session Update procedure for the broadcast bearer
are described in TS 23.246 [200].
#### 5.2.2.2 Multicast Service
##### 5.2.2.2.1 Session Start
The following procedure in figure 5.2.2.2.1 shows the charging interaction
during the MBMS Session Start procedure for a multicast bearer.
Figure 5.2.2.2.1: Rf interaction during MBMS Session Start procedure for a
multicast bearer
> 1) The BM-SC performs the MBMS Session Start procedure as described in 3GPP
> TS 23.246 [200].
>
> 2a) On receiving the first Session Start Response from any GGSN, the BM-SC
> sends an Accounting Request. The accounting request may be for subscriber
> and/or content provider charging. For subscriber charging, the Accounting
> Request shall be \"Interim\". For content provider charging, the Accounting
> Request shall be \"Start\". It shall be possible to send one Accounting
> Request message for multiple subscribers of the same multicast service, but
> the procedure in the BM-SC to group subscribers is implementation dependent.
>
> 2b) The remainder of the MBMS Session Start procedure occurs in parallel
> with the Accounting Request procedure in 2a.
The full details of the MBMS Session Start procedure for the multicast bearer
are described in 3GPP TS 23.246 [200].
##### 5.2.2.2.2 Session Stop
The following procedure in figure 5.2.2.2.2 shows the charging interaction
during the MBMS Session Stop procedure for a multicast bearer.
Figure 5.2.2.2.2: Rf interaction during MBMS Session Stop procedure for a
multicast bearer
> 1) The BM-SC performs the MBMS Session Stop procedure as described in 3GPP
> TS 23.246 [200].
>
> 2a) On receiving the first Session Stop Response from any GGSN, the BM-SC
> sends a Accounting Request.\ For subscriber charging, the Accounting Request
> shall be \"Interim\" and it shall be possible to send one Accounting Request
> message for multiple or all subscribers of the same multicast service, that
> are still active, and is implementation and service dependent.\ For content
> provider charging, the Accounting Request shall be \"Stop\".
>
> 2b) The remainder of the MBMS Session Stop procedure occurs in parallel with
> the Accounting Request procedure in 2a.
The full details of the Session Stop procedure for the multicast bearer are
described in 3GPP TS 23.246 [200].
##### 5.2.2.2.3 BM-SC initiated MBMS De-registration
The following procedure in figure 5.2.2.2.3 shows the charging interaction
during the BM-SC initiated MBMS De-registration procedure for a multicast
bearer for an already started session.
Figure 5.2.2.2.3: Rf interaction during BM-SC initiated MBMS Deregistration
procedure\ for a multicast bearer
> 1) The BM-SC performs the MBMS Deregistration procedure as described in 3GPP
> TS 23.246 [200].\ The BM-SC sends a De-Registration Request message to all
> GGSNs contained in the \"list of downstream nodes\" parameter of the
> corresponding MBMS Bearer Context to indicate the session is terminated.
>
> 2a) On receiving an MBMS Deregistration Response from the GGSN, the BM-SC
> sends a Accounting Request \"Stop\".
>
> 2b) The remainder of the MBMS Deregistration procedure occurs in parallel
> with the Accounting Request procedure in 2a.
The full details of the MBMS Deregistration procedure for the multicast bearer
are described in 3GPP TS 23.246 [200].
##### 5.2.2.2.4 UE Activation
The following procedure in figure 5.2.2.2.4 should apply to subscriber\'s that
activate the multicast service.
Figure 5.2.2.2.4: Rf interaction during MBMS Multicast Service Activation
procedure\ for a multicast bearer
Full details of the activation procedure are described in the MBMS Multicast
Service Activation procedure in 3GPP TS 23.246 [200].
##### 5.2.2.2.5 UE Deactivation
The following procedure in figure 5.2.2.2.5 should only apply to subscriber\'s
that deactivate the multi-cast service before the session has stopped, i.e.
before the MBMS Session Stop procedure is invoked.
Figure 5.2.2.2.5: Rf interaction during MBMS Multicast Service Deactivation
procedure\ for a multicast bearer
Full details of the deactivation procedure are described in the MBMS Multicast
Service Deactivation procedure in 3GPP TS 23.246 [200].
### 5.2.3 CDR generation
#### 5.2.3.1 CDRs related to MBMS subscribers
##### 5.2.3.1.1 Triggers for S-BMSC-CDR charging information collection
A S-BMSC-CDR is used to collect charging information related to the MBMS
Bearer Service information for a UE/MS in the BM-SC. A CDR is generated for
each MBMS bearer service used and for each subscriber using the MBMS Bearer
Service.
A S-BMSC-CDR shall be opened at UE activation as triggered by an ACR (Start).
The volume for the MBMS bearer context is counted in downlink direction.
The subsequent clauses identify in detail the conditions for adding
information to, and closing the BMSC-CDR for generation towards the CGF.
##### 5.2.3.1.2 Triggers for S-BMSC-CDR Charging Information Addition
A new container shall be added to the S-BMSC-CDR on encountering some trigger
conditions. Table 5.2.3.1.2 identifies which conditions are supported to
permit addition of a new container to the S-BMSC-CDR. The start time of the
new container shall indicate the time, whichever is later, at which the first
Session Start Response was received, MBMS UE context activation, or the last
partial CDR was closed.
Table 5.2.3.1.2: Triggers for S-BMSC-CDR addition
+----------------------------------+----------------------------------+ | Closure Conditions | Description/Behaviour | +----------------------------------+----------------------------------+ | Tariff Time Change | On reaching the Tariff Time | | | Change a set of \"List of | | | Traffic Data Volumes\" | | | containers, i.e. all active | | | traffic data flow containers, | | | shall be added to the CDR. | +----------------------------------+----------------------------------+ | Session Start | A Traffic Data Volume container | | | may be added when an MBMS | | | Session Start is performed | +----------------------------------+----------------------------------+ | Session Stop | A Traffic Data Volume container | | | may be added when an MBMS | | | Session Stop is performed. | +----------------------------------+----------------------------------+ | MBMS UE context modification | A Traffic Data Volume container | | | may be added when an MBMS UE | | | context modification is received | | | by the BM-SC. See note 1. | +----------------------------------+----------------------------------+ | CDR Closure | All active \"List of Traffic | | | Data Volumes\" containers shall | | | be added to the eG-CDR. | +----------------------------------+----------------------------------+ | NOTE 1: One trigger for | | | modification of MBMS UE context | | | is as a result of inter-system | | | (RAT) change and there is no | | | reliable mechanism to report the | | | change at the actual time of | | | change. This is due to the UE | | | remaining in IDLE mode from the | | | core network perspective. | | | | | | NOTE 2: MBMS charging is based | | | on the volume of downlink data. | | | Therefore the "List of Traffic | | | Data Volumes" shall not count | | | data volumes in uplink | | | direction. | | +----------------------------------+----------------------------------+
NOTE: One trigger for modification of MBMS UE context is as a result of inter-
system (RAT) change and there is no reliable mechanism to report the change at
the actual time of change. This is due to the UE remaining in IDLE mode from
the core network perspective.
##### 5.2.3.1.3 Triggers for S-BMSC-CDR closure
The S-BMSC-CDR shall be closed on encountering some trigger conditions. Table
5.2.3.1.3 identifies which conditions are supported to permit closure of the
S-BMSC-CDR.
Table 5.2.3.1.3: Triggers for S-BMSC-CDR closure
+-----------------------+---------------------------------------------+ | Closure Conditions | Description/Behaviour | +-----------------------+---------------------------------------------+ | Service Deactivation | Deactivation of the MBMS service in the | | | BM-SC shall result in the CDR being closed. | | | The trigger condition covers: | | | | | | - UE initiated deactivation; | | | | | | - termination of the MBMS User Service | | | | | | - any abnormal release. | +-----------------------+---------------------------------------------+ | ACR (Stop) | On reception of ACR (Stop), a CDR is | | | closed. | +-----------------------+---------------------------------------------+ | Partial Record Reason | O&M reasons permit the closure of the CDR | | | for internal reasons. The trigger condition | | | covers: | | | | | | - data volume limit; | | | | | | - time (duration) limit; | | | | | | - maximum number of charging condition | | | changes; | | | | | | - management intervention. | +-----------------------+---------------------------------------------+
The Partial Record generation trigger thresholds are those associated with the
Charging Characteristics. The Partial Record generation trigger thresholds are
configuration parameters defined per charging characteristics profile by the
operator through O&M means.
#### 5.2.3.2 CDRs related to content provider
##### 5.2.3.2.1 Triggers for BMSC-CDR charging information collection
A C-BMSC-CDR is used to collect charging information related to the MBMS
Bearer Service information for a content provider to the BM-SC. A C-BMSC-CDR
is generated for each MBMS Bearer Service.
A C-BMSC-CDR shall be opened at MBMS Session Start as triggered by an ACR
(Start). The volume for the MBMS bearer context is counted in downlink
direction. Not all of the charging information to be collected is static, and
may be dependent on dynamic (de-)registration of packet-switched nodes to the
MBMS bearer context.
The subsequent clauses identify in detail the conditions for adding
information to, and closing the C-BMSC-CDR for passing towards the CGF.
##### 5.2.3.2.2 Triggers for C-BMSC-CDR Charging Information Addition
A new container shall be added to the C-BMSC-CDR on encountering some trigger
conditions. Table 5.2.3.2.2 identifies which conditions are supported to
permit addition of a new container to the C-BMSC-CDR.
Table 5.2.3.2.2: Triggers for C-BMSC-CDR addition
* * *
Closure Conditions Description/Behaviour Tariff Time Change On reaching the
Tariff Time Change a set of \"List of Traffic Data Volumes\" containers, i.e.
all active service data flow containers, shall be added to the CDR. CDR
Closure All active \"List of Traffic Data Volumes\" containers shall be added
to the eG-CDR. NOTE: MBMS charging is based on the volume of downlink data.
Therefore the "List of Traffic Data Volumes" shall not count data volumes in
uplink direction.
* * *
##### 5.2.3.2.3 Triggers for C-BMSC-CDR closure
The C-BMSC-CDR shall be closed on encountering some trigger conditions. Table
5.2.3.2.3 identifies which conditions are supported to permit closure of the
C-BMSC-CDR.
Table 5.2.3.2.3: Triggers for C-BMSC-CDR closure
+-----------------------+---------------------------------------------+ | Closure Conditions | Description/Behaviour | +-----------------------+---------------------------------------------+ | Service Deactivation | Deactivation of the MBMS service in the | | | BM-SC shall result in the CDR being closed. | | | The trigger condition covers: | | | | | | - MBMS Session Stop; | | | | | | - termination of the MBMS User Service | | | | | | - any abnormal release. | +-----------------------+---------------------------------------------+ | ACR (Stop) | On reception of an ACR (Stop), the CDR | | | shall be closed. | +-----------------------+---------------------------------------------+ | Partial Record Reason | O&M reasons permit the closure of the CDR | | | for internal reasons. The trigger condition | | | covers: | | | | | | - data volume limit; | | | | | | - time (duration) limit; | | | | | | - change in list of downstream nodes; | | | | | | - management intervention; | | | | | | - MBMS service area; | | | | | | - access indicator. | +-----------------------+---------------------------------------------+
The Partial Record generation trigger thresholds are configuration parameters
defined per charging characteristics profile by the operator through O&M
means.
### 5.2.4 Ga record transfer flows
For further details on the Ga protocol application refer to 3GPP TS 32.295
[54].
### 5.2.5 B~mb~ CDR file transfer
The CGF transfers the CDR files to the BD as described in 3GPP TS 32.297 [52].
For further details on the Bmb protocol application refer to 3GPP TS 32.297
[52].
## 5.3 MBMS online charging scenarios
### 5.3.1 Basic principles
MBMS online charging uses the credit control application as specified in 3GPP
TS 32.299 [50] and the present document.
Online charging of content providers is not supported in this release of the
present document.
The type of online interaction used is dependent on the user service type,
bearer type and whether delivery notification is required. Table 5.3.1 shows
this dependency
Table 5.3.1: Online interaction dependency on MBMS service parameters
* * *
User Service Type Bearer Service Type Delivery Notification Online Interaction
Key Management N/A N/A IEC Streaming Broadcast N/A Operator Configurable
Streaming Multicast N/A SCUR Download Broadcast Required Operator Configurable
Download Multicast Required Operator Configurable Download Broadcast Not
required Operator Configurable Download Multicast Not required Operator
Configurable NOTE: Operator configurable options imply that IEC, SCUR and ECUR
should be supported
* * *
It is not possible to perform charging transactions in a load efficient manner
as in offline charging (see clause 5.2). Therefore, one online charging
interaction is necessary for each user.
### 5.3.2 Ro message flows
#### 5.3.2.1 Broadcast Service
##### 5.3.2.1.1 User service charging
A MBMS user service that is delivered using a broadcast bearer may be Event
charged or Session charged. As there is no 3GPP specified signalling for a UE
to activate or deactivate the broadcast service, it is MBMS user service
dependent (e.g. key management) when the Accounting Request is triggered. The
Event based or Session based online charging flows are as defined in 3GPP TS
32.299 [50].
##### 5.3.2.1.2 Session Start
As online charging does not apply to content provider, this scenario is not
applicable.
##### 5.3.2.1.3 Session Stop
As online charging does not apply to content provider, this scenario is not
applicable.
##### 5.3.2.1.4 BM-SC initiated Registration and De-Registration
As online charging does not apply to content provider, this scenario is not
applicable.
#### 5.3.2.2 Multicast Service
##### 5.3.2.2.1 Session Start
The following procedure in figure 5.3.2.2.1 shows the charging interaction
during the MBMS Session Start procedure for a multicast bearer.
Figure 5.3.2.2.1: Ro interaction during MBMS Session Start procedure for a
multicast bearer
> 1) The BM-SC performs the MBMS Session Start procedure as described in 3GPP
> TS 23.246 [200]
>
> 2a) On receiving the first Session Start Response from any GGSN, the BM-SC
> sends a Credit Control Request for each subscriber that has joined the
> service.
>
> 2b) The remainder of the MBMS Session Start procedure occurs in parallel
> with the Credit Control Request procedure in 2a.
The full details of the MBMS Session Start procedure for the multicast bearer
are described in 3GPP TS 23.246 [200].
##### 5.3.2.2.2 Session Stop
The following procedure in figure 5.3.2.2.2 shows the charging interaction
during the MBMS Session Stop procedure for a multicast bearer.
Figure 5.3.2.2.2: Ro interaction during MBMS Session Stop procedure for a
multicast bearer
> 1) The BM-SC performs the MBMS Session Stop procedure as described in 3GPP
> TS 23.246 [200]
>
> 2a) On receiving the first Session Stop Response from any GGSN, the BM-SC
> sends a Credit Control Request for each subscriber that is still joined to
> the service.
>
> 2b) The remainder of the MBMS Session Stop procedure occurs in parallel with
> the Credit Control Request procedure in 2a.
The full details of the Session Stop procedure for the multicast bearer are
described in 3GPP TS 23.246 [200].
##### 5.3.2.2.3 BM-SC initiated MBMS De-registration
The procedure in figure 5.3.2.2.3 shows the charging interaction during the
BM-SC initiated MBMS De-registration procedure for a multicast bearer for an
already started session.
Figure 5.3.2.2.3: Ro interaction during BM-SC initiated MBMS Deregistration
procedure\ for a multicast bearer
> 1) The BM-SC performs the MBMS Deregistration procedure as described in 3GPP
> TS 23.246 [200].\ The BM-SC sends a De-Registration Request message to all
> GGSNs contained in the \"list of downstream nodes\" parameter of the
> corresponding MBMS Bearer Context to indicate the session is terminated.
>
> 2a) On receiving an MBMS Deregistration Response from the GGSN, the BM-SC
> sends a Credit Control Request \"Final\" for each subscriber that has joined
> the service.
>
> 2b) The remainder of the MBMS Deregistration procedure occurs in parallel
> with the Accounting Request procedure in 2a.
The full details of the MBMS Deregistration procedure for the multicast bearer
are described in 3GPP TS 23.246 [200].
##### 5.3.2.2.4 UE Activation
The following procedure in figure 5.3.2.2.4 applies to subscribers that
activate the multicast service.
Figure 5.3.2.2.4: Ro interaction during MBMS Multicast Service Activation
procedure\ for a multicast bearer
Full details of the activation procedure are described in the MBMS Multicast
Service Activation procedure in 3GPP TS 23.246 [200].
##### 5.3.2.2.5 UE Deactivation
The following procedure in figure 5.3.2.2.5 applies to subscribers that
deregisters from the multi-cast service before the session has stopped, i.e.
before the MBMS Session Stop procedure is invoked. The following procedure is
optionally applied, if the deactivation occurs after the MBMS Session Stop
procedure, depending on the charging model applied.
Figure 5.3.2.2.5: Ro interaction during MBMS Multicast Service Deactivation
procedure\ for a multicast bearer
Full details of the deactivation procedure are described in the MBMS Multicast
Service Deactivation procedure in 3GPP TS 23.246 [200].
### 5.3.3 Credit Control related
#### 5.3.3.1 Triggers for stopping for an MBMS service Credit Control session
In addition to message flows in clause 5.3.2, a CCR [Terminate] is sent to OCS
when:
a) Session termination is indicated by the OCS (e.g. Credit Limit Reached);
b) Abort-Session-Request is received from the OCS, this also results in the
deactivation of the MBMS UE Context (from step 4 of clause 5.3.2.2.5), if one
exists for the session being terminated.
#### 5.3.3.2 Triggers for providing interim information for a MBMS service
Credit Control session
In addition to the message flows in clause 5.3.2, a CCR [Update] is sent to
OCS when:
a) Granted quota runs out;
b) Validity time for granted quota expires;
c) Update is requested by the OCS;
d) Change of charging conditions occur and according re-authorisation trigger
re-authorisation is needed;
e) Management intervention.
# 6 Definition of charging information
## 6.1 Data description for MBMS offline charging
### 6.1.1 Rf message contents
#### 6.1.1.1 Summary of Offline Charging Message Formats
The BM-SC generates accounting information that can be transferred to the CDF.
For this purpose, the MBMS Accounting application employs the _Accounting-
Request_ (ACR) and _Accounting-Answer_ (ACA) messages from the Diameter base
protocol. The request can be of type start, stop, interim and event. The
accounting request message includes all charging information and the answer is
just an acknowledgement of the request message. Detailed information about the
Diameter offline charging application is described in 3GPP TS 32.299 [50].
The following clauses describe the different fields used in the accounting
messages.
Table 6.1.1.1 describes the use of these messages for offline charging.
Table 6.1.1.1: Offline Charging Messages Reference Table
* * *
Command-Name Source Destination Abbreviation Accounting-Request BM-SC CDF ACR
Accounting-Answer CDF BM-SC ACA
* * *
#### 6.1.1.2 Structure for the Accounting Message Formats
##### 6.1.1.2.1 Accounting-Request Message
Table 6.1.1.2.1 illustrates the basic structure of a Diameter ACR message as
used for MBMS offline charging.
Table 6.1.1.2.1: Accounting-Request (ACR) Message Contents for Offline
Charging
+----------------------------+----------+----------------------------+ | Field | Category | Description | +----------------------------+----------+----------------------------+ | Session-Id | M | Used as described in TS | | | | 32.299 [50]. | +----------------------------+----------+----------------------------+ | Origin-Host | M | Used as described in TS | | | | 32.299 [50]. | +----------------------------+----------+----------------------------+ | Origin-Realm | M | Used as described in TS | | | | 32.299 [50]. | +----------------------------+----------+----------------------------+ | Destination-Realm | M | Used as described in TS | | | | 32.299 [50]. | +----------------------------+----------+----------------------------+ | Accounting-Record-Type | M | Used as described in TS | | | | 32.299 [50]. | +----------------------------+----------+----------------------------+ | Accounting-Record-Number | M | Used as described in TS | | | | 32.299 [50]. | +----------------------------+----------+----------------------------+ | Acct-Application-Id | M | Used as described in TS | | | | 32.299 [50]. | +----------------------------+----------+----------------------------+ | User-Name | OC | Used as described in TS | | | | 32.299 [50]. | +----------------------------+----------+----------------------------+ | Destination-Host | OC | Used as described in TS | | | | 32.299 [50]. | +----------------------------+----------+----------------------------+ | Acct-Session-Id | - | Not used in 3GPP. | +----------------------------+----------+----------------------------+ | Acct-Interim-Interval | OC | Used as described in TS | | | | 32.299 [50]. | +----------------------------+----------+----------------------------+ | Origin-State-Id | OC | Used as described in TS | | | | 32.299 [50]. | +----------------------------+----------+----------------------------+ | Event-Timestamp | OC | Used as described in TS | | | | 32.299 [50]. | +----------------------------+----------+----------------------------+ | Proxy-Info | - | Not used in 3GPP. | +----------------------------+----------+----------------------------+ | Route-Record | - | Not used in 3GPP. | +----------------------------+----------+----------------------------+ | Service-Context-Id | OM | Used as described in TS | | | | 32.299 [50] | +----------------------------+----------+----------------------------+ | Service-Information | OM | Described in TS 32.299 | | | | [50] | +----------------------------+----------+----------------------------+ | Subscription Id | OM | Used as described in TS | | | | 32.299 [50]. | | | | | | | | As a minimum the IMSI and | | | | the MSISDN have to be | | | | included for subscriber | | | | charging. | +----------------------------+----------+----------------------------+ | PS-Information | OC | Described in TS 32.251 | | | | [11] | +----------------------------+----------+----------------------------+ | IMS-Information | OC | Described in TS 32.260 | | | | [20] | +----------------------------+----------+----------------------------+ | MBMS-Information | OM | Described in clause 6.3 | +----------------------------+----------+----------------------------+ | NOTE: For structured | | | | fields only the \"field\" | | | | is listed in this table.\ | | | | Detailed description of | | | | the fields is provided | | | | according to | | | | \"Description\" column. | | | +----------------------------+----------+----------------------------+
##### 6.1.1.2.2 Accounting-Answer Message
Table 6.1.1.2.2 illustrates the basic structure of a Diameter ACA message as
used for MBMS charging. This message is always used by the CDF as specified
below, regardless of the BM-SC it is received from and the ACR record type
that is being replied to.
Table 6.1.1.2.2: Accounting-Answer (ACA) Message Contents for Offline Charging
* * *
Field Category Description Session-Id M Used as described in TS 32.299 [50].
Result-Code M Used as described in TS 32.299 [50]. Origin-Host M Used as
described in TS 32.299 [50]. Origin-Realm M Used as described in TS 32.299
[50]. Accounting-Record-Type M Used as described in TS 32.299 [50].
Accounting-Record-Number M Used as described in TS 32.299 [50]. Acct-
Application-Id M Used as described in TS 32.299 [50]. User-Name OC Used as
described in TS 32.299 [50]. Acct-Session-Id - Not used in 3GPP. Acct-Interim-
Interval OC Used as described in TS 32.299 [50]. Origin-State-Id OC Used as
described in TS 32.299 [50]. Event-Timestamp OC Used as described in TS 32.299
[50]. Proxy-Info - Not used in 3GPP. Extension - Not used in 3GPP.
* * *
### 6.1.2 Ga message contents
### 6.1.3 CDR description on the B~mb~ interface
#### 6.1.3.1 CDR description for subscriber charging
Table 6.1.3.1: Subscriber BM-SC data (S-BMSC-CDR)
+----------------------------+----------+----------------------------+ | Field | Category | Description | +----------------------------+----------+----------------------------+ | Record Type | M | S-BM-SC record. | +----------------------------+----------+----------------------------+ | Served IMSI | M | IMSI of the served party. | | | | This may be obtained from | | | | the Subscription Id field, | | | | identified by a type of | | | | IMSI, of the Accounting | | | | Request message. | +----------------------------+----------+----------------------------+ | GGSN Address used | C | The control plane IP | | | | address of the GGSN used | | | | for MBMS UE context | | | | activation. Present only | | | | for multicast. | +----------------------------+----------+----------------------------+ | Access Point Name Network | OC | The logical name of the | | Identifier | | connected access point to | | | | the external packet data | | | | network (network | | | | identifier part of APN). | | | | Present only for multicast | +----------------------------+----------+----------------------------+ | Served PDP Address | OM | Represents the IP | | | | Multicast address | | | | associated with the MBMS | | | | bearer context. | +----------------------------+----------+----------------------------+ | List of Traffic Data | OM | A list of changes in | | Volumes | | charging conditions | | | | (including MBMS UE context | | | | modifications) for this | | | | MBMS bearer service, each | | | | change is time stamped. | | | | | | | | Charging conditions are | | | | used to categorize traffic | | | | volumes, such as per | | | | tariff period. Initial and | | | | subsequently changed QoS | | | | and corresponding data | | | | volumes are also listed. | | | | See note below. | +----------------------------+----------+----------------------------+ | Record Opening Time | M | Time stamp when UE | | | | activation occurs or | | | | record opening time on | | | | subsequent partial | | | | records. | +----------------------------+----------+----------------------------+ | Duration | M | Duration of this record. | +----------------------------+----------+----------------------------+ | Cause for Record Closing | M | The reason for the release | | | | of record. | +----------------------------+----------+----------------------------+ | Diagnostics | OM | A more detailed reason for | | | | the release of the | | | | connection. | +----------------------------+----------+----------------------------+ | Record Sequence Number | C | Partial record sequence | | | | number, only present in | | | | case of partial records. | +----------------------------+----------+----------------------------+ | Node ID | OM | Name of the recording | | | | entity. | +----------------------------+----------+----------------------------+ | Record Extensions | OC | A set of network | | | | operator/manufacturer | | | | specific extensions to the | | | | record. Conditioned upon | | | | the existence of an | | | | extension. | +----------------------------+----------+----------------------------+ | Local Record Sequence | OM | Consecutive record number | | Number | | created by this node. | | | | | | | | The number is allocated | | | | sequentially including all | | | | CDR types. | +----------------------------+----------+----------------------------+ | Served MSISDN | OM | The primary MSISDN of the | | | | subscriber. This may be | | | | obtained from the | | | | Subscription Id field, | | | | identified by a type of | | | | E.164, of the Accounting | | | | Request message. | +----------------------------+----------+----------------------------+ | Bearer Service Description | O~C~ | Holds the Session portion | | | | of the SDP data exchanged | | | | between the BMSC and UE | | | | during the notification | | | | phased | +----------------------------+----------+----------------------------+ | MBMS-Information | OM | A set of fields hold the | | | | MBMS specific parameters. | | | | | | | | The details are defined in | | | | clause 6.3.1.2. | +----------------------------+----------+----------------------------+ | Service Context Id | O~M~ | Holds the context | | | | information to which the | | | | CDR belongs. | +----------------------------+----------+----------------------------+ | NOTE: MBMS charging is | | | | based on the volume of | | | | downlink data. Therefore | | | | the "List of Traffic Data | | | | Volumes" shall not count | | | | data volumes in uplink | | | | direction. | | | +----------------------------+----------+----------------------------+
#### 6.1.3.2 CDR description for content provider charging
Table 6.1.3.2: Content Provider BM-SC data (C-BMSC-CDR)
+----------------------------+----------+----------------------------+ | Field | Category | Description | +----------------------------+----------+----------------------------+ | Record Type | M | C-BM-SC record. | +----------------------------+----------+----------------------------+ | Content Provider Id | M | Identity of the content | | | | provider. This may be | | | | obtained from the | | | | Subscription ID field of | | | | the Accounting Request | | | | message. | +----------------------------+----------+----------------------------+ | List of Downstream Nodes | M | A list of the control | | | | plane IP address of the | | | | GGSN/MBMS GWs used by the | | | | MBMS Bearer Service. | +----------------------------+----------+----------------------------+ | Access Point Name Network | OC | The logical name of the | | Identifier | | connected access point to | | | | the external packet data | | | | network (network | | | | identifier part of APN). | | | | Present only for multicast | +----------------------------+----------+----------------------------+ | PDP/PDN Type | OM | This field indicates PDN | | | | type (i.e IPv4 or IPv6). | +----------------------------+----------+----------------------------+ | Served PDP/PDN Address | OM | Represents the IP | | | | Multicast address used to | | | | transmit the MBMS user | | | | service, i.e. IPv4 or | | | | IPv6, if available. | +----------------------------+----------+----------------------------+ | List of Traffic Data | OM | A list of changes in | | Volumes | | charging conditions | | | | (including MBMS UE context | | | | modifications) for this | | | | MBMS bearer service, each | | | | change is time stamped. | | | | | | | | Charging conditions are | | | | used to categorize traffic | | | | volumes, such as per | | | | tariff period. Initial and | | | | subsequently changed QoS | | | | and corresponding data | | | | volumes are also listed. | | | | See note below. | +----------------------------+----------+----------------------------+ | Record Opening Time | M | Time stamp when MBMS | | | | Bearer Context is | | | | activated (i.e. MBMS | | | | Session Start) or record | | | | opening time on subsequent | | | | partial records. | +----------------------------+----------+----------------------------+ | Duration | M | Duration of this record. | +----------------------------+----------+----------------------------+ | Cause for Record Closing | M | The reason for the release | | | | of record. | +----------------------------+----------+----------------------------+ | Diagnostics | OM | A more detailed reason for | | | | the release of the | | | | connection. | +----------------------------+----------+----------------------------+ | Record Sequence Number | C | Partial record sequence | | | | number, only present in | | | | case of partial records. | +----------------------------+----------+----------------------------+ | Node ID | OM | Name of the recording | | | | entity. | +----------------------------+----------+----------------------------+ | Record Extensions | OC | A set of network | | | | operator/manufacturer | | | | specific extensions to the | | | | record. Conditioned upon | | | | the existence of an | | | | extension. | +----------------------------+----------+----------------------------+ | Local Record Sequence | OM | Consecutive record number | | Number | | created by this node. | | | | | | | | The number is allocated | | | | sequentially including all | | | | CDR types. | +----------------------------+----------+----------------------------+ | Recipient Address List | OC | The address(es) of the | | | | recipients registered to | | | | receive the bearer | | | | service. | +----------------------------+----------+----------------------------+ | Bearer Service Description | O~C~ | Holds the Session portion | | | | of the SDP data exchanged | | | | between the BMSC and UE | | | | during the notification | | | | phased, see | | | | IMS-Information in table | | | | 6.3.1.1. | +----------------------------+----------+----------------------------+ | MBMS-Information | OM | A set of fields hold the | | | | MBMS specific parameters. | | | | | | | | The details are defined in | | | | clause 6.3.1.2. | +----------------------------+----------+----------------------------+ | Service Context Id | O~M~ | Holds the context | | | | information to which the | | | | CDR belongs. | +----------------------------+----------+----------------------------+ | NOTE: MBMS charging is | | | | based on the volume of | | | | downlink data. Therefore | | | | the "List of Traffic Data | | | | Volumes" shall not count | | | | data volumes in uplink | | | | direction. | | | +----------------------------+----------+----------------------------+
## 6.2 Data description for MBMS online charging
### 6.2.1 Ro message contents
#### 6.2.1.1 Summary of Message Formats
MBMS Online Charging use Credit-Control-Request (CCR) and Credit-Control-
Answer (CCA) messages defined in 3GPP TS 32.299 [50]. The CCR triggers the
rating of the MBMS service and reserves units on the user\'s account. The CCA
is a response including any reserved units or an error code if the user is out
of credit. Detailed information about the diameter online charging application
is described in 3GPP TS 32.299 [50].
The CCR for the \"intermediate interrogation\" and \"final interrogation\"
reports the actual number of \"units\" that were used, from what was
previously reserved. This determines the actual amount debited from the
subscriber\'s account.
The following clauses describe the different fields used in the credit control
messages.
Table 6.2.1.1 describes the use of these messages for online charging.
Table 6.2.1.1: Online Charging Messages Reference Table
* * *
Command-Name Source Destination Abbreviation Credit-Control-Request BM-SC OCS
CCR Credit-Control-Answer OCS BM-SC CCA
* * *
#### 6.2.1.2 Structure for the Credit Control Message Formats
##### 6.2.1.2.1 Credit-Control-Request Message
Table 6.2.1.2.1 illustrates the basic structure of a Diameter CCR message from
the BM-SC as used for MBMS online charging.
Table 6.2.1.2.1: Credit-Control-Request (CCR) Message Contents
+----------------------------+----------+----------------------------+ | Field | Category | Description | +----------------------------+----------+----------------------------+ | Session-Id | M | Used as described in TS | | | | 32.299 [50]. | +----------------------------+----------+----------------------------+ | Origin-Host | M | Used as described in TS | | | | 32.299 [50]. | +----------------------------+----------+----------------------------+ | Origin-Realm | M | Used as described in TS | | | | 32.299 [50]. | +----------------------------+----------+----------------------------+ | Destination-Realm | M | Used as described in TS | | | | 32.299 [50]. | +----------------------------+----------+----------------------------+ | Auth-Application-Id | M | Used as described in TS | | | | 32.299 [50]. | +----------------------------+----------+----------------------------+ | Service-Context-Id | M | Used as described in TS | | | | 32.299 [50]. | +----------------------------+----------+----------------------------+ | CC-Request-Type | M | Used as described in TS | | | | 32.299 [50]. | +----------------------------+----------+----------------------------+ | CC-Request-Number | M | Used as described in TS | | | | 32.299 [50]. | +----------------------------+----------+----------------------------+ | Destination-Host | OC | Used as described in TS | | | | 32.299 [50]. | +----------------------------+----------+----------------------------+ | User-Name | OC | Used as described in TS | | | | 32.299 [50]. | +----------------------------+----------+----------------------------+ | Origin-State-Id | OC | Used as described in TS | | | | 32.299 [50]. | +----------------------------+----------+----------------------------+ | Event-Timestamp | OC | Used as described in TS | | | | 32.299 [50]. | +----------------------------+----------+----------------------------+ | Subscription-Id | OC | Used as described in TS | | | | 32.299 [50]. | | | | | | | | As a minimum the IMSI and | | | | the MSISDN have to be | | | | included. | +----------------------------+----------+----------------------------+ | Service-Identifier | OC | Used as described in TS | | | | 32.299 [50]. | +----------------------------+----------+----------------------------+ | Termination-Cause | OC | Used as described in TS | | | | 32.299 [50]. | +----------------------------+----------+----------------------------+ | Requested-Service-Unit | - | Not used in MBMS charging. | +----------------------------+----------+----------------------------+ | Requested-Action | OC | Used as described in TS | | | | 32.299 [50]. | +----------------------------+----------+----------------------------+ | M | OM | Used as described in TS | | ultiple-Services-Indicator | | 32.299 [50]. | +----------------------------+----------+----------------------------+ | Multiple-Services-Credit | OC | Used as described in TS | | Control | | 32.299 [50]. | +----------------------------+----------+----------------------------+ | User--Equipment-Info | OC | Used as described in TS | | | | 32.299 [50]. | +----------------------------+----------+----------------------------+ | Service-Information | OM | Defined in TS 32.299 | | | | [50] | +----------------------------+----------+----------------------------+ | PS-Information | OC | Used as described in TS | | | | 32.251 [11] | +----------------------------+----------+----------------------------+ | IMS-Information | Oc | Used as described in TS | | | | 32.260 [20] | +----------------------------+----------+----------------------------+ | MBMS-Information | OM | Described in clause 6.3 | +----------------------------+----------+----------------------------+
##### 6.2.1.2.2 Credit-Control-Answer Message
Table 6.2.1.2.2 illustrates the basic structure of a Diameter CCA message as
used for the BM-SC. This message is always used by the OCS as specified below,
independent of the receiving BM-SC and the CCR request type that is being
replied to.
Table 6.2.1.2.2: Credit-Control-Answer (CCA) Message
* * *
Field Category Description Session-Id M Used as described in TS 32.299 [50].
Result-Code M Used as described in TS 32.299 [50]. Origin-Host M Used as
described in TS 32.299 [50]. Origin-Realm M Used as described in TS 32.299
[50]. Auth-Application-Id M Used as described in TS 32.299 [50]. CC-Request-
Type M Used as described in TS 32.299 [50]. CC-Request-Number M Used as
described in TS 32.299 [50]. CC-Session-Failover OC Used as described in TS
32.299 [50]. Event-Timestamp OC Used as described in TS 32.299 [50]. Granted-
Service-Unit - Not used in MBMS charging. Multiple-Services-Credit-Control OC
Used as described in TS 32.299 [50]. Final-Unit-Indication OC Used as
described in TS 32.299 [50]. Check-Balance-Result - Not used in MBMS charging.
Credit-Control-Failure-Handling OC Used as described in TS 32.299 [50].
Direct-Debiting-Failure-Handling - Not used in MBMS charging. Validity-Time OC
Used as described in TS 32.299 [50]. Redirect-Host OC Used as described in TS
32.299 [50]. Redirect-Host-Usage OC Used as described in TS 32.299 [50].
Redirect-Max-Cache-Time OC Used as described in TS 32.299 [50]. Proxy-Info OC
Used as described in TS 32.299 [50]. Route-Record OC Used as described in TS
32.299 [50]. Failed-AVP OC Used as described in TS 32.299 [50].
* * *
## 6.3 MBMS charging specific parameters
### 6.3.1 Definition of the MBMS charging information
The MBMS-Information parameter used for MBMS charging is provided in the
Service-Information parameter.
#### 6.3.1.1 MBMS charging information assignment for Service-Information
The components that are used for MBMS charging are provided in the Service-
Information as described in table 6.3.1.1.
Table 6.3.1.1: Components of the Service-Information used for MBMS Charging
+----------------------------+----------+----------------------------+ | Field | Category | Description | +----------------------------+----------+----------------------------+ | Service Information | OM | A set of fields hold the | | | | specific parameter as | | | | defined in TS 32.299 | | | | [50]. For MBMS Charging | | | | the PS‑Information and | | | | IMS‑Information are used. | +----------------------------+----------+----------------------------+ | > Subscriber Identifier | O~C~ | This field contains the | | | | identification of the | | | | charged party (e.g. IMSI, | | | | MSISDN, Content Provider | | | | Id). | +----------------------------+----------+----------------------------+ | PS Information | OC | A set of fields hold the | | | | PS specific parameters. | | | | The details are defined in | | | | TS 32.251 [11]. | +----------------------------+----------+----------------------------+ | > Node Id | O~C~ | Used as defined in | | | | TS 32.251 [11]. | +----------------------------+----------+----------------------------+ | PDP/PDN Type | OC | Used as defined in TS | | | | 32.251 [11]. See note. | +----------------------------+----------+----------------------------+ | Served PDP/PDN Address | OC | Used as defined in TS | | | | 32.251 [11]. See note. | +----------------------------+----------+----------------------------+ | GGSN Address | OC | Used as defined in TS | | | | 32.251 [11]. | +----------------------------+----------+----------------------------+ | 3GPP SGSN MCC MNC | O~C~ | Used as defined in TS | | | | 32.251 [11]. | +----------------------------+----------+----------------------------+ | RAT Type | O~C~ | Used as defined in TS | | | | 32.251 [11]. | +----------------------------+----------+----------------------------+ | > Called Station Id | O~C~ | The logical name of the | | | | connected access point to | | | | the external packet data | | | | network (network | | | | identifier part of APN). | | | | Present only for | | | | multicast. | +----------------------------+----------+----------------------------+ | > Traffic Data Volumes | O~C~ | Used as defined in | | | | TS 32.251 [11]. | +----------------------------+----------+----------------------------+ | > Change Condition | O~C~ | This field holds the | | | | reason for sending ACR | | | | from the BM-SC. | +----------------------------+----------+----------------------------+ | > Diagnostics | O~C~ | This field holds a more | | | | detailed reason for the | | | | release of the MBMS | | | | bearer, and complements | | | | the \"Change Condition\" | | | | information. | +----------------------------+----------+----------------------------+ | IMS Information | OC | A set of fields hold the | | | | MBMS bearer service | | | | specific parameters within | | | | the scope of this TS. The | | | | details are defined in TS | | | | 32.260 [20]. | +----------------------------+----------+----------------------------+ | SDP Session Description | OC | Used as defined in TS | | | | 32.260 [20]. | +----------------------------+----------+----------------------------+ | SDP Media Components | OC | Used as defined in TS | | | | 32.260 [20]. | +----------------------------+----------+----------------------------+ | MBMS Information | OM | A set of fields hold the | | | | MBMS specific parameters. | | | | The details are defined in | | | | clause 6.3.1.2. | +----------------------------+----------+----------------------------+ | NOTE: The PDP/PDN Type and | | | | Served PDP/PDN Adress | | | | represent the MBMS Bearer | | | | service, i.e. IP multicast | | | | address. | | | +----------------------------+----------+----------------------------+
#### 6.3.1.2 Definition of the MBMS Information
MBMS specific charging information is provided within the MBMS Information.
The detailed structure of the MBMS Information can be found in table 6.3.1.2.
Table 6.3.1.2: Structure of the MBMS Information
* * *
Field Category Description TMGI OM Used as defined in TS 29.061 [204]. MBMS
Service Type OM Used as defined in TS 29.061 [204]. MBMS User Service Type Oc
This field indicates type of service the MBMS user service that is being
delivered. Only available in the BM-SC. File Repair Supported OC This field
indicates whether the MBMS user service supports point-to-point file repair.
Only available in the BM-SC. Required MBMS Bearer Capabilities OC Used as
defined in TS 29.061 [204]. MBMS 2G 3G Indicator OC Used as defined in TS
29.061 [204]. RAI OC Used as defined in TS 29.061 [204]. Only available in the
BM-SC. MBMS Service Area OC Used as defined in TS 29.061 [204]. MBMS Session
Identity OC Used as defined in TS 29.061 [204]. MBMS GW Address OC This field
holds the IP-address of the MBMS GW that generated the Charging Id when MBMS
GW is stand-alone. CN IP Multicast Distribution Oc Used as defined in TS
29.061 [204]. MBMS Access Indicator Oc Used as defined in TS 29.061 [204].
MBMS Charged Party Oc This field indicates whether the content provider or
receiving subscriber is being charged. Only available in the BM-SC for offline
charging. Recipient Address Oc This field indicates the MSISDN of a recipient
registered to receive the bearer service. This field is repeated for each
recipient.
* * *
### 6.3.2 Formal parameter description
#### 6.3.2.1 MBMS charging information for CDRs
The detailed definitions, abstract syntax and encoding of the MBMS CDR
parameters are specified in TS 32.298 [51].
#### 6.3.2.2 MBMS charging information for charging events
The detailed charging event parameter definitions are specified in 3GPP TS
32.299 [50].
## 6.4 Bindings for MBMS offline charging
This clause aims to describe the mapping between the Diameter messages AVP and
CDR parameters for MBMS offline charging.
Table 6.4.1: Bindings of Accounting AVP to BMSC-CDR parameter
+----------------------+----------------------+----------------------+ | S-/C-BMSC-CDR | Information Element | AVP | | parameter | | | +----------------------+----------------------+----------------------+ | | **Service |** S | | | Information**| ervice-Information** | +----------------------+----------------------+----------------------+ | Served IMSI | Subscriber | Subscription-Id | | | Identifier | | +----------------------+----------------------+----------------------+ | Served MSISDN | Subscriber | Subscription-Id | | | Identifier | | +----------------------+----------------------+----------------------+ | Content Provider Id | Subscriber | Subscription-Id | | | Identifier | | +----------------------+----------------------+----------------------+ | | **PS Information** | **PS-Information** | +----------------------+----------------------+----------------------+ | Node Id | Node Id | Node-Id | +----------------------+----------------------+----------------------+ | PDP/PDN Type | PDP/PDN Type | 3GPP-PDP-Type | +----------------------+----------------------+----------------------+ | Served PDP/PDN | Served PDP/PDN | PDP-Address | | Address | Address | | +----------------------+----------------------+----------------------+ | GGSN Address Used | GGSN Address | GGSN-Address | +----------------------+----------------------+----------------------+ | List of Downstream | GGSN Address | GGSN-Address | | Nodes | | | +----------------------+----------------------+----------------------+ | Access Point Name | Called Station Id | Called-Station-Id | | Network Identifier | | | +----------------------+----------------------+----------------------+ | List of Traffic Data | Traffic Data Volumes | Traffic-Data-Volumes | | Volumes | | | +----------------------+----------------------+----------------------+ | Cause for Record | Change Condition | Change-Condition | | Closing | | | +----------------------+----------------------+----------------------+ | Diagnostics | Diagnostics | Diagnostics | +----------------------+----------------------+----------------------+ | | **IMS Information** | **IMS-Information** | +----------------------+----------------------+----------------------+ | Bearer Service | SDP Session | SDP | | Description | Description | -Session-Description | +----------------------+----------------------+----------------------+ | | SDP Media Components | SDP-Media-Component | +----------------------+----------------------+----------------------+ | **MBMS Information** | **MBMS Information** | **MBMS-Information** | +----------------------+----------------------+----------------------+ | > TMGI | TMGI | TMGI | +----------------------+----------------------+----------------------+ | > MBMS Service Type | MBMS Service Type | MBMS-Service-Type | +----------------------+----------------------+----------------------+ | > File Repair | File Repair | F | | > Supported | Supported | ile-Repair-Supported | +----------------------+----------------------+----------------------+ | > Required MBMS | Required MBMS Bearer | Required-MBMS | | > Bearer | Capabilities | -Bearer-Capabilities | | > Capabilities | | | +----------------------+----------------------+----------------------+ | > MBMS 2G 3G | MBMS 2G 3G Indicator | MBMS-2G-3G-Indicator | | > Indicator | | | +----------------------+----------------------+----------------------+ | > RAI | RAI | RAI | +----------------------+----------------------+----------------------+ | > MBMS Service Area | MBMS Service Area | MBMS-Service-Area | +----------------------+----------------------+----------------------+ | > MBMS Session | MBMS Session | M | | > Identity | Identity | BMS-Session-Identity | +----------------------+----------------------+----------------------+ | > MBMS GW Address | MBMS GW Address | MBMS-GW-Address | +----------------------+----------------------+----------------------+ | > CN IP Multicast | CN IP Multicast | CN-IP-Mu | | > Distribution | Distribution | lticast-Distribution | +----------------------+----------------------+----------------------+ | > MBMS Access | MBMS Access | M | | > Indicator | Indicator | BMS-Access-Indicator | +----------------------+----------------------+----------------------+ | Record Type | MBMS Charged Party | MBMS-Charged-Party | +----------------------+----------------------+----------------------+ | > Recipient Address | Recipient Address | MSISDN | | > List | | | +----------------------+----------------------+----------------------+
NOTE: The whole set of S-/C-BMSC-CDR parameters is described in the TS 32.298
[51]. The following fields are generated at the CDF: Record Opening Time,
Duration, Record Sequence Number, Local Record Sequence Number.
###### ## Annex A (informative): Bibliography
**a) The 3GPP charging specifications**
\- 3GPP TS 32.252: \"Telecommunication management; Charging management;
Wireless Local Area Network (WLAN) charging\".
\- 3GPP TS 32.271: \"Telecommunication management; Charging management;
Location Services (LCS) charging\".
\- 3GPP TS 32.272: \"Telecommunication management; Charging management; Push-
to-talk over Cellular (PoC) charging\".
\- 3GPP TS 32.296: \"Telecommunication management; Charging management; Online
Charging System (OCS): Applications and interfaces\".
\- 3GPP TS 23.125: \"Overall high level functionality and architecture impacts
of flow based charging; Stage 2\".
**b) Common 3GPP specifications**
\- 3GPP TS 22.101: \"Service aspects; Service principles\".
\- 3GPP TS 22.115: \"Service aspects; Charging and billing\".
\- 3GPP TS 23.002: \"Network architecture\".
\- 3GPP TS 23.003: \"Numbering, addressing and identification\".
\- 3GPP TS 27.001: \"General on Terminal Adaptation Functions (TAF) for Mobile
Stations (MS)\".
**c) other Domain and Service specific 3GPP / ETSI specifications**
-
**d) Relevant ITU Recommendations**
\- ITU-T Recommendation D.93: \"Charging and accounting in the international
land mobile telephone service (provided via cellular radio systems)\".
\- ITU-T Recommendation E.164: \"The international public telecommunication
numbering plan\".
\- ITU-T Recommendation Q.767: \"Application of the ISDN user part of CCITT
signalling system No.7 for international ISDN interconnections\".
\- ITU-T Recommendation X.25: \"Interface between Data Terminal Equipment
(DTE) and Data Circuit‑terminating Equipment (DCE) for terminals operating in
the packet mode and connected to public data networks by dedicated circuit\".
\- ITU-T Recommendation X.121: \"International numbering plan for public data
networks\".
**e) Relevant IETF RFCs**
\- IETF RFC 959 (1985): \"File Transfer Protocol\".
\- IETF RFC 3588 (2003): \"Diameter Base Protocol\".
\- IETF RFC 4006: \"Diameter Credit Control Application\".
\- IETF RFC 1350: \"**The TFTP Protocol (Revision 2)\"**.
#