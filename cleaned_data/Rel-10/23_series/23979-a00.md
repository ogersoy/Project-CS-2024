# Foreword
This Technical Report has been produced by the 3rd Generation Partnership
Project (3GPP).
The contents of the present document are subject to continuing work within the
TSG and may change following formal TSG approval. Should the TSG modify the
contents of the present document, it will be re-released by the TSG with an
identifying change of release date and an increase in version number as
follows:
Version x.y.z
where:
x the first digit:
1 presented to TSG for information;
2 presented to TSG for approval;
3 or greater indicates TSG approved document under change control.
y the second digit is incremented for all changes of substance, i.e. technical
enhancements, corrections, updates, etc.
z the third digit is incremented when editorial only changes have been
incorporated in the document.
# Introduction
Advanced interactive conferencing applications like Push to talk over Cellular
(PoC) service enablers are being developed in OMA. It is expected that some
enhancements of the 3GPP specifications will be needed in order to use IMS &
its capabilities as a base for the PoC services.
# 1 Scope
The present document studies the architectural requirements in order to enable
services like PoC over 3GPP systems. The report looks into aspects of using
3GPP PS domain and radio access technologies (GERAN, UTRAN) for bearer
services and IMS for reachability and connectivity for applications like PoC.
# 2 References
The following documents contain provisions, which, through reference in this
text, constitute provisions of the present document.
  * References are either specific (identified by date of publication, > edition number, version number, etc.) or nonâ€‘specific.
  * For a specific reference, subsequent revisions do not apply.
  * For a non-specific reference, the latest version applies. In the > case of a reference to a 3GPP document (including a GSM document), > a non-specific reference implicitly refers to the latest version > of that document _in the same Release as the present document_.
[1] 3GPP TR 41.001: \"GSM Release specifications\".
[2] 3GPP TS 21.905: \"Vocabulary for 3GPP Specifications\".
[3] 3GPP TS 23.002: \"Network architecture\".
[4] 3GPP TS 23.228: \"IP Multimedia (IM) Subsystem; Stage 2.
[5] 3GPP TS 23.141 \"Presence Service; Stage 2\".
[6] OMA-AD-PoC-V1.0, OMA PoC Specification, Architecture Document.
[7] OMA-RD-PoC-V1_0, OMA PoC Specification, Requirements Document.
[8] Void.
[9] 3GPP TS 23.207: \"End-to-end Quality of Service (QoS) concept and
architecture\".
[10] 3GPP TS 23.107: \"Quality of Service (QoS) concept and architecture\".
[11] 3GPP TS 26.071: \"AMR speech Codec; General description\".
[12] RFC 3267 (June 2002): \"Real-Time Transport Protocol (RTP) Payload Format
and File Storage Format for the Adaptive Multi-Rate (AMR) and Adaptive Multi-
Rate Wideband (AMR-WB) Audio Codecs\".
[13] 3GPP TS 23.221: \"Architectural requirements\".
[14] RFC 3320 (January 2003): \"Signaling Compression (SigComp)\".
[15] 3GPP TS 24.228 \"Signalling flows for the IP multimedia call control
based on Session Initiation Protocol (SIP) and Session Description Protocol
(SDP); Stage 3\".
[16] 3GPP TS 24.229 \"IP Multimedia Call Control Protocol based on Session
Initiation Protocol (SIP) and Session Description Protocol (SDP); Stage 3\".
# 3 Definitions, symbols and abbreviations
## 3.1 Definitions
For the purposes of the present document, the terms and definitions given in
TS 21.905 [2] and the following apply.
**PoC session:** This is an established connection between PoC users where the
users can communicate using voice one at a time.
**Right to Speak** : In the PoC session establishment, the originating
subscriber receives within a pre-determined time, an indication before he can
speak, this is known as \"Right to Speak (RtS)\".
## 3.2 Abbreviations
For the purposes of the present document, the following abbreviations apply:
AMR Adaptive Multi-Rate
AS Application Server
BER Bit Error Rate
CCF Charging Collection Function
CN Core Network
CS Circuit Switched
CSCF Call Session Control Function
DL DownLink
DTM Dual Transfer Mode
ECF Event Charging Function
FBC Flow Based Charging
GERAN GSM EDGE Radio Access Network
GGSN Gateway GPRS Support Node
GPRS General Packet Radio Service
I-CSCF Interrogating-CSCF
IE Information Element
IM IP Multimedia
IMS IP Multimedia Subsystem
IP Internet Protocol
ISC IP multimedia Service Control
NAS Non-Access Stratum
OCS Online Charging System
OMA Open Mobile Alliance
P-CSCF Proxy-CSCF
PCO Protocol Configuration Options
PDP Packet Data Protocol
PoC Push to talk over Cellular
PS Packet Switched
PSI Public Service Identity
QoS Quality of Service
RAB Radio Access Bearer
RB Radio Bearer
RD Requirements Document
RL Radio Link
RLC Radio Link Control
RRC Radio Resource Control
RTP Real-Time Transport Protocol
RtS \'right-to-speak\' indication
S-CSCF Serving-CSCF
SBLP Service Based Local Policy
SDP Session Description Protocol
SDU Session Data Unit
SGSN Serving GPRS Support Node
SIP Session Initiation Protocol
SMS State Memory Size
TBF Temporary Block Flow
TCP Transport Control Protocol
UDP User Datagram Protocol
UE User Equipment
UMTS Universal Mobile Telecommunications System
UTRAN UMTS Terrestrial Radio Access Network
XDMS XML Document Management Server
# 4 Architectural Requirements
## 4.1 General Requirements
The 3GPP system shall provide the capabilities to support the PoC service
architecture as specified in OMA.
It is assumed that the PoC architecture makes use of the following IMS
capabilities in the 3GPP system, which are described in TS 23.228 [4] and TS
23.141 [5]:
\- Registration;
\- IMS routing capabilities, including discovery and address resolution;
\- IMS security including authentication and authorization;
\- IMS charging;
\- SIP compression;
\- IMS group management;
\- Public service identities;
\- Presence Service.
Commonality and differences with IMS conferencing require further study.
## 4.2 PoC specific requirements relevant to 3GPP
In order for 3GPP system to support services like PoC, certain PoC
requirements will require additional analysis within 3GPP in order to
determine that all necessary architectural support is in place via
capabilities provided by the GERAN/UTRAN, GPRS and IMS.
This clause captures the possible relevant requirements for the purposes of
additional evaluation to ensure proper support is in place within 3GPP
infrastructure:
\- The PoC service entity may provide the originating user with an early
indication to start to speak even before invited users accept the call.
\- If the above condition is applied then the initiating PoC subscriber shall
receive an indication if no participants receive the talk burst.
\- The originating subscriber receives \'right-to-speak\' (RtS) indication
after certain time depending on the answer mode setting of the target PoC
subscriber.
\- Depending on the setting by the PoC subscriber, the right-to-speak
indication can be given to the originating PoC subscriber before the target
PoC subscriber is reached or at least one of the target PoC subscribers has to
accept the PoC session before the \'right-to-speak\' indication is given to
the originating PoC subscriber.
\- During the PoC session, the PoC service entity provides \'right-to-speak\'
indication to a PoC subscriber requesting to speak.
\- In case of a chat group session, the communication between chat group
participants shall be possible at the time the PoC chat group session is
established, that is at least one participant has joined the chat session.
\- The timing requirements for capabilities such as RtS shall be taken into
account within 3GPP as specified in OMA PoC RD [7].
\- Charging architecture requirements shall be taken into account as specified
in OMA PoC AD [6].
\- The user equipment, depending on its capabilities, shall support
notification of incoming CS call during an ongoing PoC session as well as a
notification of an incoming PoC session set up during an ongoing CS call.
# 5 Architectural Concept
## 5.1 General overview
PoC service is introduced as an application within the frame of the IP
Multimedia Subsystem (IMS). Figure 5.1 below illustrates how the PoC service
elements fit into the IMS architecture.
Figure 5-1: PoC service elements in the IMS architecture
NOTE: The I-CSCF is not shown in figure 5-1 for the sake of simplicity.
Application servers (XDMS, PoC Server, Presence Server), and interfaces
between these application servers shown within the dotted box in figure 5-1
are defined by OMA.
The OMA PoC architecture specification [6] leverages IMS as the underlying
SIP-based IP-core network. To understand the details of how IMS capabilities
relate to the overall PoC architecture, there is a need to map the reference
points defined in the OMA PoC specification [6], and the reference points
defined in TS 23.002 [3] and TS 23.228 [4].
The PoC server implementing the application level network functionality for
the PoC service is essentially seen as an Application Server from the IMS
perspective. Consequently, communications between the IMS core and the PoC
server utilize the ISC interface defined in TS 23.228 [4].
As defined by OMA PoC AD [6], the XML Document Management Server (XDMS) is
used by the PoC users to manage groups and lists (e.g. contact and access
lists) that are needed for the PoC service. In the IMS architecture, the Ut
interface provides these functions, hence communications between the XDMS and
the UE utilize the Ut interface.
As defined by OMA PoC AD [6], a Presence Server may provide availability
information about PoC users to other PoC users. The3GPP Presence architecture
and the Presence Server are defined in TS 23.141 [5].
## 5.2 Architecture assumptions
### 5.2.1 Charging architecture aspects
TS 32.240 specifies the overall charging architecture for the 3GPP system,
including the IMS charging architecture. TS 32.260 and TS 32.299 specify the
IMS charging details, including the S-CSCF\'s interfaces towards the charging
nodes used for session charging.
Based on the IMS charging architecture described in these TSs, and the mapping
of IMS and OMA PoC architectures described in clause 5.1, the architecture
described in figure 5-2 below shows the charging interfaces around the PoC
server:
Figure 5-2: Architecture for PoC charging
The Charging Collection Function (CCF) is used for offline charging. It shall
be possible for the PoC server to send offline accounting information about
PoC-service events to the CCF using the mechanisms described for the Rf
interface described in TS 32.260. Possible additional accounting information
to cover PoC charging requirements shall be fulfilled by extending the Rf
interface, if needed.
The address of the CCF to be used by the PoC server for the PoC session is
distributed to the PoC server in SIP signalling, as described in TS 24.229
[16].
The Online Charging System is used for online charging PoC service-related
events. It shall be possible for the PoC server to perform credit control
interactions as per the mechanisms defined for the Ro interface. The address
of the OCS (same as the address of the ECF) to be used by the PoC server for
the PoC session is distributed to the PoC server in SIP signalling.
## 5.3 Signalling plane impacts
### 5.3.1 General aspects for PoC signalling
As described in OMA-AD_PoC [6] architecture document, there are two mechanisms
for session establishment signalling supported. In both scenarios, the session
is first established between the PoC user (originating or terminating) and the
PoC server serving the user and then the other party is invited to the
session. User preferences on how the handled PoC sessions may require special
user level interactions are described in the OMA_RD PoC [7] and OMA_AD_PoC
[6], but the general principle of the session flows is not affected by such
interactions.
The mechanisms for session set-up as defined by OMA are described in the
following sub-clauses in more detail, i.e. those would require changes if
changes are performed in the OMA specifications. These procedures have the
following functional description of behaviour:
1\. On-Demand Session:
The On Demand session provides a mechanism to negotiate media parameters such
as IP address, ports and codecs, which are used for sending the media and
floor control packets between the PoC Client and the home PoC Server when the
user wants to actually establish a PoC session. This mechanism allows the PoC
Client to invite, via PoC server(s), other PoC clients or receive PoC sessions
by using the full session establishment procedure each time the user wants to
establish/receive/join a PoC session. Media parameters may be negotiated again
in this mechanism.
2\. Pre-established Session:
The pre-established session provides a mechanism to negotiate media parameters
such as IP address, ports and codecs, which are used for sending the media and
floor control packets between the PoC Client and the home PoC Server before
establishing the PoC session. This mechanism allows the PoC Client to invite
other PoC clients or receive PoC sessions without negotiating again the media
parameters. After the pre-established session has been set up (once the PoC
user has registered), the PoC Client is able to activate media bearer whenever
needed:
\- immediately after the general PoC session pre-establishment procedure or;
\- when the actual SIP signalling for the PoC media session establishment is
initiated.
### 5.3.2 On-demand Session
#### 5.3.2.1 On-demand session general
For an on-demand PoC session set-up all media parameters are negotiated at the
same time the PoC session is set-up. Two types of on-demand session set-up
procedures are described below.
#### 5.3.2.2 On-demand session with automatic answer
A simplified PoC session flow for on-demand session with automatic answer is
shown below when using GPRS bearer. The flow shows a general case and relation
of PDP context with PoC/IMS session and does not show any special order or
requirement of whether separate PDP context is required for the media or not.
Figure 5.3.1: On-demand signalling with automatic answering
The simplified steps for establishing PoC communication based upon on demand
signalling with auto answering are:
1\. Each UE is powered on.
2\. Each UE performs PS attach in order to register to the PS domain.
3\. Each UE ensures that a PDP context suitable for IMS related signalling is
established and if necessary an additional general-purpose PDP context with
the same APN and IP address as the PDP context for IMS related signalling.
NOTE: This may occur at different times for each terminal. The use of the PDP
context bearer(s) depends on how the terminal, network and overall system are
configured to operate. Detailed implications of such scenarios will be further
analysed in clause 5.4 and clause 6.
If allowed by the subscription and operator policy (see clause 5.4.3) the QoS
of a pre-established PDP context for PoC talk burst control and media is
allowed to have a higher QoS than best effort.
4\. Each UE performs the IMS registration
5\. User A presses the push-to-talk indication/button on the terminal A to
indicate that he wishes to communicate with the user at UE B.
Note that step 5 can occur anytime after step 4 has been performed, there is
no timing correlation between these steps once steps 1-4 has been performed.
6\. UE-A creates a SIP session for the PoC communication by sending the INVITE
request into the IMS Core (A), in this example with UE-B as a destination
address (alternatively the destination address could also be a PSI hosted by a
PoC server for a PoC group session). The INVITE request contains the PoC
service indication and the SDP media parameters indicate the IP address
obtained in step 3 and that UE-A is ready to send and receive media, as in
this example the UE-A established a non real time PDP context for talk burst
control and media at IMS registration time.
7-8 The IMS core A identifies that the service indication matches ISC
filtering information and routes the INVITE request to the PoC AS (A).
9-10. PoC AS (A) (after determining that the PoC communication should be
completed), together with the IMS Core (A), forwards the INVITE request
towards the IMS Core (B).
11-12. The IMS Core (B) identifies that the service indication matches ISC
filtering information and routes the INVITE request to the PoC AS (B).
13a. PoC AS (B) sends AUTO-ANSWER to PoC AS (A) as user B is accepting the
session automatically
13b. The PoC AS (B) forwards the INVITE request to UE-B via IMS Core (B)
14a-15a. The IMS Core (B) forwards the AUTO-ANSWER message towards the PoC AS
(A) via IMS Core (A)
16a-17a. Based on the AUTO-ANSWER and that the PoC AS (A) supports buffering
of media, the PoC AS (A) sends a 200 OK towards the UE-A and at the same time
sends a talk burst confirm to UE-A. The talk burst control message is
transferred to UE-A on a PDP contexts established in step 3.
18a-19a. In case Service Based Local Policy is applied in UE A\'s network, IMS
Core (A) generates an authorization token for the session, inserts and
delivers the authorization token to the UE-A in the first available reliable
SIP response (in this case the 200 OK).
20a-22a. After the UE-A received both the 200 OK response and the talk burst
confirm message, UE-A may send media data to PoC AS (A) using a PDP context
established in step 3. The UE-A acknowledges the 200 OK. UE-A may establish an
additional PDP context for media and talk burst control exchange with same IP
address and APN as of the PDP contexts of step 3, e.g. a PDP context with
traffic class streaming and bandwidth required for the negotiated media
parameters. If the UE received an authorization token in step 19a, it inserts
it in the PDP context signalling.
23a. The IMS Core (A) forwards the acknowledgement to PoC AS (A)
24a. The PoC AS (A) buffers the received media until a positive response from
UE-B is received
25a. UE-A continues sending media. If and when the PDP context established in
step 22a is available, UE-A uses it.
14b-15b. In case Service Based Local Policy is applied in UE B\'s network, IMS
Core (B) generates an authorization token for the session, and inserts and
delivers the authorization token in the INVITE request to UE-B.
Typically UE-B needs to be paged before the INVITE request can be transferred.
NOTE: The INVITE message is transparent to the PS Domain.
16b-17b After receiving the INVITE request, UE (B) accepts the session by
returning 200 OK. The media parameters indicate the IP address obtained in
step 3. UE B may establish an additional PDP context for media and talk burst
control exchange with same IP address and APN as of the context of step 3,
e.g. a PDP context with traffic class streaming and bandwidth required for the
negotiated media parameters. If the UE received an authorization token in step
15b, it inserts it in the PDP context signalling.
18b-21b. IMS Core (B) forwards the 200 OK to the PoC AS (B), which forwards
the 200 OK towards the PoC AS (A) via IMS Core (B) and IMS Core (A).
26\. PoC AS (A) inform the UE-B via the PoC AS (B) that receiving talk bursts
from UE-A are on the way.
27-29. The PoC AS (A) acknowledges the session set-up, the acknowledgement
traverses to PoC AS (B) via IMS Core (A) and IMS Core (B).
30-31. The PoC AS (B) acknowledges the session set-up
32\. The buffered media is transferred from PoC AS (A) to PoC AS (B).
33\. PoC AS (B) transfer the media to UE-B. If and when the PDP context
established in step 17b is available, it is used for this purpose
34\. Further media and talk burst control messages are transferred between the
involved entities.
#### 5.3.2.3 On demand session with manual answer
A simplified PoC session flow for on-demand session with manual answer is
shown below when using GPRS bearer. The flow shows a general case and relation
of PDP context with PoC/IMS session and does not show any special order or
requirement of whether separate PDP context is required for the media or not.
Figure 5.3.2: On-demand signalling with manual answer
The simplified steps for establishing PoC communication based upon on demand
signalling with manual answering are:
1\. Each UE is powered on.
2\. Each UE performs PS attach in order to register to the PS domain.
3\. Each UE ensures that a PDP context suitable for IMS related signalling is
established and if necessary an additional general purpose PDP context with
the same APN and IP address as the PDP context for IMS related signalling.
NOTE: This may occur at different times for each terminal. The use of the PDP
context bearer(s) depends on how the terminal, network and overall system are
configured to operate. Detailed implications of such scenarios will be further
analysed in clause 5.4 and clause 6.
If allowed by the subscription and operator policy (see clause 5.4.3) the QoS
of a pre-established PDP context for PoC talk burst control and media is
allowed to have a higher QoS than best effort.
4\. Each UE performs the IMS registration.
5\. User A presses the push-to-talk indication/button on the UE A to indicate
that he wishes to communicate with the user at UE B.
Note that step 5 can occur anytime after step 4 has been performed, there is
no timing correlation between these steps once steps 1-4 has been performed.
6\. UE-A creates a SIP session for the PoC communication by sending the INVITE
request into the IMS Core (A), in this example with UE-B as a destination
address (alternatively the destination address could also be a PSI hosted by a
PoC server for a PoC group session). The INVITE request contains the PoC
service indication and the SDP media parameters indicate the IP address
obtained in step 3 and that UE-A is ready to send and receive media, as in
this example the UE-A established a non real time PDP context for talk burst
control and media at IMS registration time.
7-8. The IMS Core (A) identifies that the service indication matches ISC
filtering information and routes the INVITE request to the PoC AS (A).
9-10. PoC AS (A) (after determining that the PoC communication should be
completed), together with the IMS Core (A), forwards the INVITE request
towards the IMS Core (B).
11-12. The IMS Core (B) identifies that the service indication matches ISC
filtering information and routes the INVITE request to the PoC AS (B).
13\. The PoC AS (B) forwards the INVITE request to UE-B via IMS Core (B)
14-15. In case Service Based Local Policy is applied in UE B\'s network, IMS
Core (B) generates an authorization token for the session, and inserts and
delivers the authorization token in the INVITE request to UE-B.
Typically UE-B needs to be paged before the INVITE request can be transferred.
NOTE: The INVITE message is transparent to the PS domain.
16-17. After receiving the INVITE request, user (B) accepts the session set-up
manually and UE-B accepts the session by returning 200 OK. UE-B should send a
180 ringing response when receiving the INVITE request to avoid the INVITE
request to be re-sent (not shown in the figure). The media parameters indicate
the IP address obtained in step 3. UE B may establish an additional PDP
context for media and talk burst control exchange with same IP address and APN
as of the context of step 3, e.g. a PDP context with traffic class streaming
and bandwidth required for the negotiated media parameters. If the UE-B
received an authorization token in step 15, it inserts it in the PDP context
signalling.
18-21. IMS Core (B) forwards the 200 OK to the PoC AS (B), which forwards the
200 OK towards the PoC AS (A) via IMS Core (B) and IMS Core (A).
22-23. PoC AS (A) sends a 200 OK towards the UE-A and at the same time sends a
talk burst confirm to UE-A.
24-25. In case Service Based Local Policy is applied in UE A\'s network, IMS
Core (A) generates an authorization token for the session, inserts and
delivers the authorization token to the UE-A in the first available reliable
SIP response (in this case the 200 OK).
26-28. After the UE-A received both the 200 OK response and the talk burst
confirm message, UE-A may send media data to PoC AS (A) using a PDP context
established in step 3. The UE-A acknowledges the 200 OK. UE-A may establish an
additional PDP context for media and talk burst control exchange with same IP
address and APN as of the PDP contexts of step 3, e.g. a PDP context with
traffic class streaming and bandwidth required for the negotiated media
parameters. If the UE received an authorization token in step 25, it inserts
it in the PDP context signalling.
29\. The IMS Core (A) forwards the acknowledgement to PoC AS (A).
30-32. The PoC AS (A) acknowledges the session set-up, the acknowledgement
traverses to PoC AS (B) via IMS Core (A) and IMS Core (B).
33-34. The PoC AS (B) acknowledges the session set-up.
35\. PoC AS (A) inform the UE-B via the PoC AS (B) that receiving talk bursts
from UE-A are on the way.
36\. UE-A continues sending media. If and when the PDP context established in
step 28 is available, UE-A uses it.
37-38. PoC AS (A) transfer the media to UE-B, via PoC AS (B). If and when the
PDP context established in step 17 is available, it is used for this purpose.
### 5.3.3 Pre-established Session
#### 5.3.3.1 Pre-established session general
For a pre-established PoC session, media parameters are negotiated at the
setup of the pre-established PoC session and during the PoC session is setup
the media parameter negotiation can be skipped. Two types of pre-established
session set-up procedures are described below.
#### 5.3.3.2 Pre-established session with automatic answer
A simplified PoC session flow for the setup of session having pre-established
session with automatic answer is shown below when using GPRS bearer. The flow
shows a general case and relation of PDP context with PoC/IMS session and does
not show any special order or requirement of whether separate PDP context is
required for the media or not. This flow assumes (though it is not required
for both sides to use the same mechanism) that both originating and
terminating PoC user uses the Pre-established session mechanism.
Figure 5.3.3: Pre-established session signalling with automatic answering
The simplified steps for establishing PoC communication based upon pre-
established session signalling are:
1\. Each terminal is powered on.
2\. Each terminal performs PS attach in order to authenticate to the PS
domain.
3\. Each UE ensures that a PDP context suitable for IMS related signalling is
established and if necessary an additional general purpose PDP context with
the same APN and IP address as the PDP context for IMS related signalling.
NOTE: This may occur at different times for each terminal. The use of the PDP
context bearer(s) depends on how the terminal, network and overall system are
configured to operate. Detailed implications of such scenarios will be further
analysed in clause 5.4 and clause 6.
If allowed by the subscription and operator policy (see clause 5.4.3) QoS of a
pre-established PDP context for PoC talk burst control and media is allowed to
have a higher QoS than best effort.
4\. Each terminal performs the IMS registration
5\. Each terminal establishes the pre-established session for PoC
communication towards the PoC AS (e.g. by using a dedicated PSI). The INVITE
request contains the PoC service indication and the SDP media parameters
indicate the IP address obtained in step 3; the IMS Core (A) identifies that
this service indication matches ISC filtering information and routes the
session establishment request to the PoC AS (A).
In case Service Based Local Policy is applied in the UE(A)\'s IMS network, IMS
Core (A) generates an authorization token for the session, inserts and
delivers the authorization token to the UE-A upon set-up of the pre-
established session (in the 200OK response).
NOTE: This pre-established session set-up may occur at different times for
each terminal. Once the session relationship is established, it remains as
long as the user wishes to remain connected to the PoC server. Implications of
such long established session and its relationship with other IMS functions
will require further study.
6\. User A presses the push-to-talk indication/button on the terminal A to
indicate that he wishes to communicate to the user at UE (B).
7-8. UE-A request the establishment of media transfer and sends, for example,
a SIP REFER message to the PoC AS (A) via the IMS Core (A), containing the
address of the terminating user.
9-11. PoC AS (A) sends an INVITE request to PoC AS (B) by means of IMS core
(A) and IMS Core (B).
12-14. PoC AS (B) indicates Auto-Answer to PoC AS (A), via IMS Core (B) and
IMS Core (A).
15-17. The PoC AS (A) acknowledges the media establishment request message and
at the same time sends a talk burst confirm to UE-A. The talk burst control
message is transferred to UE-A on a PDP contexts established in step 3.
18-19. PoC AS (A) inform the UE-B via the PoC AS (B) that receiving talk
bursts from UE-A are on the way.
Typically UE-B needs to be paged before the Receiving talk burst message can
be transferred
NOTE: The Receiving talk burst message is transparent to the PS Domain.
20-21. After the UE-A received both the acknowledgement for the media
establishment request message and the talk burst confirm message, UE-A may
send media data to PoC AS (A). UE-A may establish an additional PDP context
for media and talk burst control exchange with same IP address and APN as of
the PDP contexts of step 3, e.g. a PDP context with traffic class streaming
and bandwidth required for the negotiated media parameters. If the UE received
an authorization token in step 5, it inserts it in the PDP context signalling.
As soon as the PDP context established in step 18 is available, UE-A uses it.
22-24. UE-A continues sending media. If and when the PDP context established
in step 22 is available, UE-A uses it. UE-A sends the media data to PoC AS
(A), which sends media data to UE-B, via PoC AS (B).
25\. Having received the receiving talk burst message, UE-B may establish an
additional PDP context for media and talk burst control exchange with same IP
address and APN as of the context(s) of step 3, e.g. a PDP context with
traffic class streaming and bandwidth required for the negotiated media
parameters. If the UE received an authorization token in step 5, it inserts it
in the PDP context signalling.
#### 5.3.3.3 Pre-established session with manual answer
A simplified PoC session flow for the setup of session having pre-established
session with manual answer is shown below when using GPRS bearer. The flow
shows a general case and relation of PDP context with PoC/IMS session and does
not show any special order or requirement of whether separate PDP context is
required for the media or not. This flow assumes (though it is not required
for both sides to use the same mechanism) that both originating and
terminating PoC user uses the Pre-established session mechanism.
Figure 5.3.4: Pre-established session handling with manual answer
The simplified steps for establishing PoC communication based upon pre-
established session signalling are:
1\. Each terminal is powered on.
2\. Each terminal performs PS attach in order to authenticate to the PS
domain.
3\. Each UE ensures that a PDP context suitable for IMS related signalling is
established and if necessary an additional general purpose PDP context with
the same APN and IP address as the PDP context for IMS related signalling.
NOTE: This may occur at different times for each terminal. The use of the PDP
context bearer(s) depends on how the terminal, network and overall system are
configured to operate. Detailed implications of such scenarios will be further
analysed in clause 5.4 and clause 6.
If allowed by the subscription and operator policy (see clause 5.4.3) the QoS
of a pre-established PDP context for PoC talk burst control and media is
allowed to have a higher QoS than best effort.
4\. Each terminal performs the IMS registration.
5\. Each terminal establishes the pre-established session for PoC
communication towards the PoC AS (e.g. by using a dedicated PSI). The INVITE
request contains the PoC service indication and the SDP media parameters
indicate the IP address obtained in step 3; the IMS Core (A) identifies that
this service indication matches ISC filtering information and routes the
session establishment request to the PoC AS (A).
In case Service Based Local Policy is applied in the UE(A)\'s IMS network, IMS
Core (A) generates an authorization token for the session, inserts and
delivers the authorization token to the UE-A upon set-up of the pre-
established session (in the 200OK response).
NOTE: This pre-established session set-up may occur at different times for
each terminal. Once the session relationship is established, it remains as
long as the user wishes to remain connected to the PoC server. Implications of
such long established session and its relationship with other IMS functions
will require further study.
6\. User A presses the push-to-talk indication/button on the terminal A to
indicate that he wishes to communicate to the user at UE (B).
7a-7b. UE-A requests the establishment of media transfer and sends, for
example, a SIP REFER message to the PoC AS (A) via the IMS Core (A),
containing the address of the terminating user.
8a-10. PoC AS (A) sends the INVITE message to PoC AS (B) by means of IMS core
(A) and IMS Core (B).
8b. PoC AS (A) sends ACCEPT message to UE-A via IMS core (A).
11a-11c. The PoC AS (B) requests the establishment of media transfer and sends
a SIP re-INVITE message to the UE (B) via the IMS Core (B).
Typically UE-B needs to be paged before the SIP re-INVITE message can be
transferred.
NOTE: The re-INVITE message is transparent to the PS Domain.
12\. After receiving the re-INVITE request, user (B) accepts the session set-
up manually and UE-B accepts the session by returning 200 OK. UE-B should send
a 180 ringing response when receiving the INVITE request to avoid the re-
INVITE request to be re-sent (not shown in the figure). The media parameters
indicate the IP address obtained in step 3.
13-16. IMS Core (B) forwards the 200 OK to the PoC AS (B), which forwards the
200 OK towards the PoC AS (A) via IMS Core (B) and IMS Core (A).
17\. The PoC AS (A) sends a talk burst confirm to UE-A. The talk burst control
message is transferred to UE-A on a PDP contexts established in step 3.
18\. PoC AS (A) informs the UE-B via the PoC AS (B) that receiving talk bursts
from UE-A are on the way.
19-20. After the UE-A received both the acknowledgement for the media
establishment request message and the talk burst confirm message, UE-A may
send media data to PoC AS (A). UE-A may establish an additional PDP context
for media and talk burst control exchange with same IP address and APN as of
the PDP contexts of step 3, e.g. a PDP context with traffic class streaming
and bandwidth required for the negotiated media parameters. If the UE received
an authorization token in step 5, it inserts it in the PDP context signalling.
As soon as the PDP context established in step 20 is available, UE-A uses it.
21-23. UE-A continues sending media. If and when the PDP context established
in step 20 is available, UE-A uses it. UE-A sends the media data to PoC AS
(A), which sends media data to UE-B, via PoC AS (B).
24\. Having received the receiving talk burst message, UE-B may establish an
additional PDP context for media and talk burst control exchange with same IP
address and APN as of the context(s) of step 3, e.g. a PDP context with
traffic class streaming and bandwidth required for the negotiated media
parameters. If the UE received an authorization token in step 5, it inserts it
in the PDP context signalling.
## 5.4 User plane impacts
### 5.4.1 General
The deployment of PoC services over IMS requires some analysis regarding the
general IMS as well as the radio, GPRS and terminals. The available QoS and
use of specific QoS, codecs etc. may also require analysis or require some
guidelines to be provided by 3GPP towards PoC service deployment.
This clause provides the background material from which the architecture
analysis work can draw the necessary conclusions to be captured in clause 6.
### 5.4.2 GPRS interactions in relation to PoC
#### 5.4.2.1 General
It is assumed that additional PDP contexts (within a single APN) to separate
signalling and media traffic within IMS is required only when:
\- the QoS need to be different for signalling and media traffic,
\- and/or restricted handling of the signalling traffic is required (due to
charging (if FBC is not used), policy, policing etc.),
\- and/or restricted handling of media traffic is required (due to charging,
Service Based Local Policy, policing etc.),
\- and/or other GPRS traffic can not use the same PDP context as IMS/PoC.
It is assumed that any of the following are valid GPRS/PDP contexts usage
option for any IMS service, i.e. the options also apply for PoC. However, it
is not only up to the PoC client to chose any of the options below as the
valid options depends on possible restrictions, e.g. whether the GGSN apply
restrictions on the PDP context used for IMS signalling as specified in TS
23.228 [4].
1\. A Single PDP context is used for both IMS signalling and media traffic;
2\. A separate PDP context for media traffic is required, but IMS signalling
may share a general purpose PDP context with other GPRS traffic;
3\. A separate PDP context is required for IMS signalling traffic, but the
media traffic can share a PDP context with other general purpose PDP Context
such as IMS session based messaging as described in TS 23.228 [4];
4\. Separate PDP contexts required for IMS signalling, all media share a
single PDP context and other GPRS traffic use separate PDP context;
5\. Separate PDP contexts required for IMS signalling, all media such as
audio, text etc require separate PDP context and other GPRS traffic use
separate PDP context.
How such combinations interact with PoC session establishment mechanism need
further analysis. Depending on the mechanism used (on-demand and pre-
established), whether existing PDP context can be reused or not, how floor
control messages should be treated (as user plane traffic or signalling
traffic or both) and whether SBLP/Go function is in use or not, the sessions
flows may need to be further verified.
#### 5.4.2.2 QoS traffic class considerations
OMA POC AD [6] recommends that when different PDP contexts are used for IMS
signalling and media traffic the OMA PoC Clients should separately utilize the
QoS traffic class that is best suitable for signalling (e.g., Interactive
traffic class) and the QoS traffic class that is best suitable for the media
traffic (e.g. Streaming or Conversational traffic classes).
NOTE: The definitions of the QoS traffic classes used are described in TS
23.107 [10].
According to the OMA POC AD [6], when a single PDP context is used for both
IMS Signalling and media traffic the PoC Client should utilize the QoS traffic
class that is determined to be the best available considering the overall
needs of the PoC Service (e.g., Interactive traffic class).
Recommended QoS settings and radio network configurations for PoC are
presented in Annex A.
### 5.4.3 PoC and SBLP/Go functions
The signalling procedures being studied within OMA for PoC communication are
optimized for session establishment time. Therefore they do not assume that
SIP preconditions are used for PoC. However, if SBLP and the Go interface are
deployed, they can be used as illustrated in the flows in clause 5.3 as a use-
case of the flows in clause 5.7a of TS 23.228 [4].
For more information on SBLP/Go functions, see TS 23.228 [4] and TS 23.207
[9].
## 5.5 Notification of Parallel Services
### 5.5.1 Notification of incoming CS service during a PoC session
PoC is provided as a service in the PS domain. This implies that the existing
mechanisms are used for paging and notification of an incoming CS service
during a PoC session.
This means:
\- For a UE in class A mode of operation and Dual Transfer Mode of operation,
the CS paging during PS bearer will be applied as defined for UTRAN or class
A/B or DTM GERAN.
\- For a UE in class B mode of operation, CS paging during PS bearer will be
applied as defined for UTRAN or class A/B or DTM GERAN. If the user accepts
the CS service, the PS bearer may be suspended or dropped and as a result any
PoC session is put on hold or terminated respectively.
\- UE in class C mode of operation does not support multiple services, thus
the issue does not exist.
### 5.5.2 Notification of PoC Session during an ongoing CS service.
PoC is provided as a service in the PS domain. This implies that notification
of an incoming PoC sessions during an ongoing CS Service is possible as
follows:
\- For UE in Class A mode of operation and Dual Transfer Mode of operation, it
is possible to send the initial PoC notification (e.g. the INVITE) to the UE
during an ongoing CS Service.
\- For UE in Class B mode of operation does not need to monitor GERAN control
channels during CS services. CS services have higher priority than PS
services. Thus incoming PoC session requests cannot be delivered to the UE
during an ongoing CS call.
\- UE in class C mode of operation does not support multiple services, thus
the issue does not exist.
## 5.6 PoC Charging Correlation
PoC is provided as a service over IM CN. This implies that the existing IMS
charging correlation information and mechanisms should be reused.
See TS 24.229 [16] for further information on charging correlation.
# 6 Conclusions
The TR describes the architectural requirements to support the OMA POC
services in clause 4 and the impacts to the architectural concepts in clause
5. This Clause 5 addresses the impacts to the signalling plane by describing
the on-demand and pre-established sessions. Also the impacts to the User Plane
are described as well.
The concept of Service Based Local Policies (SBLP) and the Go interface as
described in TS 23.228 [4] and TS 23.207 [9] supports the OMA PoC signalling
requirements for session establishment, however it is not mandated that these
capabilities are to be used for the OMA PoC session establishment.
PoC will contain the same GPRS/PDP contexts usage options as for any IMS
service, i.e. the options also apply for PoC. However, it is not only up to
the PoC client to chose any of the GPRS/PDP contexts usage options as the
valid options depends on possible restrictions, e.g. whether the GGSN apply
restrictions on the PDP context used for IMS signalling as specified in TS
23.228 [4].
Annex A describes the recommended QoS Attribute settings and the Radio Network
Configurations to support OMA PoC services.
The main issue in supporting PoC services is the session establishment delays.
Annex B contains the analysis of the delay for the PoC session establishments
based on \'on demand\' signalling and based on \'pre-established session\'
signalling.
Annex C describes the analyses of the required SigComp performance and gives
requirements to support the PoC service. This analysis concludes that IMS
provides sufficient SigComp support for the OMA PoC delay requirements.
The PoC codecs are specified within 3GPP SA4.
It is concluded that the current 3GPP IMS specifications supports the
requirements to deploy PoC services as defined by OMA.
###### ### Annex A: Recommended QoS settings and configuration parameters for
PoC
# A.1 Introduction
The Push-to-Talk over Cellular (PoC) application is to be run over PS Domain
bearers. The application is characterized by half-duplex voice communication.
The Annex makes recommendations on QoS attribute settings and radio network
configurations.
# A.2 QoS attribute settings
The following clauses describe recommended QoS settings by the UE during PDP
context activation and modification procedures for the media flow in PoC with
only one general purpose PDP context (clause A.2.1) and when separate PDP
contexts are used for the media and signalling (clause A.2.2).
The bandwidth needed for the media flow in PoC is to a large extent dependent
on the negotiated speech codec bit rate together with the transport format. In
the following it is assumed that AMR speech coding, TS 26.071 [11], together
with the RTP payload format for AMR, RFC 3267 [12], is used in the \'octet-
aligned mode\', without interleaving and without CRCs. It is furthermore
assumed that one RTP packet carries ten (10) AMR frames, corresponding to
10*20 ms of speech (ptime=200). Note that also other packetization schemes are
possible. Table A.2-1 shows the required bandwidth for the RTP flow on \'IP
level\' (i.e. including RTP/UDP/IP overhead) for the different AMR modes:
Table A.2-1: Required bandwidth Uplink/Downlink for the RTP traffic for
different AMR modes (ptime=200)
* * *
AMR Mode Required bandwidth when IPv4 is used [bits/s] [Note] Required
bandwidth when IPv6 is used [bits/s] AMR 4.75 6840 7640 AMR 5.15 7240 8040 AMR
5.9 8040 8840 AMR 6.7 8840 9640 AMR 7.4 9640 10440 AMR 7.95 10040 10840 AMR
10.2 12440 13240 AMR 12.2 14440 15240 Note: For the usage of IP version in IMS
see TS 23.221 [13], clause 5.1.
* * *
## A.2.1 QoS attribute settings for general purpose PDP context
If one general purpose PDP context is used for both media and signalling, the
PDP context should be of traffic class Interactive.
The following QoS parameter values for such PDP context are recommended to be
requested by the UE.
Table A.2.1-1: Recommended QoS attribute settings for a single general purpose
PDP Context for both the PoC control plane and user plane traffic
* * *
Traffic class Interactive class Notes Maximum bitrate (kbps) See \'Notes\' The
value for this parameter is based on the highest speech codec rate negotiated
via SDP in the codec mode-set (see table A.2-1) plus appropriate bandwidth for
the SIP Signalling traffic to QoS limit the impact on the media flow. Delivery
order No In sequence delivery of voice samples is not required nor is it
desirable since it creates jitter in the media channel. An RTP jitter buffer
in the client should re-order packets if needed. Maximum SDU size (octets)
1500 Maximum size of IP packets. No PoC specific setting needed. SDU format
information - Not applicable for traffic class Interactive. Delivery of
erroneous SDUs No It is sufficient to signal erroneous IP packets to the UE.
Residual BER 10^-5^ Reflects the desire to have a medium level of protection
to achieve an acceptable compromise between packet loss rate and voice
transport delay and delay variation. SDU error ratio 10^-4^ See \"Residual
BER\" parameter. Transfer delay (ms) - Is not used for the Interactive traffic
class. Guaranteed bit rate (kbps) - Is not used for the Interactive traffic
class. Traffic handling priority 1 Specifies the relative importance for
handling of all SDUs belonging to the radio access bearer compared to the SDUs
of other bearers. Highest importance is recommended for PoC. Source statistic
descriptor - Not applicable for traffic class Interactive. Signalling
indication No The PDP context is not used for signalling only
* * *
## A.2.2 QoS attribute settings when separate PDP contexts are used for
signalling and media
If separate PDP contexts are used for media and signalling, the PDP context
for signalling should be of traffic class Interactive.
The following QoS parameter values for the PDP context are recommended to be
requested by the UE for signalling.
Table A.2.2-1: Recommended QoS attribute settings for a PDP Context used for
the PoC control plane traffic
* * *
Traffic class Interactive class Notes Maximum bitrate (kbps) 8 For an
Interactive PDP context solely used for signalling, the maximum bit rate
should be. 8 kbps Delivery order No In sequence delivery of voice samples is
not required nor is it desirable since it creates jitter in the media channel.
An RTP jitter buffer in the client should re-order packets if needed. Maximum
SDU size (octets) 1500 Maximum size of IP packets. No PoC specific setting
needed. SDU format information - Not applicable for traffic class Interactive.
Delivery of erroneous SDUs No It is sufficient to signal erroneous IP packets
to the UE. Residual BER 10^-5^ Reflects the desire to have a medium level of
protection to achieve an acceptable compromise between packet loss rate and
voice transport delay and delay variation. SDU error ratio 10^-4^ See
\"Residual BER\" parameter. Transfer delay (ms) - Is not used for the
Interactive traffic class. Guaranteed bit rate (kbps) - Is not used for the
Interactive traffic class. Traffic handling priority 1 Specifies the relative
importance for handling of all SDUs belonging to the radio access bearer
compared to the SDUs of other bearers. Highest importance is recommended for
PoC. Source statistic descriptor - Not applicable for traffic class
Interactive. Signalling indication Yes/No If set to Yes the operator may
require the IMS signalling flag (in the PCO IE) to be set, in that case an
additional PDP context to be able to receive early media and talk burst
control messages may need to be established.
* * *
If the underlying access network supports the traffic class streaming and a
separate PDP context is used for the media, the additional PDP context to be
used for the media (voice) flows of the PoC application is recommended to be
of streaming traffic class.
The following QoS attribute values for such PDP context are recommended to be
requested by the UE.
Table A.2.2-2: Recommended QoS attribute settings for PDP Contexts for the PoC
user plane traffic
* * *
Traffic class Streaming class Notes Maximum bitrate (kbps) See \'Notes\'
Should be set >= \"Guaranteed bit rate\". Delivery order No In sequence
delivery of voice samples is not required nor is it desirable since it creates
jitter in the media channel. An RTP jitter buffer in the client should re-
order packets if needed. Maximum SDU size (octets) 1500 Maximum size of IP
packets. No PoC specific setting needed. SDU format information - Used in RAB
QoS attributes only. Transparent RLC protocol mode is not suggested. Delivery
of erroneous SDUs No It is sufficient to signal erroneous IP packets to the
UE. Residual BER 10^-5^ Reflects the desire to have a medium level of
protection to achieve an acceptable compromise between packet loss rate and
voice transport delay and delay variation. SDU error ratio 10^-4^ See
\"Residual BER\" parameter. Transfer delay (ms) 650  
Guaranteed bit rate (kbps) See \'Notes\' The value for this parameter is based
on the highest speech codec rate negotiated via SDP in the codec mode-set. See
table A.2-1. Traffic handling priority - Is not used for the Streaming traffic
class. Source statistic descriptor \"Unknown\" Proposed setting is
\"unknown\". \"Speech\" is to be used when the media stream has speech
statistical behaviour only.. Signalling indication - Only applicable for
Interactive class
* * *
# A.3 Radio Network Configuration
In addition to QoS, the following configuration means are available to improve
the performance of the PoC service:
\- UDP/IP header compression (RFC2507) or RTP/UDP/IP header compression
(RFC3095) can be configured to reduce the required radio link capacity.
\- Delayed release of DL Temporary Block Flows (TBFs) and Extended TBF Mode in
UL (introduced in 3GPP Release 4, available for GERAN only) can be configured
to preserve the TBF over a longer period of time.
###### ### Annex B: Delay analysis of PoC session establishment
# B.1 Introduction
This annex contains the analysis of the delay for the PoC session
establishments based on \'on demand\' signalling and based on \'pre-
established session\' signalling.
The session establishment delay can be defined the time delay from the time
when a user initiates a PoC session until the user can start to speak after
receiving RtS (Talk burst confirm).
It is assumed that the UTRAN access is used and that the UE is in the UE idle
mode.
# B.2 On demand session with manual answer
Figure B.1 shows the delay components for the case of the session
establishment based on \'on demand session with manual answer\' signalling.
Figure B.1: Delay component for the case of on demand session with manual
answer
(1) Set up of Signalling Connection in the UE-A side
When the User-A initiates a PoC Session, the UE-A shall establish the
signalling connection to send the NAS signalling. This includes the RRC
Connection Setup procedure, the Service Request procedure and the Security
Mode Command procedure.
The major delay comes from the RRC connection setup procedure, which includes
the Random Access procedure, the RL setup procedure and the RB setup
procedure.
_ïƒ  The estimated delay is about [700ms\~1500ms]._
(2) Establish Radio Access Bearer (RAB) in the UE-A side
RAB should be established for the existing PDP context through which the SIP
INVITE message is transmitted by the UE-A. This includes the RAB assignment
procedure and the Radio Link (RL) reconfiguration procedure and the Radio
Bearer (RB) setup procedure.
_ïƒ  The estimated delay is about [700ms\~1500ms]._
(3) SIP signalling transfer delay
When the user plan is ready to send the INVITE message, the UE-A sends it to
PoC AS, and then it forwards the INVITE message to PS Domain of UE-B.
_ïƒ  The estimated delay is less than [500ms]._
(4) Set up of Signalling Connection in the UE-B side
When the target SGSN receives the INVITE message, the SGSN shall establish a
signalling connection in order to send the NAS signalling message to UE. This
includes the Paging procedure, the RRC Connection Setup procedure, the Service
Request procedure, and the Security Mode Command procedure.
The major delay comes from the Paging procedure and the RRC Connection Setup
procedure.
_ïƒ  The estimated delay is about [700ms\~1500ms]._
(5) Set up of RAB in the UE-B side
The terminating SGSN initiates the RAB Assignment procedure for the PDP
Context for the IMS signalling in order to transmit the SIP INVITE message to
the UE-B.
The major delay comes from the RAB assignment procedure which includes the RL
reconfiguration procedure and the RB setup procedure.
_ïƒ  The estimated delay is about [700ms\~1500ms]._
(6) Signalling transfer delay
The UE-B sends a SIP response message to the PoC AS (B). PoC AS (B) forwards
the message to the PoC AS (A) and then the PoC AS (A) sends Talk Burst Confirm
to the UE-A and Receiving Talk Burst to the UE-B.
_ïƒ  The estimated delay is less than [500ms]._
Therefore, the total estimated delay for the PoC session establishment (the
time when the User-A initiates the PoC session \~ the time when the User-A can
start to speak) is about _[3800ms\~7000ms]._
# B.3 On demand session with automatic answer
Figure B.2 shows the delay components in case of the session establishment
based on \'on demand session with automatic answer\' signalling.
Figure B.2: Delay component for the case of on demand session with automatic
answer
(1) Set up of Signalling Connection in the UE-A side
When the User-A initiates a PoC Session, the UE-A shall establish the
signalling connection in order to send the NAS signalling. This includes the
RRC Connection Setup procedure, the Service Request procedure and the Security
Mode Command procedure.
This step is the same as that of the session establishment based on \'on
demand session with manual answer\'.
_ïƒ  The estimated delay is about [700ms\~1500ms]._
(2) Establish Radio Access Bearer (RAB) in the UE-A side
RAB should be established for the existing PDP context through which the SIP
INVITE message can be transmitted by the UE-A. This includes the RAB
assignment procedure and the RL reconfiguration procedure and the RB setup
procedure.
_ïƒ  The estimated delay is about [700ms\~1500ms]._
(3) SIP signalling transfer delay (Part I)
When the user plan is ready to send INVITE message, the UE-A sends the message
to the PoC AS (A) and then PoC AS (A) forwards the message to the PoC AS (B).
_ïƒ  The estimated delay is less than [500ms]_
(4) SIP signalling transfer delay (Part II)
For the Auto-answer mode, when PoC AS (B) receives the INVITE message, the PoC
AS (B) sends the AUTO-ANSWER message to the PoC AS (A) without waiting for the
response from the UE (B). The PoC AS (A) can send the Talk burst confirm to
the UE-A when it receives AUTO-ANSWER message from the PoC AS (B).
_ïƒ  The estimated delay is less than [500ms]_
Therefore, the total estimated delay for the PoC session establishment (the
time when the User-A initiates the PoC session \~ the time when the User-A can
start to speak) is about _[2400ms\~4000ms]._
Note that the delay of the session establishment using \'on demand session
with automatic answer\' can be about 2000ms (2 sec) smaller than that of the
session establishment using \'on demand session with manual answer\'.
# B.4 On pre-established session
Figure B.3 shows the delay components in case of the session establishment
based on \'pre-established session\' signalling.
Figure B.3: Delay component for the case of pre-established session
(1) Set up of Signalling Connection in the UE-A side
When the User-A initiates a PoC Session, the UE-A shall establish the
signalling connection in order to send the NAS signalling. This includes the
RRC Connection Setup procedure, the Service Request procedure and the Security
Mode Command procedure.
This step is the same as that of the session establishment based on \'on
demand session\'.
_ïƒ  The estimated delay is about [700ms\~1500ms]._
(2) Set up of RAB in the UE-A side
RAB should be established for the existing PDP context through which the SIP
REFER message is transmitted by the UE-A.
This step is the same as that of the session establishment based on \'on
demand session\'.
_ïƒ  The estimated delay is about [700ms\~1500ms]._
(3) SIP signalling transfer delay (Part I)
When the user plan is ready to send the REFER message, the UE-A sends the
message to the PoC AS (A) and then PoC AS (A) sends the INVITE message to the
PoC AS (B).
_ïƒ  The estimated delay is less than [500ms]._
(4) SIP signalling transfer delay (Part II)
When it receives the INVITE message, the PoC AS (B) sends the AUTO-ANSWER
message to the PoC AS (A) without waiting for the response from the UE-B. It
is possible because a \'pre-established session\' has been set up beforehand.
The PoC AS (A) sends the Talk burst confirm to the UE-A when it receives the
AUTO-ANSWER message from the PoC AS (B).
_ïƒ  The estimated delay is less than [500ms]._
Therefore, the total estimated delay for the PoC session establishment (the
time when the User-A initiates a PoC session \~ the time when the User-A can
start to speak) is about [2400ms\~4000ms].
Note that the delay of the session establishment using \'pre-established
session\' is almost the same as that of the session establishment of \'on
demand session with automatic answer\'.
###### ### Annex C: Required SigComp performance
# C.1 Introduction
It is recognized that the SIP signalling transfer delay is dependent on:
\- Size of the messages sent over the radio link, which is dependent on the
performance of the signalling compression algorithm (SigComp, RFC 3320 [14]).
\- Available bandwidth over the radio link for signalling, which is dependent
on the maximum bit rate attribute settings for the PDP Context used for the
PoC control plane traffic.
This annex contains the analysis of required SigComp performance in order to
meet the delay budget for SIP signalling transfer delay presented in Annex B.
# C.2 Assumptions
The following assumptions have been used:
\- The on demand session using automatic answer is used and the inviting PoC
User is given an early \"right-to-speak\" indication as described in clause
5.3.2.2 and clause B.2.
\- A typical SIP INVITE message in an OMA PoC implementation will have
approximately the same size as the SIP INVITE message described as message 1
in clause 7.2.2.1 in TS 24.228 [15]. The size of the referred SIP INVITE is
1375 bytes not including UDP (or TCP) and IP overhead, therefore for OMA PoC
it is assumed that a SIP INVITE message will be in the order of 1400 bytes
including UDP (or TCP) and IP overhead.
\- A typical SIP 200 OK message in an OMA PoC implementation will have
approximately the same size as the SIP 200 OK message described as message 18
in clause 7.2.2.1 in TS 24.228 [15]. Therefore for OMA PoC it is assumed that
a SIP 200 OK message will be in the order of 800 bytes including UDP (or TCP)
and IP overhead.
\- A SIP 100 Trying message must be sent over the radio link as
acknowledgement of the SIP INVITE message. The size of the SIP 100 Trying is
300 bytes including UDP (or TCP) and IP overhead.
\- The talk burst confirm message is assumed to be 40 bytes including IP and
UDP overhead.
\- The processing time in the UE to produce and compress a SIP message is 50
ms.
\- The delays imposed by all involved core network elements, including the
core network of the radio access network (i.e. SGSN and GGSN) in a message
transfer (IMS Core and PoC AS) are 100 ms.
\- The duration between the times the inviting PoC User initiates the PoC
session and when he receives a \"right-to-speak\" indication should be less
than 2.0 seconds, as required in OMA_RD PoC [7].
\- All lower estimated delay values presented in clause B.2 apply.
# C.3 Estimation of SIP compression ratios
The duration between the times the inviting PoC User initiates the PoC session
and when he receives a \"right-to-speak\" indication shall be less than 2.0
seconds (2000 ms) according to OMA_RD PoC [7]. It is assumed that all lower
estimated delay values presented in clause B.2 applies. This means that a
total delay budget of less than 2000 ms --700 ms -- 700 ms = 600 ms is assumed
for the SIP signalling transfer delay (delay components (3) and (4)).
Table C.3-1 presents the delay budget given the assumptions presented in C.2.
Table C.3-1: Detailed description of the delay budget for SIP signalling
transfer delay
* * *
Action Delay Description The PoC Client produce and compress a SIP INVITE
message 50 ms  
The PoC Client transmit the SIP INVITE message to the PoC AS: *Radio transport
delay of SIP INVITE + 100 ms *Radio transport delay of SIP INVITE = (SIP
message size * Compression ratio) / Bit rate of radio link The IMS Core sends
a SIP 100 Trying to acknowledge the reception of the SIP INVITE **Radio
transport delay of SIP 100 Trying **Radio transport delay of SIP 100 Trying =
(SIP message size * Compression ratio) / Bit rate of radio link The PoC AS
transmits the SIP 200 OK message to the PoC Client: 100 ms + ***Radio
transport delay of SIP 200OK ***Radio transport delay of SIP 200OK = (SIP
message size * Compression ratio) / Bit rate of radio link The PoC AS
transmits a talk burst confirmed message to the PoC Client: ****Radio
transport delay of talk burst confirmed message ****Radio transport delay of
talk burst confirmed message = (talk burst confirmed message size) / Bit rate
of radio link Total SIP signalling transfer delay: 50 ms + 100 ms + 100 ms +
Radio transport delay of SIP INVITE + Radio transport delay of SIP 100 Trying
+ Radio transport delay of SIP 200OK + Radio transport delay of talk burst
confirmed message \ 8.06:1 16 kbps > 3.79:1 32
kbps > 1.84:1 64 kbps > 0.91:1
* * *
# C.4 SigComp requirements
Given that a low bit rate PS bearer (throughput \< 16 kbps) is used for the
PoC control plane traffic, SIP signalling compression ratios typically larger
than 3:1 is needed to meet the delay requirement stated in OMA_RD PoC [7].
Therefore it can be concluded that:
\- The decompression byte code should be stored as a state and should not be
sent from the transmitting node to the receiving node in every SigComp
message. This implies that a SigComp implementation used for PoC should have a
state memory size (SMS, see RFC 3320 [14]) larger than zero.
\- An SMS that is larger than zero enables stateful compression, which
probably is needed to obtain sufficient SIP signalling compression efficiency.
\- The initial creation of the SigComp compartment (see RFC 3320 [14]) is done
during IMS registration. The exchange and storing of the decompression byte
codes is recommended to be performed during the non time critical SIP message
exchange of the IMS Registration. This enables the transmission of compressed
SIP messages without the overhead of decompression byte codes even in the
first PoC Session after IMS Registration. However, the receiver of the byte
codes cannot assume that the byte codes are sent only during the IMS
registration.
The IMS support for SigComp is specified in TS 24.229 [16], which fulfils the
requirements as stated above. Consequently, IMS provides sufficient SigComp
support to fulfil the OMA delay requirements.
#