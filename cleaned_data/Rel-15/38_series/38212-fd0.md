# Foreword
This Technical Specification has been produced by the 3rd Generation
Partnership Project (3GPP).
The contents of the present document are subject to continuing work within the
TSG and may change following formal TSG approval. Should the TSG modify the
contents of the present document, it will be re-released by the TSG with an
identifying change of release date and an increase in version number as
follows:
Version x.y.z
where:
x the first digit:
1 presented to TSG for information;
2 presented to TSG for approval;
3 or greater indicates TSG approved document under change control.
y the second digit is incremented for all changes of substance, i.e. technical
enhancements, corrections, updates, etc.
z the third digit is incremented when editorial only changes have been
incorporated in the document.
# 1 Scope
The present document specifies the coding, multiplexing and mapping to
physical channels for 5G NR.
# 2 References
The following documents contain provisions which, through reference in this
text, constitute provisions of the present document.
\- References are either specific (identified by date of publication, edition
number, version number, etc.) or nonâ€‘specific.
\- For a specific reference, subsequent revisions do not apply.
\- For a non-specific reference, the latest version applies. In the case of a
reference to a 3GPP document (including a GSM document), a non-specific
reference implicitly refers to the latest version of that document _in the
same Release as the present document_.
[1] 3GPP TR 21.905: \"Vocabulary for 3GPP Specifications\".
[2] 3GPP TS 38.201: \"NR; Physical Layer -- General Description\"
[3] 3GPP TS 38.202: \"NR; Services provided by the physical layer\"
[4] 3GPP TS 38.211: \"NR; Physical channels and modulation\"
[5] 3GPP TS 38.213: \"NR; Physical layer procedures for control\"
[6] 3GPP TS 38.214: \"NR; Physical layer procedures for data\"
[7] 3GPP TS 38.215: \"NR; Physical layer measurements\"
[8] 3GPP TS 38.321: \"NR; Medium Access Control (MAC) protocol specification\"
[9] 3GPP TS 38.331: \"NR; Radio Resource Control (RRC) protocol
specification\"
# 3 Definitions, symbols and abbreviations
## 3.1 Definitions
For the purposes of the present document, the terms and definitions given in
TR 21.905 [1] and the following apply. A term defined in the present document
takes precedence over the definition of the same term, if any, in TR 21.905
[1].
## 3.2 Symbols
For the purposes of the present document, the following symbols apply:
## 3.3 Abbreviations
For the purposes of the present document, the abbreviations given in TR 21.905
[1] and the following apply. An abbreviation defined in the present document
takes precedence over the definition of the same abbreviation, if any, in TR
21.905 [1].
BCH Broadcast channel
CBG Code block group
CBGTI Code block group transmission information
CORESET Control resource set
CQI Channel quality indicator
CRC Cyclic redundancy check
CRI CSI-RS resource indicator
CSI Channel state information
CSI-RS CSI reference signal
DAI Downlink assignment index
DCI Downlink control information
DL Downlink
DL-SCH Downlink shared channel
DMRS Demodulation reference signal
HARQ Hybrid automatic repeat request
HARQ-ACK Hybrid automatic repeat request acknowledgement
LDPC Low density parity check
LI Layer indicator
MCS Modulation and coding scheme
OFDM Orthogonal frequency division multiplex
PBCH Physical broadcast channel
PCH Paging channel
PDCCH Physical downlink control channel
PDSCH Physical downlink shared channel
PMI Precoding matrix indicator
PRB Physical resource block
PRACH Physical random access channel
PTRS Phase-tracking reference signal
PUCCH Physical uplink control channel
PUSCH Physical uplink shared channel
RACH Random access channel
RI Rank indicator
RSRP Reference signal received power
SFN System frame number
SR Scheduling request
SRS Sounding reference signal
SS Synchronisation signal
SUL Supplementary uplink
TPC Transmit power control
TrCH Transport channel
UCI Uplink control information
UE User equipment
UL Uplink
UL-SCH Uplink shared channel
VRB Virtual resource block
ZP CSI-RS Zero power CSI-RS
# 4 Mapping to physical channels
## 4.1 Uplink
Table 4.1-1 specifies the mapping of the uplink transport channels to their
corresponding physical channels. Table 4.1-2 specifies the mapping of the
uplink control channel information to its corresponding physical channel.
Table 4.1-1
**TrCH** **Physical Channel**
* * *
UL-SCH PUSCH RACH PRACH
Table 4.1-2
**Control information** **Physical Channel**
* * *
UCI PUCCH, PUSCH
## 4.2 Downlink
Table 4.2-1 specifies the mapping of the downlink transport channels to their
corresponding physical channels. Table 4.2-2 specifies the mapping of the
downlink control channel information to its corresponding physical channel.
Table 4.2-1
**TrCH** **Physical Channel**
* * *
DL-SCH PDSCH BCH PBCH PCH PDSCH
Table 4.2-2
**Control information** **Physical Channel**
* * *
DCI PDCCH
# 5 General procedures
Data and control streams from/to MAC layer are encoded /decoded to offer
transport and control services over the radio transmission link. Channel
coding scheme is a combination of error detection, error correcting, rate
matching, interleaving and transport channel or control information mapping
onto/splitting from physical channels.
## 5.1 CRC calculation
Denote the input bits to the CRC computation by , and the parity bits by ,
where is the size of the input sequence and is the number of parity bits. The
parity bits are generated by one of the following cyclic generator
polynomials:
\- for a CRC length ;
\- for a CRC length ;
\- for a CRC length ;
\- for a CRC length ;
\- for a CRC length ;
\- for a CRC length .
The encoding is performed in a systematic form, which means that in GF(2), the
polynomial:
yields a remainder equal to 0 when divided by the corresponding CRC generator
polynomial.
The bits after CRC attachment are denoted by , where . The relation between
and is:
for
for .
## 5.2 Code block segmentation and code block CRC attachment
### 5.2.1 Polar coding
The input bit sequence to the code block segmentation is denoted by , where .
if
Number of code blocks: ;
else
Number of code blocks:
end if
;
for to
;
end for
for to
;
end for
;
for to
for to
;
;
end for
The sequence is used to calculate the CRC parity bits according to Clause 5.1
with a generator polynomial of length .
for to
;
end for
end for
The value of is no larger than 1706.
### 5.2.2 Low density parity check coding
The input bit sequence to the code block segmentation is denoted by , where .
If is larger than the maximum code block size , segmentation of the input bit
sequence is performed and an additional CRC sequence of bits is attached to
each code block.
For LDPC base graph 1, the maximum code block size is:
\- .
For LDPC base graph 2, the maximum code block size is:
\- .
Total number of code blocks _C_ is determined by:
if
Number of code blocks:
else
Number of code blocks: .
end if
The bits output from code block segmentation are denoted by , where is the
code block number, and is the number of bits for the code block number .
The number of bits in each code block is calculated as:
;
For LDPC base graph 1,
.
For LDPC base graph 2,
if
;
elseif
;
elseif
;
else
;
end if
> find the minimum value of in all sets of lifting sizes in Table 5.3.2-1,
> denoted as , such that , and set for LDPC base graph 1 and for LDPC base
> graph 2;
The bit sequence is calculated as:
;
for to
for to
;
;
end for
if
> The sequence is used to calculate the CRC parity bits according to Clause
> 5.1 with the generator polynomial .
for to
;
end for
end if
for to -- Insertion of filler bits
;
end for
end for
## 5.3 Channel coding
Usage of coding scheme for the different types of TrCH is shown in table
5.3-1. Usage of coding scheme for the different control information types is
shown in table 5.3-2.
Table 5.3-1: Usage of channel coding scheme for TrCHs
TrCH Coding scheme
* * *
UL-SCH LDPC DL-SCH  
PCH  
BCH Polar code
Table 5.3-2: Usage of channel coding scheme for control information
Control Information Coding scheme
* * *
DCI Polar code UCI Block code Polar code
### 5.3.1 Polar coding
The bit sequence input for a given code block to channel coding is denoted by,
where is the number of bits to encode. After encoding the bits are denoted by,
where and the value of is determined by the following:
Denote by the rate matching output sequence length as given in Clause 5.4.1;
If and
;
else
;
end if
;
;
where .
UE is not expected to be configured with , where is the number of parity check
bits defined in Clause 5.3.1.2.
#### 5.3.1.1 Interleaving
The bit sequence is interleaved into bit sequence as follows:
,
where the interleaving pattern is given by the following:
if
,
else
;
for to
if
;
;
end if
end for
end if
where is given by Table 5.3.1.1-1 and .
Table 5.3.1.1-1: Interleaving pattern
* * *
0 0 28 67 56 122 84 68 112 33 140 38 1 2 29 69 57 123 85 73 113 36 141 144 2 4
30 70 58 126 86 78 114 44 142 39 3 7 31 71 59 127 87 84 115 47 143 145 4 9 32
72 60 129 88 90 116 64 144 40 5 14 33 76 61 132 89 92 117 74 145 146 6 19 34
77 62 134 90 94 118 79 146 41 7 20 35 81 63 138 91 96 119 85 147 147 8 24 36
82 64 139 92 99 120 97 148 148 9 25 37 83 65 140 93 102 121 100 149 149 10 26
38 87 66 1 94 105 122 103 150 150 11 28 39 88 67 3 95 107 123 117 151 151 12
31 40 89 68 5 96 109 124 125 152 152 13 34 41 91 69 8 97 112 125 131 153 153
14 42 42 93 70 10 98 114 126 136 154 154 15 45 43 95 71 15 99 116 127 142 155
155 16 49 44 98 72 21 100 121 128 12 156 156 17 50 45 101 73 27 101 124 129 17
157 157 18 51 46 104 74 29 102 128 130 23 158 158 19 53 47 106 75 32 103 130
131 37 159 159 20 54 48 108 76 35 104 133 132 48 160 160 21 56 49 110 77 43
105 135 133 75 161 161 22 58 50 111 78 46 106 141 134 80 162 162 23 59 51 113
79 52 107 6 135 86 163 163 24 61 52 115 80 55 108 11 136 137  
25 62 53 118 81 57 109 16 137 143  
26 65 54 119 82 60 110 22 138 13  
27 66 55 120 83 63 111 30 139 18
* * *
#### 5.3.1.2 Polar encoding
The Polar sequence is given by Table 5.3.1.2-1, where denotes a bit index
before Polar encoding for and . The Polar sequence is in ascending order of
reliability , where denotes the reliability of bit index .
For any code block encoded to bits, a same Polar sequence is used. The Polar
sequence is a subset of Polar sequence with all elements of values less than ,
ordered in ascending order of reliability .
Denote as a set of bit indices in Polar sequence , and as the set of other bit
indices in Polar sequence , where and are given in Clause 5.4.1.1, , , and is
the number of parity check bits.
Denote as the -th Kronecker power of matrix , where .
For a bit index with , denote as the -th row of and as the row weight of ,
where is the number of ones in . Denote the set of bit indices for parity
check bits as , where . A number of parity check bits are placed in the least
reliable bit indices in . A number of other parity check bits are placed in
the bit indices of minimum row weight in , where denotes the most reliable bit
indices in ; if there are more than bit indices of the same minimum row weight
in , the other parity check bits are placed in the bit indices of the highest
reliability and the minimum row weight in .
Generate according to the following:
;
if
> ; ; ; ; ;
for to
; ; ; ; ; ;
if
if
;
else
;
;
;
end if
else
;
end if
end for
else
> for to
if
;
;
else
;
end if
> end for
end if
The output after encoding is obtained by . The encoding is performed in GF(2).
Table 5.3.1.2-1: Polar sequence and its corresponding reliability
* * *
0 0 128 518 256 94 384 214 512 364 640 414 768 819 896 966 1 1 129 54 257 204
385 309 513 654 641 223 769 814 897 755 2 2 130 83 258 298 386 188 514 659 642
663 770 439 898 859 3 4 131 57 259 400 387 449 515 335 643 692 771 929 899 940
4 8 132 521 260 608 388 217 516 480 644 835 772 490 900 830 5 16 133 112 261
352 389 408 517 315 645 619 773 623 901 911 6 32 134 135 262 325 390 609 518
221 646 472 774 671 902 871 7 3 135 78 263 533 391 596 519 370 647 455 775 739
903 639 8 5 136 289 264 155 392 551 520 613 648 796 776 916 904 888 9 64 137
194 265 210 393 650 521 422 649 809 777 463 905 479 10 9 138 85 266 305 394
229 522 425 650 714 778 843 906 946 11 6 139 276 267 547 395 159 523 451 651
721 779 381 907 750 12 17 140 522 268 300 396 420 524 614 652 837 780 497 908
969 13 10 141 58 269 109 397 310 525 543 653 716 781 930 909 508 14 18 142 168
270 184 398 541 526 235 654 864 782 821 910 861 15 128 143 139 271 534 399 773
527 412 655 810 783 726 911 757 16 12 144 99 272 537 400 610 528 343 656 606
784 961 912 970 17 33 145 86 273 115 401 657 529 372 657 912 785 872 913 919
18 65 146 60 274 167 402 333 530 775 658 722 786 492 914 875 19 20 147 280 275
225 403 119 531 317 659 696 787 631 915 862 20 256 148 89 276 326 404 600 532
222 660 377 788 729 916 758 21 34 149 290 277 306 405 339 533 426 661 435 789
700 917 948 22 24 150 529 278 772 406 218 534 453 662 817 790 443 918 977 23
36 151 524 279 157 407 368 535 237 663 319 791 741 919 923 24 7 152 196 280
656 408 652 536 559 664 621 792 845 920 972 25 129 153 141 281 329 409 230 537
833 665 812 793 920 921 761 26 66 154 101 282 110 410 391 538 804 666 484 794
382 922 877 27 512 155 147 283 117 411 313 539 712 667 430 795 822 923 952 28
11 156 176 284 212 412 450 540 834 668 838 796 851 924 495 29 40 157 142 285
171 413 542 541 661 669 667 797 730 925 703 30 68 158 530 286 776 414 334 542
808 670 488 798 498 926 935 31 130 159 321 287 330 415 233 543 779 671 239 799
880 927 978 32 19 160 31 288 226 416 555 544 617 672 378 800 742 928 883 33 13
161 200 289 549 417 774 545 604 673 459 801 445 929 762 34 48 162 90 290 538
418 175 546 433 674 622 802 471 930 503 35 14 163 545 291 387 419 123 547 720
675 627 803 635 931 925 36 72 164 292 292 308 420 658 548 816 676 437 804 932
932 878 37 257 165 322 293 216 421 612 549 836 677 380 805 687 933 735 38 21
166 532 294 416 422 341 550 347 678 818 806 903 934 993 39 132 167 263 295 271
423 777 551 897 679 461 807 825 935 885 40 35 168 149 296 279 424 220 552 243
680 496 808 500 936 939 41 258 169 102 297 158 425 314 553 662 681 669 809 846
937 994 42 26 170 105 298 337 426 424 554 454 682 679 810 745 938 980 43 513
171 304 299 550 427 395 555 318 683 724 811 826 939 926 44 80 172 296 300 672
428 673 556 675 684 841 812 732 940 764 45 37 173 163 301 118 429 583 557 618
685 629 813 446 941 941 46 25 174 92 302 332 430 355 558 898 686 351 814 962
942 967 47 22 175 47 303 579 431 287 559 781 687 467 815 936 943 886 48 136
176 267 304 540 432 183 560 376 688 438 816 475 944 831 49 260 177 385 305 389
433 234 561 428 689 737 817 853 945 947 50 264 178 546 306 173 434 125 562 665
690 251 818 867 946 507 51 38 179 324 307 121 435 557 563 736 691 462 819 637
947 889 52 514 180 208 308 553 436 660 564 567 692 442 820 907 948 984 53 96
181 386 309 199 437 616 565 840 693 441 821 487 949 751 54 67 182 150 310 784
438 342 566 625 694 469 822 695 950 942 55 41 183 153 311 179 439 316 567 238
695 247 823 746 951 996 56 144 184 165 312 228 440 241 568 359 696 683 824 828
952 971 57 28 185 106 313 338 441 778 569 457 697 842 825 753 953 890 58 69
186 55 314 312 442 563 570 399 698 738 826 854 954 509 59 42 187 328 315 704
443 345 571 787 699 899 827 857 955 949 60 516 188 536 316 390 444 452 572 591
700 670 828 504 956 973 61 49 189 577 317 174 445 397 573 678 701 783 829 799
957 1000 62 74 190 548 318 554 446 403 574 434 702 849 830 255 958 892 63 272
191 113 319 581 447 207 575 677 703 820 831 964 959 950 64 160 192 154 320 393
448 674 576 349 704 728 832 909 960 863 65 520 193 79 321 283 449 558 577 245
705 928 833 719 961 759 66 288 194 269 322 122 450 785 578 458 706 791 834 477
962 1008 67 528 195 108 323 448 451 432 579 666 707 367 835 915 963 510 68 192
196 578 324 353 452 357 580 620 708 901 836 638 964 979 69 544 197 224 325 561
453 187 581 363 709 630 837 748 965 953 70 70 198 166 326 203 454 236 582 127
710 685 838 944 966 763 71 44 199 519 327 63 455 664 583 191 711 844 839 869
967 974 72 131 200 552 328 340 456 624 584 782 712 633 840 491 968 954 73 81
201 195 329 394 457 587 585 407 713 711 841 699 969 879 74 50 202 270 330 527
458 780 586 436 714 253 842 754 970 981 75 73 203 641 331 582 459 705 587 626
715 691 843 858 971 982 76 15 204 523 332 556 460 126 588 571 716 824 844 478
972 927 77 320 205 275 333 181 461 242 589 465 717 902 845 968 973 995 78 133
206 580 334 295 462 565 590 681 718 686 846 383 974 765 79 52 207 291 335 285
463 398 591 246 719 740 847 910 975 956 80 23 208 59 336 232 464 346 592 707
720 850 848 815 976 887 81 134 209 169 337 124 465 456 593 350 721 375 849 976
977 985 82 384 210 560 338 205 466 358 594 599 722 444 850 870 978 997 83 76
211 114 339 182 467 405 595 668 723 470 851 917 979 986 84 137 212 277 340 643
468 303 596 790 724 483 852 727 980 943 85 82 213 156 341 562 469 569 597 460
725 415 853 493 981 891 86 56 214 87 342 286 470 244 598 249 726 485 854 873
982 998 87 27 215 197 343 585 471 595 599 682 727 905 855 701 983 766 88 97
216 116 344 299 472 189 600 573 728 795 856 931 984 511 89 39 217 170 345 354
473 566 601 411 729 473 857 756 985 988 90 259 218 61 346 211 474 676 602 803
730 634 858 860 986 1001 91 84 219 531 347 401 475 361 603 789 731 744 859 499
987 951 92 138 220 525 348 185 476 706 604 709 732 852 860 731 988 1002 93 145
221 642 349 396 477 589 605 365 733 960 861 823 989 893 94 261 222 281 350 344
478 215 606 440 734 865 862 922 990 975 95 29 223 278 351 586 479 786 607 628
735 693 863 874 991 894 96 43 224 526 352 645 480 647 608 689 736 797 864 918
992 1009 97 98 225 177 353 593 481 348 609 374 737 906 865 502 993 955 98 515
226 293 354 535 482 419 610 423 738 715 866 933 994 1004 99 88 227 388 355 240
483 406 611 466 739 807 867 743 995 1010 100 140 228 91 356 206 484 464 612
793 740 474 868 760 996 957 101 30 229 584 357 95 485 680 613 250 741 636 869
881 997 983 102 146 230 769 358 327 486 801 614 371 742 694 870 494 998 958
103 71 231 198 359 564 487 362 615 481 743 254 871 702 999 987 104 262 232 172
360 800 488 590 616 574 744 717 872 921 1000 1012 105 265 233 120 361 402 489
409 617 413 745 575 873 501 1001 999 106 161 234 201 362 356 490 570 618 603
746 913 874 876 1002 1016 107 576 235 336 363 307 491 788 619 366 747 798 875
847 1003 767 108 45 236 62 364 301 492 597 620 468 748 811 876 992 1004 989
109 100 237 282 365 417 493 572 621 655 749 379 877 447 1005 1003 110 640 238
143 366 213 494 219 622 900 750 697 878 733 1006 990 111 51 239 103 367 568
495 311 623 805 751 431 879 827 1007 1005 112 148 240 178 368 832 496 708 624
615 752 607 880 934 1008 959 113 46 241 294 369 588 497 598 625 684 753 489
881 882 1009 1011 114 75 242 93 370 186 498 601 626 710 754 866 882 937 1010
1013 115 266 243 644 371 646 499 651 627 429 755 723 883 963 1011 895 116 273
244 202 372 404 500 421 628 794 756 486 884 747 1012 1006 117 517 245 592 373
227 501 792 629 252 757 908 885 505 1013 1014 118 104 246 323 374 896 502 802
630 373 758 718 886 855 1014 1017 119 162 247 392 375 594 503 611 631 605 759
813 887 924 1015 1018 120 53 248 297 376 418 504 602 632 848 760 476 888 734
1016 991 121 193 249 770 377 302 505 410 633 690 761 856 889 829 1017 1020 122
152 250 107 378 649 506 231 634 713 762 839 890 965 1018 1007 123 77 251 180
379 771 507 688 635 632 763 725 891 938 1019 1015 124 164 252 151 380 360 508
653 636 482 764 698 892 884 1020 1019 125 768 253 209 381 539 509 248 637 806
765 914 893 506 1021 1021 126 268 254 284 382 111 510 369 638 427 766 752 894
749 1022 1022 127 274 255 648 383 331 511 190 639 904 767 868 895 945 1023
1023
* * *
### 5.3.2 Low density parity check coding
The bit sequence input for a given code block to channel coding is denoted by
, where is the number of bits to encode as defined in Clause 5.2.2. After
encoding the bits are denoted by , where for LDPC base graph 1 and for LDPC
base graph 2, and the value of is given in Clause 5.2.2.
For a code block encoded by LDPC, the following encoding procedure applies:
1) Find the set with index in Table 5.3.2-1 which contains .
2) for to
if
;
else
;
;
end if
end for
3) Generate parity bits such that , where ; is a column vector of all elements
equal to 0. The encoding is performed in GF(2).
For LDPC base graph 1, a matrix of has 46 rows with row indices and 68 columns
with column indices . For LDPC base graph 2, a matrix of has 42 rows with row
indices and 52 columns with column indices . The elements in with row and
column indices given in Table 5.3.2-2 (for LDPC base graph 1) and Table
5.3.2-3 (for LDPC base graph 2) are of value 1, and all other elements in are
of value 0.
The matrix is obtained by replacing each element of with a matrix, according
to the following:
\- Each element of value 0 in is replaced by an all zero matrix of size ;
\- Each element of value 1 in is replaced by a circular permutation matrix of
size , where and are the row and column indices of the element, and is
obtained by circularly shifting the identity matrix of size to the right
times. The value of is given by . The value of is given by Tables 5.3.2-2 and
5.3.2-3 according to the set index and LDPC base graph.
4) for to
;
end for
Table 5.3.2-1: Sets of LDPC lifting size
_Set index ()_ _Set of lifting sizes ()_
* * *
0 {2, 4, 8, 16, 32, 64, 128, 256} 1 {3, 6, 12, 24, 48, 96, 192, 384} 2 {5, 10,
20, 40, 80, 160, 320} 3 {7, 14, 28, 56, 112, 224} 4 {9, 18, 36, 72, 144, 288}
5 {11, 22, 44, 88, 176, 352} 6 {13, 26, 52, 104, 208} 7 {15, 30, 60, 120, 240}
Table 5.3.2-2: LDPC base graph 1 () and its parity check matrices ()
Row index | Column index | Set index | Row index | Column index | Set index |  |  |  |  |  |  |  |  |  |  |  |  |  |   
---|---|---|---|---|---|---|---|---|---|---|---|---|---|---|---|---|---|---|---  
|  | 0 | 1 | 2 | 3 | 4 | 5 | 6 | 7 |  |  | 0 | 1 | 2 | 3 | 4 | 5 | 6 | 7  
0 | 0 | 250 | 307 | 73 | 223 | 211 | 294 | 0 | 135 | 15 | 1 | 96 | 2 | 290 | 120 | 0 | 348 | 6 | 138  
| 1 | 69 | 19 | 15 | 16 | 198 | 118 | 0 | 227 |  | 10 | 65 | 210 | 60 | 131 | 183 | 15 | 81 | 220  
| 2 | 226 | 50 | 103 | 94 | 188 | 167 | 0 | 126 |  | 13 | 63 | 318 | 130 | 209 | 108 | 81 | 182 | 173  
| 3 | 159 | 369 | 49 | 91 | 186 | 330 | 0 | 134 |  | 18 | 75 | 55 | 184 | 209 | 68 | 176 | 53 | 142  
| 5 | 100 | 181 | 240 | 74 | 219 | 207 | 0 | 84 |  | 25 | 179 | 269 | 51 | 81 | 64 | 113 | 46 | 49  
| 6 | 10 | 216 | 39 | 10 | 4 | 165 | 0 | 83 |  | 37 | 0 | 0 | 0 | 0 | 0 | 0 | 0 | 0  
| 9 | 59 | 317 | 15 | 0 | 29 | 243 | 0 | 53 | 16 | 1 | 64 | 13 | 69 | 154 | 270 | 190 | 88 | 78  
| 10 | 229 | 288 | 162 | 205 | 144 | 250 | 0 | 225 |  | 3 | 49 | 338 | 140 | 164 | 13 | 293 | 198 | 152  
| 11 | 110 | 109 | 215 | 216 | 116 | 1 | 0 | 205 |  | 11 | 49 | 57 | 45 | 43 | 99 | 332 | 160 | 84  
| 12 | 191 | 17 | 164 | 21 | 216 | 339 | 0 | 128 |  | 20 | 51 | 289 | 115 | 189 | 54 | 331 | 122 | 5  
| 13 | 9 | 357 | 133 | 215 | 115 | 201 | 0 | 75 |  | 22 | 154 | 57 | 300 | 101 | 0 | 114 | 182 | 205  
| 15 | 195 | 215 | 298 | 14 | 233 | 53 | 0 | 135 |  | 38 | 0 | 0 | 0 | 0 | 0 | 0 | 0 | 0  
| 16 | 23 | 106 | 110 | 70 | 144 | 347 | 0 | 217 | 17 | 0 | 7 | 260 | 257 | 56 | 153 | 110 | 91 | 183  
| 18 | 190 | 242 | 113 | 141 | 95 | 304 | 0 | 220 |  | 14 | 164 | 303 | 147 | 110 | 137 | 228 | 184 | 112  
| 19 | 35 | 180 | 16 | 198 | 216 | 167 | 0 | 90 |  | 16 | 59 | 81 | 128 | 200 | 0 | 247 | 30 | 106  
| 20 | 239 | 330 | 189 | 104 | 73 | 47 | 0 | 105 |  | 17 | 1 | 358 | 51 | 63 | 0 | 116 | 3 | 219  
| 21 | 31 | 346 | 32 | 81 | 261 | 188 | 0 | 137 |  | 21 | 144 | 375 | 228 | 4 | 162 | 190 | 155 | 129  
| 22 | 1 | 1 | 1 | 1 | 1 | 1 | 0 | 1 |  | 39 | 0 | 0 | 0 | 0 | 0 | 0 | 0 | 0  
| 23 | 0 | 0 | 0 | 0 | 0 | 0 | 0 | 0 | 18 | 1 | 42 | 130 | 260 | 199 | 161 | 47 | 1 | 183  
1 | 0 | 2 | 76 | 303 | 141 | 179 | 77 | 22 | 96 |  | 12 | 233 | 163 | 294 | 110 | 151 | 286 | 41 | 215  
| 2 | 239 | 76 | 294 | 45 | 162 | 225 | 11 | 236 |  | 13 | 8 | 280 | 291 | 200 | 0 | 246 | 167 | 180  
| 3 | 117 | 73 | 27 | 151 | 223 | 96 | 124 | 136 |  | 18 | 155 | 132 | 141 | 143 | 241 | 181 | 68 | 143  
| 4 | 124 | 288 | 261 | 46 | 256 | 338 | 0 | 221 |  | 19 | 147 | 4 | 295 | 186 | 144 | 73 | 148 | 14  
| 5 | 71 | 144 | 161 | 119 | 160 | 268 | 10 | 128 |  | 40 | 0 | 0 | 0 | 0 | 0 | 0 | 0 | 0  
| 7 | 222 | 331 | 133 | 157 | 76 | 112 | 0 | 92 | 19 | 0 | 60 | 145 | 64 | 8 | 0 | 87 | 12 | 179  
| 8 | 104 | 331 | 4 | 133 | 202 | 302 | 0 | 172 |  | 1 | 73 | 213 | 181 | 6 | 0 | 110 | 6 | 108  
| 9 | 173 | 178 | 80 | 87 | 117 | 50 | 2 | 56 |  | 7 | 72 | 344 | 101 | 103 | 118 | 147 | 166 | 159  
| 11 | 220 | 295 | 129 | 206 | 109 | 167 | 16 | 11 |  | 8 | 127 | 242 | 270 | 198 | 144 | 258 | 184 | 138  
| 12 | 102 | 342 | 300 | 93 | 15 | 253 | 60 | 189 |  | 10 | 224 | 197 | 41 | 8 | 0 | 204 | 191 | 196  
| 14 | 109 | 217 | 76 | 79 | 72 | 334 | 0 | 95 |  | 41 | 0 | 0 | 0 | 0 | 0 | 0 | 0 | 0  
| 15 | 132 | 99 | 266 | 9 | 152 | 242 | 6 | 85 | 20 | 0 | 151 | 187 | 301 | 105 | 265 | 89 | 6 | 77  
| 16 | 142 | 354 | 72 | 118 | 158 | 257 | 30 | 153 |  | 3 | 186 | 206 | 162 | 210 | 81 | 65 | 12 | 187  
| 17 | 155 | 114 | 83 | 194 | 147 | 133 | 0 | 87 |  | 9 | 217 | 264 | 40 | 121 | 90 | 155 | 15 | 203  
| 19 | 255 | 331 | 260 | 31 | 156 | 9 | 168 | 163 |  | 11 | 47 | 341 | 130 | 214 | 144 | 244 | 5 | 167  
| 21 | 28 | 112 | 301 | 187 | 119 | 302 | 31 | 216 |  | 22 | 160 | 59 | 10 | 183 | 228 | 30 | 30 | 130  
| 22 | 0 | 0 | 0 | 0 | 0 | 0 | 105 | 0 |  | 42 | 0 | 0 | 0 | 0 | 0 | 0 | 0 | 0  
| 23 | 0 | 0 | 0 | 0 | 0 | 0 | 0 | 0 | 21 | 1 | 249 | 205 | 79 | 192 | 64 | 162 | 6 | 197  
| 24 | 0 | 0 | 0 | 0 | 0 | 0 | 0 | 0 |  | 5 | 121 | 102 | 175 | 131 | 46 | 264 | 86 | 122  
2 | 0 | 106 | 205 | 68 | 207 | 258 | 226 | 132 | 189 |  | 16 | 109 | 328 | 132 | 220 | 266 | 346 | 96 | 215  
| 1 | 111 | 250 | 7 | 203 | 167 | 35 | 37 | 4 |  | 20 | 131 | 213 | 283 | 50 | 9 | 143 | 42 | 65  
| 2 | 185 | 328 | 80 | 31 | 220 | 213 | 21 | 225 |  | 21 | 171 | 97 | 103 | 106 | 18 | 109 | 199 | 216  
| 4 | 63 | 332 | 280 | 176 | 133 | 302 | 180 | 151 |  | 43 | 0 | 0 | 0 | 0 | 0 | 0 | 0 | 0  
| 5 | 117 | 256 | 38 | 180 | 243 | 111 | 4 | 236 | 22 | 0 | 64 | 30 | 177 | 53 | 72 | 280 | 44 | 25  
| 6 | 93 | 161 | 227 | 186 | 202 | 265 | 149 | 117 |  | 12 | 142 | 11 | 20 | 0 | 189 | 157 | 58 | 47  
| 7 | 229 | 267 | 202 | 95 | 218 | 128 | 48 | 179 |  | 13 | 188 | 233 | 55 | 3 | 72 | 236 | 130 | 126  
| 8 | 177 | 160 | 200 | 153 | 63 | 237 | 38 | 92 |  | 17 | 158 | 22 | 316 | 148 | 257 | 113 | 131 | 178  
| 9 | 95 | 63 | 71 | 177 | 0 | 294 | 122 | 24 |  | 44 | 0 | 0 | 0 | 0 | 0 | 0 | 0 | 0  
| 10 | 39 | 129 | 106 | 70 | 3 | 127 | 195 | 68 | 23 | 1 | 156 | 24 | 249 | 88 | 180 | 18 | 45 | 185  
| 13 | 142 | 200 | 295 | 77 | 74 | 110 | 155 | 6 |  | 2 | 147 | 89 | 50 | 203 | 0 | 6 | 18 | 127  
| 14 | 225 | 88 | 283 | 214 | 229 | 286 | 28 | 101 |  | 10 | 170 | 61 | 133 | 168 | 0 | 181 | 132 | 117  
| 15 | 225 | 53 | 301 | 77 | 0 | 125 | 85 | 33 |  | 18 | 152 | 27 | 105 | 122 | 165 | 304 | 100 | 199  
| 17 | 245 | 131 | 184 | 198 | 216 | 131 | 47 | 96 |  | 45 | 0 | 0 | 0 | 0 | 0 | 0 | 0 | 0  
| 18 | 205 | 240 | 246 | 117 | 269 | 163 | 179 | 125 | 24 | 0 | 112 | 298 | 289 | 49 | 236 | 38 | 9 | 32  
| 19 | 251 | 205 | 230 | 223 | 200 | 210 | 42 | 67 |  | 3 | 86 | 158 | 280 | 157 | 199 | 170 | 125 | 178  
| 20 | 117 | 13 | 276 | 90 | 234 | 7 | 66 | 230 |  | 4 | 236 | 235 | 110 | 64 | 0 | 249 | 191 | 2  
| 24 | 0 | 0 | 0 | 0 | 0 | 0 | 0 | 0 |  | 11 | 116 | 339 | 187 | 193 | 266 | 288 | 28 | 156  
| 25 | 0 | 0 | 0 | 0 | 0 | 0 | 0 | 0 |  | 22 | 222 | 234 | 281 | 124 | 0 | 194 | 6 | 58  
3 | 0 | 121 | 276 | 220 | 201 | 187 | 97 | 4 | 128 |  | 46 | 0 | 0 | 0 | 0 | 0 | 0 | 0 | 0  
| 1 | 89 | 87 | 208 | 18 | 145 | 94 | 6 | 23 | 25 | 1 | 23 | 72 | 172 | 1 | 205 | 279 | 4 | 27  
| 3 | 84 | 0 | 30 | 165 | 166 | 49 | 33 | 162 |  | 6 | 136 | 17 | 295 | 166 | 0 | 255 | 74 | 141  
| 4 | 20 | 275 | 197 | 5 | 108 | 279 | 113 | 220 |  | 7 | 116 | 383 | 96 | 65 | 0 | 111 | 16 | 11  
| 6 | 150 | 199 | 61 | 45 | 82 | 139 | 49 | 43 |  | 14 | 182 | 312 | 46 | 81 | 183 | 54 | 28 | 181  
| 7 | 131 | 153 | 175 | 142 | 132 | 166 | 21 | 186 |  | 47 | 0 | 0 | 0 | 0 | 0 | 0 | 0 | 0  
| 8 | 243 | 56 | 79 | 16 | 197 | 91 | 6 | 96 | 26 | 0 | 195 | 71 | 270 | 107 | 0 | 325 | 21 | 163  
| 10 | 136 | 132 | 281 | 34 | 41 | 106 | 151 | 1 |  | 2 | 243 | 81 | 110 | 176 | 0 | 326 | 142 | 131  
| 11 | 86 | 305 | 303 | 155 | 162 | 246 | 83 | 216 |  | 4 | 215 | 76 | 318 | 212 | 0 | 226 | 192 | 169  
| 12 | 246 | 231 | 253 | 213 | 57 | 345 | 154 | 22 |  | 15 | 61 | 136 | 67 | 127 | 277 | 99 | 197 | 98  
| 13 | 219 | 341 | 164 | 147 | 36 | 269 | 87 | 24 |  | 48 | 0 | 0 | 0 | 0 | 0 | 0 | 0 | 0  
| 14 | 211 | 212 | 53 | 69 | 115 | 185 | 5 | 167 | 27 | 1 | 25 | 194 | 210 | 208 | 45 | 91 | 98 | 165  
| 16 | 240 | 304 | 44 | 96 | 242 | 249 | 92 | 200 |  | 6 | 104 | 194 | 29 | 141 | 36 | 326 | 140 | 232  
| 17 | 76 | 300 | 28 | 74 | 165 | 215 | 173 | 32 |  | 8 | 194 | 101 | 304 | 174 | 72 | 268 | 22 | 9  
| 18 | 244 | 271 | 77 | 99 | 0 | 143 | 120 | 235 |  | 49 | 0 | 0 | 0 | 0 | 0 | 0 | 0 | 0  
| 20 | 144 | 39 | 319 | 30 | 113 | 121 | 2 | 172 | 28 | 0 | 128 | 222 | 11 | 146 | 275 | 102 | 4 | 32  
| 21 | 12 | 357 | 68 | 158 | 108 | 121 | 142 | 219 |  | 4 | 165 | 19 | 293 | 153 | 0 | 1 | 1 | 43  
| 22 | 1 | 1 | 1 | 1 | 1 | 1 | 0 | 1 |  | 19 | 181 | 244 | 50 | 217 | 155 | 40 | 40 | 200  
| 25 | 0 | 0 | 0 | 0 | 0 | 0 | 0 | 0 |  | 21 | 63 | 274 | 234 | 114 | 62 | 167 | 93 | 205  
4 | 0 | 157 | 332 | 233 | 170 | 246 | 42 | 24 | 64 |  | 50 | 0 | 0 | 0 | 0 | 0 | 0 | 0 | 0  
| 1 | 102 | 181 | 205 | 10 | 235 | 256 | 204 | 211 | 29 | 1 | 86 | 252 | 27 | 150 | 0 | 273 | 92 | 232  
| 26 | 0 | 0 | 0 | 0 | 0 | 0 | 0 | 0 |  | 14 | 236 | 5 | 308 | 11 | 180 | 104 | 136 | 32  
5 | 0 | 205 | 195 | 83 | 164 | 261 | 219 | 185 | 2 |  | 18 | 84 | 147 | 117 | 53 | 0 | 243 | 106 | 118  
| 1 | 236 | 14 | 292 | 59 | 181 | 130 | 100 | 171 |  | 25 | 6 | 78 | 29 | 68 | 42 | 107 | 6 | 103  
| 3 | 194 | 115 | 50 | 86 | 72 | 251 | 24 | 47 |  | 51 | 0 | 0 | 0 | 0 | 0 | 0 | 0 | 0  
| 12 | 231 | 166 | 318 | 80 | 283 | 322 | 65 | 143 | 30 | 0 | 216 | 159 | 91 | 34 | 0 | 171 | 2 | 170  
| 16 | 28 | 241 | 201 | 182 | 254 | 295 | 207 | 210 |  | 10 | 73 | 229 | 23 | 130 | 90 | 16 | 88 | 199  
| 21 | 123 | 51 | 267 | 130 | 79 | 258 | 161 | 180 |  | 13 | 120 | 260 | 105 | 210 | 252 | 95 | 112 | 26  
| 22 | 115 | 157 | 279 | 153 | 144 | 283 | 72 | 180 |  | 24 | 9 | 90 | 135 | 123 | 173 | 212 | 20 | 105  
| 27 | 0 | 0 | 0 | 0 | 0 | 0 | 0 | 0 |  | 52 | 0 | 0 | 0 | 0 | 0 | 0 | 0 | 0  
6 | 0 | 183 | 278 | 289 | 158 | 80 | 294 | 6 | 199 | 31 | 1 | 95 | 100 | 222 | 175 | 144 | 101 | 4 | 73  
| 6 | 22 | 257 | 21 | 119 | 144 | 73 | 27 | 22 |  | 7 | 177 | 215 | 308 | 49 | 144 | 297 | 49 | 149  
| 10 | 28 | 1 | 293 | 113 | 169 | 330 | 163 | 23 |  | 22 | 172 | 258 | 66 | 177 | 166 | 279 | 125 | 175  
| 11 | 67 | 351 | 13 | 21 | 90 | 99 | 50 | 100 |  | 25 | 61 | 256 | 162 | 128 | 19 | 222 | 194 | 108  
| 13 | 244 | 92 | 232 | 63 | 59 | 172 | 48 | 92 |  | 53 | 0 | 0 | 0 | 0 | 0 | 0 | 0 | 0  
| 17 | 11 | 253 | 302 | 51 | 177 | 150 | 24 | 207 | 32 | 0 | 221 | 102 | 210 | 192 | 0 | 351 | 6 | 103  
| 18 | 157 | 18 | 138 | 136 | 151 | 284 | 38 | 52 |  | 12 | 112 | 201 | 22 | 209 | 211 | 265 | 126 | 110  
| 20 | 211 | 225 | 235 | 116 | 108 | 305 | 91 | 13 |  | 14 | 199 | 175 | 271 | 58 | 36 | 338 | 63 | 151  
| 28 | 0 | 0 | 0 | 0 | 0 | 0 | 0 | 0 |  | 24 | 121 | 287 | 217 | 30 | 162 | 83 | 20 | 211  
7 | 0 | 220 | 9 | 12 | 17 | 169 | 3 | 145 | 77 |  | 54 | 0 | 0 | 0 | 0 | 0 | 0 | 0 | 0  
| 1 | 44 | 62 | 88 | 76 | 189 | 103 | 88 | 146 | 33 | 1 | 2 | 323 | 170 | 114 | 0 | 56 | 10 | 199  
| 4 | 159 | 316 | 207 | 104 | 154 | 224 | 112 | 209 |  | 2 | 187 | 8 | 20 | 49 | 0 | 304 | 30 | 132  
| 7 | 31 | 333 | 50 | 100 | 184 | 297 | 153 | 32 |  | 11 | 41 | 361 | 140 | 161 | 76 | 141 | 6 | 172  
| 8 | 167 | 290 | 25 | 150 | 104 | 215 | 159 | 166 |  | 21 | 211 | 105 | 33 | 137 | 18 | 101 | 92 | 65  
| 14 | 104 | 114 | 76 | 158 | 164 | 39 | 76 | 18 |  | 55 | 0 | 0 | 0 | 0 | 0 | 0 | 0 | 0  
| 29 | 0 | 0 | 0 | 0 | 0 | 0 | 0 | 0 | 34 | 0 | 127 | 230 | 187 | 82 | 197 | 60 | 4 | 161  
8 | 0 | 112 | 307 | 295 | 33 | 54 | 348 | 172 | 181 |  | 7 | 167 | 148 | 296 | 186 | 0 | 320 | 153 | 237  
| 1 | 4 | 179 | 133 | 95 | 0 | 75 | 2 | 105 |  | 15 | 164 | 202 | 5 | 68 | 108 | 112 | 197 | 142  
| 3 | 7 | 165 | 130 | 4 | 252 | 22 | 131 | 141 |  | 17 | 159 | 312 | 44 | 150 | 0 | 54 | 155 | 180  
| 12 | 211 | 18 | 231 | 217 | 41 | 312 | 141 | 223 |  | 56 | 0 | 0 | 0 | 0 | 0 | 0 | 0 | 0  
| 16 | 102 | 39 | 296 | 204 | 98 | 224 | 96 | 177 | 35 | 1 | 161 | 320 | 207 | 192 | 199 | 100 | 4 | 231  
| 19 | 164 | 224 | 110 | 39 | 46 | 17 | 99 | 145 |  | 6 | 197 | 335 | 158 | 173 | 278 | 210 | 45 | 174  
| 21 | 109 | 368 | 269 | 58 | 15 | 59 | 101 | 199 |  | 12 | 207 | 2 | 55 | 26 | 0 | 195 | 168 | 145  
| 22 | 241 | 67 | 245 | 44 | 230 | 314 | 35 | 153 |  | 22 | 103 | 266 | 285 | 187 | 205 | 268 | 185 | 100  
| 24 | 90 | 170 | 154 | 201 | 54 | 244 | 116 | 38 |  | 57 | 0 | 0 | 0 | 0 | 0 | 0 | 0 | 0  
| 30 | 0 | 0 | 0 | 0 | 0 | 0 | 0 | 0 | 36 | 0 | 37 | 210 | 259 | 222 | 216 | 135 | 6 | 11  
9 | 0 | 103 | 366 | 189 | 9 | 162 | 156 | 6 | 169 |  | 14 | 105 | 313 | 179 | 157 | 16 | 15 | 200 | 207  
| 1 | 182 | 232 | 244 | 37 | 159 | 88 | 10 | 12 |  | 15 | 51 | 297 | 178 | 0 | 0 | 35 | 177 | 42  
| 10 | 109 | 321 | 36 | 213 | 93 | 293 | 145 | 206 |  | 18 | 120 | 21 | 160 | 6 | 0 | 188 | 43 | 100  
| 11 | 21 | 133 | 286 | 105 | 134 | 111 | 53 | 221 |  | 58 | 0 | 0 | 0 | 0 | 0 | 0 | 0 | 0  
| 13 | 142 | 57 | 151 | 89 | 45 | 92 | 201 | 17 | 37 | 1 | 198 | 269 | 298 | 81 | 72 | 319 | 82 | 59  
| 17 | 14 | 303 | 267 | 185 | 132 | 152 | 4 | 212 |  | 13 | 220 | 82 | 15 | 195 | 144 | 236 | 2 | 204  
| 18 | 61 | 63 | 135 | 109 | 76 | 23 | 164 | 92 |  | 23 | 122 | 115 | 115 | 138 | 0 | 85 | 135 | 161  
| 20 | 216 | 82 | 209 | 218 | 209 | 337 | 173 | 205 |  | 59 | 0 | 0 | 0 | 0 | 0 | 0 | 0 | 0  
| 31 | 0 | 0 | 0 | 0 | 0 | 0 | 0 | 0 | 38 | 0 | 167 | 185 | 151 | 123 | 190 | 164 | 91 | 121  
10 | 1 | 98 | 101 | 14 | 82 | 178 | 175 | 126 | 116 |  | 9 | 151 | 177 | 179 | 90 | 0 | 196 | 64 | 90  
| 2 | 149 | 339 | 80 | 165 | 1 | 253 | 77 | 151 |  | 10 | 157 | 289 | 64 | 73 | 0 | 209 | 198 | 26  
| 4 | 167 | 274 | 211 | 174 | 28 | 27 | 156 | 70 |  | 12 | 163 | 214 | 181 | 10 | 0 | 246 | 100 | 140  
| 7 | 160 | 111 | 75 | 19 | 267 | 231 | 16 | 230 |  | 60 | 0 | 0 | 0 | 0 | 0 | 0 | 0 | 0  
| 8 | 49 | 383 | 161 | 194 | 234 | 49 | 12 | 115 | 39 | 1 | 173 | 258 | 102 | 12 | 153 | 236 | 4 | 115  
| 14 | 58 | 354 | 311 | 103 | 201 | 267 | 70 | 84 |  | 3 | 139 | 93 | 77 | 77 | 0 | 264 | 28 | 188  
| 32 | 0 | 0 | 0 | 0 | 0 | 0 | 0 | 0 |  | 7 | 149 | 346 | 192 | 49 | 165 | 37 | 109 | 168  
11 | 0 | 77 | 48 | 16 | 52 | 55 | 25 | 184 | 45 |  | 19 | 0 | 297 | 208 | 114 | 117 | 272 | 188 | 52  
| 1 | 41 | 102 | 147 | 11 | 23 | 322 | 194 | 115 |  | 61 | 0 | 0 | 0 | 0 | 0 | 0 | 0 | 0  
| 12 | 83 | 8 | 290 | 2 | 274 | 200 | 123 | 134 | 40 | 0 | 157 | 175 | 32 | 67 | 216 | 304 | 10 | 4  
| 16 | 182 | 47 | 289 | 35 | 181 | 351 | 16 | 1 |  | 8 | 137 | 37 | 80 | 45 | 144 | 237 | 84 | 103  
| 21 | 78 | 188 | 177 | 32 | 273 | 166 | 104 | 152 |  | 17 | 149 | 312 | 197 | 96 | 2 | 135 | 12 | 30  
| 22 | 252 | 334 | 43 | 84 | 39 | 338 | 109 | 165 |  | 62 | 0 | 0 | 0 | 0 | 0 | 0 | 0 | 0  
| 23 | 22 | 115 | 280 | 201 | 26 | 192 | 124 | 107 | 41 | 1 | 167 | 52 | 154 | 23 | 0 | 123 | 2 | 53  
| 33 | 0 | 0 | 0 | 0 | 0 | 0 | 0 | 0 |  | 3 | 173 | 314 | 47 | 215 | 0 | 77 | 75 | 189  
12 | 0 | 160 | 77 | 229 | 142 | 225 | 123 | 6 | 186 |  | 9 | 139 | 139 | 124 | 60 | 0 | 25 | 142 | 215  
| 1 | 42 | 186 | 235 | 175 | 162 | 217 | 20 | 215 |  | 18 | 151 | 288 | 207 | 167 | 183 | 272 | 128 | 24  
| 10 | 21 | 174 | 169 | 136 | 244 | 142 | 203 | 124 |  | 63 | 0 | 0 | 0 | 0 | 0 | 0 | 0 | 0  
| 11 | 32 | 232 | 48 | 3 | 151 | 110 | 153 | 180 | 42 | 0 | 149 | 113 | 226 | 114 | 27 | 288 | 163 | 222  
| 13 | 234 | 50 | 105 | 28 | 238 | 176 | 104 | 98 |  | 4 | 157 | 14 | 65 | 91 | 0 | 83 | 10 | 170  
| 18 | 7 | 74 | 52 | 182 | 243 | 76 | 207 | 80 |  | 24 | 137 | 218 | 126 | 78 | 35 | 17 | 162 | 71  
| 34 | 0 | 0 | 0 | 0 | 0 | 0 | 0 | 0 |  | 64 | 0 | 0 | 0 | 0 | 0 | 0 | 0 | 0  
13 | 0 | 177 | 313 | 39 | 81 | 231 | 311 | 52 | 220 | 43 | 1 | 151 | 113 | 228 | 206 | 52 | 210 | 1 | 22  
| 3 | 248 | 177 | 302 | 56 | 0 | 251 | 147 | 185 |  | 16 | 163 | 132 | 69 | 22 | 243 | 3 | 163 | 127  
| 7 | 151 | 266 | 303 | 72 | 216 | 265 | 1 | 154 |  | 18 | 173 | 114 | 176 | 134 | 0 | 53 | 99 | 49  
| 20 | 185 | 115 | 160 | 217 | 47 | 94 | 16 | 178 |  | 25 | 139 | 168 | 102 | 161 | 270 | 167 | 98 | 125  
| 23 | 62 | 370 | 37 | 78 | 36 | 81 | 46 | 150 |  | 65 | 0 | 0 | 0 | 0 | 0 | 0 | 0 | 0  
| 35 | 0 | 0 | 0 | 0 | 0 | 0 | 0 | 0 | 44 | 0 | 139 | 80 | 234 | 84 | 18 | 79 | 4 | 191  
14 | 0 | 206 | 142 | 78 | 14 | 0 | 22 | 1 | 124 |  | 7 | 157 | 78 | 227 | 4 | 0 | 244 | 6 | 211  
| 12 | 55 | 248 | 299 | 175 | 186 | 322 | 202 | 144 |  | 9 | 163 | 163 | 259 | 9 | 0 | 293 | 142 | 187  
| 15 | 206 | 137 | 54 | 211 | 253 | 277 | 118 | 182 |  | 22 | 173 | 274 | 260 | 12 | 57 | 272 | 3 | 148  
| 16 | 127 | 89 | 61 | 191 | 16 | 156 | 130 | 95 |  | 66 | 0 | 0 | 0 | 0 | 0 | 0 | 0 | 0  
| 17 | 16 | 347 | 179 | 51 | 0 | 66 | 1 | 72 | 45 | 1 | 149 | 135 | 101 | 184 | 168 | 82 | 181 | 177  
| 21 | 229 | 12 | 258 | 43 | 79 | 78 | 2 | 76 |  | 6 | 151 | 149 | 228 | 121 | 0 | 67 | 45 | 114  
| 36 | 0 | 0 | 0 | 0 | 0 | 0 | 0 | 0 |  | 10 | 167 | 15 | 126 | 29 | 144 | 235 | 153 | 93  
15 | 0 | 40 | 241 | 229 | 90 | 170 | 176 | 173 | 39 |  | 67 | 0 | 0 | 0 | 0 | 0 | 0 | 0 | 0  
Table 5.3.2-3: LDPC base graph 2 () and its parity check matrices ()
Row index | Column index | Set index | Row index | Column index | Set index |  |  |  |  |  |  |  |  |  |  |  |  |  |   
---|---|---|---|---|---|---|---|---|---|---|---|---|---|---|---|---|---|---|---  
|  | 0 | 1 | 2 | 3 | 4 | 5 | 6 | 7 |  |  | 0 | 1 | 2 | 3 | 4 | 5 | 6 | 7  
0 | 0 | 9 | 174 | 0 | 72 | 3 | 156 | 143 | 145 | 16 | 26 | 0 | 0 | 0 | 0 | 0 | 0 | 0 | 0  
| 1 | 117 | 97 | 0 | 110 | 26 | 143 | 19 | 131 | 17 | 1 | 254 | 158 | 0 | 48 | 120 | 134 | 57 | 196  
| 2 | 204 | 166 | 0 | 23 | 53 | 14 | 176 | 71 |  | 5 | 124 | 23 | 24 | 132 | 43 | 23 | 201 | 173  
| 3 | 26 | 66 | 0 | 181 | 35 | 3 | 165 | 21 |  | 11 | 114 | 9 | 109 | 206 | 65 | 62 | 142 | 195  
| 6 | 189 | 71 | 0 | 95 | 115 | 40 | 196 | 23 |  | 12 | 64 | 6 | 18 | 2 | 42 | 163 | 35 | 218  
| 9 | 205 | 172 | 0 | 8 | 127 | 123 | 13 | 112 |  | 27 | 0 | 0 | 0 | 0 | 0 | 0 | 0 | 0  
| 10 | 0 | 0 | 0 | 1 | 0 | 0 | 0 | 1 | 18 | 0 | 220 | 186 | 0 | 68 | 17 | 173 | 129 | 128  
| 11 | 0 | 0 | 0 | 0 | 0 | 0 | 0 | 0 |  | 6 | 194 | 6 | 18 | 16 | 106 | 31 | 203 | 211  
1 | 0 | 167 | 27 | 137 | 53 | 19 | 17 | 18 | 142 |  | 7 | 50 | 46 | 86 | 156 | 142 | 22 | 140 | 210  
| 3 | 166 | 36 | 124 | 156 | 94 | 65 | 27 | 174 |  | 28 | 0 | 0 | 0 | 0 | 0 | 0 | 0 | 0  
| 4 | 253 | 48 | 0 | 115 | 104 | 63 | 3 | 183 | 19 | 0 | 87 | 58 | 0 | 35 | 79 | 13 | 110 | 39  
| 5 | 125 | 92 | 0 | 156 | 66 | 1 | 102 | 27 |  | 1 | 20 | 42 | 158 | 138 | 28 | 135 | 124 | 84  
| 6 | 226 | 31 | 88 | 115 | 84 | 55 | 185 | 96 |  | 10 | 185 | 156 | 154 | 86 | 41 | 145 | 52 | 88  
| 7 | 156 | 187 | 0 | 200 | 98 | 37 | 17 | 23 |  | 29 | 0 | 0 | 0 | 0 | 0 | 0 | 0 | 0  
| 8 | 224 | 185 | 0 | 29 | 69 | 171 | 14 | 9 | 20 | 1 | 26 | 76 | 0 | 6 | 2 | 128 | 196 | 117  
| 9 | 252 | 3 | 55 | 31 | 50 | 133 | 180 | 167 |  | 4 | 105 | 61 | 148 | 20 | 103 | 52 | 35 | 227  
| 11 | 0 | 0 | 0 | 0 | 0 | 0 | 0 | 0 |  | 11 | 29 | 153 | 104 | 141 | 78 | 173 | 114 | 6  
| 12 | 0 | 0 | 0 | 0 | 0 | 0 | 0 | 0 |  | 30 | 0 | 0 | 0 | 0 | 0 | 0 | 0 | 0  
2 | 0 | 81 | 25 | 20 | 152 | 95 | 98 | 126 | 74 | 21 | 0 | 76 | 157 | 0 | 80 | 91 | 156 | 10 | 238  
| 1 | 114 | 114 | 94 | 131 | 106 | 168 | 163 | 31 |  | 8 | 42 | 175 | 17 | 43 | 75 | 166 | 122 | 13  
| 3 | 44 | 117 | 99 | 46 | 92 | 107 | 47 | 3 |  | 13 | 210 | 67 | 33 | 81 | 81 | 40 | 23 | 11  
| 4 | 52 | 110 | 9 | 191 | 110 | 82 | 183 | 53 |  | 31 | 0 | 0 | 0 | 0 | 0 | 0 | 0 | 0  
| 8 | 240 | 114 | 108 | 91 | 111 | 142 | 132 | 155 | 22 | 1 | 222 | 20 | 0 | 49 | 54 | 18 | 202 | 195  
| 10 | 1 | 1 | 1 | 0 | 1 | 1 | 1 | 0 |  | 2 | 63 | 52 | 4 | 1 | 132 | 163 | 126 | 44  
| 12 | 0 | 0 | 0 | 0 | 0 | 0 | 0 | 0 |  | 32 | 0 | 0 | 0 | 0 | 0 | 0 | 0 | 0  
| 13 | 0 | 0 | 0 | 0 | 0 | 0 | 0 | 0 | 23 | 0 | 23 | 106 | 0 | 156 | 68 | 110 | 52 | 5  
3 | 1 | 8 | 136 | 38 | 185 | 120 | 53 | 36 | 239 |  | 3 | 235 | 86 | 75 | 54 | 115 | 132 | 170 | 94  
| 2 | 58 | 175 | 15 | 6 | 121 | 174 | 48 | 171 |  | 5 | 238 | 95 | 158 | 134 | 56 | 150 | 13 | 111  
| 4 | 158 | 113 | 102 | 36 | 22 | 174 | 18 | 95 |  | 33 | 0 | 0 | 0 | 0 | 0 | 0 | 0 | 0  
| 5 | 104 | 72 | 146 | 124 | 4 | 127 | 111 | 110 | 24 | 1 | 46 | 182 | 0 | 153 | 30 | 113 | 113 | 81  
| 6 | 209 | 123 | 12 | 124 | 73 | 17 | 203 | 159 |  | 2 | 139 | 153 | 69 | 88 | 42 | 108 | 161 | 19  
| 7 | 54 | 118 | 57 | 110 | 49 | 89 | 3 | 199 |  | 9 | 8 | 64 | 87 | 63 | 101 | 61 | 88 | 130  
| 8 | 18 | 28 | 53 | 156 | 128 | 17 | 191 | 43 |  | 34 | 0 | 0 | 0 | 0 | 0 | 0 | 0 | 0  
| 9 | 128 | 186 | 46 | 133 | 79 | 105 | 160 | 75 | 25 | 0 | 228 | 45 | 0 | 211 | 128 | 72 | 197 | 66  
| 10 | 0 | 0 | 0 | 1 | 0 | 0 | 0 | 1 |  | 5 | 156 | 21 | 65 | 94 | 63 | 136 | 194 | 95  
| 13 | 0 | 0 | 0 | 0 | 0 | 0 | 0 | 0 |  | 35 | 0 | 0 | 0 | 0 | 0 | 0 | 0 | 0  
4 | 0 | 179 | 72 | 0 | 200 | 42 | 86 | 43 | 29 | 26 | 2 | 29 | 67 | 0 | 90 | 142 | 36 | 164 | 146  
| 1 | 214 | 74 | 136 | 16 | 24 | 67 | 27 | 140 |  | 7 | 143 | 137 | 100 | 6 | 28 | 38 | 172 | 66  
| 11 | 71 | 29 | 157 | 101 | 51 | 83 | 117 | 180 |  | 12 | 160 | 55 | 13 | 221 | 100 | 53 | 49 | 190  
| 14 | 0 | 0 | 0 | 0 | 0 | 0 | 0 | 0 |  | 13 | 122 | 85 | 7 | 6 | 133 | 145 | 161 | 86  
5 | 0 | 231 | 10 | 0 | 185 | 40 | 79 | 136 | 121 |  | 36 | 0 | 0 | 0 | 0 | 0 | 0 | 0 | 0  
| 1 | 41 | 44 | 131 | 138 | 140 | 84 | 49 | 41 | 27 | 0 | 8 | 103 | 0 | 27 | 13 | 42 | 168 | 64  
| 5 | 194 | 121 | 142 | 170 | 84 | 35 | 36 | 169 |  | 6 | 151 | 50 | 32 | 118 | 10 | 104 | 193 | 181  
| 7 | 159 | 80 | 141 | 219 | 137 | 103 | 132 | 88 |  | 37 | 0 | 0 | 0 | 0 | 0 | 0 | 0 | 0  
| 11 | 103 | 48 | 64 | 193 | 71 | 60 | 62 | 207 | 28 | 1 | 98 | 70 | 0 | 216 | 106 | 64 | 14 | 7  
| 15 | 0 | 0 | 0 | 0 | 0 | 0 | 0 | 0 |  | 2 | 101 | 111 | 126 | 212 | 77 | 24 | 186 | 144  
6 | 0 | 155 | 129 | 0 | 123 | 109 | 47 | 7 | 137 |  | 5 | 135 | 168 | 110 | 193 | 43 | 149 | 46 | 16  
| 5 | 228 | 92 | 124 | 55 | 87 | 154 | 34 | 72 |  | 38 | 0 | 0 | 0 | 0 | 0 | 0 | 0 | 0  
| 7 | 45 | 100 | 99 | 31 | 107 | 10 | 198 | 172 | 29 | 0 | 18 | 110 | 0 | 108 | 133 | 139 | 50 | 25  
| 9 | 28 | 49 | 45 | 222 | 133 | 155 | 168 | 124 |  | 4 | 28 | 17 | 154 | 61 | 25 | 161 | 27 | 57  
| 11 | 158 | 184 | 148 | 209 | 139 | 29 | 12 | 56 |  | 39 | 0 | 0 | 0 | 0 | 0 | 0 | 0 | 0  
| 16 | 0 | 0 | 0 | 0 | 0 | 0 | 0 | 0 | 30 | 2 | 71 | 120 | 0 | 106 | 87 | 84 | 70 | 37  
7 | 1 | 129 | 80 | 0 | 103 | 97 | 48 | 163 | 86 |  | 5 | 240 | 154 | 35 | 44 | 56 | 173 | 17 | 139  
| 5 | 147 | 186 | 45 | 13 | 135 | 125 | 78 | 186 |  | 7 | 9 | 52 | 51 | 185 | 104 | 93 | 50 | 221  
| 7 | 140 | 16 | 148 | 105 | 35 | 24 | 143 | 87 |  | 9 | 84 | 56 | 134 | 176 | 70 | 29 | 6 | 17  
| 11 | 3 | 102 | 96 | 150 | 108 | 47 | 107 | 172 |  | 40 | 0 | 0 | 0 | 0 | 0 | 0 | 0 | 0  
| 13 | 116 | 143 | 78 | 181 | 65 | 55 | 58 | 154 | 31 | 1 | 106 | 3 | 0 | 147 | 80 | 117 | 115 | 201  
| 17 | 0 | 0 | 0 | 0 | 0 | 0 | 0 | 0 |  | 13 | 1 | 170 | 20 | 182 | 139 | 148 | 189 | 46  
8 | 0 | 142 | 118 | 0 | 147 | 70 | 53 | 101 | 176 |  | 41 | 0 | 0 | 0 | 0 | 0 | 0 | 0 | 0  
| 1 | 94 | 70 | 65 | 43 | 69 | 31 | 177 | 169 | 32 | 0 | 242 | 84 | 0 | 108 | 32 | 116 | 110 | 179  
| 12 | 230 | 152 | 87 | 152 | 88 | 161 | 22 | 225 |  | 5 | 44 | 8 | 20 | 21 | 89 | 73 | 0 | 14  
| 18 | 0 | 0 | 0 | 0 | 0 | 0 | 0 | 0 |  | 12 | 166 | 17 | 122 | 110 | 71 | 142 | 163 | 116  
9 | 1 | 203 | 28 | 0 | 2 | 97 | 104 | 186 | 167 |  | 42 | 0 | 0 | 0 | 0 | 0 | 0 | 0 | 0  
| 8 | 205 | 132 | 97 | 30 | 40 | 142 | 27 | 238 | 33 | 2 | 132 | 165 | 0 | 71 | 135 | 105 | 163 | 46  
| 10 | 61 | 185 | 51 | 184 | 24 | 99 | 205 | 48 |  | 7 | 164 | 179 | 88 | 12 | 6 | 137 | 173 | 2  
| 11 | 247 | 178 | 85 | 83 | 49 | 64 | 81 | 68 |  | 10 | 235 | 124 | 13 | 109 | 2 | 29 | 179 | 106  
| 19 | 0 | 0 | 0 | 0 | 0 | 0 | 0 | 0 |  | 43 | 0 | 0 | 0 | 0 | 0 | 0 | 0 | 0  
10 | 0 | 11 | 59 | 0 | 174 | 46 | 111 | 125 | 38 | 34 | 0 | 147 | 173 | 0 | 29 | 37 | 11 | 197 | 184  
| 1 | 185 | 104 | 17 | 150 | 41 | 25 | 60 | 217 |  | 12 | 85 | 177 | 19 | 201 | 25 | 41 | 191 | 135  
| 6 | 0 | 22 | 156 | 8 | 101 | 174 | 177 | 208 |  | 13 | 36 | 12 | 78 | 69 | 114 | 162 | 193 | 141  
| 7 | 117 | 52 | 20 | 56 | 96 | 23 | 51 | 232 |  | 44 | 0 | 0 | 0 | 0 | 0 | 0 | 0 | 0  
| 20 | 0 | 0 | 0 | 0 | 0 | 0 | 0 | 0 | 35 | 1 | 57 | 77 | 0 | 91 | 60 | 126 | 157 | 85  
11 | 0 | 11 | 32 | 0 | 99 | 28 | 91 | 39 | 178 |  | 5 | 40 | 184 | 157 | 165 | 137 | 152 | 167 | 225  
| 7 | 236 | 92 | 7 | 138 | 30 | 175 | 29 | 214 |  | 11 | 63 | 18 | 6 | 55 | 93 | 172 | 181 | 175  
| 9 | 210 | 174 | 4 | 110 | 116 | 24 | 35 | 168 |  | 45 | 0 | 0 | 0 | 0 | 0 | 0 | 0 | 0  
| 13 | 56 | 154 | 2 | 99 | 64 | 141 | 8 | 51 | 36 | 0 | 140 | 25 | 0 | 1 | 121 | 73 | 197 | 178  
| 21 | 0 | 0 | 0 | 0 | 0 | 0 | 0 | 0 |  | 2 | 38 | 151 | 63 | 175 | 129 | 154 | 167 | 112  
12 | 1 | 63 | 39 | 0 | 46 | 33 | 122 | 18 | 124 |  | 7 | 154 | 170 | 82 | 83 | 26 | 129 | 179 | 106  
| 3 | 111 | 93 | 113 | 217 | 122 | 11 | 155 | 122 |  | 46 | 0 | 0 | 0 | 0 | 0 | 0 | 0 | 0  
| 11 | 14 | 11 | 48 | 109 | 131 | 4 | 49 | 72 | 37 | 10 | 219 | 37 | 0 | 40 | 97 | 167 | 181 | 154  
| 22 | 0 | 0 | 0 | 0 | 0 | 0 | 0 | 0 |  | 13 | 151 | 31 | 144 | 12 | 56 | 38 | 193 | 114  
13 | 0 | 83 | 49 | 0 | 37 | 76 | 29 | 32 | 48 |  | 47 | 0 | 0 | 0 | 0 | 0 | 0 | 0 | 0  
| 1 | 2 | 125 | 112 | 113 | 37 | 91 | 53 | 57 | 38 | 1 | 31 | 84 | 0 | 37 | 1 | 112 | 157 | 42  
| 8 | 38 | 35 | 102 | 143 | 62 | 27 | 95 | 167 |  | 5 | 66 | 151 | 93 | 97 | 70 | 7 | 173 | 41  
| 13 | 222 | 166 | 26 | 140 | 47 | 127 | 186 | 219 |  | 11 | 38 | 190 | 19 | 46 | 1 | 19 | 191 | 105  
| 23 | 0 | 0 | 0 | 0 | 0 | 0 | 0 | 0 |  | 48 | 0 | 0 | 0 | 0 | 0 | 0 | 0 | 0  
14 | 1 | 115 | 19 | 0 | 36 | 143 | 11 | 91 | 82 | 39 | 0 | 239 | 93 | 0 | 106 | 119 | 109 | 181 | 167  
| 6 | 145 | 118 | 138 | 95 | 51 | 145 | 20 | 232 |  | 7 | 172 | 132 | 24 | 181 | 32 | 6 | 157 | 45  
| 11 | 3 | 21 | 57 | 40 | 130 | 8 | 52 | 204 |  | 12 | 34 | 57 | 138 | 154 | 142 | 105 | 173 | 189  
| 13 | 232 | 163 | 27 | 116 | 97 | 166 | 109 | 162 |  | 49 | 0 | 0 | 0 | 0 | 0 | 0 | 0 | 0  
| 24 | 0 | 0 | 0 | 0 | 0 | 0 | 0 | 0 | 40 | 2 | 0 | 103 | 0 | 98 | 6 | 160 | 193 | 78  
15 | 0 | 51 | 68 | 0 | 116 | 139 | 137 | 174 | 38 |  | 10 | 75 | 107 | 36 | 35 | 73 | 156 | 163 | 67  
| 10 | 175 | 63 | 73 | 200 | 96 | 103 | 108 | 217 |  | 13 | 120 | 163 | 143 | 36 | 102 | 82 | 179 | 180  
| 11 | 213 | 81 | 99 | 110 | 128 | 40 | 102 | 157 |  | 50 | 0 | 0 | 0 | 0 | 0 | 0 | 0 | 0  
| 25 | 0 | 0 | 0 | 0 | 0 | 0 | 0 | 0 | 41 | 1 | 129 | 147 | 0 | 120 | 48 | 132 | 191 | 53  
16 | 1 | 203 | 87 | 0 | 75 | 48 | 78 | 125 | 170 |  | 5 | 229 | 7 | 2 | 101 | 47 | 6 | 197 | 215  
| 9 | 142 | 177 | 79 | 158 | 9 | 158 | 31 | 23 |  | 11 | 118 | 60 | 55 | 81 | 19 | 8 | 167 | 230  
| 11 | 8 | 135 | 111 | 134 | 28 | 17 | 54 | 175 |  | 51 | 0 | 0 | 0 | 0 | 0 | 0 | 0 | 0  
| 12 | 242 | 64 | 143 | 97 | 8 | 165 | 176 | 202 |  |  |  |  |  |  |  |  |  |   
### 5.3.3 Channel coding of small block lengths
The bit sequence input for a given code block to channel coding is denoted by
, where is the number of bits to encode**.** After encoding the bits are
denoted by .
#### 5.3.3.1 Encoding of 1-bit information
**For** , the code block is encoded according to Table 5.3.3.1-1, where and is
the modulation order for the code block.
Table **5.3.3.1-1: Encoding of 1-bit information**
* * *
      Encoded bits
1  
2  
4  
6  
8
* * *
The \"x\" and \"y\" in Table 5.3.3.1-1 are placeholders for Clause 6.3.1.1 of
[4, TS 38.211] to scramble the information bits in a way that maximizes the
Euclidean distance of the modulation symbols carrying the information bits.
#### 5.3.3.2 Encoding of 2-bit information
**For** , the code block is encoded according to Table 5.3.3-2, where , , and
is the modulation order for the code block.
Table **5.3.3.2-1: Encoding of 2-bit information**
* * *
      Encoded bits
1  
2  
4  
6  
8
* * *
The \"x\" in Table 5.3.3.2-1 are placeholders for Clause 6.3.1.1 of [4, TS
38.211] to scramble the information bits in a way that maximizes the Euclidean
distance of the modulation symbols carrying the information bits.
#### 5.3.3.3 Encoding of other small block lengths
**For** , the code block is encoded by , where , , and represents the basis
sequences as defined in Table 5.3.3.3-1.
Table **5.3.3.3-1:** Basis sequences for (32, ) code
* * *
i M~i,0~ M~i,1~ M~i,2~ M~i,3~ M~i,4~ M~i,5~ M~i,6~ M~i,7~ M~i,8~ M~i,9~
M~i,10~ 0 1 1 0 0 0 0 0 0 0 0 1 1 1 1 1 0 0 0 0 0 0 1 1 2 1 0 0 1 0 0 1 0 1 1
1 3 1 0 1 1 0 0 0 0 1 0 1 4 1 1 1 1 0 0 0 1 0 0 1 5 1 1 0 0 1 0 1 1 1 0 1 6 1
0 1 0 1 0 1 0 1 1 1 7 1 0 0 1 1 0 0 1 1 0 1 8 1 1 0 1 1 0 0 1 0 1 1 9 1 0 1 1
1 0 1 0 0 1 1 10 1 0 1 0 0 1 1 1 0 1 1 11 1 1 1 0 0 1 1 0 1 0 1 12 1 0 0 1 0 1
0 1 1 1 1 13 1 1 0 1 0 1 0 1 0 1 1 14 1 0 0 0 1 1 0 1 0 0 1 15 1 1 0 0 1 1 1 1
0 1 1 16 1 1 1 0 1 1 1 0 0 1 0 17 1 0 0 1 1 1 0 0 1 0 0 18 1 1 0 1 1 1 1 1 0 0
0 19 1 0 0 0 0 1 1 0 0 0 0 20 1 0 1 0 0 0 1 0 0 0 1 21 1 1 0 1 0 0 0 0 0 1 1
22 1 0 0 0 1 0 0 1 1 0 1 23 1 1 1 0 1 0 0 0 1 1 1 24 1 1 1 1 1 0 1 1 1 1 0 25
1 1 0 0 0 1 1 1 0 0 1 26 1 0 1 1 0 1 0 0 1 1 0 27 1 1 1 1 0 1 0 1 1 1 0 28 1 0
1 0 1 1 1 0 1 0 0 29 1 0 1 1 1 1 1 1 1 0 0 30 1 1 1 1 1 1 1 1 1 1 1 31 1 0 0 0
0 0 0 0 0 0 0
* * *
## 5.4 Rate matching
### 5.4.1 Rate matching for Polar code
The rate matching for Polar code is defined per coded block and consists of
sub-block interleaving, bit collection, and bit interleaving. The input bit
sequence to rate matching is . The output bit sequence after rate matching is
denoted as .
#### 5.4.1.1 Sub-block interleaving
The bits input to the sub-block interleaver are the coded bits . The coded
bits are divided into 32 sub-blocks. The bits output from the sub-block
interleaver are denoted as , generated as follows:
for to
;
;
;
end for
where the sub-block interleaver pattern is given by Table 5.4.1.1-1.
Table 5.4.1.1-1: Sub-block interleaver pattern
* * *
0 0 4 3 8 8 12 10 16 12 20 14 24 24 28 27 1 1 5 5 9 16 13 18 17 20 21 22 25 25
29 29 2 2 6 6 10 9 14 11 18 13 22 15 26 26 30 30 3 4 7 7 11 17 15 19 19 21 23
23 27 28 31 31
* * *
The sets of bit indices and are determined as follows, where , , and are
defined in Clause 5.3.1
if
if -- puncturing
for to
;
end for
if
;
else
;
end if
else -- shortening
for to
;
end for
end if
end if
;
comprises most reliable bit indices in ;
;
#### 5.4.1.2 Bit selection
The bit sequence after the sub-block interleaver from Clause 5.4.1.1 is
written into a circular buffer of length .
Denoting by the rate matching output sequence length, the bit selection output
bit sequence , , is generated as follows:
if -- repetition
for to
;
end for
else
if -- puncturing
for to
;
end for
else -- shortening
for to
;
end for
end if
end if
#### 5.4.1.3 Interleaving of coded bits
The bit sequence is interleaved into bit sequence , as follows:
If
Denote as the smallest integer such that ;
;
for to
for to
if
;
else
;
end if
;
end for
end for
;
for to
for to
if
;
end if
end for
end for
else
for to
;
end for
end if
The value of is no larger than 8192.
### 5.4.2 Rate matching for LDPC code
The rate matching for LDPC code is defined per coded block and consists of bit
selection and bit interleaving. The input bit sequence to rate matching is .
The output bit sequence after rate matching is denoted as .
#### 5.4.2.1 Bit selection
The bit sequence after encoding from Clause 5.3.2 is written into a circular
buffer of length for the -th coded block, where is defined in Clause 5.3.2.
For the -th code block, let if and otherwise, where, , is determined according
to Clause 6.1.4.2 in [6, TS 38.214] for UL-SCH and Clause 5.1.3.2 in [6, TS
38.214] for DL-SCH/PCH, assuming the following:
\- maximum number of layers for one TB for UL-SCH is given by X, where
\- if the higher layer parameter _maxMIMO-Layers of PUSCH-ServingCellConfig_
of the serving cell is configured, X is given by that parameter
\- elseif the higher layer parameter _maxRank of pusch-Config of the serving
cell_ is configured, X is given by the maximum value of _maxRank_ across all
BWPs of the serving cell
\- otherwise, X is given by the maximum number of layers for PUSCH supported
by the UE for the serving cell
\- maximum number of layers for one TB for DL-SCH/PCH is given by the minimum
of X and 4, where
\- if the higher layer parameter _maxMIMO-Layers of PDSCH-ServingCellConfig_
of the serving cell is configured, X is given by that parameter
\- otherwise, X is given by the maximum number of layers for PDSCH supported
by the UE for the serving cell
> \- if the higher layer parameter _mcs-Table_ given by a _pdsch-Config_ for
> at least one DL BWP of the serving cell is set to \'qam256\', maximum
> modulation order is assumed for DL-SCH; otherwise a maximum modulation order
> is assumed for DL-SCH;
>
> \- if the higher layer parameter _mcs-Table_ or _mcs-TableTransformPrecoder_
> given by a _pusch-Config_ or _configuredGrantConfig_ for at least one UL BWP
> of the serving cell is set to \'qam256\', maximum modulation order is
> assumed for UL-SCH; otherwise a maximum modulation order is assumed for UL-
> SCH
\- maximum coding rate of 948/1024;
\- is given by Table 5.4.2.1-1, where the value of for DL-SCH is determined
according to the initial downlink bandwidth part if there is no other downlink
bandwidth part configured to the UE;
\- ;
\- is the number of code blocks of the transport block determined according to
Clause 5.2.2.
Table 5.4.2.1-1: Value of
Maximum number of PRBs across all configured DL BWPs and UL BWPs of a carrier
for DL-SCH and UL-SCH, respectively
* * *
Less than 33 32 33 to 66 66 67 to 107 107 108 to 135 135 136 to 162 162 163 to
217 217 Larger than 217 273
Denoting by the rate matching output sequence length for the -th coded block,
where the value of is determined as follows:
Set
for to
if the -th coded block is not scheduled for transmission as indicated by CBGTI
according to Clause 5.1.7.2 for DL-SCH and 6.1.5.2 for UL-SCH in [6, TS
38.214]
;
else
if
;
else
;
end if
;
end if
end for
where
\- is the number of transmission layers that the transport block is mapped
onto;
\- is the modulation order;
\- is the total number of coded bits available for transmission of the
transport block;
\- if CBGTI is not present in the DCI scheduling the transport block and is
the number of scheduled code blocks of the transport block if CBGTI is present
in the DCI scheduling the transport block.
Denote by the redundancy version number for this transmission ( = 0, 1, 2 or
3), the rate matching output bit sequence , , is generated as follows, where
is given by Table 5.4.2.1-2 according to the value of and LDPC base graph:
;
;
while
if
;
;
end if
;
end while
Table 5.4.2.1-2: Starting position of different redundancy versions,
* * *
      LDPC base graph 1   LDPC base graph 2
0  
1  
2  
3
* * *
#### 5.4.2.2 Bit interleaving
The bit sequence is interleaved to bit sequence , according to the following,
where the value of is the modulation order.
for to
for to
;
end for
end for
### 5.4.3 Rate matching for channel coding of small block lengths
The input bit sequence to rate matching is . The output bit sequence after
rate matching is denoted as , where is the rate matching output sequence
length. The bit sequence is obtained by the following:
for to
;
end for
## 5.5 Code block concatenation
The input bit sequence for the code block concatenation block are the
sequences , for and , where is the number of rate matched bits for the -th
code block. The output bit sequence from the code block concatenation block is
the sequence for .
The code block concatenation consists of sequentially concatenating the rate
matching outputs for the different code blocks. Therefore,
Set and
while
Set
while
end while
end while
# 6 Uplink transport channels and control information
## 6.1 Random access channel
The sequence index for the random access channel is received from higher
layers and is processed according to [4, TS 38.211].
## 6.2 Uplink shared channel
### 6.2.1 Transport block CRC attachment
Error detection is provided on each UL-SCH transport block through a Cyclic
Redundancy Check (CRC).
The entire transport block is used to calculate the CRC parity bits. Denote
the bits in a transport block delivered to layer 1 by, and the parity bits by,
where is the payload size and is the number of parity bits. The lowest order
information bit is mapped to the most significant bit of the transport block
as defined in Clause 6.1.1 of [TS38.321].
The parity bits are computed and attached to the UL-SCH transport block
according to Clause 5.1, by setting to 24 bits and using the generator
polynomial if ; and by setting to 16 bits and using the generator polynomial
otherwise.
The bits after CRC attachment are denoted by , where .
### 6.2.2 LDPC base graph selection
For initial transmission of a transport block with coding rate indicated by
the MCS index according to Clause 6.1.4.1 in [6, TS 38.214] and subsequent re-
transmission of the same transport block, each code block of the transport
block is encoded with either LDPC base graph 1 or 2 according to the
following:
\- if , or if and , or if , LDPC base graph 2 is used;
\- otherwise, LDPC base graph 1 is used,
where is the payload size as described in Clause 6.2.1.
### 6.2.3 Code block segmentation and code block CRC attachment
The bits input to the code block segmentation are denoted by where is the
number of bits in the transport block (including CRC).
Code block segmentation and code block CRC attachment are performed according
to Clause 5.2.2.
The bits after code block segmentation are denoted by, where is the code block
number and is the number of bits for code block number according to Clause
5.2.2.
### 6.2.4 Channel coding of UL-SCH
Code blocks are delivered to the channel coding block. The bits in a code
block are denoted by , where is the code block number, and is the number of
bits in code block number . The total number of code blocks is denoted by and
each code block is individually LDPC encoded according to Clause 5.3.2.
After encoding the bits are denoted by , where the values of is given in
Clause 5.3.2.
### 6.2.5 Rate matching
Coded bits for each code block, denoted as , are delivered to the rate match
block, where is the code block number, and is the number of encoded bits in
code block number . The total number of code blocks is denoted by and each
code block is individually rate matched according to Clause 5.4.2 by setting
if higher layer parameter _rateMatching_ is set to _limitedBufferRM_ and by
setting otherwise.
After rate matching, the bits are denoted by, where is the number of rate
matched bits for code block number .
### 6.2.6 Code block concatenation
The input bit sequence for the code block concatenation block are the
sequences , for and where is the number of rate matched bits for the -th code
block.
Code block concatenation is performed according to Clause 5.5.
The bits after code block concatenation are denoted by, where is the total
number of coded bits for transmission.
### 6.2.7 Data and control multiplexing
Denote the coded bits for UL-SCH as .
Denote the coded bits for HARQ-ACK, if any, as .
Denote the coded bits for CSI part 1, if any, as .
Denote the coded bits for CSI part 2, if any, as .
Denote the multiplexed data and control coded bit sequence as .
Denote as the OFDM symbol index of the scheduled PUSCH, starting from 0 to ,
where is the total number of OFDM symbols of the PUSCH, including all OFDM
symbols used for DMRS.
Denote as the subcarrier index of the scheduled PUSCH, starting from 0 to ,
where is expressed as a number of subcarriers.
Denote as the set of resource elements, in ascending order of indices ,
available for transmission of data in OFDM symbol , for .
Denote as the number of elements in set . Denote as the -th element in .
Denote as the set of resource elements, in ascending order of indices ,
available for transmission of UCI in OFDM symbol , for . Denote as the number
of elements in set . Denote as the -th element in . For any OFDM symbol that
carriers DMRS of the PUSCH, . For any OFDM symbol that does not carry DMRS of
the PUSCH, .
If frequency hopping is configured for the PUSCH,
\- denote as the OFDM symbol index of the first OFDM symbol after the first
set of consecutive OFDM symbol(s) carrying DMRS in the first hop;
\- denote as the OFDM symbol index of the first OFDM symbol after the first
set of consecutive OFDM symbol(s) carrying DMRS in the second hop.
\- denote as the OFDM symbol index of the first OFDM symbol that does not
carry DMRS in the first hop;
\- denote as the OFDM symbol index of the first OFDM symbol that does not
carry DMRS in the second hop;
\- if HARQ-ACK is present for transmission on the PUSCH with UL-SCH, let
\- and ;
\- if CSI is present for transmission on the PUSCH with UL-SCH, let
\- ;
\- ;
\- ; and
\- ;
\- if only HARQ-ACK and CSI part 1 are present for transmission on the PUSCH
without UL-SCH, let
\- ;
\- ;
\- ; and
\- ;
\- if HARQ-ACK, CSI part 1 and CSI part 2 are present for transmission on the
PUSCH without UL-SCH, let
\- ;
\- ;
\- if the number of HARQ-ACK information bits is more than 2,; otherwise,
\- ;
\- if the number of HARQ-ACK information bits is no more than 2, and
otherwise; and
\- if the number of HARQ-ACK information bits is no more than 2, and
otherwise;
\- if only CSI part 1 and CSI part 2 are present for transmission on the PUSCH
without UL-SCH, let
\- ;
\- ;
\- ; and
\- ;
\- let , and denote , as the number of OFDM symbols of the PUSCH in the first
and second hop, respectively;
\- is the number of transmission layers of the PUSCH;
\- is the modulation order of the PUSCH;
\- ;
-
\- .
If frequency hopping is not configured for the PUSCH,
\- denote as the OFDM symbol index of the first OFDM symbol after the first
set of consecutive OFDM symbol(s) carrying DMRS;
\- denote as the OFDM symbol index of the first OFDM symbol that does not
carry DMRS;
\- if HARQ-ACK is present for transmission on the PUSCH, let ;
\- if CSI is present for transmission on the PUSCH, let and ;
\- let and .
The multiplexed data and control coded bit sequence is obtained according to
the following:
**[Step 1:]{.underline}**
Set for ;
Set for ;
Set for ;
Set for ;
if the number of HARQ-ACK information bits to be transmitted on PUSCH is 0, 1
or 2 bits
the number of reserved resource elements for potential HARQ-ACK transmission
is calculated according to Clause 6.3.2.4.2.1, by setting ;
denote as the number of coded bits for potential HARQ-ACK transmission using
the reserved resource elements;
if frequency hopping is configured for the PUSCH, let and ;
if frequency hopping is not configured for the PUSCH, let ;
denote as the set of reserved resource elements for potential HARQ-ACK
transmission, in OFDM symbol , for ;
Set ;
Set ;
for ;
for to
;
while
if
if
;
;
end if
if
;
;
end if
for to
;
end for
end if
;
end while
end for
else
for ;
end if
Denote as the number of elements in .
**[Step 2:]{.underline}**
if HARQ-ACK is present for transmission on the PUSCH and the number of HARQ-
ACK information bits is more than 2,
Set ;
Set ;
Set ;
for to
;
while
if
if
;
;
end if
if
;
;
end if
for to
;
for to
> ;
>
> ;
>
> ;
end for
end for
;
for to
;
end for
;
;
;
;
end if
;
end while
end for
end if
**[Step 3:]{.underline}**
if CSI is present for transmission on the PUSCH,
Set ;
Set ;
Set ;
for to
;
while
;
end while
while
if
if
;
;
end if
if
;
;
end if
;
for to
;
for to
> ;
>
> ;
>
> ;
end for
end for
;
for to
;
end for
;
;
;
;
end if
;
end while
end for
Set ;
Set ;
Set ;
for to
;
while
;
end while
while
if
if
;
;
end if
if
;
;
end if
for to
;
for to
> ;
>
> ;
>
> ;
end for
end for
;
for to
;
end for
;
;
;
;
end if
;
end while
end for
end if
**[Step 4:]{.underline}**
if UL-SCH is present for transmission on the PUSCH,
Set ;
for to
if
for to
;
for to
;
;
end for
end for
end if
end for
end if
**[Step 5:]{.underline}**
if HARQ-ACK is present for transmission on the PUSCH and the number of HARQ-
ACK information bits is no more than 2,
Set ;
Set ;
Set ;
for to
;
while
if
if
;
;
end if
if
;
;
end if
for to
;
for to
> ;
>
> ;
>
> ;
end for
end for
end if
;
end while
end for
end if
**[Step 6:]{.underline}**
Set ;
for to
for to
;
for to
;
;
end for
end for
end for
## 6.3 Uplink control information
### 6.3.1 Uplink control information on PUCCH
The procedure in this clause applies to PUCCH formats 2/3/4.
#### 6.3.1.1 UCI bit sequence generation
##### 6.3.1.1.1 HARQ-ACK/SR only
If only HARQ-ACK bits are transmitted on a PUCCH, the UCI bit sequence is
determined by setting for and , where the HARQ-ACK bit sequence is given by
Clause 9.1 of [5, TS38.213].
If only HARQ-ACK and SR bits are transmitted on a PUCCH, the UCI bit sequence
is determined by setting for , for , and , where the HARQ-ACK bit sequence is
given by Clause 9.1 of [5, TS 38.213], and the SR bit sequence is given by
Clause 9.2.5.1 of [5, TS 38.213].
##### 6.3.1.1.2 CSI only
The bitwidth for PMI of _codebookType=typeI-SinglePanel_ with 2 CSI-RS ports
is 2 for Rank=1 and 1 for Rank=2, according to Clause 5.2.2.2.1 in [6, TS
38.214].
The bitwidth for PMI of _codebookType=typeI-SinglePanel_ with more than 2 CSI-
RS ports is provided in Tables 6.3.1.1.2-1, where the values of and are given
by Clause 5.2.2.2.1 in [6, TS 38.214].
Table 6.3.1.1.2-1: PMI of _codebookType=typeI-SinglePanel_
* * *
                                           Information field for wideband PMI   Information field for wideband PMI\                            
                                                                                or per subband PMI
* * *
                                           (,)
                                           *codebookMode*=1                     *codebookMode*=2                            *codebookMode*=1   *codebookMode*=2
Rank = 1 with >2 CSI-RS ports, (,) (,) N/A 2 4
Rank = 1 with >2 CSI-RS ports, (,) (, 0) N/A 2 4
Rank=2 with 4 CSI-RS ports, (,) (, 0) 1 1 3
Rank=2 with >4 CSI-RS ports, (,) (,) 2 1 3
Rank=2 with >4 CSI-RS ports, (,) (, 0) 2 1 3
Rank=3 or 4, with 4 CSI-RS ports (,) 0 1
Rank=3 or 4, with 8 or 12 CSI-RS ports (,) 2 1
Rank=3 or 4 , with >=16 CSI-RS ports (, ) 2 1
Rank=5 or 6 (,) N/A 1
Rank=7 or 8, (, ) N/A 1
Rank=7 or 8, (,) N/A 1
Rank=7 or 8, with or or (,) N/A 1
* * *
The bitwidth for PMI of _codebookType=_ _typeI-MultiPanel_ is provided in
Tables 6.3.1.1.2-2, where the values of and are given by Clause 5.2.2.2.2 in
[6, TS 38.214].
Table 6.3.1.1.2-2: PMI of _codebookType=_ _typeI-MultiPanel_
* * *
                             Information fields for wideband   Information fields for wideband\                                     
                                                               or per subband
* * *
                             (,)
Rank=1 with\ (,) N/A 2 N/A N/A 2 N/A N/A N/A _codebookMode=1_
Rank=1 with\ (,) N/A 2 2 2 2 N/A N/A N/A _codebookMode=1_
Rank=2 with ,\ (,) 1 2 N/A N/A 1 N/A N/A N/A _codebookMode=1_
Rank=3 or 4 with ,\ (,) 0 2 N/A N/A 1 N/A N/A N/A _codebookMode=1_
Rank=2 or 3 or 4 with ,\ (,) 2 2 N/A N/A 1 N/A N/A N/A _codebookMode=1_
Rank=2 with ,\ (,) 1 2 2 2 1 N/A N/A N/A _codebookMode=1_
Rank=3 or 4 with ,\ (,) 0 2 2 2 1 N/A N/A N/A _codebookMode=1_
Rank=2 or 3 or 4 with ,\ (,) 2 2 2 2 1 N/A N/A N/A _codebookMode=1_
Rank=1 with\ (,) N/A 2 2 N/A N/A 2 1 1 _codebookMode=2_
Rank=2 with ,\ (,) 1 2 2 N/A N/A 1 1 1 _codebookMode=2_
Rank=3 or 4 with ,\ (,) 0 2 2 N/A N/A 1 1 1 _codebookMode=2_
Rank=2 or 3 or 4 with ,\ (,) 2 2 2 N/A N/A 1 1 1 _codebookMode=2_
* * *
The bitwidth for PMI with 1 CSI-RS port is 0.
The bitwidth for RI/LI/CQI/CRI of _codebookType=typeI-SinglePanel_ or
_reportQuantity_ set to \'cri-RI-CQI\' is provided in Tables 6.3.1.1.2-3.
Table 6.3.1.1.2-3: RI, LI, CQI, and CRI of _codebookType=typeI-SinglePanel, or
reportQuantity_ set to \'cri-RI-CQI\'
**Field** **Bitwidth**
* * *
                                                               **1 antenna port**   **2 antenna ports**   **4 antenna ports**   **\>4 antenna ports**   
                                                                                                                                **Rank1\~4**            **Rank5\~8**
Rank Indicator when _codebookType=typeI-SinglePanel_ 0  
Rank Indicator when _reportQuantity_ set to \'cri-RI-CQI\' 0 1 2 3 3 Layer
Indicator 0  
Wide-band CQI for the first TB 4 4 4 4 4 Wideband CQI for the second TB 0 0 0
0 4 Subband differential CQI for the first TB 2 2 2 2 2 Subband differential
CQI for the second TB 0 0 0 0 2 CRI
in Table 6.3.1.1.2-3 is the number of allowed rank indicator values according
to Clause 5.2.2.2.1 [6, TS 38.214]. is the value of the rank. The value of is
the number of CSI-RS resources in the corresponding resource set. The values
of the rank indicator field are mapped to allowed rank indicator values with
increasing order, where \'0\' is mapped to the smallest allowed rank indicator
value. For higher layer parameter _reportQuantity_ set to \'cri-RI-CQI\', the
values of the rank indicator field are mapped to rank indicator values with
increasing order, where \'0\' is mapped to rank-1.
The bitwidth for RI/LI/CQI/CRI of _codebookType= typeI-MultiPanel_ is provided
in Table 6.3.1.1.2-4.
Table 6.3.1.1.2-4: RI, LI, CQI, and CRI of _codebookType=typeI-MultiPanel_
Field Bitwidth
* * *
Rank Indicator  
Layer Indicator  
Wide-band CQI 4 Subband differential CQI 2 CRI
where is the number of allowed rank indicator values according to Clause
5.2.2.2.2 [6, TS 38.214], is the value of the rank, and is the number of CSI-
RS resources in the corresponding resource set. The values of the rank
indicator field are mapped to allowed rank indicator values with increasing
order, where \'0\' is mapped to the smallest allowed rank indicator value.
The bitwidth for RI/LI/CQI of _codebookType= typeII_ or _codebookType=typeII-
PortSelection_ is provided in Table 6.3.1.1.2-5.
Table 6.3.1.1.2-5: RI, LI, and CQI of _codebookType=typeII or typeII-
PortSelection_
* * *
Field Bitwidth
* * *
Rank Indicator
Layer Indicator
Wide-band CQI 4
Subband differential CQI 2
Indicator of the number of non-zero\  
wideband amplitude coefficients for layer
* * *
where is the number of allowed rank indicator values according to Clauses
5.2.2.2.3 and 5.2.2.2.4 [6, TS 38.214] and is the value of the rank. The
values of the rank indicator field are mapped to allowed rank indicator values
with increasing order, where \'0\' is mapped to the smallest allowed rank
indicator value.
The bitwidth for CRI, SSBRI, RSRP, and differential RSRP are provided in Table
6.3.1.1.2-6.
Table 6.3.1.1.2-6: CRI, SSBRI, and RSRP
Field Bitwidth
* * *
CRI  
SSBRI  
RSRP 7 Differential RSRP 4
where is the number of CSI-RS resources in the corresponding resource set, and
is the configured number of SS/PBCH blocks in the corresponding resource set
for reporting \'ssb-Index-RSRP\'.
Table 6.3.1.1.2-7: Mapping order of CSI fields of one CSI report, _pmi-
FormatIndicator=widebandPMI_ and _cqi-FormatIndicator=widebandCQI, or
reportQuantity_ set to 'cri-RI-CQI' and _cqi-FormatIndicator=widebandCQI_
CSI report number CSI fields
* * *
CSI report #n CRI as in Tables 6.3.1.1.2-3/4, if reported Rank Indicator as in
Tables 6.3.1.1.2-3/4, if reported Layer Indicator as in Tables 6.3.1.1.2-3/4,
if reported Zero padding bits , if needed PMI wideband information fields ,
from left to right as in Tables 6.3.1.1.2-1/2, if reported PMI wideband
information fields , from left to right as in Tables 6.3.1.1.2-1/2, or
codebook index for 2 antenna ports according to Clause 5.2.2.2.1 in [6,
TS38.214], if reported Wideband CQI for the first TB as in Tables
6.3.1.1.2-3/4, if reported Wideband CQI for the second TB as in Tables
6.3.1.1.2-3/4, if reported
The number of zero padding bits in Table 6.3.1.1.2-7 is 0 for 1 CSI-RS port
and for more than 1 CSI-RS port, where
\- and is the set of rank values that are allowed to be reported;
\- , where is the reported rank;
\- For 2 CSI-RS ports, ;
\- For more than 2 CSI-RS ports, ;
\- if PMI is reported, and ; otherwise, ;
\- if PMI is reported, is obtained according to Tables 6.3.1.1.2-1/2;
otherwise, ;
\- if PMI is reported, is obtained according to Tables 6.3.1.1.2-1/2;
otherwise, ;
\- if CQI is reported, is obtained according to Tables 6.3.1.1.2-3/4;
otherwise, ;
\- if LI is reported, is obtained according to Tables 6.3.1.1.2-3/4;
otherwise, .
Table 6.3.1.1.2-8: Mapping order of CSI fields of one report for CRI/RSRP or
SSBRI/RSRP reporting
CSI report number CSI fields
* * *
CSI report #n CRI or SSBRI #1 as in Table 6.3.1.1.2-6, if reported CRI or
SSBRI #2 as in Table 6.3.1.1.2-6, if reported CRI or SSBRI #3 as in Table
6.3.1.1.2-6, if reported CRI or SSBRI #4 as in Table 6.3.1.1.2-6, if reported
RSRP #1 as in Table 6.3.1.1.2-6, if reported Differential RSRP #2 as in Table
6.3.1.1.2-6, if reported Differential RSRP #3 as in Table 6.3.1.1.2-6, if
reported Differential RSRP #4 as in Table 6.3.1.1.2-6, if reported
Table 6.3.1.1.2-9: Mapping order of CSI fields of one CSI report, CSI part 1,
_pmi-FormatIndicator=_ _subbandPMI_ or _cqi-FormatIndicator=subbandCQI_
+----------------------------------+----------------------------------+ | CSI report number | CSI fields | +==================================+==================================+ | CSI report #n | CRI as in Tables 6.3.1.1.2-3/4, | | | if reported | | CSI part 1 | | +----------------------------------+----------------------------------+ | | Rank Indicator as in Tables | | | 6.3.1.1.2-3/4/5, if reported | +----------------------------------+----------------------------------+ | | Wideband CQI for the first TB as | | | in Tables 6.3.1.1.2-3/4/5, if | | | reported | +----------------------------------+----------------------------------+ | | Subband differential CQI for the | | | first TB with increasing order | | | of subband number as in Tables | | | 6.3.1.1.2-3/4/5, if reported | +----------------------------------+----------------------------------+ | | Indicator of the number of | | | non-zero wideband amplitude | | | coefficients $M_{0}$ for layer 0 | | | as in Table 6.3.1.1.2-5, if | | | reported | +----------------------------------+----------------------------------+ | | Indicator of the number of | | | non-zero wideband amplitude | | | coefficients $M_{1}$ for layer 1 | | | as in Table 6.3.1.1.2-5 (if the | | | rank according to the reported | | | RI is equal to one, this field | | | is set to all zeros), if 2-layer | | | PMI reporting is allowed | | | according to the rank | | | restriction in Clauses 5.2.2.2.3 | | | and 5.2.2.2.4 [6, TS 38.214] | | | and if reported | +----------------------------------+----------------------------------+ | Note: Subbands for given CSI | | | report _n_ indicated by the | | | higher layer parameter | | | _csi-ReportingBand_ are numbered | | | continuously in the increasing | | | order with the lowest subband of | | | _csi-ReportingBand_ as subband | | | 0. | | +----------------------------------+----------------------------------+
Table 6.3.1.1.2-10: Mapping order of CSI fields of one CSI report, CSI part 2
wideband, _pmi-FormatIndicator=_ _subbandPMI_ or _cqi-
FormatIndicator=subbandCQI_
+---------------------+-----------------------------------------------+ | CSI report number | CSI fields | +=====================+===============================================+ | CSI report #n | Wideband CQI for the second TB as in Tables | | | 6.3.1.1.2-3/4/5, if present and reported | | CSI part 2 wideband | | +---------------------+-----------------------------------------------+ | | Layer Indicator as in Tables 6.3.1.1.2-3/4/5, | | | if reported | +---------------------+-----------------------------------------------+ | | PMI wideband information fields , from left | | | to right as in Tables 6.3.1.1.2-1/2, if | | | reported | +---------------------+-----------------------------------------------+ | | PMI wideband information fields , from left | | | to right as in Tables 6.3.1.1.2-1/2, or | | | codebook index for 2 antenna ports according | | | to Clause 5.2.2.2.1 in [6, TS38.214], if | | | _pmi-FormatIndicator=_ _widebandPMI_ and if | | | reported | +---------------------+-----------------------------------------------+
Table 6.3.1.1.2-11: Mapping order of CSI fields of one CSI report, CSI part 2
subband, _pmi-FormatIndicator=_ _subbandPMI_ or _cqi-
FormatIndicator=subbandCQI_
+----------------+----------------------------------------------------+ | CSI report #n | Subband differential CQI for the second TB of all | | | even subbands with increasing order of subband | | Part 2 subband | number, as in Tables 6.3.1.1.2-3/4/5, if | | | _cqi-FormatIndicator=subbandCQI_ and if reported | +================+====================================================+ | | PMI subband information fields of all even | | | subbands with increasing order of subband number, | | | from left to right as in Tables 6.3.1.1.2-1/2, or | | | codebook index for 2 antenna ports according to | | | Clause 5.2.2.2.1 in [6, TS38.214] of all even | | | subbands with increasing order of subband number, | | | if _pmi-FormatIndicator=_ _subbandPMI_ and if | | | reported | +----------------+----------------------------------------------------+ | | Subband differential CQI for the second TB of all | | | odd subbands with increasing order of subband | | | number, as in Tables 6.3.1.1.2-3/4/5, if | | | _cqi-FormatIndicator=subbandCQI_ and if reported | +----------------+----------------------------------------------------+ | | PMI subband information fields of all odd subbands | | | with increasing order of subband number, from left | | | to right as in Tables 6.3.1.1.2-1/2, or codebook | | | index for 2 antenna ports according to Clause | | | 5.2.2.2.1 in [6, TS38.214] of all odd subbands | | | with increasing order of subband number, if | | | _pmi-FormatIndicator=_ _subbandPMI_ and if | | | reported | +----------------+----------------------------------------------------+
Note: Subbands for given CSI report _n_ indicated by the higher layer
parameter _csi-ReportingBand_ are numbered continuously in the increasing
order with the lowest subband of _csi-ReportingBand_ as subband 0.
If none of the CSI reports for transmission on a PUCCH is of two parts, the
CSI fields of all CSI reports, in the order from upper part to lower part in
Table 6.3.1.1.2-12, are mapped to the UCI bit sequence starting with . The
most significant bit of each field is mapped to the lowest order information
bit for that field, e.g. the most significant bit of the first field is mapped
to.
Table 6.3.1.1.2-12: Mapping order of CSI reports to UCI bit sequence , without
two-part CSI report(s)
+------------------+---------------------------+ | UCI bit sequence | CSI report number | +==================+===========================+ | | CSI report #1 | | | | | | as in Table 6.3.1.1.2-7/8 | +------------------+---------------------------+ | | CSI report #2 | | | | | | as in Table 6.3.1.1.2-7/8 | +------------------+---------------------------+ | | ... | +------------------+---------------------------+ | | CSI report #n | | | | | | as in Table 6.3.1.1.2-7/8 | +------------------+---------------------------+
If at least one of the CSI reports for transmission on a PUCCH is of two
parts, two UCI bit sequences are generated, and . The CSI fields of all CSI
reports, in the order from upper part to lower part in Table 6.3.1.1.2-13, are
mapped to the UCI bit sequence starting with . The most significant bit of
each field is mapped to the lowest order information bit for that field, e.g.
the most significant bit of the first field is mapped to. The CSI fields of
all CSI reports, in the order from upper part to lower part in Table
6.3.1.1.2-14, are mapped to the UCI bit sequence starting with . The most
significant bit of each field is mapped to the lowest order information bit
for that field, e.g. the most significant bit of the first field is mapped to
. If the length of UCI bit sequence is less than 3 bits, zeros shall be
appended to the UCI bit sequence until its length equals 3.
Table 6.3.1.1.2-13: Mapping order of CSI reports to UCI bit sequence ,\ with
two-part CSI report(s)
+------------------+--------------------------------------------------+ | UCI bit sequence | CSI report number | +==================+==================================================+ | | CSI report #1 if CSI report #1 is not of two | | | parts, or | | | | | | CSI report #1, CSI part 1, if CSI report #1 is | | | of two parts, | | | | | | as in Table 6.3.1.1.2-7/8/9 | +------------------+--------------------------------------------------+ | | CSI report #2 if CSI report #2 is not of two | | | parts, or | | | | | | CSI report #2, CSI part 1, if CSI report #2 is | | | of two parts, | | | | | | as in Table 6.3.1.1.2-7/8/9 | +------------------+--------------------------------------------------+ | | ... | +------------------+--------------------------------------------------+ | | CSI report #n if CSI report #n is not of two | | | parts, or | | | | | | CSI report #n, CSI part 1, if CSI report #n is | | | of two parts, | | | | | | as in Table 6.3.1.1.2-7/8/9 | +------------------+--------------------------------------------------+
where CSI report #1, CSI report #2, ..., CSI report #n in Table 6.3.1.1.2-13
correspond to the CSI reports in increasing order of CSI report priority
values according to Clause 5.2.5 of [6, TS38.214].
Table 6.3.1.1.2-14: Mapping order of CSI reports to UCI bit sequence ,\ with
two-part CSI report(s)
+------------------+--------------------------------------------------+ | UCI bit sequence | CSI report number | +==================+==================================================+ | | CSI report #1, CSI part 2 wideband, as in Table | | | 6.3.1.1.2-10\ | | | if CSI part 2 exists for CSI report #1 | +------------------+--------------------------------------------------+ | | CSI report #2, CSI part 2 wideband, as in Table | | | 6.3.1.1.2-10\ | | | if CSI part 2 exists for CSI report #2 | +------------------+--------------------------------------------------+ | | ... | +------------------+--------------------------------------------------+ | | CSI report #n, CSI part 2 wideband, as in Table | | | 6.3.1.1.2-10\ | | | if CSI part 2 exists for CSI report #n | +------------------+--------------------------------------------------+ | | CSI report #1, CSI part 2 subband, as in Table | | | 6.3.1.1.2-11\ | | | if CSI part 2 exists for CSI report #1 | +------------------+--------------------------------------------------+ | | CSI report #2, CSI part 2 subband, as in Table | | | 6.3.1.1.2-11 | | | | | | if CSI part 2 exists for CSI report #2 | +------------------+--------------------------------------------------+ | | ... | +------------------+--------------------------------------------------+ | | CSI report #n, CSI part 2 subband, as in Table | | | 6.3.1.1.2-11 | | | | | | if CSI part 2 exists for CSI report #n | +------------------+--------------------------------------------------+
where CSI report #1, CSI report #2, ..., CSI report #n in Table 6.3.1.1.2-14
correspond to the CSI reports in increasing order of CSI report priority
values according to Clause 5.2.5 of [6, TS38.214].
##### 6.3.1.1.3 HARQ-ACK/SR and CSI
If none of the CSI reports for transmission on a PUCCH is of two parts, the
UCI bit sequence is generated according to the following, where :
\- if there is HARQ-ACK for transmission on the PUCCH, the HARQ-ACK bits are
mapped to the UCI bit sequence , where for , the HARQ-ACK bit sequence is
given by Clause 9.1 of [5, TS38.213], and is number of HARQ-ACK bits; if there
is no HARQ-ACK for transmission on the PUCCH, set ;
\- if there is SR for transmission on the PUCCH, set for , where the SR bit
sequence is given by Clause 9.2.5.1 of [5, TS 38.213]; if there is no SR for
transmission on the PUCCH, set ;
\- the CSI fields of all CSI reports, in the order from upper part to lower
part in Table 6.3.1.1.2-12, are mapped to the UCI bit sequence starting with ,
where is the number of CSI bits.
If at least one of the CSI reports for transmission on a PUCCH is of two
parts, two UCI bit sequences are generated, and , according to the following,
where and :
\- if there is HARQ-ACK for transmission on the PUCCH, the HARQ-ACK bits are
mapped to the UCI bit sequence , where for , the HARQ-ACK bit sequence is
given by Clause 9.1 of [5, TS38.213], and is number of HARQ-ACK bits; if there
is no HARQ-ACK for transmission on the PUCCH, set ;
\- if there is SR for transmission on the PUCCH, set for , where the SR bit
sequence is given by Clause 9.2.5.1 of [5, TS 38.213]; if there is no SR for
transmission on the PUCCH, set ;
\- the CSI fields of all CSI reports, in the order from upper part to lower
part in Table 6.3.1.1.2-13, are mapped to the UCI bit sequence starting with ,
where is the number of CSI bits in CSI part 1 of all CSI reports;
\- the CSI fields of all CSI reports, in the order from upper part to lower
part in Table 6.3.1.1.2-14, are mapped to the UCI bit sequence starting with ,
where is the number of CSI bits in CSI part 2 of all CSI reports. If the
length of UCI bit sequence is less than 3 bits, zeros shall be appended to the
UCI bit sequence until its length equals 3.
#### 6.3.1.2 Code block segmentation and CRC attachment
The UCI bit sequence from clause 6.3.1.1 is denoted by , where is the payload
size. The procedure in 6.3.1.2.1 applies for and the procedure in Clause
6.3.1.2.2 applies for .
##### 6.3.1.2.1 UCI encoded by Polar code
If the payload size , code block segmentation and CRC attachment is performed
according to Clause 5.2.1. If ( and ) or if , ; otherwise , where is the rate
matching output sequence length as given in Clause 6.3.1.4.1.
If , the parity bits in Clause 5.2.1 are computed by setting to 6 bits and
using the generator polynomial in Clause 5.1, resulting in the sequence where
is the code block number and is the number of bits for code block number .
If , the parity bits in Clause 5.2.1 are computed by setting to 11 bits and
using the generator polynomial in Clause 5.1, resulting in the sequence where
is the code block number and is the number of bits for code block number .
##### 6.3.1.2.2 UCI encoded by channel coding of small block lengths
If the payload size , CRC bits are not attached.
The output bit sequence is denoted by , where for and .
#### 6.3.1.3 Channel coding of UCI
##### 6.3.1.3.1 UCI encoded by Polar code
Information bits are delivered to the channel coding block. They are denoted
by , where is the code block number, and is the number of bits in code block
number . The total number of code blocks is denoted by and each code block is
individually encoded by the following:
If , the information bits are encoded via Polar coding according to Clause
5.3.1, by setting , , , if and if , where is the rate matching output sequence
length as given in Clause 6.3.1.4.1.
If , the information bits are encoded via Polar coding according to Clause
5.3.1, by setting , , , and .
After encoding the bits are denoted by , where is the number of coded bits in
code block number .
##### 6.3.1.3.2 UCI encoded by channel coding of small block lengths
Information bits are delivered to the channel coding block. They are denoted
by , where is the number of bits.
The information bits are encoded according to Clause 5.3.3.
After encoding the bits are denoted by , where is the number of coded bits.
#### 6.3.1.4 Rate matching
For PUCCH formats 2/3/4, the total rate matching output sequence length is
given by Table 6.3.1.4-1, where , , and are the number of symbols carrying UCI
for PUCCH formats 2/3/4 respectively; and are the number of PRBs that are
determined by the UE for PUCCH formats 2/3 transmission respectively according
to Clause 9.2 of [5, TS38.213]; and is the spreading factor for PUCCH format
4.
Table 6.3.1.4-1: Total rate matching output sequence length
_PUCCH format_ _Modulation order_
* * *
                   QPSK                 Ï€/2-BPSK
PUCCH format 2 N/A PUCCH format 3  
PUCCH format 4
##### 6.3.1.4.1 UCI encoded by Polar code
The input bit sequence to rate matching is where is the code block number, and
is the number of coded bits in code block number .
Table 6.3.1.4.1-1: Rate matching output sequence length
+------------------------------------+--------------------------+----------+ | UCI(s) for transmission on a PUCCH | UCI for encoding | Value of | +====================================+==========================+==========+ | HARQ-ACK | HARQ-ACK | | +------------------------------------+--------------------------+----------+ | HARQ-ACK, SR | HARQ-ACK, SR | | +------------------------------------+--------------------------+----------+ | CSI | CSI | | | | | | | (CSI not of two parts) | | | +------------------------------------+--------------------------+----------+ | HARQ-ACK, CSI | HARQ-ACK, CSI | | | | | | | (CSI not of two parts) | | | +------------------------------------+--------------------------+----------+ | HARQ-ACK, SR, CSI | HARQ-ACK, SR, CSI | | | | | | | (CSI not of two parts) | | | +------------------------------------+--------------------------+----------+ | CSI | CSI part 1 | | | | | | | (CSI of two parts) | | | +------------------------------------+--------------------------+----------+ | | CSI part 2 | | +------------------------------------+--------------------------+----------+ | HARQ-ACK, CSI | HARQ-ACK, CSI part 1 | | | | | | | (CSI of two parts) | | | +------------------------------------+--------------------------+----------+ | | CSI part 2 | | +------------------------------------+--------------------------+----------+ | HARQ-ACK, SR, CSI | HARQ-ACK, SR, CSI part 1 | | | | | | | (CSI of two parts) | | | +------------------------------------+--------------------------+----------+ | | CSI part 2 | | +------------------------------------+--------------------------+----------+
Rate matching is performed according to Clause 5.4.1 by setting and the rate
matching output sequence length to , where is the number of code blocks for
UCI determined according to Clause 6.3.1.2.1 and the value of is given by
Table 6.3.1.4.1-1:
\- is the number of bits for HARQ-ACK for transmission on the current PUCCH;
\- is the number of bits for SR for transmission on the current PUCCH;
\- is the number of bits for CSI part 1 for transmission on the current PUCCH;
\- is the number of bits for CSI part 2 for transmission on the current PUCCH;
\- if , ; otherwise, is the number of CRC bits determined according to clause
6.3.1.2.1, where equals for \"CSI (CSI of two parts)\", equals for \"HARQ-ACK,
CSI (CSI of two parts)\", and equals for \"HARQ-ACK, SR, CSI (CSI of two
parts)\" respectively in Table 6.3.1.4.1-1;;
\- is the configured maximum PUCCH coding rate;
\- is given by Table 6.3.1.4-1.
The output bit sequence after rate matching is denoted as where is the length
of rate matching output sequence in code block number .
##### 6.3.1.4.2 UCI encoded by channel coding of small block lengths
The input bit sequence to rate matching is .
The value of is determined according to Table 6.3.1.4.1-1 by setting .
Rate matching is performed according to Clause 5.4.3 by setting the rate
matching output sequence length .
The output bit sequence after rate matching is denoted as .
#### 6.3.1.5 Code block concatenation
The input bit sequence for the code block concatenation block are the
sequences, for and where is the number of rate matched bits for the -th code
block.
Code block concatenation is performed according to Clause 5.5.
The bits after code block concatenation are denoted by, where with the values
of and given in Clause 6.3.1.4.1. Let be the total number of coded bits for
transmission and . Set for .
#### 6.3.1.6 Multiplexing of coded UCI bits to PUCCH
If CSI of two parts are transmitted on a PUCCH, the coded bits corresponding
to UCI bit sequence is denoted by and the coded bits corresponding to UCI bit
sequence is denoted by . The coded bit sequence , where , is generated
according to the following.
Table 6.3.1.6-1: PUCCH DMRS and UCI symbols
PUCCH duration (symbols) PUCCH DMRS symbol indices Number of UCI symbol
indices sets 1^st^ UCI symbol indices set 2^nd^ UCI symbol indices set 3^rd^
UCI symbol indices set
* * *
4 {1} 2 {0,2} {3} - 4 {0,2} 1 {1,3} - - 5 {0, 3} 1 {1, 2, 4} - - 6 {1, 4} 1
{0, 2, 3, 5} - - 7 {1, 4} 2 {0, 2, 3, 5} {6} - 8 {1, 5} 2 {0, 2, 4, 6} {3, 7}
- 9 {1, 6} 2 {0, 2, 5, 7} {3, 4, 8} - 10 {2, 7} 2 {1, 3, 6, 8} {0, 4, 5, 9} -
10 {1, 3, 6, 8} 1 {0,2,4,5,7,9} - - 11 {2, 7} 3 {1,3,6,8} {0,4,5,9} {10} 11
{1,3,6,9} 1 {0,2,4,5,7,8,10} - - 12 {2, 8} 3 {1,3,7,9} {0,4,6,10} {5, 11} 12
{1,4,7,10} 1 {0,2,3,5,6,8,9,11} - - 13 {2, 9} 3 {1,3,8,10} {0,4,7,11} {5,6,12}
13 {1,4,7,11} 2 {0,2,3,5,6,8,10,12} {9} - 14 {3, 10} 3 {2,4,9,11} {1,5,8,12}
{0,6,7,13} 14 {1,5,8,12} 2 {0,2,4,6,7,9,11,13} {3, 10} -
Denote as UCI OFDM symbol index. Denote as the number of elements in UCI
symbol indices set for , where and are given by Table 6.3.1.6-1 according to
the PUCCH duration and the PUCCH DMRS configuration. Denote as the number of
OFDM symbols carrying UCI in the PUCCH. Denote as the modulation order of the
PUCCH.
For PUCCH format 3, set , where is the number of PRBs that is determined by
the UE for PUCCH format 3 transmission according to Clause 9.2 of [5, TS
38.213].
For PUCCH format 4, set , where is the spreading factor for PUCCH format 4.
Find the smallest such that .
Set ;
Set ;
Set ;
Set ;
for to
if
for to
for to
;
;
end for
end for
elseif
if
;
else
;
end if
;
for to
for to
;
;
end for
end for
for to
for to
;
;
end for
end for
else
for to
for to
;
;
end for
end for
end if
end for
Set
for to
for to
for to
;
;
end for
end for
end for
### 6.3.2 Uplink control information on PUSCH
#### 6.3.2.1 UCI bit sequence generation
##### 6.3.2.1.1 HARQ-ACK
If HARQ-ACK bits are transmitted on a PUSCH, the UCI bit sequence is
determined as follows:
\- If UCI is transmitted on PUSCH without UL-SCH and the UCI includes CSI part
1 without CSI part 2,
\- if there is no HARQ-ACK bit given by Clause 9.1 of [5, TS 38.213], set , ,
and ;
\- if there is only one HARQ-ACK bit given by Clause 9.1 of [5, TS 38.213],
set , , and ;
\- otherwise, set for and , where the HARQ-ACK bit sequence is given by Clause
9.1 of [5, TS 38.213].
##### 6.3.2.1.2 CSI
The bitwidth for PMI of _codebookType=typeI-SinglePanel_ and
_codebookType=typeI-MultiPanel_ is specified in Clause 6.3.1.1.2.
The bitwidth for RI/LI/CQI/CRI of _codebookType=typeI-SinglePanel_ and
_codebookType=typeI-MultiPanel_ is specified in Clause 6.3.1.1.2.
The bitwidth for PMI of _codebookType=typeII_ is provided in Tables
6.3.2.1.2-1, where the values of , , , , , , and are given by Clause 5.2.2.2.3
in [6, TS 38.214].
Table 6.3.2.1.2-1: PMI of _codebookType=_ _typeII_
| Information fields for wideband PMI | Information fields for wideband PMI or per subband PMI |  |  |  |  |  |  |  |   
---|---|---|---|---|---|---|---|---|---|---  
|  |  |  |  |  |  |  |  |  |   
Rank=1 SBAmp off |  |  |  |  | N/A | N/A |  | N/A | N/A | N/A  
Rank=2 SBAmp off |  |  |  |  |  |  |  |  | N/A | N/A  
Rank=1 SBAmp on |  |  |  |  | N/A | N/A |  | N/A |  | N/A  
Rank=2 SBAmp on |  |  |  |  |  |  |  |  |  |   
The bitwidth for PMI of _codebookType= typeII-PortSelection_ is provided in
Tables 6.3.2.1.2-2, where the values of , , , , , , and are given by Clause
5.2.2.2.4 in [6, TS 38.214].
Table 6.3.2.1.2-2: PMI of _codebookType=_ _typeII-PortSelection_
| Information fields for wideband PMI | Information fields for wideband PMI or per subband PMI |  |  |  |  |  |  |   
---|---|---|---|---|---|---|---|---|---  
|  |  |  |  |  |  |  |  |   
Rank=1 SBAmp off |  |  |  | N/A | N/A |  | N/A | N/A | N/A  
Rank=2 SBAmp off |  |  |  |  |  |  |  | N/A | N/A  
Rank=1 SBAmp on |  |  |  | N/A | N/A |  | N/A |  | N/A  
Rank=2 SBAmp on |  |  |  |  |  |  |  |  |   
For CSI on PUSCH, two UCI bit sequences are generated, and . The CSI fields of
all CSI reports, in the order from upper part to lower part in Table
6.3.2.1.2-6, are mapped to the UCI bit sequence starting with . The CSI fields
of all CSI reports, in the order from upper part to lower part in Table
6.3.2.1.2-7, are mapped to the UCI bit sequence starting with .
The mapping order of CSI fields of one report for CRI/RSRP or SSBRI/RSRP
reporting is provided in Table 6.3.1.1.2-8. The procedure in clause 6.3.2
described for CSI part 1 is also applicable for one report for CRI/RSRP or
SSBRI/RSRP reporting.
Table 6.3.2.1.2-3: Mapping order of CSI fields of one CSI report, CSI part 1
+----------------------------------+----------------------------------+ | CSI report number | CSI fields | +==================================+==================================+ | CSI report #n | CRI as in Tables | | | 6.3.1.1.2-3/4/6, if reported | | CSI part 1 | | +----------------------------------+----------------------------------+ | | Rank Indicator as in Tables | | | 6.3.1.1.2-3/4/5, if reported | +----------------------------------+----------------------------------+ | | Wideband CQI for the first TB as | | | in Tables 6.3.1.1.2-3/4/5, if | | | reported | +----------------------------------+----------------------------------+ | | Subband differential CQI for the | | | first TB with increasing order | | | of subband number as in Tables | | | 6.3.1.1.2-3/4/5, if reported | +----------------------------------+----------------------------------+ | | Indicator of the number of | | | non-zero wideband amplitude | | | coefficients $M_{0}$ for layer 0 | | | as in Table 6.3.1.1.2-5, if | | | reported | +----------------------------------+----------------------------------+ | | Indicator of the number of | | | non-zero wideband amplitude | | | coefficients $M_{1}$ for layer 1 | | | as in Table 6.3.1.1.2-5 (if the | | | rank according to the reported | | | RI is equal to one, this field | | | is set to all zeros), if 2-layer | | | PMI reporting is allowed | | | according to the rank | | | restriction in Clauses 5.2.2.2.3 | | | and 5.2.2.2.4 [6, TS 38.214] | | | and if reported | +----------------------------------+----------------------------------+ | Note: Subbands for given CSI | | | report _n_ indicated by the | | | higher layer parameter | | | _csi-ReportingBand_ are numbered | | | continuously in the increasing | | | order with the lowest subband of | | | _csi-ReportingBand_ as subband | | | 0. | | +----------------------------------+----------------------------------+
Table 6.3.2.1.2-4: Mapping order of CSI fields of one CSI report, CSI part 2
wideband
+---------------------+-----------------------------------------------+ | CSI report number | CSI fields | +=====================+===============================================+ | CSI report #n | Wideband CQI for the second TB as in Tables | | | 6.3.1.1.2-3/4/5, if present and reported | | CSI part 2 wideband | | +---------------------+-----------------------------------------------+ | | Layer Indicator as in Tables 6.3.1.1.2-3/4/5, | | | if reported | +---------------------+-----------------------------------------------+ | | PMI wideband information fields , from left | | | to right as in Tables 6.3.1.1.2-1/2 or | | | 6.3.2.1.2-1/2, if reported | +---------------------+-----------------------------------------------+ | | PMI wideband information fields , from left | | | to right as in Tables 6.3.1.1.2-1/2 or | | | 6.3.2.1.2-1/2, or codebook index for 2 | | | antenna ports according to Clause 5.2.2.2.1 | | | in [6, TS38.214], if _pmi-FormatIndicator=_ | | | _widebandPMI_ and if reported | +---------------------+-----------------------------------------------+
Table 6.3.2.1.2-5: Mapping order of CSI fields of one CSI report, CSI part 2
subband
+----------------+----------------------------------------------------+ | CSI report #n | Subband differential CQI for the second TB of all | | | even subbands with increasing order of subband | | Part 2 subband | number, as in Tables 6.3.1.1.2-3/4/5, if | | | _cqi-FormatIndicator=subbandCQI_ and if reported | +================+====================================================+ | | PMI subband information fields of all even | | | subbands with increasing order of subband number, | | | from left to right as in Tables 6.3.1.1.2-1/2 or | | | 6.3.2.1.2-1/2, or codebook index for 2 antenna | | | ports according to Clause 5.2.2.2.1 in [6, | | | TS38.214] of all even subbands with increasing | | | order of subband number, if _pmi-FormatIndicator=_ | | | _subbandPMI_ and if reported | +----------------+----------------------------------------------------+ | | Subband differential CQI for the second TB of all | | | odd subbands with increasing order of subband | | | number, as in Tables 6.3.1.1.2-3/4/5, if | | | _cqi-FormatIndicator=subbandCQI_ and if reported | +----------------+----------------------------------------------------+ | | PMI subband information fields of all odd subbands | | | with increasing order of subband number, from left | | | to right as in Tables 6.3.1.1.2-1/2 or | | | 6.3.2.1.2-1/2, or codebook index for 2 antenna | | | ports according to Clause 5.2.2.2.1 in [6, | | | TS38.214] of all odd subbands with increasing | | | order of subband number, if _pmi-FormatIndicator=_ | | | _subbandPMI_ and if reported | +----------------+----------------------------------------------------+
Note: Subbands for given CSI report _n_ indicated by the higher layer
parameter _csi-ReportingBand_ are numbered continuously in the increasing
order with the lowest subband of _csi-ReportingBand_ as subband 0.
Table 6.3.2.1.2-6: Mapping order of CSI reports to UCI bit sequence ,\ with
two-part CSI report(s)
UCI bit sequence CSI report number
* * *
                     CSI part 1 of CSI report \#1 as in Table 6.3.2.1.2-3 or Table 6.3.1.1.2-8
                     CSI part 1 of CSI report \#2 as in Table 6.3.2.1.2-3 or Table 6.3.1.1.2-8
                     ...
                     CSI part 1 of CSI report \#n as in Table 6.3.2.1.2-3 or Table 6.3.1.1.2-8
where CSI report #1, CSI report #2, ..., CSI report #n in Table 6.3.2.1.2-6
correspond to the CSI reports in increasing order of CSI report priority
values according to Clause 5.2.5 of [6, TS38.214].
Table 6.3.2.1.2-7: Mapping order of CSI reports to UCI bit sequence ,\ with
two-part CSI report(s)
+------------------+--------------------------------------------------+ | UCI bit sequence | CSI report number | +==================+==================================================+ | | CSI report #1, CSI part 2 wideband, as in Table | | | 6.3.2.1.2-4\ | | | if CSI part 2 exists for CSI report #1 | +------------------+--------------------------------------------------+ | | CSI report #2, CSI part 2 wideband, as in Table | | | 6.3.2.1.2-4\ | | | if CSI part 2 exists for CSI report #2 | +------------------+--------------------------------------------------+ | | ... | +------------------+--------------------------------------------------+ | | CSI report #n, CSI part 2 wideband, as in Table | | | 6.3.2.1.2-4\ | | | if CSI part 2 exists for CSI report #n | +------------------+--------------------------------------------------+ | | CSI report #1, CSI part 2 subband, as in Table | | | 6.3.2.1.2-5\ | | | if CSI part 2 exists for CSI report #1 | +------------------+--------------------------------------------------+ | | CSI report #2, CSI part 2 subband, as in Table | | | 6.3.2.1.2-5 | | | | | | if CSI part 2 exists for CSI report #2 | +------------------+--------------------------------------------------+ | | ... | +------------------+--------------------------------------------------+ | | CSI report #n, CSI part 2 subband, as in Table | | | 6.3.2.1.2-5 | | | | | | if CSI part 2 exists for CSI report #n | +------------------+--------------------------------------------------+
where CSI report #1, CSI report #2, ..., CSI report #n in Table 6.3.2.1.2-7
correspond to the CSI reports in increasing order of CSI report priority
values according to Clause 5.2.5 of [6, TS38.214].
#### 6.3.2.2 Code block segmentation and CRC attachment
Denote the bits of the payload by , where is the payload size. The procedure
in 6.3.2.2.1 applies for and the procedure in Clause 6.3.2.2.2 applies for .
##### 6.3.2.2.1 UCI encoded by Polar code
Code block segmentation and CRC attachment is performed according to Clause
6.3.1.2.1.
##### 6.3.2.2.2 UCI encoded by channel coding of small block lengths
The procedure in Clause 6.3.1.2.2 applies.
#### 6.3.2.3 Channel coding of UCI
##### 6.3.2.3.1 UCI encoded by Polar code
Channel coding is performed according to Clause 6.3.1.3.1, except that the
rate matching output sequence length is given in Clause 6.3.2.4.1.
##### 6.3.2.3.2 UCI encoded by channel coding of small block lengths
Information bits are delivered to the channel coding block. They are denoted
by , where is the number of bits.
The information bits are encoded according to Clause 5.3.3.
After encoding the bits are denoted by , where is the number of coded bits.
#### 6.3.2.4 Rate matching
##### 6.3.2.4.1 UCI encoded by Polar code
###### 6.3.2.4.1.1 HARQ-ACK
For HARQ-ACK transmission on PUSCH with UL-SCH, the number of coded modulation
symbols per layer for HARQ-ACK transmission, denoted as , is determined as
follows:
where
\- is the number of HARQ-ACK bits;
\- if , ; otherwise is the number of CRC bits for HARQ-ACK determined
according to Clause 6.3.1.2.1;
\- ;
\- is the number of code blocks for UL-SCH of the PUSCH transmission;
\- if the DCI format scheduling the PUSCH transmission includes a CBGTI field
indicating that the UE shall not transmit the -th code block, =0; otherwise,
is the -th code block size for UL-SCH of the PUSCH transmission;
\- is the scheduled bandwidth of the PUSCH transmission, expressed as a number
of subcarriers;
\- is the number of subcarriers in OFDM symbol that carries PTRS, in the PUSCH
transmission;
\- is the number of resource elements that can be used for transmission of UCI
in OFDM symbol , for , in the PUSCH transmission and is the total number of
OFDM symbols of the PUSCH, including all OFDM symbols used for DMRS;
\- for any OFDM symbol that carries DMRS of the PUSCH, ;
\- for any OFDM symbol that does not carry DMRS of the PUSCH, ;
\- is configured by higher layer parameter _scaling_ ;
\- is the symbol index of the first OFDM symbol that does not carry DMRS of
the PUSCH, after the first DMRS symbol(s), in the PUSCH transmission.
For HARQ-ACK transmission on PUSCH without UL-SCH, the number of coded
modulation symbols per layer for HARQ-ACK transmission, denoted as , is
determined as follows:
where
\- is the number of HARQ-ACK bits;
\- if , ; otherwise is the number of CRC bits for HARQ-ACK defined according
to Clause 6.3.1.2.1;;
\- ;
\- is the scheduled bandwidth of the PUSCH transmission, expressed as a number
of subcarriers;
\- is the number of subcarriers in OFDM symbol that carries PTRS, in the PUSCH
transmission;
\- is the number of resource elements that can be used for transmission of UCI
in OFDM symbol , for , in the PUSCH transmission and is the total number of
OFDM symbols of the PUSCH, including all OFDM symbols used for DMRS;
\- for any OFDM symbol that carries DMRS of the PUSCH, ;
\- for any OFDM symbol that does not carry DMRS of the PUSCH, ;
\- is the symbol index of the first OFDM symbol that does not carry DMRS of
the PUSCH, after the first DMRS symbol(s), in the PUSCH transmission;
\- is the code rate of the PUSCH, determined according to Clause 6.1.4.1 of
[6, TS38.214];
\- is the modulation order of the PUSCH;
\- is configured by higher layer parameter _scaling_.
The input bit sequence to rate matching is where is the code block number, and
is the number of coded bits in code block number .
Rate matching is performed according to Clause 5.4.1 by setting and the rate
matching output sequence length to , where
\- is the number of code blocks for UCI determined according to Clause 5.2.1;
\- is the number of transmission layers of the PUSCH;
\- is the modulation order of the PUSCH;
\- .
The output bit sequence after rate matching is denoted as where is the length
of rate matching output sequence in code block number .
###### 6.3.2.4.1.2 CSI part 1
For CSI part 1 transmission on PUSCH with UL-SCH, the number of coded
modulation symbols per layer for CSI part 1 transmission, denoted as , is
determined as follows:
where
\- is the number of bits for CSI part 1;
\- if , ; otherwise is the number of CRC bits for CSI part 1 determined
according to Clause 6.3.1.2.1;
\- ;
\- is the number of code blocks for UL-SCH of the PUSCH transmission;
\- if the DCI format scheduling the PUSCH transmission includes a CBGTI field
indicating that the UE shall not transmit the -th code block, =0; otherwise,
is the -th code block size for UL-SCH of the PUSCH transmission;
\- is the scheduled bandwidth of the PUSCH transmission, expressed as a number
of subcarriers;
\- is the number of subcarriers in OFDM symbol that carries PTRS, in the PUSCH
transmission;
\- is the number of coded modulation symbols per layer for HARQ-ACK
transmitted on the PUSCH if number of HARQ-ACK information bits is more than
2, and if the number of HARQ-ACK information bits is no more than 2 bits,
where is the number of reserved resource elements for potential HARQ-ACK
transmission in OFDM symbol , for , in the PUSCH transmission, defined in
Clause 6.2.7;
\- is the number of resource elements that can be used for transmission of UCI
in OFDM symbol , for , in the PUSCH transmission and is the total number of
OFDM symbols of the PUSCH, including all OFDM symbols used for DMRS;
\- for any OFDM symbol that carries DMRS of the PUSCH, ;
\- for any OFDM symbol that does not carry DMRS of the PUSCH, ;
\- is configured by higher layer parameter _scaling_.
For CSI part 1 transmission on PUSCH without UL-SCH, the number of coded
modulation symbols per layer for CSI part 1 transmission, denoted as , is
determined as follows:
if there is CSI part 2 to be transmitted on the PUSCH,
else
end if
where
\- is the number of bits for CSI part 1;
\- if , ; otherwise is the number of CRC bits for CSI part 1 determined
according to Clause 6.3.1.2.1;
\- ;
\- is the scheduled bandwidth of the PUSCH transmission, expressed as a number
of subcarriers;
\- is the number of subcarriers in OFDM symbol that carries PTRS, in the PUSCH
transmission;
\- is the number of coded modulation symbols per layer for HARQ-ACK
transmitted on the PUSCH if number of HARQ-ACK information bits is more than
2, and if the number of HARQ-ACK information bits is no more than 2 bits,
where is the number of reserved resource elements for potential HARQ-ACK
transmission in OFDM symbol , for , in the PUSCH transmission, defined in
Clause 6.2.7;
\- is the number of resource elements that can be used for transmission of UCI
in OFDM symbol , for , in the PUSCH transmission and is the total number of
OFDM symbols of the PUSCH, including all OFDM symbols used for DMRS;
\- for any OFDM symbol that carries DMRS of the PUSCH, ;
\- for any OFDM symbol that does not carry DMRS of the PUSCH, ;
\- is the code rate of the PUSCH, determined according to Clause 6.1.4.1 of
[6, TS38.214];
\- is the modulation order of the PUSCH.
The input bit sequence to rate matching is where is the code block number, and
is the number of coded bits in code block number .
Rate matching is performed according to Clause 5.4.1 by setting and the rate
matching output sequence length to , where
\- is the number of code blocks for UCI determined according to Clause 5.2.1;
\- is the number of transmission layers of the PUSCH;
\- is the modulation order of the PUSCH;
\- .
The output bit sequence after rate matching is denoted as where is the length
of rate matching output sequence in code block number .
###### 6.3.2.4.1.3 CSI part 2
For CSI part 2 transmission on PUSCH with UL-SCH, the number of coded
modulation symbols per layer for CSI part 2 transmission, denoted as , is
determined as follows:
where
\- is the number of bits for CSI part 2;
\- if , ; otherwise is the number of CRC bits for CSI part 2 determined
according to Clause 6.3.1.2.1;
\- ;
\- is the number of code blocks for UL-SCH of the PUSCH transmission;
\- if the DCI format scheduling the PUSCH transmission includes a CBGTI field
indicating that the UE shall not transmit the -th code block, =0; otherwise,
is the -th code block size for UL-SCH of the PUSCH transmission;
\- is the scheduled bandwidth of the PUSCH transmission, expressed as a number
of subcarriers;
\- is the number of subcarriers in OFDM symbol that carries PTRS, in the PUSCH
transmission;
\- is the number of coded modulation symbols per layer for HARQ-ACK
transmitted on the PUSCH if number of HARQ-ACK information bits is more than
2, and if the number of HARQ-ACK information bits is 1 or 2 bits;
\- is the number of coded modulation symbols per layer for CSI part 1
transmitted on the PUSCH;
\- is the number of resource elements that can be used for transmission of UCI
in OFDM symbol , for , in the PUSCH transmission and is the total number of
OFDM symbols of the PUSCH, including all OFDM symbols used for DMRS;
\- for any OFDM symbol that carries DMRS of the PUSCH, ;
\- for any OFDM symbol that does not carry DMRS of the PUSCH, .
\- is configured by higher layer parameter _scaling_.
For CSI part 2 transmission on PUSCH without UL-SCH, the number of coded
modulation symbols per layer for CSI part 2 transmission, denoted as , is
determined as follows:
where
\- is the scheduled bandwidth of the PUSCH transmission, expressed as a number
of subcarriers;
\- is the number of subcarriers in OFDM symbol that carries PTRS, in the PUSCH
transmission;
\- is the number of coded modulation symbols per layer for HARQ-ACK
transmitted on the PUSCH if number of HARQ-ACK information bits is more than
2, and if the number of HARQ-ACK information bits is 1 or 2 bits;
\- is the number of coded modulation symbols per layer for CSI part 1
transmitted on the PUSCH;
\- is the number of resource elements that can be used for transmission of UCI
in OFDM symbol , for , in the PUSCH transmission and is the total number of
OFDM symbols of the PUSCH, including all OFDM symbols used for DMRS;
\- for any OFDM symbol that carries DMRS of the PUSCH, ;
\- for any OFDM symbol that does not carry DMRS of the PUSCH, .
The input bit sequence to rate matching is where is the code block number, and
is the number of coded bits in code block number .
Rate matching is performed according to Clause 5.4.1 by setting and the rate
matching output sequence length to , where
\- is the number of code blocks for UCI determined according to Clause 5.2.1;
\- is the number of transmission layers of the PUSCH;
\- is the modulation order of the PUSCH;
\- .
The output bit sequence after rate matching is denoted as where is the length
of rate matching output sequence in code block number .
##### 6.3.2.4.2 UCI encoded by channel coding of small block lengths
###### 6.3.2.4.2.1 HARQ-ACK
For HARQ-ACK transmission on PUSCH, the number of coded modulation symbols per
layer for HARQ-ACK transmission, denoted as , is determined according to
Clause 6.3.2.4.1.1, by setting the number of CRC bits .
The input bit sequence to rate matching is .
Rate matching is performed according to Clause 5.4.3, by setting the rate
matching output sequence length , where
\- is the number of transmission layers of the PUSCH;
\- is the modulation order of the PUSCH.
The output bit sequence after rate matching is denoted as .
###### 6.3.2.4.2.2 CSI part 1
For CSI part 1 transmission on PUSCH, the number of coded modulation symbols
per layer for CSI part 1 transmission, denoted as , is determined according to
Clause 6.3.2.4.1.2, by setting the number of CRC bits .
Rate matching is performed according to Clause 5.4.3, by setting the rate
matching output sequence length , where
\- is the number of transmission layers of the PUSCH;
\- is the modulation order of the PUSCH.
The output bit sequence after rate matching is denoted as .
###### 6.3.2.4.2.3 CSI part 2
For CSI part 2 transmission on PUSCH, the number of coded modulation symbols
per layer for CSI part 2 transmission, denoted as , is determined according to
Clause 6.3.2.4.1.3, by setting the number of CRC bits .
Rate matching is performed according to Clause 5.4.3, by setting the rate
matching output sequence length , where
\- is the number of transmission layers of the PUSCH;
\- is the modulation order of the PUSCH.
The output bit sequence after rate matching is denoted as .
#### 6.3.2.5 Code block concatenation
Code block concatenation is performed according to Clause 6.3.1.5, except that
the values of and given in Clause 6.3.2.4.1.
#### 6.3.2.6 Multiplexing of coded UCI bits to PUSCH
The coded UCI bits are multiplexed onto PUSCH according to the procedures in
Clause 6.2.7.
# 7 Downlink transport channels and control information
## 7.1 Broadcast channel
Data arrives to the coding unit in the form of a maximum of one transport
block every 80ms. The following coding steps can be identified:
\- Payload generation
\- Scrambling
\- Transport block CRC attachment
\- Channel coding
\- Rate matching
### 7.1.1 PBCH payload generation
Denote the bits in a transport block delivered to layer 1 by , where is the
payload size generated by higher layers. The lowest order information bit is
mapped to the most significant bit of the transport block as defined in Clause
6.1.1 of [8, TS 38.321].
Generate the following additional timing related PBCH payload bits , where:
\- are the 4^th^, 3^rd^, 2^nd^, and 1^st^ LSB of SFN, respectively;
\- is the half frame bit ;
\- if
are the 6^th^, 5^th^, and 4^th^ bits of SS/PBCH block index, respectively.
else
is the MSB of as defined in Clause 7.4.3.1 of [4, TS 38.211].
are reserved.
end if
Let ; ; ; ; ;
for to
if is an SFN bit
;
;
elseif is the half radio frame bit
elseif
;
;
else
;
;
end if
end for
where is the number of candidate SS/PBCH blocks in a half frame according to
Clause 4.1 of [5, TS38.213], and the value of is given by Table 7.1.1-1.
Table 7.1.1-1: Value of PBCH payload interleaver pattern
* * *
0 16 4 8 8 24 12 3 16 9 20 14 24 21 28 27 1 23 5 30 9 7 13 2 17 11 21 15 25 22
29 28 2 18 6 10 10 0 14 1 18 12 22 19 26 25 30 29 3 17 7 6 11 5 15 4 19 13 23
20 27 26 31 31
* * *
### 7.1.2 Scrambling
For PBCH transmission in a frame, the bit sequence is scrambled into a bit
sequence , where for and is generated according to the following:
;
;
while
if corresponds to any one of the bits belonging to the SS/PBCH block index,
the half frame index, and 2^nd^ and 3^rd^ least significant bits of the system
frame number
;
else
;
;
end if
;
end while
The scrambling sequence is given by Clause 5.2.1of [4, TS38.211] and
initialized with at the start of each SFN satisfying ; for or , and for ,
where is the number of candidate SS/PBCH blocks in a half frame according to
Clause 4.1 of [5, TS38.213]; and is determined according to Table 7.1.2-1
using the 3^rd^ and 2^nd^ LSB of the SFN in which the PBCH is transmitted.
Table 7.1.2-1: Value of for PBCH scrambling
_(3^rd^ LSB of SFN, 2^nd^ LSB of SFN)_ _Value of_
* * *
(0, 0) 0 (0, 1) 1 (1, 0) 2 (1, 1) 3
### 7.1.3 Transport block CRC attachment
Error detection is provided on BCH transport blocks through a Cyclic
Redundancy Check (CRC).
The entire transport block is used to calculate the CRC parity bits. The input
bit sequence is denoted by , and the parity bits by, where is the payload size
and is the number of parity bits.
The parity bits are computed and attached to the BCH transport block according
to Clause 5.1 by setting to 24 bits and using the generator polynomial ,
resulting in the sequence, where .
The bit sequence is the input bit sequence to the channel encoder, where for
and .
### 7.1.4 Channel coding
Information bits are delivered to the channel coding block. They are denoted
by , where is the number of bits, and they are encoded via Polar coding
according to Clause 5.3.1, by setting , , , and .
After encoding the bits are denoted by , where is the number of coded bits.
### 7.1.5 Rate matching
The input bit sequence to rate matching is .
The rate matching output sequence length .
Rate matching is performed according to Clause 5.4.1 by setting .
The output bit sequence after rate matching is denoted as .
## 7.2 Downlink shared channel and paging channel
### 7.2.1 Transport block CRC attachment
Error detection is provided on each transport block through a Cyclic
Redundancy Check (CRC).
The entire transport block is used to calculate the CRC parity bits. Denote
the bits in a transport block delivered to layer 1 by, and the parity bits by,
where is the payload size and is the number of parity bits. The lowest order
information bit is mapped to the most significant bit of the transport block
as defined in Clause 6.1.1 of [TS38.321].
The parity bits are computed and attached to the DL-SCH transport block
according to Clause 5.1, by setting to 24 bits and using the generator
polynomial if ; and by setting to 16 bits and using the generator polynomial
otherwise.
The bits after CRC attachment are denoted by , where .
### 7.2.2 LDPC base graph selection
For initial transmission of a transport block with coding rate indicated by
the MCS index according to Clause 5.1.3.1 in [6, TS 38.214] and subsequent re-
transmission of the same transport block, each code block of the transport
block is encoded with either LDPC base graph 1 or 2 according to the
following:
\- if , or if and , or if , LDPC base graph 2 is used;
\- otherwise, LDPC base graph 1 is used,
where is the payload size in Clause 7.2.1.
### 7.2.3 Code block segmentation and code block CRC attachment
The bits input to the code block segmentation are denoted by where is the
number of bits in the transport block (including CRC).
Code block segmentation and code block CRC attachment are performed according
to Clause 5.2.2.
The bits after code block segmentation are denoted by, where is the code block
number and is the number of bits for code block number according to Clause
5.2.2.
### 7.2.4 Channel coding
Code blocks are delivered to the channel coding block. The bits in a code
block are denoted by , where is the code block number, and is the number of
bits in code block number . The total number of code blocks is denoted by and
each code block is individually LDPC encoded according to Clause 5.3.2.
After encoding the bits are denoted by , where the values of is given in
Clause 5.3.2.
### 7.2.5 Rate matching
Coded bits for each code block, denoted as , are delivered to the rate match
block, where is the code block number, and is the number of encoded bits in
code block number . The total number of code blocks is denoted by and each
code block is individually rate matched according to Clause 5.4.2 by setting .
After rate matching, the bits are denoted by, where is the number of rate
matched bits for code block number .
### 7.2.6 Code block concatenation
The input bit sequence for the code block concatenation block are the
sequences , for and where is the number of rate matched bits for the -th code
block.
Code block concatenation is performed according to Clause 5.5.
The bits after code block concatenation are denoted by, where is the total
number of coded bits for transmission.
## 7.3 Downlink control information
A DCI transports downlink control information for one or more cells with one
RNTI.
The following coding steps can be identified:
\- Information element multiplexing
\- CRC attachment
\- Channel coding
\- Rate matching
### 7.3.1 DCI formats
The DCI formats defined in table 7.3.1-1 are supported.
Table 7.3.1-1: DCI formats
**DCI format** **Usage**
* * *
0_0 Scheduling of PUSCH in one cell 0_1 Scheduling of PUSCH in one cell 1_0
Scheduling of PDSCH in one cell 1_1 Scheduling of PDSCH in one cell 2_0
Notifying a group of UEs of the slot format 2_1 Notifying a group of UEs of
the PRB(s) and OFDM symbol(s) where UE may assume no transmission is intended
for the UE 2_2 Transmission of TPC commands for PUCCH and PUSCH 2_3
Transmission of a group of TPC commands for SRS transmissions by one or more
UEs
The fields defined in the DCI formats below are mapped to the information bits
to as follows.
Each field is mapped in the order in which it appears in the description,
including the zero-padding bit(s), if any, with the first field mapped to the
lowest order information bit and each successive field mapped to higher order
information bits. The most significant bit of each field is mapped to the
lowest order information bit for that field, e.g. the most significant bit of
the first field is mapped to .
If the number of information bits in a DCI format is less than 12 bits, zeros
shall be appended to the DCI format until the payload size equals 12.
The size of each DCI format is determined by the configuration of the
corresponding active bandwidth part of the scheduled cell and shall be
adjusted as described in clause 7.3.1.0 if necessary.
#### 7.3.1.0 DCI size alignment
If necessary, padding or truncation shall be applied to the DCI formats
according to the following steps executed in the order below:
Step 0:
\- Determine DCI format 0_0 monitored in a common search space according to
clause 7.3.1.1.1 where is the size of the initial UL bandwidth part.
\- Determine DCI format 1_0 monitored in a common search space according to
clause 7.3.1.2.1 where is given by
\- the size of CORESET 0 if CORESET 0 is configured for the cell; and
\- the size of initial DL bandwidth part if CORESET 0 is not configured for
the cell.
\- If DCI format 0_0 is monitored in common search space and if the number of
information bits in the DCI format 0_0 prior to padding is less than the
payload size of the DCI format 1_0 monitored in common search space for
scheduling the same serving cell, a number of zero padding bits are generated
for the DCI format 0_0 until the payload size equals that of the DCI format
1_0.
\- If DCI format 0_0 is monitored in common search space and if the number of
information bits in the DCI format 0_0 prior to truncation is larger than the
payload size of the DCI format 1_0 monitored in common search space for
scheduling the same serving cell, the bitwidth of the frequency domain
resource assignment field in the DCI format 0_0 is reduced by truncating the
first few most significant bits such that the size of DCI format 0_0 equals
the size of the DCI format 1_0.
Step 1:
\- Determine DCI format 0_0 monitored in a UE-specific search space according
to clause 7.3.1.1.1 where is the size of the active UL bandwidth part.
\- Determine DCI format 1_0 monitored in a UE-specific search space according
to clause 7.3.1.2.1 where is the size of the active DL bandwidth part.
\- For a UE configured with _supplementaryUplink_ in _ServingCellConfig_ in a
cell, if PUSCH is configured to be transmitted on both the SUL and the non-SUL
of the cell and if the number of information bits in DCI format 0_0 in UE-
specific search space for the SUL is not equal to the number of information
bits in DCI format 0_0 in UE-specific search space for the non-SUL, a number
of zero padding bits are generated for the smaller DCI format 0_0 until the
payload size equals that of the larger DCI format 0_0.
\- If DCI format 0_0 is monitored in UE-specific search space and if the
number of information bits in the DCI format 0_0 prior to padding is less than
the payload size of the DCI format 1_0 monitored in UE-specific search space
for scheduling the same serving cell, a number of zero padding bits are
generated for the DCI format 0_0 until the payload size equals that of the DCI
format 1_0.
\- If DCI format 1_0 is monitored in UE-specific search space and if the
number of information bits in the DCI format 1_0 prior to padding is less than
the payload size of the DCI format 0_0 monitored in UE-specific search space
for scheduling the same serving cell, zeros shall be appended to the DCI
format 1_0 until the payload size equals that of the DCI format 0_0
Step 2:
\- For a UE configured with _supplementaryUplink_ in _ServingCellConfig_ in a
cell, if PUSCH is configured to be transmitted on both the SUL and the non-SUL
of the cell and if the number of information bits in format 0_1 for the SUL is
not equal to the number of information bits in format 0_1 for the non-SUL,
zeros shall be appended to smaller format 0_1 until the payload size equals
that of the larger format 0_1.
\- If the size of DCI format 0_1 monitored in a UE-specific search space
equals that of a DCI format 0_0/1_0 monitored in another UE-specific search
space, one bit of zero padding shall be appended to DCI format 0_1.
\- If the size of DCI format 1_1 monitored in a UE-specific search space
equals that of a DCI format 0_0/1_0 monitored in another UE-specific search
space, one bit of zero padding shall be appended to DCI format 1_1.
Step 3:
\- If both of the following conditions are fulfilled the size alignment
procedure is complete
\- the total number of different DCI sizes configured to monitor is no more
than 4 for the cell
\- the total number of different DCI sizes with C-RNTI configured to monitor
is no more than 3 for the cell
Step 4:
\- Otherwise
\- Remove the padding bit (if any) introduced in step 2 above.
\- Determine DCI format 1_0 monitored in a UE-specific search space according
to clause 7.3.1.2.1 where is given by
\- the size of CORESET 0 if CORESET 0 is configured for the cell; and
\- the size of initial DL bandwidth part if CORESET 0 is not configured for
the cell.
\- Determine DCI format 0_0 monitored in a UE-specific search space according
to clause 7.3.1.1.1 where is the size of the initial UL bandwidth part.
\- If the number of information bits in the DCI format 0_0 monitored in a UE-
specific search space prior to padding is less than the payload size of the
DCI format 1_0 monitored in UE-specific search space for scheduling the same
serving cell, a number of zero padding bits are generated for the DCI format
0_0 monitored in a UE-specific search space until the payload size equals that
of the DCI format 1_0 monitored in a UE-specific search space.
\- If the number of information bits in the DCI format 0_0 monitored in a UE-
specific search space prior to truncation is larger than the payload size of
the DCI format 1_0 monitored in UE-specific search space for scheduling the
same serving cell, the bitwidth of the frequency domain resource assignment
field in the DCI format 0_0 is reduced by truncating the first few most
significant bits such that the size of DCI format 0_0 monitored in a UE-
specific search space equals the size of the DCI format 1_0 monitored in a UE-
specific search space.
The UE is not expected to handle a configuration that, after applying the
above steps, results in
\- the total number of different DCI sizes configured to monitor is more than
4 for the cell; or
\- the total number of different DCI sizes with C-RNTI configured to monitor
is more than 3 for the cell; or
\- the size of DCI format 0_0 in a UE-specific search space is equal to DCI
format 0_1 in another UE-specific search space; or
\- the size of DCI format 1_0 in a UE-specific search space is equal to DCI
format 1_1 in another UE-specific search space
#### 7.3.1.1 DCI formats for scheduling of PUSCH
##### 7.3.1.1.1 Format 0_0
DCI format 0_0 is used for the scheduling of PUSCH in one cell.
The following information is transmitted by means of the DCI format 0_0 with
CRC scrambled by C-RNTI or CS-RNTI or MCS-C-RNTI:
\- Identifier for DCI formats -- 1 bit
\- The value of this bit field is always set to 0, indicating an UL DCI format
\- Frequency domain resource assignment -- bits where is defined in clause
7.3.1.0
\- For PUSCH hopping with resource allocation type 1:
\- MSB bits are used to indicate the frequency offset according to Clause 6.3
of [6, TS 38.214], where if the higher layer parameter
_frequencyHoppingOffsetLists_ contains two offset values and if the higher
layer parameter _frequencyHoppingOffsetLists_ contains four offset values
\- bits provides the frequency domain resource allocation according to Clause
6.1.2.2.2 of [6, TS 38.214]
\- For non-PUSCH hopping with resource allocation type 1:
\- bits provides the frequency domain resource allocation according to Clause
6.1.2.2.2 of [6, TS 38.214]
\- Time domain resource assignment -- 4 bits as defined in Clause 6.1.2.1 of
[6, TS 38.214]
\- Frequency hopping flag -- 1 bit according to Table 7.3.1.1.1-3, as defined
in Clause 6.3 of [6, TS 38.214]
\- Modulation and coding scheme -- 5 bits as defined in Clause 6.1.4.1 of [6,
TS 38.214]
\- New data indicator -- 1 bit
\- Redundancy version -- 2 bits as defined in Table 7.3.1.1.1-2
\- HARQ process number -- 4 bits
\- TPC command for scheduled PUSCH -- 2 bits as defined in Clause 7.1.1 of [5,
TS 38.213]
\- Padding bits, if required.
\- UL/SUL indicator -- 1 bit for UEs configured with _supplementaryUplink_ in
_ServingCellConfig_ in the cell as defined in Table 7.3.1.1.1-1 and the number
of bits for DCI format 1_0 before padding is larger than the number of bits
for DCI format 0_0 before padding; 0 bit otherwise. The UL/SUL indicator, if
present, locates in the last bit position of DCI format 0_0, after the padding
bit(s).
\- If the UL/SUL indicator is present in DCI format 0_0 and the higher layer
parameter _pusch-Config_ is not configured on both UL and SUL the UE ignores
the UL/SUL indicator field in DCI format 0_0, and the corresponding PUSCH
scheduled by the DCI format 0_0 is for the UL or SUL for which high layer
parameter _pucch-Config_ is configured;
\- If the UL/SUL indicator is not present in DCI format 0_0 and _pucch-Config_
is configured, the corresponding PUSCH scheduled by the DCI format 0_0 is for
the UL or SUL for which high layer parameter _pucch-Config_ is configured.
\- If the UL/SUL indicator is not present in DCI format 0_0 and _pucch-Config_
is not configured, the corresponding PUSCH scheduled by the DCI format 0_0 is
for the uplink on which the latest PRACH is transmitted.
The following information is transmitted by means of the DCI format 0_0 with
CRC scrambled by TC-RNTI:
\- Identifier for DCI formats -- 1 bit
\- The value of this bit field is always set to 0, indicating an UL DCI format
\- Frequency domain resource assignment --bits where
\- is the size of the initial UL bandwidth part.
\- For PUSCH hopping with resource allocation type 1:
\- MSB bits are used to indicate the frequency offset according to Table 8.3-1
in Clause 8.3 of [5, TS 38.213], where if and otherwise
\- bits provides the frequency domain resource allocation according to Clause
6.1.2.2.2 of [6, TS 38.214]
\- For non-PUSCH hopping with resource allocation type 1:
\- bits provides the frequency domain resource allocation according to Clause
6.1.2.2.2 of [6, TS 38.214]
\- Time domain resource assignment -- 4 bits as defined in Clause 6.1.2.1 of
[6, TS 38.214]
\- Frequency hopping flag -- 1 bit according to Table 7.3.1.1.1-3, as defined
in Clause 6.3 of [6, TS 38.214]
\- Modulation and coding scheme -- 5 bits as defined in Clause 6.1.4.1 of [6,
TS 38.214]
\- New data indicator -- 1 bit, reserved
\- Redundancy version -- 2 bits as defined in Table 7.3.1.1.1-2
\- HARQ process number -- 4 bits, reserved
\- TPC command for scheduled PUSCH -- 2 bits as defined in Clause 7.1.1 of [5,
TS 38.213]
\- Padding bits, if required.
\- UL/SUL indicator -- 1 bit if the cell has two ULs and the number of bits
for DCI format 1_0 before padding is larger than the number of bits for DCI
format 0_0 before padding; 0 bit otherwise. The UL/SUL indicator, if present,
locates in the last bit position of DCI format 0_0, after the padding bit(s).
\- If 1 bit, reserved, and the corresponding PUSCH is always on the same UL
carrier as the previous transmission of the same TB
Table 7.3.1.1.1-1: UL/SUL indicator
Value of UL/SUL indicator Uplink
* * *
0 The non-supplementary uplink 1 The supplementary uplink
Table 7.3.1.1.1-2: Redundancy version
Value of the Redundancy version field Value of to be applied
* * *
00 0 01 1 10 2 11 3
Table 7.3.1.1.1-3: Frequency hopping indication
**Bit field mapped to index** **PUSCH frequency hopping**
* * *
0 Disabled 1 Enabled
##### 7.3.1.1.2 Format 0_1
DCI format 0_1 is used for the scheduling of PUSCH in one cell.
The following information is transmitted by means of the DCI format 0_1 with
CRC scrambled by C-RNTI or CS-RNTI or SP-CSI-RNTI or MCS-C-RNTI:
\- Identifier for DCI formats -- 1 bit
\- The value of this bit field is always set to 0, indicating an UL DCI format
\- Carrier indicator -- 0 or 3 bits, as defined in Clause 10.1 of [5,
TS38.213].
\- UL/SUL indicator -- 0 bit for UEs not configured with _supplementaryUplink_
in _ServingCellConfig_ in the cell or UEs configured with
_supplementaryUplink_ in _ServingCellConfig_ in the cell but only one carrier
in the cell is configured for PUSCH transmission; otherwise, 1 bit as defined
in Table 7.3.1.1.1-1.
\- Bandwidth part indicator -- 0, 1 or 2 bits as determined by the number of
UL BWPs configured by higher layers, excluding the initial UL bandwidth part.
The bitwidth for this field is determined as bits, where
\- if , in which case the bandwidth part indicator is equivalent to the
ascending order of the higher layer parameter _BWP-Id_ ;
\- otherwise , in which case the bandwidth part indicator is defined in Table
7.3.1.1.2-1;
If a UE does not support active BWP change via DCI, the UE ignores this bit
field.
\- Frequency domain resource assignment -- number of bits determined by the
following, where is the size of the active UL bandwidth part:
\- bits if only resource allocation type 0 is configured, where is defined in
Clause 6.1.2.2.1 of [6, TS 38.214],
\- bits if only resource allocation type 1 is configured, or bits if both
resource allocation type 0 and 1 are configured.
\- If both resource allocation type 0 and 1 are configured, the MSB bit is
used to indicate resource allocation type 0 or resource allocation type 1,
where the bit value of 0 indicates resource allocation type 0 and the bit
value of 1 indicates resource allocation type 1.
\- For resource allocation type 0, the LSBs provide the resource allocation as
defined in Clause 6.1.2.2.1 of [6, TS 38.214].
\- For resource allocation type 1, the LSBs provide the resource allocation as
follows:
\- For PUSCH hopping with resource allocation type 1:
\- MSB bits are used to indicate the frequency offset according to Clause 6.3
of [6, TS 38.214], where if the higher layer parameter
_frequencyHoppingOffsetLists_ contains two offset values and if the higher
layer parameter _frequencyHoppingOffsetLists_ contains four offset values
\- bits provides the frequency domain resource allocation according to Clause
6.1.2.2.2 of [6, TS 38.214]
\- For non-PUSCH hopping with resource allocation type 1:
\- bits provides the frequency domain resource allocation according to Clause
6.1.2.2.2 of [6, TS 38.214]
If \"Bandwidth part indicator\" field indicates a bandwidth part other than
the active bandwidth part and if both resource allocation type 0 and 1 are
configured for the indicated bandwidth part, the UE assumes resource
allocation type 0 for the indicated bandwidth part if the bitwidth of the
\"Frequency domain resource assignment\" field of the active bandwidth part is
smaller than the bitwidth of the \"Frequency domain resource assignment\"
field of the indicated bandwidth part.
\- Time domain resource assignment -- 0, 1, 2, 3, or 4 bits as defined in
Clause 6.1.2.1 of [6, TS38.214]. The bitwidth for this field is determined as
bits, where _I_ is the number of entries in the higher layer parameter _pusch-
TimeDomainAllocationList_ if the higher layer parameter is configured;
otherwise _I_ is the number of entries in the default table _._
\- Frequency hopping flag -- 0 or 1 bit:
\- 0 bit if only resource allocation type 0 is configured or if the higher
layer parameter _frequencyHopping_ is not configured;
\- 1 bit according to Table 7.3.1.1.1-3 otherwise, only applicable to resource
allocation type 1, as defined in Clause 6.3 of [6, TS 38.214].
\- Modulation and coding scheme -- 5 bits as defined in Clause 6.1.4.1 of [6,
TS 38.214]
\- New data indicator -- 1 bit
\- Redundancy version -- 2 bits as defined in Table 7.3.1.1.1-2
\- HARQ process number -- 4 bits
\- 1^st^ downlink assignment index -- 1 or 2 bits:
\- 1 bit for semi-static HARQ-ACK codebook;
\- 2 bits for dynamic HARQ-ACK codebook.
\- 2^nd^ downlink assignment index -- 0 or 2 bits:
\- 2 bits for dynamic HARQ-ACK codebook with two HARQ-ACK sub-codebooks;
\- 0 bit otherwise.
\- TPC command for scheduled PUSCH -- 2 bits as defined in Clause 7.1.1 of [5,
TS38.213]
\- SRS resource indicator -- or bits, where is the number of configured SRS
resources in the SRS resource set associated with the higher layer parameter
_usage_ of value \'_codeBook_ \' or \'_nonCodeBook_ \',
\- bits according to Tables 7.3.1.1.2-28/29/30/31 if the higher layer
parameter _txConfig = nonCodebook_ , where is the number of configured SRS
resources in the SRS resource set associated with the higher layer parameter
_usage_ of value \'_nonCodeBook_ \' and
\- if UE supports operation with _maxMIMO-Layers_ and the higher layer
parameter _maxMIMO-Layers of PUSCH-ServingCellConfig_ of the serving cell is
configured, _L~max~_ is given by that parameter
\- otherwise, _L~max~_ is given by the maximum number of layers for PUSCH
supported by the UE for the serving cell for non-codebook based operation.
\- bits according to Tables 7.3.1.1.2-32 if the higher layer parameter
_txConfig = codebook_ , where is the number of configured SRS resources in the
SRS resource set associated with the higher layer parameter _usage_ of value
\'_codeBook_ \'.
\- Precoding information and number of layers -- number of bits determined by
the following:
\- 0 bits if the higher layer parameter _txConfig = nonCodeBook_ ;
\- 0 bits for 1 antenna port and if the higher layer parameter _txConfig =
codebook_ ;
\- 4, 5, or 6 bits according to Table 7.3.1.1.2-2 for 4 antenna ports, if
_txConfig = codebook,_ and according to whether transform precoder is enabled
or disabled, and the values of higher layer parameters _maxRank, and
codebookSubset;_
\- 2, 4, or 5 bits according to Table 7.3.1.1.2-3 for 4 antenna ports, if
_txConfig = codebook,_ and according to whether transform precoder is enabled
or disabled, and the values of higher layer parameters _maxRank, and
codebookSubset;_
_\- 2 or 4 bits according to Table7.3.1.1.2-4 for 2 antenna ports,_ if
_txConfig = codebook,_ and according to whether transform precoder is enabled
or disabled, and the values of higher layer parameters _maxRank and
codebookSubset;_
_\- 1 or 3 bits according to Table7.3.1.1.2-5 for 2 antenna ports,_ if
_txConfig = codebook,_ and according to whether transform precoder is enabled
or disabled, and the values of higher layer parameters _maxRank and
codebookSubset_.
\- Antenna ports -- number of bits determined by the following
\- 2 bits as defined by Tables 7.3.1.1.2-6, if transform precoder is enabled,
_dmrs-Type_ =1, and _maxLength_ =1;
\- 4 bits as defined by Tables 7.3.1.1.2-7, if transform precoder is enabled,
_dmrs-Type_ =1, and _maxLength_ =2;
\- 3 bits as defined by Tables 7.3.1.1.2-8/9/10/11, if transform precoder is
disabled, _dmrs-Type_ =1, and _maxLength_ =1, and the value of rank is
determined according to the SRS resource indicator field if the higher layer
parameter _txConfig = nonCodebook_ and according to the Precoding information
and number of layers field if the higher layer parameter _txConfig = codebook_
;
\- 4 bits as defined by Tables 7.3.1.1.2-12/13/14/15, if transform precoder is
disabled, _dmrs-Type_ =1, and _maxLength_ =2, and the value of rank is
determined according to the SRS resource indicator field if the higher layer
parameter _txConfig = nonCodebook_ and according to the Precoding information
and number of layers field if the higher layer parameter _txConfig = codebook_
;
\- 4 bits as defined by Tables 7.3.1.1.2-16/17/18/19, if transform precoder is
disabled, _dmrs-Type_ =2, and _maxLength_ =1, and the value of rank is
determined according to the SRS resource indicator field if the higher layer
parameter _txConfig = nonCodebook_ and according to the Precoding information
and number of layers field if the higher layer parameter _txConfig = codebook_
;
\- 5 bits as defined by Tables 7.3.1.1.2-20/21/22/23, if transform precoder is
disabled, _dmrs-Type_ =2, and _maxLength_ =2, and the value of rank is
determined according to the SRS resource indicator field if the higher layer
parameter _txConfig = nonCodebook_ and according to the Precoding information
and number of layers field if the higher layer parameter _txConfig =
codebook_.
where the number of CDM groups without data of values 1, 2, and 3 in Tables
7.3.1.1.2-6 to 7.3.1.1.2-23 refers to CDM groups {0}, {0,1}, and {0, 1,2}
respectively.
If a UE is configured with both _dmrs-UplinkForPUSCH-MappingTypeA_ and _dmrs-
UplinkForPUSCH-MappingTypeB_ , the bitwidth of this field equals , where is
the \"Antenna ports\" bitwidth derived according to _dmrs-UplinkForPUSCH-
MappingTypeA_ and is the \"Antenna ports\" bitwidth derived according to
_dmrs-UplinkForPUSCH-MappingTypeB_. A number of zeros are padded in the MSB of
this field, if the mapping type of the PUSCH corresponds to the smaller value
of and .
\- SRS request -- 2 bits as defined by Table 7.3.1.1.2-24 for UEs not
configured with _supplementaryUplink_ in _ServingCellConfig_ in the cell; 3
bits for UEs configured with _supplementaryUplink_ in _ServingCellConfig_ in
the cell where the first bit is the non-SUL/SUL indicator as defined in Table
7.3.1.1.1-1 and the second and third bits are defined by Table 7.3.1.1.2-24.
This bit field may also indicate the associated CSI-RS according to Clause
6.1.1.2 of [6, TS 38.214].
\- CSI request -- 0, 1, 2, 3, 4, 5, or 6 bits determined by higher layer
parameter _reportTriggerSize_.
\- CBG transmission information (CBGTI) -- 0 bit if higher layer parameter
_codeBlockGroupTransmission_ for PUSCH is not configured, otherwise, 2, 4, 6,
or 8 bits determined by higher layer parameter
_maxCodeBlockGroupsPerTransportBlock_ for PUSCH.
\- PTRS-DMRS association -- number of bits determined as follows
\- 0 bit if _PTRS-UplinkConfi_ g is not configured and transform precoder is
disabled, or if transform precoder is enabled, or if _maxRank=1_ ;
\- 2 bits otherwise, where Table 7.3.1.1.2-25 and 7.3.1.1.2-26 are used to
indicate the association between PTRS port(s) and DMRS port(s) when one PT-RS
port and two PT-RS ports are configured by _maxNrofPorts_ in _PTRS-
UplinkConfig_ respectively, and the DMRS ports are indicated by the Antenna
ports field.
If \"Bandwidth part indicator\" field indicates a bandwidth part other than
the active bandwidth part and the \"PTRS-DMRS association\" field is present
for the indicated bandwidth part but not present for the active bandwidth
part, the UE assumes the \"PTRS-DMRS association\" field is not present for
the indicated bandwidth part.
\- beta_offset indicator -- 0 if the higher layer parameter _betaOffsets =
semiStatic_ ; otherwise 2 bits as defined by Table 9.3-3 in [5, TS 38.213].
\- DMRS sequence initialization -- 0 bit if transform precoder is enabled; 1
bit if transform precoder is disabled.
\- UL-SCH indicator -- 1 bit. A value of \"1\" indicates UL-SCH shall be
transmitted on the PUSCH and a value of \"0\" indicates UL-SCH shall not be
transmitted on the PUSCH. Except for DCI format 0_1 with CRC scrambled by SP-
CSI-RNTI, a UE is not expected to receive a DCI format 0_1 with UL-SCH
indicator of \"0\" and CSI request of all zero(s).
A UE does not expect that the bit width of a field in DCI format 0_1 with CRC
scrambled by CS-RNTI is larger than corresponding bit width of same field in
DCI format 0_1 with CRC scrambled by C-RNTI for the same serving cell. If the
bit width of a field in the DCI format 0_1 with CRC scrambled by CS-RNTI is
not equal to that of the corresponding field in the DCI format 0_1 with CRC
scrambled by C-RNTI for the same serving cell, a number of most significant
bits with value set to \'0\' are inserted to the field in DCI format 0_1 with
CRC scrambled by CS-RNTI until the bit width equals that of the corresponding
field in the DCI format 0_1 with CRC scrambled by C-RNTI for the same serving
cell.
Table 7.3.1.1.2-1: Bandwidth part indicator
Value of BWP indicator field Bandwidth part
* * *
2 bits  
00 Configured BWP with BWP-Id = 1 01 Configured BWP with BWP-Id = 2 10
Configured BWP with BWP-Id = 3 11 Configured BWP with BWP-Id = 4
Table 7.3.1.1.2-2: Precoding information and number of layers, for 4 antenna
ports, if transform precoder is disabled and _maxRank = 2 or 3 or 4_
Bit field mapped to index _codebookSubset_ = _fullyAndPartialAndNonCoherent_
Bit field mapped to index _codebookSubset_ = _partialAndNonCoherent_ Bit field
mapped to index _codebookSubset_ = _nonCoherent_
* * *
0 1 layer: TPMI=0 0 1 layer: TPMI=0 0 1 layer: TPMI=0 1 1 layer: TPMI=1 1 1
layer: TPMI=1 1 1 layer: TPMI=1 ... ... ... ... ... ... 3 1 layer: TPMI=3 3 1
layer: TPMI=3 3 1 layer: TPMI=3 4 2 layers: TPMI=0 4 2 layers: TPMI=0 4 2
layers: TPMI=0 ... ... ... ... ... ... 9 2 layers: TPMI=5 9 2 layers: TPMI=5 9
2 layers: TPMI=5 10 3 layers: TPMI=0 10 3 layers: TPMI=0 10 3 layers: TPMI=0
11 4 layers: TPMI=0 11 4 layers: TPMI=0 11 4 layers: TPMI=0 12 1 layer: TPMI=4
12 1 layer: TPMI=4 12-15 reserved ... ... ... ...  
19 1 layer: TPMI=11 19 1 layer: TPMI=11  
20 2 layers: TPMI=6 20 2 layers: TPMI=6  
... ... ... ...  
27 2 layers: TPMI=13 27 2 layers: TPMI=13  
28 3 layers: TPMI=1 28 3 layers: TPMI=1  
29 3 layers: TPMI=2 29 3 layers: TPMI=2  
30 4 layers: TPMI=1 30 4 layers: TPMI=1  
31 4 layers: TPMI=2 31 4 layers: TPMI=2  
32 1 layers: TPMI=12  
... ...  
47 1 layers: TPMI=27  
48 2 layers: TPMI=14  
... ...  
55 2 layers: TPMI=21  
56 3 layers: TPMI=3  
... ...  
59 3 layers: TPMI=6  
60 4 layers: TPMI=3  
61 4 layers: TPMI=4  
62-63 reserved
Table 7.3.1.1.2-3: Precoding information and number of layers for 4 antenna
ports, if transform precoder is enabled, or if transform precoder is disabled
and _maxRank = 1_
Bit field mapped to index _codebookSubset_ = _fullyAndPartialAndNonCoherent_
Bit field mapped to index _codebookSubset_ = _partialAndNonCoherent_ Bit field
mapped to index _codebookSubset_ = _nonCoherent_
* * *
0 1 layer: TPMI=0 0 1 layer: TPMI=0 0 1 layer: TPMI=0 1 1 layer: TPMI=1 1 1
layer: TPMI=1 1 1 layer: TPMI=1 ... ... ... ... ... ... 3 1 layer: TPMI=3 3 1
layer: TPMI=3 3 1 layer: TPMI=3 4 1 layer: TPMI=4 4 1 layer: TPMI=4  
... ... ... ...  
11 1 layer: TPMI=11 11 1 layer: TPMI=11  
12 1 layers: TPMI=12 12-15 reserved  
... ...  
27 1 layers: TPMI=27  
28-31 reserved
Table 7.3.1.1.2-4: Precoding information and number of layers, for 2 antenna
ports, if transform precoder is disabled _and maxRank = 2_
Bit field mapped to index _codebookSubset_ = _fullyAndPartialAndNonCoherent_
Bit field mapped to index _codebookSubset_ = _nonCoherent_
* * *
0 1 layer: TPMI=0 0 1 layer: TPMI=0 1 1 layer: TPMI=1 1 1 layer: TPMI=1 2 2
layers: TPMI=0 2 2 layers: TPMI=0 3 1 layer: TPMI=2 3 reserved 4 1 layer:
TPMI=3  
5 1 layer: TPMI=4  
6 1 layer: TPMI=5  
7 2 layers: TPMI=1  
8 2 layers: TPMI=2  
9-15 reserved
Table 7.3.1.1.2-5: Precoding information and number of layers, for 2 antenna
ports, if transform precoder is enabled, or if transform precoder is disabled
and _maxRank = 1_
Bit field mapped to index _codebookSubset_ = _fullyAndPartialAndNonCoherent_
Bit field mapped to index _codebookSubset_ = _nonCoherent_
* * *
0 1 layer: TPMI=0 0 1 layer: TPMI=0 1 1 layer: TPMI=1 1 1 layer: TPMI=1 2 1
layer: TPMI=2  
3 1 layer: TPMI=3  
4 1 layer: TPMI=4  
5 1 layer: TPMI=5  
6-7 reserved
Table 7.3.1.1.2-6: Antenna port(s), transform precoder is enabled, _dmrs-Type_
=1, _maxLength_ =1
**Value** **Number of DMRS CDM group(s) without data** **DMRS port(s)**
* * *
0 2 0 1 2 1 2 2 2 3 2 3
Table 7.3.1.1.2-7: Antenna port(s), transform precoder is enabled, _dmrs-Type_
=1, _maxLength_ =2
**Value** **Number of DMRS CDM group(s) without data** **DMRS port(s)**
**Number of front-load symbols**
* * *
0 2 0 1 1 2 1 1 2 2 2 1 3 2 3 1 4 2 0 2 5 2 1 2 6 2 2 2 7 2 3 2 8 2 4 2 9 2 5
2 10 2 6 2 11 2 7 2 12-15 Reserved Reserved Reserved
Table 7.3.1.1.2-8: Antenna port(s), transform precoder is disabled, _dmrs-
Type_ =1, _maxLength_ =1, rank = 1
**Value** **Number of DMRS CDM group(s) without data** **DMRS port(s)**
* * *
0 1 0 1 1 1 2 2 0 3 2 1 4 2 2 5 2 3 6-7 Reserved Reserved
Table 7.3.1.1.2-9: Antenna port(s), transform precoder is disabled, _dmrs-
Type_ =1, _maxLength_ =1, rank = 2
**Value** **Number of DMRS CDM group(s) without data** **DMRS port(s)**
* * *
0 1 0,1 1 2 0,1 2 2 2,3 3 2 0,2 4-7 Reserved Reserved
Table 7.3.1.1.2-10: Antenna port(s), transform precoder is disabled, _dmrs-
Type_ =1, _maxLength_ =1, rank = 3
**Value** **Number of DMRS CDM group(s) without data** **DMRS port(s)**
* * *
0 2 0-2 1-7 Reserved Reserved
Table 7.3.1.1.2-11: Antenna port(s), transform precoder is disabled, _dmrs-
Type_ =1, _maxLength_ =1, rank = 4
**Value** **Number of DMRS CDM group(s) without data** **DMRS port(s)**
* * *
0 2 0-3 1-7 Reserved Reserved
Table 7.3.1.1.2-12: Antenna port(s), transform precoder is disabled, _dmrs-
Type_ =1, _maxLength_ =2, rank = 1
**Value** **Number of DMRS CDM group(s) without data** **DMRS port(s)**
**Number of front-load symbols**
* * *
0 1 0 1 1 1 1 1 2 2 0 1 3 2 1 1 4 2 2 1 5 2 3 1 6 2 0 2 7 2 1 2 8 2 2 2 9 2 3
2 10 2 4 2 11 2 5 2 12 2 6 2 13 2 7 2 14-15 Reserved Reserved Reserved
Table 7.3.1.1.2-13: Antenna port(s), transform precoder is disabled, _dmrs-
Type_ =1, _maxLength_ =2, rank = 2
**Value** **Number of DMRS CDM group(s) without data** **DMRS port(s)**
**Number of front-load symbols**
* * *
0 1 0,1 1 1 2 0,1 1 2 2 2,3 1 3 2 0,2 1 4 2 0,1 2 5 2 2,3 2 6 2 4,5 2 7 2 6,7
2 8 2 0,4 2 9 2 2,6 2 10-15 Reserved Reserved Reserved
Table 7.3.1.1.2-14: Antenna port(s), transform precoder is disabled, _dmrs-
Type_ =1, _maxLength_ =2, rank = 3
**Value** **Number of DMRS CDM group(s) without data** **DMRS port(s)**
**Number of front-load symbols**
* * *
0 2 0-2 1 1 2 0,1,4 2 2 2 2,3,6 2 3-15 Reserved Reserved Reserved
Table 7.3.1.1.2-15: Antenna port(s), transform precoder is disabled, _dmrs-
Type_ =1, _maxLength_ =2, rank = 4
**Value** **Number of DMRS CDM group(s) without data** **DMRS port(s)**
**Number of front-load symbols**
* * *
0 2 0-3 1 1 2 0,1,4,5 2 2 2 2,3,6,7 2 3 2 0,2,4,6 2 4-15 Reserved Reserved
Reserved
Table 7.3.1.1.2-16: Antenna port(s), transform precoder is disabled, _dmrs-
Type_ =2, _maxLength_ =1, rank=1
**Value** **Number of DMRS CDM group(s) without data** **DMRS port(s)**
* * *
0 1 0 1 1 1 2 2 0 3 2 1 4 2 2 5 2 3 6 3 0 7 3 1 8 3 2 9 3 3 10 3 4 11 3 5
12-15 Reserved Reserved
Table 7.3.1.1.2-17: Antenna port(s), transform precoder is disabled, _dmrs-
Type_ =2, _maxLength_ =1, rank=2
**Value** **Number of DMRS CDM group(s) without data** **DMRS port(s)**
* * *
0 1 0,1 1 2 0,1 2 2 2,3 3 3 0,1 4 3 2,3 5 3 4,5 6 2 0,2 7-15 Reserved Reserved
Table 7.3.1.1.2-18: Antenna port(s), transform precoder is disabled, _dmrs-
Type_ =2, _maxLength_ =1, rank =3
**Value** **Number of DMRS CDM group(s) without data** **DMRS port(s)**
* * *
0 2 0-2 1 3 0-2 2 3 3-5 3-15 Reserved Reserved
Table 7.3.1.1.2-19: Antenna port(s), transform precoder is disabled, _dmrs-
Type_ =2, _maxLength_ =1, rank =4
**Value** **Number of DMRS CDM group(s) without data** **DMRS port(s)**
* * *
0 2 0-3 1 3 0-3 2-15 Reserved Reserved
Table 7.3.1.1.2-20: Antenna port(s), transform precoder is disabled, _dmrs-
Type_ =2, _maxLength_ =2, rank=1
**Value** **Number of DMRS CDM group(s) without data** **DMRS port(s)**
**Number of front-load symbols**
* * *
0 1 0 1 1 1 1 1 2 2 0 1 3 2 1 1 4 2 2 1 5 2 3 1 6 3 0 1 7 3 1 1 8 3 2 1 9 3 3
1 10 3 4 1 11 3 5 1 12 3 0 2 13 3 1 2 14 3 2 2 15 3 3 2 16 3 4 2 17 3 5 2 18 3
6 2 19 3 7 2 20 3 8 2 21 3 9 2 22 3 10 2 23 3 11 2 24 1 0 2 25 1 1 2 26 1 6 2
27 1 7 2 28-31 Reserved Reserved Reserved
Table 7.3.1.1.2-21: Antenna port(s), transform precoder is disabled, _dmrs-
Type_ =2, _maxLength_ =2, rank=2
**Value** **Number of DMRS CDM group(s) without data** **DMRS port(s)**
**Number of front-load symbols**
* * *
0 1 0,1 1 1 2 0,1 1 2 2 2,3 1 3 3 0,1 1 4 3 2,3 1 5 3 4,5 1 6 2 0,2 1 7 3 0,1
2 8 3 2,3 2 9 3 4,5 2 10 3 6,7 2 11 3 8,9 2 12 3 10,11 2 13 1 0,1 2 14 1 6,7 2
15 2 0,1 2 16 2 2,3 2 17 2 6,7 2 18 2 8,9 2 19-31 Reserved Reserved Reserved
Table 7.3.1.1.2-22: Antenna port(s), transform precoder is disabled, _dmrs-
Type_ =2, _maxLength_ =2, rank=3
**Value** **Number of DMRS CDM group(s) without data** **DMRS port(s)**
**Number of front-load symbols**
* * *
0 2 0-2 1 1 3 0-2 1 2 3 3-5 1 3 3 0,1,6 2 4 3 2,3,8 2 5 3 4,5,10 2 6-31
Reserved Reserved Reserved
Table 7.3.1.1.2-23: Antenna port(s), transform precoder is disabled, _dmrs-
Type_ =2, _maxLength_ =2, rank=4
**Value** **Number of DMRS CDM group(s) without data** **DMRS port(s)**
**Number of front-load symbols**
* * *
0 2 0-3 1 1 3 0-3 1 2 3 0,1,6,7 2 3 3 2,3,8,9 2 4 3 4,5,10,11 2 5-31 Reserved
Reserved Reserved
Table 7.3.1.1.2-24: SRS request
Value of SRS request field Triggered aperiodic SRS resource set(s) for DCI
format 0_1, 1_1, and 2_3 configured with higher layer parameter _srs-TPC-
PDCCH-Group_ set to \'typeB\' Triggered aperiodic SRS resource set(s) for DCI
format 2_3 configured with higher layer parameter _srs-TPC-PDCCH-Group_ set to
\'typeA\'
* * *
00 No aperiodic SRS resource set triggered No aperiodic SRS resource set
triggered 01 SRS resource set(s) configured with higher layer parameter
_aperiodicSRS-ResourceTrigger_ set to 1 or an entry in _aperiodicSRS-
ResourceTriggerList_ set to 1 SRS resource set(s) configured with higher layer
parameter _usage_ in _SRS-ResourceSet_ set to \'_antennaSwitching_ \' and
_resourceType_ in _SRS-ResourceSet_ set to \'aperiodic\' for a 1^st^ set of
serving cells configured by higher layers 10 SRS resource set(s) configured
with higher layer parameter _aperiodicSRS-ResourceTrigger_ set to 2 or an
entry in _aperiodicSRS-ResourceTriggerList_ set to 2 SRS resource set(s)
configured with higher layer parameter _usage_ in _SRS-ResourceSet_ set to
\'_antennaSwitching_ \' and _resourceType_ in _SRS-ResourceSet_ set to
\'aperiodic\' for a 2^nd^ set of serving cells configured by higher layers 11
SRS resource set(s) configured with higher layer parameter _aperiodicSRS-
ResourceTrigger_ set to 3 or an entry in _aperiodicSRS-ResourceTriggerList_
set to 3 SRS resource set(s) configured with higher layer parameter _usage_ in
_SRS-ResourceSet_ set to \'_antennaSwitching_ \' and _resourceType_ in _SRS-
ResourceSet_ set to \'aperiodic\' for a 3^rd^ set of serving cells configured
by higher layers
Table 7.3.1.1.2-25: PTRS-DMRS association for UL PTRS port 0
**Value** **DMRS port**
* * *
0 1^st^ scheduled DMRS port 1 2^nd^ scheduled DMRS port 2 3^rd^ scheduled DMRS
port 3 4^th^ scheduled DMRS port
Table 7.3.1.1.2-26: PTRS-DMRS association for UL PTRS ports 0 and 1
**Value of MSB** **DMRS port** **Value of LSB** **DMRS port**
* * *
0 1^st^ DMRS port which shares PTRS port 0 0 1^st^ DMRS port which shares PTRS
port 1 1 2^nd^ DMRS port which shares PTRS port 0 1 2^nd^ DMRS port which
shares PTRS port 1
Table 7.3.1.1.2-27: void
Table 7.3.1.1.2-28: SRI indication for non-codebook based PUSCH transmission,
Bit field mapped to index SRI(s), Bit field mapped to index SRI(s), Bit field
mapped to index SRI(s),
* * *
0 0 0 0 0 0 1 1 1 1 1 1 2 2 2 2 3 reserved 3 3
Table 7.3.1.1.2-29: SRI indication for non-codebook based PUSCH transmission,
Bit field mapped to index SRI(s), Bit field mapped to index SRI(s), Bit field
mapped to index SRI(s),
* * *
0 0 0 0 0 0 1 1 1 1 1 1 2 0,1 2 2 2 2 3 reserved 3 0,1 3 3 4 0,2 4 0,1 5 1,2 5
0,2 6-7 reserved 6 0,3 7 1,2 8 1,3 9 2,3 10-15 reserved
Table 7.3.1.1.2-30: SRI indication for non-codebook based PUSCH transmission,
Bit field mapped to index SRI(s), Bit field mapped to index SRI(s), Bit field
mapped to index SRI(s),
* * *
0 0 0 0 0 0 1 1 1 1 1 1 2 0,1 2 2 2 2 3 reserved 3 0,1 3 3 4 0,2 4 0,1 5 1,2 5
0,2 6 0,1,2 6 0,3 7 reserved 7 1,2 8 1,3 9 2,3 10 0,1,2 11 0,1,3 12 0,2,3 13
1,2,3 14-15 reserved
Table 7.3.1.1.2-31: SRI indication for non-codebook based PUSCH transmission,
Bit field mapped to index SRI(s), Bit field mapped to index SRI(s), Bit field
mapped to index SRI(s),
* * *
0 0 0 0 0 0 1 1 1 1 1 1 2 0,1 2 2 2 2 3 reserved 3 0,1 3 3 4 0,2 4 0,1 5 1,2 5
0,2 6 0,1,2 6 0,3 7 reserved 7 1,2 8 1,3 9 2,3 10 0,1,2 11 0,1,3 12 0,2,3 13
1,2,3 14 0,1,2,3 15 reserved
Table 7.3.1.1.2-32: SRI indication for codebook based PUSCH transmission
Bit field mapped to index SRI(s),
* * *
0 0 1 1
Table 7.3.1.1.2-33: Void
#### 7.3.1.2 DCI formats for scheduling of PDSCH
##### 7.3.1.2.1 Format 1_0
DCI format 1_0 is used for the scheduling of PDSCH in one DL cell.
The following information is transmitted by means of the DCI format 1_0 with
CRC scrambled by C-RNTI or CS-RNTI or MCS-C-RNTI:
\- Identifier for DCI formats -- 1 bits
\- The value of this bit field is always set to 1, indicating a DL DCI format
\- Frequency domain resource assignment -- bits where is given by clause
7.3.1.0
> If the CRC of the DCI format 1_0 is scrambled by C-RNTI and the \"Frequency
> domain resource assignment\" field are of all ones, the DCI format 1_0 is
> for random access procedure initiated by a PDCCH order, with all remaining
> fields set as follows:
\- Random Access Preamble index -- 6 bits according to _ra-PreambleIndex_ in
Clause 5.1.2 of [8, TS38.321]
\- UL/SUL indicator -- 1 bit. If the value of the \"Random Access Preamble
index\" is not all zeros and if the UE is configured with
_supplementaryUplink_ in _ServingCellConfig_ in the cell, this field indicates
which UL carrier in the cell to transmit the PRACH according to Table
7.3.1.1.1-1; otherwise, this field is reserved
\- SS/PBCH index -- 6 bits. If the value of the \"Random Access Preamble
index\" is not all zeros, this field indicates the SS/PBCH that shall be used
to determine the RACH occasion for the PRACH transmission; otherwise, this
field is reserved.
\- PRACH Mask index -- 4 bits. If the value of the \"Random Access Preamble
index\" is not all zeros, this field indicates the RACH occasion associated
with the SS/PBCH indicated by \"SS/PBCH index\" for the PRACH transmission,
according to Clause 5.1.1 of [8, TS38.321]; otherwise, this field is reserved
\- Reserved bits -- 10 bits
Otherwise, all remaining fields are set as follows:
\- Time domain resource assignment -- 4 bits as defined in Clause 5.1.2.1 of
[6, TS 38.214]
\- VRB-to-PRB mapping -- 1 bit according to Table 7.3.1.2.2-5
\- Modulation and coding scheme -- 5 bits as defined in Clause 5.1.3 of [6, TS
38.214]
\- New data indicator -- 1 bit
\- Redundancy version -- 2 bits as defined in Table 7.3.1.1.1-2
\- HARQ process number -- 4 bits
\- Downlink assignment index -- 2 bits as defined in Clause 9.1.3 of [5, TS
38.213], as counter DAI
\- TPC command for scheduled PUCCH -- 2 bits as defined in Clause 7.2.1 of [5,
TS 38.213]
\- PUCCH resource indicator -- 3 bits as defined in Clause 9.2.3 of [5, TS
38.213]
\- PDSCH-to-HARQ_feedback timing indicator -- 3 bits as defined in Clause
9.2.3 of [5, TS38.213]
The following information is transmitted by means of the DCI format 1_0 with
CRC scrambled by P-RNTI:
\- Short Messages Indicator -- 2 bits according to Table 7.3.1.2.1-1.
\- Short Messages -- 8 bits, according to Clause 6.5 of [9, TS38.331]. If only
the scheduling information for Paging is carried, this bit field is reserved.
\- Frequency domain resource assignment -- bits. If only the short message is
carried, this bit field is reserved.
\- is the size of CORESET 0
\- Time domain resource assignment -- 4 bits as defined in Clause 5.1.2.1 of
[6, TS38.214]. If only the short message is carried, this bit field is
reserved.
\- VRB-to-PRB mapping -- 1 bit according to Table 7.3.1.2.2-5. If only the
short message is carried, this bit field is reserved.
\- Modulation and coding scheme -- 5 bits as defined in Clause 5.1.3 of [6,
TS38.214], using Table 5.1.3.1-1. If only the short message is carried, this
bit field is reserved.
\- TB scaling -- 2 bits as defined in Clause 5.1.3.2 of [6, TS38.214]. If only
the short message is carried, this bit field is reserved.
\- Reserved bits -- 6 bits
The following information is transmitted by means of the DCI format 1_0 with
CRC scrambled by SI-RNTI:
\- Frequency domain resource assignment -- bits
\- is the size of CORESET 0
\- Time domain resource assignment -- 4 bits as defined in Clause 5.1.2.1 of
[6, TS38.214]
\- VRB-to-PRB mapping -- 1 bit according to Table 7.3.1.2.2-5
\- Modulation and coding scheme -- 5 bits as defined in Clause 5.1.3 of [6,
TS38.214], using Table 5.1.3.1-1
\- Redundancy version -- 2 bits as defined in Table 7.3.1.1.1-2
\- System information indicator -- 1 bit as defined in Table 7.3.1.2.1-2
\- Reserved bits -- 15 bits
The following information is transmitted by means of the DCI format 1_0 with
CRC scrambled by RA-RNTI:
\- Frequency domain resource assignment -- bits
\- is the size of CORESET 0 if CORESET 0 is configured for the cell and is the
size of initial DL bandwidth part if CORESET 0 is not configured for the cell
\- Time domain resource assignment -- 4 bits as defined in Clause 5.1.2.1 of
[6, TS38.214]
\- VRB-to-PRB mapping -- 1 bit according to Table 7.3.1.2.2-5
\- Modulation and coding scheme -- 5 bits as defined in Clause 5.1.3 of [6,
TS38.214], using Table 5.1.3.1-1
\- TB scaling -- 2 bits as defined in Clause 5.1.3.2 of [6, TS38.214]
\- Reserved bits -- 16 bits
The following information is transmitted by means of the DCI format 1_0 with
CRC scrambled by TC-RNTI:
\- Identifier for DCI formats -- 1 bit
\- The value of this bit field is always set to 1, indicating a DL DCI format
\- Frequency domain resource assignment -- bits
\- is the size of CORESET 0
\- Time domain resource assignment -- 4 bits as defined in Clause 5.1.2.1 of
[6, TS38.214]
\- VRB-to-PRB mapping -- 1 bit according to Table 7.3.1.2.2-5
\- Modulation and coding scheme -- 5 bits as defined in Clause 5.1.3 of [6,
TS38.214], using Table 5.1.3.1-1
\- New data indicator -- 1 bit
\- Redundancy version -- 2 bits as defined in Table 7.3.1.1.1-2
\- HARQ process number -- 4 bits
\- Downlink assignment index -- 2 bits, reserved
\- TPC command for scheduled PUCCH -- 2 bits as defined in Clause 7.2.1 of [5,
TS38.213]
\- PUCCH resource indicator -- 3 bits as defined in Clause 9.2.3 of [5,
TS38.213]
\- PDSCH-to-HARQ_feedback timing indicator -- 3 bits as defined in Clause
9.2.3 of [5, TS38.213]
Table 7.3.1.2.1-1: Short Message indicator
Bit field Short Message indicator
* * *
00 Reserved 01 Only scheduling information for Paging is present in the DCI 10
Only short message is present in the DCI 11 Both scheduling information for
Paging and short message are present in the DCI
Table 7.3.1.2.1-2: System information indicator
Bit field System information indicator
* * *
0 SIB1 [9, TS38.331, Clause 5.2.1] 1 SI message [9, TS38.331, Clause 5.2.1]
##### 7.3.1.2.2 Format 1_1
DCI format 1_1 is used for the scheduling of PDSCH in one cell.
The following information is transmitted by means of the DCI format 1_1 with
CRC scrambled by C-RNTI or CS-RNTI or MCS-C-RNTI:
\- Identifier for DCI formats -- 1 bits
\- The value of this bit field is always set to 1, indicating a DL DCI format
\- Carrier indicator -- 0 or 3 bits as defined in Clause 10.1 of [5, TS
38.213].
\- Bandwidth part indicator -- 0, 1 or 2 bits as determined by the number of
DL BWPs configured by higher layers, excluding the initial DL bandwidth part.
The bitwidth for this field is determined as bits, where
\- if , in which case the bandwidth part indicator is equivalent to the
ascending order of the higher layer parameter _BWP-Id_ ;
\- otherwise , in which case the bandwidth part indicator is defined in Table
7.3.1.1.2-1;
If a UE does not support active BWP change via DCI, the UE ignores this bit
field.
\- Frequency domain resource assignment -- number of bits determined by the
following, where is the size of the active DL bandwidth part:
\- bits if only resource allocation type 0 is configured, where is defined in
Clause 5.1.2.2.1 of [6, TS38.214],
\- bits if only resource allocation type 1 is configured, or
\- bits if both resource allocation type 0 and 1 are configured.
\- If both resource allocation type 0 and 1 are configured, the MSB bit is
used to indicate resource allocation type 0 or resource allocation type 1,
where the bit value of 0 indicates resource allocation type 0 and the bit
value of 1 indicates resource allocation type 1.
\- For resource allocation type 0, the LSBs provide the resource allocation as
defined in Clause 5.1.2.2.1 of [6, TS 38.214].
\- For resource allocation type 1, the LSBs provide the resource allocation as
defined in Clause 5.1.2.2.2 of [6, TS 38.214]
> If \"Bandwidth part indicator\" field indicates a bandwidth part other than
> the active bandwidth part and if both resource allocation type 0 and 1 are
> configured for the indicated bandwidth part, the UE assumes resource
> allocation type 0 for the indicated bandwidth part if the bitwidth of the
> \"Frequency domain resource assignment\" field of the active bandwidth part
> is smaller than the bitwidth of the \"Frequency domain resource assignment\"
> field of the indicated bandwidth part.
\- Time domain resource assignment -- 0, 1, 2, 3, or 4 bits as defined in
Clause 5.1.2.1 of [6, TS 38.214]. The bitwidth for this field is determined as
bits, where _I_ is the number of entries in the higher layer parameter _pdsch-
TimeDomainAllocationList_ if the higher layer parameter is configured;
otherwise _I_ is the number of entries in the default table.
\- VRB-to-PRB mapping -- 0 or 1 bit:
\- 0 bit if only resource allocation type 0 is configured or if interleaved
VRB-to-PRB mapping is not configured by high layers;
\- 1 bit according to Table 7.3.1.2.2-5 otherwise, only applicable to resource
allocation type 1, as defined in Clause 7.3.1.6 of [4, TS 38.211].
\- PRB bundling size indicator -- 0 bit if the higher layer parameter _prb-
BundlingType_ is not configured or is set to \'staticBundling\', or 1 bit if
the higher layer parameter _prb-BundlingType_ is set to \'dynamicBundling\'
according to Clause 5.1.2.3 of [6, TS 38.214].
\- Rate matching indicator -- 0, 1, or 2 bits according to higher layer
parameters _rateMatchPatternGroup1_ and _rateMatchPatternGroup2_ , where the
MSB is used to indicate _rateMatchPatternGroup1_ and the LSB is used to
indicate _rateMatchPatternGroup2_ when there are two groups.
\- ZP CSI-RS trigger -- 0, 1, or 2 bits as defined in Clause 5.1.4.2 of [6, TS
38.214]. The bitwidth for this field is determined as bits, where is the
number of aperiodic ZP CSI-RS resource sets configured by higher layer.
For transport block 1:
\- Modulation and coding scheme -- 5 bits as defined in Clause 5.1.3.1 of [6,
TS 38.214]
\- New data indicator -- 1 bit
\- Redundancy version -- 2 bits as defined in Table 7.3.1.1.1-2
For transport block 2 (only present if _maxNrofCodeWordsScheduledByDCI_ equals
2):
\- Modulation and coding scheme -- 5 bits as defined in Clause 5.1.3.1 of [6,
TS 38.214]
\- New data indicator -- 1 bit
\- Redundancy version -- 2 bits as defined in Table 7.3.1.1.1-2
> If \"Bandwidth part indicator\" field indicates a bandwidth part other than
> the active bandwidth part and the value of _maxNrofCodeWordsScheduledByDCI_
> for the indicated bandwidth part equals 2 and the value of
> _maxNrofCodeWordsScheduledByDCI_ for the active bandwidth part equals 1, the
> UE assumes zeros are padded when interpreting the \"Modulation and coding
> scheme\", \"New data indicator\", and \"Redundancy version\" fields of
> transport block 2 according to Clause 12 of [5, TS38.213], and the UE
> ignores the \"Modulation and coding scheme\", \"New data indicator\", and
> \"Redundancy version\" fields of transport block 2 for the indicated
> bandwidth part.
\- HARQ process number -- 4 bits
\- Downlink assignment index -- number of bits as defined in the following
> \- 4 bits if more than one serving cell are configured in the DL and the
> higher layer parameter _pdsch-HARQ-ACK-Codebook=dynamic_ , where the 2 MSB
> bits are the counter DAI and the 2 LSB bits are the total DAI;
\- 2 bits if only one serving cell is configured in the DL and the higher
layer parameter _pdsch-HARQ-ACK-Codebook=dynamic_ , where the 2 bits are the
counter DAI;
\- 0 bits otherwise.
If the UE is configured with a PUCCH-SCell, the number of serving cells is
determined within a PUCCH group.
\- TPC command for scheduled PUCCH -- 2 bits as defined in Clause 7.2.1 of [5,
TS 38.213]
\- PUCCH resource indicator -- 3 bits as defined in Clause 9.2.3 of [5, TS
38.213]
\- PDSCH-to-HARQ_feedback timing indicator -- 0, 1, 2, or 3 bits as defined in
Clause 9.2.3 of [5, TS 38.213]. The bitwidth for this field is determined as
bits, where _I_ is the number of entries in the higher layer parameter _dl-
DataToUL-ACK._
\- Antenna port(s) -- 4, 5, or 6 bits as defined by Tables 7.3.1.2.2-1/2/3/4,
where the number of CDM groups without data of values 1, 2, and 3 refers to
CDM groups {0}, {0,1}, and {0, 1,2} respectively. The antenna ports shall be
determined according to the ordering of DMRS port(s) given by Tables
7.3.1.2.2-1/2/3/4.
> If a UE is configured with both _dmrs-DownlinkForPDSCH-MappingTypeA_ and
> _dmrs-DownlinkForPDSCH-MappingTypeB_ , the bitwidth of this field equals ,
> where is the \"Antenna ports\" bitwidth derived according to _dmrs-
> DownlinkForPDSCH-MappingTypeA_ and is the \"Antenna ports\" bitwidth derived
> according to _dmrs-DownlinkForPDSCH-MappingTypeB_. A number of zeros are
> padded in the MSB of this field, if the mapping type of the PDSCH
> corresponds to the smaller value of and .
\- Transmission configuration indication -- 0 bit if higher layer parameter
_tci-PresentInDCI_ is not enabled; otherwise 3 bits as defined in Clause 5.1.5
of [6, TS38.214].
If \"Bandwidth part indicator\" field indicates a bandwidth part other than
the active bandwidth part,
\- if the higher layer parameter _tci-PresentInDCI_ is not enabled for the
CORESET used for the PDCCH carrying the DCI format 1_1,
\- the UE assumes _tci-PresentInDCI_ is not enabled for all CORESETs in the
indicated bandwidth part;
\- otherwise,
\- the UE assumes _tci-PresentInDCI_ is enabled for all CORESETs in the
indicated bandwidth part.
\- SRS request -- 2 bits as defined by Table 7.3.1.1.2-24 for UEs not
configured with _supplementaryUplink_ in _ServingCellConfig_ in the cell; 3
bits for UEs configured with _supplementaryUplink_ in _ServingCellConfig_ in
the cell where the first bit is the non-SUL/SUL indicator as defined in Table
7.3.1.1.1-1 and the second and third bits are defined by Table 7.3.1.1.2-24.
This bit field may also indicate the associated CSI-RS according to Clause
6.1.1.2 of [6, TS 38.214].
\- CBG transmission information (CBGTI) -- 0 bit if higher layer parameter
_codeBlockGroupTransmission_ for PDSCH is not configured, otherwise, 2, 4, 6,
or 8 bits as defined in Clause 5.1.7 of [6, TS38.214], determined by the
higher layer parameters _maxCodeBlockGroupsPerTransportBlock_ and
_maxNrofCodeWordsScheduledByDCI_ for the PDSCH.
\- CBG flushing out information (CBGFI) -- 1 bit if higher layer parameter
_codeBlockGroupFlushIndicator_ is configured as \"TRUE\", 0 bit otherwise.
\- DMRS sequence initialization -- 1 bit.
If DCI formats 1_1 are monitored in multiple search spaces associated with
multiple CORESETs in a BWP for scheduling the same serving cell, zeros shall
be appended until the payload size of the DCI formats 1_1 monitored in the
multiple search spaces equal to the maximum payload size of the DCI format 1_1
monitored in the multiple search spaces.
Table 7.3.1.2.2-1: Antenna port(s) (1000 + DMRS port), _dmrs-Type_ =1,
_maxLength_ =1
+------------------------+------------------------+------------------+ | **One Codeword:** | | | | | | | | **Codeword 0 | | | | enabled,** | | | | | | | | **Codeword 1 | | | | disabled** | | | +========================+========================+==================+ | **Value** | **Number of DMRS CDM |** DMRS port(s)**| | | group(s) without | | | | data** | | +------------------------+------------------------+------------------+ | 0 | 1 | 0 | +------------------------+------------------------+------------------+ | 1 | 1 | 1 | +------------------------+------------------------+------------------+ | 2 | 1 | 0,1 | +------------------------+------------------------+------------------+ | 3 | 2 | 0 | +------------------------+------------------------+------------------+ | 4 | 2 | 1 | +------------------------+------------------------+------------------+ | 5 | 2 | 2 | +------------------------+------------------------+------------------+ | 6 | 2 | 3 | +------------------------+------------------------+------------------+ | 7 | 2 | 0,1 | +------------------------+------------------------+------------------+ | 8 | 2 | 2,3 | +------------------------+------------------------+------------------+ | 9 | 2 | 0-2 | +------------------------+------------------------+------------------+ | 10 | 2 | 0-3 | +------------------------+------------------------+------------------+ | 11 | 2 | 0,2 | +------------------------+------------------------+------------------+ | 12-15 | Reserved | Reserved | +------------------------+------------------------+------------------+
Table 7.3.1.2.2-2: Antenna port(s) (1000 + DMRS port), _dmrs-Type_ =1,
_maxLength_ =2
+-------+-------+-------+-------+-------+-------+-------+-------+ | **One |** Two | | | | | | | | C | Co | | | | | | | | odewo | dewor | | | | | | | | rd:**| ds:** | | | | | | | | | | | | | | | | | **Cod |** Cod | | | | | | | | eword | eword | | | | | | | | 0 | 0 | | | | | | | | enabl | enabl | | | | | | | | ed,**| ed,** | | | | | | | | | | | | | | | | | **Cod |** Cod | | | | | | | | eword | eword | | | | | | | | 1 | 1 | | | | | | | | disab | enab | | | | | | | | led**| led** | | | | | | | +=======+=======+=======+=======+=======+=======+=======+=======+ | **Va |** N | * | **N |** Va | **N | * |** N | | lue**| umber | *DMRS | umber | lue** | umber | _DMRS | umber | | | of | port | of | | of | port | of | | | DMRS | (s)__| front | | DMRS | (s)__| front | | | CDM | | -load | | CDM | | -load | | | gro | | symb | | gro | | symb | | | up(s) | | ols_ _| | up(s) | | ols_ _| | | wi | | | | wi | | | | | thout | | | | thout | | | | | d | | | | d | | | | | ata_ _| | | | ata_ * | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 0 | 1 | 0 | 1 | 0 | 2 | 0-4 | 2 | +-------+-------+-------+-------+-------+-------+-------+-------+ | 1 | 1 | 1 | 1 | 1 | 2 | 0 | 2 | | | | | | | | ,1,2, | | | | | | | | | 3,4,6 | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 2 | 1 | 0,1 | 1 | 2 | 2 | 0,1 | 2 | | | | | | | | ,2,3, | | | | | | | | | 4,5,6 | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 3 | 2 | 0 | 1 | 3 | 2 | 0,1,2 | 2 | | | | | | | | ,3,4, | | | | | | | | | 5,6,7 | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 4 | 2 | 1 | 1 | 4-31 | res | res | res | | | | | | | erved | erved | erved | +-------+-------+-------+-------+-------+-------+-------+-------+ | 5 | 2 | 2 | 1 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 6 | 2 | 3 | 1 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 7 | 2 | 0,1 | 1 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 8 | 2 | 2,3 | 1 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 9 | 2 | 0-2 | 1 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 10 | 2 | 0-3 | 1 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 11 | 2 | 0,2 | 1 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 12 | 2 | 0 | 2 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 13 | 2 | 1 | 2 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 14 | 2 | 2 | 2 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 15 | 2 | 3 | 2 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 16 | 2 | 4 | 2 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 17 | 2 | 5 | 2 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 18 | 2 | 6 | 2 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 19 | 2 | 7 | 2 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 20 | 2 | 0,1 | 2 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 21 | 2 | 2,3 | 2 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 22 | 2 | 4,5 | 2 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 23 | 2 | 6,7 | 2 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 24 | 2 | 0,4 | 2 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 25 | 2 | 2,6 | 2 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 26 | 2 | 0,1,4 | 2 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 27 | 2 | 2,3,6 | 2 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 28 | 2 | 0, | 2 | | | | | | | | 1,4,5 | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 29 | 2 | 2, | 2 | | | | | | | | 3,6,7 | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 30 | 2 | 0, | 2 | | | | | | | | 2,4,6 | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 31 | Res | Res | Res | | | | | | | erved | erved | erved | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+
Table 7.3.1.2.2-3: Antenna port(s) (1000 + DMRS port), _dmrs-Type_ =2,
_maxLength_ =1
+----------+----------+----------+----------+----------+----------+ | **One |** Two | | | | | | cod | code | | | | | | eword:**| words:** | | | | | | | | | | | | | ** | ** | | | | | | Codeword | Codeword | | | | | | 0 | 0 | | | | | | en | en | | | | | | abled,**| abled,** | | | | | | | | | | | | | ** | ** | | | | | | Codeword | Codeword | | | | | | 1 | 1 | | | | | | di | e | | | | | | sabled**| nabled** | | | | | +==========+==========+==========+==========+==========+==========+ | * | **Number |** DMRS | * | **Number |** DMRS | | _Value_ _| of DMRS | p |_ Value**| of DMRS | p | | | CDM | ort(s)** | | CDM | ort(s)**| | | group(s) | | | group(s) | | | | without | | | without | | | | data** | | | data** | | +----------+----------+----------+----------+----------+----------+ | 0 | 1 | 0 | 0 | 3 | 0-4 | +----------+----------+----------+----------+----------+----------+ | 1 | 1 | 1 | 1 | 3 | 0-5 | +----------+----------+----------+----------+----------+----------+ | 2 | 1 | 0,1 | 2-31 | reserved | reserved | +----------+----------+----------+----------+----------+----------+ | 3 | 2 | 0 | | | | +----------+----------+----------+----------+----------+----------+ | 4 | 2 | 1 | | | | +----------+----------+----------+----------+----------+----------+ | 5 | 2 | 2 | | | | +----------+----------+----------+----------+----------+----------+ | 6 | 2 | 3 | | | | +----------+----------+----------+----------+----------+----------+ | 7 | 2 | 0,1 | | | | +----------+----------+----------+----------+----------+----------+ | 8 | 2 | 2,3 | | | | +----------+----------+----------+----------+----------+----------+ | 9 | 2 | 0-2 | | | | +----------+----------+----------+----------+----------+----------+ | 10 | 2 | 0-3 | | | | +----------+----------+----------+----------+----------+----------+ | 11 | 3 | 0 | | | | +----------+----------+----------+----------+----------+----------+ | 12 | 3 | 1 | | | | +----------+----------+----------+----------+----------+----------+ | 13 | 3 | 2 | | | | +----------+----------+----------+----------+----------+----------+ | 14 | 3 | 3 | | | | +----------+----------+----------+----------+----------+----------+ | 15 | 3 | 4 | | | | +----------+----------+----------+----------+----------+----------+ | 16 | 3 | 5 | | | | +----------+----------+----------+----------+----------+----------+ | 17 | 3 | 0,1 | | | | +----------+----------+----------+----------+----------+----------+ | 18 | 3 | 2,3 | | | | +----------+----------+----------+----------+----------+----------+ | 19 | 3 | 4,5 | | | | +----------+----------+----------+----------+----------+----------+ | 20 | 3 | 0-2 | | | | +----------+----------+----------+----------+----------+----------+ | 21 | 3 | 3-5 | | | | +----------+----------+----------+----------+----------+----------+ | 22 | 3 | 0-3 | | | | +----------+----------+----------+----------+----------+----------+ | 23 | 2 | 0,2 | | | | +----------+----------+----------+----------+----------+----------+ | 24-31 | Reserved | Reserved | | | | +----------+----------+----------+----------+----------+----------+
Table 7.3.1.2.2-4: Antenna port(s) (1000 + DMRS port), _dmrs-Type_ =2,
_maxLength_ =2
+-------+-------+-------+-------+-------+-------+-------+-------+ | **One |** Two | | | | | | | | c | Co | | | | | | | | odewo | dewor | | | | | | | | rd:**| ds:** | | | | | | | | | | | | | | | | | **Cod |** Cod | | | | | | | | eword | eword | | | | | | | | 0 | 0 | | | | | | | | enabl | enabl | | | | | | | | ed,**| ed,** | | | | | | | | | | | | | | | | | **Cod |** Cod | | | | | | | | eword | eword | | | | | | | | 1 | 1 | | | | | | | | disab | enab | | | | | | | | led**| led** | | | | | | | +=======+=======+=======+=======+=======+=======+=======+=======+ | **Va |** N | * | **N |** Va | **N | * |** N | | lue**| umber | *DMRS | umber | lue** | umber | _DMRS | umber | | | of | port | of | | of | port | of | | | DMRS | (s)__| front | | DMRS | (s)__| front | | | CDM | | -load | | CDM | | -load | | | gro | | symb | | gro | | symb | | | up(s) | | ols_ _| | up(s) | | ols_ _| | | wi | | | | wi | | | | | thout | | | | thout | | | | | d | | | | d | | | | | ata_ _| | | | ata_ * | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 0 | 1 | 0 | 1 | 0 | 3 | 0-4 | 1 | +-------+-------+-------+-------+-------+-------+-------+-------+ | 1 | 1 | 1 | 1 | 1 | 3 | 0-5 | 1 | +-------+-------+-------+-------+-------+-------+-------+-------+ | 2 | 1 | 0,1 | 1 | 2 | 2 | 0,1, | 2 | | | | | | | | 2,3,6 | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 3 | 2 | 0 | 1 | 3 | 2 | 0 | 2 | | | | | | | | ,1,2, | | | | | | | | | 3,6,8 | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 4 | 2 | 1 | 1 | 4 | 2 | 0,1 | 2 | | | | | | | | ,2,3, | | | | | | | | | 6,7,8 | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 5 | 2 | 2 | 1 | 5 | 2 | 0,1,2 | 2 | | | | | | | | ,3,6, | | | | | | | | | 7,8,9 | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 6 | 2 | 3 | 1 | 6-63 | Res | Res | Res | | | | | | | erved | erved | erved | +-------+-------+-------+-------+-------+-------+-------+-------+ | 7 | 2 | 0,1 | 1 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 8 | 2 | 2,3 | 1 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 9 | 2 | 0-2 | 1 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 10 | 2 | 0-3 | 1 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 11 | 3 | 0 | 1 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 12 | 3 | 1 | 1 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 13 | 3 | 2 | 1 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 14 | 3 | 3 | 1 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 15 | 3 | 4 | 1 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 16 | 3 | 5 | 1 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 17 | 3 | 0,1 | 1 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 18 | 3 | 2,3 | 1 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 19 | 3 | 4,5 | 1 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 20 | 3 | 0-2 | 1 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 21 | 3 | 3-5 | 1 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 22 | 3 | 0-3 | 1 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 23 | 2 | 0,2 | 1 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 24 | 3 | 0 | 2 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 25 | 3 | 1 | 2 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 26 | 3 | 2 | 2 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 27 | 3 | 3 | 2 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 28 | 3 | 4 | 2 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 29 | 3 | 5 | 2 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 30 | 3 | 6 | 2 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 31 | 3 | 7 | 2 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 32 | 3 | 8 | 2 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 33 | 3 | 9 | 2 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 34 | 3 | 10 | 2 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 35 | 3 | 11 | 2 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 36 | 3 | 0,1 | 2 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 37 | 3 | 2,3 | 2 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 38 | 3 | 4,5 | 2 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 39 | 3 | 6,7 | 2 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 40 | 3 | 8,9 | 2 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 41 | 3 | 10,11 | 2 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 42 | 3 | 0,1,6 | 2 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 43 | 3 | 2,3,8 | 2 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 44 | 3 | 4 | 2 | | | | | | | | ,5,10 | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 45 | 3 | 0, | 2 | | | | | | | | 1,6,7 | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 46 | 3 | 2, | 2 | | | | | | | | 3,8,9 | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 47 | 3 | 4,5, | 2 | | | | | | | | 10,11 | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 48 | 1 | 0 | 2 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 49 | 1 | 1 | 2 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 50 | 1 | 6 | 2 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 51 | 1 | 7 | 2 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 52 | 1 | 0,1 | 2 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 53 | 1 | 6,7 | 2 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 54 | 2 | 0,1 | 2 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 55 | 2 | 2,3 | 2 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 56 | 2 | 6,7 | 2 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 57 | 2 | 8,9 | 2 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 58-63 | Res | Res | Res | | | | | | | erved | erved | erved | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+
Table 7.3.1.2.2-5: VRB-to-PRB mapping
Bit field mapped to index VRB-to-PRB mapping
* * *
0 Non-interleaved 1 Interleaved
#### 7.3.1.3 DCI formats for other purposes
##### 7.3.1.3.1 Format 2_0
DCI format 2_0 is used for notifying the slot format.
The following information is transmitted by means of the DCI format 2_0 with
CRC scrambled by SFI-RNTI:
\- Slot format indicator 1, Slot format indicator 2, ..., Slot format
indicator _N_.
The size of DCI format 2_0 is configurable by higher layers up to 128 bits,
according to Clause 11.1.1 of [5, TS 38.213].
##### 7.3.1.3.2 Format 2_1
DCI format 2_1 is used for notifying the PRB(s) and OFDM symbol(s) where UE
may assume no transmission is intended for the UE.
The following information is transmitted by means of the DCI format 2_1 with
CRC scrambled by INT-RNTI:
\- Pre-emption indication 1, Pre-emption indication 2, ..., Pre-emption
indication _N_.
The size of DCI format 2_1 is configurable by higher layers up to 126 bits,
according to Clause 11.2 of [5, TS 38.213]. Each pre-emption indication is 14
bits.
##### 7.3.1.3.3 Format 2_2
DCI format 2_2 is used for the transmission of TPC commands for PUCCH and
PUSCH.
The following information is transmitted by means of the DCI format 2_2 with
CRC scrambled by TPC-PUSCH-RNTI or TPC-PUCCH-RNTI:
\- block number 1, block number 2,..., block number _N_
The parameter _tpc-PUSCH_ or _tpc-PUCCH_ provided by higher layers determines
the index to the block number for an UL of a cell, with the following fields
defined for each block:
\- Closed loop indicator -- 0 or 1 bit.
\- For DCI format 2_2 with TPC-PUSCH-RNTI, 0 bit if the UE is not configured
with high layer parameter _twoPUSCH-PC-AdjustmentStates_ , in which case UE
assumes each block in the DCI format 2_2 is of 2 bits; 1 bit otherwise, in
which case UE assumes each block in the DCI format 2_2 is of 3 bits;
\- For DCI format 2_2 with TPC-PUCCH-RNTI, 0 bit if the UE is not configured
with high layer parameter _twoPUCCH-PC-AdjustmentStates_ , in which case UE
assumes each block in the DCI format 2_2 is of 2 bits; 1 bit otherwise, in
which case UE assumes each block in the DCI format 2_2 is of 3 bits;
\- TPC command --2 bits
The number of information bits in format 2_2 shall be equal to or less than
the payload size of format 1_0 monitored in common search space in the same
serving cell. If the number of information bits in format 2_2 is less than the
payload size of format 1_0 monitored in common search space in the same
serving cell, zeros shall be appended to format 2_2 until the payload size
equals that of format 1_0 monitored in common search space in the same serving
cell.
##### 7.3.1.3.4 Format 2_3
DCI format 2_3 is used for the transmission of a group of TPC commands for SRS
transmissions by one or more UEs. Along with a TPC command, a SRS request may
also be transmitted.
The following information is transmitted by means of the DCI format 2_3 with
CRC scrambled by TPC-SRS-RNTI:
\- block number 1, block number 2, ..., block number
where the starting position of a block is determined by the parameter
_startingBitOfFormat2-3_ or _startingBitOfFormat2-3SUL-v1530_ provided by
higher layers for the UE configured with the block.
If the UE is configured with higher layer parameter _srs-TPC-PDCCH-Group_ =
_typeA_ for an UL without PUCCH and PUSCH or an UL on which the SRS power
control is not tied with PUSCH power control, one block is configured for the
UE by higher layers, with the following fields defined for the block:
\- SRS request -- 0 or 2 bits. The presence of this field is according to the
definition in Clause 11.4 of [5, TS38.213]. If present, this field is
interpreted as defined by Table 7.3.1.1.2-24.
\- TPC command number 1, TPC command number 2, ..., TPC command number _N_ ,
where each TPC command applies to a respective UL carrier provided by higher
layer parameter _cc-IndexInOneCC-Set_
If the UE is configured with higher layer parameter _srs-TPC-PDCCH-Group_ =
_typeB_ for an UL without PUCCH and PUSCH or an UL on which the SRS power
control is not tied with PUSCH power control, one block or more blocks is
configured for the UE by higher layers where each block applies to an UL
carrier, with the following fields defined for each block:
\- SRS request -- 0 or 2 bits. The presence of this field is according to the
definition in Clause 11.4 of [5, TS38.213]. If present, this field is
interpreted as defined by Table 7.3.1.1.2-24.
\- TPC command --2 bits
The number of information bits in format 2_3 shall be equal to or less than
the payload size of format 1_0 monitored in common search space in the same
serving cell. If the number of information bits in format 2_3 is less than the
payload size of format 1_0 monitored in common search space in the same
serving cell, zeros shall be appended to format 2_3 until the payload size
equals that of format 1_0 monitored in common search space in the same serving
cell.
### 7.3.2 CRC attachment
Error detection is provided on DCI transmissions through a Cyclic Redundancy
Check (CRC).
The entire payload is used to calculate the CRC parity bits. Denote the bits
of the payload by, and the parity bits by, where is the payload size and is
the number of parity bits. Let be a bit sequence such that for and for . The
parity bits are computed with input bit sequence and attached according to
Clause 5.1 by setting to 24 bits and using the generator polynomial . The
output bit is
for
for ,
where .
After attachment, the CRC parity bits are scrambled with the corresponding
RNTI , where corresponds to the MSB of the RNTI, to form the sequence of bits
. The relation between _c~k~_ and _b~k~_ is:
for _k_ = 0, 1, 2, ...,
for _k_ = , ,,..., .
### 7.3.3 Channel coding
Information bits are delivered to the channel coding block. They are denoted
by , where is the number of bits, and they are encoded via Polar coding
according to Clause 5.3.1, by setting , , , and .
After encoding the bits are denoted by , where is the number of coded bits.
### 7.3.4 Rate matching
The input bit sequence to rate matching is .
Rate matching is performed according to Clause 5.4.1 by setting .
The output bit sequence after rate matching is denoted as .
#