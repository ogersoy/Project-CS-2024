# Foreword
This Technical Specification has been produced by the 3^rd^ Generation
Partnership Project (3GPP).
The contents of the present document are subject to continuing work within the
TSG and may change following formal TSG approval. Should the TSG modify the
contents of the present document, it will be re-released by the TSG with an
identifying change of release date and an increase in version number as
follows:
Version x.y.z
where:
x the first digit:
1 presented to TSG for information;
2 presented to TSG for approval;
3 or greater indicates TSG approved document under change control.
y the second digit is incremented for all changes of substance, i.e. technical
enhancements, corrections, updates, etc.
z the third digit is incremented when editorial only changes have been
incorporated in the document.
# 1 Scope
The present document specifies the Radio Resource Control protocol for the
radio interface between UE and NG-RAN.
The scope of the present document also includes:
\- the radio related information transported in a transparent container
between source gNB and target gNB upon inter gNB handover;
\- the radio related information transported in a transparent container
between a source or target gNB and another system upon inter RAT handover.
\- the radio related information transported in a transparent container
between a source eNB and target gNB during E-UTRA-NR Dual Connectivity.
# 2 References
The following documents contain provisions which, through reference in this
text, constitute provisions of the present document.
\- References are either specific (identified by date of publication, edition
number, version number, etc.) or non‑specific.
\- For a specific reference, subsequent revisions do not apply.
\- For a non-specific reference, the latest version applies. In the case of a
reference to a 3GPP document (including a GSM document), a non-specific
reference implicitly refers to the latest version of that document _in the
same Release as the present document_.
[1] 3GPP TR 21.905: \"Vocabulary for 3GPP Specifications\".
[2] 3GPP TS 38.300: \"NR; Overall description; Stage 2\".
[3] 3GPP TS 38.321: \"NR; Medium Access Control (MAC); Protocol
specification\".
[4] 3GPP TS 38.322: \"NR; Radio Link Control (RLC) protocol specification\".
[5] 3GPP TS 38.323: \"NR; Packet Data Convergence Protocol (PDCP) protocol
specification\".
[6] ITU-T Recommendation X.680 (08/2015) \"Information Technology -- Abstract
Syntax Notation One (ASN.1): Specification of basic notation\" (Same as the
ISO/IEC International Standard 8824-1).
[7] ITU-T Recommendation X.681 (08/2015) \"Information Technology -- Abstract
Syntax Notation One (ASN.1): Information object specification\" (Same as the
ISO/IEC International Standard 8824-2).
[8] ITU-T Recommendation X.691 (08/2015) \"Information technology -- ASN.1
encoding rules: Specification of Packed Encoding Rules (PER)\" (Same as the
ISO/IEC International Standard 8825-2).
[9] 3GPP TS 38.215: \"NR; Physical layer measurements\".
[10] 3GPP TS 36.331: \"Evolved Universal Terrestrial Radio Access (E-UTRA)
Radio Resource Control (RRC); Protocol Specification\".
[11] 3GPP TS 33.501: \"Security Architecture and Procedures for 5G System\".
[12] 3GPP TS 38.104: \"NR; Base Station (BS) radio transmission and
reception\".
[13] 3GPP TS 38.213: \"NR; Physical layer procedures for control\".
[14] 3GPP TS 38.133: \"NR; Requirements for support of radio resource
management\".
[15] 3GPP TS 38.101-1: \"NR; User Equipment (UE) radio transmission and
reception; Part 1: Range 1 Standalone\".
[16] 3GPP TS 38.211: \"NR; Physical channels and modulation\".
[17] 3GPP TS 38.212: \"NR; Multiplexing and channel coding\".
[18] ITU-T Recommendation X.683 (08/2015) \"Information Technology -- Abstract
Syntax Notation One (ASN.1): Parameterization of ASN.1 specifications\" (Same
as the ISO/IEC International Standard 8824-4).
[19] 3GPP TS 38.214: \"NR; Physical layer procedures for data\".
[20] 3GPP TS 38.304: \"NR; User Equipment (UE) procedures in Idle mode and RRC
Inactive state\".
[21] 3GPP TS 23.003: \"Numbering, addressing and identification\".
[22] 3GPP TS 36.101: \"E-UTRA; User Equipment (UE) radio transmission and
reception\".
[23] 3GPP TS 24.501: \"Non-Access-Stratum (NAS) protocol for 5G System (5GS);
Stage 3\".
[24] 3GPP TS 37.324: \"Service Data Adaptation Protocol (SDAP)
specification\".
[25] 3GPP TS 22.261: \"Service requirements for the 5G System\".
[26] 3GPP TS 38.306: \"User Equipment (UE) radio access capabilities\".
[27] 3GPP TS 36.304: \"E-UTRA; User Equipment (UE) procedures in idle mode\".
[28] ATIS 0700041: \"WEA 3.0: Device-Based Geo-Fencing\".
[29] 3GPP TS 23.041: \"Technical realization of Cell Broadcast Service
(CBS)\".
[30] 3GPP TS 33.401: \"3GPP System Architecture Evolution (SAE); Security
architecture\".
[31] 3GPP TS 36.211: \"E-UTRA; Physical channels and modulation\".
[32] 3GPP TS 23.501: \"System Architecture for the 5G System; Stage 2\".
[33] 3GPP TS 36.104:\"E-UTRA; Base Station (BS) radio transmission and
reception\".
[34] 3GPP TS 38.101-3 \"NR; User Equipment (UE) radio transmission and
reception; Part 3: Range 1 and Range 2 Interworking operation with other
radios\".
[35] 3GPP TS 38.423: \"NG-RAN, Xn application protocol (XnAP)\".
[36] 3GPP TS 38.473: \"NG-RAN; F1 application protocol (F1AP)\".
[37] 3GPP TS 36.423: \"E-UTRA; X2 application protocol (X2AP)\".
[38] 3GPP TS 24.008: \"Mobile radio interface layer 3 specification; Core
network protocols; Stage 3\".
[39] 3GPP TS 38.101-2 \"NR; User Equipment (UE) radio transmission and
reception; Part 2: Range 2 Standalone\".
[40] 3GPP TS 36.133:\"E-UTRA; Requirements for support of radio resource
management\".
[41] 3GPP TS 37.340: \"E-UTRA and NR; Multi-connectivity; Stage 2\".
[42] 3GPP TS 38.413: \"NG-RAN, NG Application Protocol (NGAP)\".
# 3 Definitions, symbols and abbreviations
## 3.1 Definitions
For the purposes of the present document, the terms and definitions given in
TR 21.905 [1] and the following apply. A term defined in the present document
takes precedence over the definition of the same term, if any, in TR 21.905
[1].
**CEIL:** Mathematical function used to \'round up\' i.e. to the nearest
integer having a higher or equal value.
**Dedicated signalling:** Signalling sent on DCCH logical channel between the
network and a single UE.
**Field:** The individual contents of an information element are referred to
as fields.
**FLOOR:** Mathematical function used to \'round down\' i.e. to the nearest
integer having a lower or equal value.
**Information element:** A structural element containing single or multiple
fields is referred as information element.
**Primary Cell** : The MCG cell, operating on the primary frequency, in which
the UE either performs the initial connection establishment procedure or
initiates the connection re-establishment procedure.
**Primary SCG Cell** : For dual connectivity operation, the SCG cell in which
the UE performs random access when performing the Reconfiguration with Sync
procedure.
**Primary Timing Advance Group** : Timing Advance Group containing the SpCell.
**PUCCH SCell:** An SCell configured with PUCCH by _PUCCH-Config_.
**PUSCH-Less SCell:** An SCell configured without PUSCH.
**RLC bearer configuration:** The lower layer part of the radio bearer
configuration comprising the RLC and logical channel configurations.
**Secondary Cell** : For a UE configured with CA, a cell providing additional
radio resources on top of Special Cell.
**Secondary Cell Group** : For a UE configured with dual connectivity, the
subset of serving cells comprising of the PSCell and zero or more secondary
cells.
**Serving Cell** : For a UE in RRC_CONNECTED not configured with CA/DC there
is only one serving cell comprising of the primary cell. For a UE in
RRC_CONNECTED configured with CA/ DC the term \'serving cells\' is used to
denote the set of cells comprising of the Special Cell(s) and all secondary
cells.
**Special Cell:** For Dual Connectivity operation the term Special Cell refers
to the PCell of the MCG or the PSCell of the SCG, otherwise the term Special
Cell refers to the PCell.
**Split SRB** : In MR-DC, an SRB that supports transmission via MCG and SCG as
well as duplication of RRC PDUs as defined in TS 37.340 [41].
**SSB Frequency** : Frequency referring to the position of resource element
RE=#0 (subcarrier #0) of resource block RB#10 of the SS block.
**UE Inactive AS Context** : UE Inactive AS Context is stored when the
connection is suspended and restored when the connection is resumed. It
includes information as defined in clause 5.3.8.3.
## 3.2 Abbreviations
For the purposes of the present document, the abbreviations given in TR 21.905
[1] and the following apply. An abbreviation defined in the present document
takes precedence over the definition of the same abbreviation, if any, in TR
21.905 [1].
5GC 5G Core Network
ACK Acknowledgement
AM Acknowledged Mode
ARQ Automatic Repeat Request
AS Access Stratum
ASN.1 Abstract Syntax Notation One
BLER Block Error Rate
BWP Bandwidth Part
CA Carrier Aggregation
CCCH Common Control Channel
CG Cell Group
CMAS Commercial Mobile Alert Service
CP Control Plane
C-RNTI Cell RNTI
CSI Channel State Information
DC Dual Connectivity
DCCH Dedicated Control Channel
DCI Downlink Control Information
DL Downlink
DL-SCH Downlink Shared Channel
DM-RS Demodulation Reference Signal
DRB (user) Data Radio Bearer
DRX Discontinuous Reception
DTCH Dedicated Traffic Channel
EN-DC E-UTRA NR Dual Connectivity with E-UTRA connected to EPC
EPC Evolved Packet Core
EPS Evolved Packet System
ETWS Earthquake and Tsunami Warning System
E-UTRA Evolved Universal Terrestrial Radio Access
E-UTRA/5GC E-UTRA connected to 5GC
E-UTRA/EPC E-UTRA connected to EPC
E-UTRAN Evolved Universal Terrestrial Radio Access Network
FDD Frequency Division Duplex
FFS For Further Study
GERAN GSM/EDGE Radio Access Network
GNSS Global Navigation Satellite System
GSM Global System for Mobile Communications
HARQ Hybrid Automatic Repeat Request
IE Information element
IMSI International Mobile Subscriber Identity
kB Kilobyte (1000 bytes)
L1 Layer 1
L2 Layer 2
L3 Layer 3
MAC Medium Access Control
MCG Master Cell Group
MIB Master Information Block
MR-DC Multi-Radio Dual Connectivity
N/A Not Applicable
NE-DC NR E-UTRA Dual Connectivity
(NG)EN-DC E-UTRA NR Dual Connectivity (covering E-UTRA connected to EPC or
5GC)
NGEN-DC E-UTRA NR Dual Connectivity with E-UTRA connected to 5GC
NR-DC NR-NR Dual Connectivity
NR/5GC NR connected to 5GC
PCell Primary Cell
PDCP Packet Data Convergence Protocol
PDU Protocol Data Unit
PLMN Public Land Mobile Network
PSCell Primary SCG Cell
PWS Public Warning System
QoS Quality of Service
RAN Radio Access Network
RAT Radio Access Technology
RLC Radio Link Control
RNA RAN-based Notification Area
RNTI Radio Network Temporary Identifier
ROHC Robust Header Compression
RRC Radio Resource Control
RS Reference Signal
SCell Secondary Cell
SCG Secondary Cell Group
SFN System Frame Number
SFTD SFN and Frame Timing Difference
SI System Information
SIB System Information Block
SpCell Special Cell
SRB Signalling Radio Bearer
SSB Synchronization Signal Block
TAG Timing Advance Group
TDD Time Division Duplex
TM Transparent Mode
UE User Equipment
UL Uplink
UM Unacknowledged Mode
UP User Plane
In the ASN.1, lower case may be used for some (parts) of the above
abbreviations e.g. c-RNTI.
# 4 General
## 4.1 Introduction
This specification is organised as follows:
\- clause 4.2 describes the RRC protocol model;
\- clause 4.3 specifies the services provided to upper layers as well as the
services expected from lower layers;
\- clause 4.4 lists the RRC functions;
\- clause 5 specifies RRC procedures, including UE state transitions;
\- clause 6 specifies the RRC messages in ASN.1 and description;
\- clause 7 specifies the variables (including protocol timers and constants)
and counters to be used by the UE;
\- clause 8 specifies the encoding of the RRC messages;
\- clause 9 specifies the specified and default radio configurations;
\- clause 10 specifies generic error handling;
\- clause 11 specifies the RRC messages transferred across network nodes;
\- clause 12 specifies the UE capability related constraints and performance
requirements.
## 4.2 Architecture
### 4.2.1 UE states and state transitions including inter RAT
A UE is either in RRC_CONNECTED state or in RRC_INACTIVE state when an RRC
connection has been established. If this is not the case, i.e. no RRC
connection is established, the UE is in RRC_IDLE state. The RRC states can
further be characterised as follows:
**\- RRC_IDLE** :
\- A UE specific DRX may be configured by upper layers;
\- UE controlled mobility based on network configuration;
\- The UE:
\- Monitors Short Messages transmitted with P-RNTI over DCI (see clause 6.5);
\- Monitors a Paging channel for CN paging using 5G-S-TMSI;
\- Performs neighbouring cell measurements and cell (re-)selection;
\- Acquires system information and can send SI request (if configured).
**\- RRC_INACTIVE** :
\- A UE specific DRX may be configured by upper layers or by RRC layer;
\- UE controlled mobility based on network configuration;
\- The UE stores the UE Inactive AS context;
\- A RAN-based notification area is configured by RRC layer;
The UE:
\- Monitors Short Messages transmitted with P-RNTI over DCI (see clause 6.5);
\- Monitors a Paging channel for CN paging using 5G-S-TMSI and RAN paging
using fullI-RNTI;
\- Performs neighbouring cell measurements and cell (re-)selection;
\- Performs RAN-based notification area updates periodically and when moving
outside the configured RAN-based notification area;
\- Acquires system information and can send SI request (if configured).
**\- RRC_CONNECTED:**
\- The UE stores the AS context;
\- Transfer of unicast data to/from UE;
\- At lower layers, the UE may be configured with a UE specific DRX;
\- For UEs supporting CA, use of one or more SCells, aggregated with the
SpCell, for increased bandwidth;
\- For UEs supporting DC, use of one SCG, aggregated with the MCG, for
increased bandwidth;
\- Network controlled mobility within NR and to/from E-UTRA;
\- The UE:
\- Monitors Short Messages transmitted with P-RNTI over DCI (see clause 6.5),
if configured;
\- Monitors control channels associated with the shared data channel to
determine if data is scheduled for it;
\- Provides channel quality and feedback information;
\- Performs neighbouring cell measurements and measurement reporting;
\- Acquires system information.
Figure 4.2.1-1 illustrates an overview of UE RRC state machine and state
transitions in NR. A UE has only one RRC state in NR at one time.
Figure 4.2.1-1: UE state machine and state transitions in NR
Figure 4.2.1-2 illustrates an overview of UE state machine and state
transitions in NR as well as the mobility procedures supported between NR/5GC
E-UTRA/EPC and E-UTRA/5GC.
Figure 4.2.1-2: UE state machine and state transitions between NR/5GC,
E-UTRA/EPC and E-UTRA/5GC
### 4.2.2 Signalling radio bearers
\"Signalling Radio Bearers\" (SRBs) are defined as Radio Bearers (RBs) that
are used only for the transmission of RRC and NAS messages. More specifically,
the following SRBs are defined:
\- SRB0 is for RRC messages using the CCCH logical channel;
\- SRB1 is for RRC messages (which may include a piggybacked NAS message) as
well as for NAS messages prior to the establishment of SRB2, all using DCCH
logical channel;
\- SRB2 is for NAS messages, all using DCCH logical channel. SRB2 has a lower
priority than SRB1 and may be configured by the network after AS security
activation;
\- SRB3 is for specific RRC messages when UE is in (NG)EN-DC or NR-DC, all
using DCCH logical channel.
In downlink, piggybacking of NAS messages is used only for one dependant (i.e.
with joint success/failure) procedure: bearer
establishment/modification/release. In uplink piggybacking of NAS message is
used only for transferring the initial NAS message during connection setup and
connection resume.
NOTE 1: The NAS messages transferred via SRB2 are also contained in RRC
messages, which however do not include any RRC protocol control information.
Once AS security is activated, all RRC messages on SRB1, SRB2 and SRB3,
including those containing NAS messages, are integrity protected and ciphered
by PDCP. NAS independently applies integrity protection and ciphering to the
NAS messages, see TS 24.501 [23].
Split SRB is supported for all the MR-DC options in both SRB1 and SRB2 (split
SRB is not supported for SRB0 and SRB3).
## 4.3 Services
### 4.3.1 Services provided to upper layers
The RRC protocol offers the following services to upper layers:
\- Broadcast of common control information;
\- Notification of UEs in RRC_IDLE, e.g. about a mobile terminating call;
\- Notification of UEs about ETWS and/or CMAS
\- Transfer of dedicated signalling.
### 4.3.2 Services expected from lower layers
In brief, the following are the main services that RRC expects from lower
layers:
\- Integrity protection, ciphering and loss-less in-sequence delivery of
information without duplication;
## 4.4 Functions
The RRC protocol includes the following main functions:
\- Broadcast of system information:
\- Including NAS common information;
\- Information applicable for UEs in RRC_IDLE and RRC_INACTIVE (e.g. cell
(re-)selection parameters, neighbouring cell information) and information
(also) applicable for UEs in RRC_CONNECTED (e.g. common channel configuration
information);
\- Including ETWS notification, CMAS notification.
\- RRC connection control:
\- Paging;
\- Establishment/modification/suspension/resumption/release of RRC connection,
including e.g. assignment/modification of UE identity (C-RNTI, fullI-RNTI,
etc.), establishment/modification/suspension/resumption/release of SRBs
(except for SRB0);
\- Access barring;
\- Initial AS security activation, i.e. initial configuration of AS integrity
protection (SRBs, DRBs) and AS ciphering (SRBs, DRBs);
\- RRC connection mobility including e.g. intra-frequency and inter-frequency
handover, associated AS security handling, i.e. key/algorithm change,
specification of RRC context information transferred between network nodes;
\- Establishment/modification/suspension/resumption/release of RBs carrying
user data (DRBs);
\- Radio configuration control including e.g. assignment/modification of ARQ
configuration, HARQ configuration, DRX configuration;
\- In case of DC, cell management including e.g. change of PSCell,
addition/modification/release of SCG cell(s);
\- In case of CA, cell management including e.g. addition/modification/release
of SCell(s);
\- QoS control including assignment/ modification of semi-persistent
scheduling (SPS) configuration and configured grant configuration for DL and
UL respectively, assignment/ modification of parameters for UL rate control in
the UE, i.e. allocation of a priority and a prioritised bit rate (PBR) for
each RB.
\- Recovery from radio link failure.
\- Inter-RAT mobility including e.g. AS security activation, transfer of RRC
context information;
\- Measurement configuration and reporting:
\- Establishment/modification/release of measurement configuration (e.g.
intra-frequency, inter-frequency and inter- RAT measurements);
\- Setup and release of measurement gaps;
\- Measurement reporting.
\- Other functions including e.g. generic protocol error handling, transfer of
dedicated NAS information, transfer of UE radio access capability information.
# 5 Procedures
## 5.1 General
### 5.1.1 Introduction
This clause covers the general requirements.
### 5.1.2 General requirements
The UE shall:
1> process the received messages in order of reception by RRC, i.e. the
processing of a message shall be completed before starting the processing of a
subsequent message;
NOTE: Network may initiate a subsequent procedure prior to receiving the UE\'s
response of a previously initiated procedure.
1> within a clause execute the steps according to the order specified in the
procedural description;
1> consider the term \'radio bearer\' (RB) to cover SRBs and DRBs unless
explicitly stated otherwise;
1> set the _rrc-TransactionIdentifier_ in the response message, if included,
to the same value as included in the message received from the network that
triggered the response message;
1> upon receiving a choice value set to _setup_ :
2> apply the corresponding received configuration and start using the
associated resources, unless explicitly specified otherwise;
1> upon receiving a choice value set to _release_ :
2> clear the corresponding configuration and stop using the associated
resources;
1> in case the size of a list is extended, upon receiving an extension field
comprising the entries in addition to the ones carried by the original field
(regardless of whether the network signals more entries in total); apply the
following generic behaviour unless explicitly stated otherwise:
2> create a combined list by concatenating the additional entries included in
the extension field to the original field while maintaining the order among
both the original and the additional entries;
2> for the combined list, created according to the previous, apply the same
behaviour as defined for the original field.
### 5.1.3 Requirements for UE in MR-DC
In this specification, the UE considers itself to be in:
\- EN-DC, if and only if it is configured with _nr-SecondaryCellGroupConfig_
according to TS 36.331[10], and it is connected to EPC,
\- NGEN-DC, if and only if it is configured with _nr-SecondaryCellGroupConfig_
according to TS 36.331[10], and it is connected to 5GC,
\- NE-DC, if and only if it is configured with _mrdc-SecondaryCellGroup_ set
to _eutra-SCG_ ,
\- NR-DC, if and only if it is configured with _mrdc-SecondaryCellGroup_ set
to _nr-SCG_ ,
\- MR-DC, if and only if it is in (NG)EN-DC, NE-DC or NR-DC.
NOTE: This use of these terms deviates from the definition in TS 37.340 [41]
and other specifications. In TS 37.340, these terms include also the case
where the UE is configured with E-UTRA or NR MCG only (i.e. no NR or E-UTRA
SCG) but with one or more bearers terminated in a secondary node (i.e. using
NR PDCP).
The UE in (NG)EN-DC only executes a subclause of clause 5 in this
specification when the subclause:
\- is referred to from a subclause under execution, either in this
specification or in TS 36.331 [10]; or
\- applies to a message received on SRB3 (if SRB3 is established); or
\- applies to field(s), IE(s), UE variable(s) or timer(s) in this
specification that the UE is configured with.
When executing a subclause of clause 5 in this specification, the UE follows
the requirements in clause 5.1.2 and in all subclauses of this specification
applicable to the messages (including processing time requirements), fields,
IEs, timers and UE variables indicated in the subclause under execution.
## 5.2 System information
### 5.2.1 Introduction
System Information (SI) is divided into the _MIB_ and a number of SIBs where:
\- the _MIB_ is always transmitted on the BCH with a periodicity of 80 ms and
repetitions made within 80 ms (TS 38.212 [17], clause 7.1) and it includes
parameters that are needed to acquire _SIB1_ from the cell. The first
transmission of the _MIB_ is scheduled in subframes as defined in TS 38.213
[13], clause 4.1 and repetitions are scheduled according to the period of SSB;
NOTE 1: If the period of SSB is larger than 80 ms, the _MIB_ is transmitted
with the same periodicity as that of SSB.
\- the _SIB1_ is transmitted on the DL-SCH with a periodicity of 160 ms and
variable transmission repetition periodicity within 160 ms as specified in TS
38.213 [13], clause 13. The default transmission repetition periodicity of
_SIB1_ is 20 ms but the actual transmission repetition periodicity is up to
network implementation. For SSB and CORESET multiplexing pattern 1, _SIB1_
repetition transmission period is 20 ms. For SSB and CORESET multiplexing
pattern 2/3, _SIB1_ transmission repetition period is the same as the SSB
period (TS 38.213 [13], clause 13). _SIB1_ includes information regarding the
availability and scheduling (e.g. mapping of SIBs to SI message, periodicity,
SI-window size) of other SIBs with an indication whether one or more SIBs are
only provided on-demand and, in that case, the configuration needed by the UE
to perform the SI request. _SIB1_ is cell-specific SIB;
\- SIBs other than _SIB1_ are carried in _SystemInformation_ (SI) messages,
which are transmitted on the DL-SCH. Only SIBs having the same periodicity can
be mapped to the same SI message. Each SI message is transmitted within
periodically occurring time domain windows (referred to as SI-windows with
same length for all SI messages). Each SI message is associated with an SI-
window and the SI-windows of different SI messages do not overlap. That is,
within one SI-window only the corresponding SI message is transmitted. An _SI
message may be transmitted a number of times within the SI-window._ Any SIB
except _SIB1_ can be configured to be cell specific or area specific, using an
indication in _SIB1_. The cell specific SIB is applicable only within a cell
that provides the SIB while the area specific SIB is applicable within an area
referred to as SI area, which consists of one or several cells and is
identified by s _ystemInformationAreaID_ ;
\- The mapping of SIBs to SI messages is configured in _schedulingInfoList_
with restrictions that each SIB is contained only in a single SI message and
each SIB is contained at most once in that SI message;
\- For a UE in RRC_CONNECTED, the network can provide system information
through dedicated signalling using the **_RRCReconfiguration message, e.g. if
the UE has an active BWP with no common search space configured to monitor
system information or paging_**.
\- For PSCell and SCells, the network provides the required SI by dedicated
signalling, i.e. within an **_RRCReconfiguration message_**. Nevertheless, the
UE shall acquire _MIB_ of the PSCell to get SFN timing of the SCG (which may
be different from MCG). Upon change of relevant SI for SCell, the network
releases and adds the concerned SCell. For PSCell, the required SI can only be
changed with Reconfiguration with Sync.
NOTE 2: The physical layer imposes a limit to the maximum size a SIB can take.
The maximum _SIB1_ or _SI message_ size is 2976 bits.
### 5.2.2 System information acquisition
#### 5.2.2.1 General UE requirements
Figure 5.2.2.1-1: System information acquisition
The UE applies the SI acquisition procedure to acquire the AS- and NAS
information. The procedure applies to UEs in RRC_IDLE, in RRC_INACTIVE and in
RRC_CONNECTED.
The UE in RRC_IDLE and RRC_INACTIVE shall ensure having a valid version of (at
least) the _MIB_ , _SIB1_ through _SIB4_ and _SIB5_ (if the UE supports
E-UTRA).
#### 5.2.2.2 SIB validity and need to (re)-acquire SIB
##### 5.2.2.2.1 SIB validity
The UE shall apply the SI acquisition procedure as defined in clause 5.2.2.3
upon cell selection (e.g. upon power on), cell-reselection, return from out of
coverage, after reconfiguration with sync completion, after entering the
network from another RAT, upon receiving an indication that the system
information has changed, upon receiving a PWS notification; and whenever the
UE does not have a valid version of a stored SIB.
When the UE acquires a _MIB_ or a _SIB1_ or an SI message in a serving cell as
described in clause 5.2.2.3, and if the UE stores the acquired SIB, then the
UE shall store the associated _areaScope_ , if present, the first _PLMN-
Identity_ in the _PLMN-IdentityInfoList_ , the _cellIdentity_ , the
_systemInformationAreaID_ , if present, and the _valueTag_ , if present, as
indicated in the _si-SchedulingInfo_ for the SIB. The UE may use a valid
stored version of the SI except _MIB_ , _SIB1_ , _SIB6_ , _SIB7_ or _SIB8_
e.g. after cell re-selection, upon return from out of coverage or after the
reception of SI change indication.
NOTE: The storage and management of the stored SIBs in addition to the SIBs
valid for the current serving cell is left to UE implementation.
The UE shall:
1> delete any stored version of a SIB after 3 hours from the moment it was
successfully confirmed as valid;
1> for each stored version of a SIB:
2> if the _areaScope_ is associated and its value for the stored version of
the SIB is the same as the value received in the _si-SchedulingInfo_ for that
SIB from the serving cell:
3> if the first _PLMN-Identity_ included in the _PLMN-IdentityInfoList_ , the
_systemInformationAreaID_ and the v _alueTag_ that are included in the _si-
SchedulingInfo_ for the SIB received from the serving cell are identical to
the _PLMN-Identity_ , the _systemInformationAreaID_ and the _valueTag_
associated with the stored version of that SIB:
4> consider the stored SIB as valid for the cell;
2> if the _areaScope_ is not present for the stored version of the SIB and the
_areaScope_ value is not included in the _si-SchedulingInfo_ for that SIB from
the serving cell:
3> if the first _PLMN-Identity_ in the _PLMN-IdentityInfoList,_ the
_cellIdentity_ and _valueTag_ that are included in the _si-SchedulingInfo_ for
the SIB received from the serving cell are identical to the _PLMN-Identity,_
the _cellIdentity_ and the _valueTag_ associated with the stored version of
that SIB:
4> consider the stored SIB as valid for the cell;
##### 5.2.2.2.2 SI change indication and PWS notification
A modification period is used, i.e. updated SI (other than for ETWS and CMAS)
is broadcasted in the modification period following the one where SI change
indication is transmitted. The modification period boundaries are defined by
SFN values for which SFN mod m = 0, where m is the number of radio frames
comprising the modification period. The modification period is configured by
system information. The UE receives indications about SI modifications and/or
PWS notifications using Short Message transmitted with P-RNTI over DCI (see
clause 6.5). Repetitions of SI change indication may occur within preceding
modification period.
UEs in RRC_IDLE or in RRC_INACTIVE shall monitor for SI change indication in
its own paging occasion every DRX cycle. UEs in RRC_CONNECTED shall monitor
for SI change indication in any paging occasion at least once per modification
period if the UE is provided with common search space on the active BWP to
monitor paging, as specified in TS 38.213 [13], clause 13.
ETWS or CMAS capable UEs in RRC_IDLE or in RRC_INACTIVE shall monitor for
indications about PWS notification in its own paging occasion every DRX cycle.
ETWS or CMAS capable UEs in RRC_CONNECTED shall monitor for indication about
PWS notification in any paging occasion at least once every
_defaultPagingCycle_ if the UE is provided with common search space on the
active BWP to monitor paging.
For Short Message reception in a paging occasion, the UE monitors the PDCCH
monitoring occasion(s) for paging as specified in TS 38.304 [20] and TS 38.213
[13].
If the UE receives a Short Message, the UE shall:
1> if the UE is ETWS capable or CMAS capable, the _etwsAndCmasIndication_ bit
of Short Message is set, and the UE is provided with
_searchSpaceOtherSystemInformation_ on the active BWP or the initial BWP:
2> immediately re-acquire the _SIB1_ ;
2> if the UE is ETWS capable and _si-SchedulingInfo_ includes scheduling
information for _SIB6_ :
3> acquire _SIB6_ , as specified in clause 5.2.2.3.2, immediately;
2> if the UE is ETWS capable and _si-SchedulingInfo_ includes scheduling
information for _SIB7_ :
3> acquire _SIB7_ , as specified in clause 5.2.2.3.2, immediately;
2> if the UE is CMAS capable and _si-SchedulingInfo_ includes scheduling
information for _SIB8_ :
3> acquire _SIB8_ , as specified in clause 5.2.2.3.2, immediately;
NOTE: In case _SIB6_ , _SIB7_ , or _SIB8_ overlap with a measurement gap it is
left to UE implementation how to immediately acquire _SIB6_ , _SIB7_ , or
_SIB8_.
1> if the _systemInfoModification_ bit of Short Message is set:
2> apply the SI acquisition procedure as defined in clause 5.2.2.3 from the
start of the next modification period.
#### 5.2.2.3 Acquisition of System Information
##### 5.2.2.3.1 Acquisition of _MIB_ and _SIB1_
The UE shall:
1> apply the specified BCCH configuration defined in 9.1.1.1;
1> if the UE is in RRC_IDLE or in RRC_INACTIVE; or
1> if the UE is in RRC_CONNECTED while T311 is running:
2> acquire the _MIB,_ which is scheduled as specified in TS 38.213 [13];
2> if the UE is unable to acquire the _MIB_ ;
3> perform the actions as specified in clause 5.2.2.5;
2> else:
3> perform the actions specified in clause 5.2.2.4.1.
1> if the UE is in RRC_CONNECTED with an active BWP with common search space
configured by _searchSpaceSIB1_ and _pagingSearchSpace_ and has received an
indication about change of system information; or
1> if the UE is in RRC_IDLE or in RRC_INACTIVE; or
1> if the UE is in RRC_CONNECTED while T311 is running:
2> if _ssb-SubcarrierOffset_ indicates _SIB1_ is transmitted in the cell (TS
38.213 [13]) and if _SIB1_ acquisition is required for the UE:
3> acquire the _SIB1,_ which is scheduled as specified in TS 38.213 [13];
3> if the UE is unable to acquire the _SIB1_ :
4> perform the actions as specified in clause 5.2.2.5;
3> else:
4> upon acquiring _SIB1_ , perform the actions specified in clause 5.2.2.4.2.
2> else if _SIB1_ acquisition is required for the UE and _ssb-
SubcarrierOffset_ indicates that _SIB1_ is not scheduled in the cell:
3> perform the actions as specified in clause 5.2.2.5.
NOTE: The UE in RRC_CONNECTED is only required to acquire broadcasted _SIB1_
if the UE can acquire it without disrupting unicast data reception, i.e. the
broadcast and unicast beams are quasi co-located.
##### 5.2.2.3.2 Acquisition of an SI message
For SI message acquisition PDCCH monitoring occasion(s) are determined
according to _searchSpaceOtherSystemInformation_. If
_searchSpaceOtherSystemInformation_ is set to zero, PDCCH monitoring occasions
for SI message reception in SI-window are same as PDCCH monitoring occasions
for _SIB1_ where the mapping between PDCCH monitoring occasions and SSBs is
specified in TS 38.213[13]. If _searchSpaceOtherSystemInformation_ is not set
to zero, PDCCH monitoring occasions for SI message are determined based on
search space indicated by _searchSpaceOtherSystemInformation_. PDCCH
monitoring occasions for SI message which are not overlapping with UL symbols
(determined according to _tdd-UL-DL-ConfigurationCommon_) are sequentially
numbered from one in the SI window. The [x×N+K]^th^ PDCCH monitoring occasion
(s) for SI message in SI-window corresponds to the K^th^ transmitted SSB,
where x = 0, 1, ...X-1, K = 1, 2, ...N, N is the number of actual transmitted
SSBs determined according to _ssb-PositionsInBurst_ in _SIB1_ and X is equal
to CEIL(number of PDCCH monitoring occasions in SI-window/N). The actual
transmitted SSBs are sequentially numbered from one in ascending order of
their SSB indexes. The UE assumes that, in the SI window, PDCCH for an SI
message is transmitted in at least one PDCCH monitoring occasion corresponding
to each transmitted SSB and thus the selection of SSB for the reception SI
messages is up to UE implementation.
When acquiring an SI message, the UE shall:
1> determine the start of the SI-window for the concerned SI message as
follows:
2> for the concerned SI message, determine the number _n_ which corresponds to
the order of entry in the list of SI messages configured by
_schedulingInfoList_ in _si-SchedulingInfo_ in _SIB1_ ;
2> determine the integer value _x = (n -- 1) × w_ , where _w_ is the _si-
WindowLength_ ;
2> the SI-window starts at the slot #_a_ , where _a_ = _x_ mod N, in the radio
frame for which SFN mod _T_ = FLOOR(_x_ /N), where _T_ is the _si-Periodicity_
of the concerned SI message and N is the number of slots in a radio frame as
specified in TS 38.213 [13];
1> receive the PDCCH containing the scheduling RNTI, i.e. SI-RNTI in the PDCCH
monitoring occasion(s) for SI message acquisition, from the start of the SI-
window and continue until the end of the SI-window whose absolute length in
time is given by _si-WindowLength_ , or until the SI message was received;
1> if the SI message was not received by the end of the SI-window, repeat
reception at the next SI-window occasion for the concerned SI message in the
current modification period;
NOTE 1: The UE is only required to acquire broadcasted SI message if the UE
can acquire it without disrupting unicast data reception, i.e. the broadcast
and unicast beams are quasi co-located.
NOTE 2: The UE is not required to monitor PDCCH monitoring occasion(s)
corresponding to each transmitted SSB in SI-window.
NOTE 3: If the concerned SI message was not received in the current
modification period, handling of SI message acquisition is left to UE
implementation.
1> perform the actions for the acquired SI message as specified in clause
5.2.2.4.
##### 5.2.2.3.3 Request for on demand system information
The UE shall:
1> if _SIB1_ includes _si-SchedulingInfo_ containing _si-RequestConfigSUL_ and
criteria to select supplementary uplink as defined in TS 38.321 [3], clause
5.1.1 is met:
2> trigger the lower layer to initiate the Random Access procedure on
supplementary uplink in accordance with [3] using the PRACH preamble(s) and
PRACH resource(s) in _si-RequestConfigSUL_ corresponding to the SI message(s)
that the UE requires to operate within the cell, and for which _si-
BroadcastStatus_ is set to _notBroadcasting_ ;
2> if acknowledgement for SI request is received from lower layers:
3> acquire the requested SI message(s) as defined in clause 5.2.2.3.2,
immediately;
1> else if _SIB1_ includes _si-SchedulingInfo_ containing _si-RequestConfig_
and criteria to select normal uplink as defined in TS 38.321 [3], clause 5.1.1
is met:
2> trigger the lower layer to initiate the random access procedure on normal
uplink in accordance with TS 38.321 [3] using the PRACH preamble(s) and PRACH
resource(s) in _si-RequestConfig_ corresponding to the SI message(s) that the
UE requires to operate within the cell, and for which _si-BroadcastStatus_ is
set to _notBroadcasting_ ;
2> if acknowledgement for SI request is received from lower layers:
3> acquire the requested SI message(s) as defined in clause 5.2.2.3.2,
immediately;
1> else:
2> apply the default L1 parameter values as specified in corresponding
physical layer specifications except for the parameters for which values are
provided in _SIB1_ ;
2> apply the default MAC Cell Group configuration as specified in 9.2.2;
2> apply the _timeAlignmentTimerCommon_ included in _SIB1_ ;
2> apply the CCCH configuration as specified in 9.1.1.2;
2> initiate transmission of the _RRCSystemInfoRequest_ message in accordance
with 5.2.2.3.4;
2> if acknowledgement for _RRCSystemInfoRequest_ message is received from
lower layers:
3> acquire the requested SI message(s) as defined in clause 5.2.2.3.2,
immediately;
1> if cell reselection occurs while waiting for the acknowledgment for SI
request from lower layers:
2> reset MAC;
2> if SI request is based on _RRCSystemInfoRequest_ message:
3> release RLC entity for SRB0.
NOTE: After RACH failure for SI request it is up to UE implementation when to
retry the SI request.
##### 5.2.2.3.4 Actions related to transmission of _RRCSystemInfoRequest_
message
The UE shall set the contents of _RRCSystemInfoRequest_ message as follows:
1> set the _requested-SI-List_ to indicate the SI message(s) that the UE
requires to operate within the cell, and for which _si-BroadcastStatus_ is set
to _notBroadcasting_.
The UE shall submit the _RRCSystemInfoRequest_ message to lower layers for
transmission.
#### 5.2.2.4 Actions upon receipt of System Information
##### 5.2.2.4.1 Actions upon reception of the _MIB_
Upon receiving the _MIB_ the UE shall:
1> store the acquired _MIB_ ;
1> if the UE is in RRC_IDLE or in RRC_INACTIVE, or if the UE is in
RRC_CONNECTED while _T311_ is running:
2> if the _cellBarred_ in the acquired _MIB_ is set to _barred_ :
3> consider the cell as barred in accordance with TS 38.304 [20];
3> if _intraFreqReselection_ is set to _notAllowed_ :
4> consider cell re-selection to other cells on the same frequency as the
barred cell as not allowed, as specified in TS 38.304 [20].
3> else:
4> consider cell re-selection to other cells on the same frequency as the
barred cell as allowed, as specified in TS 38.304 [20].
2> else:
3> apply the received _systemFrameNumber_ , _pdcch-ConfigSIB1_ ,
_subCarrierSpacingCommon_ , _ssb-SubcarrierOffset_ and _dmrs-TypeA-Position_.
##### 5.2.2.4.2 Actions upon reception of the _SIB1_
Upon receiving the _SIB1_ the UE shall:
1> store the acquired _SIB1_ ;
1> if the _cellAccessRelatedInfo_ contains an entry with the _PLMN-Identity_
of the selected PLMN:
2> in the remainder of the procedures use _plmn-IdentityList_ ,
_trackingAreaCode_ , and _cellIdentity_ for the cell as received in the
corresponding _PLMN-IdentityInfo_ containing the selected PLMN;
1> if in RRC_CONNECTED while T311 is not running:
2> disregard the _frequencyBandList_ , if received, while in RRC_CONNECTED;
2> forward the _cellIdentity_ to upper layers;
2> forward the _trackingAreaCode_ to upper layers;
2> apply the configuration included in the _servingCellConfigCommon_ ;
1> else:
2> if the UE supports one or more of the frequency bands indicated in the
_frequencyBandList_ for downlink for TDD, or one or more of the frequency
bands indicated in the _frequencyBandList_ for uplink for FDD, and they are
not downlink only bands, and
2> if the UE supports at least one _additionalSpectrumEmission_ in the _NR-NS-
PmaxList_ for a supported band in the downlink for TDD, or a supported band in
uplink for FDD, and
2> if the UE supports an uplink channel bandwidth with a maximum transmission
bandwidth configuration (see TS 38.101-1 [15] and TS 38.101-2 [39]) which
\- is smaller than or equal to the _carrierBandwidth_ (indicated in
_uplinkConfigCommon_ for the SCS of the initial uplink BWP), and which
\- is wider than or equal to the bandwidth of the initial uplink BWP, and
2> if the UE supports a downlink channel bandwidth with a maximum transmission
bandwidth configuration (see TS 38.101-1 [15] and TS 38.101-2 [39]) which
\- is smaller than or equal to the _carrierBandwidth_ (indicated in
_downlinkConfigCommon_ for the SCS of the initial downlink BWP), and which
\- is wider than or equal to the bandwidth of the initial downlink BWP:
3> if _trackingAreaCode_ is not provided for the selected PLMN nor the
registered PLMN nor PLMN of the equivalent PLMN list:
4> consider the cell as barred in accordance with TS 38.304 [20];
4> if _intraFreqReselection_ is set to notAllowed:
5> consider cell re-selection to other cells on the same frequency as the
barred cell as not allowed, as specified in TS 38.304 [20];
4> else:
5> consider cell re-selection to other cells on the same frequency as the
barred cell as allowed, as specified in TS 38.304 [20];
3> else:
4> apply a supported uplink channel bandwidth with a maximum transmission
bandwidth which
\- is contained within the _carrierBandwidth_ indicated in
_uplinkConfigCommon_ for the SCS of the initial uplink BWP, and which
\- is wider than or equal to the bandwidth of the initial BWP for the uplink;
4> apply a supported downlink channel bandwidth with a maximum transmission
bandwidth which
\- is contained within the _carrierBandwidth_ indicated in
_downlinkConfigCommon_ for the SCS of the initial downlink BWP, and which
\- is wider than or equal to the bandwidth of the initial BWP for the
downlink;
4> select the first frequency band in the _frequencyBandList_ , for FDD from
_frequencyBandList_ for uplink, or for TDD from _frequencyBandList_ for
downlink, which the UE supports and for which the UE supports at least one of
the _additionalSpectrumEmission_ values in _nr-NS-PmaxList_ , if present;
4> forward the _cellIdentity_ to upper layers;
4> forward the _trackingAreaCode_ to upper layers;
4> forward the PLMN identity to upper layers;
4> if in RRC_INACTIVE and the forwarded information does not trigger message
transmission by upper layers:
5> if the serving cell does not belong to the configured _ran-
NotificationAreaInfo_ :
6> initiate an RNA update as specified in 5.3.13.8;
4> forward the _ims-EmergencySupport_ to upper layers, if present;
4> forward the _uac-AccessCategory1-SelectionAssistanceInfo_ to upper layers,
if present;
4> apply the configuration included in the _servingCellConfigCommon_ ;
4> apply the specified PCCH configuration defined in 9.1.1.3;
4> if the UE has a stored valid version of a SIB, in accordance with clause
5.2.2.2.1, that the UE requires to operate within the cell in accordance with
clause 5.2.2.1:
5> use the stored version of the required SIB;
4> if the UE has not stored a valid version of a SIB, in accordance with
clause 5.2.2.2.1, of one or several required SIB(s), in accordance with clause
5.2.2.1:
5> for the SI message(s) that, according to the _si-SchedulingInfo_ , contain
at least one required SIB and for which _si-BroadcastStatus_ is set to
broadcasting:
6> acquire the SI message(s) as defined in clause 5.2.2.3.2;
5> for the SI message(s) that, according to the _si-SchedulingInfo_ , contain
at least one required SIB and for which _si-BroadcastStatus_ is set to
_notBroadcasting_ :
6> trigger a request to acquire the SI message(s) as defined in clause
5.2.2.3.3;
4> apply the first listed _additionalSpectrumEmission_ which it supports among
the values included in _NR-NS-PmaxList_ within _frequencyBandList_ in
_uplinkConfigCommon_ for FDD or in _downlinkConfigCommon_ for TDD;
4> if the _additionalPmax_ is present in the same entry of the selected
_additionalSpectrumEmission_ within _NR-NS-PmaxList_ :
5> apply the _additionalPmax_ for UL;
4> else:
5> apply the _p-Max_ in _uplinkConfigCommon_ for UL;
4> if _supplementaryUplink_ is present in _servingCellConfigCommon_ ; and
4> if the UE supports one or more of the frequency bands indicated in the
_frequencyBandList_ for the _supplementaryUplink_ ; and
4> if the UE supports at least one _additionalSpectrumEmission_ in the _NR-NS-
PmaxList_ for a supported supplementary uplink band; and
4> if the UE supports an uplink channel bandwidth with a maximum transmission
bandwith configuration (see TS 38.101-1 [15] and TS 38.101-2 [39]) which
\- is smaller than or equal to the _carrierBandwidth_ (indicated in
_supplementaryUplink_ for the SCS of the initial uplink BWP), and which
\- is wider than or equal to the bandwidth of the initial uplink BWP of the
SUL:
5> consider supplementary uplink as configured in the serving cell;
5> select the first frequency band in the _frequencyBandList_ for the
_supplementaryUplink_ which the UE supports and for which the UE supports at
least one of the _additionalSpectrumEmission_ values in _nr-NS-PmaxList_ , if
present;
5> apply a supported supplementary uplink channel bandwidth with a maximum
transmission bandwidth which
\- is contained within the _carrierBandwidth_ (indicated in
_supplementaryUplink_ for the SCS of the initial uplink BWP), and which
\- is wider than or equal to the bandwidth of the initial BWP of the SUL;
5> apply the first listed _additionalSpectrumEmission_ which it supports among
the values included in _NR-NS-PmaxList_ within _frequencyBandList_ for the
_supplementaryUplink_ ;
5> if the _additionalPmax_ is present in the same entry of the selected
_additionalSpectrumEmission_ within _NR-NS-PmaxList_ for the
_supplementaryUplink_ :
6> apply the _additionalPmax_ in _supplementaryUplink_ for SUL;
5> else:
6> apply the _p-Max_ in _supplementaryUplink_ for SUL;
2> else:
3> consider the cell as barred in accordance with TS 38.304 [20]; and
3> perform barring as if _intraFreqReselection_ is set to _notAllowed_ ;
##### 5.2.2.4.3 Actions upon reception of _SIB2_
Upon receiving _SIB2_ , the UE shall:
1> if in RRC_IDLE or in RRC_INACTIVE or in RRC_CONNECTED while T311 is
running:
2> if, for the entry in _frequencyBandList_ with the same index as the
frequency band selected in clause 5.2.2.4.2, the UE supports at least one
_additionalSpectrumEmission_ in the _NR-NS-PmaxList_ within the
_frequencyBandList_ :
3> apply the first listed _additionalSpectrumEmission_ which it supports among
the values included in _NR-NS-PmaxList_ within _frequencyBandList_ ;
3> if the _additionalPmax_ is present in the same entry of the selected
_additionalSpectrumEmission_ within _NR-NS-PmaxList_ :
4> apply the _additionalPmax_ ;
3> else:
4> apply the _p-Max_ ;
3> if the UE selects a frequency band (from the procedure in clause 5.2.2.4.2)
for the supplementary uplink:
4> if, for the entry in _frequencyBandListSUL_ with the same index as the
frequency band selected in clause 5.2.2.4.2, the UE supports at least one
_additionalSpectrumEmission_ in the _NR-NS-PmaxList_ within the
_frequencyBandListSUL_ :
5> apply the first listed _additionalSpectrumEmission_ which it supports among
the values included in _NR-NS-PmaxList_ within _frequencyBandListSUL_ ;
5> if the _additionalPmax_ is present in the same entry of the selected
_additionalSpectrumEmission_ within _NR-NS-PmaxList_ :
6> apply the _additionalPmax_ ;
5> else:
6> apply the _p-Max_ ;
4> else:
5> apply the _p-Max._
2> else:
3> apply the _p-Max_ ;
##### 5.2.2.4.4 Actions upon reception of _SIB3_
No UE requirements related to the contents of this _SIB3_ apply other than
those specified elsewhere e.g. within procedures using the concerned system
information, and/ or within the corresponding field descriptions.
##### 5.2.2.4.5 Actions upon reception of _SIB4_
Upon receiving _SIB4_ the UE shall:
1> if in RRC_IDLE, or in RRC_INACTIVE or in RRC_CONNECTED while T311 is
running:
2> for each entry in the _interFreqCarrierFreqList_ :
3> select the first frequency band in the _frequencyBandList_ , and
_frequencyBandListSUL_ , if present, which the UE supports and for which the
UE supports at least one of the _additionalSpectrumEmission_ values in _NR-NS-
PmaxList_ , if present:
3> if, the frequency band selected by the UE in _frequencyBandList_ to
represent a non-serving NR carrier frequency is not a downlink only band:
4> if, for the selected frequency band, the UE supports at least one
_additionalSpectrumEmission_ in the _NR-NS-PmaxList_ within the
_frequencyBandList_ :
5> apply the first listed _additionalSpectrumEmission_ which it supports among
the values included in _NR-NS-PmaxList_ within _frequencyBandList_ ;
5> if the _additionalPmax_ is present in the same entry of the selected
_additionalSpectrumEmission_ within _NR-NS-PmaxList_ :
6> apply the _additionalPmax_ ;
5> else:
6> apply the _p-Max_ ;
5> if _frequencyBandListSUL is present in SIB4_ and, for the frequency band
selected in _frequencyBandListSUL_ , the UE supports at least one
_additionalSpectrumEmission_ in the _NR-NS-PmaxList_ within
_FrequencyBandListSUL_ :
6> apply the first listed _additionalSpectrumEmission_ which it supports among
the values inlcuded in _NR-NS-PmaxList_ within _frequencyBandListSUL_ ;
6> if the _additionalPmax_ is present in the same entry of the selected
_additionalSpectrumEmission_ within _NR-NS-PmaxList_ :
7> apply the _additionalPmax_ ;
6> else:
7> apply the _p-Max_ ;
5> else:
6> apply the _p-Max_ ;
4> else:
5> apply the _p-Max_ ;
##### 5.2.2.4.6 Actions upon reception of _SIB5_
No UE requirements related to the contents of this _SIB5_ apply other than
those specified elsewhere e.g. within procedures using the concerned system
information, and/ or within the corresponding field descriptions.
##### 5.2.2.4.7 Actions upon reception of _SIB6_
Upon receiving the _SIB6_ the UE shall:
1> forward the received _warningType_ , _messageIdentifier_ and _serialNumber_
to upper layers;
##### 5.2.2.4.8 Actions upon reception of _SIB7_
Upon receiving the _SIB7_ the UE shall:
1> if there is no current value for _messageIdentifier_ and _serialNumber_ for
_SIB7_ ; or
1> if either the received value of _messageIdentifier_ or of s _erialNumber,_
or of both _messageIdentifier_ and s _erialNumber_ are different from the
current values of _messageIdentifier_ and _serialNumber_ for _SIB7_ :
2> use the received values of _messageIdentifier_ and _serialNumber_ for
_SIB7_ as the current values of _messageIdentifier_ and _serialNumber_ for
_SIB7_ ;
2> discard any previously buffered _warningMessageSegment_ ;
2> if all segments of a warning message have been received:
3> assemble the warning message from the received _warningMessageSegment(s)_ ;
3> forward the received warning message, _messageIdentifier_ , _serialNumber_
and _dataCodingScheme_ to upper layers;
3> stop reception of _SIB7_ ;
3> discard the current values of _messageIdentifier_ and _serialNumber_ for
_SIB7_ ;
2> else:
3> store the received _warningMessageSegment_ ;
3> continue reception of _SIB7_ ;
1> else if all segments of a warning message have been received:
2> assemble the warning message from the received _warningMessageSegment(s)_ ;
2> forward the received complete warning message, _messageIdentifier_ ,
_serialNumber_ and _dataCodingScheme_ to upper layers;
2> stop reception of _SIB7_ ;
2> discard the current values of _messageIdentifier_ and _serialNumber_ for
_SIB7_ ;
1> else:
2> store the received _warningMessageSegment_ ;
2> continue reception of _SIB7_ ;
The UE should discard any stored _warningMessageSegment_ and the current value
of _messageIdentifier_ and _serialNumber_ for _SIB7_ if the complete warning
message has not been assembled within a period of 3 hours.
##### 5.2.2.4.9 Actions upon reception of _SIB8_
Upon receiving the _SIB8_ the UE shall:
1> if the _SIB8_ contains a complete warning message and the complete
geographical area coordinates (if any):
2> forward the received warning message, _messageIdentifier_ , _serialNumber_
, _dataCodingScheme_ and the geographical area coordinates (if any) to upper
layers;
2> continue reception of _SIB8_ ;
1> else:
2> if the received values of _messageIdentifier_ and _serialNumber_ are the
same (each value is the same) as a pair for which a warning message and the
geographical area coordinates (if any) are currently being assembled:
3> store the received _warningMessageSegment_ ;
3> store the received _warningAreaCoordinatesSegment_ (if any);
3> if all segments of a warning message and geographical area coordinates (if
any) have been received:
4> assemble the warning message from the received _warningMessageSegment_ ;
4> assemble the geographical area coordinates from the received
_warningAreaCoordinatesSegment_ (if any);
4> forward the received warning message, _messageIdentifier_ , _serialNumber_
, _dataCodingScheme_ and geographical area coordinates (if any) to upper
layers;
4> stop assembling a warning message and geographical area coordinates (if
any) for this _messageIdentifier_ and _serialNumber_ and delete all stored
information held for it;
3> continue reception of _SIB8_ ;
2> else if the received values of _messageIdentifier_ and/or _serialNumber_
are not the same as any of the pairs for which a warning message is currently
being assembled:
3> start assembling a warning message for this _messageIdentifier_ and
_serialNumber_ pair;
3> start assembling the geographical area coordinates (if any) for this
_messageIdentifier_ and _serialNumber_ pair;
3> store the received _warningMessageSegment_ ;
3> store the received _warningAreaCoordinatesSegment_ (if any);
3> continue reception of _SIB8_ ;
The UE should discard _warningMessageSegment_ and
_warningAreaCoordinatesSegment_ (if any) and the associated values of
_messageIdentifier_ and _serialNumber_ for _SIB8_ if the complete warning
message and the geographical area coordinates (if any) have not been assembled
within a period of 3 hours.
NOTE: The number of warning messages that a UE can re-assemble simultaneously
is a function of UE implementation.
##### 5.2.2.4.10 Actions upon reception of _SIB9_
No UE requirements related to the contents of this _SIB9_ apply other than
those specified elsewhere e.g. within procedures using the concerned system
information, and/ or within the corresponding field descriptions.
#### 5.2.2.5 Essential system information missing
The UE shall:
1> if in RRC_IDLE or in RRC_INACTIVE or in RRC_CONNECTED while T311 is
running:
2> if the UE is unable to acquire the _MIB_ :
3> consider the cell as barred in accordance with TS 38.304 [20]; and
3> perform barring as if _intraFreqReselection_ is set to allowed;
2> else if the UE is unable to acquire the _SIB1_ :
3> consider the cell as barred in accordance with TS 38.304 [20].
3> if _intraFreqReselection_ in _MIB_ is set to _notAllowed_ :
4> consider cell re-selection to other cells on the same frequency as the
barred cell as not allowed, as specified in TS 38.304 [20].
3> else:
4> consider cell re-selection to other cells on the same frequency as the
barred cell as allowed, as specified in TS 38.304 [20].
## 5.3 Connection control
### 5.3.1 Introduction
#### 5.3.1.1 RRC connection control
RRC connection establishment involves the establishment of SRB1. The network
completes RRC connection establishment prior to completing the establishment
of the NG connection, i.e. prior to receiving the UE context information from
the 5GC. Consequently, AS security is not activated during the initial phase
of the RRC connection. During this initial phase of the RRC connection, the
network may configure the UE to perform measurement reporting, but the UE only
sends the corresponding measurement reports after successful AS security
activation. However, the UE only accepts a re-configuration with sync message
when AS security has been activated.
Upon receiving the UE context from the 5GC, the RAN activates AS security
(both ciphering and integrity protection) using the initial AS security
activation procedure. The RRC messages to activate AS security (command and
successful response) are integrity protected, while ciphering is started only
after completion of the procedure. That is, the response to the message used
to activate AS security is not ciphered, while the subsequent messages (e.g.
used to establish SRB2 and DRBs) are both integrity protected and ciphered.
After having initiated the initial AS security activation procedure, the
network may initiate the establishment of SRB2 and DRBs, i.e. the network may
do this prior to receiving the confirmation of the initial AS security
activation from the UE. In any case, the network will apply both ciphering and
integrity protection for the RRC reconfiguration messages used to establish
SRB2 and DRBs. The network should release the RRC connection if the initial AS
security activation and/ or the radio bearer establishment fails. A
configuration with SRB2 without DRB or with DRB without SRB2 is not supported
(i.e., SRB2 and at least one DRB must be configured in the same RRC
Reconfiguration message, and it is not allowed to release all the DRBs without
releasing the RRC Connection).
The release of the RRC connection normally is initiated by the network. The
procedure may be used to re-direct the UE to an NR frequency or an E-UTRA
carrier frequency.
The suspension of the RRC connection is initiated by the network. When the RRC
connection is suspended, the UE stores the UE Inactive AS context and any
configuration received from the network, and transits to RRC_INACTIVE state.
If the UE is configured with SCG, the UE releases the SCG configuration upon
initiating a RRC Connection Resume procedure. The RRC message to suspend the
RRC connection is integrity protected and ciphered.
The resumption of a suspended RRC connection is initiated by upper layers when
the UE needs to transit from RRC_INACTIVE state to RRC_CONNECTED state or by
RRC layer to perform a RNA update or by RAN paging from NG-RAN. When the RRC
connection is resumed, network configures the UE according to the RRC
connection resume procedure based on the stored UE Inactive AS context and any
RRC configuration received from the network. The RRC connection resume
procedure re-activates AS security and re-establishes SRB(s) and DRB(s).
In response to a request to resume the RRC connection, the network may resume
the suspended RRC connection and send UE to RRC_CONNECTED, or reject the
request to resume and send UE to RRC_INACTIVE (with a wait timer), or directly
re-suspend the RRC connection and send UE to RRC_INACTIVE, or directly release
the RRC connection and send UE to RRC_IDLE, or instruct the UE to initiate NAS
level recovery (in this case the network sends an RRC setup message).
#### 5.3.1.2 AS Security
AS security comprises of the integrity protection and ciphering of RRC
signalling (SRBs) and user data (DRBs).
RRC handles the configuration of the AS security parameters which are part of
the AS configuration: the integrity protection algorithm, the ciphering
algorithm, if integrity protection and/or ciphering is enabled for a DRB and
two parameters, namely the _keySetChangeIndicator_ and the
_nextHopChainingCount_ , which are used by the UE to determine the AS security
keys upon reconfiguration with sync (with key change), connection re-
establishment and/or connection resume.
The integrity protection algorithm is common for SRB1, SRB2, SRB3 (if
configured) and DRBs configured with integrity protection, with the same
_keyToUse_ value. The ciphering algorithm is common for SRB1, SRB2, SRB3 (if
configured) and DRBs configured with the same _keyToUse_ value. For MR-DC,
integrity protection is not enabled for DRBs terminated in eNB. Neither
integrity protection nor ciphering applies for SRB0.
NOTE 0: All DRBs related to the same PDU session have the same enable/disable
setting for ciphering and the same enable/disable setting for integrity
protection, as specified in TS 33.501 [11].
RRC integrity protection and ciphering are always activated together, i.e. in
one message/procedure. RRC integrity protection and ciphering for SRBs are
never de-activated. However, it is possible to switch to a \'_NULL_ \'
ciphering algorithm (_nea0_).
The \'_NULL_ \' integrity protection algorithm (_nia0_) is used only for SRBs
and for the UE in limited service mode, see TS 33.501 [11] and when used for
SRBs, integrity protection is disabled for DRBs. In case the ′ _NULL_ \'
integrity protection algorithm is used, \'_NULL_ \' ciphering algorithm is
also used.
NOTE 1: Lower layers discard RRC messages for which the integrity protection
check has failed and indicate the integrity protection verification check
failure to RRC.
The AS applies four different security keys: one for the integrity protection
of RRC signalling (K~RRCint~), one for the ciphering of RRC signalling
(K~RRCenc~), one for integrity protection of user data (K~UPint~) and one for
the ciphering of user data (K~UPenc~). All four AS keys are derived from the
K~gNB~ key. The K~gNB~ key is based on the K~AMF~ key (as specified in TS
33.501 [11]), which is handled by upper layers.
The integrity protection and ciphering algorithms can only be changed with
reconfiguration with sync. The AS keys (K~gNB~, K~RRCint~, K~RRCenc~, K~UPint~
and K~UPenc~) change upon reconfiguration with sync (if _masterKeyUpdate_ is
included), and upon connection re-establishment and connection resume.
For each radio bearer an independent counter (_COUNT_ , as specified in TS
38.323 [5]) is maintained for each direction. For each radio bearer, the
_COUNT_ is used as input for ciphering and integrity protection.
It is not allowed to use the same _COUNT_ value more than once for a given
security key. As specified in TS 33.501 [11], clause 6.9.4.1, the network is
responsible for avoiding reuse of the _COUNT_ with the same RB identity and
with the same key, e.g. due to the transfer of large volumes of data, release
and establishment of new RBs, and multiple termination point changes for RLC-
UM bearers and multiple termination point changes for RLC-AM bearer with SN
terminated PDCP re-establishment (COUNT reset) due to SN only full
configuration whilst the key stream inputs (i.e. bearer ID, security key) at
MN have not been updated. In order to avoid such re-use, the network may e.g.
use different RB identities for RB establishments, change the AS security key,
or an RRC_CONNECTED to RRC_IDLE/RRC_INACTIVE and then to RRC_CONNECTED
transition.
In order to limit the signalling overhead, individual messages/ packets
include a short sequence number (PDCP SN, as specified in TS 38.323 [5]). In
addition, an overflow counter mechanism is used: the hyper frame number (_HFN_
, as specified in TS 38.323 [5]). The HFN needs to be synchronized between the
UE and the network.
For each SRB, the value provided by RRC to lower layers to derive the 5-bit
BEARER parameter used as input for ciphering and for integrity protection is
the value of the corresponding _srb-Identity_ with the MSBs padded with
zeroes.
For a UE provided with an _sk-counter_ , _keyToUse_ indicates whether the UE
uses the master key (K~gNB~) or the secondary key (S-K~eNB~ or S-K~gNB~) for a
particular DRB. The secondary key is derived from the master key and _sk-
Counter_ , as defined in TS 33.501[11]. Whenever there is a need to refresh
the secondary key, e.g. upon change of MN with K~gNB~ change or to avoid COUNT
reuse, the security key update is used (see 5.3.5.7). When the UE is in NR-DC,
the network may provide a UE configured with an SCG with an _sk-Counter_ even
when no DRB is setup using the secondary key (S-K~gNB~) in order to allow the
configuration of SRB3. The network can also provide the UE with an _sk-
Counter_ , even if no SCG is configured, when using SN terminated MCG bearers.
### 5.3.2 Paging
#### 5.3.2.1 General
Figure 5.3.2.1-1: Paging
The purpose of this procedure is:
\- to transmit paging information to a UE in RRC_IDLE or RRC_INACTIVE.
#### 5.3.2.2 Initiation
The network initiates the paging procedure by transmitting the _Paging_
message at the UE\'s paging occasion as specified in TS 38.304 [20]. The
network may address multiple UEs within a _Paging_ message by including one
_PagingRecord_ for each UE.
#### 5.3.2.3 Reception of the _Paging_ _message_ by the UE
Upon receiving the _Paging_ message, the UE shall:
1> if in RRC_IDLE, for each of the _PagingRecord_ , if any, included in the
_Paging_ message:
2> if the _ue-Identity_ included in the _PagingRecord_ matches the UE identity
allocated by upper layers:
3> forward the _ue-Identity_ and _accessType_ (if present) to the upper
layers;
1> if in RRC_INACTIVE, for each of the _PagingRecord_ , if any, included in
the _Paging_ message:
2> if the _ue-Identity_ included in the _PagingRecord_ matches the UE\'s
stored _fullI-RNTI_ :
3> if the UE is configured by upper layers with Access Identity 1:
4> initiate the RRC connection resumption procedure according to 5.3.13 with
_resumeCause_ set to _mps-PriorityAccess_ ;
3> else if the UE is configured by upper layers with Access Identity 2:
4> initiate the RRC connection resumption procedure according to 5.3.13 with
_resumeCause_ set to _mcs-PriorityAccess_ ;
3> else if the UE is configured by upper layers with one or more Access
Identities equal to 11-15:
4> initiate the RRC connection resumption procedure according to 5.3.13 with
_resumeCause_ set to _highPriorityAccess_ ;
3> else:
4> initiate the RRC connection resumption procedure according to 5.3.13 with
_resumeCause_ set to _mt-Access_ ;
2> else if the _ue-Identity_ included in the _PagingRecord_ matches the UE
identity allocated by upper layers:
3> forward the _ue-Identity_ to upper layers and _accessType_ (if present) to
the upper layers;
3> perform the actions upon going to RRC_IDLE as specified in 5.3.11 with
release cause \'other\'.
### 5.3.3 RRC connection establishment
#### 5.3.3.1 General
Figure 5.3.3.1-1: RRC connection establishment, successful
Figure 5.3.3.1-2: RRC connection establishment, network reject
The purpose of this procedure is to establish an RRC connection. RRC
connection establishment involves SRB1 establishment. The procedure is also
used to transfer the initial NAS dedicated information/ message from the UE to
the network.
The network applies the procedure e.g.as follows:
\- When establishing an RRC connection;
\- When UE is resuming or re-establishing an RRC connection, and the network
is not able to retrieve or verify the UE context. In this case, UE receives
_RRCSetup_ and responds with _RRCSetupComplete_.
#### 5.3.3.2 Initiation
The UE initiates the procedure when upper layers request establishment of an
RRC connection while the UE is in RRC_IDLE and it has acquired essential
system information.
The UE shall ensure having valid and up to date essential system information
as specified in clause 5.2.2.2 before initiating this procedure.
Upon initiation of the procedure, the UE shall:
1> if the upper layers provide an Access Category and one or more Access
Identities upon requesting establishment of an RRC connection:
2> perform the unified access control procedure as specified in 5.3.14 using
the Access Category and Access Identities provided by upper layers;
3> if the access attempt is barred, the procedure ends;
1> apply the default L1 parameter values as specified in corresponding
physical layer specifications except for the parameters for which values are
provided in _SIB1_ ;
1> apply the default MAC Cell Group configuration as specified in 9.2.2;
1> apply the CCCH configuration as specified in 9.1.1.2;
1> apply the _timeAlignmentTimerCommon_ included in _SIB1_ ;
1> start timer T300;
1> initiate transmission of the _RRCSetupRequest_ message in accordance with
5.3.3.3;
#### 5.3.3.3 Actions related to transmission of _RRCSetupRequest_ message
The UE shall set the contents of _RRCSetupRequest_ message as follows:
1> set the _ue-Identity_ as follows:
2> if upper layers provide a 5G-S-TMSI:
3> set the _ue-Identity_ to _ng-5G-S-TMSI-Part1_ ;
2> else:
3> draw a 39-bit random value in the range 0..2^39^-1 and set the _ue-
Identity_ to this value;
NOTE 1: Upper layers provide the _5G-S-TMSI_ if the UE is registered in the TA
of the current cell.
1> set the _establishmentCause_ in accordance with the information received
from upper layers;
The UE shall submit the _RRCSetupRequest_ message to lower layers for
transmission.
The UE shall continue cell re-selection related measurements as well as cell
re-selection evaluation. If the conditions for cell re-selection are
fulfilled, the UE shall perform cell re-selection as specified in 5.3.3.6.
#### 5.3.3.4 Reception of the _RRCSetup_ by the UE
The UE shall perform the following actions upon reception of the _RRCSetup_ :
1> if the _RRCSetup_ is received in response to an _RRCReestablishmentRequest_
; or
1> if the _RRCSetup_ is received in response to an _RRCResumeRequest_ or
_RRCResumeRequest1_ :
2> discard any stored UE Inactive AS context and _suspendConfig_ ;
2> discard any current AS security context including the K~RRCenc~ key, the
K~RRCint~ key, the K~UPint~ key and the K~UPenc~ key;
2> release radio resources for all established RBs except SRB0, including
release of the RLC entities, of the associated PDCP entities and of SDAP;
2> release the RRC configuration except for the default L1 parameter values,
default MAC Cell Group configuration and CCCH configuration;
2> indicate to upper layers fallback of the RRC connection;
2> stop timer T380, if running;
1> perform the cell group configuration procedure in accordance with the
received _masterCellGroup_ and as specified in 5.3.5.5;
1> perform the radio bearer configuration procedure in accordance with the
received _radioBearerConfig_ and as specified in 5.3.5.6;
1> if stored, discard the cell reselection priority information provided by
the _cellReselectionPriorities_ or inherited from another RAT;
1> stop timer T300, T301 or T319 if running;
1> if T390 is running:
2> stop timer T390 for all access categories;
2> perform the actions as specified in 5.3.14.4;
1> if T302 is running:
2> stop timer T302;
2> perform the actions as specified in 5.3.14.4;
1> stop timer T320, if running;
1> if the _RRCSetup_ is received in response to an _RRCResumeRequest_ ,
_RRCResumeRequest1_ or _RRCSetupRequest_ :
2> enter RRC_CONNECTED;
2> stop the cell re-selection procedure;
1> consider the current cell to be the PCell;
1> set the content of _RRCSetupComplete_ message as follows:
2> if upper layers provide a 5G-S-TMSI:
3> if the _RRCSetup_ is received in response to an _RRCSetupRequest_ :
4> set the _ng-5G-S-TMSI-Value_ to _ng-5G-S-TMSI-Part2_ ;
3> else:
4> set the _ng-5G-S-TMSI-Value_ to _ng-5G-S-TMSI_ ;
2> set the _selectedPLMN-Identity_ to the PLMN selected by upper layers (TS
24.501 [23]) from the PLMN(s) included in the _plmn-IdentityInfoList_ in
_SIB1_ ;
2> if upper layers provide the \'Registered AMF\':
3> include and set the _registeredAMF_ as follows:
4> if the PLMN identity of the \'Registered AMF\' is different from the PLMN
selected by the upper layers:
5> include the _plmnIdentity_ in the _registeredAMF_ and set it to the value
of the PLMN identity in the \'Registered AMF\' received from upper layers;
4> set the _amf-Identifier_ to the value received from upper layers;
3> include and set the _guami-Type_ to the value provided by the upper layers;
2> if upper layers provide one or more S-NSSAI (see TS 23.003 [21]):
3> include the _s-NSSAI-List_ and set the content to the values provided by
the upper layers;
2> set the _dedicatedNAS-Message_ to include the information received from
upper layers;
1> submit the _RRCSetupComplete_ message to lower layers for transmission,
upon which the procedure ends.
#### 5.3.3.5 Reception of the _RRCReject_ by the UE
The UE shall:
1> perform the actions as specified in 5.3.15;
#### 5.3.3.6 Cell re-selection or cell selection while T390, T300 or T302 is
running (UE in RRC_IDLE)
The UE shall:
1> if cell reselection occurs while T300 or T302 is running:
2> perform the actions upon going to RRC_IDLE as specified in 5.3.11 with
release cause \'RRC connection failure\';
1> else if cell selection or reselection occurs while T390 is running:
2> stop T390 for all access categories;
2> perform the actions as specified in 5.3.14.4.
#### 5.3.3.7 T300 expiry
The UE shall:
1> if timer T300 expires:
2> reset MAC, release the MAC configuration and re-establish RLC for all RBs
that are established;
2> if the UE supports RRC Connection Establishment failure with temporary
offset and the T300 has expired a consecutive _connEstFailCount_ times on the
same cell for which _connEstFailureControl_ is included in _SIB1_ :
3> for a period as indicated by _connEstFailOffsetValidity_ :
4> use _connEstFailOffset_ for the parameter _Qoffsettemp_ for the concerned
cell when performing cell selection and reselection according to TS 38.304
[20] and TS 36.304 [27];
NOTE: When performing cell selection, if no suitable or acceptable cell can be
found, it is up to UE implementation whether to stop using _connEstFailOffset_
for the parameter _Qoffsettemp_ during _connEstFailOffsetValidity_ for the
concerned cell.
2> inform upper layers about the failure to establish the RRC connection, upon
which the procedure ends;
#### 5.3.3.8 Abortion of RRC connection establishment
If upper layers abort the RRC connection establishment procedure, due to a NAS
procedure being aborted as specified in TS 24.501 [23], while the UE has not
yet entered RRC_CONNECTED, the UE shall:
1> stop timer T300, if running;
1> reset MAC, release the MAC configuration and re-establish RLC for all RBs
that are established.
### 5.3.4 Initial AS security activation
#### 5.3.4.1 General
Figure 5.3.4.1-1: Security mode command, successful
Figure 5.3.4.1-2: Security mode command, failure
The purpose of this procedure is to activate AS security upon RRC connection
establishment.
#### 5.3.4.2 Initiation
The network initiates the security mode command procedure to a UE in
RRC_CONNECTED. Moreover, the network applies the procedure as follows:
\- when only SRB1 is established, i.e. prior to establishment of SRB2 and/ or
DRBs.
#### 5.3.4.3 Reception of the _SecurityModeCommand_ by the UE
The UE shall:
1> derive the K~gNB~ key, as specified in TS 33.501 [11];
1> derive the K~RRCint~ key associated with the _integrityProtAlgorithm_
indicated in the _SecurityModeCommand_ message, as specified in TS 33.501
[11];
1> request lower layers to verify the integrity protection of the
_SecurityModeCommand_ message, using the algorithm indicated by the
_integrityProtAlgorithm_ as included in the _SecurityModeCommand_ message and
the K~RRCint~ key;
1> if the _SecurityModeCommand_ message passes the integrity protection check:
2> derive the K~RRCenc~ key and the K~UPenc~ key associated with the
_cipheringAlgorithm_ indicated in the _SecurityModeCommand_ message, as
specified in TS 33.501 [11];
2> derive the K~UPint~ key associated with the _integrityProtAlgorithm_
indicated in the _SecurityModeCommand_ message, as specified in TS 33.501
[11];
2> configure lower layers to apply SRB integrity protection using the
indicated algorithm and the K~RRCint~ key immediately, i.e. integrity
protection shall be applied to all subsequent messages received and sent by
the UE, including the _SecurityModeComplete_ message;
2> configure lower layers to apply SRB ciphering using the indicated
algorithm, the K~RRCenc~ keyafter completing the procedure, i.e. ciphering
shall be applied to all subsequent messages received and sent by the UE,
except for the _SecurityModeComplete_ message which is sent unciphered;
2> consider AS security to be activated;
2> submit the _SecurityModeComplete_ message to lower layers for transmission,
upon which the procedure ends;
1> else:
2> continue using the configuration used prior to the reception of the
_SecurityModeCommand_ message, i.e. neither apply integrity protection nor
ciphering.
2> submit the _SecurityModeFailure_ message to lower layers for transmission,
upon which the procedure ends.
### 5.3.5 RRC reconfiguration
#### 5.3.5.1 General
Figure 5.3.5.1-1: RRC reconfiguration, successful
Figure 5.3.5.1-2: RRC reconfiguration, failure
The purpose of this procedure is to modify an RRC connection, e.g. to
establish/modify/release RBs, to perform reconfiguration with sync, to
setup/modify/release measurements, to add/modify/release SCells and cell
groups. As part of the procedure, NAS dedicated information may be transferred
from the Network to the UE.
RRC reconfiguration to perform reconfiguration with sync includes, but is not
limited to, the following cases:
\- reconfiguration with sync and security key refresh, involving RA to the
PCell/PSCell, MAC reset, refresh of security and re-establishment of RLC and
PDCP triggered by explicit indicators;
\- reconfiguration with sync but without security key refresh, involving RA to
the PCell/PSCell, MAC reset and RLC re-establishment and PDCP data recovery
(for AM DRB) triggered by explicit indicators.
In (NG)EN-DC and NR-DC, SRB3 can be used for measurement configuration and
reporting, to (re-)configure MAC, RLC, physical layer and RLF timers and
constants of the SCG configuration, and to reconfigure PDCP for DRBs
associated with the S-K~gNB~ or SRB3, and to reconfigure SDAP for DRBs
associated with S-K~gNB~ in NGEN-DC and NR-DC, provided that the
(re-)configuration does not require any MN involvement. In (NG)EN-DC and NR-
DC, only _measConfig_ , _radioBearerConfig_ and/or _secondaryCellGroup_ are
included in _RRCReconfiguration_ received via SRB3.
#### 5.3.5.2 Initiation
The Network may initiate the RRC reconfiguration procedure to a UE in
RRC_CONNECTED. The Network applies the procedure as follows:
\- the establishment of RBs (other than SRB1, that is established during RRC
connection establishment) is performed only when AS security has been
activated;
\- the addition of Secondary Cell Group and SCells is performed only when AS
security has been activated;
\- the _reconfigurationWithSync_ is included in _secondaryCellGroup_ only when
at least one RLC bearer is setup in SCG;
\- the _reconfigurationWithSync_ is included in _masterCellGroup_ only when AS
security has been activated, and SRB2 with at least one DRB are setup and not
suspended.
#### 5.3.5.3 Reception of an _RRCReconfiguration_ by the UE
The UE shall perform the following actions upon reception of the
_RRCReconfiguration_ :
1> if the _RRCReconfiguration_ is received via other RAT (i.e., inter-RAT
handover to NR):
2> if the _RRCReconfiguration_ does not include the _fullConfig_ and the UE is
connected to 5GC (i.e., delta signalling during intra 5GC handover):
3> re-use the source RAT SDAP and PDCP configurations if available (i.e.,
current SDAP/PDCP configurations for all RBs from source E-UTRA RAT prior to
the reception of the inter-RAT HO _RRCReconfiguration_ message);
1> else:
2> if the RRCReconfiguration includes the fullConfig:
3> perform the full configuration procedure as specified in 5.3.5.11;
1> if the _RRCReconfiguration_ includes the _masterCellGroup_ :
2> perform the cell group configuration for the received _masterCellGroup_
according to 5.3.5.5;
1> if the _RRCReconfiguration_ includes the _masterKeyUpdate_ :
2> perform AS security key update procedure as specified in 5.3.5.7;
1> if the _RRCReconfiguration_ includes the _sk-Counter_ :
2> perform security key update procedure as specified in 5.3.5.7;
1> if the _RRCReconfiguration_ includes the _secondaryCellGroup_ :
2> perform the cell group configuration for the SCG according to 5.3.5.5;
1> if the _RRCReconfiguration_ includes the _mrdc-SecondaryCellGroupConfig:_
2> if the _mrdc-SecondaryCellGroupConfig_ is set to _setup_ :
3> if the _mrdc-SecondaryCellGroupConfig_ includes _mrdc-ReleaseAndAdd_ :
4> perform MR-DC release as specified in clause 5.3.5.10;
3> if the received _mrdc-SecondaryCellGroup_ is set to _nr-SCG_ :
4> perform the RRC reconfiguration according to 5.3.5.3 for the
_RRCReconfiguration_ message included in _nr-SCG_ ;
3> if the received _mrdc-SecondaryCellGroup_ is set to _eutra-SCG_ :
4> perform the RRC connection reconfiguration as specified in TS 36.331 [10],
clause 5.3.5.3 for the _RRCConnectionReconfiguration_ message included in
_eutra-SCG_ ;
2> else (_mrdc-SecondaryCellGroupConfig_ is set to _release_):
3> perform MR-DC release as specified in clause 5.3.5.10;
1> if the _RRCReconfiguration_ message includes the _radioBearerConfig_ :
2> perform the radio bearer configuration according to 5.3.5.6;
1> if the _RRCReconfiguration_ message includes the _radioBearerConfig2_ :
2> perform the radio bearer configuration according to 5.3.5.6;
1> if the _RRCReconfiguration_ message includes the _measConfig_ :
2> perform the measurement configuration procedure as specified in 5.5.2;
1> if the _RRCReconfiguration_ message includes the _dedicatedNAS-MessageList_
:
2> forward each element of the _dedicatedNAS-MessageList_ to upper layers in
the same order as listed;
1> if the _RRCReconfiguration_ message includes the _dedicatedSIB1-Delivery_ :
2> perform the action upon reception of _SIB1_ as specified in 5.2.2.4.2;
1> if the _RRCReconfiguration_ message includes the
_dedicatedSystemInformationDelivery_ :
2> perform the action upon reception of System Information as specified in
5.2.2.4;
1> if the _RRCReconfiguration_ message includes the _otherConfig_ :
2> perform the other configuration procedure as specified in 5.3.5.9;
1> set the content of the _RRCReconfigurationComplete_ message as follows:
2> if the _RRCReconfiguration_ includes the _masterCellGroup_ containing the
_reportUplinkTxDirectCurrent_ :
3> include the _uplinkTxDirectCurrentList_ for each MCG serving cell with UL;
3> include _uplinkDirectCurrentBWP-SUL_ for each MCG serving cell configured
with SUL carrier, if any, within the _uplinkTxDirectCurrentList_ ;
2> if the _RRCReconfiguration_ includes the _secondaryCellGroup_ containing
the _reportUplinkTxDirectCurrent_ :
3> include the _uplinkTxDirectCurrentList_ for each SCG serving cell with UL;
3> include _uplinkDirectCurrentBWP-SUL_ for each SCG serving cell configured
with SUL carrier, if any, within the _uplinkTxDirectCurrentList_ ;
2> if the _RRCReconfiguration_ message includes the _mrdc-
SecondaryCellGroupConfig_ with _mrdc-SecondaryCellGroup_ set to _eutra-SCG_ :
3> include in the _eutra-SCG-Response_ the E-UTRA
_RRCConnectionReconfigurationComplete_ message in accordance with TS 36.331
[10] clause 5.3.5.3;
2> if the _RRCReconfiguration_ message includes the _mrdc-
SecondaryCellGroupConfig_ with _mrdc-SecondaryCellGroup_ set to _nr-SCG_ :
3> include in the _nr-SCG-Response_ _the RRCReconfigurationComplete message_ ;
1> if the UE is configured with E-UTRA _nr-SecondaryCellGroupConfig_ (UE in
(NG)EN-DC):
2> if the _RRCReconfiguration_ message was received via E-UTRA SRB1 as
specified in TS 36.331 [10]:
3> submit the _RRCReconfigurationComplete_ via E-UTRA embedded in E-UTRA RRC
message _RRCConnectionReconfigurationComplete_ as specified in TS 36.331 [10];
3> if _reconfigurationWithSync_ was included in _spCellConfig_ of an SCG:
4> initiate the Random Access procedure on the SpCell, as specified in TS
38.321 [3];
3> else:
4> the procedure ends;
NOTE 1: The order the UE sends the _RRCConnectionReconfigurationComplete_
message and performs the Random Access procedure towards the SCG is left to UE
implementation.
2> else (_RRCReconfiguration_ was received via SRB3):
3> submit the _RRCReconfigurationComplete_ message via SRB3 to lower layers
for transmission using the new configuration;
NOTE 2: In (NG)EN-DC and NR-DC, in the case _RRCReconfiguration_ is received
via SRB1, the random access is triggered by RRC layer itself as there is not
necessarily other UL transmission. In the case _RRCReconfiguration_ is
received via SRB3, the random access is triggered by the MAC layer due to
arrival of _RRCReconfigurationComplete_.
1> else if the _RRCReconfiguration_ message was received within the _nr-SCG_
within _mrdc-SecondaryCellGroup_ (UE in NR-DC, _mrdc-SecondaryCellGroup_ was
received in _RRCReconfiguration_ via SRB1):
2> if _reconfigurationWithSync_ was included in _spCellConfig_ in _nr-SCG_ :
3> initiate the Random Access procedure on the PSCell, as specified in TS
38.321 [3];
2> else
3> the procedure ends;
NOTE 2a: The order in which the UE sends the _RRCReconfigurationComplete_
message and performs the Random Access procedure towards the SCG is left to UE
implementation.
1> else if the _RRCReconfiguration_ message was received via SRB3 (UE in NR-
DC):
2> submit the _RRCReconfigurationComplete_ message via SRB3 to lower layers
for transmission using the new configuration;
1> else _(RRCReconfiguration_ was received via SRB1 _)_ :
2> submit the _RRCReconfigurationComplete_ message via SRB1 to lower layers
for transmission using the new configuration;
2> if this is the first _RRCReconfiguration_ message after successful
completion of the RRC re-establishment procedure:
3> resume SRB2 and DRBs that are suspended;
1> if _reconfigurationWithSync_ was included in _spCellConfig_ of an MCG or
SCG, and when MAC of an NR cell group successfully completes a Random Access
procedure triggered above;
2> stop timer T304 for that cell group;
2> apply the parts of the CSI reporting configuration, the scheduling request
configuration and the sounding RS configuration that do not require the UE to
know the SFN of the respective target SpCell, if any;
2> apply the parts of the measurement and the radio resource configuration
that require the UE to know the SFN of the respective target SpCell (e.g.
measurement gaps, periodic CQI reporting, scheduling request configuration,
sounding RS configuration), if any, upon acquiring the SFN of that target
SpCell;
2> if the _reconfigurationWithSync_ was included in _spCellConfig_ of an MCG:
3> if T390 is running:
4> stop timer T390 for all access categories;
4> perform the actions as specified in 5.3.14.4.
3> if _RRCReconfiguration_ does not include _dedicatedSIB1-Delivery_ and
3> if the active downlink BWP, which is indicated by the
_firstActiveDownlinkBWP-Id_ for the target SpCell of the MCG, has a common
search space configured by _searchSpaceSIB1_ :
4> acquire the _SIB1_ , which is scheduled as specified in TS 38.213 [13], of
the target SpCell of the MCG;
4> upon acquiring _SIB1_ , perform the actions specified in clause 5.2.2.4.2;
2> if _reconfigurationWithSync_ was included in _masterCellGroup_ ; and
2> if the UE initiated transmission of a _UEAssistanceInformation_ message
during the last 1 second, and the UE is still configured to provide the
concerned UE assistance information:
3> initiate transmission of a _UEAssistanceInformation_ message in accordance
with clause 5.7.4.3 to provide the concerned UE assistance information;
3> start or restart the prohibit timer (if exists) associated with the
concerned UE assistance information with the timer value set to the value in
corresponding configuration;
2> the procedure ends.
NOTE 3: The UE is only required to acquire broadcasted _SIB1_ if the UE can
acquire it without disrupting unicast data reception, i.e. the broadcast and
unicast beams are quasi co-located.
NOTE 4: The UE sets the content of _UEAssistanceInformation_ according to
latest configuration (i.e. the configuration after applying the
_RRCReconfiguration_ message) and latest UE preference. The UE may include
more than the concerned UE assistance information within the
_UEAssistanceInformation_ according to 5.7.4.2. Therefore, the content of
_UEAssistanceInformation_ message might not be the same as the content of the
previous _UEAssistanceInformation_ message.
#### 5.3.5.4 Secondary cell group release
The UE shall:
1> as a result of SCG release triggered by E-UTRA (i.e. (NG)EN-DC case) or NR
(i.e. NR-DC case):
2> reset SCG MAC, if configured;
2> for each RLC bearer that is part of the SCG configuration:
3> perform RLC bearer release procedure as specified in 5.3.5.5.3;
2> release the SCG configuration;
2> stop timer T310 for the corresponding SpCell, if running;
2> stop timer T304 for the corresponding SpCell, if running.
NOTE: Release of cell group means only release of the lower layer
configuration of the cell group but the _RadioBearerConfig_ may not be
released.
#### 5.3.5.5 Cell Group configuration
##### 5.3.5.5.1 General
The network configures the UE with Master Cell Group (MCG), and zero or one
Secondary Cell Group (SCG). In (NG)EN-DC, the MCG is configured as specified
in TS 36.331 [10], and for NE-DC, the SCG is configured as specified in TS
36.331 [10]. The network provides the configuration parameters for a cell
group in the _CellGroupConfig_ IE.
The UE performs the following actions based on a received _CellGroupConfig_
IE:
1> if the _CellGroupConfig_ contains the _spCellConfig_ with
_reconfigurationWithSync_ :
2> perform Reconfiguration with sync according to 5.3.5.5.2;
2> resume all suspended radio bearers and resume SCG transmission for all
radio bearers, if suspended;
1> if the _CellGroupConfig_ contains the _rlc-BearerToReleaseList_ :
2> perform RLC bearer release as specified in 5.3.5.5.3;
1> if the _CellGroupConfig_ contains the _rlc-BearerToAddModList_ :
2> perform the RLC bearer addition/modification as specified in 5.3.5.5.4;
1> if the _CellGroupConfig_ contains the _mac-CellGroupConfig_ :
2> configure the MAC entity of this cell group as specified in 5.3.5.5.5;
1> if the _CellGroupConfig_ contains the _sCellToReleaseList_ :
2> perform SCell release as specified in 5.3.5.5.8;
1> if the _CellGroupConfig_ contains the _spCellConfig_ :
2> configure the SpCell as specified in 5.3.5.5.7;
1> if the _CellGroupConfig_ contains the _sCellToAddModList_ :
2> perform SCell addition/modification as specified in 5.3.5.5.9.
##### 5.3.5.5.2 Reconfiguration with sync
The UE shall perform the following actions to execute a reconfiguration with
sync.
1> if the AS security is not activated, perform the actions upon going to
RRC_IDLE as specified in 5.3.11 with the release cause \'_other_ \' upon which
the procedure ends;
1> stop timer T310 for the corresponding SpCell, if running;
1> start timer T304 for the corresponding SpCell with the timer value set to
_t304_ , as included in the _reconfigurationWithSync_ ;
1> if the _frequencyInfoDL_ is included:
2> consider the target SpCell to be one on the SSB frequency indicated by the
_frequencyInfoDL_ with a physical cell identity indicated by the _physCellId_
;
1> else:
2> consider the target SpCell to be one on the SSB frequency of the source
SpCell with a physical cell identity indicated by the _physCellId_ ;
1> start synchronising to the DL of the target SpCell;
1> apply the specified BCCH configuration defined in 9.1.1.1;
1> acquire the _MIB_ , which is scheduled as specified in TS 38.213 [13];
NOTE 1: The UE should perform the reconfiguration with sync as soon as
possible following the reception of the RRC message triggering the
reconfiguration with sync, which could be before confirming successful
reception (HARQ and ARQ) of this message.
NOTE 2: The UE may omit reading the _MIB_ if the UE already has the required
timing information, or the timing information is not needed for random access.
1> reset the MAC entity of this cell group;
1> consider the SCell(s) of this cell group, if configured, to be in
deactivated state;
1> apply the value of the _newUE-Identity_ as the C-RNTI for this cell group;
1> configure lower layers in accordance with the received s
_pCellConfigCommon_ ;
1> configure lower layers in accordance with any additional fields, not
covered in the previous, if included in the received
_reconfigurationWithSync._
##### 5.3.5.5.3 RLC bearer release
The UE shall:
1> for each _logicalChannelIdentity_ value included in the _rlc-
BearerToReleaseList_ that is part of the current UE configuration within the
same cell group (LCH release); or
1> for each _logicalChannelIdentity_ value that is to be released as the
result of an SCG release according to 5.3.5.4:
2> release the RLC entity or entities as specified in TS 38.322 [4], clause
5.1.3;
2> release the corresponding logical channel.
##### 5.3.5.5.4 RLC bearer addition/modification
For each _RLC-BearerConfig_ received in the _rlc-BearerToAddModList_ IE the UE
shall:
1> if the UE\'s current configuration contains an RLC bearer with the received
_logicalChannelIdentity_ within the same cell group:
2> if _reestablishRLC_ is received:
3> re-establish the RLC entity as specified in TS 38.322 [4];
2> reconfigure the RLC entity or entities in accordance with the received
_rlc-Config_ ;
2> reconfigure the logical channel in accordance with the received _mac-
LogicalChannelConfig_ ;
NOTE: The network does not re-associate an already configured logical channel
with another radio bearer. Hence _servedRadioBearer_ is not present in this
case. If a radio bearer is released and another is added with the same radio
bearer identity, it is considered as a new (different) radio bearer. Hence,
the network also releases the RLC bearer(s) associated with the released radio
bearer.
1> else (a logical channel with the given _logicalChannelIdentity_ is not
configured within the same cell group, including the case when full
configuration option is used):
2> if the _servedRadioBearer_ associates the logical channel with an SRB and
_rlc-Config_ is not included:
3> establish an RLC entity in accordance with the default configuration
defined in 9.2 for the corresponding SRB;
2> else:
3> establish an RLC entity in accordance with the received _rlc-Config_ ;
2> if the _servedRadioBearer_ associates the logical channel with an SRB and
if _mac-LogicalChannelConfig_ is not included:
3> configure this MAC entity with a logical channel in accordance to the
default configuration defined in 9.2 for the corresponding SRB;
2> else:
3> configure this MAC entity with a logical channel in accordance to the
received _mac-LogicalChannelConfig_ ;
2> associate this logical channel with the PDCP entity identified by
_servedRadioBearer_.
##### 5.3.5.5.5 MAC entity configuration
The UE shall:
1> if SCG MAC is not part of the current UE configuration (i.e. SCG
establishment):
2> create an SCG MAC entity;
1> reconfigure the MAC main configuration of the cell group in accordance with
the received _mac-CellGroupConfig_ excluding _tag-ToReleaseList_ and _tag-
ToAddModList_ ;
1> if the received _mac-CellGroupConfig_ includes the _tag-ToReleaseList_ :
2> for each _TAG-Id_ value included in the _tag-ToReleaseList_ that is part of
the current UE configuration:
3> release the TAG indicated by _TAG-Id_ ;
1> if the received _mac-CellGroupConfig_ includes the _tag-ToAddModList_ :
2> for each _tag-Id_ value included in _tag-ToAddModList_ that is not part of
the current UE configuration (TAG addition):
3> add the TAG, corresponding to the _tag-Id_ , in accordance with the
received _timeAlignmentTimer_ ;
2> for each _tag-Id_ value included in _tag-ToAddModList_ that is part of the
current UE configuration (TAG modification):
3> reconfigure the TAG, corresponding to the _tag-Id_ , in accordance with the
received _timeAlignmentTimer_.
##### 5.3.5.5.6 RLF Timers & Constants configuration
The UE shall:
1> if the received _rlf-TimersAndConstants_ is set to _release_ :
2> use values for timers T301, T310, T311 and constants N310, N311, as
included in _ue-TimersAndConstants_ received in _SIB1_ ;
1> else:
2> (re-)configure the value of timers and constants in accordance with
received _rlf-TimersAndConstants_ ;
2> stop timer T310 for this cell group, if running;
2> reset the counters N310 and N311.
##### 5.3.5.5.7 SpCell Configuration
The UE shall:
1> if the _SpCellConfig_ contains the _rlf-TimersAndConstants_ :
2> configure the RLF timers and constants for this cell group as specified in
5.3.5.5.6;
1> else if _rlf-TimersAndConstants_ is not configured for this cell group:
2> use values for timers T301, T310, T311 and constants N310, N311, as
included in _ue-TimersAndConstants_ received in _SIB1_ ;
1> if the _SpCellConfig_ contains _spCellConfigDedicated_ :
2> configure the SpCell in accordance with the _spCellConfigDedicated_ ;
2> consider the bandwidth part indicated in _firstActiveUplinkBWP-Id_ if
configured to be the active uplink bandwidth part;
2> consider the bandwidth part indicated in _firstActiveDownlinkBWP-Id_ if
configured to be the active downlink bandwidth part;
2> if any of the reference signal(s) that are used for radio link monitoring
are reconfigured by the received _spCellConfigDedicated_ :
3> stop timer T310 for the corresponding SpCell, if running;
3> reset the counters N310 and N311.
##### 5.3.5.5.8 SCell Release
The UE shall:
1> if the release is triggered by reception of the _sCellToReleaseList_ :
2> for each _sCellIndex_ value included in the _sCellToReleaseList_ :
3> if the current UE configuration includes an SCell with value _sCellIndex_ :
4> release the SCell.
##### 5.3.5.5.9 SCell Addition/Modification
The UE shall:
1> for each _sCellIndex_ value included in the _sCellToAddModList_ that is not
part of the current UE configuration (SCell addition):
2> add the SCell, corresponding to the _sCellIndex_ , in accordance with the
_sCellConfigCommon_ and _sCellConfigDedicated_ ;
2> configure lower layers to consider the SCell to be in deactivated state;
2> for each _measId_ included in the _measIdList_ within _VarMeasConfig_ :
3> if SCells are not applicable for the associated measurement; and
3> if the concerned SCell is included in _cellsTriggeredList_ defined within
the _VarMeasReportList_ for this _measId_ :
4> remove the concerned SCell from _cellsTriggeredList_ defined within the
_VarMeasReportList_ for this _measId_ ;
1> for each _sCellIndex_ value included in the _sCellToAddModList_ that is
part of the current UE configuration (SCell modification):
2> modify the SCell configuration in accordance with the
_sCellConfigDedicated_.
#### 5.3.5.6 Radio Bearer configuration
##### 5.3.5.6.1 General
The UE shall perform the following actions based on a received
_RadioBearerConfig_ IE:
1> if the _RadioBearerConfig_ includes the _srb3-ToRelease_ :
2> perform the SRB release as specified in 5.3.5.6.2;
1> if the _RadioBearerConfig_ includes the _srb-ToAddModList_ :
2> perform the SRB addition or reconfiguration as specified in 5.3.5.6.3;
1> if the _RadioBearerConfig_ includes the _drb-ToReleaseList_ :
2> perform DRB release as specified in 5.3.5.6.4;
1> if the _RadioBearerConfig_ includes the _drb-ToAddModList_ :
2> perform DRB addition or reconfiguration as specified in 5.3.5.6.5.
1> release all SDAP entities, if any, that have no associated DRB as specified
in TS 37.324 [24] clause 5.1.2, and indicate the release of the user plane
resources for PDU Sessions associated with the released SDAP entities to upper
layers.
##### 5.3.5.6.2 SRB release
The UE shall:
1> release the PDCP entity and the _srb-Identity_ of the SRB3.
##### 5.3.5.6.3 SRB addition/modification
The UE shall:
1> for each _srb-Identity_ value included in the _srb-ToAddModList_ that is
not part of the current UE configuration (SRB establishment or reconfiguration
from E-UTRA PDCP to NR PDCP):
2> establish a PDCP entity;
2> if AS security has been activated:
3> if target RAT of handover is E-UTRA/5GC; or
3> if the UE is connected to E-UTRA/5GC:
4> if the UE is capable of E-UTRA/5GC, but not capable of NGEN-DC:
5> configure the PDCP entity with the security algorithms and keys (K~RRCenc~
and K~RRCint~) configured/derived as specified in TS 36.331 [10];
4> else (i.e., UE capable of NGEN-DC):
5> configure the PDCP entity with the security algorithms according to
_securityConfig_ and apply the keys (K~RRCenc~ and K~RRCint~) associated with
the master key (K~eNB~) or secondary key (S-K~gNB~) as indicated in _keyToUse_
, if applicable;
3> else (i.e., UE connected to NR or UE connected to E-UTRA/EPC):
4> configure the PDCP entity with the security algorithms according to
_securityConfig_ and apply the keys (K~RRCenc~ and K~RRCint~) associated with
the master key (K~eNB~/ K~gNB~) or secondary key (S-K~gNB~) as indicated in
_keyToUse_ , if applicable;
2> if the current UE configuration as configured by E-UTRA in TS 36.331 [10]
includes an SRB identified with the same _srb-Identity_ value:
3> associate the E-UTRA RLC entity and DCCH of this SRB with the NR PDCP
entity;
3> release the E-UTRA PDCP entity of this SRB;
2> if the _pdcp-Config_ is included:
3> configure the PDCP entity in accordance with the received _pdcp-Config_ ;
2> else:
3> configure the PDCP entity in accordance with the default configuration
defined in 9.2.1 for the corresponding SRB;
1> for each _srb-Identity_ value included in the _srb-ToAddModList_ that is
part of the current UE configuration:
2> if the _reestablishPDCP_ is set:
3> if target RAT of handover is E-UTRA/5GC; or
3> if the UE is connected to E-UTRA/5GC:
4> if the UE is capable of E-UTRA/5GC, but not capable of NGEN-DC:
5> configure the PDCP entity to apply the integrity protection algorithm and
K~RRCint~ key configured/derived as specified in TS 36.331 [10], i.e. the
integrity protection configuration shall be applied to all subsequent messages
received and sent by the UE, including the message used to indicate the
successful completion of the procedure;
5> configure the PDCP entity to apply the ciphering algorithm and K~RRCenc~
key configured/derived as specified in TS 36.331 [10], i.e. the ciphering
configuration shall be applied to all subsequent messages received and sent by
the UE, including the message used to indicate the successful completion of
the procedure;
4> else (i.e., a UE capable of NGEN-DC):
5> configure the PDCP entity to apply the integrity protection algorithm and
K~RRCint~ key associated with the master key (K~eNB~) or secondary key
(S-K~gNB~), as indicated in _keyToUse_ , i.e. the integrity protection
configuration shall be applied to all subsequent messages received and sent by
the UE, including the message used to indicate the successful completion of
the procedure;
5> configure the PDCP entity to apply the ciphering algorithm and K~RRCenc~
key associated with the master key (K~eNB~) or secondary key (S-K~gNB~) as
indicated in _keyToUse_ , i.e. the ciphering configuration shall be applied to
all subsequent messages received and sent by the UE, including the message
used to indicate the successful completion of the procedure;
3> else (i.e., UE connected to NR or UE in EN-DC):
4> configure the PDCP entity to apply the integrity protection algorithm and
K~RRCint~ key associated with the master key (K~eNB~/K~gNB~) or secondary key
(S-K~gNB~), as indicated in _keyToUse_ , i.e. the integrity protection
configuration shall be applied to all subsequent messages received and sent by
the UE, including the message used to indicate the successful completion of
the procedure;
4> configure the PDCP entity to apply the ciphering algorithm and K~RRCenc~
key associated with the master key (K~eNB~/K~gNB~) or secondary key (S-K~gNB~)
as indicated in _keyToUse_ , i.e. the ciphering configuration shall be applied
to all subsequent messages received and sent by the UE, including the message
used to indicate the successful completion of the procedure;
3> re-establish the PDCP entity of this SRB as specified in TS 38.323 [5];
2> else, if the _discardOnPDCP_ is set:
3> trigger the PDCP entity to perform SDU discard as specified in TS 38.323
[5];
2> if the _pdcp-Config_ is included:
3> reconfigure the PDCP entity in accordance with the received _pdcp-Config_.
##### 5.3.5.6.4 DRB release
The UE shall:
1> for each _drb-Identity_ value included in the _drb-ToReleaseList_ that is
part of the current UE configuration; or
1> for each _drb-Identity_ value that is to be released as the result of full
configuration according to 5.3.5.11:
2> release the PDCP entity and the _drb-Identity_ ;
2> if SDAP entity associated with this DRB is configured:
3> indicate the release of the DRB to SDAP entity associated with this DRB (TS
37.324 [24], clause 5.3.3);
2> if the DRB is associated with an _eps-BearerIdentity_ :
3> if a new bearer is not added either with NR or E-UTRA with same _eps-
BearerIdentity_ :
4> indicate the release of the DRB and the _eps-BearerIdentity_ of the
released DRB to upper layers.
NOTE 1: The UE does not consider the message as erroneous if the _drb-
ToReleaseList_ includes any _drb-Identity_ value that is not part of the
current UE configuration.
NOTE 2: Whether or not the RLC and MAC entities associated with this PDCP
entity are reset or released is determined by the _CellGroupConfig_.
##### 5.3.5.6.5 DRB addition/modification
The UE shall:
1> for each _drb-Identity_ value included in the _drb-ToAddModList_ that is
not part of the current UE configuration (DRB establishment including the case
when full configuration option is used):
2> establish a PDCP entity and configure it in accordance with the received
_pdcp-Config_ ;
2> if the PDCP entity of this DRB is not configured with _cipheringDisabled:_
3> if target RAT of handover is E-UTRA/5GC; or
3> if the UE is connected to E-UTRA/5GC:
4> if the UE is capable of E-UTRA/5GC but not capable of NGEN-DC:
5> configure the PDCP entity with the ciphering algorithm and K~UPenc~ key
configured/derived as specified in TS 36.331 [10];
4> else (i.e., a UE capable of NGEN-DC):
5> configure the PDCP entity with the ciphering algorithms according to
_securityConfig_ and apply the key (K~UPenc~) associated with the master key
(K~eNB~) or secondary key (S-K~gNB~) as indicated in _keyToUse_ , if
applicable;
3> else (i.e., UE connected to NR or UE connected to E-UTRA/EPC):
4> configure the PDCP entity with the ciphering algorithms according to
_securityConfig_ and apply the K~UPenc~ key associated with the master key
(K~eNB~/K~gNB~) or the secondary key (S-K~gNB~/S-K~eNB~) as indicated in
keyToUse;
2> if the PDCP entity of this DRB is configured with _integrityProtection_ :
3> configure the PDCP entity with the integrity protection algorithms
according to _securityConfig_ and apply the K~UPint~ key associated with the
master (K~gNB~) or the secondary key (S-K~gNB~) as indicated in _keyToUse_ ;
2> if an _sdap-Config_ is included:
3> if an SDAP entity with the received _pdu-Session_ does not exist:
4> establish an SDAP entity as specified in TS 37.324 [24] clause 5.1.1;
4> if an SDAP entity with the received _pdu-Session_ did not exist prior to
receiving this reconfiguration:
5> indicate the establishment of the user plane resources for the _pdu-
Session_ to upper layers;
3> configure the SDAP entity in accordance with the received _sdap-Config_ as
specified in TS 37.324 [24] and associate the DRB with the SDAP entity;
3> for each QFI value added in _mappedQoS-FlowsToAdd_ , if the QFI value is
previously configured, the QFI value is released from the old DRB;
2> if the DRB is associated with an _eps-BearerIdentity_ :
3> if the DRB was configured with the same _eps-BearerIdentity_ either by NR
or E-UTRA prior to receiving this reconfiguration:
4> associate the established DRB with the corresponding _eps-BearerIdentity;_
3> else:
4> indicate the establishment of the DRB(s) and the _eps-BearerIdentity_ of
the established DRB(s) to upper layers;
1> for each _drb-Identity_ value included in the _drb-ToAddModList_ that is
part of the current UE configuration:
2> if the _reestablishPDCP_ is set:
3> if target RAT of handover is E-UTRA/5GC; or
3> if the UE is connected to E-UTRA/5GC:
4> if the UE is capable of E-UTRA/5GC but not capable of NGEN-DC:
5> if the PDCP entity of this DRB is not configured with _cipheringDisabled:_
6> configure the PDCP entity with the ciphering algorithm and K~UPenc~ key
configured/derived as specified in TS 36.331 [10], clause 5.4.2.3, i.e. the
ciphering configuration shall be applied to all subsequent PDCP PDUs received
and sent by the UE;
4> else (i.e., a UE capable of NGEN-DC):
5> if the PDCP entity of this DRB is not configured with _cipheringDisabled_ :
6> configure the PDCP entity with the ciphering algorithm and K~UPenc~ key
associated with the master key (K~eNB~) or the secondary key (S-K~gNB~), as
indicated in _keyToUse_ , i.e. the ciphering configuration shall be applied to
all subsequent PDCP PDUs received and sent by the UE;
3> else (i.e., UE connected to NR or UE in EN-DC):
4> if the PDCP entity of this DRB is not configured with _cipheringDisabled:_
5> configure the PDCP entity with the ciphering algorithm and K~UPenc~ key
associated with the master key (K~eNB~/ K~gNB~) or the secondary key
(S-K~gNB~/S-K~eNB~), as indicated in _keyToUse_ , i.e. the ciphering
configuration shall be applied to all subsequent PDCP PDUs received and sent
by the UE;
4> if the PDCP entity of this DRB is configured with _integrityProtection_ :
5> configure the PDCP entity with the integrity protection algorithms
according to _securityConfig_ and apply the K~UPint~ key associated with the
master key (K~gNB~) or the secondary key (S-K~gNB~) as indicated in _keyToUse_
;
3> if _drb-ContinueROHC_ is included in _pdcp-Config_ :
4> indicate to lower layer that _drb-ContinueROHC_ is configured;
3> re-establish the PDCP entity of this DRB as specified in TS 38.323 [5],
clause 5.1.2;
2> else, if the _recoverPDCP_ is set:
3> trigger the PDCP entity of this DRB to perform data recovery as specified
in TS 38.323 [5];
2> if the _pdcp-Config_ is included:
3> reconfigure the PDCP entity in accordance with the received _pdcp-Config_.
2> if the _sdap-Config_ is included:
3> reconfigure the SDAP entity in accordance with the received _sdap-Config_
as specified in TS37.324 [24];
3> for each QFI value added in _mappedQoS-FlowsToAdd_ , if the QFI value is
previously configured, the QFI value is released from the old DRB;
NOTE 1: Void.
NOTE 2: When determining whether a _drb-Identity_ value is part of the current
UE configuration, the UE does not distinguish which _RadioBearerConfig_ and
_DRB-ToAddModList_ that DRB was originally configured in. To re-associate a
DRB with a different key (K~eNB~ to S-K~gNB~, K~gNB~ to S-K~eNB~, K~gNB~ to
S-K~gNB~, or vice versa), the network provides the _drb-Identity_ value in the
(target) _drb-ToAddModList_ and sets the _reestablishPDCP_ flag. The network
does not list the _drb-Identity_ in the (source) _drb-ToReleaseList_.
NOTE 3: When setting the _reestablishPDCP_ flag for a radio bearer, the
network ensures that the RLC receiver entities do not deliver old PDCP PDUs to
the re-established PDCP entity. It does that e.g. by triggering a
reconfiguration with sync of the cell group hosting the old RLC entity or by
releasing the old RLC entity.
NOTE 4: In this specification, UE configuration refers to the parameters
configured by NR RRC unless otherwise stated.
NOTE 5: Ciphering and integrity protection can be enabled or disabled for a
DRB. The enabling/disabling of ciphering or integrity protection can be
changed only by releasing and adding the DRB.
#### 5.3.5.7 AS Security key update
The UE shall:
1> if UE is connected to E-UTRA/EPC or E-UTRA/5GC:
2> upon reception of _sk-Counter_ as specified in TS 36.331 [10]:
3> update the S-K~gNB~ key based on the K~eNB~ key and using the received _sk-
Counter_ value, as specified in TS 33.401 [30] for EN-DC, or TS 33.501 [11]
for NGEN-DC;
3> derive the K~RRCenc~ and K~UPenc~ keys as specified in TS 33.401 [30] for
EN-DC, or TS 33.501 [11] for NGEN-DC;
3> derive the K~RRCint~ and K~UPint~ keys as specified in TS 33.401 [30] for
EN-DC or TS 33.501 [11] for NGEN-DC.
1> else if this procedure was initiated due to reception of the
_masterKeyUpdate_ :
2> if the _nas-Container_ is included in the received _masterKeyUpdate_ :
3> forward the _nas-Container_ to the upper layers;
2> if the _keySetChangeIndicator_ is set to _true_ :
3> derive or update the K~gNB~ key based on the K~AMF~ key, as specified in TS
33.501 [11];
2> else:
3> derive or update the K~gNB~ key based on the current K~gNB~ key or the NH,
using the _nextHopChainingCount_ value indicated in the received
_masterKeyUpdate_ , as specified in TS 33.501 [11];
2> store the _nextHopChainingCount_ value;
2> derive the keys associated with the K~gNB~ key as follows:
3> if the _securityAlgorithmConfig_ is included in _SecurityConfig_ :
4> derive the K~RRCenc~ and K~UPenc~ keys associated with the
_cipheringAlgorithm_ indicated in the _securityAlgorithmConfig,_ as specified
in TS 33.501 [11];
4> derive the K~RRCint~ and K~UPint~ keys associated with the
_integrityProtAlgorithm_ indicated in the _securityAlgorithmConfig,_ as
specified in TS 33.501 [11];
3> else:
4> derive the K~RRCenc~ and K~UPenc~ keys associated with the current
_cipheringAlgorithm,_ as specified in TS 33.501 [11];
4> derive the K~RRCint~ and K~UPint~ keys associated with the current
_integrityProtAlgorithm,_ as specified in TS 33.501 [11].
NOTE 1: Ciphering and integrity protection are optional to configure for the
DRBs.
1> else if this procedure was initiated due to reception of the _sk-Counter_
(UE is in NE-DC, or NR-DC, or is configured with SN terminated bearer(s)):
2> derive or update the secondary key (S-K~gNB~ or S-KeNB) based on the KgNB
key and using the received _sk-Counter_ value, as specified in TS 33.501 [11];
2> derive the K~RRCenc~ key and the K~UPenc~ key as specified in TS 33.501
[11] using the ciphering algorithms indicated in the _RadioBearerConfig_
associated with the secondary key (S-K~gNB~ or S-KeNB) as indicated by
_keyToUse_ ;
2> derive the K~RRCint~ key and the K~UPint~ key as specified in TS 33.501
[11] using the integrity protection algorithms indicated in the
_RadioBearerConfig_ associated with the secondary key (S-K~gNB~ or S-KeNB) as
indicated by _keyToUse_ ;
NOTE 2: If the UE has no radio bearer configured with _keyToUse_ set to
_secondary_ and receives the _sk-Counter_ without any _RadioBearerConfig_ with
_keyToUse_ set to _secondary_ , the UE does not consider it as an invalid
reconfiguration.
#### 5.3.5.8 Reconfiguration failure
##### 5.3.5.8.1 Void
##### 5.3.5.8.2 Inability to comply with _RRCReconfiguration_
The UE shall:
1> if the UE is in (NG)EN-DC:
2> if the UE is unable to comply with (part of) the configuration included in
the _RRCReconfiguration_ message received over SRB3;
3> continue using the configuration used prior to the reception of
_RRCReconfiguration_ message;
3> initiate the SCG failure information procedure as specified in clause 5.7.3
to report SCG reconfiguration error, upon which the connection reconfiguration
procedure ends;
2> else, if the UE is unable to comply with (part of) the configuration
included in the _RRCReconfiguration_ message received over SRB1;
3> continue using the configuration used prior to the reception of
_RRCReconfiguration_ message;
3> initiate the connection re-establishment procedure as specified in TS
36.331 [10], clause 5.3.7, upon which the connection reconfiguration procedure
ends.
1> else if _RRCReconfiguration_ is received via NR (i.e., NR standalone, NE-
DC, or NR-DC):
2> if the UE is unable to comply with (part of) the configuration included in
the _RRCReconfiguration_ message received over SRB3;
NOTE 0: This case does not apply in NE-DC.
3> continue using the configuration used prior to the reception of
_RRCReconfiguration_ message;
3> initiate the SCG failure information procedure as specified in clause 5.7.3
to report SCG reconfiguration error, upon which the connection reconfiguration
procedure ends;
2> else if the UE is unable to comply with (part of) the configuration
included in the _RRCReconfiguration_ message received over the SRB1;
NOTE 0a: The compliance also covers the SCG configuration carried within octet
strings e.g. field _mrdc-SecondaryCellGroupConfig_. I.e. the failure behaviour
defined also applies in case the UE cannot comply with the embedded SCG
configuration or with the combination of (parts of) the MCG and SCG
configurations.
3> continue using the configuration used prior to the reception of
_RRCReconfiguration_ message;
3> if AS security has not been activated:
4> perform the actions upon going to RRC_IDLE as specified in 5.3.11, with
release cause \'other\'
3> else if AS security has been activated but SRB2 and at least one DRB have
not been setup:
4> perform the actions upon going to RRC_IDLE as specified in 5.3.11, with
release cause \'RRC connection failure\';
3> else:
4> initiate the connection re-establishment procedure as specified in 5.3.7,
upon which the reconfiguration procedure ends;
1> else if _RRCReconfiguration_ is received via other RAT (Handover to NR
failure):
2> if the UE is unable to comply with any part of the configuration included
in the _RRCReconfiguration_ message:
3> perform the actions defined for this failure case as defined in the
specifications applicable for the other RAT.
NOTE 1: The UE may apply above failure handling also in case the
_RRCReconfiguration_ message causes a protocol error for which the generic
error handling as defined in clause 10 specifies that the UE shall ignore the
message.
NOTE 2: If the UE is unable to comply with part of the configuration, it does
not apply any part of the configuration, i.e. there is no partial
success/failure.
##### 5.3.5.8.3 T304 expiry (Reconfiguration with sync Failure)
The UE shall:
1> if T304 of the MCG expires:
2> release dedicated preambles provided in _rach-ConfigDedicated_ if
configured;
2> revert back to the UE configuration used in the source PCell;
2> initiate the connection re-establishment procedure as specified in clause
5.3.7.
NOTE 1: In the context above, \"the UE configuration\" includes state
variables and parameters of each radio bearer.
1> else if T304 of a secondary cell group expires:
2> release dedicated preambles provided in _rach-ConfigDedicated,_ if
configured;
2> initiate the SCG failure information procedure as specified in clause 5.7.3
to report SCG reconfiguration with sync failure, upon which the RRC
reconfiguration procedure ends;
1> else if T304 expires when _RRCReconfiguration_ is received via other RAT
(HO to NR failure):
2> reset MAC;
2> perform the actions defined for this failure case as defined in the
specifications applicable for the other RAT.
#### 5.3.5.9 Other configuration
The UE shall:
1> if the received _otherConfig_ includes the _delayBudgetReportingConfig_ :
2> if _delayBudgetReportingConfig_ is set to _setup_ :
3> consider itself to be configured to send delay budget reports in accordance
with 5.7.4;
2> else:
3> consider itself not to be configured to send delay budget reports and stop
timer T342, if running.
1> if the received _otherConfig_ includes the _overheatingAssistanceConfig_ :
2> if _overheatingAssistanceConfig_ is set to _setup_ :
3> consider itself to be configured to provide overheating assistance
information in accordance with 5.7.4;
2> else:
3> consider itself not to be configured to provide overheating assistance
information and stop timer T345, if running;
#### 5.3.5.10 MR-DC release
The UE shall:
1> as a result of MR-DC release triggered by E-UTRA or NR:
2> release SRB3, if established, as specified in 5.3.5.6.2;
2> release _measConfig_ associated with SCG;
2> if the UE is configured with NR SCG:
3> release the SCG configuration as specified in clause 5.3.5.4;
2> else if the UE is configured with E-UTRA SCG:
3> release the SCG configuration as specified in TS 36.331 [10], clause
5.3.10.19 to release the E-UTRA SCG;
#### 5.3.5.11 Full configuration
The UE shall:
1> release/ clear all current dedicated radio configurations except for the
following:
\- the MCG C-RNTI;
\- the AS security configurations associated with the master key;
\- the SRB1/SRB2 configurations and DRB configurations as configured by
_radioBearerConfig_ or _radioBearerConfig2_.
NOTE 1: Radio configuration is not just the resource configuration but
includes other configurations like _MeasConfig_. Radio configuration also
includes the RLC bearer configurations as configured by _RLC-BearerConfig_. In
case NR-DC or NE-DC is configured, this also includes the entire NR or E-UTRA
SCG configuration which are released according to the MR-DC release procedure
as specified in 5.3.5.10.
NOTE 1a: To establish the RLC bearer of SRB(s) after release due to
_fullConfig_ , the network can include the _srb-Identity_ within _srb-
ToAddModList_ (i.e. the UE applies RLC default configuration) and/or provide
_rlc-BearerToAddModList_ of concerned SRB(s) explicitly.
1> if the _spCellConfig_ in the _masterCellGroup_ includes the
_reconfigurationWithSync_ (i.e., SpCell change):
2> release/ clear all current common radio configurations;
2> use the default values specified in 9.2.3 for timers T310, T311 and
constants N310, N311;
1> else (full configuration after re-establishment or during RRC resume):
2> use values for timers T301, T310, T311 and constants N310, N311, as
included in _ue-TimersAndConstants_ received in _SIB1_ ;
1> apply the default L1 parameter values as specified in corresponding
physical layer specifications except for the following:
\- parameters for which values are provided in _SIB1_ ;
1> apply the default MAC Cell Group configuration as specified in 9.2.2;
1> for each _srb-Identity_ value included in the _srb-ToAddModList_ (SRB
reconfiguration):
2> establish an RLC entity for the corresponding SRB;
2> apply the default SRB configuration defined in 9.2.1 for the corresponding
SRB;
NOTE 2: This is to get the SRBs (SRB1 and SRB2 for reconfiguration with sync
and SRB2 for resume and reconfiguration after re-establishment) to a known
state from which the reconfiguration message can do further configuration.
1> for each _pdu-Session_ that is part of the current UE configuration:
2> release the SDAP entity (clause 5.1.2 in TS 37.324 [24]);
2> release each DRB associated to the _pdu-Session_ as specified in 5.3.5.6.4;
NOTE 3: This will retain the _pdu-Session_ but remove the DRBs including _drb-
identity_ of these bearers from the current UE configuration. Setup of the
DRBs within the AS is described in clause 5.3.5.6.5 using the new
configuration. The _pdu-Session_ acts as the anchor for associating the
released and re-setup DRB. In the AS the DRB re-setup is equivalent with a new
DRB setup (including new PDCP and logical channel configurations).
1> for each _pdu-Session_ that is part of the current UE configuration but not
added with same _pdu-Session_ in the _drb-ToAddModList_ :
2> if the procedure was triggered due to reconfiguration with sync:
3> indicate the release of the user plane resources for the _pdu-Session_ to
upper layers after successful reconfiguration with sync;
2> else:
3> indicate the release of the user plane resources for the _pdu-Session_ to
upper layers immediately;
### 5.3.6 Counter check
#### 5.3.6.1 General
Figure 5.3.6.1-1: Counter check procedure
The counter check procedure is used by the network to request the UE to verify
the amount of data sent/ received on each DRB. More specifically, the UE is
requested to check if, for each DRB, the most significant bits of the COUNT
match with the values indicated by the network.
NOTE: The procedure enables the network to detect packet insertion by an
intruder (a \'man in the middle\').
#### 5.3.6.2 Initiation
The network initiates the procedure by sending a _CounterCheck_ message.
NOTE: The network may initiate the procedure when any of the COUNT values
reaches a specific value.
#### 5.3.6.3 Reception of the _CounterCheck_ message by the UE
Upon receiving the _CounterCheck_ message, the UE shall:
1> for each DRB that is established:
2> if no COUNT exists for a given direction (uplink or downlink) because it is
a uni-directional bearer configured only for the other direction:
3> assume the COUNT value to be 0 for the unused direction;
2> if the _drb-Identity_ is not included in the _drb-CountMSB-InfoList_ :
3> include the DRB in the _drb-CountInfoList_ in the _CounterCheckResponse_
message by including the _drb-Identity_ , the _count-Uplink_ and the _count-
Downlink_ set to the value of TX_NEXT -- 1 and RX_NEXT -- 1 (specified in TS
38.323 [5]), respectively;
2> else if, for at least one direction, the most significant bits of the COUNT
are different from the value indicated in the _drb-CountMSB-InfoList_ :
3> include the DRB in the _drb-CountInfoList_ in the _CounterCheckResponse_
message by including the _drb-Identity_ , the _count-Uplink_ and the _count-
Downlink_ set to the value of TX_NEXT -- 1 and RX_NEXT -- 1 (specified in TS
38.323 [5]), respectively;
1> for each DRB that is included in the _drb-CountMSB-InfoList_ in the
_CounterCheck_ message that is not established:
2> include the DRB in the _drb-CountInfoList_ in the _CounterCheckResponse_
message by including the _drb-Identity_ , the _count-Uplink_ and the _count-
Downlink_ with the most significant bits set identical to the corresponding
values in the _drb-CountMSB-InfoList_ and the least significant bits set to
zero;
1> submit the _CounterCheckResponse_ message to lower layers for transmission
upon which the procedure ends.
### 5.3.7 RRC connection re-establishment
#### 5.3.7.1 General
Figure 5.3.7.1-1: RRC connection re-establishment, successful
Figure 5.3.7.1-2: RRC re-establishment, fallback to RRC establishment,
successful
The purpose of this procedure is to re-establish the RRC connection. A UE in
RRC_CONNECTED, for which AS security has been activated with SRB2 and at least
one DRB setup, may initiate the procedure in order to continue the RRC
connection. The connection re-establishment succeeds if the network is able to
find and verify a valid UE context or, if the UE context cannot be retrieved,
and the network responds with an _RRCSetup_ according to clause 5.3.3.4.
The network applies the procedure e.g as follows:
\- When AS security has been activated and the network retrieves or verifies
the UE context:
\- to re-activate AS security without changing algorithms;
\- to re-establish and resume the SRB1;
\- When UE is re-establishing an RRC connection, and the network is not able
to retrieve or verify the UE context:
\- to discard the stored AS Context and release all RBs;
\- to fallback to establish a new RRC connection.
If AS security has not been activated, the UE shall not initiate the procedure
but instead moves to RRC_IDLE directly, with release cause \'other\'. If AS
security has been activated, but SRB2 and at least one DRB are not setup, the
UE does not initiate the procedure but instead moves to RRC_IDLE directly,
with release cause \'RRC connection failure\'.
#### 5.3.7.2 Initiation
The UE initiates the procedure when one of the following conditions is met:
1> upon detecting radio link failure of the MCG, in accordance with 5.3.10; or
1> upon re-configuration with sync failure of the MCG, in accordance with
clause 5.3.5.8.3; or
1> upon mobility from NR failure, in accordance with clause 5.4.3.5; or
1> upon integrity check failure indication from lower layers concerning SRB1
or SRB2, except if the integrity check failure is detected on the
_RRCReestablishment_ message; or
1> upon an RRC connection reconfiguration failure, in accordance with clause
5.3.5.8.2.
Upon initiation of the procedure, the UE shall:
1> stop timer T310, if running;
1> stop timer T304, if running;
1> start timer T311;
1> suspend all RBs, except SRB0;
1> reset MAC;
1> release the MCG SCell(s), if configured;
1> release _spCellConfig_ , if configured;
1> if MR-DC is configured:
2> perform MR-DC release, as specified in clause 5.3.5.10;
1> release _delayBudgetReportingConfig_ , if configured, and stop timer T342,
if running;
1> release _overheatingAssistanceConfig_ , if configured, and stop timer T345,
if running;
1> perform cell selection in accordance with the cell selection process as
specified in TS 38.304 [20].
#### 5.3.7.3 Actions following cell selection while T311 is running
Upon selecting a suitable NR cell, the UE shall:
1> ensure having valid and up to date essential system information as
specified in clause 5.2.2.2;
1> stop timer T311;
1> start timer T301;
1> if T390 is running:
2> stop timer T390 for all access categories;
2> perform the actions as specified in 5.3.14.4;
1> apply the default L1 parameter values as specified in corresponding
physical layer specifications except for the parameters for which values are
provided in _SIB1_ ;
1> apply the default MAC Cell Group configuration as specified in 9.2.2;
1> apply the CCCH configuration as specified in 9.1.1.2;
1> apply the _timeAlignmentTimerCommon_ included in _SIB1_ ;
1> initiate transmission of the _RRCReestablishmentRequest_ message in
accordance with 5.3.7.4;
NOTE: This procedure applies also if the UE returns to the source PCell.
Upon selecting an inter-RAT cell, the UE shall:
1> perform the actions upon going to RRC_IDLE as specified in 5.3.11, with
release cause \'RRC connection failure\'.
#### 5.3.7.4 Actions related to transmission of _RRCReestablishmentRequest_
message
The UE shall set the contents of _RRCReestablishmentRequest_ message as
follows:
1> set the _ue-Identity_ as follows:
2> set the _c-RNTI_ to the C-RNTI used in the source PCell (reconfiguration
with sync or mobility from NR failure) or used in the PCell in which the
trigger for the re-establishment occurred (other cases);
2> set the _physCellId_ to the physical cell identity of the source PCell
(reconfiguration with sync or mobility from NR failure) or of the PCell in
which the trigger for the re-establishment occurred (other cases);
2> set the _shortMAC-I_ to the 16 least significant bits of the MAC-I
calculated:
3> over the ASN.1 encoded as per clause 8 (i.e., a multiple of 8 bits)
_VarShortMAC-Input_ ;
3> with the K~RRCint~ key and integrity protection algorithm that was used in
the source PCell (reconfiguration with sync or mobility from NR failure) or of
the PCell in which the trigger for the re-establishment occurred (other
cases); and
3> with all input bits for COUNT, BEARER and DIRECTION set to binary ones;
1> set the _reestablishmentCause_ as follows:
2> if the re-establishment procedure was initiated due to reconfiguration
failure as specified in 5.3.5.8.2:
3> set the _reestablishmentCause_ to the value _reconfigurationFailure_ ;
2> else if the re-establishment procedure was initiated due to reconfiguration
with sync failure as specified in 5.3.5.8.3 (intra-NR handover failure) or
5.4.3.5 (inter-RAT mobility from NR failure):
3> set the _reestablishmentCause_ to the value _handoverFailure_ ;
2> else:
3> set the _reestablishmentCause_ to the value _otherFailure_ ;
1> re-establish PDCP for SRB1;
1> re-establish RLC for SRB1;
1> apply the default configuration defined in 9.2.1 for SRB1;
1> configure lower layers to suspend integrity protection and ciphering for
SRB1;
NOTE: Ciphering is not applied for the subsequent _RRCReestablishment_ message
used to resume the connection. An integrity check is performed by lower
layers, but merely upon request from RRC.
1> resume SRB1;
1> submit the _RRCReestablishmentRequest_ message to lower layers for
transmission.
#### 5.3.7.5 Reception of the _RRCReestablishment_ by the UE
The UE shall:
1> stop timer T301;
1> consider the current cell to be the PCell;
1> store the _nextHopChainingCount_ value indicated in the _RRCReestablishment
message_ ;
1> update the K~gNB~ key based on the current K~gNB~ key or the NH _,_ using
the stored _nextHopChainingCount_ value, as specified in TS 33.501 [11];
1> derive the K~RRCenc~ and K~UPenc~ keys associated with the previously
configured _cipheringAlgorithm,_ as specified in TS 33.501 [11];
1> derive the K~RRCint~ and K~UPint~ keys associated with the previously
configured _integrityProtAlgorithm,_ as specified in TS 33.501 [11].
1> request lower layers to verify the integrity protection of the
_RRCReestablishment_ message, using the previously configured algorithm and
the K~RRCint~ key;
1> if the integrity protection check of the _RRCReestablishment_ message
fails:
2> perform the actions upon going to RRC_IDLE as specified in 5.3.11, with
release cause \'RRC connection failure\', upon which the procedure ends;
1> configure lower layers to resume integrity protection for SRB1 using the
previously configured algorithm and the K~RRCint~ key immediately, i.e.,
integrity protection shall be applied to all subsequent messages received and
sent by the UE, including the message used to indicate the successful
completion of the procedure;
1> configure lower layers to resume ciphering for SRB1 using the previously
configured algorithm and, the K~RRCenc~ key immediately, i.e., ciphering shall
be applied to all subsequent messages received and sent by the UE, including
the message used to indicate the successful completion of the procedure;
1> release the measurement gap configuration indicated by the _measGapConfig_
, if configured;
1> submit the _RRCReestablishmentComplete_ message to lower layers for
transmission;
1> the procedure ends.
#### 5.3.7.6 T311 expiry
Upon T311 expiry, the UE shall:
1> perform the actions upon going to RRC_IDLE as specified in 5.3.11, with
release cause \'RRC connection failure\'.
#### 5.3.7.7 T301 expiry or selected cell no longer suitable
The UE shall:
1> if timer T301 expires; or
1> if the selected cell becomes no longer suitable according to the cell
selection criteria as specified in TS 38.304 [20]:
2> perform the actions upon going to RRC_IDLE as specified in 5.3.11, with
release cause \'RRC connection failure\'.
#### 5.3.7.8 Reception of the _RRCSetup_ by the UE
The UE shall:
1> perform the RRC connection establishment procedure as specified in 5.3.3.4.
### 5.3.8 RRC connection release
#### 5.3.8.1 General
Figure 5.3.8.1-1: RRC connection release, successful
The purpose of this procedure is:
\- to release the RRC connection, which includes the release of the
established radio bearers as well as all radio resources; or
\- to suspend the RRC connection only if SRB2 and at least one DRB are setup,
which includes the suspension of the established radio bearers.
#### 5.3.8.2 Initiation
The network initiates the RRC connection release procedure to transit a UE in
RRC_CONNECTED to RRC_IDLE; or to transit a UE in RRC_CONNECTED to RRC_INACTIVE
only if SRB2 and at least one DRB is setup in RRC_CONNECTED; or to transit a
UE in RRC_INACTIVE back to RRC_INACTIVE when the UE tries to resume; or to
transit a UE in RRC_INACTIVE to RRC_IDLE when the UE tries to resume. The
procedure can also be used to release and redirect a UE to another frequency.
#### 5.3.8.3 Reception of the _RRCRelease_ by the UE
The UE shall:
1> delay the following actions defined in this clause 60 ms from the moment
the _RRCRelease_ message was received or optionally when lower layers indicate
that the receipt of the _RRCRelease_ message has been successfully
acknowledged, whichever is earlier;
1> stop timer T380, if running;
1> stop timer T320, if running;
1> if the AS security is not activated:
2> ignore any field included in _RRCRelease_ message except _waitTime_ ;
2> perform the actions upon going to RRC_IDLE as specified in 5.3.11 with the
release cause \'other\' upon which the procedure ends;
1> if the _RRCRelease_ message includes _redirectedCarrierInfo_ indicating
redirection to _eutra_ :
2> if _cnType_ is included:
3> after the cell selection, indicate the available CN Type(s) and the
received _cnType_ to upper layers;
NOTE 1: Handling the case if the E-UTRA cell selected after the redirection
does not support the core network type specified by the _cnType,_ is up to UE
implementation.
1> if the _RRCRelease_ message includes the _cellReselectionPriorities_ :
2> store the cell reselection priority information provided by the
_cellReselectionPriorities_ ;
2> if the _t320_ is included:
3> start timer T320, with the timer value set according to the value of _t320_
;
1> else:
2> apply the cell reselection priority information broadcast in the system
information;
1> if _deprioritisationReq_ is included and the UE supports RRC connection
release with deprioritisation:
2> start or restart timer T325 with the timer value set to the
_deprioritisationTimer_ signalled;
2> store the _deprioritisationReq_ until T325 expiry;
NOTE 2: The UE stores the deprioritisation request irrespective of any cell
reselection absolute priority assignments (by dedicated or common signalling)
and regardless of RRC connections in NR or other RATs unless specified
otherwise.
1> if the _RRCRelease_ includes _suspendConfig_ :
2> apply the received _suspendConfig_ ;
2> reset MAC and release the default MAC Cell Group configuration, if any;
2> re-establish RLC entities for SRB1;
2> if the _RRCRelease_ message with _suspendConfig_ was received in response
to an _RRCResumeRequest_ or an _RRCResumeRequest1_ :
3> stop the timer T319 if running;
3> in the stored UE Inactive AS context:
4> replace the K~gNB~ and K~RRCint~ keys with the current K~gNB~ and K~RRCint~
keys;
4> replace the C-RNTI with the temporary C-RNTI in the cell the UE has
received the _RRCRelease_ message;
4> replace the _cellIdentity_ with the _cellIdentity_ of the cell the UE has
received the _RRCRelease_ message;
4> replace the physical cell identity with the physical cell identity of the
cell the UE has received the _RRCRelease_ message;
2> else:
3> store in the UE Inactive AS Context the current K~gNB~ and K~RRCint~ keys,
the ROHC state, the stored QoS flow to DRB mapping rules, the C-RNTI used in
the source PCell, the _cellIdentity_ and the physical cell identity of the
source PCell, and all other parameters configured except for the ones within
_ReconfigurationWithSync_ and _servingCellConfigCommonSIB_ ;
NOTE 3: _suspendConfig_ is not stored as part of UE Inactive AS Context,
except for the fields explicitly specified.
2> suspend all SRB(s) and DRB(s), except SRB0;
2> indicate PDCP suspend to lower layers of all DRBs;
2> if the _t380_ is included:
3> start timer T380, with the timer value set to _t380_ ;
2> if the _RRCRelease_ message is including the _waitTime_ :
3> start timer T302 with the value set to the _waitTime_ ;
3> inform upper layers that access barring is applicable for all access
categories except categories \'0\' and \'2\';
2> if T390 is running:
3> stop timer T390 for all access categories;
3> perform the actions as specified in 5.3.14.4;
2> indicate the suspension of the RRC connection to upper layers;
2> enter RRC_INACTIVE and perform cell selection as specified in TS 38.304
[20];
1> else
2> perform the actions upon going to RRC_IDLE as specified in 5.3.11, with the
release cause \'other\'.
#### 5.3.8.4 T320 expiry
The UE shall:
1> if T320 expires:
2> if stored, discard the cell reselection priority information provided by
the _cellReselectionPriorities_ or inherited from another RAT;
2> apply the cell reselection priority information broadcast in the system
information.
#### 5.3.8.5 UE actions upon the expiry of _DataInactivityTimer_
Upon receiving the expiry of _DataInactivityTimer_ from lower layers while in
RRC_CONNECTED, the UE shall:
1> perform the actions upon going to RRC_IDLE as specified in 5.3.11, with
release cause \'RRC connection failure\'.
### 5.3.9 RRC connection release requested by upper layers
#### 5.3.9.1 General
The purpose of this procedure is to release the RRC connection. Access to the
current PCell may be barred as a result of this procedure.
#### 5.3.9.2 Initiation
The UE initiates the procedure when upper layers request the release of the
RRC connection as specified in TS 24.501 [23]. The UE shall not initiate the
procedure for power saving purposes.
The UE shall:
1> if the upper layers indicate barring of the PCell:
2> treat the PCell used prior to entering RRC_IDLE as barred according to TS
38.304 [20];
1> perform the actions upon going to RRC_IDLE as specified in 5.3.11, with
release cause \'other\'.
### 5.3.10 Radio link failure related actions
#### 5.3.10.1 Detection of physical layer problems in RRC_CONNECTED
The UE shall:
1> upon receiving N310 consecutive \"out-of-sync\" indications for the SpCell
from lower layers while neither T300, T301, T304, T311 nor T319 are running:
2> start timer T310 for the corresponding SpCell.
#### 5.3.10.2 Recovery of physical layer problems
Upon receiving N311 consecutive \"in-sync\" indications for the SpCell from
lower layers while T310 is running, the UE shall:
1> stop timer T310 for the corresponding SpCell.
NOTE 1: In this case, the UE maintains the RRC connection without explicit
signalling, i.e. the UE maintains the entire radio resource configuration.
NOTE 2: Periods in time where neither \"in-sync\" nor \"out-of-sync\" is
reported by L1 do not affect the evaluation of the number of consecutive \"in-
sync\" or \"out-of-sync\" indications.
#### 5.3.10.3 Detection of radio link failure
The UE shall:
1> upon T310 expiry in PCell; or
1> upon random access problem indication from MCG MAC while neither T300,
T301, T304, T311 nor T319 are running; or
1> upon indication from MCG RLC that the maximum number of retransmissions has
been reached:
2> if the indication is from MCG RLC and CA duplication is configured and
activated, and for the corresponding logical channel _allowedServingCells_
only includes SCell(s):
3> initiate the failure information procedure as specified in 5.7.5 to report
RLC failure.
2> else:
3> consider radio link failure to be detected for the MCG, i.e. MCG RLF;
3> if AS security has not been activated:
4> perform the actions upon going to RRC_IDLE as specified in 5.3.11, with
release cause \'other\';-
3> else if AS security has been activated but SRB2 and at least one DRB have
not been setup:
4> perform the actions upon going to RRC_IDLE as specified in 5.3.11, with
release cause \'RRC connection failure\';
3> else:
4> initiate the connection re-establishment procedure as specified in 5.3.7.
The UE shall:
1> upon T310 expiry in PSCell; or
1> upon random access problem indication from SCG MAC; or
1> upon indication from SCG RLC that the maximum number of retransmissions has
been reached:
2> if the indication is from SCG RLC and CA duplication is configured and
activated, and for the corresponding logical channel _allowedServingCells_
only includes SCell(s):
3> initiate the failure information procedure as specified in 5.7.5 to report
RLC failure.
2> else:
3> consider radio link failure to be detected for the SCG, i.e. SCG RLF;
3> initiate the SCG failure information procedure as specified in 5.7.3 to
report SCG radio link failure.
### 5.3.11 UE actions upon going to RRC_IDLE
The UE shall:
1> reset MAC;
1> set the variable _pendingRNA-Update_ to _false_ , if that is set to _true_
;
1> if going to RRC_IDLE was triggered by reception of the _RRCRelease_ message
including a _waitTime_ :
2> if T302 is running:
3> stop timer T302;
2> start timer T302 with the value set to the _waitTime_ ;
2> inform upper layers that access barring is applicable for all access
categories except categories \'0\' and \'2\'.
1> else:
2> if T302 is running:
3> stop timer T302;
3> perform the actions as specified in 5.3.14.4;
1> if T390 is running:
2> stop timer T390 for all access categories;
2> perform the actions as specified in 5.3.14.4;
1> if the UE is leaving RRC_INACTIVE:
2> if going to RRC_IDLE was not triggered by reception of the _RRCRelease
message_ :
3> if stored, discard the cell reselection priority information provided by
the _cellReselectionPriorities_ ;
3> stop the timer T320, if running;
1> stop all timers that are running except T302, T320 and T325;
1> discard the UE Inactive AS context, if any;
1> release the _suspendConfig_ , if configured;
1> discard the K~gNB~ key, the S-K~gNB~ key, the S-K~eNB~ key, the K~RRCenc~
key, the K~RRCint~ key, the K~UPint~ key and the K~UPenc~ key, if any;
1> release all radio resources, including release of the RLC entity, the MAC
configuration and the associated PDCP entity and SDAP for all established RBs;
1> indicate the release of the RRC connection to upper layers together with
the release cause;
1> except if going to RRC_IDLE was triggered by inter-RAT cell reselection
while the UE is in RRC_INACTIVE or RRC_IDLE or when selecting an inter-RAT
cell while T311 was running:
2> enter RRC_IDLE and perform cell selection as specified in TS 38.304 [20];
### 5.3.12 UE actions upon PUCCH/SRS release request
Upon receiving a PUCCH release request from lower layers, for all bandwidth
parts of an indicated serving cell the UE shall:
1> release PUCCH-CSI-Resources configured in _CSI-ReportConfig_ ;
1> release _SchedulingRequestResourceConfig_ instances configured in _PUCCH-
Config_.
Upon receiving an SRS release request from lower layers, for all bandwidth
parts of an indicated serving cell the UE shall:
1> release _SRS-Resource_ instances configured in _SRS-Config_.
### 5.3.13 RRC connection resume
#### 5.3.13.1 General
Figure 5.3.13.1-1: RRC connection resume, successful
Figure 5.3.13.1-2: RRC connection resume fallback to RRC connection
establishment, successful
Figure 5.3.13.1-3: RRC connection resume followed by network release,
successful
Figure 5.3.13.1-4: RRC connection resume followed by network suspend,
successful
Figure 5.3.13.1-5: RRC connection resume, network reject
The purpose of this procedure is to resume a suspended RRC connection,
including resuming SRB(s) and DRB(s) or perform an RNA update.
#### 5.3.13.2 Initiation
The UE initiates the procedure when upper layers or AS (when responding to RAN
paging or upon triggering RNA updates while the UE is in RRC_INACTIVE)
requests the resume of a suspended RRC connection.
The UE shall ensure having valid and up to date essential system information
as specified in clause 5.2.2.2 before initiating this procedure.
Upon initiation of the procedure, the UE shall:
1> if the resumption of the RRC connection is triggered by response to NG-RAN
paging:
2> select \'0\' as the Access Category;
2> perform the unified access control procedure as specified in 5.3.14 using
the selected Access Category and one or more Access Identities provided by
upper layers;
3> if the access attempt is barred, the procedure ends;
1> else if the resumption of the RRC connection is triggered by upper layers:
2> if the upper layers provide an Access Category and one or more Access
Identities:
3> perform the unified access control procedure as specified in 5.3.14 using
the Access Category and Access Identities provided by upper layers;
4> if the access attempt is barred, the procedure ends;
2> set the _resumeCause_ in accordance with the information received from
upper layers;
1> else if the resumption of the RRC connection is triggered due to an RNA
update as specified in 5.3.13.8:
2> if an emergency service is ongoing:
NOTE: How the RRC layer in the UE is aware of an ongoing emergency service is
up to UE implementation.
3> select \'2\' as the Access Category;
3> set the _resumeCause_ to _emergency_ ;
2> else:
3> select \'8\' as the Access Category;
2> perform the unified access control procedure as specified in 5.3.14 using
the selected Access Category and one or more Access Identities to be applied
as specified in TS 24.501 [23];
3> if the access attempt is barred:
4> set the variable _pendingRNA-Update_ to _true_ ;
4> the procedure ends;
1> if the UE is in NE-DC or NR-DC:
2> release the MR-DC related configurations (i.e., as specified in 5.3.5.10)
from the UE Inactive AS context, if stored;
1> release the MCG SCell(s) from the UE Inactive AS context, if stored;
1> apply the default L1 parameter values as specified in corresponding
physical layer specifications, except for the parameters for which values are
provided in _SIB1_ ;
1> apply the default SRB1 configuration as specified in 9.2.1;
1> apply the default MAC Cell Group configuration as specified in 9.2.2;
1> release _delayBudgetReportingConfig_ from the UE Inactive AS context, if
stored;
1> stop timer T342, if running;
1> release _overheatingAssistanceConfig_ from the UE Inactive AS context, if
stored;
1> stop timer T345, if running;
1> apply the CCCH configuration as specified in 9.1.1.2;
1> apply the _timeAlignmentTimerCommon_ included in _SIB1_ ;
1> start timer T319;
1> set the variable _pendingRNA-Update_ to _false_ ;
1> initiate transmission of the _RRCResumeRequest_ message or
_RRCResumeRequest1_ in accordance with 5.3.13.3.
#### 5.3.13.3 Actions related to transmission of _RRCResumeRequest_ or
_RRCResumeRequest1_ message
The UE shall set the contents of _RRCResumeRequest_ or _RRCResumeRequest1_
message as follows:
1> if field _useFullResumeID_ is signalled in _SIB1_ :
2> select _RRCResumeRequest1_ as the message to use;
2> set the _resumeIdentity_ to the stored _fullI-RNTI_ value;
1> else:
2> select _RRCResumeRequest_ as the message to use;
2> set the _resumeIdentity_ to the stored _shortI-RNTI_ value;
1> restore the RRC configuration, RoHC state, the stored QoS flow to DRB
mapping rules and the K~gNB~ and K~RRCint~ keys from the stored UE Inactive AS
context except the _masterCellGroup_ and _pdcp-Config_ ;
1> set the _resumeMAC-I_ to the 16 least significant bits of the MAC-I
calculated:
2> over the ASN.1 encoded as per clause 8 (i.e., a multiple of 8 bits)
_VarResumeMAC-Input_ ;
2> with the K~RRCint~ key in the UE Inactive AS Context and the previously
configured integrity protection algorithm; and
2> with all input bits for COUNT, BEARER and DIRECTION set to binary ones;
1> derive the K~gNB~ key based on the current K~gNB~ key or the NH, using the
stored _nextHopChainingCount_ value, as specified in TS 33.501 [11];
1> derive the K~RRCenc~ key, the K~RRCint~ key, the K~UPint~ key and the
K~UPenc~ key;
1> configure lower layers to apply integrity protection for all radio bearers
except SRB0 using the configured algorithm and the K~RRCint~ key and K~UPint~
key derived in this clause immediately, i.e., integrity protection shall be
applied to all subsequent messages received and sent by the UE;
NOTE 1: Only DRBs with previously configured UP integrity protection shall
resume integrity protection.
1> configure lower layers to apply ciphering for all radio bearers except SRB0
and to apply the configured ciphering algorithm, the K~RRCenc~ key and the
K~UPenc~ key derived in this clause, i.e. the ciphering configuration shall be
applied to all subsequent messages received and sent by the UE;
1> re-establish PDCP entities for SRB1;
1> resume SRB1;
1> submit the selected message _RRCResumeRequest_ or _RRCResumeRequest1_ for
transmission to lower layers.
NOTE 2: Only DRBs with previously configured UP ciphering shall resume
ciphering.
If lower layers indicate an integrity check failure while T319 is running,
perform actions specified in 5.3.13.5.
The UE shall continue cell re-selection related measurements as well as cell
re-selection evaluation. If the conditions for cell re-selection are
fulfilled, the UE shall perform cell re-selection as specified in 5.3.13.6.
#### 5.3.13.4 Reception of the _RRCResume_ by the UE
The UE shall:
1> stop timer T319;
1> stop timer T380, if running;
1> if the _RRCResume_ includes the _fullConfig_ :
2> perform the full configuration procedure as specified in 5.3.5.11;
1> else:
2> restore the _masterCellGroup_ and _pdcp-Config_ from the UE Inactive AS
context;
1> discard the UE Inactive AS context;
1> release the _suspendConfig_ except the _ran-NotificationAreaInfo_ ;
1> if the _RRCResume_ includes the _masterCellGroup_ :
2> perform the cell group configuration for the received _masterCellGroup_
according to 5.3.5.5;
1> if the _RRCResume_ includes the _radioBearerConfig_ :
2> perform the radio bearer configuration according to 5.3.5.6;
1> if the _RRCResume_ message includes the _sk-Counter_ :
2> perform security key update procedure as specified in 5.3.5.7;
1> if the _RRCResume_ message includes the _radioBearerConfig2_ :
2> perform the radio bearer configuration according to 5.3.5.6;
1> resume SRB2 and all DRBs;
1> if stored, discard the cell reselection priority information provided by
the _cellReselectionPriorities_ or inherited from another RAT;
1> stop timer T320, if running;
1> if the _RRCResume_ message includes the _measConfig_ :
2> perform the measurement configuration procedure as specified in 5.5.2;
1> resume measurements if suspended;
1> if T390 is running:
2> stop timer T390 for all access categories;
2> perform the actions as specified in 5.3.14.4;
1> if T302 is running:
2> stop timer T302;
2> perform the actions as specified in 5.3.14.4;
1> enter RRC_CONNECTED;
1> indicate to upper layers that the suspended RRC connection has been
resumed;
1> stop the cell re-selection procedure;
1> consider the current cell to be the PCell;
1> set the content of the of _RRCResumeComplete_ message as follows:
2> if the upper layer provides NAS PDU, set the _dedicatedNAS-Message_ to
include the information received from upper layers;
2> if the upper layer provides a PLMN, set the _selectedPLMN-Identity_ to PLMN
selected by upper layers (TS 24.501 [23]) from the PLMN(s) included in the
_plmn-IdentityInfoList_ in _SIB1;_
2> if the _masterCellGroup_ contains the _reportUplinkTxDirectCurrent_ :
3> include the _uplinkTxDirectCurrentList_ for each MCG serving cell with UL;
3> include _uplinkDirectCurrentBWP-SUL_ for each MCG serving cell configured
with SUL carrier, if any, within the _uplinkTxDirectCurrentList_ ;
1> submit the _RRCResumeComplete_ message to lower layers for transmission;
1> the procedure ends.
#### 5.3.13.5 T319 expiry or Integrity check failure from lower layers while
T319 is running
The UE shall:
1> if timer T319 expires or upon receiving Integrity check failure indication
from lower layers while T319 is running:
2> perform the actions upon going to RRC_IDLE as specified in 5.3.11 with
release cause \'RRC Resume failure\'.
#### 5.3.13.6 Cell re-selection or cell selection while T390, T319 or T302 is
running (UE in RRC_INACTIVE)
The UE shall:
1> if cell reselection occurs while T319 or T302 is running:
2> perform the actions upon going to RRC_IDLE as specified in 5.3.11 with
release cause \'RRC Resume failure\';
1> else if cell selection or reselection occurs while T390 is running:
2> stop T390 for all access categories;
2> perform the actions as specified in 5.3.14.4.
#### 5.3.13.7 Reception of the _RRCSetup_ by the UE
The UE shall:
1> perform the RRC connection setup procedure as specified in 5.3.3.4.
#### 5.3.13.8 RNA update
In RRC_INACTIVE state, the UE shall:
1> if T380 expires; or
1> if RNA Update is triggered at reception of SIB1, as specified in 5.2.2.4.2:
2> initiate RRC connection resume procedure in 5.3.13.2 with _resumeCause_ set
to _rna-Update_ ;
1> if barring is alleviated for Access Category \'8\', as specified in
5.3.14.4:
2> if upper layers do not request RRC the resumption of an RRC connection, and
2> if the variable _pendingRNA-Update_ is set to _true_ :
3> initiate RRC connection resume procedure in 5.3.13.2 with _resumeCause_
value set to _rna-Update_.
If the UE in RRC_INACTIVE state fails to find a suitable cell and camps on the
acceptable cell to obtain limited service as defined in TS 38.304 [20], the UE
shall:
1> perform the actions upon going to RRC_IDLE as specified in 5.3.11 with
release cause \'other\'.
NOTE: It is left to UE implementation how to behave when T380 expires while
the UE is camped neither on a suitable nor on an acceptable cell.
#### 5.3.13.9 Reception of the _RRCRelease_ by the UE
The UE shall:
1> perform the actions as specified in 5.3.8.
#### 5.3.13.10 Reception of the _RRCReject_ by the UE
The UE shall:
1> perform the actions as specified in 5.3.15.
#### 5.3.13.11 Inability to comply with _RRCResume_
The UE shall:
1> if the UE is unable to comply with (part of) the configuration included in
the _RRCResume_ message;
2> perform the actions upon going to RRC_IDLE as specified in 5.3.11 with
release cause ′RRC Resume failure′.
NOTE 1: The UE may apply above failure handling also in case the _RRCResume_
message causes a protocol error for which the generic error handling as
defined in 10 specifies that the UE shall ignore the message.
NOTE 2: If the UE is unable to comply with part of the configuration, it does
not apply any part of the configuration, i.e. there is no partial
success/failure.
#### 5.3.13.12 Inter RAT cell reselection
Upon reselecting to an inter-RAT cell, the UE shall:
1> perform the actions upon going to RRC_IDLE as specified in 5.3.11, with
release cause \'other\'.
### 5.3.14 Unified Access Control
#### 5.3.14.1 General
The purpose of this procedure is to perform access barring check for an access
attempt associated with a given Access Category and one or more Access
Identities upon request from upper layers according to TS 24.501 [23] or the
RRC layer.
After a PCell change in RRC_CONNECTED the UE shall defer access barring checks
until it has obtained _SIB1_ (as specified in 5.2.2.2) from the target cell.
#### 5.3.14.2 Initiation
Upon initiation of the procedure, the UE shall:
1> if timer T390 is running for the Access Category:
2> consider the access attempt as barred;
1> else if timer T302 is running and the Access Category is neither \'2\' nor
\'0\':
2> consider the access attempt as barred;
1> else:
2> if the Access Category is \'0\':
3> consider the access attempt as allowed;
2> else:
3> if _SIB1_ includes _uac-BarringPerPLMN-List_ and the _uac-BarringPerPLMN-
List_ contains an _UAC-BarringPerPLMN_ entry with the _plmn-IdentityIndex_
corresponding to the PLMN selected by upper layers (see TS 24.501 [23]):
4> select the _UAC-BarringPerPLMN_ entry with the _plmn-IdentityIndex_
corresponding to the PLMN selected by upper layers;
4> in the remainder of this procedure, use the selected _UAC-BarringPerPLMN_
entry (i.e. presence or absence of access barring parameters in this entry)
irrespective of the _uac-BarringForCommon_ included in _SIB1_ ;
3> else if SIB1 includes _uac-BarringForCommon_ :
4> in the remainder of this procedure use the _uac-BarringForCommon_ (i.e.
presence or absence of these parameters) included in _SIB1_ ;
3> else:
4> consider the access attempt as allowed;
3> if _uac-BarringForCommon_ is applicable or the _uac-ACBarringListType_
indicates that _uac-ExplicitACBarringList_ is used:
4> if the corresponding _UAC-BarringPerCatList_ contains a _UAC-BarringPerCat_
entry corresponding to the Access Category:
5> select the _UAC-BarringPerCat_ entry;
5> if the _uac-BarringInfoSetList_ contains a _UAC-BarringInfoSet_ entry
corresponding to the selected _uac-barringInfoSetIndex_ in the _UAC-
BarringPerCat_ :
6> select the _UAC-BarringInfoSet_ entry;
6> perform access barring check for the Access Category as specified in
5.3.14.5, using the selected _UAC-BarringInfoSet_ as \"UAC barring
parameter\";
5> else:
6> consider the access attempt as allowed;
4> else:
5> consider the access attempt as allowed;
3> else if the _uac-ACBarringListType_ indicates that _uac-
ImplicitACBarringList_ is used:
4> select the _uac-BarringInfoSetIndex_ corresponding to the Access Category
in the _uac-ImplicitACBarringList_ ;
4> if the _uac-BarringInfoSetList_ contains the _UAC-BarringInfoSet_ entry
corresponding to the selected _uac-BarringInfoSetIndex_ :
5> select the _UAC-BarringInfoSet_ entry;
5> perform access barring check for the Access Category as specified in
5.3.14.5, using the selected _UAC-BarringInfoSet_ as \"UAC barring
parameter\";
4> else:
5> consider the access attempt as allowed;
3> else:
4> consider the access attempt as allowed;
1> if the access barring check was requested by upper layers:
2> if the access attempt is considered as barred:
3> if timer T302 is running:
4> if timer T390 is running for Access Category \'2\':
5> inform the upper layer that access barring is applicable for all access
categories except categories \'0\', upon which the procedure ends;
4> else
5> inform the upper layer that access barring is applicable for all access
categories except categories \'0\' and \'2\', upon which the procedure ends;
3> else:
4> inform upper layers that the access attempt for the Access Category is
barred, upon which the procedure ends;
2> else:
3> inform upper layers that the access attempt for the Access Category is
allowed, upon which the procedure ends;
1> else:
2> the procedure ends.
#### 5.3.14.3 Void
#### 5.3.14.4 T302, T390 expiry or stop (Barring alleviation)
The UE shall:
1> if timer T302 expires or is stopped:
2> for each Access Category for which T390 is not running:
3> consider the barring for this Access Category to be alleviated:
1> else if timer T390 corresponding to an Access Category other than \'2\'
expires or is stopped, and if timer T302 is not running:
2> consider the barring for this Access Category to be alleviated;
1> else if timer T390 corresponding to the Access Category \'2\' expires or is
stopped:
2> consider the barring for this Access Category to be alleviated;
1> when barring for an Access Category is considered being alleviated:
2> if the Access Category was informed to upper layers as barred:
3> inform upper layers about barring alleviation for the Access Category.
2> if barring is alleviated for Access Category \'8\':
3> perform actions specified in 5.3.13.8;
#### 5.3.14.5 Access barring check
The UE shall:
1> if one or more Access Identities are indicated according to TS 24.501 [23],
and
1> if for at least one of these Access Identities the corresponding bit in the
_uac-BarringForAccessIdentity_ contained in \"UAC barring parameter\" is set
to _zero_ :
2> consider the access attempt as allowed;
1> else:
2> draw a random number \'_rand_ \' uniformly distributed in the range: 0 ≤
_rand_ \ if \'_rand_ \' is lower than the value indicated by _uac-BarringFactor_
included in \"UAC barring parameter\":
3> consider the access attempt as allowed;
2> else:
3> consider the access attempt as barred;
1> if the access attempt is considered as barred:
2> draw a random number \'_rand_ \' that is uniformly distributed in the range
0 ≤ _rand_ \ start timer T390 for the Access Category with the timer value calculated as
follows, using the _uac-BarringTime_ included in \"UAC barring parameter\":
T390 = (0.7+ 0.6 ~*~ _rand_) ~*~ _uac-BarringTime._
### 5.3.15 RRC connection reject
#### 5.3.15.1 Initiation
The UE initiates the procedure upon the reception of _RRCReject_ when the UE
tries to establish or resume an RRC connection.
#### 5.3.15.2 Reception of the _RRCReject_ by the UE
The UE shall:
1> stop timer T300, if running;
1> stop timer T319, if running;
1> stop timer T302, if running;
1> reset MAC and release the default MAC Cell Group configuration;
1> if _waitTime_ is configured in the _RRCReject_ :
2> start timer T302, with the timer value set to the _waitTime_ ;
1> if _RRCReject_ is received in response to a request from upper layers:
2> inform the upper layer that access barring is applicable for all access
categories except categories \'0\' and \'2\';
1> if _RRCReject_ is received in response to an _RRCSetupRequest_ :
2> inform upper layers about the failure to setup the RRC connection, upon
which the procedure ends;
1> else if _RRCReject_ is received in response to an _RRCResumeRequest_ or an
_RRCResumeRequest1_ :
2> if resume is triggered by upper layers:
3> inform upper layers about the failure to resume the RRC connection;
2> if resume is triggered due to an RNA update:
3> set the variable _pendingRNA-Update_ to _true_ ;
2> discard the current K~gNB~ key, the K~RRCenc~ key, the K~RRCint~ key, the
K~UPint~ key and the K~UPenc~ key derived in accordance with 5.3.13.3;
2> suspend SRB1, upon which the procedure ends;
The RRC_INACTIVE UE shall continue to monitor paging while the timer T302 is
running.
## 5.4 Inter-RAT mobility
### 5.4.1 Introduction
Network controlled inter-RAT mobility between NR and E-UTRA is supported,
where E-UTRA can be connected to either EPC or 5GC.
### 5.4.2 Handover to NR
#### 5.4.2.1 General
Figure 5.4.2.1-1: Handover to NR, successful
The purpose of this procedure is to, under the control of the network,
transfer a connection between the UE and another Radio Access Network (e.g.
E-UTRAN) to NR.
The handover to NR procedure applies when SRBs, possibly in combination with
DRBs, are established in another RAT. Handover from E-UTRA to NR applies only
after integrity has been activated in E-UTRA.
#### 5.4.2.2 Initiation
The RAN using another RAT initiates the handover to NR procedure, in
accordance with the specifications applicable for the other RAT, by sending
the _RRCReconfiguration_ message via the radio access technology from which
the inter-RAT handover is performed.
The network applies the procedure as follows:
\- to activate ciphering, possibly using NULL algorithm, if not yet activated
in the other RAT;
\- to re-establish SRBs and one or more DRBs;
#### 5.4.2.3 Reception of the _RRCReconfiguration_ by the UE
The UE shall:
1> apply the default L1 parameter values as specified in corresponding
physical layer specifications except for the parameters for which values are
provided in _SIB1_ ;
1> apply the default MAC Cell Group configuration as specified in 9.2.2;
1> perform RRC reconfiguration procedure as specified in 5.3.5;
NOTE: If the UE is connected to 5GC of the source E-UTRA cell, the delta
configuration for PDCP and SDAP can be used for intra-system inter-RAT
handover. For other cases, source RAT configuration is not considered when the
UE applies the reconfiguration message of target RAT.
### 5.4.3 Mobility from NR
#### 5.4.3.1 General
Figure 5.4.3.1-1: Mobility from NR, successful
Figure 5.4.3.1-2: Mobility from NR, failure
The purpose of this procedure is to move a UE in RRC_CONNECTED to a cell using
other RAT, e.g. E-UTRA. The mobility from NR procedure covers the following
type of mobility:
\- handover, i.e. the _MobilityFromNRCommand_ message includes radio resources
that have been allocated for the UE in the target cell;
#### 5.4.3.2 Initiation
The network initiates the mobility from NR procedure to a UE in RRC_CONNECTED,
possibly in response to a _MeasurementReport_ message, by sending a
_MobilityFromNRCommand_ message. The network applies the procedure as follows:
\- the procedure is initiated only when AS security has been activated, and
SRB2 with at least one DRB are setup and not suspended.
#### 5.4.3.3 Reception of the _MobilityFromNRCommand_ by the UE
The UE shall:
1> stop timer T310, if running;
1> if T390 is running:
2> stop timer T390 for all access categories;
2> perform the actions as specified in 5.3.14.4;
1> if the _targetRAT-Type_ is set to _eutra_ :
2> consider inter-RAT mobility as initiated towards E-UTRA;
2> forward the _nas-SecurityParamFromNR_ to the upper layers, if included;
1> access the target cell indicated in the inter-RAT message in accordance
with the specifications of the target RAT.
#### 5.4.3.4 Successful completion of the mobility from NR
Upon successfully completing the handover, at the source side the UE shall:
1> reset MAC;
1> stop all timers that are running except T325;
1> release _ran-NotificationAreaInfo_ , if stored;
1> release the AS security context including the K~RRCenc~ key, the K~RRCint~
key, the K~UPint~ key and the K~UPenc~ key, if stored;
1> release all radio resources, including release of the RLC entity and the
MAC configuration;
1> release the associated PDCP entity and SDAP entity for all established RBs;
NOTE : PDCP and SDAP configured by the source RAT prior to the handover that
are reconfigured and re-used by target RAT when delta signalling (i.e., during
inter-RAT intra-system handover when _fullConfig_ is not present) is used, are
not released as part of this procedure.
1> if the _targetRAT-Type_ is set to _eutra_ and the _nas-SecurityParamFromNR_
is included:
2> indicate the release of the RRC connection to upper layers together with
the release cause \'other\'.
#### 5.4.3.5 Mobility from NR failure
The UE shall:
1> if the UE does not succeed in establishing the connection to the target
radio access technology; or
1> if the UE is unable to comply with any part of the configuration included
in the _MobilityFromNRCommand_ message; or
1> if there is a protocol error in the inter RAT information included in the
_MobilityFromNRCommand_ message, causing the UE to fail the procedure
according to the specifications applicable for the target RAT:
2> revert back to the configuration used in the source PCell;
2> initiate the connection re-establishment procedure as specified in clause
5.3.7.
## 5.5 Measurements
### 5.5.1 Introduction
The network may configure an RRC_CONNECTED UE to perform measurements and
report them in accordance with the measurement configuration. The measurement
configuration is provided by means of dedicated signalling i.e. using the
_RRCReconfiguration_ or _RRCResume._
The network may configure the UE to perform the following types of
measurements:
\- NR measurements;
\- Inter-RAT measurements of E-UTRA frequencies.
The network may configure the UE to report the following measurement
information based on SS/PBCH block(s):
\- Measurement results per SS/PBCH block;
\- Measurement results per cell based on SS/PBCH block(s);
\- SS/PBCH block(s) indexes.
The network may configure the UE to report the following measurement
information based on CSI-RS resources:
\- Measurement results per CSI-RS resource;
\- Measurement results per cell based on CSI-RS resource(s);
\- CSI-RS resource measurement identifiers.
The measurement configuration includes the following parameters:
**1\. Measurement objects:** A list of objects on which the UE shall perform
the measurements.
\- For intra-frequency and inter-frequency measurements a measurement object
indicates the frequency/time location and subcarrier spacing of reference
signals to be measured. Associated with this measurement object, the network
may configure a list of cell specific offsets, a list of \'blacklisted\' cells
and a list of \'whitelisted\' cells. Blacklisted cells are not applicable in
event evaluation or measurement reporting. Whitelisted cells are the only ones
applicable in event evaluation or measurement reporting.
\- The _measObjectId_ of the MO which corresponds to each serving cell is
indicated by _servingCellMO_ within the serving cell configuration.
\- For inter-RAT E-UTRA measurements a measurement object is a single E-UTRA
carrier frequency. Associated with this E-UTRA carrier frequency, the network
can configure a list of cell specific offsets and a list of \'blacklisted\'
cells. Blacklisted cells are not applicable in event evaluation or measurement
reporting.
**2\. Reporting configurations:** A list of reporting configurations where
there can be one or multiple reporting configurations per measurement object.
Each reporting configuration consists of the following:
\- Reporting criterion: The criterion that triggers the UE to send a
measurement report. This can either be periodical or a single event
description.
\- RS type: The RS that the UE uses for beam and cell measurement results
(SS/PBCH block or CSI-RS).
\- Reporting format: The quantities per cell and per beam that the UE includes
in the measurement report (e.g. RSRP) and other associated information such as
the maximum number of cells and the maximum number beams per cell to report.
**3\. Measurement identities:** A list of measurement identities where each
measurement identity links one measurement object with one reporting
configuration. By configuring multiple measurement identities, it is possible
to link more than one measurement object to the same reporting configuration,
as well as to link more than one reporting configuration to the same
measurement object. The measurement identity is also included in the
measurement report that triggered the reporting, serving as a reference to the
network.
**4\. Quantity configurations:** The quantity configuration defines the
measurement filtering configuration used for all event evaluation and related
reporting, and for periodical reporting of that measurement. For NR
measurements, the network may configure up to 2 quantity configurations with a
reference in the NR measurement object to the configuration that is to be
used. In each configuration, different filter coefficients can be configured
for different measurement quantities, for different RS types, and for
measurements per cell and per beam.
**5\. Measurement gaps:** Periods that the UE may use to perform measurements.
A UE in RRC_CONNECTED maintains a measurement object list, a reporting
configuration list, and a measurement identities list according to signalling
and procedures in this specification. The measurement object list possibly
includes NR measurement object(s) and inter-RAT objects. Similarly, the
reporting configuration list includes NR and inter-RAT reporting
configurations. Any measurement object can be linked to any reporting
configuration of the same RAT type. Some reporting configurations may not be
linked to a measurement object. Likewise, some measurement objects may not be
linked to a reporting configuration.
The measurement procedures distinguish the following types of cells:
1\. The NR serving cell(s) -- these are the SpCell and one or more SCells.
2\. Listed cells -- these are cells listed within the measurement object(s).
3\. Detected cells -- these are cells that are not listed within the
measurement object(s) but are detected by the UE on the SSB frequency(ies) and
subcarrier spacing(s) indicated by the measurement object(s).
For NR measurement object(s), the UE measures and reports on the serving
cell(s), listed cells and/or detected cells. For inter-RAT measurements
object(s) of E-UTRA, the UE measures and reports on listed cells and detected
cells.
Whenever the procedural specification, other than contained in clause 5.5.2,
refers to a field it concerns a field included in the _VarMeasConfig_ unless
explicitly stated otherwise i.e. only the measurement configuration procedure
covers the direct UE action related to the received _measConfig_.
In NR-DC, the UE may receive two independent _measConfig_ :
\- a _measConfig_ , associated with MCG, that is included in the
_RRCReconfiguration_ message received via SRB1; and
\- a _measConfig_ , associated with SCG, that is included in the
_RRCReconfiguration_ message received via SRB3, or, alternatively, included
within a _RRCReconfiguration_ message embedded in a _RRCReconfiguration_
message received via SRB1.
In this case, the UE maintains two independent _VarMeasConfig_ and
_VarMeasReportList_ , one associated with each _measConfig_ , and
independently performs all the procedures in clause 5.5 for each _measConfig_
and the associated _VarMeasConfig_ and _VarMeasReportList_ , unless explicitly
stated otherwise.
### 5.5.2 Measurement configuration
#### 5.5.2.1 General
The network applies the procedure as follows:
\- to ensure that, whenever the UE has a _measConfig associated with a CG_ ,
it includes a _measObject_ for the SpCell and for each NR SCell of the CG to
be measured;
\- to configure at most one measurement identity across all CGs using a
reporting configuration with the _reportType_ set to _reportCGI;_
_-_ to ensure that, in the _measConfig_ associated with a CG:
\- for all SSB based measurements there is at most one measurement object with
the same _ssbFrequency_ ;
_\- an smtc1_ included in any measurement object with the same _ssbFrequency_
has the same value and that an _smtc2_ included in any measurement object with
the same _ssbFrequency_ has the same value;
\- to ensure that all measurement objects configured in this specification and
in TS 36.331 [10] with the same _ssbFrequency_ have the same
_ssbSubcarrierSpacing_ ;
\- to ensure that, if a measurement object associated with the MCG has the
same _ssbFrequency_ as a measurement object associated with the SCG:
\- for that _ssbFrequency_ , the measurement window according to the _smtc1_
configured by the MCG includes the measurement window according to the _smtc1_
configured by the SCG, or vice-versa, with an accuracy of the maximum receive
timing difference specified in TS 38.133 [14].
\- if both measurement objects are used for RSSI measurements, bits in
_measurementSlots_ in both objects corresponding to the same slot are set to
the same value. Also, the _endSymbol_ is the same in both objects.
\- to ensure that, if a measurement object has the same _ssbFrequency_ as a
measurement object configured in TS 36.331 [10]:
\- for that _ssbFrequency_ , the measurement window according to the _smtc_
configured in TS 36.331 [10] includes the measurement window according to the
_smtc1_ configured in TS 38.331, or vice-versa, with an accuracy of the
maximum receive timing difference specified in TS 38.133 [14].
\- if both measurement objects are used for RSSI measurements, bits in
_measurementSlots_ in both objects corresponding to the same slot are set to
the same value. Also, the _endSymbol_ is the same in both objects.
\- when the UE is in NE-DC, NR-DC, or NR standalone, to configure at most one
measurement identity across all CGs using a reporting configuration with the
_reportType_ set to _reportSFTD_ ;
For CSI-RS resources, the network applies the procedure as follows:
\- to ensure that all CSI-RS resources configured in each measurement object
have the same center frequency, (_startPRB_ +floor(_nrofPRBs_ /2))
The UE shall:
1> if the received _measConfig_ includes the _measObjectToRemoveList_ :
2> perform the measurement object removal procedure as specified in 5.5.2.4;
1> if the received _measConfig_ includes the _measObjectToAddModList_ :
2> perform the measurement object addition/modification procedure as specified
in 5.5.2.5;
1> if the received _measConfig_ includes the _reportConfigToRemoveList_ :
2> perform the reporting configuration removal procedure as specified in
5.5.2.6;
1> if the received _measConfig_ includes the _reportConfigToAddModList_ :
2> perform the reporting configuration addition/modification procedure as
specified in 5.5.2.7;
1> if the received _measConfig_ includes the _quantityConfig_ :
2> perform the quantity configuration procedure as specified in 5.5.2.8;
1> if the received _measConfig_ includes the _measIdToRemoveList_ :
2> perform the measurement identity removal procedure as specified in 5.5.2.2;
1> if the received _measConfig_ includes the _measIdToAddModList_ :
2> perform the measurement identity addition/modification procedure as
specified in 5.5.2.3;
1> if the received _measConfig_ includes the _measGapConfig_ :
2> perform the measurement gap configuration procedure as specified in
5.5.2.9;
1> if the received _measConfig_ includes the _measGapSharingConfig_ :
2> perform the measurement gap sharing configuration procedure as specified in
5.5.2.11;
1> if the received _measConfig_ includes the _s-MeasureConfig_ :
2> if _s-MeasureConfig_ is set to _ssb-RSRP_ , set parameter _ssb-RSRP_ of _s-
MeasureConfig_ within _VarMeasConfig_ to the threshold value of the RSRP
indicated by the received value of _s-MeasureConfig_ which is derived as
specified in 6.3.2 _;_
2> else, set parameter _csi-RSRP_ of _s-MeasureConfig_ within _VarMeasConfig_
to the threshold value of the RSRP indicated by the received value of _s-
MeasureConfig_ which is derived as specified in 6.3.2.
#### 5.5.2.2 Measurement identity removal
The UE shall:
1> for each _measId_ included in the received _measIdToRemoveList_ that is
part of the current UE configuration in _VarMeasConfig_ :
2> remove the entry with the matching _measId_ from the _measIdList_ within
the _VarMeasConfig_ ;
2> remove the measurement reporting entry for this _measId_ from the
_VarMeasReportList_ , if included;
2> stop the periodical reporting timer or timer T321 or timer T322, whichever
one is running, and reset the associated information (e.g. _timeToTrigger_)
for this _measId_.
NOTE: The UE does not consider the message as erroneous if the
_measIdToRemoveList_ includes any _measId_ value that is not part of the
current UE configuration.
#### 5.5.2.3 Measurement identity addition/modification
The network applies the procedure as follows:
\- configure a _measId_ only if the corresponding measurement object, the
corresponding reporting configuration and the corresponding quantity
configuration, are configured.
The UE shall:
1> for each _measId_ included in the received _measIdToAddModList_ :
2> if an entry with the matching _measId_ exists in the _measIdList_ within
the _VarMeasConfig_ :
3> replace the entry with the value received for this _measId_ ;
2> else:
3> add a new entry for this _measId_ to the _measIdList_ within the
_VarMeasConfig_ ;
2> remove the measurement reporting entry for this _measId_ from the
_VarMeasReportList_ , if included;
2> stop the periodical reporting timer or timer T321 or timer T322, whichever
one is running, and reset the associated information (e.g. _timeToTrigger_)
for this _measId_ ;
2> if the _reportType_ is set to _reportCGI_ in the _reportConfig_ associated
with this _measId_ :
3> if the _measObject_ associated with this _measId_ concerns E-UTRA:
4> start timer T321 with the timer value set to 1 second for this _measId_ ;
3> if the _measObject_ associated with this _measId_ concerns NR:
4> if the _measObject_ associated with this _measId_ concerns FR1:
5> start timer T321 with the timer value set to 2 seconds for this _measId_ ;
4> if the _measObject_ associated with this _measId_ concerns FR2:
5> start timer T321 with the timer value set to 16 seconds for this _measId_.
2> if the _reportType_ is set to _reportSFTD_ in the _reportConfigNR_
associated with this _measId_ and the _drx-SFTD-NeighMeas_ is included:
3> if the _measObject_ associated with this _measId_ concerns FR1:
4> start timer T322 with the timer value set to 3 seconds for this _measId_ ;
3> if the _measObject_ associated with this _measId_ concerns FR2:
4> start timer T322 with the timer value set to 24 seconds for this _measId_.
#### 5.5.2.4 Measurement object removal
The UE shall:
1> for each _measObjectId_ included in the received _measObjectToRemoveList_
that is part of _measObjectList_ in _VarMeasConfig_ :
2> remove the entry with the matching _measObjectId_ from the _measObjectList_
within the _VarMeasConfig_ ;
2> remove all _measId_ associated with this _measObjectId_ from the
_measIdList_ within the _VarMeasConfig_ , if any;
2> if a _measId_ is removed from the _measIdList_ :
3> remove the measurement reporting entry for this _measId_ from the
_VarMeasReportList_ , if included;
3> stop the periodical reporting timer or timer T321 or timer T322, whichever
is running, and reset the associated information (e.g. _timeToTrigger_) for
this _measId_.
NOTE: The UE does not consider the message as erroneous if the
_measObjectToRemoveList_ includes any _measObjectId_ value that is not part of
the current UE configuration.
#### 5.5.2.5 Measurement object addition/modification
The UE shall:
1> for each _measObjectId_ included in the received _measObjectToAddModList_ :
2> if an entry with the matching _measObjectId_ exists in the _measObjectList_
within the _VarMeasConfig_ , for this entry:
3> reconfigure the entry with the value received for this _measObject_ ,
except for the fields _cellsToAddModList_ , _blackCellsToAddModList_ ,
_whiteCellsToAddModList_ , _cellsToRemoveList_ , _blackCellsToRemoveList_ and
_whiteCellsToRemoveList_ ;
3> if the received _measObject_ includes the _cellsToRemoveList_ :
4> for each _physCellId_ included in the _cellsToRemoveList_ :
5> remove the entry with the matching _physCellId_ from the
_cellsToAddModList_ ;
3> if the received _measObject_ includes the _cellsToAddModList_ :
4> for each _physCellId_ value included in the _cellsToAddModList_ :
5> if an entry with the matching _physCellId_ exists in the
_cellsToAddModList_ :
6> replace the entry with the value received for this _physCellId_ ;
5> else:
6> add a new entry for the received _physCellId_ to the _cellsToAddModList_ ;
3> if the received _measObject_ includes the _blackCellsToRemoveList_ :
4> for each _pci-RangeIndex_ included in the _blackCellsToRemoveList_ :
5> remove the entry with the matching _pci-RangeIndex_ from the
_blackCellsToAddModList_ ;
NOTE 1: For each _pci-RangeIndex_ included in the _blackCellsToRemoveList_
that concerns overlapping ranges of cells, a cell is removed from the
blacklist of cells only if all PCI ranges containing it are removed.
3> if the received _measObject_ includes the _blackCellsToAddModList_ :
4> for each _pci-RangeIndex_ included in the _blackCellsToAddModList_ :
5> if an entry with the matching _pci-RangeIndex_ is included in the
_blackCellsToAddModList_ :
6> replace the entry with the value received for this _pci-RangeIndex_ ;
5> else:
6> add a new entry for the received _pci-RangeIndex_ to the
_blackCellsToAddModList_ ;
3> if the received _measObject_ includes the _whiteCellsToRemoveList_ :
4> for each _pci-RangeIndex_ included in the whiteCellsToRemoveList:
5> remove the entry with the matching _pci-RangeIndex_ from the
_whiteCellsToAddModList_ ;
NOTE2: For each _pci-RangeIndex_ included in the _whiteCellsToRemoveList_ that
concerns overlapping ranges of cells, a cell is removed from the whitelist of
cells only if all PCI ranges containing it are removed.
3> if the received _measObject_ includes the _whiteCellsToAddModList_ :
4> for each _pci-RangeIndex_ included in the _whiteCellsToAddModList_ :
5> if an entry with the matching _pci-RangeIndex_ is included in the
_whiteCellsToAddModList_ :
6> replace the entry with the value received for this _pci-RangeIndex_ ;
5> else:
6> add a new entry for the received _pci-RangeIndex_ to the
_whiteCellsToAddModList_
3> for each _measId_ associated with this _measObjectId_ in the _measIdList_
within the _VarMeasConfig_ , if any:
4> remove the measurement reporting entry for this _measId_ from the
_VarMeasReportList_ , if included;
4> stop the periodical reporting timer or timer T321 or timer T322, whichever
one is running, and reset the associated information (e.g. _timeToTrigger_)
for this _measId_ ;
2> else:
3> add a new entry for the received _measObject_ to the _measObjectList_
within _VarMeasConfig_.
#### 5.5.2.6 Reporting configuration removal
The UE shall:
1> for each _reportConfigId_ included in the received
_reportConfigToRemoveList_ that is part of the current UE configuration in
_VarMeasConfig_ :
2> remove the entry with the matching _reportConfigId_ from the
_reportConfigList_ within the _VarMeasConfig_ ;
2> remove all _measId_ associated with the _reportConfigId_ from the
_measIdList_ within the _VarMeasConfig_ , if any;
2> if a _measId_ is removed from the _measIdList_ :
3> remove the measurement reporting entry for this _measId_ from the
_VarMeasReportList_ , if included;
3> stop the periodical reporting timer or timer T321 or timer T322, whichever
one is running, and reset the associated information (e.g. _timeToTrigger_)
for this _measId_.
NOTE: The UE does not consider the message as erroneous if the
_reportConfigToRemoveList_ includes any _reportConfigId_ value that is not
part of the current UE configuration.
#### 5.5.2.7 Reporting configuration addition/modification
The UE shall:
1> for each _reportConfigId_ included in the received
_reportConfigToAddModList_ :
2> if an entry with the matching _reportConfigId_ exists in the
_reportConfigList_ within the _VarMeasConfig_ , for this entry:
3> reconfigure the entry with the value received for this _reportConfig_ ;
3> for each _measId_ associated with this _reportConfigId_ included in the
_measIdList_ within the _VarMeasConfig_ , if any:
4> remove the measurement reporting entry for this _measId_ from the
_VarMeasReportList_ , if included;
4> stop the periodical reporting timer or timer T321 or timer T322, whichever
one is running, and reset the associated information (e.g. _timeToTrigger_)
for this _measId_ ;
2> else:
3> add a new entry for the received _reportConfig_ to the _reportConfigList_
within the _VarMeasConfig_.
#### 5.5.2.8 Quantity configuration
The UE shall:
1> for each RAT for which the received _quantityConfig_ includes parameter(s):
2> set the corresponding parameter(s) in _quantityConfig_ within
_VarMeasConfig_ to the value of the received _quantityConfig_ parameter(s);
1> for each _measId_ included in the _measIdList_ within _VarMeasConfig_ :
2> remove the measurement reporting entry for this _measId_ from the
_VarMeasReportList_ , if included;
2> stop the periodical reporting timer or timer T321 or timer T322, whichever
one is running, and reset the associated information (e.g. _timeToTrigger_)
for this _measId_.
#### 5.5.2.9 Measurement gap configuration
The UE shall:
1> if _gapFR1_ is set to _setup_ :
2> if an FR1 measurement gap configuration is already setup, release the FR1
measurement gap configuration;
2> setup the FR1 measurement gap configuration indicated by the
_measGapConfig_ in accordance with the received _gapOffset_ , i.e., the first
subframe of each gap occurs at an SFN and subframe meeting the following
condition:
SFN mod _T_ = FLOOR(_gapOffset_ /10);
subframe = _gapOffset_ mod 10;
with _T_ = MGRP/10 as defined in TS 38.133 [14];
2> apply the specified timing advance _mgta_ to the gap occurrences calculated
above (i.e. the UE starts the measurement _mgta_ ms before the gap subframe
occurrences);
1> else if _gapFR1_ is set to _release_ :
2> release the FR1 measurement gap configuration;
1> if _gapFR2_ is set to _setup_ :
2> if an FR2 measurement gap configuration is already setup, release the FR2
measurement gap configuration;
2> setup the FR2 measurement gap configuration indicated by the
_measGapConfig_ in accordance with the received _gapOffset_ , i.e., the first
subframe of each gap occurs at an SFN and subframe meeting the following
condition:
SFN mod _T_ = FLOOR(_gapOffset_ /10);
subframe = _gapOffset_ mod 10;
with _T_ = MGRP/10 as defined in TS 38.133 [14];
2> apply the specified timing advance _mgta_ to the gap occurrences calculated
above (i.e. the UE starts the measurement _mgta_ ms before the gap subframe
occurrences);
1> else if _gapFR2_ is set to _release_ :
2> release the FR2 measurement gap configuration;
1> if _gapUE_ is set to _setup_ :
2> if a per UE measurement gap configuration is already setup, release the per
UE measurement gap configuration;
2> setup the per UE measurement gap configuration indicated by the
_measGapConfig_ in accordance with the received _gapOffset_ , i.e., the first
subframe of each gap occurs at an SFN and subframe meeting the following
condition:
SFN mod _T_ = FLOOR(_gapOffset_ /10);
subframe = _gapOffset_ mod 10;
with _T_ = MGRP/10 as defined in TS 38.133 [14];
2> apply the specified timing advance _mgta_ to the gap occurrences calculated
above (i.e. the UE starts the measurement _mgta_ ms before the gap subframe
occurrences);
1> else if _gapUE_ is set to _release_ :
2> release the per UE measurement gap configuration.
NOTE 1: For _gapFR2_ configuration, for the UE in NE-DC or NR-DC, the SFN and
subframe of the serving cell indicated by the _refServCellIndicator_ in
_gapFR2_ is used in the gap calculation. Otherwise, the SFN and subframe of a
serving cell on FR2 frequency is used in the gap calculation
NOTE 2: For _gapFR1_ or _gapUE_ configuration, for the UE in NE-DC or NR-DC,
the SFN and subframe of the serving cell indicated by the
_refServCellIndicator_ in corresponding _gapFR1_ or _gapUE_ is used in the gap
calculation. Otherwise, the SFN and subframe of the PCell is used in the gap
calculation.
#### 5.5.2.10 Reference signal measurement timing configuration
The UE shall setup the first SS/PBCH block measurement timing configuration
(SMTC) in accordance with the received _periodicityAndOffset_ parameter
(providing _Periodicity_ and _Offset_ value for the following condition) in
the _smtc1_ configuration. The first subframe of each SMTC occasion occurs at
an SFN and subframe of the NR SpCell meeting the following condition:
SFN mod _T_ = (FLOOR (_Offset_ /10));
if the _Periodicity_ is larger than _sf5_ :
subframe = _Offset_ mod 10;
else:
subframe = _Offset_ or (_Offset_ +5);
with _T_ = CEIL(_Periodicity_ /10).
If _smtc2_ is present, for cells indicated in the _pci-List_ parameter in
_smtc2_ in the same _MeasObjectNR_ , the UE shall setup an additional SS/PBCH
block measurement timing configuration (SMTC) in accordance with the received
_periodicity_ parameter in the _smtc2_ configuration and use the _Offset_
(derived from parameter _periodicityAndOffset_) and _duration_ parameter from
the _smtc1_ configuration. The first subframe of each SMTC occasion occurs at
an SFN and subframe of the NR SpCell meeting the above condition.
On the indicated _ssbFrequency_ , the UE shall not consider SS/PBCH block
transmission in subframes outside the SMTC occasion for RRM measurements based
on SS/PBCH blocks and for RRM measurements based on CSI-RS except for SFTD
measurement (see TS 38.133 [14], clause 9.3.8).
#### 5.5.2.11 Measurement gap sharing configuration
The UE shall:
1> if _gapSharingFR1_ is set to _setup_ :
2> if an FR1 measurement gap sharing configuration is already setup:
3> release the FR1 measurement gap sharing configuration;
2> setup the FR1 measurement gap sharing configuration indicated by the
_measGapSharingConfig_ in accordance with the received _gapSharingFR1_ as
defined in TS 38.133 [14];
1> else if _gapSharingFR1_ is set to _release_ :
2> release the FR1 measurement gap sharing configuration;
1> if _gapSharingFR2_ is set to _setup_ :
2> if an FR2 measurement gap sharing configuration is already setup:
3> release the FR2 measurement gap sharing configuration;
2> setup the FR2 measurement gap sharing configuration indicated by the
_measGapSharingConfig_ in accordance with the received _gapSharingFR2_ as
defined in TS 38.133 [14];
1> else if _gapSharingFR2_ is set to _release_ :
2> release the FR2 measurement gap sharing configuration.
1> if _gapSharingUE_ is set to _setup_ :
2> if a per UE measurement gap sharing configuration is already setup:
3> release the per UE measurement gap sharing configuration;
2> setup the per UE measurement gap sharing configuration indicated by the
_measGapSharingConfig_ in accordance with the received _gapSharingUE_ as
defined in TS 38.133 [14];
1> else if _gapSharingUE_ is set to _release_ :
2> release the per UE measurement gap sharing configuration.
### 5.5.3 Performing measurements
#### 5.5.3.1 General
An RRC_CONNECTED UE shall derive cell measurement results by measuring one or
multiple beams associated per cell as configured by the network, as described
in 5.5.3.3. For all cell measurement results in RRC_CONNECTED the UE applies
the layer 3 filtering as specified in 5.5.3.2, before using the measured
results for evaluation of reporting criteria and measurement reporting. For
cell measurements, the network can configure RSRP, RSRQ or SINR as trigger
quantity. Reporting quantities can be any combination of quantities (i.e. only
RSRP; only RSRQ; only SINR; RSRP and RSRQ; RSRP and SINR; RSRQ and SINR; RSRP,
RSRQ and SINR), irrespective of the trigger quantity.
The network may also configure the UE to report measurement information per
beam (which can either be measurement results per beam with respective beam
identifier(s) or only beam identifier(s)), derived as described in 5.5.3.3a.
If beam measurement information is configured to be included in measurement
reports, the UE applies the layer 3 beam filtering as specified in 5.5.3.2. On
the other hand, the exact L1 filtering of beam measurements used to derive
cell measurement results is implementation dependent.
The UE shall:
1> whenever the UE has a _measConfig_ , perform RSRP and RSRQ measurements for
each serving cell for which _servingCellMO_ is configured as follows:
2> if the _reportConfig_ associated with at least one _measId_ included in the
_measIdList_ within _VarMeasConfig_ contains an _rsType_ set to _ssb_ and
_ssb-ConfigMobility_ is configured in the _measObject_ indicated by the
_servingCellMO_ :
3> if the _reportConfig_ associated with at least one _measId_ included in the
_measIdList_ within _VarMeasConfig_ contains a _reportQuantityRS-Indexes_ and
_maxNrofRS-IndexesToReport_ and contains an _rsType_ set to _ssb_ :
4> derive layer 3 filtered RSRP and RSRQ per beam for the serving cell based
on SS/PBCH block, as described in 5.5.3.3a;
3> derive serving cell measurement results based on SS/PBCH block, as
described in 5.5.3.3;
2> if the _reportConfig_ associated with at least one _measId_ included in the
_measIdList_ within _VarMeasConfig_ contains an _rsType_ set to _csi-rs_ and
_CSI-RS-ResourceConfigMobility_ is configured in the _measObject_ indicated by
the _servingCellMO_ :
3> if the _reportConfig_ associated with at least one _measId_ included in the
_measIdList_ within _VarMeasConfig_ contains a _reportQuantityRS-Indexes_ and
_maxNrofRS-IndexesToReport_ and contains an _rsType_ set to _csi-rs_ :
4> derive layer 3 filtered RSRP and RSRQ per beam for the serving cell based
on CSI-RS, as described in 5.5.3.3a;
3> derive serving cell measurement results based on CSI-RS, as described in
5.5.3.3;
1> for each serving cell for which _servingCellMO_ is configured, if the
_reportConfig_ associated with at least one _measId_ included in the
_measIdList_ within _VarMeasConfig_ contains SINR as trigger quantity and/or
reporting quantity:
2> if the _reportConfig_ contains _rsType_ set to _ssb_ and _ssb-
ConfigMobility_ is configured in the _servingCellMO_ :
3> if the _reportConfig_ contains a _reportQuantityRS-Indexes_ and _maxNrofRS-
IndexesToReport_ :
4> derive layer 3 filtered SINR per beam for the serving cell based on SS/PBCH
block, as described in 5.5.3.3a;
3> derive serving cell SINR based on SS/PBCH block, as described in 5.5.3.3;
2> if the _reportConfig_ contains _rsType_ set to _csi-rs_ and _CSI-RS-
ResourceConfigMobility_ is configured in the _servingCellMO_ :
3> if the _reportConfig_ contains a _reportQuantityRS-Indexes_ and _maxNrofRS-
IndexesToReport_ :
4> derive layer 3 filtered SINR per beam for the serving cell based on CSI-RS,
as described in 5.5.3.3a;
3> derive serving cell SINR based on CSI-RS, as described in 5.5.3.3;
1> for each _measId_ included in the _measIdList_ within _VarMeasConfig_ :
2> if the _reportType_ for the associated _reportConfig_ is set to _reportCGI_
and timer T321 is running:
3> perform the corresponding measurements on the frequency and RAT indicated
in the associated _measObject_ using available idle periods;
3> if the cell indicated by _reportCGI_ field for the associated _measObject_
is an NR cell and that indicated cell is broadcasting _SIB1_ (see TS 38.213
[13], clause 13):
4> try to acquire _SIB1_ in the concerned cell;
3> if the cell indicated by _reportCGI_ field is an E-UTRA cell:
4> try to acquire _SystemInformationBlockType1_ in the concerned cell;
2> if the _reportType_ for the associated _reportConfig_ is _periodical_ or
_eventTriggered_ :
3> if a measurement gap configuration is setup, or
3> if the UE does not require measurement gaps to perform the concerned
measurements:
4> if _s-MeasureConfig_ is not configured, or
4> if _s-MeasureConfig_ is set to _ssb-RSRP_ and the NR SpCell RSRP based on
SS/PBCH block, after layer 3 filtering, is lower than _ssb-RSRP,_ or
4> if _s-MeasureConfig_ is set to _csi-RSRP_ and the NR SpCell RSRP based on
CSI-RS, after layer 3 filtering, is lower than _csi-RSRP_ :
5> if the _measObject_ is associated to NR and the _rsType_ is set to _csi-rs_
:
6> if _reportQuantityRS-Indexes_ and _maxNrofRS-IndexesToReport_ for the
associated _reportConfig_ are configured:
7> derive layer 3 filtered beam measurements only based on CSI-RS for each
measurement quantity indicated in _reportQuantityRS-Indexes_ , as described in
5.5.3.3a;
6> derive cell measurement results based on CSI-RS for the trigger quantity
and each measurement quantity indicated in _reportQuantityCell_ using
parameters from the associated _measObject_ , as described in 5.5.3.3;
5> if the _measObject_ is associated to NR and the _rsType_ is set to _ssb_ :
6> if _reportQuantityRS-Indexes_ and _maxNrofRS-IndexesToReport_ for the
associated _reportConfig_ are configured:
7> derive layer 3 beam measurements only based on SS/PBCH block for each
measurement quantity indicated in _reportQuantityRS-Indexes_ , as described in
5.5.3.3a;
6> derive cell measurement results based on SS/PBCH block for the trigger
quantity and each measurement quantity indicated in _reportQuantityCell_ using
parameters from the associated _measObject_ , as described in 5.5.3.3;
5> if the _measObject_ is associated to E-UTRA:
6> perform the corresponding measurements associated to neighbouring cells on
the frequencies indicated in the concerned _measObject_ , as described in
5.5.3.2;
2> if the _reportType_ for the associated _reportConfig_ is set to
_reportSFTD_ and the _numberOfReportsSent_ as defined within the
_VarMeasReportList_ for this _measId_ is less than one:
3> if the _reportSFTD-Meas_ is set to _true:_
4> if the _measObject_ is associated to E-UTRA:
5> perform SFTD measurements between the PCell and the E-UTRA PSCell;
5> if the _reportRSRP_ is set to _true_ ;
6> perform RSRP measurements for the E-UTRA PSCell;
4> else if the _measObject_ is associated to NR:
5> perform SFTD measurements between the PCell and the NR PSCell;
5> if the _reportRSRP_ is set to _true_ ;
6> perform RSRP measurements for the NR PSCell based on SSB;
3> else if the _reportSFTD-NeighMeas_ is included _:_
4> if the _measObject_ is associated to NR:
5> if the _drx-SFTD-NeighMeas_ is included:
6> perform SFTD measurements between the PCell and the NR neighbouring cell(s)
detected based on parameters in the associated _measObject_ using available
idle periods;
5> else:
6> perform SFTD measurements between the PCell and the NR neighbouring cell(s)
detected based on parameters in the associated _measObject_ ;
5> if the _reportRSRP_ is set to _true_ :
6> perform RSRP measurements based on SSB for the NR neighbouring cell(s)
detected based on parameters in the associated _measObject_ ;
2> perform the evaluation of reporting criteria as specified in 5.5.4.
#### 5.5.3.2 Layer 3 filtering
The UE shall:
1> for each cell measurement quantity and for each beam measurement quantity
that the UE performs measurements according to 5.5.3.1:
2> filter the measured result, before using for evaluation of reporting
criteria or for measurement reporting, by the following formula:
**_F_ ~n~ = (1 -- _a_)*_F_ ~n-1~ + _a_ *_M_ ~n~**
where
**_M~n~_** is the latest received measurement result from the physical layer;
**_F~n~_** is the updated filtered measurement result, that is used for
evaluation of reporting criteria or for measurement reporting;
**_F~n-1~_** is the old filtered measurement result, where **_F~0~_** is set
to **_M~1~_** when the first measurement result from the physical layer is
received; and for NR, **_a_** = 1/2^(**_ki_** /4)^, where **_k~i~_** is the
_filterCoefficient_ for the corresponding measurement quantity of the i:th
_QuantityConfigNR_ in _quantityConfigNR-List_ , and _i_ is indicated by
_quantityConfigIndex_ in _MeasObjectNR;_ for E-UTRA, **_a_** = 1/2^(**_k_**
/4)^, where **_k_** is the _filterCoefficient_ for the corresponding
measurement quantity received by _quantityConfigEUTRA_ in the
_quantityConfig;_
2> adapt the filter such that the time characteristics of the filter are
preserved at different input rates, observing that the _filterCoefficient k_
assumes a sample rate equal to X ms; The value of X is equivalent to one
intra-frequency L1 measurement period as defined in TS 38.133 [14] assuming
non-DRX operation, and depends on frequency range.
NOTE 1: If **_k_** is set to 0, no layer 3 filtering is applicable.
NOTE 2: The filtering is performed in the same domain as used for evaluation
of reporting criteria or for measurement reporting, i.e., logarithmic
filtering for logarithmic measurements.
NOTE 3: The filter input rate is implementation dependent, to fulfil the
performance requirements set in TS 38.133 [14]. For further details about the
physical layer measurements, see TS 38.133 [14].
#### 5.5.3.3 Derivation of cell measurement results
The network may configure the UE to derive RSRP, RSRQ and SINR measurement
results per cell associated to NR measurement objects based on parameters
configured in the _measObject_ (e.g. maximum number of beams to be averaged
and beam consolidation thresholds) and in the _reportConfig_ (_rsType_ to be
measured, SS/PBCH block or CSI-RS).
The UE shall:
1> for each cell measurement quantity to be derived based on SS/PBCH block:
2> if _nrofSS-BlocksToAverage_ in the associated _measObject_ is not
configured; or
2> if _absThreshSS-BlocksConsolidation_ in the associated _measObject_ is not
configured; or
2> if the highest beam measurement quantity value is below or equal to
_absThreshSS-BlocksConsolidation_ :
3> derive each cell measurement quantity based on SS/PBCH block as the highest
beam measurement quantity value, where each beam measurement quantity is
described in TS 38.215 [9];
2> else:
3> derive each cell measurement quantity based on SS/PBCH block as the linear
power scale average of the highest beam measurement quantity values above
_absThreshSS-BlocksConsolidation_ where the total number of averaged beams
shall not exceed _nrofSS-BlocksToAverage_ ;
2> apply layer 3 cell filtering as described in 5.5.3.2;
1> for each cell measurement quantity to be derived based on CSI-RS:
2> consider a CSI-RS resource to be applicable for deriving cell measurements
when the concerned CSI-RS resource is included in the _csi-rs-CellMobility_
including the _physCellId_ of the cell in the _CSI-RS-ResourceConfigMobility_
in the associated _measObject_ ;
2> if _nrofCSI-RS-ResourcesToAverage_ in the associated _measObject_ is not
configured; or
2> if _absThreshCSI-RS-Consolidation_ in the associated _measObject_ is not
configured; or
2> if the highest beam measurement quantity value is below or equal to
_absThreshCSI-RS-Consolidation_ :
3> derive each cell measurement quantity based on applicable CSI-RS resources
for the cell as the highest beam measurement quantity value, where each beam
measurement quantity is described in TS 38.215 [9];
2> else:
3> derive each cell measurement quantity based on CSI-RS as the linear power
scale average of the highest beam measurement quantity values above
_absThreshCSI-RS-Consolidation_ where the total number of averaged beams shall
not exceed _nrofCSI-RS-ResourcesToAverage_ ;
2> apply layer 3 cell filtering as described in 5.5.3.2.
#### 5.5.3.3a Derivation of layer 3 beam filtered measurement
The UE shall:
1> for each layer 3 beam filtered measurement quantity to be derived based on
SS/PBCH block;
2> derive each configured beam measurement quantity based on SS/PBCH block as
described in TS 38.215[9], and apply layer 3 beam filtering as described in
5.5.3.2;
1> for each layer 3 beam filtered measurement quantity to be derived based on
CSI-RS;
2> derive each configured beam measurement quantity based on CSI-RS as
described in TS 38.215 [9], and apply layer 3 beam filtering as described in
5.5.3.2.
### 5.5.4 Measurement report triggering
#### 5.5.4.1 General
If AS security has been activated successfully, the UE shall:
1> for each _measId_ included in the _measIdList_ within _VarMeasConfig_ :
2> if the corresponding _reportConfig_ includes a _reportType_ set to
_eventTriggered_ or _periodical_ :
3> if the corresponding _measObject_ concerns NR:
4> if the _eventA1_ or _eventA2_ is configured in the corresponding
_reportConfig_ :
5> consider only the serving cell to be applicable;
4> if the _eventA3_ or _eventA5_ is configured in the corresponding
_reportConfig_ :
5> if a serving cell is associated with a _measObjectNR_ and neighbours are
associated with another _measObjectNR_ , consider any serving cell associated
with the other _measObjectNR_ to be a neighbouring cell as well;
4> if corresponding _reportConfig_ includes _reportType_ set to _periodical_ ;
or
4> for measurement events other than _eventA1_ or _eventA2_ :
5> if _useWhiteCellList_ is set to _true_ :
6> consider any neighbouring cell detected based on parameters in the
associated _measObjectNR_ to be applicable when the concerned cell is included
in the _whiteCellsToAddModList_ defined within the _VarMeasConfig_ for this
_measId_ ;
5> else:
6> consider any neighbouring cell detected based on parameters in the
associated _measObjectNR_ to be applicable when the concerned cell is not
included in the _blackCellsToAddModList_ defined within the _VarMeasConfig_
for this _measId_ ;
3> else if the corresponding _measObject_ concerns E-UTRA:
4> if _eventB1_ or _eventB2_ is configured in the corresponding _reportConfig_
:
5> consider a serving cell, if any, on the associated E-UTRA frequency as
neighbour cell;
4> consider any neighbouring cell detected on the associated frequency to be
applicable when the concerned cell is not included in the
_blackCellsToAddModListEUTRAN_ defined within the _VarMeasConfig_ for this
_measId_ ;
2> else if the corresponding _reportConfig_ includes a _reportType_ set to
_reportCGI_ :
3> consider the cell detected on the associated _measObject_ which has a
physical cell identity matching the value of the _cellForWhichToReportCGI_
included in the corresponding _reportConfig_ within the _VarMeasConfig_ to be
applicable;
2> else if the corresponding _reportConfig_ includes a _reportType_ set to
_reportSFTD_ :
3> if the corresponding _measObject_ concerns NR:
4> if the _reportSFTD-Meas_ is set to _true_ :
5> consider the NR PSCell to be applicable;
4> else if the _reportSFTD-NeighMeas_ is included:
5> if _cellsForWhichToReportSFTD_ is configured in the corresponding
_reportConfig_ :
6> consider any NR neighbouring cell detected on the associated _measObjectNR_
which has a physical cell identity that is included in the
_cellsForWhichToReportSFTD_ to be applicable;
5> else:
6> consider up to 3 strongest NR neighbouring cells detected based on
parameters in the associated _measObjectNR_ to be applicable when the
concerned cells are not included in the _blackCellsToAddModList_ defined
within the _VarMeasConfig_ for this _measId_ ;
3> else if the corresponding _measObject_ concerns E-UTRA:
4> if the _reportSFTD-Meas_ is set to _true_ :
5> consider the E-UTRA PSCell to be applicable;
2> if the _reportType_ is set to _eventTriggered_ and if the entry condition
applicable for this event, i.e. the event corresponding with the _eventId_ of
the corresponding _reportConfig_ within _VarMeasConfig_ , is fulfilled for one
or more applicable cells for all measurements after layer 3 filtering taken
during _timeToTrigger_ defined for this event within the _VarMeasConfig_ ,
while the _VarMeasReportList_ does not include a measurement reporting entry
for this _measId_ (a first cell triggers the event):
3> include a measurement reporting entry within the _VarMeasReportList_ for
this _measId_ ;
3> set the _numberOfReportsSent_ defined within the _VarMeasReportList_ for
this _measId_ to 0;
3> include the concerned cell(s) in the _cellsTriggeredList_ defined within
the _VarMeasReportList_ for this _measId_ ;
3> initiate the measurement reporting procedure, as specified in 5.5.5;
2> else if the _reportType_ is set to _eventTriggered_ and if the entry
condition applicable for this event, i.e. the event corresponding with the
_eventId_ of the corresponding _reportConfig_ within _VarMeasConfig_ , is
fulfilled for one or more applicable cells not included in the
_cellsTriggeredList_ for all measurements after layer 3 filtering taken during
_timeToTrigger_ defined for this event within the _VarMeasConfig_ (a
subsequent cell triggers the event):
3> set the _numberOfReportsSent_ defined within the _VarMeasReportList_ for
this _measId_ to 0;
3> include the concerned cell(s) in the _cellsTriggeredList_ defined within
the _VarMeasReportList_ for this _measId_ ;
3> initiate the measurement reporting procedure, as specified in 5.5.5;
2> if the _reportType_ is set to _eventTriggered_ and if the leaving condition
applicable for this event is fulfilled for one or more of the cells included
in the _cellsTriggeredList_ defined within the _VarMeasReportList_ for this
_measId_ for all measurements after layer 3 filtering taken during
_timeToTrigger_ defined within the _VarMeasConfig_ for this event:
3> remove the concerned cell(s) in the _cellsTriggeredList_ defined within the
_VarMeasReportList_ for this _measId_ ;
3> if _reportOnLeave_ is set to _true_ for the corresponding reporting
configuration:
4> initiate the measurement reporting procedure, as specified in 5.5.5;
3> if the _cellsTriggeredList_ defined within the _VarMeasReportList_ for this
_measId_ is empty:
4> remove the measurement reporting entry within the _VarMeasReportList_ for
this _measId_ ;
4> stop the periodical reporting timer for this _measId_ , if running;
2> if _reportType_ is set to _periodical_ and if a (first) measurement result
is available:
3> include a measurement reporting entry within the _VarMeasReportList_ for
this _measId_ ;
3> set the _numberOfReportsSent_ defined within the _VarMeasReportList_ for
this _measId_ to 0;
3> if the _reportAmount_ exceeds 1:
4> initiate the measurement reporting procedure, as specified in 5.5.5,
immediately after the quantity to be reported becomes available for the NR
SpCell;
3> else (i.e. the _reportAmount_ is equal to 1):
4> initiate the measurement reporting procedure, as specified in 5.5.5,
immediately after the quantity to be reported becomes available for the NR
SpCell and for the strongest cell among the applicable cells;
2> upon expiry of the periodical reporting timer for this _measId_ :
3> initiate the measurement reporting procedure, as specified in 5.5.5.
2> if the corresponding _reportConfig_ includes a _reportType_ is set to
_reportSFTD_ :
3> if the corresponding _measObject_ concerns NR:
4> if the _drx-SFTD-NeighMeas_ is included:
5> if the quantity to be reported becomes available for each requested pair of
PCell and NR cell:
6> stop timer T322;
6> initiate the measurement reporting procedure, as specified in 5.5.5;
4> else
5> initiate the measurement reporting procedure, as specified in 5.5.5,
immediately after the quantity to be reported becomes available for each
requested pair of PCell and NR cell or the maximal measurement reporting delay
as specified in TS 38.133 [14];
3> else if the corresponding _measObject_ concerns E-UTRA:
4> initiate the measurement reporting procedure, as specified in 5.5.5,
immediately after the quantity to be reported becomes available for the pair
of PCell and E-UTRA PSCell or the maximal measurement reporting delay as
specified in TS 38.133 [14];
2> if _reportType_ is set to _reportCGI_ :
3> if the UE acquired the _SIB1_ or _SystemInformationBlockType1_ for the
requested cell; or
3> if the UE detects that the requested NR cell is not transmitting _SIB1_
(see TS 38.213 [13], clause 13):
4> stop timer T321;
4> include a measurement reporting entry within the _VarMeasReportList_ for
this _measId_ ;
4> set the _numberOfReportsSent_ defined within the _VarMeasReportList_ for
this _measId_ to 0;
4> initiate the measurement reporting procedure, as specified in 5.5.5;
2> upon the expiry of T321 for this _measId_ :
3> include a measurement reporting entry within the _VarMeasReportList_ for
this _measId_ ;
3> set the _numberOfReportsSent_ defined within the _VarMeasReportList_ for
this _measId_ to 0;
3> initiate the measurement reporting procedure, as specified in 5.5.5.
2> upon the expiry of T322 for this _measId_ :
3> initiate the measurement reporting procedure, as specified in 5.5.5;
#### 5.5.4.2 Event A1 (Serving becomes better than threshold)
The UE shall:
1> consider the entering condition for this event to be satisfied when
condition A1-1, as specified below, is fulfilled;
1> consider the leaving condition for this event to be satisfied when
condition A1-2, as specified below, is fulfilled;
1> for this measurement, consider the NR serving cell corresponding to the
associated _measObjectNR_ associated with this event.
Inequality A1-1 (Entering condition)
_Ms -- Hys > Thresh_
Inequality A1-2 (Leaving condition)
_Ms + Hys \  consider the entering condition for this event to be satisfied when
condition A2-1, as specified below, is fulfilled;
1> consider the leaving condition for this event to be satisfied when
condition A2-2, as specified below, is fulfilled;
1> for this measurement, consider the serving cell indicated by the
_measObjectNR_ associated to this event.
Inequality A2-1 (Entering condition)
_Ms + Hys \  Thresh_
The variables in the formula are defined as follows:
**_Ms_** is the measurement result of the serving cell, not taking into
account any offsets.
**_Hys_** is the hysteresis parameter for this event (i.e. _hysteresis_ as
defined within _reportConfigNR_ for this event).
**_Thresh_** is the threshold parameter for this event (i.e. _a2-Threshold_ as
defined within _reportConfigNR_ for this event).
**_Ms_** is expressed in dBm in case of RSRP, or in dB in case of RSRQ and RS-
SINR.
**_Hys_** is expressed in dB.
**_Thresh_** is expressed in the same unit as **_Ms_**.
#### 5.5.4.4 Event A3 (Neighbour becomes offset better than SpCell)
The UE shall:
1> consider the entering condition for this event to be satisfied when
condition A3-1, as specified below, is fulfilled;
1> consider the leaving condition for this event to be satisfied when
condition A3-2, as specified below, is fulfilled;
1> use the SpCell for _Mp_ , _Ofp and Ocp_.
NOTE The cell(s) that triggers the event has reference signals indicated in
the _measObjectNR_ associated to this event which may be different from the NR
SpCell _measObjectNR_.
Inequality A3-1 (Entering condition)
_Mn + Ofn + Ocn -- Hys > Mp + Ofp + Ocp + Off_
Inequality A3-2 (Leaving condition)
_Mn + Ofn + Ocn + Hys \  consider the entering condition for this event to be satisfied when
condition A4-1, as specified below, is fulfilled;
1> consider the leaving condition for this event to be satisfied when
condition A4-2, as specified below, is fulfilled.
Inequality A4-1 (Entering condition)
_Mn + Ofn + Ocn -- Hys > Thresh_
Inequality A4-2 (Leaving condition)
_Mn + Ofn + Ocn + Hys \  consider the entering condition for this event to be satisfied when both
condition A5-1 and condition A5-2, as specified below, are fulfilled;
1> consider the leaving condition for this event to be satisfied when
condition A5-3 or condition A5-4, i.e. at least one of the two, as specified
below, is fulfilled;
1> use the SpCell for _Mp_.
NOTE: The parameters of the reference signal(s) of the cell(s) that triggers
the event are indicated in the _measObjectNR_ associated to the event which
may be different from the _measObjectNR_ of the NR SpCell.
Inequality A5-1 (Entering condition 1)
_Mp + Hys \  Thresh2_
Inequality A5-3 (Leaving condition 1)
_Mp -- Hys > Thresh1_
Inequality A5-4 (Leaving condition 2)
_Mn + Ofn + Ocn + Hys \  consider the entering condition for this event to be satisfied when
condition A6-1, as specified below, is fulfilled;
1> consider the leaving condition for this event to be satisfied when
condition A6-2, as specified below, is fulfilled;
1> for this measurement, consider the (secondary) cell corresponding to the
_measObjectNR_ associated to this event to be the serving cell.
NOTE: The reference signal(s) of the neighbour(s) and the reference signal(s)
of the SCell are both indicated in the associated _measObjectNR_.
Inequality A6-1 (Entering condition)
_Mn + Ocn -- Hys > Ms + Ocs + Off_
Inequality A6-2 (Leaving condition)
_Mn + Ocn + Hys \  consider the entering condition for this event to be satisfied when
condition B1-1, as specified below, is fulfilled;
1> consider the leaving condition for this event to be satisfied when
condition B1-2, as specified below, is fulfilled.
Inequality B1-1 (Entering condition)
_Mn + Ofn + Ocn -- Hys > Thresh_
Inequality B1-2 (Leaving condition)
_Mn + Ofn + Ocn + Hys \  consider the entering condition for this event to be satisfied when both
condition B2-1 and condition B2-2, as specified below, are fulfilled;
1> consider the leaving condition for this event to be satisfied when
condition B2-3 or condition B2-4, i.e. at least one of the two, as specified
below, is fulfilled;
Inequality B2-1 (Entering condition 1)
_Mp + Hys \  Thresh2_
Inequality B2-3 (Leaving condition 1)
_Mp -- Hys > Thresh1_
Inequality B2-4 (Leaving condition 2)
_Mn + Ofn + Ocn + Hys \  set the _measId_ to the measurement identity that triggered the measurement
reporting;
1> for each serving cell configured with _servingCellMO:_
2> if the _reportConfig_ associated with the _measId_ that triggered the
measurement reporting includes _rsType:_
3> if the serving cell measurements based on the _rsType included in the
reportConfig_ _that triggered the measurement report are available:_
4> set the _measResultServingCell_ within _measResultServingMOList_ to include
RSRP, RSRQ and the available SINR of the serving cell, derived based on the
_rsType_ included in the _reportConfig that triggered the measurement report;_
2> else _:_
3> if SSB based serving cell measurements are available:
4> set the _measResultServingCell_ within _measResultServingMOList_ to include
RSRP, RSRQ and the available SINR of the serving cell, derived based on SSB;
3> else if CSI-RS based serving cell measurements are available:
4> set the _measResultServingCell_ within _measResultServingMOList_ to include
RSRP, RSRQ and the available SINR of the serving cell, derived based on CSI-
RS;
1> set the _servCellId_ within _measResultServingMOList_ to include each NR
serving cell that is configured with _servingCellMO_ , if any;
1> if the _reportConfig_ associated with the _measId_ that triggered the
measurement reporting includes _reportQuantityRS-Indexes_ and _maxNrofRS-
IndexesToReport_ :
2> for each serving cell configured with _servingCellMO_ , include beam
measurement information according to the associated _reportConfig_ as
described in 5.5.5.2;
1> if the _reportConfig_ associated with the _measId_ that triggered the
measurement reporting includes _reportAddNeighMeas_ :
2> for each _measObjectId_ referenced in the _measIdList_ which is also
referenced with _servingCellMO_ , other than the _measObjectId_ corresponding
with the _measId_ that triggered the measurement reporting:
3> if the _measObjectNR_ indicated by the _servingCellMO_ includes the RS
resource configuration corresponding to the _rsType_ indicated in the
_reportConfig_ :
4> set the _measResultBestNeighCell_ within _measResultServingMOList_ to
include the _physCellId_ and the available measurement quantities based on the
_reportQuantityCell_ and _rsType_ indicated in _reportConfig_ of the non-
serving cell corresponding to the concerned _measObjectNR_ with the highest
measured RSRP if RSRP measurement results are available for cells
corresponding to this _measObjectNR_ , otherwise with the highest measured
RSRQ if RSRQ measurement results are available for cells corresponding to this
_measObjectNR_ , otherwise with the highest measured SINR;
4> if the _reportConfig_ associated with the _measId_ that triggered the
measurement reporting includes _reportQuantityRS-Indexes_ and _maxNrofRS-
IndexesToReport:_
5> for each best non-serving cell included in the measurement report:
6> include beam measurement information according to the associated
_reportConfig_ as described in 5.5.5.2;
1> if the _reportConfig_ associated with the _measId_ that triggered the
measurement reporting is set to _eventTriggered_ and _eventID_ is set to
_eventA3_ , or _eventA4_ , or _eventA5_ , or _eventB1_ , or _eventB2_ :
2> if the UE is in NE-DC and the measurement configuration that triggered this
measurement report is associated with the MCG:
3> set the _measResultServFreqListEUTRA-SCG_ to include an entry for each
E-UTRA SCG serving frequency with the following:
4> include _carrierFreq_ of the E-UTRA serving frequency;
4> set the _measResultServingCell_ to include the available measurement
quantities that the UE is configured to measure by the measurement
configuration associated with the SCG;
4> if _reportConfig_ associated with the _measId_ that triggered the
measurement reporting includes _reportAddNeighMeas_ :
5> set the _measResultServFreqListEUTRA-SCG_ to include within
_measResultBestNeighCell_ the quantities of the best non-serving cell, based
on RSRP, on the concerned serving frequency;
1> if _reportConfig_ associated with the _measId_ that triggered the
measurement reporting is set to _eventTriggered_ and _eventID_ is set to
_eventA3_ , or _eventA4_ , or _eventA5_ :
2> if the UE is in NR-DC and the measurement configuration that triggered this
measurement report is associated with the MCG:
3> set the _measResultServFreqListNR-SCG_ to include for each NR SCG serving
cell that is configured with _servingCellMO_ , if any, the following:
4> if the _reportConfig_ associated with the _measId_ that triggered the
measurement reporting includes _rsType_ :
5> if the serving cell measurements based on the _rsType_ included in the
_reportConfig_ that triggered the measurement report are available according
to the measurement configuration associated with the SCG:
6> set the _measResultServingCell_ within _measResultServFreqListNR-SCG_ to
include RSRP, RSRQ and the available SINR of the serving cell, derived based
on the _rsType_ included in the _reportConfig_ that triggered the measurement
report;
4> else:
5> if SSB based serving cell measurements are available according to the
measurement configuration associated with the SCG:
6> set the _measResultServingCell_ within _measResultServFreqListNR-SCG_ to
include RSRP, RSRQ and the available SINR of the serving cell, derived based
on SSB;
5> else if CSI-RS based serving cell measurements are available according to
the measurement configuration associated with the SCG:
6> set the _measResultServingCell_ within _measResultServFreqListNR-SCG_ to
include RSRP, RSRQ and the available SINR of the serving cell, derived based
on CSI-RS;
4> if results for the serving cell derived based on SSB are included:
5> include the _ssbFrequency_ to the value indicated by ssbFrequency as
included in the _MeasObjectNR_ of the serving cell;
4> if results for the serving cell derived based on CSI-RS are included:
5> include the _refFreqCSI-RS_ to the value indicated by _refFreqCSI-RS_ as
included in the _MeasObjectNR_ of the serving cell;
4> if the _reportConfig_ associated with the _measId_ that triggered the
measurement reporting includes _reportQuantityRS-Indexes_ and _maxNrofRS-
IndexesToReport_ :
5> for each serving cell configured with _servingCellMO_ , include beam
measurement information according to the associated _reportConfig_ as
described in 5.5.5.2, where availability is considered according to the
measurement configuration associated with the SCG;
4> if _reportConfig_ associated with the _measId_ that triggered the
measurement reporting includes _reportAddNeighMeas_ :
5> if the _measObjectNR_ indicated by the _servingCellMO_ includes the RS
resource configuration corresponding to the _rsType_ indicated in the
_reportConfig_ :
6> set the _measResultNeighCellListNR_ within _measResultServFreqListNR-SCG_
to include one entry with the _physCellId_ and the available measurement
quantities based on the _reportQuantityCell_ and _rsType_ indicated in
_reportConfig_ of the non-serving cell corresponding to the concerned
_measObjectNR_ with the highest measured RSRP if RSRP measurement results are
available for cells corresponding to this _measObjectNR_ , otherwise with the
highest measured RSRQ if RSRQ measurement results are available for cells
corresponding to this _measObjectNR_ , otherwise with the highest measured
SINR, where availability is considered according to the measurement
configuration associated with the SCG;
7> if the _reportConfig_ associated with the _measId_ that triggered the
measurement reporting includes _reportQuantityRS-Indexes_ and _maxNrofRS-
IndexesToReport:_
8> for each best non-serving cell included in the measurement report:
9> include beam measurement information according to the associated
_reportConfig_ as described in 5.5.5.2, where availability is considered
according to the measurement configuration associated with the SCG;
1> if there is at least one applicable neighbouring cell to report:
2> if the _reportType_ is set to _eventTriggered_ or _periodical_ :
3> set the _measResultNeighCells_ to include the best neighbouring cells up to
_maxReportCells_ in accordance with the following:
4> if the _reportType_ is set to _eventTriggered_ :
5> include the cells included in the _cellsTriggeredList_ as defined within
the _VarMeasReportList_ for this _measId_ ;
4> else:
5> include the applicable cells for which the new measurement results became
available since the last periodical reporting or since the measurement was
initiated or reset;
4> for each cell that is included in the _measResultNeighCells_ , include the
_physCellId_ ;
4> if the _reportType_ is set to _eventTriggered_ or _periodical_ :
5> for each included cell, include the layer 3 filtered measured results in
accordance with the _reportConfig_ for this _measId_ , ordered as follows:
6> if the _measObject_ associated with this _measId_ concerns NR:
7> if _rsType_ in the associated _reportConfig_ is set to _ssb_ :
8> set _resultsSSB-Cell_ within the _measResult_ to include the SS/PBCH block
based quantity(ies) indicated in the _reportQuantityCell_ within the concerned
_reportConfig_ , in decreasing order of the sorting quantity, determined as
specified in 5.5.5.3, i.e. the best cell is included first;
8> if _reportQuantityRS-Indexes_ and _maxNrofRS-IndexesToReport_ are
configured, include beam measurement information as described in 5.5.5.2;
7> else if _rsType_ in the associated _reportConfig_ is set to _csi-rs_ :
8> set _resultsCSI-RS-Cell_ within the _measResult_ to include the CSI-RS
based quantity(ies) indicated in the _reportQuantityCell_ within the concerned
_reportConfig_ , in decreasing order of the sorting quantity, determined as
specified in 5.5.5.3, i.e. the best cell is included first;
8> if _reportQuantityRS-Indexes_ and _maxNrofRS-IndexesToReport_ are
configured, include beam measurement information as described in 5.5.5.2;
6> if the _measObject_ associated with this _measId_ concerns E-UTRA:
7> set the _measResult_ to include the quantity(ies) indicated in the
_reportQuantity_ within the concerned _reportConfigInterRAT_ in decreasing
order of the sorting quantity, determined as specified in 5.5.5.3, i.e. the
best cell is included first;
2> else:
3> if the cell indicated by _cellForWhichToReportCGI_ is an NR cell:
4> if _plmn-IdentityInfoList_ of the _cgi-Info_ for the concerned cell has
been obtained:
5> include the _plmn-IdentityInfoList_ including _plmn-IdentityList_ ,
_trackingAreaCode_ (if available), _ranac_ (if available), _cellIdentity_ and
_cellReservedForOperatorUse_ for each entry of the _plmn-IdentityInfoList_ ;
5> include _frequencyBandList_ if available;
4> else if _MIB_ indicates the _SIB1_ is not broadcast:
5> include the _noSIB1_ including the _ssb-SubcarrierOffset_ and _pdcch-
ConfigSIB1_ obtained from _MIB_ of the concerned cell;
3> if the cell indicated by _cellForWhichToReportCGI_ is an E-UTRA cell:
4> if all mandatory fields of the _cgi-Info-EPC_ for the concerned cell have
been obtained:
5> include in the _cgi-Info-EPC_ the fields broadcasted in E-UTRA
_SystemInformationBlockType1_ associated to EPC;
4> if the UE is E-UTRA/5GC capable and all mandatory fields of the _cgi-
Info-5GC_ for the concerned cell have been obtained:
5> include in the _cgi-Info-5GC_ the fields broadcasted in E-UTRA
_SystemInformationBlockType1_ associated to 5GC;
4> if the mandatory present fields of the _cgi-Info_ for the cell indicated by
the _cellForWhichToReportCGI_ in the associated _measObject_ have been
obtained:
5> include the _freqBandIndicator_ ;
5> if the cell broadcasts the _multiBandInfoList_ , include the
_multiBandInfoList_ ;
5> if the cell broadcasts the _freqBandIndicatorPriority_ , include the
_freqBandIndicatorPriority_ ;
1> if the corresponding _measObject_ concerns NR:
2> if the _reportSFTD-Meas_ is set to _true_ within the corresponding
_reportConfigNR_ for this _measId_ :
3> set the _measResultSFTD-NR_ in accordance with the following:
4> set _sfn-OffsetResult_ and _frameBoundaryOffsetResult_ to the measurement
results provided by lower layers;
4> if the _reportRSRP_ is set to _true_ ;
5> set _rsrp-Result_ to the RSRP of the NR PSCell derived based on SSB;
2> else if the _reportSFTD-NeighMeas_ is included within the corresponding
_reportConfigNR_ for this _measId_ :
3> for each applicable cell which measurement results are available, include
an entry in the _measResultCellListSFTD-NR_ and set the contents as follows:
4> set _physCellId_ to the physical cell identity of the concered NR neighbour
cell.
4> set _sfn-OffsetResult_ and _frameBoundaryOffsetResult_ to the measurement
results provided by lower layers;
4> if the _reportRSRP_ is set to _true_ :
5> set _rsrp-Result_ to the RSRP of the concerned cell derived based on SSB;
1> else if the corresponding _measObject_ concerns E-UTRA:
2> if the _reportSFTD-Meas_ is set to _true_ within the corresponding
_reportConfigInterRAT_ for this _measId_ :
3> set the _measResultSFTD-EUTRA_ in accordance with the following:
4> set _sfn-OffsetResult_ and _frameBoundaryOffsetResult_ to the measurement
results provided by lower layers;
4> if the _reportRSRP_ is set to _true_ ;
5> set _rsrpResult-EUTRA_ to the RSRP of the EUTRA PSCell;
1> increment the _numberOfReportsSent_ as defined within the
_VarMeasReportList_ for this _measId_ by 1;
1> stop the periodical reporting timer, if running;
1> if the _numberOfReportsSent_ as defined within the _VarMeasReportList_ for
this _measId_ is less than the _reportAmount_ as defined within the
corresponding _reportConfig_ for this _measId_ :
2> start the periodical reporting timer with the value of _reportInterval_ as
defined within the corresponding _reportConfig_ for this _measId_ ;
1> else:
2> if the _reportType_ is set to _periodical_ :
3> remove the entry within the _VarMeasReportList_ for this _measId_ ;
3> remove this _measId_ from the _measIdList_ within _VarMeasConfig_ ;
1> if the UE is in (NG)EN-DC:
2> if SRB3 is configured:
3> submit the _MeasurementReport_ message via SRB3 to lower layers for
transmission, upon which the procedure ends;
2> else:
3> submit the _MeasurementReport_ message via E-UTRA embedded in E-UTRA RRC
message _ULInformationTransferMRDC_ as specified in TS 36.331 [10].
1> else if the UE is in NR-DC:
2> if the measurement configuration that triggered this measurement report is
associated with the SCG:
3> if SRB3 is configured:
4> submit the _MeasurementReport_ message via SRB3 to lower layers for
transmission, upon which the procedure ends;
3> else:
4> submit the _MeasurementReport_ message via SRB1 embedded in NR RRC message
_ULInformationTransferMRDC_ as specified in 5.7.2a.3;
2> else:
3> submit the _MeasurementReport_ message via SRB1 to lower layers for
transmission, upon which the procedure ends;
1> else:
2> submit the _MeasurementReport_ message to lower layers for transmission,
upon which the procedure ends.
#### 5.5.5.2 Reporting of beam measurement information
For beam measurement information to be included in a measurement report the UE
shall:
1> if _reportType_ is set to _eventTriggered_ :
2> consider the trigger quantity as the sorting quantity if available,
otherwise RSRP as sorting quantity if available, otherwise RSRQ as sorting
quantity if available, otherwise SINR as sorting quantity;
1> if _reportType_ is set to _periodical_ :
2> if a single reporting quantity is set to _true_ in _reportQuantityRS-
Indexes_ ;
3> consider the configured single quantity as the sorting quantity;
2> else:
3> if _rsrp_ is set to _true_ ;
4> consider RSRP as the sorting quantity;
3> else:
4> consider RSRQ as the sorting quantity;
1> set _rsIndexResults_ to include up to _maxNrofRS-IndexesToReport_ SS/PBCH
block indexes or CSI-RS indexes in order of decreasing sorting quantity as
follows:
2> if the measurement information to be included is based on SS/PBCH block:
3> include within _resultsSSB-Indexes_ the index associated to the best beam
for that SS/PBCH block sorting quantity and if _absThreshSS-
BlocksConsolidation_ is included in the _VarMeasConfig_ for the _measObject_
associated to the cell for which beams are to be reported, the remaining beams
whose sorting quantity is above _absThreshSS-BlocksConsolidation_ ;
3> if _includeBeamMeasurements_ is configured, include the SS/PBCH based
measurement results for the quantities in _reportQuantityRS-Indexes_ set to
_true_ for each SS/PBCH block index;
2> else if the beam measurement information to be included is based on CSI-RS:
3> include within _resultsCSI-RS-Indexes_ the index associated to the best
beam for that CSI-RS sorting quantity and, if _absThreshCSI-RS-Consolidation_
is included in the _VarMeasConfig_ for the _measObject_ associated to the cell
for which beams are to be reported, the remaining beams whose sorting quantity
is above _absThreshCSI-RS-Consolidation_ ;
3> if _includeBeamMeasurements_ is configured, include the CSI-RS based
measurement results for the quantities in _reportQuantityRS-Indexes_ set to
_true_ for each CSI-RS index.
#### 5.5.5.3 Sorting of cell measurement results
The UE shall determine the sorting quantity according to parameters of the
_reportConfig_ associated with the _measId_ that triggered the reporting:
1> if the _reportType_ is set to _eventTriggered_ :
2> for an NR cell, consider the quantity used in the _aN-Threshold_ (for
_eventA1_ , _eventA2_ and _eventA4_) or in the _a5-Threshold2_ (for _eventA5_)
or in the _aN-Offset_ (for _eventA3_ and _eventA6_) as the sorting quantity;
2> for an E-UTRA cell, consider the quantity used in the _bN-ThresholdEUTRA_
as the sorting quantity;
1> if the _reportType_ is set to _periodical_ :
2> determine the sorting quantity according to _reportQuantityCell_ for an NR
cell, and according to _reportQuantity_ for an E-UTRA cell, as below:
3> if a single quantity is set to _true_ :
4> consider this quantity as the sorting quantity;
3> else:
4> if _rsrp_ is set to _true_ ;
5> consider RSRP as the sorting quantity;
4> else:
5> consider RSRQ as the sorting quantity.
### 5.5.6 Location measurement indication
#### 5.5.6.1 General
Figure 5.5.5.1-1: Location measurement indication
The purpose of this procedure is to indicate to the network that the UE is
going to start/stop location related measurements (_eutra-RSTD_) which require
measurement gaps or start/stop subframe and slot timing detection towards
E-UTRA (_eutra-FineTimingDetection)_ which requires measurement gaps. UE shall
initiate this procedure only after successful AS security activation.
NOTE: It is a network decision to configure the measurement gap.
#### 5.5.6.2 Initiation
The UE shall:
1> if and only if upper layers indicate to start performing location
measurements or start subframe and slot timing detection towards E-UTRA, and
the UE requires measurement gaps for these operations while measurement gaps
are either not configured or not sufficient:
2> initiate the procedure to indicate start;
NOTE 1: The UE verifies the measurement gap situation only upon receiving the
indication from upper layers. If at this point in time sufficient gaps are
available, the UE does not initiate the procedure. Unless it receives a new
indication from upper layers, the UE is only allowed to further repeat the
procedure in the same PCell once per frequency of the target RAT if the
provided measurement gaps are insufficient.
1> if and only if upper layers indicate to stop performing location
measurements or stop subframe and slot timing detection towards E-UTRA:
2> initiate the procedure to indicate stop.
NOTE 2: The UE may initiate the procedure to indicate stop even if it did not
previously initiate the procedure to indicate start.
#### 5.5.6.3 Actions related to transmission of
_LocationMeasurementIndication_ message
The UE shall set the contents of _LocationMeasurementIndication_ message as
follows:
1> if the procedure is initiated to indicate start of location related
measurements:
2> if the procedure is initiated for RSTD measurements towards E-UTRA:
3> set the _measurementIndication_ to the _eutra-RSTD_ according to the
information received from upper layers;
1> else if the procedure is initiated to indicate stop of location related
measurements:
2> set the _measurementIndication_ to the value _release_ ;
1> if the procedure is initiated to indicate start of subframe and slot timing
detection towards E-UTRA:
2> set the _measurementIndication_ to the value _eutra-FineTimingDetection_ ;
1> else if the procedure is initiated to indicate stop of subframe and slot
timing detection towards E-UTRA:
2> set the _measurementIndication_ to the value _release_ ;
1> submit the _LocationMeasurementIndication_ message to lower layers for
transmission, upon which the procedure ends.
## 5.6 UE capabilities
### 5.6.1 UE capability transfer
#### 5.6.1.1 General
This clause describes how the UE compiles and transfers its UE capability
information upon receiving a UECapabilityEnquiry from the network.
Figure 5.6.1.1-1: UE capability transfer
#### 5.6.1.2 Initiation
The network initiates the procedure to a UE in RRC_CONNECTED when it needs
(additional) UE radio access capability information. The network should
retrieve UE capabilities only after AS security activation. Network does not
forward UE capabilities that were retrieved before AS security activation to
the CN.
#### 5.6.1.3 Reception of the _UECapabilityEnquiry_ by the UE
The UE shall set the contents of _UECapabilityInformation_ message as follows:
1> if the _ue-CapabilityRAT-RequestList_ contains a _UE-CapabilityRAT-Request_
with _rat-Type_ set to _nr_ :
2> include in the _ue-CapabilityRAT-ContainerList_ a _UE-CapabilityRAT-
Container_ of the type _UE-NR-Capability_ and with the _rat-Type_ set to _nr_
;
2> include the _supportedBandCombinationList, featureSets_ and
_featureSetCombinations_ as specified in clause 5.6.1.4;
1> if the _ue-CapabilityRAT-RequestLis_ t contains a _UE-CapabilityRAT-
Request_ with _rat-Type_ set to _eutra-nr_ :
2> if the UE supports (NG)EN-DC or NE-DC:
3> include in the _ue-CapabilityRAT-ContainerList_ a _UE-CapabilityRAT-
Container_ of the type _UE-MRDC-Capability_ and with the _rat-Type_ set to
_eutra-nr_ ;
3> include the _supportedBandCombinationList_ and _featureSetCombinations_ as
specified in clause 5.6.1.4;
1> if the _ue-CapabilityRAT-RequestList_ contains a _UE-CapabilityRAT-Request_
with _rat-Type_ set to _eutra_ :
2> if the UE supports E-UTRA:
3> include in the _ue-CapabilityRAT-ContainerList_ a _ue-CapabilityRAT-
Container_ of the type _UE-EUTRA-Capability_ and with the _rat-Type_ set to
_eutra_ as specified in TS 36.331 [10], clause 5.6.3.3, according to the
_capabilityRequestFilter_ , if received;
1> submit the _UECapabilityInformation_ message to lower layers for
transmission, upon which the procedure ends.
#### 5.6.1.4 Setting band combinations, feature set combinations and feature
sets supported by the UE
The UE invokes the procedures in this clause if the NR or E-UTRA network
requests UE capabilities for _nr_ , _eutra-nr_ or _eutra_. This procedure is
invoked once per requested _rat-Type_ (see clause 5.6.1.3 for capability
enquiry by the NR network; see TS 36.331 [10], clause 5.6.3.3 for capability
enquiry by the E-UTRA network). The UE shall ensure that the feature set IDs
are consistent across feature sets, feature set combinations and band
combinations in all three UE capability containers that the network queries
with the same fields with the same values, i.e. _UE-
CapabilityRequestFilterNR,_ _UE-CapabilityRequestFilterCommon_ and fields in
_UECapabilityEnquiry_ message (i.e. _requestedFreqBandsNR-MRDC,
requestedCapabilityNR, eutra-nr-only_ flag, and _requestedCapabilityCommon_)
as defined in TS 36.331, where applicable.
NOTE 1: Capability enquiry without _frequencyBandListFilter_ is not supported.
NOTE 2: In (NG)EN-DC, the gNB needs the capabilities for RAT types _nr_ and
_eutra-nr_ and it uses the _featureSets_ in the _UE-NR-Capability_ together
with the _featureSetCombinations_ in the _UE-MRDC-Capability_ to determine the
NR UE capabilities for the supported MRDC band combinations. Similarly, the
eNB needs the capabilities for RAT types _eutra_ and _eutra-nr_ and it uses
the _featureSetsEUTRA_ in the _UE-EUTRA-Capability_ together with the
_featureSetCombinations_ in the _UE-MRDC-Capability_ to determine the E-UTRA
UE capabilities for the supported MRDC band combinations. Hence, the IDs used
in the _featureSets_ must match the IDs referred to in
_featureSetCombinations_ across all three containers. The requirement on
consistency implies that there are no undefined feature sets and feature set
combinations.
NOTE 3: If the UE cannot include all feature sets and feature set combinations
due to message size or list size constraints, it is up to UE implementation
which feature sets and feature set combinations it prioritizes.
The UE shall:
1> compile a list of \"candidate band combinations\" according to the filter
criteria in _capabilityRequestFilterCommon_ (if included), only consisting of
bands included in _frequencyBandListFilter_ , and prioritized in the order of
_frequencyBandListFilter_ (i.e. first include band combinations containing the
first-listed band, then include remaining band combinations containing the
second-listed band, and so on), where for each band in the band combination,
the parameters of the band do not exceed _maxBandwidthRequestedDL_ ,
_maxBandwidthRequestedUL_ , _maxCarriersRequestedDL_ ,
_maxCarriersRequestedUL_ , _ca-BandwidthClassDL-EUTRA_ or _ca-
BandwidthClassUL-EUTRA_ , whichever are received;
1> for each band combination included in the list of \"candidate band
combinations\":
2> if the network (E-UTRA) included the _eutra-nr-only_ field, or
2> if the requested _rat-Type_ is _eutra_ :
3> remove the NR-only band combination from the list of \"candidate band
combinations\";
NOTE 4: The (E-UTRA) network may request capabilities for _nr_ but indicate
with the _eutra-nr-only_ flag that the UE shall not include any NR band
combinations in the _UE-NR-Capability_. In this case the procedural text above
removes all NR-only band combinations from the candidate list and thereby also
avoids inclusion of corresponding feature set combinations and feature sets
below.
2> if it is regarded as a fallback band combination with the same capabilities
of another band combination included in the list of \"candidate band
combinations\", and
2> if this fallback band combination is generated by releasing at least one
SCell or uplink configuration of SCell or SUL according to TS 38.306 [26]:
3> remove the band combination from the list of \"candidate band
combinations\";
NOTE 5: Even if the network requests (only) capabilities for _nr_ , it may
include E-UTRA band numbers in the _frequencyBandListFilter_ to ensure that
the UE includes all necessary feature sets needed for subsequently requested
_eutra-nr_ capabilities. At this point of the procedure the list of
\"candidate band combinations\" contains all NR- and/or E-UTRA-NR band
combinations that match the filter (_frequencyBandListFilter_) provided by the
NW and that match the _eutra-nr-only_ flag (if RAT-Type _nr_ is requested by
E-UTRA). In the following, this candidate list is used to derive the band
combinations, feature set combinations and feature sets to be reported in the
requested capability container.
1> if the requested _rat-Type_ is _nr_ :
2> include into _supportedBandCombinationList_ as many NR-only band
combinations as possible from the list of \"candidate band combinations\",
starting from the first entry;
3> if _srs-SwitchingTimeRequest_ is received:
4> if SRS carrier switching is supported;
5> include _srs-SwitchingTimesListNR_ for each band combination;
4> set _srs-SwitchingTimeRequested_ to _true_ ;
2> include, into _featureSetCombinations_ , the feature set combinations
referenced from the supported band combinations as included in
_supportedBandCombinationList_ according to the previous;
2> compile a list of \"candidate feature set combinations\" referenced from
the list of \"candidate band combinations\" excluding entries (rows in feature
set combinations) with same or lower capabilities;
NOTE 6: This list of \"candidate feature set combinations\" contains the
feature set combinations used for NR-only as well as E-UTRA-NR band
combinations. It is used to derive a list of NR feature sets referred to from
the feature set combinations in the _UE-NR-Capability_ and from the feature
set combinations in a _UE-MRDC-Capability_ container.
2> include into _featureSets_ the feature sets referenced from the \"candidate
feature set combinations\" and may exclude the feature sets with the
parameters that exceed any of _maxBandwidthRequestedDL_ ,
_maxBandwidthRequestedUL_ , _maxCarriersRequestedDL_ or
_maxCarriersRequestedUL_ , whichever are received;
1> else, if the requested _rat-Type_ is _eutra-nr_ :
2> include into _supportedBandCombinationList_ and/or
_supportedBandCombinationListNEDC-Only_ as many E-UTRA-NR band combinations as
possible from the list of \"candidate band combinations\", starting from the
first entry;
3> if _srs-SwitchingTimeRequest_ is received:
4> if SRS carrier switching is supported;
5> include _srs-SwitchingTimesListNR_ and _srs-SwitchingTimesListEUTRA_ for
each band combination;
4> set _srs-SwitchingTimeRequested_ to _true_ ;
2> include, into _featureSetCombinations_ , the feature set combinations
referenced from the supported band combinations as included in
_supportedBandCombinationList_ according to the previous;
1> else (if the requested _rat-Type_ is _eutra_):
2> compile a list of \"candidate feature set combinations\" referenced from
the list of \"candidate band combinations\" excluding entries (rows in feature
set combinations) with same or lower capabilities;
NOTE 7: This list of \"candidate feature set combinations\" contains the
feature set combinations used for E-UTRA-NR band combinations. It is used to
derive a list of E-UTRA feature sets referred to from the feature set
combinations in a _UE-MRDC-Capability_ container.
2> include into _featureSetsEUTRA_ (in the _UE-EUTRA-Capability)_ the feature
sets referenced from the \"candidate feature set combinations\" and may
exclude the feature sets with the parameters that exceed _ca-BandwidthClassDL-
EUTRA_ or _ca-BandwidthClassUL-EUTRA_ , whichever are received;
1> include the received _frequencyBandListFilter_ in the field
_appliedFreqBandListFilter_ of the requested UE capability, except if the
requested _rat-Type_ is _nr_ and the network included the _eutra-nr-only_
field;
1> if the network included _ue-CapabilityEnquiryExt_ :
2> include the received _ue-CapabilityEnquiryExt_ in the field
_receivedFilters_ ;
#### 5.6.1.5 Void
## 5.7 Other
### 5.7.1 DL information transfer
#### 5.7.1.1 General
Figure 5.7.1.1-1: DL information transfer
The purpose of this procedure is to transfer NAS dedicated information from
NG-RAN to a UE in RRC_CONNECTED.
#### 5.7.1.2 Initiation
The network initiates the DL information transfer procedure whenever there is
a need to transfer NAS dedicated information. The network initiates the DL
information transfer procedure by sending the _DLInformationTransfer_ message.
#### 5.7.1.3 Reception of the _DLInformationTransfer_ by the UE
Upon receiving _DLInformationTransfer_ message, the UE shall:
1> if _dedicatedNAS-Message_ is included:
2> forward _dedicatedNAS-Message_ to upper layers.
### 5.7.2 UL information transfer
#### 5.7.2.1 General
Figure 5.7.2.1-1: UL information transfer
The purpose of this procedure is to transfer NAS dedicated information from
the UE to the network.
#### 5.7.2.2 Initiation
A UE in RRC_CONNECTED initiates the UL information transfer procedure whenever
there is a need to transfer NAS dedicated information. The UE initiates the UL
information transfer procedure by sending the ULInformationTransfer message.
#### 5.7.2.3 Actions related to transmission of ULInformationTransfer message
The UE shall set the contents of the _ULInformationTransfer_ message as
follows:
1> if the upper layer provides NAS PDU:
2> set the _dedicatedNAS-Message_ to include the information received from
upper layers
1> submit the _ULInformationTransfer_ message to lower layers for
transmission, upon which the procedure ends.
#### 5.7.2.4 Failure to deliver _ULInformationTransfer_ message
The UE shall:
1> if AS security is not started and radio link failure occurs before the
successful delivery of _ULInformationTransfer_ messages has been confirmed by
lower layers; or
1> if PDCP re-establishment or release/addition (e.g due to key refresh upon
PCell or PSCell change, or RRC connection re-establishment) occurs on an SRB
on which _ULInformationTransfer_ messages were submitted for transmission but
successful delivery of these messages was not confirmed by lower layers:
2> inform upper layers about the possible failure to deliver the information
contained in the concerned _ULInformationTransfer_ messages.
### 5.7.2a UL information transfer for MR-DC
#### 5.7.2a.1 General
Figure 5.7.2a.1-1: UL information transfer MR-DC
The purpose of this procedure is to transfer MR-DC dedicated information from
the UE to the network e.g. the NR or E-UTRA RRC _MeasurementReport_ and
_FailureInformation_ message.
#### 5.7.2a.2 Initiation
A UE in RRC_CONNECTED initiates the UL information transfer for MR-DC
procedure whenever there is a need to transfer MR-DC dedicated information.
I.e. the procedure is not used during an RRC connection reconfiguration
involving NR or E-UTRA connection reconfiguration, in which case the MR DC
information is piggybacked to the _RRCReconfigurationComplete_ message.
#### 5.7.2a.3 Actions related to transmission of _ULInformationTransferMRDC_
message
The UE shall set the contents of the _ULInformationTransferMRDC_ message as
follows:
1> if there is a need to transfer MR-DC dedicated information related to NR:
2> set the _ul-DCCH-MessageNR_ to include the NR MR-DC dedicated information
to be transferred (e.g., NR RRC _MeasurementReport_ and _FailureInformation_
message);
1> else if there is a need to tranfer MR-DC dedicated information related to
E-UTRA:
2> set the _ul-DCCH-MessageEUTRA_ to include the E-UTRA MR-DC dedicated
information to be transferred (e.g., E-UTRA RRC _MeasurementReport_);
1> submit the _ULInformationTransferMRDC_ message to lower layers for
transmission, upon which the procedure ends;
### 5.7.3 SCG failure information
#### 5.7.3.1 General
Figure 5.7.3.1-1: SCG failure information
The purpose of this procedure is to inform E-UTRAN or NR MN about an SCG
failure the UE has experienced i.e. SCG radio link failure, failure of SCG
reconfiguration with sync, SCG configuration failure for RRC message on SRB3
and SCG integrity check failure.
#### 5.7.3.2 Initiation
A UE initiates the procedure to report SCG failures when SCG transmission is
not suspended and when one of the following conditions is met:
1> upon detecting radio link failure for the SCG, in accordance with clause
5.3.10.3;
1> upon reconfiguration with sync failure of the SCG, in accordance with
clause 5.3.5.8.3;
1> upon SCG configuration failure, in accordance with clause 5.3.5.8.2;
1> upon integrity check failure indication from SCG lower layers concerning
SRB3.
Upon initiating the procedure, the UE shall:
1> suspend SCG transmission for all SRBs and DRBs;
1> reset SCG MAC;
1> stop T304 for the SCG, if running;
1> if the UE is in (NG)EN-DC:
2> initiate transmission of the _SCGFailureInformationNR_ message as specified
in TS 36.331 [10], clause 5.6.13a.
1> else:
2> initiate transmission of the _SCGFailureInformation_ message in accordance
with 5.7.3.5.
#### 5.7.3.3 Failure type determination for (NG)EN-DC
The UE shall set the SCG failure type as follows:
1> if the UE initiates transmission of the _SCGFailureInformationNR_ message
due to T310 expiry:
2> set the _failureType_ as t310-Expiry;
1> else if the UE initiates transmission of the _SCGFailureInformationNR_
message to provide reconfiguration with sync failure information for an SCG:
2> set the _failureType_ as _synchReconfigFailure-SCG_ ;
1> else if the UE initiates transmission of the _SCGFailureInformationNR_
message to provide random access problem indication from SCG MAC:
2> set the _failureType_ as randomAccessProblem;
1> else if the UE initiates transmission of the _SCGFailureInformationNR_
message to provide indication from SCG RLC that the maximum number of
retransmissions has been reached:
2> set the _failureType_ as _rlc-MaxNumRetx_ ;
1> else if the UE initiates transmission of the _SCGFailureInformationNR_
message due to SRB3 integrity check failure:
2> set the _failureType_ as _srb3-IntegrityFailure_ ;
1> else if the UE initiates transmission of the _SCGFailureInformationNR_
message due to Reconfiguration failure of NR RRC reconfiguration message:
2> set the _failureType_ as _scg-reconfigFailure_.
#### 5.7.3.4 Setting the contents of _MeasResultSCG-Failure_
The UE shall set the contents of the _MeasResultSCG-Failure_ as follows:
1> for each _MeasObjectNR_ configured on NR SCG for which a _measId_ is
configured and measurement results are available:
2> include an entry in _measResultPerMOList_ ;
2> if there is a _measId_ configured with the _MeasObjectNR_ and a
_reportConfig_ which has _rsType_ set to _ssb_ :
3> set _ssbFrequency_ to the value indicated by _ssbFrequency_ as included in
the _MeasObjectNR_ ;
2> if there is a _measId_ configured with the _MeasObjectNR_ and a
_reportConfig_ which has _rsType_ set to _csi-rs_ :
3> set _refFreqCSI-RS_ to the value indicated by _refFreqCSI-RS_ as included
in the associated measurement object;
2> if a serving cell is associated with the _MeasObjectNR_ :
3> set _measResultServingCell_ to include the available quantities of the
concerned cell and in accordance with the performance requirements in TS
38.133 [14];
2> set the _measResultNeighCellList_ to include the best measured cells,
ordered such that the best cell is listed first, and based on measurements
collected up to the moment the UE detected the failure, and set its fields as
follows;
3> ordering the cells with sorting as follows:
4> based on SS/PBCH block if SS/PBCH block measurement results are available
and otherwise based on CSI-RS;
4> using RSRP if RSRP measurement results are available, otherwise using RSRQ
if RSRQ measurement results are available, otherwise using SINR;
3> for each neighbour cell included:
4> include the optional fields that are available.
NOTE: The measured quantities are filtered by the L3 filter as configured in
the mobility measurement configuration. The measurements are based on the time
domain measurement resource restriction, if configured. Blacklisted cells are
not required to be reported.
#### 5.7.3.5 Actions related to transmission of _SCGFailureInformation_
message
The UE shall set the contents of the _SCGFailureInformation_ message as
follows:
1> if the UE initiates transmission of the _SCGFailureInformation_ message due
to T310 expiry:
2> set the _failureType_ as _t310-Expiry_ ;
1> else if the UE initiates transmission of the _SCGFailureInformation_
message to provide reconfiguration with sync failure information for an SCG:
2> set the _failureType_ as _synchReconfigFailure-SCG_ ;
1> else if the UE initiates transmission of the _SCGFailureInformation_
message to provide random access problem indication from SCG MAC:
2> set the _failureType_ as _randomAccessProblem_ ;
1> else if the UE initiates transmission of the _SCGFailureInformation_
message to provide indication from SCG RLC that the maximum number of
retransmissions has been reached:
2> set the _failureType_ as _rlc-MaxNumRetx_ ;
1> else if the UE initiates transmission of the _SCGFailureInformation_
message due to SRB3 IP check failure:
2> set the _failureType_ as _srb3-IntegrityFailure_ ;
1> else if the UE initiates transmission of the _SCGFailureInformation_
message due to Reconfiguration failure of NR RRC reconfiguration message:
2> set the _failureType_ as _scg-reconfigFailure_.
1> include and set _MeasResultSCG_ -Failure in accordance with 5.7.3.4;
1> for each _MeasObjectNR_ configured by a _MeasConfig_ associated with the
MCG, and for which measurement results are available:
2> include an entry in _measResultFreqList_ ;
2> if there is a _measId_ configured with the _MeasObjectNR_ and a
_reportConfig_ which has _rsType_ set to _ssb_ :
3> set _ssbFrequency_ in _measResultFreqList_ to the value indicated by
_ssbFrequency_ as included in the _MeasObjectNR_ ;
2> if there is a _measId_ configured with the _MeasObjectNR_ and a
_reportConfig_ which has _rsType_ set to _csi-rs_ :
3> set _refFreqCSI-RS_ in _measResultFreqList_ to the value indicated by
_refFreqCSI-RS_ as included in the associated measurement object;
2> if a serving cell is associated with the _MeasObjectNR_ :
3> set _measResultServingCell_ in _measResultFreqList_ to include the
available quantities of the concerned cell and in accordance with the
performance requirements in TS 38.133 [14];
2> set the _measResultNeighCellList_ in _measResultFreqList_ to include the
best measured cells, ordered such that the best cell is listed first, and
based on measurements collected up to the moment the UE detected the failure,
and set its fields as follows;
3> ordering the cells with sorting as follows:
4> based on SS/PBCH block if SS/PBCH block measurement results are available
and otherwise based on CSI-RS;
4> using RSRP if RSRP measurement results are available, otherwise using RSRQ
if RSRQ measurement results are available, otherwise using SINR;
3> for each neighbour cell included:
4> include the optional fields that are available.
NOTE 1: The measured quantities are filtered by the L3 filter as configured in
the mobility measurement configuration. The measurements are based on the time
domain measurement resource restriction, if configured. Blacklisted cells are
not required to be reported.
NOTE 2: Field _measResultSCG-Failure_ is used to report available results for
NR frequencies the UE is configured to measure by SCG RRC signalling.
The UE shall submit the _SCGFailureInformation_ message to lower layers for
transmission.
### 5.7.3a EUTRA SCG failure information
#### 5.7.3a.1 General
Figure 5.7.3a.1-1: EUTRA SCG failure information
The purpose of this procedure is to inform NR MN about an SCG failure on
E-UTRA SN the UE has experienced (e.g. SCG radio link failure, SCG change
failure), as specified in TS 36.331 [10] clause 5.6.13.2.
#### 5.7.3a.2 Initiation
A UE initiates the procedure to report EUTRA SCG failures when EUTRA SCG
transmission is not suspended and in accordance with TS 36.331 [10] clause
5.6.13.2. Actions the UE shall perform upon initiating the procedure, other
than related to the transmission of the _SCGFailureInformationEUTRA_ message
are specified in TS 36.331 [10] clause 5.6.13.2.
#### 5.7.3a.3 Actions related to transmission of _SCGFailureInformationEUTRA_
message
The UE shall set the contents of the _SCGFailureInformationEUTRA_ message as
follows:
1> include _failureType_ within _failureReportSCG-EUTRA_ and set it to
indicate the SCG failure in accordance with TS 36.331 [10] clause 5.6.13.4;
1> include and set _measResultSCG-FailureMRDC_ in accordance with TS 36.331
[10] clause 5.6.13.5;
1> for each EUTRA frequency the UE is configured to measure by _measConfig_
for which measurement results are available:
2> set the _measResultFreqListMRDC_ to include the best measured cells,
ordered such that the best cell is listed first using RSRP to order if RSRP
measurement results are available for cells on this frequency, otherwise using
RSRQ to order if RSRQ measurement results are available for cells on this
frequency, otherwise using SINR to order, and based on measurements collected
up to the moment the UE detected the failure, and for each cell that is
included, include the optional fields that are available;
NOTE: Field _measResultSCG-FailureMRDC_ is used to report available results
for E-UTRAN frequencies the UE is configured to measure by E-UTRA RRC
signalling.
The UE shall submit the _SCGFailureInformationEUTRA_ message to lower layers
for transmission.
### 5.7.4 UE Assistance Information
#### 5.7.4.1 General
Figure 5.7.4.1-1: UE Assistance Information
The purpose of this procedure is to inform the network of the UE\'s delay
budget report carrying desired increment/decrement in the connected mode DRX
cycle length, or overheating assistance information.
#### 5.7.4.2 Initiation
A UE capable of providing delay budget report in RRC_CONNECTED may initiate
the procedure in several cases, including upon being configured to provide
delay budget report and upon change of delay budget preference.
A UE capable of providing overheating assistance information in RRC_CONNECTED
may initiate the procedure if it was configured to do so, upon detecting
internal overheating, or upon detecting that it is no longer experiencing an
overheating condition.
Upon initiating the procedure, the UE shall:
1> if configured to provide delay budget report:
2> if the UE did not transmit a _UEAssistanceInformation_ message with
_delayBudgetReport_ since it was configured to provide delay budget report; or
2> if the current delay budget is different from the one indicated in the last
transmission of the _UEAssistanceInformation_ message including
_delayBudgetReport_ and timer T342 is not running:
3> start or restart timer T342 with the timer value set to the
_delayBudgetReportingProhibitTimer_ ;
3> initiate transmission of the _UEAssistanceInformation_ message in
accordance with 5.7.4.3 to provide a delay budget report;
1> if configured to provide overheating assistance information:
2> if the overheating condition has been detected and T345 is not running; or
2> if the current overheating assistance information is different from the one
indicated in the last transmission of the _UEAssistanceInformation_ message
including _overheatingAssistance_ and timer T345 is not running:
> _3 > start timer T345 with the timer value set to the
> overheatingIndicationProhibitTimer;_
3> initiate transmission of the _UEAssistanceInformation_ message in
accordance with 5.7.4.3 to provide overheating assistance information;
#### 5.7.4.3 Actions related to transmission of _UEAssistanceInformation_
message
The UE shall set the contents of the _UEAssistanceInformation_ message as
follows:
1> if transmission of the _UEAssistanceInformation_ message is initiated to
provide a delay budget report according to 5.7.4.2 or 5.3.5.3;
2> set _delayBudgetReport_ to _type1_ according to a desired value;
1> if transmission of the _UEAssistanceInformation_ message is initiated to
provide overheating assistance information according to 5.7.4.2 or 5.3.5.3;
2> if the UE experiences internal overheating:
3> if the UE prefers to temporarily reduce the number of maximum secondary
component carriers:
4> include _reducedMaxCCs_ in the _OverheatingAssistance_ IE;
4> set _reducedCCsDL_ to the number of maximum SCells the UE prefers to be
temporarily configured in downlink;
4> set _reducedCCsUL_ to the number of maximum SCells the UE prefers to be
temporarily configured in uplink;
3> if the UE prefers to temporarily reduce maximum aggregated bandwidth of
FR1:
4> include _reducedMaxBW-FR1_ in the _OverheatingAssistance_ IE;
4> set _reducedBW-FR1-DL_ to the maximum aggregated bandwidth the UE prefers
to be temporarily configured across all downlink carriers of FR1;
4> set _reducedBW-FR1-UL_ to the maximum aggregated bandwidth the UE prefers
to be temporarily configured across all uplink carriers of FR1;
3> if the UE prefers to temporarily reduce maximum aggregated bandwidth of
FR2:
4> include _reducedMaxBW-FR2_ in the _OverheatingAssistance_ IE;
4> set _reducedBW-FR2-DL_ to the maximum aggregated bandwidth the UE prefers
to be temporarily configured across all downlink carriers of FR2;
4> set _reducedBW-FR2-UL_ to the maximum aggregated bandwidth the UE prefers
to be temporarily configured across all uplink carriers of FR2;
3> if the UE prefers to temporarily reduce the number of maximum MIMO layers
of each serving cell operating on FR1:
4> include _reducedMaxMIMO-LayersFR1_ in the _OverheatingAssistance_ IE;
4> set _reducedMIMO-LayersFR1-DL_ to the number of maximum MIMO layers of each
serving cell operating on FR1 the UE prefers to be temporarily configured in
downlink;
4> set _reducedMIMO-LayersFR1-UL_ to the number of maximum MIMO layers of each
serving cell operating on FR1 the UE prefers to be temporarily configured in
uplink;
3> if the UE prefers to temporarily reduce the number of maximum MIMO layers
of each serving cell operating on FR2:
4> include _reducedMaxMIMO-LayersFR2_ in the _OverheatingAssistance_ IE;
4> set _reducedMIMO-LayersFR2-DL_ to the number of maximum MIMO layers of each
serving cell operating on FR2 the UE prefers to be temporarily configured in
downlink;
4> set _reducedMIMO-LayersFR2-UL_ to the number of maximum MIMO layers of each
serving cell operating on FR2 the UE prefers to be temporarily configured in
uplink;
2> else (if the UE no longer experiences an overheating condition):
3> do not include _reducedMaxCCs_ , _reducedMaxBW-FR1_ , _reducedMaxBW-FR2_ ,
_reducedMaxMIMO-LayersFR1_ and _reducedMaxMIMO-LayersFR2_ in
_OverheatingAssistance_ IE;
The UE shall submit the _UEAssistanceInformation_ message to lower layers for
transmission.
### 5.7.5 Failure information
#### 5.7.5.1 General
Figure 5.7.5.1-1: Failure information
The purpose of this procedure is to inform the network about a failure
detected by the UE.
#### 5.7.5.2 Initiation
A UE initiates the procedure when there is a need inform the network about a
failure detected by the UE. In particular, the UE initiates the procedure when
the following condition is met:
1> upon detecting failure for an RLC bearer, in accordance with 5.3.10.3;
Upon initiating the procedure, the UE shall:
1> initiate transmission of the _FailureInformation_ message as specified in
5.7.5.3;
#### 5.7.5.3 Actions related to transmission of _FailureInformation_ message
The UE shall:
1> if initiated to provide RLC failure information, set _FailureInfoRLC-
Bearer_ as follows:
2> set _logicalChannelIdentity_ to the logical channel identity of the failing
RLC bearer;
2> set _cellGroupId_ to the cell group identity of the failing RLC bearer;
2> set the _failureType_ as _rlc-failure_ ;
1> if used to inform the network about a failure for an MCG RLC bearer:
2> submit the _FailureInformation_ message to lower layers for transmission
via SRB1;
1> else if used to inform the network about a failure for an SCG RLC bearer:
2> if SRB3 is configured;
3> submit the _FailureInformation_ message to lower layers for transmission
via SRB3;
2> else;
3> if the UE is in (NG)EN-DC:
4> submit the _FailureInformation_ message via E-UTRA embedded in E-UTRA RRC
message _ULInformationTransferMRDC_ as specified in TS 36.331 [10].
3> else if the UE is in NR-DC:
4> submit the _FailureInformation_ message via SRB1 embedded in NR RRC message
_ULInformationTransferMRDC_ as specified in clause 5.7.2a.3.
# 6 Protocol data units, formats and parameters (ASN.1)
## 6.1 General
### 6.1.1 Introduction
The contents of each RRC message is specified in clause 6.2 using ASN.1 to
specify the message syntax and using tables when needed to provide further
detailed information about the fields specified in the message syntax. The
syntax of the information elements that are defined as stand-alone abstract
types is further specified in a similar manner in clause 6.3.
Usage of the text \"Network always configures the UE with a value for this
field\" in the field description indicates that the network has to provide a
value for the field in this or in a previous message based on delta
configuration (for an optional field with Need M). It does not imply a
mandatory presence of the field.
### 6.1.2 Need codes and conditions for optional downlink fields
The need for fields to be present in a message or an abstract type, i.e., the
ASN.1 fields that are specified as OPTIONAL in the abstract notation (ASN.1),
is specified by means of comment text tags attached to the OPTIONAL statement
in the abstract syntax. All comment text tags are available for use in the
downlink direction only. The meaning of each tag is specified in table
6.1.2-1.
If conditions are used, a conditional presence table is provided for the
message or information element specifying the need of the field for each
condition case. The table also specifies whether UE maintains or releases the
value in case the field is absent. The conditions clarify what the UE may
expect regarding the setting of the message by the network. Violation of
conditions is regarded as invalid network behaviour, which the UE is not
required to cope with. Hence the general error handling defined in 10.4 does
not apply in case a field is absent although it is mandatory according to the
CondC or CondM condition.
For guidelines on the use of need codes and conditions, see Annex A.6 and A.7.
Table 6.1.2-1: Meaning of abbreviations used to specify the need for fields to
be present
+--------------------+------------------------------------------------+ | Abbreviation | Meaning | +====================+================================================+ | Cond conditionTag | _Conditionally present_ | | | | | | Presence of the field is specified in a | | | tabular form following the ASN.1 segment. | +--------------------+------------------------------------------------+ | CondC conditionTag | _Configuration condition_ | | | | | | Presence of the field is conditional to other | | | configuration settings. | +--------------------+------------------------------------------------+ | CondM conditionTag | _Message condition_ | | | | | | Presence of the field is conditional to other | | | fields included in the message. | +--------------------+------------------------------------------------+ | Need S | _Specified_ | | | | | | Used for (configuration) fields, whose field | | | description or procedure **specifies** the UE | | | behavior performed upon receiving a message | | | with the field absent (and not if field | | | description or procedure specifies the UE | | | behavior when field is not configured). | +--------------------+------------------------------------------------+ | Need M | _Maintain_ | | | | | | Used for (configuration) fields that are | | | stored by the UE i.e. not one-shot. Upon | | | receiving a message with the field absent, the | | | UE maintains the current value. | +--------------------+------------------------------------------------+ | Need N | _No action (one-shot configuration that is not | | | maintained)_ | | | | | | Used for (configuration) fields that are not | | | stored and whose presence causes a one-time | | | action by the UE. Upon receiving message with | | | the field absent, the UE takes no action. | +--------------------+------------------------------------------------+ | Need R | _Release_ | | | | | | Used for (configuration) fields that are | | | stored by the UE i.e. not one-shot. Upon | | | receiving a message with the field absent, the | | | UE releases the current value. | +--------------------+------------------------------------------------+
NOTE: In this version of the specification, the condition tags CondC and CondM
are not used.
Any field with Need M or Need N in system information shall be interpreted as
Need R.
The need code used within a CondX definition only applies for the case (part
of the condition) where it is defined: A condition may have different need
codes for different parts of the condition. In particular, the CondX
definition may contain the following \"otherwise the field is absent\" parts:
\- \"Otherwise, the field is absent\": The field is not relevant or should not
be configured when this part of the condition applies. In particular, the UE
behaviour is not defined when the field is configured via another part of the
condition and is reconfigured to this part of the condition. A need code is
not provided when the transition from another part of the condition to this
part of the condition is not supported, when the field clearly is a one-shot
or there is no difference whether UE maintains or releases the value (e.g., in
case the field is mandatory present according to the other part of the
condition).
\- \"Otherwise, the field is absent, Need R\": The field is released if absent
when this part of the condition applies. This handles UE behaviour in case the
field is configured via another part of the condition and this part of the
condition applies (which means that network can assume UE releases the field
if this part of the condition is valid).
\- \"Otherwise, the field is absent, Need M\": The UE retains the field if it
was already configured when this part of the condition applies. This means the
network cannot release the field , but UE retains the previously configured
value.
Use of different Need codes in different parts of a condition should be
avoided.
For downlink messages, the need codes, conditions and ASN.1 defaults specified
for a particular (child) field only apply in case the (parent) field including
the particular field is present. Thus, if the parent is absent the UE shall
not release the field unless the absence of the parent field implies that.
For (parent) fields without need codes in downlink messages, if the parent
field is absent, UE shall follow the need codes of the child fields. Thus, if
parent field is absent, the need code of each child field is followed (i.e.
Need R child fields are released, Need M child fields are not modified and the
actions for Need S child fields depend on the specified conditions of each
field). Examples of (parent) fields in downlink messages without need codes
where this rule applies are:
\- _nonCriticalExtension_ fields at the end of a message using empty SEQUENCE
extension mechanism,
\- groups of non-critical extensions using double brackets (referred to as
extension groups), and
\- non-critical extensions at the end of a message or at the end of a
structure, contained in a BIT STRING or OCTET STRING (referred to as parent
extension fields).
The handling of need codes as specified in the previous is illustrated by
means of an example, as shown in the following ASN.1.
\-- /example/ ASN1START
RRCMessage-IEs ::= SEQUENCE {
field1 InformationElement1 OPTIONAL, -- Need M
field2 InformationElement2 OPTIONAL, -- Need R
nonCriticalExtension RRCMessage-v1570-IEs OPTIONAL
}
RRCMessage-1570-IEs ::= SEQUENCE {
field3 InformationElement3 OPTIONAL, -- Need M
nonCriticalExtension RRCMessage-v1640-IEs OPTIONAL
}
RRCMessage-v1640-IEs ::= SEQUENCE {
field4 InformationElement4 OPTIONAL, -- Need R
nonCriticalExtension SEQUENCE {} OPTIONAL
}
InformationElement1 ::= SEQUENCE {
field10 InformationElement10 OPTIONAL, -- Need N
field11 InformationElement11 OPTIONAL, -- Need M
field12 InformationElement12 OPTIONAL, -- Need R
...,
[[
field13 InformationElement13 OPTIONAL, -- Need R
field14 InformationElement14 OPTIONAL -- Need M
]]
}
InformationElement2 ::= SEQUENCE {
field21 InformationElement11 OPTIONAL, -- Need M
...
}
\-- ASN1STOP
The handling of need codes as specified in the previous implies that:
\- if _field1_ in _RRCMessage-IEs_ is absent, UE does not modify or take
action on any child fields configured within _field1_ (regardless of their
need codes);
\- if _field2_ in _RRCMessage-IEs_ is absent, UE releases the _field2_ (and
also its child field _field21_);
\- if _field1_ or _field2_ in _RRCMessage-IEs_ is present, UE retains or
releases their child fields according to the child field presence conditions;
\- if _field1_ in _RRCMessage-IEs_ is present but the extension group
containing _field13_ and _field14_ is absent, the UE releases _field13_ but
does not modify _field14_ ;
\- if _nonCriticalExtension_ defined by IE _RRCMessage-v1570-IEs_ is absent,
the UE does not modify _field3_ but releases _field4_ ;
### 6.1.3 General rules
In the ASN.1 of this specification, the first bit of a bit string refers to
the leftmost bit, unless stated otherwise.
Upon reception of a list not using ToAddModList and ToReleaseList structure,
the UE shall delete all entries of the list currently in the UE configuration
before applying the received list and shall consider each entry as newly
created. This applies also to lists whose size is extended (i.e. with a second
list structure in the ASN.1 comprising additional entries). This implies that
Need M should not be used for fields in the entries of these lists; if used,
UE will handle such fields equivalent to a Need R.
## 6.2 RRC messages
### 6.2.1 General message structure
#### _\-- NR-RRC-Definitions_
This ASN.1 segment is the start of the NR RRC PDU definitions.
\-- ASN1START
\-- TAG-NR-RRC-DEFINITIONS-START
NR-RRC-Definitions DEFINITIONS AUTOMATIC TAGS ::=
BEGIN
\-- TAG-NR-RRC-DEFINITIONS-STOP
\-- ASN1STOP
#### _\-- BCCH-BCH-Message_
The _BCCH-BCH-Message_ class is the set of RRC messages that may be sent from
the network to the UE via BCH on the BCCH logical channel.
\-- ASN1START
\-- TAG-BCCH-BCH-MESSAGE-START
BCCH-BCH-Message ::= SEQUENCE {
message BCCH-BCH-MessageType
}
BCCH-BCH-MessageType ::= CHOICE {
mib MIB,
messageClassExtension SEQUENCE {}
}
\-- TAG-BCCH-BCH-MESSAGE-STOP
\-- ASN1STOP
#### _\-- BCCH-DL-SCH-Message_
The _BCCH-DL-SCH-Message_ class is the set of RRC messages that may be sent
from the network to the UE via DL-SCH on the BCCH logical channel.
\-- ASN1START
\-- TAG-BCCH-DL-SCH-MESSAGE-START
BCCH-DL-SCH-Message ::= SEQUENCE {
message BCCH-DL-SCH-MessageType
}
BCCH-DL-SCH-MessageType ::= CHOICE {
c1 CHOICE {
systemInformation SystemInformation,
systemInformationBlockType1 SIB1
},
messageClassExtension SEQUENCE {}
}
\-- TAG-BCCH-DL-SCH-MESSAGE-STOP
\-- ASN1STOP
#### \-- _DL-CCCH-Message_
The _DL-CCCH-Message_ class is the set of RRC messages that may be sent from
the Network to the UE on the downlink CCCH logical channel.
\-- ASN1START
\-- TAG-DL-CCCH-MESSAGE-START
DL-CCCH-Message ::= SEQUENCE {
message DL-CCCH-MessageType
}
DL-CCCH-MessageType ::= CHOICE {
c1 CHOICE {
rrcReject RRCReject,
rrcSetup RRCSetup,
spare2 NULL,
spare1 NULL
},
messageClassExtension SEQUENCE {}
}
\-- TAG-DL-CCCH-MESSAGE-STOP
\-- ASN1STOP
#### _\-- DL-DCCH-Message_
The _DL-DCCH-Message_ class is the set of RRC messages that may be sent from
the network to the UE on the downlink DCCH logical channel.
\-- ASN1START
\-- TAG-DL-DCCH-MESSAGE-START
DL-DCCH-Message ::= SEQUENCE {
message DL-DCCH-MessageType
}
DL-DCCH-MessageType ::= CHOICE {
c1 CHOICE {
rrcReconfiguration RRCReconfiguration,
rrcResume RRCResume,
rrcRelease RRCRelease,
rrcReestablishment RRCReestablishment,
securityModeCommand SecurityModeCommand,
dlInformationTransfer DLInformationTransfer,
ueCapabilityEnquiry UECapabilityEnquiry,
counterCheck CounterCheck,
mobilityFromNRCommand MobilityFromNRCommand,
spare7 NULL,
spare6 NULL, spare5 NULL, spare4 NULL,
spare3 NULL, spare2 NULL, spare1 NULL
},
messageClassExtension SEQUENCE {}
}
\-- TAG-DL-DCCH-MESSAGE-STOP
\-- ASN1STOP
#### _\-- PCCH-Message_
The _PCCH-Message_ class is the set of RRC messages that may be sent from the
Network to the UE on the PCCH logical channel.
\-- ASN1START
\-- TAG-PCCH-PCH-MESSAGE-START
PCCH-Message ::= SEQUENCE {
message PCCH-MessageType
}
PCCH-MessageType ::= CHOICE {
c1 CHOICE {
paging Paging,
spare1 NULL
},
messageClassExtension SEQUENCE {}
}
\-- TAG-PCCH-PCH-MESSAGE-STOP
\-- ASN1STOP
#### \-- _UL-CCCH-Message_
The _UL-CCCH-Message_ class is the set of 48-bits RRC messages that may be
sent from the UE to the Network on the uplink CCCH logical channel.
\-- ASN1START
\-- TAG-UL-CCCH-MESSAGE-START
UL-CCCH-Message ::= SEQUENCE {
message UL-CCCH-MessageType
}
UL-CCCH-MessageType ::= CHOICE {
c1 CHOICE {
rrcSetupRequest RRCSetupRequest,
rrcResumeRequest RRCResumeRequest,
rrcReestablishmentRequest RRCReestablishmentRequest,
rrcSystemInfoRequest RRCSystemInfoRequest
},
messageClassExtension SEQUENCE {}
}
\-- TAG-UL-CCCH-MESSAGE-STOP
\-- ASN1STOP
#### _\-- UL-CCCH1-Message_
The _UL-CCCH1-Message_ class is the set of 64-bits RRC messages that may be
sent from the UE to the Network on the uplink CCCH1 logical channel.
\-- ASN1START
\-- TAG-UL-CCCH1-MESSAGE-START
UL-CCCH1-Message ::= SEQUENCE {
message UL-CCCH1-MessageType
}
UL-CCCH1-MessageType ::= CHOICE {
c1 CHOICE {
rrcResumeRequest1 RRCResumeRequest1,
spare3 NULL,
spare2 NULL,
spare1 NULL
},
messageClassExtension SEQUENCE {}
}
\-- TAG-UL-CCCH1-MESSAGE-STOP
\-- ASN1STOP
#### _\-- UL-DCCH-Message_
The _UL-DCCH-Message_ class is the set of RRC messages that may be sent from
the UE to the network on the uplink DCCH logical channel.
\-- ASN1START
\-- TAG-UL-DCCH-MESSAGE-START
UL-DCCH-Message ::= SEQUENCE {
message UL-DCCH-MessageType
}
UL-DCCH-MessageType ::= CHOICE {
c1 CHOICE {
measurementReport MeasurementReport,
rrcReconfigurationComplete RRCReconfigurationComplete,
rrcSetupComplete RRCSetupComplete,
rrcReestablishmentComplete RRCReestablishmentComplete,
rrcResumeComplete RRCResumeComplete,
securityModeComplete SecurityModeComplete,
securityModeFailure SecurityModeFailure,
ulInformationTransfer ULInformationTransfer,
locationMeasurementIndication LocationMeasurementIndication,
ueCapabilityInformation UECapabilityInformation,
counterCheckResponse CounterCheckResponse,
ueAssistanceInformation UEAssistanceInformation,
failureInformation FailureInformation,
ulInformationTransferMRDC ULInformationTransferMRDC,
scgFailureInformation SCGFailureInformation,
scgFailureInformationEUTRA SCGFailureInformationEUTRA
},
messageClassExtension SEQUENCE {}
}
\-- TAG-UL-DCCH-MESSAGE-STOP
\-- ASN1STOP
###
### 6.2.2 Message definitions
#### \-- _CounterCheck_
The _CounterCheck message_ is used by the network to indicate the current
COUNT MSB values associated to each DRB and to request the UE to compare these
to its COUNT MSB values and to report the comparison results to the network.
Signalling radio bearer: SRB1
RLC-SAP: AM
Logical channel: DCCH
Direction: Network to UE
**_CounterCheck message_**
\-- ASN1START
\-- TAG-COUNTERCHECK-START
CounterCheck ::= SEQUENCE {
rrc-TransactionIdentifier RRC-TransactionIdentifier,
criticalExtensions CHOICE {
counterCheck CounterCheck-IEs,
criticalExtensionsFuture SEQUENCE {}
}
}
CounterCheck-IEs ::= SEQUENCE {
drb-CountMSB-InfoList DRB-CountMSB-InfoList,
lateNonCriticalExtension OCTET STRING OPTIONAL,
nonCriticalExtension SEQUENCE {} OPTIONAL
}
DRB-CountMSB-InfoList ::= SEQUENCE (SIZE (1..maxDRB)) OF DRB-CountMSB-Info
DRB-CountMSB-Info ::= SEQUENCE {
drb-Identity DRB-Identity,
countMSB-Uplink INTEGER(0..33554431),
countMSB-Downlink INTEGER(0..33554431)
}
\-- TAG-COUNTERCHECK-STOP
\-- ASN1STOP
+-----------------------------------------------------+ | _CounterCheck-IEs_ field descriptions | +=====================================================+ | **_drb-CountMSB-InfoList_** | | | | Indicates the MSBs of the COUNT values of the DRBs. | +-----------------------------------------------------+
+----------------------------------------------------------------------+ | _DRB-CountMSB-Info_ field descriptions | +======================================================================+ | **_countMSB-Downlink_** | | | | Indicates the value of 25 MSBs from RX_NEXT -- 1 (specified in TS | | 38.323 [5]) associated to this DRB. | +----------------------------------------------------------------------+ | **_countMSB-Uplink_** | | | | Indicates the value of 25 MSBs from TX_NEXT -- 1 (specified in TS | | 38.323 [5]) associated to this DRB. | +----------------------------------------------------------------------+
#### \-- _CounterCheckResponse_
The _CounterCheckResponse message_ is used by the UE to respond to a
_CounterCheck_ message.
Signalling radio bearer: SRB1
RLC-SAP: AM
Logical channel: DCCH
Direction: UE to Network
**_CounterCheckResponse message_**
\-- ASN1START
\-- TAG-COUNTERCHECKRESPONSE-START
CounterCheckResponse ::= SEQUENCE {
rrc-TransactionIdentifier RRC-TransactionIdentifier,
criticalExtensions CHOICE {
counterCheckResponse CounterCheckResponse-IEs,
criticalExtensionsFuture SEQUENCE {}
}
}
CounterCheckResponse-IEs ::= SEQUENCE {
drb-CountInfoList DRB-CountInfoList,
lateNonCriticalExtension OCTET STRING OPTIONAL,
nonCriticalExtension SEQUENCE {} OPTIONAL
}
DRB-CountInfoList ::= SEQUENCE (SIZE (0..maxDRB)) OF DRB-CountInfo
DRB-CountInfo ::= SEQUENCE {
drb-Identity DRB-Identity,
count-Uplink INTEGER(0..4294967295),
count-Downlink INTEGER(0..4294967295)
}
\-- TAG-COUNTERCHECKRESPONSE-STOP
\-- ASN1STOP
+-----------------------------------------------+ | _CounterCheckResponse-IEs_ field descriptions | +===============================================+ | **_drb-CountInfoList_** | | | | Indicates the COUNT values of the DRBs. | +-----------------------------------------------+
+----------------------------------------------------------------------+ | _DRB-CountInfo_ field descriptions | +======================================================================+ | **_count-Downlink_** | | | | Indicates the value of RX_NEXT -- 1 (specified in TS 38.323 [5]) | | associated to this DRB. | +----------------------------------------------------------------------+ | **_count-Uplink_** | | | | Indicates the value of TX_NEXT -- 1 (specified in TS 38.323 [5]) | | associated to this DRB. | +----------------------------------------------------------------------+
#### \-- _DLInformationTransfer_
The _DLInformationTransfer_ message is used for the downlink transfer of NAS
dedicated information.
Signalling radio bearer: SRB2 or SRB1 (only if SRB2 not established yet. If
SRB2 is suspended, the network does not send this message until SRB2 is
resumed.)
RLC-SAP: AM
Logical channel: DCCH
Direction: Network to UE
_DLInformationTransfer_ message
\-- ASN1START
\-- TAG-DLINFORMATIONTRANSFER-START
DLInformationTransfer ::= SEQUENCE {
rrc-TransactionIdentifier RRC-TransactionIdentifier,
criticalExtensions CHOICE {
dlInformationTransfer DLInformationTransfer-IEs,
criticalExtensionsFuture SEQUENCE {}
}
}
DLInformationTransfer-IEs ::= SEQUENCE {
dedicatedNAS-Message DedicatedNAS-Message OPTIONAL, -- Need N
lateNonCriticalExtension OCTET STRING OPTIONAL,
nonCriticalExtension SEQUENCE {} OPTIONAL
}
\-- TAG-DLINFORMATIONTRANSFER-STOP
\-- ASN1STOP
#### \-- _FailureInformation_
The _FailureInformation_ message is used to inform the network about a failure
detected by the UE.
Signalling radio bearer: SRB1 or SRB3
RLC-SAP: AM
Logical channel: DCCH
Direction: UE to network
**_FailureInformation message_**
\-- ASN1START
\-- TAG-FAILUREINFORMATION-START
FailureInformation ::= SEQUENCE {
criticalExtensions CHOICE {
failureInformation FailureInformation-IEs,
criticalExtensionsFuture SEQUENCE {}
}
}
FailureInformation-IEs ::= SEQUENCE {
failureInfoRLC-Bearer FailureInfoRLC-Bearer OPTIONAL,
lateNonCriticalExtension OCTET STRING OPTIONAL,
nonCriticalExtension SEQUENCE {} OPTIONAL
}
FailureInfoRLC-Bearer ::= SEQUENCE {
cellGroupId CellGroupId,
logicalChannelIdentity LogicalChannelIdentity,
failureType ENUMERATED {rlc-failure, spare3, spare2, spare1}
}
\-- TAG-FAILUREINFORMATION-STOP
\-- ASN1STOP
#### \-- _LocationMeasurementIndication_
The _LocationMeasurementIndication_ message is used to indicate that the UE is
going to either start or stop location related measurement which requires
measurement gaps.
Signalling radio bearer: SRB1
RLC-SAP: AM
Logical channel: DCCH
Direction: UE to Network
**_LocationMeasurementIndication message_**
\-- ASN1START
\-- TAG-LOCATIONMEASUREMENTINDICATION-START
LocationMeasurementIndication ::= SEQUENCE {
criticalExtensions CHOICE {
locationMeasurementIndication LocationMeasurementIndication-IEs,
criticalExtensionsFuture SEQUENCE {}
}
}
LocationMeasurementIndication-IEs ::= SEQUENCE {
measurementIndication SetupRelease {LocationMeasurementInfo},
lateNonCriticalExtension OCTET STRING OPTIONAL,
nonCriticalExtension SEQUENCE{} OPTIONAL
}
\-- TAG-LOCATIONMEASUREMENTINDICATION-STOP
\-- ASN1STOP
#### \-- _MeasurementReport_
The _MeasurementReport_ message is used for the indication of measurement
results.
Signalling radio bearer: SRB1, SRB3
RLC-SAP: AM
Logical channel: DCCH
Direction: UE to Network
**_MeasurementReport message_**
\-- ASN1START
\-- TAG-MEASUREMENTREPORT-START
MeasurementReport ::= SEQUENCE {
criticalExtensions CHOICE {
measurementReport MeasurementReport-IEs,
criticalExtensionsFuture SEQUENCE {}
}
}
MeasurementReport-IEs ::= SEQUENCE {
measResults MeasResults,
lateNonCriticalExtension OCTET STRING OPTIONAL,
nonCriticalExtension SEQUENCE{} OPTIONAL
}
\-- TAG-MEASUREMENTREPORT-STOP
\-- ASN1STOP
#### \-- _MIB_
The _MIB_ includes the system information transmitted on BCH.
Signalling radio bearer: N/A
RLC-SAP: TM
Logical channel: BCCH
Direction: Network to UE
**_MIB_**
\-- ASN1START
\-- TAG-MIB-START
MIB ::= SEQUENCE {
systemFrameNumber BIT STRING (SIZE (6)),
subCarrierSpacingCommon ENUMERATED {scs15or60, scs30or120},
ssb-SubcarrierOffset INTEGER (0..15),
dmrs-TypeA-Position ENUMERATED {pos2, pos3},
pdcch-ConfigSIB1 PDCCH-ConfigSIB1,
cellBarred ENUMERATED {barred, notBarred},
intraFreqReselection ENUMERATED {allowed, notAllowed},
spare BIT STRING (SIZE (1))
}
\-- TAG-MIB-STOP
\-- ASN1STOP
+----------------------------------------------------------------------+ | _MIB_ field descriptions | +======================================================================+ | **_cellBarred_** | | | | Value _barred_ means that the cell is barred, as defined in TS | | 38.304 [20]. | +----------------------------------------------------------------------+ | **_dmrs-TypeA-Position_** | | | | Position of (first) DM-RS for downlink (see TS 38.211 [16], clause | | 7.4.1.1.2) and uplink (see TS 38.211 [16], clause 6.4.1.1.3). | +----------------------------------------------------------------------+ | **_intraFreqReselection_** | | | | Controls cell selection/reselection to intra-frequency cells when | | the highest ranked cell is barred, or treated as barred by the UE, | | as specified in TS 38.304 [20]. | +----------------------------------------------------------------------+ | **_pdcch-ConfigSIB1_** | | | | Determines a common _ControlResourceSet_ (CORESET), a common search | | space and necessary PDCCH parameters. If the field | | _ssb-SubcarrierOffset_ indicates that _SIB1_ is absent, the field | | _pdcch-ConfigSIB1_ indicates the frequency positions where the UE | | may find SS/PBCH block with _SIB1_ or the frequency range where the | | network does not provide SS/PBCH block with _SIB1_ (see TS 38.213 | | [13], clause 13). | +----------------------------------------------------------------------+ | **_ssb-SubcarrierOffset_** | | | | Corresponds to k~SSB~ (see TS 38.213 [13]), which is the frequency | | domain offset between SSB and the overall resource block grid in | | number of subcarriers. (See TS 38.211 [16], clause 7.4.3.1). | | | | The value range of this field may be extended by an additional most | | significant bit encoded within PBCH as specified in TS 38.213 | | [13]. | | | | This field may indicate that this cell does not provide _SIB1_ and | | that there is hence no CORESET#0 configured in _MIB_ (see TS 38.213 | | [13], clause 13). In this case, the field _pdcch-ConfigSIB1_ may | | indicate the frequency positions where the UE may (not) find a | | SS/PBCH with a control resource set and search space for _SIB1_ (see | | TS 38.213 [13], clause 13). | +----------------------------------------------------------------------+ | **_subCarrierSpacingCommon_** | | | | Subcarrier spacing for _SIB1_ , Msg.2/4 for initial access, paging | | and broadcast SI-messages. If the UE acquires this _MIB_ on an FR1 | | carrier frequency, the value _scs15or60_ corresponds to 15 kHz and | | the value _scs30or120_ corresponds to 30 kHz. If the UE acquires | | this _MIB_ on an FR2 carrier frequency, the value _scs15or60_ | | corresponds to 60 kHz and the value _scs30or120_ corresponds to 120 | | kHz. | +----------------------------------------------------------------------+ | **_systemFrameNumber_** | | | | The 6 most significant bits (MSB) of the 10-bit System Frame Number | | (SFN). The 4 LSB of the SFN are conveyed in the PBCH transport block | | as **_part of channel coding (i.e._** outside the _MIB_ | | **_encoding), as defined in clause 7.1 in TS 38.212 [17]_**. | +----------------------------------------------------------------------+
#### \-- _MobilityFromNRCommand_
The _MobilityFromNRCommand_ message is used to command handover from NR to
E-UTRA/EPC or E-UTRA/5GC.
Signalling radio bearer: SRB1
RLC-SAP: AM
Logical channel: DCCH
Direction: Network to UE
_MobilityFromNRCommand_ message
\-- ASN1START
\-- TAG-MOBILITYFROMNRCOMMAND-START
MobilityFromNRCommand ::= SEQUENCE {
rrc-TransactionIdentifier RRC-TransactionIdentifier,
criticalExtensions CHOICE {
mobilityFromNRCommand MobilityFromNRCommand-IEs,
criticalExtensionsFuture SEQUENCE {}
}
}
MobilityFromNRCommand-IEs ::= SEQUENCE {
targetRAT-Type ENUMERATED { eutra, spare3, spare2, spare1, ...},
targetRAT-MessageContainer OCTET STRING,
nas-SecurityParamFromNR OCTET STRING OPTIONAL, -- Cond HO-ToEPC
lateNonCriticalExtension OCTET STRING OPTIONAL,
nonCriticalExtension SEQUENCE {} OPTIONAL
}
\-- TAG-MOBILITYFROMNRCOMMAND-STOP
\-- ASN1STOP
+----------------------------------------------------------------------+ | _MobilityFromNRCommand-IEs_ field descriptions | +======================================================================+ | **_nas-SecurityParamFromNR_** | | | | This field is used to deliver the key synchronisation and Key | | freshness for the NR to LTE/EPC handovers and a part of the downlink | | NAS COUNT as specified in TS 33.501 [11] and the content of the | | parameter is defined in TS 24.501 [23]. | +----------------------------------------------------------------------+ | **_targetRAT-MessageContainer_** | | | | The field contains a message specified in another standard, as | | indicated by the _targetRAT-Type_ , and carries information about the | | target cell identifier(s) and radio parameters relevant for the | | target radio access technology. A complete message is included, as | | specified in the other standard. See NOTE 1 | +----------------------------------------------------------------------+ | **_targetRAT-Type_** | | | | Indicates the target RAT type. | +----------------------------------------------------------------------+
NOTE 1: The correspondence between the value of the _targetRAT-Type_ , the
standard to apply, and the message contained within the _targetRAT-
MessageContainer_ is shown in the table below:
targetRAT-Type Standard to apply targetRAT-MessageContainer
* * *
_eutra_ TS 36.331 [10] (clause 5.4.2) _DL-DCCH-Message_ including the
_RRCConnectionReconfiguration_
Conditional Presence Explanation
* * *
_HO-ToEPC_ This field is mandatory present in case of inter system handover.
Otherwise it is absent.
#### \-- _Paging_
The _Paging_ message is used for the notification of one or more UEs.
Signalling radio bearer: N/A
RLC-SAP: TM
Logical channel: PCCH
Direction: Network to UE
**_Paging message_**
\-- ASN1START
\-- TAG-PAGING-START
Paging ::= SEQUENCE {
pagingRecordList PagingRecordList OPTIONAL, -- Need N
lateNonCriticalExtension OCTET STRING OPTIONAL,
nonCriticalExtension SEQUENCE{} OPTIONAL
}
PagingRecordList ::= SEQUENCE (SIZE(1..maxNrofPageRec)) OF PagingRecord
PagingRecord ::= SEQUENCE {
ue-Identity PagingUE-Identity,
accessType ENUMERATED {non3GPP} OPTIONAL, -- Need N
...
}
PagingUE-Identity ::= CHOICE {
ng-5G-S-TMSI NG-5G-S-TMSI,
fullI-RNTI I-RNTI-Value,
...
}
\-- TAG-PAGING-STOP
\-- ASN1STOP
+----------------------------------------------------------------------+ | _PagingRecord_ field descriptions | +======================================================================+ | **_accessType_** | | | | Indicates whether the _Paging_ message is originated due to the PDU | | sessions from the non-3GPP access. | +----------------------------------------------------------------------+
#### \-- _RRCReestablishment_
The _RRCReestablishment_ message is used to re-establish SRB1.
Signalling radio bearer: SRB1
RLC-SAP: AM
Logical channel: DCCH
Direction: Network to UE
**_RRCReestablishment_** message
\-- ASN1START
\-- TAG-RRCREESTABLISHMENT-START
RRCReestablishment ::= SEQUENCE {
rrc-TransactionIdentifier RRC-TransactionIdentifier,
criticalExtensions CHOICE {
rrcReestablishment RRCReestablishment-IEs,
criticalExtensionsFuture SEQUENCE {}
}
}
RRCReestablishment-IEs ::= SEQUENCE {
nextHopChainingCount NextHopChainingCount,
lateNonCriticalExtension OCTET STRING OPTIONAL,
nonCriticalExtension SEQUENCE {} OPTIONAL
}
\-- TAG-RRCREESTABLISHMENT-STOP
\-- ASN1STOP
#### \-- _RRCReestablishmentComplete_
The _RRCReestablishmentComplete_ message is used to confirm the successful
completion of an RRC connection re-establishment.
Signalling radio bearer: SRB1
RLC-SAP: AM
Logical channel: DCCH
Direction: UE to Network
**_RRCReestablishmentComplete_** message
\-- ASN1START
\-- TAG-RRCREESTABLISHMENTCOMPLETE-START
RRCReestablishmentComplete ::= SEQUENCE {
rrc-TransactionIdentifier RRC-TransactionIdentifier,
criticalExtensions CHOICE {
rrcReestablishmentComplete RRCReestablishmentComplete-IEs,
criticalExtensionsFuture SEQUENCE {}
}
}
RRCReestablishmentComplete-IEs ::= SEQUENCE {
lateNonCriticalExtension OCTET STRING OPTIONAL,
nonCriticalExtension SEQUENCE {} OPTIONAL
}
\-- TAG-RRCREESTABLISHMENTCOMPLETE-STOP
\-- ASN1STOP
#### \-- _RRCReestablishmentRequest_
The _RRCReestablishmentRequest_ message is used to request the reestablishment
of an RRC connection.
Signalling radio bearer: SRB0
RLC-SAP: TM
Logical channel: CCCH
Direction: UE to Network
**_RRCReestablishmentRequest_** message
\-- ASN1START
\-- TAG-RRCREESTABLISHMENTREQUEST-START
RRCReestablishmentRequest ::= SEQUENCE {
rrcReestablishmentRequest RRCReestablishmentRequest-IEs
}
RRCReestablishmentRequest-IEs ::= SEQUENCE {
ue-Identity ReestabUE-Identity,
reestablishmentCause ReestablishmentCause,
spare BIT STRING (SIZE (1))
}
ReestabUE-Identity ::= SEQUENCE {
c-RNTI RNTI-Value,
physCellId PhysCellId,
shortMAC-I ShortMAC-I
}
ReestablishmentCause ::= ENUMERATED {reconfigurationFailure, handoverFailure,
otherFailure, spare1}
\-- TAG-RRCREESTABLISHMENTREQUEST-STOP
\-- ASN1STOP
+----------------------------------------------------------------------+ | _ReestabUE-Identity_ field descriptions | +======================================================================+ | **_physCellId_** | | | | The Physical Cell Identity of the PCell the UE was connected to | | prior to the failure. | +----------------------------------------------------------------------+
+----------------------------------------------------------------------+ | _RRCReestablishmentRequest-IEs_ field descriptions | +======================================================================+ | **_reestablishmentCause_** | | | | Indicates the failure cause that triggered the re-establishment | | procedure. gNB is not expected to reject a | | _RRCReestablishmentRequest_ due to unknown cause value being used by | | the UE. | +----------------------------------------------------------------------+ | **_ue-Identity_** | | | | UE identity included to retrieve UE context and to facilitate | | contention resolution by lower layers. | +----------------------------------------------------------------------+
#### \-- _RRCReconfiguration_
The _RRCReconfiguration_ message is the command to modify an RRC connection.
It may convey information for measurement configuration, mobility control,
radio resource configuration (including RBs, MAC main configuration and
physical channel configuration) and AS security configuration.
Signalling radio bearer: SRB1 or SRB3
RLC-SAP: AM
Logical channel: DCCH
Direction: Network to UE
**_RRCReconfiguration message_**
\-- ASN1START
\-- TAG-RRCRECONFIGURATION-START
RRCReconfiguration ::= SEQUENCE {
rrc-TransactionIdentifier RRC-TransactionIdentifier,
criticalExtensions CHOICE {
rrcReconfiguration RRCReconfiguration-IEs,
criticalExtensionsFuture SEQUENCE {}
}
}
RRCReconfiguration-IEs ::= SEQUENCE {
radioBearerConfig RadioBearerConfig OPTIONAL, -- Need M
secondaryCellGroup OCTET STRING (CONTAINING CellGroupConfig) OPTIONAL, \--
Need M
measConfig MeasConfig OPTIONAL, -- Need M
lateNonCriticalExtension OCTET STRING OPTIONAL,
nonCriticalExtension RRCReconfiguration-v1530-IEs OPTIONAL
}
RRCReconfiguration-v1530-IEs ::= SEQUENCE {
masterCellGroup OCTET STRING (CONTAINING CellGroupConfig) OPTIONAL, -- Need M
fullConfig ENUMERATED {true} OPTIONAL, -- Cond FullConfig
dedicatedNAS-MessageList SEQUENCE (SIZE(1..maxDRB)) OF DedicatedNAS-Message
OPTIONAL, -- Cond nonHO
masterKeyUpdate MasterKeyUpdate OPTIONAL, -- Cond MasterKeyChange
dedicatedSIB1-Delivery OCTET STRING (CONTAINING SIB1) OPTIONAL, -- Need N
dedicatedSystemInformationDelivery OCTET STRING (CONTAINING SystemInformation)
OPTIONAL, -- Need N
otherConfig OtherConfig OPTIONAL, -- Need M
nonCriticalExtension RRCReconfiguration-v1540-IEs OPTIONAL
}
RRCReconfiguration-v1540-IEs ::= SEQUENCE {
otherConfig-v1540 OtherConfig-v1540 OPTIONAL, -- Need M
nonCriticalExtension RRCReconfiguration-v1560-IEs OPTIONAL
}
RRCReconfiguration-v1560-IEs ::= SEQUENCE {
mrdc-SecondaryCellGroupConfig SetupRelease { MRDC-SecondaryCellGroupConfig }
OPTIONAL, -- Need M
radioBearerConfig2 OCTET STRING (CONTAINING RadioBearerConfig) OPTIONAL, \--
Need M
sk-Counter SK-Counter OPTIONAL, -- Need N
nonCriticalExtension SEQUENCE {} OPTIONAL
}
MRDC-SecondaryCellGroupConfig ::= SEQUENCE {
mrdc-ReleaseAndAdd ENUMERATED {true} OPTIONAL, -- Need N
mrdc-SecondaryCellGroup CHOICE {
nr-SCG OCTET STRING (CONTAINING RRCReconfiguration),
eutra-SCG OCTET STRING
}
}
MasterKeyUpdate ::= SEQUENCE {
keySetChangeIndicator BOOLEAN,
nextHopChainingCount NextHopChainingCount,
nas-Container OCTET STRING OPTIONAL, -- Cond securityNASC
...
}
\-- TAG-RRCRECONFIGURATION-STOP
\-- ASN1STOP
+----------------------------------------------------------------------+ | _RRCReconfiguration-IEs_ field descriptions | +======================================================================+ | **_dedicatedNAS-MessageList_** | | | | **This field is used to transfer UE specific NAS layer information | | between the network and the UE. The RRC layer is transparent for | | each PDU in the list.** | +----------------------------------------------------------------------+ | **_dedicatedSIB1-Delivery_** | | | | This field is used to transfer _SIB1_ to the UE. The field has the | | same values as the corresponding configuration in | | _servingCellConfigCommon_. | +----------------------------------------------------------------------+ | **_dedicatedSystemInformationDelivery_** | | | | This field is used to transfer _SIB6_ , _SIB7_ , _SIB8_ to the UE. | +----------------------------------------------------------------------+ | **_fullConfig_** | | | | **Indicates that the full configuration option is applicable for | | the** _RRCReconfiguration_ **message for intra-system intra-RAT HO. | | For inter-RAT HO from E-UTRA to NR,_fullConfig _indicates whether | | or not delta signalling of SDAP/PDCP from source RAT is | | applicable.__This field is absent when the_ RRCReconfiguration _| | message is transmitted on SRB3, and in an_ RRCReconfiguration _| | message contained in another_ RRCReconfiguration _message (or | |_ RRCConnectionReconfiguration* message, see TS 36.331 [10]) | | transmitted on SRB1. | +----------------------------------------------------------------------+ | _**keySetChangeIndicator** _| | | |__Indicates whether UE shall derive a new K~gNB~. If | |_ reconfigurationWithSync _is included, value_ true* indicates that a | | K~gNB~ key is derived from a K~AMF~ key taken into use through the | | latest successful NAS SMC procedure, or** N2 handover procedure with | | K~AMF~ change, **as described in TS 33.501 [11] for K~gNB~ | | re-keying. Value _false _indicates that the new K~gNB~ key is | | obtained from the current K~gNB~ key or from the NH as described in | | TS 33.501 [11]._ * | +----------------------------------------------------------------------+ | _**masterCellGroup** _| | | | Configuration of master cell group. | +----------------------------------------------------------------------+ |_** mrdc-ReleaseAndAdd** _| | | | This field indicates that the current SCG configuration is released | | and a new SCG is added at the same time. | +----------------------------------------------------------------------+ |_** mrdc-SecondaryCellGroup** _| | | |_ *Includes an RRC message for SCG configuration in NR-DC or NE-DC.\ | | **For NR-DC (nr-SCG), _mrdc-SecondaryCellGroup_ contains **the | |_RRCReconfiguration _message as generated (entirely) by SN gNB.__In | | this version of the specification, the RRC message can only include | | fields_ secondaryCellGroup _and_ measConfig _. | | | | For NE-DC (eutra-SCG),_ mrdc-SecondaryCellGroup ___includes the | | E-UTRA_ RRCConnectionReconfiguration _message as specified in TS | | 36.331 [10].__In this version of the specification, the E-UTRA | | RRC message can only include the field_ scg-Configuration_**.**| +----------------------------------------------------------------------+ |**_nas-Container_**| | | |** This field is used to**transfer _UE specific NAS layer | | information between the network and the UE. The RRC layer is | | transparent for this field, although it affects activation of AS | | security ___after inter-system handover to NR. The content is | | defined in TS 24.501 [23]._ * | +----------------------------------------------------------------------+ | _**nextHopChainingCount** _| | | |_ *Parameter NCC: See TS 33.501 [11]** | +----------------------------------------------------------------------+ | **_otherConfig_** | | | | **Contains configuration related to other configurations.** | +----------------------------------------------------------------------+ | **_radioBearerConfig_** | | | | Configuration of Radio Bearers (DRBs, SRBs) including SDAP/PDCP. In | | (NG)EN-DC, this field may only be present if the | | _RRCReconfiguration_ is transmitted over SRB3. | +----------------------------------------------------------------------+ | **_radioBearerConfig2_** | | | | Configuration of Radio Bearers (DRBs, SRBs) including SDAP/PDCP. | | This field can only be used if the UE supports NR-DC or NE-DC. | +----------------------------------------------------------------------+ | **_secondaryCellGroup_** | | | | Configuration of secondary cell group ((NG)EN-DC or NR-DC). This | | field can only be present in an _RRCReconfiguration_ message is | | transmitted on SRB3, and in an _RRCReconfiguration_ message | | contained in another _RRCReconfiguration_ message (or | | _RRCConnectionReconfiguration_ message, see TS 36.331 [10]) | | transmitted on SRB1. | +----------------------------------------------------------------------+ | **_sk-Counter_** | | | | A counter used upon initial configuration of S-K~gNB~ or S-K~eNB~, | | as well as upon refresh of S-K~gNB~ or S-K~eNB~. This field is | | always included either upon initial configuration of an NR SCG or | | upon configuration of the first RB with _keyToUse_ set to | | _secondary_ , whichever happens first. This field is absent if there | | is neither any NR SCG nor any RB with _keyToUse_ set to _secondary_. | +----------------------------------------------------------------------+
Conditional Presence Explanation
* * *
_nonHO_ The field is absent in case of reconfiguration with sync within NR or
to NR; otherwise it is optionally present, need N. _securityNASC_ This field
is mandatory present in case of inter system handover. Otherwise the field is
optionally present, need N. _MasterKeyChange_ This field is mandatory present
in case _masterCellGroup_ includes _ReconfigurationWithSync_ and
_RadioBearerConfig_ includes _SecurityConfig_ with _SecurityAlgorithmConfig_ ,
indicating a change of the AS security algorithms associated to the master
key. If _ReconfigurationWithSync_ is included for other cases, this field is
optionally present, need N. Otherwise the field is absent. _FullConfig_ The
field is mandatory present in case of inter-system handover from E-UTRA/EPC to
NR. It is optionally present, Need N, during reconfiguration with sync and
also in first reconfiguration after reestablishment; or for intra-system
handover from E-UTRA/5GC to NR. It is absent otherwise.
#### _\-- RRCReconfigurationComplete_
The _RRCReconfigurationComplete_ message is used to confirm the successful
completion of an RRC connection reconfiguration.
Signalling radio bearer: SRB1 or SRB3
RLC-SAP: AM
Logical channel: DCCH
Direction: UE to Network
**_RRCReconfigurationComplete message_**
\-- ASN1START
\-- TAG-RRCRECONFIGURATIONCOMPLETE-START
RRCReconfigurationComplete ::= SEQUENCE {
rrc-TransactionIdentifier RRC-TransactionIdentifier,
criticalExtensions CHOICE {
rrcReconfigurationComplete RRCReconfigurationComplete-IEs,
criticalExtensionsFuture SEQUENCE {}
}
}
RRCReconfigurationComplete-IEs ::= SEQUENCE {
lateNonCriticalExtension OCTET STRING OPTIONAL,
nonCriticalExtension RRCReconfigurationComplete-v1530-IEs OPTIONAL
}
RRCReconfigurationComplete-v1530-IEs ::= SEQUENCE {
uplinkTxDirectCurrentList UplinkTxDirectCurrentList OPTIONAL,
nonCriticalExtension RRCReconfigurationComplete-v1560-IEs OPTIONAL
}
RRCReconfigurationComplete-v1560-IEs ::= SEQUENCE {
scg-Response CHOICE {
nr-SCG-Response OCTET STRING (CONTAINING RRCReconfigurationComplete),
eutra-SCG-Response OCTET STRING
} OPTIONAL,
nonCriticalExtension SEQUENCE {} OPTIONAL
}
\-- TAG-RRCRECONFIGURATIONCOMPLETE-STOP
\-- ASN1STOP
+----------------------------------------------------------------------+ | _RRCReconfigurationComplete-IEs_ field descriptions | +======================================================================+ | **_scg-Response_** | | | | In case of NR-DC (_nr-SCG-Response_), this field includes the | | _RRCReconfigurationComplete_ message. In case of NE-DC | | (_eutra-SCG-Response_), this field includes the E-UTRA | | _RRCConnectionReconfigurationComplete_ message as specified in TS | | 36.331 [10]**_._** | +----------------------------------------------------------------------+ | **_uplinkTxDirectCurrentList_** | | | | The Tx Direct Current locations for the configured serving cells and | | BWPs if requested by the NW (see _reportUplinkTxDirectCurrent_ in | | _CellGroupConfig_). | +----------------------------------------------------------------------+
#### \-- _RRCReject_
The _RRCReject_ message is used to reject an RRC connection establishment or
an RRC connection resumption.
Signalling radio bearer: SRB0
RLC-SAP: TM
Logical channel: CCCH
Direction: Network to UE
_RRCReject_ message
\-- ASN1START
\-- TAG-RRCREJECT-START
RRCReject ::= SEQUENCE {
criticalExtensions CHOICE {
rrcReject RRCReject-IEs,
criticalExtensionsFuture SEQUENCE {}
}
}
RRCReject-IEs ::= SEQUENCE {
waitTime RejectWaitTime OPTIONAL, -- Need N
lateNonCriticalExtension OCTET STRING OPTIONAL,
nonCriticalExtension SEQUENCE{} OPTIONAL
}
\-- TAG-RRCREJECT-STOP
\-- ASN1STOP
+-----------------------------------------------------------+ | _RRCReject-IEs_ field descriptions | +===========================================================+ | **_waitTime_** | | | | Wait time value in seconds. The field is always included. | +-----------------------------------------------------------+
#### \-- _RRCRelease_
The _RRCRelease_ message is used to command the release of an RRC connection
or the suspension of the RRC connection.
Signalling radio bearer: SRB1
RLC-SAP: AM
Logical channel: DCCH
Direction: Network to UE
_RRCRelease_ message
\-- ASN1START
\-- TAG-RRCRELEASE-START
RRCRelease ::= SEQUENCE {
rrc-TransactionIdentifier RRC-TransactionIdentifier,
criticalExtensions CHOICE {
rrcRelease RRCRelease-IEs,
criticalExtensionsFuture SEQUENCE {}
}
}
RRCRelease-IEs ::= SEQUENCE {
redirectedCarrierInfo RedirectedCarrierInfo OPTIONAL, -- Need N
cellReselectionPriorities CellReselectionPriorities OPTIONAL, -- Need R
suspendConfig SuspendConfig OPTIONAL, -- Need R
deprioritisationReq SEQUENCE {
deprioritisationType ENUMERATED {frequency, nr},
deprioritisationTimer ENUMERATED {min5, min10, min15, min30}
} OPTIONAL, -- Need N
lateNonCriticalExtension OCTET STRING OPTIONAL,
nonCriticalExtension RRCRelease-v1540-IEs OPTIONAL
}
RRCRelease-v1540-IEs ::= SEQUENCE {
waitTime RejectWaitTime OPTIONAL, -- Need N
nonCriticalExtension SEQUENCE {} OPTIONAL
}
RedirectedCarrierInfo ::= CHOICE {
nr CarrierInfoNR,
eutra RedirectedCarrierInfo-EUTRA,
...
}
RedirectedCarrierInfo-EUTRA ::= SEQUENCE {
eutraFrequency ARFCN-ValueEUTRA,
cnType ENUMERATED {epc,fiveGC} OPTIONAL -- Need N
}
CarrierInfoNR ::= SEQUENCE {
carrierFreq ARFCN-ValueNR,
ssbSubcarrierSpacing SubcarrierSpacing,
smtc SSB-MTC OPTIONAL, -- Need S
...
}
SuspendConfig ::= SEQUENCE {
fullI-RNTI I-RNTI-Value,
shortI-RNTI ShortI-RNTI-Value,
ran-PagingCycle PagingCycle,
ran-NotificationAreaInfo RAN-NotificationAreaInfo OPTIONAL, -- Need M
t380 PeriodicRNAU-TimerValue OPTIONAL, -- Need R
nextHopChainingCount NextHopChainingCount,
...
}
PeriodicRNAU-TimerValue ::= ENUMERATED { min5, min10, min20, min30, min60,
min120, min360, min720}
CellReselectionPriorities ::= SEQUENCE {
freqPriorityListEUTRA FreqPriorityListEUTRA OPTIONAL, -- Need M
freqPriorityListNR FreqPriorityListNR OPTIONAL, -- Need M
t320 ENUMERATED {min5, min10, min20, min30, min60, min120, min180, spare1}
OPTIONAL, -- Need R
...
}
PagingCycle ::= ENUMERATED {rf32, rf64, rf128, rf256}
FreqPriorityListEUTRA ::= SEQUENCE (SIZE (1..maxFreq)) OF FreqPriorityEUTRA
FreqPriorityListNR ::= SEQUENCE (SIZE (1..maxFreq)) OF FreqPriorityNR
FreqPriorityEUTRA ::= SEQUENCE {
carrierFreq ARFCN-ValueEUTRA,
cellReselectionPriority CellReselectionPriority,
cellReselectionSubPriority CellReselectionSubPriority OPTIONAL -- Need R
}
FreqPriorityNR ::= SEQUENCE {
carrierFreq ARFCN-ValueNR,
cellReselectionPriority CellReselectionPriority,
cellReselectionSubPriority CellReselectionSubPriority OPTIONAL -- Need R
}
RAN-NotificationAreaInfo ::= CHOICE {
cellList PLMN-RAN-AreaCellList,
ran-AreaConfigList PLMN-RAN-AreaConfigList,
...
}
PLMN-RAN-AreaCellList ::= SEQUENCE (SIZE (1.. maxPLMNIdentities)) OF PLMN-RAN-
AreaCell
PLMN-RAN-AreaCell ::= SEQUENCE {
plmn-Identity PLMN-Identity OPTIONAL, -- Need S
ran-AreaCells SEQUENCE (SIZE (1..32)) OF CellIdentity
}
PLMN-RAN-AreaConfigList ::= SEQUENCE (SIZE (1..maxPLMNIdentities)) OF PLMN-
RAN-AreaConfig
PLMN-RAN-AreaConfig ::= SEQUENCE {
plmn-Identity PLMN-Identity OPTIONAL, -- Need S
ran-Area SEQUENCE (SIZE (1..16)) OF RAN-AreaConfig
}
RAN-AreaConfig ::= SEQUENCE {
trackingAreaCode TrackingAreaCode,
ran-AreaCodeList SEQUENCE (SIZE (1..32)) OF RAN-AreaCode OPTIONAL -- Need R
}
\-- TAG-RRCRELEASE-STOP
\-- ASN1STOP
+----------------------------------------------------------------------+ | _RRCRelease-IEs_ field descriptions | +======================================================================+ | **_cnType_** | | | | Indicate that the UE is redirected to EPC or 5GC. | +----------------------------------------------------------------------+ | **_deprioritisationReq_** | | | | Indicates whether the current frequency or RAT is to be | | de-prioritised. | +----------------------------------------------------------------------+ | **_deprioritisationTimer_** | | | | _Indicates the period for which either the current carrier frequency | | or NR is deprioritised._ Value _minN_ corresponds to N minutes _._ | +----------------------------------------------------------------------+ | **_suspendConfig_** | | | | _Indicates configuration for the RRC_INACTIVE state. The network | | does not configure suspendConfig when the network redirect the UE to | | an inter-RAT carrier frequency._ | +----------------------------------------------------------------------+ | **_redirectedCarrierInfo_** | | | | Indicates a carrier frequency (downlink for FDD) and is used to | | redirect the UE to an NR or an inter-RAT carrier frequency, by means | | of cell selection at transition to RRC_IDLE or RRC_INACTIVE as | | specified in TS 38.304 [20]. In this release of specification, | | _redirectedCarrierInfo_ is not included in an _RRCRelease_ message | | with _suspendConfig_ if this message is in response to an | | _RRCResumeRequest_ or an _RRCResumeRequest1_ which is triggered by | | the NAS layer. | +----------------------------------------------------------------------+
+----------------------------------------------------------------------+ | **_CarrierInfoNR_** field descriptions | +======================================================================+ | **_carrierFreq_** | | | | Indicates the redirected NR frequency. | +----------------------------------------------------------------------+ | **_ssbSubcarrierSpacing_** | | | | Subcarrier spacing of SSB in the redirected SSB frequency. Only the | | values 15 kHz or 30 kHz (FR1), and 120 kHz or 240 kHz (FR2) are | | applicable. | +----------------------------------------------------------------------+ | **_smtc_** | | | | The SSB periodicity/offset/duration configuration for the redirected | | SSB frequency. It is based on timing reference of PCell. If the | | field is absent, the UE uses the SMTC configured in the measObjectNR | | having the same SSB frequency and subcarrier spacing. | +----------------------------------------------------------------------+
+-----------------------------------------------------+ | _RAN-NotificationAreaInfo_ field descriptions | +=====================================================+ | **_cellList_** | | | | A list of cells configured as RAN area. | +-----------------------------------------------------+ | **_ran-AreaConfigList_** | | | | A list of RAN area codes or RA code(s) as RAN area. | +-----------------------------------------------------+
+----------------------------------------------------------------------+ | _PLMN-RAN-AreaConfig_ field descriptions | +======================================================================+ | **_plmn-Identity_** | | | | PLMN Identity to which the cells in _ran-Area_ belong. If the field | | is absent the UE uses the ID of the registered PLMN. | +----------------------------------------------------------------------+ | **_ran-AreaCodeList_** | | | | The total number of RAN-AreaCodes of all PLMNs does not exceed 32. | +----------------------------------------------------------------------+ | **_ran-Area_** | | | | Indicates whether TA code(s) or RAN area code(s) are used for the | | RAN notification area. The network uses only TA code(s) or both TA | | code(s) and RAN area code(s) to configure a UE. The total number of | | TACs across all PLMNs does not exceed 16. | +----------------------------------------------------------------------+
+----------------------------------------------------------------------+ | _PLMN-RAN-AreaCell_ field descriptions | +======================================================================+ | **_plmn-Identity_** | | | | PLMN Identity to which the cells in _ran-AreaCells_ belong. If the | | field is absent the UE uses the ID of the registered PLMN. | +----------------------------------------------------------------------+ | **_ran-AreaCells_** | | | | The total number of cells of all PLMNs does not exceed 32. | +----------------------------------------------------------------------+
+----------------------------------------------------------------------+ | **_SuspendConfig_** field descriptions | +======================================================================+ | **_ran-NotificationAreaInfo_** | | | | Network ensures that the UE in RRC_INACTIVE always has a valid | | _ran-NotificationAreaInfo_. | +----------------------------------------------------------------------+ | **_ran-PagingCycle_** | | | | _Refers to the UE specific cycle for RAN-initiated paging. Value | | rf32 corresponds to 32 radio frames, value rf64 corresponds to 64 | | radio frames and so on._ | +----------------------------------------------------------------------+ | **_t380_** | | | | _Refers to the timer that triggers the periodic RNAU procedure in | | UE. Value min5 corresponds to 5 minutes, value min10 corresponds to | | 10 minutes and so on._ | +----------------------------------------------------------------------+
#### \-- _RRCResume_
The _RRCResume_ message is used to resume the suspended RRC connection.
Signalling radio bearer: SRB1
RLC-SAP: AM
Logical channel: DCCH
Direction: Network to UE
_RRCResume_ message
\-- ASN1START
\-- TAG-RRCRESUME-START
RRCResume ::= SEQUENCE {
rrc-TransactionIdentifier RRC-TransactionIdentifier,
criticalExtensions CHOICE {
rrcResume RRCResume-IEs,
criticalExtensionsFuture SEQUENCE {}
}
}
RRCResume-IEs ::= SEQUENCE {
radioBearerConfig RadioBearerConfig OPTIONAL, -- Need M
masterCellGroup OCTET STRING (CONTAINING CellGroupConfig) OPTIONAL, -- Need M
measConfig MeasConfig OPTIONAL, -- Need M
fullConfig ENUMERATED {true} OPTIONAL, -- Need N
lateNonCriticalExtension OCTET STRING OPTIONAL,
nonCriticalExtension RRCResume-v1560-IEs OPTIONAL
}
RRCResume-v1560-IEs ::= SEQUENCE {
radioBearerConfig2 OCTET STRING (CONTAINING RadioBearerConfig) OPTIONAL, \--
Need M
sk-Counter SK-Counter OPTIONAL, -- Need N
nonCriticalExtension SEQUENCE{} OPTIONAL
}
\-- TAG-RRCRESUME-STOP
\-- ASN1STOP
+----------------------------------------------------------------------+ | _RRCResume-IEs_ field descriptions | +======================================================================+ | **_masterCellGroup_** | | | | Configuration of the master cell group. | +----------------------------------------------------------------------+ | **_radioBearerConfig_** | | | | Configuration of Radio Bearers (DRBs, SRBs) including SDAP/PDCP. | +----------------------------------------------------------------------+ | **_radioBearerConfig2_** | | | | Configuration of Radio Bearers (DRBs, SRBs) including SDAP/PDCP. | | This field can only be used if the UE supports NR-DC or NE-DC. | +----------------------------------------------------------------------+ | **_sk-Counter_** | | | | A counter used to derive S-K~gNB~ or S-K~eNB~ based on the newly | | derived K~gNB~ during RRC Resume. The field is only included when | | there is one or more RB with _keyToUse_ set to _secondary_. | +----------------------------------------------------------------------+
#### \-- _RRCResumeComplete_
The _RRCResumeComplete_ message is used to confirm the successful completion
of an RRC connection resumption.
Signalling radio bearer: SRB1
RLC-SAP: AM
Logical channel: DCCH
Direction: UE to Network
_RRCResumeComplete_ message
\-- ASN1START
\-- TAG-RRCRESUMECOMPLETE-START
RRCResumeComplete ::= SEQUENCE {
rrc-TransactionIdentifier RRC-TransactionIdentifier,
criticalExtensions CHOICE {
rrcResumeComplete RRCResumeComplete-IEs,
criticalExtensionsFuture SEQUENCE {}
}
}
RRCResumeComplete-IEs ::= SEQUENCE {
dedicatedNAS-Message DedicatedNAS-Message OPTIONAL,
selectedPLMN-Identity INTEGER (1..maxPLMN) OPTIONAL,
uplinkTxDirectCurrentList UplinkTxDirectCurrentList OPTIONAL,
lateNonCriticalExtension OCTET STRING OPTIONAL,
nonCriticalExtension SEQUENCE{} OPTIONAL
}
\-- TAG-RRCRESUMECOMPLETE-STOP
\-- ASN1STOP
+----------------------------------------------------------------------+ | _RRCResumeComplete-IEs_ field descriptions | +======================================================================+ | **_selectedPLMN-Identity_** | | | | Index of the PLMN selected by the UE from the | | _plmn-IdentityInfoList_ fields included in _SIB1_. | +----------------------------------------------------------------------+ | **_uplinkTxDirectCurrentList_** | | | | The Tx Direct Current locations for the configured serving cells and | | BWPs if requested by the NW (see _reportUplinkTxDirectCurrent_ in | | _CellGroupConfig_). | +----------------------------------------------------------------------+
#### \-- _RRCResumeRequest_
The _RRCResumeRequest_ message is used to request the resumption of a
suspended RRC connection or perform an RNA update.
Signalling radio bearer: SRB0
RLC-SAP: TM
Logical channel: CCCH
Direction: UE to Network
_RRCResumeRequest_ message
\-- ASN1START
\-- TAG-RRCRESUMEREQUEST-START
RRCResumeRequest ::= SEQUENCE {
rrcResumeRequest RRCResumeRequest-IEs
}
RRCResumeRequest-IEs ::= SEQUENCE {
resumeIdentity ShortI-RNTI-Value,
resumeMAC-I BIT STRING (SIZE (16)),
resumeCause ResumeCause,
spare BIT STRING (SIZE (1))
}
\-- TAG-RRCRESUMEREQUEST-STOP
\-- ASN1STOP
+----------------------------------------------------------------------+ | _RRCResumeRequest-IEs field descriptions_ | +======================================================================+ | **_resumeCause_** | | | | Provides the resume cause for the RRC connection resume request as | | provided by the upper layers or RRC. The network is not expected to | | reject an _RRCResumeRequest_ due to unknown cause value being used | | by the UE. | +----------------------------------------------------------------------+ | **_resumeIdentity_** | | | | UE identity to facilitate UE context retrieval at gNB. | +----------------------------------------------------------------------+ | **_resumeMAC-I_** | | | | Authentication token to facilitate UE authentication at gNB. The 16 | | least significant bits of the MAC-I calculated using the AS security | | configuration as specified in 5.3.13.3. | +----------------------------------------------------------------------+
#### \-- _RRCResumeRequest1_
The _RRCResumeRequest1_ message is used to request the resumption of a
suspended RRC connection or perform an RNA update.
Signalling radio bearer: SRB0
RLC-SAP: TM
Logical channel: CCCH1
Direction: UE to Network
_RRCResumeRequest1_ message
\-- ASN1START
\-- TAG-RRCRESUMEREQUEST1-START
RRCResumeRequest1 ::= SEQUENCE {
rrcResumeRequest1 RRCResumeRequest1-IEs
}
RRCResumeRequest1-IEs ::= SEQUENCE {
resumeIdentity I-RNTI-Value,
resumeMAC-I BIT STRING (SIZE (16)),
resumeCause ResumeCause,
spare BIT STRING (SIZE (1))
}
\-- TAG-RRCRESUMEREQUEST1-STOP
\-- ASN1STOP
+----------------------------------------------------------------------+ | _RRCResumeRequest1-IEs_ field descriptions | +======================================================================+ | **_resumeCause_** | | | | Provides the resume cause for the _RRCResumeRequest1_ as provided by | | the upper layers or RRC. A gNB is not expected to reject an | | _RRCResumeRequest1_ due to unknown cause value being used by the UE. | +----------------------------------------------------------------------+ | **_resumeIdentity_** | | | | UE identity to facilitate UE context retrieval at gNB. | +----------------------------------------------------------------------+ | **_resumeMAC-I_** | | | | Authentication token to facilitate UE authentication at gNB. The 16 | | least significant bits of the MAC-I calculated using the AS security | | configuration as specified in 5.3.13.3. | +----------------------------------------------------------------------+
#### \-- _RRCSetup_
The _RRCSetup_ message is used to establish SRB1.
Signalling radio bearer: SRB0
RLC-SAP: TM
Logical channel: CCCH
Direction: Network to UE
_RRCSetup_ message
\-- ASN1START
\-- TAG-RRCSETUP-START
RRCSetup ::= SEQUENCE {
rrc-TransactionIdentifier RRC-TransactionIdentifier,
criticalExtensions CHOICE {
rrcSetup RRCSetup-IEs,
criticalExtensionsFuture SEQUENCE {}
}
}
RRCSetup-IEs ::= SEQUENCE {
radioBearerConfig RadioBearerConfig,
masterCellGroup OCTET STRING (CONTAINING CellGroupConfig),
lateNonCriticalExtension OCTET STRING OPTIONAL,
nonCriticalExtension SEQUENCE{} OPTIONAL
}
\-- TAG-RRCSETUP-STOP
\-- ASN1STOP
+----------------------------------------------------------------------+ | _RRCSetup-IEs_ field descriptions | +======================================================================+ | **_masterCellGroup_** | | | | The network configures only the RLC bearer for the SRB1, | | _mac-CellGroupConfig_ , _physicalCellGroupConfig_ and _spCellConfig_. | +----------------------------------------------------------------------+ | **_radioBearerConfig_** | | | | Only SRB1 can be configured in RRC setup. | +----------------------------------------------------------------------+
#### \-- _RRCSetupComplete_
The _RRCSetupComplete_ message is used to confirm the successful completion of
an RRC connection establishment.
Signalling radio bearer: SRB1
RLC-SAP: AM
Logical channel: DCCH
Direction: UE to Network
_RRCSetupComplete_ message
\-- ASN1START
\-- TAG-RRCSETUPCOMPLETE-START
RRCSetupComplete ::= SEQUENCE {
rrc-TransactionIdentifier RRC-TransactionIdentifier,
criticalExtensions CHOICE {
rrcSetupComplete RRCSetupComplete-IEs,
criticalExtensionsFuture SEQUENCE {}
}
}
RRCSetupComplete-IEs ::= SEQUENCE {
selectedPLMN-Identity INTEGER (1..maxPLMN),
registeredAMF RegisteredAMF OPTIONAL,
guami-Type ENUMERATED {native, mapped} OPTIONAL,
s-NSSAI-List SEQUENCE (SIZE (1..maxNrofS-NSSAI)) OF S-NSSAI OPTIONAL,
dedicatedNAS-Message DedicatedNAS-Message,
ng-5G-S-TMSI-Value CHOICE {
ng-5G-S-TMSI NG-5G-S-TMSI,
ng-5G-S-TMSI-Part2 BIT STRING (SIZE (9))
} OPTIONAL,
lateNonCriticalExtension OCTET STRING OPTIONAL,
nonCriticalExtension SEQUENCE{} OPTIONAL
}
RegisteredAMF ::= SEQUENCE {
plmn-Identity PLMN-Identity OPTIONAL,
amf-Identifier AMF-Identifier
}
\-- TAG-RRCSETUPCOMPLETE-STOP
\-- ASN1STOP
+----------------------------------------------------------------------+ | _RRCSetupComplete-IEs_ field descriptions | +======================================================================+ | **_guami-Type_** | | | | This field is used to indicate whether the GUAMI included is native | | (derived from native 5G-GUTI) or mapped (from EPS, derived from EPS | | GUTI) as specified in TS 24.501 [23]. | +----------------------------------------------------------------------+ | **_ng-5G-S-TMSI-Part2_** | | | | The leftmost 9 bits of 5G-S-TMSI. | +----------------------------------------------------------------------+ | **_registeredAMF_** | | | | This field is used to transfer the GUAMI of the AMF where the UE is | | registered, as provided by upper layers, see TS 23.003 [21]. | +----------------------------------------------------------------------+ | **_selectedPLMN-Identity_** | | | | Index of the PLMN selected by the UE from the | | _plmn-IdentityInfoList_ fields included in SIB1. | +----------------------------------------------------------------------+
#### _\-- RRCSetupRequest_
The _RRCSetupRequest_ message is used to request the establishment of an RRC
connection.
Signalling radio bearer: SRB0
RLC-SAP: TM
Logical channel: CCCH
Direction: UE to Network
**_RRCSetupRequest message_**
\-- ASN1START
\-- TAG-RRCSETUPREQUEST-START
RRCSetupRequest ::= SEQUENCE {
rrcSetupRequest RRCSetupRequest-IEs
}
RRCSetupRequest-IEs ::= SEQUENCE {
ue-Identity InitialUE-Identity,
establishmentCause EstablishmentCause,
spare BIT STRING (SIZE (1))
}
InitialUE-Identity ::= CHOICE {
ng-5G-S-TMSI-Part1 BIT STRING (SIZE (39)),
randomValue BIT STRING (SIZE (39))
}
EstablishmentCause ::= ENUMERATED {
emergency, highPriorityAccess, mt-Access, mo-Signalling,
mo-Data, mo-VoiceCall, mo-VideoCall, mo-SMS, mps-PriorityAccess, mcs-
PriorityAccess,
spare6, spare5, spare4, spare3, spare2, spare1}
\-- TAG-RRCSETUPREQUEST-STOP
\-- ASN1STOP
+----------------------------------------------------------------------+ | _RRCSetupRequest-IEs_ field descriptions | +======================================================================+ | **_establishmentCause_** | | | | Provides the establishment cause for the _RRCSetupRequest_ in | | accordance with the information received from upper layers. gNB is | | not expected to reject an _RRCSetupRequest_ due to unknown cause | | value being used by the UE. | +----------------------------------------------------------------------+ | **_ue-Identity_** | | | | UE identity included to facilitate contention resolution by lower | | layers. | +----------------------------------------------------------------------+
+---------------------------------------------+ | _InitialUE-Identity_ field descriptions | +=============================================+ | **_ng-5G-S-TMSI-Part1_** | | | | The rightmost 39 bits of 5G-S-TMSI. | +---------------------------------------------+ | **_randomValue_** | | | | Integer value in the range 0 to 2^39^ -- 1. | +---------------------------------------------+
#### \-- **_RRCSystemInfoRequest_**
The **_RRCSystemInfoRequest_** message is used to request SI message(s)
required by the UE as specified in clause 5.2.2.3.3.
Signalling radio bearer: SRB0
RLC-SAP: TM
Logical channel: CCCH
Direction: UE to Network
**_RRCSystemInfoRequest message_**
\-- ASN1START
\-- TAG-RRCSYSTEMINFOREQUEST-START
RRCSystemInfoRequest ::= SEQUENCE {
criticalExtensions CHOICE {
rrcSystemInfoRequest RRCSystemInfoRequest-IEs,
criticalExtensionsFuture SEQUENCE {}
}
}
RRCSystemInfoRequest-IEs ::= SEQUENCE {
requested-SI-List BIT STRING (SIZE (maxSI-Message)), --32bits
spare BIT STRING (SIZE (12))
}
\-- TAG-RRCSYSTEMINFOREQUEST-STOP
\-- ASN1STOP
+----------------------------------------------------------------------+ | _RRCSystemInfoRequest-IEs_ field descriptions | +======================================================================+ | **_requested-SI-List_** | | | | Contains a list of requested SI messages. According to the order of | | entry in the list of SI messages configured by _schedulingInfoList_ | | in si-_SchedulingInfo_ in _SIB1_ , first bit corresponds to | | first/leftmost listed SI message, second bit corresponds to second | | listed SI message, and so on. | +----------------------------------------------------------------------+
#### _\-- SCGFailureInformation_
The _SCGFailureInformation_ message is used to provide information regarding
NR SCG failures detected by the UE.
Signalling radio bearer: SRB1
RLC-SAP: AM
Logical channel: DCCH
Direction: UE to Network
_SCGFailureInformation_ message
\-- ASN1START
\-- TAG-SCGFAILUREINFORMATION-START
SCGFailureInformation ::= SEQUENCE {
criticalExtensions CHOICE {
scgFailureInformation SCGFailureInformation-IEs,
criticalExtensionsFuture SEQUENCE {}
}
}
SCGFailureInformation-IEs ::= SEQUENCE {
failureReportSCG FailureReportSCG OPTIONAL,
nonCriticalExtension SCGFailureInformation-v1590-IEs OPTIONAL
}
SCGFailureInformation-v1590-IEs ::= SEQUENCE {
lateNonCriticalExtension OCTET STRING OPTIONAL,
nonCriticalExtension SEQUENCE {} OPTIONAL
}
FailureReportSCG ::= SEQUENCE {
failureType ENUMERATED {
t310-Expiry, randomAccessProblem,
rlc-MaxNumRetx,
synchReconfigFailureSCG, scg-ReconfigFailure,
srb3-IntegrityFailure, spare2, spare1},
measResultFreqList MeasResultFreqList OPTIONAL,
measResultSCG-Failure OCTET STRING (CONTAINING MeasResultSCG-Failure)
OPTIONAL,
...
}
MeasResultFreqList ::= SEQUENCE (SIZE (1..maxFreq)) OF MeasResult2NR
\-- TAG-SCGFAILUREINFORMATION-STOP
\-- ASN1STOP
+----------------------------------------------------------------------+ | _SCGFailureInformation field descriptions_ | +======================================================================+ | **_measResultFreqList_** | | | | The field contains available results of measurements on NR | | frequencies the UE is configured to measure by _measConfig_. | +----------------------------------------------------------------------+ | **_measResultSCG-Failure_** | | | | The field contains the _MeasResultSCG-Failure_ IE which includes | | available results of measurements on NR frequencies the UE is | | configured to measure by the NR SCG _RRCReconfiguration_ message. | +----------------------------------------------------------------------+
#### _\-- SCGFailureInformationEUTRA_
The _SCGFailureInformationEUTRA_ message is used to provide information
regarding E-UTRA SCG failures detected by the UE.
Signalling radio bearer: SRB1
RLC-SAP: AM
Logical channel: DCCH
Direction: UE to Network
**_SCGFailureInformationEUTRA_** message
\-- ASN1START
\-- TAG-SCGFAILUREINFORMATIONEUTRA-START
SCGFailureInformationEUTRA ::= SEQUENCE {
criticalExtensions CHOICE {
scgFailureInformationEUTRA SCGFailureInformationEUTRA-IEs,
criticalExtensionsFuture SEQUENCE {}
}
}
SCGFailureInformationEUTRA-IEs ::= SEQUENCE {
failureReportSCG-EUTRA FailureReportSCG-EUTRA OPTIONAL,
nonCriticalExtension SCGFailureInformationEUTRA-v1590-IEs OPTIONAL
}
SCGFailureInformationEUTRA-v1590-IEs ::= SEQUENCE {
lateNonCriticalExtension OCTET STRING OPTIONAL,
nonCriticalExtension SEQUENCE {} OPTIONAL
}
FailureReportSCG-EUTRA ::= SEQUENCE {
failureType ENUMERATED {
t313-Expiry, randomAccessProblem,
rlc-MaxNumRetx, scg-ChangeFailure, spare4,
spare3, spare2, spare1},
measResultFreqListMRDC MeasResultFreqListFailMRDC OPTIONAL,
measResultSCG-FailureMRDC OCTET STRING OPTIONAL,
...
}
MeasResultFreqListFailMRDC ::= SEQUENCE (SIZE (1.. maxFreq)) OF
MeasResult2EUTRA
\-- TAG-SCGFAILUREINFORMATIONEUTRA-STOP
\-- ASN1STOP
+----------------------------------------------------------------------+ | _SCGFailureInformationEUTRA field descriptions_ | +======================================================================+ | **_measResultFreqListMRDC_** | | | | The field contains available results of measurements on E-UTRA | | frequencies the UE is configured to measure by _measConfig_. | +----------------------------------------------------------------------+ | **_measResultSCG-FailureMRDC_** | | | | **Includes the E-UTRA _MeasResultSCG-FailureMRDC_ IE as specified in | | TS 36.331 [10].** The field contains available results of | | measurements on E-UTRA frequencies the UE is configured to measure | | by the E-UTRA _RRCConnectionReconfiguration_ message. | +----------------------------------------------------------------------+
#### \-- _SecurityModeCommand_
The _SecurityModeCommand_ message is used to command the activation of AS
security.
Signalling radio bearer: SRB1
RLC-SAP: AM
Logical channel: DCCH
Direction: Network to UE
_SecurityModeCommand_ message
\-- ASN1START
\-- TAG-SECURITYMODECOMMAND-START
SecurityModeCommand ::= SEQUENCE {
rrc-TransactionIdentifier RRC-TransactionIdentifier,
criticalExtensions CHOICE {
securityModeCommand SecurityModeCommand-IEs,
criticalExtensionsFuture SEQUENCE {}
}
}
SecurityModeCommand-IEs ::= SEQUENCE {
securityConfigSMC SecurityConfigSMC,
lateNonCriticalExtension OCTET STRING OPTIONAL,
nonCriticalExtension SEQUENCE{} OPTIONAL
}
SecurityConfigSMC ::= SEQUENCE {
securityAlgorithmConfig SecurityAlgorithmConfig,
...
}
\-- TAG-SECURITYMODECOMMAND-STOP
\-- ASN1STOP
#### \-- _SecurityModeComplete_
The _SecurityModeComplete_ message is used to confirm the successful
completion of a security mode command.
Signalling radio bearer: SRB1
RLC-SAP: AM
Logical channel: DCCH
Direction: UE to Network
_SecurityModeComplete_ message
\-- ASN1START
\-- TAG-SECURITYMODECOMPLETE-START
SecurityModeComplete ::= SEQUENCE {
rrc-TransactionIdentifier RRC-TransactionIdentifier,
criticalExtensions CHOICE {
securityModeComplete SecurityModeComplete-IEs,
criticalExtensionsFuture SEQUENCE {}
}
}
SecurityModeComplete-IEs ::= SEQUENCE {
lateNonCriticalExtension OCTET STRING OPTIONAL,
nonCriticalExtension SEQUENCE{} OPTIONAL
}
\-- TAG-SECURITYMODECOMPLETE-STOP
\-- ASN1STOP
#### \-- _SecurityModeFailure_
The _SecurityModeFailure_ message is used to indicate an unsuccessful
completion of a security mode command.
Signalling radio bearer: SRB1
RLC-SAP: AM
Logical channel: DCCH
Direction: UE to Network
_SecurityModeFailure_ message
\-- ASN1START
\-- TAG-SECURITYMODEFAILURE-START
SecurityModeFailure ::= SEQUENCE {
rrc-TransactionIdentifier RRC-TransactionIdentifier,
criticalExtensions CHOICE {
securityModeFailure SecurityModeFailure-IEs,
criticalExtensionsFuture SEQUENCE {}
}
}
SecurityModeFailure-IEs ::= SEQUENCE {
lateNonCriticalExtension OCTET STRING OPTIONAL,
nonCriticalExtension SEQUENCE{} OPTIONAL
}
\-- TAG-SECURITYMODEFAILURE-STOP
\-- ASN1STOP
#### \-- _SIB1_
_SIB1_ contains information relevant when evaluating if a UE is allowed to
access a cell and defines the scheduling of other system information. It also
contains radio resource configuration information that is common for all UEs
and barring information applied to the unified access control.
Signalling radio bearer: N/A
RLC-SAP: TM
Logical channels: BCCH
Direction: Network to UE
**_SIB1 message_**
\-- ASN1START
\-- TAG-SIB1-START
SIB1 ::= SEQUENCE {
cellSelectionInfo SEQUENCE {
q-RxLevMin Q-RxLevMin,
q-RxLevMinOffset INTEGER (1..8) OPTIONAL, -- Need S
q-RxLevMinSUL Q-RxLevMin OPTIONAL, -- Need R
q-QualMin Q-QualMin OPTIONAL, -- Need S
q-QualMinOffset INTEGER (1..8) OPTIONAL -- Need S
} OPTIONAL, -- Cond Standalone
cellAccessRelatedInfo CellAccessRelatedInfo,
connEstFailureControl ConnEstFailureControl OPTIONAL, -- Need R
si-SchedulingInfo SI-SchedulingInfo OPTIONAL, -- Need R
servingCellConfigCommon ServingCellConfigCommonSIB OPTIONAL, -- Need R
ims-EmergencySupport ENUMERATED {true} OPTIONAL, -- Need R
eCallOverIMS-Support ENUMERATED {true} OPTIONAL, -- Cond Absent
ue-TimersAndConstants UE-TimersAndConstants OPTIONAL, -- Need R
uac-BarringInfo SEQUENCE {
uac-BarringForCommon UAC-BarringPerCatList OPTIONAL, -- Need S
uac-BarringPerPLMN-List UAC-BarringPerPLMN-List OPTIONAL, -- Need S
uac-BarringInfoSetList UAC-BarringInfoSetList,
uac-AccessCategory1-SelectionAssistanceInfo CHOICE {
plmnCommon UAC-AccessCategory1-SelectionAssistanceInfo,
individualPLMNList SEQUENCE (SIZE (2..maxPLMN)) OF UAC-
AccessCategory1-SelectionAssistanceInfo
} OPTIONAL -- Need S
} OPTIONAL, -- Need R
useFullResumeID ENUMERATED {true} OPTIONAL, -- Need R
lateNonCriticalExtension OCTET STRING OPTIONAL,
nonCriticalExtension SEQUENCE{} OPTIONAL
}
UAC-AccessCategory1-SelectionAssistanceInfo ::= ENUMERATED {a, b, c}
\-- TAG-SIB1-STOP
\-- ASN1STOP
+----------------------------------------------------------------------+ | _SIB1_ field descriptions | +======================================================================+ | **_cellSelectionInfo_** | | | | **Parameters for cell selection related to the serving cell.** | +----------------------------------------------------------------------+ | **_ims-EmergencySupport_** | | | | Indicates whether the cell supports IMS emergency bearer services | | for UEs in limited service mode. If absent, IMS emergency call is | | not supported by the network in the cell for UEs in limited service | | mode. | +----------------------------------------------------------------------+ | **_q-QualMin_** | | | | Parameter \"Q~qualmin~\" in TS 38.304 [20], applicable for serving | | cell. If the field is absent, the UE applies the (default) value of | | negative infinity for Q~qualmin~. | +----------------------------------------------------------------------+ | **_q-QualMinOffset_** | | | | Parameter \"Q~qualminoffset~\" in TS 38.304 [20]. Actual value | | Q~qualminoffset~ = field value [dB]. If the field is absent, the | | UE applies the (default) value of 0 dB for Q~qualminoffset~. Affects | | the minimum required quality level in the cell. | +----------------------------------------------------------------------+ | **_q-RxLevMin_** | | | | Parameter \"Q~rxlevmin~\" in TS 38.304 [20], applicable for | | serving cell. | +----------------------------------------------------------------------+ | **_q-RxLevMinOffset_** | | | | Parameter \"Q~rxlevminoffset~\" in TS 38.304 [20]. Actual value | | Q~rxlevminoffset~ = field value * 2 [dB]. If absent, the UE | | applies the (default) value of 0 dB for Q~rxlevminoffset~_._ Affects | | the minimum required Rx level in the cell. | +----------------------------------------------------------------------+ | **_q-RxLevMinSUL_** | | | | Parameter \"Q~rxlevmin~\" in TS 38.304 [20], applicable for | | serving cell. | +----------------------------------------------------------------------+ | **_servingCellConfigCommon_** | | | | Configuration of the serving cell. | +----------------------------------------------------------------------+ | **_uac-AccessCategory1-SelectionAssistanceInfo_** | | | | Information used to determine whether Access Category 1 applies to | | the UE, as defined in TS 22.261 [25]. | +----------------------------------------------------------------------+ | **_uac-BarringForCommon_** | | | | Common access control parameters for each access category. Common | | values are used for all PLMNs, unless overwritten by the PLMN | | specific configuration provided in _uac-BarringPerPLMN-List_. The | | parameters are specified by providing an index to the set of | | configurations (_uac-BarringInfoSetList_). UE behaviour upon absence | | of this field is specified in clause 5.3.14.2. | +----------------------------------------------------------------------+ | **_ue-TimersAndConstants_** | | | | Timer and constant values to be used by the UE. The cell operating | | as PCell always provides this field. | +----------------------------------------------------------------------+ | **_useFullResumeID_** | | | | Indicates which resume identifier and Resume request message should | | be used. UE uses _fullI-RNTI_ and _RRCResumeRequest1_ if the field | | is present, or _shortI-RNTI_ and _RRCResumeRequest_ if the field is | | absent. | +----------------------------------------------------------------------+
Conditional Presence Explanation
* * *
_Absent_ The field is not used in this version of the specification, if
received the UE shall ignore. _Standalone_ The field is mandatory present in a
cell that supports standalone operation, otherwise it is absent.
#### \-- _SystemInformation_
The _SystemInformation message is used to convey_ one or more System
Information Blocks. All the SIBs included are transmitted with the same
periodicity.
Signalling radio bearer: N/A
RLC-SAP: TM
Logical channels: BCCH
Direction: Network to UE
**_SystemInformation message_**
\-- ASN1START
\-- TAG-SYSTEMINFORMATION-START
SystemInformation ::= SEQUENCE {
criticalExtensions CHOICE {
systemInformation SystemInformation-IEs,
criticalExtensionsFuture SEQUENCE {}
}
}
SystemInformation-IEs ::= SEQUENCE {
sib-TypeAndInfo SEQUENCE (SIZE (1..maxSIB)) OF CHOICE {
sib2 SIB2,
sib3 SIB3,
sib4 SIB4,
sib5 SIB5,
sib6 SIB6,
sib7 SIB7,
sib8 SIB8,
sib9 SIB9,
...
},
lateNonCriticalExtension OCTET STRING OPTIONAL,
nonCriticalExtension SEQUENCE {} OPTIONAL
}
\-- TAG-SYSTEMINFORMATION-STOP
\-- ASN1STOP
#### \-- _UEAssistanceInformation_
The _UEAssistanceInformation_ message is used for the indication of UE
assistance information to the network.
Signalling radio bearer: SRB1
RLC-SAP: AM
Logical channel: DCCH
Direction: UE to Network
**_UEAssistanceInformation message_**
\-- ASN1START
\-- TAG-UEASSISTANCEINFORMATION-START
UEAssistanceInformation ::= SEQUENCE {
criticalExtensions CHOICE {
ueAssistanceInformation UEAssistanceInformation-IEs,
criticalExtensionsFuture SEQUENCE {}
}
}
UEAssistanceInformation-IEs ::= SEQUENCE {
delayBudgetReport DelayBudgetReport OPTIONAL,
lateNonCriticalExtension OCTET STRING OPTIONAL,
nonCriticalExtension UEAssistanceInformation-v1540-IEs OPTIONAL
}
DelayBudgetReport::= CHOICE {
type1 ENUMERATED {
msMinus1280, msMinus640, msMinus320, msMinus160,msMinus80, msMinus60,
msMinus40,
msMinus20, ms0, ms20,ms40, ms60, ms80, ms160, ms320, ms640, ms1280},
...
}
UEAssistanceInformation-v1540-IEs ::= SEQUENCE {
overheatingAssistance OverheatingAssistance OPTIONAL,
nonCriticalExtension SEQUENCE {} OPTIONAL
}
OverheatingAssistance ::= SEQUENCE {
reducedMaxCCs SEQUENCE {
reducedCCsDL INTEGER (0..31),
reducedCCsUL INTEGER (0..31)
} OPTIONAL,
reducedMaxBW-FR1 SEQUENCE {
reducedBW-FR1-DL ReducedAggregatedBandwidth,
reducedBW-FR1-UL ReducedAggregatedBandwidth
} OPTIONAL,
reducedMaxBW-FR2 SEQUENCE {
reducedBW-FR2-DL ReducedAggregatedBandwidth,
reducedBW-FR2-UL ReducedAggregatedBandwidth
} OPTIONAL,
reducedMaxMIMO-LayersFR1 SEQUENCE {
reducedMIMO-LayersFR1-DL MIMO-LayersDL,
reducedMIMO-LayersFR1-UL MIMO-LayersUL
} OPTIONAL,
reducedMaxMIMO-LayersFR2 SEQUENCE {
reducedMIMO-LayersFR2-DL MIMO-LayersDL,
reducedMIMO-LayersFR2-UL MIMO-LayersUL
} OPTIONAL
}
ReducedAggregatedBandwidth ::= ENUMERATED {mhz0, mhz10, mhz20, mhz30, mhz40,
mhz50, mhz60, mhz80, mhz100, mhz200, mhz300, mhz400}
\-- TAG-UEASSISTANCEINFORMATION-STOP
\-- ASN1STOP
+----------------------------------------------------------------------+ | _UEAssistanceInformation field descriptions_ | +======================================================================+ | **_delayBudgetReport_** | | | | Indicates the UE-preferred adjustment to connected mode DRX. | +----------------------------------------------------------------------+ | **_reducedBW-FR1-DL_** | | | | Indicates the UE\'s preference on reduced configuration | | corresponding to the maximum aggregated bandwidth across all | | downlink carrier(s) of FR1 indicated by the field, to address | | overheating. This field is allowed to be reported only when UE is | | configured with serving cell(s) operating on FR1. This maximum | | aggregated bandwidth includes downlink carrier(s) of FR1 of both the | | MCG and the SCG. Value _mhz0_ is not used. The aggregated bandwidth | | across all downlink carrier(s) of FR1 is the sum of bandwidth of | | active downlink BWP(s) across all activated downlink carrier(s) of | | FR1. | +----------------------------------------------------------------------+ | **_reducedBW-FR1-UL_** | | | | Indicates the UE\'s preference on reduced configuration | | corresponding to the maximum aggregated bandwidth across all uplink | | carrier(s) of FR1 indicated by the field, to address overheating. | | This field is allowed to be reported only when UE is configured with | | serving cell(s) operating on FR1. This maximum aggregated bandwidth | | includes uplink carrier(s) of FR1 of both the MCG and the SCG. Value | | _mhz0_ is not used. The aggregated bandwidth across all uplink | | carrier(s) of FR1 is the sum of bandwidth of active uplink BWP(s) | | across all activated uplink carrier(s) of FR1. | +----------------------------------------------------------------------+ | **_reducedBW-FR2-DL_** | | | | Indicates the UE\'s preference on reduced configuration | | corresponding to the maximum aggregated bandwidth across all | | downlink carrier(s) of FR2 indicated by the field, to address | | overheating. This field is allowed to be reported only when UE is | | configured with serving cell(s) operating on FR2. This maximum | | aggregated bandwidth includes downlink carrier(s) of FR2 of both the | | MCG and the NR SCG. The aggregated bandwidth across all downlink | | carrier(s) of FR2 is the sum of bandwidth of active downlink BWP(s) | | across all activated downlink carrier(s) of FR2. | +----------------------------------------------------------------------+ | **_reducedBW-FR2-UL_** | | | | Indicates the UE\'s preference on reduced configuration | | corresponding to the maximum aggregated bandwidth across all uplink | | carrier(s) of FR2 indicated by the field, to address overheating. | | This field is allowed to be reported only when UE is configured with | | serving cell(s) operating on FR2. This maximum aggregated bandwidth | | includes uplink carrier(s) of FR2 of both the MCG and the NR SCG. | | The aggregated bandwidth across all uplink carrier(s) of FR2 is the | | sum of bandwidth of active uplink BWP(s) across all activated uplink | | carrier(s) of FR2. | +----------------------------------------------------------------------+ | **_reducedCCsDL_** | | | | Indicates the UE\'s preference on reduced configuration | | corresponding to the maximum number of downlink SCells indicated by | | the field, to address overheating. This maximum number includes both | | SCells of the MCG and PSCell/SCells of the SCG. | +----------------------------------------------------------------------+ | **_reducedCCsUL_** | | | | Indicates the UE\'s preference on reduced configuration | | corresponding to the maximum number of uplink SCells indicated by | | the field, to address overheating. This maximum number includes both | | SCells of the MCG and PSCell/SCells of the SCG. | +----------------------------------------------------------------------+ | **_reducedMIMO-LayersFR1-DL_** | | | | Indicates the UE\'s preference on reduced configuration | | corresponding to the maximum number of downlink MIMO layers of each | | serving cell operating on FR1 indicated by the field, to address | | overheating. This field is allowed to be reported only when UE is | | configured with serving cells operating on FR1. | +----------------------------------------------------------------------+ | **_reducedMIMO-LayersFR1-UL_** | | | | Indicates the UE\'s preference on reduced configuration | | corresponding to the maximum number of uplink MIMO layers of each | | serving cell operating on FR1 indicated by the field, to address | | overheating (see NOTE 1). This field is allowed to be reported only | | when UE is configured with serving cells operating on FR1. | +----------------------------------------------------------------------+ | **_reducedMIMO-LayersFR2-DL_** | | | | Indicates the UE\'s preference on reduced configuration | | corresponding to the maximum number of downlink MIMO layers of each | | serving cell operating on FR2 indicated by the field, to address | | overheating. This field is allowed to be reported only when UE is | | configured with serving cells operating on FR2. | +----------------------------------------------------------------------+ | **_reducedMIMO-LayersFR2-UL_** | | | | Indicates the UE\'s preference on reduced configuration | | corresponding to the maximum number of uplink MIMO layers of each | | serving cell operating on FR2 indicated by the field, to address | | overheating (see NOTE 1). This field is allowed to be reported only | | when UE is configured with serving cells operating on FR2. | +----------------------------------------------------------------------+ | **_type1_** | | | | Indicates the preferred amount of increment/decrement to the long | | DRX cycle length with respect to the current configuration. Value in | | number of milliseconds. Value _ms40_ corresponds to 40 milliseconds, | | _msMinus40_ corresponds to -40 milliseconds and so on. | +----------------------------------------------------------------------+
NOTE 1: The field may also indicate the UE\'s preference on reduced
configuration corresponding to the maximum number of SRS ports (i.e. _nrofSRS-
Ports_) of each serving cell operating on the associated frequency range.
#### \-- _UECapabilityEnquiry_
The _UECapabilityEnquiry_ message is used to request UE radio access
capabilities for NR as well as for other RATs.
Signalling radio bearer: SRB1
RLC-SAP: AM
Logical channel: DCCH
Direction: Network to UE
_UECapabilityEnquiry_ message
\-- ASN1START
\-- TAG-UECAPABILITYENQUIRY-START
UECapabilityEnquiry ::= SEQUENCE {
rrc-TransactionIdentifier RRC-TransactionIdentifier,
criticalExtensions CHOICE {
ueCapabilityEnquiry UECapabilityEnquiry-IEs,
criticalExtensionsFuture SEQUENCE {}
}
}
UECapabilityEnquiry-IEs ::= SEQUENCE {
ue-CapabilityRAT-RequestList UE-CapabilityRAT-RequestList,
lateNonCriticalExtension OCTET STRING OPTIONAL,
ue-CapabilityEnquiryExt OCTET STRING (CONTAINING
UECapabilityEnquiry-v1560-IEs) OPTIONAL -- Need N
}
UECapabilityEnquiry-v1560-IEs ::= SEQUENCE {
capabilityRequestFilterCommon UE-CapabilityRequestFilterCommon OPTIONAL, \--
Need N
nonCriticalExtension SEQUENCE{} OPTIONAL
}
\-- TAG-UECAPABILITYENQUIRY-STOP
\-- ASN1STOP
#### \-- _UECapabilityInformation_
The IE _UECapabilityInformation_ message is used to transfer UE radio access
capabilities requested by the network.
Signalling radio bearer: SRB1
RLC-SAP: AM
Logical channel: DCCH
Direction: UE to Network
_UECapabilityInformation_ message
\-- ASN1START
\-- TAG-UECAPABILITYINFORMATION-START
UECapabilityInformation ::= SEQUENCE {
rrc-TransactionIdentifier RRC-TransactionIdentifier,
criticalExtensions CHOICE {
ueCapabilityInformation UECapabilityInformation-IEs,
criticalExtensionsFuture SEQUENCE {}
}
}
UECapabilityInformation-IEs ::= SEQUENCE {
ue-CapabilityRAT-ContainerList UE-CapabilityRAT-ContainerList OPTIONAL,
lateNonCriticalExtension OCTET STRING OPTIONAL,
nonCriticalExtension SEQUENCE{} OPTIONAL
}
\-- TAG-UECAPABILITYINFORMATION-STOP
\-- ASN1STOP
#### \-- _ULInformationTransfer_
The _ULInformationTransfer_ message is used for the uplink transfer of NAS or
non-3GPP dedicated information.
Signalling radio bearer: SRB2 or SRB1 (only if SRB2 not established yet). If
SRB2 is suspended, the UE does not send this message until SRB2 is resumed
RLC-SAP: AM
Logical channel: DCCH
Direction: UE to network
**_ULInformationTransfer message_**
\-- ASN1START
\-- TAG-ULINFORMATIONTRANSFER-START
ULInformationTransfer ::= SEQUENCE {
criticalExtensions CHOICE {
ulInformationTransfer ULInformationTransfer-IEs,
criticalExtensionsFuture SEQUENCE {}
}
}
ULInformationTransfer-IEs ::= SEQUENCE {
dedicatedNAS-Message DedicatedNAS-Message OPTIONAL,
lateNonCriticalExtension OCTET STRING OPTIONAL,
nonCriticalExtension SEQUENCE {} OPTIONAL
}
\-- TAG-ULINFORMATIONTRANSFER-STOP
\-- ASN1STOP
#### _\-- ULInformationTransferMRDC_
The _ULInformationTransferMRDC_ message is used for the uplink transfer of MR-
DC dedicated information (e.g. for transferring the NR or E-UTRA RRC
_MeasurementReport_ message or the _FailureInformation_ message).
Signalling radio bearer: SRB1
RLC-SAP: AM
Logical channel: DCCH
Direction: UE to Network
**_ULInformationTransferMRDC message_**
\-- ASN1START
\-- TAG-ULINFORMATIONTRANSFERMRDC-START
ULInformationTransferMRDC ::= SEQUENCE {
criticalExtensions CHOICE {
c1 CHOICE {
ulInformationTransferMRDC ULInformationTransferMRDC-IEs,
spare3 NULL, spare2 NULL, spare1 NULL
},
criticalExtensionsFuture SEQUENCE {}
}
}
ULInformationTransferMRDC-IEs::= SEQUENCE {
ul-DCCH-MessageNR OCTET STRING OPTIONAL,
ul-DCCH-MessageEUTRA OCTET STRING OPTIONAL,
lateNonCriticalExtension OCTET STRING OPTIONAL,
nonCriticalExtension SEQUENCE {} OPTIONAL
}
\-- TAG-ULINFORMATIONTRANSFERMRDC-STOP
\-- ASN1STOP
+----------------------------------------------------------------------+ | _ULInformationTransferMRDC field descriptions_ | +======================================================================+ | **_ul-DCCH-MessageNR_** | | | | Includes the _UL-DCCH-Message_. In this version of the | | specification, the field is only used to transfer the NR RRC | | _MeasurementReport_ and _FailureInformation_ messages. | +----------------------------------------------------------------------+ | **_ul-DCCH-MessageEUTRA_** | | | | **Includes the _UL-DCCH-Message_. In this version of the | | specification, the field is only used to transfer the E-UTRA RRC | | _MeasurementReport_ message.** | +----------------------------------------------------------------------+
## 6.3 RRC information elements
### 6.3.0 Parameterized types
#### \-- _SetupRelease_
_SetupRelease_ allows the _ElementTypeParam_ to be used as the referenced data
type for the setup and release entries. See A.3.8 for guidelines.
\-- ASN1START
\-- TAG-SETUPRELEASE-START
SetupRelease { ElementTypeParam } ::= CHOICE {
release NULL,
setup ElementTypeParam
}
\-- TAG-SETUPRELEASE-STOP
\-- ASN1STOP
### 6.3.1 System information blocks
#### \-- _SIB2_
_SIB2_ contains cell re-selection information common for intra-frequency,
inter-frequency and/or inter-RAT cell re-selection (i.e. applicable for more
than one type of cell re-selection but not necessarily all) as well as intra-
frequency cell re-selection information other than neighbouring cell related.
**_SIB2 information element_**
\-- ASN1START
\-- TAG-SIB2-START
SIB2 ::= SEQUENCE {
cellReselectionInfoCommon SEQUENCE {
nrofSS-BlocksToAverage INTEGER (2..maxNrofSS-BlocksToAverage) OPTIONAL, \--
Need S
absThreshSS-BlocksConsolidation ThresholdNR OPTIONAL, -- Need S
rangeToBestCell RangeToBestCell OPTIONAL, -- Need R
q-Hyst ENUMERATED {
dB0, dB1, dB2, dB3, dB4, dB5, dB6, dB8, dB10,
dB12, dB14, dB16, dB18, dB20, dB22, dB24},
speedStateReselectionPars SEQUENCE {
mobilityStateParameters MobilityStateParameters,
q-HystSF SEQUENCE {
sf-Medium ENUMERATED {dB-6, dB-4, dB-2, dB0},
sf-High ENUMERATED {dB-6, dB-4, dB-2, dB0}
}
} OPTIONAL, -- Need R
...
},
cellReselectionServingFreqInfo SEQUENCE {
s-NonIntraSearchP ReselectionThreshold OPTIONAL, -- Need S
s-NonIntraSearchQ ReselectionThresholdQ OPTIONAL, -- Need S
threshServingLowP ReselectionThreshold,
threshServingLowQ ReselectionThresholdQ OPTIONAL, -- Need R
cellReselectionPriority CellReselectionPriority,
cellReselectionSubPriority CellReselectionSubPriority OPTIONAL, -- Need R
...
},
intraFreqCellReselectionInfo SEQUENCE {
q-RxLevMin Q-RxLevMin,
q-RxLevMinSUL Q-RxLevMin OPTIONAL, -- Need R
q-QualMin Q-QualMin OPTIONAL, -- Need S
s-IntraSearchP ReselectionThreshold,
s-IntraSearchQ ReselectionThresholdQ OPTIONAL, -- Need S
t-ReselectionNR T-Reselection,
frequencyBandList MultiFrequencyBandListNR-SIB OPTIONAL, -- Need S
frequencyBandListSUL MultiFrequencyBandListNR-SIB OPTIONAL, -- Need R
p-Max P-Max OPTIONAL, -- Need S
smtc SSB-MTC OPTIONAL, -- Need S
ss-RSSI-Measurement SS-RSSI-Measurement OPTIONAL, -- Need R
ssb-ToMeasure SSB-ToMeasure OPTIONAL, -- Need S
deriveSSB-IndexFromCell BOOLEAN,
...,
[[
t-ReselectionNR-SF SpeedStateScaleFactors OPTIONAL -- Need N
]]
},
...
}
RangeToBestCell ::= Q-OffsetRange
\-- TAG-SIB2-STOP
\-- ASN1STOP
+----------------------------------------------------------------------+ | _SIB2 field descriptions_ | +======================================================================+ | **_absThreshSS-BlocksConsolidation_** | | | | Threshold for consolidation of L1 measurements per RS index. If the | | field is absent, the UE uses the measurement quantity as specified | | in TS 38.304 [20]. | +----------------------------------------------------------------------+ | **_cellReselectionInfoCommon_** | | | | Cell re-selection information common for intra-frequency, | | inter-frequency and/ or inter-RAT cell re-selection. | +----------------------------------------------------------------------+ | **_cellReselectionServingFreqInfo_** | | | | Information common for non-intra-frequency cell re-selection i.e. | | cell re-selection to inter-frequency and inter-RAT cells. | +----------------------------------------------------------------------+ | **_deriveSSB-IndexFromCell_** | | | | This field indicates whether the UE can utilize serving cell timing | | to derive the index of SS block transmitted by neighbour cell. If | | this field is set to _true_ , the UE assumes SFN and frame boundary | | alignment across cells on the serving frequency as specified in TS | | 38.133 [14]. | +----------------------------------------------------------------------+ | **_frequencyBandList_** | | | | **Indicates the list of frequency bands for which the NR cell | | reselection parameters apply. The UE behaviour in case the field is | | absent is described in clause 5.2.2.4.3.** | +----------------------------------------------------------------------+ | **_intraFreqCellReselectionInfo_** | | | | Cell re-selection information common for intra-frequency cells. | +----------------------------------------------------------------------+ | **_nrofSS-BlocksToAverage_** | | | | Number of SS blocks to average for cell measurement derivation. If | | the field is absent the UE uses the measurement quantity as | | specified in TS 38.304 [20]. | +----------------------------------------------------------------------+ | **_p-Max_** | | | | _Value in dBm applicable for the intra-frequency neighbouring NR | | cells. If absent the UE applies the maximum power according to TS | | 38.101-1 [15] in case of an FR1 cell or TS 38.101-2 [39] in case | | of an FR2 cell. In this release of the specification, if p-Max is | | present on a carrier frequency in FR2, the UE shall ignore the field | | and applies the maximum power according to TS 38.101-2 [39]._ | +----------------------------------------------------------------------+ | **_q-Hyst_** | | | | Parameter \"_Q~hyst~_ \" in TS 38.304 [20], Value in dB. Value | | _dB1_ corresponds to 1 dB, _dB2_ corresponds to 2 dB and so on. | +----------------------------------------------------------------------+ | **_q-HystSF_** | | | | **Parameter \"Speed dependent ScalingFactor for Qhyst\" in TS 38.304 | | [20]. The** _sf-Medium_ **and** _sf-High_ **concern the additional | | hysteresis to be applied, in Medium and High Mobility state | | respectively, to Qhyst as defined in TS 38.304 [20]. In dB. | | Value** _dB-6_ **corresponds to -6dB,** _dB-4_ **corresponds to -4dB | | and so on.** | +----------------------------------------------------------------------+ | **_q-QualMin_** | | | | Parameter \"Q~qualmin~\" in TS 38.304 [20], applicable for | | intra-frequency neighbour cells. If the field is absent, the UE | | applies the (default) value of negative infinity for Q~qualmin~. | +----------------------------------------------------------------------+ | **_q-RxLevMin_** | | | | Parameter \"Q~rxlevmin~\" in TS 38.304 [20], applicable for | | intra-frequency neighbour cells. | +----------------------------------------------------------------------+ | **_q-RxLevMinSUL_** | | | | Parameter \"Q~rxlevmin~\" in TS 38.304 [20], applicable for | | intra-frequency neighbour cells. | +----------------------------------------------------------------------+ | **_rangeToBestCell_** | | | | **Parameter \"** rangeToBestCell**\" in** TS 38.304 [20]**. The | | network configures only non-negative (in dB) values.** | +----------------------------------------------------------------------+ | **_s-IntraSearchP_** | | | | Parameter \"S~IntraSearchP~\" in TS 38.304 [20]. | +----------------------------------------------------------------------+ | **_s-IntraSearchQ_** | | | | Parameter \"S~IntraSearchQ~\" in TS 38.304 [20]. _If the_ field | | _is_ absent _, the UE applies the (default) value of 0 dB for | | S~IntraSearchQ~._ | +----------------------------------------------------------------------+ | **_s-NonIntraSearchP_** | | | | Parameter \"S~nonIntraSearchP~\" in TS 38.304 [20]. If this field | | is absent, the UE applies the (default) value of infinity for | | S~nonIntraSearchP~. | +----------------------------------------------------------------------+ | **_s-NonIntraSearchQ_** | | | | Parameter \"S~nonIntraSearchQ~\" in TS 38.304 [20]. _If the_ field | | _is_ absent _, the UE applies the (default) value of 0 dB for | | S~nonIntraSearchQ~._ | +----------------------------------------------------------------------+ | **_smtc_** | | | | Measurement timing configuration for intra-frequency measurement. If | | this field is absent, the UE assumes that SSB periodicity is 5 ms | | for the intra-frequnecy cells. | +----------------------------------------------------------------------+ | **_ssb-ToMeasure_** | | | | The set of SS blocks to be measured within the SMTC measurement | | duration (see TS 38.215 [9]). When the field is absent the UE | | measures on all SS-blocks. | +----------------------------------------------------------------------+ | **_t-ReselectionNR_** | | | | Parameter \"Treselection~NR~\" in TS 38.304 [20]. | +----------------------------------------------------------------------+ | **_t-ReselectionNR-SF_** | | | | **Parameter \"Speed dependent ScalingFactor for Treselection~NR~\" | | in TS 38.304 [20]. If the field is** absent**, the UE behaviour is | | specified in TS 38.304 [20].** | +----------------------------------------------------------------------+ | **_threshServingLowP_** | | | | Parameter \"Thresh~Serving,\ LowP~\" in TS 38.304 _[20]._ | +----------------------------------------------------------------------+ | **_threshServingLowQ_** | | | | Parameter \"Thresh~Serving,\ LowQ~\" in TS 38.304 _[20]._ | +----------------------------------------------------------------------+
#### \-- _SIB3_
_SIB3 contains neighbouring cell related information relevant only for intra-
frequency cell re-selection._ The IE includes cells with specific re-selection
parameters as well as blacklisted cells.
**_SIB3 information element_**
\-- ASN1START
\-- TAG-SIB3-START
SIB3 ::= SEQUENCE {
intraFreqNeighCellList IntraFreqNeighCellList OPTIONAL, -- Need R
intraFreqBlackCellList IntraFreqBlackCellList OPTIONAL, -- Need R
lateNonCriticalExtension OCTET STRING OPTIONAL,
...
}
IntraFreqNeighCellList ::= SEQUENCE (SIZE (1..maxCellIntra)) OF
IntraFreqNeighCellInfo
IntraFreqNeighCellInfo ::= SEQUENCE {
physCellId PhysCellId,
q-OffsetCell Q-OffsetRange,
q-RxLevMinOffsetCell INTEGER (1..8) OPTIONAL, -- Need R
q-RxLevMinOffsetCellSUL INTEGER (1..8) OPTIONAL, -- Need R
q-QualMinOffsetCell INTEGER (1..8) OPTIONAL, -- Need R
...
}
IntraFreqBlackCellList ::= SEQUENCE (SIZE (1..maxCellBlack)) OF PCI-Range
\-- TAG-SIB3-STOP
\-- ASN1STOP
+----------------------------------------------------------------------+ | _SIB3 field descriptions_ | +======================================================================+ | **_intraFreqBlackCellList_** | | | | List of blacklisted intra-frequency neighbouring cells. | +----------------------------------------------------------------------+ | **_intraFreqNeighCellList_** | | | | List of intra-frequency neighbouring cells with specific cell | | re-selection parameters. | +----------------------------------------------------------------------+ | **_q-OffsetCell_** | | | | Parameter \"**Qoffset~s,n~** \" in TS 38.304 [20]. | +----------------------------------------------------------------------+ | **_q-QualMinOffsetCell_** | | | | Parameter \"Q~qualminoffsetcell~\" in TS 38.304 [20]. Actual value | | Q~qualminoffsetcell~ = field value [dB]. | +----------------------------------------------------------------------+ | **_q-RxLevMinOffsetCell_** | | | | Parameter \"Q~rxlevminoffsetcell~\" in TS 38.304 [20]. Actual | | value Q~rxlevminoffsetcell~ = field value * 2 [dB]. | +----------------------------------------------------------------------+ | **_q-RxLevMinOffsetCellSUL_** | | | | Parameter \"Q~rxlevminoffsetcellSUL~\" in TS 38.304 [20]. Actual | | value Q~rxlevminoffsetcellSUL~ = field value * 2 [dB]. | +----------------------------------------------------------------------+
#### \-- _SIB4_
_SIB4 contains information relevant only for inter-frequency cell re-selection
i.e. information about_ other NR frequencies and inter-frequency neighbouring
cells relevant for cell re-selection. The IE includes cell re-selection
parameters common for a frequency as well as cell specific re-selection
parameters.
**_SIB4 information element_**
\-- ASN1START
\-- TAG-SIB4-START
SIB4 ::= SEQUENCE {
interFreqCarrierFreqList InterFreqCarrierFreqList,
lateNonCriticalExtension OCTET STRING OPTIONAL,
...
}
InterFreqCarrierFreqList ::= SEQUENCE (SIZE (1..maxFreq)) OF
InterFreqCarrierFreqInfo
InterFreqCarrierFreqInfo ::= SEQUENCE {
dl-CarrierFreq ARFCN-ValueNR,
frequencyBandList MultiFrequencyBandListNR-SIB OPTIONAL, -- Cond Mandatory
frequencyBandListSUL MultiFrequencyBandListNR-SIB OPTIONAL, -- Need R
nrofSS-BlocksToAverage INTEGER (2..maxNrofSS-BlocksToAverage) OPTIONAL, \--
Need S
absThreshSS-BlocksConsolidation ThresholdNR OPTIONAL, -- Need S
smtc SSB-MTC OPTIONAL, -- Need S
ssbSubcarrierSpacing SubcarrierSpacing,
ssb-ToMeasure SSB-ToMeasure OPTIONAL, -- Need S
deriveSSB-IndexFromCell BOOLEAN,
ss-RSSI-Measurement SS-RSSI-Measurement OPTIONAL, -- Need R
q-RxLevMin Q-RxLevMin,
q-RxLevMinSUL Q-RxLevMin OPTIONAL, -- Need R
q-QualMin Q-QualMin OPTIONAL, -- Need S
p-Max P-Max OPTIONAL, -- Need S
t-ReselectionNR T-Reselection,
t-ReselectionNR-SF SpeedStateScaleFactors OPTIONAL, -- Need S
threshX-HighP ReselectionThreshold,
threshX-LowP ReselectionThreshold,
threshX-Q SEQUENCE {
threshX-HighQ ReselectionThresholdQ,
threshX-LowQ ReselectionThresholdQ
} OPTIONAL, -- Cond RSRQ
cellReselectionPriority CellReselectionPriority OPTIONAL, -- Need R
cellReselectionSubPriority CellReselectionSubPriority OPTIONAL, -- Need R
q-OffsetFreq Q-OffsetRange DEFAULT dB0,
interFreqNeighCellList InterFreqNeighCellList OPTIONAL, -- Need R
interFreqBlackCellList InterFreqBlackCellList OPTIONAL, -- Need R
...
}
InterFreqNeighCellList ::= SEQUENCE (SIZE (1..maxCellInter)) OF
InterFreqNeighCellInfo
InterFreqNeighCellInfo ::= SEQUENCE {
physCellId PhysCellId,
q-OffsetCell Q-OffsetRange,
q-RxLevMinOffsetCell INTEGER (1..8) OPTIONAL, -- Need R
q-RxLevMinOffsetCellSUL INTEGER (1..8) OPTIONAL, -- Need R
q-QualMinOffsetCell INTEGER (1..8) OPTIONAL, -- Need R
...
}
InterFreqBlackCellList ::= SEQUENCE (SIZE (1..maxCellBlack)) OF PCI-Range
\-- TAG-SIB4-STOP
\-- ASN1STOP
+----------------------------------------------------------------------+ | _SIB4 field descriptions_ | +======================================================================+ | **_absThreshSS-BlocksConsolidation_** | | | | Threshold for consolidation of L1 measurements per RS index. If the | | field is absent, the UE uses the measurement quantity as specified | | in TS 38.304 [20]. | +----------------------------------------------------------------------+ | **_deriveSSB-IndexFromCell_** | | | | This field indicates whether the UE may use the timing of any | | detected cell on that frequency to derive the SSB index of all | | neighbour cells on that frequency. If this field is set to _true_ , | | the UE assumes SFN and frame boundary alignment across cells on the | | neighbor frequency as specified in TS 38.133 [14]. | +----------------------------------------------------------------------+ | **_dl-CarrierFreq_** | | | | This field indicates center frequency of the SS block of the | | neighbour cells, where the frequency corresponds to a GSCN value as | | specified in TS 38.101-1 [15]. | +----------------------------------------------------------------------+ | **_frequencyBandList_** | | | | **Indicates the list of frequency bands for which the NR cell | | reselection parameters apply.** | +----------------------------------------------------------------------+ | **_interFreqBlackCellList_** | | | | List of blacklisted inter-frequency neighbouring cells. | +----------------------------------------------------------------------+ | **_interFreqCarrierFreqList_** | | | | List of neighbouring carrier frequencies and frequency specific cell | | re-selection information. | +----------------------------------------------------------------------+ | **_interFreqNeighCellList_** | | | | List of inter-frequency neighbouring cells with specific cell | | re-selection parameters. | +----------------------------------------------------------------------+ | **_nrofSS-BlocksToAverage_** | | | | Number of SS blocks to average for cell measurement derivation. If | | the field is absent, the UE uses the measurement quantity as | | specified in TS 38.304 [20]. | +----------------------------------------------------------------------+ | **_p-Max_** | | | | _Value in dBm applicable for the_ neighbouring NR cells on this | | carrier frequency. If absent the UE applies the maximum power | | according to TS 38.101-1 [15] _in case of an FR1 cell or TS | | 38.101-2 [39] in case of an FR2 cell. In this release of the | | specification, if p-Max is present on a carrier frequency in FR2, | | the UE shall ignore the field and applies the maximum power | | according to TS 38.101-2 [39]_. | +----------------------------------------------------------------------+ | **_q-OffsetCell_** | | | | Parameter \"**Qoffset~s,n~** \" in TS 38.304 [20]. | +----------------------------------------------------------------------+ | **_q-OffsetFreq_** | | | | Parameter \"**Qoffset~frequency~** \" in TS 38.304 [20]. | +----------------------------------------------------------------------+ | **_q-QualMin_** | | | | Parameter \"**Q~qualmin~** \" in TS 38.304 [20]. If the field is | | absent, the UE applies the (default) value of negative infinity for | | Q~qualmin~. | +----------------------------------------------------------------------+ | **_q-QualMinOffsetCell_** | | | | Parameter \"Q~qualminoffsetcell~\" in TS 38.304 [20]. Actual value | | Q~qualminoffsetcell~ = field value [dB]. | +----------------------------------------------------------------------+ | **_q-RxLevMin_** | | | | **Parameter \"Q~rxlevmin~\" in TS 38.304 [20].** | +----------------------------------------------------------------------+ | **_q-RxLevMinOffsetCell_** | | | | Parameter \"Q~rxlevminoffsetcell~\" in TS 38.304 [20]. Actual | | value Q~rxlevminoffsetcell~ = field value * 2 [dB]. | +----------------------------------------------------------------------+ | **_q-RxLevMinOffsetCellSUL_** | | | | Parameter \"Q~rxlevminoffsetcellSUL~\" in TS 38.304 [20]. Actual | | value Q~rxlevminoffsetcellSUL~ = field value * 2 [dB]. | +----------------------------------------------------------------------+ | **_q-RxLevMinSUL_** | | | | **Parameter \"Q~rxlevmin~\" in TS 38.304 [20].** | +----------------------------------------------------------------------+ | **_smtc_** | | | | Measurement timing configuration for inter-frequency measurement. If | | this field is absent, the UE assumes that SSB periodicity is 5 ms in | | this frequency. | +----------------------------------------------------------------------+ | **_ssb-ToMeasure_** | | | | The set of SS blocks to be measured within the SMTC measurement | | duration (see TS 38.215 [9]). When the field is absent the UE | | measures on all SS-blocks. | +----------------------------------------------------------------------+ | **_ssbSubcarrierSpacing_** | | | | Subcarrier spacing of SSB. Only the values 15 kHz or 30 kHz (FR1), | | and 120 kHz or 240 kHz (FR2) are applicable. | +----------------------------------------------------------------------+ | **_threshX-HighP_** | | | | Parameter \"Thresh~X,\ HighP~\" in TS 38.304 [20]. | +----------------------------------------------------------------------+ | **_threshX-HighQ_** | | | | Parameter \"Thresh~X,\ HighQ~\" in TS 38.304 [20]. | +----------------------------------------------------------------------+ | **_threshX-LowP_** | | | | Parameter \"Thresh~X,\ LowP~\" in TS 38.304 [20]. | +----------------------------------------------------------------------+ | **_threshX-LowQ_** | | | | Parameter \"Thresh~X,\ LowQ~\" in TS 38.304 [20]. | +----------------------------------------------------------------------+ | **_t-ReselectionNR_** | | | | Parameter \"Treselection~NR~\" in TS 38.304 [20]. | +----------------------------------------------------------------------+ | **_t-ReselectionNR-SF_** | | | | Parameter \"Speed dependent ScalingFactor for Treselection~NR~\" in | | TS 38.304 [20]. If the field is absent, the UE behaviour is | | specified in TS 38.304 [20]. | +----------------------------------------------------------------------+
Conditional Presence Explanation
* * *
_Mandatory_ The field is mandatory present in SIB4. _RSRQ_ The field is
mandatory present if _threshServingLowQ_ is present in _SIB2_ ; otherwise it
is absent.
#### \-- _SIB5_
_SIB5 contains information relevant only for inter-RAT cell re-selection i.e.
information about_ E-UTRA frequencies and E-UTRAs neighbouring cells relevant
for cell re-selection. The IE includes cell re-selection parameters common for
a frequency.
**_SIB5 information element_**
\-- ASN1START
\-- TAG-SIB5-START
SIB5 ::= SEQUENCE {
carrierFreqListEUTRA CarrierFreqListEUTRA OPTIONAL, -- Need R
t-ReselectionEUTRA T-Reselection,
t-ReselectionEUTRA-SF SpeedStateScaleFactors OPTIONAL, -- Need S
lateNonCriticalExtension OCTET STRING OPTIONAL,
...
}
CarrierFreqListEUTRA ::= SEQUENCE (SIZE (1..maxEUTRA-Carrier)) OF
CarrierFreqEUTRA
CarrierFreqEUTRA ::= SEQUENCE {
carrierFreq ARFCN-ValueEUTRA,
eutra-multiBandInfoList EUTRA-MultiBandInfoList OPTIONAL, -- Need R
eutra-FreqNeighCellList EUTRA-FreqNeighCellList OPTIONAL, -- Need R
eutra-BlackCellList EUTRA-FreqBlackCellList OPTIONAL, -- Need R
allowedMeasBandwidth EUTRA-AllowedMeasBandwidth,
presenceAntennaPort1 EUTRA-PresenceAntennaPort1,
cellReselectionPriority CellReselectionPriority OPTIONAL, -- Need R
cellReselectionSubPriority CellReselectionSubPriority OPTIONAL, -- Need R
threshX-High ReselectionThreshold,
threshX-Low ReselectionThreshold,
q-RxLevMin INTEGER (-70..-22),
q-QualMin INTEGER (-34..-3),
p-MaxEUTRA INTEGER (-30..33),
threshX-Q SEQUENCE {
threshX-HighQ ReselectionThresholdQ,
threshX-LowQ ReselectionThresholdQ
} OPTIONAL -- Cond RSRQ
}
EUTRA-FreqBlackCellList ::= SEQUENCE (SIZE (1..maxEUTRA-CellBlack)) OF EUTRA-
PhysCellIdRange
EUTRA-FreqNeighCellList ::= SEQUENCE (SIZE (1..maxCellEUTRA)) OF EUTRA-
FreqNeighCellInfo
EUTRA-FreqNeighCellInfo ::= SEQUENCE {
physCellId EUTRA-PhysCellId,
dummy EUTRA-Q-OffsetRange,
q-RxLevMinOffsetCell INTEGER (1..8) OPTIONAL, -- Need R
q-QualMinOffsetCell INTEGER (1..8) OPTIONAL -- Need R
}
\-- TAG-SIB5-STOP
\-- ASN1STOP
+----------------------------------------------------------------------+ | _SIB5 field descriptions_ | +======================================================================+ | **_carrierFreqListEUTRA_** | | | | List of carrier frequencies of E-UTRA**.** | +----------------------------------------------------------------------+ | **_dummy_** | | | | This field is not used in the specification. If received it shall be | | ignored by the UE. | +----------------------------------------------------------------------+ | **_eutra-BlackCellList_** | | | | List of blacklisted E-UTRA neighbouring cells. | +----------------------------------------------------------------------+ | **_eutra-multiBandInfoList_** | | | | _Indicates the list of frequency bands in addition to the band | | represented by carrierFreq for which cell reselection parameters are | | common, and a list of additionalPmax and additionalSpectrumEmission | | values, as defined in TS 36.101 [22], table 6.2.4-1, for the | | frequency bands in eutra-multiBandInfoList_ | +----------------------------------------------------------------------+ | **_p-MaxEUTRA_** | | | | The maximum allowed transmission power in dBm on the (uplink) | | carrier frequency, see TS 36.304 [27]. | +----------------------------------------------------------------------+ | **_q-QualMin_** | | | | Parameter \"Q _~qualmin~_ \" in TS 36.304 [27]. Actual value | | Q~qualmin~ = field value [dB]. | +----------------------------------------------------------------------+ | **_q-QualMinOffsetCell_** | | | | Parameter \"_Q~qualminoffsetcell~_ \" in TS 36.304 [27]. Actual | | value Q~qualminoffsetcell~ = field value [dB]. | +----------------------------------------------------------------------+ | **_q-RxLevMin_** | | | | Parameter \"Q _~rxlevmin~_ \" in TS 36.304 [27]. Actual value | | Q~rxlevmin~ = field value * 2 [dBm]. | +----------------------------------------------------------------------+ | **_q-RxLevMinOffsetCell_** | | | | Parameter \"_Q~rxlevminoffsetcell~_ \" in TS 36.304 [27]. Actual | | value Q~rxlevminoffsetcell~ = field value * 2 [dB]. | +----------------------------------------------------------------------+ | **_t-ReselectionEUTRA_** | | | | Parameter \"Treselection~EUTRA~\" in TS 38.304 [20]. | +----------------------------------------------------------------------+ | **_threshX-High_** | | | | Parameter \"Thresh~X,\ HighP~\" in TS 38.304 [20]. | +----------------------------------------------------------------------+ | **_threshX-HighQ_** | | | | Parameter \"Thresh~X,\ HighQ~\" in TS 38.304 [20]. | +----------------------------------------------------------------------+ | **_threshX-Low_** | | | | Parameter \"Thresh~X,\ LowP~\" in TS 38.304 [20]. | +----------------------------------------------------------------------+ | **_threshX-LowQ_** | | | | Parameter \"Thresh~X,\ LowQ~\" in TS 38.304 [20]. | +----------------------------------------------------------------------+ | **_t-ReselectionEUTRA-SF_** | | | | Parameter \"Speed dependent ScalingFactor for Treselection~EUTRA~\" | | in TS 38.304 [20]. If the field is absent, the UE behaviour is | | specified in TS 38.304 [20]. | +----------------------------------------------------------------------+
Conditional Presence Explanation
* * *
_RSRQ_ The field is mandatory present if the _threshServingLowQ_ is present in
_SIB2_ ; otherwise it is absent.
#### _\-- SIB6_
_SIB6_ contains an ETWS primary notification.
**_SIB6 information element_**
\-- ASN1START
\-- TAG-SIB6-START
SIB6 ::= SEQUENCE {
messageIdentifier BIT STRING (SIZE (16)),
serialNumber BIT STRING (SIZE (16)),
warningType OCTET STRING (SIZE (2)),
lateNonCriticalExtension OCTET STRING OPTIONAL,
...
}
\-- TAG-SIB6-STOP
\-- ASN1STOP
+----------------------------------------------------------------------+ | _SIB6_ field descriptions | +======================================================================+ | **_messageIdentifier_** | | | | Identifies the source and type of ETWS notification. | +----------------------------------------------------------------------+ | **_serialNumber_** | | | | Identifies variations of an ETWS notification. | +----------------------------------------------------------------------+ | **_warningType_** | | | | Identifies the warning type of the ETWS primary notification and | | provides information on emergency user alert and UE popup. | +----------------------------------------------------------------------+
#### _\-- SIB7_
_SIB7_ contains an ETWS secondary notification.
**_SIB7 information element_**
\-- ASN1START
\-- TAG-SIB7-START
SIB7 ::= SEQUENCE {
messageIdentifier BIT STRING (SIZE (16)),
serialNumber BIT STRING (SIZE (16)),
warningMessageSegmentType ENUMERATED {notLastSegment, lastSegment},
warningMessageSegmentNumber INTEGER (0..63),
warningMessageSegment OCTET STRING,
dataCodingScheme OCTET STRING (SIZE (1)) OPTIONAL, -- Cond Segment1
lateNonCriticalExtension OCTET STRING OPTIONAL,
...
}
\-- TAG-SIB7-STOP
\-- ASN1STOP
+----------------------------------------------------------------------+ | _SIB7_ field descriptions | +======================================================================+ | **_dataCodingScheme_** | | | | Identifies the alphabet/coding and the language applied variations | | of an ETWS notification. | +----------------------------------------------------------------------+ | **_messageIdentifier_** | | | | Identifies the source and type of ETWS notification. | +----------------------------------------------------------------------+ | **_serialNumber_** | | | | Identifies variations of an ETWS notification. | +----------------------------------------------------------------------+ | **_warningMessageSegment_** | | | | Carries a segment of the Warning Message Contents IE. | +----------------------------------------------------------------------+ | **_warningMessageSegmentNumber_** | | | | Segment number of the ETWS warning message segment contained in the | | SIB. A segment number of zero corresponds to the first segment, A | | segment number of one corresponds to the second segment, and so on. | +----------------------------------------------------------------------+ | **_warningMessageSegmentType_** | | | | Indicates whether the included ETWS warning message segment is the | | last segment or not. | +----------------------------------------------------------------------+
Conditional Presence Explanation
* * *
_Segment1_ The field is mandatory present in the first segment of _SIB7_ ,
otherwise it is absent.
#### _\-- SIB8_
_SIB8_ contains a CMAS notification.
**_SIB8 information element_**
\-- ASN1START
\-- TAG-SIB8-START
SIB8 ::= SEQUENCE {
messageIdentifier BIT STRING (SIZE (16)),
serialNumber BIT STRING (SIZE (16)),
warningMessageSegmentType ENUMERATED {notLastSegment, lastSegment},
warningMessageSegmentNumber INTEGER (0..63),
warningMessageSegment OCTET STRING,
dataCodingScheme OCTET STRING (SIZE (1)) OPTIONAL, -- Cond Segment1
warningAreaCoordinatesSegment OCTET STRING OPTIONAL, -- Need R
lateNonCriticalExtension OCTET STRING OPTIONAL,
...
}
\-- TAG-SIB8-STOP
\-- ASN1STOP
+----------------------------------------------------------------------+ | _SIB8_ field descriptions | +======================================================================+ | **_dataCodingScheme_** | | | | Identifies the alphabet/coding and the language applied variations | | of a CMAS notification. | +----------------------------------------------------------------------+ | **_messageIdentifier_** | | | | Identifies the source and type of CMAS notification. | +----------------------------------------------------------------------+ | **_serialNumber_** | | | | Identifies variations of a CMAS notification. | +----------------------------------------------------------------------+ | **_warningAreaCoordinatesSegment_** | | | | If present, carries a segment, with one or more octets, of the | | geographical area where the CMAS warning message is valid as defined | | in [28]. The first octet of the first | | _warningAreaCoordinatesSegment_ is equivalent to the first octet of | | Warning Area Coordinates IE defined in and encoded according to TS | | 23.041 [29] and so on. | +----------------------------------------------------------------------+ | **_warningMessageSegment_** | | | | Carries a segment, with one or more octets, of the _Warning Message | | Contents_ IE defined in TS 38.413 [42]. The first octet of the | | _Warning Message Contents_ IE is equivalent to the first octet of | | the _CB data_ IE defined in and encoded according to TS 23.041 | | [29], clause 9.4.2.2.5, and so on. | +----------------------------------------------------------------------+ | **_warningMessageSegmentNumber_** | | | | Segment number of the CMAS warning message segment contained in the | | SIB. A segment number of zero corresponds to the first segment, one | | corresponds to the second segment, and so on. If warning area | | coordinates are provided for the warning message, then this field | | applies to both warning message segment and warning area coordinates | | segment. | +----------------------------------------------------------------------+ | **_warningMessageSegmentType_** | | | | Indicates whether the included CMAS warning message segment is the | | last segment or not. If warning area coordinates are provided for | | the warning message, then this field applies to both warning message | | segment and warning area coordinates segment. | +----------------------------------------------------------------------+
Conditional Presence Explanation
* * *
_Segment1_ The field is mandatory present in the first segment of _SIB8_ ,
otherwise it is absent.
#### \-- _SIB9_
_SIB9_ contains information related to GPS time and Coordinated Universal Time
(UTC). The UE may use the parameters provided in this system information block
to obtain the UTC, the GPS and the local time.
NOTE: The UE may use the time information for numerous purposes, possibly
involving upper layers e.g. to assist GPS initialisation, to synchronise the
UE clock.
**_SIB9 information element_**
\-- ASN1START
\-- TAG-SIB9-START
SIB9 ::= SEQUENCE {
timeInfo SEQUENCE {
timeInfoUTC INTEGER (0..549755813887),
dayLightSavingTime BIT STRING (SIZE (2)) OPTIONAL, -- Need R
leapSeconds INTEGER (-127..128) OPTIONAL, -- Need R
localTimeOffset INTEGER (-63..64) OPTIONAL -- Need R
} OPTIONAL, -- Need R
lateNonCriticalExtension OCTET STRING OPTIONAL,
...
}
\-- TAG-SIB9-STOP
\-- ASN1STOP
+----------------------------------------------------------------------+ | _SIB9_ field descriptions | +======================================================================+ | **_dayLightSavingTime_** | | | | Indicates if and how daylight-saving time (DST) is applied to obtain | | the local time. The semantics are the same as the semantics of the | | **_Daylight Saving Time_** IE in TS 24.501 [23] and TS 24.008 | | [38]. _The first/leftmost bit of the bit string contains the b2 of | | octet 3 and the second bit of the bit string contains b1 of octet 3 | | in the value part of the_ _Daylight Saving Time IE in_ TS 24.008 | | [38]. | +----------------------------------------------------------------------+ | **_leapSeconds_** | | | | Number of leap seconds offset between GPS Time and UTC. UTC and GPS | | time are related i.e. GPS time -leapSeconds = UTC time. | +----------------------------------------------------------------------+ | **_localTimeOffset_** | | | | Offset between UTC and local time in units of 15 minutes. Actual | | value = field value * 15 minutes. Local time of the day is | | calculated as UTC time + localTimeOffset. | +----------------------------------------------------------------------+ | **_timeInfoUTC_** | | | | Coordinated Universal Time corresponding to the SFN boundary at or | | immediately after the ending boundary of the SI-window in which SIB9 | | is transmitted. The field counts the number of UTC seconds in 10 ms | | units since 00:00:00 on Gregorian calendar date 1 January, 1900 | | (midnight between Sunday, December 31, 1899 and Monday, January 1, | | 1900). See NOTE 1. This field is excluded when determining changes | | in system information, i.e. changes of _timeInfoUTC_ should neither | | result in system information change notifications nor in a | | modification of _valueTag_ in _SIB1_. | +----------------------------------------------------------------------+
NOTE 1: The UE may use this field together with the _leapSeconds_ field to
obtain GPS time as follows: GPS Time (in seconds) = timeInfoUTC (in seconds) -
2,524,953,600 (seconds) + leapSeconds, where 2,524,953,600 is the number of
seconds between 00:00:00 on Gregorian calendar date 1 January, 1900 and
00:00:00 on Gregorian calendar date 6 January, 1980 (start of GPS time).
### 6.3.2 Radio resource control information elements
#### \-- _AdditionalSpectrumEmission_
The IE _AdditionalSpectrumEmission_ is used to indicate emission requirements
to be fulfilled by the UE (see TS 38.101-1 [15], clause 6.2.3/6.2A.3, and TS
38.101-2 [39], clause 6.2.3/6.2A.3).
_AdditionalSpectrumEmission_ information element
\-- ASN1START
\-- TAG-ADDITIONALSPECTRUMEMISSION-START
AdditionalSpectrumEmission ::= INTEGER (0..7)
\-- TAG-ADDITIONALSPECTRUMEMISSION-STOP
\-- ASN1STOP
#### \-- _Alpha_
The IE _Alpha_ defines possible values of a the pathloss compensation
coefficient for uplink power control. Value _alpha0_ corresponds to the value
0, Value _alpha04_ corresponds to the value 0.4, Value _alpha05_ corresponds
to the value 0.5 and so on. Value _alpha1_ corresponds to value 1. See also
clause 7.1 of TS 38.213 [13].
\-- ASN1START
\-- TAG-ALPHA-START
Alpha ::= ENUMERATED {alpha0, alpha04, alpha05, alpha06, alpha07, alpha08,
alpha09, alpha1}
\-- TAG-ALPHA-STOP
\-- ASN1STOP
#### \-- _AMF-Identifier_
The IE _AMF-Identifier_ (AMFI) comprises of an AMF Region ID, an AMF Set ID
and an AMF Pointer as specified in TS 23.003 [21], clause 2.10.1.
_AMF-Identifier_ information element
\-- ASN1START
\-- TAG-AMF-IDENTIFIER-START
AMF-Identifier ::= BIT STRING (SIZE (24))
\-- TAG-AMF-IDENTIFIER-STOP
\-- ASN1STOP
#### \-- _ARFCN-ValueEUTRA_
The IE _ARFCN-ValueEUTRA is used to indicate the ARFCN applicable for a
downlink, uplink or bi-directional (TDD) E-UTRA carrier frequency, as defined
in TS 36.101 [22]._
**_ARFCN-ValueEUTRA_** information element
\-- ASN1START
\-- TAG-ARFCN-VALUEEUTRA-START
ARFCN-ValueEUTRA ::= INTEGER (0..maxEARFCN)
\-- TAG-ARFCN-VALUEEUTRA-STOP
\-- ASN1STOP
#### \-- _ARFCN-ValueNR_
The IE _ARFCN-ValueNR_ is used to indicate the ARFCN applicable for a
downlink, uplink or bi-directional (TDD) NR global frequency raster, as
defined in TS 38.101-1 [15] and TS 38.101-2 [39], clause 5.4.2.
\-- ASN1START
\-- TAG-ARFCN-VALUENR-START
ARFCN-ValueNR ::= INTEGER (0..maxNARFCN)
\-- TAG-ARFCN-VALUENR-STOP
\-- ASN1STOP
#### _\-- BeamFailureRecoveryConfig_
The IE _BeamFailureRecoveryConfig_ is used to configure the UE with RACH
resources and candidate beams for beam failure recovery in case of beam
failure detection. See also TS 38.321 [3], clause 5.1.1.
_BeamFailureRecoveryConfig_ information element
\-- ASN1START
\-- TAG-BEAMFAILURERECOVERYCONFIG-START
BeamFailureRecoveryConfig ::= SEQUENCE {
rootSequenceIndex-BFR INTEGER (0..137) OPTIONAL, -- Need M
rach-ConfigBFR RACH-ConfigGeneric OPTIONAL, -- Need M
rsrp-ThresholdSSB RSRP-Range OPTIONAL, -- Need M
candidateBeamRSList SEQUENCE (SIZE(1..maxNrofCandidateBeams)) OF PRACH-
ResourceDedicatedBFR OPTIONAL, -- Need M
ssb-perRACH-Occasion ENUMERATED {oneEighth, oneFourth, oneHalf, one, two,
four, eight, sixteen} OPTIONAL, -- Need M
ra-ssb-OccasionMaskIndex INTEGER (0..15) OPTIONAL, -- Need M
recoverySearchSpaceId SearchSpaceId OPTIONAL, -- Need R
ra-Prioritization RA-Prioritization OPTIONAL, -- Need R
beamFailureRecoveryTimer ENUMERATED {ms10, ms20, ms40, ms60, ms80, ms100,
ms150, ms200} OPTIONAL, -- Need M
...,
[[
msg1-SubcarrierSpacing SubcarrierSpacing OPTIONAL -- Need M
]]
}
PRACH-ResourceDedicatedBFR ::= CHOICE {
ssb BFR-SSB-Resource,
csi-RS BFR-CSIRS-Resource
}
BFR-SSB-Resource ::= SEQUENCE {
ssb SSB-Index,
ra-PreambleIndex INTEGER (0..63),
...
}
BFR-CSIRS-Resource ::= SEQUENCE {
csi-RS NZP-CSI-RS-ResourceId,
ra-OccasionList SEQUENCE (SIZE(1..maxRA-OccasionsPerCSIRS)) OF INTEGER
(0..maxRA-Occasions-1) OPTIONAL, -- Need R
ra-PreambleIndex INTEGER (0..63) OPTIONAL, -- Need R
...
}
\-- TAG-BEAMFAILURERECOVERYCONFIG-STOP
\-- ASN1STOP
+----------------------------------------------------------------------+ | _BeamFailureRecoveryConfig_ field descriptions | +======================================================================+ | **_beamFailureRecoveryTimer_** | | | | Timer for beam failure recovery timer. Upon expiration of the timer | | the UE does not use CFRA for BFR. Value in ms. Value _ms10_ | | corresponds to 10 ms, value _ms20_ corresponds to 20 ms, and so on. | +----------------------------------------------------------------------+ | **_candidateBeamRSList_** | | | | A list of reference signals (CSI-RS and/or SSB) identifying the | | candidate beams for recovery and the associated RA parameters. The | | network configures these reference signals to be within the linked | | DL BWP (i.e., within the DL BWP with the same _bwp-Id_) of the UL | | BWP in which the _BeamFailureRecoveryConfig_ is provided. | +----------------------------------------------------------------------+ | **_msg1-SubcarrierSpacing_** | | | | Subcarrier spacing for contention free beam failure recovery. Only | | the values 15 kHz or 30 kHz (FR1), and 60 kHz or 120 kHz (FR2) are | | applicable. See TS 38.211 [16], clause 5.3.2. | +----------------------------------------------------------------------+ | **_rsrp-ThresholdSSB_** | | | | L1-RSRP threshold used for determining whether a candidate beam may | | be used by the UE to attempt contention free random access to | | recover from beam failure (see TS 38.213 [13], clause 6). | +----------------------------------------------------------------------+ | **_ra-prioritization_** | | | | Parameters which apply for prioritized random access procedure for | | BFR (see TS 38.321 [3], clause 5.1.1). | +----------------------------------------------------------------------+ | **_ra-ssb-OccasionMaskIndex_** | | | | Explicitly signalled PRACH Mask Index for RA Resource selection in | | TS 38.321 [3]. The mask is valid for all SSB resources. | +----------------------------------------------------------------------+ | **_rach-ConfigBFR_** | | | | Configuration of random access parameters for BFR. | +----------------------------------------------------------------------+ | **_recoverySearchSpaceId_** | | | | Search space to use for BFR RAR. The network configures this search | | space to be within the linked DL BWP (i.e., within the DL BWP with | | the same _bwp-Id_) of the UL BWP in which the | | _BeamFailureRecoveryConfig_ is provided. The CORESET associated with | | the recovery search space cannot be associated with another search | | space. Network always configures the UE with a value for this field | | when contention free random access resources for BFR are configured. | +----------------------------------------------------------------------+ | **_rootSequenceIndex-BFR_** | | | | PRACH root sequence index (see TS 38.211 [16], clause 6.3.3.1) for | | beam failure recovery. | +----------------------------------------------------------------------+ | **_ssb-perRACH-Occasion_** | | | | Number of SSBs per RACH occasion for CF-BFR, see TS 38.213 [13], | | clause 8.1. | +----------------------------------------------------------------------+
+----------------------------------------------------------------------+ | _BFR-CSIRS-Resource_ field descriptions | +======================================================================+ | **_csi-RS_** | | | | The ID of a _NZP-CSI-RS-Resource_ configured in the _CSI-MeasConfig_ | | of this serving cell. This reference signal determines a candidate | | beam for beam failure recovery (BFR). | +----------------------------------------------------------------------+ | **_ra-OccasionList_** | | | | RA occasions that the UE shall use when performing BFR upon | | selecting the candidate beam identified by this CSI-RS. The network | | ensures that the RA occasion indexes provided herein are also | | configured by _prach-ConfigurationIndex_ and _msg1-FDM_. Each RACH | | occasion is sequentially numbered, first, in increasing order of | | frequency resource indexes for frequency multiplexed PRACH | | occasions; second, in increasing order of time resource indexes for | | time multiplexed PRACH occasions within a PRACH slot and Third, in | | increasing order of indexes for PRACH slots. | | | | If the field is absent the UE uses the RA occasion associated with | | the SSB that is QCLed with this CSI-RS. | +----------------------------------------------------------------------+ | **_ra-PreambleIndex_** | | | | The RA preamble index to use in the RA occasions associated with | | this CSI-RS. If the field is absent, the UE uses the preamble index | | associated with the SSB that is QCLed with this CSI-RS. | +----------------------------------------------------------------------+
+----------------------------------------------------------------------+ | _BFR-SSB-Resource_ field descriptions | +======================================================================+ | **_ra-PreambleIndex_** | | | | The preamble index that the UE shall use when performing BFR upon | | selecting the candidate beams identified by this SSB. | +----------------------------------------------------------------------+ | **_ssb_** | | | | The ID of an SSB transmitted by this serving cell. It determines a | | candidate beam for beam failure recovery (BFR). | +----------------------------------------------------------------------+
#### \-- _BetaOffsets_
The IE _BetaOffsets_ is used to configure beta-offset values, see TS 38.213
[13], clause 9.3.
_BetaOffsets_ information element
\-- ASN1START
\-- TAG-BETAOFFSETS-START
BetaOffsets ::= SEQUENCE {
betaOffsetACK-Index1 INTEGER(0..31) OPTIONAL, -- Need S
betaOffsetACK-Index2 INTEGER(0..31) OPTIONAL, -- Need S
betaOffsetACK-Index3 INTEGER(0..31) OPTIONAL, -- Need S
betaOffsetCSI-Part1-Index1 INTEGER(0..31) OPTIONAL, -- Need S
betaOffsetCSI-Part1-Index2 INTEGER(0..31) OPTIONAL, -- Need S
betaOffsetCSI-Part2-Index1 INTEGER(0..31) OPTIONAL, -- Need S
betaOffsetCSI-Part2-Index2 INTEGER(0..31) OPTIONAL -- Need S
}
\-- TAG-BETAOFFSETS-STOP
\-- ASN1STOP
+----------------------------------------------------------------------+ | _BetaOffsets_ field descriptions | +======================================================================+ | **_betaOffsetACK-Index1_** | | | | Up to 2 bits HARQ-ACK (see TS 38.213 [13], clause 9.3). When the | | field is absent the UE applies the value 11. | +----------------------------------------------------------------------+ | **_betaOffsetACK-Index2_** | | | | Up to 11 bits HARQ-ACK (see TS 38.213 [13], clause 9.3). When the | | field is absent the UE applies the value 11. | +----------------------------------------------------------------------+ | **_betaOffsetACK-Index3_** | | | | Above 11 bits HARQ-ACK (see TS 38.213 [13], clause 9.3). When the | | field is absent the UE applies the value 11. | +----------------------------------------------------------------------+ | **_betaOffsetCSI-Part1-Index1_** | | | | Up to 11 bits of CSI part 1 bits (see TS 38.213 [13], clause 9.3). | | When the field is absent the UE applies the value 13. | +----------------------------------------------------------------------+ | **_betaOffsetCSI-Part1-Index2_** | | | | Above 11 bits of CSI part 1 bits (see TS 38.213 [13], clause 9.3). | | When the field is absent the UE applies the value 13. | +----------------------------------------------------------------------+ | **_betaOffsetCSI-Part2-Index1_** | | | | Up to 11 bits of CSI part 2 bits (see TS 38.213 [13], clause 9.3). | | When the field is absent the UE applies the value 13. | +----------------------------------------------------------------------+ | **_betaOffsetCSI-Part2-Index2_** | | | | Above 11 bits of CSI part 2 bits (see TS 38.213 [13], clause 9.3). | | When the field is absent the UE applies the value 13. | +----------------------------------------------------------------------+
#### \-- _BSR-Config_
The IE _BSR-Config_ is used to configure buffer status reporting.
_BSR-Config_ information element
\-- ASN1START
\-- TAG-BSR-CONFIG-START
BSR-Config ::= SEQUENCE {
periodicBSR-Timer ENUMERATED { sf1, sf5, sf10, sf16, sf20, sf32, sf40, sf64,
sf80, sf128, sf160, sf320, sf640, sf1280, sf2560, infinity },
retxBSR-Timer ENUMERATED { sf10, sf20, sf40, sf80, sf160, sf320, sf640,
sf1280, sf2560,
sf5120, sf10240, spare5, spare4, spare3, spare2, spare1},
logicalChannelSR-DelayTimer ENUMERATED { sf20, sf40, sf64, sf128, sf512,
sf1024, sf2560, spare1} OPTIONAL, -- Need R
...
}
\-- TAG-BSR-CONFIG-STOP
\-- ASN1STOP
+----------------------------------------------------------------------+ | _BSR-Config_ field descriptions | +======================================================================+ | **_logicalChannelSR-DelayTimer_** | | | | Value in number of subframes. Value _sf20_ corresponds to 20 | | subframes, _sf40_ corresponds to 40 subframes, and so on. | +----------------------------------------------------------------------+ | **_periodicBSR-Timer_** | | | | Value in number of subframes. Value _sf1_ corresponds to 1 subframe, | | value _sf5_ corresponds to 5 subframes and so on. | +----------------------------------------------------------------------+ | **_retxBSR-Timer_** | | | | Value in number of subframes. Value _sf10_ corresponds to 10 | | subframes, value _sf20_ corresponds to 20 subframes and so on. | +----------------------------------------------------------------------+
#### \-- _BWP_
The IE _BWP_ is used to configure generic parameters of a bandwidth part as
defined in TS 38.211 [16], clause 4.5, and TS 38.213 [13], clause 12.
For each serving cell the network configures at least an initial downlink
bandwidth part and one (if the serving cell is configured with an uplink) or
two (if using supplementary uplink (SUL)) initial uplink bandwidth parts.
Furthermore, the network may configure additional uplink and downlink
bandwidth parts for a serving cell.
The uplink and downlink bandwidth part configurations are divided into common
and dedicated parameters.
_BWP_ information element
\-- ASN1START
\-- TAG-BWP-START
BWP ::= SEQUENCE {
locationAndBandwidth INTEGER (0..37949),
subcarrierSpacing SubcarrierSpacing,
cyclicPrefix ENUMERATED { extended } OPTIONAL -- Need R
}
\-- TAG-BWP-STOP
\-- ASN1STOP
+----------------------------------------------------------------------+ | _BWP_ field descriptions | +======================================================================+ | **_cyclicPrefix_** | | | | Indicates whether to use the extended cyclic prefix for this | | bandwidth part. If not set, the UE uses the normal cyclic prefix. | | Normal CP is supported for all subcarrier spacings and slot formats. | | Extended CP is supported only for 60 kHz subcarrier spacing. (see TS | | 38.211 [16], clause 4.2). Except for SUL, the network ensures the | | same cyclic prefix length is used in active DL BWP and active UL BWP | | within a serving cell. | +----------------------------------------------------------------------+ | **_locationAndBandwidth_** | | | | Frequency domain location and bandwidth of this bandwidth part. The | | value of the field shall be interpreted as resource indicator value | | (RIV) as defined TS 38.214 [19] with assumptions as described in | | TS 38.213 [13], clause 12, i.e. setting =275. The first PRB is a | | PRB determined by _subcarrierSpacing_ of this BWP and | | _offsetToCarrier_ (configured in _SCS-SpecificCarrier_ contained | | within _FrequencyInfoDL_ / _FrequencyInfoUL_ / _FrequencyInfoUL-SIB_ | | / _FrequencyInfoDL-SIB_ within _ServingCellConfigCommon_ / | | _ServingCellConfigCommonSIB_) corresponding to this subcarrier | | spacing. In case of TDD, a BWP-pair (UL BWP and DL BWP with the same | | _bwp-Id_) must have the same center frequency (see TS 38.213 [13], | | clause 12) | +----------------------------------------------------------------------+ | **_subcarrierSpacing_** | | | | Subcarrier spacing to be used in this BWP for all channels and | | reference signals unless explicitly configured elsewhere. | | Corresponds to subcarrier spacing according to TS 38.211 [16], | | table 4.2-1. The value _kHz15_ corresponds to µ=0, value _kHz30_ | | corresponds to µ=1, and so on. Only the values 15 kHz, 30 kHz, or 60 | | kHz (FR1), and 60 kHz or 120 kHz (FR2) are applicable. For the | | initial DL BWP this field has the same value as the field | | _subCarrierSpacingCommon_ in _MIB_ of the same serving cell. Except | | for SUL, the network ensures the same subcarrier spacing is used in | | active DL BWP and active UL BWP within a serving cell. | +----------------------------------------------------------------------+
#### \-- _BWP-Downlink_
The IE _BWP-Downlink_ is used to configure an additional downlink bandwidth
part (not for the initial BWP).
_BWP-Downlink_ information element
\-- ASN1START
\-- TAG-BWP-DOWNLINK-START
BWP-Downlink ::= SEQUENCE {
bwp-Id BWP-Id,
bwp-Common BWP-DownlinkCommon OPTIONAL, -- Cond SetupOtherBWP
bwp-Dedicated BWP-DownlinkDedicated OPTIONAL, -- Cond SetupOtherBWP
...
}
\-- TAG-BWP-DOWNLINK-STOP
\-- ASN1STOP
+----------------------------------------------------------------------+ | _BWP-Downlink_ field descriptions | +======================================================================+ | **_bwp-Id_** | | | | An identifier for this bandwidth part. Other parts of the RRC | | configuration use the _BWP-Id_ to associate themselves with a | | particular bandwidth part. | | | | The network configures the BWPs with consecutive IDs from 1. The | | Network does not include the value 0, since value 0 is reserved for | | the initial BWP. | +----------------------------------------------------------------------+
Conditional Presence Explanation
* * *
_SetupOtherBWP_ The field is mandatory present upon configuration of a new DL
BWP. The field is optionally present, Need M, otherwise.
#### \-- _BWP-DownlinkCommon_
The IE _BWP-DownlinkCommon_ is used to configure the common parameters of a
downlink BWP. They are \"cell specific\" and the network ensures the necessary
alignment with corresponding parameters of other UEs. The common parameters of
the initial bandwidth part of the PCell are also provided via system
information. For all other serving cells, the network provides the common
parameters via dedicated signalling.
_BWP-DownlinkCommon_ information element
\-- ASN1START
\-- TAG-BWP-DOWNLINKCOMMON-START
BWP-DownlinkCommon ::= SEQUENCE {
genericParameters BWP,
pdcch-ConfigCommon SetupRelease { PDCCH-ConfigCommon } OPTIONAL, -- Need M
pdsch-ConfigCommon SetupRelease { PDSCH-ConfigCommon } OPTIONAL, -- Need M
...
}
\-- TAG-BWP-DOWNLINKCOMMON-STOP
\-- ASN1STOP
+-----------------------------------------------------+ | _BWP-DownlinkCommon_ field descriptions | +=====================================================+ | **_pdcch-ConfigCommon_** | | | | Cell specific parameters for the PDCCH of this BWP. | +-----------------------------------------------------+ | **_pdsch-ConfigCommon_** | | | | Cell specific parameters for the PDSCH of this BWP. | +-----------------------------------------------------+
#### \-- _BWP-DownlinkDedicated_
The IE _BWP-DownlinkDedicated_ is used to configure the dedicated (UE
specific) parameters of a downlink BWP.
_BWP-DownlinkDedicated_ information element
\-- ASN1START
\-- TAG-BWP-DOWNLINKDEDICATED-START
BWP-DownlinkDedicated ::= SEQUENCE {
pdcch-Config SetupRelease { PDCCH-Config } OPTIONAL, -- Need M
pdsch-Config SetupRelease { PDSCH-Config } OPTIONAL, -- Need M
sps-Config SetupRelease { SPS-Config } OPTIONAL, -- Need M
radioLinkMonitoringConfig SetupRelease { RadioLinkMonitoringConfig } OPTIONAL,
-- Need M
...
}
\-- TAG-BWP-DOWNLINKDEDICATED-STOP
\-- ASN1STOP
+----------------------------------------------------------------------+ | _BWP-DownlinkDedicated_ field descriptions | +======================================================================+ | **_pdcch-Config_** | | | | UE specific PDCCH configuration for one BWP. | +----------------------------------------------------------------------+ | **_pdsch-Config_** | | | | UE specific PDSCH configuration for one BWP. | +----------------------------------------------------------------------+ | **_sps-Config_** | | | | UE specific SPS (Semi-Persistent Scheduling) configuration for one | | BWP. Except for reconfiguration with sync, the NW does not | | reconfigure _sps-Config_ when there is an active configured downlink | | assignment (see TS 38.321 [3]). However, the NW may release the | | _sps-Config_ at any time. | +----------------------------------------------------------------------+ | **_radioLinkMonitoringConfig_** | | | | UE specific configuration of radio link monitoring for detecting | | cell- and beam radio link failure occasions. The maximum number of | | failure detection resources should be limited up to 8 for both cell | | and beam radio link failure detection in Rel-15. | +----------------------------------------------------------------------+
#### \-- _BWP-Id_
The IE _BWP-Id_ is used to refer to Bandwidth Parts (BWP). The initial BWP is
referred to by _BWP-Id_ 0\. The other BWPs are referred to by _BWP-Id_ 1 to
_maxNrofBWPs_.
_BWP-Id_ information element
\-- ASN1START
\-- TAG-BWP-ID-START
BWP-Id ::= INTEGER (0..maxNrofBWPs)
\-- TAG-BWP-ID-STOP
\-- ASN1STOP
#### \-- _BWP-Uplink_
The IE _BWP-Uplink_ is used to configure an additional uplink bandwidth part
(not for the initial BWP).
_BWP-Uplink_ information element
\-- ASN1START
\-- TAG-BWP-UPLINK-START
BWP-Uplink ::= SEQUENCE {
bwp-Id BWP-Id,
bwp-Common BWP-UplinkCommon OPTIONAL, -- Cond SetupOtherBWP
bwp-Dedicated BWP-UplinkDedicated OPTIONAL, -- Cond SetupOtherBWP
...
}
\-- TAG-BWP-UPLINK-STOP
\-- ASN1STOP
+----------------------------------------------------------------------+ | _BWP-Uplink_ field descriptions | +======================================================================+ | **_bwp-Id_** | | | | An identifier for this bandwidth part. Other parts of the RRC | | configuration use the _BWP-Id_ to associate themselves with a | | particular bandwidth part. | | | | The network configures the BWPs with consecutive IDs from 1. The | | Network does not include the value 0, since value 0 is reserved for | | the initial BWP. | +----------------------------------------------------------------------+
Conditional Presence Explanation
* * *
_SetupOtherBWP_ The field is mandatory present upon configuration of a new UL
BWP. The field is optionally present, Need M, otherwise.
#### \-- _BWP-UplinkCommon_
The IE _BWP-UplinkCommon_ is used to configure the common parameters of an
uplink BWP. They are \"cell specific\" and the network ensures the necessary
alignment with corresponding parameters of other UEs. The common parameters of
the initial bandwidth part of the PCell are also provided via system
information. For all other serving cells, the network provides the common
parameters via dedicated signalling.
_BWP-UplinkCommon_ information element
\-- ASN1START
\-- TAG-BWP-UPLINKCOMMON-START
BWP-UplinkCommon ::= SEQUENCE {
genericParameters BWP,
rach-ConfigCommon SetupRelease { RACH-ConfigCommon } OPTIONAL, -- Need M
pusch-ConfigCommon SetupRelease { PUSCH-ConfigCommon } OPTIONAL, -- Need M
pucch-ConfigCommon SetupRelease { PUCCH-ConfigCommon } OPTIONAL, -- Need M
...
}
\-- TAG-BWP-UPLINKCOMMON-STOP
\-- ASN1STOP
+----------------------------------------------------------------------+ | _BWP-UplinkCommon_ field descriptions | +======================================================================+ | **_pucch-ConfigCommon_** | | | | Cell specific parameters for the PUCCH of this BWP. | +----------------------------------------------------------------------+ | **_pusch-ConfigCommon_** | | | | Cell specific parameters for the PUSCH of this BWP. | +----------------------------------------------------------------------+ | **_rach-ConfigCommon_** | | | | Configuration of cell specific random access parameters which the UE | | uses for contention based and contention free random access as well | | as for contention based beam failure recovery in this BWP. The NW | | configures SSB-based RA (and hence _RACH-ConfigCommon_) only for UL | | BWPs if the linked DL BWPs (same _bwp-Id_ as UL-BWP) are the initial | | DL BWPs or DL BWPs containing the SSB associated to the initial DL | | BWP. The network configures _rach-ConfigCommon_ , whenever it | | configures contention free random access (for reconfiguration with | | sync or for beam failure recovery). | +----------------------------------------------------------------------+
#### \-- _BWP-UplinkDedicated_
The IE _BWP-UplinkDedicated_ is used to configure the dedicated (UE specific)
parameters of an uplink BWP.
_BWP-UplinkDedicated_ information element
\-- ASN1START
\-- TAG-BWP-UPLINKDEDICATED-START
BWP-UplinkDedicated ::= SEQUENCE {
pucch-Config SetupRelease { PUCCH-Config } OPTIONAL, -- Need M
pusch-Config SetupRelease { PUSCH-Config } OPTIONAL, -- Need M
configuredGrantConfig SetupRelease { ConfiguredGrantConfig } OPTIONAL, \--
Need M
srs-Config SetupRelease { SRS-Config } OPTIONAL, -- Need M
beamFailureRecoveryConfig SetupRelease { BeamFailureRecoveryConfig } OPTIONAL,
-- Cond SpCellOnly
...
}
\-- TAG-BWP-UPLINKDEDICATED-STOP
\-- ASN1STOP
+----------------------------------------------------------------------+ | _BWP-UplinkDedicated_ field descriptions | +======================================================================+ | **_beamFailureRecoveryConfig_** | | | | Configuration of beam failure recovery. If _supplementaryUplink_ is | | present, the field is present only in one of the uplink carriers, | | either UL or SUL. | +----------------------------------------------------------------------+ | **_configuredGrantConfig_** | | | | A _Configured-Grant_ of _type1_ or _type2_. It may be configured for | | UL or SUL but in case of _type1_ not for both at a time. Except for | | reconfiguration with sync, the NW does not reconfigure | | _configuredGrantConfig_ when there is an active configured uplink | | grant Type 2 (see TS 38.321 [3]). However, the NW may release the | | _configuredGrantConfig_ at any time. | +----------------------------------------------------------------------+ | **_pucch-Config_** | | | | PUCCH configuration for one BWP of the normal UL or SUL of a serving | | cell. If the UE is configured with SUL, the network configures PUCCH | | only on the BWPs of one of the uplinks (normal UL or SUL). The | | network configures _PUCCH-Config_ at least on non-initial BWP(s) for | | SpCell and on all BWP(s) for PUCCH SCell. If supported by the UE, | | the network may configure at most one additional SCell of a cell | | group with _PUCCH-Config_ (i.e. PUCCH SCell). | | | | In (NG)EN-DC and NE-DC, the NW configures at most one serving cell | | per frequency range with PUCCH. In (NG)EN-DC and NE-DC, if two PUCCH | | groups are configured, the serving cells of the NR PUCCH group in | | FR2 use the same numerology. For NR-DC, the maximum number of PUCCH | | groups in each cell group is one, and only the same numerology is | | supported for the cell group with carriers only in FR2. | | | | The NW may configure PUCCH for a BWP when setting up the BWP. The | | network may also add/remove the _pucch-Config_ in an | | _RRCReconfiguration_ with _reconfigurationWithSync_ (for SpCell or | | PUCCH SCell) or with SCell release and add (for PUCCH SCell) to move | | the PUCCH between the UL and SUL carrier of one serving cell. In | | other cases, only modifications of a previously configured | | _pucch-Config_ are allowed. | | | | If one (S)UL BWP of a serving cell is configured with PUCCH, all | | other (S)UL BWPs must be configured with PUCCH, too. | +----------------------------------------------------------------------+ | **_pusch-Config_** | | | | PUSCH configuration for one BWP of the normal UL or SUL of a serving | | cell. If the UE is configured with SUL and if it has a | | _PUSCH-Config_ for both UL and SUL, an UL/SUL indicator field in DCI | | indicates which of the two to use. See TS 38.212 [17], clause | | 7.3.1. | +----------------------------------------------------------------------+ | **_srs-Config_** | | | | Uplink sounding reference signal configuration. | +----------------------------------------------------------------------+
Conditional Presence Explanation
* * *
_SpCellOnly_ The field is optionally present, Need M, in the _BWP-
UplinkDedicated_ of an SpCell. It is absent otherwise.
NOTE 1: In case of _RRCReconfiguration_ with _reconfigurationWithSync_ , the
UE performs a MAC reset, which involves releasing the PUCCH-CSI/SRS/SR
configuration in accordance with clause 5.3.12 and TS 38.321 [3], clauses 5.12
and 5.2. Hence, for these parts of the dedicated radio resource configuration,
delta signalling is not supported in the message when
_reconfigurationWithSync_ is included.
#### \-- _CellAccessRelatedInfo_
The IE _CellAccessRelatedInfo_ indicates cell access related information for
this cell.
_CellAccessRelatedInfo_ information element
\-- ASN1START
\-- TAG-CELLACCESSRELATEDINFO-START
CellAccessRelatedInfo ::= SEQUENCE {
plmn-IdentityInfoList PLMN-IdentityInfoList,
cellReservedForOtherUse ENUMERATED {true} OPTIONAL, -- Need R
...
}
\-- TAG-CELLACCESSRELATEDINFO-STOP
\-- ASN1STOP
+----------------------------------------------------------------------+ | _CellAccessRelatedInfo field descriptions_ | +======================================================================+ | **_cellReservedForOtherUse_** | | | | **Indicates whether the cell is reserved, as defined in 38.304 | | [20]. The field is applicable to all PLMNs.** | +----------------------------------------------------------------------+ | **_plmn-IdentityInfoList_** | | | | The _plmn-IdentityInfoList_ is used to configure a set of | | _PLMN-IdentityInfo_ elements. Each of those elements contains a list | | of one or more PLMN Identities and additional information associated | | with those PLMNs. The total number of PLMNs in the | | _PLMN-IdentityInfoList_ does not exceed 12. A PLMN-identity can be | | included only once, and in only one entry of the | | _PLMN-IdentityInfoList_. The PLMN index is defined as | | _b1+b2+...+b(n-1)+i_ for the PLMN included at the _n_ -th entry of | | _PLMN-IdentityInfoList_ and the _i_ -th entry of its corresponding | | _PLMN-IdentityInfo_ , where _b(j)_ is the number of _PLMN-Identity_ | | entries in each _PLMN-IdentityInfo_ , respectively. | +----------------------------------------------------------------------+
#### _\-- CellAccessRelatedInfo-EUTRA-5GC_
The IE _CellAccessRelatedInfo-EUTRA-5GC_ indicates cell access related
information for an LTE cell connected to 5GC.
**_CellAccessRelatedInfo-EUTRA-5GC_** information element
\-- ASN1START
\-- TAG-CELLACCESSRELATEDINFOEUTRA-5GC-START
CellAccessRelatedInfo-EUTRA-5GC ::= SEQUENCE {
plmn-IdentityList-eutra-5gc PLMN-IdentityList-EUTRA-5GC,
trackingAreaCode-eutra-5gc TrackingAreaCode,
ranac-5gc RAN-AreaCode OPTIONAL,
cellIdentity-eutra-5gc CellIdentity-EUTRA-5GC
}
PLMN-IdentityList-EUTRA-5GC::= SEQUENCE (SIZE (1..maxPLMN)) OF PLMN-Identity-
EUTRA-5GC
PLMN-Identity-EUTRA-5GC ::= CHOICE {
plmn-Identity-EUTRA-5GC PLMN-Identity,
plmn-index INTEGER (1..maxPLMN)
}
CellIdentity-EUTRA-5GC ::= CHOICE {
cellIdentity-EUTRA BIT STRING (SIZE (28)),
cellId-index INTEGER (1..maxPLMN)
}
\-- TAG-CELLACCESSRELATEDINFOEUTRA-5GC-STOP
\-- ASN1STOP
#### _\-- CellAccessRelatedInfo-EUTRA-EPC_
The IE _CellAccessRelatedInfo-EUTRA-EPC_ indicates cell access related
information for an LTE cell connected to EPC.
**_CellAccessRelatedInfo-EUTRA-EPC_** information element
\-- ASN1START
\-- TAG-CELLACCESSRELATEDINFOEUTRA-EPC-START
CellAccessRelatedInfo-EUTRA-EPC ::= SEQUENCE {
plmn-IdentityList-eutra-epc PLMN-IdentityList-EUTRA-EPC,
trackingAreaCode-eutra-epc BIT STRING (SIZE (16)),
cellIdentity-eutra-epc BIT STRING (SIZE (28))
}
PLMN-IdentityList-EUTRA-EPC::= SEQUENCE (SIZE (1..maxPLMN)) OF PLMN-Identity
\-- TAG-CELLACCESSRELATEDINFOEUTRA-EPC-STOP
\-- ASN1STOP
#### \-- _CellGroupConfig_
The _CellGroupConfig_ IE is used to configure a master cell group (MCG) or
secondary cell group (SCG). A cell group comprises of one MAC entity, a set of
logical channels with associated RLC entities and of a primary cell (SpCell)
and one or more secondary cells (SCells).
**_CellGroupConfig_** information element
\-- ASN1START
\-- TAG-CELLGROUPCONFIG-START
\-- Configuration of one Cell-Group:
CellGroupConfig ::= SEQUENCE {
cellGroupId CellGroupId,
rlc-BearerToAddModList SEQUENCE (SIZE(1..maxLC-ID)) OF RLC-BearerConfig
OPTIONAL, -- Need N
rlc-BearerToReleaseList SEQUENCE (SIZE(1..maxLC-ID)) OF LogicalChannelIdentity
OPTIONAL, -- Need N
mac-CellGroupConfig MAC-CellGroupConfig OPTIONAL, -- Need M
physicalCellGroupConfig PhysicalCellGroupConfig OPTIONAL, -- Need M
spCellConfig SpCellConfig OPTIONAL, -- Need M
sCellToAddModList SEQUENCE (SIZE (1..maxNrofSCells)) OF SCellConfig OPTIONAL,
-- Need N
sCellToReleaseList SEQUENCE (SIZE (1..maxNrofSCells)) OF SCellIndex OPTIONAL,
-- Need N
...,
[[
reportUplinkTxDirectCurrent ENUMERATED {true} OPTIONAL -- Cond BWP-Reconfig
]]
}
\-- Serving cell specific MAC and PHY parameters for a SpCell:
SpCellConfig ::= SEQUENCE {
servCellIndex ServCellIndex OPTIONAL, -- Cond SCG
reconfigurationWithSync ReconfigurationWithSync OPTIONAL, -- Cond
ReconfWithSync
rlf-TimersAndConstants SetupRelease { RLF-TimersAndConstants } OPTIONAL, \--
Need M
rlmInSyncOutOfSyncThreshold ENUMERATED {n1} OPTIONAL, -- Need S
spCellConfigDedicated ServingCellConfig OPTIONAL, -- Need M
...
}
ReconfigurationWithSync ::= SEQUENCE {
spCellConfigCommon ServingCellConfigCommon OPTIONAL, -- Need M
newUE-Identity RNTI-Value,
t304 ENUMERATED {ms50, ms100, ms150, ms200, ms500, ms1000, ms2000, ms10000},
rach-ConfigDedicated CHOICE {
uplink RACH-ConfigDedicated,
supplementaryUplink RACH-ConfigDedicated
} OPTIONAL, -- Need N
...,
[[
smtc SSB-MTC OPTIONAL -- Need S
]]
}
SCellConfig ::= SEQUENCE {
sCellIndex SCellIndex,
sCellConfigCommon ServingCellConfigCommon OPTIONAL, -- Cond SCellAdd
sCellConfigDedicated ServingCellConfig OPTIONAL, -- Cond SCellAddMod
...,
[[
smtc SSB-MTC OPTIONAL -- Need S
]]
}
\-- TAG-CELLGROUPCONFIG-STOP
\-- ASN1STOP
+----------------------------------------------------------------------+ | _CellGroupConfig_ field descriptions | +======================================================================+ | **_mac-CellGroupConfig_** | | | | MAC parameters applicable for the entire cell group. | +----------------------------------------------------------------------+ | **_rlc-BearerToAddModList_** | | | | Configuration of the MAC Logical Channel, the corresponding RLC | | entities and association with radio bearers. | +----------------------------------------------------------------------+ | **_reportUplinkTxDirectCurrent_** | | | | Enables reporting of uplink and supplementary uplink Direct Current | | location information upon BWP configuration and reconfiguration. | | This field is only present when the BWP configuration is modified or | | any serving cell is added or removed. This field is absent in the IE | | _CellGroupConfig_ when provided as part of _RRCSetup_ message. If UE | | is configured with SUL carrier, UE reports both UL and SUL Direct | | Current locations. | +----------------------------------------------------------------------+ | **_rlmInSyncOutOfSyncThreshold_** | | | | BLER threshold pair index for IS/OOS indication generation, see TS | | 38.133 [14], table 8.1.1-1. _n1_ corresponds to the value 1. When | | the field is absent, the UE applies the value 0. Whenever this is | | reconfigured, UE resets N310 and N311, and stops T310, if running. | | Network does not include this field. | +----------------------------------------------------------------------+ | **_sCellToAddModList_** | | | | List of seconary serving cells (SCells) to be added or modified. | +----------------------------------------------------------------------+ | **_sCellToReleaseList_** | | | | List of secondary serving cells (SCells) to be released. | +----------------------------------------------------------------------+ | **_spCellConfig_** | | | | Parameters for the SpCell of this cell group (PCell of MCG or PSCell | | of SCG). | +----------------------------------------------------------------------+
+----------------------------------------------------------------------+ | _ReconfigurationWithSync_ field descriptions | +======================================================================+ | **_rach-ConfigDedicated_** | | | | Random access configuration to be used for the reconfiguration with | | sync (e.g. handover). The UE performs the RA according to these | | parameters in the _firstActiveUplinkBWP_ (see _UplinkConfig_). | +----------------------------------------------------------------------+ | **_smtc_** | | | | The SSB periodicity/offset/duration configuration of target cell for | | NR PSCell change, NR PCell change and (for NR-DC) NR PSCell | | addition. The network sets the _periodicityAndOffset_ to indicate | | the same periodicity as _ssb-periodicityServingCell_ in | | _spCellConfigCommon_. For case of NR PCell change and NR PSCell | | addition, the _smtc_ is based on the timing reference of (source) | | PCell. For case of NR PSCell change, it is based on the timing | | reference of source PSCell. If the field is absent, the UE uses the | | SMTC in the _measObjectNR_ having the same SSB frequency and | | subcarrier spacing, as configured before the reception of the RRC | | message. | +----------------------------------------------------------------------+
+----------------------------------------------------------------------+ | _SCellConfig_ field descriptions | +======================================================================+ | **_smtc_** | | | | The SSB periodicity/offset/duration configuration of target cell for | | NR SCell addition. The network sets the _periodicityAndOffset_ to | | indicate the same periodicity as _ssb-periodicityServingCell_ in | | _sCellConfigCommon_. The _smtc_ is based on the timing of the SpCell | | of associated cell group. In case of inter-RAT handover to NR, the | | timing reference is the NR PCell. In case of intra-NR PCell change | | (standalone NR) or NR PSCell change (EN-DC), the timing reference is | | the target SpCell. If the field is absent, the UE uses the SMTC in | | the _measObjectNR_ having the same SSB frequency and subcarrier | | spacing, as configured before the reception of the RRC message. | +----------------------------------------------------------------------+
+----------------------------------------------------------------------+ | _SpCellConfig_ field descriptions | +======================================================================+ | **_reconfigurationWithSync_** | | | | Parameters for the synchronous reconfiguration to the target SpCell. | +----------------------------------------------------------------------+ | **_rlf-TimersAndConstants_** | | | | Timers and constants for detecting and triggering cell-level radio | | link failure. For the SCG, _rlf-TimersAndConstants_ can only be set | | to _setup_ and is always included at SCG addition. | +----------------------------------------------------------------------+ | **_servCellIndex_** | | | | Serving cell ID of a PSCell. The PCell of the Master Cell Group uses | | ID = 0. | +----------------------------------------------------------------------+
+----------------------+----------------------------------------------+ | Conditional Presence | Explanation | +======================+==============================================+ | _BWP-Reconfig_ | The field is optionally present, Need N, if | | | the BWPs are reconfigured or if serving | | | cells are added or removed. Otherwise it is | | | absent. | +----------------------+----------------------------------------------+ | _ReconfWithSync_ | The field is mandatory present in the | | | _RRCReconfiguration_ message: | | | | | | - in each configured _CellGroupConfig_ for | | | which the SpCell changes, | | | | | | - in the _masterCellGroup_ at change of AS | | | security key derived from K~gNB~, | | | | | | - in the _secondaryCellGroup_ at: | | | | | | - PSCell addition, | | | | | | - update of required SI for PSCell, | | | | | | - change of AS security key derived from | | | S-K~gNB~ in NR-DC while the UE is configured | | | with at least one radio bearer with | | | _keyToUse_ set to _secondary_ and that is | | | not released by this _RRCReconfiguration_ | | | message. | | | | | | - MN handover in (NG)EN-DC. | | | | | | Otherwise it is optionally present, need M. | | | The field is absent in _RRCResume_ or | | | _RRCSetup_ messages. | +----------------------+----------------------------------------------+ | _SCellAdd_ | The field is mandatory present upon SCell | | | addition; otherwise it is absent, Need M. | +----------------------+----------------------------------------------+ | _SCellAddMod_ | The field is mandatory present upon SCell | | | addition; otherwise it is optionally | | | present, need M. | +----------------------+----------------------------------------------+ | _SCG_ | The field is mandatory present in an | | | _SpCellConfig_ for the PSCell. It is absent | | | otherwise. | +----------------------+----------------------------------------------+
NOTE: In case of change of AS security key derived from S-K~gNB~/S-K~eNB~, if
_reconfigurationWithSync_ is not included in the _masterCellGroup_ , the
network releases all existing MCG RLC bearers associated with a radio bearer
with _keyToUse_ set to _secondary_. In case of change of AS security key
derived from K~gNB~/K~eNB~, if _reconfigurationWithSync_ is not included in
the _secondaryCellGroup_ , the network releases all existing SCG RLC bearers
associated with a radio bearer with _keyToUse_ set to _primary_.
#### \-- _CellGroupId_
The IE _CellGroupId_ is used to identify a cell group. Value 0 identifies the
master cell group. Other values identify secondary cell groups. In this
version of the specification only values 0 and 1 are supported.
_CellGroupId_ information element
\-- ASN1START
\-- TAG-CELLGROUPID-START
CellGroupId ::= INTEGER (0.. maxSecondaryCellGroups)
\-- TAG-CELLGROUPID-STOP
\-- ASN1STOP
#### \-- _CellIdentity_
The IE _CellIdentity_ is used to unambiguously identify a cell within a PLMN.
**_CellIdentity_** information element
\-- ASN1START
\-- TAG-CELLIDENTITY-START
CellIdentity ::= BIT STRING (SIZE (36))
\-- TAG-CELLIDENTITY-STOP
\-- ASN1STOP
#### \-- _CellReselectionPriority_
The IE _CellReselectionPriority_ concerns the absolute priority of the
concerned carrier frequency, as used by the cell reselection procedure.
Corresponds to parameter \"priority\" in TS 38.304 [20]. Value 0 means lowest
priority. The UE behaviour for the case the field is absent, if applicable, is
specified in TS 38.304 [20].
_CellReselectionPriority_ information element
\-- ASN1START
\-- TAG-CELLRESELECTIONPRIORITY-START
CellReselectionPriority ::= INTEGER (0..7)
\-- TAG-CELLRESELECTIONPRIORITY-STOP
\-- ASN1STOP
#### \-- _CellReselectionSubPriority_
The IE _CellReselectionSubPriority_ indicates a fractional value to be added
to the value of _cellReselectionPriority_ to obtain the absolute priority of
the concerned carrier frequency for E-UTRA and NR. Value _oDot2_ corresponds
to 0.2, value _oDot4_ corresponds to 0.4 and so on.
**_CellReselectionSubPriority_** information element
\-- ASN1START
\-- TAG-CELLRESELECTIONSUBPRIORITY-START
CellReselectionSubPriority ::= ENUMERATED {oDot2, oDot4, oDot6, oDot8}
\-- TAG-CELLRESELECTIONSUBPRIORITY-STOP
\-- ASN1STOP
#### _\-- CGI-InfoEUTRA_
The IE CGI-InfoEUTRA indicates EUTRA cell access related information, which is
reported by the UE as part of E-UTRA report CGI procedure.
**_CGI-InfoEUTRA_** information element
\-- ASN1START
\-- TAG-CGI-INFOEUTRA-START
CGI-InfoEUTRA ::= SEQUENCE {
cgi-info-EPC SEQUENCE {
cgi-info-EPC-legacy CellAccessRelatedInfo-EUTRA-EPC,
cgi-info-EPC-list SEQUENCE (SIZE (1..maxPLMN)) OF CellAccessRelatedInfo-EUTRA-
EPC OPTIONAL
} OPTIONAL,
cgi-info-5GC SEQUENCE (SIZE (1..maxPLMN)) OF CellAccessRelatedInfo-EUTRA-5GC
OPTIONAL,
freqBandIndicator FreqBandIndicatorEUTRA,
multiBandInfoList MultiBandInfoListEUTRA OPTIONAL,
freqBandIndicatorPriority ENUMERATED {true} OPTIONAL
}
\-- TAG-CGI-INFOEUTRA-STOP
\-- ASN1STOP
#### _\-- CGI-InfoNR_
The IE _CGI-InfoNR_ indicates cell access related information, which is
reported by the UE as part of report CGI procedure.
**_CGI-InfoNR_** information element
\-- ASN1START
\-- TAG-CGI-INFO-NR-START
CGI-InfoNR ::= SEQUENCE {
plmn-IdentityInfoList PLMN-IdentityInfoList OPTIONAL,
frequencyBandList MultiFrequencyBandListNR OPTIONAL,
noSIB1 SEQUENCE {
ssb-SubcarrierOffset INTEGER (0..15),
pdcch-ConfigSIB1 PDCCH-ConfigSIB1
} OPTIONAL,
...
}
\-- TAG-CGI-INFO-NR-STOP
\-- ASN1STOP
+----------------------------------------------------------------------+ | _CGI-InfoNR field descriptions_ | +======================================================================+ | **_noSIB1_** | | | | Contains _ssb-SubcarrierOffset_ and _pdcch-ConfigSIB1_ fields | | acquired by the UE from _MIB_ of the cell for which report CGI | | procedure was requested by the network in case _SIB1_ was not | | broadcast by the cell. | +----------------------------------------------------------------------+
#### \-- _CodebookConfig_
The IE _CodebookConfig_ is used to configure codebooks of Type-I and Type-II
(see TS 38.214 [19], clause 5.2.2.2)
_CodebookConfig_ information element
\-- ASN1START
\-- TAG-CODEBOOKCONFIG-START
CodebookConfig ::= SEQUENCE {
codebookType CHOICE {
type1 SEQUENCE {
subType CHOICE {
typeI-SinglePanel SEQUENCE {
nrOfAntennaPorts CHOICE {
two SEQUENCE {
twoTX-CodebookSubsetRestriction BIT STRING (SIZE (6))
},
moreThanTwo SEQUENCE {
n1-n2 CHOICE {
two-one-TypeI-SinglePanel-Restriction BIT STRING (SIZE (8)),
two-two-TypeI-SinglePanel-Restriction BIT STRING (SIZE (64)),
four-one-TypeI-SinglePanel-Restriction BIT STRING (SIZE (16)),
three-two-TypeI-SinglePanel-Restriction BIT STRING (SIZE (96)),
six-one-TypeI-SinglePanel-Restriction BIT STRING (SIZE (24)),
four-two-TypeI-SinglePanel-Restriction BIT STRING (SIZE (128)),
eight-one-TypeI-SinglePanel-Restriction BIT STRING (SIZE (32)),
four-three-TypeI-SinglePanel-Restriction BIT STRING (SIZE (192)),
six-two-TypeI-SinglePanel-Restriction BIT STRING (SIZE (192)),
twelve-one-TypeI-SinglePanel-Restriction BIT STRING (SIZE (48)),
four-four-TypeI-SinglePanel-Restriction BIT STRING (SIZE (256)),
eight-two-TypeI-SinglePanel-Restriction BIT STRING (SIZE (256)),
sixteen-one-TypeI-SinglePanel-Restriction BIT STRING (SIZE (64))
},
typeI-SinglePanel-codebookSubsetRestriction-i2 BIT STRING (SIZE (16)) OPTIONAL
-- Need R
}
},
typeI-SinglePanel-ri-Restriction BIT STRING (SIZE (8))
},
typeI-MultiPanel SEQUENCE {
ng-n1-n2 CHOICE {
two-two-one-TypeI-MultiPanel-Restriction BIT STRING (SIZE (8)),
two-four-one-TypeI-MultiPanel-Restriction BIT STRING (SIZE (16)),
four-two-one-TypeI-MultiPanel-Restriction BIT STRING (SIZE (8)),
two-two-two-TypeI-MultiPanel-Restriction BIT STRING (SIZE (64)),
two-eight-one-TypeI-MultiPanel-Restriction BIT STRING (SIZE (32)),
four-four-one-TypeI-MultiPanel-Restriction BIT STRING (SIZE (16)),
two-four-two-TypeI-MultiPanel-Restriction BIT STRING (SIZE (128)),
four-two-two-TypeI-MultiPanel-Restriction BIT STRING (SIZE (64))
},
ri-Restriction BIT STRING (SIZE (4))
}
},
codebookMode INTEGER (1..2)
},
type2 SEQUENCE {
subType CHOICE {
typeII SEQUENCE {
n1-n2-codebookSubsetRestriction CHOICE {
two-one BIT STRING (SIZE (16)),
two-two BIT STRING (SIZE (43)),
four-one BIT STRING (SIZE (32)),
three-two BIT STRING (SIZE (59)),
six-one BIT STRING (SIZE (48)),
four-two BIT STRING (SIZE (75)),
eight-one BIT STRING (SIZE (64)),
four-three BIT STRING (SIZE (107)),
six-two BIT STRING (SIZE (107)),
twelve-one BIT STRING (SIZE (96)),
four-four BIT STRING (SIZE (139)),
eight-two BIT STRING (SIZE (139)),
sixteen-one BIT STRING (SIZE (128))
},
typeII-RI-Restriction BIT STRING (SIZE (2))
},
typeII-PortSelection SEQUENCE {
portSelectionSamplingSize ENUMERATED {n1, n2, n3, n4} OPTIONAL, -- Need R
typeII-PortSelectionRI-Restriction BIT STRING (SIZE (2))
}
},
phaseAlphabetSize ENUMERATED {n4, n8},
subbandAmplitude BOOLEAN,
numberOfBeams ENUMERATED {two, three, four}
}
}
}
\-- TAG-CODEBOOKCONFIG-STOP
\-- ASN1STOP
+----------------------------------------------------------------------+ | _CodebookConfig_ field descriptions | +======================================================================+ | **_codebookMode_** | | | | CodebookMode as specified in TS 38.214 [19], clause 5.2.2.2.2. | +----------------------------------------------------------------------+ | **_codebookType_** | | | | CodebookType including possibly sub-types and the corresponding | | parameters for each (see TS 38.214 [19], clause 5.2.2.2). | +----------------------------------------------------------------------+ | **_n1-n2-codebookSubsetRestriction_** | | | | Number of antenna ports in first (_n1_) and second (_n2_) dimension | | and codebook subset restriction (see TS 38.214 [19] clause | | 5.2.2.2.3). | | | | Number of bits for codebook subset restriction is | | CEIL(log2(nchoosek(O1*O2,4)))+8*n1*n2 where nchoosek(a,b) = | | a!/(b!(a-b)!). | +----------------------------------------------------------------------+ | **_n1-n2_** | | | | Number of antenna ports in first (n1) and second (n2) dimension and | | codebook subset restriction (see TS 38.214 [19] clause 5.2.2.2.1). | +----------------------------------------------------------------------+ | **_ng-n1-n2_** | | | | Codebook subset restriction for Type I Multi-panel codebook (see TS | | 38.214 [19], clause 5.2.2.2.2). | +----------------------------------------------------------------------+ | **_numberOfBeams_** | | | | Number of beams, L, used for linear combination. | +----------------------------------------------------------------------+ | **_phaseAlphabetSize_** | | | | The size of the PSK alphabet, QPSK or 8-PSK. | +----------------------------------------------------------------------+ | **_portSelectionSamplingSize_** | | | | The size of the port selection codebook (parameter d). | +----------------------------------------------------------------------+ | **_ri-Restriction_** | | | | Restriction for RI for _TypeI-MultiPanel-RI-Restriction_ (see TS | | 38.214 [19], clause 5.2.2.2.2). | +----------------------------------------------------------------------+ | **_subbandAmplitude_** | | | | If subband amplitude reporting is activated (_true_). | +----------------------------------------------------------------------+ | **_twoTX-CodebookSubsetRestriction_** | | | | Codebook subset restriction for 2TX codebook (see TS 38.214 [19] | | clause 5.2.2.2.1). | +----------------------------------------------------------------------+ | **_typeI-SinglePanel-codebookSubsetRestriction-i2_** | | | | i2 codebook subset restriction for Type I Single-panel codebook used | | when _reportQuantity_ is CRI/Ri/i1/CQI (see TS 38.214 [19] clause | | 5.2.2.2.1). | +----------------------------------------------------------------------+ | **_typeI-SinglePanel-ri-Restriction_** | | | | Restriction for RI for _TypeI-SinglePanel-RI-Restriction_ (see TS | | 38.214 [19], clause 5.2.2.2.1). | +----------------------------------------------------------------------+ | **_typeII-PortSelectionRI-Restriction_** | | | | Restriction for RI for _TypeII-PortSelection-RI-Restriction_ (see TS | | 38.214 [19], clause 5.2.2.4). | +----------------------------------------------------------------------+ | **_typeII-RI-Restriction_** | | | | Restriction for RI for _TypeII-RI-Restriction_ (see TS 38.214 | | [19], clause 5.2.2.2.3). | +----------------------------------------------------------------------+
#### \-- _ConfiguredGrantConfig_
The IE _ConfiguredGrantConfig_ is used to configure uplink transmission
without dynamic grant according to two possible schemes. The actual uplink
grant may either be configured via RRC (_type1_) or provided via the PDCCH
(addressed to CS-RNTI) (_type2_).
_ConfiguredGrantConfig_ information element
\-- ASN1START
\-- TAG-CONFIGUREDGRANTCONFIG-START
ConfiguredGrantConfig ::= SEQUENCE {
frequencyHopping ENUMERATED {intraSlot, interSlot} OPTIONAL, -- Need S
cg-DMRS-Configuration DMRS-UplinkConfig,
mcs-Table ENUMERATED {qam256, qam64LowSE} OPTIONAL, -- Need S
mcs-TableTransformPrecoder ENUMERATED {qam256, qam64LowSE} OPTIONAL, -- Need S
uci-OnPUSCH SetupRelease { CG-UCI-OnPUSCH } OPTIONAL, -- Need M
resourceAllocation ENUMERATED { resourceAllocationType0,
resourceAllocationType1, dynamicSwitch },
rbg-Size ENUMERATED {config2} OPTIONAL, -- Need S
powerControlLoopToUse ENUMERATED {n0, n1},
p0-PUSCH-Alpha P0-PUSCH-AlphaSetId,
transformPrecoder ENUMERATED {enabled, disabled} OPTIONAL, -- Need S
nrofHARQ-Processes INTEGER(1..16),
repK ENUMERATED {n1, n2, n4, n8},
repK-RV ENUMERATED {s1-0231, s2-0303, s3-0000} OPTIONAL, -- Need R
periodicity ENUMERATED {
sym2, sym7, sym1x14, sym2x14, sym4x14, sym5x14, sym8x14, sym10x14, sym16x14,
sym20x14,
sym32x14, sym40x14, sym64x14, sym80x14, sym128x14, sym160x14, sym256x14,
sym320x14, sym512x14,
sym640x14, sym1024x14, sym1280x14, sym2560x14, sym5120x14,
sym6, sym1x12, sym2x12, sym4x12, sym5x12, sym8x12, sym10x12, sym16x12,
sym20x12, sym32x12,
sym40x12, sym64x12, sym80x12, sym128x12, sym160x12, sym256x12, sym320x12,
sym512x12, sym640x12,
sym1280x12, sym2560x12
},
configuredGrantTimer INTEGER (1..64) OPTIONAL, -- Need R
rrc-ConfiguredUplinkGrant SEQUENCE {
timeDomainOffset INTEGER (0..5119),
timeDomainAllocation INTEGER (0..15),
frequencyDomainAllocation BIT STRING (SIZE(18)),
antennaPort INTEGER (0..31),
dmrs-SeqInitialization INTEGER (0..1) OPTIONAL, -- Need R
precodingAndNumberOfLayers INTEGER (0..63),
srs-ResourceIndicator INTEGER (0..15) OPTIONAL, -- Need R
mcsAndTBS INTEGER (0..31),
frequencyHoppingOffset INTEGER (1.. maxNrofPhysicalResourceBlocks-1) OPTIONAL,
-- Need R
pathlossReferenceIndex INTEGER (0..maxNrofPUSCH-PathlossReferenceRSs-1),
...
} OPTIONAL, -- Need R
...
}
CG-UCI-OnPUSCH ::= CHOICE {
dynamic SEQUENCE (SIZE (1..4)) OF BetaOffsets,
semiStatic BetaOffsets
}
\-- TAG-CONFIGUREDGRANTCONFIG-STOP
\-- ASN1STOP
+----------------------------------------------------------------------+ | _ConfiguredGrantConfig_ field descriptions | +======================================================================+ | **_antennaPort_** | | | | Indicates the antenna port(s) to be used for this configuration, and | | the maximum bitwidth is 5. See TS 38.214 [19], clause 6.1.2, and | | TS 38.212 [17], clause 7.3.1. | +----------------------------------------------------------------------+ | **_cg-DMRS-Configuration_** | | | | DMRS configuration (see TS 38.214 [19], clause 6.1.2.3). | +----------------------------------------------------------------------+ | **_configuredGrantTimer_** | | | | Indicates the initial value of the configured grant timer (see TS | | 38.321 [3]) in multiples of periodicity. | +----------------------------------------------------------------------+ | **_dmrs-SeqInitialization_** | | | | The network configures this field if _transformPrecoder_ is | | disabled. Otherwise the field is absent. | +----------------------------------------------------------------------+ | **_frequencyDomainAllocation_** | | | | Indicates the frequency domain resource allocation, see TS 38.214 | | [19], clause 6.1.2, and TS 38.212 [17], clause 7.3.1). | +----------------------------------------------------------------------+ | **_frequencyHopping_** | | | | The value _intraSlot_ enables \'Intra-slot frequency hopping\' and | | the value _interSlot_ enables \'Inter-slot frequency hopping\'. If | | the field is absent, frequency hopping is not configured. | +----------------------------------------------------------------------+ | **_frequencyHoppingOffset_** | | | | Frequency hopping offset used when frequency hopping is enabled (see | | TS 38.214 [19], clause 6.1.2 and clause 6.3). | +----------------------------------------------------------------------+ | **_mcs-Table_** | | | | Indicates the MCS table the UE shall use for PUSCH without transform | | precoding. If the field is absent the UE applies the value _qam64_. | +----------------------------------------------------------------------+ | **_mcs-TableTransformPrecoder_** | | | | Indicates the MCS table the UE shall use for PUSCH with transform | | precoding. If the field is absent the UE applies the value _qam64_. | +----------------------------------------------------------------------+ | **_mcsAndTBS_** | | | | The modulation order, target code rate and TB size (see TS 38.214 | | [19], clause 6.1.2). The NW does not configure the values 28\~31 | | in this version of the specification. | +----------------------------------------------------------------------+ | **_nrofHARQ-Processes_** | | | | The number of HARQ processes configured. It applies for both Type 1 | | and Type 2. See TS 38.321 [3], clause 5.4.1. | +----------------------------------------------------------------------+ | **_p0-PUSCH-Alpha_** | | | | Index of the _P0-PUSCH-AlphaSet_ to be used for this configuration. | +----------------------------------------------------------------------+ | **_pathlossReferenceIndex_** | | | | Indicates the reference signal index used as PUSCH pathloss | | reference (see TS 38.213 [13], clause 7.1.1). | +----------------------------------------------------------------------+ | **_periodicity_** | | | | Periodicity for UL transmission without UL grant for type 1 and type | | 2 (see TS 38.321 [3], clause 5.8.2). | | | | The following periodicities are supported depending on the | | configured subcarrier spacing [symbols]: | | | | 15 kHz: 2, 7, n*14, where n={1, 2, 4, 5, 8, 10, 16, 20, 32, 40, 64, | | 80, 128, 160, 320, 640} | | | | 30 kHz: 2, 7, n*14, where n={1, 2, 4, 5, 8, 10, 16, 20, 32, 40, 64, | | 80, 128, 160, 256, 320, 640, 1280} | | | | 60 kHz with normal CP 2, 7, n*14, where n={1, 2, 4, 5, 8, 10, 16, | | 20, 32, 40, 64, 80, 128, 160, 256, 320, 512, 640, 1280, 2560} | | | | 60 kHz with ECP: 2, 6, n*12, where n={1, 2, 4, 5, 8, 10, 16, 20, | | 32, 40, 64, 80, 128, 160, 256, 320, 512, 640, 1280, 2560} | | | | 120 kHz: 2, 7, n*14, where n={1, 2, 4, 5, 8, 10, 16, 20, 32, 40, | | 64, 80, 128, 160, 256, 320, 512, 640, 1024, 1280, 2560, 5120} | +----------------------------------------------------------------------+ | **_powerControlLoopToUse_** | | | | Closed control loop to apply (see TS 38.213 [13], clause 7.1.1). | +----------------------------------------------------------------------+ | **_precodingAndNumberOfLayers_** | | | | Indicates the precoding and number of layers (see TS 38.212 [17], | | clause 7.3.1.1.2, and TS 38.214 [19], clause 6.1.2.3). | +----------------------------------------------------------------------+ | **_rbg-Size_** | | | | Selection between configuration 1 and configuration 2 for RBG size | | for PUSCH. The UE does not apply this field if _resourceAllocation_ | | is set to _resourceAllocationType1_. Otherwise, the UE applies the | | value _config1_ when the field is absent. Note: _rbg-Size_ is used | | when the _transformPrecoder_ parameter is disabled. | +----------------------------------------------------------------------+ | **_repK-RV_** | | | | The redundancy version (RV) sequence to use. See TS 38.214 [19], | | clause 6.1.2. The network configures this field if repetitions are | | used, i.e., if _repK_ is set to _n2_ , _n4_ or _n8_. Otherwise, the | | field is absent. | +----------------------------------------------------------------------+ | **_repK_** | | | | Number of repetitions K, see TS 38.214 [19]. | +----------------------------------------------------------------------+ | **_resourceAllocation_** | | | | Configuration of resource allocation type 0 and resource allocation | | type 1. For Type 1 UL data transmission without grant, | | _resourceAllocation_ should be _resourceAllocationType0_ or | | _resourceAllocationType1_. | +----------------------------------------------------------------------+ | **_rrc-ConfiguredUplinkGrant_** | | | | Configuration for \"configured grant\" transmission with fully | | RRC-configured UL grant (Type1). If this field is absent the UE uses | | UL grant configured by DCI addressed to CS-RNTI (Type2). Type 1 | | configured grant may be configured for UL or SUL, but not for both | | simultaneously. | +----------------------------------------------------------------------+ | **_srs-ResourceIndicator_** | | | | Indicates the SRS resource to be used. | +----------------------------------------------------------------------+ | **_timeDomainAllocation_** | | | | Indicates a combination of start symbol and length and PUSCH mapping | | type, see TS 38.214 [19], clause 6.1.2 and TS 38.212 [17], | | clause 7.3.1. | +----------------------------------------------------------------------+ | **_timeDomainOffset_** | | | | Offset related to SFN=0, see TS 38.321 [3], clause 5.8.2. | +----------------------------------------------------------------------+ | **_transformPrecoder_** | | | | Enables or disables transform precoding for _type1_ and _type2_. If | | the field is absent, the UE enables or disables transform precoding | | in accordance with the field _msg3-transformPrecoder_ in | | _RACH-ConfigCommon_ , see TS 38.214 [19], clause 6.1.3. | +----------------------------------------------------------------------+ | **_uci-OnPUSCH_** | | | | Selection between and configuration of dynamic and semi-static | | beta-offset. For Type 1 UL data transmission without grant, | | _uci-OnPUSCH_ should be set to _semiStatic._ | +----------------------------------------------------------------------+
#### \-- _ConnEstFailureControl_
The IE _ConnEstFailureControl_ is used to configure parameters for connection
establishment failure control.
_ConnEstFailureControl_ information element
\-- ASN1START
\-- TAG-CONNESTFAILURECONTROL-START
ConnEstFailureControl ::= SEQUENCE {
connEstFailCount ENUMERATED {n1, n2, n3, n4},
connEstFailOffsetValidity ENUMERATED {s30, s60, s120, s240, s300, s420, s600,
s900},
connEstFailOffset INTEGER (0..15) OPTIONAL -- Need S
}
\-- TAG-CONNESTFAILURECONTROL-STOP
\-- ASN1STOP
+----------------------------------------------------------------------+ | _ConnEstFailureControl_ field descriptions | +======================================================================+ | **_connEstFailCount_** | | | | Number of times that the UE detects T300 expiry on the same cell | | before applying _connEstFailOffset_. | +----------------------------------------------------------------------+ | **_connEstFailOffset_** | | | | Parameter \"**Qoffset~temp~** \" in TS 38.304 [20]. If the field is | | absent, the value of infinity shall be used for | | \"**Qoffset~temp~** \". | +----------------------------------------------------------------------+ | **_connEstFailOffsetValidity_** | | | | Amount of time that the UE applies _connEstFailOffset_ before | | removing the offset from evaluation of the cell. Value _s30_ | | corresponds to 30 seconds, value _s60_ corresponds to 60 seconds, | | and so on. | +----------------------------------------------------------------------+
#### \-- _ControlResourceSet_
The IE _ControlResourceSet_ is used to configure a time/frequency control
resource set (CORESET) in which to search for downlink control information
(see TS 38.213 [13], clause 10.1).
_ControlResourceSet_ information element
\-- ASN1START
\-- TAG-CONTROLRESOURCESET-START
ControlResourceSet ::= SEQUENCE {
controlResourceSetId ControlResourceSetId,
frequencyDomainResources BIT STRING (SIZE (45)),
duration INTEGER (1..maxCoReSetDuration),
cce-REG-MappingType CHOICE {
interleaved SEQUENCE {
reg-BundleSize ENUMERATED {n2, n3, n6},
interleaverSize ENUMERATED {n2, n3, n6},
shiftIndex INTEGER(0..maxNrofPhysicalResourceBlocks-1) OPTIONAL -- Need S
},
nonInterleaved NULL
},
precoderGranularity ENUMERATED {sameAsREG-bundle, allContiguousRBs},
tci-StatesPDCCH-ToAddList SEQUENCE(SIZE (1..maxNrofTCI-StatesPDCCH)) OF TCI-
StateId OPTIONAL, -- Cond NotSIB1-initialBWP
tci-StatesPDCCH-ToReleaseList SEQUENCE(SIZE (1..maxNrofTCI-StatesPDCCH)) OF
TCI-StateId OPTIONAL, -- Cond NotSIB1-initialBWP
tci-PresentInDCI ENUMERATED {enabled} OPTIONAL, -- Need S
pdcch-DMRS-ScramblingID INTEGER (0..65535) OPTIONAL, -- Need S
...
}
\-- TAG-CONTROLRESOURCESET-STOP
\-- ASN1STOP
+----------------------------------------------------------------------+ | _ControlResourceSet_ field descriptions | +======================================================================+ | **_cce-REG-MappingType_** | | | | Mapping of Control Channel Elements (CCE) to Resource Element Groups | | (REG) (see TS 38.211 [16], clauses 7.3.2.2 and 7.4.1.3.2). | +----------------------------------------------------------------------+ | **_controlResourceSetId_** | | | | Value 0 identifies the common CORESET configured in _MIB_ and in | | _ServingCellConfigCommon_ (_controlResourceSetZero_) and is hence | | not used here in the _ControlResourceSet_ IE. Values | | 1.._maxNrofControlResourceSets-1_ identify CORESETs configured by | | dedicated signalling or in _SIB1_. The _controlResourceSetId_ is | | unique among the BWPs of a serving cell. | +----------------------------------------------------------------------+ | **_duration_** | | | | Contiguous time duration of the CORESET in number of symbols (see TS | | 38.211 [16], clause 7.3.2.2). | +----------------------------------------------------------------------+ | **_frequencyDomainResources_** | | | | Frequency domain resources for the CORESET. Each bit corresponds a | | group of 6 RBs, with grouping starting from the first RB group (see | | TS 38.213 [13], clause 10.1) in the BWP. The first (left-most / | | most significant) bit corresponds to the first RB group in the BWP, | | and so on. A bit that is set to 1 indicates that this RB group | | belongs to the frequency domain resource of this CORESET. Bits | | corresponding to a group of RBs not fully contained in the bandwidth | | part within which the CORESET is configured are set to zero (see TS | | 38.211 [16], clause 7.3.2.2). | +----------------------------------------------------------------------+ | **_interleaverSize_** | | | | Interleaver-size (see TS 38.211 [16], clause 7.3.2.2). | +----------------------------------------------------------------------+ | **_pdcch-DMRS-ScramblingID_** | | | | PDCCH DMRS scrambling initialization (see TS 38.211 [16], clause | | 7.4.1.3.1). When the field is absent the UE applies the value of the | | _physCellId_ configured for this serving cell. | +----------------------------------------------------------------------+ | **_precoderGranularity_** | | | | Precoder granularity in frequency domain (see TS 38.211 [16], | | clauses 7.3.2.2 and 7.4.1.3.2). | +----------------------------------------------------------------------+ | **_reg-BundleSize_** | | | | Resource Element Groups (REGs) can be bundled to create REG bundles. | | This parameter defines the size of such bundles (see TS 38.211 | | [16], clause 7.3.2.2). | +----------------------------------------------------------------------+ | **_shiftIndex_** | | | | When the field is absent the UE applies the value of the | | _physCellId_ configured for this serving cell (see TS 38.211 [16], | | clause 7.3.2.2). | +----------------------------------------------------------------------+ | **_tci-PresentInDCI_** | | | | This field indicates if TCI field is present or absent in DL-related | | DCI. When the field is absent the UE considers the TCI to be | | absent/disabled. In case of cross carrier scheduling, the network | | sets this field to enabled for the _ControlResourceSet_ used for | | cross carrier scheduling in the scheduling cell (see TS 38.214 | | [19], clause 5.1.5). | +----------------------------------------------------------------------+ | **_tci-StatesPDCCH-ToAddList_** | | | | A subset of the TCI states defined in pdsch-Config included in the | | _BWP-DownlinkDedicated_ corresponding to the serving cell and to the | | DL BWP to which the _ControlResourceSet_ belong to. They are used | | for providing QCL relationships between the DL RS(s) in one RS Set | | (TCI-State) and the PDCCH DMRS ports (see TS 38.213 [13], clause | | 6.). The network configures at most _maxNrofTCI-StatesPDCCH_ | | entries. | +----------------------------------------------------------------------+
Conditional Presence Explanation
* * *
_NotSIB1-initialBWP_ The field is absent in _SIB1_ and in the _PDCCH-
ConfigCommon_ of the initial BWP in _ServingCellConfigCommon_ , if _SIB1_ is
broadcasted. Otherwise, it is optionally present, Need N.
#### \-- _ControlResourceSetId_
The _ControlResourceSetId_ IE concerns a short identity, used to identify a
control resource set within a serving cell. The _ControlResourceSetId_ = 0
identifies the ControlResourceSet#0 configured via PBCH (_MIB_) and in
_controlResourceSetZero_ (_ServingCellConfigCommon_). The ID space is used
across the BWPs of a Serving Cell.
_ControlResourceSetId_ information element
\-- ASN1START
\-- TAG-CONTROLRESOURCESETID-START
ControlResourceSetId ::= INTEGER (0..maxNrofControlResourceSets-1)
\-- TAG-CONTROLRESOURCESETID-STOP
\-- ASN1STOP
#### \-- _ControlResourceSetZero_
The IE _ControlResourceSetZero_ is used to configure CORESET#0 of the initial
BWP (see TS 38.213 [13], clause 13).
_ControlResourceSetZero_ information element
\-- ASN1START
\-- TAG-CONTROLRESOURCESETZERO-START
ControlResourceSetZero ::= INTEGER (0..15)
\-- TAG-CONTROLRESOURCESETZERO-STOP
\-- ASN1STOP
#### \-- _CrossCarrierSchedulingConfig_
The IE _CrossCarrierSchedulingConfig_ is used to specify the configuration
when the cross-carrier scheduling is used in a cell.
**_CrossCarrierSchedulingConfig information element_**
\-- ASN1START
\-- TAG-CrossCarrierSchedulingConfig-START
CrossCarrierSchedulingConfig ::= SEQUENCE {
schedulingCellInfo CHOICE {
own SEQUENCE { -- Cross carrier scheduling: scheduling cell
cif-Presence BOOLEAN
},
other SEQUENCE { -- Cross carrier scheduling: scheduled cell
schedulingCellId ServCellIndex,
cif-InSchedulingCell INTEGER (1..7)
}
},
...
}
\-- TAG-CrossCarrierSchedulingConfig-STOP
\-- ASN1STOP
+----------------------------------------------------------------------+ | _CrossCarrierSchedulingConfig field descriptions_ | +======================================================================+ | **_cif-Presence_** | | | | The field is used to indicate whether carrier indicator field is | | present (value _true_) or not (value _false_) in PDCCH DCI formats, | | see TS 38.213 [13]. If _cif-Presence_ is set to _true_ , the CIF | | value indicating a grant or assignment for this cell is 0. | +----------------------------------------------------------------------+ | **_cif-InSchedulingCell_** | | | | The field indicates the CIF value used in the scheduling cell to | | indicate a grant or assignment applicable for this cell, see TS | | 38.213 [13]. | +----------------------------------------------------------------------+ | **_other_** | | | | Parameters for cross-carrier scheduling, i.e., a serving cell is | | scheduled by a PDCCH on another (scheduling) cell. The network | | configures this field only for SCells. | +----------------------------------------------------------------------+ | **_own_** | | | | Parameters for self-scheduling, i.e., a serving cell is scheduled by | | its own PDCCH. | +----------------------------------------------------------------------+ | **_schedulingCellId_** | | | | Indicates which cell signals the downlink allocations and uplink | | grants, if applicable, for the concerned SCell. In case the UE is | | configured with DC, the scheduling cell is part of the same cell | | group (i.e. MCG or SCG) as the scheduled cell. In case the UE is | | configured with two PUCCH groups, the scheduling cell and the | | scheduled cell are within the same PUCCH group. | +----------------------------------------------------------------------+
#### \-- _CSI-AperiodicTriggerStateList_
The _CSI-AperiodicTriggerStateList_ IE is used to configure the UE with a list
of aperiodic trigger states. Each codepoint of the DCI field \"CSI request\"
is associated with one trigger state (see TS 38.321 [3], clause 6.1.3.13).
Upon reception of the value associated with a trigger state, the UE will
perform measurement of CSI-RS, CSI-IM and/or SSB (reference signals) and
aperiodic reporting on L1 according to all entries in the
_associatedReportConfigInfoList_ for that trigger state.
_CSI-AperiodicTriggerStateList_ information element
\-- ASN1START
\-- TAG-CSI-APERIODICTRIGGERSTATELIST-START
CSI-AperiodicTriggerStateList ::= SEQUENCE (SIZE (1..maxNrOfCSI-
AperiodicTriggers)) OF CSI-AperiodicTriggerState
CSI-AperiodicTriggerState ::= SEQUENCE {
associatedReportConfigInfoList SEQUENCE
(SIZE(1..maxNrofReportConfigPerAperiodicTrigger)) OF CSI-
AssociatedReportConfigInfo,
...
}
CSI-AssociatedReportConfigInfo ::= SEQUENCE {
reportConfigId CSI-ReportConfigId,
resourcesForChannel CHOICE {
nzp-CSI-RS SEQUENCE {
resourceSet INTEGER (1..maxNrofNZP-CSI-RS-ResourceSetsPerConfig),
qcl-info SEQUENCE (SIZE(1..maxNrofAP-CSI-RS-ResourcesPerSet)) OF TCI-StateId
OPTIONAL -- Cond Aperiodic
},
csi-SSB-ResourceSet INTEGER (1..maxNrofCSI-SSB-ResourceSetsPerConfig)
},
csi-IM-ResourcesForInterference INTEGER(1..maxNrofCSI-IM-
ResourceSetsPerConfig)
OPTIONAL, -- Cond CSI-IM-ForInterference
nzp-CSI-RS-ResourcesForInterference INTEGER (1..maxNrofNZP-CSI-RS-
ResourceSetsPerConfig)
OPTIONAL, -- Cond NZP-CSI-RS-ForInterference
...
}
\-- TAG-CSI-APERIODICTRIGGERSTATELIST-STOP
\-- ASN1STOP
+----------------------------------------------------------------------+ | _CSI-AssociatedReportConfigInfo_ field descriptions | +======================================================================+ | **_csi-IM-ResourcesForInterference_** | | | | _CSI-IM-ResourceSet_ for interference measurement. Entry number in | | csi-IM-ResourceSetList in the CSI-ResourceConfig indicated by | | _csi-IM-ResourcesForInterference_ in the _CSI-ReportConfig_ | | indicated by _reportConfigId_ above (value 1 corresponds to the | | first entry, value 2 to the second entry, and so on). The indicated | | _CSI-IM-ResourceSet_ should have exactly the same number of | | resources like the _NZP-CSI-RS-ResourceSet_ indicated in | | _resourceSet_ within _nzp-CSI-RS_. | +----------------------------------------------------------------------+ | **_csi-SSB-ResourceSet_** | | | | CSI-SSB-ResourceSet for channel measurements. Entry number in | | _csi-SSB-ResourceSetList_ in the _CSI-ResourceConfig_ indicated by | | _resourcesForChannelMeasurement_ in the _CSI-ReportConfig_ indicated | | by _reportConfigId_ above (value 1 corresponds to the first entry, | | value 2 to the second entry, and so on). | +----------------------------------------------------------------------+ | **_nzp-CSI-RS-ResourcesForInterference_** | | | | _NZP-CSI-RS-ResourceSet_ for interference measurement. Entry number | | in _nzp-CSI-RS-ResourceSetList_ in the _CSI-ResourceConfig_ | | indicated by _nzp-CSI-RS-ResourcesForInterference_ in the | | _CSI-ReportConfig_ indicated by _reportConfigId_ above (value 1 | | corresponds to the first entry, value 2 to the second entry, and so | | on). | +----------------------------------------------------------------------+ | **_qcl-info_** | | | | List of references to TCI-States for providing the QCL source and | | QCL type for each _NZP-CSI-RS-Resource_ listed in | | _nzp-CSI-RS-Resources_ of the _NZP-CSI-RS-ResourceSet_ indicated by | | _resourceSet_ within _nzp-CSI-RS_. Each _TCI-StateId_ refers to the | | _TCI-State_ which has this value for _tci-StateId_ and is defined in | | _tci-StatesToAddModList_ in the _PDSCH-Config_ included in the | | _BWP-Downlink_ corresponding to the serving cell and to the DL BWP | | to which the _resourcesForChannelMeasuremen_ t (in the | | _CSI-ReportConfig_ indicated by _reportConfigId_ above) belong to. | | First entry in _qcl-info_ corresponds to first entry in | | _nzp-CSI-RS-Resources_ of that _NZP-CSI-RS-ResourceSet_ , second | | entry in _qcl-info_ corresponds to second entry in | | _nzp-CSI-RS-Resources_ , and so on (see TS 38.214 [19], clause | | 5.2.1.5.1) | +----------------------------------------------------------------------+ | **_reportConfigId_** | | | | The _reportConfigId_ of one of the _CSI-ReportConfigToAddMod_ | | configured in _CSI-MeasConfig_ | +----------------------------------------------------------------------+ | **_resourceSet_** | | | | _NZP-CSI-RS-ResourceSet_ for channel measurements. Entry number in | | _nzp-CSI-RS-ResourceSetList_ in the _CSI-ResourceConfig_ indicated | | by _resourcesForChannelMeasurement_ in the _CSI-ReportConfig_ | | indicated by r _eportConfigId_ above (value 1 corresponds to the | | first entry, value 2 to thesecond entry, and so on). | +----------------------------------------------------------------------+
Conditional Presence Explanation
* * *
_Aperiodic_ The field is mandatory present if the _NZP-CSI-RS-Resources_ in
the associated _resourceSet_ have the resourceType aperiodic. The field is
absent otherwise. _CSI-IM-ForInterference_ This field is mandatory present if
the _CSI-ReportConfig_ identified by _reportConfigId_ is configured with _csi-
IM-ResourcesForInterference_ ; otherwise it is absent. _NZP-CSI-RS-
ForInterference_ This field is mandatory present if the _CSI-ReportConfig_
identified by _reportConfigId_ is configured with _nzp-CSI-RS-
ResourcesForInterference_ ; otherwise it is absent.
#### \-- _CSI-FrequencyOccupation_
The IE _CSI-FrequencyOccupation_ is used to configure the frequency domain
occupation of a channel state information measurement resource (e.g. _NZP-CSI-
RS-Resource_ , _CSI-IM-Resource_).
_CSI-FrequencyOccupation_ information element
\-- ASN1START
\-- TAG-CSI-FREQUENCYOCCUPATION-START
CSI-FrequencyOccupation ::= SEQUENCE {
startingRB INTEGER (0..maxNrofPhysicalResourceBlocks-1),
nrofRBs INTEGER (24..maxNrofPhysicalResourceBlocksPlus1),
...
}
\-- TAG-CSI-FREQUENCYOCCUPATION-STOP
\-- ASN1STOP
+----------------------------------------------------------------------+ | _CSI-FrequencyOccupation_ field descriptions | +======================================================================+ | **_nrofRBs_** | | | | Number of PRBs across which this CSI resource spans. Only multiples | | of 4 are allowed. The smallest configurable number is the minimum of | | 24 and the width of the associated BWP. If the configured value is | | larger than the width of the corresponding BWP, the UE shall assume | | that the actual CSI-RS bandwidth is equal to the width of the BWP. | +----------------------------------------------------------------------+ | **_startingRB_** | | | | PRB where this CSI resource starts in relation to common resource | | block #0 (CRB#0) on the common resource block grid. Only multiples | | of 4 are allowed (0, 4, ...) | +----------------------------------------------------------------------+
#### \-- _CSI-IM-Resource_
The IE _CSI-IM-Resource_ is used to configure one CSI Interference Management
(IM) resource.
_CSI-IM-Resource_ information element
\-- ASN1START
\-- TAG-CSI-IM-RESOURCE-START
CSI-IM-Resource ::= SEQUENCE {
csi-IM-ResourceId CSI-IM-ResourceId,
csi-IM-ResourceElementPattern CHOICE {
pattern0 SEQUENCE {
subcarrierLocation-p0 ENUMERATED { s0, s2, s4, s6, s8, s10 },
symbolLocation-p0 INTEGER (0..12)
},
pattern1 SEQUENCE {
subcarrierLocation-p1 ENUMERATED { s0, s4, s8 },
symbolLocation-p1 INTEGER (0..13)
}
} OPTIONAL, -- Need M
freqBand CSI-FrequencyOccupation OPTIONAL, -- Need M
periodicityAndOffset CSI-ResourcePeriodicityAndOffset OPTIONAL, -- Cond
PeriodicOrSemiPersistent
...
}
\-- TAG-CSI-IM-RESOURCE-STOP
\-- ASN1STOP
+----------------------------------------------------------------------+ | _CSI-IM-Resource_ field descriptions | +======================================================================+ | **_csi-IM-ResourceElementPattern_** | | | | The resource element pattern (Pattern0 (2,2) or Pattern1 (4,1)) with | | corresponding parameters (see TS 38.214 [19], clause 5.2.2.4) | +----------------------------------------------------------------------+ | **_freqBand_** | | | | Frequency-occupancy of CSI-IM (see TS 38.214 [19], clause 5.2.2.4) | +----------------------------------------------------------------------+ | **_periodicityAndOffset_** | | | | Periodicity and slot offset for periodic/semi-persistent CSI-IM. | | Network always configures the UE with a value for this field for | | periodic and semi-persistent CSI-IM-Resources (as indicated in | | CSI-ResourceConfig). A change of configuration between periodic or | | semi-persistent and aperiodic for a CSI-IM-Resource is not supported | | without a release and add. | +----------------------------------------------------------------------+ | **_subcarrierLocation-p0_** | | | | OFDM subcarrier occupancy of the CSI-IM resource for Pattern0 (see | | TS 38.214 [19], clause 5.2.2.4) | +----------------------------------------------------------------------+ | **_subcarrierLocation-p1_** | | | | OFDM subcarrier occupancy of the CSI-IM resource for Pattern1 (see | | TS 38.214 [19], clause 5.2.2.4) | +----------------------------------------------------------------------+ | **_symbolLocation-p0_** | | | | OFDM symbol location of the CSI-IM resource for Pattern0 (see TS | | 38.214 [19], clause 5.2.2.4) | +----------------------------------------------------------------------+ | **_symbolLocation-p1_** | | | | OFDM symbol location of the CSI-IM resource for Pattern1 (see TS | | 38.214 [19], clause 5.2.2.4) | +----------------------------------------------------------------------+
Conditional Presence Explanation
* * *
_PeriodicOrSemiPersistent_ The field is optionally present, Need M, for
periodic and semi-persistent CSI-IM-Resources (as indicated in CSI-
ResourceConfig). The field is absent otherwise.
#### \-- _CSI-IM-ResourceId_
The IE _CSI-IM-ResourceId_ is used to identify one _CSI-IM-Resource_.
_CSI-IM-ResourceId_ information element
\-- ASN1START
\-- TAG-CSI-IM-RESOURCEID-START
CSI-IM-ResourceId ::= INTEGER (0..maxNrofCSI-IM-Resources-1)
\-- TAG-CSI-IM-RESOURCEID-STOP
\-- ASN1STOP
#### \-- _CSI-IM-ResourceSet_
The IE _CSI-IM-ResourceSet_ is used to configure a set of one or more CSI
Interference Management (IM) resources (their IDs) and set-specific
parameters.
_CSI-IM-ResourceSet_ information element
\-- ASN1START
\-- TAG-CSI-IM-RESOURCESET-START
CSI-IM-ResourceSet ::= SEQUENCE {
csi-IM-ResourceSetId CSI-IM-ResourceSetId,
csi-IM-Resources SEQUENCE (SIZE(1..maxNrofCSI-IM-ResourcesPerSet)) OF CSI-IM-
ResourceId,
...
}
\-- TAG-CSI-IM-RESOURCESET-STOP
\-- ASN1STOP
+----------------------------------------------------------------------+ | _CSI-IM-ResourceSet_ field descriptions | +======================================================================+ | **_csi-IM-Resources_** | | | | _CSI-IM-Resources_ associated with this _CSI-IM-ResourceSet_ (see TS | | 38.214 [19], clause 5.2). | +----------------------------------------------------------------------+
#### \-- _CSI-IM-ResourceSetId_
The IE _CSI-IM-ResourceSetId_ is used to identify _CSI-IM-ResourceSet_ s.
_CSI-IM-ResourceSetId_ information element
\-- ASN1START
\-- TAG-CSI-IM-RESOURCESETID-START
CSI-IM-ResourceSetId ::= INTEGER (0..maxNrofCSI-IM-ResourceSets-1)
\-- TAG-CSI-IM-RESOURCESETID-STOP
\-- ASN1STOP
#### \-- _CSI-MeasConfig_
The IE _CSI-MeasConfig_ is used to configure CSI-RS (reference signals)
belonging to the serving cell in which _CSI-MeasConfig_ is included, channel
state information reports to be transmitted on PUCCH on the serving cell in
which _CSI-MeasConfig_ is included and channel state information reports on
PUSCH triggered by DCI received on the serving cell in which _CSI-MeasConfig_
is included. See also TS 38.214 [19], clause 5.2.
**_CSI-MeasConfig_** information element
\-- ASN1START
\-- TAG-CSI-MEASCONFIG-START
CSI-MeasConfig ::= SEQUENCE {
nzp-CSI-RS-ResourceToAddModList SEQUENCE (SIZE (1..maxNrofNZP-CSI-RS-
Resources)) OF NZP-CSI-RS-Resource OPTIONAL, -- Need N
nzp-CSI-RS-ResourceToReleaseList SEQUENCE (SIZE (1..maxNrofNZP-CSI-RS-
Resources)) OF NZP-CSI-RS-ResourceId OPTIONAL, -- Need N
nzp-CSI-RS-ResourceSetToAddModList SEQUENCE (SIZE (1..maxNrofNZP-CSI-RS-
ResourceSets)) OF NZP-CSI-RS-ResourceSet
OPTIONAL, -- Need N
nzp-CSI-RS-ResourceSetToReleaseList SEQUENCE (SIZE (1..maxNrofNZP-CSI-RS-
ResourceSets)) OF NZP-CSI-RS-ResourceSetId
OPTIONAL, -- Need N
csi-IM-ResourceToAddModList SEQUENCE (SIZE (1..maxNrofCSI-IM-Resources)) OF
CSI-IM-Resource OPTIONAL, -- Need N
csi-IM-ResourceToReleaseList SEQUENCE (SIZE (1..maxNrofCSI-IM-Resources)) OF
CSI-IM-ResourceId OPTIONAL, -- Need N
csi-IM-ResourceSetToAddModList SEQUENCE (SIZE (1..maxNrofCSI-IM-ResourceSets))
OF CSI-IM-ResourceSet OPTIONAL, -- Need N
csi-IM-ResourceSetToReleaseList SEQUENCE (SIZE (1..maxNrofCSI-IM-
ResourceSets)) OF CSI-IM-ResourceSetId OPTIONAL, -- Need N
csi-SSB-ResourceSetToAddModList SEQUENCE (SIZE (1..maxNrofCSI-SSB-
ResourceSets)) OF CSI-SSB-ResourceSet OPTIONAL, -- Need N
csi-SSB-ResourceSetToReleaseList SEQUENCE (SIZE (1..maxNrofCSI-SSB-
ResourceSets)) OF CSI-SSB-ResourceSetId OPTIONAL, -- Need N
csi-ResourceConfigToAddModList SEQUENCE (SIZE (1..maxNrofCSI-
ResourceConfigurations)) OF CSI-ResourceConfig
OPTIONAL, -- Need N
csi-ResourceConfigToReleaseList SEQUENCE (SIZE (1..maxNrofCSI-
ResourceConfigurations)) OF CSI-ResourceConfigId
OPTIONAL, -- Need N
csi-ReportConfigToAddModList SEQUENCE (SIZE (1..maxNrofCSI-
ReportConfigurations)) OF CSI-ReportConfig OPTIONAL, -- Need N
csi-ReportConfigToReleaseList SEQUENCE (SIZE (1..maxNrofCSI-
ReportConfigurations)) OF CSI-ReportConfigId
OPTIONAL, -- Need N
reportTriggerSize INTEGER (0..6) OPTIONAL, -- Need M
aperiodicTriggerStateList SetupRelease { CSI-AperiodicTriggerStateList }
OPTIONAL, -- Need M
semiPersistentOnPUSCH-TriggerStateList SetupRelease { CSI-
SemiPersistentOnPUSCH-TriggerStateList } OPTIONAL, -- Need M
...
}
\-- TAG-CSI-MEASCONFIG-STOP
\-- ASN1STOP
+----------------------------------------------------------------------+ | _CSI-MeasConfig_ field descriptions | +======================================================================+ | **_aperiodicTriggerStateList_** | | | | Contains trigger states for dynamically selecting one or more | | aperiodic and semi-persistent reporting configurations and/or | | triggering one or more aperiodic CSI-RS resource sets for channel | | and/or interference measurement. | +----------------------------------------------------------------------+ | **_csi-IM-ResourceSetToAddModList_** | | | | Pool of _CSI-IM-ResourceSet_ which can be referred to from | | _CSI-ResourceConfig_ or from MAC CEs. | +----------------------------------------------------------------------+ | **_csi-IM-ResourceToAddModList_** | | | | Pool of _CSI-IM-Resource_ which can be referred to from | | _CSI-IM-ResourceSet_. | +----------------------------------------------------------------------+ | **_csi-ReportConfigToAddModList_** | | | | Configured CSI report settings as specified in TS 38.214 [19] | | clause 5.2.1.1. | +----------------------------------------------------------------------+ | **_csi-ResourceConfigToAddModList_** | | | | Configured CSI resource settings as specified in TS 38.214 [19] | | clause 5.2.1.2. | +----------------------------------------------------------------------+ | **_csi-SSB-ResourceSetToAddModList_** | | | | Pool of CSI-SSB-ResourceSet which can be referred to from | | _CSI-ResourceConfig_. | +----------------------------------------------------------------------+ | **_nzp-CSI-RS-ResourceSetToAddModList_** | | | | Pool of _NZP-CSI-RS-ResourceSet_ which can be referred to from | | _CSI-ResourceConfig_ or from MAC CEs. | +----------------------------------------------------------------------+ | **_nzp-CSI-RS-ResourceToAddModList_** | | | | Pool of _NZP-CSI-RS-Resource_ which can be referred to from | | _NZP-CSI-RS-ResourceSet_. | +----------------------------------------------------------------------+ | **_reportTriggerSize_** | | | | Size of CSI request field in DCI (bits) (see TS 38.214 [19], | | clause 5.2.1.5.1). | +----------------------------------------------------------------------+
#### \-- _CSI-ReportConfig_
The IE _CSI-ReportConfig_ is used to configure a periodic or semi-persistent
report sent on PUCCH on the cell in which the _CSI-ReportConfig_ is included,
or to configure a semi-persistent or aperiodic report sent on PUSCH triggered
by DCI received on the cell in which the _CSI-ReportConfig_ is included (in
this case, the cell on which the report is sent is determined by the received
DCI). See TS 38.214 [19], clause 5.2.1.
_CSI-ReportConfig_ information element
\-- ASN1START
\-- TAG-CSI-REPORTCONFIG-START
CSI-ReportConfig ::= SEQUENCE {
reportConfigId CSI-ReportConfigId,
carrier ServCellIndex OPTIONAL, -- Need S
resourcesForChannelMeasurement CSI-ResourceConfigId,
csi-IM-ResourcesForInterference CSI-ResourceConfigId OPTIONAL, -- Need R
nzp-CSI-RS-ResourcesForInterference CSI-ResourceConfigId OPTIONAL, -- Need R
reportConfigType CHOICE {
periodic SEQUENCE {
reportSlotConfig CSI-ReportPeriodicityAndOffset,
pucch-CSI-ResourceList SEQUENCE (SIZE (1..maxNrofBWPs)) OF PUCCH-CSI-Resource
},
semiPersistentOnPUCCH SEQUENCE {
reportSlotConfig CSI-ReportPeriodicityAndOffset,
pucch-CSI-ResourceList SEQUENCE (SIZE (1..maxNrofBWPs)) OF PUCCH-CSI-Resource
},
semiPersistentOnPUSCH SEQUENCE {
reportSlotConfig ENUMERATED {sl5, sl10, sl20, sl40, sl80, sl160, sl320},
reportSlotOffsetList SEQUENCE (SIZE (1.. maxNrofUL-Allocations)) OF
INTEGER(0..32),
p0alpha P0-PUSCH-AlphaSetId
},
aperiodic SEQUENCE {
reportSlotOffsetList SEQUENCE (SIZE (1..maxNrofUL-Allocations)) OF
INTEGER(0..32)
}
},
reportQuantity CHOICE {
none NULL,
cri-RI-PMI-CQI NULL,
cri-RI-i1 NULL,
cri-RI-i1-CQI SEQUENCE {
pdsch-BundleSizeForCSI ENUMERATED {n2, n4} OPTIONAL -- Need S
},
cri-RI-CQI NULL,
cri-RSRP NULL,
ssb-Index-RSRP NULL,
cri-RI-LI-PMI-CQI NULL
},
reportFreqConfiguration SEQUENCE {
cqi-FormatIndicator ENUMERATED { widebandCQI, subbandCQI } OPTIONAL, -- Need R
pmi-FormatIndicator ENUMERATED { widebandPMI, subbandPMI } OPTIONAL, -- Need R
csi-ReportingBand CHOICE {
subbands3 BIT STRING(SIZE(3)),
subbands4 BIT STRING(SIZE(4)),
subbands5 BIT STRING(SIZE(5)),
subbands6 BIT STRING(SIZE(6)),
subbands7 BIT STRING(SIZE(7)),
subbands8 BIT STRING(SIZE(8)),
subbands9 BIT STRING(SIZE(9)),
subbands10 BIT STRING(SIZE(10)),
subbands11 BIT STRING(SIZE(11)),
subbands12 BIT STRING(SIZE(12)),
subbands13 BIT STRING(SIZE(13)),
subbands14 BIT STRING(SIZE(14)),
subbands15 BIT STRING(SIZE(15)),
subbands16 BIT STRING(SIZE(16)),
subbands17 BIT STRING(SIZE(17)),
subbands18 BIT STRING(SIZE(18)),
...,
subbands19-v1530 BIT STRING(SIZE(19))
} OPTIONAL -- Need S
} OPTIONAL, -- Need R
timeRestrictionForChannelMeasurements ENUMERATED {configured, notConfigured},
timeRestrictionForInterferenceMeasurements ENUMERATED {configured,
notConfigured},
codebookConfig CodebookConfig OPTIONAL, -- Need R
dummy ENUMERATED {n1, n2} OPTIONAL, -- Need R
groupBasedBeamReporting CHOICE {
enabled NULL,
disabled SEQUENCE {
nrofReportedRS ENUMERATED {n1, n2, n3, n4} OPTIONAL -- Need S
}
},
cqi-Table ENUMERATED {table1, table2, table3, spare1} OPTIONAL, -- Need R
subbandSize ENUMERATED {value1, value2},
non-PMI-PortIndication SEQUENCE (SIZE (1..maxNrofNZP-CSI-RS-
ResourcesPerConfig)) OF PortIndexFor8Ranks OPTIONAL, -- Need R
...,
[[
semiPersistentOnPUSCH-v1530 SEQUENCE {
reportSlotConfig-v1530 ENUMERATED {sl4, sl8, sl16}
} OPTIONAL -- Need R
]]
}
CSI-ReportPeriodicityAndOffset ::= CHOICE {
slots4 INTEGER(0..3),
slots5 INTEGER(0..4),
slots8 INTEGER(0..7),
slots10 INTEGER(0..9),
slots16 INTEGER(0..15),
slots20 INTEGER(0..19),
slots40 INTEGER(0..39),
slots80 INTEGER(0..79),
slots160 INTEGER(0..159),
slots320 INTEGER(0..319)
}
PUCCH-CSI-Resource ::= SEQUENCE {
uplinkBandwidthPartId BWP-Id,
pucch-Resource PUCCH-ResourceId
}
PortIndexFor8Ranks ::= CHOICE {
portIndex8 SEQUENCE{
rank1-8 PortIndex8 OPTIONAL, -- Need R
rank2-8 SEQUENCE(SIZE(2)) OF PortIndex8 OPTIONAL, -- Need R
rank3-8 SEQUENCE(SIZE(3)) OF PortIndex8 OPTIONAL, -- Need R
rank4-8 SEQUENCE(SIZE(4)) OF PortIndex8 OPTIONAL, -- Need R
rank5-8 SEQUENCE(SIZE(5)) OF PortIndex8 OPTIONAL, -- Need R
rank6-8 SEQUENCE(SIZE(6)) OF PortIndex8 OPTIONAL, -- Need R
rank7-8 SEQUENCE(SIZE(7)) OF PortIndex8 OPTIONAL, -- Need R
rank8-8 SEQUENCE(SIZE(8)) OF PortIndex8 OPTIONAL -- Need R
},
portIndex4 SEQUENCE{
rank1-4 PortIndex4 OPTIONAL, -- Need R
rank2-4 SEQUENCE(SIZE(2)) OF PortIndex4 OPTIONAL, -- Need R
rank3-4 SEQUENCE(SIZE(3)) OF PortIndex4 OPTIONAL, -- Need R
rank4-4 SEQUENCE(SIZE(4)) OF PortIndex4 OPTIONAL -- Need R
},
portIndex2 SEQUENCE{
rank1-2 PortIndex2 OPTIONAL, -- Need R
rank2-2 SEQUENCE(SIZE(2)) OF PortIndex2 OPTIONAL -- Need R
},
portIndex1 NULL
}
PortIndex8::= INTEGER (0..7)
PortIndex4::= INTEGER (0..3)
PortIndex2::= INTEGER (0..1)
\-- TAG-CSI-REPORTCONFIG-STOP
\-- ASN1STOP
+----------------------------------------------------------------------+ | _CSI-ReportConfig_ field descriptions | +======================================================================+ | **_carrier_** | | | | Indicates in which serving cell the _CSI-ResourceConfig_ indicated | | below are to be found. If the field is absent, the resources are on | | the same serving cell as this report configuration. | +----------------------------------------------------------------------+ | **_codebookConfig_** | | | | Codebook configuration for Type-1 or Type-2 including codebook | | subset restriction. | +----------------------------------------------------------------------+ | **_cqi-FormatIndicator_** | | | | Indicates whether the UE shall report a single (wideband) or | | multiple (subband) CQI (see TS 38.214 [19], clause 5.2.1.4). | +----------------------------------------------------------------------+ | **_cqi-Table_** | | | | Which CQI table to use for CQI calculation (see TS 38.214 [19], | | clause 5.2.2.1). | +----------------------------------------------------------------------+ | **_csi-IM-ResourcesForInterference_** | | | | CSI IM resources for interference measurement. | | _csi-ResourceConfigId_ of a _CSI-ResourceConfig_ included in the | | configuration of the serving cell indicated with the field | | \"carrier\" above. The _CSI-ResourceConfig_ indicated here contains | | only CSI-IM resources. The _bwp-Id_ in that _CSI-ResourceConfig_ is | | the same value as the _bwp-Id_ in the _CSI-ResourceConfig_ indicated | | by _resourcesForChannelMeasurement_. | +----------------------------------------------------------------------+ | **_csi-ReportingBand_** | | | | Indicates a contiguous or non-contiguous subset of subbands in the | | bandwidth part which CSI shall be reported for. Each bit in the | | bit-string represents one subband. The right-most bit in the bit | | string represents the lowest subband in the BWP. The choice | | determines the number of subbands (subbands3 for 3 subbands, | | subbands4 for 4 subbands, and so on) (see TS 38.214 [19], clause | | 5.2.1.4). This field is absent if there are less than 24 PRBs (no | | sub band) and present otherwise (see TS 38.214 [19], clause | | 5.2.1.4). | +----------------------------------------------------------------------+ | **_dummy_** | | | | This field is not used in the specification. If received it shall be | | ignored by the UE. | +----------------------------------------------------------------------+ | **_groupBasedBeamReporting_** | | | | Turning on/off group beam based reporting (see TS 38.214 [19], | | clause 5.2.1.4). | +----------------------------------------------------------------------+ | **_non-PMI-PortIndication_** | | | | Port indication for RI/CQI calculation. For each CSI-RS resource in | | the linked ResourceConfig for channel measurement, a port indication | | for each rank R, indicating which R ports to use. Applicable only | | for non-PMI feedback (see TS 38.214 [19], clause 5.2.1.4.2). | | | | The first entry in _non-PMI-PortIndication_ corresponds to the | | NZP-CSI-RS-Resource indicated by the first entry in | | _nzp-CSI-RS-Resources_ in the _NZP-CSI-RS-ResourceSet_ indicated in | | the first entry of _nzp-CSI-RS-ResourceSetList_ of the | | _CSI-ResourceConfig_ whose _CSI-ResourceConfigId_ is indicated in a | | CSI-MeasId together with the above _CSI-ReportConfigId_ ; the second | | entry in _non-PMI-PortIndication_ corresponds to the | | NZP-CSI-RS-Resource indicated by the second entry in | | _nzp-CSI-RS-Resources_ in the _NZP-CSI-RS-ResourceSet_ indicated in | | the first entry of _nzp-CSI-RS-ResourceSetList_ of the same | | _CSI-ResourceConfig_ , and so on until the NZP-CSI-RS-Resource | | indicated by the last entry in _nzp-CSI-RS-Resources_ in the in the | | _NZP-CSI-RS-ResourceSet_ indicated in the first entry of | | _nzp-CSI-RS-ResourceSetList_ of the same _CSI-ResourceConfig_. Then | | the next entry corresponds to the NZP-CSI-RS-Resource indicated by | | the first entry in _nzp-CSI-RS-Resources_ in the | | _NZP-CSI-RS-ResourceSet_ indicated in the second entry of | | _nzp-CSI-RS-ResourceSetList_ of the same _CSI-ResourceConfig_ and so | | on. | +----------------------------------------------------------------------+ | **_nrofReportedRS_** | | | | The number (N) of measured RS resources to be reported per report | | setting in a non-group-based report. N \_rateMatchPatternToAddModList_ (BWP level) or in | | _ServingCellConfig_ ->_rateMatchPatternToAddModLis_ t (cell level). | | These patterns can be activated dynamically by DCI (see TS 38.214 | | [19], clause 5.1.4.1). | +----------------------------------------------------------------------+ | **_rateMatchPatternGroup2_** | | | | The IDs of a second group of _RateMatchPatterns_ defined in | | _PDSCH-Config_ ->_rateMatchPatternToAddModList_ (BWP level) or in | | _ServingCellConfig_ ->_rateMatchPatternToAddModLis_ t (cell level). | | These patterns can be activated dynamically by DCI (see TS 38.214 | | [19], clause 5.1.4.1). | +----------------------------------------------------------------------+ | **_rateMatchPatternToAddModList_** | | | | Resources patterns which the UE should rate match PDSCH around. The | | UE rate matches around the union of all resources indicated in the | | rate match patterns (see TS 38.214 [19], clause 5.1.4.1). | +----------------------------------------------------------------------+ | **_rbg-Size_** | | | | Selection between config 1 and config 2 for RBG size for PDSCH. The | | UE ignores this field if _resourceAllocation_ is set to | | _resourceAllocationType1_ (see TS 38.214 [19], clause 5.1.2.2.1). | +----------------------------------------------------------------------+ | **_resourceAllocation_** | | | | Configuration of resource allocation type 0 and resource allocation | | type 1 for non-fallback DCI (see TS 38.214 [19], clause 5.1.2.2). | +----------------------------------------------------------------------+ | **_sp-ZP-CSI-RS-ResourceSetsToAddModList_** | | | | AddMod/Release lists for configuring semi-persistent zero-power | | CSI-RS resource sets. Each set contains a _ZP-CSI-RS-ResourceSetId_ | | and the IDs of one or more _ZP-CSI-RS-Resources_ (the actual | | resources are defined in the _zp-CSI-RS-ResourceToAddModList_) (see | | TS 38.214 [19], clause 5.1.4.2). | +----------------------------------------------------------------------+ | **_tci-StatesToAddModList_** | | | | A list of Transmission Configuration Indicator (TCI) states | | indicating a transmission configuration which includes | | QCL-relationships between the DL RSs in one RS set and the PDSCH | | DMRS ports (see TS 38.214 [19], clause 5.1.5). | +----------------------------------------------------------------------+ | **_vrb-ToPRB-Interleaver_** | | | | Interleaving unit configurable between 2 and 4 PRBs (see TS 38.211 | | [16], clause 7.3.1.6). When the field is absent, the UE performs | | non-interleaved VRB-to-PRB mapping. | +----------------------------------------------------------------------+ | **_zp-CSI-RS-ResourceToAddModList_** | | | | A list of Zero-Power (ZP) CSI-RS resources used for PDSCH | | rate-matching. Each resource in this list may be referred to from | | only one type of resource set, i.e., aperiodic, semi-persistent or | | periodic (see TS 38.214 [19]). | +----------------------------------------------------------------------+
#### \-- _PDSCH-ConfigCommon_
The IE _PDSCH-ConfigCommon_ is used to configure cell specific PDSCH
parameters.
_PDSCH-ConfigCommon_ information element
\-- ASN1START
\-- TAG-PDSCH-CONFIGCOMMON-START
PDSCH-ConfigCommon ::= SEQUENCE {
pdsch-TimeDomainAllocationList PDSCH-TimeDomainResourceAllocationList
OPTIONAL, -- Need R
...
}
\-- TAG-PDSCH-CONFIGCOMMON-STOP
\-- ASN1STOP
+----------------------------------------------------------------------+ | _PDSCH-ConfigCommon_ field descriptions | +======================================================================+ | **_pdsch-TimeDomainAllocationList_** | | | | List of time-domain configurations for timing of DL assignment to DL | | data (see table 5.1.2.1.1-1 in TS 38.214 [19]). | +----------------------------------------------------------------------+
#### \-- _PDSCH-ServingCellConfig_
The IE _PDSCH-ServingCellConfig_ is used to configure UE specific PDSCH
parameters that are common across the UE\'s BWPs of one serving cell.
_PDSCH-ServingCellConfig_ information element
\-- ASN1START
\-- TAG-PDSCH-SERVINGCELLCONFIG-START
PDSCH-ServingCellConfig ::= SEQUENCE {
codeBlockGroupTransmission SetupRelease { PDSCH-CodeBlockGroupTransmission }
OPTIONAL, -- Need M
xOverhead ENUMERATED { xOh6, xOh12, xOh18 } OPTIONAL, -- Need S
nrofHARQ-ProcessesForPDSCH ENUMERATED {n2, n4, n6, n10, n12, n16} OPTIONAL, --
Need S
pucch-Cell ServCellIndex OPTIONAL, -- Cond SCellAddOnly
...,
[[
maxMIMO-Layers INTEGER (1..8) OPTIONAL, -- Need M
processingType2Enabled BOOLEAN OPTIONAL -- Need M
]]
}
PDSCH-CodeBlockGroupTransmission ::= SEQUENCE {
maxCodeBlockGroupsPerTransportBlock ENUMERATED {n2, n4, n6, n8},
codeBlockGroupFlushIndicator BOOLEAN,
...
}
\-- TAG-PDSCH-SERVINGCELLCONFIG-STOP
\-- ASN1STOP
+----------------------------------------------------------------------+ | _PDSCH-CodeBlockGroupTransmission_ field descriptions | +======================================================================+ | **_codeBlockGroupFlushIndicator_** | | | | Indicates whether CBGFI for CBG based (re)transmission in DL is | | enabled (true). (see TS 38.212 [17], clause 7.3.1.2.2). | +----------------------------------------------------------------------+ | **_maxCodeBlockGroupsPerTransportBlock_** | | | | Maximum number of code-block-groups (CBGs) per TB. In case of | | multiple CW, the maximum CBG is 4 (see TS 38.213 [13], clause | | 9.1.1). | +----------------------------------------------------------------------+
+----------------------------------------------------------------------+ | _PDSCH-ServingCellConfig_ field descriptions | +======================================================================+ | **_codeBlockGroupTransmission_** | | | | Enables and configures code-block-group (CBG) based transmission | | (see TS 38.213 [13], clause 9.1.1). Network does not configure for | | a UE both spatial bundling of HARQ ACKs and | | _codeBlockGroupTransmission_ within the same cell group. | +----------------------------------------------------------------------+ | **_maxMIMO-Layers_** | | | | Indicates the maximum number of MIMO layers to be used for PDSCH in | | all BWPs of this serving cell. (see TS 38.212 [17], clause | | 5.4.2.1). | +----------------------------------------------------------------------+ | **_nrofHARQ-ProcessesForPDSCH_** | | | | The number of HARQ processes to be used on the PDSCH of a serving | | cell. Value _n2_ corresponds to 2 HARQ processes, value _n4_ to 4 | | HARQ processes, and so on. If the field is absent, the UE uses 8 | | HARQ processes (see TS 38.214 [19], clause 5.1). | +----------------------------------------------------------------------+ | **_processingType2Enabled_** | | | | Enables configuration of advanced processing time capability 2 for | | PDSCH (see 38.214 [19], clause 5.3). | +----------------------------------------------------------------------+ | **_pucch-Cell_** | | | | The ID of the serving cell (of the same cell group) to use for | | PUCCH. If the field is absent, the UE sends the HARQ feedback on the | | PUCCH of the SpCell of this cell group, or on this serving cell if | | it is a PUCCH SCell. | +----------------------------------------------------------------------+ | **_xOverhead_** | | | | Accounts for overhead from CSI-RS, CORESET, etc. If the field is | | absent, the UE applies value xOh0 (see TS 38.214 [19], clause | | 5.1.3.2). | +----------------------------------------------------------------------+
Conditional Presence Explanation
* * *
_SCellAddOnly_ It is optionally present, Need S, for (non-PUCCH) SCells when
adding a new SCell. The field is absent, Need M, when reconfiguring SCells.
The field is also absent for the SpCells as well as for a PUCCH SCell.
#### \-- _PDSCH-TimeDomainResourceAllocationList_
The IE _PDSCH-TimeDomainResourceAllocation_ is used to configure a time domain
relation between PDCCH and PDSCH. The _PDSCH-TimeDomainResourceAllocationList_
contains one or more of such _PDSCH-TimeDomainResourceAllocations_. The
network indicates in the DL assignment which of the configured time domain
allocations the UE shall apply for that DL assignment. The UE determines the
bit width of the DCI field based on the number of entries in the _PDSCH-
TimeDomainResourceAllocationList_. Value 0 in the DCI field refers to the
first element in this list, value 1 in the DCI field refers to the second
element in this list, and so on.
_PDSCH-TimeDomainResourceAllocationList_ information element
\-- ASN1START
\-- TAG-PDSCH-TIMEDOMAINRESOURCEALLOCATIONLIST-START
PDSCH-TimeDomainResourceAllocationList ::= SEQUENCE (SIZE(1..maxNrofDL-
Allocations)) OF PDSCH-TimeDomainResourceAllocation
PDSCH-TimeDomainResourceAllocation ::= SEQUENCE {
k0 INTEGER(0..32) OPTIONAL, -- Need S
mappingType ENUMERATED {typeA, typeB},
startSymbolAndLength INTEGER (0..127)
}
\-- TAG-PDSCH-TIMEDOMAINRESOURCEALLOCATIONLIST-STOP
\-- ASN1STOP
+----------------------------------------------------------------------+ | _PDSCH-TimeDomainResourceAllocation_ field descriptions | +======================================================================+ | **_k0_** | | | | Slot offset between DCI and its scheduled PDSCH (see TS 38.214 | | [19], clause 5.1.2.1) When the field is absent the UE applies the | | value 0. | +----------------------------------------------------------------------+ | **_mappingType_** | | | | PDSCH mapping type. (see TS 38.214 [19], clause 5.3). | +----------------------------------------------------------------------+ | **_startSymbolAndLength_** | | | | An index giving valid combinations of start symbol and length | | (jointly encoded) as start and length indicator (SLIV). The network | | configures the field so that the allocation does not cross the slot | | boundary (see TS 38.214 [19], clause 5.1.2.1). | +----------------------------------------------------------------------+
#### \-- _PHR-Config_
The IE _PHR-Config_ is used to configure parameters for power headroom
reporting.
_PHR-Config_ information element
\-- ASN1START
\-- TAG-PHR-CONFIG-START
PHR-Config ::= SEQUENCE {
phr-PeriodicTimer ENUMERATED {sf10, sf20, sf50, sf100, sf200,sf500, sf1000,
infinity},
phr-ProhibitTimer ENUMERATED {sf0, sf10, sf20, sf50, sf100,sf200, sf500,
sf1000},
phr-Tx-PowerFactorChange ENUMERATED {dB1, dB3, dB6, infinity},
multiplePHR BOOLEAN,
dummy BOOLEAN,
phr-Type2OtherCell BOOLEAN,
phr-ModeOtherCG ENUMERATED {real, virtual},
...
}
\-- TAG-PHR-CONFIG-STOP
\-- ASN1STOP
+----------------------------------------------------------------------+ | _PHR-Config_ field descriptions | +======================================================================+ | **_dummy_** | | | | This field is not used in this version of the specification and the | | UE ignores the received value. | +----------------------------------------------------------------------+ | **_multiplePHR_** | | | | Indicates if power headroom shall be reported using the Single Entry | | PHR MAC control element or Multiple Entry PHR MAC control element | | defined in TS 38.321 [3]. True means to use Multiple Entry PHR MAC | | control element and False means to use the Single Entry PHR MAC | | control element defined in TS 38.321 [3]. The network configures | | this field to _true_ for MR-DC and UL CA for NR, and to _false_ in | | all other cases. | +----------------------------------------------------------------------+ | **_phr-ModeOtherCG_** | | | | Indicates the mode (i.e. real or virtual) used for the PHR of the | | activated cells that are part of the other Cell Group (i.e. MCG or | | SCG), when DC is configured. If the UE is configured with only one | | cell group (no DC), it ignores the field. | +----------------------------------------------------------------------+ | **_phr-PeriodicTimer_** | | | | Value in number of subframes for PHR reporting as specified in TS | | 38.321 [3]. Value _sf10_ corresponds to 10 subframes, value _sf20_ | | corresponds to 20 subframes, and so on. | +----------------------------------------------------------------------+ | **_phr-ProhibitTimer_** | | | | Value in number of subframes for PHR reporting as specified in TS | | 38.321 [3]. Value _sf0_ corresponds to 0 subframe, value _sf10_ | | corresponds to 10 subframes, value _sf20_ corresponds to 20 | | subframes, and so on. | +----------------------------------------------------------------------+ | **_phr-Tx-PowerFactorChange_** | | | | Value in dB for PHR reporting as specified in TS 38.321 [3]. Value | | _dB1_ corresponds to 1 dB, _dB3_ corresponds to 3 dB and so on. The | | same value applies for each serving cell (although the associated | | functionality is performed independently for each cell). | +----------------------------------------------------------------------+ | **_phr-Type2OtherCell_** | | | | If set to true, the UE shall report a PHR type 2 for the SpCell of | | the other MAC entity. See TS 38.321 [3], clause 5.4.6. Network | | sets this field to _false_ if the UE is not configured with an | | E-UTRA MAC entity. | +----------------------------------------------------------------------+
#### \-- _PhysCellId_
The _PhysCellId_ identifies the physical cell identity (PCI).
_PhysCellId_ information element
\-- ASN1START
\-- TAG-PHYSCELLID-START
PhysCellId ::= INTEGER (0..1007)
\-- TAG-PHYSCELLID-STOP
\-- ASN1STOP
#### \-- _PhysicalCellGroupConfig_
The IE _PhysicalCellGroupConfig_ is used to configure cell-group specific L1
parameters.
_PhysicalCellGroupConfig_ information element
\-- ASN1START
\-- TAG-PHYSICALCELLGROUPCONFIG-START
PhysicalCellGroupConfig ::= SEQUENCE {
harq-ACK-SpatialBundlingPUCCH ENUMERATED {true} OPTIONAL, -- Need S
harq-ACK-SpatialBundlingPUSCH ENUMERATED {true} OPTIONAL, -- Need S
p-NR-FR1 P-Max OPTIONAL, -- Need R
pdsch-HARQ-ACK-Codebook ENUMERATED {semiStatic, dynamic},
tpc-SRS-RNTI RNTI-Value OPTIONAL, -- Need R
tpc-PUCCH-RNTI RNTI-Value OPTIONAL, -- Need R
tpc-PUSCH-RNTI RNTI-Value OPTIONAL, -- Need R
sp-CSI-RNTI RNTI-Value OPTIONAL, -- Need R
cs-RNTI SetupRelease { RNTI-Value } OPTIONAL, -- Need M
...,
[[
mcs-C-RNTI RNTI-Value OPTIONAL, -- Need R
p-UE-FR1 P-Max OPTIONAL -- Cond MCG-Only
]],
[[
xScale ENUMERATED {dB0, dB6, spare2, spare1} OPTIONAL -- Cond SCG-Only
]],
[[
pdcch-BlindDetection SetupRelease { PDCCH-BlindDetection } OPTIONAL -- Need M
]]
}
PDCCH-BlindDetection ::= INTEGER (1..15)
\-- TAG-PHYSICALCELLGROUPCONFIG-STOP
\-- ASN1STOP
+----------------------------------------------------------------------+ | _PhysicalCellGroupConfig_ field descriptions | +======================================================================+ | **_cs-RNTI_** | | | | RNTI value for downlink SPS (see _SPS-Config_) and uplink configured | | grant (see _ConfiguredGrantConfig_). | +----------------------------------------------------------------------+ | **_harq-ACK-SpatialBundlingPUCCH_** | | | | Enables spatial bundling of HARQ ACKs. It is configured per cell | | group (i.e. for all the cells within the cell group) for PUCCH | | reporting of HARQ-ACK. It is only applicable when more than 4 layers | | are possible to schedule. When the field is absent, the spatial | | bundling is disabled (see TS 38.213 [13], clause 9.1.2.1). Network | | does not configure for a UE both spatial bundling of HARQ ACKs and | | _codeBlockGroupTransmission_ within the same cell group. | +----------------------------------------------------------------------+ | **_harq-ACK-SpatialBundlingPUSCH_** | | | | Enables spatial bundling of HARQ ACKs. It is configured per cell | | group (i.e. for all the cells within the cell group) for PUSCH | | reporting of HARQ-ACK. It is only applicable when more than 4 layers | | are possible to schedule. When the field is absent, the spatial | | bundling is disabled (see TS 38.213 [13], clauses 9.1.2.2 and | | 9.1.3.2). Network does not configure for a UE both spatial bundling | | of HARQ ACKs and _codeBlockGroupTransmission_ within the same cell | | group. | +----------------------------------------------------------------------+ | **_mcs-C-RNTI_** | | | | RNTI to indicate use of _qam64LowSE_ for grant-based transmissions. | | When the _mcs_ -_C-RNT_ I is configured, RNTI scrambling of DCI CRC is | | used to choose the corresponding MCS table. | +----------------------------------------------------------------------+ | **_pdcch-BlindDetection_** | | | | Indicates the reference number of cells for PDCCH blind detection | | for the CG. Network configures the field for each CG when the UE is | | in NR DC and sets the value in accordance with the constraints | | specified in TS 38.213 [13]. The network configures | | _pdcch-BlindDetection_ only if the UE is in NR-DC. | +----------------------------------------------------------------------+ | **_p-NR-FR1_** | | | | The maximum total transmit power to be used by the UE in this NR | | cell group across all serving cells in frequency range 1 (FR1). The | | maximum transmit power that the UE may use may be additionally | | limited by _p-Max_ (configured in _FrequencyInfoUL_) and by | | _p-UE-FR1_ (configured total for all serving cells operating on | | FR1). | +----------------------------------------------------------------------+ | **_p-UE-FR1_** | | | | The maximum total transmit power to be used by the UE across all | | serving cells in frequency range 1 (FR1) across all cell groups. The | | maximum transmit power that the UE may use may be additionally | | limited by _p-Max_ (configured in _FrequencyInfoUL_) and by | | _p-NR-FR1_ (configured for the cell group). | +----------------------------------------------------------------------+ | **_pdsch-HARQ-ACK-Codebook_** | | | | The PDSCH HARQ-ACK codebook is either semi-static or dynamic. This | | is applicable to both CA and none CA operation (see TS 38.213 | | [13], clauses 9.1.2 and 9.1.3). | +----------------------------------------------------------------------+ | **_sp-CSI-RNTI_** | | | | RNTI for Semi-Persistent CSI reporting on PUSCH (see | | _CSI-ReportConfig_) (see TS 38.214 [19], clause 5.2.1.5.2). | | Network always configures the UE with a value for this field when at | | least one _CSI-ReportConfig_ with _reportConfigType_ set to | | _semiPersistentOnPUSCH_ is configured. | +----------------------------------------------------------------------+ | **_tpc-PUCCH-RNTI_** | | | | RNTI used for PUCCH TPC commands on DCI (see TS 38.213 [13], | | clause 10.1). | +----------------------------------------------------------------------+ | **_tpc-PUSCH-RNTI_** | | | | RNTI used for PUSCH TPC commands on DCI (see TS 38.213 [13], | | clause 10.1). | +----------------------------------------------------------------------+ | **_tpc-SRS-RNTI_** | | | | RNTI used for SRS TPC commands on DCI (see TS 38.213 [13], clause | | 10.1). | +----------------------------------------------------------------------+ | **_xScale_** | | | | The UE is allowed to drop NR only if the power scaling applied to NR | | results in a difference between scaled and unscaled NR UL of more | | than _xScale_ dB (see TS 38.213 [13]). If the value is not | | configured for dynamic power sharing, the UE assumes default value | | of 6 dB. | +----------------------------------------------------------------------+
Conditional Presence Explanation
* * *
_MCG-Only_ This field is optionally present, Need R, in the
_PhysicalCellGroupConfig_ of the MCG. It is absent otherwise. _SCG-Only_ This
field is optionally present, Need S, in the _PhysicalCellGroupConfig_ of the
SCG in (NG)EN-DC _as defined in TS 38.213 [13]_. It is absent otherwise.
#### \-- _PLMN-Identity_
The IE _PLMN-Identity_ identifies a Public Land Mobile Network. Further
information regarding how to set the IE is specified in TS 23.003 [21].
**_PLMN-Identity_** information element
\-- ASN1START
\-- TAG-PLMN-IDENTITY-START
PLMN-Identity ::= SEQUENCE {
mcc MCC OPTIONAL, -- Cond MCC
mnc MNC
}
MCC ::= SEQUENCE (SIZE (3)) OF MCC-MNC-Digit
MNC ::= SEQUENCE (SIZE (2..3)) OF MCC-MNC-Digit
MCC-MNC-Digit ::= INTEGER (0..9)
\-- TAG-PLMN-IDENTITY-STOP
\-- ASN1STOP
+----------------------------------------------------------------------+ | _PLMN-Identity field descriptions_ | +======================================================================+ | **_mcc_** | | | | The first element contains the first MCC digit, the second element | | the second MCC digit and so on. If the field is absent, it takes the | | same value as the _mcc_ of the immediately preceding IE | | PLMN-Identity. See TS 23.003 [21]. | +----------------------------------------------------------------------+ | **_mnc_** | | | | The first element contains the first MNC digit, the second element | | the second MNC digit and so on. See TS 23.003 [21]. | +----------------------------------------------------------------------+
Conditional Presence Explanation
* * *
_MCC_ This field is mandatory present when PLMN-Identity is not used in a list
or if it is the first entry of PLMN-Identity in a list. Otherwise it is
optionally present, Need S.
#### \-- _PLMN-IdentityInfoList_
The IE _PLMN-IdentityInfoList_ includes a list of PLMN identity information.
**_PLMN-IdentityInfoList_** information element
\-- ASN1START
\-- TAG-PLMN-IDENTITYINFOLIST-START
PLMN-IdentityInfoList ::= SEQUENCE (SIZE (1..maxPLMN)) OF PLMN-IdentityInfo
PLMN-IdentityInfo ::= SEQUENCE {
plmn-IdentityList SEQUENCE (SIZE (1..maxPLMN)) OF PLMN-Identity,
trackingAreaCode TrackingAreaCode OPTIONAL, -- Need R
ranac RAN-AreaCode OPTIONAL, -- Need R
cellIdentity CellIdentity,
cellReservedForOperatorUse ENUMERATED {reserved, notReserved},
...
}
\-- TAG-PLMN-IDENTITYINFOLIST-STOP
\-- ASN1STOP
+----------------------------------------------------------------------+ | _PLMN-IdentityInfo_ field descriptions | +======================================================================+ | **_cellReservedForOperatorUse_** | | | | Indicates whether the cell is reserved for operator use (per PLMN), | | as defined in TS 38.304 [20]. | +----------------------------------------------------------------------+ | **_trackingAreaCode_** | | | | Indicates Tracking Area Code to which the cell indicated by | | _cellIdentity_ field belongs. The absence of the field indicates | | that the cell only supports PSCell/SCell functionality (per PLMN). | +----------------------------------------------------------------------+
#### \-- _PRB-Id_
The IE _PRB-Id_ identifies a Physical Resource Block (PRB) position within a
carrier.
_PRB-Id_ information element
\-- ASN1START
\-- TAG-PRB-ID-START
PRB-Id ::= INTEGER (0..maxNrofPhysicalResourceBlocks-1)
\-- TAG-PRB-ID-STOP
\-- ASN1STOP
#### \-- _PTRS-DownlinkConfig_
The IE _PTRS-DownlinkConfig_ is used to configure downlink phase tracking
reference signals (PTRS) (see TS 38.214 [19] clause 5.1.6.3)
_PTRS-DownlinkConfig_ information element
\-- ASN1START
\-- TAG-PTRS-DOWNLINKCONFIG-START
PTRS-DownlinkConfig ::= SEQUENCE {
frequencyDensity SEQUENCE (SIZE (2)) OF INTEGER (1..276) OPTIONAL, -- Need S
timeDensity SEQUENCE (SIZE (3)) OF INTEGER (0..29) OPTIONAL, -- Need S
epre-Ratio INTEGER (0..3) OPTIONAL, -- Need S
resourceElementOffset ENUMERATED { offset01, offset10, offset11 } OPTIONAL, --
Need S
...
}
\-- TAG-PTRS-DOWNLINKCONFIG-STOP
\-- ASN1STOP
+----------------------------------------------------------------------+ | _PTRS-DownlinkConfig_ field descriptions | +======================================================================+ | **_epre-Ratio_** | | | | EPRE ratio between PTRS and PDSCH. Value 0 corresponds to the | | codepoint \"00\" in table 4.1-2. Value 1 corresponds to codepoint | | \"01\", and so on. If the field is not provided, the UE applies | | value 0 (see TS 38.214 [19], clause 4.1). | +----------------------------------------------------------------------+ | **_frequencyDensity_** | | | | Presence and frequency density of DL PT-RS as a function of | | Scheduled BW. If the field is absent, the UE uses K_PT-RS = 2 (see | | TS 38.214 [19], clause 5.1.6.3, table 5.1.6.3-2). | +----------------------------------------------------------------------+ | **_resourceElementOffset_** | | | | Indicates the subcarrier offset for DL PTRS. If the field is absent, | | the UE applies the value offset00 (see TS 38.211 [16], clause | | 7.4.1.2.2). | +----------------------------------------------------------------------+ | **_timeDensity_** | | | | Presence and time density of DL PT-RS as a function of MCS. The | | value 29 is only applicable for MCS Table 5.1.3.1-1 (TS 38.214 | | [19]). If the field is absent, the UE uses L_PT-RS = 1 (see TS | | 38.214 [19], clause 5.1.6.3, table 5.1.6.3-1). | +----------------------------------------------------------------------+
#### \-- _PTRS-UplinkConfig_
The IE _PTRS-UplinkConfig_ is used to configure uplink Phase-Tracking-
Reference-Signals (PTRS).
_PTRS-UplinkConfig_ information element
\-- ASN1START
\-- TAG-PTRS-UPLINKCONFIG-START
PTRS-UplinkConfig ::= SEQUENCE {
transformPrecoderDisabled SEQUENCE {
frequencyDensity SEQUENCE (SIZE (2)) OF INTEGER (1..276) OPTIONAL, -- Need S
timeDensity SEQUENCE (SIZE (3)) OF INTEGER (0..29) OPTIONAL, -- Need S
maxNrofPorts ENUMERATED {n1, n2},
resourceElementOffset ENUMERATED {offset01, offset10, offset11 } OPTIONAL, --
Need S
ptrs-Power ENUMERATED {p00, p01, p10, p11}
} OPTIONAL, -- Need R
transformPrecoderEnabled SEQUENCE {
sampleDensity SEQUENCE (SIZE (5)) OF INTEGER (1..276),
timeDensityTransformPrecoding ENUMERATED {d2} OPTIONAL -- Need S
} OPTIONAL, -- Need R
...
}
\-- TAG-PTRS-UPLINKCONFIG-STOP
\-- ASN1STOP
+----------------------------------------------------------------------+ | _PTRS-UplinkConfig_ field descriptions | +======================================================================+ | **_frequencyDensity_** | | | | Presence and frequency density of UL PT-RS for CP-OFDM waveform as a | | function of scheduled BW If the field is absent, the UE uses | | K_PT-RS = 2 (see TS 38.214 [19], clause 6.1). | +----------------------------------------------------------------------+ | **_maxNrofPorts_** | | | | The maximum number of UL PTRS ports for CP-OFDM (see TS 38.214 | | [19], clause 6.2.3.1). | +----------------------------------------------------------------------+ | **_ptrs-Power_** | | | | UL PTRS power boosting factor per PTRS port (see TS 38.214 [19], | | clause 6.1, table 6.2.3.1.3). | +----------------------------------------------------------------------+ | **_resourceElementOffset_** | | | | Indicates the subcarrier offset for UL PTRS for CP-OFDM. If the | | field is absent, the UE applies the value offset00 (see TS 38.211 | | [16], clause 6.4.1.2.2). | +----------------------------------------------------------------------+ | **_sampleDensity_** | | | | Sample density of PT-RS for DFT-s-OFDM, pre-DFT, indicating a set of | | thresholds T={NRBn, n=0,1,2,3,4}, that indicates dependency between | | presence of PT-RS and scheduled BW and the values of X and K the UE | | should use depending on the scheduled BW, see TS 38.214 [19], | | clause 6.1, table 6.2.3.2-1. | +----------------------------------------------------------------------+ | **_timeDensity_** | | | | Presence and time density of UL PT-RS for CP-OFDM waveform as a | | function of MCS If the field is absent, the UE uses L_PT-RS = 1 | | (see TS 38.214 [19], clause 6.1). | +----------------------------------------------------------------------+ | **_timeDensityTransformPrecoding_** | | | | Time density (OFDM symbol level) of PT-RS for DFT-s-OFDM. If the | | field is absent, the UE applies value d1 (see TS 38.214 [19], | | clause 6.1). | +----------------------------------------------------------------------+ | **_transformPrecoderDisabled_** | | | | Configuration of UL PTRS without transform precoder (with CP-OFDM). | +----------------------------------------------------------------------+ | **_transformPrecoderEnabled_** | | | | Configuration of UL PTRS with transform precoder (DFT-S-OFDM). | +----------------------------------------------------------------------+
#### \-- _PUCCH-Config_
The IE _PUCCH-Config_ is used to configure UE specific PUCCH parameters (per
BWP).
_PUCCH-Config_ information element
\-- ASN1START
\-- TAG-PUCCH-CONFIG-START
PUCCH-Config ::= SEQUENCE {
resourceSetToAddModList SEQUENCE (SIZE (1..maxNrofPUCCH-ResourceSets)) OF
PUCCH-ResourceSet OPTIONAL, -- Need N
resourceSetToReleaseList SEQUENCE (SIZE (1..maxNrofPUCCH-ResourceSets)) OF
PUCCH-ResourceSetId OPTIONAL, -- Need N
resourceToAddModList SEQUENCE (SIZE (1..maxNrofPUCCH-Resources)) OF PUCCH-
Resource OPTIONAL, -- Need N
resourceToReleaseList SEQUENCE (SIZE (1..maxNrofPUCCH-Resources)) OF PUCCH-
ResourceId OPTIONAL, -- Need N
format1 SetupRelease { PUCCH-FormatConfig } OPTIONAL, -- Need M
format2 SetupRelease { PUCCH-FormatConfig } OPTIONAL, -- Need M
format3 SetupRelease { PUCCH-FormatConfig } OPTIONAL, -- Need M
format4 SetupRelease { PUCCH-FormatConfig } OPTIONAL, -- Need M
schedulingRequestResourceToAddModList SEQUENCE (SIZE (1..maxNrofSR-Resources))
OF SchedulingRequestResourceConfig
OPTIONAL, -- Need N
schedulingRequestResourceToReleaseList SEQUENCE (SIZE (1..maxNrofSR-
Resources)) OF SchedulingRequestResourceId
OPTIONAL, -- Need N
multi-CSI-PUCCH-ResourceList SEQUENCE (SIZE (1..2)) OF PUCCH-ResourceId
OPTIONAL, -- Need M
dl-DataToUL-ACK SEQUENCE (SIZE (1..8)) OF INTEGER (0..15) OPTIONAL, -- Need M
spatialRelationInfoToAddModList SEQUENCE (SIZE
(1..maxNrofSpatialRelationInfos)) OF PUCCH-SpatialRelationInfo
OPTIONAL, -- Need N
spatialRelationInfoToReleaseList SEQUENCE (SIZE
(1..maxNrofSpatialRelationInfos)) OF PUCCH-SpatialRelationInfoId
OPTIONAL, -- Need N
pucch-PowerControl PUCCH-PowerControl OPTIONAL, -- Need M
...
}
PUCCH-FormatConfig ::= SEQUENCE {
interslotFrequencyHopping ENUMERATED {enabled} OPTIONAL, -- Need R
additionalDMRS ENUMERATED {true} OPTIONAL, -- Need R
maxCodeRate PUCCH-MaxCodeRate OPTIONAL, -- Need R
nrofSlots ENUMERATED {n2,n4,n8} OPTIONAL, -- Need S
pi2BPSK ENUMERATED {enabled} OPTIONAL, -- Need R
simultaneousHARQ-ACK-CSI ENUMERATED {true} OPTIONAL -- Need R
}
PUCCH-MaxCodeRate ::= ENUMERATED {zeroDot08, zeroDot15, zeroDot25, zeroDot35,
zeroDot45, zeroDot60, zeroDot80}
\-- A set with one or more PUCCH resources
PUCCH-ResourceSet ::= SEQUENCE {
pucch-ResourceSetId PUCCH-ResourceSetId,
resourceList SEQUENCE (SIZE (1..maxNrofPUCCH-ResourcesPerSet)) OF PUCCH-
ResourceId,
maxPayloadSize INTEGER (4..256) OPTIONAL -- Need R
}
PUCCH-ResourceSetId ::= INTEGER (0..maxNrofPUCCH-ResourceSets-1)
PUCCH-Resource ::= SEQUENCE {
pucch-ResourceId PUCCH-ResourceId,
startingPRB PRB-Id,
intraSlotFrequencyHopping ENUMERATED { enabled } OPTIONAL, -- Need R
secondHopPRB PRB-Id OPTIONAL, -- Need R
format CHOICE {
format0 PUCCH-format0,
format1 PUCCH-format1,
format2 PUCCH-format2,
format3 PUCCH-format3,
format4 PUCCH-format4
}
}
PUCCH-ResourceId ::= INTEGER (0..maxNrofPUCCH-Resources-1)
PUCCH-format0 ::= SEQUENCE {
initialCyclicShift INTEGER(0..11),
nrofSymbols INTEGER (1..2),
startingSymbolIndex INTEGER(0..13)
}
PUCCH-format1 ::= SEQUENCE {
initialCyclicShift INTEGER(0..11),
nrofSymbols INTEGER (4..14),
startingSymbolIndex INTEGER(0..10),
timeDomainOCC INTEGER(0..6)
}
PUCCH-format2 ::= SEQUENCE {
nrofPRBs INTEGER (1..16),
nrofSymbols INTEGER (1..2),
startingSymbolIndex INTEGER(0..13)
}
PUCCH-format3 ::= SEQUENCE {
nrofPRBs INTEGER (1..16),
nrofSymbols INTEGER (4..14),
startingSymbolIndex INTEGER(0..10)
}
PUCCH-format4 ::= SEQUENCE {
nrofSymbols INTEGER (4..14),
occ-Length ENUMERATED {n2,n4},
occ-Index ENUMERATED {n0,n1,n2,n3},
startingSymbolIndex INTEGER(0..10)
}
\-- TAG-PUCCH-CONFIG-STOP
\-- ASN1STOP
+----------------------------------------------------------------------+ | _PUCCH-Config_ field descriptions | +======================================================================+ | **_dl-DataToUL-ACK_** | | | | List of timing for given PDSCH to the DL ACK (see TS 38.213 [13], | | clause 9.1.2). | +----------------------------------------------------------------------+ | **_format1_** | | | | Parameters that are common for all PUCCH resources of format 1. | +----------------------------------------------------------------------+ | **_format2_** | | | | Parameters that are common for all PUCCH resources of format 2. | +----------------------------------------------------------------------+ | **_format3_** | | | | Parameters that are common for all PUCCH resources of format 3. | +----------------------------------------------------------------------+ | **_format4_** | | | | Parameters that are common for all PUCCH resources of format 4. | +----------------------------------------------------------------------+ | **_resourceSetToAddModList, resourceSetToReleaseList_** | | | | Lists for adding and releasing PUCCH resource sets (see TS 38.213 | | [13], clause 9.2). | +----------------------------------------------------------------------+ | **_resourceToAddModList, resourceToReleaseList_** | | | | Lists for adding and releasing PUCCH resources applicable for the UL | | BWP and serving cell in which the _PUCCH-Config_ is defined. The | | resources defined herein are referred to from other parts of the | | configuration to determine which resource the UE shall use for which | | report. | +----------------------------------------------------------------------+ | **_spatialRelationInfoToAddModList_** | | | | Configuration of the spatial relation between a reference RS and | | PUCCH. Reference RS can be SSB/CSI-RS/SRS. If the list has more than | | one element, MAC-CE selects a single element (see TS 38.321 [3], | | clause 5.18.8 and TS 38.213 [13], clause 9.2.2). | +----------------------------------------------------------------------+
+-----------------------------------------------------------+ | _PUCCH-format3_ field descriptions | +===========================================================+ | **_nrofPRBs_** | | | | The supported values are 1,2,3,4,5,6,8,9,10,12,15 and 16. | +-----------------------------------------------------------+
+----------------------------------------------------------------------+ | _PUCCH-FormatConfig_ field descriptions | +======================================================================+ | **_additionalDMRS_** | | | | If the field is present, the UE enables 2 DMRS symbols per hop of a | | PUCCH Format 3 or 4 if both hops are more than X symbols when FH is | | enabled (X=4). And it enables 4 DMRS symbols for a PUCCH Format 3 or | | 4 with more than 2X+1 symbols when FH is disabled (X=4). The field | | is not applicable for format 1 and 2. See TS 38.213 [13], clause | | 9.2.2. | +----------------------------------------------------------------------+ | **_interslotFrequencyHopping_** | | | | If the field is present, the UE enables inter-slot frequency hopping | | when PUCCH Format 1, 3 or 4 is repeated over multiple slots. For | | long PUCCH over multiple slots, the intra and inter slot frequency | | hopping cannot be enabled at the same time for a UE. The field is | | not applicable for format 2. See TS 38.213 [13], clause 9.2.6. | +----------------------------------------------------------------------+ | **_maxCodeRate_** | | | | Max coding rate to determine how to feedback UCI on PUCCH for format | | 2, 3 or 4. The field is not applicable for format 1. See TS 38.213 | | [13], clause 9.2.5. | +----------------------------------------------------------------------+ | **_nrofSlots_** | | | | Number of slots with the same PUCCH F1, F3 or F4. When the field is | | absent the UE applies the value _n1_. The field is not applicable | | for format 2. See TS 38.213 [13], clause 9.2.6. | +----------------------------------------------------------------------+ | **_pi2BPSK_** | | | | If the field is present, the UE uses pi/2 BPSK for UCI symbols | | instead of QPSK for PUCCH. The field is not applicable for format 1 | | and 2. See TS 38.213 [13], clause 9.2.5. | +----------------------------------------------------------------------+ | **_simultaneousHARQ-ACK-CSI_** | | | | If the field is present, the UE uses simultaneous transmission of | | CSI and HARQ-ACK feedback with or without SR with PUCCH Format 2, 3 | | or 4. See TS 38.213 [13], clause 9.2.5. When the field is absent | | the UE applies the value _off._ The field is not applicable for | | format 1. | +----------------------------------------------------------------------+
+----------------------------------------------------------------------+ | _PUCCH-Resource_ field descriptions | +======================================================================+ | **_format_** | | | | Selection of the PUCCH format (format 0 -- 4) and format-specific | | parameters, see TS 38.213 [13], clause 9.2. _format0_ and | | _format1_ are only allowed for a resource in a first PUCCH resource | | set. _format2_ , _format3_ and _format4_ are only allowed for a | | resource in non-first PUCCH resource set. | +----------------------------------------------------------------------+ | **_intraSlotFrequencyHopping_** | | | | Enabling intra-slot frequency hopping, applicable for all types of | | PUCCH formats. For long PUCCH over multiple slots, the intra and | | inter slot frequency hopping cannot be enabled at the same time for | | a UE. See TS 38.213 [13], clause 9.2.1. | +----------------------------------------------------------------------+ | **_pucch-ResourceId_** | | | | **_Identifier of the PUCCH resource._** | +----------------------------------------------------------------------+ | **_secondHopPRB_** | | | | Index of first PRB after frequency hopping of PUCCH. This value is | | applicable for intra-slot frequency hopping (see TS 38.213 [13], | | clause 9.2.1) or inter-slot frequency hopping (see TS 38.213 [13], | | clause 9.2.6). | +----------------------------------------------------------------------+
+----------------------------------------------------------------------+ | _PUCCH-ResourceSet_ field descriptions | +======================================================================+ | **_maxPayloadSize_** | | | | Maximum number of UCI information bits that the UE may transmit | | using this PUCCH resource set (see TS 38.213 [13], clause 9.2.1). | | In a PUCCH occurrence, the UE chooses the first of its | | _PUCCH-ResourceSet_ which supports the number of bits that the UE | | wants to transmit. The field is absent in the first set (Set0) and | | in the last configured set since the UE derives the maximum number | | of UCI information bits as specified in TS 38.213 [13], clause | | 9.2.1. This field can take integer values that are multiples of 4. | +----------------------------------------------------------------------+ | **_resourceList_** | | | | PUCCH resources of _format0_ and _format1_ are only allowed in the | | first PUCCH resource set, i.e., in a PUCCH-ResourceSet with | | _pucch-ResourceSetId_ = 0. This set may contain between 1 and 32 | | resources. PUCCH resources of _format2_ , _format3_ and _format4_ are | | only allowed in a _PUCCH-ResourceSet_ with _pucch-ResourceSetId_ > | | 0. If present, these sets contain between 1 and 8 resources each. | | The UE chooses a _PUCCH-Resource_ from this list as specified in TS | | 38.213 [13], clause 9.2.3. Note that this list contains only a | | list of resource IDs. The actual resources are configured in | | _PUCCH-Config_. | +----------------------------------------------------------------------+
#### \-- _PUCCH-ConfigCommon_
The IE _PUCCH-ConfigCommon_ is used to configure the cell specific PUCCH
parameters.
**_PUCCH-ConfigCommon_** information element
\-- ASN1START
\-- TAG-PUCCH-CONFIGCOMMON-START
PUCCH-ConfigCommon ::= SEQUENCE {
pucch-ResourceCommon INTEGER (0..15) OPTIONAL, -- Cond InitialBWP-Only
pucch-GroupHopping ENUMERATED { neither, enable, disable },
hoppingId INTEGER (0..1023) OPTIONAL, -- Need R
p0-nominal INTEGER (-202..24) OPTIONAL, -- Need R
...
}
\-- TAG-PUCCH-CONFIGCOMMON-STOP
\-- ASN1STOP
+----------------------------------------------------------------------+ | _PUCCH-ConfigCommon_ field descriptions | +======================================================================+ | **_hoppingId_** | | | | Cell-specific scrambling ID for group hopping and sequence hopping | | if enabled, see TS 38.211 [16], clause 6.3.2.2. | +----------------------------------------------------------------------+ | **_p0-nominal_** | | | | Power control parameter P0 for PUCCH transmissions. Value in dBm. | | Only even values (step size 2) allowed (see TS 38.213 [13], clause | | 7.2). | +----------------------------------------------------------------------+ | **_pucch-GroupHopping_** | | | | Configuration of group- and sequence hopping for all the PUCCH | | formats 0, 1, 3 and 4. Value _neither_ implies neither group or | | sequence hopping is enabled. Value _enable_ enables group hopping | | and disables sequence hopping. Value _disable_ disables group | | hopping and enables sequence hopping (see TS 38.211 [16], clause | | 6.3.2.2). | +----------------------------------------------------------------------+ | **_pucch-ResourceCommon_** | | | | An entry into a 16-row table where each row configures a set of | | cell-specific PUCCH resources/parameters. The UE uses those PUCCH | | resources until it is provided with a dedicated _PUCCH-Config_ (e.g. | | during initial access) on the initial uplink BWP. Once the network | | provides a dedicated _PUCCH-Config_ for that bandwidth part the UE | | applies that one instead of the one provided in this field (see TS | | 38.213 [13], clause 9.2). | +----------------------------------------------------------------------+
Conditional Presence Explanation
* * *
_InitialBWP-Only_ The field is mandatory present in the _PUCCH-ConfigCommon_
of the initial BWP (BWP#0) in SIB1. It is absent in other BWPs.
#### \-- _PUCCH-PathlossReferenceRS-Id_
The IE _PUCCH-PathlossReferenceRS-Id_ is an ID for a reference signal (RS)
configured as PUCCH pathloss reference (see TS 38.213 [13], clause 7.2).
_PUCCH-PathlossReferenceRS-Id_ information element
\-- ASN1START
\-- TAG-PUCCH-PATHLOSSREFERENCERS-ID-START
PUCCH-PathlossReferenceRS-Id ::= INTEGER (0..maxNrofPUCCH-
PathlossReferenceRSs-1)
\-- TAG-PUCCH-PATHLOSSREFERENCERS-ID-STOP
\-- ASN1STOP
#### \-- _PUCCH-PowerControl_
The IE _PUCCH-PowerControl_ is used to configure UE-specific parameters for
the power control of PUCCH.
_PUCCH-PowerControl_ information element
\-- ASN1START
\-- TAG-PUCCH-POWERCONTROL-START
PUCCH-PowerControl ::= SEQUENCE {
deltaF-PUCCH-f0 INTEGER (-16..15) OPTIONAL, -- Need R
deltaF-PUCCH-f1 INTEGER (-16..15) OPTIONAL, -- Need R
deltaF-PUCCH-f2 INTEGER (-16..15) OPTIONAL, -- Need R
deltaF-PUCCH-f3 INTEGER (-16..15) OPTIONAL, -- Need R
deltaF-PUCCH-f4 INTEGER (-16..15) OPTIONAL, -- Need R
p0-Set SEQUENCE (SIZE (1..maxNrofPUCCH-P0-PerSet)) OF P0-PUCCH OPTIONAL, \--
Need M
pathlossReferenceRSs SEQUENCE (SIZE (1..maxNrofPUCCH-PathlossReferenceRSs)) OF
PUCCH-PathlossReferenceRS
OPTIONAL, -- Need M
twoPUCCH-PC-AdjustmentStates ENUMERATED {twoStates} OPTIONAL, -- Need S
...
}
P0-PUCCH ::= SEQUENCE {
p0-PUCCH-Id P0-PUCCH-Id,
p0-PUCCH-Value INTEGER (-16..15)
}
P0-PUCCH-Id ::= INTEGER (1..8)
PUCCH-PathlossReferenceRS ::= SEQUENCE {
pucch-PathlossReferenceRS-Id PUCCH-PathlossReferenceRS-Id,
referenceSignal CHOICE {
ssb-Index SSB-Index,
csi-RS-Index NZP-CSI-RS-ResourceId
}
}
\-- TAG-PUCCH-POWERCONTROL-STOP
\-- ASN1STOP
+----------------------------------------+ | _P0-PUCCH_ field descriptions | +========================================+ | **_p0-PUCCH-Value_** | | | | P0 value for PUCCH with 1dB step size. | +----------------------------------------+
+----------------------------------------------------------------------+ | _PUCCH-PowerControl_ field descriptions | +======================================================================+ | **_deltaF-PUCCH-f0_** | | | | deltaF for PUCCH format 0 with 1dB step size (see TS 38.213 [13], | | clause 7.2). | +----------------------------------------------------------------------+ | **_deltaF-PUCCH-f1_** | | | | deltaF for PUCCH format 1 with 1dB step size (see TS 38.213 [13], | | clause 7.2). | +----------------------------------------------------------------------+ | **_deltaF-PUCCH-f2_** | | | | deltaF for PUCCH format 2 with 1dB step size (see TS 38.213 [13], | | clause 7.2). | +----------------------------------------------------------------------+ | **_deltaF-PUCCH-f3_** | | | | deltaF for PUCCH format 3 with 1dB step size (see TS 38.213 [13], | | clause 7.2). | +----------------------------------------------------------------------+ | **_deltaF-PUCCH-f4_** | | | | deltaF for PUCCH format 4 with 1dB step size (see TS 38.213 [13], | | clause 7.2). | +----------------------------------------------------------------------+ | **_p0-Set_** | | | | A set with dedicated P0 values for PUCCH, i.e., {P01, P02,... } | | (see TS 38.213 [13], clause 7.2). | +----------------------------------------------------------------------+ | **_pathlossReferenceRSs_** | | | | A set of Reference Signals (e.g. a CSI-RS config or a SS block) to | | be used for PUCCH pathloss estimation. Up to | | _maxNrofPUCCH-PathlossReference-RSs_ may be configured. If the field | | is not configured, the UE uses the SSB as reference signal (see TS | | 38.213 [13], clause 7.2). | +----------------------------------------------------------------------+ | **_twoPUCCH-PC-AdjustmentStates_** | | | | Number of PUCCH power control adjustment states maintained by the UE | | (i.e., g(i)). If the field is present (n2) the UE maintains two | | power control states (i.e., g(i,0) and g(i,1)). If the field is | | absent, it maintains one power control state (i.e., g(i,0)) (see TS | | 38.213 [13], clause 7.2). | +----------------------------------------------------------------------+
#### \-- _PUCCH-SpatialRelationInfo_
The IE _PUCCH-SpatialRelationInfo_ is used to configure the spatial setting
for PUCCH transmission and the parameters for PUCCH power control, see TS
38.213, [13], clause 9.2.2.
_PUCCH-SpatialRelationInfo_ information element
\-- ASN1START
\-- TAG-PUCCH-SPATIALRELATIONINFO-START
PUCCH-SpatialRelationInfo ::= SEQUENCE {
pucch-SpatialRelationInfoId PUCCH-SpatialRelationInfoId,
servingCellId ServCellIndex OPTIONAL, -- Need S
referenceSignal CHOICE {
ssb-Index SSB-Index,
csi-RS-Index NZP-CSI-RS-ResourceId,
srs SEQUENCE {
resource SRS-ResourceId,
uplinkBWP BWP-Id
}
},
pucch-PathlossReferenceRS-Id PUCCH-PathlossReferenceRS-Id,
p0-PUCCH-Id P0-PUCCH-Id,
closedLoopIndex ENUMERATED { i0, i1 }
}
PUCCH-SpatialRelationInfoId ::= INTEGER (1..maxNrofSpatialRelationInfos)
\-- TAG-PUCCH-SPATIALRELATIONINFO-STOP
\-- ASN1STOP
+----------------------------------------------------------------------+ | _PUCCH-SpatialRelationInfo_ field descriptions | +======================================================================+ | **_servingCellId_** | | | | If the field is absent, the UE applies the _ServCellId_ of the | | serving cell in which this _PUCCH-SpatialRelationInfo_ is configured | +----------------------------------------------------------------------+
#### \-- _PUCCH-TPC-CommandConfig_
The IE _PUCCH-TPC-CommandConfig_ is used to configure the UE for extracting
TPC commands for PUCCH from a group-TPC messages on DCI.
_PUCCH-TPC-CommandConfig_ information element
\-- ASN1START
\-- TAG-PUCCH-TPC-COMMANDCONFIG-START
PUCCH-TPC-CommandConfig ::= SEQUENCE {
tpc-IndexPCell INTEGER (1..15) OPTIONAL, -- Cond PDCCH-OfSpcell
tpc-IndexPUCCH-SCell INTEGER (1..15) OPTIONAL, -- Cond PDCCH-ofSpCellOrPUCCH-
SCell
...
}
\-- TAG-PUCCH-TPC-COMMANDCONFIG-STOP
\-- ASN1STOP
+----------------------------------------------------------------------+ | _PUCCH-TPC-CommandConfig_ field descriptions | +======================================================================+ | **_tpc-IndexPCell_** | | | | An index determining the position of the first bit of TPC command | | (applicable to the SpCell) inside the DCI format 2-2 payload. | +----------------------------------------------------------------------+ | **_tpc-IndexPUCCH-SCell_** | | | | An index determining the position of the first bit of TPC command | | (applicable to the PUCCH SCell) inside the DCI format 2-2 payload. | +----------------------------------------------------------------------+
+-------------------------------+-------------------------------------+ | Conditional Presence | Explanation | +===============================+=====================================+ | _PDCCH-OfSpcell_ | The field is mandatory present if | | | the _PUCCH-TPC-CommandConfig_ is | | | provided in the _PDCCH-Config_ for | | | the SpCell. Otherwise, the field is | | | absent, Need R. | +-------------------------------+-------------------------------------+ | _PDCCH-ofSpCellOrPUCCH-SCell_ | The field is mandatory present if | | | the _PUCCH-TPC-CommandConfig_ is | | | provided in the _PDCCH-Config_ for | | | the PUCCH-SCell. | | | | | | The field is optionally present, | | | need R, if the UE is configured | | | with a PUCCH SCell in this cell | | | group and if the | | | _PUCCH-TPC-CommandConfig_ is | | | provided in the _PDCCH-Config_ for | | | the SpCell. | | | | | | Otherwise, the field is absent, | | | Need R. | +-------------------------------+-------------------------------------+
#### \-- _PUSCH-Config_
The IE _PUSCH-Config_ is used to configure the UE specific PUSCH parameters
applicable to a particular BWP.
_PUSCH-Config_ information element
\-- ASN1START
\-- TAG-PUSCH-CONFIG-START
PUSCH-Config ::= SEQUENCE {
dataScramblingIdentityPUSCH INTEGER (0..1023) OPTIONAL, -- Need S
txConfig ENUMERATED {codebook, nonCodebook} OPTIONAL, -- Need S
dmrs-UplinkForPUSCH-MappingTypeA SetupRelease { DMRS-UplinkConfig } OPTIONAL,
-- Need M
dmrs-UplinkForPUSCH-MappingTypeB SetupRelease { DMRS-UplinkConfig } OPTIONAL,
-- Need M
pusch-PowerControl PUSCH-PowerControl OPTIONAL, -- Need M
frequencyHopping ENUMERATED {intraSlot, interSlot} OPTIONAL, -- Need S
frequencyHoppingOffsetLists SEQUENCE (SIZE (1..4)) OF INTEGER (1..
maxNrofPhysicalResourceBlocks-1)
OPTIONAL, -- Need M
resourceAllocation ENUMERATED { resourceAllocationType0,
resourceAllocationType1, dynamicSwitch},
pusch-TimeDomainAllocationList SetupRelease { PUSCH-
TimeDomainResourceAllocationList } OPTIONAL, -- Need M
pusch-AggregationFactor ENUMERATED { n2, n4, n8 } OPTIONAL, -- Need S
mcs-Table ENUMERATED {qam256, qam64LowSE} OPTIONAL, -- Need S
mcs-TableTransformPrecoder ENUMERATED {qam256, qam64LowSE} OPTIONAL, -- Need S
transformPrecoder ENUMERATED {enabled, disabled} OPTIONAL, -- Need S
codebookSubset ENUMERATED {fullyAndPartialAndNonCoherent,
partialAndNonCoherent,nonCoherent}
OPTIONAL, -- Cond codebookBased
maxRank INTEGER (1..4) OPTIONAL, -- Cond codebookBased
rbg-Size ENUMERATED { config2} OPTIONAL, -- Need S
uci-OnPUSCH SetupRelease { UCI-OnPUSCH} OPTIONAL, -- Need M
tp-pi2BPSK ENUMERATED {enabled} OPTIONAL, -- Need S
...
}
UCI-OnPUSCH ::= SEQUENCE {
betaOffsets CHOICE {
dynamic SEQUENCE (SIZE (4)) OF BetaOffsets,
semiStatic BetaOffsets
} OPTIONAL, -- Need M
scaling ENUMERATED { f0p5, f0p65, f0p8, f1 }
}
\-- TAG-PUSCH-CONFIG-STOP
\-- ASN1STOP
+----------------------------------------------------------------------+ | _PUSCH-Config_ field descriptions | +======================================================================+ | **_codebookSubset_** | | | | Subset of PMIs addressed by TPMI, where PMIs are those supported by | | UEs with maximum coherence capabilities (see TS 38.214 [19], | | clause 6.1.1.1). | +----------------------------------------------------------------------+ | **_dataScramblingIdentityPUSCH_** | | | | Identifier used to initalite data scrambling (c_init) for PUSCH. If | | the field is absent, the UE applies the physical cell ID. (see TS | | 38.211 [16], clause 6.3.1.1). | +----------------------------------------------------------------------+ | **_dmrs-UplinkForPUSCH-MappingTypeA_** | | | | DMRS configuration for PUSCH transmissions using PUSCH mapping type | | A (chosen dynamically via _PUSCH-TimeDomainResourceAllocation_). | | Only the fields _dmrs-Type_ , _dmrs-AdditionalPosition_ and | | _maxLength_ may be set differently for mapping type A and B. | +----------------------------------------------------------------------+ | **_dmrs-UplinkForPUSCH-MappingTypeB_** | | | | DMRS configuration for PUSCH transmissions using PUSCH mapping type | | B (chosen dynamically via _PUSCH-TimeDomainResourceAllocation_). | | Only the fields _dmrs-Type_ , _dmrs-AdditionalPosition_ and | | _maxLength_ may be set differently for mapping type A and B. | +----------------------------------------------------------------------+ | **_frequencyHopping_** | | | | The value _intraSlot_ enables \'Intra-slot frequency hopping\' and | | the value _interSlot_ enables \'Inter-slot frequency hopping\'. If | | the field is absent, frequency hopping is not configured (see TS | | 38.214 [19], clause 6.3). | +----------------------------------------------------------------------+ | **_frequencyHoppingOffsetLists_** | | | | Set of frequency hopping offsets used when frequency hopping is | | enabled for granted transmission (not msg3) and type 2 configured | | grant activation (see TS 38.214 [19], clause 6.3). | +----------------------------------------------------------------------+ | **_maxRank_** | | | | Subset of PMIs addressed by TRIs from 1 to ULmaxRank (see TS 38.214 | | [19], clause 6.1.1.1). | +----------------------------------------------------------------------+ | **_mcs-Table_** | | | | Indicates which MCS table the UE shall use for PUSCH without | | transform precoder (see TS 38.214 [19], clause 6.1.4.1). If the | | field is absent the UE applies the value 64QAM | +----------------------------------------------------------------------+ | **_mcs-TableTransformPrecoder_** | | | | Indicates which MCS table the UE shall use for PUSCH with transform | | precoding (see TS 38.214 [19], clause 6.1.4.1) If the field is | | absent the UE applies the value 64QAM | +----------------------------------------------------------------------+ | **_pusch-AggregationFactor_** | | | | Number of repetitions for data (see TS 38.214 [19], clause | | 6.1.2.1). If the field is absent the UE applies the value 1. | +----------------------------------------------------------------------+ | **_pusch-TimeDomainAllocationList_** | | | | List of time domain allocations for timing of UL assignment to UL | | data (see TS 38.214 [19], table 6.1.2.1.1-1). | +----------------------------------------------------------------------+ | **_rbg-Size_** | | | | Selection between configuration 1 and configuration 2 for RBG size | | for PUSCH. The UE does not apply this field if _resourceAllocation_ | | is set to _resourceAllocationType1_. Otherwise, the UE applies the | | value _config1_ when the field is absent (see TS 38.214 [19], | | clause 6.1.2.2.1). | +----------------------------------------------------------------------+ | **_resourceAllocation_** | | | | Configuration of resource allocation type 0 and resource allocation | | type 1 for non-fallback DCI (see TS 38.214 [19], clause 6.1.2). | +----------------------------------------------------------------------+ | **_tp-pi2BPSK_** | | | | Enables pi/2-BPSK modulation with transform precoding if the field | | is present and disables it otherwise. | +----------------------------------------------------------------------+ | **_transformPrecoder_** | | | | The UE specific selection of transformer precoder for PUSCH (see TS | | 38.214 [19], clause 6.1.3). When the field is absent the UE | | applies the value of the field _msg3-transformPrecoder_. | +----------------------------------------------------------------------+ | **_txConfig_** | | | | Whether UE uses codebook based or non-codebook based transmission | | (see TS 38.214 [19], clause 6.1.1). If the field is absent, the UE | | transmits PUSCH on one antenna port, see TS 38.214 [19], clause | | 6.1.1. | +----------------------------------------------------------------------+
+----------------------------------------------------------------------+ | _UCI-OnPUSCH_ field descriptions | +======================================================================+ | **_betaOffsets_** | | | | Selection between and configuration of dynamic and semi-static | | beta-offset. If the field is not configured, the UE applies the | | value \'semiStatic\' (see TS 38.213 [13], clause 9.3). | +----------------------------------------------------------------------+ | **_scaling_** | | | | Indicates a scaling factor to limit the number of resource elements | | assigned to UCI on PUSCH. Value _f0p5_ corresponds to 0.5, value | | _f0p65_ corresponds to 0.65, and so on. The value configured herein | | is applicable for PUSCH with configured grant (see TS 38.212 [17], | | clause 6.3). | +----------------------------------------------------------------------+
Conditional Presence Explanation
* * *
_codebookBased_ The field is mandatory present if _txConfig_ is set to
codebook and absent otherwise.
#### \-- _PUSCH-ConfigCommon_
The IE _PUSCH-ConfigCommon_ is used to configure the cell specific PUSCH
parameters.
**_PUSCH-ConfigCommon_** information element
\-- ASN1START
\-- TAG-PUSCH-CONFIGCOMMON-START
PUSCH-ConfigCommon ::= SEQUENCE {
groupHoppingEnabledTransformPrecoding ENUMERATED {enabled} OPTIONAL, -- Need R
pusch-TimeDomainAllocationList PUSCH-TimeDomainResourceAllocationList
OPTIONAL, -- Need R
msg3-DeltaPreamble INTEGER (-1..6) OPTIONAL, -- Need R
p0-NominalWithGrant INTEGER (-202..24) OPTIONAL, -- Need R
...
}
\-- TAG-PUSCH-CONFIGCOMMON-STOP
\-- ASN1STOP
+----------------------------------------------------------------------+ | _PUSCH-ConfigCommon_ field descriptions | +======================================================================+ | **_groupHoppingEnabledTransformPrecoding_** | | | | For DMRS transmission with transform precoder, the NW may configure | | group hopping by this cell-specific parameter, see TS 38.211 [16], | | clause 6.4.1.1.1.2. | +----------------------------------------------------------------------+ | **_msg3-DeltaPreamble_** | | | | Power offset between msg3 and RACH preamble transmission. Actual | | value = field value * 2 [dB] (see TS 38.213 [13], clause 7.1) | +----------------------------------------------------------------------+ | **_p0-NominalWithGrant_** | | | | P0 value for PUSCH with grant (except msg3). Value in dBm. Only even | | values (step size 2) allowed (see TS 38.213 [13], clause 7.1) This | | field is cell specific | +----------------------------------------------------------------------+ | **_pusch-TimeDomainAllocationList_** | | | | List of time domain allocations for timing of UL assignment to UL | | data (see TS 38.214 [19], table 6.1.2.1.1-1). | +----------------------------------------------------------------------+
#### \-- _PUSCH-PowerControl_
The IE _PUSCH-PowerControl_ is used to configure UE specific power control
parameter for PUSCH.
_PUSCH-PowerControl_ information element
\-- ASN1START
\-- TAG-PUSCH-POWERCONTROL-START
PUSCH-PowerControl ::= SEQUENCE {
tpc-Accumulation ENUMERATED { disabled } OPTIONAL, -- Need S
msg3-Alpha Alpha OPTIONAL, -- Need S
p0-NominalWithoutGrant INTEGER (-202..24) OPTIONAL, -- Need M
p0-AlphaSets SEQUENCE (SIZE (1..maxNrofP0-PUSCH-AlphaSets)) OF P0-PUSCH-
AlphaSet OPTIONAL, -- Need M
pathlossReferenceRSToAddModList SEQUENCE (SIZE (1..maxNrofPUSCH-
PathlossReferenceRSs)) OF PUSCH-PathlossReferenceRS
OPTIONAL, -- Need N
pathlossReferenceRSToReleaseList SEQUENCE (SIZE (1..maxNrofPUSCH-
PathlossReferenceRSs)) OF PUSCH-PathlossReferenceRS-Id
OPTIONAL, -- Need N
twoPUSCH-PC-AdjustmentStates ENUMERATED {twoStates} OPTIONAL, -- Need S
deltaMCS ENUMERATED {enabled} OPTIONAL, -- Need S
sri-PUSCH-MappingToAddModList SEQUENCE (SIZE (1..maxNrofSRI-PUSCH-Mappings))
OF SRI-PUSCH-PowerControl
OPTIONAL, -- Need N
sri-PUSCH-MappingToReleaseList SEQUENCE (SIZE (1..maxNrofSRI-PUSCH-Mappings))
OF SRI-PUSCH-PowerControlId
OPTIONAL -- Need N
}
P0-PUSCH-AlphaSet ::= SEQUENCE {
p0-PUSCH-AlphaSetId P0-PUSCH-AlphaSetId,
p0 INTEGER (-16..15) OPTIONAL, -- Need S
alpha Alpha OPTIONAL -- Need S
}
P0-PUSCH-AlphaSetId ::= INTEGER (0..maxNrofP0-PUSCH-AlphaSets-1)
PUSCH-PathlossReferenceRS ::= SEQUENCE {
pusch-PathlossReferenceRS-Id PUSCH-PathlossReferenceRS-Id,
referenceSignal CHOICE {
ssb-Index SSB-Index,
csi-RS-Index NZP-CSI-RS-ResourceId
}
}
PUSCH-PathlossReferenceRS-Id ::= INTEGER (0..maxNrofPUSCH-
PathlossReferenceRSs-1)
SRI-PUSCH-PowerControl ::= SEQUENCE {
sri-PUSCH-PowerControlId SRI-PUSCH-PowerControlId,
sri-PUSCH-PathlossReferenceRS-Id PUSCH-PathlossReferenceRS-Id,
sri-P0-PUSCH-AlphaSetId P0-PUSCH-AlphaSetId,
sri-PUSCH-ClosedLoopIndex ENUMERATED { i0, i1 }
}
SRI-PUSCH-PowerControlId ::= INTEGER (0..maxNrofSRI-PUSCH-Mappings-1)
\-- TAG-PUSCH-POWERCONTROL-STOP
\-- ASN1STOP
+----------------------------------------------------------------------+ | _P0-PUSCH-AlphaSet_ field descriptions | +======================================================================+ | **_alpha_** | | | | alpha value for PUSCH with grant (except msg3) (see TS 38.213 | | [13], clause 7.1). When the field is absent the UE applies the | | value 1. | +----------------------------------------------------------------------+ | **_p0_** | | | | P0 value for PUSCH with grant (except msg3) in steps of 1dB (see TS | | 38.213 [13], clause 7.1). When the field is absent the UE applies | | the value 0. | +----------------------------------------------------------------------+
+----------------------------------------------------------------------+ | _PUSCH-PowerControl_ field descriptions | +======================================================================+ | **_deltaMCS_** | | | | Indicates whether to apply delta MCS. When the field is absent, the | | UE applies Ks = 0 in delta_TFC formula for PUSCH (see TS 38.213 | | [13], clause 7.1). | +----------------------------------------------------------------------+ | **_msg3-Alpha_** | | | | Dedicated alpha value for msg3 PUSCH (see TS 38.213 [13], clause | | 7.1). When the field is absent the UE applies the value 1. | +----------------------------------------------------------------------+ | **_p0-AlphaSets_** | | | | configuration {p0-pusch, alpha} sets for PUSCH (except msg3), i.e., | | { {p0,alpha,index1}, {p0,alpha,index2},...} (see TS 38.213 [13], | | clause 7.1). When no set is configured, the UE uses the P0-nominal | | for msg3 PUSCH, P0-UE is set to 0 and alpha is set according to | | msg3-Alpha configured for msg3 PUSCH. | +----------------------------------------------------------------------+ | **_p0-NominalWithoutGrant_** | | | | P0 value for UL grant-free/SPS based PUSCH. Value in dBm. Only even | | values (step size 2) allowed (see TS 38.213 [13], clause 7.1). | +----------------------------------------------------------------------+ | **_pathlossReferenceRSToAddModList_** | | | | A set of Reference Signals (e.g. a CSI-RS config or a SS block) to | | be used for PUSCH path loss estimation. Up to | | _maxNrofPUSCH-PathlossReferenceRSs_ may be configured (see TS 38.213 | | [13], clause 7.1). | +----------------------------------------------------------------------+ | **_sri-PUSCH-MappingToAddModList_** | | | | A list of _SRI-PUSCH-PowerControl_ elements among which one is | | selected by the SRI field in DCI (see TS 38.213 [13], clause 7.1). | +----------------------------------------------------------------------+ | **_tpc-Accumulation_** | | | | If enabled, UE applies TPC commands via accumulation. If not | | enabled, UE applies the TPC command without accumulation. If the | | field is absent, TPC accumulation is enabled (see TS 38.213 [13], | | clause 7.1). | +----------------------------------------------------------------------+ | **_twoPUSCH-PC-AdjustmentStates_** | | | | Number of PUSCH power control adjustment states maintained by the UE | | (i.e., fc(i)). If the field is present (_n2_) the UE maintains two | | power control states (i.e., fc(i,0) and fc(i,1)). If the field is | | absent, it maintains one power control state (i.e., fc(i,0)) (see TS | | 38.213 [13], clause 7.1). | +----------------------------------------------------------------------+
+----------------------------------------------------------------------+ | _SRI-PUSCH-PowerControl_ field descriptions | +======================================================================+ | **_sri-P0-PUSCH-AlphaSetId_** | | | | The ID of a _P0-PUSCH-AlphaSet_ as configured in _p0-AlphaSets_ _in | | PUSCH-PowerControl_. | +----------------------------------------------------------------------+ | **_sri-PUSCH-ClosedLoopIndex_** | | | | The index of the closed power control loop associated with this | | _SRI-PUSCH-PowerControl._ | +----------------------------------------------------------------------+ | **_sri-PUSCH-PathlossReferenceRS-Id_** | | | | The ID of _PUSCH-PathlossReferenceRS_ as configured in the | | _pathlossReferenceRSToAddModList_ in _PUSCH-PowerControl_. | +----------------------------------------------------------------------+ | **_sri-PUSCH-PowerControlId_** | | | | The ID of this _SRI-PUSCH-PowerControl_ configuration. It is used as | | the codepoint (payload) in the SRI DCI field. | +----------------------------------------------------------------------+
#### \-- _PUSCH-ServingCellConfig_
The IE _PUSCH-ServingCellConfig_ is used to configure UE specific PUSCH
parameters that are common across the UE\'s BWPs of one serving cell.
_PUSCH-ServingCellConfig_ information element
\-- ASN1START
\-- TAG-PUSCH-SERVINGCELLCONFIG-START
PUSCH-ServingCellConfig ::= SEQUENCE {
codeBlockGroupTransmission SetupRelease { PUSCH-CodeBlockGroupTransmission }
OPTIONAL, -- Need M
rateMatching ENUMERATED {limitedBufferRM} OPTIONAL, -- Need S
xOverhead ENUMERATED {xoh6, xoh12, xoh18} OPTIONAL, -- Need S
...,
[[
maxMIMO-Layers INTEGER (1..4) OPTIONAL, -- Need M
processingType2Enabled BOOLEAN OPTIONAL -- Need M
]]
}
PUSCH-CodeBlockGroupTransmission ::= SEQUENCE {
maxCodeBlockGroupsPerTransportBlock ENUMERATED {n2, n4, n6, n8},
...
}
\-- TAG-PUSCH-SERVINGCELLCONFIG-STOP
\-- ASN1STOP
+----------------------------------------------------------------------+ | _PUSCH-CodeBlockGroupTransmission_ field descriptions | +======================================================================+ | **_maxCodeBlockGroupsPerTransportBlock_** | | | | Maximum number of code-block-groups (CBGs) per TB (see TS 38.213 | | [13], clause 9.1). | +----------------------------------------------------------------------+
+----------------------------------------------------------------------+ | _PUSCH-ServingCellConfig_ field descriptions | +======================================================================+ | **_codeBlockGroupTransmission_** | | | | Enables and configures code-block-group (CBG) based transmission | | (see TS 38.214 [19], clause 5.1.5). | +----------------------------------------------------------------------+ | **_maxMIMO-Layers_** | | | | Indicates the maximum MIMO layer to be used for PUSCH in all BWPs of | | the normal UL of this serving cell (see TS 38.212 [17], clause | | 5.4.2.1). If present, the network sets _maxRank_ to the same value. | | For SUL, the maximum number of MIMO layers is always 1, and network | | does not configure this field. | +----------------------------------------------------------------------+ | **_processingType2Enabled_** | | | | Enables configuration of advanced processing time capability 2 for | | PUSCH (see 38.214 [19], clause 6.4). | +----------------------------------------------------------------------+ | **_rateMatching_** | | | | Enables LBRM (Limited buffer rate-matching). When the field is | | absent the UE applies FBRM (Full buffer rate-matchingLBRM) (see TS | | 38.212 [17], clause 5.4.2). | +----------------------------------------------------------------------+ | **_xOverhead_** | | | | If the field is absent, the UE applies the value \'xoh0\' (see TS | | 38.214 [19], clause 5.1.3.2). | +----------------------------------------------------------------------+
#### \-- _PUSCH-TimeDomainResourceAllocationList_
The IE _PUSCH-TimeDomainResourceAllocation_ is used to configure a time domain
relation between PDCCH and PUSCH. _PUSCH-TimeDomainResourceAllocationList_
contains one or more of such _PUSCH-TimeDomainResourceAllocations_. The
network indicates in the UL grant which of the configured time domain
allocations the UE shall apply for that UL grant. The UE determines the bit
width of the DCI field based on the number of entries in the _PUSCH-
TimeDomainResourceAllocationList_. Value 0 in the DCI field refers to the
first element in this list, value 1 in the DCI field refers to the second
element in this list, and so on.
_PUSCH-TimeDomainResourceAllocation_ information element
\-- ASN1START
\-- TAG-PUSCH-TIMEDOMAINRESOURCEALLOCATIONLIST-START
PUSCH-TimeDomainResourceAllocationList ::= SEQUENCE (SIZE(1..maxNrofUL-
Allocations)) OF PUSCH-TimeDomainResourceAllocation
PUSCH-TimeDomainResourceAllocation ::= SEQUENCE {
k2 INTEGER(0..32) OPTIONAL, -- Need S
mappingType ENUMERATED {typeA, typeB},
startSymbolAndLength INTEGER (0..127)
}
\-- TAG-PUSCH-TIMEDOMAINRESOURCEALLOCATIONLIST-STOP
\-- ASN1STOP
+----------------------------------------------------------------------+ | _PUSCH-TimeDomainResourceAllocationList_ field descriptions | +======================================================================+ | **_k2_** | | | | Corresponds to L1 parameter \'K2\' (see TS 38.214 [19], clause | | 6.1.2.1) When the field is absent the UE applies the value 1 when | | PUSCH SCS is 15/30 kHz; the value 2 when PUSCH SCS is 60 kHz, and | | the value 3 when PUSCH SCS is 120KHz. | +----------------------------------------------------------------------+ | **_mappingType_** | | | | Mapping type (see TS 38.214 [19], clause 6.1.2.1). | +----------------------------------------------------------------------+ | **_startSymbolAndLength_** | | | | An index giving valid combinations of start symbol and length | | (jointly encoded) as start and length indicator (SLIV). The network | | configures the field so that the allocation does not cross the slot | | boundary. (see TS 38.214 [19], clause 6.1.2.1). | +----------------------------------------------------------------------+
#### \-- _PUSCH-TPC-CommandConfig_
The IE _PUSCH-TPC-CommandConfig_ is used to configure the UE for extracting
TPC commands for PUSCH from a group-TPC messages on DCI.
_PUSCH-TPC-CommandConfig_ information element
\-- ASN1START
\-- TAG-PUSCH-TPC-COMMANDCONFIG-START
PUSCH-TPC-CommandConfig ::= SEQUENCE {
tpc-Index INTEGER (1..15) OPTIONAL, -- Cond SUL
tpc-IndexSUL INTEGER (1..15) OPTIONAL, -- Cond SUL-Only
targetCell ServCellIndex OPTIONAL, -- Need S
...
}
\-- TAG-PUSCH-TPC-COMMANDCONFIG-STOP
\-- ASN1STOP
+----------------------------------------------------------------------+ | _PUSCH-TPC-CommandConfig_ field descriptions | +======================================================================+ | **_targetCell_** | | | | The serving cell to which the acquired power control commands are | | applicable. If the value is absent, the UE applies the TPC commands | | to the serving cell on which the command has been received. | +----------------------------------------------------------------------+ | **_tpc-Index_** | | | | An index determining the position of the first bit of TPC command | | inside the DCI format 2-2 payload. | +----------------------------------------------------------------------+ | **_tpc-IndexSUL_** | | | | An index determining the position of the first bit of TPC command | | inside the DCI format 2-2 payload. | +----------------------------------------------------------------------+
Conditional Presence Explanation
* * *
_SUL-Only_ The field is optionally present, Need R, if _supplementaryUplink_
is configured within _ServingCellConfig_. It is absent otherwise. _SUL_ The
field is optionally present, Need R, if _supplementaryUplink_ is configured
within _ServingCellConfig_. It is mandatory present otherwise.
#### _\-- Q-OffsetRange_
The IE _Q-OffsetRange_ is used to indicate a cell, beam or measurement object
specific offset to be applied when evaluating candidates for cell re-selection
or when evaluating triggering conditions for measurement reporting. The value
is in dB. Value _dB-24_ corresponds to -24 dB, _dB-22_ corresponds to -22 dB
and so on.
**_Q-OffsetRange_** information element
\-- ASN1START
\-- TAG-Q-OFFSETRANGE-START
Q-OffsetRange ::= ENUMERATED {
dB-24, dB-22, dB-20, dB-18, dB-16, dB-14,
dB-12, dB-10, dB-8, dB-6, dB-5, dB-4, dB-3,
dB-2, dB-1, dB0, dB1, dB2, dB3, dB4, dB5,
dB6, dB8, dB10, dB12, dB14, dB16, dB18,
dB20, dB22, dB24}
\-- TAG-Q-OFFSETRANGE-STOP
\-- ASN1STOP
#### \-- _Q-QualMin_
The IE _Q-QualMin_ is used to indicate for cell selection/ re-selection the
required minimum received RSRQ level in the (NR) cell. Corresponds to
parameter Q~qualmin~ in TS 38.304 [20]. Actual value Q~qualmin~ = field value
[dB].
**_Q-QualMin_** information element
\-- ASN1START
\-- TAG-Q-QUALMIN-START
Q-QualMin ::= INTEGER (-43..-12)
\-- TAG-Q-QUALMIN-STOP
\-- ASN1STOP
#### \-- _Q-RxLevMin_
The IE _Q-RxLevMin_ is used to indicate for cell selection/ re-selection the
required minimum received RSRP level in the (NR) cell. Corresponds to
parameter Q~rxlevmin~ in TS 38.304 [20]. Actual value Q~rxlevmin~ = field
value * 2 [dBm].
_Q-RxLevMin_ information element
\-- ASN1START
\-- TAG-Q-RXLEVMIN-START
Q-RxLevMin ::= INTEGER (-70..-22)
\-- TAG-Q-RXLEVMIN-STOP
\-- ASN1STOP
#### \-- _QuantityConfig_
The IE _QuantityConfig_ specifies the measurement quantities and layer 3
filtering coefficients for NR and inter-RAT measurements.
QuantityConfig information element
\-- ASN1START
\-- TAG-QUANTITYCONFIG-START
QuantityConfig ::= SEQUENCE {
quantityConfigNR-List SEQUENCE (SIZE (1..maxNrofQuantityConfig)) OF
QuantityConfigNR OPTIONAL, -- Need M
...,
[[
quantityConfigEUTRA FilterConfig OPTIONAL -- Need M
]]
}
QuantityConfigNR::= SEQUENCE {
quantityConfigCell QuantityConfigRS,
quantityConfigRS-Index QuantityConfigRS OPTIONAL -- Need M
}
QuantityConfigRS ::= SEQUENCE {
ssb-FilterConfig FilterConfig,
csi-RS-FilterConfig FilterConfig
}
FilterConfig ::= SEQUENCE {
filterCoefficientRSRP FilterCoefficient DEFAULT fc4,
filterCoefficientRSRQ FilterCoefficient DEFAULT fc4,
filterCoefficientRS-SINR FilterCoefficient DEFAULT fc4
}
\-- TAG-QUANTITYCONFIG-STOP
\-- ASN1STOP
+----------------------------------------------------------------------+ | _QuantityConfigNR_ field descriptions | +======================================================================+ | **_quantityConfigCell_** | | | | Specifies L3 filter configurations for cell measurement results for | | the configurable RS Types (e.g. SS/PBCH block and CSI-RS) and the | | configurable measurement quantities (e.g. RSRP, RSRQ and SINR). | +----------------------------------------------------------------------+ | **_quantityConfigRS-Index_** | | | | Specifies L3 filter configurations for measurement results per RS | | index for the configurable RS Types (e.g. SS/PBCH block and CSI-RS) | | and the configurable measurement quantities (e.g. RSRP, RSRQ and | | SINR). | +----------------------------------------------------------------------+
+----------------------------------------------------------------------+ | _QuantityConfigRS_ field descriptions | +======================================================================+ | **_csi-RS-FilterConfig_** | | | | CSI-RS based L3 filter configurations: | | | | Specifies L3 filter configurations for CSI-RSRP, CSI-RSRQ and | | CSI-SINR measurement results from the L1 filter(s), as defined in TS | | 38.215 [9]. | +----------------------------------------------------------------------+ | **_ssb-FilterConfig_** | | | | SS Block based L3 filter configurations: | | | | Specifies L3 filter configurations for SS-RSRP, SS-RSRQ and SS-SINR | | measurement results from the L1 filter(s), as defined in TS 38.215 | | [9]. | +----------------------------------------------------------------------+
#### \-- _RACH-ConfigCommon_
The IE _RACH-ConfigCommon_ is used to specify the cell specific random-access
parameters.
**_RACH-ConfigCommon_** information element
\-- ASN1START
\-- TAG-RACH-CONFIGCOMMON-START
RACH-ConfigCommon ::= SEQUENCE {
rach-ConfigGeneric RACH-ConfigGeneric,
totalNumberOfRA-Preambles INTEGER (1..63) OPTIONAL, -- Need S
ssb-perRACH-OccasionAndCB-PreamblesPerSSB CHOICE {
oneEighth ENUMERATED
{n4,n8,n12,n16,n20,n24,n28,n32,n36,n40,n44,n48,n52,n56,n60,n64},
oneFourth ENUMERATED
{n4,n8,n12,n16,n20,n24,n28,n32,n36,n40,n44,n48,n52,n56,n60,n64},
oneHalf ENUMERATED
{n4,n8,n12,n16,n20,n24,n28,n32,n36,n40,n44,n48,n52,n56,n60,n64},
one ENUMERATED
{n4,n8,n12,n16,n20,n24,n28,n32,n36,n40,n44,n48,n52,n56,n60,n64},
two ENUMERATED {n4,n8,n12,n16,n20,n24,n28,n32},
four INTEGER (1..16),
eight INTEGER (1..8),
sixteen INTEGER (1..4)
} OPTIONAL, -- Need M
groupBconfigured SEQUENCE {
ra-Msg3SizeGroupA ENUMERATED {b56, b144, b208, b256, b282, b480, b640,
b800, b1000, b72, spare6, spare5,spare4, spare3, spare2, spare1},
messagePowerOffsetGroupB ENUMERATED { minusinfinity, dB0, dB5, dB8, dB10,
dB12, dB15, dB18},
numberOfRA-PreamblesGroupA INTEGER (1..64)
} OPTIONAL, -- Need R
ra-ContentionResolutionTimer ENUMERATED { sf8, sf16, sf24, sf32, sf40, sf48,
sf56, sf64},
rsrp-ThresholdSSB RSRP-Range OPTIONAL, -- Need R
rsrp-ThresholdSSB-SUL RSRP-Range OPTIONAL, -- Cond SUL
prach-RootSequenceIndex CHOICE {
l839 INTEGER (0..837),
l139 INTEGER (0..137)
},
msg1-SubcarrierSpacing SubcarrierSpacing OPTIONAL, -- Cond L139
restrictedSetConfig ENUMERATED {unrestrictedSet, restrictedSetTypeA,
restrictedSetTypeB},
msg3-transformPrecoder ENUMERATED {enabled} OPTIONAL, -- Need R
...
}
\-- TAG-RACH-CONFIGCOMMON-STOP
\-- ASN1STOP
+----------------------------------------------------------------------+ | _RACH-ConfigCommon_ field descriptions | +======================================================================+ | **_messagePowerOffsetGroupB_** | | | | Threshold for preamble selection. Value is in dB. Value | | _minusinfinity_ corresponds to --infinity. Value _dB0_ corresponds | | to 0 dB, _dB5_ corresponds to 5 dB and so on. (see TS 38.321 [3], | | clause 5.1.2) | +----------------------------------------------------------------------+ | **_msg1-SubcarrierSpacing_** | | | | Subcarrier spacing of PRACH (see TS 38.211 [16], clause 5.3.2). | | Only the values 15 or 30 kHz (FR1), and 60 or 120 kHz (FR2) are | | applicable. If absent, the UE applies the SCS as derived from the | | _prach-ConfigurationIndex_ in _RACH-ConfigGeneric_ (see tables Table | | 6.3.3.1-1, Table 6.3.3.2-2 and Table 6.3.3.2-3, TS 38.211 [16]). | | The value also applies to contention free random access | | (_RACH-ConfigDedicated_), to SI-request and to contention-based beam | | failure recovery (CB-BFR). But it does not apply for contention free | | beam failure recovery (CF-BFR) (see _BeamFailureRecoveryConfig_). | +----------------------------------------------------------------------+ | **_msg3-transformPrecoder_** | | | | Enables the transform precoder for Msg3 transmission according to | | clause 6.1.3 of TS 38.214 [19]. If the field is absent, the UE | | disables the transformer precoder (see TS 38.213 [13], clause | | 8.3). | +----------------------------------------------------------------------+ | **_numberOfRA-PreamblesGroupA_** | | | | The number of CB preambles per SSB in group A. This determines | | implicitly the number of CB preambles per SSB available in group B. | | (see TS 38.321 [3], clause 5.1.1). The setting should be | | consistent with the setting of | | _ssb-perRACH-OccasionAndCB-PreamblesPerSSB_. | +----------------------------------------------------------------------+ | **_prach-RootSequenceIndex_** | | | | PRACH root sequence index (see TS 38.211 [16], clause 6.3.3.1). | | The value range depends on whether L=839 or L=139. The short/long | | preamble format indicated in this IE should be consistent with the | | one indicated in _prach-ConfigurationIndex_ in the | | _RACH-ConfigDedicated_ (if configured). | +----------------------------------------------------------------------+ | **_ra-ContentionResolutionTimer_** | | | | The initial value for the contention resolution timer (see TS 38.321 | | [3], clause 5.1.5). Value _sf8_ corresponds to 8 subframes, value | | _sf16_ corresponds to 16 subframes, and so on. | +----------------------------------------------------------------------+ | **_ra-Msg3SizeGroupA_** | | | | Transport Blocks size threshold in bits below which the UE shall use | | a contention-based RA preamble of group A. (see TS 38.321 [3], | | clause 5.1.2). | +----------------------------------------------------------------------+ | **_rach-ConfigGeneric_** | | | | RACH parameters for both regular random access and beam failure | | recovery. | +----------------------------------------------------------------------+ | **_restrictedSetConfig_** | | | | Configuration of an unrestricted set or one of two types of | | restricted sets, see TS 38.211 [16], clause 6.3.3.1. | +----------------------------------------------------------------------+ | **_rsrp-ThresholdSSB_** | | | | UE may select the SS block and corresponding PRACH resource for | | path-loss estimation and (re)transmission based on SS blocks that | | satisfy the threshold (see TS 38.213 [13]). | +----------------------------------------------------------------------+ | **_rsrp-ThresholdSSB-SUL_** | | | | The UE selects SUL carrier to perform random access based on this | | threshold (see TS 38.321 [3], clause 5.1.1). The value applies to | | all the BWPs. | +----------------------------------------------------------------------+ | **_ssb-perRACH-OccasionAndCB-PreamblesPerSSB_** | | | | The meaning of this field is twofold: the CHOICE conveys the | | information about the number of SSBs per RACH occasion. Value | | _oneEighth_ corresponds to one SSB associated with 8 RACH occasions, | | value _oneFourth_ corresponds to one SSB associated with 4 RACH | | occasions, and so on. The ENUMERATED part indicates the number of | | Contention Based preambles per SSB. Value _n4_ corresponds to 4 | | Contention Based preambles per SSB, value _n8_ corresponds to 8 | | Contention Based preambles per SSB, and so on. The total number of | | CB preambles in a RACH occasion is given by _CB-preambles-per-SSB_ | | * max(1, _SSB-per-rach-occasion_). See TS 38.213 [13]. | +----------------------------------------------------------------------+ | **_totalNumberOfRA-Preambles_** | | | | Total number of preambles used for contention based and contention | | free random access in the RACH resources defined in | | _RACH-ConfigCommon_ , excluding preambles used for other purposes | | (e.g. for SI request). If the field is absent, all 64 preambles are | | available for RA. The setting should be consistent with the setting | | of _ssb-perRACH-OccasionAndCB-PreamblesPerSSB_ , i.e. it should be a | | multiple of the number of SSBs per RACH occasion. | +----------------------------------------------------------------------+
Conditional Presence Explanation
* * *
_L139_ The field is mandatory present if _prach-RootSequenceIndex_ L=139,
otherwise the field is absent, Need S. _SUL_ The field is mandatory present in
_initialUplinkBWP_ if _supplementaryUplink_ _is configured in
ServingCellConfigCommonSIB or if supplementaryUplinkConfig is configured in
ServingCellConfigCommon_ ; otherwise, the field is absent.
#### \-- _RACH-ConfigDedicated_
The IE _RACH-ConfigDedicated_ is used to specify the dedicated random access
parameters.
**_RACH-ConfigDedicated_** information element
\-- ASN1START
\-- TAG-RACH-CONFIGDEDICATED-START
RACH-ConfigDedicated ::= SEQUENCE {
cfra CFRA OPTIONAL, -- Need S
ra-Prioritization RA-Prioritization OPTIONAL, -- Need N
...
}
CFRA ::= SEQUENCE {
occasions SEQUENCE {
rach-ConfigGeneric RACH-ConfigGeneric,
ssb-perRACH-Occasion ENUMERATED {oneEighth, oneFourth, oneHalf, one, two,
four, eight, sixteen}
OPTIONAL -- Cond Mandatory
} OPTIONAL, -- Need S
resources CHOICE {
ssb SEQUENCE {
ssb-ResourceList SEQUENCE (SIZE(1..maxRA-SSB-Resources)) OF CFRA-SSB-Resource,
ra-ssb-OccasionMaskIndex INTEGER (0..15)
},
csirs SEQUENCE {
csirs-ResourceList SEQUENCE (SIZE(1..maxRA-CSIRS-Resources)) OF CFRA-CSIRS-
Resource,
rsrp-ThresholdCSI-RS RSRP-Range
}
},
...,
[[
totalNumberOfRA-Preambles INTEGER (1..63) OPTIONAL -- Cond Occasions
]]
}
CFRA-SSB-Resource ::= SEQUENCE {
ssb SSB-Index,
ra-PreambleIndex INTEGER (0..63),
...
}
CFRA-CSIRS-Resource ::= SEQUENCE {
csi-RS CSI-RS-Index,
ra-OccasionList SEQUENCE (SIZE(1..maxRA-OccasionsPerCSIRS)) OF INTEGER
(0..maxRA-Occasions-1),
ra-PreambleIndex INTEGER (0..63),
...
}
\-- TAG-RACH-CONFIGDEDICATED-STOP
\-- ASN1STOP
+----------------------------------------------------------------------+ | _CFRA-CSIRS-Resource_ field descriptions | +======================================================================+ | **_csi-RS_** | | | | The ID of a CSI-RS resource defined in the measurement object | | associated with this serving cell. | +----------------------------------------------------------------------+ | **_ra-OccasionList_** | | | | RA occasions that the UE shall use when performing CF-RA upon | | selecting the candidate beam identified by this CSI-RS. The network | | ensures that the RA occasion indexes provided herein are also | | configured by prach-ConfigurationIndex and msg1-FDM. Each RACH | | occasion is sequentially numbered, first, in increasing order of | | frequency resource indexes for frequency multiplexed PRACH | | occasions; second, in increasing order of time resource indexes for | | time multiplexed PRACH occasions within a PRACH slot and Third, in | | increasing order of indexes for PRACH slots. | +----------------------------------------------------------------------+ | **_ra-PreambleIndex_** | | | | The RA preamble index to use in the RA occasions associated with | | this CSI-RS. | +----------------------------------------------------------------------+
+----------------------------------------------------------------------+ | _CFRA_ field descriptions | +======================================================================+ | **_occasions_** | | | | RA occasions for contention free random access. If the field is | | absent, the UE uses the RA occasions configured in | | _RACH-ConfigCommon_ in the first active UL BWP. | +----------------------------------------------------------------------+ | **_ra-ssb-OccasionMaskIndex_** | | | | Explicitly signalled PRACH Mask Index for RA Resource selection in | | TS 38.321 [3]. The mask is valid for all SSB resources signalled | | in _ssb-ResourceList_. | +----------------------------------------------------------------------+ | **_rach-ConfigGeneric_** | | | | Configuration of contention free random access occasions for CFRA. | | The UE shall ignore _preambleReceivedTargetPower_ , | | _preambleTransMax_ , _powerRampingStep_ , _ra-ResponseWindow_ signaled | | within this field and use the corresponding values provided in | | _RACH-ConfigCommon_. | +----------------------------------------------------------------------+ | **_ssb-perRACH-Occasion_** | | | | Number of SSBs per RACH occasion. | +----------------------------------------------------------------------+ | **_totalNumberOfRA-Preambles_** | | | | Total number of preambles used for contention free random access in | | the RACH resources defined in CFRA, excluding preambles used for | | other purposes (e.g. for SI request). If the field is absent but the | | field _occasions_ is present, the UE may assume all the 64 preambles | | are for RA. The setting should be consistent with the setting of | | _ssb-perRACH-Occasion_ , if present, i.e. it should be a multiple of | | the number of SSBs per RACH occasion. | +----------------------------------------------------------------------+
+----------------------------------------------------------------------+ | _CFRA-SSB-Resource_ field descriptions | +======================================================================+ | **_ra-PreambleIndex_** | | | | The preamble index that the UE shall use when performing CF-RA upon | | selecting the candidate beams identified by this SSB. | +----------------------------------------------------------------------+ | **_ssb_** | | | | The ID of an SSB transmitted by this serving cell. | +----------------------------------------------------------------------+
+----------------------------------------------------------------------+ | _RACH-ConfigDedicated_ field descriptions | +======================================================================+ | **_cfra_** | | | | Parameters for contention free random access to a given target cell. | | If the field is absent, the UE performs contention based random | | access. | +----------------------------------------------------------------------+ | **_ra-prioritization_** | | | | Parameters which apply for prioritized random access procedure to a | | given target cell (see TS 38.321 [3], clause 5.1.1). | +----------------------------------------------------------------------+
Conditional Presence Explanation
* * *
_Mandatory_ The field is mandatory present. _Occasions_ The field is
optionally present, Need S, if the field _occasions_ is present, otherwise it
is absent.
#### \-- _RACH-ConfigGeneric_
The IE _RACH-ConfigGeneric_ is used to specify the random-access parameters
both for regular random access as well as for beam failure recovery.
**_RACH-ConfigGeneric_** information element
\-- ASN1START
\-- TAG-RACH-CONFIGGENERIC-START
RACH-ConfigGeneric ::= SEQUENCE {
prach-ConfigurationIndex INTEGER (0..255),
msg1-FDM ENUMERATED {one, two, four, eight},
msg1-FrequencyStart INTEGER (0..maxNrofPhysicalResourceBlocks-1),
zeroCorrelationZoneConfig INTEGER(0..15),
preambleReceivedTargetPower INTEGER (-202..-60),
preambleTransMax ENUMERATED {n3, n4, n5, n6, n7, n8, n10, n20, n50, n100,
n200},
powerRampingStep ENUMERATED {dB0, dB2, dB4, dB6},
ra-ResponseWindow ENUMERATED {sl1, sl2, sl4, sl8, sl10, sl20, sl40, sl80},
...
}
\-- TAG-RACH-CONFIGGENERIC-STOP
\-- ASN1STOP
+----------------------------------------------------------------------+ | _RACH-ConfigGeneric_ field descriptions | +======================================================================+ | **_msg1-FDM_** | | | | The number of PRACH transmission occasions FDMed in one time | | instance. (see TS 38.211 [16], clause 6.3.3.2). | +----------------------------------------------------------------------+ | **_msg1-FrequencyStart_** | | | | Offset of lowest PRACH transmission occasion in frequency domain | | with respective to PRB 0. The value is configured so that the | | corresponding RACH resource is entirely within the bandwidth of the | | UL BWP. (see TS 38.211 [16], clause 6.3.3.2). | +----------------------------------------------------------------------+ | **_powerRampingStep_** | | | | Power ramping steps for PRACH (see TS 38.321 [3],5.1.3). | +----------------------------------------------------------------------+ | **_prach-ConfigurationIndex_** | | | | PRACH configuration index. For _prach-ConfigurationIndex_ configured | | under _beamFailureRecovery-Config_ , the _prach-ConfigurationIndex_ | | can only correspond to the short preamble format, (see TS 38.211 | | [16], clause 6.3.3.2). | +----------------------------------------------------------------------+ | **_preambleReceivedTargetPower_** | | | | The target power level at the network receiver side (see TS 38.213 | | [13], clause 7.4, TS 38.321 [3], clauses 5.1.2, 5.1.3). Only | | multiples of 2 dBm may be chosen (e.g. -202, -200, -198, ...). | +----------------------------------------------------------------------+ | **_preambleTransMax_** | | | | Max number of RA preamble transmission performed before declaring a | | failure (see TS 38.321 [3], clauses 5.1.4, 5.1.5). | +----------------------------------------------------------------------+ | **_ra-ResponseWindow_** | | | | Msg2 (RAR) window length in number of slots. The network configures | | a value lower than or equal to 10 ms (see TS 38.321 [3], clause | | 5.1.4). UE ignores the field if included in _SCellConfig_. | +----------------------------------------------------------------------+ | **_zeroCorrelationZoneConfig_** | | | | N-CS configuration, see Table 6.3.3.1-5 in TS 38.211 [16]. | +----------------------------------------------------------------------+
#### \-- _RA-Prioritization_
The IE _RA-Prioritization_ is used to configure prioritized random access.
_RA-Prioritization_ information element
\-- ASN1START
\-- TAG-RA-PRIORITIZATION-START
RA-Prioritization ::= SEQUENCE {
powerRampingStepHighPriority ENUMERATED {dB0, dB2, dB4, dB6},
scalingFactorBI ENUMERATED {zero, dot25, dot5, dot75} OPTIONAL, -- Need R
...
}
\-- TAG-RA-PRIORITIZATION-STOP
\-- ASN1STOP
+----------------------------------------------------------------------+ | _RA-Prioritization_ field descriptions | +======================================================================+ | **_powerRampingStepHighPrioritiy_** | | | | Power ramping step applied for prioritized random access procedure. | +----------------------------------------------------------------------+ | **_scalingFactorBI_** | | | | Scaling factor for the backoff indicator (BI) for the prioritized | | random access procedure. (see TS 38.321 [3], clause 5.1.4). Value | | _zero_ corresponds to 0, value _dot25_ corresponds to 0.25 and so | | on. | +----------------------------------------------------------------------+
#### \-- _RadioBearerConfig_
The IE _RadioBearerConfig_ is used to add, modify and release signalling
and/or data radio bearers. Specifically, this IE carries the parameters for
PDCP and, if applicable, SDAP entities for the radio bearers.
**_RadioBearerConfig_** information element
\-- ASN1START
\-- TAG-RADIOBEARERCONFIG-START
RadioBearerConfig ::= SEQUENCE {
srb-ToAddModList SRB-ToAddModList OPTIONAL, -- Cond HO-Conn
srb3-ToRelease ENUMERATED{true} OPTIONAL, -- Need N
drb-ToAddModList DRB-ToAddModList OPTIONAL, -- Cond HO-toNR
drb-ToReleaseList DRB-ToReleaseList OPTIONAL, -- Need N
securityConfig SecurityConfig OPTIONAL, -- Need M
...
}
SRB-ToAddModList ::= SEQUENCE (SIZE (1..2)) OF SRB-ToAddMod
SRB-ToAddMod ::= SEQUENCE {
srb-Identity SRB-Identity,
reestablishPDCP ENUMERATED{true} OPTIONAL, -- Need N
discardOnPDCP ENUMERATED{true} OPTIONAL, -- Need N
pdcp-Config PDCP-Config OPTIONAL, -- Cond PDCP
...
}
DRB-ToAddModList ::= SEQUENCE (SIZE (1..maxDRB)) OF DRB-ToAddMod
DRB-ToAddMod ::= SEQUENCE {
cnAssociation CHOICE {
eps-BearerIdentity INTEGER (0..15),
sdap-Config SDAP-Config
} OPTIONAL, -- Cond DRBSetup
drb-Identity DRB-Identity,
reestablishPDCP ENUMERATED{true} OPTIONAL, -- Need N
recoverPDCP ENUMERATED{true} OPTIONAL, -- Need N
pdcp-Config PDCP-Config OPTIONAL, -- Cond PDCP
...
}
DRB-ToReleaseList ::= SEQUENCE (SIZE (1..maxDRB)) OF DRB-Identity
SecurityConfig ::= SEQUENCE {
securityAlgorithmConfig SecurityAlgorithmConfig OPTIONAL, -- Cond
RBTermChange1
keyToUse ENUMERATED{master, secondary} OPTIONAL, -- Cond RBTermChange
...
}
\-- TAG-RADIOBEARERCONFIG-STOP
\-- ASN1STOP
+----------------------------------------------------------------------+ | _DRB-ToAddMod_ field descriptions | +======================================================================+ | **_cnAssociation_** | | | | Indicates if the bearer is associated with the _eps-bearerIdentity_ | | (when connected to EPC) or _sdap-Config_ (when connected to 5GC). | +----------------------------------------------------------------------+ | **_drb-Identity_** | | | | In case of DC, the DRB identity is unique within the scope of the | | UE, i.e. an MCG DRB cannot use the same value as a split DRB. For a | | split DRB the same identity is used for the MCG and SCG parts of the | | configuration. | +----------------------------------------------------------------------+ | **_eps-BearerIdentity_** | | | | The EPS bearer ID determines the EPS bearer. | +----------------------------------------------------------------------+ | **_reestablishPDCP_** | | | | Indicates that PDCP should be re-established. Network sets this to | | _true_ whenever the security key used for this radio bearer changes. | | Key change could for example be due to termination point change for | | the bearer, reconfiguration with sync, resuming an RRC connection, | | or the first reconfiguration after reestablishment. It is also | | applicable for LTE procedures when NR PDCP is configured. | +----------------------------------------------------------------------+ | **_recoverPDCP_** | | | | Indicates that PDCP should perform recovery according to TS 38.323 | | [5]. | +----------------------------------------------------------------------+ | **_sdap-Config_** | | | | The SDAP configuration determines how to map QoS flows to DRBs when | | NR or E-UTRA connects to the 5GC and presence/absence of UL/DL SDAP | | headers. | +----------------------------------------------------------------------+
+----------------------------------------------------------------------+ | _RadioBearerConfig_ field descriptions | +======================================================================+ | **_securityConfig_** | | | | Indicates the security algorithm and key to use for the signalling | | and data radio bearers configured with the list in this IE | | _RadioBearerConfig_. When the field is not included after AS | | security has been activated, the UE shall continue to use the | | currently configured _keyToUse_ and security algorithm for the radio | | bearers reconfigured with the lists in this IE _RadioBearerConfig_. | | The field is not included when configuring SRB1 before AS security | | is activated. | +----------------------------------------------------------------------+ | **_srb3-ToRelease_** | | | | Release SRB3. SRB3 release can only be done over SRB1 and only at | | SCG release and reconfiguration with sync. | +----------------------------------------------------------------------+
+----------------------------------------------------------------------+ | _SecurityConfig_ field descriptions | +======================================================================+ | **_keyToUse_** | | | | Indicates if the bearers configured with the list in this IE | | _RadioBearerConfig_ are using the master key or the secondary key | | for deriving ciphering and/or integrity protection keys. For MR-DC, | | network should not configure SRB1 and SRB2 with secondary key and | | SRB3 with the master key. When the field is not included, the UE | | shall continue to use the currently configured _keyToUse_ for the | | radio bearers reconfigured with the lists in this IE | | _RadioBearerConfig_. | +----------------------------------------------------------------------+ | **_securityAlgorithmConfig_** | | | | Indicates the security algorithm for the signalling and data radio | | bearers configured with the list in this IE _RadioBearerConfig_. | | When the field is not included, the UE shall continue to use the | | currently configured security algorithm for the radio bearers | | reconfigured with the lists in this IE _RadioBearerConfig_. | +----------------------------------------------------------------------+
+----------------------------------------------------------------------+ | _SRB-ToAddMod_ field descriptions | +======================================================================+ | **_discardOnPDCP_** | | | | Indicates that PDCP should discard stored SDU and PDU according to | | TS 38.323 [5]. | +----------------------------------------------------------------------+ | **_reestablishPDCP_** | | | | Indicates that PDCP should be re-established. Network sets this to | | _true_ whenever the security key used for this radio bearer changes. | | Key change could for example be due to reconfiguration with sync, | | for SRB2 when resuming an RRC connection, or at the first | | reconfiguration after RRC connection reestablishment in NR. For | | SRB1, when resuming an RRC connection, or at the first | | reconfiguration after RRC connection reestablishment in NR, the | | network does not set this field to _true_. For LTE SRBs using NR | | PDCP, it could be for handover, RRC connection reestablishment or | | resume. | +----------------------------------------------------------------------+ | **_srb-Identity_** | | | | Value 1 is applicable for SRB1 only. Value 2 is applicable for SRB2 | | only. Value 3 is applicable for SRB3 only. | +----------------------------------------------------------------------+
+----------------------+----------------------------------------------+ | Conditional Presence | Explanation | +======================+==============================================+ | _RBTermChange_ | The field is mandatory present in case of: | | | | | | - set up of signalling, | | | | | | - data radio bearer and **_change of | | | termination point_** for the radio bearer | | | **_between MN and SN_**. | | | | | | It is optionally present otherwise, Need S. | +----------------------+----------------------------------------------+ | _RBTermChange1_ | The field is mandatory present in case of: | | | | | | - set up of signalling and data radio | | | bearer, | | | | | | - change of termination point for the radio | | | bearer between MN and SN, | | | | | | - handover from E-UTRA/EPC or E-UTRA/5GC to | | | NR, | | | | | | - handover from NR or E-UTRA/EPC to | | | E-UTRA/5GC if the UE supports NGEN-DC. | | | | | | It is optionally present otherwise, Need S. | +----------------------+----------------------------------------------+ | _PDCP_ | The field is mandatory present if the | | | corresponding DRB is being setup or | | | corresponding DRB is reconfigured with NR | | | PDCP or corresponding SRB associated with | | | two RLC entities is being setup or if the | | | number of RLC bearers associated with the | | | DRB or SRB is changed. The field is | | | optionally present, Need S, if the | | | corresponding SRB associated with one RLC | | | entity is being setup or corresponding SRB | | | is reconfigured with NR PDCP; otherwise the | | | field is optionally present, need M. | +----------------------+----------------------------------------------+ | _DRBSetup_ | The field is mandatory present if the | | | corresponding DRB is being setup; otherwise | | | the field is optionally present, need M. | +----------------------+----------------------------------------------+ | _HO-Conn_ | The field is mandatory present | | | | | | - in case of inter-system handover from | | | E-UTRA/EPC to E-UTRA/5GC or NR, | | | | | | - or when the _fullConfig_ is included in | | | the _RRCReconfiguration_ message and | | | NE-DC/NR-DC is not configured, | | | | | | - or in case of _RRCSetup_. | | | | | | Otherwise the field is optionally present, | | | need N. | | | | | | Upon _RRCSetup_ , only SRB1 can be present. | +----------------------+----------------------------------------------+ | _HO-toNR_ | The field is mandatory present | | | | | | - in case of inter-system handover from | | | E-UTRA/EPC to E-UTRA/5GC or NR, | | | | | | - or when the _fullConfig_ is included in | | | the _RRCReconfiguration_ message and | | | NE-DC/NR-DC is not configured. | | | | | | In case of _RRCSetup_ , the field is absent; | | | otherwise the field is optionally present, | | | need N. | +----------------------+----------------------------------------------+
#### \-- _RadioLinkMonitoringConfig_
The IE _RadioLinkMonitoringConfig_ is used to configure radio link monitoring
for detection of beam- and/or cell radio link failure. See also TS 38.321 [3],
clause 5.1.1.
_RadioLinkMonitoringConfig_ information element
\-- ASN1START
\-- TAG-RADIOLINKMONITORINGCONFIG-START
RadioLinkMonitoringConfig ::= SEQUENCE {
failureDetectionResourcesToAddModList SEQUENCE
(SIZE(1..maxNrofFailureDetectionResources)) OF RadioLinkMonitoringRS
OPTIONAL, -- Need N
failureDetectionResourcesToReleaseList SEQUENCE
(SIZE(1..maxNrofFailureDetectionResources)) OF RadioLinkMonitoringRS-Id
OPTIONAL, -- Need N
beamFailureInstanceMaxCount ENUMERATED {n1, n2, n3, n4, n5, n6, n8, n10}
OPTIONAL, -- Need R
beamFailureDetectionTimer ENUMERATED {pbfd1, pbfd2, pbfd3, pbfd4, pbfd5,
pbfd6, pbfd8, pbfd10} OPTIONAL, -- Need R
...
}
RadioLinkMonitoringRS ::= SEQUENCE {
radioLinkMonitoringRS-Id RadioLinkMonitoringRS-Id,
purpose ENUMERATED {beamFailure, rlf, both},
detectionResource CHOICE {
ssb-Index SSB-Index,
csi-RS-Index NZP-CSI-RS-ResourceId
},
...
}
\-- TAG-RADIOLINKMONITORINGCONFIG-STOP
\-- ASN1STOP
+----------------------------------------------------------------------+ | _RadioLinkMonitoringConfig_ field descriptions | +======================================================================+ | **_beamFailureDetectionTimer_** | | | | Timer for beam failure detection (see TS 38.321 [3], clause 5.17). | | See also the _BeamFailureRecoveryConfig_ IE. Value in number of | | \"Q~out,LR~ reporting periods of Beam Failure Detection\" Reference | | Signal (see TS 38.213 [13], clause 6). Value _pbfd1_ corresponds | | to 1 Q~out,LR~ reporting period of Beam Failure Detection Reference | | Signal, value _pbfd2_ corresponds to 2 Q~out,LR~ reporting periods | | of Beam Failure Detection Reference Signal and so on. | +----------------------------------------------------------------------+ | **_beamFailureInstanceMaxCount_** | | | | This field determines after how many beam failure events the UE | | triggers beam failure recovery (see TS 38.321 [3], clause 5.17). | | Value n1 corresponds to 1 beam failure instance, value n2 | | corresponds to 2 beam failure instances and so on. | +----------------------------------------------------------------------+ | **_failureDetectionResourcesToAddModList_** | | | | A list of reference signals for detecting beam failure and/or cell | | level radio link failure (RLF). The limits of the reference signals | | that the network can configure are specified in TS 38.213 [13], | | table 5-1. The network configures at most two detectionResources per | | BWP for the purpose _beamFailure_ or _both_. If no RSs are provided | | for the purpose of beam failure detection, the UE performs beam | | monitoring based on the activated _TCI-State_ for PDCCH as described | | in TS 38.213 [13], clause 6. If no RSs are provided in this list | | for the purpose of RLF detection, the UE performs Cell-RLM based on | | the activated _TCI-State_ of PDCCH as described in TS 38.213 [13], | | clause 5. The network ensures that the UE has a suitable set of | | reference signals for performing cell-RLM. | +----------------------------------------------------------------------+
+----------------------------------------------------------------------+ | _RadioLinkMonitoringRS_ field descriptions | +======================================================================+ | **_detectionResource_** | | | | A reference signal that the UE shall use for radio link monitoring | | or beam failure detection (depending on the indicated _purpose_). | +----------------------------------------------------------------------+ | **_purpose_** | | | | Determines whether the UE shall monitor the associated reference | | signal for the purpose of cell- and/or beam failure detection. | +----------------------------------------------------------------------+
#### \-- _RadioLinkMonitoringRS-Id_
The IE _RadioLinkMonitoringRS-Id_ is used to identify one
_RadioLinkMonitoringRS_.
**_RadioLinkMonitoringRS-Id information element_**
\-- ASN1START
\-- TAG-RADIOLINKMONITORINGRS-ID-START
RadioLinkMonitoringRS-Id ::= INTEGER (0..maxNrofFailureDetectionResources-1)
\-- TAG-RADIOLINKMONITORINGRS-ID-STOP
\-- ASN1STOP
#### \-- _RAN-AreaCode_
The IE _RAN-AreaCode_ is used to identify a RAN area within the scope of a
tracking area.
_RAN-AreaCode_ information element
\-- ASN1START
\-- TAG-RAN-AREACODE-START
RAN-AreaCode ::= INTEGER (0..255)
\-- TAG-RAN-AREACODE-STOP
\-- ASN1STOP
#### \-- _RateMatchPattern_
The IE _RateMatchPattern_ is used to configure one rate matching pattern for
PDSCH, see TS 38.214 [19], clause 5.1.4.1.
_RateMatchPattern_ information element
\-- ASN1START
\-- TAG-RATEMATCHPATTERN-START
RateMatchPattern ::= SEQUENCE {
rateMatchPatternId RateMatchPatternId,
patternType CHOICE {
bitmaps SEQUENCE {
resourceBlocks BIT STRING (SIZE (275)),
symbolsInResourceBlock CHOICE {
oneSlot BIT STRING (SIZE (14)),
twoSlots BIT STRING (SIZE (28))
},
periodicityAndPattern CHOICE {
n2 BIT STRING (SIZE (2)),
n4 BIT STRING (SIZE (4)),
n5 BIT STRING (SIZE (5)),
n8 BIT STRING (SIZE (8)),
n10 BIT STRING (SIZE (10)),
n20 BIT STRING (SIZE (20)),
n40 BIT STRING (SIZE (40))
} OPTIONAL, -- Need S
...
},
controlResourceSet ControlResourceSetId
},
subcarrierSpacing SubcarrierSpacing OPTIONAL, -- Cond CellLevel
dummy ENUMERATED { dynamic, semiStatic },
...
}
\-- TAG-RATEMATCHPATTERN-STOP
\-- ASN1STOP
+----------------------------------------------------------------------+ | _RateMatchPattern_ field descriptions | +======================================================================+ | **_bitmaps_** | | | | Indicates rate matching pattern by a pair of bitmaps | | _resourceBlocks_ and _symbolsInResourceBlock_ to define the rate | | match pattern within one or two slots, and a third bitmap | | _periodicityAndPattern_ to define the repetition pattern with which | | the pattern defined by the above bitmap pair occurs. | +----------------------------------------------------------------------+ | **_controlResourceSet_** | | | | This ControlResourceSet is used as a PDSCH rate matching pattern, | | i.e., PDSCH reception rate matches around it. In frequency domain, | | the resource is determined by the frequency domain resource of the | | CORESET with the corresponding CORESET ID. Time domain resource is | | determined by the parameters of the associated search space of the | | CORESET. | +----------------------------------------------------------------------+ | **_periodicityAndPattern_** | | | | A time domain repetition pattern at which the pattern defined by | | _symbolsInResourceBlock_ and _resourceBlocks_ recurs. This slot | | pattern repeats itself continuously. Absence of this field indicates | | the value _n1_ (see TS 38.214 [19], clause 5.1.4.1). | +----------------------------------------------------------------------+ | **_resourceBlocks_** | | | | A resource block level bitmap in the frequency domain. A bit in the | | bitmap set to 1 indicates that the UE shall apply rate matching in | | the corresponding resource block in accordance with the | | _symbolsInResourceBlock_ bitmap. If used as cell-level rate matching | | pattern, the bitmap identifies \"common resource blocks (CRB)\". If | | used as BWP-level rate matching pattern, the bitmap identifies | | \"physical resource blocks\" inside the BWP. The first/ leftmost bit | | corresponds to resource block 0, and so on (see TS 38.214 [19], | | clause 5.1.4.1). | +----------------------------------------------------------------------+ | **_subcarrierSpacing_** | | | | The SubcarrierSpacing for this resource pattern. If the field is | | absent, the UE applies the SCS of the associated BWP. The value | | _kHz15_ corresponds to µ=0, the value _kHz30_ corresponds to µ=1, | | and so on. Only the values 15 kHz, 30 kHz or 60 kHz (FR1), and 60 | | kHz or 120 kHz (FR2) are applicable (see TS 38.214 [19], clause | | 5.1.4.1). | +----------------------------------------------------------------------+ | **_symbolsInResourceBlock_** | | | | A symbol level bitmap in time domain. It indicates with a bit set to | | true that the UE shall rate match around the corresponding symbol. | | This pattern recurs (in time domain) with the configured | | periodicityAndPattern (see TS 38.214 [19], clause 5.1.4.1). | | | | For _oneSlot_ , if ECP is configured, the first 12 bits represent the | | symbols within the slot and the last two bits within the bitstring | | are ignored by the UE; Otherwise, the 14 bits represent the symbols | | within the slot. | | | | For _twoSlots_ , if ECP is configured, the first 12 bits represent | | the symbols within the first slot and the next 12 bits represent the | | symbols in the second slot and the last four bits within the bit | | string are ignored by the UE; Otherwise, the first 14 bits represent | | the symbols within the first slot and the next 14 bits represent the | | symbols in the second slot. | | | | For the bits representing symbols in a slot, the most significant | | bit of the bit string represents the first symbol in the slot and | | the second most significant bit represents the second symbol in the | | slot and so on. | +----------------------------------------------------------------------+
Conditional Presence Explanation
* * *
_CellLevel_ The field is mandatory present if the _RateMatchPattern_ is
defined on cell level. The field is absent when the _RateMatchPattern_ is
defined on BWP level. If the _RateMatchPattern_ is defined on BWP level, the
UE applies the SCS of the BWP.
#### \-- _RateMatchPatternId_
The IE _RateMatchPatternId_ identifies one _RateMatchPattern_ (see TS 38.214
[19], clause 5.1.4.1).
_RateMatchPatternId_ information element
\-- ASN1START
\-- TAG-RATEMATCHPATTERNID-START
RateMatchPatternId ::= INTEGER (0..maxNrofRateMatchPatterns-1)
\-- TAG-RATEMATCHPATTERNID-STOP
\-- ASN1STOP
#### \-- _RateMatchPatternLTE-CRS_
The IE _RateMatchPatternLTE-CRS_ is used to configure a pattern to rate match
around LTE CRS. See TS 38.214 [19], clause 5.1.4.2.
_RateMatchPatternLTE-CRS_ information element
\-- ASN1START
\-- TAG-RATEMATCHPATTERNLTE-CRS-START
RateMatchPatternLTE-CRS ::= SEQUENCE {
carrierFreqDL INTEGER (0..16383),
carrierBandwidthDL ENUMERATED {n6, n15, n25, n50, n75, n100, spare2, spare1},
mbsfn-SubframeConfigList EUTRA-MBSFN-SubframeConfigList OPTIONAL, -- Need M
nrofCRS-Ports ENUMERATED {n1, n2, n4},
v-Shift ENUMERATED {n0, n1, n2, n3, n4, n5}
}
\-- TAG-RATEMATCHPATTERNLTE-CRS-STOP
\-- ASN1STOP
+----------------------------------------------------------------------+ | _RateMatchPatternLTE-CRS_ field descriptions | +======================================================================+ | **_carrierBandwidthDL_** | | | | BW of the LTE carrier in number of PRBs (see TS 38.214 [19], | | clause 5.1.4.2). | +----------------------------------------------------------------------+ | **_carrierFreqDL_** | | | | Center of the LTE carrier (see TS 38.214 [19], clause 5.1.4.2). | +----------------------------------------------------------------------+ | **_mbsfn-SubframeConfigList_** | | | | LTE MBSFN subframe configuration (see TS 38.214 [19], clause | | 5.1.4.2). | +----------------------------------------------------------------------+ | **_nrofCRS-Ports_** | | | | Number of LTE CRS antenna port to rate-match around (see TS 38.214 | | [19], clause 5.1.4.2). | +----------------------------------------------------------------------+ | **_v-Shift_** | | | | Shifting value v-shift in LTE to rate match around LTE CRS (see TS | | 38.214 [19], clause 5.1.4.2). | +----------------------------------------------------------------------+
#### \-- _RejectWaitTime_
The IE _RejectWaitTime_ is used to provide the value in seconds for timer
T302.
_RejectWaitTime_ information element
\-- ASN1START
\-- TAG-REJECTWAITTIME-START
RejectWaitTime ::= INTEGER (1..16)
\-- TAG-REJECTWAITTIME-STOP
\-- ASN1STOP
#### \-- _ReportConfigId_
The IE _ReportConfigId_ is used to identify a measurement reporting
configuration.
_ReportConfigId_ information element
\-- ASN1START
\-- TAG-REPORTCONFIGID-START
ReportConfigId ::= INTEGER (1..maxReportConfigId)
\-- TAG-REPORTCONFIGID-STOP
\-- ASN1STOP
#### _\-- ReportConfigInterRAT_
The IE _ReportConfigInterRAT_ specifies criteria for triggering of an inter-
RAT measurement reporting event. The inter-RAT measurement reporting events
for E-UTRA are labelled B _N_ with _N_ equal to 1, 2 and so on.
Event B1: Neighbour becomes better than absolute threshold;
Event B2: PCell becomes worse than absolute threshold1 AND Neighbour becomes
better than another absolute threshold2;
**_ReportConfigInterRAT_** information element
\-- ASN1START
\-- TAG-REPORTCONFIGINTERRAT-START
ReportConfigInterRAT ::= SEQUENCE {
reportType CHOICE {
periodical PeriodicalReportConfigInterRAT,
eventTriggered EventTriggerConfigInterRAT,
reportCGI ReportCGI-EUTRA,
...,
reportSFTD ReportSFTD-EUTRA
}
}
ReportCGI-EUTRA ::= SEQUENCE {
cellForWhichToReportCGI EUTRA-PhysCellId,
...
}
ReportSFTD-EUTRA ::= SEQUENCE {
reportSFTD-Meas BOOLEAN,
reportRSRP BOOLEAN,
...
}
EventTriggerConfigInterRAT ::= SEQUENCE {
eventId CHOICE {
eventB1 SEQUENCE {
b1-ThresholdEUTRA MeasTriggerQuantityEUTRA,
reportOnLeave BOOLEAN,
hysteresis Hysteresis,
timeToTrigger TimeToTrigger,
...
},
eventB2 SEQUENCE {
b2-Threshold1 MeasTriggerQuantity,
b2-Threshold2EUTRA MeasTriggerQuantityEUTRA,
reportOnLeave BOOLEAN,
hysteresis Hysteresis,
timeToTrigger TimeToTrigger,
...
},
...
},
rsType NR-RS-Type,
reportInterval ReportInterval,
reportAmount ENUMERATED {r1, r2, r4, r8, r16, r32, r64, infinity},
reportQuantity MeasReportQuantity,
maxReportCells INTEGER (1..maxCellReport),
...
}
PeriodicalReportConfigInterRAT ::= SEQUENCE {
reportInterval ReportInterval,
reportAmount ENUMERATED {r1, r2, r4, r8, r16, r32, r64, infinity},
reportQuantity MeasReportQuantity,
maxReportCells INTEGER (1..maxCellReport),
...
}
\-- TAG-REPORTCONFIGINTERRAT-STOP
\-- ASN1STOP
+----------------------------------------------------------------------+ | **_ReportConfigInterRAT_ _field descriptions_ | +----------------------------------------------------------------------+ | **_reportType_ __| | | | Type of the configured measurement report. In (NG)EN-DC and NR-DC, | | network does not configure report of type_ ReportCGI-EUTRA_ for SCG. | +----------------------------------------------------------------------+
+----------------------------------------------------------------------+ | _EventTriggerConfigInterRAT_ field descriptions | +----------------------------------------------------------------------+ | **_b2-Threshold1_** | | | | NR threshold to be used in inter RAT measurement report triggering | | condition for event B2. | +----------------------------------------------------------------------+ | **_bN-ThresholdEUTRA_** | | | | E-UTRA threshold value associated with the selected trigger quantity | | (RSRP, RSRQ, SINR) to be used in inter RAT measurement report | | triggering condition for event number bN. In the same _eventB2_ , the | | network configures the same CHOICE name (_rsrp_ , _rsrq_ or _sinr_) | | for the _MeasTriggerQuantity_ of the _b2-Threshold1_ and for the | | _MeasTriggerQuantityEUTRA_ of the _b2-Threshold2EUTRA_. | +----------------------------------------------------------------------+ | **_eventId_** | | | | Choice of inter RAT event triggered reporting criteria. | +----------------------------------------------------------------------+ | **_maxReportCells_** | | | | Max number of non-serving cells to include in the measurement | | report. | +----------------------------------------------------------------------+ | **_reportAmount_** | | | | _Number_ of measurement reports applicable for _eventTriggered_ as | | well as for _periodical_ report types | +----------------------------------------------------------------------+ | **_reportOnLeave_** | | | | Indicates whether or not the UE shall initiate the measurement | | reporting procedure when the leaving condition is met for a cell in | | _cellsTriggeredList_ , as specified in 5.5.4.1. | +----------------------------------------------------------------------+ | **_reportQuantity_** | | | | The cell measurement quantities to be included in the measurement | | report. | +----------------------------------------------------------------------+ | **_timeToTrigger_** | | | | Time during which specific criteria for the event needs to be met in | | order to trigger a measurement report. | +----------------------------------------------------------------------+
+----------------------------------------------------------------------+ | _PeriodicalReportConfigInterRAT_ field descriptions | +----------------------------------------------------------------------+ | **_maxReportCells_** | | | | Max number of non-serving cells to include in the measurement | | report. | +----------------------------------------------------------------------+ | **_reportAmount_** | | | | Number of measurement reports applicable for _eventTriggered_ as | | well as for _periodical_ report types | +----------------------------------------------------------------------+ | **_reportQuantity_** | | | | The cell measurement quantities to be included in the measurement | | report. | +----------------------------------------------------------------------+
#### \-- _ReportConfigNR_
The IE _ReportConfigNR_ specifies criteria for triggering of an NR measurement
reporting event. Measurement reporting events are based on cell measurement
results, which can either be derived based on SS/PBCH block or CSI-RS. These
events are labelled AN with N equal to 1, 2 and so on.
Event A1: Serving becomes better than absolute threshold;
Event A2: Serving becomes worse than absolute threshold;
Event A3: Neighbour becomes amount of offset better than PCell/PSCell;
Event A4: Neighbour becomes better than absolute threshold;
Event A5: PCell/PSCell becomes worse than absolute threshold1 AND
Neighbour/SCell becomes better than another absolute threshold2;
Event A6: Neighbour becomes amount of offset better than SCell.
_ReportConfigNR_ information element
\-- ASN1START
\-- TAG-REPORTCONFIGNR-START
ReportConfigNR ::= SEQUENCE {
reportType CHOICE {
periodical PeriodicalReportConfig,
eventTriggered EventTriggerConfig,
...,
reportCGI ReportCGI,
reportSFTD ReportSFTD-NR
}
}
ReportCGI ::= SEQUENCE {
cellForWhichToReportCGI PhysCellId,
...
}
ReportSFTD-NR ::= SEQUENCE {
reportSFTD-Meas BOOLEAN,
reportRSRP BOOLEAN,
...,
[[
reportSFTD-NeighMeas ENUMERATED {true} OPTIONAL, -- Need R
drx-SFTD-NeighMeas ENUMERATED {true} OPTIONAL, -- Need R
cellsForWhichToReportSFTD SEQUENCE (SIZE (1..maxCellSFTD)) OF PhysCellId
OPTIONAL -- Need R
]]
}
EventTriggerConfig::= SEQUENCE {
eventId CHOICE {
eventA1 SEQUENCE {
a1-Threshold MeasTriggerQuantity,
reportOnLeave BOOLEAN,
hysteresis Hysteresis,
timeToTrigger TimeToTrigger
},
eventA2 SEQUENCE {
a2-Threshold MeasTriggerQuantity,
reportOnLeave BOOLEAN,
hysteresis Hysteresis,
timeToTrigger TimeToTrigger
},
eventA3 SEQUENCE {
a3-Offset MeasTriggerQuantityOffset,
reportOnLeave BOOLEAN,
hysteresis Hysteresis,
timeToTrigger TimeToTrigger,
useWhiteCellList BOOLEAN
},
eventA4 SEQUENCE {
a4-Threshold MeasTriggerQuantity,
reportOnLeave BOOLEAN,
hysteresis Hysteresis,
timeToTrigger TimeToTrigger,
useWhiteCellList BOOLEAN
},
eventA5 SEQUENCE {
a5-Threshold1 MeasTriggerQuantity,
a5-Threshold2 MeasTriggerQuantity,
reportOnLeave BOOLEAN,
hysteresis Hysteresis,
timeToTrigger TimeToTrigger,
useWhiteCellList BOOLEAN
},
eventA6 SEQUENCE {
a6-Offset MeasTriggerQuantityOffset,
reportOnLeave BOOLEAN,
hysteresis Hysteresis,
timeToTrigger TimeToTrigger,
useWhiteCellList BOOLEAN
},
...
},
rsType NR-RS-Type,
reportInterval ReportInterval,
reportAmount ENUMERATED {r1, r2, r4, r8, r16, r32, r64, infinity},
reportQuantityCell MeasReportQuantity,
maxReportCells INTEGER (1..maxCellReport),
reportQuantityRS-Indexes MeasReportQuantity OPTIONAL, -- Need R
maxNrofRS-IndexesToReport INTEGER (1..maxNrofIndexesToReport) OPTIONAL, \--
Need R
includeBeamMeasurements BOOLEAN,
reportAddNeighMeas ENUMERATED {setup} OPTIONAL, -- Need R
...
}
PeriodicalReportConfig ::= SEQUENCE {
rsType NR-RS-Type,
reportInterval ReportInterval,
reportAmount ENUMERATED {r1, r2, r4, r8, r16, r32, r64, infinity},
reportQuantityCell MeasReportQuantity,
maxReportCells INTEGER (1..maxCellReport),
reportQuantityRS-Indexes MeasReportQuantity OPTIONAL, -- Need R
maxNrofRS-IndexesToReport INTEGER (1..maxNrofIndexesToReport) OPTIONAL, \--
Need R
includeBeamMeasurements BOOLEAN,
useWhiteCellList BOOLEAN,
...
}
NR-RS-Type ::= ENUMERATED {ssb, csi-rs}
MeasTriggerQuantity ::= CHOICE {
rsrp RSRP-Range,
rsrq RSRQ-Range,
sinr SINR-Range
}
MeasTriggerQuantityOffset ::= CHOICE {
rsrp INTEGER (-30..30),
rsrq INTEGER (-30..30),
sinr INTEGER (-30..30)
}
MeasReportQuantity ::= SEQUENCE {
rsrp BOOLEAN,
rsrq BOOLEAN,
sinr BOOLEAN
}
\-- TAG-REPORTCONFIGNR-STOP
\-- ASN1STOP
+----------------------------------------------------------------------+ | **_ReportConfigNR_** field descriptions | +----------------------------------------------------------------------+ | **_reportType_** | | | | Type of the configured measurement report. In MR-DC, network does | | not configure report of type _reportCGI_ using SRB3. | +----------------------------------------------------------------------+
+----------------------------------------------------------------------+ | _EventTriggerConfig_ field descriptions | +======================================================================+ | **_a3-Offset/a6-Offset_** | | | | Offset value(s) to be used in NR measurement report triggering | | condition for event a3/a6. The actual value is field value * 0.5 | | dB. | +----------------------------------------------------------------------+ | **_aN-ThresholdM_** | | | | Threshold value associated to the selected trigger quantity (e.g. | | RSRP, RSRQ, SINR) per RS Type (e.g. SS/PBCH block, CSI-RS) to be | | used in NR measurement report triggering condition for event number | | aN. If multiple thresholds are defined for event number aN, the | | thresholds are differentiated by M. The network configures | | aN-Threshold1 only for events A1, A2, A4, A5 and a5-Threshold2 only | | for event A5. In the same _eventA5_ , the network configures the same | | quantity for the _MeasTriggerQuantity_ of the _a5-Threshold1_ and | | for the _MeasTriggerQuantity_ of the _a5-Threshold2_. | +----------------------------------------------------------------------+ | **_eventId_** | | | | Choice of NR event triggered reporting criteria. | +----------------------------------------------------------------------+ | **_maxNrofRS-IndexesToReport_** | | | | Max number of RS indexes to include in the measurement report for | | A1-A6 events. | +----------------------------------------------------------------------+ | **_maxReportCells_** | | | | Max number of non-serving cells to include in the measurement | | report. | +----------------------------------------------------------------------+ | **_reportAddNeighMeas_** | | | | Indicates that the UE shall include the best neighbour cells per | | serving frequency. | +----------------------------------------------------------------------+ | **_reportAmount_** | | | | _Number_ of measurement reports applicable for _eventTriggered_ as | | well as for _periodical_ report types. | +----------------------------------------------------------------------+ | **_reportOnLeave_** | | | | Indicates whether or not the UE shall initiate the measurement | | reporting procedure when the leaving condition is met for a cell in | | _cellsTriggeredList_ , as specified in 5.5.4.1. | +----------------------------------------------------------------------+ | **_reportQuantityCell_** | | | | The cell measurement quantities to be included in the measurement | | report. | +----------------------------------------------------------------------+ | **_reportQuantityRS-Indexes_** | | | | Indicates which measurement information per RS index the UE shall | | include in the measurement report. | +----------------------------------------------------------------------+ | **_timeToTrigger_** | | | | Time during which specific criteria for the event needs to be met in | | order to trigger a measurement report. | +----------------------------------------------------------------------+ | **_useWhiteCellList_** | | | | Indicates whether only the cells included in the white-list of the | | associated measObject are applicable as specified in 5.5.4.1. | +----------------------------------------------------------------------+
+----------------------------------------------------------------------+ | _PeriodicalReportConfig_ field descriptions | +======================================================================+ | **_maxNrofRS-IndexesToReport_** | | | | Max number of RS indexes to include in the measurement report. | +----------------------------------------------------------------------+ | **_maxReportCells_** | | | | Max number of non-serving cells to include in the measurement | | report. | +----------------------------------------------------------------------+ | **_reportAmount_** | | | | _Number_ of measurement reports applicable for _eventTriggered_ as | | well as for _periodical_ report types | +----------------------------------------------------------------------+ | **_reportQuantityCell_** | | | | The cell measurement quantities to be included in the measurement | | report. | +----------------------------------------------------------------------+ | **_reportQuantityRS-Indexes_** | | | | Indicates which measurement information per RS index the UE shall | | include in the measurement report. | +----------------------------------------------------------------------+ | **_useWhiteCellList_** | | | | Indicates whether only the cells included in the white-list of the | | associated measObject are applicable as specified in 5.5.4.1. | +----------------------------------------------------------------------+
+----------------------------------------------------------------------+ | _ReportSFTD-NR_ field descriptions | +======================================================================+ | **_cellForWhichToReportSFTD_** | | | | Indicates the target NR neighbour cells for SFTD measurement between | | PCell and NR neighbour cells. | +----------------------------------------------------------------------+ | **_drx-SFTD-NeighMeas_** | | | | Indicates that the UE shall use available idle periods (i.e. DRX off | | periods) for the SFTD measurement in NR standalone. The network only | | includes _drx-SFTD-NeighMeas_ field when _reprtSFTD-NeighMeas_ is | | set to true. | +----------------------------------------------------------------------+ | **_reportSFTD-Meas_** | | | | Indicates whether UE is required to perform SFTD measurement between | | PCell and NR PSCell in NR-DC. | +----------------------------------------------------------------------+ | **_reportSFTD-NeighMeas_** | | | | Indicates whether UE is required to perform SFTD measurement between | | PCell and NR neighbour cells in NR standalone. The network does not | | include this field if _reportSFTD-Meas_ is set to _true_. | +----------------------------------------------------------------------+ | **_reportRSRP_** | | | | Indicates whether UE is required to include RSRP result of NR PSCell | | or NR neighbour cells in SFTD measurement result, derived based on | | SSB. If it is set to true, the network should ensure that | | _ssb-ConfigMobility_ is included in the measurement object for NR | | PSCell or NR neighbour cells. | +----------------------------------------------------------------------+
#### \-- _ReportConfigToAddModList_
The IE _ReportConfigToAddModList_ concerns a list of reporting configurations
to add or modify.
ReportConfigToAddModList information element
\-- ASN1START
\-- TAG-REPORTCONFIGTOADDMODLIST-START
ReportConfigToAddModList ::= SEQUENCE (SIZE (1..maxReportConfigId)) OF
ReportConfigToAddMod
ReportConfigToAddMod ::= SEQUENCE {
reportConfigId ReportConfigId,
reportConfig CHOICE {
reportConfigNR ReportConfigNR,
...,
reportConfigInterRAT ReportConfigInterRAT
}
}
\-- TAG-REPORTCONFIGTOADDMODLIST-STOP
\-- ASN1STOP
#### \-- _ReportInterval_
The IE _ReportInterval indicates the interval between periodical reports._ The
_ReportInterval_ is _applicable if the UE performs periodical reporting (i.e.
when reportAmount exceeds 1), for_ _reportType_ _event_ _Triggered as well as
for reportType_ _periodical_. Value _ms120_ corresponds to 120 ms, value
_ms240_ corresponds to 240 ms and so on, while value _min1_ corresponds to 1
min, _min6_ corresponds to 6 min and so on.
**_ReportInterval_** information element
\-- ASN1START
\-- TAG-REPORTINTERVAL-START
ReportInterval ::= ENUMERATED {ms120, ms240, ms480, ms640, ms1024, ms2048,
ms5120, ms10240, ms20480, ms40960,
min1,min6, min12, min30 }
\-- TAG-REPORTINTERVAL-STOP
\-- ASN1STOP
#### \-- _ReselectionThreshold_
The IE _ReselectionThreshold_ is used to indicate an Rx level threshold for
cell reselection. Actual value of threshold = field value * 2 [dB].
**_ReselectionThreshold_** information element
\-- ASN1START
\-- TAG-RESELECTIONTHRESHOLD-START
ReselectionThreshold ::= INTEGER (0..31)
\-- TAG-RESELECTIONTHRESHOLD-STOP
\-- ASN1STOP
#### \-- _ReselectionThresholdQ_
The IE _ReselectionThresholdQ_ is used to indicate a quality level threshold
for cell reselection. Actual value of threshold = field value [dB].
**_ReselectionThresholdQ_** information element
\-- ASN1START
\-- TAG-RESELECTIONTHRESHOLDQ-START
ReselectionThresholdQ ::= INTEGER (0..31)
\-- TAG-RESELECTIONTHRESHOLDQ-STOP
\-- ASN1STOP
#### \-- _ResumeCause_
The IE _ResumeCause_ is used to indicate the resume cause in
_RRCResumeRequest_ and _RRCResumeRequest1_.
**_ResumeCause_** information element
\-- ASN1START
\-- TAG-RESUMECAUSE-START
ResumeCause ::= ENUMERATED {emergency, highPriorityAccess, mt-Access, mo-
Signalling,
mo-Data, mo-VoiceCall, mo-VideoCall, mo-SMS, rna-Update, mps-PriorityAccess,
mcs-PriorityAccess, spare1, spare2, spare3, spare4, spare5 }
\-- TAG-RESUMECAUSE-STOP
\-- ASN1STOP
#### \-- _RLC-BearerConfig_
The IE _RLC-BearerConfig_ is used to configure an RLC entity, a corresponding
logical channel in MAC and the linking to a PDCP entity (served radio bearer).
_RLC-BearerConfig_ information element
\-- ASN1START
\-- TAG-RLC-BEARERCONFIG-START
RLC-BearerConfig ::= SEQUENCE {
logicalChannelIdentity LogicalChannelIdentity,
servedRadioBearer CHOICE {
srb-Identity SRB-Identity,
drb-Identity DRB-Identity
} OPTIONAL, -- Cond LCH-SetupOnly
reestablishRLC ENUMERATED {true} OPTIONAL, -- Need N
rlc-Config RLC-Config OPTIONAL, -- Cond LCH-Setup
mac-LogicalChannelConfig LogicalChannelConfig OPTIONAL, -- Cond LCH-Setup
...
}
\-- TAG-RLC-BEARERCONFIG-STOP
\-- ASN1STOP
+----------------------------------------------------------------------+ | _RLC-BearerConfig_ field descriptions | +======================================================================+ | **_logicalChannelIdentity_** | | | | ID used commonly for the MAC logical channel and for the RLC bearer. | +----------------------------------------------------------------------+ | **_reestablishRLC_** | | | | Indicates that RLC should be re-established. Network sets this to | | _true_ at least whenever the security key used for the radio bearer | | associated with this RLC entity changes. For SRB2 and DRBs, unless | | full configuration is used, it is also set to _true_ during the | | resumption of the RRC connection or the first reconfiguration after | | reestablishment. For SRB1, when resuming an RRC connection, or at | | the first reconfiguration after RRC connection reestablishment, the | | network does not set this field to _true_. | +----------------------------------------------------------------------+ | **_rlc-Config_** | | | | Determines the RLC mode (UM, AM) and provides corresponding | | parameters. RLC mode reconfiguration can only be performed by DRB | | release/addition or full configuration. | +----------------------------------------------------------------------+ | **_servedRadioBearer_** | | | | Associates the RLC Bearer with an SRB or a DRB. The UE shall deliver | | DL RLC SDUs received via the RLC entity of this RLC bearer to the | | PDCP entity of the _servedRadioBearer_. Furthermore, the UE shall | | advertise and deliver uplink PDCP PDUs of the uplink PDCP entity of | | the _servedRadioBearer_ to the uplink RLC entity of this RLC bearer | | unless the uplink scheduling restrictions (_moreThanOneRLC_ in | | _PDCP-Config_ and the restrictions in _LogicalChannelConfig_) forbid | | it to do so. | +----------------------------------------------------------------------+
Conditional Presence Explanation
* * *
_LCH-Setup_ This field is mandatory present upon creation of a new logical
channel for a DRB. This field is optionally present, Need S, upon creation of
a new logical channel for an SRB. It is optionally present, Need M, otherwise.
_LCH-SetupOnly_ This field is mandatory present upon creation of a new logical
channel. It is absent, Need M otherwise.
#### \-- _RLC-Config_
The IE _RLC-Config_ is used to specify the RLC configuration of SRBs and DRBs.
_RLC-Config_ information element
\-- ASN1START
\-- TAG-RLC-CONFIG-START
RLC-Config ::= CHOICE {
am SEQUENCE {
ul-AM-RLC UL-AM-RLC,
dl-AM-RLC DL-AM-RLC
},
um-Bi-Directional SEQUENCE {
ul-UM-RLC UL-UM-RLC,
dl-UM-RLC DL-UM-RLC
},
um-Uni-Directional-UL SEQUENCE {
ul-UM-RLC UL-UM-RLC
},
um-Uni-Directional-DL SEQUENCE {
dl-UM-RLC DL-UM-RLC
},
...
}
UL-AM-RLC ::= SEQUENCE {
sn-FieldLength SN-FieldLengthAM OPTIONAL, -- Cond Reestab
t-PollRetransmit T-PollRetransmit,
pollPDU PollPDU,
pollByte PollByte,
maxRetxThreshold ENUMERATED { t1, t2, t3, t4, t6, t8, t16, t32 }
}
DL-AM-RLC ::= SEQUENCE {
sn-FieldLength SN-FieldLengthAM OPTIONAL, -- Cond Reestab
t-Reassembly T-Reassembly,
t-StatusProhibit T-StatusProhibit
}
UL-UM-RLC ::= SEQUENCE {
sn-FieldLength SN-FieldLengthUM OPTIONAL -- Cond Reestab
}
DL-UM-RLC ::= SEQUENCE {
sn-FieldLength SN-FieldLengthUM OPTIONAL, -- Cond Reestab
t-Reassembly T-Reassembly
}
T-PollRetransmit ::= ENUMERATED {
ms5, ms10, ms15, ms20, ms25, ms30, ms35,
ms40, ms45, ms50, ms55, ms60, ms65, ms70,
ms75, ms80, ms85, ms90, ms95, ms100, ms105,
ms110, ms115, ms120, ms125, ms130, ms135,
ms140, ms145, ms150, ms155, ms160, ms165,
ms170, ms175, ms180, ms185, ms190, ms195,
ms200, ms205, ms210, ms215, ms220, ms225,
ms230, ms235, ms240, ms245, ms250, ms300,
ms350, ms400, ms450, ms500, ms800, ms1000,
ms2000, ms4000, spare5, spare4, spare3,
spare2, spare1}
PollPDU ::= ENUMERATED {
p4, p8, p16, p32, p64, p128, p256, p512, p1024, p2048, p4096, p6144, p8192,
p12288, p16384,p20480,
p24576, p28672, p32768, p40960, p49152, p57344, p65536, infinity, spare8,
spare7, spare6, spare5, spare4,
spare3, spare2, spare1}
PollByte ::= ENUMERATED {
kB1, kB2, kB5, kB8, kB10, kB15, kB25, kB50, kB75,
kB100, kB125, kB250, kB375, kB500, kB750, kB1000,
kB1250, kB1500, kB2000, kB3000, kB4000, kB4500,
kB5000, kB5500, kB6000, kB6500, kB7000, kB7500,
mB8, mB9, mB10, mB11, mB12, mB13, mB14, mB15,
mB16, mB17, mB18, mB20, mB25, mB30, mB40, infinity,
spare20, spare19, spare18, spare17, spare16,
spare15, spare14, spare13, spare12, spare11,
spare10, spare9, spare8, spare7, spare6, spare5,
spare4, spare3, spare2, spare1}
T-Reassembly ::= ENUMERATED {
ms0, ms5, ms10, ms15, ms20, ms25, ms30, ms35,
ms40, ms45, ms50, ms55, ms60, ms65, ms70,
ms75, ms80, ms85, ms90, ms95, ms100, ms110,
ms120, ms130, ms140, ms150, ms160, ms170,
ms180, ms190, ms200, spare1}
T-StatusProhibit ::= ENUMERATED {
ms0, ms5, ms10, ms15, ms20, ms25, ms30, ms35,
ms40, ms45, ms50, ms55, ms60, ms65, ms70,
ms75, ms80, ms85, ms90, ms95, ms100, ms105,
ms110, ms115, ms120, ms125, ms130, ms135,
ms140, ms145, ms150, ms155, ms160, ms165,
ms170, ms175, ms180, ms185, ms190, ms195,
ms200, ms205, ms210, ms215, ms220, ms225,
ms230, ms235, ms240, ms245, ms250, ms300,
ms350, ms400, ms450, ms500, ms800, ms1000,
ms1200, ms1600, ms2000, ms2400, spare2, spare1}
SN-FieldLengthUM ::= ENUMERATED {size6, size12}
SN-FieldLengthAM ::= ENUMERATED {size12, size18}
\-- TAG-RLC-CONFIG-STOP
\-- ASN1STOP
+----------------------------------------------------------------------+ | _RLC-Config_ field descriptions | +======================================================================+ | **_maxRetxThreshold_** | | | | Parameter for RLC AM in TS 38.322 [4]. Value _t1_ corresponds to 1 | | retransmission, value _t2_ corresponds to 2 retransmissions and so | | on. | +----------------------------------------------------------------------+ | **_pollByte_** | | | | Parameter for RLC AM in TS 38.322 [4]. Value _kB25_ corresponds to | | 25 kBytes, value _kB50_ corresponds to 50 kBytes and so on. | | _infinity_ corresponds to an infinite amount of kBytes. | +----------------------------------------------------------------------+ | **_pollPDU_** | | | | Parameter for RLC AM in TS 38.322 [4]. Value _p4_ corresponds to 4 | | PDUs, value _p8_ corresponds to 8 PDUs and so on. _infinity_ | | corresponds to an infinite number of PDUs. | +----------------------------------------------------------------------+ | **_sn-FieldLength_** | | | | Indicates the RLC SN field size, see TS 38.322 [4], in bits. Value | | _size6_ means 6 bits, value _size12_ means 12 bits, value _size18_ | | means 18 bits. **The value of** _sn-FieldLength_ **of** an RLC | | entity for the **DRB shall be changed only using reconfiguration | | with sync. The network configures only value _size12 _in | |_ SN-FieldLengthAM _for SRB._ * | +----------------------------------------------------------------------+ | _**t-PollRetransmit** _| | | | Timer for RLC AM in TS 38.322 [4], in milliseconds. Value_ ms5 _| | means 5 ms, value_ ms10* means 10 ms and so on. | +----------------------------------------------------------------------+ | **_t-Reassembly_**| | | | Timer for reassembly in TS 38.322 [4], in milliseconds. Value | |_ms0 _means 0 ms, value_ ms5* means 5 ms and so on. | +----------------------------------------------------------------------+ | _**t-StatusProhibit ___| | | | Timer for status reporting in TS 38.322 [4], in milliseconds. | | Value_ ms0_ means 0 ms, value _ms5* means 5 ms and so on. | +----------------------------------------------------------------------+
Conditional Presence Explanation
* * *
_Reestab_ The field is mandatory present at RLC bearer setup. It is optionally
present, need M, at RLC re-establishment. Otherwise it is absent. Need M.
#### \-- _RLF-TimersAndConstants_
The IE _RLF-TimersAndConstants_ is used to configure UE specific timers and
constants.
**_RLF-TimersAndConstants_** information element
\-- ASN1START
\-- TAG-RLF-TIMERSANDCONSTANTS-START
RLF-TimersAndConstants ::= SEQUENCE {
t310 ENUMERATED {ms0, ms50, ms100, ms200, ms500, ms1000, ms2000, ms4000,
ms6000},
n310 ENUMERATED {n1, n2, n3, n4, n6, n8, n10, n20},
n311 ENUMERATED {n1, n2, n3, n4, n5, n6, n8, n10},
...,
[[
t311 ENUMERATED {ms1000, ms3000, ms5000, ms10000, ms15000, ms20000, ms30000}
]]
}
\-- TAG-RLF-TIMERSANDCONSTANTS-STOP
\-- ASN1STOP
+----------------------------------------------------------------------+ | _RLF-TimersAndConstants field descriptions_ | +======================================================================+ | **_n3xy_** | | | | **Constants are described in clause 7.3. Value _n1 _corresponds to | | 1, value_ n2 _corresponds to 2 and so on._ * | +----------------------------------------------------------------------+ | _**t3xy*__| | | |_ Timers are described in clause 7.1. Value ms0 corresponds to 0 ms, | | value ms50 corresponds to 50 ms and so on._ | +----------------------------------------------------------------------+
#### \-- _RNTI-Value_
The IE _RNTI-Value_ represents a Radio Network Temporary Identity.
**_RNTI-Value_** information element
\-- ASN1START
\-- TAG-RNTI-VALUE-START
RNTI-Value ::= INTEGER (0..65535)
\-- TAG-RNTI-VALUE-STOP
\-- ASN1STOP
#### \-- _RSRP-Range_
The IE _RSRP-Range_ specifies the value range used in RSRP measurements and
thresholds. For measurements, integer value for RSRP measurements is according
to Table 10.1.6.1-1 in TS 38.133 [14]. For thresholds, the actual value is (IE
value -- 156) dBm, except for the IE value 127, in which case the actual value
is infinity.
_RSRP-Range_ information element
\-- ASN1START
\-- TAG-RSRP-RANGE-START
RSRP-Range ::= INTEGER(0..127)
\-- TAG-RSRP-RANGE-STOP
\-- ASN1STOP
#### \-- _RSRQ-Range_
The IE _RSRQ-Range_ specifies the value range used in RSRQ measurements and
thresholds. For measurements, integer value for RSRQ measurements is according
to Table 10.1.11.1-1 in TS 38.133 [14]. For thresholds, the actual value is
(IE value -- 87) / 2 dB.
_RSRQ-Range_ information element
\-- ASN1START
\-- TAG-RSRQ-RANGE-START
RSRQ-Range ::= INTEGER(0..127)
\-- TAG-RSRQ-RANGE-STOP
\-- ASN1STOP
#### \-- _SCellIndex_
The IE _SCellIndex_ concerns a short identity, used to identify an SCell. The
value range is shared across the Cell Groups.
**_SCellIndex_** information element
\-- ASN1START
\-- TAG-SCELLINDEX-START
SCellIndex ::= INTEGER (1..31)
\-- TAG-SCELLINDEX-STOP
\-- ASN1STOP
#### \-- _SchedulingRequestConfig_
The IE _SchedulingRequestConfig_ is used to configure the parameters, for the
dedicated scheduling request (SR) resources.
_SchedulingRequestConfig_ information element
\-- ASN1START
\-- TAG-SCHEDULINGREQUESTCONFIG-START
SchedulingRequestConfig ::= SEQUENCE {
schedulingRequestToAddModList SEQUENCE (SIZE (1..maxNrofSR-
ConfigPerCellGroup)) OF SchedulingRequestToAddMod
OPTIONAL, -- Need N
schedulingRequestToReleaseList SEQUENCE (SIZE (1..maxNrofSR-
ConfigPerCellGroup)) OF SchedulingRequestId
OPTIONAL -- Need N
}
SchedulingRequestToAddMod ::= SEQUENCE {
schedulingRequestId SchedulingRequestId,
sr-ProhibitTimer ENUMERATED {ms1, ms2, ms4, ms8, ms16, ms32, ms64, ms128}
OPTIONAL, -- Need S
sr-TransMax ENUMERATED { n4, n8, n16, n32, n64, spare3, spare2, spare1}
}
\-- TAG-SCHEDULINGREQUESTCONFIG-STOP
\-- ASN1STOP
+-----------------------------------------------------------------+ | _SchedulingRequestConfig_ field descriptions | +=================================================================+ | **_schedulingRequestToAddModList_** | | | | **List of Scheduling Request configurations to add or modify.** | +-----------------------------------------------------------------+ | **_schedulingRequestToReleaseList_** | | | | **List of Scheduling Request configurations to release.** | +-----------------------------------------------------------------+
+----------------------------------------------------------------------+ | _SchedulingRequestToAddMod_ field descriptions | +======================================================================+ | **_schedulingRequestId_** | | | | **Used to modify a SR configuration and to indicate, in** | | _LogicalChannelConfig_**, the SR configuration to which a logical | | channel is mapped and to indicate, in | |_SchedulingRequestresourceConfig _, the SR configuration for which a | | scheduling request resource is used._ * | +----------------------------------------------------------------------+ | _**sr-ProhibitTimer** _| | | | Timer for SR transmission on PUCCH in TS 38.321 [3]. Value is in | | ms. Value_ ms1 _corresponds to 1ms, value_ ms2* corresponds to 2ms, | | and so on. When the field is absent, the UE applies the value 0. | +----------------------------------------------------------------------+ | **_sr-TransMax_ __| | | | Maximum number of SR transmissions as described in TS 38.321 [3]. | | Value_ n4_ corresponds to 4, value _n8_ corresponds to 8, and so on. | +----------------------------------------------------------------------+
#### \-- _SchedulingRequestId_
The IE _SchedulingRequestId_ is used to identify a Scheduling Request instance
in the MAC layer.
_SchedulingRequestId_ information element
\-- ASN1START
\-- TAG-SCHEDULINGREQUESTID-START
SchedulingRequestId ::= INTEGER (0..7)
\-- TAG-SCHEDULINGREQUESTID-STOP
\-- ASN1STOP
#### \-- _SchedulingRequestResourceConfig_
The IE _SchedulingRequestResourceConfig_ determines physical layer resources
on PUCCH where the UE may send the dedicated scheduling request (D-SR) (see TS
38.213 [13], clause 9.2.4).
_SchedulingRequestResourceConfig_ information element
\-- ASN1START
\-- TAG-SCHEDULINGREQUESTRESOURCECONFIG-START
SchedulingRequestResourceConfig ::= SEQUENCE {
schedulingRequestResourceId SchedulingRequestResourceId,
schedulingRequestID SchedulingRequestId,
periodicityAndOffset CHOICE {
sym2 NULL,
sym6or7 NULL,
sl1 NULL, -- Recurs in every slot
sl2 INTEGER (0..1),
sl4 INTEGER (0..3),
sl5 INTEGER (0..4),
sl8 INTEGER (0..7),
sl10 INTEGER (0..9),
sl16 INTEGER (0..15),
sl20 INTEGER (0..19),
sl40 INTEGER (0..39),
sl80 INTEGER (0..79),
sl160 INTEGER (0..159),
sl320 INTEGER (0..319),
sl640 INTEGER (0..639)
} OPTIONAL, -- Need M
resource PUCCH-ResourceId OPTIONAL -- Need M
}
\-- TAG-SCHEDULINGREQUESTRESOURCECONFIG-STOP
\-- ASN1STOP
+----------------------------------------------------------------------+ | _SchedulingRequestResourceConfig_ field descriptions | +======================================================================+ | **_periodicityAndOffset_** | | | | SR periodicity and offset in number of symbols or slots (see TS | | 38.213 [13], clause 9.2.4) The following periodicities may be | | configured depending on the chosen subcarrier spacing: | | | | SCS = 15 kHz: 2sym, 7sym, 1sl, 2sl, 4sl, 5sl, 8sl, 10sl, 16sl, 20sl, | | 40sl, 80sl | | | | SCS = 30 kHz: 2sym, 7sym, 1sl, 2sl, 4sl, 8sl, 10sl, 16sl, 20sl, | | 40sl, 80sl, 160sl | | | | SCS = 60 kHz: 2sym, 7sym/6sym, 1sl, 2sl, 4sl, 8sl, 16sl, 20sl, 40sl, | | 80sl, 160sl, 320sl | | | | SCS = 120 kHz: 2sym, 7sym, 1sl, 2sl, 4sl, 8sl, 16sl, 40sl, 80sl, | | 160sl, 320sl, 640sl | | | | sym6or7 corresponds to 6 symbols if extended cyclic prefix and a SCS | | of 60 kHz are configured, otherwise it corresponds to 7 symbols. | | | | For periodicities 2sym, 7sym and sl1 the UE assumes an offset of 0 | | slots. | +----------------------------------------------------------------------+ | **_resource_** | | | | ID of the PUCCH resource in which the UE shall send the scheduling | | request. The actual _PUCCH-Resource_ is configured in _PUCCH-Config_ | | of the same UL BWP and serving cell as this | | _SchedulingRequestResourceConfig_. The network configures a | | _PUCCH-Resource_ of _PUCCH-format0_ or _PUCCH-format1_ (other | | formats not supported) (see TS 38.213 [13], clause 9.2.4) | +----------------------------------------------------------------------+ | **_schedulingRequestID_** | | | | The ID of the _SchedulingRequestConfig_ that uses this scheduling | | request resource. | +----------------------------------------------------------------------+
#### \-- _SchedulingRequestResourceId_
The IE _SchedulingRequestResourceId_ is used to identify scheduling request
resources on PUCCH.
_SchedulingRequestResourceId_ information element
\-- ASN1START
\-- TAG-SCHEDULINGREQUESTRESOURCEID-START
SchedulingRequestResourceId ::= INTEGER (1..maxNrofSR-Resources)
\-- TAG-SCHEDULINGREQUESTRESOURCEID-STOP
\-- ASN1STOP
#### \-- _ScramblingId_
The IE _ScramblingID_ is used for scrambling channels and reference signals.
_ScramblingId_ information element
\-- ASN1START
\-- TAG-SCRAMBLINGID-START
ScramblingId ::= INTEGER(0..1023)
\-- TAG-SCRAMBLINGID-STOP
\-- ASN1STOP
#### \-- _SCS-SpecificCarrier_
The IE _SCS-SpecificCarrier_ provides parameters determining the location and
width of the actual carrier or the carrier bandwidth. It is defined
specifically for a numerology (subcarrier spacing (SCS)) and in relation
(frequency offset) to Point A.
_SCS-SpecificCarrier_ information element
\-- ASN1START
\-- TAG-SCS-SPECIFICCARRIER-START
SCS-SpecificCarrier ::= SEQUENCE {
offsetToCarrier INTEGER (0..2199),
subcarrierSpacing SubcarrierSpacing,
carrierBandwidth INTEGER (1..maxNrofPhysicalResourceBlocks),
...,
[[
txDirectCurrentLocation INTEGER (0..4095) OPTIONAL -- Need S
]]
}
\-- TAG-SCS-SPECIFICCARRIER-STOP
\-- ASN1STOP
+----------------------------------------------------------------------+ | _SCS-SpecificCarrier_ field descriptions | +======================================================================+ | **_carrierBandwidth_** | | | | Width of this carrier in number of PRBs (using the | | _subcarrierSpacing_ defined for this carrier) (see TS 38.211 [16], | | clause 4.4.2). | +----------------------------------------------------------------------+ | **_offsetToCarrier_** | | | | Offset in frequency domain between Point A (lowest subcarrier of | | common RB 0) and the lowest usable subcarrier on this carrier in | | number of PRBs (using the subcarrierSpacing defined for this | | carrier). The maximum value corresponds to 275*8-1. See TS 38.211 | | [16], clause 4.4.2. | +----------------------------------------------------------------------+ | **_txDirectCurrentLocation_** | | | | Indicates the downlink Tx Direct Current location for the carrier. A | | value in the range 0..3299 indicates the subcarrier index within the | | carrier. The values in the value range 3301..4095 are reserved and | | ignored by the UE. If this field is absent for downlink within | | _ServingCellConfigCommon_ and _ServingCellConfigCommonSIB_ , the UE | | assumes the default value of 3300 (i.e. \"Outside the carrier\"). | | (see TS 38.211 [16], clause 4.4.2). Network does not configure | | this field via _ServingCellConfig_ or for uplink carriers. | +----------------------------------------------------------------------+ | **_subcarrierSpacing_** | | | | Subcarrier spacing of this carrier. It is used to convert the | | offsetToCarrier into an actual frequency. Only the values 15 kHz, 30 | | kHz or 60 kHz (FR1), and 60 kHz or 120 kHz (FR2) are applicable. | +----------------------------------------------------------------------+
#### \-- _SDAP-Config_
The IE _SDAP-Config_ is used to set the configurable SDAP parameters for a
data radio bearer. All configured instances of SDAP-Config with the same value
of pdu-Session correspond to the same SDAP entity as specified in TS 37.324
[24].
_SDAP-Config_ information element
\-- ASN1START
\-- TAG-SDAP-CONFIG-START
SDAP-Config ::= SEQUENCE {
pdu-Session PDU-SessionID,
sdap-HeaderDL ENUMERATED {present, absent},
sdap-HeaderUL ENUMERATED {present, absent},
defaultDRB BOOLEAN,
mappedQoS-FlowsToAdd SEQUENCE (SIZE (1..maxNrofQFIs)) OF QFI OPTIONAL, \--
Need N
mappedQoS-FlowsToRelease SEQUENCE (SIZE (1..maxNrofQFIs)) OF QFI OPTIONAL, --
Need N
...
}
QFI ::= INTEGER (0..maxQFI)
PDU-SessionID ::= INTEGER (0..255)
\-- TAG-SDAP-CONFIG-STOP
\-- ASN1STOP
+----------------------------------------------------------------------+ | _SDAP-Config_ field descriptions | +======================================================================+ | **_defaultDRB_** | | | | **Indicates whether or not this is the default DRB for this PDU | | session. Among all configured instances of _SDAP-Config _with the | | same value of_ pdu-Session _, this field shall be set to_ __ true _| |__in at most one instance of SDAP-Config and to_ false _in all other | | instances._ * | +----------------------------------------------------------------------+ | _**mappedQoS-FlowsToAdd** _| | | |__Indicates the list of QFIs of UL QoS flows of the PDU session to | | be additionally mapped to this DRB. A QFI value can be included at | | most once in all configured instances of_ SDAP-Config _with the same | | value of_ pdu-Session _. For QoS flow remapping, the QFI value of the | | remapped QoS flow is only included in_ mappedQoS-FlowsToAdd _in | |_ sdap-Config _corresponding to the new DRB and not included in | |_ mappedQoS-FlowsToRelease _in_ sdap-Config* corresponding to the old | | DRB.** | +----------------------------------------------------------------------+ | **_mappedQoS-FlowsToRelease_** | | | | **Indicates the list of QFIs of QoS flows of the PDU session to be | | released from existing QoS flow to DRB mapping of this DRB.** | +----------------------------------------------------------------------+ | **_pdu-Session_** | | | | _Identity of the PDU session whose QoS flows are mapped to the DRB._ | +----------------------------------------------------------------------+ | **_sdap-HeaderUL_** | | | | **Indicates whether or not a SDAP header is present for UL data on | | this DRB. The field cannot be changed after a DRB is established.** | | **The network sets this field to _present _if the field_ defaultDRB _| | is set to_ __ true_**.**| +----------------------------------------------------------------------+ |**_sdap-HeaderDL_**| | | |** Indicates whether or not a SDAP header is present for DL data on | | this DRB. The field cannot be changed after a DRB is established.** | +----------------------------------------------------------------------+
#### \-- _SearchSpace_
The IE _SearchSpace_ defines how/where to search for PDCCH candidates. Each
search space is associated with one _ControlResourceSet_. For a scheduled cell
in the case of cross carrier scheduling, except for _nrofCandidates_ , all the
optional fields are absent (regardless of their presence conditions).
_SearchSpace_ information element
\-- ASN1START
\-- TAG-SEARCHSPACE-START
SearchSpace ::= SEQUENCE {
searchSpaceId SearchSpaceId,
controlResourceSetId ControlResourceSetId OPTIONAL, -- Cond SetupOnly
monitoringSlotPeriodicityAndOffset CHOICE {
sl1 NULL,
sl2 INTEGER (0..1),
sl4 INTEGER (0..3),
sl5 INTEGER (0..4),
sl8 INTEGER (0..7),
sl10 INTEGER (0..9),
sl16 INTEGER (0..15),
sl20 INTEGER (0..19),
sl40 INTEGER (0..39),
sl80 INTEGER (0..79),
sl160 INTEGER (0..159),
sl320 INTEGER (0..319),
sl640 INTEGER (0..639),
sl1280 INTEGER (0..1279),
sl2560 INTEGER (0..2559)
} OPTIONAL, -- Cond Setup
duration INTEGER (2..2559) OPTIONAL, -- Need S
monitoringSymbolsWithinSlot BIT STRING (SIZE (14)) OPTIONAL, -- Cond Setup
nrofCandidates SEQUENCE {
aggregationLevel1 ENUMERATED {n0, n1, n2, n3, n4, n5, n6, n8},
aggregationLevel2 ENUMERATED {n0, n1, n2, n3, n4, n5, n6, n8},
aggregationLevel4 ENUMERATED {n0, n1, n2, n3, n4, n5, n6, n8},
aggregationLevel8 ENUMERATED {n0, n1, n2, n3, n4, n5, n6, n8},
aggregationLevel16 ENUMERATED {n0, n1, n2, n3, n4, n5, n6, n8}
} OPTIONAL, -- Cond Setup
searchSpaceType CHOICE {
common SEQUENCE {
dci-Format0-0-AndFormat1-0 SEQUENCE {
...
} OPTIONAL, -- Need R
dci-Format2-0 SEQUENCE {
nrofCandidates-SFI SEQUENCE {
aggregationLevel1 ENUMERATED {n1, n2} OPTIONAL, -- Need R
aggregationLevel2 ENUMERATED {n1, n2} OPTIONAL, -- Need R
aggregationLevel4 ENUMERATED {n1, n2} OPTIONAL, -- Need R
aggregationLevel8 ENUMERATED {n1, n2} OPTIONAL, -- Need R
aggregationLevel16 ENUMERATED {n1, n2} OPTIONAL -- Need R
},
...
} OPTIONAL, -- Need R
dci-Format2-1 SEQUENCE {
...
} OPTIONAL, -- Need R
dci-Format2-2 SEQUENCE {
...
} OPTIONAL, -- Need R
dci-Format2-3 SEQUENCE {
dummy1 ENUMERATED {sl1, sl2, sl4, sl5, sl8, sl10, sl16, sl20} OPTIONAL, \--
Cond Setup
dummy2 ENUMERATED {n1, n2},
...
} OPTIONAL -- Need R
},
ue-Specific SEQUENCE {
dci-Formats ENUMERATED {formats0-0-And-1-0, formats0-1-And-1-1},
...
}
} OPTIONAL -- Cond Setup
}
\-- TAG-SEARCHSPACE-STOP
\-- ASN1STOP
+----------------------------------------------------------------------+ | _SearchSpace_ field descriptions | +======================================================================+ | **_common_** | | | | Configures this search space as common search space (CSS) and DCI | | formats to monitor. | +----------------------------------------------------------------------+ | **_controlResourceSetId_** | | | | The CORESET applicable for this SearchSpace. Value 0 identifies the | | common CORESET#0 configured in MIB and in | | _ServingCellConfigCommon_. Values 1.._maxNrofControlResourceSets-1_ | | identify CORESETs configured in System Information or by dedicated | | signalling. The CORESETs with _non-zero controlResourceSetId_ are | | configured in the same BWP as this _SearchSpace_. | +----------------------------------------------------------------------+ | **_dummy1, dummy2_** | | | | This field is not used in the specification. If received it shall be | | ignored by the UE. | +----------------------------------------------------------------------+ | **_dci-Format0-0-AndFormat1-0_** | | | | If configured, the UE monitors the DCI formats 0_0 and 1_0 | | according to TS 38.213 [13], clause 10.1. | +----------------------------------------------------------------------+ | **_dci-Format2-0_** | | | | If configured, UE monitors the DCI format 2_0 according to TS | | 38.213 [13], clause 10.1, 11.1.1. | +----------------------------------------------------------------------+ | **_dci-Format2-1_** | | | | If configured, UE monitors the DCI format 2_1 according to TS | | 38.213 [13], clause 10.1, 11.2. | +----------------------------------------------------------------------+ | **_dci-Format2-2_** | | | | If configured, UE monitors the DCI format 2_2 according to TS | | 38.213 [13], clause 10.1, 11.3. | +----------------------------------------------------------------------+ | **_dci-Format2-3_** | | | | If configured, UE monitors the DCI format 2_3 according to TS | | 38.213 [13], clause 10.1, 11.4 | +----------------------------------------------------------------------+ | **_dci-Formats_** | | | | Indicates whether the UE monitors in this USS for DCI formats 0-0 | | and 1-0 or for formats 0-1 and 1-1. | +----------------------------------------------------------------------+ | **_duration_** | | | | Number of consecutive slots that a SearchSpace lasts in every | | occasion, i.e., upon every period as given in the | | _periodicityAndOffset_. If the field is absent, the UE applies the | | value 1 slot, except for DCI format 2_0. The UE ignores this field | | for DCI format 2_0. The maximum valid duration is periodicity-1 | | (periodicity as given in the _monitoringSlotPeriodicityAndOffset_). | +----------------------------------------------------------------------+ | **_monitoringSlotPeriodicityAndOffset_** | | | | Slots for PDCCH Monitoring configured as periodicity and offset. If | | the UE is configured to monitor DCI format 2_1, only the values | | \'sl1\', \'sl2\' or \'sl4\' are applicable. If the UE is configured | | to monitor DCI format 2_0, only the values ′sl1′, ′sl2′, ′sl4′, | | ′sl5′, ′sl8′, ′sl10′, ′sl16′, and ′sl20′ are applicable (see TS | | 38.213 [13], clause 10). | +----------------------------------------------------------------------+ | **_monitoringSymbolsWithinSlot_** | | | | The first symbol(s) for PDCCH monitoring in the slots configured for | | PDCCH monitoring (see _monitoringSlotPeriodicityAndOffset_ and | | _duration_). The most significant (left) bit represents the first | | OFDM in a slot, and the second most significant (left) bit | | represents the second OFDM symbol in a slot and so on. The bit(s) | | set to one identify the first OFDM symbol(s) of the control resource | | set within a slot. If the cyclic prefix of the BWP is set to | | extended CP, the last two bits within the bit string shall be | | ignored by the UE . | | | | For DCI format 2_0, the first one symbol applies if the _duration_ | | of CORESET (in the IE _ControlResourceSet_) identified by | | _controlResourceSetId_ indicates 3 symbols, the first two symbols | | apply if the _duration_ of CORESET identified by | | _controlResourceSetId_ indicates 2 symbols, and the first three | | symbols apply if the _duration_ of CORESET identified by | | _controlResourceSetId_ indicates 1 symbol. | | | | See TS 38.213 [13], clause 10. | +----------------------------------------------------------------------+ | **_nrofCandidates-SFI_** | | | | The number of PDCCH candidates specifically for format 2-0 for the | | configured aggregation level. If an aggregation level is absent, the | | UE does not search for any candidates with that aggregation level. | | The network configures only one aggregationLevel and the | | corresponding number of candidates (see TS 38.213 [13], clause | | 11.1.1). | +----------------------------------------------------------------------+ | **_nrofCandidates_** | | | | Number of PDCCH candidates per aggregation level. The number of | | candidates and aggregation levels configured here applies to all | | formats unless a particular value is specified or a format-specific | | value is provided (see inside _searchSpaceType_). If configured in | | the _SearchSpace_ of a cross carrier scheduled cell, this field | | determines the number of candidates and aggregation levels to be | | used on the linked scheduling cell (see TS 38.213 [13], clause | | 10). | +----------------------------------------------------------------------+ | **_searchSpaceId_** | | | | Identity of the search space. SearchSpaceId = 0 identifies the | | _searchSpaceZero_ configured via PBCH (MIB) or | | _ServingCellConfigCommon_ and may hence not be used in the | | _SearchSpace_ IE. The _searchSpaceId_ is unique among the BWPs of a | | Serving Cell. In case of cross carrier scheduling, search spaces | | with the same _searchSpaceId_ in scheduled cell and scheduling cell | | are linked to each other. The UE applies the search space for the | | scheduled cell only if the DL BWPs in which the linked search spaces | | are configured in scheduling cell and scheduled cell are both | | active. | +----------------------------------------------------------------------+ | **_searchSpaceType_** | | | | Indicates whether this is a common search space (present) or a UE | | specific search space as well as DCI formats to monitor for. | +----------------------------------------------------------------------+ | **_ue-Specific_** | | | | Configures this search space as UE specific search space (USS). The | | UE monitors the DCI format with CRC scrambled by C-RNTI, CS-RNTI (if | | configured), and SP-CSI-RNTI (if configured) | +----------------------------------------------------------------------+
Conditional Presence Explanation
* * *
_Setup_ This field is mandatory present upon creation of a new _SearchSpace_.
It is optionally present, Need M, otherwise. _SetupOnly_ This field is
mandatory present upon creation of a new _SearchSpace_. It is absent, Need M,
otherwise.
#### \-- _SearchSpaceId_
The IE _SearchSpaceId_ is used to identify Search Spaces. The ID space is used
across the BWPs of a Serving Cell. The search space with the _SearchSpaceId_ =
0 identifies the search space configured via PBCH (MIB) and in
_ServingCellConfigCommon_ (_searchSpaceZero_). The number of Search Spaces per
BWP is limited to 10 including the common and UE specific Search Spaces.
_SearchSpaceId_ information element
\-- ASN1START
\-- TAG-SEARCHSPACEID-START
SearchSpaceId ::= INTEGER (0..maxNrofSearchSpaces-1)
\-- TAG-SEARCHSPACEID-STOP
\-- ASN1STOP
#### \-- _SearchSpaceZero_
The IE _SearchSpaceZero_ is used to configure SearchSpace#0 of the initial BWP
(see TS 38.213 [13], clause 13).
_SearchSpaceZero_ information element
\-- ASN1START
\-- TAG-SEARCHSPACEZERO-START
SearchSpaceZero ::= INTEGER (0..15)
\-- TAG-SEARCHSPACEZERO-STOP
\-- ASN1STOP
#### \-- _SecurityAlgorithmConfig_
The IE _SecurityAlgorithmConfig_ is used to configure AS integrity protection
algorithm and AS ciphering algorithm for SRBs and DRBs.
**_SecurityAlgorithmConfig_** information element
\-- ASN1START
\-- TAG-SECURITYALGORITHMCONFIG-START
SecurityAlgorithmConfig ::= SEQUENCE {
cipheringAlgorithm CipheringAlgorithm,
integrityProtAlgorithm IntegrityProtAlgorithm OPTIONAL, -- Need R
...
}
IntegrityProtAlgorithm ::= ENUMERATED {
nia0, nia1, nia2, nia3, spare4, spare3,
spare2, spare1, ...}
CipheringAlgorithm ::= ENUMERATED {
nea0, nea1, nea2, nea3, spare4, spare3,
spare2, spare1, ...}
\-- TAG-SECURITYALGORITHMCONFIG-STOP
\-- ASN1STOP
+----------------------------------------------------------------------+ | _SecurityAlgorithmConfig field descriptions_ | +======================================================================+ | **_cipheringAlgorithm_** | | | | Indicates the ciphering algorithm to be used for SRBs and DRBs _, as | | specified in TS 33.501 [11]_. The algorithms _nea0_ -_nea3_ are | | identical to the LTE algorithms eea0-3. The algorithms configured | | for all bearers using master key shall be the same, and the | | algorithms configured for all bearers using secondary key, if any, | | shall be the same. If UE is connected to E-UTRA/EPC, this field | | indicates the ciphering algorithm to be used for RBs configured with | | NR PDCP, as specified in TS 33.501 [11]. | +----------------------------------------------------------------------+ | **_integrityProtAlgorithm_** | | | | Indicates the integrity protection algorithm to be used for SRBs and | | DRBs, as specified in TS 33.501 [11]. The algorithms _nia0-nia3_ | | are identical to the E-UTRA algorithms _eia0-3_. The algorithms | | configured for all bearers using master key shall be the same and | | the algorithms configured for all bearers using secondary key, if | | any, shall be the same. The network does not configure _nia0_ except | | for unauthenticated emergency sessions for unauthenticated UEs in | | LSM (limited service mode). | | | | If UE is connected to E-UTRA/EPC, this field indicates the integrity | | protection algorithm to be used for SRBs configured with NR PDCP, as | | specified in TS 33.501 [11]. The network does not configure _nia0_ | | for SRB3. | +----------------------------------------------------------------------+
#### \-- _ServCellIndex_
The IE _ServCellIndex_ concerns a short identity, used to uniquely identify a
serving cell (i.e. the PCell, the PSCell or an SCell) across the cell groups.
Value 0 applies for the PCell, while the _SCellIndex_ that has previously been
assigned applies for SCells.
**_ServCellIndex_** information element
\-- ASN1START
\-- TAG-SERVCELLINDEX-START
ServCellIndex ::= INTEGER (0..maxNrofServingCells-1)
\-- TAG-SERVCELLINDEX-STOP
\-- ASN1STOP
#### \-- _ServingCellConfig_
The IE _ServingCellConfig_ is used to configure (add or modify) the UE with a
serving cell, which may be the SpCell or an SCell of an MCG or SCG. The
parameters herein are mostly UE specific but partly also cell specific (e.g.
in additionally configured bandwidth parts). Reconfiguration between a PUCCH
and PUCCHless SCell is only supported using an SCell release and add.
**_ServingCellConfig_** information element
\-- ASN1START
\-- TAG-SERVINGCELLCONFIG-START
ServingCellConfig ::= SEQUENCE {
tdd-UL-DL-ConfigurationDedicated TDD-UL-DL-ConfigDedicated OPTIONAL, -- Cond
TDD
initialDownlinkBWP BWP-DownlinkDedicated OPTIONAL, -- Need M
downlinkBWP-ToReleaseList SEQUENCE (SIZE (1..maxNrofBWPs)) OF BWP-Id OPTIONAL,
-- Need N
downlinkBWP-ToAddModList SEQUENCE (SIZE (1..maxNrofBWPs)) OF BWP-Downlink
OPTIONAL, -- Need N
firstActiveDownlinkBWP-Id BWP-Id OPTIONAL, -- Cond SyncAndCellAdd
bwp-InactivityTimer ENUMERATED {ms2, ms3, ms4, ms5, ms6, ms8, ms10, ms20,
ms30,
ms40,ms50, ms60, ms80,ms100, ms200,ms300, ms500,
ms750, ms1280, ms1920, ms2560, spare10, spare9, spare8,
spare7, spare6, spare5, spare4, spare3, spare2, spare1 } OPTIONAL, \--Need R
defaultDownlinkBWP-Id BWP-Id OPTIONAL, -- Need S
uplinkConfig UplinkConfig OPTIONAL, -- Need M
supplementaryUplink UplinkConfig OPTIONAL, -- Need M
pdcch-ServingCellConfig SetupRelease { PDCCH-ServingCellConfig } OPTIONAL, --
Need M
pdsch-ServingCellConfig SetupRelease { PDSCH-ServingCellConfig } OPTIONAL, --
Need M
csi-MeasConfig SetupRelease { CSI-MeasConfig } OPTIONAL, -- Need M
sCellDeactivationTimer ENUMERATED {ms20, ms40, ms80, ms160, ms200, ms240,
ms320, ms400, ms480, ms520, ms640, ms720,
ms840, ms1280, spare2,spare1} OPTIONAL, -- Cond ServingCellWithoutPUCCH
crossCarrierSchedulingConfig CrossCarrierSchedulingConfig OPTIONAL, -- Need M
tag-Id TAG-Id,
dummy ENUMERATED {enabled} OPTIONAL, -- Need R
pathlossReferenceLinking ENUMERATED {spCell, sCell} OPTIONAL, -- Cond
SCellOnly
servingCellMO MeasObjectId OPTIONAL, -- Cond MeasObject
...,
[[
lte-CRS-ToMatchAround SetupRelease { RateMatchPatternLTE-CRS } OPTIONAL, \--
Need M
rateMatchPatternToAddModList SEQUENCE (SIZE (1..maxNrofRateMatchPatterns)) OF
RateMatchPattern OPTIONAL, -- Need N
rateMatchPatternToReleaseList SEQUENCE (SIZE (1..maxNrofRateMatchPatterns)) OF
RateMatchPatternId OPTIONAL, -- Need N
downlinkChannelBW-PerSCS-List SEQUENCE (SIZE (1..maxSCSs)) OF SCS-
SpecificCarrier OPTIONAL -- Need S
]]
}
UplinkConfig ::= SEQUENCE {
initialUplinkBWP BWP-UplinkDedicated OPTIONAL, -- Need M
uplinkBWP-ToReleaseList SEQUENCE (SIZE (1..maxNrofBWPs)) OF BWP-Id OPTIONAL,
-- Need N
uplinkBWP-ToAddModList SEQUENCE (SIZE (1..maxNrofBWPs)) OF BWP-Uplink
OPTIONAL, -- Need N
firstActiveUplinkBWP-Id BWP-Id OPTIONAL, -- Cond SyncAndCellAdd
pusch-ServingCellConfig SetupRelease { PUSCH-ServingCellConfig } OPTIONAL, --
Need M
carrierSwitching SetupRelease { SRS-CarrierSwitching } OPTIONAL, -- Need M
...,
[[
powerBoostPi2BPSK BOOLEAN OPTIONAL, -- Need M
uplinkChannelBW-PerSCS-List SEQUENCE (SIZE (1..maxSCSs)) OF SCS-
SpecificCarrier OPTIONAL -- Need S
]]
}
\-- TAG-SERVINGCELLCONFIG-STOP
\-- ASN1STOP
+----------------------------------------------------------------------+ | _ServingCellConfig_ field descriptions | +======================================================================+ | **_bwp-InactivityTimer_** | | | | The duration in ms after which the UE falls back to the default | | Bandwidth Part (see TS 38.321 [3], clause 5.15). When the network | | releases the timer configuration, the UE stops the timer without | | switching to the default BWP. | +----------------------------------------------------------------------+ | **_crossCarrierSchedulingConfig_** | | | | Indicates whether this serving cell is cross-carrier scheduled by | | another serving cell or whether it cross-carrier schedules another | | serving cell. | +----------------------------------------------------------------------+ | **_defaultDownlinkBWP-Id_** | | | | The initial bandwidth part is referred to by BWP-Id = 0. ID of the | | downlink bandwidth part to be used upon expiry of the BWP inactivity | | timer. This field is UE specific. When the field is absent the UE | | uses the initial BWP as default BWP. (see TS 38.213 [13], clause | | 12 and TS 38.321 [3], clause 5.15). | +----------------------------------------------------------------------+ | **_downlinkBWP-ToAddModList_** | | | | List of additional downlink bandwidth parts to be added or modified. | | (see TS 38.213 [13], clause 12). | +----------------------------------------------------------------------+ | **_downlinkBWP-ToReleaseList_** | | | | List of additional downlink bandwidth parts to be released. (see TS | | 38.213 [13], clause 12). | +----------------------------------------------------------------------+ | **_downlinkChannelBW-PerSCS-List_** | | | | A set of UE specific channel bandwidth and location configurations | | for different subcarrier spacings (numerologies). Defined in | | relation to Point A. The UE uses the configuration provided in this | | field only for the purpose of channel bandwidth and location | | determination. If absent, UE uses the configuration indicated in | | _scs-SpecificCarrierList_ in _DownlinkConfigCommon_ / | | _DownlinkConfigCommonSIB_. Network only configures channel bandwidth | | that corresponds to the channel bandwidth values defined in TS | | 38.101-1 [15] and TS 38.101-2 [39]. | +----------------------------------------------------------------------+ | **_firstActiveDownlinkBWP-Id_** | | | | If configured for an SpCell, this field contains the ID of the DL | | BWP to be activated upon performing the RRC (re-)configuration. If | | the field is absent, the RRC (re-)configuration does not impose a | | BWP switch. | | | | If configured for an SCell, this field contains the ID of the | | downlink bandwidth part to be used upon MAC-activation of an SCell. | | The initial bandwidth part is referred to by BWP-Id = 0. | | | | Upon reconfiguration with _reconfigurationWithSync_ , the network | | sets the _firstActiveDownlinkBWP-Id_ and _firstActiveUplinkBWP-Id_ | | to the same value. | +----------------------------------------------------------------------+ | **_initialDownlinkBWP_** | | | | The dedicated (UE-specific) configuration for the initial downlink | | bandwidth-part (i.e. DL BWP#0). If any of the optional IEs are | | configured within this IE, the UE considers the BWP#0 to be an RRC | | configured BWP (from UE capability viewpoint). Otherwise, the UE | | does not consider the BWP#0 as an RRC configured BWP (from UE | | capability viewpoint). Network always configures the UE with a value | | for this field if no other BWPs are configured. NOTE1 | +----------------------------------------------------------------------+ | **_lte-CRS-ToMatchAround_** | | | | Parameters to determine an LTE CRS pattern that the UE shall rate | | match around. | +----------------------------------------------------------------------+ | **_pathlossReferenceLinking_** | | | | Indicates whether UE shall apply as pathloss reference either the | | downlink of SpCell (PCell for MCG or PSCell for SCG) or of SCell | | that corresponds with this uplink (see TS 38.213 [13], clause 7). | +----------------------------------------------------------------------+ | **_pdsch-ServingCellConfig_** | | | | PDSCH related parameters that are not BWP-specific. | +----------------------------------------------------------------------+ | **_rateMatchPatternToAddModList_** | | | | Resources patterns which the UE should rate match PDSCH around. The | | UE rate matches around the union of all resources indicated in the | | rate match patterns. Rate match patterns defined here on cell level | | apply only to PDSCH of the same numerology. See TS 38.214 [19], | | clause 5.1.4.1. | +----------------------------------------------------------------------+ | **_sCellDeactivationTimer_** | | | | SCell deactivation timer in TS 38.321 [3]. If the field is absent, | | the UE applies the value infinity. | +----------------------------------------------------------------------+ | **_servingCellMO_** | | | | _measObjectId_ of the _MeasObjectNR_ in _MeasConfig_ which is | | associated to the serving cell. For this _MeasObjectNR_ , the | | following relationship applies between this MeasObjectNR and | | _frequencyInfoDL_ in _ServingCellConfigCommon_ of the serving cell: | | if _ssbFrequency_ is configured, its value is the same as the | | _absoluteFrequencySSB_ and if _csi-rs-ResourceConfigMobility_ is | | configured, the value of its _subcarrierSpacing_ is present in one | | entry of the _scs-SpecificCarrierList_ , _csi-RS-CellListMobility_ | | includes an entry corresponding to the serving cell (with _cellId_ | | equal to _physCellId_ in _ServingCellConfigCommon_) and the | | frequency range indicated by the _csi-rs-MeasurementBW_ of the entry | | in _csi-RS-CellListMobility_ is included in the frequency range | | indicated by in the entry of the _scs-SpecificCarrierList_. | +----------------------------------------------------------------------+ | **_supplementaryUplink_** | | | | Network may configure this field only when | | _supplementaryUplinkConfig_ is configured in | | _ServingCellConfigCommon_ or _supplementaryUplink_ is configured in | | _ServingCellConfigCommonSIB_. | +----------------------------------------------------------------------+ | **_tag-Id_** | | | | Timing Advance Group ID, as specified in TS 38.321 [3], which this | | cell belongs to. | +----------------------------------------------------------------------+ | **_uplinkConfig_** | | | | Network may configure this field only when _uplinkConfigCommon_ is | | configured in _ServingCellConfigCommon_ or | | _ServingCellConfigCommonSIB_. Addition or release of this field can | | only be done upon SCell addition or release (respectively). | +----------------------------------------------------------------------+
+----------------------------------------------------------------------+ | _UplinkConfig_ field descriptions | +======================================================================+ | **_carrierSwitching_** | | | | Includes parameters for configuration of carrier based SRS switching | | (see TS 38.214 [19], clause 6.2.1.3. | +----------------------------------------------------------------------+ | **_firstActiveUplinkBWP-Id_** | | | | If configured for an SpCell, this field contains the ID of the UL | | BWP to be activated upon performing the RRC (re-)configuration. If | | the field is absent, the RRC (re-)configuration does not impose a | | BWP switch. | | | | If configured for an SCell, this field contains the ID of the uplink | | bandwidth part to be used upon MAC-activation of an SCell. The | | initial bandwidth part is referred to by BandiwdthPartId = 0. | +----------------------------------------------------------------------+ | **_initialUplinkBWP_** | | | | The dedicated (UE-specific) configuration for the initial uplink | | bandwidth-part (i.e. UL BWP#0). If any of the optional IEs are | | configured within this IE as part of the IE _uplinkConfig_ , the UE | | considers the BWP#0 to be an RRC configured BWP (from UE capability | | viewpoint). Otherwise, the UE does not consider the BWP#0 as an RRC | | configured BWP (from UE capability viewpoint). Network always | | configures the UE with a value for this field if no other BWPs are | | configured. NOTE1 | +----------------------------------------------------------------------+ | **_powerBoostPi2BPSK_** | | | | If this field is set to _true_ , the UE determines the maximum output | | power for PUCCH/PUSCH transmissions that use pi/2 BPSK modulation | | according to TS 38.101-1 [15], clause 6.2.4. | +----------------------------------------------------------------------+ | **_pusch-ServingCellConfig_** | | | | PUSCH related parameters that are not BWP-specific. | +----------------------------------------------------------------------+ | **_uplinkBWP-ToAddModList_** | | | | The additional bandwidth parts for uplink to be added or modified. | | In case of TDD uplink- and downlink BWP with the same | | _bandwidthPartId_ are considered as a BWP pair and must have the | | same center frequency. | +----------------------------------------------------------------------+ | **_uplinkBWP-ToReleaseList_** | | | | The additional bandwidth parts for uplink to be released. | +----------------------------------------------------------------------+ | **_uplinkChannelBW-PerSCS-List_** | | | | A set of UE specific channel bandwidth and location configurations | | for different subcarrier spacings (numerologies). Defined in | | relation to Point A. The UE uses the configuration provided in this | | field only for the purpose of channel bandwidth and location | | determination. If absent, UE uses the configuration indicated in | | _scs-SpecificCarrierList_ in _UplinkConfigCommon_ / | | _UplinkConfigCommonSIB_. Network only configures channel bandwidth | | that corresponds to the channel bandwidth values defined in TS | | 38.101-1 [15] and TS 38.101-2 [39]. | +----------------------------------------------------------------------+
NOTE 1: If the dedicated part of initial UL/DL BWP configuration is absent,
the initial BWP can be used but with some limitations. For example, changing
to another BWP requires _RRCReconfiguration_ since DCI format 1_0 doesn\'t
support DCI-based switching.
+---------------------------+-----------------------------------------+ | Conditional Presence | Explanation | +===========================+=========================================+ | _MeasObject_ | This field is mandatory present for the | | | SpCell if the UE has a _measConfig_ , | | | and it is optionally present, Need M, | | | for SCells. | +---------------------------+-----------------------------------------+ | _SCellOnly_ | This field is optionally present, Need | | | R, for SCells. It is absent otherwise. | +---------------------------+-----------------------------------------+ | _ServingCellWithoutPUCCH_ | This field is optionally present, Need | | | S, for SCells except PUCCH SCells. It | | | is absent otherwise. | +---------------------------+-----------------------------------------+ | _SyncAndCellAdd_ | This field is mandatory present for a | | | SpCell upon reconfiguration with | | | _reconfigurationWithSync_ and upon | | | _RRCSetup_ /_RRCResume_. | | | | | | The field is optionally present for a | | | SpCell, Need N, upon reconfiguration | | | without _reconfigurationWithSync_. | | | | | | The field is mandatory present for an | | | SCell upon addition, and absent for | | | SCell in other cases, Need M. | +---------------------------+-----------------------------------------+ | _TDD_ | This field is optionally present, Need | | | R, for TDD cells. It is absent | | | otherwise. | +---------------------------+-----------------------------------------+
#### \-- _ServingCellConfigCommon_
The IE _ServingCellConfigCommon_ is used to configure cell specific parameters
of a UE\'s serving cell. The IE contains parameters which a UE would typically
acquire from SSB, MIB or SIBs when accessing the cell from IDLE. With this IE,
the network provides this information in dedicated signalling when configuring
a UE with a SCells or with an additional cell group (SCG). It also provides it
for SpCells (MCG and SCG) upon reconfiguration with sync.
**_ServingCellConfigCommon_** information element
\-- ASN1START
\-- TAG-SERVINGCELLCONFIGCOMMON-START
ServingCellConfigCommon ::= SEQUENCE {
physCellId PhysCellId OPTIONAL, -- Cond HOAndServCellAdd,
downlinkConfigCommon DownlinkConfigCommon OPTIONAL, -- Cond HOAndServCellAdd
uplinkConfigCommon UplinkConfigCommon OPTIONAL, -- Need M
supplementaryUplinkConfig UplinkConfigCommon OPTIONAL, -- Need S
n-TimingAdvanceOffset ENUMERATED { n0, n25600, n39936 } OPTIONAL, -- Need S
ssb-PositionsInBurst CHOICE {
shortBitmap BIT STRING (SIZE (4)),
mediumBitmap BIT STRING (SIZE (8)),
longBitmap BIT STRING (SIZE (64))
} OPTIONAL, -- Cond AbsFreqSSB
ssb-periodicityServingCell ENUMERATED { ms5, ms10, ms20, ms40, ms80, ms160,
spare2, spare1 } OPTIONAL, -- Need S
dmrs-TypeA-Position ENUMERATED {pos2, pos3},
lte-CRS-ToMatchAround SetupRelease { RateMatchPatternLTE-CRS } OPTIONAL, \--
Need M
rateMatchPatternToAddModList SEQUENCE (SIZE (1..maxNrofRateMatchPatterns)) OF
RateMatchPattern OPTIONAL, -- Need N
rateMatchPatternToReleaseList SEQUENCE (SIZE (1..maxNrofRateMatchPatterns)) OF
RateMatchPatternId OPTIONAL, -- Need N
ssbSubcarrierSpacing SubcarrierSpacing OPTIONAL, -- Cond HOAndServCellWithSSB
tdd-UL-DL-ConfigurationCommon TDD-UL-DL-ConfigCommon OPTIONAL, -- Cond TDD
ss-PBCH-BlockPower INTEGER (-60..50),
...
}
\-- TAG-SERVINGCELLCONFIGCOMMON-STOP
\-- ASN1STOP
+----------------------------------------------------------------------+ | _ServingCellConfigCommon_ field descriptions | +======================================================================+ | **_dmrs-TypeA-Position_** | | | | Position of (first) DM-RS for downlink (see TS 38.211 [16], clause | | 7.4.1.1.1) and uplink (TS 38.211 [16], clause 6.4.1.1.3). | +----------------------------------------------------------------------+ | **_downlinkConfigCommon_** | | | | The common downlink configuration of the serving cell, including the | | frequency information configuration and the initial downlink BWP | | common configuration. The parameters provided herein should match | | the parameters configured by MIB and SIB1 (if provided) of the | | serving cell, with the exception of _controlResourceSetZero_ and | | _searchSpaceZero_ which can be configured in | | _ServingCellConfigCommon_ even if MIB indicates that they are | | absent. | +----------------------------------------------------------------------+ | **_longBitmap_** | | | | Bitmap when maximum number of SS/PBCH blocks per half frame equals | | to 64 as defined in TS 38.213 [13], clause 4.1. | +----------------------------------------------------------------------+ | **_lte-CRS-ToMatchAround_** | | | | Parameters to determine an LTE CRS pattern that the UE shall rate | | match around. | +----------------------------------------------------------------------+ | **_mediumBitmap_** | | | | Bitmap when maximum number of SS/PBCH blocks per half frame equals | | to 8 as defined in TS 38.213 [13], clause 4.1. | +----------------------------------------------------------------------+ | **_n-TimingAdvanceOffset_** | | | | The N_TA-Offset to be applied for all uplink transmissions on this | | serving cell. If the field is absent, the UE applies the value | | defined for the duplex mode and frequency range of this serving | | cell. See TS 38.133 [14], table 7.1.2-2. | +----------------------------------------------------------------------+ | **_rateMatchPatternToAddModList_** | | | | Resources patterns which the UE should rate match PDSCH around. The | | UE rate matches around the union of all resources indicated in the | | rate match patterns. Rate match patterns defined here on cell level | | apply only to PDSCH of the same numerology (see TS 38.214 [19], | | clause 5.1.4,1). | +----------------------------------------------------------------------+ | **_shortBitmap_** | | | | Bitmap when maximum number of SS/PBCH blocks per half frame equals | | to 4 as defined in TS 38.213 [13], clause 4.1. | +----------------------------------------------------------------------+ | **_ss-PBCH-BlockPower_** | | | | Average EPRE of the resources elements that carry secondary | | synchronization signals in dBm that the NW used for SSB | | transmission, see TS 38.213 [13], clause 7. | +----------------------------------------------------------------------+ | **_ssb-periodicityServingCell_** | | | | The SSB periodicity in ms for the rate matching purpose. If the | | field is absent, the UE applies the value ms5. (see TS 38.213 | | [13], clause 4.1) | +----------------------------------------------------------------------+ | **_ssb-PositionsInBurst_** | | | | Indicates the time domain positions of the transmitted SS-blocks in | | a half frame with SS/PBCH blocks as defined in TS 38.213 [13], | | clause 4.1. The first/ leftmost bit corresponds to SS/PBCH block | | index 0, the second bit corresponds to SS/PBCH block index 1, and so | | on. Value 0 in the bitmap indicates that the corresponding SS/PBCH | | block is not transmitted while value 1 indicates that the | | corresponding SS/PBCH block is transmitted. The network configures | | the same pattern in this field as in the corresponding field in | | ServingCellConfigCommonSIB. | +----------------------------------------------------------------------+ | **_ssbSubcarrierSpacing_** | | | | Subcarrier spacing of SSB. Only the values 15 kHz or 30 kHz (FR1), | | and 120 kHz or 240 kHz (FR2) are applicable. | +----------------------------------------------------------------------+ | **_supplementaryUplinkConfig_** | | | | The network configures this field only if _uplinkConfigCommon_ is | | configured. If this field is absent, the UE shall release the | | _supplementaryUplinkConfig_ and the _supplementaryUplink_ configured | | in _ServingCellConfig_ of this serving cell, if configured. | +----------------------------------------------------------------------+ | **_tdd-UL-DL-ConfigurationCommon_** | | | | A cell-specific TDD UL/DL configuration, see TS 38.213 [13], | | clause 11.1. | +----------------------------------------------------------------------+
Conditional Presence Explanation
* * *
_AbsFreqSSB_ The field is absent when _absoluteFrequencySSB_ in
frequencyInfoDL is absent, otherwise the field is mandatory present.
_HOAndServCellAdd_ This field is mandatory present upon SpCell change and upon
serving cell (PSCell/SCell) addition. Otherwise, the field is absent.
_HOAndServCellWithSSB_ This field is mandatory present upon SpCell change and
upon serving cell (SCell with SSB or PSCell) addition. Otherwise, the field is
absent. _TDD_ The field is optionally present, Need R, for TDD cells;
otherwise it is absent.
#### \-- _ServingCellConfigCommonSIB_
The IE _ServingCellConfigCommonSIB_ is used to configure cell specific
parameters of a UE\'s serving cell in SIB1.
**_ServingCellConfigCommonSIB_** information element
\-- ASN1START
\-- TAG-SERVINGCELLCONFIGCOMMONSIB-START
ServingCellConfigCommonSIB ::= SEQUENCE {
downlinkConfigCommon DownlinkConfigCommonSIB,
uplinkConfigCommon UplinkConfigCommonSIB OPTIONAL, -- Need R
supplementaryUplink UplinkConfigCommonSIB OPTIONAL, -- Need R
n-TimingAdvanceOffset ENUMERATED { n0, n25600, n39936 } OPTIONAL, -- Need S
ssb-PositionsInBurst SEQUENCE {
inOneGroup BIT STRING (SIZE (8)),
groupPresence BIT STRING (SIZE (8)) OPTIONAL -- Cond FR2-Only
},
ssb-PeriodicityServingCell ENUMERATED {ms5, ms10, ms20, ms40, ms80, ms160},
tdd-UL-DL-ConfigurationCommon TDD-UL-DL-ConfigCommon OPTIONAL, -- Cond TDD
ss-PBCH-BlockPower INTEGER (-60..50),
...
}
\-- TAG-SERVINGCELLCONFIGCOMMONSIB-STOP
\-- ASN1STOP
+----------------------------------------------------------------------+ | _ServingCellConfigCommonSIB_ field descriptions | +======================================================================+ | **_groupPresence_** | | | | This field is present when maximum number of SS/PBCH blocks per half | | frame equals to 64 as defined in TS 38.213 [13], clause 4.1. The | | first/leftmost bit corresponds to the SS/PBCH index 0-7, the second | | bit corresponds to SS/PBCH block 8-15, and so on. Value 0 in the | | bitmap indicates that the SSBs according to _inOneGroup_ are absent. | | Value 1 indicates that the SS/PBCH blocks are transmitted in | | accordance with _inOneGroup_. | +----------------------------------------------------------------------+ | **_inOneGroup_** | | | | When maximum number of SS/PBCH blocks per half frame equals to 4 as | | defined in TS 38.213 [13], clause 4.1, only the 4 leftmost bits | | are valid; the UE ignores the 4 rightmost bits. When maximum number | | of SS/PBCH blocks per half frame equals to 8 as defined in TS 38.213 | | [13], clause 4.1, all 8 bits are valid. The first/ leftmost bit | | corresponds to SS/PBCH block index 0, the second bit corresponds to | | SS/PBCH block index 1, and so on. When maximum number of SS/PBCH | | blocks per half frame equals to 64 as defined in TS 38.213 [13], | | clause 4.1, all 8 bit are valid; The first/ leftmost bit corresponds | | to the first SS/PBCH block index in the group (i.e., to SSB index 0, | | 8, and so on); the second bit corresponds to the second SS/PBCH | | block index in the group (i.e., to SSB index 1, 9, and so on), and | | so on. Value 0 in the bitmap indicates that the corresponding | | SS/PBCH block is not transmitted while value 1 indicates that the | | corresponding SS/PBCH block is transmitted. | +----------------------------------------------------------------------+ | **_n-TimingAdvanceOffset_** | | | | The N_TA-Offset to be applied for random access on this serving | | cell. If the field is absent, the UE applies the value defined for | | the duplex mode and frequency range of this serving cell. See TS | | 38.133 [14], table 7.1.2-2. | +----------------------------------------------------------------------+ | **_ssb-PositionsInBurst_** | | | | Time domain positions of the transmitted SS-blocks in an SS-burst as | | defined in TS 38.213 [13], clause 4.1. | +----------------------------------------------------------------------+ | **_ss-PBCH-BlockPower_** | | | | Average EPRE of the resources elements that carry secondary | | synchronization signals in dBm that the NW used for SSB | | transmission, see TS 38.213 [13], clause 7. | +----------------------------------------------------------------------+
Conditional Presence Explanation
* * *
_FR2-Only_ This field is mandatory present for an FR2 carrier frequency. It is
absent otherwise and UE releases any configured value. _TDD_ The field is
optionally present, Need R, for TDD cells; otherwise it is absent.
#### _\-- ShortI-RNTI-Value_
The IE _ShortI-RNTI-Value_ is used to identify the suspended UE context of a
UE in RRC_INACTIVE using fewer bits compared to I-RNTI-Value.
_Short_ _I-RNTI-Value_ **information element
\-- ASN1START
\-- TAG-SHORTI-RNTI-VALUE-START
ShortI-RNTI-Value ::= BIT STRING (SIZE(24))
\-- TAG-SHORTI-RNTI-VALUE-STOP
\-- ASN1STOP
#### _\-- ShortMAC-I_
The IE _ShortMAC-I_ is used to identify and verify the UE at RRC connection
re-establishment. The 16 least significant bits of the MAC-I calculated using
the AS security configuration of the source PCell, as specified in 5.3.7.4.
**_ShortMAC-I_** information element
\-- ASN1START
\-- TAG-SHORTMAC-I-START
ShortMAC-I ::= BIT STRING (SIZE (16))
\-- TAG-SHORTMAC-I-STOP
\-- ASN1STOP
#### \-- _SINR-Range_
The IE _SINR-Range_ specifies the value range used in SINR measurements and
thresholds. For measurements, integer value for SINR measurements is according
to Table 10.1.16.1-1 in TS 38.133 [14]. For thresholds, the actual value is
(IE value -- 46) / 2 dB.
_SINR-Range_ information element
\-- ASN1START
\-- TAG-SINR-RANGE-START
SINR-Range ::= INTEGER(0..127)
\-- TAG-SINR-RANGE-STOP
\-- ASN1STOP
#### \-- _SI-SchedulingInfo_
The IE _SI-SchedulingInfo_ contains information needed for acquisition of SI
messages.
**_SI-SchedulingInfo_** information element
\-- ASN1START
\-- TAG--SI-SCHEDULINGINFO-START
SI-SchedulingInfo ::= SEQUENCE {
schedulingInfoList SEQUENCE (SIZE (1..maxSI-Message)) OF SchedulingInfo,
si-WindowLength ENUMERATED {s5, s10, s20, s40, s80, s160, s320, s640, s1280},
si-RequestConfig SI-RequestConfig OPTIONAL, -- Cond MSG-1
si-RequestConfigSUL SI-RequestConfig OPTIONAL, -- Cond SUL-MSG-1
systemInformationAreaID BIT STRING (SIZE (24)) OPTIONAL, -- Need R
...
}
SchedulingInfo ::= SEQUENCE {
si-BroadcastStatus ENUMERATED {broadcasting, notBroadcasting},
si-Periodicity ENUMERATED {rf8, rf16, rf32, rf64, rf128, rf256, rf512},
sib-MappingInfo SIB-Mapping
}
SIB-Mapping ::= SEQUENCE (SIZE (1..maxSIB)) OF SIB-TypeInfo
SIB-TypeInfo ::= SEQUENCE {
type ENUMERATED {sibType2, sibType3, sibType4, sibType5, sibType6, sibType7,
sibType8, sibType9,
spare8, spare7, spare6, spare5, spare4, spare3, spare2, spare1,... },
valueTag INTEGER (0..31) OPTIONAL, -- Cond SIB-TYPE
areaScope ENUMERATED {true} OPTIONAL -- Need S
}
\-- Configuration for Msg1 based SI Request
SI-RequestConfig ::= SEQUENCE {
rach-OccasionsSI SEQUENCE {
rach-ConfigSI RACH-ConfigGeneric,
ssb-perRACH-Occasion ENUMERATED {oneEighth, oneFourth, oneHalf, one, two,
four, eight, sixteen}
} OPTIONAL, -- Need R
si-RequestPeriod ENUMERATED {one, two, four, six, eight, ten, twelve, sixteen}
OPTIONAL, -- Need R
si-RequestResources SEQUENCE (SIZE (1..maxSI-Message)) OF SI-RequestResources
}
SI-RequestResources ::= SEQUENCE {
ra-PreambleStartIndex INTEGER (0..63),
ra-AssociationPeriodIndex INTEGER (0..15) OPTIONAL, -- Need R
ra-ssb-OccasionMaskIndex INTEGER (0..15) OPTIONAL -- Need R
}
\-- TAG-SI-SCHEDULINGINFO-STOP
\-- ASN1STOP
+----------------------------------------------------------------------+ | _SchedulingInfo_ field descriptions | +======================================================================+ | **_areaScope_** | | | | Indicates that a SIB is area specific. If the field is absent, the | | SIB is cell specific. | +----------------------------------------------------------------------+ | **_si-BroadcastStatus_** | | | | Indicates if the SI message is being broadcasted or not. Change of | | _si-BroadcastStat_ us should not result in system information change | | notifications in Short Message transmitted with P-RNTI over DCI (see | | clause 6.5). The value of the indication is valid until the end of | | the BCCH modification period when set to _broadcasting_. | +----------------------------------------------------------------------+ | **_si-Periodicity_** | | | | Periodicity of the SI-message in radio frames. Value _rf8_ | | corresponds to 8 radio frames, value _rf16_ corresponds to 16 radio | | frames, and so on. | +----------------------------------------------------------------------+
+----------------------------------------------------------------------+ | _SI-RequestConfig_ field descriptions | +======================================================================+ | **_rach-OccasionsSI_** | | | | Configuration of dedicated RACH Occassions for SI. If the field is | | absent, the UE uses the corresponding parameters configured in | | _rach-ConfigCommon_ of the initial uplink BWP. | +----------------------------------------------------------------------+ | **_si-RequestPeriod_** | | | | Periodicity of the _SI-Request_ configuration in number of | | association periods. | +----------------------------------------------------------------------+ | **_si-RequestResources_** | | | | If there is only one entry in the list, the configuration is used | | for all SI messages for which _si-BroadcastStatus_ is set to | | _notBroadcasting_. Otherwise the 1^st^ entry in the list corresponds | | to the first SI message in _schedulingInfoList_ for which | | _si-BroadcastStatus_ is set to _notBroadcasting_ , 2^nd^ entry in the | | list corresponds to the second SI message in _schedulingInfoList_ | | for which _si-BroadcastStatus_ is set to _notBroadcasting_ and so | | on. Change of _si-RequestResources_ should not result in system | | information change notification. | +----------------------------------------------------------------------+
+----------------------------------------------------------------------+ | _SI-RequestResources_ field descriptions | +======================================================================+ | **_ra-AssociationPeriodIndex_** | | | | Index of the association period in the si-RequestPeriod in which the | | UE can send the SI request for SI message(s) corresponding to this | | _SI-RequestResources_ , using the preambles indicated by | | _ra-PreambleStartIndex_ and rach occasions indicated by | | _ra-ssb-OccasionMaskIndex_. | +----------------------------------------------------------------------+ | **_ra-PreambleStartIndex_** | | | | If N SSBs are associated with a RACH occasion, where N > = 1, for | | the i-th SSB (i=0, ..., N-1) the preamble with preamble index = | | _ra-PreambleStartIndex_ \+ i is used for SI request; For N \ \- For the first NR band, the UE shall include the same number of | | > entries for NR bands as in _bandList_ , i.e. first entry | | > corresponds to first NR band in _bandList_ and so on, | | > | | > \- For the second NR band, the UE shall include one entry less, | | > i.e. first entry corresponds to the second NR band in _bandList_ | | > and so on | | > | | > \- And so on | +----------------------------------------------------------------------+ | **_srs-SwitchingTimesListEUTRA_** | | | | Indicates, for a particular pair of E-UTRA bands, the RF retuning | | time when switching between an E-UTRA carrier corresponding to this | | band entry and another (PUSCH-less) E-UTRA carrier corresponding to | | the band entry in the order indicated below: | | | | > \- For the first E-UTRA band, the UE shall include the same number | | > of entries for E-UTRA bands as in _bandList,_ i.e. first entry | | > corresponds to first E-UTRA band in _bandList_ and so on, | | > | | > \- For the second E-UTRA band, the UE shall include one entry | | > less, i.e. first entry corresponds to the second E-UTRA band in | | > _bandList_ and so on | | > | | > \- And so on | +----------------------------------------------------------------------+ | **_srs-TxSwitch_** | | | | Indicates supported SRS antenna switch capability for the associated | | band. If the UE indicates support of _SRS-SwitchingTimeNR_ , the UE | | is allowed to set this field for a band with associated | | _FeatureSetUplinkId_ set to 0 for SRS carrier switching. | +----------------------------------------------------------------------+
#### \-- _CA-BandwidthClassEUTRA_
The IE _CA-BandwidthClassEUTRA_ indicates the E-UTRA CA bandwidth class as
defined in TS 36.101 [22], table 5.6A-1.
_CA-BandwidthClassEUTRA_ information element
\-- ASN1START
\-- TAG-CA-BANDWIDTHCLASSEUTRA-START
CA-BandwidthClassEUTRA ::= ENUMERATED {a, b, c, d, e, f, ...}
\-- TAG-CA-BANDWIDTHCLASSEUTRA-STOP
\-- ASN1STOP
#### \-- _CA-BandwidthClassNR_
The IE _CA-BandwidthClassNR_ indicates the NR CA bandwidth class as defined in
TS 38.101-1 [15], table 5.3A.5-1 and TS 38.101-2 [39], table 5.3A.4-1.
_CA-BandwidthClassNR_ information element
\-- ASN1START
\-- TAG-CA-BANDWIDTHCLASSNR-START
CA-BandwidthClassNR ::= ENUMERATED {a, b, c, d, e, f, g, h, i, j, k, l, m, n,
o, p, q, ...}
\-- TAG-CA-BANDWIDTHCLASSNR-STOP
\-- ASN1STOP
#### \-- _CA-ParametersEUTRA_
The IE _CA-ParametersEUTRA_ contains the E-UTRA part of band combination
parameters for a given MR-DC band combination.
NOTE: If additional E-UTRA band combination parameters are defined in TS
36.331 [10], which are supported for MR-DC, they will be defined here as well.
_CA-ParametersEUTRA_ information element
\-- ASN1START
\-- TAG-CA-PARAMETERSEUTRA-START
CA-ParametersEUTRA ::= SEQUENCE {
multipleTimingAdvance ENUMERATED {supported} OPTIONAL,
simultaneousRx-Tx ENUMERATED {supported} OPTIONAL,
supportedNAICS-2CRS-AP BIT STRING (SIZE (1..8)) OPTIONAL,
additionalRx-Tx-PerformanceReq ENUMERATED {supported} OPTIONAL,
ue-CA-PowerClass-N ENUMERATED {class2} OPTIONAL,
supportedBandwidthCombinationSetEUTRA-v1530 BIT STRING (SIZE (1..32))
OPTIONAL,
...
}
CA-ParametersEUTRA-v1560 ::= SEQUENCE {
fd-MIMO-TotalWeightedLayers INTEGER (2..128) OPTIONAL
}
CA-ParametersEUTRA-v1570 ::= SEQUENCE {
dl-1024QAM-TotalWeightedLayers INTEGER (0..10) OPTIONAL
}
\-- TAG-CA-PARAMETERSEUTRA-STOP
\-- ASN1STOP
#### \-- _CA-ParametersNR_
The IE _CA-ParametersNR_ contains carrier aggregation related capabilities
that are defined per band combination.
_CA-ParametersNR_ information element
\-- ASN1START
\-- TAG-CA-PARAMETERSNR-START
CA-ParametersNR ::= SEQUENCE {
dummy ENUMERATED {supported} OPTIONAL,
parallelTxSRS-PUCCH-PUSCH ENUMERATED {supported} OPTIONAL,
parallelTxPRACH-SRS-PUCCH-PUSCH ENUMERATED {supported} OPTIONAL,
simultaneousRxTxInterBandCA ENUMERATED {supported} OPTIONAL,
simultaneousRxTxSUL ENUMERATED {supported} OPTIONAL,
diffNumerologyAcrossPUCCH-Group ENUMERATED {supported} OPTIONAL,
diffNumerologyWithinPUCCH-GroupSmallerSCS ENUMERATED {supported} OPTIONAL,
supportedNumberTAG ENUMERATED {n2, n3, n4} OPTIONAL,
...
}
CA-ParametersNR-v1540 ::= SEQUENCE {
simultaneousSRS-AssocCSI-RS-AllCC INTEGER (5..32) OPTIONAL,
csi-RS-IM-ReceptionForFeedbackPerBandComb SEQUENCE {
maxNumberSimultaneousNZP-CSI-RS-ActBWP-AllCC INTEGER (1..64) OPTIONAL,
totalNumberPortsSimultaneousNZP-CSI-RS-ActBWP-AllCC INTEGER (2..256) OPTIONAL
} OPTIONAL,
simultaneousCSI-ReportsAllCC INTEGER (5..32) OPTIONAL,
dualPA-Architecture ENUMERATED {supported} OPTIONAL
}
CA-ParametersNR-v1550 ::= SEQUENCE {
dummy ENUMERATED {supported} OPTIONAL
}
CA-ParametersNR-v1560 ::= SEQUENCE {
diffNumerologyWithinPUCCH-GroupLargerSCS ENUMERATED {supported} OPTIONAL
}
CA-ParametersNR-v15g0 ::= SEQUENCE {
simultaneousRxTxInterBandCAPerBandPair SimultaneousRxTxPerBandPair OPTIONAL,
simultaneousRxTxSULPerBandPair SimultaneousRxTxPerBandPair OPTIONAL
}
\-- TAG-CA-PARAMETERSNR-STOP
\-- ASN1STOP
#### \-- _CA-ParametersNRDC_
The IE _CA-ParametersNRDC_ contains dual connectivity related capabilities
that are defined per band combination.
_CA-ParametersNRDC_ information element
\-- ASN1START
\-- TAG-CA-PARAMETERS-NRDC-START
CA-ParametersNRDC ::= SEQUENCE {
ca-ParametersNR-ForDC CA-ParametersNR OPTIONAL,
ca-ParametersNR-ForDC-v1540 CA-ParametersNR-v1540 OPTIONAL,
ca-ParametersNR-ForDC-v1550 CA-ParametersNR-v1550 OPTIONAL,
ca-ParametersNR-ForDC-v1560 CA-ParametersNR-v1560 OPTIONAL,
featureSetCombinationDC FeatureSetCombinationId OPTIONAL
}
CA-ParametersNRDC-v15g0 ::= SEQUENCE {
ca-ParametersNR-ForDC-v15g0 CA-ParametersNR-v15g0 OPTIONAL
}
\-- TAG-CA-PARAMETERS-NRDC-STOP
\-- ASN1STOP
+----------------------------------------------------------------------+ | _CA-ParametersNRDC_ field descriptions | +======================================================================+ | **_ca-ParametersNR-forDC (with and without suffix)_** | | | | If this field is present for a band combination, it reports the UE | | capabilities when NR-DC is configured with the band combination. If | | a version of this field (i.e., with or without suffix) is absent for | | a band combination, the corresponding _ca-ParametersNR_ field | | version in _BandCombination_ is applicable to the UE configured with | | NR-DC for the band combination. If a version of this field (i.e., | | with or without suffix) is present for a band combination but does | | not contain any parameters, the UE does not support the | | corresponding field version when configured with NR-DC for the band | | combination. | +----------------------------------------------------------------------+ | **_featureSetCombinationDC_** | | | | If this field is present for a band combination, it reports the | | feature set combination supported for the band combination when | | NR-DC is configured. If this field is absent for a band combination, | | the _featureSetCombination_ in _BandCombination_ (without suffix) is | | applicable to the UE configured with NR-DC for the band combination. | +----------------------------------------------------------------------+
#### \-- _CarrierAggregationVariant_
The IE _CarrierAggregationVariant_ informs the network about supported
\"placement\" of the SpCell in an NR cell group.
_CarrierAggregationVariant_ information element
\-- ASN1START
\-- TAG-CARRIERAGGREGATIONVARIANT-START
CarrierAggregationVariant ::= SEQUENCE {
fr1fdd-FR1TDD-CA-SpCellOnFR1FDD ENUMERATED {supported} OPTIONAL,
fr1fdd-FR1TDD-CA-SpCellOnFR1TDD ENUMERATED {supported} OPTIONAL,
fr1fdd-FR2TDD-CA-SpCellOnFR1FDD ENUMERATED {supported} OPTIONAL,
fr1fdd-FR2TDD-CA-SpCellOnFR2TDD ENUMERATED {supported} OPTIONAL,
fr1tdd-FR2TDD-CA-SpCellOnFR1TDD ENUMERATED {supported} OPTIONAL,
fr1tdd-FR2TDD-CA-SpCellOnFR2TDD ENUMERATED {supported} OPTIONAL,
fr1fdd-FR1TDD-FR2TDD-CA-SpCellOnFR1FDD ENUMERATED {supported} OPTIONAL,
fr1fdd-FR1TDD-FR2TDD-CA-SpCellOnFR1TDD ENUMERATED {supported} OPTIONAL,
fr1fdd-FR1TDD-FR2TDD-CA-SpCellOnFR2TDD ENUMERATED {supported} OPTIONAL
}
\-- TAG-CARRIERAGGREGATIONVARIANT-STOP
\-- ASN1STOP
#### \-- _CodebookParameters_
The IE _CodebookParameters_ is used to convey codebook related parameters.
_CodebookParameters_ information element
\-- ASN1START
\-- TAG-CODEBOOKPARAMETERS-START
CodebookParameters ::= SEQUENCE {
type1 SEQUENCE {
singlePanel SEQUENCE {
supportedCSI-RS-ResourceList SEQUENCE (SIZE (1.. maxNrofCSI-RS-Resources)) OF
SupportedCSI-RS-Resource,
modes ENUMERATED {mode1, mode1andMode2},
maxNumberCSI-RS-PerResourceSet INTEGER (1..8)
},
multiPanel SEQUENCE {
supportedCSI-RS-ResourceList SEQUENCE (SIZE (1.. maxNrofCSI-RS-Resources)) OF
SupportedCSI-RS-Resource,
modes ENUMERATED {mode1, mode2, both},
nrofPanels ENUMERATED {n2, n4},
maxNumberCSI-RS-PerResourceSet INTEGER (1..8)
} OPTIONAL
},
type2 SEQUENCE {
supportedCSI-RS-ResourceList SEQUENCE (SIZE (1.. maxNrofCSI-RS-Resources)) OF
SupportedCSI-RS-Resource,
parameterLx INTEGER (2..4),
amplitudeScalingType ENUMERATED {wideband, widebandAndSubband},
amplitudeSubsetRestriction ENUMERATED {supported} OPTIONAL
} OPTIONAL,
type2-PortSelection SEQUENCE {
supportedCSI-RS-ResourceList SEQUENCE (SIZE (1.. maxNrofCSI-RS-Resources)) OF
SupportedCSI-RS-Resource,
parameterLx INTEGER (2..4),
amplitudeScalingType ENUMERATED {wideband, widebandAndSubband}
} OPTIONAL
}
SupportedCSI-RS-Resource ::= SEQUENCE {
maxNumberTxPortsPerResource ENUMERATED {p2, p4, p8, p12, p16, p24, p32},
maxNumberResourcesPerBand INTEGER (1..64),
totalNumberTxPortsPerBand INTEGER (2..256)
}
\-- TAG-CODEBOOKPARAMETERS-STOP
\-- ASN1STOP
#### \-- _FeatureSetCombination_
The IE _FeatureSetCombination_ is a two-dimensional matrix of _FeatureSet_
entries.
Each _FeatureSetsPerBand_ contains a list of feature sets applicable to the
carrier(s) of one band entry of the associated band combination. Across the
associated bands, the UE shall support the combination of _FeatureSets_ at the
same position in the _FeatureSetsPerBand_. All _FeatureSetsPerBand_ in one
_FeatureSetCombination_ must have the same number of entries.
The number of _FeatureSetsPerBand_ in the _FeatureSetCombination_ must be
equal to the number of band entries in an associated band combination. The
first _FeatureSetPerBand_ applies to the first band entry of the band
combination, and so on.
Each _FeatureSet_ contains either a pair of NR or E-UTRA feature set IDs for
UL and DL.
In case of NR, the actual feature sets for UL and DL are defined in the
_FeatureSets_ IE and referred to from here by their ID, i.e., their position
in the _featureSetsUplink_ / _featureSetsDownlink_ list in the FeatureSet IE.
In case of E-UTRA, the feature sets referred to from this list are defined in
TS 36.331 [10] and conveyed as part of the _UE-EUTRA-Capability_ container.
The _FeatureSetUplink_ and _FeatureSetDownlink_ referred to from the
_FeatureSet_ comprise, among other information, a set of
_FeatureSetUplinkPerCC-Ids_ and _FeatureSetDownlinkPerCC-Ids_. The number of
these per-CC IDs determines the number of carriers that the UE is able to
aggregate contiguously in frequency domain in the corresponding band. The
number of carriers supported by the UE is also restricted by the bandwidth
class indicated in the associated _BandCombination_ , if present.
In feature set combinations the UE shall exclude entries with same or lower
capabilities, since the network may anyway assume that the UE supports those.
NOTE 1: The UE may advertise fallback band-combinations in which it supports
additional functionality explicitly in two ways: Either by setting FeatureSet
IDs to zero (inter-band and intra-band non-contiguous fallback) and by
reducing the number of FeatureSet-PerCC Ids in a Feature Set (intra-band
contiguous fallback). Or by separate _BandCombination_ entries with associated
_FeatureSetCombinations_.
NOTE 2: The UE may advertise a _FeatureSetCombination_ containing only
fallback band combinations. That means, in a _FeatureSetCombination,_ each
group of _FeatureSets_ across the bands may contain at least one pair of
_FeatureSetUplinkId_ and _FeatureSetDownlinkId_ which is set to 0/0.
NOTE 3: The Network configures serving cell(s) and BWP(s) configuration to
comply with capabilities derived from the combination of FeatureSets at the
same position in the FeatureSetsPerBand, regardless of activated/deactivated
serving cell(s) and BWP(s).
_FeatureSetCombination_ information element
\-- ASN1START
\-- TAG-FEATURESETCOMBINATION-START
FeatureSetCombination ::= SEQUENCE (SIZE (1..maxSimultaneousBands)) OF
FeatureSetsPerBand
FeatureSetsPerBand ::= SEQUENCE (SIZE (1..maxFeatureSetsPerBand)) OF
FeatureSet
FeatureSet ::= CHOICE {
eutra SEQUENCE {
downlinkSetEUTRA FeatureSetEUTRA-DownlinkId,
uplinkSetEUTRA FeatureSetEUTRA-UplinkId
},
nr SEQUENCE {
downlinkSetNR FeatureSetDownlinkId,
uplinkSetNR FeatureSetUplinkId
}
}
\-- TAG-FEATURESETCOMBINATION-STOP
\-- ASN1STOP
#### \-- _FeatureSetCombinationId_
The IE _FeatureSetCombinationId_ identifies a _FeatureSetCombination_. The
_FeatureSetCombinationId_ of a _FeatureSetCombination_ is the position of the
_FeatureSetCombination_ in the featureSetCombinations list (in _UE-NR-
Capability_ or _UE-MRDC-Capability_). The _FeatureSetCombinationId_ = 0 refers
to the first entry in the _featureSetCombinations_ list (in _UE-NR-Capability_
or _UE-MRDC-Capability_).
NOTE: The _FeatureSetCombinationId_ = 1024 is not used due to the maximum
entry number of _featureSetCombinations_.
_FeatureSetCombinationId_ information element
\-- ASN1START
\-- TAG-FEATURESETCOMBINATIONID-START
FeatureSetCombinationId ::= INTEGER (0.. maxFeatureSetCombinations)
\-- TAG-FEATURESETCOMBINATIONID-STOP
\-- ASN1STOP
#### \-- _FeatureSetDownlink_
The IE _FeatureSetDownlink_ indicates a set of features that the UE supports
on the carriers corresponding to one band entry in a band combination.
_FeatureSetDownlink_ information element
\-- ASN1START
\-- TAG-FEATURESETDOWNLINK-START
FeatureSetDownlink ::= SEQUENCE {
featureSetListPerDownlinkCC SEQUENCE (SIZE (1..maxNrofServingCells)) OF
FeatureSetDownlinkPerCC-Id,
intraBandFreqSeparationDL FreqSeparationClass OPTIONAL,
scalingFactor ENUMERATED {f0p4, f0p75, f0p8} OPTIONAL,
dummy8 ENUMERATED {supported} OPTIONAL,
scellWithoutSSB ENUMERATED {supported} OPTIONAL,
csi-RS-MeasSCellWithoutSSB ENUMERATED {supported} OPTIONAL,
dummy1 ENUMERATED {supported} OPTIONAL,
type1-3-CSS ENUMERATED {supported} OPTIONAL,
pdcch-MonitoringAnyOccasions ENUMERATED {withoutDCI-Gap, withDCI-Gap}
OPTIONAL,
dummy2 ENUMERATED {supported} OPTIONAL,
ue-SpecificUL-DL-Assignment ENUMERATED {supported} OPTIONAL,
searchSpaceSharingCA-DL ENUMERATED {supported} OPTIONAL,
timeDurationForQCL SEQUENCE {
scs-60kHz ENUMERATED {s7, s14, s28} OPTIONAL,
scs-120kHz ENUMERATED {s14, s28} OPTIONAL
} OPTIONAL,
pdsch-ProcessingType1-DifferentTB-PerSlot SEQUENCE {
scs-15kHz ENUMERATED {upto2, upto4, upto7} OPTIONAL,
scs-30kHz ENUMERATED {upto2, upto4, upto7} OPTIONAL,
scs-60kHz ENUMERATED {upto2, upto4, upto7} OPTIONAL,
scs-120kHz ENUMERATED {upto2, upto4, upto7} OPTIONAL
} OPTIONAL,
dummy3 DummyA OPTIONAL,
dummy4 SEQUENCE (SIZE (1.. maxNrofCodebooks)) OF DummyB OPTIONAL,
dummy5 SEQUENCE (SIZE (1.. maxNrofCodebooks)) OF DummyC OPTIONAL,
dummy6 SEQUENCE (SIZE (1.. maxNrofCodebooks)) OF DummyD OPTIONAL,
dummy7 SEQUENCE (SIZE (1.. maxNrofCodebooks)) OF DummyE OPTIONAL
}
FeatureSetDownlink-v1540 ::= SEQUENCE {
oneFL-DMRS-TwoAdditionalDMRS-DL ENUMERATED {supported} OPTIONAL,
additionalDMRS-DL-Alt ENUMERATED {supported} OPTIONAL,
twoFL-DMRS-TwoAdditionalDMRS-DL ENUMERATED {supported} OPTIONAL,
oneFL-DMRS-ThreeAdditionalDMRS-DL ENUMERATED {supported} OPTIONAL,
pdcch-MonitoringAnyOccasionsWithSpanGap SEQUENCE {
scs-15kHz ENUMERATED {set1, set2, set3} OPTIONAL,
scs-30kHz ENUMERATED {set1, set2, set3} OPTIONAL,
scs-60kHz ENUMERATED {set1, set2, set3} OPTIONAL,
scs-120kHz ENUMERATED {set1, set2, set3} OPTIONAL
} OPTIONAL,
pdsch-SeparationWithGap ENUMERATED {supported} OPTIONAL,
pdsch-ProcessingType2 SEQUENCE {
scs-15kHz ProcessingParameters OPTIONAL,
scs-30kHz ProcessingParameters OPTIONAL,
scs-60kHz ProcessingParameters OPTIONAL
} OPTIONAL,
pdsch-ProcessingType2-Limited SEQUENCE {
differentTB-PerSlot-SCS-30kHz ENUMERATED {upto1, upto2, upto4, upto7}
} OPTIONAL,
dl-MCS-TableAlt-DynamicIndication ENUMERATED {supported} OPTIONAL
}
FeatureSetDownlink-v15a0 ::= SEQUENCE {
supportedSRS-Resources SRS-Resources OPTIONAL
}
DummyA ::= SEQUENCE {
maxNumberNZP-CSI-RS-PerCC INTEGER (1..32),
maxNumberPortsAcrossNZP-CSI-RS-PerCC ENUMERATED {p2, p4, p8, p12, p16, p24,
p32, p40, p48, p56, p64, p72, p80,
p88, p96, p104, p112, p120, p128, p136, p144, p152, p160, p168,
p176, p184, p192, p200, p208, p216, p224, p232, p240, p248, p256},
maxNumberCS-IM-PerCC ENUMERATED {n1, n2, n4, n8, n16, n32},
maxNumberSimultaneousCSI-RS-ActBWP-AllCC ENUMERATED {n5, n6, n7, n8, n9, n10,
n12, n14, n16, n18, n20, n22, n24, n26,
n28, n30, n32, n34, n36, n38, n40, n42, n44, n46, n48, n50, n52,
n54, n56, n58, n60, n62, n64},
totalNumberPortsSimultaneousCSI-RS-ActBWP-AllCC ENUMERATED {p8, p12, p16, p24,
p32, p40, p48, p56, p64, p72, p80,
p88, p96, p104, p112, p120, p128, p136, p144, p152, p160, p168,
p176, p184, p192, p200, p208, p216, p224, p232, p240, p248, p256}
}
DummyB ::= SEQUENCE {
maxNumberTxPortsPerResource ENUMERATED {p2, p4, p8, p12, p16, p24, p32},
maxNumberResources INTEGER (1..64),
totalNumberTxPorts INTEGER (2..256),
supportedCodebookMode ENUMERATED {mode1, mode1AndMode2},
maxNumberCSI-RS-PerResourceSet INTEGER (1..8)
}
DummyC ::= SEQUENCE {
maxNumberTxPortsPerResource ENUMERATED {p8, p16, p32},
maxNumberResources INTEGER (1..64),
totalNumberTxPorts INTEGER (2..256),
supportedCodebookMode ENUMERATED {mode1, mode2, both},
supportedNumberPanels ENUMERATED {n2, n4},
maxNumberCSI-RS-PerResourceSet INTEGER (1..8)
}
DummyD ::= SEQUENCE {
maxNumberTxPortsPerResource ENUMERATED {p4, p8, p12, p16, p24, p32},
maxNumberResources INTEGER (1..64),
totalNumberTxPorts INTEGER (2..256),
parameterLx INTEGER (2..4),
amplitudeScalingType ENUMERATED {wideband, widebandAndSubband},
amplitudeSubsetRestriction ENUMERATED {supported} OPTIONAL,
maxNumberCSI-RS-PerResourceSet INTEGER (1..8)
}
DummyE ::= SEQUENCE {
maxNumberTxPortsPerResource ENUMERATED {p4, p8, p12, p16, p24, p32},
maxNumberResources INTEGER (1..64),
totalNumberTxPorts INTEGER (2..256),
parameterLx INTEGER (2..4),
amplitudeScalingType ENUMERATED {wideband, widebandAndSubband},
maxNumberCSI-RS-PerResourceSet INTEGER (1..8)
}
\-- TAG-FEATURESETDOWNLINK-STOP
\-- ASN1STOP
+----------------------------------------------------------------------+ | _FeatureSetDownlink_ field descriptions | +======================================================================+ | **_featureSetListPerDownlinkCC_** | | | | Indicates which features the UE supports on the individual DL | | carriers of the feature set (and hence of a band entry that refer to | | the feature set). The UE shall hence include at least as many | | _FeatureSetDownlinkPerCC-Id_ in this list as the number of carriers | | it supports according to the _ca-BandwidthClassDL_ , except if | | indicating additional functionality by reducing the number of | | _FeatureSetDownlinkPerCC-Id_ in the feature set (see NOTE 1 in | | _FeatureSetCombination_ IE description). The order of the elements | | in this list is not relevant, i.e., the network may configure any of | | the carriers in accordance with any of the | | _FeatureSetDownlinkPerCC-Id_ in this list. | +----------------------------------------------------------------------+ | **_supportedSRS-Resources_** | | | | Indicates supported SRS resources for SRS carrier switching to the | | band associated with this _FeatureSetDownlink_. The UE is only | | allowed to set this field for a band with associated | | _FeatureSetUplinkId_ set to 0. | +----------------------------------------------------------------------+
#### \-- _FeatureSetDownlinkId_
The IE _FeatureSetDownlinkId_ identifies a downlink feature set. The
_FeatureSetDownlinkId_ of a _FeatureSetDownlink_ is the index position of the
_FeatureSetDownlink_ in the _featureSetsDownlink_ list in the _FeatureSets_
IE. The first element in that list is referred to by _FeatureSetDownlinkId_ =
1. The _FeatureSetDownlinkId=0_ is not used by an actual _FeatureSetDownlink_
but means that the UE does not support a carrier in this band of a band
combination.
_FeatureSetDownlinkId_ information element
\-- ASN1START
\-- TAG-FEATURESETDOWNLINKID-START
FeatureSetDownlinkId ::= INTEGER (0..maxDownlinkFeatureSets)
\-- TAG-FEATURESETDOWNLINKID-STOP
\-- ASN1STOP
#### \-- _FeatureSetDownlinkPerCC_
The IE _FeatureSetDownlinkPerCC_ indicates a set of features that the UE
supports on the corresponding carrier of one band entry of a band combination.
_FeatureSetDownlinkPerCC_ information element
\-- ASN1START
\-- TAG-FEATURESETDOWNLINKPERCC-START
FeatureSetDownlinkPerCC ::= SEQUENCE {
supportedSubcarrierSpacingDL SubcarrierSpacing,
supportedBandwidthDL SupportedBandwidth,
channelBW-90mhz ENUMERATED {supported} OPTIONAL,
maxNumberMIMO-LayersPDSCH MIMO-LayersDL OPTIONAL,
supportedModulationOrderDL ModulationOrder OPTIONAL
}
\-- TAG-FEATURESETDOWNLINKPERCC-STOP
\-- ASN1STOP
#### \-- _FeatureSetDownlinkPerCC-Id_
The IE _FeatureSetDownlinkPerCC-Id_ identifies a set of features applicable to
one carrier of a feature set. The _FeatureSetDownlinkPerCC-Id_ of a
_FeatureSetDownlinkPerCC_ is the index position of the
_FeatureSetDownlinkPerCC_ in the _featureSetsDownlinkPerCC_. The first element
in the list is referred to by _FeatureSetDownlinkPerCC-Id_ = 1, and so on.
_FeatureSetDownlinkPerCC-Id_ information element
\-- ASN1START
\-- TAG-FEATURESETDOWNLINKPERCC-ID-START
FeatureSetDownlinkPerCC-Id ::= INTEGER (1..maxPerCC-FeatureSets)
\-- TAG-FEATURESETDOWNLINKPERCC-ID-STOP
\-- ASN1STOP
#### \-- _FeatureSetEUTRA-DownlinkId_
The IE _FeatureSetEUTRA-DownlinkId_ identifies a downlink feature set in
E-UTRA list (see TS 36.331 [10]. The first element in that list is referred to
by _FeatureSetEUTRA-DownlinkId_ = 1. The _FeatureSetEUTRA-DownlinkId=0_ is
used when the UE does not support a carrier in this band of a band
combination.
_FeatureSetEUTRA-DownlinkId_ information element
\-- ASN1START
\-- TAG-FEATURESETEUTRADOWNLINKID-START
FeatureSetEUTRA-DownlinkId ::= INTEGER (0..maxEUTRA-DL-FeatureSets)
\-- TAG-FEATURESETEUTRADOWNLINKID-STOP
\-- ASN1STOP
#### \-- _FeatureSetEUTRA-UplinkId_
The IE _FeatureSetEUTRA-UplinkId_ identifies an uplink feature set in E-UTRA
list (see TS 36.331 [10]. The first element in that list is referred to by
_FeatureSetEUTRA-UplinkId_ = 1. The _FeatureSetEUTRA-UplinkId_ _=0_ is used
when the UE does not support a carrier in this band of a band combination.
_FeatureSetEUTRA-UplinkId_ information element
\-- ASN1START
\-- TAG-FEATURESETEUTRAUPLINKID-START
FeatureSetEUTRA-UplinkId ::= INTEGER (0..maxEUTRA-UL-FeatureSets)
\-- TAG-FEATURESETEUTRAUPLINKID-STOP
\-- ASN1STOP
#### \-- _FeatureSets_
The IE _FeatureSets_ is used to provide pools of downlink and uplink features
sets. A _FeatureSetCombination_ refers to the IDs of the feature set(s) that
the UE supports in that _FeatureSetCombination_. The _BandCombination_ entries
in the _BandCombinationList_ then indicate the ID of the
_FeatureSetCombination_ that the UE supports for that band combination.
The entries in the lists in this IE are identified by their index position.
For example, the _FeatureSetUplinkPerCC-Id_ = 4 identifies the 4^th^ element
in the _featureSetsUplinkPerCC_ list.
NOTE: When feature sets (per CC) IEs require extension in future versions of
the specification, new versions of the _FeatureSetDownlink_ ,
_FeatureSetUplink_ , _FeatureSets_ , _FeatureSetDownlinkPerCC_ and/or
_FeatureSetUplinkPerCC_ will be created and instantiated in corresponding new
lists in the _FeatureSets_ IE. For example, if new capability bits are to be
added to the _FeatureSetDownlink_ , they will instead be defined in a new
_FeatureSetDownlink-rxy_ which will be instantiated in a new
_featureSetDownlinkList-rxy_ list. If a UE indicates in a
_FeatureSetCombination_ that it supports the _FeatureSetDownlink_ with ID #5,
it implies that it supports both the features in _FeatureSetDownlink_ #5 and
_FeatureSetDownlink-rxy_ #5 (if present). The number of entries in the new
list(s) shall be the same as in the original list(s).
_FeatureSets_ information element
\-- ASN1START
\-- TAG-FEATURESETS-START
FeatureSets ::= SEQUENCE {
featureSetsDownlink SEQUENCE (SIZE (1..maxDownlinkFeatureSets)) OF
FeatureSetDownlink OPTIONAL,
featureSetsDownlinkPerCC SEQUENCE (SIZE (1..maxPerCC-FeatureSets)) OF
FeatureSetDownlinkPerCC OPTIONAL,
featureSetsUplink SEQUENCE (SIZE (1..maxUplinkFeatureSets)) OF
FeatureSetUplink OPTIONAL,
featureSetsUplinkPerCC SEQUENCE (SIZE (1..maxPerCC-FeatureSets)) OF
FeatureSetUplinkPerCC OPTIONAL,
...,
[[
featureSetsDownlink-v1540 SEQUENCE (SIZE (1..maxDownlinkFeatureSets)) OF
FeatureSetDownlink-v1540 OPTIONAL,
featureSetsUplink-v1540 SEQUENCE (SIZE (1..maxUplinkFeatureSets)) OF
FeatureSetUplink-v1540 OPTIONAL,
featureSetsUplinkPerCC-v1540 SEQUENCE (SIZE (1..maxPerCC-FeatureSets)) OF
FeatureSetUplinkPerCC-v1540 OPTIONAL
]],
[[
featureSetsDownlink-v15a0 SEQUENCE (SIZE (1..maxDownlinkFeatureSets)) OF
FeatureSetDownlink-v15a0 OPTIONAL
]]
}
\-- TAG-FEATURESETS-STOP
\-- ASN1STOP
#### \-- _FeatureSetUplink_
The IE _FeatureSetUplink_ is used to indicate the features that the UE
supports on the carriers corresponding to one band entry in a band
combination.
_FeatureSetUplink_ information element
\-- ASN1START
\-- TAG-FEATURESETUPLINK-START
FeatureSetUplink ::= SEQUENCE {
featureSetListPerUplinkCC SEQUENCE (SIZE (1.. maxNrofServingCells)) OF
FeatureSetUplinkPerCC-Id,
scalingFactor ENUMERATED {f0p4, f0p75, f0p8} OPTIONAL,
dummy3 ENUMERATED {supported} OPTIONAL,
intraBandFreqSeparationUL FreqSeparationClass OPTIONAL,
searchSpaceSharingCA-UL ENUMERATED {supported} OPTIONAL,
dummy1 DummyI OPTIONAL,
supportedSRS-Resources SRS-Resources OPTIONAL,
twoPUCCH-Group ENUMERATED {supported} OPTIONAL,
dynamicSwitchSUL ENUMERATED {supported} OPTIONAL,
simultaneousTxSUL-NonSUL ENUMERATED {supported} OPTIONAL,
pusch-ProcessingType1-DifferentTB-PerSlot SEQUENCE {
scs-15kHz ENUMERATED {upto2, upto4, upto7} OPTIONAL,
scs-30kHz ENUMERATED {upto2, upto4, upto7} OPTIONAL,
scs-60kHz ENUMERATED {upto2, upto4, upto7} OPTIONAL,
scs-120kHz ENUMERATED {upto2, upto4, upto7} OPTIONAL
} OPTIONAL,
dummy2 DummyF OPTIONAL
}
FeatureSetUplink-v1540 ::= SEQUENCE {
zeroSlotOffsetAperiodicSRS ENUMERATED {supported} OPTIONAL,
pa-PhaseDiscontinuityImpacts ENUMERATED {supported} OPTIONAL,
pusch-SeparationWithGap ENUMERATED {supported} OPTIONAL,
pusch-ProcessingType2 SEQUENCE {
scs-15kHz ProcessingParameters OPTIONAL,
scs-30kHz ProcessingParameters OPTIONAL,
scs-60kHz ProcessingParameters OPTIONAL
} OPTIONAL,
ul-MCS-TableAlt-DynamicIndication ENUMERATED {supported} OPTIONAL
}
SRS-Resources ::= SEQUENCE {
maxNumberAperiodicSRS-PerBWP ENUMERATED {n1, n2, n4, n8, n16},
maxNumberAperiodicSRS-PerBWP-PerSlot INTEGER (1..6),
maxNumberPeriodicSRS-PerBWP ENUMERATED {n1, n2, n4, n8, n16},
maxNumberPeriodicSRS-PerBWP-PerSlot INTEGER (1..6),
maxNumberSemiPersistentSRS-PerBWP ENUMERATED {n1, n2, n4, n8, n16},
maxNumberSemiPersistentSRS-PerBWP-PerSlot INTEGER (1..6),
maxNumberSRS-Ports-PerResource ENUMERATED {n1, n2, n4}
}
DummyF ::= SEQUENCE {
maxNumberPeriodicCSI-ReportPerBWP INTEGER (1..4),
maxNumberAperiodicCSI-ReportPerBWP INTEGER (1..4),
maxNumberSemiPersistentCSI-ReportPerBWP INTEGER (0..4),
simultaneousCSI-ReportsAllCC INTEGER (5..32)
}
\-- TAG-FEATURESETUPLINK-STOP
\-- ASN1STOP
+----------------------------------------------------------------------+ | _FeatureSetUplink_ field descriptions | +======================================================================+ | **_featureSetListPerUplinkCC_** | | | | Indicates which features the UE supports on the individual UL | | carriers of the feature set (and hence of a band entry that refers | | to the feature set). The UE shall hence include at least as many | | _FeatureSetUplinkPerCC-Id_ in this list as the number of carriers it | | supports according to the _ca-BandwidthClassUL_ , except if | | indicating additional functionality by reducing the number of | | _FeatureSetUplinkPerCC-Id_ in the feature set (see NOTE 1 in | | _FeatureSetCombination_ IE description). The order of the elements | | in this list is not relevant, i.e., the network may configure any of | | the carriers in accordance with any of the | | _FeatureSetUplinkPerCC-Id_ in this list. | +----------------------------------------------------------------------+
#### \-- _FeatureSetUplinkId_
The IE _FeatureSetUplinkId_ identifies an uplink feature set. The
_FeatureSetUplinkId_ of a _FeatureSetUplink_ is the index position of the
_FeatureSetUplink_ in the _featureSetsUplink_ list in the _FeatureSets_ IE.
The first element in the list is referred to by _FeatureSetUplinkId_ = 1, and
so on. The _FeatureSetUplinkId =0_ is not used by an actual _FeatureSetUplink_
but means that the UE does not support a carrier in this band of a band
combination.
_FeatureSetUplinkId_ information element
\-- ASN1START
\-- TAG-FEATURESETUPLINKID-START
FeatureSetUplinkId ::= INTEGER (0..maxUplinkFeatureSets)
\-- TAG-FEATURESETUPLINKID-STOP
\-- ASN1STOP
#### \-- _FeatureSetUplinkPerCC_
The IE _FeatureSetUplinkPerCC_ indicates a set of features that the UE
supports on the corresponding carrier of one band entry of a band combination.
_FeatureSetUplinkPerCC_ information element
\-- ASN1START
\-- TAG-FEATURESETUPLINKPERCC-START
FeatureSetUplinkPerCC ::= SEQUENCE {
supportedSubcarrierSpacingUL SubcarrierSpacing,
supportedBandwidthUL SupportedBandwidth,
channelBW-90mhz ENUMERATED {supported} OPTIONAL,
mimo-CB-PUSCH SEQUENCE {
maxNumberMIMO-LayersCB-PUSCH MIMO-LayersUL OPTIONAL,
maxNumberSRS-ResourcePerSet INTEGER (1..2)
} OPTIONAL,
maxNumberMIMO-LayersNonCB-PUSCH MIMO-LayersUL OPTIONAL,
supportedModulationOrderUL ModulationOrder OPTIONAL
}
FeatureSetUplinkPerCC-v1540 ::= SEQUENCE {
mimo-NonCB-PUSCH SEQUENCE {
maxNumberSRS-ResourcePerSet INTEGER (1..4),
maxNumberSimultaneousSRS-ResourceTx INTEGER (1..4)
} OPTIONAL
}
\-- TAG-FEATURESETUPLINKPERCC-STOP
\-- ASN1STOP
#### \-- _FeatureSetUplinkPerCC-Id_
The IE _FeatureSetUplinkPerCC-Id_ identifies a set of features applicable to
one carrier of a feature set. The _FeatureSetUplinkPerCC-Id_ of a
_FeatureSetUplinkPerCC_ is the index position of the _FeatureSetUplinkPerCC_
in the _featureSetsUplinkPerCC_. The first element in the list is referred to
by _FeatureSetUplinkPerCC-Id_ = 1, and so on.
_FeatureSetUplinkPerCC-Id_ information element
\-- ASN1START
\-- TAG-FEATURESETUPLINKPERCC-ID-START
FeatureSetUplinkPerCC-Id ::= INTEGER (1..maxPerCC-FeatureSets)
\-- TAG-FEATURESETUPLINKPERCC-ID-STOP
\-- ASN1STOP
#### \-- _FreqBandIndicatorEUTRA_
\-- ASN1START
\-- TAG-FREQBANDINDICATOREUTRA-START
FreqBandIndicatorEUTRA ::= INTEGER (1..maxBandsEUTRA)
\-- TAG-FREQBANDINDICATOREUTRA-STOP
\-- ASN1STOP
#### \-- _FreqBandList_
The IE _FreqBandList_ is used by the network to request NR CA, NR non-CA
and/or MR-DC band combinations for specific NR and/or E-UTRA frequency bands
and/or up to a specific number of carriers and/or up to specific aggregated
bandwidth. This is also used to request feature sets (for NR) and feature set
combinations (for NR and MR-DC).
**_FreqBandList_** information element
\-- ASN1START
\-- TAG-FREQBANDLIST-START
FreqBandList ::= SEQUENCE (SIZE (1..maxBandsMRDC)) OF FreqBandInformation
FreqBandInformation ::= CHOICE {
bandInformationEUTRA FreqBandInformationEUTRA,
bandInformationNR FreqBandInformationNR
}
FreqBandInformationEUTRA ::= SEQUENCE {
bandEUTRA FreqBandIndicatorEUTRA,
ca-BandwidthClassDL-EUTRA CA-BandwidthClassEUTRA OPTIONAL, -- Need N
ca-BandwidthClassUL-EUTRA CA-BandwidthClassEUTRA OPTIONAL -- Need N
}
FreqBandInformationNR ::= SEQUENCE {
bandNR FreqBandIndicatorNR,
maxBandwidthRequestedDL AggregatedBandwidth OPTIONAL, -- Need N
maxBandwidthRequestedUL AggregatedBandwidth OPTIONAL, -- Need N
maxCarriersRequestedDL INTEGER (1..maxNrofServingCells) OPTIONAL, -- Need N
maxCarriersRequestedUL INTEGER (1..maxNrofServingCells) OPTIONAL -- Need N
}
AggregatedBandwidth ::= ENUMERATED {mhz50, mhz100, mhz150, mhz200, mhz250,
mhz300, mhz350,
mhz400, mhz450, mhz500, mhz550, mhz600, mhz650, mhz700, mhz750, mhz800}
\-- TAG-FREQBANDLIST-STOP
\-- ASN1STOP
#### \-- _FreqSeparationClass_
The IE _FreqSeparationClas_ s is used for an intra-band non-contiguous CA band
combination to indicate frequency separation between lower edge of lowest CC
and upper edge of highest CC in a frequency band.
_FreqSeparationClass_ information element
\-- ASN1START
\-- TAG-FREQSEPARATIONCLASS-START
FreqSeparationClass ::= ENUMERATED {c1, c2, c3, ...}
\-- TAG-FREQSEPARATIONCLASS-STOP
\-- ASN1STOP
#### \-- _IMS-Parameters_
The IE _IMS-Parameters_ is used to convery capabilities related to IMS.
_IMS-Parameters_ information element
\-- ASN1START
\-- TAG-IMS-PARAMETERS-START
IMS-Parameters ::= SEQUENCE {
ims-ParametersCommon IMS-ParametersCommon OPTIONAL,
ims-ParametersFRX-Diff IMS-ParametersFRX-Diff OPTIONAL,
...
}
IMS-ParametersCommon ::= SEQUENCE {
voiceOverEUTRA-5GC ENUMERATED {supported} OPTIONAL,
...,
[[
voiceOverSCG-BearerEUTRA-5GC ENUMERATED {supported} OPTIONAL
]]
}
IMS-ParametersFRX-Diff ::= SEQUENCE {
voiceOverNR ENUMERATED {supported} OPTIONAL,
...
}
\-- TAG-IMS-PARAMETERS-STOP
\-- ASN1STOP
#### \-- _InterRAT-Parameters_
The IE _InterRAT-Parameters_ is used convey UE capabilities related to the
other RATs.
_InterRAT-Parameters_ information element
\-- ASN1START
\-- TAG-INTERRAT-PARAMETERS-START
InterRAT-Parameters ::= SEQUENCE {
eutra EUTRA-Parameters OPTIONAL,
...
}
EUTRA-Parameters ::= SEQUENCE {
supportedBandListEUTRA SEQUENCE (SIZE (1..maxBandsEUTRA)) OF
FreqBandIndicatorEUTRA,
eutra-ParametersCommon EUTRA-ParametersCommon OPTIONAL,
eutra-ParametersXDD-Diff EUTRA-ParametersXDD-Diff OPTIONAL,
...
}
EUTRA-ParametersCommon ::= SEQUENCE {
mfbi-EUTRA ENUMERATED {supported} OPTIONAL,
modifiedMPR-BehaviorEUTRA BIT STRING (SIZE (32)) OPTIONAL,
multiNS-Pmax-EUTRA ENUMERATED {supported} OPTIONAL,
rs-SINR-MeasEUTRA ENUMERATED {supported} OPTIONAL,
...,
[[
ne-DC ENUMERATED {supported} OPTIONAL
]]
}
EUTRA-ParametersXDD-Diff ::= SEQUENCE {
rsrqMeasWidebandEUTRA ENUMERATED {supported} OPTIONAL,
...
}
\-- TAG-INTERRAT-PARAMETERS-STOP
\-- ASN1STOP
#### \-- _MAC-Parameters_
The IE _MAC-Parameters_ is used to convey capabilities related to MAC.
_MAC-Parameters_ information element
\-- ASN1START
\-- TAG-MAC-PARAMETERS-START
MAC-Parameters ::= SEQUENCE {
mac-ParametersCommon MAC-ParametersCommon OPTIONAL,
mac-ParametersXDD-Diff MAC-ParametersXDD-Diff OPTIONAL
}
MAC-ParametersCommon ::= SEQUENCE {
lcp-Restriction ENUMERATED {supported} OPTIONAL,
dummy ENUMERATED {supported} OPTIONAL,
lch-ToSCellRestriction ENUMERATED {supported} OPTIONAL,
...,
[[
recommendedBitRate ENUMERATED {supported} OPTIONAL,
recommendedBitRateQuery ENUMERATED {supported} OPTIONAL
]]
}
MAC-ParametersXDD-Diff ::= SEQUENCE {
skipUplinkTxDynamic ENUMERATED {supported} OPTIONAL,
logicalChannelSR-DelayTimer ENUMERATED {supported} OPTIONAL,
longDRX-Cycle ENUMERATED {supported} OPTIONAL,
shortDRX-Cycle ENUMERATED {supported} OPTIONAL,
multipleSR-Configurations ENUMERATED {supported} OPTIONAL,
multipleConfiguredGrants ENUMERATED {supported} OPTIONAL,
...
}
\-- TAG-MAC-PARAMETERS-STOP
\-- ASN1STOP
#### \-- _MeasAndMobParameters_
The IE _MeasAndMobParameters_ is used to convey UE capabilities related to
measurements for radio resource management (RRM), radio link monitoring (RLM)
and mobility (e.g. handover).
_MeasAndMobParameters_ information element
\-- ASN1START
\-- TAG-MEASANDMOBPARAMETERS-START
MeasAndMobParameters ::= SEQUENCE {
measAndMobParametersCommon MeasAndMobParametersCommon OPTIONAL,
measAndMobParametersXDD-Diff MeasAndMobParametersXDD-Diff OPTIONAL,
measAndMobParametersFRX-Diff MeasAndMobParametersFRX-Diff OPTIONAL
}
MeasAndMobParametersCommon ::= SEQUENCE {
supportedGapPattern BIT STRING (SIZE (22)) OPTIONAL,
ssb-RLM ENUMERATED {supported} OPTIONAL,
ssb-AndCSI-RS-RLM ENUMERATED {supported} OPTIONAL,
...,
[[
eventB-MeasAndReport ENUMERATED {supported} OPTIONAL,
handoverFDD-TDD ENUMERATED {supported} OPTIONAL,
eutra-CGI-Reporting ENUMERATED {supported} OPTIONAL,
nr-CGI-Reporting ENUMERATED {supported} OPTIONAL
]],
[[
independentGapConfig ENUMERATED {supported} OPTIONAL,
periodicEUTRA-MeasAndReport ENUMERATED {supported} OPTIONAL,
handoverFR1-FR2 ENUMERATED {supported} OPTIONAL,
maxNumberCSI-RS-RRM-RS-SINR ENUMERATED {n4, n8, n16, n32, n64, n96} OPTIONAL
]],
[[
nr-CGI-Reporting-ENDC ENUMERATED {supported} OPTIONAL
]],
[[
eutra-CGI-Reporting-NEDC ENUMERATED {supported} OPTIONAL,
eutra-CGI-Reporting-NRDC ENUMERATED {supported} OPTIONAL,
nr-CGI-Reporting-NEDC ENUMERATED {supported} OPTIONAL,
nr-CGI-Reporting-NRDC ENUMERATED {supported} OPTIONAL
]]
}
MeasAndMobParametersXDD-Diff ::= SEQUENCE {
intraAndInterF-MeasAndReport ENUMERATED {supported} OPTIONAL,
eventA-MeasAndReport ENUMERATED {supported} OPTIONAL,
...,
[[
handoverInterF ENUMERATED {supported} OPTIONAL,
handoverLTE-EPC ENUMERATED {supported} OPTIONAL,
handoverLTE-5GC ENUMERATED {supported} OPTIONAL
]],
[[
sftd-MeasNR-Neigh ENUMERATED {supported} OPTIONAL,
sftd-MeasNR-Neigh-DRX ENUMERATED {supported} OPTIONAL
]]
}
MeasAndMobParametersFRX-Diff ::= SEQUENCE {
ss-SINR-Meas ENUMERATED {supported} OPTIONAL,
csi-RSRP-AndRSRQ-MeasWithSSB ENUMERATED {supported} OPTIONAL,
csi-RSRP-AndRSRQ-MeasWithoutSSB ENUMERATED {supported} OPTIONAL,
csi-SINR-Meas ENUMERATED {supported} OPTIONAL,
csi-RS-RLM ENUMERATED {supported} OPTIONAL,
...,
[[
handoverInterF ENUMERATED {supported} OPTIONAL,
handoverLTE-EPC ENUMERATED {supported} OPTIONAL,
handoverLTE-5GC ENUMERATED {supported} OPTIONAL
]],
[[
maxNumberResource-CSI-RS-RLM ENUMERATED {n2, n4, n6, n8} OPTIONAL
]],
[[
simultaneousRxDataSSB-DiffNumerology ENUMERATED {supported} OPTIONAL
]]
}
\-- TAG-MEASANDMOBPARAMETERS-STOP
\-- ASN1STOP
#### \-- _MeasAndMobParametersMRDC_
The IE _MeasAndMobParametersMRDC_ is used to convey capability parameters
related to RRM measurements and RRC mobility.
_MeasAndMobParametersMRDC_ information element
\-- ASN1START
\-- TAG-MEASANDMOBPARAMETERSMRDC-START
MeasAndMobParametersMRDC ::= SEQUENCE {
measAndMobParametersMRDC-Common MeasAndMobParametersMRDC-Common OPTIONAL,
measAndMobParametersMRDC-XDD-Diff MeasAndMobParametersMRDC-XDD-Diff OPTIONAL,
measAndMobParametersMRDC-FRX-Diff MeasAndMobParametersMRDC-FRX-Diff OPTIONAL
}
MeasAndMobParametersMRDC-v1560 ::= SEQUENCE {
measAndMobParametersMRDC-XDD-Diff-v1560 MeasAndMobParametersMRDC-XDD-
Diff-v1560 OPTIONAL
}
MeasAndMobParametersMRDC-Common ::= SEQUENCE {
independentGapConfig ENUMERATED {supported} OPTIONAL
}
MeasAndMobParametersMRDC-XDD-Diff ::= SEQUENCE {
sftd-MeasPSCell ENUMERATED {supported} OPTIONAL,
sftd-MeasNR-Cell ENUMERATED {supported} OPTIONAL
}
MeasAndMobParametersMRDC-XDD-Diff-v1560 ::= SEQUENCE {
sftd-MeasPSCell-NEDC ENUMERATED {supported} OPTIONAL
}
MeasAndMobParametersMRDC-FRX-Diff ::= SEQUENCE {
simultaneousRxDataSSB-DiffNumerology ENUMERATED {supported} OPTIONAL
}
\-- TAG-MEASANDMOBPARAMETERSMRDC-STOP
\-- ASN1STOP
#### \-- _MIMO-Layers_
The IE _MIMO-Layers_ is used to convey the number of supported MIMO layers.
_MIMO-Layers_ information element
\-- ASN1START
\-- TAG-MIMO-LAYERS-START
MIMO-LayersDL ::= ENUMERATED {twoLayers, fourLayers, eightLayers}
MIMO-LayersUL ::= ENUMERATED {oneLayer, twoLayers, fourLayers}
\-- TAG-MIMO-LAYERS-STOP
\-- ASN1STOP
#### \-- _MIMO-ParametersPerBand_
The IE _MIMO-ParametersPerBand_ is used to convey MIMO related parameters
specific for a certain band (not per feature set or band combination).
_MIMO-ParametersPerBand_ information element
\-- ASN1START
\-- TAG-MIMO-PARAMETERSPERBAND-START
MIMO-ParametersPerBand ::= SEQUENCE {
tci-StatePDSCH SEQUENCE {
maxNumberConfiguredTCIstatesPerCC ENUMERATED {n4, n8, n16, n32, n64, n128}
OPTIONAL,
maxNumberActiveTCI-PerBWP ENUMERATED {n1, n2, n4, n8} OPTIONAL
} OPTIONAL,
additionalActiveTCI-StatePDCCH ENUMERATED {supported} OPTIONAL,
pusch-TransCoherence ENUMERATED {nonCoherent, partialCoherent, fullCoherent}
OPTIONAL,
beamCorrespondenceWithoutUL-BeamSweeping ENUMERATED {supported} OPTIONAL,
periodicBeamReport ENUMERATED {supported} OPTIONAL,
aperiodicBeamReport ENUMERATED {supported} OPTIONAL,
sp-BeamReportPUCCH ENUMERATED {supported} OPTIONAL,
sp-BeamReportPUSCH ENUMERATED {supported} OPTIONAL,
dummy1 DummyG OPTIONAL,
maxNumberRxBeam INTEGER (2..8) OPTIONAL,
maxNumberRxTxBeamSwitchDL SEQUENCE {
scs-15kHz ENUMERATED {n4, n7, n14} OPTIONAL,
scs-30kHz ENUMERATED {n4, n7, n14} OPTIONAL,
scs-60kHz ENUMERATED {n4, n7, n14} OPTIONAL,
scs-120kHz ENUMERATED {n4, n7, n14} OPTIONAL,
scs-240kHz ENUMERATED {n4, n7, n14} OPTIONAL
} OPTIONAL,
maxNumberNonGroupBeamReporting ENUMERATED {n1, n2, n4} OPTIONAL,
groupBeamReporting ENUMERATED {supported} OPTIONAL,
uplinkBeamManagement SEQUENCE {
maxNumberSRS-ResourcePerSet-BM ENUMERATED {n2, n4, n8, n16},
maxNumberSRS-ResourceSet INTEGER (1..8)
} OPTIONAL,
maxNumberCSI-RS-BFD INTEGER (1..64) OPTIONAL,
maxNumberSSB-BFD INTEGER (1..64) OPTIONAL,
maxNumberCSI-RS-SSB-CBD INTEGER (1..256) OPTIONAL,
dummy2 ENUMERATED {supported} OPTIONAL,
twoPortsPTRS-UL ENUMERATED {supported} OPTIONAL,
dummy5 SRS-Resources OPTIONAL,
dummy3 INTEGER (1..4) OPTIONAL,
beamReportTiming SEQUENCE {
scs-15kHz ENUMERATED {sym2, sym4, sym8} OPTIONAL,
scs-30kHz ENUMERATED {sym4, sym8, sym14, sym28} OPTIONAL,
scs-60kHz ENUMERATED {sym8, sym14, sym28} OPTIONAL,
scs-120kHz ENUMERATED {sym14, sym28, sym56} OPTIONAL
} OPTIONAL,
ptrs-DensityRecommendationSetDL SEQUENCE {
scs-15kHz PTRS-DensityRecommendationDL OPTIONAL,
scs-30kHz PTRS-DensityRecommendationDL OPTIONAL,
scs-60kHz PTRS-DensityRecommendationDL OPTIONAL,
scs-120kHz PTRS-DensityRecommendationDL OPTIONAL
} OPTIONAL,
ptrs-DensityRecommendationSetUL SEQUENCE {
scs-15kHz PTRS-DensityRecommendationUL OPTIONAL,
scs-30kHz PTRS-DensityRecommendationUL OPTIONAL,
scs-60kHz PTRS-DensityRecommendationUL OPTIONAL,
scs-120kHz PTRS-DensityRecommendationUL OPTIONAL
} OPTIONAL,
dummy4 DummyH OPTIONAL,
aperiodicTRS ENUMERATED {supported} OPTIONAL,
...,
[[
dummy6 ENUMERATED {true} OPTIONAL,
beamManagementSSB-CSI-RS BeamManagementSSB-CSI-RS OPTIONAL,
beamSwitchTiming SEQUENCE {
scs-60kHz ENUMERATED {sym14, sym28, sym48, sym224, sym336} OPTIONAL,
scs-120kHz ENUMERATED {sym14, sym28, sym48, sym224, sym336} OPTIONAL
} OPTIONAL,
codebookParameters CodebookParameters OPTIONAL,
csi-RS-IM-ReceptionForFeedback CSI-RS-IM-ReceptionForFeedback OPTIONAL,
csi-RS-ProcFrameworkForSRS CSI-RS-ProcFrameworkForSRS OPTIONAL,
csi-ReportFramework CSI-ReportFramework OPTIONAL,
csi-RS-ForTracking CSI-RS-ForTracking OPTIONAL,
srs-AssocCSI-RS SEQUENCE (SIZE (1.. maxNrofCSI-RS-Resources)) OF SupportedCSI-
RS-Resource OPTIONAL,
spatialRelations SpatialRelations OPTIONAL
]]
}
DummyG ::= SEQUENCE {
maxNumberSSB-CSI-RS-ResourceOneTx ENUMERATED {n8, n16, n32, n64},
maxNumberSSB-CSI-RS-ResourceTwoTx ENUMERATED {n0, n4, n8, n16, n32, n64},
supportedCSI-RS-Density ENUMERATED {one, three, oneAndThree}
}
BeamManagementSSB-CSI-RS ::= SEQUENCE {
maxNumberSSB-CSI-RS-ResourceOneTx ENUMERATED {n0, n8, n16, n32, n64},
maxNumberCSI-RS-Resource ENUMERATED {n0, n4, n8, n16, n32, n64},
maxNumberCSI-RS-ResourceTwoTx ENUMERATED {n0, n4, n8, n16, n32, n64},
supportedCSI-RS-Density ENUMERATED {one, three, oneAndThree} OPTIONAL,
maxNumberAperiodicCSI-RS-Resource ENUMERATED {n0, n1, n4, n8, n16, n32, n64}
}
DummyH ::= SEQUENCE {
burstLength INTEGER (1..2),
maxSimultaneousResourceSetsPerCC INTEGER (1..8),
maxConfiguredResourceSetsPerCC INTEGER (1..64),
maxConfiguredResourceSetsAllCC INTEGER (1..128)
}
CSI-RS-ForTracking ::= SEQUENCE {
maxBurstLength INTEGER (1..2),
maxSimultaneousResourceSetsPerCC INTEGER (1..8),
maxConfiguredResourceSetsPerCC INTEGER (1..64),
maxConfiguredResourceSetsAllCC INTEGER (1..256)
}
CSI-RS-IM-ReceptionForFeedback ::= SEQUENCE {
maxConfigNumberNZP-CSI-RS-PerCC INTEGER (1..64),
maxConfigNumberPortsAcrossNZP-CSI-RS-PerCC INTEGER (2..256),
maxConfigNumberCSI-IM-PerCC ENUMERATED {n1, n2, n4, n8, n16, n32},
maxNumberSimultaneousNZP-CSI-RS-PerCC INTEGER (1..64),
totalNumberPortsSimultaneousNZP-CSI-RS-PerCC INTEGER (2..256)
}
CSI-RS-ProcFrameworkForSRS ::= SEQUENCE {
maxNumberPeriodicSRS-AssocCSI-RS-PerBWP INTEGER (1..4),
maxNumberAperiodicSRS-AssocCSI-RS-PerBWP INTEGER (1..4),
maxNumberSP-SRS-AssocCSI-RS-PerBWP INTEGER (0..4),
simultaneousSRS-AssocCSI-RS-PerCC INTEGER (1..8)
}
CSI-ReportFramework ::= SEQUENCE {
maxNumberPeriodicCSI-PerBWP-ForCSI-Report INTEGER (1..4),
maxNumberAperiodicCSI-PerBWP-ForCSI-Report INTEGER (1..4),
maxNumberSemiPersistentCSI-PerBWP-ForCSI-Report INTEGER (0..4),
maxNumberPeriodicCSI-PerBWP-ForBeamReport INTEGER (1..4),
maxNumberAperiodicCSI-PerBWP-ForBeamReport INTEGER (1..4),
maxNumberAperiodicCSI-triggeringStatePerCC ENUMERATED {n3, n7, n15, n31, n63,
n128},
maxNumberSemiPersistentCSI-PerBWP-ForBeamReport INTEGER (0..4),
simultaneousCSI-ReportsPerCC INTEGER (1..8)
}
PTRS-DensityRecommendationDL ::= SEQUENCE {
frequencyDensity1 INTEGER (1..276),
frequencyDensity2 INTEGER (1..276),
timeDensity1 INTEGER (0..29),
timeDensity2 INTEGER (0..29),
timeDensity3 INTEGER (0..29)
}
PTRS-DensityRecommendationUL ::= SEQUENCE {
frequencyDensity1 INTEGER (1..276),
frequencyDensity2 INTEGER (1..276),
timeDensity1 INTEGER (0..29),
timeDensity2 INTEGER (0..29),
timeDensity3 INTEGER (0..29),
sampleDensity1 INTEGER (1..276),
sampleDensity2 INTEGER (1..276),
sampleDensity3 INTEGER (1..276),
sampleDensity4 INTEGER (1..276),
sampleDensity5 INTEGER (1..276)
}
SpatialRelations ::= SEQUENCE {
maxNumberConfiguredSpatialRelations ENUMERATED {n4, n8, n16, n32, n64, n96},
maxNumberActiveSpatialRelations ENUMERATED {n1, n2, n4, n8, n14},
additionalActiveSpatialRelationPUCCH ENUMERATED {supported} OPTIONAL,
maxNumberDL-RS-QCL-TypeD ENUMERATED {n1, n2, n4, n8, n14}
}
DummyI ::= SEQUENCE {
supportedSRS-TxPortSwitch ENUMERATED {t1r2, t1r4, t2r4, t1r4-t2r4, tr-equal},
txSwitchImpactToRx ENUMERATED {true} OPTIONAL
}
\-- TAG-MIMO-PARAMETERSPERBAND-STOP
\-- ASN1STOP
+----------------------------------------------------------------------+ | **_MIMO-ParametersPerBand_ field descriptions** | +======================================================================+ | **_csi-RS-IM-ReceptionForFeedback/ csi-RS-ProcFrameworkForSRS/ | | csi-ReportFramework_** | | | | CSI related capabilities which the UE supports on each of the | | carriers operated on this band. If the network configures the UE | | with serving cells on both FR1 and FR2 bands, these values may be | | further limited by the corresponding fields in | | _fr1-fr2-Add-UE-NR-Capabilities_. | +----------------------------------------------------------------------+
#### \-- _ModulationOrder_
The IE _ModulationOrder_ is used to convey the maximum supported modulation
order.
_ModulationOrder_ information element
\-- ASN1START
\-- TAG-MODULATIONORDER-START
ModulationOrder ::= ENUMERATED {bpsk-halfpi, bpsk, qpsk, qam16, qam64, qam256}
\-- TAG-MODULATIONORDER-STOP
\-- ASN1STOP
#### \-- _MRDC-Parameters_
The IE _MRDC-Parameters_ contains the band combination parameters specific to
MR-DC for a given MR-DC band combination.
_MRDC-Parameters_ information element
\-- ASN1START
\-- TAG-MRDC-PARAMETERS-START
MRDC-Parameters ::= SEQUENCE {
singleUL-Transmission ENUMERATED {supported} OPTIONAL,
dynamicPowerSharingENDC ENUMERATED {supported} OPTIONAL,
tdm-Pattern ENUMERATED {supported} OPTIONAL,
ul-SharingEUTRA-NR ENUMERATED {tdm, fdm, both} OPTIONAL,
ul-SwitchingTimeEUTRA-NR ENUMERATED {type1, type2} OPTIONAL,
simultaneousRxTxInterBandENDC ENUMERATED {supported} OPTIONAL,
asyncIntraBandENDC ENUMERATED {supported} OPTIONAL,
...,
[[
dualPA-Architecture ENUMERATED {supported} OPTIONAL,
intraBandENDC-Support ENUMERATED {non-contiguous, both} OPTIONAL,
ul-TimingAlignmentEUTRA-NR ENUMERATED {required} OPTIONAL
]]
}
MRDC-Parameters-v1580 ::= SEQUENCE {
dynamicPowerSharingNEDC ENUMERATED {supported} OPTIONAL
}
MRDC-Parameters-v1590 ::= SEQUENCE {
interBandContiguousMRDC ENUMERATED {supported} OPTIONAL
}
MRDC-Parameters-v15g0 ::= SEQUENCE {
simultaneousRxTxInterBandENDCPerBandPair SimultaneousRxTxPerBandPair OPTIONAL
}
MRDC-Parameters-v15n0 ::= SEQUENCE {
intraBandENDC-Support-UL ENUMERATED {non-contiguous, both} OPTIONAL
}
\-- TAG-MRDC-PARAMETERS-STOP
\-- ASN1STOP
#### \-- _NRDC-Parameters_
The IE _NRDC-Parameters_ contains parameters specific to NR-DC, i.e., which
are not applicable to NR SA.
_NRDC-Parameters_ information element
\-- ASN1START
\-- TAG-NRDC-PARAMETERS-START
NRDC-Parameters ::= SEQUENCE {
measAndMobParametersNRDC MeasAndMobParametersMRDC OPTIONAL,
generalParametersNRDC GeneralParametersMRDC-XDD-Diff OPTIONAL,
fdd-Add-UE-NRDC-Capabilities UE-MRDC-CapabilityAddXDD-Mode OPTIONAL,
tdd-Add-UE-NRDC-Capabilities UE-MRDC-CapabilityAddXDD-Mode OPTIONAL,
fr1-Add-UE-NRDC-Capabilities UE-MRDC-CapabilityAddFRX-Mode OPTIONAL,
fr2-Add-UE-NRDC-Capabilities UE-MRDC-CapabilityAddFRX-Mode OPTIONAL,
dummy2 OCTET STRING OPTIONAL,
dummy SEQUENCE {} OPTIONAL
}
NRDC-Parameters-v1570 ::= SEQUENCE {
sfn-SyncNRDC ENUMERATED {supported} OPTIONAL
}
NRDC-Parameters-v15c0 ::= SEQUENCE {
pdcp-DuplicationSplitSRB ENUMERATED {supported} OPTIONAL,
pdcp-DuplicationSplitDRB ENUMERATED {supported} OPTIONAL
}
\-- TAG-NRDC-PARAMETERS-STOP
\-- ASN1STOP
#### \-- _PDCP-Parameters_
The IE _PDCP-Parameters_ is used to convey capabilities related to PDCP.
_PDCP-Parameters_ information element
\-- ASN1START
\-- TAG-PDCP-PARAMETERS-START
PDCP-Parameters ::= SEQUENCE {
supportedROHC-Profiles SEQUENCE {
profile0x0000 BOOLEAN,
profile0x0001 BOOLEAN,
profile0x0002 BOOLEAN,
profile0x0003 BOOLEAN,
profile0x0004 BOOLEAN,
profile0x0006 BOOLEAN,
profile0x0101 BOOLEAN,
profile0x0102 BOOLEAN,
profile0x0103 BOOLEAN,
profile0x0104 BOOLEAN
},
maxNumberROHC-ContextSessions ENUMERATED {cs2, cs4, cs8, cs12, cs16, cs24,
cs32, cs48, cs64,
cs128, cs256, cs512, cs1024, cs16384, spare2, spare1},
uplinkOnlyROHC-Profiles ENUMERATED {supported} OPTIONAL,
continueROHC-Context ENUMERATED {supported} OPTIONAL,
outOfOrderDelivery ENUMERATED {supported} OPTIONAL,
shortSN ENUMERATED {supported} OPTIONAL,
pdcp-DuplicationSRB ENUMERATED {supported} OPTIONAL,
pdcp-DuplicationMCG-OrSCG-DRB ENUMERATED {supported} OPTIONAL,
...
}
\-- TAG-PDCP-PARAMETERS-STOP
\-- ASN1STOP
#### \-- _PDCP-ParametersMRDC_
The IE _PDCP-ParametersMRDC_ is used to convey PDCP related capabilities for
MR-DC.
_PDCP-ParametersMRDC_ information element
\-- ASN1START
\-- TAG-PDCP-PARAMETERSMRDC-START
PDCP-ParametersMRDC ::= SEQUENCE {
pdcp-DuplicationSplitSRB ENUMERATED {supported} OPTIONAL,
pdcp-DuplicationSplitDRB ENUMERATED {supported} OPTIONAL
}
\-- TAG-PDCP-PARAMETERSMRDC-STOP
\-- ASN1STOP
#### \-- _Phy-Parameters_
The IE _Phy-Parameters_ is used to convey the physical layer capabilities.
_Phy-Parameters_ information element
\-- ASN1START
\-- TAG-PHY-PARAMETERS-START
Phy-Parameters ::= SEQUENCE {
phy-ParametersCommon Phy-ParametersCommon OPTIONAL,
phy-ParametersXDD-Diff Phy-ParametersXDD-Diff OPTIONAL,
phy-ParametersFRX-Diff Phy-ParametersFRX-Diff OPTIONAL,
phy-ParametersFR1 Phy-ParametersFR1 OPTIONAL,
phy-ParametersFR2 Phy-ParametersFR2 OPTIONAL
}
Phy-ParametersCommon ::= SEQUENCE {
csi-RS-CFRA-ForHO ENUMERATED {supported} OPTIONAL,
dynamicPRB-BundlingDL ENUMERATED {supported} OPTIONAL,
sp-CSI-ReportPUCCH ENUMERATED {supported} OPTIONAL,
sp-CSI-ReportPUSCH ENUMERATED {supported} OPTIONAL,
nzp-CSI-RS-IntefMgmt ENUMERATED {supported} OPTIONAL,
type2-SP-CSI-Feedback-LongPUCCH ENUMERATED {supported} OPTIONAL,
precoderGranularityCORESET ENUMERATED {supported} OPTIONAL,
dynamicHARQ-ACK-Codebook ENUMERATED {supported} OPTIONAL,
semiStaticHARQ-ACK-Codebook ENUMERATED {supported} OPTIONAL,
spatialBundlingHARQ-ACK ENUMERATED {supported} OPTIONAL,
dynamicBetaOffsetInd-HARQ-ACK-CSI ENUMERATED {supported} OPTIONAL,
pucch-Repetition-F1-3-4 ENUMERATED {supported} OPTIONAL,
ra-Type0-PUSCH ENUMERATED {supported} OPTIONAL,
dynamicSwitchRA-Type0-1-PDSCH ENUMERATED {supported} OPTIONAL,
dynamicSwitchRA-Type0-1-PUSCH ENUMERATED {supported} OPTIONAL,
pdsch-MappingTypeA ENUMERATED {supported} OPTIONAL,
pdsch-MappingTypeB ENUMERATED {supported} OPTIONAL,
interleavingVRB-ToPRB-PDSCH ENUMERATED {supported} OPTIONAL,
interSlotFreqHopping-PUSCH ENUMERATED {supported} OPTIONAL,
type1-PUSCH-RepetitionMultiSlots ENUMERATED {supported} OPTIONAL,
type2-PUSCH-RepetitionMultiSlots ENUMERATED {supported} OPTIONAL,
pusch-RepetitionMultiSlots ENUMERATED {supported} OPTIONAL,
pdsch-RepetitionMultiSlots ENUMERATED {supported} OPTIONAL,
downlinkSPS ENUMERATED {supported} OPTIONAL,
configuredUL-GrantType1 ENUMERATED {supported} OPTIONAL,
configuredUL-GrantType2 ENUMERATED {supported} OPTIONAL,
pre-EmptIndication-DL ENUMERATED {supported} OPTIONAL,
cbg-TransIndication-DL ENUMERATED {supported} OPTIONAL,
cbg-TransIndication-UL ENUMERATED {supported} OPTIONAL,
cbg-FlushIndication-DL ENUMERATED {supported} OPTIONAL,
dynamicHARQ-ACK-CodeB-CBG-Retx-DL ENUMERATED {supported} OPTIONAL,
rateMatchingResrcSetSemi-Static ENUMERATED {supported} OPTIONAL,
rateMatchingResrcSetDynamic ENUMERATED {supported} OPTIONAL,
bwp-SwitchingDelay ENUMERATED {type1, type2} OPTIONAL,
...,
[[
dummy ENUMERATED {supported} OPTIONAL
]],
[[
maxNumberSearchSpaces ENUMERATED {n10} OPTIONAL,
rateMatchingCtrlResrcSetDynamic ENUMERATED {supported} OPTIONAL,
maxLayersMIMO-Indication ENUMERATED {supported} OPTIONAL
]],
[[
spCellPlacement CarrierAggregationVariant OPTIONAL
]]
}
Phy-ParametersXDD-Diff ::= SEQUENCE {
dynamicSFI ENUMERATED {supported} OPTIONAL,
twoPUCCH-F0-2-ConsecSymbols ENUMERATED {supported} OPTIONAL,
twoDifferentTPC-Loop-PUSCH ENUMERATED {supported} OPTIONAL,
twoDifferentTPC-Loop-PUCCH ENUMERATED {supported} OPTIONAL,
...,
[[
dl-SchedulingOffset-PDSCH-TypeA ENUMERATED {supported} OPTIONAL,
dl-SchedulingOffset-PDSCH-TypeB ENUMERATED {supported} OPTIONAL,
ul-SchedulingOffset ENUMERATED {supported} OPTIONAL
]]
}
Phy-ParametersFRX-Diff ::= SEQUENCE {
dynamicSFI ENUMERATED {supported} OPTIONAL,
dummy1 BIT STRING (SIZE (2)) OPTIONAL,
twoFL-DMRS BIT STRING (SIZE (2)) OPTIONAL,
dummy2 BIT STRING (SIZE (2)) OPTIONAL,
dummy3 BIT STRING (SIZE (2)) OPTIONAL,
supportedDMRS-TypeDL ENUMERATED {type1, type1And2} OPTIONAL,
supportedDMRS-TypeUL ENUMERATED {type1, type1And2} OPTIONAL,
semiOpenLoopCSI ENUMERATED {supported} OPTIONAL,
csi-ReportWithoutPMI ENUMERATED {supported} OPTIONAL,
csi-ReportWithoutCQI ENUMERATED {supported} OPTIONAL,
onePortsPTRS BIT STRING (SIZE (2)) OPTIONAL,
twoPUCCH-F0-2-ConsecSymbols ENUMERATED {supported} OPTIONAL,
pucch-F2-WithFH ENUMERATED {supported} OPTIONAL,
pucch-F3-WithFH ENUMERATED {supported} OPTIONAL,
pucch-F4-WithFH ENUMERATED {supported} OPTIONAL,
pucch-F0-2WithoutFH ENUMERATED {notSupported} OPTIONAL,
pucch-F1-3-4WithoutFH ENUMERATED {notSupported} OPTIONAL,
mux-SR-HARQ-ACK-CSI-PUCCH-MultiPerSlot ENUMERATED {supported} OPTIONAL,
uci-CodeBlockSegmentation ENUMERATED {supported} OPTIONAL,
onePUCCH-LongAndShortFormat ENUMERATED {supported} OPTIONAL,
twoPUCCH-AnyOthersInSlot ENUMERATED {supported} OPTIONAL,
intraSlotFreqHopping-PUSCH ENUMERATED {supported} OPTIONAL,
pusch-LBRM ENUMERATED {supported} OPTIONAL,
pdcch-BlindDetectionCA INTEGER (4..16) OPTIONAL,
tpc-PUSCH-RNTI ENUMERATED {supported} OPTIONAL,
tpc-PUCCH-RNTI ENUMERATED {supported} OPTIONAL,
tpc-SRS-RNTI ENUMERATED {supported} OPTIONAL,
absoluteTPC-Command ENUMERATED {supported} OPTIONAL,
twoDifferentTPC-Loop-PUSCH ENUMERATED {supported} OPTIONAL,
twoDifferentTPC-Loop-PUCCH ENUMERATED {supported} OPTIONAL,
pusch-HalfPi-BPSK ENUMERATED {supported} OPTIONAL,
pucch-F3-4-HalfPi-BPSK ENUMERATED {supported} OPTIONAL,
almostContiguousCP-OFDM-UL ENUMERATED {supported} OPTIONAL,
sp-CSI-RS ENUMERATED {supported} OPTIONAL,
sp-CSI-IM ENUMERATED {supported} OPTIONAL,
tdd-MultiDL-UL-SwitchPerSlot ENUMERATED {supported} OPTIONAL,
multipleCORESET ENUMERATED {supported} OPTIONAL,
...,
[[
csi-RS-IM-ReceptionForFeedback CSI-RS-IM-ReceptionForFeedback OPTIONAL,
csi-RS-ProcFrameworkForSRS CSI-RS-ProcFrameworkForSRS OPTIONAL,
csi-ReportFramework CSI-ReportFramework OPTIONAL,
mux-SR-HARQ-ACK-CSI-PUCCH-OncePerSlot SEQUENCE {
sameSymbol ENUMERATED {supported} OPTIONAL,
diffSymbol ENUMERATED {supported} OPTIONAL
} OPTIONAL,
mux-SR-HARQ-ACK-PUCCH ENUMERATED {supported} OPTIONAL,
mux-MultipleGroupCtrlCH-Overlap ENUMERATED {supported} OPTIONAL,
dl-SchedulingOffset-PDSCH-TypeA ENUMERATED {supported} OPTIONAL,
dl-SchedulingOffset-PDSCH-TypeB ENUMERATED {supported} OPTIONAL,
ul-SchedulingOffset ENUMERATED {supported} OPTIONAL,
dl-64QAM-MCS-TableAlt ENUMERATED {supported} OPTIONAL,
ul-64QAM-MCS-TableAlt ENUMERATED {supported} OPTIONAL,
cqi-TableAlt ENUMERATED {supported} OPTIONAL,
oneFL-DMRS-TwoAdditionalDMRS-UL ENUMERATED {supported} OPTIONAL,
twoFL-DMRS-TwoAdditionalDMRS-UL ENUMERATED {supported} OPTIONAL,
oneFL-DMRS-ThreeAdditionalDMRS-UL ENUMERATED {supported} OPTIONAL
]],
[[
pdcch-BlindDetectionNRDC SEQUENCE {
pdcch-BlindDetectionMCG-UE INTEGER (1..15),
pdcch-BlindDetectionSCG-UE INTEGER (1..15)
} OPTIONAL,
mux-HARQ-ACK-PUSCH-DiffSymbol ENUMERATED {supported} OPTIONAL
]]
}
Phy-ParametersFR1 ::= SEQUENCE {
pdcch-MonitoringSingleOccasion ENUMERATED {supported} OPTIONAL,
scs-60kHz ENUMERATED {supported} OPTIONAL,
pdsch-256QAM-FR1 ENUMERATED {supported} OPTIONAL,
pdsch-RE-MappingFR1-PerSymbol ENUMERATED {n10, n20} OPTIONAL,
...,
[[
pdsch-RE-MappingFR1-PerSlot ENUMERATED {n16, n32, n48, n64, n80, n96, n112,
n128,
n144, n160, n176, n192, n208, n224, n240, n256} OPTIONAL
]]
}
Phy-ParametersFR2 ::= SEQUENCE {
dummy ENUMERATED {supported} OPTIONAL,
pdsch-RE-MappingFR2-PerSymbol ENUMERATED {n6, n20} OPTIONAL,
...,
[[
pCell-FR2 ENUMERATED {supported} OPTIONAL,
pdsch-RE-MappingFR2-PerSlot ENUMERATED {n16, n32, n48, n64, n80, n96, n112,
n128,
n144, n160, n176, n192, n208, n224, n240, n256} OPTIONAL
]]
}
\-- TAG-PHY-PARAMETERS-STOP
\-- ASN1STOP
+----------------------------------------------------------------------+ | **_Phy-ParametersFRX-Diff_ field descriptions** | +======================================================================+ | **_csi-RS-IM-ReceptionForFeedback/ csi-RS-ProcFrameworkForSRS/ | | csi-ReportFramework_** | | | | These fields are optionally present in | | _fr1-fr2-Add-UE-NR-Capabilities_ in _UE-NR-Capability_. They shall | | not be set in any other instance of the IE _Phy-ParametersFRX-Diff_. | | If the network configures the UE with serving cells on both FR1 and | | FR2 bands, these parameters, if present, limit the corresponding | | parameters in _MIMO-ParametersPerBand_. | +----------------------------------------------------------------------+
#### \-- _Phy-ParametersMRDC_
The IE _Phy-ParametersMRDC_ is used to convey physical layer capabilities for
MR-DC.
_Phy-ParametersMRDC_ information element
\-- ASN1START
\-- TAG-PHY-PARAMETERSMRDC-START
Phy-ParametersMRDC ::= SEQUENCE {
naics-Capability-List SEQUENCE (SIZE (1..maxNrofNAICS-Entries)) OF NAICS-
Capability-Entry OPTIONAL,
...,
[[
spCellPlacement CarrierAggregationVariant OPTIONAL
]]
}
NAICS-Capability-Entry ::= SEQUENCE {
numberOfNAICS-CapableCC INTEGER(1..5),
numberOfAggregatedPRB ENUMERATED {n50, n75, n100, n125, n150, n175, n200,
n225,
n250, n275, n300, n350, n400, n450, n500, spare},
...
}
\-- TAG-PHY-PARAMETERSMRDC-STOP
\-- ASN1STOP
+----------------------------------------------------------------------+ | _PHY-ParametersMRDC_ field descriptions | +======================================================================+ | **_naics-Capability-List_** | | | | Indicates that UE in MR-DC supports NAICS as defined in TS 36.331 | | [10]. | +----------------------------------------------------------------------+
#### \-- _ProcessingParameters_
The IE _ProcessingParameters_ is used to indicate PDSCH/PUSCH processing
capabilities supported by the UE.
_ProcessingParameters_ information element
\-- ASN1START
\-- TAG-PROCESSINGPARAMETERS-START
ProcessingParameters ::= SEQUENCE {
fallback ENUMERATED {sc, cap1-only},
differentTB-PerSlot SEQUENCE {
upto1 NumberOfCarriers OPTIONAL,
upto2 NumberOfCarriers OPTIONAL,
upto4 NumberOfCarriers OPTIONAL,
upto7 NumberOfCarriers OPTIONAL
} OPTIONAL
}
NumberOfCarriers ::= INTEGER (1..16)
\-- TAG-PROCESSINGPARAMETERS-STOP
\-- ASN1STOP
#### \-- _RAT-Type_
The IE _RAT-Type_ is used to indicate the radio access technology (RAT),
including NR, of the requested/transferred UE capabilities.
_RAT-Type_ information element
\-- ASN1START
\-- TAG-RAT-TYPE-START
RAT-Type ::= ENUMERATED {nr, eutra-nr, eutra, spare1, ...}
\-- TAG-RAT-TYPE-STOP
\-- ASN1STOP
#### \-- _RF-Parameters_
The IE _RF-Parameters_ is used to convey RF-related capabilities for NR
operation.
_RF-Parameters_ information element
\-- ASN1START
\-- TAG-RF-PARAMETERS-START
RF-Parameters ::= SEQUENCE {
supportedBandListNR SEQUENCE (SIZE (1..maxBands)) OF BandNR,
supportedBandCombinationList BandCombinationList OPTIONAL,
appliedFreqBandListFilter FreqBandList OPTIONAL,
...,
[[
supportedBandCombinationList-v1540 BandCombinationList-v1540 OPTIONAL,
srs-SwitchingTimeRequested ENUMERATED {true} OPTIONAL
]],
[[
supportedBandCombinationList-v1550 BandCombinationList-v1550 OPTIONAL
]],
[[
supportedBandCombinationList-v1560 BandCombinationList-v1560 OPTIONAL
]]
}
RF-Parameters-v15g0 ::= SEQUENCE {
supportedBandCombinationList-v15g0 BandCombinationList-v15g0 OPTIONAL
}
BandNR ::= SEQUENCE {
bandNR FreqBandIndicatorNR,
modifiedMPR-Behaviour BIT STRING (SIZE (8)) OPTIONAL,
mimo-ParametersPerBand MIMO-ParametersPerBand OPTIONAL,
extendedCP ENUMERATED {supported} OPTIONAL,
multipleTCI ENUMERATED {supported} OPTIONAL,
bwp-WithoutRestriction ENUMERATED {supported} OPTIONAL,
bwp-SameNumerology ENUMERATED {upto2, upto4} OPTIONAL,
bwp-DiffNumerology ENUMERATED {upto4} OPTIONAL,
crossCarrierScheduling-SameSCS ENUMERATED {supported} OPTIONAL,
pdsch-256QAM-FR2 ENUMERATED {supported} OPTIONAL,
pusch-256QAM ENUMERATED {supported} OPTIONAL,
ue-PowerClass ENUMERATED {pc1, pc2, pc3, pc4} OPTIONAL,
rateMatchingLTE-CRS ENUMERATED {supported} OPTIONAL,
channelBWs-DL CHOICE {
fr1 SEQUENCE {
scs-15kHz BIT STRING (SIZE (10)) OPTIONAL,
scs-30kHz BIT STRING (SIZE (10)) OPTIONAL,
scs-60kHz BIT STRING (SIZE (10)) OPTIONAL
},
fr2 SEQUENCE {
scs-60kHz BIT STRING (SIZE (3)) OPTIONAL,
scs-120kHz BIT STRING (SIZE (3)) OPTIONAL
}
} OPTIONAL,
channelBWs-UL CHOICE {
fr1 SEQUENCE {
scs-15kHz BIT STRING (SIZE (10)) OPTIONAL,
scs-30kHz BIT STRING (SIZE (10)) OPTIONAL,
scs-60kHz BIT STRING (SIZE (10)) OPTIONAL
},
fr2 SEQUENCE {
scs-60kHz BIT STRING (SIZE (3)) OPTIONAL,
scs-120kHz BIT STRING (SIZE (3)) OPTIONAL
}
} OPTIONAL,
...,
[[
maxUplinkDutyCycle-PC2-FR1 ENUMERATED {n60, n70, n80, n90, n100} OPTIONAL
]],
[[
pucch-SpatialRelInfoMAC-CE ENUMERATED {supported} OPTIONAL,
powerBoosting-pi2BPSK ENUMERATED {supported} OPTIONAL
]],
[[
maxUplinkDutyCycle-FR2 ENUMERATED {n15, n20, n25, n30, n40, n50, n60, n70,
n80, n90, n100} OPTIONAL
]],
[[
channelBWs-DL-v1590 CHOICE {
fr1 SEQUENCE {
scs-15kHz BIT STRING (SIZE (16)) OPTIONAL,
scs-30kHz BIT STRING (SIZE (16)) OPTIONAL,
scs-60kHz BIT STRING (SIZE (16)) OPTIONAL
},
fr2 SEQUENCE {
scs-60kHz BIT STRING (SIZE (8)) OPTIONAL,
scs-120kHz BIT STRING (SIZE (8)) OPTIONAL
}
} OPTIONAL,
channelBWs-UL-v1590 CHOICE {
fr1 SEQUENCE {
scs-15kHz BIT STRING (SIZE (16)) OPTIONAL,
scs-30kHz BIT STRING (SIZE (16)) OPTIONAL,
scs-60kHz BIT STRING (SIZE (16)) OPTIONAL
},
fr2 SEQUENCE {
scs-60kHz BIT STRING (SIZE (8)) OPTIONAL,
scs-120kHz BIT STRING (SIZE (8)) OPTIONAL
}
} OPTIONAL
]],
[[
asymmetricBandwidthCombinationSet BIT STRING (SIZE (1..32)) OPTIONAL
]]
}
\-- TAG-RF-PARAMETERS-STOP
\-- ASN1STOP
+----------------------------------------------------------------------+ | _RF-Parameters_ field descriptions | +======================================================================+ | **_appliedFreqBandListFilter_** | | | | In this field the UE mirrors the _FreqBandList_ that the NW provided | | in the capability enquiry, if any. The UE filtered the band | | combinations in the _supportedBandCombinationList_ in accordance | | with this _appliedFreqBandListFilter_. The UE does not include this | | field if the UE capability is requested by E-UTRAN and the network | | request includes the field _eutra-nr-only_ [10]. | +----------------------------------------------------------------------+ | **_supportedBandCombinationList_** | | | | A list of band combinations that the UE supports for NR (and NR-DC, | | if requested). The _FeatureSetCombinationId_ :s in this list refer to | | the _FeatureSetCombination_ entries in the _featureSetCombinations_ | | list in the _UE-NR-Capability_ IE. The UE does not include this | | field if the UE capability is requested by E-UTRAN and the network | | request includes the field _eutra-nr-only_ [10]. | +----------------------------------------------------------------------+
#### \-- _RF-ParametersMRDC_
The IE _RF-ParametersMRDC_ is used to convey RF related capabilities for MR-
DC.
_RF-ParametersMRDC_ information element
\-- ASN1START
\-- TAG-RF-PARAMETERSMRDC-START
RF-ParametersMRDC ::= SEQUENCE {
supportedBandCombinationList BandCombinationList OPTIONAL,
appliedFreqBandListFilter FreqBandList OPTIONAL,
...,
[[
srs-SwitchingTimeRequested ENUMERATED {true} OPTIONAL,
supportedBandCombinationList-v1540 BandCombinationList-v1540 OPTIONAL
]],
[[
supportedBandCombinationList-v1550 BandCombinationList-v1550 OPTIONAL
]],
[[
supportedBandCombinationList-v1560 BandCombinationList-v1560 OPTIONAL,
supportedBandCombinationListNEDC-Only BandCombinationList OPTIONAL
]],
[[
supportedBandCombinationList-v1570 BandCombinationList-v1570 OPTIONAL
]],
[[
supportedBandCombinationList-v1580 BandCombinationList-v1580 OPTIONAL
]],
[[
supportedBandCombinationList-v1590 BandCombinationList-v1590 OPTIONAL
]],
[[
supportedBandCombinationListNEDC-Only-v15a0 SEQUENCE {
supportedBandCombinationList-v1540 BandCombinationList-v1540 OPTIONAL,
supportedBandCombinationList-v1560 BandCombinationList-v1560 OPTIONAL,
supportedBandCombinationList-v1570 BandCombinationList-v1570 OPTIONAL,
supportedBandCombinationList-v1580 BandCombinationList-v1580 OPTIONAL,
supportedBandCombinationList-v1590 BandCombinationList-v1590 OPTIONAL
} OPTIONAL
]]
}
RF-ParametersMRDC-v15g0 ::= SEQUENCE {
supportedBandCombinationList-v15g0 BandCombinationList-v15g0 OPTIONAL,
supportedBandCombinationListNEDC-Only-v15g0 BandCombinationList-v15g0 OPTIONAL
}
RF-ParametersMRDC-v15n0 ::= SEQUENCE {
supportedBandCombinationList-v15n0 BandCombinationList-v15n0 OPTIONAL
}
\-- TAG-RF-PARAMETERSMRDC-STOP
\-- ASN1STOP
+----------------------------------------------------------------------+ | _RF-ParametersMRDC_ field descriptions | +======================================================================+ | **_appliedFreqBandListFilter_** | | | | In this field the UE mirrors the _FreqBandList_ that the NW provided | | in the capability enquiry, if any. The UE filtered the band | | combinations in the _supportedBandCombinationList_ in accordance | | with this _appliedFreqBandListFilter_. | +----------------------------------------------------------------------+ | **_supportedBandCombinationList_** | | | | A list of band combinations that the UE supports for (NG)EN-DC, or | | both (NG)EN-DC and NE-DC. The _FeatureSetCombinationId_ :s in this | | list refer to the _FeatureSetCombination_ entries in the | | _featureSetCombinations_ list in the _UE-MRDC-Capability_ IE. | +----------------------------------------------------------------------+ | **_supportedBandCombinationListNEDC-Only_** | | | | A list of band combinations that the UE supports only for NE-DC. The | | _FeatureSetCombinationId_ :s in this list refer to the | | _FeatureSetCombination_ entries in the _featureSetCombinations_ list | | in the _UE-MRDC-Capability_ IE. | +----------------------------------------------------------------------+
#### \-- _RLC-Parameters_
The IE _RLC-Parameters_ is used to convey capabilities related to RLC.
_RLC-Parameters_ information element
\-- ASN1START
\-- TAG-RLC-PARAMETERS-START
RLC-Parameters ::= SEQUENCE {
am-WithShortSN ENUMERATED {supported} OPTIONAL,
um-WithShortSN ENUMERATED {supported} OPTIONAL,
um-WithLongSN ENUMERATED {supported} OPTIONAL,
...
}
\-- TAG-RLC-PARAMETERS-STOP
\-- ASN1STOP
#### \-- _SDAP-Parameters_
The IE _SDAP-Parameters_ is used to convey capabilities related to SDAP.
_SDAP-Parameters_ information element
\-- ASN1START
\-- TAG-SDAP-PARAMETERS-START
SDAP-Parameters ::= SEQUENCE {
as-ReflectiveQoS ENUMERATED {true} OPTIONAL,
...
}
\-- TAG-SDAP-PARAMETERS-STOP
\-- ASN1STOP
#### \-- _SimultaneousRxTxPerBandPair_
The IE _SimultaneousRxTxPerBandPair_ contains the simultaneous Rx/Tx UE
capability for each band pair in a band combination.
_SimultaneousRxTxPerBandPair_ information element
\-- ASN1START
\-- TAG-SIMULTANEOUSRXTXPERBANDPAIR-START
SimultaneousRxTxPerBandPair ::= BIT STRING (SIZE (3..496))
\-- TAG-SIMULTANEOUSRXTXPERBANDPAIR-STOP
\-- ASN1STOP
#### \-- _SRS-SwitchingTimeNR_
The IE _SRS-SwitchingTimeNR_ is used to indicate the SRS carrier switching
time supported by the UE for one NR band pair.
_SRS-SwitchingTimeNR information element_
\-- ASN1START
\-- TAG-SRS-SWITCHINGTIMENR-START
SRS-SwitchingTimeNR ::= SEQUENCE {
switchingTimeDL ENUMERATED {n0us, n30us, n100us, n140us, n200us, n300us,
n500us, n900us} OPTIONAL,
switchingTimeUL ENUMERATED {n0us, n30us, n100us, n140us, n200us, n300us,
n500us, n900us} OPTIONAL
}
\-- TAG-SRS-SWITCHINGTIMENR-STOP
\-- ASN1STOP
#### \-- _SRS-SwitchingTimeEUTRA_
The IE _SRS-SwitchingTimeEUTRA_ is used to indicate the SRS carrier switching
time supported by the UE for one E-UTRA band pair.
_SRS-SwitchingTimeEUTRA information element_
\-- ASN1START
\-- TAG-SRS-SWITCHINGTIMEEUTRA-START
SRS-SwitchingTimeEUTRA ::= SEQUENCE {
switchingTimeDL ENUMERATED {n0, n0dot5, n1, n1dot5, n2, n2dot5, n3, n3dot5,
n4, n4dot5, n5, n5dot5, n6, n6dot5, n7}
OPTIONAL,
switchingTimeUL ENUMERATED {n0, n0dot5, n1, n1dot5, n2, n2dot5, n3, n3dot5,
n4, n4dot5, n5, n5dot5, n6, n6dot5, n7}
OPTIONAL
}
\-- TAG-SRS-SWITCHINGTIMEEUTRA-STOP
\-- ASN1STOP
#### \-- _SupportedBandwidth_
The IE _SupportedBandwidth_ is used to indicate the maximum channel bandwidth
supported by the UE on one carrier of a band of a band combination.
_SupportedBandwidth_ information element
\-- ASN1START
\-- TAG-SUPPORTEDBANDWIDTH-START
SupportedBandwidth ::= CHOICE {
fr1 ENUMERATED {mhz5, mhz10, mhz15, mhz20, mhz25, mhz30, mhz40, mhz50, mhz60,
mhz80, mhz100},
fr2 ENUMERATED {mhz50, mhz100, mhz200, mhz400}
}
\-- TAG-SUPPORTEDBANDWIDTH-STOP
\-- ASN1STOP
#### \-- _UE-CapabilityRAT-ContainerList_
The IE _UE-CapabilityRAT-ContainerList_ contains a list of radio access
technology specific capability containers.
_UE-CapabilityRAT-ContainerList_ information element
\-- ASN1START
\-- TAG-UE-CAPABILITYRAT-CONTAINERLIST-START
UE-CapabilityRAT-ContainerList ::= SEQUENCE (SIZE (0..maxRAT-
CapabilityContainers)) OF UE-CapabilityRAT-Container
UE-CapabilityRAT-Container ::= SEQUENCE {
rat-Type RAT-Type,
ue-CapabilityRAT-Container OCTET STRING
}
\-- TAG-UE-CAPABILITYRAT-CONTAINERLIST-STOP
\-- ASN1STOP
+----------------------------------------------------------------------+ | _UE-CapabilityRAT-ContainerList_ field descriptions | +======================================================================+ | **_ue-CapabilityRAT-Container_** | | | | Container for the UE capabilities of the indicated RAT. The encoding | | is defined in the specification of each RAT: | | | | For _rat-Type_ set to _nr_ : the encoding of UE capabilities is | | defined in _UE-NR-Capability_. | | | | For _rat-Type_ set to _eutra-nr_ : the encoding of UE capabilities is | | defined in _UE-MRDC-Capability_. | | | | For _rat-Type_ set to _eutra_ : the encoding of UE capabilities is | | defined in _UE-EUTRA-Capability_ specified in TS 36.331 [10]. | +----------------------------------------------------------------------+
#### \-- _UE-CapabilityRAT-RequestList_
The IE _UE-CapabilityRAT-RequestList_ is used to request UE capabilities for
one or more RATs from the UE.
_UE-CapabilityRAT-RequestList_ information element
\-- ASN1START
\-- TAG-UE-CAPABILITYRAT-REQUESTLIST-START
UE-CapabilityRAT-RequestList ::= SEQUENCE (SIZE (1..maxRAT-
CapabilityContainers)) OF UE-CapabilityRAT-Request
UE-CapabilityRAT-Request ::= SEQUENCE {
rat-Type RAT-Type,
capabilityRequestFilter OCTET STRING OPTIONAL, -- Need N
...
}
\-- TAG-UE-CAPABILITYRAT-REQUESTLIST-STOP
\-- ASN1STOP
+----------------------------------------------------------------------+ | _UE-CapabilityRAT-Request_ field descriptions | +======================================================================+ | **_capabilityRequestFilter_** | | | | Information by which the network requests the UE to filter the UE | | capabilities. | | | | For _rat-Type_ set to _nr_ or _eutra-nr_ : the encoding of the | | _capabilityRequestFilter_ is defined in | | _UE-CapabilityRequestFilterNR_. | | | | For _rat-Type_ set to _eutra_ : the encoding of the | | _capabilityRequestFilter_ is defined by _UECapabilityEnquiry_ | | message defined in TS36.331 [10], in which _RAT-Type_ in | | _UE-CapabilityRequest_ includes only \'_eutra\'_. | +----------------------------------------------------------------------+ | **_rat-Type_** | | | | The RAT type for which the NW requests UE capabilities. | +----------------------------------------------------------------------+
#### \-- _UE-CapabilityRequestFilterCommon_
The IE _UE-CapabilityRequestFilterCommon_ is used to request filtered UE
capabilities. The filter is common for all capability containers that are
requested.
_UE-CapabilityRequestFilterCommon_ information element
\-- ASN1START
\-- TAG-UE-CAPABILITYREQUESTFILTERCOMMON-START
UE-CapabilityRequestFilterCommon ::= SEQUENCE {
mrdc-Request SEQUENCE {
omitEN-DC ENUMERATED {true} OPTIONAL, -- Need N
includeNR-DC ENUMERATED {true} OPTIONAL, -- Need N
includeNE-DC ENUMERATED {true} OPTIONAL -- Need N
} OPTIONAL, -- Need N
...
}
\-- TAG-UE-CAPABILITYREQUESTFILTERCOMMON-STOP
\-- ASN1STOP
+----------------------------------------------------------------------+ | _UE-CapabilityRequestFilterCommon field descriptions_ | +======================================================================+ | **_includeNE-DC_** | | | | Only if this field is present, the UE supporting NE-DC shall | | indicate support for NE-DC in band combinations and include feature | | set combinations which are applicable to NE-DC. Band combinations | | supporting both NE-DC and (NG)EN-DC shall be included in | | _supportedBandCombinationList_ , band combinations supporting only | | NE-DC shall be included in _supportedBandCombinationListNEDC-Only_. | +----------------------------------------------------------------------+ | **_includeNR-DC_** | | | | Only if this field is present, the UE supporting NR-DC shall | | indicate support for NR-DC in band combinations and include feature | | set combinations which are applicable to NR-DC. | +----------------------------------------------------------------------+ | **_omitEN-DC_** | | | | Only if this field is present, the UE shall omit band combinations | | and feature set combinations which are only applicable to (NG)EN-DC. | +----------------------------------------------------------------------+
#### \-- _UE-CapabilityRequestFilterNR_
The IE _UE-CapabilityRequestFilterNR_ is used to request filtered UE
capabilities.
_UE-CapabilityRequestFilterNR_ information element
\-- ASN1START
\-- TAG-UE-CAPABILITYREQUESTFILTERNR-START
UE-CapabilityRequestFilterNR ::= SEQUENCE {
frequencyBandListFilter FreqBandList OPTIONAL, -- Need N
nonCriticalExtension UE-CapabilityRequestFilterNR-v1540 OPTIONAL
}
UE-CapabilityRequestFilterNR-v1540 ::= SEQUENCE {
srs-SwitchingTimeRequest ENUMERATED {true} OPTIONAL, -- Need N
nonCriticalExtension SEQUENCE {} OPTIONAL
}
\-- TAG-UE-CAPABILITYREQUESTFILTERNR-STOP
\-- ASN1STOP
#### \-- _UE-MRDC-Capability_
The IE _UE-MRDC-Capability is used to convey the UE Radio Access Capability
Parameters for MR-DC, see TS 38.306 [26]._
_UE-MRDC-Capability_ information element
\-- ASN1START
\-- TAG-UE-MRDC-CAPABILITY-START
UE-MRDC-Capability ::= SEQUENCE {
measAndMobParametersMRDC MeasAndMobParametersMRDC OPTIONAL,
phy-ParametersMRDC-v1530 Phy-ParametersMRDC OPTIONAL,
rf-ParametersMRDC RF-ParametersMRDC,
generalParametersMRDC GeneralParametersMRDC-XDD-Diff OPTIONAL,
fdd-Add-UE-MRDC-Capabilities UE-MRDC-CapabilityAddXDD-Mode OPTIONAL,
tdd-Add-UE-MRDC-Capabilities UE-MRDC-CapabilityAddXDD-Mode OPTIONAL,
fr1-Add-UE-MRDC-Capabilities UE-MRDC-CapabilityAddFRX-Mode OPTIONAL,
fr2-Add-UE-MRDC-Capabilities UE-MRDC-CapabilityAddFRX-Mode OPTIONAL,
featureSetCombinations SEQUENCE (SIZE (1..maxFeatureSetCombinations)) OF
FeatureSetCombination OPTIONAL,
pdcp-ParametersMRDC-v1530 PDCP-ParametersMRDC OPTIONAL,
lateNonCriticalExtension OCTET STRING (CONTAINING UE-MRDC-Capability-v15g0)
OPTIONAL,
nonCriticalExtension UE-MRDC-Capability-v1560 OPTIONAL
}
\-- Regular non-critical extensions:
UE-MRDC-Capability-v1560 ::= SEQUENCE {
receivedFilters OCTET STRING (CONTAINING UECapabilityEnquiry-v1560-IEs)
OPTIONAL,
measAndMobParametersMRDC-v1560 MeasAndMobParametersMRDC-v1560 OPTIONAL,
fdd-Add-UE-MRDC-Capabilities-v1560 UE-MRDC-CapabilityAddXDD-Mode-v1560
OPTIONAL,
tdd-Add-UE-MRDC-Capabilities-v1560 UE-MRDC-CapabilityAddXDD-Mode-v1560
OPTIONAL,
nonCriticalExtension SEQUENCE {} OPTIONAL
}
\-- Late non-critical extensions:
UE-MRDC-Capability-v15g0 ::= SEQUENCE {
rf-ParametersMRDC-v15g0 RF-ParametersMRDC-v15g0 OPTIONAL,
nonCriticalExtension UE-MRDC-Capability-v15n0 OPTIONAL
}
UE-MRDC-Capability-v15n0 ::= SEQUENCE {
rf-ParametersMRDC-v15n0 RF-ParametersMRDC-v15n0 OPTIONAL,
\-- Following field is only for REL-15 late non-critical extensions
lateNonCriticalExtension OCTET STRING OPTIONAL,
nonCriticalExtension SEQUENCE {} OPTIONAL
}
UE-MRDC-CapabilityAddXDD-Mode ::= SEQUENCE {
measAndMobParametersMRDC-XDD-Diff MeasAndMobParametersMRDC-XDD-Diff OPTIONAL,
generalParametersMRDC-XDD-Diff GeneralParametersMRDC-XDD-Diff OPTIONAL
}
UE-MRDC-CapabilityAddXDD-Mode-v1560 ::= SEQUENCE {
measAndMobParametersMRDC-XDD-Diff-v1560 MeasAndMobParametersMRDC-XDD-
Diff-v1560 OPTIONAL
}
UE-MRDC-CapabilityAddFRX-Mode ::= SEQUENCE {
measAndMobParametersMRDC-FRX-Diff MeasAndMobParametersMRDC-FRX-Diff
}
GeneralParametersMRDC-XDD-Diff ::= SEQUENCE {
splitSRB-WithOneUL-Path ENUMERATED {supported} OPTIONAL,
splitDRB-withUL-Both-MCG-SCG ENUMERATED {supported} OPTIONAL,
srb3 ENUMERATED {supported} OPTIONAL,
dummy ENUMERATED {supported} OPTIONAL,
...
}
\-- TAG-UE-MRDC-CAPABILITY-STOP
\-- ASN1STOP
+----------------------------------------------------------------------+ | _UE-MRDC-Capability_ field descriptions | +======================================================================+ | **_featureSetCombinations_** | | | | A list of _FeatureSetCombination_ :s for | | _supportedBandCombinationList_ and | | _supportedBandCombinationListNEDC-Only_ in _UE-MRDC-Capability_. The | | _FeatureSetDownlink_ :s and _FeatureSetUplink_ :s referred to from | | these _FeatureSetCombination_ :s are defined in the _featureSets_ | | list in _UE-NR-Capability_. | +----------------------------------------------------------------------+
#### \-- _UE-NR-Capability_
The IE _UE-NR-Capability is used to convey the NR UE Radio Access Capability
Parameters, see TS 38.306 [26]._
_UE-NR-Capability_ information element
\-- ASN1START
\-- TAG-UE-NR-CAPABILITY-START
UE-NR-Capability ::= SEQUENCE {
accessStratumRelease AccessStratumRelease,
pdcp-Parameters PDCP-Parameters,
rlc-Parameters RLC-Parameters OPTIONAL,
mac-Parameters MAC-Parameters OPTIONAL,
phy-Parameters Phy-Parameters,
rf-Parameters RF-Parameters,
measAndMobParameters MeasAndMobParameters OPTIONAL,
fdd-Add-UE-NR-Capabilities UE-NR-CapabilityAddXDD-Mode OPTIONAL,
tdd-Add-UE-NR-Capabilities UE-NR-CapabilityAddXDD-Mode OPTIONAL,
fr1-Add-UE-NR-Capabilities UE-NR-CapabilityAddFRX-Mode OPTIONAL,
fr2-Add-UE-NR-Capabilities UE-NR-CapabilityAddFRX-Mode OPTIONAL,
featureSets FeatureSets OPTIONAL,
featureSetCombinations SEQUENCE (SIZE (1..maxFeatureSetCombinations)) OF
FeatureSetCombination OPTIONAL,
lateNonCriticalExtension OCTET STRING (CONTAINING UE-NR-Capability-v15c0)
OPTIONAL,
nonCriticalExtension UE-NR-Capability-v1530 OPTIONAL
}
\-- Regular non-critical extensions:
UE-NR-Capability-v1530 ::= SEQUENCE {
fdd-Add-UE-NR-Capabilities-v1530 UE-NR-CapabilityAddXDD-Mode-v1530 OPTIONAL,
tdd-Add-UE-NR-Capabilities-v1530 UE-NR-CapabilityAddXDD-Mode-v1530 OPTIONAL,
dummy ENUMERATED {supported} OPTIONAL,
interRAT-Parameters InterRAT-Parameters OPTIONAL,
inactiveState ENUMERATED {supported} OPTIONAL,
delayBudgetReporting ENUMERATED {supported} OPTIONAL,
nonCriticalExtension UE-NR-Capability-v1540 OPTIONAL
}
UE-NR-Capability-v1540 ::= SEQUENCE {
sdap-Parameters SDAP-Parameters OPTIONAL,
overheatingInd ENUMERATED {supported} OPTIONAL,
ims-Parameters IMS-Parameters OPTIONAL,
fr1-Add-UE-NR-Capabilities-v1540 UE-NR-CapabilityAddFRX-Mode-v1540 OPTIONAL,
fr2-Add-UE-NR-Capabilities-v1540 UE-NR-CapabilityAddFRX-Mode-v1540 OPTIONAL,
fr1-fr2-Add-UE-NR-Capabilities UE-NR-CapabilityAddFRX-Mode OPTIONAL,
nonCriticalExtension UE-NR-Capability-v1550 OPTIONAL
}
UE-NR-Capability-v1550 ::= SEQUENCE {
reducedCP-Latency ENUMERATED {supported} OPTIONAL,
nonCriticalExtension UE-NR-Capability-v1560 OPTIONAL
}
UE-NR-Capability-v1560 ::= SEQUENCE {
nrdc-Parameters NRDC-Parameters OPTIONAL,
receivedFilters OCTET STRING (CONTAINING UECapabilityEnquiry-v1560-IEs)
OPTIONAL,
nonCriticalExtension UE-NR-Capability-v1570 OPTIONAL
}
UE-NR-Capability-v1570 ::= SEQUENCE {
nrdc-Parameters-v1570 NRDC-Parameters-v1570 OPTIONAL,
nonCriticalExtension SEQUENCE {} OPTIONAL
}
\-- Late non-critical extensions:
UE-NR-Capability-v15c0 ::= SEQUENCE {
nrdc-Parameters-v15c0 NRDC-Parameters-v15c0 OPTIONAL,
partialFR2-FallbackRX-Req ENUMERATED {true} OPTIONAL,
nonCriticalExtension UE-NR-Capability-v15g0 OPTIONAL
}
UE-NR-Capability-v15g0 ::= SEQUENCE {
rf-Parameters-v15g0 RF-Parameters-v15g0 OPTIONAL,
nonCriticalExtension UE-NR-Capability-v15j0 OPTIONAL
}
UE-NR-Capability-v15j0 ::= SEQUENCE {
\-- Following field is only for REL-15 late non-critical extensions
lateNonCriticalExtension OCTET STRING OPTIONAL,
nonCriticalExtension SEQUENCE {} OPTIONAL
}
UE-NR-CapabilityAddXDD-Mode ::= SEQUENCE {
phy-ParametersXDD-Diff Phy-ParametersXDD-Diff OPTIONAL,
mac-ParametersXDD-Diff MAC-ParametersXDD-Diff OPTIONAL,
measAndMobParametersXDD-Diff MeasAndMobParametersXDD-Diff OPTIONAL
}
UE-NR-CapabilityAddXDD-Mode-v1530 ::= SEQUENCE {
eutra-ParametersXDD-Diff EUTRA-ParametersXDD-Diff
}
UE-NR-CapabilityAddFRX-Mode ::= SEQUENCE {
phy-ParametersFRX-Diff Phy-ParametersFRX-Diff OPTIONAL,
measAndMobParametersFRX-Diff MeasAndMobParametersFRX-Diff OPTIONAL
}
UE-NR-CapabilityAddFRX-Mode-v1540 ::= SEQUENCE {
ims-ParametersFRX-Diff IMS-ParametersFRX-Diff OPTIONAL
}
\-- TAG-UE-NR-CAPABILITY-STOP
\-- ASN1STOP
+----------------------------------------------------------------------+ | _UE-NR-Capability_ field descriptions | +======================================================================+ | **_featureSetCombinations_** | | | | A list of _FeatureSetCombination:s_ for | | _supportedBandCombinationList_ in _UE-NR-Capability_. The | | _FeatureSetDownlink:s_ and _FeatureSetUplink:s_ referred to from | | these _FeatureSetCombination:s_ are defined in the _featureSets_ | | list in _UE-NR-Capability_. | +----------------------------------------------------------------------+
+----------------------------------------------------------------------+ | _UE-NR-Capability-v1540 field descriptions_ | +======================================================================+ | **_fr1-fr2-Add-UE-NR-Capabilities_** | | | | This instance of _UE-NR-CapabilityAddFRX-Mode_ does not include any | | other fields than _csi-RS-IM-ReceptionForFeedback_ / | | _csi-RS-ProcFrameworkForSRS_ / _csi-ReportFramework_. | +----------------------------------------------------------------------+
### 6.3.4 Other information elements
#### \-- _EUTRA-AllowedMeasBandwidth_
The IE _EUTRA-AllowedMeasBandwidth is used to indicate the maximum allowed
measurement bandwidth on a carrier frequency as defined by the parameter_
Transmission Bandwidth Configuration \"N~RB~\" in TS 36.104 [33]. The _values
mbw6, mbw15, mbw25, mbw50, mbw75, mbw100 indicate_ 6, 15, 25, 50, 75 and 100
resource blocks, respectively.
**_EUTRA-AllowedMeasBandwidth_** information element
\-- ASN1START
\-- TAG-EUTRA-ALLOWEDMEASBANDWIDTH-START
EUTRA-AllowedMeasBandwidth ::= ENUMERATED {mbw6, mbw15, mbw25, mbw50, mbw75,
mbw100}
\-- TAG-EUTRA-ALLOWEDMEASBANDWIDTH-STOP
\-- ASN1STOP
#### \-- _EUTRA-MBSFN-SubframeConfigList_
The IE _EUTRA-MBSFN-SubframeConfigList_ is used to define an E-UTRA MBSFN
subframe pattern (for the purpose of NR rate matching).
_EUTRA-MBSFN-SubframeConfigList_ information element
\-- ASN1START
\-- TAG-EUTRA-MBSFN-SUBFRAMECONFIGLIST-START
EUTRA-MBSFN-SubframeConfigList ::= SEQUENCE (SIZE (1..maxMBSFN-Allocations))
OF EUTRA-MBSFN-SubframeConfig
EUTRA-MBSFN-SubframeConfig ::= SEQUENCE {
radioframeAllocationPeriod ENUMERATED {n1, n2, n4, n8, n16, n32},
radioframeAllocationOffset INTEGER (0..7),
subframeAllocation1 CHOICE {
oneFrame BIT STRING (SIZE(6)),
fourFrames BIT STRING (SIZE(24))
},
subframeAllocation2 CHOICE {
oneFrame BIT STRING (SIZE(2)),
fourFrames BIT STRING (SIZE(8))
} OPTIONAL, -- Need R
...
}
\-- TAG-EUTRA-MBSFN-SUBFRAMECONFIGLIST-STOP
\-- ASN1STOP
+----------------------------------------------------------------------+ | _EUTRA-MBSFN-SubframeConfig_ field descriptions | +======================================================================+ | **_radioframeAllocationOffset_** | | | | Field as defined in _MBSFN-SubframeConfig_ in TS 36.331 [10]. | +----------------------------------------------------------------------+ | **_radioframeAllocationPeriod_** | | | | Field as defined in _MBSFN-SubframeConfig_ in TS 36.331 [10], | | where _SFN_ refers to the SFN of the NR serving cell. | +----------------------------------------------------------------------+ | **_subframeAllocation1_** | | | | Field as defined in _MBSFN-SubframeConfig_ in TS 36.331 [10], | | where the UE assumes the duplex mode (FDD or TDD) of the NR cell for | | which the _E-UTRA-MBSFN-SubframeConfig_ is provided. | +----------------------------------------------------------------------+ | **_subframeAllocation2_** | | | | Field as defined in _MBSFN-SubframeConfig-v1430_ in TS 36.331 | | [10], where the UE assumes the duplex mode (FDD or TDD) of the NR | | cell for which the _E-UTRA-MBSFN-SubframeConfig_ is provided. | +----------------------------------------------------------------------+
#### \-- _EUTRA-MultiBandInfoList_
_The IE EUTRA-MultiBandInfoList indicates the list of frequency bands in
addition to the band represented by CarrierFreq for which cell reselection
parameters are common, and a list of additionalPmax and
additionalSpectrumEmission._
**_EUTRA-MultiBandInfoList_** information element
\-- ASN1START
\-- TAG-EUTRA-MULTIBANDINFOLIST-START
EUTRA-MultiBandInfoList ::= SEQUENCE (SIZE (1..maxMultiBands)) OF EUTRA-
MultiBandInfo
EUTRA-MultiBandInfo ::= SEQUENCE {
eutra-FreqBandIndicator FreqBandIndicatorEUTRA,
eutra-NS-PmaxList EUTRA-NS-PmaxList OPTIONAL -- Need R
}
\-- TAG-EUTRA-MULTIBANDINFOLIST-STOP
\-- ASN1STOP
#### \-- _EUTRA-NS-PmaxList_
The IE _EUTRA-NS-PmaxList_ concerns a list of _additionalPmax_ and
_additionalSpectrumEmission_ , as defined in TS 36.101 [22], table 6.2.4-1 for
UEs neither in CE nor BL UEs and TS 36.101 [22], table 6.2.4E-1 for UEs in CE
or BL UEs, for a given frequency band.
**_EUTRA-NS-PmaxList_** information element
\-- ASN1START
\-- TAG-EUTRA-NS-PMAXLIST-START
EUTRA-NS-PmaxList ::= SEQUENCE (SIZE (1..maxEUTRA-NS-Pmax)) OF EUTRA-NS-
PmaxValue
EUTRA-NS-PmaxValue ::= SEQUENCE {
additionalPmax INTEGER (-30..33) OPTIONAL, -- Need R
additionalSpectrumEmission INTEGER (1..288) OPTIONAL -- Need R
}
\-- TAG-EUTRA-NS-PMAXLIST-STOP
\-- ASN1STOP
#### \-- _EUTRA-PhysCellId_
The IE _EUTRA-PhysCellId is used to indicate the physical layer identity of
the cell, as defined in TS 36.211 [31]._
**_EUTRA-PhysCellId_** information element
\-- ASN1START
\-- TAG-EUTRA-PHYSCELLID-START
EUTRA-PhysCellId ::= INTEGER (0..503)
\-- TAG-EUTRA-PHYSCELLID-STOP
\-- ASN1STOP
#### \-- _EUTRA-PhysCellIdRange_
The IE _EUTRA-PhysCellIdRange is used to encode either a single or a range of
physical cell identities. The range is encoded by using a start value and by
indicating the number of consecutive physical cell identities (including
start) in the range. For fields comprising multiple occurrences of EUTRA-
PhysCellIdRange, NW may configure overlapping ranges of physical cell
identities._
**_EUTRA-PhysCellIdRange_** information element
\-- ASN1START
\-- TAG-EUTRA-PHYSCELLIDRANGE-START
EUTRA-PhysCellIdRange ::= SEQUENCE {
start EUTRA-PhysCellId,
range ENUMERATED {n4, n8, n12, n16, n24, n32, n48, n64, n84, n96,
n128, n168, n252, n504, spare2, spare1} OPTIONAL -- Need N
}
\-- TAG-EUTRA-PHYSCELLIDRANGE-STOP
\-- ASN1STOP
#### \-- _EUTRA-PresenceAntennaPort1_
The IE _EUTRA-PresenceAntennaPort1_ is used to indicate whether all the
neighbouring cells use Antenna Port 1. When set to _true_ , the UE may assume
that at least two cell-specific antenna ports are used in all neighbouring
cells.
**_EUTRA-PresenceAntennaPort1_** information element
\-- ASN1START
\-- TAG-EUTRA-PRESENCEANTENNAPORT1-START
EUTRA-PresenceAntennaPort1 ::= BOOLEAN
\-- TAG-EUTRA-PRESENCEANTENNAPORT1-STOP
\-- ASN1STOP
#### \-- _EUTRA-Q-OffsetRange_
The IE _EUTRA-Q-OffsetRange_ is used to indicate a cell, or frequency specific
offset to be applied when evaluating triggering conditions for measurement
reporting. The value in dB. Value _dB-24_ corresponds to -24 dB, value _dB-22_
corresponds to -22 dB and so on.
**_EUTRA-Q-OffsetRange_** information element
\-- ASN1START
\-- TAG-EUTRA-Q-OFFSETRANGE-START
EUTRA-Q-OffsetRange ::= ENUMERATED {
dB-24, dB-22, dB-20, dB-18, dB-16, dB-14,
dB-12, dB-10, dB-8, dB-6, dB-5, dB-4, dB-3,
dB-2, dB-1, dB0, dB1, dB2, dB3, dB4, dB5,
dB6, dB8, dB10, dB12, dB14, dB16, dB18,
dB20, dB22, dB24}
\-- TAG-EUTRA-Q-OFFSETRANGE-STOP
\-- ASN1STOP
#### \-- _OtherConfig_
_The IE OtherConfig contains configuration related to_ miscellaneous _other
configurations._
**_OtherConfig information element_**
\-- ASN1START
\-- TAG-OTHERCONFIG-START
OtherConfig ::= SEQUENCE {
delayBudgetReportingConfig CHOICE{
release NULL,
setup SEQUENCE{
delayBudgetReportingProhibitTimer ENUMERATED {s0, s0dot4, s0dot8, s1dot6, s3,
s6, s12, s30}
}
} OPTIONAL -- Need M
}
OtherConfig-v1540 ::= SEQUENCE {
overheatingAssistanceConfig SetupRelease {OverheatingAssistanceConfig}
OPTIONAL, -- Need M
...
}
OverheatingAssistanceConfig ::= SEQUENCE {
overheatingIndicationProhibitTimer ENUMERATED {s0, s0dot5, s1, s2, s5, s10,
s20, s30,
s60, s90, s120, s300, s600, spare3, spare2, spare1}
}
\-- TAG-OTHERCONFIG-STOP
\-- ASN1STOP
+----------------------------------------------------------------------+ | _OtherConfig field descriptions_ | +======================================================================+ | **_delayBudgetReportingProhibitTimer_** | | | | **Prohibit timer for delay budget reporting. Value in seconds. | | Value** _s0_ **means prohibit timer is set to 0 seconds, value** | | _s0dot4_ **means prohibit timer is set to 0.4 seconds, and so on.** | +----------------------------------------------------------------------+ | **_overheatingAssistanceConfig_** | | | | Configuration for the UE to report assistance information to inform | | the gNB about UE detected internal overheating. | +----------------------------------------------------------------------+ | **_overheatingIndicationProhibitTimer_** | | | | Prohibit timer for overheating assistance information reporting. | | Value in seconds. Value _s0_ means prohibit timer is set to 0 | | seconds, value _s0dot5_ means prohibit timer is set to 0.5 seconds, | | value _s1_ means prohibit timer is set to 1 second and so on. | +----------------------------------------------------------------------+
#### \-- _RRC-TransactionIdentifier_
The IE _RRC-TransactionIdentifier_ is used, together with the message type,
for the identification of an RRC procedure (transaction).
_RRC-TransactionIdentifier_ information element
\-- ASN1START
\-- TAG-RRC-TRANSACTIONIDENTIFIER-START
RRC-TransactionIdentifier ::= INTEGER (0..3)
\-- TAG-RRC-TRANSACTIONIDENTIFIER-STOP
\-- ASN1STOP
## 6.4 RRC multiplicity and type constraint values
### \-- Multiplicity and type constraint definitions
\-- ASN1START
\-- TAG-MULTIPLICITY-AND-TYPE-CONSTRAINT-DEFINITIONS-START
maxBandComb INTEGER ::= 65536 -- Maximum number of DL band combinations
maxCellBlack INTEGER ::= 16 -- Maximum number of NR blacklisted cell ranges in
SIB3, SIB4
maxCellInter INTEGER ::= 16 -- Maximum number of inter-Freq cells listed in
SIB4
maxCellIntra INTEGER ::= 16 -- Maximum number of intra-Freq cells listed in
SIB3
maxCellMeasEUTRA INTEGER ::= 32 -- Maximum number of cells in E-UTRAN
maxEARFCN INTEGER ::= 262143 -- Maximum value of E-UTRA carrier frequency
maxEUTRA-CellBlack INTEGER ::= 16 -- Maximum number of E-UTRA blacklisted
physical cell identity ranges
\-- in SIB5
maxEUTRA-NS-Pmax INTEGER ::= 8 -- Maximum number of NS and P-Max values per
band
maxMultiBands INTEGER ::= 8 -- Maximum number of additional frequency bands
that a cell belongs to
maxNARFCN INTEGER ::= 3279165 -- Maximum value of NR carrier frequency
maxNR-NS-Pmax INTEGER ::= 8 -- Maximum number of NS and P-Max values per band
maxNrofServingCells INTEGER ::= 32 -- Max number of serving cells (SpCells +
SCells)
maxNrofServingCells-1 INTEGER ::= 31 -- Max number of serving cells (SpCells +
SCells) minus 1
maxNrofAggregatedCellsPerCellGroup INTEGER ::= 16
maxNrofSCells INTEGER ::= 31 -- Max number of secondary serving cells per cell
group
maxNrofCellMeas INTEGER ::= 32 -- Maximum number of entries in each of the
cell lists in a measurement
\-- object
maxNrofSS-BlocksToAverage INTEGER ::= 16 -- Max number for the (max) number of
SS blocks to average to determine cell
\-- measurement
maxNrofCSI-RS-ResourcesToAverage INTEGER ::= 16 -- Max number for the (max)
number of CSI-RS to average to determine cell
\-- measurement
maxNrofDL-Allocations INTEGER ::= 16 -- Maximum number of PDSCH time domain
resource allocations
maxNrofSR-ConfigPerCellGroup INTEGER ::= 8 -- Maximum number of SR
configurations per cell group
maxLCG-ID INTEGER ::= 7 -- Maximum value of LCG ID
maxLC-ID INTEGER ::= 32 -- Maximum value of Logical Channel ID
maxNrofTAGs INTEGER ::= 4 -- Maximum number of Timing Advance Groups
maxNrofTAGs-1 INTEGER ::= 3 -- Maximum number of Timing Advance Groups minus 1
maxNrofBWPs INTEGER ::= 4 -- Maximum number of BWPs per serving cell
maxNrofCombIDC INTEGER ::= 128 -- Maximum number of reported MR-DC
combinations for IDC
maxNrofSymbols-1 INTEGER ::= 13 -- Maximum index identifying a symbol within a
slot (14 symbols, indexed
\-- from 0..13)
maxNrofSlots INTEGER ::= 320 -- Maximum number of slots in a 10 ms period
maxNrofSlots-1 INTEGER ::= 319 -- Maximum number of slots in a 10 ms period
minus 1
maxNrofPhysicalResourceBlocks INTEGER ::= 275 -- Maximum number of PRBs
maxNrofPhysicalResourceBlocks-1 INTEGER ::= 274 -- Maximum number of PRBs
minus 1
maxNrofPhysicalResourceBlocksPlus1 INTEGER ::= 276 -- Maximum number of PRBs
plus 1
maxNrofControlResourceSets-1 INTEGER ::= 11 -- Max number of CoReSets
configurable on a serving cell minus 1
maxCoReSetDuration INTEGER ::= 3 -- Max number of OFDM symbols in a control
resource set
maxNrofSearchSpaces-1 INTEGER ::= 39 -- Max number of Search Spaces minus 1
maxSFI-DCI-PayloadSize INTEGER ::= 128 -- Max number payload of a DCI
scrambled with SFI-RNTI
maxSFI-DCI-PayloadSize-1 INTEGER ::= 127 -- Max number payload of a DCI
scrambled with SFI-RNTI minus 1
maxINT-DCI-PayloadSize INTEGER ::= 126 -- Max number payload of a DCI
scrambled with INT-RNTI
maxINT-DCI-PayloadSize-1 INTEGER ::= 125 -- Max number payload of a DCI
scrambled with INT-RNTI minus 1
maxNrofRateMatchPatterns INTEGER ::= 4 -- Max number of rate matching patterns
that may be configured
maxNrofRateMatchPatterns-1 INTEGER ::= 3 -- Max number of rate matching
patterns that may be configured minus 1
maxNrofRateMatchPatternsPerGroup INTEGER ::= 8 -- Max number of rate matching
patterns that may be configured in one group
maxNrofCSI-ReportConfigurations INTEGER ::= 48 -- Maximum number of report
configurations
maxNrofCSI-ReportConfigurations-1 INTEGER ::= 47 -- Maximum number of report
configurations minus 1
maxNrofCSI-ResourceConfigurations INTEGER ::= 112 -- Maximum number of
resource configurations
maxNrofCSI-ResourceConfigurations-1 INTEGER ::= 111 -- Maximum number of
resource configurations minus 1
maxNrofAP-CSI-RS-ResourcesPerSet INTEGER ::= 16
maxNrOfCSI-AperiodicTriggers INTEGER ::= 128 -- Maximum number of triggers for
aperiodic CSI reporting
maxNrofReportConfigPerAperiodicTrigger INTEGER ::= 16 -- Maximum number of
report configurations per trigger state for aperiodic
\-- reporting
maxNrofNZP-CSI-RS-Resources INTEGER ::= 192 -- Maximum number of Non-Zero-
Power (NZP) CSI-RS resources
maxNrofNZP-CSI-RS-Resources-1 INTEGER ::= 191 -- Maximum number of Non-Zero-
Power (NZP) CSI-RS resources minus 1
maxNrofNZP-CSI-RS-ResourcesPerSet INTEGER ::= 64 -- Maximum number of NZP CSI-
RS resources per resource set
maxNrofNZP-CSI-RS-ResourceSets INTEGER ::= 64 -- Maximum number of NZP CSI-RS
resource sets per cell
maxNrofNZP-CSI-RS-ResourceSets-1 INTEGER ::= 63 -- Maximum number of NZP CSI-
RS resource sets per cell minus 1
maxNrofNZP-CSI-RS-ResourceSetsPerConfig INTEGER ::= 16 -- Maximum number of
resource sets per resource configuration
maxNrofNZP-CSI-RS-ResourcesPerConfig INTEGER ::= 128 -- Maximum number of
resources per resource configuration
maxNrofZP-CSI-RS-Resources INTEGER ::= 32 -- Maximum number of Zero-Power (ZP)
CSI-RS resources
maxNrofZP-CSI-RS-Resources-1 INTEGER ::= 31 -- Maximum number of Zero-Power
(ZP) CSI-RS resources minus 1
maxNrofZP-CSI-RS-ResourceSets-1 INTEGER ::= 15
maxNrofZP-CSI-RS-ResourcesPerSet INTEGER ::= 16
maxNrofZP-CSI-RS-ResourceSets INTEGER ::= 16
maxNrofCSI-IM-Resources INTEGER ::= 32 -- Maximum number of CSI-IM resources
maxNrofCSI-IM-Resources-1 INTEGER ::= 31 -- Maximum number of CSI-IM resources
minus 1
maxNrofCSI-IM-ResourcesPerSet INTEGER ::= 8 -- Maximum number of CSI-IM
resources per set
maxNrofCSI-IM-ResourceSets INTEGER ::= 64 -- Maximum number of NZP CSI-IM
resource sets per cell
maxNrofCSI-IM-ResourceSets-1 INTEGER ::= 63 -- Maximum number of NZP CSI-IM
resource sets per cell minus 1
maxNrofCSI-IM-ResourceSetsPerConfig INTEGER ::= 16 -- Maximum number of CSI IM
resource sets per resource configuration
maxNrofCSI-SSB-ResourcePerSet INTEGER ::= 64 -- Maximum number of SSB
resources in a resource set
maxNrofCSI-SSB-ResourceSets INTEGER ::= 64 -- Maximum number of CSI SSB
resource sets per cell
maxNrofCSI-SSB-ResourceSets-1 INTEGER ::= 63 -- Maximum number of CSI SSB
resource sets per cell minus 1
maxNrofCSI-SSB-ResourceSetsPerConfig INTEGER ::= 1 -- Maximum number of CSI
SSB resource sets per resource configuration
maxNrofFailureDetectionResources INTEGER ::= 10 -- Maximum number of failure
detection resources
maxNrofFailureDetectionResources-1 INTEGER ::= 9 -- Maximum number of failure
detection resources minus 1
maxNrofObjectId INTEGER ::= 64 -- Maximum number of measurement objects
maxNrofPageRec INTEGER ::= 32 -- Maximum number of page records
maxNrofPCI-Ranges INTEGER ::= 8 -- Maximum number of PCI ranges
maxPLMN INTEGER ::= 12 -- Maximum number of PLMNs broadcast and reported by UE
at establishment
maxNrofCSI-RS-ResourcesRRM INTEGER ::= 96 -- Maximum number of CSI-RS
resources for an RRM measurement object
maxNrofCSI-RS-ResourcesRRM-1 INTEGER ::= 95 -- Maximum number of CSI-RS
resources for an RRM measurement object minus 1
maxNrofMeasId INTEGER ::= 64 -- Maximum number of configured measurements
maxNrofQuantityConfig INTEGER ::= 2 -- Maximum number of quantity
configurations
maxNrofCSI-RS-CellsRRM INTEGER ::= 96 -- Maximum number of cells with CSI-RS
resources for an RRM measurement
\-- object
maxNrofSRS-ResourceSets INTEGER ::= 16 -- Maximum number of SRS resource sets
in a BWP.
maxNrofSRS-ResourceSets-1 INTEGER ::= 15 -- Maximum number of SRS resource
sets in a BWP minus 1.
maxNrofSRS-Resources INTEGER ::= 64 -- Maximum number of SRS resources.
maxNrofSRS-Resources-1 INTEGER ::= 63 -- Maximum number of SRS resources minus
1.
maxNrofSRS-ResourcesPerSet INTEGER ::= 16 -- Maximum number of SRS resources
in an SRS resource set
maxNrofSRS-TriggerStates-1 INTEGER ::= 3 -- Maximum number of SRS trigger
states minus 1, i.e., the largest code
\-- point.
maxNrofSRS-TriggerStates-2 INTEGER ::= 2 -- Maximum number of SRS trigger
states minus 2.
maxRAT-CapabilityContainers INTEGER ::= 8 -- Maximum number of interworking
RAT containers (incl NR and MRDC)
maxSimultaneousBands INTEGER ::= 32 -- Maximum number of simultaneously
aggregated bands
maxNrofSlotFormatCombinationsPerSet INTEGER ::= 512 -- Maximum number of Slot
Format Combinations in a SF-Set.
maxNrofSlotFormatCombinationsPerSet-1 INTEGER ::= 511 -- Maximum number of
Slot Format Combinations in a SF-Set minus 1.
maxNrofPUCCH-Resources INTEGER ::= 128
maxNrofPUCCH-Resources-1 INTEGER ::= 127
maxNrofPUCCH-ResourceSets INTEGER ::= 4 -- Maximum number of PUCCH Resource
Sets
maxNrofPUCCH-ResourceSets-1 INTEGER ::= 3 -- Maximum number of PUCCH Resource
Sets minus 1.
maxNrofPUCCH-ResourcesPerSet INTEGER ::= 32 -- Maximum number of PUCCH
Resources per PUCCH-ResourceSet
maxNrofPUCCH-P0-PerSet INTEGER ::= 8 -- Maximum number of P0-pucch present in
a p0-pucch set
maxNrofPUCCH-PathlossReferenceRSs INTEGER ::= 4 -- Maximum number of RSs used
as pathloss reference for PUCCH power control.
maxNrofPUCCH-PathlossReferenceRSs-1 INTEGER ::= 3 -- Maximum number of RSs
used as pathloss reference for PUCCH power
\-- control minus 1.
maxNrofP0-PUSCH-AlphaSets INTEGER ::= 30 -- Maximum number of P0-pusch-alpha-
sets (see TS 38.213 [13], clause 7.1)
maxNrofP0-PUSCH-AlphaSets-1 INTEGER ::= 29 -- Maximum number of P0-pusch-
alpha-sets minus 1 (see TS 38.213 [13], clause 7.1)
maxNrofPUSCH-PathlossReferenceRSs INTEGER ::= 4 -- Maximum number of RSs used
as pathloss reference for PUSCH power control.
maxNrofPUSCH-PathlossReferenceRSs-1 INTEGER ::= 3 -- Maximum number of RSs
used as pathloss reference for PUSCH power
\-- control minus 1.
maxNrofNAICS-Entries INTEGER ::= 8 -- Maximum number of supported NAICS
capability set
maxBands INTEGER ::= 1024 -- Maximum number of supported bands in UE
capability.
maxBandsMRDC INTEGER ::= 1280
maxBandsEUTRA INTEGER ::= 256
maxCellReport INTEGER ::= 8
maxDRB INTEGER ::= 29 -- Maximum number of DRBs (that can be added in DRB-
ToAddModList).
maxFreq INTEGER ::= 8 -- Max number of frequencies.
maxFreqIDC-MRDC INTEGER ::= 32 -- Maximum number of candidate NR frequencies
for MR-DC IDC indication
maxNrofCandidateBeams INTEGER ::= 16 -- Max number of PRACH-
ResourceDedicatedBFR in BFR config.
maxNrofPCIsPerSMTC INTEGER ::= 64 -- Maximum number of PCIs per SMTC.
maxNrofQFIs INTEGER ::= 64
maxNrOfSemiPersistentPUSCH-Triggers INTEGER ::= 64 -- Maximum number of
triggers for semi persistent reporting on PUSCH
maxNrofSR-Resources INTEGER ::= 8 -- Maximum number of SR resources per BWP in
a cell.
maxNrofSlotFormatsPerCombination INTEGER ::= 256
maxNrofSpatialRelationInfos INTEGER ::= 8
maxNrofIndexesToReport INTEGER ::= 32
maxNrofIndexesToReport2 INTEGER ::= 64
maxNrofSSBs-1 INTEGER ::= 63 -- Maximum number of SSB resources in a resource
set minus 1.
maxNrofS-NSSAI INTEGER ::= 8 -- Maximum number of S-NSSAI.
maxNrofTCI-StatesPDCCH INTEGER ::= 64
maxNrofTCI-States INTEGER ::= 128 -- Maximum number of TCI states.
maxNrofTCI-States-1 INTEGER ::= 127 -- Maximum number of TCI states minus 1.
maxNrofUL-Allocations INTEGER ::= 16 -- Maximum number of PUSCH time domain
resource allocations.
maxQFI INTEGER ::= 63
maxRA-CSIRS-Resources INTEGER ::= 96
maxRA-OccasionsPerCSIRS INTEGER ::= 64 -- Maximum number of RA occasions for
one CSI-RS
maxRA-Occasions-1 INTEGER ::= 511 -- Maximum number of RA occasions in the
system
maxRA-SSB-Resources INTEGER ::= 64
maxSCSs INTEGER ::= 5
maxSecondaryCellGroups INTEGER ::= 3
maxNrofServingCellsEUTRA INTEGER ::= 32
maxMBSFN-Allocations INTEGER ::= 8
maxNrofMultiBands INTEGER ::= 8
maxCellSFTD INTEGER ::= 3 -- Maximum number of cells for SFTD reporting
maxReportConfigId INTEGER ::= 64
maxNrofCodebooks INTEGER ::= 16 -- Maximum number of codebooks supported by
the UE
maxNrofCSI-RS-Resources INTEGER ::= 7 -- Maximum number of codebook resources
supported by the UE
maxNrofSRI-PUSCH-Mappings INTEGER ::= 16
maxNrofSRI-PUSCH-Mappings-1 INTEGER ::= 15
maxSIB INTEGER::= 32 -- Maximum number of SIBs
maxSI-Message INTEGER::= 32 -- Maximum number of SI messages
maxPO-perPF INTEGER ::= 4 -- Maximum number of paging occasion per paging
frame
maxAccessCat-1 INTEGER ::= 63 -- Maximum number of Access Categories minus 1
maxBarringInfoSet INTEGER ::= 8 -- Maximum number of access control parameter
sets
maxCellEUTRA INTEGER ::= 8 -- Maximum number of E-UTRA cells in SIB list
maxEUTRA-Carrier INTEGER ::= 8 -- Maximum number of E-UTRA carriers in SIB
list
maxPLMNIdentities INTEGER ::= 8 -- Maximum number of PLMN identities in RAN
area configurations
maxDownlinkFeatureSets INTEGER ::= 1024 -- (for NR DL) Total number of
FeatureSets (size of the pool)
maxUplinkFeatureSets INTEGER ::= 1024 -- (for NR UL) Total number of
FeatureSets (size of the pool)
maxEUTRA-DL-FeatureSets INTEGER ::= 256 -- (for E-UTRA) Total number of
FeatureSets (size of the pool)
maxEUTRA-UL-FeatureSets INTEGER ::= 256 -- (for E-UTRA) Total number of
FeatureSets (size of the pool)
maxFeatureSetsPerBand INTEGER ::= 128 -- (for NR) The number of feature sets
associated with one band.
maxPerCC-FeatureSets INTEGER ::= 1024 -- (for NR) Total number of CC-specific
FeatureSets (size of the pool)
maxFeatureSetCombinations INTEGER ::= 1024 -- (for MR-DC/NR)Total number of
Feature set combinations (size of the
\-- pool)
maxInterRAT-RSTD-Freq INTEGER ::= 3
\-- TAG-MULTIPLICITY-AND-TYPE-CONSTRAINT-DEFINITIONS-STOP
\-- ASN1STOP
### \-- End of NR-RRC-Definitions
\-- ASN1START
END
\-- ASN1STOP
## 6.5 Short Message
Short Messages can be transmitted on PDCCH using P-RNTI with or without
associated _Paging_ message using Short Message field in DCI format 1_0 (see
TS 38.212 [17], clause 7.3.1.2.1).
Table 6.5-1 defines Short Messages. Bit 1 is the most significant bit.
Table 6.5-1: Short Messages
+--------+------------------------------------------------------------+ | Bit | Short Message | +========+============================================================+ | 1 | **_systemInfoModification_** | | | | | | If set to 1: indication of a BCCH modification other than | | | SIB6, SIB7 and SIB8. | +--------+------------------------------------------------------------+ | 2 | **_etwsAndCmasIndication_** | | | | | | If set to 1: indication of an ETWS primary notification | | | and/or an ETWS secondary notification and/or a CMAS | | | notification. | +--------+------------------------------------------------------------+ | 3 -- 8 | Not used in this release of the specification, and shall | | | be ignored by UE if received. | +--------+------------------------------------------------------------+
# 7 Variables and constants
## 7.1 Timers
### 7.1.1 Timers (Informative)
+-------+-------------------+-------------------+-------------------+ | Timer | Start | Stop | At expiry | +=======+===================+===================+===================+ | T300 | Upon transmission | Upon reception of | Perform the | | | of | _RRCSetup_ or | actions as | | | * | _RRCReject_ | specified in | | | RRCSetupRequest._| message, cell | 5.3.3.7. | | | | re-selection and | | | | | upon abortion of | | | | | connection | | | | | establishment by | | | | | upper layers. | | +-------+-------------------+-------------------+-------------------+ | T301 | Upon transmission | Upon reception of | Go to RRC_IDLE | | | of |_ RR | | | | _RRCReesta | CReestablishment_ | | | | bilshmentRequest _| or_ RRCSetup _| | | | | message as well | | | | | as when the | | | | | selected cell | | | | | becomes | | | | | unsuitable | | +-------+-------------------+-------------------+-------------------+ | T302 | Upon reception of | Upon entering | Inform upper | | |_ RRCReject _while | RRC_CONNECTED or | layers about | | | performing RRC | RRC_IDLE, upon | barring | | | connection | cell re-selection | alleviation as | | | establishment or | and upon | specified in | | | resume, upon | reception of | 5.3.14.4 | | | reception of |_ RRCReject _| | | |_ RRCRelease _with | message. | | | |_ waitTime _. | | | +-------+-------------------+-------------------+-------------------+ | T304 | Upon reception of | Upon successful | For T304 of MCG, | | |_ RR | completion of | in case of the | | | CReconfiguration _| random access on | handover from NR | | | message including | the corresponding | or intra-NR | | |_ reconfi | SpCell | handover, | | | gurationWithSync _| | initiate the RRC | | | | For T304 of SCG, | re-establishment | | | | upon SCG release | procedure; In | | | | | case of handover | | | | | to NR, perform | | | | | the actions | | | | | defined in the | | | | | specifications | | | | | applicable for | | | | | the source RAT. | | | | | | | | | | For T304 of SCG, | | | | | inform network | | | | | about the | | | | | reconfiguration | | | | | with sync failure | | | | | by initiating the | | | | | SCG failure | | | | | information | | | | | procedure as | | | | | specified in | | | | | 5.7.3. | +-------+-------------------+-------------------+-------------------+ | T310 | Upon detecting | Upon receiving | If the T310 is | | | physical layer | N311 consecutive | kept in MCG: If | | | problems for the | in-sync | AS security is | | | SpCell i.e. upon | indications from | not activated: go | | | receiving N310 | lower layers for | to RRC_IDLE | | | consecutive | the SpCell, upon | else: initiate | | | out-of-sync | receiving | the connection | | | indications from | R | re-establishment | | | lower layers. | RCReconfiguration | procedure. | | | | with | | | | |_ reconfi | If the T310 is | | | | gurationWithSync _| kept in SCG, | | | | for that cell | Inform E-UTRAN/NR | | | | group, upon | about the SCG | | | | reception of | radio link | | | |_ Mobili | failure by | | | | tyFromNRCommand,_| initiating the | | | | and upon | SCG failure | | | | initiating the | information | | | | connection | procedure as | | | | re-establishment | specified in | | | | procedure. | 5.7.3. | | | | | | | | | Upon SCG release, | | | | | if the T310 is | | | | | kept in SCG. | | +-------+-------------------+-------------------+-------------------+ | T311 | Upon initiating | Upon selection of | Enter RRC_IDLE | | | the RRC | a suitable NR | | | | connection | cell or a cell | | | | re-establishment | using another | | | | procedure | RAT. | | +-------+-------------------+-------------------+-------------------+ | T319 | Upon transmission | Upon reception of | Perform the | | | of |_ RRCResume,_| actions as | | | * |_ RRCSetup, | specified in | | | RRCResumeRequest _| RRCRelease, | 5.3.13.5. | | | or | RRCRelease_ with | | | | _RR |_ suspendConfig _| | | | CResumeRequest1._ | or _RRCReject_ | | | | | message and upon | | | | | cell | | | | | re-selection. | | +-------+-------------------+-------------------+-------------------+ | T320 | Upon reception of | Upon entering | Discard the cell | | | _t320_ or upon | RRC_CONNECTED, | reselection | | | cell | upon reception of | priority | | | (re)selection to | _RRCRelease_ , | information | | | NR from another | when PLMN | provided by | | | RAT with validity | selection is | dedicated | | | time configured | performed on | signalling. | | | for dedicated | request by NAS, | | | | priorities (in | when the UE | | | | which case the | enters RRC_IDLE | | | | remaining | from | | | | validity time is | RRC_INACTIVE, or | | | | applied). | upon cell | | | | | (re)selection to | | | | | another RAT (in | | | | | which case the | | | | | timer is carried | | | | | on to the other | | | | | RAT). | | +-------+-------------------+-------------------+-------------------+ | T321 | Upon receiving | Upon acquiring | Initiate the | | | _measConfig_ | the information | measurement | | | including a | needed to set all | reporting | | | _reportConfig_ | fields of | procedure, stop | | | with the | _cgi-info_ , upon | performing the | | | _reportType_ set | receiving | related | | | to _reportCGI_ | _measConfig_ that | measurements. | | | | includes removal | | | | | of the | | | | | _reportConfig_ | | | | | with the | | | | | _reportType_ set | | | | | to _reportCGI_ | | | | | and upon | | | | | detecting that a | | | | | cell is not | | | | | broadcasting | | | | | SIB1. | | +-------+-------------------+-------------------+-------------------+ | T322 | Upon receving | Upon acquiring | Initiate the | | | _measConfig_ | the SFTD | measurement | | | including | measurement | reporting | | | _reportConfigNR_ | results, upon | procedure, stop | | | with the | receiving | performing the | | | _reportType_ set | _measConfig_ that | related | | | to _reportSFTD_ | includes removal | measurements _._ | | | and | of the | | | | _dr |_ reportConfig _| | | | x-SFTD-NeighMeas_ | with the | | | | is set to _true_. | _reportType_ set | | | | | to _reportSFTD_. | | +-------+-------------------+-------------------+-------------------+ | T325 | Upon reception of | | Stop | | | _RRCRelease_ | | deprioritisation | | | message with | | of all | | | _deprio | | frequencies or NR | | | ritisationTimer_. | | signalled by | | | | | _RRCRelease._ | +-------+-------------------+-------------------+-------------------+ | T342 | Upon transmitting | Upon initiating | No action. | | | _UEAssis | the connection | | | | tanceInformation_ | re-est | | | | message with | ablishment/resume | | | | _De | procedures, and | | | | layBudgetReport_. | upon receiving | | | | | _delayBudge | | | | | tReportingConfig_ | | | | | set to _release._ | | +-------+-------------------+-------------------+-------------------+ | T345 | Upon transmitting | Upon initiating | No action. | | | _UEAssis | the connection | | | | tanceInformation_ | re-establishment | | | | message with | procedure, upon | | | | _overh | initiating the | | | | eatingAssistance_ | connection | | | | | resumption | | | | | procedure, and | | | | | upon receiving | | | | | _overheating | | | | | AssistanceConfig_ | | | | | set to _release._ | | +-------+-------------------+-------------------+-------------------+ | T380 | Upon reception of | Upon reception of | Perform the | | | t380 in | _RRCResume_ , | actions as | | | _RRCRelease._ | _RRCSetup_ or | specified in | | | | _RRCRelease_. | 5.3.13. | +-------+-------------------+-------------------+-------------------+ | T390 | When access | Upon cell | Perform the | | | attempt is barred | (re)selection, | actions as | | | at access barring | upon entering | specified in | | | check for an | RRC_CONNECTED, | 5.3.14.4. | | | Access Category. | upon reception of | | | | The UE maintains | _RR | | | | one instance of | CReconfiguration_ | | | | this timer per | including | | | | Access Category. | _reconfig | | | | | urationWithSync_ , | | | | | upon change of | | | | | PCell while in | | | | | RRC_CONNECTED, | | | | | upon reception of | | | | | _Mobili | | | | | tyFromNRCommand_ , | | | | | or upon reception | | | | | of _RRCRelease_. | | +-------+-------------------+-------------------+-------------------+
### 7.1.2 Timer handling
When the UE applies zero value for a timer, the timer shall be started and
immediately expire unless explicitly stated otherwise.
## 7.2 Counters
+---------+------------------+------------------+------------------+ | Counter | Reset | Incremented | When reaching | | | | | max value | +=========+==================+==================+==================+ | N310 | Upon reception | Upon reception | Start timer T310 | | | of \"in-sync\" | of | | | | indication from | \"out-of-sync\" | | | | lower layers; | from lower layer | | | | | while the timer | | | | upon receiving | T310 is stopped. | | | | _RRC | | | | | Reconfiguration_ | | | | | with | | | | | _reconfig | | | | | urationWithSync_ | | | | | for that cell | | | | | group; | | | | | | | | | | upon initiating | | | | | the connection | | | | | re-establishment | | | | | procedure. | | | +---------+------------------+------------------+------------------+ | N311 | Upon reception | Upon reception | Stop the timer | | | of | of the | T310. | | | \"out-of-sync\" | \"in-sync\" from | | | | indication from | lower layer | | | | lower layers; | while the timer | | | | | T310 is running. | | | | upon receiving | | | | | _RRC | | | | | Reconfiguration_ | | | | | with | | | | | _reconfig | | | | | urationWithSync_ | | | | | for that cell | | | | | group; | | | | | | | | | | upon initiating | | | | | the connection | | | | | re-establishment | | | | | procedure. | | | +---------+------------------+------------------+------------------+
## 7.3 Constants
Constant Usage
* * *
N310 Maximum number of consecutive \"out-of-sync\" indications for the SpCell
received from lower layers N311 Maximum number of consecutive \"in-sync\"
indications for the SpCell received from lower layers
## 7.4 UE variables
NOTE: To facilitate the specification of the UE behavioural requirements, UE
variables are represented using ASN.1. Unless explicitly specified otherwise,
it is however up to UE implementation how to store the variables. The
optionality of the IEs in ASN.1 is used only to indicate that the values may
not always be available.
#### \-- _NR-UE-Variables_
This ASN.1 segment is the start of the NR UE variable definitions.
\-- ASN1START
\-- NR-UE-VARIABLES-START
NR-UE-Variables DEFINITIONS AUTOMATIC TAGS ::=
BEGIN
IMPORTS
CellIdentity,
EUTRA-PhysCellId,
MeasId,
MeasIdToAddModList,
MeasObjectToAddModList,
PhysCellId,
RNTI-Value,
ReportConfigToAddModList,
RSRP-Range,
QuantityConfig,
maxNrofCellMeas,
maxNrofMeasId
FROM NR-RRC-Definitions;
\-- NR-UE-VARIABLES-STOP
\-- ASN1STOP
#### \-- _VarPendingRNA-Update_
The UE variable _VarPendingRNA-Update_ _indicates whether there is a pending
RNA update procedure or not. The setting of this BOOLEAN variable to true
means that there is a pending RNA Update procedure._
**_VarPendingRNA-Update UE variable_**
\-- ASN1START
\-- TAG-VARPENDINGRNA-UPDATE-START
VarPendingRNA-Update ::= SEQUENCE {
pendingRNA-Update BOOLEAN OPTIONAL
}
\-- TAG-VARPENDINGRNA-UPDATE-STOP
\-- ASN1STOP
#### \-- _VarMeasConfig_
The UE variable _VarMeasConfig includes the accumulated configuration of the
measurements to be performed by the UE, covering i_ ntra-frequency, inter-
frequency and inter-RAT mobility related measurements.
**_VarMeasConfig UE variable_**
\-- ASN1START
\-- TAG-VARMEASCONFIG-START
VarMeasConfig ::= SEQUENCE {
\-- Measurement identities
measIdList MeasIdToAddModList OPTIONAL,
\-- Measurement objects
measObjectList MeasObjectToAddModList OPTIONAL,
\-- Reporting configurations
reportConfigList ReportConfigToAddModList OPTIONAL,
\-- Other parameters
quantityConfig QuantityConfig OPTIONAL,
s-MeasureConfig CHOICE {
ssb-RSRP RSRP-Range,
csi-RSRP RSRP-Range
} OPTIONAL
}
\-- TAG-VARMEASCONFIG-STOP
\-- ASN1STOP
#### \-- _VarMeasReportList_
The UE variable _VarMeasReportList_ includes information about the
measurements for which the triggering conditions have been met.
**_VarMeasReportList UE variable_**
\-- ASN1START
\-- TAG-VARMEASREPORTLIST-START
VarMeasReportList ::= SEQUENCE (SIZE (1..maxNrofMeasId)) OF VarMeasReport
VarMeasReport ::= SEQUENCE {
\-- List of measurement that have been triggered
measId MeasId,
cellsTriggeredList CellsTriggeredList OPTIONAL,
numberOfReportsSent INTEGER
}
CellsTriggeredList ::= SEQUENCE (SIZE (1..maxNrofCellMeas)) OF CHOICE {
physCellId PhysCellId,
physCellIdEUTRA EUTRA-PhysCellId
}
\-- TAG-VARMEASREPORTLIST-STOP
\-- ASN1STOP
#### \-- _VarResumeMAC-Input_
The UE variable _VarResumeMAC-Input_ specifies the input used to generate the
_resumeMAC-I_ during RRC Connection Resume procedure.
_VarResumeMAC-Input_ variable
\-- ASN1START
\-- TAG-VARRESUMEMAC-INPUT-START
VarResumeMAC-Input ::= SEQUENCE {
sourcePhysCellId PhysCellId,
targetCellIdentity CellIdentity,
source-c-RNTI RNTI-Value
}
\-- TAG-VARRESUMEMAC-INPUT-STOP
\-- ASN1STOP
+----------------------------------------------------------------------+ | **_VarResumeMAC-Input field descriptions_** | +======================================================================+ | **_targetCellIdentity_** | | | | An input variable used to calculate the _resumeMAC-I_. Set to the | | _cellIdentity_ of the first _PLMN-Identity_ included in the | | _PLMN-IdentityInfoList_ broadcasted in _SIB1_ of the target cell | | i.e. the cell the UE is trying to resume. | +----------------------------------------------------------------------+ | **_source-c-RNTI_** | | | | Set to C-RNTI that the UE had in the PCell it was connected to prior | | to suspension of the RRC connection. | +----------------------------------------------------------------------+ | **_sourcePhysCellId_** | | | | Set to the physical cell identity of the PCell the UE was connected | | to prior to suspension of the RRC connection. | +----------------------------------------------------------------------+
#### \-- _VarShortMAC-Input_
The UE variable _VarShortMAC-Input_ specifies the input used to generate the
_shortMAC-I_ during RRC Connection Reestablishment procedure.
_VarShortMAC-Input_ variable
\-- ASN1START
\-- TAG-VARSHORTMAC-INPUT-START
VarShortMAC-Input ::= SEQUENCE {
sourcePhysCellId PhysCellId,
targetCellIdentity CellIdentity,
source-c-RNTI RNTI-Value
}
\-- TAG-VARSHORTMAC-INPUT-STOP
\-- ASN1STOP
+----------------------------------------------------------------------+ | **_VarShortMAC-Input field descriptions_** | +======================================================================+ | **_targetCellIdentity_** | | | | An input variable used to calculate the _shortMAC-I_. Set to the | | _cellIdentity_ of the first _PLMN-Identity_ in the | | _PLMN-IdentityInfoList_ broadcasted in _SIB1_ of the target cell | | i.e. the cell the UE is trying to reestablish the connection. | +----------------------------------------------------------------------+ | **_source-c-RNTI_** | | | | Set to C-RNTI that the UE had in the PCell it was connected to prior | | to the reestablishment. | +----------------------------------------------------------------------+ | **_sourcePhysCellId_** | | | | Set to the physical cell identity of the PCell the UE was connected | | to prior to the reestablishment. | +----------------------------------------------------------------------+
#### \-- End of _NR-UE-Variables_
\-- ASN1START
END
\-- ASN1STOP
# 8 Protocol data unit abstract syntax
## 8.1 General
The RRC PDU contents in clause 6 and clause 10 are described using abstract
syntax notation one (ASN.1) as specified in ITU-T Rec. X.680 [6] and X.681
[7]. Transfer syntax for RRC PDUs is derived from their ASN.1 definitions by
use of Packed Encoding Rules, unaligned as specified in ITU-T Rec. X.691 [8].
The following encoding rules apply in addition to what has been specified in
X.691:
\- When a bit string value is placed in a bit-field as specified in 15.6 to
15.11 in X.691, the leading bit of the bit string value shall be placed in the
leading bit of the bit-field, and the trailing bit of the bit string value
shall be placed in the trailing bit of the bit-field;
NOTE: The terms \'leading bit\' and \'trailing bit\' are defined in ITU-T Rec.
X.680. When using the \'bstring\' notation, the leading bit of the bit string
value is on the left, and the trailing bit of the bit string value is on the
right.
\- When decoding types constrained with the ASN.1 Contents Constraint
(\"CONTAINING\"), automatic decoding of the contained type should not be
performed because errors in the decoding of the contained type should not
cause the decoding of the entire RRC message PDU to fail. It is recommended
that the decoder first decodes the outer PDU type that contains the OCTET
STRING or BIT STRING with the Contents Constraint, and then decodes the
contained type that is nested within the OCTET STRING or BIT STRING as a
separate step;
\- When decoding a) RRC message PDUs, b) BIT STRING constrained with a
Contents Constraint, or c) OCTET STRING constrained with a Contents
Constraint, PER decoders are required to never report an error if there are
extraneous zero or non-zero bits at the end of the encoded RRC message PDU,
BIT STRING or OCTET STRING.
## 8.2 Structure of encoded RRC messages
An RRC PDU, which is the bit string that is exchanged between peer
entities/across the radio interface contains the basic production as defined
in X.691.
RRC PDUs shall be mapped to and from PDCP SDUs (in case of DCCH) or RLC SDUs
(in case of PCCH, BCCH or CCCH) upon transmission and reception as follows:
\- when delivering an RRC PDU as an PDCP SDU to the PDCP layer for
transmission, the first bit of the RRC PDU shall be represented as the first
bit in the PDCP SDU and onwards; and
\- when delivering an RRC PDU as an RLC SDU to the RLC layer for transmission,
the first bit of the RRC PDU shall be represented as the first bit in the RLC
SDU and onwards; and
\- upon reception of an PDCP SDU from the PDCP layer, the first bit of the
PDCP SDU shall represent the first bit of the RRC PDU and onwards; and
\- upon reception of an RLC SDU from the RLC layer, the first bit of the RLC
SDU shall represent the first bit of the RRC PDU and onwards.
## 8.3 Basic production
The \'basic production\' is obtained by applying UNALIGNED PER to the abstract
syntax value (the ASN.1 description) as specified in X.691. It always contains
a multiple of 8 bits.
## 8.4 Extension
The following rules apply with respect to the use of protocol extensions:
\- A transmitter compliant with this version of the specification shall,
unless explicitly indicated otherwise on a PDU type basis, set the extension
part empty. Transmitters compliant with a later version may send non-empty
extensions;
\- A transmitter compliant with this version of the specification shall set
spare bits to zero.
## 8.5 Padding
If the encoded RRC message does not fill a transport block, the RRC layer
shall add padding bits. This applies to PCCH and BCCH.
Padding bits shall be set to 0 and the number of padding bits is a multiple of
8.
Figure 8.5-1: RRC level padding
# 9 Specified and default radio configurations
Specified and default configurations are configurations of which the details
are specified in the standard. Specified configurations are fixed while
default configurations can be modified using dedicated signalling. The default
value for the parameters not listed in following clauses shall be set such as
the corresponding features are not configured, i.e. _release_ or _false_
unless explicitly stated otherwise.
NOTE: The UE applies the default values specified in the field description of
ASN.1 parameters only when the parent IE is present. Hence, the UE does not
apply all default values in field descriptions when it applies the \"default
radio configuration\" in accordance with this clause.
## 9.1 Specified configurations
### 9.1.1 Logical channel configurations
#### 9.1.1.1 BCCH configuration
Parameters
* * *
Name Value Semantics description Ver SDAP configuration Not used  
PDCP configuration Not used  
RLC configuration TM  
Logical channel configuration Not used
* * *
NOTE: RRC will perform padding, if required due to the granularity of the TF
signalling, as defined in 8.5.
#### 9.1.1.2 CCCH configuration
Parameters
* * *
Name Value Semantics description Ver SDAP configuration Not used  
PDCP configuration Not used  
RLC configuration TM  
Logical channel configuration  
_> priority_ 1 Highest priority  
_> prioritisedBitRate_ infinity  
_> bucketSizeDuration_ ms1000  
_> logicalChannelGroup_ 0
* * *
#### 9.1.1.3 PCCH configuration
Parameters
* * *
Name Value Semantics description Ver SDAP configuration Not used  
PDCP configuration Not used  
RLC configuration TM  
Logical channel configuration Not used
* * *
NOTE: RRC will perform padding, if required due to the granularity of the TF
signalling, as defined in 8.5.
### 9.1.2 Void
## 9.2 Default radio configurations
The following clauses only list default values for REL-15 parameters included
in protocol version v15.3.0. For all fields introduced in a later protocol
version, the default value is \"released\" or \"false\" unless explicitly
specified otherwise. If the UE is to apply default configuration while it is
configured with some critically extended fields, the UE shall apply the
original version of those fields with only default values.
NOTE 1: In general, the signalling should preferably support a \"release\"
option for fields introduced after v15.3.0. The \"value not applicable\"
should be used restrictively, mainly limited to for fields which value is
relevant only if another field is set to a value other than its default.
NOTE 2: For parameters in _ServingCellConfig_ , the default values are
specified in the corresponding specification.
### 9.2.1 Default SRB configurations
Parameters
+--------------------------+----------+-----------------------+------+---+---+ | Name | Value | Semantics description | Ver | | | +==========================+==========+=======================+======+===+===+ | | SRB1 | SRB2 | SRB3 | | | +--------------------------+----------+-----------------------+------+---+---+ | _PDCP-Config_ | infinity | | | | | | | | | | | | | _> t-Reordering_ | | | | | | +--------------------------+----------+-----------------------+------+---+---+ | _RLC-Config_ CHOICE | Am | | | | | +--------------------------+----------+-----------------------+------+---+---+ | _ul-AM-RLC_ | size12 | | | | | | | | | | | | | _> sn-FieldLength_ | ms45 | | | | | | | | | | | | | _> t-PollRetransmit_ | infinity | | | | | | | | | | | | | _> pollPDU_ | infinity | | | | | | | | | | | | | _> pollByte_ | t8 | | | | | | | | | | | | | _> maxRetxThreshold_ | | | | | | +--------------------------+----------+-----------------------+------+---+---+ | _dl-AM-RLC_ | size12 | | | | | | | | | | | | | _> sn-FieldLength_ | ms35 | | | | | | | | | | | | | _> t-Reassembly_ | ms0 | | | | | | | | | | | | | _> t-StatusProhibit_ | | | | | | +--------------------------+----------+-----------------------+------+---+---+ | _logicalChannelIdentity_ | 1 | 2 | 3 | | | +--------------------------+----------+-----------------------+------+---+---+ | _LogicalChannelConfig_ | | | | | | +--------------------------+----------+-----------------------+------+---+---+ | _> priority_ | 1 | 3 | 1 | | | +--------------------------+----------+-----------------------+------+---+---+ | _> prioritisedBitRate_ | infinity | | | | | +--------------------------+----------+-----------------------+------+---+---+ | _> logicalChannelGroup_ | 0 | | | | | +--------------------------+----------+-----------------------+------+---+---+
### 9.2.2 Default MAC Cell Group configuration
Parameters
* * *
Name Value Semantics description Ver MAC Cell Group configuration  
_bsr-Config_  
_> periodicBSR-Timer_ sf10  
_> retxBSR-Timer_ sf80  
_phr-Config_  
_> phr-PeriodicTimer_ sf10  
_> phr-ProhibitTimer_ sf10  
_> phr-Tx-PowerFactorChange_ dB1
* * *
### 9.2.3 Default values timers and constants
Parameters
* * *
Name Value Semantics description Ver t310 ms1000  
n310 n1  
t311 ms30000  
n311 n1
* * *
# 10 Generic error handling
## 10.1 General
The generic error handling defined in the subsequent clauses applies unless
explicitly specified otherwise e.g. within the procedure specific error
handling.
The UE shall consider a value as not comprehended when it is set:
\- to an extended value that is not defined in the version of the transfer
syntax supported by the UE;
\- to a spare or reserved value unless the specification defines specific
behaviour that the UE shall apply upon receiving the concerned spare/reserved
value.
The UE shall consider a field as not comprehended when it is defined:
\- as spare or reserved unless the specification defines specific behaviour
that the UE shall apply upon receiving the concerned spare/reserved field.
## 10.2 ASN.1 violation or encoding error
The UE shall:
1> when receiving an RRC message on the BCCH, CCCH or PCCH for which the
abstract syntax is invalid [6]:
2> ignore the message.
NOTE: This clause applies in case one or more fields is set to a value, other
than a spare, reserved or extended value, not defined in this version of the
transfer syntax. E.g. in the case the UE receives value 12 for a field defined
as INTEGER (1..11). In cases like this, it may not be possible to reliably
detect which field is in the error hence the error handling is at the message
level.
## 10.3 Field set to a not comprehended value
The UE shall, when receiving an RRC message on any logical channel:
1> if the message includes a field that has a value that the UE does not
comprehend:
2> if a default value is defined for this field:
3> treat the message while using the default value defined for this field;
2> else if the concerned field is optional:
3> treat the message as if the field were absent and in accordance with the
need code for absence of the concerned field;
2> else:
3> treat the message as if the field were absent and in accordance with clause
10.4.
## 10.4 Mandatory field missing
The UE shall:
1> if the message includes a field that is mandatory to include in the message
(e.g. because conditions for mandatory presence are fulfilled) and that field
is absent or treated as absent:
2> if the RRC message was not received on DCCH or CCCH:
3> if the field concerns a (sub-field of) an entry of a list (i.e. a SEQUENCE
OF):
4> treat the list as if the entry including the missing or not comprehended
field was absent;
3> else if the field concerns a sub-field of another field, referred to as the
\'parent\' field i.e. the field that is one nesting level up compared to the
erroneous field:
4> consider the \'parent\' field to be set to a not comprehended value;
4> apply the generic error handling to the subsequent \'parent\' field(s),
until reaching the top nesting level i.e. the message level;
3> else (field at message level):
4> ignore the message.
NOTE 1: The error handling defined in these clauses implies that the UE
ignores a message with the message type or version set to a not comprehended
value.
NOTE 2: The nested error handling for messages received on logical channels
other than DCCH and CCCH applies for errors in extensions also, even for
errors that can be regarded as invalid network operation e.g. the network not
observing conditional presence.
NOTE 3: UE behaviour on receipt of an RRC message on DCCH or CCCH that does
not include a field that is mandatory (e.g. because conditions for mandatory
presence are fulfilled) is unspecified.
The following ASN.1 further clarifies the levels applicable in case of nested
error handling for errors in extension fields.
\-- /example/ ASN1START
\-- Example with extension addition group
ItemInfoList ::= SEQUENCE (SIZE (1..max)) OFItemInfo
ItemInfo ::= SEQUENCE {
itemIdentity INTEGER (1..max),
field1 Field1,
field2 Field2 OPTIONAL, -- Need N
...
[[
field3-r9 Field3-r9 OPTIONAL, -- Cond Cond1
field4-r9 Field4-r9 OPTIONAL -- Need N
]]
}
\-- Example with traditional non-critical extension (empty sequence)
BroadcastInfoBlock1 ::= SEQUENCE {
itemIdentity INTEGER (1..max),
field1 Field1,
field2 Field2 OPTIONAL, -- Need N
nonCriticalExtension BroadcastInfoBlock1-v940-IEs OPTIONAL
}
BroadcastInfoBlock1-v940-IEs::= SEQUENCE {
field3-r9 Field3-r9 OPTIONAL, -- Cond Cond1
field4-r9 Field4-r9 OPTIONAL, -- Need N
nonCriticalExtension SEQUENCE {} OPTIONAL -- Need S
}
\-- ASN1STOP
The UE shall, apply the following principles regarding the levels applicable
in case of nested error handling:
\- an extension additon group is not regarded as a level on its own. E.g. in
the ASN.1 extract in the previous, a error regarding the conditionality of
_field3_ would result in the entire itemInfo entry to be ignored (rather than
just the extension addition group containing _field3_ and _field4_);
\- a traditional _nonCriticalExtension_ is not regarded as a level on its own.
E.g. in the ASN.1 extract in the previous, an error regarding the
conditionality of _field3_ would result in the entire _BroadcastInfoBlock1_ to
be ignored (rather than just the non-critical extension containing _field3_
and _field4_).
## 10.5 Not comprehended field
The UE shall, when receiving an RRC message on any logical channel:
1> if the message includes a field that the UE does not comprehend:
2> treat the rest of the message as if the field was absent.
NOTE: This clause does not apply to the case of an extension to the value
range of a field. Such cases are addressed instead by the requirements in
clause 10.3.
# 11 Radio information related interactions between network nodes
## 11.1 General
This clause specifies RRC messages that are transferred between network nodes.
These RRC messages may be transferred to or from the UE via another Radio
Access Technology. Consequently, these messages have similar characteristics
as the RRC messages that are transferred across the NR radio interface, i.e.
the same transfer syntax and protocol extension mechanisms apply.
## 11.2 Inter-node RRC messages
### 11.2.1 General
This clause specifies RRC messages that are sent either across the X2-, Xn- or
the NG-interface, either to or from the gNB, i.e. a single \'logical channel\'
is used for all RRC messages transferred across network nodes. The information
could originate from or be destined for another RAT.
\-- ASN1START
\-- TAG-NR-INTER-NODE-DEFINITIONS-START
NR-InterNodeDefinitions DEFINITIONS AUTOMATIC TAGS ::=
BEGIN
IMPORTS
ARFCN-ValueNR,
ARFCN-ValueEUTRA,
CellIdentity,
CGI-InfoEUTRA,
CGI-InfoNR,
CSI-RS-Index,
DRX-Config,
EUTRA-PhysCellId,
FreqBandIndicatorNR,
GapConfig,
maxBandComb,
maxBands,
maxCellSFTD,
maxFeatureSetsPerBand,
maxFreqIDC-MRDC,
maxNrofCombIDC,
maxNrofSCells,
maxNrofServingCells,
maxNrofServingCells-1,
maxNrofServingCellsEUTRA,
maxNrofIndexesToReport,
maxSimultaneousBands,
MeasQuantityResults,
MeasResultCellListSFTD-EUTRA,
MeasResultCellListSFTD-NR,
MeasResultList2NR,
MeasResultSCG-Failure,
MeasResultServFreqListEUTRA-SCG,
P-Max,
PhysCellId,
RadioBearerConfig,
RAN-NotificationAreaInfo,
RRCReconfiguration,
ServCellIndex,
SetupRelease,
SSB-Index,
SSB-MTC,
SSB-ToMeasure,
SS-RSSI-Measurement,
ShortMAC-I,
SubcarrierSpacing,
UEAssistanceInformation,
UE-CapabilityRAT-ContainerList
FROM NR-RRC-Definitions;
\-- TAG-NR-INTER-NODE-DEFINITIONS-STOP
\-- ASN1STOP
### 11.2.2 Message definitions
#### \-- _HandoverCommand_
This message is used to transfer the handover command as generated by the
target gNB.
Direction: target gNB to source gNB/source RAN.
_HandoverCommand_ message
\-- ASN1START
\-- TAG-HANDOVER-COMMAND-START
HandoverCommand ::= SEQUENCE {
criticalExtensions CHOICE {
c1 CHOICE{
handoverCommand HandoverCommand-IEs,
spare3 NULL, spare2 NULL, spare1 NULL
},
criticalExtensionsFuture SEQUENCE {}
}
}
HandoverCommand-IEs ::= SEQUENCE {
handoverCommandMessage OCTET STRING (CONTAINING RRCReconfiguration),
nonCriticalExtension SEQUENCE {} OPTIONAL
}
\-- TAG-HANDOVER-COMMAND-STOP
\-- ASN1STOP
+----------------------------------------------------------------------+ | _HandoverCommand_ field descriptions | +======================================================================+ | **_handoverCommandMessage_** | | | | Contains the _RRCReconfiguration_ message used to perform handover | | within NR or handover to NR, as generated (entirely) by the target | | gNB. | +----------------------------------------------------------------------+
#### \-- _HandoverPreparationInformation_
This message is used to transfer the NR RRC information used by the target gNB
during handover preparation or UE context retrieval, e.g. in case of resume or
re-establishment, including UE capability information. This message is also
used for transferring the information between the CU and DU.
Direction: source gNB/source RAN to target gNB or CU to DU.
_HandoverPreparationInformation_ message
\-- ASN1START
\-- TAG-HANDOVER-PREPARATION-INFORMATION-START
HandoverPreparationInformation ::= SEQUENCE {
criticalExtensions CHOICE {
c1 CHOICE{
handoverPreparationInformation HandoverPreparationInformation-IEs,
spare3 NULL, spare2 NULL, spare1 NULL
},
criticalExtensionsFuture SEQUENCE {}
}
}
HandoverPreparationInformation-IEs ::= SEQUENCE {
ue-CapabilityRAT-List UE-CapabilityRAT-ContainerList,
sourceConfig AS-Config OPTIONAL, -- Cond HO
rrm-Config RRM-Config OPTIONAL,
as-Context AS-Context OPTIONAL,
nonCriticalExtension SEQUENCE {} OPTIONAL
}
AS-Config ::= SEQUENCE {
rrcReconfiguration OCTET STRING (CONTAINING RRCReconfiguration),
...,
[[
sourceRB-SN-Config OCTET STRING (CONTAINING RadioBearerConfig) OPTIONAL,
sourceSCG-NR-Config OCTET STRING (CONTAINING RRCReconfiguration) OPTIONAL,
sourceSCG-EUTRA-Config OCTET STRING OPTIONAL
]],
[[
sourceSCG-Configured ENUMERATED {true} OPTIONAL
]]
}
AS-Context ::= SEQUENCE {
reestablishmentInfo ReestablishmentInfo OPTIONAL,
configRestrictInfo ConfigRestrictInfoSCG OPTIONAL,
...,
[[ ran-NotificationAreaInfo RAN-NotificationAreaInfo OPTIONAL
]],
[[ ueAssistanceInformation OCTET STRING (CONTAINING UEAssistanceInformation)
OPTIONAL -- Cond HO2
]],
[[
selectedBandCombinationSN BandCombinationInfoSN OPTIONAL
]]
}
ReestablishmentInfo ::= SEQUENCE {
sourcePhysCellId PhysCellId,
targetCellShortMAC-I ShortMAC-I,
additionalReestabInfoList ReestabNCellInfoList OPTIONAL
}
ReestabNCellInfoList ::= SEQUENCE ( SIZE (1..maxCellPrep) ) OF
ReestabNCellInfo
ReestabNCellInfo::= SEQUENCE{
cellIdentity CellIdentity,
key-gNodeB-Star BIT STRING (SIZE (256)),
shortMAC-I ShortMAC-I
}
RRM-Config ::= SEQUENCE {
ue-InactiveTime ENUMERATED {
s1, s2, s3, s5, s7, s10, s15, s20,
s25, s30, s40, s50, min1, min1s20, min1s40,
min2, min2s30, min3, min3s30, min4, min5, min6,
min7, min8, min9, min10, min12, min14, min17, min20,
min24, min28, min33, min38, min44, min50, hr1,
hr1min30, hr2, hr2min30, hr3, hr3min30, hr4, hr5, hr6,
hr8, hr10, hr13, hr16, hr20, day1, day1hr12, day2,
day2hr12, day3, day4, day5, day7, day10, day14, day19,
day24, day30, dayMoreThan30} OPTIONAL,
candidateCellInfoList MeasResultList2NR OPTIONAL,
...,
[[
candidateCellInfoListSN-EUTRA MeasResultServFreqListEUTRA-SCG OPTIONAL
]]
}
\-- TAG-HANDOVER-PREPARATION-INFORMATION-STOP
\-- ASN1STOP
+----------------------------------------------------------------------+ | _HandoverPreparationInformation_ field descriptions | +======================================================================+ | **_as-Context_** | | | | Local RAN context required by the target gNB or DU. | +----------------------------------------------------------------------+ | **_rrm-Config_** | | | | Local RAN context used mainly for RRM purposes. | +----------------------------------------------------------------------+ | **_sourceConfig_** | | | | The radio resource configuration as used in the source cell. | +----------------------------------------------------------------------+ | **_ue-CapabilityRAT-List_** | | | | The UE radio access related capabilities concerning RATs supported | | by the UE. A gNB that retrieves MRDC related capability containers | | ensures that the set of included MRDC containers is consistent | | w.r.t. the feature set related information. | +----------------------------------------------------------------------+ | **_ue-InactiveTime_** | | | | Duration while UE has not received or transmitted any user data. | | Thus the timer is still running in case e.g., UE measures the | | neighbour cells for the HO purpose. Value _s1_ corresponds to 1 | | second, _s2_ corresponds to 2 seconds and so on. Value _min1_ | | corresponds to 1 minute, value _min1s20_ corresponds to 1 minute and | | 20 seconds, value _min1s40_ corresponds to 1 minute and 40 seconds | | and so on. Value _hr1_ corresponds to 1 hour, _hr1min30_ corresponds | | to 1 hour and 30 minutes and so on. | +----------------------------------------------------------------------+
+----------------------------------------------------------------------+ | _AS-Config_ field descriptions | +======================================================================+ | **_rrcReconfiguration_** | | | | Contains the _RRCReconfiguration_ configuration as generated | | entirely by the MN. | +----------------------------------------------------------------------+ | **_sourceRB-SN-Config_** | | | | Contains the IE _RadioBearerConfig_ as generated entirely by the SN. | | This field is only used when the UE is configured with SN terminated | | RB(s). | +----------------------------------------------------------------------+ | **_sourceSCG-Configured_** | | | | Value _true_ indicates that the UE is configured with NR or EUTRA | | SCG in source configuration. The field is only used in NR-DC and | | NE-DC and is included only if the fields _sourceSCG-NR-Config_ and | | _sourceSCG-EUTRA-Config_ are absent. | +----------------------------------------------------------------------+ | **_sourceSCG-EUTRA-Config_** | | | | Contains the current dedicated SCG configuration in | | _RRCConnectionReconfiguration_ message as specified in TS 36.331 | | [10] and generated entirely by the SN. In this version of the | | specification, the E-UTRA _RRCConnectionReconfiguration_ message can | | only include the field _scg-Configuration_ . This field is only used | | in NE-DC. | +----------------------------------------------------------------------+ | **_sourceSCG-NR-Config_** | | | | Contains the current dedicated SCG configuration in | | _RRCReconfiguration_ message as generated entirely by the SN. In | | this version of the specification, the _RRCReconfiguration_ message | | can only include fields _secondaryCellGroup_ and _measConfig_. This | | field is only used in NR-DC. | +----------------------------------------------------------------------+
+----------------------------------------------------------------------+ | _AS-Context_ field descriptions | +======================================================================+ | **_selectedBandCombinationSN_** | | | | Indicates the band combination selected by SN in (NG)EN-DC, NE-DC, | | and NR-DC. | +----------------------------------------------------------------------+ | **_ueAssistanceInformation_** | | | | Includes for each UE assistance feature the information last | | reported by the UE, if any. | +----------------------------------------------------------------------+
+----------------------------------------------------------------------+ | _RRM-Config_ field descriptions | +======================================================================+ | **_candidateCellInfoList_** | | | | A list of the best cells on each frequency for which measurement | | information was available | +----------------------------------------------------------------------+ | **_candidateCellInfoListSN-EUTRA_** | | | | A list of EUTRA cells including serving cells and best neighbour | | cells on each serving frequency, for which measurement results were | | available. This field is only used in NE-DC. | +----------------------------------------------------------------------+
Conditional Presence Explanation
* * *
_HO_ The field is mandatory present in case of handover within NR or UE
context retrieval, e.g. in case of resume or re-establishment. The field is
optionally present in case of handover from E-UTRA/5GC. Otherwise the field is
absent. _HO2_ The field is optionally present in case of handover within NR;
otherwise the field is absent.
NOTE 1: The following table indicates per source RAT whether RAT capabilities
are included or not.
Source RAT NR capabilites E-UTRA capabilities MR-DC capabilities
* * *
NR Included May be included May be included E-UTRAN Included May be included
May be included
NOTE 2: The following table indicates, in case of inter-RAT handover from
E-UTRA, which additional IEs are included or not:
Source system sourceConfig rrm-Config as-Context
* * *
E-UTRA/EPC Not included May be included Not included E-UTRA/5GC May be
included, but only _radioBearerConfig_ is included in the
_RRCReconfiguration_. May be included Not included
#### \-- _CG-Config_
This message is used to transfer the SCG radio configuration as generated by
the SgNB or SeNB. It can also be used by a CU to request a DU to perform
certain actions, e.g. to request the DU to perform a new lower layer
configuration.
Direction: Secondary gNB or eNB to master gNB or eNB, alternatively CU to DU.
_CG-Config_ message
\-- ASN1START
\-- TAG-CG-CONFIG-START
CG-Config ::= SEQUENCE {
criticalExtensions CHOICE {
c1 CHOICE{
cg-Config CG-Config-IEs,
spare3 NULL, spare2 NULL, spare1 NULL
},
criticalExtensionsFuture SEQUENCE {}
}
}
CG-Config-IEs ::= SEQUENCE {
scg-CellGroupConfig OCTET STRING (CONTAINING RRCReconfiguration) OPTIONAL,
scg-RB-Config OCTET STRING (CONTAINING RadioBearerConfig) OPTIONAL,
configRestrictModReq ConfigRestrictModReqSCG OPTIONAL,
drx-InfoSCG DRX-Info OPTIONAL,
candidateCellInfoListSN OCTET STRING (CONTAINING MeasResultList2NR) OPTIONAL,
measConfigSN MeasConfigSN OPTIONAL,
selectedBandCombination BandCombinationInfoSN OPTIONAL,
fr-InfoListSCG FR-InfoList OPTIONAL,
candidateServingFreqListNR CandidateServingFreqListNR OPTIONAL,
nonCriticalExtension CG-Config-v1540-IEs OPTIONAL
}
CG-Config-v1540-IEs ::= SEQUENCE {
pSCellFrequency ARFCN-ValueNR OPTIONAL,
reportCGI-RequestNR SEQUENCE {
requestedCellInfo SEQUENCE {
ssbFrequency ARFCN-ValueNR,
cellForWhichToReportCGI PhysCellId
} OPTIONAL
} OPTIONAL,
ph-InfoSCG PH-TypeListSCG OPTIONAL,
nonCriticalExtension CG-Config-v1560-IEs OPTIONAL
}
CG-Config-v1560-IEs ::= SEQUENCE {
pSCellFrequencyEUTRA ARFCN-ValueEUTRA OPTIONAL,
scg-CellGroupConfigEUTRA OCTET STRING OPTIONAL,
candidateCellInfoListSN-EUTRA OCTET STRING OPTIONAL,
candidateServingFreqListEUTRA CandidateServingFreqListEUTRA OPTIONAL,
needForGaps ENUMERATED {true} OPTIONAL,
drx-ConfigSCG DRX-Config OPTIONAL,
reportCGI-RequestEUTRA SEQUENCE {
requestedCellInfoEUTRA SEQUENCE {
eutraFrequency ARFCN-ValueEUTRA,
cellForWhichToReportCGI-EUTRA EUTRA-PhysCellId
} OPTIONAL
} OPTIONAL,
nonCriticalExtension CG-Config-v1590-IEs OPTIONAL
}
CG-Config-v1590-IEs ::= SEQUENCE {
scellFrequenciesSN-NR SEQUENCE (SIZE (1.. maxNrofServingCells-1)) OF ARFCN-
ValueNR OPTIONAL,
scellFrequenciesSN-EUTRA SEQUENCE (SIZE (1.. maxNrofServingCells-1)) OF ARFCN-
ValueEUTRA OPTIONAL,
nonCriticalExtension SEQUENCE {} OPTIONAL
}
PH-TypeListSCG ::= SEQUENCE (SIZE (1..maxNrofServingCells)) OF PH-InfoSCG
PH-InfoSCG ::= SEQUENCE {
servCellIndex ServCellIndex,
ph-Uplink PH-UplinkCarrierSCG,
ph-SupplementaryUplink PH-UplinkCarrierSCG OPTIONAL,
...
}
PH-UplinkCarrierSCG ::= SEQUENCE{
ph-Type1or3 ENUMERATED {type1, type3},
...
}
MeasConfigSN ::= SEQUENCE {
measuredFrequenciesSN SEQUENCE (SIZE (1..maxMeasFreqsSN)) OF NR-FreqInfo
OPTIONAL,
...
}
NR-FreqInfo ::= SEQUENCE {
measuredFrequency ARFCN-ValueNR OPTIONAL,
...
}
ConfigRestrictModReqSCG ::= SEQUENCE {
requestedBC-MRDC BandCombinationInfoSN OPTIONAL,
requestedP-MaxFR1 P-Max OPTIONAL,
...,
[[
requestedPDCCH-BlindDetectionSCG INTEGER (1..15) OPTIONAL,
requestedP-MaxEUTRA P-Max OPTIONAL
]]
}
BandCombinationIndex ::= INTEGER (1..maxBandComb)
BandCombinationInfoSN ::= SEQUENCE {
bandCombinationIndex BandCombinationIndex,
requestedFeatureSets FeatureSetEntryIndex
}
FR-InfoList ::= SEQUENCE (SIZE (1..maxNrofServingCells-1)) OF FR-Info
FR-Info ::= SEQUENCE {
servCellIndex ServCellIndex,
fr-Type ENUMERATED {fr1, fr2}
}
CandidateServingFreqListNR ::= SEQUENCE (SIZE (1.. maxFreqIDC-MRDC)) OF ARFCN-
ValueNR
CandidateServingFreqListEUTRA ::= SEQUENCE (SIZE (1.. maxFreqIDC-MRDC)) OF
ARFCN-ValueEUTRA
\-- TAG-CG-CONFIG-STOP
\-- ASN1STOP
+----------------------------------------------------------------------+ | _CG-Config_ field descriptions | +======================================================================+ | **_candidateCellInfoListSN_** | | | | Contains information regarding cells that the source secondary node | | suggests the target secondary gNB to consider configuring. | +----------------------------------------------------------------------+ | **_candidateCellInfoListSN-EUTRA_** | | | | Includes the _MeasResultList3EUTRA_ as specified in TS 36.331 | | [10]. Contains information regarding cells that the source | | secondary node suggests the target secondary eNB to consider | | configuring. This field is only used in NE-DC. | +----------------------------------------------------------------------+ | **_candidateServingFreqListNR, candidateServingFreqListEUTRA_** | | | | Indicates frequencies of candidate serving cells for In-Device | | Co-existence Indication (see TS 36.331 [10]). | +----------------------------------------------------------------------+ | **_configRestrictModReq_** | | | | Used by SN to request changes to SCG configuration restrictions | | previously set by MN to ensure UE capabilities are respected. E.g. | | can be used to request configuring an NR band combination whose use | | MN has previously forbidden. SN only includes this field in | | SN-initiated procedures. | +----------------------------------------------------------------------+ | **_drx-ConfigSCG_** | | | | This field contains the complete DRX configuration of the SCG. This | | field is only used in NR-DC. | +----------------------------------------------------------------------+ | **_drx-InfoSCG_** | | | | This field contains the DRX long and short cycle configuration of | | the SCG. This field is used in (NG)EN-DC and NE-DC. | +----------------------------------------------------------------------+ | **_fr-InfoListSCG_** | | | | Contains information of FR information of serving cells that include | | PScell and SCells configured in SCG. | +----------------------------------------------------------------------+ | **_measuredFrequenciesSN_** | | | | Used by SN to indicate a list of frequencies measured by the UE. | +----------------------------------------------------------------------+ | **_needForGaps_** | | | | **_In NE-DC, indicates wheter the SN requests gNB to configure | | measurements gaps._** | +----------------------------------------------------------------------+ | **_ph-InfoSCG_** | | | | Power headroom information in SCG that is needed in the reception of | | PHR MAC CE of MCG | +----------------------------------------------------------------------+ | **_ph-SupplementaryUplink_** | | | | Power headroom information for supplementary uplink. In the case of | | **_(NG)_** EN-DC **_and NR-DC_** , this field is only present when two | | UL carriers are configued for a serving cell and one UL carrier | | reports type1 PH while the other reports type 3 PH. | +----------------------------------------------------------------------+ | **_ph-Type1or3_** | | | | Type of power headroom for a certain serving cell in SCG (PSCell and | | activated SCells). Value **_type1_** refers to type 1 power | | headroom, value **_type3_** refers to type 3 power headroom. (See TS | | 38.321 [3]). | +----------------------------------------------------------------------+ | **_ph-Uplink_** | | | | Power headroom information for uplink. | +----------------------------------------------------------------------+ | **_pSCellFrequency, pSCellFrequencyEUTRA_** | | | | Indicates the frequency of PSCell in NR (i.e., _pSCellFrequency_) or | | E-UTRA (i.e., _pSCellFrequencyEUTRA_). In this version of the | | specification, _pSCellFrequency_ is not used in NE-DC whereas | | _pSCellFrequencyEUTRA_ is only used in NE-DC. | +----------------------------------------------------------------------+ | **_reportCGI-RequestNR, reportCGI-RequestEUTRA_** | | | | Used by SN to indicate to MN about configuring _reportCGI_ | | procedure. The request may optionally contain information about the | | cell for which SN intends to configure _reportCGI_ procedure. In | | this version of the specification, the _reportCGI-RequestNR_ is used | | in (NG)EN-DC and NR-DC whereas _reportCGI-RequestEUTRA_ is used only | | for NE-DC. | +----------------------------------------------------------------------+ | **_requestedBC-MRDC_** | | | | Used to request configuring a band combination and corresponding | | feature sets which are forbidden to use by MN (i.e. outside of the | | _allowedBC-ListMRDC_) to allow re-negotiation of the UE capabilities | | for SCG configuration. | +----------------------------------------------------------------------+ | **_requestedPDCCH-BlindDetectionSCG_** | | | | Requested value of the reference number of cells for PDCCH blind | | detection allowed to be configured for the SCG. | +----------------------------------------------------------------------+ | **_requestedP-MaxEUTRA_** | | | | Requested value for the maximum power for the serving cells the UE | | can use in E-UTRA SCG. This field is only used in NE-DC. | +----------------------------------------------------------------------+ | **_requestedP-MaxFR1_** | | | | Requested value for the maximum power for the serving cells on | | frequency range 1 (FR1) in this secondary cell group (see TS 38.104 | | [12]) the UE can use in NR SCG. | +----------------------------------------------------------------------+ | **_scellFrequenciesSN-EUTRA, scellFrequenciesSN-NR_** | | | | Indicates the frequency of all SCells configured in SCG. The field | | _scellFrequenciesSN-EUTRA_ is used in NE-DC; the field | | _scellFrequenciesSN-NR_ is used in (NG)EN-DC and NR-DC. In | | (NG)EN-DC, the field is optionally provided to the MN. | +----------------------------------------------------------------------+ | **_scg-CellGroupConfig_** | | | | Contains the _RRCReconfiguration_ message (containing only | | _secondaryCellGroup_ and/or _measConfig_): | | | | - to be sent to the UE, used upon SCG establishment or modification | | (only when the SCG is not released by the SN), as generated | | (entirely) by the (target) SgNB. In this case, the SN sets the | | _RRCReconfiguration_ message in accordance with clause 6 e.g. | | regarding the \"Need\" or \"Cond\" statements. | | | | or | | | | - including the current SCG configuration of the UE, when provided | | in response to a query from MN, or in SN triggered SN change in | | order to enable delta signalling by the target SN. In this case, the | | SN sets the _RRCReconfiguration_ message in accordance with clause | | 11.2.3. | | | | The field is absent if neither SCG (re)configuration nor SCG | | configuration query nor SN triggered SN change is performed, e.g. at | | inter-node capability/configuration coordination which does not | | result in SCG (re)configuration towards the UE. The field is also | | absent upon an SCG release triggered by the SN. This field is not | | applicable in NE-DC. | +----------------------------------------------------------------------+ | **_scg-CellGroupConfigEUTRA_** | | | | Includes the **E-UTRA _RRCConnectionReconfiguration _message as | | specified in TS 36.331 [10].__In this version of the | | specification, the E-UTRA RRC message can only include the field | |_ scg-Configuration_**:**| | | | > \- to be sent to the UE, used to (re-)configure the SCG | | > configuration upon SCG establishment or modification (only when | | > the SCG is not released by the SN), as generated (entirely) by the | | > (target) SeNB**. In this case, the SN sets the**| | > **_scg-Configuration_ within the EUTRA | | > _RRCConnectionReconfiguration_ message in accordance with clause 6 | | > in TS 36.331 [10] e.g. regarding the \"Need\" or \"Cond\" | | > statements.**| | > | | > or | | > | | > \- including the current SCG configuration of the UE, when | | > provided in response to a query from MN, or in SN triggered SN | | > change in order to enable delta signalling by the target SN. | | | | **_The field is absent if neither SCG (re)configuration nor SCG | | configuration query nor SN triggered SN change is performed, e.g. at | | inter-node capability/configuration coordination which does not | | result in SCG (re)configuration towards the UE._**The field is also | | absent upon an SCG release triggered by the SN.**_This field is | | only used in NE-DC._**| +----------------------------------------------------------------------+ |**_scg-RB-Config_**| | | | Contains the IE _RadioBearerConfig _: | | | | - to be sent to the UE, used to (re-)configure the SCG RB | | configuration upon SCG establishment or modification, as generated | | (entirely) by the (target) SgNB or SeNB. In this case, the SN sets | | the_ RadioBearerConfig _in accordance with clause 6, e.g. regarding | | the \"Need\" or \"Cond\" statements. | | | | or | | | | - including the current SCG RB configuration of the UE, when | | provided in response to a query from MN or in SN triggered SN change | | or in SN triggered SN release or bearer type change between SN | | terminated bearer to MN terminated bearer in order to enable delta | | signalling by the MN or target SN. In this case, the SN sets the | |_ RadioBearerConfig* in accordance with clause 11.2.3. | | | | The field is absent if neither SCG (re)configuration nor SCG | | configuration query nor SN triggered SN change nor SN triggered SN | | release is performed, e.g. at inter-node capability/configuration | | coordination which does not result in SCG RB (re)configuration. | +----------------------------------------------------------------------+ | _**selectedBandCombination*__| | | | Indicates the band combination selected by SN in (NG)EN-DC, NE-DC, | | and NR-DC. The SN should inform the MN with this field whenever the | | band combination and/or feature set it selected for the SCG changes | | (i.e. even if the new selection concerns a band combination and/or | | feature set that is allowed by the_ allowedBC-ListMRDC_) | +----------------------------------------------------------------------+
+----------------------------------------------------------------------+ | _BandCombinationInfoSN_ field descriptions | +======================================================================+ | **_bandCombinationIndex_** | | | | In case of (NG)EN-DC and NR-DC, this field indicates the position of | | a band combination in the _supportedBandCombinationList. In case of | | NE-DC, this field indicates the position of a band combination in | | the supportedBandCombinationList and/or | | supportedBandCombinationListNEDC-Only. Band combination entries in | | supportedBandCombinationList are referred by an index which | | corresponds to the position of a band combination in the | | supportedBandCombinationList. Band combination entries in | | supportedBandCombinationListNEDC-Only are referred by an index which | | corresponds to the position of a band combination in the | | supportedBandCombinationListNEDC-Only increased by the number of | | entries in supportedBandCombinationList._ | +----------------------------------------------------------------------+ | **_requestedFeatureSets_** | | | | The position in the _FeatureSetCombination_ which identifies one | | _FeatureSetUplink_ /_Downlink_ for each band entry in the associated | | band combination | +----------------------------------------------------------------------+
#### _\-- CG-ConfigInfo_
This message is used by master eNB or gNB to request the SgNB or SeNB to
perform certain actions e.g. to establish, modify or release an SCG. The
message may include additional information e.g. to assist the SgNB or SeNB to
set the SCG configuration. It can also be used by a CU to request a DU to
perform certain actions, e.g. to establish, or modify an MCG or SCG.
Direction: Master eNB or gNB to secondary gNB or eNB, alternatively CU to DU.
_CG-ConfigInfo_ message
\-- ASN1START
\-- TAG-CG-CONFIG-INFO-START
CG-ConfigInfo ::= SEQUENCE {
criticalExtensions CHOICE {
c1 CHOICE{
cg-ConfigInfo CG-ConfigInfo-IEs,
spare3 NULL, spare2 NULL, spare1 NULL
},
criticalExtensionsFuture SEQUENCE {}
}
}
CG-ConfigInfo-IEs ::= SEQUENCE {
ue-CapabilityInfo OCTET STRING (CONTAINING UE-CapabilityRAT-ContainerList)
OPTIONAL,-- Cond SN-AddMod
candidateCellInfoListMN MeasResultList2NR OPTIONAL,
candidateCellInfoListSN OCTET STRING (CONTAINING MeasResultList2NR) OPTIONAL,
measResultCellListSFTD-NR MeasResultCellListSFTD-NR OPTIONAL,
scgFailureInfo SEQUENCE {
failureType ENUMERATED { t310-Expiry, randomAccessProblem,
rlc-MaxNumRetx, synchReconfigFailure-SCG,
scg-reconfigFailure,
srb3-IntegrityFailure},
measResultSCG OCTET STRING (CONTAINING MeasResultSCG-Failure)
} OPTIONAL,
configRestrictInfo ConfigRestrictInfoSCG OPTIONAL,
drx-InfoMCG DRX-Info OPTIONAL,
measConfigMN MeasConfigMN OPTIONAL,
sourceConfigSCG OCTET STRING (CONTAINING RRCReconfiguration) OPTIONAL,
scg-RB-Config OCTET STRING (CONTAINING RadioBearerConfig) OPTIONAL,
mcg-RB-Config OCTET STRING (CONTAINING RadioBearerConfig) OPTIONAL,
mrdc-AssistanceInfo MRDC-AssistanceInfo OPTIONAL,
nonCriticalExtension CG-ConfigInfo-v1540-IEs OPTIONAL
}
CG-ConfigInfo-v1540-IEs ::= SEQUENCE {
ph-InfoMCG PH-TypeListMCG OPTIONAL,
measResultReportCGI SEQUENCE {
ssbFrequency ARFCN-ValueNR,
cellForWhichToReportCGI PhysCellId,
cgi-Info CGI-InfoNR
} OPTIONAL,
nonCriticalExtension CG-ConfigInfo-v1560-IEs OPTIONAL
}
CG-ConfigInfo-v1560-IEs ::= SEQUENCE {
candidateCellInfoListMN-EUTRA OCTET STRING OPTIONAL,
candidateCellInfoListSN-EUTRA OCTET STRING OPTIONAL,
sourceConfigSCG-EUTRA OCTET STRING OPTIONAL,
scgFailureInfoEUTRA SEQUENCE {
failureTypeEUTRA ENUMERATED { t313-Expiry, randomAccessProblem,
rlc-MaxNumRetx, scg-ChangeFailure},
measResultSCG-EUTRA OCTET STRING
} OPTIONAL,
drx-ConfigMCG DRX-Config OPTIONAL,
measResultReportCGI-EUTRA SEQUENCE {
eutraFrequency ARFCN-ValueEUTRA,
cellForWhichToReportCGI-EUTRA EUTRA-PhysCellId,
cgi-InfoEUTRA CGI-InfoEUTRA
} OPTIONAL,
measResultCellListSFTD-EUTRA MeasResultCellListSFTD-EUTRA OPTIONAL,
fr-InfoListMCG FR-InfoList OPTIONAL,
nonCriticalExtension CG-ConfigInfo-v1570-IEs OPTIONAL
}
CG-ConfigInfo-v1570-IEs ::= SEQUENCE {
sftdFrequencyList-NR SFTD-FrequencyList-NR OPTIONAL,
sftdFrequencyList-EUTRA SFTD-FrequencyList-EUTRA OPTIONAL,
nonCriticalExtension CG-ConfigInfo-v1590-IEs OPTIONAL
}
CG-ConfigInfo-v1590-IEs ::= SEQUENCE {
servFrequenciesMN-NR SEQUENCE (SIZE (1.. maxNrofServingCells-1)) OF ARFCN-
ValueNR OPTIONAL,
nonCriticalExtension SEQUENCE {} OPTIONAL
}
SFTD-FrequencyList-NR ::= SEQUENCE (SIZE (1..maxCellSFTD)) OF ARFCN-ValueNR
SFTD-FrequencyList-EUTRA ::= SEQUENCE (SIZE (1..maxCellSFTD)) OF ARFCN-
ValueEUTRA
ConfigRestrictInfoSCG ::= SEQUENCE {
allowedBC-ListMRDC BandCombinationInfoList OPTIONAL,
powerCoordination-FR1 SEQUENCE {
p-maxNR-FR1 P-Max OPTIONAL,
p-maxEUTRA P-Max OPTIONAL,
p-maxUE-FR1 P-Max OPTIONAL
} OPTIONAL,
servCellIndexRangeSCG SEQUENCE {
lowBound ServCellIndex,
upBound ServCellIndex
} OPTIONAL, -- Cond SN-AddMod
maxMeasFreqsSCG INTEGER(1..maxMeasFreqsMN) OPTIONAL,
dummy INTEGER(1..maxMeasIdentitiesMN) OPTIONAL,
...,
[[
selectedBandEntriesMNList SEQUENCE (SIZE (1..maxBandComb)) OF
SelectedBandEntriesMN OPTIONAL,
pdcch-BlindDetectionSCG INTEGER (1..15) OPTIONAL,
maxNumberROHC-ContextSessionsSN INTEGER(0.. 16384) OPTIONAL
]],
[[
maxIntraFreqMeasIdentitiesSCG INTEGER(1..maxMeasIdentitiesMN) OPTIONAL,
maxInterFreqMeasIdentitiesSCG INTEGER(1..maxMeasIdentitiesMN) OPTIONAL
]]
}
SelectedBandEntriesMN ::= SEQUENCE (SIZE (1..maxSimultaneousBands)) OF
BandEntryIndex
BandEntryIndex ::= INTEGER (0.. maxNrofServingCells)
PH-TypeListMCG ::= SEQUENCE (SIZE (1..maxNrofServingCells)) OF PH-InfoMCG
PH-InfoMCG ::= SEQUENCE {
servCellIndex ServCellIndex,
ph-Uplink PH-UplinkCarrierMCG,
ph-SupplementaryUplink PH-UplinkCarrierMCG OPTIONAL,
...
}
PH-UplinkCarrierMCG ::= SEQUENCE{
ph-Type1or3 ENUMERATED {type1, type3},
...
}
BandCombinationInfoList ::= SEQUENCE (SIZE (1..maxBandComb)) OF
BandCombinationInfo
BandCombinationInfo ::= SEQUENCE {
bandCombinationIndex BandCombinationIndex,
allowedFeatureSetsList SEQUENCE (SIZE (1..maxFeatureSetsPerBand)) OF
FeatureSetEntryIndex
}
FeatureSetEntryIndex ::= INTEGER (1.. maxFeatureSetsPerBand)
DRX-Info ::= SEQUENCE {
drx-LongCycleStartOffset CHOICE {
ms10 INTEGER(0..9),
ms20 INTEGER(0..19),
ms32 INTEGER(0..31),
ms40 INTEGER(0..39),
ms60 INTEGER(0..59),
ms64 INTEGER(0..63),
ms70 INTEGER(0..69),
ms80 INTEGER(0..79),
ms128 INTEGER(0..127),
ms160 INTEGER(0..159),
ms256 INTEGER(0..255),
ms320 INTEGER(0..319),
ms512 INTEGER(0..511),
ms640 INTEGER(0..639),
ms1024 INTEGER(0..1023),
ms1280 INTEGER(0..1279),
ms2048 INTEGER(0..2047),
ms2560 INTEGER(0..2559),
ms5120 INTEGER(0..5119),
ms10240 INTEGER(0..10239)
},
shortDRX SEQUENCE {
drx-ShortCycle ENUMERATED {
ms2, ms3, ms4, ms5, ms6, ms7, ms8, ms10, ms14, ms16, ms20, ms30, ms32,
ms35, ms40, ms64, ms80, ms128, ms160, ms256, ms320, ms512, ms640, spare9,
spare8, spare7, spare6, spare5, spare4, spare3, spare2, spare1 },
drx-ShortCycleTimer INTEGER (1..16)
} OPTIONAL
}
MeasConfigMN ::= SEQUENCE {
measuredFrequenciesMN SEQUENCE (SIZE (1..maxMeasFreqsMN)) OF NR-FreqInfo
OPTIONAL,
measGapConfig SetupRelease { GapConfig } OPTIONAL,
gapPurpose ENUMERATED {perUE, perFR1} OPTIONAL,
...,
[[ measGapConfigFR2 SetupRelease { GapConfig } OPTIONAL
]]
}
MRDC-AssistanceInfo ::= SEQUENCE {
affectedCarrierFreqCombInfoListMRDC SEQUENCE (SIZE (1..maxNrofCombIDC)) OF
AffectedCarrierFreqCombInfoMRDC,
...
}
AffectedCarrierFreqCombInfoMRDC ::= SEQUENCE {
victimSystemType VictimSystemType,
interferenceDirectionMRDC ENUMERATED {eutra-nr, nr, other, utra-nr-other, nr-
other, spare3, spare2, spare1},
affectedCarrierFreqCombMRDC SEQUENCE {
affectedCarrierFreqCombEUTRA AffectedCarrierFreqCombEUTRA OPTIONAL,
affectedCarrierFreqCombNR AffectedCarrierFreqCombNR
} OPTIONAL
}
VictimSystemType ::= SEQUENCE {
gps ENUMERATED {true} OPTIONAL,
glonass ENUMERATED {true} OPTIONAL,
bds ENUMERATED {true} OPTIONAL,
galileo ENUMERATED {true} OPTIONAL,
wlan ENUMERATED {true} OPTIONAL,
bluetooth ENUMERATED {true} OPTIONAL
}
AffectedCarrierFreqCombEUTRA ::= SEQUENCE (SIZE (1..maxNrofServingCellsEUTRA))
OF ARFCN-ValueEUTRA
AffectedCarrierFreqCombNR ::= SEQUENCE (SIZE (1..maxNrofServingCells)) OF
ARFCN-ValueNR
\-- TAG-CG-CONFIG-INFO-STOP
\-- ASN1STOP
+----------------------------------------------------------------------+ | _CG-ConfigInfo_ field descriptions | +======================================================================+ | **_allowedBC-ListMRDC_** | | | | A list of indices referring to band combinations in MR-DC | | capabilities from which SN is allowed to select the SCG band | | combination. Each entry refers to: | | | | - a band combination numbered according to | | _supportedBandCombinationList_ in the _UE-MRDC-Capability_ (in case | | of (NG)EN-DC), or according to _supportedBandCombinationList_ and | | _supportedBandCombinationListNEDC-Only_ in the _UE-MRDC-Capability_ | | (in case of NE-DC), or according to _supportedBandCombinationList_ | | in the UE-NR-Capability (in case of NR-DC), | | | | - and the Feature Sets allowed for each band entry. All MR-DC band | | combinations indicated by this field comprise the MCG band | | combination, which is a superset of the MCG band(s) selected by MN. | +----------------------------------------------------------------------+ | **_candidateCellInfoListMN_** , **_candidateCellInfoListSN_** | | | | Contains information regarding cells that the master node or the | | source node suggests the target gNB or DU to consider configuring. | | | | For (NG)EN-DC, including CSI-RS measurement results in | | _candidateCellInfoListMN_ is not supported in this version of the | | specification. For NR-DC, including SSB and/or CSI-RS measurement | | results in _candidateCellInfoListMN_ is supported. | +----------------------------------------------------------------------+ | **_candidateCellInfoListMN-EUTRA_** , | | **_candidateCellInfoListSN-EUTRA_** | | | | Includes the _MeasResultList3EUTRA_ as specified in TS 36.331 | | [10]. Contains information regarding cells that the master node or | | the source node suggests the target secondary eNB to consider | | configuring. These fields are only used in NE-DC. | +----------------------------------------------------------------------+ | **_configRestrictInfo_** | | | | Includes fields for which SgNB is explictly indicated to observe a | | configuration restriction. | +----------------------------------------------------------------------+ | **_drx-ConfigMCG_** | | | | This field contains the complete DRX configuration of the MCG. This | | field is only used in NR-DC. | +----------------------------------------------------------------------+ | **_drx-InfoMCG_** | | | | This field contains the DRX long and short cycle configuration of | | the MCG. This field is used in (NG)EN-DC and NE-DC. | +----------------------------------------------------------------------+ | **_fr-InfoListMCG_** | | | | Contains information of FR information of serving cells that include | | PCell and SCell(s) configured in MCG. | +----------------------------------------------------------------------+ | **_maxMeasFreqsSCG_** | | | | Indicates the maximum number of NR inter-frequency carriers the SN | | is allowed to configure with PSCell for measurements. | +----------------------------------------------------------------------+ | **_dummy_** | | | | This field is not used in the specification and SN ignores the | | received value. | +----------------------------------------------------------------------+ | **_maxInterFreqMeasIdentitiesSCG_** | | | | Indicates the maximum number of allowed measurement identities that | | the SCG is allowed to configure for inter-frequency measurement. The | | maximum value for this field is 10. If the field is absent, the SCG | | is allowed to configure inter-frequency measurements up to the | | maximum value. This field is only used in NR-DC. | +----------------------------------------------------------------------+ | **_maxIntraFreqMeasIdentitiesSCG_** | | | | Indicates the maximum number of allowed measurement identities that | | the SCG is allowed to configure for intra-frequency measurement on | | each serving frequency. The maximum value for this field is 9 (in | | case of (NG)EN-DC or NR-DC) or 10 (in case of NE-DC). If the field | | is absent, the SCG is allowed to configure intra-frequency | | measurements up to the maximum value on each serving frequency. | +----------------------------------------------------------------------+ | **_maxNumberROHC-ContextSessionsSN_** | | | | Indicates the maximum number of context sessions allowed to SN | | terminated bearer, excluding context sessions that leave all headers | | uncompressed. | +----------------------------------------------------------------------+ | **_measuredFrequenciesMN_** | | | | Used by MN to indicate a list of frequencies measured by the UE. | +----------------------------------------------------------------------+ | **_measGapConfig_** | | | | Indicates the FR1 and perUE measurement gap configuration configured | | by MN. | +----------------------------------------------------------------------+ | **_measGapConfigFR2_** | | | | Indicates the FR2 measurement gap configuration configured by MN. | +----------------------------------------------------------------------+ | **_mcg-RB-Config_** | | | | Contains all of the fields in the IE _RadioBearerConfig_ used in MN, | | used by the SN to support delta configuration to UE (i.e. when MN | | does not use full configuration option), for bearer type change | | between MN terminated bearer with NR PDCP to SN terminated bearer. | | It is also used to indicate the PDCP duplication related information | | for MN terminated split bearer (whether duplication is configured | | and if so, whether it is initially activated) in SN | | Addition/Modification procedure. Otherwise, this field is absent. | +----------------------------------------------------------------------+ | **_measResultReportCGI, measResultReportCGI-EUTRA_** | | | | Used by MN to provide SN with CGI-Info for the cell as per SN′s | | request. In this version of the specification, the | | _measResultReportCGI_ is used for (NG)EN-DC and NR-DC and the | | _measResultReportCGI-EUTRA_ is used only for NE-DC. | +----------------------------------------------------------------------+ | **_measResultSCG-EUTRA_** | | | | This field includes the _MeasResultSCG-FailureMRDC_ IE as specified | | in TS 36.331 [10]. This field is only used in NE-DC. | +----------------------------------------------------------------------+ | **_measResultSFTD-EUTRA_** | | | | SFTD measurement results between the PCell and the E-UTRA PScell in | | NE-DC. This field is only used in NE-DC. | +----------------------------------------------------------------------+ | **_mrdc-AssistanceInfo_** | | | | Contains the IDC assistance information for MR-DC reported by the UE | | (see TS 36.331 [10]). | +----------------------------------------------------------------------+ | **_p-maxEUTRA_** | | | | Indicates the maximum total transmit power to be used by the UE in | | the E-UTRA cell group (see TS 36.104 [33]). This field is used in | | (NG)EN-DC and NE-DC. | +----------------------------------------------------------------------+ | **_p-maxNR-FR1_** | | | | Indicates the maximum total transmit power to be used by the UE in | | the NR cell group across all serving cells in frequency range 1 | | (FR1) (see TS 38.104 [12]). The field is used in (NG)EN-DC and | | NE-DC. | +----------------------------------------------------------------------+ | **_p-maxUE-FR1_** | | | | Indicates the maximum total transmit power to be used by the UE | | across all serving cells in frequency range 1 (FR1). | +----------------------------------------------------------------------+ | **_pdcch-BlindDetectionSCG_** | | | | Indicates the maximum value of the reference number of cells for | | PDCCH blind detection allowed to be configured for the SCG. | +----------------------------------------------------------------------+ | **_ph-InfoMCG_** | | | | Power headroom information in MCG that is needed in the reception of | | PHR MAC CE in SCG. | +----------------------------------------------------------------------+ | **_ph-SupplementaryUplink_** | | | | Power headroom information for supplementary uplink. For UE in | | **_(NG)_** EN-DC, this field is absent. | +----------------------------------------------------------------------+ | **_ph-Type1or3_** | | | | Type of power headroom for a serving cell in MCG (PCell and | | activated SCells). _type1_ refers to type 1 power headroom, _type3_ | | refers to type 3 power headroom. (See TS 38.321 [3]). | +----------------------------------------------------------------------+ | **_ph-Uplink_** | | | | Power headroom information for uplink. | +----------------------------------------------------------------------+ | **_powerCoordination-FR1_** | | | | Indicates the maximum power that the UE can use in FR1. | +----------------------------------------------------------------------+ | **_scgFailureInfo_** | | | | Contains SCG failure type and measurement results. In case the | | sender has no measurement results available, the sender may include | | one empty entry (i.e. without any optional fields present) in | | _measResultPerMOList_. This field is used in (NG)EN-DC and NR-DC. | +----------------------------------------------------------------------+ | **_scgFailureInfoEUTRA_** | | | | Contains SCG failure type and measurement results of the EUTRA | | secondary cell group. This field is only used in NE-DC. | +----------------------------------------------------------------------+ | **_scg-RB-Config_** | | | | Contains all of the fields in the IE RadioBearerConfig used in SN, | | used to allow the target SN to use delta configuration to the UE, | | e.g. during SN change. The field is signalled upon change of SN | | unless MN uses full configuration option. Otherwise, the field is | | absent. | +----------------------------------------------------------------------+ | **_selectedBandEntriesMNList_** | | | | A list of indices referring to the position of a band entry selected | | by the MN, in each band combination entry in _allowedBC-ListMRDC_ | | IE. _BandEntryIndex_ 0 identifies the first band in the _bandList_ | | of the _BandCombination_ , _BandEntryIndex_ 1 identifies the second | | band in the _bandList_ of the _BandCombination_ , and so on. This | | _selectedBandEntriesMNList_ includes the same number of entries, and | | listed in the same order as in _allowedBC-ListMRDC_. The SN uses | | this information to determine which bands out of the NR band | | combinations in _allowedBC-ListMRDC_ it can configure in SCG in | | NR-DC. The SN can use this information to determine for which band | | pair(s) it should check _SimultaneousRxTxPerBandPair_. | +----------------------------------------------------------------------+ | **_servCellIndexRangeSCG_** | | | | Range of serving cell indices that SN is allowed to configure for | | SCG serving cells. | +----------------------------------------------------------------------+ | **_servFrequenciesMN-NR_** | | | | Indicates the frequency of all serving cells that include PCell and | | SCell(s) configured in MCG. This field is only used in NR-DC. | +----------------------------------------------------------------------+ | **_sftdFrequencyList-NR_** | | | | Includes a list of SSB frequencies. Each entry identifies the SSB | | frequency of a PSCell, which corresponds to one | | _MeasResultCellSFTD-NR_ entry in the _MeasResultCellListSFTD-NR_. | +----------------------------------------------------------------------+ | **_sftdFrequencyList-EUTRA_** | | | | Includes a list of E-UTRA frequencies. Each entry identifies the | | carrier frequency of a PSCell, which corresponds to one | | _MeasResultSFTD-EUTRA_ entry in the _MeasResultCellListSFTD-EUTRA_. | +----------------------------------------------------------------------+ | **_sourceConfigSCG_** | | | | Includes all of the current SCG configurations used by the target SN | | to build delta configuration to be sent to UE, e.g. during SN | | change. The field contains the _RRCReconfiguration_ message, i.e. | | including _secondaryCellGroup_ and _measConfig_. The field is | | signalled upon change of SN, unless MN uses full configuration | | option. Otherwise, the field is absent. | +----------------------------------------------------------------------+ | **_sourceConfigSCG-EUTRA_** | | | | Includes the E-UTRA _RRCConnectionReconfiguration_ message as | | specified in TS 36.331 [10]. In this version of the specification, | | the E-UTRA RRC message can only include the field | | _scg-Configuration._ In this version of the specification, this | | field is absent when master gNB uses full configuration option. This | | field is only used in NE-DC. | +----------------------------------------------------------------------+ | **_ue-CapabilityInfo_** | | | | Contains the IE _UE-CapabilityRAT-ContainerList_ supported by the UE | | (see NOTE 3). A gNB that retrieves MRDC related capability | | containers ensures that the set of included MRDC containers is | | consistent w.r.t. the feature set related information. | +----------------------------------------------------------------------+
+----------------------------------------------------------------------+ | _BandCombinationInfo_ field descriptions | +======================================================================+ | **_allowedFeatureSetsList_** | | | | Defines a subset of the entries in a _FeatureSetCombination_. Each | | index identifies a position in the _FeatureSetCombination_ , which | | corresponds to one _FeatureSetUplink_ /_Downlink_ for each band entry | | in the associated band combination. | +----------------------------------------------------------------------+ | **_bandCombinationIndex_** | | | | In case of (NG)EN-DC and NR-DC, this field indicates the position of | | a band combination in the _supportedBandCombinationList. In case of | | NE-DC, this field indicates the position of a band combination in | | the supportedBandCombinationList and/or | | supportedBandCombinationListNEDC-Only. Band combination entries in | | supportedBandCombinationList are referred by an index which | | corresponds to the position of a band combination in the | | supportedBandCombinationList. Band combination entries in | | supportedBandCombinationListNEDC-Only are referred by an index which | | corresponds to the position of a band combination in the | | supportedBandCombinationListNEDC-Only increased by the number of | | entries in supportedBandCombinationList._ | +----------------------------------------------------------------------+
Conditional Presence Explanation
* * *
_SN-AddMod_ The field is mandatory present upon SN addition and SN change. It
is optionally present upon SN modification and inter-MN handover without SN
change. Otherwise, the field is absent.
NOTE 3: The following table indicates per MN RAT and SN RAT whether RAT
capabilities are included or not in _ue-CapabilityInfo_.
MN RAT SN RAT NR capabilities E-UTRA capabilities MR-DC capabilities
* * *
E-UTRA NR Included Not included Included NR E-UTRA Not included Included
Included NR NR Included Not included Not included
#### \-- _MeasurementTimingConfiguration_
The _MeasurementTimingConfiguration_ message is used to convey assistance
information for measurement timing.
Direction: en-gNB to eNB, eNB to en-gNB, gNB to gNB, ng-eNB to gNB, gNB to ng-
eNB, ng-eNB to ng-eNB, gNB DU to gNB CU, and gNB CU to gNB DU.
_MeasurementTimingConfiguration_ message
\-- ASN1START
\-- TAG-MEASUREMENT-TIMING-CONFIGURATION-START
MeasurementTimingConfiguration ::= SEQUENCE {
criticalExtensions CHOICE {
c1 CHOICE{
measTimingConf MeasurementTimingConfiguration-IEs,
spare3 NULL, spare2 NULL, spare1 NULL
},
criticalExtensionsFuture SEQUENCE {}
}
}
MeasurementTimingConfiguration-IEs ::= SEQUENCE {
measTiming MeasTimingList OPTIONAL,
nonCriticalExtension MeasurementTimingConfiguration-v1550-IEs OPTIONAL
}
MeasurementTimingConfiguration-v1550-IEs ::= SEQUENCE {
campOnFirstSSB BOOLEAN,
psCellOnlyOnFirstSSB BOOLEAN,
nonCriticalExtension SEQUENCE {} OPTIONAL
}
MeasTimingList ::= SEQUENCE (SIZE (1..maxMeasFreqsMN)) OF MeasTiming
MeasTiming ::= SEQUENCE {
frequencyAndTiming SEQUENCE {
carrierFreq ARFCN-ValueNR,
ssbSubcarrierSpacing SubcarrierSpacing,
ssb-MeasurementTimingConfiguration SSB-MTC,
ss-RSSI-Measurement SS-RSSI-Measurement OPTIONAL
} OPTIONAL,
...,
[[
ssb-ToMeasure SSB-ToMeasure OPTIONAL,
physCellId PhysCellId OPTIONAL
]]
}
\-- TAG-MEASUREMENT-TIMING-CONFIGURATION-STOP
\-- ASN1STOP
+----------------------------------------------------------------------+ | _MeasTiming_ field descriptions | +======================================================================+ | **_carrierFreq, ssbSubcarrierSpacing_** | | | | Indicates the frequency and subcarrier spacing of the SS block of | | the cell for which this message is included, or of other SS blocks | | within the same carrier. | +----------------------------------------------------------------------+ | **_ssb-MeasurementTimingConfiguration_** | | | | Indicates the SMTC which can be used to search for SSB of the cell | | for which the message is included. When the message is included in | | \"Served NR Cell Information\" (see TS 36.423 [37]), \"Served Cell | | Information NR\" (see TS 38.423 [35]), or \"Served Cell | | Information\" (see TS 38.473 [36]), the timing is based on the | | cell for which the message is included. When the message is included | | in \"NR Neighbour Information\" (see TS 36.423 [37]), or \"Served | | Cell Information\" (see TS 38.423 [35]), the timing is based on | | the cell indicated in the \"Served NR Cell Information\" or \"Served | | Cell Information NR\" with which the \"NR Neighbour Information\" or | | \"Neighbour Information NR\" is provided. When the message is | | included in \"CU to DU RRC Information\", the timing is based on the | | cell indicated by SpCell ID with which the message is included. | +----------------------------------------------------------------------+ | **_ss-RSSI-Measurement_** | | | | Provides the configuration which can be used for RSSI measurements | | of the cell for which the message is included. | +----------------------------------------------------------------------+
+----------------------------------------------------------------------+ | _MeasurementTimingConfiguration_ field descriptions | +======================================================================+ | **_campOnFirstSSB_** | | | | Value _true_ indicates that the SSB indicated in the first instance | | of _MeasTiming_ in the _measTiming_ list can be used for camping and | | for a PCell configuration (i.e. in _spCellConfigCommon_ of the | | _masterCellGroup_). | +----------------------------------------------------------------------+ | **_measTiming_** | | | | A list of SMTC information, SSB RSSI measurement information and | | associated NR frequency exchanged via EN-DC X2 Setup, EN-DC | | Configuration Update, Xn Setup and NG-RAN Node Configuration Update | | procedures, or F1 messages between gNB DU and gNB CU. | +----------------------------------------------------------------------+ | **_physCellId_** | | | | Physical Cell Identity of the SSB on the ARFCN indicated by | | _carrierFreq_. | +----------------------------------------------------------------------+ | **_psCellOnlyOnFirstSSB_** | | | | Value _true_ indicates that only the SSB indicated in the first | | instance of _MeasTiming_ in the _measTiming_ list can be used for a | | PSCell configuration (i.e. in _spCellConfigCommon_ of the | | _secondaryCellGroup_). | +----------------------------------------------------------------------+ | **_ssb-ToMeasure_** | | | | The set of SS blocks to be measured within the SMTC measurement | | duration (see TS 38.215 [9]). | +----------------------------------------------------------------------+
#### \-- _UERadioPagingInformation_
This message is used to transfer radio paging information, covering both
upload to and download from the 5GC, and between gNBs.
Direction: gNB to/ from 5GC and gNB to/from gNB
**_UERadioPagingInformation_** message
\-- ASN1START
\-- TAG-UE-RADIO-PAGING-INFORMATION-START
UERadioPagingInformation ::= SEQUENCE {
criticalExtensions CHOICE {
c1 CHOICE{
ueRadioPagingInformation UERadioPagingInformation-IEs,
spare7 NULL,
spare6 NULL, spare5 NULL, spare4 NULL,
spare3 NULL, spare2 NULL, spare1 NULL
},
criticalExtensionsFuture SEQUENCE {}
}
}
UERadioPagingInformation-IEs ::= SEQUENCE {
supportedBandListNRForPaging SEQUENCE (SIZE (1..maxBands)) OF
FreqBandIndicatorNR OPTIONAL,
nonCriticalExtension UERadioPagingInformation-v15e0-IEs OPTIONAL
}
UERadioPagingInformation-v15e0-IEs ::= SEQUENCE {
dl-SchedulingOffset-PDSCH-TypeA-FDD-FR1 ENUMERATED {supported} OPTIONAL,
dl-SchedulingOffset-PDSCH-TypeA-TDD-FR1 ENUMERATED {supported} OPTIONAL,
dl-SchedulingOffset-PDSCH-TypeA-TDD-FR2 ENUMERATED {supported} OPTIONAL,
dl-SchedulingOffset-PDSCH-TypeB-FDD-FR1 ENUMERATED {supported} OPTIONAL,
dl-SchedulingOffset-PDSCH-TypeB-TDD-FR1 ENUMERATED {supported} OPTIONAL,
dl-SchedulingOffset-PDSCH-TypeB-TDD-FR2 ENUMERATED {supported} OPTIONAL,
nonCriticalExtension SEQUENCE {} OPTIONAL
}
\-- TAG-UE-RADIO-PAGING-INFORMATION-STOP
\-- ASN1STOP
+----------------------------------------------------------------------+ | **_UERadioPagingInformation field descriptions_** | +----------------------------------------------------------------------+ | **_supportedBandListNRForPaging_** | | | | Indicates the UE supported NR frequency bands which are derived by | | the gNB from _UE-NR-Capability_. | +----------------------------------------------------------------------+ | **_dl-SchedulingOffset-PDSCH-TypeA-FDD-FR1_** | | | | Indicates whether the UE supports DL scheduling slot offset (K0) | | greater than 0 for PDSCH mapping type A in FDD FR1. | +----------------------------------------------------------------------+ | **_dl-SchedulingOffset-PDSCH-TypeA-TDD-FR1_** | | | | Indicates whether the UE supports DL scheduling slot offset (K0) | | greater than 0 for PDSCH mapping type A in TDD FR1. | +----------------------------------------------------------------------+ | **_dl-SchedulingOffset-PDSCH-TypeA-TDD-FR2_** | | | | Indicates whether the UE supports DL scheduling slot offset (K0) | | greater than 0 for PDSCH mapping type A in TDD FR2. | +----------------------------------------------------------------------+ | **_dl-SchedulingOffset-PDSCH-TypeB-FDD-FR1_** | | | | Indicates whether the UE supports DL scheduling slot offset (K0) | | greater than 0 for PDSCH mapping type B in FDD FR1. | +----------------------------------------------------------------------+ | **_dl-SchedulingOffset-PDSCH-TypeB-TDD-FR1_** | | | | Indicates whether the UE supports DL scheduling slot offset (K0) | | greater than 0 for PDSCH mapping type B in TDD FR1. | +----------------------------------------------------------------------+ | **_dl-SchedulingOffset-PDSCH-TypeB-TDD-FR2_** | | | | Indicates whether the UE supports DL scheduling slot offset (K0) | | greater than 0 for PDSCH mapping type B in TDD FR2. | +----------------------------------------------------------------------+
#### \-- _UERadioAccessCapabilityInformation_
This message is used to transfer UE radio access capability information,
covering both upload to and download from the 5GC.
Direction: ng-eNB or gNB to/ from 5GC
**_UERadioAccessCapabilityInformation_** message
\-- ASN1START
\-- TAG-UE-RADIO-ACCESS-CAPABILITY-INFORMATION-START
UERadioAccessCapabilityInformation ::= SEQUENCE {
criticalExtensions CHOICE {
c1 CHOICE{
ueRadioAccessCapabilityInformation UERadioAccessCapabilityInformation-IEs,
spare7 NULL,
spare6 NULL, spare5 NULL, spare4 NULL,
spare3 NULL, spare2 NULL, spare1 NULL
},
criticalExtensionsFuture SEQUENCE {}
}
}
UERadioAccessCapabilityInformation-IEs ::= SEQUENCE {
ue-RadioAccessCapabilityInfo OCTET STRING (CONTAINING UE-CapabilityRAT-
ContainerList),
nonCriticalExtension SEQUENCE {} OPTIONAL
}
\-- TAG-UE-RADIO-ACCESS-CAPABILITY-INFORMATION-STOP
\-- ASN1STOP
+----------------------------------------------------------------------+ | _UERadioAccessCapabilityInformation-IEs_ field descriptions | +======================================================================+ | **_ue-RadioAccessCapabilityInfo_** | | | | Including NR, MR-DC, E-UTRA radio access capabilities. A gNB that | | retrieves MRDC related capability containers ensures that the set of | | included MRDC containers is consistent w.r.t. the feature set | | related information. | +----------------------------------------------------------------------+
### 11.2.3 Mandatory information in inter-node RRC messages
For the _AS-Config_ transferred within the _HandoverPreparationInformation_ :
\- The source node shall include all fields necessary to reflect the current
AS configuration of the UE, except for the fields _sourceSCG-NR-Config_ ,
_sourceSCG-EUTRA-Config_ and _sourceRB-SN-Config_ , which can be omitted in
case the source MN did not receive the latest configuration from the source
SN. For _RRCReconfiguration_ included in the field _rrcReconfiguration_ ,
_ReconfigurationWithSync_ is included with only the mandatory subfields (e.g.
_newUE-Identity_ and _t304_) and _ServingCellConfigCommon_ ;
\- Need codes or conditions specified for subfields according to IEs defined
in clause 6 do not apply. I.e. some fields shall be included regardless of the
\"Need\" or \"Cond\" e.g. _discardTimer_ ;
\- Based on the received AS configuration, the target node can indicate the
delta (difference) to the current AS configuration (as included in
_HandoverCommand_) to the UE. The fields _newUE-Identity_ and _t304_ included
in _ReconfigurationWithSync_ are not used for delta configuration purpose.
The _candidateCellInfoListSN_(-_EUTRA_) in _CG-Config_ and the
_candidateCellInfoListMN_(_-EUTRA_)/_candidateCellInfoListSN_(-_EUTRA_) in
_CG-ConfigInfo_ need not be included in procedures that do not involve a
change of node.
For fields _scg-CellGroupConfig, scg-CellGroupConfigEUTRA and scg-RB-Config_
in _CG-Config (sent upon SN initiated SN change or_ other conditions as
specified in field descriptions _)_ and fields _mcg-RB-Config_ , _scg-RB-
Config_ and _sourceConfigSCG_ in _CG-ConfigInfo_ (_sent_ upon change of SN):
\- The source node shall include all fields necessary to reflect the current
AS configuration of the UE, unless stated otherwise in the field description.
For _RRCReconfiguration_ included in the field _scg-CellGroupConfig in CG-
Config_ , _ReconfigurationWithSync_ is included with only the mandatory
subfields (e.g. _newUE-Identity_ and _t304_) and _ServingCellConfigCommon_ ;
\- Need codes or conditions specified for subfields according to IEs defined
in clause 6 do not apply;
\- Based on the received AS configuration, the target node can indicate the
delta (difference) as compared to the current AS configuration to the UE. The
fields _newUE-Identity_ and _t304_ in _ReconfigurationWithSync_ are always
included by the target node, i.e. they are not used for delta configuration
purpose to UE.
For fields in _CG-Config_ and _CG-ConfigInfo_ listed below, absence of the
field means that the receiver maintains the values informed via the previous
message. Note that every time there is a change in the configuration covered
by a listed field, the MN or SN shall include the field and it shall provide
the full configuration provided by that field unless stated otherwise.
Otherwise, if there is no change, the field can be omitted:
\- _configRestrictInfo_ ;
\- _gapPurpose;_
\- _measGapConfig_ (for which delta signalling applies);
_\- measGapConfigFR2_ (for which delta signalling applies);
\- _measResultCellListSFTD_ ;
_\- measResultSFTD-EUTRA_ ;
\- _sftdFrequencyList-EUTRA_ ;
_\- sftdFrequencyList-NR;_
\- _ue-CapabilityInfo;_
_\- servFrequenciesMN-NR_.
For other fields in _CG-Config_ and _CG-ConfigInfo_ , the sender shall always
signal the appropriate value even if same as indicated in the previous inter-
node message, unless explicitly stated otherwise.
## 11.3 Inter-node RRC information element definitions
-
## 11.4 Inter-node RRC multiplicity and type constraint values
#### \-- Multiplicity and type constraints definitions
\-- ASN1START
\-- TAG-NR-MULTIPLICITY-AND-CONSTRAINTS-START
maxMeasFreqsMN INTEGER ::= 32 -- Maximum number of MN-configured measurement
frequencies
maxMeasFreqsSN INTEGER ::= 32 -- Maximum number of SN-configured measurement
frequencies
maxMeasIdentitiesMN INTEGER ::= 62 -- Maximum number of measurement identities
that a UE can be configured with
maxCellPrep INTEGER ::= 32 -- Maximum number of cells prepared for handover
\-- TAG-NR-MULTIPLICITY-AND-CONSTRAINTS-STOP
\-- ASN1STOP
#### \-- _End of NR-InterNodeDefinitions_
\-- ASN1START
\-- TAG-NR-INTER-NODE-DEFINITIONS-END-START
END
\-- TAG-NR-INTER-NODE-DEFINITIONS-END-STOP
\-- ASN1STOP
# 12 Processing delay requirements for RRC procedures
The UE performance requirements for RRC procedures are specified in the
following tables. The performance requirement is expressed as the time in [ms]
from the end of reception of the network -> UE message on the UE physical
layer up to when the UE shall be ready for the reception of uplink grant for
the UE -> network response message with no access delay other than the TTI-
alignment (e.g. excluding delays caused by scheduling, the random access
procedure or physical layer synchronisation). In case the RRC procedure
triggers BWP switching, the RRC procedure delay is the value defined in the
following table plus the BWP switching delay defined in TS 38.133 [14], clause
8.6.3.
Figure 12.1-1: Illustration of RRC procedure delay
Table 12.1-1: UE performance requirements for RRC procedures for UEs
+-------------+-------------+-------------+-------------+-------------+ | Procedure | Network -> | UE -> | Value | Notes | | title: | UE | Network | [ms] | | +=============+=============+=============+=============+=============+ | **RRC | | | | | | Connection | | | | | | Control | | | | | | P | | | | | | rocedures** | | | | | +-------------+-------------+-------------+-------------+-------------+ | RRC | _RRCRecon |_ RRCRe | 10 | | | reco | figuration _| configurati | | | | nfiguration | | onComplete_ | | | +-------------+-------------+-------------+-------------+-------------+ | RRC | _RRCRecon |_ RRCRe | 16 | | | reco | figuration _| configurati | | | | nfiguration | | onComplete_ | | | | (scell | | | | | | additi | | | | | | on/release) | | | | | +-------------+-------------+-------------+-------------+-------------+ | RRC | _RRCRecon |_ RRCRe | 16 | | | reco | figuration _| configurati | | | | nfiguration | | onComplete_ | | | | (LTE/NR SCG | | | | | | est | | | | | | ablishment/ | | | | | | mo | | | | | | dification/ | | | | | | release) | | | | | +-------------+-------------+-------------+-------------+-------------+ | RRC | _RRCRecon |_ RRCRe | 16 | | | reco | figuration _| configurati | | | | nfiguration | | onComplete_ | | | | (Intra-NR | | | | | | mobility | | | | | | with LTE/NR | | | | | | SCG | | | | | | est | | | | | | ablishment/ | | | | | | mo | | | | | | dification/ | | | | | | release) | | | | | +-------------+-------------+-------------+-------------+-------------+ | RRC setup | _RRCSetup_ | _RRCSet | 10 | | | | | upComplete_ | | | +-------------+-------------+-------------+-------------+-------------+ | RRC Release | * | | NA | | | | RRCRelease _| | | | +-------------+-------------+-------------+-------------+-------------+ | RRC |_ RRCReest | _RRCRe | 10 | | | re-es | ablishment_ | establishme | | | | tablishment | | ntComplete _| | | +-------------+-------------+-------------+-------------+-------------+ | RRC resume |_ RRCResume _|_ RRCResu | 6 or 10 | Value=6 | | | | meComplete _| | applies for | | | | | | a UE | | | | | | supporting | | | | | | reduced CP | | | | | | latency for | | | | | | the case of | | | | | | RRCResume | | | | | | message | | | | | | only | | | | | | including | | | | | | MAC and PHY | | | | | | con | | | | | | figuration, | | | | | | rees | | | | | | tablishPDCP | | | | | | and | | | | | | ree | | | | | | stablishRLC | | | | | | for SRB2 | | | | | | and DRB(s), | | | | | | and no DRX, | | | | | | SPS, | | | | | | configured | | | | | | grant, CA | | | | | | or MIMO | | | | | | re-co | | | | | | nfiguration | | | | | | will be | | | | | | triggered | | | | | | by this | | | | | | message. | | | | | | Further, | | | | | | the UL | | | | | | grant for | | | | | | t | | | | | | ransmission | | | | | | of | | | | | |_ RRCResu | | | | | | meComplete _| | | | | | and the | | | | | | data is | | | | | | transmitted | | | | | | over common | | | | | | search | | | | | | space with | | | | | | DCI format | | | | | | 0_0. | | | | | | | | | | | | In this | | | | | | scenario, | | | | | | the RRC | | | | | | procedure | | | | | | delay | | | | | | [ms] can | | | | | | extend | | | | | | beyond the | | | | | | reception | | | | | | of the UL | | | | | | grant, up | | | | | | to 7 ms. | | | | | | | | | | | | For other | | | | | | cases, | | | | | | Value = 10 | | | | | | applies. | +-------------+-------------+-------------+-------------+-------------+ | RRC resume |_ RRCResume _|_ RRCResu | 16 | | | (scell | | meComplete _| | | | addition) | | | | | +-------------+-------------+-------------+-------------+-------------+ | Initial AS |_ SecurityM | _Security | 5 | | | security | odeCommand_ | ModeComplet | | | | activation | | e/SecurityM | | | | | | odeFailure _| | | +-------------+-------------+-------------+-------------+-------------+ |__Inter RAT | | | | | | mobility_ _| | | | | +-------------+-------------+-------------+-------------+-------------+ | Handover to |_ RRCReco | _RRCRe | NA | The | | NR | nfiguration | configurati | | performance | | | (sent by | onComplete_ | | of this | | | other RAT)_| | | procedure | | | | | | is | | | | | | specified | | | | | | in TS | | | | | | 36.133 | | | | | | [40] | | | | | | clauses | | | | | | 5.3.4.2 and | | | | | | 5.3.5.2 in | | | | | | case of | | | | | | handover | | | | | | from E-UTRA | | | | | | to NR. | +-------------+-------------+-------------+-------------+-------------+ | Handover | * | | NA | The | | from NR | MobilityFro | | | performance | | | mNRCommand_ | | | of this | | | | | | procedure | | | | | | is | | | | | | specified | | | | | | in TS | | | | | | 38.133 | | | | | | [14], | | | | | | clauses | | | | | | 6.1.2.1.2 | | | | | | and | | | | | | 6.1.2.2.2. | +-------------+-------------+-------------+-------------+-------------+ | **Other | | | | | | p | | | | | | rocedures** | | | | | +-------------+-------------+-------------+-------------+-------------+ | UE | | _UE | NA | | | assistance | | AssistanceI | | | | information | | nformation_ | | | +-------------+-------------+-------------+-------------+-------------+ | UE | _UECapabil |_ UE | 80 | | | capability | ityEnquiry _| CapabilityI | | | | transfer | | nformation_ | | | +-------------+-------------+-------------+-------------+-------------+ | Counter | _Co |_ CounterChe | 5 | | | check | unterCheck _| ckResponse_ | | | +-------------+-------------+-------------+-------------+-------------+
###### ## Annex A (informative): Guidelines, mainly on use of ASN.1
# A.1 Introduction
The following clauses contain guidelines for the specification of RRC protocol
data units (PDUs) with ASN.1.
# A.2 Procedural specification
## A.2.1 General principles
The procedural specification provides an overall high level description
regarding the UE behaviour in a particular scenario.
It should be noted that most of the UE behaviour associated with the reception
of a particular field is covered by the applicable parts of the PDU
specification. The procedural specification may also include specific details
of the UE behaviour upon reception of a field, but typically this should be
done only for cases that are not easy to capture in the PDU clause e.g.
general actions, more complicated actions depending on the value of multiple
fields.
Likewise, the procedural specification need not specify the UE requirements
regarding the setting of fields within the messages that are sent to the
network i.e. this may also be covered by the PDU specification.
## A.2.2 More detailed aspects
The following more detailed conventions should be used:
\- Bullets:
\- Capitals should be used in the same manner as in other parts of the
procedural text i.e. in most cases no capital applies since the bullets are
part of the sentence starting with \'The UE shall:\'
\- All bullets, including the last one in a clause, should end with a semi-
colon i.e. an \';.
\- Conditions:
\- Whenever multiple conditions apply, a semi-colon should be used at the end
of each conditions with the exception of the last one, i.e. as in \'if cond1,
or cond2.
# A.3 PDU specification
## A.3.1 General principles
### A.3.1.1 ASN.1 sections
The RRC PDU contents are formally and completely described using abstract
syntax notation (ASN.1), see X.680 [6], X.681 [7].
The complete ASN.1 code is divided into a number of ASN.1 sections in the
specifications. In order to facilitate the extraction of the complete ASN.1
code from the specification, each ASN.1 section begins with the following:
\- a first text paragraph consisting entirely of an _ASN.1 start tag_ , which
consists of a double hyphen followed by a single space and the text string
\"ASN1START\" (in all upper case letters);
\- a second text paragraph consisting entirely of a _block start tag_ is
included, which consists of a double hyphen followed by a single space and the
text string \"TAG-NAME-START\" (in all upper case letters), where the \"NAME\"
refers to the main name of the paragraph (in all upper-case letters).
Similarly, each ASN.1 section ends with the following:
\- a first text paragraph consisting entirely of a _blockstop tag_ , which
consists of a double hyphen followed by a single space and the text string
\"TAG-NAME-STOP\" (in all upper-case letters), where the \"NAME\" refers to
the main name of the paragraph (in all upper-case letters);
\- a second text paragraph consisting entirely of an _ASN.1 stop tag_ , which
consists of a double hyphen followed by a singlespace and the text
\"ASN1STOP\" (in all upper case letters).
This results in the following tags:
\-- ASN1START
\-- TAG-NAME-START
\-- TAG-NAME-STOP
\-- ASN1STOP
The text paragraphs containing either of the start and stop tags should not
contain any ASN.1 code significant for the complete description of the RRC PDU
contents. The complete ASN.1 code may be extracted by copying all the text
paragraphs between an ASN.1 start tag and the following ASN.1 stop tag in the
order they appear, throughout the specification.
NOTE: A typical procedure for extraction of the complete ASN.1 code consists
of a first step where the entire RRC PDU contents description (ultimately the
entire specification) is saved into a plain text (ASCII) file format, followed
by a second step where the actual extraction takes place, based on the
occurrence of the ASN.1 start and stop tags.
### A.3.1.2 ASN.1 identifier naming conventions
The naming of identifiers (i.e., the ASN.1 field and type identifiers) should
be based on the following guidelines:
\- Message (PDU) identifiers should be ordinary mixed case without
hyphenation. These identifiers, _e.g._ , the
_RRCConnectionModificationCommand_ , should be used for reference in the
procedure text. Abbreviations should be avoided in these identifiers and
abbreviated forms of these identifiers should not be used.
\- Type identifiers other than PDU identifiers should be ordinary mixed case,
with hyphenation used to set off acronyms only where an adjacent letter is a
capital, _e.g._ , _EstablishmentCause, SelectedPLMN (not Selected-PLMN, since
the \"d\" in \"Selected\" is lowercase), InitialUE-Identity and MeasSFN-SFN-
TimeDifference_.
\- Field identifiers shall start with a lowercase letter and use mixed case
thereafter, _e.g._ , _establishmentCause_. If a field identifier begins with
an acronym (which would normally be in upper case), the entire acronym is
lowercase (_plmn-Identity_ , not _pLMN-Identity_). The acronym is set off with
a hyphen (_ue-Identity_ , not _ueIdentity), in order to facilitate a
consistent search pattern with corresponding type identifiers_.
\- Identifiers should convey the meaning of the identifier and should avoid
adding unnecessary postfixes (e.g. abstractions like \'Info\') for the name.
\- Identifiers that are likely to be keywords of some language, especially
widely used languages, such as C++ or Java, should be avoided to the extent
possible.
\- Identifiers, other than PDU identifiers, longer than 25 characters should
be avoided where possible. It is recommended to use abbreviations, which
should be done in a consistent manner i.e. use \'Meas\' instead of
\'Measurement\' for all occurrences. Examples of typical abbreviations are
given in table A.3.1.2.1-1 below.
\- _For future extension:_ When an extension is introduced a suffix is added
to the identifier of the concerned ASN.1 field and/or type. A suffix of the
form \"‑rX\" is used, with X indicating the release, for ASN.1 fields or types
introduced in a later release (i.e. a release later than the original/first
release of the protocol) as well as for ASN.1 fields or types for which a
revision is introduced in a later release replacing a previous version, _e.g._
, _Foo-r9_ for the Rel-9 version of the ASN.1 type _Foo_. A suffix of the form
\"‑rXb\" is used for the first revision of a field that it appears in the same
release (X) as the original version of the field, \"‑rXc\" for a second intra-
release revision and so on. A suffix of the form \"‑vXYZ\" is used for ASN.1
fields or types that only are an extension of a corresponding earlier field or
type (see clause A.4), e.g., _AnElement-v10b0_ for the extension of the ASN.1
type _AnElement_ introduced in version 10.11.0 of the specification. A number
_0...9, 10, 11, etc._ is used to represent the first part of the version
number, indicating the release of the protocol. Lower case letters _a, b, c,
etc._ are used to represent the second (and third) part of the version number
if they are greater than 9\. In the procedural specification, in field
descriptions as well as in headings suffices are not used, unless there is a
clear need to distinguish the extension from the original field.
\- More generally, in case there is a need to distinguish different variants
of an ASN.1 field or IE, a suffix should be added at the end of the
identifiers e.g. _MeasObjectUTRA_ , _ConfigCommon_. When there is no
particular need to distinguish the fields (e.g. because the field is included
in different IEs), a common field identifier name may be used. This may be
attractive e.g. in case the procedural specification is the same for the
different variants.
\- It should be avoided to use field identifiers with the same name within the
elements of a CHOICE, including using a CHOICE inside a SEQUENCE (to avoid
certain compiler errors).
Table A.3.1.2-1: Examples of typical abbreviations used in ASN.1 identifiers
Abbreviation Abbreviated word
* * *
Config Configuration DL Downlink Ext Extension Freq Frequency Id Identity Ind
Indication Meas Measurement MIB MasterInformationBlock Neigh Neighbour(ing)
Param(s) Parameter(s) Phys Physical PCI Physical Cell Id Proc Process Reconfig
Reconfiguration Reest Re-establishment Req Request Rx Reception Sched
Scheduling SIB SystemInformationBlock Sync Synchronisation Thr Threshold Tx
Transmission UL Uplink
NOTE: The table A.3.1.2.1-1 is not exhaustive. Additional abbreviations may be
used in ASN.1 identifiers when needed.
### A.3.1.3 Text references using ASN.1 identifiers
A text reference into the RRC PDU contents description from other parts of the
specification is made using the ASN.1 field identifier of the referenced type.
The ASN.1 field and type identifiers used in text references should be in the
_italic font style_. The \"do not check spelling and grammar\" attribute in
Word should be set. Quotation marks (i.e., \"\") should not be used around the
ASN.1 field or type identifier.
A reference to an RRC PDU should be made using the corresponding ASN.1 field
identifier followed by the word \"message\", e.g., a reference to the
_RRCRelease_ message.
A reference to a specific part of an RRC PDU, or to a specific part of any
other ASN.1 type, should be made using the corresponding ASN.1 field
identifier followed by the word \"field\", e.g., a reference to the
_prioritisedBitRate_ field in the example below.
\-- /example/ ASN1START
LogicalChannelConfig ::= SEQUENCE {
ul-SpecificParameters SEQUENCE {
priority Priority,
prioritisedBitRate PrioritisedBitRate,
bucketSizeDuration BucketSizeDuration,
logicalChannelGroup INTEGER (0..3)
} OPTIONAL
}
\-- ASN1STOP
NOTE: All the ASN.1 start tags in the ASN.1 sections, used as examples in this
annex to the specification, are deliberately distorted, in order not to
include them when the ASN.1 description of the RRC PDU contents is extracted
from the specification.
A reference to a specific type of information element should be made using the
corresponding ASN.1 type identifier preceded by the acronym \"IE\", e.g., a
reference to the IE _LogicalChannelConfig_ in the example above.
References to a specific type of information element should only be used when
those are generic, i.e., without regard to the particular context wherein the
specific type of information element is used. If the reference is related to a
particular context, e.g., an RRC PDU type (message) wherein the information
element is used, the corresponding field identifier in that context should be
used in the text reference.
A reference to a specific value of an ASN.1 field should be made using the
corresponding ASN.1 value without using quotation marks around the ASN.1
value, e.g., \'if the _status_ field is set to value _true_ \'.
## A.3.2 High-level message structure
Within each logical channel type, the associated RRC PDU (message) types are
alternatives within a CHOICE, as shown in the example below.
\-- /example/ ASN1START
DL-DCCH-Message ::= SEQUENCE {
message DL-DCCH-MessageType
}
DL-DCCH-MessageType ::= CHOICE {
c1 CHOICE {
dlInformationTransfer DLInformationTransfer,
handoverFromEUTRAPreparationRequest HandoverFromEUTRAPreparationRequest,
mobilityFromEUTRACommand MobilityFromEUTRACommand,
rrcConnectionReconfiguration RRCConnectionReconfiguration,
rrcConnectionRelease RRCConnectionRelease,
securityModeCommand SecurityModeCommand,
ueCapabilityEnquiry UECapabilityEnquiry,
spare1 NULL
},
messageClassExtension SEQUENCE {}
}
\-- ASN1STOP
A nested two-level CHOICE structure is used, where the alternative PDU types
are alternatives within the inner level _c1_ CHOICE.
Spare alternatives (i.e., _spare1_ in this case) may be included within the
_c1_ CHOICE to facilitate future extension. The number of such spare
alternatives should not extend the total number of alternatives beyond an
integer-power-of-two number of alternatives (i.e., eight in this case).
Further extension of the number of alternative PDU types is facilitated using
the _messageClassExtension_ alternative in the outer level CHOICE.
## A.3.3 Message definition
Each PDU (message) type is specified in an ASN.1 section similar to the one
shown in the example below.
\-- /example/ ASN1START
RRCConnectionReconfiguration ::= SEQUENCE {
rrc-TransactionIdentifier RRC-TransactionIdentifier,
criticalExtensions CHOICE {
c1 CHOICE{
rrcConnectionReconfiguration-r8 RRCConnectionReconfiguration-r8-IEs,
spare3 NULL, spare2 NULL, spare1 NULL
},
criticalExtensionsFuture SEQUENCE {}
}
}
RRCConnectionReconfiguration-r8-IEs ::= SEQUENCE {
\-- Enter the IEs here.
...
}
\-- ASN1STOP
Hooks for _critical_ and _non-critical_ extension should normally be included
in the PDU type specification. How these hooks are used is further described
in clause A.4.
Critical extensions are characterised by a redefinition of the PDU contents
and need to be governed by a mechanism for protocol version agreement between
the encoder and the decoder of the PDU, such that the encoder is prevented
from sending a critically extended version of the PDU type, which is not
comprehended by the decoder.
Critical extension of a PDU type is facilitated by a two-level CHOICE
structure, where the alternative PDU contents are alternatives within the
inner level _c1_ CHOICE. Spare alternatives (i.e., _spare3_ down to _spare1_
in this case) may be included within the _c1_ CHOICE. The number of spare
alternatives to be included in the original PDU specification should be
decided case by case, based on the expected rate of critical extension in the
future releases of the protocol.
Further critical extension, when the spare alternatives from the original
specifications are used up, is facilitated using the
_criticalExtensionsFuture_ in the outer level CHOICE.
In PDU types where critical extension is not expected in the future releases
of the protocol, the inner level _c1_ CHOICE and the spare alternatives may be
excluded, as shown in the example below.
\-- /example/ ASN1START
RRCConnectionReconfigurationComplete ::= SEQUENCE {
rrc-TransactionIdentifier RRC-TransactionIdentifier,
criticalExtensions CHOICE {
rrcConnectionReconfigurationComplete-r8
RRCConnectionReconfigurationComplete-r8-IEs,
criticalExtensionsFuture SEQUENCE {}
}
}
RRCConnectionReconfigurationComplete-r8-IEs ::= SEQUENCE {
\-- Enter the fields here.
...
}
\-- ASN1STOP
Non-critical extensions are characterised by the addition of new information
to the original specification of the PDU type. If not comprehended, a non-
critical extension may be skipped by the decoder, whilst the decoder is still
able to complete the decoding of the comprehended parts of the PDU contents.
Non-critical extensions at locations other than the end of the message or
other than at the end of a field contained in a BIT or OCTET STRING are
facilitated by use of the ASN.1 extension marker \"...\". The original
specification of a PDU type should normally include the extension marker at
the end of the sequence of information elements contained.
Non-critical extensions at the end of the message or at the end of a field
that is contained in a BIT or OCTET STRING may be facilitated by use of an
empty sequence that is marked OPTIONAL e.g. as shown in the following example:
\-- /example/ ASN1START
RRCMessage-r8-IEs ::= SEQUENCE {
field1 InformationElement1,
field2 InformationElement2,
nonCriticalExtension SEQUENCE {} OPTIONAL
}
\-- ASN1STOP
The ASN.1 section specifying the contents of a PDU type may be followed by a
_field description_ table where a further description of, e.g., the semantic
properties of the fields may be included. The general format of this table is
shown in the example below. The field description table is absent in case
there are no fields for which further description needs to be provided e.g.
because the PDU does not include any fields, or because an IE is defined for
each field while there is nothing specific regarding the use of this IE that
needs to be specified.
+-------------------------------------------+ | _%PDU-TypeIdentifier%_ field descriptions | +===========================================+ | **_%field identifier%_** | | | | Field description. | +-------------------------------------------+ | **_%field identifier%_** | | | | Field description. | +-------------------------------------------+
The field description table has one column. The header row shall contain the
ASN.1 type identifier of the PDU type.
The following rows are used to provide field descriptions. Each row shall
include a first paragraph with a _field identifier_ (in **_bold and italic_**
font style) referring to the part of the PDU to which it applies. The
following paragraphs at the same row may include (in regular font style),
e.g., semantic description, references to other specifications and/or
specification of value units, which are relevant for the particular part of
the PDU.
The parts of the PDU contents that do not require a field description shall be
omitted from the field description table.
## A.3.4 Information elements
Each IE (information element) type is specified in an ASN.1 section similar to
the one shown in the example below.
\-- /example/ ASN1START
PRACH-ConfigSIB ::= SEQUENCE {
rootSequenceIndex INTEGER (0..1023),
prach-ConfigInfo PRACH-ConfigInfo
}
PRACH-Config ::= SEQUENCE {
rootSequenceIndex INTEGER (0..1023),
prach-ConfigInfo PRACH-ConfigInfo OPTIONAL -- Need N
}
PRACH-ConfigInfo ::= SEQUENCE {
prach-ConfigIndex ENUMERATED {ffs},
highSpeedFlag ENUMERATED {ffs},
zeroCorrelationZoneConfig ENUMERATED {ffs}
}
\-- ASN1STOP
IEs should be introduced whenever there are multiple fields for which the same
set of values apply. IEs may also be defined for other reasons e.g. to break
down a ASN.1 definition in to smaller pieces.
A group of closely related IE type definitions, like the IEs _PRACH-ConfigSIB_
and _PRACH-Config_ in this example, are preferably placed together in a common
ASN.1 section. The IE type identifiers should in this case have a common base,
defined as the _generic type identifier_. It may be complemented by a suffix
to distinguish the different variants. The \"_PRACH-Config_ \" is the generic
type identifier in this example, and the \"_SIB_ \" suffix is added to
distinguish the variant. The clause heading and generic references to a group
of closely related IEs defined in this way should use the generic type
identifier.
The same principle should apply if a new version, or an extension version, of
an existing IE is created for _critical_ or _non-critical_ extension of the
protocol (see clause A.4). The new version, or the extension version, of the
IE is included in the same ASN.1 section defining the original. A suffix is
added to the type identifier, using the naming conventions defined in clause
A.3.1.2, indicating the release or version of the where the new version, or
extension version, was introduced.
Local IE type definitions, like the IE _PRACH-ConfigInfo_ in the example
above, may be included in the ASN.1 section and be referenced in the other IE
types defined in the same ASN.1 section. The use of locally defined IE types
should be encouraged, as a tool to break up large and complex IE type
definitions. It can improve the readability of the code. There may also be a
benefit for the software implementation of the protocol end-points, as these
IE types are typically provided by the ASN.1 compiler as independent data
elements, to be used in the software implementation.
An IE type defined in a local context, like the IE _PRACH-ConfigInfo_ , should
not be referenced directly from other ASN.1 sections in the RRC specification.
An IE type which is referenced in more than one ASN.1 section should be
defined in a separate clause, with a separate heading and a separate ASN.1
section (possibly as one in a set of closely related IE types, like the IEs
_PRACH-ConfigSIB_ and _PRACH-Config_ in the example above). Such IE types are
also referred to as \'global IEs\'.
NOTE: Referring to an IE type, that is defined as a local IE type in the
context of another ASN.1 section, does not generate an ASN.1 compilation
error. Nevertheless, using a locally defined IE type in that way makes the IE
type definition difficult to find, as it would not be visible at an outline
level of the specification. It should be avoided.
The ASN.1 section specifying the contents of one or more IE types, like in the
example above, may be followed by a _field description_ table, where a further
description of, e.g., the semantic properties of the fields of the information
elements may be included. This table may be absent, similar as indicated in
clause A.3.3 for the specification of the PDU type. The general format of the
_field description_ table is the same as shown in clause A.3.3 for the
specification of the PDU type.
## A.3.5 Fields with optional presence
A field with optional presence may be declared with the keyword DEFAULT. It
identifies a default value to be assumed, if the sender does not include a
value for that field in the encoding:
\-- /example/ ASN1START
PreambleInfo ::= SEQUENCE {
numberOfRA-Preambles INTEGER (1..64) DEFAULT 1,
...
}
\-- ASN1STOP
Alternatively, a field with optional presence may be declared with the keyword
OPTIONAL. It identifies a field for which a value can be omitted. The omission
carries semantics, which is different from any normal value of the field:
\-- /example/ ASN1START
PRACH-Config ::= SEQUENCE {
rootSequenceIndex INTEGER (0..1023),
prach-ConfigInfo PRACH-ConfigInfo OPTIONAL -- Need N
}
\-- ASN1STOP
The semantics of an optionally present field, in the case it is omitted,
should be indicated at the end of the paragraph including the keyword
OPTIONAL, using a short comment text with a need code. The need code includes
the keyword \"Need\", followed by one of the predefined semantics tags (S, M,
N or R) defined in clause 6.1. If the semantics tag S is used, the semantics
of the absent field are further specified either in the field description
table following the ASN.1 section, or in procedure text.
The addition of OPTIONAL keywords for capability groups is based on the
following guideline. If there is more than one field in the lower level IE,
then OPTIONAL keyword is added at the group level. If there is only one field
in the lower level IE, OPTIONAL keyword is not added at the group level.
## A.3.6 Fields with conditional presence
A field with conditional presence is declared with the keyword OPTIONAL. In
addition, a short comment text shall be included at the end of the paragraph
including the keyword OPTIONAL. The comment text includes the keyword
\"Cond\", followed by a condition tag associated with the field (\"UL\" in
this example):
\-- /example/ ASN1START
LogicalChannelConfig ::= SEQUENCE {
ul-SpecificParameters SEQUENCE {
priority INTEGER (0),
...
} OPTIONAL -- Cond UL
}
\-- ASN1STOP
When conditionally present fields are included in an ASN.1 section, the field
description table after the ASN.1 section shall be followed by a _conditional
presence_ table. The conditional presence table specifies the conditions for
including the fields with conditional presence in the particular ASN.1
section.
Conditional presence Explanation
* * *
UL Specification of the conditions for including the field associated with the
condition tag = \"UL\". Semantics in case of optional presence under certain
conditions may also be specified.
The conditional presence table has two columns. The first column (heading:
\"Conditional presence\") contains the condition tag (in _italic_ font style),
which links the fields with a condition tag in the ASN.1 section to an entry
in the table. The second column (heading: \"Explanation\") contains a text
specification of the conditions and requirements for the presence of the
field. The second column may also include semantics, in case of an optional
presence of the field, under certain conditions i.e. using the same predefined
tags as defined for optional fields in A.3.5.
Conditional presence should primarily be used when presence of a field depends
on the presence and/or value of other fields within the same message. If the
presence of a field depends on whether another feature/function has been
configured, while this function can be configured independently e.g. by
another message and/or at another point in time, the relation is best
reflected by means of a statement in the field description table.
If the ASN.1 section does not include any fields with conditional presence,
the conditional presence table shall not be included.
Whenever a field is only applicable in specific cases e.g. TDD, use of
conditional presence should be considered.
## A.3.7 Guidelines on use of lists with elements of SEQUENCE type
Where an information element has the form of a list (the SEQUENCE OF construct
in ASN.1) with the type of the list elements being a SEQUENCE data type, an
information element shall be defined for the list elements even if it would
not otherwise be needed.
For example, a list of PLMN identities with reservation flags is defined as in
the following example:
\-- /example/ ASN1START
PLMN-IdentityInfoList ::= SEQUENCE (SIZE (1..6)) OF PLMN-IdentityInfo
PLMN-IdentityInfo ::= SEQUENCE {
plmn-Identity PLMN-Identity,
cellReservedForOperatorUse ENUMERATED {reserved, notReserved}
}
\-- ASN1STOP
rather than as in the following (bad) example, which may cause generated code
to contain types with unpredictable names:
\-- /bad example/ ASN1START
PLMN-IdentityList ::= SEQUENCE (SIZE (1..6)) OF SEQUENCE {
plmn-Identity PLMN-Identity,
cellReservedForOperatorUse ENUMERATED {reserved, notReserved}
}
\-- ASN1STOP
## A.3.8 Guidelines on use of parameterised SetupRelease type
The usage of the parameterised _SetupRelease_ type is like a function call in
programming languages where the element type parameter is passed as a
parameter. The parameterised type only implies a textual change in abstract
syntax where all references to the parameterised type are replaced by the
compiler with the release/setup choice. Two examples of the usage are shown
below:
\-- /example/ ASN1START
RRCMessage-rX-IEs ::= SEQUENCE {
field-rX SetupRelease { IE-rX } OPTIONAL, -- Need M
...
}
RRCMessage-rX-IEs ::= SEQUENCE {
field-rX SetupRelease { Element-rX }
} OPTIONAL, -- Need M
Element-rX ::= SEQUENCE {
field1-rX IE1-rX,
field2-rX IE2-rX OPTIONAL -- Need N
} OPTIONAL, -- Need M
\-- /example/ ASN1STOP
The _SetupRelease_ is always be used with only named IEs, i.e. the example
below is not allowed:
\-- /example/ ASN1START
RRCMessage-rX-IEs ::= SEQUENCE {
field-rX SetupRelease { SEQUENCE { -- Unnamed SEQUENCEs are not allowed!
field1-rX IE1-rX,
field2-rX IE2-rX OPTIONAL -- Need N
}
} OPTIONAL, -- Need M
}
\-- /example/ ASN1STOP
If a field defined using the parameterized SetupRelease type requires
procedural text, the field is referred to using the values defined for the
type itself, namely, \"setup\" and \"release\". For example, procedural text
for field-rX above could be as follows:
1> if _field-rX_ is set to \"setup\":
2> do something;
1> else (_field-rX_ is set to \"release\"):
2> release _field-rX_ (if appropriate).
## A.3.9 Guidelines on use of ToAddModList and ToReleaseList
In order to benefit from delta signalling when modifying lists with many
and/or large elements, so-called add/mod- and release- lists should be used.
Instead of a single list containing all elements of the list, the ASN.1
provides two lists. One list is used to convey the actual elements that are to
be added to the list or modified in the list. The second list conveys only the
identities (IDs) of the list elements that are to be released from the list.
In other words, the ASN.1 defines only means to signal modifications to a list
maintained in the receiver (typically the UE). An example is provided below:
\-- /example/ ASN1START
AnExampleIE ::= SEQUENCE {
elementsToAddModList SEQUENCE (SIZE (1..maxNrofElements)) OF Element OPTIONAL,
-- Need N
elementsToReleaseList SEQUENCE (SIZE (1..maxNrofElements)) OF ElementId
OPTIONAL, -- Need N
...
}
Element ::= SEQUENCE {
elementId ElementId,
aField INTEG ER (0..16777215),
anotherField OCTET STRING,
...
}
ElementId ::= INTEGER (0..maxNrofElements-1)
maxNrofElements INTEGER ::= 50
maxNrofElements-1 INTEGER ::= 49
\-- /example/ ASN1STOP
As can be seen, the elements of the list must contain an identity (INTEGER)
that identifies the elements unambiguously upon addition, modification and
removal. It is recommended to define an IE for that identifier (here
ElementId) so that it can be used both for a field inside the element as well
as in the _elementsToReleaseList_.
Both lists should be made OPTIONAL and flagged as \"Need N\". The need code
reflects that the UE does not maintain the received lists as such but rather
updates its configuration using the information therein. In other words, it is
not possible to provide via delta signalling an update to a previously
signalled _elementsToAddModList_ or elementsToReleaseList (which Need M would
imply). The update is always in relation to the UE\'s internal configuration.
Note that the release of a field (a list element as well as any other field)
releases all its sub-fields (sub-fields configured by elementsToAddModList and
any other sub-field).
If no procedural text is provided for a set of ToAddModList and ToReleaseList,
the following generic procedure applies:
The UE shall:
1> for each _ElementId_ in the _elementsToReleaseList_ ,:
2> if the current UE configuration includes an _Element_ with the given
_ElementId_ :
3> release the _Element_ from the current UE configuration;
1> for each _Element_ in the _elementsToAddModList_ :
2> if the current UE configuration includes an _Element_ with the given
_ElementId_ :
3> modify the configured _Element_ in accordance with the received _Element_ ;
2> else:
3> add received _Element_ to the UE configuration.
## A.3.10 Guidelines on use of of lists (without ToAddModList and
ToReleaseList)
As per clause 6.1.3, when using lists without the ToAddModList and
ToReleaseList structure, the contents of the lists are always replaced. To
illustrate this, an example is provided below:
\-- /example/ ASN1START
\-- TAG_EXAMPLE_LISTS_START
AnExampleIE ::= SEQUENCE {
elementList SEQUENCE (SIZE (1..maxNrofElements)) OF Element OPTIONAL, \-- Need
M
...,
[[
elementListExt-v2030 SEQUENCE (SIZE (1..maxNrofElementsExt)) OF Element
OPTIONAL, -- Need M
]]
}
Element ::= SEQUENCE {
useFeatureX BOOLEAN,
aField INTEGER (0..127) OPTIONAL, -- Need M
anotherField INTEGER (0..127) OPTIONAL, -- Need R
...
}
maxNrofElements INTEGER ::= 8
maxNrofElements-1 INTEGER ::= 7
maxNrofElementsExt INTEGER ::= 8
maxNrofElementsExt-1 INTEGER ::= 7
\-- TAG_EXAMPLE_LISTS_STOP
\-- /example/ ASN1STOP
As can be seen, the _elementList_ list itself uses Need M, but each list entry
_Element_ contains mandatory, Need M and Need R fields. If the list is first
signalled to UE with 3 entries, and subsequently again with 2 entries, UE
shall retain only the latter list, i.e. the list with 2 elements will
completely replace the list with 3 elements. That also means that the field
_aField_ will be treated as if it was newly created, i.e. network must include
it if it wishes UE to utilize the field even if it was previously signalled.
This also implies that the Need M field (_aField_) will be treated in the same
way as the Need R field (_anotherField_), i.e. delta signalling is not applied
and the network has to signal the field to ensure UE does not release the
value (which is why Need M should not normally be used in the entries of these
lists).
# A.4 Extension of the PDU specifications
## A.4.1 General principles to ensure compatibility
It is essential that extension of the protocol does not affect
interoperability i.e. it is essential that implementations based on different
versions of the RRC protocol are able to interoperate. In particular, this
requirement applies for the following kind of protocol extensions:
\- Introduction of new PDU types (i.e. these should not cause unexpected
behaviour or damage).
\- Introduction of additional fields in an extensible PDUs (i.e. it should be
possible to ignore uncomprehended extensions without affecting the handling of
the other parts of the message).
\- Introduction of additional values of an extensible field of PDUs. If used,
the behaviour upon reception of an uncomprehended value should be defined.
It should be noted that the PDU extension mechanism may depend on the logical
channel used to transfer the message e.g. for some PDUs an implementation may
be aware of the protocol version of the peer in which case selective ignoring
of extensions may not be required.
The non-critical extension mechanism is the primary mechanism for introducing
protocol extensions i.e. the critical extension mechanism is used merely when
there is a need to introduce a \'clean\' message version. Such a need appears
when the last message version includes a large number of non-critical
extensions, which results in issues like readability, overhead associated with
the extension markers. The critical extension mechanism may also be considered
when it is complicated to accommodate the extensions by means of non-critical
extension mechanisms.
## A.4.2 Critical extension of messages and fields
The mechanisms to critically extend a message are defined in A.3.3. There are
both \"outer branch\" and \"inner branch\" mechanisms available. The \"outer
branch\" consists of a CHOICE having the name _criticalExtensions_ , with two
values, _c1_ and _criticalExtensionsFuture_. The _criticalExtensionsFuture_
branch consists of an empty SEQUENCE, while the c1 branch contains the \"inner
branch\" mechanism.
The \"inner branch\" structure is a CHOICE with values of the form
\"_MessageName-rX-IEs_ \" (e.g., \"_RRCConnectionReconfiguration-r8-IEs_ \")
or \"_spareX_ \", with the spare values having type NULL. The \"-rX-IEs\"
structures contain the _complete_ structure of the message IEs for the
appropriate release; i.e., the critical extension branch for the Rel-10
version of a message includes all Rel-8 and Rel-9 fields (that are not
obviated in the later version), rather than containing only the additional
Rel-10 fields.
The following guidelines may be used when deciding which mechanism to
introduce for a particular message, i.e. only an \'outer branch\', or an
\'outer branch\' in combination with an \'inner branch\' including a certain
number of spares:
\- For certain messages, e.g. initial uplink messages, messages transmitted on
a broadcast channel, critical extension may not be applicable.
\- An outer branch may be sufficient for messages not including any fields.
\- The number of spares within inner branch should reflect the likelihood that
the message will be critically extended in future releases (since each release
with a critical extension for the message consumes one of the spare values).
The estimation of the critical extension likelihood may be based on the
number, size and changeability of the fields included in the message.
\- In messages where an inner branch extension mechanism is available, all
spare values of the inner branch should be used before any critical extensions
are added using the outer branch.
The following example illustrates the use of the critical extension mechanism
by showing the ASN.1 of the original and of a later release
\-- /example/ ASN1START -- Original release
RRCMessage ::= SEQUENCE {
rrc-TransactionIdentifier RRC-TransactionIdentifier,
criticalExtensions CHOICE {
c1 CHOICE{
rrcMessage-r8 RRCMessage-r8-IEs,
spare3 NULL, spare2 NULL, spare1 NULL
},
criticalExtensionsFuture SEQUENCE {}
}
}
\-- ASN1STOP
\-- /example/ ASN1START -- Later release
RRCMessage ::= SEQUENCE {
rrc-TransactionIdentifier RRC-TransactionIdentifier,
criticalExtensions CHOICE {
c1 CHOICE{
rrcMessage-r8 RRCMessage-r8-IEs,
rrcMessage-r10 RRCMessage-r10-IEs,
rrcMessage-r11 RRCMessage-r11-IEs,
rrcMessage-r14 RRCMessage-r14-IEs
},
later CHOICE {
c2 CHOICE{
rrcMessage-r16 RRCMessage-r16-IEs,
spare7 NULL, spare6 NULL, spare5 NULL, spare4 NULL,
spare3 NULL, spare2 NULL, spare1 NULL
},
criticalExtensionsFuture SEQUENCE {}
}
}
}
\-- ASN1STOP
It is important to note that critical extensions may also be used at the level
of individual fields i.e. a field may be replaced by a critically extended
version. When sending the extended version, the original version may also be
included (e.g. original field is mandatory, E-UTRAN is unaware if UE supports
the extended version). In such cases, a UE supporting both versions may be
required to ignore the original field. The following example illustrates the
use of the critical extension mechanism by showing the ASN.1 of the original
and of a later release.
\-- /example/ ASN1START -- Original release
RRCMessage ::= SEQUENCE {
rrc-TransactionIdentifier RRC-TransactionIdentifier,
criticalExtensions CHOICE {
c1 CHOICE{
rrcMessage-r8 RRCMessage-r8-IEs,
spare3 NULL, spare2 NULL, spare1 NULL
},
criticalExtensionsFuture SEQUENCE {}
}
}
RRCMessage-rN-IEs ::= SEQUENCE {
field1-rN ENUMERATED {
value1, value2, value3, value4} OPTIONAL, -- Need N
field2-rN InformationElement2-rN OPTIONAL, -- Need N
nonCriticalExtension RRCConnectionReconfiguration-vMxy-IEs OPTIONAL
}
RRCConnectionReconfiguration-vMxy-IEs ::= SEQUENCE {
field2-rM InformationElement2-rM OPTIONAL, -- Cond NoField2rN
nonCriticalExtension SEQUENCE {} OPTIONAL
}
\-- ASN1STOP
Conditional presence Explanation
* * *
_NoField2rN_ The field is optionally present, need N, if field2-rN is absent.
Otherwise the field is absent
Finally, it is noted that a critical extension may be introduced in the same
release as the one in which the original field was introduced e.g. to correct
an essential ASN.1 error. In such cases a UE capability may be introduced, to
assist the network in deciding whether or not to use the critical extension.
## A.4.3 Non-critical extension of messages
### A.4.3.1 General principles
The mechanisms to extend a message in a non-critical manner are defined in
A.3.3. W.r.t. the use of extension markers, the following additional
guidelines apply:
\- When further non-critical extensions are added to a message that has been
critically extended, the inclusion of these non-critical extensions in earlier
critical branches of the message should be avoided when possible.
\- The extension marker (\"...\") is the primary non-critical extension
mechanism that is used but empty sequences may be used if length determinant
is not required. Examples of cases where a length determinant is not required:
\- at the end of a message;
\- at the end of a structure contained in a BIT STRING or OCTET STRING.
\- When an extension marker is available, non-critical extensions are
preferably placed at the location (e.g. the IE) where the concerned parameter
belongs from a logical/ functional perspective (referred to as the \'_default
extension location_ \').
\- It is desirable to aggregate extensions of the same release or version of
the specification into a group, which should be placed at the lowest possible
level.
\- In specific cases it may be preferable to place extensions elsewhere
(referred to as the \'_actual extension location_ \') e.g. when it is possible
to aggregate several extensions in a group. In such a case, the group should
be placed at the lowest suitable level in the message.
\- In case placement at the default extension location affects earlier
critical branches of the message, locating the extension at a following higher
level in the message should be considered.
\- In case an extension is not placed at the default extension location, an IE
should be defined. The IE\'s ASN.1 definition should be placed in the same
ASN.1 section as the default extension location. In case there are
intermediate levels in-between the actual and the default extension location,
an IE may be defined for each level. Intermediate levels are primarily
introduced for readability and overview. Hence intermediate levels need not
always be introduced e.g. they may not be needed when the default and the
actual extension location are within the same ASN.1 section.
### A.4.3.2 Further guidelines
Further to the general principles defined in the previous section, the
following additional guidelines apply regarding the use of extension markers:
\- Extension markers within SEQUENCE:
\- Extension markers are primarily, but not exclusively, introduced at the
higher nesting levels.
\- Extension markers are introduced for a SEQUENCE comprising several fields
as well as for information elements whose extension would result in complex
structures without it (e.g. re-introducing another list).
\- Extension markers are introduced to make it possible to maintain important
information structures e.g. parameters relevant for one particular RAT.
\- Extension markers are also used for size critical messages (i.e. messages
on BCCH, BR-BCCH, PCCH and CCCH), although introduced somewhat more carefully.
\- The extension fields introduced (or frozen) in a specific version of the
specification are grouped together using double brackets.
\- Extension markers within ENUMERATED:
\- Spare values may be used until the number of values reaches the next power
of 2, while the extension marker caters for extension beyond that limit, given
that the use of spare values in a later Release is possible without any error
cases.
\- A suffix of the form \"vXYZ\" is used for the identifier of each new value,
e.g. \"value-vXYZ\".
\- Extension markers within CHOICE:
\- Extension markers are introduced when extension is foreseen and when
comprehension is not required by the receiver i.e. behaviour is defined for
the case where the receiver cannot comprehend the extended value (e.g.
ignoring an optional CHOICE field). It should be noted that defining the
behaviour of a receiver upon receiving a not comprehended choice value is not
required if the sender is aware whether or not the receiver supports the
extended value.
\- A suffix of the form \"vXYZ\" is used for the identifier of each new choice
value, e.g. \"choice-vXYZ\".
Non-critical extensions at the end of a message/ of a field contained in an
OCTET or BIT STRING:
\- When a nonCriticalExtension is actually used, a \"Need\" code should not be
provided for the field, which always is a group including at least one
extension and a field facilitating further possible extensions. For
simplicity, it is recommended not to provide a \"Need\" code when the field is
not actually used either.
Further, more general, guidelines:
\- In case a need code is not provided for a group, a \"Need\" code is
provided for all individual extension fields within the group i.e. including
for fields that are not marked as OPTIONAL. The latter is to clarify the
action upon absence of the whole group.
### A.4.3.3 Typical example of evolution of IE with local extensions
The following example illustrates the use of the extension marker for a number
of elementary cases (sequence, enumerated, choice). The example also
illustrates how the IE may be revised in case the critical extension mechanism
is used.
NOTE In case there is a need to support further extensions of release n while
the ASN.1 of release (n+1) has been frozen, without requiring the release n
receiver to support decoding of release (n+1) extensions, more advanced
mechanisms are needed e.g. including multiple extension markers.
\-- /example/ ASN1START
InformationElement1 ::= SEQUENCE {
field1 ENUMERATED {
value1, value2, value3, value4-v880,
..., value5-v960 },
field2 CHOICE {
field2a BOOLEAN,
field2b InformationElement2b,
...,
field2c-v960 InformationElement2c-r9
},
...,
[[
field3-r9 InformationElement3-r9 OPTIONAL -- Need R
]],
[[
field3-v9a0 InformationElement3-v9a0 OPTIONAL, -- Need R
field4-r9 InformationElement4 OPTIONAL -- Need R
]]
}
InformationElement1-r10 ::= SEQUENCE {
field1 ENUMERATED {
value1, value2, value3, value4-v880,
value5-v960, value6-v1170, spare2, spare1, ... },
field2 CHOICE {
field2a BOOLEAN,
field2b InformationElement2b,
field2c-v960 InformationElement2c-r9,
...,
field2d-v12b0 INTEGER (0..63)
},
field3-r9 InformationElement3-r10 OPTIONAL, -- Need R
field4-r9 InformationElement4 OPTIONAL, -- Need R
field5-r10 BOOLEAN,
field6-r10 InformationElement6-r10 OPTIONAL, -- Need R
...,
[[
field3-v1170 InformationElement3-v1170 OPTIONAL -- Need R
]]
}
\-- ASN1STOP
Some remarks regarding the extensions of _InformationElement1_ as shown in the
above example:
\-- The _InformationElement1_ is initially extended with a number of non-
critical extensions. In release 10 however, a critical extension is introduced
for the message using this IE. Consequently, a new version of the IE
_InformationElement1_ (i.e. _InformationElement1-r10_) is defined in which the
earlier non-critical extensions are incorporated by means of a revision of the
original field.
\-- The _value4-v880_ is replacing a spare value defined in the original
protocol version for _field1_. Likewise _value6-v1170_ replaces _spare3_ that
was originally defined in the r10 version of _field1._
\-- Within the critically extended release 10 version of _InformationElement1_
, the names of the original fields/IEs are not changed, unless there is a real
need to distinguish them from other fields/IEs. E.g. the _field1_ and
_InformationElement4_ were defined in the original protocol version (release
8) and hence not tagged. Moreover, the _field3-r9_ is introduced in release 9
and not re-tagged; although, the _InformationElement3_ is also critically
extended and therefore tagged _InformationElement3-r10_ in the release 10
version of InformationElement1.
### A.4.3.4 Typical examples of non critical extension at the end of a message
The following example illustrates the use of non-critical extensions at the
end of the message or at the end of a field that is contained in a BIT or
OCTET STRING i.e. when an empty sequence is used.
\-- /example/ ASN1START
RRCMessage-r8-IEs ::= SEQUENCE {
field1 InformationElement1,
field2 InformationElement2,
field3 InformationElement3 OPTIONAL, -- Need N
nonCriticalExtension RRCMessage-v860-IEs OPTIONAL
}
RRCMessage-v860-IEs ::= SEQUENCE {
field4-v860 InformationElement4 OPTIONAL, -- Need S
field5-v860 BOOLEAN OPTIONAL, -- Cond C54
nonCriticalExtension RRCMessage-v940-IEs OPTIONAL
}
RRCMessage-v940-IEs ::= SEQUENCE {
field6-v940 InformationElement6-r9 OPTIONAL, -- Need R
nonCriticalExtensions SEQUENCE {} OPTIONAL
}
\-- ASN1STOP
Some remarks regarding the extensions shown in the above example:
\-- The _InformationElement4_ is introduced in the original version of the
protocol (release 8) and hence no suffix is used.
### A.4.3.5 Examples of non-critical extensions not placed at the default
extension location
The following example illustrates the use of non-critical extensions in case
an extension is not placed at the default extension location.
#### \-- _ParentIE-WithEM_
The IE _ParentIE-WithEM_ is an example of a high level IE including the
extension marker (EM). The root encoding of this IE includes two lower level
IEs _ChildIE1-WithoutEM_ and _ChildIE2-WithoutEM_ which not include the
extension marker. Consequently, non-critical extensions of the Child-IEs have
to be included at the level of the Parent-IE.
The example illustrates how the two extension IEs _ChildIE1-WithoutEM-vNx0_
and _ChildIE2-WithoutEM-vNx0_ (both in release N) are used to connect non-
critical extensions with a default extension location in the lower level IEs
to the actual extension location in this IE.
**_ParentIE-WithEM_** information element
\-- /example/ ASN1START
ParentIE-WithEM ::= SEQUENCE {
\-- Root encoding, including:
childIE1-WithoutEM ChildIE1-WithoutEM OPTIONAL, -- Need N
childIE2-WithoutEM ChildIE2-WithoutEM OPTIONAL, -- Need N
...,
[[
childIE1-WithoutEM-vNx0 ChildIE1-WithoutEM-vNx0 OPTIONAL, -- Need N
childIE2-WithoutEM-vNx0 ChildIE2-WithoutEM-vNx0 OPTIONAL -- Need N
]]
}
\-- ASN1STOP
Some remarks regarding the extensions shown in the above example:
\-- The fields _childIEx-WithoutEM-vNx0_ may not really need to be optional
(depends on what is defined at the next lower level).
\-- In general, especially when there are several nesting levels, fields
should be marked as optional only when there is a clear reason.
#### _\-- ChildIE1-WithoutEM_
The IE _ChildIE1-WithoutEM_ is an example of a lower level IE, used to control
certain radio configurations including a configurable feature which can be
setup or released using the local IE _ChIE1-ConfigurableFeature_. The example
illustrates how the new field _chIE1-NewField_ is added in release N to the
configuration of the configurable feature. The example is based on the
following assumptions:
\-- When initially configuring as well as when modifying the new field, the
original fields of the configurable feature have to be provided also i.e. as
if the extended ones were present within the setup branch of this feature.
\-- When the configurable feature is released, the new field should be
released also.
\-- When omitting the original fields of the configurable feature the UE
continues using the existing values (which is used to optimise the signalling
for features that typically continue unchanged upon handover).
\-- When omitting the new field of the configurable feature the UE releases
the existing values and discontinues the associated functionality (which may
be used to support release of unsupported functionality upon handover to an
eNB supporting an earlier protocol version).
The above assumptions, which affect the use of conditions and need codes, may
not always apply. Hence, the example should not be re-used blindly.
**_ChildIE1-WithoutEM_** information element
\-- /example/ ASN1START
ChildIE1-WithoutEM ::= SEQUENCE {
\-- Root encoding, including:
chIE1-ConfigurableFeature ChIE1-ConfigurableFeature OPTIONAL -- Need N
}
ChildIE1-WithoutEM-vNx0 ::= SEQUENCE {
chIE1-ConfigurableFeature-vNx0 ChIE1-ConfigurableFeature-vNx0 OPTIONAL \--
Cond ConfigF
}
ChIE1-ConfigurableFeature ::= CHOICE {
release NULL,
setup SEQUENCE {
\-- Root encoding
}
}
ChIE1-ConfigurableFeature-vNx0 ::= SEQUENCE {
chIE1-NewField-rN INTEGER (0..31)
}
\-- ASN1STOP
Conditional presence Explanation
* * *
_ConfigF_ The field is optional present, need R, in case of
chIE1-ConfigurableFeature is included and set to \"setup\"; otherwise the
field is absent and the UE shall delete any existing value for this field.
#### _\-- ChildIE2-WithoutEM_
The IE _ChildIE2-WithoutEM_ is an example of a lower level IE, typically used
to control certain radio configurations. The example illustrates how the new
field _chIE1-NewField_ is added in release N to the configuration of the
configurable feature.
**_ChildIE2-WithoutEM_** information element
\-- /example/ ASN1START
ChildIE2-WithoutEM ::= CHOICE {
release NULL,
setup SEQUENCE {
\-- Root encoding
}
}
ChildIE2-WithoutEM-vNx0 ::= SEQUENCE {
chIE2-NewField-rN INTEGER (0..31) OPTIONAL -- Cond ConfigF
}
\-- ASN1STOP
Conditional presence Explanation
* * *
_ConfigF_ The field is optional present, need R, in case of
chIE2-ConfigurableFeature is included and set to \"setup\"; otherwise the
field is absent and the UE shall delete any existing value for this field.
# A.5 Guidelines regarding inclusion of transaction identifiers in RRC
messages
The following rules provide guidance on which messages should include a
Transaction identifier
1: DL messages on CCCH that move UE to RRC-Idle should not include the RRC
transaction identifier.
2: All network initiated DL messages by default should include the RRC
transaction identifier.
3: All UL messages that are direct response to a DL message with an RRC
Transaction identifier should include the RRC Transaction identifier.
4: All UL messages that require a direct DL response message should include an
RRC transaction identifier.
5: All UL messages that are not in response to a DL message nor require a
corresponding response from the network should not include the RRC Transaction
identifier.
# A.6 Guidelines regarding use of need codes
The following rule provides guidance for determining need codes for optional
downlink fields:
\- if the field needs to be stored by the UE (i.e. maintained) when absent:
\- use Need M (=Maintain);
\- else, if the field needs to be released by the UE when absent:
\- use Need R (=Release);
\- else, if UE shall take no action when the field is absent (i.e. UE does not
even need to maintain any existing value of the field):
\- use Need N (=None);
\- else (UE behaviour upon absence does not fit any of the above conditions):
\- use Need S (=Specified);
\- specify the UE behaviour upon absence of the field in the procedural text
or in the field description table.
# A.7 Guidelines regarding use of conditions
Conditions are primarily used to specify network restrictions, for which the
following types can be distinguished:
\- Message Contents related constraints e.g. that a field B is mandatory
present if the same message includes field A and when it is set value X.
\- Configuration Constraints e.g. that a field D can only be signalled if
field C is configured and set to value Y. (i.e. regardless of whether field C
is present in the same message or previously configured).
The use of these conditions is illustrated by an example.
\-- /example/ ASN1START
RRCMessage-IEs ::= SEQUENCE {
fieldA FieldA OPTIONAL, -- Need M
fieldB FieldB OPTIONAL, -- Cond FieldAsetToX
fieldC FieldC OPTIONAL, -- Need M
fieldD FieldD OPTIONAL, -- Cond FieldCsetToY
nonCriticalExtension SEQUENCE {} OPTIONAL
}
\-- /example/ ASN1STOP
_Conditional presence_ _Explanation_
* * *
_FieldAsetToX_ The field is mandatory present if fieldA is included and set to
valueX. Otherwise the field is optionally present, need R. _FieldCsetToY_ The
field is optionally present, need M, if fieldC is configured and set to
valueY. Otherwise the field is absent and the UE does not maintain the value
# A.8 Miscellaneous
The following miscellaneous convention should be used:
\- UE capabilities: TS 38.306 [26] specifies that the network should in
general respect the UE\'s capabilities. Hence there is no need to include
statement clarifying that the network, when setting the value of a certain
configuration field, shall respect the related UE capabilities unless there is
a particular need e.g. particularly complicated cases.
###### ## Annex B (informative): RRC Information
# B.1 Protection of RRC messages
The following list provides information which messages can be sent
(unprotected) prior to AS security activation and which messages can be sent
unprotected after AS security activation. Those messages indicated \"-\" in
\"P\" column should never be sent unprotected by gNB or UE. Further
requirements are defined in the procedural text.
P...Messages that can be sent (unprotected) prior to AS security activation
A -- I...Messages that can be sent without integrity protection after AS
security activation
A -- C...Messages that can be sent unciphered after AS security activation
NA... Message can never be sent after AS security activation
Message P A-I A-C Comment
* * *
_CounterCheck_ \- - -  
_CounterCheckResponse_ \- - -  
_DLInformationTransfer_ \+ - -  
_FailureInformation_ \- - -  
_LocationMeasurementIndication_ \- - -  
_MIB_ \+ + +  
_MeasurementReport_ \- - - Measurement configuration may be sent prior to AS
security activation. But: In order to protect privacy of UEs,
_MeasurementReport_ is only sent from the UE after successful AS security
activation. _MobilityFromNRCommand_ \- - -  
_Paging_ \+ + +  
_RRCReconfiguration_ \+ - - The message shall not be sent unprotected before
AS security activation if it is used to perform handover or to establish SRB2
and DRBs. _RRCReconfigurationComplete_ \+ - - Unprotected, if sent as response
to _RRCReconfiguration_ which was sent before AS security activation.
_RRCReestablishment_ \- - + Integrity protection applied, but no ciphering.
_RRCReestablishmentComplete_ \- - -  
_RRCReestablishmentRequest_ \- - + This message is not protected by PDCP
operation. However, a _shortMAC-I_ is included. _RRCReject_ \+ + +
Justification for A-I and A-C: the message can be sent in SRB0 in RRC_INACTIVE
state, after the AS security is activated. _RRCRelease_ \+ - - Justification
for P: If the RRC connection only for signalling not requiring DRBs or
ciphered messages, or the signalling connection has to be released
prematurely, this message is sent as unprotected. _RRCRelease_ message sent
before AS security activation cannot include _deprioritisationReq,
suspendConfig, redirectedCarrierInfo, cellReselectionPriorities_ information
fields. _RRCResume_ \- - -  
_RRCResumeComplete_ \- - -  
_RRCResumeRequest_ \- - + This message is not protected by PDCP operation.
However, a _resumeMAC-I_ is included. _RRCResumeRequest1_ \- - + This message
is not protected by PDCP operation. However, a _resumeMAC-I_ is included.
_RRCSetup_ \+ + + Justification for A-I and A-C: the message can be sent in
SRB0 in RRC_INACTIVE or RRC_CONNECTED states, after the AS security is
activated. _RRCSetupComplete_ \+ NA NA  
_RRCSetupRequest_ \+ NA NA  
_RRCSystemInfoRequest_ \+ + + Justification for A-I and A-C: the message can
be sent in SRB0 in RRC_INACTIVE state, after the AS security is activated.
_SIB1_ \+ + +  
_SCGFailureInformation_ \- - -  
_SCGFailureInformationEUTRA_ \- - -  
_SecurityModeCommand_ \+ NA NA Integrity protection applied, but no ciphering
(integrity verification done after the message received by RRC).
_SecurityModeComplete_ \- - + The message is sent after AS security
activation. Integrity protection applied, but no ciphering. Ciphering is
applied after completing the procedure. _SecurityModeFailure_ \+ NA NA Neither
integrity protection nor ciphering applied. _SystemInformation_ \+ + +  
_UEAssistanceInformation_ \- - -  
_UECapabilityEnquiry_ \+ - - The network should retrieve UE capabilities only
after AS security activation. _UECapabilityInformation_ \+ - -  
_ULInformationTransfer_ \+ - -  
_ULInformationTransferMRDC_ \- - -
# B.2 Description of BWP configuration options
There are two possible ways to configure BWP#0 (i.e. the initial BWP) for a
UE:
1) Configure _BWP-DownlinkCommon_ and _BWP-UplinkCommon_ in
_ServingCellConfigCommon_ , but do not configure dedicated configurations in
_BWP-DownlinkDedicated_ or _BWP-UplinkDedicated_ in _ServingCellConfig_.
2) Configure both _BWP-DownlinkCommon_ and _BWP-UplinkCommon_ in
_ServingCellConfigCommon_ and configure dedicated configurations in at least
one of _BWP-DownlinkDedicated_ or _BWP-UplinkDedicated_ in
_ServingCellConfig_.
The same way of configuration is used for UL BWP#0 and DL BWP#0 if both are
configured.
With the first option (illustrated by figure B2-1 below), the BWP#0 is not
considered to be an RRC-configured BWP, i.e. UE only supporting one BWP can
still be configured with BWP#1 in addition to BWP#0 when using this
configuration. The BWP#0 can still be used even if it does not have the
dedicated configuration, albeit in a more limited manner since only the
SIB1-defined configurations are available. For example, only DCI format 1_0
can be used with BWP#0 without dedicated configuration, so changing to another
BWP requires RRCReconfiguration since DCI format 1_0 doesn\'t support DCI-
based switching.
Figure B2-1: BWP#0 configuration without dedicated configuration
With the second option (illustrated by figure B2-2 below), the BWP#0 is
considered to be an RRC-configured BWP, i.e. UE only supporting one BWP cannot
be configured with BWP#1 in addition to BWP#0 when using this configuration.
However, UE supporting more than one BWP can still switch to and from BWP#0
e.g. via DCI normally, and there are no explicit limitations to using the
BWP#0 (compared to the first option).
Figure B2-2: BWP#0 configuration with dedicated configuration
For BWP#0, the _BWP-DownlinkCommon_ and _BWP-UplinkCommon_ in
_ServingCellConfigCommon_ should match the parameters configured by MIB and
SIB1 (if provided) in the corresponding serving cell.
###### ## Annex C (informative): Change history