# Foreword
This Technical Specification has been produced by the 3rd Generation
Partnership Project (3GPP).
The contents of the present document are subject to continuing work within the
TSG and may change following formal TSG approval. Should the TSG modify the
contents of the present document, it will be re-released by the TSG with an
identifying change of release date and an increase in version number as
follows:
Version x.y.z
where:
x the first digit:
1 presented to TSG for information;
2 presented to TSG for approval;
3 or greater indicates TSG approved document under change control.
y the second digit is incremented for all changes of substance, i.e. technical
enhancements, corrections, updates, etc.
z the third digit is incremented when editorial only changes have been
incorporated in the document.
# 1 Scope
The present document specifies the NR user plane protocol functions used
within NG-RAN and, for EN-DC, within E-UTRAN. NR user plane protocol functions
may reside in nodes terminating either the X2-U (for EN-DC) or the Xn-U or the
F1-U interface.
# 2 References
The following documents contain provisions which, through reference in this
text, constitute provisions of the present document.
\- References are either specific (identified by date of publication, edition
number, version number, etc.) or nonâ€‘specific.
\- For a specific reference, subsequent revisions do not apply.
\- For a non-specific reference, the latest version applies. In the case of a
reference to a 3GPP document (including a GSM document), a non-specific
reference implicitly refers to the latest version of that document _in the
same Release as the present document_.
[1] 3GPP TR 21.905: \"Vocabulary for 3GPP Specifications\".
[2] 3GPP TS 29.281: \"General Packet Radio System (GPRS) Tunnelling Protocol
User Plane (GTPv1-U)\".
[3] 3GPP TS 37.340: \"NR; Multi-connectivity; Overall description; Stage-2\".
[4] 3GPP TS 36.321: \"Evolved Universal Terrestrial Radio Access (E-UTRA);
Medium Access Control (MAC) protocol specification\".
[5] 3GPP TS 38.321: \"NR; Medium Access Control (MAC) protocol
specification\".
[6] 3GPP TS 36.322: \"Evolved Universal Terrestrial Radio Access (E-UTRA);
Radio Link Control (RLC) protocol specification\".
[7] 3GPP TS 38.322: \"NR; Radio Link Control (RLC) protocol specification\".
# 3 Definitions and abbreviations
## 3.1 Definitions
For the purposes of the present document, the terms and definitions given in
3GPP TR 21.905 [1] and the following apply. A term defined in the present
document takes precedence over the definition of the same term, if any, in
3GPP TR 21.905 [1].
**Corresponding node** : a node interacting with a node hosting NR PDCP for
flow control.
**Master node:** as defined in TS 37.340 [3].
**Secondary node:** as defined in TS 37.340 [3].
## 3.2 Abbreviations
For the purposes of the present document, the abbreviations given in 3GPP TR
21.905 [1] and the following apply. An abbreviation defined in the present
document takes precedence over the definition of the same abbreviation, if
any, in 3GPP TR 21.905 [1].
EN-DC E-UTRA-NR Dual Connectivity
MR-DC Multi-RAT Dual Connectivity
# 4 General
## 4.1 General aspects
The NR user plane protocol is located in the User Plane of the Radio Network
layer over either the Xn or the X2 or the F1 interface.
The NR user plane protocol is used to convey control information related to
the user data flow management of data radio bearers.
Each NR user plane protocol instance is associated to one data radio bearer
only. There is one NR user plane instance per GTP tunnel. When a GTP tunnel is
set up, a new NR user plane instance is set up.
_If configured, NR user plane protocol instances exist at the Master node and
the Secondary node in the context of DC or at nodes hosting F1-U protocol
terminations. The NR user plane protocol supports direct communication between
NR user plane protocol entities, regardless of whether they terminate the same
or different user plane interfaces._
NOTE: User data radio bearers may be setup for data forwarding purposes during
Xn HO or during DC related mobility without requiring the execution of any
additional data radio bearer related user plane protocol functions related to
an NR user plane protocol instance.
On each data radio bearer, the NR user plane protocol operates with RLC AM or
RLC UM.
In this version of the present document, NR user plane protocol data is
conveyed by GTP-U protocol means, more specifically, by means of the \"NR RAN
Container\" GTP-U extension header as defined in TS 29.281 [2].
# 5 NR user plane protocol
## 5.1 General
The NR user plane protocol layer is using services of the transport network
layer in order to allow flow control of user data packets transferred from the
node hosting NR PDCP to the corresponding node.
## 5.2 NR user plane protocol layer services
The following functions are provided by the NR user plane protocol:
\- Provision of NR user plane specific sequence number information for user
data transferred from the node hosting NR PDCP to the corresponding node for a
specific data radio bearer.
\- Information of successful in sequence delivery of NR PDCP PDUs to the UE
from the corresponding node for user data associated with a specific data
radio bearer.
\- Information of NR PDCP PDUs that were not delivered to the UE or not
transmitted to the lower layers.
\- Information of NR PDCP PDUs transmitted to the lower layers for user data
associated with a specific data radio bearer.
\- Information of downlink NR PDCP PDUs to be discarded for user data
associated with a specific data radio bearer;
\- Information of the currently desired buffer size at the corresponding node
for transmitting to the UE user data associated with a specific data radio
bearer.
\- Information of the currently desired data rate in bytes at the
corresponding node for transmitting to the UE user data associated with a
specific data radio bearer;
\- Information of successful in sequence delivery of NR PDCP PDUs to the UE
from the corresponding node for retransmission user data associate with a
specific data radio bearer;
\- Information of NR PDCP PDUs transmitted to the lower layers for
retransmission user data associated with a specific data radio bearer.
\- Information of the specific events at the corresponding node.
\- Information on Radio Link Quality from the corresponding node for user data
associated with a specific data radio bearer.
## 5.3 Services expected from the Transport Network Layer
The NR user plane protocol layer expects the following services from the
Transport Network Layer:
\- Transfer of user data.
## 5.4 Elementary procedures
### 5.4.1 Transfer of Downlink User Data
#### 5.4.1.1 Successful operation
The purpose of the Transfer of Downlink User Data procedure is to provide NR-U
specific sequence number information at the transfer of user data carrying a
DL NR PDCP PDU from the node hosting the NR PDCP entity to the corresponding
node.
An NR user plane protocol instance making use of the Transfer of Downlink User
Data procedure is associated to a single data radio bearer only.
The node hosting the NR PDCP entity shall assign consecutive NR-U sequence
numbers to each transferred NR-U packet. A retransmitted NR PDCP PDU shall be
assigned a new NR-U sequence number.
The node hosting the NR PDCP entity indicates to the corresponding node
whether this NR-U packet is a retransmission of NR PDCP PDU.
The node hosting the NR PDCP entity can indicate to the corresponding node to
either discard all NR PDCP PDUs up to and including a defined DL discard NR
PDCP PDU SN or discard one or a number of blocks of downlink NR PDCP PDUs.
If the Assistance Information Report Polling Flag is equal to 1, the
corresponding node shall, if supported, send the ASSISTANCE INFORMATION DATA
to the node hosting the NR PDCP entity.
The corresponding node shall detect whether an NR-U packet was lost and
memorise the respective sequence number after it has declared the respective
NR-U packet as being \"lost\".
The corresponding node shall transfer the remaining NR PDCP PDUs towards the
UE and memorise the highest NR PDCP PDU sequence number of the NR PDCP PDU
that was successfully delivered (as defined in TS 36.322 [6] and TS 38.322
[7]) in sequence towards the UE (in case RLC AM is used) and the highest NR
PDCP PDU sequence number of the NR PDCP PDU that was transmitted to the lower
layers.
The corresponding node shall send the DL DATA DELIVERY STATUS if the Report
Polling Flag is set to 1 or when the NR PDCP PDU with the indicated DL report
NR PDCP PDU SN has been successfully delivered, unless a situation of overload
at the corresponding node is encountered. The DL DATA DELIVERY STATUS sent as
a response to a specific DL report NR PDCP PDU SN shall be sent only when all
PDCP PDU SNs up to this DL report NR PDCP PDU have been successfully delivered
in-sequence.
NOTE: The Transfer of Downlink User Data procedure and the associated feedback
of lost NR-U packets assist the node hosting the NR PDCP entity in avoiding NR
PDCP HFN de-synchronisation. If a deployment decides to not use the Transfer
of Downlink User Data procedure, NR PDCP HFN synchronization should be ensured
by other means.
If the User data existence flag is set to 1, the corresponding node assumes
that the node hosting the NR PDCP entity has some user data for the concerned
data radio bearer. The corresponding node decides whether and when to use DRX
for the UE (i.e. the corresponding node may indicate the UE to use DRX even if
the flag is set to 1 and the received DL USER DATA frame contains no user
data).
Figure 5.4.1.1-1: Successful Transfer of Downlink User Data
#### 5.4.1.2 Unsuccessful operation
Void.
### 5.4.2 Downlink Data Delivery Status
#### 5.4.2.1 Successful operation
The purpose of the Downlink Data Delivery Status procedure is to provide
feedback from the corresponding node to the node hosting the NR PDCP entity to
allow the node hosting the NR PDCP entity to control the downlink user data
flow via the corresponding node for the respective data radio bearer. The
corresponding node may also transfer uplink user data for the concerned data
radio bearer to the node hosting the NR PDCP entity together with a DL DATA
DELIVERY STATUS frame within the same GTP-U PDU.
The Downlink Data Delivery Status procedure is also used to provide feedback
from the corresponding node to the node hosting the NR PDCP entity to allow
the node hosting the NR PDCP entity to control the successful delivery of DL
control data to the corresponding node.
When the corresponding node decides to trigger the feedback for Downlink Data
Delivery procedure it shall report as specified in section 5.2:
a) in case of RLC AM, the highest NR PDCP PDU sequence number successfully
delivered in sequence to the UE among those NR PDCP PDUs received from the
node hosting the NR PDCP entity i.e. excludes those retransmission NR PDCP
PDUs;
b) the desired buffer size in bytes for the concerned data radio bearer;
c) optionally, the desired data rate in bytes associated with a specific data
radio bearer configured for the UE;
d) the NR-U packets that were declared as being \"lost\" by the corresponding
node and have not yet been reported to the node hosting the NR PDCP entity
within the DL DATA DELIVERY STATUS frame;
e) if retransmission NR PDCP PDUs have been delivered, the NR PDCP PDU
sequence number associated with the highest NR-U sequence number among the
retransmission NR PDCP PDUs successfully delivered to the UE in sequence of
NR-U sequence number;
f) if retransmission NR PDCP PDUs have been transmitted to the lower layers,
the NR PDCP PDU sequence number associated with the highest NR-U sequence
number among the retransmission NR PDCP PDUs transmitted to the lower layers
in sequence of NR-U sequence number;
g) the highest NR PDCP PDU sequence number transmitted to the lower layers
among those NR PDCP PDUs received from the node hosting the NR PDCP entity
i.e. excludes those retransmission NR PDCP PDUs.
NOTE: If a deployment has decided not to use the Transfer of Downlink User
Data procedure, d), e) and f) above are not applicable.
As soon as the corresponding node detects the successful RACH access by the UE
for the corresponding data radio bearer(s), the corresponding node shall send
initial DL DATA DELIVERY STATUS frame to the node(s) hosting the NR PDCP
entity(ies). The node hosting NR PDCP entity may start sending DL data before
receiving the initial DL DATA DELIVERY STATUS frame. In case the DL DATA
DELIVERY STATUS frame is sent before any NR PDCP PDU is transferred to lower
layers, the information on the highest NR PDCP PDU sequence number
successfully delivered in sequence to the UE and the highest NR PDCP PDU
sequence number transmitted to the lower layers may not be provided.
The DL DATA DELIVERY STATUS frame shall also include a final frame indication
when this frame is the last DL status report _._ When receiving such
indication, the node hosting the NR PDCP entity considers that no more UL or
DL data is expected to be transmitted between the corresponding node and the
UE.
The DL DATA DELIVERY STATUS frame may also include an indication of detected
radio link outage or radio link resume for the concerned data radio bearer.
When receiving an indication of radio link outage detection, the node hosting
the NR PDCP entity considers that traffic delivery over the data radio bearer
configured for the UE is unavailable at the corresponding node both in UL and
DL. When receiving an indication of radio link resume detection, the node
hosting the NR PDCP entity considers that traffic delivery over the data radio
bearer configured for the UE is available at the corresponding node both in UL
and in DL. When receiving an indication of UL or DL radio link outage
detection, the node hosting the NR PDCP entity considers that traffic delivery
over the data radio bearer configured for the UE is unavailable at the
corresponding node for UL or DL, depending on the indicated outage. When
receiving an indication of UL or DL radio link resume detection, the node
hosting the NR PDCP entity considers that traffic delivery over the data radio
bearer configured for the UE is available at the corresponding node in UL or
in DL, depending on the indicated resume.
The node hosting the NR PDCP entity, when receiving the DL DATA DELIVERY
STATUS frame:
\- regards the desired buffer size under b) and the data rate under c) above
as the amount of data to be sent from the hosting node:
\- If the value of the desired buffer size is 0, the hosting node shall stop
sending any data per bearer.
\- If the value of the desired buffer size in b) above is greater than 0, the
hosting node may send up to this amount of data per bearer starting from the
last \"Highest successfully delivered NR PDCP Sequence Number\" for RLC AM if
received, or the hosting node may send up to this amount of data per bearer
starting from the last \"Highest transmitted NR PDCP Sequence Number\" for RLC
UM if received.
\- The value of the desired data rate in c) above is the amount of data
desired to be received in a specific amount of time. The amount of time is 1
sec.
\- The information of the buffer size in b) above and of the data rate in c)
above is valid until the next DL DATA DELIVERY STATUS frame is received.
\- is allowed to remove the buffered NR PDCP PDUs of a RLC AM bearer,
according to the feedback of successfully delivered NR PDCP PDUs;
\- decides upon the actions necessary to take for NR PDCP PDUs reported other
than transmitted and/or successfully delivered.
In case of RLC AM, after the highest NR PDCP PDU sequence number successfully
delivered in sequence is reported to the node hosting the NR PDCP entity, the
corresponding node removes the respective NR PDCP PDUs. For RLC UM, the
corresponding node may remove the respective NR PDCP PDUs after transmitting
to lower layers.
Figure 5.4.2.1-1: Successful Downlink Data Delivery Status
#### 5.4.2.2 Unsuccessful operation
Void.
### 5.4.3 Transfer of Assistance Information
#### 5.4.3.1 Successful operation
The purpose of the Transfer of Assistance Information procedure is to provide
assistance information to the node hosting the NR PDCP entity. Such
information may be taken into consideration by the node hosting the NR PDCP
entity for UP management and optimisation procedures.
An NR user plane protocol instance making use of the Transfer of Assistance
Information procedure is associated to a single data radio bearer only.
The Transfer of Assistance Information procedure may be invoked if the
corresponding node decides to send the Radio Quality Assistance Information
and/or the PDCP duplication activation suggestion to the node hosting the NR
PDCP entity for the concerned data radio bearer.
The ASSISTANCE INFORMATION DATA frame may include one or more Radio Quality
Assistance Information. The information shall consist of the information
indicated in the Assistance Information Type.
The ASSISTANCE INFORMATION DATA shall be sent, if supported, when the
corresponding node receives a DL USER DATA PDU including the Assistance
Information Report Polling Flag set to 1.
The ASSISTANCE INFORMATION DATA frame may include the PDCP Duplication
Activation Suggestion, which informs the node hosting the NR PDCP entity of
the suggestion from the corresponding node on whether to activate or not
activate DL PDCP duplication. The node hosting the NR PDCP entity may take
this information into account to take a decision on whether to activate or not
activate PDCP duplication.
Figure 5.4.3.1-1: Successful Transfer of Assistance Information Data
## 5.5 Elements for the NR user plane protocol
### 5.5.1 General
In the present document the structure of frames is specified by using figures
similar to figure 5.5.1-1.
Bits | 
> Number of Octets
|  |  |  |  |  |  |  |   
---|---|---|---|---|---|---|---|---|---  
7 | 6 | 5 | 4 | 3 | 2 | 1 | 0 |  |   
Field 1 | Field 2 | 1 | Octet 1 |  |  |  |  |  |   
Field 3 | Field 4 | 2 | Octet 2 |  |  |  |  |  |   
Field 4 continue | Spare |  | Octet 3 |  |  |  |  |  |   
Spare | Field 5 | 1 | Octet 4 |  |  |  |  |  |   
Field 6 | 2 | Octet 5 Octet 6 |  |  |  |  |  |  |   
Field 6 continue | Padding Bits |  |  |  |  |  |  |  |   
Future Extension | 0-m |  |  |  |  |  |  |  |   
Padding | 0-3 |  |  |  |  |  |  |  |   
Figure 5.5.1-1: Example frame format
Unless otherwise indicated, fields which consist of multiple bits within an
octet have the most significant bit located at the highest bit position of the
field (according to the bit numbers indicated above frame in figure 5.5.1-1).
In addition, if a field spans several octets, most significant bits are
located in lower numbered octets (right of frame in figure 5.5.1-1).
The frame is transmitted starting from the lowest numbered octet. Within each
octet, the bits are sent according decreasing bit position (bit position 7
first).
Bits labelled \"Spare\" should be set to \"0\" by the sender and should not be
checked by the receiver.
The header part of the frame is always an integer number of octets. The
payload part is octet aligned (by adding \'Padding Bits\' when needed). The
total size of the frame shall not exceed 1018 octets (see TS 29.281 [2]).
The receiver should be able to remove an additional Future Extension field
that may be present.\ See description of Future Extension field in A.1.
Padding octets may be added at the end of the frame, see Padding in 5.5.3.24
### 5.5.2 Frame format for the NR user plane protocol
#### 5.5.2.1 DL USER DATA (PDU Type 0)
This frame format is defined to allow the corresponding node to detect lost
NR-U packets and is associated with the transfer of a Downlink NR PDCP PDU.
The following shows the respective DL USER DATA frame.
* * *
Bits Number of Octets  
7 6 5 4 3 2 1 0  
PDU Type (=0) Spare DL Discard Blocks DL Flush Report polling 1  
Spare Report Delivered User data existence flag Assistance Info. Report
Polling Flag Retransmission flag 1  
NR-U Sequence Number 3  
DL discard NR PDCP PDU SN 0 or 3  
DL discard Number of blocks 0 or 1  
DL discard NR PDCP PDU SN start (first block) 0 or 3  
Discarded Block size (first block) 0 or 1  
...  
DL discard NR PDCP PDU SN start (last block) 0 or 3  
Discarded Block size (last block) 0 or 1  
DL report NR PDCP PDU SN 0 or 3  
Padding 0-3
* * *
Figure 5.5.2.1-1: DL USER DATA (PDU Type 0) Format
#### 5.5.2.2 DL DATA DELIVERY STATUS (PDU Type 1)
This frame format is defined to transfer feedback to allow the receiving node
(i.e. the node that hosts the NR PDCP entity) to control the downlink user
data flow via the sending node (i.e. the corresponding node).
The following shows the respective DL DATA DELIVERY STATUS frame. The Figure
shows an example of how a frame is structured when all optional IEs (i.e.
those whose presence is indicated by an associated flag) are present.
Absence of such an IE changes the position of all subsequent IEs on octet
level.
+----------+----------+----------+----------+----------+---+---+---+---+ | Bits | > Number | | | | | | | | | | > of | | | | | | | | | | > Octets | | | | | | | | +----------+----------+----------+----------+----------+---+---+---+---+ | 7 | 6 | 5 | 4 | 3 | 2 | 1 | 0 | | +----------+----------+----------+----------+----------+---+---+---+---+ | PDU Type | Highest | Highest | Final | Lost | 1 | | | | | (=1) | Tra | D | Frame | Packet | | | | | | | nsmitted | elivered | Ind. | Report | | | | | | | NR PDCP | NR PDCP | | | | | | | | | SN Ind | SN Ind | | | | | | | +----------+----------+----------+----------+----------+---+---+---+---+ | Spare | Data | Retra | D | Cause | 1 | | | | | | rate | nsmitted | elivered | Report | | | | | | | Ind. | NR PDCP | Retra | | | | | | | | | SN Ind | nsmitted | | | | | | | | | | NR PDCP | | | | | | | | | | SN Ind | | | | | | +----------+----------+----------+----------+----------+---+---+---+---+ | Desired | 4 | | | | | | | | | buffer | | | | | | | | | | size for | | | | | | | | | | the data | | | | | | | | | | radio | | | | | | | | | | bearer | | | | | | | | | +----------+----------+----------+----------+----------+---+---+---+---+ | Desired | 0 or 4 | | | | | | | | | Data | | | | | | | | | | Rate | | | | | | | | | +----------+----------+----------+----------+----------+---+---+---+---+ | Number | 0 or 1 | | | | | | | | | of lost | | | | | | | | | | NR-U | | | | | | | | | | Sequence | | | | | | | | | | Number | | | | | | | | | | ranges | | | | | | | | | | reported | | | | | | | | | +----------+----------+----------+----------+----------+---+---+---+---+ | Start of | 0 or | | | | | | | | | lost | (6* | | | | | | | | | NR-U | Number | | | | | | | | | Sequence | of | | | | | | | | | Number | reported | | | | | | | | | range | lost | | | | | | | | | | NR-U SN | | | | | | | | | | ranges) | | | | | | | | +----------+----------+----------+----------+----------+---+---+---+---+ | End of | | | | | | | | | | lost | | | | | | | | | | NR-U | | | | | | | | | | Sequence | | | | | | | | | | Number | | | | | | | | | | range | | | | | | | | | +----------+----------+----------+----------+----------+---+---+---+---+ | Highest | 0 or 3 | | | | | | | | | succ | | | | | | | | | | essfully | | | | | | | | | | d | | | | | | | | | | elivered | | | | | | | | | | NR PDCP | | | | | | | | | | Sequence | | | | | | | | | | Number | | | | | | | | | +----------+----------+----------+----------+----------+---+---+---+---+ | Highest | 0 or 3 | | | | | | | | | tra | | | | | | | | | | nsmitted | | | | | | | | | | NR PDCP | | | | | | | | | | Sequence | | | | | | | | | | Number | | | | | | | | | +----------+----------+----------+----------+----------+---+---+---+---+ | Cause | 0 or 1 | | | | | | | | | Value | | | | | | | | | +----------+----------+----------+----------+----------+---+---+---+---+ | Succ | 0 or 3 | | | | | | | | | essfully | | | | | | | | | | d | | | | | | | | | | elivered | | | | | | | | | | retra | | | | | | | | | | nsmitted | | | | | | | | | | NR PDCP | | | | | | | | | | Sequence | | | | | | | | | | Number | | | | | | | | | +----------+----------+----------+----------+----------+---+---+---+---+ | Retra | 0 or 3 | | | | | | | | | nsmitted | | | | | | | | | | NR PDCP | | | | | | | | | | Sequence | | | | | | | | | | Number | | | | | | | | | +----------+----------+----------+----------+----------+---+---+---+---+ | Padding | 0-3 | | | | | | | | +----------+----------+----------+----------+----------+---+---+---+---+
Figure 5.5.2.2-1: DL DATA DELIVERY STATUS (PDU Type 1) Format
#### 5.5.2.3 ASSISTANCE INFORMATION DATA (PDU Type 2)
This frame format is defined to allow the node hosting the NR PDCP entity to
receive assistance information.
The following shows the respective ASSISTANCE INFORMATION DATA frame.
* * *
Bits Number of Octets  
7 6 5 4 3 2 1 0  
PDU Type (=2) PDCP Dupl. Ind. Assistance Info. Ind. Spare 1  
Spare PDCP Duplication Activation Suggestion 1  
Number of Assistance Information Fields 0 or 1  
Assistance Information Type 0 or (2*Number of Assistance Info Fields + sum of
Number of octets for Radio Quality Assistance Information Fields)  
Number of octets for Radio Quality Assistance Information Fields  
Radio Quality Assistance Information
* * *
Figure 5.5.2.3-1: ASSISTANCE INFORMATION DATA (PDU Type 2) Format
### 5.5.3 Coding of information elements in frames
#### 5.5.3.1 PDU Type
**Description:** The PDU Type indicates the structure of the NR user plane
frame. The field takes the value of the PDU Type it identifies; e.g. \"0\" for
PDU Type 0. The PDU type is in bit 4 to bit 7 in the first octet of the frame.
**Value range:** {0=DL USER DATA, 1=DL DATA DELIVERY STATUS, 2= ASSISTANCE
INFORMATION DATA, 3-15=reserved for future PDU type extensions}
**Field length:** 4 bits
#### 5.5.3.2 Spare
**Description:** The spare field is set to \"0\" by the sender and should not
be interpreted by the receiver. This field is reserved for later versions.
**Value range:** (0--2^n^-1).
**Field Length:** n bits.
#### 5.5.3.3 Report polling
**Description:** This parameter indicates that the node hosting the NR PDCP
entity requests providing the downlink delivery status report.
**Value range:** {0=Downlink Data Delivery Status report not requested, 1=
Downlink Data Delivery Status report requested}.
**Field length:** 1 bit.
#### 5.5.3.4 NR-U Sequence Number
**Description:** This parameter indicates the NR-U sequence number as assigned
by the node hosting the NR PDCP entity.
**Value range:** {0..2^24^-1}.
**Field length:** 3 octets.
#### 5.5.3.5 Desired buffer size for the data radio bearer
**Description:** This parameter indicates the desired buffer size in bytes for
the concerned data radio bearer as specified in clause 5.4.2.1.
**Value range:** {0..2^32^-1}.
**Field length:** 4 octets.
#### 5.5.3.6 Desired Data Rate
**Description:** This parameter indicates the amount of data desired to be
received in bytes in a specific amount of time (1 s) for a specific data radio
bearer established for the UE as specified in clause 5.4.2.1.
**Value range:** {0..2^32^-1}.
**Field length:** 4 octets.
#### 5.5.3.7 DL Flush
**Description:** This parameter indicates the presence of DL discard NR PDCP
PDU SN.
**Value range:** {0= DL discard NR PDCP PDU SN not present, 1= DL discard NR
PDCP PDU SN present}.
**Field length:** 1 bit.
#### 5.5.3.8 DL discard NR PDCP PDU SN
**Description:** This parameter indicates the downlink NR discard PDCP PDU
sequence number up to and including which all the NR PDCP PDUs should be
discarded.
**Value range:** {0..2^18^-1}.
**Field length:** 3 octets.
#### 5.5.3.9 DL Discard Blocks
**Description:** This parameter indicates the presence of DL discard Number of
blocks, DL discard NR PDCP PDU SN start and Discarded Block size.
**Value range:** {0= DL discard Number of blocks, DL discard NR PDCP PDU SN
start and Discarded Block size not present, 1= DL discard Number of blocks, DL
discard NR PDCP PDU SN start and Discarded Block size present}.
**Field length:** 1 bit.
#### 5.5.3.10 DL discard NR PDCP PDU SN start
**Description:** This parameter indicates the starting SN of a downlink NR
PDCP PDU block to be discarded.
**Value range:** {0..2^18^-1}.
**Field length:** 3 octets.
#### 5.5.3.11 DL discard Number of blocks
**Description:** This parameter indicates the number of NR PDCP PDU blocks to
be discarded.
**Value range:** {1..244}.
**Field length:** 1 octet.
#### 5.5.3.12 Discarded Block size
**Description:** This parameter indicates the number of NR PDCP PDUs counted
from the starting SN to be discarded.
**Value range:** {1..255}.
**Field length:** 1 octet.
#### 5.5.3.13 Lost Packet Report
**Description:** This parameter indicates the presence of Number of lost NR-U
Sequence Number ranges reported, Start of lost NR-U Sequence Number range and
End of lost NR-U Sequence Number range.
**Value range:** {0= Number of lost NR-U Sequence Number ranges reported,
Start of lost NR-U Sequence Number range and End of lost NR-U Sequence Number
range not present, 1= Number of lost NR-U Sequence Number ranges reported,
Start of lost NR-U Sequence Number range and End of lost NR-U Sequence Number
range present}.
**Field length:** 1 bit.
#### 5.5.3.14 Final Frame Indication
**Description:** This parameter indicates whether the frame is the last DL
status report as described in clause 5.4.2.1.
**Value range:** {0=Frame is not final, 1= Frame is final}.
**Field length:** 1 bit.
#### 5.5.3.15 Number of lost NR-U Sequence Number ranges reported
**Description:** This parameter indicates the number of NR-U Sequence Number
ranges reported to be lost.
**Value range:** {1..161}.
**Field length:** 1 octet.
#### 5.5.3.16 Start of lost NR-U Sequence Number range
**Description:** This parameter indicates the start of an NR-U sequence number
range reported to be lost.
**Value range:** {0..2^24^-1}.
**Field length:** 3 octets.
#### 5.5.3.17 End of lost NR-U Sequence Number range
**Description:** This parameter indicates the end of an NR-U sequence number
range reported to be lost.
**Value range:** {0..2^24^-1}.
**Field length:** 3 octets.
#### 5.5.3.18 Highest Delivered NR PDCP SN Ind
**Description:** This parameter indicates the presence of Highest successfully
delivered PDCP Sequence Number.
**Value range:** {0= Highest successfully delivered PDCP Sequence Number not
present, 1= Highest successfully delivered PDCP Sequence Number present}.
**Field length:** 1 bit.
#### 5.5.3.19 Highest successfully delivered NR PDCP Sequence Number
**Description:** This parameter indicates feedback about the in-sequence
delivery status of NR PDCP PDUs at the corresponding node towards the UE.
**Value range:** {0..2^18^-1}.
**Field length:** 3 octets.
#### 5.5.3.20 Highest Transmitted NR PDCP SN Ind
**Description:** This parameter indicates the presence of the Highest
transmitted NR PDCP Sequence Number.
**Value range:** {0= Highest transmitted NR PDCP Sequence Number not present,
1= Highest transmitted NR PDCP Sequence Number present}.
**Field length:** 1 bit.
#### 5.5.3.21 Highest transmitted NR PDCP Sequence Number
**Description:** This parameter indicates the feedback about the transmitted
status of NR PDCP PDU sequence at the corresponding node to the lower layers.
**Value range:** {0..2^18^-1}.
**Field length:** 3 octets.
#### 5.5.3.22 Cause Report
**Description:** This parameter indicates the presence of Cause Value.
**Value range:** {0=Cause Value not present, 1=Cause Value present}.
**Field length:** 1 bit.
#### 5.5.3.23 Cause Value
**Description:** This parameter indicates specific events reported by the
corresponding node.
**Value range:** {0=UNKNOWN, 1=RADIO LINK OUTAGE, 2=RADIO LINK RESUME, 3=UL
RADIO LINK OUTAGE, 4=DL RADIO LINK OUTAGE, 5=UL RADIO LINK RESUME, 6=DL RADIO
LINK RESUME, 7-228=reserved for future value extensions, 229-255=reserved for
test purposes}
**Field length:** 1 octet.
#### 5.5.3.24 Padding
**Description:** The padding is included at the end of the frame to ensure
that the NR user plane protocol PDU length (including padding and the Future
Extension) is (n*4-- 2) octets, where n is a positive integer. If there is any
Future Extension, the padding should be added after the Future Extensions.
**Field Length:** 0--3 octets.
#### 5.5.3.28 Void
Void.
#### 5.5.3.29 Retransmission flag
**Description:** This parameter indicates whether the NR PDCP PDU is a
retransmission NR-U packet sent by the node hosting the NR PDCP entity to the
corresponding node.
**Value range:** {0= Not a retransmission NR-U packet, 1= Retransmission NR-U
packet}.
**Field length:** 1 bit.
#### 5.5.3.30 Delivered Retransmitted NR PDCP SN Ind
**Description:** This parameter indicates the presence of successfully
delivered retransmitted PDCP Sequence Number.
**Value range:** {0= Successfully delivered retransmitted PDCP Sequence Number
not present, 1= Successfully delivered retransmitted PDCP Sequence Number
present}.
**Field length:** 1 bit.
#### 5.5.3.31 Retransmitted NR PDCP SN Ind
**Description:** This parameter indicates the presence of retransmitted NR
PDCP Sequence Number.
**Value range:** {0= Retransmitted NR PDCP Sequence Number not present, 1=
Retransmitted NR PDCP Sequence Number present}.
**Field length:** 1 bit.
#### 5.5.3.32 Successfully delivered retransmitted NR PDCP Sequence Number
**Description:** This parameter indicates the NR PDCP PDU sequence number
associated with the highest NR-U sequence number among the retransmission NR
PDCP PDUs successfully delivered to the UE in sequence of NR-U sequence
number.
**Value range:** {0..2^18^-1}.
**Field length:** 3 octets.
#### 5.5.3.33 Retransmitted NR PDCP Sequence Number
**Description:** This parameter indicates the NR PDCP PDU sequence number
associated with the highest NR-U sequence number among the retransmission NR
PDCP PDUs transmitted to the lower layers in sequence of NR-U sequence number.
**Value range:** {0..2^18^-1}.
**Field length:** 3 octets.
#### 5.5.3.34 Data Rate Indication
**Description:** This parameter indicates the presence of the Desired Data
Rate.
**Value range:** {0= Desired Data Rate Information is not present, 1= Desired
Data Rate Information is present}.
**Field length:** 1 bit.
#### 5.5.3.35 PDCP Duplication Indication
**Description:** This field indicates the presence of the PDCP Duplication
Activation Suggestion.
**Value range:** {0= PDCP Duplication Activation Suggestion not present, 1=
PDCP Duplication Activation Suggestion present}.
**Field length:** 1 bit.
#### 5.5.3.36 PDCP Duplication Activation Suggestion
**Description:** This parameter indicates the suggestion given by the
corresponding node on whether PDCP duplication should be activated or not.
**Value range:** {0= Do not duplicate, 1= Duplicate}.
**Field length:** 1 bit.
#### 5.5.3.37 Number of Assistance Information Field
**Description:** This field indicates the number of Assistance Information
Type and Radio Quality Assistance Information pairs concatenated.
**Value range:** {1..2^8^-1}.
**Field length:** 1 octet.
#### 5.5.3.38 Assistance Information Type
**Description:** This field describes the type of radio quality assistance
information provided, if supported, by the corresponding node to the node
hosting the NR PDCP entity. The DL Radio Quality Index is a numerical index
expressing the radio quality of the data radio bearer in DL, where the value 0
represents the lowest quality. The UL Radio Quality Index is a numerical index
expressing the radio quality of the data radio bearer in UL, where the value 0
represents the lowest quality. The averaging window for the Average CQI,
Average HARQ Failure and Average HARQ Retransmission is set by means of
configuration. Power Headroom Report is PHR MAC control element reported by as
defined in 3GPP TS 36.321[4] and 3GPP TS 38.321[5]
**Value range:** {0=UNKNOWN, 1=Average CQI, 2=Average HARQ Failure, 3=Average
HARQ Retransmissions, 4= DL Radio Quality Index, 5= UL Radio Quality Index, 6=
Power Headroom Report, 7-228=reserved for future value extensions,
229-255=reserved for test purposes}.
**Field length:** 1 octet.
#### 5.5.3.39 Radio Quality Assistance Information
**Description:** This parameter indicates one of the assistance information
indicated by the Assistance Information Type.
**Value range:** {0..2^8^-1}.
**Field length:** 1 octet.
#### 5.5.3.40 Assistance Information Report Polling Flag
**Description:** This parameter indicates that the node hosting the NR PDCP
entity requests the corresponding node to send an ASSISTANCE INFORMATION DATA
PDU.
**Value range:** {0= Assistance Information Data not requested, 1= Assistance
Information Data requested}.
**Field length:** 1 bit.
#### 5.5.3.41 Report Delivered
**Description:** This parameter indicates the presence of DL report NR PDCP
PDU SN.
**Value range:** {0= DL report NR PDCP PDU SN not present, 1= DL discard NR
PDCP PDU SN present}.
**Field length:** 1 bit.
#### 5.5.3.42 DL report NR PDCP PDU SN
**Description:** This parameter indicates that the node hosting PDCP entity
requests providing the down link delivery status report when the NR PDCP PDU
with this sequence number has been successfully delivered.
**Value range:** {0..2^24^-1}.
**Field length:** 3 octets.
#### 5.5.3.43 User data existence flag
**Description:** This parameter indicates whether the node hosting the NR PDCP
entity has some user data for the concerned data radio bearer.
**Value range:** {0= the node hosting the NR PDCP entity has no more user data
for the concerned data radio bearer, 1= the node hosting the NR PDCP entity
has some user data for the concerned data radio bearer}.
**Field length:** 1 bit.
#### 5.5.3.44 Number of octets for Radio Quality Assistance Information Field
**Description:** This field indicates the number of octets for Radio Quality
Assistance Information exists. For Average CQI, Average HARQ Failure, Average
HARQ Retransmissions, DL Radio Quality Index, UL Radio Quality Index, this
field shall indicate as "1." For Power Headroom Report, this filed shall
indicate octet length of Power Headroom Report as defined in 3GPP TS 36.321[4]
and 3GPP TS 38.321[5].
**Value range:** {0..2^8^-1}.
**Field length:** 1 octets.
#### 5.5.3.45 Assistance Information Indication
**Description:** This field indicates the presence of the Number of Assistance
Information Fields.
**Value range:** {0= Number of Assistance Information Fields not present, 1=
Number of Assistance Information Fields present}.
### 5.5.4 Timers
Not applicable.
## 5.6 Handling of unknown, unforeseen and erroneous protocol data
Void.
###### ## Annex A (informative): Example of using future Extension
# A.1 Example of using Future Extension field
+-------+-------+-------+-------+-------+-------+-------+-------+-------+ | New | New | New | New | New | New | New | New | 1 | | IE | IE | IE | IE | IE | IE | IE | IE | Octet | | flag | flag | flag | flag | flag | flag | flag | flag | | | 7(E) | | | | | | | | New | | | 6 | 5 | 4 | 3 | 2 | 1 | 0 | IE | | | | | | | | | | Flags | +-------+-------+-------+-------+-------+-------+-------+-------+-------+ | New | 3 | | | | | | | | | IE 1 | O | | | | | | | | | | ctets | | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+-------+ | New | 2 | | | | | | | | | IE 2 | O | | | | | | | | | | ctets | | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+-------+
Figure X.Y: Example of Future Extension field
In the Example of the Future Extension field, New IE flag 0 indicates if the
New IE 1 is present or not. New IE flag 1 indicaes if the new IE 2 is present
or not.
## A.1.1 New IE Flags
**Description:** The _New IE Flags_ IE is only present if at least one new IE
is present. The _New IE Flags_ IE contains flags indicating which new IEs that
are present following the _New IE Flags_ IE. The last bit position of the _New
IE Flags_ IE is used as the Extension Flag to allow the extension of the _New
IE Flags_ IE in the future. Extension octets of the _New IE Flags_ IE shall
follow directly after the first octet of the _New IE Flags_ IE. When an
extension octet of the _New IE Flags_ IE is present, then all previous
extension octets of the _New IE Flags_ IE and the _New IE Flags_ IE shall also
be present, even if they have all their flag bits indicating no presence of
their respective new IEs.
#