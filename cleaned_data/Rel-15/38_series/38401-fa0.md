# Foreword
This Technical Specification has been produced by the 3^rd^ Generation
Partnership Project (3GPP).
The contents of the present document are subject to continuing work within the
TSG and may change following formal TSG approval. Should the TSG modify the
contents of the present document, it will be re-released by the TSG with an
identifying change of release date and an increase in version number as
follows:
Version x.y.z
where:
x the first digit:
1 presented to TSG for information;
2 presented to TSG for approval;
3 or greater indicates TSG approved document under change control.
y the second digit is incremented for all changes of substance, i.e. technical
enhancements, corrections, updates, etc.
z the third digit is incremented when editorial only changes have been
incorporated in the document.
# 1 Scope
The present document describes the overall architecture of the NG-RAN,
including interfaces NG, Xn and F1 interfaces and their interaction with the
radio interface.
# 2 References
The following documents contain provisions which, through reference in this
text, constitute provisions of the present document.
\- References are either specific (identified by date of publication, edition
number, version number, etc.) or nonâ€‘specific.
\- For a specific reference, subsequent revisions do not apply.
\- For a non-specific reference, the latest version applies. In the case of a
reference to a 3GPP document (including a GSM document), a non-specific
reference implicitly refers to the latest version of that document _in the
same Release as the present document_.
[1] 3GPP TR 21.905: \"Vocabulary for 3GPP Specifications\".
[2] 3GPP TS 38.300: \"NR; Overall description; Stage-2\".
[3] 3GPP TS 23.501: \"System Architecture for the 5G System\".
[4] 3GPP TS 38.473: \"NG-RAN; F1 application protocol (F1AP)\".
[5] 3GPP TS 38.414: \"NG-RAN; NG data transport\".
[6] 3GPP TS 38.424: \"NG-RAN; Xn data transport\".
[7] 3GPP TS 38.474: \"NG-RAN; F1 data transport\".
[8] ITU-T Recommendation G.823 (2000-03): \"The control of jitter and wander
within digital networks which are based on the 2048 kbit/s hierarchy\".
[9] ITU-T Recommendation G.824 (2000-03): \"The control of jitter and wander
within digital networks which are based on the 1544 kbit/s hierarchy\".
[10] ITU-T Recommendation G.825 (2001-08): \"The control of jitter and wander
within digital networks which are based on the synchronous digital hierarchy
(SDH)\".
[11] ITU-T Recommendation G.8261/Y.1361 (2008-04): \"Timing and
Synchronization aspects in Packet networks\".
[12] 3GPP TS 37.340: \"NR; Multi-connectivity; Overall description; Stage-2\".
[13] 3GPP TS 33.501: \"Security Architecture and Procedures for 5G System\".
[14] 3GPP TS 38.410: \"NG-RAN; NG general aspect and principles\".
[15] 3GPP TS 38.420: \"NG-RAN; Xn general aspects and principles\"
[16] 3GPP TS 38.470: \"NG-RAN; F1 general aspects and principles\".
[17] 3GPP TS 38.460: \"NG-RAN; E1 general aspects and principles\".
[18] 3GPP TS 33.210: \"3G security; Network Domain Security (NDS); IP Network
Layer Security\".
[19] 3GPP TS 36.300: \"Evolved Universal Terrestrial Radio Access (E-UTRA),
Evolved Universal Terrestrial Radio Access Network (E-UTRAN); Overall
description; Stage 2\".
# 3 Definitions and abbreviations
## 3.1 Definitions
For the purposes of the present document, the terms and definitions given in
TR 21.905 [1] and the following apply.\ A term defined in the present document
takes precedence over the definition of the same term, if any, in TR 21.905
[1].
**en-gNB** : as defined in TS 37.340 [12].
**gNB:** as defined in TS 38.300 [2].
**gNB Central Unit (gNB-CU):** a logical node hosting RRC, SDAP and PDCP
protocols of the gNB or RRC and PDCP protocols of the en-gNB that controls the
operation of one or more gNB-DUs. The gNB-CU terminates the F1 interface
connected with the gNB-DU.
**gNB Distributed Unit (gNB-DU):** a logical node hosting RLC, MAC and PHY
layers of the gNB or en-gNB, and its operation is partly controlled by gNB-CU.
One gNB-DU supports one or multiple cells. One cell is supported by only one
gNB-DU. The gNB-DU terminates the F1 interface connected with the gNB-CU.
**gNB-CU-Control Plane (gNB-CU-CP):** a logical node hosting the RRC and the
control plane part of the PDCP protocol of the gNB-CU for an en-gNB or a gNB.
The gNB-CU-CP terminates the E1 interface connected with the gNB-CU-UP and the
F1-C interface connected with the gNB-DU.
**gNB-CU-User Plane (gNB-CU-UP):** a logical node hosting the user plane part
of the PDCP protocol of the gNB-CU for an en-gNB, and the user plane part of
the PDCP protocol and the SDAP protocol of the gNB-CU for a gNB. The gNB-CU-UP
terminates the E1 interface connected with the gNB-CU-CP and the F1-U
interface connected with the gNB-DU.
**NG-RAN node:** as defined in TS 38.300 [2].
**PDU Session Resource** : This term is used for specification of NG, Xn, and
E1 interfaces. It denotes NG-RAN interface and radio resources provided to
support a PDU Session.
## 3.2 Abbreviations
For the purposes of the present document, the terms and definitions given in
TR 21.905 [1] and the following apply.\ A term defined in the present document
takes precedence over the definition of the same term, if any, in TR 21.905
[1].
5GC 5G Core Network
AMF Access and Mobility Management Function
AP Application Protocol
AS Access Stratum
CM Connection Management
CMAS Commercial Mobile Alert Service
ETWS Earthquake and Tsunami Warning System
F1-U F1 User plane interface
F1-C F1 Control plane interface
F1AP F1 Application Protocol
FDD Frequency Division Duplex
GTP-U GPRS Tunnelling Protocol
IP Internet Protocol
NAS Non-Access Stratum
O&M Operation and Maintenance
PWS Public Warning System
QoS Quality of Service
RET Remote Electrical Tilting
RNL Radio Network Layer
RRC Radio Resource Control
SAP Service Access Point
SCTP Stream Control Transmission Protocol
SFN System Frame Number
SM Session Management
SMF Session Management Function
TDD Time Division Duplex
TDM Time Division Multiplexing
TMA Tower Mounted Amplifier
TNL Transport Network Layer
# 4 General principles
The general principles guiding the definition of NG-RAN architecture as well
as the NG-RAN interfaces are the following:
\- Logical separation of signalling and data transport networks.
\- NG-RAN and 5GC functions are fully separated from transport functions.
Addressing scheme used in NG-RAN and 5GC shall not be tied to the addressing
schemes of transport functions. The fact that some NG-RAN or 5GC functions
reside in the same equipment as some transport functions does not make the
transport functions part of the NG-RAN or the 5GC.
\- Mobility for an RRC connection is fully controlled by the NG-RAN.
\- The NG-RAN interfaces are defined along the following principles:
\- The functional division across the interfaces have as few options as
possible.
\- Interfaces are based on a logical model of the entity controlled through
this interface.
\- One physical network element can implement multiple logical nodes.
# 5 General architecture
## 5.1 General
The protocols over Uu and NG interfaces are divided into two structures:
**\- User plane protocols**
> These are the protocols implementing the actual PDU Session service, i.e.
> carrying user data through the access stratum.
**\- Control plane protocols**
> These are the protocols for controlling the PDU Sessions and the connection
> between the UE and the network from different aspects (including requesting
> the service, controlling different transmission resources, handover etc.).
> Also a mechanism for transparent transfer of NAS messages is included.
## 5.2 User plane
The PDU Session Resource service is offered from SAP to SAP by the Access
Stratum. Figure 5.2-1 shows the protocols on the Uu and the NG interfaces that
linked together provide this PDU Session Resource service.
Note 1: The radio interface protocols are defined in 3GPP TS 38.2xx and TS
38.3xx.
Note 2: The NG interface protocols are defined in 3GPP TS 38.41x.
Figure 5.2-1: NG and Uu user plane
## 5.3 Control plane
Figure 5.3-1 shows the control plane (signalling) protocol stacks on NG and Uu
interfaces.
Note 1: The radio interface protocols are defined in 3GPP TS 38.2xx and TS
38.3xx.
Note 2: The protocol is defined in 3GPP TS 38.41x. (Description of NG
interface).
Note 3: CM, SM: This exemplifies a set of NAS control protocols between UE and
5GC. The evolution of the protocol architecture for these protocols is outside
the scope of the present document.
Figure 5.3-1: NG and Uu control plane
NOTE: Both the Radio protocols and the NG protocols contain a mechanism to
transparently transfer NAS messages.
# 6 NG-RAN architecture
## 6.1 Overview
### 6.1.1 Overall Architecture of NG-RAN
Figure 6.1-1: Overall architecture
The NG-RAN consists of a set of gNBs connected to the 5GC through the NG
interface.
An gNB can support FDD mode, TDD mode or dual mode operation.
gNBs can be interconnected through the Xn interface.
A gNB may consist of a gNB-CU and one or more gNB-DU(s). A gNB-CU and a gNB-DU
is connected via F1 interface.
One gNB-DU is connected to only one gNB-CU.
NOTE: In case of network sharing with multiple cell ID broadcast, each Cell
Identity associated with a subset of PLMNs corresponds to a gNB-DU and the
gNB-CU it is connected to, i.e. the corresponding gNB-DUs share the same
physical layer cell resources.
NOTE: For resiliency, a gNB-DU may be connected to multiple gNB-CUs by
appropriate implementation.
NG, Xn and F1 are logical interfaces.
For NG-RAN, the NG and Xn-C interfaces for a gNB consisting of a gNB-CU and
gNB-DUs, terminate in the gNB-CU. For EN-DC, the S1-U and X2-C interfaces for
a gNB consisting of a gNB-CU and gNB-DUs, terminate in the gNB-CU. The gNB-CU
and connected gNB-DUs are only visible to other gNBs and the 5GC as a gNB. A
possible deployment scenario is described in Annex A.
The node hosting user plane part of NR PDCP (e.g. gNB-CU, gNB-CU-UP, and for
EN-DC, MeNB or SgNB depending on the bearer split) shall perform user
inactivity monitoring and further informs its inactivity or (re)activation to
the node having C-plane connection towards the core network (e.g. over E1,
X2). The node hosting NR RLC (e.g. gNB-DU) may perform user inactivity
monitoring and further inform its inactivity or (re)activation to the node
hosting control plane, e.g. gNB-CU or gNB-CU-CP.
UL PDCP configuration (i.e. how the UE uses the UL at the assisting node) is
indicated via X2-C (for EN-DC), Xn-C (for NG-RAN) and F1-C. Radio Link
Outage/Resume for DL and/or UL is indicated via X2-U (for EN-DC), Xn-U (for
NG-RAN) and F1-U.
The NG-RAN is layered into a Radio Network Layer (RNL) and a Transport Network
Layer (TNL).
The NG-RAN architecture, i.e. the NG-RAN logical nodes and interfaces between
them, is defined as part of the RNL.
For each NG-RAN interface (NG, Xn, F1) the related TNL protocol and the
functionality are specified. The TNL provides services for user plane
transport, signalling transport.
In NG-Flex configuration, each NG-RAN node is connected to all AMFs of AMF
Sets within an AMF Region supporting at least one slice also supported by the
NG-RAN node. The AMF Set and the AMF Region are defined in 3GPP TS 23.501 [3].
If security protection for control plane and user plane data on TNL of NG-RAN
interfaces has to be supported, NDS/IP 3GPP TS 33.501 [13] shall be applied.
### 6.1.2 Overall architecture for separation of gNB-CU-CP and gNB-CU-UP
The overall architecture for separation of gNB-CU-CP and gNB-CU-UP is depicted
in Figure 6.1.2-1.
Figure 6.1.2-1. Overall architecture for separation of gNB-CU-CP and gNB-CU-UP
\- A gNB may consist of a gNB-CU-CP, multiple gNB-CU-UPs and multiple gNB-DUs;
\- The gNB-CU-CP is connected to the gNB-DU through the F1-C interface;
\- The gNB-CU-UP is connected to the gNB-DU through the F1-U interface;
\- The gNB-CU-UP is connected to the gNB-CU-CP through the E1 interface;
\- One gNB-DU is connected to only one gNB-CU-CP;
\- One gNB-CU-UP is connected to only one gNB-CU-CP;
> NOTE 1: For resiliency, a gNB-DU and/or a gNB-CU-UP may be connected to
> multiple gNB-CU-CPs by appropriate implementation.
\- One gNB-DU can be connected to multiple gNB-CU-UPs under the control of the
same gNB-CU-CP;
\- One gNB-CU-UP can be connected to multiple DUs under the control of the
same gNB-CU-CP;
> NOTE 2: The connectivity between a gNB-CU-UP and a gNB-DU is established by
> the gNB-CU-CP using Bearer Context Management functions.
>
> NOTE 3: The gNB-CU-CP selects the appropriate gNB-CU-UP(s) for the requested
> services for the UE. In case of multiple CU-UPs they belong to same security
> domain as defined in TS 33.210 [18].
>
> NOTE 4: Data forwarding between gNB-CU-UPs during intra-gNB-CU-CP handover
> within a gNB may be supported by Xn-U.
## 6.2 NG-RAN identifiers
### 6.2.1 Principle of handling Application Protocol Identities
An Application Protocol Identity (AP ID) is allocated when a new UE-associated
logical connection is created in either an NG-RAN node or an AMF. An AP ID
shall uniquely identify a logical connection associated to a UE over the NG
interface or Xn interface within a node (NG-RAN node or AMF) or over the F1
interface or over the E1 interface. Upon receipt of a message that has a new
AP ID from the sending node, the receiving node shall store the AP ID of the
sending node for the duration of the logical connection. The receiving node
shall assign the AP ID to be used to identify the logical connection
associated to the UE and include it as well as the previously received new AP
ID from the sending node, in the first returned message to the sending node.
In all subsequent messages to and from sending node, both AP IDs of sending
node and receiving node shall be included.
The definitions of AP IDs as used on NG interface or Xn interface or F1
interface or E1 interface are shown below:
**RAN UE NGAP ID:**
A RAN UE NGAP ID shall be allocated so as to uniquely identify the UE over the
NG interface within an gNB. When an AMF receives an RAN UE NGAP ID it shall
store it for the duration of the UE-associated logical NG-connection for this
UE. Once known to an AMF this is included in all UE associated NGAP
signalling.
> The RAN UE NGAP ID shall be unique within the logical NG-RAN node.
**AMF UE NGAP ID:**
An AMF UE NGAP ID shall be allocated so as to uniquely identify the UE over
the NG interface within the AMF. When a NG-RAN node receives an AMF UE NGAP ID
it shall store it for the duration of the UE-associated logical NG-connection
for this UE. Once known to a NG-RAN node this ID is included in all UE
associated NGAP signalling.
> The AMF UE NGAP ID shall be unique within an AMF Set as specified in 3GPP TS
> 23.501 [3].
**Old NG-RAN node UE XnAP ID:**
An Old **NG-RAN node** UE XnAP ID shall be allocated so as to uniquely
identify the UE over the Xn interface within a source NG-RAN node. When a
target NG-RAN node receives an Old **NG-RAN node** UE XnAP ID it shall store
it for the duration of the UE-associated logical Xn-connection for this UE.
Once known to a target NG-RAN node this ID is included in all UE associated
XnAP signalling. The Old NG-RAN node UE XnAP ID shall be unique within the
logical NG-RAN node.
**New NG-RAN node UE XnAP ID:**
A New NG-RAN node UE XnAP ID shall be allocated so as to uniquely identify the
UE over the Xn interface within a target NG-RAN node. When a source NG-RAN
node receives a New NG-RAN node UE XnAP ID it shall store it for the duration
of the UE-associated logical Xn-connection for this UE. Once known to a source
NG-RAN node this ID is included in all UE associated XnAP signalling. The New
NG-RAN node UE XnAP ID shall be unique within the logical NG-RAN node.
**M-NG-RAN node UE XnAP ID:**
> An M-NG-RAN node UE XnAP ID shall be allocated so as to uniquely identify
> the UE over the Xn interface within an M-NG-RAN node for dual connectivity.
> When an S-NG-RAN node receives an M-NG-RAN node UE XnAP ID it shall store it
> for the duration of the UE-associated logical Xn-connection for this UE.
> Once known to an S-NG-RAN node this ID is included in all UE associated XnAP
> signalling. The M-NG-RAN node UE XnAP ID shall be unique within the logical
> NG-RAN node.
**S-NG-RAN node UE XnAP ID:**
> A S-NG-RAN node UE XnAP ID shall be allocated so as to uniquely identify the
> UE over the Xn interface within an S-NG-RAN node for dual connectivity. When
> an M-NG-RAN node receives a S-NG-RAN node UE XnAP ID it shall store it for
> the duration of the UE-associated logical Xn-connection for this UE. Once
> known to an M-NG-RAN node this ID is included in all UE associated XnAP
> signalling. The S-NG-RAN node UE XnAP ID shall be unique within the logical
> NG-RAN node.
**gNB-CU UE F1AP ID:**
> A gNB-CU UE F1AP ID shall be allocated so as to uniquely identify the UE
> over the F1 interface within a gNB-CU. When a gNB-DU receives a gNB-CU UE
> F1AP ID it shall store it for the duration of the UE-associated logical
> F1-connection for this UE. The gNB-CU UE F1AP ID shall be unique within the
> gNB-CU logical node.
**gNB-DU UE F1AP ID:**
> A gNB-DU UE F1AP ID shall be allocated so as to uniquely identify the UE
> over the F1 interface within a gNB-DU. When a gNB-CU receives a gNB-DU UE
> F1AP ID it shall store it for the duration of the UE-associated logical
> F1-connection for this UE. The gNB-DU UE F1AP ID shall be unique within the
> gNB-DU logical node.
**gNB-CU-CP UE E1AP ID:**
> A gNB-CU-CP UE E1AP ID shall be allocated so as to uniquely identify the UE
> over the E1 interface within a gNB-CU-CP. When a gNB-CU-UP receives a gNB-
> CU-CP UE E1AP ID it shall store it for the duration of the UE-associated
> logical E1-connection for this UE. The gNB-CU-CP UE E1AP ID shall be unique
> within the gNB-CU-CP logical node.
**gNB-CU-UP UE E1AP ID:**
> A gNB-CU-UP UE E1AP ID shall be allocated so as to uniquely identify the UE
> over the E1 interface within a gNB-CU-UP. When a gNB-CU-CP receives a gNB-
> CU-UP UE E1AP ID it shall store it for the duration of the UE-associated
> logical E1-connection for this UE. The gNB-CU-UP UE E1AP ID shall be unique
> within the gNB-CU-UP logical node.
### 6.2.2 gNB-DU ID
The gNB-DU ID is configured at the gNB-DU and used to uniquely identify the
gNB-DU at least within a gNB-CU. The gNB-DU provides its gNB-DU ID to the gNB-
CU during the F1 Setup procedure. The gNB-DU ID is used only within F1AP
procedures.
## 6.3 Transport addresses
The transport layer address parameter is transported in the radio network
application signalling procedures that result in establishment of transport
bearer connections.
The transport layer address parameter shall not be interpreted in the radio
network application protocols and reveal the addressing format used in the
transport layer.
The formats of the transport layer addresses are further described in 3GPP TS
38.414 [5], 3GPP TS 38.424 [6] and 3GPP TS 38.474 [7].
## 6.4 UE associations in NG-RAN Node
There are several types of UE associations needed in the NG-RAN node: the
\"NG-RAN node UE context\" used to store all information needed for a UE and
the associations between the UE and the logical NG and Xn connections used for
NG/XnAP UE associated messages. An \"NG-RAN node UE context\" exists for a UE
in CM_CONNECTED.
**Definitions:**
**NG-RAN node UE context: [ ]{.underline}**
An NG-RAN node UE context is a block of information in an NG-RAN node
associated to one UE. The block of information contains the necessary
information required to maintain the NG-RAN services towards the active UE. An
NG-RAN node UE context is established when the transition to RRC CONNECTED for
a UE is completed or in the target NG-RAN node after completion of handover
resource allocation during handover preparation, in which case at least UE
state information, security information, UE capability information and the
identities of the UE-associated logical NG-connection shall be included in the
NG-RAN node UE context.
For Dual Connectivity an NG-RAN node UE context is also established in the
S-NG-RAN node after completion of S-NG-RAN node Addition Preparation
procedure.
If radio bearers are requested to be setup during a UE Context setup or
modification procedure, the UE capabilities are signalled to the receiving
node as part of the UE context setup or modification procedures.
**Bearer context:**
A bearer context is a block of information in a gNB-CU-UP node associated to
one UE that is used for the sake of communication over the E1 interface. It
may include the information about data radio bearers, PDU sessions and QoS-
flows associated to the UE. The block of information contains the necessary
information required to maintain user-plane services toward the UE.
**UE-associated logical NG/Xn/F1/E1 -connection:**
NGAP, XnAP, F1AP and E1AP provide means to exchange control plane messages
associated with the UE over the respectively NG-C, Xn-C, F1-C or E1 interface.
A UE-associated logical connection is established during the first
NGAP/XnAP/F1AP message exchange between the NG/Xn/F1 peer nodes.
The connection is maintained as long as UE associated NG/XnAP/F1AP messages
need to be exchanged over the NG/Xn/F1 interface.
The UE-associated logical NG-connection uses the identities AMF UE NGAP ID and
RAN UE NGAP ID.
The UE-associated logical Xn-connection uses the identities Old NG-RAN node UE
XnAP ID and New NG-RAN node UE XnAP ID, or M-NG-RAN node UE XnAP ID and S-NG-
RAN node UE XnAP ID.
The UE-associated logical F1-connection uses the identities gNB-CU UE F1AP ID
and gNB-DU UE F1AP ID.
When a node (AMF or gNB) receives a UE associated NGAP/XnAP/F1AP message the
node retrieves the associated UE based on the NGAP/XnAP/F1AP ID.
**UE-associated signalling:**
UE-associated signalling is an exchange of NGAP/XnAP/F1AP messages associated
with one UE over the UE-associated logical NG/Xn/F1-connection.
NOTE1: The UE-associated logical NG-connection may exist before the NG-RAN
node UE context is setup in the NG-RAN node.
NOTE2: The UE-associated logical F1-connection may exist before the UE context
is setup in the gNB-DU.
# 7 NG-RAN functions description
## 7.0 General
For the list of functions refer to TS 38.300 [2].
## 7.1 NG-RAN sharing
NG-RAN supports radio access network sharing as specified in TS 23.501 [3] and
TS 38.300 [2] and TS 36.300 [19].
# 8 Overall procedures in gNB-CU/gNB-DU Architecture
## 8.1 UE Initial Access
The signalling flow for UE Initial access is shown in Figure 8.1-1.
Figure 8.1-1: UE Initial Access procedure
1\. The UE sends an _RRCSetupRequest_ message to the gNB-DU.
2\. The gNB-DU includes the RRC message and, if the UE is admitted, the
corresponding low layer configuration for the UE in the INITIAL UL RRC MESSAGE
TRANSFER message and transfers to the gNB-CU. The INITIAL UL RRC MESSAGE
TRANSFER message includes the C-RNTI allocated by the gNB-DU.
3\. The gNB-CU allocates a gNB-CU UE F1AP ID for the UE and generates a
_RRCSetup_ message towards UE. The RRC message is encapsulated in -the DL RRC
MESSAGE TRANSFER message.
4\. The gNB-DU sends the _RRCSetup_ message to the UE.
5\. The UE sends the RRC CONNECTION SETUP COMPLETE message to the gNB-DU.
6\. The gNB-DU encapsulates the RRC message in the UL RRC MESSAGE TRANSFER
message and sends it to the gNB-CU.
7\. The gNB-CU sends the INITIAL UE MESSAGE message to the AMF.
8\. The AMF sends the INITIAL CONTEXT SETUP REQUEST message to the gNB-CU.
9\. The gNB-CU sends the UE CONTEXT SETUP REQUEST message to establish the UE
context in the gNB-DU. In this message, it may also encapsulate the
_SecurityModeCommand_ message.
10\. The gNB-DU sends the _SecurityModeCommand_ message to the UE.
11\. The gNB-DU sends the UE CONTEXT SETUP RESPONSE message to the gNB-CU.
12\. The UE responds with the _SecurityModeComplete_ message
13\. The gNB-DU encapsulates the RRC message in the UL RRC MESSAGE TRANSFER
message and sends it to the gNB-CU.
14\. The gNB-CU generates the _RRCReconfiguration_ message and encapsulates it
in the DL RRC MESSAGE TRANSFER message
15\. The gNB-DU sends _RRCReconfiguration_ message to the UE.
16\. The UE sends _RRCReconfigurationComplete_ message to the gNB-DU.
17\. The gNB-DU encapsulates the RRC message in the UL RRC MESSAGE TRANSFER
message and send it to the gNB-CU.
18\. The gNB-CU sends the INITIAL CONTEXT SETUP RESPONSE message to the AMF.
## 8.2 Intra-gNB-CU Mobility
### 8.2.1 Intra-NR Mobility
#### 8.2.1.1 Inter-gNB-DU Mobility
This procedure is used for the case when the UE moves from one gNB-DU to
another gNB-DU within the same gNB-CU during NR operation. Figure 8.2.1.1-1
shows the inter-gNB-DU mobility procedure for intra-NR.
Figure 8.2.1.1-1: Inter-gNB-DU Mobility for intra-NR
1\. The UE sends a _MeasurementReport_ message to the source gNB-DU.
2\. The source gNB-DU sends an UL RRC MESSAGE TRANSFER message to the gNB-CU
to convey the received _MeasurementReport_ message.
> 2a. The gNB-CU may send an UE CONTEXT MODIFICATION REQUEST message to the
> source gNB-DU to query the latest configuration.
2b. The source gNB-DU responds with an UE CONTEXT MODIFICATION RESPONSE
message that includes full configuration information.
3\. The gNB-CU sends an UE CONTEXT SETUP REQUEST message to the target gNB-DU
to create an UE context and setup one or more data bearers. The UE CONTEXT
SETUP REQUEST message includes a HandoverPreparationInformation.
4\. The target gNB-DU responds to the gNB-CU with an UE CONTEXT SETUP RESPONSE
message.
5\. The gNB-CU sends a UE CONTEXT MODIFICATION REQUEST message to the source
gNB-DU, which includes a generated _RRCReconfiguration_ message and indicates
to stop the data transmission for the UE. The source gNB-DU also sends a
Downlink Data Delivery Status frame to inform the gNB-CU about the
unsuccessfully transmitted downlink data to the UE.
6\. The source gNB-DU forwards the received _RRCReconfiguration_ message to
the UE.
7\. The source gNB-DU responds to the gNB-CU with the UE CONTEXT MODIFICATION
RESPONSE message.
8\. A Random Access procedure is performed at the target gNB-DU. The target
gNB-DU sends a Downlink Data Delivery Status frame to inform the gNB-CU.
Downlink packets, which may include PDCP PDUs not successfully transmitted in
the source gNB-DU, are sent from the gNB-CU to the target gNB-DU.
NOTE: It is up to gNB-CU implementation whether to start sending DL User Data
to gNB-DU before or after reception of the Downlink Data Delivery Status.
9\. The UE responds to the target gNB-DU with an _RRCReconfigurationComplete_
message.
10\. The target gNB-DU sends an UL RRC MESSAGE TRANSFER message to the gNB-CU
to convey the received _RRCReconfigurationComplete_ message. Downlink packets
are sent to the UE. Also, uplink packets are sent from the UE, which are
forwarded to the gNB-CU through the target gNB-DU.
11\. The gNB-CU sends an UE CONTEXT RELEASE COMMAND message to the source gNB-
DU.
12\. The source gNB-DU releases the UE context and responds the gNB-CU with an
UE CONTEXT RELEASE COMPLETE message.
#### 8.2.1.2 Intra-gNB-DU handover
This procedure is used for the case that the UE moves from one cell to another
cell within the same gNB-DU or for the case that intra-cell handover is
performed during NR operation, and supported by the UE Context Modification
(gNB-CU initiated) procedure as specified in TS 38.473 [4]. When the intra-
gNB-DU handover is performed (either inter-cell or intra-cell), the gNB-CU
provides new UL GTP TEID to the gNB-DU and the gNB-DU provides new DL GTP TEID
to the gNB-CU. The gNB-DU shall continue sending UL PDCP PDUs to the gNB-CU
using the previous UL GTP TEID until it re-establishes the RLC, and after then
start sending using the new UL GTP TEID. The gNB-CU shall continue sending DL
PDCP PDUs to the gNB-DU using the previous DL GTP TEID until it performs PDCP
re-establishment or PDCP data recovery, and after then start sending using the
new DL GTP TEID.
### 8.2.2 EN-DC Mobility
#### 8.2.2.1 Inter-gNB-DU Mobility using MCG SRB
This procedure is used for the case the UE moves from one gNB-DU to another
gNB-DU within the same gNB-CU when only MCG SRB is available during EN-DC
operation. Figure 8.2.2.1-1 shows the inter-gNB-DU mobility procedure using
MCG SRB in EN-DC.
Figure 8.2.2.1-1: Inter-gNB-DU Mobility using MCG SRB in EN-DC
> 1\. The UE sends an _ULInformationTransferMRDC_ message to the MeNB
>
> 2\. The MeNB sends RRC TRANSFER message to the gNB-CU.
>
> 3\. The gNB-CU may send UE CONTEXT MODIFICATION REQUEST message to the
> source gNB-DU to query the latest SCG configuration.
>
> 4\. The source gNB-DU responds with an UE CONTEXT MODIFICATION RESPONSE
> message that includes full configuration information.
>
> 5\. The gNB-CU sends an UE CONTEXT SETUP REQUEST message to the target gNB-
> DU to create an UE context and setup one or more bearers.
>
> 6\. The target gNB-DU responds the gNB-CU with an UE CONTEXT SETUP RESPONSE
> message.
>
> 7\. The gNB-CU sends a UE CONTEXT MODIFICATION REQUEST message to the source
> gNB-DU indicating to stop the data transmission to the UE. The source gNB-DU
> also sends a Downlink Data Delivery Status frame to inform the gNB-CU about
> the unsuccessfully transmitted downlink data to the UE.
>
> 8\. The source gNB-DU responds the gNB-CU with an UE CONTEXT MODIFICATION
> RESPONSE message.
>
> 9\. The gNB-CU sends an SGNB MODIFICATION REQUIRED message to the MeNB.
10/11. The MeNB Initiated SgNG Modification procedure may be triggered by the
SgNB Initiated SgNB Modification procedure (e.g. to provide information such
as data forwarding addresses, new SN security key, measurement gap, etc...).
> 12\. The MeNB and the UE perform RRC Connection Reconfiguration procedure.
>
> 13\. The MeNB sends an SGNB MODIFICATION CONFIRM message to the gNB-CU.
>
> 14\. Random Access procedure is performed at the target gNB-DU. The target
> gNB-DU sends a Downlink Data Delivery Status frame to inform the gNB-CU.
> Downlink packets, which may include PDCP PDUs not successfully transmitted
> in the source gNB-DU, are sent from the gNB-CU to the target gNB-DU.
> Downlink packets are sent to the UE. Also, uplink packets are sent from the
> UE, which are forwarded to the gNB-CU through the target gNB-DU.
>
> NOTE: It is up to gNB-CU implementation whether to start sending DL User
> Data to gNB-DU before or after reception of the Downlink Data Delivery
> Status.
>
> 15\. The gNB-CU sends an UE CONTEXT RELEASE COMMAND message to the source
> gNB-DU.
16\. The source gNB-DU releases the UE context and responds the gNB-CU with an
UE CONTEXT RELEASE COMPLETE message.
#### 8.2.2.2 Inter-gNB-DU Mobility using SCG SRB (SRB3)
This procedure is used for the case the UE moves from one gNB-DU to another
gNB-DU when SCG SRB (SRB3) is available during EN-DC operation. The procedure
is the same as inter-gNB-DU Mobility for intra-NR as defined in clause 8.2.1.1
but the UE CONTEXT SETUP REQUEST message includes a CG-ConfigInfo.
## 8.3 Mechanism of centralized retransmission of lost PDUs
### 8.3.1 Centralized Retransmission in Intra gNB-CU Cases
This mechanism allows to perform the retransmission of the PDCP PDUs that are
not delivered by a gNB-DU (gNB-DU1) because the corresponding radio links
toward the UE are subject to outage. When such outage occurs, the gNB-DU
affected by outage informs the gNB-CU of such event. The gNB-CU can switch
transmission of data traffic, as well as perform retransmission of undelivered
PDCP PDUs, from the gNB-DU affected by outage to other available gNB-DUs (e.g.
gNB-DU2 in Figure 8.3.1-1) with a well-functioning radio link toward the UE.
The mechanism is also applicable in EN-DC and MR-DC with 5GC, refer to TS
37.340 [12].
Figure 8.3.1-1: Procedure for centralized retransmission in intra gNB-CU
scenarios
The mechanism is shown in Figure 8.3.1-1 and targets the multi-connectivity
scenario, where a UE is served by multiple data radio bearers established at
least on two gNB-DUs, and it includes the following steps:
0\. The UE is connected and can transmit/receive data to/from gNB-DU1 and gNB-
DU2.
1\. gNB-DU1 realizes that the radio link towards the UE is experiencing
outage.
2\. gNB-DU1 sends the \"Radio Link Outage\" notification message to the gNB-CU
over the F1-U interface, as part of the DDDS PDU of the concerned data radio
bearer. The message may include information to be used by the gNB-CU to
perform retransmission of the PDCP PDUs that were not delivered by the gNB-DU1
(e.g. the highest transmitted NR PDCP Sequence Number, the highest
successfully delivered NR PDCP Sequence Number and the lost NR-U Sequence
Numbers).
3\. gNB-CU decides to switch data traffic transmission and retransmission of
PDCP PDUs that were undelivered in gNB-DU1 via gNB-DU2. gNB-CU stops sending
downlink traffic to gNB-DU1. The radio leg between gNB-DU1 and the UE is not
necessarily removed.
4\. gNB-CU starts sending traffic (namely new PDUs and potentially
retransmitted PDUs) to gNB-DU2.
5\. If gNB-DU1 realizes that the radio link of the concerned data radio bearer
is back in normal operation, it may send a \"Radio Link Resume\" notification
message as part of the DDDS PDU over the F1-U interface to inform the gNB-CU
that the radio link can be used again for the concerned data radio bearer.
6\. gNB-CU may start sending traffic (namely new PDUs and potentially
retransmitted PDUs) of the concerned data radio bearer via gNB-DU1 again.
## 8.4 Multi-Connectivity operation
### 8.4.1 Secondary Node Addition
#### 8.4.1.1 EN-DC
This clause gives the SgNB addition procedure in EN-DC given that en-gNB
consists of gNB-CU and gNB-DU(s), as shown in Figure 8.4.1.1-1.
Figure 8.4.1.1-1: SgNB addition procedure in EN-DC
1\~8: refer to TS 37.340 [12]
a1. After receiving the SGNB ADDITION REQUEST message from MeNB, the gNB-CU
sends the UE CONTEXT SETUP REQUEST message to the gNB-DU to create a UE
context. As specified in 37.340 [12], in the course of a Secondary Node
Change, the UE CONTEXT SETUP REQUEST message may contain source cell group
configuration to allow gNB-DU to perform delta configuration.
a2. The gNB-DU responds to the gNB-CU with the UE CONTEXT SETUP RESPONSE
message. In case the gNB-DU receives the UE CONTEXT SETUP REQUEST message
without the source cell group configuration or in the course of a Secondary
Node Change as specified in 37.340 [12] or if the gNB-DU decides to perform
full configuration after receiving the source cell group configuration, it
shall perform full configuration and indicate that it has applied full
configuration in the UE CONTEXT SETUP RESPONSE message.
NOTE: On Inter-gNB-CU Mobility, same method is performed to achieve full
configuration and delta configuration.
### 8.4.2 Secondary Node Release (MN/SN initiated)
#### 8.4.2.1 EN-DC
This clause gives the SgNB release procedure in EN-DC given that the en-gNB
consists of a gNB-CU and gNB-DU(s).
**MN initiated SN Release**
Figure 8.4.2.1-1 SgNB release procedure in EN-DC (MN initiated)
1\~8: refer to TS 37.340 [12]
NOTE: The timing of sending the Step 2 SGNB RELEASE REQUEST ACKNOWLEDGE
message is an example, it may be sent e.g. after step a1 or after a2 and it is
up to implementation.
a1. After receiving SGNB RELEASE REQUEST message from MeNB, gNB-CU sends the
UE CONTEXT MODIFICATION REQUEST message to gNB-DU to stop the data
transmission for the UE. It is up to gNB-DU implementation when to stop the UE
scheduling.
a2. gNB-DU responds to gNB-CU with UE CONTEXT MODIFICATION RESPONSE message.
a3. After receiving the UE CONTEXT RELEASE message from MeNB, the gNB-CU sends
the UE CONTEXT RELEASE COMMAND message to the gNB-DU to release the UE
context.
a4. The gNB-DU responds to the gNB-CU with the UE CONTEXT RELEASE COMPLETE
message.
**SN initiated SN Release**
Figure 8.4.2.1-2 SgNB release procedure in EN-DC (SN initiated)
1\~8: refer to TS 37.340 [12]
a1. gNB-CU sends the UE CONTEXT MODIFICATION REQUEST message to gNB-DU to stop
the data transmission for the UE. It is up to gNB-DU implementation when to
stop the UE scheduling. This step may occur before step 1.
a2. gNB-DU responds to gNB-CU with UE CONTEXT MODIFICATION RESPONSE message.
a3. After receiving the UE CONTEXT RELEASE message from MeNB, the gNB-CU sends
the UE CONTEXT RELEASE COMMAND message to the gNB-DU to release the UE
context.
a4. The gNB-DU responds to the gNB-CU with the UE CONTEXT RELEASE COMPLETE
message.
## 8.5 F1 Startup and cells activation
This function allows to setup the F1 interface between a gNB-DU and a gNB-CU
and it allows to activate the gNB-DU cells.
Figure 8.5-1: F1 startup and cell activation
0\. The gNB-DU and its cells are configured by OAM in the F1 pre-operational
state. The gNB-DU has TNL connectivity toward the gNB-CU.
1\. The gNB-DU sends an F1 SETUP REQUEST message to the gNB-CU including a
list of cells that are configured and ready to be activated.
2\. In NG-RAN, the gNB-CU ensures the connectivity toward the core network.
For this reason, the gNB-CU may initiate either the NG Setup or the gNB
Configuration Update procedure towards 5GC.
3\. The gNB-CU sends an F1 SETUP RESPONSE message to the gNB-DU that
optionally includes a list of cells to be activated. The cells in the list of
cells to be activated in F1 SETUP RESPONSE message become active, while the
cells not in the list are inactive. The cells that are active are _Out-of-
Service_ until the gNB-DU indicates that they are _In-Service_ . The gNB-DU
will initiate the gNB-DU Configuration Update procedure towards the gNB-CU and
includes the cell(s) that are _In-Service_ and/or the cell(s) that are _Out-
Of-Service_. The gNB-DU may also indicate cell(s) to be deleted, in which case
the gNB-CU removes the corresponding cell(s) information.
4\. The gNB-CU may send a GNB CU CONFIGURATION UPDATE message to the gNB-DU
that optionally includes a list of cells to be activated, e.g., in case that
these cells were not activated using the F1 SETUP RESPONSE message.
5\. The gNB-DU replies with a GNB CU CONFIGURATION UPDATE ACKNOWLEDGE message
that optionally includes a list of cells that failed to be activated. The gNB-
CU regards all Active cells as _Out-Of-Service_ until the gNB-DU indicates
that they are _In-Service_.
6\. The gNB-CU may initiate either the Xn Setup towards a neighbour NG-RAN
node or the EN-DC X2 Setup procedure towards a neighbour eNB.
NOTE 1: For NG-RAN in case that the F1 SETUP RESPONSE message is not used to
activate any cell, step 2 may be performed after step 3.
Over the F1 interface between a gNB-CU and a gNB-DU pair, the following two
Cell States are possible:
_\- Inactive_ : the cell is known by both the gNB-DU and the gNB-CU. The cell
shall not serve UEs;
_\- Active_ : the cell is known by both the gNB-DU and the gNB-CU. The cell
should try to provide services to the UEs.
> The gNB-CU decides whether the Cell State should be "Inactive" or "Active".
> The gNB-CU can request the gNB-DU to change the Cell State using the F1
> SETUP RESPONSE, theGNB DU CONFIGURATION UPDATE ACKNOWLEDGE, or the GNB CU
> CONFIGURATION UPDATE messages.
>
> The gNB-DU reports to the gNB-CU the _Service Status_. The _Service Status_
> is the state of the radio transmission over the air. The _Service Status_ is
> reported by the gNB-DU for cells for which the Cell State is "Active ". The
> following _Service Status_ are defined:
_\- In-Service_ : the cell is operational and able to serve UEs.
_\- Out-Of-Service_ : the cell is not operational, and it is not able to serve
UEs. The gNB-DU is trying to make the cell operational.
> The gNB-DU reports the _Service Status_ using the GNB DU CONFIGURATION
> UPDATE message.
NOTE 2: If gNB-DU regards that one or more cells cannot become operational,
the gNB-DU deletes them and reports them using the GNB DU CONFIGURATION UPDATE
message.
## 8.6 RRC state transition
### 8.6.1 RRC connected to RRC inactive
This section gives the RRC connected to RRC inactive state transition given
that gNB consists of gNB-CU and gNB-DU(s), as shown in Figure 8.6.1-1.
Figure 8.6.1-1: RRC connected to RRC inactive state transition procedure
0\. At first, the gNB-CU determines the UE to enter into RRC inactive mode
from connected mode.
1\. The gNB-CU generates _RRCRelease_ message towards UE. The RRC message is
encapsulated in UE CONTEXT RELEASE COMMAND message to the gNB-DU.
2\. The gNB-DU forwards _RRCRelease_ message to UE.
3\. gNB-DU responds with UE CONTEXT RELEASE COMPLETE message.
### 8.6.2 RRC inactive to other states
This section gives the RRC inactive to other RRC states transition given that
gNB consists of gNB-CU and gNB-DU(s), as shown in Figure 8.6.2-1.
Figure 8.6.2-1: RRC inactive to other RRC states transition procedure
1\. If data is received from 5GC, the gNB-CU sends PAGING message to gNB-DU.
2\. The gNB-DU sends _Paging_ message to UE.
NOTE: step 1 and 2 only exist in case of DL data arrival.
3\. UE sends _RRCResumeRequest_ message either upon RAN-based paging, UL data
arrival or RNA update.
4\. The gNB-DU includes _RRCResumeRequest_ in a non-UE associated INITIAL UL
RRC MESSAGE TRANSFER message and transfer to the gNB-CU.
5\. For UE Inactive to UE Active transitions, excluding transitions due to
signalling exchange only, the gNB-CU allocates gNB-CU UE F1AP ID and sends UE
CONTEXT SETUP REQUEST message to gNB-DU, which may include SRB ID(s) and DRB
ID(s) to be setup, **CellGroupConfig stored in gNB-CU or retrieved from the
old NG-RAN node may also be included**.
6\. The gNB-DU responds with UE CONTEXT SETUP RESPONSE message, which contains
RLC/MAC/PHY configuration of SRB and DRBs provided by the gNB-DU.
NOTE: step 5 and 6 exist for inactive to active transitions, excluding
transitions due to signalling exchange only. When gNB-CU successfully
retrieves and verifies the UE context, it may decide to let the UE enter into
RRC active mode. gNB-CU shall trigger UE context setup procedure between gNB-
CU and gNB-DU, during which both SRB1, SRB2 and DRB(s) can be setup. For
signalling exchange only transitions, gNB-CU does not trigger UE Context Setup
procedure. For inactive to Idle transitions the gNB-CU does not trigger the UE
Context Setup procedure.
7\. The gNB-CU generates _RRCResume/RRCSetup_ /_RRCReject_ /_RRCRelease_
message or receives _RRCRelease_ message from the old NG-RAN node towards UE.
The RRC message is encapsulated in DL RRC MESSAGE TRANSFER message together
with SRB ID.
8\. The gNB-DU forwards RRC message to UE either over SRB0 or SRB1 as
indicated by the SRB ID.
NOTE: in step 7, it is expected that gNB-CU takes appropriate action, e.g.
generates RRC resume message for inactive to active state transition(for both
cases of signaling exchange only, and UP data exchange), generates _RRCSetup_
message for fallback to establish a new RRC connection, and generates or
receives from the old NG-RAN node either _RRCRelease_ message without suspend
configuration for inactive to idle state transition, or _RRCRelease_ message
with suspend configuration to remain in inactive state.\ If step 5 and 6 are
not performed, the gNB-DU deduces the SRB on which to deliver the RRC message
in step 7 from the SRB ID, i.e. SRB ID "0" corresponds to SRB0, SRB ID "1"
corresponds to SRB1.
9\. UE sends _RRCResumeComplete_ /_RRCSetupComplete_ message to the gNB-DU.
10\. The gNB-DU encapsulates RRC in UL RRC MESSAGE TRANSFER message and send
to the gNB-CU.
NOTE: step 9 and step 10 exist for inactive to active state transition (for
both cases of signaling exchange only, and UP data exchange). UE generates
_RRCResumeComplete_ /_RRCSetupComplete_ message for resume the existing RRC
connection or fallback to a new RRC connection respectively.
## 8.7 RRC connection reestablishment
This procedure is used for the case that UE tries to reestablish the RRC
connection, as shown in Figure 8.7-1.
Figure 8.7-1: RRC connection reestablishment procedure
1\. UE sends preamble to the gNB-DU.
2\. The gNB-DU allocates new C-RNTI and responds UE with RAR.
3\. The UE sends _RRCReestablishmentRequest_ message to the gNB-DU, which
contains old C-RNTI and old PCI.
4\. The gNB-DU includes the RRC message and, if the UE is admitted, the
corresponding low layer configuration for the UE in the INITIAL UL RRC MESSAGE
TRANSFER message and transfers to the gNB-CU. The INITIAL UL RRC MESSAGE
TRANSFER message should include C-RNTI.
5\. The gNB-CU includes _RRCReestablishment_ message and transfers to the gNB-
DU. If the UE requests to re-establish RRC connection in the last serving gNB-
DU, the DL RRC MESSAGE TRANSFER message shall include old gNB-DU UE F1AP ID.
6\. The gNB-DU retrieves UE context based on old gNB-DU UE F1AP ID, replaces
old C-RNTI/PCI with new C-RNTI/PCI. It sends _RRCReestablishment_ message to
UE.
7-8. The UE sends _RRCReestablishmentComplete_ message to the gNB-DU. The gNB-
DU encapsulates the RRC message in UL RRC MESSAGE TRANSFER message and sends
to gNB-CU.
9-10. The gNB-CU triggers UE context modification procedure by sending UE
CONTEXT MODIFICIATION REQUEST, which may include DRBs to be modified and
released list. The gNB-DU responses with UE CONTEXT MODIFICATION RESPONSE
message.
9\'-10\'. The gNB-DU triggers UE context modification procedure by sending UE
CONTEXT MODIFICIATION REQUIRED, which may include DRBs to be modified and
released list. The gNB-CU responses with UE CONTEXT MODIFICATION CONFIRM
message.
NOTE: Here it is assumed that UE accesses from the original gNB-DU where the
UE contexts are available for that UE, and either step 9-10 or step 9' and 10'
may exist or both could be skipped.
NOTE: If UE accesses from a gNB-DU other than the original one, gNB-CU should
trigger UE Context Setup procedure towards this new gNB-DU.
11-12. The gNB-CU includes _RRCReconfiguration_ message into DL RRC MESSAGE
TRANSFER message and transfers to the gNB-DU. The gNB-DU forwards it to the
UE.
13-14. The UE sends _RRCReconfigurationComplete_ message to the gNB-DU, and
gNB-DU forwards it to the gNB-CU.
## 8.8 Multiple TNLAs for F1-C
In the following, the procedure for managing multiple TNLAs for F1-C is
described.
{width="3.1743055555555557in" height="4.334722222222222in"}
Figure 8.8-1: Managing multiple TNLAs for F1-C.
1\. The gNB-DU establishes the first TNLA with the gNB-CU using a configured
TNL address.
NOTE: The gNB-DU may use different source and/or destination IP end point(s)
if the TNL establishment towards one IP end point fails. How the gNB-DU gets
the remote IP end point(s) and its own IP address are outside the scope of
this specification.
2-3. Once the TNLA has been established, the gNB-DU initiates the F1 Setup
procedure to exchange application level configuration data
4-6. The gNB-CU may add additional TNL Endpoint(s) to be used for F1-C
signalling between the gNB-CU and the gNB-DU pair using the gNB-CU
Configuration Update procedure. The gNB-CU Configuration Update procedure also
allows the gNB-CU to request the gNB-DU to modify or release TNLA(s).
7-9. The gNB-DU may add additional TNL association(s) to be used for F1-C
signalling _using a gNB-CU endpoint already in use for existing TNL
associations_ between the gNB-CU and the gNB-DU pair. The gNB-DU CONFIGURATION
UPDATE message including the gNB-DU ID shall be the first F1AP message sent on
an additional TNLA of an already setup F1-C interface instance after the TNL
association has become operational.
The F1AP UE TNLA binding is a binding between a F1AP UE association and a
specific TNL association for a given UE. After the F1AP UE TNLA binding is
created, the gNB-CU can update the UE TNLA binding by sending the F1AP message
for the UE to the gNB-DU via a different TNLA. The gNB-DU shall update the
F1AP UE TNLA binding with the new TNLA. The gNB-DU Configuration Update
procedure also allows the gNB-DU to inform the gNB-CU that the indicated
TNLA(s) will be removed by the gNB-DU.
## 8.9 Overall procedures involving E1 and F1
The following clauses describe the overall procedures involving E1 and F1.
### 8.9.1 UE Initial Access
The signalling flow for UE Initial access involving E1 and F1 is shown in
Figure 8.9.1-1.
Figure 8.9.1-1: UE Initial Access procedure involving E1 and F1
Steps 1-8 are defined in clause 8.1.
9\. The gNB-CU-CP sends the BEARER CONTEXT SETUP REQUEST message to establish
the bearer context in the gNB-CU-UP.
10 The gNB-CU-UP sends the BEARER CONTEXT SETUP RESPONSE message to gNB-CU-CP,
including F1-U UL TEID and transport layer address allocated by gNB-CU-UP.
Steps 11-13 are defined in clause 8.1.
14\. The gNB-CU-CP sends the BEARER CONTEXT MODIFICATION REQUEST message to
the gNB-CU-UP, including F1-U DL TEID and transport layer address allocated by
gNB-DU.
15\. The gNB-CU-UP sends the BEARER CONTEXT MODIFICATION RESPONSE message to
the gNB-CU-CP.
Steps 16-22 are defined in clause 8.1.
NOTE: 14-15 and 16-17 can happen in parallel, but both are before 18.
### 8.9.2 Bearer context setup over F1-U
Figure 8.9.2-1 shows the procedure used to setup the bearer context in the
gNB-CU-UP.
Figure 8.9.2-1: Bearer context setup over F1-U
0\. Bearer context setup (e.g., following an SGNB ADDITION REQUEST message
from the MeNB) is triggered in gNB-CU-CP.
1\. The gNB-CU-CP sends a BEARER CONTEXT SETUP REQUEST message containing UL
TNL address information for S1-U or NG-U, and if required, DL TNL address
information for X2-U or Xn-U to setup the bearer context in the gNB-CU-UP. For
NG-RAN, the gNB-CU-CP decides flow-to-DRB mapping and sends the generated SDAP
and PDCP configuration to the gNB-CU-UP.
2\. The gNB-CU-UP responds with a BEARER CONTEXT SETUP RESPONSE message
containing the UL TNL address information for F1-U, and DL TNL address
information for S1-U or NG-U, and if required, UL TNL address information for
X2-U or Xn-U.
NOTE: The indirect data transmission for split bearer through the gNB-CU-UP is
not precluded.
3\. F1 UE context setup procedure is performed to setup one or more bearers in
the gNB-DU.
4\. The gNB-CU-CP sends a BEARER CONTEXT MODIFICATION REQUEST message
containing the DL TNL address information for F1-U and PDCP status.
5\. The gNB-CU-UP responds with a BEARER CONTEXT MODIFICATION RESPONSE
message.
### 8.9.3 Bearer context release over F1-U
#### 8.9.3.1 gNB-CU-CP initiated bearer context release
Figure 8.9.3.1-1 shows the procedure used to release the bearer context in the
gNB-CU-UP initiated by the gNB-CU-CP.
Figure 8.9.3.1-1: Bearer context release over F1-U -- gNB-CU-CP initiated
0\. Bearer context release (e.g., following an SGNB RELEASE REQUEST message
from the MeNB) is triggered in gNB-CU-CP.
1\. The gNB-CU-CP sends a BEARER CONTEXT MODIFICATION REQUEST message to the
gNB-CU-UP.
2\. The gNB-CU-UP responds with a BEARER CONTEXT MODIFICATION RESPONSE
carrying the PDCP UL/DL status.
3\. F1 UE context modification procedure is performed to stop the data
transmission for the UE. It is up to gNB-DU implementation when to stop the UE
scheduling.
NOTE: step 1-3 are performed only if the PDCP status of the bearer(s) needs to
be preserved e.g., for bearer type change.
4\. The gNB-CU-CP may receive the UE CONTEXT RELEASE message from the MeNB in
EN-DC operation as described in Section 8.4.2.1.
5\. and 7. Bearer context release procedure is performed.
6\. F1 UE context release procedure is performed to release the UE context in
the gNB-DU.
#### 8.9.3.2 gNB-CU-UP initiated bearer context release
Figure 8.9.3.2-1 shows the procedure used to release the bearer context in the
gNB-CU-UP initiated by the gNB-CU-UP.
Figure 8.9.3.2-1: Bearer context release over F1-U -- gNB-CU-UP initiated
0\. Bearer context release is triggered in gNB-CU-UP e.g., due to local
failure.
1\. The gNB-CU-UP sends a BEARER CONTEXT RELEASE REQUEST message to request
the release of the bearer context in the gNB-CU-UP. This message may contain
the PDCP status.
2.- 5. If the PDCP status needs to be preserved, the E1 Bearer Context
Modification and the F1 UE Context Modification procedures are performed. The
E1 Bearer Context Modification procedure is used to convey data forwarding
information to the gNB-CU-UP. The gNB-CU-CP may receive the UE Context Release
from the MeNB.
6\. The gNB-CU-CP sends a BEARER CONTEXT RELEASE COMMAND message to release
the bearer context in the gNB-CU-UP.
7\. The gNB-CU-UP responds with a BEARER CONTEXT RELEASE COMPLETE to confirm
the release of the bearer context including also data forwarding information.
8\. F1 UE context release procedure may be performed to release the UE context
in the gNB-DU.
### 8.9.4 Inter-gNB handover involving gNB-CU-UP change
Figure 8.9.4-1 shows the procedure used for inter-gNB handover involving gNB-
CU-UP change. Overall inter-gNB handover procedure is specified in TS 37.340
[12].
Figure 8.9.4-1: Inter-gNB handover involving gNB-CU-UP change
1\. The source gNB-CU-CP sends HANDOVER REQUEST message to the target gNB-CU-
CP.
2-4. Bearer context setup procedure is performed as described in Section
8.9.2.
5\. The target gNB-CU-CP responds the source gNB-CU-CP with an HANDOVER
REQUEST ACKNOWLEDGE message.
6\. The F1 UE Context Modification procedure is performed to send the handover
command to the UE, and to indicate to stop the data transmission for the UE.
7-8. Bearer context modification procedure (gNB-CU-CP initiated) is performed
to enable the gNB-CU-CP to retrieve the PDCP UL/DL status and to exchange data
forwarding information for the bearer.
9\. The source gNB-CU-CP sends an SN STATUS TRANSFER message to the target
gNB-CU-CP.
10-11. Bearer context modification procedure is performed as described in
Section 8.9.2.
12\. Data Forwarding may be performed from the source gNB-CU-UP to the target
gNB-CU-UP.
13-15. Path Switch procedure is performed to update the DL TNL address
information for the NG-U towards the core network.
16\. The target gNB-CU-CP sends an UE CONTEXT RELEASE message to the source
gNB-CU-CP.
17\. and 19. Bearer context release procedure is performed.
18\. F1 UE context release procedure is performed to release the UE context in
the source gNB-DU.
### 8.9.5 Change of gNB-CU-UP
Figure 8.9.5-1 shows the procedure used for the change of gNB-CU-UP within a
gNB.
Figure 8.9.5-1: Change of gNB-CU-UP
1\. Change of gNB-CU-UP is triggered in gNB-CU-CP based on e.g., measurement
report from the UE.
2-3. Bearer Context Setup procedure is performed as described in Section
8.9.2.
4\. F1 UE Context Modification procedure is performed to change the UL TNL
address information for F1-U for one or more bearers in the gNB-DU.
5-6. Bearer Context Modification procedure (gNB-CU-CP initiated) is performed
to enable the gNB-CU-CP to retrieve the PDCP UL/DL status and to exchange data
forwarding information for the bearer.
7-8. Bearer Context Modification procedure is performed as described in
Section 8.9.2.
9\. Data Forwarding may be performed from the source gNB-CU-UP to the target
gNB-CU-UP.
10-12. PDU Session Resource Modify Indication procedure is performed to update
the DL TNL address information for the NG-U towards the core network.
13-14. Bearer Context Release procedure (gNB-CU-CP initiated) is performed as
described in Section 8.9.3.
### 8.9.6 RRC State transition
#### 8.9.6.1 RRC Connected to RRC Inactive
The procedure for changing the UE state from RRC-connected to RRC-inactive is
shown in Figure 8.9.6.1-1.
Figure 8.9.6.1-1: RRC Connected to RRC Inactive state transition.
1\. The gNB-CU-CP sends BEARER CONTEXT SETUP REQUEST message with UE/PDU
session/DRB level inactivity timer.
2\. The gNB-CU-UP sends BEARER CONTEXT SETUP RESPONSE message.
3\. The gNB-CU-UP sends BEARER CONTEXT INACTIVITY NOTIFICATION message with
inactivity monitoring results.
4\. The gNB-CU-CP determines that the UE should enter RRC-inactive (e.g.,
after receiving E1 Bearer Context Inactivity Notification procedure).
5\. The gNB-CU-CP sends BEARER CONTEXT MODIFICATION REQUEST message with a RRC
Suspend indication to the gNB-CU-UP, which indicates that the UE is entering
RCC-inactive state. The gNB-CU-CP keeps the F1 UL TEIDs.
6\. The gNB-CU-UP sends the BEARER CONTEXT MODIFICATION RESPONSE message
including the PDCP UL and DL status that may be needed for e.g., data volume
reporting. The gNB-CU-UP keeps the Bearer Context, the UE-associated logical
E1-connection, the NG-U related resource (e.g., NG-U DL TEIDs) and the F1 UL
TEIDs.
7\. The gNB-CU-CP sends the UE CONTEXT RELEASE COMMAND message to the gNB-DU
serving the UE, together with the _RRCRelease_ message to be sent to the UE.
NOTE: step 5 and 7 can be performed at the same time.
8\. The gNB-DU sends the _RRCRelease_ message to the UE.
9\. The gNB-DU sends the UE CONTEXT RELEASE COMPLETE message to the gNB-CU-CP.
#### 8.9.6.2 RRC Inactive to other states
The procedure for changing the UE state from RRC-inactive to RRC-connected is
shown in Figure 8.9.6.2-1.
Figure 8.9.6.2-1: RRC Inactive to RRC Connected state transition.
0\. The gNB-CU-UP receives DL data on NG-U interface.
1\. The gNB-CU-UP sends DL DATA NOTIFICATION message to the gNB-CU-CP.
2\. The gNB-CU-CP initiates PAGING procedure.
3\. The gNB-DU sends the _Paging_ message to the UE.
NOTE: step 0-3 are needed only in case of DL data.
4\. The UE sends _RRCResumeRequest_ message either upon RAN paging or UL data
arrival.
5\. The gNB-DU sends the INITIAL UL RRC MESSAGE TRANSFER message to the gNB-
CU-CP.
6\. The gNB-CU-CP sends UE CONTEXT SETUP REQUEST message including the stored
F1 UL TEIDs to create the UE context in the gNB-DU.
7\. The gNB-DU responds with the UE CONTEXT SETUP RESPONSE message including
the F1 DL TEIDs allocated for the DRBs.
8\. The gNB-CU-CP and the UE perform the RRC-Resume procedure via the gNB-DU.
9\. The gNB-CU-CP sends BEARER CONTEXT MODIFICATION REQUEST message with a RRC
Resume indication, which indicates that the UE is resuming from RRC-inactive
state. The gNB-CU-CP also includes the F1 DL TEIDs received from the gNB-DU in
step 7.
10\. The gNB-CU-UP responds with theBEARER CONTEXT MODIFICATION RESPONSE
message.
NOTE steps 8 and 9 can be performed in parallel.
## 8.10 Multiple TNLAs for E1
In the following, the procedure for managing multiple TNLAs for E1 is
described.
{width="3.5034722222222223in" height="4.817361111111111in"}
Figure 8.10-1: Managing multiple TNLAs for E1.
1\. Either the gNB-CU-CP or gNB-CU-UP establishes the first SCTP association
with the gNB-CU-UP or gNB-CU-CP respectively using a configured TNL address.
NOTE: The gNB-CU-UP/gNB-CU-CP may use different source and/or destination IP
end point(s) if the TNL establishment towards one IP end point fails. How the
gNB-CU-UP/gNB-CU-CP gets the remote IP end point(s) and its own IP address are
outside the scope of this specification.
2-3 (A). Once the TNLA (gNB-CU-UP initiated) has been established, the gNB-CU-
UP initiates the E1 Setup procedure to exchange application level
configuration data
2-3 (B). Once the TNLA (gNB-CU-CP initiated) has been established, the gNB-CU-
CP initiates the E1 Setup procedure to exchange application level
configuration data
4-6. The gNB-CU-CP may add additional SCTP Endpoint(s) to be used for E1
signalling between the gNB-CU-CP and the gNB-CU-UP pair using the gNB-CU-CP
Configuration Update procedure. The gNB-CU-CP Configuration Update procedure
also allows the gNB-CU-CP to request the gNB-CU-UP to modify or release
TNLA(s).
7-9. The gNB-CU-UP may add additional TNL association(s) to be used for E1
signalling _using a gNB-CU-CP endpoint already in use for existing TNL
associations_ between the gNB-CU-CP and the gNB-CU-UP pair. The gNB-CU-UP
CONFIGURATION UPDATE message including the gNB-CU-UP ID shall be the first
E1AP message sent on an additional TNLA of an already setup E1 interface
instance after the TNL association has become operational. The E1AP UE TNLA
binding is a binding between a E1AP UE association and a specific TNL
association for a given UE. After the E1AP UE TNLA binding is created, the
gNB-CU-CP can update the UE TNLA binding by sending the E1AP message for the
UE to the gNB-CU-UP via a different TNLA. The gNB-CU-UP shall update the E1AP
UE TNLA binding with the new TNLA. The gNB-CU-UP Configuration Update
procedure also allows the gNB-CU-UP to inform the gNB-CU-CP that the indicated
TNLA(s) will be removed by the gNB-CU-UP.
## 8.11 Support of Network Sharing with multiple cell-ID broadcast
### 8.11.1 General
This section describes necessary additions as compared to the case where
network sharing with multiple cell-ID broadcast is not applied.
The signalling flows in the subsequent sections assuming 2 sharing operators,
A and B. The F1-C signalling transport deployment used is indicated within the
subsequent sections.
### 8.11.2 Initial Registration -- separate PLMN signalling
The signalling flow for Initial Registration for network sharing with multiple
cell-ID broadcast with separate per-PLMN signalling is shown in Figure
8.11.2-1.
In this example message flow
\- the UE is assumed to not provide an ue-Identity from which the DU is able
to deduce the PLMN ID.
\- each F1-C interface instance uses a separate signalling transport or share
signalling transport with other F1-C interface instances.
\- the gNB-DU~A/B~ entity shown in Figure 8.11.2-1 is a simplified
representation of the gNB-DU~A~ of PLMN A, the gNB DU~B~ of PLMN B and
respective radio resources of the shared cell.
Figure 8.11.2-1: UE Initial Access procedure and network sharing with multiple
cell-ID broadcast
NOTE: Steps 1-5 are defined in clause 8.1. Note, that the selectedPLMN-
Identity is provided in step 5.
6\. The gNB-DU~A~ sends the F1AP UE CONTEXT RELEASE REQUEST message to the
gNB-CU~A~. including a Cause set to \"PLMN not served by the CU\".
7\. The gNB-DU~B~ sends the F1AP INITIAL UL RRC MESSAGE to the gNB-CU~B~.
including the NR CGI associated with PLMN~B~, the C-RNTI indicated by the gNB-
DU~A~ at step 2, and the RRC-Container IE and the _RRC-Container-
RRCSetupComplete_ IE with the RRC message received in step1 and step 5
respectively. The _RRC-Container-RRCSetupComplete_ IE are included in the
INITIAL UL RRC MESSAGE TRANSFER for the case of network sharing and shall
contain the RRC messages received via the _RRC UL-DCCH-Message_ IE from the
UE, but never previously sent to the gNB-CU~B~.
8\. The gNB-CU~A~ triggers the F1AP UE Context Release procedure.
NOTE: Initiating procedures from gNB-DU~A~ towards gNB-CU~A~ and from gNB-
DU~B~ to gNB-CU~B~ in parallel is not precluded.
### 8.11.3 RRC Connection Reestablishment -- separate PLMN signalling
The signalling flow for RRC Connection Reestablishment for network sharing
with multiple cell-ID broadcast with separate per-PLMN signalling is shown in
Figure 8.11.3-1.
In this example message flow
\- each F1-C/Xn-C interface instance uses either a separate signalling
transport or a share signalling transport with other interface instances.
\- the New gNB-DU~A/B~ entity shown in Figure 8.11.3-1 is a simplified
representation of the New gNB-DU~A~ of PLMN A, the New gNB DU~B~ of PLMN B and
respective radio resources of the shared cell.
Figure 8.11.3-1: RRC Connection Reestablishment and network sharing with
multiple cell-ID broadcast
1\. The UE sends the RRCReestablishmentRequest.
2A-5A. Depicts the case where the UE context could not be retrieved by the new
gNB-CU~A~. In step 2A, the NR CGI associated to PLMN~A~ is indicated. In step
5A, the gNB-CU~A~ would prepare the possibility to revert back to normal RRC
Connection Establishment, indicating that the UE Context was not retrieveable
and may include the re-directed RRC message as received in step 1. After step
5A, the gNB-DU~A~ may redirect the UE towards the PLMN indicated in DL RRC
message transfer, if the PLMN assistance information is provided by the gNB-
CU~A~. If the New gNB-DU~A/B~ was not able to deduce the RRC message from step
1, this indicator triggers step 2B. The New gNB-DU~A~ is supposed to trigger
the release the UE-associated signalling connection (not shown).
2B-5B. Depicts the case where the UE context was retrieveable by the New gNB-
CU~B~. In step 2B, the NR CGI associated to PLMN~B~ is indicated. Step 2B also
includes the C-RNTI allocated at reception of step 1.
6-8. The RRC Connection Reestablishment continues with the New gNB-CU~B~.
NOTE: If all gNB-CUs indicate that the UE context is not retrievable, the RRC
connection reestablishment falls back to RRC Connection setup, as described in
section 8.11.2.
NOTE: Initiating procedures from gNB-DU~A~ towards gNB-CU~A~ and from gNB-
DU~B~ to gNB-CU~B~ in parallel is not precluded.
### 8.11.4 Support of shared signalling transport
This section specifies for F1-C, Xn-C and, in case of EN-DC, for X2-C, how an
interface instance is identified in case of network sharing with multiple cell
ID broadcast with shared signalling transport.
For UE associated signalling, the interface instance is identified by
assigning on F1-C appropriate UE F1AP IDs, on Xn-C appropriate UE XnAP IDs and
on X2-C appropriate UE X2AP IDs.
For non-UE associated signalling, the interface instance is identified on F1-C
by the assigning an appropriate value to the Transaction ID, on Xn-C and X2-C
by including the Interface Instance Indication in the respective message and
assigning an appropriate value to it.
# 9 Synchronization
## 9.1 gNB Synchronization
The gNB shall support a logical synchronization port for phase-, time- and/or
frequency synchronization.
Logical synchronization port for phase- and time-synchronization shall
provide:
1) accuracy that allows to meet the gNB requirements on maximum relative phase
difference for all gNBs in synchronized TDD-unicast area;
2) continuous time without leap seconds traceable to common time reference for
all gNBs in synchronized TDD-unicast area.
A logical synchronization port for phase- and time-synchronization may also be
provided for e.g., all gNBs in FDD time domain inter-cell interference
coordination synchronization area.
Furthermore common SFN initialization time shall be provided for all gNBs in
synchronized TDD-unicast area.
Based on this information, the gNB may derive the SFN according to the
following formula:
$\text{SFN} = \left{ \text{time} \right}\text{mod}\left{ \text{period}\left(
\text{SFN} \right) \right}$,
where:
time time adjusted by the common SFN initialization time, in units of 10 ms to
match the length of radio frame and accuracy accordingly;
period(SFN) SFN period.
In case gNB is connected via TDM interface, it **may be used to frequency
synchronize the gNB.** The characteristics of the clock in the gNB shall be
designed taking into account that the jitter and wander performance
requirements on the interface are in accordance with network limits for output
wander at traffic interfaces of either ITU-T Recommendation G.823 [8], ITU-T
Recommendation G.824 [9] or network limits for the maximum output jitter and
wander at any hierarchical interface of ITU-T Recommendation G.825 [10],
whichever is applicable.
In case gNB is connected via Ethernet interface and the network supports
Synchronous Ethernet, the gNB may use this interface to get frequency
synchronization. In this case the design of the gNB clock should be done
considering the jitter and wander performance requirements on the interface
are as specified for output jitter and wander at EEC interfaces of ITU-T
Recommendation G.8261/Y.1361 [11], defined in clause 9.2.1. Further
considerations on Synchronous Ethernet recommendations and architectural
aspects are defined in clause 12.2.1 and Annex A of ITU-T Recommendation
G.8261/Y.1361 [11].
A configurable LTE TDD-offset of start frame shall be supported by all gNBs in
synchronized TDD-unicast areas in order to achieve interoperability in
coexistence scenarios.
# 10 NG-RAN interfaces
## 10.1 NG interface
3GPP TS 38.410 [14] specifies NG interface general aspects and principles.
## 10.2 Xn interface
3GPP TS 38.420 [15] specifies Xn interface general aspects and principles.
## 10.3 F1 interface
3GPP TS 38.470 [16] specifies F1 interface general aspects and principles.
## 10.4 E1 interface
3GPP TS 38.460 [17] specifies E1 interface general aspects and principles.
## 10.5 Antenna interface - general principles
The Iuant interface for the control of RET antennas or TMAs is a logical part
of the NG-RAN.
The support of any standardised antenna interface technique shall not be
prevented; e.g. AISG (Antenna interface standards group) specifications may be
used.
# 11 Overall procedures in NG-RAN Architecure
## 11.1 Multiple TNLAs for Xn-C
In the following, the procedure for managing multiple TNLAs for Xn-C is
described.
{width="4.278472222222222in" height="4.200694444444444in"}
Figure 11.1-1: Managing multiple TNLAs for Xn-C.
1\. The NG-RAN node~1~ establishes the first TNLA with the NG-RAN node~2~
using a configured TNL address.
NOTE: The NG-RAN node~1~ may use different source and/or destination IP end
point(s) if the TNL establishment towards one IP end point fails. How the NG-
RAN node~1~ gets the remote IP end point(s) and its own IP address are outside
the scope of this specification.
2-3. Once the TNLA has been established, the NG-RAN node~1~ initiates the Xn
Setup procedure to exchange application level configuration data
4-6. The NG-RAN node~2~ may add additional TNL Endpoint(s) to be used for Xn-C
signalling between the NG-RAN node~1~ and the NG-RAN node~2~ pair using the
NG-RAN node Configuration Update procedure. NG-RAN node Configuration Update
procedure also allows the NG-RAN node~2~ to request the NG-RAN node~1~ to
modify or release TNLA(s).
7-9. The NG-RAN node~1~ may add additional TNL Endpoint(s) to be used for Xn-C
signalling between the NG-RAN node~1~ and the NG-RAN node~2~ pair using the
NG-RAN node Configuration Update procedure. NG-RAN node Configuration Update
procedure also allows the NG-RAN node~1~ to request the NG-RAN node~2~ to
modify or release TNLA(s).
The XnAP UE TNLA binding is a binding between a XnAP UE association and a
specific TNL association for a given UE. After the XnAP UE TNLA binding is
created, the NG-RAN node1 or the NG-RAN node2 can update the UE TNLA binding
by sending the first available XnAP message for the UE to the peer NG-RAN node
via a different TNLA. The peer NG-RAN node shall update the XnAP UE TNLA
binding with the new TNLA.
###### ## Annex A (informative): Deployment scenarios of gNB/en-gNB
Figure A-1 shows logical nodes (CU-C, CU-U and DU), internal to a logical
gNB/en-gNB. Protocol terminations of the NG and Xn interfaces are depicted as
ellipses in Figure A-1. The terms \"Central Entity\" and \"Distributed
Entity\" shown in Figure A-1 refer to physical network nodes.
Figure A-1: Example deployment of an Logical gNB/en-gNB
###### ## Annex B: NG-RAN Architecture for Radio Access Network Sharing with
multiple cell ID broadcast (informative)
Each gNB-DU serving a cell identified by a Cell Identity associated with a
subset of PLMNs is connected to a gNB-CU via a single F1-C interface instance.
Each F1-C interface instance is setup individually.
F1-C interface instances terminating at gNB-DUs which share the same physical
radio resources may share the same F1-C signalling transport resources. If
this option is applied,
\- non-UE associated signalling is associated to an F1-C interface instance by
allocating the corresponding Transaction ID from a value range associated to
that F1-C interface instance.
\- node related, non-UE associated F1-C interface signalling may provide
information destined for multiple logical nodes in a single F1AP procedure
instance once the F1-C interface instance is setup.
NOTE 1: If the Interface Instance Indication corresponds to more than one
interface instance, the respective F1AP message carries information destined
for multiple logical nodes.
\- a UE associated signalling connection is associated to an F1-C interface
instance by allocating values for the corresponding gNB-DU UE F1AP ID and gNB-
CU UE F1AP ID so that they can be mapped to that interface instance.
NOTE 2: One possible implementation is to partition the value ranges of the
gNB-DU UE F1AP ID and gNB-CU UE F1AP ID and associate each value range with an
F1-C interface instance.
Interpreting the content of RRC MSG3 and other unciphered RRC message by the
gNB-DU is supported.
Content for System Information Broadcast is assumed to be coordinated among
the sharing PLMNs. PLMN specific SIB1 content is controlled by the respective
PLMN owner. Non PLMN specific content needs coordination to avoid
contradicting indication by PLMN specific gNB-CUs. For Warning messages (SIB6,
SIB7 and SIB8), if provided by more than one gNB-CU, warning message
duplicates are identified by provision of the Message Number and the Serial
Number by the gNB-CU and don't trigger new broadcast or replace existing
broadcast. Other coordination between gNB-CUs is ensured by appropriate
implementation.
#