# Foreword
This Technical Specification has been produced by the 3rd Generation
Partnership Project (3GPP).
The contents of the present document are subject to continuing work within the
TSG and may change following formal TSG approval. Should the TSG modify the
contents of the present document, it will be re-released by the TSG with an
identifying change of release date and an increase in version number as
follows:
Version x.y.z
where:
x the first digit:
1 presented to TSG for information;
2 presented to TSG for approval;
3 or greater indicates TSG approved document under change control.
y the second digit is incremented for all changes of substance, i.e. technical
enhancements, corrections, updates, etc.
z the third digit is incremented when editorial only changes have been
incorporated in the document.
# 1 Scope
The present document is an introduction to the TSG RAN TS 38.42x series of
Technical Specifications that define the Xn interface. It is an interface for
the interconnection of two NG-RAN nodes within the NG-RAN architecture (TS
38.401 [2]).
# 2 References
The following documents contain provisions which, through reference in this
text, constitute provisions of the present document.
\- References are either specific (identified by date of publication, edition
number, version number, etc.) or nonâ€‘specific.
\- For a specific reference, subsequent revisions do not apply.
\- For a non-specific reference, the latest version applies. In the case of a
reference to a 3GPP document (including a GSM document), a non-specific
reference implicitly refers to the latest version of that document _in the
same Release as the present document_.
[1] 3GPP TR 21.905: \"Vocabulary for 3GPP Specifications\".
[2] 3GPP TS 38.401: \"NG-RAN; Architecture description\".
> [3] 3GPP TS 38.421: \"NG-RAN; Xn layer 1\".
>
> [4] 3GPP TS 38.422: \"NG-RAN; Xn signalling transport\".
>
> [5] 3GPP TS 38.423: \"NG-RAN; Xn Application Protocol (XnAP)\".
>
> [6] 3GPP TS 38.424: \"NG-RAN; Xn data transport\".
[7] 3GPP TS 38.425: \"NG-RAN; NR user plane protocol\".
[8] 3GPP TS 38.300: \"NR; Overall Description; Stage 2\".
[9] 3GPP TS 37.340: \"NR; Multi-connectivity; Overall description; Stage-2\".
[10] 3GPP TS 38.415: \"PDU Session User Plane protocol\".
[11] 3GPP TS 29.281: \"General Packet Radio System (GPRS) Tunnelling Protocol
User Plane (GTPv1-U)\".
# 3 Definitions and abbreviations
## 3.1 Definitions
For the purposes of the present document, the terms and definitions given in
3GPP TR 21.905 [1] and the following apply. A term defined in the present
document takes precedence over the definition of the same term, if any, in
3GPP TR 21.905 [1].
**corresponding node:** as defined in TS 38.425 [7].
**NG-RAN node:** as defined in TS 38.300 [8].
**secondary node:** as defined in TS 37.340 [9].
## 3.2 Abbreviations
For the purposes of the present document, the abbreviations given in 3GPP TR
21.905 [1] and the following apply. An abbreviation defined in the present
document takes precedence over the definition of the same abbreviation, if
any, in 3GPP TR 21.905 [1].
> SCTP Stream Control Transmission Protocol
>
> Xn-C Xn Control plane
Xn-U Xn User plane
# 4 General aspects
## 4.1 Introduction
The interface allowing to interconnect NG-RAN nodes with each other is
referred to as the Xn interface.
## 4.2 Xn interface general principles
The general principles for the specification of the Xn interface are as
follows:
\- the Xn interface is open;
\- the Xn interface supports the exchange of signalling information between
two NG-RAN nodes, and the forwarding of PDUs to the respective tunnel
endpoints;
\- from a logical standpoint, the Xn is a point-to-point interface between two
NG-RAN nodes. A point-to-point logical interface should be feasible even in
the absence of a physical direct connection between the two NG-RAN nodes.
## 4.3 Xn interface specification objectives
The Xn interface specifications facilitate the following:
\- inter-connection of NG-RAN nodes supplied by different manufacturers;
\- support of continuation between NG-RAN nodes of the NG-RAN services offered
via the NG interface;
\- separation of Xn interface Radio Network functionality and Transport
Network functionality to facilitate introduction of future technology.
## 4.4 Xn interface capabilities
The Xn interface supports:
\- procedures to support intra-NG-RAN mobility;
\- procedures to support dual connectivity between NG-RAN nodes.
# 5 Functions of the Xn interface
## 5.1 General
The following clauses describe the functions supported in Xn interface.
## 5.2 Functions of Xn-C
### 5.2.1 Xn-C interface management and error handling functions
#### 5.2.1.1 General
These functions allow for managing of signalling associations between NG-RAN
nodes, surveying the Xn interface and recovering from errors.
#### 5.2.1.2 Xn Setup function
This function allows for the initial setup of an Xn interface between two NG-
RAN nodes, including exchange of application level data.
#### 5.2.1.3 Error Indication function
This function allows the reporting of general error situations on application
level.
#### 5.2.1.4 Xn reset function
This function allows an NG-RAN node to inform a second NG-RAN node that it has
recovered from an abnormal failure and that either all or some of the contexts
(except the application level data) related to the first node and stored in
the second shall be deleted, and the associated resources released.
#### 5.2.1.5 Xn configuration data update function
This function allows two NG-RAN nodes to update application level data at any
time.
#### 5.2.1.6 Xn removal function
This function allows two NG-RAN nodes to remove the respective Xn interface.
### 5.2.2 UE mobility management functions
#### 5.2.2.1 Handover preparation function
This function allows the exchange of information between source and target NG-
RAN nodes in order to initiate the handover of a certain UE to the target.
#### 5.2.2.2 Handover cancellation function
This function allows informing an already prepared target NG-RAN node that a
prepared handover will not take place. It allows releasing the resources
allocated during a preparation.
#### 5.2.2.3 Retrieve UE Context function
The Retrieve UE context function is used for a NG-RAN node to retrieve UE
context from another one.
#### 5.2.2.4 RAN Paging function
The RAN paging function allows a NG-RAN node to initiate the paging for a UE
in the inactive state.
#### 5.2.2.5 Data Forwarding control function
The data forwarding control function allows establishing and releasing
transport bearers between source and target NG-RAN nodes for data forwarding.
### 5.2.3 Dual connectivity function
The dual connectivity function enables usage of additional resources in a
secondary node in the NG-RAN.
### 5.2.4 Energy saving function
This function enables decreasing energy consumption by indication of cell
activation/deactivation over the Xn interface.
### 5.2.5 Resource coordination function
This function enables coordination of cell resource usage between two NG-RAN
nodes.
### 5.2.6 Secondary RAT Data Volume Report function
This function enables the NG-RAN node to report Secondary RAT usage data
information in case of MR-DC with 5GC, either with a dedicated procedure or by
including Secondary RAT usage data information in other messages
## 5.3 Functions of Xn-U
### 5.3.1 Data transfer function
The data transfer function allows the transfer of data between NG-RAN nodes to
support dual connectivity or mobility operation.
### 5.3.2 Flow control function
The flow control function enables a NG-RAN node receiving user plane data from
a second NG-RAN node to provide feedback information associated with the data
flow.
### 5.3.3 Assistance information function
The assistance information function enables a NG-RAN node receiving user plane
data from a second NG-RAN node to provide assistance information to the second
node (e.g. related to radio conditions).
### 5.3.4 Fast retransmission function
The fast retransmission function provides coordination between PDCP-hosting
node and corresponding node in case of outage in one of the nodes, to enables
the node in good RF conditions to handle data previously forwarded to the node
in outage.
# 6 Xn interface procedures
## 6.1 General
The Xn interface supports procedures over the control plane (Xn-C) and user
plane (Xn-U).
## 6.2 Control plane protocol procedures
### 6.2.1 Mobility management procedures
The mobility management procedures are used to manage the UE mobility in
Connected or RRC_Inactive modes:
\- Handover Preparation
\- Handover Cancel
\- SN Status Transfer
\- Retrieve UE Context
\- RAN Paging
\- Xn-U Address Indication
\- UE Context Release
### 6.2.2 Dual Connectivity procedures
The dual connectivity procedures are used to add, modify and releases
resources for the operation of Dual Connectivity:
\- S-NG-RAN-node Addition Preparation
\- S-NG-RAN-node Reconfiguration Completion
\- M-NG-RAN-node initiated S-NG-RAN-node Modification Preparation
\- S-NG-RAN-node initiated S-NG-RAN-node Modification
\- M-NG-RAN-node initiated S-NG-RAN-node Release
\- S-NG-RAN-node initiated S-NG-RAN-node Release
\- S-NG-RAN-node Counter Check
\- RRC Transfer
\- Notification Control Indication
\- Activity Notification
\- Secondary RAT Data Usage Report
### 6.2.3 Global procedures
The global procedures are used to exchange configuration level data between
two NG-RAN nodes, or to remove Xn connectivity between two NG-RAN nodes in a
controlled manner:
\- Xn Setup
\- NG-RAN-node Configuration Update
\- Xn Removal
### 6.2.4 Interface Management procedures
The interface management procedures are used to align resources between two
NG-RAN nodes in the event of failures, and to report detected protocol errors:
\- Reset
\- Error Indication
### 6.2.5 Energy saving procedures
\- Cell Activation procedure: enables an NG-RAN node to request the activation
of a previously deactivated cell hosted in another NG-RAN node.
### 6.2.x Resource coordination procedures
\- E-UTRA - NR Cell Resource Coordination procedure: enables an ng-eNB and a
gNB to interact for resource coordination purposes.
## 6.3 User plane protocol procedures
The user plane protocol procedures are used to exchange user plane information
between Xn-U protocol peers:
\- Transfer of Downlink User Data procedure: enables the node hosting the NR
PDCP entity to provide user plane information to the corresponding node.
\- Downlink Data Delivery Status procedure: enables the corresponding node to
provide feedback to the node hosting the NR PDCP entity.
\- Transfer of Assistance Information: enables the corresponding node to
provide assistance information to the node hosting the NR PDCP entity.
\- Transfer of PDU Session Information procedure: enables an NG-RAN node to
provide user plane information associated with the forwarding of data towards
a peer NG-RAN node, when using PDU session tunnels.
# 7 Xn interface protocol structure
## 7.1 Xn Control Plane
The control plane protocol stack of the Xn interface is shown on Figure 7.1-1.
The transport network layer is built on IP transport. For the reliable
transport of signalling messages, SCTP is added on top of IP. The application
layer signalling protocol is referred to as XnAP (Xn Application Protocol).
Figure 7.1-1: Xn Interface Control Plane
## 7.2 Xn User Plane
The Xn user plane (Xn-U) interface is defined between two NG-RAN nodes. The
Xn-U interface provides non-guaranteed delivery of user plane PDUs between two
NG-RAN nodes.
The protocol stack for Xn-U is shown in Figure 7.2-1.
{width="1.1770833333333333in" height="2.707638888888889in"}
Figure 7.2-1: Xn-U protocol structure
The user plane packets conveyed by GTP-U may be PDCP PDUs (e.g. in case of
dual connectivity), PDCP SDUs (e.g. in case of DRB level data forwarding), or
SDAP SDUs (e.g. in PDU Session level data forwarding).
User plane protocol messages (as defined in TS 38.425 [7] and TS 38.415 [10])
are carried by container fields in the GTP-U extension header as specified in
TS 29.281 [11]. A single GTP-U packet may carry a user plane packet and/or a
user plane protocol message. The mapping between container fields and Xn user
plane protocol procedures and functions is described in Table 7.2-1.
Table 7.2-1: Mapping between container fields and Xn user plane procedures /
functions
+----------------------+----------------------+----------------------+ | Xn-U Function | Container Type | Xn UP Protocol | | | | Procedure | +----------------------+----------------------+----------------------+ | Data transfer | NR RAN Container, as | Transfer of Downlink | | | per TS 29.281 [11] | User Data, | | | (Note 1) | | | | | TS 38.425 [7] | +----------------------+----------------------+----------------------+ | | PDU Session | Transfer of DL PDU | | | Container, as per | Session Information, | | | TS 29.281 [11] | TS 38.415 [10] | | | (Note 2) | | | | | Transfer of UL PDU | | | | Session Information, | | | | TS 38.415 [10] | +----------------------+----------------------+----------------------+ | | No container (Note | NA | | | 3) | | +----------------------+----------------------+----------------------+ | Flow control | NR RAN Container as | Downlink Data | | | per TS 29.281 [11] | Delivery Status, | | | (Note 4) | TS 38.425 [7] | | | | | | | | Transfer of Downlink | | | | User Data, TS 38.425 | | | | [7] | +----------------------+----------------------+----------------------+ | Fast retransmission | NR RAN Container as | Downlink Data | | | per TS 29.281 [11] | Delivery Status, | | | (Note 4) | TS 38.425 [7] | | | | | | | | Transfer of Downlink | | | | User Data, TS 38.425 | | | | [7] | +----------------------+----------------------+----------------------+ | Assistance | NR RAN Container as | Transfer of | | information | per TS 29.281 [11] | Assistance | | | (Note 4) | Information, | | | | TS 38.425 [7] | +----------------------+----------------------+----------------------+ | Note 1: optionally | | | | used in Dual | | | | Connectivity DL data | | | | transfer. | | | | | | | | Note 2: in case of | | | | PDU Session level | | | | forwarding only. | | | | | | | | Note 3: all other | | | | cases of data | | | | transfer when no | | | | other Xn-U | | | | functionality is | | | | required | | | | | | | | Note 4: optionally | | | | used in Dual | | | | Connectivity | | | +----------------------+----------------------+----------------------+
# 8 Other Xn interface specifications
## 8.1 NG-RAN Xn interface: Xn layer 1 (TS 38.421)
TS 38.421 [3] specifies the physical layer technologies that may be used to
support the Xn interface.
## 8.2 NG-RAN Xn interface: Xn signalling transport (TS 38.422)
TS 38.422 [4] specifies how the XnAP signalling messages are transported over
Xn.
## 8.3 NG-RAN Xn interface: Xn application protocol (XnAP) (TS 38.423)
TS 38.423 [5] specifies the radio network layer signalling procedures of the
control plane between NG-RAN nodes.
## 8.4 NG-RAN Xn interface: Xn data transport (TS 38.424)
TS 38.424 [6] specifies the standards for user data transport protocols over
the NG-RAN Xn interface.
## 8.5 NG-RAN Xn interface: NR user plane protocol (TS 38.425)
TS 38.425 [7] specifies the user plane protocol procedures for dual
connectivity over the NG-RAN Xn interface.
## 8.6 NG-RAN Xn interface: PDU Session User Plane Protocol (TS 38.415)
TS 38.415 [10] specifies the user plane protocol procedures for data
forwarding using PDU Session tunnels over the NG-RAN Xn interface.
## 8.7 Summary of NG-RAN Xn interface Technical Specifications
The relationship between the technical specifications that define the NG-RAN
Xn interface is shown in Figure 8.7-1.
Figure 8.7-1: Xn Interface Technical Specifications
#