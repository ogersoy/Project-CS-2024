# Foreword
This Technical Specification has been produced by the 3rd Generation
Partnership Project (3GPP).
The contents of the present document are subject to continuing work within the
TSG and may change following formal TSG approval. Should the TSG modify the
contents of the present document, it will be re-released by the TSG with an
identifying change of release date and an increase in version number as
follows:
Version x.y.z
where:
x the first digit:
1 presented to TSG for information;
2 presented to TSG for approval;
3 or greater indicates TSG approved document under change control.
y the second digit is incremented for all changes of substance, i.e. technical
enhancements, corrections, updates, etc.
z the third digit is incremented when editorial only changes have been
incorporated in the document.
# 1 Scope
The present document specifies the protocol that is used for service based
interface. The API definitions and data type definitions are aligned with the
common charging architecture specified in TS 32.240 [1]. The present document
is related to other 3GPP charging TSs as follows:
\- The common 3GPP charging architecture is specified in TS 32.240 [1].
\- The 5G data connectivity is specified in TS 32.255[30].
\- The service, operations and procedures of 5G charging for service based
interface is specified in TS 32.290 [58].
# 2 References
The following documents contain provisions which, through reference in this
text, constitute provisions of the present document.
\- References are either specific (identified by date of publication, edition
number, version number, etc.) or nonâ€‘specific.
\- For a specific reference, subsequent revisions do not apply.
\- For a non-specific reference, the latest version applies. In the case of a
reference to a 3GPP document (including a GSM document), a non-specific
reference implicitly refers to the latest version of that document _in the
same Release as the present document_.
[1] 3GPP TS 32.240: \"Telecommunication management; Charging management;
Charging architecture and principles\".
[2] - [28] Void.
[29] 3GPP TS 32.274: \"Telecommunication management; Charging management;Short
Message Service (SMS) charging\".
[30] 3GPP TS 32.255: \"Telecommunication management; Charging management; 5G
Data connectivity domain charging; stage 2\".
[31] - [49] Void.
[50] - [57] Void.
[58] 3GPP TS 32.290: \"Telecommunication management; Charging management; 5G
system; Services, operations and procedures of charging using Service Based
Interface (SBI).
[59] - [99] Void.
[100] 3GPP TR 21.905: \"Vocabulary for 3GPP Specifications\".
[101] - [199] Void
[200] - [203] Void
[204] - [298] Void
[299] 3GPP TS 29.500: \"5G System; Technical Realization of Service Based
Architecture; Stage 3\".
[300] 3GPP TS 29.501: \"5G System; Principles and Guidelines for Services
Definition; Stage 3\".
[301] 3GPP TS 29.594: \"5G System; Spending Limit Control Service; Stage 3\".
[302] 3GPP TS 29.512: \"5G System; Session Management Policy Control Service;
Stage 3\".
[303] - [370] Void
[371] 3GPP TS 29.571: \"5G System; Common Data Types for Service Based
Interfaces; Stage 3\".
[372] - [389] Void
[390] 3GPP TS 33.501: \"Security architecture and procedures for 5G System\".
[391] - [399] Void
[400] Void.
[401] IETF RFC 7540: \"Hypertext Transfer Protocol Version 2 (HTTP/2) \".
[402] IETF RFC 8259: \"The JavaScript Object Notation (JSON) Data Interchange
Format \".
[403] - [499] Void.
[500] OpenAPI: \"OpenAPI 3.0.0 Specification\",
https://github.com/OAI/OpenAPI-Specification/blob/master/versions/3.0.0.md.
[501] - [599] Void.
# 3 Definitions, symbols and abbreviations
## 3.1 Definitions
For the purposes of the present document, the terms and definitions given in
3GPP TR 21.905 [1] and the following apply. A term defined in the present
document takes precedence over the definition of the same term, if any, in
3GPP TR 21.905 [100].
## 3.2 Symbols
For the purposes of the present document, the following symbols apply:
Nchf Service based interface exhibited by CHF.
## 3.3 Abbreviations
For the purposes of the present document, the abbreviations given in 3GPP TR
21.905 [1] and the following apply. An abbreviation defined in the present
document takes precedence over the definition of the same abbreviation, if
any, in 3GPP TR 21.905 [1].
AF Application Function
AMF Access and Mobility Management Function
CHF Charging Function
CTF Charging Trigger Function
GPSI Generic Public Subscription Identifier
GUAMI Globally Unique AMF Identifier
NF Network Function
PEI Permanent Equipment Identifier
QBC QoS flow Based Charging
QFI QoS Flow Identifier
SMSF Short Message Service Function
SMF Session Management Function
SSC Session and Service Continuity
SUPI Subscription Permanent Identifier
# 4 Overview
## 4.1 Service architecture
The Converged Charging Service is provided by the CHF to the consumer and
shown in the SBI representation model in figure 4. 1.1. The 5G Data
connectivity domain charging is depicted in 3GPP TS 32.255 [30].
The ConvergedCharging Service (Nchf_ ConvergedCharging) is part of the Nchf
service-based interface exhibited by the Charging Function (CHF) , with SMF
and SMSF as the NF Service Consumer.
Figure 4. 1.1: Reference Architecture for the Nchf_ConvergedCharging Service;
SBI representation
## 4.2 Network functions
### 4.2.1 Charging Function (CHF)
The CHF is responsible for converged online charging and offline charging
functionalities. The CHF provides the following:
\- Quota;
\- Re-authorisation triggers;
\- Notification when Charging Domain determines rating conditions is affected
or when CHF determines to terminate the charging service;
\- Receiving service usage reports from NF Service Consumer; and
\- CDRs generation.
### 4.2.2 NF Service Consumers
The NF Service Consumers shall support:
\- Requesting and receiving the quota(s);
\- Sending service usage reports; and
\- Handling quota re-authorisation or abort notifications.
# 5 Services offered by the CHF
## 5.1 Introduction
The following services are provided by the CHF.
Table 5.1-1: NF Services provided by CHF
* * *
Service Name Description Consumer Nchf_ConvergedCharging service This service
provides a converged charging for session and event based NF services, with
and without quota management, as well as charging information record
generation SMF, SMSF Nchf_SpendingLimitControl This service enables the PCF to
retrieve policy counter status information per UE from the CHF by subscribing
to spending limit reporting (i.e. notifications of policy counter status
changes). PCF
* * *
The \"Nchf_SpendingLimitControl\" service is defined in 29.594 [301].
## 5.2 Nchf_ConvergedCharging service
### 5.2.1 Service description
This service provides charging in converged charging scenario by the CHF to
the NF service consumer as defined in subclause 6.2 in 3GPP TS 32.290[58].
It includes the following functionalities:
\- Create resource at service establishment or no existing ChargingData
resource, and may allocate quotas based on the request from NF consumer;
\- During the service consumption lifecycle, update resource upon receiving
the quota usage or service usage report under a number of circumstances and
allocate subsequent quotas based on the request from NF consumer;
\- Release upon service termination, Unit Count Inactivity Timer expiry or
error response; and
\- Notify NF Service Consumer of the re-authorisation triggers when CHF
determines rating conditions is affected, or the abort triggers when CHF
determines to terminate the charging service.
\- Charging information record generation
### 5.2.2 Service operations
#### 5.2.2.1 Introduction
The service operations defined for Nchf_ ConvergedCharging are shown in table
5.2.2.1-1.
Table 5.2.2.1-2: Nchf_ ConvergedCharging Operations
+----------------+----------------+--------------+----------------+ | Service | Description | Initiated by | Corresponding | | Operation Name | | | Converged | | | | | charging | | | | | messages in | | | | | 3GPP TS | | | | | 32.290[58] | +----------------+----------------+--------------+----------------+ | Nchf_ | First | NF consumer | Charging Data | | ConvergedCh | Interrogation | | Re | | arging_Create | of unit | | quest/Response | | | reservation; | | [Initial] | | | | | | | | And/or initial | | | | | report of | | | | | service usage. | | | +----------------+----------------+--------------+----------------+ | | One Time | | Charging Data | | | request for | | Re | | | the service. | | quest/Response | | | | | [Event] | +----------------+----------------+--------------+----------------+ | Nchf_ | Intermediate | NF consumer | Charging Data | | ConvergedCh | Interrogation | | Re | | arging_Update | for subsequent | | quest/Response | | | units | | [Update] | | | reservation | | | | | when: | | | | | | | | | | - the | | | | | granted | | | | | service | | | | | unitfor | | | | | one rating | | | | | group are | | | | | spent | | | | | | | | | | - expiry of | | | | | granted | | | | | service | | | | | units | | | | | validity | | | | | time | | | | | | | | | | - service | | | | | events | | | | | occur, | | | | | which | | | | | might | | | | | affect the | | | | | rating of | | | | | the | | | | | current | | | | | service | | | | | | | | | | And/or | | | | | Intermediate | | | | | report of | | | | | service usage. | | | +----------------+----------------+--------------+----------------+ | Nchf_ | Final | NF consumer | Charging Data | | ConvergedCha | Interrogation | | Re | | rging_Release | without any | | quest/Response | | | unit | | \ | | | reservation | | [Termination] | | | | | | | | And/or last | | | | | report of | | | | | service usage. | | | +----------------+----------------+--------------+----------------+ | Nchf_ | Request that | CHF | Charging | | ConvergedCh | the user be | | Notify | | arging_Notify | re-authorized | | Re | | | or the | | quest/Response | | | charging | | | | | session | | | | | context be | | | | | terminated. | | | +----------------+----------------+--------------+----------------+
#### 5.2.2.2 Nchf_ConvergedCharging_Create Operation
The Nchf_ConvergedCharging_Create service operation provides means for NF
(CTF) to request quotas for service delivery or initial report of service
usage.
The following procedures using the Nchf_ConvergedCharging_Create service
operation are supported:
\- No existing charging data resource.
Figure 5.2.2.2-1: Nchf_ ConvergedCharging_Create Service Operation
1\. NF (CTF) sends a Nchf_ConvergedCharging_Create request to the CHF to
create resource for charging. Requested quota and notification URI for
Nchf_ConvergedCharging_Notify service operation are included in the request
body.
2a. At successful operation, \"201 Created\" response is returned. In the
\"201 Created\" response, the CHF includes a Location header field and the
allocated quota in the body. The Location header field shall contain the URI
of the created resource. The NF (CTF) shall use the URI received in the
Location header in subsequent requests to the CHF for the same PDU session.
2b. On failure or redirection, one of the HTTP status code listed in Table
6.1.3.2.3.1-3 shall be returned. For a 4xx/5xx response, the message body
shall contain a ProblemDetails structure with the \"cause\" attribute set to
one of the application error listed in Table 6.1.7.3-1.
#### 5.2.2.3 Nchf_ConvergedCharging_Update Operation
The Nchf_ConvergedCharging_Update service operation provides means for NF
(CTF) to update the charging data.
The following procedures using the Nchf_ConvergedCharging_Update service
operation are supported:
\- the granted service units for one rating group are spent
\- expiry of granted service units\' validity time
\- charging events occur, which might affect the rating of the current service
\- receiving re-authorization notification from CHF
Figure 5.2.2.3-1: Nchf_ConvergedCharging_Update Service Operation
1\. NF (CTF) sends a Nchf_ConvergedCharging_Update request to the CHF. The
{ChargingDataRef } in the URI identifies the \"Charging Data\" to be updated.
The requested service unit and previous used service unit is included in the
request body.
2a. At successful operation, \"200 OK\" response is returned. The CHF includes
the granted service unit in the \"200 OK\" response.
2b. On failure or redirection, one of the HTTP status code listed in Table
6.1.3.3.4.2.2-2 shall be returned. For a 4xx/5xx response, the message body
shall contain a ProblemDetails structure with the \"cause\" attribute set to
one of the application error listed in Table 6.1.7.3-1.
#### 5.2.2.4 Nchf_ConvergedCharging_Release Operation
The Nchf_ConvergedCharging_Release service operation provides means for NF
(CTF) to terminate charging Session.
The following procedures using the Nchf_ConvergedCharging_Release service
operation are supported:
\- Expiry of unit count inactivity timer.in NF Consumer
\- Abort notification is received from CHF.- Service termination in NF
Consumer
Figure 5.2.2.4-1: Nchf_ConvergedCharging_Release Service Operation
1\. NF(CTF) sends a Nchf_ConvergedCharging_Release request to the CHF. The
{ChargingDataRef } in the URI identifies the \"Charging Data\" to be updated
and then released. The final used service unit is included in the request
body.
2a. At successful operation, \"204 No Content\" response is returned.
2b. On failure or redirection, one of the HTTP status code listed in Table
6.1.3.3.4.3.2-2 shall be returned. For a 4xx/5xx response, the message body
shall contain a ProblemDetails structure with the \"cause\" attribute set to
one of the application error listed in Table 6.1.7.3-1.
#### 5.2.2.5 Nchf_ConvergedCharging_Notify Operation
The Nchf_ConvergedCharging_Notify service operation provides means for CHF to
notify the NF(CTF) to update or terminate charging of the PDU Session.
The following procedures using the Nchf_ConvergedCharging_Notify service
operation are supported:
\- CHF determines re-authorization.
\- CHF determines abort of charging.
Figure 5.2.2.5-1: Nchf_ConvergedCharging_Notify Service Operation
1\. The CHF sends a Nchf_ConvergedCharging_Notify request to the NF (CTF). The
{notifyUri} identifies the notification URI which is sent in the
Nchf_ConvergedCharging_Create request. The notification type is included in
the request body.
2a. At successful operation, \"204 No Content\" response is returned.
2b. On failure, one of the HTTP status code listed in Table 6.1.5.2.3.1-2
shall be returned. For a 4xx/5xx response, the message body shall contain a
ProblemDetails structure with the \"cause\" attribute set to one of the
application error listed in Table 6.1.7.3-1.
After successful operation, when the NF Service Consumer receives a Charging
Notify Request while not waiting for any Charging Data Response from the CHF,
CTF can send a new Charging Data Request.
# 6 API definitions
## 6.1 Nchf_ ConvergedCharging Service API
### 6.1.1 Introduction
The APIs defined in this subclause implement the service operation defined in
subclause 5.2.2.
The Nchf_ConvergedCharging service shall use the Nchf_ConvergedCharging API.
The request URI used in each HTTP request from the NF service consumer towards
the CHF shall have the structure defined in subclause 4.4.1 of 3GPP TS 29.501
[5], i.e.:
> **{apiRoot}/{apiName}/{apiVersion}/{apiSpecificResourceUriPart}**
with the following components:
\- The {apiRoot} shall be set as described in 3GPP TS 29.501 [5].
\- The {apiName} shall be \"nchf-convergedcharging\".
\- The {apiVersion} shall be \"v2\".
\- The {apiSpecificResourceUriPart} shall be set as described in subclause
6.1.3.
### 6.1.2 Usage of HTTP
#### 6.1.2.1 General
HTTP/2 as described in IETF RFC 7540 [401] shall be used as specified in
subclause 5.2 of 3GPP TS 29.500 [299].
#### 6.1.2.2 HTTP standard headers
##### 6.1.2.2.1 General
See subclause 5.2.2 of 3GPP TS 29.500 [299] for the usage of HTTP standard
headers.
HTTP/2, shall be transported as specified in subclause 5.3 of 3GPP TS 29.500
[299].
##### 6.1.2.2.2 Content type
JSON, IETF RFC 8259 [402], shall be used as content type of the HTTP bodies
specified in the present specification, as specified in subclause 5.4 of 3GPP
TS 29.500 [299].
#### 6.1.2.3 HTTP custom headers
##### 6.1.2.3.1 General
HTTP custom header fields shall be supported as specified in subclause 5.2.3.2
of 3GPP TS 29.500 [299].
In this Release of the specification, no specific custom headers are defined.
### 6.1.3 Resources
#### 6.1.3.1 Overview
Figure 6.1.3.1-1: Resource URI structure of the Nchf_ConvergedCharging API
Charging Data Ref is a unique identifier for a charging data resource in a
PLMN. It's created in CHF when CHF receives a Nchf_ ConvergedCharging_Create
request and provided to NF (CTF) in the Location header field in the Nchf_
ConvergedCharging_Create response. The NF (CTF) shall use the Charging Data
Ref received in subsequent requests to the CHF for the same charging data
resource.
Table 6.1.3.1-1 provides an overview of the resources and applicable HTTP
methods.
Table 6.1.3.1-1: Resources and methods overview
+-------------+-------------+-------------+-------------+-------------+ | Resource | Resource | HTTP method | Description | Co | | name | URI | or custom | | rresponding | | | | operation | | service | | | | | | operation | +-------------+-------------+-------------+-------------+-------------+ | Charging | {apiRoot}/\ | POST | Create a | Nchf_ | | Data | nc | | new | Con | | | hf-converge | | Charging | vergedCharg | | | dcharging/\ | | Data | ing_Create | | | {api | | resource | | | | Version}/ch | | | | | | argingdata/ | | | | +-------------+-------------+-------------+-------------+-------------+ | Individual | {apiRoot}/\ | update | Update an | Nchf_ | | Charging | nchf | | existing | Con | | Data | -convergedc | (POST) | Charging | vergedCharg | | | harging/{ap | | Data | ing_Update | | | iVersion}/\ | | resource. | | | | chargin | | | | | | gdata/{Char | | | | | | gingDataRef | | | | | | }/update | | | | +-------------+-------------+-------------+-------------+-------------+ | | {apiRoot}/\ | release | Update and | Nchf_ | | | nchf | | release an | Conv | | | -convergedc | (POST) | existing | ergedChargi | | | harging/{ap | | Charging | ng_Release | | | iVersion}/\ | | Data | | | | c | | resource. | | | | hargingdata | | | | | | /{Ch | | | | | | argingDataR | | | | | | ef}/release | | | | +-------------+-------------+-------------+-------------+-------------+
#### 6.1.3.2 Resource: Charging Data
##### 6.1.3.2.1 Description
Charging Data resource represents a collection of the different charging data
resources created by the CHF for converged charging as defined in 3GPP TS
32.290 [58].
##### 6.1.3.2.2 Resource Definition
Resource URI: **{apiRoot}/nchf-convergedcharging/{apiVersion}/chargingData**
This resource shall support the resource URI variables defined in table
6.1.3.2.2-1.
Table 6.1.3.2.2-1: Resource URI variables for this resource
* * *
Name Definition apiRoot See subclause 6.1.1
* * *
##### 6.1.3.2.3 Resource Standard Methods
###### 6.1.3.2.3.1 POST
This method shall support the URI query parameters specified in table
6.1.3.2.3.1-1.
Table 6.1.3.2.3.1-1: URI query parameters supported by the POST method on this
resource
* * *
Name Data type P Cardinality Description n/a
* * *
This method shall support the request data structures specified in table
6.1.3.2.3.1-2 and the response data structures and response codes specified in
table 6.1.3.2.3.1-3.
Table 6.1.3.2.3.1-2: Data structures supported by the POST Request Body on
this resource
* * *
Data type P Cardinality Description ChargingDataRequest M 1 Parameters to
create a new Charging Data resource.
* * *
Table 6.1.3.2.3.1-3: Data structures supported by the POST Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | Chargin | M | 1 | 201 Created | The creation | | gDataResponse | | | | of a Charging | | | | | | Data resource | | | | | | is confirmed | | | | | | and a | | | | | | r | | | | | | epresentation | | | | | | of that | | | | | | resource is | | | | | | returned. | | | | | | | | | | | | The Charging | | | | | | Data resource | | | | | | which is | | | | | | created and | | | | | | returned | | | | | | successfully. | | | | | | The | | | | | | r | | | | | | epresentation | | | | | | of created | | | | | | resource is | | | | | | identified | | | | | | via Location | | | | | | header field | | | | | | in the 201 | | | | | | response. | +---------------+---+-------------+---------------+---------------+ | n/a | | | 307 Temporary | (NOTE 2) | | | | | Redirect | | +---------------+---+-------------+---------------+---------------+ | Chargin | M | 1 | 400 | (NOTE 2) | | gDataResponse | | | | | | | | | Bad Request | | +---------------+---+-------------+---------------+---------------+ | Chargin | M | 1 | 403 | (NOTE 2) | | gDataResponse | | | | | | | | | Forbidden | | +---------------+---+-------------+---------------+---------------+ | Chargin | M | 1 | 404 | (NOTE 2) | | gDataResponse | | | | | | | | | Not Found | | +---------------+---+-------------+---------------+---------------+ | n/a | | | 405 | (NOTE 2) | | | | | | | | | | | Method Not | | | | | | Allowed | | +---------------+---+-------------+---------------+---------------+ | n/a | | | 408 | (NOTE 2) | | | | | | | | | | | Request | | | | | | Timeout | | +---------------+---+-------------+---------------+---------------+ | n/a | | | 410 Gone | (NOTE 2) | +---------------+---+-------------+---------------+---------------+ | NOTE 1: In | | | | | | addition, the | | | | | | HTTP status | | | | | | codes which | | | | | | are specified | | | | | | as mandatory | | | | | | in | | | | | | ta | | | | | | ble 5.2.7.1-1 | | | | | | of | | | | | | 3GPP TS 2 | | | | | | 9.500 [299] | | | | | | for the POST | | | | | | method also | | | | | | apply. | | | | | | | | | | | | NOTE 2: | | | | | | Failure cases | | | | | | are described | | | | | | in | | | | | | sub | | | | | | clause 6.1.7. | | | | | +---------------+---+-------------+---------------+---------------+
##### 6.1.3.2.4 Resource Custom Operations
None.
#### 6.1.3.3 Resource: Individual Charging Data
##### 6.1.3.3.1 Description
Individual Charging Data resource represents a Charging data resource created
in the CHF.
##### 6.1.3.3.2 Resource Definition
Resource URI: **{apiRoot}/nchf-
convergedcharging/{apiVersion}/chargingdata/{ChargingDataRef}**
This resource shall support the resource URI variables defined in table
6.1.3.3.2-1.
Table 6.1.3.3.2-1: Resource URI variables for this resource
* * *
Name Definition apiRoot See subclause 6.1.1 ChargingDataRef Charging data
resource reference assigned by the CHF during the Nchf_
ConvergedCharging_Create operation,
* * *
##### 6.1.3.3.3 Resource Standard Methods
None.
##### 6.1.3.3.4 Resource Custom Operations
###### 6.1.3.3.4.1 Overview
Table 6.1.3.3.4.1-1: Custom operations
* * *
Custom operation URI Mapped HTTP method Description
{apiRoot}/\ POST Update an existing Charging Data resource. nchf-
convergedcharging/{apiVersion}/\  
chargingdata/{ChargingDataRef }/update
{apiRoot}/\ POST Update and release an existing Charging Data resource. nchf-
convergedcharging/{apiVersion}/\  
chargingdata /{ChargingDataRef}/release
* * *
###### 6.1.3.3.4.2 Operation: update
###### # 6.1.3.3.4.2.1 Description
This operation updates an existing Charging Data resource.
###### # 6.1.3.3.4.2.2 Operation Definition
This operation shall support the request data structures specified in table
6.1.3.3.4.2.2-1 and the response data structures and response codes specified
in table 6.1.3.3.4.2.2-2.
Table 6.1.3.3.4.2.2-1: Data structures supported by the POST Request Body on
this resource
+---------------------+---+-------------+------------------------+ | Data type | P | Cardinality | Description | +---------------------+---+-------------+------------------------+ | ChargingDataRequest | M | 1 | Parameters to modify | | | | | an existing Charging | | | | | Data resource matching | | | | | the ChargingDataRef | | | | | according to the | | | | | representation in the | | | | | ChargingData. | | | | | | | | | | The request URI is the | | | | | representation in the | | | | | Location header field | | | | | in the 201 response of | | | | | resource creation. | +---------------------+---+-------------+------------------------+
Table 6.1.3.3.4.2.2-2: Data structures supported by the POST Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | Chargin | M | 1 | 200 OK | The | | gDataResponse | | | | modification | | | | | | of a Charging | | | | | | Data resource | | | | | | is confirmed | | | | | | and a | | | | | | r | | | | | | epresentation | | | | | | of that | | | | | | resource is | | | | | | returned. | | | | | | | | | | | | The Charging | | | | | | Data resource | | | | | | which is | | | | | | modified and | | | | | | returned | | | | | | successfully. | +---------------+---+-------------+---------------+---------------+ | n/a | | | 307 Temporary | (NOTE 2) | | | | | Redirect | | +---------------+---+-------------+---------------+---------------+ | Chargin | M | 1 | 400 | (NOTE 2) | | gDataResponse | | | | | | | | | Bad Request | | +---------------+---+-------------+---------------+---------------+ | Chargin | M | 1 | 403 | (NOTE 2) | | gDataResponse | | | | | | | | | Forbidden | | +---------------+---+-------------+---------------+---------------+ | Chargin | M | 1 | 404 | (NOTE 2) | | gDataResponse | | | | | | | | | Not Found | | +---------------+---+-------------+---------------+---------------+ | n/a | | | 405 | (NOTE 2) | | | | | | | | | | | Method Not | | | | | | Allowed | | +---------------+---+-------------+---------------+---------------+ | n/a | | | 408 | (NOTE 2) | | | | | | | | | | | Request | | | | | | Timeout | | +---------------+---+-------------+---------------+---------------+ | n/a | | | 410 Gone | (NOTE 2) | +---------------+---+-------------+---------------+---------------+ | NOTE 1: In | | | | | | addition, the | | | | | | HTTP status | | | | | | codes which | | | | | | are specified | | | | | | as mandatory | | | | | | in | | | | | | ta | | | | | | ble 5.2.7.1-1 | | | | | | of | | | | | | 3GPP TS 2 | | | | | | 9.500 [299] | | | | | | for the POST | | | | | | method also | | | | | | apply. | | | | | | | | | | | | NOTE 2: | | | | | | Failure cases | | | | | | are described | | | | | | in | | | | | | sub | | | | | | clause 6.1.7. | | | | | +---------------+---+-------------+---------------+---------------+
###### 6.1.3.3.4.3 Operation: release
###### # 6.1.3.3.4.3.1 Description
This operation update and release an existing Charging session
###### # 6.1.3.3.4.3.2 Operation Definition
This operation shall support the request data structures specified in table
6.1.3.3.4.3.2-1 and the response data structures and response codes specified
in table 6.1.3.3.4.3.2-2.
Table 6.1.3.3.4.3.2-1: Data structures supported by the POST Request Body on
this resource
+---------------------+---+-------------+------------------------+ | Data type | P | Cardinality | Description | +---------------------+---+-------------+------------------------+ | ChargingDataRequest | M | 1 | Parameters to modify | | | | | and then release the | | | | | Charging Data resource | | | | | matching the | | | | | ChargingDataRef | | | | | according to the | | | | | representation in the | | | | | ChargingData. | | | | | | | | | | The request URI is the | | | | | representation in the | | | | | Location header field | | | | | in the 201 response of | | | | | resource creation. | +---------------------+---+-------------+------------------------+
Table 6.1.3.3.4.3.2-2: Data structures supported by the POST Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | n/a | | | 204 No | Successful | | | | | Content | case: The | | | | | | Charging Data | | | | | | resource | | | | | | matching the | | | | | | Ch | | | | | | argingDataRef | | | | | | is modified | | | | | | and then | | | | | | released. | +---------------+---+-------------+---------------+---------------+ | Chargin | M | 1 | 404 Not Found | (NOTE 2) | | gDataResponse | | | | | +---------------+---+-------------+---------------+---------------+ | n/a | | | 410 Gone | (NOTE 2) | +---------------+---+-------------+---------------+---------------+ | NOTE 1: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the POST | | | | | | method listed | | | | | | in table | | | | | | 5.2.7.1-1 of | | | | | | 3GPP TS | | | | | | 29.500 [4] | | | | | | also apply. | | | | | | | | | | | | NOTE 2: | | | | | | Failure cases | | | | | | are described | | | | | | in subclause | | | | | | 6.1.7. | | | | | +---------------+---+-------------+---------------+---------------+
### 6.1.4 Custom Operations without associated resources
None.
### 6.1.5 Notifications
#### 6.1.5.1 General
Notifications shall comply to subclause 6.2 of 3GPP TS 29.500 [299] and
subclause 4.6.2.3 of 3GPP TS 29.501 [300].
#### 6.1.5.2 Event Notification
##### 6.1.5.2.1 Description
The Notification is used by the CHF to notify NF consumers of the subscribed
events is occurs , which implements the Nchf_ ConvergedCharging_Notify
operation defined in 3GPP TS 32.290 [58].
##### 6.1.5.2.2 Target URI
The Notification URI **\"{notifyUri}\"** shall be used with the resource URI
variables defined in table 6.1.5.2.2-1.
Table 6.1.5.2.2-1: Resource URI variables for this resource
* * *
Name Definition notifyUri String formatted as URI with the Notification URI is
provided by the SMF during the creation of the Charging Data resource and
within the ChargingData type, as defined in subclause 6.1.6.
* * *
##### 6.1.5.2.3 Standard Methods
###### 6.1.5.2.3.1 POST
This method shall support the request data structures specified in table
6.1.5.2.3.1-1 and the response data structures and response codes specified in
table 6.1.5.2.3.1-2.
Table 6.1.5.2.3.1-1: Data structures supported by the POST Request Body on
this resource
* * *
Data type P Cardinality Description ChargingNotifyRequest M 1 Provides
Information about active Charging events. ChargingNotifyRequest data type is
defined in subclause 6.1.6.
* * *
Table 6.1.5.2.3.1-2: Data structures supported by the POST Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | n/a | | | 204 No | The receipt | | | | | Content | of the | | | | | | Notification | | | | | | is | | | | | | acknowledged. | +---------------+---+-------------+---------------+---------------+ | ChargingN | M | 1 | 400 Bad | (NOTE 2) | | otifyResponse | | | Request | | +---------------+---+-------------+---------------+---------------+ | NOTE 1: In | | | | | | addition, the | | | | | | HTTP status | | | | | | codes which | | | | | | are specified | | | | | | as mandatory | | | | | | in | | | | | | ta | | | | | | ble 5.2.7.1-1 | | | | | | of | | | | | | 3GPP TS 2 | | | | | | 9.500 [299] | | | | | | for the POST | | | | | | method also | | | | | | apply. | | | | | | | | | | | | NOTE 2: | | | | | | Failure cases | | | | | | are described | | | | | | in | | | | | | sub | | | | | | clause 6.1.7. | | | | | +---------------+---+-------------+---------------+---------------+
### 6.1.6 Data Model
#### 6.1.6.1 General
This subclause specifies the application data model supported by the API.
The Nchf_ConvergedCharging Service API allows the NF consumer to consume the
converged charging service from the CHF as defined in 3GPP TS 32.290 [58].
Table 6.1.6.1-1 specifies the data types defined for the ConvergedCharging
service based interface protocol.
Table 6.1.6.1-1: Nchf_ ConvergedCharging specific Data Types
+----------------+----------------+----------------+---------------+ | Data type | Section | Description | Applicability | | | defined | | | +----------------+----------------+----------------+---------------+ | Charg | 6.1.6.2.1.1 | Describes the | | | ingDataRequest | | attributes of | | | | 6.1.6.2.2.1 | Charging Data | | | | | Request to CHF | | | | | for initial, | | | | | update and | | | | | termination of | | | | | the charging | | | | | session. | | +----------------+----------------+----------------+---------------+ | Chargi | 6.1.6.2.1.2 | Describes the | | | ngDataResponse | | attributes of | | | | 6.1.6.2.2.2 | Charging Data | | | | | Response from | | | | | CHF on | | | | | charging | | | | | session | | | | | initial, | | | | | update and | | | | | termination. | | +----------------+----------------+----------------+---------------+ | Chargin | 6.1.6.2.1.3 | Describes | | | gNotifyRequest | | Notifications | | | | | about events | | | | | that occurred | | | | | in request | | | | | message. | | +----------------+----------------+----------------+---------------+ | Charging | 6.1.6.2.1.16 | Describes the | | | NotifyResponse | | response of | | | | | notification. | | +----------------+----------------+----------------+---------------+
Table 6.1.6.1-2 specifies data types re-used by the Nchf_ConvergedCharging
service based interface protocol from other specifications, including a
reference to their respective specifications and when needed, a short
description of their use within the Nchf_ConvergedCharging service based
interface.
Table 6.1.6.1-2: Nchf_ConvergedCharging re-used Data Types
* * *
Data type Reference Comments Applicability Supi 3GPP TS 29.571 [371] The
identification of the user (i.e. IMSI, NAI).  
Uint32 3GPP TS 29.571 [371] Unsigned 32-bit integers  
Uint64 3GPP TS 29.571 [371] Unsigned 64-bit integers  
PduSessionId 3GPP TS 29.571 [371] The identification of the PDU session.  
PduSessionType 3GPP TS 29.571 [371] the type of a PDU session  
Uri 3GPP TS 29.571 [371] String providing an URI  
AccessType 3GPP TS 29.571 [371] The identification of the type of access
network.  
DateTime 3GPP TS 29.571 [371] The time.  
ChargingId 3GPP TS 29.571 [371] Charging identifier allowing correlation of
charging information  
RatType 3GPP TS 29.571 [371] The identification of the RAT type.  
RatingGroup 3GPP TS 29.571 [371] The identification of the rating group  
Ipv4Addr 3GPP TS 29.571 [371] Ipv4 address.  
Ipv6Prefix 3GPP TS 29.571 [371] The Ipv6 prefix allocated for the user.  
Ipv6Addr 3GPP TS 29.571 [371] Ipv6 Address.  
Pei 3GPP TS 29.571 [371] The Identification of a Permanent Equipment.  
TimeZone 3GPP TS 29.571 [371] Time zone information  
NfInstanceId 3GPP TS 29.571 [371] String uniquely identifying a NF instance.  
Gpsi 3GPP TS 29.571 [371] String identifying a Gpsi  
DefaultQosInformation 3GPP TS 29.571 [371] Identifies the information of the
default QoS.  
SubscribedDefaultQos 3GPP TS 29.571 [371] subscribed default QoS.  
AuthorizedDefaultQos 3GPP TS 29.512 [302] Authorized default QoS.  
Ambr 3GPP TS 29.571 [371] Aggregate Maximum Bit rate  
QosData 3GPP TS 29.512 [302] Contains QoS parameters  
UserLocation 3GPP TS 29.571 [371] User location information  
PlmnId 3GPP TS 29.571 [371] PLMN id  
Guami 3GPP TS 29.571 [371] Globally Unique AMF Identifier  
DurationSec 3GPP TS 29.571 [371] Identifies a period of time in units of
seconds.  
Snssai 3GPP TS 29.571 [371] SNSSAI  
ProblemDetails 3GPP TS 29.571 [371] additional details of the error  
ServiceId 3GPP TS 29.571 [371] Identifier of service  
SscMode 3GPP TS 29.571 [371] SSC Mode type  
PresenceInfo 3GPP TS 29.571 [371] PRA information including PRAId, PRA element
list and PRA status  
Qfi 3GPP TS 29.571 [371] QoS flow identifier designated as \"Qfi\".  
AmfId 3GPP TS 29.571 [371] AMF identifier  
Dnn 3GPP TS 29.571 [371] Data Network Name
* * *
#### 6.1.6.2 Structured data types
##### 6.1.6.2.1 Common Data Type
###### 6.1.6.2.1.1 Type ChargingDataRequest
Table 6.1.6.2.1.1-1: Definition of type ChargingDataRequest
+----------+----------+------+----------+----------+----------+ | A | Data | P | Car | Des | Appli | | ttribute | type | | dinality | cription | cability | | name | | | | | | +----------+----------+------+----------+----------+----------+ | subs | Supi | O~M~ | 0..1 | Id | | | criberId | | | | entifier | | | entifier | | | | of the | | | | | | | su | | | | | | | bscriber | | | | | | | that | | | | | | | uses the | | | | | | | r | | | | | | | equested | | | | | | | service. | | +----------+----------+------+----------+----------+----------+ | nfConsum | NFIdenti | M | 1 | This is | | | erIdenti | fication | | | a | | | fication | | | | grouped | | | | | | | field | | | | | | | which | | | | | | | contains | | | | | | | a set of | | | | | | | inf | | | | | | | ormation | | | | | | | ide | | | | | | | ntifying | | | | | | | the NF | | | | | | | consumer | | | | | | | of the | | | | | | | charging | | | | | | | service. | | +----------+----------+------+----------+----------+----------+ | ch | Ch | OM | 0..1 | Charging | | | argingId | argingId | | | id | | | | | | | entifier | | | | | | | for | | | | | | | cor | | | | | | | relation | | | | | | | between | | | | | | | d | | | | | | | ifferent | | | | | | | records. | | | | | | | Only | | | | | | | ap | | | | | | | plicable | | | | | | | if not | | | | | | | a | | | | | | | vailable | | | | | | | in the | | | | | | | service | | | | | | | specific | | | | | | | info | | | | | | | rmation. | | +----------+----------+------+----------+----------+----------+ | inv | DateTime | M | 1 | The time | | | ocationT | | | | at which | | | imeStamp | | | | the | | | | | | | request | | | | | | | is send | | +----------+----------+------+----------+----------+----------+ | invocati | Uint32 | M | 1 | This | | | onSequen | | | | field | | | ceNumber | | | | contains | | | | | | | the | | | | | | | sequence | | | | | | | number | | | | | | | of the | | | | | | | charging | | | | | | | service | | | | | | | in | | | | | | | vocation | | | | | | | by the | | | | | | | NF | | | | | | | c | | | | | | | onsumer. | | +----------+----------+------+----------+----------+----------+ | oneT | boolean | O~C~ | 0..1 | In | | | imeEvent | | | | dicates, | | | | | | | if | | | | | | | i | | | | | | | ncluded, | | | | | | | that | | | | | | | this is | | | | | | | event | | | | | | | based | | | | | | | charging | | | | | | | and | | | | | | | whether | | | | | | | this is | | | | | | | a | | | | | | | one-time | | | | | | | event. | | | | | | | If true, | | | | | | | this is | | | | | | | a | | | | | | | one-time | | | | | | | event | | | | | | | that | | | | | | | there | | | | | | | will be | | | | | | | no | | | | | | | update | | | | | | | or | | | | | | | release. | | +----------+----------+------+----------+----------+----------+ | oneTimeE | E | O~C~ | 0..1 | i | | | ventType | ventType | | | ndicates | | | | | | | the type | | | | | | | of the | | | | | | | one time | | | | | | | event, | | | | | | | i.e. | | | | | | | I | | | | | | | mmediate | | | | | | | or Post | | | | | | | event | | | | | | | c | | | | | | | harging. | | +----------+----------+------+----------+----------+----------+ | n | Uri | O~C~ | 0..1 | Id | | | otifyUri | | | | entifies | | | | | | | the | | | | | | | r | | | | | | | ecipient | | | | | | | of | | | | | | | Notif | | | | | | | ications | | | | | | | sent by | | | | | | | the CHF. | | | | | | | | | | | | | | In case | | | | | | | of | | | | | | | session | | | | | | | based | | | | | | | charging | | | | | | | it shall | | | | | | | be | | | | | | | present | | | | | | | in | | | | | | | create | | | | | | | request | | | | | | | message, | | | | | | | and may | | | | | | | be | | | | | | | present | | | | | | | in | | | | | | | update. | | +----------+----------+------+----------+----------+----------+ | service | String | O~C~ | 0..1 | Id | | | Specific | | | | entifies | | | ationInf | | | | service | | | ormation | | | | specific | | | | | | | document | | | | | | | that | | | | | | | applies | | | | | | | to the | | | | | | | request, | | | | | | | e.g. the | | | | | | | service | | | | | | | specific | | | | | | | document | | | | | | | ( | | | | | | | \'middle | | | | | | | tier\' | | | | | | | TS) and | | | | | | | 3GPP | | | | | | | release | | | | | | | the | | | | | | | service | | | | | | | specific | | | | | | | document | | | | | | | is based | | | | | | | upon. | | +----------+----------+------+----------+----------+----------+ | m | array(Mu | O~C~ | 0..N | This | | | ultipleU | ltipleUn | | | field | | | nitUsage | itUsage) | | | contains | | | | | | | the | | | | | | | pa | | | | | | | rameters | | | | | | | for the | | | | | | | quota | | | | | | | ma | | | | | | | nagement | | | | | | | request | | | | | | | and/or | | | | | | | usage | | | | | | | re | | | | | | | porting. | | +----------+----------+------+----------+----------+----------+ | triggers | array( | OC | 0..N | This | | | | Trigger) | | | field | | | | | | | id | | | | | | | entifies | | | | | | | the | | | | | | | event(s) | | | | | | | tr | | | | | | | iggering | | | | | | | the | | | | | | | request. | | +----------+----------+------+----------+----------+----------+
###### 6.1.6.2.1.2 Type ChargingDataResponse
Table 6.1.6.2.1.2-1: Definition of type ChargingDataResponse
+----------+----------+------+----------+----------+----------+ | A | Data | P | Car | Des | Appli | | ttribute | type | | dinality | cription | cability | | name | | | | | | +----------+----------+------+----------+----------+----------+ | inv | DateTime | M | 1 | This | | | ocationT | | | | field | | | imestamp | | | | holds | | | | | | | the | | | | | | | t | | | | | | | imestamp | | | | | | | of the | | | | | | | charging | | | | | | | service | | | | | | | response | | | | | | | from the | | | | | | | CHF. | | +----------+----------+------+----------+----------+----------+ | invocati | Invocati | O~C~ | 0..1 | This | | | onResult | onResult | | | field | | | | | | | holds | | | | | | | the | | | | | | | result | | | | | | | of | | | | | | | charging | | | | | | | service | | | | | | | in | | | | | | | vocation | | | | | | | by the | | | | | | | NF | | | | | | | consumer | | +----------+----------+------+----------+----------+----------+ | invocati | Uint32 | M | 1 | This | | | onSequen | | | | field | | | ceNumber | | | | contains | | | | | | | the | | | | | | | sequence | | | | | | | number | | | | | | | of the | | | | | | | charging | | | | | | | service | | | | | | | in | | | | | | | vocation | | | | | | | by the | | | | | | | NF | | | | | | | c | | | | | | | onsumer. | | +----------+----------+------+----------+----------+----------+ | session | Session | OC | 0..1 | This | | | Failover | Failover | | | field | | | | | | | i | | | | | | | ndicates | | | | | | | whether | | | | | | | alt | | | | | | | ernative | | | | | | | CHF is | | | | | | | s | | | | | | | upported | | | | | | | for | | | | | | | ongoing | | | | | | | charging | | | | | | | service | | | | | | | failover | | | | | | | handling | | | | | | | by NF | | | | | | | c | | | | | | | onsumer. | | +----------+----------+------+----------+----------+----------+ | multipl | array( | OC | 0..N | This | | | eUnitInf | Multiple | | | field | | | ormation | UnitInfo | | | holds | | | | rmation) | | | the | | | | | | | pa | | | | | | | rameters | | | | | | | for the | | | | | | | quota | | | | | | | ma | | | | | | | nagement | | | | | | | and/or | | | | | | | usage | | | | | | | r | | | | | | | eporting | | | | | | | info | | | | | | | rmation. | | | | | | | It may | | | | | | | have | | | | | | | multiple | | | | | | | occu | | | | | | | rrences. | | +----------+----------+------+----------+----------+----------+ | triggers | array( | OC | 0..N | This | | | | Trigger) | | | field | | | | | | | id | | | | | | | entifies | | | | | | | the | | | | | | | ch | | | | | | | argeable | | | | | | | event(s) | | | | | | | supplied | | | | | | | by CHF | | | | | | | to | | | | | | | o | | | | | | | verride/ | | | | | | | activate | | | | | | | the | | | | | | | existing | | | | | | | ch | | | | | | | argeable | | | | | | | event(s) | | | | | | | in NF | | | | | | | c | | | | | | | onsumer. | | | | | | | | | | | | | | The | | | | | | | presence | | | | | | | of the | | | | | | | triggers | | | | | | | a | | | | | | | ttribute | | | | | | | without | | | | | | | any | | | | | | | tri | | | | | | | ggerType | | | | | | | is used | | | | | | | by CHF | | | | | | | to | | | | | | | disable | | | | | | | all the | | | | | | | triggers | | | | | | | except | | | | | | | rating | | | | | | | group | | | | | | | level | | | | | | | t | | | | | | | riggers. | | +----------+----------+------+----------+----------+----------+
###### 6.1.6.2.1.3 Type ChargingNotifyRequest
Table 6.1.6.2.1.3-1: Definition of type ChargingNotifyRequest
* * *
Attribute name Data type P Cardinality Description Applicability
notificationType NotificationType M 1 Type of notification to indicate re-
authorization or termination.  
reauthorizationDetails array(ReauthorizationDetails) OC 0..N descriptors for
re-authorization to determine which quota or usage reporting is updated.
* * *
###### 6.1.6.2.1.4 Type NFIdentification
Table 6.1.6.2.1.4-1: Definition of type NFIdentification
* * *
Attribute name Data type P Cardinality Description Applicability
nodeFunctionality NodeFunctionality M 1 This field contains the function of
the node.  
nFName NfInstanceId O~C~ 0..1 Identifier of NF instance. At least one of the
nFName or nFIPv4Address or nFIPv6Address shall be present.  
nFIPv4Address Ipv4Addr O~C~ 0..1 The IPv4 address of the NF. At least one of
the nFName or nFIPv4Address or nFIPv6Address shall be present.  
nFIPv6Address Ipv6Addr O~C~ 0..1 The IPv6 address of the NF. At least one of
the nFName or nFIPv4Address or nFIPv6Address shall be present.  
nFFqdn string O~C~ 0..1 FQDN of the NF  
nFPLMNID PlmnId O~C~ 0..1 This field holds the PLMN ID of the network the NF
belongs to.
* * *
###### 6.1.6.2.1.5 Type MultipleUnitUsage
Table 6.1.6.2.1.5-1: Definition of type MultipleUnitUsage
* * *
Attribute name Data type P Cardinality Description Applicability ratingGroup
RatingGroup M 1 The identifier of a rating group.  
requestedUnit RequestedUnit OC 0..1 This field indicates, if included, that
quota management is required. It may additionally contain the amount of
requested service units for a particular category.  
usedUnitContainer array(UsedUnitContainer) OC 0..N This field contains the
amount of used non-monetary service units measured.
* * *
###### 6.1.6.2.1.6 Type InvocationResult
Table 6.1.6.2.1.6-1: Definition of type InvocationResult
+----------+----------+------+----------+----------+----------+ | A | Data | P | Car | Des | Appli | | ttribute | type | | dinality | cription | cability | | name | | | | | | +----------+----------+------+----------+----------+----------+ | error | Proble | O~C~ | 0..1 | More | | | | mDetails | | | inf | | | | | | | ormation | | | | | | | on the | | | | | | | error | | | | | | | shall be | | | | | | | provided | | | | | | | in the | | | | | | | \ | | | | | | | "cause\" | | | | | | | a | | | | | | | ttribute | | | | | | | of the | | | | | | | \" | | | | | | | ProblemD | | | | | | | etails\" | | | | | | | s | | | | | | | tructure | | | | | | | in case | | | | | | | of | | | | | | | unsu | | | | | | | ccessful | | | | | | | charging | | | | | | | service | | | | | | | in | | | | | | | vocation | | | | | | | by the | | | | | | | NF | | | | | | | c | | | | | | | onsumer. | | | | | | | | | | | | | | The | | | | | | | \ | | | | | | | "invalid | | | | | | | Params\" | | | | | | | a | | | | | | | ttribute | | | | | | | of the | | | | | | | \" | | | | | | | ProblemD | | | | | | | etails\" | | | | | | | s | | | | | | | tructure | | | | | | | shall | | | | | | | contain | | | | | | | the | | | | | | | invalid | | | | | | | pa | | | | | | | rameters | | | | | | | which | | | | | | | caused | | | | | | | the | | | | | | | re | | | | | | | jection. | | +----------+----------+------+----------+----------+----------+ | failure | Failure | O~C~ | 0..1 | This | | | Handling | Handling | | | field | | | | | | | holds | | | | | | | the | | | | | | | failure | | | | | | | handling | | | | | | | to be | | | | | | | p | | | | | | | erformed | | | | | | | by the | | | | | | | NF | | | | | | | consumer | | | | | | | when | | | | | | | charging | | | | | | | service | | | | | | | in | | | | | | | vocation | | | | | | | is | | | | | | | tem | | | | | | | porarily | | | | | | | pr | | | | | | | evented. | | | | | | | The | | | | | | | provided | | | | | | | value | | | | | | | shall | | | | | | | always | | | | | | | override | | | | | | | any | | | | | | | already | | | | | | | existing | | | | | | | value in | | | | | | | NF | | | | | | | c | | | | | | | onsumer. | | | | | | | | | | | | | | In case | | | | | | | of | | | | | | | failure, | | | | | | | it | | | | | | | i | | | | | | | ndicates | | | | | | | which | | | | | | | action | | | | | | | to be | | | | | | | p | | | | | | | erformed | | | | | | | by the | | | | | | | NF | | | | | | | c | | | | | | | onsumer. | | | | | | | | | | | | | | In case | | | | | | | of | | | | | | | success, | | | | | | | it | | | | | | | i | | | | | | | ndicates | | | | | | | which | | | | | | | action | | | | | | | to be | | | | | | | p | | | | | | | erformed | | | | | | | by the | | | | | | | NF | | | | | | | consumer | | | | | | | in case | | | | | | | su | | | | | | | bsequent | | | | | | | charging | | | | | | | service | | | | | | | in | | | | | | | vocation | | | | | | | are | | | | | | | tem | | | | | | | porarily | | | | | | | pr | | | | | | | evented. | | +----------+----------+------+----------+----------+----------+
###### 6.1.6.2.1.7 Type Trigger
Table 6.1.6.2.1.7-1: Definition of type Trigger
+-----------+-----------+----+-----------+-----------+-----------+ | Attribute | Data type | P | Ca | De | Appl | | name | | | rdinality | scription | icability | +-----------+-----------+----+-----------+-----------+-----------+ | tr | Tr | Oc | 0..1 | the | | | iggerType | iggerType | | | events | | | | | | | whose | | | | | | | o | | | | | | | ccurrence | | | | | | | lead to | | | | | | | charging | | | | | | | event is | | | | | | | issued | | | | | | | towards | | | | | | | the CHF | | +-----------+-----------+----+-----------+-----------+-----------+ | trigge | Trigge | M | 1 | This | | | rCategory | rCategory | | | field | | | | | | | indicates | | | | | | | whether | | | | | | | the | | | | | | | charging | | | | | | | data | | | | | | | generated | | | | | | | by the NF | | | | | | | consumer | | | | | | | for the | | | | | | | trigger | | | | | | | lead to a | | | | | | | Charging | | | | | | | Event | | | | | | | towards | | | | | | | the CHF | | | | | | | im | | | | | | | mediately | | | | | | | or not. | | +-----------+-----------+----+-----------+-----------+-----------+ | timeLimit | Du | OC | 0..1 | Time | | | | rationSec | | | limit if | | | | | | | trigger | | | | | | | type is | | | | | | | \"Expiry | | | | | | | of data | | | | | | | time | | | | | | | limit\" | | +-----------+-----------+----+-----------+-----------+-----------+ | vo | Uint32 | OC | 0..1 | Volume | | | lumeLimit | | | | limit if | | | | | | | trigger | | | | | | | type is | | | | | | | \"Expiry | | | | | | | of data | | | | | | | volume | | | | | | | limit\". | | | | | | | This | | | | | | | attribute | | | | | | | is not | | | | | | | valid | | | | | | | from | | | | | | | Nchf_ | | | | | | | Converge | | | | | | | dCharging | | | | | | | API | | | | | | | version | | | | | | | v2.0.0 | | +-----------+-----------+----+-----------+-----------+-----------+ | volu | Uint64 | OC | 0..1 | Volume | | | meLimit64 | | | | limit if | | | | | | | trigger | | | | | | | type is | | | | | | | \"Expiry | | | | | | | of data | | | | | | | volume | | | | | | | limit\". | | | | | | | | | | | | | | This | | | | | | | attribute | | | | | | | replaces | | | | | | | the | | | | | | | vo | | | | | | | lumeLimit | | | | | | | attribute | | | | | | | from | | | | | | | Nchf_ | | | | | | | Converge | | | | | | | dCharging | | | | | | | API | | | | | | | v2.0.0 | | +-----------+-----------+----+-----------+-----------+-----------+ | maxNu | Uint32 | OC | 0..1 | Maximum | | | mberOfccc | | | | number if | | | | | | | trigger | | | | | | | type is | | | | | | | \"Max nb | | | | | | | of number | | | | | | | of | | | | | | | charging | | | | | | | condition | | | | | | | changes\" | | +-----------+-----------+----+-----------+-----------+-----------+
###### 6.1.6.2.1.8 Type MultipleUnitInformation
Table 6.1.6.2.1.8-1: Definition of type MultipleUnitInformation
+----------+----------+------+----------+----------+----------+ | A | Data | P | Car | Des | Appli | | ttribute | type | | dinality | cription | cability | | name | | | | | | +----------+----------+------+----------+----------+----------+ | re | Re | O~C~ | 0..1 | This | | | sultCode | sultCode | | | field | | | | | | | contains | | | | | | | the | | | | | | | result | | | | | | | of the | | | | | | | Rating | | | | | | | group | | | | | | | quota | | | | | | | all | | | | | | | ocation. | | +----------+----------+------+----------+----------+----------+ | rat | Rat | M | 1 | The | | | ingGroup | ingGroup | | | id | | | | | | | entifier | | | | | | | of a | | | | | | | rating | | | | | | | group. | | +----------+----------+------+----------+----------+----------+ | gra | Gra | OC | 0..1 | This | | | ntedUnit | ntedUnit | | | field | | | | | | | holds | | | | | | | the | | | | | | | granted | | | | | | | quota. | | +----------+----------+------+----------+----------+----------+ | triggers | array( | OC | 0..N | This | | | | Trigger) | | | field | | | | | | | holds | | | | | | | triggers | | | | | | | for | | | | | | | usage | | | | | | | r | | | | | | | eporting | | | | | | | as | | | | | | | sociated | | | | | | | to the | | | | | | | rating | | | | | | | group, | | | | | | | which is | | | | | | | supplied | | | | | | | from the | | | | | | | CHF. | | | | | | | | | | | | | | The | | | | | | | presence | | | | | | | of the | | | | | | | triggers | | | | | | | a | | | | | | | ttribute | | | | | | | without | | | | | | | any | | | | | | | tri | | | | | | | ggerType | | | | | | | is used | | | | | | | by CHF | | | | | | | to | | | | | | | disable | | | | | | | all the | | | | | | | triggers | | | | | | | to the | | | | | | | as | | | | | | | sociated | | | | | | | rating | | | | | | | group. | | +----------+----------+------+----------+----------+----------+ | vali | Dur | OC | 0..1 | This | | | dityTime | ationSec | | | field | | | | | | | defines | | | | | | | the time | | | | | | | in order | | | | | | | to limit | | | | | | | the | | | | | | | validity | | | | | | | of the | | | | | | | granted | | | | | | | quota | | | | | | | for a | | | | | | | given | | | | | | | category | | | | | | | i | | | | | | | nstance. | | +----------+----------+------+----------+----------+----------+ | quotaHol | Dur | OC | 0..1 | This | | | dingTime | ationSec | | | field | | | | | | | holds | | | | | | | the | | | | | | | quota | | | | | | | holding | | | | | | | time in | | | | | | | seconds. | | | | | | | It | | | | | | | applies | | | | | | | equally | | | | | | | to the | | | | | | | granted | | | | | | | time | | | | | | | quota | | | | | | | and to | | | | | | | the | | | | | | | granted | | | | | | | volume | | | | | | | quota. | | | | | | | | | | | | | | The NF | | | | | | | Consumer | | | | | | | shall | | | | | | | deem a | | | | | | | quota to | | | | | | | have | | | | | | | expired | | | | | | | when no | | | | | | | traffic | | | | | | | as | | | | | | | sociated | | | | | | | with the | | | | | | | quota is | | | | | | | observed | | | | | | | for the | | | | | | | value | | | | | | | i | | | | | | | ndicated | | | | | | | by this | | | | | | | at | | | | | | | tribute. | | | | | | | A | | | | | | | quotaHol | | | | | | | dingTime | | | | | | | value of | | | | | | | zero | | | | | | | i | | | | | | | ndicates | | | | | | | that | | | | | | | this | | | | | | | m | | | | | | | echanism | | | | | | | shall | | | | | | | not be | | | | | | | used. If | | | | | | | the | | | | | | | quotaHol | | | | | | | dingTime | | | | | | | a | | | | | | | ttribute | | | | | | | is not | | | | | | | present, | | | | | | | then a | | | | | | | locally | | | | | | | conf | | | | | | | igurable | | | | | | | default | | | | | | | value in | | | | | | | the NF | | | | | | | Consumer | | | | | | | shall be | | | | | | | used. | | +----------+----------+------+----------+----------+----------+ | fin | Fin | OC | 0..1 | This | | | alUnitIn | alUnitIn | | | field | | | dication | dication | | | i | | | | | | | ndicates | | | | | | | the | | | | | | | granted | | | | | | | final | | | | | | | units | | | | | | | for the | | | | | | | service. | | +----------+----------+------+----------+----------+----------+ | ti | integer | OC | 0..1 | i | | | meQuotaT | | | | ndicates | | | hreshold | | | | the | | | | | | | t | | | | | | | hreshold | | | | | | | in | | | | | | | seconds | | | | | | | for the | | | | | | | granted | | | | | | | time | | | | | | | quota. | | +----------+----------+------+----------+----------+----------+ | volu | Uint64 | OC | 0..1 | i | | | meQuotaT | | | | ndicates | | | hreshold | | | | the | | | | | | | t | | | | | | | hreshold | | | | | | | in | | | | | | | octets | | | | | | | when the | | | | | | | granted | | | | | | | quota is | | | | | | | volume | | +----------+----------+------+----------+----------+----------+ | un | integer | OC | 0..1 | i | | | itQuotaT | | | | ndicates | | | hreshold | | | | the | | | | | | | t | | | | | | | hreshold | | | | | | | in | | | | | | | service | | | | | | | specific | | | | | | | units, | | | | | | | that are | | | | | | | defined | | | | | | | in the | | | | | | | service | | | | | | | specific | | | | | | | do | | | | | | | cuments, | | | | | | | when the | | | | | | | granted | | | | | | | quota is | | | | | | | service | | | | | | | specific | | +----------+----------+------+----------+----------+----------+
###### 6.1.6.2.1.9 Type RequestedUnit
Table 6.1.6.2.1.9-1: Definition of type RequestedUnit
* * *
Attribute name Data type P Cardinality Description Applicability time Uint32
OC 0..1 This field holds the amount of requested time.  
totalVolume Uint64 OC 0..1 This field holds the amount of requested volume in
both uplink and downlink directions.  
uplinkVolume Uint64 OC 0..1 This field holds the amount of requested volume in
uplink direction.  
downlinkVolume Uint64 OC 0..1 This field holds the amount of requested volume
in downlink direction.  
serviceSpecificUnits Uint64 OC 0..1 This field holds the amount of requested
service specific units.  
NOTE 1: If none of them is included, \"RequestedUnit\": {}, the category and
amount is determined by CHF for online charging scenario with centralized unit
determination and rating scenario.
* * *
###### 6.1.6.2.1.10 Type UsedUnitContainer
Table 6.1.6.2.1.10-1: Definition of type UsedUnitContainer
* * *
Attribute name Data type P Cardinality Description Applicability serviceId
ServiceId OC 0..1 This field identity of the used service  
quotaManagementIndicator QuotaManagementIndicator OC 0..1 an indicator on
whether the reported used units are with or without quota management control.
If the attribute is not present, it indicates the used unit is without quota
management applied.  
triggers array (Trigger) OC 0..N This field specifies the reason for usage
reporting for one or more types of unit associated to the rating group.  
triggerTimestamp DateTime Oc 0..1 This field holds the timestamp when the
reporting trigger occur.  
time Uint32 OC 0..1 This field holds the amount of used time.  
totalVolume Uint64 OC 0..1 This field holds the amount of used volume in both
uplink and downlink directions.  
uplinkVolume Uint64 OC 0..1 This field holds the amount of used volume in
uplink direction.  
downlinkVolume Uint64 OC 0..1 This field holds the amount of used volume in
downlink direction.  
serviceSpecific Units Uint64 OC 0..1 This field holds the amount of used
service specific units.  
eventTimeStamps DateTime OC 0..1 This field holds the timestamps of the event
reported in the Service Specific Unit s, if the reported units are event based  
localSequenceNumber integer M 1 holds the Used Unit sequence number, i.e. the
order when charging event occurs. It starts from 1 and increased by 1 for each
Used Unit generation.
* * *
###### 6.1.6.2.1.11 Type GrantedUnit
Table 6.1.6.2.1.11-1: Definition of type GrantedUnit
* * *
Attribute name Data type P Cardinality Description Applicability
tariffTimeChange DateTime OC 0..1 This field contains the switch time when the
tariff will be changed.  
time Uint32 OC 0..1 This field holds the amount of granted time.  
totalVolume Uint64 OC 0..1 This field holds the amount of granted volume in
both uplink and downlink directions.  
uplinkVolume Uint64 OC 0..1 This field holds the amount of granted volume in
uplink direction.  
downlinkVolume Uint64 OC 0..1 This field holds the amount of granted volume in
downlink direction.  
serviceSpecificUnits Uint64 OC 0..1 This field holds the amount of granted
requested service specific units.
* * *
###### 6.1.6.2.1.12 Type FinalUnitIndication
Table 6.1.6.2.1.12-1: Definition of type FinalUnitIndication
* * *
Attribute name Data type P Cardinality Description Applicability
finalUnitAction FinalUnitAction M 1 indicates to the service consumer the
action to be taken when the user\'s account cannot cover the service cost  
restrictionFilterRule IPFilterRule OC 0..1 filter rules corresponding to
services that are to remain accessible even if there are no more service units
granted.  
filterId string OC 0..1 the IP packet filters corresponding to services that
are to remain accessible even if there are no more service units granted.  
redirectServer RedirectServer OC 0..1 the address information of the redirect
server with which the end user is to be connected when the account cannot
cover the service cost.
* * *
###### 6.1.6.2.1.13 Type RedirectServer
Table 6.1.6.2.1.13-1: Definition of type RedirectServer
* * *
Attribute name Data type P Cardinality Description Applicability
redirectAddressType RedirectAddressType M 1 The type of redirect server
address  
redirectServerAddress string M 1 the address of redirect server
* * *
###### 6.1.6.2.1.14 Type ReauthorizationDetails
Table 6.1.6.2.1.14-1: Definition of type ReauthorizationDetails
+-----------+-----------+----+-----------+-----------+-----------+ | Attribute | Data type | P | Ca | De | Appl | | name | | | rdinality | scription | icability | +-----------+-----------+----+-----------+-----------+-----------+ | service | ServiceId | OC | 0..1 | i | | | | | | | dentifier | | | | | | | for a | | | | | | | service | | +-----------+-----------+----+-----------+-----------+-----------+ | ra | Ra | OC | 0..1 | i | | | tingGroup | tingGroup | | | dentifier | | | | | | | of a | | | | | | | rating | | | | | | | group. | | | | | | | | | | | | | | This | | | | | | | attribute | | | | | | | shall be | | | | | | | present | | | | | | | if | | | | | | | serviceI | | | | | | | dentifier | | | | | | | attribute | | | | | | | is | | | | | | | present. | | +-----------+-----------+----+-----------+-----------+-----------+ | quotaM | QuotaM | OC | 0..1 | an | | | anagement | anagement | | | indicator | | | Indicator | Indicator | | | on | | | | | | | whether | | | | | | | the | | | | | | | re-auth | | | | | | | orization | | | | | | | not | | | | | | | ification | | | | | | | is for | | | | | | | quota | | | | | | | m | | | | | | | anagement | | | | | | | control | | | | | | | or not. | | +-----------+-----------+----+-----------+-----------+-----------+
###### 6.1.6.2.1.16 Type ChargingNotifyResponse
Table 6.1.6.2.1.16-1: Definition of type ChargingNotifyResponse
* * *
Attribute name Data type P Cardinality Description Applicability
invocationResult InvocationResult O~C~ 0..1 This field holds the result of
notification.
* * *
##### 6.1.6.2.2 5G Data Connectivity Specified Data Type
###### 6.1.6.2.2.1 Type ChargingDataRequest
This clause is additional attributes of the type ChargingDataRequest defined
in clause 6.1.6.2.1.1 for 5G data connectivity charging described in 3GPP TS
32.255[30].
Table 6.1.6.2.2.1-1: 5G Data Connectivity Specified attribute of type
ChargingDataRequest
* * *
Attribute name Data type P Cardinality Description Applicability
pDUSessionChargingInformation PDUSessionChargingInformation O~M~ 0..1 This
field holds the 5G data connectivity specific information.  
roamingQBCInformation RoamingQBCInformation O~M~ 0..1 This field holds the 5G
data connectivity specific information roaming QBC.
* * *
###### 6.1.6.2.2.2 Type ChargingDataResponse
This clause is additional attributes of the type ChargingDataResponse defined
in clause 6.1.6.2.1.2 for 5G data connectivity charging described in 3GPP TS
32.255[30].
Table 6.1.6.2.2.2-1: 5G Data Connectivity Specified attribute of type
ChargingDataResponse
* * *
Attribute name Data type P Cardinality Description Applicability
pDUSessionChargingInformation PDUSessionChargingInformation O~M~ 0..1 This
field holds the 5G data connectivity specific information.  
roamingQBCInformation RoamingQBCInformation O~M~ 0..1 This field holds the 5G
data connectivity specific information roaming QBC.
* * *
###### 6.1.6.2.2.3 Type MultipleUnitUsage
This clause is additional attributes of the type MultipleUnitUsage defined in
clause 6.1.6.2.1.5 for 5G data connectivity charging described in 3GPP TS
32.255[30].
Table 6.1.6.2.2.3-1: 5G Data Connectivity Specified attribute of type
MultipleUnitUsage
* * *
Attribute name Data type P Cardinality Description Applicability uPFID
NfInstanceId OC 0..1 identifier of UPF
* * *
###### 6.1.6.2.2.4 Type MultipleUnitInformation
This clause is additional attributes of the type
MultipleUnitInformationdefined in clause 6.1.6.2.1.8 for 5G data connectivity
charging described in 3GPP TS 32.255[30].
Table 6.1.6.2.2.4-1: 5G Data Connectivity Specified attribute of type
MultipleUnitInformation
* * *
Attribute name Data type P Cardinality Description Applicability uPFID
NfInstanceId Oc 0..1 UPF id
* * *
###### 6.1.6.2.2.5 Type UsedUnitContainer
This clause is additional portion of the type UsedUnitContainer defined in
clause 6.1.6.2.1.10 for 5G data connectivity charging described in 3GPP TS
32.255[30].
Table 6.1.6.2.2.5-1: 5G Data Connectivity Specified portion of type
UsedUnitContainer
* * *
Attribute name Data type P Cardinality Description Applicability
pDUContainerInformation PDUContainerInformation OC 0..1 the 5G data
connectivity specific information
* * *
###### 6.1.6.2.2.6 Type PDUSessionChargingInformation
Table 6.1.6.2.2.6-1: Definition of type PDUSessionChargingInformation
+-----------+-----------+----+-----------+-----------+-----------+ | Attribute | Data type | P | Ca | De | Appl | | name | | | rdinality | scription | icability | +-----------+-----------+----+-----------+-----------+-----------+ | c | C | OM | 0..1 | Charging | | | hargingId | hargingId | | | i | | | | | | | dentifier | | | | | | | for | | | | | | | co | | | | | | | rrelation | | | | | | | between | | | | | | | different | | | | | | | records | | | | | | | of a | | | | | | | single | | | | | | | PDU | | | | | | | session | | +-----------+-----------+----+-----------+-----------+-----------+ | userIn | UserIn | OM | 0..1 | including | | | formation | formation | | | in | | | | | | | formation | | | | | | | of user | | | | | | | and user | | | | | | | e | | | | | | | quipment, | | +-----------+-----------+----+-----------+-----------+-----------+ | userLoc | Use | OC | 0..1 | provides | | | ationinfo | rLocation | | | in | | | | | | | formation | | | | | | | on the | | | | | | | location | | +-----------+-----------+----+-----------+-----------+-----------+ | userLoc | DateTime | OC | 0..1 | the time | | | ationTime | | | | at which | | | | | | | the UE | | | | | | | was last | | | | | | | known to | | | | | | | be in the | | | | | | | location. | | +-----------+-----------+----+-----------+-----------+-----------+ | prese | map(Pres | OC | 0..N | When the | | | nceReport | enceInfo) | | | data type | | | ingAreaIn | | | | is | | | formation | | | | present | | | | | | | in | | | | | | | response | | | | | | | message, | | | | | | | it | | | | | | | includes | | | | | | | the PRA | | | | | | | in | | | | | | | formation | | | | | | | pr | | | | | | | ovisioned | | | | | | | by the | | | | | | | CHF, in | | | | | | | which | | | | | | | case the | | | | | | | \"presen | | | | | | | ceState\" | | | | | | | attribute | | | | | | | within | | | | | | | the | | | | | | | Pre | | | | | | | senceInfo | | | | | | | data type | | | | | | | shall not | | | | | | | be | | | | | | | supplied. | | | | | | | When the | | | | | | | data type | | | | | | | is | | | | | | | present | | | | | | | in | | | | | | | request | | | | | | | message, | | | | | | | it's used | | | | | | | to report | | | | | | | user | | | | | | | presence | | | | | | | reporting | | | | | | | area | | | | | | | status. | | | | | | | | | | | | | | The praId | | | | | | | attribute | | | | | | | within | | | | | | | the | | | | | | | Pre | | | | | | | senceInfo | | | | | | | data type | | | | | | | shall be | | | | | | | the key | | | | | | | of the | | | | | | | map. | | +-----------+-----------+----+-----------+-----------+-----------+ | u | TimeZone | OC | 0..1 | the UE | | | etimeZone | | | | Timezone | | | | | | | the UE is | | | | | | | currently | | | | | | | located | | +-----------+-----------+----+-----------+-----------+-----------+ | pdu | PDU | M | 1 | PDU | | | SessionIn | SessionIn | | | session | | | formation | formation | | | level | | | | | | | inf | | | | | | | ormation, | | | | | | | including | | | | | | | PDU | | | | | | | session | | | | | | | ID, PDU | | | | | | | type, SSC | | | | | | | Mode, | | | | | | | QoS, | | | | | | | network | | | | | | | slicing | | | | | | | etc. | | +-----------+-----------+----+-----------+-----------+-----------+ | unitCo | Du | OC | 0..1 | threshold | | | untInacti | rationSec | | | for the | | | vityTimer | | | | time | | | | | | | period | | | | | | | resource | | | | | | | idle | | | | | | | | | | | | | | Upon the | | | | | | | initial | | | | | | | in | | | | | | | teraction | | | | | | | with the | | | | | | | CHF, the | | | | | | | SMF use | | | | | | | this | | | | | | | attribute | | | | | | | to | | | | | | | provide | | | | | | | pre-c | | | | | | | onfigured | | | | | | | threshold | | | | | | | to CHF. | | | | | | | | | | | | | | when | | | | | | | present | | | | | | | in | | | | | | | response | | | | | | | message, | | | | | | | it | | | | | | | contains | | | | | | | the | | | | | | | threshold | | | | | | | supplied | | | | | | | by CHF in | | | | | | | response | | | | | | | of | | | | | | | initial | | | | | | | request | | | | | | | to | | | | | | | override | | | | | | | existing | | | | | | | threshold | | | | | | | in SMF. | | | | | | | | | | | | | | It's only | | | | | | | present | | | | | | | when unit | | | | | | | count | | | | | | | i | | | | | | | nactivity | | | | | | | timer | | | | | | | trigger | | | | | | | is | | | | | | | active. | | +-----------+-----------+----+-----------+-----------+-----------+ | rANSecon | RANSecon | OC | 0..1 | Secondary | | | daryRATUs | daryRATUs | | | RAT usage | | | ageReport | ageReport | | | reported | | | | | | | from RAN. | | +-----------+-----------+----+-----------+-----------+-----------+
###### 6.1.6.2.2.7 Type UserInformation
Table 6.1.6.2.2.7-1: Definition of type UserInformation
* * *
Attribute name Data type P Cardinality Description Applicability servedGPSI
Gpsi OC 0..1 the Generic Public Subscription Identifier (GPSI) of the served
party, if available.  
servedPEI Pei OC 0..1 the identification of Permanent Equipment Identifier.  
unauthenticatedFlag boolean OC 0..1 indicates the served SUPI is not
authenticated  
roamerInOut RoamerInOut OC 0..1 In-bound or Out-bound roamer
* * *
###### 6.1.6.2.2.8 Type PDUSessionInformation
Table 6.1.6.2.2.8-1: Definition of type PDUSessionInformation
* * *
Attribute name Data type P Cardinality Description Applicability
networkSlicingInfo NetworkSlicingInfo OM 0..1 information of network slice
serving the PDU session  
pduSessionID PduSessionId M 1  
pduType PduSessionType OM 0..1 type of the PDU session  
sscMode SscMode O~C~ 0..1 information of SSC Mode type.  
hPlmnId PlmnId O~C~ 0..1 PLMN identifier of the home network  
servingNetworkFunctionID ServingNetworkFunctionID Oc 0..1 This field holds
serving Network Function identifier.  
servingCNPlmnId PlmnId Oc 0..1 Serving Core Network Operator PLMN ID selected
by the UE in shared networks.  
ratType RatType O~C~ 0..1 the RAT Type of the PDU session  
dnnId Dnn M 1 a Data Network Name  
dnnSelectionMode DnnSelectionMode O~C~ 0..1 This field indicates how the DNN
was selected.  
chargingCharacteristics string OC 0..1 the Charging Characteristics for this
PDU session.  
chargingCharacteristicsSelectionMode ChargingCharacteristicsSelectionMode OC
0..1 information about how the \"Charging Characteristics\" was selected.  
startTime DateTime OC 0..1 the time in UTC format which represents the start
of a PDU session at the SMF  
stopTime DateTime OC 0..1 the time in UTC format which represents the stop of
a PDU session at the SMF  
3gppPSDataOffStatus 3GPPPSDataOffStatus OC 0..1 This field holds the 3GPP Data
off Status when UE's 3GPP Data Off status is Activated or Deactivated.  
sessionStopIndicator boolean O~C~ 0..1 This field indicates to the CHF that
the PDU session has been terminated.  
pduAddress PDUAddress OC 0..1 Group of user ip address/prefix  
diagnostics Diagnostics OC 0..1 provides a more detailed cause value from SMF.  
authorizedQoSInformation AuthorizedDefaultQos O~C~ 0..1 This field holds the
authorized QoS applied to PDU session.  
subscribedQoSInformation SubscribedDefaultQos O~C~ 0..1 This field holds the
subscribed Default QoS  
authorizedSessionAMBR Ambr O~C~ 0..1 This field holds the authorized session-
AMBR.  
subscribedSessionAMBR Ambr O~C~ 0..1 This field holds the subscribed session-
AMBR.
* * *
###### 6.1.6.2.2.9 Type PDUContainerInformation
Table 6.1.6.2.2.9-1: Definition of type PDUContainerInformation
+----------+----------+------+----------+----------+----------+ | A | Data | P | Car | Des | Appli | | ttribute | type | | dinality | cription | cability | | name | | | | | | +----------+----------+------+----------+----------+----------+ | timeofFi | DateTime | OC | 0..1 | the time | | | rstUsage | | | | stamp | | | | | | | for the | | | | | | | first IP | | | | | | | packet | | | | | | | to be | | | | | | | tra | | | | | | | nsmitted | | | | | | | and | | | | | | | mapped | | | | | | | to the | | | | | | | r | | | | | | | eporting | | | | | | | used | | | | | | | unit. | | +----------+----------+------+----------+----------+----------+ | timeofL | DateTime | OC | 0..1 | the time | | | astUsage | | | | stamp | | | | | | | for the | | | | | | | last IP | | | | | | | packet | | | | | | | to be | | | | | | | tra | | | | | | | nsmitted | | | | | | | and | | | | | | | mapped | | | | | | | to the | | | | | | | r | | | | | | | eporting | | | | | | | used | | | | | | | unit. | | +----------+----------+------+----------+----------+----------+ | qoSInf | QoSData | OC | 0..1 | the QoS | | | ormation | | | | applied | | | | | | | for the | | | | | | | r | | | | | | | eporting | | | | | | | used | | | | | | | unit. | | | | | | | | | | | | | | In case | | | | | | | gbrUl or | | | | | | | gbrDl | | | | | | | are | | | | | | | present | | | | | | | for GBR | | | | | | | flow, | | | | | | | the GBR | | | | | | | targets | | | | | | | are | | | | | | | \"GUARA | | | | | | | NTEED\", | | | | | | | ot | | | | | | | herwise, | | | | | | | are \" | | | | | | | NO | | | | | | | T_GUARA | | | | | | | NTEED\". | | +----------+----------+------+----------+----------+----------+ | aFCorrel | string | OC | 0..1 | An | | | ationInf | | | | ide | | | ormation | | | | ntifier, | | | | | | | provided | | | | | | | from the | | | | | | | AF, | | | | | | | cor | | | | | | | relating | | | | | | | the | | | | | | | mea | | | | | | | surement | | | | | | | for the | | | | | | | Charging | | | | | | | key | | | | | | | /Service | | | | | | | id | | | | | | | entifier | | | | | | | values | | | | | | | in this | | | | | | | PCC rule | | | | | | | with | | | | | | | app | | | | | | | lication | | | | | | | level | | | | | | | reports. | | +----------+----------+------+----------+----------+----------+ | userLoc | User | OC | 0..1 | provides | | | ationInf | Location | | | inf | | | ormation | | | | ormation | | | | | | | on the | | | | | | | location | | +----------+----------+------+----------+----------+----------+ | ue | TimeZone | OC | 0..1 | the UE | | | timeZone | | | | Time | | | | | | | Zone | | | | | | | **during | | | | | | | the** | | | | | | | used | | | | | | | unit | | | | | | | **c | | | | | | | ontainer | | | | | | | int | | | | | | | erval.** | | +----------+----------+------+----------+----------+----------+ | rATType | RatType | O~C~ | 0..1 | the RAT | | | | | | | Type of | | | | | | | the used | | | | | | | unit | | +----------+----------+------+----------+----------+----------+ | servi | array(S | O~C~ | 0..N | the list | | | ngNodeID | ervingNe | | | of | | | | tworkFun | | | serving | | | | ctionID) | | | node | | | | | | | ide | | | | | | | ntifiers | | | | | | | **during | | | | | | | the** | | | | | | | used | | | | | | | unit | | | | | | | **c | | | | | | | ontainer | | | | | | | int | | | | | | | erval.** | | +----------+----------+------+----------+----------+----------+ | presence | m | OC | 0..N | the | | | Reportin | ap(Prese | | | Presence | | | gAreaInf | nceInfo) | | | R | | | ormation | | | | eporting | | | | | | | Area | | | | | | | status | | | | | | | of UE | | | | | | | **during | | | | | | | the** | | | | | | | used | | | | | | | unit | | | | | | | **c | | | | | | | ontainer | | | | | | | int | | | | | | | erval.** | | +----------+----------+------+----------+----------+----------+ | 3gp | 3GP | OC | 0..1 | the 3GPP | | | pPSDataO | PPSDataO | | | Data off | | | ffStatus | ffStatus | | | Status | | | | | | | **during | | | | | | | the** | | | | | | | used | | | | | | | unit | | | | | | | **c | | | | | | | ontainer | | | | | | | int | | | | | | | erval.** | | +----------+----------+------+----------+----------+----------+ | sponsor | string | OC | 0..1 | an | | | Identity | | | | id | | | | | | | entifier | | | | | | | of the | | | | | | | sponsor. | | +----------+----------+------+----------+----------+----------+ | ap | string | OC | 0..1 | an | | | plicatio | | | | id | | | nservice | | | | entifier | | | Provider | | | | of the | | | Identity | | | | app | | | | | | | lication | | | | | | | service | | | | | | | provider | | +----------+----------+------+----------+----------+----------+ | char | string | OC | 0..1 | the | | | gingRule | | | | r | | | BaseName | | | | eference | | | | | | | to group | | | | | | | of PCC | | | | | | | rules | | | | | | | pr | | | | | | | edefined | | | | | | | at the | | | | | | | SMF. | | +----------+----------+------+----------+----------+----------+
###### 6.1.6.2.2.10 Type NetworkSlicingInfo
Table 6.1.6.2.2.10-1: Definition of type NetworkSlicingInfo
* * *
Attribute name Data type P Cardinality Description Applicability sNSSAI Snssai
M 1 Single Network Slice Selection Assistance Information
* * *
###### 6.1.6.2.2.11 Type PDUAddress
Table 6.1.6.2.2.11-1: Definition of type PDUAddress
* * *
Attribute name Data type P Cardinality Description Applicability
pduIPv4Address Ipv4Addr OC 0..1 the IPv4 address of the served SUPI allocated
for the PDU session  
pduIPv6AddresswithPrefix Ipv6Addr OC 0..1 the IPv6 address with prefix of the
served SUPI allocated for the PDU session  
pduAddressprefixlength integer OC 0..1 PDU Address prefix length of an IPv6
typed Served PDU Address. The field needs not available for prefix length of
64 bits.  
iPv4dynamicAddressFlag boolean O~C~ 0..1 This field indicates whether served
IPv4 address is dynamically allocated. This field is missing if address is
static.  
iPv6dynamicPrefixFlag boolean O~C~ 0..1 This field indicates whether served
IPv6 address prefix is dynamically allocated. This field is missing if address
is static.
* * *
###### 6.1.6.2.2.12 Type ServingNetworkFunctionID
Table 6.1.6.2.2.12-1: Definition of type ServingNetworkFunctionID
* * *
Attribute name Data type P Cardinality Description Applicability
servingNetworkFunctionInformation NFIdentification M 0..1 Serving Network
Function information: i.e. AMF or V-SMF.  
aMFId AmfId O~C~ 0..1 AMF identifier
* * *
###### 6.1.6.2.2.13 Type RoamingQBCInformation
Table 6.1.6.2.1.13-1: Definition of type RoamingQBCInformation
* * *
Attribute name Data type P Cardinality Description Applicability
multipleQFIcontainer array(MultipleQFIcontainer) Oc 0..N list of QFI
containers  
uPFID NfInstanceId OC 0..1 identifer of UPF  
roamingChargingProfile RoamingChargingProfile OC 0..1 Roaming Charging Profile
associated to the PDU session for roaming QBC.
* * *
###### 6.1.6.2.2.14 Type MultipleQFIcontainer
Table 6.1.6.2.1.14-1: Definition of type MultipleQFIcontainer
* * *
Attribute name Data type P Cardinality Description Applicability triggers
array (Trigger) Oc 0..N This field holds reason for closing the QFI unit
container.  
triggerTimestamp DateTime Oc 0..1 This field holds the timestamp when the
reporting trigger occur.  
time Uint32 OC 0..1 This field holds the amount of time.  
totalVolume Uint64 OC 0..1 This field holds the amount of volume in both
uplink and downlink directions.  
uplinkVolume Uint64 OC 0..1 This field holds the amount of volume in uplink
direction.  
downlinkVolume Uint64 OC 0..1 This field holds the amount of volume in
downlink direction.  
localSequenceNumber integer M 1 QFI data container sequence number. It starts
from 1 and increased by 1 for each container generation  
qFIContainerInformation QFIContainerInformation OC 0..1 This field holds the
QFI data container information
* * *
###### 6.1.6.2.2.15 Type RoamingChargingProfile
Table 6.1.6.2.1.15-1: Definition of type RoamingChargingProfile
* * *
Attribute name Data type P Cardinality Description Applicability triggers
array(Trigger) OC 0..N Trigger for roaming QBC  
partialRecordMethod PartialRecordMethod Oc 0..1 method uses for partial record
closure
* * *
###### 6.1.6.2.2.16 Type QFIContainerInformation
Table 6.1.6.2.1.16-1: Definition of type QFIContainerInformation
* * *
Attribute name Data type P Cardinality Description Applicability qFI Qfi OM
0..1 QoS Flow Identifier (QFI)  
reportTime DateTime OC 0..1 the time stamp when the QFI data container was
closed  
timeofFirstUsage DateTime OC 0..1 the time stamp for the first IP packet to be
transmitted and mapped to the QFI container  
timeofLastUsage DateTime OC 0..1 the time stamp for the last IP packet to be
transmitted and mapped to the QFI container.  
qoSInformation QoSData OC 0..1 the QoS applied to QFI container. In case gbrUl
or gbrDl are present for GBR QoS flow, the GBR targets are \"GUARANTEED\",
otherwise, are \" NOT_GUARANTEED\".  
userLocationInformation UserLocation OC 0..1 provides information on the
location  
uetimeZone TimeZone OC 0..1 UE Time Zone the UE is currently located  
presenceReportingAreaInformation map(PresenceInfo) OC 0..N the Presence
Reporting Area status of UE **during the** used unit **container interval.**  
rATType RatType O~C~ 0..1 the RAT Type of the used unit  
servingNetworkFunctionID array(ServingNetworkFunctionI) O~C~ 0..N the list of
serving Node Identifiers **during the** used unit **container interval.**  
3gppPSDataOffStatus 3GPPPSDataOffStatus OC 0..1 the 3GPP Data off Status
**during the** used unit **container interval.**
* * *
###### 6.1.6.2.2.17 Type RANSecondaryRATUsageReport
Table 6.1.6.2.2.17-1: Definition of type RANSecondaryRATUsageReport
+-----------+-----------+----+-----------+-----------+-----------+ | Attribute | Data type | P | Ca | De | Appl | | name | | | rdinality | scription | icability | +-----------+-----------+----+-----------+-----------+-----------+ | r | RatType | OM | 0..1 | RAT type | | | ANSeconda | | | | a | | | ryRATType | | | | ssociated | | | | | | | to the | | | | | | | reported | | | | | | | usage on | | | | | | | secondary | | | | | | | RAT. | | | | | | | | | | | | | | The | | | | | | | following | | | | | | | values | | | | | | | are | | | | | | | ap | | | | | | | plicable: | | | | | | | | | | | | | | - \"NR\" | | | | | | | | | | | | | | - | | | | | | | \"EUTRA\" | | +-----------+-----------+----+-----------+-----------+-----------+ | qosF | Array(Qo | OM | 0..N | list of | | | lowsUsage | sFlowsUsa | | | c | | | Reports | geReport) | | | ontainers | | | | | | | per QFI | | | | | | | with | | | | | | | volumes | | | | | | | reported. | | +-----------+-----------+----+-----------+-----------+-----------+
###### 6.1.6.2.2.18 Type QosFlowsUsageReport
Table 6.1.6.2.2.18-1: Definition of type QosFlowsUsageReport
* * *
Attribute name Data type P Cardinality Description Applicability qFI Qfi OM
0..1 QoS Flow Identifier (QFI)  
startTimestamp DateTime OC 0..1 Start time of the reported usage  
endTimestamp DateTime OC 0..1 End time of the reported usage  
downlinkVolume Uint64 OC 0..1 Amount of volume in downlink direction.  
uplinkVolume Uint64 OC 0..1 Amount of volume in uplink direction.
* * *
##### 6.1.6.2.3 SMS Specified Data Type
###### 6.1.6.2.3.1 Type ChargingDataRequest
This clause is additional attributes of the type ChargingDataRequest defined
in clause 6.1.6.2.3.1 for SMS charging described in 3GPP TS 32.274[28].
Table 6.1.6.2.3.1-1: SMS Specified attribute of type ChargingDataRequest
* * *
Attribute name Data type P Cardinality Description Applicability sMSCharging
Information SMSChargingInformation O~M~ 0..1 This field holds the SMSspecific
information.
* * *
###### 6.1.6.2.3.2 Type SMSChargingInformation
Table 6.1.6.2.2.3-2: Definition of type SMSChargingInformation
+----------+----------+------+----------+----------+----------+ | A | Data | P | Car | Des | Appli | | ttribute | type | | dinality | cription | cability | | name | | | | | | +----------+----------+------+----------+----------+----------+ | origin | Origin | O~M~ | 0..1 | or | | | atorInfo | atorInfo | | | iginator | | | | | | | of the | | | | | | | SM | | +----------+----------+------+----------+----------+----------+ | recip | Arra | O~C~ | 0..N | r | | | ientInfo | y(Recipi | | | ecipient | | | | entInfo) | | | inf | | | | | | | ormation | | | | | | | for the | | | | | | | SM | | +----------+----------+------+----------+----------+----------+ | userE | Pei | O~C~ | 0..1 | the | | | quipment | | | | identi | | | Info | | | | fication | | | | | | | of the | | | | | | | terminal | | +----------+----------+------+----------+----------+----------+ | userLoca | User | O~C~ | 0..1 | provides | | | tionInfo | Location | | | inf | | | | | | | ormation | | | | | | | on the | | | | | | | location | | +----------+----------+------+----------+----------+----------+ | ue | TimeZone | O~C~ | 0..1 | the UE | | | timeZone | | | | Time | | | | | | | Zone the | | | | | | | UE is | | | | | | | c | | | | | | | urrently | | | | | | | located | | +----------+----------+------+----------+----------+----------+ | rATType | RatType | O~C~ | 0..1 | The | | | | | | | identi | | | | | | | fication | | | | | | | of the | | | | | | | RAT | | | | | | | type. | | +----------+----------+------+----------+----------+----------+ | sMS | string | O~M~ | 0..1 | the | | | CAddress | | | | address | | | | | | | (e.g. | | | | | | | E.164) | | | | | | | of the | | | | | | | SMS | | | | | | | -service | | | | | | | centre | | | | | | | sending | | | | | | | the | | | | | | | Charging | | | | | | | Data | | | | | | | Request | | | | | | | used for | | | | | | | p | | | | | | | roducing | | | | | | | the | | | | | | | record. | | | | | | | (SMSC | | | | | | | Address) | | +----------+----------+------+----------+----------+----------+ | sM | integer | O~M~ | 0..1 | the data | | | DataCodi | | | | coding | | | ngScheme | | | | scheme | | | | | | | used | | | | | | | within | | | | | | | the SM. | | | | | | | The | | | | | | | inf | | | | | | | ormation | | | | | | | to | | | | | | | populate | | | | | | | this | | | | | | | field is | | | | | | | obtained | | | | | | | from | | | | | | | TP-DCS | | | | | | | header. | | +----------+----------+------+----------+----------+----------+ | sMMes | SMmes | O~M~ | 0..1 | id | | | sageType | sageType | | | entifies | | | | | | | the | | | | | | | message | | | | | | | that | | | | | | | t | | | | | | | riggered | | | | | | | the | | | | | | | ge | | | | | | | neration | | | | | | | of | | | | | | | charging | | | | | | | info | | | | | | | rmation. | | +----------+----------+------+----------+----------+----------+ | sMRe | Re | O~C~ | 0..1 | an | | | plyPathR | plyPathR | | | in | | | equested | equested | | | dication | | | | | | | of | | | | | | | whether | | | | | | | a reply | | | | | | | SM to an | | | | | | | original | | | | | | | SM was | | | | | | | r | | | | | | | equested | | | | | | | to | | | | | | | follow | | | | | | | the same | | | | | | | path as | | | | | | | id | | | | | | | entified | | | | | | | by the | | | | | | | TP-Re | | | | | | | ply-Path | | | | | | | (TP-RP) | | | | | | | flag. | | +----------+----------+------+----------+----------+----------+ | sMUserDa | string | O~C~ | 0..1 | carries | | | taHeader | | | | the user | | | | | | | data | | | | | | | header | | | | | | | e | | | | | | | xtracted | | | | | | | from the | | | | | | | user | | | | | | | data of | | | | | | | the SM. | | | | | | | The user | | | | | | | data | | | | | | | header | | | | | | | (TP-UDH) | | | | | | | is | | | | | | | s | | | | | | | pecified | | | | | | | in TS | | | | | | | 23.040 | | | | | | | [x]. | | +----------+----------+------+----------+----------+----------+ | sMStatus | string | O~C~ | 0..1 | the | | | | | | | inf | | | | | | | ormation | | | | | | | from the | | | | | | | T | | | | | | | P-Status | | | | | | | field in | | | | | | | a | | | | | | | Statu | | | | | | | s-Report | | | | | | | TPDU | | +----------+----------+------+----------+----------+----------+ | sMDisch | DateTime | O~C~ | 0..1 | the time | | | argeTime | | | | as | | | | | | | sociated | | | | | | | with the | | | | | | | event | | | | | | | being | | | | | | | reported | | | | | | | in the | | | | | | | SM | | | | | | | Status | | | | | | | field. | | | | | | | This | | | | | | | inf | | | | | | | ormation | | | | | | | is only | | | | | | | ap | | | | | | | plicable | | | | | | | to | | | | | | | delivery | | | | | | | report | | | | | | | charging | | | | | | | pro | | | | | | | cedures. | | +----------+----------+------+----------+----------+----------+ | numb | Uint32 | O~C~ | 0..1 | the | | | erofMess | | | | number | | | agesSent | | | | of SMSs | | | | | | | sent by | | | | | | | the IMS | | | | | | | app | | | | | | | lication | | | | | | | or the | | | | | | | total | | | | | | | number | | | | | | | of short | | | | | | | messages | | | | | | | when | | | | | | | this SM | | | | | | | is part | | | | | | | of | | | | | | | conc | | | | | | | atenated | | | | | | | short | | | | | | | message, | | | | | | | if | | | | | | | app | | | | | | | licable. | | +----------+----------+------+----------+----------+----------+ | sMSer | SMSer | O~C~ | 0..1 | the type | | | viceType | viceType | | | of SM | | | | | | | service | | | | | | | that | | | | | | | caused | | | | | | | the | | | | | | | charging | | | | | | | inte | | | | | | | raction. | | | | | | | It is | | | | | | | only | | | | | | | ap | | | | | | | plicable | | | | | | | for SM | | | | | | | suppl | | | | | | | ementary | | | | | | | service | | | | | | | pro | | | | | | | cedures. | | +----------+----------+------+----------+----------+----------+ | sMSequen | Uint32 | O~C~ | 0..1 | the | | | ceNumber | | | | sequence | | | | | | | number | | | | | | | of this | | | | | | | SM | | | | | | | within | | | | | | | the | | | | | | | conc | | | | | | | atenated | | | | | | | short | | | | | | | message | | +----------+----------+------+----------+----------+----------+ | s | Uint32 | C | 0..1 | the | | | MSresult | | | | result | | | | | | | of the | | | | | | | a | | | | | | | ttempted | | | | | | | SM | | | | | | | tran | | | | | | | saction, | | | | | | | if | | | | | | | unsuc | | | | | | | cessful. | | | | | | | | | | | | | | This | | | | | | | field is | | | | | | | only for | | | | | | | offline | | | | | | | c | | | | | | | harging. | | +----------+----------+------+----------+----------+----------+ | submis | DateTime | O~C~ | 0..1 | the | | | sionTime | | | | t | | | | | | | imestamp | | | | | | | of when | | | | | | | the | | | | | | | s | | | | | | | ubmitted | | | | | | | SM | | | | | | | arrived | | | | | | | at the | | | | | | | ori | | | | | | | ginating | | | | | | | SMS Node | | +----------+----------+------+----------+----------+----------+ | sM | SM | O~C~ | 0..1 | any | | | priority | Priority | | | priority | | | | | | | inf | | | | | | | ormation | | | | | | | as | | | | | | | sociated | | | | | | | with an | | | | | | | SM | | +----------+----------+------+----------+----------+----------+ | messageR | string | O~M~ | 0..1 | the | | | eference | | | | identity | | | | | | | used to | | | | | | | identify | | | | | | | an SM in | | | | | | | the SMS | | | | | | | node | | | | | | | as | | | | | | | sociated | | | | | | | with | | | | | | | entity | | | | | | | that | | | | | | | s | | | | | | | ubmitted | | | | | | | it | | +----------+----------+------+----------+----------+----------+ | mes | Uint32 | O~M~ | 0..1 | the | | | sageSize | | | | total | | | | | | | number | | | | | | | of short | | | | | | | messages | | | | | | | when | | | | | | | this SM | | | | | | | is part | | | | | | | of | | | | | | | conc | | | | | | | atenated | | | | | | | short | | | | | | | message | | +----------+----------+------+----------+----------+----------+ | mess | Mess | O~M~ | 0..1 | implem | | | ageClass | ageClass | | | entation | | | | | | | d | | | | | | | ependent | | | | | | | the | | | | | | | value | | | | | | | selected | | | | | | | for a | | | | | | | specific | | | | | | | tran | | | | | | | saction. | | +----------+----------+------+----------+----------+----------+ | deliver | Deliver | O~C~ | 0..1 | i | | | yReportR | yReportR | | | ndicates | | | equested | equested | | | whether | | | | | | | a | | | | | | | delivery | | | | | | | report | | | | | | | is | | | | | | | r | | | | | | | equested | | | | | | | by the | | | | | | | SM | | | | | | | or | | | | | | | iginator | | +----------+----------+------+----------+----------+----------+
###### 6.1.6.2.3.3 Type OriginatorInfo
Table 6.1.6.2.3.3-1: Definition of type OriginatorInfo
* * *
Attribute name Data type P Cardinality Description Applicability
originatorSUPI supi O~M~ 0..1 SUPI of the originator of the SMS  
originatorGPSI gpsi O**~C~** 0..1 GPSI of the originator of the SMS  
originatorOtherAddress SMAddressInfo O~M~ 0..1 the address of the recipient of
the SM, when different from SUPI and GPSI  
originatorReceivedAddress SMAddressInfo O**~C~** 0..1 original, unmodified
address of the originator of the SM, as received by the SMS node, in case
address manipulation (such as number plan corrections) have been applied in
the SMS node.  
originatorSCCP Address string O**~C~** 0..1 SCCP calling address used to
receive the SM at the SMS node  
sMOriginatorInterface Interface O~M~ 0..1 Provide the information describing
the interface on which the SM was received by the SMS node.  
sMOriginatorProtocolId string O**~C~** 0..1 the protocol used for the SM by
originator
* * *
###### 6.1.6.2.3.4 Type RecipientInfo
Table 6.1.6.2.3.4-1: Definition of type RecipientInfo
* * *
Attribute name Data type P Cardinality Description Applicability recipientSUPI
supi O~M~ 0..1 SUPI of the recipient of the SM, as received by the SMS Node  
recipientGPSI gpsi O**~C~** 0..1 GPSI of the recipient of the SM, as received
by the SMS Node  
recipientOtherAddress Array(recipientAddress) O~C~ 0..N the address of the
recipient of the SM, as received by the SMS Node, when different from SUPI and
GPSI  
recipientReceivedAddress Array(SMAddressInfo) O~C~ 0..N original, unmodified
address of the recipient of the SM, as received by the SMS node, in case
address manipulation (such as number plan corrections) have been applied in
the SMS node.  
recipientSCCPAddress string O~C~ 0..1 SCCP called address used by the SMS node
to onward deliver the SM  
sMDestinationInterface SMInterface O~M~ 0..1 containing information describing
the interface on which the SM was requested to be delivered  
sMRecipientProtocolId string O~C~ 0..1 holds the TP-PROTOCOL-ID (TP-PID)
* * *
###### 6.1.6.2.3.5 Type SMAddressInfo
Table 6.1.6.2.3.5-1: Definition of type SMAddressInfo
* * *
Attribute name Data type P Cardinality Description Applicability sMaddressType
SMAddressType O~C~ 0..1 the type of address carried  
sMaddressData string O~C~ 0..1 the address information and formatted according
type of address  
sMaddressDomain SMAddressDomain O~C~ 0..1 the domain/network to which the
associated address resides
* * *
###### 6.1.6.2.3.6 Type RecipientAddress
Table 6.1.6.2.3.6-1: Definition of type RecipientAddress
* * *
Attribute name Data type P Cardinality Description Applicability
recipientAddressInfo SMAddressInfo O~C~ 0..1 indicates the type of address
carried  
sMaddresseeType SMAddresseeType O~C~ 0..1 identifies the how the recipient is
addressed in the header of an MM
* * *
###### 6.1.6.2.3.7 Type MessageClass
Table 6.1.6.2.3.7-1: Definition of type MessageClass
* * *
Attribute name Data type P Cardinality Description Applicability
classIdentifier ClassIdentifier O~C~ 0..1 indicate the class identifier  
tokenText string O~C~ 0..1 contains extension information
* * *
###### 6.1.6.2.3.8 Type SMAddressDomain
Table 6.1.6.2.3.8-1: Definition of type SMAddressDomain
* * *
Attribute name Data type P Cardinality Description Applicability domainName
string O~C~ 0..1 represents a fully qualified domain name (FQDN).  
3GPPIMSIMCCMNC string O~C~ 0..1 MCC and MNC extracted from the user's IMSI
(first 5 or 6 digits, as applicable from the presented IMSI.
* * *
###### 6.1.6.2.3.9 Type SMInterface
Table 6.1.6.2.3.9-1: Definition of type SMInterface
* * *
Attribute name Data type P Cardinality Description Applicability interfaceId
string O~C~ 0..1 the interface identification provided by the messaging node
(originator/destination).  
interfaceText string O~C~ 0..1 It is the consolidation information about the
application associated with the charging event  
interfacePort string O~C~ 0..1 the port-identification or contains information
about the transport layer port used by the application associated with the
charging event  
interfaceType InterfaceType O~C~ 0..1 type of interface / nature of the
transaction in the messaging node for which the charging event occurs
* * *
#### 6.1.6.3 Simple data types and enumerations
##### 6.1.6.3.1 Introduction
This subclause defines simple data types and enumerations that can be
referenced from data structures defined in the previous subclauses.
##### 6.1.6.3.2 Simple data types
The simple data types defined in table 6.1.6.3.2-1 shall be supported.
Table 6.1.6.3.2-1: Simple data types
* * *
Type Name Type Definition Description Applicability Diagnostics integer a more
detailed cause value from SMF  
IPFilterRule string filter rules corresponding to services
* * *
##### 6.1.6.3.3 Enumeration: NotificationType
Table 6.1.6.3.3-1: Enumeration NotificationType
* * *
Enumeration value Description Applicability REAUTHORIZATION This value is used
to indicate re-authorization.  
ABORT_CHARGING This value is used to indicate termination of charging for PDU
session.
* * *
##### 6.1.6.3.4 Enumeration: NodeFunctionality
Table 6.1.6.3.4-1: Enumeration NodeFunctionality
* * *
Enumeration value Description Applicability SMF This field identifies that NF
is a SMF.  
AMF This field identifies that NF is a AMF.  
SMSF This field identifies that NF service consumer is a SMSF.
* * *
##### 6.1.6.3.5 Enumeration: ChargingCharacteristicsSelectionMode
Table 6.1.6.3.5-1: Enumeration ChargingCharacteristicsSelectionMode
* * *
Enumeration value Description Applicability HOME_DEFAULT the subscriber
belongs to the same PLMN as the SMF  
ROAMING_DEFAULT the subscriber belongs to same PLMN and the AMF belongs to a
different PLMN  
VISITING_DEFAULT the subscriber belongs to a different PLMN
* * *
##### 6.1.6.3.6 Enumeration: TriggerType
Table 6.1.6.3.6-1: Enumeration TriggerType
+-------------------------+-------------------------+---------------+ | Enumeration value | Description | Applicability | +-------------------------+-------------------------+---------------+ | QUOTA_THRESHOLD | the quota threshold has | | | | been reached | | +-------------------------+-------------------------+---------------+ | QHT | the quota holding time | | | | specified in a previous | | | | response has been hit | | | | (i.e. the quota has | | | | been unused for that | | | | period of time) | | +-------------------------+-------------------------+---------------+ | FINAL | a service normal | | | | termination has | | | | occurred | | +-------------------------+-------------------------+---------------+ | QUOTA_EXHAUSTED | the quota has been | | | | exhausted | | +-------------------------+-------------------------+---------------+ | VALIDITY_TIME | the credit | | | | authorization lifetime | | | | provided from CHF has | | | | expired | | +-------------------------+-------------------------+---------------+ | OTHER_QUOTA_TYPE | usage reporting of the | | | | particular quota type | | | | indicated in the used | | | | unit container where it | | | | appears is that, for a | | | | multi-dimensional | | | | quota, one reached a | | | | trigger condition and | | | | the other quota is | | | | being reported. | | +-------------------------+-------------------------+---------------+ | FORCED_REAUTHORISATION | a Server initiated | | | | re-authorization | | | | procedure, i.e. receipt | | | | of notify service | | | | operation | | +-------------------------+-------------------------+---------------+ | UNIT_C | the unit count | | | OUNT_INACTIVITY_TIMER | inactivity timer has | | | | expired | | +-------------------------+-------------------------+---------------+ | ABNORMAL_RELEASE | a service abnormal | | | | termination has | | | | occurred. | | +-------------------------+-------------------------+---------------+ | QOS_CHANGE | In request message, | | | | this value is used to | | | | indicate that QoS | | | | change has happened. | | | | Any of elements of | | | | QoSData may result in | | | | QoS change. | | | | | | | | In response message, | | | | this value is used to | | | | indicate that a change | | | | of authorized QoS shall | | | | cause the service | | | | consumer to ask for a | | | | re-authorization of the | | | | associated quota | | +-------------------------+-------------------------+---------------+ | VOLUME_LIMIT | Volume limit has been | | | | reached. | | +-------------------------+-------------------------+---------------+ | TIME_LIMIT | Time limit has been | | | | reached | | +-------------------------+-------------------------+---------------+ | EVENT_LIMIT | Event limit has been | | | | reached | | +-------------------------+-------------------------+---------------+ | PLMN_CHANGE | PLMN has been changed. | | +-------------------------+-------------------------+---------------+ | USER_LOCATION_CHANGE | In request message, | | | | this value is used to | | | | indicate that User | | | | location has been | | | | changed. | | | | | | | | In response message, | | | | this value is used to | | | | indicate that a change | | | | in the end user | | | | location shall cause | | | | the service consumer to | | | | ask for a | | | | re-authorization of the | | | | associated quota | | +-------------------------+-------------------------+---------------+ | RAT_CHANGE | In request message, | | | | this value is used to | | | | indicate that RAT type | | | | has been changed. | | | | | | | | In response message, | | | | this value is used to | | | | indicate that a change | | | | in the radio access | | | | technology shall cause | | | | the service consumer to | | | | ask for a | | | | re-authorization of the | | | | associated quota | | +-------------------------+-------------------------+---------------+ | SESSION_AMBR_CHANGE | In request message, | | | | this value is used to | | | | indicate that Session | | | | AMBR has been changed. | | | | | | | | In response message, | | | | this value is used to | | | | indicate that a change | | | | in the session AMBR | | | | shall cause the service | | | | consumer to ask for a | | | | re-authorization of the | | | | associated quota. | | +-------------------------+-------------------------+---------------+ | GFBR_GUA | this value is used to | | | RANTEED_STATUS_CHANGE | indicate that GBR | | | | targets for the | | | | indicated SDFs are | | | | changed | | | | (\"NOT_GUARANTEED\" or | | | | \"GUARANTEED\" again). | | +-------------------------+-------------------------+---------------+ | UE_TIMEZONE_CHANGE | In request message, | | | | this value is used to | | | | indicate that UE | | | | timezone has been | | | | changed. | | | | | | | | In response message, | | | | this value is used to | | | | indicate that a change | | | | in the time zone where | | | | the end user is located | | | | shall cause the service | | | | consumer to ask for a | | | | re-authorization of the | | | | associated quota. | | +-------------------------+-------------------------+---------------+ | TARIFF_TIME_CHANGE | Tariff time change has | | | | happened. | | +-------------------------+-------------------------+---------------+ | MAX_ | Max number of change | | | NUMBER_OF_CHANGES_IN | has been reached | | | CHARGING_CONDITIONS | | | +-------------------------+-------------------------+---------------+ | M | Management intervention | | | ANAGEMENT_INTERVENTION | | | +-------------------------+-------------------------+---------------+ | CHANG | In request message, | | | E_OF_UE_PRESENCE_IN | this value is used to | | | PR | indicate that Change of | | | ESENCE_REPORTING_AREA | UE presence in PRA has | | | | happened. | | | | | | | | In response message, | | | | this value is used to | | | | indicate a request of | | | | reporting the event | | | | that the user | | | | enters/leaves the | | | | area(s) as indicated in | | | | the | | | | presenceReportingArea | | | | Attribute | | +-------------------------+-------------------------+---------------+ | CHANGE_OF_3GPP | In request message, | | | _PS_DATA_OFF_STATUS | this value is used to | | | | indicate that Change of | | | | 3GPP PS Data off status | | | | has happened. | | | | | | | | In response message, | | | | this value is used to | | | | indicate that a change | | | | in the 3GPP PS Data off | | | | status shall cause the | | | | service consumer to ask | | | | for a re-authorization | | | | of the associated quota | | +-------------------------+-------------------------+---------------+ | SERVING_NODE_CHANGE | A serving node (e.g., | | | | AMF) change in the NF | | | | Consumer | | +-------------------------+-------------------------+---------------+ | REMOVAL_OF_UPF | A used UPF is removed | | +-------------------------+-------------------------+---------------+ | ADDITION_OF_UPF | A new UPF is added. | | +-------------------------+-------------------------+---------------+ | START_ | A Service Data Flow has | | | OF_SERVICE_DATA_FLOW | started | | +-------------------------+-------------------------+---------------+
##### 6.1.6.3.7 Enumeration: FinalUnitAction
Table 6.1.6.3.7-1: Enumeration FinalUnitAction
+-------------------+--------------------------------+---------------+ | Enumeration value | Description | Applicability | +-------------------+--------------------------------+---------------+ | TERMINATE | The service consumer should | | | | terminate the service session. | | +-------------------+--------------------------------+---------------+ | REDIRECT | The service consumer should | | | | redirect the user to the | | | | address specified in the | | | | redirectServerAddress | | | | attribute. | | +-------------------+--------------------------------+---------------+ | RESTRICT_ACCESS | The service consumer should | | | | restrict the user access | | | | according to the IP packet | | | | filters defined in the | | | | restrictionFilterRule | | | | attribute or | | | | | | | | according to the IP packet | | | | filters identified by the | | | | filterId attribute. | | +-------------------+--------------------------------+---------------+
##### 6.1.6.3.8 Enumeration: RedirectAddressType
Table 6.1.6.3.8-1: Enumeration RedirectAddressType
* * *
Enumeration value Description Applicability IPV4 the redirect server address
is IPV4.  
IPV6 the redirect server address is IPV6.  
URL the redirect server address is URL.
* * *
##### 6.1.6.3.9 Enumeration: TriggerCategory
Table 6.1.6.3.9-1: Enumeration TriggerCategory
* * *
Enumeration value Description Applicability IMMEDIATE_REPORT chargeable events
for which, when occurring, the charging data generated by the NF Consumer
triggers a Charging Event towards the CHF.  
DEFERRED_REPORT chargeable events for which, when occurring, the charging data
generated by the NF Consumer, does not trigger a Charging Event towards the
CHF .
* * *
##### 6.1.6.3.10 Enumeration: QuotaManagementIndicator
Table 6.1.6.3.10-1: Enumeration QuotaManagementIndicator
* * *
Enumeration value Description Applicability ONLINE_CHARGING quota management
control  
OFFLINE_CHARGING without quota management control
* * *
##### 6.1.6.3.11 Enumeration: FailureHandling
Table 6.1.6.3.11-1: Enumeration FailureHandling
+-----------------------+-------------------------+---------------+ | Enumeration value | Description | Applicability | +-----------------------+-------------------------+---------------+ | TERMINATE | the service shall only | | | | be granted for as long | | | | as there is a | | | | connection between NF | | | | consumer and the CHF. | | +-----------------------+-------------------------+---------------+ | CONTINUE | the NF consumer should | | | | re-send and continue | | | | the request to an | | | | alternative server in | | | | the case of transport | | | | temporary failures, | | | | provided that a | | | | failover procedure is | | | | supported in the CHF | | | | and the NF consumer, | | | | and that an alternative | | | | server is available. | | | | Otherwise, the service | | | | SHOULD be granted, even | | | | if charging data | | | | request can\'t be | | | | delivered. | | +-----------------------+-------------------------+---------------+ | RETRY_AND_TERMINATE | the NF consumer should | | | | re-send the | | | | | | | | request to an | | | | alternative server in | | | | the case of transport | | | | temporary failures, | | | | provided that a | | | | failover procedure is | | | | supported in the CHF | | | | and NF consumer, and | | | | that an alternative | | | | server is available. | | | | Otherwise, the service | | | | should not be granted | | | | when the charging data | | | | request can\'t be | | | | delivered. | | +-----------------------+-------------------------+---------------+
##### 6.1.6.3.12 Enumeration: SessionFailover
Table 6.1.6.3.12-1: Enumeration SessionFailover
+-------------------------+-------------------------+---------------+ | Enumeration value | Description | Applicability | +-------------------------+-------------------------+---------------+ | F | The | | | AILOVER_NOT_SUPPORTED | Nchf_ConvergedCharging | | | | messages could not be | | | | moved to an alternative | | | | destination in the case | | | | of communication | | | | failure. | | | | | | | | This is the default | | | | behaviour if the | | | | attribute is not | | | | present in the | | | | response. | | +-------------------------+-------------------------+---------------+ | FAILOVER_SUPPORTED | The Nchf_ | | | | ConvergedCharging | | | | messages should be | | | | moved to an alternative | | | | destination in the case | | | | of communication | | | | failure. | | +-------------------------+-------------------------+---------------+
##### 6.1.6.3.13 Enumeration: 3GPPPSDataOffStatus
Table 6.1.6.3.13-1: Enumeration 3GPPPSDataOffStatus
* * *
Enumeration value Description Applicability ACTIVE 3GPP PS data off status is
active.  
INACTIVE 3GPP PS data off status is inactive.
* * *
##### 6.1.6.3.14 Enumeration: ResultCode
Table 6.1.6.3.14-1: Enumeration ResultCode
+-------------------------+-------------------------+---------------+ | Enumeration value | Description | Applicability | +-------------------------+-------------------------+---------------+ | SUCCESS | The CHF grants the | | | | service to the | | | | end-user. | | | | | | | | This applies to the | | | | rating group. | | +-------------------------+-------------------------+---------------+ | END | The CHF denies the | | | _USER_SERVICE_DENIED | service request due to | | | | end-user service | | | | restrictions or | | | | limitations related to | | | | the end-user. If the | | | | request contained used | | | | units they shall be | | | | deducted, if | | | | applicable. | | | | | | | | This applies to the | | | | rating group. | | +-------------------------+-------------------------+---------------+ | QUOTA_MANA | The CHF determines that | | | GEMENT_NOT_APPLICABLE | the service can be | | | | granted to the end user | | | | without quota | | | | management, and used | | | | units shall be | | | | reported. | | | | | | | | This applies to the | | | | rating group. | | +-------------------------+-------------------------+---------------+ | QUOTA_LIMIT_REACHED | The CHF denies the | | | | service request since | | | | the end user\'s account | | | | could not cover the | | | | requested service. If | | | | the request contained | | | | used units they shall | | | | be deducted, if | | | | applicable. | | | | | | | | This applies to the | | | | rating group. | | +-------------------------+-------------------------+---------------+ | END_ | The CHF denies the | | | USER_SERVICE_REJECTED | service request in | | | | order to terminate the | | | | service for which | | | | credit is requested. | | | | | | | | This applies to the | | | | rating group. | | +-------------------------+-------------------------+---------------+ | RATING_FAILED | The CHF determines that | | | | the service cannot be | | | | rated due to | | | | insufficient rating | | | | input, incorrect | | | | parameter combination | | | | or unrecognized | | | | parameter, or parameter | | | | value. | | | | | | | | This applies to the | | | | rating group. | | +-------------------------+-------------------------+---------------+
##### 6.1.6.3.15 Enumeration: PartialRecordMethod
Table 6.1.6.3.15-1: Enumeration PartialRecordMethod
* * *
Enumeration value Description Applicability DEFAULT Default method used for
partial records  
INDIVIDUAL Individual methods used for partial records
* * *
##### 6.1.6.3.16 Enumeration: RoamerInOut
The enumeration RoamerInOut indicates whether the user is an in-bound or out-
bound roamer.
Table 6.1.6.3.16-1: Enumeration RoamerInOut
* * *
Enumeration value Description Applicability IN_BOUND In-bound roamer.  
OUT_BOUND Out-bound roamer.
* * *
##### 6.1.6.3.17 Void
##### 6.1.6.3.18 Enumeration: SMMessageType
Table 6.1.6.3.18-1: Enumeration SMMessageType
* * *
Enumeration value Description Applicability SUBMISSION The SMS message type is
submission.  
DELIVERY_REPORT The SMS message type is delivery report.  
SM_SERVICE_REQUEST The SMS message type is SMS service request.  
DELIVERY The SMS message type is delivery or "to deliver"
* * *
##### 6.1.6.3.19 Enumeration: SMPriority
Table 6.1.6.3.19-1: Enumeration SMPriority
* * *
Enumeration value Description Applicability LOW low priority  
NORMAL normal priority  
HIGH high priority
* * *
##### 6.1.6.3.20 Enumeration: DeliveryReportRequested
Table 6.1.6.3.20-1: Enumeration DeliveryReportRequested
* * *
Enumeration value Description Applicability YES Delivey report is requested.  
NO The delivery report is not requested.
* * *
##### 6.1.6.3.21 Enumeration: InterfaceType
Table 6.1.6.3.21-1: Enumeration InterfaceType
* * *
Enumeration value Description Applicability UNKNOWN Interface type is unknown,  
MOBILE_ORIGINATING Interface type is mobile originated.  
MOBILE_TERMINATING Interface type is mobile terminated.  
APPLICATION_ORIGINATING Interface type is application originated.  
APPLICATION_TERMINATION Interface type is application terminated.
* * *
##### 6.1.6.3.22 Enumeration: ClassIdentifier
Table 6.1.6.3.22-1: Enumeration ClassIdentifier
* * *
Enumeration value Description Applicability PERSONAL The class identifier is
personal.  
ADVERTISEMENT The class identifier is advertisement.  
INFORMATIONAL The class identifier is informational.  
AUTO The class identifier is auto.
* * *
##### 6.1.6.3.23 Enumeration: SMAddressType
Table 6.1.6.3.23-1: Enumeration SMAddressType
* * *
Enumeration value Description Applicability EMAIL_ADDRESS The carried address
type is EMAIL.  
MSISDN The carried address type is MSISDN.  
IPV4_ ADDRESS The carried address type is IPv4.  
IPV6_ ADDRESS The carried address type is IPv6.  
NUMERIC_SHORTCODE The carried address type is numeric shortcode.  
ALPHANUMERIC_SHORTCODE The carried address type is alphanumeric shortcode.  
OTHER The carried address type is other.  
IMSI The carried address type is IMSI
* * *
##### 6.1.6.3.24 Enumeration: SMAddresseeType
Table 6.1.6.3.24-1: Enumeration SMAddresseeType
* * *
Enumeration value Description Applicability TO The addressee type is TO.  
CC The addressee type is CC.  
BCC The addressee type is BCC.
* * *
##### 6.1.6.3.25 Enumeration: SMServiceType
Table 6.1.6.3.25-1: Enumeration SMServiceType
* * *
Enumeration value Description Applicability
VAS4SMS_SHORT_MESSAGE_CONTENT_PROCESSING The type of SM service is VAS4SMS
short message content processing.  
VAS4SMS_SHORT_MESSAGE_FORWARDING The type of SM service is VAS4SMS short
message forwarding.  
VAS4SMS_SHORT_MESSAGE_FORWARDING _MULTIPLE_SUBSCRIPTIONS The type of SM
service is VAS4SMS short message forwarding multiple subscriptions.  
VAS4SMS_SHORT_MESSAGE_FILTERING The type of SM service is VAS4SMS short
message filtering.  
VAS4SMS_SHORT_MESSAGE_RECEIPT The type of SM service is VAS4SMS short message
receipt.  
VAS4SMS_SHORT_MESSAGE_NETWORK_STORAGE The type of SM service is VAS4SMS short
message network storage.  
VAS4SMS_SHORT_MESSAGE_TO_MULTIPLE_DESTINATIONS The type of SM service is
VAS4SMS short message to multiple destinations.  
VAS4SMS_SHORT_MESSAGE_VIRTUAL_PRIVATE_NETWORK(VPN) The type of SM service is
VAS4SMS short message virtual private network.  
VAS4SMS_SHORT_MESSAGE_AUTO_REPLY The type of SM service is VAS4SMS short
message auto reply.  
VAS4SMS_SHORT_MESSAGE_PERSONAL_SIGNATURE The type of SM service is VAS4SMS
short message personal signature.  
VAS4SMS_SHORT_MESSAGE_DEFERRED_DELIVERY The type of SM service is VAS4SMS
short message deferred delivery.
* * *
##### 6.1.6.3.26 Enumeration: ReplyPathRequested
Table 6.1.6.3.26.1: Enumeration ReplyPathRequested
* * *
Enumeration value Description Applicability NO_REPLY_PATH_SET The reply SM to
an original SM was requested to follow the same path.  
REPLY_PATH_SET The reply SM to an original SM was not requested to follow the
same path.
* * *
##### 6.1.6.3.27 Enumeration: DnnSelectionMode
Table 6.1.6.3.27.1: Enumeration DnnSelectionMode
* * *
Enumeration value Description \"VERIFIED\" UE or network provided DNN,
subscription verified \"UE_DNN_NOT_VERIFIED\" UE provided DNN, subscription
not verified \"NW_DNN_NOT_VERIFIED\" Network provided DNN, subscription not
verified
* * *
##### 6.1.6.3.28 Enumeration: EventType
**Table 6.1.6.3.28.1: Enumeration EventType**
* * *
**Enumeration value** **Description** **Applicability** IEC This value is used
to indicate immediate event charging.  
PEC This value is used to indicate post event charging.
* * *
#### 6.1.6.4 Data types describing alternative data types or combinations of
data types
None.
#### 6.1.6.5 Binary data
None.
### 6.1.7 Error handling
#### 6.1.7.1 General
HTTP error handling shall be supported as specified in subclause 5.2.4 of 3GPP
TS 29.500 [4].
For the Nchf_ConvergedCharging API, HTTP error responses shall be supported as
specified in subclause 4.8 of 3GPP TS 29.501 [2]. Protocol errors and
application errors specified in table 5.2.7.2-1 of 3GPP TS 29.500 [4] shall be
supported for an HTTP method if the corresponding HTTP status codes are
specified as mandatory for that HTTP method in table 5.2.7.1-1 of 3GPP TS
29.500 [4]. In addition, the requirements in the following subclauses shall
apply.
#### 6.1.7.2 Protocol Errors
In this Release of the specification, there are no additional protocol errors
applicable for the Nchf_ConvergedCharging API compared to the Protocol Error
Handling specified in subclause 5.2.7.2 of 3GPP TS 29.500 [7].
#### 6.1.7.3 Application errors
The application errors defined for the Nchf_ConvergedCharging API are listed
in table 6.1.7.3-1. The CHF shall include in the HTTP status code a
\"ProblemDetails\" data structure with the \"cause\" attribute indicating the
application error as listed in table 6.1.7.3-1. The common application errors
defined in the Table 5.2.7.2-1 in 3GPP TS 29.500 [7] may also be used for the
Npcf_ConvergedCharging service.
Table 6.1.7.3-1: Application errors
* * *
Application Error HTTP status code Description CHARGING_FAILED 400 Bad Request
The HTTP request is rejected because the set of session or subscriber
information needed by the CHF for charging or CDR creation is incomplete or
erroneous or not available. (E.g. Rating Group, subscriber information)
RE_AUTHORIZATION_FAILED 400 Bad Request The HTTP request is rejected because
the set of information needed by the NF Consumer (CTF) to report the usage is
incomplete or erroneous or not available. CHARGING_NOT_APPLICABLE 403
Forbidden The HTTP request is rejected by the CHF since it has been determined
that the service can be allowed to the end user without any charging or CDR
creation. USER_UNKNOWN 404 Not Found The HTTP request is rejected because the
end user specified in the request cannot be served by the CHF. END_USER
REQUEST_DENIED 403 Forbidden The HTTP request denied by the CHF due to
restrictions or limitations related to the end-user. QUOTA_LIMIT_REACHED 403
Forbidden The HTTP request denied by the CHF because the end user\'s account
could not cover the requested service. If the request contained used units
they are deducted, if applicable. END_USER_REQUEST_REJECTED 403 Forbidden The
HTTP request rejected by the CHF due to end-user restrictions or limitations.
* * *
### 6.1.8 Feature negotiation
The optional features in table 6.1.8-1 are defined for the
Nchf_ConvergedCharging API. They shall be negotiated using the extensibility
mechanism defined in subclause 6.6 of 3GPP TS 29.500 [299].
Table 6.1.8-1: Supported Features
* * *
Feature number Feature Name Description
* * *
# 7 Bindings of CDR field, Information Element and Resource Attribute
## 7.0 General
This clause aims to describe the mapping between the Service Charging
Information element, Resource Attribute and CDR field for 5G charging.
Table 7.1-1 and 7.2-1 describes the mapping of the Information Element,
Resource Attribute and CDR field of CHF-CDR for 5G charging.
## 7.1 Bindings of common CDR field, Information Element and Resource
Attribute
Table 7.1-1: Bindings of common CDR field, Information Element and Resource
Attribute
+----------------------+----------------------+----------------------+ | Information Element | CDR Field | Resource Attribute | +----------------------+----------------------+----------------------+ | Session Identifier | Charging Session | /{ ChargingDataRef | | | Identifier | }/ | +----------------------+----------------------+----------------------+ | | | **C | | | | hargingDataRequest** | +----------------------+----------------------+----------------------+ | Subscriber | Subscriber | / | | Identifier | Identifier | subscriberIdentifier | +----------------------+----------------------+----------------------+ | Charging Id | Charging Id | /chargingId | +----------------------+----------------------+----------------------+ | Invocation Timestamp | - | /invocationTimeStamp | +----------------------+----------------------+----------------------+ | Invocation Sequence | - | /invo | | Number | | cationSequenceNumber | +----------------------+----------------------+----------------------+ | One-time Event | - | /oneTimeEvent | +----------------------+----------------------+----------------------+ | NF Consumer | NF Information | /nfCo | | Identification | | nsumerIdentification | +----------------------+----------------------+----------------------+ | NF Name | NF Name | /nfConsumerI | | | | dentification/nFName | +----------------------+----------------------+----------------------+ | NF Address | NF Address | /nfConsumerIdentifi | | | | cation/nFIPv4Address | | | | | | | | /nfConsumerIdentifi | | | | cation/nFIPv6Address | | | | | | | | /nfConsumerI | | | | dentification/nFFqdn | +----------------------+----------------------+----------------------+ | NF PLMN ID | NF PLMN ID | /nfConsumerIde | | | | ntification/nFPLMNID | +----------------------+----------------------+----------------------+ | NF Functionality | Record Type | /nf | | | | ConsumerIdentificati | | | | on/nodeFunctionality | +----------------------+----------------------+----------------------+ | Notify URI | | /notifyUri | +----------------------+----------------------+----------------------+ | Service | Service | /serv | | Specification | Specification | iceSpecificationInfo | | Information | Information | | +----------------------+----------------------+----------------------+ | Multiple Unit Usage | List of Multiple | /multipleUnitUsage | | | Unit Usage | | +----------------------+----------------------+----------------------+ | Rating Group | Rating Group | /multipleU | | | | nitUsage/ratingGroup | +----------------------+----------------------+----------------------+ | Requested Unit | - | /multipleUni | | | | tUsage/requestedUnit | +----------------------+----------------------+----------------------+ | Time | - | /multipleUnitUsag | | | | e/requestedUnit/time | +----------------------+----------------------+----------------------+ | Total Volume | - | /mul | | | | tipleUnitUsage/reque | | | | stedUnit/totalVolume | +----------------------+----------------------+----------------------+ | Uplink Volume | - | /mult | | | | ipleUnitUsage/reques | | | | tedUnit/uplinkVolume | +----------------------+----------------------+----------------------+ | Downlink Volume | - | /multip | | | | leUnitUsage/requeste | | | | dUnit/downlinkVolume | +----------------------+----------------------+----------------------+ | Service Specific | - | /multipleUnit | | Units | | Usage/requestedUnit/ | | | | serviceSpecificUnits | +----------------------+----------------------+----------------------+ | Used Unit Container | Used Unit Container | /multipleUnitUsa | | | | ge/usedUnitContainer | +----------------------+----------------------+----------------------+ | Service Identifier | Service Identifier | /multi | | | | pleUnitUsage/usedUni | | | | tContainer/serviceId | +----------------------+----------------------+----------------------+ | Quota management | Quota management | / | | Indicator | Indicator | multipleUnitUsage/us | | | | edUnitContainer/quot | | | | aManagementIndicator | +----------------------+----------------------+----------------------+ | Triggers | Triggers | /mult | | | | ipleUnitUsage/usedUn | | | | itContainer/triggers | +----------------------+----------------------+----------------------+ | Trigger Timestamp | Trigger Timestamp | /multipleUnit | | | | Usage/usedUnitContai | | | | ner/triggerTimestamp | +----------------------+----------------------+----------------------+ | Time | Time | / | | | | multipleUnitUsage/us | | | | edUnitContainer/time | +----------------------+----------------------+----------------------+ | Total Volume | Total Volume | /multipl | | | | eUnitUsage/usedUnitC | | | | ontainer/totalVolume | +----------------------+----------------------+----------------------+ | Uplink Volume | Uplink Volume | /multiple | | | | UnitUsage/usedUnitCo | | | | ntainer/uplinkVolume | +----------------------+----------------------+----------------------+ | Downlink Volume | Downlink Volume | /multipleUn | | | | itUsage/usedUnitCont | | | | ainer/downlinkVolume | +----------------------+----------------------+----------------------+ | Service Specific | Service Specific | /multipleUnitUsag | | Unit | Unit | e/usedUnitContainer/ | | | | serviceSpecificUnits | +----------------------+----------------------+----------------------+ | Event Time Stamps | Event Time Stamps | /multipleUni | | | | tUsage/usedUnitConta | | | | iner/eventTimeStamps | +----------------------+----------------------+----------------------+ | Local Sequence | Local Sequence | /multipleUnitUsa | | Number | Number | ge/usedUnitContainer | | | | /localSequenceNumber | +----------------------+----------------------+----------------------+ | Triggers | Triggers | /triggers | +----------------------+----------------------+----------------------+ | | | **Ch | | | | argingDataResponse** | +----------------------+----------------------+----------------------+ | Invocation Timestamp | | /invocationTimeStamp | +----------------------+----------------------+----------------------+ | Invocation Sequence | | /invo | | Number | | cationSequenceNumber | +----------------------+----------------------+----------------------+ | Session Failover | - | /sessionFailover | +----------------------+----------------------+----------------------+ | Triggers | - | /triggers | +----------------------+----------------------+----------------------+ | Multiple Unit | - | /mul | | Information | | tipleUnitInformation | +----------------------+----------------------+----------------------+ | Result Code | - | /multipleUnitIn | | | | formation/resultCode | +----------------------+----------------------+----------------------+ | Rating Group | - | /multipleUnitInf | | | | ormation/ratingGroup | +----------------------+----------------------+----------------------+ | Granted Unit | - | /multipleUnitInf | | | | ormation/grantedUnit | +----------------------+----------------------+----------------------+ | Tariff Time Change | - | /multipleUnit | | | | Information/grantedU | | | | nit/tariffTimeChange | +----------------------+----------------------+----------------------+ | Time | - | / | | | | multipleUnitInformat | | | | ion/grantedUnit/time | +----------------------+----------------------+----------------------+ | Total Volume | - | /multipl | | | | eUnitInformation/gra | | | | ntedUnit/totalVolume | +----------------------+----------------------+----------------------+ | Uplink Volume | - | /multiple | | | | UnitInformation/gran | | | | tedUnit/uplinkVolume | +----------------------+----------------------+----------------------+ | Downlink Volume | - | /multipleUn | | | | itInformation/grante | | | | dUnit/downlinkVolume | +----------------------+----------------------+----------------------+ | Service Specific | - | /multipleUnitInfo | | Units | | rmation/grantedUnit/ | | | | serviceSpecificUnits | +----------------------+----------------------+----------------------+ | Triggers | - | /multipleUnit | | | | Information/triggers | +----------------------+----------------------+----------------------+ | Validity Time | - | /multipleUnitInfo | | | | rmation/validityTime | +----------------------+----------------------+----------------------+ | Quota Holding Time | - | / | | | | multipleUnitInformat | | | | ion/quotaHoldingTime | +----------------------+----------------------+----------------------+ | Final Unit | - | /mul | | Indication | | tipleUnitInformation | | | | /finalUnitIndication | +----------------------+----------------------+----------------------+ | Time Quota Threshold | - | /mu | | | | ltipleUnitInformatio | | | | n/timeQuotaThreshold | +----------------------+----------------------+----------------------+ | Volume Quota | - | /mult | | Threshold | | ipleUnitInformation/ | | | | volumeQuotaThreshold | +----------------------+----------------------+----------------------+ | Unit Quota Threshold | - | /mu | | | | ltipleUnitInformatio | | | | n/unitQuotaThreshold | +----------------------+----------------------+----------------------+ | Invocation Result | - | /invocationResult | +----------------------+----------------------+----------------------+ | Invocation Result | - | /invocati | | code | | onResult/error/cause | +----------------------+----------------------+----------------------+ | Failed parameter | - | /invocationResult | | | | /error/invalidParams | +----------------------+----------------------+----------------------+ | Failure Handling | - | /invocationRe | | | | sult/failureHandling | +----------------------+----------------------+----------------------+
## 7.2 Bindings for 5G data connectivity
Table 7.2-1: Bindings of 5G data connectivity CDR field, Information Element
and Resource Attribute
+----------------------+----------------------+----------------------+ | Information Element | CDR Field | Resource Attribute | +----------------------+----------------------+----------------------+ | | | **C | | | | hargingDataRequest** | +----------------------+----------------------+----------------------+ | Multiple Unit Usage | List of Multiple | /multipleUnitUsage | | | Unit Usage | | +----------------------+----------------------+----------------------+ | > UPF ID | > UPF ID | /mul | | | | tipleUnitUsage/uPFID | +----------------------+----------------------+----------------------+ | > Used Unit | > Used Unit | /multipleUnitUsa | | > Container | > Container | ge/usedUnitContainer | +----------------------+----------------------+----------------------+ | > PDU Container | > PDU Container | /multipleUnitUsage/u | | > Information | > Information | sedUnitContainer/pDU | | | | ContainerInformation | +----------------------+----------------------+----------------------+ | > Time of First | > Time of First | /multipleUnitUsag | | > Usage | > Usage | e/usedUnitContainer/ | | | | pDUContainerInformat | | | | ion/timeofFirstUsage | +----------------------+----------------------+----------------------+ | > Time of Last Usage | > Time of Last Usage | /multipleUnitUsa | | | | ge/usedUnitContainer | | | | /pDUContainerInforma | | | | tion/timeofLastUsage | +----------------------+----------------------+----------------------+ | > QoS Information | > QoS Information | /multipleUnitUs | | | | age/usedUnitContaine | | | | r/pDUContainerInform | | | | ation/qoSInformation | +----------------------+----------------------+----------------------+ | > AF Correlation | > AF Correlation | /mult | | > Information | > Information | ipleUnitUsage/usedUn | | | | itContainer/pDUConta | | | | inerInformation/aFCo | | | | rrelationInformation | +----------------------+----------------------+----------------------+ | > User Location | > User Location | /mul | | > Information | > Information | tipleUnitUsage/usedU | | | | nitContainer/pDUCont | | | | ainerInformation/use | | | | rLocationInformation | +----------------------+----------------------+----------------------+ | > UE Time Zone | > UE Time Zone | /multipleUn | | | | itUsage/usedUnitCont | | | | ainer/pDUContainerIn | | | | formation/uetimeZone | +----------------------+----------------------+----------------------+ | > RAT Type | > RAT Type | /multipl | | | | eUnitUsage/usedUnitC | | | | ontainer/pDUContaine | | | | rInformation/rATType | +----------------------+----------------------+----------------------+ | > Serving Network | > Serving Network | /multipleUnitU | | > Function ID | > Function ID | sage/usedUnitContain | | | | er/pDUContainerInfor | | | | mation/servingNodeID | +----------------------+----------------------+----------------------+ | > Presence Reporting | > Presence Reporting | /multipleUnit | | > Area Information | > Area Information | Usage/usedUnitContai | | | | ner/pDUContainerInfo | | | | rmation/presenceRepo | | | | rtingAreaInformation | +----------------------+----------------------+----------------------+ | > 3GPP PS Data Off | > 3GPP PS Data Off | /multipleUnitUsage/u | | > Status | > Status | sedUnitContainer/pDU | | | | ContainerInformation | | | | /3gppPSDataOffStatus | +----------------------+----------------------+----------------------+ | > Sponsor Identity | > Sponsor Identity | /multipleUnitUsa | | | | ge/usedUnitContainer | | | | /pDUContainerInforma | | | | tion/sponsorIdentity | +----------------------+----------------------+----------------------+ | > Application | > Application | /multipleUnitUs | | > Service Provider | > Service Provider | age/usedUnitContaine | | > Identity | > Identity | r/pDUContainerInform | | | | ation/applicationser | | | | viceProviderIdentity | +----------------------+----------------------+----------------------+ | > Charging Rule Base | > Charging Rule Base | / | | > Name | > Name | multipleUnitUsage/us | | | | edUnitContainer/pDUC | | | | ontainerInformation/ | | | | chargingRuleBaseName | +----------------------+----------------------+----------------------+ | PDU Session Charging | PDU Session Charging | /pDUSessio | | Information | Information | nChargingInformation | +----------------------+----------------------+----------------------+ | > Charging Id | > Charging Id | / | | | | pDUSessionChargingIn | | | | formation/chargingId | +----------------------+----------------------+----------------------+ | > User Information | > User Information | /pDUSe | | | | ssionChargingInforma | | | | tion/userInformation | +----------------------+----------------------+----------------------+ | > User Identifier | > User Identifier | /pDUSessionChargi | | | | ngInformation/userIn | | | | formation/servedGPSI | +----------------------+----------------------+----------------------+ | > User Equipment | > User Equipment | /pDUSes | | > Info | > Info | sionChargingInformat | | | | ion/userInformation/ | | | | servedPEI | +----------------------+----------------------+----------------------+ | > Unauthenticated | > Unauthenticated | /pDUSe | | > Flag | > Flag | ssionChargingInforma | | | | tion/userInformation | | | | /unauthenticatedFlag | +----------------------+----------------------+----------------------+ | > Roamer In Out | > Roamer In Out | /pDUSessionChargin | | | | gInformation/userInf | | | | ormation/roamerInOut | +----------------------+----------------------+----------------------+ | > User Location Info | > User Location Info | /pDUSes | | | | sionChargingInformat | | | | ion/userLocationinfo | +----------------------+----------------------+----------------------+ | > User Location Time | > User Location Time | /pDUSes | | | | sionChargingInformat | | | | ion/userLocationTime | +----------------------+----------------------+----------------------+ | > UE Time Zone | > UE Time Zone | / | | | | pDUSessionChargingIn | | | | formation/uEtimeZone | +----------------------+----------------------+----------------------+ | > Presence Reporting | > Presence Reporting | /pD | | > Area Information | > Area Information | USessionChargingInfo | | | | rmation/presenceRepo | | | | rtingAreaInformation | +----------------------+----------------------+----------------------+ | > PDU Session | > PDU Session | /pDUSessionC | | > Information | > Information | hargingInformation/p | | | | duSessionInformation | +----------------------+----------------------+----------------------+ | > PDU Session ID | > PDU Session ID | /pDUS | | | | essionChargingInform | | | | ation/pduSessionInfo | | | | rmation/pduSessionID | +----------------------+----------------------+----------------------+ | > Network Slice | > Network Slice | /pDUSession | | > Instance | > Instance | ChargingInformation/ | | > Identifier | > Identifier | pduSessionInformatio | | | | n/networkSlicingInfo | +----------------------+----------------------+----------------------+ | > PDU Type | > PDU Type | /pDUSessionChargingI | | | | nformation/pduSessio | | | | nInformation/pduType | +----------------------+----------------------+----------------------+ | > PDU Address | > PDU Address | /pD | | | | USessionChargingInfo | | | | rmation/pduSessionIn | | | | formation/pduAddress | +----------------------+----------------------+----------------------+ | > PDU IP Address | > PDU IP Address | /pDUSessionChargin | | | | gInformation/pduSess | | | | ionInformation/pduAd | | | | dress/pduIPv4Address | | | | | | | | /pDUSess | | | | ionChargingInformati | | | | on/pduSessionInforma | | | | tion/pduAddress/pduI | | | | Pv6Addresswithprefix | +----------------------+----------------------+----------------------+ | > PDU Address prefix | > PDU Address prefix | /pDUSe | | > length | > length | ssionChargingInforma | | | | tion/pduSessionInfor | | | | mation/pduAddress/pd | | | | uAddressprefixlength | +----------------------+----------------------+----------------------+ | > Dynamic Address | > Dynamic Address | /pDUSe | | > Flag | > Flag | ssionChargingInforma | | | | tion/pduSessionInfor | | | | mation/pduAddress/iP | | | | v4dynamicAddressFlag | | | | | | | | pDUSe | | | | ssionChargingInforma | | | | tion/pduSessionInfor | | | | mation/pduAddress/iP | | | | v6dynamicAddressFlag | +----------------------+----------------------+----------------------+ | > SSC Mode | > SSC Mode | /pDUSessionChargingI | | | | nformation/pduSessio | | | | nInformation/sscMode | +----------------------+----------------------+----------------------+ | > SUPI PLMN ID | > SUPI PLMN ID | /pDUSessionChargingI | | | | nformation/pduSessio | | | | nInformation/hPlmnId | +----------------------+----------------------+----------------------+ | > Serving Network | > Serving Network | /pDUSessionChargi | | > Function ID | > Function ID | ngInformation/pduSes | | | | sionInformation/serv | | | | ingNetworkFunctionID | +----------------------+----------------------+----------------------+ | > Serving CN PLMN ID | > Serving CN PLMN ID | /pDUSess | | | | ionChargingInformati | | | | on/pduSessionInforma | | | | tion/servingCNPlmnId | +----------------------+----------------------+----------------------+ | > RAT Type | > RAT Type | /pDUSessionChargingI | | | | nformation/pduSessio | | | | nInformation/ratType | +----------------------+----------------------+----------------------+ | > Data Network Name | > Data Network Name | /pDUSessionChargin | | > Identifier | > Identifier | gInformation/pduSess | | | | ionInformation/dnnid | +----------------------+----------------------+----------------------+ | > DNN Selection Mode | > DNN Selection Mode | /pDUSessi | | | | onChargingInformatio | | | | n/pduSessionInformat | | | | ion/dnnselectionMode | +----------------------+----------------------+----------------------+ | > Authorized QoS | > Authorized Qos | /pDUSessionChargi | | > information | > Information | ngInformation/pduSes | | | | sionInformation/auth | | | | orizedqoSInformation | +----------------------+----------------------+----------------------+ | > Subscribed QoS | > Subscribed QoS | /pDUSessionChargi | | > Information | > Information | ngInformation/pduSes | | | | sionInformation/subs | | | | cribedQoSInformation | +----------------------+----------------------+----------------------+ | > Authorized | > Authorized | /pDUSessionCha | | > Session-AMBR | > Session-AMBR | rgingInformation/pdu | | | | SessionInformation/a | | | | uthorizedSessionAMBR | +----------------------+----------------------+----------------------+ | > Subscribed | > Subscribed | /pDUSessionCha | | > Session-AMBR | > Session-AMBR | rgingInformation/pdu | | | | SessionInformation/s | | | | ubscribedSessionAMBR | +----------------------+----------------------+----------------------+ | > Charging | > Charging | /pDUSessionCharg | | > Characteristics | > Characteristics | ingInformation/pduSe | | | | ssionInformation/cha | | | | rgingCharacteristics | +----------------------+----------------------+----------------------+ | > Charging | > Charging | /pDUSessi | | > Characteristics | > Characteristics | onChargingInformatio | | > Selection Mode | > Selection Mode | n/pduSessionInformat | | | | ion/chargingCharacte | | | | risticsSelectionMode | +----------------------+----------------------+----------------------+ | > PDU session start | > PDU session start | /p | | > Time | > Time | DUSessionChargingInf | | | | ormation/pduSessionI | | | | nformation/startTime | +----------------------+----------------------+----------------------+ | > PDU session stop | > PDU session stop | / | | > Time | > Time | pDUSessionChargingIn | | | | formation/pduSession | | | | Information/stopTime | +----------------------+----------------------+----------------------+ | > Diagnostics | > Diagnostics | /pDU | | | | SessionChargingInfor | | | | mation/pduSessionInf | | | | ormation/diagnostics | +----------------------+----------------------+----------------------+ | > 3GPP PS Data Off | > 3GPP PS Data Off | /pDUSessionC | | > Status | > Status | hargingInformation/p | | | | duSessionInformation | | | | /3gppPSDataOffStatus | +----------------------+----------------------+----------------------+ | > Session Stop | > Session Stop | /pDUSessionCh | | > Indicator | > Indictor | argingInformation/pd | | | | uSessionInformation/ | | | | sessionStopIndicator | +----------------------+----------------------+----------------------+ | > Unit Count | - | /pDUSessionChar | | > Inactivity Timer | | gingInformation/unit | | | | CountInactivityTimer | +----------------------+----------------------+----------------------+ | > RAN Secondary RAT | > RAN Secondary RAT | /pDUSessionChargi | | > Usage Report | > Usage Report | ngInformation/rANSec | | | | ondaryRATUsageReport | +----------------------+----------------------+----------------------+ | > NG RAN Secondary | > NG RAN Secondary | /pDUSessionChargi | | > RAT Type | > RAT Type | ngInformation/rANSec | | | | ondaryRATUsageReport | | | | /rANSecondaryRATType | +----------------------+----------------------+----------------------+ | > Qos Flows Usage | > Qos Flows Usage | /pDUSessionChargin | | > Reports | > Reports | gInformation/rANSeco | | | | ndaryRATUsageReport/ | | | | qosFlowsUsageReports | +----------------------+----------------------+----------------------+ | Roaming QBC | Roaming QBC | /r | | information | information | oamingQBCInformation | +----------------------+----------------------+----------------------+ | > Multiple QFI | > Multiple QFI | /ro | | > container | > container | amingQBCInformation/ | | | | multipleQFIcontainer | +----------------------+----------------------+----------------------+ | > Triggers | > Triggers | /roamingQBCI | | | | nformation/multipleQ | | | | FIcontainer/triggers | +----------------------+----------------------+----------------------+ | > Trigger Timestamp | > Trigger Timestamp | /roamingQBCInformati | | | | on/multipleQFIcontai | | | | ner/triggerTimestamp | +----------------------+----------------------+----------------------+ | > Time | > Time | /roaming | | | | QBCInformation/multi | | | | pleQFIcontainer/time | +----------------------+----------------------+----------------------+ | > Total Volume | > Total Volume | /roamingQBCInfo | | | | rmation/multipleQFIc | | | | ontainer/totalVolume | +----------------------+----------------------+----------------------+ | > Uplink Volume | > Uplink Volume | /roamingQBCInfor | | | | mation/multipleQFIco | | | | ntainer/uplinkVolume | +----------------------+----------------------+----------------------+ | > Downlink Volume | > Downlink Volume | /roamingQBCInforma | | | | tion/multipleQFIcont | | | | ainer/downlinkVolume | +----------------------+----------------------+----------------------+ | > Local Sequence | > Local Sequence | /ro | | > Number | > Number | amingQBCInformation/ | | | | multipleQFIcontainer | | | | /localSequenceNumber | +----------------------+----------------------+----------------------+ | > QFI Container | > QFI Container | /roamin | | > information | > information | gQBCInformation/mult | | | | ipleQFIcontainer/qFI | | | | ContainerInformation | +----------------------+----------------------+----------------------+ | > QoS Flow Id | > QoS Flow Id | /roamingQBC | | | | Information/multiple | | | | QFIcontainer/qFICont | | | | ainerInformation/qFI | +----------------------+----------------------+----------------------+ | > Time of First | > Time of First | /roa | | > Usage | > Usage | mingQBCInformation/m | | | | ultipleQFIcontainer/ | | | | qFIContainerInformat | | | | ion/timeofFirstUsage | +----------------------+----------------------+----------------------+ | > Time of Last Usage | > Time of Last Usage | /ro | | | | amingQBCInformation/ | | | | multipleQFIcontainer | | | | /qFIContainerInforma | | | | tion/timeofLastUsage | +----------------------+----------------------+----------------------+ | > QoS Information | > QoS Information | /r | | | | oamingQBCInformation | | | | /multipleQFIcontaine | | | | r/qFIContainerInform | | | | ation/qoSInformation | +----------------------+----------------------+----------------------+ | > User Location | > User Location | /roamingQBC | | > Information | > Information | Information/multiple | | | | QFIcontainer/qFICont | | | | ainerInformation/use | | | | rLocationInformation | +----------------------+----------------------+----------------------+ | > UE Time Zone | > UE Time Zone | /roamingQBCInforma | | | | tion/multipleQFIcont | | | | ainer/qFIContainerIn | | | | formation/uetimeZone | +----------------------+----------------------+----------------------+ | > Presence Reporting | > Presence Reporting | /roamingQBCInformati | | > Area Information | > Area Information | on/multipleQFIcontai | | | | ner/qFIContainerInfo | | | | rmation/presenceRepo | | | | rtingAreaInformation | +----------------------+----------------------+----------------------+ | > RAT Type | > RAT Type | /roamingQBCInfo | | | | rmation/multipleQFIc | | | | ontainer/qFIContaine | | | | rInformation/rATType | +----------------------+----------------------+----------------------+ | > Report Time | > Report Time | /roamingQBCInforma | | | | tion/multipleQFIcont | | | | ainer/qFIContainerIn | | | | formation/reportTime | +----------------------+----------------------+----------------------+ | > Serving Network | > Serving Network | /roamingQBCI | | > Function ID | > Function ID | nformation/multipleQ | | | | FIcontainer/qFIConta | | | | inerInformation/serv | | | | ingNetworkFunctionID | +----------------------+----------------------+----------------------+ | > 3GPP PS Data Off | > 3GPP PS Data Off | /roamin | | > Status | > Status | gQBCInformation/mult | | | | ipleQFIcontainer/qFI | | | | ContainerInformation | | | | /3gppPSDataOffStatus | +----------------------+----------------------+----------------------+ | > UPF ID | > UPF ID | /roaming | | | | QBCInformation/uPFID | +----------------------+----------------------+----------------------+ | > Roaming Charging | > Roaming Charging | /roam | | > Profile | > Profile | ingQBCInformation/ro | | | | amingChargingProfile | +----------------------+----------------------+----------------------+ | > Trigger | > Trigger | /roamingQBCIn | | | | formation/roamingCha | | | | rgingProfile/trigger | +----------------------+----------------------+----------------------+ | > Partial record | > Partial record | /roam | | > method | > method | ingQBCInformation/ro | | | | amingChargingProfile | | | | /partialRecordMethod | +----------------------+----------------------+----------------------+ | | | **Ch | | | | argingDataResponse** | +----------------------+----------------------+----------------------+ | Multiple Unit | - | /mul | | information | | tipleUnitInformation | +----------------------+----------------------+----------------------+ | > UPF ID | - | /multipleU | | | | nitInformation/uPFID | +----------------------+----------------------+----------------------+
## 7.3 Bindings for SMS charging
Table 7.3-1: Bindings of CDR field, Information Element and Resource Attribute
for SMS charging
+----------------------+----------------------+----------------------+ | Information Element | CDR Field | Resource Attribute | +----------------------+----------------------+----------------------+ | | | **C | | | | hargingDataRequest** | +----------------------+----------------------+----------------------+ | SMS Charging | SMS Charging | /sM | | Information | Information | SChargingInformation | +----------------------+----------------------+----------------------+ | > Originator Info | > Originator Info | /sMSChargingInform | | | | ation/originatorInfo | +----------------------+----------------------+----------------------+ | > Originator SUPI | > Originator SUPI | /sMSChargingI | | | | nformation/originato | | | | rInfo/originatorSUPI | +----------------------+----------------------+----------------------+ | > Originator GPSI | > Originator GPSI | /sMSChargingI | | | | nformation/originato | | | | rInfo/originatorGPSI | +----------------------+----------------------+----------------------+ | > Originator Other | > Originator Other | / | | > Address | > Address | sMSChargingInformati | | | | on/originatorInfo/or | | | | iginatorOtherAddress | +----------------------+----------------------+----------------------+ | > Originator | > Originator | /sMS | | > Received Address | > Received Address | ChargingInformation/ | | | | originatorInfo/origi | | | | natorReceivedAddress | +----------------------+----------------------+----------------------+ | > Originator SCCP | > Originator SCCP | /sMSChargingInformat | | > Address | > Address | ion/originatorInfo/o | | | | riginatorSCCPAddress | +----------------------+----------------------+----------------------+ | > SM Originator | > SM Originator | /sMSChargingInformat | | > Interface | > Interface | ion/originatorInfo/s | | | | MOriginatorInterface | +----------------------+----------------------+----------------------+ | > SM Originator | > SM Originator | / | | > Protocol Id | > Protocol Id | sMSChargingInformati | | | | on/originatorInfo/sM | | | | OriginatorProtocolId | +----------------------+----------------------+----------------------+ | > Recipient Info | > Recipient Info | /sMSChargingInfor | | | | mation/recipientInfo | +----------------------+----------------------+----------------------+ | > Recipient SUPI | > Recipient SUPI | /sMSChargin | | | | gInformation/recipie | | | | ntInfo/recipientSUPI | +----------------------+----------------------+----------------------+ | > Recipient GPSI | > Recipient GPSI | /sMSChargin | | | | gInformation/recipie | | | | ntInfo/recipientGPSI | +----------------------+----------------------+----------------------+ | > Recipient Other | > Recipient Other | /sMSChargingInforma | | > Address | > Address | tion/recipientInfo/r | | | | ecipientOtherAddress | +----------------------+----------------------+----------------------+ | > Recipient Received | > Recipient Received | /s | | > Address | > Address | MSChargingInformatio | | | | n/recipientInfo/reci | | | | pientReceivedAddress | +----------------------+----------------------+----------------------+ | > Recipient SCCP | > Recipient SCCP | /sMSChargingInform | | > Address | > Address | ation/recipientInfo/ | | | | recipientSCCPAddress | +----------------------+----------------------+----------------------+ | > SM Destination | > SM Destination | /sMSChargingInformat | | > Interface | > Interface | ion/recipientInfo/sM | | | | DestinationInterface | +----------------------+----------------------+----------------------+ | > SM Recipient | > SM Recipient | /sMSChargingInforma | | > Protocol Id | > Protocol Id | tion/recipientInfo/s | | | | MrecipientProtocolId | +----------------------+----------------------+----------------------+ | > User Equipment | > User Equipment | / | | > Info | > Info | sMSChargingInformati | | | | on/userEquipmentInfo | +----------------------+----------------------+----------------------+ | > User Location Info | > User Location Info | /sMSChargingInformat | | | | ion/userLocationinfo | +----------------------+----------------------+----------------------+ | > UE Time Zone | > UE Time Zone | /sMSChargingIn | | | | formation/uetimeZone | +----------------------+----------------------+----------------------+ | > RAT Type | > RAT Type | /sMSChargin | | | | gInformation/rATType | +----------------------+----------------------+----------------------+ | > SMSC Address | > SMSC Address | /sMSChargingInf | | | | ormation/sMSCAddress | +----------------------+----------------------+----------------------+ | > SM Data Coding | > SM Data Coding | /s | | > Scheme | > Scheme | MSChargingInformatio | | | | n/sMDataCodingScheme | +----------------------+----------------------+----------------------+ | > SM Message Type | > SM Message Type | /sMSChargingInfor | | | | mation/sMMessageType | +----------------------+----------------------+----------------------+ | > SM Reply Path | > SM Reply Path | /sMS | | > Requested | > Requested | ChargingInformation/ | | | | sMReplyPathRequested | +----------------------+----------------------+----------------------+ | > SM User Data | > SM User Data | /sMSChargingInformat | | > Header | > Header | ion/sMUserDataHeader | +----------------------+----------------------+----------------------+ | > SM Status | > SM Status | /sMSCharging | | | | Information/sMStatus | +----------------------+----------------------+----------------------+ | > SM Discharge Time | > SM Discharge Time | /sMSChargingInforma | | | | tion/sMDischargeTime | +----------------------+----------------------+----------------------+ | > Number of Messages | > Number of Messages | /sMS | | > Sent | > Sent | ChargingInformation/ | | | | numberofMessagesSent | +----------------------+----------------------+----------------------+ | > SM Service Type | > SM Service Type | /sMSChargingInfor | | | | mation/sMServiceType | +----------------------+----------------------+----------------------+ | > SM Sequence Number | > SM Sequence Number | /sMSChargingInformat | | | | ion/sMSequenceNumber | +----------------------+----------------------+----------------------+ | > SMS result | > SMS result | /sMSChargingI | | | | nformation/sMSresult | +----------------------+----------------------+----------------------+ | > Submission Time | > Submission Time | /sMSChargingInform | | | | ation/submissionTime | +----------------------+----------------------+----------------------+ | > SM Priority | > SM Priority | /sMSChargingIn | | | | formation/sMPriority | +----------------------+----------------------+----------------------+ | > Message Reference | > Message Reference | /sMSChargingInformat | | | | ion/messageReference | +----------------------+----------------------+----------------------+ | > Message Size | > Message Size | /sMSChargingInf | | | | ormation/messageSize | +----------------------+----------------------+----------------------+ | > Message Class | > Message Class | /sMSChargingInfo | | | | rmation/messageClass | +----------------------+----------------------+----------------------+ | > Delivery Report | > Delivery Report | /sMSCha | | > Requested | > Requested | rgingInformation/del | | | | iveryReportRequested | +----------------------+----------------------+----------------------+ | | | **Ch | | | | argingDataResponse** | +----------------------+----------------------+----------------------+ | - | - | - | +----------------------+----------------------+----------------------+
# 8 Security
Security aspects for service based interface shall be supported as specified
in subclause 13 of 3GPP TS 33.501 [390].
###### ## Annex A (normative): OpenAPI specification
## A.1 General
The present Annex contains an OpenAPI [500] specification of HTTP messages and
content bodies used by the Nchf_ConvergedCharging API.
This Annex takes precedence when being discrepant to other parts of the
specification with respect to the encoding of information elements and methods
within the API(s).
NOTE 1: The semantics and procedures, as well as conditions, e.g. for the
applicability and allowed combinations of attributes or values, not expressed
in the OpenAPI definitions but defined in other parts of the specification
also apply.
Informative copies of the OpenAPI specification files contained in this
document are available on a repository (see 3GPP TS 29.501 [300] clause 5.3.1
and 3GPP TR 21.900 [101] clause 5B).
## A.2 Nchf_ConvergedCharging API
openapi: 3.0.0
info:
title: Nchf_ConvergedCharging
version: 2.0.6
description: ConvergedCharging Service
Â© 2020, 3GPP Organizational Partners (ARIB, ATIS, CCSA, ETSI, TSDSI, TTA,
TTC).
All rights reserved.
externalDocs:
description: >
3GPP TS 32.291 V15.8.0: Telecommunication management; Charging management;
5G system, charging service; Stage 3.
url: \'http://www.3gpp.org/ftp/Specs/archive/32_series/32.291/\'
servers:
\- url: \'{apiRoot}/nchf-convergedcharging/v2\'
variables:
apiRoot:
default: https://example.com
description: apiRoot as defined in subclause 4.4 of 3GPP TS 29.501.
paths:
/chargingdata:
post:
requestBody:
required: true
content:
application/json:
schema:
\$ref: \'#/components/schemas/ChargingDataRequest\'
responses:
\'201\':
description: Created
content:
application/json:
schema:
\$ref: \'#/components/schemas/ChargingDataResponse\'
\'400\':
description: Bad request
content:
application/json:
schema:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/ProblemDetails\'
\'403\':
description: Forbidden
content:
application/json:
schema:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/ProblemDetails\'
\'404\':
description: Not Found
content:
application/json:
schema:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/ProblemDetails\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'410\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/410\'
\'411\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/413\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29571_CommonData.yaml#/components/responses/default\'
callbacks:
myNotification:
\'{\$request.body#/notifyUri}\':
post:
requestBody:
required: true
content:
application/json:
schema:
\$ref: \'#/components/schemas/ChargingNotifyRequest\'
responses:
\'204\':
description: \'No Content, Notification was succesfull\'
\'400\':
description: Bad request
content:
application/json:
schema:
\$ref: >-
TS29571_CommonData.yaml#/components/schemas/ProblemDetails
default:
\$ref: \'TS29571_CommonData.yaml#/components/responses/default\'
\'/chargingdata/{ChargingDataRef}/update\':
post:
requestBody:
required: true
content:
application/json:
schema:
\$ref: \'#/components/schemas/ChargingDataRequest\'
parameters:
\- name: ChargingDataRef
in: path
description: a unique identifier for a charging data resource in a PLMN
required: true
schema:
type: string
responses:
\'200\':
description: OK. Updated Charging Data resource is returned
content:
application/json:
schema:
\$ref: \'#/components/schemas/ChargingDataResponse\'
\'400\':
description: Bad request
content:
application/json:
schema:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/ProblemDetails\'
\'403\':
description: Forbidden
content:
application/json:
schema:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/ProblemDetails\'
\'404\':
description: Not Found
content:
application/json:
schema:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/ProblemDetails\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'410\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/410\'
\'411\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/413\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29571_CommonData.yaml#/components/responses/default\'
\'/chargingdata/{ChargingDataRef}/release\':
post:
requestBody:
required: true
content:
application/json:
schema:
\$ref: \'#/components/schemas/ChargingDataRequest\'
parameters:
\- name: ChargingDataRef
in: path
description: a unique identifier for a charging data resource in a PLMN
required: true
schema:
type: string
responses:
\'204\':
description: No Content.
\'404\':
description: Not Found
content:
application/json:
schema:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/ProblemDetails\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'410\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/410\'
\'411\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/413\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29571_CommonData.yaml#/components/responses/default\'
components:
schemas:
ChargingDataRequest:
type: object
properties:
subscriberIdentifier:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Supi\'
nfConsumerIdentification:
\$ref: \'#/components/schemas/NFIdentification\'
chargingId:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/ChargingId\'
invocationTimeStamp:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/DateTime\'
invocationSequenceNumber:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Uint32\'
oneTimeEvent:
type: boolean
oneTimeEventType:
\$ref: \'#/components/schemas/oneTimeEventType\'
notifyUri:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Uri\'
serviceSpecificationInfo:
type: string
multipleUnitUsage:
type: array
items:
\$ref: \'#/components/schemas/MultipleUnitUsage\'
minItems: 0
triggers:
type: array
items:
\$ref: \'#/components/schemas/Trigger\'
minItems: 0
pDUSessionChargingInformation:
\$ref: \'#/components/schemas/PDUSessionChargingInformation\'
roamingQBCInformation:
\$ref: \'#/components/schemas/RoamingQBCInformation\'
sMSChargingInformation:
\$ref: \'#/components/schemas/SMSChargingInformation\'
required:
\- invocationTimeStamp
\- invocationSequenceNumber
ChargingDataResponse:
type: object
properties:
invocationTimeStamp:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/DateTime\'
invocationSequenceNumber:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Uint32\'
invocationResult:
\$ref: \'#/components/schemas/InvocationResult\'
sessionFailover:
\$ref: \'#/components/schemas/SessionFailover\'
multipleUnitInformation:
type: array
items:
\$ref: \'#/components/schemas/MultipleUnitInformation\'
minItems: 0
triggers:
type: array
items:
\$ref: \'#/components/schemas/Trigger\'
minItems: 0
pDUSessionChargingInformation:
\$ref: \'#/components/schemas/PDUSessionChargingInformation\'
roamingQBCInformation:
\$ref: \'#/components/schemas/RoamingQBCInformation\'
required:
\- nfConsumerIdentification
\- invocationSequenceNumber
ChargingNotifyRequest:
type: object
properties:
notificationType:
\$ref: \'#/components/schemas/NotificationType\'
reauthorizationDetails:
type: array
items:
\$ref: \'#/components/schemas/ReauthorizationDetails\'
minItems: 0
required:
\- notificationType
ChargingNotifyResponse:
type: object
properties:
invocationResult:
\$ref: \'#/components/schemas/InvocationResult\'
NFIdentification:
type: object
properties:
nFName:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/NfInstanceId\'
nFIPv4Address:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Ipv4Addr\'
nFIPv6Address:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Ipv6Addr\'
nFPLMNID:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/PlmnId\'
nodeFunctionality:
\$ref: \'#/components/schemas/NodeFunctionality\'
nFFqdn:
type: string
required:
\- nodeFunctionality
MultipleUnitUsage:
type: object
properties:
ratingGroup:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/RatingGroup\'
requestedUnit:
\$ref: \'#/components/schemas/RequestedUnit\'
usedUnitContainer:
type: array
items:
\$ref: \'#/components/schemas/UsedUnitContainer\'
minItems: 0
uPFID:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/NfInstanceId\'
required:
\- ratingGroup
InvocationResult:
type: object
properties:
error:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/ProblemDetails\'
failureHandling:
\$ref: \'#/components/schemas/FailureHandling\'
Trigger:
type: object
properties:
triggerType:
\$ref: \'#/components/schemas/TriggerType\'
triggerCategory:
\$ref: \'#/components/schemas/TriggerCategory\'
timeLimit:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/DurationSec\'
volumeLimit:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Uint32\'
volumeLimit64:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Uint64\'
maxNumberOfccc:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Uint32\'
required:
\- triggerType
\- triggerCategory
MultipleUnitInformation:
type: object
properties:
resultCode:
\$ref: \'#/components/schemas/ResultCode\'
ratingGroup:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/RatingGroup\'
grantedUnit:
\$ref: \'#/components/schemas/GrantedUnit\'
triggers:
type: array
items:
\$ref: \'#/components/schemas/Trigger\'
minItems: 0
validityTime:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/DurationSec\'
quotaHoldingTime:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/DurationSec\'
finalUnitIndication:
\$ref: \'#/components/schemas/FinalUnitIndication\'
timeQuotaThreshold:
type: integer
volumeQuotaThreshold:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Uint64\'
unitQuotaThreshold:
type: integer
uPFID:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/NfInstanceId\'
required:
\- ratingGroup
RequestedUnit:
type: object
properties:
time:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Uint32\'
totalVolume:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Uint64\'
uplinkVolume:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Uint64\'
downlinkVolume:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Uint64\'
serviceSpecificUnits:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Uint64\'
UsedUnitContainer:
type: object
properties:
serviceId:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/ServiceId\'
quotaManagementIndicator:
\$ref: \'#/components/schemas/QuotaManagementIndicator\'
triggers:
type: array
items:
\$ref: \'#/components/schemas/Trigger\'
minItems: 0
triggerTimestamp:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/DateTime\'
time:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Uint32\'
totalVolume:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Uint64\'
uplinkVolume:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Uint64\'
downlinkVolume:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Uint64\'
serviceSpecificUnits:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Uint64\'
eventTimeStamps:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/DateTime\'
localSequenceNumber:
type: integer
pDUContainerInformation:
\$ref: \'#/components/schemas/PDUContainerInformation\'
required:
\- localSequenceNumber
GrantedUnit:
type: object
properties:
tariffTimeChange:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/DateTime\'
time:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Uint32\'
totalVolume:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Uint64\'
uplinkVolume:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Uint64\'
downlinkVolume:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Uint64\'
serviceSpecificUnits:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Uint64\'
FinalUnitIndication:
type: object
properties:
finalUnitAction:
\$ref: \'#/components/schemas/FinalUnitAction\'
restrictionFilterRule:
\$ref: \'#/components/schemas/IPFilterRule\'
filterId:
type: string
redirectServer:
\$ref: \'#/components/schemas/RedirectServer\'
required:
\- finalUnitAction
RedirectServer:
type: object
properties:
redirectAddressType:
\$ref: \'#/components/schemas/RedirectAddressType\'
redirectServerAddress:
type: string
required:
\- redirectAddressType
\- redirectServerAddress
ReauthorizationDetails:
type: object
properties:
serviceId:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/ServiceId\'
ratingGroup:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/RatingGroup\'
quotaManagementIndicator:
\$ref: \'#/components/schemas/QuotaManagementIndicator\'
PDUSessionChargingInformation:
type: object
properties:
chargingId:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/ChargingId\'
userInformation:
\$ref: \'#/components/schemas/UserInformation\'
userLocationinfo:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/UserLocation\'
userLocationTime:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/DateTime\'
presenceReportingAreaInformation:
type: object
additionalProperties:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/PresenceInfo\'
minProperties: 0
uetimeZone:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/TimeZone\'
pduSessionInformation:
\$ref: \'#/components/schemas/PDUSessionInformation\'
unitCountInactivityTimer:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/DurationSec\'\
rANSecondaryRATUsageReport:
\$ref: \'#/components/schemas/RANSecondaryRATUsageReport\'
required:
\- pduSessionInformation
UserInformation:
type: object
properties:
servedGPSI:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Gpsi\'
servedPEI:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Pei\'
unauthenticatedFlag:
type: boolean
roamerInOut:
\$ref: \'#/components/schemas/RoamerInOut\'
PDUSessionInformation:
type: object
properties:
networkSlicingInfo:
\$ref: \'#/components/schemas/NetworkSlicingInfo\'
pduSessionID:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/PduSessionId\'
pduType:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/PduSessionType\'
sscMode:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/SscMode\'
hPlmnId:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/PlmnId\'
servingNetworkFunctionID:
\$ref: \'#/components/schemas/ServingNetworkFunctionID\'
ratType:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/RatType\'
dnnId:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Dnn\'
dnnSelectionMode:
\$ref: \'#/components/schemas/dnnSelectionMode\'
chargingCharacteristics:
type: string
chargingCharacteristicsSelectionMode:
\$ref: \'#/components/schemas/ChargingCharacteristicsSelectionMode\'
startTime:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/DateTime\'
stopTime:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/DateTime\'
3gppPSDataOffStatus:
\$ref: \'#/components/schemas/3GPPPSDataOffStatus\'
sessionStopIndicator:
type: boolean
pduAddress:
\$ref: \'#/components/schemas/PDUAddress\'
diagnostics:
\$ref: \'#/components/schemas/Diagnostics\'
authorizedQoSInformation:
\$ref:
\'TS29512_Npcf_SMPolicyControl.yaml#/components/schemas/AuthorizedDefaultQos\'
subscribedQoSInformation:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/SubscribedDefaultQos\'
authorizedSessionAMBR:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Ambr\'
subscribedSessionAMBR:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Ambr\'
servingCNPlmnId:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/PlmnId\'
required:
\- pduSessionID
\- dnnId
PDUContainerInformation:
type: object
properties:
timeofFirstUsage:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/DateTime\'
timeofLastUsage:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/DateTime\'
qoSInformation:
\$ref: \'TS29512_Npcf_SMPolicyControl.yaml#/components/schemas/QosData\'
aFCorrelationInformation:
type: string
userLocationInformation:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/UserLocation\'
uetimeZone:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/TimeZone\'
rATType:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/RatType\'
servingNodeID:
type: array
items:
\$ref: \'#/components/schemas/ServingNetworkFunctionID\'
minItems: 0
presenceReportingAreaInformation:
type: object
additionalProperties:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/PresenceInfo\'
minProperties: 0
3gppPSDataOffStatus:
\$ref: \'#/components/schemas/3GPPPSDataOffStatus\'
sponsorIdentity:
type: string
applicationserviceProviderIdentity:
type: string
chargingRuleBaseName:
type: string
NetworkSlicingInfo:
type: object
properties:
sNSSAI:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Snssai\'
required:
\- sNSSAI
PDUAddress:
type: object
properties:
pduIPv4Address:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Ipv4Addr\'
pduIPv6AddresswithPrefix:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Ipv6Addr\'
pduAddressprefixlength:
type: integer
iPv4dynamicAddressFlag:
type: boolean
iPv6dynamicPrefixFlag:
type: boolean
ServingNetworkFunctionID:
type: object
properties:
servingNetworkFunctionInformation:
\$ref: \'#/components/schemas/NFIdentification\'
aMFId:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/AmfId\'
required:
\- servingNetworkFunctionInformation
RoamingQBCInformation:
type: object
properties:
multipleQFIcontainer:
type: array
items:
\$ref: \'#/components/schemas/MultipleQFIcontainer\'
minItems: 0
uPFID:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/NfInstanceId\'
roamingChargingProfile:
\$ref: \'#/components/schemas/RoamingChargingProfile\'
MultipleQFIcontainer:
type: object
properties:
triggers:
type: array
items:
\$ref: \'#/components/schemas/Trigger\'
minItems: 0
triggerTimestamp:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/DateTime\'
time:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Uint32\'
totalVolume:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Uint64\'
uplinkVolume:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Uint64\'
localSequenceNumber:
type: integer
qFIContainerInformation:
\$ref: \'#/components/schemas/QFIContainerInformation\'
required:
\- localSequenceNumber
QFIContainerInformation:
type: object
properties:
qFI:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Qfi\'
reportTime:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/DateTime\'
timeofFirstUsage:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/DateTime\'
timeofLastUsage:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/DateTime\'
qoSInformation:
\$ref: \'TS29512_Npcf_SMPolicyControl.yaml#/components/schemas/QosData\'
userLocationInformation:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/UserLocation\'
uetimeZone:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/TimeZone\'
presenceReportingAreaInformation:
type: object
additionalProperties:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/PresenceInfo\'
minProperties: 0
rATType:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/RatType\'
servingNetworkFunctionID:
type: array
items:
\$ref: \'#/components/schemas/ServingNetworkFunctionID\'
minItems: 0
3gppPSDataOffStatus:
\$ref: \'#/components/schemas/3GPPPSDataOffStatus\'
RoamingChargingProfile:
type: object
properties:
triggers:
type: array
items:
\$ref: \'#/components/schemas/Trigger\'
minItems: 0
partialRecordMethod:
\$ref: \'#/components/schemas/PartialRecordMethod\'
SMSChargingInformation:
type: object
properties:
originatorInfo:
\$ref: \'#/components/schemas/OriginatorInfo\'
recipientInfo:
type: array
items:
\$ref: \'#/components/schemas/RecipientInfo\'
minItems: 0
userEquipmentInfo:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Pei\'
userLocationinfo:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/UserLocation\'
uetimeZone:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/TimeZone\'
rATType:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/RatType\'
sMSCAddress:
type: string
sMDataCodingScheme:
type: integer
sMMessageType:
\$ref: \'#/components/schemas/SMMessageType\'
sMReplyPathRequested:
\$ref: \'#/components/schemas/ReplyPathRequested\'
sMUserDataHeader:
type: string
sMStatus:
type: string
sMDischargeTime:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/DateTime\'
numberofMessagesSent:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Uint32\'
sMServiceType:
\$ref: \'#/components/schemas/SMServiceType\'
sMSequenceNumber:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Uint32\'
sMSresult:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Uint32\'
submissionTime:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/DateTime\'
sMPriority:
\$ref: \'#/components/schemas/SMPriority\'
messageReference:
type: string
messageSize:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Uint32\'
messageClass:
\$ref: \'#/components/schemas/MessageClass\'
deliveryReportRequested:
\$ref: \'#/components/schemas/DeliveryReportRequested\'
OriginatorInfo:
type: object
properties:
originatorSUPI:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Supi\'
originatorGPSI:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Gpsi\'
originatorOtherAddress:
\$ref: \'#/components/schemas/SMAddressInfo\'
originatorReceivedAddress:
\$ref: \'#/components/schemas/SMAddressInfo\'
originatorSCCPAddress:
type: string
sMOriginatorInterface:
\$ref: \'#/components/schemas/SMInterface\'
sMOriginatorProtocolId:
type: string
RecipientInfo:
type: object
properties:
recipientSUPI:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Supi\'
recipientGPSI:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Gpsi\'
recipientOtherAddress:
\$ref: \'#/components/schemas/SMAddressInfo\'
recipientReceivedAddress:
\$ref: \'#/components/schemas/SMAddressInfo\'
recipientSCCPAddress:
type: string
sMDestinationInterface:
\$ref: \'#/components/schemas/SMInterface\'
sMrecipientProtocolId:
type: string
SMAddressInfo:
type: object
properties:
sMaddressType:
\$ref: \'#/components/schemas/SMAddressType\'
sMaddressData:
type: string
sMaddressDomain:
\$ref: \'#/components/schemas/SMAddressDomain\'
RecipientAddress:
type: object
properties:
recipientAddressInfo:
\$ref: \'#/components/schemas/SMAddressInfo\'
sMaddresseeType:
\$ref: \'#/components/schemas/SMAddresseeType\'
MessageClass:
type: object
properties:
classIdentifier:
\$ref: \'#/components/schemas/ClassIdentifier\'
tokenText:
type: string
SMAddressDomain:
type: object
properties:
domainName:
type: string
3GPPIMSIMCCMNC:
type: string
SMInterface:
type: object
properties:
interfaceId:
type: string
interfaceText:
type: string
interfacePort:
type: string
interfaceType:
\$ref: \'#/components/schemas/InterfaceType\'
RANSecondaryRATUsageReport:
type: object
properties:
rANSecondaryRATType:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/RatType\'
qosFlowsUsageReports:
type: array
items:
\$ref: \'#/components/schemas/QosFlowsUsageReport\'
Diagnostics:
type: integer
IPFilterRule:
type: string
QosFlowsUsageReport:
type: object
properties:
qFI:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Qfi\'
startTimestamp:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/DateTime\'
endTimestamp:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/DateTime\'
uplinkVolume:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Uint64\'
downlinkVolume:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Uint64\'
NotificationType:
anyOf:
\- type: string
enum:
\- REAUTHORIZATION
\- ABORT_CHARGING
\- type: string
NodeFunctionality:
anyOf:
\- type: string
enum:
\- AMF
\- SMF
\- SMSF
\- type: string
ChargingCharacteristicsSelectionMode:
anyOf:
\- type: string
enum:
\- HOME_DEFAULT
\- ROAMING_DEFAULT
\- VISITING_DEFAULT
\- type: string
TriggerType:
anyOf:
\- type: string
enum:
\- QUOTA_THRESHOLD
\- QHT
\- FINAL
\- QUOTA_EXHAUSTED
\- VALIDITY_TIME
\- OTHER_QUOTA_TYPE
\- FORCED_REAUTHORISATION
\- UNUSED_QUOTA_TIMER # Included for backwards compatibility, shall not be
used
\- UNIT_COUNT_INACTIVITY_TIMER
\- ABNORMAL_RELEASE
\- QOS_CHANGE
\- VOLUME_LIMIT
\- TIME_LIMIT
\- PLMN_CHANGE
\- USER_LOCATION_CHANGE
\- RAT_CHANGE
\- SESSION_AMBR_CHANGE
\- UE_TIMEZONE_CHANGE
\- TARIFF_TIME_CHANGE
\- MAX_NUMBER_OF_CHANGES_IN_CHARGING_CONDITIONS
\- MANAGEMENT_INTERVENTION
\- CHANGE_OF_UE_PRESENCE_IN_PRESENCE_REPORTING_AREA
\- CHANGE_OF_3GPP_PS_DATA_OFF_STATUS
\- SERVING_NODE_CHANGE
\- REMOVAL_OF_UPF
\- ADDITION_OF_UPF
\- START_OF_SERVICE_DATA_FLOW
\- GFBR_GUARANTEED_STATUS_CHANGE
\- type: string
FinalUnitAction:
anyOf:
\- type: string
enum:
\- TERMINATE
\- REDIRECT
\- RESTRICT_ACCESS
\- type: string
RedirectAddressType:
anyOf:
\- type: string
enum:
\- IPV4
\- IPV6
\- URL
\- type: string
TriggerCategory:
anyOf:
\- type: string
enum:
\- IMMEDIATE_REPORT
\- DEFERRED_REPORT
\- type: string
QuotaManagementIndicator:
anyOf:
\- type: string
enum:
\- ONLINE_CHARGING
\- OFFLINE_CHARGING
\- type: string
FailureHandling:
anyOf:
\- type: string
enum:
\- TERMINATE
\- CONTINUE
\- RETRY_AND_TERMINATE
\- type: string
SessionFailover:
anyOf:
\- type: string
enum:
\- FAILOVER_NOT_SUPPORTED
\- FAILOVER_SUPPORTED
\- type: string
3GPPPSDataOffStatus:
anyOf:
\- type: string
enum:
\- ACTIVE
\- INACTIVE
\- type: string
ResultCode:
anyOf:
\- type: string
enum:
\- SUCCESS
\- END_USER_SERVICE_DENIED
\- QUOTA_MANAGEMENT_NOT_APPLICABLE
\- QUOTA_LIMIT_REACHED
\- END_USER_SERVICE_REJECTED
\- USER_UNKNOWN
\- RATING_FAILED
\- type: string
PartialRecordMethod:
anyOf:
\- type: string
enum:
\- DEFAULT
\- INDIVIDUAL
\- type: string
RoamerInOut:
anyOf:
\- type: string
enum:
\- IN_BOUND
\- OUT_BOUND
\- type: string
SMMessageType:
anyOf:
\- type: string
enum:
\- SUBMISSION
\- DELIVERY_REPORT
\- SM_SERVICE_REQUEST
\- DELIVERY
\- type: string
SMPriority:
anyOf:
\- type: string
enum:
\- LOW
\- NORMAL
\- HIGH
\- type: string
DeliveryReportRequested:
anyOf:
\- type: string
enum:
\- YES
\- NO
\- type: string
InterfaceType:
anyOf:
\- type: string
enum:
\- UNKNOWN
\- MOBILE_ORIGINATING
\- MOBILE_TERMINATING
\- APPLICATION_ORIGINATING
\- APPLICATION_TERMINATING
\- type: string
ClassIdentifier:
anyOf:
\- type: string
enum:
\- PERSONAL
\- ADVERTISEMENT
\- INFORMATIONAL
\- AUTO
\- type: string
SMAddressType:
anyOf:
\- type: string
enum:
\- EMAIL_ADDRESS
\- MSISDN
\- IPV4_ADDRESS
\- IPV6_ADDRESS
\- NUMERIC_SHORTCODE
\- ALPHANUMERIC_SHORTCODE
\- OTHER
\- IMSI
\- type: string
SMAddresseeType:
anyOf:
\- type: string
enum:
\- TO
\- CC
\- BCC
\- type: string
SMServiceType:
anyOf:
\- type: string
enum:
\- VAS4SMS_SHORT_MESSAGE_CONTENT_PROCESSING
\- VAS4SMS_SHORT_MESSAGE_FORWARDING
\- VAS4SMS_SHORT_MESSAGE_FORWARDING_MULTIPLE_SUBSCRIPTIONS
\- VAS4SMS_SHORT_MESSAGE_FILTERING
\- VAS4SMS_SHORT_MESSAGE_RECEIPT
\- VAS4SMS_SHORT_MESSAGE_NETWORK_STORAGE
\- VAS4SMS_SHORT_MESSAGE_TO_MULTIPLE_DESTINATIONS
\- VAS4SMS_SHORT_MESSAGE_VIRTUAL_PRIVATE_NETWORK(VPN)
\- VAS4SMS_SHORT_MESSAGE_AUTO_REPLY
\- VAS4SMS_SHORT_MESSAGE_PERSONAL_SIGNATURE
\- VAS4SMS_SHORT_MESSAGE_DEFERRED_DELIVERY
\- type: string
ReplyPathRequested:
anyOf:
\- type: string
enum:
\- NO_REPLY_PATH_SET
\- REPLY_PATH_SET
> \- type: string
oneTimeEventType:
anyOf:
\- type: string
enum:
\- IEC
\- PEC
\- type: string
dnnSelectionMode:
anyOf:
\- type: string
enum:
\- VERIFIED
\- UE_DNN_NOT_VERIFIED
\- NW_DNN_NOT_VERIFIED
\- type: string
#