# Foreword
This Technical Specification has been produced by the 3^rd^ Generation
Partnership Project (3GPP).
The contents of the present document are subject to continuing work within the
TSG and may change following formal TSG approval. Should the TSG modify the
contents of the present document, it will be re-released by the TSG with an
identifying change of release date and an increase in version number as
follows:
Version x.y.z
where:
x the first digit:
1 presented to TSG for information;
2 presented to TSG for approval;
3 or greater indicates TSG approved document under change control.
y the second digit is incremented for all changes of substance, i.e. technical
enhancements, corrections, updates, etc.
z the third digit is incremented when editorial only changes have been
incorporated in the document.
# 1 Scope
The present specification provides the stage 3 definition for the usage of the
Unified Data Repository service (Nudr_DataRepository) of 5G System for Policy
Data, Application Data and Structured Data for Exposure.
The Unified Data Repository (UDR) provides the Unified Data Repository
service. This service provides a repository for policy data, application data
and exposure data.
The stage 3 protocol definition for Nudr Service Based Interface which is
common for subscription data, policy data, application data and exposure data
is specified in 3GPP TS 29.504 [6].
# 2 References
The following documents contain provisions which, through reference in this
text, constitute provisions of the present document.
\- References are either specific (identified by date of publication, edition
number, version number, etc.) or nonâ€‘specific.
\- For a specific reference, subsequent revisions do not apply.
\- For a non-specific reference, the latest version applies. In the case of a
reference to a 3GPP document (including a GSM document), a non-specific
reference implicitly refers to the latest version of that document _in the
same Release as the present document_.
[1] 3GPP TR 21.905: \"Vocabulary for 3GPP Specifications\".
[2] Void.
[3] OpenAPI: \"OpenAPI 3.0.0 Specification\", https://github.com/OAI/OpenAPI-
Specification/blob/master/versions/3.0.0.md.
[4] 3GPP TS 29.500: \"5G System; Technical Realization of Service Based
Architecture; Stage 3\".
[5] 3GPP TS 29.501: \"5G System; Principles and Guidelines for Services
Definition; Stage 3\".
[6] 3GPP TS 29.504:\"5G System; Unified Data Repository Services; Stage 3\".
[7] 3GPP TS 29.571: \"5G System; Common Data Types for Service Based
Interfaces Stage 3\".
[8] 3GPP TS 29.551: \"5G System; Packet Flow Description Management Service;
Stage 3\".
[9] 3GPP TS 29.122: \"T8 reference point for Northbound APIs\".
[10] 3GPP TS 29.518: \"5G System; Access and Mobility Management Services;
Stage 3\".
[11] 3GPP TS 24.501: \"Non-Access-Stratum (NAS) protocol for 5G System (5GS);
Stage 3\".
[12] 3GPP TS 29.512: \"5G System; Session Management Policy Control Service;
Stage 3\".
[13] 3GPP TS 29.554: \"5G System; Background Data Transfer Policy Control
Service; Stage 3\".
[14] Void.
[15] 3GPP TS 29.505: \"5G System; Usage of the Unified Data Repository
services for Subscription Data; Stage 3\".
[16] 3GPP TS 29.514: \"5G System; Policy Authorization Service; Stage 3\".
[17] IETF RFC 4122: \"A Universally Unique IDentifier (UUID) URN Namespace\".
[18] 3GPP TR 21.900: \"Technical Specification Group working methods\".
[19] 3GPP TS 29.522: \"5G System; Network Exposure Function Northbound APIs;
Stage 3\".
# 3 Definitions and abbreviations
## 3.1 Definitions
For the purposes of the present document, the terms and definitions given in
3GPP TR 21.905 [1] and the following apply. A term defined in the present
document takes precedence over the definition of the same term, if any, in
3GPP TR 21.905 [1].
## 3.2 Abbreviations
For the purposes of the present document, the abbreviations given in 3GPP TR
21.905 [1] and the following apply. An abbreviation defined in the present
document takes precedence over the definition of the same abbreviation, if
any, in 3GPP TR 21.905 [1].
AM Access and Mobility Management
BDT Background Data Transfer
DNAI DN Access Identifier
DNN Data Network Name
GPSI Generic Public Subscription Identifier
JSON JavaScript Object Notation
NEF Network Exposure Function
NR New Radio
NRF Network Repository Function
PCF Policy Control Function
PFD Packet Flow Description
SM Session Management
S-NSSAI Single Network Slice Selection Assistance Information
SUPI Subscription Permanent Identifier
UDR Unified Data Repository
UPSI UE Policy Section Identifier
# 4 Overview
The resources, data model and usage defined in the present document are used
by the NFs (e.g. PCF, NEF) to access the policy data, application data or
exposure data via the Unified Data Repository services as specified in 3GPP TS
29.504 [6].
# 5 Usage of Nudr_DataRepository Service API for Policy Data
## 5.1 Introduction
The following subclauses specify the usage of Nudr_DataRepository service for
policy data. The principles specified in 3GPP TS 29.504 [6] are followed
unless explicitly specified otherwise in the following subclauses.
## 5.2 Resources
### 5.2.1 Overview
This clause specifies the resources for the usage of the Unified Data
Repository service for Policy Data.
### 5.2.2 Resource Structure
Figure 5.2.2-1: Resource URI structure of the Nudr_DataRepository API for
policy data
Table 5.2.2-1 provides an overview of the resources and applicable HTTP
methods.
Table 5.2.2-1: Resources and methods overview
* * *
Resource name Resource URI HTTP method or custom operation Description
AccessAndMobilityPolicyData {apiRoot}/nudr-dr/{apiVersion}/\ GET Retrieves the
access and mobility policy data for a subscriber. policy-data/ues/{ueId}/\  
am-data
UEPolicySet {apiRoot}/nudr-dr/{apiVersion}/\ GET Retrieves the UE policy set
data for a subscriber. policy-data/ues/{ueId}/\  
ue-policy-set
                                                                                         PUT                               Create or modify the UE policy set data for a subscriber.
                                                                                         PATCH                             Modify the UE policy set data for a subscriber.
SessionManagementPolicyData {apiRoot}/nudr-dr/{apiVersion}/\ GET Retrieves the
session management policy data for a subscriber. policy-data/ues/{ueId}/\  
sm-data
UsageMonitoringInformation {apiRoot}/nudr-dr/{apiVersion}/\ GET Retrieve a
usage monitoring resource. policy-data/ues/{ueId}/\  
sm-data/{usageMonId}
                                                                                         PUT                               Create a usage monitoring resource.
                                                                                         DELETE                            Delete a usage monitoring resource.
OperatorSpecificData {apiRoot}/nudr-dr/{apiVersion}/\ GET Retrieve the
operator specific policy data of an UE policy-data/ues/{ueId}/\  
operator-specific-data
                                                                                         PATCH                             Modify the operator specific policy data of an UE.
                                                                                         PUT                               Modify the operator specific policy data of an UE.
SponsorConnectivityData {apiRoot}/nudr-dr/{apiVersion}/\ GET Retrieves the
sponsored connectivity information for a given sponsorId. policy-data/sponsor-
connectivity-data/{sponsorId}
BdtData {apiRoot}/nudr-dr/{apiVersion}/\ GET Retrieves the BDT data
collection. policy-data/bdt-data
IndividualBdtData {apiRoot}/nudr-dr/{apiVersion}/\ GET Retrieves the BDT data
information associated with a BDT reference Id. policy-data/bdt-data/\  
{bdtReferenceId}
                                                                                         PUT                               Creates an BDT data resource associated with an BDT reference Id.
                                                                                         DELETE                            Deletes an BDT data resource associated with an BDT reference Id.
PolicyDataSubscriptions {apiRoot}/nudr-dr/{apiVersion}/\ POST Create a
subscription to receive notification of policy data changes. policy-data/subs-
to-notify
IndividualPolicyDataSubscription {apiRoot}/nudr-dr/{apiVersion}/\ PUT Modify a
subscription to receive notification of policy data changes. policy-data/subs-
to-notify/\  
{subsId}
                                                                                         DELETE                            Delete the subscription identified by {subsId}.
PlmnUePolicySet {apiRoot}/nudr-dr/{apiVersion}/\ GET Retrieve the UE policy
set data for a H-PLMN. policy-data/plmns/{plmnId}/\  
ue-policy-set
* * *
### 5.2.3 Resource: AccessAndMobilityPolicyData
#### 5.2.3.1 Description
The resource represents all UE related mobility and access policies attributes
in the UDR for a given \"ueId\".
#### 5.2.3.2 Resource definition
Resource URI: **{apiRoot}/nudr-dr/{apiVersion}/policy-data/ues/{ueId}/am-
data**
This resource shall support the resource URI variables defined in table
5.2.3.2-1.
Table 5.2.3.2-1: Resource URI variables for this resource
* * *
Name Definition apiRoot See 3GPP TS 29.504 [6] subclause 6.1.1 apiVersion See
3GPP TS 29.504 [6] subclause 6.1.1. ueId Represents the Subscription
Identifier SUPI or GPSI, see the data type VarUeId as defined in 3GPP TS
29.571 [7].
* * *
#### 5.2.3.3 Resource Standard Methods
##### 5.2.3.3.1 GET
This method shall support the URI query parameters specified in table
5.2.3.3.1-1.
Table 5.2.3.3.1-1: URI query parameters supported by the GET method on this
resource
* * *
Name Data type P Cardinality Description n/a
* * *
This method shall support the request data structures specified in table
5.2.3.3.1-2 and the response data structures and response codes specified in
table 5.2.3.3.1-3.
Table 5.2.3.3.1-2: Data structures supported by the GET Request Body on this
resource
* * *
Data type P Cardinality Description n/a
* * *
Table 5.2.3.3.1-3: Data structures supported by the GET Response Body on this
resource
+-----------------+---+-------------+----------+-----------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +-----------------+---+-------------+----------+-----------------+ | AmPolicyData | M | 1 | 200 OK | Upon success, a | | | | | | response body | | | | | | containing | | | | | | access and | | | | | | mobility | | | | | | policies shall | | | | | | be returned. | +-----------------+---+-------------+----------+-----------------+ | NOTE: The | | | | | | mandatory HTTP | | | | | | error status | | | | | | codes for the | | | | | | GET method | | | | | | listed in | | | | | | table 5.2.7.1-1 | | | | | | of | | | | | | 3GPP | | | | | | TS 29.500 [4] | | | | | | also apply. | | | | | +-----------------+---+-------------+----------+-----------------+
### 5.2.4 Resource: UEPolicySet
#### 5.2.4.1 Description
The resource represents UE policy set for a given \"ueId\" stored in the UDR
of the H-PLMN.
#### 5.2.4.2 Resource definition
Resource URI: **{apiRoot}/nudr-dr/{apiVersion}/policy-data/ues/{ueId}/ue-
policy-set**
This resource shall support the resource URI variables defined in table
5.2.4.2-1.
Table 5.2.4.2-1: Resource URI variables for this resource
* * *
Name Definition apiRoot See 3GPP TS 29.504 [6] subclause 6.1.1 apiVersion See
3GPP TS 29.504 [6] subclause 6.1.1. ueId Represents the Subscription
Identifier SUPI or GPSI, see the data type VarUeId as defined in 3GPP TS
29.571 [7].
* * *
#### 5.2.4.3 Resource Standard Methods
##### 5.2.4.3.1 PUT
This method shall support the URI query parameters specified in table
5.2.4.3.1-1.
Table 5.2.4.3.1-1: URI query parameters supported by the PUT method on this
resource
* * *
Name Data type P Cardinality Description n/a
* * *
This method shall support the request data structures specified in table
5.2.4.3.1-2 and the response data structures and response codes specified in
table 5.2.4.3.1-3.
Table 5.2.4.3.1-2: Data structures supported by the PUT Request Body on this
resource
* * *
Data type P Cardinality Description UePolicySet M 1 Create or modify the UE
policy set resource for a given subscriber.
* * *
Table 5.2.4.3.1-3: Data structures supported by the PUT Response Body on this
resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | UePolicySet | M | 1 | 201 Created | Successful | | | | | | case. | | | | | | | | | | | | The resource | | | | | | has been | | | | | | successfully | | | | | | created and a | | | | | | response body | | | | | | containing a | | | | | | r | | | | | | epresentation | | | | | | of the | | | | | | created | | | | | | UEPolicySet | | | | | | resource | | | | | | shall be | | | | | | returned. | +---------------+---+-------------+---------------+---------------+ | UePolicySet | M | 1 | 200 OK | Successful | | | | | | case. | | | | | | | | | | | | The resource | | | | | | has been | | | | | | successfully | | | | | | updated and a | | | | | | response body | | | | | | containing UE | | | | | | policies | | | | | | shall be | | | | | | returned. | +---------------+---+-------------+---------------+---------------+ | n/a | | | 204 No | Successful | | | | | Content | case. | | | | | | | | | | | | The resource | | | | | | has been | | | | | | successfully | | | | | | updated and | | | | | | no additional | | | | | | content is to | | | | | | be sent in | | | | | | the response | | | | | | message. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the PUT | | | | | | method listed | | | | | | in | | | | | | ta | | | | | | ble 5.2.7.1-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.500 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
##### 5.2.4.3.2 PATCH
This method shall support the URI query parameters specified in table
5.2.4.3.2-1.
Table 5.2.4.3.2-1: URI query parameters supported by the PATCH method on this
resource
* * *
Name Data type P Cardinality Description n/a
* * *
This method shall support the request data structures specified in table
5.2.4.3.2-2 and the response data structures and response codes specified in
table 5.2.4.3.2-3.
Table 5.2.4.3.2-2: Data structures supported by the PATCH Request Body on this
resource
* * *
Data type P Cardinality Description UePolicySetPatch M 1 Modify the UE policy
set resource for a given subscriber.
* * *
Table 5.2.4.3.2-3: Data structures supported by the PATCH Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | n/a | | | 204 No | Successful | | | | | Content | case. | | | | | | | | | | | | The resource | | | | | | has been | | | | | | successfully | | | | | | updated and | | | | | | no additional | | | | | | content is to | | | | | | be sent in | | | | | | the response | | | | | | message. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the PATCH | | | | | | method listed | | | | | | in | | | | | | ta | | | | | | ble 5.2.7.1-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.500 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
##### 5.2.4.3.3 GET
This method shall support the URI query parameters specified in table
5.2.4.3.3-1.
Table 5.2.4.3.3-1: URI query parameters supported by the GET method on this
resource
* * *
Name Data type P Cardinality Description n/a
* * *
This method shall support the request data structures specified in table
5.2.4.3.3-2 and the response data structures and response codes specified in
table 5.2.4.3.3-3.
Table 5.2.4.3.3-2: Data structures supported by the GET Request Body on this
resource
* * *
Data type P Cardinality Description n/a
* * *
Table 5.2.4.3.3-3: Data structures supported by the GET Response Body on this
resource
+-----------------+---+-------------+----------+-----------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +-----------------+---+-------------+----------+-----------------+ | UePolicySet | M | 1 | 200 OK | Upon success, a | | | | | | response body | | | | | | containing the | | | | | | UE policies | | | | | | shall be | | | | | | returned. | +-----------------+---+-------------+----------+-----------------+ | NOTE: The | | | | | | mandatory HTTP | | | | | | error status | | | | | | codes for the | | | | | | GET method | | | | | | listed in | | | | | | table 5.2.7.1-1 | | | | | | of | | | | | | 3GPP | | | | | | TS 29.500 [4] | | | | | | also apply. | | | | | +-----------------+---+-------------+----------+-----------------+
### 5.2.5 Resource: SessionManagementPolicyData
#### 5.2.5.1 Description
The resource represents all PDU session related subscription attributes in the
UDR for a given ueId.
#### 5.2.5.2 Resource definition
Resource URI: **{apiRoot}/nudr-dr/{apiVersion}/policy-data/ues/{ueId}/sm-
data**
This resource shall support the resource URI variables defined in table
5.2.5.2-1.
Table 5.2.5.2-1: Resource URI variables for this resource
* * *
Name Definition apiRoot See 3GPP TS 29.504 [6] subclause 6.1.1. apiVersion See
3GPP TS 29.504 [6] subclause 6.1.1. ueId Represents the Subscription
Identifier SUPI or GPSI, see the data type VarUeId as defined in 3GPP TS
29.571 [7].
* * *
#### 5.2.5.3 Resource Standard Methods
##### 5.2.5.3.1 GET
This method shall support the URI query parameters specified in table
5.2.5.3.1-1.
Table 5.2.5.3.1-1: URI query parameters supported by the GET method on this
resource
* * *
Name Data type P Cardinality Description snssai Snssai O 0..1 Identifies a
Single Network Slice Selection Assistance Information. dnn Dnn O 0..1
Identifies an Data Network Name. fields array(string) C 1..N When the NF
consumer only retrieves a subset of the resource, the \"fields\" query
parameter shall be included. The \"fields\" query parameter contains the
pointers of the attribute(s) to be retrieved.
* * *
When an optional query parameter is not included, the UDR shall return session
management policy data per DNN matching the value of the included query
parameter(s) for all the possible values of the omitted query parameter. E.g.
if \"snssai\" is not included, and \"dnn\" is included, UDR shall return the
session management policy data per DNN for the DNN identified by \"dnn\" for
all network slices where such DNN is available.
This method shall support the request data structures specified in table
5.2.5.3.1-2 and the response data structures and response codes specified in
table 5.2.5.3.1-3.
Table 5.2.5.3.1-2: Data structures supported by the GET Request Body on this
resource
* * *
Data type P Cardinality Description n/a
* * *
Table 5.2.5.3.1-3: Data structures supported by the GET Response Body on this
resource
+-----------------+---+-------------+----------+-----------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +-----------------+---+-------------+----------+-----------------+ | SmPolicyData | M | 1 | 200 OK | Upon success, a | | | | | | response body | | | | | | containing | | | | | | SmPolicyData | | | | | | shall be | | | | | | returned. | +-----------------+---+-------------+----------+-----------------+ | NOTE: The | | | | | | mandatory HTTP | | | | | | error status | | | | | | codes for the | | | | | | GET method | | | | | | listed in | | | | | | table 5.2.7.1-1 | | | | | | of | | | | | | 3GPP | | | | | | TS 29.500 [4] | | | | | | also apply. | | | | | +-----------------+---+-------------+----------+-----------------+
NOTE: This release supports that only one PCF can access to the UDR to
retrieve the SM Policy Data under one S-NSSAI and DNN association.
##### 5.2.5.3.2 PATCH
Void.
### 5.2.6 Resource: UsageMonitoringInformation
#### 5.2.6.1 Description
The resource represents an individual usage monitoring resource created in the
UDR and associated with a ueId and a usageMonId.
#### 5.2.6.2 Resource definition
Resource URI: **{apiRoot}/nudr-dr/{apiVersion}/policy-data/ues/{ueId}/sm-
data/{usageMonId}**
This resource shall support the resource URI variables defined in table
5.2.6.2-1.
Table 5.2.6.2-1: Resource URI variables for this resource
* * *
Name Definition apiRoot See 3GPP TS 29.504 [6] subclause 6.1.1. apiVersion See
3GPP TS 29.504 [6] subclause 6.1.1. ueId Represents the Subscription
Identifier SUPI or GPSI, see the data type VarUeId as defined in 3GPP TS
29.571 [7]. usageMonId Unique identifier of the individual SM Policy usage
monitoring resource. It contains the identity of the corresponding limit as
defined in the \"limitId\" attribute of the UsageMonDataLimit data type (see
subclause 5.4.2.6).
* * *
#### 5.2.6.3 Resource Standard Methods
##### 5.2.6.3.1 PUT
This method shall support the URI query parameters specified in table
5.2.6.3.1-1.
Table 5.2.6.3.1-1: URI query parameters supported by the PUT method on this
resource
* * *
Name Data type P Cardinality Description n/a
* * *
This method shall support the request data structures specified in table
5.2.6.3.1-2 and the response data structures and response codes specified in
table 5.2.6.3.1-3.
Table 5.2.6.3.1-2: Data structures supported by the PUT Request Body on this
resource
* * *
Data type P Cardinality Description UsageMonData M 1 Create the usage
monitoring resource.
* * *
Table 5.2.6.3.1-3: Data structures supported by the PUT Response Body on this
resource
+---------------+---+-------------+-------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+-------------+---------------+ | UsageMonData | M | 1 | 201 Created | Successful | | | | | | case. | | | | | | | | | | | | The resource | | | | | | has been | | | | | | successfully | | | | | | created and a | | | | | | response body | | | | | | is returned | | | | | | containing a | | | | | | r | | | | | | epresentation | | | | | | of the | | | | | | resource. | +---------------+---+-------------+-------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the PUT | | | | | | method listed | | | | | | in | | | | | | ta | | | | | | ble 5.2.7.1-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.500 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+-------------+---------------+
##### 5.2.6.3.2 DELETE
This method shall support the URI query parameters specified in table
5.2.6.3.2-1.
Table 5.2.6.3.2-1: URI query parameters supported by the DELETE method on this
resource
* * *
Name Data type P Cardinality Description n/a
* * *
This method shall support the request data structures specified in table
5.2.6.3.2-2 and the response data structures and response codes specified in
table 5.2.6.3.2-3.
Table 5.2.6.3.2-2: Data structures supported by the DELETE Request Body on
this resource
* * *
Data type P Cardinality Description n/a
* * *
Table 5.2.6.3.2-3: Data structures supported by the DELETE Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | n/a | | | 204 No | Successful | | | | | Content | case. | | | | | | | | | | | | The resource | | | | | | has been | | | | | | successfully | | | | | | deleted. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the | | | | | | DELETE method | | | | | | listed in | | | | | | ta | | | | | | ble 5.2.7.1-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.500 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
##### 5.2.6.3.3 GET
This method shall support the URI query parameters specified in table
5.2.6.3.3-1.
Table 5.2.6.3.3-1: URI query parameters supported by the GET method on this
resource
* * *
Name Data type P Cardinality Description n/a
* * *
This method shall support the request data structures specified in table
5.2.6.3.3-2 and the response data structures and response codes specified in
table 5.2.6.3.3-3.
Table 5.2.6.3.3-2: Data structures supported by the GET Request Body on this
resource
* * *
Data type P Cardinality Description n/a
* * *
Table 5.2.6.3.3-3: Data structures supported by the GET Response Body on this
resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | UsageMonData | M | 1 | 200 OK | Successful | | | | | | case. | | | | | | | | | | | | The usage | | | | | | monitoring | | | | | | data is | | | | | | returned. | +---------------+---+-------------+---------------+---------------+ | n/a | | | 204 No | The resource | | | | | Content | was found but | | | | | | no usage | | | | | | monitoring | | | | | | data is | | | | | | available. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the GET | | | | | | method listed | | | | | | in | | | | | | ta | | | | | | ble 5.2.7.1-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.500 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
### 5.2.7 Resource: SponsorConnectivityData
#### 5.2.7.1 Description
The resource represents sponsored data connectivity related information stored
in the UDR for a given sponsorId.
#### 5.2.7.2 Resource definition
Resource URI: **{apiRoot}/nudr-dr/{apiVersion}/policy-data/sponsor-
connectivity-data/{sponsorId}**
This resource shall support the resource URI variables defined in table
5.2.7.2-1.
Table 5.2.7.2-1: Resource URI variables for this resource
* * *
Name Definition apiRoot See 3GPP TS 29.504 [6] subclause 6.1.1. apiVersion See
3GPP TS 29.504 [6] subclause 6.1.1. sponsorId String that represents the
sponsor identity.
* * *
#### 5.2.7.3 Resource Standard Methods
##### 5.2.7.3.1 GET
This method shall support the URI query parameters specified in table
5.2.7.3.1-1.
Table 5.2.7.3.1-1: URI query parameters supported by the GET method on this
resource
* * *
Name Data type P Cardinality Description n/a
* * *
This method shall support the request data structures specified in table
5.2.7.3.1-2 and the response data structures and response codes specified in
table 5.2.7.3.1-3.
Table 5.2.7.3.1-2: Data structures supported by the GET Request Body on this
resource
* * *
Data type P Cardinality Description n/a
* * *
Table 5.2.7.3.1-3: Data structures supported by the GET Response Body on this
resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | SponsorCon | M | 1 | 200 OK | Upon success, | | nectivityData | | | | a response | | | | | | body | | | | | | containing | | | | | | Sponsor | | | | | | Connectivity | | | | | | Data shall be | | | | | | returned. | +---------------+---+-------------+---------------+---------------+ | n/a | | | 204 No | The resource | | | | | Content | was found but | | | | | | no Sponsor | | | | | | Connectivity | | | | | | Data is | | | | | | available. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the GET | | | | | | method listed | | | | | | in | | | | | | ta | | | | | | ble 5.2.7.1-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.500 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
### 5.2.8 Resource: BdtData
#### 5.2.8.1 Description
The resource represents background data transfer data stored in the UDR.
#### 5.2.8.2 Resource definition
Resource URI: **{apiRoot}/nudr-dr/{apiVersion}/policy-data/bdt-data**
This resource shall support the resource URI variables defined in table
5.2.8.2-1.
Table 5.2.8.2-1: Resource URI variables for this resource
* * *
Name Definition apiRoot See 3GPP TS 29.504 [6] subclause 6.1.1. apiVersion See
3GPP TS 29.504 [6] subclause 6.1.1.
* * *
#### 5.2.8.3 Resource Standard Methods
##### 5.2.8.3.1 GET
This method shall support the URI query parameters specified in table
5.2.8.3.1-1.
Table 5.2.8.3.1-1: URI query parameters supported by the GET method on this
resource
* * *
Name Data type P Cardinality Description n/a
* * *
This method shall support the request data structures specified in table
5.2.8.3.1-2 and the response data structures and response codes specified in
table 5.2.8.3.1-3.
Table 5.2.8.3.1-2: Data structures supported by the GET Request Body on this
resource
* * *
Data type P Cardinality Description n/a
* * *
Table 5.2.8.3.1-3: Data structures supported by the GET Response Body on this
resource
+-----------------+---+-------------+----------+-----------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +-----------------+---+-------------+----------+-----------------+ | array(BdtData) | M | 0..N | 200 OK | Upon success, a | | | | | | response body | | | | | | containing the | | | | | | BDT data shall | | | | | | be returned. | | | | | | | | | | | | Each member of | | | | | | the array is an | | | | | | individual BDT | | | | | | data. | +-----------------+---+-------------+----------+-----------------+ | NOTE: The | | | | | | mandatory HTTP | | | | | | error status | | | | | | codes for the | | | | | | GET method | | | | | | listed in | | | | | | table 5.2.7.1-1 | | | | | | of | | | | | | 3GPP | | | | | | TS 29.500 [4] | | | | | | also apply. | | | | | +-----------------+---+-------------+----------+-----------------+
### 5.2.9 Resource: IndividualBdtData
#### 5.2.9.1 Description
The resource represents individual background data transfer data stored in the
UDR for a given \"bdtReferenceId\".
#### 5.2.9.2 Resource definition
Resource URI: **{apiRoot}/nudr-dr/{apiVersion}/policy-data/bdt-
data/{bdtReferenceId}**
This resource shall support the resource URI variables defined in table
5.2.9.2-1.
Table 5.2.9.2-1: Resource URI variables for this resource
* * *
Name Definition apiRoot See 3GPP TS 29.504 [6] subclause 6.1.1. apiVersion See
3GPP TS 29.504 [6] subclause 6.1.1. bdtReferenceId String that represents the
transfer policy of background data transfer for provided ASP as defined in
3GPP TS 29.122 [9].
* * *
#### 5.2.9.3 Resource Standard Methods
##### 5.2.9.3.1 GET
This method shall support the URI query parameters specified in table
5.2.9.3.1-1.
Table 5.2.9.3.1-1: URI query parameters supported by the GET method on this
resource
* * *
Name Data type P Cardinality Description n/a
* * *
This method shall support the request data structures specified in table
5.2.9.3.1-2 and the response data structures and response codes specified in
table 5.2.9.3.1-3.
Table 5.2.9.3.1-2: Data structures supported by the GET Request Body on this
resource
* * *
Data type P Cardinality Description n/a
* * *
Table 5.2.9.3.1-3: Data structures supported by the GET Response Body on this
resource
+-----------------+---+-------------+----------+-----------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +-----------------+---+-------------+----------+-----------------+ | BdtData | M | 1 | 200 OK | Upon success, a | | | | | | response body | | | | | | containing the | | | | | | BDT data shall | | | | | | be returned. | +-----------------+---+-------------+----------+-----------------+ | NOTE: The | | | | | | mandatory HTTP | | | | | | error status | | | | | | codes for the | | | | | | GET method | | | | | | listed in | | | | | | table 5.2.7.1-1 | | | | | | of | | | | | | 3GPP | | | | | | TS 29.500 [4] | | | | | | also apply. | | | | | +-----------------+---+-------------+----------+-----------------+
##### 5.2.9.3.2 PUT
This method shall support the URI query parameters specified in table
5.2.9.3.2-1.
Table 5.2.9.3.2-1: URI query parameters supported by the PUT method on this
resource
* * *
Name Data type P Cardinality Description n/a
* * *
This method shall support the request data structures specified in table
5.2.9.3.2-2 and the response data structures and response codes specified in
table 5.2.9.3.2-3.
Table 5.2.9.3.2-2: Data structures supported by the PUT Request Body on this
resource
* * *
Data type P Cardinality Description BdtData M 1 Create the BDT data for a
given bdtReferenceId.
* * *
Table 5.2.9.3.2-3: Data structures supported by the PUT Response Body on this
resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | BdtData | M | 1 | 201 Created | Successful | | | | | | case. | | | | | | | | | | | | The resource | | | | | | has been | | | | | | successfully | | | | | | created. | +---------------+---+-------------+---------------+---------------+ | P | M | 1 | 403 Forbidden | The resource | | roblemDetails | | | | is not | | | | | | allowed to be | | | | | | updated. | | | | | | | | | | | | (NOTE 2) | +---------------+---+-------------+---------------+---------------+ | NOTE 1: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the PUT | | | | | | method listed | | | | | | in | | | | | | ta | | | | | | ble 5.2.7.1-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.500 [4] | | | | | | also apply. | | | | | | | | | | | | NOTE 2: The | | | | | | \"cause\" | | | | | | attribute | | | | | | within the | | | | | | \"Pro | | | | | | blemDetails\" | | | | | | data | | | | | | structure may | | | | | | be set to | | | | | | \"UPDATE_N | | | | | | OT_ALLOWED\" | | | | | | as defined in | | | | | | sub | | | | | | clause 5.5.3. | | | | | +---------------+---+-------------+---------------+---------------+
##### 5.2.9.3.3 DELETE
This method shall support the URI query parameters specified in table
5.2.9.3.3-1.
Table 5.2.9.3.3-1: URI query parameters supported by the DELETE method on this
resource
* * *
Name Data type P Cardinality Description n/a
* * *
This method shall support the request data structures specified in table
5.2.9.3.3-2 and the response data structures and response codes specified in
table 5.2.9.3.3-3.
Table 5.2.9.3.3-2: Data structures supported by the DELETE Request Body on
this resource
* * *
Data type P Cardinality Description n/a
* * *
Table 5.2.9.3.3-3: Data structures supported by the DELETE Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | n/a | | | 204 No | Successful | | | | | Content | case. | | | | | | | | | | | | The resource | | | | | | has been | | | | | | successfully | | | | | | deleted. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the | | | | | | DELETE method | | | | | | listed in | | | | | | ta | | | | | | ble 5.2.7.1-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.500 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
### 5.2.10 Resource: PolicyDataSubscriptions
#### 5.2.10.1 Description
This resource is used to represent subscriptions to notification of policy
data modification.
#### 5.2.10.2 Resource definition
Resource URI: **{apiRoot}/nudr-dr/{apiVersion}/policy-data/subs-to-notify**
This resource shall support the resource URI variables defined in table
5.2.10.2-1.
Table 5.2.10.2-1: Resource URI variables for this resource
* * *
Name Definition apiRoot See 3GPP TS 29.504 [6] subclause 6.1.1. apiVersion See
3GPP TS 29.504 [6] subclause 6.1.1.
* * *
#### 5.2.10.3 Resource Standard Methods
##### 5.2.10.3.1 POST
This method shall support the URI query parameters specified in table
5.2.10.3.1-1.
Table 5.2.10.3.1-1: URI query parameters supported by the POST method on this
resource
* * *
Name Data type P Cardinality Description n/a
* * *
This method shall support the request data structures specified in table
5.2.10.3.1-2 and the response data structures and response codes specified in
table 5.2.10.3.1-3.
Table 5.2.10.3.1-2: Data structures supported by the POST Request Body on this
resource
* * *
Data type P Cardinality Description PolicyDataSubscription M 1 Identifies the
subscription to notification of policy data modification.
* * *
Table 5.2.10.3.1-3: Data structures supported by the POST Response Body on
this resource
+---------------+---+-------------+-------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+-------------+---------------+ | PolicyDat | M | 1 | 201 Created | Upon success, | | aSubscription | | | | a response | | | | | | body | | | | | | containing a | | | | | | r | | | | | | epresentation | | | | | | of each | | | | | | Individual | | | | | | subscription | | | | | | resource | | | | | | shall be | | | | | | returned. | | | | | | | | | | | | The HTTP | | | | | | response | | | | | | shall include | | | | | | a | | | | | | \"Location\" | | | | | | HTTP header | | | | | | that contains | | | | | | the resource | | | | | | URI of the | | | | | | created | | | | | | resource. | +---------------+---+-------------+-------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the POST | | | | | | method listed | | | | | | in | | | | | | ta | | | | | | ble 5.2.7.1-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.500 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+-------------+---------------+
### 5.2.11 Resource: IndividualPolicyDataSubscription
#### 5.2.11.1 Description
This resource is used to represent an individual subscription to notification
of policy data modification.
#### 5.2.11.2 Resource definition
Resource URI: **{apiRoot}/nudr-dr/{apiVersion}/policy-data/subs-to-
notify/{subsId}**
This resource shall support the resource URI variables defined in table
5.2.11.2-1.
Table 5.2.11.2-1: Resource URI variables for this resource
* * *
Name Definition apiRoot See 3GPP TS 29.504 [6] subclause 6.1.1. apiVersion See
3GPP TS 29.504 [6] subclause 6.1.1. subsId The subsId identifies an individual
policy data subscription to notifications. The value is allocated by the UDR
during creation of the PolicyDataSubscriptions resource.
* * *
#### 5.2.11.3 Resource Standard Methods
##### 5.2.11.3.1 PUT
This method shall support the URI query parameters specified in table
5.2.11.3.1-1.
Table 5.2.11.3.1-1: URI query parameters supported by the PUT method on this
resource
* * *
Name Data type P Cardinality Description n/a
* * *
This method shall support the request data structures specified in table
5.2.11.3.1-2 and the response data structures and response codes specified in
table 5.2.11.3.1-3.
Table 5.2.11.3.1-2: Data structures supported by the PUT Request Body on this
resource
* * *
Data type P Cardinality Description PolicyDataSubscription M 1 Updates the
subscription to notification of policy data modification.
* * *
Table 5.2.11.3.1-3: Data structures supported by the PUT Response Body on this
resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | PolicyDat | M | 1 | 200 OK | The | | aSubscription | | | | individual | | | | | | subscription | | | | | | resource was | | | | | | updated | | | | | | successfully. | +---------------+---+-------------+---------------+---------------+ | n/a | | | 204 No | The | | | | | Content | individual | | | | | | subscription | | | | | | resource was | | | | | | updated | | | | | | successfully | | | | | | and no | | | | | | additional | | | | | | content is to | | | | | | be sent in | | | | | | the response | | | | | | message. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the PUT | | | | | | method listed | | | | | | in | | | | | | ta | | | | | | ble 5.2.7.1-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.500 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
##### 5.2.11.3.2 DELETE
This method shall support the URI query parameters specified in table
5.2.11.3.2-1.
Table 5.2.11.3.2-1: URI query parameters supported by the DELETE method on
this resource
* * *
Name Data type P Cardinality Description n/a
* * *
This method shall support the request data structures specified in table
5.2.11.3.2-2 and the response data structures and response codes specified in
table 5.2.11.3.2-3.
Table 5.2.11.3.2-2: Data structures supported by the DELETE Request Body on
this resource
* * *
Data type P Cardinality Description n/a The request body shall be empty.
* * *
Table 5.2.11.3.2-3: Data structures supported by the DELETE Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | n/a | | | 204 No | Upon success, | | | | | Content | an empty | | | | | | response body | | | | | | shall be | | | | | | returned. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the | | | | | | DELETE method | | | | | | listed in | | | | | | ta | | | | | | ble 5.2.7.1-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.500 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
### 5.2.12 Resource: OperatorSpecificData
#### 5.2.12.1 Description
This resource represents the UE's operator specific data.
This resource is modelled with the Document resource archetype (see subclause
C.1 of 3GPP TS 29.501 [5]).
#### 5.2.12.2 Resource Definition
Resource URI: **{apiRoot}/nudr-dr/{apiVersion}/policy-
data/ues/{ueId}/operator-specific-data**
This resource shall support the resource URI variables defined in table
5.2.12.2-1.
Table 5.2.12.2-1: Resource URI variables for this resource
* * *
Name Definition apiRoot See 3GPP TS 29.504 [6] subclause 6.1.1. apiVersion See
3GPP TS 29.504 [6] subclause 6.1.1. ueId Represents the Subscription
Identifier SUPI or GPSI, see the data type VarUeId as defined in 3GPP TS
29.571 [7].
* * *
#### 5.2.12.3 Resource Standard Methods
##### 5.2.12.3.1 GET
This method is used to retrieve operator specific data from the UDR.
This method shall support the URI query parameters specified in table
5.2.12.3.1-1.
Table 5.2.12.3.1-1: URI query parameters supported by the GET method on this
resource
* * *
Name Data type P Cardinality Description fields array(string) C 1..N When the
NF consumer only retrieves a subset of the resource, the \"fields\" query
parameter shall be included. The \"fields\" query parameter contains the
pointers of the attribute(s) to be retrieved.
* * *
This method shall support the request data structures specified in table
5.2.12.3.1-2 and the response data structures and response codes specified in
table 5.2.12.3.1-3.
Table 5.2.12.3.1-2: Data structures supported by the GET Request Body on this
resource
* * *
Data type P Cardinality Description n/a
* * *
Table 5.2.12.3.1-3: Data structures supported by the GET Response Body on this
resource
+-----------------+---+-------------+----------+-----------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +-----------------+---+-------------+----------+-----------------+ | map( | M | 1..N | 200 OK | Upon success, a | | OperatorSpecifi | | | | response body | | cDataContainer) | | | | containing a | | | | | | map shall be | | | | | | returned. The | | | | | | key of the map | | | | | | is operator | | | | | | specific data | | | | | | element name | | | | | | and the value | | | | | | is the operator | | | | | | specific data | | | | | | of the UE. | +-----------------+---+-------------+----------+-----------------+ | NOTE: The | | | | | | mandatory HTTP | | | | | | error status | | | | | | codes for the | | | | | | GET method | | | | | | listed in | | | | | | table 5.2.7.1-1 | | | | | | of | | | | | | 3GPP | | | | | | TS 29.500 [4] | | | | | | also apply. | | | | | +-----------------+---+-------------+----------+-----------------+
##### 5.2.12.3.2 PATCH
This method is used to modify operator specific data in the UDR.
This method shall support the URI query parameters specified in table
5.2.12.3.2-1.
Table 5.2.12.3.2-1: URI query parameters supported by the PATCH method on this
resource
* * *
**Name** **Data type** **P** **Cardinality** **Description** n/a
* * *
This method shall support the request data structures specified in table
5.2.12.3.2-2 and the response data structures and response codes specified in
table 5.2.12.3.2-3.
Table 5.2.12.3.2-2: Data structures supported by the PATCH Request Body on
this resource
* * *
Data type P Cardinality Description array(PatchItem) M 1..N Contains the delta
data to the operator specific data
* * *
Table 5.2.12.3.2-3: Data structures supported by the PATCH Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | n/a | | | 204 No | Upon | | | | | Content | successful | | | | | | modification | | | | | | there is no | | | | | | body in the | | | | | | response | | | | | | message. | +---------------+---+-------------+---------------+---------------+ | P | M | 1 | 403 Forbidden | One or more | | roblemDetails | | | | attributes | | | | | | are not | | | | | | allowed to be | | | | | | modified | | | | | | according to | | | | | | e.g. policy | | | | | | or local | | | | | | c | | | | | | onfiguration. | | | | | | | | | | | | The | | | | | | invalidParams | | | | | | attribute | | | | | | shall contain | | | | | | the JSON | | | | | | pointers of | | | | | | attributes | | | | | | which are not | | | | | | allowed to be | | | | | | modified. | | | | | | | | | | | | The cause | | | | | | attribute | | | | | | shall be set | | | | | | to | | | | | | \"UPDATE_N | | | | | | OT_ALLOWED\" | | | | | | as defined in | | | | | | sub | | | | | | clause 5.5.3. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the PATCH | | | | | | method listed | | | | | | in | | | | | | ta | | | | | | ble 5.2.7.1-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.500 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
##### 5.2.12.3.3 PUT
This method is used to modify operator specific data in the UDR.
This method shall support the URI query parameters specified in table
5.2.12.3.3-1.
Table 5.2.12.3.3-1: URI query parameters supported by the PUT method on this
resource
* * *
Name Data type P Cardinality Description n/a
* * *
This method shall support the request data structures specified in table
5.2.12.3.3-2 and the response data structures and response codes specified in
table 5.2.12.3.3-3.
Table 5.2.12.3.3-2: Data structures supported by the PUT Request Body on this
resource
* * *
Data type P Cardinality Description map(OperatorSpecificDataContainer) M 1..N
A map containing the new representation of the operator specific data. The key
of the map is operator specific data element name and the value is the
operator specific data of the UE.
* * *
Table 5.2.12.3.3-3: Data structures supported by the PUT Response Body on this
resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | map(Oper | M | 1 | 200 OK | Upon | | atorSpecificD | | | | successful | | ataContainer) | | | | modification | | | | | | a response | | | | | | body | | | | | | containing a | | | | | | map shall be | | | | | | returned. The | | | | | | key of the | | | | | | map is | | | | | | operator | | | | | | specific data | | | | | | element name | | | | | | and the value | | | | | | is the | | | | | | operator | | | | | | specific data | | | | | | of the UE. | +---------------+---+-------------+---------------+---------------+ | n/a | | | 204 No | The resource | | | | | Content | has been | | | | | | successfully | | | | | | updated. | +---------------+---+-------------+---------------+---------------+ | P | M | 1 | 403 Forbidden | One or more | | roblemDetails | | | | attributes | | | | | | are not | | | | | | allowed to be | | | | | | modified | | | | | | according to | | | | | | e.g. policy | | | | | | or local | | | | | | c | | | | | | onfiguration. | | | | | | | | | | | | The | | | | | | invalidParams | | | | | | attribute | | | | | | shall contain | | | | | | the JSON | | | | | | pointers of | | | | | | attributes | | | | | | which are not | | | | | | allowed to be | | | | | | modified. | | | | | | | | | | | | The cause | | | | | | attribute | | | | | | shall be set | | | | | | to | | | | | | \"UPDATE_N | | | | | | OT_ALLOWED\" | | | | | | as defined in | | | | | | sub | | | | | | clause 5.5.3. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the PUT | | | | | | method listed | | | | | | in | | | | | | ta | | | | | | ble 5.2.7.1-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.500 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
### 5.2.13 Resource: PlmnUePolicySet
#### 5.2.13.1 Description
The resource represents the UE policy set for a given \"plmnId\" representing
a H-PLMN stored in the UDR of a Vâ€‘PLMN.
#### 5.2.13.2 Resource definition
Resource URI: **{apiRoot}/nudr-dr/{apiVersion}/policy-data/plmns/{plmnId}/ue-
policy-set**
This resource shall support the resource URI variables defined in table
5.2.13.2-1.
Table 5.2.13.2-1: Resource URI variables for this resource
* * *
Name Definition apiRoot See 3GPP TS 29.504 [6] subclause 6.1.1. apiVersion See
3GPP TS 29.504 [6] subclause 6.1.1. plmnId String concatenating a Mcc and Mnc
as defined in 3GPP TS 29.505 [15].
* * *
#### 5.2.13.3 Resource Standard Methods
##### 5.2.13.3.1 GET
This method shall support the URI query parameters specified in table
5.2.13.3.1-1.
Table 5.2.13.3.1-1: URI query parameters supported by the GET method on this
resource
* * *
Name Data type P Cardinality Description n/a
* * *
This method shall support the request data structures specified in table
5.2.13.3.1-2 and the response data structures and response codes specified in
table 5.2.13.3.1-3.
Table 5.2.13.3.1-2: Data structures supported by the GET Request Body on this
resource
* * *
Data type P Cardinality Description n/a
* * *
Table 5.2.13.3.1-3: Data structures supported by the GET Response Body on this
resource
+-----------------+---+-------------+----------+-----------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +-----------------+---+-------------+----------+-----------------+ | UePolicySet | M | 1 | 200 OK | Upon success, a | | | | | | response body | | | | | | containing the | | | | | | UE policies | | | | | | shall be | | | | | | returned. | +-----------------+---+-------------+----------+-----------------+ | NOTE: The | | | | | | mandatory HTTP | | | | | | error status | | | | | | codes for the | | | | | | GET method | | | | | | listed in | | | | | | table 5.2.7.1-1 | | | | | | of | | | | | | 3GPP | | | | | | TS 29.500 [4] | | | | | | also apply. | | | | | +-----------------+---+-------------+----------+-----------------+
## 5.3 Notifications
### 5.3.1 General
Notifications shall comply with subclause 6.2 of 3GPP TS 29.500 [4] and
subclause 4.6.2.3 of 3GPP TS 29.501 [5].
This subclause describes the resources to provide notification to NF service
consumers which have subscribed to be notified when policy data is changed.
### 5.3.2 Policy Data Change Notification
The POST method shall be used for policy data change notification and the URI
shall be provided during the subscription procedure.
URI: **{notificationUri}**
This method shall support the URI query parameters specified in table 5.3.2-1.
Table 5.3.2-1: URI query parameters supported by the POST method
* * *
Name Data type P Cardinality Description n/a
* * *
This method shall support the request data structures specified in table
5.3.2-2 and the response data structures and response codes specified in table
5.3.2-3.
Table 5.3.2-2: Data structures supported by the POST Request Body
* * *
Data type P Cardinality Description array(PolicyDataChangeNotification) M 1..N
Notification of policy data changes.
* * *
Table 5.3.2-3: Data structures supported by the POST Response Body
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | n/a | | | 204 No | The reception | | | | | Content | of the | | | | | | notification | | | | | | is | | | | | | acknowledged. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the POST | | | | | | method listed | | | | | | in | | | | | | ta | | | | | | ble 5.2.7.1-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.500 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
## 5.4 Data Model
### 5.4.1 General
This subclause specifies the application data model supported by the API.
Table 5.4.1-1 specifies the data types defined for the Nudr_DataRepository for
Policy Data service based interface protocol.
Table 5.4.1-1: Nudr_DataRepository specific Data Types for Policy Data
* * *
Data type Section defined Description Applicability AmPolicyData 5.4.2.2
Contains the AM policy data for a given subscriber.  
BdtData 5.4.2.9 Contains the background data transfer data.  
DnnRouteSelectionDescriptor 5.4.2.20 Contains the route selector parameters
per DNN.  
LimitIdToMonitoringKey 5.4.2.16 Contains the limit identifier and the
corresponding monitoring key for a given S-NSSAI and DNN.  
OsId 5.4.3.2 Operating System supported by the UE.  
Periodicity 5.4.3.4 Indicates a type of time period.  
PlmnRouteSelectionDescriptor 5.4.2.18 Contains the route selectors for a
serving PLMN.  
PolicyDataChangeNotification 5.4.2.11 Contains changed policy data for which
notification was requested.  
PolicyDataSubscription 5.4.2.10 Identifies a subscription to policy data
change notification.  
SmPolicyData 5.4.2.5 Contains SM policy data for a subscriber and S-NSSAI.  
SmPolicyDnnData 5.4.2.15 Contains SM policy data for a DNN and S-NSSAI.  
SmPolicySnssaiData 5.4.2.14 Contains SM policy data for a S-NSSAI.  
SnssaiRouteSelectionDescriptor 5.4.2.19 Contains the route selector parameters
per SNSSAI.  
SponsorConnectivityData 5.4.2.8 Contains the sponsored data connectivity
related information for a sponsor identifier.  
TimePeriod 5.4.2.12 Contains the periodicity for the defined usage monitoring
data limits.  
UePolicySetPatch 5.4.2.17 Contains the UE policy data that can be modified by
the PCF.  
UePolicySection 5.4.2.3 Contains the UE policy section.  
UePolicySet 5.4.2.4 Contains the UE policy set for a given subscriber.  
UsageMonLevel 5.4.3.3 Indicates the level of the usage monitoring instance
(PDU Session level or per Service)  
UsageMonData 5.4.2.7 Contains remain allowed usage data for a subscriber.  
UsageMonDataLimit 5.4.2.6 Contains usage monitoring control data for a
subscriber.  
UsageMonDataScope 5.4.2.13 Contains SNSSAI and DNN combinations to which the
UsageMonData instance belongs to.
* * *
Table 5.4.1-2 specifies data types re-used by the Nudr_DataRepository for
Policy Data service based interface protocol from other specifications,
including a reference to their respective specifications and when needed, a
short description of their use within the Nudr_DataRepository for Policy Data
service based interface.
Table 5.4.1-2: Nudr_DataRepository re-used Data Types for Policy Data
+----------------+----------------+----------------+---------------+ | Data type | Reference | Comments | Applicability | +----------------+----------------+----------------+---------------+ | BitRate | 3GPP T | String | | | | S 29.571 [7] | representing a | | | | | bit rate that | | | | | shall be | | | | | formatted as | | | | | follows: | | | | | | | | | | pattern: | | | | | \"\^ | | | | | \d+(\\.\d+)? | | | | | (bps\ | | | | | |Kbps\|Mbps\|G | | | | | bps\|Tbps)\$\" | | | | | | | | | | Examples: | | | | | | | | | | \"125 Mbps\", | | | | | \"0.125 | | | | | Gbps\", | | | | | \"125000 | | | | | Kbps\". | | +----------------+----------------+----------------+---------------+ | Bytes | 3GPP T | String with | | | | S 29.571 [7] | format | | | | | \"byte\" as | | | | | defined in | | | | | OpenAPI Specif | | | | | ication [3], | | | | | i.e., | | | | | base64-encoded | | | | | characters. | | +----------------+----------------+----------------+---------------+ | Charg | 3GPP TS | The address of | | | ingInformation | 29.512 [12] | the Charging | | | | | Function. | | +----------------+----------------+----------------+---------------+ | DateTime | 3GPP T | String with | | | | S 29.571 [7] | format | | | | | \"date-time\" | | | | | as defined in | | | | | OpenAPI Specif | | | | | ication [3]. | | +----------------+----------------+----------------+---------------+ | Dnn | 3GPP T | Data Network | | | | S 29.571 [7] | Name. | | +----------------+----------------+----------------+---------------+ | N | 3GPP TS | Represents a | | | etworkAreaInfo | 29.554 [13] | network area | | | | | information. | | +----------------+----------------+----------------+---------------+ | O | 3GPP TS | Container for | | | peratorSpecifi | 29.505 [15] | operator | | | cDataContainer | | specific data | | +----------------+----------------+----------------+---------------+ | PatchItem | 3GPP T | Data structure | | | | S 29.571 [7] | used for JSON | | | | | patch. | | +----------------+----------------+----------------+---------------+ | PduSessionType | 3GPP T | PDU Session | | | | S 29.571 [7] | Type. | | +----------------+----------------+----------------+---------------+ | Pei | 3GPP T | Personal | | | | S 29.571 [7] | Equipment | | | | | Identifier. | | +----------------+----------------+----------------+---------------+ | PlmnId | 3GPP T | PLMN Identity. | | | | S 29.571 [7] | | | +----------------+----------------+----------------+---------------+ | PresenceInfo | 3GPP T | Presence | | | | S 29.571 [7] | Reporting Area | | | | | Information. | | +----------------+----------------+----------------+---------------+ | ProblemDetails | 3GPP T | Used in error | | | | S 29.571 [7] | responses to | | | | | provide more | | | | | detailed | | | | | information | | | | | about an | | | | | error. | | +----------------+----------------+----------------+---------------+ | Snssai | 3GPP T | Identifies the | | | | S 29.571 [7] | S-NSSAI. | | +----------------+----------------+----------------+---------------+ | SscMode | 3GPP T | SSC mode. | | | | S 29.571 [7] | | | +----------------+----------------+----------------+---------------+ | Sup | 3GPP T | Used to | | | portedFeatures | S 29.571 [7] | negotiate the | | | | | applicability | | | | | of the | | | | | optional | | | | | features | | +----------------+----------------+----------------+---------------+ | TransferPolicy | 3GPP TS | Represents a | | | | 29.554 [13] | transfer | | | | | policy. | | +----------------+----------------+----------------+---------------+ | Uinteger | 3GPP T | Unsigned | | | | S 29.571 [7] | Integer, i.e. | | | | | only value 0 | | | | | and integers | | | | | greater than 0 | | | | | are allowed. | | +----------------+----------------+----------------+---------------+ | Uri | 3GPP T | String | | | | S 29.571 [7] | providing an | | | | | URI. | | +----------------+----------------+----------------+---------------+ | UsageThreshold | 3GPP T | Usage | | | | S 29.122 [9] | Thresholds (a | | | | | data volume | | | | | expected to be | | | | | transferred | | | | | per UE and/or | | | | | time duration | | | | | in seconds). | | +----------------+----------------+----------------+---------------+ | VarUeId | 3GPP T | String | | | | S 29.571 [7] | represents the | | | | | SUPI or GPSI. | | +----------------+----------------+----------------+---------------+
### 5.4.2 Structured data types
#### 5.4.2.1 Introduction
This subclause defines the structures to be used in resource representations.
#### 5.4.2.2 Type AmPolicyData
Table 5.4.2.2-1: Definition of type AmPolicyData
+---------------+---------------+---+-------------+---------------+ | Attribute | Data type | P | Cardinality | Description | | name | | | | | +---------------+---------------+---+-------------+---------------+ | praInfos | map( | O | 1..N | Presence | | | PresenceInfo) | | | reporting | | | | | | area | | | | | | information. | | | | | | Each | | | | | | PresenceInfo | | | | | | element shall | | | | | | include the | | | | | | Presence | | | | | | Reporting | | | | | | Area | | | | | | Identifier | | | | | | within the | | | | | | \"praId\" | | | | | | attribute | | | | | | and, for a | | | | | | UE-dedicated | | | | | | presence | | | | | | reporting | | | | | | area, shall | | | | | | also include | | | | | | the list of | | | | | | elements | | | | | | composing the | | | | | | presence | | | | | | reporting | | | | | | area. | | | | | | | | | | | | A \"praId\" | | | | | | may indicate | | | | | | a Presence | | | | | | Reporting | | | | | | Area Set. | | | | | | | | | | | | The \"praId\" | | | | | | attribute | | | | | | within the | | | | | | PresenceInfo | | | | | | data type | | | | | | shall also be | | | | | | the key of | | | | | | the map. | | | | | | | | | | | | The attribute | | | | | | \"pr | | | | | | esenceState\" | | | | | | shall not be | | | | | | present. | +---------------+---------------+---+-------------+---------------+ | subscCats | array(string) | O | 1..N | List of | | | | | | categories | | | | | | associated | | | | | | with the | | | | | | subscriber | +---------------+---------------+---+-------------+---------------+
#### 5.4.2.3 Type UePolicySection
Table 5.4.2.3-1: Definition of type UePolicySection
* * *
Attribute name Data type P Cardinality Description uePolicySectionInfo Bytes M
1 Contains the UE Policy Section Information for the given UPSI upsi string M
1 Identifier for UE Policy Section. The format is represented in 3GPP TS
24.501 [11] subclause D.6.2.
* * *
#### 5.4.2.4 Type UePolicySet
Table 5.4.2.4-1: Definition of type UePolicySet
+---------------+---------------+---+-------------+---------------+ | Attribute | Data type | P | Cardinality | Description | | name | | | | | +---------------+---------------+---+-------------+---------------+ | praInfos | map( | O | 1..N | Presence | | | PresenceInfo) | | | reporting | | | | | | area | | | | | | information. | | | | | | Each | | | | | | PresenceInfo | | | | | | element shall | | | | | | include the | | | | | | Presence | | | | | | Reporting | | | | | | Area | | | | | | Identifier | | | | | | within the | | | | | | \"praId\" | | | | | | attribute | | | | | | and, for a | | | | | | UE-dedicated | | | | | | presence | | | | | | reporting | | | | | | area, shall | | | | | | also include | | | | | | the list of | | | | | | elements | | | | | | composing the | | | | | | presence | | | | | | reporting | | | | | | area. | | | | | | | | | | | | A \"praId\" | | | | | | may indicate | | | | | | a Presence | | | | | | Reporting | | | | | | Area Set. | | | | | | | | | | | | The \"praId\" | | | | | | attribute | | | | | | within the | | | | | | PresenceInfo | | | | | | data type | | | | | | shall also be | | | | | | the key of | | | | | | the map. | | | | | | | | | | | | The attribute | | | | | | \"pr | | | | | | esenceState\" | | | | | | shall not be | | | | | | present. | +---------------+---------------+---+-------------+---------------+ | subscCats | array(string) | O | 1..N | List of | | | | | | categories | | | | | | associated | | | | | | with the | | | | | | subscriber | +---------------+---------------+---+-------------+---------------+ | ueP | map(UeP | O | 1..N | Contains the | | olicySections | olicySection) | | | UE Policy | | | | | | Sections. | | | | | | | | | | | | The UPSI (UE | | | | | | Policy | | | | | | Section | | | | | | Identifier) | | | | | | is used as | | | | | | the key in | | | | | | the map. | +---------------+---------------+---+-------------+---------------+ | upsis | array(string) | O | 1..N | List of | | | | | | identifiers | | | | | | for the | | | | | | \"uePoli | | | | | | cySections\". | | | | | | The format of | | | | | | the UPSI is | | | | | | represented | | | | | | in | | | | | | 3GPP TS | | | | | | 24.501 [11] | | | | | | su | | | | | | bclause D.6.2 | +---------------+---------------+---+-------------+---------------+ | allowed | map(Plm | O | 1..N | Contains | | RouteSelDescs | nRouteSelecti | | | allowed route | | | onDescriptor) | | | selection | | | | | | descriptors | | | | | | per serving | | | | | | PLMN for a | | | | | | UE. The | | | | | | serving PLMN | | | | | | identifier is | | | | | | the key of | | | | | | the map. | +---------------+---------------+---+-------------+---------------+ | andspInd | boolean | O | 0..1 | Indication of | | | | | | UE supporting | | | | | | ANDSP. | | | | | | Default value | | | | | | is false. | +---------------+---------------+---+-------------+---------------+ | pei | Pei | O | 0..1 | Personal | | | | | | Equipment | | | | | | Identifier. | +---------------+---------------+---+-------------+---------------+ | osIds | array(OsId) | O | 1..N | I | | | | | | dentification | | | | | | of the UE | | | | | | Operating | | | | | | System(s). | +---------------+---------------+---+-------------+---------------+
#### 5.4.2.5 Type SmPolicyData
Table 5.4.2.5-1: Definition of type SmPolicyData
+-----------+-----------+---+-----------+-----------+-----------+ | Attribute | Data type | P | Ca | De | Appl | | name | | | rdinality | scription | icability | +-----------+-----------+---+-----------+-----------+-----------+ | smPolicyS | map(S | M | 1..N | Session | | | nssaiData | mPolicySn | | | M | | | | ssaiData) | | | anagement | | | | | | | Policy | | | | | | | data per | | | | | | | S-NSSAI | | | | | | | for all | | | | | | | the | | | | | | | SNSSAIs | | | | | | | of the | | | | | | | su | | | | | | | bscriber. | | | | | | | The key | | | | | | | of the | | | | | | | map is | | | | | | | the | | | | | | | S-NSSAI. | | +-----------+-----------+---+-----------+-----------+-----------+ | umD | map( | O | 1..N | Contains | | | ataLimits | UsageMonD | | | a list of | | | | ataLimit) | | | usage | | | | | | | m | | | | | | | onitoring | | | | | | | profiles | | | | | | | a | | | | | | | ssociated | | | | | | | with the | | | | | | | su | | | | | | | bscriber. | | | | | | | The limit | | | | | | | i | | | | | | | dentifier | | | | | | | is used | | | | | | | as the | | | | | | | key of | | | | | | | the map. | | +-----------+-----------+---+-----------+-----------+-----------+ | umData | map(Usag | O | 1..N | Contains | | | | eMonData) | | | the | | | | | | | remaining | | | | | | | allowed | | | | | | | usage | | | | | | | data | | | | | | | a | | | | | | | ssociated | | | | | | | with the | | | | | | | su | | | | | | | bscriber. | | | | | | | | | | | | | | The limit | | | | | | | i | | | | | | | dentifier | | | | | | | is used | | | | | | | as the | | | | | | | key in | | | | | | | the map. | | +-----------+-----------+---+-----------+-----------+-----------+ | NOTE: In | | | | | | | this | | | | | | | Release | | | | | | | of the | | | | | | | spec | | | | | | | ification | | | | | | | the | | | | | | | \" | | | | | | | limitId\" | | | | | | | co | | | | | | | rresponds | | | | | | | to the | | | | | | | M | | | | | | | onitoring | | | | | | | Key. | | | | | | +-----------+-----------+---+-----------+-----------+-----------+
#### 5.4.2.6 Type UsageMonDataLimit
Table 5.4.2.6-1: Definition of type UsageMonDataLimit
* * *
Attribute name Data type P Cardinality Description limitId string M 1
Identifies the limit, i.e. the usage monitoring control instance scopes
map(UsageMonDataScope) O 1..N Identifies the SNSSAI and DNN combinations to
which the usage monitoring data limit applies. The S-NSSAI is the key of the
map. If omitted, the limit applies to every S-NSSAI and DNN. umLevel
UsageMonLevel O 0..1 Indicates the level of the usage monitoring instance (PDU
Session level or per Service). startDate DateTime C 0..1 Start date and time
when the usage monitoring instance applies. It shall be provided when the
resetPeriod attribute is provided. endDate DateTime O 0..1 End date and time
when the usage monitoring instance applies. usageLimit UsageThreshold O 0..1
Maximum allowed traffic volume/time usage for a usage monitoring instance. If
a resetPeriod is specified, this limit applies to every period separately and
not for the entire time between the start and end dates. So for example, if
the resetPeriod is daily, the usageLimit is applicable for each day until the
end date is specified. resetPeriod TimePeriod O 0..1 Time period to reset the
remaining allowed usage for a periodic usage monitoring instance (postpaid
subscriptions). This attribute along with the startDate determine the actual
absolute time at which usage needs to be reset. NOTE: In this Release of the
specification the \"limitId\" attribute is the Monitoring Key, and the
\"scopes\" attribute shall always be present including one distinct SNSSAI and
DNN pair.
* * *
#### 5.4.2.7 Type UsageMonData
Table 5.4.2.7-1: Definition of type UsageMonData
+-----------+-----------+---+-----------+-----------+-----------+ | Attribute | Data type | P | Ca | De | Appl | | name | | | rdinality | scription | icability | +-----------+-----------+---+-----------+-----------+-----------+ | limitId | string | M | 1 | I | | | | | | | dentifies | | | | | | | the limit | | | | | | | as | | | | | | | defined | | | | | | | in the | | | | | | | \" | | | | | | | limitId\" | | | | | | | attribute | | | | | | | of the | | | | | | | UsageMon | | | | | | | DataLimit | | | | | | | data type | | | | | | | (see | | | | | | | s | | | | | | | ubclause | | | | | | | 5.4.2.6). | | +-----------+-----------+---+-----------+-----------+-----------+ | scopes | map( | O | 1..N | I | | | | UsageMonD | | | dentifies | | | | ataScope) | | | the | | | | | | | SNSSAI | | | | | | | and DNN | | | | | | | com | | | | | | | binations | | | | | | | to which | | | | | | | the | | | | | | | remaining | | | | | | | usage | | | | | | | m | | | | | | | onitoring | | | | | | | data | | | | | | | applies. | | | | | | | | | | | | | | The | | | | | | | S-NSSAI | | | | | | | is the | | | | | | | key of | | | | | | | the map. | | +-----------+-----------+---+-----------+-----------+-----------+ | umLevel | Usag | O | 0..1 | Indicates | | | | eMonLevel | | | the level | | | | | | | of the | | | | | | | usage | | | | | | | m | | | | | | | onitoring | | | | | | | instance | | | | | | | (PDU | | | | | | | Session | | | | | | | level or | | | | | | | per | | | | | | | Service). | | +-----------+-----------+---+-----------+-----------+-----------+ | all | Usage | O | 0..1 | Remaining | | | owedUsage | Threshold | | | allowed | | | | | | | traffic | | | | | | | volume | | | | | | | usage | | | | | | | and/or | | | | | | | resource | | | | | | | time | | | | | | | usage. | | +-----------+-----------+---+-----------+-----------+-----------+ | resetTime | DateTime | O | 0..1 | Time to | | | | | | | reset the | | | | | | | allowed | | | | | | | usage | | | | | | | back to | | | | | | | the | | | | | | | u | | | | | | | sageLimit | | | | | | | of the | | | | | | | corr | | | | | | | esponding | | | | | | | UsageMonD | | | | | | | ataLimit. | | | | | | | This is | | | | | | | computed | | | | | | | based on | | | | | | | the | | | | | | | corr | | | | | | | esponding | | | | | | | s | | | | | | | tartDate, | | | | | | | re | | | | | | | setPeriod | | | | | | | and | | | | | | | endDate | | | | | | | of the | | | | | | | corr | | | | | | | esponding | | | | | | | UsageMonD | | | | | | | ataLimit. | | | | | | | The | | | | | | | all | | | | | | | owedUsage | | | | | | | is only | | | | | | | a | | | | | | | pplicable | | | | | | | if the | | | | | | | resetTime | | | | | | | is in the | | | | | | | future | | | | | | | relative | | | | | | | to the | | | | | | | current | | | | | | | time. | | +-----------+-----------+---+-----------+-----------+-----------+ | NOTE: In | | | | | | | this | | | | | | | Release | | | | | | | of the | | | | | | | spec | | | | | | | ification | | | | | | | the | | | | | | | \" | | | | | | | limitId\" | | | | | | | attribute | | | | | | | is the | | | | | | | M | | | | | | | onitoring | | | | | | | Key, and | | | | | | | the | | | | | | | \ | | | | | | | "scopes\" | | | | | | | attribute | | | | | | | shall | | | | | | | always be | | | | | | | present | | | | | | | including | | | | | | | one | | | | | | | distinct | | | | | | | SNSSAI | | | | | | | and DNN | | | | | | | pair. | | | | | | +-----------+-----------+---+-----------+-----------+-----------+
#### 5.4.2.8 Type SponsorConnectivityData
Table 5.4.2.8-1: Definition of type SponsorConnectivityData
* * *
Attribute name Data type P Cardinality Description aspIds array(string) M 1..N
Identifies a list of Application Service Provider Identifiers associated with
the sponsor identity.
* * *
#### 5.4.2.9 Type BdtData
Table 5.4.2.9-1: Definition of type BdtData
* * *
Attribute name Data type P Cardinality Description aspId string M 1 This IE
contains an identity of an application service provider. transPolicy
TransferPolicy M 1 This IE contains the transfer policy. bdtRefId string O
0..1 This IE indicates the background data transfer reference ID for the
transfer policy. nwAreaInfo NetworkAreaInfo O 0..1 This IE represents a
network area information. numOfUes Uinteger O 0..1 This IE contains the number
of UEs using the indicated transfer policy. It shall be present when
available. volPerUe UsageThreshold O 0..1 This IE contains a data volume
expected to be transferred per UE for the indicated transfer policy. It shall
be present when available.
* * *
#### 5.4.2.10 Type PolicyDataSubscription
Table 5.4.2.10-1: Definition of type PolicyDataSubscription
+---------------+---------------+---+-------------+---------------+ | Attribute | Data type | P | Cardinality | Description | | name | | | | | +---------------+---------------+---+-------------+---------------+ | no | Uri | M | 1 | URI provided | | tificationUri | | | | by the NF | | | | | | service | | | | | | consumer | | | | | | indicating | | | | | | where to | | | | | | receive the | | | | | | subscribed | | | | | | notifications | | | | | | from the UDR. | +---------------+---------------+---+-------------+---------------+ | monitore | array(Uri) | M | 1..N | A set of URIs | | dResourceUris | | | | that identify | | | | | | the resources | | | | | | as defined in | | | | | | table 5.2.2-1 | | | | | | for which a | | | | | | modification | | | | | | triggers a | | | | | | notification. | | | | | | | | | | | | (NOTE) | +---------------+---------------+---+-------------+---------------+ | expiry | DateTime | C | 0..1 | This IE shall | | | | | | be included | | | | | | in a | | | | | | subscription | | | | | | response if, | | | | | | based on | | | | | | operator | | | | | | policy and | | | | | | taking into | | | | | | account the | | | | | | expiry time | | | | | | included in | | | | | | the request, | | | | | | the UDR needs | | | | | | to include an | | | | | | expiry time. | | | | | | | | | | | | This IE may | | | | | | be included | | | | | | in a | | | | | | subscription | | | | | | request. When | | | | | | present, this | | | | | | IE shall | | | | | | represent the | | | | | | time after | | | | | | which the | | | | | | subscription | | | | | | becomes | | | | | | invalid. | | | | | | | | | | | | The absence | | | | | | of this | | | | | | attribute in | | | | | | the | | | | | | subscription | | | | | | response | | | | | | means the | | | | | | subscription | | | | | | to be valid | | | | | | without an | | | | | | expiry time. | +---------------+---------------+---+-------------+---------------+ | supp | Supp | C | 0..1 | Used to | | ortedFeatures | ortedFeatures | | | negotiate the | | | | | | applicability | | | | | | of the | | | | | | optional | | | | | | features. | | | | | | | | | | | | This | | | | | | attribute | | | | | | shall be | | | | | | provided in | | | | | | the POST | | | | | | request and | | | | | | in the | | | | | | response of | | | | | | successful | | | | | | resource | | | | | | creation. | +---------------+---------------+---+-------------+---------------+ | NOTE: Neither | | | | | | the resource | | | | | | URI of the | | | | | | Indivi | | | | | | dualPolicyDat | | | | | | aSubscription | | | | | | resource nor | | | | | | the resource | | | | | | URI of the | | | | | | PolicyData | | | | | | Subscriptions | | | | | | resource | | | | | | shall be | | | | | | included in | | | | | | the | | | | | | \"monitoredR | | | | | | esourceUris\" | | | | | | attribute. | | | | | +---------------+---------------+---+-------------+---------------+
#### 5.4.2.11 Type PolicyDataChangeNotification
Table 5.4.2.11-1: Definition of type PolicyDataChangeNotification
+-----------+-----------+---+-----------+-----------+-----------+ | Attribute | Data type | P | Ca | De | Appl | | name | | | rdinality | scription | icability | +-----------+-----------+---+-----------+-----------+-----------+ | amP | AmP | O | 0..1 | Access | | | olicyData | olicyData | | | and | | | | | | | Mobility | | | | | | | Policy | | | | | | | Data, if | | | | | | | changed | | | | | | | and | | | | | | | not | | | | | | | ification | | | | | | | was | | | | | | | r | | | | | | | equested. | | +-----------+-----------+---+-----------+-----------+-----------+ | ue | Ue | O | 0..1 | UE Policy | | | PolicySet | PolicySet | | | Set, if | | | | | | | changed | | | | | | | and | | | | | | | not | | | | | | | ification | | | | | | | was | | | | | | | r | | | | | | | equested. | | +-----------+-----------+---+-----------+-----------+-----------+ | plmnUe | Ue | O | 0..1 | PLMN UE | | | PolicySet | PolicySet | | | Policy | | | | | | | Set, if | | | | | | | changed | | | | | | | and | | | | | | | not | | | | | | | ification | | | | | | | was | | | | | | | r | | | | | | | equested. | | +-----------+-----------+---+-----------+-----------+-----------+ | smP | SmP | O | 0..1 | Session | | | olicyData | olicyData | | | M | | | | | | | anagement | | | | | | | Policy | | | | | | | Data, if | | | | | | | changed | | | | | | | and | | | | | | | not | | | | | | | ification | | | | | | | was | | | | | | | r | | | | | | | equested. | | +-----------+-----------+---+-----------+-----------+-----------+ | usa | Usa | O | 0..1 | Usage | | | geMonData | geMonData | | | M | | | | | | | onitoring | | | | | | | Data, if | | | | | | | changed | | | | | | | and | | | | | | | not | | | | | | | ification | | | | | | | was | | | | | | | r | | | | | | | equested. | | +-----------+-----------+---+-----------+-----------+-----------+ | Spons | Spons | O | 0..1 | Sponsor | | | orConnect | orConnect | | | data | | | ivityData | ivityData | | | con | | | | | | | nectivity | | | (NOTE 4) | | | | profile | | | | | | | inf | | | | | | | ormation, | | | | | | | if | | | | | | | changed | | | | | | | and | | | | | | | not | | | | | | | ification | | | | | | | was | | | | | | | r | | | | | | | equested. | | +-----------+-----------+---+-----------+-----------+-----------+ | bdtData | BdtData | O | 0..1 | B | | | | | | | ackground | | | | | | | Data | | | | | | | Transfer | | | | | | | Data, if | | | | | | | changed | | | | | | | and | | | | | | | not | | | | | | | ification | | | | | | | was | | | | | | | r | | | | | | | equested. | | +-----------+-----------+---+-----------+-----------+-----------+ | o | Op | O | 0..1 | Operator | | | pSpecData | eratorSpe | | | Specific | | | | cificData | | | Data, if | | | | Container | | | changed | | | | | | | and | | | | | | | not | | | | | | | ification | | | | | | | was | | | | | | | r | | | | | | | equested. | | | | | | | It may | | | | | | | only be | | | | | | | used when | | | | | | | the | | | | | | | receiver | | | | | | | of the | | | | | | | not | | | | | | | ification | | | | | | | is able | | | | | | | to | | | | | | | u | | | | | | | nivocally | | | | | | | identify | | | | | | | the | | | | | | | changed | | | | | | | operator | | | | | | | specific | | | | | | | data.\ | | | | | | | (NOTE 3) | | +-----------+-----------+---+-----------+-----------+-----------+ | opSp | map(Ope | O | 1..N | Operator | OpSpecD | | ecDataMap | ratorSpec | | | Specific | ataMapNot | | | ificDataC | | | Data | ification | | | ontainer) | | | resource | | | | | | | data, if | | | | | | | changed | | | | | | | and | | | | | | | not | | | | | | | ification | | | | | | | was | | | | | | | re | | | | | | | quested.\ | | | | | | | The key | | | | | | | of the | | | | | | | map is | | | | | | | operator | | | | | | | specific | | | | | | | data | | | | | | | element | | | | | | | name and | | | | | | | the value | | | | | | | is the | | | | | | | operator | | | | | | | specific | | | | | | | data of | | | | | | | the UE. | | +-----------+-----------+---+-----------+-----------+-----------+ | ueId | VarUeId | C | 0..1 | R | | | | | | | epresents | | | | | | | the UE | | | | | | | sub | | | | | | | scription | | | | | | | i | | | | | | | dentifier | | | | | | | SUPI or | | | | | | | GPSI. It | | | | | | | shall | | | | | | | only be | | | | | | | present | | | | | | | when the | | | | | | | \"amPoli | | | | | | | cyData\", | | | | | | | \"uePol | | | | | | | icySet\", | | | | | | | \"smPoli | | | | | | | cyData\", | | | | | | | \"opS | | | | | | | pecData\" | | | | | | | and/or | | | | | | | \"usage | | | | | | | MonData\" | | | | | | | attribute | | | | | | | is | | | | | | | present. | | +-----------+-----------+---+-----------+-----------+-----------+ | sponsorId | string | C | 0..1 | R | | | | | | | epresents | | | | | | | the | | | | | | | sponsor | | | | | | | identity. | | | | | | | It shall | | | | | | | only be | | | | | | | present | | | | | | | when the | | | | | | | \"sponsor | | | | | | | Connectiv | | | | | | | ityData\" | | | | | | | attribute | | | | | | | is | | | | | | | present. | | +-----------+-----------+---+-----------+-----------+-----------+ | bdtRefId | string | C | 0..1 | R | | | | | | | epresents | | | | | | | the BDT | | | | | | | reference | | | | | | | id | | | | | | | entifier. | | | | | | | It shall | | | | | | | only be | | | | | | | present | | | | | | | when the | | | | | | | \" | | | | | | | bdtData\" | | | | | | | attribute | | | | | | | is | | | | | | | present. | | +-----------+-----------+---+-----------+-----------+-----------+ | u | string | C | 0..1 | R | | | sageMonId | | | | epresents | | | | | | | the | | | | | | | unique | | | | | | | i | | | | | | | dentifier | | | | | | | of the | | | | | | | i | | | | | | | ndividual | | | | | | | SM Policy | | | | | | | usage | | | | | | | m | | | | | | | onitoring | | | | | | | resource. | | | | | | | It shall | | | | | | | only be | | | | | | | present | | | | | | | when the | | | | | | | \"usage | | | | | | | MonData\" | | | | | | | attribute | | | | | | | is | | | | | | | present. | | +-----------+-----------+---+-----------+-----------+-----------+ | plmnId | PlmnId | C | 0..1 | R | | | | | | | epresents | | | | | | | the PLMN | | | | | | | id | | | | | | | entifier. | | | | | | | It shall | | | | | | | only be | | | | | | | present | | | | | | | when the | | | | | | | \ | | | | | | | "plmnUePo | | | | | | | licySet\" | | | | | | | attribute | | | | | | | is | | | | | | | present. | | +-----------+-----------+---+-----------+-----------+-----------+ | del | a | O | 1..N | The | R | | Resources | rray(Uri) | | | r | esourceRe | | | | | | esources, | movalNoti | | | | | | as | ficationP | | | | | | defined | olicyData | | | | | | in | | | | | | | table | | | | | | | 5.2.2-1, | | | | | | | if | | | | | | | removed | | | | | | | from UDR | | | | | | | and | | | | | | | not | | | | | | | ification | | | | | | | on | | | | | | | resource | | | | | | | data | | | | | | | change | | | | | | | was | | | | | | | r | | | | | | | equested. | | | | | | | (NOTE 2) | | +-----------+-----------+---+-----------+-----------+-----------+ | NOTE 1: | | | | | | | When the | | | | | | | \"Res | | | | | | | ourceRemo | | | | | | | valNotifi | | | | | | | cationPol | | | | | | | icyData\" | | | | | | | feature | | | | | | | is not | | | | | | | s | | | | | | | upported, | | | | | | | at least | | | | | | | one of | | | | | | | the | | | | | | | \"amPoli | | | | | | | cyData\", | | | | | | | \"uePol | | | | | | | icySet\", | | | | | | | \"smPoli | | | | | | | cyData\", | | | | | | | \"usageM | | | | | | | onData\", | | | | | | | \ | | | | | | | "SponsorC | | | | | | | onnectivi | | | | | | | tyData\", | | | | | | | \"b | | | | | | | dtData\", | | | | | | | \"opS | | | | | | | pecData\" | | | | | | | or | | | | | | | \ | | | | | | | "plmnUePo | | | | | | | licySet\" | | | | | | | shall be | | | | | | | present. | | | | | | | | | | | | | | NOTE 2: | | | | | | | When the | | | | | | | \"Res | | | | | | | ourceRemo | | | | | | | valNotifi | | | | | | | cationPol | | | | | | | icyData\" | | | | | | | feature | | | | | | | is | | | | | | | s | | | | | | | upported, | | | | | | | and the | | | | | | | \"delRe | | | | | | | sources\" | | | | | | | attribute | | | | | | | is | | | | | | | present, | | | | | | | the | | | | | | | a | | | | | | | ttributes | | | | | | | that | | | | | | | c | | | | | | | orrespond | | | | | | | with the | | | | | | | values | | | | | | | included | | | | | | | in the | | | | | | | \"delRe | | | | | | | sources\" | | | | | | | attribute | | | | | | | shall be | | | | | | | omitted. | | | | | | | E.g., | | | | | | | when the | | | | | | | \"delRe | | | | | | | sources\" | | | | | | | attribute | | | | | | | includes | | | | | | | the value | | | | | | | \ | | | | | | | "../polic | | | | | | | y-data/ue | | | | | | | s/{ueId}/ | | | | | | | am-data\" | | | | | | | the | | | | | | | attribute | | | | | | | \"amPol | | | | | | | icyData\" | | | | | | | shall be | | | | | | | omitted. | | | | | | | | | | | | | | NOTE 3: | | | | | | | This | | | | | | | attribute | | | | | | | should | | | | | | | not be | | | | | | | used if | | | | | | | the | | | | | | | receiver | | | | | | | of the | | | | | | | not | | | | | | | ification | | | | | | | is not | | | | | | | able to | | | | | | | u | | | | | | | nivocally | | | | | | | identify | | | | | | | the | | | | | | | changed | | | | | | | operator | | | | | | | specific | | | | | | | data, and | | | | | | | \"opSpec | | | | | | | DataMap\" | | | | | | | should be | | | | | | | used | | | | | | | instead. | | | | | | | | | | | | | | NOTE 4: | | | | | | | The | | | | | | | attribute | | | | | | | does not | | | | | | | follow | | | | | | | the | | | | | | | related | | | | | | | naming | | | | | | | c | | | | | | | onvention | | | | | | | (i.e. | | | | | | | \"lowe | | | | | | | rCamel\") | | | | | | | defined | | | | | | | in | | | | | | | cla | | | | | | | use 5.1.4 | | | | | | | of | | | | | | | 3GP | | | | | | | P TS 29.5 | | | | | | | 01 [7]. | | | | | | | This | | | | | | | attribute | | | | | | | is | | | | | | | however | | | | | | | kept as | | | | | | | currently | | | | | | | defined | | | | | | | in this | | | | | | | spec | | | | | | | ification | | | | | | | for | | | | | | | backward | | | | | | | comp | | | | | | | atibility | | | | | | | consid | | | | | | | erations. | | | | | | +-----------+-----------+---+-----------+-----------+-----------+
#### 5.4.2.12 Type TimePeriod
Table 5.4.2.12-1: Definition of type TimePeriod
* * *
Attribute name Data type P Cardinality Description Applicability period
Periodicity M 1 Indicates whether the periodicity is \"YEARLY\", \"MONTHLY\",
\"WEEKLY\", \"DAILY\" or \"HOURLY\".  
maxNumPeriod Uinteger O 0..1 Indicates the maximum number of periods after
which the usage monitoring instance does not apply. If omitted, there is no
limit in the number of periods.
* * *
#### 5.4.2.13 Type UsageMonDataScope
Table 5.4.2.13-1: Definition of type UsageMonDataScope
* * *
Attribute name Data type P Cardinality Description Applicability snssai Snssai
M 1 Represents the SNSSAI.  
dnn array(Dnn) O 1..N Represents the Dnn. If omitted, the usage monitoring
scope applies to all the DNNs.  
NOTE: In this Release of the specification the \"dnn\" attribute shall always
be present with one and only one entry.
* * *
#### 5.4.2.14 Type SmPolicySnssaiData
Table 5.4.2.14-1: Definition of type SmPolicySnssaiData
* * *
Attribute name Data type P Cardinality Description Applicability snssai Snssai
M 1 S-NSSAI associated with the data.  
smPolicyDnnData map(SmPolicyDnnData) O 1..N Session Management Policy data per
DNN for all the DNNs of the indicated S-NSSAI. The key of the map is the DNN.
* * *
#### 5.4.2.15 Type SmPolicyDnnData
Table 5.4.2.15-1: Definition of type SmPolicyDnnData
+-----------+-----------+---+-----------+-----------+-----------+ | Attribute | Data type | P | Ca | De | Appl | | name | | | rdinality | scription | icability | +-----------+-----------+---+-----------+-----------+-----------+ | dnn | Dnn | M | 1 | DNN | | | | | | | a | | | | | | | ssociated | | | | | | | with the | | | | | | | data | | +-----------+-----------+---+-----------+-----------+-----------+ | allowe | arra | O | 1..N | List of | | | dServices | y(string) | | | subs | | | | | | | criber\'s | | | | | | | allowed | | | | | | | service | | | | | | | id | | | | | | | entifiers | | +-----------+-----------+---+-----------+-----------+-----------+ | subscCats | arra | O | 1..N | List of | | | | y(string) | | | c | | | | | | | ategories | | | | | | | a | | | | | | | ssociated | | | | | | | with the | | | | | | | s | | | | | | | ubscriber | | +-----------+-----------+---+-----------+-----------+-----------+ | gbrUI | BitRate | O | 0..1 | Maximum | | | | | | | aggregate | | | | | | | UL | | | | | | | bitrate | | | | | | | that can | | | | | | | be | | | | | | | provided | | | | | | | across | | | | | | | all GBR | | | | | | | QoS Flows | | | | | | | in the | | | | | | | DNN | | +-----------+-----------+---+-----------+-----------+-----------+ | gbrDl | BitRate | O | 0..1 | Maximum | | | | | | | aggregate | | | | | | | DL | | | | | | | bitrate | | | | | | | that can | | | | | | | be | | | | | | | provided | | | | | | | across | | | | | | | all GBR | | | | | | | QoS Flows | | | | | | | in the | | | | | | | DNN | | +-----------+-----------+---+-----------+-----------+-----------+ | a | boolean | O | 0..1 | Indicates | | | dcSupport | | | | whether | | | | | | | ap | | | | | | | plication | | | | | | | detection | | | | | | | and | | | | | | | control | | | | | | | can be | | | | | | | enabled | | | | | | | for a | | | | | | | su | | | | | | | bscriber. | | | | | | | The | | | | | | | default | | | | | | | value is | | | | | | | \ | | | | | | | "FALSE\". | | +-----------+-----------+---+-----------+-----------+-----------+ | s | boolean | O | 0..1 | Indicates | | | ubscSpend | | | | whether | | | ingLimits | | | | the PCF | | | | | | | must | | | | | | | enforce | | | | | | | policies | | | | | | | based on | | | | | | | s | | | | | | | ubscriber | | | | | | | spending | | | | | | | limits. | | | | | | | The | | | | | | | default | | | | | | | value is | | | | | | | \ | | | | | | | "FALSE\". | | +-----------+-----------+---+-----------+-----------+-----------+ | ipv4Index | IpIndex | O | 0..1 | In | | | | | | | formation | | | | | | | that | | | | | | | i | | | | | | | dentifies | | | | | | | which IP | | | | | | | pool or | | | | | | | external | | | | | | | server is | | | | | | | used to | | | | | | | allocate | | | | | | | the IPv4 | | | | | | | address. | | +-----------+-----------+---+-----------+-----------+-----------+ | ipv6Index | IpIndex | O | 0..1 | In | | | | | | | formation | | | | | | | that | | | | | | | i | | | | | | | dentifies | | | | | | | which IP | | | | | | | pool or | | | | | | | external | | | | | | | server is | | | | | | | used to | | | | | | | allocate | | | | | | | the IPv6 | | | | | | | address. | | +-----------+-----------+---+-----------+-----------+-----------+ | offline | boolean | O | 0..1 | Indicates | | | | | | | the | | | | | | | offline | | | | | | | charging | | | | | | | is | | | | | | | a | | | | | | | pplicable | | | | | | | to the | | | | | | | PDU | | | | | | | session. | | | | | | | The | | | | | | | default | | | | | | | value is | | | | | | | \ | | | | | | | "FALSE\". | | +-----------+-----------+---+-----------+-----------+-----------+ | online | boolean | O | 0..1 | Indicates | | | | | | | the | | | | | | | online | | | | | | | charging | | | | | | | is | | | | | | | a | | | | | | | pplicable | | | | | | | to the | | | | | | | PDU | | | | | | | session. | | | | | | | The | | | | | | | default | | | | | | | value is | | | | | | | \ | | | | | | | "FALSE\". | | +-----------+-----------+---+-----------+-----------+-----------+ | chfInfo | C | O | 0..1 | The | | | | hargingIn | | | address | | | | formation | | | of the | | | | | | | Charging | | | | | | | Function | | +-----------+-----------+---+-----------+-----------+-----------+ | refUm | map(Limit | O | 1..N | A | | | dLimitIds | IdToMonit | | | reference | | | | oringKey) | | | to the | | | | | | | \ | | | | | | | "UsageMon | | | | | | | itoringDa | | | | | | | taLimit\" | | | | | | | or | | | | | | | \"Usa | | | | | | | geMonitor | | | | | | | ingData\" | | | | | | | instances | | | | | | | for this | | | | | | | DNN and | | | | | | | SNSSAI | | | | | | | that may | | | | | | | also | | | | | | | include | | | | | | | the | | | | | | | related | | | | | | | m | | | | | | | onitoring | | | | | | | key(s). | | | | | | | The key | | | | | | | of the | | | | | | | map is | | | | | | | the limit | | | | | | | id | | | | | | | entifier. | | +-----------+-----------+---+-----------+-----------+-----------+ | mp | boolean | O | 0..1 | Indicates | | | sPriority | | | | sub | | | | | | | scription | | | | | | | to the | | | | | | | MPS | | | | | | | priority | | | | | | | service; | | | | | | | priority | | | | | | | applies | | | | | | | to all | | | | | | | traffic | | | | | | | on the | | | | | | | PDU | | | | | | | Session. | | | | | | | The | | | | | | | default | | | | | | | value is | | | | | | | \ | | | | | | | "FALSE\". | | +-----------+-----------+---+-----------+-----------+-----------+ | imsSigna | boolean | O | 0..1 | Indicates | | | llingPrio | | | | sub | | | | | | | scription | | | | | | | to the | | | | | | | IMS | | | | | | | s | | | | | | | ignalling | | | | | | | priority | | | | | | | service; | | | | | | | priority | | | | | | | only | | | | | | | applies | | | | | | | to IMS | | | | | | | s | | | | | | | ignalling | | | | | | | traffic. | | | | | | | The | | | | | | | default | | | | | | | value is | | | | | | | \ | | | | | | | "FALSE\". | | +-----------+-----------+---+-----------+-----------+-----------+ | mpsPrio | integer | O | 0..1 | Relative | | | rityLevel | | | | priority | | | | | | | level for | | | | | | | the | | | | | | | m | | | | | | | ultimedia | | | | | | | priority | | | | | | | services | | +-----------+-----------+---+-----------+-----------+-----------+ | praInfos | map(Pres | O | 1..N | Presence | | | | enceInfo) | | | reporting | | | | | | | area | | | | | | | inf | | | | | | | ormation. | | | | | | | Each | | | | | | | Pre | | | | | | | senceInfo | | | | | | | element | | | | | | | shall | | | | | | | include | | | | | | | the | | | | | | | Presence | | | | | | | Reporting | | | | | | | Area | | | | | | | I | | | | | | | dentifier | | | | | | | within | | | | | | | the | | | | | | | \"praId\" | | | | | | | attribute | | | | | | | and, for | | | | | | | a | | | | | | | UE- | | | | | | | dedicated | | | | | | | presence | | | | | | | reporting | | | | | | | area, | | | | | | | shall | | | | | | | also | | | | | | | include | | | | | | | the list | | | | | | | of | | | | | | | elements | | | | | | | composing | | | | | | | the | | | | | | | presence | | | | | | | reporting | | | | | | | area. | | | | | | | | | | | | | | A | | | | | | | \"praId\" | | | | | | | may | | | | | | | indicate | | | | | | | a | | | | | | | Presence | | | | | | | Reporting | | | | | | | Area Set. | | | | | | | | | | | | | | The | | | | | | | \"praId\" | | | | | | | attribute | | | | | | | within | | | | | | | the | | | | | | | Pre | | | | | | | senceInfo | | | | | | | data type | | | | | | | shall | | | | | | | also be | | | | | | | the key | | | | | | | of the | | | | | | | map. | | | | | | | | | | | | | | The | | | | | | | attribute | | | | | | | \"presen | | | | | | | ceState\" | | | | | | | shall not | | | | | | | be | | | | | | | present. | | +-----------+-----------+---+-----------+-----------+-----------+
#### 5.4.2.16 Type LimitIdToMonitoringKey
Table 5.4.2.16-1: Definition of type LimitIdToMonitoringKey
* * *
Attribute name Data type P Cardinality Description Applicability limitId
string M 1 Limit Identifier.  
monKeys array(string) O 1..N Monitoring Keys.  
NOTE: In this Release of the specification there is only one Monitoring Key
per Limit Identifier
* * *
#### 5.4.2.17 Type UePolicySetPatch
Table 5.4.2.17-1: Definiton of type UePolicySetPatch
+---------------+---------------+---+-------------+---------------+ | Attribute | Data type | P | Cardinality | Description | | name | | | | | +---------------+---------------+---+-------------+---------------+ | ueP | map(UeP | O | 1..N | Contains the | | olicySections | olicySection) | | | UE Policy | | | | | | Sections. | | | | | | | | | | | | The UPSI (UE | | | | | | Policy | | | | | | Section | | | | | | Identifier) | | | | | | is used as | | | | | | the key in | | | | | | the map. | +---------------+---------------+---+-------------+---------------+ | upsis | array(string) | O | 1..N | List of | | | | | | identifiers | | | | | | for the | | | | | | \"uePoli | | | | | | cySections\". | | | | | | The format of | | | | | | the UPSI is | | | | | | represented | | | | | | in | | | | | | 3GPP TS | | | | | | 24.501 [11] | | | | | | sub | | | | | | clause D.6.2. | +---------------+---------------+---+-------------+---------------+ | andspInd | boolean | O | 0..1 | Indication of | | | | | | UE supporting | | | | | | ANDSP. | +---------------+---------------+---+-------------+---------------+ | pei | Pei | O | 0..1 | Personal | | | | | | Equipment | | | | | | Identifier. | +---------------+---------------+---+-------------+---------------+ | osIds | array(OsId) | O | 1..N | I | | | | | | dentification | | | | | | of the UE | | | | | | Operating | | | | | | System(s). | +---------------+---------------+---+-------------+---------------+
#### 5.4.2.18 Type PlmnRouteSelectionDescriptor
Table 5.4.2.18-1: Definition of type PlmnRouteSelectionDescriptor
* * *
Attribute name Data type P Cardinality Description servingPlmn PlmnId M 1
Identity of the serving PLMN. snssaiRouteSelDescs
array(SnssaiRouteSelectionDescriptor) O 1..N Contains the route selection
descriptor parameters (DNNs, PDU session types and SSC modes) per SNSSAI.
* * *
#### 5.4.2.19 Type SnssaiRouteSelectionDescriptor
Table 5.4.2.19-1: Definition of type SnssaiRouteSelectionDescriptor
* * *
Attribute name Data type P Cardinality Description snssai Snssai M 1 SNSSAI.
dnnRouteSelDescs array(DnnRouteSelectionDescriptor) O 1..N Contains the route
selection descriptor parameters (PDU session types and SSC modes) per DNN.
* * *
#### 5.4.2.20 Type DnnRouteSelectionDescriptor
Table 5.4.2.20-1: Definition of type DnnRouteSelectionDescriptor
* * *
Attribute name Data type P Cardinality Description dnn Dnn M 1 DNN. sscModes
array(SscMode) O 1..N Contains the allowed SSC modes for the traffic to this
DNN. pduSessTypes array(PduSessionType) O 1..N Contains the allowed PDU
Session types for the traffic to this DNN.
* * *
### 5.4.3 Simple data types and enumerations
#### 5.4.3.1 Introduction
This subclause defines simple data types and enumerations that can be
referenced from data structures defined in the previous subclauses.
#### 5.4.3.2 Simple data types
The simple data types defined in table 5.4.3.2-1 shall be supported.
Table 5.4.3.2-1: Simple data types
* * *
Type Name Type Definition Description Applicability IpIndex integer
Information that identifies which IP pool or external server is used to
allocate the IP address.  
OsId string Operating System of the served UE. It contains a Universally
Unique IDentifier (UUID) as specified in IETF RFC 4122 [17]. The format of the
OS Id is represented in 3GPP TS 24.501 [11].
* * *
#### 5.4.3.3 Enumeration: UsageMonLevel
The enumeration represents the usage monitoring level. It shall comply with
the provisions defined in table 5.4.3.3-1.
Table 5.4.3.3-1: Enumeration UsageMonLevel
* * *
Enumeration value Description SESSION_LEVEL The usage monitoring is applicable
for PDU session level. SERVICE_LEVEL The usage monitoring is applicable for
service level.
* * *
#### 5.4.3.4 Enumeration: Periodicity
The enumeration represents the time period. It shall comply with the
provisions defined in table 5.4.3.4-1.
Table 5.4.3.4-1: Enumeration Periodicity
* * *
Enumeration value Description YEARLY Time period is yearly MONTHLY Time period
is monthly WEEKLY Time period is weekly DAILY Time period is daily HOURLY Time
period is hourly
* * *
## 5.5 Error handling
### 5.5.1 General
For the Nudr_DataRepository service API for Policy Data, HTTP error responses
shall be supported as specified in subclause 4.8 of 3GPP TS 29.501 [5].
Protocol errors and application errors specified in table 5.2.7.2-1 of 3GPP TS
29.500 [4] shall be supported for an HTTP method if the corresponding HTTP
status codes are specified as mandatory for that HTTP method in table
5.2.7.1-1 of 3GPP TS 29.500 [4].
In addition, the requirements in the following subclauses are applicable for
the Nudr_DataRepository service API for Policy Data.
### 5.5.2 Protocol Errors
No specific procedures for the Nudr_DataRepository service API for Policy Data
are specified.
### 5.5.3 Application Errors
The application errors defined for the Nudr_DataRepository service API for
Policy Data are listed in table 5.5.3-1. The PCF shall include in the HTTP
status code a \"ProblemDetails\" data structure with the \"cause\" attribute
indicating the application error as listed in table 5.5.3-1.
Table 5.5.3-1: Application errors
* * *
Application Error HTTP status code Description UPDATE_NOT_ALLOWED 403
Forbidden Indicates that the resource is not allowed to be updated.
* * *
## 5.6 Feature negotiation
The optional features in table 6.1.8-1 of 3GPP TS 29.504 [6] are defined for
the Nudr_DataRepository API. They shall be negotiated using the extensibility
mechanism defined in subclause 6.6 of 3GPP TS 29.500 [4].
# 6 Usage of Nudr_DataRepository Service API for Application Data
## 6.1 Introduction
The following subclauses specify the usage of Nudr_DataRepository service for
application data. The principles specified in 3GPP TS 29.504 [6] are followed
unless explicitly specified otherwise in the following subclauses.
## 6.2 Resources
### 6.2.1 Overview
This clause specifies the resources for the usage of the Unified Data
Repository service for Application Data.
### 6.2.2 Resource Structure
Figure 6.2.2-1: Resource URI structure of the Nudr_DataRepository API for
application data
Table 6.2.2-1 provides an overview of the resources and applicable HTTP
methods.
Table 6.2.2-1: Resources and methods overview
+----------------+----------------+----------------+----------------+ | Resource name | Resource URI | HTTP method or | Description | | | | custom | | | | | operation | | +----------------+----------------+----------------+----------------+ | PFD Data | {api | GET | Retrieve PFDs | | | Root}/nudr-dr/ | | for | | | {apiVersion}/\ | | application | | | applica | | identifier(s) | | | tion-data/pfds | | identified by | | | | | query | | | | | parameter(s). | | | | | | | | | | Retrieve PFDs | | | | | for all | | | | | application | | | | | identifier(s) | | | | | if no query | | | | | parameter is | | | | | included in | | | | | the Request | | | | | URI. | +----------------+----------------+----------------+----------------+ | Individual PFD | {api | GET | Retrieve the | | Data | Root}/nudr-dr/ | | corresponding | | | {apiVersion}/\ | | PFDs of the | | | a | | specified | | | pplication-dat | | application | | | a/pfds/{appId} | | identifier. | +----------------+----------------+----------------+----------------+ | | | DELETE | Delete the | | | | | corresponding | | | | | PFDs of the | | | | | specified | | | | | application | | | | | identifier. | +----------------+----------------+----------------+----------------+ | | | PUT | Create or | | | | | update the | | | | | corresponding | | | | | PFDs for the | | | | | specified | | | | | application | | | | | identifier. | +----------------+----------------+----------------+----------------+ | Influence Data | {api | GET | Retrieve the | | | Root}/nudr-dr/ | | Session | | | {apiVersion}/\ | | Influence Data | | | ap | | of given | | | plication-data | | services, | | | /influenceData | | S-NSSAIs and | | | | | DNNs or | | | | | Internal Group | | | | | Identifiers or | | | | | SUPIs. | +----------------+----------------+----------------+----------------+ | Individual | {api | PUT | Create an | | Influence Data | Root}/nudr-dr/ | | individual | | | {apiVersion}/\ | | Influence Data | | | appl | | resource | | | ication-data/i | | identified by | | | nfluenceData/\ | | {influenceId}, | | | {influenceId} | | or modify all | | | | | of the | | | | | properties of | | | | | an individual | | | | | Influence Data | | | | | resource | | | | | identified by | | | | | {influenceId}. | +----------------+----------------+----------------+----------------+ | | | PATCH | Modify part of | | | | | the properties | | | | | of an | | | | | individual | | | | | Influence Data | | | | | resource | | | | | identified by | | | | | {influenceId}. | +----------------+----------------+----------------+----------------+ | | | DELETE | Delete an | | | | | individual | | | | | Influence Data | | | | | resource | | | | | identified by | | | | | {influenceId}. | +----------------+----------------+----------------+----------------+ | Influence Data | {api | POST | Create a new | | Subscription | Root}/nudr-dr/ | | Individual | | | {apiVersion}/\ | | Influence Data | | | appl | | Subscription | | | ication-data/i | | resource. | | | nfluenceData/\ | | | | | subs-to-notify | | | +----------------+----------------+----------------+----------------+ | | | GET | Read | | | | | subscriptions | | | | | for a given | | | | | S-NSSAI and | | | | | DNN or | | | | | Internal Group | | | | | Identifier or | | | | | SUPI. | +----------------+----------------+----------------+----------------+ | Individual | {api | GET | Get an | | Influence Data | Root}/nudr-dr/ | | existing | | Subscription | {apiVersion}/\ | | individual | | | appl | | Influence Data | | | ication-data/i | | Subscription | | | nfluenceData/\ | | resource | | | sub | | identified by | | | s-to-notify/{s | | {su | | | ubscriptionId} | | bscriptionId}. | +----------------+----------------+----------------+----------------+ | | | PUT | Modify an | | | | | existing | | | | | individual | | | | | Influence Data | | | | | Subscription | | | | | resource | | | | | identified by | | | | | {su | | | | | bscriptionId}. | +----------------+----------------+----------------+----------------+ | | | DELETE | Delete an | | | | | individual | | | | | Influence Data | | | | | Subscription | | | | | resource | | | | | identified by | | | | | {su | | | | | bscriptionId}. | +----------------+----------------+----------------+----------------+
### 6.2.3 Resource: PFD Data
#### 6.2.3.1 Description
The PFD Data resource represents all the PFD Datas to the Nudr_DataRepository
Service at a given UDR.
#### 6.2.3.2 Resource definition
Resource URI: **{apiRoot}/nudr-dr/{apiVersion}/application-data/pfds**
Table 6.2.3.2-1: Resource URI variables for this resource
* * *
Name Definition apiRoot See 3GPP TS 29.504 [6] subclause 6.1.1. apiVersion See
3GPP TS 29.504 [6] subclause 6.1.1.
* * *
#### 6.2.3.3 Resource Standard Methods
##### 6.2.3.3.1 GET
This method shall support the URI query parameters specified in table
6.2.3.3.1-1.
Table 6.2.3.3.1-1: URI query parameters supported by the GET method on this
resource
+-------+------------------+---+-------------+------------------+ | Name | Data type | P | Cardinality | Description | +-------+------------------+---+-------------+------------------+ | appId | arra | O | 1..N | Contains the | | | y(ApplicationId) | | | information of | | | | | | the application | | | | | | identifier(s) | | | | | | for the querying | | | | | | PFD Data | | | | | | resource. | | | | | | | | | | | | If none appId is | | | | | | included in the | | | | | | URI, it applies | | | | | | to all | | | | | | application | | | | | | identifier(s) | | | | | | for the querying | | | | | | PFD Data | | | | | | resource. | +-------+------------------+---+-------------+------------------+
This method shall support the request data structures specified in table
6.2.3.3.1-2 and the response data structures and response codes specified in
table 6.2.3.3.1-3.
Table 6.2.3.3.1-2: Data structures supported by the GET Request Body on this
resource
* * *
Data type P Cardinality Description n/a
* * *
Table 6.2.3.3.1-3: Data structures supported by the GET Response Body on this
resource
+-----------------+---+-------------+----------+-----------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +-----------------+---+-------------+----------+-----------------+ | array | M | 0..N | 200 OK | A | | (PfdDataForApp) | | | | representation | | | | | | of PFDs for | | | | | | request | | | | | | applications is | | | | | | returned. | +-----------------+---+-------------+----------+-----------------+ | NOTE: The | | | | | | mandatory HTTP | | | | | | error status | | | | | | codes for the | | | | | | GET method | | | | | | listed in table | | | | | | 5.2.7.1-1 of | | | | | | 3GPP | | | | | | TS 29.500 [4] | | | | | | also apply. | | | | | +-----------------+---+-------------+----------+-----------------+
### 6.2.4 Resource: Individual PFD Data
#### 6.2.4.1 Description
The Individual PFD Data resource represents Individual PFD Datas to the
Nudr_DataRepository Service at a given UDR.
#### 6.2.4.2 Resource definition
Resource URI: **{apiRoot}/nudr-dr/{apiVersion}/application-data/pfds/{appId}**
This resource shall support the resource URI variables defined in table
6.2.4.2-1.
Table 6.2.4.2-1: Resource URI variables for this resource
+------------+--------------------------------------------------------+ | Name | Definition | +------------+--------------------------------------------------------+ | apiRoot | See 3GPP TS 29.504 [6] subclause 6.1.1. | +------------+--------------------------------------------------------+ | apiVersion | See 3GPP TS 29.504 [6] subclause 6.1.1. | +------------+--------------------------------------------------------+ | appId | Indicates the application identifier for the request | | | pfd(s). | | | | | | It shall be formatted as data type ApplicationId, see | | | 3GPP TS 29.571 [7]. | +------------+--------------------------------------------------------+
#### 6.2.4.3 Resource Standard Methods
##### 6.2.4.3.1 GET
This method shall support the URI query parameters specified in table
6.2.4.3.1-1.
Table 6.2.4.3.1-1: URI query parameters supported by the GET method on this
resource
* * *
**Name** **Data type** **P** **Cardinality** **Description** n/a
* * *
This method shall support the request data structures specified in table
6.2.4.3.1-2 and the response data structures and response codes specified in
table 6.2.4.3.1-3.
Table 6.2.4.3.1-2: Data structures supported by the GET Request Body on this
resource
* * *
**Data type** **P** **Cardinality** **Description** n/a
* * *
Table 6.2.4.3.1-3: Data structures supported by the GET Response Body on this
resource
+-----------------+---+-------------+----------+-----------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +-----------------+---+-------------+----------+-----------------+ | PfdDataForApp | M | 1 | 200 OK | A | | | | | | representation | | | | | | of PFDs for the | | | | | | request | | | | | | application | | | | | | identified by | | | | | | the application | | | | | | identifier is | | | | | | returned. | +-----------------+---+-------------+----------+-----------------+ | NOTE: The | | | | | | mandatory HTTP | | | | | | error status | | | | | | codes for the | | | | | | GET method | | | | | | listed in table | | | | | | 5.2.7.1-1 of | | | | | | 3GPP | | | | | | TS 29.500 [4] | | | | | | also apply. | | | | | +-----------------+---+-------------+----------+-----------------+
##### 6.2.4.3.2 DELETE
This method shall support the URI query parameters specified in table
6.2.4.3.2-1.
Table 6.2.4.3.2-1: URI query parameters supported by the DELETE method on this
resource
* * *
**Name** **Data type** **P** **Cardinality** **Description** n/a
* * *
This method shall support the request data structures specified in table
6.2.4.3.2-2 and the response data structures and response codes specified in
table 6.2.4.3.2-3.
Table 6.2.4.3.2-2: Data structures supported by the DELETE Request Body on
this resource
* * *
Data type P Cardinality Description n/a
* * *
Table 6.2.4.3.2-3: Data structures supported by the DELETE Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | n/a | | | 204 No | Successful | | | | | content | case. | | | | | | | | | | | | The | | | | | | Individual | | | | | | PFD Data | | | | | | resource | | | | | | related to | | | | | | the | | | | | | application | | | | | | identifier | | | | | | was deleted. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the | | | | | | DELETE method | | | | | | listed in | | | | | | table | | | | | | 5.2.7.1-1 of | | | | | | 3GPP TS | | | | | | 29.500 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
##### 6.2.4.3.3 PUT
This method shall support the URI query parameters specified in table
6.2.4.3.3-1.
Table 6.2.4.3.3-1: URI query parameters supported by the PUT method on this
resource
* * *
Name Data type P Cardinality Description n/a
* * *
This method shall support the request data structures specified in table
6.2.4.3.3-2 and the response data structures and response codes specified in
table 6.2.4.3.3-3.
Table 6.2.4.3.3-2: Data structures supported by the PUT Request Body on this
resource
* * *
Data type P Cardinality Description PfdDataForApp M 1 Contains the information
for the creation or modification of an individual PFD Data resource.
* * *
Table 6.2.4.3.3-3: Data structures supported by the PUT Response Body on this
resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | PfdDataForApp | M | 1 | 201 Created | The resource | | | | | | has been | | | | | | successfully | | | | | | created and a | | | | | | response body | | | | | | is returned | | | | | | containing a | | | | | | r | | | | | | epresentation | | | | | | of the | | | | | | resource. | +---------------+---+-------------+---------------+---------------+ | PfdDataForApp | M | 1 | 200 OK | The resource | | | | | | has been | | | | | | successfully | | | | | | updated and a | | | | | | response body | | | | | | is returned | | | | | | containing a | | | | | | r | | | | | | epresentation | | | | | | of the | | | | | | resource. | +---------------+---+-------------+---------------+---------------+ | n/a | | | 204 No | The resource | | | | | Content | has been | | | | | | successfully | | | | | | updated. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the PUT | | | | | | method listed | | | | | | in table | | | | | | 5.2.7.1-1 of | | | | | | 3GPP TS | | | | | | 29.500 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
### 6.2.5 Resource: Influence Data
#### 6.2.5.1 Description
The Influence Data resource represents a Traffic Influence Data to the
Nudr_DataRepository Service at a given UDR.
#### 6.2.5.2 Resource definition
Resource URI: **{apiRoot}/nudr-dr/{apiVersion}/application-
data/influenceData**
This resource shall support the resource URI variables defined in table
6.2.5.2-1.
Table 6.2.5.2-1: Resource URI variables for this resource
* * *
Name Definition apiRoot See 3GPP TS 29.504 [6] subclause 6.1.1. apiVersion See
3GPP TS 29.504 [6] subclause 6.1.1.
* * *
#### 6.2.5.3 Resource Standard Methods
##### 6.2.5.3.1 GET
This method shall support the URI query parameters specified in table
6.2.5.3.1-1.
Table 6.2.5.3.1-1: URI query parameters supported by the GET method on this
resource
* * *
Name Data type P Cardinality Description influence-Ids array(string) O 1..N
Each element identifies a service. dnns array(Dnn) O 1..N Each element
identifies a DNN. snssais array(Snssai) O 1..N Each element identifies a
slice. internal-Group-Ids array(GroupId) O 1..N Each element identifies a
group of users. supis array(Supi) O 1..N Each element identifies a user. NOTE:
At least one of the above attributes shall be provided.
* * *
This method shall support the request data structures specified in table
6.2.5.3.1-2 and the response data structures and response codes specified in
table 6.2.5.3.1-3.
Table 6.2.5.3.1-2: Data structures supported by the GET Request Body on this
resource
* * *
Data type P Cardinality Description n/a
* * *
Table 6.2.5.3.1-3: Data structures supported by the GET Response Body on this
resource
+-----------------+---+-------------+----------+-----------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +-----------------+---+-------------+----------+-----------------+ | array(Tr | M | 0..N | 200 OK | The Traffic | | afficInfluData) | | | | Influence Data | | | | | | stored in the | | | | | | UDR are | | | | | | returned. | +-----------------+---+-------------+----------+-----------------+ | NOTE: The | | | | | | mandatory HTTP | | | | | | error status | | | | | | codes for the | | | | | | GET method | | | | | | listed in | | | | | | table 5.2.7.1-1 | | | | | | of | | | | | | 3GPP | | | | | | TS 29.500 [4] | | | | | | also apply. | | | | | +-----------------+---+-------------+----------+-----------------+
### 6.2.6 Resource: Individual Influence Data
#### 6.2.6.1 Description
The Individual Influence Data resource represents an Individual Traffic
Influence Data to the Nudr_DataRepository Service at a given UDR.
#### 6.2.6.2 Resource definition
Resource URI: **{apiRoot}/nudr-dr/{apiVersion}/application-
data/influenceData/{influenceId}**
This resource shall support the resource URI variables defined in table
6.2.6.2-1.
Table 6.2.6.2-1: Resource URI variables for this resource
+-------------+-------------------------------------------------------+ | Name | Definition | +-------------+-------------------------------------------------------+ | apiRoot | See 3GPP TS 29.504 [6] subclause 6.1.1. | +-------------+-------------------------------------------------------+ | apiVersion | See 3GPP TS 29.504 [6] subclause 6.1.1. | +-------------+-------------------------------------------------------+ | influenceId | The Identifier of an Individual Influence Data to be | | | updated. | | | | | | It shall apply the format of Data type string. To | | | enable the value to be used as part of a URI, the | | | string shall only contain allowed characters | | | according to the \"lower-with-hyphen\" naming | | | convention defined in subclause 5.1.3 of | | | 3GPP TS 29.501 [5]. | +-------------+-------------------------------------------------------+
#### 6.2.6.3 Resource Standard Methods
##### 6.2.6.3.1 PUT
This method shall support the URI query parameters specified in table
6.2.6.3.1-1.
Table 6.2.6.3.1-1: URI query parameters supported by the PUT method on this
resource
* * *
**Name** **Data type** **P** **Cardinality** **Description** n/a n/a
* * *
This method shall support the request data structures specified in table
6.2.6.3.1-2 and the response data structures and response codes specified in
table 6.2.6.3.1-3.
Table 6.2.6.3.1-2: Data structures supported by the PUT Request Body on this
resource
* * *
Data type P Cardinality Description TrafficInfluData M 1 The Traffic Influence
Data to be stored in the UDR.
* * *
Table 6.2.6.3.1-3: Data structures supported by the PUT Response Body on this
resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | Tra | M | 1 | 201 Created | The resource | | fficInfluData | | | | has been | | | | | | successfully | | | | | | created and a | | | | | | response body | | | | | | is returned | | | | | | containing a | | | | | | r | | | | | | epresentation | | | | | | of the | | | | | | resource. | +---------------+---+-------------+---------------+---------------+ | Tra | M | 1 | 200 OK | The resource | | fficInfluData | | | | has been | | | | | | successfully | | | | | | updated and a | | | | | | response body | | | | | | is returned | | | | | | containing a | | | | | | r | | | | | | epresentation | | | | | | of the | | | | | | resource. | +---------------+---+-------------+---------------+---------------+ | n/a | | | 204 No | The resource | | | | | Content | has been | | | | | | successfully | | | | | | updated. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the PUT | | | | | | method listed | | | | | | in | | | | | | ta | | | | | | ble 5.2.7.1-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.500 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
##### 6.2.6.3.2 PATCH
This method shall support the URI query parameters specified in table
6.2.6.3.2-1.
Table 6.2.6.3.2-1: URI query parameters supported by the PATCH method on this
resource
* * *
Name Data type P Cardinality Description n/a n/a
* * *
This method shall support the request data structures specified in table
6.2.6.3.2-2 and the response data structures and response codes specified in
table 6.2.6.3.2-3.
Table 6.2.6.3.2-2: Data structures supported by the PATCH Request Body on this
resource
* * *
Data type P Cardinality Description TrafficInfluDataPatch M 1 The Traffic
Influence Data to be updated in the UDR.
* * *
Table 6.2.6.3.2-3: Data structures supported by the PATCH Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | Tra | M | 1 | 200 OK | The update of | | fficInfluData | | | | an Individual | | | | | | Traffic | | | | | | Influence | | | | | | Data resource | | | | | | is confirmed | | | | | | and a | | | | | | response body | | | | | | containing | | | | | | Traffic | | | | | | Influence | | | | | | Data shall be | | | | | | returned. | +---------------+---+-------------+---------------+---------------+ | n/a | | | 204 No | The | | | | | Content | Individual | | | | | | Traffic | | | | | | Influence | | | | | | Data resource | | | | | | has been | | | | | | successfully | | | | | | updated. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the PATCH | | | | | | method listed | | | | | | in | | | | | | ta | | | | | | ble 5.2.7.1-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.500 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
##### 6.2.6.3.3 DELETE
This method shall support the URI query parameters specified in table
6.2.6.3.3-1.
Table 6.2.6.3.3-1: URI query parameters supported by the DELETE method on this
resource
* * *
**Name** **Data type** **P** **Cardinality** **Description** n/a n/a
* * *
This method shall support the request data structures specified in table
6.2.6.3.3-2 and the response data structures and response codes specified in
table 6.2.6.3.3-3.
Table 6.2.6.3.3-2: Data structures supported by the DELETE Request Body on
this resource
* * *
Data type P Cardinality Description n/a
* * *
Table 6.2.6.3.3-3: Data structures supported by the DELETE Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | n/a | | | 204 No | The | | | | | Content | Individual | | | | | | Influence | | | | | | Data was | | | | | | deleted | | | | | | successfully. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the | | | | | | DELETE method | | | | | | listed in | | | | | | ta | | | | | | ble 5.2.7.1-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.500 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
### 6.2.7 Resource: Influence Data Subscription
#### 6.2.7.1 Description
The Influence Data Subscription resource represents all Influence Data
subscriptions to the Nudr_DataRepository Service at a given UDR.
#### 6.2.7.2 Resource definition
Resource URI: **{apiRoot}/nudr-dr/{apiVersion}/application-
data/influenceData/subs-to-notify**
This resource shall support the resource URI variables defined in table
6.2.7.2-1.
Table 6.2.7.2-1: Resource URI variables for this resource
* * *
Name Definition apiRoot See 3GPP TS 29.504 [6] subclause 6.1.1. apiVersion See
3GPP TS 29.504 [6] subclause 6.1.1.
* * *
#### 6.2.7.3 Resource Standard Methods
##### 6.2.7.3.1 POST
This method shall support the URI query parameters specified in table
6.2.7.3.1-1.
Table 6.2.7.3.1-1: URI query parameters supported by the POST method on this
resource
* * *
**Name** **Data type** **P** **Cardinality** **Description** n/a
* * *
This method shall support the request data structures specified in table
6.2.7.3.1-2 and the response data structures and response codes specified in
table 6.2.7.3.1-3.
Table 6.2.7.3.1-2: Data structures supported by the POST Request Body on this
resource
* * *
Data type P Cardinality Description TrafficInfluSub M 1 Parameters to register
a subscription to Traffic Influence Data.
* * *
Table 6.2.7.3.1-3: Data structures supported by the POST Response Body on this
resource
+---------------+---+-------------+-------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+-------------+---------------+ | Tr | M | 1 | 201 Created | The | | afficInfluSub | | | | subscription | | | | | | was created | | | | | | successfully. | +---------------+---+-------------+-------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the POST | | | | | | method listed | | | | | | in | | | | | | ta | | | | | | ble 5.2.7.1-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.500 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+-------------+---------------+
##### 6.2.7.3.2 GET
This method shall support the URI query parameters specified in table
6.2.7.3.2-1.
Table 6.2.7.3.2-1: URI query parameters supported by the GET method on this
resource
+-----------------+-----------+---+-------------+-----------------+ | Name | Data type | P | Cardinality | Description | +-----------------+-----------+---+-------------+-----------------+ | dnn | Dnn | O | 0..1 | Identifies a | | | | | | DNN. | +-----------------+-----------+---+-------------+-----------------+ | snssai | Snssai | O | 0..1 | Identifies a | | | | | | slice. | +-----------------+-----------+---+-------------+-----------------+ | in | GroupId | O | 0..1 | Identifies a | | ternal-Group-Id | | | | group of users. | | | | | | (NOTE 2) | +-----------------+-----------+---+-------------+-----------------+ | supi | Supi | O | 0..1 | Identifies a | | | | | | user. | +-----------------+-----------+---+-------------+-----------------+ | NOTE 1: At | | | | | | least one of | | | | | | the above | | | | | | attribute shall | | | | | | be provided. | | | | | | | | | | | | NOTE 2: For the | | | | | | Traffic | | | | | | Influence Data | | | | | | applies to any | | | | | | UE, the | | | | | | \"inte | | | | | | rnal-Group-Id\" | | | | | | sets to | | | | | | \"AnyUE\". | | | | | +-----------------+-----------+---+-------------+-----------------+
This method shall support the request data structures specified in table
6.2.7.3.2-2 and the response data structures and response codes specified in
table 6.2.7.3.2-3.
Table 6.2.7.3.2-2: Data structures supported by the GET Request Body on this
resource
* * *
Data type P Cardinality Description n/a
* * *
Table 6.2.7.3.2-3: Data structures supported by the GET Response Body on this
resource
+-----------------+---+-------------+----------+-----------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +-----------------+---+-------------+----------+-----------------+ | array(T | M | 0..N | 200 OK | The | | rafficInfluSub) | | | | subscription | | | | | | information as | | | | | | request in the | | | | | | request URI | | | | | | query | | | | | | parameter(s) | | | | | | are returned. | +-----------------+---+-------------+----------+-----------------+ | NOTE: The | | | | | | mandatory HTTP | | | | | | error status | | | | | | codes for the | | | | | | GET method | | | | | | listed in | | | | | | table 5.2.7.1-1 | | | | | | of | | | | | | 3GPP | | | | | | TS 29.500 [4] | | | | | | also apply. | | | | | +-----------------+---+-------------+----------+-----------------+
### 6.2.8 Resource: Individual Influence Data Subscription
#### 6.2.8.1 Description
The Individual Influence Data Subscription resource represents a single
Influence Data subscription to the Nudr_DataRepository Service at a given UDR.
#### 6.2.8.2 Resource definition
Resource URI: **{apiRoot}/nudr-dr/{apiVersion}/application-
data/influenceData/subs-to-notify/{subscriptionId}**
This resource shall support the resource URI variables defined in table
6.2.8.2-1.
Table 6.2.8.2-1: Resource URI variables for this resource
* * *
Name Definition apiRoot See 3GPP TS 29.504 [6] subclause 6.1.1. apiVersion See
3GPP TS 29.504 [6] subclause 6.1.1. subscriptionId String identifying an
Individual Influence Data Subscription resource. To enable the value to be
used as part of a URI, the string shall only contain allowed characters
according to the \"lower-with-hyphen\" naming convention defined in subclause
5.1.3 of 3GPP TS 29.501 [5].
* * *
#### 6.2.8.3 Resource Standard Methods
##### 6.2.8.3.1 GET
This method shall support the URI query parameters specified in table
6.2.8.3.1-1.
Table 6.2.8.3.1-1: URI query parameters supported by the GET method on this
resource
* * *
**Name** **Data type** **P** **Cardinality** **Description** n/a
* * *
This method shall support the request data structures specified in table
6.2.8.3.1-2 and the response data structures and response codes specified in
table 6.2.8.3.1-3.
Table 6.2.8.3.1-2: Data structures supported by the GET Request Body on this
resource
* * *
Data type P Cardinality Description n/a
* * *
Table 6.2.8.3.1-3: Data structures supported by the GET Response Body on this
resource
+-----------------+---+-------------+----------+-----------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +-----------------+---+-------------+----------+-----------------+ | TrafficInfluSub | M | 1 | 200 OK | The | | | | | | subscription | | | | | | information is | | | | | | returned. | +-----------------+---+-------------+----------+-----------------+
##### 6.2.8.3.2 PUT
This method shall support the URI query parameters specified in table
6.2.8.3.2-1.
Table 6.2.8.3.2-1: URI query parameters supported by the PUT method on this
resource
* * *
**Name** **Data type** **P** **Cardinality** **Description** n/a
* * *
This method shall support the request data structures specified in table
6.2.8.3.2-2 and the response data structures and response codes specified in
table 6.2.8.3.2-3.
Table 6.2.8.3.2-2: Data structures supported by the PUT Request Body on this
resource
* * *
Data type P Cardinality Description TrafficInfluSub M 1 Modify an existing
subscription to Traffic Influence Data.
* * *
Table 6.2.8.3.2-3: Data structures supported by the PUT Response Body on this
resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | Tr | M | 1 | 200 OK | The | | afficInfluSub | | | | subscription | | | | | | was updated | | | | | | successfully. | +---------------+---+-------------+---------------+---------------+ | n/a | | | 204 No | The | | | | | Content | subscription | | | | | | has been | | | | | | successfully | | | | | | updated. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the PUT | | | | | | method listed | | | | | | in | | | | | | ta | | | | | | ble 5.2.7.1-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.500 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
##### 6.2.8.3.3 DELETE
This method shall support the URI query parameters specified in table
6.2.8.3.3-1.
Table 6.2.8.3.3-1: URI query parameters supported by the DELETE method on this
resource
* * *
**Name** **Data type** **P** **Cardinality** **Description** n/a
* * *
This method shall support the request data structures specified in table
6.2.8.3.3-2 and the response data structures and response codes specified in
table 6.2.8.3.3-3.
Table 6.2.8.3.3-2: Data structures supported by the DELETE Request Body on
this resource
* * *
Data type P Cardinality Description n/a
* * *
Table 6.2.8.3.3-3: Data structures supported by the DELETE Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | n/a | | | 204 No | The | | | | | Content | subscription | | | | | | was | | | | | | terminated | | | | | | successfully. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the | | | | | | DELETE method | | | | | | listed in | | | | | | ta | | | | | | ble 5.2.7.1-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.500 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
## 6.3 Notifications
### 6.3.1 General
Notifications shall comply with subclause 6.2 of 3GPP TS 29.500 [4] and
subclause 4.6.2.3 of 3GPP TS 29.501 [5].
Table 6.3.1-1: Notifications
* * *
Custom operation URI Mapped HTTP method Description
{notificationUri} POST One of notification reference provided by the service
consumer during the subscription of the AF Influence Data.
* * *
### 6.3.2 Void
### 6.3.3 Influence Data Update Notification
#### 6.3.3.1 Description
The Influence Update Notification is used by the UDR to report one or several
observed Influence Data(s) to a NF service consumer that has subscribed to
such Notifications.
#### 6.3.3.2 Operation Definition
The POST method shall be used for traffic influence data change notification
and the URI shall be provided during the subscription procedure.
URI: **{notificationUri}**
This method shall support the URI query parameters specified in table
6.3.3.2-1.
Table 6.3.3.2-1: URI query parameters supported by the POST method
* * *
Name Data type P Cardinality Description n/a
* * *
This method shall support the request data structures specified in table
6.3.3.2-2 and the response data structures and response codes specified in
table 6.3.3.2-3.
Table 6.3.3.2-2: Data structures supported by the POST Request Body on this
resource
* * *
Data type P Cardinality Description array(TrafficInfluData) M 1..N Provides
Information about observed Influence Data (s).
* * *
Table 6.3.3.2-3: Data structures supported by the POST Response Body on this
resource
* * *
Data type P Cardinality Response codes Description n/a 204 No Content The
receipt of the Notification is acknowledged. NOTE: The mandatory HTTP error
status codes for the POST method listed in table 5.2.7.1-1 of 3GPP TS 29.500
[4] also apply.
* * *
## 6.4 Data Model
### 6.4.1 General
This subclause specifies the application data model supported by the API.
Table 6.4.1-1 specifies the data types defined for the Nudr_DataRepository
Service API for Application Data service based interface protocol.
Table 6.4.1-1: Nudr_DataRepository specific Data Types for Application Data
* * *
Data type Section defined Description Applicability TrafficInfluData 6.4.2.2
Contains traffic influence data.  
TrafficInfluDataPatch 6.4.2.3 Contains modification instructions to be
performed on the traffic influence data.  
TrafficInfluSub 6.4.2.4 Contains traffic influence subscription data.
* * *
Table 6.4.1-2 specifies data types re-used by the Nudr_DataRepository Service
API for Application Data service based interface protocol from other
specifications, including a reference to their respective specifications and
when needed, a short description of their use within the Nudr_DataRepository
Service API for Application Data service based interface.
Table 6.4.1-2: Nudr_DataRepository re-used Data Types for Application Data
* * *
Data type Reference Comments Applicability ApplicationId 3GPP TS 29.571 [7]
Indicates an application identifier.  
DateTime 3GPP TS 29.571 [7] Indicates a date and time.  
DnaiChangeType 3GPP TS 29.571 [7] Describes the types of DNAI change.  
Dnn 3GPP TS 29.571 [7] Identifies a Data Network Name.  
EthFlowDescription 3GPP TS 29.514 [16] Contains the Ethernet data flow
information.  
FlowInfo 3GPP TS 29.122 [9] Contains the flow information.  
NetworkAreaInfo 3GPP TS 29.554 [13] Describes a network area information.  
PfdDataForApp 3GPP TS 29.551 [8] Identifies the PFDs for one application
identifier.  
RouteToLocation 3GPP TS 29.571 [7] Identifies the N6 traffic routing
requirement.  
Snssai 3GPP TS 29.571 [7] Identifies a Single Network Slice Selection
Assistance Information.  
SubscribedEvent 3GPP TS 29.522 [19] Identified the type of UP path management
events of which the AF requests to be notified.  
Supi 3GPP TS 29.571 [7] Identifies a SUPI that shall contain either an IMSI or
an NAI.  
SupportedFeatures 3GPP TS 29.571 [7] Used to negotiate the applicability of
the optional features.  
Uri 3GPP TS 29.571 [7] Identifies a URI.
* * *
### 6.4.2 Structured data types
#### 6.4.2.1 Introduction
This subclause defines the structures to be used in resource representations.
#### 6.4.2.2 Type TrafficInfluData
Table 6.4.2.2-1: Definition of type TrafficInfluData
+----------+----------+-------+----------+----------+----------+ | **A |** Data | **P** | **Cardi |** Descr | * | | ttribute | type**| | nality** | iption**| *Applica | | name** | | | | | bility** | +----------+----------+-------+----------+----------+----------+ | upPat | string | C | 0..1 | Contains | | | hChgNoti | | | | the | | | fCorreId | | | | Noti | | | | | | | fication | | | | | | | Cor | | | | | | | relation | | | | | | | Id | | | | | | | a | | | | | | | llocated | | | | | | | by the | | | | | | | NEF for | | | | | | | the UP | | | | | | | path | | | | | | | change | | | | | | | notif | | | | | | | ication. | | | | | | | It shall | | | | | | | be | | | | | | | included | | | | | | | when the | | | | | | | NEF | | | | | | | requests | | | | | | | the UP | | | | | | | path | | | | | | | change | | | | | | | notif | | | | | | | ication. | | +----------+----------+-------+----------+----------+----------+ | ap | boolean | O | 0..1 | Id | | | pReloInd | | | | entifies | | | | | | | whether | | | | | | | an | | | | | | | app | | | | | | | lication | | | | | | | can be | | | | | | | r | | | | | | | elocated | | | | | | | once a | | | | | | | location | | | | | | | of the | | | | | | | app | | | | | | | lication | | | | | | | has been | | | | | | | s | | | | | | | elected. | | +----------+----------+-------+----------+----------+----------+ | afAppId | string | O | 0..1 | Id | | | | | | | entifies | | | | | | | an | | | | | | | appl | | | | | | | ication. | | | | | | | | | | | | | | (NOTE 1) | | | | | | | (NOTE 3) | | +----------+----------+-------+----------+----------+----------+ | dnn | Dnn | O | 0..1 | Id | | | | | | | entifies | | | | | | | a DNN | | +----------+----------+-------+----------+----------+----------+ | e | a | O | 1..N | Id | | | thTraffi | rray(Eth | | | entifies | | | cFilters | FlowDesc | | | Ethernet | | | | ription) | | | packet | | | | | | | filters. | | | | | | | | | | | | | | (NOTE 1) | | | | | | | (NOTE 3) | | +----------+----------+-------+----------+----------+----------+ | snssai | Snssai | O | 0..1 | The | | | | | | | identi | | | | | | | fication | | | | | | | of | | | | | | | slice. | | +----------+----------+-------+----------+----------+----------+ | inte | GroupId | O | 0..1 | Id | | | rGroupId | | | | entifies | | | | | | | a group | | | | | | | of | | | | | | | users. | | | | | | | (NOTE 2) | | | | | | | (NOTE 3) | | | | | | | (NOTE 4) | | +----------+----------+-------+----------+----------+----------+ | supi | Supi | O | 0..1 | Id | | | | | | | entifies | | | | | | | a user. | | | | | | | (NOTE 2) | | | | | | | (NOTE 3) | | +----------+----------+-------+----------+----------+----------+ | traffi | array(F | O | 1..N | Id | | | cFilters | lowInfo) | | | entifies | | | | | | | IP | | | | | | | packet | | | | | | | filters. | | | | | | | | | | | | | | (NOTE 1) | | | | | | | (NOTE 3) | | +----------+----------+-------+----------+----------+----------+ | traff | array( | O | 1..N | Id | | | icRoutes | RouteToL | | | entifies | | | | ocation) | | | the N6 | | | | | | | traffic | | | | | | | routing | | | | | | | requ | | | | | | | irement. | | +----------+----------+-------+----------+----------+----------+ | validS | DateTime | O | 0..1 | Id | | | tartTime | | | | entifies | | | | | | | when the | | | | | | | traffic | | | | | | | routings | | | | | | | are | | | | | | | start to | | | | | | | be | | | | | | | app | | | | | | | licable. | | +----------+----------+-------+----------+----------+----------+ | vali | DateTime | O | 0..1 | Id | | | dEndTime | | | | entifies | | | | | | | when the | | | | | | | traffic | | | | | | | routings | | | | | | | are not | | | | | | | app | | | | | | | licable. | | +----------+----------+-------+----------+----------+----------+ | nw | Network | O | 0..1 | Id | | | AreaInfo | AreaInfo | | | entifies | | | | | | | a | | | | | | | network | | | | | | | area | | | | | | | inf | | | | | | | ormation | | | | | | | that the | | | | | | | request | | | | | | | applies | | | | | | | only to | | | | | | | the | | | | | | | traffic | | | | | | | of UE(s) | | | | | | | located | | | | | | | in this | | | | | | | specific | | | | | | | zone. | | +----------+----------+-------+----------+----------+----------+ | u | Uri | C | 0..1 | Contains | | | pPathChg | | | | the URI | | | NotifUri | | | | where | | | | | | | the NEF | | | | | | | receives | | | | | | | the UP | | | | | | | path | | | | | | | change | | | | | | | notif | | | | | | | ication. | | | | | | | It shall | | | | | | | be | | | | | | | included | | | | | | | when the | | | | | | | NEF | | | | | | | requests | | | | | | | the UP | | | | | | | path | | | | | | | change | | | | | | | notif | | | | | | | ication. | | +----------+----------+-------+----------+----------+----------+ | subscrib | array( | O | 1..N | Id | | | edEvents | Subscrib | | | entifies | | | | edEvent) | | | the | | | | | | | req | | | | | | | uirement | | | | | | | to be | | | | | | | notified | | | | | | | of the | | | | | | | e | | | | | | | vent(s). | | +----------+----------+-------+----------+----------+----------+ | dna | DnaiCh | O | 0..1 | Id | | | iChgType | angeType | | | entifies | | | | | | | a type | | | | | | | of | | | | | | | noti | | | | | | | fication | | | | | | | r | | | | | | | egarding | | | | | | | UP path | | | | | | | ma | | | | | | | nagement | | | | | | | event. | | +----------+----------+-------+----------+----------+----------+ | NOTE 1: | | | | | | | One of | | | | | | | \"af | | | | | | | AppId\", | | | | | | | \" | | | | | | | trafficF | | | | | | | ilters\" | | | | | | | or | | | | | | | \"eth | | | | | | | TrafficF | | | | | | | ilters\" | | | | | | | shall be | | | | | | | i | | | | | | | ncluded. | | | | | | | | | | | | | | NOTE 2: | | | | | | | Either | | | | | | | \"supi\" | | | | | | | or | | | | | | | \"interG | | | | | | | roupId\" | | | | | | | shall be | | | | | | | i | | | | | | | ncluded. | | | | | | | | | | | | | | NOTE 3: | | | | | | | To | | | | | | | indicate | | | | | | | the | | | | | | | deletion | | | | | | | of a | | | | | | | Traffic | | | | | | | In | | | | | | | dividual | | | | | | | I | | | | | | | nfluence | | | | | | | Data | | | | | | | r | | | | | | | esource, | | | | | | | only the | | | | | | | app | | | | | | | ropriate | | | | | | | com | | | | | | | bination | | | | | | | of | | | | | | | \"supi\" | | | | | | | or | | | | | | | \ | | | | | | | "interGr | | | | | | | oupId\", | | | | | | | and | | | | | | | \"af | | | | | | | AppId\", | | | | | | | \" | | | | | | | trafficF | | | | | | | ilters\" | | | | | | | or | | | | | | | \"eth | | | | | | | TrafficF | | | | | | | ilters\" | | | | | | | that | | | | | | | identify | | | | | | | the | | | | | | | resource | | | | | | | shall be | | | | | | | i | | | | | | | ncluded. | | | | | | | The rest | | | | | | | of | | | | | | | at | | | | | | | tributes | | | | | | | shall be | | | | | | | omitted. | | | | | | | | | | | | | | NOTE 4: | | | | | | | If the | | | | | | | Traffic | | | | | | | I | | | | | | | nfluence | | | | | | | Data | | | | | | | applies | | | | | | | to any | | | | | | | UE, then | | | | | | | the | | | | | | | \"interG | | | | | | | roupId\" | | | | | | | sets to | | | | | | | \" | | | | | | | AnyUE\". | | | | | | +----------+----------+-------+----------+----------+----------+
6.4.2.3 Type TrafficInfluDataPatch
Table 6.4.2.3-1: Definition of type TrafficInfluDataPatch
* * *
**Attribute name** **Data type** **P** **Cardinality** **Description**
**Applicability** upPathChgNotifCorreId string O 0..1 Contains the
Notification Correlation Id allocated by the NEF for the UP path change
notification.  
appReloInd boolean O 0..1 Identifies whether an application can be relocated
once a location of the application has been selected.  
dnn Dnn O 0..1 Identifies a DNN.  
snssai Snssai O 0..1 The identification of slice  
internalGroupId GroupId O 0..1 Identifies a group of users.  
ethTrafficFilters array(EthFlowDescription) O 1..N Identifies Ethernet packet
filters.  
supi Supi O 0..1 Identifies a user.  
trafficFilters array(FlowInfo) O 1..N Identifies IP packet filters  
trafficRoutes array(RouteToLocation) O 1..N Identifies the N6 traffic routing
requirement.  
validStartTime DateTime O 0..1 Identifies when the traffic routings start to
be applicable.  
validEndTime DateTime O 0..1 Identifies when the traffic routings are not
applicable.  
nwAreaInfo NetworkAreaInfo O 0..1 Identifies a network area information that
the request applies only to the traffic of UE(s) located in this specific
zone.  
upPathChgNotifUri Uri O 0..1 Contains the URI where the NEF receives the UP
path change notification.
* * *
6.4.2.4 Type TrafficInfluSub
Table 6.4.2.4-1: Definition of type TrafficInfluSub
+----------+----------+-------+----------+----------+----------+ | **A |** Data | **P** | **Cardi |** Descr | * | | ttribute | type**| | nality** | iption**| *Applica | | name** | | | | | bility** | +----------+----------+-------+----------+----------+----------+ | dnns | ar | O | 1..N | Each | | | | ray(Dnn) | | | element | | | | | | | id | | | | | | | entifies | | | | | | | a DNN. | | +----------+----------+-------+----------+----------+----------+ | snssais | array | O | 1..N | Each | | | | (Snssai) | | | element | | | | | | | id | | | | | | | entifies | | | | | | | a slice. | | +----------+----------+-------+----------+----------+----------+ | internal | array( | O | 1..N | Each | | | GroupIds | GroupId) | | | element | | | | | | | id | | | | | | | entifies | | | | | | | a group | | | | | | | of | | | | | | | users. | | | | | | | (NOTE 2) | | +----------+----------+-------+----------+----------+----------+ | supis | arr | O | 1..N | Each | | | | ay(Supi) | | | element | | | | | | | id | | | | | | | entifies | | | | | | | the | | | | | | | user. | | +----------+----------+-------+----------+----------+----------+ | notific | Uri | M | 1 | URI | | | ationUri | | | | provided | | | | | | | by the | | | | | | | NF | | | | | | | service | | | | | | | consumer | | | | | | | in | | | | | | | dicating | | | | | | | where to | | | | | | | receive | | | | | | | the | | | | | | | su | | | | | | | bscribed | | | | | | | notif | | | | | | | ications | | | | | | | from the | | | | | | | UDR. | | +----------+----------+-------+----------+----------+----------+ | expiry | DateTime | C | 0..1 | This IE | | | | | | | shall be | | | | | | | included | | | | | | | in a | | | | | | | subs | | | | | | | cription | | | | | | | response | | | | | | | if, | | | | | | | based on | | | | | | | operator | | | | | | | policy | | | | | | | and | | | | | | | taking | | | | | | | into | | | | | | | account | | | | | | | the | | | | | | | expiry | | | | | | | time | | | | | | | included | | | | | | | in the | | | | | | | request, | | | | | | | the UDR | | | | | | | needs to | | | | | | | include | | | | | | | an | | | | | | | expiry | | | | | | | time. | | | | | | | | | | | | | | This IE | | | | | | | may be | | | | | | | included | | | | | | | in a | | | | | | | subs | | | | | | | cription | | | | | | | request. | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | r | | | | | | | epresent | | | | | | | the time | | | | | | | after | | | | | | | which | | | | | | | the | | | | | | | subs | | | | | | | cription | | | | | | | becomes | | | | | | | invalid. | | | | | | | | | | | | | | The | | | | | | | absence | | | | | | | of this | | | | | | | a | | | | | | | ttribute | | | | | | | in the | | | | | | | subs | | | | | | | cription | | | | | | | response | | | | | | | means | | | | | | | the | | | | | | | subs | | | | | | | cription | | | | | | | to be | | | | | | | valid | | | | | | | without | | | | | | | an | | | | | | | expiry | | | | | | | time. | | +----------+----------+-------+----------+----------+----------+ | s | S | O | 0..1 | Used to | | | upported | upported | | | n | | | Features | Features | | | egotiate | | | | | | | the | | | | | | | appli | | | | | | | cability | | | | | | | of the | | | | | | | optional | | | | | | | f | | | | | | | eatures. | | | | | | | This | | | | | | | a | | | | | | | ttribute | | | | | | | shall be | | | | | | | provided | | | | | | | in the | | | | | | | POST | | | | | | | request | | | | | | | and in | | | | | | | the | | | | | | | response | | | | | | | of | | | | | | | su | | | | | | | ccessful | | | | | | | resource | | | | | | | c | | | | | | | reation. | | +----------+----------+-------+----------+----------+----------+ | NOTE 1: | | | | | | | At least | | | | | | | one of | | | | | | | \ | | | | | | | "dnns\", | | | | | | | \"sn | | | | | | | ssais\", | | | | | | | \"in | | | | | | | ternalGr | | | | | | | oupIds\" | | | | | | | or | | | | | | | \ | | | | | | | "supis\" | | | | | | | shall be | | | | | | | p | | | | | | | rovided. | | | | | | | | | | | | | | NOTE 2: | | | | | | | For the | | | | | | | Traffic | | | | | | | I | | | | | | | nfluence | | | | | | | Data | | | | | | | applies | | | | | | | to any | | | | | | | UE, the | | | | | | | \"in | | | | | | | ternalGr | | | | | | | oupIds\" | | | | | | | needs to | | | | | | | have an | | | | | | | entry | | | | | | | set to | | | | | | | \" | | | | | | | AnyUE\". | | | | | | +----------+----------+-------+----------+----------+----------+
#### 6.4.2.5 Void
## 6.5 Error handling
### 6.5.1 General
HTTP error handling shall be supported as specified in subclause 5.2.4 of 3GPP
TS 29.500 [4].
For the Nudr_DataRepository Service API for Application Data, HTTP error
responses shall be supported as specified in subclause 4.8 of 3GPP TS 29.501
[5]. Protocol errors and application errors specified in table 5.2.7.2-1 of
3GPP TS 29.500 [4] shall be supported for an HTTP method if the corresponding
HTTP status codes are specified as mandatory for that HTTP method in table
5.2.7.1-1 of 3GPP TS 29.500 [4]. In addition, the requirements in the
following subclauses shall apply.
### 6.5.2 Protocol Errors
In this Release of the specification, there are no additional protocol errors
applicable for the Nudr_DataRepository Service API for Application Data.
### 6.5.3 Application Errors
The application errors defined for the Nudr_DataRepository Service API for
Application Data are listed in table 6.5.3-1. The PCF shall include in the
HTTP status code a \"ProblemDetails\" data structure with the \"cause\"
attribute indicating the application error as listed in table 6.5.3-1.
Table 6.5.3-1: Application errors
* * *
Application Error HTTP status code Description
* * *
## 6.6 Feature negotiation
The optional features in table 6.1.8-1 of 3GPP TS 29.504 [6] are defined for
the Nudr_DataRepository API. They shall be negotiated using the extensibility
mechanism defined in subclause 6.6 of 3GPP TS 29.500 [4].
# 7 Usage of Nudr_DataRepository Service API for Structured Data for Exposure
## 7.1 Introduction
The following subclauses specify the usage of Nudr_DataRepository service for
exposure data. The principles specified in 3GPP TS 29.504 [6] are followed
unless explicitly specified otherwise in the following subclauses.
## 7.2 Resources
### 7.2.1 Overview
This clause specifies the resources for the usage of the Unified Data
Repository service for Structured Data for Exposure.
### 7.2.2 Resource Structure
Figure 7.2.2-1: Resource URI structure of the Nudr_DataRepository API for
exposure data
Table 7.2.2-1 provides an overview of the resources and applicable HTTP
methods.
Table 7.2.2-1: Resources and methods overview
* * *
Resource name Resource URI HTTP method Description
AccessAndMobilityData {apiRoot}/nudr-dr/{apiVersion}/\ PUT Creates and updates
the access and mobility exposure data for a UE exposure-data/{ueId}/\  
access-and-mobility-data
                                                                         GET           Retrieves the access and mobility exposure data for a UE
                                                                         DELETE        Deletes the access and mobility exposure data for a UE
PduSessionManagementData {apiRoot}/nudr-dr/{apiVersion}/\ PUT Creates and
updates the session management data for a UE and for an individual PDU session
exposure-data/{ueId}/\  
session-management-data/\  
{pduSessionId}
                                                                         GET           Retrieves the session management data for a UE and for an individual PDU session
                                                                         DELETE        Deletes the session management data for a UE and for an individual PDU session
ExposureDataSubscriptions {apiRoot}/nudr-dr/{apiVersion}/\ POST Create a
subscription to receive notification of exposure data changes. exposure-
data/subs-to-notify
IndividuaExposureDataSubscription {apiRoot}/nudr-dr/{apiVersion}/\ PUT Modify
a subscription to receive notification of exposure data changes. exposure-
data/subs-to-notify/\  
{subId}
                                                                         DELETE        Delete the subscription identified by {subId}.
* * *
### 7.2.3 Resource: AccessAndMobilityData
#### 7.2.3.1 Description
This resource represents the exposure data related to access and mobility.
#### 7.2.3.2 Resource definition
Resource URI: **{apiRoot}/nudr-dr/{apiVersion}/exposure-data/{ueId}/access-
and-mobility-data**
This resource shall support the resource URI variables defined in table
7.2.3.2-1.
Table 7.2.3.2-1: Resource URI variables for this resource
* * *
Name Definition apiRoot See 3GPP TS 29.504 [6] subclause 6.1.1. apiVersion See
3GPP TS 29.504 [6] subclause 6.1.1. ueId Represents the SUPI or GPSI, see the
data type VarUeId as defined in 3GPP TS 29.571 [7].
* * *
#### 7.2.3.3 Resource Standard Methods
##### 7.2.3.3.1 PUT
This method shall support the URI query parameters specified in table
7.2.3.3.1-1.
Table 7.2.3.3.1-1: URI query parameters supported by the PUT method on this
resource
* * *
Name Data type P Cardinality Description n/a
* * *
This method shall support the request data structures specified in table
7.2.3.3.1-2 and the response data structures and response codes specified in
table 7.2.3.3.1-3.
Table 7.2.3.3.1-2: Data structures supported by the PUT Request Body on this
resource
* * *
Data type P Cardinality Description AccessAndMobilityData M 1 Access and
mobility data for the UE is created or updated.
* * *
Table 7.2.3.3.1-3: Data structures supported by the PUT Response Body on this
resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | AccessAn | M | 1 | 201 Created | Successful | | dMobilityData | | | | case. | | | | | | | | | | | | The resource | | | | | | has been | | | | | | successfully | | | | | | created and a | | | | | | response body | | | | | | containing a | | | | | | r | | | | | | epresentation | | | | | | of the access | | | | | | and mobility | | | | | | data shall be | | | | | | returned. | +---------------+---+-------------+---------------+---------------+ | AccessAn | M | 1 | 200 OK | Successful | | dMobilityData | | | | case. | | | | | | | | | | | | The resource | | | | | | has been | | | | | | successfully | | | | | | updated and a | | | | | | response body | | | | | | containing a | | | | | | r | | | | | | epresentation | | | | | | of the access | | | | | | and mobility | | | | | | data shall be | | | | | | returned. | +---------------+---+-------------+---------------+---------------+ | n/a | | | 204 No | Successful | | | | | Content | case. | | | | | | | | | | | | The resource | | | | | | has been | | | | | | successfully | | | | | | updated and | | | | | | no additional | | | | | | content is to | | | | | | be sent in | | | | | | the response | | | | | | message. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | HTTP status | | | | | | code for the | | | | | | PUT method | | | | | | listed in | | | | | | ta | | | | | | ble 5.2.7.1-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.500 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
##### 7.2.3.3.2 GET
This method shall support the URI query parameters specified in table
7.2.3.3.2-1.
Table 7.2.3.3.2-1: URI query parameters supported by the GET method on this
resource
* * *
Name Data type P Cardinality Description supp-feat SupportedFeatures O 0..1
see 3GPP TS 29.500 [4] subclause 6.6.2 and 3GPP TS 29.571 [7].
* * *
This method shall support the request data structures specified in table
7.2.3.3.2-2 and the response data structures and response codes specified in
table 7.2.3.3.2-3.
Table 7.2.3.3.2-2: Data structures supported by the GET Request Body on this
resource
* * *
Data type P Cardinality Description n/a
* * *
Table 7.2.3.3.2-3: Data structures supported by the GET Response Body on this
resource
+-----------------+---+-------------+----------+-----------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +-----------------+---+-------------+----------+-----------------+ | Access | M | 1 | 200 OK | The response | | AndMobilityData | | | | body contains | | | | | | the access and | | | | | | mobility data. | +-----------------+---+-------------+----------+-----------------+ | NOTE: The HTTP | | | | | | status code for | | | | | | the GET method | | | | | | listed in | | | | | | table 5.2.7.1-1 | | | | | | of | | | | | | 3GPP | | | | | | TS 29.500 [4] | | | | | | also apply. | | | | | +-----------------+---+-------------+----------+-----------------+
##### 7.2.3.3.3 DELETE
This method shall support the URI query parameters specified in table
7.2.3.3.3-1.
Table 7.2.3.3.3-1: URI query parameters supported by the DELETE method on this
resource
* * *
Name Data type P Cardinality Description n/a
* * *
This method shall support the request data structures specified in table
7.2.3.3.3-2 and the response data structures and response codes specified in
table 7.2.3.3.3-3.
Table 7.2.3.3.3-2: Data structures supported by the DELETE Request Body on
this resource
* * *
Data type P Cardinality Description n/a
* * *
Table 7.2.3.3.3-3: Data structures supported by the DELETE Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | n/a | | | 204 No | Upon success, | | | | | Content | an empty | | | | | | response body | | | | | | shall be | | | | | | returned. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | HTTP status | | | | | | code for the | | | | | | DELETE method | | | | | | listed in | | | | | | ta | | | | | | ble 5.2.7.1-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.500 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
### 7.2.4 Resource: PduSessionManagementData
#### 7.2.4.1 Description
This resource represents the exposure data related to session and management
data for a given subscriber and a given PDU session.
#### 7.2.4.2 Resource definition
Resource URI: **{apiRoot}/nudr-dr/{apiVersion}/exposure-data/{ueId}/session-
management-data/{pduSessionId}**
This resource shall support the resource URI variables defined in table
7.2.4.2-1.
Table 7.2.4.2-1: Resource URI variables for this resource
* * *
Name Definition apiRoot See 3GPP TS 29.504 [6] subclause 6.1.1. apiVersion See
3GPP TS 29.504 [6] subclause 6.1.1. ueId Represents the SUPI or GPSI, see the
data type VarUeId as defined in 3GPP TS 29.571 [7]. pduSessionId Identifies an
individual PDU session, see the data type PduSessionId as defined in 3GPP TS
29.571 [7].
* * *
#### 7.2.4.3 Resource Standard Methods
##### 7.2.4.3.1 PUT
This method shall support the URI query parameters specified in table
7.2.4.3.1-1.
Table 7.2.4.3.1-1: URI query parameters supported by the PUT method on this
resource
* * *
Name Data type P Cardinality Description n/a
* * *
This method shall support the request data structures specified in table
7.2.4.3.1-2 and the response data structures and response codes specified in
table 7.2.4.3.1-3.
Table 7.2.4.3.1-2: Data structures supported by the PUT Request Body on this
resource
* * *
Data type P Cardinality Description PduSessionManagementData M 1 Session
management data for a UE and a PDU session is created or updated.
* * *
Table 7.2.4.3.1-3: Data structures supported by the PUT Response Body on this
resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | Codes | | +---------------+---+-------------+---------------+---------------+ | PduSessionM | M | 1 | 201 Created | Successful | | anagementData | | | | case. | | | | | | | | | | | | The resource | | | | | | has been | | | | | | successfully | | | | | | created and a | | | | | | response body | | | | | | containing a | | | | | | r | | | | | | epresentation | | | | | | of the | | | | | | session | | | | | | management | | | | | | data shall be | | | | | | returned. | +---------------+---+-------------+---------------+---------------+ | PduSessionM | M | 1 | 200 OK | Successful | | anagementData | | | | case. | | | | | | | | | | | | The resource | | | | | | has been | | | | | | successfully | | | | | | updated and a | | | | | | response body | | | | | | containing a | | | | | | r | | | | | | epresentation | | | | | | of the | | | | | | session | | | | | | management | | | | | | data shall be | | | | | | returned. | +---------------+---+-------------+---------------+---------------+ | n/a | | | 204 No | Successful | | | | | Content | case. | | | | | | | | | | | | The resource | | | | | | has been | | | | | | successfully | | | | | | updated and | | | | | | no additional | | | | | | content is to | | | | | | be sent in | | | | | | the response | | | | | | message. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | HTTP status | | | | | | code for the | | | | | | PUT method | | | | | | listed in | | | | | | Table | | | | | | 5.2.7.1-1 of | | | | | | 3GPP TS | | | | | | 29.500 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
##### 7.2.4.3.2 GET
This method shall support the URI query parameters specified in table
7.2.4.3.2-1.
Table 7.2.4.3.2-1: URI query parameters supported by the GET method on this
resource
* * *
Name Data type P Cardinality Description ipv4-addr Ipv4Addr O 0..1 UE IPv4
address. ipv6-prefix Ipv6Prefix O 0..1 UE IPv6 prefix. dnn Dnn O 0..1
Identifies a DNN. fields array(string) C 1..N When the NF consumer only
retrieves a subset of the resource, the \"fields\" query parameter shall be
included. The \"fields\" query parameter contains the pointers of the
attribute(s) to be retrieved. supp-feat SupportedFeatures O 0..1 see 3GPP TS
29.500 [4] subclause 6.6.2 and 3GPP TS 29.571 [7].
* * *
This method shall support the request data structures specified in table
7.2.4.3.2-2 and the response data structures and response codes specified in
table 7.2.4.3.2-3.
Table 7.2.4.3.2-2: Data structures supported by the GET Request Body on this
resource
* * *
Data type P Cardinality Description n/a
* * *
Table 7.2.4.3.2-3: Data structures supported by the GET Response Body on this
resource
+-----------------+---+-------------+----------+-----------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | Codes | | +-----------------+---+-------------+----------+-----------------+ | PduSessio | M | 1 | 200 OK | The response | | nManagementData | | | | body contains | | | | | | the session | | | | | | management | | | | | | data. | +-----------------+---+-------------+----------+-----------------+ | NOTE: The HTTP | | | | | | status code for | | | | | | the GET method | | | | | | listed in Table | | | | | | 5.2.7.1-1 of | | | | | | 3GPP | | | | | | TS 29.500 [4] | | | | | | also apply. | | | | | +-----------------+---+-------------+----------+-----------------+
##### 7.2.4.3.3 DELETE
This method shall support the URI query parameters specified in table
7.2.4.3.3-1.
Table 7.2.4.3.3-1: URI query parameters supported by the DELETE method on this
resource
* * *
Name Data type P Cardinality Description n/a
* * *
This method shall support the request data structures specified in table
7.2.4.3.3-2 and the response data structures and response codes specified in
table 7.2.4.3.3-3.
Table 7.2.4.3.3-2: Data structures supported by the DELETE Request Body on
this resource
* * *
Data type P Cardinality Description n/a
* * *
Table 7.2.4.3.3-3: Data structures supported by the DELETE Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | n/a | | | 204 No | Upon success, | | | | | Content | an empty | | | | | | response body | | | | | | shall be | | | | | | returned. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | HTTP status | | | | | | code for the | | | | | | DELETE method | | | | | | listed in | | | | | | ta | | | | | | ble 5.2.7.1-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.500 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
### 7.2.5 Resource: ExposureDataSubscriptions
#### 7.2.5.1 Description
This resource is used to represent subscriptions to notifications of exposure
data modifications.
#### 7.2.5.2 Resource Definition
Resource URI: **{apiRoot}/nudr-dr/{apiVersion}/exposure-data/subs-to-notify**
This resource shall support the resource URI variables defined in table
7.2.5.2-1.
Table 7.2.5.2-1: Resource URI variables for this resource
* * *
Name Definition apiRoot See 3GPP TS 29.504 [6] subclause 6.1.1. apiVersion See
3GPP TS 29.504 [6] subclause 6.1.1.
* * *
#### 7.2.5.3 Resource Standard Methods
##### 7.2.5.3.1 POST
This method shall support the URI query parameters specified in table
7.2.5.3.1-1.
Table 7.2.5.3.1-1: URI query parameters supported by the POST method on this
resource
* * *
Name Data type P Cardinality Description n/a
* * *
This method shall support the request data structures specified in table
7.2.5.3.1-2 and the response data structures and response codes specified in
table 7.2.5.3.1-3.
Table 7.2.5.3.1-2: Data structures supported by the POST Request Body on this
resource
* * *
Data type P Cardinality Description ExposureDataSubscription M 1 Identifies an
individual subscription to notifications of exposure data modifications.
* * *
Table 7.2.5.3.1-3: Data structures supported by the POST Response Body on this
resource
+---------------+---+-------------+-------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+-------------+---------------+ | ExposureDat | M | 1 | 201 Created | Upon success, | | aSubscription | | | | a response | | | | | | body | | | | | | containing a | | | | | | r | | | | | | epresentation | | | | | | of the | | | | | | Individual | | | | | | subscription | | | | | | resource | | | | | | shall be | | | | | | returned. | | | | | | | | | | | | The HTTP | | | | | | response | | | | | | shall include | | | | | | a | | | | | | \"Location\" | | | | | | HTTP header | | | | | | that contains | | | | | | the resource | | | | | | URI of the | | | | | | created | | | | | | resource. | +---------------+---+-------------+-------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the POST | | | | | | method listed | | | | | | in | | | | | | ta | | | | | | ble 5.2.7.1-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.500 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+-------------+---------------+
### 7.2.6 Resource: IndividualExposureDataSubscription
#### 7.2.6.1 Description
This resource represents an individual subscription to notifications of
exposure data modifications.
#### 7.2.6.2 Resource Definition
Resource URI: **{apiRoot}/nudr-dr/{apiVersion}/exposure-data/subs-to-
notify/{subId}**
This resource shall support the resource URI variables defined in table
7.2.6.2-1.
Table 7.2.6.2-1: Resource URI variables for this resource
* * *
Name Definition apiRoot See 3GPP TS 29.504 [6] subclause 6.1.1. apiVersion See
3GPP TS 29.504 [6] subclause 6.1.1. subId The subId is a string that
identifies an individual subscription to notifications. The value is allocated
by the UDR during creation of the IndividualExposureDataSubscription resource.
* * *
#### 7.2.6.3 Resource Standard Methods
##### 7.2.6.3.1 PUT
This method shall support the URI query parameters specified in table
7.2.6.3.1-1.
Table 7.2.6.3.1-1: URI query parameters supported by the PUT method on this
resource
* * *
Name Data type P Cardinality Description n/a
* * *
This method shall support the request data structures specified in table
7.2.6.3.1-2 and the response data structures and response codes specified in
table 7.2.6.3.1-3.
Table 7.2.6.3.1-2: Data structures supported by the PUT Request Body on this
resource
* * *
Data type P Cardinality Description ExposureDataSubscription M 1 Identifies an
individual subscription to notifications of exposure data modifications.
* * *
Table 7.2.6.3.1-3: Data structures supported by the PUT Response Body on this
resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | ExposureDat | M | 1 | 200 OK | The | | aSubscription | | | | individual | | | | | | subscription | | | | | | resource was | | | | | | updated | | | | | | successfully | | | | | | and a body | | | | | | with the | | | | | | modified | | | | | | subscription | | | | | | to | | | | | | notifications | | | | | | about | | | | | | exposure data | | | | | | is returned. | +---------------+---+-------------+---------------+---------------+ | n/a | | | 204 No | The | | | | | Content | individual | | | | | | subscription | | | | | | resource was | | | | | | successfully | | | | | | modified. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the PUT | | | | | | method listed | | | | | | in Table | | | | | | 5.2.7.1-1 of | | | | | | 3GPP TS | | | | | | 29.500 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
##### 7.2.6.3.2 DELETE
This method shall support the URI query parameters specified in table
7.2.6.3.2-1.
Table 7.2.6.3.1-1: URI query parameters supported by the DELETE method on this
resource
* * *
Name Data type P Cardinality Description n/a
* * *
This method shall support the request data structures specified in table
7.2.6.3.2-2 and the response data structures and response codes specified in
table 7.2.6.3.2-3.
Table 7.2.6.3.2-2: Data structures supported by the DELETE Request Body on
this resource
* * *
Data type P Cardinality Description n/a The request body shall be empty.
* * *
Table 7.2.6.3.2-3: Data structures supported by the DELETE Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | n/a | | | 204 No | Upon success, | | | | | Content | an empty | | | | | | response body | | | | | | shall be | | | | | | returned. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the | | | | | | DELETE method | | | | | | listed in | | | | | | Table | | | | | | 5.2.7.1-1 of | | | | | | 3GPP TS | | | | | | 29.500 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
## 7.3 Data Model
### 7.3.1 General
This subclause specifies the application data model supported by the API.
Table 7.3.1-1 specifies the data types defined for the Nudr_DataRepository for
Exposure Data service based interface protocol.
Table 7.3.1-1: Nudr_DataRepository specific Data Types for Exposure Data
* * *
Data type Section defined Description Applicability AccessAndMobilityData
7.3.2.2  
ExposureDataChangeNotification 7.3.2.5 Contains changed exposure data for one
UE for which Notification was requested.  
ExposureDataSubscription 7.3.2.4 Subscription to Notifications about Exposure
Data.  
PduSessionManagementData 7.3.2.3  
PduSessionStatus 7.3.3.3 Represents the state of the PDU session, i.e. active
or released.
* * *
Table 7.3.1-2 specifies data types re-used by the Nudr_DataRepository for
Exposure Data service based interface protocol from other specifications,
including a reference to their respective specifications and when needed, a
short description of their use within the Nudr_DataRepository for Exposure
Data service based interface.
Table 7.3.1-2: Nudr_DataRepository re-used Data Types for Exposure Data
* * *
Data type Reference Comments Applicability AccessType 3GPP TS 29.571 [7]
Identifies the access type, i.e. 3GPP access or Non-3GPP access.  
CmInfo 3GPP TS 29.518 [10] Describes the connectivity management state of a
UE.  
DateTime 3GPP TS 29.571 [7]  
Dnai 3GPP TS 29.571 [7] Identifies a Data network access identifier.  
Dnn 3GPP TS 29.571 [7] Identifies a Data Network Name.  
Ipv4Addr 3GPP TS 29.571 [7] The IPv4 Address.  
Ipv6Prefix 3GPP TS 29.571 [7] The Ipv6 Address Prefix.  
PlmnId 3GPP TS 29.571 [7] Identifies a PLMN.  
PduSessionId 3GPP TS 29.571 [7] PDU Session Identifier  
RatType 3GPP TS 29.571 [7] Identifies a RAT type.  
RmInfo 3GPP TS 29.518 [10] Describes the registration management state of a
UE.  
RouteToLocation 3GPP TS 29.571 [7] A traffic route to/from an DNAI.  
TimeZone 3GPP TS 29.571 [7] Identifies a time zone.  
SmsSupport 3GPP TS 29.518 [10] Indicates the supported SMS delivery of a UE.  
SupportedFeatures 3GPP TS 29.571 [7] Used to negotiate the applicability of
the optional features.  
UeReachability 3GPP TS 29.518 [10] Describes the reachability of the UE.  
Uri 3GPP TS 29.571 [7]  
UserLocation 3GPP TS 29.571 [7] Identifies the user location.  
VarUeId 3GPP TS 29.571 [7] String represents the SUPI or GPSI.
* * *
### 7.3.2 Structured data types
#### 7.3.2.1 Introduction
This subclause defines the structures to be used in resource representations.
#### 7.3.2.2 Type AccessAndMobilityData
Table 7.3.2.2-1: Definition of type AccessAndMobilityData
* * *
Attribute name Data type P Cardinality Description Applicability
location UserLocation O 0..1 Current location for the UE, which can be a
combination of E-UTRA, NR and non-3GPP access location.
locationTs DateTime O 0..1 Indicates when the location was last updated.
timeZone TimeZone O 0..1 Current time zone for the UE.
timeZoneTs DateTime O 0..1 Indicates when the timeZone was last updated.
accessType AccessType O 0..1 Current access type for the UE (3GPP access or
non-3GPP access).
accessTypeTs DateTime O 0..1 Indicates when the accessType was last updated.
regStates array(RmInfo) O 1..N Describes the registration management state of
the UE.
regStatesTs DateTime O 0..1 Indicates when the regStates were last updated.
connStates array(CmInfo) O 1..N Describes the connectivity management state of
the UE.
connStatesTs DateTime O 0..1 Indicates when the connStates were last updated.
reachabilityStatus UeReachability O 0..1 Describes the reachability of the UE.
reachabilityStatusTs DateTime O 0..1 Indicates when the reachabilityStatus was
last updated.
smsOverNasStatus SmsSupport O 0..1 Indicates the supported SMS delivery of the
UE.
smsOverNasStatusTs DateTime O 0..1 Indicates when thesmsOverNasStatus was last
updated.
roamingStatus boolean O 0..1 True: The serving PLMN of the UE is different
from the HPLMN of the UE;\  
False: The serving PLMN of the UE is the HPLMN of the UE.
roamingStatusTs DateTime O 0..1 Indicates when the roamingStatus was last
updated.
currentPlmn PlmnId O 0..1 The identity of the PLMN serving the UE.
currentPlmnTs DateTime O 0..1 Indicates when the currentPlmn was last updated.
ratTypes array(RatType) O 1..N RAT type(s)
ratTypesTs DateTime O 0..1 Indicates when the ratTypes was last updated.
* * *
#### 7.3.2.3 Type PduSessionManagementData
Table 7.3.2.3-1: Definition of type PduSessionManagementData
+-----------+-----------+---+-----------+-----------+-----------+ | Attribute | Data type | P | Ca | De | Appl | | name | | | rdinality | scription | icability | +-----------+-----------+---+-----------+-----------+-----------+ | pduSess | PduSess | O | 0..1 | Status of | | | ionStatus | ionStatus | | | the PDU | | | | | | | session. | | +-----------+-----------+---+-----------+-----------+-----------+ | pduSessio | DateTime | O | 0..1 | Indicates | | | nStatusTs | | | | when the | | | | | | | pduSess | | | | | | | ionStatus | | | | | | | was last | | | | | | | updated. | | +-----------+-----------+---+-----------+-----------+-----------+ | dnai | Dnai | O | 0..1 | DNAI | | +-----------+-----------+---+-----------+-----------+-----------+ | dnaiTs | DateTime | O | 0..1 | Indicates | | | | | | | when the | | | | | | | dnai was | | | | | | | last | | | | | | | updated. | | +-----------+-----------+---+-----------+-----------+-----------+ | n6 | arra | O | 1..N | N6 | | | TrafficRo | y(RouteTo | | | traffic | | | utingInfo | Location) | | | routing | | | | | | | inf | | | | | | | ormation. | | +-----------+-----------+---+-----------+-----------+-----------+ | n6Tr | DateTime | O | 0..1 | Indicates | | | afficRout | | | | when the | | | ingInfoTs | | | | n6 | | | | | | | TrafficRo | | | | | | | utingInfo | | | | | | | was last | | | | | | | updated. | | +-----------+-----------+---+-----------+-----------+-----------+ | ipv4Addr | Ipv4Addr | O | 0..1 | UE IPv4 | | | | | | | address. | | +-----------+-----------+---+-----------+-----------+-----------+ | i | array(Ip | O | 1..N | UE IPv6 | | | pv6Prefix | v6Prefix) | | | prefix. | | +-----------+-----------+---+-----------+-----------+-----------+ | ipAddrTs | DateTime | O | 0..1 | Indicates | | | | | | | when the | | | | | | | ipv4Addr | | | | | | | and | | | | | | | I | | | | | | | pv6Prefix | | | | | | | were last | | | | | | | updated. | | +-----------+-----------+---+-----------+-----------+-----------+ | dnn | Dnn | O | 0..1 | DNN | | +-----------+-----------+---+-----------+-----------+-----------+ | pdu | Pdu | O | 0..1 | The | Resource | | SessionId | SessionId | | | i | Notificat | | | | | | dentifier | ionExposu | | | | | | of a | reDataFix | | | | | | Pd | | | | | | | uSessionM | | | | | | | anagement | | | | | | | resource. | | | | | | | | | | | | | | (NOTE). | | +-----------+-----------+---+-----------+-----------+-----------+ | NOTE: The | | | | | | | \"pduSe | | | | | | | ssionId\" | | | | | | | attribute | | | | | | | shall be | | | | | | | present | | | | | | | when the | | | | | | | Resource | | | | | | | Notificat | | | | | | | ionExposu | | | | | | | reDataFix | | | | | | | is | | | | | | | s | | | | | | | upported. | | | | | | +-----------+-----------+---+-----------+-----------+-----------+
#### 7.3.2.4 Type ExposureDataSubscription
Table 7.3.2.4-1: Definition of type ExposureDataSubscription
+---------------+---------------+---+-------------+---------------+ | Attribute | Data type | P | Cardinality | Description | | name | | | | | +---------------+---------------+---+-------------+---------------+ | no | Uri | M | 1 | URI provided | | tificationUri | | | | by the NF | | | | | | service | | | | | | consumer | | | | | | indicating | | | | | | where to | | | | | | receive to | | | | | | subscribed | | | | | | notifications | | | | | | from the UDR. | +---------------+---------------+---+-------------+---------------+ | monitore | array(Uri) | M | 1..N | A set of URIs | | dResourceUris | | | | that identify | | | | | | the resources | | | | | | for which a | | | | | | modification | | | | | | triggers a | | | | | | notification. | +---------------+---------------+---+-------------+---------------+ | expiry | DateTime | C | 0..1 | This IE shall | | | | | | be included | | | | | | in a | | | | | | subscription | | | | | | response if, | | | | | | based on | | | | | | operator | | | | | | policy and | | | | | | taking into | | | | | | account the | | | | | | expiry time | | | | | | included in | | | | | | the request, | | | | | | the UDR needs | | | | | | to include an | | | | | | expiry time. | | | | | | | | | | | | This IE may | | | | | | be included | | | | | | in a | | | | | | subscription | | | | | | request. When | | | | | | present, this | | | | | | IE shall | | | | | | represent the | | | | | | time after | | | | | | which the | | | | | | subscription | | | | | | becomes | | | | | | invalid. | | | | | | | | | | | | The absence | | | | | | of this | | | | | | attribute in | | | | | | the | | | | | | subscription | | | | | | response | | | | | | means the | | | | | | subscription | | | | | | to be valid | | | | | | without an | | | | | | expiry time. | +---------------+---------------+---+-------------+---------------+ | supp | Supp | C | 0..1 | Used to | | ortedFeatures | ortedFeatures | | | negotiate the | | | | | | applicability | | | | | | of the | | | | | | optional | | | | | | features. | | | | | | | | | | | | This | | | | | | attribute | | | | | | shall be | | | | | | provided in | | | | | | the POST | | | | | | request and | | | | | | in the | | | | | | response of | | | | | | successful | | | | | | resource | | | | | | creation. | +---------------+---------------+---+-------------+---------------+
#### 7.3.2.5 Type ExposureDataChangeNotification
Table 7.3.2.5-1: Definition of type ExposureDataChangeNotification
* * *
Attribute name Data type P Cardinality Description Applicability ueId VarUeId
O 0..1 User identity of modified data.  
accessAndMobilityData AccessAndMobilityData O 0..1 Access and Mobility Data
for the UE.  
pduSessionManagementData array(PduSessionManagementData) O 1..N PDU Session
Management Data for one or several PDU sessions of the UE.  
delResources array(Uri) O 1..N The resources, as defined in table 7.2.2-1, if
removed from UDR and notification on resource data change was requested. It
may be present when the ResourceNotificationExposureDataFix is supported
(NOTE).  
NOTE: When the \"delResources\" attribute is present, the attributes that
correspond with the values included in the \"delResources\" attribute shall be
omitted. I.e., when the \"delResources\" attribute includes the value
\"../{ueId}/access-and-mobility-data\" the attribute \"accessAndMobilityData\"
shall be omitted, and when the \"delResources\" attribute includes all the
existing \"../{ueId}/session-management-data/{pduSessionId}\" resource URIs,
the attribute \"pduSessionManagementData\" shall be omitted.
* * *
### 7.3.3 Simple data types and enumerations
#### 7.3.3.1 Introduction
This subclause defines simple data types and enumerations that can be
referenced from data structures defined in the previous subclauses.
#### 7.3.3.2 Simple data types
The simple data types defined in table 7.3.3.2-1 shall be supported.
Table 7.3.3.2-1: Simple data types
* * *
Type Name Type Definition Description Applicability
* * *
#### 7.3.3.3 Enumeration: PduSessionStatus
Table 7.3.3.3-1: Enumeration PduSessionStatus
* * *
Enumeration value Description Applicability \"ACTIVE\" The PDU session is
active.  
\"RELEASED\" The PDU session is released.
* * *
## 7.4 Error handling
### 7.4.1 General
For the Nudr_DataRepository service API for Exposure Data, HTTP error
responses shall be supported as specified in subclause 4.8 of 3GPP TS 29.501
[5]. Protocol errors and application errors specified in table 5.2.7.2-1 of
3GPP TS 29.500 [4] shall be supported for an HTTP method if the corresponding
HTTP status codes are specified as mandatory for that HTTP method in table
5.2.7.1-1 of 3GPP TS 29.500 [4].
In addition, the requirements in the following subclauses are applicable for
the Nudr_DataRepository service API for Exposure Data.
### 7.4.2 Protocol Errors
No specific procedures for the Nudr_DataRepository service API for Exposure
Data are specified.
### 7.4.3 Application Errors
The application errors defined for the Nudr_DataRepository service API for
Exposure Data are listed in table 7.4.3-1.
Table 7.4.3-1: Application errors
* * *
Application Error HTTP status code Description
* * *
## 7.5 Feature negotiation
The optional features in table 6.1.8-1 of 3GPP TS 29.504 [6] are defined for
the Nudr_DataRepository API. They shall be negotiated using the extensibility
mechanism defined in subclause 6.6 of 3GPP TS 29.500 [4].
## 7.6 Notifications
### 7.6.1 General
Notifications shall comply with subclause 6.2 of 3GPP TS 29.500 [4] and
subclause 4.6.2.3 of 3GPP TS 29.501 [5].
This subclause describes the resources to provide Notification to NF service
consumers which have subscribed to be notified when exposure data is changed.
### 7.6.2 Exposure Data Change Notification
The POST method shall be used for Data Change Notifications and the URI shall
be as provided during the subscription procedure.
Resource URI: {**notificationUri**}
Support of URI query parameters is specified in table 7.6.2-1.
Table 7.6.2-1: URI query parameters supported by the POST method
* * *
Name Data type P Cardinality Description n/a
* * *
Support of request data structures is specified in table 7.6.2-2 and of
response data structures and response codes is specified in table 7.6.2-3.
Table 7.6.2-2: Data structures supported by the POST Request Body
* * *
Data type P Cardinality Description array(ExposureDataChangeNotification) M
1..N Each element in the array provides the changed exposure data for one
user.
* * *
Table7.6.2-3: Data structures supported by the POST Response Body
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | n/a | | | 204 No | Upon success, | | | | | Content | an empty | | | | | | response body | | | | | | shall be | | | | | | returned. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the POST | | | | | | method listed | | | | | | in Table | | | | | | 5.2.7.1-1 of | | | | | | 3GPP TS | | | | | | 29.500 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
###### ## Annex A (normative): OpenAPI specification
# A.1 General
The present Annex contains an OpenAPI [3] specification of HTTP messages and
content bodies used by the Nudr_DataRepository service for Policy Data,
Application Data and Exposure Data.
This Annex shall take precedence when being discrepant to other parts of the
specification with respect to the encoding of information elements and
methods.
NOTE 1: The semantics and procedures, as well as conditions, e.g. for the
applicability and allowed combinations of attributes or values, not expressed
in the OpenAPI definitions but defined in other parts of the specification
also apply.
Informative copies of the OpenAPI specification files contained in this 3GPP
Technical Specification are available on the public 3GPP file server in the
following locations (see clause 5B of the 3GPP TR 21.900 [18] for further
information):
\- https://www.3gpp.org/ftp/Specs/archive/OpenAPI/\/, and
\- https://www.3gpp.org/ftp/Specs/\/\/OpenAPI/.
NOTE 2: To fetch the OpenAPI specification file after CT#83 plenary meeting
for Release 15 in the above links \ must be replaced with the date
the CT Plenary occurs, in the form of year-month (yyyy-mm), e.g. for CT#83
meeting \ must be replaced with value \"2019-03\" and \ must
be replaced with value \"Rel-15\".
# A.2 Nudr_DataRepository API for Policy Data
For the purpose of referencing entities in the Open API file defined in this
Annex, it shall be assumed that this Open API file is contained in a physical
file named \"TS29519_Policy_Data.yaml\".
openapi: 3.0.0
info:
version: \'-\'
title: Unified Data Repository Service API file for policy data
description: \|
The API version is defined in 3GPP TS 29.504
Â© 2021, 3GPP Organizational Partners (ARIB, ATIS, CCSA, ETSI, TSDSI, TTA,
TTC).
All rights reserved.
externalDocs:
description: 3GPP TS 29.519 V15.9.0; 5G System; Usage of the Unified Data
Repository Service for Policy Data, Application Data and Structured Data for
Exposure.
url: \'http://www.3gpp.org/ftp/Specs/archive/29_series/29.519/\'
paths:
/policy-data/ues/{ueId}/am-data:
parameters:
\- name: ueId
in: path
required: true
schema:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/VarUeId\'
get:
summary: Retrieves the access and mobility policy data for a subscriber
operationId: ReadAccessAndMobilityPolicyData
tags:
\- AccessAndMobilityPolicyData (Document)
responses:
\'200\':
description: Upon success, a response body containing access and mobility
policies shall be returned.
content:
application/json:
schema:
\$ref: \'#/components/schemas/AmPolicyData\'
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'406\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/406\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29571_CommonData.yaml#/components/responses/default\'
/policy-data/ues/{ueId}/ue-policy-set:
parameters:
\- name: ueId
in: path
required: true
schema:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/VarUeId\'
get:
summary: Retrieves the UE policy set data for a subscriber
operationId: ReadUEPolicySet
tags:
\- UEPolicySet (Document)
responses:
\'200\':
description: Upon success, a response body containing UE policies shall be
returned.
content:
application/json:
schema:
\$ref: \'#/components/schemas/UePolicySet\'
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'406\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/406\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29571_CommonData.yaml#/components/responses/default\'
put:
summary: Create or modify the UE policy set data for a subscriber
operationId: CreateOrReplaceUEPolicySet
tags:
\- UEPolicySet (Document)
requestBody:
content:
application/json:
schema:
\$ref: \'#/components/schemas/UePolicySet\'
responses:
\'201\':
description: Successful case. The resource has been successfully created and a
response body containing a representation of the created UEPolicySet resource
shall be returned.
content:
application/json:
schema:
\$ref: \'#/components/schemas/UePolicySet\'
headers:
Location:
description: \'Contains the URI of the newly created resource\'
required: true
schema:
type: string
\'200\':
description: Successful case. The resource has been successfully created and a
response body containing UE policies shall be returned.
content:
application/json:
schema:
\$ref: \'#/components/schemas/UePolicySet\'
\'204\':
description: Successful case. The resource has been successfully updated and
no additional content is to be sent in the response message.
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'411\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29571_CommonData.yaml#/components/responses/default\'
patch:
summary: Modify the UE policy set data for a subscriber
operationId: UpdateUEPolicySet
tags:
\- UEPolicySet (Document)
requestBody:
content:
application/merge-patch+json:
schema:
\$ref: \'#/components/schemas/UePolicySetPatch\'
responses:
\'204\':
description: Successful case. The resource has been successfully updated and
no additional content is to be sent in the response message.
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'411\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29571_CommonData.yaml#/components/responses/default\'
/policy-data/ues/{ueId}/sm-data:
get:
summary: Retrieves the session management policy data for a subscriber
operationId: ReadSessionManagementPolicyData
tags:
\- SessionManagementPolicyData (Document)
parameters:
\- name: ueId
in: path
required: true
schema:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/VarUeId\'
\- name: snssai
in: query
required: false
content:
application/json:
schema:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Snssai\'
\- name: dnn
in: query
required: false
schema:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Dnn\'
\- name: fields
in: query
description: attributes to be retrieved
required: false
schema:
type: array
items:
type: string
minItems: 1
responses:
\'200\':
description: Upon success, a response body containing SmPolicyData shall be
returned.
content:
application/json:
schema:
\$ref: \'#/components/schemas/SmPolicyData\'
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'406\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/406\'
\'414\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/414\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29571_CommonData.yaml#/components/responses/default\'
/policy-data/ues/{ueId}/sm-data/{usageMonId}:
get:
summary: Retrieve a usage monitoring resource
operationId: ReadUsageMonitoringInformation
tags:
\- UsageMonitoringInformation (Document)
parameters:
\- name: ueId
in: path
required: true
schema:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/VarUeId\'
\- name: usageMonId
in: path
required: true
schema:
type: string
responses:
\'200\':
description: Successful case. The usage monitoring data is returned.
content:
application/json:
schema:
\$ref: \'#/components/schemas/UsageMonData\'
\'204\':
description: The resource was found but no usage monitoring data is available.
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'406\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/406\'
\'414\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/414\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29571_CommonData.yaml#/components/responses/default\'
put:
summary: Create a usage monitoring resource
operationId: CreateUsageMonitoringResource
tags:
\- UsageMonitoringInformation (Document)
parameters:
\- name: ueId
in: path
required: true
schema:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/VarUeId\'
\- name: usageMonId
in: path
required: true
schema:
type: string
requestBody:
content:
application/json:
schema:
\$ref: \'#/components/schemas/UsageMonData\'
responses:
\'201\':
description: Successful case. The resource has been successfully created and a
response body is returned containing a representation of the resource.
content:
application/json:
schema:
\$ref: \'#/components/schemas/UsageMonData\'
headers:
Location:
description: \'Contains the URI of the newly created resource\'
required: true
schema:
type: string
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'411\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/413\'
\'414\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/414\'
\'415\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29571_CommonData.yaml#/components/responses/default\'
delete:
summary: Delete a usage monitoring resource
operationId: DeleteUsageMonitoringInformation
tags:
\- UsageMonitoringInformation (Document)
parameters:
\- name: ueId
in: path
required: true
schema:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/VarUeId\'
\- name: usageMonId
in: path
required: true
schema:
type: string
responses:
\'204\':
description: Successful case. The resource has been successfully deleted.
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29571_CommonData.yaml#/components/responses/default\'
/policy-data/sponsor-connectivity-data/{sponsorId}:
parameters:
\- name: sponsorId
in: path
required: true
schema:
type: string
get:
summary: Retrieves the sponsored connectivity information for a given
sponsorId
operationId: ReadSponsorConnectivityData
tags:
\- SponsorConnectivityData (Document)
responses:
\'200\':
description: Upon success, a response body containing Sponsor Connectivity
Data shall be returned.
content:
application/json:
schema:
\$ref: \'#/components/schemas/SponsorConnectivityData\'
\'204\':
description: The resource was found but no Sponsor Connectivity Data is
available.
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'406\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/406\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29571_CommonData.yaml#/components/responses/default\'
/policy-data/bdt-data:
get:
summary: Retrieves the BDT data collection
operationId: ReadBdtData
tags:
\- BdtData (Store)
responses:
\'200\':
description: Upon success, a response body containing the BDT data shall be
returned.
content:
application/json:
schema:
type: array
items:
\$ref: \'#/components/schemas/BdtData\'
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'406\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/406\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29571_CommonData.yaml#/components/responses/default\'
/policy-data/bdt-data/{bdtReferenceId}:
parameters:
\- name: bdtReferenceId
in: path
required: true
schema:
type: string
get:
summary: Retrieves the BDT data information associated with a BDT reference Id
operationId: ReadIndividualBdtData
tags:
\- IndividualBdtData (Document)
responses:
\'200\':
description: Upon success, a response body containing the BDT data shall be
returned.
content:
application/json:
schema:
\$ref: \'#/components/schemas/BdtData\'
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'406\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/406\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29571_CommonData.yaml#/components/responses/default\'
put:
summary: Creates an BDT data resource associated with an BDT reference Id
operationId: CreateIndividualBdtData
tags:
\- IndividualBdtData (Document)
requestBody:
content:
application/json:
schema:
\$ref: \'#/components/schemas/BdtData\'
responses:
\'201\':
description: Successful case. The resource has been successfully created.
content:
application/json:
schema:
\$ref: \'#/components/schemas/BdtData\'
headers:
Location:
description: \'Contains the URI of the newly created resource\'
required: true
schema:
type: string
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'411\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/413\'
\'414\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/414\'
\'415\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29571_CommonData.yaml#/components/responses/default\'
delete:
summary: Deletes an BDT data resource associated with an BDT reference Id
operationId: DeleteIndividualBdtData
tags:
\- IndividualBdtData (Document)
responses:
\'204\':
description: Successful case. The resource has been successfully deleted.
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29571_CommonData.yaml#/components/responses/default\'
/policy-data/subs-to-notify:
post:
summary: Create a subscription to receive notification of policy data changes
operationId: CreateIndividualPolicyDataSubscription
tags:
\- PolicyDataSubscriptions (Collection)
requestBody:
content:
application/json:
schema:
\$ref: \'#/components/schemas/PolicyDataSubscription\'
responses:
\'201\':
description: Upon success, a response body containing a representation of each
Individual subscription resource shall be returned.
content:
application/json:
schema:
\$ref: \'#/components/schemas/PolicyDataSubscription\'
headers:
Location:
description: \'Contains the URI of the newly created resource\'
required: true
schema:
type: string
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'411\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29571_CommonData.yaml#/components/responses/default\'
callbacks:
policyDataChangeNotification:
\'{\$request.body#/notificationUri}\':
post:
requestBody:
required: true
content:
application/json:
schema:
type: array
items:
\$ref: \'#/components/schemas/PolicyDataChangeNotification\'
minItems: 1
responses:
\'204\':
description: No Content, Notification was successful
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'411\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29571_CommonData.yaml#/components/responses/default\'
/policy-data/subs-to-notify/{subsId}:
parameters:
\- name: subsId
in: path
required: true
schema:
type: string
put:
summary: Modify a subscription to receive notification of policy data changes
operationId: ReplaceIndividualPolicyDataSubscription
tags:
\- IndividualPolicyDataSubscription (Document)
requestBody:
content:
application/json:
schema:
\$ref: \'#/components/schemas/PolicyDataSubscription\'
responses:
\'200\':
description: The individual subscription resource was updated successfully.
content:
application/json:
schema:
\$ref: \'#/components/schemas/PolicyDataSubscription\'
\'204\':
description: The individual subscription resource was updated successfully and
no additional content is to be sent in the response message.
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'411\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29571_CommonData.yaml#/components/responses/default\'
delete:
summary: Delete the individual Policy Data subscription
operationId: DeleteIndividualPolicyDataSubscription
tags:
\- IndividualPolicyDataSubscription (Document)
responses:
\'204\':
description: Upon success, an empty response body shall be returned.
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29571_CommonData.yaml#/components/responses/default\'
/policy-data/ues/{ueId}/operator-specific-data:
get:
summary: Retrieve the operator specific policy data of an UE
operationId: ReadOperatorSpecificData
tags:
\- OperatorSpecificData (Document)
parameters:
\- name: ueId
in: path
description: UE Id
required: true
schema:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/VarUeId\'
\- name: fields
in: query
description: attributes to be retrieved
required: false
schema:
type: array
items:
type: string
minItems: 1
responses:
\'200\':
description: Expected response to a valid request
content:
application/json:
schema:
type: object
additionalProperties:
\$ref:
\'TS29505_Subscription_Data.yaml#/components/schemas/OperatorSpecificDataContainer\'
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'406\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/406\'
\'414\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/414\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29571_CommonData.yaml#/components/responses/default\'
patch:
summary: Modify the operator specific policy data of an UE
operationId: UpdateOperatorSpecificData
tags:
\- OperatorSpecificData (Document)
parameters:
\- name: ueId
in: path
description: UE Id
required: true
schema:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/VarUeId\'
requestBody:
content:
application/json-patch+json:
schema:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/PatchItem\'
required: true
responses:
\'204\':
description: No content. Response to successful modification.
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'411\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29571_CommonData.yaml#/components/responses/default\'
put:
summary: Modify the operator specific policy data of an UE
operationId: ReplaceOperatorSpecificData
tags:
\- OperatorSpecificData (Document)
parameters:
\- name: ueId
in: path
description: UE Id
required: true
schema:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/VarUeId\'
requestBody:
required: true
content:
application/json:
schema:
type: object
additionalProperties:
\$ref:
\'TS29505_Subscription_Data.yaml#/components/schemas/OperatorSpecificDataContainer\'
responses:
\'200\':
description: OK
content:
application/json:
schema:
type: object
additionalProperties:
\$ref:
\'TS29505_Subscription_Data.yaml#/components/schemas/OperatorSpecificDataContainer\'
\'204\':
description: The resource has been successfully updated.
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'411\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29571_CommonData.yaml#/components/responses/default\'
/policy-data/plmns/{plmnId}/ue-policy-set:
parameters:
\- name: plmnId
in: path
required: true
schema:
\$ref: \'TS29505_Subscription_Data.yaml#/components/schemas/VarPlmnId\'
get:
summary: Retrieve the UE policy set data for an H-PLMN
operationId: ReadPlmnUePolicySet
tags:
\- PlmnUePolicySet (Document)
responses:
\'200\':
description: Upon success, a response body containing UE policies shall be
returned.
content:
application/json:
schema:
\$ref: \'#/components/schemas/UePolicySet\'
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'406\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/406\'
\'412\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/412\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29571_CommonData.yaml#/components/responses/default\'
components:
schemas:
AmPolicyData:
description: Contains the AM policy data for a given subscriber.
type: object
properties:
praInfos:
type: object
additionalProperties:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/PresenceInfo\'
minProperties: 1
subscCats:
type: array
items:
type: string
minItems: 1
UePolicySet:
description: Contains the UE policy data for a given subscriber.
type: object
properties:
praInfos:
type: object
additionalProperties:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/PresenceInfo\'
minProperties: 1
subscCats:
type: array
items:
type: string
minItems: 1
uePolicySections:
type: object
additionalProperties:
\$ref: \'#/components/schemas/UePolicySection\'
minProperties: 1
upsis:
type: array
items:
type: string
minItems: 1
allowedRouteSelDescs:
type: object
additionalProperties:
\$ref: \'#/components/schemas/PlmnRouteSelectionDescriptor\'
minProperties: 1
andspInd:
type: boolean
pei:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Pei\'
osIds:
type: array
items:
\$ref: \'#/components/schemas/OsId\'
minItems: 1
UePolicySetPatch:
description: Contains the UE policy set for a given subscriber.
type: object
properties:
uePolicySections:
type: object
additionalProperties:
\$ref: \'#/components/schemas/UePolicySection\'
minProperties: 1
upsis:
type: array
items:
type: string
minItems: 1
andspInd:
type: boolean
pei:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Pei\'
osIds:
type: array
items:
\$ref: \'#/components/schemas/OsId\'
minItems: 1
UePolicySection:
description: Contains the UE policy section.
type: object
properties:
uePolicySectionInfo:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Bytes\'
upsi:
type: string
required:
\- uePolicySectionInfo
\- upsi
SmPolicyData:
description: Contains the SM policy data for a given subscriber.
type: object
properties:
smPolicySnssaiData:
type: object
additionalProperties:
\$ref: \'#/components/schemas/SmPolicySnssaiData\'
minProperties: 1
umDataLimits:
type: object
additionalProperties:
\$ref: \'#/components/schemas/UsageMonDataLimit\'
minProperties: 1
umData:
type: object
additionalProperties:
\$ref: \'#/components/schemas/UsageMonData\'
minProperties: 1
required:
\- smPolicySnssaiData
SmPolicySnssaiData:
description: Contains the SM policy data for a given subscriber and S-NSSAI.
type: object
properties:
snssai:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Snssai\'
smPolicyDnnData:
type: object
additionalProperties:
\$ref: \'#/components/schemas/SmPolicyDnnData\'
minProperties: 1
required:
\- snssai
SmPolicyDnnData:
description: Contains the SM policy data for a given DNN (and S-NSSAI).
type: object
properties:
dnn:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Dnn\'
allowedServices:
type: array
items:
type: string
minItems: 1
subscCats:
type: array
items:
type: string
minItems: 1
gbrUl:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/BitRate\'
gbrDl:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/BitRate\'
adcSupport:
type: boolean
subscSpendingLimits:
type: boolean
ipv4Index:
\$ref: \'#/components/schemas/IpIndex\'
ipv6Index:
\$ref: \'#/components/schemas/IpIndex\'
offline:
type: boolean
online:
type: boolean
chfInfo:
\$ref:
\'TS29512_Npcf_SMPolicyControl.yaml#/components/schemas/ChargingInformation\'
refUmDataLimitIds:
type: object
additionalProperties:
\$ref: \'#/components/schemas/LimitIdToMonitoringKey\'
minProperties: 1
mpsPriority:
type: boolean
imsSignallingPrio:
type: boolean
mpsPriorityLevel:
type: integer
praInfos:
type: object
additionalProperties:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/PresenceInfo\'
minProperties: 1
required:
\- dnn
UsageMonDataLimit:
description: Contains usage monitoring control data for a subscriber.
type: object
properties:
limitId:
type: string
scopes:
type: object
additionalProperties:
\$ref: \'#/components/schemas/UsageMonDataScope\'
minProperties: 1
umLevel:
\$ref: \'#/components/schemas/UsageMonLevel\'
startDate:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/DateTime\'
endDate:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/DateTime\'
usageLimit:
\$ref: \'TS29122_CommonData.yaml#/components/schemas/UsageThreshold\'
resetPeriod:
\$ref: \'#/components/schemas/TimePeriod\'
required:
\- limitId
UsageMonData:
description: Contains remain allowed usage data for a subscriber.
type: object
properties:
limitId:
type: string
scopes:
type: object
additionalProperties:
\$ref: \'#/components/schemas/UsageMonDataScope\'
minProperties: 1
umLevel:
\$ref: \'#/components/schemas/UsageMonLevel\'
allowedUsage:
\$ref: \'TS29122_CommonData.yaml#/components/schemas/UsageThreshold\'
resetTime:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/DateTime\'
required:
\- limitId
LimitIdToMonitoringKey:
description: Contains the limit identifier and the corresponding monitoring
key for a given S-NSSAI and DNN.
type: object
properties:
limitId:
type: string
monkey:
type: array
items:
type: string
minItems: 1
required:
\- limitId
UsageMonDataScope:
description: Contains a SNSSAI and DNN combinations to which the UsageMonData
instance belongs to.
type: object
properties:
snssai:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Snssai\'
dnn:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Dnn\'
minItems: 1
required:
\- snssai
TimePeriod:
description: Contains the periodicity for the defined usage monitoring data
limits.
type: object
properties:
period:
\$ref: \'#/components/schemas/Periodicity\'
maxNumPeriod:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Uinteger\'
required:
\- period
SponsorConnectivityData:
description: Contains the sponsored data connectivity related information for
a sponsor identifier.
type: object
properties:
aspIds:
type: array
items:
type: string
required:
\- aspIds
BdtData:
description: Contains the background data transfer data.
type: object
properties:
aspId:
type: string
transPolicy:
\$ref:
\'TS29554_Npcf_BDTPolicyControl.yaml#/components/schemas/TransferPolicy\'
bdtRefId:
type: string
nwAreaInfo:
\$ref:
\'TS29554_Npcf_BDTPolicyControl.yaml#/components/schemas/NetworkAreaInfo\'
numOfUes:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Uinteger\'
volPerUe:
\$ref: \'TS29122_CommonData.yaml#/components/schemas/UsageThreshold\'
required:
\- aspId
\- transPolicy
PolicyDataSubscription:
description: Identifies a subscription to policy data change notification.
type: object
properties:
notificationUri:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Uri\'
monitoredResourceUris:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Uri\'
expiry:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/DateTime\'
supportedFeatures:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/SupportedFeatures\'
required:
\- notificationUri
\- monitoredResourceUris
PolicyDataChangeNotification:
description: Contains changed policy data for which notification was
requested.
type: object
properties:
amPolicyData:
\$ref: \'#/components/schemas/AmPolicyData\'
uePolicySet:
\$ref: \'#/components/schemas/UePolicySet\'
plmnUePolicySet:
\$ref: \'#/components/schemas/UePolicySet\'
smPolicyData:
\$ref: \'#/components/schemas/SmPolicyData\'
usageMonData:
\$ref: \'#/components/schemas/UsageMonData\'
SponsorConnectivityData:
\$ref: \'#/components/schemas/SponsorConnectivityData\'
bdtData:
\$ref: \'#/components/schemas/BdtData\'
opSpecData:
\$ref:
\'TS29505_Subscription_Data.yaml#/components/schemas/OperatorSpecificDataContainer\'
opSpecDataMap:
type: object
additionalProperties:
\$ref:
\'TS29505_Subscription_Data.yaml#/components/schemas/OperatorSpecificDataContainer\'
minProperties: 1
ueId:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/VarUeId\'
sponsorId:
type: string
bdtRefId:
type: string
usageMonId:
type: string
plmnId:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/PlmnId\'
delResources:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Uri\'
minItems: 1
PlmnRouteSelectionDescriptor:
description: Contains the route selection descriptors (combinations of SNSSAI,
DNNs, PDU session types, and SSC modes) allowed by subscription to the UE for
a serving PLMN
type: object
properties:
servingPlmn:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/PlmnId\'
snssaiRouteSelDescs:
type: array
items:
\$ref: \'#/components/schemas/SnssaiRouteSelectionDescriptor\'
minItems: 1
required:
\- servingPlmn
SnssaiRouteSelectionDescriptor:
description: Contains the route selector parameters (DNNs, PDU session types
and SSC modes) per SNSSAI
type: object
properties:
snssai:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Snssai\'
dnnRouteSelDescs:
type: array
items:
\$ref: \'#/components/schemas/DnnRouteSelectionDescriptor\'
minItems: 1
required:
\- snssai
DnnRouteSelectionDescriptor:
description: Contains the route selector parameters (PDU session types and SSC
modes) per DNN
type: object
properties:
dnn:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Dnn\'
sscModes:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/SscMode\'
minItems: 1
pduSessTypes:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/PduSessionType\'
minItems: 1
required:
\- dnn
IpIndex:
type: integer
OsId:
type: string
format: uuid
UsageMonLevel:
anyOf:
\- type: string
enum:
\- SESSION_LEVEL
\- SERVICE_LEVEL
\- type: string
Periodicity:
anyOf:
\- type: string
enum:
\- YEARLY
\- MONTHLY
\- WEEKLY
\- DAILY
\- HOURLY
\- type: string
# A.3 Nudr_DataRepository API for Application Data
For the purpose of referencing entities in the Open API file defined in this
Annex, it shall be assumed that this Open API file is contained in a physical
file named \"TS29519_Application_Data.yaml\".
openapi: 3.0.0
info:
version: \'-\'
title: Unified Data Repository Service API file for Application Data
description: \|
The API version is defined in 3GPP TS 29.504
Â© 2020, 3GPP Organizational Partners (ARIB, ATIS, CCSA, ETSI, TSDSI, TTA,
TTC).
All rights reserved.
externalDocs:
description: 3GPP TS 29.519 V15.7.0; 5G System; Usage of the Unified Data
Repository Service for Policy Data, Application Data and Structured Data for
Exposure.
url: \'http://www.3gpp.org/ftp/Specs/archive/29_series/29.519/\'
paths:
/application-data/pfds:
get:
summary: Retrieve PFDs for application identifier(s)
operationId: ReadPFDData
tags:
\- PFD Data (Store)
parameters:
\- name: appId
in: query
description: Contains the information of the application identifier(s) for the
querying PFD Data resource. If none appId is included in the URI, it applies
to all application identifier(s) for the querying PFD Data resource.
required: false
schema:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/ApplicationId\'
minItems: 1
responses:
\'200\':
description: A representation of PFDs for request applications is returned.
content:
application/json:
schema:
type: array
items:
\$ref: \'TS29551_Nnef_PFDmanagement.yaml#/components/schemas/PfdDataForApp\'
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'406\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/406\'
\'414\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/414\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29571_CommonData.yaml#/components/responses/default\'
/application-data/pfds/{appId}:
get:
summary: Retrieve the corresponding PFDs of the specified application
identifier
operationId: ReadIndividualPFDData
tags:
\- Individual PFD Data (Document)
parameters:
\- name: appId
in: path
description: Indicate the application identifier for the request pfd(s). It
shall apply the format of Data type ApplicationId.
required: true
schema:
type: string
responses:
\'200\':
description: A representation of PFDs for the request application identified
by the application identifier is returned.
content:
application/json:
schema:
\$ref: \'TS29551_Nnef_PFDmanagement.yaml#/components/schemas/PfdDataForApp\'
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'406\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/406\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29571_CommonData.yaml#/components/responses/default\'
delete:
summary: Delete the corresponding PFDs of the specified application identifier
operationId: DeleteIndividualPFDData
tags:
\- Individual PFD Data (Document)
parameters:
\- name: appId
in: path
description: Indicate the application identifier for the request pfd(s). It
shall apply the format of Data type ApplicationId.
required: true
schema:
type: string
responses:
\'204\':
description: Successful case. The Individual PFD Data resource related to the
application identifier was deleted.
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29571_CommonData.yaml#/components/responses/default\'
put:
summary: Create or update the corresponding PFDs for the specified application
identifier
operationId: CreateOrReplaceIndividualPFDData
tags:
\- Individual PFD Data (Document)
requestBody:
required: true
content:
application/json:
schema:
\$ref: \'TS29551_Nnef_PFDmanagement.yaml#/components/schemas/PfdDataForApp\'
parameters:
\- name: appId
in: path
description: Indicate the application identifier for the request pfd(s). It
shall apply the format of Data type ApplicationId.
required: true
schema:
type: string
responses:
\'201\':
description: The creation of an Individual PFD Data resource related to the
application-identifier is confirmed and a representation of that resource is
returned.
content:
application/json:
schema:
\$ref: \'TS29551_Nnef_PFDmanagement.yaml#/components/schemas/PfdDataForApp\'
headers:
Location:
description: \'Contains the URI of the newly created resource, according to
the structure: {apiRoot}/nudr-dr/{apiVersion}/application-data/pfds/{appId}\'
required: true
schema:
type: string
\'200\':
description: Successful case. The upgrade of an Individual PFD Data resource
related to the application identifier is confirmed and a representation of
that resource is returned.
content:
application/json:
schema:
\$ref: \'TS29551_Nnef_PFDmanagement.yaml#/components/schemas/PfdDataForApp\'
\'204\':
description: No content
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'411\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/413\'
\'414\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/414\'
\'415\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29571_CommonData.yaml#/components/responses/default\'
/application-data/influenceData:
get:
summary: Retrieve Traffic Influence Data
operationId: ReadInfluenceData
tags:
\- Influence Data (Store)
parameters:
\- name: influence-Ids
in: query
description: Each element identifies a service.
required: false
schema:
type: array
items:
type: string
minItems: 1
\- name: dnns
in: query
description: Each element identifies a DNN.
required: false
schema:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Dnn\'
minItems: 1
\- name: snssais
in: query
description: Each element identifies a slice.
required: false
content:
application/json:
schema:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Snssai\'
minItems: 1
\- name: internal-Group-Ids
in: query
description: Each element identifies a group of users.
required: false
schema:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/GroupId\'
minItems: 1
\- name: supis
in: query
description: Each element identifies the user.
required: false
schema:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Supi\'
minItems: 1
responses:
\'200\':
description: The Traffic Influence Data stored in the UDR are returned.
content:
application/json:
schema:
type: array
items:
\$ref: \'#/components/schemas/TrafficInfluData\'
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'406\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/406\'
\'414\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/414\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29571_CommonData.yaml#/components/responses/default\'
/application-data/influenceData/{influenceId}:
put:
summary: Create or update an individual Influence Data resource
operationId: CreateOrReplaceIndividualInfluenceData
tags:
\- Individual Influence Data (Document)
requestBody:
required: true
content:
application/json:
schema:
\$ref: \'#/components/schemas/TrafficInfluData\'
parameters:
\- name: influenceId
in: path
description: The Identifier of an Individual Influence Data to be created or
updated. It shall apply the format of Data type string.
required: true
schema:
type: string
responses:
\'201\':
description: The creation of an Individual Traffic Influence Data resource is
confirmed and a representation of that resource is returned.
content:
application/json:
schema:
\$ref: \'#/components/schemas/TrafficInfluData\'
headers:
Location:
description: \'Contains the URI of the newly created resource, according to
the structure: {apiRoot}/nudr-dr/{apiVersion}/application-
data/influenceData/{influenceId}\'
required: true
schema:
type: string
\'200\':
description: The update of an Individual Traffic Influence Data resource is
confirmed and a response body containing Traffic Influence Data shall be
returned.
content:
application/json:
schema:
\$ref: \'#/components/schemas/TrafficInfluData\'
\'204\':
description: No content
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'411\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/413\'
\'414\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/414\'
\'415\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29571_CommonData.yaml#/components/responses/default\'
patch:
summary: Modify part of the properties of an individual Influence Data
resource
operationId: UpdateIndividualInfluenceData
tags:
\- Individual Influence Data (Document)
requestBody:
required: true
content:
application/merge-patch+json:
schema:
\$ref: \'#/components/schemas/TrafficInfluDataPatch\'
parameters:
\- name: influenceId
in: path
description: The Identifier of an Individual Influence Data to be updated. It
shall apply the format of Data type string.
required: true
schema:
type: string
responses:
\'200\':
description: The update of an Individual Traffic Influence Data resource is
confirmed and a response body containing Traffic Influence Data shall be
returned.
content:
application/json:
schema:
\$ref: \'#/components/schemas/TrafficInfluData\'
\'204\':
description: No content
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'411\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29571_CommonData.yaml#/components/responses/default\'
delete:
summary: Delete an individual Influence Data resource
operationId: DeleteIndividualInfluenceData
tags:
\- Individual Influence Data (Document)
parameters:
\- name: influenceId
in: path
description: The Identifier of an Individual Influence Data to be updated. It
shall apply the format of Data type string.
required: true
schema:
type: string
responses:
\'204\':
description: The Individual Influence Data was deleted successfully.
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29571_CommonData.yaml#/components/responses/default\'
/application-data/influenceData/subs-to-notify:
post:
summary: Create a new Individual Influence Data Subscription resource
operationId: CreateIndividualInfluenceDataSubscription
tags:
\- Influence Data Subscriptions (Collection)
requestBody:
required: true
content:
application/json:
schema:
\$ref: \'#/components/schemas/TrafficInfluSub\'
responses:
\'201\':
description: The subscription was created successfully.
content:
application/json:
schema:
\$ref: \'#/components/schemas/TrafficInfluSub\'
headers:
Location:
description: \'Contains the URI of the newly created resource\'
required: true
schema:
type: string
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'411\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29571_CommonData.yaml#/components/responses/default\'
callbacks:
trafficInfluenceDataChangeNotification:
\'{\$request.body#/notificationUri}\':
post:
requestBody:
required: true
content:
application/json:
schema:
type: array
items:
\$ref: \'#/components/schemas/TrafficInfluData\'
minItems: 1
responses:
\'204\':
description: No Content, Notification was successful
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'403\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/404\'
\'411\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29571_CommonData.yaml#/components/responses/default\'
get:
summary: Read Influence Data Subscriptions
operationId: ReadInfluenceDataSubscriptions
tags:
\- Influence Data Subscriptions (Collection)
parameters:
\- name: dnn
in: query
description: Identifies a DNN.
required: false
schema:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Dnn\'
\- name: snssai
in: query
description: Identifies a slice.
required: false
content:
application/json:
schema:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Snssai\'
\- name: internal-Group-Id
in: query
description: Identifies a group of users.
required: false
schema:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/GroupId\'
\- name: supi
in: query
description: Identifies a user.
required: false
schema:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Supi\'
responses:
\'200\':
description: The subscription information as request in the request URI query
parameter(s) are returned.
content:
application/json:
schema:
type: array
items:
\$ref: \'#/components/schemas/TrafficInfluSub\'
minItems: 0
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'406\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/406\'
\'414\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/414\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29571_CommonData.yaml#/components/responses/default\'
/application-data/influenceData/subs-to-notify/{subscriptionId}:
get:
summary: Get an existing individual Influence Data Subscription resource
operationId: ReadIndividualInfluenceDataSubscription
tags:
\- Individual Influence Data Subscription (Document)
parameters:
\- name: subscriptionId
in: path
description: String identifying a subscription to the Individual Influence
Data Subscription
required: true
schema:
type: string
responses:
\'200\':
description: The subscription information is returned.
content:
application/json:
schema:
\$ref: \'#/components/schemas/TrafficInfluSub\'
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'406\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/406\'
\'414\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/414\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29571_CommonData.yaml#/components/responses/default\'
put:
summary: Modify an existing individual Influence Data Subscription resource
operationId: ReplaceIndividualInfluenceDataSubscription
tags:
\- Individual Influence Data Subscription (Document)
requestBody:
required: true
content:
application/json:
schema:
\$ref: \'#/components/schemas/TrafficInfluSub\'
parameters:
\- name: subscriptionId
in: path
description: String identifying a subscription to the Individual Influence
Data Subscription
required: true
schema:
type: string
responses:
\'200\':
description: The subscription was updated successfully.
content:
application/json:
schema:
\$ref: \'#/components/schemas/TrafficInfluSub\'
\'204\':
description: No content
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'411\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29571_CommonData.yaml#/components/responses/default\'
delete:
summary: Delete an individual Influence Data Subscription resource
operationId: DeleteIndividualInfluenceDataSubscription
tags:
\- Individual Influence Data Subscription (Document)
parameters:
\- name: subscriptionId
in: path
description: String identifying a subscription to the Individual Influence
Data Subscription
required: true
schema:
type: string
responses:
\'204\':
description: The subscription was terminated successfully.
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29571_CommonData.yaml#/components/responses/default\'
components:
schemas:
TrafficInfluData:
type: object
properties:
upPathChgNotifCorreId:
type: string
description: Contains the Notification Correlation Id allocated by the NEF for
the UP path change notification.
appReloInd:
type: boolean
description: Identifies whether an application can be relocated once a
location of the application has been selected.
afAppId:
type: string
description: Identifies an application.
dnn:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Dnn\'
ethTrafficFilters:
type: array
items:
\$ref:
\'TS29514_Npcf_PolicyAuthorization.yaml#/components/schemas/EthFlowDescription\'
minItems: 1
description: Identifies Ethernet packet filters. Either \"trafficFilters\" or
\"ethTrafficFilters\" shall be included if applicable.
snssai:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Snssai\'
interGroupId:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/GroupId\'
description: Identifies a group of users.
supi:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Supi\'
trafficFilters:
type: array
items:
\$ref: \'TS29122_CommonData.yaml#/components/schemas/FlowInfo\'
minItems: 1
description: Identifies IP packet filters. Either \"trafficFilters\" or
\"ethTrafficFilters\" shall be included if applicable.
trafficRoutes:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/RouteToLocation\'
minItems: 1
description: Identifies the N6 traffic routing requirement.
validStartTime:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/DateTime\'
validEndTime:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/DateTime\'
nwAreaInfo:
\$ref:
\'TS29554_Npcf_BDTPolicyControl.yaml#/components/schemas/NetworkAreaInfo\'
upPathChgNotifUri:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Uri\'
subscribedEvents:
type: array
items:
\$ref: \'TS29522_TrafficInfluence.yaml#/components/schemas/SubscribedEvent\'
minItems: 1
dnaiChgType:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/DnaiChangeType\'
allOf:
\- oneOf:
\- required: [afAppId]
\- required: [trafficFilters]
\- required: [ethTrafficFilters]
\- oneOf:
\- required: [supi]
\- required: [interGroupId]
TrafficInfluDataPatch:
type: object
properties:
upPathChgNotifCorreId:
type: string
description: Contains the Notification Correlation Id allocated by the NEF for
the UP path change notification.
appReloInd:
type: boolean
description: Identifies whether an application can be relocated once a
location of the application has been selected.
dnn:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Dnn\'
ethTrafficFilters:
type: array
items:
\$ref:
\'TS29514_Npcf_PolicyAuthorization.yaml#/components/schemas/EthFlowDescription\'
minItems: 1
description: Identifies Ethernet packet filters. Either \"trafficFilters\" or
\"ethTrafficFilters\" shall be included if applicable.
snssai:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Snssai\'
internalGroupId:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/GroupId\'
description: Identifies a group of users.
supi:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Supi\'
trafficFilters:
type: array
items:
\$ref: \'TS29122_CommonData.yaml#/components/schemas/FlowInfo\'
minItems: 1
description: Identifies IP packet filters. Either \"trafficFilters\" or
\"ethTrafficFilters\" shall be included if applicable.
trafficRoutes:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/RouteToLocation\'
minItems: 1
description: Identifies the N6 traffic routing requirement.
validStartTime:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/DateTime\'
validEndTime:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/DateTime\'
nwAreaInfo:
\$ref:
\'TS29554_Npcf_BDTPolicyControl.yaml#/components/schemas/NetworkAreaInfo\'
upPathChgNotifUri:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Uri\'
TrafficInfluSub:
type: object
properties:
dnns:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Dnn\'
minItems: 1
description: Each element identifies a DNN.
snssais:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Snssai\'
minItems: 1
description: Each element identifies a slice.
internalGroupIds:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/GroupId\'
minItems: 1
description: Each element identifies a group of users.
supis:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Supi\'
minItems: 1
description: Each element identifies the user.
notificationUri:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Uri\'
expiry:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/DateTime\'
supportedFeatures:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/SupportedFeatures\'
required:
\- notificationUri
oneOf:
\- required: [dnns]
\- required: [snssais]
\- required: [internalGroupIds]
\- required: [supis]
# A.4 Nudr_DataRepository API for Exposure Data
For the purpose of referencing entities defined in the Open API file defined
in this Annex, it shall be assumed that this Open API file is contained in a
physical file termed \"TS29519_Exposure_Data.yaml\".
openapi: 3.0.0
info:
version: \'-\'
title: Unified Data Repository Service API file for structured data for
exposure
description: \|
The API version is defined in 3GPP TS 29.504
Â© 2021, 3GPP Organizational Partners (ARIB, ATIS, CCSA, ETSI, TSDSI, TTA,
TTC).
All rights reserved.
externalDocs:
description: 3GPP TS 29.519 V15.8.0; 5G System; Usage of the Unified Data
Repository Service for Policy Data, Application Data and Structured Data for
Exposure.
url: \'http://www.3gpp.org/ftp/Specs/archive/29_series/29.519/\'
paths:
/exposure-data/{ueId}/access-and-mobility-data:
put:
summary: Creates and updates the access and mobility exposure data for a UE
operationId: CreateOrReplaceAccessAndMobilityData
tags:
\- AccessAndMobilityData
parameters:
\- name: ueId
in: path
description: UE id
required: true
schema:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/VarUeId\'
requestBody:
content:
application/json:
schema:
\$ref: \'#/components/schemas/AccessAndMobilityData\'
responses:
\'201\':
description: Successful case. The resource has been successfully created and a
response body containing a representation of the access and mobility data
shall be returned.
content:
application/json:
schema:
\$ref: \'#/components/schemas/AccessAndMobilityData\'
headers:
Location:
description: \'Contains the URI of the newly created resource\'
required: true
schema:
type: string
\'200\':
description: Successful case. The resource has been successfully updated and a
response body containing a representation of the access and mobility data
shall be returned.
content:
application/json:
schema:
\$ref: \'#/components/schemas/AccessAndMobilityData\'
\'204\':
description: Successful case. The resource has been successfully updated and
no additional content is to be sent in the response message.
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'411\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29571_CommonData.yaml#/components/responses/default\'
get:
summary: Retrieves the access and mobility exposure data for a UE
operationId: QueryAccessAndMobilityData
tags:
\- AccessAndMobilityData
parameters:
\- name: ueId
in: path
description: UE id
required: true
schema:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/VarUeId\'
\- name: supp-feat
in: query
description: Supported Features
schema:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/SupportedFeatures\'
responses:
\'200\':
description: The response body contains the access and mobility data
content:
application/json:
schema:
\$ref: \'#/components/schemas/AccessAndMobilityData\'
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'406\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/406\'
\'414\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/414\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29571_CommonData.yaml#/components/responses/default\'
delete:
summary: Deletes the access and mobility exposure data for a UE
operationId: DeleteAccessAndMobilityData
tags:
\- AccessAndMobilityData
parameters:
\- name: ueId
in: path
description: UE id
required: true
schema:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/VarUeId\'
responses:
\'204\':
description: Upon success, an empty response body shall be returned
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29571_CommonData.yaml#/components/responses/default\'
/exposure-data/{ueId}/session-management-data/{pduSessionId}:
put:
summary: Creates and updates the session management data for a UE and for an
individual PDU session
operationId: CreateOrReplaceSessionManagementData
tags:
\- PduSessionManagementData
parameters:
\- name: ueId
in: path
description: UE id
required: true
schema:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/VarUeId\'
\- name: pduSessionId
in: path
description: PDU session id
required: true
schema:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/PduSessionId\'
requestBody:
content:
application/json:
schema:
\$ref: \'#/components/schemas/PduSessionManagementData\'
responses:
\'201\':
description: Successful case. The resource has been successfully created and a
response body containing a representation of the session management data shall
be returned.
content:
application/json:
schema:
\$ref: \'#/components/schemas/PduSessionManagementData\'
headers:
Location:
description: \'Contains the URI of the newly created resource\'
required: true
schema:
type: string
\'200\':
description: Successful case. The resource has been successfully updated and a
response body containing a representation of the session management data shall
be returned.
content:
application/json:
schema:
\$ref: \'#/components/schemas/PduSessionManagementData\'
\'204\':
description: Successful case. The resource has been successfully updated and
no additional content is to be sent in the response message.
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'411\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29571_CommonData.yaml#/components/responses/default\'
get:
summary: Retrieves the session management data for a UE and for an individual
PDU session
operationId: QuerySessionManagementData
tags:
\- PduSessionManagementData
parameters:
\- name: ueId
in: path
description: UE id
required: true
schema:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/VarUeId\'
\- name: pduSessionId
in: path
description: PDU session id
required: true
schema:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/PduSessionId\'
\- name: ipv4-addr
in: query
description: IPv4 Address of the UE
schema:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Ipv4Addr\'
\- name: ipv6-prefix
in: query
description: IPv6 Address Prefix of the UE
schema:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Ipv6Prefix\'
\- name: dnn
in: query
description: DNN of the UE
schema:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Dnn\'
\- name: fields
in: query
description: attributes to be retrieved
required: false
schema:
type: array
items:
type: string
minItems: 1
\- name: supp-feat
in: query
description: Supported Features
schema:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/SupportedFeatures\'
responses:
\'200\':
description: The response body contains the session management data
content:
application/json:
schema:
\$ref: \'#/components/schemas/PduSessionManagementData\'
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'406\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/406\'
\'414\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/414\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29571_CommonData.yaml#/components/responses/default\'
delete:
summary: Deletes the session management data for a UE and for an individual
PDU session
operationId: DeleteSessionManagementData
tags:
\- PduSessionManagementData
parameters:
\- name: ueId
in: path
description: UE id
required: true
schema:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/VarUeId\'
\- name: pduSessionId
in: path
description: PDU session id
required: true
schema:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/PduSessionId\'
responses:
\'204\':
description: Upon success, an empty response body shall be returned
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29571_CommonData.yaml#/components/responses/default\'
/exposure-data/subs-to-notify:
post:
summary: Create a subscription to receive notification of exposure data
changes
operationId: CreateIndividualExposureDataSubscription
tags:
\- ExposureDataSubscriptions (Collection)
requestBody:
required: true
content:
application/json:
schema:
\$ref: \'#/components/schemas/ExposureDataSubscription\'
responses:
\'201\':
description: Created
content:
application/json:
schema:
\$ref: \'#/components/schemas/ExposureDataSubscription\'
headers:
Location:
description: \'Contains the URI of the newly created resource\'
required: true
schema:
type: string
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'411\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29571_CommonData.yaml#/components/responses/default\'
callbacks:
exposureDataChangeNotification:
\'{\$request.body#/notificationUri}\':
post:
requestBody:
required: true
content:
application/json:
schema:
type: array
items:
\$ref: \'#/components/schemas/ExposureDataChangeNotification\'
minItems: 1
responses:
\'204\':
description: No Content, Notification was successful
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'411\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29571_CommonData.yaml#/components/responses/default\'
/exposure-data/subs-to-notify/{subId}:
put:
summary: updates a subscription to receive notifications of exposure data
changes
operationId: ReplaceIndividualExposureDataSubscription
tags:
\- IndividualExposureDataSubscription (Document)
parameters:
\- name: subId
in: path
description: Subscription id
required: true
schema:
type: string
requestBody:
required: true
content:
application/json:
schema:
\$ref: \'#/components/schemas/ExposureDataSubscription\'
responses:
\'200\':
description: Resource was successfully modified and a body with the modified
subscription to notifications about exposure data is returned..
content:
application/json:
schema:
\$ref: \'#/components/schemas/ExposureDataSubscription\'
\'204\':
description: The individual subscription resource was successfully modified.
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'411\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29571_CommonData.yaml#/components/responses/default\'
delete:
summary: Deletes the individual Exposure Data subscription
operationId: DeleteIndividualExposureDataSubscription
tags:
\- IndividualExposureDataSubscription (Document)
parameters:
\- name: subId
in: path
description: Subscription id
required: true
schema:
type: string
responses:
\'204\':
description: Resource was successfully deleted.
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29571_CommonData.yaml#/components/responses/default\'
components:
schemas:
AccessAndMobilityData:
type: object
properties:
location:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/UserLocation\'
locationTs:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/DateTime\'
timeZone:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/TimeZone\'
timeZoneTs:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/DateTime\'
accessType:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/AccessType\'
regStates:
type: array
items:
\$ref: \'TS29518_Namf_EventExposure.yaml#/components/schemas/RmInfo\'
regStatesTs:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/DateTime\'
connStates:
type: array
items:
\$ref: \'TS29518_Namf_EventExposure.yaml#/components/schemas/CmInfo\'
connStatesTs:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/DateTime\'
reachabilityStatus:
\$ref: \'TS29518_Namf_EventExposure.yaml#/components/schemas/UeReachability\'
reachabilityStatusTs:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/DateTime\'
smsOverNasStatus:
\$ref: \'TS29518_Namf_Communication.yaml#/components/schemas/SmsSupport\'
smsOverNasStatusTs:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/DateTime\'
roamingStatus:
type: boolean
description: True The serving PLMN of the UE is different from the HPLMN of
the UE; False The serving PLMN of the UE is the HPLMN of the UE.
roamingStatusTs:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/DateTime\'
currentPlmn:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/PlmnId\'
currentPlmnTs:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/DateTime\'
ratType:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/RatType\'
ratTypesTs:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/DateTime\'
PduSessionManagementData:
type: object
properties:
pduSessionStatus:
\$ref: \'#/components/schemas/PduSessionStatus\'
pduSessionStatusTs:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/DateTime\'
dnai:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Dnai\'
dnaiTs:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/DateTime\'
n6TrafficRoutingInfo:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/RouteToLocation\'
n6TrafficRoutingInfoTs:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/DateTime\'
ipv4Addr:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Ipv4Addr\'
ipv6Prefix:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Ipv6Prefix\'
minItems: 1
description: UE IPv6 prefix.
ipAddrTs:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/DateTime\'
dnn:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Dnn\'
pduSessionId:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/PduSessionId\'
ExposureDataSubscription:
type: object
properties:
notificationUri:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Uri\'
monitoredResourceUris:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Uri\'
minItems: 1
expiry:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/DateTime\'
supportedFeatures:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/SupportedFeatures\'
required:
\- notificationUri
\- monitoredResourceUris
ExposureDataChangeNotification:
type: object
properties:
ueId:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/VarUeId\'
accessAndMobilityData:
\$ref: \'#/components/schemas/AccessAndMobilityData\'
pduSessionManagementData:
type: array
items:
\$ref: \'#/components/schemas/PduSessionManagementData\'
minItems: 1
delResources:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Uri\'
minItems: 1
PduSessionStatus:
anyOf:
\- type: string
enum:
\- \"ACTIVE\"
\- \"RELEASED\"
\- type: string
description: >
This string provides forward-compatibility with future
extensions to the enumeration but is not used to encode
content defined in the present version of this API.
description: >
Possible values are
\- \"ACTIVE\"
\- \"RELEASED\"
#