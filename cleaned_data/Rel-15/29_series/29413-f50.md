# Foreword
This Technical Specification has been produced by the 3rd Generation
Partnership Project (3GPP).
The contents of the present document are subject to continuing work within the
TSG and may change following formal TSG approval. Should the TSG modify the
contents of the present document, it will be re-released by the TSG with an
identifying change of release date and an increase in version number as
follows:
Version x.y.z
where:
x the first digit:
1 presented to TSG for information;
2 presented to TSG for approval;
3 or greater indicates TSG approved document under change control.
y the second digit is incremented for all changes of substance, i.e. technical
enhancements, corrections, updates, etc.
z the third digit is incremented when editorial only changes have been
incorporated in the document.
# 1 Scope
The present document describes the applicability of NG Application Protocol
(NGAP) messages and procedures, defined in 3GPP TS 38.413 [2], to non-3GPP
access. A general description for non-3GPP access can be found in 3GPP TS
23.501 [3] and 3GPP TS 23.502 [4].
# 2 References
The following documents contain provisions which, through reference in this
text, constitute provisions of the present document.
\- References are either specific (identified by date of publication, edition
number, version number, etc.) or nonâ€‘specific.
\- For a specific reference, subsequent revisions do not apply.
\- For a non-specific reference, the latest version applies. In the case of a
reference to a 3GPP document (including a GSM document), a non-specific
reference implicitly refers to the latest version of that document _in the
same Release as the present document_.
[1] 3GPP TR 21.905: \"Vocabulary for 3GPP Specifications\".
[2] 3GPP TS 38.413: \"NG-RAN; NG Application Protocol (NGAP)\".
[3] 3GPP TS 23.501: \"System Architecture for the 5G System\".
[4] 3GPP TS 23.502: \"Procedures for the 5G System\".
[5] 3GPP TS 33.501: \"Security architecture and procedures for 5G system\".
# 3 Abbreviations
For the purposes of the present document, the abbreviations given in 3GPP TR
21.905 [1] and the following apply. An abbreviation defined in the present
document takes precedence over the definition of the same abbreviation, if
any, in 3GPP TR 21.905 [1].
N3IWF Non-3GPP InterWorking Function
# 4 Principles for the use of NGAP for non-3GPP access
## 4.1 General
TS 23.501 [3] specifies the NGAP used between the Non-3GPP InterWorking
Function (N3IWF) and the AMF. NGAP is used as specified in TS 38.413 [2] with
clarifications or additions as specified in Clause 5.
# 5 Non-3GPP access
## 5.1 Use of the NGAP for non-3GPP access
The following NGAP procedures are used between the N3IWF and the AMF:
\- PDU Session Management Procedures
\- PDU Session Resource Setup
\- PDU Session Resource Release
\- PDU Session Resource Modify
\- PDU Session Resource Notify
\- UE Context Management Procedures
\- Initial Context Setup
\- UE Context Release Request
\- UE Context Release
\- UE Context Modification
\- Transport of NAS Messages Procedures
\- Initial UE Message
\- Downlink NAS Transport
\- Uplink NAS Transport
\- NAS Non Delivery Indication
\- Reroute NAS Request
\- Interface Management Procedures
\- NG Setup
\- RAN Configuration Update
\- AMF Configuration Update
\- NG Reset
\- Error Indication
\- AMF Status Indication
\- Overload Start
\- Overload Stop
\- UE TNLA Binding Procedures
\- UE TNLA Binding Release
For the NGAP procedures used between the N3IWF and the AMF, the N3IWF fulfils
the behaviour of the NG-RAN node as specified in clause 8 of TS 38.413 [2],
with clarifications as specified in Clause 5.3. The text in clause 8 of TS
38.413 [2] referring to Uu should be understood as referring to the Y2
reference point as specified in TS 23.501 [3].
## 5.2 NGAP messages used for non-3GPP access
The list given below shows the NGAP messages, as specified in TS 38.413 [2]
subclause 9.2 (tabular format) and 9.4
(ASN.1 notation) that are used between the N3IWF and the AMF.
\- PDU SESSION RESOURCE SETUP REQUEST
\- PDU SESSION RESOURCE SETUP RESPONSE
\- PDU SESSION RESOURCE RELEASE COMMAND
\- PDU SESSION RESOURCE RELEASE RESPONSE
\- PDU SESSION RESOURCE MODIFY REQUEST
\- PDU SESSION RESOURCE MODIFY RESPONSE
\- PDU SESSION RESOURCE NOTIFY
\- INITIAL CONTEXT SETUP REQUEST
\- INITIAL CONTEXT SETUP RESPONSE
\- INITIAL CONTEXT SETUP FAILURE
\- UE CONTEXT RELEASE REQUEST
\- UE CONTEXT RELEASE COMMAND
\- UE CONTEXT RELEASE COMPLETE
\- UE CONTEXT MODIFICATION REQUEST
\- UE CONTEXT MODIFICATION RESPONSE
\- UE CONTEXT MODIFICATION FAILURE
\- INITIAL UE MESSAGE
\- DOWNLINK NAS TRANSPORT
\- UPLINK NAS TRANSPORT
\- NAS NON DELIVERY INDICATION
\- REROUTE NAS REQUEST
\- NG SETUP REQUEST
\- NG SETUP RESPONSE
\- NG SETUP FAILURE
\- RAN CONFIGURATION UPDATE
\- RAN CONFIGURATION UPDATE ACKNOWLEDGE
\- RAN CONFIGURATION UPDATE FAILURE
\- AMF CONFIGURATION UPDATE
\- AMF CONFIGURATION UPDATE ACKNOWLEDGE
\- AMF CONFIGURATION UPDATE FAILURE
\- NG RESET
\- NG RESET ACKNOWLEDGE
\- ERROR INDICATION
\- AMF STATUS INDICATION
\- OVERLOAD START
\- OVERLOAD STOP
\- UE TNLA BINDING RELEASE REQUEST
## 5.3 Exceptions for NGAP message contents and information element coding
when used for non-3GPP access
For the NGAP messages transferred between the N3IWF and the AMF, the following
exceptions to the specification in TS 38.413 [2] shall be applied:
PDU SESSION RESOURCE SETUP REQUEST message:
\- the following IEs shall be ignored, when received:
\- _RAN Paging Priority_ IE
PDU SESSION RESOURCE RELEASE COMMAND message:
\- the following IEs shall be ignored, when received:
\- _RAN Paging Priority_ IE
PDU SESSION RESOURCE MODIFY REQUEST message:
\- the following IEs shall be ignored, when received:
\- _RAN Paging Priority_ IE
INITIAL CONTEXT SETUP REQUEST message:
\- the following IEs shall be ignored, when received:
\- _Core Network Assistance Information_ _for RRC INACTIVE_ IE
\- _Trace Activation_ IE
\- _MobilityRestriction List_ IE
\- _UE Radio Capability_ IE
\- _Index to RAT/Frequency Selection Priority_ IE
\- _Emergency Fallback Indicator_ IE
\- _RRC Inactive Transition Report Request_ IE
\- _UE Radio Capability for Paging_ IE
\- _Redirection for Voice EPS Fallback_ IE
\- _Location Reporting Request Type_ IE
\- _CN Assisted RAN Parameters Tuning_ IE
UE CONTEXT RELEASE COMPLETE message:
\- the following IEs shall be ignored, when received:
\- _Information on Recommended Cells and RAN Nodes for Paging_ IE
UE CONTEXT MODIFICATION REQUEST message:
\- the following IEs shall be ignored, when received:
\- _RAN Paging Priority_ IE
\- _Index to RAT/Frequency Selection Priority_ IE
\- _Core Network Assistance Information_ IE
\- _Emergency Fallback Indicator_ IE
\- _RRC Inactive Transition Report Request_ IE
\- _CN Assisted RAN Parameters Tuning_ IE
\- if this is the first message received from a new AMF, the N3IWF shall
identify the old AMF and the UE using the received _RAN UE NGAP ID,_ release
the UE-associated logical NG-connection to the old AMF and create a new UE-
associated logical NG-connection to the new AMF.
UE CONTEXT MODIFICATION RESPONSE message:
\- the following IEs shall be ignored, when received:
\- _RRC State_ IE
INITIAL UE MESSAGE message:
\- _RRC Establishment Cause_ IE: the information given within this IE is to
indicate the establishment cause as specified in TS 23.502 [4].
\- _Selected PLMN Identity_ IE: the information given within this IE provides
the selected PLMN ID for untrusted non-3GPP access as specified in TS 23.502
[4].
DOWNLINK NAS TRANSPORT message:
\- the following IEs shall be ignored, when received:
\- _RAN Paging Priority_ IE
\- _MobilityRestriction List_ IE
\- _Index to RAT/Frequency Selection Priority_ IE
NG SETUP REQUEST message:
\- the following IEs shall be ignored, when received:
\- _Default Paging DRX_ IE
RAN CONFIGURATION UPDATE message:
\- the following IEs shall be ignored, when received:
\- _Default Paging DRX_ IE
The _Global RAN Node ID_ IE in the applicable NGAP messages includes the
Global N3IWF ID as specified in TS 38.413 [2].
The _User Location Information_ IE in the applicable NGAP messages includes
the IP address and port number as specified in TS 38.413 [2].
The _Security Key_ IE in the applicable NGAP messages includes the N3IWF key
as specified in TS 33.501 [5].
The _RAN UE NGAP ID_ IE in the applicable NGAP messages identifies the UE
association over the NG interface within the N3IWF node as specified in TS
38.413 [2].
## 5.4 Handling of NGAP messages not specified to be applicable between the
N3IWF and AMF
If the N3IWF or the AMF receive an NGAP message not listed in section 5.2 as
being applicable between the N3IWF and AMF, the receiving node shall act
according to the criticality defined for the elementary procedure and ignore
the message or discard the message and send an ERROR INDICATION message
indicating that the procedure is not supported, as specified in in TS 38.413
[2].
#