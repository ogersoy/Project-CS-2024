# Foreword
This Technical Specification has been produced by the 3rd Generation
Partnership Project (3GPP).
The contents of the present document are subject to continuing work within the
TSG and may change following formal TSG approval. Should the TSG modify the
contents of the present document, it will be re-released by the TSG with an
identifying change of release date and an increase in version number as
follows:
Version x.y.z
where:
x the first digit:
1 presented to TSG for information;
2 presented to TSG for approval;
3 or greater indicates TSG approved document under change control.
y the second digit is incremented for all changes of substance, i.e. technical
enhancements, corrections, updates, etc.
z the third digit is incremented when editorial only changes have been
incorporated in the document.
# 1 Scope
The present document specifies the stage 3 protocol and data model for the
Nudm Service Based Interface. It provides stage 3 protocol definitions and
message flows, and specifies the API for each service offered by the UDM.
The 5G System stage 2 architecture and procedures are specified in 3GPP TS
23.501 [2] and 3GPP TS 23.502 [3].
The Technical Realization of the Service Based Architecture and the Principles
and Guidelines for Services Definition are specified in 3GPP TS 29.500 [4] and
3GPP TS 29.501 [5].
# 2 References
The following documents contain provisions which, through reference in this
text, constitute provisions of the present document.
\- References are either specific (identified by date of publication, edition
number, version number, etc.) or nonâ€‘specific.
\- For a specific reference, subsequent revisions do not apply.
\- For a non-specific reference, the latest version applies. In the case of a
reference to a 3GPP document (including a GSM document), a non-specific
reference implicitly refers to the latest version of that document _in the
same Release as the present document_.
[1] 3GPP TR 21.905: \"Vocabulary for 3GPP Specifications\".
[2] 3GPP TS 23.501: \"System Architecture for the 5G System; Stage 2\".
[3] 3GPP TS 23.502: \"Procedures for the 5G System; Stage 2\".
[4] 3GPP TS 29.500: \"5G System; Technical Realization of Service Based
Architecture; Stage 3\".
[5] 3GPP TS 29.501: \"5G System; Principles and Guidelines for Services
Definition; Stage 3\".
[6] 3GPP TS 33.501: \"Security Architecture and Procedures for 5G System\".
[7] 3GPP TS 29.571: \"5G System; Common Data Types for Service Based
Interfaces Stage 3\".
[8] 3GPP TS 23.003: \"Numbering, addressing and identification\".
[9] 3GPP TS 29.504: \"5G System; Unified Data Repository Services; Stage 3\".
[10] 3GPP TS 29.505: \"5G System; Usage of the Unified Data Repository
Services for Subscription Data; Stage 3\".
[11] 3GPP TS 32.255: \"Charging management; 5G data connectivity domain
charging\".
[12] 3GPP TS 32.298: \"Charging management; Charging Data Record (CDR)
parameter description\".
[13] IETF RFC 7540: \"Hypertext Transfer Protocol Version 2 (HTTP/2)\".
[14] OpenAPI Initiative, \"OpenAPI 3.0.0 Specification\",
https://github.com/OAI/OpenAPI-Specification/blob/master/versions/3.0.0.md
[15] IETF RFC 8259: \"The JavaScript Object Notation (JSON) Data Interchange
Format\".
[16] IETF RFC 7807: \"Problem Details for HTTP APIs\".
[17] IETF RFC 7396: \"JSON Merge Patch\".
[18] IETF RFC 6749: \"The OAuth 2.0 Authorization Framework\".
[19] 3GPP TS 29.510: \"Network Function Repository Services; Stage 3\".
[20] 3GPP TS 23.122: \"Non-Access-Stratum (NAS) functions related to Mobile
Station in idle mode\".
[21] 3GPP TS 29.002: \"Mobile Application Part (MAP) specification\".
[22] 3GPP TS 29.338: \"Diameter based protocols to support Short Message
Service (SMS) capable Mobile Management Entities (MMEs)\"
[23] ITU-T Recommendation E.164: \"The international public telecommunication
numbering plan\".
[24] 3GPP TS 29.509: \"Authentication Server Services; Stage 3\".
[25] IETF RFC 7232: \"Hypertext Transfer Protocol (HTTP/1.1): Conditional
Requests\".
[26] IETF RFC 7234: \"Hypertext Transfer Protocol (HTTP/1.1): Caching\".
[27] 3GPP TS 24.501: \"Non-Access-Stratum (NAS) protocol for 5G System (5GS);
Stage 3\".
[28] ETSI TS 102 225: \"Smart Cards; Secured packet structure for UICC based
applications\".
[29] IETF RFC 7542: \"The Network Access Identifier\".
[30] 3GPP TR 21.900: \"Technical Specification Group working methods\".
[31] IETF RFC 3986: \"Uniform Resource Identifier (URI): Generic Syntax\".
[32] IETF RFC 6902: \"JavaScript Object Notation (JSON) Patch\".
# 3 Definitions and abbreviations
## 3.1 Definitions
For the purposes of the present document, the terms and definitions given in
3GPP TR 21.905 [1] and the following apply. A term defined in the present
document takes precedence over the definition of the same term, if any, in
3GPP TR 21.905 [1].
## 3.2 Abbreviations
For the purposes of the present document, the abbreviations given in 3GPP TR
21.905 [1] and the following apply. An abbreviation defined in the present
document takes precedence over the definition of the same abbreviation, if
any, in 3GPP TR 21.905 [1].
5GC 5G Core Network
AMF Access and Mobility Management Function
AUSF Authentication Server Function
DNN Data Network Name
FQDN Fully Qualified Domain Name
GPSI Generic Public Subscription Identifier
GUAMI Globally Unique AMF Identifier
JSON Javascript Object Notation
MICO Mobile Initiated Connection Only
NAI Network Access Identifier
NAS Non-Access Stratum
NEF Network Exposure Function
NRF Network Repository Function
NSSAI Network Slice Selection Assistance Information
PEI Permanent Equipment Identifier
QFI QoS Flow Identifier
SBI Service Based Interface
SMF Session Management Function
SMSF Short Message Service Function
SUCI Subscription Concealed Identifier
SUPI Subscription Permanent Identifier
UDM Unified Data Management
UDR Unified Data Repository
# 4 Overview
## 4.1 Introduction
Within the 5GC, the UDM offers services to the AMF, SMF, SMSF, NEF, GMLC and
AUSF via the Nudm service based interface (see 3GPP TS 23.501 [2] and 3GPP TS
23.502 [3]).
Figure 4.1-1 provides the reference model (in service based interface
representation and in reference point representation), with focus on the UDM.
Figure 4.1-1: Reference model -- UDM
The functionalities supported by the UDM are listed in clause 6.2.7 of 3GPP TS
23.501 [2].
# 5 Services offered by the UDM
## 5.1 Introduction
The UDM offeres the following services via the Nudm interface:
\- Nudm_SubscriberDataManagement Service
\- Nudm_UEContextManagement Service
\- Nudm_UEAuthentication Service
\- Nudm_EventExposure Service
\- Nudm_ParameterProvision Service
All scenarios shown in the following clauses assume that the UDM is stateful
and stores information in local memory. However, the UDM may be stateless and
stores information externally in the UDR. If so, the stateless UDM makes use
of Nudr services as specified in 3GPP TS 29.504 [9] and 3GPP TS 29.505 [10] to
retrieve required data from the UDR and store them locally before processing
an incoming request. Processing the incoming request may then include updating
data in the UDR or subscribing to data change notifications at the UDR by
consuming the appropriate Nudr services. After processing the incoming
request, the UDM may delete the locally stored data. When data stored in UDR
is then shared among the different UDM instances of the same group, as
identified by UDM Group ID (see 3GPP TS 23.501 [2], clause 6.2.6), bulk
subscriptions, as described in clause 4.15.3.2.4 of 3GPP TS 23.502 [3], are
not applicable, i.e. an NF consumer (e.g. NEF) only subscribes towards one of
the UDM instances within the group. See Annex B.
## 5.2 Nudm_SubscriberDataManagement Service
### 5.2.1 Service Description
See 3GPP TS 23.501 [2] table 7.2.5-1.
### 5.2.2 Service Operations
#### 5.2.2.1 Introduction
For the Nudm_SubscriberDataManagement service the following service operations
are defined:
\- Get
\- Subscribe
\- ModifySubscription
\- Unsubscribe
\- Notification
\- Info
The Nudm_SubscriberDataManagement Service is used by Consumer NFs (AMF, SMF,
SMSF, GMLC) to retrieve the UE\'s individual subscription data relevant to the
consumer NF from the UDM by means of the Get service operation. If the
consumer NF supports the feature \"sharedData\" (see clause 6.1.8), the
retrieved individual subscription data for the UE may contain shared data
identifier identifying additional parts of subscription data shared by several
UEs. If so, the Nudm_SubscriberDataManagement Service is also used by Consumer
NFs to retrieve shared subscription data from the UDM by means of the Get
service operation.
It is also used by Consumer NFs to subscribe to notifications of data change
by means of the Subscribe service operation. If the consumer NF supports the
feature \"sharedData\" (see clause 6.1.8), the consumer NF may also subscribe
to notifications of shared data change by means of the Subscribe service
operation.
It is also used to modify an existing subscription by means of the
ModifySubscription service operation. If the consumer NF supports the feature
\"sharedData\" (see clause 6.1.8), the consumer NF may also modify an existing
subscription to notifications of shared data change by means of the
ModifySubscription service operation.
It is also used to unsubscribe from notifications of data changes by means of
the Unsubscribe service operation. If the feature \"sharedData\" (see clause
6.1.8) is supported, it may also be used to unsubscribe from notifications of
shared data changes by means of the Unsubscribe service operation.
It is also used by the Consumer NFs (AMF, SMF, SMSF) that have previously
subscribed, to get notified by means of the Notification service operation
when UDM decides to modify the subscribed data. If the feature \"sharedData\"
(see clause 6.1.8) is supported by the consumer NF and the consumer NF has
previously subscribed to notifications of shared data change, it is also used
by the consumer NF to get notified by means of the Notification service
operation when the UDM decides to modify the subscribed shared data.
It is also used by Consumer NFs to provide the information about the status of
the subscription data management procedures.
#### 5.2.2.2 Get
##### 5.2.2.2.1 General
The following procedures using the Get service operation are supported:
\- Slice Selection Subscription Data Retrieval
\- Access and Mobility Subscription Data Retrieval
\- SMF Selection Subscription Data Retrieval
\- Session Management Subscription Data Retrieval
\- SMS Subscription Data Retrieval
\- SMS Management Subscription Data Retrieval
\- UE Context in SMF Data Retrieval
\- UE Context in SMSF Data Retrieval
\- Retrieval Of Multiple Data Sets
\- Identifier Translation
\- Shared Subscription Data Retrieval
\- Trace Data Retrieval
When the feature SharedData (see clause 6.1.8) is supported and the retrieved
UE-individual data (i.e. data other than Shared Subscription Data) contain
SharedDataIds, the NF service consumer shall also retrieve the shared data
identified by the received shared data Ids unless the identified shared data
are already available at the NF service consumer. The order of sequence of
sharedDataIds within UE-individual data is significant: Individual data take
precedence over shared data; shared data \"SharedDataX\" identified by a
sharedDataId X takes precedence over shared data \"SharedDataY\" identified by
a sharedDataId Y if X appears before Y within the list of SharedDataIds in the
UE-individual data.
##### 5.2.2.2.2 Slice Selection Subscription Data Retrieval
Figure 5.2.2.2.2-1 shows a scenario where the NF service consumer (e.g. AMF)
sends a request to the UDM to receive the UE\'s NSSAI (see also 3GPP TS 23.502
[3] figure 4.2.2.2.3-1 step 3). The request contains the UE\'s identity
(/{supi}), the type of the requested information (/nssai) and query parameters
(supported-features, plmn-id).
Figure 5.2.2.2.2-1: Requesting a UE\'s NSSAI
1\. The NF service consumer (e.g. AMF) sends a GET request to the resource
representing the UE\'s subscribed NSSAI, with query parameters indicating the
supported-features and/or plmn-id.
2a. On success, the UDM responds with \"200 OK\" with the message body
containing the UE\'s NSSAI as relevant for the requesting NF service consumer.
2b. If there is no valid subscription data for the UE, HTTP status code \"404
Not Found\" shall be returned including additional error information in the
response body (in the \"ProblemDetails\" element).
On failure, the appropriate HTTP status code indicating the error shall be
returned and appropriate additional error information should be returned in
the GET response body.
##### 5.2.2.2.3 Access and Mobility Subscription Data Retrieval
Figure 5.2.2.2.3-1 shows a scenario where the NF service consumer (e.g. AMF)
sends a request to the UDM to receive the UE\'s Access and Mobility
Subscription data (see also 3GPP TS 23.502 [3] figure 4.2.2.2.2-1 step 14).
The request contains the UE\'s identity (/{supi}), the type of the requested
information (/am-data) and query parameters (supported-features, plmn-id).
Figure 5.2.2.2.3-1: Requesting a UE\'s Access and Mobility Subscription Data
1\. The NF service consumer (e.g. AMF) sends a GET request to the resource
representing the UE\'s Access and Mobility Subscription Data, with query
parameters indicating the supported-features and/or plmn-id.
2a. On Success, the UDM responds with \"200 OK\" with the message body
containing the UE\'s Access and Mobility Subscription Data as relevant for the
requesting NF service consumer.
2b. If there is no valid subscription data for the UE, HTTP status code \"404
Not Found\" shall be returned including additional error information in the
response body (in the \"ProblemDetails\" element).
On failure, the appropriate HTTP status code indicating the error shall be
returned and appropriate additional error information should be returned in
the GET response body.
##### 5.2.2.2.4 SMF Selection Subscription Data Retrieval
Figure 5.2.2.2.4-1 shows a scenario where the NF service consumer (e.g. AMF)
sends a request to the UDM to receive the UE\'s SMF Selection Subscription
data (see also 3GPP TS 23.502 [3] figure 4.2.2.2.2-1 step 14). The request
contains the UE\'s identity (/{supi}), the type of the requested information
(/smf-select-data) and query parameters (supported-features, plmn-id).
Figure 5.2.2.2.4-1: Requesting a UE\'s SMF Selection Subscription Data
1\. The NF service consumer (e.g. AMF) sends a GET request to the resource
representing the UE\'s SMF Selection Subscription Data, with query parameters
indicating the supported-features and/or plmn-id.
2a. On success, the UDM responds with \"200 OK\" with the message body
containing the UE\'s SMF Selection Subscription Data as relevant for the
requesting NF service consumer.
2b. If there is no valid subscription data for the UE, HTTP status code \"404
Not Found\" shall be returned including additional error information in the
response body (in the \"ProblemDetails\" element).
On failure, the appropriate HTTP status code indicating the error shall be
returned and appropriate additional error information should be returned in
the GET response body.
##### 5.2.2.2.5 Session Management Subscription Data Retrieval
Figure 5.2.2.2.5-1 shows a scenario where the NF service consumer (e.g. SMF)
sends a request to the UDM to receive the UE\'s session management
subscription data (see also 3GPP TS 23.502 [3] figure 4.3.2.2.1-1 step 4a-4b).
The request contains the UE\'s identity (/{supi}), the type of the requested
information (/sm-data), and query parameters (single-nssai, dnn, supported-
features, plmn-id).
Figure 5.2.2.2.5-1: Requesting a UE\'s Session Management Subscription Data
1\. The NF service consumer (e.g. SMF) sends a GET request to the resource
representing the UE\'s session management subscription data, with query
parameters indicating the selected network slice and/or the DNN and/or
supported-features and/or plmn-id.
2a. On success, the UDM responds with \"200 OK\", the message body containing
the UE\'s session management subscription data as relevant for the requesting
NF service consumer.
2b. If there is no valid subscription data for the UE, or if the UE
subscription data exists, but the requested session management subscription is
not available (e.g. query parameter contains network slice and/or DNN that
does not belong to the UE subscription), HTTP status code \"404 Not Found\"
shall be returned including additional error information in the response body
(in the \"ProblemDetails\" element).
On failure, the appropriate HTTP status code indicating the error shall be
returned and appropriate additional error information should be returned in
the GET response body.
##### 5.2.2.2.6 SMS Subscription Data Retrieval
Figure 5.2.2.2.6-1 shows a scenario where the NF service consumer (e.g. AMF)
sends a request to the UDM to receive the UE\'s SMS Subscription Data (see
also 3GPP TS 23.502 [3], clause 4.13.3.1). The request contains the UE\'s
identity (/{supi}) and the type of the requested information (/sms-data).
Figure 5.2.2.2.6-1: Requesting UE\'s SMS Subscription Data
1\. The NF Service Consumer (e.g. AMF) sends a GET request to the resource
representing the UE\'s SMS Subscription Data.
2\. The UDM responds with \"200 OK\" with the message body containing the
UE\'s SMS Subscription Data.
On failure, the appropriate HTTP status code indicating the error shall be
returned and appropriate additional error information should be returned in
the GET response body.
##### 5.2.2.2.7 SMS Management Subscription Data Retrieval
Figure 5.2.2.2.7-1 shows a scenario where the NF service consumer (e.g. SMSF)
sends a request to the UDM to receive the UE\'s SMS Management Subscription
Data (see also 3GPP TS 23.502 [3], clause 4.13.3.1). The request contains the
UE\'s identity (/{supi}) and the type of the requested information (/sms-mng-
data).
Figure 5.2.2.2.7-1: Requesting UE\'s SMS Management Subscription Data
1\. The NF Service Consumer (e.g. SMSF) sends a GET request to the resource
representing the UE\'s SMS Management Subscription Data.
2\. The UDM responds with \"200 OK\" with the message body containing the
UE\'s SMS Management Subscription Data.
On failure, the appropriate HTTP status code indicating the error shall be
returned and appropriate additional error information should be returned in
the GET response body.
##### 5.2.2.2.8 UE Context In SMF Data Retrieval
Figure 5.2.2.2.8-1 shows a scenario where the NF service consumer (e.g. AMF)
sends a request to the UDM to receive the UE\'s Context In SMF data (see also
3GPP TS 23.502 [3] figure 4.2.2.2.2-1 step 14). The request contains the UE\'s
identity (/{supi}), the type of the requested information (/ue-context-in-smf-
data) and query parameters (supported-features).
Figure 5.2.2.2.8-1: Requesting a UE\'s Context in SMF Data
1\. The NF service consumer (e.g. AMF) shall send a GET request to the
resource representing the UE\'s Context In SMF Data, with query parameters
indicating the supported-features.
2a. On Success, the UDM shall respond with \"200 OK\" with the message body
containing the UE\'s Context In SMF Data as relevant for the requesting NF
service consumer.
2b. If there is no valid subscription data for the UE, HTTP status code \"404
Not Found\" shall be returned including additional error information in the
response body (in the \"ProblemDetails\" element).
On failure, the appropriate HTTP status code indicating the error shall be
returned and appropriate additional error information should be returned in
the GET response body.
##### 5.2.2.2.9 Retrieval Of Multiple Data Sets
Figure 5.2.2.2.9-1 shows a scenario where the NF service consumer (e.g. AMF)
sends a request to the UDM to receive multiple data sets. In this example
scenario the UE\'s Access and Mobility Subscription data and the the UE\'s SMF
Selection Subscription data are retrieved with a single request; see clause
6.1.3.11.3.1 for other data sets that can be retrieved with a single request.
The request contains the UE\'s identity (/{supi}) and query parameters
identifying the requested data sets (in this example: ?dataset-names=AM,
SMF_SEL).
Figure 5.2.2.2.9-1: Retrieval of Multiple Data Sets
1\. The NF Service Consumer (e.g. AMF) sends a GET request to the resource
representing the supi. Query parameters indicate the requested data sets.
2\. The UDM responds with \"200 OK\" with the message body containing the
requested data sets.
On failure, the appropriate HTTP status code indicating the error shall be
returned and appropriate additional error information should be returned in
the GET response body.
##### 5.2.2.2.10 Identifier Translation
Figure 5.2.2.2.10-1 shows a scenario where the NF service consumer (e.g. NEF
or GMLC) sends a request to the UDM to receive the SUPI that corresponds to
the provided GPSI (see also 3GPP TS 23.502 [3], clause 4.13.2.2 and 4.13.5.3).
The request contains the UE\'s identity (/{gpsi}) and the type of the
requested information (/id-translation-result).
Figure 5.2.2.2.10-1: Identifier Translation
1\. The NF Service Consumer (e.g. NEF or GMLC) shall send a GET request to the
resource representing the IdTranslationResult for the UE identified by the
GPSI.
2\. The UDM shall respond with \"200 OK\" with the message body containing the
UE\'s SUPI.
On failure, the appropriate HTTP status code indicating the error shall be
returned and appropriate additional error information should be returned in
the GET response body.
##### 5.2.2.2.11 Shared Subscription Data Retrieval
Figure 5.2.2.2.11-1 shows a scenario where the NF service consumer (e.g. AMF)
sends a request to the UDM to receive the shared subscription data. The
request contains the type of the requested information (/shared-data) and
query parameters (supportedFeatures, shared-data-id).
Figure 5.2.2.2.11-1: Requesting shared data
1\. The NF service consumer (e.g. AMF) sends a GET request to the resource
representing the SharedData, with query parameters indicating the
supportedFeatures and shared-data-id.
2a. On success, the UDM responds with \"200 OK\" with the message body
containing the SharedData.
2b. If there is no valid shared data for one or more of the shared-data-ids,
HTTP status code \"404 Not Found\" shall be returned including additional
error information in the response body (in the \"ProblemDetails\" element).
On failure, the appropriate HTTP status code indicating the error shall be
returned and appropriate additional error information should be returned in
the GET response body.
##### 5.2.2.2.12 UE Context In SMSF Data Retrieval
Figure 5.2.2.2.12-1 shows a scenario where the NF service consumer (e.g. AMF)
sends a request to the UDM to receive the UE\'s Context In SMSF data. The
request contains the UE\'s identity (/{supi}), the type of the requested
information (/ue-context-in-smsf-data) and query parameters (supported-
features).
Figure 5.2.2.2.12-1: Requesting a UE\'s Context in SMSF Data
1\. The NF service consumer (e.g. AMF) shall send a GET request to the
resource representing the UE\'s Context In SMSF Data, with query parameters
indicating the supported-features.
2a. On Success, the UDM shall respond with \"200 OK\" with the message body
containing the UE\'s Context In SMSF Data as relevant for the requesting NF
service consumer.
2b. If there is no valid subscription data for the UE, HTTP status code \"404
Not Found\" shall be returned including additional error information in the
response body (in the \"ProblemDetails\" element).
On failure, the appropriate HTTP status code indicating the error shall be
returned and appropriate additional error information should be returned in
the GET response body.
##### 5.2.2.2.13 Trace data Retrieval
Figure 5.2.2.2.13-1 shows a scenario where the NF service consumer (e.g. AMF,
SMF) sends a request to the UDM to receive the UE\'s trace data. The request
contains the UE\'s identity (/{supi}), the type of the requested information
(/trace-data) and query parameters.
Figure 5.2.2.2.13-1: Requesting a UE\'s trace Data
1\. The NF service consumer (e.g. AMF, SMF) shall send a GET request to the
resource representing the UE\'s trace Data, with query parameters.
2a. On Success, the UDM shall respond with \"200 OK\" with the message body
containing the UE\'s trace data response as relevant for the requesting NF
service consumer.
2b. If there is no valid subscription data for the UE, HTTP status code \"404
Not Found\" shall be returned including additional error information in the
response body (in the \"ProblemDetails\" element).
On failure, the appropriate HTTP status code indicating the error shall be
returned and appropriate additional error information should be returned in
the GET response body.
##### 5.2.2.2.14 Group Identifier Translation
Figure 5.2.2.2.14-1 shows a scenario where the NF service consumer sends a
request to the UDM to receive the Internal Group Identifier that corresponds
to the provided External Group Identifier.
Figure 5.2.2.2.14-1: Group Identifier Translation
1\. The NF Service Consumer (e.g. NEF) shall send a GET request to the
resource representing the group identifiers handled by UDM; the External Group
Identifier is passed in a query parameter of the request URI.
2\. The UDM shall respond with \"200 OK\" with the message body containing the
Internal Group Identifier.
On failure, the appropriate HTTP status code indicating the error shall be
returned and appropriate additional error information should be returned in
the GET response body.
#### 5.2.2.3 Subscribe
##### 5.2.2.3.1 General
The following procedures using the Subscribe service operation are supported:
\- Subscription to notification of data change (for UE individual data)
\- Subscription to notification of shared data change
##### 5.2.2.3.2 Subscription to notifications of data change
Figure 5.2.2.3.2-1 shows a scenario where the NF service consumer sends a
request to the UDM to subscribe to notifications of data change (see also 3GPP
TS 23.502 [3] figure 4.2.2.2.2-1 step 14). The request contains a callback URI
and the URI of the monitored resource.
Figure 5.2.2.3.2-1: NF service consumer subscribes to notifications
1\. The NF service consumer sends a POST request to the parent resource
(collection of subscriptions) (.../{supi}/sdm-subscriptions), to create a
subscription as present in message body.
2a. On success, the UDM responds with \"201 Created\" with the message body
containing a representation of the created subscription. The Location HTTP
header shall contain the URI of the created subscription.
2b. If there is no valid subscription data for the UE, HTTP status code \"404
Not Found\" shall be returned including additional error information in the
response body (in the \"ProblemDetails\" element).
2c. If the UE subscription data exist, but the requested subscription to data
change notification cannot be created (e.g. due to an invalid/unsupported data
reference to be monitored, contained in the SdmSubscription parameter), HTTP
status code \"501 Not Implemented\" shall be returned including additional
error information in the response body (in the \"ProblemDetails\" element).
On failure, the appropriate HTTP status code indicating the error shall be
returned and appropriate additional error information should be returned in
the POST response body.
##### 5.2.2.3.3 Subscription to notifications of shared data change
Figure 5.2.2.3.3-1 shows a scenario where the NF service consumer sends a
request to the UDM to subscribe to notifications of shared data change. The
request contains a callback URI and the URI of the monitored resource.
Figure 5.2.2.3.3-1: NF service consumer subscribes to notifications of shared
data change
1\. The NF service consumer sends a POST request to the parent resource
(collection of subscriptions) (.../shared-data-subscriptions), to create a
subscription as present in message body.
2\. On success, the UDM responds with \"201 Created\" with the message body
containing a representation of the created subscription. The Location HTTP
header shall contain the URI of the created subscription.
On failure, the appropriate HTTP status code indicating the error shall be
returned and appropriate additional error information should be returned in
the POST response body.
#### 5.2.2.4 Unsubscribe
##### 5.2.2.4.1 General
The following procedures using the Unsubscribe service operation are
supported:
\- Unsubscribe to notification of data change (for UE individual data)
\- Unsubscribe to notifications of shared data change
##### 5.2.2.4.2 Unsubscribe to notifications of data change
Figure 5.2.2.4.2-1 shows a scenario where the NF service consumer sends a
request to the UDM to unsubscribe from notifications of data changes (see also
3GPP TS 23.502 [3] figure 4.2.2.2.2-1 step 14). The request contains the URI
previously received in the Location HTTP header of the response to the
subscription.
Figure 5.2.2.4.2-1: NF service consumer unsubscribes to notifications
1\. The NF service consumer sends a DELETE request to the resource identified
by the URI previously received during subscription creation.
2a. On success, the UDM responds with \"204 No Content\".
2b. If there is no valid subscription available (e.g. due to an unknown
subscriptionId value), HTTP status code \"404 Not Found\" should be returned
including additional error information in the response body (in the
\"ProblemDetails\" element).
On failure, the appropriate HTTP status code indicating the error shall be
returned and appropriate additional error information should be returned in
the DELETE response body.
##### 5.2.2.4.3 Unsubscribe to notifications of shared data change
Figure 5.2.2.4.3-1 shows a scenario where the NF service consumer sends a
request to the UDM to unsubscribe from notifications of shared data changes.
The request contains the URI previously received in the Location HTTP header
of the response to the subscription.
Figure 5.2.2.4.3-1: NF service consumer unsubscribes to notifications for
shared data
1\. The NF service consumer sends a DELETE request to the resource identified
by the URI previously received during subscription creation.
2a. On success, the UDM responds with \"204 No Content\".
2b. If there is no valid subscription available (e.g. due to an unknown
subscriptionId value), HTTP status code \"404 Not Found\" should be returned
including additional error information in the response body (in the
\"ProblemDetails\" element).
On failure, the appropriate HTTP status code indicating the error shall be
returned and appropriate additional error information should be returned in
the DELETE response body.
#### 5.2.2.5 Notification
##### 5.2.2.5.1 General
The following procedures using the Notification service operation are
supported:
\- Data change notification to NF, including the updates of UE\'s Subscriber
Data indicated by the \"subscription data Type\" input and additional UE\'s
UDM-related parameters.
##### 5.2.2.5.2 Data Change Notification To NF
Figure 5.2.2.5.2-1 shows a scenario where the UDM notifies the NF service
consumer (that has subscribed to receive such notification) about subscription
data change (see also 3GPP TS 23.502 [3] clause 4.5.1 or 3GPP TS 23.502 [3]
clause 4.5.2) or shared data change. The request contains the
callbackReference URI as previously received in the SdmSubscription (see
clause 6.1.6.2.3).
Figure 5.2.2.5.2-1: Subscription Data Change Notification
1\. The UDM sends a POST request to the callbackReference as provided by the
NF service consumer during the subscription.
2\. The NF service consumer responds with \"204 No Content\".
On failure, the appropriate HTTP status code indicating the error shall be
returned and appropriate additional error information should be returned in
the POST response body.
#### 5.2.2.6 Info
##### 5.2.2.6.1 General
The following procedures using the Info service operation are supported:
\- Providing acknowledgement from the UE to UDM about successful delivery of
Steering of Roaming information via the AMF as defined in 3GPP TS 23.122 [20]
\- Providing acknowledgement from the UE to UDM about successful delivery of
updated Default Configured NSSAI or UICC data (Secured-Packet, containing e.g.
Routing indicator) via the AMF as defined in 3GPP TS 23.502 [3].
\- Providing acknowledgement from the UE to the UDM about successful delivery
of the Network Slicing Subscription Change Indication.
##### 5.2.2.6.2 Providing acknowledgement of Steering of Roaming
Figure 5.2.2.6.2-1 shows a scenario where the NF service consumer (e.g. AMF)
sends the UE acknowledgement to the UDM (see also 3GPP TS 23.122 [20] Annex
C). The request contains the UE\'s identity (/{supi}), the type of the
acknowledgement information (/am-data/sor-ack), and the SOR-MAC-Iue.
Figure 5.2.2.6.2-1: Providing acknowledgement of Steering of Roaming
1\. The NF service consumer (e.g. AMF) sends a PUT request to the resource
representing the UE\'s Access and Mobility Subscription Data, with the
AcknowledgeInfo (SOR-MAC-Iue) received from the UE.
2\. The UDM responds with \"204 No Content\".
On failure, the appropriate HTTP status code indicating the error shall be
returned and appropriate additional error information should be returned in
the PUT response body.
##### 5.2.2.6.3 Providing acknowledgement of UE parameters update
Figure 5.2.2.6.3-1 shows a scenario where the NF service consumer (e.g. AMF)
sends the UE acknowledgement to the UDM (see also 3GPP TS 23.502 [3]). The
request contains the UE\'s identity (/{supi}), the type of the acknowledgement
information (/am-data/upu-ack), and the UPU-MAC-Iue.
Figure 5.2.2.6.3-1: Providing acknowledgement of UE parameters update
1\. The NF service consumer (e.g. AMF) sends a PUT request to the resource
representing the UE\'s Access and Mobility Subscription Data, with the
AcknowledgeInfo(UPU-MAC-I~UE~) received from the UE.
2\. The UDM responds with \"204 No Content\".
On failure, the appropriate HTTP status code indicating the error shall be
returned and appropriate additional error information should be returned in
the PUT response body.
##### 5.2.2.6.4 Providing acknowledgement of UE for Network Slicing
Subscription Change
Figure 5.2.2.6.4-1 shows a scenario where the NF service consumer (e.g. AMF)
sends the UE acknowledgement to the UDM (see also 3GPP TS 23.502 [3]). The
request contains the UE\'s identity (/{supi}) and the type of the
acknowledgement information (/am-data/subscribed-snssais-ack).
Figure 5.2.2.6.4-1: Providing acknowledgement of UE for Network Slicing
Subscription Change
1\. The NF service consumer (e.g. AMF) sends a PUT request to the resource
representing the UE\'s Access and Mobility Subscription Data, with the
AcknowledgeInfo.
2\. The UDM responds with \"204 No Content\".
On failure, the appropriate HTTP status code indicating the error shall be
returned and appropriate additional error information should be returned in
the PUT response body.
#### 5.2.2.7 ModifySubscription
##### 5.2.2.7.1 General
The following procedures using the ModifySubscription service operation are
supported:
\- Modification of a Subscription to notification of data change (for UE
individual data)
\- Modification of a Subscription to notification of shared data change
The ModifySubscription service operation can be used for the following
purpose:
\- Extend the expiry time of SdmSubscription;
\- Modify the resource URIs to be monitored, e.g. add/remove resource URIs
to/from the monitored resource URI list.
##### 5.2.2.7.2 Modification of a subscription to notifications of data change
Figure 5.2.2.7.2-1 shows a scenario where the NF service consumer sends a
request to the UDM to modify a subscription to notifications of data changes.
The request contains the URI previously received in the Location HTTP header
of the response to the subscription.
Figure 5.2.2.7.2-1: NF service consumer modifies a subscription to
notifications
1\. The NF service consumer sends a PATCH request to the resource identified
by the URI previously received during subscription creation.
The NF service consumer may include \"monitoredResourceUris\" to replace the
existing monitored resource URIs, e.g. to add/remove specific resource URIs
from the monitored resource URI list.
2a. On success, the UDM responds with \"200 OK\".
2b. If there is no valid subscription available (e.g. due to an unknown
subscriptionId value), HTTP status code \"404 Not Found\" should be returned
including additional error information in the response body (in the
\"ProblemDetails\" element).
On failure, the appropriate HTTP status code indicating the error shall be
returned and appropriate additional error information should be returned in
the PATCH response body.
##### 5.2.2.7.3 Modification of a subscription to notifications of shared data
change
Figure 5.2.2.7.3-1 shows a scenario where the NF service consumer sends a
request to the UDM to modifya subscription to notifications of shared data
changes. The request contains the URI previously received in the Location HTTP
header of the response to the subscription.
Figure 5.2.2.7.3-1: NF service consumer modifies a subscription to
notifications for shared data
1\. The NF service consumer sends a PATCH request to the resource identified
by the URI previously received during subscription creation.
The NF service consumer may include \"monitoredResourceUris\" to replace the
existing monitored resource URIs, e.g. for the purposes to add/remove specific
resource URIs from the monitored resource URI list.
2a. On success, the UDM responds with \"200 OK\".
2b. If there is no valid subscription available (e.g. due to an unknown
subscriptionId value), HTTP status code \"404 Not Found\" should be returned
including additional error information in the response body (in the
\"ProblemDetails\" element).
On failure, the appropriate HTTP status code indicating the error shall be
returned and appropriate additional error information should be returned in
the PATCH response body.
## 5.3 Nudm_UEContextManagement Service
### 5.3.1 Service Description
See 3GPP TS 23.501 [2] table 7.2.5-1.
### 5.3.2 Service Operations
#### 5.3.2.1 Introduction
For the Nudm_UEContextManagement service the following service operations are
defined:
\- Registration
\- DeregistrationNotification
\- Deregistration
\- Get
\- Update
\- P-CSCF-RestorationNotification
The Nudm_UEContextManagement Service is used by Consumer NFs (AMF, SMF, SMSF)
to register at the UDM by means of the Registration service operation.
It is also used by the registered Consumer NFs (AMF) to get notified by means
of the DeregistrationNotification service operation when UDM decides to
deregister the registered consumer NF.
It is also used by the registered Consumer NFs (AMF, SMF, SMSF) to deregister
from the UDM by means of the Deregistration service operation.
It is also used by consumer NFs (NEF) to retrieve registration information
from the UDM by means of the Get service operation.
It is also used by the registered Consumer NFs (AMF, SMF) to update
registration information stored at the UDM by means of the Update service
operation.
It is also used by the registered Consumer NFs (AMF, SMF) to get notified by
means of the P-CSCF-RestorationNotification service operation when UDM detects
the need for P-CSCF restoration.
#### 5.3.2.2 Registration
##### 5.3.2.2.1 General
The Registration service operation is invoked by a NF that has been selected
to provide service to the UE to store related UE Context Management
information in UDM.
NF Consumers are AMF for access and mobility management service, SMF for
session management services and SMSF providing SMS services.
As part of this registration procedure, the UDM authorizes or rejects the
subscriber to use the service provided by the registered NF, based on
subscription data (e.g. roaming restrictions).
The following procedures using the Registration service operation are
supported:
\- AMF registration for 3GPP access
\- AMF registration for non-3GPP access
\- SMF registration
\- SMSF registration for 3GPP access
\- SMSF registration for non-3GPP access
##### 5.3.2.2.2 AMF registration for 3GPP access
Figure 5.3.2.2.2-1 shows a scenario where the AMF sends a request to the UDM
to update the AMF registration information for 3GPP access (see also 3GPP TS
23.502 [3] figure 4.2.2.2.2-1 step 14). The request contains the UE\'s
identity (/{ueId}) which shall be a SUPI and the AMF Registration Information
for 3GPP access.
Figure 5.3.2.2.2-1: AMF registering for 3GPP access
1\. The AMF sends a PUT request to the resource representing the UE\'s AMF
registration for 3GPP access to update or create AMF registration information.
If EPS interworking with N26 is supported, and the AMF has per DNN selected
the PGW-C+SMF for EPS interworking, the AMF shall include the info of selected
PGW-C+SMF to the UDM.
2a. On success, and if another AMF is registered for 3GPP access, the UDM
updates the Amf3GppAccessRegistration resource by replacing it with the
received resource information, and responds with \"204 No Content\".
UDM shall invoke the Deregistration Notification service operation towards the
old AMF using the callback URI provided by the old AMF.
2b. If the resource does not exist (there is no previous AMF information
stored in UDM for that user), UDM stores the received AMF registration data
for 3GPP access and responds with HTTP Status Code \"201 created\". A response
body may be included to convey additional information to the NF consumer
(e.g., features supported by UDM).
2c. If the operation cannot be authorized due to e.g UE does not have required
subcription data, access barring or roaming restrictions, HTTP status code
\"403 Forbidden\" should be returned including additional error information in
the response body (in \"ProblemDetails\" element).
On failure, the appropriate HTTP status code indicating the error shall be
returned and appropriate additional error information should be returned in
the PUT response body.
##### 5.3.2.2.3 AMF registration for non 3GPP access
Figure 5.3.2.2.3-1 shows a scenario where the AMF sends a request to the UDM
to update the AMF registration information for non 3GPP access (see also 3GPP
TS 23.502 [3] figure 4.2.2.2.2-1 step 14). The request contains the UE\'s
identity (/{ueId}) which shall be a SUPI and the AMF Registration Information
for non 3GPP access.
Figure 5.3.2.2.3-1: AMF registering for non 3GPP access
1\. The AMF sends a PUT request to the resource representing the UE\'s AMF
registration for non 3GPP access to update or create AMF registration
information.
2a. On success, and if another AMF is registered for non-3GPP access, the UDM
updates the AmfNon3GppAccessRegistration resource by replacing it with the
received resource information, and responds with \"204 No Content\".
UDM shall invoke the Deregistration Notification service operation towards the
old AMF using the callback URI provided by the old AMF.
2b. If the resource does not exist (there is no previous AMF information
stored in UDM for that user), UDM stores the received AMF registration data
for non-3GPP access and responds with HTTP Status Code \"201 created\". A
response body may be included to convey additional information to the NF
consumer (e.g., features supported by UDM).
2c. If the operation cannot be authorized due to e.g UE does not have required
subcription data, access barring or roaming restrictions, HTTP status code
\"403 Forbidden\" should be returned including additional error information in
the response body (in the \"ProblemDetails\" element).
On failure, the appropriate HTTP status code indicating the error shall be
returned and appropriate additional error information should be returned in
the PUT response body.
##### 5.3.2.2.4 SMF registration
Figure 5.3.2.2.4-1 shows a scenario where an SMF sends a request to the UDM to
create a new registration (see also 3GPP TS 23.502 [3] figure 4.3.2.2.1-1 step
4). The request contains the UE\'s identity (/{ueId}) which shall be a SUPI
and the SMF Registration Information.
Figure 5.3.2.2.4-1: SMF registration
1\. The SMF sends a PUT request to the resource .../{ueId}/registrations/smf-
registrations/{pduSessionId}, to create an SMF Registration as present in the
message body.
2a. The UDM responds with \"201 Created\" with the message body containing a
representation of the created SMF registration.
2b. If the operation cannot be authorized due to e.g UE does not have required
subcription data, access barring or roaming restrictions, HTTP status code
\"403 Forbidden\" should be returned including additional error information in
the response body (in \"ProblemDetails\" element).
On failure, the appropriate HTTP status code indicating the error shall be
returned and appropriate additional error information should be returned in
the PUT response body.
##### 5.3.2.2.5 SMSF Registration for 3GPP Access
Figure 5.3.2.2.5-1 shows a scenario where the SMSF sends a request to the UDM
to create or update the SMSF registration information for 3GPP access (see
also 3GPP TS 23.502 [3], clause 4.13.3.1). The request contains the UE\'s
identity (/{ueId}) which shall be a SUPI and the SMSF Registration Information
for SMS service.
Figure 5.3.2.2.5-1: SMSF registering for 3GPP Access
1\. The SMSF sends a PUT request to the resource representing the UE\'s SMSF
registration for 3GPP Access to update or create SMSF registration
information.
2a. If successful, the UDM responds with \"200 OK\", or \"201 Created\" with
the message body containing the representation of the SmsfRegistration.
2b. If the operation cannot be authorized due to e.g UE does not have required
subcription data, access barring or roaming restrictions, HTTP status code
\"403 Forbidden\" should be returned including additional error information in
the response body (in \"ProblemDetails\" element).
On failure, the appropriate HTTP status code indicating the error shall be
returned and appropriate additional error information should be returned in
the PUT response body.
##### 5.3.2.2.6 SMSF Registration for Non 3GPP Access
Figure 5.3.2.2.6-1 shows a scenario where the SMSF sends a request to the UDM
to create or update the SMSF registration information for non 3GPP access (see
also 3GPP TS 23.502 [3], clause 4.13.3.1). The request contains the UE\'s
identity (/{ueId}) which shall be a SUPI and the SMSF Registration Information
for SMS service.
Figure 5.3.2.2.6-1: SMSF registering for Non 3GPP Access
1\. The SMSF sends a PUT request to the resource representing the UE\'s SMSF
registration for Non 3GPP Access to update or create SMSF registration
information.
2a. If successful, the UDM responds with \"200 OK\", or \"201 Created\" with
the message body containing the representation of the SmsfRegistration.
2b. If the operation cannot be authorized due to e.g UE does not have required
subcription data, access barring or roaming restrictions, HTTP status code
\"403 Forbidden\" should be returned including additional error information in
the response body (in \"ProblemDetails\" element).
On failure, the appropriate HTTP status code indicating the error shall be
returned and appropriate additional error information should be returned in
the PUT response body.
#### 5.3.2.3 DeregistrationNotification
##### 5.3.2.3.1 General
The following procedure using the DeregistrationNotification service operation
is supported:
\- UDM initiated NF Deregistration
##### 5.3.2.3.2 UDM initiated NF Deregistration
Figure 5.3.2.3.2-1 shows a scenario where the UDM notifies the registered NF
about its deregistration (see also 3GPP TS 23.502 [3] figure 4.2.2.2.2-1 step
14). The request contains the callback URI for deregistration notification as
received by the UDM during registration, and Deregistration Data.
Figure 5.3.2.3.2-1: UDM initiated NF Deregistration
1\. The UDM sends a POST request to the callbackReference as provided by the
NF service consumer during the registration.
2\. The NF service consumer responds with \"204 No Content\".
On failure, the appropriate HTTP status code indicating the error shall be
returned and appropriate additional error information should be returned in
the POST response body.
#### 5.3.2.4 Deregistration
##### 5.3.2.4.1 General
The following procedures using the Deregistration service operation are
supported:
\- AMF deregistration for 3GPP access
\- AMF deregistration for non-3GPP access
\- SMF deregistration
\- SMSF deregistration for 3GPP access
\- SMSF deregistration for non-3GPP access
##### 5.3.2.4.2 AMF deregistration for 3GPP access
Figure 5.3.2.4.2-1 shows a scenario where the AMF sends a request to the UDM
to deregister (purge) from the UDM for 3GPP access (see also 3GPP TS 23.502
[3] figure 4.5.3.1-1 step 3). The request contains the UE\'s identity
(/{ueId}) which shall be a SUPI and an instruction to set the purgeFlag within
the Amf3GppAccessRegistration resource.
Figure 5.3.2.4.2-1: AMF deregistering for 3GPP access
1\. The AMF sends a PATCH request to the resource representing the UE\'s AMF
registration for 3GPP access.
2a. The UDM shall check whether the received GUAMI matches the stored GUAMI.
If so, the UDM shall set the PurgeFlag. The UDM responds with \"204 No
Content\".
2b. Otherwise the UDM responds with \"403 Forbidden\".
NOTE: Based on operator policy, when AMF receives 403 Forbidden, the AMF can
avoid freezing the 5G-TMSI that the UE used, under consideration that the UE
has been assigned another 5G-TMSI by another AMF.
On failure, the appropriate HTTP status code indicating the error shall be
returned and appropriate additional error information should be returned in
the PATCH response body.
##### 5.3.2.4.3 AMF deregistration for non-3GPP access
Figure 5.3.2.4.3-1 shows a scenario where the AMF sends a request to the UDM
to deregister (purge) from the UDM for non-3GPP access (see also 3GPP TS
23.502 [3] figure 4.5.3.1-1 step 3). The request contains the UE\'s identity
(/{ueId}) which shall be a SUPI and an instruction to set the purgeFlag within
the AmfNon3GppAccessRegistration resource.
Figure 5.3.2.4.3-1: AMF deregistering for non-3GPP access
1\. The AMF sends a PATCH request to the resource representing the UE\'s AMF
registration for non-3GPP access.
2a. The UDM shall check whether the received GUAMI matches the stored GUAMI.
If so, the UDM shall set the PurgeFlag. The UDM responds with \"204 No
Content\".
2b. Otherwise the UDM responds with \"403 Forbidden\".
NOTE: Based on operator policy, when AMF receives 403 Forbidden, the AMF can
avoid freezing the 5G-TMSI that the UE used, under consideration that the UE
has been assigned another 5G-TMSI by another AMF.
On failure, the appropriate HTTP status code indicating the error shall be
returned and appropriate additional error information should be returned in
the PATCH response body.
##### 5.3.2.4.4 SMF deregistration
Figure 5.3.2.4.4-1 shows a scenario where the SMF sends a request to the UDM
to deregister an individual SMF registration (see also 3GPP TS 23.502 [3]
figure 4.3.2.2-1 step 20). The request contains the UE\'s identity (/{ueId})
which shall be a SUPI and the PDU Session ID (/{pduSessionId}.
Figure 5.3.2.4.4-1: SMF deregistration
1\. The SMF sends a DELETE request to the resource representing the individual
SMF registration that is to be deregistered.
2\. The UDM responds with \"204 No Content\".
On failure, the appropriate HTTP status code indicating the error shall be
returned and appropriate additional error information should be returned in
the DELETE response body.
##### 5.3.2.4.5 SMSF Deregistration for 3GPP Access
Figure 5.3.2.4.5-1 shows a scenario where the SMSF sends a request to the UDM
to delete the SMSF registration information for 3GPP access (see also 3GPP TS
23.502 [3], clause 4.13.3.2). The request contains the UE\'s identity
(/{ueId}) which shall be a SUPI.
Figure 5.3.2.4.5-1: SMSF Deregistering for 3GPP Access
1\. The SMSF sends a DELETE request to the resource representing the UE\'s
SMSF registration for 3GPP access.
2\. If successful, the UDM responds with \"204 No Content\".
On failure, the appropriate HTTP status code indicating the error shall be
returned and appropriate additional error information should be returned in
the DELETE response body.
##### 5.3.2.4.6 SMSF Deregistration for Non 3GPP Access
Figure 5.3.2.4.6-1 shows a scenario where the SMSF sends a request to the UDM
to delete the SMSF registration information for non 3GPP access (see also 3GPP
TS 23.502 [3], clause 4.13.3.2). The request contains the UE\'s identity
(/{ueId}) which shall be a SUPI.
Figure 5.3.2.4.6-1: SMSF Deregistering for Non 3GPP Access
1\. The SMSF sends a DELETE request to the resource representing the UE\'s
SMSF registration for non 3GPP access.
2\. If successful, the UDM responds with \"204 No Content\".
On failure, the appropriate HTTP status code indicating the error shall be
returned and appropriate additional error information should be returned in
the DELETE response body.
#### 5.3.2.5 Get
##### 5.3.2.5.1 General
The following procedures using the Get service operation are supported:
\- Amf3GppAccessRegistration Information Retrieval
\- AmfNon3GppAccessRegistration Information Retrieval
\- SmfRegistrations Information Retrieval
\- SmsfRegistration Information Retrieval for 3GPP Access
\- SmsfRegistration Information Retrieval for Non-3GPP Access
##### 5.3.2.5.2 Amf3GppAccessRegistration Information Retrieval
Figure 5.3.2.5.2-1 shows a scenario where the NF service consumer (e.g. NEF)
sends a request to the UDM to retrieve the UE\'s Amf3GppAccessRegistration
Information. The request contains the UE\'s identity (/{ueId}) which shall be
a GPSI or SUPI, the type of the requested information (/registration/amf-3gpp-
access) and query parameters (supported-features).
Figure 5.3.2.5.2-1: Requesting a UE\'s AMF Registration Information for 3GPP
Access
1\. The NF service consumer (e.g. NEF) sends a GET request to the resource
representing the UE\'s AMF registration information for 3GPP access, with
query parameters indicating the supported-features.
2\. The UDM responds with \"200 OK\" with the message body containing the
UE\'s Amf3GppAccessRegistration.
On failure, the appropriate HTTP status code indicating the error shall be
returned and appropriate additional error information should be returned in
the GET response body.
##### 5.3.2.5.3 AmfNon3GppAccessRegistration Information Retrieval
Figure 5.3.2.5.3-1 shows a scenario where the NF service consumer (e.g. NEF)
sends a request to the UDM to retrieve the UE\'s AmfNon3GppAccessRegistration
Information. The request contains the UE\'s identity (/{ueId}) which shall be
a GPSI or SUPI, the type of the requested information (/registration/amf-
non-3gpp-access) and query parameters (supported-features).
Figure 5.3.2.5.3-1: Requesting a UE\'s AMF Registration Information for
non-3GPP Access
1\. The NF service consumer (e.g. NEF) sends a GET request to the resource
representing the UE\'s AMF registration information for non-3GPP access, with
query parameters indicating the supported-features.
2\. The UDM responds with \"200 OK\" with the message body containing the
UE\'s AmfNon3GppAccessRegistration.
On failure, the appropriate HTTP status code indicating the error shall be
returned and appropriate additional error information should be returned in
the GET response body.
##### 5.3.2.5.4 SmfRegistrations Information Retrieval
tbd
##### 5.3.2.5.5 SmsfRegistration Information Retrieval for 3GPP Access
Figure 5.3.2.5.5-1 shows a scenario where the NF service consumer (e.g. NEF)
sends a request to the UDM to retrieve the UE\'s SmsfRegistration Information.
The request contains the UE\'s identity (/{ueId}) which shall be a GPSI, the
type of the requested information (/registrations/smsf-3gpp-access) and query
parameters (supported-features).
Figure 5.3.2.5.5-1: Requesting a UE\'s SMSF Registration Information for 3GPP
Access
1\. The NF service consumer (e.g. NEF) sends a GET request to the resource
representing the UE\'s SMSF registration information for 3GPP access, with
query parameters indicating the supported-features.
2\. The UDM responds with \"200 OK\" with the message body containing the
UE\'s SmsfRegistration for 3GPP access.
On failure, the appropriate HTTP status code indicating the error shall be
returned and appropriate additional error information should be returned in
the GET response body.
##### 5.3.2.5.6 SmsfRegistration Information Retrieval for Non-3GPP Access
Figure 5.3.2.5.6-1 shows a scenario where the NF service consumer (e.g. NEF)
sends a request to the UDM to retrieve the UE\'s SmsfRegistration Information
for non-3GPPP access. The request contains the UE\'s identity (/{ueId}) which
shall be a GPSI, the type of the requested information (/registrations/smsf-
non-3gpp-access) and query parameters (supported-features).
Figure 5.3.2.5.6-1: Requesting a UE\'s SMSF Registration Information for
Non-3GPP Access
1\. The NF service consumer (e.g. NEF) sends a GET request to the resource
representing the UE\'s SMSF registration information for non-3GPP access, with
query parameters indicating the supported-features.
2\. The UDM responds with \"200 OK\" with the message body containing the
UE\'s SmsfRegistration for non-3GPP access.
On failure, the appropriate HTTP status code indicating the error shall be
returned and appropriate additional error information should be returned in
the GET response body.
#### 5.3.2.6 Update
##### 5.3.2.6.1 General
The following procedures using the Update service operation are supported:
\- Update a parameter (e.g. PEI, EPS Interworking Info, etc) in the AMF
registration for 3GPP access
\- Update a parameter (e.g.PEI) in the AMF registration for non-3GPP access
##### 5.3.2.6.2 Update A Parameter (e.g. PEI) in the AMF Registration For 3GPP
Access
Figure 5.3.2.6.2-1 shows a scenario where the AMF sends a request to the UDM
to update a parameter within the Amf3GppAccessRegistration resource. The
request contains the UE\'s identity (/{ueId}) which shall be a SUPI and an
instruction to modify a parameter (e.g. PEI).
Figure 5.3.2.6.2-1: AMF registration parameter update for 3GPP access
1\. The AMF sends a PATCH request to the resource representing the UE\'s AMF
registration for 3GPP access.
2a. On success, the UDM responds with \"204 No Content\".
2b. If the resource does not exist e.g. the UE is not registered yet, HTTP
status code \"404 Not Found\" should be returned including additional error
information in the response body (in the \"ProblemDetails\" element).
2c. If the resource exists, but the requesting AMF is not the one currently
registered for the UE, HTTP status code \"422 Unprocessable Request\" should
be returned including additional error information in the response body (in
the \"ProblemDetails\" element).
On failure, the appropriate HTTP status code indicating the error shall be
returned and appropriate additional error information should be returned in
the PATCH response body.
##### 5.3.2.6.3 Update A Parameter (e.g. PEI) in the AMF Registration For Non
3GPP Access
Figure 5.3.2.6.3-1 shows a scenario where the AMF sends a request to the UDM
to update a parameter within the AmfNon3GppAccessRegistration resource. The
request contains the UE\'s identity (/{ueId}) which shall be a SUPI and an
instruction to modify a parameter (e.g. PEI).
Figure 5.3.2.6.3-1: AMF registration parameter update for non-3GPP access
1\. The AMF sends a PATCH request to the resource representing the UE\'s AMF
registration for non-3GPP access.
2a. On success, the UDM responds with \"204 No Content\".
2b. If the resource does not exist e.g. the UE is not registered yet, HTTP
status code \"404 Not Found\" should be returned including additional error
information in the response body (in the \"ProblemDetails\" element).
2c. If the resource exists, but the requesting AMF is not the one currently
registered for the UE, HTTP status code \"422 Unprocessable Request\" should
be returned including additional error information in the response body (in
the \"ProblemDetails\" element).
On failure, the appropriate HTTP status code indicating the error shall be
returned and appropriate additional error information should be returned in
the PATCH response body.
#### 5.3.2.7 P-CSCF-RestorationNotification
##### 5.3.2.7.1 General
The following procedure using the P-CSCF-RestorationNotification service
operation is supported:
\- UDM initiated P-CSCF-Restoration
##### 5.3.2.7.2 UDM initiated P-CSCF-Restoration
Figure 5.3.2.7.2-1 shows a scenario where the UDM notifies the registered AMF
or SMF about the need for P-CSCF restoration. The request contains the
callback URI for P-CSCF restoration as received by the UDM during
registration, and P-CSCF Restoration Indication.
Figure 5.3.2.7.2-1: UDM initiated P-CSCF Restoration
1\. The UDM sends a POST request to the callbackReference as provided by the
NF service consumer during the registration.
2\. The AMF or SMF responds with \"204 No Content\".
On failure, the appropriate HTTP status code indicating the error shall be
returned and appropriate additional error information should be returned in
the POST response body.
## 5.4 Nudm_UEAuthentication Service
### 5.4.1 Service Description
See 3GPP TS 23.501 [2] table 7.2.5-1.
### 5.4.2 Service Operations
#### 5.4.2.1 Introduction
For the Nudm_UEAuthentication service the following service operation is
defined:
\- Get
\- ResultConfirmation
The Nudm_UEAuthentication service is used by the AUSF to request the UDM to
select an authentication method, calculate a fresh authentication vector (AV)
if required for the selected method, and provide it to the AUSF by means of
the Get service operation. See 3GPP TS 33.501 [6] clause 14.2.2.
The Nudm_UEAuthentication service is also used by the AUSF to inform the UDM
about the occurrence of a successful or unsuccessful authentication by means
of the ResultConfirmation service operation. See3GPP TS 33.501 [6] clause
14.2.3.
#### 5.4.2.2 Get
##### 5.4.2.2.1 General
The following procedure using the Get service operation is supported:
\- Authentication Information Retrieval
As part of this Authentication Information Retrieval operation, the UDM
authorizes or rejects the subscriber to use the service provided by the
registered NF, based on subscription data (e.g. roaming restrictions).
##### 5.4.2.2.2 Authentication Information Retrieval
Figure 5.4.2.2.2-1 shows a scenario where the NF service consumer (AUSF)
retrieves authentication information for the UE from the UDM (see also 3GPP TS
33.501 [6] clause 6.1.2). The request contains the UE\'s identity (supi or
suci), the serving network name, and may contain resynchronization info.
Figure 5.4.2.2.2-1: NF service consumer requesting authentication information
1\. The NF service consumer sends a POST request (custom method: generate-
auth-data) to the resource representing the UE\'s security information.
2a. The UDM responds with \"200 OK\" with the message body containing the
authentication data information.
2b. If the operation cannot be authorized due to e.g UE does not have required
subcription data, access barring or roaming restrictions, HTTP status code
\"403 Forbidden\" should be returned including additional error information in
the response body (in \"ProblemDetails\" element).
On failure, the appropriate HTTP status code indicating the error shall be
returned and appropriate additional error information should be returned in
the POST response body.
#### 5.4.2.3 ResultConfirmationInform
##### 5.4.2.3.1 General
The following procedure using the ResultConfirmation service operation is
supported:
\- Authentication Confirmation
##### 5.4.2.3.2 Authentication Confirmation
Figure 5.4.2.3.2-1 shows a scenario where the NF service consumer (AUSF)
confirms the occurence of a successful or unsuccessful authentication to the
UDM (see also 3GPP TS 33.501 [6] clause 6.1.4.1a). The request contains the
UE\'s identity (supi), and information about the authentication occurrence
(AuthEvent).
Figure 5.4.2.3.2-1: NF service consumer confirms UE authentication
1\. The NF service consumer sends a POST request to the resource representing
the UE\'s authentication events.
2a. On success, the UDM responds with \"201 Created\".
2b. On failure, the appropriate HTTP status code indicating the error shall be
returned and appropriate additional error information should be returned.
## 5.5 Nudm_EventExposure Service
### 5.5.1 Service Description
See 3GPP TS 23.501 [2] table 7.2.5-1.
### 5.5.2 Service Operations
#### 5.5.2.1 Introduction
For the Nudm_EventExposure service the following service operations are
defined:
\- Subscribe
\- Unsubscribe
\- Notify
\- ModifySubscription
The Nudm_EventExposure service is used by consumer NFs (e.g. NEF) to subscribe
to notifications of event occurrence by means of the Subscribe service
operation. For events that can be detected by the AMF, the UDM makes use of
the appropriate AMF service operation to subscribe on behalf of the consumer
NF (e.g. NEF).
The Nudm_EventExposure service is also used by the consumer NFs (e.g. NEF)
that have previously subscribed to notificatios, to unsubscribe by means of
the Unsubscribe service operation. For events that can be detected by the AMF,
the UDM makes use of the appropriate AMF service operation to unsubscribe on
behalf of the consumer NF (e.g. NEF).
The Nudm_EventExposure service is also used by the subscribed consumer NFs
(e.g. NEF) to get notified by the UDM when a subscribed event occurs at the
UDM by means of the Notify service operation. For subscribed events that can
occur at the AMF, the consumer NF (e.g. NEF) makes use of the corresponding
AMF service operation to get notified by the AMF directly without UDM
involvement.
The Nudm_EventExposure service is also used by the subscribed consumer NFs
(e.g. NEF) to modify an existing subscription by means of the
ModifySubscription service operation.
For details see 3GPP TS 23.502 [3] clause 4.15.
#### 5.5.2.2 Subscribe
##### 5.5.2.2.1 General
The following procedures using the Subscribe service operation are supported:
\- Subscribe to Notification of event occurrence
##### 5.5.2.2.2 Subscription to Notification of event occurrence
Figure 5.5.2.2.2-1 shows a scenario where the NF service consumer sends a
request to the UDM to subscribe to notifications of event occurrence (see also
3GPP TS 23.502 [3] figure 4.15.3.2.2-1 step 1). The request contains a
callback URI, the type of event that is monitored and additional information
e.g. event filters and reporting options.
Figure 5.5.2.2.2-1: NF service consumer subscribes to notifications
1\. The NF service consumer sends a POST request to the parent resource
(collection of subscriptions) (.../{ueIdentity}/ee-subscriptions), to create a
subscription as present in message body. The values ueIdentity shall take are
specified in Table 6.4.3.2.2-1. The request may contain an expiry time,
suggested by the NF Service Consumer, representing the time upto which the
subscription is desired to be kept active and the time after which the
subscribed event(s) shall stop generating notifications.
2a. On success, the UDM responds with \"201 Created\" with the message body
containing a representation of the created subscription. The Location HTTP
header shall contain the URI of the created subscription. If the event
subscription was for a group of UEs:
\- The \"maxNumOfReports\" in the \"reportingOptions\" IE shall be applicable
to each UE in the group;
\- The UDM shall return the number of UEs in that group in the \"numberOfUes\"
IE.
The NF service consumer shall keep track of the maximum number of reports
reported for each UE in the event report and when
\"maxNumOfReports*numberOfUes\" limit is reached, the NF service consumer
shall initiate the unsubscription of the notification towards the UDM (see
clause 5.5.2.3.2).
The response, based on operator policy, may contain the expiry time, as
determined by the UDM, after which the subscription becomes invalid. Once the
subscription expires, if the NF Service Consumer wants to keep receiving
notifications, it shall create a new subscription in the UDM. The NF Service
Producer shall not provide the same expiry time for many subscriptions in
order to avoid all of them expiring and recreating the subscription at the
same time. If the expiry time is not included in the response, the NF Service
Consumer shall not associate an expiry time for the subscription.
2b. If the user does not exist, HTTP status code \"404 Not Found\" shall be
returned including additional error information in the response body (in the
\"ProblemDetails\" element).
2c. If there is no valid subscription data for the UE, i.e. based on the UE\'s
subscription information monitoring of the requested EventType is not allowed,
or the requested EventType is not supported, HTTP status code \"403
Forbidden\" shall be returned including additional error information in the
response body (in the \"ProblemDetails\" element).
On failure, the appropriate HTTP status code indicating the error shall be
returned and appropriate additional error information should be returned in
the POST response body.
##### 5.5.2.2.3 Void
#### 5.5.2.3 Unsubscribe
##### 5.5.2.3.1 General
The following procedures using the Unsubscribe service operation are
supported:
\- Unsubscribe to Notifications of event occurrence
##### 5.5.2.3.2 Unsubscribe to notifications of event occurrence
Figure 5.5.2.3.2-1 shows a scenario where the NF service consumer sends a
request to the UDM to unsubscribe from notifications of event occurrence. The
request contains the URI previously received in the Location HTTP header of
the response to the subscription.
Figure 5.5.2.3.2-1: NF service consumer unsubscribes to notifications
1\. The NF service consumer sends a DELETE request to the resource identified
by the URI previously received during subscription creation.
2a. On success, the UDM responds with \"204 No Content\".
2b. If there is no valid subscription available (e.g. due to an unknown
SubscriptionId value), HTTP status code \"404 Not Found\" shall be returned
including additional error information in the response body (in the
\"ProblemDetails\" element).
On failure, the appropriate HTTP status code indicating the error shall be
returned and appropriate additional error information should be returned in
the DELETE response body.
#### 5.5.2.4 Notify
##### 5.5.2.4.1 General
The following procedures using the Notify service operation are supported:
\- Event Occurrence Notification
##### 5.5.2.4.2 Event Occurrence Notification
Figure 5.5.2.4.2-1 shows a scenario where the UDM notifies the NF service
consumer (that has subscribed to receive such notification) about occurrence
of an event (see also 3GPP TS 23.502 [3] figure 4.15.3.2.2-1 step 4a). The
request contains the callbackReference URI as previously received in the
EeSubscription (see clause 6.4.6.2.2).
Figure 5.5.2.4.2-1: Event Occurrence Notification
1\. The UDM sends a POST request to the callbackReference as provided by the
NF service consumer during the subscription.
2\. The NF Service Consumer responds with \"204 No Content\".
On failure, the appropriate HTTP status code indicating the error shall be
returned and appropriate additional error information should be returned in
the POST response body.
#### 5.5.2.5 ModifySubscription
##### 5.5.2.5.1 General
The following procedures using the ModifySubscription service operation are
supported:
\- Modification of an EE-Subscription to notification of events
##### 5.5.2.5.2 Modification of a subscription
The service operation is invoked by a NF Service Consumer, e.g. NEF, towards
the UDM, when it needs to modify an existing subscription previously created
by itself at the UDM.
The NF Service Consumer shall modify the subscription by using HTTP method
PATCH with the URI of the individual subscription resource (see clause
6.4.3.3) to be modified.
Figure 5.5.2.5.2-1: NF service consumer updates subscription
1\. The NF service consumer (e.g. NEF) shall send a PATCH request to the
resource representing a subscription. The modification may be for the events
subscribed or for updating the event report options.
2a. On success, the request is accepted, the UDM shall respond with \"204 No
Content\".
2b. If the resource does not exist e.g. the subscriptionId cannot be found,
HTTP status code \"404 Not Found\" should be returned including additional
error information in the response body (in the \"ProblemDetails\" element).
2c. If the modification can\'t be accepted, HTTP status code \"403 Forbidden\"
should be returned including additional error information in the response body
(in the \"ProblemDetails\" element).
On failure, the appropriate HTTP status code indicating the error shall be
returned and appropriate additional error information should be returned in
the PATCH response body.
## 5.6 Nudm_ParameterProvision Service
### 5.6.1 Service Description
See 3GPP TS 23.501 [2] table 7.2.5-1.
### 5.6.2 Service Operations
#### 5.6.2.1 Introduction
For the Nudm_ParameterProvision service the following service operations are
defined:
\- Update
The Nudm_ParameterProvision service is used by consumer NFs (e.g. NEF) to
update a UE\'s subscription data by means of the Update service operation.
For details see 3GPP TS 23.502 [3] clause 4.15.6.2.
#### 5.6.2.2 Update
##### 5.6.2.2.1 General
The following procedures using the Update service operation are supported:
\- Subscription data update
##### 5.6.2.2.2 Subscription data update
Figure 5.6.2.2.2-1 shows a scenario where the NF service consumer sends a
request to the UDM to update a UE\'s subscription data (see also 3GPP TS
23.502 [3] figure 4.15.6.2-1 step 2). The request contains the identifier of
the UE\'s parameter provision data ( .../{gpsi}/pp-data) and the modification
instructions.
Figure 5.6.2.2.2-1: NF service consumer updates subscription data
1\. The NF service consumer sends a PATCH request to the resource that
represents a UE\'s modifiable subscription data.
2\. The UDM responds with \"204 No Content\".
On failure, the appropriate HTTP status code indicating the error shall be
returned and appropriate additional error information should be returned in
the PATCH response body.
# 6 API Definitions
## 6.1 Nudm_SubscriberDataManagement Service API
### 6.1.1 API URI
The Nudm_SDM service shall use the Nudm_SDM API.
The request URI used in HTTP request from the NF service consumer towards the
NF service producer shall have the structure defined in clause 4.4.1 of 3GPP
TS 29.501 [5], i.e.:
**{apiRoot}/\ /{apiVersion}/\**
with the following components:
\- The {apiRoot} shall be set as described in 3GPP TS 29.501 [5].
\- The \ shall be \"nudm-sdm\".
\- The {apiVersion} shall be \"v2\".
\- The \ shall be set as described in clause
6.1.3.
### 6.1.2 Usage of HTTP
#### 6.1.2.1 General
HTTP/2, as defined in IETF RFC 7540 [13], shall be used as specified in clause
5 of 3GPP TS 29.500 [4].
HTTP/2 shall be transported as specified in clause 5.3 of 3GPP TS 29.500 [4].
HTTP messages and bodies for the Nudm_SDM service shall comply with the
OpenAPI [14] specification contained in Annex A2.
#### 6.1.2.2 HTTP standard headers
##### 6.1.2.2.1 General
The usage of HTTP standard headers shall be supported as specified in clause
5.2.2 of 3GPP TS 29.500 [4].
##### 6.1.2.2.2 Content type
The following content types shall be supported:
JSON, as defined in IETF RFC 8259 [15], signalled by the content type
\"application/json\".
The Problem Details JSON Object (IETF RFC 7807 [16] signalled by the content
type \"application/problem+json\"
JSON Merge Patch, as defined in IETF RFC 7396 [17], signalled by the content
type \"application/merge-patch+json\"
##### 6.1.2.2.3 Cache-Control
As described in IETF RFC 7234 [26] clause 5.2, a \"Cache-Control\" header
should be included in HTTP responses except for non-cacheable resources (e.g.
UeContextInSmsfData). If it is included, it shall contain a \"max-age\" value,
indicating the amount of time in seconds after which the received response is
considered stale.
The \"max-age\" value shall be configurable by operator policy.
##### 6.1.2.2.4 ETag
As described in IETF RFC 7232 [25] clause 2.32, an \"ETag\" (entity-tag)
header should be included in HTTP responses except for non-cacheable resources
(e.g. UeContextInSmfData) to allow an NF Service Consumer performing a
conditional request with \"If-None-Match\" header. If it is included, it shall
contain a server-generated strong validator, that allows further matching of
this value (included in subsequent client requests) with a given resource
representation stored in the server or in a cache.
##### 6.1.2.2.5 If-None-Match
As described in IETF RFC 7232 [25] clause 3.2, an NF Service Consumer may
issue conditional GET request towards UDM by including an \"If-None-Match\"
header in HTTP requests containing one or several entity tags received in
previous responses for the same resource.
##### 6.1.2.2.6 Last-Modified
As described in IETF RFC 7232 [25] clause 2.2, a \"Last-Modified\" header
should be included in HTTP responses except for non-cacheable resources (e.g.
SorAck) to allow an NF Service Consumer performing a conditional request with
\"If-Modified-Since\" header.
##### 6.1.2.2.7 If-Modified-Since
As described in IETF RFC 7232 [25] clause 3.3, an NF Service Consumer may
issue conditional GET request towards UDM, by including an \"If-Modified-
Since\" header in HTTP requests.
##### 6.1.2.2.8 When to Use Entity-Tags and Last-Modified Dates
Both \"ETag\" and \"Last-Modified\" headers should be sent in the same HTTP
response as stated in IETF RFC 7232 [25] clause 2.4.
NOTE: \"ETag\" is a stronger validator than \"Last-Modified\" and is
preferred.
If the NF Service Producer included an \"ETag\" header with the resource then
a conditional request for this resource shall be performed with the \"If-None-
Match\" header.
#### 6.1.2.3 HTTP custom headers
##### 6.1.2.3.1 General
The usage of HTTP custom headers shall be supported as specified in clause
5.2.3 of 3GPP TS 29.500 [4].
### 6.1.3 Resources
#### 6.1.3.1 Overview
Figure 6.1.3.1-1: Resource URI structure of the nudm-sdm API
Table 6.1.3.1-1 provides an overview of the resources and applicable HTTP
methods.
Table 6.1.3.1-1: Resources and methods overview
+----------------+----------------+----------------+----------------+ | Resource name\ | Resource URI | HTTP method or | Description | | (Archetype) | | custom | | | | | operation | | +================+================+================+================+ | Supi\ | /{supi} | GET | Retrieve UE\'s | | (Document) | | | subscription | | | | | data | +----------------+----------------+----------------+----------------+ | Nssai\ | /{supi}/nssai | GET | Retrieve the | | (Document) | | | UE\'s | | | | | subscribed | | | | | Network Slice | | | | | Selection | | | | | Assistance | | | | | Information | +----------------+----------------+----------------+----------------+ | Access | / | GET | Retrieve the | | AndMobilitySub | {supi}/am-data | | UE\'s | | scriptionData\ | | | subscribed | | (Document) | | | Access and | | | | | Mobility Data | +----------------+----------------+----------------+----------------+ | SorAck\ | /{supi}/a | PUT | Providing | | (Document) | m-data/sor-ack | | a | | | | | cknowledgement | | | | | of Steering of | | | | | Roaming | +----------------+----------------+----------------+----------------+ | UpuAck\ | /{supi}/a | PUT | Providing | | (Document) | m-data/upu-ack | | a | | | | | cknowledgement | | | | | of UE | | | | | parameters | | | | | update | +----------------+----------------+----------------+----------------+ | S | /{supi}/s | GET | Retrieve the | | mfSelectionSub | mf-select-data | | UE\'s | | scriptionData\ | | | subscribed SMF | | (Document) | | | Selection Data | +----------------+----------------+----------------+----------------+ | UeCon | /{ | GET | Retrieve the | | textInSmfData\ | supi}/ue-conte | | UE\'s Context | | (Document) | xt-in-smf-data | | in SMF Data | +----------------+----------------+----------------+----------------+ | Sessio | / | GET | Retrieve the | | nManagementSub | {supi}/sm-data | | UE\'s session | | scriptionData\ | | | management | | (Document) | | | subscription | | | | | data | +----------------+----------------+----------------+----------------+ | SMSSub | /{ | GET | Retrieve the | | scriptionData\ | supi}/sms-data | | UE\'s SMS | | (Document) | | | subscription | | | | | data | +----------------+----------------+----------------+----------------+ | SM | /{supi | GET | Retrieve the | | SManagementSub | }/sms-mng-data | | UE\'s SMS | | scriptionData\ | | | management | | (Document) | | | subscription | | | | | data | +----------------+----------------+----------------+----------------+ | Sdm | /{supi}/sdm | POST | Create a | | Subscriptions\ | -subscriptions | | subscription | | (Collection) | | | | +----------------+----------------+----------------+----------------+ | Individual | /{supi}/sdm-su | DELETE | Delete the | | subscription\ | bscriptions/{s | | subscription | | (Document) | ubscriptionId} | | identified by | | | | | {su | | | | | bscriptionId}, | | | | | i.e. | | | | | unsubscribe | +----------------+----------------+----------------+----------------+ | | | PATCH | Modify the | | | | | sd | | | | | m-subscription | | | | | identified by | | | | | {s | | | | | ubscriptionId} | +----------------+----------------+----------------+----------------+ | IdTran | / | GET | Retrieve a | | slationResult\ | {gpsi}/id-tran | | UE\'s SUPI | | (Document) | slation-result | | | +----------------+----------------+----------------+----------------+ | UeCont | /{s | GET | Retrieve the | | extInSmsfData\ | upi}/ue-contex | | UE\'s Context | | (Document) | t-in-smsf-data | | in SMSF Data | +----------------+----------------+----------------+----------------+ | TraceData | /{su | GET | Retrieve Trace | | | pi}/trace-data | | Configuration | | (Document) | | | Data | +----------------+----------------+----------------+----------------+ | SharedData\ | /shared-data | GET | Retrieve | | (Collection) | | | shared data | +----------------+----------------+----------------+----------------+ | SharedData | /shared-data | POST | Create a | | Subscriptions\ | -subscriptions | | subscription | | (Collection) | | | | +----------------+----------------+----------------+----------------+ | Shared | / | DELETE | Delete the | | DataIndividual | shared-data-su | | subscription | | subscription\ | bscriptions/{s | | identified by | | (Document) | ubscriptionId} | | {su | | | | | bscriptionId}, | | | | | i.e. | | | | | unsubscribe | +----------------+----------------+----------------+----------------+ | | | PATCH | Modify the | | | | | shared data | | | | | subscription | | | | | identified by | | | | | {s | | | | | ubscriptionId} | +----------------+----------------+----------------+----------------+ | Gr | / | GET | Retrieve group | | oupIdentifiers | group-data/gro | | identifiers | | | up-identifiers | | | | (Document) | | | | +----------------+----------------+----------------+----------------+ | SnssaisAck\ | /{supi}/am | PUT | Providing | | (Document) | -data/subscrib | | a | | | ed-snssais-ack | | cknowledgement | | | | | of UE for | | | | | subscribed | | | | | S-NSSAIs | +----------------+----------------+----------------+----------------+
#### 6.1.3.2 Resource: Nssai
##### 6.1.3.2.1 Description
This resource represents the subscribed Nssai for a SUPI. It is queried by the
AMF before registering, and is used to assist network slice selection. See
5.2.2.2.2 and 3GPP TS 23.501 [2] clause 5.15.3.
##### 6.1.3.2.2 Resource Definition
Resource URI: {apiRoot}/nudm-sdm/{apiVersion}/{supi}/nssai
This resource shall support the resource URI variables defined in table
6.1.3.2.2-1.
Table 6.1.3.2.2-1: Resource URI variables for this resource
* * *
Name Definition
* * *
apiRoot See clause 6.1.1
apiVersion See clause 6.1.1
supi Represents the Subscription Permanent Identifier (see 3GPP TS 23.501 [2]
clause 5.9.2)\ pattern: \"(imsi-[0-9]{5,15}\|nai-.+\|.+)\"
* * *
##### 6.1.3.2.3 Resource Standard Methods
###### 6.1.3.2.3.1 GET
This method shall support the URI query parameters specified in table
6.1.3.2.3.1-1.
Table 6.1.3.2.3.1-1: URI query parameters supported by the GET method on this
resource
* * *
Name Data type P Cardinality Description supported-features SupportedFeatures
O 0..1 see 3GPP TS 29.500 [4] clause 6.6 plmn-id PlmnId O 0..1 PLMN identity
of the PLMN serving the UE
* * *
If \"plmn-id\" is included, UDM shall return the Subscribed S-NSSAIs which the
UE is subscribed to use in the PLMN identified by \"plmn-id\".
If \"plmn-id\" is not included, UDM shall return the Subscribed S-NSSAIs for
HPLMN.
This method shall support the request data structures specified in table
6.1.3.2.3.1-2 and the response data structures and response codes specified in
table 6.1.3.2.3.1-3.
Table 6.1.3.2.3.1-2: Data structures supported by the GET Request Body on this
resource
* * *
Data type P Cardinality Description n/a
* * *
Table 6.1.3.2.3.1-3: Data structures supported by the GET Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | Nssai | M | 1 | 200 OK | Upon success, | | | | | | a response | | | | | | body | | | | | | containing | | | | | | the NSSAI | | | | | | shall be | | | | | | returned. | +---------------+---+-------------+---------------+---------------+ | P | M | 1 | 404 Not Found | The \"cause\" | | roblemDetails | | | | attribute | | | | | | shall be set | | | | | | to one of the | | | | | | following | | | | | | application | | | | | | errors: | | | | | | | | | | | | - | | | | | | USE | | | | | | R_NOT_FOUND | | | | | | | | | | | | - | | | | | | DAT | | | | | | A_NOT_FOUND | +---------------+---+-------------+---------------+---------------+ | NOTE: In | | | | | | addition | | | | | | common data | | | | | | structures as | | | | | | listed in | | | | | | table 6.1.7-1 | | | | | | are | | | | | | supported. | | | | | +---------------+---+-------------+---------------+---------------+
#### 6.1.3.3 Resource: SdmSubscriptions
##### 6.1.3.3.1 Description
This resource is used to represent subscriptions to notifications.
##### 6.1.3.3.2 Resource Definition
Resource URI: {apiRoot}/nudm-sdm/{apiVersion}/{supi}/sdm-subscriptions
This resource shall support the resource URI variables defined in table
6.1.3.3.2-1.
Table 6.1.3.3.2-1: Resource URI variables for this resource
* * *
Name Definition
* * *
apiRoot See clause 6.1.1
apiVersion See clause 6.1.1
supi Represents the Subscription Permanent Identifier (see 3GPP TS 23.501 [2]
clause 5.9.2)\ pattern: \"(imsi-[0-9]{5,15}\|nai-.+\|.+)\"
* * *
##### 6.1.3.3.3 Resource Standard Methods
###### 6.1.3.3.3.1 POST
This method shall support the URI query parameters specified in table
6.1.3.3.3.1-1.
Table 6.1.3.3.3.1-1: URI query parameters supported by the POST method on this
resource
* * *
Name Data type P Cardinality Description n/a
* * *
This method shall support the request data structures specified in table
6.1.3.3.3.1-2 and the response data structures and response codes specified in
table 6.1.3.3.3.1-3.
Table 6.1.3.3.3.1-2: Data structures supported by the POST Request Body on
this resource
* * *
Data type P Cardinality Description SdmSubscription M 1 The subscription that
is to be created.
* * *
Table 6.1.3.3.3.1-3: Data structures supported by the POST Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | Sd | M | 1 | 201 Created | Upon success, | | mSubscription | | | | a response | | | | | | body | | | | | | containing a | | | | | | r | | | | | | epresentation | | | | | | of the | | | | | | created | | | | | | Individual | | | | | | subscription | | | | | | resource | | | | | | shall be | | | | | | returned. | | | | | | | | | | | | The HTTP | | | | | | response | | | | | | shall include | | | | | | a | | | | | | \"Location\" | | | | | | HTTP header | | | | | | that contains | | | | | | the resource | | | | | | URI of the | | | | | | created | | | | | | resource. | | | | | | When | | | | | | stateless UDM | | | | | | is deployed, | | | | | | the stateless | | | | | | UDM may use | | | | | | an FQDN | | | | | | identifying | | | | | | the UDM group | | | | | | to which the | | | | | | UDM belongs | | | | | | as the host | | | | | | part of the | | | | | | resource URI. | +---------------+---+-------------+---------------+---------------+ | P | M | 1 | 404 Not Found | The \"cause\" | | roblemDetails | | | | attribute | | | | | | shall be set | | | | | | to the | | | | | | following | | | | | | application | | | | | | error: | | | | | | | | | | | | - | | | | | | USE | | | | | | R_NOT_FOUND | +---------------+---+-------------+---------------+---------------+ | P | M | 1 | 501 Not | The \"cause\" | | roblemDetails | | | Implemented | attribute | | | | | | shall be set | | | | | | to the | | | | | | following | | | | | | application | | | | | | error: | | | | | | | | | | | | - | | | | | | UNSUPPORTED_ | | | | | | RESOURCE_URI | +---------------+---+-------------+---------------+---------------+ | NOTE: In | | | | | | addition | | | | | | common data | | | | | | structures as | | | | | | listed in | | | | | | table 6.1.7-1 | | | | | | are | | | | | | supported. | | | | | +---------------+---+-------------+---------------+---------------+
NOTE: In the scenario of stateless UDM deployment, it is assumed that
stateless UDMs are organized into several UDM groups, and for each UDM group
an FQDN can be allocated.
#### 6.1.3.4 Resource: Individual subscription
##### 6.1.3.4.1 Description
This resource is used to represent an individual subscription to
notifications.
##### 6.1.3.4.2 Resource Definition
Resource URI: {apiRoot}/nudm-sdm/{apiVersion}/{supi}/sdm-
subscriptions/{subscriptionId}
This resource shall support the resource URI variables defined in table
6.1.3.4.2-1.
Table 6.1.3.4.2-1: Resource URI variables for this resource
* * *
Name Definition
* * *
apiRoot See clause 6.1.1
apiVersion See clause 6.1.1
supi Represents the Subscription Permanent Identifier (see 3GPP TS 23.501 [2]
clause 5.9.2)\ pattern: \"(imsi-[0-9]{5,15}\|nai-.+\|.+)\"
subscriptionId The subscriptionId identifies an individual subscription to
notifications. The value is allocated by the UDM during creation of the
Subscription resource.
* * *
##### 6.1.3.4.3 Resource Standard Methods
###### 6.1.3.4.3.1 DELETE
This method shall support the URI query parameters specified in table
6.1.3.4.3.1-1.
Table 6.1.3.4.3.1-1: URI query parameters supported by the DELETE method on
this resource
* * *
Name Data type P Cardinality Description n/a
* * *
This method shall support the request data structures specified in table
6.1.3.4.3.1-2 and the response data structures and response codes specified in
table 6.1.3.4.3.1-3.
Table 6.1.3.4.3.1-2: Data structures supported by the Delete Request Body on
this resource
* * *
Data type P Cardinality Description n/a The request body shall be empty.
* * *
Table 6.1.3.4.3.1-3: Data structures supported by the DELETE Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | n/a | | | 204 No | Upon success, | | | | | Content | an empty | | | | | | response body | | | | | | shall be | | | | | | returned. | +---------------+---+-------------+---------------+---------------+ | P | M | 1 | 404 Not Found | The \"cause\" | | roblemDetails | | | | attribute | | | | | | shall be set | | | | | | to one of the | | | | | | following | | | | | | application | | | | | | errors: | | | | | | | | | | | | - | | | | | | USE | | | | | | R_NOT_FOUND | | | | | | | | | | | | - | | | | | | CONTEX | | | | | | T_NOT_FOUND | +---------------+---+-------------+---------------+---------------+ | NOTE: In | | | | | | addition | | | | | | common data | | | | | | structures as | | | | | | listed in | | | | | | table 6.1.7-1 | | | | | | are | | | | | | supported. | | | | | +---------------+---+-------------+---------------+---------------+
###### 6.1.3.4.3.2 PATCH
This method shall support the URI query parameters specified in table
6.1.3.4.3.2-1.
Table 6.1.3.4.3.2-1: URI query parameters supported by the PATCH method on
this resource
* * *
Name Data type P Cardinality Description n/a
* * *
This method shall support the request data structures specified in table
6.1.3.4.3.2-2 and the response data structures and response codes specified in
table 6.1.3.4.3.2-3.
Table 6.1.3.4.3.2-2: Data structures supported by the PATCH Request Body on
this resource
* * *
Data type P Cardinality Description SdmSubsModification M 1 The modification
Instruction
* * *
Table 6.1.3.4.3.2-3: Data structures supported by the PATCH Response Body on
this resource
+-----------------+---+-------------+----------+-----------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +-----------------+---+-------------+----------+-----------------+ | SdmSubscription | M | 1 | 200 OK | Upon success, | | | | | | the modified | | | | | | sdmSubscription | | | | | | shall be | | | | | | returned. | +-----------------+---+-------------+----------+-----------------+ | NOTE: In | | | | | | addition common | | | | | | data structures | | | | | | as listed in | | | | | | table 6.1.7-1 | | | | | | are supported. | | | | | +-----------------+---+-------------+----------+-----------------+
#### 6.1.3.5 Resource: AccessAndMobilitySubscriptionData
##### 6.1.3.5.1 Description
This resource represents the subscribed Access and Mobility Data for a SUPI.
It is queried by the AMF after registering.
##### 6.1.3.5.2 Resource Definition
Resource URI: {apiRoot}/nudm-sdm/{apiVersion}/{supi}/am-data
This resource shall support the resource URI variables defined in table
6.1.3.5.2-1.
Table 6.1.3.5.2-1: Resource URI variables for this resource
* * *
Name Definition
* * *
apiRoot See clause 6.1.1
apiVersion See clause 6.1.1
supi Represents the Subscription Permanent Identifier (see 3GPP TS 23.501 [2]
clause 5.9.2)\ pattern: \"(imsi-[0-9]{5,15}\|nai-.+\|.+)\"
* * *
##### 6.1.3.5.3 Resource Standard Methods
###### 6.1.3.5.3.1 GET
This method shall support the URI query parameters specified in table
6.1.3.5.3.1-1.
Table 6.1.3.5.3.1-1: URI query parameters supported by the GET method on this
resource
* * *
Name Data type P Cardinality Description supported-features SupportedFeatures
O 0..1 see 3GPP TS 29.500 [4] clause 6.6 plmn-id PlmnId O 0..1 PLMN identity
of the PLMN serving the UE
* * *
If \"plmn-id\" is included, UDM shall return the Access and Mobility Data for
the SUPI associated to the PLMN identified by \"plmn-id\".
If \"plmn-id\" is not included, UDM shall return the Access and Mobility Data
for the SUPI associated to the HPLMN.
This method shall support the request data structures specified in table
6.1.3.5.3.1-2 and the response data structures and response codes specified in
table 6.1.3.5.3.1-3.
Table 6.1.3.5.3.1-2: Data structures supported by the GET Request Body on this
resource
* * *
Data type P Cardinality Description n/a
* * *
Table 6.1.3.5.3.1-3: Data structures supported by the GET Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | AccessA | M | 1 | 200 OK | Upon success, | | ndMobilitySub | | | | a response | | scriptionData | | | | body | | | | | | containing | | | | | | the Access | | | | | | and Mobility | | | | | | Subscription | | | | | | Data shall be | | | | | | returned. | +---------------+---+-------------+---------------+---------------+ | P | M | 1 | 404 Not Found | The \"cause\" | | roblemDetails | | | | attribute | | | | | | shall be set | | | | | | to one of the | | | | | | following | | | | | | application | | | | | | errors: | | | | | | | | | | | | - | | | | | | USE | | | | | | R_NOT_FOUND | | | | | | | | | | | | - | | | | | | DAT | | | | | | A_NOT_FOUND | +---------------+---+-------------+---------------+---------------+ | NOTE: In | | | | | | addition | | | | | | common data | | | | | | structures as | | | | | | listed in | | | | | | table 6.1.7-1 | | | | | | are | | | | | | supported. | | | | | +---------------+---+-------------+---------------+---------------+
#### 6.1.3.6 Resource: SmfSelectionSubscriptionData
##### 6.1.3.6.1 Description
This resource represents the subscribed SMF Selection Data for a SUPI. It is
queried by the AMF after registering.
##### 6.1.3.6.2 Resource Definition
Resource URI: {apiRoot}/nudm-sdm/{apiVersion}/{supi}/smf-select-data
This resource shall support the resource URI variables defined in table
6.1.3.6.2-1.
Table 6.1.3.6.2-1: Resource URI variables for this resource
* * *
Name Definition
* * *
apiRoot See clause 6.1.1
apiVersion See clause 6.1.1
supi Represents the Subscription Permanent Identifier (see 3GPP TS 23.501 [2]
clause 5.9.2)\ pattern: \"(imsi-[0-9]{5,15}\|nai-.+\|.+)\"
* * *
##### 6.1.3.6.3 Resource Standard Methods
###### 6.1.3.6.3.1 GET
This method shall support the URI query parameters specified in table
6.1.3.6.3.1-1.
Table 6.1.3.6.3.1-1: URI query parameters supported by the GET method on this
resource
* * *
Name Data type P Cardinality Description supported-features SupportedFeatures
O 0..1 see 3GPP TS 29.500 [4] clause 6.6 plmn-id PlmnId O 0..1 PLMN identity
of the PLMN serving the UE
* * *
If \"plmn-id\" is included, UDM shall return the SMF Selection Subscription
Data for the SUPI associated to the PLMN identified by \"plmn-id\".
If \"plmn-id\" is not included, UDM shall return the SMF Selection
Subscription Data for the SUPI associated to the HPLMN.
This method shall support the request data structures specified in table
6.1.3.6.3.1-2 and the response data structures and response codes specified in
table 6.1.3.6.3.1-3.
Table 6.1.3.6.3.1-2: Data structures supported by the GET Request Body on this
resource
* * *
Data type P Cardinality Description n/a
* * *
Table 6.1.3.6.3.1-3: Data structures supported by the GET Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | Sm | M | 1 | 200 OK | Upon success, | | fSelectionSub | | | | a response | | scriptionData | | | | body | | | | | | containing | | | | | | the SMF | | | | | | Selection | | | | | | Subscription | | | | | | Data shall be | | | | | | returned. | +---------------+---+-------------+---------------+---------------+ | P | M | 1 | 404 Not Found | The \"cause\" | | roblemDetails | | | | attribute | | | | | | shall be set | | | | | | to one of the | | | | | | following | | | | | | application | | | | | | errors: | | | | | | | | | | | | - | | | | | | USE | | | | | | R_NOT_FOUND | | | | | | | | | | | | - | | | | | | DAT | | | | | | A_NOT_FOUND | +---------------+---+-------------+---------------+---------------+ | NOTE: In | | | | | | addition | | | | | | common data | | | | | | structures as | | | | | | listed in | | | | | | table 6.1.7-1 | | | | | | are | | | | | | supported. | | | | | +---------------+---+-------------+---------------+---------------+
#### 6.1.3.7 Resource: UeContextInSmfData
##### 6.1.3.7.1 Description
This resource represents the allocated SMFs for a SUPI. It is queried by the
AMF after registering.
##### 6.1.3.7.2 Resource Definition
Resource URI: {apiRoot}/nudm-sdm/{apiVersion}/{supi}/ue-context-in-smf-data
This resource shall support the resource URI variables defined in table
6.1.3.7.2-1.
Table 6.1.3.7.2-1: Resource URI variables for this resource
* * *
Name Definition
* * *
apiRoot See clause 6.1.1
apiVersion See clause 6.1.1
supi Represents the Subscription Permanent Identifier (see 3GPP TS 23.501 [2]
clause 5.9.2)\ pattern: \"(imsi-[0-9]{5,15}\|nai-.+\|.+)\"
* * *
##### 6.1.3.7.3 Resource Standard Methods
###### 6.1.3.7.3.1 GET
This method shall support the URI query parameters specified in table
6.1.3.7.3.1-1.
Table 6.1.3.7.3.1-1: URI query parameters supported by the GET method on this
resource
* * *
Name Data type P Cardinality Description supported-features SupportedFeatures
O 0..1 see 3GPP TS 29.500 [4] clause 6.6
* * *
This method shall support the request data structures specified in table
6.1.3.7.3.1-2 and the response data structures and response codes specified in
table 6.1.3.7.3.1-3.
Table 6.1.3.7.3.1-2: Data structures supported by the GET Request Body on this
resource
* * *
Data type P Cardinality Description n/a
* * *
Table 6.1.3.7.3.1-3: Data structures supported by the GET Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | UeCon | M | 1 | 200 OK | Upon success, | | textInSmfData | | | | a response | | | | | | body | | | | | | containing | | | | | | the | | | | | | UeCon | | | | | | textInSmfData | | | | | | shall be | | | | | | returned. | +---------------+---+-------------+---------------+---------------+ | P | M | 1 | 404 Not Found | The \"cause\" | | roblemDetails | | | | attribute | | | | | | shall be set | | | | | | to one of the | | | | | | following | | | | | | application | | | | | | errors: | | | | | | | | | | | | - | | | | | | USE | | | | | | R_NOT_FOUND | | | | | | | | | | | | - | | | | | | DAT | | | | | | A_NOT_FOUND | +---------------+---+-------------+---------------+---------------+ | NOTE: In | | | | | | addition | | | | | | common data | | | | | | structures as | | | | | | listed in | | | | | | table 6.1.7-1 | | | | | | are | | | | | | supported. | | | | | +---------------+---+-------------+---------------+---------------+
#### 6.1.3.8 Resource: SessionManagementSubscriptionData
##### 6.1.3.8.1 Description
This resource represents the Session Management subscription data for a SUPI.
It is queried by the SMF during session setup, using query parameters
representing the selected network slice and the DNN. The SMF is responsible
for enforcing the user session management subscription data.
##### 6.1.3.8.2 Resource Definition
Resource URI: {apiRoot}/nudm-sdm/{apiVersion}/{supi}/sm-data
This resource shall support the resource URI variables defined in table
6.1.3.8.2-1.
Table 6.1.3.8.2-1: Resource URI variables for this resource
* * *
Name Definition
* * *
apiRoot See clause 6.1.1
apiVersion See clause 6.1.1
supi Represents the Subscription Permanent Identifier (see 3GPP TS 23.501 [2]
clause 5.9.2)\ pattern: \"(imsi-[0-9]{5,15}\|nai-.+\|.+)\"
* * *
##### 6.1.3.8.3 Resource Standard Methods
###### 6.1.3.8.3.1 GET
This method shall support the URI query parameters specified in table
6.1.3.8.3.1-1.
Table 6.1.3.8.3.1-1: URI query parameters supported by the GET method on this
resource
* * *
Name Data type P Cardinality Description supported-features SupportedFeatures
O 0..1 see 3GPP TS 29.500 [4] clause 6.6 single-nssai Snssai O 0..1  
dnn Dnn O 0..1  
plmn-id PlmnId O 0..1 PLMN identity of the PLMN serving the UE
* * *
JSON objects (such as Snssai, PlmnId...) shall be included directly as part of
the URI query parameters by specifying in the OpenAPI file that the \"Content-
Type\" of such parameters is \"application/json\".
If \"singleNssai\" is not included, and \"dnn\" is not included, UDM shall
return all DNN configurations for all network slice(s).
If \"singleNssai\" is included, and \"dnn\" is not included, UDM shall return
all DNN configurations for the requested network slice identified by
\"singleNssai\".
If \"singleNssai\" is not included, and \"dnn\" is included, UDM shall return
all DNN configurations identified by \"dnn\" for all network slices where such
DNN is available.
If \"singleNssai\" is included, and \"dnn\" is included, UDM shall return the
DNN configuration identified by \"dnn\", if such DNN is available in the
network slice identified by \"singleNssai\".
For all the combinations about the inclusion of \"dnn\" and \"singleNssai\" as
URI query parameters, if \"plmn-id\" is included, UDM shall return the
configurations for the DNN and network slices associated to the PLMN
identified by \"plmn-id\". Otherwise (i.e. if \"plmn-id\" is not included),
UDM shall return the configurations for the DNN and network slices associated
to the HPLMN.
This method shall support the request data structures specified in table
6.1.3.8.3.1-2 and the response data structures and response codes specified in
table 6.1.3.8.3.1-3.
Table 6.1.3.8.3.1-2: Data structures supported by the GET Request Body on this
resource
* * *
Data type P Cardinality Description n/a
* * *
Table 6.1.3.8.3.1-3: Data structures supported by the GET Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | a | M | 1..N | 200 OK | Upon success, | | rray(SessionM | | | | a response | | anagementSubs | | | | body | | criptionData) | | | | containing | | | | | | the Session | | | | | | Management | | | | | | Subscription | | | | | | data shall be | | | | | | returned. | +---------------+---+-------------+---------------+---------------+ | P | M | 1 | 404 Not Found | The \"cause\" | | roblemDetails | | | | attribute | | | | | | shall be set | | | | | | to one of the | | | | | | following | | | | | | application | | | | | | errors: | | | | | | | | | | | | - | | | | | | USE | | | | | | R_NOT_FOUND | | | | | | | | | | | | - | | | | | | DAT | | | | | | A_NOT_FOUND | +---------------+---+-------------+---------------+---------------+ | NOTE: In | | | | | | addition | | | | | | common data | | | | | | structures as | | | | | | listed in | | | | | | table 6.1.7-1 | | | | | | are | | | | | | supported. | | | | | +---------------+---+-------------+---------------+---------------+
#### 6.1.3.9 Resource: SMSSubscriptionData
##### 6.1.3.9.1 Description
This resource represents the subscribed SMS Subscription Data for a SUPI. It
is queried by the AMF after registering.
##### 6.1.3.9.2 Resource Definition
Resource URI: {apiRoot}/nudm-sdm/{apiVersion}/{supi}/sms-data
This resource shall support the resource URI variables defined in table
6.1.3.9.2-1.
Table 6.1.3.9.2-1: Resource URI variables for this resource
* * *
Name Definition
* * *
apiRoot See clause 6.1.1
apiVersion See clause 6.1.1
supi Represents the Subscription Permanent Identifier (see 3GPP TS 23.501 [2]
clause 5.9.2)\ pattern: \"(imsi-[0-9]{5,15}\|nai-.+\|.+)\"
* * *
##### 6.1.3.9.3 Resource Standard Methods
###### 6.1.3.9.3.1 GET
This method shall support the URI query parameters specified in table
6.1.3.9.3.1-1.
Table 6.1.3.9.3.1-1: URI query parameters supported by the GET method on this
resource
* * *
Name Data type P Cardinality Description plmn-id PlmnId C 0..1 if absent,
H-PLMN ID is used as default supported-features SupportedFeatures O 0..1 see
3GPP TS 29.500 [4] clause 6.6
* * *
This method shall support the request data structures specified in table
6.1.3.9.3.1-2 and the response data structures and response codes specified in
table 6.1.3.9.3.1-3.
Table 6.1.3.9.3.1-2: Data structures supported by the GET Request Body on this
resource
* * *
Data type P Cardinality Description n/a
* * *
Table 6.1.3.9.3.1-3: Data structures supported by the GET Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | SmsSub | M | 1 | 200 OK | Upon success, | | scriptionData | | | | a response | | | | | | body | | | | | | containing | | | | | | the SMS | | | | | | Subscription | | | | | | Data shall be | | | | | | returned. | +---------------+---+-------------+---------------+---------------+ | P | M | 1 | 404 Not Found | The \"cause\" | | roblemDetails | | | | attribute | | | | | | shall be set | | | | | | to one of the | | | | | | following | | | | | | application | | | | | | errors: | | | | | | | | | | | | - | | | | | | USE | | | | | | R_NOT_FOUND | | | | | | | | | | | | - | | | | | | DAT | | | | | | A_NOT_FOUND | +---------------+---+-------------+---------------+---------------+ | NOTE: In | | | | | | addition | | | | | | common data | | | | | | structures as | | | | | | listed in | | | | | | table 6.1.7-1 | | | | | | are | | | | | | supported. | | | | | +---------------+---+-------------+---------------+---------------+
#### 6.1.3.10 Resource: SMSManagementSubscriptionData
##### 6.1.3.10.1 Description
This resource represents the subscribed SMS Management Data for a SUPI. It is
queried by the SMSF after registering.
##### 6.1.3.10.2 Resource Definition
Resource URI: {apiRoot}/nudm-sdm/{apiVersion}/{supi}/sms-mng-data
This resource shall support the resource URI variables defined in table
6.1.3.10.2-1.
Table 6.1.3.10.2-1: Resource URI variables for this resource
* * *
Name Definition
* * *
apiRoot See clause 6.1.1
apiVersion See clause 6.1.1
supi Represents the Subscription Permanent Identifier (see 3GPP TS 23.501 [2]
clause 5.9.2)\ pattern: \"(imsi-[0-9]{5,15}\|nai-.+\|.+)\"
* * *
##### 6.1.3.10.3 Resource Standard Methods
###### 6.1.3.10.3.1 GET
This method shall support the URI query parameters specified in table
6.1.3.10.3.1-1.
Table 6.1.3.10.3.1-1: URI query parameters supported by the GET method on this
resource
* * *
Name Data type P Cardinality Description plmn-id PlmnId C 0..1 if absent,
H-PLMN ID is used as default supported-features SupportedFeatures O 0..1 see
3GPP TS 29.500 [4] clause 6.6
* * *
This method shall support the request data structures specified in table
6.1.3.10.3.1-2 and the response data structures and response codes specified
in table 6.1.3.10.3.1-3.
Table 6.1.3.10.3.1-2: Data structures supported by the GET Request Body on
this resource
* * *
Data type P Cardinality Description n/a
* * *
Table 6.1.3.10.3.1-3: Data structures supported by the GET Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | Sms | M | 1 | 200 OK | Upon success, | | ManagementSub | | | | a response | | scriptionData | | | | body | | | | | | containing | | | | | | the SMS | | | | | | Management | | | | | | Subscription | | | | | | Data shall be | | | | | | returned. | +---------------+---+-------------+---------------+---------------+ | P | M | 1 | 404 Not Found | The \"cause\" | | roblemDetails | | | | attribute | | | | | | shall be set | | | | | | to one of the | | | | | | following | | | | | | application | | | | | | errors: | | | | | | | | | | | | - | | | | | | USE | | | | | | R_NOT_FOUND | | | | | | | | | | | | - | | | | | | DAT | | | | | | A_NOT_FOUND | +---------------+---+-------------+---------------+---------------+ | NOTE: In | | | | | | addition | | | | | | common data | | | | | | structures as | | | | | | listed in | | | | | | table 6.1.7-1 | | | | | | are | | | | | | supported. | | | | | +---------------+---+-------------+---------------+---------------+
#### 6.1.3.11 Resource: Supi
##### 6.1.3.11.1 Description
This resource represents the subscription profile of the subscriber identified
by a given SUPI.
##### 6.1.3.11.2 Resource Definition
Resource URI: {apiRoot}/nudm-sdm/{apiVersion}/{supi}
This resource shall support the resource URI variables defined in table
6.1.3.11.2-1.
Table 6.1.3.11.2-1: Resource URI variables for this resource
* * *
Name Definition
* * *
apiRoot See clause 6.1.1
apiVersion See clause 6.1.1
supi Represents the Subscription Permanent Identifier (see 3GPP TS 23.501 [2]
clause 5.9.2)\ pattern: \"(imsi-[0-9]{5,15}\|nai-.+)\"
* * *
##### 6.1.3.11.3 Resource Standard Methods
###### 6.1.3.11.3.1 GET
This method shall support the URI query parameters specified in table
6.1.3.11.3.1-1.
NOTE: The retrieval of these data sets can also be achieved by sending
individual GET requests to the corresponding sub-resources under the {supi}
resource. When multiple data sets need to be retrieved by the NF Service
consumer, it is recommended to use a single GET request with query parameters
rather than issuing multiple GET requests.
Table 6.1.3.11.3.1-1: URI query parameters supported by the GET method on this
resource
* * *
Name Data type P Cardinality Description dataset-names array(DataSetName) M
2..N  
plmn-id PlmnId C 0..1 if absent, H-PLMN ID is used as default supported-
features SupportedFeatures O 0..1 see 3GPP TS 29.500 [4] clause 6.6
* * *
This method shall support the request data structures specified in table
6.1.3.11.3.1-2 and the response data structures and response codes specified
in table 6.1.3.11.3.1-3.
Table 6.1.3.11.3.1-2: Data structures supported by the GET Request Body on
this resource
* * *
Data type P Cardinality Description n/a
* * *
Table 6.1.3.11.3.1-3: Data structures supported by the GET Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | Subscri | M | 1 | 200 OK | Upon success, | | ptionDataSets | | | | a response | | | | | | body | | | | | | containing | | | | | | the requested | | | | | | data sets | | | | | | shall be | | | | | | returned. | +---------------+---+-------------+---------------+---------------+ | P | M | 1 | 404 Not Found | The \"cause\" | | roblemDetails | | | | attribute | | | | | | shall be set | | | | | | to one of the | | | | | | following | | | | | | application | | | | | | errors: | | | | | | | | | | | | - | | | | | | USE | | | | | | R_NOT_FOUND | | | | | | | | | | | | - | | | | | | DAT | | | | | | A_NOT_FOUND | +---------------+---+-------------+---------------+---------------+ | NOTE: In | | | | | | addition | | | | | | common data | | | | | | structures as | | | | | | listed in | | | | | | table 6.1.7-1 | | | | | | are | | | | | | supported. | | | | | +---------------+---+-------------+---------------+---------------+
#### 6.1.3.12 Resource: IdTranslationResult
##### 6.1.3.12.1 Description
This resource represents the SUPI. It is queried by the NEF for GPSI to SUPI
translation. See 3GPP TS 23.502 [3] clause 4.13.2.2.
##### 6.1.3.12.2 Resource Definition
Resource URI: {apiRoot}/nudm-sdm/{apiVersion}/{gpsi}/id-translation-result
This resource shall support the resource URI variables defined in table
6.1.3.12.2-1.
Table 6.1.3.12.2-1: Resource URI variables for this resource
* * *
Name Definition
* * *
apiRoot See clause 6.1.1
apiVersion See clause 6.1.1
gpsi Represents the Generic Public Subscription Identifier (see 3GPP TS 23.501
[2] clause 5.9.8)\ pattern: \"(msisdn-[0-9]{5,15}\|extid-[\^@]+@[\^@]+\|.+)\"
* * *
##### 6.1.3.12.3 Resource Standard Methods
###### 6.1.3.12.3.1 GET
This method shall support the URI query parameters specified in table
6.1.3.12.3.1-1.
Table 6.1.3.12.3.1-1: URI query parameters supported by the GET method on this
resource
* * *
Name Data type P Cardinality Description supported-features SupportedFeatures
O 0..1 see 3GPP TS 29.500 [4] clause 6.6
* * *
This method shall support the request data structures specified in table
6.1.3.12.3.1-2 and the response data structures and response codes specified
in table 6.1.3.12.3.1-3.
Table 6.1.3.12.3.1-2: Data structures supported by the GET Request Body on
this resource
* * *
Data type P Cardinality Description n/a
* * *
Table 6.1.3.12.3.1-3: Data structures supported by the GET Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | IdTran | M | 1 | 200 OK | Upon success, | | slationResult | | | | a response | | | | | | body | | | | | | containing | | | | | | the SUPI and | | | | | | optionally | | | | | | the MSISDN | | | | | | shall be | | | | | | returned. | +---------------+---+-------------+---------------+---------------+ | P | M | 1 | 404 Not Found | The \"cause\" | | roblemDetails | | | | attribute | | | | | | shall be set | | | | | | to one of the | | | | | | following | | | | | | application | | | | | | errors: | | | | | | | | | | | | - | | | | | | USE | | | | | | R_NOT_FOUND | | | | | | | | | | | | - | | | | | | DAT | | | | | | A_NOT_FOUND | +---------------+---+-------------+---------------+---------------+ | NOTE: In | | | | | | addition | | | | | | common data | | | | | | structures as | | | | | | listed in | | | | | | table 6.1.7-1 | | | | | | are | | | | | | supported. | | | | | +---------------+---+-------------+---------------+---------------+
#### 6.1.3.13 Resource: SorAck
##### 6.1.3.13.1 Description
This resource represents the acknowledgement of the SoR for a SUPI.
##### 6.1.3.13.2 Resource Definition
Resource URI: {apiRoot}/nudm-sdm/{apiVersion}/{supi}/am-data/sor-ack
This resource shall support the resource URI variables defined in table
6.1.3.13.2-1.
Table 6.1.3.13.2-1: Resource URI variables for this resource
* * *
Name Definition
* * *
apiRoot See clause 6.1.1
apiVersion See clause 6.1.1
supi Represents the Subscription Permanent Identifier (see 3GPP TS 23.501 [2]
clause 5.9.2)\ pattern: \"(imsi-[0-9]{5,15}\|nai-.+\|.+)\"
* * *
##### 6.1.3.13.3 Resource Standard Methods
###### 6.1.3.13.3.1 PUT
This method shall support the URI query parameters specified in table
6.1.3.13.3.1-1.
Table 6.1.3.13.3.1-1: URI query parameters supported by the PUT method on this
resource
* * *
Name Data type P Cardinality Description n/a
* * *
This method shall support the request data structures specified in table
6.1.3.13.3.1-2 and the response data structures and response codes specified
in table 6.1.3.13.3.1-3.
Table 6.1.3.13.3.1-2: Data structures supported by the PUT Request Body on
this resource
* * *
Data type P Cardinality Description AcknowledgeInfo M 1 Contains the SOR-MAC-
Iue received from the UE.
* * *
Table 6.1.3.13.3.1-3: Data structures supported by the PUT Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | n/a | | | 204 No | Successful | | | | | Content | receiving the | | | | | | SorXmacIue in | | | | | | the Request. | +---------------+---+-------------+---------------+---------------+ | P | M | 1 | 404 Not Found | The \"cause\" | | roblemDetails | | | | attribute | | | | | | shall be set | | | | | | to the | | | | | | following | | | | | | application | | | | | | error: | | | | | | | | | | | | - | | | | | | USE | | | | | | R_NOT_FOUND | +---------------+---+-------------+---------------+---------------+ | NOTE: In | | | | | | addition | | | | | | common data | | | | | | structures as | | | | | | listed in | | | | | | table 6.1.7-1 | | | | | | are | | | | | | supported. | | | | | +---------------+---+-------------+---------------+---------------+
#### 6.1.3.14 Resource: TraceData
##### 6.1.3.14.1 Description
This resource represents the trace configuration data for a SUPI. It is
queried by the AMF and SMF after registering.
##### 6.1.3.14.2 Resource Definition
Resource URI: {apiRoot}/nudm-sdm/{apiVersion}/{supi}/trace-data
This resource shall support the resource URI variables defined in table
6.1.3.14.2-1.
Table 6.1.3.14.2-1: Resource URI variables for this resource
* * *
Name Definition
* * *
apiRoot See clause 6.1.1
apiVersion See clause 6.1.1
supi Represents the Subscription Permanent Identifier (see 3GPP TS 23.501 [2]
clause 5.9.2)\ pattern: \"(imsi-[0-9]{5,15}\|nai-.+\|.+)\"
* * *
##### 6.1.3.14.3 Resource Standard Methods
###### 6.1.3.14.3.1 GET
This method shall support the URI query parameters specified in table
6.1.3.14.3.1-1.
Table 6.1.3.14.3.1-1: URI query parameters supported by the GET method on this
resource
* * *
Name Data type P Cardinality Description supported-features SupportedFeatures
O 0..1 see 3GPP TS 29.500 [4] clause 6.6 plmn-id PlmnId O 0..1 PLMN identity
of the PLMN serving the UE
* * *
If \"plmn-id\" is included, UDM shall return the Trace Data for the SUPI
associated to the PLMN identified by \"plmn-id\".
If \"plmn-id\" is not included, UDM shall return the Trace Data for the SUPI
associated to the HPLMN.
This method shall support the request data structures specified in table
6.1.3.14.3.1-2 and the response data structures and response codes specified
in table 6.1.3.14.3.1-3.
Table 6.1.3.14.3.1-2: Data structures supported by the GET Request Body on
this resource
* * *
Data type P Cardinality Description n/a
* * *
Table 6.1.3.14.3.1-3: Data structures supported by the GET Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | Trac | M | 1 | 200 OK | Upon success, | | eDataResponse | | | | a response | | | | | | body | | | | | | containing | | | | | | the Trace | | | | | | Data shall be | | | | | | returned. | +---------------+---+-------------+---------------+---------------+ | P | M | 1 | 404 Not Found | The \"cause\" | | roblemDetails | | | | attribute | | | | | | shall be set | | | | | | to one of the | | | | | | following | | | | | | application | | | | | | errors: | | | | | | | | | | | | - | | | | | | USE | | | | | | R_NOT_FOUND | | | | | | | | | | | | - | | | | | | DAT | | | | | | A_NOT_FOUND | +---------------+---+-------------+---------------+---------------+ | NOTE: In | | | | | | addition | | | | | | common data | | | | | | structures as | | | | | | listed in | | | | | | table 6.1.7-1 | | | | | | are | | | | | | supported. | | | | | +---------------+---+-------------+---------------+---------------+
#### 6.1.3.15 Resource: SharedData
##### 6.1.3.15.1 Description
This resource represents the collection of data that can be shared by multiple
UEs.
##### 6.1.3.15.2 Resource Definition
Resource URI: {apiRoot}/nudm-sdm/{apiVersion}/shared-data
This resource shall support the resource URI variables defined in table
6.1.3.15.2-1.
Table 6.1.3.15.2-1: Resource URI variables for this resource
Name Definition
* * *
apiRoot See clause 6.1.1 apiVersion See clause 6.1.1
##### 6.1.3.15.3 Resource Standard Methods
###### 6.1.3.15.3.1 GET
This method shall support the URI query parameters specified in table
6.1.3.15.3.1-1.
Table 6.1.3.15.3.1-1: URI query parameters supported by the GET method on this
resource
* * *
Name Data type P Cardinality Description shared-data-ids array(SharedDataId) M
1..N
* * *
This method shall support the request data structures specified in table
6.1.3.15.3.1-2 and the response data structures and response codes specified
in table 6.1.3.15.3.1-3.
Table 6.1.3.15.3.1-2: Data structures supported by the GET Request Body on
this resource
* * *
Data type P Cardinality Description n/a
* * *
Table 6.1.3.15.3.1-3: Data structures supported by the GET Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | arra | M | 1..N | 200 OK | Upon success, | | y(SharedData) | | | | a response | | | | | | body | | | | | | containing a | | | | | | list of | | | | | | SharedData | | | | | | shall be | | | | | | returned. | +---------------+---+-------------+---------------+---------------+ | P | M | 1 | 404 Not Found | The \"cause\" | | roblemDetails | | | | attribute | | | | | | shall be set | | | | | | to the | | | | | | following | | | | | | application | | | | | | error: | | | | | | | | | | | | - | | | | | | DAT | | | | | | A_NOT_FOUND | +---------------+---+-------------+---------------+---------------+ | NOTE: In | | | | | | addition | | | | | | common data | | | | | | structures as | | | | | | listed in | | | | | | table 6.1.7-1 | | | | | | are | | | | | | supported. | | | | | +---------------+---+-------------+---------------+---------------+
#### 6.1.3.16 Resource: SharedDataSubscriptions
##### 6.1.3.16.1 Description
This resource is used to represent subscriptions to notifications for shared
data.
##### 6.1.3.16.2 Resource Definition
Resource URI: {apiRoot}/nudm-sdm/{apiVersion}/shared-data-subscriptions
This resource shall support the resource URI variables defined in table
6.1.3.16.2-1.
Table 6.1.3.16.2-1: Resource URI variables for this resource
Name Definition
* * *
apiRoot See clause 6.1.1 apiVersion See clause 6.1.1
##### 6.1.3.16.3 Resource Standard Methods
###### 6.1.3.16.3.1 POST
This method shall support the URI query parameters specified in table
6.1.3.16.3.1-1.
Table 6.1.3.16.3.1-1: URI query parameters supported by the POST method on
this resource
* * *
Name Data type P Cardinality Description n/a
* * *
This method shall support the request data structures specified in table
6.1.3.16.3.1-2 and the response data structures and response codes specified
in table 6.1.3.16.3.1-3.
Table 6.1.3.16.3.1-2: Data structures supported by the POST Request Body on
this resource
* * *
Data type P Cardinality Description SdmSubscription M 1 The subscription that
is to be created.
* * *
Table 6.1.3.16.3.1-3: Data structures supported by the POST Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | Sd | M | 1 | 201 Created | Upon success, | | mSubscription | | | | a response | | | | | | body | | | | | | containing a | | | | | | r | | | | | | epresentation | | | | | | of the | | | | | | created | | | | | | Individual | | | | | | subscription | | | | | | resource | | | | | | shall be | | | | | | returned. | | | | | | | | | | | | The HTTP | | | | | | response | | | | | | shall include | | | | | | a | | | | | | \"Location\" | | | | | | HTTP header | | | | | | that contains | | | | | | the resource | | | | | | URI of the | | | | | | created | | | | | | resource. | | | | | | When | | | | | | stateless UDM | | | | | | is deployed, | | | | | | the stateless | | | | | | UDM shall use | | | | | | the FQDN | | | | | | identifying | | | | | | the UDM set | | | | | | to which the | | | | | | UDM belongs | | | | | | as the host | | | | | | part of the | | | | | | resource URI. | +---------------+---+-------------+---------------+---------------+ | P | M | 1 | 501 Not | The \"cause\" | | roblemDetails | | | Implemented | attribute | | | | | | shall be set | | | | | | to the | | | | | | following | | | | | | application | | | | | | error: | | | | | | | | | | | | - | | | | | | UNSUPPORTED_ | | | | | | RESOURCE_URI | +---------------+---+-------------+---------------+---------------+ | NOTE: In | | | | | | addition | | | | | | common data | | | | | | structures as | | | | | | listed in | | | | | | table 6.1.7-1 | | | | | | are | | | | | | supported. | | | | | +---------------+---+-------------+---------------+---------------+
NOTE: In the scenario of stateless UDM deployment, it is assumed that
stateless UDMs are organized into several UDM sets, and each UDM set is
allocated an FQDN.
#### 6.1.3.17 Resource: Individual subscription
##### 6.1.3.17.1 Description
This resource is used to represent an individual subscription to notifications
for shared data.
##### 6.1.3.17.2 Resource Definition
Resource URI: {apiRoot}/nudm-sdm/{apiVersion}/shared-data-
subscriptions/{subscriptionId}
This resource shall support the resource URI variables defined in table
6.1.3.17.2-1.
Table 6.1.3.17.2-1: Resource URI variables for this resource
Name Definition
* * *
apiRoot See clause 6.1.1 apiVersion See clause 6.1.1 subscriptionId The
subscriptionId identifies an individual subscription to notifications. The
value is allocated by the UDM during creation of the Subscription resource.
##### 6.1.3.17.3 Resource Standard Methods
###### 6.1.3.17.3.1 DELETE
This method shall support the URI query parameters specified in table
6.1.3.17.3.1-1.
Table 6.1.3.17.3.1-1: URI query parameters supported by the DELETE method on
this resource
* * *
Name Data type P Cardinality Description n/a
* * *
This method shall support the request data structures specified in table
6.1.3.17.3.1-2 and the response data structures and response codes specified
in table 6.1.3.17.3.1-3.
Table 6.1.3.17.3.1-2: Data structures supported by the Delete Request Body on
this resource
* * *
Data type P Cardinality Description n/a The request body shall be empty.
* * *
Table 6.1.3.17.3.1-3: Data structures supported by the DELETE Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | n/a | | | 204 No | Upon success, | | | | | Content | an empty | | | | | | response body | | | | | | shall be | | | | | | returned. | +---------------+---+-------------+---------------+---------------+ | NOTE: In | | | | | | addition | | | | | | common data | | | | | | structures as | | | | | | listed in | | | | | | table 6.1.7-1 | | | | | | are | | | | | | supported. | | | | | +---------------+---+-------------+---------------+---------------+
###### 6.1.3.17.3.2 PATCH
This method shall support the URI query parameters specified in table
6.1.3.17.3.2-1.
Table 6.1.3.17.3.2-1: URI query parameters supported by the PATCH method on
this resource
* * *
Name Data type P Cardinality Description n/a
* * *
This method shall support the request data structures specified in table
6.1.3.17.3.2-2 and the response data structures and response codes specified
in table 6.1.3.17.3.2-3.
Table 6.1.3.17.3.2-2: Data structures supported by the PATCH Request Body on
this resource
* * *
Data type P Cardinality Description SdmSubsModification M 1 The modification
Instruction
* * *
Table 6.1.3.17.3.2-3: Data structures supported by the PATCH Response Body on
this resource
+-----------------+---+-------------+----------+-----------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +-----------------+---+-------------+----------+-----------------+ | SdmSubscription | M | 1 | 200 OK | Upon success, | | | | | | the modified | | | | | | sdmSubscription | | | | | | shall be | | | | | | returned. | +-----------------+---+-------------+----------+-----------------+ | NOTE: In | | | | | | addition common | | | | | | data structures | | | | | | as listed in | | | | | | table 6.1.7-1 | | | | | | are supported. | | | | | +-----------------+---+-------------+----------+-----------------+
#### 6.1.3.18 Resource: UeContextInSmsfData
##### 6.1.3.18.1 Description
This resource represents the allocated SMSFs for a SUPI.
##### 6.1.3.18.2 Resource Definition
Resource URI: {apiRoot}/nudm-sdm/{apiVersion}/{supi}/ue-context-in-smsf-data
This resource shall support the resource URI variables defined in table
6.1.3.18.2-1.
Table 6.1.3.18.2-1: Resource URI variables for this resource
* * *
Name Definition
* * *
apiRoot See clause 6.1.1
apiVersion See clause 6.1.1
supi Represents the Subscription Permanent Identifier (see 3GPP TS 23.501 [2]
clause 5.9.2)\ pattern: \"(imsi-[0-9]{5,15}\|nai-.+\|.+)\"
* * *
##### 6.1.3.18.3 Resource Standard Methods
###### 6.1.3.18.3.1 GET
This method shall support the URI query parameters specified in table
6.1.3.18.3.1-1.
Table 6.1.3.18.3.1-1: URI query parameters supported by the GET method on this
resource
* * *
Name Data type P Cardinality Description supported-features SupportedFeatures
O 0..1 see 3GPP TS 29.500 [4] clause 6.6
* * *
This method shall support the request data structures specified in table
6.1.3.18.3.1-2 and the response data structures and response codes specified
in table 6.1.3.18.3.1-3.
Table 6.1.3.18.3.1-2: Data structures supported by the GET Request Body on
this resource
* * *
Data type P Cardinality Description n/a
* * *
Table 6.1.3.18.3.1-3: Data structures supported by the GET Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | UeCont | M | 1 | 200 OK | Upon success, | | extInSmsfData | | | | a response | | | | | | body | | | | | | containing | | | | | | the | | | | | | UeCont | | | | | | extInSmsfData | | | | | | shall be | | | | | | returned. | +---------------+---+-------------+---------------+---------------+ | P | M | 1 | 404 Not Found | The \"cause\" | | roblemDetails | | | | attribute | | | | | | shall be set | | | | | | to one of the | | | | | | following | | | | | | application | | | | | | errors: | | | | | | | | | | | | - | | | | | | USE | | | | | | R_NOT_FOUND | | | | | | | | | | | | - | | | | | | DAT | | | | | | A_NOT_FOUND | +---------------+---+-------------+---------------+---------------+ | NOTE: In | | | | | | addition | | | | | | common data | | | | | | structures as | | | | | | listed in | | | | | | table 6.1.7-1 | | | | | | are | | | | | | supported. | | | | | +---------------+---+-------------+---------------+---------------+
#### 6.1.3.19 Resource: UpuAck
##### 6.1.3.19.1 Description
This resource represents the acknowledgement of UE parameters update for a
SUPI.
##### 6.1.3.19.2 Resource Definition
Resource URI: {apiRoot}/nudm-sdm/{apiVersion}/{supi}/am-data/upu-ack
This resource shall support the resource URI variables defined in table
6.1.3.19.2-1.
Table 6.1.3.19.2-1: Resource URI variables for this resource
* * *
Name Definition
* * *
apiRoot See clause 6.1.1
apiVersion See clause 6.1.1
supi Represents the Subscription Permanent Identifier (see 3GPP TS 23.501 [2]
clause 5.9.2)\ pattern: \"(imsi-[0-9]{5,15}\|nai-.+\|.+)\"
* * *
##### 6.1.3.19.3 Resource Standard Methods
###### 6.1.3.19.3.1 PUT
This method shall support the URI query parameters specified in table
6.1.3.19.3.1-1.
Table 6.1.3.19.3.1-1: URI query parameters supported by the PUT method on this
resource
* * *
Name Data type P Cardinality Description n/a
* * *
This method shall support the request data structures specified in table
6.1.3.19.3.1-2 and the response data structures and response codes specified
in table 6.1.3.19.3.1-3.
Table 6.1.3.19.3.1-2: Data structures supported by the PUT Request Body on
this resource
* * *
Data type P Cardinality Description AcknowledgeInfo M 1 Contains the UPU-MAC-
Iue received from the UE.
* * *
Table 6.1.3.19.3.1-3: Data structures supported by the PUT Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | n/a | | | 204 No | Successful | | | | | Content | receiving the | | | | | | UpuXmacIue in | | | | | | the Request. | +---------------+---+-------------+---------------+---------------+ | P | M | 1 | 404 Not Found | The \"cause\" | | roblemDetails | | | | attribute | | | | | | shall be set | | | | | | to the | | | | | | following | | | | | | application | | | | | | error: | | | | | | | | | | | | - | | | | | | USE | | | | | | R_NOT_FOUND | +---------------+---+-------------+---------------+---------------+ | NOTE: In | | | | | | addition | | | | | | common data | | | | | | structures as | | | | | | listed in | | | | | | table 6.1.7-1 | | | | | | are | | | | | | supported. | | | | | +---------------+---+-------------+---------------+---------------+
#### 6.1.3.20 Resource: GroupIdentifiers
##### 6.1.3.20.1 Description
This resource represents the Group Identifiers handled by UDM/UDR. It is
queried by the NEF for translation between External and Internal Group
Identifiers.
##### 6.1.3.20.2 Resource Definition
Resource URI: {apiRoot}/nudm-sdm/{apiVersion}/group-data/group-identifiers
This resource shall support the resource URI variables defined in table
6.1.3.20.2-1.
Table 6.1.3.20.2-1: Resource URI variables for this resource
Name Definition
* * *
apiRoot See clause 6.1.1 apiVersion See clause 6.1.1
##### 6.1.3.20.3 Resource Standard Methods
###### 6.1.3.20.3.1 GET
This method shall support the URI query parameters specified in table
6.1.3.20.3.1-1.
Table 6.1.3.20.3.1-1: URI query parameters supported by the GET method on this
resource
* * *
Name Data type P Cardinality Description supported-features SupportedFeatures
O 0..1 see 3GPP TS 29.500 [4] clause 6.6 ext-groud-id ExtGroupId C 0..1
External Group ID int-group-id GroupId C 0..1 Internal Group ID NOTE: Either
ext-group-id or int-group-id shall be present in the request.
* * *
Either the ext-group-id or the int-group-id shall be present in the request.
This method shall support the request data structures specified in table
6.1.3.20.3.1-2 and the response data structures and response codes specified
in table 6.1.3.20.3.1-3.
Table 6.1.3.20.3.1-2: Data structures supported by the GET Request Body on
this resource
* * *
Data type P Cardinality Description n/a
* * *
Table 6.1.3.20.3.1-3: Data structures supported by the GET Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | Gro | M | 1 | 200 OK | Upon success, | | upIdentifiers | | | | a response | | | | | | body | | | | | | containing | | | | | | the group | | | | | | identifier(s) | | | | | | shall be | | | | | | returned. | +---------------+---+-------------+---------------+---------------+ | P | M | 1 | 404 Not Found | The \"cause\" | | roblemDetails | | | | attribute | | | | | | shall be set | | | | | | to one of the | | | | | | following | | | | | | application | | | | | | errors: | | | | | | | | | | | | - | | | | | | GRO | | | | | | UP_IDENTIFIE | | | | | | R_NOT_FOUND | +---------------+---+-------------+---------------+---------------+ | NOTE: In | | | | | | addition, | | | | | | common data | | | | | | structures as | | | | | | listed in | | | | | | table 6.1.7-1 | | | | | | are | | | | | | supported. | | | | | +---------------+---+-------------+---------------+---------------+
#### 6.1.3.21 Resource: SnssaisAck
##### 6.1.3.21.1 Description
This resource represents the acknowledgement of UE for subscribed S-NSSAIs
update for a SUPI.
##### 6.1.3.21.2 Resource Definition
Resource URI: {apiRoot}/nudm-sdm/{apiVersion}/{supi}/am-data/subscribed-
snssais-ack
This resource shall support the resource URI variables defined in table
6.1.3.21.2-1.
Table 6.1.3.21.2-1: Resource URI variables for this resource
* * *
Name Definition
* * *
apiRoot See clause 6.1.1
apiVersion See clause 6.1.1
supi Represents the Subscription Permanent Identifier (see 3GPP TS 23.501 [2]
clause 5.9.2)\ pattern: \"(imsi-[0-9]{5,15}\|nai-.+\|.+)\"
* * *
##### 6.1.3.21.3 Resource Standard Methods
###### 6.1.3.21.3.1 PUT
This method shall support the URI query parameters specified in table
6.1.3.21.3.1-1.
Table 6.1.3.21.3.1-1: URI query parameters supported by the PUT method on this
resource
* * *
Name Data type P Cardinality Description n/a
* * *
This method shall support the request data structures specified in table
6.1.3.21.3.1-2 and the response data structures and response codes specified
in table 6.1.3.21.3.1-3.
Table 6.1.3.21.3.1-2: Data structures supported by the PUT Request Body on
this resource
* * *
Data type P Cardinality Description AcknowledgeInfo M 1 Contains the
provisioning time stamp as received within the Nssai.
* * *
Table 6.1.3.21.3.1-3: Data structures supported by the PUT Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | n/a | | | 204 No | Successful | | | | | Content | receiving the | | | | | | UE | | | | | | ac | | | | | | knowledgement | | | | | | for | | | | | | subscribed | | | | | | S-NSSAIs | | | | | | update. | +---------------+---+-------------+---------------+---------------+ | P | M | 1 | 404 Not Found | The \"cause\" | | roblemDetails | | | | attribute | | | | | | shall be set | | | | | | to the | | | | | | following | | | | | | application | | | | | | error: | | | | | | | | | | | | - | | | | | | USE | | | | | | R_NOT_FOUND | +---------------+---+-------------+---------------+---------------+ | NOTE: In | | | | | | addition | | | | | | common data | | | | | | structures as | | | | | | listed in | | | | | | table 6.1.7-1 | | | | | | are | | | | | | supported. | | | | | +---------------+---+-------------+---------------+---------------+
### 6.1.4 Custom Operations without associated resources
In this release of this specification, no custom operations without associated
resources are defined for the Nudm_SubscriberDataManagement Service.
### 6.1.5 Notifications
#### 6.1.5.1 General
This clause will specify the use of notifications and corresponding protocol
details if required for the specific service. When notifications are supported
by the API, it will include a reference to the general description of
notifications support over the 5G SBIs specified in TS 29.500 / TS 29.501.
#### 6.1.5.2 Data Change Notification
The POST method shall be used for Data Change Notifications and the URI shall
be as provided during the subscription procedure.
Resource URI: {callbackReference}
Support of URI query parameters is specified in table 6.1.5.2-1.
Table 6.1.5.2-1: URI query parameters supported by the POST method
* * *
Name Data type P Cardinality Description n/a
* * *
Support of request data structures is specified in table 6.1.5.2-2 and of
response data structures and response codes is specified in table 6.1.5.2-3.
Table 6.1.5.2-2: Data structures supported by the POST Request Body
* * *
Data type P Cardinality Description ModificationNotification M 1
* * *
Table 6.1.5.2-3: Data structures supported by the POST Response Body
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | n/a | | | 204 No | Upon success, | | | | | Content | an empty | | | | | | response body | | | | | | shall be | | | | | | returned. | +---------------+---+-------------+---------------+---------------+ | P | M | 1 | 307 Temporary | This | | roblemDetails | | | Redirect | represents | | | | | | the case when | | | | | | the related | | | | | | UE context is | | | | | | not fully | | | | | | available at | | | | | | the target NF | | | | | | Service | | | | | | Consumer | | | | | | (e.g. AMF) | | | | | | during a | | | | | | planned | | | | | | maintenance | | | | | | case (e.g. | | | | | | AMF planned | | | | | | maintenance | | | | | | without UDSF | | | | | | case). The | | | | | | \"cause\" | | | | | | attribute | | | | | | shall be set | | | | | | to the | | | | | | following | | | | | | application | | | | | | error: | | | | | | | | | | | | - | | | | | | NF_CO | | | | | | NSUMER_REDIR | | | | | | ECT_ONE_TXN | | | | | | | | | | | | See table | | | | | | 6.1.7.3-1 for | | | | | | the | | | | | | description | | | | | | of this | | | | | | error. | | | | | | | | | | | | The Location | | | | | | header of the | | | | | | response | | | | | | shall be set | | | | | | to the new | | | | | | Callback URI | | | | | | of the target | | | | | | NF Service | | | | | | Consumer | | | | | | (e.g. AMF) to | | | | | | which the | | | | | | request is | | | | | | redirected. | +---------------+---+-------------+---------------+---------------+ | P | M | 1 | 308 Permanent | This | | roblemDetails | | | Redirect | represents | | | | | | the case when | | | | | | the related | | | | | | UE is not | | | | | | found in the | | | | | | NF Service | | | | | | Consumer (e.g | | | | | | AMF) and the | | | | | | NF Service | | | | | | Consumer | | | | | | knows which | | | | | | NF Service | | | | | | Consumer is | | | | | | serving the | | | | | | UE. The | | | | | | \"cause\" | | | | | | attribute | | | | | | shall be set | | | | | | to the | | | | | | following | | | | | | application | | | | | | error: | | | | | | | | | | | | - | | | | | | CONTEX | | | | | | T_NOT_FOUND | | | | | | | | | | | | See table | | | | | | 6.1.7.3-1 for | | | | | | the | | | | | | description | | | | | | of this | | | | | | error. | | | | | | | | | | | | The Location | | | | | | header of the | | | | | | response | | | | | | shall be set | | | | | | to the new | | | | | | Callback URI | | | | | | of the target | | | | | | NF Service | | | | | | Consumer (e.g | | | | | | AMF) to which | | | | | | the request | | | | | | is | | | | | | redirected. | +---------------+---+-------------+---------------+---------------+ | P | M | 1 | 404 Not Found | The \"cause\" | | roblemDetails | | | | attribute | | | | | | shall be set | | | | | | to the | | | | | | following | | | | | | application | | | | | | error: | | | | | | | | | | | | - | | | | | | CONTEX | | | | | | T_NOT_FOUND | | | | | | | | | | | | See table | | | | | | 6.1.7.3-1 for | | | | | | the | | | | | | description | | | | | | of this | | | | | | error. | +---------------+---+-------------+---------------+---------------+ | NOTE: In | | | | | | addition | | | | | | common data | | | | | | structures as | | | | | | listed in | | | | | | table 6.1.7-1 | | | | | | are | | | | | | supported. | | | | | +---------------+---+-------------+---------------+---------------+
### 6.1.6 Data Model
#### 6.1.6.1 General
This clause specifies the application data model supported by the API.
Table 6.1.6.1-1 specifies the structured data types defined for the Nudm_SDM
service API. For simple data types defined for the Nudm_SDM service API see
table 6.1.6.3.2-1.
Table 6.1.6.1-1: Nudm_SDM specific Data Types
Data type Clause defined Description
* * *
Nssai 6.1.6.2.2 Network Slice Selection Assistance Information SdmSubscription
6.1.6.2.3 A subscription to notifications AccessAndMobilitySubscriptionData
6.1.6.2.4 Access and Mobility Subscription Data SmfSelectionSubscriptionData
6.1.6.2.5 SMF Selection Subscription Data UeContextInSmfData 6.1.6.2.16 UE
Context In SMF Data PduSession 6.1.6.2.17  
DnnInfo 6.1.6.2.6 Data Network Name and associated information (LBO roaming
allowed flag) SnssaiInfo 6.1.6.2.7 S-NSSAI and associated information (DNN
Info) SessionManagementSubscriptionData 6.1.6.2.8 User subscribed session
management data DnnConfiguration 6.1.6.2.9 User subscribed data network
configuration PduSessionTypes 6.1.6.2.11 Default/allowed session types for a
data network SscModes 6.1.6.2.12 Default/allowed SSC modes for a data network
SmsManagementSubscriptionData 6.1.6.2.14 SMS Management Subscription Data
IdTranslationResult 6.1.6.2.18 SUPI that corresponds to a given GPSI IpAddress
6.1.6.2.22 IP address (IPv4, or IPv6, or IPv6 prefix)
3GppChargingCharacteristics 6.1.6.3.2 3GPP Charging Characteristics IwkEpsInd
6.1.6.3.2 Interworking with EPS Indication ModificationNotification 6.1.6.2.21  
UeContextInSmsfData 6.1.6.2.23  
SmsfInfo 6.1.6.2.24  
AcknowledgeInfo 6.1.6.2.25  
SorInfo 6.1.6.2.26 Steering Of Roaming Information UpuInfo 6.1.6.2.33 UE
Parameters Update Information SharedData 6.1.6.2.27 Subscription Data shared
by multiple UEs PgwInfo 6.1.6.2.28 Information about the DNNs/APNs and
PGW-C+SMF FQDNs used in interworking with EPS TraceDataResponse 6.1.6.2.29
Contains Trace Data or a shared data Id identifying shared Trace Data
SdmSubsModification 6.1.6.2.31 Modification instruction for a subscription to
notifications EmergencyInfo 6.1.6.2.32 Information about emergency session
EpsIwkPgw 6.1.6.2.11 Information of the PGW-C+SMF selected by the AMF for EPS
interworking with N26 interface. GroupIdentifiers 6.1.6.2.34  
ExtGroupId 6.1.6.3.2
Table 6.1.6.1-2 specifies data types re-used by the Nudm_SDM service API from
other specifications, including a reference to their respective specifications
and when needed, a short description of their use within the Nudm_SDM service
API.
Table 6.1.6.1-2: Nudm_SDM re-used Data Types
+----------------------+----------------------+----------------------+ | Data type | Reference | Comments | +======================+======================+======================+ | Dnn | 3GPP TS 29.571 [7] | Data Network Name; | | | | this type is used as | | | | key in a map of: | | | | | | | | - | | | | DnnConfigurations; | | | | see | | | | clause 6.1.6.2.8; | | | | | | | | - EpsIwkPgws; see | | | | clause 6.2.6.2.2; | +----------------------+----------------------+----------------------+ | DurationSec | 3GPP TS 29.571 [7] | Time value in | | | | seconds | +----------------------+----------------------+----------------------+ | ProblemDetails | 3GPP TS 29.571 [7] | Common data type | | | | used in response | | | | bodies | +----------------------+----------------------+----------------------+ | Snssai | 3GPP TS 29.571 [7] | Single NSSAI | +----------------------+----------------------+----------------------+ | Uri | 3GPP TS 29.571 [7] | Uniform Resource | | | | Identifier | +----------------------+----------------------+----------------------+ | Gpsi | 3GPP TS 29.571 [7] | Generic Public | | | | Subscription | | | | Identifier | +----------------------+----------------------+----------------------+ | RatType | 3GPP TS 29.571 [7] | Radio Access | | | | Technology Type | +----------------------+----------------------+----------------------+ | Area | 3GPP TS 29.571 [7] | | +----------------------+----------------------+----------------------+ | Se | 3GPP TS 29.571 [7] | | | rviceAreaRestriction | | | +----------------------+----------------------+----------------------+ | CoreNetworkType | 3GPP TS 29.571 [7] | | +----------------------+----------------------+----------------------+ | SupportedFeatures | 3GPP TS 29.571 [7] | see | | | | 3GPP TS 29.500 [4] | | | | clause 6.6 | +----------------------+----------------------+----------------------+ | PlmnId | 3GPP TS 29.571 [7] | PLMN Identity | +----------------------+----------------------+----------------------+ | PduSessionType | 3GPP TS 29.571 [7] | | +----------------------+----------------------+----------------------+ | SubscribedDefaultQos | 3GPP TS 29.571 [7] | Subscribed Default | | | | QoS | +----------------------+----------------------+----------------------+ | Ambr | 3GPP TS 29.571 [7] | | +----------------------+----------------------+----------------------+ | PduSessionId | 3GPP TS 29.571 [7] | PduSessionId is used | | | | as key in a map of | | | | PduSessions; see | | | | clause 6.1.6.2.16. | +----------------------+----------------------+----------------------+ | NfInstanceId | 3GPP TS 29.571 [7] | | +----------------------+----------------------+----------------------+ | Supi | 3GPP TS 29.571 [7] | | +----------------------+----------------------+----------------------+ | RfspIndex | 3GPP TS 29.571 [7] | | +----------------------+----------------------+----------------------+ | SscMode | 3GPP TS 29.571 [7] | | +----------------------+----------------------+----------------------+ | Ipv4Addr | 3GPP TS 29.571 [7] | | +----------------------+----------------------+----------------------+ | Ipv6Addr | 3GPP TS 29.571 [7] | | +----------------------+----------------------+----------------------+ | Ipv6Prefix | 3GPP TS 29.571 [7] | | +----------------------+----------------------+----------------------+ | SorMac | 3 | | | | GPP TS 29.509 [24] | | +----------------------+----------------------+----------------------+ | SteeringInfo | 3 | | | | GPP TS 29.509 [24] | | +----------------------+----------------------+----------------------+ | AckInd | 3 | | | | GPP TS 29.509 [24] | | +----------------------+----------------------+----------------------+ | CounterSor | 3 | | | | GPP TS 29.509 [24] | | +----------------------+----------------------+----------------------+ | UpuMac | 3 | | | | GPP TS 29.509 [24] | | +----------------------+----------------------+----------------------+ | UpuData | 3 | | | | GPP TS 29.509 [24] | | +----------------------+----------------------+----------------------+ | UpuAckInd | 3 | | | | GPP TS 29.509 [24] | | +----------------------+----------------------+----------------------+ | CounterUpu | 3 | | | | GPP TS 29.509 [24] | | +----------------------+----------------------+----------------------+ | TraceData | 3GPP TS 29.571 [7] | Trace control and | | | | configuration | | | | parameters | +----------------------+----------------------+----------------------+ | NotifyItem | 3GPP TS 29.571 [7] | | +----------------------+----------------------+----------------------+ | UpSecurity | 3GPP TS 29.571 [7] | | +----------------------+----------------------+----------------------+ | ServiceName | 3 | | | | GPP TS 29.510 [19] | | +----------------------+----------------------+----------------------+ | OdbPacketServices | 3GPP TS 29.571 [7] | | +----------------------+----------------------+----------------------+ | GroupId | 3GPP TS 29.571 [7] | | +----------------------+----------------------+----------------------+
#### 6.1.6.2 Structured data types
##### 6.1.6.2.1 Introduction
This clause defines the structures to be used in resource representations.
##### 6.1.6.2.2 Type: Nssai
Table 6.1.6.2.2-1: Definition of type Nssai
* * *
Attribute name Data type P Cardinality Description
* * *
supportedFeatures SupportedFeatures O 0..1 See clause 6.1.8
defaultSingleNssais array(Snssai) M 1..N A list of Single Nssais used as
default
singleNssais array(Snssai) O 1..N List of non default Single Nssais.
provisioningTime DateTime C 0..1 This attribute shall be present if the Nssai
is sent to the AMF while reception has not yet been acknowledged from the UE;
otherwise shall be absent.\ This attribute serves as Network Slicing
Subscription Change Indication.
* * *
##### 6.1.6.2.3 Type: SdmSubscription
Table 6.1.6.2.3-1: SdmSubscription
+---------------+--------------+---+-------------+---------------+ | Attribute | Data type | P | Cardinality | Description | | name | | | | | +===============+==============+===+=============+===============+ | nfInstanceId | NfInstanceId | M | 1 | Identity of | | | | | | the NF | | | | | | Instance | | | | | | creating the | | | | | | subscription. | +---------------+--------------+---+-------------+---------------+ | implic | boolean | O | 0..1 | If present | | itUnsubscribe | | | | with value | | | | | | true | | | | | | indicates | | | | | | that the | | | | | | subscription | | | | | | expires when | | | | | | the | | | | | | subscribing | | | | | | NF (AMF, SMF, | | | | | | SMSF) | | | | | | identified by | | | | | | the | | | | | | nfInstanceId | | | | | | ceases to be | | | | | | registered at | | | | | | the UDM. | +---------------+--------------+---+-------------+---------------+ | expires | DateTime | C | 0..1 | If present, | | | | | | indicates the | | | | | | point in time | | | | | | at which the | | | | | | subscription | | | | | | expires. | | | | | | Shall be | | | | | | present if | | | | | | implic | | | | | | itUnsubscribe | | | | | | is absent or | | | | | | false.\ | | | | | | Within a POST | | | | | | request the | | | | | | proposed | | | | | | expiry time | | | | | | is conveyed | | | | | | whereas in a | | | | | | POST response | | | | | | or PATCH | | | | | | response the | | | | | | confirmed | | | | | | expiry time | | | | | | is returned. | +---------------+--------------+---+-------------+---------------+ | call | Uri | M | 1 | URI provided | | backReference | | | | by the NF | | | | | | service | | | | | | consumer to | | | | | | receive | | | | | | notifications | +---------------+--------------+---+-------------+---------------+ | a | ServiceName | O | 0..1 | When present, | | mfServiceName | | | | this IE shall | | | | | | contain the | | | | | | name of the | | | | | | AMF service | | | | | | to which Data | | | | | | Change | | | | | | Notifications | | | | | | are to be | | | | | | sent (see | | | | | | c | | | | | | lause 6.5.2.2 | | | | | | of | | | | | | 3GPP TS 2 | | | | | | 9.500 [4]). | | | | | | This IE may | | | | | | be included | | | | | | if the NF | | | | | | service | | | | | | consumer is | | | | | | an AMF. | +---------------+--------------+---+-------------+---------------+ | monitore | array(Uri) | M | 1..N | A set of URIs | | dResourceUris | | | | that identify | | | | | | the resources | | | | | | for which a | | | | | | change | | | | | | triggers a | | | | | | notification. | | | | | | | | | | | | The URI shall | | | | | | take the form | | | | | | of either an | | | | | | absolute URI | | | | | | or an | | | | | | absolute-path | | | | | | reference as | | | | | | defined in | | | | | | IETF RFC | | | | | | 3986 [31]. | +---------------+--------------+---+-------------+---------------+ | singleNssai | Snssai | O | 0..1 | This IE may | | | | | | be present if | | | | | | the consumer | | | | | | is SMF. See | | | | | | NOTE. | +---------------+--------------+---+-------------+---------------+ | dnn | Dnn | O | 0..1 | This IE may | | | | | | be present if | | | | | | the consumer | | | | | | is SMF. See | | | | | | NOTE. | +---------------+--------------+---+-------------+---------------+ | s | string | C | 0..1 | This | | ubscriptionId | | | | attribute | | | | | | shall be | | | | | | present if | | | | | | the | | | | | | Sd | | | | | | mSubscription | | | | | | is sent in a | | | | | | GET response | | | | | | message on | | | | | | Nudr. It | | | | | | identifies | | | | | | the | | | | | | individual | | | | | | sd | | | | | | mSubscription | | | | | | stored in the | | | | | | UDR and may | | | | | | be used by | | | | | | the UDM to | | | | | | delete an | | | | | | expired or | | | | | | implicitly | | | | | | unsubscribed | | | | | | sdm | | | | | | Subscription. | +---------------+--------------+---+-------------+---------------+ | plmnId | PlmnId | C | 0..1 | If present, | | | | | | it indicates | | | | | | the PLMN of | | | | | | the NF | | | | | | Instance | | | | | | creating the | | | | | | subscription | | | | | | (i.e., the | | | | | | PLMN serving | | | | | | the UE). | | | | | | | | | | | | It shall be | | | | | | present if | | | | | | the NF | | | | | | Instance is | | | | | | located in a | | | | | | different | | | | | | PLMN than the | | | | | | UDM. | | | | | | | | | | | | If absent, | | | | | | the Home PLMN | | | | | | ID is used as | | | | | | default. | +---------------+--------------+---+-------------+---------------+ | NOTE: If | | | | | | \" | | | | | | singleNssai\" | | | | | | is not | | | | | | included, and | | | | | | \"dnn\" is | | | | | | not included, | | | | | | the UDM shall | | | | | | notify the | | | | | | data change | | | | | | of all DNN | | | | | | c | | | | | | onfigurations | | | | | | and network | | | | | | slice(s). | | | | | | | | | | | | If | | | | | | \" | | | | | | singleNssai\" | | | | | | is included, | | | | | | and \"dnn\" | | | | | | is not | | | | | | included, the | | | | | | UDM shall | | | | | | notify the | | | | | | data change | | | | | | of network | | | | | | slice | | | | | | identified by | | | | | | \" | | | | | | singleNssai\" | | | | | | and all DNN | | | | | | c | | | | | | onfigurations | | | | | | for the | | | | | | requested | | | | | | network slice | | | | | | identified by | | | | | | \"s | | | | | | ingleNssai\". | | | | | | | | | | | | If | | | | | | \" | | | | | | singleNssai\" | | | | | | is not | | | | | | included, and | | | | | | \"dnn\" is | | | | | | included, the | | | | | | UDM shall | | | | | | notify the | | | | | | data change | | | | | | of all | | | | | | network | | | | | | slices where | | | | | | such DNN is | | | | | | available and | | | | | | all DNN | | | | | | c | | | | | | onfigurations | | | | | | identified by | | | | | | \"dnn\". | | | | | | | | | | | | If | | | | | | \" | | | | | | singleNssai\" | | | | | | is included, | | | | | | and \"dnn\" | | | | | | is included, | | | | | | the UDM shall | | | | | | notify the | | | | | | data change | | | | | | of network | | | | | | slice | | | | | | identified by | | | | | | \" | | | | | | singleNssai\" | | | | | | where such | | | | | | DNN is | | | | | | available and | | | | | | the DNN | | | | | | configuration | | | | | | identified by | | | | | | \"dnn\", if | | | | | | such DNN is | | | | | | available in | | | | | | the network | | | | | | slice | | | | | | identified by | | | | | | \"s | | | | | | ingleNssai\". | | | | | +---------------+--------------+---+-------------+---------------+
##### 6.1.6.2.4 Type: AccessAndMobilitySubscriptionData
Table 6.1.6.2.4-1: Definition of type AccessAndMobilitySubscriptionData
+---------------+---------------+---+-------------+---------------+ | Attribute | Data type | P | Cardinality | Description | | name | | | | | +===============+===============+===+=============+===============+ | supp | Supp | O | 0..1 | See | | ortedFeatures | ortedFeatures | | | clause 6.1.8 | +---------------+---------------+---+-------------+---------------+ | gpsis | array(Gpsi) | O | 0..N | List of | | | | | | Generic | | | | | | Public | | | | | | Subscription | | | | | | Identifier; | | | | | | see | | | | | | 3GPP TS | | | | | | 29.571 [7] | +---------------+---------------+---+-------------+---------------+ | int | a | O | 1..N | List of | | ernalGroupIds | rray(GroupId) | | | internal | | | | | | group | | | | | | identifier; | | | | | | see | | | | | | 3GPP TS | | | | | | 23.501 [2] | | | | | | clause 5.9.7 | +---------------+---------------+---+-------------+---------------+ | sub | AmbrRm | O | 0..1 | | | scribedUeAmbr | | | | | +---------------+---------------+---+-------------+---------------+ | nssai | Nssai | O | 0..1 | Network Slice | | | | | | Selection | | | | | | Assistance | | | | | | Information | +---------------+---------------+---+-------------+---------------+ | ra | a | O | 0..N | List of RAT | | tRestrictions | rray(RatType) | | | Types that | | | | | | are | | | | | | restricted; | | | | | | see | | | | | | 3GPP TS | | | | | | 29.571 [7] | +---------------+---------------+---+-------------+---------------+ | f | array(Area) | O | 0..N | List of | | orbiddenAreas | | | | forbidden | | | | | | areas | +---------------+---------------+---+-------------+---------------+ | serviceAr | ServiceAr | O | 0..1 | Subscribed | | eaRestriction | eaRestriction | | | Service Area | | | | | | Restriction | +---------------+---------------+---+-------------+---------------+ | c | array(Cor | O | 0..N | List of Core | | oreNetworkTyp | eNetworkType) | | | Network Types | | eRestrictions | | | | that are | | | | | | restricted | +---------------+---------------+---+-------------+---------------+ | rfspIndex | RfspIndexRm | O | 0..1 | Index to | | | | | | RAT/Frequency | | | | | | Selection | | | | | | Priority; | +---------------+---------------+---+-------------+---------------+ | subsRegTimer | DurationSecRm | O | 0..1 | Subscribed | | | | | | periodic | | | | | | registration | | | | | | timer; see | | | | | | 3GPP TS | | | | | | 29.571 [7] | +---------------+---------------+---+-------------+---------------+ | ueUsageType | UeUsageType | O | 0..1 | | +---------------+---------------+---+-------------+---------------+ | mpsPriority | MpsPrio | O | 0..1 | | | | rityIndicator | | | | +---------------+---------------+---+-------------+---------------+ | mcsPriority | McsPrio | O | 0..1 | | | | rityIndicator | | | | +---------------+---------------+---+-------------+---------------+ | activeTime | DurationSecRm | O | 0..1 | subscribed | | | | | | active time | | | | | | for PSM UEs | +---------------+---------------+---+-------------+---------------+ | dlPacketCount | DlPacketCount | O | 0..1 | DL Buffering | | | | | | Suggested | | | | | | Packet Count | | | | | | indicates | | | | | | whether | | | | | | extended | | | | | | buffering of | | | | | | downlink | | | | | | packets for | | | | | | High Latency | | | | | | Communication | | | | | | is requested. | +---------------+---------------+---+-------------+---------------+ | sorInfo | SorInfo | O | 0..1 | On Nudm, this | | | | | | IE shall be | | | | | | present if | | | | | | the UDM shall | | | | | | send the | | | | | | information | | | | | | for Steering | | | | | | of Roaming | | | | | | during | | | | | | registration | | | | | | or the | | | | | | subscription | | | | | | data update | | | | | | to the UE. | | | | | | The UDM may | | | | | | detect the | | | | | | need to send | | | | | | sorInfo by | | | | | | retrieving | | | | | | context | | | | | | information | | | | | | from the UDR. | +---------------+---------------+---+-------------+---------------+ | upuInfo | UpuInfo | O | 0..1 | This IE shall | | | | | | be present if | | | | | | the UDM shall | | | | | | send the | | | | | | information | | | | | | for UE | | | | | | Parameters | | | | | | Update after | | | | | | the UE has | | | | | | been | | | | | | successfully | | | | | | authenticated | | | | | | and | | | | | | registered to | | | | | | the 5G | | | | | | system. | +---------------+---------------+---+-------------+---------------+ | micoAllowed | MicoAllowed | O | 0..1 | Indicates | | | | | | whether the | | | | | | UE | | | | | | subscription | | | | | | allows MICO | | | | | | mode. | +---------------+---------------+---+-------------+---------------+ | sh | array( | O | 0..N | Identifier of | | aredAmDataIds | SharedDataId) | | | shared Access | | | | | | And Mobility | | | | | | Subscription | | | | | | data | +---------------+---------------+---+-------------+---------------+ | odbP | OdbP | O | 0..1 | Operator | | acketServices | acketServices | | | Determined | | | | | | Barring for | | | | | | Packet | | | | | | Oriented | | | | | | Services | +---------------+---------------+---+-------------+---------------+ | subs | array(Dnn) | O | 0..N | List of the | | cribedDnnList | | | | subscribed | | | | | | DNNs for the | | | | | | UE (including | | | | | | optionally | | | | | | the Wildcard | | | | | | DNN). Used to | | | | | | determine the | | | | | | list of LADN | | | | | | available to | | | | | | the UE as | | | | | | defined in | | | | | | clause 5.6.5 | | | | | | of | | | | | | TS | | | | | | 23.501 [2]. | +---------------+---------------+---+-------------+---------------+ | nssaiInc | boolean | O | 0..1 | Indicates | | lusionAllowed | | | | that the UE | | | | | | is allowed to | | | | | | include NSSAI | | | | | | in the RRC | | | | | | connection | | | | | | establishment | | | | | | in clear text | | | | | | for 3GPP | | | | | | access. | | | | | | | | | | | | true: | | | | | | indicates | | | | | | that NSSAI | | | | | | can be | | | | | | included in | | | | | | RRC | | | | | | connection | | | | | | establishment | | | | | | by the UE. | | | | | | | | | | | | false or | | | | | | absent: | | | | | | indicates | | | | | | that NSSAI | | | | | | cannot be | | | | | | included. | +---------------+---------------+---+-------------+---------------+ | NOTE: | | | | | | AccessA | | | | | | ndMobilitySub | | | | | | scriptionData | | | | | | can be | | | | | | UE-individual | | | | | | data or | | | | | | shared data.\ | | | | | | UE-individual | | | | | | data take | | | | | | precedence | | | | | | over shared | | | | | | data.\ | | | | | | E.g.: When an | | | | | | attribute of | | | | | | type array is | | | | | | present but | | | | | | empty within | | | | | | UE-Individual | | | | | | data and | | | | | | present (with | | | | | | any | | | | | | cardinality) | | | | | | in shared | | | | | | data, the | | | | | | empty array | | | | | | takes | | | | | | precedence. | | | | | | Similarly, | | | | | | when a | | | | | | nullable | | | | | | attribute is | | | | | | present with | | | | | | value null | | | | | | within the | | | | | | individual | | | | | | data and | | | | | | present (with | | | | | | any value) in | | | | | | shared data, | | | | | | the null | | | | | | value takes | | | | | | precedence | | | | | | (i.e. for the | | | | | | concerned UE | | | | | | the attribute | | | | | | is considered | | | | | | absent). | | | | | +---------------+---------------+---+-------------+---------------+
##### 6.1.6.2.5 Type: SmfSelectionSubscriptionData
Table 6.1.6.2.5-1: Definition of type SmfSelectionSubscriptionData
* * *
Attribute name Data type P Cardinality Description
* * *
supportedFeatures SupportedFeatures O 0..1 See clause 6.1.8
subscribedSnssaiInfos map(SnssaiInfo) O 0..N List of S-NSSAIs and associated
information (DNN Info); see 3GPP TS 23.501 [2] clause 6.3.2.\ A map (list of
key-value pairs where singleNssai converted to string serves as key; see 3GPP
TS 29.571 [7]) of arrays of DnnInfo
sharedSnssaiInfosId SharedDataId O 0..1 Identifier of shared SnssaiInfos.
NOTE: A single UE-individual subscribedSnssaiInfo (within
subscribedSnssaiInfos) may clash with a sharedSnssaiInfo (i.e. both have the
same singleNssai value as key). In this case the UE-individual
subscribedSnssaiInfo takes precedence.
* * *
##### 6.1.6.2.6 Type: DnnInfo
Table 6.1.6.2.6-1: Definition of type DnnInfo
+---------------+---------------+---+-------------+---------------+ | Attribute | Data type | P | Cardinality | Description | | name | | | | | +===============+===============+===+=============+===============+ | dnn | Dnn | M | 1 | Data Network | | | | | | Name, or | | | | | | Wildcard DNN | | | | | | (NOTE) | +---------------+---------------+---+-------------+---------------+ | defaul | Defaul | O | 0..1 | Indicates | | tDnnIndicator | tDnnIndicator | | | whether this | | | | | | DNN is the | | | | | | default DNN:\ | | | | | | true: The DNN | | | | | | is the | | | | | | default DNN | | | | | | (NOTE);\ | | | | | | false: The | | | | | | DNN is not | | | | | | the default | | | | | | DNN;\ | | | | | | If this | | | | | | attribute is | | | | | | absent it | | | | | | means the DNN | | | | | | is not the | | | | | | default DNN. | +---------------+---------------+---+-------------+---------------+ | lboR | LboR | O | 0..1 | Indicates | | oamingAllowed | oamingAllowed | | | whether local | | | | | | breakout for | | | | | | the DNN is | | | | | | allowed when | | | | | | roaming:\ | | | | | | true: | | | | | | Allowed;\ | | | | | | false: Not | | | | | | allowed;\ | | | | | | If this | | | | | | attribute is | | | | | | absent it | | | | | | means not | | | | | | allowed. | +---------------+---------------+---+-------------+---------------+ | iwkEpsInd | IwkEpsInd | O | 0..1 | Indicates | | | | | | whether | | | | | | interworking | | | | | | with EPS is | | | | | | subscribed: | | | | | | | | | | | | true: | | | | | | Subscribed;\ | | | | | | false: Not | | | | | | subscribed;\ | | | | | | If this | | | | | | attribute is | | | | | | absent it | | | | | | means not | | | | | | subscribed. | +---------------+---------------+---+-------------+---------------+ | dnnBarred | boolean | C | 0..1 | Indicates | | | | | | whether the | | | | | | DNN is | | | | | | barred. | | | | | | Absence and | | | | | | false | | | | | | indicates | | | | | | \"not | | | | | | barred\".\ | | | | | | This | | | | | | attribute is | | | | | | only used on | | | | | | the Nudr | | | | | | interface. | | | | | | The UDM shall | | | | | | handle barred | | | | | | DNNs received | | | | | | from the UDR | | | | | | as not | | | | | | subscribed. | +---------------+---------------+---+-------------+---------------+ | NOTE: If the | | | | | | dnn attribute | | | | | | contains the | | | | | | value of the | | | | | | Wildcard DNN | | | | | | (\"*\"), the | | | | | | defaul | | | | | | tDnnIndicator | | | | | | shall not be | | | | | | set to true. | | | | | +---------------+---------------+---+-------------+---------------+
##### 6.1.6.2.7 Type: SnssaiInfo
Table 6.1.6.2.7-1: Definition of type SnssaiInfo
Attribute name Data type P Cardinality Description
* * *
dnnInfos array(DnnInfo) M 1..N list of Data Network Names for an S-NSSAI and
associated information
##### 6.1.6.2.8 Type: SessionManagementSubscriptionData
Table 6.1.6.2.8-1: SessionManagementSubscriptionData
* * *
Attribute name Data type P Cardinality Description
* * *
singleNssai Snssai M 1 A single Network Slice Selection Assistance Information
dnnConfigurations map(DnnConfiguration) O 0..N Additional DNN configurations
for the network slice;\ A map (list of key-value pairs where DNN, or
optionally thae Wildcard DNN, serves as key; see clause 6.1.6.1) of
DnnConfigurations.
internalGroupIds array(GroupId) O 1..N List of internal group identifier; see
3GPP TS 23.501 [2] clause 5.9.7
sharedDnnConfigurationsId SharedDataId O 0..1 Identifier of shared data.
odbPacketServices OdbPacketServices O 0..1 Operator Determined Barring for
Packet Oriented Services
NOTE: A given UE-individual dnnConfiguration (within dnnConfigurations) may
clash with a shared dnnConfiguration (i.e. both have the same dnn value as
key). In this case the clashing attributes of the UE-individual
dnnConfiguration take precedence.
* * *
##### 6.1.6.2.9 Type: DnnConfiguration
Table 6.1.6.2.9-1: DnnConfiguration
+---------------+---------------+---+-------------+---------------+ | Attribute | Data type | P | Cardinality | Description | | name | | | | | +===============+===============+===+=============+===============+ | pd | Pd | M | 1 | De | | uSessionTypes | uSessionTypes | | | fault/Allowed | | | | | | session types | +---------------+---------------+---+-------------+---------------+ | sscModes | SscModes | M | 1 | De | | | | | | fault/Allowed | | | | | | SSC modes | +---------------+---------------+---+-------------+---------------+ | iwkEpsInd | IwkEpsInd | O | 0..1 | Indicates | | | | | | whether | | | | | | interworking | | | | | | with EPS is | | | | | | subscribed: | | | | | | | | | | | | true: | | | | | | Subscribed;\ | | | | | | false: Not | | | | | | subscribed;\ | | | | | | If this | | | | | | attribute is | | | | | | absent it | | | | | | means not | | | | | | subscribed. | +---------------+---------------+---+-------------+---------------+ | 5gQosProfile | Subscri | O | 0..1 | 5G QoS | | | bedDefaultQos | | | parameters | | | | | | associated to | | | | | | the session | | | | | | for a data | | | | | | network | +---------------+---------------+---+-------------+---------------+ | sessionAmbr | Ambr | O | 0..1 | The maximum | | | | | | aggregated | | | | | | uplink and | | | | | | downlink bit | | | | | | rates to be | | | | | | shared across | | | | | | all Non-GBR | | | | | | QoS Flows in | | | | | | each PDU | | | | | | Session | +---------------+---------------+---+-------------+---------------+ | 3 | 3 | O | 0..1 | Subscribed | | gppChargingCh | GppChargingCh | | | charging | | aracteristics | aracteristics | | | ch | | | | | | aracteristics | | | | | | data | | | | | | associated to | | | | | | the session | | | | | | for a data | | | | | | network | +---------------+---------------+---+-------------+---------------+ | st | arr | O | 1..2 | Subscribed | | aticIpAddress | ay(IpAddress) | | | static IP | | | | | | address(es) | | | | | | of the IPv4 | | | | | | and/or IPv6 | | | | | | type | +---------------+---------------+---+-------------+---------------+ | upSecurity | UpSecurity | O | 0..1 | When present, | | | | | | this IE shall | | | | | | indicate the | | | | | | security | | | | | | policy for | | | | | | integrity | | | | | | protection | | | | | | and | | | | | | encryption | | | | | | for the user | | | | | | plane. | +---------------+---------------+---+-------------+---------------+
##### 6.1.6.2.10 Void
##### 6.1.6.2.11 Type: PduSessionTypes
Table 6.1.6.2.11-1: PduSessionTypes
Attribute name Data type P Cardinality Description
* * *
defaultSessionType PduSessionType M 1 Default session type allowedSessionTypes
array(PduSessionType) O 1..N Additional session types allowed for the data
network
##### 6.1.6.2.12 Type: SscModes
Table 6.1.6.2.12-1: SscModes
Attribute name Data type P Cardinality Description
* * *
defaultSscMode SscMode M 1 Default SSC mode allowedSscModes array(SscMode) O
1..2 Additional SSC modes allowed for the data network
##### 6.1.6.2.13 Type: SmsSubscriptionData
Table 6.1.6.2.13-1: Definition of type SmsSubscriptionData
Attribute name Data type P Cardinality Description
* * *
smsSubscribed SmsSubscribed C 0..1 Indicates whether the UE subscription
allows SMS delivery over NAS. Shall not be absent unless the feature
SharedData is supported and smsSubscribed is present within shared data.
sharedSmsSubsDataId SharedDataId C 0..1 Identifier of shared data. Shall be
present if smsSubscribed is absent.
##### 6.1.6.2.14 Type: SmsManagementSubscriptionData
Table 6.1.6.2.14-1: Definition of type SmsManagementSubscriptionData
Attribute name Data type P Cardinality Description
* * *
supportedFeatures SupportedFeatures O 0..1 See clause 6.1.8 mtSmsSubscribed
boolean C 1 Indicates the SMS teleservice subscription for MT-SMS. Shall not
be absent unless the feature SharedData is supported and mtSmsSubscribed is
present within shared data. mtSmsBarringAll boolean C 0..1 Barring of all MT-
SMS mtSmsBarringRoaming boolean C 0..1 Barring of MT-SMS when roaming outside
the Home Public Land Mobile Network (PLMN) country moSmsSubscribed boolean C 1
Indicates the SMS teleservice subscription for MO-SMS. Shall not be absent
unless the feature SharedData is supported and mtSmsSubscribed is present
within shared data. moSmsBarringAll boolean C 0..1 Barring of all MO-SMS
moSmsBarringRoaming boolean C 0..1 Barring of MO-SMS when roaming outside the
Home Public Land Mobile Network (PLMN) country sharedSmsMngDataIds
array(SharedDataId) C 1..N Identifier of shared data. Shall be present if
mtSmsSubscribed and/or moSmsSubscribed are absent.
##### 6.1.6.2.15 Type: SubscriptionDataSets
Table 6.1.6.2.15-1: SusbcriptionDataSets
Attribute name Data type P Cardinality Description
* * *
amData AccessAndMobilitySubscriptionData O 0..1 Access and Mobility
Subscription Data smfSelData SmfSelectionSubscriptionData O 0..1 SMF Selection
Subscription Data uecSmfData UeContextInSmfData O 0..1 UE Context In SMF Data
uecSmsfData UeContextInSmsfData O 0..1 UE Context In SMSF Data smsSubsData
SmsSubscriptionData O 0..1 SMS Subscription Data smData
array(SessionmanagementsubscriptionData) O 1..N Session Management
Subscription Data traceData TraceData O 0..1 Trace Data. The Null value
indicates that trace is not active. smsMngData SmsManagementSubscriptionData O
0..1 SMS Management Subscription Data
##### 6.1.6.2.16 Type: UeContextInSmfData
Table 6.1.6.2.16-1: Definition of type UeContextInSmfData
Attribute name Data type P Cardinality Description
* * *
pduSessions map(PduSession) O 0..N A map (list of key-value pairs where
pduSessionId converted from integer to string serves as key; see clause
6.1.6.1) of PduSessions. pgwInfo array(PgwInfo) O 1..N Information about the
DNNs/APNs and PGW-C+SMF FQDNs used in interworking with EPS emergencyInfo
EmergencyInfo O 0..1 Information about emergency session
##### 6.1.6.2.17 Type: PduSession
Table 6.1.6.2.17-1: Definition of type PduSession
Attribute name Data type P Cardinality Description
* * *
dnn Dnn M 1 Data Network Name smfInstanceId NfInstanceId M 1 NF Instance Id of
the SMF plmnId PlmnId M 1 PLMN Id of the SMF
##### 6.1.6.2.18 Type: IdTranslationResult
Table 6.1.6.2.18-1: Definition of type IdTranslationResult
Attribute name Data type P Cardinality Description
* * *
supportedFeatures SupportedFeatures O 0..1 See clause 6.1.8 supi Supi M 1 SUPI
gpsi Gpsi O 0..1 shall be an MSISDN
##### 6.1.6.2.19 Void
##### 6.1.6.2.20 Void
##### 6.1.6.2.21 Type: ModificationNotification
Table 6.1.6.2.21-1: ModificationNotification
Attribute name Data type P Cardinality Description
* * *
notifyItems array(NotifyItem) M 1..N
##### 6.1.6.2.22 Type: IpAddress
Table 6.1.6.2.22-1: IpAddress
Attribute name Data type P Cardinality Description
* * *
ipv4Addr Ipv4Addr C 0..1  
ipv6Addr Ipv6Addr C 0..1  
ipv6Prefix Ipv6Prefix C 0..1  
NOTE: Either ipv4Addr, or ipv6Addr, or ipv6Prefix shall be present.
##### 6.1.6.2.23 Type: UeContextInSmsfData
Table 6.1.6.2.23-1: Definition of type UeContextInSmsfData
Attribute name Data type P Cardinality Description
* * *
smsfInfo3GppAccess SmsfInfo O 0..1 SMSF Info for 3GPP Access
smsfInfoNon3GppAccess SmsfInfo O 0..1 SMSF Info for Non 3GPP Access
##### 6.1.6.2.24 Type: SmsfInfo
Table 6.1.6.2.24-1: Definition of type SmsfInfo
Attribute name Data type P Cardinality Description
* * *
smsfInstanceId NfInstanceId M 1 NF Instance Id of the SMSF plmnId PlmnId M 1
PLMN Id of the SMSF
##### 6.1.6.2.25 Type: AcknowledgeInfo
Table 6.1.6.2.25: Definition of type AcknowledgeInfo
Attribute name Data type P Cardinality Description
* * *
sorMacIue SorMac C 0..1 Shall be present when the Acknowledgement is sent to
acknowledge receipt of SorInfo. upuMacIue UpuMac C 0..1 Shall be present when
the Acknowledgement is sent to acknowledge receipt of UpuInfo.
provisioningTime DateTime M 1 the provisioning time is used to correlate the
acknowledgement with the modification request, to address glare cases when
multiple modifications are ongoing simultaneously.
##### 6.1.6.2.26 Type: SorInfo
Table 6.1.6.2.26: Definition of type SorInfo
+---------------+---------------+---+-------------+---------------+ | Attribute | Data type | P | Cardinality | Description | | name | | | | | +===============+===============+===+=============+===============+ | ackInd | AckInd | M | 1 | Contains the | | | | | | indication | | | | | | whether the | | | | | | ac | | | | | | knowledgement | | | | | | from UE is | | | | | | needed. | +---------------+---------------+---+-------------+---------------+ | sorMacIausf | SorMac | C | 0..1 | Contains the | | | | | | S | | | | | | oR-MAC-IAUSF. | | | | | | Shall be | | | | | | present when | | | | | | SorInfo is | | | | | | sent within | | | | | | AccessA | | | | | | ndMobilitySub | | | | | | scriptionData | | | | | | on Nudm, and | | | | | | shall be | | | | | | absent when | | | | | | sent on Nudr. | +---------------+---------------+---+-------------+---------------+ | countersor | CounterSor | C | 0..1 | Contains the | | | | | | CounterSoR. | | | | | | Shall be | | | | | | present when | | | | | | SorInfo is | | | | | | sent within | | | | | | Acc | | | | | | essAndMobilit | | | | | | ySubscription | | | | | | on Nudm, and | | | | | | shall be | | | | | | absent when | | | | | | sent on Nudr. | +---------------+---------------+---+-------------+---------------+ | stee | Stee | C | 0..1 | When present, | | ringContainer | ringContainer | | | this | | | | | | information | | | | | | contains the | | | | | | information | | | | | | needed to | | | | | | update the | | | | | | \"Operator | | | | | | Controlled | | | | | | PLMN Selector | | | | | | with Access | | | | | | Technology\" | | | | | | list stored | | | | | | in the USIM | | | | | | either as an | | | | | | array of | | | | | | preferred | | | | | | PLMN/Acces | | | | | | sTechnologies | | | | | | combinations | | | | | | in priority | | | | | | order. The | | | | | | first entry | | | | | | in the array | | | | | | indicates the | | | | | | highest | | | | | | priority and | | | | | | the last | | | | | | entry | | | | | | indicates the | | | | | | lowest. Or it | | | | | | may contain a | | | | | | secured | | | | | | packet. | | | | | | | | | | | | If no change | | | | | | of the | | | | | | \"Operator | | | | | | Controlled | | | | | | PLMN Selector | | | | | | with Access | | | | | | Technology\" | | | | | | list stored | | | | | | in the USIM | | | | | | is needed, | | | | | | then this | | | | | | attribute | | | | | | shall be | | | | | | absent. | +---------------+---------------+---+-------------+---------------+ | pro | DateTime | M | 1 | Point in time | | visioningTime | | | | of SorInfo | | | | | | provisioning | | | | | | at the UDR. | +---------------+---------------+---+-------------+---------------+
##### 6.1.6.2.27 Type: SharedData
Table 6.1.6.2.27-1: SharedData
+---------------+---------------+---+-------------+---------------+ | Attribute | Data type | P | Cardinality | Description | | name | | | | | +===============+===============+===+=============+===============+ | sharedDataId | SharedDataId | M | 1 | Identifier of | | | | | | the shared | | | | | | data | +---------------+---------------+---+-------------+---------------+ | sharedAmData | AccessA | O | 0..1 | Shared Access | | | ndMobilitySub | | | and Mobility | | | scriptionData | | | Subscription | | | | | | Data | +---------------+---------------+---+-------------+---------------+ | shar | SmsSub | O | 0..1 | Shared SMS | | edSmsSubsData | scriptionData | | | Subscription | | | | | | Data | +---------------+---------------+---+-------------+---------------+ | sharedS | Sms | O | 0..1 | Shared SMS | | msMngSubsData | ManagementSub | | | Management | | | scriptionData | | | Subscription | | | | | | Data | +---------------+---------------+---+-------------+---------------+ | sharedDnnC | map(DnnC | O | 1..N | Shared DNN | | onfigurations | onfiguration) | | | c | | | | | | onfigurations | +---------------+---------------+---+-------------+---------------+ | sh | TraceData | O | 0..1 | Shared Trace | | aredTraceData | | | | Data | +---------------+---------------+---+-------------+---------------+ | shar | ma | O | 1..N | Shared Snssai | | edSnssaiInfos | p(SnssaiInfo) | | | Infos | +---------------+---------------+---+-------------+---------------+ | Note 1: | | | | | | Exactly one | | | | | | of | | | | | | sharedAmData, | | | | | | share | | | | | | dSmsSubsData, | | | | | | sharedS | | | | | | msMngSubsData | | | | | | sharedDnnCo | | | | | | nfigurations, | | | | | | sh | | | | | | aredTraceData | | | | | | and | | | | | | shar | | | | | | edSnssaiInfos | | | | | | shall be | | | | | | present. | | | | | | | | | | | | Note 2: The | | | | | | attributes | | | | | | sharedAmData, | | | | | | shar | | | | | | edSmsSubsData | | | | | | and | | | | | | SharedS | | | | | | msMngSubsData | | | | | | shall not | | | | | | contain | | | | | | sharedDataIds | | | | | | | | | | | | Note 3: When | | | | | | shared data | | | | | | clash with | | | | | | individual | | | | | | data, | | | | | | individual | | | | | | data shall | | | | | | take | | | | | | precedence. | | | | | +---------------+---------------+---+-------------+---------------+
##### 6.1.6.2.28 Type: PgwInfo
Table 6.1.6.2.28-1: PgwInfo
Attribute name Data type P Cardinality Description
* * *
dnn Dnn M 1 DNN/APN pgwFqdn string M 1 FQDN of the PGW-C+SMF plmnId PlmnId O
0..1 PLMN where the PGW-C+SMF is located
##### 6.1.6.2.29 Type: TraceDataResponse
Table 6.1.6.2.29-1: TraceDataResponse
Attribute name Data type P Cardinality Description
* * *
traceData TraceData C 0..1 UE-individual trace data. Shall not be absent
unless the feature SharedData is supported and traceData is present within
shared data. sharedTraceDataId SharedDataId C 0..1 Shared data identifier.
Shall be present if traceData is absent.
##### 6.1.6.2.30 Type: SteeringContainer
Table 6.1.6.2.30-1: Definition of type SteeringContainer as a list of
alternatives
Data type Cardinality Description
* * *
array(SteeringInfo) 1..N List of PLMN/AccessTechnologies combinations.
SecuredPacket 1 A Secured packet containing one or more APDUs commands
dedicated to Remote File Management or command responses (see ETSI TS 102.225
[28]).
##### 6.1.6.2.31 Type: SdmSubsModification
Table 6.1.6.2.31-1: SdmSubsModification
+----------------+------------+---+-------------+----------------+ | Attribute name | Data type | P | Cardinality | Description | +================+============+===+=============+================+ | expires | DateTime | O | 0..1 | If present, | | | | | | indicates the | | | | | | point in time | | | | | | at which the | | | | | | subscription | | | | | | expires. | | | | | | Within a PATCH | | | | | | request the | | | | | | proposed new | | | | | | expiry time is | | | | | | conveyed. | +----------------+------------+---+-------------+----------------+ | monitor | array(Uri) | C | 1..N | If present, | | edResourceUris | | | | indicates the | | | | | | updated | | | | | | resources URIs | | | | | | to be | | | | | | monitored. | | | | | | | | | | | | The URI shall | | | | | | take the form | | | | | | of either an | | | | | | absolute URI | | | | | | or an | | | | | | absolute-path | | | | | | reference as | | | | | | defined in | | | | | | IETF RF | | | | | | C 3986 [31]. | +----------------+------------+---+-------------+----------------+
##### 6.1.6.2.32 Type: EmergencyInfo
Table 6.1.6.2.32-1: EmergencyInfo
Attribute name Data type P Cardinality Description
* * *
pgwFqdn string C 0..1 FQDN of the PGW-C+SMF for emergency session; either
pgwFqdn or ipAddress shall be present. pgwIpAddress IpAddress C 0..1 IP
address of the PGW-C+SMF for emergency session smfInstanceId NfInstanceId O
0..1 NF Instance Id of the SMF for emergency session
##### 6.1.6.2.33 Type: UpuInfo
Table 6.1.6.2.33-1: Definition of type UpuInfo
Attribute name Data type P Cardinality Description
* * *
upuDataList array(UpuData) M 1..N This information defines the UE Parameters
Update (UPU). A secured packed with the Routing indicator update data is
included and/or the Default configured NSSAI update data are included.
upuRegInd UpuRegInd M 1 Contains the indication of whether the re-registration
is requested. upuAckInd UpuAckInd M 1 Contains the indication of whether the
acknowledgement from UE is needed. upuMacIausf UpuMac C 0..1 Contains the UPU-
MAC-I~AUSF~. Shall be present when UpuInfo is sent within
AccessAndMobilitySubscriptionData on Nudm, and shall be absent when sent on
Nudr. counterUpu CounterUpu C 0..1 Contains the Counter~UPU.~ Shall be present
when UpuInfo is sent within AccessAndMobilitySubscriptionData on Nudm, and
shall be absent when sent on Nudr. provisioningTime DateTime M 1 Point in time
of provisioning of UPU by the UDR.
##### 6.1.6.2.34 Type: GroupIdentifiers
Table 6.1.6.2.34-1: Definition of type GroupIdentifiers
Attribute name Data type P Cardinality Description
* * *
extGroupId ExtGroupId C 0..1 This IE shall contain the External Group ID
associated to the provided Internal Group ID. intGroupId GroupId C 0..1 This
IE shall contain the Internal Group ID associated to the provided External
Group ID..
#### 6.1.6.3 Simple data types and enumerations
##### 6.1.6.3.1 Introduction
This clause defines simple data types and enumerations that can be referenced
from data structures defined in the previous clauses.
##### 6.1.6.3.2 Simple data types
The simple data types defined in table 6.1.6.3.2-1 shall be supported.
Table 6.1.6.3.2-1: Simple data types
+------------------------+-----------------+------------------------+ | Type Name | Type Definition | Description | +------------------------+-----------------+------------------------+ | DefaultDnnIndicator | boolean | Indicates whether a | | | | DNN is the default DNN | +------------------------+-----------------+------------------------+ | LboRoamingAllowed | boolean | This flag indicates | | | | whether local breakout | | | | is allowed when | | | | roaming. | +------------------------+-----------------+------------------------+ | UeUsageType | integer | Indicates the usage | | | | characteristics of the | | | | UE, enables the | | | | selection of a | | | | specific Dedicated | | | | Core Network for EPS | | | | interworking | +------------------------+-----------------+------------------------+ | MpsPriorityIndicator | boolean | Indicates whether UE | | | | is subscribed to | | | | multimedia priority | | | | service | +------------------------+-----------------+------------------------+ | McsPriorityIndicator | boolean | Indicates whether UE | | | | is subscribed to | | | | mission critical | | | | service | +------------------------+-----------------+------------------------+ | 3GppC | string | 16-bit string | | hargingCharacteristics | | identifying charging | | | | characteristics as | | | | specified in | | | | 3GPP TS 32.255 [11] | | | | Annex A and | | | | 3GPP TS 32.298 [12] | | | | clause 5.1.2.2.7, in | | | | hexadecimal | | | | representation. Each | | | | character in the | | | | string shall take a | | | | value of \"0\" to | | | | \"9\" or \"A\" to | | | | \"F\" and shall | | | | represent 4 bits. The | | | | most significant | | | | character representing | | | | the 4 most significant | | | | bits of the charging | | | | characteristics shall | | | | appear first in the | | | | string, and the | | | | character representing | | | | the 4 least | | | | significant bits of | | | | the charging | | | | characteristics shall | | | | appear last in the | | | | string. | | | | | | | | Example: | | | | | | | | The charging | | | | characteristic 0x123A | | | | shall be encoded as | | | | \"123A\". | +------------------------+-----------------+------------------------+ | DlPacketCount | integer | The following values | | | | are defined: | | | | | | | | 0: \"Extended DL Data | | | | Buffering NOT | | | | REQUESTED\" | | | | | | | | -1: \"Extended DL Data | | | | Buffering REQUESTED, | | | | without a suggested | | | | number of packets\" | | | | | | | | n>0: \"Extended DL | | | | Data Buffering | | | | REQUESTED, with a | | | | suggested number of n | | | | packets\" | +------------------------+-----------------+------------------------+ | MicoAllowed | boolean | Indicates whether MICO | | | | mode is allowed for | | | | the UE. | +------------------------+-----------------+------------------------+ | SmsSubscribed | boolean | Indicates whether the | | | | UE subscription allows | | | | SMS delivery over NAS. | +------------------------+-----------------+------------------------+ | SharedDataId | string | Identifies globally | | | | and uniquely a piece | | | | of subscription data | | | | shared by multiple | | | | UEs. The value shall | | | | start with the HPLMN | | | | id (MCC/MNC) followed | | | | by a hyphen followed | | | | by a local Id as | | | | allocated by the home | | | | network operator.\ | | | | pattern: | | | | \"[0-9]{5,6}-.+\" | +------------------------+-----------------+------------------------+ | IwkEpsInd | boolean | Indicates whether | | | | Interworking with EPS | | | | is supported | +------------------------+-----------------+------------------------+ | SecuredPacket | string | Indicates the secured | | | | packet as specified in | | | | 3GPP TS 24.501 [27]. | | | | It is encoded using | | | | base64 and represented | | | | as a String. | +------------------------+-----------------+------------------------+ | UpuRegInd | boolean | true indicates that | | | | re-registration is | | | | requested after the | | | | successful UE | | | | parameters update. | +------------------------+-----------------+------------------------+ | ExtGroupId | string | String containing a | | | | External Group ID. | | | | | | | | Pattern: | | | | \"\^extgroupid | | | | -[\^@]+@[\^@]+\$\" | +------------------------+-----------------+------------------------+
##### 6.1.6.3.3 Enumeration: DataSetName
Table 6.1.6.3.3-1: Enumeration DataSetName
Enumeration value Description
* * *
\"AM\" Access and Mobility Subscription Data \"SMF_SEL\" SMF Selection
Subscription Data \"UEC_SMF\" UE Context in SMF Data \"UEC_SMSF\" UE Context
in SMSF Data \"SMS_SUB\" SMS Subscription Data \"SM\" Session Management
Subscription Data \"TRACE\" Trace Data \"SMS_MNG\" SMS Management Subscription
Data
Note: The current naming conventions for Enumerations (uppercase with
underscore), when their intended usage is for query parameters is not
consistent with the naming conventions for URI components (lowercase with
hyphen).
##### 6.1.6.3.4 Void
##### 6.1.6.3.5 Void
##### 6.1.6.3.6 Void
### 6.1.7 Error Handling
#### 6.1.7.1 General
HTTP error handling shall be supported as specified in clause 5.2.4 of 3GPP TS
29.500 [4].
#### 6.1.7.2 Protocol Errors
Protocol errors handling shall be supported as specified in clause 5.2.7 of
3GPP TS 29.500 [4].
#### 6.1.7.3 Application Errors
_The common application errors defined in the Table 5.2.7.2-1 in 3GPP TS
29.500 [4] may also be used for the Nudm__ SubscriberDataManagement _service._
The following application errors listed in Table 6.1.7.3-1 are specific for
the _Nudm__ SubscriberDataManagement service.
Table 6.1.7.3-1: Application errors
+----------------------+----------------------+----------------------+ | Application Error | HTTP status code | Description | +======================+======================+======================+ | NF_CONSUMER | 307 Temporary | The request has been | | _REDIRECT_ONE_TXN | Redirect | asked to be | | | | redirected to a | | | | specified target for | | | | one transaction. | +----------------------+----------------------+----------------------+ | CONTEXT_NOT_FOUND | 308 Permanent | The request has been | | | Redirect | asked to be | | | | redirected to a | | | | specified target. | +----------------------+----------------------+----------------------+ | DATA_NOT_FOUND | 404 Not Found | The requested UE | | | | subscription data is | | | | not found/does not | | | | exist. | | | | | | | | This error is | | | | applicable to all | | | | Nudm_SDM GET | | | | operations. | +----------------------+----------------------+----------------------+ | USER_NOT_FOUND | 404 Not Found | The user does not | | | | exist | | | | | | | | This error is | | | | applicable to all | | | | Nudm_SDM GET | | | | operations. | +----------------------+----------------------+----------------------+ | CONTEXT_NOT_FOUND | 404 Not Found | It is used during | | | | the modification of | | | | an existing | | | | subscription when no | | | | corresponding | | | | context exists. | +----------------------+----------------------+----------------------+ | GROUP_ID | 404 Not Found | The requested Group | | ENTIFIER_NOT_FOUND | | Identifier does not | | | | exist. | +----------------------+----------------------+----------------------+ | UNSUPP | 501 Not Implemented | The SDM Subscription | | ORTED_RESOURCE_URI | | contains unsupported | | | | resource URI to be | | | | monitored. | +----------------------+----------------------+----------------------+
### 6.1.8 Feature Negotiation
The optional features in table 6.1.8-1 are defined for the Nudm_SDM API. They
shall be negotiated using the extensibility mechanism defined in clause 6.6 of
3GPP TS 29.500 [4].
Table 6.1.8-1: Supported Features
Feature number Feature Name Description
* * *
1 SharedData When receiving a Nudm_SDM_Get service operation request to
retrieve a UE\'s individual subscription data, and the request does not
contain a supported-features query parameter indicating support of this
feature, the UDM shall not include Shared Data Ids in the response. Instead
the UDM may -- based on operator policy -- take no further action (i.e. allow
the UE to get services based on only the UE\'s individual subscription data),
or send the shared data as individual data (this may result in notifications
of individual subscription data change -- if so subscribed -- when shared
data, which are sent as individual data, are modified, and/or when the UE\'s
Shared Data IDs are modified).
### 6.1.9 Security
As indicated in 3GPP TS 33.501 [6] and 3GPP TS 29.500 [4], the access to the
Nudm_SDM API may be authorized by means of the OAuth2 protocol (see IETF RFC
6749 [18]), based on local configuration, using the \"Client Credentials\"
authorization grant, where the NRF (see 3GPP TS 29.510 [19]) plays the role of
the authorization server.
If OAuth2 is used, an NF Service Consumer, prior to consuming services offered
by the Nudm_SDM API, shall obtain a \"token\" from the authorization server,
by invoking the Access Token Request service, as described in 3GPP TS 29.510
[19], clause 5.4.2.2.
NOTE: When multiple NRFs are deployed in a network, the NRF used as
authorization server is the same NRF that the NF Service Consumer used for
discovering the Nudm_SDM service.
The Nudm_SDM API defines a single scope \"nudm-sdm\" for OAuth2 authorization
(as specified in 3GPP TS 33.501 [6]) for the entire API, and it does not
define any additional scopes at resource or operation level.
## 6.2 Nudm_UEContextManagement Service API
### 6.2.1 API URI
URIs of this API shall have the following root:
{apiRoot}/{apiName}/{apiVersion}/
where \"apiRoot\" is defined in clause 4.4.1 of 3GPP TS 29.501 [5], the
\"apiName\" shall be set to \"nudm-uecm\" and the \"apiVersion\" shall be set
to \"v1\" for the current version of this specification.
### 6.2.2 Usage of HTTP
#### 6.2.2.1 General
HTTP/2, as defined in IETF RFC 7540 [13], shall be used as specified in clause
5 of 3GPP TS 29.500 [4].
HTTP/2 shall be transported as specified in clause 5.3 of 3GPP TS 29.500 [4].
HTTP messages and bodies for the Nudm_UECM service shall comply with the
OpenAPI [14] specification contained in Annex A3.
#### 6.2.2.2 HTTP standard headers
##### 6.2.2.2.1 General
The usage of HTTP standard headers shall be supported as specified in clause
5.2.2 of 3GPP TS 29.500 [4].
##### 6.2.2.2.2 Content type
The following content types shall be supported:
JSON, as defined in IETF RFC 8259 [15], signalled by the content type
\"application/json\".
The Problem Details JSON Object (IETF RFC 7807 [16] signalled by the content
type \"application/problem+json\"
JSON Merge Patch, as defined in IETF RFC 7396 [17], signalled by the content
type \"application/merge-patch+json\"
#### 6.2.2.3 HTTP custom headers
##### 6.2.2.3.1 General
The usage of HTTP custom headers shall be supported as specified in clause
5.2.3 of 3GPP TS 29.500 [4].
### 6.2.3 Resources
#### 6.2.3.1 Overview
Figure 6.2.3.1-1: Resource URI structure of the Nudm_UECM API
Table 6.2.3.1-1 provides an overview of the resources and applicable HTTP
methods.
Table 6.2.3.1-1: Resources and methods overview
* * *
Resource name\ Resource URI HTTP method or custom operation Description
(Archetype)
* * *
Amf3GppAccessRegistration\ /{ueId}/registrations/amf-3gpp-access PUT Update
the AMF registration for 3GPP access (Document)
                                                                                            PATCH                             Modify the AMF registration for 3GPP access
                                                                                            GET                               Retrieve the AMF registration information for 3GPP access
AmfNon3GppAccessRegistration\ /{ueId}/registrations/amf-non-3gpp-access PUT
Update the AMF registration for non 3GPP access (Document)
                                                                                            PATCH                             Modify the AMF registration for non 3GPP access
                                                                                            GET                               Retrieve the AMF registration information for non 3GPP access
SmfRegistrations\ /{ueId}/registrations/smf-registrations  
(Store)
IndividualSmfRegistration\ /{ueId}/registrations/smf-
registrations/{pduSessionId} PUT Create an SMF registration identified by PDU
Session Id (Document)
                                                                                            DELETE                            Delete an individual SMF registration
                                                                                            PATCH                             Modify an individual SMF Registration
Smsf3GppAccessRegistration\ /{ueId}/registrations/smsf-3gpp-access PUT Create
or Update the SMSF registration (Document)
                                                                                            DELETE                            Delete the SMSF registration for 3GPP access
                                                                                            PATCH                             Modify the SMSF registration
                                                                                            GET                               Retrieve the SMSF registration information
SmsfNon3GppAccessRegistration\ /{ueId}/registrations/smsf-non-3gpp-access PUT
Create or Update the SMSF registration for non 3GPP access (Document)
                                                                                            DELETE                            Delete the SMSF registration for non 3GPP access
                                                                                            PATCH                             Modify the SMSF registration for non 3GPP access
                                                                                            GET                               Retrieve the SMSF registration information for non 3GPP access
* * *
#### 6.2.3.2 Resource: Amf3GppAccessRegistration
##### 6.2.3.2.1 Description
This resource represents the registered AMF for 3GPP access.
##### 6.2.3.2.2 Resource Definition
Resource URI: {apiRoot}/nudm-uecm/v1/{ueId}/registrations/amf-3gpp-access
This resource shall support the resource URI variables defined in table
6.2.3.2.2-1.
Table 6.2.3.2.2-1: Resource URI variables for this resource
* * *
Name Definition
* * *
apiRoot See clause 6.2.1
ueId Represents the Subscription Identifier SUPI or GPSI (see 3GPP TS 23.501
[2] clause 5.9.2)\ SUPI (i.e. imsi or nai) is used with the PUT and PATCH
methods; SUPI (i.e. imsi or nai) or GPSI (i.e. msisdn or extid) is used with
the GET method.\ pattern:
\"(imsi-[0-9]{5,15}\|nai-.+\|msisdn-[0-9]{5,15}\|extid-[\^@]+@[\^@]+\|.+)\"
* * *
##### 6.2.3.2.3 Resource Standard Methods
###### 6.2.3.2.3.1 PUT
This method shall support the URI query parameters specified in table
6.2.3.2.3.1-1.
Table 6.2.3.2.3.1-1: URI query parameters supported by the PUT method on this
resource
* * *
Name Data type P Cardinality Description n/a
* * *
This method shall support the request data structures specified in table
6.2.3.2.3.1-2 and the response data structures and response codes specified in
table 6.2.3.2.3.1-3.
Table 6.2.3.2.3.1-2: Data structures supported by the PUT Request Body on this
resource
* * *
Data type P Cardinality Description Amf3GppAccessRegistration M 1 The AMF
registration for 3GPP access is replaced with the received information.
* * *
Table 6.2.3.2.3.1-3: Data structures supported by the PUT Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | Amf3GppAcces | M | 1 | 201 Created | Upon success, | | sRegistration | | | | a response | | | | | | body | | | | | | containing a | | | | | | r | | | | | | epresentation | | | | | | of the | | | | | | created | | | | | | Individual | | | | | | Amf3GppAcces | | | | | | sRegistration | | | | | | resource | | | | | | shall be | | | | | | returned. | +---------------+---+-------------+---------------+---------------+ | Amf3GppAcces | M | 1 | 200 OK | Upon success, | | sRegistration | | | | a response | | | | | | body | | | | | | containing a | | | | | | r | | | | | | epresentation | | | | | | of the | | | | | | updated | | | | | | Individual | | | | | | Amf3GppAcces | | | | | | sRegistration | | | | | | resource | | | | | | shall be | | | | | | returned. | +---------------+---+-------------+---------------+---------------+ | n/a | | | 204 No | Upon success, | | | | | Content | an empty | | | | | | response body | | | | | | shall be | | | | | | returned | +---------------+---+-------------+---------------+---------------+ | P | M | 1 | 404 Not Found | The \"cause\" | | roblemDetails | | | | attribute | | | | | | shall be set | | | | | | to the | | | | | | following | | | | | | application | | | | | | error: | | | | | | | | | | | | - | | | | | | USE | | | | | | R_NOT_FOUND | +---------------+---+-------------+---------------+---------------+ | P | M | 1 | 403 Forbidden | The \"cause\" | | roblemDetails | | | | attribute | | | | | | shall be set | | | | | | to one of the | | | | | | following | | | | | | application | | | | | | errors: | | | | | | | | | | | | - | | | | | | UNKNOWN_5GS\ | | | | | | _SUBSCRIPTION | | | | | | | | | | | | - | | | | | | NO_PS\ | | | | | | _SUBSCRIPTION | | | | | | | | | | | | - | | | | | | ROAMING\ | | | | | | _NOT_ALLOWED | | | | | | | | | | | | - | | | | | | ACCESS\ | | | | | | _NOT_ALLOWED | | | | | | | | | | | | - | | | | | | RAT\ | | | | | | _NOT_ALLOWED | | | | | | | | | | | | - | | | | | | REAUTHENTICAT | | | | | | ION_REQUIRED | +---------------+---+-------------+---------------+---------------+ | NOTE: In | | | | | | addition | | | | | | common data | | | | | | structures as | | | | | | listed in | | | | | | table 6.2.7-1 | | | | | | are | | | | | | supported. | | | | | +---------------+---+-------------+---------------+---------------+
###### 6.2.3.2.3.2 PATCH
This method shall support the URI query parameters specified in table
6.2.3.2.3.2-1.
Table 6.2.3.2.3.2-1: URI query parameters supported by the PATCH method on
this resource
* * *
Name Data type P Cardinality Description n/a
* * *
This method shall support the request data structures specified in table
6.2.3.2.3.2-2 and the response data structures and response codes specified in
table 6.2.3.2.3.2-3.
Table 6.2.3.2.3.2-2: Data structures supported by the PATCH Request Body on
this resource
* * *
Data type P Cardinality Description Amf3GppAccessRegistrationModification M 1
The AMF registration for 3GPP access is modified with the received
information.
* * *
Table 6.2.3.2.3.2-3: Data structures supported by the PATCH Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | n/a | | | 204 No | Upon success, | | | | | Content | an empty | | | | | | response body | | | | | | shall be | | | | | | returned | +---------------+---+-------------+---------------+---------------+ | P | M | 1 | 404 Not Found | The \"cause\" | | roblemDetails | | | | attribute | | | | | | shall be set | | | | | | to one of the | | | | | | following | | | | | | application | | | | | | errors: | | | | | | | | | | | | - | | | | | | CONTEX | | | | | | T_NOT_FOUND | | | | | | | | | | | | - | | | | | | USE | | | | | | R_NOT_FOUND | +---------------+---+-------------+---------------+---------------+ | P | M | 1 | 422 | The \"cause\" | | roblemDetails | | | Unprocessable | attribute | | | | | Entity | shall be set | | | | | | to the | | | | | | following | | | | | | application | | | | | | error: | | | | | | | | | | | | - | | | | | | UNPROCESS | | | | | | ABLE_REQUEST | +---------------+---+-------------+---------------+---------------+ | NOTE: In | | | | | | addition | | | | | | common data | | | | | | structures as | | | | | | listed in | | | | | | table 6.2.7-1 | | | | | | are | | | | | | supported. | | | | | +---------------+---+-------------+---------------+---------------+
###### 6.2.3.2.3.3 GET
This method shall support the URI query parameters specified in table
6.2.3.2.3.3-1.
Table 6.2.3.2.3.3-1: URI query parameters supported by the GET method on this
resource
* * *
Name Data type P Cardinality Description supported-features SupportedFeatures
O 0..1 see 3GPP TS 29.500 [4] clause 6.6
* * *
This method shall support the request data structures specified in table
6.2.3.2.3.3-2 and the response data structures and response codes specified in
table 6.2.3.2.3.3-3.
Table 6.2.3.2.3.3-2: Data structures supported by the GET Request Body on this
resource
* * *
Data type P Cardinality Description n/a
* * *
Table 6.2.3.2.3.3-3: Data structures supported by the GET Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | Amf3GppAcces | M | 1 | 200 OK | Upon success, | | sRegistration | | | | a response | | | | | | body | | | | | | containing | | | | | | the | | | | | | Amf3GppAcces | | | | | | sRegistration | | | | | | shall be | | | | | | returned. | +---------------+---+-------------+---------------+---------------+ | P | M | 1 | 404 Not Found | The \"cause\" | | roblemDetails | | | | attribute | | | | | | shall be set | | | | | | to one of the | | | | | | following | | | | | | application | | | | | | errors: | | | | | | | | | | | | - | | | | | | CONTEX | | | | | | T_NOT_FOUND | | | | | | | | | | | | - | | | | | | USE | | | | | | R_NOT_FOUND | +---------------+---+-------------+---------------+---------------+ | NOTE: In | | | | | | addition | | | | | | common data | | | | | | structures as | | | | | | listed in | | | | | | table 6.2.7-1 | | | | | | are | | | | | | supported. | | | | | +---------------+---+-------------+---------------+---------------+
#### 6.2.3.3 Resource: AmfNon3GppAccessRegistration
##### 6.2.3.3.1 Description
This resource represents the registered AMF for non 3GPP access.
##### 6.2.3.3.2 Resource Definition
Resource URI: {apiRoot}/nudm-uecm/v1/{ueId}/registrations/amf-non-3gpp-access/
This resource shall support the resource URI variables defined in table
6.2.3.3.2-1.
Table 6.2.3.3.2-1: Resource URI variables for this resource
* * *
Name Definition
* * *
apiRoot See clause 6.2.1
ueId Represents the Subscription Identifier SUPI or GPSI (see 3GPP TS 23.501
[2] clause 5.9.2)\ SUPI (i.e. imsi or nai) is used with the PUT and PATCH
methods; SUPI (i.e. imsi or nai) or GPSI (i.e. msisdn or extid) is used with
the GET method.\ pattern:
\"(imsi-[0-9]{5,15}\|nai-.+\|msisdn-[0-9]{5,15}\|extid-[\^@]+@[\^@]+\|.+)\"
* * *
##### 6.2.3.3.3 Resource Standard Methods
###### 6.2.3.3.3.1 PUT
This method shall support the URI query parameters specified in table
6.2.3.3.3.1-1.
Table 6.2.3.3.3.1-1: URI query parameters supported by the PUT method on this
resource
* * *
Name Data type P Cardinality Description n/a
* * *
This method shall support the request data structures specified in table
6.2.3.3.3.1-2 and the response data structures and response codes specified in
table 6.2.3.3.3.1-3.
Table 6.2.3.3.3.1-2: Data structures supported by the PUT Request Body on this
resource
* * *
Data type P Cardinality Description AmfNon3GppAccessRegistration M 1 The AMF
registration for non 3GPP access is replaced with the received information.
* * *
Table 6.2.3.3.3.1-3: Data structures supported by the PUT Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | Am | M | 1 | 201 Created | Upon success, | | fNon3GppAcces | | | | a response | | sRegistration | | | | body | | | | | | containing a | | | | | | r | | | | | | epresentation | | | | | | of the | | | | | | created | | | | | | Individual | | | | | | Am | | | | | | fNon3GppAcces | | | | | | sRegistration | | | | | | resource | | | | | | shall be | | | | | | returned. | +---------------+---+-------------+---------------+---------------+ | Am | M | 1 | 200 OK | Upon success, | | fNon3GppAcces | | | | a response | | sRegistration | | | | body | | | | | | containing a | | | | | | r | | | | | | epresentation | | | | | | of the | | | | | | updated | | | | | | Individual | | | | | | Am | | | | | | fNon3GppAcces | | | | | | sRegistration | | | | | | resource | | | | | | shall be | | | | | | returned. | +---------------+---+-------------+---------------+---------------+ | n/a | | | 204 No | Upon success, | | | | | Content | an empty | | | | | | response body | | | | | | shall be | | | | | | returned | +---------------+---+-------------+---------------+---------------+ | P | M | 1 | 404 Not Found | The \"cause\" | | roblemDetails | | | | attribute | | | | | | shall be set | | | | | | to the | | | | | | following | | | | | | application | | | | | | error: | | | | | | | | | | | | - | | | | | | USE | | | | | | R_NOT_FOUND | +---------------+---+-------------+---------------+---------------+ | P | M | 1 | 403 Forbidden | The \"cause\" | | roblemDetails | | | | attribute | | | | | | shall be set | | | | | | to one of the | | | | | | following | | | | | | application | | | | | | errors: | | | | | | | | | | | | - | | | | | | UNKNOWN_5GS\ | | | | | | _SUBSCRIPTION | | | | | | | | | | | | - | | | | | | NO_PS\ | | | | | | _SUBSCRIPTION | | | | | | | | | | | | - | | | | | | ROAMING\ | | | | | | _NOT_ALLOWED | | | | | | | | | | | | - | | | | | | ACCESS\ | | | | | | _NOT_ALLOWED | | | | | | | | | | | | - | | | | | | RAT\ | | | | | | _NOT_ALLOWED | | | | | | | | | | | | - | | | | | | REAUTHENTICAT | | | | | | ION_REQUIRED | +---------------+---+-------------+---------------+---------------+ | NOTE: In | | | | | | addition | | | | | | common data | | | | | | structures as | | | | | | listed in | | | | | | table 6.2.7-1 | | | | | | are | | | | | | supported. | | | | | +---------------+---+-------------+---------------+---------------+
###### 6.2.3.3.3.2 PATCH
This method shall support the URI query parameters specified in table
6.2.3.3.3.2-1.
Table 6.2.3.3.3.2-1: URI query parameters supported by the PATCH method on
this resource
* * *
Name Data type P Cardinality Description n/a
* * *
This method shall support the request data structures specified in table
6.2.3.3.3.2-2 and the response data structures and response codes specified in
table 6.2.3.3.3.2-3.
Table 6.2.3.3.3.2-2: Data structures supported by the PATCH Request Body on
this resource
* * *
Data type P Cardinality Description AmfNon3GppAccessRegistrationModification M
1 The AMF registration for non 3GPP access is modified with the received
information.
* * *
Table 6.2.3.3.3.2-3: Data structures supported by the PATCH Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | n/a | | | 204 No | Upon success, | | | | | Content | an empty | | | | | | response body | | | | | | shall be | | | | | | returned | +---------------+---+-------------+---------------+---------------+ | P | M | 1 | 404 Not Found | The \"cause\" | | roblemDetails | | | | attribute | | | | | | shall be set | | | | | | to one of the | | | | | | following | | | | | | application | | | | | | errors: | | | | | | | | | | | | - | | | | | | CONTEX | | | | | | T_NOT_FOUND | | | | | | | | | | | | - | | | | | | USE | | | | | | R_NOT_FOUND | +---------------+---+-------------+---------------+---------------+ | P | M | 1 | 422 | The \"cause\" | | roblemDetails | | | Unprocessable | attribute | | | | | Entity | shall be set | | | | | | to the | | | | | | following | | | | | | application | | | | | | error: | | | | | | | | | | | | - | | | | | | UNPROCESS | | | | | | ABLE_REQUEST | +---------------+---+-------------+---------------+---------------+ | NOTE: In | | | | | | addition | | | | | | common data | | | | | | structures as | | | | | | listed in | | | | | | table 6.2.7-1 | | | | | | are | | | | | | supported. | | | | | +---------------+---+-------------+---------------+---------------+
###### 6.2.3.3.3.3 GET
This method shall support the URI query parameters specified in table
6.2.3.3.3.3-1.
Table 6.2.3.3.3.3-1: URI query parameters supported by the GET method on this
resource
* * *
Name Data type P Cardinality Description n/a
* * *
This method shall support the request data structures specified in table
6.2.3.3.3.3-2 and the response data structures and response codes specified in
table 6.2.3.3.3.3-3.
Table 6.2.3.3.3.3-2: Data structures supported by the GET Request Body on this
resource
* * *
Data type P Cardinality Description n/a
* * *
Table 6.2.3.3.3.3-3: Data structures supported by the GET Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | Am | M | 1 | 200 OK | Upon success, | | fNon3GppAcces | | | | a response | | sRegistration | | | | body | | | | | | containing | | | | | | the | | | | | | Am | | | | | | fNon3GppAcces | | | | | | sRegistration | | | | | | shall be | | | | | | returned. | +---------------+---+-------------+---------------+---------------+ | P | M | 1 | 404 Not Found | The \"cause\" | | roblemDetails | | | | attribute | | | | | | shall be set | | | | | | to one of the | | | | | | following | | | | | | application | | | | | | errors: | | | | | | | | | | | | - | | | | | | CONTEX | | | | | | T_NOT_FOUND | | | | | | | | | | | | - | | | | | | USE | | | | | | R_NOT_FOUND | +---------------+---+-------------+---------------+---------------+ | NOTE: In | | | | | | addition | | | | | | common data | | | | | | structures as | | | | | | listed in | | | | | | table 6.2.7-1 | | | | | | are | | | | | | supported. | | | | | +---------------+---+-------------+---------------+---------------+
#### 6.2.3.4 Resource: SmfRegistrations
##### 6.2.3.4.1 Description
This resource is used to represent SMF registrations.
##### 6.2.3.4.2 Resource Definition
Resource URI: {apiRoot}/nudm-uecm/v1/{ueId}/registrations/smf-registrations
This resource shall support the resource URI variables defined in table
6.2.3.4.2-1.
Table 6.2.3.4.2-1: Resource URI variables for this resource
* * *
Name Definition
* * *
apiRoot See clause 6.4.1
ueId Represents the Subscription Identifier SUPI or GPSI (see 3GPP TS 23.501
[2] clause 5.9.2)\ pattern:
\"(imsi-[0-9]{5,15}\|nai-.+\|msisdn-[0-9]{5,15}\|extid-[\^@]+@[\^@]+\|.+)\"
* * *
##### 6.2.3.4.3 Resource Standard Methods
none
#### 6.2.3.5 Resource: IndividualSmfRegistration
##### 6.2.3.5.1 Resource Definition
Resource URI: {apiRoot}/nudm-uecm/v1/{ueId}/registrations/smf-
registrations/{pduSessionId}
This resource shall support the resource URI variables defined in table
6.2.3.5.1-1.
Table 6.2.3.5.1-1: Resource URI variables for this resource
* * *
Name Definition
* * *
apiRoot See clause 6.1.1
ueId Represents the Subscription Identifier (see 3GPP TS 23.501 [2] clause
5.9.2)\ SUPI (i.e. imsi or nai) is used with the PUT, DELETE and PATCH
methods;\ pattern:
\"(imsi-[0-9]{5,15}\|nai-.+\|msisdn-[0-9]{5,15}\|extid-[\^@]+@[\^@]+\|.+)\"
pduSessionId The pduSessionId identifies an individual SMF registration.
* * *
##### 6.2.3.5.2 Resource Standard Methods
###### 6.2.3.5.2.1 PUT
This method shall support the URI query parameters specified in table
6.2.3.5.2.1-1.
Table 6.2.3.5.2.1-1: URI query parameters supported by the PUT method on this
resource
* * *
Name Data type P Cardinality Description n/a
* * *
This method shall support the request data structures specified in table
6.2.3.5.2.1-2 and the response data structures and response codes specified in
table 6.2.3.5.2.1-3.
Table 6.2.3.5.2.1-2: Data structures supported by the PUT Request Body on this
resource
* * *
Data type P Cardinality Description SmfRegistration M 1 The registration that
is to be created
* * *
Table 6.2.3.5.2.1-3: Data structures supported by the PUT Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | Sm | M | 1 | 201 Created | Upon success, | | fRegistration | | | | a response | | | | | | body | | | | | | containing a | | | | | | r | | | | | | epresentation | | | | | | of the | | | | | | created | | | | | | Individual | | | | | | Sm | | | | | | fRegistration | | | | | | resource | | | | | | shall be | | | | | | returned. | +---------------+---+-------------+---------------+---------------+ | Sm | M | 1 | 200 OK | Upon success, | | fRegistration | | | | a response | | | | | | body | | | | | | containing a | | | | | | r | | | | | | epresentation | | | | | | of the | | | | | | updated | | | | | | Individual | | | | | | Sm | | | | | | fRegistration | | | | | | resource | | | | | | shall be | | | | | | returned. | +---------------+---+-------------+---------------+---------------+ | n/a | | | 204 No | Upon success, | | | | | Content | an empty | | | | | | response body | | | | | | shall be | | | | | | returned | +---------------+---+-------------+---------------+---------------+ | P | M | 1 | 404 Not Found | The \"cause\" | | roblemDetails | | | | attribute | | | | | | shall be set | | | | | | to the | | | | | | following | | | | | | application | | | | | | error: | | | | | | | | | | | | - | | | | | | USE | | | | | | R_NOT_FOUND | +---------------+---+-------------+---------------+---------------+ | P | M | 1 | 403 Forbidden | The \"cause\" | | roblemDetails | | | | attribute | | | | | | shall be set | | | | | | to one of the | | | | | | following | | | | | | application | | | | | | errors: | | | | | | | | | | | | - | | | | | | ROAMING\ | | | | | | _NOT_ALLOWED | | | | | | | | | | | | - | | | | | | DNN\ | | | | | | _NOT_ALLOWED | +---------------+---+-------------+---------------+---------------+ | NOTE: In | | | | | | addition | | | | | | common data | | | | | | structures as | | | | | | listed in | | | | | | table 6.4.7-1 | | | | | | are | | | | | | supported. | | | | | +---------------+---+-------------+---------------+---------------+
###### 6.2.3.5.2.2 DELETE
This method shall support the URI query parameters specified in table
6.2.3.5.2.2-1.
Table 6.2.3.5.2.2-1: URI query parameters supported by the DELETE method on
this resource
* * *
Name Data type P Cardinality Description n/a
* * *
This method shall support the request data structures specified in table
6.2.3.5.2.2-2 and the response data structures and response codes specified in
table 6.2.3.5.2.2-3.
Table 6.2.3.5.2.2-2: Data structures supported by the DELETE Request Body on
this resource
* * *
Data type P Cardinality Description n/a The request body shall be empty.
* * *
Table 6.2.3.5.2.2-3: Data structures supported by the DELETE Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | n/a | | | 204 No | Upon success, | | | | | Content | an empty | | | | | | response body | | | | | | shall be | | | | | | returned. | +---------------+---+-------------+---------------+---------------+ | NOTE: In | | | | | | addition | | | | | | common data | | | | | | structures as | | | | | | listed in | | | | | | table 6.4.7-1 | | | | | | are | | | | | | supported. | | | | | +---------------+---+-------------+---------------+---------------+
#### 6.2.3.6 Resource: Smsf3GppAccessRegistration
##### 6.2.3.6.1 Description
This resource represents the registered SMSF for 3GPP access.
##### 6.2.3.6.2 Resource Definition
Resource URI: {apiRoot}/nudm-uecm/v1/{ueId}/registrations/smsf-3gpp-access
This resource shall support the resource URI variables defined in table
6.2.3.6.2-1.
Table 6.2.3.6.2-1: Resource URI variables for this resource
* * *
Name Definition
* * *
apiRoot See clause 6.2.1
ueId Represents the Subscription Identifier SUPI or GPSI (see 3GPP TS 23.501
[2] clause 5.9.2)\ SUPI (i.e. imsi or nai) is used with the PUT, DELETE and
PATCH methods; GPSI (i.e. msisdn or extid) is used with the GET method.\
pattern:
\"(imsi-[0-9]{5,15}\|nai-.+\|msisdn-[0-9]{5,15}\|extid-[\^@]+@[\^@]+\|.+)\"
* * *
##### 6.2.3.6.3 Resource Standard Methods
###### 6.2.3.6.3.1 PUT
This method shall support the URI query parameters specified in table
6.2.3.6.3.1-1.
Table 6.2.3.6.3.1-1: URI query parameters supported by the PUT method on this
resource
* * *
Name Data type P Cardinality Description n/a
* * *
This method shall support the request data structures specified in table
6.2.3.6.3.1-2 and the response data structures and response codes specified in
table 6.2.3.6.3.1-3.
Table 6.2.3.6.3.1-2: Data structures supported by the PUT Request Body on this
resource
* * *
Data type P Cardinality Description SmsfRegistration M 1 The SMSF registration
for 3GPP access is created or updated with the received information.
* * *
Table 6.2.3.6.3.1-3: Data structures supported by the PUT Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | Sms | M | 1 | 201 Created | Upon success, | | fRegistration | | | | a response | | | | | | body | | | | | | containing a | | | | | | r | | | | | | epresentation | | | | | | of the | | | | | | created | | | | | | Individual | | | | | | Sms | | | | | | fRegistration | | | | | | resource | | | | | | shall be | | | | | | returned. | +---------------+---+-------------+---------------+---------------+ | Sms | M | 1 | 200 OK | Upon success, | | fRegistration | | | | a response | | | | | | body | | | | | | containing a | | | | | | r | | | | | | epresentation | | | | | | of the | | | | | | updated | | | | | | Individual | | | | | | Sms | | | | | | fRegistration | | | | | | resource | | | | | | shall be | | | | | | returned. | +---------------+---+-------------+---------------+---------------+ | n/a | | | 204 No | Upon success, | | | | | Content | an empty | | | | | | response body | | | | | | shall be | | | | | | returned | +---------------+---+-------------+---------------+---------------+ | P | M | 1 | 404 Not Found | The \"cause\" | | roblemDetails | | | | attribute | | | | | | shall be set | | | | | | to the | | | | | | following | | | | | | application | | | | | | error: | | | | | | | | | | | | - | | | | | | USE | | | | | | R_NOT_FOUND | +---------------+---+-------------+---------------+---------------+ | P | M | 1 | 403 Forbidden | The \"cause\" | | roblemDetails | | | | attribute | | | | | | shall be set | | | | | | to one of the | | | | | | following | | | | | | application | | | | | | errors: | | | | | | | | | | | | - | | | | | | UNKNOWN_5GS\ | | | | | | _SUBSCRIPTION | | | | | | | | | | | | - | | | | | | ACCESS\ | | | | | | _NOT_ALLOWED | | | | | | | | | | | | - | | | | | | ROAMING\ | | | | | | _NOT_ALLOWED | +---------------+---+-------------+---------------+---------------+ | NOTE: In | | | | | | addition | | | | | | common data | | | | | | structures as | | | | | | listed in | | | | | | table 6.2.7-1 | | | | | | are | | | | | | supported. | | | | | +---------------+---+-------------+---------------+---------------+
###### 6.2.3.6.3.2 DELETE
This method shall support the URI query parameters specified in table
6.2.3.6.3.2-1.
Table 6.2.3.6.3.2-1: URI query parameters supported by the DELETE method on
this resource
* * *
Name Data type P Cardinality Description n/a
* * *
This method shall support the request data structures specified in table
6.2.3.6.3.2-2 and the response data structures and response codes specified in
table 6.2.3.6.3.2-3.
Table 6.2.3.6.3.2-2: Data structures supported by the DELETE Request Body on
this resource
* * *
Data type P Cardinality Description n/a The request body shall be empty.
* * *
Table 6.2.3.6.3.2-3: Data structures supported by the DELETE Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | n/a | | | 204 No | Upon success, | | | | | Content | an empty | | | | | | response body | | | | | | shall be | | | | | | returned. | +---------------+---+-------------+---------------+---------------+ | NOTE: In | | | | | | addition | | | | | | common data | | | | | | structures as | | | | | | listed in | | | | | | table 6.4.7-1 | | | | | | are | | | | | | supported. | | | | | +---------------+---+-------------+---------------+---------------+
###### 6.2.3.6.3.3 GET
This method shall support the URI query parameters specified in table
6.2.3.6.3.3-1.
Table 6.2.3.6.3.3-1: URI query parameters supported by the GET method on this
resource
* * *
Name Data type P Cardinality Description supported-features SupportedFeatures
O 0..1 see 3GPP TS 29.500 [4] clause 6.6
* * *
This method shall support the request data structures specified in table
6.2.3.6.3.3-2 and the response data structures and response codes specified in
table 6.2.3.6.3.3-3.
Table 6.2.3.6.3.3-2: Data structures supported by the GET Request Body on this
resource
* * *
Data type P Cardinality Description n/a
* * *
Table 6.2.3.6.3.3-3: Data structures supported by the GET Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | Sms | M | 1 | 200 OK | Upon success, | | fRegistration | | | | a response | | | | | | body | | | | | | containing | | | | | | the | | | | | | Sms | | | | | | fRegistration | | | | | | shall be | | | | | | returned. | +---------------+---+-------------+---------------+---------------+ | P | M | 1 | 404 Not Found | The \"cause\" | | roblemDetails | | | | attribute | | | | | | shall be set | | | | | | to one of the | | | | | | following | | | | | | application | | | | | | errors: | | | | | | | | | | | | - | | | | | | CONTEX | | | | | | T_NOT_FOUND | | | | | | | | | | | | - | | | | | | USE | | | | | | R_NOT_FOUND | +---------------+---+-------------+---------------+---------------+ | NOTE: In | | | | | | addition | | | | | | common data | | | | | | structures as | | | | | | listed in | | | | | | table 6.2.7-1 | | | | | | are | | | | | | supported. | | | | | +---------------+---+-------------+---------------+---------------+
#### 6.2.3.7 Resource: SmsfNon3GppAccessRegistration
##### 6.2.3.7.1 Description
This resource represents the registered SMSF for non 3GPP access.
##### 6.2.3.7.2 Resource Definition
Resource URI: {apiRoot}/nudm-uecm/v1/{ueId}/registrations/smsf-non-3gpp-access
This resource shall support the resource URI variables defined in table
6.2.3.7.2-1.
Table 6.2.3.7.2-1: Resource URI variables for this resource
* * *
Name Definition
* * *
apiRoot See clause 6.2.1
ueId Represents the Subscription Identifier SUPI or GPSI (see 3GPP TS 23.501
[2] clause 5.9.2)\ SUPI (i.e. imsi or nai) is used with the PUT, DELETE and
PATCH methods; GPSI (i.e. msisdn or extid) is used with the GET method.\
pattern:
\"(imsi-[0-9]{5,15}\|nai-.+\|msisdn-[0-9]{5,15}\|extid-[\^@]+@[\^@]+\|.+)\"
* * *
##### 6.2.3.7.3 Resource Standard Methods
###### 6.2.3.7.3.1 PUT
This method shall support the URI query parameters specified in table
6.2.3.7.3.1-1.
Table 6.2.3.7.3.1-1: URI query parameters supported by the PUT method on this
resource
* * *
Name Data type P Cardinality Description n/a
* * *
This method shall support the request data structures specified in table
6.2.3.7.3.1-2 and the response data structures and response codes specified in
table 6.2.3.7.3.1-3.
Table 6.2.3.7.3.1-2: Data structures supported by the PUT Request Body on this
resource
* * *
Data type P Cardinality Description SmsfRegistration M 1 The SMSF registration
for non 3GPP access is created or updated with the received information.
* * *
Table 6.2.3.7.3.1-3: Data structures supported by the PUT Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | Sms | M | 1 | 201 Created | Upon success, | | fRegistration | | | | a response | | | | | | body | | | | | | containing a | | | | | | r | | | | | | epresentation | | | | | | of the | | | | | | created | | | | | | Individual | | | | | | Sms | | | | | | fRegistration | | | | | | for non 3GPP | | | | | | access | | | | | | resource | | | | | | shall be | | | | | | returned. | +---------------+---+-------------+---------------+---------------+ | Sms | M | 1 | 200 OK | Upon success, | | fRegistration | | | | a response | | | | | | body | | | | | | containing a | | | | | | r | | | | | | epresentation | | | | | | of the | | | | | | updated | | | | | | Individual | | | | | | Sms | | | | | | fRegistration | | | | | | for non 3GPP | | | | | | access | | | | | | resource | | | | | | shall be | | | | | | returned. | +---------------+---+-------------+---------------+---------------+ | n/a | | | 204 No | Upon success, | | | | | Content | an empty | | | | | | response body | | | | | | shall be | | | | | | returned | +---------------+---+-------------+---------------+---------------+ | P | M | 1 | 404 Not Found | The \"cause\" | | roblemDetails | | | | attribute | | | | | | shall be set | | | | | | to the | | | | | | following | | | | | | application | | | | | | error: | | | | | | | | | | | | - | | | | | | USE | | | | | | R_NOT_FOUND | +---------------+---+-------------+---------------+---------------+ | P | M | 1 | 403 Forbidden | The \"cause\" | | roblemDetails | | | | attribute | | | | | | shall be set | | | | | | to one of the | | | | | | following | | | | | | application | | | | | | errors: | | | | | | | | | | | | - | | | | | | UNKNOWN_5GS\ | | | | | | _SUBSCRIPTION | | | | | | | | | | | | - | | | | | | ACCESS\ | | | | | | _NOT_ALLOWED | | | | | | | | | | | | - | | | | | | ROAMING\ | | | | | | _NOT_ALLOWED | +---------------+---+-------------+---------------+---------------+ | NOTE: In | | | | | | addition | | | | | | common data | | | | | | structures as | | | | | | listed in | | | | | | table 6.2.7-1 | | | | | | are | | | | | | supported. | | | | | +---------------+---+-------------+---------------+---------------+
###### 6.2.3.7.3.2 DELETE
This method shall support the URI query parameters specified in table
6.2.3.7.2.2-1.
Table 6.2.3.7.2.2-1: URI query parameters supported by the DELETE method on
this resource
* * *
Name Data type P Cardinality Description n/a
* * *
This method shall support the request data structures specified in table
6.2.3.7.2.2-2 and the response data structures and response codes specified in
table 6.2.3.5.2.2-3.
Table 6.2.3.7.2.2-2: Data structures supported by the DELETE Request Body on
this resource
* * *
Data type P Cardinality Description n/a The request body shall be empty.
* * *
Table 6.2.3.7.2.2-3: Data structures supported by the DELETE Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | n/a | | | 204 No | Upon success, | | | | | Content | an empty | | | | | | response body | | | | | | shall be | | | | | | returned. | +---------------+---+-------------+---------------+---------------+ | NOTE: In | | | | | | addition | | | | | | common data | | | | | | structures as | | | | | | listed in | | | | | | table 6.4.7-1 | | | | | | are | | | | | | supported. | | | | | +---------------+---+-------------+---------------+---------------+
###### 6.2.3.7.3.3 GET
This method shall support the URI query parameters specified in table
6.2.3.7.3.3-1.
Table 6.2.3.7.3.3-1: URI query parameters supported by the GET method on this
resource
* * *
Name Data type P Cardinality Description supported-features SupportedFeatures
O 0..1 see 3GPP TS 29.500 [4] clause 6.6
* * *
This method shall support the request data structures specified in table
6.2.3.7.3.3-2 and the response data structures and response codes specified in
table 6.2.3.7.3.3-3.
Table 6.2.3.7.3.3-2: Data structures supported by the GET Request Body on this
resource
* * *
Data type P Cardinality Description n/a
* * *
Table 6.2.3.7.3.3-3: Data structures supported by the GET Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | Sms | M | 1 | 200 OK | Upon success, | | fRegistration | | | | a response | | | | | | body | | | | | | containing | | | | | | the | | | | | | Sms | | | | | | fRegistration | | | | | | shall be | | | | | | returned. | +---------------+---+-------------+---------------+---------------+ | P | M | 1 | 404 Not Found | The \"cause\" | | roblemDetails | | | | attribute | | | | | | shall be set | | | | | | to one of the | | | | | | following | | | | | | application | | | | | | errors: | | | | | | | | | | | | - | | | | | | CONTEX | | | | | | T_NOT_FOUND | | | | | | | | | | | | - | | | | | | USE | | | | | | R_NOT_FOUND | +---------------+---+-------------+---------------+---------------+ | NOTE: In | | | | | | addition | | | | | | common data | | | | | | structures as | | | | | | listed in | | | | | | table 6.2.7-1 | | | | | | are | | | | | | supported. | | | | | +---------------+---+-------------+---------------+---------------+
### 6.2.4 Custom Operations without associated resources
In this release of this specification, no custom operations without associated
resources are defined for the Nudm_UEContextManagement Service.
### 6.2.5 Notifications
#### 6.2.5.1 General
This clause will specify the use of notifications and corresponding protocol
details if required for the specific service. When notifications are supported
by the API, it will include a reference to the general description of
notifications support over the 5G SBIs specified in TS 29.500 / TS 29.501.
#### 6.2.5.2 Deregistration Notification
The POST method shall be used for Deregistration Notifications and the URI
shall be as provided during the registration procedure.
Resource URI: {callbackReference}
Support of URI query parameters is specified in table 6.2.5.2-1.
Table 6.2.5.2-1: URI query parameters supported by the POST method
* * *
Name Data type P Cardinality Description n/a
* * *
Support of request data structures is specified in table 6.2.5.2-2 and of
response data structures and response codes is specified in table 6.2.5.2-3.
Table 6.2.5.2-2: Data structures supported by the POST Request Body
* * *
Data type P Cardinality Description DeregistrationData M 1 Includes
Deregistration Reason
* * *
Table 6.2.5.2-3: Data structures supported by the POST Response Body
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | n/a | | | 204 No | Upon success, | | | | | Content | an empty | | | | | | response body | | | | | | shall be | | | | | | returned. | +---------------+---+-------------+---------------+---------------+ | P | M | 1 | 404 Not Found | The \"cause\" | | roblemDetails | | | | attribute | | | | | | shall be set | | | | | | to the | | | | | | following | | | | | | application | | | | | | error: | | | | | | | | | | | | - | | | | | | CONTEX | | | | | | T_NOT_FOUND | +---------------+---+-------------+---------------+---------------+ | NOTE: In | | | | | | addition | | | | | | common data | | | | | | structures as | | | | | | listed in | | | | | | table 6.1.7-1 | | | | | | are | | | | | | supported. | | | | | +---------------+---+-------------+---------------+---------------+
#### 6.2.5.3 P-CSCF Restoration Notification
The POST method shall be used for P-CSCF Restoration Notifications and the URI
shall be as provided during the registration procedure.
Resource URI: {callbackReference}
Support of URI query parameters is specified in table 6.2.5.3-1.
Table 6.2.5.3-1: URI query parameters supported by the POST method
* * *
Name Data type P Cardinality Description n/a
* * *
Support of request data structures is specified in table 6.2.5.3-2 and of
response data structures and response codes is specified in table 6.2.5.3-3.
Table 6.2.5.3-2: Data structures supported by the POST Request Body
* * *
Data type P Cardinality Description PcscfRestorationNotification M 1 contains
the SUPI
* * *
Table 6.2.5.3-3: Data structures supported by the POST Response Body
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | n/a | | | 204 No | Upon success, | | | | | Content | an empty | | | | | | response body | | | | | | shall be | | | | | | returned. | +---------------+---+-------------+---------------+---------------+ | P | M | 1 | 404 Not Found | The \"cause\" | | roblemDetails | | | | attribute | | | | | | shall be set | | | | | | to the | | | | | | following | | | | | | application | | | | | | error: | | | | | | | | | | | | - | | | | | | CONTEX | | | | | | T_NOT_FOUND | +---------------+---+-------------+---------------+---------------+ | NOTE: In | | | | | | addition | | | | | | common data | | | | | | structures as | | | | | | listed in | | | | | | table 6.1.7-1 | | | | | | are | | | | | | supported. | | | | | +---------------+---+-------------+---------------+---------------+
### 6.2.6 Data Model
#### 6.2.6.1 General
This clause specifies the application data model supported by the API.
Table 6.2.6.1-1 specifies the structured data types defined for the Nudm_UECM
service API. For simple data types defined for the Nudm_UECM service API see
table 6.2.6.3.2-1.
Table 6.2.6.1-1: Nudm_UECM specific Data Types
Data type Clause defined Description
* * *
Amf3GppAccessRegistration 6.2.6.2.2 The complete set of information relevant
to the AMF where the UE has registered via 3GPP access. PurgeFlag 6.2.6.3.2
This flag indicates whether or not the NF has deregistered.
AmfNon3GppAccessRegistration 6.2.6.2.3 The complete set of information
relevant to the AMF where the UE has registered via non 3GPP access.
DeregistrationData 6.2.6.2.5 Data sent with the Deregistration Notification
SmfRegistration 6.2.6.2.4 The complete set of information relevant to an SMF
serving the UE SmsfRegistration 6.2.6.2.6 The complete set of information
relevant to the SMSF serving the UE. Amf3GppAccessRegistrationModification
6.2.6.2.7 Contains attributes of Amf3GppAccessRegistration that can be
modified using PATCH AmfNon3GppAccessRegistrationModification 6.2.6.2.8
Contains attributes of AmfNon3GppAccessRegistration that can be modified using
PATCH PcscfRestorationNotification 6.2.6.2.9 Information sent to the AMF or
SMF when P-CSCF restoration is triggered. DualRegistrationFlag 6.2.6.3.2 Dual
Registration Flag
Table 6.2.6.1-2 specifies data types re-used by the Nudm_uecm service API from
other specifications, including a reference to their respective specifications
and when needed, a short description of their use within the Nudm_uecm service
API.
Table 6.2.6.1-2: Nudm_UECM re-used Data Types
Data type Reference Comments
* * *
Dnn 3GPP TS 29.571 [7] Data Network Name NfInstanceId 3GPP TS 29.571 [7]
Network Function Instance Identifier PduSessionId 3GPP TS 29.571 [7] PDU
Session ID Pei 3GPP TS 29.571 [7] Permanent Equipment Identifier
ProblemDetails 3GPP TS 29.571 [7] Common data type used in response bodies Uri
3GPP TS 29.571 [7] Uniform Resource Identifier SupportedFeatures 3GPP TS
29.571 [7] see 3GPP TS 29.500 [4] clause 6.6 Supi 3GPP TS 29.571 [7] see 3GPP
TS 23.501 [2] clause 5.9.2 Guami 3GPP TS 29.571 [7] Globally Unique AMF
Identifier PlmnId 3GPP TS 29.571 [7] PLMN Identity DiameterIdentity 3GPP TS
29.571 [7]  
AccessType 3GPP TS 29.571 [7] Access Type BackupAmfInfo 3GPP TS 29.571 [7]
Backup AMFs ServiceName 3GPP TS 29.510 [19]
#### 6.2.6.2 Structured data types
##### 6.2.6.2.1 Introduction
This clause defines the structures to be used in resource representations.
##### 6.2.6.2.2 Type: Amf3GppAccessRegistration
Table 6.2.6.2.2-1: Definition of type Amf3GppAccessRegistration
+---------------+---------------+---+-------------+---------------+ | Attribute | Data type | P | Cardinality | Description | | name | | | | | +===============+===============+===+=============+===============+ | amfInstanceId | NfInstanceId | M | 1 | The identity | | | | | | the AMF uses | | | | | | to register | | | | | | in the NRF. | +---------------+---------------+---+-------------+---------------+ | der | Uri | M | 1 | A URI | | egCallbackUri | | | | provided by | | | | | | the AMF to | | | | | | receive | | | | | | (implicitly | | | | | | subscribed) | | | | | | notifications | | | | | | on | | | | | | de | | | | | | registration. | | | | | | | | | | | | The | | | | | | d | | | | | | eregistration | | | | | | callback URI | | | | | | shall have | | | | | | unique | | | | | | information | | | | | | within AMF | | | | | | set to | | | | | | identify the | | | | | | UE to be | | | | | | deregistered. | +---------------+---------------+---+-------------+---------------+ | guami | Guami | M | 1 | This IE shall | | | | | | contain the | | | | | | serving | | | | | | AMF\'s GUAMI. | +---------------+---------------+---+-------------+---------------+ | ratType | RatType | M | 1 | This IE shall | | | | | | indicate the | | | | | | current RAT | | | | | | type of the | | | | | | UE. | +---------------+---------------+---+-------------+---------------+ | supp | Supp | O | 0..1 | See | | ortedFeatures | ortedFeatures | | | clause 6.2.8 | +---------------+---------------+---+-------------+---------------+ | purgeFlag | PurgeFlag | O | 0..1 | This flag | | | | | | indicates | | | | | | whether or | | | | | | not the AMF | | | | | | has | | | | | | deregistered. | | | | | | It shall not | | | | | | be included | | | | | | in the | | | | | | Registration | | | | | | service | | | | | | operation. | +---------------+---------------+---+-------------+---------------+ | pei | Pei | O | 0..1 | Permanent | | | | | | Equipment | | | | | | Identifier. | +---------------+---------------+---+-------------+---------------+ | imsVoPs | ImsVoPs | O | 0..1 | Indicates per | | | | | | UE if \"IMS | | | | | | Voice over PS | | | | | | Sessions\" is | | | | | | homogeneously | | | | | | supported in | | | | | | all TAs in | | | | | | the serving | | | | | | AMF, or | | | | | | homogeneously | | | | | | not | | | | | | supported, or | | | | | | if support is | | | | | | non-homogen | | | | | | eous/unknown. | | | | | | Absence of | | | | | | this | | | | | | attribute | | | | | | shall be | | | | | | interpreted | | | | | | as \"non | | | | | | homogenous or | | | | | | unknown\" | | | | | | support. | +---------------+---------------+---+-------------+---------------+ | amfSer | ServiceName | O | 0..1 | When present, | | viceNameDereg | | | | this IE shall | | | | | | contain the | | | | | | name of the | | | | | | AMF service | | | | | | to which the | | | | | | D | | | | | | eregistration | | | | | | Notification | | | | | | is to be sent | | | | | | (see | | | | | | c | | | | | | lause 6.5.2.2 | | | | | | of | | | | | | 3GPP TS 2 | | | | | | 9.500 [4]). | +---------------+---------------+---+-------------+---------------+ | p | Uri | O | 0..1 | A URI | | cscfRestorati | | | | provided by | | onCallbackUri | | | | the AMF to | | | | | | receive | | | | | | (implicitly | | | | | | subscribed) | | | | | | notifications | | | | | | on the need | | | | | | for P-CSCF | | | | | | Restoration. | +---------------+---------------+---+-------------+---------------+ | amfService | ServiceName | O | 0..1 | When present, | | NamePcscfRest | | | | this IE shall | | | | | | contain the | | | | | | name of the | | | | | | AMF service | | | | | | to which | | | | | | P-CSCF | | | | | | Restoration | | | | | | Notifications | | | | | | are to be | | | | | | sent (see | | | | | | c | | | | | | lause 6.5.2.2 | | | | | | of | | | | | | 3GPP TS 2 | | | | | | 9.500 [4]). | | | | | | This IE may | | | | | | be included | | | | | | if | | | | | | p | | | | | | cscfRestorati | | | | | | onCallbackUri | | | | | | is present. | +---------------+---------------+---+-------------+---------------+ | initialRe | boolean | C | 0..1 | This IE shall | | gistrationInd | | | | be included | | | | | | by the AMF | | | | | | and set to | | | | | | true if the | | | | | | UE performs | | | | | | an Initial | | | | | | Registration. | | | | | | If the UE | | | | | | does not | | | | | | perform | | | | | | initial | | | | | | registration | | | | | | it shall be | | | | | | absent or set | | | | | | to false. | +---------------+---------------+---+-------------+---------------+ | backupAmfInfo | array(B | C | 1..N | This IE shall | | | ackupAmfInfo) | | | be included | | | | | | if the NF | | | | | | service | | | | | | consumer is | | | | | | an AMF and | | | | | | the AMF | | | | | | supports the | | | | | | AMF | | | | | | management | | | | | | without UDSF | | | | | | for the first | | | | | | interaction | | | | | | with UDM. | | | | | | | | | | | | The UDM uses | | | | | | this | | | | | | attribute to | | | | | | do an NRF | | | | | | query in | | | | | | order to | | | | | | invoke later | | | | | | services in a | | | | | | backup AMF, | | | | | | e.g. | | | | | | Namf_E | | | | | | ventExposure. | +---------------+---------------+---+-------------+---------------+ | drFlag | DualReg | O | 0..1 | Dual | | | istrationFlag | | | Registration | | | | | | flag. When | | | | | | present and | | | | | | true, this | | | | | | flag | | | | | | indicates | | | | | | that the | | | | | | UDM+HSS is | | | | | | requested not | | | | | | to send | | | | | | S6a-CLR to | | | | | | the | | | | | | registered | | | | | | MME (if any). | | | | | | Otherwise, | | | | | | the | | | | | | registered | | | | | | MME (if any) | | | | | | shall be | | | | | | cancelled. | +---------------+---------------+---+-------------+---------------+ | urrpIndicator | boolean | O | 0..1 | This IE | | | | | | indicates | | | | | | whether | | | | | | \"UE | | | | | | _REACHABILIT | | | | | | Y_FOR_SMS\" | | | | | | event for | | | | | | this user has | | | | | | been | | | | | | subscribed or | | | | | | not: | | | | | | | | | | | | - true: the | | | | | | event has | | | | | | been | | | | | | subscribed | | | | | | | | | | | | - false, or | | | | | | absence of | | | | | | this | | | | | | attribute: | | | | | | the event for | | | | | | this user is | | | | | | currently not | | | | | | subscribed | +---------------+---------------+---+-------------+---------------+ | amfEeS | string | C | 0..1 | Shall be | | ubscriptionId | | | | present if | | | | | | urrpIndicator | | | | | | is true and | | | | | | the UDM has | | | | | | subscribed to | | | | | | Reacha | | | | | | bility-Report | | | | | | event for | | | | | | \"UE | | | | | | Reachable for | | | | | | DL Traffic\" | | | | | | at the AMF to | | | | | | receive | | | | | | One-Time UE | | | | | | Activity | | | | | | notification. | | | | | | It contains | | | | | | the | | | | | | subscription | | | | | | Id allocated | | | | | | by the AMF as | | | | | | received by | | | | | | the UDM as | | | | | | part of the | | | | | | HTTP | | | | | | \"Location\" | | | | | | header of the | | | | | | Namf | | | | | | _EventExposu | | | | | | re_Subscribe | | | | | | response.\ | | | | | | The UDM shall | | | | | | make use of | | | | | | the | | | | | | Nudr_D | | | | | | ataRepository | | | | | | Update | | | | | | service | | | | | | operation | | | | | | (see | | | | | | 3GPP TS | | | | | | 29.504 [9]) | | | | | | to store the | | | | | | amfE | | | | | | eSubscription | | | | | | Id in the | | | | | | UDR. | +---------------+---------------+---+-------------+---------------+ | epsInt | m | C | 1..N | A map (list | | erworkingInfo | ap(EpsIwkPgw) | | | of key-value | | | | | | pairs where | | | | | | dnn serves as | | | | | | key; see | | | | | | cl | | | | | | ause 6.1.6.1) | | | | | | of | | | | | | EpsIwkPgws. | | | | | | | | | | | | This IE shall | | | | | | be included | | | | | | if the AMF | | | | | | has | | | | | | determined | | | | | | per APN/DNN | | | | | | which | | | | | | PGW-C+SMF is | | | | | | selected for | | | | | | EPS | | | | | | interworking. | | | | | | For each | | | | | | APN/DNN, only | | | | | | one PGW-C+SMF | | | | | | shall be | | | | | | selected by | | | | | | the AMF for | | | | | | EPS | | | | | | interworking. | +---------------+---------------+---+-------------+---------------+ | NOTE: The | | | | | | urrpIndicator | | | | | | attribute | | | | | | shall only be | | | | | | exposed over | | | | | | the Nudr SBI, | | | | | | and it shall | | | | | | not be | | | | | | included by | | | | | | the AMF. | | | | | +---------------+---------------+---+-------------+---------------+
##### 6.2.6.2.3 Type: AmfNon3GppAccessRegistration
Table 6.2.6.2.3-1: Definition of type AmfNon3GppAccessRegistration
+---------------+---------------+---+-------------+---------------+ | Attribute | Data type | P | Cardinality | Description | | name | | | | | +===============+===============+===+=============+===============+ | amfInstanceId | NfInstanceId | M | 1 | The identity | | | | | | the AMF uses | | | | | | to register | | | | | | in the NRF. | +---------------+---------------+---+-------------+---------------+ | der | Uri | M | 1 | A URI | | egCallbackUri | | | | provided by | | | | | | the AMF to | | | | | | receive | | | | | | (implicitly | | | | | | subscribed) | | | | | | notifications | | | | | | on | | | | | | de | | | | | | registration. | | | | | | | | | | | | The | | | | | | d | | | | | | eregistration | | | | | | callback URI | | | | | | shall have | | | | | | unique | | | | | | information | | | | | | within AMF | | | | | | set to | | | | | | identify the | | | | | | UE to be | | | | | | deregistered. | +---------------+---------------+---+-------------+---------------+ | guami | Guami | M | 1 | This IE shall | | | | | | contain the | | | | | | serving | | | | | | AMF\'s GUAMI. | +---------------+---------------+---+-------------+---------------+ | ratType | RatType | M | 1 | This IE shall | | | | | | indicate the | | | | | | current RAT | | | | | | type of the | | | | | | UE. | +---------------+---------------+---+-------------+---------------+ | supp | Supp | O | 0..1 | See | | ortedFeatures | ortedFeatures | | | clause 6.2.8 | +---------------+---------------+---+-------------+---------------+ | purgeFlag | PurgeFlag | O | 0..1 | This flag | | | | | | indicates | | | | | | whether or | | | | | | not the AMF | | | | | | has | | | | | | deregistered. | | | | | | It shall not | | | | | | be included | | | | | | in the | | | | | | Registration | | | | | | service | | | | | | operation. | +---------------+---------------+---+-------------+---------------+ | pei | Pei | O | 0..1 | Permanent | | | | | | Equipment | | | | | | Identifier | +---------------+---------------+---+-------------+---------------+ | imsVoPs | ImsVoPs | M | 1 | Indicates per | | | | | | UE if \"IMS | | | | | | Voice over PS | | | | | | Sessions\" is | | | | | | supported, or | | | | | | not | | | | | | supported. | | | | | | | | | | | | The value | | | | | | NON | | | | | | _HOMOGENEOUS | | | | | | _OR_UNKNOWN | | | | | | is not | | | | | | applicable. | +---------------+---------------+---+-------------+---------------+ | amfSer | ServiceName | O | 0..1 | When present, | | viceNameDereg | | | | this IE shall | | | | | | contain the | | | | | | name of the | | | | | | AMF service | | | | | | to which the | | | | | | D | | | | | | eregistration | | | | | | Notification | | | | | | is to be sent | | | | | | (see | | | | | | c | | | | | | lause 6.5.2.2 | | | | | | of | | | | | | 3GPP TS 2 | | | | | | 9.500 [4]). | +---------------+---------------+---+-------------+---------------+ | p | Uri | O | 0..1 | A URI | | cscfRestorati | | | | provided by | | onCallbackUri | | | | the AMF to | | | | | | receive | | | | | | (implicitly | | | | | | subscribed) | | | | | | notifications | | | | | | on the need | | | | | | for P-CSCF | | | | | | Restoration. | +---------------+---------------+---+-------------+---------------+ | amfService | ServiceName | O | 0..1 | When present, | | NamePcscfRest | | | | this IE shall | | | | | | contain the | | | | | | name of the | | | | | | AMF service | | | | | | to which | | | | | | P-CSCF | | | | | | Restoration | | | | | | Notifications | | | | | | are to be | | | | | | sent (see | | | | | | c | | | | | | lause 6.5.2.2 | | | | | | of | | | | | | 3GPP TS 2 | | | | | | 9.500 [4]). | | | | | | This IE may | | | | | | be included | | | | | | if | | | | | | p | | | | | | cscfRestorati | | | | | | onCallbackUri | | | | | | is present. | +---------------+---------------+---+-------------+---------------+ | backupAmfInfo | array(B | C | 1..N | This IE shall | | | ackupAmfInfo) | | | be included | | | | | | if the NF | | | | | | service | | | | | | consumer is | | | | | | an AMF and | | | | | | the AMF | | | | | | supports the | | | | | | AMF | | | | | | management | | | | | | without UDSF | | | | | | for the first | | | | | | interaction | | | | | | with UDM. | | | | | | | | | | | | The UDM uses | | | | | | this | | | | | | attribute to | | | | | | do an NRF | | | | | | query in | | | | | | order to | | | | | | invoke later | | | | | | services in a | | | | | | backup AMF, | | | | | | e.g. | | | | | | Namf_E | | | | | | ventExposure. | +---------------+---------------+---+-------------+---------------+ | urrpIndicator | boolean | O | 0..1 | This IE | | | | | | indicates | | | | | | whether | | | | | | \"UE | | | | | | _REACHABILIT | | | | | | Y_FOR_SMS\" | | | | | | event for | | | | | | this user has | | | | | | been | | | | | | subscribed or | | | | | | not: | | | | | | | | | | | | - true: the | | | | | | event has | | | | | | been | | | | | | subscribed | | | | | | | | | | | | - false, or | | | | | | absence of | | | | | | this | | | | | | attribute: | | | | | | the event for | | | | | | this user is | | | | | | currently not | | | | | | subscribed | +---------------+---------------+---+-------------+---------------+ | amfEeS | string | C | 0..1 | Shall be | | ubscriptionId | | | | present if | | | | | | urrpIndicator | | | | | | is true and | | | | | | the UDM has | | | | | | subscribed to | | | | | | Reacha | | | | | | bility-Report | | | | | | event for | | | | | | \"UE | | | | | | Reachable for | | | | | | DL Traffic\" | | | | | | at the AMF to | | | | | | receive | | | | | | One-Time UE | | | | | | Activity | | | | | | notification. | | | | | | It contains | | | | | | the | | | | | | subscription | | | | | | Id allocated | | | | | | by the AMF as | | | | | | received by | | | | | | the UDM as | | | | | | part of the | | | | | | HTTP | | | | | | \"Location\" | | | | | | header of the | | | | | | Namf | | | | | | _EventExposu | | | | | | re_Subscribe | | | | | | response.\ | | | | | | The UDM shall | | | | | | make use of | | | | | | the | | | | | | Nudr_D | | | | | | ataRepository | | | | | | Update | | | | | | service | | | | | | operation | | | | | | (see | | | | | | 3GPP TS | | | | | | 29.504 [9]) | | | | | | to store the | | | | | | amfE | | | | | | eSubscription | | | | | | Id in the | | | | | | UDR. | +---------------+---------------+---+-------------+---------------+ | NOTE: The | | | | | | urrpIndicator | | | | | | attribute | | | | | | shall only be | | | | | | exposed over | | | | | | the Nudr SBI, | | | | | | and it shall | | | | | | not be | | | | | | included by | | | | | | the AMF. | | | | | +---------------+---------------+---+-------------+---------------+
##### 6.2.6.2.4 Type: SmfRegistration
Table 6.2.6.2.4-1: Definition of type SmfRegistration
Attribute name Data type P Cardinality Description
* * *
smfInstanceId NfInstanceId M 1 NF Instance Id of the SMF supportedFeatures
SupportedFeatures O 0..1 See clause 6.2.8 pduSessionId PduSessionId M 1 PDU
Session ID singleNssai Snssai M 1 A single Network Slice Selection Assistance
Information dnn Dnn C 0..1 Data Network Name; shall be present if
emergencyServices is false or absent emergencyServices boolean C 0..1
Indication of Emergency Services; absence indicates false.
pcscfRestorationCallbackUri Uri O 0..1 a URI provided by the SMF to receive
(implicitly subscribed) notifications on the need for P-CSCF Restoration
plmnId PlmnId M 1 Serving node PLMN identity. pgwFqdn string C 0..1 FQDN of
the PGW in the \"PGW-C+SMF\", to be included for interworking with EPS.
##### 6.2.6.2.5 Type: DeregistrationData
Table 6.2.6.2.5-1: Definition of type DeregistrationData
Attribute name Data type P Cardinality Description
* * *
deregReason DeregistrationReason M 1 String; see clause 6.2.6.3.3 accessType
AccessType M 1 Access type where the UE is deregistered
##### 6.2.6.2.6 Type: SmsfRegistration
Table 6.2.6.2.6-1: Definition of type SmsfRegistration
Attribute name Data type P Cardinality Description
* * *
smsfInstanceId NfInstanceId M 1 NF Instance Id of the SMSF supportedFeatures
SupportedFeatures O 0..1 See clause 6.2.8 plmnId PlmnId M 1 Serving node PLMN
identity smsfMAPAddress E164Number C 0..1 International E.164 number of the
SMSF; shall be present if the SMSF supports MAP (see 3GPP TS 29.002 [21])
smsfDiameterAddress NetworkNodeDiameterAddress C 0..1 shall be present if the
SMSF supports Diameter (see 3GPP TS 29.338 [22])
##### 6.2.6.2.7 Type: Amf3GppAccessRegistrationModification
This type is derived from the type Amf3GppAccessRegistration by deleting all
attributes that are not subject to modification by means of the HTTP PATCH
method.
Table 6.2.6.2.7-1: Definition of type Amf3GppAccessRegistrationModification
+---------------+---------------+---+-------------+---------------+ | Attribute | Data type | P | Cardinality | Description | | name | | | | | +===============+===============+===+=============+===============+ | guami | Guami | M | 1 | Guami of the | | | | | | AMF | | | | | | requesting | | | | | | the | | | | | | modification. | | | | | | If the MCC, | | | | | | MNC, AMF | | | | | | Region ID and | | | | | | AMF Set ID | | | | | | within the | | | | | | guami do not | | | | | | match the | | | | | | stored value, | | | | | | the | | | | | | modification | | | | | | request shall | | | | | | be rejected. | +---------------+---------------+---+-------------+---------------+ | purgeFlag | PurgeFlag | O | 0..1 | This flag | | | | | | indicates | | | | | | whether or | | | | | | not the AMF | | | | | | has | | | | | | deregistered. | | | | | | It shall be | | | | | | included in | | | | | | the | | | | | | D | | | | | | eregistration | | | | | | service | | | | | | operation | | | | | | with a value | | | | | | of \"TRUE\". | +---------------+---------------+---+-------------+---------------+ | pei | Pei | O | 0..1 | Permanent | | | | | | Equipment | | | | | | Identifier. | +---------------+---------------+---+-------------+---------------+ | imsVoPs | ImsVoPs | O | 0..1 | Indicates per | | | | | | UE if \"IMS | | | | | | Voice over PS | | | | | | Sessions\" is | | | | | | homogeneously | | | | | | supported in | | | | | | all TAs in | | | | | | the serving | | | | | | AMF, or | | | | | | homogeneously | | | | | | not | | | | | | supported, or | | | | | | if support is | | | | | | non-homoge | | | | | | neous/unknown | +---------------+---------------+---+-------------+---------------+ | backupAmfInfo | array(B | C | 0..N | This IE shall | | | ackupAmfInfo) | | | be included | | | | | | if the NF | | | | | | service | | | | | | consumer is | | | | | | an AMF and | | | | | | the AMF | | | | | | supports the | | | | | | AMF | | | | | | management | | | | | | without UDSF | | | | | | for the | | | | | | Modification | | | | | | of the | | | | | | B | | | | | | ackupAmfInfo. | | | | | | | | | | | | The UDM uses | | | | | | this | | | | | | attribute to | | | | | | do an NRF | | | | | | query in | | | | | | order to | | | | | | invoke later | | | | | | services in a | | | | | | backup AMF, | | | | | | e.g. | | | | | | Namf_ | | | | | | EventExposure | +---------------+---------------+---+-------------+---------------+ | epsInt | m | C | 0..N | A map (list | | erworkingInfo | ap(EpsIwkPgw) | | | of key-value | | | | | | pairs where | | | | | | dnn serves as | | | | | | key; see | | | | | | cl | | | | | | ause 6.2.6.1) | | | | | | of | | | | | | EpsIwkPgws. | | | | | | | | | | | | This IE shall | | | | | | be included | | | | | | if the AMF | | | | | | has | | | | | | determined | | | | | | per APN/DNN | | | | | | which | | | | | | PGW-C+SMF is | | | | | | selected for | | | | | | EPS | | | | | | interworking. | | | | | | For each | | | | | | APN/DNN, only | | | | | | one PGW-C+SMF | | | | | | shall be | | | | | | selected by | | | | | | the AMF for | | | | | | EPS | | | | | | interworking. | +---------------+---------------+---+-------------+---------------+ | Note: Absence | | | | | | of optional | | | | | | attributes | | | | | | indicates: no | | | | | | modification. | | | | | | Attributes of | | | | | | this type are | | | | | | not marked | | | | | | \"nullable: | | | | | | true\" in the | | | | | | OpenAPI file | | | | | | as deletion | | | | | | of these | | | | | | attributes is | | | | | | not | | | | | | applicable. | | | | | +---------------+---------------+---+-------------+---------------+
##### 6.2.6.2.8 Type: AmfNon3GppAccessRegistrationModification
This type is derived from the type AmfNon3GppAccessRegistration by deleting
all attributes that are not subject to modification by means of the HTTP PATCH
method.
Table 6.2.6.2.8-1: Definition of type AmfNon3GppAccessRegistrationModification
+---------------+---------------+---+-------------+---------------+ | Attribute | Data type | P | Cardinality | Description | | name | | | | | +===============+===============+===+=============+===============+ | guami | Guami | M | 1 | Guami of the | | | | | | AMF | | | | | | requesting | | | | | | the | | | | | | modification. | | | | | | If the MCC, | | | | | | MNC, AMF | | | | | | Region ID and | | | | | | AMF Set ID | | | | | | within the | | | | | | guami do not | | | | | | match the | | | | | | stored value, | | | | | | the | | | | | | modification | | | | | | request shall | | | | | | be rejected. | +---------------+---------------+---+-------------+---------------+ | purgeFlag | PurgeFlag | O | 0..1 | This flag | | | | | | indicates | | | | | | whether or | | | | | | not the AMF | | | | | | has | | | | | | deregistered. | | | | | | It shall be | | | | | | included in | | | | | | the | | | | | | D | | | | | | eregistration | | | | | | service | | | | | | operation | | | | | | with a value | | | | | | of \"TRUE\". | +---------------+---------------+---+-------------+---------------+ | pei | Pei | O | 0..1 | Permanent | | | | | | Equipment | | | | | | Identifier | +---------------+---------------+---+-------------+---------------+ | imsVoPs | ImsVoPs | O | 0..1 | If present | | | | | | indicates per | | | | | | UE that | | | | | | support of | | | | | | \"IMS Voice | | | | | | over PS | | | | | | Sessions\" | | | | | | has been | | | | | | modified to | | | | | | supported or | | | | | | not | | | | | | supported\". | | | | | | | | | | | | The value | | | | | | NON | | | | | | _HOMOGENEOUS | | | | | | _OR_UNKNOWN | | | | | | is not | | | | | | applicable. | +---------------+---------------+---+-------------+---------------+ | backupAmfInfo | array(B | C | 0..N | This IE shall | | | ackupAmfInfo) | | | be included | | | | | | if the NF | | | | | | service | | | | | | consumer is | | | | | | an AMF and | | | | | | the AMF | | | | | | supports the | | | | | | AMF | | | | | | management | | | | | | without UDSF | | | | | | for the | | | | | | Modification | | | | | | of the | | | | | | B | | | | | | ackupAmfInfo. | | | | | | | | | | | | The UDM uses | | | | | | this | | | | | | attribute to | | | | | | do an NRF | | | | | | query in | | | | | | order to | | | | | | invoke later | | | | | | services in a | | | | | | backup AMF, | | | | | | e.g. | | | | | | Namf_ | | | | | | EventExposure | +---------------+---------------+---+-------------+---------------+ | Note: Absence | | | | | | of optional | | | | | | attributes | | | | | | indicates: no | | | | | | modification. | | | | | | Attributes of | | | | | | this type are | | | | | | not marked | | | | | | \"nullable: | | | | | | true\" in the | | | | | | OpenAPI file | | | | | | as deletion | | | | | | of these | | | | | | attributes is | | | | | | not | | | | | | applicable. | | | | | +---------------+---------------+---+-------------+---------------+
##### 6.2.6.2.9 Type: PcscfRestorationNotification
Table 6.2.6.2.9-1: Definition of type PcscfRestorationNotification
Attribute name Data type P Cardinality Description
* * *
supi Supi M 1 A SUPI that is served by the failed P-CSCF
##### 6.2.6.2.10 Type: NetworkNodeDiameterAddress
Table 6.2.6.2.10-1: Definition of type NetworkNodeDiameterAddress
Attribute name Data type P Cardinality Description
* * *
name DiameterIdentity M 1  
realm DiameterIdentity M 1
##### 6.2.6.2.11 Type: EpsIwkPgw
Table 6.2.6.2.11-1: Definition of type EpsIwkPgw
Attribute name Data type P Cardinality Description
* * *
pgwFqdn string M 1 The PGW FQDN of the \"PGW-C+SMF\" smfInstanceId
NfInstanceId M 1 The SMF Instance Id of the \"PGW-C+SMF\"
#### 6.2.6.3 Simple data types and enumerations
##### 6.2.6.3.1 Introduction
This clause defines simple data types and enumerations that can be referenced
from data structures defined in the previous clauses.
##### 6.2.6.3.2 Simple data types
The simple data types defined in table 6.2.6.3.2-1 shall be supported.
Table 6.2.6.3.2-1: Simple data types
* * *
Type Name Type Definition Description
PurgeFlag boolean This flag indicates whether or not the NF has deregistered.
E164Number string see ITU-T Recommendation E.164 [23]\ pattern: [0-9]{1,15}
DualRegistrationFlag boolean Dual Registration Flag
* * *
##### 6.2.6.3.3 Enumeration: DeregistrationReason
The enumeration DeregistrationReason represents the reason for the
Deregistration Notification. It shall comply with the provisions defined in
table 6.2.6.3.3-1.
Table 6.2.6.3.3-1: Enumeration DeregistrationReason
Enumeration value Description
* * *
\"UE_INITIAL_REGISTRATION\" see 3GPP TS 23.502 [3]
\"UE_REGISTRATION_AREA_CHANGE\" see 3GPP TS 23.502 [3]
\"SUBSCRIPTION_WITHDRAWN\" see 3GPP TS 23.502 [3] \"5GS_TO_EPS_MOBILITY\" see
3GPP TS 23.502 [3] \"5GS_TO_EPS_MOBILITY_UE_INITIAL_REGISTRATION\" see 3GPP TS
23.502 [3] \"REREGISTRATION_REQUIRED\" see 3GPP TS 23.502 [3]
##### 6.2.6.3.4 Enumeration: ImsVoPs
The enumeration ImsVoPs represents information indicating homogeneity of IMS
Voice over PS Sessions support for the UE. It shall comply with the provisions
defined in table 6.2.6.3.4-1.
Table 6.2.6.3.4-1: Enumeration ImsVoPs
Enumeration value Description
* * *
\"HOMOGENEOUS_SUPPORT\" \"IMS Voice over PS Sessions\" is homogeneously
supported in all TAs in the serving AMF. \"HOMOGENEOUS_NON_SUPPORT\" \"IMS
Voice over PS Sessions\" is homogeneously not supported in all TAs in the
serving AMF. \"NON_HOMOGENEOUS_OR_UNKNOWN\" \"IMS Voice over PS Sessions\" is
not homogeneously supported in all TAs in the serving AMF, or its support is
unknown.
### 6.2.7 Error Handling
#### 6.2.7.1 General
HTTP error handling shall be supported as specified in clause 5.2.4 of 3GPP TS
29.500 [4].
#### 6.2.7.2 Protocol Errors
Protocol errors handling shall be supported as specified in clause 5.2.7 of
3GPP TS 29.500 [4].
#### 6.2.7.3 Application Errors
The common application errors defined in the Table 5.2.7.2-1 in 3GPP TS 29.500
[4] may also be used for the Nudm_UEContextManagement service. The following
application errors listed in Table 6.2.7.3-1 are specific for the
Nudm_UEContextManagement service.
Table 6.2.7.3-1: Application errors
Application Error HTTP status code Description
* * *
UNKNOWN_5GS_SUBSCRIPTION 403 Forbidden No 5GS subscription is associated with
the user. NO_PS_SUBSCRIPTION 403 Forbidden No PS (5GS, EPS, GPRS) subscription
is associated with the user. ROAMING_NOT_ALLOWED 403 Forbidden The subscriber
is not allowed to roam within that PLMN USER_NOT_FOUND 404 Not Found The user
does not exist in the HPLMN CONTEXT_NOT_FOUND 404 Not Found It is used when no
corresponding context exists. ACCESS_NOT_ALLOWED 403 Forbidden Access type not
allowed for the user. RAT_NOT_ALLOWED 403 Forbidden RAT is not allowed for the
user DNN_NOT_ALLOWED 403 Forbidden DNN not authorized for the user
REAUTHENTICATION_REQUIRED 403 Forbidden Due to operator policies the user
needs to be re-authenticated, e.g. last valid authentication is considered
obsolete INVALID_GUAMI 403 Forbidden The AMF is not allowed to modify the
registration information stored in the UDM, as it is not the registered AMF.
UNPROCESSABLE_REQUEST 422 Unprocessable Entity The request cannot be proccesed
due to semantic errors when trying to process a patch method
### 6.2.8 Feature Negotiation
The optional features in table 6.2.8-1 are defined for the Nudm_UECM API. They
shall be negotiated using the extensibility mechanism defined in clause 6.6 of
3GPP TS 29.500 [4].
Table 6.2.8-1: Supported Features
Feature number Feature Name Description
* * *
1 SharedData When receiving a Nudm_UECM_Registration service operation request
for a UE that shares subscription data with other UEs, and the request does
not indicate support of this feature by the service consumer, the UDM may --
based on operator policy -- decide to reject the registration.
### 6.2.9 Security
As indicated in 3GPP TS 33.501 [6] and 3GPP TS 29.500 [4], the access to the
Nudm_UECM API may be authorized by means of the OAuth2 protocol (see IETF RFC
6749 [18]), based on local configuration, using the \"Client Credentials\"
authorization grant, where the NRF (see 3GPP TS 29.510 [19]) plays the role of
the authorization server.
If OAuth2 is used, an NF Service Consumer, prior to consuming services offered
by the Nudm_UECM API, shall obtain a \"token\" from the authorization server,
by invoking the Access Token Request service, as described in 3GPP TS 29.510
[19], clause 5.4.2.2.
NOTE: When multiple NRFs are deployed in a network, the NRF used as
authorization server is the same NRF that the NF Service Consumer used for
discovering the Nudm_UECM service.
The Nudm_UECM API defines a single scope \"nudm-uecm\" for OAuth2
authorization (as specified in 3GPP TS 33.501 [6]) for the entire API, and it
does not define any additional scopes at resource or operation level.
## 6.3 Nudm_UEAuthentication Service API
### 6.3.1 API URI
URIs of this API shall have the following root:
{apiRoot}/{apiName}/{apiVersion}/
where \"apiRoot\" is defined in clause 4.4.1 of 3GPP TS 29.501 [5], the
\"apiName\" shall be set to \"nudm-ueau\" and the \"apiVersion\" shall be set
to \"v1\" for the current version of this specification.
### 6.3.2 Usage of HTTP
#### 6.3.2.1 General
HTTP/2, as defined in IETF RFC 7540 [13], shall be used as specified in clause
5 of 3GPP TS 29.500 [4].
HTTP/2 shall be transported as specified in clause 5.3 of 3GPP TS 29.500 [4].
HTTP messages and bodies for the Nudm_UEAU service shall comply with the
OpenAPI [14] specification contained in Annex A4.
#### 6.3.2.2 HTTP standard headers
##### 6.3.2.2.1 General
The usage of HTTP standard headers shall be supported as specified in clause
5.2.2 of 3GPP TS 29.500 [4].
##### 6.3.2.2.2 Content type
The following content types shall be supported:
JSON, as defined in IETF RFC 8259 [15], signalled by the content type
\"application/json\".
The Problem Details JSON Object (IETF RFC 7807 [16] signalled by the content
type \"application/problem+json\"
#### 6.3.2.3 HTTP custom headers
##### 6.3.2.3.1 General
The usage of HTTP custom headers shall be supported as specified in clause
5.2.3 of 3GPP TS 29.500 [4].
### 6.3.3 Resources
#### 6.3.3.1 Overview
Figure 6.3.3.1-1 describes the resources supported by the Nudm_UEAU API.
Figure 6.3.3.1-1: Resource URI structure of the nudm_ueau API
Table 6.3.3.1-1 provides an overview of the resources and applicable HTTP
methods.
Table 6.3.3.1-1: Resources and methods overview
* * *
Resource name\ Resource URI HTTP method or custom operation Description
(Archetype)
* * *
SecurityInformation\ /{supiOrSuci}/security-information/generate-auth-data
generate-auth-data (POST) If the variable {supiOrSuci} takes the value of a
SUCI, the UDM calculates the corresponding SUPI. The UDM calculates a fresh
authentication vector based on the received information and the stored
security information for the SUPI if 5G-AKA or EAP-AKA\' is selected.
Otherwise, UDM provides corresponding authentication information. (Custom
operation)
AuthEvents\ /{supi}/auth-events POST Create an Authentication Event
(Collection)
* * *
#### 6.3.3.2 Resource: SecurityInformation
##### 6.3.3.2.1 Description
This resource represents the information that is needed together with the
serving network name and the access type to calculate a fresh authentication
vector. See 3GPP TS 33.501 [6].
##### 6.3.3.2.2 Resource Definition
Resource URI: {apiRoot}/nudm-ueau/v1/{supiOrSuci}/security-information
This resource shall support the resource URI variables defined in table
6.3.3.2.2-1.
Table 6.3.3.2.2-1: Resource URI variables for this resource
+----------------------------------+----------------------------------+ | Name | Definition | +==================================+==================================+ | apiRoot | See clause 6.3.1 | +----------------------------------+----------------------------------+ | supiOrSuci | Represents the Subscription | | | Permanent Identifier (see | | | 3GPP TS 23.501 [2] | | | clause 5.9.2), or Subscription | | | Concealed Identifier (see | | | 3GPP TS 23.003 [8]). | | | | | | Pattern: | | | \"\^(imsi-[0 | | | -9]{5,15}\|nai-.+\|suci-(0-[0- | | | 9]{3}-[0-9]{2,3}\|[1-7]-.+) | | | -[0-9]{1,4}-(0-0-.+\|[a-fA-F1 | | | -9]-([1-9]\|[1-9][0-9]\|1 | | | [0-9]{2}\|2[0-4][0-9]\|25\ | | | [0-5])-[a-fA-F0-9]+)\|.+)\$\" | | | | | | (See NOTE 1, NOTE 2). | +----------------------------------+----------------------------------+ | NOTE 1: The format for SUCI, | | | when the corresponding SUPI is | | | NAI-based, contains a realm that | | | may include a \"minus\" | | | character (\"-\"), which is also | | | used as field separator. Given | | | that the NAI and its realm shall | | | conform to IETF RFC 7542 [29], | | | the regular expression defined | | | here allows for non-ambiguous | | | matching of the different fields | | | of the SUCI, even when the realm | | | contains the \"minus\" | | | character. | | | | | | NOTE 2: When the SUCI | | | corresponds to a SUPI of type | | | IMSI, and the Null protection | | | scheme is used, the MSIN of the | | | IMSI (which is formatted by the | | | UE and sent over the NAS | | | protocol as Binary Coded | | | Decimal, BCD) shall be formatted | | | in the SUCI as an UTF-8 string | | | containing all decimal digits of | | | the MSIN; see Annex C for SUCI | | | encoding examples. | | +----------------------------------+----------------------------------+
##### 6.3.3.2.3 Resource Standard Methods
No Standard Methods are supported for this resource.
##### 6.3.3.2.4 Resource Custom Operations
###### 6.3.3.2.4.1 Overview
Table 6.3.3.2.4.1-1: Custom operations
Custom operaration URI Mapped HTTP method Description
* * *
/generate-auth-data POST Select the authentication method and calculate a
fresh AV if 5G-AKA or EAP-AKA\' is selected or provides corresponding
authentication information.
###### 6.3.3.2.4.2 Operation: generate-auth-data
###### # 6.3.3.2.4.2.1 Description
This custom operation is used by the NF service consumer (AUSF) to request
authentication information data for the SUPI/SUCI from the UDM. If SUCI is
provided, the UDM calculates the SUPI from the SUCI (see 3GPP TS 33.501 [6]).
The UDM calculates an authentication vector taking into account the
information received from the NF service consumer (AUSF) and the current
representation of this resource if 5G AKA or EAP-AKA\' is selected. For
details see 3GPP TS 33.501 [6].
###### # 6.3.3.2.4.2.2 Operation Definition
This operation shall support the request data structures specified in table
6.3.3.2.4.2.2-1 and the response data structure and response codes specified
in table 6.3.3.2.4.2.2-2.
Table 6.3.3.2.4.2.2-1: Data structures supported by the POST Request Body on
this resource
* * *
Data type P Cardinality Description AuthenticationInfoRequest M 1 Contains the
serving network name and Resynchronization Information
* * *
Table 6.3.3.2.4.2.2-2: Data structures supported by the POST Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | Authenticat | M | 1 | 200 OK | Upon success, | | ionInfoResult | | | | a response | | | | | | body | | | | | | containing | | | | | | the selected | | | | | | a | | | | | | uthentication | | | | | | method and an | | | | | | a | | | | | | uthentication | | | | | | vector if 5G | | | | | | AKA or | | | | | | EAP-AKA\' has | | | | | | been selected | | | | | | shall be | | | | | | returned | +---------------+---+-------------+---------------+---------------+ | P | M | 1 | 404 Not Found | The \"cause\" | | roblemDetails | | | | attribute | | | | | | shall be set | | | | | | to the | | | | | | following | | | | | | application | | | | | | error: | | | | | | | | | | | | - | | | | | | USE | | | | | | R_NOT_FOUND | +---------------+---+-------------+---------------+---------------+ | P | M | 1 | 403 Forbidden | The \"cause\" | | roblemDetails | | | | attribute | | | | | | shall be set | | | | | | to one of the | | | | | | following | | | | | | application | | | | | | errors: | | | | | | | | | | | | - | | | | | | AUTHENTICAT | | | | | | ION_REJECTED | | | | | | | | | | | | - | | | | | | SERVING | | | | | | _NETWORK_NO | | | | | | T_AUTHORIZED | | | | | | | | | | | | - | | | | | | INVALID_H | | | | | | N_PUBLIC_KE | | | | | | Y_IDENTIFIER | | | | | | | | | | | | - | | | | | | INVALID_S | | | | | | CHEME_OUTPUT | +---------------+---+-------------+---------------+---------------+ | P | M | 1 | 501 Not | The \"cause\" | | roblemDetails | | | Implemented | attribute | | | | | | shall be set | | | | | | to the | | | | | | following | | | | | | application | | | | | | error: | | | | | | | | | | | | - | | | | | | UNSUP | | | | | | PORTED_PROTE | | | | | | CTION_SCHEME | +---------------+---+-------------+---------------+---------------+ | NOTE: In | | | | | | addition | | | | | | common data | | | | | | structures as | | | | | | listed in | | | | | | table 6.1.7-1 | | | | | | are | | | | | | supported. | | | | | +---------------+---+-------------+---------------+---------------+
#### 6.3.3.3 Resource: AuthEvents
##### 6.3.3.3.1 Description
This resource represents the collection of UE authentication events.
##### 6.3.3.3.2 Resource Definition
Resource URI: {apiRoot}/nudm-ueau/v1/{supi}/auth-events
This resource shall support the resource URI variables defined in table
6.3.3.3.2-1.
Table 6.3.3.3.2-1: Resource URI variables for this resource
* * *
Name Definition
* * *
apiRoot See clause 6.3.1
supi Represents the Subscription Permanent Identifier (see 3GPP TS 23.501 [2]
clause 5.9.2)\ pattern: \"(imsi-[0-9]{5,15}\|nai-.+\|.+)\"
* * *
##### 6.3.3.3.3 Resource Standard Methods
###### 6.3.3.3.3.1 POST
This method shall support the URI query parameters specified in table
6.3.3.3.3.1-1.
Table 6.3.3.3.3.1-1: URI query parameters supported by the POST method on this
resource
* * *
Name Data type P Cardinality Description n/a
* * *
This method shall support the request data structures specified in table
6.3.3.3.3.1-2 and the response data structures and response codes specified in
table 6.3.3.3.3.1-3.
Table 6.3.3.3.3.1-2: Data structures supported by the POST Request Body on
this resource
* * *
Data type P Cardinality Description AuthEvent M 1 The UE Authentication Event
* * *
Table 6.3.3.3.3.1-3: Data structures supported by the POST Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | AuthEvent | O | 0..1 | 201 Created | Upon success, | | | | | | a response | | | | | | body | | | | | | containing a | | | | | | r | | | | | | epresentation | | | | | | of the | | | | | | created | | | | | | A | | | | | | uthentication | | | | | | Event may be | | | | | | returned. | | | | | | | | | | | | The HTTP | | | | | | response | | | | | | shall include | | | | | | a | | | | | | \"Location\" | | | | | | HTTP header | | | | | | that contains | | | | | | the resource | | | | | | URI of the | | | | | | created | | | | | | resource. | +---------------+---+-------------+---------------+---------------+ | P | M | 1 | 404 Not Found | The \"cause\" | | roblemDetails | | | | attribute | | | | | | shall be set | | | | | | to the | | | | | | following | | | | | | application | | | | | | error: | | | | | | | | | | | | - | | | | | | USE | | | | | | R_NOT_FOUND | +---------------+---+-------------+---------------+---------------+ | NOTE: In | | | | | | addition | | | | | | common data | | | | | | structures as | | | | | | listed in | | | | | | table 6.3.7-1 | | | | | | are | | | | | | supported. | | | | | +---------------+---+-------------+---------------+---------------+
### 6.3.4 Custom Operations without associated resources
In this release of this specification, no custom operations without associated
resources are defined for the Nudm_UEAuthentication Service.
### 6.3.5 Notifications
In this release of this specification, no notifications are defined for the
Nudm_UEAuthentication Service.
### 6.3.6 Data Model
#### 6.3.6.1 General
This clause specifies the application data model supported by the API.
Table 6.3.6.1-1 specifies the structured data types defined for the Nudm_UEAU
service API. For simple data types defined for the Nudm_UEAU service API see
table 6.3.6.3.2-1.
Table 6.3.6.1-1: Nudm_UEAU specific Data Types
Data type Clause defined Description
* * *
AuthenticationInfoRequest 6.3.6.2.2 Contains Serving Network Name and
Resynchronization Information AuthenticationInfoResult 6.3.6.2.3 Contains an
Authentication Vector (AV) AvEapAkaPrime 6.3.6.2.4 Contains RAND, XRES, AUTN,
CK\', and IK\' Av5GHeAka 6.3.6.2.5 Contains RAND, XRES*, AUTN, KAUSF AuthEvent
6.3.6.2.7 Authentication Event ResynchronizationInfo 6.3.6.2.6 Contains RAND
and AUTS AuthenticationVector 6.3.6.2.8
Table 6.3.6.1-2 specifies data types re-used by the Nudm_UEAU service API from
other specifications, including a reference to their respective specifications
and when needed, a short description of their use within the Nudm_UEAU service
API.
Table 6.3.6.1-2: Nudm_UEAU re-used Data Types
Data type Reference Comments
* * *
ProblemDetails 3GPP TS 29.571 [7] Common data type used in response bodies
NfInstanceId 3GPP TS 29.571 [7] Network Function Instance Identifier DateTime
3GPP TS 29.571 [7]  
SupportedFeatures 3GPP TS 29.571 [7] see 3GPP TS 29.500 [4] clause 6.6 Supi
3GPP TS 29.571 [7]
#### 6.3.6.2 Structured data types
##### 6.3.6.2.1 Introduction
This clause defines the structures to be used in POST request / response
bodies.
##### 6.3.6.2.2 Type: AuthenticationInfoRequest
Table 6.3.6.2.2-1: Definition of type AuthenticationInfoRequest
Attribute name Data type P Cardinality Description
* * *
servingNetworkName ServingNetworkName M 1 See 3GPP TS 33.501 [6] clause
6.1.1.4 resynchronizationInfo ResynchronizationInfo O 0..1 Contains RAND and
AUTS; see 3GPP TS 33.501 [6] clause 7.5 supportedFeatures SupportedFeatures O
0..1 See clause 6.3.8 ausfInstanceId NfInstanceId M 1 NF Instance Id of the
AUSF
##### 6.3.6.2.3 Type: AuthenticationInfoResult
Table 6.3.6.2.3-1: Definition of type AuthenticationInfoResult
Attribute name Data type P Cardinality Description
* * *
authType AuthType M 1 Indicates the authentication method authenticationVector
AuthenticationVector C 0..1 contains an authentication vector if 5G AKA or
EAP-AKA\'s is selected supi Supi C 0..1 SUPI shall be present if the request
contained the SUCI within the request URI supportedFeatures SupportedFeatures
O 0..1 See clause 6.3.8
##### 6.3.6.2.4 Type: AvEapAkaPrime
Table 6.3.6.2.4-1: Definition of type AvEapAkaPrime
Attribute name Data type P Cardinality Description
* * *
avType AvType M 1 Type of authentication vector rand Rand M 1  
xres Xres M 1  
autn Autn M 1  
ckPrime CkPrime M 1  
ikPrime IkPrime M 1
##### 6.3.6.2.5 Type: Av5GHeAka
Table 6.3.6.2.5-1: Definition of type Av5GAka
Attribute name Data type P Cardinality Description
* * *
avType AvType M 1 Type of authentication vector rand Rand M 1  
xresStar XresStar M 1  
autn Autn M 1  
kausf Kausf M 1
##### 6.3.6.2.6 Type: ResynchronizationInfo
Table 6.3.6.2.6-1: Definition of type ResynchronizationInfo
Attribute name Data type P Cardinality Description
* * *
rand Rand M 1  
auts Auts M 1
##### 6.3.6.2.7 Type: AuthEvent
Table 6.3.6.2.7-1: Definition of type AuthEvent
* * *
Attribute name Data type P Cardinality Description
* * *
nfInstanceId NfInstanceId M 1 Identifier of the NF instance where the
authentication occurred
success Success M 1 true indicates success; false indicates no success
timeStamp DateTime M 1 time stamp of the authentication
authType AuthType M 1 string\ Authentication Type (\"EAP_AKA_PRIME\" or
\"5G_AKA\")
servingNetworkName ServingNetworkName M 1 See 3GPP TS 33.501 [6] clause
6.1.1.4
* * *
##### 6.3.6.2.8 Type: AuthenticationVector
Table 6.3.6.2.8-1: Definition of type AuthenticationVector as a list of
alternatives
Data type Cardinality Description
* * *
AvEapAkaPrime 1  
Av5GHeAka 1
#### 6.3.6.3 Simple data types and enumerations
##### 6.3.6.3.1 Introduction
This clause defines simple data types and enumerations that can be referenced
from data structures defined in the previous clauses.
##### 6.3.6.3.2 Simple data types
The simple data types defined in table 6.3.6.3.2-1 shall be supported.
Table 6.3.6.3.2-1: Simple data types
* * *
Type Name Type Definition Description Autn string pattern: \"[A-Fa-f0-9]{32}\"
Auts string pattern: \"[A-Fa-f0-9]{28}\" CkPrime string pattern:
\"[A-Fa-f0-9]{32}\" IkPrime string pattern: \"[A-Fa-f0-9]{32}\" Kausf string
pattern: \"[A-Fa-f0-9]{64}\" Rand string pattern: \"[A-Fa-f0-9]{32}\"
ServingNetworkName string See 3GPP TS 33.501 [6] clause 6.1.1.4 Success
boolean true indicates success, false indicates no success Xres string
pattern: \"[A-Fa-f0-9]{8,32}\" XresStar string pattern: \"[A-Fa-f0-9]{32}\"
* * *
##### 6.3.6.3.3 Enumeration: AuthType
Table 6.3.6.3.3-1: Enumeration AuthType
Enumeration value Description
* * *
\"EAP_AKA_PRIME\" EAP-AKA\' \"5G_AKA\" 5G AKA \"EAP_TLS\" EAP-TLS. See NOTE
NOTE: EAP-TLS is described in the Informative Annex B of 3GPP TS 33.501 [6]
and is not mandatory to support.
##### 6.3.6.3.4 Enumeration: AvType
Table 6.3.6.3.4-1: Enumeration AvType
Enumeration value Description
* * *
\"5G_HE_AKA\"  
\"EAP_AKA_PRIME\"
### 6.3.7 Error Handling
#### 6.3.7.1 General
HTTP error handling shall be supported as specified in clause 5.2.4 of 3GPP TS
29.500 [4].
#### 6.3.7.2 Protocol Errors
Protocol errors handling shall be supported as specified in clause 5.2.7 of
3GPP TS 29.500 [4].
#### 6.3.7.3 Application Errors
The common application errors defined in the Table 5.2.7.2-1 in 3GPP TS 29.500
[4] may also be used for the Nudm_UEAuthentication service. The following
application errors listed in Table 6.3.7.3-1 are specific for the
Nudm_UEAuthentication service.
Table 6.3.7.3-1: Application errors
Application Error HTTP status code Description
* * *
AUTHENTICATION_REJECTED 403 Forbidden The user is cannot be authenticated with
this authentication method e.g. only SIM data available
SERVING_NETWORK_NOT_AUTHORIZED 403 Forbidden The requesting network is not
authorized to request UE authentication information. USER_NOT_FOUND 404 Not
Found The user does not exist in the HPLMN UNSUPPORTED_PROTECTION_SCHEME 501
Not implemented The received protection scheme is not supported by HPLMN
INVALID_HN_PUBLIC_KEY_IDENTIFIER 403 Forbidden Invalid HN public key
identifier received INVALID_SCHEME_OUTPUT 403 Forbidden SUCI cannot be
decrypted with received data
### 6.3.8 Feature Negotiation
The optional features in table 6.3.8-1 are defined for the Nudm_UEAU API. They
shall be negotiated using the extensibility mechanism defined in clause 6.6 of
3GPP TS 29.500 [4].
Table 6.3.8-1: Supported Features
Feature number Feature Name Description
* * *
### 6.3.9 Security
As indicated in 3GPP TS 33.501 [6] and 3GPP TS 29.500 [4], the access to the
Nudm_UEAU API may be authorized by means of the OAuth2 protocol (see IETF RFC
6749 [18]), based on local configuration, using the \"Client Credentials\"
authorization grant, where the NRF (see 3GPP TS 29.510 [19]) plays the role of
the authorization server.
If OAuth2 is used, an NF Service Consumer, prior to consuming services offered
by the Nudm_UEAU API, shall obtain a \"token\" from the authorization server,
by invoking the Access Token Request service, as described in 3GPP TS 29.510
[19], clause 5.4.2.2.
NOTE: When multiple NRFs are deployed in a network, the NRF used as
authorization server is the same NRF that the NF Service Consumer used for
discovering the Nudm_UEAU service.
The Nudm_UEAU API defines a single scope \"nudm-ueau\" for OAuth2
authorization (as specified in 3GPP TS 33.501 [6]) for the entire API, and it
does not define any additional scopes at resource or operation level.
## 6.4 Nudm_EventExposure Service API
### 6.4.1 API URI
URIs of this API shall have the following root:
{apiRoot}/{apiName}/{apiVersion}/
where \"apiRoot\" is defined in clause 4.4.1 of 3GPP TS 29.501 [5], the
\"apiName\" shall be set to \"nudm-ee\" and the \"apiVersion\" shall be set to
\"v1\" for the current version of this specification.
### 6.4.2 Usage of HTTP
#### 6.4.2.1 General
HTTP/2, as defined in IETF RFC 7540 [13], shall be used as specified in clause
5 of 3GPP TS 29.500 [4].
HTTP/2 shall be transported as specified in clause 5.3 of 3GPP TS 29.500 [4].
HTTP messages and bodies for the Nudm_EE service shall comply with the OpenAPI
[14] specification contained in Annex A5.
#### 6.4.2.2 HTTP standard headers
##### 6.4.2.2.1 General
The usage of HTTP standard headers shall be supported as specified in clause
5.2.2 of 3GPP TS 29.500 [4].
##### 6.4.2.2.2 Content type
The following content types shall be supported:
JSON, as defined in IETF RFC 8259 [15], signalled by the content type
\"application/json\".
The Problem Details JSON Object (IETF RFC 7807 [16] signalled by the content
type \"application/problem+json\"
JSON Patch (IETF RFC 6902 [32]). The use of the JSON Patch format in a HTTP
request body shall be signalled by the content type \"application/json-
patch+json\".
#### 6.4.2.3 HTTP custom headers
##### 6.4.2.3.1 General
The usage of HTTP custom headers shall be supported as specified in clause
5.2.3 of 3GPP TS 29.500 [4].
### 6.4.3 Resources
#### 6.4.3.1 Overview
Figure 6.4.3.1-1: Resource URI structure of the Nudm_EE API
Table 6.4.3.1-1 provides an overview of the resources and applicable HTTP
methods.
Table 6.4.3.1-1: Resources and methods overview
* * *
Resource name\ Resource URI HTTP method or custom operation Description
(Archetype)
* * *
EeSubscriptions\ /{ueIdentity}/ee-subscriptions POST Create a subscription
(Collection)
Individual subscription\ /{ueIdentity}/ee-subscriptions/{subscriptionId} PATCH
Update the subscription identified by {subscriptionId} (Document)
                                                                               DELETE                            Delete the subscription identified by {subscriptionId}, i.e. unsubscribe
* * *
#### 6.4.3.2 Resource: EeSubscriptions
##### 6.4.3.2.1 Description
This resource is used to represent subscriptions to notifications.
##### 6.4.3.2.2 Resource Definition
Resource URI: {apiRoot}/nudm-ee/v1/{ueIdentity}/ee-subscriptions
This resource shall support the resource URI variables defined in table
6.4.3.2.2-1.
Table 6.4.3.2.2-1: Resource URI variables for this resource
+------------+--------------------------------------------------------+ | Name | Definition | +============+========================================================+ | apiRoot | See clause 6.4.1 | +------------+--------------------------------------------------------+ | ueIdentity | Represents a single UE or a group of UEs or any UE. | | | | | | - If representing a single UE, this parameter shall | | | contain the Generic Public Subscription Identifier | | | (see 3GPP TS 23.501 [2] clause 5.9.8)\ | | | pattern: | | | \"\^( | | | msisdn-[0-9]{5,15}\|extid-[\^@]+@[\^@]+\|.+)\$\" | | | | | | - If representing a group of UEs, this parameter | | | shall contain the External GroupId. | | | | | | pattern: \"\^extgroupid-[\^@]+@[\^@]+\$\" | | | | | | - If representing any UE, this parameter shall | | | contain \"anyUE\". | | | | | | pattern: \"\^anyUE\$\" | +------------+--------------------------------------------------------+
##### 6.4.3.2.3 Resource Standard Methods
###### 6.4.3.2.3.1 POST
This method shall support the URI query parameters specified in table
6.4.3.2.3.1-1.
Table 6.4.3.2.3.1-1: URI query parameters supported by the POST method on this
resource
* * *
Name Data type P Cardinality Description n/a
* * *
This method shall support the request data structures specified in table
6.4.3.2.3.1-2 and the response data structures and response codes specified in
table 6.4.3.2.3.1-3.
Table 6.4.3.2.3.1-2: Data structures supported by the POST Request Body on
this resource
* * *
Data type P Cardinality Description EeSubscription M 1 The subscription that
is to be created
* * *
Table 6.4.3.2.3.1-3: Data structures supported by the POST Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | CreatedE | M | 1 | 201 Created | Upon success, | | eSubscription | | | | a response | | | | | | body | | | | | | containing a | | | | | | r | | | | | | epresentation | | | | | | of the | | | | | | created | | | | | | Individual | | | | | | subscription | | | | | | resource | | | | | | shall be | | | | | | returned. | | | | | | | | | | | | The HTTP | | | | | | response | | | | | | shall include | | | | | | a | | | | | | \"Location\" | | | | | | HTTP header | | | | | | that contains | | | | | | the resource | | | | | | URI of the | | | | | | created | | | | | | resource. | | | | | | When | | | | | | stateless UDM | | | | | | is deployed, | | | | | | the stateless | | | | | | UDM may use | | | | | | an FQDN | | | | | | identifying | | | | | | the UDM group | | | | | | to which the | | | | | | UDM belongs | | | | | | as the host | | | | | | part of the | | | | | | resource URI. | +---------------+---+-------------+---------------+---------------+ | P | M | 1 | 403 Forbidden | The \"cause\" | | roblemDetails | | | | attribute | | | | | | shall be set | | | | | | to the | | | | | | following | | | | | | application | | | | | | error: | | | | | | | | | | | | - | | | | | | MONITORING\ | | | | | | _NOT_ALLOWED | +---------------+---+-------------+---------------+---------------+ | P | M | 1 | 404 Not Found | The \"cause\" | | roblemDetails | | | | attribute | | | | | | shall be set | | | | | | to the | | | | | | following | | | | | | application | | | | | | error: | | | | | | | | | | | | - | | | | | | USE | | | | | | R_NOT_FOUND | +---------------+---+-------------+---------------+---------------+ | P | M | 1 | 501 Not | The \"cause\" | | roblemDetails | | | Implemented | attribute | | | | | | shall be set | | | | | | to one of the | | | | | | following | | | | | | application | | | | | | errors: | | | | | | | | | | | | - | | | | | | UNSUPPORTE | | | | | | D_MONITORING | | | | | | _EVENT_TYPE | | | | | | | | | | | | - | | | | | | U | | | | | | NSUPPORTED_M | | | | | | ONITORING_RE | | | | | | PORT_OPTIONS | +---------------+---+-------------+---------------+---------------+ | NOTE: In | | | | | | addition | | | | | | common data | | | | | | structures as | | | | | | listed in | | | | | | table 6.4.7-1 | | | | | | are | | | | | | supported. | | | | | +---------------+---+-------------+---------------+---------------+
NOTE: In the scenario of stateless UDM deployment, it is assumed that
stateless UDMs are organized into several UDM groups, and for each UDM group
an FQDN can be allocated.
#### 6.4.3.3 Resource: Individual subscription
##### 6.4.3.3.1 Resource Definition
Resource URI: {apiRoot}/nudm-ee/v1/{ueIdentity}/ee-
subscriptions/{subscriptionId}
This resource shall support the resource URI variables defined in table
6.4.3.3.1-1.
Table 6.4.3.3.1-1: Resource URI variables for this resource
+----------------+----------------------------------------------------+ | Name | Definition | +================+====================================================+ | apiRoot | See clause 6.1.1 | +----------------+----------------------------------------------------+ | ueIdentity | Represents a single UE or a group of UEs or any | | | UE. | | | | | | - If representing a single UE, this parameter | | | shall contain the Generic Public Subscription | | | Identifier (see 3GPP TS 23.501 [2] | | | clause 5.9.8)\ | | | pattern: | | | \"\^(msis | | | dn-[0-9]{5,15}\|extid-[\^@]+@[\^@]+\|.+)\$\" | | | | | | - If representing a group of UEs, this parameter | | | shall contain the External GroupId. | | | | | | pattern: \"\^extgroupid-[\^@]+@[\^@]+\$\" | | | | | | - If representing any UE, this parameter shall | | | contain \"anyUE\". | | | | | | pattern: \"\^anyUE\$\" | +----------------+----------------------------------------------------+ | subscriptionId | The subscriptionId identifies an individual | | | subscription to notifications. The value is | | | allocated by the UDM during creation of the | | | Subscription resource. | +----------------+----------------------------------------------------+
##### 6.4.3.3.2 Resource Standard Methods
###### 6.4.3.3.2.1 DELETE
This method shall support the URI query parameters specified in table
6.4.3.3.2.1-1.
Table 6.4.3.3.1.1-1: URI query parameters supported by the DELETE method on
this resource
* * *
Name Data type P Cardinality Description n/a
* * *
This method shall support the request data structures specified in table
6.4.3.3.2.1-2 and the response data structures and response codes specified in
table 6.4.3.3.2.1-3.
Table 6.4.3.3.2.1-2: Data structures supported by the Delete Request Body on
this resource
* * *
Data type P Cardinality Description n/a The request body shall be empty.
* * *
Table 6.4.3.3.2.1-3: Data structures supported by the DELETE Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | n/a | | | 204 No | Upon success, | | | | | Content | an empty | | | | | | response body | | | | | | shall be | | | | | | returned. | +---------------+---+-------------+---------------+---------------+ | NOTE: In | | | | | | addition | | | | | | common data | | | | | | structures as | | | | | | listed in | | | | | | table 6.4.7-1 | | | | | | are | | | | | | supported. | | | | | +---------------+---+-------------+---------------+---------------+
###### 6.4.3.3.2.2 PATCH
This method shall support the URI query parameters specified in table
6.4.3.3.2.2-1.
Table 6.4.3.3.2.2-1: URI query parameters supported by the PATCH method on
this resource
* * *
Name Data type P Cardinality Description n/a
* * *
This method shall support the request data structures specified in table
6.4.3.3.2.2-2 and the response data structures and response codes specified in
table 6.4.3.3.2.2-3.
Table 6.4.3.3.2.2-2: Data structures supported by the PATCH Request Body on
this resource
* * *
Data type P Cardinality Description array(PatchItem) M 1..N Items describe the
modifications to the Event Subscription
* * *
Table 6.4.3.3.2.2-3: Data structures supported by the PATCH Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | n/a | | | 204 No | Upon success, | | | | | Content | an empty | | | | | | response body | | | | | | shall be | | | | | | returned. | +---------------+---+-------------+---------------+---------------+ | P | M | 1 | 404 Not Found | The resource | | roblemDetails | | | | corresponding | | | | | | to the | | | | | | S | | | | | | ubscriptionId | | | | | | can\'t be | | | | | | found. | | | | | | | | | | | | The \"cause\" | | | | | | attribute | | | | | | shall be set | | | | | | to: | | | | | | | | | | | | - | | | | | | SUBSCRIPTIO | | | | | | N_NOT_FOUND | +---------------+---+-------------+---------------+---------------+ | | M | 1 | 403 Forbidden | One or more | | | | | | attributes | | | | | | are not | | | | | | allowed to be | | | | | | modified. | | | | | | | | | | | | The \"cause\" | | | | | | attribute | | | | | | shall be set | | | | | | to: | | | | | | | | | | | | - | | | | | | MODIFY\ | | | | | | _NOT_ALLOWED | +---------------+---+-------------+---------------+---------------+ | NOTE: In | | | | | | addition | | | | | | common data | | | | | | structures as | | | | | | listed in | | | | | | table | | | | | | 6.4.6.1-2 are | | | | | | supported. | | | | | +---------------+---+-------------+---------------+---------------+
### 6.4.4 Custom Operations without associated resources
In this release of this specification, no custom operations without associated
resources are defined for the Nudm_EventExposure Service.
### 6.4.5 Notifications
#### 6.4.5.1 General
This clause will specify the use of notifications and corresponding protocol
details if required for the specific service. When notifications are supported
by the API, it will include a reference to the general description of
notifications support over the 5G SBIs specified in TS 29.500 / TS 29.501.
#### 6.4.5.2 Event Occurrence Notification
The POST method shall be used for Event Occurrence Notifications and the URI
shall be as provided during the subscription procedure.
Resource URI: {callbackReference}
Support of URI query parameters is specified in table 6.4.5.2-1.
Table 6.4.5.2-1: URI query parameters supported by the POST method
* * *
Name Data type P Cardinality Description n/a
* * *
Support of request data structures is specified in table 6.4.5.2-2 and of
response data structures and response codes is specified in table 6.4.5.2-3.
Table 6.4.5.2-2: Data structures supported by the POST Request Body
* * *
Data type P Cardinality Description array(MonitoringReport) M 1..N A list of
MonitoringReports each of which contains information regarding the occurred
event
* * *
Table 6.4.5.2-3: Data structures supported by the POST Response Body
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | n/a | | | 204 No | Upon success, | | | | | Content | an empty | | | | | | response body | | | | | | shall be | | | | | | returned. | +---------------+---+-------------+---------------+---------------+ | P | M | 1 | 404 Not Found | The \"cause\" | | roblemDetails | | | | attribute | | | | | | shall be set | | | | | | to the | | | | | | following | | | | | | application | | | | | | error: | | | | | | | | | | | | - | | | | | | CONTEX | | | | | | T_NOT_FOUND | +---------------+---+-------------+---------------+---------------+ | NOTE: In | | | | | | addition | | | | | | common data | | | | | | structures as | | | | | | listed in | | | | | | table 6.1.7-1 | | | | | | are | | | | | | supported. | | | | | +---------------+---+-------------+---------------+---------------+
### 6.4.6 Data Model
#### 6.4.6.1 General
This clause specifies the application data model supported by the API.
Table 6.4.6.2-1 specifies the data types defined for the Nudm_EE service API.
Table 6.4.6.1-1: Nudm_EE specific Data Types
Data type Clause defined Description
* * *
EeSubscription 6.4.6.2.2 A subscription to Notifications
MonitoringConfiguration 6.4.6.2.3 Monitoring Configuration MonitoringReport
6.4.6.2.4 Monitoring Report Report 6.4.6.2.5  
ReportingOptions 6.4.6.2.6  
ChangeOfSupiPeiAssociationReport 6.4.6.2.7  
RoamingStatusReport 6.4.6.2.8  
CreatedEeSubscription 6.4.6.2.9  
LocationReportingConfiguration 6.4.6.2.10
Table 6.4.6.1-2 specifies data types re-used by the Nudm_EE service API from
other specifications, including a reference to their respective specifications
and when needed, a short description of their use within the Nudm_EE service
API.
Table 6.4.6.1-2: Nudm_EE re-used Data Types
Data type Reference Comments
* * *
Uri 3GPP TS 29.571 [7] Uniform Resource Identifier SupportedFeatures 3GPP TS
29.571 [7] see 3GPP TS 29.500 [4] clause 6.6 DateTime 3GPP TS 29.571 [7]  
Pei 3GPP TS 29.571 [7]  
PlmnId 3GPP TS 29.571 [7]  
Gpsi 3GPP TS 29.571 [7]
#### 6.4.6.2 Structured data types
##### 6.4.6.2.1 Introduction
This clause defines the structures to be used in resource representations.
##### 6.4.6.2.2 Type: EeSubscription
Table 6.4.6.2.2-1: Definition of type EeSubscription
+---------------+---------------+---+-------------+---------------+ | Attribute | Data type | P | Cardinality | Description | | name | | | | | +===============+===============+===+=============+===============+ | call | Uri | M | 1 | URI provided | | backReference | | | | by the NF | | | | | | service | | | | | | consumer to | | | | | | receive | | | | | | notifications | +---------------+---------------+---+-------------+---------------+ | monitoringC | ma | M | 1..N | A map (list | | onfigurations | p(MonitoringC | | | of key-value | | | onfiguration) | | | pairs where | | | | | | referenceId | | | | | | converted | | | | | | from integer | | | | | | to string | | | | | | serves as | | | | | | key; see | | | | | | clau | | | | | | se 6.4.6.3.2) | | | | | | of | | | | | | MonitoringCo | | | | | | nfigurations; | | | | | | | | | | | | see | | | | | | cla | | | | | | use 6.4.6.2.3 | +---------------+---------------+---+-------------+---------------+ | rep | Rep | O | 0..1 | This IE may | | ortingOptions | ortingOptions | | | be included | | | | | | if the NF | | | | | | service | | | | | | consumer | | | | | | wants to | | | | | | describe how | | | | | | the reports | | | | | | of the event | | | | | | to be | | | | | | generated. | +---------------+---------------+---+-------------+---------------+ | supp | Supp | O | 0..1 | See | | ortedFeatures | ortedFeatures | | | clause 6.4.8 | +---------------+---------------+---+-------------+---------------+ | s | string | C | 0..1 | This | | ubscriptionId | | | | attribute | | | | | | shall be | | | | | | present if | | | | | | the | | | | | | E | | | | | | eSubscription | | | | | | is sent in a | | | | | | GET response | | | | | | message on | | | | | | Nudr. It | | | | | | identifies | | | | | | the | | | | | | individual | | | | | | E | | | | | | eSubscription | | | | | | stored in the | | | | | | UDR and may | | | | | | be used by | | | | | | the UDM to | | | | | | delete an | | | | | | Ee | | | | | | Subscription. | +---------------+---------------+---+-------------+---------------+
##### 6.4.6.2.3 Type: MonitoringConfiguration
Table 6.4.6.2.3-1: Definition of type MonitoringConfiguration
+---------------+---------------+---+-------------+---------------+ | Attribute | Data type | P | Cardinality | Description | | name | | | | | +===============+===============+===+=============+===============+ | eventType | EventType | M | 1 | String; see | | | | | | cla | | | | | | use 6.4.6.3.3 | +---------------+---------------+---+-------------+---------------+ | immediateFlag | boolean | O | 0..1 | Indicates if | | | | | | an immediate | | | | | | event report | | | | | | in the | | | | | | subscription | | | | | | response | | | | | | indicating | | | | | | current value | | | | | | / status of | | | | | | the event is | | | | | | required or | | | | | | not. If the | | | | | | flag is not | | | | | | present then | | | | | | immediate | | | | | | reporting | | | | | | shall not be | | | | | | done. | +---------------+---------------+---+-------------+---------------+ | loca | Loca | C | 0..1 | shall be | | tionReporting | tionReporting | | | present if | | Configuration | Configuration | | | eventType is | | | | | | \"LOCATION | | | | | | _REPORTING\" | +---------------+---------------+---+-------------+---------------+ | as | As | O | 0..1 | If the | | sociationType | sociationType | | | eventType | | | | | | indicates | | | | | | CHANGE_O | | | | | | F_SUPI_PEI\ | | | | | | _ASSOCIATION, | | | | | | this | | | | | | parameter may | | | | | | be included | | | | | | to identify | | | | | | whether the | | | | | | IMSI-IMEI or | | | | | | IMSI-IMEISV | | | | | | association | | | | | | shall be | | | | | | detected. | | | | | | | | | | | | If the flag | | | | | | is not | | | | | | present, then | | | | | | a value of | | | | | | IMEISV shall | | | | | | be used. | +---------------+---------------+---+-------------+---------------+
##### 6.4.6.2.4 Type: MonitoringReport
Table 6.4.6.2.4-1: Definition of type MonitoringReport
+---------------+-------------+---+-------------+---------------+ | Attribute | Data type | P | Cardinality | Description | | name | | | | | +===============+=============+===+=============+===============+ | referenceId | ReferenceId | M | 1 | | +---------------+-------------+---+-------------+---------------+ | eventType | EventType | M | 1 | String; see | | | | | | cla | | | | | | use 6.4.6.3.3 | | | | | | | | | | | | only the | | | | | | following | | | | | | values are | | | | | | allowed: | | | | | | | | | | | | \"UE\ | | | | | | _REACHABILITY | | | | | | _FOR_SMS\"\ | | | | | | \"CHANGE_OF\ | | | | | | _SUPI_PEI_A | | | | | | SSOCIATION\"\ | | | | | | \"ROAM | | | | | | ING_STATUS\" | +---------------+-------------+---+-------------+---------------+ | report | Report | C | 0..1 | Shall be | | | | | | present if | | | | | | eventType is | | | | | | \"CHANGE_OF | | | | | | _SUPI_PEI_ | | | | | | ASSOCIATION\" | | | | | | or | | | | | | \"ROAM | | | | | | ING_STATUS\" | +---------------+-------------+---+-------------+---------------+ | gpsi | Gpsi | C | 0..1 | shall be | | | | | | present if | | | | | | the report is | | | | | | associated to | | | | | | exposure | | | | | | subscriptions | | | | | | for a group | | | | | | of UEs or any | | | | | | UE. | +---------------+-------------+---+-------------+---------------+ | timeStamp | DateTime | M | 1 | Point in time | | | | | | at which the | | | | | | event | | | | | | occurred | +---------------+-------------+---+-------------+---------------+
##### 6.4.6.2.5 Type: Report
Table 6.4.6.2.5-1: Definition of type Report as a list of alternatives
Data type Cardinality Description
* * *
ChangeOfSupiPeiAssociationReport 1  
RoamingStatusReport 1
##### 6.4.6.2.6 Type: ReportingOptions
Table 6.4.6.2.6-1: Definition of type ReportingOptions
Attribute name Data type P Cardinality Description
* * *
maxNumOfReports MaxNumOfReports O 0..1 Maximum number of reports. If the event
subscription is for a group of UEs, this parameter shall be applied to each
individual member UE of the group. expiry DateTime C 0..1 This IE shall be
included in an event subscription response, if, based on operator policy, the
UDM needs to include an expiry time, and may be included in an event
subscription request. When present, this IE shall represent the time at which
monitoring shall cease and the subscription becomes invalid. If the
maxNumOfReports included in an event subscription response is 1 and if an
event report is included in the subscription response then the value of the
expiry included in the response shall be an immediate timestamp.
##### 6.4.6.2.7 Type: ChangeOfSupiPeiAssociationReport
Table 6.4.6.2.7-1: Definition of type ChangeOfSupiPeiAssociationReport
Attribute name Data type P Cardinality Description
* * *
newPei Pei M 1 the new PEI
##### 6.4.6.2.8 Type: RoamingStatusReport
Table 6.4.6.2.8-1: Definition of type RoamingStatusReport
* * *
Attribute name Data type P Cardinality Description
* * *
roaming boolean M 1 True: The new serving PLMN is different from the HPLMN;\
False: The new serving PLMN is the HPLMN
newServingPlmn PlmnId M 1 the new Serving PLMN
* * *
##### 6.4.6.2.9 Type: CreatedEeSubscription
Table 6.4.6.2.9-1: Definition of type CreatedEeSubscription
Attribute name Data type P Cardinality Description
* * *
eeSubscription EeSubscription M 1 This IE shall contain the representation of
the created event subscription. numberOfUes Uinteger C 0..1 This IE shall be
included if the event subscription is for a group of UEs. When present, this
IE shall represent the number of UEs in the group. eventReports
array(MonitoringReport) O 1..N This IE when present, shall contain the status
of events that are requested for immediate reporting as well, if those events
are available at the time of subscription.
##### 6.4.6.2.10 Type: LocationReportingConfiguration
Table 6.4.6.2.10-1: Definition of type LocationReportingConfiguration
+---------------+---------------+---+-------------+---------------+ | Attribute | Data type | P | Cardinality | Description | | name | | | | | +===============+===============+===+=============+===============+ | cu | boolean | M | 1 | When true: | | rrentLocation | | | | Indicates | | | | | | that current | | | | | | location is | | | | | | requested. | | | | | | | | | | | | When false: | | | | | | Indicates | | | | | | that last | | | | | | known | | | | | | location is | | | | | | requested. | +---------------+---------------+---+-------------+---------------+ | oneTime | boolean | C | 0..1 | When true: | | | | | | Indicates | | | | | | that a single | | | | | | report is | | | | | | requested. | | | | | | | | | | | | When false or | | | | | | absent: | | | | | | Indicates | | | | | | that | | | | | | continuous | | | | | | reporting is | | | | | | requested. | | | | | | | | | | | | Shall not be | | | | | | absent or set | | | | | | to false when | | | | | | cu | | | | | | rrentLocation | | | | | | is false. | +---------------+---------------+---+-------------+---------------+ | accuracy | Loc | C | 0..1 | Indicates | | | ationAccuracy | | | whether | | | | | | Cell-level or | | | | | | TA-level | | | | | | accuracy is | | | | | | requested. | | | | | | | | | | | | Shall be | | | | | | present if | | | | | | continuous | | | | | | reporting is | | | | | | requested | +---------------+---------------+---+-------------+---------------+
#### 6.4.6.3 Simple data types and enumerations
##### 6.4.6.3.1 Introduction
This clause defines simple data types and enumerations that can be referenced
from data structures defined in the previous clauses.
##### 6.4.6.3.2 Simple data types
The simple data types defined in table 6.4.6.3.2-1 shall be supported.
Table 6.4.6.3.2-1: Simple data types
+-----------------+-----------------+--------------------------------+ | Type Name | Type Definition | Description | +-----------------+-----------------+--------------------------------+ | MaxNumOfReports | integer | Maximum number of reports. | | | | | | | | Minimum: 1 | +-----------------+-----------------+--------------------------------+ | ReferenceId | integer | ReferenceId is used as key in | | | | a map of | | | | MonitoringConfigurations; see | | | | clause 6.4.6.2.2. | +-----------------+-----------------+--------------------------------+
##### 6.4.6.3.3 Enumeration: EventType
Table 6.4.6.3.3-1: Enumeration EventType
+----------------------------------+----------------------------------+ | Enumeration value | Description | +==================================+==================================+ | \"LOSS_OF_CONNECTIVITY\" | Loss of connectivity | +----------------------------------+----------------------------------+ | \"UE_REACHABILITY_FOR_DATA\" | UE reachability for data, | | | implements the \"UE | | | Reachability\" monitoring event | | | as specified in clause 4.15.3.1 | | | in 3GPP TS 23.502 [3]. | | | | | | When this event is subscribed by | | | an NF service consumer, the UDM | | | subscribe to | | | \"Reachability-Report\" event | | | for \"UE Reachable for DL | | | Traffic\" on the AMF without | | | URRP-AMF flag. | | | | | | When this event is subscribed by | | | an NF service consumer, the UDM | | | shall request the AMF to | | | directly send notification to | | | NF. | +----------------------------------+----------------------------------+ | \"UE_REACHABILITY_FOR_SMS\" | UE reachability for SMS, | | | implements the \"UE Reachability | | | for SMS Delivery\" event as | | | specified in clause 4.15.3.1 of | | | 3GPP TS 23.502 [3]. | | | | | | This Event is reported when an | | | SMSF is being registered in UDM | | | for the UE, or when a UE | | | Activity notification is | | | received from AMF and there is | | | an SMSF already registered for | | | the UE. | | | | | | This event only supports | | | One-Time reporting. | +----------------------------------+----------------------------------+ | \"LOCATION_REPORTING\" | Location Reporting | +----------------------------------+----------------------------------+ | \"CHAN | Change of SUPI-PEI association | | GE_OF_SUPI_PEI_ASSOCIATION\" | | +----------------------------------+----------------------------------+ | \"ROAMING_STATUS\" | Roaming Status | +----------------------------------+----------------------------------+ | \"COMMUNICATION_FAILURE\" | Communication Failure | +----------------------------------+----------------------------------+ | \"AVA | Availability after DDN failure | | ILABILITY_AFTER_DDN_FAILURE\" | | +----------------------------------+----------------------------------+
##### 6.4.6.3.4 Enumeration: LocationAccuracy
Table 6.4.6.3.4-1: Enumeration LocationAccuracy
Enumeration value Description
* * *
\"CELL_LEVEL\" change of cell shall be reported \"TA_LEVEL\" change of TA
shall be reported
##### 6.4.6.3.5 Enumeration: AssociationType
Table 6.4.6.3.5-1: Enumeration AssociationType
Enumeration value Description
* * *
\"IMEI_CHANGE\" The event shall be reported if the association between IMSI
and IMEI has changed; if only the Software Version (SV) has changed, no event
shall be reported. \"IMEISV_CHANGE\" The event shall be reported if the
association between IMSI and IMEI, or SV, or both, has changed (this includes
the case where only the SV has changed).
### 6.4.7 Error Handling
#### 6.4.7.1 General
HTTP error handling shall be supported as specified in clause 5.2.4 of 3GPP TS
29.500 [4].
#### 6.4.7.2 Protocol Errors
Protocol errors handling shall be supported as specified in clause 5.2.7 of
3GPP TS 29.500 [4].
#### 6.4.7.3 Application Errors
The common application errors defined in the Table 5.2.7.2-1 in 3GPP TS 29.500
[4] may also be used for the Nudm_EventExposure service. The following
application errors listed in Table 6.4.7.3-1 are specific for the
Nudm_EventExposure service.
Table 6.4.7.3-1: Application errors
Application Error HTTP status code Description
* * *
MONITORING_NOT_ALLOWED 403 Forbidden The subscriber does not have the
necessary subscription for monitoring with the requested Event Type.
USER_NOT_FOUND 404 Not Found The user does not exist CONTEXT_NOT_FOUND 404 Not
Found It is used when no corresponding context exists.
UNSUPPORTED_MONITORING_EVENT_TYPE 501 Not Implemented The monitoring
configuration contains unsupported event type.
UNSUPPORTED_MONITORING_REPORT_OPTIONS 501 Not Implemented The monitoring
configuration contains unsupported report options.
### 6.4.8 Feature Negotiation
The optional features in table 6.4.8-1 are defined for the Nudm_EE API. They
shall be negotiated using the extensibility mechanism defined in clause 6.6 of
3GPP TS 29.500 [4].
Table 6.4.8-1: Supported Features
Feature number Feature Name Description
* * *
### 6.4.9 Security
As indicated in 3GPP TS 33.501 [6] and 3GPP TS 29.500 [4], the access to the
Nudm_EE API may be authorized by means of the OAuth2 protocol (see IETF RFC
6749 [18]), based on local configuration, using the \"Client Credentials\"
authorization grant, where the NRF (see 3GPP TS 29.510 [19]) plays the role of
the authorization server.
If OAuth2 is used, an NF Service Consumer, prior to consuming services offered
by the Nudm_EE API, shall obtain a \"token\" from the authorization server, by
invoking the Access Token Request service, as described in 3GPP TS 29.510
[19], clause 5.4.2.2.
NOTE: When multiple NRFs are deployed in a network, the NRF used as
authorization server is the same NRF that the NF Service Consumer used for
discovering the Nudm_EE service.
The Nudm_EE API defines a single scope \"nudm-ee\" for OAuth2 authorization
(as specified in 3GPP TS 33.501 [6]) for the entire API, and it does not
define any additional scopes at resource or operation level.
## 6.5 Nudm_ParameterProvision Service API
### 6.5.1 API URI
URIs of this API shall have the following root:
{apiRoot}/{apiName}/{apiVersion}/
where \"apiRoot\" is defined in clause 4.4.1 of 3GPP TS 29.501 [5], the
\"apiName\" shall be set to \"nudm-pp\" and the \"apiVersion\" shall be set to
\"v1\" for the current version of this specification.
### 6.5.2 Usage of HTTP
#### 6.5.2.1 General
HTTP/2, as defined in IETF RFC 7540 [13], shall be used as specified in clause
5 of 3GPP TS 29.500 [4].
HTTP/2 shall be transported as specified in clause 5.3 of 3GPP TS 29.500 [4].
HTTP messages and bodies for the Nudm_PP service shall comply with the OpenAPI
[14] specification contained in Annex A6.
#### 6.5.2.2 HTTP standard headers
##### 6.5.2.2.1 General
The usage of HTTP standard headers shall be supported as specified in clause
5.2.2 of 3GPP TS 29.500 [4].
##### 6.5.2.2.2 Content type
The following content types shall be supported:
JSON, as defined in IETF RFC 8259 [15], signalled by the content type
\"application/json\".
The Problem Details JSON Object (IETF RFC 7807 [16] signalled by the content
type \"application/problem+json\"
JSON Merge Patch, as defined in IETF RFC 7396 [17], signalled by the content
type \"application/merge-patch+json\"
#### 6.5.2.3 HTTP custom headers
##### 6.5.2.3.1 General
The usage of HTTP custom headers shall be supported as specified in clause
5.2.3 of 3GPP TS 29.500 [4].
### 6.5.3 Resources
#### 6.5.3.1 Overview
Figure 6.5.3.1-1: Resource URI structure of the Nudm_PP API
Table 6.5.3.1-1 provides an overview of the resources and applicable HTTP
methods.
Table 6.5.3.1-1: Resources and methods overview
Resource name Resource URI HTTP method or custom operation Description
* * *
PpData /{gpsi}/pp-data PATCH Modify the UE\'s modifiable subscription data
#### 6.5.3.2 Resource: PpData
##### 6.5.3.2.1 Description
This resource is used to represent Parameter Provisioning Data.
##### 6.5.3.2.2 Resource Definition
Resource URI: {apiRoot}/nudm-pp/v1/{gpsi}/pp-data
This resource shall support the resource URI variables defined in table
6.5.3.2.2-1.
Table 6.5.3.2.2-1: Resource URI variables for this resource
* * *
Name Definition
* * *
apiRoot See clause 6.5.1
gpsi Represents the Generic Public Subscription Identifier (see 3GPP TS 23.501
[2] clause 5.9.8)\ pattern: \"(msisdn-[0-9]{5,15}\|extid-[\^@]+@[\^@]+\|.+)\"
* * *
##### 6.5.3.2.3 Resource Standard Methods
###### 6.5.3.2.3.1 PATCH
This method shall support the URI query parameters specified in table
6.5.3.2.3.1-1.
Table 6.5.3.2.3.1-1: URI query parameters supported by the PATCH method on
this resource
* * *
Name Data type P Cardinality Description n/a
* * *
This method shall support the request data structures specified in table
6.5.3.2.3.1-2 and the response data structures and response codes specified in
table 6.5.3.2.3.1-3.
Table 6.5.3.2.3.1-2: Data structures supported by the PATCH Request Body on
this resource
* * *
Data type P Cardinality Description PpData M 1 The AMF registration for non
3GPP access is modified with the received information.
* * *
Table 6.5.3.2.3.1-3: Data structures supported by the PATCH Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | n/a | | | 204 No | Upon success, | | | | | Content | an empty | | | | | | response body | | | | | | shall be | | | | | | returned | +---------------+---+-------------+---------------+---------------+ | P | M | 1 | 404 Not Found | The \"cause\" | | roblemDetails | | | | attribute | | | | | | shall be set | | | | | | to the | | | | | | following | | | | | | application | | | | | | error: | | | | | | | | | | | | - | | | | | | USE | | | | | | R_NOT_FOUND | +---------------+---+-------------+---------------+---------------+ | P | M | 1 | 403 Forbidden | The \"cause\" | | roblemDetails | | | | attribute | | | | | | shall be set | | | | | | to the | | | | | | following | | | | | | application | | | | | | error: | | | | | | | | | | | | - | | | | | | MODIFICATION\ | | | | | | _NOT_ALLOWED | +---------------+---+-------------+---------------+---------------+ | NOTE: In | | | | | | addition | | | | | | common data | | | | | | structures as | | | | | | listed in | | | | | | table 6.2.7-1 | | | | | | are | | | | | | supported. | | | | | +---------------+---+-------------+---------------+---------------+
### 6.5.4 Custom Operations without associated resources
In this release of this specification, no custom operations without associated
resources are defined for the Nudm_ParameterProvision Service.
### 6.5.5 Notifications
In this release of this specification, no notifications are defined for the
Nudm_ParameterProvision Service.
### 6.5.6 Data Model
#### 6.5.6.1 General
This clause specifies the application data model supported by the API.
Table 6.5.6.1-1 specifies the data types defined for the Nudm_PP service API.
Table 6.5.6.1-1: Nudm_PP specific Data Types
Data type Clause defined Description
* * *
PpData 6.5.6.2.2 Parameter Provision Data CommunicationCharacteristics
6.5.6.2.3 Communication Characteristics PpSubsRegTimer 6.5.6.2.4  
PpActiveTime 6.5.6.2.5
Table 6.5.6.1-2 specifies data types re-used by the Nudm_PP service API from
other APIs, including a reference and when needed, a short description of
their use within the Nudm_PP service API.
Table 6.5.6.1-2: Nudm_PP re-used Data Types
Data type Reference Comments
* * *
DurationSec 3GPP TS 29.571 [7] Time value in seconds SupportedFeatures 3GPP TS
29.571 [7]  
NfInstanceId 3GPP TS 29.571 [7]  
ProblemDetails 3GPP TS 29.571 [7]  
Gpsi 3GPP TS 29.571 [7]
#### 6.5.6.2 Structured data types
##### 6.5.6.2.1 Introduction
This clause defines the structures to be used in resource representations.
##### 6.5.6.2.2 Type: PpData
Table 6.5.6.2.2-1: Definition of type PpData
Attribute name Data type P Cardinality Description
* * *
supportedFeatures SupportedFeatures O 0..1  
communicationCharacteristics CommunicationCharacteristics O 0..1 communication
characteristics
##### 6.5.6.2.3 Type: CommunicationCharacteristics
Table 6.5.6.2.3-1: Definition of type CommunicationCharacteristics
Attribute name Data type P Cardinality Description
* * *
ppSubsRegTimer PpSubsRegTimer O 0..1 AF provisionedSubscribed periodic
registration timer;nullable ppActiveTime PpActiveTime O 0..1 AF provisioned
active time; nullable ppDlPacketCount PpDlPacketCount O 0..1 AF provisioned DL
Buffering Suggested Packet Count; nullable
##### 6.5.6.2.4 Type: PpSubsRegTimer
Table 6.5.6.2.4-1: Definition of type PpSubsRegTimer
Attribute name Data type P Cardinality Description
* * *
subsRegTimer DurationSec M 1 value in seconds afInstanceId NfInstanceId M 1 NF
Instance Id of the originating AF referenceId ReferenceId M 1 Transaction
Reference ID
##### 6.5.6.2.5 Type: PpActiveTime
Table 6.5.6.2.5-1: Definition of type PpActiveTime
Attribute name Data type P Cardinality Description
* * *
activeTime DurationSec M 1 value in seconds afInstanceId NfInstanceId M 1 NF
Instance Id of the originating AF referenceId ReferenceId M 1 Transaction
Reference ID
#### 6.5.6.3 Simple data types and enumerations
##### 6.5.6.3.1 Introduction
This clause defines simple data types and enumerations that can be referenced
from data structures defined in the previous clauses.
##### 6.5.6.3.2 Simple data types
The simple data types defined in table 6.5.6.3.2-1 shall be supported.
Table 6.5.6.3.2-1: Simple data types
* * *
Type Name Type Definition Description ReferenceId integer  
PpDlPacketCount integer nullable
* * *
##### 6.5.6.3.3 Enumeration: \
Table 6.5.6.3.3-1: Enumeration \
Enumeration value Description
* * *
### 6.5.7 Error Handling
#### 6.5.7.1 General
HTTP error handling shall be supported as specified in clause 5.2.4 of 3GPP TS
29.500 [4].
#### 6.5.7.2 Protocol Errors
Protocol errors handling shall be supported as specified in clause 5.2.7 of
3GPP TS 29.500 [4].
#### 6.5.7.3 Application Errors
The common application errors defined in the Table 5.2.7.2-1 in 3GPP TS 29.500
[4] may also be used for the Nudm_ParameterProvision service. The following
application errors listed in Table 6.5.7.3-1 are specific for the
Nudm_ParameterProvision service.
The application errors defined for the Nudm_UECM service are listed in Table
6.5.7.3-1.
Table 6.5.7.3-1: Application errors
Application Error HTTP status code Description
* * *
MODIFICATION_NOT_ALLOWED 403 Forbidden The subscriber does not have the
necessary subscription for external parameter provisioning. USER_NOT_FOUND 404
Not Found The User does not exist.
### 6.5.8 Feature Negotiation
The optional features in table 6.5.8-1 are defined for the Nudm_PP API. They
shall be negotiated using the extensibility mechanism defined in clause 6.6 of
3GPP TS 29.500 [4].
Table 6.5.8-1: Supported Features
Feature number Feature Name Description
* * *
### 6.5.9 Security
As indicated in 3GPP TS 33.501 [6] and 3GPP TS 29.500 [4], the access to the
Nudm_PP API may be authorized by means of the OAuth2 protocol (see IETF RFC
6749 [18]), based on local configuration, using the \"Client Credentials\"
authorization grant, where the NRF (see 3GPP TS 29.510 [19]) plays the role of
the authorization server.
If OAuth2 is used, an NF Service Consumer, prior to consuming services offered
by the Nudm_PP API, shall obtain a \"token\" from the authorization server, by
invoking the Access Token Request service, as described in 3GPP TS 29.510
[19], clause 5.8.2.2.
NOTE: When multiple NRFs are deployed in a network, the NRF used as
authorization server is the same NRF that the NF Service Consumer used for
discovering the Nudm_PP service.
The Nudm_PP API defines a single scope \"nudm-pp\" for OAuth2 authorization
(as specified in 3GPP TS 33.501 [6]) for the entire API, and it does not
define any additional scopes at resource or operation level.
###### ## Annex A (normative): OpenAPI specification
## A.1 General
This Annex specifies the formal definition of the Nudm Service API(s). It
consists of OpenAPI 3.0.0 specifications, in YAML format.
This Annex takes precedence when being discrepant to other parts of the
specification with respect to the encoding of information elements and methods
within the API(s).
NOTE 1: The semantics and procedures, as well as conditions, e.g. for the
applicability and allowed combinations of attributes or values, not expressed
in the OpenAPI definitions but defined in other parts of the specification
also apply.
Informative copies of the OpenAPI specification files contained in this 3GPP
Technical Specification are available on the public 3GPP file server in the
following locations (see clause 5B of the 3GPP TR 21.900 [30] for further
information):
\- https://www.3gpp.org/ftp/Specs/archive/OpenAPI/\/, and
\- https://www.3gpp.org/ftp/Specs/\/\/OpenAPI/.
NOTE 2: To fetch the OpenAPI specification file after CT#83 plenary meeting
for Release 15 in the above links \ must be replaced with the date
the CT Plenary occurs, in the form of year-month (yyyy-mm), e.g. for CT#83
meeting \ must be replaced with value \"2019-03\" and \ must
be replaced with value \"Rel-15\".
## A.2 Nudm_SDM API
openapi: 3.0.0
info:
version: \'2.0.5\'
title: \'Nudm_SDM\'
description: \|
Nudm Subscriber Data Management Service.
Â© 2021, 3GPP Organizational Partners (ARIB, ATIS, CCSA, ETSI, TSDSI, TTA,
TTC).
All rights reserved.
externalDocs:
description: 3GPP TS 29.503 Unified Data Management Services, version 15.10.0
url: \'http://www.3gpp.org/ftp/Specs/archive/29_series/29.503/\'
servers:
\- url: \'{apiRoot}/nudm-sdm/v2\'
variables:
apiRoot:
default: https://example.com
description: apiRoot as defined in clause clause 4.4 of 3GPP TS 29.501.
security:
\- oAuth2ClientCredentials:
\- nudm-sdm
\- {}
paths:
/{supi}:
get:
summary: retrieve multiple data sets
operationId: GetDataSets
tags:
\- Retrieval of multiple data sets
parameters:
\- name: supi
in: path
description: Identifier of the UE
required: true
schema:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Supi\'
\- name: dataset-names
in: query
style: form
explode: false
description: List of dataset names
required: true
schema:
\$ref: \'#/components/schemas/DatasetNames\'
\- name: plmn-id
in: query
description: serving PLMN ID
content:
application/json:
schema:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/PlmnId\'
\- name: supported-features
in: query
description: Supported Features
schema:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/SupportedFeatures\'
\- name: If-None-Match
in: header
description: Validator for conditional requests, as described in RFC 7232, 3.2
schema:
type: string
\- name: If-Modified-Since
in: header
description: Validator for conditional requests, as described in RFC 7232, 3.3
schema:
type: string
responses:
\'200\':
description: Expected response to a valid request
content:
application/json:
schema:
\$ref: \'#/components/schemas/SubscriptionDataSets\'
headers:
Cache-Control:
description: Cache-Control containing max-age, as described in RFC 7234, 5.2
schema:
type: string
ETag:
description: Entity Tag, containing a strong validator, as described in RFC
7232, 2.3
schema:
type: string
Last-Modified:
description: Timestamp for last modification of the resource, as described in
RFC 7232, 2.2
schema:
type: string
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
description: Unexpected error
/{supi}/nssai:
get:
summary: retrieve a UE\'s subscribed NSSAI
operationId: GetNSSAI
tags:
\- Slice Selection Subscription Data Retrieval
parameters:
\- name: supi
in: path
description: Identifier of the UE
required: true
schema:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Supi\'
\- name: supported-features
in: query
description: Supported Features
schema:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/SupportedFeatures\'
\- name: plmn-id
in: query
description: serving PLMN ID
content:
application/json:
schema:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/PlmnId\'
\- name: If-None-Match
in: header
description: Validator for conditional requests, as described in RFC 7232, 3.2
schema:
type: string
\- name: If-Modified-Since
in: header
description: Validator for conditional requests, as described in RFC 7232, 3.3
schema:
type: string
responses:
\'200\':
description: Expected response to a valid request
content:
application/json:
schema:
\$ref: \'#/components/schemas/Nssai\'
headers:
Cache-Control:
description: Cache-Control containing max-age, as described in RFC 7234, 5.2
schema:
type: string
ETag:
description: Entity Tag, containing a strong validator, as described in RFC
7232, 2.3
schema:
type: string
Last-Modified:
description: Timestamp for last modification of the resource, as described in
RFC 7232, 2.2
schema:
type: string
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
description: Unexpected error
/{supi}/am-data:
get:
summary: retrieve a UE\'s Access and Mobility Subscription Data
operationId: GetAmData
tags:
\- Access and Mobility Subscription Data Retrieval
parameters:
\- name: supi
in: path
description: Identifier of the UE
required: true
schema:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Supi\'
\- name: supported-features
in: query
description: Supported Features
schema:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/SupportedFeatures\'
\- name: plmn-id
in: query
description: serving PLMN ID
content:
application/json:
schema:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/PlmnId\'
\- name: If-None-Match
in: header
description: Validator for conditional requests, as described in RFC 7232, 3.2
schema:
type: string
\- name: If-Modified-Since
in: header
description: Validator for conditional requests, as described in RFC 7232, 3.3
schema:
type: string
responses:
\'200\':
description: Expected response to a valid request
content:
application/json:
schema:
\$ref: \'#/components/schemas/AccessAndMobilitySubscriptionData\'
headers:
Cache-Control:
description: Cache-Control containing max-age, as described in RFC 7234, 5.2
schema:
type: string
ETag:
description: Entity Tag, containing a strong validator, as described in RFC
7232, 2.3
schema:
type: string
Last-Modified:
description: Timestamp for last modification of the resource, as described in
RFC 7232, 2.2
schema:
type: string
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
description: Unexpected error
/{supi}/smf-select-data:
get:
summary: retrieve a UE\'s SMF Selection Subscription Data
operationId: GetSmfSelData
tags:
\- SMF Selection Subscription Data Retrieval
parameters:
\- name: supi
in: path
description: Identifier of the UE
required: true
schema:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Supi\'
\- name: supported-features
in: query
description: Supported Features
schema:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/SupportedFeatures\'
\- name: plmn-id
in: query
description: serving PLMN ID
content:
application/json:
schema:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/PlmnId\'
\- name: If-None-Match
in: header
description: Validator for conditional requests, as described in RFC 7232, 3.2
schema:
type: string
\- name: If-Modified-Since
in: header
description: Validator for conditional requests, as described in RFC 7232, 3.3
schema:
type: string
responses:
\'200\':
description: Expected response to a valid request
content:
application/json:
schema:
\$ref: \'#/components/schemas/SmfSelectionSubscriptionData\'
headers:
Cache-Control:
description: Cache-Control containing max-age, as described in RFC 7234, 5.2
schema:
type: string
ETag:
description: Entity Tag, containing a strong validator, as described in RFC
7232, 2.3
schema:
type: string
Last-Modified:
description: Timestamp for last modification of the resource, as described in
RFC 7232, 2.2
schema:
type: string
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
description: Unexpected error
/{supi}/ue-context-in-smf-data:
get:
summary: retrieve a UE\'s UE Context In SMF Data
operationId: GetUeCtxInSmfData
tags:
\- UE Context In SMF Data Retrieval
parameters:
\- name: supi
in: path
description: Identifier of the UE
required: true
schema:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Supi\'
\- name: supported-features
in: query
description: Supported Features
schema:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/SupportedFeatures\'
responses:
\'200\':
description: Expected response to a valid request
content:
application/json:
schema:
\$ref: \'#/components/schemas/UeContextInSmfData\'
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
description: Unexpected error
/{supi}/ue-context-in-smsf-data:
get:
summary: retrieve a UE\'s UE Context In SMSF Data
operationId: GetUeCtxInSmsfData
tags:
\- UE Context In SMSF Data Retrieval
parameters:
\- name: supi
in: path
description: Identifier of the UE
required: true
schema:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Supi\'
\- name: supported-features
in: query
description: Supported Features
schema:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/SupportedFeatures\'
responses:
\'200\':
description: Expected response to a valid request
content:
application/json:
schema:
\$ref: \'#/components/schemas/UeContextInSmsfData\'
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
description: Unexpected error
/{supi}/trace-data:
get:
summary: retrieve a UE\'s Trace Configuration Data
operationId: GetTraceConfigData
tags:
\- Trace Configuration Data Retrieval
parameters:
\- name: supi
in: path
description: Identifier of the UE
required: true
schema:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Supi\'
\- name: supported-features
in: query
description: Supported Features
schema:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/SupportedFeatures\'
\- name: plmn-id
in: query
description: serving PLMN ID
content:
application/json:
schema:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/PlmnId\'
\- name: If-None-Match
in: header
description: Validator for conditional requests, as described in RFC 7232, 3.2
schema:
type: string
\- name: If-Modified-Since
in: header
description: Validator for conditional requests, as described in RFC 7232, 3.3
schema:
type: string
responses:
\'200\':
description: Expected response to a valid request
content:
application/json:
schema:
\$ref: \'#/components/schemas/TraceDataResponse\'
headers:
Cache-Control:
description: Cache-Control containing max-age, as described in RFC 7234, 5.2
schema:
type: string
ETag:
description: Entity Tag, containing a strong validator, as described in RFC
7232, 2.3
schema:
type: string
Last-Modified:
description: Timestamp for last modification of the resource, as described in
RFC 7232, 2.2
schema:
type: string
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
description: Unexpected error
/{supi}/sm-data:
get:
summary: retrieve a UE\'s Session Management Subscription Data
operationId: GetSmData
tags:
\- Session Management Subscription Data Retrieval
parameters:
\- name: supi
in: path
description: Identifier of the UE
required: true
schema:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Supi\'
\- name: supported-features
in: query
description: Supported Features
schema:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/SupportedFeatures\'
\- name: single-nssai
in: query
content:
application/json:
schema:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Snssai\'
\- name: dnn
in: query
schema:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Dnn\'
\- name: plmn-id
in: query
content:
application/json:
schema:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/PlmnId\'
\- name: If-None-Match
in: header
description: Validator for conditional requests, as described in RFC 7232, 3.2
schema:
type: string
\- name: If-Modified-Since
in: header
description: Validator for conditional requests, as described in RFC 7232, 3.3
schema:
type: string
responses:
\'200\':
description: Expected response to a valid request
content:
application/json:
schema:
type: array
items:
\$ref: \'#/components/schemas/SessionManagementSubscriptionData\'
minItems: 1
headers:
Cache-Control:
description: Cache-Control containing max-age, as described in RFC 7234, 5.2
schema:
type: string
ETag:
description: Entity Tag, containing a strong validator, as described in RFC
7232, 2.3
schema:
type: string
Last-Modified:
description: Timestamp for last modification of the resource, as described in
RFC 7232, 2.2
schema:
type: string
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
description: Unexpected error
/{supi}/sms-data:
get:
summary: retrieve a UE\'s SMS Subscription Data
operationId: GetSmsData
tags:
\- SMS Subscription Data Retrieval
parameters:
\- name: supi
in: path
description: Identifier of the UE
required: true
schema:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Supi\'
\- name: supported-features
in: query
description: Supported Features
schema:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/SupportedFeatures\'
\- name: plmn-id
in: query
content:
application/json:
schema:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/PlmnId\'
\- name: If-None-Match
in: header
description: Validator for conditional requests, as described in RFC 7232, 3.2
schema:
type: string
\- name: If-Modified-Since
in: header
description: Validator for conditional requests, as described in RFC 7232, 3.3
schema:
type: string
responses:
\'200\':
description: Expected response to a valid request
content:
application/json:
schema:
\$ref: \'#/components/schemas/SmsSubscriptionData\'
headers:
Cache-Control:
description: Cache-Control containing max-age, as described in RFC 7234, 5.2
schema:
type: string
ETag:
description: Entity Tag, containing a strong validator, as described in RFC
7232, 2.3
schema:
type: string
Last-Modified:
description: Timestamp for last modification of the resource, as described in
RFC 7232, 2.2
schema:
type: string
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
description: Unexpected error
/{supi}/sms-mng-data:
get:
summary: retrieve a UE\'s SMS Management Subscription Data
operationId: GetSmsMngtData
tags:
\- SMS Management Subscription Data Retrieval
parameters:
\- name: supi
in: path
description: Identifier of the UE
required: true
schema:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Supi\'
\- name: supported-features
in: query
description: Supported Features
schema:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/SupportedFeatures\'
\- name: plmn-id
in: query
content:
application/json:
schema:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/PlmnId\'
\- name: If-None-Match
in: header
description: Validator for conditional requests, as described in RFC 7232, 3.2
schema:
type: string
\- name: If-Modified-Since
in: header
description: Validator for conditional requests, as described in RFC 7232, 3.3
schema:
type: string
responses:
\'200\':
description: Expected response to a valid request
content:
application/json:
schema:
\$ref: \'#/components/schemas/SmsManagementSubscriptionData\'
headers:
Cache-Control:
description: Cache-Control containing max-age, as described in RFC 7234, 5.2
schema:
type: string
ETag:
description: Entity Tag, containing a strong validator, as described in RFC
7232, 2.3
schema:
type: string
Last-Modified:
description: Timestamp for last modification of the resource, as described in
RFC 7232, 2.2
schema:
type: string
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
description: Unexpected error
/{supi}/sdm-subscriptions:
post:
summary: subscribe to notifications
operationId: Subscribe
tags:
\- Subscription Creation
parameters:
\- name: supi
in: path
description: SUPI of the user
required: true
schema:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Supi\'
requestBody:
content:
application/json:
schema:
\$ref: \'#/components/schemas/SdmSubscription\'
required: true
responses:
\'201\':
description: Expected response to a valid request
content:
application/json:
schema:
\$ref: \'#/components/schemas/SdmSubscription\'
headers:
Location:
description: \'Contains the URI of the newly created resource, according to
the structure: {apiRoot}/nudm-sdm/\/{supi}/sdm-
subscriptions/{subscriptionId}\'
required: true
schema:
type: string
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'501\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/501\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
description: Unexpected error
callbacks:
datachangeNotification:
\'{request.body#/callbackReference}\':
post:
requestBody:
required: true
content:
application/json:
schema:
\$ref: \'#/components/schemas/ModificationNotification\'
responses:
\'204\':
description: Successful Notification response
\'307\':
description: Temporary Redirect
content:
application/problem+json:
schema:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/ProblemDetails\'
headers:
Location:
description: \'Contains the new Callback URI of the target NF Service Consumer
(e.g. AMF) to which the request is redirected\'
required: true
schema:
type: string
\'308\':
description: Permanent Redirect
content:
application/problem+json:
schema:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/ProblemDetails\'
headers:
Location:
description: \'Contains the new Callback URI of the target NF Service Consumer
(e.g. AMF) to which the request is redirected\'
required: true
schema:
type: string
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
description: Unexpected error
/{supi}/sdm-subscriptions/{subscriptionId}:
delete:
summary: unsubscribe from notifications
operationId: Unsubscribe
tags:
\- Subscription Deletion
parameters:
\- name: supi
in: path
description: SUPI of the user
required: true
schema:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Supi\'
\- name: subscriptionId
in: path
description: Id of the SDM Subscription
required: true
schema:
type: string
responses:
\'204\':
description: Successful response
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
description: Unexpected error
patch:
summary: modify the subscription
operationId: Modify
tags:
\- Subscription Modification
parameters:
\- name: supi
in: path
description: SUPI of the user
required: true
schema:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Supi\'
\- name: subscriptionId
in: path
description: Id of the SDM Subscription
required: true
schema:
type: string
requestBody:
content:
application/merge-patch+json:
schema:
\$ref: \'#/components/schemas/SdmSubsModification\'
required: true
responses:
\'200\':
description: Expected response to a valid request
content:
application/json:
schema:
\$ref: \'#/components/schemas/SdmSubscription\'
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
description: Unexpected error
/{gpsi}/id-translation-result:
get:
summary: retrieve a UE\'s SUPI
operationId: GetSupi
tags:
\- GPSI to SUPI Translation
parameters:
\- name: gpsi
in: path
description: Identifier of the UE
required: true
schema:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Gpsi\'
\- name: supported-features
in: query
description: Supported Features
schema:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/SupportedFeatures\'
\- name: If-None-Match
in: header
description: Validator for conditional requests, as described in RFC 7232, 3.2
schema:
type: string
\- name: If-Modified-Since
in: header
description: Validator for conditional requests, as described in RFC 7232, 3.3
schema:
type: string
responses:
\'200\':
description: Expected response to a valid request
content:
application/json:
schema:
\$ref: \'#/components/schemas/IdTranslationResult\'
headers:
Cache-Control:
description: Cache-Control containing max-age, as described in RFC 7234, 5.2
schema:
type: string
ETag:
description: Entity Tag, containing a strong validator, as described in RFC
7232, 2.3
schema:
type: string
Last-Modified:
description: Timestamp for last modification of the resource, as described in
RFC 7232, 2.2
schema:
type: string
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
description: Unexpected error
/{supi}/am-data/sor-ack:
put:
summary: Nudm_Sdm Info service operation
operationId: SorAckInfo
tags:
\- Providing acknowledgement of Steering of Roaming
parameters:
\- name: supi
in: path
description: Identifier of the UE
required: true
schema:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Supi\'
requestBody:
content:
application/json:
schema:
\$ref: \'#/components/schemas/AcknowledgeInfo\'
responses:
\'204\':
description: Successful acknowledgement
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
description: Unexpected error
/{supi}/am-data/upu-ack:
put:
summary: Nudm_Sdm Info for UPU service operation
operationId: UpuAck
tags:
\- Providing acknowledgement of UE Parameters Update
parameters:
\- name: supi
in: path
description: Identifier of the UE
required: true
schema:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Supi\'
requestBody:
content:
application/json:
schema:
\$ref: \'#/components/schemas/AcknowledgeInfo\'
responses:
\'204\':
description: Successful acknowledgement
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
description: Unexpected error
/{supi}/am-data/subscribed-snssais-ack:
put:
summary: Nudm_Sdm Info operation for S-NSSAIs acknowledgement
operationId: S-NSSAIs Ack
tags:
\- Providing acknowledgement of S-NSSAIs Update
parameters:
\- name: supi
in: path
description: Identifier of the UE
required: true
schema:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Supi\'
requestBody:
content:
application/json:
schema:
\$ref: \'#/components/schemas/AcknowledgeInfo\'
responses:
\'204\':
description: Successful acknowledgement
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
description: Unexpected error
/shared-data:
get:
summary: retrieve shared data
operationId: GetSharedData
tags:
\- Retrieval of shared data
parameters:
\- name: shared-data-ids
in: query
description: List of shared data ids
required: true
style: form
explode: false
schema:
\$ref: \'#/components/schemas/SharedDataIds\'
\- name: supportedFeatures
in: query
deprecated: true
description: Supported Features; this query parameter should not be used
schema:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/SupportedFeatures\'
\- name: If-None-Match
in: header
description: Validator for conditional requests, as described in RFC 7232, 3.2
schema:
type: string
\- name: If-Modified-Since
in: header
description: Validator for conditional requests, as described in RFC 7232, 3.3
schema:
type: string
responses:
\'200\':
description: Expected response to a valid request
content:
application/json:
schema:
type: array
items:
\$ref: \'#/components/schemas/SharedData\'
minItems: 1
headers:
Cache-Control:
description: Cache-Control containing max-age, as described in RFC 7234, 5.2
schema:
type: string
ETag:
description: Entity Tag, containing a strong validator, as described in RFC
7232, 2.3
schema:
type: string
Last-Modified:
description: Timestamp for last modification of the resource, as described in
RFC 7232, 2.2
schema:
type: string
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
description: Unexpected error
/shared-data-subscriptions:
post:
summary: subscribe to notifications for shared data
operationId: SubscribeToSharedData
tags:
\- Subscription Creation for shared data
requestBody:
content:
application/json:
schema:
\$ref: \'#/components/schemas/SdmSubscription\'
required: true
responses:
\'201\':
description: Expected response to a valid request
content:
application/json:
schema:
\$ref: \'#/components/schemas/SdmSubscription\'
headers:
Location:
description: \'Contains the URI of the newly created resource, according to
the structure: {apiRoot}/nudm-sdm/\/shared-data-
subscriptions/{subscriptionId}\'
required: true
schema:
type: string
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
default:
description: Unexpected error
callbacks:
datachangeNotification:
\'{request.body#/callbackReference}\':
post:
requestBody:
required: true
content:
application/json:
schema:
\$ref: \'#/components/schemas/ModificationNotification\'
responses:
\'204\':
description: Successful Notification response
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
description: Unexpected error
/shared-data-subscriptions/{subscriptionId}:
delete:
summary: unsubscribe from notifications for shared data
operationId: UnsubscribeForSharedData
tags:
\- Subscription Deletion for shared data
parameters:
\- name: subscriptionId
in: path
description: Id of the Shared data Subscription
required: true
schema:
type: string
responses:
\'204\':
description: Successful response
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
description: Unexpected error
patch:
summary: modify the subscription
operationId: ModifySharedDataSubs
tags:
\- Subscription Modification
parameters:
\- name: subscriptionId
in: path
description: Id of the SDM Subscription
required: true
schema:
type: string
requestBody:
content:
application/merge-patch+json:
schema:
\$ref: \'#/components/schemas/SdmSubsModification\'
required: true
responses:
\'200\':
description: Expected response to a valid request
content:
application/json:
schema:
\$ref: \'#/components/schemas/SdmSubscription\'
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
description: Unexpected error
/group-data/group-identifiers:
get:
summary: Mapping of Group Identifiers
operationId: GetGroupIdentifiers
tags:
\- Group Identifiers
parameters:
\- name: ext-group-id
in: query
description: External Group Identifier
required: false
schema:
\$ref: \'#/components/schemas/ExtGroupId\'
\- name: int-group-id
in: query
description: Internal Group Identifier
required: false
schema:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/GroupId\'
\- name: supported-features
in: query
description: Supported Features
schema:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/SupportedFeatures\'
\- name: If-None-Match
in: header
description: Validator for conditional requests, as described in RFC 7232, 3.2
schema:
type: string
\- name: If-Modified-Since
in: header
description: Validator for conditional requests, as described in RFC 7232, 3.3
schema:
type: string
responses:
\'200\':
description: Expected response to a valid request
content:
application/json:
schema:
\$ref: \'#/components/schemas/GroupIdentifiers\'
headers:
Cache-Control:
description: Cache-Control containing max-age, as described in RFC 7234, 5.2
schema:
type: string
ETag:
description: Entity Tag, containing a strong validator, as described in RFC
7232, 2.3
schema:
type: string
Last-Modified:
description: Timestamp for last modification of the resource, as described in
RFC 7232, 2.2
schema:
type: string
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
description: Unexpected error
components:
securitySchemes:
oAuth2ClientCredentials:
type: oauth2
flows:
clientCredentials:
tokenUrl: \'{nrfApiRoot}/oauth2/token\'
scopes:
nudm-sdm: Access to the nudm-sdm API
schemas:
# COMPLEX TYPES:
DatasetNames:
type: array
items:
\$ref: \'#/components/schemas/DataSetName\'
minItems: 2
uniqueItems: true
SubscriptionDataSets:
type: object
properties:
amData:
\$ref: \'#/components/schemas/AccessAndMobilitySubscriptionData\'
smfSelData:
\$ref: \'#/components/schemas/SmfSelectionSubscriptionData\'
uecSmfData:
\$ref: \'#/components/schemas/UeContextInSmfData\'
uecSmsfData:
\$ref: \'#/components/schemas/UeContextInSmsfData\'
smsSubsData:
\$ref: \'#/components/schemas/SmsSubscriptionData\'
smData:
type: array
items:
\$ref: \'#/components/schemas/SessionManagementSubscriptionData\'
minItems: 1
traceData:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/TraceData\'
smsMngData:
\$ref: \'#/components/schemas/SmsManagementSubscriptionData\'
UeContextInSmsfData:
type: object
properties:
smsfInfo3GppAccess:
\$ref: \'#/components/schemas/SmsfInfo\'
smsfInfoNon3GppAccess:
\$ref: \'#/components/schemas/SmsfInfo\'
SmsfInfo:
type: object
required:
\- smsfInstanceId
\- plmnId
properties:
smsfInstanceId:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/NfInstanceId\'
plmnId:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/PlmnId\'
AccessAndMobilitySubscriptionData:
type: object
properties:
supportedFeatures:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/SupportedFeatures\'
gpsis:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Gpsi\'
internalGroupIds:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/GroupId\'
minItems: 1
subscribedUeAmbr:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/AmbrRm\'
nssai:
\$ref: \'#/components/schemas/Nssai\'
ratRestrictions:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/RatType\'
forbiddenAreas:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Area\'
serviceAreaRestriction:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/ServiceAreaRestriction\'
coreNetworkTypeRestrictions:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/CoreNetworkType\'
rfspIndex:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/RfspIndexRm\'
subsRegTimer:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/DurationSecRm\'
ueUsageType:
\$ref: \'#/components/schemas/UeUsageType\'
mpsPriority:
\$ref: \'#/components/schemas/MpsPriorityIndicator\'
mcsPriority:
\$ref: \'#/components/schemas/McsPriorityIndicator\'
activeTime:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/DurationSecRm\'
dlPacketCount:
\$ref: \'#/components/schemas/DlPacketCount\'
sorInfo:
\$ref: \'#/components/schemas/SorInfo\'
upuInfo:
\$ref: \'#/components/schemas/UpuInfo\'
micoAllowed:
\$ref: \'#/components/schemas/MicoAllowed\'
sharedAmDataIds:
type: array
items:
\$ref: \'#/components/schemas/SharedDataId\'
minItems: 1
odbPacketServices:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/OdbPacketServices\'
subscribedDnnList:
type: array
items:
anyOf:
\- \$ref: \'TS29571_CommonData.yaml#/components/schemas/Dnn\'
\- \$ref: \'TS29571_CommonData.yaml#/components/schemas/WildcardDnn\'
nssaiInclusionAllowed:
type: boolean
default: false
SmfSelectionSubscriptionData:
type: object
properties:
supportedFeatures:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/SupportedFeatures\'
subscribedSnssaiInfos:
type: object
additionalProperties:
\$ref: \'#/components/schemas/SnssaiInfo\'
sharedSnssaiInfosId:
\$ref: \'#/components/schemas/SharedDataId\'
SnssaiInfo:
type: object
required:
\- dnnInfos
properties:
dnnInfos:
type: array
items:
\$ref: \'#/components/schemas/DnnInfo\'
minItems: 1
DnnInfo:
type: object
required:
\- dnn
properties:
dnn:
anyOf:
\- \$ref: \'TS29571_CommonData.yaml#/components/schemas/Dnn\'
\- \$ref: \'TS29571_CommonData.yaml#/components/schemas/WildcardDnn\'
defaultDnnIndicator:
\$ref: \'#/components/schemas/DnnIndicator\'
lboRoamingAllowed:
\$ref: \'#/components/schemas/LboRoamingAllowed\'
iwkEpsInd:
\$ref: \'#/components/schemas/IwkEpsInd\'
dnnBarred:
type: boolean
Nssai:
type: object
required:
\- defaultSingleNssais
properties:
supportedFeatures:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/SupportedFeatures\'
defaultSingleNssais:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Snssai\'
minItems: 1
singleNssais:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Snssai\'
minItems: 1
provisioningTime:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/DateTime\'
nullable: true
UeContextInSmfData:
type: object
properties:
pduSessions:
description: A map (list of key-value pairs where PduSessionId serves as key)
of PduSessions
type: object
additionalProperties:
\$ref: \'#/components/schemas/PduSession\'
pgwInfo:
type: array
items:
\$ref: \'#/components/schemas/PgwInfo\'
minItems: 1
emergencyInfo:
\$ref: \'#/components/schemas/EmergencyInfo\'
EmergencyInfo:
type: object
oneOf:
\- required:
\- pgwFqdn
\- required:
\- pgwIpAddress
properties:
pgwFqdn:
type: string
pgwIpAddress:
\$ref: \'#/components/schemas/IpAddress\'
smfInstanceId:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/NfInstanceId\'
PduSession:
type: object
required:
\- dnn
\- smfInstanceId
\- plmnId
properties:
dnn:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Dnn\'
smfInstanceId:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/NfInstanceId\'
plmnId:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/PlmnId\'
PgwInfo:
type: object
required:
\- dnn
\- pgwFqdn
properties:
dnn:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Dnn\'
pgwFqdn:
type: string
plmnId:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/PlmnId\'
SessionManagementSubscriptionData:
type: object
required:
\- singleNssai
properties:
singleNssai:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Snssai\'
dnnConfigurations:
description: A map (list of key-value pairs where Dnn, or optionally the
Wildcard DNN, serves as key) of DnnConfigurations
type: object
additionalProperties:
\$ref: \'#/components/schemas/DnnConfiguration\'
internalGroupIds:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/GroupId\'
minItems: 1
sharedDnnConfigurationsId:
\$ref: \'#/components/schemas/SharedDataId\'
odbPacketServices:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/OdbPacketServices\'
DnnConfiguration:
type: object
required:
\- pduSessionTypes
\- sscModes
properties:
pduSessionTypes:
\$ref: \'#/components/schemas/PduSessionTypes\'
sscModes:
\$ref: \'#/components/schemas/SscModes\'
iwkEpsInd:
\$ref: \'#/components/schemas/IwkEpsInd\'
5gQosProfile:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/SubscribedDefaultQos\'
sessionAmbr:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Ambr\'
3gppChargingCharacteristics:
\$ref: \'#/components/schemas/3GppChargingCharacteristics\'
staticIpAddress:
type: array
items:
\$ref: \'#/components/schemas/IpAddress\'
minItems: 1
maxItems: 2
upSecurity:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/UpSecurity\'
IpAddress:
type: object
oneOf:
\- required:
\- ipv4Addr
\- required:
\- ipv6Addr
\- required:
\- ipv6Prefix
properties:
ipv4Addr:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Ipv4Addr\'
ipv6Addr:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Ipv6Addr\'
ipv6Prefix:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Ipv6Prefix\'
PduSessionTypes:
type: object
required:
\- defaultSessionType
properties:
defaultSessionType:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/PduSessionType\'
allowedSessionTypes:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/PduSessionType\'
minItems: 1
SscModes:
type: object
required:
\- defaultSscMode
properties:
defaultSscMode:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/SscMode\'
allowedSscModes:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/SscMode\'
minItems: 1
maxItems: 2
SmsSubscriptionData:
type: object
properties:
smsSubscribed:
\$ref: \'#/components/schemas/SmsSubscribed\'
sharedSmsSubsDataId:
\$ref: \'#/components/schemas/SharedDataId\'
SmsManagementSubscriptionData:
type: object
properties:
supportedFeatures:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/SupportedFeatures\'
mtSmsSubscribed:
type: boolean
mtSmsBarringAll:
type: boolean
mtSmsBarringRoaming:
type: boolean
moSmsSubscribed:
type: boolean
moSmsBarringAll:
type: boolean
moSmsBarringRoaming:
type: boolean
sharedSmsMngDataIds:
type: array
items:
\$ref: \'#/components/schemas/SharedDataId\'
minItems: 1
SdmSubscription:
type: object
required:
\- nfInstanceId
\- callbackReference
\- monitoredResourceUris
properties:
nfInstanceId:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/NfInstanceId\'
implicitUnsubscribe:
type: boolean
expires:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/DateTime\'
callbackReference:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Uri\'
amfServiceName:
\$ref: \'TS29510_Nnrf_NFManagement.yaml#/components/schemas/ServiceName\'
monitoredResourceUris:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Uri\'
minItems: 1
singleNssai:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Snssai\'
dnn:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Dnn\'
subscriptionId:
type: string
plmnId:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/PlmnId\'
SdmSubsModification:
type: object
properties:
expires:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/DateTime\'
monitoredResourceUris:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Uri\'
minItems: 1
ModificationNotification:
type: object
required:
\- notifyItems
properties:
notifyItems:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/NotifyItem\'
minItems: 1
IdTranslationResult:
type: object
required:
\- supi
properties:
supportedFeatures:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/SupportedFeatures\'
supi:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Supi\'
gpsi:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Gpsi\'
AcknowledgeInfo:
type: object
required:
\- provisioningTime
properties:
sorMacIue:
\$ref: \'TS29509_Nausf_SoRProtection.yaml#/components/schemas/SorMac\'
upuMacIue:
\$ref: \'TS29509_Nausf_UPUProtection.yaml#/components/schemas/UpuMac\'
securedPacket:
\$ref: \'#/components/schemas/SecuredPacket\'
provisioningTime:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/DateTime\'
SorInfo:
type: object
properties:
steeringContainer:
\$ref: \'#/components/schemas/SteeringContainer\'
ackInd:
\$ref: \'TS29509_Nausf_SoRProtection.yaml#/components/schemas/AckInd\'
sorMacIausf:
\$ref: \'TS29509_Nausf_SoRProtection.yaml#/components/schemas/SorMac\'
countersor:
\$ref: \'TS29509_Nausf_SoRProtection.yaml#/components/schemas/CounterSor\'
provisioningTime:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/DateTime\'
required:
\- ackInd
\- provisioningTime
SharedDataIds:
type: array
items:
\$ref: \'#/components/schemas/SharedDataId\'
minItems: 1
uniqueItems: true
UpuInfo:
type: object
properties:
upuDataList:
type: array
items:
\$ref: \'TS29509_Nausf_UPUProtection.yaml#/components/schemas/UpuData\'
minItems: 1
upuRegInd:
\$ref: \'#/components/schemas/UpuRegInd\'
upuAckInd:
\$ref: \'TS29509_Nausf_UPUProtection.yaml#/components/schemas/UpuAckInd\'
upuMacIausf:
\$ref: \'TS29509_Nausf_UPUProtection.yaml#/components/schemas/UpuMac\'
counterUpu:
\$ref: \'TS29509_Nausf_UPUProtection.yaml#/components/schemas/CounterUpu\'
provisioningTime:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/DateTime\'
required:
\- upuDataList
\- upuAckInd
\- upuRegInd
\- provisioningTime
SharedData:
type: object
required:
\- sharedDataId
properties:
sharedDataId:
\$ref: \'#/components/schemas/SharedDataId\'
sharedAmData:
\$ref: \'#/components/schemas/AccessAndMobilitySubscriptionData\'
sharedSmsSubsData:
\$ref: \'#/components/schemas/SmsSubscriptionData\'
sharedSmsMngSubsData:
\$ref: \'#/components/schemas/SmsManagementSubscriptionData\'
sharedDnnConfigurations:
type: object
additionalProperties:
\$ref: \'#/components/schemas/DnnConfiguration\'
sharedTraceData:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/TraceData\'
sharedSnssaiInfos:
type: object
additionalProperties:
\$ref: \'#/components/schemas/SnssaiInfo\'
TraceDataResponse:
type: object
properties:
traceData:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/TraceData\'
sharedTraceDataId:
\$ref: \'#/components/schemas/SharedDataId\'
SteeringContainer:
oneOf:
\- type: array
items:
\$ref: \'TS29509_Nausf_SoRProtection.yaml#/components/schemas/SteeringInfo\'
minItems: 1
\- \$ref: \'#/components/schemas/SecuredPacket\'
GroupIdentifiers:
type: object
properties:
extGroupId:
\$ref: \'#/components/schemas/ExtGroupId\'
intGroupId:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/GroupId\'
# SIMPLE TYPES:
UeUsageType:
type: integer
MpsPriorityIndicator:
type: boolean
McsPriorityIndicator:
type: boolean
DnnIndicator:
type: boolean
LboRoamingAllowed:
type: boolean
SmsSubscribed:
type: boolean
3GppChargingCharacteristics:
type: string
DlPacketCount:
type: integer
minimum: -1
MicoAllowed:
type: boolean
SharedDataId:
type: string
pattern: \'\^[0-9]{5,6}-.+\$\'
IwkEpsInd:
type: boolean
SecuredPacket:
type: string
format: base64
UpuRegInd:
type: boolean
ExtGroupId:
type: string
pattern: \'\^extgroupid-[\^@]+@[\^@]+\$\'
# ENUMS:
DataSetName:
anyOf:
\- type: string
enum:
\- AM
\- SMF_SEL
\- UEC_SMF
\- UEC_SMSF
\- SMS_SUB
\- SM
\- TRACE
\- SMS_MNG
\- type: string
## A.3 Nudm_UECM API
openapi: 3.0.0
info:
version: \'1.0.2\'
title: \'Nudm_UECM\'
description: \|
Nudm Context Management Service.
Â© 2019, 3GPP Organizational Partners (ARIB, ATIS, CCSA, ETSI, TSDSI, TTA,
TTC).
All rights reserved.
externalDocs:
description: 3GPP TS 29.503 Unified Data Management Services, version 15.4.0
url: \'http://www.3gpp.org/ftp/Specs/archive/29_series/29.503/\'
servers:
\- url: \'{apiRoot}/nudm-uecm/v1\'
variables:
apiRoot:
default: https://example.com
description: apiRoot as defined in clause clause 4.4 of 3GPP TS 29.501.
security:
\- oAuth2ClientCredentials:
\- nudm-uecm
\- {}
paths:
/{ueId}/registrations/amf-3gpp-access:
put:
summary: register as AMF for 3GPP access
operationId: 3GppRegistration
tags:
\- AMF registration for 3GPP access
parameters:
\- name: ueId
in: path
description: Identifier of the UE
required: true
schema:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Supi\'
requestBody:
content:
application/json:
schema:
\$ref: \'#/components/schemas/Amf3GppAccessRegistration\'
required: true
responses:
\'201\':
description: Created
content:
application/json:
schema:
\$ref: \'#/components/schemas/Amf3GppAccessRegistration\'
headers:
Location:
description: \'Contains the URI of the newly created resource, according to
the structure: {apiRoot}/nudm-uecm/v1/{ueId}/registrations/amf-3gpp-access\'
required: true
schema:
type: string
\'200\':
description: OK
content:
application/json:
schema:
\$ref: \'#/components/schemas/Amf3GppAccessRegistration\'
\'204\':
description: No content
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
description: Unexpected error
callbacks:
deregistrationeNotification:
\'{request.body#/deregCallbackUri}\':
post:
requestBody:
required: true
content:
application/json:
schema:
\$ref: \'#/components/schemas/DeregistrationData\'
responses:
\'204\':
description: Successful Notification response
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
description: Unexpected error
pcscfRestorationNotification:
\'{request.body#/pcscfRestorationCallbackUri}\':
post:
requestBody:
required: true
content:
application/json:
schema:
\$ref: \'#/components/schemas/PcscfRestorationNotification\'
responses:
\'204\':
description: Successful Notification response
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
description: Unexpected error
patch:
summary: Update a parameter in the AMF registration for 3GPP access
operationId: Update3GppRegistration
tags:
\- Parameter update in the AMF registration for 3GPP access
parameters:
\- name: ueId
in: path
description: Identifier of the UE
required: true
schema:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Supi\'
requestBody:
content:
application/merge-patch+json:
schema:
\$ref: \'#/components/schemas/Amf3GppAccessRegistrationModification\'
required: true
responses:
\'204\':
description: Expected response to a valid request
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'422\':
description: Unprocessable Request
content:
application/problem+json:
schema:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/ProblemDetails\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
description: Unexpected error
get:
summary: retrieve the AMF registration for 3GPP access information
operationId: Get3GppRegistration
tags:
\- AMF 3Gpp-access Registration Info Retrieval
parameters:
\- name: ueId
in: path
description: Identifier of the UE
required: true
schema:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/VarUeId\'
\- name: supported-features
in: query
schema:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/SupportedFeatures\'
responses:
\'200\':
description: Expected response to a valid request
content:
application/json:
schema:
\$ref: \'#/components/schemas/Amf3GppAccessRegistration\'
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
description: Unexpected error
/{ueId}/registrations/amf-non-3gpp-access:
put:
summary: register as AMF for non-3GPP access
operationId: Non3GppRegistration
tags:
\- AMF registration for non-3GPP access
parameters:
\- name: ueId
in: path
description: Identifier of the UE
required: true
schema:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Supi\'
requestBody:
content:
application/json:
schema:
\$ref: \'#/components/schemas/AmfNon3GppAccessRegistration\'
required: true
responses:
\'201\':
description: Created
content:
application/json:
schema:
\$ref: \'#/components/schemas/AmfNon3GppAccessRegistration\'
headers:
Location:
description: \'Contains the URI of the newly created resource, according to
the structure: {apiRoot}/nudm-uecm/v1/{ueId}/registrations/amf-non-3gpp-
access\'
required: true
schema:
type: string
\'200\':
description: OK
content:
application/json:
schema:
\$ref: \'#/components/schemas/AmfNon3GppAccessRegistration\'
\'204\':
description: No Content
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
description: Unexpected error
callbacks:
deregistrationeNotification:
\'{request.body#/deregCallbackUri}\':
post:
requestBody:
required: true
content:
application/json:
schema:
\$ref: \'#/components/schemas/DeregistrationData\'
responses:
\'204\':
description: Successful Notification response
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
description: Unexpected error
pcscfRestorationNotification:
\'{request.body#/pcscfRestorationCallbackUri}\':
post:
requestBody:
required: true
content:
application/json:
schema:
\$ref: \'#/components/schemas/PcscfRestorationNotification\'
responses:
\'204\':
description: Successful Notification response
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
description: Unexpected error
patch:
summary: update a parameter in the AMF registration for non-3GPP access
operationId: UpdateNon3GppRegistration
tags:
\- Parameter update in the AMF registration for non-3GPP access
parameters:
\- name: ueId
in: path
description: Identifier of the UE
required: true
schema:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Supi\'
requestBody:
content:
application/merge-patch+json:
schema:
\$ref: \'#/components/schemas/AmfNon3GppAccessRegistrationModification\'
required: true
responses:
\'204\':
description: Expected response to a valid request
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'422\':
description: Unprocessable Request
content:
application/problem+json:
schema:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/ProblemDetails\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
description: Unexpected error
get:
summary: retrieve the AMF registration for non-3GPP access information
operationId: GetNon3GppRegistration
tags:
\- AMF non-3GPP-access Registration Info Retrieval
parameters:
\- name: ueId
in: path
description: Identifier of the UE
required: true
schema:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/VarUeId\'
\- name: supported-features
in: query
schema:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/SupportedFeatures\'
responses:
\'200\':
description: Expected response to a valid request
content:
application/json:
schema:
\$ref: \'#/components/schemas/AmfNon3GppAccessRegistration\'
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
description: Unexpected error
/{ueId}/registrations/smf-registrations/{pduSessionId}:
put:
summary: register as SMF
operationId: Registration
tags:
\- SMF SmfRegistration
parameters:
\- name: ueId
in: path
description: Identifier of the UE
required: true
schema:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Supi\'
\- name: pduSessionId
in: path
description: Identifier of the PDU session
required: true
schema:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/PduSessionId\'
requestBody:
content:
application/json:
schema:
\$ref: \'#/components/schemas/SmfRegistration\'
required: true
responses:
\'201\':
description: Created
content:
application/json:
schema:
\$ref: \'#/components/schemas/SmfRegistration\'
headers:
Location:
description: \'Contains the URI of the newly created resource, according to
the structure: {apiRoot}/nudm-uecm/v1/{ueId}/registrations/smf-
registrations/{pduSessionId}\'
required: true
schema:
type: string
\'200\':
description: Expected response to a valid request
content:
application/json:
schema:
\$ref: \'#/components/schemas/SmfRegistration\'
\'204\':
description: No content
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
description: Unexpected error
callbacks:
pcscfRestorationNotification:
\'{request.body#/pcscfRestorationCallbackUri}\':
post:
requestBody:
required: true
content:
application/json:
schema:
\$ref: \'#/components/schemas/PcscfRestorationNotification\'
responses:
\'204\':
description: Successful Notification response
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
description: Unexpected error
delete:
summary: delete an SMF registration
operationId: SmfDeregistration
tags:
\- SMF Deregistration
parameters:
\- name: ueId
in: path
description: Identifier of the UE
required: true
schema:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Supi\'
\- name: pduSessionId
in: path
description: Identifier of the PDU session
required: true
schema:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/PduSessionId\'
responses:
\'204\':
description: Expected response to a valid request
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'422\':
description: Unprocessable Request
content:
application/problem+json:
schema:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/ProblemDetails\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
description: Unexpected error
/{ueId}/registrations/smsf-3gpp-access:
put:
summary: register as SMSF for 3GPP access
operationId: 3GppSmsfRegistration
tags:
\- SMSF registration for 3GPP access
parameters:
\- name: ueId
in: path
description: Identifier of the UE
required: true
schema:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Supi\'
requestBody:
content:
application/json:
schema:
\$ref: \'#/components/schemas/SmsfRegistration\'
required: true
responses:
\'201\':
description: Created
content:
application/json:
schema:
\$ref: \'#/components/schemas/SmsfRegistration\'
headers:
Location:
description: \'Contains the URI of the newly created resource, according to
the structure: {apiRoot}/nudm-uecm/v1/{ueId}/registrations/smsf-3gpp-access\'
required: true
schema:
type: string
\'200\':
description: Expected response to a valid request
content:
application/json:
schema:
\$ref: \'#/components/schemas/SmsfRegistration\'
\'204\':
description: No content
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
description: Unexpected error
delete:
summary: delete the SMSF registration for 3GPP access
operationId: 3GppSmsfDeregistration
tags:
\- SMSF Deregistration for 3GPP Access
parameters:
\- name: ueId
in: path
description: Identifier of the UE
required: true
schema:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Supi\'
responses:
\'204\':
description: Expected response to a valid request
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'422\':
description: Unprocessable Request
content:
application/problem+json:
schema:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/ProblemDetails\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
description: Unexpected error
get:
summary: retrieve the SMSF registration for 3GPP access information
operationId: Get3GppSmsfRegistration
tags:
\- SMSF 3GPP access Registration Info Retrieval
parameters:
\- name: ueId
in: path
description: Identifier of the UE
required: true
schema:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Gpsi\'
\- name: supported-features
in: query
schema:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/SupportedFeatures\'
responses:
\'200\':
description: Expected response to a valid request
content:
application/json:
schema:
\$ref: \'#/components/schemas/SmsfRegistration\'
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
description: Unexpected error
/{ueId}/registrations/smsf-non-3gpp-access:
put:
summary: register as SMSF for non-3GPP access
operationId: Non3GppSmsfRegistration
tags:
\- SMSF registration for non-3GPP access
parameters:
\- name: ueId
in: path
description: Identifier of the UE
required: true
schema:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Supi\'
requestBody:
content:
application/json:
schema:
\$ref: \'#/components/schemas/SmsfRegistration\'
required: true
responses:
\'201\':
description: Created
content:
application/json:
schema:
\$ref: \'#/components/schemas/SmsfRegistration\'
headers:
Location:
description: \'Contains the URI of the newly created resource, according to
the structure: {apiRoot}/nudm-uecm/v1/{ueId}/registrations/smsf-non-3gpp-
access\'
required: true
schema:
type: string
\'200\':
description: Expected response to a valid request
content:
application/json:
schema:
\$ref: \'#/components/schemas/SmsfRegistration\'
\'204\':
description: No content
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
description: Unexpected error
delete:
summary: delete SMSF registration for non 3GPP access
operationId: Non3GppSmsfDeregistration
tags:
\- SMSF Deregistration for non-3GPP access
parameters:
\- name: ueId
in: path
description: Identifier of the UE
required: true
schema:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Supi\'
responses:
\'204\':
description: Expected response to a valid request
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'422\':
description: Unprocessable Request
content:
application/problem+json:
schema:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/ProblemDetails\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
description: Unexpected error
get:
summary: retrieve the SMSF registration for non-3GPP access information
operationId: GetNon3GppSmsfRegistration
tags:
\- SMSF non-3GPP access Registration Info Retrieval
parameters:
\- name: ueId
in: path
description: Identifier of the UE
required: true
schema:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Gpsi\'
\- name: supported-features
in: query
schema:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/SupportedFeatures\'
responses:
\'200\':
description: Expected response to a valid request
content:
application/json:
schema:
\$ref: \'#/components/schemas/SmsfRegistration\'
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
description: Unexpected error
components:
securitySchemes:
oAuth2ClientCredentials:
type: oauth2
flows:
clientCredentials:
tokenUrl: \'{nrfApiRoot}/oauth2/token\'
scopes:
nudm-uecm: Access to the nudm-uecm API
schemas:
# COMPLEX TYPES:
Amf3GppAccessRegistration:
type: object
required:
\- amfInstanceId
\- deregCallbackUri
\- guami
\- ratType
properties:
amfInstanceId:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/NfInstanceId\'
supportedFeatures:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/SupportedFeatures\'
purgeFlag:
\$ref: \'#/components/schemas/PurgeFlag\'
pei:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Pei\'
imsVoPs:
\$ref: \'#/components/schemas/ImsVoPs\'
deregCallbackUri:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Uri\'
amfServiceNameDereg:
\$ref: \'TS29510_Nnrf_NFManagement.yaml#/components/schemas/ServiceName\'
pcscfRestorationCallbackUri:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Uri\'
amfServiceNamePcscfRest:
\$ref: \'TS29510_Nnrf_NFManagement.yaml#/components/schemas/ServiceName\'
initialRegistrationInd:
type: boolean
guami:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Guami\'
backupAmfInfo:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/BackupAmfInfo\'
minItems: 1
drFlag:
\$ref: \'#/components/schemas/DualRegistrationFlag\'
ratType:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/RatType\'
urrpIndicator:
type: boolean
amfEeSubscriptionId:
type: string
epsInterworkingInfo:
type: object
properties:
epsIwkPgws:
description: A map (list of key-value pairs where Dnn serves as key) of
EpsIwkPgws
type: object
additionalProperties:
\$ref: \'#/components/schemas/EpsIwkPgw\'
Amf3GppAccessRegistrationModification:
type: object
required:
\- guami
properties:
guami:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Guami\'
purgeFlag:
\$ref: \'#/components/schemas/PurgeFlag\'
pei:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Pei\'
imsVoPs:
\$ref: \'#/components/schemas/ImsVoPs\'
backupAmfInfo:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/BackupAmfInfo\'
epsInterworkingInfo:
type: object
properties:
epsIwkPgws:
description: A map (list of key-value pairs where Dnn serves as key) of
EpsIwkPgws
type: object
additionalProperties:
\$ref: \'#/components/schemas/EpsIwkPgw\'
EpsIwkPgw:
type: object
required:
\- pgwFqdn
\- smfInstanceId
properties:
pgwFqdn:
type: string
smfInstanceId:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/NfInstanceId\'
AmfNon3GppAccessRegistration:
type: object
required:
\- amfInstanceId
\- imsVoPs
\- deregCallbackUri
\- guami
\- ratType
properties:
amfInstanceId:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/NfInstanceId\'
supportedFeatures:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/SupportedFeatures\'
purgeFlag:
\$ref: \'#/components/schemas/PurgeFlag\'
pei:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Pei\'
imsVoPs:
\$ref: \'#/components/schemas/ImsVoPs\'
deregCallbackUri:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Uri\'
amfServiceNameDereg:
\$ref: \'TS29510_Nnrf_NFManagement.yaml#/components/schemas/ServiceName\'
pcscfRestorationCallbackUri:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Uri\'
amfServiceNamePcscfRest:
\$ref: \'TS29510_Nnrf_NFManagement.yaml#/components/schemas/ServiceName\'
guami:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Guami\'
backupAmfInfo:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/BackupAmfInfo\'
minItems: 1
ratType:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/RatType\'
urrpIndicator:
type: boolean
amfEeSubscriptionId:
type: string
AmfNon3GppAccessRegistrationModification:
type: object
required:
\- guami
properties:
guami:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Guami\'
purgeFlag:
\$ref: \'#/components/schemas/PurgeFlag\'
pei:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Pei\'
imsVoPs:
\$ref: \'#/components/schemas/ImsVoPs\'
backupAmfInfo:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/BackupAmfInfo\'
SmfRegistration:
type: object
required:
\- smfInstanceId
\- pduSessionId
\- singleNssai
\- plmnId
properties:
smfInstanceId:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/NfInstanceId\'
supportedFeatures:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/SupportedFeatures\'
pduSessionId:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/PduSessionId\'
singleNssai:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Snssai\'
dnn:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Dnn\'
emergencyServices:
type: boolean
pcscfRestorationCallbackUri:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Uri\'
plmnId:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/PlmnId\'
pgwFqdn:
type: string
SmsfRegistration:
type: object
required:
\- smsfInstanceId
\- plmnId
properties:
smsfInstanceId:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/NfInstanceId\'
supportedFeatures:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/SupportedFeatures\'
plmnId:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/PlmnId\'
smsfMAPAddress:
\$ref: \'#/components/schemas/E164Number\'
smsfDiameterAddress:
\$ref: \'#/components/schemas/NetworkNodeDiameterAddress\'
DeregistrationData:
type: object
required:
\- deregReason
\- accessType
properties:
deregReason:
\$ref: \'#/components/schemas/DeregistrationReason\'
accessType:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/AccessType\'
PcscfRestorationNotification:
type: object
required:
\- supi
properties:
supi:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Supi\'
NetworkNodeDiameterAddress:
type: object
required:
\- name
\- realm
properties:
name:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/DiameterIdentity\'
realm:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/DiameterIdentity\'
# SIMPLE TYPES:
PurgeFlag:
type: boolean
E164Number:
type: string
pattern: \'\^[0-9]{1,15}\$\'
DualRegistrationFlag:
type: boolean
# ENUMS:
ImsVoPs:
anyOf:
\- type: string
enum:
\- HOMOGENEOUS_SUPPORT
\- HOMOGENEOUS_NON_SUPPORT
\- NON_HOMOGENEOUS_OR_UNKNOWN
\- type: string
DeregistrationReason:
anyOf:
\- type: string
enum:
\- UE_INITIAL_REGISTRATION
\- UE_REGISTRATION_AREA_CHANGE
\- SUBSCRIPTION_WITHDRAWN
\- 5GS_TO_EPS_MOBILITY
\- 5GS_TO_EPS_MOBILITY_UE_INITIAL_REGISTRATION
\- REREGISTRATION_REQUIRED
\- type: string
## A.4 Nudm_UEAU API
openapi: 3.0.0
info:
version: \'1.0.2\'
title: \'NudmUEAU\'
description: \|
UDM UE Authentication Service.
Â© 2019, 3GPP Organizational Partners (ARIB, ATIS, CCSA, ETSI, TSDSI, TTA,
TTC).
All rights reserved.
externalDocs:
description: 3GPP TS 29.503 Unified Data Management Services, version 15.6.0
url: \'http://www.3gpp.org/ftp/Specs/archive/29_series/29.503/\'
servers:
\- url: \'{apiRoot}/nudm-ueau/v1\'
variables:
apiRoot:
default: https://example.com
description: apiRoot as defined in clause clause 4.4 of 3GPP TS 29.501.
security:
\- oAuth2ClientCredentials:
\- nudm-ueau
\- {}
paths:
/{supiOrSuci}/security-information/generate-auth-data:
post:
summary: Generate authentication data for the UE
operationId: GenerateAuthData
tags:
\- Generate Auth Data
parameters:
\- name: supiOrSuci
in: path
description: SUPI or SUCI of the user
required: true
schema:
\$ref: \'#/components/schemas/SupiOrSuci\'
requestBody:
content:
application/json:
schema:
\$ref: \'#/components/schemas/AuthenticationInfoRequest\'
required: true
responses:
\'200\':
description: Expected response to a valid request
content:
application/json:
schema:
\$ref: \'#/components/schemas/AuthenticationInfoResult\'
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'501\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/501\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
description: Unexpected error
/{supi}/auth-events:
post:
summary: Create a new confirmation event
operationId: ConfirmAuth
tags:
\- Confirm Auth
parameters:
\- name: supi
in: path
description: SUPI of the user
required: true
schema:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Supi\'
requestBody:
content:
application/json:
schema:
\$ref: \'#/components/schemas/AuthEvent\'
required: true
responses:
\'201\':
description: Expected response to a valid request
content:
application/json:
schema:
\$ref: \'#/components/schemas/AuthEvent\'
headers:
Location:
description: \'Contains the URI of the newly created resource, according to
the structure: {apiRoot}/nudm-ueau/v1/{supi}/auth-events/{authEventId}\'
required: true
schema:
type: string
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
description: Unexpected error
components:
securitySchemes:
oAuth2ClientCredentials:
type: oauth2
flows:
clientCredentials:
tokenUrl: \'{nrfApiRoot}/oauth2/token\'
scopes:
nudm-ueau: Access to the nudm-ueau API
schemas:
# COMPLEX TYPES:
AuthenticationInfoRequest:
type: object
required:
\- servingNetworkName
\- ausfInstanceId
properties:
supportedFeatures:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/SupportedFeatures\'
servingNetworkName:
\$ref: \'#/components/schemas/ServingNetworkName\'
resynchronizationInfo:
\$ref: \'#/components/schemas/ResynchronizationInfo\'
ausfInstanceId:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/NfInstanceId\'
AuthenticationInfoResult:
type: object
required:
\- authType
properties:
authType:
\$ref: \'#/components/schemas/AuthType\'
supportedFeatures:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/SupportedFeatures\'
authenticationVector:
\$ref: \'#/components/schemas/AuthenticationVector\'
supi:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Supi\'
AuthenticationVector:
oneOf:
\- \$ref: \'#/components/schemas/AvEapAkaPrime\'
\- \$ref: \'#/components/schemas/Av5GHeAka\'
discriminator:
propertyName: avType
mapping:
5G_HE_AKA: \'#/components/schemas/Av5GHeAka\'
EAP_AKA_PRIME: \'#/components/schemas/AvEapAkaPrime\'
AvEapAkaPrime:
type: object
required:
\- avType
\- rand
\- xres
\- autn
\- ckPrime
\- ikPrime
properties:
avType:
\$ref: \'#/components/schemas/AvType\'
rand:
\$ref: \'#/components/schemas/Rand\'
xres:
\$ref: \'#/components/schemas/Xres\'
autn:
\$ref: \'#/components/schemas/Autn\'
ckPrime:
\$ref: \'#/components/schemas/CkPrime\'
ikPrime:
\$ref: \'#/components/schemas/IkPrime\'
Av5GHeAka:
type: object
required:
\- avType
\- rand
\- xresStar
\- autn
\- kausf
properties:
avType:
\$ref: \'#/components/schemas/AvType\'
rand:
\$ref: \'#/components/schemas/Rand\'
xresStar:
\$ref: \'#/components/schemas/XresStar\'
autn:
\$ref: \'#/components/schemas/Autn\'
kausf:
\$ref: \'#/components/schemas/Kausf\'
ResynchronizationInfo:
type: object
required:
\- rand
\- auts
properties:
rand:
\$ref: \'#/components/schemas/Rand\'
auts:
\$ref: \'#/components/schemas/Auts\'
AuthEvent:
type: object
required:
\- nfInstanceId
\- success
\- timeStamp
\- authType
\- servingNetworkName
properties:
nfInstanceId:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/NfInstanceId\'
success:
\$ref: \'#/components/schemas/Success\'
timeStamp:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/DateTime\'
authType:
\$ref: \'#/components/schemas/AuthType\'
servingNetworkName:
\$ref: \'#/components/schemas/ServingNetworkName\'
# SIMPLE TYPES:
Autn:
type: string
pattern: \'\^[A-Fa-f0-9]{32}\$\'
Auts:
type: string
pattern: \'\^[A-Fa-f0-9]{28}\$\'
CkPrime:
type: string
pattern: \'\^[A-Fa-f0-9]{32}\$\'
IkPrime:
type: string
pattern: \'\^[A-Fa-f0-9]{32}\$\'
Kausf:
type: string
pattern: \'\^[A-Fa-f0-9]{64}\$\'
Rand:
type: string
pattern: \'\^[A-Fa-f0-9]{32}\$\'
Xres:
type: string
pattern: \'\^[A-Fa-f0-9]{8,32}\$\'
XresStar:
type: string
pattern: \'\^[A-Fa-f0-9]{32}\$\'
SupiOrSuci:
type: string
pattern:
\'\^(imsi-[0-9]{5,15}\|nai-.+\|suci-(0-[0-9]{3}-[0-9]{2,3}\|[1-7]-.+)-[0-9]{1,4}-(0-0-.+\|[a-fA-F1-9]-([1-9]\|[1-9][0-9]\|1[0-9]{2}\|2[0-4][0-9]\|25[0-5])-[a-fA-F0-9]+)\|.+)\$\'
ServingNetworkName:
type: string
pattern: \'\^5G:mnc[0-9]{3}[.]mcc[0-9]{3}[.]3gppnetwork[.]org\$\'
Success:
type: boolean
# ENUMS:
AuthType:
anyOf:
\- type: string
enum:
\- 5G_AKA
\- EAP_AKA_PRIME
\- EAP_TLS
\- type: string
AvType:
anyOf:
\- type: string
enum:
\- 5G_HE_AKA
\- EAP_AKA_PRIME
\- type: string
## A.5 Nudm_EE API
openapi: 3.0.0
info:
version: \'1.0.3\'
title: \'Nudm_EE\'
description: \|
Nudm Event Exposure Service.
Â© 2019, 3GPP Organizational Partners (ARIB, ATIS, CCSA, ETSI, TSDSI, TTA,
TTC).
All rights reserved.
externalDocs:
description: 3GPP TS 29.503 Unified Data Management Services, version 15.6.0
url: \'http://www.3gpp.org/ftp/Specs/archive/29_series/29.503/\'
servers:
\- url: \'{apiRoot}/nudm-ee/v1\'
variables:
apiRoot:
default: https://example.com
description: apiRoot as defined in clause clause 4.4 of 3GPP TS 29.501.
security:
\- oAuth2ClientCredentials:
\- nudm-ee
\- {}
paths:
/{ueIdentity}/ee-subscriptions:
post:
summary: Subscribe
operationId: CreateEeSubscription
tags:
\- Create EE Subscription
parameters:
\- name: ueIdentity
in: path
description: Represents the scope of the UE for which the subscription is
applied. Contains the GPSI of the user or the external group ID or any UE.
required: true
schema:
type: string
pattern:
\'\^(msisdn-[0-9]{5,15}\|.+\|extid-[\^@]+@[\^@]+\|extgroupid-[\^@]+@[\^@]+\|anyUE)\$\'
requestBody:
content:
application/json:
schema:
\$ref: \'#/components/schemas/EeSubscription\'
required: true
responses:
\'201\':
description: Expected response to a valid request
content:
application/json:
schema:
\$ref: \'#/components/schemas/CreatedEeSubscription\'
headers:
Location:
description: \'Contains the URI of the newly created resource, according to
the structure: {apiRoot}/nudm-ee/v1/{ueIdentity}/ee-
subscriptions/{subscriptionId}\'
required: true
schema:
type: string
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'501\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/501\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
description: Unexpected error
callbacks:
eventOccurrenceNotification:
\'{request.body#/callbackReference}\':
post:
requestBody:
required: true
content:
application/json:
schema:
type: array
items:
\$ref: \'#/components/schemas/MonitoringReport\'
minItems: 1
responses:
\'204\':
description: Successful Notification response
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
description: Unexpected error
/{ueIdentity}/ee-subscriptions/{subscriptionId}:
delete:
summary: Unsubscribe
operationId: DeleteEeSubscription
tags:
\- Delete EE Subscription
parameters:
\- name: ueIdentity
in: path
description: Represents the scope of the UE for which the subscription is
applied. Contains the GPSI of the user or the external group ID or any UE.
required: true
schema:
type: string
pattern:
\'\^(msisdn-[0-9]{5,15}\|.+\|extid-[\^@]+@[\^@]+\|extgroupid-[\^@]+@[\^@]+\|anyUE)\$\'
\- name: subscriptionId
in: path
description: Id of the EE Subscription
required: true
schema:
type: string
responses:
\'204\':
description: Successful response
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
description: Unexpected error
patch:
summary: Patch
operationId: UpdateEeSubscription
tags:
\- Update EE Subscription
parameters:
\- name: ueIdentity
in: path
description: Represents the scope of the UE for which the subscription is
applied. Contains the GPSI of the user or the external group ID or any UE.
required: true
schema:
type: string
pattern:
\'\^(msisdn-[0-9]{5,15}\|.+\|extid-[\^@]+@[\^@]+\|extgroupid-[\^@]+@[\^@]+\|anyUE)\$\'
\- name: subscriptionId
in: path
description: Id of the EE Subscription
required: true
schema:
type: string
requestBody:
content:
application/json-patch+json:
schema:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/PatchItem\'
minItems: 1
required: true
responses:
\'204\':
description: Successful response
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
default:
description: Unexpected error
components:
securitySchemes:
oAuth2ClientCredentials:
type: oauth2
flows:
clientCredentials:
tokenUrl: \'{nrfApiRoot}/oauth2/token\'
scopes:
nudm-ee: Access to the nudm-ee API
schemas:
# COMPLEX TYPES:
CreatedEeSubscription:
type: object
required:
\- eeSubscription
properties:
eeSubscription:
\$ref: \'#/components/schemas/EeSubscription\'
numberOfUes:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Uinteger\'
eventReports:
type: array
items:
\$ref: \'#/components/schemas/MonitoringReport\'
minItems: 1
EeSubscription:
type: object
required:
\- callbackReference
\- monitoringConfigurations
properties:
callbackReference:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Uri\'
monitoringConfigurations:
description: A map (list of key-value pairs where ReferenceId serves as key)
of MonitoringConfigurations
type: object
additionalProperties:
\$ref: \'#/components/schemas/MonitoringConfiguration\'
minProperties: 1
reportingOptions:
\$ref: \'#/components/schemas/ReportingOptions\'
supportedFeatures:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/SupportedFeatures\'
subscriptionId:
type: string
MonitoringConfiguration:
type: object
required:
\- eventType
properties:
eventType:
\$ref: \'#/components/schemas/EventType\'
immediateFlag:
type: boolean
locationReportingConfiguration:
\$ref: \'#/components/schemas/LocationReportingConfiguration\'
associationType:
\$ref: \'#/components/schemas/AssociationType\'
LocationReportingConfiguration:
type: object
required:
\- currentLocation
properties:
currentLocation:
type: boolean
oneTime:
type: boolean
accuracy:
\$ref: \'#/components/schemas/LocationAccuracy\'
ReportingOptions:
type: object
properties:
maxNumOfReports:
\$ref: \'#/components/schemas/MaxNumOfReports\'
expiry:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/DateTime\'
MonitoringReport:
type: object
required:
\- referenceId
\- eventType
\- timeStamp
properties:
referenceId:
\$ref: \'#/components/schemas/ReferenceId\'
eventType:
\$ref: \'#/components/schemas/EventType\'
report:
\$ref: \'#/components/schemas/Report\'
gpsi:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Gpsi\'
timeStamp:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/DateTime\'
Report:
oneOf:
\- \$ref: \'#/components/schemas/ChangeOfSupiPeiAssociationReport\'
\- \$ref: \'#/components/schemas/RoamingStatusReport\'
ChangeOfSupiPeiAssociationReport:
type: object
required:
\- newPei
properties:
newPei:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Pei\'
RoamingStatusReport:
type: object
required:
\- roaming
\- newServingPlmn
properties:
roaming:
type:
boolean
newServingPlmn:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/PlmnId\'
# SIMPLE TYPES:
ReferenceId:
type: integer
MaxNumOfReports:
type: integer
# ENUMS:
EventType:
anyOf:
\- type: string
enum:
\- LOSS_OF_CONNECTIVITY
\- UE_REACHABILITY_FOR_DATA
\- UE_REACHABILITY_FOR_SMS
\- LOCATION_REPORTING
\- CHANGE_OF_SUPI_PEI_ASSOCIATION
\- ROAMING_STATUS
\- COMMUNICATION_FAILURE
\- AVAILABILITY_AFTER_DDN_FAILURE
\- type: string
LocationAccuracy:
anyOf:
\- type: string
enum:
\- CELL_LEVEL
\- TA_LEVEL
\- type: string
AssociationType:
anyOf:
\- type: string
enum:
\- IMEI_CHANGE
\- IMEISV_CHANGE
\- type: string
## A.6 Nudm_PP API
openapi: 3.0.0
info:
version: \'1.0.1\'
title: \'Nudm_PP\'
description: \|
Nudm Parameter Provision Service.
Â© 2019, 3GPP Organizational Partners (ARIB, ATIS, CCSA, ETSI, TSDSI, TTA,
TTC).
All rights reserved.
externalDocs:
description: 3GPP TS 29.503 Unified Data Management Services, version 15.4.0
url: \'http://www.3gpp.org/ftp/Specs/archive/29_series/29.503/\'
servers:
\- url: \'{apiRoot}/nudm-pp/v1\'
variables:
apiRoot:
default: https://example.com
description: apiRoot as defined in clause clause 4.4 of 3GPP TS 29.501.
security:
\- oAuth2ClientCredentials:
\- nudm-pp
\- {}
paths:
/{gpsi}/pp-data:
patch:
summary: provision parameters
operationId: Update
tags:
\- Subscription Data Update
parameters:
\- name: gpsi
in: path
description: Identifier of the UE
required: true
schema:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Gpsi\'
requestBody:
content:
application/merge-patch+json:
schema:
\$ref: \'#/components/schemas/PpData\'
required: true
responses:
\'204\':
description: Expected response to a valid request
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
description: Unexpected error
components:
securitySchemes:
oAuth2ClientCredentials:
type: oauth2
flows:
clientCredentials:
tokenUrl: \'{nrfApiRoot}/oauth2/token\'
scopes:
nudm-pp: Access to the nudm-pp API
schemas:
# COMPLEX TYPES:
PpData:
type: object
properties:
communicationCharacteristics:
\$ref: \'#/components/schemas/CommunicationCharacteristics\'
supportedFeatures:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/SupportedFeatures\'
CommunicationCharacteristics:
type: object
properties:
ppSubsRegTimer:
\$ref: \'#/components/schemas/PpSubsRegTimer\'
ppActiveTime:
\$ref: \'#/components/schemas/PpActiveTime\'
ppDlPacketCount:
\$ref: \'#/components/schemas/PpDlPacketCount\'
PpSubsRegTimer:
type: object
required:
\- subsRegTimer
\- afInstanceId
\- referenceId
properties:
subsRegTimer:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/DurationSec\'
afInstanceId:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/NfInstanceId\'
referenceId:
\$ref: \'#/components/schemas/ReferenceId\'
nullable: true
PpActiveTime:
type: object
required:
\- activeTime
\- afInstanceId
\- referenceId
properties:
activeTime:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/DurationSec\'
afInstanceId:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/NfInstanceId\'
referenceId:
\$ref: \'#/components/schemas/ReferenceId\'
nullable: true
# SIMPLE TYPES:
ReferenceId:
type: integer
PpDlPacketCount:
type: integer
nullable: true
# ENUMS:
###### ## Annex B (informative): Stateless UDMs
Figure B-1 shows a scenario where the stateless UDM receives and processes a
request from an NF.
Figure B-1: Stateless UDM
1\. The stateless UDM receives a request from an NF. This can be a request to
perform an Nudm service, or a Notification that the UDM has previously
subscribed to at the NF by means of a service the UDM consumes from the NF. In
the later case the NF can be the UDR.
2\. The UDM retrieves data from the UDR that are required to process the
request. This step can be skipped if the request was a notification from the
UDR and contained enough information so that the UDM can process the request.
3\. The UDM processes the received request. This can include consuming
services from other NFs, consuming services from the UDR (e.g. to update data
or subscribe to notifications), and sending notifications to NFs that have
subscribed at the UDM to receive notifications, and includes sending the
response to the NF (all not shown in the figure).
4\. The UDM locally deletes the data retrieved in step 2 and/or received in
step 1.
Figure B-2 shows a scenario where an AMF subscribes to notifications of data
change (permanent provisioned subscription data) at the stateless UDM. The UDM
(UDM 1) stores the subscription to notification in the UE\'s context data at
the UDR.
Figure B-2: Subscription to notification
1\. The stateless UDM 1 receives a subscribe request from an AMF; see clause
5.2.2.3.2.
2.-3 The UDM retrieves UE context data from the UDR to be able to perform
required plausibility checks; see 3GPP TS 29.504 [9] clause 5.2.2.2.2.
4\. The UDM creates a new sdm subscription at the UDR; see 3GPP TS 29.504 [9]
clause 5.2.2.6.3.
5\. The UDR sends a 201 Created response containig a subscription ID
6\. The UDM send a 201 Created response passing the subscription ID received
in step 5 to the AMF.
7\. Permanent provisioned Subscription data are modified at the UDR.
8\. The UDR selects a suitable UDM and sends a Notification; see 3GPP TS
29.504 [9] clause 5.2.2.8. In addition to the data that have changed, the
Notification request message can contain enough (unchanged) information (e.g.
the information that has been created in step 4) allowing the UDM to perform
step 10 without the need to additionally retrieve information from the UDR.
9\. The UDM responds with 204 No Content.
10\. The UDM notifies the AMF according to the callback URI of the AMF
contained in the Notification received in step 8; see clause 5.2.2.5.2.
11\. The AMF responds with 204 No Content.
Figure B-3 shows a scenario where an AMF registers at the stateless UDM. The
UDM (UDM 1) stores the registration in the UE\'s context data at the UDR. The
AMF then requests to update the registration e.g. due to change of PEI. This
request is sent to UDM2 which belongs to the same UDM group as UDM1.
Figure B-3: AMF Registration and Update
1\. The AMF discovers (by means of NRF query) and selects an UDM and sends the
register request;
2.-3 The UDM retrieves UE context data from the UDR e.g. to be able to perform
required plausibility checks;
4.-5 The UDM updates UE context data in the UDR. The UDM also performs other
actions not shown in the figure, e.g deregister an old AMF, notify a
subscribed NEF, ...
6\. The UDM acknowldeges the AMF registration. The AMF stores the UDM group ID
as discovered and selected in step 1. The UDM locally deletes the data
retrieved in step 3.
7\. The AMF sends an update request (e.g. change of PEI) to one of the
available UDMs (UDM2) that belongs to the same UDM group as UDM1.
8.-9. The UDM retrieves UE context data from the UDR e.g. to be able to
perform required plausibility checks;
10.-11. The UDM updates UE context data in the UDR.The UDM also performs other
actions not shown in the figure, e.g. notify a subscribed NEF, ...
12\. The UDM sends update response to the AMF and locally deletes the data
retrieved in step 9.
NOTE: When a previously received Location Header or Callback URI is used for a
subsequent UDM contact, the authority part may need to be replaced to point to
the selected UDM.
Figure B-4 shows a scenario where an AF requests a subscription for all UEs
(any UE) for a given network event. The NEF discovers all UDM NFs providing
the necessary service to perform a bulk subscription. If one or several UDM
Group IDs are received, NEF selects only one instance of UDM for each Group ID
in order to perform the bulk subscription.
Figure B-4: Any UE Subscription
1\. An AF subscribes to a network event (e.g. SUPI-PEI association change) for
any UE (i.e. all UEs)
2\. The NEF discovers (by means of NRF query) all UDM instances supporting the
required service (e.g. nudm-ee). The NEF selects an UDM instance (e.g. UDM 1)
from each UDM Group ID discovered (UDM 1 and UDM 2 are in the same UDM Group
ID) and sends the subscribe request. The NEF also stores the UDM Group ID
information to select a UDM for subsequent subscriptions.
3-4. The UDM retrieves data from the UDR for group of UEs, e.g. to be able to
perform required plausibility checks
5-6. The UDM stores data for group of UEs in the UDR.
7\. The UDM acknowldeges the NEF subscription request. The UDM locally deletes
the data retrieved in step 3.
> Steps 7-12 in Figure B-3 are performed. As result of the subscription, NEF
> is notified by UDM 2 (change of PEI). Subsequently, when the event occurs
> for any UE (within the SUPI range, if applicable, served by the UDM Group
> ID), NEF is notified by either UDM1 or UDM 2.
###### ## Annex C (informative): SUCI encoding
The structure of the Subscription Concealed Identifier (SUCI) is defined in
3GPP TS 23.003 [8].
When SUCI needs to be sent as a character string (e.g. as a string in a JSON
payload of any of the service operations defined in the APIs defined in this
specification), the SUCI is composed as an UTF-8 character string, where the
different components are separated by the \"minus\" character \"-\" (UTF-8
0x2D).
These components shall be formatted as follows:
1) SUPI Type: a single decimal digit, from 0 to 7, formatted as a single UTF-8
character (UTF-8 0x30 to 0x37)
2) Home Network Identifier.
When the SUPI Type is an IMSI, the Home Network Identifier consists on 2
components: MCC and MNC, separated by the \"minus\" character; these
components are formatted as a string of 3 characters for MCC and a string of 2
or 3 characters for MNC (UTF-8 0x30 to 0x39).
When the SUPI type is a Network Specific Identifier, the Home Network
Identifier consists of a string of characters with a variable length,
formatted as an UTF-8 character string.
3) Routing Indicator, consisting of 1 to 4 decimal digits formatted as a
string of 1 to 4 characters (UTF-8 0x30 to 0x39).
4) Protection Scheme Identifier, consisting in a value in the range of 0 to
15, representing a single hexadecimal digit, formatted as a single UTF-8
character (UTF-8 0x30 to 0x39, or 0x41 to 0x46, or 0x61 to 0x66).
5) Home Network Public Key Identifier, consisting in a value in the range 0 to
255, formatted as a sequence of 1 to 3 decimal digits, formatted of 1 to 3
UTF-8 characters (UTF-8 0x30 to 0x39).
6) Scheme Output, consisting of a string of UTF-8 characters with a variable
length, or a sequence of hexadecimal digits, dependent on the used protection
scheme. It represents the output of a public key protection scheme specified
in Annex C of 3GPP TS 33.501 [6] or the output of a protection scheme
specified by the HPLMN.
EXAMPLES:
\- SUPI is IMSI-based; MCC=123, MNC=45, MSIN: 0123456789
SUPI type: 0 (IMSI)
Routing Identifier: 012
Protection Scheme: 0 (NULL scheme)
Home Network Public Key Identifier: 0
Scheme output = MSIN (cleartext)
SUCI UTF-8 string:
> \"0-123-45-012-0-0-0123456789\"
NOTE: According to 3GPP TS 33.501 [6] (see annex C.2) the NULL scheme returns
the same output as the input (i.e. MSIN in this example), which can be packed
BCD coded. However, when formatted as character string in JSON, the scheme
output is expected to be reformatted from packed BCD (5 octets in this
example) to a sequence of decimal digits in UTF-8 (10 characters in this
example).
\- SUPI is IMSI-based, MCC=123, MNC=45, MSIN: 9876543210 (coded as 10
hexadecimal digits using 5 octets packed BCD coding: 89, 67, 45, 23, 01)
> SUPI type: 0 (IMSI)
>
> Routing Identifier: 0002
>
> Protection Scheme: 1 (Profile A)
>
> Home Network Public Key Identifier: 17
Scheme output = ECC ephemeral public key (32 octets, first bolded part below)
+ Encrypted MSIN (where MSIN has 10 digits i.e. 5 octets coded as hexadecimal
digits using packed BCD coding, italic part below) + MAC tag (8 octets, last
bolded part below) = 50 octets = 100 hexadecimal characters (NOTE: the
encrypted content below is fictitious).
> SUCI UTF-8 string:
>
>
> \"0-123-45-0002-1-17-**e9b9916c911f448d8792e6b2f387f85d3ecab9040049427d9edbb5431b0bc711**
> _023be6a057_**b45d936238aebeb7** \"
\- SUPI is NAI-based, SUPI = alice\@example.com
SUPI type = 1 (Network Specific Identifier)
Routing Identifier: 84
Protection Scheme: 2 (Profile B)
Home Network Public Key Identifier: 250
Scheme output = ECC ephemeral public key (33 octets, first bolded part below)
+ Encrypted username of NAI (5 octets, italic part below) + MAC tag (8 octets,
last bolded part below) = 46 octets = 92 hexadecimal characters (NOTE: the
encrypted content below is fictitious)
SUCI UTF-8 string:
>
> \"1-example.com-84-2-250-**e9b9916c911f448d8792e6b2f387f85d3ecab9040049427d9edbb5431b0bc71195**
> _023be6a057_**b45d936238aebeb7** \"
###### ##
#