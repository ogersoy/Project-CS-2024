# Foreword
This Technical Specification has been produced by the 3rd Generation
Partnership Project (3GPP).
The contents of the present document are subject to continuing work within the
TSG and may change following formal TSG approval. Should the TSG modify the
contents of the present document, it will be re-released by the TSG with an
identifying change of release date and an increase in version number as
follows:
Version x.y.z
where:
x the first digit:
1 presented to TSG for information;
2 presented to TSG for approval;
3 or greater indicates TSG approved document under change control.
y the second digit is incremented for all changes of substance, i.e. technical
enhancements, corrections, updates, etc.
z the third digit is incremented when editorial only changes have been
incorporated in the document.
The present document is part 1 of a multi-part conformance test specification
for Mission Critical services over LTE consisting of:
3GPP TS 36.579-1 [2]: \"Mission Critical (MC) services over LTE; Part 1:
Common test environment\"
3GPP TS 36.579-2 [3]: \"Mission Critical (MC) services over LTE; Part 2:
Mission Critical Push To Talk (MCPTT) User Equipment (UE) Protocol conformance
specification\"
3GPP TS 36.579-3 [4]: \"Mission Critical (MC) services over LTE; Part 3:
Mission Critical Push To Talk (MCPTT) Server Application conformance
specification\"
3GPP TS 36.579-4 [5]: \"Mission Critical (MC) services over LTE; Part 4: Test
Applicability and Implementation Conformance Statement (ICS) proforma
specification\"
**3GPP TS 36.579-5: \"Mission Critical (MC) services over LTE; Part 5:
Abstract test suite (ATS)\" (the present specification)**
3GPP TS 36.579-6 [59]: \"Mission Critical (MC) services over LTE; Part 6:
Mission Critical Video (MCVideo) User Equipment (UE) Protocol conformance
specification\"
3GPP TS 36.579-7 [60]: \"Mission Critical (MC) services over LTE; Part 7:
Mission Critical Data (MCData) User Equipment (UE) Protocol conformance
specification\"
# 1 Scope
The present document specifies the protocol and signalling conformance testing
in TTCN-3 for the Mission Critical services over LTE signalling and protocol
requirements defined by 3GPP.
The following TTCN test specification and design considerations can be found
in the present document:
\- the test system architecture;
\- the overall test suite structure;
\- the test models and ASP definitions;
\- the test methods and usage of communication ports definitions;
\- the test configurations;
\- the design principles and assumptions;
\- TTCN styles and conventions;
\- the partial Implementation eXtra Information for Testing (IXIT) proforma;
\- the test suites.
The Abstract Test Suites designed in the document are based on the test cases
specified in 3GPP TS 36.579-2 [3], TS 36.579-6 [59] and TS 36.579-7 [60]. The
test cases specified in 3GPP TS 36.579-3 [4] are out of scope of the present
document.
The applicability of the individual test cases is specified in the test ICS
proforma specification in 3GPP TS 36.579-4 [5]). Where appropriate the
Abstract Test Suites belonging to the present specification may refer to other
Abstract Test Suites e.g. 3GPP TS 36.523-3 [27] for test requirements related
to the EPS (LTE) bearers which carry the Mission Critical services data.
The present document is valid for TTCN development for Mission Critical
services clients\' conformance tests according to 3GPP Releases starting from
Release 14 up to the Release indicated on the cover page of the present
document.
# 2 References
The following documents contain provisions which, through reference in this
text, constitute provisions of the present document.
\- References are either specific (identified by date of publication, edition
number, version number, etc.) or non‑specific.
\- For a specific reference, subsequent revisions do not apply.
\- For a non-specific reference, the latest version applies. In the case of a
reference to a 3GPP document (including a GSM document), a non-specific
reference implicitly refers to the latest version of that document _in the
same Release as the present document_ unless the context in which the
reference is made suggests a different Release is relevant (information on the
applicable release in a particular context can be found in e.g. test case
title, description or applicability, message description or content).
[1] 3GPP TR 21.905: \"Vocabulary for 3GPP Specifications\".
[2] 3GPP TS 36.579-1: \"Mission Critical (MC) services over LTE; Part 1:
Common test environment\".
[3] 3GPP TS 36.579-2: \"Mission Critical (MC) services over LTE; Part 2:
Mission Critical Push To Talk (MCPTT) User Equipment (UE) Protocol conformance
specification\".
[4] 3GPP TS 36.579-3: \"Mission Critical (MC) services over LTE; Part 3:
Mission Critical Push To Talk (MCPTT) Server Application conformance
specification\".
[5] 3GPP TS 36.579-4: \"Mission Critical (MC) services over LTE; Part 4: Test
Applicability and Implementation Conformance Statement (ICS) proforma
specification\".
[6] 3GPP TS 36.523-1: \"User Equipment (UE) conformance specification; Part 1:
Protocol conformance specification\"
[7] 3GPP TS 22.179: \"Mission Critical Push To Talk (MCPTT) over LTE; Stage
1\".
[8] Void.
[9] 3GPP TS 24.379: \"Mission Critical Push To Talk (MCPTT) call control;
Protocol specification\".
[10] 3GPP TS 24.380: \"Mission Critical Push To Talk (MCPTT) floor control;
Protocol specification\".
[11] 3GPP TS 24.481: \"Mission Critical Services (MCS) group management;
Protocol specification\".
[12] 3GPP TS 24.482: \"Mission Critical Services (MCS) identity management;
Protocol specification\".
[13] 3GPP TS 24.483: \"Mission Critical Services (MCS) Management Object
(MO)\".
[14] 3GPP TS 24.484: \"Mission Critical Services (MCS) configuration
management; Protocol specification\".
[15] 3GPP TS 33.179: \"Security of Mission Critical Push-To-Talk (MCPTT)\".
[16] 3GPP TS 24.229: \"IP multimedia call control protocol based on Session
Initiation Protocol (SIP) and Session Description Protocol (SDP); Stage 3\".
[17] 3GPP TS 24.237: \"IP Multimedia Subsystem (IMS) Service Continuity; Stage
3\".
[18] 3GPP TS 29.468: \"Group Communication System Enablers for LTE (GCSE_LTE);
MB2 Reference Point; Stage 3\".
[19] 3GPP TS 24.301: \"Non-Access-Stratum (NAS) protocol for Evolved Packet
System (EPS); Stage 3\".
[20] 3GPP TS 24.008: \"Mobile Radio Interface Layer 3 specification; Core
Network Protocols; Stage 3\".
[21] 3GPP TS 23.003: \"Numbering, addressing and identification\".
[22] ISO/IEC 9646-1: \"Information technology - Open Systems Interconnection -
Conformance testing methodology and framework - Part 1: General concepts\".
[23] ISO/IEC 9646-7: \"Information technology - Open systems interconnection -
Conformance testing methodology and framework - Part 7: Implementation
Conformance Statements\".
[24] 3GPP TS 23.303: \"Proximity-based services (ProSe); Stage 2\".
[25] IETF RFC 4566 (July 2006): \"SDP: Session Description Protocol\".
[26] 3GPP TS 26.171: \"Speech codec speech processing functions; Adaptive
Multi-Rate - Wideband (AMR-WB) speech codec; General description\".
[27] 3GPP TS 36.523-3: \"Evolved Universal Terrestrial Radio Access (E-UTRA)
and Evolved Packet Core (EPC); User Equipment (UE) conformance specification;
Part 3: Test suites\".
[28] 3GPP TS 34.229-3: \"Internet Protocol (IP) multimedia call control
protocol based on Session Initiation Protocol (SIP) and Session Description
Protocol (SDP); User Equipment (UE) conformance specification; Part 3:
Abstract Test Suites (ATS)\".
[29] ISO/IEC 9646-1: \"Information technology - Open Systems Interconnection -
Conformance testing methodology and framework - Part 1: General concepts\".
[30] ISO/IEC 9646-7: \"Information technology - Open systems interconnection -
Conformance testing methodology and framework - Part 7: Implementation
Conformance Statements\".
[31] ETSI ES 201 873: \"Methods for Testing and Specification (MTS); The
Testing and Test Control Notation version 3\".
[32] IETF RFC 3711: \"The Secure Real-time Transport Protocol (SRTP)\".
[33] 3GPP TS 27.007: \"AT command set for User Equipment (UE)\".
[34] IETF RFC 4661: \"An Extensible Markup Language (XML)-Based Format for
Event Notification Filtering\".
[34] IETF RFC 4826: \"Extensible Markup Language (XML) Formats for
Representing Resource Lists\".
[35] W3C: \"XML Encryption Syntax and Processing Version 1.1\",
https://www.w3.org/TR/xmlenc-core1/.
[36] W3C: \"XML Signature Syntax and Processing (Second Edition)\",
http://www.w3.org/TR/xmldsig-core/.
[37] OMA - poc_listService-v1_0: \"List Service\".
[40] OMA - xdm_commonPolicy-V1_0: \"XDM - Common Policy\".
[39] OMA - xdm_extensions-v1_0: \"XDM - XDM2 - Extensions\".
[40] OMA - xdm_rsrclst_uriusage-v1_0: \"Resource List - URI usage\".
[41] W3C: \"XML Encryption Syntax and Processing Version 1.1\",
https://www.w3.org/TR/xmlenc-core1/.
[42] W3C: \"XML Signature Syntax and Processing (Second Edition)\",
http://www.w3.org/TR/xmldsig-core/.
[43] 3GPP TS 33.180: \"Security of the mission critical service\".
[44] IETF RFC 6507: \"Elliptic Curve-Based Certificateless Signatures for
Identity-Based Encryption (ECCSI)\".
[45] IETF RFC 6508: \"Sakai-Kasahara Key Encryption (SAKKE)\".
[46] IETF RFC 6509 (February 2012): \'\'MIKEY-SAKKE: Sakai-Kasahara Key
Encryption in Multimedia Internet KEYing (MIKEY)\'\'.
[47] IETF RFC 3394: \"Advanced Encryption Standard (AES) Key Wrap Algorithm\".
[48] W3C: \"XML Signature Syntax and Processing (Second Edition)\",
http://www.w3.org/TR/xmldsig-core/.
[49] IETF RFC 7515: \"JSON Web Signature (JWS)\".
[50] IETF RFC 5261: \"An Extensible Markup Language (XML) Patch Operations
Framework Utilizing XML Path Language (XPath) Selectors\".
[51] IETF RFC 5874: \"An Extensible Markup Language (XML) Document Format for
Indicating a Change in XML Configuration Access Protocol (XCAP) Resources\".
[52] IETF RFC 4354: \"A Session Initiation Protocol (SIP) Event Package and
Data Format for Various Settings in Support for the Push-to-Talk over Cellular
(PoC) Service\".
[53] IETF RFC 3986: \"Uniform Resource Identifier (URI): Generic Syntax\".
[54] 3GPP TS 23.280: \"Common functional architecture to support mission
critical services\".
[55] 3GPP TS 24.281: \"Mission Critical Video (MCVideo) signalling control;
Protocol specification\"
[56] 3GPP TS 24.581: \"Mission Critical Video (MCVideo) media plane control;
Protocol specification\"
[57] 3GPP TS 24.282: \"Mission Critical Data (MCData) signalling control;
Protocol specification\"
[58] 3GPP TS 24.582: \"Mission Critical Data (MCData) media plane control;
Protocol specification\"
[59] 3GPP TS 36.579-6: \"Mission Critical (MC) services over LTE; Part 6:
Mission Critical Video (MCVideo) User Equipment (UE) Protocol conformance
specification\"
[60] 3GPP TS 36.579-7: \"Mission Critical (MC) services over LTE; Part 7:
Mission Critical Data (MCData) User Equipment (UE) Protocol conformance
specification\"
> [61] 3GPP TS 36.508: \"Evolved Universal Terrestrial Radio Access (E-UTRA)
> and Evolved Packet Core (EPC); Common Test Environments for User Equipment
> (UE) Conformance Testing\".
>
> [62] IETF RFC 4122: \"A Universally Unique IDentifier (UUID) URN Namespace\"
[63] IETF RFC 5245: \"Interactive Connectivity Establishment (ICE): A Protocol
for Network Address Translator (NAT) Traversal for Offer/Answer Protocols\"
[64] IETF RFC 3830: \"MIKEY: Multimedia Internet KEYing\".
[65] IETF RFC 6509 (February 2012): \'\'MIKEY-SAKKE: Sakai-Kasahara Key
Encryption in Multimedia Internet KEYing (MIKEY)\'\'.
[66] IETF RFC 6043: \"MIKEY-TICKET: Ticket-Based Modes of Key Distribution in
Multimedia Internet KEYing (MIKEY)\".
[67] IETF RFC 3550: \"RTP: A Transport Protocol for Real-Time Applications\".
[68] IETF RFC 4975: \"The Message Session Relay Protocol (MSRP)\".
[69] IETF RFC 2616: \"Hypertext Transfer Protocol -- HTTP/1.1\".
# 3 Definitions, symbols and abbreviations
## 3.1 Definitions
For the purposes of the present document, the terms and definitions given in
3GPP TR 21.905 [1] and the following apply. A term defined in the present
document takes precedence over the definition of the same term, if any, in
3GPP TR 21.905 [1].
In addition for the purposes of the present document, the following terms,
definitions, symbols and abbreviations apply:
\- such given in ISO/IEC 9646-1 [22] and ISO/IEC 9646-7 [23]
NOTE: Some terms and abbreviations defined in [22] and [23] are explicitly
included below with small modification to reflect the terminology used in
3GPP.
**Implementation eXtra Information for Testing (IXIT)** : A statement made by
a supplier or implementer of an UEUT which contains or references all of the
information (in addition to that given in the ICS) related to the UEUT and its
testing environment, which will enable the test laboratory to run an
appropriate test suite against the UEUT.
**IXIT proforma:** A document, in the form of a questionnaire, which when
completed for an UEUT becomes an IXIT.
**Protocol Implementation Conformance Statement (PICS):** An ICS for an
implementation or system claimed to conform to a given protocol specification.
**Protocol Implementation eXtra Information for Testing (PIXIT):** An IXIT
related to testing for conformance to a given protocol specification.
## 3.2 Symbols
No specific symbols have been identified so far.
## 3.3 Abbreviations
For the purposes of the present document, the abbreviations given in 3GPP TR
21.905 [1] and the following apply. An abbreviation defined in the present
document takes precedence over the definition of the same abbreviation, if
any, in 3GPP TR 21.905 [1].
ASP Abstract Service Primitive
ICS Implementation Conformance Statement
IXIT Implementation eXtra Information for Testing
MC Mission Critical
MCData Mission Critical Data
MCPTT Mission Critical Push To Talk
MCS Mission Critical Services
MCVideo Mission Critical Video
PTC Parallel Test Component
RTCP RTP Control Protocol
RTP Real-time Transport Protocol
SRTCP Secure RTCP
SRTP Secure RTP
SS System Simulator
SSRC Synchronization SouRCe
TC Test Case
UE User Equipment
# 4 Test system architecture
## 4.1 General system architecture
The architecture specified in TS 36.523-3 [27] applies to the present
document.
## 4.2 Component architecture
The architecture specified in TS 36.523-3 [27] applies to the present
document, with the exception that only one RAT, E-UTRAN, is within the scope
of the present document.
# 5 Test models
## 5.1 MCX test model with TTCN based E-UTRA/EPC implementation (MCX EUTRA
test model)
### 5.1.1 MCX Client on-network test model
The MCX Client on-network test model is depicted in figure 5.1.1-1. The test
model consists of an IMS component and an HTTP component, on top of the multi-
testers test model (E-UTRA) specified in TS 34.229-3 [28]. These parallel test
components (PTCs) handle the IMS and HTTP signalling asynchronously.
The IMS PTC controls the IPCanEmu and the IP PTC. IPCanEmu is responsible for
handling the E-UTRA cell(s) configuration in the SS as well as the E-UTRA/EPC
level signalling and related procedures. The IPCanEmu is based on the TTCN
implementation used for E-UTRA/EPC conformance testing according to TS
36.523-3 [27]. The IP PTC controls the IP related configurations as described
in TS 36.523-3[27]. In addition there is an SRTP port at the MCX IMS PTC
mapped to the system interface to configure SRTP/SRTCP for media streams and
media control messages (see clause 7.1.1.3). The media control messages are
exchanged between TTCN and the system simulator via the IP PTC\'s IP_SOCK port
(see clause 7.1.1.4 and clause 7.1.1.5) whereas the media stream messages are
handled by the SS (see clause 7.1.1.5).
Figure 5.1.1-1: MCX Client on-network test model with TTCN based E-UTRA/EPC
implementation
### 5.1.2 MCX Client off-network test model
This test model is not supported by the present version of the specification.
## 5.2 MCX test model with SS based E-UTRA/EPC implementation (MCX IPCAN test
model)
### 5.2.1 MCX Client on-network test model
In contrast to the MCX EUTRA test model the MCX IPCAN test model shown in
figure 5.2.1-1 uses an external E-UTRA/EPC (black-box) implementation which is
integrated in the system simulator. In general this E-UTRA/EPC implementation
shall be conformant in terms of TS 36.508 [61] but this is out of the scope
for the MCX IPCAN test model as long as the E-UTRA/EPC implementation obeys
the commands at the system interface as specified in annex E.
NOTE: Whether or how the MCX IPCAN test model may use other IP-connectivity
access networks is out of scope of this specification.
Figure 5.2.1-1: MCX Client on-network test model with SS based E-UTRA/EPC
implementation
As described in clause 5.4.1A of TS 36.579-1 [2] after switch on the UE may
register to an internet PDN, an IMS PDN and the MCX PDN. Nevertheless in TTCN
the MCX IPCAN test model supports signalling for the MCX PDN only: The IPCAN
test model does not handle any signalling for the other PDNs and especially
not the SIP signalling for an IMS registration to the IMS PDN.\ ⇒ It is up to
SS implementation to handle the potential registrations to an internet PDN
and/or an IMS PDN.
To avoid conflicts due to use of one and the same value at the SS and in TTCN,
the SS gets configured at the IPCAN configuration port (IPCANSYS) with the
information shown in table 5.2.1-1 and table 5.2.1-2.
Table 5.2.1-1: Default EPS bearer(s)
+----------------------------+----------+----------------------------+ | Parameter | PDN | Value/Comment (NOTE 1) | +============================+==========+============================+ | Bearer ID (NOTE 2) | MCX | px_MC | | | | X_IPCAN_EpsBearerId_MCX | +----------------------------+----------+----------------------------+ | | IMS | px_MC | | | | X_IPCAN_EpsBearerId_IMS | +----------------------------+----------+----------------------------+ | | Internet | px_MCX_IP | | | | CAN_EpsBearerId_INTERNET | +----------------------------+----------+----------------------------+ | NW IP address | MCX | Not configured at IPCAN | | | | interface but used by | | | | TTCN: | | | | | | | | px_IPv4_Address1_NW, | | | | px_IPv6_Address1_NW | +----------------------------+----------+----------------------------+ | | IMS | px_IPv4_Address2_NW, | | | | px_IPv6_Address2_NW | +----------------------------+----------+----------------------------+ | | Internet | px_IPv4_Address3_NW, | | | | px_IPv6_Address3_NW | +----------------------------+----------+----------------------------+ | UE IP address | MCX | Not configured at IPCAN | | | | interface but used by | | | | TTCN: | | | | | | | | px_IPv4_Address1_UE, | | | | px_IPv6_Address1_UE | +----------------------------+----------+----------------------------+ | | IMS | px_IPv4_Address2_UE, | | | | px_IPv6_Address2_UE | +----------------------------+----------+----------------------------+ | | Internet | px_IPv4_Address3_UE, | | | | px_IPv6_Address3_UE | +----------------------------+----------+----------------------------+ | NOTE 1: Values may change | | | | depending on TTCN | | | | implementation | | | | | | | | NOTE 2: The DRB associated | | | | with the EPS bearer shall | | | | have the DRB ID := EPS | | | | Bearer ID -- 4. | | | +----------------------------+----------+----------------------------+
Table 5.2.1-2: Dedicated EPS bearer(s)
Parameter Service Value/Comment (NOTE 1)
* * *
Bearer ID (NOTE 2) MCPTT px_MCX_IPCAN_DedicatedEpsBearerId_MCPTT  
MCVideo px_MCX_IPCAN_DedicatedEpsBearerId_MCVideo  
MCData px_MCX_IPCAN_DedicatedEpsBearerId_MCData  
Packet filters MCPTT Audio Remote port range tsc_MCX_MediaPort_Audio ..
tsc_MCX_MediaPort_Audio + 1 Protocol UDP Media Control Single remote port
tsc_MCX_MediaControlPortNW Protocol UDP MCVideo Audio Remote port range
tsc_MCX_MediaPort_Audio .. tsc_MCX_MediaPort_Audio + 1 Protocol UDP Video
Remote port range tsc_MCX_MediaPort_Video .. tsc_MCX_MediaPort_Video + 1
Protocol UDP Media Control Single remote port tsc_MCX_MediaControlPortNW
Protocol UDP MCData Single remote port tsc_MCData_MediaPort_MSRP Protocol TCP
NOTE 1, 2: see Table 5.2.1-1.
# 6 System interface
## 6.1 Upper tester interface
The Upper Tester (UT) interface is the same as defined in TS 36.523-3 [27]
clause 5, with additional IMS-specific AT commands as specified in TS 34.229-3
[28] clause 8.4 and IMS-specific MMI commands as specified in TS 34.229-3 [28]
annex B.2.
The following MMI commands are defined.
Table 6.1-1: MMI commands
Command Parameters ResultString
* * *
                       Name           Value
"MCX_USERACTION" "UserAction" \ (none) "MCX_USERCHECK" "UserCheck"
\ \"YES\" if the check is successful, \"NO\" otherwise
"MCX_GROUP_CALL" *Uri" \ (none)
The following AT commands are applied in TTCN.
Table 6.1-2.: AT Commands
* * *
Command Reference AT+CAPTT TS 27.007 [33]
* * *
## 6.2 Abstract system primitives
This clause specifies the abstract system primitives (ASPs) used on the system
interface to configure and control the SS. The MCX test system interface re-
uses the ASPs specified in TS 36.523-3 [27] (see clause 6 and Annex D) and TS
34.229-3 [28] (see clause 6).
# 7 Test methods and design considerations
## 7.0 Introduction
The present document focusses on on-network client test cases for MCPTT (TS
36.579-2 [3]), MCVideo (TS 36.579-6 [59]) and MCData (TS 36.579-7 [60]). The
major test behaviour and the verdict assignment of the test cases happens at
the MCX IMS PTC and the MCX HTTP PTC as shown in Figure 5.2.1-1 and Figure
5.2.1-2.
## 7.1 Media plane signalling
In addition to the HTTP and SIP signalling over control plane as used for the
procedures in TS 24.379 [9], TS 24.281 [55] and TS 24.281 [57] there are MCX-
specific procedures using the media plane as specified in TS 24.380 [10], TS
24.581 [56] and TS 24.581 [58].
### 7.1.1 MCPTT
#### 7.1.1.1 Void
#### 7.1.1.2 UDP/IP handling
The same mechanisms specified in TS 36.523-3 [27] for UDP/IP configuration and
Routing Table configuration are applied.
For MCPTT test cases with RTP/RTCP media streams, the TTCN shall configure the
loopback mode specified in TS 36.523-3 [27] subclause 4.2.4.4.
#### 7.1.1.3 RTP/RTCP handling
The RTP/RTCP loopback mechanism specified in TS 36.523-3 [27] applies as
baseline.
MCPTT test cases require SRTP (secure RTP) for their media stream, which means
that the loopback mechanism needs to be enhanced: the RTP/RTCP packet in
uplink needs to be decrypted with the Rx or uplink key, encrypted with the Tx
or downlink key and then sent back to the UE.
TTCN controls the usage of security for SRTP/SRTCP and provides the necessary
security parameters to the SS via the SRTP port. Once security has been
configured by TTCN, the SS shall handle media plane encryption and decryption.
The SRTP system interface is defined in Annex C.
#### 7.1.1.4 Media Control handling
MCPTT requires that media control messages for floor control and pre-
established session control according to TS 24.380 [10] are made available and
handled in TTCN as structured messages.
TTCN uses the IP PTC to handle the UDP socket for media plane control
messages: Encoded UDP datagrams are exchanged between the MCX IMS PTC and the
IP PTC. The Client\'s port number is retrieved from the SDP signalling during
connection establishment.
Media plane security is configured at the SRTP system port: The SS gets the
information how to identify the UDP packets to be encrypted and decrypted
together with the key material and the security policy parameters (see annex
C).
#### 7.1.1.5 SS pseudo-algorithm for RTP / RTCP / Media Plane Control handling
The following summarizes the requirements on the SS with regards to RTP / RTCP
/ Media Control handling within the SS:
\- Uplink direction:
\- Upon reception of an SRTP/SRTCP packet, the SS shall extract the UDP
payload and decrypt it using the RX crypto parameters of the respective
connection.
In case of an RTP packet or an RTCP packet associated with the (RTP) media
stream the SS shall\ apply the RTP/RTCP loopback as specified in clause
4.2.4.4 of TS 36.523-3 [27] with the following clarification:\ The SS shall
replace the SSRC in the SRTP/SRTCP packet (octets 8 to 11 for SRTP and octets
4 to 7 for SRTCP, see IETF RFC 3711 [32] clauses 3.1 and 3.4) by the SSRC as
configured at the SS for this connection.\ The SS shall encrypt the packet
using the crypto parameters configured for the connection.-
\- For RTCP APP packets the generic mechanisms of the IP test model according
to clause 4.2 of TS 36.523-3 [27] apply: A UDP socket is configured by TTCN
with corresponding entry in the common IP routing table so that the UDP
packets are routed to the IP PTC which routes them to the MCX IMS PTC via the
UDPHANDLER/Media_CTRL ports. Decoding of the media control messages is done in
TTCN using TTCN-3\'s decvalue function.
\- Downlink direction:
TTCN encodes media control messages using TTCN-3\'s encvalue function and
sends the resulting datagram via the UDPHANDLER/Media_CTRL ports to the IP PTC
and from there to the UDP socket configured at the SS. The SS shall encrypt
the packet as according to the SRTP configuration for the connection and send
it to the remote end.
### 7.1.2 MCVideo
The same principles apply as specified for MCPTT in clause 7.1.1 with the
difference that the media plane control signalling is the transmission control
protocol of TS 24.581 [56].
### 7.1.3 MCData
For MCData the Message Session Relay Protocol (MSRP) according to RFC 4975
[68] is used for test cases using the media plane. MSRP uses TCP as transport
protocol.
The encoding, decoding and handling of the MSRP messages is done at the MCX
IMS PTC which exchanges the encoded MSRP messages with the generic TCP handler
of the IP PTC as shown in Figure 5.2.1-1 and Figure 5.2.1-2.
The routing of the MSRP IP data is configured according to the IP Test Model
of TS 36.523-3 [27] clause 4.2.4.
7.2 MCX functional architecture: HTTP, SIP
7.2.1 HTTP-Signalling
Figure 7.2.1-1 shows the functional architecture for HTTP-Signalling between
the MCX-capable UE and different network entities as emulated by the test
models.
Figure 7.2.1-1: Functional architecture for HTTP-Signalling
The UE is expected to establish HTTP connections to the following entities:
\- Initial Configuration Server:\ The UE gets configured with IP address
(px_MCX_InitialConfigServer_IPAddress) and port number
(px_MCX_InitialConfigServer_Port) of the server from which it retrieves the
MCS UE initial configuration document (TS 24.484 [14] clause 7.2).\ It depends
on UE implementation how the IP address and port are configured at the UE but
the UE is expected to support this to be configured.\ As there is no
requirement by the core specs the HTTP connection is not security protected.
\- IdMS AUTH Endpoint:\ The UE retrieves IP address
(px_MCX_IdMS_auth_IPAddress) and port number (px_MCX_IdMS_auth_Port) from the
MCS UE initial configuration document (TS 24.484 [14] clause 7.2).\ The
connection shall be TLS protected.
\- IdMS TOKEN Endpoint:\ The UE retrieves IP address
(px_MCX_IdMS_token_IPAddress) and port number (px_MCX_IdMS_token_Port) from
the MCS UE initial configuration document (TS 24.484 [14] clause 7.2).\ The
connection shall be TLS protected.
\- HTTP Proxy:\ The UE retrieves IP address (px_MCX_HTTP_Proxy_IPAddress) and
port number (px_MCX_HTTP_Proxy_Port) from the MCS UE initial configuration
document (TS 24.484 [14] clause 7.2).\ The connection shall be TLS protected.
Design considerations and working assumptions:
\- Domain Name Server\ DNS is not needed for address resolution as in the URIs
of the network entities in the MCS UE initial configuration document the IP
address of the respective entity can be used as host name.
\- Initial UE configuration\ The UE is able to retrieve the MCS UE initial
configuration document (TS 24.484 [14] clause 7.2) via an HTTP connection to
an Initial Configuration Server. Other means of initial configuration are out
of scope for conformance testing.
\- HTTP signalling between UE and KMS\ The UE is expected to support HTTP
signalling with the KMS via the HTTP proxy using a transport key (TrK)
according to TS 33.180 [43] clause 4.3.3 and clause 5.3.2.
\- Use of TLS\ All HTTP traffic between the UE and the HTTP proxy and between
the UE and the IdMS is protected using HTTPS (TS 33.180 [43] clause 5.1.3.1,
clause 6.1.1 and B.12).\ NOTE: Even though NOTE 2 of TS 24.482 [12] clause
6.2.1 might be interpreted as if the HTTP signalling to the authorization
endpoint may not be TLS secured, 33.180 [43] mandates TLS to be used.
\- IP Addresses and port numbers\ IP addresses and port numbers of the network
entities as shown in figure 7.2.1-1 are given as PIXIT (see clause 9). As only
restriction the tuple {IP address, port number} needs to be unique for each
entity, but there is no restriction no to use one and the same IP address for
all entities as long as they use different port numbers.
\- According to TS 24.282 [57] clause 10.2.2.1 the HTTP signalling between the
MCData client and the media storage function (MSF) happens via an HTTP proxy
according to annex A of TS 24.482 [12]. It is assumed that this is the same
proxy as used for signalling with the KMS, CMS and GMS.
\- According to RFC 2616 [69] clause 5.1.2 HTTP requests via an HTTP proxy
require the Request-URI to be an absolute URI ⇒ HTTP requests to KMS, CMS and
GMS shall have an absolute URI as Request-URI.
7.2.2 SIP-Signalling
Figure 7.2.2-1 shows the functional architecture for SIP-Signalling between
the MCX-capable UE and different network entities as emulated by the test
model(s).
Figure 7.2.2-1: Functional architecture for SIP-Signalling
Regarding lower layer and IP signalling there are no differences compared to
the IMS test model (TS 34.229-3 [28]).
The SIP signalling between the UE and the network entities is as specified in
the test cases and according to common procedures and message content in TS
36.579-1 [2] with the following clarifications:
\- Dialogs between the Group Management Client (GMC) and the Group Management
Server (GMS)\ In general a GMC may subscribe to more than one GMS and TS
24.481 [11] shall be interpreted so that the GMC may even create more than one
dialog with a single GMS.\ NOTE 1: In principle this applies for the
Configuration Management Server too.\ NOTE 2: It is up to test case
specification to deal with the possible scenarios and combinations of dialogs.
\- Client Server Keys\ As not specified otherwise in the core specifications
(TS 24.379 [9], TS 24.481 [11], TS 24.484 [14] and TS 33.180 [43]), there are
no restriction for the UE regarding the CSK used in a dialog with the GMS(s),
the CMS or the MCX server.\ ⇒ In general for CSK upload the UE may create and
use different CSKs for the different servers and even for one and the same
server the UE may use different CSKs for different dialogs. Furthermore a CSK
download by the MCX server affects the communication between the MCX client
and the MCX server only but not the CSKs used in any existing or future
dialogs with a GMS or CMS; i.e. when the UE creates a dialog with a GMS or CMS
after CSK download, it may use the downloaded CSK or any other CSK.
## 7.3 Interactive connectivity establishment (ICE) for pre-established
session
According to TS 24.379 [9] for establishment of a pre-established session in
general the MCPTT client shall gather ICE candidates according to RFC 5245
[63] and provide the candidates in the SDP offer of the initial SIP INVITE.
Similar to the client the MCPTT server shall provide ICE candidates in its SDP
answer and in general the client starts connectivity checks according to RFC
5245 [63].
Nevertheless, to reduce the test model requirements, the server side (at the
system simulator) can be a lite implementation according to RFC 5245 [63] and
as reflected in the default message contents for SDP Messages from the SS in
TS 36.579-1 [2].
In addition - as working assumption - the UE shall be configured as lite
implementation too.
⇒ When both ends are lite implementations none of them will start connectivity
checks. Furthermore, there is no need for emulation for a STUN server for the
client to gather ICE candidates as a lite implementation only includes host
candidates for any media stream (RFC 5245 [63] clause 2.7).
**Conclusion:\** As long as there are no test requirements regarding ICE and
as long as clients can be configured as lite implementations there are no ICE
specific requirements for the test model.
# 8 Other SS requirements with TTCN-3 impact
## 8.1 Codec requirements
In addition to the requirements specified in TS 36.523-3 [27] clause 8.1 and
TS 34.229-3 [28] clause 7 the codec requirements of table 8.1-1 shall be
applied.
Table 8.1-1: Codec requirements
Type definitions Codec requirements Encoding rule in TTCN-3
* * *
MIKEY_TypeDefs RFC 3830 [64] clause 6 with extensions in RFC 6509 [65] and RFC
6043 [66] MIKEY-Codec MIKEY_MCX_Extension_TypeDefs TS 33.180 [43] Annex E.6
Key Parameter Payload Types MCDataMessage_TypeDefs TS 24.282 [57] clause 15
MCData Messages MCPTT_MediaControl_TypeDefs  
FloorControl_Group TS 24.380 [10] clause 8.2 FloorCtrlCodec
PreestablishedSessionControl_Group TS 24.380 [10] clause 8.3
PreestablishedSessionCtrlCodec MCVideo_TransmissionControl_TypeDefs TS 24.581
[56] clause 9 TransmissionCtrlCodec
## 8.2 External function definitions
The external functions specified in TS 36.523-3 [27] clause 8.2 apply to the
present document.
In addition there are the following MCX specific external functions:
* * *
TTCN-3 External Function
* * *
Name **fx_SAKKE_GeneratePublicKey**
Description Generate KMS public key (Z_T) for SAKKE (RFC 6508 [45] clause
2.2):\  
Z_T := [z_T]P
Parameters p_MasterSecret master secret z_T (octetstring)
                             p\_ParameterSet                                                           parameter set to be used; 1 per default, indicating use of parameter set 1 as defined in appendix A of RFC 6509 \[46\]
Return Value octetstring
* * *
* * *
TTCN-3 External Function
* * *
Name **fx_SAKKE_GenerateRSK**
Description Generate receiver secret key (RSK) for SAKKE (RFC 6508 [45] clause
2.2):\  
RSK := [(a + z_T)\^-1]P\  
with \'a\' being the identifier (UID) corresponding to the receiver\'s URI
Parameters p_MasterSecret master secret z_T (octetstring)
                             p\_Identifier                                                                 UID for a given URI (octetstring)
                             p\_ParameterSet                                                               parameter set to be used; 1 per default, indicating use of parameter set 1 as defined in appendix A of RFC 6509 \[46\]
Return Value octetstring
* * *
* * *
TTCN-3 External Function
* * *
Name **fx_SAKKE_EncapsulateKey**
Description Generate encapsulated data for SAKKE exchange according to RFC
6508 [45]
Parameters p_SSV Shared secret value (octetstring): Key to be exchanged;\
according to 33.180 [43] E.1.1:\ The GMK, PCK, CSK and MuSiK shall be 16
octets in length
                             p\_SakkePublicKey                                                            SAKKE public key (octetstring) generated with fx\_SAKKE\_GeneratePublicKey
                             p\_UID                                                                       UID (octetstring) generated for the receiving entity\'s URI (in general the same URI as in IDRr payload of the MIKEY message carrying the encapsulated data)
                             p\_ParameterSet                                                              parameter set to be used; 1 per default, indicating use of parameter set 1 as defined in appendix A of RFC 6509 \[46\]
Return Value octetstring
* * *
TTCN-3 External Function
* * *
Name **fx_SAKKE_ExtractKey**  
Description Extract and validate 16 octet key from the encapsulated date for
SAKKE exchange according to RFC 6508 [45] clause 6.2.2: if validation fails
(TEST does not equal R_(b,S)) then omit shall be returned  
Parameters p_EncapsulatedData encapsulated data (octetstring) as received in
the SAKKE payload of a MIKEY message p_SakkeRSK receiver secret key (RSK) for
SAKKE (octetstring) p_SakkePublicKey SAKKE public key (octetstring) generated
with fx_SAKKE_GeneratePublicKey p_UID UID (octetstring) generated for the
receiving entity\'s URI (should be the same URI as in IDRr payload of the
MIKEY message carrying the encapsulated data p_ParameterSet parameter set to
be used; 1 per default, indicating use of parameter set 1 as defined in
appendix A of RFC 6509 [46] Return Value template (omit) octetstring (16
octets if the key valid, omit otherwise)
+----------------------+----------------------+----------------------+ | TTCN-3 External | | | | Function | | | +======================+======================+======================+ | Name | **fx_E | | | | CCSI_GenerateKPAK** | | +----------------------+----------------------+----------------------+ | Description | Generate KMS Public | | | | Authentication Key | | | | (KPAK) for ECCSI | | | | (RFC 6507 [44] | | | | clause 4.2):\ | | | | KPAK := [KSAK]G | | | | | | | | The P-256 elliptic | | | | curve, base point | | | | and SHA-256 function | | | | as according to RFC | | | | 6509 [46] clause | | | | 2.1.1 shall be used. | | +----------------------+----------------------+----------------------+ | Parameters | p_KSAK | KMS Secret | | | | Authentication Key | | | | (KSAK): random | | | | secret non-zero | | | | integer modulo q | | | | (octetstring) | +----------------------+----------------------+----------------------+ | Return Value | octetstring | | +----------------------+----------------------+----------------------+
+----------------------+----------------------+----------------------+ | TTCN-3 External | | | | Function | | | +======================+======================+======================+ | Name | **fx_ECCSI_ | | | | GenerateSskPvtPair** | | +----------------------+----------------------+----------------------+ | Description | Generate (SSK,PVT) | | | | Pair according to | | | | clause 5.1.1 of RFC | | | | 6507 [44]; if | | | | either the SSK or HS | | | | is zero modulo q | | | | (step 5 of the | | | | algorithm), the | | | | function shall | | | | return omit | | | | | | | | The P-256 elliptic | | | | curve, base point | | | | and SHA-256 function | | | | as according to RFC | | | | 6509 [46] clause | | | | 2.1.1 shall be used. | | +----------------------+----------------------+----------------------+ | Parameters | p_UID | User ID | | | | (octetstring) | +----------------------+----------------------+----------------------+ | | p_KSAK | KMS Secret | | | | Authentication Key | | | | (KSAK) (octetstring) | +----------------------+----------------------+----------------------+ | | p_KPAK | KMS Public | | | | Authentication Key | | | | (KPAK) (octetstring) | +----------------------+----------------------+----------------------+ | | p_EphemeralValue | random (ephemeral) | | | | non-zero integer | | | | value v according to | | | | RFC 6507 [44] | | | | clause 5.1.1 | +----------------------+----------------------+----------------------+ | Return Value | template (omit) type | | | | record | | | | ECC | | | | SI_SskPvtPair_Type | | | | { | | | | | | | | octetstring SSK, | | | | | | | | octetstring PVT | | | | | | | | } | | +----------------------+----------------------+----------------------+
+----------------------+----------------------+----------------------+ | TTCN-3 External | | | | Function | | | +======================+======================+======================+ | Name | **fx_ | | | | ECCSI_SignMessage** | | +----------------------+----------------------+----------------------+ | Description | Sign a message | | | | according to RFC | | | | 6507 [44] clause | | | | 5.2.1:\ | | | | return signature of | | | | the message or omit | | | | if HE + r * SSK is | | | | non-zero modulo q | | | | (step 4 of the | | | | algorithm) | | | | | | | | The P-256 elliptic | | | | curve, base point | | | | and SHA-256 function | | | | as according to RFC | | | | 6509 [46] clause | | | | 2.1.1 shall be used. | | +----------------------+----------------------+----------------------+ | Parameters | p_Message | Message to be signed | | | | (octetstring) | +----------------------+----------------------+----------------------+ | | p_KPAK | KMS Public | | | | Authentication Key | | | | (KPAK) (octetstring) | +----------------------+----------------------+----------------------+ | | p_UID | Signer\'s User ID | | | | (octetstring) | +----------------------+----------------------+----------------------+ | | p_SSK | Secret Signing Key | | | | (octetstring) | +----------------------+----------------------+----------------------+ | | p_PVT | Public Validation | | | | Token (octetstring) | +----------------------+----------------------+----------------------+ | | p_EphemeralValue | random (ephemeral) | | | | non-zero integer | | | | value j according to | | | | RFC 6507 [44] | | | | clause 5.2.1 | +----------------------+----------------------+----------------------+ | Return Value | template (omit) | | | | octetstring | | +----------------------+----------------------+----------------------+
+----------------------+----------------------+----------------------+ | TTCN-3 External | | | | Function | | | +======================+======================+======================+ | Name | **fx_ECCS | | | | I_VerifySignature** | | +----------------------+----------------------+----------------------+ | Description | Verify a signature | | | | according to RFC | | | | 6507 [44] clause | | | | 5.2.2: | | | | | | | | return true, when | | | | the signature is | | | | valid, false | | | | otherwise | | | | | | | | The P-256 elliptic | | | | curve, base point | | | | and SHA-256 function | | | | as according to RFC | | | | 6509 [46] clause | | | | 2.1.1 shall be used. | | +----------------------+----------------------+----------------------+ | Parameters | p_Message | Message | | | | (octetstring) | +----------------------+----------------------+----------------------+ | | p_Signature | Message\'s signature | | | | (octetstring) | +----------------------+----------------------+----------------------+ | | p_KPAK | KMS Public | | | | Authentication Key | | | | (KPAK) (octetstring) | +----------------------+----------------------+----------------------+ | | p_UID | Signer\'s User ID | | | | (octetstring) | +----------------------+----------------------+----------------------+ | Return Value | boolean | | +----------------------+----------------------+----------------------+
+----------------------+----------------------+----------------------+ | TTCN-3 External | | | | Function | | | +======================+======================+======================+ | Name | **fx_XML_Encrypt** | | +----------------------+----------------------+----------------------+ | Description | Encrypt data | | | | | | | | NOTE: the function | | | | is defined similar | | | | to openssl_encrypt | | | | and in principle it | | | | is independent from | | | | XML; nevertheless it | | | | is used for XML | | | | encrytion in context | | | | of MCX | | +----------------------+----------------------+----------------------+ | Parameters | p_Data | (octetstring) | +----------------------+----------------------+----------------------+ | | p_Method | type enumerated | | | | XML_En | | | | cryptionMethod_Type | | | | { | | | | | | | | AES_128_GCM, // | | | | AES-GCM according to | | | | clause 5.2.4 of | | | | | | | | // | | | | https://www.w3. | | | | org/TR/xmlenc-core1/ | | | | [41] | | | | | | | | // with 96 bit | | | | Initialization | | | | Vector and | | | | | | | | //128 bit | | | | Authentication Tag | | | | | | | | AES_256_KEY_WRAP | | | | // according to RFC | | | | 3394 [47] | | | | | | | | } | +----------------------+----------------------+----------------------+ | | p_Key | key for encryption | | | | (bitstring) | +----------------------+----------------------+----------------------+ | | p_IV | initial vector | | | | (octetstring) | +----------------------+----------------------+----------------------+ | Return Value | octetstring | In case of an | | | | authenticated | | | | encryption mechanism | | | | (e.g. AES_128_GCM) | | | | the Authentication | | | | Tag is added at the | | | | end of the encrypted | | | | data. | +----------------------+----------------------+----------------------+
+----------------------+----------------------+----------------------+ | **TTCN-3 External | | | | Function** | | | +======================+======================+======================+ | **Name** | **fx_XML_Decrypt** | | +----------------------+----------------------+----------------------+ | **Description** | Decrypt data | | +----------------------+----------------------+----------------------+ | **Parameters** | p_Data | In case of an | | | | authenticated | | | | encryption mechanism | | | | (e.g. AES_128_GCM) | | | | the input data is | | | | the concatination of | | | | the encrypted data | | | | and Authentication | | | | Tag\ | | | | (octetstring) | +----------------------+----------------------+----------------------+ | | p_Method | type enumerated | | | | XML_En | | | | cryptionMethod_Type | | | | { | | | | | | | | AES_128_GCM, // | | | | AES-GCM according to | | | | clause 5.2.4 of\ | | | | // | | | | [https: | | | | //www.w3.org/TR/xmle | | | | nc-core1/]{.underlin | | | | e} | | | | [41]\ | | | | // with 96 bit | | | | Initialization | | | | Vector and\ | | | | //128 bit | | | | Authentication Tag | | | | | | | | AES_256_KEY_WRAP | | | | // according to RFC | | | | 3394 [47] | | | | | | | | } | +----------------------+----------------------+----------------------+ | | p_Key | key for encryption | | | | (bitstring) | +----------------------+----------------------+----------------------+ | | p_IV | initial vector | | | | (octetstring) | +----------------------+----------------------+----------------------+ | **Return Value** | octetstring | | +----------------------+----------------------+----------------------+
+----------------------+----------------------+----------------------+ | TTCN-3 External | | | | Function | | | +======================+======================+======================+ | Name | **fx_MCX_XML_Add | | | | EnvelopedSignature** | | +----------------------+----------------------+----------------------+ | Description | Add XML signature to | | | | the given XML | | | | document and return | | | | resulting XML | | | | document; | | | | | | | | according to W3C: | | | | \"XML Signature | | | | Syntax and | | | | Processing (Second | | | | Edition)\" [48]: | | | | | | | | 1. The given | | | | document has a | | | | Signature element | | | | with the name of the | | | | key to be used to | | | | sign the | | | | Signature\'s | | | | SignedInfo | | | | | | | | 2. Elements(s) to | | | | be signed: For | | | | elements which are | | | | addressed by a | | | | reference URI in the | | | | Signature\'s | | | | SignedInfo the | | | | DigestValue shall be | | | | generated and added | | | | to the corresponding | | | | Reference element of | | | | the Signature\'s | | | | SignedInfo | | | | | | | | 3. The SignedInfo | | | | shall be signed by | | | | generating the hash | | | | for the Signature\'s | | | | SignedInfo using the | | | | given key; this hash | | | | value shall be added | | | | to the Signature\'s | | | | SignatureValue. | | +----------------------+----------------------+----------------------+ | Parameters | p_XmlDocument | XML document | | | | (charstring) to be | | | | signed; the document | | | | contains all | | | | information to get | | | | signed with the | | | | given key: | | | | | | | | - id(s) for the | | | | object(s) to be | | | | signed (e.g. KMS | | | | response) | | | | | | | | - SignedInfo with | | | | reference(s) to | | | | objects to be signed | | | | within the document | | | | (\"same-document\" | | | | reference(s) | | | | according to RFC | | | | 3986 [53] clause | | | | 4.4), | | | | DigestAlgorithm, | | | | empty DigestValue | +----------------------+----------------------+----------------------+ | | p_Key | Key corresponding to | | | | the KeyName in the | | | | Signature\'s KeyInfo | | | | element (bitstring) | +----------------------+----------------------+----------------------+ | Return Value | universal charstring | | | | containing the | | | | document with all | | | | DigestValues and the | | | | signature of the | | | | SignedInfo | | +----------------------+----------------------+----------------------+
* * *
**TTCN-3 External Function**
* * *
**Name** **fx_MCX_XML_CreateDetachedSignature**
**Description** Create XML signature for the given XML document and return
resulting (encoded) XML signature (detached signature); according to TS 33.180
[43] clause 9.3.5, TS 24.379 [9] clause 6.6.3.1 and W3C: \"XML Signature
Syntax and Processing (Second Edition)\" [48]:\  
p_SignatureInfo contains the parameters needed to create the signature and to
sign the document; the whole document gets signed irrespective of the
Reference URI
**Parameters** p_XmlDocument XML document to be signed
                                 p\_XmldsigDocument                                                                                                                                                                                                                                                         XML xmldsig document with signature element containing all information to sign the document (p\_XmlDocument)
                                 p\_Key                                                                                                                                                                                                                                                                     Key corresponding to the KeyName in the Signature\'s KeyInfo element
**Return Value** universal charstring XML xmldsig document with DigestValue
and SignatureValue added to p_XmldsigDocument
* * *
+----------------------+----------------------+----------------------+ | **TTCN-3 External | | | | Function** | | | +======================+======================+======================+ | **Name** | **fx_XML\ | | | | _GetElementContent** | | +----------------------+----------------------+----------------------+ | **Description** | Return content of | | | | the node in an XML | | | | tree or XML branch | | | | as pointed at by the | | | | xpath expression | | +----------------------+----------------------+----------------------+ | **Parameters** | p_XmlBranch | XML tree (including | | | | the root element) or | | | | branch ot an XML | | | | tree | +----------------------+----------------------+----------------------+ | | p_XpathExpression | XCAP expression | | | | according to | | | | https: | | | | //www.w3.org/TR/1999 | | | | /REC-xpath-19991116/ | +----------------------+----------------------+----------------------+ | **Return Value** | universal charstring | string containing | | | | the content of the | | | | element or empty | | | | string if | | | | p_XpathExpression | | | | does not address an | | | | existing element of | | | | the given XML branch | | | | | | | | NOTE: if the element | | | | may be empty, it may | | | | be necessary to | | | | check existence of | | | | the element with | | | | fx_XML_GetElement | | | | first | +----------------------+----------------------+----------------------+
**TTCN-3 External Function**
* * *
**Name** **fx_XML_SetElementContent**  
**Description** Return XML tree or XML branch with replaced content of the
node pointed at by the xpath expression  
**Parameters** p_XmlBranch XML tree (including the root element) or branch ot
an XML tree p_XpathExpression XCAP expression according to
https://www.w3.org/TR/1999/REC-xpath-19991116/ p_NewContent new content for
the given node **Return Value** universal charstring modified XML tree or XML
branch
TTCN-3 External Function
* * *
Name **fx_SHA_1**  
Description Generic SHA-1 function  
Parameters p_Data data (octetstring) Return Value octetstring (hash value of
160 bits)
+----------------------+----------------------+----------------------+ | TTCN-3 External | | | | Function | | | +======================+======================+======================+ | Name | **fx_SHA_2** | | +----------------------+----------------------+----------------------+ | Description | Generic SHA-2 | | | | function | | +----------------------+----------------------+----------------------+ | Parameters | p_Function | type enumerated | | | | HASH_Function_Type | | | | { | | | | | | | | SHA_256 | | | | | | | | // may be extended | | | | e.g SHA_224 etc. | | | | | | | | } | +----------------------+----------------------+----------------------+ | | p_Data | data (octetstring) | +----------------------+----------------------+----------------------+ | Return Value | octetstring | | | | (representing 256 | | | | bits for SHA-256, | | | | 224 bits for | | | | SHA-224, ...) | | +----------------------+----------------------+----------------------+
+----------------------+----------------------+----------------------+ | TTCN-3 External | | | | Function | | | +======================+======================+======================+ | Name | ** | | | | fx_JWK_Signature** | | +----------------------+----------------------+----------------------+ | Description | Generate JWK | | | | signature according | | | | to RFC 7515 [49] | | +----------------------+----------------------+----------------------+ | Parameters | p_String | string for which the | | | | signature shall be | | | | generated | | | | (charstring) | +----------------------+----------------------+----------------------+ | | p_Algorithm | algorithm to | | | | generate the hash: | | | | | | | | type enumerated | | | | JWK\ | | | | _HashAlgorithm_Type | | | | { // RFC 7515 [49] | | | | | | | | HS256, // HMAC | | | | SHA-256 | | | | | | | | RS256 // | | | | RSASSA-PKCS1-v1_5 | | | | SHA-256 | | | | | | | | } | +----------------------+----------------------+----------------------+ | | p_Key | key (octetstring) | +----------------------+----------------------+----------------------+ | Return Value | charstring | | | | (base64url encoded | | | | signature according | | | | to RFC 7515 [49]) | | +----------------------+----------------------+----------------------+
TTCN-3 External Function
* * *
Name **fx_XML_Log**  
Description Log function for (unencrypted) XML documents  
Parameters p_FileName TTCN module from where the function is called p_LineNo
Line number from where the function is called p_UplinkDownlink XML document
has been received (UPLINK) or will be sent (DOWNLINK) p_XmlDocument XML
document
+----------------------+----------------------+----------------------+ | TTCN-3 External | | | | Function | | | +======================+======================+======================+ | Name | * | | | | _fx_AEAD_Encrypt_ * | | +----------------------+----------------------+----------------------+ | Description | Encrypt data using | | | | AEAD algorithms | | | | according to RFC | | | | 5116 | | +----------------------+----------------------+----------------------+ | Parameters | p_Data | (octetstring) | +----------------------+----------------------+----------------------+ | | p_AssociatedData | (octetstring) | +----------------------+----------------------+----------------------+ | | p_Method | type enumerated | | | | AEAD_En | | | | cryptionMethod_Type | | | | { | | | | | | | | AEAD_AES_128_GCM, | | | | // RFC 5116 clause | | | | 5.1 | | | | | | | | AEAD_AES_256_GCM | | | | // RFC 5116 clause | | | | 5.2 | | | | | | | | } | +----------------------+----------------------+----------------------+ | | p_Key | key for encryption | | | | (bitstring) | +----------------------+----------------------+----------------------+ | | p_IV | initial vector | | | | (octetstring) | +----------------------+----------------------+----------------------+ | Return Value | octetstring | Encrypted data | | | | appended by | | | | authentication tag | +----------------------+----------------------+----------------------+
+----------------------+----------------------+----------------------+ | **TTCN-3 External | | | | Function** | | | +======================+======================+======================+ | **Name** | * | | | | _fx_AEAD_Decrypt_ _| | +----------------------+----------------------+----------------------+ |__Description_ _| Decrypt data using | | | | AEAD algorithms | | | | according to RFC | | | | 5116 | | +----------------------+----------------------+----------------------+ |__Parameters_ _| p_Data | (octetstring) | +----------------------+----------------------+----------------------+ | | p_AssociatedData | (octetstring) | +----------------------+----------------------+----------------------+ | | p_Method | type enumerated | | | | AEAD_En | | | | cryptionMethod_Type | | | | { | | | | | | | | AEAD_AES_128_GCM, | | | | // RFC 5116 clause | | | | 5.1 | | | | | | | | AEAD_AES_256_GCM | | | | // RFC 5116 clause | | | | 5.2 | | | | | | | | } | +----------------------+----------------------+----------------------+ | | p_Key | key for decryption | | | | (bitstring) | +----------------------+----------------------+----------------------+ | | p_IV | initial vector | | | | (octetstring) | +----------------------+----------------------+----------------------+ |__Return Value_ * | octetstring | Decrypted data | +----------------------+----------------------+----------------------+
# 9 IXIT Proforma
## 9.1 General
This partial IXIT proforma contained in the present document is provided for
completion, when the related Abstract Test Suite is to be used against the
Implementation Under Test (IUT).
Text in italics is a comment for guidance for the production of an IXIT, and
is not to be included in the actual IXIT.
The completed partial IXIT will normally be used in conjunction with the
completed ICS, as it adds precision to the information provided by the ICS.
## 9.2 MCX
### 9.2.1 MCX Client PIXIT
Table 9.2.1-1: MCX Client Common PIXIT
+-------------+-------------+-------------+-------------+-------------+ | Parameter | Parameter | Default | Supported | Description | | Name | Type | Value | Values | | +-------------+-------------+-------------+-------------+-------------+ | **Client | | | | | | relevant | | | | | | IXIT** | | | | | +-------------+-------------+-------------+-------------+-------------+ | px_MCX_Cl | charstring | \"urn | | MCX client | | ient_B_ID | | :uuid:cdcd3 | | ID for a | | | | 4fb-c2f1-44 | | remote | | | | 88-a03a-6b5 | | user: As | | | | a5d360c47\" | | defined in | | | | | | TS 24.379 | | | | | | [9] | | | | | | clause 4.10 | | | | | | it is a | | | | | | UUID URN | | | | | | according | | | | | | to RFC 4122 | | | | | | [62], | | | | | | i.e. has | | | | | | the format | | | | | | \"urn | | | | | | :uuid:XXXXX | | | | | | XXX-YYYY-ZZ | | | | | | ZZ-yyyy-zzz | | | | | | zzzzzzzzz\" | +-------------+-------------+-------------+-------------+-------------+ | **Users | | | | | | relevant | | | | | | IXIT** | | | | | +-------------+-------------+-------------+-------------+-------------+ | px_MCPTT_ | charstring | \"mcptt | NOTE 1 | MCPTT user | | ID_User_A | | -user-A-id@ | | identity | | | | mcp | | (MCPTT ID) | | | | tt-op.gov\" | | which is a | | | | | | globally | | | | | | unique | | | | | | identifier | | | | | | within the | | | | | | MCPTT | | | | | | service | | | | | | that | | | | | | represents | | | | | | the MCPTT | | | | | | user. Ref. | | | | | | TS 24.483 | | | | | | [13]. | +-------------+-------------+-------------+-------------+-------------+ | px | charstring | | NOTE 1 | MCVideo | | _MCVideo_ | | | | user | | ID_User_A | | | | identity | | | | | | (MCVideo | | | | | | ID) which | | | | | | is a | | | | | | globally | | | | | | unique | | | | | | identifier | | | | | | within the | | | | | | MCVideo | | | | | | service | | | | | | that | | | | | | represents | | | | | | the MCVideo | | | | | | user. Ref. | | | | | | TS 24.483 | | | | | | [13]. | +-------------+-------------+-------------+-------------+-------------+ | p | charstring | | NOTE 1 | MCData user | | x_MCData_ | | | | identity | | ID_User_A | | | | (MCData ID) | | | | | | which is a | | | | | | globally | | | | | | unique | | | | | | identifier | | | | | | within the | | | | | | MCData | | | | | | service | | | | | | that | | | | | | represents | | | | | | the MCData | | | | | | user. Ref. | | | | | | TS 24.483 | | | | | | [13]. | +-------------+-------------+-------------+-------------+-------------+ | px\ | charstring | \"mcptt-use | | A | | _MCPTT_Use | | r-A-alias\" | | lphanumeric | | r_A_Alias | | | | alias of | | | | | | MCPTT user. | | | | | | Ref. TS | | | | | | 24.483 | | | | | | [13]. | +-------------+-------------+-------------+-------------+-------------+ | px_M | charstring | \" | | A | | CVideo_Use | | mcvideo-use | | lphanumeric | | r_A_Alias | | r-A-alias\" | | alias of | | | | | | MCVideo | | | | | | user. Ref. | | | | | | TS 24.483 | | | | | | [13]. | +-------------+-------------+-------------+-------------+-------------+ | px_ | charstring | \ | | A | | MCData_Use | | "mcdata-use | | lphanumeric | | r_A_Alias | | r-A-alias\" | | alias of | | | | | | MCData | | | | | | user. Ref. | | | | | | TS 24.483 | | | | | | [13]. | +-------------+-------------+-------------+-------------+-------------+ | px_MCPTT | charstring | \"mcp | | The value | | _ID_FA_A | | tt-FA-A-id@ | | is a | | | | mcp | | \"uri\" | | | | tt-op.gov\" | | attribute. | | | | | | TS 24 | | | | | | .483 [13] | | | | | | clau | | | | | | se 5.2.48W6 | +-------------+-------------+-------------+-------------+-------------+ | px_MCX_Us | charstring | \"first | | Participant | | er_A_Part | | responder\" | | type of the | | icipantType | | | | MCPTT user. | | | | | | Ref. TS | | | | | | 24.483 | | | | | | [13]. | +-------------+-------------+-------------+-------------+-------------+ | px\ | charstring | \"mcp | | Domain name | | _MCX_Domai | | tt-op.gov\" | | of the | | nName_Orga | | | | o | | nization_A | | | | rganization | | | | | | the user | | | | | | belongs to. | +-------------+-------------+-------------+-------------+-------------+ | px_ | charstring | \"M | | UE\'s User | | MCX_User_ | | CPTT#U01\" | | username | | A_username | | | | used for | | | | | | user | | | | | | aut | | | | | | hentication | +-------------+-------------+-------------+-------------+-------------+ | px_ | charstring | \"psw | | UE\'s User | | MCX_User_ | | \@MCPTT&7\" | | password | | A_password | | | | used for | | | | | | user | | | | | | aut | | | | | | hentication | +-------------+-------------+-------------+-------------+-------------+ | px_M | octetstring | | | Private key | | CX_TokenRs | | | | being used | | aPrivateKey | | | | to create | | | | | | signature | | | | | | for ID and | | | | | | Access | | | | | | Token | +-------------+-------------+-------------+-------------+-------------+ | p | bitstring | | | Transport | | x_MCX_TrK | | | | key for XML | | | | | | conf | | | | | | identiality | | | | | | and between | | | | | | the KMS and | | | | | | the MC KM | | | | | | client | | | | | | according | | | | | | to TS | | | | | | 33.180 | | | | | | [43] | | | | | | clause | | | | | | 9.3.3. | +-------------+-------------+-------------+-------------+-------------+ | px_M | B32_Type | | | Transport | | CX_TrK_ID | | | | key ID for | | | | | | XML | | | | | | conf | | | | | | identiality | | | | | | and between | | | | | | the KMS and | | | | | | the MC KM | | | | | | client | | | | | | according | | | | | | to TS | | | | | | 33.180 | | | | | | [43] | | | | | | clause | | | | | | 9.3.3. | +-------------+-------------+-------------+-------------+-------------+ | p | bitstring | | | Integrity | | x_MCX_InK | | | | protection | | | | | | key for XML | | | | | | conf | | | | | | identiality | | | | | | and between | | | | | | the KMS and | | | | | | the MC KM | | | | | | client | | | | | | according | | | | | | to TS | | | | | | 33.180 | | | | | | [43] | | | | | | clause | | | | | | 9.3.3. | +-------------+-------------+-------------+-------------+-------------+ | px_M | B32_Type | | | Integrity | | CX_InK_ID | | | | protection | | | | | | key ID for | | | | | | XML | | | | | | conf | | | | | | identiality | | | | | | and between | | | | | | the KMS and | | | | | | the MC KM | | | | | | client | | | | | | according | | | | | | to TS | | | | | | 33.180 | | | | | | [43] | | | | | | clause | | | | | | 9.3.3. | +-------------+-------------+-------------+-------------+-------------+ | px_MCPTT_ | charstring | \"mcptt | | MCPTT user | | ID_User_B | | -user-B-id@ | | identity | | | | mcp | | (MCPTT ID) | | | | tt-op.gov\" | | which is a | | | | | | globally | | | | | | unique | | | | | | identifier | | | | | | within the | | | | | | MCPTT | | | | | | service | | | | | | that | | | | | | represents | | | | | | the MCPTT | | | | | | user. Ref. | | | | | | TS 24.483 | | | | | | [13]. | +-------------+-------------+-------------+-------------+-------------+ | px | charstring | \"mcvideo | | MCVideo | | _MCVideo_ | | -user-B-id@ | | user | | ID_User_B | | mcp | | identity | | | | tt-op.gov\" | | (MCVideo | | | | | | ID) which | | | | | | is a | | | | | | globally | | | | | | unique | | | | | | identifier | | | | | | within the | | | | | | MCVideo | | | | | | service | | | | | | that | | | | | | represents | | | | | | the MCVideo | | | | | | user. Ref. | | | | | | TS 24.483 | | | | | | [13]. | +-------------+-------------+-------------+-------------+-------------+ | p | charstring | \"mcdata | | MCData user | | x_MCData_ | | -user-B-id@ | | identity | | ID_User_B | | mcp | | (MCData ID) | | | | tt-op.gov\" | | which is a | | | | | | globally | | | | | | unique | | | | | | identifier | | | | | | within the | | | | | | MCData | | | | | | service | | | | | | that | | | | | | represents | | | | | | the MCData | | | | | | user. Ref. | | | | | | TS 24.483 | | | | | | [13]. | +-------------+-------------+-------------+-------------+-------------+ | px_MCX_Us | charstring | \"first | | Participant | | er_B_Part | | responder\" | | type of the | | icipantType | | | | MCX user. | | | | | | Ref. TS | | | | | | 24.483 | | | | | | [13]. | +-------------+-------------+-------------+-------------+-------------+ | px_MCPTT_ | charstring | \"mcptt | | MCPTT user | | ID_User_C | | -user-C-id@ | | identity | | | | mcp | | (MCPTT ID) | | | | tt-op.gov\" | | which is a | | | | | | globally | | | | | | unique | | | | | | identifier | | | | | | within the | | | | | | MCPTT | | | | | | service | | | | | | that | | | | | | represents | | | | | | the MCPTT | | | | | | user. Ref. | | | | | | TS 24.483 | | | | | | [13]. | +-------------+-------------+-------------+-------------+-------------+ | px | charstring | \"mcvideo | | MCVideo | | _MCVideo_ | | -user-C-id@ | | user | | ID_User_C | | mcp | | identity | | | | tt-op.gov\" | | (MCVideo | | | | | | ID) which | | | | | | is a | | | | | | globally | | | | | | unique | | | | | | identifier | | | | | | within the | | | | | | MCVideo | | | | | | service | | | | | | that | | | | | | represents | | | | | | the MCVideo | | | | | | user. Ref. | | | | | | TS 24.483 | | | | | | [13]. | +-------------+-------------+-------------+-------------+-------------+ | p | charstring | \"mcdata | | MCData user | | x_MCData_ | | -user-C-id@ | | identity | | ID_User_C | | mcp | | (MCData ID) | | | | tt-op.gov\" | | which is a | | | | | | globally | | | | | | unique | | | | | | identifier | | | | | | within the | | | | | | MCData | | | | | | service | | | | | | that | | | | | | represents | | | | | | the MCData | | | | | | user. Ref. | | | | | | TS 24.483 | | | | | | [13]. | +-------------+-------------+-------------+-------------+-------------+ | px_MCX_Us | charstring | \"first | | Participant | | er_C_Part | | responder\" | | type of the | | icipantType | | | | MCX user. | | | | | | Ref. TS | | | | | | 24.483 | | | | | | [13]. | +-------------+-------------+-------------+-------------+-------------+ | px_MCPTT_ | charstring | \"mcptt | | MCPTT user | | ID_User_D | | -user-D-id@ | | identity | | | | mcp | | (MCPTT ID) | | | | tt-op.gov\" | | which is a | | | | | | globally | | | | | | unique | | | | | | identifier | | | | | | within the | | | | | | MCPTT | | | | | | service | | | | | | that | | | | | | represents | | | | | | the MCPTT | | | | | | user. Ref. | | | | | | TS 24.483 | | | | | | [13]. | +-------------+-------------+-------------+-------------+-------------+ | px | charstring | \"mcvideo | | MCVideo | | _MCVideo_ | | -user-D-id@ | | user | | ID_User_D | | mcp | | identity | | | | tt-op.gov\" | | (MCVideo | | | | | | ID) which | | | | | | is a | | | | | | globally | | | | | | unique | | | | | | identifier | | | | | | within the | | | | | | MCVideo | | | | | | service | | | | | | that | | | | | | represents | | | | | | the MCVideo | | | | | | user. Ref. | | | | | | TS 24.483 | | | | | | [13]. | +-------------+-------------+-------------+-------------+-------------+ | p | charstring | \"mcdata | | MCData user | | x_MCData_ | | -user-D-id@ | | identity | | ID_User_D | | mcp | | (MCData ID) | | | | tt-op.gov\" | | which is a | | | | | | globally | | | | | | unique | | | | | | identifier | | | | | | within the | | | | | | MCData | | | | | | service | | | | | | that | | | | | | represents | | | | | | the MCData | | | | | | user. Ref. | | | | | | TS 24.483 | | | | | | [13]. | +-------------+-------------+-------------+-------------+-------------+ | px_MCX_S | charstring | | | (First) | | IP_PublicU | | | | public user | | serId_A_1 | | | | id of the | | | | | | SIP | | | | | | subscriber | | | | | | (user A) as | | | | | | stored in | | | | | | the HSS and | | | | | | on the | | | | | | ISIM, if | | | | | | the UE has | | | | | | an ISIM; | | | | | | | | | | | | the | | | | | | parameter | | | | | | shall be a | | | | | | SIP URI | +-------------+-------------+-------------+-------------+-------------+ | px_MCX\ | charstring | | | Private | | _SIP_Priva | | | | user id of | | teUserId_A | | | | the SIP | | | | | | subscriber | | | | | | (user A) as | | | | | | stored in | | | | | | the HSS and | | | | | | on the | | | | | | ISIM, if | | | | | | the UE has | | | | | | an ISIM | +-------------+-------------+-------------+-------------+-------------+ | px_M | charstring | | | Home domain | | CX_SIP_Ho | | | | name of the | | meDomain_A | | | | SIP | | | | | | subscriber | | | | | | (user A) as | | | | | | stored in | | | | | | the HSS and | | | | | | on the | | | | | | ISIM, if | | | | | | the UE has | | | | | | an ISIM | +-------------+-------------+-------------+-------------+-------------+ | px_MCX | charstring | | | Public user | | _SIP_Publ | | | | id of user | | icUserId_B | | | | B | +-------------+-------------+-------------+-------------+-------------+ | px_MCX | charstring | | | Public user | | _SIP_Publ | | | | id of user | | icUserId_C | | | | C | +-------------+-------------+-------------+-------------+-------------+ | px_M | boolean | | | If true the | | CX_SIP_Re | | | | UE shall | | gistrationW | | | | derive the | | ithTemporar | | | | public user | | yIdentities | | | | id, private | | | | | | user id and | | | | | | home domain | | | | | | name from | | | | | | the IMSI | | | | | | for SIP | | | | | | r | | | | | | egistration | +-------------+-------------+-------------+-------------+-------------+ | **Groups | | | | | | relevant | | | | | | IXIT** | | | | | +-------------+-------------+-------------+-------------+-------------+ | p | charstring | \"mcptt-g | | Group ID | | x_MCPTT_G | | roup-A\@mcp | | for a | | roup_A_ID | | tt-op.gov\" | | group. | | | | | | Value is an | | | | | | \"uri\" | | | | | | attribute | | | | | | specified | | | | | | in | | | | | | OMA O | | | | | | MA-TS-XDM_ | | | | | | Group-V1_1 | | | | | | that | | | | | | indicates | | | | | | the group | | | | | | id. Ref. TS | | | | | | 24.483 | | | | | | [13]. | +-------------+-------------+-------------+-------------+-------------+ | px\ | charstring | \"mcvideo-g | | Group ID | | _MCVideo_G | | roup-A\@mcp | | for a | | roup_A_ID | | tt-op.gov\" | | group. | | | | | | Value is an | | | | | | \"uri\" | | | | | | attribute | | | | | | specified | | | | | | in | | | | | | OMA O | | | | | | MA-TS-XDM_ | | | | | | Group-V1_1 | | | | | | that | | | | | | indicates | | | | | | the group | | | | | | id. Ref. TS | | | | | | 24.483 | | | | | | [13]. | +-------------+-------------+-------------+-------------+-------------+ | px | charstring | \"mcdata-g | | Group ID | | _MCData_G | | roup-A\@mcp | | for a | | roup_A_ID | | tt-op.gov\" | | group. | | | | | | Value is an | | | | | | \"uri\" | | | | | | attribute | | | | | | specified | | | | | | in | | | | | | OMA O | | | | | | MA-TS-XDM_ | | | | | | Group-V1_1 | | | | | | that | | | | | | indicates | | | | | | the group | | | | | | id. Ref. TS | | | | | | 24.483 | | | | | | [13]. | +-------------+-------------+-------------+-------------+-------------+ | px\ | charstring | \"mcptt-gro | | A human | | _MCPTT_Gro | | up-A-name\" | | readable | | up_A_Name | | | | Group name | | | | | | for the | | | | | | group | +-------------+-------------+-------------+-------------+-------------+ | px_M | charstring | \" | | A human | | CVideo_Gro | | mcvideo-gro | | readable | | up_A_Name | | up-A-name\" | | Group name | | | | | | for the | | | | | | group | +-------------+-------------+-------------+-------------+-------------+ | px_ | charstring | \ | | A human | | MCData_Gro | | "mcdata-gro | | readable | | up_A_Name | | up-A-name\" | | Group name | | | | | | for the | | | | | | group | +-------------+-------------+-------------+-------------+-------------+ | px_M | charstring | \"m | | Indicates | | CX_Group_ | | cx-op.gov\" | | the | | A_Owner_O | | | | group\'s | | rganization | | | | owner | | | | | | o | | | | | | rganization | | | | | | the group | | | | | | belongs to. | | | | | | Ref. TS | | | | | | 24.483 | | | | | | [13]. | +-------------+-------------+-------------+-------------+-------------+ | px_M | charstring | \"AMR-WB\" | | Preferred | | CPTT_Group | | | | voice codec | | _A_prefer | | | | for the | | red_VCodec | | | | group (a | | | | | | RTP | | | | | | payload). | | | | | | MCPTT | | | | | | clients | | | | | | shall | | | | | | support the | | | | | | AMR-WB | | | | | | codec. | | | | | | | | | | | | RFC 4566 | | | | | | [25] | | | | | | | | | | | | TS 26.171 | | | | | | [26] | +-------------+-------------+-------------+-------------+-------------+ | p | charstring | \"mcptt-g | | Group ID | | x_MCPTT_G | | roup-B\@mcp | | for a | | roup_B_ID | | tt-op.gov\" | | group. | | | | | | Value is an | | | | | | \"uri\" | | | | | | attribute | | | | | | specified | | | | | | in | | | | | | OMA O | | | | | | MA-TS-XDM_ | | | | | | Group-V1_1 | | | | | | that | | | | | | indicates | | | | | | the group | | | | | | id. Ref. TS | | | | | | 24.483 | | | | | | [13]. | +-------------+-------------+-------------+-------------+-------------+ | px\ | charstring | \"mcvideo-g | | Group ID | | _MCVideo_G | | roup-B\@mcp | | for a | | roup_B_ID | | tt-op.gov\" | | group. | | | | | | Value is an | | | | | | \"uri\" | | | | | | attribute | | | | | | specified | | | | | | in | | | | | | OMA O | | | | | | MA-TS-XDM_ | | | | | | Group-V1_1 | | | | | | that | | | | | | indicates | | | | | | the group | | | | | | id. Ref. TS | | | | | | 24.483 | | | | | | [13]. | +-------------+-------------+-------------+-------------+-------------+ | px | charstring | \"mcdata-g | | Group ID | | _MCData_G | | roup-B\@mcp | | for a | | roup_B_ID | | tt-op.gov\" | | group. | | | | | | Value is an | | | | | | \"uri\" | | | | | | attribute | | | | | | specified | | | | | | in | | | | | | OMA O | | | | | | MA-TS-XDM_ | | | | | | Group-V1_1 | | | | | | that | | | | | | indicates | | | | | | the group | | | | | | id. Ref. TS | | | | | | 24.483 | | | | | | [13]. | +-------------+-------------+-------------+-------------+-------------+ | p | charstring | \"mcptt-g | | Group ID | | x_MCPTT_G | | roup-T\@mcp | | for a | | roup_T_ID | | tt-op.gov\" | | temporary | | | | | | group. | | | | | | Value is an | | | | | | \"uri\" | | | | | | attribute | | | | | | specified | | | | | | in | | | | | | OMA O | | | | | | MA-TS-XDM_ | | | | | | Group-V1_1 | | | | | | that | | | | | | indicates | | | | | | the group | | | | | | id. Ref. TS | | | | | | 24.483 | | | | | | [13]. | +-------------+-------------+-------------+-------------+-------------+ | px\ | charstring | \"mcvideo-g | | Group ID | | _MCVideo_G | | roup-T\@mcp | | for a | | roup_T_ID | | tt-op.gov\" | | temporary | | | | | | group. | | | | | | Value is an | | | | | | \"uri\" | | | | | | attribute | | | | | | specified | | | | | | in | | | | | | OMA O | | | | | | MA-TS-XDM_ | | | | | | Group-V1_1 | | | | | | that | | | | | | indicates | | | | | | the group | | | | | | id. Ref. TS | | | | | | 24.483 | | | | | | [13]. | +-------------+-------------+-------------+-------------+-------------+ | px | charstring | \"mcdata-g | | Group ID | | _MCData_G | | roup-T\@mcp | | for a | | roup_T_ID | | tt-op.gov\" | | temporary | | | | | | group. | | | | | | Value is an | | | | | | \"uri\" | | | | | | attribute | | | | | | specified | | | | | | in | | | | | | OMA O | | | | | | MA-TS-XDM_ | | | | | | Group-V1_1 | | | | | | that | | | | | | indicates | | | | | | the group | | | | | | id. Ref. TS | | | | | | 24.483 | | | | | | [13]. | +-------------+-------------+-------------+-------------+-------------+ | **Mi | | | | | | scellaneous | | | | | | IXIT** | | | | | +-------------+-------------+-------------+-------------+-------------+ | p | charstring | \"mcx-apn\" | | A single | | x_MCX_APN | | | | APN which | | | | | | the UE | | | | | | shall use | | | | | | to access | | | | | | each and | | | | | | all MCX | | | | | | relevant | | | | | | services. | | | | | | | | | | | | The APN is | | | | | | provided in | | | | | | the initial | | | | | | UE | | | | | | co | | | | | | nfiguration | | | | | | as | | | | | | specified | | | | | | in TS | | | | | | 36.579-1 | | | | | | [2] Table | | | | | | 5.5.8.1-1. | +-------------+-------------+-------------+-------------+-------------+ | px_MCX | MCX_R | mcx | ims, | First PDN | | _InitialRe | egistration | | internet, | registered | | gistration\ | _PDN_Type | | mcx | during | | _TypeOfPDN1 | | | | initial | | | | | | r | | | | | | egistration | | | | | | (either | | | | | | 'ims' or | | | | | | 'internet' | | | | | | or 'mcx'; | | | | | | 'none' is | | | | | | not | | | | | | applicable | | | | | | as first | | | | | | PDN) | +-------------+-------------+-------------+-------------+-------------+ | px_MCX | MCX_R | none | ims, | Second PDN | | _InitialRe | egistration | | internet, | registered | | gistration\ | _PDN_Type | | mcx, none | during | | _TypeOfPDN2 | | | | initial | | | | | | re | | | | | | gistration; | | | | | | in addition | | | | | | to 'ims' or | | | | | | 'internet' | | | | | | or 'mcx' it | | | | | | may be | | | | | | 'none' to | | | | | | indicate | | | | | | that there | | | | | | is no | | | | | | second PDN | | | | | | c | | | | | | onnectivity | | | | | | requested | | | | | | by the UE | | | | | | during | | | | | | initial | | | | | | r | | | | | | egistration | +-------------+-------------+-------------+-------------+-------------+ | px_MCX | MCX_R | none | ims, | Third PDN | | _InitialRe | egistration | | internet, | registered | | gistration\ | _PDN_Type | | mcx, none | during | | _TypeOfPDN3 | | | | initial | | | | | | re | | | | | | gistration; | | | | | | in addition | | | | | | to 'ims' or | | | | | | 'internet' | | | | | | or 'mcx' it | | | | | | may be | | | | | | 'none' to | | | | | | indicate | | | | | | that there | | | | | | is no third | | | | | | PDN | | | | | | c | | | | | | onnectivity | | | | | | requested | | | | | | by the UE | | | | | | during | | | | | | initial | | | | | | r | | | | | | egistration | +-------------+-------------+-------------+-------------+-------------+ | px_M | float | none | | Simulated | | CX_Coordin | | | | latitude | | ateLatitude | | | | value sent | | _Client_B | | | | to the UE | | | | | | to inform | | | | | | about | | | | | | Client_B | | | | | | location | +-------------+-------------+-------------+-------------+-------------+ | px_MC | float | none | | Simulated | | X_Coordina | | | | longitude | | teLongitude | | | | value sent | | _Client_B | | | | to the UE | | | | | | to inform | | | | | | about | | | | | | Client_B | | | | | | location | +-------------+-------------+-------------+-------------+-------------+ | NOTE 1: | | | | | | According | | | | | | to TS | | | | | | 23.280 | | | | | | [54] | | | | | | clause | | | | | | 8.1.2 a MC | | | | | | service ID | | | | | | shall be a | | | | | | URI; | | | | | | n | | | | | | evertheless | | | | | | in context | | | | | | of this | | | | | | sp | | | | | | ecification | | | | | | only URIs | | | | | | consisting | | | | | | of | | | | | | userinfo, | | | | | | host and | | | | | | path | | | | | | elements | | | | | | (see RFC | | | | | | 3986 | | | | | | [53]) are | | | | | | supported.\ | | | | | | Editor\'s | | | | | | note: A | | | | | | similar | | | | | | note may | | | | | | need to be | | | | | | added to | | | | | | other | | | | | | PIXITs too | | | | | +-------------+-------------+-------------+-------------+-------------+
### 9.2.2 MCX Server PIXIT
Table 9.2.2-1: MCX Server Common PIXIT
* * *
Parameter Name Parameter Type Default Value Supported Values Description
px_MCX_GroupCreationXUI charstring \"mcx-gms\@mcptt-op.gov\" Indicates the
group creation XUI information for creation of groups. Ref. TS 23.003 [21].
px_MCX_IdMS_auth_IPAddress charstring IPv4/IPv6 address of the IdMS
authorization endpoint px_MCX_IdMS_auth_Port integer Port number of the IdMS
authorization endpoint px_MCX_IdMS_auth_Certificate charstring Identifier or
file name of the certificate to be used during establishment of the TLS tunnel
to the IdMS authorization endpoint px_MCX_IdMS_token_IPAddress charstring
IPv4/IPv6 address of the IdMS token endpoint px_MCX_IdMS_token_Port integer
Port number of the IdMS token endpoint px_MCX_IdMS_token_Certificate
charstring Identifier or file name of the certificate to be used during
establishment of the TLS tunnel to the IdMS token endpoint
px_MCX_HTTP_Proxy_IPAddress charstring IPv4/IPv6 address of the HTTP proxy
px_MCX_HTTP_Proxy_Port integer Port number of the HTTP proxy
px_MCX_HTTP_Proxy_Certificate charstring Identifier or file name of the
certificate to be used during establishment of the TLS tunnel to the HTTP
proxy px_MCX_InitialConfigServer_IPAddress charstring IPv4/IPv6 address of the
server optionally being used to download the Initial UE Configuration document
px_MCX_InitialConfigServer_Port integer Port number of the server optionally
being used to download the Initial UE Configuration document
px_MCX_InitialConfigServer_UriPath charstring \"/cms/initial-ue-config\" URI
Path component: Absolute path used for HTTP requests addressing a server to
download the UE initial configuration document px_MCX_TLS_CipherSuite
TLS_CIPHER_Type TLS_RSA_WITH_NULL_SHA Cipher suite to be used for TLS
connections px_MCX_OAuth_ClientId_A charstring Client ID of the UE\'s MCX
application as used in OAuth signalling with the IdMS
px_MCX_OAuth_RedirectURI_A charstring Redirect URI used by the UE
implementation (user agent, MCX client and OS) to redirect the OAuth
authentication response to the MCX client application
* * *
### 9.2.3 MCX Constant PIXIT Definitions
Several parameters for MCX conformance testing can be defined as constants as
they are neither preconfigured at the UE nor at the SS. Table 9.2.3-1 lists
these constants.
Table 9.2.3-1: MCX Constant PIXIT Definitions
* * *
Constant Name Constant Type Value Description tsc_MCX_KMS_Hostname charstring
\"kms.\" & px_MCX_DomainName_Organization_A FQDN of the KMS; used in initial
UE configuration as domain name for the \'kms\' URI in the App-Server-Info.
tsc_MCX_CMS_Hostname charstring \"cms.\" & px_MCX_DomainName_Organization_A
FQDN of the CMS; used in initial UE configuration as domain name for the
\'cms\' URI in the App-Server-Info. tsc_MCX_GMS_Hostname charstring \"gms.\" &
px_MCX_DomainName_Organization_A FQDN of the GMS; used in initial UE
configuration as domain name for the \'gms\' URI in the App-Server-Info.
tsc_MCX_KMS_CertUri charstring \"certificate1.\" & tsc_MCX_KMS_Hostname Name
of the KMS certificate sent to the UE during MCX user authentication
tsc_MCX_IdMS_auth_UriPath charstring \"/idms/auth\" URI path to address the
IdMS authorization endpoint tsc_MCX_IdMS_token_UriPath charstring
\"/idms/token\" URI path to address the IdMS token endpoint
tsc_MCX_IdMS_userauth_UriPath charstring \"/idms/userauth\" relative URI at
IdMS used for user authentication tsc_MCX_KMS_init_UriPath charstring
\"/keymanagement/identity/v1/init\" Path of the Request-URI for \"KMS
Initialize\" request according to TS 33.180 [43] D.2.3
tsc_MCX_KMS_keyprov_UriPath charstring \"/keymanagement/identity/v1/keyprov\"
Path of the Request-URI for \"KMS KeyProvision\" request according to TS
33.180 [43] D.2.4 tsc_MCX_KMS_ClientReqUrl_init charstring \"https://\" &
tsc_MCX_KMS_Hostname & tsc_MCX_KMS_init_UriPath used as \ entry
in the KMS Key Set and as Request-URI for \"KMS Initialize\" request according
to TS 33.180 [43] D.2.3 (NOTE 1) tsc_MCX_KMS_ClientReqUrl charstring
\"https://\" & tsc_MCX_KMS_Hostname & tsc_MCX_KMS_keyprov_UriPath used as
\ entry in the KMS Key Set and as Request-URI for \"KMS
KeyProvision\" request according to TS 33.180 [43] D.2.4 (NOTE 1)
tsc_MCX_GMSURI charstring \"subscription-proxy.\" & tsc_MCX_GMS_Hostname used
for \ element in the MCS UE initial configuration document according
to TS 24.484 [14] clause 7.2.2.7 and TS 24.483 [13] clause 8.2.9; sub-domain
of the GMS\'s hostname tsc_MCX_CMSXCAPRootURI charstring \"http://xcap.\" &
tsc_MCX_CMS_Hostname used for \ element in the MCS UE
initial configuration document according to TS 24.484 [14] clause 7.2.2.7 and
TS 24.483 [13] clause 8.2.9C tsc_MCX_GMSXCAPRootURI charstring
\"http://xcap.\" & tsc_MCX_GMS_Hostname used for \ element
in the MCS UE initial configuration document according to TS 24.484 [14]
clause 7.2.2.7 and TS 24.483 [13] clause 8.2.9B tsc_MCX_MC_ID_User_A
charstring px_MCX_User_A_username According to TS 24.482 [12] clause 6.3.1 the
MC ID set to the user name tsc_MCPTT_PublicServiceId_A charstring \"sip:\" &
\"mcptt-server-A@\" & px_MCX_DomainName_Organization_A The URI of the MCPTT
Server which is simulated by the SS tsc_MCVideo_PublicServiceId_A charstring
\"sip:\" & \"mcvideo-server-A@\" & px_MCX_DomainName_Organization_A The URI of
the MCVideo Server which is simulated by the SS tsc_MCData_PublicServiceId_A
charstring \"sip:\" & \"mcdata-server-A@\" & px_MCX_DomainName_Organization_A
The URI of the MCData Server which is simulated by the SS
tsc_MCPTT_PublicServiceId_B charstring \"sip:\" & \"mcptt-server-B@\" &
px_MCX_DomainName_Organization_A The URI of a second MCPTT Server which is
implemented in the DUT used in MCPTT Server testing.
tsc_MCPTT_PublicServiceId_PF_A charstring \"sip:\" & \"participating-mcptt-
function-A@\" & px_MCX_DomainName_Organization_A The URI of the participating
MCPTT function which configures the location reporting at the UE according to
TS 24.379 [9] clause 13.2.2. tsc_MCVideo_PublicServiceId_PF_A charstring
\"sip:\" & \"participating-mcvideo-function-A@\" &
px_MCX_DomainName_Organization_A The URI of the participating MCVideo function
which configures the location reporting at the UE according to TS 24.281 [55]
clause 18.2.2. tsc_MCData_PublicServiceId_PF_A charstring \"sip:\" &
\"participating-mcdata-function-A@\" & px_MCX_DomainName_Organization_A The
URI of the participating MCData function which configures the location
reporting at the UE according to TS 24.282 [57] clause 17.2.2.
tsc_MCX_SessionID_B charstring \"sip:\" & \"sessionB\@cf.\" &
px_MCX_DomainName_Organization_A The URI of the MCPTT session B identity. Ref.
TS 24.483 [13]. SIP URI according to TS 24.379 [9] clause 4.5.
tsc_MCPTT_SessionId charstring \"sip:\" & \"mcptt-session-A\@cf.\" &
px_MCX_DomainName_Organization_A Service Id for MCPTT calls as used as Contact
URI of the MCPTT server tsc_MCVideo_SessionId charstring \"sip:\" & \"mcvideo-
session-A\@cf.\" & px_MCX_DomainName_Organization_A Service Id for MCVideo
calls as used as Contact URI of the MCVideo server tsc_MCData_SessionId
charstring \"sip:\" & \"mcdata-session-A\@cf.\" &
px_MCX_DomainName_Organization_A Service Id for MCData calls as used as
Contact URI of the MCData server tsc_MCData_MSF_Hostname charstring \"msf.\" &
px_MCX_DomainName_Organization_A Hostname of the message storage function
(MSF) tsc_MCData_MSF_URI charstring \"http://\" & tsc_MCData_MSF_Hostname &
\"/userA/files\" Absolute URI of the message storage function (MSF)
tsc_MCPTT_Group_A_ProSeLayer2GroupID octetstring \'00000A\'O Indicates the
Prose layer-2 group ID for the group. Ref. TS 23.303 [24].
tsc_MCPTT_Group_D_ProSeLayer2GroupID octetstring \'00000D\'O Indicates the
Prose layer-2 group ID for the group. Ref. TS 23.303 [24]. NOTE 1: According
to the NOTE at step 0 in clause 5.2.3 of TS 33.180 [43] the connection between
the KMS and the HTTP Proxy is secured and therefore the URIs of the KMS are
assumed to have "https" rather than "http" as scheme.
* * *
## 9.3 MCX IPCAN test model
Table 9.3-1: MCX IPCAN test model specific PIXIT
* * *
Parameter Name Parameter Type Default Value Supported Values Description
px_MCX_IPCAN_EpsBearerId_IMS MCX_IPCAN_EpsBearerId_Type 5 5..13 Default EPS
bearer for IMS PDN (if any) px_MCX_IPCAN_EpsBearerId_INTERNET
MCX_IPCAN_EpsBearerId_Type 6 5..13 Default EPS bearer for Internet PDN (if
any) px_MCX_IPCAN_EpsBearerId_MCX MCX_IPCAN_EpsBearerId_Type 7 5..13 Default
EPS bearer for MCX PDN px_MCX_IPCAN_DedicatedEpsBearerId_MCPTT
MCX_IPCAN_EpsBearerId_Type 8 5..13 Dedicated EPS bearer for MCPTT
px_MCX_IPCAN_DedicatedEpsBearerId_MCVideo MCX_IPCAN_EpsBearerId_Type 9 5..13
Dedicated EPS bearer for MCVideo px_MCX_IPCAN_DedicatedEpsBearerId_MCData
MCX_IPCAN_EpsBearerId_Type 10 5..13 Dedicated EPS bearer for MCData
* * *
# 10 Postambles
## 10.1 Introduction
The purpose of the present clause 10 is to specify the postambles used to
bring the UE to a well-defined state regardless of the UE state at the
termination of main test body or of the SS conditions and values of the system
information inherited from the test.
## 10.2 MCX
The postambles specified in TS 34.229-3 [28] are also applicable to MCX test
cases.
###### ## Annex A (normative): Test Suites
# A.1 Introduction
This annex references the approved Test Suites, which accompany the present
document. The Test Suites have been produced using the Testing and Test
Control Notation version 3 (TTCN-3) according to ES 201 873 [31].
# A.2 Baseline of specifications
Table A.2-1 lists the core specifications and test specifications, which the
delivered Test Suites are based upon.
Table A.2-1: References of the test and Core specifications
+-----------------------+--------------------+---------+---------+ | Type | Specification | Release | Version | +=======================+====================+=========+=========+ | Core specifications | TS 24.379 [9] | Note 1 | Note 2 | +-----------------------+--------------------+---------+---------+ | | TS 24.380 [10] | Note 1 | Note 2 | +-----------------------+--------------------+---------+---------+ | | TS 24.481 [11] | Note 1 | Note 2 | +-----------------------+--------------------+---------+---------+ | | TS 24.482 [12] | Note 1 | Note 2 | +-----------------------+--------------------+---------+---------+ | | TS 24.483 [13] | Note 1 | Note 2 | +-----------------------+--------------------+---------+---------+ | | TS 24.484 [14] | Note 1 | Note 2 | +-----------------------+--------------------+---------+---------+ | | TS 33.180 [43] | Note 1 | Note 2 | +-----------------------+--------------------+---------+---------+ | | TS 24.229 [16] | Note 1 | Note 2 | +-----------------------+--------------------+---------+---------+ | | TS 24.281 [55] | Note 1 | Note 2 | +-----------------------+--------------------+---------+---------+ | | TS 24.581 [56] | Note 1 | Note 2 | +-----------------------+--------------------+---------+---------+ | | TS 24.282 [57] | Note 1 | Note 2 | +-----------------------+--------------------+---------+---------+ | | TS 24.582 [58] | Note 1 | Note 2 | +-----------------------+--------------------+---------+---------+ | Test specifications | TS 36.579-1 [2] | Note 1 | Note 2 | +-----------------------+--------------------+---------+---------+ | | TS 36.579-2 [3] | Note 1 | Note 2 | +-----------------------+--------------------+---------+---------+ | | TS 36.579-4 [5] | Note 1 | Note 2 | +-----------------------+--------------------+---------+---------+ | | TS 36.579-6 [59] | Note 1 | Note 2 | +-----------------------+--------------------+---------+---------+ | | TS 36.579-7 [60] | Note 1 | Note 2 | +-----------------------+--------------------+---------+---------+ | NOTE 1: Latest | | | | | release available, up | | | | | to the release number | | | | | of the present | | | | | document. | | | | | | | | | | NOTE 2: Latest | | | | | available | | | | +-----------------------+--------------------+---------+---------+
# A.3 MCX Client Test Suites
## A.3.1 MCPTT Client Test Suites
Table A.3.1-1 lists all approved test cases from TS 36.579-2 [3].
**Table A.3.1-1: MCPTT Client TTCN test cases from TS 36.579-2 [3]**
**Test case** **Description**
* * *
5.1.MCPTT MCPTT / Configuration / Authentication / User Authorisation / UE
Configuration / User Profile 5.3.MCPTT MCPTT / Configuration / Group
Affiliation / Remote change / De-affiliation / Home MCPTT system 5.4.MCPTT
MCPTT / Configuration / Pre-established Session Establishment / Pre-
established Session Modification / Pre-established Session Release 5.6.MCPTT
Configuration / Downoad CSK 6.1.1.1.MCPTT MCPTT / On-network / On-demand Pre-
arranged Group Call / Automatic Commencement Mode / Floor Control / Upgrade to
Emergency Group Call / Cancel Emergency State / Upgrade to Imminent Peril
Group Call / Cancel Imminent Peril State / Client Originated (CO)
6.1.1.2.MCPTT MCPTT / On-network / On-demand Pre-arranged Group Call /
Automatic Commencement Mode / Floor Control / Upgrade to Emergency Group Call
/ Cancel Emergency State / Upgrade to Imminent Peril Group Call / Cancel
Imminent Peril State / Client Terminated (CT) 6.1.1.3.MCPTT MCPTT / On-network
/ On-demand Pre-arranged Group Call / Manual Commencement Mode / Client
Originated (CO) 6.1.1.4.MCPTT MCPTT / On-network / On-demand Pre-arranged
Group Call / Manual Commencement Mode / Client Terminated (CT) 6.1.1.5.MCPTT
MCPTT / On-network / Pre-arranged Group Call using pre-established session /
Client originated Pre-established Session Release with associated MCPTT
session / Client Originated (CO) 6.1.1.6.MCPTT MCPTT / On-network / Pre-
arranged Group Call using pre-established session / Automatic Commencement
Mode / Server originated Pre-established Session Release with associated MCPTT
session / Client Terminated (CT) 6.1.1.8.MCPTT MCPTT / On-network / Pre-
arranged Broadcast Group Call / Client Originated (CO) 6.1.1.9.MCPTT MCPTT /
On-network / Pre-arranged Broadcast Group Call / Client Terminated (CT)
6.1.1.10.MCPTT MCPTT / On-network / Broadcast Group Call with Temporary Group
/ Client Originated (CO) 6.1.1.11.MCPTT MCPTT / On-network / Pre-arranged
Emergency Group Call / Client Originated (CO) 6.1.1.12.MCPTT MCPTT / On-
network / Pre-arranged Emergency Group Call / Client Terminated (CT)
6.1.1.13.MCPTT MCPTT / On-network / Pre-Arranged Imminent Peril Group Call /
Client Originated (CO) 6.1.1.14.MCPTT MCPTT / On-network / Pre-Arranged
Imminent Peril Group Call / Client Terminated (CT) 6.1.1.16.MCPTT MCPTT / On-
network / Emergency Alert / Client Terminated (CT) 6.1.1.17.MCPTT On-network /
Broadcast Group Call using pre-established session / Client originated Pre-
established Session Release with associated MCPTT session / Client Originated
(CO) 6.1.1.18.MCPTT MCPTT / On-network / Broadcast Group Call using pre-
established session / Client originated Pre-established Session Release with
associated MCPTT session / Client Terminated (CT) 6.1.1.20.MCPTT On-network /
On-demand Pre-arranged Group Call / Multi Talker 6.1.1.21.MCPTT On-network /
On-demand Pre-arranged Group Call / No Implicit Floor Control / Client
Originated (CO) 6.1.2.7.MCPTT MCPTT / On-network / Chat Group Call / Emergency
Group Call / Client Originated (CO) 6.1.2.8.MCPTT MCPTT / On-network / Chat
Group Call / Emergency Group Call / Client Terminated (CT) 6.1.2.9.MCPTT MCPTT
/ On-network / Chat Group Call / Imminent Peril Group Call / Client Originated
(CO) 6.1.2.10.MCPTT MCPTT / On-network / Chat Group Call / Imminent Peril
Group Call / Client Terminated (CT) 6.1.2.11.MCPTT MCPTT / On-network / Chat
Group Call / Join Chat Group Session / Upgrade to Emergency / Cancel Emergency
/ Upgrade to Imminent Peril / Cancel Imminent Peril / Client Originated (CO)
6.1.2.12.MCPTT MCPTT / On-network / Chat Group Call / Upgrade to Emergency /
Cancel Emergency / Upgrade to Imminent Peril / Cancel Imminent Peril / Client
Originated (CT) 6.2.1.MCPTT MCPTT / On-network / Private Call / On-demand /
Automatic Commencement Mode / With Floor Control confidentiality and integrity
protection/ Upgrade to Emergency Call / Cancellation of Emergency on User
request / Client Originated (CO) 6.2.2.MCPTT MCPTT / On-network / Private Call
/ On-demand / Automatic Commencement Mode / With Floor Control confidentiality
and integrity protection/ Upgrade to Emergency Call / Cancellation of
Emergency on User request / Client Terminated (CT) 6.2.3.MCPTT MCPTT / On-
network / Private Call / On-demand / Automatic Commencement Mode / Without
Floor Control / Client Originated (CO) 6.2.4.MCPTT MCPTT / On-network /
Private Call / On-demand / Automatic Commencement Mode / Without Floor Control
/ Client Terminated (CT) 6.2.5.MCPTT MCPTT / On-network / Private Call /
Emergency Private Call / On-demand / Automatic Commencement Mode / Force of
automatic commencement mode / Without Floor Control / Client Originated (CO)
6.2.6.MCPTT MCPTT / On-network / Private Call / Emergency Private Call / On-
demand / Manual Commencement Mode / Force of automatic commencement mode /
Without Floor Control / Client Terminated (CT) 6.2.7.MCPTT MCPTT / On-network
/ Private Call / On-demand / Manual Commencement Mode / Without Floor Control
/ Client Originated (CO) 6.2.8.MCPTT MCPTT / On-network / Private Call / On-
demand / Manual Commencement Mode / Without Floor Control / Client Terminated
(CT) 6.2.15.MCPTT MCPTT / On-network / Private Call / Ambient listening call /
Remotely initiated Ambient listening call / Remotely initiated ambient
listening call release / Success / Client Terminated (CT) 6.2.16.MCPTT MCPTT /
On-network / Private Call / Ambient listening call / Locally initiated Ambient
listening call / Locally initiated ambient listening call release / Success /
Client Originated (CO) / Server initiated ambient call release 6.2.17.MCPTT
MCPTT / On-network / Private Call / Ambient listening call / Locally initiated
Ambient listening call / Locally initiated ambient listening call release /
Success / Client Terminated (CT)
## A.3.2 MCVideo Client Test Suites
None.
## A.3.3 MCData Client Test Suites
Table A.3.3-1 lists all approved test cases from TS 36.579-7 [60].
**Table A.3.3-1: MCData Client TTCN test cases from TS 36.579-7 [60]**
**Test case** **Description**
* * *
5.1.MCData Configuration / Authentication / User Authorization / UE
Configuration / User Profile / Key Generation 6.1.1.MCData On-network / Short
Data Service (SDS) / Standalone SDS Using Signaling Control Plane / One-to-one
Standalone SDS / Client Originated (CO) 6.1.3.MCData On-network / Short Data
Service (SDS) / Standalone SDS Using Signaling Control Plane / Group
Standalone SDS / Client Originated (CO) 6.1.4.MCData On-network / Short Data
Service (SDS) / Standalone SDS Using Signaling Control Plane / Group
Standalone SDS / Client Terminated (CT)
###### ## Annex B (informative): Style Guide
# B.1 Introduction
The style guide specified in TS 36.523-3 [27] Annex B applies to the present
document.
###### ## Annex C (normative): Common TTCN-3 Definitions
# C.0 Introduction
The present Annex C specifies the TTCN-3 type definitions used at the system
interface to configure and control the SS. The type definitions are common,
independent from test model.
In case of discrepancy between the content of the present Annex C and the
equivalent TTCN-3 definitions / semantic requirements found in the TTCN
modules provided as attachments to the present specification, the latter shall
take precedence.
> NOTE: This annex is automatically generated from the TTCN-3 modules provided
> as attachment to the present specification and containing the listed TTCN-3
> type definitions.
C.1 SRTP_ASP_TypeDefs
C.1.1 Type_Definitions
**SRTP_EncryptionAlgorithm_Type**
* * *
**TTCN-3 Enumerated Type**  
[]{#SRTP_EncryptionAlgorithm_Type .anchor}**Name**
**SRTP_EncryptionAlgorithm_Type** **Comment**  
Null RFC 3830 clause 6.10.1 AES_CM RFC 3830 clause 6.10.1 AES_F8 RFC 3830
clause 6.10.1 AES_GCM RFC 7714 clause 14.3
* * *
**SRTP_AuthenticationAlgorithm_Type**
* * *
**TTCN-3 Enumerated Type**  
[]{#SRTP_AuthenticationAlgorithm_Type .anchor}**Name**
**SRTP_AuthenticationAlgorithm_Type** **Comment**  
Null RFC 3830 clause 6.10.1 HMAC_SHA_1 RFC 3830 clause 6.10.1 RCCm1 RFC 4771
clause 4 RCCm2 RFC 4771 clause 4 RCCm3 RFC 4771 clause 4
* * *
**SRTP_PRF_Type**
* * *
**TTCN-3 Enumerated Type**  
[]{#SRTP_PRF_Type .anchor}**Name** **SRTP_PRF_Type** **Comment**  
AES_CM RFC 3830 clause 6.10.1
* * *
**SRTP_SecurityProfile_Type**
+-------------------+-------------------+-----+-------------------+ | **TTCN-3 Record | | | | | Type** | | | | +-------------------+-------------------+-----+-------------------+ | []{#SRTP_Sec | **SRTP_Securi | | | | urityProfile_Type | tyProfile_Type** | | | | .anchor}**Name** | | | | +-------------------+-------------------+-----+-------------------+ | **Comment** | parameters for | | | | | SRTP security | | | | | profiles | | | | | according to | | | | | 33.180 annex E: | | | | | | | | | | - Table E.2.2-1 | | | | | (RTP group call: | | | | | GMK) | | | | | | | | | | - Table E.3.2-1 | | | | | (RTP private | | | | | call: PCK) | | | | | | | | | | - Table E.4.2-1 | | | | | (RTCP: CSK and | | | | | MuSiK)): | | | | | | | | | | The parameters | | | | | may be | | | | | con | | | | | tained/negotiated | | | | | in MIKEY Security | | | | | Policy Payload | | | | | (RFC 3830) | | | +-------------------+-------------------+-----+-------------------+ | En | [SRTP_Enc | | SRTP type 0; RFC | | cryptionAlgorithm | ryptionAlgorithm\ | | 3830 clause | | | _Type]{.underline | | 6.10.1 | | | } | | | +-------------------+-------------------+-----+-------------------+ | SessionEn | integer | | SRTP type 1; RFC | | cryptionKeyLength | | | 3830 clause | | | | | 6.10.1 | +-------------------+-------------------+-----+-------------------+ | Authen | [ | opt | SRTP type 2; RFC | | ticationAlgorithm | SRTP_Authenticat | | 3830 clause | | | ionAlgorithm_Typ | | 6.10.1 | | | e]{.underline} | | | +-------------------+-------------------+-----+-------------------+ | Ses | integer | | SRTP type 4; RFC | | sionSaltKeyLength | | | 3830 clause | | | | | 6.10.1 | +-------------------+-------------------+-----+-------------------+ | PRF | [SRTP_PRF_ | | SRTP type 5; RFC | | | Type]{.underline} | | 3830 clause | | | | | 6.10.1 | +-------------------+-------------------+-----+-------------------+ | KeyDerivationRate | integer | | SRTP type 6; RFC | | | | | 3830 clause | | | | | 6.10.1 | +-------------------+-------------------+-----+-------------------+ | ROC\ | integer | opt | SRTP type 13; RFC | | _TransmissionRate | | | 4771 clause 4 | +-------------------+-------------------+-----+-------------------+ | SRTP_Authen | integer | opt | SRTP type 18; RFC | | ticationTagLength | | | 4771 clause 4 | +-------------------+-------------------+-----+-------------------+ | SRTCP_Authen | integer | opt | SRTP type 19; RFC | | ticationTagLength | | | 4771 clause 4 | +-------------------+-------------------+-----+-------------------+ | AEAD_Authen | integer | | SRTP type 20; RFC | | ticationTagLength | | | 7714 clause 14.3 | +-------------------+-------------------+-----+-------------------+
**SRTP_KeyInfo_Type**
+-------------------+-------------------+-----+-------------------+ | **TTCN-3 Record | | | | | Type** | | | | +-------------------+-------------------+-----+-------------------+ | []{# | **SRTP | | | | SRTP_KeyInfo_Type | _KeyInfo_Type** | | | | .anchor}**Name** | | | | +-------------------+-------------------+-----+-------------------+ | **Comment** | SRTP Master Key, | | | | | SRTP Master Salt | | | | | and MKI according | | | | | to 33.180 clauses | | | | | 7.4.1, 7.4.2 and | | | | | 9.4.6, RFC 3830 | | | | | and RFC 3711 | | | +-------------------+-------------------+-----+-------------------+ | MasterKey | octetstring | | SRTP master key | | | | | according to RFC | | | | | 3711 (128 bits) | +-------------------+-------------------+-----+-------------------+ | MasterSalt | octetstring | | SRTP master salt | | | | | according to RFC | | | | | 3711 and RFC 7714 | | | | | (96 bits): | | | | | | | | | | 33.180 clauses | | | | | 7.5 and 9.4.8 | | | | | specify the | | | | | AE | | | | | AD_AES_128_GCM | | | | | algorithm as | | | | | defined in RFC | | | | | 7714 to be used | | | | | for | | | | | confidentiality | | | | | and data | | | | | authentication of | | | | | the media stream | | | | | and the media | | | | | control data. | | | | | | | | | | RFC 7714 | | | | | specifies in | | | | | clause 12 a | | | | | master salt | | | | | length of 96 and | | | | | in clause 11 that | | | | | the AES_CM PRF | | | | | KDF according to | | | | | RFC 3711 shall be | | | | | used. | | | | | | | | | | Nevertheless RFC | | | | | 3711 clause 8.2 | | | | | requires a master | | | | | salt length of | | | | | 112. | | | | | | | | | | This | | | | | contradiction is | | | | | resolved by the | | | | | RFC Errata for | | | | | RFC 7714: | | | | | | | | | | The master salt | | | | | shall be 96 bit | | | | | in the first | | | | | place (as | | | | | according to RFC | | | | | 7714) but then | | | | | multiplied by | | | | | 2\^16 to fit to | | | | | the requirements | | | | | of RFC 3711 (112 | | | | | bit). | | | | | | | | | | => MasterSalt | | | | | provides a 96-bit | | | | | value which needs | | | | | to be padded by | | | | | the system | | | | | adaptor to get | | | | | the 112-bit | | | | | master salt as | | | | | needed according | | | | | to RFC 3711 | +-------------------+-------------------+-----+-------------------+ | MKI | octetstring | opt | SRTP Master Key | | | | | Identifier: if | | | | | not present => | | | | | no MKI to be | | | | | added to the | | | | | SRTP/SRTCP packet | +-------------------+-------------------+-----+-------------------+
**SRTP_Config_Type**
* * *
**TTCN-3 Record Type**  
[]{#SRTP_Config_Type .anchor}**Name** **SRTP_Config_Type**  
**Comment** SRTP configuration parameters  
KeyInfo [SRTP_KeyInfo_Type]{.underline}  
SecurityProfile [SRTP_SecurityProfile_Type]{.underline}
* * *
**SRTP_Connection_Type**
+-------------------+-------------------+-----+-------------------+ | **TTCN-3 Record | | | | | Type** | | | | +-------------------+-------------------+-----+-------------------+ | []{#SRT | **SRTP_C | | | | P_Connection_Type | onnection_Type** | | | | .anchor}**Name** | | | | +-------------------+-------------------+-----+-------------------+ | **Comment** | configuration | | | | | parameters for a | | | | | single (UDP) | | | | | connection | | | +-------------------+-------------------+-----+-------------------+ | Connection | [IP_ | | RTP/RTCP | | | Connection_Type] | | configuration | | | {.underline} | | for packets | | | | | matching the | | | | | given Connection: | | | | | | | | | | in general a | | | | | connection is | | | | | given by | | | | | | | | | | Protocol := udp | | | | | | | | | | Local := { IP | | | | | address of the | | | | | SS, port number | | | | | at the SS } | | | | | | | | | | Remote := omit | | | | | | | | | | (but other | | | | | matching criteria | | | | | may be used if | | | | | needed) | | | | | | | | | | NOTE: TTCN shall | | | | | ensure that | | | | | different | | | | | connection can be | | | | | identified | | | | | without ambiguity | | | | | (in general even | | | | | the local port | | | | | number should be | | | | | sufficient) | +-------------------+-------------------+-----+-------------------+ | LocalSSRC | [O4_Type]{.unde | | SSRC of the SS | | | rline} | | | +-------------------+-------------------+-----+-------------------+ | SRTP_Config | [ | opt | configuration of | | | SRTP_Config_Typ | | SRTP/SRTCP for | | | e]{.underline} | | connection; if | | | | | not present => | | | | | no SRTP/SRTCP | +-------------------+-------------------+-----+-------------------+
**SRTP_ConnectionTable_Type**
* * *
**TTCN-3 Record of Type**  
[]{#SRTP_ConnectionTable_Type .anchor}**Name** **SRTP_ConnectionTable_Type**
**Comment**  
record of [SRTP_Connection_Type]{.underline}
* * *
**SRTP_CTRL_REQ**
+----------------------+----------------------+----------------------+ | **TTCN-3 Union | | | | Type** | | | +----------------------+----------------------+----------------------+ | **Name** | **SRTP_CTRL_REQ** | | +----------------------+----------------------+----------------------+ | **Comment** | configuration ASP at | | | | the system interface | | +----------------------+----------------------+----------------------+ | Config | [SRTP_Con | table of all | | | nectionTable_Type]{ | connection to be | | | .underline} | SRTP/SRTCP (or | | | | RTP/RTCP); | | | | | | | | the configuration | | | | overrides any | | | | previous | | | | configuration; it is | | | | not foreseen to add, | | | | modify or remove | | | | single connections | +----------------------+----------------------+----------------------+
**SRTP_CTRL_IND**
* * *
**TTCN-3 Union Type**  
**Name** **SRTP_CTRL_IND**  
**Comment** ASP at the system interface for system confirmations and
indications  
Confirm [Null_Type]{.underline} confirmation for configuration Error
[Null_Type]{.underline} indication of errors
* * *
C.1.2 System_Interface
**SRTP_PORT**
* * *
**TTCN-3 Port Type**  
**Name** **SRTP_PORT**  
**Comment**  
out [SRTP_CTRL_REQ]{.underline}  
in [SRTP_CTRL_IND]{.underline}
* * *
C.2 IP_ASP_TypeDefs
General Notes:\ NOTE 1:\ In general the handling of IP data shall be
independent from the RAT being used on lower layers.\ NOTE 2:\ It shall be
possible for SS implementation to reuse existing IP stack implementations in
the system adaptor;\ therefore the well-known concept of socket programming
shall be supported\ (regardless of whether those are used in the system
adaptor implementation or not)\ NOTE 3:\ Since in general at the network side
there are several different IP addresses the SS needs to simulate more than
one IP address;\ that can be based on a concept of multiple virtual network
adaptors\ NOTE 4:\ There is no easy way to control the routing of IP data for
an IP connection from above the IP stack\ i.e. there are no parameters at the
socket interface to determine e.g. cell id and DRB id\ => another independent
logical entity (DRB-MUX) is needed below the IP stack which is responsible to
control the routing of IP packets from/to DRBs in different cells of different
RATs\ \ Reference:\ An introduction to socket programming can be found in\
UNIX Network Programming Volume 1, Third Edition: The Sockets Networking API\
by W. Richard Stevens, Bill Fenner, Andrew M. Rudoff
C.2.1 IP_Common
**IP_Common: Basic Type Definitions**
* * *
**TTCN-3 Basic Types**  
[]{#PortNumber_Type .anchor}**PortNumber_Type** [UInt16_Type]{.underline}
* * *
**IPv4_AddrInfo_Type**
* * *
**TTCN-3 Record Type**  
[]{#IPv4_AddrInfo_Type .anchor}**Name** **IPv4_AddrInfo_Type**  
**Comment** IPv4 specific info of the socket addr (AF_INET)  
Addr charstring IP Address as string (IP v4 dot notation) to be converted to
32-bit unsigned integer
* * *
**IPv6_AddrInfo_Type**
+-------------------+-------------------+-----+-------------------+ | **TTCN-3 Record | | | | | Type** | | | | +-------------------+-------------------+-----+-------------------+ | []{#I | **IPv6\ | | | | Pv6_AddrInfo_Type | _AddrInfo_Type** | | | | .anchor}**Name** | | | | +-------------------+-------------------+-----+-------------------+ | **Comment** | IPv6 specific | | | | | info of the | | | | | socket addr | | | | | (AF_INET6); | | | | | | | | | | NOTE: | | | | | sin6_flowinfo | | | | | can be ignored | | | | | and set to 0 | | | +-------------------+-------------------+-----+-------------------+ | Addr | charstring | | to be converted | | | | | to sin6_addr | +-------------------+-------------------+-----+-------------------+ | ScopeId | [UInt32 | opt | sin6_scope_id | | | _Type]{.underlin | | | | | e} | | in general an | | | | | IPv6 address is | | | | | like | | | | | \"fe80::1%eth0\" | | | | | with eth0 being | | | | | the network | | | | | adaptor mapped to | | | | | a scope id (Unix) | | | | | | | | | | assumption: | | | | | | | | | | for UE | | | | | conformance | | | | | testing it is not | | | | | necessary to | | | | | distinguish | | | | | different scopes | | | | | and the scope id | | | | | in general can be | | | | | determined by the | | | | | system adaptor | | | | | => omit | +-------------------+-------------------+-----+-------------------+
**IP_AddrInfo_Type**
* * *
**TTCN-3 Union Type**  
[]{#IP_AddrInfo_Type .anchor}**Name** **IP_AddrInfo_Type**  
**Comment**  
V4 [IPv4_AddrInfo_Type]{.underline}  
V6 [IPv6_AddrInfo_Type]{.underline}
* * *
**IP_Socket_Type**
* * *
**TTCN-3 Record Type**  
[]{#IP_Socket_Type .anchor}**Name** **IP_Socket_Type**  
**Comment** Socket  
IpAddr [IP_AddrInfo_Type]{.underline} opt IP address Port
[PortNumber_Type]{.underline} opt port number
* * *
**InternetProtocol_Type**
* * *
**TTCN-3 Enumerated Type**  
[]{#InternetProtocol_Type .anchor}**Name** **InternetProtocol_Type**
**Comment**  
udp  
tcp  
icmp  
icmpv6
* * *
**IP_Connection_Type**
* * *
**TTCN-3 Record Type**  
[]{#IP_Connection_Type .anchor}**Name** **IP_Connection_Type**  
**Comment** A connection between peer-to-peer entities is unambiguously
defined by the protocol (udp/tcp/icmp/icmpv4), the local socket and the remote
socket  
Protocol [InternetProtocol_Type]{.underline}  
Local [IP_Socket_Type]{.underline} opt  
Remote [IP_Socket_Type]{.underline} opt
* * *
C.3 CommonDefs
**CommonDefs: Constant Definitions**
* * *
**TTCN-3 Basic Types**  
[]{#tsc_UInt16Max .anchor}**tsc_UInt16Max** integer 65535  
[]{#tsc_UInt32Max .anchor}**tsc_UInt32Max** integer 4294967295
* * *
**CommonDefs: Basic Type Definitions**
* * *
**TTCN-3 Basic Types**  
[]{#O4_Type .anchor}**O4_Type** octetstring length(4)  
[]{#Null_Type .anchor}**Null_Type** boolean (true) dummy type for \'typeless\'
fields in unions []{#UInt16_Type .anchor}**UInt16_Type** integer (0 ..
[tsc_UInt16Max]{.underline})  
[]{#UInt32_Type .anchor}**UInt32_Type** integer (0 ..
[tsc_UInt32Max]{.underline})
* * *
C.4 References to TTCN-3
* * *
**References to TTCN-3**  
**SRTP_ASP_TypeDefs** Common/SRTP_ASP_TypeDefs.ttcn Rev 29933
**IP_ASP_TypeDefs** IP_PTC/IP_ASP_TypeDefs.ttcn Rev 27511 **CommonDefs**
Common/CommonDefs.ttcn Rev 29871
* * *
###### ## Annex D (Normative): SIP Type Definitions and XSD References
# D.1 XML Schema Definitions (XSD)
Common XML schema definitions according to TS 34.229-3 [28] Table G.0.1-1 are
used. In addition there are the MCX specific XML schema definitions as
according to table D.1-1.
Table D.1-1: MCX specific definitions
+----------------------+----------------------+----------------------+ | XML Schema (XSD) | Source | Name space | +======================+======================+======================+ | RFC4354-poc-settings | RFC 4354 [52] | urn:oma:params:xml | | | clause 6.1 | :ns:poc:poc-settings | +----------------------+----------------------+----------------------+ | RFC4661-SimpleFilter | RFC 4661 [34] | urn:ietf:params: | | | clause 7 | xml:ns:simple-filter | +----------------------+----------------------+----------------------+ | RFC5261-patch-ops | RFC 5261 [50] | (NOTE 1) | | | clause 8 | | | (NOTE 2) | | | +----------------------+----------------------+----------------------+ | RFC5874-xcap-diff | RFC 5874 [51] | urn:ietf:par | | | clause 4 | ams:xml:ns:xcap-diff | +----------------------+----------------------+----------------------+ | IANA-resource-lists | RFC 4826 [34] | urn:ietf:params:x | | | clause 3.2 | ml:ns:resource-lists | | | | | | | https://www | | | | .iana.org/assignment | | | | s/xml-registry/schem | | | | a/resource-lists.xsd | | +----------------------+----------------------+----------------------+ | po | OMA [37] | urn:oma: | | c_listService-v1_0 | | xml:poc:list-service | +----------------------+----------------------+----------------------+ | x | OMA [39] | urn:om | | dm_extensions-v1_0 | | a:xml:xdm:extensions | +----------------------+----------------------+----------------------+ | xdm_rsr | OMA [40] | ur | | clst_uriusage-v1_0 | | n:oma:xml:xdm:resour | | | | ce-list:oma-uriusage | +----------------------+----------------------+----------------------+ | xenc-schema | W3C [41] | http://www.w3.or | | | | g/2001/04/xmlenc#\' | +----------------------+----------------------+----------------------+ | xmldsig-core-schema | W3C [42] | http://www.w3.o | | | | rg/2000/09/xmldsig# | +----------------------+----------------------+----------------------+ | TS24281_mcvideoinfo | TS 24.281 [55] | urn:3gp | | | Annex F.1.2 | p:ns:mcvideoInfo:1.0 | | (NOTE 3) | | | +----------------------+----------------------+----------------------+ | TS24281\ | TS 24.281 [55] | urn:3gpp:ns:mcv | | _mcvideolocationinfo | Annex F.3.2 | ideoLocationInfo:1.0 | +----------------------+----------------------+----------------------+ | TS24 | TS 24.281 [55] | urn:3gpp:ns | | 281_mcvideoPresInfo | Table 8.3.1.2-1 | :mcvideoPresInfo:1.0 | +----------------------+----------------------+----------------------+ | TS2 | TS 24.282 [57] | \"urn:3gpp | | 4282_mcdatainfo.xsd | Annex D.1.2 | :ns:mcdataInfo:1.0\" | +----------------------+----------------------+----------------------+ | TS24282 | TS 24.282 [57] | urn:3gpp:ns:mc | | _mcdatalocationinfo | Annex D.4.2 | dataLocationInfo:1.0 | +----------------------+----------------------+----------------------+ | TS2 | TS 24.282 [57] | \"urn:3gpp:ns: | | 4282_mcdataPresInfo | Table 8.4.1.2-1 | mcdataPresInfo:1.0\" | +----------------------+----------------------+----------------------+ | TS24379_mcpttaff\ | TS 24.379 [9] | urn:3gpp:ns:af | | (NOTE 4) | Annex F.4.2 | filiationCommand:1.0 | | | | | | | TS 24.281 [55] | | | | Annex F.4.2 | | | | | | | | TS 24.282 [57] | | | | Annex D.3.2 | | +----------------------+----------------------+----------------------+ | TS24379_mcpttinfo | TS 24.379 [9] | urn:3 | | | Annex F.1.2 | gpp:ns:mcpttInfo:1.0 | +----------------------+----------------------+----------------------+ | TS2437 | TS 24.379 [9] | urn:3gpp:ns:m | | 9_mcpttlocationinfo | Annex F.3.2 | cpttLocationInfo:1.0 | +----------------------+----------------------+----------------------+ | TS2 | TS 24.379 [9] | urn:3gpp:n | | 4379_mcpttsigneddoc | Annex F.6.2 | s:mcpttSignedDoc:1.0 | +----------------------+----------------------+----------------------+ | TS | TS 24.379 [9] | urn:3gpp: | | 24379_mcpttPresInfo | Table 9.3.1.2-1 | ns:mcpttPresInfo:1.0 | +----------------------+----------------------+----------------------+ | TS24 | TS 24.379 [9] | urn:3gpp:ns | | 379_mcpttPresInfoFA | Table 9A.3.1.2-1 | :mcpttPresInfoFA:1.0 | +----------------------+----------------------+----------------------+ | TS | TS 24.379 [9] | urn: | | 24379_poc-settings\ | Table 7.4.1.2.2-2 | 3gpp:mcsSettings:1.0 | | (NOTE 5) | | | | | TS 24.281 [55] | | | | Table 7.4.1.2.2-2 | | +----------------------+----------------------+----------------------+ | TS24481-mcptt-group | TS 24.481 [11] | urn:3gpp:n | | | clause 7.2.4.2 | s:mcpttGroupInfo:1.0 | +----------------------+----------------------+----------------------+ | TS24481-mcpttGMOP | TS 24.481 [11] | urn:3 | | | clause 7.3.3 | gpp:ns:mcpttGMOP:1.0 | +----------------------+----------------------+----------------------+ | TS24481-mcpttGKTP | TS 24.481 [11] | urn:3 | | | clause 7.7.4.2 | gpp:ns:mcpttGKTP:1.0 | +----------------------+----------------------+----------------------+ | TS | TS 24.484 [14] | urn:3gpp:mcptt:m | | 24484-ue-init-config | clause 7.2.2.3 | cpttUEinitConfig:1.0 | +----------------------+----------------------+----------------------+ | TS24484- | TS 24.484 [14] | urn:3gpp:mcp | | mcptt-ue-config | clause 8.2.2.3 | tt:mcpttUEConfig:1.0 | +----------------------+----------------------+----------------------+ | TS244 | TS 24.484 [14] | urn:3gpp:mcvideo | | 84-mcvideo-ue-config | clause 9.2.2.3 | :mcvideoUEConfig:1.0 | +----------------------+----------------------+----------------------+ | TS24 | TS 24.484 [14] | urn:3gpp:mcdat | | 484-mcdata-ue-config | clause 10.2.2.3 | a:mcdataUEConfig:1.0 | +----------------------+----------------------+----------------------+ | TS2448 | TS 24.484 [14] | urn:3gpp:mc | | 4-mcptt-user-profile | clause 8.3.2.3 | ptt:user-profile:1.0 | +----------------------+----------------------+----------------------+ | TS24484- | TS 24.484 [14] | urn:3gpp:ns:mcvi | | mcvideo-user-profile | clause 9.3.2.3 | deo:user-profile:1.0 | +----------------------+----------------------+----------------------+ | TS24484 | TS 24.484 [14] | urn:3gpp:ns:mcd | | -mcdata-user-profile | clause 10.3.2.3 | ata:user-profile:1.0 | +----------------------+----------------------+----------------------+ | TS24484- | TS 24.484 [14] | urn:3gpp:ns:mc | | mcptt-service-config | clause 8.4.2.3 | pttServiceConfig:1.0 | +----------------------+----------------------+----------------------+ | TS24484-mc | TS 24.484 [14] | urn:3gpp:ns:mcvi | | video-service-config | clause 9.4.2.3 | deoServiceConfig:1.0 | +----------------------+----------------------+----------------------+ | TS24484-m | TS 24.484 [14] | urn:3gpp:ns:mcd | | cdata-service-config | clause 10.4.2.3 | ataServiceConfig:1.0 | +----------------------+----------------------+----------------------+ | TS331 | TS 33.180 [43] | urn:3gpp:ns:m | | 80-mcsecKMSInterface | Annex D.3.5.1 | csecKMSInterface:1.0 | +----------------------+----------------------+----------------------+ | TS33180-mcsecKMSKRR | TS 33.180 [43] | urn:3gp | | | Annex D.4.4 | p:ns:mcsecKMSKRR:1.0 | +----------------------+----------------------+----------------------+ | NOTE 1: The schema | | | | does not define any | | | | target namespace but | | | | is referred to as | | | | \"urn:ietf:params:xm | | | | l:schema:patch-ops\" | | | | e.g. in the original | | | | include statement in | | | | urn:ietf:para | | | | ms:xml:ns:xcap-diff. | | | | | | | | NOTE 2: The XML | | | | schema in RFC 5261 | | | | [50] clause 8 is | | | | specified as DTD | | | | with ENTITY | | | | declarations being | | | | referred by the | | | | pattern of the | | | | schema. These | | | | references are | | | | resolved in | | | | RFC5261-patch-ops in | | | | order to get schema | | | | definitions which | | | | can be processed by | | | | TTCN-3 compilers. | | | | | | | | NOTE 3: The schema | | | | specifies import of | | | | non-existing | | | | namespace | | | | urn:3gpp: | | | | ns:mcvideoGKTP:1.0.\ | | | | Assumption: | | | | urn:3 | | | | gpp:ns:mcpttGKTP:1.0 | | | | to be imported | | | | instead | | | | | | | | NOTE 4: The schemata | | | | in TS 24.379 [9] | | | | F.4.2, TS 24.281 | | | | [55] F.4.2 and TS | | | | 24.282 [57] Annex | | | | D.1.2 are | | | | effectively the same | | | | apart from the | | | | namespace prefix | | | | (\"mcpttaff\" vs. | | | | \"mcvideoaff\" vs. | | | | \"mcdataaff\").\ | | | | Assumption: The | | | | namespace prefix | | | | does not matter in | | | | XML documents, in | | | | general any prefix | | | | can be used.\ | | | | ⇒ TS24379_mcpttaff | | | | is used for MCPTT, | | | | MCVideo and MCData. | | | | | | | | NOTE 5: The schemata | | | | in TS 24.379 [9] | | | | Table 7.4.1.2.2-2 | | | | and TS 24.281 [55] | | | | Table 7.4.1.2.2-2 | | | | are the same.\ | | | | ⇒ | | | | T | | | | S24379_poc-settings | | | | is used for MCPTT | | | | and MCVideo. | | | +----------------------+----------------------+----------------------+
In order to avoid ambiguities and unexpected side effects due to tool specific
behaviour the schemaLocation in xs:import statements of XSD files are modified
to use local references rather than references to internet locations.
The schemaLocations of imported namespaces are shown in table D.1-2. The
schemaLocations of included namespaces are shown in table D.1-3.
Table D.1-2: schemaLocation of imported namespaces
+----------------+----------------+----------------+----------------+ | XML Schema | **Imported |** Original | **Modified | | | name space** | sc | sc | | | | hemaLocation**| hemaLocation** | +----------------+----------------+----------------+----------------+ | RFC435 | http://w | ht | . | | 4-poc-settings | ww.w3.org/XML/ | tp://www.w3.or | ./../Common/IM | | | 1998/namespace | g/2001/xml.xsd | S_XSD/xml.xsd | +----------------+----------------+----------------+----------------+ | RFC466 | http://w | ht | . | | 1-SimpleFilter | ww.w3.org/XML/ | tp://www.w3.or | ./../Common/IM | | | 1998/namespace | g/2001/xml.xsd | S_XSD/xml.xsd | +----------------+----------------+----------------+----------------+ | IANA- | http://w | ht | . | | resource-lists | ww.w3.org/XML/ | tp://www.w3.or | ./../Common/IM | | | 1998/namespace | g/2001/xml.xsd | S_XSD/xml.xsd | +----------------+----------------+----------------+----------------+ | poc_lis | urn:ietf | http://www.ia | ../.. | | tService-v1_0 | :params:xml:ns | na.org/assignm | /Common/IMS_X | | | :common-policy | ents/xml-regis | SD/RFC4745-com | | | | try/schema/com | mon-policy.xsd | | | | mon-policy.xsd | | | | | | (NOTE 1) | +----------------+----------------+----------------+----------------+ | poc_lis | urn:ietf: | http://www.ian | IANA-reso | | tService-v1_0 | params:xml:ns: | a.org/assignme | urce-lists.xsd | | | resource-lists | nts/xml-regist | | | | | ry/schema/reso | (NOTE 2) | | | | urce-lists.xsd | | +----------------+----------------+----------------+----------------+ | xdm_ex | http://w | http: | . | | tensions-v1_0 | ww.w3.org/XML/ | //www.w3.org/2 | ./../Common/IM | | | 1998/namespace | 001/03/xml.xsd | S_XSD/xml.xsd | +----------------+----------------+----------------+----------------+ | xenc-schema | http:// | xmldsig-c | (no change | | | www.w3.org/200 | ore-schema.xsd | needed) | | | 0/09/xmldsig# | | | +----------------+----------------+----------------+----------------+ | TS24282_ | http:/ | http:/ | x | | mcdatainfo.xsd | /www.w3.org/20 | /www.w3.org/TR | enc-schema.xsd | | | 01/04/xmlenc# | /xmlenc-core/x | | | | | enc-schema.xsd | | +----------------+----------------+----------------+----------------+ | TS24379_ | http:// | h | xmldsig-c | | mcpttsigneddoc | www.w3.org/200 | ttp://www.w3.o | ore-schema.xsd | | | 0/09/xmldsig# | rg/TR/xmldsig- | | | | | core/xmldsig-c | | | | | ore-schema.xsd | | +----------------+----------------+----------------+----------------+ | TS24484- | http://w | ht | . | | ue-init-config | ww.w3.org/XML/ | tp://www.w3.or | ./../Common/IM | | | 1998/namespace | g/2001/xml.xsd | S_XSD/xml.xsd | +----------------+----------------+----------------+----------------+ | TS24484- | http://w | ht | . | | m | ww.w3.org/XML/ | tp://www.w3.or | ./../Common/IM | | cptt-ue-config | 1998/namespace | g/2001/xml.xsd | S_XSD/xml.xsd | +----------------+----------------+----------------+----------------+ | TS24484-mcv | http://w | ht | . | | ideo-ue-config | ww.w3.org/XML/ | tp://www.w3.or | ./../Common/IM | | | 1998/namespace | g/2001/xml.xsd | S_XSD/xml.xsd | +----------------+----------------+----------------+----------------+ | TS24484-mc | http://w | ht | . | | data-ue-config | ww.w3.org/XML/ | tp://www.w3.or | ./../Common/IM | | | 1998/namespace | g/2001/xml.xsd | S_XSD/xml.xsd | +----------------+----------------+----------------+----------------+ | TS24484-mcpt | http://w | ht | . | | t-user-profile | ww.w3.org/XML/ | tp://www.w3.or | ./../Common/IM | | | 1998/namespace | g/2001/xml.xsd | S_XSD/xml.xsd | +----------------+----------------+----------------+----------------+ | TS24484-mcpt | urn:ietf | http://www.ia | ../.. | | t-user-profile | :params:xml:ns | na.org/assignm | /Common/IMS_X | | | :common-policy | ents/xml-regis | SD/RFC4745-com | | | | try/schema/com | mon-policy.xsd | | | | mon-policy.xsd | | | | | | (NOTE 1) | +----------------+----------------+----------------+----------------+ | TS24484-mcvide | http://w | ht | . | | o-user-profile | ww.w3.org/XML/ | tp://www.w3.or | ./../Common/IM | | | 1998/namespace | g/2001/xml.xsd | S_XSD/xml.xsd | +----------------+----------------+----------------+----------------+ | TS24484-mcvide | urn:ietf | http://www.ia | ../.. | | o-user-profile | :params:xml:ns | na.org/assignm | /Common/IMS_X | | | :common-policy | ents/xml-regis | SD/RFC4745-com | | | | try/schema/com | mon-policy.xsd | | | | mon-policy.xsd | | | | | | (NOTE 1) | +----------------+----------------+----------------+----------------+ | TS24484-mcdat | http://w | ht | . | | a-user-profile | ww.w3.org/XML/ | tp://www.w3.or | ./../Common/IM | | | 1998/namespace | g/2001/xml.xsd | S_XSD/xml.xsd | +----------------+----------------+----------------+----------------+ | TS24484-mcdat | urn:ietf | http://www.ia | ../.. | | a-user-profile | :params:xml:ns | na.org/assignm | /Common/IMS_X | | | :common-policy | ents/xml-regis | SD/RFC4745-com | | | | try/schema/com | mon-policy.xsd | | | | mon-policy.xsd | | | | | | (NOTE 1) | +----------------+----------------+----------------+----------------+ | TS24484-mcptt- | http://w | ht | . | | service-config | ww.w3.org/XML/ | tp://www.w3.or | ./../Common/IM | | | 1998/namespace | g/2001/xml.xsd | S_XSD/xml.xsd | +----------------+----------------+----------------+----------------+ | T | http://w | ht | . | | S24484-mcdata- | ww.w3.org/XML/ | tp://www.w3.or | ./../Common/IM | | service-config | 1998/namespace | g/2001/xml.xsd | S_XSD/xml.xsd | +----------------+----------------+----------------+----------------+ | NOTE 1: The | | | | | namespace | | | | | urn:ietf | | | | | :params:xml:ns | | | | | :common-policy | | | | | is specified | | | | | in RFC 4745 | | | | | and at | | | | | http://www.ia | | | | | na.org/assignm | | | | | ents/xml-regis | | | | | try/schema/com | | | | | mon-policy.xsd | | | | | with | | | | | difference in | | | | | the minOccurs | | | | | for | | | | | identityType | | | | | and | | | | | validityType. | | | | | Nevertheless | | | | | for use in | | | | | TTCN there | | | | | shall be only | | | | | one schema as | | | | | part 9 of the | | | | | TTCN-3 | | | | | language | | | | | [31] does | | | | | not support | | | | | different | | | | | variants of | | | | | one and the | | | | | same | | | | | namespace. In | | | | | addition | | | | | according to | | | | | DIFF1 for RFC | | | | | 4745 it seems | | | | | that the | | | | | RFC\'s variant | | | | | is newer than | | | | | the IANA\'s | | | | | variant. | | | | | | | | | | NOTE 2: The | | | | | namespace | | | | | urn:ietf: | | | | | params:xml:ns: | | | | | resource-lists | | | | | is specified | | | | | in RFC 4826 | | | | | and at | | | | |  | | | | | with the | | | | | difference of | | | | | attribute | | | | | anchor not | | | | | being | | | | | mandatory in | | | | | the RFC. | | | | +----------------+----------------+----------------+----------------+
Table D.1-3: schemaLocation of included namespaces
* * *
XML Schema **Included schema** **Original schemaLocation** **Modified
schemaLocation** RFC5874-xcap-diff urn:ietf:params:xml:schema:patch-ops
urn:ietf:params:xml:schema:patch-ops RFC5261-patch-ops.xsd
* * *
# D.2 Common TTCN-3 Libraries
The same LibSip modules are used as according to TS 34.229-3 [28] annex G.0.2
and the same additional LibSip_MessageBodyTypes as according to TS 34.229-3
[28] annex G.1 and G.2
###### ## Annex E (normative): TTCN-3 Definitions for the MCX IPCAN test model
# E.0 Introduction
The present Annex E specifies the TTCN-3 type definitions used at the system
interface to configure and control the SS. The type definitions are specific
for the MCX IPCAN test model.
In case of discrepancy between the content of the present Annex E and the
equivalent TTCN-3 definitions / semantic requirements found in the TTCN
modules provided as attachments to the present specification, the latter shall
take precedence.
> NOTE: This annex is automatically generated from the TTCN-3 modules provided
> as attachment to the present specification and containing the listed TTCN-3
> type definitions.
# E.1 MCX_IPCAN_ASP_TypeDefs
MCX_IPCAN_ASP_TypeDefs: Basic Type Definitions
+----------------------+----------------------+----------------------+ | **TTCN-3 Basic | | | | Types** | | | +----------------------+----------------------+----------------------+ | **MCX_IPCAN_Absol | integer (-150..0) | absolute cell power | | uteCellPower_Type** | | (dBm); same as | | | | Abs | | | | oluteCellPower_Type | +----------------------+----------------------+----------------------+ | **MCX_IPCAN\ | MCX_IP | Deactivate dedicated | | _DeactivateDedicated | CAN_EpsBearerIdList | EPS bearer(s) for | | EpsBearerMCX_Type** | _Type | | | | | CellId : cell id of | | | | the cell | | | | | | | | Reference | | | | implementation: | | | | f_EUTRA_Deactiva | | | | teEPS_BearerContext | +----------------------+----------------------+----------------------+
MCX_IPCAN_EpsBearerIdList_Type
* * *
**TTCN-3 Record of Type**  
**Name** **MCX_IPCAN_EpsBearerIdList_Type** **Comment**  
record of MCX_IPCAN_EpsBearerId_Type
* * *
MCX_IPCAN_PacketFilterDirection_Type
* * *
**TTCN-3 Enumerated Type**  
**Name** **MCX_IPCAN_PacketFilterDirection_Type** **Comment** packet filter
direction according to TS 24.008 Table 10.5.162 downlinkOnly  
uplinkOnly  
bidirectional
* * *
MCX_IPCAN_PacketFilterComponentPortRange_Type
* * *
**TTCN-3 Record Type**  
**Name** **MCX_IPCAN_PacketFilterComponentPortRange_Type**  
**Comment**  
Low integer  
High integer
* * *
MCX_IPCAN_PacketFilterComponent_Type
* * *
**TTCN-3 Union Type**  
**Name** **MCX_IPCAN_PacketFilterComponent_Type**  
**Comment** TS 24.008 Table 10.5.162  
Protocol integer Protocol identifier/Next header type: 17 for UDP
SingleRemotePort integer  
RemotePortRange MCX_IPCAN_PacketFilterComponentPortRange_Type
* * *
MCX_IPCAN_PacketFilterComponentList_Type
* * *
**TTCN-3 Record of Type**  
**Name** **MCX_IPCAN_PacketFilterComponentList_Type** **Comment**  
record of MCX_IPCAN_PacketFilterComponent_Type
* * *
MCX_IPCAN_PacketFilter_Type
* * *
**TTCN-3 Record Type**  
**Name** **MCX_IPCAN_PacketFilter_Type**  
**Comment**  
Direction MCX_IPCAN_PacketFilterDirection_Type  
ComponentList MCX_IPCAN_PacketFilterComponentList_Type
* * *
MCX_IPCAN_PacketFilterList_Type
* * *
**TTCN-3 Record of Type**  
**Name** **MCX_IPCAN_PacketFilterList_Type** **Comment**  
record of MCX_IPCAN_PacketFilter_Type
* * *
MCX_IPCAN_ASP_DedicatedEpsBearerInfo_Type
* * *
**TTCN-3 Record Type**  
**Name** **MCX_IPCAN_ASP_DedicatedEpsBearerInfo_Type**  
**Comment**  
EpsBearerId MCX_IPCAN_EpsBearerId_Type EPS bearer id of the dedicated EPS
bearer PacketFilterList MCX_IPCAN_PacketFilterList_Type
* * *
MCX_IPCAN_IPv4IPv6Address_Type
* * *
**TTCN-3 Record Type**  
**Name** **MCX_IPCAN_IPv4IPv6Address_Type**  
**Comment**  
IPv4 charstring  
IPv6 charstring
* * *
MCX_IPCAN_PDN_Info_Type
* * *
**TTCN-3 Record Type**  
**Name** **MCX_IPCAN_PDN_Info_Type**  
**Comment**  
PdnType MCX_Registration_PDN_Type MCX, IMS or INTERNET EpsBearerId
MCX_IPCAN_EpsBearerId_Type EPS bearer id of the PDN\'s default EPS bearer
IPAddressNW MCX_IPCAN_IPv4IPv6Address_Type opt not present for MCX PDN as the
IP signalling is handled by TTCN IPAddressUE MCX_IPCAN_IPv4IPv6Address_Type
opt not present for MCX PDN as the IP signalling is handled by TTCN
* * *
MCX_IPCAN_PDN_InfoList_Type
* * *
**TTCN-3 Record of Type**  
**Name** **MCX_IPCAN_PDN_InfoList_Type** **Comment** list of PDNs to be
connected to during Idle Update procedure record length (1..3) of
MCX_IPCAN_PDN_Info_Type
* * *
MCX_IPCAN_ASP_CommonReqPart_Type
* * *
**TTCN-3 Record Type**  
**Name** **MCX_IPCAN_ASP_CommonReqPart_Type**  
**Comment**  
CellId EUTRA_CellId_Type  
CnfFlag boolean
* * *
MCX_IPCAN_Init_Type
+------------------------+--------------------------------------------+ | **TTCN-3 Record Type** | | +------------------------+--------------------------------------------+ | **Name** | **MCX_IPCAN_Init_Type** | +------------------------+--------------------------------------------+ | **Comment** | Initialisation of the system simulator. | | | | | | CellId : eutra_Cell_NonSpecific | | | | | | Reference implementation: f_EUTRA_Init | | | with p_SysinfoCombination:=c1, | | | p_HandleULDataUM:=HANDLE_UM_DATA, | | | p_UseBigGrants:=USE_BIG_GRANTS | +------------------------+--------------------------------------------+
MCX_IPCAN_CellConfig_Type
+------------------------+--------------------------------------------+ | **TTCN-3 Record Type** | | +------------------------+--------------------------------------------+ | **Name** | **MCX_IPCAN_CellConfig_Type** | +------------------------+--------------------------------------------+ | **Comment** | Create a cell and send out system | | | information. | | | | | | CellId : cell id of the cell to be created | | | | | | Reference implementation: | | | f_EUTRA_CellConfig_Def | +------------------------+--------------------------------------------+
MCX_IPCAN_CellPower_Type
+------------------------+-----------------------------+---+---+ | **TTCN-3 Record Type** | | | | +------------------------+-----------------------------+---+---+ | **Name** | **MC | | | | | X_IPCAN_CellPower_Type** | | | +------------------------+-----------------------------+---+---+ | **Comment** | Set the cell power of a | | | | | cell. | | | | | | | | | | CellId : cell id of the | | | | | cell | | | | | | | | | | Reference implementation: | | | | | f_EUTRA_SetCellPower | | | +------------------------+-----------------------------+---+---+ | AbsoluteCellPower | MCX_IPCAN_Absol | | | | | uteCellPower_Type | | | +------------------------+-----------------------------+---+---+
MCX_IPCAN_InitialRegistration_Type
+--------------------+--------------------+---+--------------------+ | **TTCN-3 Record | | | | | Type** | | | | +--------------------+--------------------+---+--------------------+ | **Name** | **MCX | | | | | _IPCAN_InitialRe | | | | | gistration_Type** | | | +--------------------+--------------------+---+--------------------+ | **Comment** | Perform initial | | | | | registration | | | | | procedure | | | | | according to TS | | | | | 36.579-1 clause | | | | | 5.4.1A and Table | | | | | 5.4.2.3-1 steps 2 | | | | | - 16A to bring the | | | | | UE into state 3 | | | | | according to | | | | | Figure 4.5.1-1 in | | | | | TS 36.508. | | | | | | | | | | As described in | | | | | clause 5.4.1A of | | | | | TS 36.579-1 after | | | | | switch on the UE | | | | | may register to an | | | | | internet PDN, an | | | | | IMS PDN and the | | | | | MCX PDN. | | | | | | | | | | NOTE: The UE does | | | | | not need to | | | | | register to MCX | | | | | during initial | | | | | registration after | | | | | switch-on. | | | | | | | | | | CellId : cell id | | | | | of the cell | | | +--------------------+--------------------+---+--------------------+ | PdnList | MCX_IPC | | list of PDNs the | | | AN_PDN_InfoList\ | | UE is expected to | | | _Type | | Idle Update | | | | | procedure; the | | | | | list may or may | | | | | not contain MCX | +--------------------+--------------------+---+--------------------+ | DefaultAPN | octetstring | | APN to be used for | | | | | the PDN (if any) | | | | | for which the UE | | | | | does not provide | | | | | an APN; APN | | | | | encoded according | | | | | to 23.003 clause | | | | | 9.1 and RFC 1035 | | | | | clause 4.1.2 | +--------------------+--------------------+---+--------------------+
MCX_IPCAN_AdditionalRegistrationMCX_Type
+------------------------+-----------------------------+---+---+ | **TTCN-3 Record Type** | | | | +------------------------+-----------------------------+---+---+ | **Name** | **MCX_IPCAN_Additi | | | | | onalRegistrationMCX_Type** | | | +------------------------+-----------------------------+---+---+ | **Comment** | Procedure used, if the UE | | | | | is configured not to | | | | | connect automatically to | | | | | the MCX PDN after | | | | | switch-on: | | | | | | | | | | In this case after initial | | | | | registration the UE gets | | | | | triggered from TTCN by an | | | | | MMI command to start MCX | | | | | registration and this | | | | | procedure is started to | | | | | perform steps 19 - 26 of TS | | | | | 36.579-1 Table 5.4.2.3-1. | | | | | | | | | | CellId : cell id of the | | | | | cell | | | +------------------------+-----------------------------+---+---+ | EpsBearerId | MCX_ | | | | | IPCAN_EpsBearerId_Type | | | +------------------------+-----------------------------+---+---+
MCX_IPCAN_RRCConnectionSetupMO_Type
+--------------------+--------------------+---+--------------------+ | **TTCN-3 Record | | | | | Type** | | | | +--------------------+--------------------+---+--------------------+ | []{ | **MCX\ | | | | #MCX_IPCAN_RRCConn | _IPCAN_RRCConnect | | | | ectionSetupMO_Type | ionSetupMO_Type** | | | | .anchor}**Name** | | | | +--------------------+--------------------+---+--------------------+ | **Comment** | MO RRC connection | | | | | establishment (TS | | | | | 36.508 cl. 4.5.3.3 | | | | | steps 3-9) for | | | | | D | | | | | edicatedEpsBearers | | | | | == {}; | | | | | | | | | | for | | | | | D | | | | | edicatedEpsBearers | | | | | != {} steps 2 - 8 | | | | | of the Generic | | | | | Test Procedure for | | | | | MCPTT radio bearer | | | | | establishment for | | | | | use of | | | | | pre-established | | | | | session according | | | | | to 36.579-1 clause | | | | | 5.4.13 apply. | | | | | | | | | | CellId : cell id | | | | | of the cell | | | | | | | | | | Reference | | | | | implementation: | | | | | f_EUTRA_ | | | | | ServiceRequestAndA | | | | | ctivate_SRB2_DRB | | | | | (for | | | | | D | | | | | edicatedEpsBearers | | | | | == {}) | | | +--------------------+--------------------+---+--------------------+ | D | MCX_IPCAN_E | | list of dedicated | | edicatedEpsBearers | psBearerIdList_Ty | | EPS bearers for | | | pe | | need to be | | | | | established for a | | | | | pre-established | | | | | session | +--------------------+--------------------+---+--------------------+
MCX_IPCAN_RRCConnectionSetupMT_Type
+--------------------+--------------------+---+--------------------+ | **TTCN-3 Record | | | | | Type** | | | | +--------------------+--------------------+---+--------------------+ | []{ | **MCX\ | | | | #MCX_IPCAN_RRCConn | _IPCAN_RRCConnect | | | | ectionSetupMT_Type | ionSetupMT_Type** | | | | .anchor}**Name** | | | | +--------------------+--------------------+---+--------------------+ | **Comment** | MT RRC connection | | | | | establishment (TS | | | | | 36.508 cl. 4.5.3.3 | | | | | steps 1-9) for | | | | | D | | | | | edicatedEpsBearers | | | | | == {}; | | | | | | | | | | for | | | | | D | | | | | edicatedEpsBearers | | | | | != {} the Generic | | | | | Test Procedure for | | | | | MCPTT radio bearer | | | | | establishment for | | | | | use of | | | | | pre-established | | | | | session according | | | | | to 36.579-1 clause | | | | | 5.4.13 applies. | | | | | | | | | | CellId : cell id | | | | | of the cell | | | | | | | | | | Reference | | | | | implementation: | | | | | f\ | | | | | _EUTRA_RbEst_Def | | | | | (for | | | | | D | | | | | edicatedEpsBearers | | | | | == {}) | | | +--------------------+--------------------+---+--------------------+ | D | MCX_IPCAN_E | | list of dedicated | | edicatedEpsBearers | psBearerIdList_Ty | | EPS bearers for | | | pe | | need to be | | | | | established for a | | | | | pre-established | | | | | session | +--------------------+--------------------+---+--------------------+
MCX_IPCAN_ActivateDedicatedEpsBearerMCX_Type
+----------------------------------+----------------------------------+ | **TTCN-3 Record of Type** | | +----------------------------------+----------------------------------+ | **Name** | **MCX_IPCAN_Activ | | | ateDedicatedEpsBearerMCX_Type** | +----------------------------------+----------------------------------+ | **Comment** | Establish dedicated EPS | | | bearer(s) for the MCX PDN | | | | | | CellId : cell id of the cell | | | | | | Reference implementation: | | | f_MCX_EUTRA_I | | | PCAN_ActivateDedicatedEpsBearer | +----------------------------------+----------------------------------+ | record of | | | MCX_IPCAN_ASP_Dedicated | | | EpsBearerInfo_Typee | | +----------------------------------+----------------------------------+
MCX_IPCAN_RRCConnectionRelease_Type
+------------------------+--------------------------------------------+ | **TTCN-3 Record Type** | | +------------------------+--------------------------------------------+ | **Name** | **MCX_IPCAN_RRCConnectionRelease_Type** | +------------------------+--------------------------------------------+ | **Comment** | Relase RRC connection | | | | | | CellId : cell id of the cell | | | | | | Reference implementation: | | | f_EUTRA_RRC_ConnectionRelease | +------------------------+--------------------------------------------+
MCX_IPCAN_Release_Type
+------------------------+----------------------------------------------------+ | **TTCN-3 Record Type** | | +------------------------+----------------------------------------------------+ | **Name** | **MCX_IPCAN_Release_Type** | +------------------------+----------------------------------------------------+ | **Comment** | Release all configuration at the system simulator; | | | | | | CellId : eutra_Cell_NonSpecific | +------------------------+----------------------------------------------------+
MCX_IPCAN_SystemRequest_Type
* * *
**TTCN-3 Union Type**  
**Name** **MCX_IPCAN_SystemRequest_Type**  
**Comment**  
Init MCX_IPCAN_Init_Type  
CellConfig MCX_IPCAN_CellConfig_Type  
CellPower MCX_IPCAN_CellPower_Type  
InitialRegistration MCX_IPCAN_InitialRegistration_Type  
AdditionalRegistrationMCX MCX_IPCAN_AdditionalRegistrationMCX_Type  
RRCConnectionSetupMO MCX_IPCAN_RRCConnectionSetupMO_Type  
RRCConnectionSetupMT MCX_IPCAN_RRCConnectionSetupMT_Type  
ActivateDedicatedEpsBearerMCX MCX_IPCAN_ActivateDedicatedEpsBearerMCX_Type  
DeactivateDedicatedEpsBearerMCX MCX_IPCAN_DeactivateDedicatedEpsBearerMCX_Type  
RRCConnectionRelease MCX_IPCAN_RRCConnectionRelease_Type  
Release MCX_IPCAN_Release_Type
* * *
MCX_IPCAN_SYSTEM_CTRL_REQ
* * *
**TTCN-3 Record Type**  
**Name** **MCX_IPCAN_SYSTEM_CTRL_REQ**  
**Comment**  
Common MCX_IPCAN_ASP_CommonReqPart_Type  
Request MCX_IPCAN_SystemRequest_Type
* * *
MCX_IPCAN_InitConfirmation_Type
* * *
**TTCN-3 Record Type**  
**Name** **MCX_IPCAN_InitConfirmation_Type**  
**Comment**  
RanType IPCAN_RAN_Type
* * *
MCX_IPCAN_SystemConfirmation_Type
+----------------------+----------------------+----------------------+ | **TTCN-3 Union | | | | Type** | | | +----------------------+----------------------+----------------------+ | **Name** | **MCX_IPCAN_System | | | | Confirmation_Type** | | +----------------------+----------------------+----------------------+ | **Comment** | | | +----------------------+----------------------+----------------------+ | Init | MCX_IPCA | Confirmation for | | | N_InitConfirmation\ | Init request: | | | _Type | | +----------------------+----------------------+----------------------+ | Other | Nul | Confirmation for any | | | l_Type | other request | +----------------------+----------------------+----------------------+ | Error | charstring | Error indication | | | | when the | | | | corresponding | | | | request causes | | | | error; | | | | | | | | the charstring may | | | | be used to provide | | | | information about | | | | the error | +----------------------+----------------------+----------------------+
MCX_IPCAN_SYSTEM_CTRL_CNF
* * *
**TTCN-3 Record Type**  
**Name** **MCX_IPCAN_SYSTEM_CTRL_CNF**  
**Comment**  
Confirmation MCX_IPCAN_SystemConfirmation_Type
* * *
MCX_IPCAN_SYSTEM_PORT
* * *
**TTCN-3 Port Type**  
**Name** **MCX_IPCAN_SYSTEM_PORT**  
**Comment**  
out MCX_IPCAN_SYSTEM_CTRL_REQ  
in MCX_IPCAN_SYSTEM_CTRL_CNF
* * *
# E.2 MCX_CommonIPCAN
MCX_CommonIPCAN: Basic Type Definitions
* * *
**TTCN-3 Basic Types**  
**MCX_IPCAN_EpsBearerId_Type** integer (5..13) EPS bearer id: the associated
DRB Id shall always be EpsBearerId - 4
* * *
MCX_Registration_PDN_Type
+----------------------------+----------------------------------------+ | **TTCN-3 Enumerated Type** | | +----------------------------+----------------------------------------+ | **Name** | **MCX_Registration_PDN_Type** | +----------------------------+----------------------------------------+ | **Comment** | Type definition for PIXITs | | | px\ | | | _MCX_InitialRegistration_TypeOfPDN1, | | | px\ | | | _MCX_InitialRegistration_TypeOfPDN2, | | | px\ | | | _MCX_InitialRegistration_TypeOfPDN3; | | | | | | (see TS 36.579-1 clause 5.4.1A) | | | | | | NOTE: \'ims\', \'internet\', \'mcx\' | | | and \'none\' cannot be used as | | | \'none\' is a keyword; \'IMS\', | | | \'INTERNET\', \'MCX\' and \'NONE\' | | | cannot be used as \'IMS\' is a port | | | name of various PTCs | +----------------------------+----------------------------------------+ | imsPDN | | +----------------------------+----------------------------------------+ | internetPDN | | +----------------------------+----------------------------------------+ | mcxPDN | | +----------------------------+----------------------------------------+ | noPDN | | +----------------------------+----------------------------------------+
# E.3 CommonDefs
CommonDefs: Basic Type Definitions
* * *
**TTCN-3 Basic Types**  
**Null_Type** boolean (true) dummy type for \'typeless\' fields in unions
* * *
EUTRA_CellId_Type
* * *
**TTCN-3 Enumerated Type**  
**Name** **EUTRA_CellId_Type** **Comment**  
eutra_Cell_NonSpecific  
eutra_Cell1  
eutra_Cell2  
eutra_Cell3  
eutra_Cell4  
eutra_Cell6  
eutra_Cell10  
eutra_Cell11  
eutra_Cell12  
eutra_Cell13  
eutra_Cell14  
eutra_Cell23  
eutra_Cell28  
eutra_Cell29  
eutra_Cell30  
eutra_Cell31  
eutra_CellA  
eutra_CellB  
eutra_CellC  
eutra_CellD  
eutra_CellE  
eutra_CellG  
eutra_CellH  
eutra_CellI  
eutra_CellJ  
eutra_CellK  
eutra_CellL  
eutra_CellM
* * *
IPCAN_RAN_Type
* * *
**TTCN-3 Enumerated Type**  
**Name** **IPCAN_RAN_Type** **Comment** radio access network technology used
by the IPCAN PTC GERAN  
UTRAN_FDD  
UTRAN_TDD  
EUTRA_FDD  
EUTRA_TDD  
WLAN  
NR
* * *
# E.4 References to TTCN-3
* * *
**References to TTCN-3**  
**MCX_IPCAN_ASP_TypeDefs** IPCAN_IpcanModel/MCX_IPCAN_ASP_TypeDefs.ttcn Rev
32546 **MCX_CommonIPCAN** IPCAN_Common/MCX_CommonIPCAN.ttcn Rev 32341
**CommonDefs** Common/CommonDefs.ttcn Rev 32710
* * *
#