# Foreword
This Technical report has been produced by the 3rd Generation Partnership
Project (3GPP).
The contents of the present document are subject to continuing work within the
TSG and may change following formal TSG approval. Should the TSG modify the
contents of the present document, it will be re-released by the TSG with an
identifying change of release date and an increase in version number as
follows:
Version x.y.z
where:
x the first digit:
1 presented to TSG for information;
2 presented to TSG for approval;
3 or greater indicates TSG approved document under change control.
y the second digit is incremented for all changes of substance, i.e. technical
enhancements, corrections, updates, etc.
z the third digit is incremented when editorial only changes have been
incorporated in the document.
# Introduction
During Rel-14, several VoLTE/ViLTE enhancement features were specified at the
RAN level (as part of the LTE_VoLTE_ViLTE_enh work item) for RAN-assisted
codec adaptation, VoLTE/ViLTE signalling optimization and VoLTE/ViLTE
quality/coverage enhancement. In addition, media handling aspects of RAN-
assisted codec adaptation functionality were specified in TS 26.114.
As part of the VoLTE quality/coverage enhancement functionality, a delay
budget reporting framework was specified at the RAN level so that the VoLTE
coverage can be effectively enhanced by relaxing the air interface delay
budget. The UE uses RRC signalling to report the delay budget information.
Based on the reported delay budget information, when a UE is in good coverage,
the eNB can configure longer DRX for power saving purpose or the eNB can
reduce DRX cycle in order to help the remote UE and reduce end-to-end delay
and jitter, since when the remote UE is in bad coverage, the local eNB of that
remote UE can increase the retransmission times in order to reduce the packet
loss.
This technical report addresses several gaps associated with the use of the
RAN delay budget reporting framework requiring suitable media handling
recommendations. In particular, the following questions are addressed:
\- What are the available mechanisms in TS 26.114 and kinds of information
available at the MTSI client that can help towards determining the content of
the RAN-level _UEAssistanceInformation_ messages with delay budget report
information?
\- How does RAN-level delay budget reporting work in conjunction with existing
media adaptation behaviours in TS 26.114 for MTSI in an end-to-end fashion?
\- What kind of MTSI signalling (if any) at the media handling level would
facilitate a more coordinated and optimized use of the RAN delay budget
reporting framework in an end-to-end fashion?
# 1 Scope
This technical report investigates several MTSI enhancements relevant to the
media handling aspects of RAN delay budget reporting. More specifically, the
following MTSI enhancements are addressed, and the related gap analysis and
conclusions are documented:
1) Potential recommendations for MTSI on the available mechanisms in TS 26.114
to determine the content of _UEAssistanceInformation_ messages with delay
budget report information including:
\- Relevant end-to-end quality metrics (e.g., round-trip time (RTT), packet
loss ratio (PLR), jitter, etc.) in MTSI and other relevant information that
can be used to trigger _UEAssistanceInformation_ messages.
\- Suitable conditions on the end-to-end delay and jitter to determine:
\- if UE should send _UEAssistanceInformation_ with delay budget report
information, e.g., suitable RTT thresholds (i.e., with RTT determined by using
RTCP sender and receiver reports),
\- what kind of information may be included in the _UEAssistanceInformation_
messages based on the available information at the MTSI client.
2) Potential recommendations on how RAN-level delay budget reporting works in
conjunction with existing media adaptation behaviours in TS 26.114 for MTSI.
Relevant media adaptation behaviours include:
\- Codec rate or mode adaptation via CMR / RTCP-APP messages (for voice).
\- Use of application layer redundancy for increased reliability.
\- Use of packet bundling (a.k.a. frame aggregation).
In particular, potential recommendations are studied on when and how the UEs
should use RAN-based delay adjustment mechanisms in an end-to-end fashion also
accounting for local radio conditions and when UEs may activate and perform
media-layer adaptation. The recommendations provided are flexible enough to
enable implementations to optimize how relevant metrics and information,
including non-standardized information, are used by the UE.
3) Identification and definition of potential new formats for real-time
signalling of delay budget information from an MTSI receiver to an MTSI sender
during a multimedia telephony session are also considered.
Furthermore, end-to-end performance evaluations for MTSI are presented, based
on end-to-end metrics such as delay, jitter and packet loss rate, in
conjunction with RAN-level air interface delay considerations toward
developing potential recommendations on MTSI for the areas above.
# 2 References
The following documents contain provisions which, through reference in this
text, constitute provisions of the present document.
\- References are either specific (identified by date of publication, edition
number, version number, etc.) or nonâ€‘specific.
\- For a specific reference, subsequent revisions do not apply.
\- For a non-specific reference, the latest version applies. In the case of a
reference to a 3GPP document (including a GSM document), a non-specific
reference implicitly refers to the latest version of that document _in the
same Release as the present document_.
[1] 3GPP TR 21.905: \"Vocabulary for 3GPP Specifications\".
[2] 3GPP TS 26.114: \"IP Multimedia Subsystem (IMS); Multimedia telephony;
Media handling and interaction\".
[3] 3GPP TS 36.300: \"Evolved Universal Terrestrial Radio Access (E-UTRA) and
Evolved Universal Terrestrial Radio Access Network (E-UTRAN); Overall
description; Stage 2\".
[4] 3GPP TS 36.306: \"Evolved Universal Terrestrial Radio Access (E-UTRA);
User Equipment (UE) radio access capabilities\".
[5] 3GPP TS 36.321: \"Evolved Universal Terrestrial Radio Access (E-UTRA);
Medium Access Control (MAC) protocol specification\".
[6] 3GPP TS 36.331: \"Evolved Universal Terrestrial Radio Access (E-UTRA);
Radio Resource Control (RRC) protocol specification\".
[7] 3GPP TS 26.132: \"Speech and video telephony terminal acoustic test
specification\".
[8] 3GPP TR 26.952: \"Codec for Enhanced Voice Services (EVS); Performance
characterization\".
[9] IETF RFC 4585 (2006): \"Extended RTP Profile for Real-time Transport
Control Protocol (RTCP) - Based Feedback (RTP/AVPF)\", J. Ott, S. Wenger, N.
Sato, C. Burmeister and J. Rey.
# 3 Definitions and abbreviations
## 3.1 Definitions
For the purposes of the present document, the terms and definitions given in
3GPP TR 21.905 [1] and the following apply. A term defined in the present
document takes precedence over the definition of the same term, if any, in
3GPP TR 21.905 [1].
## 3.2 Abbreviations
For the purposes of the present document, the abbreviations given in 3GPP TR
21.905 [1] and the following apply. An abbreviation defined in the present
document takes precedence over the definition of the same abbreviation, if
any, in 3GPP TR 21.905 [1].
MTSI Multimedia Telephony Service over IMS
UL Up-link
# 4 Overview of RAN Delay Budget Reporting
## 4.1 Background
During Rel-14, several VoLTE/ViLTE enhancement features were specified at the
RAN level [3] to [6] (as part of the LTE_VoLTE_ViLTE_enh work item) for RAN-
assisted codec adaptation, VoLTE/ViLTE signalling optimization and VoLTE/ViLTE
quality/coverage enhancement. In addition, media handling aspects of RAN-
assisted codec adaptation functionality were specified in TS 26.114 [2].
As part of the VoLTE quality/coverage enhancement functionality, a delay
budget reporting framework was specified at the RAN level so that the VoLTE
coverage can be effectively enhanced by relaxing the air interface delay
budget. The UE uses RRC signalling to report the delay budget information, as
specified in TS 36.331 [6]. Based on the reported delay budget information,
when a UE is in good coverage, the eNB can configure longer DRX for power
saving purpose or the eNB can reduce DRX cycle in order to help the remote UE
and reduce end-to-end delay and jitter, since when the remote UE is in bad
coverage, the local eNB of that remote UE can increase the retransmission
times in order to reduce the packet loss.
## 4.2 Use Cases
In Figure 4.2.1, one use case on RAN delay budget reporting functionality is
presented. Here, UE1 (MTSI receiver) is in good radio condition and configured
with 40 ms CDRX. UE2 (MTSI sender) is in bad radio condition and configured
with no CDRX. The scenario in Figure 4.2.1 happens in the following sequence:
1) UE2 detects bad-radio condition (e.g., high BLER), it does many HARQ
retransmissions, which cause long jitter and E2E delay at the receiver UE1.
2) UE1 detects that VoLTE quality is bad (e.g., large jitter or delay), hence
it suggests eNB1 to de-configure CDRX or shorten CDRX cycle. As a result, end-
to-end delay and jitter are reduced.
3) UE2 detects that VoLTE E2E delay has dropped. UE2 reports larger delay
headroom to eNB2, so eNB may apply more eMTC repetitions (or more HARQ
retransmissions).
Figure 4.2.1: UE1 shortening CDRX cycle for a degraded VoLTE call
Essentially, UE1, despite its good coverage conditions, requests and if
granted by the eNB, achieves the shortening of its CDRX cycle, in order to be
able to provide more delay budget for UE2 so that UE2 can better tackle its
poor coverage conditions and increase the reliability of its uplink
transmissions. As such, the end-to-end quality of an MTSI call can be improved
through reduced end-to-end delay and jitter. Such a capability requires that
the UE is able to indicate to the eNB a CDRX cycle value that is different
than the configured CDRX cycle value, for instance the UE may indicate
preferred CDRX cycle length via a new RRC message.
## 4.3 RAN Feature Description
In order to realize the use cases above, the following RRC signaling was
adopted in TS 36.331 [6] based on the _UEAssistanceInformation_ message with
the semantics shown in Table 4.3.1 that allows the UE to signal to the eNB
delay budget reporting information carrying desired increment/decrement in the
Uu air interface delay or connected mode DRX cycle length.as follows:
1) A UE in good coverage indicates a preference to the eNB to reduce the local
air interface delay by sending a _UEAssistanceInformation_ message with
_delayBudgetReport_ value and indication of _type1_ to decrease the connected
mode DRX cycle length, so that the E2E delay and jitter can be reduced.
2) The peer UE in bad coverage can send a _UEAssistanceInformation_ message
with _delayBudgetReport_ value and indication of _type2_ to its eNB to
indicate a preference on Uu air interface delay adjustments.
When the UE detects changes such as end-to-end MTSI voice quality or local
radio quality, the UE may inform the eNB its new preference by sending
_UEAssistanceInformation_ messages with updated contents on
_delayBudgetReport_.
**The eNB then decides which CDRX cycle to use. A prohibit timer is configured
by the eNB to prevent the UE from sending the indication too frequently.**
Table 4.3.1: Semantics of the _UEAssistanceInformation_ message for RAN delay
budget reporting
+----------------------------------------------------------------------+ | _UEAssistanceInformation field descriptions_ | +----------------------------------------------------------------------+ | **_delayBudgetReport_** | | | | Indicates the UE-preferred adjustment to connected mode DRX or | | coverage enhancement configuration. | +----------------------------------------------------------------------+ | **_type1_** | | | | Indicates the preferred amount of increment/decrement to the | | connected mode DRX cycle length with respect to the current | | configuration. Value in number of milliseconds. Value ms40 | | corresponds to 40 milliseconds, msMinus40 corresponds to -40 | | milliseconds and so on. | +----------------------------------------------------------------------+ | **_type2_** | | | | Indicates the preferred amount of increment/decrement to the | | coverage enhancement configuration with respect to the current | | configuration so that the Uu air interface delay changes by the | | indicated amount. Value in number of milliseconds. Value ms24 | | corresponds to 24 milliseconds, msMinus24 corresponds to -24 | | milliseconds and so on. | +----------------------------------------------------------------------+
# 5 MTSI Impacts of RAN Delay Budget Reporting
## 5.1 Technical Aspect 1: End-to-End Delay and Quality Enhancements with RAN
Delay Budget Reporting
### 5.1.1 Description
RAN delay budget reporting allows air interface delay adjustments at MTSI
sender and/or MTSI receiver, so that the end-to-end delay and quality
performance can be enhanced. Considering the use case described in clause 4.2,
a good coverage UE on the receiving end to reduce its air interface delay,
e.g., by turning off CDRX or via other means. This additional delay budget can
then be made available for the sending UE, and can be quite beneficial for the
sending UE when it suffers from poor coverage. The sending UE would request
the additional delay from its eNB, and if granted, it would utilize the
additional delay budget to improve the reliability of its uplink transmissions
in order to reduce packet loss, e.g., via suitable repetition or
retransmission mechanisms.
Toward developing an end-to-end operational perspective for the MTSI sender
and MTSI receiver, the consideration of two modes are relevant:
1) _Autonomous mode:_ MTSI sender and MTSI receiver independently use RAN
delay budget reporting mechanisms toward adjusting air interface delay in
their respective RANs. As such, there is no coordination between them. In the
meantime, both sending and receiving UEs utilize available end-to-end metrics
and other information available at their MTSI client to trigger RAN delay
budget reporting.
2) _Coordinated mode:_ MTSI sender and MTSI receiver trigger and use RAN delay
budget reporting mechanisms in a coordinated fashion, and exchange delay
budget information with each other, as they work toward adjusting air
interface delays in their respective RANs. In particular, in the coordinated
mode (i) an MTSI receiver can indicate available delay budget to an MTSI
sender, and (ii) an MTSI sender can explicitly request delay budget from an
MTSI receiver. Detailed description of the potential solutions to signal delay
budget availability information between the MTSI sender and receiver may be
found in Clause 5.1.5.2. Both sending and receiving UEs utilize available end-
to-end metrics at their MTSI client and other relevant application layer
signalling received from the remote MTSI client to trigger RAN delay budget
reporting.
As it will be more evident in the forthcoming signalling flows, the
shortcomings of the autonomous mode are as follows:
1) While the MTSI sender and MTSI receiver UEs may both be independently able
to adjust their air interface delays based on the information in their MTSI
clients, they are never aware of the capabilities or actions of the other UE.
For example, while an MTSI receiver in good coverage may turn off cDRX to
create delay budget for an MTSI sender, it may be the case that the MTSI
sender does not even support delay budget reporting, or that the MTSI
sender\'s eNB may not grant the additional delay budget to the MTSI sender, so
the effort of the MTSI receiver may not deliver any end-to-end performance
gain, and end up wasting the battery power of the MTSI receiver UE. Likewise,
an MTSI sender in poor coverage may increase its air interface delay in an
attempt to perform further retransmissions to mitigate against packet losses,
without any knowledge of the possible detrimental impacts on the MTSI
receiver, e.g., packets being dropped at the jitter buffer management (JBM)
level.
2) When UE-1 and UE-2 independently adjust their air interface delays, they
rely on the end-to-end measurements available at their MTSI clients, e.g., by
monitoring reception of RTP packets and RTCP sender and receiver reports, and
knowledge of their local radio conditions. Purely relying on this information,
an MTSI receiver may not be able to correctly detect the need for additional
delay budget at the MTSI sender, e.g., as it may be the case that the losses
are caused in the network. An explicit indication from the MTSI sender as
would be enabled by the coordinated mode can help the MTSI receiver make the
right conclusion. Moreover, the MTSI receiver may not be able to determine
exactly how much additional delay budget is needed on the air interface for
the MTSI sender UE. Likewise, an MTSI sender may not be able to determine
exactly how much additional delay budget it could ask from its eNB in the
autonomous mode, in the absence of any signalling from the MTSI receiver.
### 5.1.2 Implications on MTSI
Air interface delay adjustments made through RAN delay budget reporting impact
the end-to-end delay and quality performance of MTSI in TS 26.114.
### 5.1.3 Recommended Requirements
It is recommended that in MTSI it is specified how RAN delay budget reporting
can be used in order to improve end-to-end delay and quality performance.
It is recommended that suitable trigger conditions at the MTSI client are
specified in TS 26.114 to determine:
\- if UE should send _UEAssistanceInformation_ with delay budget report
information based on end-to-end metrics at the MTSI client, e.g., via suitable
packet loss ratio (PLR) (e.g., based on monitoring of RTP receive statistics)
or RTT thresholds (e.g., with RTT determined by using RTCP sender and receiver
reports),
\- what kind of values may be included in the _UEAssistanceInformation_
messages (as per Table 4.3.1) based on the available information at the MTSI
client. Such information includes end-to-end metrics at the MTSI client and
relevant application layer signalling received from the remote MTSI client or
network.
It is recommended that new formats are defined in TS 26.114 for real-time
signalling of delay budget information from an MTSI receiver to an MTSI sender
and vice versa during a multimedia telephony session, towards facilitating a
more coordinated and optimized use of the RAN delay budget reporting framework
in an end-to-end fashion.
### 5.1.4 Gap Analysis
MTSI as in TS 26.114 currently does not specify when and how the UEs should
use RAN-based delay adjustment mechanisms in an end-to-end fashion.
### 5.1.5 Potential Solutions
#### 5.1.5.1 Signaling Flows on RAN Delay Budget Reporting Usage in MTSI
The below signaling flows describe RAN delay budget reporting usage in MTSI
for voice for the autonomous and coordinated modes.
In Figure 5.1.5.1.1, a signaling flow for RAN delay budget reporting usage in
MTSI for the autonomous mode is presented. The "Request" message is a
generalized application level rate request message that corresponds to CMR or
RTCP-APP for voice.
Figure 5.1.5.1.1: Signaling flow on usage of RAN delay budget reporting in
MTSI in the autonomous mode
Step 1: UE-1 sends UE-2 rate request via CMR or RTCP-APP for voice at bitrate
R0.
Step 2: UE-2 sends RTP media flow for voice with bitrate R0.
Step 3: UE-1 detects good radio conditions locally, e.g., eNB-1 sends a DL
access network bitrate recommendation (ANBR) of bitrate R1 > R0 to UE-1, and
UE-1 measures low block error rate (BLER) over the local radio link based on
the monitoring of successful downlink packet transmissions, and it may also
measure downlink throughput over the radio air interface that is much higher
than the received bitrate (after accounting for the relevant headers). In the
meantime, UE-1 detects high packet losses after monitoring reception of RTP
packets (also by monitoring RTCP sender and receiver reports) and applying the
highest possible jitter buffer according to the reference Jitter Buffer
Management (JBM) in TS 26.114 (subject to the JBM compliance requirement of
MTSI). Hence, UE1 concludes that UE2\'s local radio conditions are poor.
Step 4: UE-1 sends a _UEAssistanceInformation_ message to eNB-1 with type-1 to
turn off CDRX. It is assumed that eNB-1 grants this request and turns off CDRX
for UE-1. Turning off cDRX is relevant only when PLR is high, which is the
conclusion of UE-1 in this example, as per Step 3. It should however be noted
that UE-1 can increase the JBM depth to compensate the delay for high jitter.
In this scenario, delay budget request from UE-1 to eNB-1 is not necessary and
_UEAssistanceInformation_ message may not be sent. Moreover, due to other
considerations, UE-1 may choose not to turn cDRX off, e.g., when saving
battery power is critical.
Step 5: UE-2 detects high packet losses on its uplink due to poor coverage
conditions, e.g., it may measure high BLER over its local radio link based on
the monitoring of successful uplink packet transmissions, e.g., by monitoring
the HARQ acknowledgements received. UE-2 requests additional delay budget from
eNB-2 in order to perform additional re-transmissions to increase the
reliability of its UL transmissions. When requesting this additional delay
budget, UE-2 may also consider end-to-end RTT measured based on RTCP reports.
It is assumed that eNB-2 grants this request. Because UE-1 has already turned
its cDRX off, it is unlikely that the JBM constraint at UE-1 will lead to
packet losses in response to the increase air interface delay over the RAN
corresponding to UE-2.
Step-6: UE-1 measures reduced end-to-end delay and jitter, and packet losses
are also reduced.
It should be noted that the actions of UE-1 in Steps 3-4 above and actions of
UE-2 in Step 5 above are completely independent and these are not necessarily
sequential, as there is no coordination between the two UEs for this
autonomous mode of operation.
In Figure 5.1.5.1.2, a signaling flow for RAN delay budget reporting usage in
MTSI for the coordinated mode is presented.
Figure 5.1.5.1.2: Signaling flow on usage of RAN delay budget reporting in
MTSI in the coordinated mode
Steps 1-4: Identical to the earlier signalling flow corresponding to the
autonomous mode
Step 5: If delay budget information signalling is supported between UE-1 and
UE-2, UE-1 sends an RTCP feedback (RTCP-FB) message to UE-2 indicating the
availability of additional delay budget due to cDRX being turned off. It
should be noted that an RTP header extension message may also be used instead
to indicate the availability of additional delay budget. Relevant details on
the potential signalling solutions for the coordinated mode to communicate
available delay budget information can be found in clause 5.1.5.2. A concrete
delay number may also be reported as part of the RTCP-FB message that
corresponds to the air interface delay reduction on UE-1\'s RAN after turning
off cDRX, which would essentially be now available for UE-2 to improve the
reliability of its uplink transmissions. The reported delay number may also be
determined considering UE1\'s JBM constraints and can be based on its
assessment of how much additional delay it can tolerate.
Step 6: UE-2 detects high packet losses on its uplink due to poor coverage
conditions. UE-2 requests additional delay budget from eNB-2 in order to
perform further re-transmissions to increase the reliability of its UL
transmissions. When requesting the additional delay budget from eNB-2, UE-2
may also consider the RTCP-FB message it received from UE-1 on the
availability of delay budget from UE-1\'s perspective. It is assumed that
eNB-2 grants this request.
Step-7: UE-1 measures reduced end-to-end delay and jitter, and packet losses
are also reduced.
In this example, the available delay budget may be computed by the UE-1 (MTSI
receiver) based on network delay, jitter, packet loss rate (PLR) and
potentially other parameters. It may also take into account constraints on JBM
(i.e., based on reference JBM in TS 26.114). In this respect, the following
observations can be made on the expected UE behaviour:
a) Allowing UE-2 to use more retransmission will increase the jitter. This may
potentially create more packets dropped at the JBM for UE-1.
b) On the other hand, more retransmission also allows UE-2 to reduce packet
losses in its RAN uplink and this means more end-to-end reliability. So there
is a fine balance here, while it would also be expected that the end-to-end
performance is limited by the high packet losses on the UL, and hence more
retransmissions will help improve the end-to-end quality and delay
performance.
c) UE-1 turning off cRDX will help to reduce end-to-end delay. In the
meantime, if UE-1 needs to save on battery power and it is critical that cDRX
is kept on for this purpose, then UE-1 may choose not to turn cDRX off. Even
with cDRX off, if UE-1 decides that it can tolerate any further delay or
jitter at its JBM, it may indicate this available delay budget via the RTCP-FB
or RTP header extension message.
d) It is up to UE-1 to signal any additional delay budget to UE-2. If UE-1
thinks that it is already close to its JBM constraint and cannot tolerate any
additional delay or jitter (as this would lead to more packets being dropped),
it may not signal additional delay availability to UE-2.
{width="6.497916666666667in" height="4.138194444444444in"}
Figure 5.1.5.1.3: Another signaling flow on usage of RAN delay budget
reporting in MTSI in the coordinated mode
The signaling flow in Figure 5.1.5.1.3 is identical to the one in Figure
5.1.5.1.2, except that there is another stage:
Stage 8: UE-1 still suffers from high packet losses and measures high end-to-
end delay and jitter. Thus UE-1 sends UE-2 rate request via CMR or RTCP-APP
for voice at bitrate R2 \: \
TBA
#