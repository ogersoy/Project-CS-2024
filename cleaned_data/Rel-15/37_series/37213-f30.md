# Foreword
This Technical Specification has been produced by the 3rd Generation
Partnership Project (3GPP).
The contents of the present document are subject to continuing work within the
TSG and may change following formal TSG approval. Should the TSG modify the
contents of the present document, it will be re-released by the TSG with an
identifying change of release date and an increase in version number as
follows:
Version x.y.z
where:
x the first digit:
1 presented to TSG for information;
2 presented to TSG for approval;
3 or greater indicates TSG approved document under change control.
y the second digit is incremented for all changes of substance, i.e. technical
enhancements, corrections, updates, etc.
z the third digit is incremented when editorial only changes have been
incorporated in the document.
# 1 Scope
The present document specifies and establishes the characteristics of the
physical layer procedures for shared spectrum channel.
# 2 References
The following documents contain provisions which, through reference in this
text, constitute provisions of the present document.
\- References are either specific (identified by date of publication, edition
number, version number, etc.) or non‑specific.
\- For a specific reference, subsequent revisions do not apply.
\- For a non-specific reference, the latest version applies. In the case of a
reference to a 3GPP document (including a GSM document), a non-specific
reference implicitly refers to the latest version of that document _in the
same Release as the present document_.
[1] 3GPP TR 21.905: \"Vocabulary for 3GPP Specifications\".
[2] 3GPP TS 36.104: \"Evolved Universal Terrestrial Radio Access (E-UTRA);
Base Station (BS) radio transmission and reception\".
[3] 3GPP TS 36.101: \"Evolved Universal Terrestrial Radio Access (E-UTRA);
User Equipment (UE) radio transmission and reception\".
[4] 3GPP TS 36.213: \"Evolved Universal Terrestrial Radio Access (E-UTRA);
Physical layer procedures\".
# 3 Definitions, symbols and abbreviations
## 3.1 Definitions
For the purposes of the present document, the terms and definitions given in
TR 21.905 [1] apply. A term defined in the present document takes precedence
over the definition of the same term, if any, in TR 21.905 [1].
## 3.2 Symbols
For the purposes of the present document, the following symbols apply:
$\text{CW}_{p}$ Contention window for a given priority class
$\text{CW}_{\text{max,}p}$ Maximum contention window for a given priority
class
$\text{CW}_{\text{min,}p}$ Minimum contention window for a given priority
class
$T_{m\text{cot,}p}$ Maximum channel occupancy time for a given priority class
$T_{\text{ulm}\text{cot,}p}$ Maximum Uplink channel occupancy time for a given
priority class
$X_{\text{Thresh}}$ Energy detection threshold
Maximum energy detection threshold
## 3.3 Abbreviations
For the purposes of the present document, the abbreviations given in TR 21.905
[1] and the following apply. An abbreviation defined in the present document
takes precedence over the definition of the same abbreviation, if any, in TR
21.905 [1].
AUL-DFI Autonomous UL Downlink feedback indication
COT Channel Occupancy Time
LAA Licensed Assisted Access
MCOT Maximum Channel Occupancy Time
# 4 Channel access procedure
## 4.1 Downlink channel access procedures
An eNB operating LAA Scell(s) shall perform the channel access procedures
described in this clause for accessing the channel(s) on which the LAA
Scell(s) transmission(s) are performed.
### 4.1.1 Channel access procedure for transmission(s) including
PDSCH/PDCCH/EPDCCH
The eNB may transmit a transmission including PDSCH/PDCCH/EPDCCH on a carrier
on which LAA Scell(s) transmission(s) are performed , after first sensing the
channel to be idle during the slot durations of a defer duration $T_{d}$; and
after the counter $N$is zero in step 4. The counter $N$ is adjusted by sensing
the channel for additional slot duration(s) according to the steps below:
1) set $N = N_{\text{init}}$, where $N_{\text{init}}$ is a random number
uniformly distributed between 0 and $\text{CW}_{p}$, and go to step 4;
2) if $N > 0$ and the eNB chooses to decrement the counter, set $N = N - 1$;
3) sense the channel for an additional slot duration, and if the additional
slot duration is idle, go to step 4; else, go to step 5;
4) if $N = 0$, stop; else, go to step 2.
5) sense the channel until either a busy slot is detected within an additional
defer duration $T_{d}$ or all the slots of the additional defer duration
$T_{d}$ are detected to be idle;
6) if the channel is sensed to be idle during all the slot durations of the
additional defer duration $T_{d}$, go to step 4; else, go to step 5;
If an eNB has not transmitted a transmission including PDSCH/PDCCH/EPDCCH on a
carrier on which LAA Scell(s) transmission(s) are performed after step 4 in
the procedure above, the eNB may transmit a transmission including
PDSCH/PDCCH/EPDCCH on the carrier, if the channel is sensed to be idle at
least in a slot duration $T_{\text{sl}}$ when the eNB is ready to transmit
PDSCH/PDCCH/EPDCCH and if the channel has been sensed to be idle during all
the slot durations of a defer duration $T_{d}$ immediately before this
transmission. If the channel has not been sensed to be idle in a slot duration
$T_{\text{sl}}$ when the eNB first senses the channel after it is ready to
transmit or if the channel has been sensed to be not idle during any of the
slot durations of a defer duration $T_{d}$ immediately before this intended
transmission, the eNB proceeds to step 1 after sensing the channel to be idle
during the slot durations of a defer duration $T_{d}$.
The defer duration $T_{d}$ consists of duration $T_{f} = \text{16}\text{us}$
immediately followed by $m_{p}$consecutive slot durations where each slot
duration is , and includes an idle slot duration $T_{\text{sl}}$ at start of ;
A slot duration $T_{\text{sl}}$is considered to be idle if the eNB senses the
channel during the slot duration, and the power detected by the eNB for at
least $4\text{us}$within the slot duration is less than energy detection
threshold $X_{\text{Thresh}}$. Otherwise, the slot duration $T_{\text{sl}}$ is
considered to be busy.
$\text{CW}_{\text{min,}p} \leq \text{CW}_{p} \leq \text{CW}_{\text{max,}p}$is
the contention window. $\text{CW}_{p}$adjustment is described in clause 4.1.4.
$\text{CW}_{\text{min,}p}$and are chosen before step 1 of the procedure above.
$m_{p}$, $\text{CW}_{\text{min,}p}$, and are based on channel access priority
class associated with the eNB transmission, as shown in Table 4.1.1-1.
$X_{\text{Thresh}}$ adjustment is described in clause 4.1. 5
If the eNB transmits discovery signal transmission(s) not including
PDSCH/PDCCH/EPDCCH when $N > 0$in the procedure above, the eNB shall not
decrement N during the slot duration(s) overlapping with discovery signal
transmission.
The eNB shall not continuously transmit on a carrier on which the LAA Scell(s)
transmission(s) are performed, for a period exceeding$T_{m\text{cot,}p}$ as
given in Table 4.1.1-1.
For $p = 3$and $p = 4$ , if the absence of any other technology sharing the
carrier can be guaranteed on a long term basis (e.g. by level of regulation),
$T_{m\text{cot,}p} = \text{10}\text{ms}$, otherwise, $T_{m\text{cot,}p} =
8\text{ms}$.
Table 4.1.1-1: Channel Access Priority Class
* * *
Channel Access Priority Class ($p$) allowed $\text{CW}_{p}$sizes 1 1 3 7 2 ms
{3,7} 2 1 7 15 3 ms {7,15} 3 3 15 63 8 or 10 ms {15,31,63} 4 7 15 1023 8 or 10
ms {15,31,63,127,255,511,1023}
* * *
For LAA operation in Japan, if the eNB has transmitted a transmission after $N
= 0$in step 4 of the procedure above, the eNB may transmit the next continuous
transmission, for duration of maximum =4 ms, immediately after sensing the
channel to be idle for at least a sensing interval of =34us and if the total
sensing and transmission time is not more than $\text{1000} \cdot
T_{\text{mcot}} + \left\lceil T_{\text{mcot}}\frac{\ }{\ }T_{j} - 1
\right\rceil \cdot T_{\text{js}}$ µsec. consists of duration $T_{f} =
\text{16}\text{us}$immediately followed by two slot durations each and
includes an idle slot duration $T_{\text{sl}}$at start of . The channel is
considered to be idle for $T_{\text{js}}$if it is sensed to be idle during the
during the slot durations of $T_{\text{js}}$.
### 4.1.2 Channel access procedure for transmissions including discovery
signal transmission(s) and not including PDSCH
An eNB may transmit a transmission including discovery signal but not
including PDSCH on a carrier on which LAA Scell(s) transmission(s) are
performed immediately after sensing the channel to be idle for at least a
sensing interval $T_{\text{drs}} = \text{25}\text{us}$ and if the duration of
the transmission is less than 1 ms. $T_{\text{drs}}$ consists of a duration
$T_{f} = \text{16}\text{us}$immediately followed by one slot duration and
includes an idle slot duration $T_{\text{sl}}$at start of . The channel is
considered to be idle for $T_{\text{drs}}$if it is sensed to be idle during
the slot durations of $T_{\text{drs}}$.
### 4.1.3 Channel access procedure for transmissions including PDCCH and not
including PDSCH
If \'COT sharing indication\' in AUL-UCI in subframe _n_ indicates \'1\', an
eNB may transmit a transmission in subframe _n+X_ , where _X_ is
_subframeOffsetCOT-Sharing_ , including PDCCH but not including PDSCH on the
same carrier immediately after sensing the channel to be idle for at least a
sensing interval $T_{\text{pdcch}} = \text{25}\text{us}$, if the duration of
the PDCCH is less than or equal to two OFDM symbols length and it shall
contain at least AUL-DFI or UL grant to the UE from which the PUSCH
transmission indicating COT sharing was received. $T_{\text{pdcch}}$ consists
of a duration $T_{f} = \text{16}\text{us}$immediately followed by one slot
duration $T_{\text{sl}} = 9\text{us}$ and $T_{f}$includes an idle slot
duration $T_{\text{sl}}$at start of $T_{f}$. The channel is considered to be
idle for $T_{\text{pdcch}}$ if it is sensed to be idle during the slot
durations of $T_{\text{pdcch}}$.
### 4.1.4 Contention window adjustment procedure
If the eNB transmits transmissions including PDSCH that are associated with
channel access priority class $p$on a carrier, the eNB maintains the
contention window value $\text{CW}_{p}$ and adjusts $\text{CW}_{p}$ before
step 1 of the procedure described in clause 4.1.1 for those transmissions
using the following steps:
1) for every priority class set $\text{CW}_{p} = \text{CW}_{\text{min,}p}$
2) if at least $Z = \text{80}\text{\%}$ of HARQ-ACK values corresponding to
PDSCH transmission(s) in reference subframe $k$are determined as NACK,
increase $\text{CW}_{p}$ for every priority class to the next higher allowed
value and remain in step 2; otherwise, go to step 1.
Reference subframe $k$ is the starting subframe of the most recent
transmission on the carrier made by the eNB, for which at least some HARQ-ACK
feedback is expected to be available.
The eNB shall adjust the value of $\text{CW}_{p}$ for every priority class
based on a given reference subframe $k$ only once.
If $\text{CW}_{p} = \text{CW}_{\text{max,}p}$, the next higher allowed value
for adjusting $\text{CW}_{p}$ is $\text{CW}_{\text{max,}p}$.
For determining $Z$,
\- if the eNB transmission(s) for which HARQ-ACK feedback is available start
in the second slot of subframe $k$, HARQ-ACK values corresponding to PDSCH
transmission(s) in subframe $k + 1$are also used in addition to the HARQ-ACK
values corresponding to PDSCH transmission(s) in subframe $k$.
\- if the HARQ-ACK values correspond to PDSCH transmission(s) on an LAA SCell
that are assigned by (E)PDCCH transmitted on the same LAA SCell,
\- if no HARQ-ACK feedback is detected for a PDSCH transmission by the eNB, or
if the eNB detects \'DTX\', \'NACK/DTX\' or \'any\' state, it is counted as
NACK.
\- if the HARQ-ACK values correspond to PDSCH transmission(s) on an LAA SCell
that are assigned by (E)PDCCH transmitted on another serving cell,
\- if the HARQ-ACK feedback for a PDSCH transmission is detected by the eNB,
\'NACK/DTX\' or \'any\' state is counted as NACK, and \'DTX\' state is
ignored.
\- if no HARQ-ACK feedback is detected for a PDSCH transmission by the eNB
\- if PUCCH format 1b with channel selection is expected to be used by the UE,
\'NACK/DTX\' state corresponding to \'no transmission\' as described in
clauses 10.1.2.2.1, 10.1.3.1 and 10.1.3.2.1 is counted as NACK, and \'DTX\'
state corresponding to \'no transmission\' is ignored in [4].
\- Otherwise, the HARQ-ACK for the PDSCH transmission is ignored.
\- if a PDSCH transmission has two codewords, the HARQ-ACK value of each
codeword is considered separately
\- bundled HARQ-ACK across M subframes is considered as M HARQ-ACK responses.
If the eNB transmits transmissions including PDCCH/EPDCCH with DCI format
0A/0B/4A/4B and not including PDSCH that are associated with channel access
priority class $p$on a channel starting from time $t_{0}$, the eNB maintains
the contention window value $\text{CW}_{p}$ and adjusts $\text{CW}_{p}$ before
step 1 of the procedure described in clause 4.1.1 for those transmissions
using the following steps:
1) for every priority class set $\text{CW}_{p} = \text{CW}_{\text{min,}p}$
2) if less than 10% of the UL transport blocks scheduled by the eNB using Type
2 channel access procedure (described in clause 4.2.1.2) in the time interval
between$t_{0}$ and $t_{0} + T_{\text{CO}}$have been received successfully,
increase $\text{CW}_{p}$ for every priority class to the next higher allowed
value and remain in step 2; otherwise, go to step 1.
where $T_{\text{CO}}$is computed as described in clause 4.2.1.
If the $\text{CW}_{p} = \text{CW}_{\text{max,}p}$ is consecutively used $K$
times for generation of $N_{\text{init}}$,$\text{CW}_{p}$ is reset to
$\text{CW}_{\text{min,}p}$ only for that priority class $p$for which
$\text{CW}_{p} = \text{CW}_{\text{max,}p}$ is consecutively used $K$ times for
generation of $N_{\text{init}}$. $K$ is selected by eNB from the set of values
{1, 2, ...,8} for each priority class .
### 4.1.5 Energy detection threshold adaptation procedure
An eNB accessing a carrier on which LAA Scell(s) transmission(s) are
performed, shall set the energy detection threshold ($X_{\text{Thresh}}$) to
be less than or equal to the maximum energy detection threshold .
is determined as follows:
\- If the absence of any other technology sharing the carrier can be
guaranteed on a long term basis (e.g. by level of regulation) then:
-
\- is Maximum energy detection threshold defined by regulatory requirements in
dBm when such requirements are defined, otherwise
\- Otherwise,
\- $X_{\text{Thres}\text{_max}} = \text{max}\begin{matrix} \left{ - \text{72}
+ \text{10} \cdot
\text{log}\text{10}(\frac{\text{BWMHz}}{\text{20}}\text{MHz})\ \text{dBm},
\middle| \right} \ \end{matrix}\left{ \right}$
\- Where:
\- = 10dB for transmission(s) including PDSCH;
\- = 5dB for transmissions including discovery signal transmission(s) and not
including PDSCH;
\- = 23 dBm;
\- is the set maximum eNB output power in dBm for the carrier;
\- eNB uses the set maximum transmission power over a single carrier
irrespective of whether single carrier or multi-carrier transmission is
employed
\- ;
\- BWMHz is the single carrier bandwidth in MHz.
### 4.1.6 Channel access procedure for transmission(s) on multiple carriers
An eNB can access multiple carriers on which LAA Scell(s) transmission(s) are
performed, according to one of the Type A or Type B procedures described in
this clause.
#### 4.1.6.1 Type A multi-carrier access procedures
The eNB shall perform channel access on each carrier $c_{i} \in C$, according
to the procedures described in clause 4.1.1, where $C$ is a set of carriers on
which the eNB intends to transmit, and $i = 0,1,\ldots q - 1$, and $q$is the
number of carriers on which the eNB intends to transmit.
The counter $N$ described in clause 4.1.1 is determined for each carrier
$c_{i}$ and is denoted as$N_{c_{i}}$. $N_{c_{i}}$ is maintained according to
Clause 4.1.6.1.1 or 4.1.6.1.2.
##### 4.1.6.1.1 Type A1
Counter $N$ as described in clause 4.1.1 is independently determined for each
carrier $c_{i}$ and is denoted as$N_{c_{i}}$.
If the absence of any other technology sharing the carrier cannot be
guaranteed on a long term basis (e.g. by level of regulation), when the eNB
ceases transmission on any one carrier $c_{j} \in C$, for each carrier $c_{i}
\neq c_{j}$, the eNB can resume decrementing $N_{c_{i}}$ when idle slots are
detected either after waiting for a duration of $4 \cdot T_{\text{sl}}$, or
after reinitialising$N_{c_{i}}$.
##### 4.1.6.1.2 Type A2
Counter $N$is determined as described in clause 4.1.1 for carrier $c_{j} \in
C$, and is denoted as $N_{c_{j}}$, where $c_{j}$is the carrier that has the
largest $\text{CW}_{p}$value. For each carrier $c_{i}$, $N_{c_{i}} =
N_{c_{j}}$.
When the eNB ceases transmission on any one carrier for which $N_{c_{i}}$ is
determined, the eNB shall reinitialise$N_{c_{i}}$for all carriers.
#### 4.1.6.2 Type B multi-carrier access procedure
A carrier $c_{j} \in C$is selected by the eNB as follows
\- the eNB selects $c_{j}$by uniformly randomly choosing $c_{j}$from before
each transmission on multiple carriers $c_{i} \in C$, or
\- the eNB selects $c_{j}$no more frequently than once every 1 second,
where $C$ is a set of carriers on which the eNB intends to transmit, $i =
0,1,\ldots q - 1$, and $q$is the number of carriers on which the eNB intends
to transmit.
To transmit on carrier $c_{j}$
\- the eNB shall perform channel access on carrier $c_{j}$according to the
procedures described in clause 4.1.1 with the modifications described in
clause 4.1.6.2.1 or 4.1.6.2.2.
To transmit on carrier $c_{i} \neq c_{j}$, $c_{i} \in C$
\- for each carrier $c_{i}$, the eNB shall sense the carrier $c_{i}$for at
least a sensing interval $T_{\text{mc}} = \text{25}\text{us}$ immediately
before the transmitting on carrier$c_{j}$, and the eNB may transmit on carrier
$c_{i}$immediately after sensing the carrier $c_{i}$ to be idle for at least
the sensing interval $T_{\text{mc}}$. The carrier $c_{i}$is considered to be
idle for $T_{\text{mc}}$if the channel is sensed to be idle during all the
time durations in which such idle sensing is performed on the carrier
$c_{j}$in given interval $T_{\text{mc}}$.
The eNB shall not continuously transmit on a carrier $c_{i} \neq c_{j}$,
$c_{i} \in C$, for a period exceeding$T_{m\text{cot,}p}$ as given in Table
4.1.1-1, where the value of $T_{m\text{cot,}p}$ is determined using the
channel access parameters used for carrier $c_{j}$.
##### 4.1.6.2.1 Type B1
A single $\text{CW}_{p}$value is maintained for the set of carriers $C$.
For determining $\text{CW}_{p}$ for channel access on carrier $c_{j}$, step 2
of the procedure described in clause 4.1.4 is modified as follows
\- if at least $Z = \text{80}\text{\%}$ of HARQ-ACK values corresponding to
PDSCH transmission(s) in reference subframe $k$of all carriers $c_{i} \in
C$are determined as NACK, increase $\text{CW}_{p}$ for each priority class to
the next higher allowed value; otherwise, go to step 1.
##### 4.1.6.2.2 Type B2
A $\text{CW}_{p}$value is maintained independently for each carrier $c_{i} \in
C$using the procedure described in clause 4.1.4.
For determining $N_{\text{init}}$ for carrier $c_{j}$, $\text{CW}_{p}$value of
carrier $c_{j1} \in C$is used, where $c_{j1}$is the carrier with largest
$\text{CW}_{p}$among all carriers in set $C$.
## 4.2 Uplink channel access procedures
A UE and a eNB scheduling UL transmission(s) for the UE shall perform the
procedures described in this clause for the UE to access the channel(s) on
which the LAA Scell(s) transmission(s) are performed.
### 4.2.1 Channel access procedure for uplink transmission(s)
The UE can access a carrier on which LAA Scell(s) UL transmission(s) are
performed according to one of Type 1 or Type 2 UL channel access procedures.
Type 1 channel access procedure is described in clause 4.2.1.1. Type 2 channel
access procedure is described in clause 4.2.1.2.
If an UL grant scheduling a PUSCH transmission indicates Type 1 channel access
procedure, the UE shall use Type 1 channel access procedure for transmitting
transmissions including the PUSCH transmission unless stated otherwise in this
clause.
A UE shall use Type 1 channel access procedure for transmitting transmissions
including the PUSCH transmission on autonomous UL resources unless stated
otherwise in this clause.
If an UL grant scheduling a PUSCH transmission indicates Type 2 channel access
procedure, the UE shall use Type 2 channel access procedure for transmitting
transmissions including the PUSCH transmission unless stated otherwise in this
clause.
The UE shall use Type 1 channel access procedure for transmitting SRS
transmissions not including a PUSCH transmission. UL channel access priority
class $p$=1 is used for SRS transmissions not including a PUSCH.
If the UE is scheduled to transmit PUSCH and SRS in subframe $n$, and if the
UE cannot access the channel for PUSCH transmission in subframe $n$, the UE
shall attempt to make SRS transmission in subframe $n$ according to uplink
channel access procedures specified for SRS transmission.
The total length of autonomous uplink transmission(s) obtained by the channel
access procedure in this clause, including the following DL transmission if
the UE sets \'COT sharing indication\' in AUL-UCI to \'1\' in a subframe
within the autonomous uplink transmission(s), shall not exceed
{width="0.5083333333333333in" height="0.2743055555555556in"}, where
{width="0.5083333333333333in" height="0.2743055555555556in"} is given in Table
4.2.1-1.
Table 4.2.1-1: Channel Access Priority Class for UL
+---------------+---+----+------+--------------+---------------+ | Channel | | | | | allowed | | Access | | | | | $\text{ | | Priority | | | | | CW}_{p}$sizes | | Class ($p$) | | | | | | +---------------+---+----+------+--------------+---------------+ | 1 | 2 | 3 | 7 | 2 ms | {3,7} | +---------------+---+----+------+--------------+---------------+ | 2 | 2 | 7 | 15 | 4 ms | {7,15} | +---------------+---+----+------+--------------+---------------+ | 3 | 3 | 15 | 1023 | 6ms or 10 ms | { | | | | | | | 15,31,63,127, | | | | | | | 255,511,1023} | +---------------+---+----+------+--------------+---------------+ | 4 | 7 | 15 | 1023 | 6ms or 10 ms | { | | | | | | | 15,31,63,127, | | | | | | | 255,511,1023} | +---------------+---+----+------+--------------+---------------+ | NOTE1: For | | | | | | | $p = 3,4$, | | | | | | | $T | | | | | | |_{\text{ulm}\ | | | | | | | text{cot,}p}$ | | | | | | | =10ms if the | | | | | | | higher layer | | | | | | | parameter | | | | | | | \'_absenceO | | | | | | | fAnyOtherTech | | | | | | | nology-r14\'_ | | | | | | | indicates | | | | | | | TRUE, | | | | | | | otherwise, | | | | | | | $T | | | | | | | _{\text{ulm}\ | | | | | | | text{cot,}p}$ | | | | | | | =6ms. | | | | | | | | | | | | | | NOTE 2: When | | | | | | | $T_{\t | | | | | | | ext{ulm}\text | | | | | | | {cot,}p}$=6ms | | | | | | | it may be | | | | | | | increased to | | | | | | | 8 ms by | | | | | | | inserting one | | | | | | | or more gaps. | | | | | | | The minimum | | | | | | | duration of a | | | | | | | gap shall be | | | | | | | 100 µs. The | | | | | | | maximum | | | | | | | duration | | | | | | | before | | | | | | | including any | | | | | | | such gap | | | | | | | shall be 6 | | | | | | | ms. | | | | | | +---------------+---+----+------+--------------+---------------+
If the UL duration and offset\' field configures an \'UL offset\' $l$ and an
\'UL duration\' $d$ for subframe $n$, then
the scheduled UE may use channel access Type 2 for transmissions in subframes
$n + l + i$where $i = 0,1,\ldots d - 1$, irrespective of the channel access
Type signalled in the UL grant for those subframes, if the end of UE
transmission occurs in or before subframe $n + l + d - 1$.
If the \'UL duration and offset\' field configures an \'UL offset\' $l$ and an
\'UL duration\' $d$ for subframe $n$ and the \'COT sharing indication for
AUL\' field is set to true, then a UE configured with autonomous UL may use
channel access Type 2 for autonomous UL transmissions corresponding to any
priority class in subframes $n + l + i$where $i = 0,1,\ldots d - 1$, if the
end of UE autonomous UL transmission occurs in or before subframe $n + l + d -
1$ and the autonomous UL transmission between $n + l$ and $n + l + d - 1$
shall be contiguous.
If the \'UL duration and offset\' field configures an \'UL offset\' $l$ and an
\'UL duration\'$d$ for subframe $n$ and the \'COT sharing indication for AUL\'
field is set to false, then a UE configured with autonomous UL shall not
transmit autonomous UL in subframes $n + l + i$ where $i = 0,1,\ldots d - 1$.
If the UE scheduled to transmit transmissions including PUSCH in a set
subframes $n_{0},n_{1},\cdots,n_{w - 1}$ using PDCCH DCI Format 0B/4B, and if
the UE cannot access the channel for a transmission in subframe $n_{k}$, the
UE shall attempt to make a transmission in subframe $n_{k + 1}$ according to
the channel access type indicated in the DCI, where $k \in \left{ 0,1,\cdots w
- 2 \right}$, and $w$is the number of scheduled subframes indicated in the
DCI.
If the UE is scheduled to transmit transmissions without gaps including PUSCH
in a set of subframes $n_{0},n_{1},\cdots,n_{w - 1}$ using one or more PDCCH
DCI Format 0A/0B/4A/4B and the UE performs a transmission in subframe $n_{k}$
after accessing the carrier according to one of Type 1 or Type 2 UL channel
access procedures, the UE may continue transmission in subframes after $n_{k}$
where $k \in \left{ 0,1,\cdots w - 1 \right}$.
If the beginning of UE transmission in subframe$n + 1$ immediately follows the
end of UE transmission in subframe $n$, the UE is not expected to be indicated
with different channel access types for the transmissions in those subframes.
If the UE is scheduled to transmit transmissions including PUSCH Mode 1 using
the Type 1 channel access procedure indicated in DCI, and if the UE cannot
access the channel for a transmission according to the PUSCH starting position
indicated in the DCI, the UE shall attempt to make a transmission at symbol 7
in the same subframe according to Type 1 channel access procedure. There is no
limit on the number of attempts the UE can make using Type 1 channel access
procedure.
If the UE is scheduled to transmit transmissions including PUSCH Mode 1 using
the Type 2 channel access procedure indicated in DCI, and if the UE cannot
access the channel for a transmission according to the PUSCH starting position
indicated in the DCI, the UE may attempt to make a transmission at symbol 7 in
the same subframe and according to Type 2 channel access procedure. The number
of attempts the UE should make within the consecutively scheduled subframes
including the transmission is limited to $w + 1$, where $w$ is the number of
consecutively scheduled subframes using Type 2 channel access procedure.
If the UE is scheduled to transmit without gaps in subframes
$n_{0},n_{1},\cdots,n_{w - 1}$ using one or more PDCCH DCI Format 0A/0B/4A/4B,
and if the UE has stopped transmitting during or before subframe $n_{k1}$, $k1
\in \left{ 0,1,\cdots w - 2 \right}$, and if the channel is sensed by the UE
to be continuously idle after the UE has stopped transmitting, the UE may
transmit in a later subframe $n_{k2}$, $k2 \in \left{ 1,\cdots w - 1 \right}$
using Type 2 channel access procedure. If the channel sensed by the UE is not
continuously idle after the UE has stopped transmitting, the UE may transmit
in a later subframe $n_{k2}$, $k2 \in \left{ 1,\cdots w - 1 \right}$ using
Type 1 channel access procedure with the UL channel access priority class
indicated in the DCI corresponding to subframe $n_{k2}$.
If the UE receives an UL grant and the DCI indicates a PUSCH transmission
starting in subframe $n$ using Type 1 channel access procedure, and if the UE
has an ongoing Type 1 channel access procedure before subframe $n$.
\- if the UL channel access priority class value used for the ongoing Type 1
channel access procedure is same or larger than the UL channel access priority
class value indicated in the DCI, the UE may transmit the PUSCH transmission
in response to the UL grant by accessing the carrier by using the ongoing Type
1 channel access procedure.
\- if the UL channel access priority class value used for the ongoing Type 1
channel access procedure is smaller than the UL channel access priority class
value indicated in the DCI, the UE shall terminate the ongoing channel access
procedure.
If the UE
\- is scheduled to transmit on a set of carriers $C$ in subframe $n$, and if
the UL grants scheduling PUSCH transmissions on the set of carriers
$C$indicate Type 1 channel access procedure, and if the same \'_PUSCH starting
position_ \' is indicated for all carriers in the set of carriers $C$ , or
\- intends to perform an autonomous uplink transmission on the set of carriers
$C$ in subframe $n$ with Type 1 channel access procedure, and if the same
$N_{\text{Start}}^{\text{FS3}}$ is used for all carriers in the set of
carriers $C$, and
if the carrier frequencies of set of carriers $C$ is a subset of one of the
sets of carrier frequencies defined in Clause 5.7.4 in [2]
\- the UE may transmit on carrier $c_{i} \in C$ using Type 2 channel access
procedure,
\- if Type 2 channel access procedure is performed on carrier
$c_{i}$immediately before the UE transmission on carrier $c_{j} \in C$, $i
\neq j$, and
\- if the UE has accessed carrier $c_{j}$using Type 1 channel access
procedure,
\- where carrier $c_{j}$is selected by the UE uniformly randomly from the set
of carriers $C$ before performing Type 1 channel access procedure on any
carrier in the set of carriers $C$.
If the UE is scheduled to transmit on carrier by a UL grant received on
carrier $c_{j}$, $i \neq j$, and if the UE is transmitting using autonomous UL
on carrier , the UE shall terminate the ongoing PUSCH transmissions using the
autonomous UL at least one subframe before the UL transmission according to
the received UL grant.
If the UE is scheduled by a UL grant received on a carrier to transmit a PUSCH
transmission(s) starting from subframe $n$ on the same carrier using Type 1
channel access procedure and if at least for the first scheduled subframe
occupies resource blocks and the indicated \'PUSCH starting position is OFDM
symbol zero, and if the UE starts autonomous UL transmissions before subframe
$n$ using Type 1 channel access procedure on the same carrier, the UE may
transmit UL transmission(s) according to the received UL grant from subframe
$n$ without a gap, if the priority class value of the performed channel access
procedure is larger than or equal to priority class value indicated in the UL
grant, and the autonomous UL transmission in the subframe preceding subframe
$n$ shall end at the last OFDM symbol of the subframe regardless of the higher
layer parameter _endingSymbolAUL_. The sum of the lengths of the autonomous UL
transmission(s) and the scheduled UL transmission(s) shall not exceed the
maximum channel occupancy time corresponding to the priority class value used
to perform the autonomous uplink channel access procedure. Otherwise, the UE
shall terminate the ongoing autonomous UL transmission at least one subframe
before the start of the UL transmission according to the received UL grant on
the same carrier.
If subframe $n$ occurs within the time interval starting at $t_{0}$and ending
at $t_{0} + T_{\text{CO}}$, where $T_{\text{CO}} = T_{m\text{cot,}p} + T_{g}$,
where
\- $t_{0}$ is the time instant when the eNB has started transmission on the
carrier according to the channel access procedure described in clause 4.1.1,
\- $T_{m\text{cot,}p}$value is determined by the eNB as described in clause
4.1.1,
\- $T_{g}$ is the total duration of all gaps of duration greater than 25us
that occur between the DL transmission of the eNB and UL transmissions
scheduled by the eNB, and between any two UL transmissions scheduled by the
eNB starting from $t_{0}$,
then,
\- the eNB may indicate Type 2 channel access procedure in the DCI of an UL
grant scheduling transmission(s) including PUSCH on a carrier in subframe $n$
when the eNB has transmitted on the carrier according to the channel access
procedure described in clause 4.1.1,
\- or the eNB may indicate using the \'UL duration and offset\' field that the
UE may perform a Type 2 channel access procedure for transmissions(s)
including PUSCH on a carrier in subframe $n$when the eNB has transmitted on
the carrier according to the channel access procedure described in clause
4.1.1,
\- or the eNB may indicate using the \'UL duration and offset\' field and
\'COT sharing indication for AUL\' field that a UE configured with autonomous
UL may perform a Type 2 channel access procedure for autonomous UL
transmissions(s) including PUSCH on a carrier in subframe $n$ when the eNB has
transmitted on the carrier according to the channel access procedure described
in clause 4.1.1 and acquired the channel using the largest priority class
value and the eNB transmission includes PDSCH,
\- or the eNB may schedule transmissions including PUSCH on a carrier in
subframe $n$, that follows a transmission by the eNB on that carrier after
$T_{\text{short_ul}} = \text{25}\text{us}$.
The eNB shall schedule UL transmissions between $t_{0}$and $t_{0} +
T_{\text{CO}}$in contiguous subframes if they can be scheduled contiguously.
For an UL transmission on a carrier that follows a transmission by the eNB on
that carrier after $T_{\text{short_ul}} = \text{25}\text{us}$, the UE may use
Type 2 channel access procedure for the UL transmission.
If the eNB indicates Type 2 channel access procedure for the UE in the DCI,
the eNB indicates the channel access priority class used to obtain access to
the channel in the DCI.
#### 4.2.1.1 Type 1 UL channel access procedure
The UE may transmit the transmission using Type 1 channel access procedure
after first sensing the channel to be idle during the slot durations of a
defer duration $T_{d}$; and after the counter $N$is zero in step 4. The
counter $N$ is adjusted by sensing the channel for additional slot duration(s)
according to the steps described below.
1) set $N = N_{\text{init}}$, where $N_{\text{init}}$ is a random number
uniformly distributed between 0 and $\text{CW}_{p}$, and go to step 4;
2) if $N > 0$ and the UE chooses to decrement the counter, set $N = N - 1$;
3) sense the channel for an additional slot duration, and if the additional
slot duration is idle, go to step 4; else, go to step 5;
4) if $N = 0$, stop; else, go to step 2.
5) sense the channel until either a busy slot is detected within an additional
defer duration $T_{d}$ or all the slots of the additional defer duration
$T_{d}$ are detected to be idle;
6) if the channel is sensed to be idle during all the slot durations of the
additional defer duration $T_{d}$, go to step 4; else, go to step 5;
If the UE has not transmitted a transmission including PUSCH or SRS on a
carrier on which LAA Scell(s) transmission(s) are performed after step 4 in
the procedure above, the UE may transmit a transmission including PUSCH or SRS
on the carrier, if the channel is sensed to be idle at least in a slot
duration $T_{\text{sl}}$ when the UE is ready to transmit the transmission
including PUSCH or SRS, and if the channel has been sensed to be idle during
all the slot durations of a defer duration $T_{d}$ immediately before the
transmission including PUSCH or SRS. If the channel has not been sensed to be
idle in a slot duration $T_{\text{sl}}$ when the UE first senses the channel
after it is ready to transmit, or if the channel has not been sensed to be
idle during any of the slot durations of a defer duration $T_{d}$ immediately
before the intended transmission including PUSCH or SRS, the UE proceeds to
step 1 after sensing the channel to be idle during the slot durations of a
defer duration $T_{d}$.
The defer duration $T_{d}$ consists of duration immediately followed by
$m_{p}$consecutive slot durations where each slot duration is $T_{\text{sl}} =
9\text{us}$, and includes an idle slot duration $T_{\text{sl}}$at start of ;
A slot duration $T_{\text{sl}}$is considered to be idle if the UE senses the
channel during the slot duration, and the power detected by the UE for at
least $4\text{us}$within the slot duration is less than energy detection
threshold $X_{\text{Thresh}}$. Otherwise, the slot duration $T_{\text{sl}}$ is
considered to be busy.
$\text{CW}_{\text{min,}p} \leq \text{CW}_{p} \leq \text{CW}_{\text{max,}p}$ is
the contention window. $\text{CW}_{p}$adjustment is described in clause 4.2.2.
$\text{CW}_{\text{min,}p}$ and are chosen before step 1 of the procedure
above.
$m_{p}$, $\text{CW}_{\text{min,}p}$, and are based on channel access priority
class signalled to the UE, as shown in Table 4.2.1-1.
$X_{\text{Thresh}}$ adjustment is described in clause 4.2.3.
#### 4.2.1.2 Type 2 UL channel access procedure
If the UL UE uses Type 2 channel access procedure for a transmission including
PUSCH, the UE may transmit the transmission including PUSCH immediately after
sensing the channel to be idle for at least a sensing interval
$T_{\text{short_ul}} = \text{25}\text{us}$. $T_{\text{short_ul}}$ consists of
a duration $T_{f} = \text{16}\text{us}$immediately followed by one slot
duration and includes an idle slot duration $T_{\text{sl}}$at start of . The
channel is considered to be idle for $T_{\text{short_ul}}$if it is sensed to
be idle during the slot durations of $T_{\text{short_ul}}$.
### 4.2.2 Contention window adjustment procedure
If the UE transmits transmissions using Type 1 channel access procedure that
are associated with channel access priority class $p$on a carrier, the UE
maintains the contention window value $\text{CW}_{p}$ and adjusts
$\text{CW}_{p}$ for those transmissions before step 1 of the procedure
described in clause 4.2.1.1, using the following procedure
\- If the UE receives an UL grant or an AUL-DFI, the contention window size
for all the priority classes is adjusted as following:
\- If the NDI value for at least one HARQ process associated with HARQ_ID_ref
is toggled, or if the HARQ-ACK value(s) for at least one of the HARQ processes
associated with HARQ_ID_ref received in the earliest AUL-DFI after
$n_{\text{ref}}$+3 indicates ACK.
\- For every priority class set $\text{CW}_{p} = \text{CW}_{\text{min,}p}$
\- Otherwise, increase $\text{CW}_{p}$ for every priority class to the next
higher allowed value;
\- If there exist one or more previous transmissions {$T_{0}$, ... , $T_{n}$}
using Type 1 channel access procedure, from the start subframe(s) of the
previous transmission(s) of which, N or more subframes have elapsed and
neither UL grant nor AUL-DFI was received, where N = max
(_contentionWindowSizeTimer_ , $T_{i}$ burst length+1) if
_contentionWindowSizeTimer_ > 0 and N = 0 otherwise, for each transmission
$T_{i}$, $\text{CW}_{p}$ is adjusted as following:
\- increase $\text{CW}_{p}$ for every priority class to the next higher
allowed value;
\- The $\text{CW}_{p}$ is adjusted once
\- Else if the UE transmits transmissions using Type 1 channel access
procedure before N subframes have elapsed from the start of previous UL
transmission burst using Type 1 channel access procedure and neither UL grant
nor AUL-DFI is received,
\- the $\text{CW}_{p}$ is unchanged.
\- If the UE receives an UL grant or an AUL-DFI indicates feedback for one or
more previous transmissions {$T_{0}$, ... , $T_{n}$} using Type 1 channel
access procedure, from the start subframe(s) of the previous transmission(s)
of which, N or more subframes have elapsed and neither UL grant nor AUL-DFI
was received, where N = max (_contentionWindowSizeTimer_ , $T_{i}$ burst
length+1) if _contentionWindowSizeTimer_ > 0 and N = 0 otherwise, the UE may
recompute $\text{CW}_{p}$ as follows:
\- The UE reverts $\text{CW}_{p}$ to the value used to transmit at $n_{T0}$
using Type 1 channel access procedure.
\- The UE updates $\text{CW}_{p}$ sequentially in the order of the
transmission {$T_{0}$, ... , $T_{n}$}
\- If the NDI value for at least one HARQ process associated with
HARQ_ID_ref\' is toggled, or if the HARQ-ACK value(s) for at least one of the
HARQ processes associated with HARQ_ID_ref\' received in the earliest AUL-DFI
after $n_{\text{Ti}}$+3 indicates ACK.
\- For every priority class set $\text{CW}_{p} = \text{CW}_{\text{min,}p}$
\- Otherwise, increase $\text{CW}_{p}$ for every priority class to the next
higher allowed value
\- If the UE transmits transmissions using Type 1 channel access procedure
before N subframes have elapsed from the start of previous UL transmission
burst using Type 1 channel access procedure and neither UL grant nor AUL-DFI
is received,
\- $\text{CW}_{p}$ is unchanged.
> HARQ_ID_ref is the HARQ process ID of UL-SCH in reference subframe
> $n_{\text{ref}}$. The reference subframe $n_{\text{ref}}$ is determined as
> follows
\- If the UE receives an UL grant or an AUL-DFI in subframe $n_{g}$, subframe
$n_{w}$is the most recent subframe before subframe $n_{g} - 3$ in which the UE
has transmitted UL-SCH using Type 1 channel access procedure.
\- If the UE transmits transmissions including UL-SCH without gaps starting
with subframe $n_{0}$and in subframes $n_{0},n_{1},\cdots,n_{w}$ and the UL-
SCH in subframe $n_{0}$ is not PUSCH Mode 1 that starts in the second slot of
the subframe, reference subframe $n_{\text{ref}}$ is subframe $n_{0}$,
\- If the UE transmits transmissions including PUSCH Mode 1 without gaps
starting with second slot of subframe $n_{0}$ and in subframes
$n_{0},n_{1},\cdots,n_{w}$ and the, reference subframe $n_{\text{ref}}$ is
subframe $n_{0}$ and $n_{1}$,
\- otherwise, reference subframe $n_{\text{ref}}$ is subframe $n_{w}$,
> HARQ_ID_ref\' is the HARQ process ID of UL-SCH in reference subframe
> $n_{\text{Ti}}$. The reference subframe $n_{\text{Ti}}$ is determined as the
> start subframe of a transmission $T_{i}$ using Type 1 channel access
> procedure and of which, N subframes have elapsed and neither UL grant nor
> AUL-DFI was received.
If the AUL-DFI with DCI format 0A is indicated to a UE that is activated with
AUL transmission and transmission mode 2 is configured for the UE for grant-
based uplink transmissions, the spatial HARQ-ACK bundling shall be performed
by logical OR operation across multiple codewords for the HARQ process not
configured for autonomous UL transmission.
If $\text{CW}_{p}$ changes during an ongoing channel access procedure, the UE
shall draw a counter $N_{\text{init}}$ and applies it to the ongoing channel
access procedure.
The UE may keep the value of $\text{CW}_{p}$unchanged for every priority
class, if the UE scheduled to transmit transmissions without gaps including
PUSCH in a set subframes $n_{0},n_{1},\cdots,n_{w - 1}$using Type 1 channel
access procedure, and if the UE is not able to transmit any transmission
including PUSCH in the set of subframes.
The UE may keep the value of $\text{CW}_{p}$ for every priority class the same
as that for the last scheduled transmission including PUSCH using Type 1
channel access procedure, if the reference subframe for the last scheduled
transmission is also $n_{\text{ref}}$.
If $\text{CW}_{p} = \text{CW}_{\text{max,}p}$, the next higher allowed value
for adjusting $\text{CW}_{p}$is $\text{CW}_{\text{max,}p}$.
If the $\text{CW}_{p} = \text{CW}_{\text{max,}p}$ is consecutively used $K$
times for generation of $N_{\text{init}}$,$\text{CW}_{p}$ is reset to
$\text{CW}_{\text{min,}p}$ only for that priority class $p$for which
$\text{CW}_{p} = \text{CW}_{\text{max,}p}$ is consecutively used $K$ times for
generation of $N_{\text{init}}$. $K$ is selected by UE from the set of values
{1, 2, ...,8} for each priority class .
### 4.2.3 Energy detection threshold adaptation procedure
A UE accessing a carrier on which LAA Scell(s) transmission(s) are performed,
shall set the energy detection threshold ($X_{\text{Thresh}}$) to be less than
or equal to the maximum energy detection threshold .
is determined as follows:
\- If the UE is configured with higher layer parameter
\'_maxEnergyDetectionThreshold-r14_ \',
\- is set equal to the value signalled by the higher layer parameter.
\- otherwise
\- the UE shall determine $X'_{\text{Thresh_max}}$according to the procedure
described in clause 4.2.3.1
\- if the UE is configured with higher layer parameter
\'_energyDetectionThresholdOffset-r14_ \'
\- is set by adjusting $X'_{\text{Thresh_max}}$according to the offset value
signalled by the higher layer parameter
\- otherwise
\- The UE shall set $X_{\text{Thresh_max}} = X'_{\text{Thresh_max}}$
#### 4.2.3.1 Default maximum energy detection threshold computation procedure
If the higher layer parameter _\'absenceOfAnyOtherTechnology-r14\'_ indicates
TRUE:
\- $X'_{\text{Thresh_max}} = \text{min}\begin{matrix} \left{ T_{\text{max}} +
\text{10}\text{dB}, \middle| \right} \ \end{matrix}\left{ \right}$where
\- is Maximum energy detection threshold defined by regulatory requirements in
dBm when such requirements are defined, otherwise
otherwise
\- $X'_{\text{Thres}\text{_max}} = \text{max}\begin{matrix} \left{ - \text{72}
+ \text{10} \cdot
\text{log}\text{10}(\frac{\text{BWMHz}}{\text{20}}\text{MHz})\ \text{dBm},
\middle| \right} \ \end{matrix}\left{ \right}$
Where
\- = 10dB
\- = 23 dBm;
\- $P_{\text{TX}}$is the set to the value of P~CMAX_H,_c_ ~ as defined in [3].
\- ;
\- BWMHz is the single carrier bandwidth in MHz.
#