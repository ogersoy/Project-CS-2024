# Foreword
This Technical Specification has been produced by the 3^rd^ Generation
Partnership Project (3GPP).
The contents of the present document are subject to continuing work within the
TSG and may change following formal TSG approval. Should the TSG modify the
contents of the present document, it will be re-released by the TSG with an
identifying change of release date and an increase in version number as
follows:
Version x.y.z
where:
x the first digit:
1 presented to TSG for information;
2 presented to TSG for approval;
3 or greater indicates TSG approved document under change control.
y the second digit is incremented for all changes of substance, i.e. technical
enhancements, corrections, updates, etc.
z the third digit is incremented when editorial only changes have been
incorporated in the document.
# 1 Scope
This document specifies the functional architecture, procedures and
information flows needed to support the Mission Critical Data (MCData)
services. MCData is a suite of services which utilizes the common functional
architecture defined in 3GPP TS 23.280 [5] to support MC services over LTE
including the common services core.
MCData services suite consists of the following sub-services:
\- short data service (SDS);
\- file distribution (FD);
\- data streaming (DS); and
NOTE: Procedures for DS are not covered in the current specification.
\- IP connectivity.
MCData features include:
\- conversation management;
\- transmission and reception control;
\- communication release; and
\- enhanced status.
The corresponding service requirements are defined in 3GPP TS 22.282 [3] and
3GPP TS 22.280 [2].
The present document is applicable primarily to MCData service using E-UTRAN
access based on the EPC architecture defined in 3GPP TS 23.401 [4]. Certain
application functions of the MCData service could also be supported via
non-3GPP access networks but no additional functionality is specified to
support non-3GPP access.
The MCData service can be used for public safety applications and also for
general commercial applications e.g. utility companies and railways.
# 2 References
The following documents contain provisions which, through reference in this
text, constitute provisions of the present document.
\- References are either specific (identified by date of publication, edition
number, version number, etc.) or nonâ€‘specific.
\- For a specific reference, subsequent revisions do not apply.
\- For a non-specific reference, the latest version applies. In the case of a
reference to a 3GPP document (including a GSM document), a non-specific
reference implicitly refers to the latest version of that document _in the
same Release as the present document_.
[1] 3GPP TR 21.905: \"Vocabulary for 3GPP Specifications\".
[2] 3GPP TS 22.280: \"Mission Critical Common Requirements (MCCoRe); Stage
1\".
[3] 3GPP TS 22.282: \"Mission Critical Data services\".
[4] 3GPP TS 23.401: \"General Packet Radio Service (GPRS) enhancements for
Evolved Universal Terrestrial Radio Access Network (E-UTRAN) access\".
[5] 3GPP TS 23.280: \"Common functional architecture and information flows to
support mission critical communication services; Stage 2\".
[6] 3GPP TS 23.228: \"IP Multimedia Subsystem (IMS); Stage 2\".
[7] 3GPP TS 23.303: \"Proximity-based services (ProSe); Stage 2\".
[8] 3GPP TS 23.468: \"Group Communication System Enablers for LTE (GCSE_LTE);
Stage 2\".
[9] 3GPP TS 23.237: \"IP Multimedia Subsystem (IMS) Service Continuity; Stage
2\".
[10] 3GPP TS 23.002: \"Network Architecture\".
[11] 3GPP TS 23.379: \"Functional architecture and information flows to
support Mission Critical Push To Talk (MCPTT); stage 2\".
[12] 3GPP TS 29.283: \"Diameter data management applications\".
[13] 3GPP TS 33.180: \"Security of the Mission Critical Service\".
> [14] 3GPP TS 23.203: \"Policy and charging control architecture\".
[15] 3GPP TS 36.331: \"Evolved Universal Terrestrial Radio Access (E-UTRA);
Radio Resource Control (RRC); Protocol specification\".
[16] 3GPP TS 29.468: \"Group Communication System Enablers for LTE (GCSE_LTE);
MB2 reference point; Stage 3\".
[17] 3GPP TS 29.214: \"Policy and charging control over Rx reference point\".
[18] 3GPP TS 23.283: \"Mission Critical Communication Interworking with Land
Mobile Radio Systems; Stage 2\".
[19] 3GPP TS 26.348: \"Northbound Application Programming Interface (API) for
Multimedia Broadcast/Multicast Service (MBMS) at the xMB reference point\".
[20] 3GPP TS 29.116: \"Representational state transfer over xMB reference
point between content provider and BM-SC\".
> [21] 3GPP TS 26.346: \"Multimedia Broadcast/Multicast Service (MBMS);
> Protocols and codecs\".
[22] 3GPP TS 22.179: \"Mission Critical Push to Talk (MCPTT); Stage 1\".
# 3 Definitions, symbols and abbreviations
## 3.1 Definitions
For the purposes of the present document, the terms and definitions given in
3GPP TR 21.905 [1] and the following apply. A term defined in the present
document takes precedence over the definition of the same term, if any, in
3GPP TR 21.905 [1].
**Auto-receive** : A mechanism where data smaller than a configured size
threshold are delivered to the receiving MCData client(s) from the MCData
server i.e. without waiting for the receiving user to indicate a present need
for the data.
**Conversation identifier:** A universally unique identifier that identifies a
series of related MCData transactions.
**Data stream** : A sequence of data that is agnostic to any underlying media
(e.g. audio, video, telemetry data), on which processing of data (e.g.
semantic, syntactic, save or filter operation) can begin before all the
content is received.
**FD disposition:** is one of \"not downloaded\" and \"download completed\".
**Folder Identifier:** A unique identifier that identifies a folder in the
MCData message store
**IP Data:** Structured or unstructured payload that is transparent to the
MCData transport service.
**MCData client:** An instance of an MC service client that provides the
client application function for the MCData service.
**MCData emergency communication:** An MC service emergency group
communication or MC service emergency private communication within the MCData
service.
**MCData group:** An MC service group configured for MCData service.
**MCData group affiliation:** An MC service group affiliation for MCData.
**MCData group communication:** A one-to-many communication using an MCData
service.
**MCData group de-affiliation** : An MC service group de-affiliation for
MCData.
**MCData ID:** An instance of an MC service ID within the MCData service.
**MCData imminent peril communication** : An MC service imminent peril group
communication within the MCData service.
**MCData server:** An instance of an MC service server that provides the
server application function for the MCData service.
**MCData service:** A data communication service comprising at least one
underlying generic capability (e.g. SDS, file distribution, data streaming)
with strong security, high availability, reliability and priority handling to
support applications for mission critical organizations and mission critical
applications for other businesses and organizations (e.g. utilities,
railways).
**MCData UE:** An MC service UE that can be used to participate in MCData
services.
**MCData user:** An MC service user who is authorized for MCData services
suite via an MCData UE.
**Metadata:** data associated with a transmitted or stored SDS, file or data
stream, consisting of information from messages (e.g. MCData IDs, conversation
ID) and other related information (e.g. size, type).
**Object:** An MCData communication information (such as a message or a file)
that is stored in the MCData message store with its associated metadata.
**Object identifier** : A unique identifier that identifies an object stored
in the MCData message store.
**Reception control** : A mechanism that allows the MCData service to regulate
data reception to the receiving MCData clients.
**Reply identifier:** A reference to the original MCData transaction to which
the current transaction is a reply.
**SDS data:** A payload with limited size and variable content type used in
SDS transactions.
**SDS disposition** : is one of \"undelivered\", \"delivered\" and \"read\".
**Standalone communication:** A unidirectional one-to-one or group data
communication completed after one transaction.
**Transaction identifier:** A unique identifier that identifies a MCData
transaction within a conversation.
**Transmission control** : A mechanism that allows the MCData service to
regulate data transmission requests from the sending MCData users, either
prior to or after active sending from the MCData UE.
For the purposes of the present document, the following terms and definitions
given in 3GPP TS 22.280 [2] apply:
**Mission Critical**
**Mission Critical Applications**
**Mission Critical Service**
**Mission Critical Organization**
For the purposes of the present document, the following terms given in 3GPP TS
22.179 [22] apply:
> **Group-broadcast group**
>
> **User-broadcast group**
For the purposes of the present document, the following terms and definitions
given in 3GPP TS 22.282 [3] apply:
**MCData system**
For the purposes of the present document, the following terms and definitions
given in 3GPP TS 23.280 [5] apply:
> **Ad hoc Group Communication**
**MC service client**
**MC service group**
**MC service group affiliation**
**MC service group de-affiliation**
**MC service ID**
**MC service server**
For the purposes of the present document, the following terms and definitions
given in 3GPP TS 23.203 [14] apply:
**Dynamic PCC rule**
## 3.2 Abbreviations
For the purposes of the present document, the abbreviations given in 3GPP TR
21.905 [1] and the following apply. An abbreviation defined in the present
document takes precedence over the definition of the same abbreviation, if
any, in 3GPP TR 21.905 [1].
DS Data Streaming
E2EE End to End Encryption
FD File Distribution
ITSI Individual TETRA Subscriber Identity
LMR Land Mobile Radio
MC Mission Critical
MCData ID MCData user identity
PCC Policy and Charging Control
PCRF Policy and Charging Rules Function
QCI QoS Class Identifier
RSI Radio Set Identity
SDS Short Data Service
UM Unacknowledged Mode
# 4 Introduction
The MCData service suite provides a set of generic capabilities and specific
services to enable one-to-one and group data communications between MCData
users.
The MCData architecture utilises the common functional architecture to support
mission critical services over LTE defined in 3GPP TS 23.280 [5] and aspects
of the IMS architecture defined in 3GPP TS 23.228 [6], the Proximity-based
Services (ProSe) architecture defined in 3GPP TS 23.303 [7], the Group
Communication System Enablers for LTE (GCSE_LTE) architecture defined in 3GPP
TS 23.468 [8] defining MBMS support via the MB2 interface, the MBMS User
Service architecture defined in 3GPP TS 26.348 [19], the Security of the
Mission Critical Service in 3GPP TS 33.180 [13] and the PS-PS access transfer
procedures defined in 3GPP TS 23.237 [9] to enable support of the MCData
service.
The MCData UE primarily obtains access to the MCData service via E-UTRAN,
using the EPS architecture defined in 3GPP TS 23.401 [4]. Certain application
functions of MCData service can be accessed using MCData UEs via non-3GPP
access networks.
The MCData system provides the function to support interworking with LMR
systems defined in 3GPP TS 23.283 [18].
# 5 Architectural requirements
## 5.1 Transmission control
The MCData service supports the ability to transmit SDS messages automatically
towards the selected recipient user (private communication) or members of the
selected MCData group. The MCData server may still reject the sent message
(e.g. if there is no authority to send).
For MCData types other than SDS using signalling control plane, the MCData
service invokes a transmission request grant approach before data is permitted
to be transmitted. The MCData service provides configurable limits for the
maximum amount of data for and/or maximum amount of time that an MCData user
can transmit in a single request, which may be configured by the MCData
administrator.
For congestion control, related to transmission requests, the MCData service
may perform the following:
\- reject the data transmission requests and then shall notify the MCData user
of the rejection;
\- queue the data transmission requests; or
\- at any time, withhold the permission to transmit data automatically.
The MCData service shall notify the transmitting MCData group member if there
are no other MCData group members affiliated to the MCData group.
The MCData service supports the lossless communication, and it can be
configured by the MCData administrator for the private communication and group
communication. The lossless communication can be supported only if the user
has a valid and active MCData message store account. If the lossless
communication is configured for private communication and if the MCData
communication cannot be delivered to the MCData user (e.g. if the recipient is
not available at the time of data delivery or network congestion), it shall be
made available to the MCData user by storing it in the MCData user\'s personal
account in the MCData message store. If a MCData group is configured for
lossless communication, all members of the selected MCData group shall receive
the MCData communication, at a time dependent on affiliation status. An
affiliated group member of this MCData group shall receive the MCData
communication when they are sent. A group member that is not affiliated during
MCData communication, the MCData communication shall be made available by
storing it in the group member\'s personal account in the MCData message
store. If a MCData group is not configured for lossless communication, only
the affiliated members of the selected MCData group shall receive the MCData
communication.
In order to support lossless communication, below are the conditions that
needs to be satisfied:
\- Lossless communication is provisioned
\- MCData user has the valid MCData message store account
\- Store communication into message store configuration parameter is enabled
\- MCData user has requested to store the MCData communication into MCData
message store
## 5.2 Reception control
The MCData service shall support the ability to receive small amounts of data
automatically. The MCData service may store data waiting for delivery in a
temporary store, and notify availability to the receiving MCData users, i.e.
deferred delivery. The data which is temporarily stored may be configured with
\"time to live\" value, and subsequently, the data may be purged from the
temporary store upon expiry of \"time to live\".
When a MCData user has an active MCData message store account and has
activated lossless communication, the MCData service deferred delivery shall
not be used when the user is offline.
The recipient individual user (private communication) or affiliated members of
the MCData group(s) shall be notified of the list of available data either on
request or periodically.
The MCData service shall provide a mechanism for the MCData user to select
data to be downloaded from the list corresponding to the temporary store,
subject to limitations such as expiry time and size.
The MCData service shall support the ability to automatically deliver files
with a size less than a configured threshold value (i.e. auto-receive). The
data size for auto-receive shall be configured by the MCData administrator.
## 5.3 Short Data Service capability
The MCData service shall support SDS capability for one-to-one and group
communications.
The SDS capability shall support messages with a maximum payload of at least
1000 bytes. The supported message types shall include text, binary, or
hyperlinks. Multiple message types may be interleaved within in a single
message payload. The payload shall support inclusion of location information
of the sending MCData user, with or without user or application provided data.
The MCData service shall support messages to be sent over the signalling plane
or the media plane.
The SDS capability shall allow for multiple related messages to be correlated
and sequenced within the MCData service.
The MCData user shall be able to selectively request read and delivery receipt
indication for the sent messages. The message delivery history information
should be made available to an authorized MCData user.
The MCData service may support aggregation of disposition notifications when
SDS messages are sent to multiple recipients.
## 5.4 File distribution capability
The MCData service shall support distribution of files for one-to-one and
group communications.
The MCData service shall allow the MCData user to send a file or a URL of a
file to another MCData user. The source of the file can originate either from
an MCData client or from a network functional entity. The generated URL shall
be a reference to a stored file to allow for subsequent retrieval. The file
storage policy may determine the availability of the file to be retrieved, and
is subject to expiry time and size limitations.
When the file delivery request is set by the sending user to mandatory
download, the MCData service shall proceed to deliver the file to the
recipient when possible. The file distribution mechanisms shall support both
unicast and broadcast delivery methods.
The MCData service shall support aggregation of download completed reports
when files are distributed to multiple recipients.
The MCData service shall support mechanisms for detection and recovery of lost
data. A receiving MCData client should be able to:
\- detect and report when a transfer did not complete properly and request
retransmission;
\- identify and re-request the missing parts of an incompletely received file;
and
\- accept partial retransmissions and use them to reconstitute the original
file.
When employing MBMS delivery:
\- MCData may use the MB2 interface specified in 3GPP TS 23.468 [8]. See also
Group Communication Delivery Method in 3GPP TS 26.346 [21]; or
\- if MBMS user services and Download Delivery Method (see 3GPP TS 26.346
[21]) are utilized, MCData shall use the xMB interface specified in 3GPP TS
26.348 [19].
For the MBMS path, figure 5.4-1 shows both the MB2 and the xMB interfaces.
Figure 5.4-1 MCData on-network architecture showing the unicast and MBMS
delivery paths
## 5.5 Data streaming capability
The MCData service may support data streaming capability for one-to-one and
group communications.
The MCData service may allow the MCData user to send a data stream or a URL of
a data stream to another MCData user. The source of the data stream can
originate either from an MCData client or from a network functional entity.
For a data stream originating at a network functional entity, the data stream
may be provided by an MCData user. The data streaming mechanisms shall support
both unicast and broadcast delivery methods.
When the data streaming request is set to automatic reception, the MCData
service may not require consent from the receiving MCData user.
The MCData user may be able to apply controls (i.e. start, stop, cancel) to
the streams, and on a per recipient basis.
The stream may be terminated through an explicit user control (i.e. stop,
cancel operation) or by reaching the end of the streamed content.
## 5.6 MCData group affiliation and MCData group de-affiliation
MCData groups may be configured with one or more MCData sub-services (e.g.
SDS, FD, DS) as specified within the MCData service. When an MCData user
affiliates to an MCData group, the MCData user is affiliated to each of those
MCData sub-services configured in the MCData group. The list of MCData sub-
services configured for an MCData group shall be included in the MCData group
configuration data.
MCData group affiliation shall be as specified in clause 5.2.5 of 3GPP TS
23.280 [5]. In addition, the following requirements shall be fulfilled by the
MCData service for MCData users affiliated to MCData groups:
\- MCData users receive notifications for participating in MCData sub-services
and invitations for their affiliated MCData group(s).
\- MCData users select an affiliated MCData group to initiate a new message,
file distribution, data stream, etc.
\- MCData users receive messages, files, data streams, enhanced status
updates, etc, from their affiliated MCData group(s).
## 5.7 Conversation management
The conversation management:
1\. shall include a service indication for conversation management in each SDS
and FD transaction.
2\. may be comprised of SDS transactions or FD transactions or a combination
of both.
3\. shall include a conversation identifier in each SDS and FD transaction.
4\. shall treat conversation between different set of users (either in one-to-
one or group) as a separate conversation.
5\. shall treat conversation between the same set of users (either in one-to-
one or group), but with a different conversation identifier as a separate
conversation.
## 5.8 Bearer management
### 5.8.1 General
The MCData UE shall use the APNs as defined in subclause 5.2.7.0 and table
A.6-1 of 3GPP TS 23.280 [5]. The MCData UE shall use the MC services APN as
defined in subclause 5.2.7.0 and table A.6-1 of 3GPP TS 23.280 [5] for the
SIP-1 reference point.
### 5.8.2 EPS bearer considerations
The EPS bearer considerations specified in subclause 5.2.7.2 of 3GPP TS 23.280
[5] shall apply.
### 5.8.3 EPS unicast bearer considerations for MCData
For an MCData session request, resources shall be requested utilising
interaction with dynamic PCC. The MCData system shall request resources over
Rx to a PCRF. The dedicated bearer for MCData media shall utilise the QCI
value of 70 (as specified in 3GPP TS 23.203 [14]). The request of resources
over Rx shall include an application identifier for MCData in order for the
PCRF to evaluate the correct QCI.
The UE is required to support at minimum one bearer, which is used for MCData
(see annex A in 3GPP TS 36.331 [15]).
Depending on operator policy, for media plane:
\- the MCData system may be able to request modification of the priority (ARP)
of an existing bearer without the need to initiate a new dedicated GBR bearer;
or
\- the allocation of EPS bearers of desired priority for MCData communications
may cause the pre-emption of lower priority pre-emptible EPS bearers (for
MCData or for other applications), if the maximum number of bearers or maximum
traffic capacity has been reached, in favour of the newly initiated MCData EPS
bearer. In this case, if the new EPS bearer to be used for MCData
communication has higher priority level (ARP) than other bearer(s), is
allocated with a capability to pre-empt other bearers and the other bearer(s)
are pre-emptible, then the EPS bearer for MCData communication pre-empts one
(or more) of the existing EPS bearer(s).
NOTE: Operator policy takes into account regional/national requirements.
The EPS bearer(s) for MCData emergency communications shall have highest
priority level among MCData communication types. The EPS bearer(s) for MCData
imminent peril communications shall have higher priority level than for normal
MCData communications but lower than the priority level for MCData emergency
communications.
### 5.8.4 MBMS bearer management
The MBMS bearer management for MC services is specified in subclause 5.2.7.1
of 3GPP TS 23.280 [5].
## 5.9 Disposition
Disposition requests and notifications can be sent \"in-band\" using the same
mechanism used for transport of the data, or can be sent \"out-of-band\" when
the mechanism used for transport of the data is no longer available.
For standalone SDS and FD, the MCData UE shall use the signalling plane for
disposition request and disposition notifications. For session SDS, the MCData
UE shall use:
\- the media plane for disposition request and disposition notifications; and
\- the signalling plane for disposition notifications when the media plane is
no longer available.
## 5.10 MCData message store
MCData message store is used by MCData users to store their MCData
communications permanently; it shall provide secured storage area for each
authorized MCData user having a user account. The storage area is identified
by the MCData user\'s MCData ID. The MCData message store shall allow an
MCData user to access only the storage area that he is authorized to access. A
user (i.e. a dispatcher) other than the user account holder shall be able to
access the account holder\'s storage area if authorized.
During an active MCData communication, the participating function on the
MCData server of a MCData user participant shall, if the configuration to
store the MCData communication is enabled for and if requested by the MCData
user, deposit messages and files exchanged in the conversation to the MCData
user\'s storage area in the MCData message store. When depositing the MCData
communication into the MCData message store, if no such MCData user account is
available on the MCData message store the MCData server shall create the
user\'s account first and then deposit the MCData communications. The MCData
message store shall support user account creation and deposit MCData
communications operations from the MCData server after successful
authentication and authorization. The MCData message store shall support the
message store client to retrieve, update, delete, search and synchronize
MCData communications stored in the MCData message store, after successful
authentication and authorization.
The MCData user shall have an option if he wants to store the MCData
communications in the MCData message store or not. Based on the request from
MCData user, messages and files exchanged in an active MCData communication
shall be stored as objects in the MCData message store. A stored object shall
contain the following information:
1\. The message or file itself; and
2\. Associated metadata, consisting of:
a. information retrieved from the information elements of the message or file,
such as MCData IDs, Conversation identifier etc.; and
b. other information, such as content type (message or file), status
(\"seen\", \"received by\", \"read by \", \"downloaded by \" etc).
If a file is distributed indirectly with a URL in a message, when this message
is stored in the MCData user\'s account in the MCData message store, it could
be stored as:
1\. an object as the original message with the URL; or
2\. an object as the message with a revised URL that the URL indicates where
the file, retrieved from the MCData content server, is stored separately in
the MCData user\'s storage account. With proper security and authorization,
this URL can be accessible by other network entities such as the MCData
content server.
NOTE: It is the decision of SA3 on the mechanism to store an encrypted message
or file in the MCData message store.
When a MCData user logs onto a UE with successful authentication and
authorization and obtains the user service profile, the message store client
on the UE shall synchronize with the user\'s account on the MCData message
store, either automatically or manually (i.e. interacts with the user on which
option to synchronize or no synchronization at all), before any MCData service
starts.
## 5.11 IP connectivity (IPcon) capability
IP connectivity service enables the exchange of IP Data using MCData transport
service and provides the transport of IP Data for e.g. data hosts, servers,
etc. that do not have mission critical communication capabilities. The
exchange of IP Data is not limited in a transaction.
Figure 5.11-1: IP connectivity model
The corresponding MCData client enables bidirectional IP Data communication
with the support of the IP connectivity service and thus forms the gateway to
data hosts or servers. Therefore, the IP connectivity MCData client requests
the MCData transport service with the associated QoS requirement and
communication priority.
An authorised MCData client supporting IP connectivity capabilities is able to
bar incoming IP connectivity requests either on demand or by providing a list
of excluded origins identified by the MCData ID and, if available, by the
functional alias.
For IP connectivity, the MCData server may support following limitation to
exchange IP Data:
\- limit the total data volume between the authorized MCData clients, divided
by transmission and reception;
\- max time limit, e.g. total minutes or allow exchange between predefined
start and end time.
IP connectivity MCData service supports MCData transport services for one-to-
one and group communication.
The IP address allocation necessary for user-IP connectivity MCData transport
service is independent to the IP address allocation of the individual data
hosts attached with the MCData client supporting IP connectivity capabilities.
The required IP address pools for the user-IP connectivity MCData service are
managed by the IP connectivity MCData transport service.
NOTE: IP connectivity service on interworking is not covered in the current
specification.
## 5.12 MBMS user service architecture requirements
The MBMS user service architecture offers a set of delivery methods to
applications, specified in 3GPP TS 26.346 [21]. The MBMS download delivery
method is used for the delivery of files over MBMS and provides reliability
control by means of forward-error-correction.
The MCData File Distribution capability can use the MBMS download delivery
method by including, in the MC service-on network architecture (subclause
5.2.6 from 3GPP TS 23.280 [5]), the MBMS user service architecture (3GPP TS
26.346 [21]), with the MCData server assuming the role of the content
provider.
The MCData server may determine the MBMS broadcast area based on the cell
identities of the affiliated group members received over GC1.
When the xMB interface is used, the MCData server uses the xMB mission
critical extension, specified in 3GPP TS 26.348 [19] to control the QoS and
the MBMS broadcast area of the MBMS user services. The MCData server also
provides a file delivery manifest over xMB-C (see subclause 5.6.2 from 3GPP TS
26.348 [19]) describing the list of files to be broadcasted, and, for each
file, the target completion date and the number of repetitions.
The MBMS user service metadata, which provides the delivery and schedule
parameters, are returned to the MCData server after the MBMS session creation
or update, under the form of a SA file (annex L.3A from 3GPP TS 26.346 [21]).
The MCData server signals this SA file, together with the service id and the
uri of the file to be received to the targeted MCData clients.
NOTE: Use of service announcement channel to deliver MBMS user service
metadata is not covered in the current specification.
## 5.13 MBMS delivery via MB2 interface
MBMS delivery via MB2 applies to MCData services that use media plane for user
traffic delivery.
## 5.14 Delivery Notification
A MCData user may request a delivery report (such as delivered, message read,
or file downloaded etc.) when sending a MCData data (i.e. a message or a
file). The recipient((s) shall respond with the proper delivery status
response(s) (such as delivered, message read, or file downloaded etc.)
according to what is requested in the delivery report. The sender of the
MCData data may include multiple delivery status (such as delivered, message
read, or file downloaded etc.) in the delivery report and the recipient(s)
shall respond accordingly.
When the recipient is offline and receives a MCData data with request for
delivery report, the delivery status response(s) shall follow one of the two
principles below:
1\. If the deferred delivery is used to deliver the MCData data, the delivery
status response(s) shall be determined and responded by the recipient when the
data is delivered. The MCData server may send a provisional delivery status
report (such as the recipient is offline and the data will be delivered when
the recipient is online or discarded due to timeout etc.) to inform the sender
about the data delivery progress.
2\. If the data is delivered with lossless communication, the MCData server
shall respond with a delivered status report to the sender once the data is
deposited into the recipient\'s MCData message store account. If the message
read or file downloaded status is requested, the recipient shall respond it
when the data is synced on the user device and processed by the recipient.
5A Involved business relationships
The description of the involved business relationships for the MCData service
is contained in clause 6 of 3GPP TS 23.280 [5].
# 6 Functional model
## 6.1 General
This clause defines the functional model for MCData service.
The security solution for the MCData service, including end-to-end encryption,
is specified in 3GPP TS 33.180 [13].
## 6.2 Description of the planes
The functional model for the support of MCData is defined as a series of
planes to allow for the breakdown of the architectural description.
The description of the planes and the relationship between the planes are
contained in the common functional architecture to support MC services in 3GPP
TS 23.280 [5].
## 6.3 Transmission and reception control aspects
### 6.3.1 General
The transmission and reception control are functions of the MCData server.
For small data transmissions there is no need for prior grant of request to
transmit. The procedures in the present document describe when data is
automatically sent.
For large data transmissions, i.e. large files, the data is transmitted only
after request to transmit is granted. The data to be transmitted and/or
received may be stored in a data repository associated with the transmission
and reception control functions.
NOTE: An overview of transmission control process and possible arbitration
mechanisms is provided in the Annex B.
## 6.4 Generic functional model
### 6.4.1 On-network functional model
Figure 6.4.1-1 shows the generic application plane functional model.
Figure 6.4.1-1: Generic application plane functional model
In the model shown in figure 6.4.1-1, capability functions (SDS, FD, DS,
IPcon) of the MCData client and the MCData server along with their reference
points (MCData-cap-1 to MCData-cap-n) are described in the respective
functional models for each capability.
NOTE 1: The security aspects of new network components (MCData message store,
Message store client and MCData notification server) and the associated new
reference points are the responsibility of SA3 and thus outside the scope of
the present document.
An MCData server controls the signaling reference points and the corresponding
media allowing different paths for media and signalling.The MCData server
determines if it needs to stay in the media path based on the feature(s)
involved in the MCData communication, e.g., if the MCData message store is
required in the MCData communication, the MCData server shall remain in the
media path.
NOTE 2: If the MCData server is not in the MCData communication media path,
any implications regarding MC user data logging are left to implementation.
### 6.4.2 Off-network functional model
### 6.4.3 Functional entities description
Editor\'s note: Combining functional models describing each capability into
one functional model is FFS.
#### 6.4.3.1 Application plane
##### 6.4.3.1.1 MCData client
The MCData client functional entity acts as the user agent for all MCData
application transactions. The client supports SDS, file distribution, data
streaming and IP connectivity MCData capabilities utilized by MCData services
like conversation management, robots control, enhanced status, database
enquiries and secured internet.
##### 6.4.3.1.2 MCData server
The MCData server functional entity provides centralised support for MCData
services suite. Conversation management, robots, enhanced status, database
enquiries and secured internet MCData services requiring one-to-one or group
data communication are realized using SDS, file distribution, data streaming
and IP connectivity MCData communication capabilities.
All the MCData clients supporting users belonging to a single group are
required to use the same MCData server for that group. An MCData client
supporting a user involved in multiple groups can have relationships with
multiple MCData servers.
For MBMS delivery, the MCData server functional entity represents a specific
instantiation of the GCS AS described in 3GPP TS 23.468 [8] to control
multicast and unicast operations for group communications.
If the MBMS user service architecture is utilized, the MCData server
functional entity represents a specific instantiation of the content provider
as described in 3GPP TS 26.346 [21] to control multicast operations for file
distribution.
The MCData server functional entity is supported by the SIP AS functional
entity of the signalling control plane.
The MCData server shall support the controlling role and the participating
role. The MCData server may perform the controlling role for one-to-one and
group data communication. The MCData server performing the controlling role
for a one-to-one or group data communication may also perform a participating
role for the same one-to-one or group data communication. For each one-to-one
and group data communication, there shall be only one MCData server assuming
the controlling role, while one or more MCData servers in participating role
may be involved.
The MCData server performing the controlling role is responsible for:
\- handling transmission and reception control (e.g. policy enforcement for
participation in the MCData group communication) towards all the MCData users
of the one-to-one and group data communication;
\- interfacing with the group management server for group policy and
affiliation status information of this MCData server\'s served affiliated
users;
\- managing SDS and FD data distribution during MCData group communication;
and
\- managing the MCData transport service for IP connectivity.
The MCData server performing the participating role is responsible for:
\- handling transmission control (e.g. authorization for participation in the
MCData group communication) to MCData users of the one-to-one and group data
communication;
\- group affiliation support for MCData user, including enforcement of maximum
Nc2 number of simultaneous group affiliations by a user;
\- interfacing with the group management server for group policy and
affiliation status information of this MCData server\'s served affiliated
users;
\- relaying the MCData communication messages between the MCData client and
the MCData server performing the controlling role; and
\- handling reception control (e.g. temporarily storing the data to present to
the MCData user as required) to its MCData users of the one-to-one and group
data communication.
NOTE: The MCData server in the controlling role and the MCData server in the
participating role can belong to the same MCData system.
##### 6.4.3.1.3 MCData user database
This functional entity contains information of the MCData user profile
associated with an MCData ID that is held by the MCData service provider at
the application plane. The MCData user profile is determined by the mission
critical organization, the MCData service provider, and potentially the MCData
user.
##### 6.4.3.1.4 Interworking function to LMR system
The functional entity is specified in 3GPP TS 23.283 [18].
##### 6.4.3.1.5 MC gateway server
The MC gateway server provides support for MCData interconnection services
with a partner MCData system in a different trust domain whilst providing
topology hiding. It acts as a proxy for one or more MCData servers in the
partner MCData system without needing to expose the MCData servers in the
primary MCData system outside the trusted domain of the primary MCData system.
It may be a role of the MCData server described in subclause 6.4.3.1.2 of the
present document.
The MC gateway server is responsible for relaying call control and
transmission control signalling messages, and media between MCData servers
within the MCData system and the interconnected MCData system.
#### 6.4.3.2 Signalling control plane
The description of the signalling control plane is contained in the common
functional architecture to support MC services as specified in 3GPP TS 23.280
[5].
#### 6.4.3.3 MCData message store
The MCData message store is a network base persistent store that allows
Mission Critical Organization to configure their MCData users to permanently
store their MCData communications. Once configured a MCData user will be
allocated a secured storage area (i.e. size) in the MCData message store that
is only accessible by that configured MCData user and any authorized users.
The MCData user can manage how and what will be stored in his personal message
store with the support of management operations such as creating, deleting and
merging folders, moving stored messages and files around and synchronization
all used devices to provide the same contxt view etc.
NOTE: The security aspects of access and management (such as
read/write/update/sync etc.) of personal message store are the responsibility
of SA3 and thus outside the scope of the present document.
#### 6.4.3.4 Message store client
The Message store client is used to support MCData client to manage the MCData
communication history stored in MCData message store for a particular MCData
user, It supports the secure access to a MCData user\'s configured MCData
message store area and operations relevant to the stored communication history
such as folders management and synchronization to the device local message
store.
#### 6.4.3.5 MCData notification server
The MCData notification server provides the centralized notification function
in the network. The MCData notification server allows an application (e.g.
resident in the UE) to create a communication channel to receive real-time
notifications from the network in either Pull or Push mode. Depending on the
channel type created, the MCData notification server provides the application
a callback endpoint (i.e. URL) and may also provide a channel endpoint (i.e.
URL). The application communicates the callback endpoint information to the
application server (i.e. network enabler) for it to use in sending to the
MCData notification server the events for delivery to the application.
Depending on the type of channel created by the application the delivery of
the notifications from the MCData notification server to the application may
be via a Pull or Push method. If Pull method is used, then the application
shall use the provided channel endpoint to pull the notifications from the
MCData notification server. However, if a Push notification delivery is used,
then the MCData notification server asynchronously delivers the events
received from the application server to the application through a PUSH Enabler
server. The MCData notification server provides a consistent way to deliver
notifications by all services to reduce the complexity of service logic on the
application server.
It depends on deployment, if multiple MCData notification servers aredeployed.
#### 6.4.3.6 Message notification client
The Message notification client is used to request the notification service
from the MCData notification server. Once the notification service request is
authorized by the MCData notification server, the Message notification client
will communicate the callback endpoint, received from the MCData notification
server, to the MCData message store to be used for notification message
delivery.
When multiple MCData notification servers are deployed, the Message
notification client shall select one for notification service at any given
time. How the Message notification client selects the appropriate MCData
notification server from multiple available MCData notification servers for
service is implementation specific.
### 6.4.4 Reference points
#### 6.4.4.1 Application plane
##### 6.4.4.1.1 General
The reference points for the application plane of MCData service are described
in the following subclauses.
##### 6.4.4.1.2 Reference point MCData-2 (between the MCData server and the
MCData user database)
The MCData-2 reference point, which exists between the MCData server and the
MCData user database, is used by the MCData server to obtain information about
a specific user. The MCData-2 reference point utilises a diameter management
application protocol as defined in 3GPP TS 29.283 [12] and shall be intra-
network.
##### 6.4.4.1.3 Reference point MCData-3 (between the MCData server and the
MCData server)
The MCData-3 reference point, which exists between the MCData server and the
MCData server for MCData application signalling for establishing MCData
sessions, shall use the SIP-2 reference point for transport and routing of
signalling. If each MCData server is served by a different SIP core then the
MCData-3 reference point shall also use the SIP-3 reference point for
transport and routing of signalling. Media is also transferred using the
MCData-3 reference point.
##### 6.4.4.1.3A Reference point MCData-5 (between the MCData server and the
EPS)
The MCData-5 reference point, which exists between the MCData server and the
EPS, is used, subject to the conditions below, by the MCData server to obtain
unicast bearers with appropriate QoS from the EPS. It utilises the Rx
interface of the EPS according to 3GPP TS 23.203 [14].
MCData-5 is not used when the MCData service provider and the PLMN operator do
not have an operational agreement for QoS control to be provided directly from
the MCData service provider domain.
MCData-5 may be used when the MCData service provider and the PLMN operator
have an operational agreement where QoS control is provided directly from the
MCData service provider domain.
NOTE: Any coordination between the P-CSCF use of Rx and the MCData server use
of Rx (via MCData-5) from the MCData service provider domain is not specified
in this release of this specification.
##### 6.4.4.1.4 Reference point MCData-6 (between the MCData server and the
EPS)
The MCData-6 reference point, which exists between the MCData server and the
EPS, is used to request the allocation and activation of multicast transport
resources for MCData application usage. The MCData-6 reference point uses the
MB2-C interface as defined in 3GPP TS 29.468 [16]. The MCData-6 reference
point also uses the xMB-C interface as defined in 3GPP TS 29.116 [20] for file
distribution.
##### 6.4.4.1.5 Reference point IWF-2 (between the interworking function to
LMR system and the MCData server)
The IWFâ€‘2 reference point is specified in 3GPP TS 23.283 [18].
##### 6.4.4.1.6 Reference point MCData-7 (between the Message store client and
MCData message store)
The MCData-7 reference point, which exists between the Message store client
and the MCData message store, is used by the Message store client to manage
the information stored in the MCData message store, to subscribe to changes in
the MCData message store and to synchronize between the MCData client and the
MCData message store.
##### 6.4.4.1.7 Reference point MCData-8 (between the MCData message store and
McData server)
The MCData-8 reference point, which exists between the MCData server and the
MCData message store, is used by the MCData server to access and manage the
MCData message store such as creating MCData user folders and depositing the
communications history.
##### 6.4.4.1.8 Reference point MCData-9 (between the MC gateway server and
the MC gateway server in a different MCData system)
The MCData-9 reference point, which exists between the MC gateway server and
the MC gateway server in an interconnected MCData system for MCData
application signalling for establishing MCData sessions, shall use the SIPâ€‘3
reference point for transport and routing of signalling. The MCData-9
reference point also carries application data where the data size is too great
to be transferred on the signalling plane.
##### 6.4.4.1.9 Reference point MCData-10 (between the Message notification
client and MCData notification server)
The MCData-10 reference point, which exists between the Message notification
client and the MCData notification server, is used by the Message notification
client to create an appropriate notification channel(s) at the MCData
notification server in order to direct events from MCData message store to the
MCData notification server for subsequent delivery to the Message notification
client on the UE.
##### 6.4.4.1.10 Reference point MCData-11 (between the MCData message store
and the MCData notification server)
The MCData-11 reference point, which exists between the MCData message store
and the MCData notification server, is used by the MCData message store to
send notification message to the subscribed Message notification client.
## 6.5 Functional model for short data service
### 6.5.1 On-network functional model
Figure 6.5.1-1 shows the application plane functional model for SDS.
Figure 6.5.1-1: Application plane functional model for SDS
In the model shown in figure 6.5.1-1, the following apply:
\- MCData-SDS-1 reference point is primarily used for MCData application
signalling during session establishment in support of SDS data transfer.
Secondarily, MCData-SDS-1 reference point is used for uplink and downlink
unicast SDS data transaction over signalling control plane by the SDS
distribution function of the MCData server and SDS function of the MCData
client.
\- MCData-SDS-2 reference point carries uplink and downlink unicast SDS data
over media plane between the SDS distribution function of the MCData server
and the SDS function of the MCData client.
\- MCData-SDS-3 reference point carries downlink multicast SDS data over media
plane from the SDS distribution function of the MCData server to the SDS
function of the MCData client.
Examples of SDS data (in the form of text, binary, application data, URL or
combinations of these) are:
\- information pertaining to applications e.g. health parameters of MCData
user for situational awareness application;
\- information pertaining to enhanced status service;
\- text or URL data between MCData users;
\- application data (e.g. health parameters) to the MCData user;
\- location information (independent or along with user or application
provided data);
\- command instructions to invoke certain operations on the MCData UE e.g.
invoking UE specific applications; and
\- application plane identities for the MCData user and MCData application.
### 6.5.2 Off-network functional model
Figure 6.5.2-1 shows the off-network application plane functional model for
SDS.
Figure 6.5.2-1: Application plane functional model for SDS
### 6.5.3 Functional entities description
#### 6.5.3.1 Application plane
##### 6.5.3.1.1 SDS function
SDS function of the MCData client is responsible to handle SDS capability
related requests and responses.
##### 6.5.3.1.2 SDS distribution function
The SDS distribution function of the MCData server is responsible for the SDS
data transaction to MCData communication participants. The SDS distribution
function of the MCData server provides the following functionality:
\- reception of uplink SDS data transaction by means of the MCData-SDS-1 and
MCData-SDS-2 reference points;
\- replicate the SDS data as needed for distribution to those MCData
communication participants using unicast transport;
\- distribute downlink data by IP unicast transmission to those MCData
communication participants utilizing unicast transport by means of the MCData-
SDS-1 and MCData-SDS-2 reference points; and
\- distribute downlink SDS data using multicast downlink transport by means of
the MCData-SDS-3 reference point.
##### 6.5.3.1.3 Transmission/Reception control
This functional entity is responsible for transmission and reception control
of MCData SDS data transaction between the sending MCData UE, the MCData
server, and the receiving MCData UE. For SDS capability, due to small data
size, the SDS messages can be automatically sent.
#### 6.5.3.2 Signalling control plane
The description of the signalling control plane is contained in the common
functional architecture to support MC services as specified in 3GPP TS 23.280
[5].
### 6.5.4 Reference points
#### 6.5.4.1 Application plane
##### 6.5.4.1.1 Reference point MCData-SDS-1 (between the SDS distribution
function and the SDS function)
MCData-SDS-1 reference point is used for uplink and downlink unicast SDS data
transaction over signalling control plane by the SDS distribution function of
the MCData server and SDS function of the MCData client. This reference point
is also used for MCData application signalling during session establishment in
support of SDS data transfer.
The MCData-SDS-1 reference point shall use the SIP-1 and SIP-2 reference
points for transport and routing of SIP signalling. MCData-SDS-1 reference
point can be used when the SDS payload data size does not exceed the
configured maximum payload data size for SDS over signalling control plane,
otherwise MCData-SDS-2 and MCData-SDS-3 may be used appropriately.
Reference point MCData-SDS-1 also provides support to delivered and read
requests and notifications as appropriate.
##### 6.5.4.1.2 Reference point MCData-SDS-2 (unicast between the SDS
distribution function and the SDS function)
The MCData-SDS-2 reference point, which exists between the SDS distribution
function and the SDS function of the MCData client, is used unicast SDS data
transaction (when the SDS payload data size exceeds the configured maximum
payload data size for SDS over signalling control plane) between the MCData
server and the MCData client. The MCData-SDS-2 reference point uses the SGi
reference point defined in 3GPP TS 23.002 [10].
Reference point MCData-SDS-2 also provides support to message thread
indication using conversation identifier, delivered and read notifications as
appropriate.
##### 6.5.4.1.3 Reference point MCData-SDS-3 (multicast between the SDS
distribution function and the SDS function)
The MCData-SDS-3 reference point, which exists between the SDS distribution
function of the MCData server and the SDS function of the MCData client, is
used by the SDS distribution function of the MCData server to send downlink
multicast SDS data to the SDS function of the MCData client. The MCData-SDS-3
reference point uses the MB2-U interface defined in 3GPP TS 23.468 [8].
#### 6.5.4.2 Signalling control plane
The description of the signalling control plane reference points is contained
in the common functional architecture to support MC services as specified in
3GPP TS 23.280 [5].
## 6.6 Functional model for file distribution
### 6.6.1 On-network functional model
Figure 6.6.1-1 shows the application plane functional model for file
distribution.
Figure 6.6.1-1: Application plane functional model for file distribution
In the model shown in figure 6.6.1-1, the following apply:
\- MCData-FD-1 reference point is primarily used for MCData application
signalling for establishing a session in support of MCData file distribution.
Secondarily, MCData-FD-1 reference point is also used for both uplink and
downlink unicast data (e.g., URL associated to file, file download completed
report).
\- MCData-FD-2 reference point carries uplink and downlink unicast file data
between the FD functions of the MCData server and the MCData UE.
\- MCData-FD-3 reference point carries downlink multicast file data from the
FD function of the MCData server to the FD function of the MCData UE.
\- MCData-FD-4 reference point carries uplink and downlink unicast file data
between the media storage function of the MCData Content server and the media
storage client of the MCData UE.
\- MCData-FD-5 reference point supports the MCData server to access the stored
files in the MCData content server for certain file distribution functions,
such as retrieval a file to be distributed through multicast etc. This
reference points also supports any necessary operational requirements.
\- MCData-FD-7 reference point supports the upload and download of file data
between MCData content server and MCData message store.
NOTE: The security aspects of MCData-FD-5 and MCData-FD-7 reference points are
the responsibility of SA3 and thus outside the scope of the present document.
### 6.6.1a On-network functional model for interconnection
Figure 6.6.1a-1 shows the application plane functional model for file
distribution with interconnection.
Figure 6.6.1a-1: Application plane functional model for file distribution
In the model shown in figure 6.6.1a-1, the following apply:
\- MCData-FD-1, MCData-FD-2, MCData-FD-3, MCData-FD-4, MCData-FD-5 reference
points are described in subclause 6.6.1.
\- MCData-7 and MCData-8 reference points are described in subclause 6.4.4.1.
\- The MC gateway server is described in subclause 6.4.3.1.5.
\- MCData-3 and MCData-9 allow the MCData server in the primary MCData system
to share URLs related to files for upload and download with the MCData server
in the partner MCData system.
\- MCData-FD-6 allows file contents and metadata to be shared between the
MCData content server in the primary MCData system and the MCData content
server in the partner MCData system. MCDataâ€‘FDâ€‘6 is based on HTTP.
\- The HTTP proxies are contained in the signalling plane. They provide
topology and IP address hiding between MCData systems.
### 6.6.2 Off-network functional model
Figure 6.6.2-1 shows the off-network application plane functional model for
FD.
Figure 6.6.2-1: Application plane functional model for FD
### 6.6.3 Functional entities description
#### 6.6.3.1 Application plane
##### 6.6.3.1.1 FD function
FD function of the MCData client and the MCData server is responsible to
handle file distribution capability related requests and responses.
The FD function of the MCData server is responsible for the distribution of
file to the MCData communication participants. The FD function of the MCData
server provides the following functionality:
\- reception of uplink file data by means of the MCData-FD-2 reference point;
\- replicate the file data as needed for distribution to those MCData
communication participants using unicast transport;
\- distribute downlink file data by IP unicast transmission to those MCData
communication participants utilizing unicast transport by means of the MCData-
FD-2 reference point; and
\- distribute downlink file data using multicast downlink transport by means
of the MCData-FD-3 reference point.
##### 6.6.3.1.2 Media storage client
The media storage client is used to support FD function of the MCData client
for file distribution capability. FD function of the MCData client interacts
with media storage client for uploading and downloading file to or from the
media storage function of the MCData content server.
##### 6.6.3.1.3 Transmission/Reception control
This functional entity is responsible for transmission and reception control
of MCData file data between the sending MCData UE, the MCData server, and the
receiving MCData UE. Transmission and reception control function is used to
provide arbitration between multiple data requests and apply the necessary
policy to ensure that appropriate data is transmitted between the MCData UE.
However, when the file distribution requests are exceeding a certain size, it
may be necessary to control the data that is transmitted or received by the
MCData UEs. The control is subject to criteria like application level
priorities (e.g. user priority, group priority), service type, emergency
nature of the communication, etc.
##### 6.6.3.1.4 Media storage function
The media storage function is responsible for the storing of media uploaded by
the media storage client of the MCData UE in case of MCData file distribution.
It also supports download of stored media by the MCData UE in case of file
distribution via media storage client.
The media storage function supports partial download requests of stored media
by the MCData UE via media storage client.
##### 6.6.3.1.5 MCData content server
The MCData content server functional entity provides a repository area in the
MCData trust domain allowing authorized MCData users to temporarily store
files that are intended to share to other MCData users. It provides common
pool of storage area (i.e. size) to all authorized MCData users to use, no
personal space is allocated. An authorized MCData user can use the supported
operations on the defined reference point to upload shared files and download
the files that are shared to him. The MCData server will use the defined
reference point to access the files stored in the MCData content server and
support the necessary operational functionalities. As part of the file life
cycle management the temporarily stored files will be removed periodically
based on the Mission Critical service provider policy. An MCData content
server may share files with another MCData content server in another MCData
system to support interconnection.
If the MBMS user service architecture described in 3GPP TS 26.346 [21] is
utilized for file distribution, the MCData content server provides the stored
file associated to the established MBMS session.
NOTE: The security aspects of the MCData content server and its operational
supports are the responsibility of SA3 and thus outside the scope of the
present document.
#### 6.6.3.2 Signalling control plane
The description of the signalling control plane is contained in the common
functional architecture to support MC services as specified in 3GPP TS 23.280
[5].
### 6.6.4 Reference points
#### 6.6.4.1 Application plane
##### 6.6.4.1.1 Reference point MCData-FD-1 (between the FD functions of the
MCData client and the MCData server)
MCData-FD-1 reference point is used for MCData application signalling for
establishing a session in support of MCData file distribution. The bearer is
also used for both uplink and downlink unicast data (e.g., URL associated to
file, file download completed report). The MCData-FD-1 reference point shall
use the SIP-1 and SIP-2 reference points for transport and routing of SIP
signalling. MCData-FD-1 reference point can be used as long as the file size
does not exceed the capabilities (e.g. payload or transmission limits)
provided by MCData-FD-1.
Messages supported on this interface include the uplink and the downlink
unicast file transaction between the MCData clients in MCData communication
via the MCData server for:
\- metadata (file size, type etc.) of the file being distributed;
\- URL of the file being distributed;
\- sending download completed report;
\- small size file;
\- conversation identifier for message thread indication; and
\- application plane identities for the MCData user and MCData application.
Messages supported on this interface may also include the MCData client
providing the MCData server with
\- MCData application signalling for establishing a file distribution session
in support of MCData communication.
##### 6.6.4.1.2 Reference point MCData-FD-2 (unicast between the FD functions
of the MCData client and the MCData server)
The MCData-FD-2 reference point, which exists between the FD functions of the
MCData client and the MCData server, is used for unicast file transaction
between MCData server and MCData client. The MCData-FD-2 reference point uses
the SGi reference point defined in 3GPP TS 23.002 [10].
Reference point MCData-FD-2 supports the following functions:
\- file being distributed from and to the MCData client;
\- conversation identifier for message thread indication; and
\- application plane identities for the MCData user and MCData application.
##### 6.6.4.1.3 Reference point MCData-FD-3 (multicast between the FD
functions of the MCData client and the MCData server)
The MCData-FD-3 reference point, which exists between the FD functions of the
MCData client and the MCData server, is used by the FD function of the MCData
server to send downlink multicast file data to the FD function of the MCData
client. The MCData-FD-3 reference point uses the MB2-U interface defined in
3GPP TS 23.468 [8] or the xMB-U interface as defined in 3GPP TS 26.348 [19].
##### 6.6.4.1.4 Reference point MCData-FD-4 (media storage function and media
storage client)
The MCData-FD-4 reference point, which exists between the media storage
function and the media storage client, is used by the media storage client of
MCData UE to upload and download file to the media storage function of the
MCData content server. The MCData-FD-4 reference point uses the HTTP reference
point.
##### 6.6.4.1.5 Reference point MCData-FD-5 (FD function and media storage
function)
The MCData-FD-5 reference point, which exists between FD function and the
media storage function, is used by the FD function of MCData server to fetch
the file in the MCData content server that was uploaded by the media storage
client of a MCData UE for multicast delivery using MBMS. It also supports
necessary operational functions such as size check for transmission control
etc. The MCData-FD-5 reference point uses the HTTP reference point.
##### 6.6.4.1.6 Reference point MCData-FD-7 (media storage function and MCData
message store)
The MCData-FD-7 reference point, which exists between media storage function
and the MCData message store, is used by the media storage function to fetch
the file residing in the MCData message store and store in its repository for
distribution. It is also used by the MCData message store to download the file
contents from the media storage function.
#### 6.6.4.2 Signalling control plane
The description of the signalling control plane reference points is contained
in the common functional architecture to support MC services as specified in
3GPP TS 23.280 [5].
## 6.7 Functional model for data streaming
### 6.7.1 On-network functional model
NOTE: As no detailed procedures are specified in the current specification the
DS functional model is for information only.
Figure 6.7.1-1 shows the application plane functional model for data
streaming.
Figure 6.7.1-1: Application plane functional model for data streaming
In the model shown in figure 6.7.1-1, the following apply:
\- MCData-DS-1 reference point is used for MCData application signalling for
establishing a session in support of MCData data streaming. The bearer is also
used for both uplink and downlink unicast stream download reports (e.g. stream
start and stop records).
\- MCData-DS-2 reference point carries unicast data stream between the data
streaming and distribution function of the MCData server and the DS function
of the MCData UE. The bearer is used for both uplink and downlink unicast data
streaming.
\- MCData-DS-3 reference point carries multicast data stream from the data
streaming and distribution function of the MCData server to the DS function of
the MCData UE. The bearer is used for downlink multicast data streaming.
### 6.7.2 Off-network functional model
### 6.7.3 Functional entities description
#### 6.7.3.1 Application plane
##### 6.7.3.1.1 DS function
DS function of the MCData client is responsible to handle DS capability
related requests and responses for data streaming. FD function may interact
with storage entity for retrieving the locally stored data for data streaming.
##### 6.7.3.1.2 Data streaming and distribution function
The data streaming and distribution function is responsible for the
distribution of data stream to MCData communication participants. The data
streaming and distribution function provides the following functionality:
\- reception of uplink data stream transmission by means of the MCData-DS-2
reference point;
\- replicate the data stream as needed for distribution to those MCData
communication participants using unicast transport;
\- distribute downlink data stream by IP unicast transmission to those MCData
communication participants utilizing unicast transport by means of MCData-DS-2
reference point; and
\- distribute downlink data stream using multicast downlink transport by means
of the MCData-DS-3 reference point.
##### 6.7.3.1.3 Transmission/Reception control
This functional entity is responsible for transmission and reception control
of data stream between the sending MCData UE, the MCData server, and the
receiving MCData UE. Transmission and reception control function is used to
provide arbitration between multiple data requests and apply the necessary
policy to ensure that appropriate data is transmitted between the MCData UEs.
#### 6.7.3.2 Signalling control plane
The description of the signalling control plane is contained in the common
functional architecture to support MC services as specified in 3GPP TS 23.280
[5].
### 6.7.4 Reference points
#### 6.7.4.1 Application plane
##### 6.7.4.1.1 Reference point MCData-DS-1 (between the data streaming and
distribution function and the DS function)
MCData-DS-1 reference point is used for MCData application signalling for
establishing a session in support of MCData data streaming. The bearer is also
used for both uplink and downlink unicast stream download reports (e.g.,
stream start and stop records). The MCData-DS-1 reference point shall use the
SIP-1 and SIP-2 reference points for transport and routing of SIP signalling.
Messages supported on this interface includes the uplink and the downlink
unicast data stream between the MCData clients MCData communication via the
MCData server for
\- metadata of the data being streamed;
\- URL of the data being streamed;
\- sending stream download report;
\- conversation identifier for message thread indication; and
\- application plane identities for the MCData user and MCData application.
Messages supported on this interface may also include the MCData client
providing the MCData server with
\- MCData application signalling for establishing a UE data streaming session
in support of MCData communication.
##### 6.7.4.1.2 Reference point MCData-DS-2 (unicast between the data
streaming and distribution function and the DS function)
The MCData-DS-2 reference point, which exists between the data streaming and
distribution function and the DS function, is used to unicast data stream
between the data streaming and distribution function of the MCData server and
the DS function of the MCData client. The MCData-DS-2 reference point uses the
SGi reference point defined in 3GPP TS 23.002 [10].
MCData-DS-2 supports the following functions:
\- stream data from MCData UE;
\- stream data from network;
\- data stream controls from the authorized MCData UE;
\- stream data stream controls from the MCData UE over uplink;
\- start and stop data stream from MCData UE over downlink;
\- conversation identifier for message thread indication; and
\- application plane identities for the MCData user and MCData application.
##### 6.7.4.1.3 Reference point MCData-DS-3 (multicast between the data
streaming and distribution function and the DS function)
The MCData-DS-3 reference point, which exists between the data streaming and
distribution function and the DS function, is used by the data streaming and
distribution function of the MCData server to send multicast data stream to
the DS function of the MCData client. The MCData-DS-3 reference point uses the
MB2-U interface defined in 3GPP TS 23.468 [8].
#### 6.7.4.2 Signalling control plane
The description of the signalling control plane reference points is contained
in the common functional architecture to support MC services as specified in
3GPP TS 23.280 [5].
## 6.8 Functional model for IP connectivity
### 6.8.1 On-network functional model
Figure 6.8.1-1 shows the application plane functional model for User-IP
connectivity.
Figure 6.8.1-1: Application plane functional model for IP connectivity
In the model shown in figure 6.8.1-1, the following apply:
\- MCData-IPcon-1 reference point is used for MCData application signalling
for establishing a session in support of MCData IP connectivity.
\- MCData-IPcon-2 reference point carries bidirectional IP Data for point-to-
point MCData IP connectivity over the media plane between the U-IPcon
distribution function of the MCData server and the IPcon function of the
MCData client(s).
\- MCData-IPcon-3 reference point is used by the IP-con distribution function
of the MCData server to send unidirectional downlink IP Data to the IP-con
function of the MCData clients.
\- IPcon-host reference point is used for a data host, e.g. server, to use IP
connectivity service capabilities. This reference point is outside the scope
of the present document.
### 6.8.2 Off-network functional model
### 6.8.3 Functional entities description
#### 6.8.3.1 Application plane
##### 6.8.3.1.1 IP connectivity function
IP connectivity function of the MCData client is responsible to handle IPcon
capability related requests and responses.
##### 6.8.3.1.2 IPcon distribution function
The IPcon distribution function of the MCData server is responsible for the
distribution of IP Data to MCData communication participants. The IPcon
distribution function of the MCData server provides the following
functionality:
\- reception of uplink IP Data transmission by means of the MCData-IPcon-2
reference points;
\- replicate the IP Data as needed for distribution to those MCData
communication participants using unicast transport;
\- distribute downlink data by IP unicast transmission to those MCData
communication participants utilizing unicast transport by means of the MCData-
IPcon-2 reference points; and
\- distribute downlink IP Data using multicast downlink transport by means of
the MCData-IPcon-3 reference point.
##### 6.8.3.1.3 Transmission/Reception control
This functional entity is responsible for transmission and reception control
of IP Data transaction between the sending MCData client, the MCData server,
and the receiving MCData client. Transmission and reception control function
is used to provide arbitration between multiple data requests and apply the
necessary policy to ensure that appropriate IP Data are transmitted between
the MCData clients.
#### 6.8.3.2 Signalling control plane
The description of the signalling control plane is contained in the common
functional architecture to support MC services as specified in 3GPP TS 23.280
[5].
### 6.8.4 Reference points
#### 6.8.4.1 Application plane
##### 6.8.4.1.1 Reference point MCData-IPcon-1 (between the IPcon distribution
function and the U-IPcon function)
MCData-IPcon-1 reference point is used for MCData application signalling for
establishing a session in support of MCData IP connectivity.
##### 6.8.4.1.2 Reference point MCData-IPcon-2 (unicast between the U-IPcon
distribution function and the U-IPcon function)
MCData-IPcon-2 reference point carries bidirectional IP Data for point-to-
point MCData IP connectivity over the media plane between the IPcon
distribution function of the MCData server and the IPcon function of the
MCData client(s).
##### 6.8.4.1.3 Reference point MCData-IPcon-3 (multicast between the IPcon
distribution function and the IPcon function)
MCData-IPcon-3 reference point carries downlink unidirectional IP Data over
the media plane between the IPcon distribution function of the MCData server
and the IPcon function of the MCData client(s).
#### 6.8.4.2 Signalling control plane
The description of the signalling control plane reference points is contained
in the common functional architecture to support MC services as specified in
3GPP TS 23.280 [5].
6A Identities
The MCData service specific identities (e.g. MCData ID, MCData group ID) are
described in clause 8 of 3GPP TS 23.280 [5].
6B Application of functional model to deployments
The application of the functional model to deployments, and description of
various deployment scenarios for the MCData service, can be found in clause 9
of 3GPP TS 23.280 [5].
# 7 Procedures and information flows
## 7.1 MCData service configuration
The MCData service shall support the procedures and related information flows
as specified in subclause 10.1 and Annex A of 3GPP TS 23.280 [5] with the
following clarifications:
\- The MC service client is the MCData client;
\- The MC service server is the MCData server;
\- The MC service ID is the MCData ID; and
\- The MC service user profile index is the MCData user profile index.
## 7.2 Affiliation and de-affiliation to/from MCData group(s)
The MCData service shall support the procedures and related information flows
as specified in subclause 10.8 of 3GPP TS 23.280 [5] with the following
clarifications:
\- The MC service client is the MCData client;
\- The MC service server is the MCData server;
\- The MC service group is the MCData group;
\- The MC service ID is the MCData ID; and
\- The MC service group ID is the MCData group ID.
When an MCData user has affiliated to an MCData group then the MCData user can
send and receive MCData related media for that MCData group. When an MCData
user has de affiliated from an MCData group then the MCData user cannot send
and receive MCData related media to and from that MCData group.
## 7.3 Use of MBMS transmission (on-network)
### 7.3.1 Information flows for MBMS Transmission
Information flows for generic MBMS procedures are defined in 3GPP TS 23.280
[5].
### 7.3.2 Use of pre-established MBMS bearers
The MCData service shall support the procedure for using pre-established MBMS
bearers as specified in 3GPP TS 23.280 [5] with the following clarifications:
\- The MC service client is the MCData client;
\- The MC service server is the MCData server; and
\- The MC service ID is the MCData ID.
The MCData service shall use the MCData-6, MCData-SDS-1, MCData-SDS-2, MCData-
SDS-3, MCData-FD-1, MCDataâ€‘FD-3, MCData-DS-1 and MCDataâ€‘DS-3 reference points
for this procedure.
MCData may use pre-established MBMS bearer for the MCData features short data
service, file distribution and data streaming. The MBMS bearer can be used by
any group. Depending on the capacity of the MBMS bearer, the bearer can be
used to broadcast one or more services in parallel.
Both the media packets as well as application level control signalling (e.g.
transmission control) to the receiving users may be sent on the MBMS bearer.
Optionally, a separate MBMS bearer could be used for the application level
control signalling (e.g. transmission control), due to different bearer
characteristic requirements.
### 7.3.3 Use of dynamic MBMS bearer establishment
The MCData service shall support the procedure for using dynamic MBMS bearers
as specified 3GPP TS 23.280 [5] with the following clarifications:
\- The MC service client is the MCData client;
\- The MC service server is the MCData server; and
\- The MC service ID is the MCData ID.
The MCData service shall use the MCData-6, MCData-SDS-1, MCData-SDS-3, MCData-
FD-1, MCDataâ€‘FD-3, MCData-DS-1 and MCData-DS-3 reference points for this
procedure.
MCData may use dynamic MBMS bearer for the MCData features short data service,
file distribution and data streaming. The MBMS bearer can be used by any
group. Depending on the capacity of the MBMS bearer, the bearer can be used to
broadcast one or more services in parallel.
Both the media packets as well as application level control signalling (e.g.
transmission control) to the receiving users may be sent on the MBMS bearer.
Optionally, a separate MBMS bearer could be used for the application level
control signalling (e.g. transmission control), due to different bearer
characteristic requirements.
### 7.3.4 Switching from MBMS bearer to unicast bearer
The MCData service shall support the procedure for switching from MBMS bearer
to unicast bearer as specified 3GPP TS 23.280 [5] with the following
clarifications:
\- The MC service client is the MCData client;
\- The MC service server is the MCData server; and
\- The MC service ID is the MCData ID.
The MCData service shall use the MCData-SDS-1, MCData-SDS-2, MCData-FD-1,
MCDataâ€‘FD-3, MCData-DS-1 and MCDataâ€‘DS-3 reference points for this procedure.
### 7.3.5 Use of MBMS user services for file distribution
#### 7.3.5.1 General
This subclause defines information flows and procedures for usage of MBMS user
services that applies to MCData file distribution. MBMS user services can be
used for any MC service group.
The MBMS user service architecture is described in 3GPP TS 26.346 [21].
NOTE: The current specification does not cover MCData end-to-end encryption
file distribution using MBMS when the BM-SC is in the MCData system trust
domain.
#### 7.3.5.2 Information flows for MBMS user service usage
##### 7.3.5.2.1 MBMS user service announcement
Table 7.3.5.2.1-1 describes the information flow MBMS bearer announcement from
the MCData server to the MCData client.
Table 7.3.5.2.1-1: MBMS user service announcement
Information element Status Description
* * *
MBMS user service id M Id of the MBMS user service SA file M The service
announcement file as returned in the create/update session response (subclause
5.4 in 3GPP TS 26.348 [19]) (see NOTE) Monitoring state O The monitoring state
is used to control if the client is actively monitoring the reception quality
or the MBMS bearer used by the MBMS user service. Unicast status O An
indication that the listening status of the unicast bearer is requested. NOTE:
The SA file provides the TMGI, the list of MBMS service area identifiers, the
frequency and the delivery parameters.
#### 7.3.5.3 Procedures for MBMS user service usage
##### 7.3.5.3.1 Use of pre-established MBMS user services
###### 7.3.5.3.1.1 General
In this scenario, the MCData server pre-establishes MBMS user service(s) in
certain pre-configured areas before the initiation of a group file
distribution. When a user originates a request for a file distribution in one
of these areas, the MCData server can use the pre-established MBMS user
service(s) for the DL media transmission.
The MBMS user service can be announced prior to the file distribution or
within the signalling message for the file distribution.
The MBMS user service does not transmit application level control signalling.
An MBMS bearer could be used for the application level control messages
according to the generic MBMS procedures defined in 3GPP TS 23.280 [5].
###### 7.3.5.3.1.2 Procedure
Editor\'s note: The procedure in this clause needs to be revised considering
that MBMS user services, as specified in 3GPP TS 26.346 [21], cannot be
supported over the MB2 interface.
The procedure figure 7.3.5.3.1.2-1 shows only one of the receiving MCData
clients using an MBMS user service.
Pre-conditions:
\- The participating users are already affiliated.
Figure 7.3.5.3.1.2-1: Use of pre-established MBMS user service
1\. The MCData server determines to create an MBMS user service with a given
MBMS user service id. If the MCData server makes use of the xMB interface, the
MCData server creates an MBMS user service over xMB-C (subclause 5.3 from 3GPP
TS 26.348 [19]).
NOTE 1: The procedure to determine the creation of MBMS user services is
implementation specific.
2\. If the MCData server makes use of the xMB interface, the MCData server
creates an MBMS session over xMB-C for the MBMS user service (subclause 5.4
from 3GPP TS 26.348 [19]), with the type set to \"Files\" to use the MBMS
download delivery method. Additionally, the MCData server defines the ingest
mode, pull or push, to provide the file into the BMâ€‘SC via xMBâ€‘U. This MBMS
session will be used for file distribution. In response, the MCData server
gets the TMGI of the MBMS bearer used for the MBMS session, and the SA file
containing the metadata of the MBMS user service. When the push ingest mode is
used, as part of the response from the BMâ€‘SC the MCData server also obtains
the URL to be used to push the file.
3a. Else, the MCData server activates an MBMS bearer over MB2-C for the MBMS
user service.
3b. The MCData server, if not already in the possession of the SA file,
generates the SA file containing the metadata of the MBMS user service.
4\. The MCData server passes using control plane signalling the MBMS user
service info for the service description associated with the pre-established
MBMS user service to the MCData client. The MCData client obtains the TMGI,
identifying the MBMS bearer, from the SA file included in the MBMS user
service description.
5\. The MCData client stores the information associated with the MBMS user
service. The MCData client uses the TMGI and other MBMS user service related
information to activate the monitoring of the MBMS bearer.
6\. The MCData client that enters or is in the service area of at least one
announced TMGI indicates to the MCData server that the MCData client is able
to receive file distributed over MBMS, whereby the MCData server may decide to
use this MBMS user service instead of unicast bearer for MC communication
sessions.
NOTE 2: Step 4 is optional for the MCData UE on subsequent MBMS user service
announcements.
NOTE 3: The information flow is specified in subclause 10.7.2.2 from 3GPP TS
23.280 [5].
7\. If the MCData server makes use of the xMB interface and wants to deliver a
file to a group, the MCData server updates the MBMS session to provide the
file list when the pull ingest mode is defined. As described in 3GPP TS 26.348
[19], the file list includes, among other information, the file URL to be used
by the BMâ€‘SC to fetch the file and the earliest fetch time.
8\. The MCData server signals the file transmission over the MBMS user service
to the targeted MCData clients.
NOTE 4: After step 8, the file can be provided for distribution over the MBMS
session. If the pull ingest mode is defined, the BMâ€‘SC fetches the file from
the indicated file URL. If the push ingest mode is defined, the MCData server
can start pushing the file to the corresponding URL.
9\. The file, transmitted with the MBMS download delivery method, is received
by the MCData clients. If the MCData server does not make use of the xMB
interface, the MCData server fragments the file to be sent, applies error
correction according to the MBMS download delivery method (3GPP TS 26.346
[21]) and sent the FLUTE packets over MB2-U.
##### 7.3.5.3.2 Use of dynamic MBMS user service establishment
Editor\'s note: The procedure in this clause needs to be revised considering
that MBMS user services, as specified in 3GPP TS 26.346 [21], cannot be
supported over the MB2 interface.
In this scenario depicted in figure 7.3.5.3.2-1, the MCData server decides to
establish an MBMS user service for the distribution of a given file. The MBMS
user service is announced to the MCData client, together with the file
information to be received.
NOTE 1: The MCData server logic for determining when to establish the new MBMS
user service is implementation specific. For example, the MCData server could
decide to establish the MBMS delivery based on the location of the UE\'s that
are a part of the targeted group.
Figure 7.3.5.3.2-1: Use of dynamic MBMS user service establishment
1\. The MCData server determines to create a MBMS user service with a given an
MBMS user service id for the group communication session. If the MCData server
makes use of the xMB interface, the MCData server creates an MBMS user service
over xMB-C (subclause 5.3 from 3GPP TS 26.348 [19]).
2\. If the MCData server makes use of the xMB interface, the MCData server
creates a MBMS session for the MBMS user service (subclause 5.4 from 3GPP TS
26.348 [19]), with the type set to \"Files\" to use the MBMS download delivery
method. Additionally, the MCData server defines the ingest mode, pull or push,
to provide the file into the BMâ€‘SC via xMBâ€‘U. When the pull ingest mode is
defined, the MCData server provides the file list. The file list includes,
among other information, the file URL to be used by the BMâ€‘SC to fetch the
file and the earliest fetch time. In response, the MCData server gets the TMGI
of the MBMS bearer used for the MBMS session and the SA file containing the
metadata of the MBMS user service. When the pull ingest mode is defined, the
MCData server also obtains the scheduling parameter for the file delivery.
When the push ingest mode is used, as part of the response from the BMâ€‘SC the
MCData server obtains the URL to be used to push the file.
3a. Else, the MCData server activates an MBMS bearer over MB2-C for the MBMS
user service.
3b. The MCData server, if not already in the possession of the SA file,
generates the SA file containing the metadata of the MBMS user service.
4\. The MCData server passes using control plane signalling the SA file to the
MCData client. The MCData client obtains the TMGI, identifying the MBMS
bearer, from the SA file included in the MBMS user service description.
5\. The MCData client stores the information associated with the MBMS user
service. The MCData client uses the TMGI and other MBMS user service related
information to activate the monitoring of the MBMS bearer.
6\. The MCData client that enters or is in the service area of at least one
announced TMGI indicates to the MCData server that the MCData client is able
to receive file distributed over MBMS, whereby the MCData server may decide to
use this MBMS user service instead of unicast bearer for MC communication
sessions.
7\. The MCData server signals the file transmission over the MBMS user service
to the targeted MCData clients.
NOTE 2: After step 7, the file can be provided for distribution over the MBMS
session. If the pull ingest mode is defined, the BMâ€‘SC fetches the file from
the indicated file URL. If the push ingest mode is defined, the MCData server
can start pushing the file to the corresponding URL.
8\. The file, transmitted with the MBMS download delivery method, is received
by the MCData clients. If the MCData server does not make use of the xMB
interface, the MCData server fragments the file to be sent, applies error
correction according to the MBMS download delivery method (3GPP TS 26.346
[21]) and sent the FLUTE packets over MB2-U.
##### 7.3.5.3.3 Providing stored files in the MCData content server for
distribution over MBMS
###### 7.3.5.3.3.1 General
As described in clause 6.6.3.1.5, the MCData content server provides a
repository area where authorized MCData users temporarily store files that are
intended to be shared with other MCData users. The distribution of such files
targeting a group of MCData users can be performed over MBMS.
For the case that the MBMS user service architecture is used over the xMB
interface (specified in 3GPP TS 26.348 [19]), two ingest modes, push and pull,
can be defined by the MCData server to ingest the file into the BMâ€‘SC for
distribution over the MBMS sessions.
NOTE: It is implementation specific if the MCData server uses pull or push
ingest mode to ingest the file into the BMâ€‘SC over the xMB interface.
###### 7.3.5.3.3.2 File fetching by the MCData server
A file can be fetched by the MCData server from the MCData content server over
the MCData-FD-5 reference point using the file URL provided by MCData users.
The MCData server, thus, enables via the xMBâ€‘U interface that the file is
ingested, either by pull or push, into the BMâ€‘SC for distribution over MBMS.
NOTE 1: The file also becomes available for the case that the MCData server
decides to distribute the file over the MB2 interface to MCData users from the
target MCData group.
When the MCData server defines a pull ingest mode, the MCData server provides
via the xMBâ€‘C interface the resource location from which the BMâ€‘SC will fetch
the file as well as other session properties (e.g. file earliest fetch time),
as described in 3GPP TS 26.348 [19].
When the MCData server defines a push ingest mode, the MCData server directly
ingests into the BMâ€‘SC via the xMBâ€‘U interface the file obtained from the
MCData content server. The BMâ€‘SC provides to the MCData server the URL to be
used to push the file(s).
NOTE 2: For the push ingest mode, the MCData server is always the functional
entity ingesting the file content into the BMâ€‘SC via the xMBâ€‘U interface.
The procedure in figure 7.3.5.3.3.2-1 describes the case where the file to be
distributed over MBMS is fetched by the MCData server from the MCData content
server.
Pre-conditions:
\- The MCData users on the MCData client 1 to n belong to the same MCData
group and are already registered and affiliated for receiving MCData service.
\- The file to be distributed is uploaded to the MCData content server.
\- The BMâ€‘SC has the necessary permissions to fetch a file from the MCData
system.
Figure 7.3.5.3.3.2-1: File fetching by the MCData server for file distribution
over MBMS
1\. The MCData server receives a request from the MCData client 1 to
distribute a file to a target MCData group. The MCData file distribution
request contains the resource location (i.e. the file URL) in the MCData
content server.
2\. The MCData server decides to fetch the file from the MCData content server
via the MCData-FD-5 reference point.
3\. The MCData server creates an MBMS service and session for file delivery
using xMB procedures via the xMBâ€‘C interface, as described in 3GPP TS 26.348
[19]. The MCData server indicates, among other session properties, the ingest
mode. For the case of pull ingest mode, the MCData server provides the file
URL from which the BMâ€‘SC will fetch the file. For the case of push ingest
mode, the BMâ€‘SC provides to the MCData server the URL to be used to push the
file into the MBMS session.
NOTE 3: Step 3 may also occur before step 2.
4\. The MCData server provides to the MCData users from the target MCData
group the application signalling related to the MBMS session and the file
distribution.
5a. For the case that the file is ingested into the BMâ€‘SC based on the push
ingest mode, the MCData server pushes the file to the URL indicated by the
BMâ€‘SC.
5b. For the case that the file is ingested into the BMâ€‘SC based on the pull
ingest mode, the BMâ€‘SC pulls the file from the provided file URL.
6\. The BMâ€‘SC distributes the file over the established MBMS session. When the
target MCData clients have activated the reception for that service and are
located within the MBMS area coverage, the MCData clients receive the file.
###### 7.3.5.3.3.3 File fetching by the BMâ€‘SC
When the MCData server defines a pull ingest mode, the MCData server can
alternatively provide to the BMâ€‘SC the resource location in the MCData content
server (i.e. the file URL contained within the received file distribution
request). The BMâ€‘SC, thus, will directly fetch the file from the MCData
content server.
NOTE 1: In order to the enable that the BMâ€‘SC fetches the file from the MCData
content server, the MCData content server supports the xMBâ€‘U interface to the
BMâ€‘SC.
NOTE 2: For the case that the file is ingested into the BMâ€‘SC from the MCData
content server, only the pull ingest mode is supported. When push ingest mode
is required, the procedure is described in clause 7.3.5.3.3.2.
The procedure in figure 7.3.5.3.3.3-1 describes the case where the file to be
distributed over MBMS is fetched by the BMâ€‘SC from the MCData content server.
Pre-conditions:
\- The MCData users on the MCData client 1 to n belong to the same MCData
group and are already registered and affiliated for receiving MCData service.
\- The file to be distributed is uploaded to the MCData content server.
\- The BMâ€‘SC has the necessary permissions to fetch a file from the MCData
system.
Figure 7.3.5.3.3.3-1: File fetching by the BMâ€‘SC for file distribution over
MBMS
1\. The MCData server receives a request from the MCData client 1 to
distribute a file to a target MCData group. The MCData file distribution
request contains the resource location (i.e. the file URL) in the MCData
content server.
2\. The MCData server creates an MBMS service and session for file delivery
using xMB procedures via the xMBâ€‘C interface, as described in 3GPP TS 26.348
[19]. The MCData server defines, among other session properties, the ingest
mode to pull. The MCData server provides the file URL from which the BMâ€‘SC
will fetch the file from the MCData content server.
3\. The MCData server provides to the MCData users from the target MCData
group the application signalling related to the MBMS session and the file
distribution.
4\. The BMâ€‘SC fetches the file from the MCData content server via the xMBâ€‘U
interface.
5\. The BMâ€‘SC distributes the file over the established MBMS session. When the
target MCData clients have activated the reception for that service and are
located within the MBMS area coverage, the MCData clients receive the file.
### 7.3.6 Group communication connect and disconnect over MBMS bearer
procedures
#### 7.3.6.1 General
MBMS bearer can be used for MCData group communication. One MBMS bearer is not
permanently associated to one specific group or group communication. Before
sending data packets of a group communication over MBMS bearer, the MCData
server shall send the association information between group communication and
the MBMS bearer. The group session setup procedure indicates the media stream
within one MBMS bearer that is used for the specific group communication. When
the group communication over the MBMS bearer is finished, this temporary
association information of an MCPTT group communication to specific resources
on a MBMS bearer is undone.The procedure in clause 7.3.6 requires that the
group session is setup before the data transmission starts. This eliminates
the need for the receiving clients to continuously use a unicast bearer. Prior
to group session setup, the MBMS bearer is activated and announced to the
MCData clients.
NOTE: It is implementation-specific that one MBMS bearer can be re-assigned to
different groups, or is associated to only one group.
#### 7.3.6.2 Procedure
The procedure in this clause uses an establishment of group communication as
described in clause 7.4.2.7. Similary, the procedure defined in this clause is
also applicable for the group communication established as described in clause
7.4.2.6.
##### 7.3.6.2.1 Group communication connect over MBMS bearer
Pre-conditions:
\- The MCData clients 1 to n are registered and affiliated to the same MCData
group X.
\- The MCData server has decided to use an MBMS bearer for the MCData service
group communication associated with to the MCData group X.
Figure 7.3.6.2.1-1: Group communication connect on MBMS bearer.
1\. Activation and announcement of MBMS bearer availability.
NOTE 1: The procedure does not include the steps for MCData client location
reporting, or for MBMS capability information exchange.
2\. The MCData client 1 initiates a group communication by sending a MCData
group data request over a unicast PDN connection towards the MCData server.
3\. MCData server initiates the MCData group data request towards each MCData
clients 2 to n.
4\. The receiving MCData clients 2 to n optionally notify the user about the
incoming MCData session data request.
5\. The receiving MCData client 2 to n accept or reject the MCData group data
request and the corresponding result is in the MCData group data response
towards MCData server.
6\. The MCData server will send a MapGroupToBearer message over a previously
activated MBMS bearer to all users that will receive the communication over an
MBMS bearer. The MapGroupToBearer message includes association information
between the group communication and MBMS bearer. The MapGroupToBearer message
includes MCData group ID and information about the media stream identifier of
the activated MBMS bearer and may include the identifier (i.e. the TMGI) of
the MBMS bearer broadcasting the communication.
7\. The MCData clients 2 to n process the MapGroupToBearer information and may
send a MapGroupToBearer Ack back to the MCData server if required.
8\. MCData server forwards the MCData group data response received from MCData
client 2 to n to the MCData user initiating the MCData session data request.
NOTE 2: The steps 3 to 5 and steps 6 to 7 can occur in any order, and prior to
step 9 depending on the conditions to proceed with the data transmission.
9\. MCData client 1 sends the MC data over uplink unicast PDN connection
towards the MCData server.
10\. The MCData server sends the MC data over the indicated stream within the
associated MBMS bearer to the MCData clients 2 to n.
##### 7.3.6.2.2 Group communication disconnect from MBMS bearer
Figure 7.3.6.2.2-1 shows the high level procedure where an
UnmapGroupFromBearer message is sent by the MCData server to the MCData
clients to indicate that the MCData group communication is being dissociated
from the MBMS bearer.
Figure 7.3.6.2.2-1: Group communication disconnect on MBMS bearer.
1\. The MC group communication is taking place over MBMS bearer. MCData client
1 is sending the MC data over a unicast PDN connection to the MCData server.
2\. The MCData server sends the MC data over the MBMS bearer to MCData clients
2 to n.
3\. After the MC data transmission is over, i.e., no further data to be sent
over the group communication, the MCData server sends an UnMapGroupFromBearer
to de-associate the group communication from the MBMS bearer.
## 7.4 Short data service
### 7.4.1 General
There are several procedures how an SDS message can be transported from the
sender to the recipient. All of the following factors are used by MCData
client for selecting appropriate SDS procedures:
\- Whether the data to transfer is within or outside the SDS data size limit
to transport over signalling control plane;
\- Whether the MCData user has only one SDS transaction or multiple SDS
transactions;
\- Whether MCData user, optionally using its associated and activated
functional alias, is targeting SDS transaction to another MCData user or
MCData group;
\- Whether MCData UE is on-network or off-network; and
\- Security reasons.
### 7.4.2 Short data service for on-network
The procedures described in the following subclauses are limited to single
MCData system only.
#### 7.4.2.1 Information flows for short data service
##### 7.4.2.1.1 MCData standalone data request
Table 7.4.2.1.1-1 describes the information flow for the MCData standalone
data request sent from the MCData client to the MCData server and from the
MCData server to another MCData client.
Table 7.4.2.1.1-1: MCData standalone data request (MCData client to MCData
server)
+-----------------------------+--------+-----------------------------+ | Information element | Status | Description | +-----------------------------+--------+-----------------------------+ | MCData ID | M | The identity of the MCData | | | | user sending data | +-----------------------------+--------+-----------------------------+ | Functional alias | O | The associated functional | | | | alias of the MCData user | | | | sending data. | +-----------------------------+--------+-----------------------------+ | MCData ID (see NOTE 1) | O | The identity of the MCData | | | | user towards which the data | | | | is sent | +-----------------------------+--------+-----------------------------+ | Functional alias | O | The associated functional | | (see NOTE 1) | | alias of the MCData user | | | | identity towards which the | | | | data is sent. | +-----------------------------+--------+-----------------------------+ | Conversation Identifier | M | Identifies the conversation | +-----------------------------+--------+-----------------------------+ | Transaction Identifier | M | Identifies the MCData | | | | transaction | +-----------------------------+--------+-----------------------------+ | Reply Identifier | O | Identifies the original | | | | MCData transaction to which | | | | the current transaction is | | | | a reply to | +-----------------------------+--------+-----------------------------+ | Emergency indicator | O | Indicates that the data | | | | request is for MCData | | | | emergency communication | +-----------------------------+--------+-----------------------------+ | Disposition Type | O | Indicates the disposition | | | | type expected from the | | | | receiver (i.e., delivered | | | | or read or both) | +-----------------------------+--------+-----------------------------+ | Payload Destination Type | M | Indicates whether the | | | | payload is for application | | | | consumption or MCData user | | | | consumption | +-----------------------------+--------+-----------------------------+ | Location | O | Location of the Originating | | | | MCData user sending the SDS | | | | message | +-----------------------------+--------+-----------------------------+ | Application identifier (see | O | Identifies the application | | NOTE 2) | | for which the payload is | | | | intended (e.g. text string, | | | | port address, URI) | +-----------------------------+--------+-----------------------------+ | Application metadata | O | Implementation specific | | container | | information that is | | | | communicated to the | | | | recipient | +-----------------------------+--------+-----------------------------+ | Payload | M | SDS content | +-----------------------------+--------+-----------------------------+ | NOTE 1: Either the MCData | | | | ID or the functional alias | | | | must be present. | | | | | | | | NOTE 2: The application | | | | identifier shall be | | | | included only if the | | | | payload destination type | | | | indicates that the payload | | | | is for application | | | | consumption. | | | +-----------------------------+--------+-----------------------------+
Table 7.4.2.1.1-2: MCData standalone data request (MCData server to MCData
client)
Information element Status Description
* * *
MCData ID M The identity of the MCData user sending data MCData ID M The
identity of the MCData user towards which the data is sent Conversation
Identifier M Identifies the conversation Transaction Identifier M Identifies
the MCData transaction Reply Identifier O Identifies the original MCData
transaction to which the current transaction is a reply to Emergency indicator
O Indicates that the data request is for MCData emergency communication
Disposition Type O Indicates the disposition type expected from the receiver
(i.e., delivered or read or both) Payload Destination Type M Indicates whether
the payload is for application consumption or MCData client consumption
Location O Location of the Originating MCData user sending the SDS message
Application identifier (see NOTE) O Identifies the application for which the
payload is intended (e.g. text string, port address, URI) Application metadata
container O Implementation specific information that is communicated to the
recipient Payload M SDS content NOTE: The application identifier shall be
included only if the payload destination type indicates that the payload is
for application consumption.
##### 7.4.2.1.2 MCData data disposition notification
Table 7.4.2.1.2-1 describes the information flow for the MCData data
disposition notification sent from the MCData client to the MCData server.
Table 7.4.2.1.2-1: MCData data disposition notification
* * *
Information element Status Description MCData ID M The identity of the MCData
user towards which the notification is sent MCData ID M The identity of the
MCData user sending notification Conversation Identifier M Identifies the
conversation Disposition association M Identity of the original MCData
transaction Disposition M Disposition which is delivered or read or both
* * *
##### 7.4.2.1.3 MCData standalone session data request
Table 7.4.2.1.3-1 describes the information flow for the MCData standalone
session data request sent from the MCData client to the MCData server and from
the MCData server to another MCData client.
Table 7.4.2.1.3-1: MCData standalone session data request (MCData client to
MCData server)
+-----------------------------+--------+-----------------------------+ | Information element | Status | Description | +-----------------------------+--------+-----------------------------+ | MCData ID | M | The identity of the MCData | | | | user sending data | +-----------------------------+--------+-----------------------------+ | Functional alias | O | The associated functional | | | | alias of the MCData user | | | | sending data. | +-----------------------------+--------+-----------------------------+ | MCData ID (see NOTE 1) | O | The identity of the MCData | | | | user towards which the data | | | | is sent | +-----------------------------+--------+-----------------------------+ | Functional alias | O | The associated functional | | (see NOTE 1) | | alias of the MCData user | | | | identity towards which the | | | | data is sent. | +-----------------------------+--------+-----------------------------+ | Conversation Identifier | M | Identifies the conversation | +-----------------------------+--------+-----------------------------+ | Transaction Identifier | M | Identifies the MCData | | | | transaction | +-----------------------------+--------+-----------------------------+ | Reply Identifier | O | Identifies the original | | | | MCData transaction to which | | | | the current transaction is | | | | a reply to | +-----------------------------+--------+-----------------------------+ | Transaction type | M | Standalone transaction | +-----------------------------+--------+-----------------------------+ | Emergency indicator | O | Indicates that the data | | | | request is for MCData | | | | emergency communication | +-----------------------------+--------+-----------------------------+ | Disposition Type | O | Indicates the disposition | | | | type expected from the | | | | receiver (i.e., delivered | | | | or read or both) | +-----------------------------+--------+-----------------------------+ | Payload Destination Type | M | Indicates whether the SDS | | | | payload is for application | | | | consumption or MCData user | | | | consumption | +-----------------------------+--------+-----------------------------+ | Location | O | Location of the Originating | | | | MCData user sending the SDS | | | | message | +-----------------------------+--------+-----------------------------+ | Application identifier | O | Identifies the application | | (see NOTE 2) | | for which the payload is | | | | intended (e.g. text string, | | | | port address, URI) | +-----------------------------+--------+-----------------------------+ | Requested Priority | O | Application priority level | | | | requested for this | | | | communication. | +-----------------------------+--------+-----------------------------+ | Application metadata | O | Implementation specific | | container | | information that is | | | | communicated to the | | | | recipient | +-----------------------------+--------+-----------------------------+ | SDP offer | M | Media parameters offered | +-----------------------------+--------+-----------------------------+ | NOTE 1: Either the MCData | | | | ID or the functional alias | | | | must be present. | | | | | | | | NOTE 2: The application | | | | identifier shall be | | | | included only if the | | | | payload destination type | | | | indicates that the SDS | | | | message is for application | | | | consumption. | | | +-----------------------------+--------+-----------------------------+
Table 7.4.2.1.3-2: MCData standalone session data request (MCData server to
MCData client)
Information element Status Description
* * *
MCData ID M The identity of the MCData user sending data MCData ID M The
identity of the MCData user towards which the data is sent Conversation
Identifier M Identifies the conversation Transaction Identifier M Identifies
the MCData transaction Reply Identifier O Identifies the original MCData
transaction to which the current transaction is a reply to Emergency indicator
O Indicates that the data request is for MCData emergency communication
Transaction type M Standalone transaction Disposition Type O Indicates the
disposition type expected from the receiver (i.e., delivered or read or both)
Payload Destination Type M Indicates whether the SDS payload is for
application consumption or MCData user consumption Location O Location of the
Originating MCData user sending the SDS message Application identifier (see
NOTE) O Identifies the application for which the payload is intended (e.g.
text string, port address, URI) Application metadata container O
Implementation specific information that is communicated to the recipient SDP
offer M Media parameters offered NOTE: The application identifier shall be
included only if the payload destination type indicates that the SDS message
is for application consumption.
##### 7.4.2.1.4 MCData standalone session data response
Table 7.4.2.1.4-1 describes the information flow for the MCData standalone
session data response sent from the MCData client to the MCData server and
from the MCData server to another MCData client.
Table 7.4.2.1.4-1: MCData standalone session data response
* * *
Information element Status Description MCData ID M The identity of the MCData
user receiving data MCData ID M The identity of the MCData user sent data
Conversation Identifier M Identifies the conversation SDP answer M Media
parameters selected Establishment reason M Reason for establishment or
rejection
* * *
##### 7.4.2.1.5 MCData session data request
Table 7.4.2.1.5-1 describes the information flow for the MCData session data
request sent from the MCData client to the MCData server and from the MCData
server to another MCData client.
Table 7.4.2.1.5-1: MCData session data request (MCData client to MCData
server)
+-----------------------------+--------+-----------------------------+ | Information element | Status | Description | +-----------------------------+--------+-----------------------------+ | MCData ID | M | The identity of the MCData | | | | user sending data | +-----------------------------+--------+-----------------------------+ | Functional alias | O | The associated functional | | | | alias of the MCData user | | | | sending data. | +-----------------------------+--------+-----------------------------+ | MCData ID (see NOTE 1) | O | The identity of the MCData | | | | user towards which the data | | | | is sent | +-----------------------------+--------+-----------------------------+ | Functional alias | O | The associated functional | | (see NOTE 1) | | alias of the MCData user | | | | identity towards which the | | | | data is sent. | +-----------------------------+--------+-----------------------------+ | Conversation Identifier | M | Identifies the conversation | +-----------------------------+--------+-----------------------------+ | Transaction Identifier | M | Identifies the MCData | | | | transaction | +-----------------------------+--------+-----------------------------+ | Reply Identifier | O | Identifies the original | | | | MCData transaction to which | | | | the current transaction is | | | | a reply to | +-----------------------------+--------+-----------------------------+ | Transaction type | M | Session based transactions | +-----------------------------+--------+-----------------------------+ | Emergency indicator | O | Indicates that the data | | | | request is for MCData | | | | emergency communication | +-----------------------------+--------+-----------------------------+ | Disposition Type | O | Indicates the disposition | | | | type expected from the | | | | receiver (i.e., delivered | | | | or read or both) | +-----------------------------+--------+-----------------------------+ | Payload Destination Type | M | Indicates whether the SDS | | | | payload is for application | | | | consumption or MCData user | | | | consumption | +-----------------------------+--------+-----------------------------+ | Location | O | Location of the Originating | | | | MCData user sending the SDS | | | | message | +-----------------------------+--------+-----------------------------+ | Application identifier | O | Identifies the application | | (see NOTE 2) | | for which the payload is | | | | intended (e.g. text string, | | | | port address, URI) | +-----------------------------+--------+-----------------------------+ | Application metadata | O | Implementation specific | | container | | information that is | | | | communicated to the | | | | recipient | +-----------------------------+--------+-----------------------------+ | SDP offer | M | Media parameters offered | +-----------------------------+--------+-----------------------------+ | Requested priority | O | Application priority level | | | | requested for this | | | | communication session | +-----------------------------+--------+-----------------------------+ | NOTE 1: Either the MCData | | | | ID or the functional alias | | | | must be present. | | | | | | | | NOTE 2: The application | | | | identifier shall be | | | | included only if the | | | | payload destination type | | | | indicates that the SDS | | | | message is for application | | | | consumption. | | | +-----------------------------+--------+-----------------------------+
Table 7.4.2.1.5-2: MCData session data request (MCData server to MCData
client)
Information element Status Description
* * *
MCData ID M The identity of the MCData user sending data MCData ID O The
identity of the MCData user towards which the data is sent Conversation
Identifier M Identifies the conversation Transaction Identifier M Identifies
the MCData transaction Reply Identifier O Identifies the original MCData
transaction to which the current transaction is a reply to Transaction type M
Session based transactions Emergency indicator O Indicates that the data
request is for MCData emergency communication Disposition Type O Indicates the
disposition type expected from the receiver (i.e., delivered or read or both)
Location O Location of the Originating MCData user sending the SDS message
Payload Destination Type M Indicates whether the SDS payload is for
application consumption or MCData user consumption Application identifier (see
NOTE) O Identifies the application for which the payload is intended (e.g.
text string, port address, URI) Application metadata container O
Implementation specific information that is communicated to the recipient SDP
offer M Media parameters offered Requested priority O Application priority
level requested for this communication session NOTE: The application
identifier shall be included only if the payload destination type indicates
that the SDS message is for application consumption.
##### 7.4.2.1.6 MCData session data response
Table 7.4.2.1.6-1 describes the information flow for the MCData session data
response sent from the MCData client to the MCData server and from the MCData
server to another MCData client.
Table 7.4.2.1.6-1: MCData session data response
* * *
Information element Status Description MCData ID M The identity of the MCData
user receiving data MCData ID M The identity of the MCData user sent data
Conversation Identifier M Identifies the conversation SDP answer M Media
parameters selected
* * *
##### 7.4.2.1.7 MCData group standalone data request (MCData client -- MCData
server)
Table 7.4.2.1.7-1 describes the information flow for the MCData group
standalone data request (in subclause 7.4.2.5.2) sent from the MCData client
to the MCData server.
Table 7.4.2.1.7-1: MCData group standalone data request (MCData client \--
MCData server)
+-----------------------------+--------+-----------------------------+ | Information element | Status | Description | +-----------------------------+--------+-----------------------------+ | MCData ID | M | The identity of the MCData | | | | user sending data | +-----------------------------+--------+-----------------------------+ | Functional alias | O | The associated functional | | | | alias of the MCData user | | | | sending data. | +-----------------------------+--------+-----------------------------+ | MCData group ID | M | The MCData group ID to | | | | which the data is to be | | | | sent | +-----------------------------+--------+-----------------------------+ | Conversation Identifier | M | Identifies the conversation | +-----------------------------+--------+-----------------------------+ | Transaction Identifier | M | Identifies the MCData | | | | transaction | +-----------------------------+--------+-----------------------------+ | Reply Identifier | O | Identifies the original | | | | MCData transaction to which | | | | the current transaction is | | | | a reply to | +-----------------------------+--------+-----------------------------+ | Emergency indicator | O | Indicates that the data | | (see NOTE 1) | | request is for MCData | | | | emergency communication | +-----------------------------+--------+-----------------------------+ | Alert indicator | O | Indicates whether an | | (see NOTE 2) | | emergency alert is to be | | | | sent | +-----------------------------+--------+-----------------------------+ | Imminent peril indicator | O | Indicates that the data | | (see NOTE 1) | | request is for MCData | | | | imminent peril | | | | communication | +-----------------------------+--------+-----------------------------+ | Disposition Type | O | Indicates the disposition | | | | type expected from the | | | | receiver (i.e., delivered | | | | or read or both) | +-----------------------------+--------+-----------------------------+ | MCData ID list (see NOTE 4) | O | The specified MCData users | | | | who should send a | | | | disposition notification | | | | message. | +-----------------------------+--------+-----------------------------+ | Payload Destination Type | M | Indicates whether the | | | | payload is for application | | | | consumption or MCData user | | | | consumption | +-----------------------------+--------+-----------------------------+ | Location | O | Location of the Originating | | | | MCData user sending the SDS | +-----------------------------+--------+-----------------------------+ | Application identifier (see | O | Identifies the application | | NOTE 3) | | for which the payload is | | | | intended (e.g. text string, | | | | port address, URI) | +-----------------------------+--------+-----------------------------+ | Application metadata | O | Implementation specific | | container | | information that is | | | | communicated to the | | | | recipient | +-----------------------------+--------+-----------------------------+ | Payload | M | SDS content | +-----------------------------+--------+-----------------------------+ | NOTE 1: If used, only one | | | | of these information | | | | elements shall be present. | | | | | | | | NOTE 2: This information | | | | element may be present only | | | | when Emergency indicator is | | | | present. | | | | | | | | NOTE 3: The application | | | | identifier shall be | | | | included only if the | | | | payload destination type | | | | indicates that the SDS | | | | message is for application | | | | consumption. | | | | | | | | NOTE 4: If Disposition Type | | | | IE is not present, this IE | | | | shall not be present. If | | | | Disposition Type IE is | | | | present but this IE is not, | | | | which indicates that all | | | | receivers shall respond | | | | with disposition | | | | notification message. | | | +-----------------------------+--------+-----------------------------+
##### 7.4.2.1.8 MCData group standalone data request (MCData server -- MCData
client)
Table 7.4.2.1.8-1 describes the information flow for the MCData group
standalone data request (in subclause 7.4.2.5.2) sent from the MCData server
to the MCData client.
Table 7.4.2.1.8-1: MCData group standalone data request (MCData server \--
MCData client)
+-----------------------------+--------+-----------------------------+ | Information element | Status | Description | +-----------------------------+--------+-----------------------------+ | MCData ID | M | The identity of the MCData | | | | user sending data | +-----------------------------+--------+-----------------------------+ | Functional alias | O | The associated functional | | | | alias of the MCData user | | | | sending data. | +-----------------------------+--------+-----------------------------+ | MCData group ID | M | The MCData group ID to | | | | which the data is to be | | | | sent | +-----------------------------+--------+-----------------------------+ | MCData ID | M | The identity of the MCData | | | | user towards which the data | | | | is sent | +-----------------------------+--------+-----------------------------+ | Conversation Identifier | M | Identifies the conversation | +-----------------------------+--------+-----------------------------+ | Transaction Identifier | M | Identifies the MCData | | | | transaction | +-----------------------------+--------+-----------------------------+ | Reply Identifier | O | Identifies the original | | | | MCData transaction to which | | | | the current transaction is | | | | a reply to | +-----------------------------+--------+-----------------------------+ | Emergency indicator | O | Indicates that the data | | (see NOTE 1) | | request is for MCData | | | | emergency communication | +-----------------------------+--------+-----------------------------+ | Alert indicator (see | O | Indicates whether an | | NOTE 2) | | emergency alert is to be | | | | sent | +-----------------------------+--------+-----------------------------+ | Imminent peril indicator | O | Indicates that the data | | (see NOTE 1) | | request is for MCData | | | | imminent peril | | | | communication | +-----------------------------+--------+-----------------------------+ | Disposition Type | O | Indicates the disposition | | | | type expected from the | | | | receiver (i.e., delivered | | | | or read or both) | +-----------------------------+--------+-----------------------------+ | MCData ID list (see NOTE 4) | O | The specified MCData users | | | | who should send disposition | | | | notification message. | +-----------------------------+--------+-----------------------------+ | Payload Destination Type | M | Indicates whether the | | | | payload is for application | | | | consumption or MCData user | | | | consumption | +-----------------------------+--------+-----------------------------+ | Location | O | Location of the Originating | | | | MCData user sending the SDS | +-----------------------------+--------+-----------------------------+ | Application identifier (see | O | Identifies the application | | NOTE 3) | | for which the payload is | | | | intended (e.g. text string, | | | | port address, URI) | +-----------------------------+--------+-----------------------------+ | Application metadata | O | Implementation specific | | container | | information that is | | | | communicated to the | | | | recipient | +-----------------------------+--------+-----------------------------+ | Payload | M | SDS content | +-----------------------------+--------+-----------------------------+ | NOTE 1: If used, only one | | | | of these information | | | | elements shall be present. | | | | | | | | NOTE 2: This information | | | | element may be present only | | | | when Emergency indicator is | | | | present. | | | | | | | | NOTE 3: The application | | | | identifier shall be | | | | included only if the | | | | payload destination type | | | | indicates that the payload | | | | is for application | | | | consumption. | | | | | | | | NOTE 4: If Disposition Type | | | | IE is not present, this IE | | | | shall not be present. If | | | | Disposition Type IE is | | | | present but this IE is not, | | | | which indicates that all | | | | receivers shall respond | | | | with disposition | | | | notification message. | | | +-----------------------------+--------+-----------------------------+
##### 7.4.2.1.9 MCData data disposition notification (MCData server -- MCData
client)
Table 7.4.2.1.9-1 describes the information flow for the MCData data
disposition notification(s) sent from the MCData server to the MCData client.
Table 7.4.2.1.9-1: MCData data disposition notification(s) (MCData server --
MCData client)
* * *
Information element Status Description MCData ID M The identity of the MCData
user towards which the notification is sent MCData ID M The identity of the
MCData user sending notification Conversation Identifier M Identifies the
conversation Disposition association M Identity of the original MCData
transaction Disposition M Disposition which is delivered or read or both
* * *
##### 7.4.2.1.9A MCData aggregated data disposition notification
Table 7.4.2.1.9A-1 describes the information flow for the MCData aggregated
data disposition notification sent from the MCData server to the MCData
client, indicating the result of a request for an SDS delivery to an MCData
group.
Table 7.4.2.1.9A-1: MCData aggregated data disposition notification
* * *
Information element Status Description MCData ID M The identity of the MCData
user towards which the notification is sent Number of Aggregated Notifications
M Total number of received individual notifications Number of \"Read\"
Notifications O Number of MCData users who only reported the \"read\"
disposition Number of \"Delivered\" Notifications O Number of MCData users who
only reported the \"delivered\" disposition Conversation Identifier M
Identifies the conversation Disposition association M Identity of the original
MCData transaction \"Read\" MCData ID list O List, partial or full, of MCData
users who only reported the \"read\" disposition \"Delivered\" MCData ID list
O List, partial or full, of MCData users who only reported the \"delivered\"
disposition
* * *
##### 7.4.2.1.10 MCData group session standalone data request (MCData client
-- MCData server)
Table 7.4.2.1.10-1 describes the information flow for the MCData group session
standalone data request (in subclause 7.4.2.6.2) sent from the MCData client
to the MCData server.
Table 7.4.2.1.10-1: MCData group session standalone data request (MCData
client -- MCData server)
+-----------------------------+--------+-----------------------------+ | Information element | Status | Description | +-----------------------------+--------+-----------------------------+ | MCData ID | M | The identity of the MCData | | | | user sending data | +-----------------------------+--------+-----------------------------+ | Functional alias | O | The associated functional | | | | alias of the MCData user | | | | sending data. | +-----------------------------+--------+-----------------------------+ | MCData group ID | M | The MCData group ID to | | | | which the data is to be | | | | sent | +-----------------------------+--------+-----------------------------+ | Conversation Identifier | M | Identifies the conversation | +-----------------------------+--------+-----------------------------+ | Transaction Identifier | M | Identifies the MCData | | | | transaction | +-----------------------------+--------+-----------------------------+ | Reply Identifier | O | Identifies the original | | | | MCData transaction to which | | | | the current transaction is | | | | a reply to | +-----------------------------+--------+-----------------------------+ | Transaction type | M | Standalone transaction | +-----------------------------+--------+-----------------------------+ | Emergency indicator | O | Indicates that the data | | (see NOTE 1) | | request is for MCData | | | | emergency communication | +-----------------------------+--------+-----------------------------+ | Alert indicator | O | Indicates whether an | | (see NOTE 2) | | emergency alert is to be | | | | sent | +-----------------------------+--------+-----------------------------+ | Imminent peril indicator | O | Indicates that the data | | (see NOTE 1) | | request is for MCData | | | | imminent peril | | | | communication | +-----------------------------+--------+-----------------------------+ | Disposition Type | O | Indicates the disposition | | | | type expected from the | | | | receiver (i.e., delivered | | | | or read or both) | +-----------------------------+--------+-----------------------------+ | Payload Destination Type | M | Indicates whether the | | | | payload is for application | | | | consumption or MCData user | | | | consumption | +-----------------------------+--------+-----------------------------+ | Location | O | Location of the Originating | | | | MCData user sending the SDS | | | | message | +-----------------------------+--------+-----------------------------+ | Application identifier | O | Identifies the application | | (see NOTE 3) | | for which the payload is | | | | intended (e.g. text string, | | | | port address, URI, attached | | | | data hosts) | +-----------------------------+--------+-----------------------------+ | Application metadata | O | Implementation specific | | container | | information that is | | | | communicated to the | | | | recipient | +-----------------------------+--------+-----------------------------+ | SDP offer | M | Media parameters offered | +-----------------------------+--------+-----------------------------+ | Requested priority | O | Application priority level | | | | requested for this | | | | communication session | +-----------------------------+--------+-----------------------------+ | NOTE 1: If used, only one | | | | of these information | | | | elements shall be present. | | | | | | | | NOTE 2: This information | | | | element may be present only | | | | when Emergency indicator is | | | | present. | | | | | | | | NOTE 3: The application | | | | identifier shall be | | | | included only if the | | | | payload destination type | | | | indicates that the SDS | | | | message is for application | | | | consumption or IP data in | | | | IP connectivity sessions | | | | are for data host | | | | consumption. | | | +-----------------------------+--------+-----------------------------+
##### 7.4.2.1.11 MCData group session standalone data request (MCData server
-- MCData client)
Table 7.4.2.1.11-1 describes the information flow for the MCData group session
standalone data request (in subclause 7.4.2.6.2) sent from the MCData server
to the MCData client.
Table 7.4.2.1.11-1: MCData group session standalone data request (MCData
server -- MCData client)
+-----------------------------+--------+-----------------------------+ | Information element | Status | Description | +-----------------------------+--------+-----------------------------+ | MCData ID | M | The identity of the MCData | | | | user sending data | +-----------------------------+--------+-----------------------------+ | Functional alias | O | The associated functional | | | | alias of the MCData user | | | | sending data. | +-----------------------------+--------+-----------------------------+ | MCData group ID | M | The MCData group ID to | | | | which the data is to be | | | | sent | +-----------------------------+--------+-----------------------------+ | MCData ID | M | The identity of the MCData | | | | user towards which the data | | | | is sent | +-----------------------------+--------+-----------------------------+ | Conversation Identifier | M | Identifies the conversation | +-----------------------------+--------+-----------------------------+ | Transaction Identifier | M | Identifies the MCData | | | | transaction | +-----------------------------+--------+-----------------------------+ | Reply Identifier | O | Identifies the original | | | | MCData transaction to which | | | | the current transaction is | | | | a reply to | +-----------------------------+--------+-----------------------------+ | Transaction type | M | Standalone transaction | +-----------------------------+--------+-----------------------------+ | Emergency indicator | O | Indicates that the data | | (see NOTE 1) | | request is for MCData | | | | emergency communication | +-----------------------------+--------+-----------------------------+ | Alert indicator | O | Indicates whether an | | (see NOTE 2) | | emergency alert is to be | | | | sent | +-----------------------------+--------+-----------------------------+ | Imminent peril indicator | O | Indicates that the data | | (see NOTE 1) | | request is for MCData | | | | imminent peril | | | | communication | +-----------------------------+--------+-----------------------------+ | Disposition Type | O | Indicates the disposition | | | | type expected from the | | | | receiver (i.e., delivered | | | | or read or both) | +-----------------------------+--------+-----------------------------+ | Payload Destination Type | M | Indicates whether the | | | | payload is for application | | | | consumption or MCData user | | | | consumption | +-----------------------------+--------+-----------------------------+ | Location | O | Location of the Originating | | | | MCData user sending the SDS | | | | message | +-----------------------------+--------+-----------------------------+ | Application identifier | O | Identifies the application | | (see NOTE 3) | | for which the payload is | | | | intended (e.g. text string, | | | | port address, URI, attached | | | | data hosts) | +-----------------------------+--------+-----------------------------+ | Application metadata | O | Implementation specific | | container | | information that is | | | | communicated to the | | | | recipient | +-----------------------------+--------+-----------------------------+ | SDP offer | M | Media parameters offered | +-----------------------------+--------+-----------------------------+ | NOTE 1: If used, only one | | | | of these information | | | | elements shall be present. | | | | | | | | NOTE 2: This information | | | | element may be present only | | | | when Emergency indicator is | | | | present. | | | | | | | | NOTE 3: The application | | | | identifier shall be | | | | included only if the | | | | payload destination type | | | | indicates that the SDS | | | | message is for application | | | | consumption or IP data in | | | | IP connectivity sessions | | | | are for data host | | | | consumption. | | | +-----------------------------+--------+-----------------------------+
##### 7.4.2.1.12 MCData group session standalone data response
Table 7.4.2.1.12-1 describes the information flow for the MCData group
standalone data response (in subclause 7.4.2.6.2) sent from the MCData client
to the MCData server and from the MCData server to another MCData client.
Table 7.4.2.1.12-1: MCData group session standalone data response
* * *
Information element Status Description MCData ID M The identity of the MCData
user receiving data MCData group ID M The MCData group ID to which the data is
to be sent MCData ID M The identity of the MCData user sent data Conversation
Identifier M Identifies the conversation SDP answer M Media parameters
selected
* * *
##### 7.4.2.1.13 MCData group data request (MCData client -- MCData server)
Table 7.4.2.1.13-1 describes the information flow for the MCData group data
request sent from the MCData client to the MCData server.
Table 7.4.2.1.13-1: MCData group data request (MCData client -- MCData server)
+-----------------------------+--------+-----------------------------+ | Information element | Status | Description | +-----------------------------+--------+-----------------------------+ | MCData ID | M | The identity of the MCData | | | | user sending data | +-----------------------------+--------+-----------------------------+ | Functional alias | O | The associated functional | | | | alias of the MCData user | | | | sending data. | +-----------------------------+--------+-----------------------------+ | MCData group ID | M | The MCData group ID to | | | | which the data is to be | | | | sent | +-----------------------------+--------+-----------------------------+ | Conversation Identifier | M | Identifies the conversation | +-----------------------------+--------+-----------------------------+ | Transaction Identifier | M | Identifies the MCData | | | | transaction | +-----------------------------+--------+-----------------------------+ | Reply Identifier | O | Identifies the original | | | | MCData transaction to which | | | | the current transaction is | | | | a reply to | +-----------------------------+--------+-----------------------------+ | Transaction type | M | Session based transactions | +-----------------------------+--------+-----------------------------+ | Emergency indicator | O | Indicates that the data | | (see NOTE 1) | | request is for MCData | | | | emergency communication | +-----------------------------+--------+-----------------------------+ | Alert indicator | O | Indicates whether an | | (see NOTE 2) | | emergency alert is to be | | | | sent | +-----------------------------+--------+-----------------------------+ | Imminent peril indicator | O | Indicates that the data | | (see NOTE 1) | | request is for MCData | | | | imminent peril | | | | communication | +-----------------------------+--------+-----------------------------+ | Disposition Type | O | Indicates the disposition | | | | type expected from the | | | | receiver (i.e., delivered | | | | or read or both) | +-----------------------------+--------+-----------------------------+ | Payload Destination Type | M | Indicates whether the SDS | | | | payload is for application | | | | consumption or MCData user | | | | consumption | +-----------------------------+--------+-----------------------------+ | Location | O | Location of the Originating | | | | MCData user sending the SDS | | | | message | +-----------------------------+--------+-----------------------------+ | Application identifier | O | Identifies the application | | (see NOTE 3) | | for which the payload is | | | | intended (e.g. text string, | | | | port address, URI) | +-----------------------------+--------+-----------------------------+ | Application metadata | O | Implementation specific | | container | | information that is | | | | communicated to the | | | | recipient | +-----------------------------+--------+-----------------------------+ | SDP offer | M | Media parameters offered | +-----------------------------+--------+-----------------------------+ | Requested priority | O | Application priority level | | | | requested for this | | | | communication session | +-----------------------------+--------+-----------------------------+ | NOTE 1: If used, only one | | | | of these information | | | | elements shall be present. | | | | | | | | NOTE 2: This information | | | | element may be present only | | | | when Emergency indicator is | | | | present. | | | | | | | | NOTE 3: The application | | | | identifier shall be | | | | included only if the | | | | payload destination type | | | | indicates that the SDS | | | | message is for application | | | | consumption. | | | +-----------------------------+--------+-----------------------------+
##### 7.4.2.1.14 MCData group data request (MCData server -- MCData client)
Table 7.4.2.1.14-1 describes the information flow for the MCData group data
request sent from the MCData server to the MCData client.
Table 7.4.2.1.14-1: MCData group data request (MCData server -- MCData client)
+-----------------------------+--------+-----------------------------+ | Information element | Status | Description | +-----------------------------+--------+-----------------------------+ | MCData ID | M | The identity of the MCData | | | | user sending data | +-----------------------------+--------+-----------------------------+ | Functional alias | O | The associated functional | | | | alias of the MCData user | | | | sending data. | +-----------------------------+--------+-----------------------------+ | MCData group ID | M | The MCData group ID to | | | | which the data is to be | | | | sent | +-----------------------------+--------+-----------------------------+ | MCData ID | M | The identity of the | | | | recipient MCData user | +-----------------------------+--------+-----------------------------+ | Conversation Identifier | M | Identifies the conversation | +-----------------------------+--------+-----------------------------+ | Transaction Identifier | M | Identifies the MCData | | | | transaction | +-----------------------------+--------+-----------------------------+ | Reply Identifier | O | Identifies the original | | | | MCData transaction to which | | | | the current transaction is | | | | a reply to | +-----------------------------+--------+-----------------------------+ | Transaction type | M | Session based transactions | +-----------------------------+--------+-----------------------------+ | Emergency indicator | O | Indicates that the data | | (see NOTE 1) | | request is for MCData | | | | emergency communication | +-----------------------------+--------+-----------------------------+ | Alert indicator | O | Indicates whether an | | (see NOTE 2) | | emergency alert is to be | | | | sent | +-----------------------------+--------+-----------------------------+ | Imminent peril indicator | O | Indicates that the data | | (see NOTE 1) | | request is for MCData | | | | imminent peril | | | | communication | +-----------------------------+--------+-----------------------------+ | Disposition Type | O | Indicates the disposition | | | | type expected from the | | | | receiver (i.e., delivered | | | | or read or both) | +-----------------------------+--------+-----------------------------+ | Payload Destination Type | M | Indicates whether the SDS | | | | payload is for application | | | | consumption or MCData user | | | | consumption | +-----------------------------+--------+-----------------------------+ | Location | O | Location of the Originating | | | | MCData user sending the SDS | | | | message | +-----------------------------+--------+-----------------------------+ | Application identifier | O | Identifies the application | | (see NOTE 3) | | for which the payload is | | | | intended (e.g. text string, | | | | port address, URI) | +-----------------------------+--------+-----------------------------+ | Application metadata | O | Implementation specific | | container | | information that is | | | | communicated to the | | | | recipient | +-----------------------------+--------+-----------------------------+ | SDP offer | M | Media parameters offered | +-----------------------------+--------+-----------------------------+ | NOTE 1: If used, only one | | | | of these information | | | | elements shall be present. | | | | | | | | NOTE 2: This information | | | | element may be present only | | | | when Emergency indicator is | | | | present. | | | | | | | | NOTE 3: The application | | | | identifier shall be | | | | included only if the | | | | payload destination type | | | | indicates that the SDS | | | | message is for application | | | | consumption. | | | +-----------------------------+--------+-----------------------------+
##### 7.4.2.1.15 MCData group data response
Table 7.4.2.1.15-1 describes the information flow for the MCData group data
response sent from the MCData client to the MCData server and from the MCData
server to another MCData client.
Table 7.4.2.1.15-1: MCData group data response
* * *
Information element Status Description MCData ID M The identity of the MCData
user receiving data MCData group ID M The MCData group ID to which the data is
to be sent MCData ID M The identity of the MCData user sent data Conversation
Identifier M Identifies the conversation SDP answer M Media parameters
selected
* * *
##### 7.4.2.1.16 MCData one-to-one SDS communication upgrade request
Table 7.4.2.1.16-1 describes the information flow for the MCData one-to-one
SDS communication upgrade request sent from the MCData client to the MCData
server and from the MCData server to another MCData client.
Table 7.4.2.1.16-1: MCData one-to-one SDS communication upgrade request
+-------------------------+--------+-----------------------------+ | Information element | Status | Description | +-------------------------+--------+-----------------------------+ | MCData ID | M | The identity of the MCData | | | | user sending data (when | | | | initiated by MCData | | | | client); | | | | | | | | The identity of the MCData | | | | user receiving data (when | | | | initiated by MCData | | | | server). | +-------------------------+--------+-----------------------------+ | Functional alias | O | The associated functional | | | | alias of the MCData user | | | | sending data or receiving | | | | data. | +-------------------------+--------+-----------------------------+ | Conversation Identifier | M | Identifies the conversation | +-------------------------+--------+-----------------------------+ | Emergency indicator | M | Indicates that the data | | | | request is for MCData | | | | emergency communication | +-------------------------+--------+-----------------------------+
##### 7.4.2.1.17 MCData one-to-one SDS communication upgrade response
Table 7.4.2.1.17-1 describes the information flow for the MCData one-to-one
SDS communication upgrade response sent from the MCData client to the MCData
server and from the MCData server to another MCData client.
Table 7.4.2.1.17-1: MCData one-to-one SDS communication upgrade response
+-------------------------+--------+-----------------------------+ | Information element | Status | Description | +-------------------------+--------+-----------------------------+ | MCData ID | M | The identity of the MCData | | | | user sending data (when | | | | initiated by MCData | | | | client); | | | | | | | | The identity of the MCData | | | | user receiving data (when | | | | initiated by MCData | | | | server). | +-------------------------+--------+-----------------------------+ | Conversation Identifier | M | Identifies the conversation | +-------------------------+--------+-----------------------------+
##### 7.4.2.1.18 MCData group SDS communication upgrade request
Table 7.4.2.1.18-1 describes the information flow for the MCData group SDS
communication upgrade request sent from the MCData client to the MCData server
and from the MCData server to another MCData client.
Table 7.4.2.1.18-1: MCData group SDS communication upgrade request (MCData
client to MCData server)
+-----------------------------+--------+-----------------------------+ | Information element | Status | Description | +-----------------------------+--------+-----------------------------+ | MCData ID | M | The identity of the MCData | | | | user sending upgrade | | | | request | +-----------------------------+--------+-----------------------------+ | Functional alias | O | The associated functional | | | | alias of the MCData user | | | | sending data or receiving | | | | data. | +-----------------------------+--------+-----------------------------+ | MCData group ID | M | The MCData group ID on | | | | which the emergency upgrade | | | | request is made | +-----------------------------+--------+-----------------------------+ | Conversation Identifier | M | Identifies the conversation | +-----------------------------+--------+-----------------------------+ | Emergency indicator (see | O | Indicates that the data | | NOTE 1) | | request is for MCData | | | | emergency communication | +-----------------------------+--------+-----------------------------+ | Alert indicator | O | Indicates whether an | | (see NOTE 2) | | emergency alert is to be | | | | sent | +-----------------------------+--------+-----------------------------+ | Imminent peril indicator | O | Indicates that the data | | (see NOTE 1) | | request is for MCData | | | | imminent peril | | | | communication | +-----------------------------+--------+-----------------------------+ | NOTE 1: If used, only one | | | | of these information | | | | elements shall be present. | | | | | | | | NOTE 2: This information | | | | element may be present only | | | | when Emergency indicator is | | | | present. | | | +-----------------------------+--------+-----------------------------+
Table 7.4.2.1.18-2: MCData group SDS communication upgrade request (MCData
server to MCData client)
+-----------------------------+--------+-----------------------------+ | Information element | Status | Description | +-----------------------------+--------+-----------------------------+ | MCData ID | M | The identity of the MCData | | | | user sending upgrade | | | | request | +-----------------------------+--------+-----------------------------+ | Functional alias | O | The associated functional | | | | alias of the MCData user | | | | sending data or receiving | | | | data. | +-----------------------------+--------+-----------------------------+ | MCData group ID | M | The MCData group ID on | | | | which the emergency upgrade | | | | request is made | +-----------------------------+--------+-----------------------------+ | MCData ID | M | The identity of the MCData | | | | user receiving the upgrade | | | | request | +-----------------------------+--------+-----------------------------+ | Conversation Identifier | M | Identifies the conversation | +-----------------------------+--------+-----------------------------+ | Emergency indicator (see | O | Indicates that the data | | NOTE 1) | | request is for MCData | | | | emergency communication | +-----------------------------+--------+-----------------------------+ | Alert indicator | O | Indicates whether an | | (see NOTE 2) | | emergency alert is to be | | | | sent | +-----------------------------+--------+-----------------------------+ | Imminent peril indicator | O | Indicates that the data | | (see NOTE 1) | | request is for MCData | | | | imminent peril | | | | communication | +-----------------------------+--------+-----------------------------+ | NOTE 1: If used, only one | | | | of these information | | | | elements shall be present. | | | | | | | | NOTE 2: This information | | | | element may be present only | | | | when Emergency indicator is | | | | present. | | | +-----------------------------+--------+-----------------------------+
##### 7.4.2.1.19 MCData group SDS communication upgrade response
Table 7.4.2.1.19-1 describes the information flow for the MCData group SDS
communication upgrade response sent from the MCData client to the MCData
server and from the MCData server to another MCData client.
Table 7.4.2.1.19-1: MCData group SDS communication upgrade response
+-------------------------+--------+-----------------------------+ | Information element | Status | Description | +-------------------------+--------+-----------------------------+ | MCData ID | M | The identity of the MCData | | | | user sending data (when | | | | initiated by MCData | | | | client); | | | | | | | | The identity of the MCData | | | | user receiving data (when | | | | initiated by MCData | | | | server). | +-------------------------+--------+-----------------------------+ | MCData group ID | M | The MCData group ID on | | | | which the emergency upgrade | | | | request is made | +-------------------------+--------+-----------------------------+ | Conversation Identifier | M | Identifies the conversation | +-------------------------+--------+-----------------------------+
##### 7.4.2.1.20 MCData group SDS communication in-progress priority state
cancel request
Table 7.4.2.1.20-1 describes the information for the MCData group SDS
communication in-progress priority state cancel request sent from the MCData
client to the MCData server and from the MCData server to another MCData
client.
Table 7.4.2.1.20-1: MCData group SDS communication in-progress priority state
cancel request (MCData client to MCData server)
+-----------------------------+--------+-----------------------------+ | Information Element | Status | Description | +=============================+========+=============================+ | MCData ID | M | The identity of the | | | | cancelling party | +-----------------------------+--------+-----------------------------+ | MCData group ID | M | The MCData group ID on | | | | which the MCData | | | | in-progress emergency state | | | | is to be cancelled. | +-----------------------------+--------+-----------------------------+ | Emergency indicator | O | Indicates that the data | | (see NOTE 1) | | request is for MCData | | | | emergency communication | +-----------------------------+--------+-----------------------------+ | Alert indicator | O | Indicates whether an | | (see NOTE 2) | | emergency alert is to be | | | | sent | +-----------------------------+--------+-----------------------------+ | Imminent peril indicator | O | Indicates that the data | | (see NOTE 1) | | request is for MCData | | | | imminent peril | | | | communication | +-----------------------------+--------+-----------------------------+ | Conversation Identifier | M | Identifies the conversation | +-----------------------------+--------+-----------------------------+ | NOTE 1: If used, only one | | | | of these information | | | | elements shall be present. | | | | | | | | NOTE 2: This information | | | | element may be present only | | | | when Emergency indicator is | | | | present. | | | +-----------------------------+--------+-----------------------------+
Table 7.4.2.1.20-2 MCData group SDS communication in-progress priority state
cancel request (MCData server to MCData client)
+-----------------------------+--------+-----------------------------+ | Information Element | Status | Description | +=============================+========+=============================+ | MCData ID | M | The identity of the | | | | cancelling party | +-----------------------------+--------+-----------------------------+ | MCData group ID | M | The MCData group ID on | | | | which the MCData | | | | in-progress emergency state | | | | is to be cancelled. | +-----------------------------+--------+-----------------------------+ | MCData ID | M | The identity of the | | | | recipient MCData user | +-----------------------------+--------+-----------------------------+ | Emergency indicator | O | Indicates that the data | | (see NOTE 1) | | request is for MCData | | | | emergency communication | +-----------------------------+--------+-----------------------------+ | Alert indicator | O | Indicates whether an | | (see NOTE 2) | | emergency alert is to be | | | | sent | +-----------------------------+--------+-----------------------------+ | Imminent peril indicator | O | Indicates that the data | | (see NOTE 1) | | request is for MCData | | | | imminent peril | | | | communication | +-----------------------------+--------+-----------------------------+ | Conversation Identifier | M | Identifies the conversation | +-----------------------------+--------+-----------------------------+ | NOTE 1: If used, only one | | | | of these information | | | | elements shall be present. | | | | | | | | NOTE 2: This information | | | | element may be present only | | | | when Emergency indicator is | | | | present. | | | +-----------------------------+--------+-----------------------------+
##### 7.4.2.1.21 MCData group SDS communication in-progress priority state
cancel response
Table 7.4.2.1.21-1 describes the information flow for the MCData group SDS
communication in-progress priority state cancel response sent from the MCData
server to the MCData client.
Table 7.4.2.1.21-1: MCData group SDS communication in-progress priority state
cancel response
Information Element Status Description
* * *
MCData ID M The identity of the cancelling party MCData group ID M The MCData
group ID on which the MCData in-progress emergency in-progress is to be
cancelled. Conversation Identifier M Identifies the conversation
##### 7.4.2.1.22 MCData functional alias resolution response
Table 7.4.2.1.22-1 describes the information flow MCData functional alias
resolution response from the MCData server to the MCData client.
Table 7.4.2.1.22-1: MCData functional alias resolution response information
elements
Information Element Status Description
* * *
MCData ID M The identity of the MCData user sending the data MCData ID M The
corresponding MCData ID of the functional alias resolved by MCData server
#### 7.4.2.2 One-to-one standalone short data service using signalling control
plane
##### 7.4.2.2.1 General
A MCData user initiates a standalone SDS data transfer with another MCData
user. For the SDS data transfer signalling plane is used. The target MCData
user may be addressed using the functional alias that can be shared with other
MCData users.
##### 7.4.2.2.2 Procedure
The procedure in figure 7.4.2.2.2-1 describes the case where an MCData user is
initiating one-to-one MCData data communication for sending standalone SDS
data to other MCData user, with or without disposition request. Standalone
refers to sending unidirectional data in one transaction.
Pre-conditions:
1\. The SDS payload data size is below the configured maximum payload data
size for SDS over signalling control plane.
2\. MCData users on MCData client 1 and MCData client 2 are already registered
for receiving MCData service.
3\. MCData client 1 and MCData client 2 belong to the same MCData system.
4\. Optionally, the MCData client may have activated functional alias to be
used.
5\. The MCData server may have subscribed to the MCData functional alias
controlling server within the MC system for functional alias activation/de-
activation updates.
Figure 7.4.2.2.2-1: One-to-one standalone short data service using signalling
control plane
1\. The user at MCData client 1 initiates an SDS data transfer for the chosen
MCData user.
2\. MCData client 1 sends a MCData standalone data request towards the MCData
server. The MCData standalone data request contains conversation identifier
for message thread indication. The MCData standalone data request may include
additional implementation specific information in the application metadata
container. The MCData standalone data request may contain disposition request
if indicated by the user at MCData client 1. MCData user at MCData client 1
may include a functional alias within the SDS data transfer and addresses the
target MCData client 2 using a functional alias.
a) If the MCData user at the MCData client 1 initiates an MCData emergency
short data service communication or MCData emergency state is already set for
the MCData client 1 (due to previously triggered MCData emergency alert):
i) The MCData standalone data request shall contain emergency indicator; and
ii) If MCData emergency state is not set already, MCData client 1 sets its
MCData emergency state. The MCData emergency state of MCData client 1 is
retained until explicitly cancelled by the user of MCData client 1.
NOTE 1: While MCData client 1 is in the emergency state, all types of MCData
one-to-one and group communications initiated by MCData client 1 are initiated
as MCData emergency communications.
3\. MCData server checks whether the MCData user at MCData client 1 is
authorized to send MCData standalone data request. MCData server verifies
whether the provided functional alias of MCData client 1, if present, can be
used and has been activated for the user. The MCData server also checks
whether any policy is to be asserted to limit certain types of message or
content to certain members due, for example, to location or user privilege or
affiliation. If functional alias is used to address that target MCData user,
the MCData server resolves the functional alias to the corresponding MCData
ID(s) for which the functional alias is active and proceed with step 4
otherwise proceed with step 6. The MCData server allows only two participating
MCData clients for a standalone short data service.
NOTE 2: The MCData server prioritizes the MCData emergency communication over
the other MCData communication. How the MCData server prioritizes MCData
emergency communication is not in the scope of the present document.
NOTE 3: If the MCData server detects that the functional alias used as the
target of the SDS data transfer request is simultaneously active for multiple
MCData users, then the MCData server can proceed by selecting an appropriate
MCData ID based on some selection criteria. The selection of an appropriate
MCData ID is left to implementation. These selection criteria can include
rejection of the SDS data transfer request, if no suitable MCData ID is
selected.
4\. The MCData server responds back to MCData client 1 with a functional alias
resolution response message that contains the resolved MCData ID.
5\. If the MCData server replies with a MCData functional alias resolution
response message, the MCData client 1 assumes the MCData standalone data
request in step 2 is rejected and sends a new MCData standalone data request
towards the resolved MCData ID.
6\. MCData server initiates the MCData standalone data request towards the
MCData user that is determined based on step 3. The MCData standalone data
request towards the MCData user contains the emergency indicator if it is
present in the received MCData standalone data request from MCData client 1.
NOTE 4: MCData client 2 does not set its emergency state as a result of
receiving the MCData standalone data request containing the emergency
indicator.
7\. If the payload is for MCData user consumption (e.g. is not application
data, is not command instructions, etc.) then the MCData user of MCData client
2 may be notified. Otherwise if the payload is not for MCData user
consumption, then the MCData user of MCData client 2 shall not be notified.
The action taken when the payload contains application data or command
instructions are specific based on the contents of the payload. Payload
content received by MCData client 2 which is addressed to a known local non-
MCData application that is not yet running shall cause the MCData client 2 to
start the local non-MCData application (i.e., remote start application) and
shall pass the payload content to the just started application.
8\. If the MCData data disposition for delivery was requested by the user at
MCData client 1, then the receiving MCData client initiates a MCData data
disposition notification for delivery report. The MCData data disposition
notification from MCData client may be stored by the MCData server for
disposition history interrogation from authorized MCData users.
> 9\. MCData data disposition notification is sent to the disposition
> requesting user at MCData client 1.
>
> 10\. If the MCData data disposition for read was requested by the user at
> MCData client 1, then once the receiving user reads the data, the receiving
> MCData client 2 initiates a MCData data disposition notification for read
> report. The MCData data disposition notification from MCData client 2 may be
> stored by the MCData server for disposition history interrogation from
> authorized MCData users.
>
> 11\. MCData data disposition notification is sent to the disposition
> requesting user at MCData client 1.
#### 7.4.2.3 One-to-one standalone short data service using media plane
##### 7.4.2.3.1 General
A MCData user initiates a standalone SDS data transfer with another MCData
user. For the SDS data transfer media plane is used. The target MCData user
may be addressed using the functional alias that can be shared with other
MCData users.
##### 7.4.2.3.2 Procedure
The procedure in figure 7.4.2.3.2-1 describes the case where an MCData user is
initiating one-to-one MCData data communication for sending standalone SDS
data to other MCData user, with or without disposition request. Standalone
refers to sending unidirectional data in one transaction. The SDS payload data
size is assumed to be above the configured maximum payload data size for SDS
over signalling control plane.
Pre-conditions:
1\. MCData users on MCData client 1 and MCData client 2 are already registered
for receiving MCData service.
2\. MCData client 1 and MCData client 2 belong to the same MCData system.
3\. Optionally, the MCData client may have an activated functional alias to be
used.
4\. The MCData server may have subscribed to the MCData functional alias
controlling server within the MC system for functional alias activation/de-
activation updates.
Figure 7.4.2.3.2-1: One-to-one standalone short data service using media plane
1\. User at MCData client 1 would like to initiate an SDS data transfer
request for the chosen MCData user.
2\. MCData client 1 sends a MCData standalone session data request towards the
MCData server. The MCData standalone session data request contains one MCData
user for one-to-one data communication as selected by the user at MCData
client 1. The MCData standalone session data request contains conversation
identifier for message thread indication. The MCData standalone session data
request may include additional implementation specific information in the
application metadata container. The MCData data request may contain
disposition request if indicated by the user at MCData client 1. MCData user
at MCData client 1 may include a functional alias within the SDS data transfer
and addresses the target MCData client 2 using a functional alias.
a) If the MCData user at the MCData client 1 initiates an MCData emergency
short data service communication or MCData emergency state is already set for
the MCData client 1 (due to previously triggered MCData emergency alert):
i) The MCData standalone session data request shall contain emergency
indicator; and
ii) If MCData emergency state is not set already, MCData client 1 sets its
MCData emergency state. The MCData emergency state of MCData client 1 is
retained until explicitly cancelled by the user of MCData client 1.
NOTE 1: While MCData client 1 is in the emergency state, all types of MCData
one-to-one and group communications initiated by MCData client 1 are initiated
as MCData emergency communications.
3\. MCData server checks whether the MCData user at MCData client 1 is
authorized to send MCData standalone session data request. MCData server
verifies whether the provided functional alias of MCData client 1, if present,
can be used and has been activated for the user. The MCData server also checks
whether any policy is to be asserted to limit certain types of message or
content to certain members due, for example, to location or user privilege.
MCData server determines the eligible MCData user(s) after policy assertion
for sending the MCData standalone session data request. If functional alias is
used to address that target MCData user, the MCData server resolves the
functional alias to the corresponding MCData ID(s) for which the functional
alias is active and proceed with step 4 otherwise proceed with step 6. The
resulting list contains all associated MCData IDs/MCData users that share this
functional alias. The MCData server allows only two participating MCData
clients for a standalone short data service.
NOTE 2: The MCData server prioritizes the MCData emergency communication over
the other MCData communication. How the MCData server prioritizes MCData
emergency communication is not in the scope of the present document.
4\. The MCData server responds back to MCData client 1 with a functional alias
resolution response message that contains the resolved MCData ID.
NOTE 3: If the MCData server detects that the functional alias used as the
target of the MCData standalone session data request is simultaneously active
for multiple MCData users, then the MCData server can proceed by selecting an
appropriate MCData ID based on some selection criteria. The selection of an
appropriate MCData ID is left to implementation. These selection criteria can
include rejection of the MCData standalone session data request, if no
suitable MCData ID is selected.
5\. If the MCData server replies with a MCData functional alias resolution
response message, the MCData client 1 abandons the MCData standalone session
data request in step 2 and sends a new MCData standalone session data request
towards the resolved MCData ID.
6\. MCData server initiates the MCData standalone session data request towards
the MCData users determined. The MCData standalone session data request
towards the MCData user contains an emergency indicator if it is present in
the received MCData standalone session data request from MCData client 1.
NOTE 4: MCData client 2 corresponds to the MCData user(s) after resolution of
the functional alias.
NOTE 5: MCData client 2 does not set its emergency state as a result of
receiving the MCData standalone session data request containing the emergency
indicator.
7\. The receiving MCData client 2 automatically accepts the MCData standalone
session data request and responds with MCData standalone session data response
towards MCData server.
8\. MCData server forwards the MCData client 2 accepted response to the MCData
Client 1 initiating the MCData standalone session data request.
9\. MCData client 1 and MCData client 2 have successfully established media
plane for data communication and the MCData client 1 transmits the SDS data.
> 10\. If the payload is for MCData user consumption (e.g. is not application
> data, is not command instructions, etc.) then the MCData user of MCData
> client 2 may be notified. Otherwise if the payload is not for MCData user
> consumption, then the MCData user of MCData client 2 shall not be notified.
> The action taken when the payload contains application data or command
> instructions are specific based on the contents of the payload. Payload
> content received by MCData client 2 which is addressed to a known local non-
> MCData application that is not yet running shall cause the MCData client 2
> to start the local non-MCData application (i.e., remote start application)
> and shall pass the payload content to the just started application.
>
> 11\. If the MCData data disposition for delivery was requested by the user
> at MCData client 1, then the receiving MCData client initiates a MCData data
> disposition notification for delivery report. The MCData data disposition
> notification from MCData client 2 may be stored by the MCData server for
> disposition history interrogation from authorized MCData users.
12\. MCData data disposition notification is sent to the disposition
requesting user at MCData client 1.
> 13\. If the MCData disposition for read was requested by the user at MCData
> client 1, then once the receiving user reads the data, the receiving MCData
> client 2 initiates a MCData disposition notification for read report. The
> MCData data disposition notification from MCData client 2 may be stored by
> the MCData server for disposition history interrogation from authorized
> MCData users.
>
> 14\. MCData data disposition notification is sent to the disposition
> requesting user at MCData client 1.
#### 7.4.2.4 One-to-one short data service session
##### 7.4.2.4.1 General
A MCData user triggers an establishment of a MCData session with another
MCData user for the exchange of SDS data. The target MCData user may be
addressed using the functional alias that can be shared with other MCData
users.
##### 7.4.2.4.2 Procedure
The procedure in figure 7.4.2.4.2-1 describes the case where an MCData user is
initiating data communication session with another MCData user for exchanging
at least one SDS data transaction between them, with or without disposition
request using MCData-SDS-1 and MCData-SDS-2 or MCData-SDS-3 reference points.
Pre-conditions:
1\. MCData users on MCData client 1 and MCData client 2 are already registered
for receiving MCData service.
2\. Optionally, the MCData client may have activated functional alias to be
used.
3\. The MCData server may have subscribed to the MCData functional alias
controlling server within the MC system for functional alias activation/de-
activation updates.
Figure 7.4.2.4.2-1: One-to-one short data service session
1\. User at MCData client 1 would like to initiate an SDS data communication
session request for the chosen MCData user.
2\. MCData client 1 sends a MCData session data request towards the MCData
server. The MCData session data request contains one MCData user for one-to-
one data communication as selected by the user at MCData client 1. The MCData
session data request contains conversation identifier for message thread
indication. The MCData session data request may include additional
implementation specific information in the application metadata container.
MCData user at MCData client 1 may include a functional alias within the SDS
data transfer and addresses the target MCData client 2 using a functional
alias.
a) If the MCData user at the MCData client 1 initiates an MCData emergency
short data service communication or MCData emergency state is already set for
the MCData client 1 (due to previously triggered MCData emergency alert):
i) The MCData session data request shall contain emergency indicator; and
ii) If MCData emergency state is not set already, MCData client 1 sets its
MCData emergency state. The MCData emergency state of MCData client is
retained until explicitly cancelled by the user of MCData client 1.
NOTE 1: While MCData client 1 is in the emergency state, all types of MCData
one-to-one and group communications initiated by MCData client 1 are initiated
as MCData emergency communications.
3\. MCData server checks whether the MCData user at MCData client 1 is
authorized to send MCData session data request. The MCData server also checks
whether any policy is to be asserted to limit certain types of message or
content to certain members due, for example, to location or user privilege.
MCData server determines the eligible MCData user(s) after policy assertion
for sending the MCData session data request. MCData server also verifies
whether the provided functional alias of MCData client 1, if present, can be
used and has been activated for the user. If functional alias is used to
address that target MCData user, the MCData server resolves the functional
alias to the corresponding MCData ID(s) for which the functional alias is
active and proceed with step 4 otherwise proceed with step 6. The MCData
server allows only two participating MCData clients for a standalone short
data service.
NOTE 2: The MCData server prioritizes the MCData emergency communication over
the other MCData communication. How the MCData server prioritizes MCData
emergency communication is not in the scope of the present document.
NOTE 3: If the MCData server detects that the functional alias used as the
target of the MCData session data request is simultaneously active for
multiple MCData users, then the MCData server can proceed by selecting an
appropriate MCData ID based on some selection criteria. The selection of an
appropriate MCData ID is left to implementation. These selection criteria can
include rejection of the SDS data transfer request, if no suitable MCData ID
is selected.
4\. The MCData server responds back to MCData client 1 with a functional alias
resolution response message that contains the resolved MCData ID.
5\. If the MCData server replies with a MCData functional alias resolution
response message, the MCData client 1 abandons the MCData session data request
in step 2 and sends a new MCData session data request towards the resolved
MCData ID.
6\. MCData server initiates the MCData session data request towards the MCData
users determined. The MCData session data request towards the MCData user
contains the emergency indicator if it is present in the received MCData
session data request from MCData client 1.
NOTE 4: MCData client 2 corresponds to the MCData user(s) after resolution of
the functional alias.
NOTE 5: MCData client 2 does not set its emergency state as a result of
receiving the MCData session data request containing the emergency indicator.
7\. If the emergency indicator is present, the receiving MCData client 2
notifies the user about the incoming MCData session data request.
8\. The receiving MCData client 2 accepts the MCData session data request and
responds with MCData session data response towards MCData server.
9\. MCData server forwards the MCData client 2 accepted response to the MCData
user initiating the MCData session data request.
10\. and 11. MCData client 1 and MCData client 2 have successfully established
media plane for data communication and either MCData client can transmit SDS
data. The MCData data request may contain disposition request if indicated by
the client sending data. If MCData data disposition was requested by the user,
then the receiving MCData client initiates a MCData data disposition
notification for delivery, read reports to the disposition requesting user.
The MCData data disposition notification from MCData user may be stored by the
MCData server for disposition history interrogation from authorized users.
12\. and 13. If the payload is for MCData user consumption (e.g. is not
application data, is not command instructions, etc.) then the MCData user of
MCData client 2 may be notified, otherwise the MCData user of MCData client 2
shall not be notified.
14\. After SDS data transaction is complete, the established media plane is
released.
#### 7.4.2.5 Group standalone short data service using signalling control
plane
##### 7.4.2.5.1 General
The initiation of a group standalone SDS to a selected group results in
affiliated group members receiving the SDS data. The SDS payload data size is
assumed to be below the configured maximum payload data size for SDS over
signalling control plane.
##### 7.4.2.5.2 Procedure
The procedure in figure 7.4.2.5.2-1 describes the case where an MCData user is
initiating group standalone MCData data communication with or without
disposition request, to a group.
Pre-conditions:
1\. MCData users on MCData clients 1 to n belong to the same group and are
already registered for receiving MCData service and affiliated.
2\. Optionally, the MCData client may have activated functional alias to be
used.
3\. The MCData server may have subscribed to the MCData functional alias
controlling server within the MC system for functional alias activation/de-
activation updates.
Figure 7.4.2.5.2-1: Group standalone SDS using signalling control plane
1\. The user at MCData client 1 initiates an SDS data transfer to multiple
MCData users selecting a pre-configured group (identified by MCData group ID)
and optionally particular members from that group.
2\. MCData client 1 sends a MCData group standalone data request towards the
MCData server. The MCData group data request contains MCData group ID as
selected by the user at MCData client 1. The MCData group standalone data
request contains conversation identifier for message thread indication. The
MCData session data request may include additional implementation specific
information in the application metadata container. The MCData group standalone
data request may contain disposition request if indicated by the user at
MCData client 1. MCData user at MCData client 1 may include a functional alias
within the SDS data transfer.
> If the MCData user at MCData client 1 initiates an MCData emergency short
> data service communication or the MCData emergency state is already set for
> the MCData client 1 (due to a previously triggered MCData emergency alert):
i) the MCData group standalone data request shall contain an emergency
indicator;
ii) the MCData group standalone data request shall set an alert indicator if
configured to send an MCData emergency alert while initiating an MCData
standalone data request for the emergency short data service communication;
iii) if the MCData emergency state is not set already, MCData client 1 sets
its MCData emergency state. The MCPTT emergency state is retained until
explicitly cancelled; and
iv) once an MCData emergency communication has been initiated, the MCData
group is considered to be in an in-progress emergency state until cancelled.
If the MCData user at MCData client 1 initiates an MCData imminent peril short
data service communication:
i) the MCData group standalone data request shall contain imminent peril
indicator; and
ii) once an MCData imminent peril communication has been initiated, the MCData
group is considered to be in an in-progress imminent peril state until
cancelled.
2a. If either emergency indicator or imminent peril indicator is present in
the received MCData group standalone data request, the MCData server
implicitly affiliates MCData client 1 to the MCData group if the client is not
already affiliated.
3\. MCData server checks whether the MCData user at MCData client 1 is
authorized to send MCData group standalone data request. The MCData server
resolves the MCData group ID to determine the members of that group and their
affiliation status, based on the information from the group management server.
The MCData server also checks whether any policy is to be asserted to limit
certain types of message or content to certain members due, for example, to
location or user privilege or affiliation. MCData server also verifies whether
the provided functional alias, if present, can be used and has been activated
for the user.
i) If an emergency indicator is present in the received MCData group
standalone data request and if the MCData group is not in the in-progress
emergency state, the MCData group is considered to be in the in-progress
emergency state until cancelled; and
ii) If an imminent peril indicator is present in the received MCData group
standalone data request and if the MCData group is not in the in-progress
imminent peril state, the MCData group is considered to be in the in-progress
imminent peril state until cancelled.
4\. MCData server initiates the MCData group standalone data request towards
each MCData client determined in Step 3. The MCData ID list shall not be
included in a unicast downlink delivery to an individual MCData client. The
Disposition Type IE shall not be included in a unicast downlink delivery to
MCData clients who are not in the MCData ID list in step 2. The MCData group
standalone data request towards each MCData client contains:
i) an emergency indicator, if it is present in the received MCData group
standalone data request from the MCData client 1;
ii) an imminent peril indicator, if it is present in the received MCData group
standalone data request from the MCData client 1; and
iii) an alert indicator, if requested to initiate an emergency alert in the
received MCData group standalone data request from the MCData client 1.
5\. If the payload is for MCData user consumption (e.g. is not application
data, is not command instructions, etc.) then the MCData user of MCData
clients 2 to n may be notified. Otherwise if the payload is not for MCData
user consumption, then the MCData user of MCData clients 2 to n shall not be
notified. The action taken when the payload contains application data or
command instructions are specific based on the contents of the payload.
Payload content received by MCData client 2 which is addressed to a known
local non-MCData application that is not yet running shall cause the MCData
client 2 to start the local non-MCData application (i.e., remote start
application) and shall pass the payload content to the just started
application.
6\. If the MCData data disposition for delivery was requested by the user at
MCData client 1, then the receiving MCData client(s) initiates a MCData data
disposition notification for delivery report.
7\. If the MCData data disposition for read was requested by the user at
MCData client 1, then once the receiving user reads the data, the receiving
MCData client 2 initiates a MCData data disposition notification for read
report.
NOTE 1: On receiving MCData group standalone data request over MBMS, the
receiving MCData client(s) shall check if the MCData ID list IE is included
the receiving MCData client shall check if its own MCData ID is in the list.
If not, step 6 and 7 are not required.
8\. The MCData data disposition notification(s) from MCData client may be
stored by the MCData server for disposition history interrogation from
authorized MCData users. The MCData data disposition notification(s) from each
MCData user may be aggregated.
9\. Aggregated or individual MCData data disposition notification(s) is sent
to the disposition requesting user at MCData client 1.
#### 7.4.2.6 Group standalone short data service using media plane
##### 7.4.2.6.1 General
The initiation of a group standalone SDS to a selected group results in
affiliated group members receiving the SDS data. The SDS payload data size is
assumed to be above the configured maximum payload data size for SDS over
signalling control plane.
##### 7.4.2.6.2 Procedure
The procedure in figure 7.4.2.6.2-1 describes the case where an MCData user is
initiating group standalone MCData data communication with or without
disposition request to a group.
Pre-conditions:
1\. MCData users on MCData client 1 to n belong to the same group and are
already registered for receiving MCData service and affiliated.
2\. Optionally, the MCData client may have activated functional alias to be
used.
3\. The MCData server may have subscribed to the MCData functional alias
controlling server within the MC system for functional alias activation/de-
activation updates.
Figure 7.4.2.6.2-1: Group standalone SDS using media plane
1\. User at MCData client 1 would like to initiate a SDS data transfer request
to multiple MCData users selecting a pre-configured group (identified by
MCData group ID) and optionally particular members from that group.
2\. MCData client 1 sends a MCData group session standalone data request
towards the MCData server. The MCData group session standalone data request
contains target recipient(s) as selected by the user at MCData client 1. The
MCData session group standalone data request contains conversation identifier
for message thread indication. The MCData session group standalone data
request may include additional implementation specific information in the
application metadata container. The MCData session group standalone data
request may contain disposition request if indicated by the user at MCData
client 1. MCData user at MCData client 1 may include a functional alias within
the SDS data transfer.
If the MCData user at MCData client 1 initiates an MCData emergency short data
service communication or the MCData emergency state is already set for MCData
client 1 (due to a previously triggered MCData emergency alert):
i) the MCData group session standalone data request shall contain an emergency
indicator;
ii) the MCData group session standalone data request shall set the alert
indicator if configured to send an MCData emergency alert while initiating an
MCData standalone data request for the emergency short data service
communication;
iii) if the MCData emergency state is not set already, MCData client 1 sets
its MCData emergency state. The MCPTT emergency state is retained until
explicitly cancelled; and
iv) once an MCData emergency communication has been initiated, the MCData
group is considered to be in an in-progress emergency state until cancelled.
If the MCData user at MCData client 1 initiates an MCData imminent peril short
data service communication:
i) the MCData group session standalone data request shall contain an imminent
peril indicator; and
ii) once an MCData imminent peril communication has been initiated, the MCData
group is considered to be in an in-progress imminent peril state until
cancelled.
2a. If either an emergency indicator or an imminent peril indicator is present
in received MCData group session standalone data request, the MCData server
implicitly affiliates MCData client 1 to the MCData group if the client is not
already affiliated.
3\. MCData server checks whether the MCData user at MCData client 1 is
authorized to send MCData session group standalone data request. The MCData
server resolves the MCData group ID to determine the members of that group and
their affiliation status, based on the information from the group management
server. The MCData server also checks whether any policy is to be asserted to
limit certain types of message or content to certain members due, for example,
to location or user privilege. MCData server also verifies whether the
provided functional alias, if present, can be used and has been activated for
the user.
i) if an emergency indicator is present in the received MCData group session
standalone data request and if the MCData group is not in the in-progress
emergency state, the MCData group is considered to be in the in-progress
emergency state until cancelled; and
ii) if an imminent peril indicator is present in the received MCData group
session standalone data request and if the MCData group is not in the in-
progress imminent peril state, the MCData group is considered to be in the in-
progress imminent peril state until cancelled.
3a. The MCData server configures the priority of the underlying bearers for
all participants in the MCData group.
4\. MCData server initiates the MCData group session standalone data request
towards each MCData user determined in Step 3. The MCData ID list shall not be
included in a unicast downlink delivery to an individual MCData client. The
Disposition Type IE shall not be included in a unicast downlink delivery to
MCData clients who are not in the MCData ID list in step 2. The MCData group
session standalone data request towards each MCData client contains:
i) an emergency indicator, if it is present in the received MCData group
session standalone data request from the MCData client 1;
ii) an imminent peril indicator, if it is present in the received MCData group
session standalone data request from the MCData client 1; and
iii) an alert indicator, if requested to initiate an emergency alert in the
received MCData group session standalone data request from MCData client 1.
5\. The receiving MCData clients 2 to n automatically accepts the MCData group
session standalone data request and responds with MCData group standalone data
response towards MCData server.
6\. MCData server forwards the MCData clients 2 to n accepted response to the
MCData user initiating the MCData group session standalone data request.
NOTE 1: Step 6 can occur at any time following step 4, and prior to step 7
depending on the conditions to proceed with the data transmission.
7\. MCData client 1 and MCData server have successfully established media
plane for data communication and the MCData client 1 transmits the SDS data.
8\. MCData server distributes the data received from MCData client 1 to MCData
clients 2 to n over the established media plane. After completion of the
MCData transfer from MCData client 1, media plane resources associated to the
data communication are released.
NOTE 2: MCData server is not required to wait for the complete reception of
SDS data from MCData client 1 prior to initiating transmission to MCData
client 2 to n.
9\. If the payload is for MCData user consumption (e.g. is not application
data, is not command instructions, etc.) then the MCData user of MCData client
2 to n may be notified. Otherwise if the payload is not for MCData user
consumption, then the MCData user of MCData client 2 to n shall not be
notified. The action taken when the payload contains application data or
command instructions are specific based on the contents of the payload.
Payload content received by MCData client 2 which is addressed to a known
local non-MCData application that is not yet running shall cause the MCData
client 2 to start the local non-MCData application (i.e., remote start
application) and shall pass the payload content to the just started
application.
10\. If the MCData data disposition for delivery was requested by the user at
MCData client 1, then the receiving MCData client(s) initiates a MCData data
disposition notification for delivery report.
11\. If the MCData data disposition for read was requested by the user at
MCData client 1, then once the receiving user reads the data, the receiving
MCData client 2 initiates a MCData data disposition notification for read
report.
NOTE 3: On receiving MCData group standalone data request over MBMS, the
receiving MCData client(s) shall check if the MCData ID list IE is included
the receiving MCData client shall check if its own MCData ID is in the list.
If not, step 6 and 7 are not required.
12\. The MCData data disposition notification(s) from MCData client may be
stored by the MCData server for disposition history interrogation from
authorized MCData users. The MCData data disposition notification(s) from each
MCData user may be aggregated.
13\. Aggregated or individual MCData data disposition notification(s) is sent
to the disposition requesting user at MCData client 1.
#### 7.4.2.7 Group short data service session
##### 7.4.2.7.1 General
The initiation of a group SDS to a selected group results in affiliated group
members exchanging SDS data.
##### 7.4.2.7.2 Procedure
The procedure in figure 7.4.2.7.2-1 describes the case where an MCData user is
initiating SDS data communication session with an MCData group for exchanging
SDS data transactions between the group participants, with or without
disposition request, using MCData-SDS-1 and MCData-SDS-2 reference points.
Pre-conditions:
1\. MCData users on MCData client 1 to n belong to the same group and are
already registered for receiving MCData service and affiliated.
2\. Optionally, the MCData client may have activated functional alias to be
used.
3\. The MCData server may have subscribed to the MCData functional alias
controlling server within the MC system for functional alias activation/de-
activation updates.
Figure 7.4.2.7.2-1: Group SDS session
1\. User at MCData client 1 would like to initiate a SDS group data transfer
request to multiple MCData users selecting a pre-configured group (identified
by MCData group ID) and optionally particular members from that group.
2\. MCData client 1 sends a MCData group data request towards the MCData
server. The MCData group data request contains MCData group ID as selected by
the user at MCData client 1. The MCData session data request contains
conversation identifier for message thread indication. The MCData group data
request may include additional implementation specific information in the
application metadata container. MCData user at MCData client 1 may include a
functional alias within the SDS data transfer.
If the MCData user at MCData client 1 initiates an MCData emergency short data
service communication or the MCData emergency state is already set for the
MCData client 1 (due to a previously triggered MCData emergency alert):
i) the MCData group data request shall contain an emergency indicator;
ii) the MCData group data request shall set an alert indicator if configured
to send an MCData emergency alert while initiating an MCData standalone data
request for the emergency short data service communication; and
iii) if MCData emergency state is not set already, MCData client 1 sets its
MCData emergency state. The MCPTT emergency state of MCData client 1 is
retained until explicitly cancelled by the user of MCData client 1.
NOTE 1: While MCData client 1 is in the emergency state, all types of MCData
one-to-one and group communications initiated by MCData client 1 are initiated
as MCData emergency communications.
If the MCData user at MCData client 1 initiates an MCData imminent peril short
data service communication:
i) the MCData group data request shall contain an imminent peril indicator.
2a. If either emergency indicator or imminent peril indicator is present in
received MCData group data request, the MCData server implicitly affiliates
MCData client 1 to the MCData group if the client is not already affiliated.
3\. MCData server checks whether the MCData user at MCData client 1 is
authorized to send MCData group data request. The MCData server resolves the
MCData group ID to determine the members of that group and their affiliation
status, based on the information from the group management server. The MCData
server also checks whether any policy is to be asserted to limit certain types
of message or content to certain members due, for example, to location or user
privilege. MCData server also verifies whether the provided functional alias,
if present, can be used and has been activated for the user.
i) if an emergency indicator is present in the received MCData group data
request and if MCData group is not in in-progress emergency state, the MCData
group is considered to be in the in-progress emergency state until cancelled;
NOTE 2: While the MCData group is in the in-progress emergency state, all
types of MCData communications within the group are processed as emergency
group communications by the MCData server. MCData group members that are not
in the emergency state do not indicate emergency in group communication
requests.
ii) if an imminent peril indicator is present in the received MCData group
data request and if the MCData group is not in the in-progress imminent peril,
the MCData group is considered to be in the in-progress imminent peril state
until cancelled;
3a. The MCData server configures the priority of the underlying bearers for
all participants in the MCData group.
4\. MCData server initiates the MCData group data request towards each MCData
user determined in Step 3. The MCData group data request towards each MCData
client contains:
i) an emergency indicator if it is present in the received MCData group data
request from the MCData client 1;
ii) an imminent peril indicator if it is present in the received MCData group
data request from the MCData client 1; and
iii) an alert indicator if requested to initiate an emergency alert in the
received MCData group data request from MCData client 1;
5\. The receiving MCData clients 2 to n optionally notify the user about the
incoming MCData session data request.
6\. The receiving MCData client 2 to n accept or reject the MCData group data
request and the corresponding result is in the MCData group data response
towards MCData server.
7\. MCData server forwards the MCData group data response received from MCData
client 2 to n to the MCData user initiating the MCData session data request.
NOTE 3: Step 7 can occur at any time following step 4, and prior to step 8
depending on the conditions to proceed with the data transmission.
8\. MCData client 1 and the MCData group data request accepted clients have
successfully established media plane for data communication and either MCData
client can transmit SDS data. The MCData data request may contain disposition
request if indicated by the client sending data. If the payload is for MCData
user consumption (e.g. is not application data, is not command instructions,
etc.) then the SDS data receiving MCData users may be notified, otherwise
those MCData users shall not be notified.
9\. If MCData data disposition was requested by the user, then the SDS data
receiving MCData client initiates a MCData data disposition notification for
delivery, read reports to the disposition requesting user. The MCData data
disposition notification from the receiving MCData clients may be stored by
the MCData server for disposition history interrogation from authorized users.
10\. Based on the MCData user action or conditions to release, the established
media plane for SDS data exchange is released.
#### 7.4.2.8 One-to-one SDS communication upgrade to an emergency one-to-one
SDS communication
##### 7.4.2.8.1 General
This clause is for adding procedures related to upgrading an existing MCData
one-to-one SDS communication to an MCData emergency one-to-one SDS
communication.
##### 7.4.2.8.2 Procedure
The procedure in figure 7.4.2.8.2-1 describes the case where an authorized
MCData user is upgrading an ongoing MCData one-to-one SDS communication to an
MCData emergency one-to-one SDS communication. This procedure is applicable
only when MCData one-to-one SDS communication is established as described in
subclause 7.4.2.3 \"One-to-one standalone short data service using media
plane\" or as described in subclause 7.4.2.4 \"One-to-one short data service
session\".
Pre-conditions:
1\. Both members of the MCData one-to-one SDS communication belong to the same
MCData system.
2\. MCdata one-to-one SDS communication is already in progress.
Figure 7.4.2.8.2-1 MCData one-to-one SDS communication upgraded to MCData
emergency one-to-one SDS communication
1\. The MCData user at MCData client 1 initiates an emergency. MCData client 1
sets its MCData emergency state. The MCData emergency state of MCData client 1
is retained until explicitly cancelled by the user of MCData client 1.
NOTE 1: While MCData client 1 is in the emergency state, all types of MCData
one-to-one and group communications initiated by MCData client 1 are initiated
as MCData emergency communications.
2\. MCData client 1 requests the MCData server to upgrade the one-to-one
MCData SDS communication to in-progress emergency by sending a MCData one-to-
one SDS communication upgrade request.
3\. The MCData server sends the MCData one-to-one SDS communication upgrade
request towards MCData client 2, the MCData client of the other participant.
NOTE 2: MCData client 2 does not set its emergency state as a result of
receiving the MCData one-to-one SDS communication upgrade request containing
the emergency indicator.
4\. The MCData user is notified of the in-progress emergency of the MCData
emergency one-to-one SDS communication.
5\. The receiving MCData client acknowledges the MCData one-to-one SDS
communication upgrade request and sends MCData one-to-one SDS communication
upgrade response to the MCData server.
6\. The MCData server adjusts the priority of the underlying bearer for both
participants of the MCData one-to-one SDS communication. The priority is
retained until the communication session ends.
7\. The MCData server sends MCData one-to-one SDS communication upgrade
response to MCData client 1.
8\. MCData client 1 and MCData client 2 continue with the MCData one-to-one
SDS communication, which has been transformed into an MCData emergency one-to-
one SDS communication.
#### 7.4.2.9 Group SDS communication upgrade to a group emergency SDS
communication
##### 7.4.2.9.1 General
This clause is for adding procedures related to upgrading an existing MCData
group SDS communication to an MCData emergency group SDS communication.
##### 7.4.2.9.2 Procedure
The procedure in figure 7.4.2.9.2-1 describes the case where an authorized
MCData user is upgrading an ongoing MCData group SDS communication to an
MCData emergency group SDS communication. This procedure is applicable only
when group MCData communication is established as described in subclause
7.4.2.6 \"Group standalone short data service using media plane\" or as
described in subclause 7.4.2.7 \"Group short data service session\".
NOTE 1: For simplicity, a single MCData server is shown in place of a user
home MCData server and a group hosting MCData server.
Pre-conditions:
1\. The MCData group is previously defined on the group management server with
MCData client 1, MCData client 2 and MCData client 3 affiliated to that MCData
group.
2\. All members of the MCData group belong to the same MCData system.
3\. MCData group SDS communication is already in progress.
4\. The initiating MCData client 1 has been configured to send an MCData
emergency alert when upgrading an MCData emergency group communication.
Figure 7.4.2.9.2-1: MCData group SDS communication upgraded to MCData
emergency group SDS communication
1\. The MCData user at MCData client 1 initiates a group emergency. MCData
client 1 sets its MCData emergency state. The MCData emergency state of MCData
client 1 is retained until explicitly cancelled by the user of MCData client
1.
NOTE 2: While MCData client 1 is in the emergency state, all types of MCData
one-to-one and group communications initiated by MCData client 1 are initiated
as MCData emergency communications.
2\. MCData client 1 requests the MCData server to upgrade the MCData group to
an in-progress emergency state by sending a MCData group SDS communication
upgrade request. The MCData client 1 sets the emergency indicator in the
request. If configured to send an MCData alert when initiating an MCData
emergency group SDS upgrade, the request also contains an indication that an
MCData alert is to be initiated.
3\. The MCData server sets the emergency state of the MCData group and adjusts
the priority of the underlying bearer for all or selected participants in the
MCData group SDS communication that receive the communication over unicast.
NOTE 3: The determination of the selected participants whose bearers have to
be upgraded is left to implementation.
NOTE 4: While the MCData group is in the in-progress emergency state, all
types of MCData communications within the group are processed as emergency
group communications by the MCData server. MCData group members that are not
in the emergency state do not indicate emergency in group communication
requests.
4\. MCData server sends the MCData group SDS communication upgrade request
towards the MCData clients of each of those affiliated MCData group members.
The request contains an indication of an MCData emergency alert if the request
from the originator indicated MCData emergency alert.
5\. MCData users are notified of the in-progress emergency state of the MCData
group.
6\. The receiving MCData clients send the MCData group SDS communication
upgrade response to the MCData server to acknowledge the MCData group
emergency request. For a multicast call, these acknowledgements are not sent.
7\. The MCData server sends the MCData group SDS communication upgrade
response to the MCData user 1 to confirm the upgrade request.
NOTE 5: Step 7 can occur at any time following step 3, depending on the
conditions to proceed with the call.
MCData client 1, MCData client 2 and MCData client 3 continue with the MCData
group SDS communication, which has been transformed into an MCData emergency
group SDS communication.
#### 7.4.2.10 Group SDS communication in-progress emergency group state cancel
##### 7.4.2.10.1 General
This clause describes procedures related to MCData in-progress emergency group
state cancel. The emergency state of the group can also be cancelled by the
group FD in-progress emergency state cancellation procedure in subclause
7.5.2.13.2, or by the emergency alert cancellation procedure specified in 3GPP
TS 23.280 [16], subclause 10.10.1.2.2.2.
##### 7.4.2.10.2 Procedure
The procedure in figure 7.4.2.10.2-1 describes the case where an authorized
MCData user cancels MCData group\'s in-progress emergency.
Pre-conditions:
1\. The MCData group is previously defined on the group management server with
MCData client 1, MCData client 2 and MCData client 3 affiliated to that MCData
group.
2\. All members of the MCData group belong to the same MCData system.
3\. MCData group members have been notified about the in-progress emergency.
4\. The MCData group is in the in-progress emergency state and has prioritized
bearer support.
5\. MCData client 1 previously initiated the in-progress emergency for the
group.
Figure 7.4.2.10.2-1: MCData group SDS in-progress emergency group state cancel
1\. The user at the MCData client 1 initiates an MCData group SDS in-progress
emergency group state cancel.
NOTE 1: An MCData user authorized to cancel in-progress emergencies on the
MCData group can also be authorised to cancel the MCData emergency alert in
addition to the initiator. However, only the initiator can cancel the
initiator\'s local MCData emergency state.
2\. The MCData client 1 sends an MCData group SDS communication in-progress
priority state cancel request to the MCData server. The MCData client 1 also
resets the emergency indicator in the request to inform MCData server about
cancellation of in-progress emergency group state.
NOTE 2: If an MCData emergency alert relating to MCData client 1 is in effect
together with an MCData in-progress emergency group state on the MCData group,
the MCData emergency alert of MCData client 1 can be cancelled at the same
time. In that case, the MCData group SDS in-progress priority group state
cancel request carries an indication that the emergency alert of MCData client
1 is also being cancelled.
NOTE 3: If an MCData group SDS communication in-progress priority state cancel
request is received by the MCData server while a group member that is in the
emergency state is transmitting, the MCData group SDS communication in-
progress priority state cancel request is rejected by the MCData server.
3\. The MCData server adjusts the priority of the underlying bearer; priority
treatment is no longer required. The MCData server cancels/resets the
emergency in-progress state of the MCData group.
4\. The MCData server sends an MCData group SDS in-progress priority state
cancel request to the MCData group members.
5\. MCData group members are notified of the MCData group SDS in-progress
emergency state cancel.
6\. The receiving MCData clients send the MCData group SDS in-progress
priority state cancel response to the MCData server to acknowledge the MCData
in-progress emergency group state cancel. For a multicast call scenario, these
acknowledgements are not sent.
7\. The MCData server sends the MCData group SDS in-progress priority state
cancel response to the MCData user 1 to confirm the MCData in-progress
emergency group state cancel. If the MCData in-progress emergency group state
cancel request (in step 2) contained the \"Alert indicator\" IE, the MCData
client 1 resets its local emergency status.
NOTE 4: Step 7 can occur at any time following step 3, depending on the
conditions to proceed with the call.
#### 7.4.2.11 Group SDS communication upgrade to an imminent peril group SDS
communication
##### 7.4.2.11.1 General
This clause is for adding procedures related to upgrade to an imminent peril
group SDS communication.
##### 7.4.2.11.2 Procedure
This procedure is applicable only when group MCData SDS communication is
established as described in subclause 7.4.2.6 \"Group standalone short data
service using media plane\" or as described in subclause 7.4.2.7 \"Group short
data service session\". The MCData service shall support the procedures and
related information flows as specified in subclause 7.4.2.9 \"Group SDS
communication upgrade to a group SDS emergency communication\" with the
following clarifications:
\- In step 2), the MCData client 1 sets the imminent peril indicator;
\- In step 3), the bearers\' priority is adjusted as necessary, to correspond
to an imminent peril priority which could be different than the setting used
in the procedure in subclause 7.4.2.9; and
\- In step 5), MCData users are notified of the in-progress imminent peril
state of the MCData group.
#### 7.4.2.12 Group SDS communication in-progress imminent peril group state
cancel
##### 7.4.2.12.1 General
This clause is for adding procedures related to group SDS communication in-
progress imminent peril group state cancel.
##### 7.4.2.12.2 Procedure
The MCData service shall support the procedures and related information flows
as specified in subclause 7.4.2.10 \"Group SDS communication in-progress
emergency group state cancel\" with the following clarifications:
\- In step 2), the MCData client 1 sets imminent peril indicator; and
\- In step 5), MCData users are notified of the group SDS communication in-
progress imminent peril state cancel.
#### 7.4.2.13 Providing data for a user entering an ongoing MCData group
conversation
##### 7.4.2.13.1 General
The MCData service shall support mechanisms that allow a MCData user be
presented with the whole content of a group conversation in a group that he is
a member of. This includes the content (messages) exchanged before the MCData
user joins the group conversation.
##### 7.4.2.13.2 Procedure
Figure 7.4.2.13.2-1 describes procedures for a MCData user joining late a
group conversation.
Pre-conditions:
1\. The MCData group is provisioned for lossless communication.
2\. All members of the MCData group have an account created in the MCData
message store.
3\. MCData client 1, MCData client 2 and MCData client 3 are members of the
same MCData group,
4\. MCData client 1 and 2 are served by MCData server 1 and have registered
and affiliated to the MCData group.
5\. MCData client 3 is served by MCData server 2 and has not affiliated to the
MCData group yet.
> NOTE 1: The interactions of MCData client 1 and MCData client 2 to MCData
> message store are not shown in the figure.
Figure 7.4.2.13.2-1: Providing data for a user entering an ongoing MCData
group conversation
1\. A group conversation is initiated according to procedures in subclause
7.4.2.6, and all members of the group are invited into the communication
whether affiliated or not. As MCData user 3 is not affiliated at this time,
MCData server 2 accepts the invitation to the group conversation on behalf of
MCData user 3.
2\. The media plane is established for the group conversation. MCData server 2
is in the media plane to receive the conversation on behalf of MCData user 3.
3\. MCData server 2 stores the received conversation to MCData user 3 account
in the MCData message store.
NOTE 2: If the received conversation requests delivery notification the MCData
server 2 will send message delivered to the message sender. If the received
conversation requests read notification the MCData client 3 will send message
read to the message sender once it has presented the message to the user.
4\. MCData user 3 is online and using MCData client 3 to affiliate to the
MCData group.
5\. MCData client 3, through the message store client, synchronizes with the
MCData user 3 account in the MCData message store.
6\. MCData server 2 invites MCData client 3 to the MCData group conversation.
7\. MCData user 3 joins the MCData group conversation.
### 7.4.3 Short data service for off-network
#### 7.4.3.1 General
Off-network SDS communications are based on ProSe capabilities as described in
clause 7.16.
#### 7.4.3.2 Information flows for short data service
##### 7.4.3.2.1 MCData standalone data request
Table 7.4.3.2.1-1 describes the information flow for the MCData standalone
data request sent from the MCData client to another MCData client.
Table 7.4.3.2.1-1: MCData standalone data request
+-----------------------------+--------+-----------------------------+ | Information element | Status | Description | +-----------------------------+--------+-----------------------------+ | MCData ID | M | The identity of the MCData | | | | user sending data | +-----------------------------+--------+-----------------------------+ | MCData ID | M | The identity of the MCData | | | | user towards which the data | | | | is sent | +-----------------------------+--------+-----------------------------+ | Date and Time | M | Date and time of | | | | transmission | +-----------------------------+--------+-----------------------------+ | Conversation Identifier | M | Identifies the conversation | +-----------------------------+--------+-----------------------------+ | Transaction Identifier | M | Identifies the MCData | | | | transaction | +-----------------------------+--------+-----------------------------+ | Reply Identifier | O | Identifies the original | | | | MCData transaction to which | | | | the current transaction is | | | | a reply to | +-----------------------------+--------+-----------------------------+ | Disposition Type | O | Indicates the disposition | | | | type expected from the | | | | receiver (i.e., delivered | | | | or read or both) | +-----------------------------+--------+-----------------------------+ | Emergency indicator | O | Indicates that the MCData | | (see NOTE 1) | | communication is an MCData | | | | emergency communication | +-----------------------------+--------+-----------------------------+ | Payload Destination Type | M | Indicates whether the | | | | payload is for application | | | | consumption or MCData | | | | client consumption | +-----------------------------+--------+-----------------------------+ | Application identifier (see | O | Identifies the application | | NOTE 2) | | for which the payload is | | | | intended (e.g. text string, | | | | port address, URI) | +-----------------------------+--------+-----------------------------+ | Application metadata | O | Implementation specific | | container | | information that is | | | | communicated to the | | | | recipient | +-----------------------------+--------+-----------------------------+ | Payload | M | SDS content | +-----------------------------+--------+-----------------------------+ | NOTE 1: This information | | | | element shall be included | | | | for the MCData emergency | | | | communication. | | | | | | | | NOTE 2: The application | | | | identifier shall be | | | | included only if the | | | | payload destination type | | | | indicates that the payload | | | | is for application | | | | consumption. | | | +-----------------------------+--------+-----------------------------+
##### 7.4.3.2.2 MCData data disposition notification
Table 7.4.3.2.2-1 describes the information flow for the MCData data
disposition notification sent from the MCData client to another MCData client.
Table 7.4.3.2.2-1: MCData data disposition notification
* * *
Information element Status Description MCData ID M The identity of the MCData
user towards which the notification is sent MCData ID M The identity of the
MCData user sending notification Conversation Identifier M Identifies the
conversation Reply Identifier M Identifies the original MCData transaction to
which the current transaction is a reply to Disposition M Disposition which is
delivered or read or both Payload Destination Type M Indicates whether the SDS
payload is for application consumption or MCData user consumption
* * *
##### 7.4.3.2.3 MCData group standalone data request
Table 7.4.3.2.3-1 describes the information flow for the MCData group
standalone data request sent from the MCData client to another MCData client.
Table 7.4.3.2.3-1: MCData group standalone data request
+-----------------------------+--------+-----------------------------+ | Information element | Status | Description | +-----------------------------+--------+-----------------------------+ | MCData ID | M | The identity of the MCData | | | | user sending data | +-----------------------------+--------+-----------------------------+ | MCData group ID | M | The MCData group ID to | | | | which the data is to be | | | | sent | +-----------------------------+--------+-----------------------------+ | Date and Time | M | Date and time of | | | | transmission | +-----------------------------+--------+-----------------------------+ | Conversation Identifier | M | Identifies the conversation | +-----------------------------+--------+-----------------------------+ | Transaction Identifier | M | Identifies the MCData | | | | transaction | +-----------------------------+--------+-----------------------------+ | Reply Identifier | O | Identifies the original | | | | MCData transaction to which | | | | the current transaction is | | | | a reply to | +-----------------------------+--------+-----------------------------+ | Disposition Type | O | Indicates the disposition | | | | type expected from the | | | | receiver (i.e., delivered | | | | or read or both) | +-----------------------------+--------+-----------------------------+ | Emergency indicator | O | Indicates that the MCData | | (see NOTE 1) | | communication is an MCData | | | | emergency communication | +-----------------------------+--------+-----------------------------+ | Imminent peril indicator | O | Indicates that the MCData | | (see NOTE 1) | | communication is an MCData | | | | imminent peril | | | | communication | +-----------------------------+--------+-----------------------------+ | Payload Destination Type | M | Indicates whether the | | | | payload is for application | | | | consumption or MCData | | | | client consumption | +-----------------------------+--------+-----------------------------+ | Application identifier (see | O | Identifies the application | | NOTE 2) | | for which the payload is | | | | intended (e.g. text string, | | | | port address, URI) | +-----------------------------+--------+-----------------------------+ | Application metadata | O | Implementation specific | | container | | information that is | | | | communicated to the | | | | recipient | +-----------------------------+--------+-----------------------------+ | Payload | M | SDS content | +-----------------------------+--------+-----------------------------+ | NOTE 1: If used, only one | | | | of these information | | | | elements shall be present. | | | | | | | | NOTE 2: The application | | | | identifier shall be | | | | included only if the | | | | payload destination type | | | | indicates that the payload | | | | is for application | | | | consumption. | | | +-----------------------------+--------+-----------------------------+
#### 7.4.3.3 One-to-one standalone short data service using signalling control
plane
##### 7.4.3.3.1 General
This subclause describes the detailed procedures for the scenario where SDS
data is to be sent to MCData user in off-network.
##### 7.4.3.3.2 Procedure
Figure 7.4.3.3.2-1 describes procedures for an off-network MCData client 1
initiating one-to-one MCData data communication for sending standalone SDS
data to other MCData client, with or without disposition request. Standalone
refers to sending unidirectional data in one transaction. The SDS data size is
assumed to be pre-configured.
Pre-conditions:
1\. MCData user 1 has initiated communication for sending standalone SDS data
to other MCData user 2.
2\. MCData client 1 and MCData client 2 are members of the same ProSe
Discovery group and are ProSe 1:1 direct communication capable.
3\. MCData client 1 has discovered MCData client 2 in proximity, associated
with MCData user B, using ProSe Discovery procedures.
Figure 7.4.3.3.2-1: One-to-one standalone short data service using signalling
control plane
1\. MCData client 1 checks whether the MCData user 1 is authorized to send
MCData standalone data request.
2\. If MCData user 1 is authorised MCData client 1 sends a MCData standalone
data request towards the MCData client 2. The MCData standalone data request
contains conversation identifier for message thread indication. The MCData
standalone data request may include additional implementation specific
information in the application metadata container. The MCData standalone data
request may contain disposition request if indicated by the user at MCData
client 1. If MCData user at the MCData client 1 initiates an MCData emergency
communication, then emergency indicator is included in the MCData standalone
data request. If an MCData emergency state is not set already when MCData
emergency communication is initiated, the MCData client 1 sets its MCData
emergency state and is retained until explicitly cancelled. The value of ProSe
Per Packet Priority is upgraded according to the state of the MCData
communication.
3\. On receiving a MCData standalone data request, the MCData client 2 checks
whether any policy is to be asserted to limit certain types of message or
content to certain members due, for example, to location or user privilege.
4\. If the policy assertion is positive and the payload is for MCData user
consumption (e.g. is not application data, is not command instructions, etc.)
then the MCData user of MCData client 2 may be notified. Otherwise if the
payload is not for MCData user consumption, then the MCData user of MCData
client 2 shall not be notified. The action taken when the payload contains
application data or command instructions are specific based on the contents of
the payload. Payload content received by MCData client 2 which is addressed to
a known local non-MCData application that is not yet running shall cause the
MCData client 2 to start the local non-MCData application (i.e., remote start
application) and shall pass the payload content to the just started
application.
NOTE: If the policy assertion was negative, the MCData client 2 sends an
appropriate notification to MCData client 1.
5\. If the MCData data disposition for delivery was requested by the user at
MCData client 1, then the receiving MCData client 2 initiates a MCData data
disposition notification for delivery report.
6\. If the MCData data disposition for read was requested by the user at
MCData client 1, then once the receiving user reads the data, the receiving
MCData client 2 initiates a MCData data disposition notification for read
report.
#### 7.4.3.4 Group standalone short data service using signalling control
plane
##### 7.4.3.4.1 General
The initiation of a group standalone SDS to a selected group results in off-
network MCData group members receiving the SDS data.
##### 7.4.3.4.2 Procedure
Figure 7.4.3.4.2-1 describes procedures for an off-network MCData client 1
initiating group MCData data communication for sending SDS data to a MCData
group, with or without disposition request. The SDS data size limit is pre-
configured.
Pre-conditions:
1\. MCData user 1 has initiated group communication for sending SDS data to
the MCData group.
2\. Information for ProSe direct communications corresponding to the MCData
group and its mapping to ProSe Layer-2 Group ID are pre-configured in MCData
client 1.
3\. MCData client 1 to MCData client N are members of the same MCData group.
Figure 7.4.3.4.2-1: Group standalone short data service using signalling
control plane
1\. MCData client 1 checks whether the MCData user 1 is authorized to send
MCData group standalone data request.
2\. If MCData user 1 is authorised MCData client 1 sends a MCData group
standalone data request towards the MCData group. The MCData group standalone
data request contains conversation identifier for message thread indication.
The MCData group standalone data request may include additional implementation
specific information in the application metadata container. The MCData group
standalone data request may contain disposition request if indicated by the
user at MCData client 1. If MCData group standalone data request contains
disposition request, MCData group standalone data request shall also contain
the IP address of the MCData client 1. If MCData user at the MCData client 1
initiates an MCData emergency communication, then the emergency indicator or
the imminent peril indicator is included in the MCData standalone data
request. If an MCData emergency state is not set already when MCData emergency
communication is initiated, the MCData client 1 sets its MCData emergency
state and is retained until explicitly cancelled. The value of ProSe Per
Packet Priority is upgraded according to the state of the MCData
communication.
3\. On receiving a MCData group standalone data request, the MCData clients
check whether any policy is to be asserted to limit certain types of message
or content to certain members due, for example, to location or user privilege.
4\. If the policy assertion is positive and the payload is for MCData user
consumption (e.g. is not application data, is not command instructions, etc.)
then the MCData user may be notified. Otherwise if the payload is not for
MCData user consumption, then the MCData user shall not be notified. The
action taken when the payload contains application data or command
instructions are specific based on the contents of the payload. Payload
content received by MCData clients 2 to N which is addressed to a known local
non-MCData application that is not yet running shall cause the MCData clients
2 to N to start the local non-MCData application (i.e., remote start
application) and shall pass the payload content to the just started
application.
NOTE: If the policy assertion was negative, the MCData clients sends an
appropriate notification to MCData client 1.
5\. If the MCData data disposition for delivery was requested by the user at
MCData client 1, then the receiving MCData clients initiate a MCData data
disposition notification for delivery report.
6\. If the MCData data disposition for read was requested by the user at
MCData client 1, then once the receiving user reads the data, the receiving
MCData clients 2 to N initiate a MCData data disposition notification for read
report.
#### 7.4.3.5 Void
#### 7.4.3.6 Group standalone short data service with MCData message store
##### 7.4.3.6.1 General
A MCData user\'s off-network communication needs to be part of his
communication history when the MCData user has an account in the MCData
message store.
##### 7.4.3.6.2 Procedure
Figure 7.4.3.6.2-1 describes procedures of a MCData user, MCData user 2, that
has an account in MCData message store and how his off-network SDS group
communication is stored in his account in the MCData message store. All other
MCData clients in the figure follow the procedures described in subclause
7.4.3.4.
Pre-conditions:
1\. MCData user 1 to N are in an off-network group communication.
2\. Information for ProSe direct communications corresponding to the MCData
group and its mapping to ProSe Layer-2 Group ID are pre-configured to MCData
client 1 to N.
3\. MCData client 1 to N are members of the same MCData group.
4\. MCData user 2 has an account in the MCData message store.
Figure 7.4.3.6.2-1: Group standalone short data service with MCData message
store
1\. MCData client 1 to MCData client N are in an off-network group
communication according to the procedures in subclause 7.4.3.4, SDS are
exchanged among all MCData clients.
2\. If the SDS is for MCData user consumption, the SDS is stored in the local
message store on the MCData UE of MCData user 2.
NOTE: A pre-configured folder for off-network communication objects can be
provisioned both on the UE and the user account on the MCData message store to
be used for synchronization.
3\. The off-network group communication comes to an end.
4\. The MCData user 2 connects back to the network.
5\. The MCData user 2 decides to keep the off-network communication in his
account on the MCData message store. The message store client 2 uploads the
off-network communication objects from the local message store to the MCData
message store.
## 7.5 File distribution
### 7.5.1 General
File distribution (mandatory and non-mandatory download) is enabled for both
one-to-one and group.
### 7.5.2 File distribution for on-network
#### 7.5.2.1 Information flows for file distribution
##### 7.5.2.1.1 MCData upload data request
Table 7.5.2.1.1-1 describes the information flow for the MCData upload data
request sent from the media storage client to the MCData content server.
Table 7.5.2.1.1-1: MCData upload data request
* * *
Information element Status Description MCData ID M The identity of the MCData
user uploading data Content (see NOTE) O Content to upload Content reference
(see NOTE) O URL reference of the content stored in the MCData message store
account of the MCData user Emergency indicator O Indicates that the data
request is for MCData emergency communication NOTE: Either the Content or the
Content reference must be present.
* * *
##### 7.5.2.1.2 MCData upload data response
Table 7.5.2.1.2-1 describes the information flow for the MCData upload data
response sent from the MCData content server to the media storage client.
Table 7.5.2.1.2-1: MCData upload data response
* * *
Information element Status Description MCData ID M The identity of the MCData
user requesting to upload data Upload confirmation M An indication whether the
upload to the content storage is successful or not Content reference O URL
reference of the content stored (see NOTE). NOTE: Content reference shall be
present when the upload confirmation is successful.
* * *
##### 7.5.2.1.3 MCData download data request
Table 7.5.2.1.3-1 describes the information flow for the MCData download data
request sent from the MCData media storage client to the MCData content
server.
Table 7.5.2.1.3-1: MCData download data request
* * *
Information element Status Description MCData ID M The identity of the MCData
user downloading data Content reference M URL reference to the content to
download Emergency indicator O Indicates that the data request is for MCData
emergency communication
* * *
##### 7.5.2.1.4 MCData download data response
Table 7.5.2.1.4-1 describes the information flow for the MCData download data
response sent from the MCData content server to the media storage client.
Table 7.5.2.1.4-1: MCData download data response
* * *
Information element Status Description MCData ID M The identity of the MCData
user requesting to download data Content (see NOTE) O Requested content to
download Result M Indicates success or failure of MCData download data request
NOTE: Content shall be present when the result of the MCData download data
request indicates success.
* * *
##### 7.5.2.1.5 MCData FD request (using HTTP)
Table 7.5.2.1.5-1 describes the information flow for the MCData FD request (in
subclause 7.5.2.4.2) sent from the MCData client to the MCData server.
Table 7.5.2.1.5-1: MCData FD request (using HTTP) from MCData client to MCData
server
* * *
Information element Status Description MCData ID M The identity of the MCData
user sending the file Functional alias O The functional alias associated with
MCData user sending the file MCData ID (see NOTE) O The identity of the MCData
user receiving the file Functional alias (see NOTE) O The associated
functional alias of the MCData user identity towards which the data is sent.
Conversation Identifier M Identifies the conversation Transaction Identifier M
Identifies the MCData transaction Reply Identifier O Identifies the original
MCData transaction to which the current transaction is a reply to Disposition
indication O Indicates whether file download completed report is expected or
not Download indication O Indicates mandatory download Application metadata
container O Implementation specific information that is communicated to the
recipient Content reference M URL reference to the content and file metadata
information Emergency indicator O Indicates that the data request is for
MCData emergency communication Deposit file indication O Indicates whether the
file to be stored into the MCData message store account of the MCData user
Location Information O Location Information of the Originating MCData user
sending the FD message NOTE: Either the MCData ID or the functional alias must
be present.
* * *
Table 7.5.2.1.5-2 describes the information flow for the MCData FD request (in
clause 7.5.2.4.2) sent from an MCData server to a partner MCData server.
Table 7.5.2.1.5-2: MCData FD request (using HTTP) from an MCData server to
MCData server
Information element Status Description
* * *
MCData ID M The identity of the MCData user sending the file Functional alias
O The associated functional alias of the MCData user identity sending the file
MCData ID M The identity of the MCData user receiving the file Functional
alias O The associated functional alias of the MCData user identity towards
which the data is sent. Conversation Identifier M Identifies the conversation
Transaction Identifier M Identifies the MCData transaction Reply Identifier O
Identifies the original MCData transaction to which the current transaction is
a reply to Disposition indication O Indicates whether file download completed
report is expected or not Download indication O Indicates mandatory download
Application metadata container O Implementation specific information that is
communicated to the recipient Content reference M URL reference to the content
and file metadata information Emergency indicator O Indicates that the data
request is for MCData emergency communication Location Information O Location
information of the Originating MCData user sending the FD message
Table 7.5.2.1.5-3 describes the information flow for the MCData FD request (in
clause 7.5.2.4.2) sent from the MCData server to the MCData client.
Table 7.5.2.1.5-3: MCData FD request (using HTTP) from MCData server to MCData
client
Information element Status Description
* * *
MCData ID M The identity of the MCData user sending the file Functional alias
O The associated functional alias of the MCData user sending the file MCData
ID M The identity of the MCData user receiving the file Conversation
Identifier M Identifies the conversation Transaction Identifier M Identifies
the MCData transaction Reply Identifier O Identifies the original MCData
transaction to which the current transaction is a reply to Disposition
indication O Indicates whether file download completed report is expected or
not Download indication O Indicates mandatory download Application metadata
container O Implementation specific information that is communicated to the
recipient Content reference M URL reference to the content and file metadata
information Emergency indicator O Indicates that the data request is for
MCData emergency communication Location Information O Location information of
the Originating MCData user sending the FD message
##### 7.5.2.1.6 MCData FD response (using HTTP)
Table 7.5.2.1.6-1 describes the information flow for the MCData FD response
(in subclause 7.5.2.4.2) sent from the MCData client to the MCData server,
from the MCData server to another MCData client and from an MCData server to a
partner MCData server.
Table 7.5.2.1.6-1: MCData FD response (using HTTP)
* * *
Information element Status Description MCData ID M The identity of the MCData
user sending FD request MCData ID M The identity of the MCData user sending
response Conversation Identifier M Identifies the conversation Result O
Indicates if the request is accepted or not
* * *
##### 7.5.2.1.7 MCData download completed report
Table 7.5.2.1.7-1 describes the information flow for the MCData download
completed report sent from the MCData client to the MCData server, from the
MCData server to another MCData client and from an MCData server to a partner
MCData server.
Table 7.5.2.1.7-1: MCData download completed report
* * *
Information element Status Description MCData ID M The identity of the MCData
user sending FD request MCData ID M The identity of the MCData user sending
response Conversation Identifier M Identifies the conversation Transaction
Identifier M Identifies the MCData transaction Reply Identifier M Identifies
the original MCData transaction to which the current transaction is a reply to
Disposition confirmation M An indication that the client has completed
downloading file
* * *
##### 7.5.2.1.7A MCData aggregated download completed report
Table 7.5.2.1.7A-1 describes the information flow for the MCData aggregated
download completed report sent from the MCData server to the MCData client,
indicating the result of a request for a file delivery to an MCData group.
Table 7.5.2.1.7A-1: MCData aggregated download completed report
* * *
Information element Status Description MCData ID M The identity of the MCData
user that sent the FD request Number of Aggregated Reports M Total number of
received individual completed reports Number of Successful Deliveries O Number
of received individual completed reports indicating success Conversation
Identifier M Identifies the conversation Transaction Identifier M Identifies
the MCData transaction Reply Identifier M Identifies the original MCData
transaction which the current transaction is a reply to Successful MCData ID
list O (NOTE) List, partial or full, of MCData users who successfully received
the file delivery Unsuccessful MCData ID list O (NOTE) List, partial or full,
of MCData users who reported failure to fully receive the file delivery
successfully NOTE: No more than one of these information elements may be
present.
* * *
##### 7.5.2.1.8 MCData FD request (using media plane)
Table 7.5.2.1.8-1 describes the information flow for the MCData FD request (in
subclause 7.5.2.5.2) sent from the MCData client to the MCData server and from
the MCData server to another MCData client.
Table 7.5.2.1.8-1: MCData FD request (using media plane/MCData client to
MCData server)
+-----------------------------+--------+-----------------------------+ | Information element | Status | Description | +-----------------------------+--------+-----------------------------+ | MCData ID | M | The identity of the MCData | | | | user sending the file | +-----------------------------+--------+-----------------------------+ | Functional alias | O | The functional alias | | | | associated with MCData user | | | | sending the file | +-----------------------------+--------+-----------------------------+ | MCData ID (see NOTE 1) | O | The identity of the MCData | | | | user receiving the file | +-----------------------------+--------+-----------------------------+ | Functional alias | O | The associated functional | | (see NOTE 1) | | alias of the MCData user | | | | identity towards which the | | | | data is sent. | +-----------------------------+--------+-----------------------------+ | Conversation Identifier | M | Identifies the conversation | +-----------------------------+--------+-----------------------------+ | Transaction Identifier | M | Identifies the MCData | | | | transaction | +-----------------------------+--------+-----------------------------+ | Reply Identifier | O | Identifies the original | | | | MCData transaction to which | | | | the current transaction is | | | | a reply to | +-----------------------------+--------+-----------------------------+ | Disposition indication | O | Indicates whether file | | | | download completed report | | | | is expected or not | +-----------------------------+--------+-----------------------------+ | Download indication | O | Indicates mandatory | | | | download (i.e. auto accept | | | | this media plane setup | | | | request) | +-----------------------------+--------+-----------------------------+ | Application metadata | O | Implementation specific | | container | | information that is | | | | communicated to the | | | | recipient | +-----------------------------+--------+-----------------------------+ | SDP offer (see NOTE 2) | M | Media parameters offered | +-----------------------------+--------+-----------------------------+ | Requested priority | O | Application priority level | | | | requested for this | | | | communication session | +-----------------------------+--------+-----------------------------+ | Emergency indicator | O | Indicates that the data | | | | request is for MCData | | | | emergency communication | +-----------------------------+--------+-----------------------------+ | NOTE 1: Either the MCData | | | | ID or the functional alias | | | | must be present. | | | | | | | | NOTE 2: Includes file | | | | metadata. | | | +-----------------------------+--------+-----------------------------+
Table 7.5.2.1.8-2: MCData FD request (using media plane/MCData server to
MCData server)
Information element Status Description
* * *
MCData ID M The identity of the MCData user sending the file Functional alias
O The associated functional alias of the MCData user identity sending the file
MCData ID M The identity of the MCData user receiving the file Functional
alias O The associated functional alias of the MCData user identity towards
which the data is sent. Conversation Identifier M Identifies the conversation
Transaction Identifier M Identifies the MCData transaction Reply Identifier O
Identifies the original MCData transaction to which the current transaction is
a reply to Disposition indication O Indicates whether file download completed
report is expected or not Download indication O Indicates mandatory download
(i.e. auto accept this media plane setup request) Application metadata
container O Implementation specific information that is communicated to the
recipient SDP offer (see NOTE) M Media parameters offered Requested priority O
Application priority level requested for this communication session Emergency
indicator O Indicates that the data request is for MCData emergency
communication NOTE: Includes file metadata.
Table 7.5.2.1.8-3: MCData FD request (using media plane/MCData server to
MCData client)
Information element Status Description
* * *
MCData ID M The identity of the MCData user sending the file Functional alias
O The associated functional alias of the MCData user identity sending the file
MCData ID M The identity of the MCData user receiving the file Conversation
Identifier M Identifies the conversation Transaction Identifier M Identifies
the MCData transaction Reply Identifier O Identifies the original MCData
transaction to which the current transaction is a reply to Disposition
indication O Indicates whether file download completed report is expected or
not Download indication O Indicates mandatory download (i.e. auto accept this
media plane setup request) Application metadata container O Implementation
specific information that is communicated to the recipient SDP offer (see
NOTE) M Media parameters offered Requested priority O Application priority
level requested for this communication session Emergency indicator O Indicates
that the data request is for MCData emergency communication NOTE: Includes
file metadata.
##### 7.5.2.1.9 MCData FD response (using media plane)
Table 7.5.2.1.9-1 describes the information flow for the MCData FD response
(in subclause 7.5.2.5.2) sent from the MCData client to the MCData server and
from the MCData server to another MCData client.
Table 7.5.2.1.9-1: MCData FD response (using media plane)
* * *
Information element Status Description MCData ID M The identity of the MCData
user sending FD request MCData ID M The identity of the MCData user sending
response Conversation Identifier M Identifies the conversation SDP answer M
Media parameters selected Establishment reason O Reason for establishment or
rejection
* * *
##### 7.5.2.1.10 MCData group standalone FD request (using HTTP)
Table 7.5.2.1.10-1 describes the information flow for the MCData group
standalone FD request (in subclause 7.5.2.6.2) sent from the MCData client to
the MCData server.
Table 7.5.2.1.10-1: MCData group standalone FD request (using HTTP) from
MCData client to MCData server
+-----------------------------+--------+-----------------------------+ | Information element | Status | Description | +-----------------------------+--------+-----------------------------+ | MCData ID | M | The identity of the MCData | | | | user sending the file | +-----------------------------+--------+-----------------------------+ | Functional alias | O | The functional alias | | | | associated with MCData user | | | | sending the file | +-----------------------------+--------+-----------------------------+ | MCData group ID | M | The MCData group ID to | | | | which the file is to be | | | | sent | +-----------------------------+--------+-----------------------------+ | Conversation Identifier | M | Identifies the conversation | +-----------------------------+--------+-----------------------------+ | Transaction Identifier | M | Identifies the MCData | | | | transaction | +-----------------------------+--------+-----------------------------+ | Reply Identifier | O | Identifies the original | | | | MCData transaction to which | | | | the current transaction is | | | | a reply to | +-----------------------------+--------+-----------------------------+ | Disposition indication | O | Indicates whether file | | | | download completed report | | | | is expected or not | +-----------------------------+--------+-----------------------------+ | Download indication | O | Indicates mandatory | | | | download | +-----------------------------+--------+-----------------------------+ | Application metadata | O | Implementation specific | | container | | information that is | | | | communicated to the | | | | recipient | +-----------------------------+--------+-----------------------------+ | Content reference | M | URL reference to the | | | | content and file metadata | | | | information | +-----------------------------+--------+-----------------------------+ | Emergency indicator | O | Indicates that the data | | (see NOTE 1) | | request is for MCData | | | | emergency communication | +-----------------------------+--------+-----------------------------+ | Alert indicator | O | Indicates whether an | | (see NOTE 2) | | emergency alert is to be | | | | sent | +-----------------------------+--------+-----------------------------+ | Imminent peril indicator | O | Indicates that the data | | (see NOTE 1) | | request is for MCData | | | | imminent peril | | | | communication | +-----------------------------+--------+-----------------------------+ | NOTE 1: If used, only one | | | | of these information | | | | elements shall be present. | | | | | | | | NOTE 2: This information | | | | element may be present only | | | | when Emergency indicator is | | | | present. | | | +-----------------------------+--------+-----------------------------+
Table 7.5.2.1.10-2 describes the information flow for the MCData group
standalone FD request (in subclause 7.5.2.6.2) sent from the MCData server to
the MCData client.
Table 7.5.2.1.10-2: MCData group standalone FD request (using HTTP) from
MCData server to MCData client
+-----------------------------+--------+-----------------------------+ | Information element | Status | Description | +-----------------------------+--------+-----------------------------+ | MCData ID | M | The identity of the MCData | | | | user sending the file | +-----------------------------+--------+-----------------------------+ | Functional alias | O | The functional alias | | | | associated with MCData user | | | | sending the file | +-----------------------------+--------+-----------------------------+ | MCData group ID | M | The MCData group ID to | | | | which the file is to be | | | | sent | +-----------------------------+--------+-----------------------------+ | MCData ID | M | The identity of the MCData | | | | user receiving the file | +-----------------------------+--------+-----------------------------+ | Conversation Identifier | M | Identifies the conversation | +-----------------------------+--------+-----------------------------+ | Transaction Identifier | M | Identifies the MCData | | | | transaction | +-----------------------------+--------+-----------------------------+ | Reply Identifier | O | Identifies the original | | | | MCData transaction to which | | | | the current transaction is | | | | a reply to | +-----------------------------+--------+-----------------------------+ | Disposition indication | O | Indicates whether file | | | | download completed report | | | | is expected or not | +-----------------------------+--------+-----------------------------+ | Download indication | O | Indicates mandatory | | | | download | +-----------------------------+--------+-----------------------------+ | Application metadata | O | Implementation specific | | container | | information that is | | | | communicated to the | | | | recipient | +-----------------------------+--------+-----------------------------+ | Content reference | M | URL reference to the | | | | content and file metadata | | | | information | +-----------------------------+--------+-----------------------------+ | Emergency indicator | O | Indicates that the data | | (see NOTE 1) | | request is for MCData | | | | emergency communication | +-----------------------------+--------+-----------------------------+ | Alert indicator | O | Indicates whether an | | (see NOTE 2) | | emergency alert is to be | | | | sent | +-----------------------------+--------+-----------------------------+ | Imminent peril indicator | O | Indicates that the data | | (see NOTE 1) | | request is for MCData | | | | imminent peril | | | | communication | +-----------------------------+--------+-----------------------------+ | NOTE 1: If used, only one | | | | of these information | | | | elements shall be present. | | | | | | | | NOTE 2: This information | | | | element may be present only | | | | when Emergency indicator is | | | | present. | | | +-----------------------------+--------+-----------------------------+
##### 7.5.2.1.11 MCData group standalone FD response (using HTTP or MBMS
download delivery method)
Table 7.5.2.1.11-1 describes the information flow for the MCData group
standalone FD response (in subclause 7.5.2.6.2) sent from the MCData client to
the MCData server and from the MCData server to another MCData client.
Table 7.5.2.1.11-1: MCData group standalone FD response (using HTTP)
* * *
Information element Status Description MCData ID M The identity of the MCData
user sending FD request MCData group ID M The MCData group ID to which the
file is to be sent MCData ID M The identity of the MCData user sending
response Conversation Identifier M Identifies the conversation Result M
Indicates if the request is accepted or not
* * *
##### 7.5.2.1.12 MCData group standalone FD request (using media plane)
Table 7.5.2.1.12-1 describes the information flow for the MCData group
standalone FD request (in subclause 7.5.2.7.2) sent from the MCData client to
the MCData server and from the MCData server to another MCData client.
Table 7.5.2.1.12-1: MCData group standalone FD request (using media
plane/MCData client to MCData server)
+-----------------------------+--------+-----------------------------+ | Information element | Status | Description | +-----------------------------+--------+-----------------------------+ | MCData ID | M | The identity of the MCData | | | | user sending the file | +-----------------------------+--------+-----------------------------+ | Functional alias | O | The functional alias | | | | associated with MCData user | | | | sending the file | +-----------------------------+--------+-----------------------------+ | MCData group ID | M | The MCData group ID to | | | | which the data is to be | | | | sent | +-----------------------------+--------+-----------------------------+ | Conversation Identifier | M | Identifies the conversation | +-----------------------------+--------+-----------------------------+ | Transaction Identifier | M | Identifies the MCData | | | | transaction | +-----------------------------+--------+-----------------------------+ | Reply Identifier | O | Identifies the original | | | | MCData transaction to which | | | | the current transaction is | | | | a reply to | +-----------------------------+--------+-----------------------------+ | Disposition indication | O | Indicates whether file | | | | download completed report | | | | is expected or not | +-----------------------------+--------+-----------------------------+ | Download indication | O | Indicates mandatory | | | | download (i.e. auto accept | | | | this media plane setup | | | | request) | +-----------------------------+--------+-----------------------------+ | Application metadata | O | Implementation specific | | container | | information that is | | | | communicated to the | | | | recipient | +-----------------------------+--------+-----------------------------+ | SDP offer (see NOTE 3) | M | Media parameters offered | +-----------------------------+--------+-----------------------------+ | Requested priority | O | Application priority level | | | | requested for this | | | | communication session | +-----------------------------+--------+-----------------------------+ | Emergency indicator | O | Indicates that the data | | (see NOTE 1) | | request is for MCData | | | | emergency communication | +-----------------------------+--------+-----------------------------+ | Alert indicator | O | Indicates whether an | | (see NOTE 2) | | emergency alert is to be | | | | sent | +-----------------------------+--------+-----------------------------+ | Imminent peril indicator | O | Indicates that the data | | (see NOTE 1) | | request is for MCData | | | | imminent peril | | | | communication | +-----------------------------+--------+-----------------------------+ | NOTE 1: If used, only one | | | | of these information | | | | elements shall be present. | | | | | | | | NOTE 2: This information | | | | element may be present only | | | | when Emergency indicator is | | | | present. | | | | | | | | NOTE 3: Includes file | | | | metadata. | | | +-----------------------------+--------+-----------------------------+
Table 7.5.2.1.12-2: MCData group standalone FD request (using media
plane/MCData server to MCData client)
+-----------------------------+--------+-----------------------------+ | Information element | Status | Description | +-----------------------------+--------+-----------------------------+ | MCData ID | M | The identity of the MCData | | | | user sending the file | +-----------------------------+--------+-----------------------------+ | Functional alias | O | The functional alias | | | | associated with MCData user | | | | sending the file | +-----------------------------+--------+-----------------------------+ | MCData group ID | M | The MCData group ID to | | | | which the data is to be | | | | sent | +-----------------------------+--------+-----------------------------+ | MCData ID | M | The identity of the MCData | | | | user receiving the file | +-----------------------------+--------+-----------------------------+ | Conversation Identifier | M | Identifies the conversation | +-----------------------------+--------+-----------------------------+ | Transaction Identifier | M | Identifies the MCData | | | | transaction | +-----------------------------+--------+-----------------------------+ | Reply Identifier | O | Identifies the original | | | | MCData transaction to which | | | | the current transaction is | | | | a reply to | +-----------------------------+--------+-----------------------------+ | Disposition indication | O | Indicates whether file | | | | download completed report | | | | is expected or not | +-----------------------------+--------+-----------------------------+ | Download indication | O | Indicates mandatory | | | | download (i.e. auto accept | | | | this media plane setup | | | | request) | +-----------------------------+--------+-----------------------------+ | Application metadata | O | Implementation specific | | container | | information that is | | | | communicated to the | | | | recipient | +-----------------------------+--------+-----------------------------+ | SDP offer (see NOTE 3) | M | Media parameters offered | +-----------------------------+--------+-----------------------------+ | Requested priority | O | Application priority level | | | | requested for this | | | | communication session | +-----------------------------+--------+-----------------------------+ | Emergency indicator | O | Indicates that the data | | (see NOTE 1) | | request is for MCData | | | | emergency communication | +-----------------------------+--------+-----------------------------+ | Alert indicator | O | Indicates whether an | | (see NOTE 2) | | emergency alert is to be | | | | sent | +-----------------------------+--------+-----------------------------+ | Imminent peril indicator | O | Indicates that the data | | (see NOTE 1) | | request is for MCData | | | | imminent peril | | | | communication | +-----------------------------+--------+-----------------------------+ | NOTE 1: If used, only one | | | | of these information | | | | elements shall be present. | | | | | | | | NOTE 2: This information | | | | element may be present only | | | | when Emergency indicator is | | | | present. | | | | | | | | NOTE 3: Includes file | | | | metadata. | | | +-----------------------------+--------+-----------------------------+
##### 7.5.2.1.13 MCData group standalone FD response (using media plane)
Table 7.5.2.1.13-1 describes the information flow for the MCData group
standalone FD response (in subclause 7.5.2.7.2) sent from the MCData client to
the MCData server and from the MCData server to another MCData client.
Table 7.5.2.1.13-1: MCData group standalone FD response (using media plane)
* * *
Information element Status Description MCData ID M The identity of the MCData
user sending FD request MCData group ID M The MCData group ID to which the
file is to be sent MCData ID M The identity of the MCData user sending
response Conversation Identifier M Identifies the conversation SDP answer M
Media parameters selected
* * *
##### 7.5.2.1.14 MCData remove file request by user
Table 7.5.2.1.14-1 describes the information flow for the MCData remove file
request by user sent from the media storage client to the media storage
function of the MCData content server, and from the MCData content server to
another MCData content server in a partner MCData system.
Table 7.5.2.1.14-1: MCData remove file request by user
+-----------------------------+--------+-----------------------------+ | Information element | Status | Description | +-----------------------------+--------+-----------------------------+ | MCData ID (see NOTE 1) | O | The identity of the MCData | | | | user removing file | +-----------------------------+--------+-----------------------------+ | Partner MCData system | O | The identity of the partner | | identity (see NOTE 2) | | MCData system where the | | | | file has also been | | | | downloaded | +-----------------------------+--------+-----------------------------+ | Content reference | M | URL of the content to be | | | | removed | +-----------------------------+--------+-----------------------------+ | NOTE 1: The identity of the | | | | MCData user removing the | | | | file is present when sent | | | | from MCData client to | | | | MCData content server | | | | | | | | NOTE 2: The identity of the | | | | partner MCData system is | | | | present when sent from | | | | MCData content server to | | | | MCData content server. | | | +-----------------------------+--------+-----------------------------+
##### 7.5.2.1.15 MCData remove file response by user
Table 7.5.2.1.15-1 describes the information flow for the MCData remove file
response by user sent from the media storage function of the MCData content
server to the media storage client, and from the MCData content server to
another MCData content server in a partner MCData system.
Table 7.5.2.1.15-1: MCData remove file response by user
+-----------------------------+--------+-----------------------------+ | Information element | Status | Description | +-----------------------------+--------+-----------------------------+ | MCData ID (see NOTE 1) | O | The identity of the MCData | | | | user removing file | +-----------------------------+--------+-----------------------------+ | Partner MCData system | O | The identity of the partner | | identity (see NOTE 2) | | MCData system where the | | | | file has also been | | | | downloaded | +-----------------------------+--------+-----------------------------+ | Result | M | Indicates the success or | | | | failure of the file removal | +-----------------------------+--------+-----------------------------+ | +-----------------------+ | | | | | NOTE 1: The identity | | | | | | of the MCData user | | | | | | removing the file is | | | | | | present when sent | | | | | | from MCData content | | | | | | server to MCData | | | | | | client | | | | | | | | | | | | NOTE 2: The identity | | | | | | of the partner MCData | | | | | | system is present | | | | | | when sent from MCData | | | | | | content server to | | | | | | MCData content | | | | | | server. | | | | | +-----------------------+ | | | +-----------------------------+--------+-----------------------------+
##### 7.5.2.1.16 Void
##### 7.5.2.1.17 Void
##### 7.5.2.1.18 MCData remove file notify
Table 7.5.2.1.18-1 describes the information flow for the MCData remove file
notify sent from the MCData server to the MCData client that the shared file
has been removed.
Table 7.5.2.1.18-1: MCData remove file notify
* * *
Information element Status Description MCData ID M The identity of the MCData
user uploaded the file Content reference M URL of the content that has been
removed Reason O The reason the file is removed
* * *
##### 7.5.2.1.19 MCData file retrieve request
Table 7.5.2.1.19-1 describes the information flow for the MCData file retrieve
request sent from an MCData content server in a partner MCData system to an
MCData content server in the primary MCData system of the source of the
content.
Table 7.5.2.1.19-1: MCData file retrieve request
* * *
Information element Status Description Content reference M URL reference to
the content to download
* * *
##### 7.5.2.1.20 MCData file retrieve response
Table 7.5.2.1.20-1 describes the information flow for the MCData file retrieve
response sent from the MCData content server in the primary MCData system of
the source of the content to an MCData content server in a partner MCData
system.
Table 7.5.2.1.20-1: MCData file retrieve response
* * *
Information element Status Description Content (see NOTE) O Requested content
to download Result M Indicates success or failure of MCData download data
request NOTE: Content shall be present when the result of the MCData file
retrieve request indicates success.
* * *
##### 7.5.2.1.21 MCData group standalone FD over MBMS request
Table 7.5.2.1.21-1 describes the information flow for the MCData group
standalone FD request (in subclause 7.5.2.6.2) sent from the MCData server to
another MCData client.
Table 7.5.2.1.21-1: MCData group standalone FD over MBMS request
Information element Status Description
* * *
MCData ID M The identity of the MCData user sending the file MCData group ID M
The MCData group ID to which the file is to be sent Conversation Identifier M
Identifies the conversation Transaction Identifier M Identifies the MCData
transaction Reply Identifier O Identifies the original MCData transaction to
which the current transaction is a reply to Disposition indication O Indicates
whether file download completed report is expected or not Download indication
M Indicates mandatory download Application metadata container O Implementation
specific information that is communicated to the recipient Content reference M
URL reference to the content and file metadata information MBMS user service
id M Id of the MBMS user service delivering the file MBMS content URI M URI
upon which the content is delivered in the MBMS user service
##### 7.5.2.1.22 MCData one-to-one FD upgrade request
Table 7.5.2.1.22-1 describes the information flow for the MCData one-to-one FD
upgrade request sent from the MCData client to the MCData server and from the
MCData server to another MCData client.
Table 7.5.2.1.22-1: MCData one-to-one FD upgrade request
+-------------------------+--------+-----------------------------+ | Information element | Status | Description | +-------------------------+--------+-----------------------------+ | MCData ID | M | The identity of the MCData | | | | user sending data (when | | | | initiated by MCData | | | | client); | | | | | | | | The identity of the MCData | | | | user receiving data (when | | | | initiated by MCData | | | | server). | +-------------------------+--------+-----------------------------+ | Functional alias | O | The associated functional | | | | alias of the MCData user | | | | sending data or receiving | | | | data. | +-------------------------+--------+-----------------------------+ | Conversation Identifier | M | Identifies the conversation | +-------------------------+--------+-----------------------------+ | Emergency indicator | M | Indicates that the data | | | | request is for MCData | | | | emergency communication | +-------------------------+--------+-----------------------------+
##### 7.5.2.1.23 MCData one-to-one FD upgrade response
Table 7.5.2.1.23-1 describes the information flow for the MCData one-to-one FD
upgrade response sent from the MCData client to the MCData server and from the
MCData server to another MCData client.
Table 7.5.2.1.23-1: MCData one-to-one FD upgrade response
+-------------------------+--------+-----------------------------+ | Information element | Status | Description | +-------------------------+--------+-----------------------------+ | MCData ID | M | The identity of the MCData | | | | user sending data (when | | | | initiated by MCData | | | | client); | | | | | | | | The identity of the MCData | | | | user receiving data (when | | | | initiated by MCData | | | | server). | +-------------------------+--------+-----------------------------+ | Conversation Identifier | M | Identifies the conversation | +-------------------------+--------+-----------------------------+
##### 7.5.2.1.24 MCData group FD upgrade request
Table 7.5.2.1.24-1 describes the information flow for the MCData group FD
upgrade request sent from the MCData client to the MCData server and from the
MCData server to another MCData client.
Table 7.5.2.1.24-1: MCData group FD upgrade request (MCData client to MCData
server)
+-----------------------------+--------+-----------------------------+ | Information element | Status | Description | +-----------------------------+--------+-----------------------------+ | MCData ID | M | The identity of the MCData | | | | user sending the upgrade | | | | request | +-----------------------------+--------+-----------------------------+ | Functional alias | O | The associated functional | | | | alias of the MCData user | | | | sending data or receiving | | | | data. | +-----------------------------+--------+-----------------------------+ | MCData group ID | M | The MCData group ID on | | | | which the emergency upgrade | | | | request is made | +-----------------------------+--------+-----------------------------+ | Conversation Identifier | M | Identifies the conversation | +-----------------------------+--------+-----------------------------+ | Emergency indicator (see | O | Indicates that the data | | NOTE 1) | | request is for MCData | | | | emergency communication | +-----------------------------+--------+-----------------------------+ | Alert indicator | O | Indicates whether an | | (see NOTE 2) | | emergency alert is to be | | | | sent | +-----------------------------+--------+-----------------------------+ | Imminent peril indicator | O | Indicates that the data | | (see NOTE 1) | | request is for MCData | | | | imminent peril | | | | communication | +-----------------------------+--------+-----------------------------+ | NOTE 1: If used, only one | | | | of these information | | | | elements shall be present. | | | | | | | | NOTE 2: This information | | | | element may be present only | | | | when Emergency indicator is | | | | present. | | | +-----------------------------+--------+-----------------------------+
Table 7.5.2.1.24-2: MCData group FD upgrade request (MCData server to MCData
client)
+-----------------------------+--------+-----------------------------+ | Information element | Status | Description | +-----------------------------+--------+-----------------------------+ | MCData ID | M | The identity of the MCData | | | | user sending the upgrade | | | | request | +-----------------------------+--------+-----------------------------+ | Functional alias | O | The associated functional | | | | alias of the MCData user | | | | sending data or receiving | | | | data. | +-----------------------------+--------+-----------------------------+ | MCData group ID | M | The MCData group ID on | | | | which the emergency upgrade | | | | request is made | +-----------------------------+--------+-----------------------------+ | MCData ID | M | The identity of the MCData | | | | user receiving the upgrade | | | | request | +-----------------------------+--------+-----------------------------+ | Conversation Identifier | M | Identifies the conversation | +-----------------------------+--------+-----------------------------+ | Emergency indicator (see | O | Indicates that the data | | NOTE 1) | | request is for MCData | | | | emergency communication | +-----------------------------+--------+-----------------------------+ | Alert indicator | O | Indicates whether an | | (see NOTE 2) | | emergency alert is to be | | | | sent | +-----------------------------+--------+-----------------------------+ | Imminent peril indicator | O | Indicates that the data | | (see NOTE 1) | | request is for MCData | | | | imminent peril | | | | communication | +-----------------------------+--------+-----------------------------+ | NOTE 1: If used, only one | | | | of these information | | | | elements shall be present. | | | | | | | | NOTE 2: This information | | | | element may be present only | | | | when Emergency indicator is | | | | present. | | | +-----------------------------+--------+-----------------------------+
##### 7.5.2.1.25 MCData group FD upgrade response
Table 7.5.2.1.25-1 describes the information flow for the MCData group FD
upgrade response sent from the MCData client to the MCData server and from the
MCData server to another MCData client.
Table 7.5.2.1.25-1: MCData group FD upgrade response
+-------------------------+--------+-----------------------------+ | Information element | Status | Description | +-------------------------+--------+-----------------------------+ | MCData ID | M | The identity of the MCData | | | | user sending data (when | | | | initiated by MCData | | | | client); | | | | | | | | The identity of the MCData | | | | user receiving data (when | | | | initiated by MCData | | | | server). | +-------------------------+--------+-----------------------------+ | MCData group ID | M | The MCData group ID on | | | | which the emergency upgrade | | | | request is made | +-------------------------+--------+-----------------------------+ | Conversation Identifier | M | Identifies the conversation | +-------------------------+--------+-----------------------------+
##### 7.5.2.1.26 MCData group FD in-progress priority state cancel request
Table 7.5.2.1.26-1 describes the information for the MCData group FD in-
progress priority state cancel request sent from the MCData client to the
MCData server and from the MCData server to another MCData client.
Table 7.5.2.1.26-1: MCData group FD in-progress priority state cancel request
(MCData client to MCData server)
+-----------------------------+--------+-----------------------------+ | Information Element | Status | Description | +=============================+========+=============================+ | MCData ID | M | The identity of the | | | | cancelling MCData User | +-----------------------------+--------+-----------------------------+ | MCData group ID | M | The MCData group ID on | | | | which the MCData | | | | in-progress emergency state | | | | is to be cancelled. | +-----------------------------+--------+-----------------------------+ | Emergency indicator | O | Indicates that the data | | (see NOTE 1) | | request is for MCData | | | | emergency communication | +-----------------------------+--------+-----------------------------+ | Alert indicator | O | Indicates whether an | | (see NOTE 2) | | emergency alert is to be | | | | sent | +-----------------------------+--------+-----------------------------+ | Imminent peril indicator | O | Indicates that the data | | (see NOTE 1) | | request is for MCData | | | | imminent peril | | | | communication | +-----------------------------+--------+-----------------------------+ | Conversation Identifier | M | Identifies the conversation | +-----------------------------+--------+-----------------------------+ | NOTE 1: If used, only one | | | | of these information | | | | elements shall be present. | | | | | | | | NOTE 2: This information | | | | element may be present only | | | | when Emergency indicator is | | | | present. | | | +-----------------------------+--------+-----------------------------+
Table 7.5.2.1.26-2: MCData group FD in-progress priority state cancel request
(MCData server to MCData client)
+-----------------------------+--------+-----------------------------+ | Information Element | Status | Description | +=============================+========+=============================+ | MCData ID | M | The identity of the | | | | cancelling MCData User | +-----------------------------+--------+-----------------------------+ | MCData group ID | M | The MCData group ID on | | | | which the MCData | | | | in-progress emergency state | | | | is to be cancelled. | +-----------------------------+--------+-----------------------------+ | MCData ID | M | The identity of the MCData | | | | user receiving the cancel | | | | request | +-----------------------------+--------+-----------------------------+ | Emergency indicator | O | Indicates that the data | | (see NOTE 1) | | request is for MCData | | | | emergency communication | +-----------------------------+--------+-----------------------------+ | Alert indicator | O | Indicates whether an | | (see NOTE 2) | | emergency alert is to be | | | | sent | +-----------------------------+--------+-----------------------------+ | Imminent peril indicator | O | Indicates that the data | | (see NOTE 1) | | request is for MCData | | | | imminent peril | | | | communication | +-----------------------------+--------+-----------------------------+ | Conversation Identifier | M | Identifies the conversation | +-----------------------------+--------+-----------------------------+ | NOTE 1: If used, only one | | | | of these information | | | | elements shall be present. | | | | | | | | NOTE 2: This information | | | | element may be present only | | | | when Emergency indicator is | | | | present. | | | +-----------------------------+--------+-----------------------------+
##### 7.5.2.1.27 MCData group FD in-progress priority state cancel response
Table 7.5.2.1.27-1 describes the information flow for the MCData group FD in-
progress priority state cancel response sent from the MCData server to the
MCData client.
Table 7.5.2.1.27-1: MCData group FD in-progress priority state cancel response
information elements
Information Element Status Description
* * *
MCData ID M The identity of the cancelling party MCData group ID M The MCData
group ID on which the MCData in-progress emergency in-progress is to be
cancelled. Conversation Identifier M Identifies the conversation
##### 7.5.2.1.28 MCData file upload request
Table 7.5.2.1.28-1 describes the information flow for the MCData file upload
request sent from the MCData client to the MCData server.
Table 7.5.2.1.28-1: MCData file upload request
* * *
Information element Status Description MCData ID M The identity of the MCData
user uploading the file Transaction Identifier M Identifies the MCData
transaction Access information M Provides access resource details to be used
by the MCData client for the file upload, e.g. IP address and port MCData
content server information M Provides information about the target MCData
content server, where the file is intended to be uploaded, e.g. URI or IP
address, and port (e.g. standard port 80 for HTTP) Emergency indicator O
Indicates that the request is for an MCData emergency communication
* * *
##### 7.5.2.1.29 MCData file upload response
Table 7.5.2.1.29-1 describes the information flow for the MCData file upload
response sent from the MCData server to the MCData client.
Table 7.5.2.1.29-1: MCData file upload response
* * *
Information element Status Description MCData ID M The identity of the MCData
user requesting to upload the file Transaction Identifier M Identifies the
MCData transaction File upload confirmation M Indicates whether the file
upload to the MCData content server can proceed or not
* * *
##### 7.5.2.1.30 MCData file upload completion status
Table 7.5.2.1.30-1 describes the information flow for the MCData file upload
completion status sent from the MCData client to the MCData server.
Table 7.5.2.1.30-1: MCData file upload completion status
Information element Status Description
* * *
MCData ID M The identity of the MCData user uploading the file Transaction
Identifier M Identifies the MCData transaction File upload status M Indicates
the file upload to the MCData content server is completed
##### 7.5.2.1.31 MCData file download request
Table 7.5.2.1.31-1 describes the information flow for the MCData file download
request sent from the MCData client to the MCData server.
Table 7.5.2.1.31-1: MCData file download request
* * *
Information element Status Description MCData ID M The identity of the MCData
user downloading the file Transaction Identifier M Identifies the MCData
transaction Access information M Provides access resource details to be used
by the MCData client for the file download, e.g. IP address and port MCData
content server information M Provides information about the target MCData
content server, where the file is intended to be downloaded from, e.g. URI or
IP address, and port (e.g. standard port 80 for HTTP) Content reference M URL
reference to the content to download Emergency indicator O Indicates that the
request is for an MCData emergency communication
* * *
##### 7.5.2.1.32 MCData file download response
Table 7.5.2.1.32-1 describes the information flow for the MCData file download
response sent from the MCData server to the MCData client.
Table 7.5.2.1.32-1: MCData file download response
* * *
Information element Status Description MCData ID M The identity of the MCData
user requesting to dowload the file Transaction Identifier M Identifies the
MCData transaction File download confirmation M Indicates whether the file
download from the MCData content server can proceed or not
* * *
##### 7.5.2.1.33 MCData file availability request
Table 7.5.2.1.33-1 describes the information flow for the MCData file
availability request sent from the MCData server to the MCData content server.
Table 7.5.2.1.33-1: MCData file availability request
* * *
Information element Status Description Content reference M URL reference of
the file required to check its availability in the MCData content server
* * *
##### 7.5.2.1.34 MCData file availability response
Table 7.5.2.1.34-1 describes the information flow for the MCData file
availability response sent from the MCData content server to the MCData
server.
Table 7.5.2.1.34-1: MCData file availability response
* * *
Information element Status Description Content reference M URL reference of
the file required to check its availability in the MCData content server
Result M Indicates whether the file is available or not
* * *
#### 7.5.2.2 File upload using HTTP
##### 7.5.2.2.1 General
The media storage client uses HTTP for a standalone data file upload towards
the MCData content server.
##### 7.5.2.2.2 Procedure for uploading the file residing in the local storage
of the MCData UE without QoS
The procedure in figure 7.5.2.2.2-1 describes the case where an MCData user is
uploading a file to media storage function on the MCData content server.
Pre-conditions:
1\. The MCData user on the media storage client is registered for receiving
MCData service.
2\. The MCData content server has the ability to verify if the requesting
MCData user is authorised to upload.
Figure 7.5.2.2.2-1: Uploading of the file residing in MCData UE using HTTP
1\. The user at the media storage client initiates a file upload request of
the chosen file. If MCData emergency state is already set for the media
storage client (due to previously triggered MCData emergency alert), the media
storage client sets emergency indicator in the request. The media storage
client verifies that the size of the file is within the maximum data size for
FD for the intended MCData FD request (by checking the group configuration for
a group FD request and by checking the service configuration for a one-to-one
FD request).
2\. The file to be uploaded is received by the media storage client and sent
to the media storage function on the MCData content server for storing using
the MCData upload data request.
3\. The MCData content server stores the file and provides a MCData upload
data response indicating success (along with file URL to the media storage
client) or failure.
##### 7.5.2.2.3 Procedure for uploading the file residing in the MCData
message store
The procedure in figure 7.5.2.2.3-1 describes the case where an MCData user is
uploading a file to media storage function on the MCData content server from
his or her MCData message store account.
Pre-conditions:
1\. The Media storage client knows the URL of the file residing in the MCData
message store account of the user.
Figure 7.5.2.2.3-1: Uploading of the file residing in MCData message store
using HTTP
1\. The user at the media storage client initiates a file upload request of
the file residing in his MCData message store account.
2\. The URL of the file which needs to be retrieved from the MCData message
store account of the user is sent to the media storage function on the MCData
content server using the MCData upload data request.
3\. The MCData content server fetches the file from the MCData message store
account of the user using the URL provided in the MCData upload data request.
4\. The MCData content server stores the retrieved file content into its
repository.
5\. The MCData content provides a MCData upload data response indicating
success (along with file URL to the media storage client) or failure.
##### 7.5.2.2.4 Procedure for file upload including request of network
resources with required QoS
The procedure in figure 7.5.2.2.4-1 describes the case where an MCData client
sends a request to the MCData server for the upload of a file from the media
storage client on the MCData client to the media storage function on the
MCData content server. The MCData server can, therefore, request network
resources with the required QoS for the corresponding file upload.
Pre-conditions:
1\. The MCData user on the MCData client is registered on the MCData server
for receiving MCData service.
2\. The MCData client is required to upload a file to the MCData content
server over network resources with required QoS.
3\. The MCData client knows its IP address/port to be used for the file upload
as well as the URI or IP address/port of the target MCData content server.
NOTE: How the MCData client knows the IP addresses and ports to be used for
the file upload is implementation specific and out of the scope of this
specification.
Figure 7.5.2.2.4-1: File upload using HTTP over network resources with
required QoS
1\. The MC user on the MCData client intends to upload a file to the MCData
content server for file distribution. The MCData client verifies that the size
of the file is within the maximum data size for FD for the intended MCData FD
request (e.g., by checking the group configuration for a group FD request or
the service configuration for a one-to-one FD request). If the MCData
emergency state is already set for the MCData client, the MCData client sets
the emergency indicator in the request.
2\. The MCData client sends the MCData file upload request to the MCData
server. This request contains information about the MCData client (including
IP address and port to be used for the file upload), and the target MCData
content server (including associated URI or IP address, and port).
3\. The MCData server verifies that the corresponding MCData client is
authorized to upload files to the corresponding MCData content server.
4\. If the MCData client is authorized for the file upload, the MCData server
sends a request to the 3GPP system for the allocation of network resources
with the required QoS for the corresponding file upload communication between
the MCData client and the MCData content server. For that, the MCData server
performs policy and charging control (PCC) procedures, e.g., over the Rx
reference point as described in 3GPP TS 23.203 [14] for the case of an EPS
system.
5\. The MCData server sends a MCData file upload response to the MCData client
indicating if it can proceed with the file upload to the MCData content
server.
6\. The media storage client on the MCData client sends an MCData upload data
request to the media storage function on the MCData content server to upload
the file.
7\. The MCData content server provides an MCData upload data response to the
MCData client indicating if the file was successfully stored (along with file
URL) or failure.
8\. The MCData client provides to the MCData server an MCData file upload
completion status indicating that the file upload is completed.
9\. Based on the MCData file upload completion status, the MCData server
requests to the 3GPP system to release the network resources allocated for the
corresponding file upload.
#### 7.5.2.3 File download using HTTP
##### 7.5.2.3.1 General
The media storage client uses HTTP for a standalone data file download from
the MCData content server.
##### 7.5.2.3.2 Procedure for file download from the MCData content server
without QoS
The procedure in figure 7.5.2.3.2-1 describes the case where an MCData user is
downloading a file from the media storage function of the MCData content
server.
Pre-conditions:
1\. The MCData user on the media storage client is registered for receiving
MCData service.
Figure 7.5.2.3.2-1: File download using HTTP
1\. The user at the media storage client initiates a file download request
available at the indicated URL.
2\. The file available at the URL (received in MCData FD request or MCData
group standalone FD request) is requested to be downloaded by the media
storage client from the media storage function on the MCData content server
using a MCData download data request. If emergency indicator is set in
received in MCData FD request or MCData group standalone FD request, the media
storage client sets emergency indicator in MCData download data request.
NOTE: The media storage client can perform partial download requests to
complete the missing parts after an incomplete file transfer.
3\. The media storage function on the MCData content server may apply
reception control policy and provides a MCData download data response
including the file to the media storage client.
##### 7.5.2.3.3 Procedure for file download including request of network
resources with required QoS
The procedure in figure 7.5.2.3.3-1 describes the case where an MCData client
sends a request to the MCData server for the download of a file from the media
storage client on the MCData client to the media storage function on the
MCData content server. The MCData server can, therefore, request network
resources with the required QoS for the corresponding file download.
Pre-conditions:
1\. The MCData user on the MCData client is registered on the MCData server
for receiving MCData service.
2\. The MCData client has been requested to download a file using HTTP and has
received the corresponding file URL (via an MCData FD request or MCData group
standalone FD request).
3\. The MCData client is required to download a file from the MCData content
server over network resources with required QoS.
NOTE 1: It is implementation specific whether an MCData system enables that
network resources with required QoS are required for file downloads.
4\. The MCData client knows its IP address/port to be used for the file
download as well as the URI or IP address/port of the target MCData content
server.
NOTE 2: How the MCData client knows the IP addresses and ports to be used for
the file download is implementation specific and out of the scope of this
specification.
Figure 7.5.2.3.3-1: File download using HTTP over network resources with
required QoS
1\. The MC user on the MCData client intends to download a file from the
MCData content server based on a received MCData FD request or MCData group
standalone FD request. If the MCData emergency state is already set for the
MCData client, the MCData client sets the emergency indicator in the request.
2\. The MCData client sends the MCData file download request to the MCData
server. This request contains information about the MCData client (including
IP address and port to be used for the file download), and the target MCData
content server (including associated URI or IP address, and port). The request
also contains the corresponding file URL on the MCData content server.
3\. The MCData server may verify, based on the received file URL, whether the
file is available in the MCData content server via the MCData-FD-5 reference
point. For that, the MCData server sends an MCData file availability request
to the MCData content server. Upon the receipt of the request, the MCData
content server provides an MCData file availability response to the MCData
server. If the MCData server identifies that the corresponding file is not
available in the MCData content server, the MCData server provides a response
to the MCData client indicating that the file download request cannot proceed
due to the unavailability of the file in the MCData content server.
4\. The MCData server verifies that the corresponding MCData client is
authorized to download the file from the corresponding MCData content server.
5\. If the MCData client is authorized for the file download, the MCData
server sends a request to the 3GPP system for the allocation of network
resources with the required QoS for the corresponding file download
communication between the MCData client and the MCData content server. For
that, the MCData server performs policy and charging control (PCC) procedures,
e.g., over the Rx reference point as described in 3GPP TS 23.203 [14] for the
case of an EPS system.
6\. The MCData server sends a MCData file download response to the MCData
client indicating whether it can proceed with the file download from the
MCData content server.
7\. The media storage client on the MCData client sends an MCData download
data request to the media storage function on the MCData content server to
download the corresponding file.
8\. The MCData content server provides an MCData download data response to the
MCData client including the file for the case of a successful response.
9\. The MCData client provides to the MCData server an MCData download
completed report indicating that the file download is completed.
10\. Based on the MCData download completed report, the MCData server requests
to the 3GPP system to release the network resources allocated for the
corresponding file download.
#### 7.5.2.4 One-to-one file distribution using HTTP
##### 7.5.2.4.1 General
The MCData client uses HTTP file distribution to download a file that is
uploaded by another MCData client. The procedure is appropriate for both
mandatory and non-mandatory download cases. The target MCData user may be
addressed using the functional alias that can be shared with other MCData
users.
##### 7.5.2.4.2 Procedure for single MCData system
The procedure in figure 7.5.2.4.2-1 describes the case where a MCData user is
initiating one-to-one data communication for sending file to the other MCData
user, with or without download completed report request.
Pre-conditions:
1\. The MCData users on the MCData client 1 and the MCData client 2 are
already registered for receiving MCData service.
2\. The file to be distributed is uploaded to media storage function on MCData
content server using the procedures defined in subclause 7.5.2.2.
3\. The MCData client may have activated functional alias to be used.
4\. The MCData server has subscribed to the MCData functional alias
controlling server within the MC system for functional alias activation/de-
activation updates.
Figure 7.5.2.4.2-1: One-to-one file distribution using HTTP
1\. The user at the MCData client 1 initiates a file distribution request to
the chosen MCData user.
2\. The MCData client 1 sends a MCData FD request towards the MCData server.
The MCData FD request contains content payload in the form of file URL and may
contain the file metadata information. The MCData FD request contains one
MCData user for one-to-one data communication as selected by the user at
MCData client 1. The MCData FD request contains conversation identifier for
message thread indication. The MCData FD request may include additional
implementation specific information in the application metadata container. If
MCData user at MCData client 1 has requested to mandatory download at the
recipient side, then MCData FD request contains mandatory download indication.
If the MCData user at MCData client has requested to deposit the file content
into his/her MCData message store account, then MCData FD request contains
deposit file indication set. The MCData FD request may contain download
completed report indication if selected by the user at MCData client 1. The
MCData user at MCData client 1 may include a functional alias within the FD
data transfer and may address the target MCData client 2 using a functional
alias.
a) If the MCData user at the MCData client 1 initiates an MCData emergency
file distribution using HTTP or MCData emergency state is already set for the
MCData client 1 (due to previously triggered MCData emergency alert):
i) The MCData FD request shall contain emergency indicator; and
ii) If MCData emergency state is not set already, MCData client 1 sets its
MCData emergency state. The MCData emergency state of MCData client 1 is
retained until explicitly cancelled by the user of MCData client 1.
NOTE 1: While MCData client 1 is in the emergency state, all types of MCData
one-to-one and group communications initiated by MCData client 1 are initiated
as MCData emergency communications.
3\. MCData server checks whether the MCData user at MCData client 1 is
authorized to send MCData FD request and that the size of the file is below
maximum data size for FD from the service configuration. MCData server
verifies whether the provided functional alias of MCData client 1, if present,
can be used and has been activated for the user. If functional alias is used
to address that target MCData user, the MCData server resolves the functional
alias to the corresponding MCData IDs for which the functional alias is active
and proceed with step 4 otherwise proceed with step 6.
NOTE 2: If the MCData server detects that the functional alias used as the
target of the MCData FD request is simultaneously active for multiple MCData
users, then the MCData server can proceed by selecting an appropriate MCData
ID based on some selection criteria. The selection of an appropriate MCData ID
is left to implementation. These selection criteria can include rejection of
the MCData FD request, if no suitable MCData ID is selected.
4\. The MCData server may verify whether the corresponding file is available
in the MCData content server (not shown in the figure) via the MCData-FD-5
reference point using the received file URL in the MCData FD request. For
that, the MCData server sends an MCData file availability request to the
MCData content server. Upon the receipt of the request, the MCData content
server provides an MCData file availability response to the MCData server. If
the MCData server identifies that the corresponding file is not available in
the MCData content server, the MCData server provides a response to the MCData
client 1 indicating that the file distribution request cannot proceed due to
the unavailability of the file in the MCData content server.
5\. The MCData server responds back to MCData client 1 with a functional alias
resolution response message that contains the resolved MCData ID.
6\. If the MCData server replies with a MCData functional alias resolution
response message, the MCData client 1 assumes the MCData FD request in step 2
is rejected and sends a new MCData FD request towards the resolved MCData ID.
7\. MCData server initiates the MCData FD request towards MCData client 2\.
The MCData FD request towards the MCData user contains an emergency indicator
if it is present in the received MCData FD request from MCData client 1. If
the deposit file indication information element is set to true in the received
MCData FD request, MCData server shall follow the procedure as defined in the
subclause 7.13.3.8 with the retrieve file indication element set to true while
depositing this MCData communication to the MCData message store account of
the user at MCData client 1.
NOTE 3: MCData client 2 does not set its emergency state as a result of
receiving the MCData FD request containing the emergency indicator.
8\. The receiving MCData client 2 notifies the user about the incoming MCData
FD request (including file metadata, if present) which may be either accepted
or rejected or ignored.
9\. The MCData user 2 may provide a response (accept or reject) or not
(ignore) to the notification, then MCData client 2 sends the MCData FD
response to the MCData server. The MCData client 2 automatically sends an
accepted MCData FD response when the received request includes a mandatory
download indication.
10\. The MCData server forwards the MCData FD response to the MCData client 1.
11\. The Media storage client on the MCData client 2 downloads the file from
the MCData content server using the procedures defined in subclause 7.5.2.3,
either automatically (for mandatory download) or based upon the MCData user 2
subsequent action. The MCData client 2 records file download completed and
notifies the MCData user 2.
12\. The MCData client 2 provides an MCData download completed report for
reporting file download completed, if requested by the user at MCData client
1.
13\. The received MCData file download completed report from the MCData client
2 may be stored by the MCData server for download history interrogation from
authorized MCData users. The MCData download completed report is sent by the
MCData server to the MCData user at MCData client 1, if requested by the
MCData client 1.
##### 7.5.2.4.3 Procedure with interconnection between MCData systems
The procedure in figure 7.5.2.4.3-1 describes the case where a MCData user
initiates a one-to-one data communication for sending a file to another MCData
user where that other MCData user is receiving MCData service on a partner
MCData system, and where interconnection is in use between the two MCData
systems. In this procedure, the file has not previously been downloaded in the
partner MC system.
Pre-conditions:
1\. The MCData users on the MCData client 1 and the MCData client 2 are
already service authorized and receiving MCData service. MCData client 1 is
receiving service on its primary MCData system, and MCData client 2 is
receiving MCData service in the partner MCData system of MCData client 1.
2\. The file to be distributed has been uploaded to the media storage function
on the MCData content server in the primary MCData system of MCData client 1
using the procedures defined in subclause 7.5.2.2.
3\. There is a service agreement between the primary and partner MCData
systems to allow files to be shared between MCData content servers in the two
systems.
4\. The MCData client may have an activated functional alias to be used.
5\. The MCData server may have subscribed to the MCData functional alias
controlling server within the MC system for functional alias activation/de-
activation updates.
Figure 7.5.2.4.3-1: One-to-one file distribution using HTTP with
interconnection
1\. The user at the MCData client 1 initiates a file distribution request to
the MCData user at MCData client 2.
2\. MCData client 1 sends an MCData FD request towards the primary MCData
server. The MCData FD request contains content payload in the form of a file
URL with the necessary access authorization information and may contain the
file metadata information. The MCData FD request indicates the target MCData
user for the one-to-one data communication. The MCData FD request contains a
conversation identifier for message thread indication. If the MCData user at
MCData client 1 has requested to mandatory download at the recipient side,
then the MCData FD request contains the mandatory download indication. The
MCData FD request may contain a request for a download completed report
indication if selected by the user at MCData client 1. The MCData user at
MCData client 1 may include a functional alias within the FD data transfer and
may address the target MCData client 2 using a functional alias.
3\. MCData server checks whether the MCData user at MCData client 1 is
authorized to send the MCData FD request and that the size of the file is
below maximum data size for FD from the service configuration. MCData server
verifies whether the provided functional alias of MCData client 1, if present,
can be used and has been activated for the user.
4\. The MCData server may verify whether the corresponding file is available
in the MCData content server via the MCData-FD-5 reference point using the
received file URL in the MCData FD request. For that, the MCData server sends
an MCData file availability request to the MCData content server. Upon the
receipt of the request, the MCData content server provides an MCData file
availability response to the MCData server. If the MCData server identifies
that the corresponding file is not available in the MCData content server, the
MCData server provides a response to the MCData client 1 indicating that the
file distribution request cannot proceed due to the unavailability of the file
in the MCData content server.
5\. The MCData server in the primary MCData system initiates the MCData FD
request towards the MCData server in the partner MCData system, which contains
the URL of the file which is stored in the primary MCData content server. The
request includes the necessary access authorization information as MCData
client 2 will retrieve the file while receiving service in the partner MCData
system.
NOTE 1: The contents of and mechanisms to use the authorization information
are outside the scope of the present document.
NOTE 2: With the use of the functional alias for addressing the target MCData
clients, the partner MCData system is to be determined by the primary MCData
system.
6\. If functional alias is used to address that target MCData user, the MCData
server in the partner MCData system resolves the MCData IDs of the functional
alias. The resulting list contains all associated MCData IDs/MCData users that
may share this functional alias. The MCData server in the partner MCData
system now checks which MCData users have FD capabilities and which are
authorized to receive a file. The partner MCData server sends the MCData FD
request to the MCData users determined. The file URL being provided in MCData
FD request to the MCData users determined is prepended with server URI of the
partner MCData content server, such that the URL identifies a file location in
the partner MCData content server.
NOTE 3: Determination of the target MCData client is based on the associated
MCData IDs that share a functional alias and other criteria.
7\. The receiving MCData client 2 may notify the user about the incoming
MCData FD request (including file metadata, if present) which may be either
accepted, rejected or ignored.
8\. The MCData user 2 may provide a response (accept or reject) or not
(ignore) to the notification, then the MCData client 2 sends the MCData FD
response to the partner MCData server. The MCData client 2 automatically sends
an accepted MCData FD response when the received request includes a mandatory
download indication.
9\. The partner MCData server forwards the MCData FD response to the MCData
server in the primary MCData system.
10\. The primary MCData server forwards the MCData FD response to MCData
client 1.
11\. MCData client 2 requests the file from the partner MCData content server.
NOTE 4: Step 11 may occur any time after step 8, before or after steps 9 and
10.
12\. The partner MCData content server checks whether the file is stored
locally, and if this is not the case, sends an MCData file retrieve request to
the primary MCData content server. The MCData file retrieve request contains
the URL of the file location in the primary MCData system, generated by
removing the prepended local path from the requested URL.
NOTE 5: The means of proving authorization for the request is outside the
scope of the present document.
13\. The primary MCData content server responds to the partner MCData content
server with an MCData file retrieve response which contains the content of the
file to be retrieved. File metadata may include the lifetime of the file. The
primary MCData content server records that the file has been sent to the
indicated partner MCData system.
NOTE 6: The partner MCData content server may store the local copy of the file
in case future requests arise until the expiry time sent from primary MCData
system for the file is reached or until a request is received to delete the
file.
14\. The partner MCData content server sends the file to MCData client 2 in
the MCData download data response. MCData client 2 records file download
completed and notifies MCData user 2.
15\. The MCData client 2 provides an MCData download completed report for
reporting file download completed, if this was requested by the user at MCData
client 1 in the initial MCData FD request.
16\. The MCData download completed report is sent to the primary MCData
server. The partner MCData server may store the download completed report for
download history interrogation from authorized MCData users in the partner
MCData system.
17\. The received MCData download completed report is sent by the primary
MCData server to the MCData user at MCData client 1, if requested by the
MCData client 1. The MCData file download completed report from the MCData
client 2 may be stored by the primary MCData server for download history
interrogation from authorized MCData users in the primary MCData system.
#### 7.5.2.5 One-to-one file distribution using media plane
##### 7.5.2.5.1 General
The MCData client uses the media plane for a standalone data file download
from another MCData client. The procedure is appropriate for both mandatory
and non-mandatory download cases. The target MCData user may be addressed
using the functional alias that can be shared with other MCData users.
##### 7.5.2.5.2 Procedure
The procedure in figure 7.5.2.5.2-1 describes the case where an MCData user is
initiating one-to-one data communication for sending file to the other MCData
user, with or without download completed report request.
Pre-conditions:
1\. The MCData users on the MCData client 1 and the MCData client 2 are
already registered for receiving MCData service.
2\. Optionally, the MCData client may have an activated functional alias to be
used.
3\. The MCData server has subscribed to the MCData functional alias
controlling server within the MC system for functional alias activation/de-
activation updates.
Figure 7.5.2.5.2-1: One-to-one file distribution using media plane
1\. The user at the MCData client 1 initiates a file distribution request to
the chosen MCData user.
2\. MCData client 1 sends a MCData FD request towards the MCData server. File
metadata information is included in the SDP. The MCData FD request contains
one MCData user for one-to-one data communication as selected by the user at
MCData client 1. The MCData FD request contains conversation identifier for
message thread indication. The MCData FD request may include additional
implementation specific information in the application metadata container.
MCData FD request may contain mandatory download indication. The MCData FD
request may contain download completed report indication if selected by the
user at MCData client 1. MCData user at MCData client 1 may include a
functional alias within the FD data transfer and may address the target MCData
client 2 using a functional alias.
a) If the MCData user at the MCData client 1 initiates an MCData emergency
file distribution communication or MCData emergency state is already set for
the MCData client 1 (due to previously triggered MCData emergency alert):
i) The MCData FD request shall contain emergency indicator; and
ii) If MCData emergency state is not set already, MCData client 1 sets its
MCData emergency state. The MCData emergency state of MCData client 1 is
retained until explicitly cancelled by the user of MCData client 1.
NOTE 1: While MCData client 1 is in the emergency state, all types of MCData
one-to-one and group communications initiated by MCData client 1 are initiated
as MCData emergency communications.
3\. MCData server checks whether the MCData user at MCData client 1 is
authorized to send MCData FD request. MCData server verifies whether the
provided functional alias of MCData client 1, if present, can be used and has
been activated for the user. If functional alias is used to address that
target MCData user, the MCData server resolves the functional alias to the
corresponding MCData ID(s) for which the functional alias is active and
proceed with step 4 otherwise proceed with step 6.
NOTE 2: If the MCData server detects that the functional alias used as the
target of the MCData FD request is simultaneously active for multiple MCData
users, then the MCData server can proceed by selecting an appropriate MCData
ID based on some selection criteria. The selection of an appropriate MCData ID
is left to implementation. These selection criteria can include rejection of
the MCData FD request, if no suitable MCData ID is selected.
4\. The MCData server responds back to MCData client 1 with a functional alias
resolution response message that contains the resolved MCData ID.
5\. If the MCData server replies with a MCData functional alias resolution
response message, the MCData client 1 assumes the MCData FD request in step 2
is rejected and sends a new MCData FD request towards the resolved MCData ID.
6\. The MCData server also applies transmission and reception control and the
necessary policy to ensure that appropriate data is transmitted between the
MCData UEs.
7\. MCData server initiates the MCData FD request towards the MCData users
determined. The MCData FD request towards the MCData user contains the
emergency indicator if it is present in the received MCData FD request from
MCData client 1.
NOTE 3: MCData client 2 does not set its emergency state as a result of
receiving the MCData FD request containing the emergency indicator.
8\. The receiving MCData client 2 notifies the user about the incoming MCData
FD request which may be either accepted or rejected or ignored. If the request
includes mandatory download indication in the MCData FD request an accepted
response is assumed.
9\. If the target MCData user 2 provides a response (accept or reject) to the
notification, then MCData client 2 sends the MCData FD response to the MCData
server. MCData client 2 automatically sends accepted MCData FD response when
the incoming request included mandatory download indication.
10\. MCData server forwards the MCData FD response from MCData client 2 back
to MCData client 1.
11\. MCData client 1 distributes the file over the established media plane to
MCData server.
12\. MCData server distributes the file received from MCData client 1 to
MCData client 2 over the established media plane. File download report is
shared by the MCData client 2, if requested by the user at MCData client 1.
After file transaction is completed, the media plane is released. The MCData
client 2 records file download completed and notifies MCData user 2.
NOTE 4: MCData server is not required to wait for the complete download of
file from MCData client 1 prior to initiating file distribution to MCData
client 2.
13\. MCData client 2 initiates a MCData download completed report for
reporting file download completed, if requested by the user at MCData client
1.
14\. The MCData file download completed report from MCData client may be
stored by the MCData server for download history interrogation from the
authorized MCData users. MCData download completed report is sent by the
MCData server to the user at MCData client 1.
#### 7.5.2.6 Group standalone file distribution using HTTP
##### 7.5.2.6.1 General
The initiation of a group standalone FD using HTTP to a selected group,
results in affiliated group members receiving the file data.
##### 7.5.2.6.2 Procedure
The procedure in figure 7.5.2.6.2-1 describes the case where a MCData user is
initiating group standalone data communication for sending a file to multiple
MCData users, with or without download completed report request from the
MCData user.
Pre-conditions:
1\. The MCData users on the MCData clients 1 to n belong to the same MCData
group and are already registered for receiving MCData service and affiliated
to the group.
2\. The file to be distributed is uploaded to the media storage function on
the MCData content server using the procedures defined in subclause 7.5.2.2.
3\. The MCData client may have an activated functional alias to be used.
> 4\. The MCData server has subscribed to the MCData functional alias
> controlling server within the MC system for functional alias activation/de-
> activation updates.
Figure 7.5.2.6.2-1: Group standalone FD using HTTP
1\. The user at the MCData client 1 initiates a file distribution request to
multiple MCData users selecting a pre-configured group (identified by MCData
group ID) and optionally particular members from that group.
2\. The MCData client 1 sends a MCData group standalone FD request towards the
MCData server. The MCData FD request contains content payload in the form of
file URL and may contain the file metadata information. The MCData group
standalone data request contains either the selected MCData group ID or the
target recipients as selected by the user at MCData client 1. The MCData group
standalone FD request contains conversation identifier for message thread
indication. The MCData group standalone FD request may include additional
implementation specific information in the application metadata container. If
MCData user at MCData client 1 has requested to mandatory download at the
recipient side, then MCData group standalone FD request contains mandatory
download indication. The MCData group standalone FD request may contain a
download completed report indication if selected by the user at MCData client
1. The MCData user at MCData client 1 may include a functional alias within
the FD data transfer. If the MCData user at MCData client has requested to
deposit the file content into his/her MCData message store account, then
MCData FD request contains deposit file indication set.
If the MCData user at MCData client 1 initiates an MCData emergency FD
communication or the MCData emergency state is already set for the MCData
client 1 (due to a previously triggered MCData emergency alert):
i) the MCData group standalone FD request shall contain an emergency
indicator;
ii) the MCData group standalone FD request shall set an alert indicator if
configured to send an MCData emergency alert while initiating an MCData group
standalone FD request for the emergency FD communication; and
iii) if the MCData emergency state is not set already, MCData client 1 sets
its MCData emergency state. The MCData emergency state of MCData client 1 is
retained until explicitly cancelled by the user of MCData client 1.
NOTE 1: While MCData client 1 is in the emergency state, all types of MCData
one-to-one and group communications initiated by MCData client 1 are initiated
as MCData emergency communications.
If the MCData user at MCData client 1 initiates an MCData imminent peril FD
communication:
i) the MCData group standalone FD request shall contain an imminent peril
indicator.
2a. If either emergency indicator or imminent peril indicator is present in
the received MCData group standalone FD request, the MCData server implicitly
affiliates MCData client 1 to the MCData group if the client is not already
affiliated.
3\. MCData server checks whether the MCData user at MCData client 1 is
authorized to send an MCData group standalone FD request and that the size of
the file is below maximum data size for FD from the group configuration.
MCData server verifies whether the provided functional alias, if present, can
be used and has been activated for the user. If the MCData group ID is used,
the MCData server resolves the MCData group ID to determine the members of
that group and their affiliation status, based on the information from the
group management server.
i) If an emergency indicator is present in the received MCData group
standalone FD request and if the MCData group is not in the in-progress
emergency state, the MCData group is considered to be in the in-progress
emergency state until cancelled; and
NOTE 2: While the MCData group is in the in-progress emergency state, all
types of MCData communications within the group are processed as emergency
group communications by the MCData server. MCData group members that are not
in the emergency state do not indicate emergency in group communication
requests.
ii) If an imminent peril indicator is present in the received MCData group
standalone FD request and if the MCData group is not in the in-progress
imminent peril state, the MCData group is considered to be in the in-progress
imminent peril state until cancelled.
4\. The MCData server may verify whether the corresponding file is available
in the MCData content server (not shown in the figure) via the MCData-FD-5
reference point using the received file URL in the MCData group standalone FD
request. For that, the MCData server sends an MCData file availability request
to the MCData content server. Upon the receipt of the request, the MCData
content server provides an MCData file availability response to the MCData
server. If the MCData server identifies that the file is not available in the
MCData content server, the MCData server provides a response to the MCData
client 1 indicating that the file distribution request cannot proceed due to
the unavailability of the file in the MCData content server and skip rest of
the steps. If the deposit file indication information element is set to true
in the received MCData FD request, MCData server shall follow the procedure as
defined in the subclause 7.13.3.8 with the retrieve file indication element
set to true while depositing this MCData communication to the MCData message
store account of the user at MCData client 1.
5\. MCData server initiates the MCData group standalone FD request towards
each MCData user determined in step 3. The MCData group standalone FD request
towards each MCData client contains:
i) an emergency indicator if it is present in the received MCData group
standalone FD request from the MCData client 1;
ii) an imminent peril indicator if it is present in the received MCData group
standalone FD request from the MCData client 1; and
iii) an alert indicator if requested to initiate an emergency alert in the
received MCData group standalone FD request from the MCData client 1.
6\. The receiving MCData clients 2 to n notify the user about the incoming
MCData group standalone FD request (including file metadata, if present) which
may be either accepted or rejected or ignored.
7\. If the target MCData user on MCData clients 2 to n provides a response
(accept or reject) to the notification, then respective MCData client sends
the MCData group standalone FD response to the MCData server. MCData client 2
to n automatically sends accepted MCData group standalone FD response when the
incoming request included mandatory download indication.
8\. The MCData server forwards the MCData group standalone FD responses to the
MCData client 1.
NOTE 3: Step 8 can occur at any time following step 5, and prior to step 9
depending on the conditions to proceed with the file transmission.
9\. The media storage client on the MCData client(s) accepting the request
downloads the file from the MCData content server (not shown in the figure)
using the procedures defined in subclause 7.5.2.3, either automatically (for
mandatory download) or based upon the MCData user subsequent action. The
MCData clients successfully receiving the file through the media storage
clients, record file download completed and notify the MCData users.
10\. The MCData clients, receiving the file through the media storage client,
provide MCData download completed reports for reporting file download
completed, if requested by the user at MCData client 1.
11\. The MCData file download completed reports from MCData clients may be
stored by the MCData server for download history interrogation from the
authorized MCData users. The MCData file download completed report from each
MCData user may be aggregated.
12\. Aggregated or individual MCData download completed reports are sent by
the MCData server to the MCData user at MCData client 1, if requested by the
MCData client 1.
#### 7.5.2.7 Group standalone file distribution using media plane
##### 7.5.2.7.1 General
The initiation of a group standalone FD using media plane to a selected group,
results in affiliated group members receiving the file data.
##### 7.5.2.7.2 Procedure
The procedure in figure 7.5.2.7.2-1 describes the case where an MCData user is
initiating group standalone data communication for sending file to multiple
MCData users, with or without download completed report request.
Pre-conditions:
1\. The MCData users on the MCData client 1 to n belong to the same group and
are already registered for receiving MCData service and affiliated.
> 2\. Optionally, the MCData client may have an activated functional alias to
> be used.
3\. The MCData server has subscribed to the MCData functional alias
controlling server within the MC system for functional alias activation/de-
activation updates.
Figure 7.5.2.7.2-1: Group standalone FD using media plane
1\. The user at the MCData client 1 initiates a file distribution request to
multiple MCData users selecting a pre-configured group (identified by MCData
group ID) and optionally particular members from that group.
2\. MCData client 1 sends a MCData group standalone FD request towards the
MCData server. File metadata information is included in the SDP. The MCData
group standalone data request contains target recipient(s) as selected by the
user at MCData client 1. The MCData group standalone FD request contains
conversation identifier for message thread indication. The MCData group
standalone FD request may include additional implementation specific
information in the application metadata container. MCData group standalone FD
request may contain mandatory download indication. The MCData group standalone
FD request may contain download completed report indication if selected by the
user at MCData client 1. MCData user at MCData client 1 may include a
functional alias within the FD data transfer.
If the MCData user at MCData client 1 initiates an MCData emergency file
distribution communication or the MCData emergency state is already set for
the MCData client 1 (due to a previously triggered MCData emergency alert):
i) the MCData group standalone FD request shall contain an emergency
indicator;
ii) the MCData group standalone FD request shall set an alert indicator if
configured to send an MCData emergency alert while initiating an MCData group
standalone FD request for the emergency file distribution service
communication; and
iii) if the MCData emergency state is not set already, MCData client 1 sets
its MCData emergency state. The MCData emergency state is retained until
explicitly cancelled.
NOTE 1: While MCData client 1 is in the emergency state, all types of MCData
one-to-one and group communications initiated by MCData client 1 are initiated
as MCData emergency communications.
If the MCData user at MCData client 1 initiates an MCData imminent peril file
distribution communication:
i) the MCData group standalone FD request shall contain an imminent peril
indicator.
2a. If either emergency indicator or imminent peril indicator is present in
the received MCData group standalone data request, the MCData server
implicitly affiliates MCData client 1 to the MCData group if the client is not
already affiliated.
3\. MCData server checks whether the MCData user at MCData client 1 is
authorized to send MCData group standalone FD request. MCData server verifies
whether the provided functional alias, if present, can be used and has been
activated for the user. The MCData server resolves the MCData group ID to
determine the members of that group and their affiliation status, based on the
information from the group management server.
i) If an emergency indicator is present in the received MCData group
standalone FD request and if the MCData group is not in the in-progress
emergency state, the MCData group is considered to be in the in-progress
emergency state until cancelled; and
NOTE 2: While the MCData group is in the in-progress emergency state, all
types of MCData communications within the group are processed as emergency
group communications by the MCData server. MCData group members that are not
in the emergency state do not indicate emergency in group communication
requests.
ii) If an imminent peril indicator is present in the received MCData group
standalone FD request and if the MCData group is not in the in-progress
imminent peril state, the MCData group is considered to be in the in-progress
imminent peril state until cancelled.
4\. The MCData server also applies transmission and reception control and the
necessary policy to ensure that appropriate data is transmitted between the
MCData UEs.
5\. MCData server initiates the MCData group standalone FD request towards
each MCData user determined in step 3. The MCData group standalone data
request towards each MCData client contains:
i) an emergency indicator if it is present in the received MCData group
standalone FD request from the MCData client 1;
ii) an imminent peril indicator if it is present in the received MCData group
standalone FD request from the MCData client 1; and
iii) an alert indicator if requested to initiate an emergency alert in the
received MCData group standalone FD request from the MCData client 1.
6\. The receiving MCData clients 2 to n notifies the user about the incoming
MCData group standalone FD request which may be either accepted or rejected or
ignored. If the request includes mandatory download indication in the MCData
group standalone FD request an accepted response is assumed.
7\. If the target MCData user on MCData clients 2 to n provides a response
(accept or reject) to the notification, then the respective MCData client
sends the MCData group standalone FD response to the MCData server. MCData
client 2 to n automatically sends accepted MCData group standalone FD response
when the incoming request included mandatory download indication.
8\. MCData server forwards the MCData group standalone FD response to the
MCData client 1.
NOTE 3: Step 8 can occur at any time following step 5, and prior to step 9
depending on the conditions to proceed with the file transmission.
9\. MCData client 1 and MCData server have successfully established media
plane for file transmission and the MCData client 1 transmits the file data.
10\. MCData server distributes the file received from MCData client 1 to
MCData clients 2 to n over the established media plane. Distribution of file
can be via unicast or via MBMS bearer(s). For distribution via MBMS bearer(s),
the procedure described in subclause 7.3 Use of MBMS transmission (on-network)
is executed. File download report is shared by the receiving MCData clients,
if requested by the user at MCData client 1\. After file transaction is
completed, the media plane is released.
NOTE 4: MCData server is not required to wait for the complete download of
file from MCData client 1 prior to initiating file distribution to MCData
client 2.
11\. The MCData clients successfully receiving the file, records file download
completed and notifies MCData user.
12\. MCData client 2 initiates a MCData download completed report for
reporting file download completed, if requested by the user at MCData client
1.
13\. The MCData file download completed report(s) from MCData client(s) may be
stored by the MCData server for download history interrogation from the
authorized MCData users. The MCData file download completed report from each
MCData user may be aggregated.
14\. Aggregated or individual MCData file download completed report is sent to
the disposition requesting user at MCData client 1.
#### 7.5.2.8 File removal using HTTP by authorized user
##### 7.5.2.8.1 General
The media storage client uses HTTP to remove a file that was previously
uploaded to the MCData content server.
##### 7.5.2.8.2 Procedure for single MCData system
The procedure in figure 7.5.2.8.2-1 describes the case where a MCData user is
removing the file that was previously uploaded to the MCData content server.
Pre-conditions:
1\. The MCData user on the media storage client is registered for receiving
MCData service.
2\. The file has been successfully uploaded by the MCData user using the
procedures defined in subclause 7.5.2.2.
3\. The MCData content server has the ability to verify if the requesting
MCData user is authorised to remove.
Figure 7.5.2.8.2-1: File removal using HTTP by authorised user
1\. The user on the media storage client decides to remove a file that was
previously uploaded.
2\. The URL of the file to be removed is included in the request sent to the
media storage function on the MCData content server.
3\. The MCData content server remove the file indicated by the URL.
4\. The MCData content server informs the media storage client if the file is
successfully removed.
Editor\'s note: It is FFS if and how the recipients of the file URL need to be
notified if the file is no longer available to be downloaded.
##### 7.5.2.8.3 Procedure for interconnection between MCData systems
The procedure in figure 7.5.2.8.3-1 describes the case where an MCData user
removes the file that was previously uploaded to the primary MCData system
MCData content server, and where the file has been made available in the
partner MCData system MCData content server.
Pre-conditions:
1\. The MCData user on the media storage client is registered for receiving
MCData service.
2\. The file has previously been uploaded to the MCData content server in the
primary MCData system of MCData client 1.
3\. The file has been successfully transferred to the MCData content server in
the partner MCData system.
Figure 7.5.2.8.3-1: File removal using HTTP by authorized user
1\. The user on the media storage client decides to remove a file that was
previously uploaded.
2\. The URL of the file to be removed is included in the request sent to the
media storage function on the primary MCData content server.
3\. The primary MCData content server removes the file indicated by the URL.
NOTE: Step 3 may occur at any time following step 2 and before step 6.
4\. As the primary MCData content server has recorded that the file has
previously been sent to the partner MCData system, the primary MCData content
server sends the MCData remove file request by user to the partner MCData
content server, containing the URL of the file which was stored on the primary
MCData content server.
5\. The partner MCData content server removes the file indicated by the URL.
6\. The partner MCData content server informs the primary MCData content
server that the file has been successfully removed.
7\. The primary MCData content server informs the media storage client if the
file is successfully removed.
> Editor\'s note: It is FFS if and how the recipients of the file URL need to
> be notified if the file is no longer available to be downloaded
#### 7.5.2.9 Void
#### 7.5.2.10 Group standalone file distribution using the MBMS download
delivery method
##### 7.5.2.10.1 General
The initiation of a group standalone FD to a selected group results in
affiliated group members receiving the file data over MBMS.
The first steps of the procedure are identical to the procedure Group
standalone file distribution using HTTP (7.5.2.6). Based on the density and
distribution of target group members, the MCData server may decide to deliver
the file over MBMS.
The MBMS download delivery method is described in clause 7 of 3GPP TS 26.346
[21].
##### 7.5.2.10.2 Procedure
The procedure in figure 7.5.2.10.2-1 describes the case where a MCData user is
initiating group standalone data communication for sending a file to multiple
MCData users, with or without download completed report request.
Pre-conditions:
1\. The MCData users on the MCData client 1 to n belong to the same group and
are already registered for receiving MCData service and affiliated.
2\. The file to be distributed is uploaded to the media storage function on
the MCData content server using the procedure defined in subclause 7.5.2.2.
Figure 7.5.2.10.2-1: Group standalone FD using the MBMS download delivery
method
1-3. Steps 1-3 are the same as in the procedure for Group standalone FD using
HTTP (7.5.2.6).
4\. The MCData server executes the procedure described in subclause 7.3.5. The
MCData server defines, in the MBMS session properties (subclause 5.4 of 3GPP
TS 26.348 [19]), the ingest mode to provide the file into the BMâ€‘SC via xMBâ€‘U.
As described in clause 7.3.5.3.3, the MCData server decides how the file
stored in the MCData content server is provided for distribution over the MBMS
session.
If the pull ingest mode is defined, the MCData server may provide in this step
the file list. As described in 3GPP TS 26.348 [19], the file list includes,
among other information, the file URL to be used by the BMâ€‘SC to fetch the
file and the earliest fetch time. The earliest fetch time may be configured
with a long enough delay so that the MBMS session is established and steps 6
to 8 are executed before the delivery over MBMS. The MCData server can also
update the MBMS session with the file list in a later step.
If the push ingest mode is defined, the MCData server obtains the URL from the
BMâ€‘SC to be used to push the file via xMBâ€‘U. The MCData server ingests the
content into the BMâ€‘SC after the MBMS session is established and steps 6 to 8
are performed.
5\. The MCData server initiates the MCData group standalone FD over MBMS
request towards each MCData user determined in step 3. The request is sent
over unicast or within an MBMS bearer for application level control
signalling.
6\. The receiving MCData clients 2 to n notify the users about the incoming
MCData group standalone FD request (including file metadata, if present).
7\. The MCData clients 2 to n automatically send accepted MCData group
standalone FD response when the incoming request included mandatory download
indication.
NOTE 1: When the UE is in idle mode, MCData clients may skip step 8.
NOTE 2: If the pull ingest mode was defined in step 5 and the file list has
not been provided yet, the MCData server updates the MBMS session with the
file list. If the push ingest mode was defined, the MCData server can start
pushing the file for distribution over MBMS.
8\. The MCData server forwards the MCData group standalone FD responses to the
MCData client 1.
NOTE 3: Step 8 can occur at any time following step 6, and prior to step 10
depending on the conditions to proceed with the file transmission.
9\. The MCData clients receive the file delivered over MBMS.
10\. If losses occurred during the file delivery over MBMS, the MCData clients
may download the missing parts using the procedures defined in subclause
7.5.2.3.
NOTE 4: If the file is not successfully received over MBMS, e.g. due to a poor
MBMS reception quality, the media storage client of the MCData client(s) can
download the file using the procedure defined in subclause 7.5.2.3.
11\. The MCData clients, after reception, initiate MCData download completed
reports for reporting file download completed, if requested by the user at
MCData client 1.
12\. The MCData file download completed reports from the MCData clients may be
stored by the MCData server for download history interrogation from authorized
MCData users. The MCData file download completed report from each MCData user
may be aggregated.
13\. Aggregated or individual MCData download completed reports are sent by
the MCData server to the MCData user at MCData client 1.
#### 7.5.2.11 One-to-one FD communication upgrade to an emergency FD
communication
##### 7.5.2.11.1 General
This clause is for adding procedures related to upgrading an existing one-to-
one FD communication to an emergency one-to-one FD communication.
##### 7.5.2.11.2 Procedure
The procedure in figure 7.5.2.11.2-1 describes the case where an authorized
MCData user is upgrading a MCData one-to-one FD communication to a MCData
emergency one-to-one FD communication. This procedure is applicable only when
MCData one-to-one file distribution communication is established as described
in subclause 7.5.2.5 \"One-to-one file distribution using media plane\".
Pre-conditions:
1\. Both members of the one-to-one FD communication belong to the same MCData
system.
2\. One-to-one FD communication is already in progress.
Figure 7.5.2.11.2-1 One-to-one FD communication upgrade to an emergency one-
to-one FD communication
1\. The MCData user at MCData client 1 initiates an emergency. MCData client 1
sets its MCData emergency state. The MCData emergency state of MCData client
is retained until explicitly cancelled by the user of MCData client 1.
NOTE 1: While MCData client 1 is in the emergency state, all types of MCData
one-to-one and group communications initiated by MCData client 1 are initiated
as MCData emergency communications.
2\. MCData client 1 requests the MCData server to upgrade the MCData one-to-
one FD communication to in-progress emergency by sending a MCData one-to-one
FD upgrade request.
3\. The MCData server sends the MCData one-to-one FD upgrade request towards
MCData client 2.
NOTE 2: MCData client 2 does not set its emergency state as a result of
receiving the MCData one-to-one FD upgrade request containing the emergency
indicator.
4\. The MCData user of MCData client 2 is notified of the in-progress
emergency of the MCData emergency one-to-one FD communication.
5\. The MCData client 2 acknowledges the MCData one-to-one FD upgrade request
and sends MCData one-to-one FD upgrade response to the MCData server.
6\. The MCData server adjusts the priority of the underlying bearer for both
participants of the MCData one-to-one FD communication. The priority is
retained until the communication ends.
7\. The MCData server sends MCData one-to-one FD upgrade response to MCData
client 1.
8\. MCData client 1 and MCData client 2 continue with the MCData one-to-one FD
communication, which has been transformed into an MCData emergency one-to-one
FD communication.
#### 7.5.2.12 Group FD communication upgrade to an emergency group FD
communication
##### 7.5.2.12.1 General
This clause is for adding procedures related to upgrading an existing MCData
group FD communication to an MCData emergency group FD communication.
##### 7.5.2.12.2 Procedure
The procedure in figure 7.5.2.12.2-1 describes the case where an authorized
MCData user is upgrading an onging MCData group FD communication to an MCData
emergency group FD communication. This procedure is applicable only when group
MCData FD communication is established as described in subclause 7.5.2.7
\"Group standalone file distribution using media plane\".
NOTE 1: For simplicity, a single MCData server is shown in place of a user
home MCData server and a group hosting MCData server.
Pre-conditions:
1\. The MCData group is previously defined on the group management server with
MCData client 1, MCData client 2 and MCData client 3 are affiliated to that
MCData group.
2\. All members of the MCData group belong to the same MCData system.
3\. An MCData group FD communication is already in progress.
4\. The initiating MCData client 1 has been configured to send an MCData
emergency alert when upgrading an MCData emergency group communication.
Figure 7.5.2.12.2-1: MCData group FD communication upgraded to an MCData
emergency group FD communcation
1\. The MCData user at MCData client 1 initiates a group emergency. MCData
client 1 sets its MCData emergency state. The MCData emergency state of MCData
client 1 is retained until explicitly cancelled by the user of MCData client
1.
NOTE 2: While MCData client 1 is in the emergency state, all types of MCData
one-to-one and group communications initiated by MCData client 1 are initiated
as MCData emergency communications.
2\. MCData client 1 requests the MCData server to upgrade the MCData group to
an in-progress emergency state by sending a MCData group FD upgrade request.
The MCData client 1 sets the emergency indicator in the request. If configured
to send an MCData alert when initiating an MCData emergency upgrade, the
request also contains an indication that an MCData alert is to be initiated.
3\. The MCData server sets the emergency state of the MCData group and adjusts
the priority of the underlying bearer for all or selected participants in the
MCData group FD communication that receive the communication over unicast.
NOTE 3: The determination of the selected participants whose bearers have to
be upgraded is left to implementation.
NOTE 4: While the MCData group is in the in-progress emergency state, all
types of MCData communications within the group are processed as emergency
group communications by the MCData server. MCData group members that are not
in the emergency state do not indicate emergency in group communication
requests.
4\. MCData server sends the MCData group FD upgrade request towards the MCData
clients of each of those affiliated MCData group members. The request contains
an indication of an MCData emergency alert if the request from the originator
indicated MCData emergency alert.
5\. MCData users are notified of the in-progress emergency state of the MCData
group.
6\. The receiving MCData clients send the MCData group FD upgrade response to
the MCData server to acknowledge the MCData group emergency request. For a
multicast call, these acknowledgements are not sent.
7\. The MCData server sends the MCData group FD upgrade response to the MCData
user 1 to confirm the upgrade request.
NOTE 5: Step 7 can occur at any time following step 3, depending on the
conditions to proceed with the call.
MCData client 1, MCData client 2 and MCData client 3 continue with the MCData
group FD communication, which has been transformed into an MCData emergency
group FD communication.
#### 7.5.2.13 Group FD communication in-progress emergency group state cancel
##### 7.5.2.13.1 General
This clause describes procedures related to an MCData in-progress emergency
group state cancel. The emergency state of the group can also be cancelled by
the group SDS in-progress emergency state cancellation procedure in subclause
7.4.2.10.2, or by the emergency alert cancellation procedure specified in 3GPP
TS 23.280 [16], subclause 10.10.1.2.2.2.
##### 7.5.2.13.2 Procedure
The procedure in figure 7.5.2.13.2-1 describes the case where an authorized
MCData user cancels MCData group\'s in-progress emergency.
Pre-conditions:
1\. The MCData group is previously defined on the group management server with
MCData client 1, MCData client 2 and MCData client 3 affiliated to that MCData
group.
2\. All members of the MCData group belong to the same MCData system.
3\. MCData group members have been notified about the in-progress emergency.
4\. The MCData group is in the in-progress emergency state and has prioritized
bearer support.
5\. MCData client 1 previously initiated the in-progress emergency for the
group.
Figure 7.5.2.13.2-1: MCData group FD in-progress emergency group state cancel
1\. The user at the MCData client 1 initiates an MCData group FD in-progress
emergency group state cancel.
NOTE 1: An MCData user authorized to cancel in-progress emergencies on the
MCData group can also be authorised to cancel the MCData emergency alert in
addition to the initiator. However, only the initiator can cancel the
initiator\'s local MCData emergency state.
2\. The MCData client 1 sends an MCData group FD in-progress priority state
cancel request to the MCData server. The MCData client 1 also resets emergency
indicator in the request to inform MCData server about cancellation of in-
progress emergency group state.
NOTE 2: If an MCData emergency alert relating to MCData client 1 is in effect
together with an MCData in-progress emergency group state on the MCData group,
the MCData emergency alert of MCData client 1 can be cancelled at the same
time. In that case, the MCData group FD in-progress priority group state
cancel request carries an indication that the emergency alert of MCData client
1 is also being cancelled.
NOTE 3: If an MCData group FD in-progress priority state cancel request is
received by the MCData server while a group member that is in the emergency
state is transmitting, the MCData group FD in-progress priority state cancel
request is rejected by the MCData server.
3\. The MCData server adjusts the priority of the underlying bearer; priority
treatment is no longer required. The MCData server cancels/resets the
emergency in-progress state of the MCData group.
4\. The MCData server sends an MCData group FD in-progress priority state
cancel request to the MCData group members.
5\. MCData group members are notified of the MCData group FD in-progress
emergency state cancel.
6\. The receiving MCData clients send the MCData group FD in-progress priority
state cancel response to the MCData server to acknowledge the MCData in-
progress emergency group state cancel. For a multicast call scenario, these
acknowledgements are not sent.
7\. The MCData server sends the MCData group FD in-progress priority state
cancel response to the MCData user 1 to confirm the MCData in-progress
emergency group state cancel. If the MCData in-progress emergency group state
cancel request (in step 2) contained the \"Alert indicator\" IE, the MCData
client 1 resets its local emergency status.
NOTE 4: Step 7 can occur at any time following step 3, depending on the
conditions to proceed with the call.
#### 7.5.2.14 Group FD communication upgrade to an imminent peril group FD
communication
##### 7.5.2.14.1 General
This clause is for adding procedures related to an imminent peril group FD
communication.
##### 7.5.2.14.2 Procedure
This procedure is applicable only when group MCData communication is
established as described in subclause 7.5.2.7 \"Group standalone file
distribution using media plane\". The MCData service shall support the
procedures and related information flows as specified in subclause 7.5.2.12
\"Group FD communication upgrade to an emergency group FD communication\" with
the following clarifications:
\- In step 2), the MCData client 1 sets the imminent peril indicator;
\- In step 3), the bearers\' priority is adjusted as necessary, to correspond
to an imminent peril priority which could be different than the setting used
in the procedure in subclause 7.5.2.12; and
\- In step 5), MCData users are notified of the in-progress imminent peril
state of the MCData group.
#### 7.5.2.15 Group FD communication in-progress imminent peril group state
cancel
##### 7.5.2.15.1 General
This clause is for adding procedures related to an imminent peril group state
cancel.
##### 7.5.2.15.2 Procedure
The MCData service shall support the procedures and related information flows
as specified in subclause 7.5.2.13 \"Group FD communication in-progress
emergency group state cancel\" with the following clarifications:
\- In step 2), the MCData client 1 sets the imminent peril indicator; and
\- In step 5), MCData users are notified of the in-progress imminent peril
state cancel.
### 7.5.3 File distribution for off-network
#### 7.5.3.1 General
Off-network file distribution communications are based on ProSe capabilities
as described in clause 7.16.
#### 7.5.3.2 Information flows for file distribution
##### 7.5.3.2.1 MCData FD request (using media plane)
Table 7.5.3.2.1-1 describes the information flow for the MCData FD request
sent from the MCData client to another MCData client.
Table 7.5.3.2.1-1: MCData FD request (using media plane)
* * *
Information element Status Description MCData ID M The identity of the MCData
user sending the file MCData ID M The identity of the MCData user receiving
the file Conversation Identifier M Identifies the conversation Transaction
Identifier M Identifies the MCData transaction Reply Identifier O Identifies
the original MCData transaction to which the current transaction is a reply to
Disposition indication O Indicates whether file download completed report is
expected or not Download indication O Indicates mandatory download. (i.e. auto
accept this media plane setup request) Application metadata container O
Implementation specific information that is communicated to the recipient SDP
offer (see NOTE) M Media parameters offered NOTE: Includes file metadata.
* * *
##### 7.5.3.2.2 MCData FD response (using media plane)
Table 7.5.3.2.2-1 describes the information flow for the MCData FD response
sent from the MCData client to another MCData client.
Table 7.5.3.2.2-1: MCData FD response (using media plane)
* * *
Information element Status Description MCData ID M The identity of the MCData
user sending FD request MCData ID M The identity of the MCData user sending
response Conversation Identifier M Identifies the conversation SDP answer M
Media parameters selected Acceptance confirmation M An indication whether the
client has positively accepted the request
* * *
##### 7.5.3.2.3 MCData download completed report
Table 7.5.3.2.3-1 describes the information flow for the MCData download
completed report sent from the MCData client to another MCData client.
Table 7.5.3.2.3-1: MCData download completed report
* * *
Information element Status Description MCData ID M The identity of the MCData
user sending FD request MCData ID M The identity of the MCData user sending
response Conversation Identifier M Identifies the conversation Transaction
Identifier M Identifies the MCData transaction Disposition association M
Identifies the original MCData transaction Disposition confirmation M An
indication that the client has completed downloading file
* * *
##### 7.5.3.2.4 MCData group standalone FD request (using media plane)
Table 7.5.3.2.4-1 describes the information flow for the MCData group
standalone FD request sent from the MCData client to another MCData client.
Table 7.5.3.2.4-1: MCData group standalone FD request (using media plane)
* * *
Information element Status Description MCData ID M The identity of the MCData
user sending the file MCData group ID M The MCData group ID to which the data
is to be sent Conversation Identifier M Identifies the conversation
Transaction Identifier M Identifies the MCData transaction Reply Identifier O
Identifies the original MCData transaction to which the current transaction is
a reply to Disposition indication O Indicates whether file download completed
report is expected or not Download indication O Indicates mandatory download.
(i.e. auto accept this media plane setup request) Application metadata
container O Implementation specific information that is communicated to the
recipient SDP offer (see NOTE) M Media parameters offered NOTE: Includes file
metadata.
* * *
##### 7.5.3.2.5 MCData group standalone FD response (using media plane)
Table 7.5.3.2.5-1 describes the information flow for the MCData group
standalone FD response sent from the MCData client to another MCData client.
Table 7.5.3.2.5-1: MCData group standalone FD response (using media plane)
* * *
Information element Status Description MCData ID M The identity of the MCData
user sending FD request MCData group ID M The MCData group ID to which the
file is to be sent MCData ID M The identity of the MCData user sending
response Conversation Identifier M Identifies the conversation SDP answer M
Media parameters selected Acceptance confirmation M An indication whether the
client has positively accepted the request
* * *
#### 7.5.3.3 One-to-one standalone file distribution using media plane
##### 7.5.3.3.1 General
The MCData client uses media plane for a standalone FD download from another
MCData client in off-network.
##### 7.5.3.3.2 Procedure
Figure 7.5.3.3.2-1 describes procedures for an off-network MCData client 1
initiating one-to-one MCData data communication for sending standalone FD data
to other MCData client, with or without download completed report request.
Pre-conditions:
1\. MCData user 1 has initiated communication for sending standalone FD data
to other MCData user 2.
2\. MCData client 1 and MCData client 2 are members of the same ProSe
Discovery group and are ProSe 1:1 direct communication capable.
3\. MCData client 1 has discovered MCData client 2 in proximity, associated
with MCData user 2, using ProSe Discovery procedures.
Figure 7.5.3.3.2-1: One-to-one standalone file distribution using media plane
1\. MCData client 1 sends a MCData FD request towards the MCData client 2\.
File metadata information is included in the SDP. The MCData FD request
contains one MCData user for one-to-one data communication as selected by the
user at MCData client 1. The MCData FD request contains conversation
identifier for message thread indication. The MCData FD request may include
additional implementation specific information in the application metadata
container. MCData FD request may contain mandatory download indication. The
MCData FD request may contain download completed report indication if selected
by the user at MCData client 1.
2\. On receiving a MCData FD request, the MCData client 2 checks whether any
policy is to be asserted to limit certain types of message or content to
certain members, for example, due to location or user privilege.
3\. The receiving MCData client 2 notifies the user about the incoming MCData
FD request which may be either accepted or rejected or ignored. MCData user
may not be sought consent if the request includes mandatory download
indication in the MCData FD request and instead only notify the MCData user
about file downloading.
4\. If the target MCData user 2 provides a response (accept or reject) to the
notification, then the MCData client 2 sends the MCData FD response to the
MCData client 1. MCData client 2 automatically sends accepted MCData FD
response when the incoming request included mandatory download indication.
5\. MCData client 1 distributes the file over the established media plane to
MCData client 2.
6\. The MCData client 2 records file download completed and notifies MCData
user 2. MCData client 2 initiates a MCData download completed report for
reporting file download completed, if requested by the user at MCData client
1.
#### 7.5.3.4 Group standalone file distribution using media plane
##### 7.5.3.4.1 General
The initiation of a group standalone FD to a selected group results in off-
network MCData group members receiving the file data.
##### 7.5.3.4.2 Procedure
Figure 7.5.3.4.2-1 describes procedures for an off-network MCData client 1
initiating group MCData data communication for sending FD data to a MCData
group, with or without download completed report request.
Pre-conditions:
1\. MCData user 1 has initiated group communication for sending FD data to the
MCData group.
2\. Information for ProSe direct communications corresponding to the MCData
group and its mapping to ProSe Layer-2 Group ID are pre-configured in MCData
client 1.
3\. MCData client 1 to MCData client N are members of the same MCData group.
Figure 7.5.3.4.2-1: Group standalone file distribution using media plane
1\. MCData client 1 sends a MCData FD request towards the MCData group. File
metadata information is included in the SDP. The MCData group standalone data
request contains MCData group ID as selected by the user at MCData client 1.
The MCData group standalone FD request contains conversation identifier for
message thread indication. The MCData group standalone FD request may include
additional implementation specific information in the application metadata
container. MCData group standalone FD request may contain mandatory download
indication. The MCData group standalone FD request may contain download
completed report indication if selected by the user at MCData client 1.
2\. On receiving a MCData FD request, the MCData clients check whether any
policy is to be asserted to limit certain types of message or content to
certain members, for example, due to location or user privilege.
3\. If the policy assertion is positive, the receiving MCData clients 2 to n
notifies the user about the incoming MCData group standalone FD request which
may be either accepted or rejected or ignored. MCData user may not be sought
consent if the request includes mandatory download indication in the MCData
group standalone FD request and instead only notify the MCData user about file
downloading.
4\. If the target MCData user on MCData clients 2 to n provides a response
(accept or reject) to the notification, then the respective MCData client
sends the MCData group standalone FD response to the MCData client 1. MCData
client 2 to n automatically sends accepted MCData group standalone FD response
when the incoming request included mandatory download indication.
> 5\. MCData client 1 and MCData client 2 to n have successfully established
> media plane for file transmission and the MCData client 1 transmits the file
> data.
>
> 6\. The MCData client 2 to n successfully receiving the file, records file
> download completed and notifies MCData users.
>
> 7\. MCData client 2 to n initiate a MCData download completed report for
> reporting file download completed, if requested by the user at MCData client
> 1.
## 7.6 Transmission and reception control
### 7.6.1 General
Based on the configurations (available in MCData user profile, group
configuration and service configuration), the MCData transmission and
reception control provides a necessary capability for an authorized user of
the MCData service to transmit, receive notification messages due to various
trigger conditions, advocates reception mode and terminate transmission when
there is no longer a need to transmit. The subclauses below describe the
transmission and reception control procedures using signalling control plane.
### 7.6.2 Transmission and reception control for on-network
#### 7.6.2.1 Information flows for transmission and reception control
##### 7.6.2.1.1 MCData control indication
Table 7.6.2.1.1-1 describes the information flow for the MCData control
indication sent from the MCData server to the MCData client.
Table 7.6.2.1.1-1: MCData control indication
+-------------------------+--------+-----------------------------+ | Information element | Status | Description | +-------------------------+--------+-----------------------------+ | MCData ID | M | The identity of the MCData | | | | user towards which the | | | | control indication is sent | +-------------------------+--------+-----------------------------+ | Conversation Identifier | M | Identifies the conversation | +-------------------------+--------+-----------------------------+ | Transaction Identifier | M | Identifies the MCData | | | | transaction | +-------------------------+--------+-----------------------------+ | Control indication type | M | One of the following: | | | | | | | | - No permission to | | | | transmit data | | | | | | | | - No affiliated members | | | | found to the selected | | | | MCData group | | | | | | | | - Rejected due to | | | | exceeding data transmit | | | | size | | | | | | | | - Rejected due to | | | | exceeding data transmit | | | | time | | | | | | | | - Request to transmit is | | | | queued | +-------------------------+--------+-----------------------------+
##### 7.6.2.1.2 MCData indication
Table 7.6.2.1.2-1 describes the information flow for the MCData indication
sent from the MCData server to the MCData client.
Table 7.6.2.1.2-1: MCData indication
* * *
Information element Status Description MCData ID M The identity of the MCData
user towards which the MCData indication is sent Conversation Identifier M
Identifies the conversation Transaction Identifier M Identifies the MCData
transaction Deferred data list M List of references to deferred data awaiting
download
* * *
##### 7.6.2.1.3 MCData get deferred list request
Table 7.6.2.1.3-1 describes the information flow for the MCData get deferred
list request sent from the MCData client to the MCData server.
Table 7.6.2.1.3-1: MCData get deferred list request
* * *
Information element Status Description MCData ID M The identity of the MCData
user requesting deferred list
* * *
##### 7.6.2.1.4 MCData get deferred list response
Table 7.6.2.1.4-1 describes the information flow for the MCData get deferred
list response sent from the MCData server to the MCData client.
Table 7.6.2.1.4-1: MCData get deferred list response
* * *
Information element Status Description MCData ID M The identity of the MCData
user requesting deferred list Deferred data list M List of references to
deferred data awaiting download
* * *
#### 7.6.2.2 Automatic transmission for SDS
##### 7.6.2.2.1 General
When SDS message is sent, the data is transferred from the sending MCData
client to the receiving MCData client without any request/grant procedure or
any explicit actions on the part of the receiving MCData client.
##### 7.6.2.2.2 Procedure
The procedure in figure 7.6.2.2.2-1 describes the case where MCData SDS is
automatically transmitted to the selected recipient user or affiliated members
of the selected MCData group.
Pre-conditions:
1\. MCData user is configured with permission to transmit data.
2\. Optionally, MCData client may have an activated functional alias to be
used.
3\. The MCData server may have subscribed to the MCData functional alias
controlling server within the MC system for functional alias activation/de-
activation updates.
Figure 7.6.2.2.2-1: Automatic transmission for SDS
1\. MCData user selects the data to transmit and the recipient MCData user or
MCData group. The MCData user at MCData client 1 may include a functional
alias used within the SDS data transmission.
2\. MCData client checks for MCData user\'s permission to transmit data and
checks if the data size is less than the maximum data size for SDS. MCData
client calculates the total transmission request size and determines to select
one of the appropriate procedures described in subclause 7.4.2.2, 7.4.2.3,
7.4.2.5 or 7.4.2.6.
3\. Transmission control on the MCData server verifies if the MCData user is
authorized to transmit and the data size in the received transmission request
does not exceed the maximum data size for SDS. MCData server verifies whether
the provided functional alias, if present, can be used and has been activated
for the MCData user.
4\. MCData server may send one of the following MCData control indications:
a) If the MCData user does not have permission to transmit data to another
MCData user or MCData group then the \"No permission to transmit data\"
control indication is sent.
b) If the selected transmission is for a MCData group and there are no
affiliated group members, then the transmission control on MCData server sends
the \"No affiliated members found to the selected MCData group\" control
indication.
c) MCData server may queue the data transmit request for later transmission
with control indication \"Request to transmit is queued\".
Otherwise continue with step 5.
5\. MCData server automatically transmits the data and, if available, the
functional alias of the originating MCData client 1 to the selected MCData
user or the affiliated members or all group members (in the case of lossless
communication) of the selected MCData group according to the procedures
selected in step 2.
6\. The MCData server may store the data in temporary storage (e.g. if the
recipient is not available at the time of data delivery or network congestion
or data deferred by the user) and may send MCData indication to notify the
recipient of available data for retrieval:
a) If the timer expired for periodic announcement with the list of available
recently invited data communications, the recipient MCData client waiting to
receive the temporarily stored data receives MCData indication with the list
of available temporarily stored data waiting to download in the Deferred data
list .
b) If the temporarily stored data is expired, the data may be purged from the
temporary store and the recipient MCData user may be informed in MCData
indication with \"Data expired and not available to download anymore\" in the
Deferred data list.
#### 7.6.2.3 Send data with mandatory download
##### 7.6.2.3.1 General
The mandatory download procedure allows a sending MCData client to send data
to a receiving MCData client, where the receiving MCData client is compelled
to download the data.
##### 7.6.2.3.2 Procedure
The procedure in figure 7.6.2.3.2-1 describes the case where MCData user is
using FD. The FD is subjected to transmission control prior to transmitting
data to the selected recipient user or affiliated members of the selected
MCData group for mandatory download.
Pre-conditions:
1\. MCData user is configured with permission to transmit data.
2\. MCData administrator has configured maximum data size for FD.
3\. Maximum amount of data that a MCData user can transmit in a single request
is configured.
4\. Maximum amount of time that a MCData user can transmit in a single request
is configured.
5\. Optionally, MCData client may have an activated functional alias to be
used.
6\. The MCData server may have subscribed to the MCData functional alias
controlling server within the MC system for functional alias activation/de-
activation updates.
Figure 7.6.2.3.2-1: Send data with mandatory download
1\. MCData user selects the data to transmit, the recipient MCData user or
MCData group and the indication for mandatory download. The MCData user at
MCData client 1 may include a functional alias used within the FD data
transfer.
2\. MCData client has checked for MCData user\'s permission to transmit data.
MCData client calculates the total transmission request size and determines to
select one of the appropriate procedures described in subclause 7.5.2.4,
7.5.2.5, 7.5.2.6 or 7.5.2.7 and including the mandatory download indication.
3\. Transmission control on the MCData server verifies if the MCData user is
authorized to transmit, the data size in the received transmission request is
within the maximum size allowed for FD transmission and is within the maximum
amount of time that a MCData user can transmit in a single request. MCData
server verifies whether the provided functional alias, if present, can be used
and has been activated for the MCData user.
4\. MCData server may send one of the following MCData control indications:
a) If the MCData user does not have permission to transmit data to another
MCData user or MCData group then the \"No permission to transmit data\"
control indication is sent.
b) If the data size requested to be transmitted is more than the maximum
amount of data that an MCData user can transmit in a single request, the
transmission control on MCData server rejects the data transmission request
and sends the rejection control indication \"Rejected due to exceeding data
transmit size\".
c) If the data transmission time exceeds the maximum amount of time that an
MCData user can transmit in a single request, the transmission control on
MCData server rejects the data transmission request and sends the rejection
control indication \"Rejected due to exceeding data transmit time\".
d) If the selected transmission is for a MCData group and there are no
affiliated group members, then the transmission control on MCData server sends
the \"No affiliated members found to the selected MCData group\" control
indication.
e) MCData server may queue the data transmit request for later transmission
with control indication \"Request to transmit is queued\".
Otherwise continue with step 5.
5\. MCData server transmits the data and, if available, the functional alias
of the originating MCData client 1 to the selected MCData user or the
affiliated members or all group members (in the case of lossless
communication) of the selected MCData group according to the procedures
selected in step 2 (where the recipient MCData client receives the data
automatically).
6\. The MCData server may store the data in temporary storage (e.g. if the
recipient is not available at the time of data delivery or network congestion
or data deferred by the user) and may send MCData indication to notify the
recipient of available data for retrieval:
a) If the timer expired for periodic announcement with the list of available
recently invited data communications, the recipient MCData client waiting to
receive the temporarily stored data receives MCData indication with the list
of available temporarily stored data waiting to download in the Deferred data
list .
b) If the temporarily stored data is expired, the data may be purged from the
temporary store and the recipient MCData user may be informed in MCData
indication with \"Data expired and not available to download anymore\" in the
Deferred data list.
#### 7.6.2.4 Send data without mandatory download
##### 7.6.2.4.1 General
The send data without mandatory download procedure allows the receiving MCData
client to accept download, defer download (i.e. no response) or refuse (e.g.
by the user deleting the notification item) the data sent from the sending
MCData client.
##### 7.6.2.4.2 Procedure
The procedure in figure 7.6.2.4.2-1 describes the case where MCData user
selected data is subjected to transmission control prior to transmitting data
to the selected recipient user or affiliated members of the selected MCData
group for downloading with recipient MCData user consent.
Pre-conditions:
1\. MCData user is configured with permission to transmit data.
2\. Maximum amount of data or time that an MCData user can transmit in a
single request is configured.
3\. Time limit for the temporarily stored data waiting to be delivered to a
receiving user is configured.
4\. Optionally, MCData client may have an activated functional alias to be
used.
5\. The MCData server may have subscribed to the MCData functional alias
controlling server within the MC system for functional alias activation/de-
activation updates.
Figure 7.6.2.4.2-1: Send data without mandatory download
1\. MCData user selects the data to transmit and the recipient MCData user or
MCData group and does not select the mandatory download indication. The MCData
user at MCData client 1 may include a functional alias used within the data
transmission.
2\. MCData client has checked for MCData user\'s permission to transmit data
and the data size is within the maximum data size allowed. The MCData client
calculates the total transmission request size and determines to select
procedure described in subclause 7.5.2.4, 7.5.2.5, 7.5.2.6 or 7.5.2.7 and
without including the mandatory download indication.
3\. Transmission control on the MCData server verifies if the MCData user is
authorized to transmit, the data size in the received transmission request is
within the maximum data size allowed and is within the maximum amount of time
that a MCData user can transmit in a single request. MCData server verifies
whether the provided functional alias, if present, can be used and has been
activated for the MCData user.
4\. MCData server may send one of the following control indications:
a) If the MCData user does not have permission to transmit data to another
MCData user or MCData group then the \"No permission to transmit data\"
control indication is sent.
b) If the selected transmission is for a MCData group and there are no
affiliated group members, then the transmission control on MCData server sends
the \"No affiliated members found to the selected MCData group\" control
indication.
c) If the data size requested to be transmitted is more than the maximum
amount of data that an MCData user can transmit in a single request, the
transmission control on MCData server rejects the data transmission requests
and sends the rejection control indication \"Rejected due to exceeding data
transmit size\".
d) If the data transmission time exceeds the maximum amount of time that an
MCData user can transmit in a single request (applies to DS only), the
transmission control on MCData server rejects the data transmission request
and sends the rejection control indication \"Rejected due to exceeding data
transmit time\".
e) MCData server may queue the data transmit request for later transmission
with a control indication \"Request to transmit is queued\".
Otherwise, continue with step 5.
5\. MCData server transmits the data and, if available, the functional alias
of the originating MCData client 1 to the selected MCData user or the
affiliated members or all group members (in the case of lossless
communication) of the selected MCData group according to the procedures
selected in step 2 (where the recipient MCData client may receive the data
automatically).
6\. The MCData server may store the data in temporary storage (e.g. if the
recipient is not available at the time of data delivery or network congestion
or data deferred by the user) and may send MCData indication to notify the
recipient of available data for retrieval:
a) If the timer expired for periodic announcement with the list of available
recently invited data communications, the recipient MCData client waiting to
receive the temporarily stored data receives MCData indication with the list
of available temporarily stored data waiting to download in the Deferred data
list .
b) If the temporarily stored data is expired, the data may be purged from the
temporary store and the recipient MCData user may be informed in MCData
indication with \"Data expired and not available to download anymore\" in the
Deferred data list.
#### 7.6.2.5 Accessing list of deferred data group communications
##### 7.6.2.5.1 General
This procedure allows an MCData client to obtain a list of deferred data
communications.
##### 7.6.2.5.2 Procedure
The procedure in figure 7.6.2.5.2-1 describes the case where the recipient
MCData client receives the list of available temporarily stored data waiting
to download for the deferred data group communications.
Pre-conditions:
1\. MCData server has temporarily stored data for the deferred data group
communications e.g. due to recipient MCData client deferred to download.
Figure 7.6.2.5.2-1: Accessing list of deferred data group communications
1\. MCData user initiates the request to get the list of temporarily stored
data for the deferred data group communications on the MCData server e.g. due
to recipient MCData client deferred to download.
2\. MCData client sends a MCData get deferred list request to the MCData
server.
3\. MCData server generates the list of temporarily stored data for the
affiliated group(s), available to download for the requesting MCData client
and sends the list in the MCData get deferred list response.
4\. MCData client notifies the list of temporarily stored data for the
deferred data group communications, upon which the MCData user may decide to
retrieve the corresponding data.
## 7.7 Communication release
### 7.7.1 General
The subclauses below describe the MCData communication release procedures,
which may be initiated either by the sender or the MCData server or the
authorized MCData user.
### 7.7.2 Communication release for on-network
#### 7.7.2.1 Information flows for communication release
##### 7.7.2.1.1 MCData communication release request (one-to-one communication
using media plane)
Table 7.7.2.1.1-1 describes the information flow for the MCData communication
release request (in subclause 7.7.2.2.2.2) sent from the MCData client to the
MCData server and from the MCData server to another MCData client.
Table 7.7.2.1.1-1: MCData communication release request (one-to-one
communication using media plane)
* * *
Information element Status Description MCData ID M The identity of the MCData
user uploading data MCData ID M MCData ID on which the communication is to be
released
* * *
##### 7.7.2.1.2 MCData communication release response (one-to-one
communication using media plane)
Table 7.7.2.1.2-1 describes the information flow for the MCData communication
release response (in subclause 7.7.2.2.2.2) sent from the MCData client to the
MCData server and from the MCData server to another MCData client.
Table 7.7.2.1.2-1: MCData communication release response (one-to-one
communication using media plane)
* * *
Information element Status Description MCData ID M The identity of the MCData
user requesting to upload data MCData ID M MCData ID on which the
communication is released Release confirmation M Communication released or not
indication
* * *
##### 7.7.2.1.3 MCData communication release request (group communication
using media plane)
Table 7.7.2.1.3-1 describes the information flow for the MCData communication
release request (in subclause 7.7.2.2.2.2) sent from the MCData client to the
MCData server and from the MCData server to another MCData client.
Table 7.7.2.1.3-1: MCData communication release request (group communication
using media plane)
* * *
Information element Status Description MCData ID M The identity of the MCData
user uploading data MCData group ID M MCData group ID on which the
communication is to be released
* * *
##### 7.7.2.1.4 MCData communication release response (group communication
using media plane)
Table 7.7.2.1.4-1 describes the information flow for the MCData communication
release response (in subclause 7.7.2.2.2.2) sent from the MCData client to the
MCData server and from the MCData server to another MCData client.
Table 7.7.2.1.4-1: MCData communication release response (group communication
using media plane)
* * *
Information element Status Description MCData ID M The identity of the MCData
user requesting to upload data MCData group ID M MCData group ID on which the
communication is released Release confirmation M Communication released or not
indication
* * *
##### 7.7.2.1.5 Void
##### 7.7.2.1.6 Void
##### 7.7.2.1.7 Void
##### 7.7.2.1.8 MCData server communication release request (one-to-one
communication using media plane)
Table 7.7.2.1.8-1 describes the information flow for MCData server
communication release request (in subclause 7.7.2.3.2.2) sent from the MCData
server to the MCData clients involved in one-to-one communication.
Table 7.7.2.1.8-1: MCData server communication release request (one-to-one
communication using media plane)
* * *
Information element Status Description MCData ID M The identity of the MCData
user to which communication is released Conversation Identifier M Identifies
the conversation Release Reason M Indicates reason for the release
* * *
##### 7.7.2.1.9 MCData server communication release response (one-to-one
communication using media plane)
Table 7.7.2.1.9-1 describes the information flow for the MCData server
communication release response (in subclause 7.7.2.3.2.2) sent from the MCData
client to the MCData server.
Table 7.7.2.1.9-1: MCData server communication release response (one-to-one
communication using media plane)
* * *
Information element Status Description MCData ID M MCData ID to which the
communication is released Conversation Identifier M Identifies the
conversation Release confirmation M Communication released or not indication
* * *
##### 7.7.2.1.10 MCData server communication release request (group
communication using media plane)
Table 7.7.2.1.10-1 describes the information flow for MCData server
communication release request (in subclause 7.7.2.3.2.2) sent from the MCData
server to the MCData clients involved in group communication.
Table 7.7.2.1.10-1: MCData server communication release request (group
communication using media plane)
* * *
Information element Status Description MCData ID M The identity of the MCData
user to which communication is released MCData group ID M MCData group ID on
which the communication is released Conversation Identifier M Identifies the
conversation Release Reason M Indicates reason for the release
* * *
##### 7.7.2.1.11 MCData server communication release response (group
communication using media plane)
Table 7.7.2.1.11-1 describes the information flow for the MCData server
communication release response (in subclause 7.7.2.3.2.2) sent from the MCData
client to the MCData server.
Table 7.7.2.1.11-1: MCData server communication release response (group
communication using media plane)
* * *
Information element Status Description MCData ID M MCData ID to which the
communication is released MCData group ID M MCData group ID on which the
communication is released Conversation Identifier M Identifies the
conversation Release confirmation M Communication released or not indication
* * *
##### 7.7.2.1.12 Void
##### 7.7.2.1.13 MCData release intent request (one-to-one communication using
media plane)
Table 7.7.2.1.13-1 describes the information flow for MCData release intent
request (in subclause 7.7.2.4.2, 7.7.2.6.2) sent from the MCData server to the
MCData client.
Table 7.7.2.1.13-1: MCData release intent request (one-to-one communication
using media plane)
* * *
Information element Status Description MCData ID M The identity of the MCData
user who is originator of the one-to-one communication Conversation Identifier
M Identifies the conversation Request for more info O Indicates what MCData
server needs more information (e.g. to know the remaining data volume to
transmit) about the communication which has been identified to be released
* * *
##### 7.7.2.1.14 MCData more information response (one-to-one communication
using media plane)
Table 7.7.2.1.14-1 describes the information flow for MCData more information
response (in subclause 7.7.2.4.2, 7.7.2.6.2) sent from the MCData client to
the MCData server and from MCData server to authorized MCData user.
Table 7.7.2.1.14-1: MCData more information response (one-to-one communication
using media plane)
* * *
Information element Status Description MCData ID M The identity of the MCData
user who is originator of the one-to-one communication Conversation Identifier
M Identifies the conversation More info M Information as requested by MCData
server
* * *
##### 7.7.2.1.15 MCData release intent request (group communication using
media plane)
Table 7.7.2.1.15-1 describes the information flow for MCData release intent
request (in subclause 7.7.2.4.2, 7.7.2.6.2) sent from the MCData server to the
MCData client.
Table 7.7.2.1.15-1: MCData release intent request (group communication using
media plane)
* * *
Information element Status Description MCData ID M The identity of the MCData
user who is the originator of the group communication Conversation Identifier
M Identifies the conversation MCData group ID M MCData group ID on which the
communication is released Request for more info O Indicates what MCData server
needs more information about the communication which has been identified to be
released
* * *
##### 7.7.2.1.16 MCData more information response (group communication using
media plane)
Table 7.7.2.1.16-1 describes the information flow for MCData more information
response (in subclause 7.7.2.4.2, 7.7.2.6.2) sent from the MCData client to
the MCData server and from MCData server to authorized MCData user.
Table 7.7.2.1.16-1: MCData more information response (group communication
using media plane)
* * *
Information element Status Description MCData ID M The identity of the MCData
user who is originator of the group communication Conversation Identifier M
Identifies the conversation MCData group ID M MCData group ID on which the
communication is released More info M Information as requested by MCData
server
* * *
##### 7.7.2.1.17 MCData auth user communication release request (one-to-one
communication using media plane)
Table 7.7.2.1.17-1 describes the information flow for MCData auth user
communication release request (in subclause 7.7.2.5.2, 7.7.2.6.2) sent from
the authorized MCData user to the MCData server.
Table 7.7.2.1.17-1: MCData auth user communication release request (one-to-one
communication using media plane)
* * *
Information element Status Description Conversation Identifier M Identifies
the conversation Request for more info O Indicates what MCData server needs
more information about the communication which has been identified to be
released Release Reason M Indicates reason for the release
* * *
##### 7.7.2.1.18 MCData auth user communication release response (one-to-one
communication using media plane)
Table 7.7.2.1.18-1 describes the information flow for the MCData server
communication release response (in subclause 7.7.2.5.2, 7.7.2.6.2) sent from
the MCData server to the authorized MCData user.
Table 7.7.2.1.18-1: MCData auth user communication release response (one-to-
one communication using media plane)
* * *
Information element Status Description Conversation Identifier M Identifies
the conversation Release confirmation M Communication released or not
indication
* * *
##### 7.7.2.1.19 MCData auth user communication release request (group
communication using media plane)
Table 7.7.2.1.19-1 describes the information flow for MCData auth user
communication release request (in subclause 7.7.2.5.2, 7.7.2.6.2) sent from
the authorized MCData user to the MCData server.
Table 7.7.2.1.19-1: MCData auth user communication release request (group
communication using media plane)
* * *
Information element Status Description Conversation Identifier M Identifies
the conversation MCData group ID M MCData group ID on which the communication
is to be released Request for more info O Indicates what MCData server needs
more information about the communication which has been identified to be
released Release Reason M Indicates reason for the release
* * *
##### 7.7.2.1.20 MCData auth user communication release response (group
communication using media plane)
Table 7.7.2.1.20-1 describes the information flow for the MCData server
communication release response (in subclause 7.7.2.5.2, 7.7.2.6.2) sent from
the MCData server to the authorized MCData user.
Table 7.7.2.1.20-1: MCData auth user communication release response (group
communication using media plane)
* * *
Information element Status Description Conversation Identifier M Identifies
the conversation MCData group ID M MCData group ID on which the communication
is to be released Release confirmation M Communication released or not
indication
* * *
##### 7.7.2.1.21 MCData request for extension
Table 7.7.2.1.21-1 describes the information flow for the MCData request for
extension (in subclause 7.7.2.4.2, 7.7.2.6.2) sent from the MCData client to
the MCData server and from MCData server to authorized MCData user.
Table 7.7.2.1.21-1: MCData request for extension
* * *
Information element Status Description Conversation Identifier M Identifies
the conversation
* * *
##### 7.7.2.1.22 MCData response for extension
Table 7.7.2.1.22-1 describes the information flow for the MCData response for
extension (in subclause 7.7.2.4.2, 7.7.2.6.2) sent from the authorized MCData
user to the MCData server and MCData client to the MCData server and from
MCData server to MCData client.
Table 7.7.2.1.22-1: MCData response for extension
* * *
Information element Status Description Conversation Identifier M Identifies
the conversation Extension response M Indicates whether request for extension
has been accepted or not
* * *
#### 7.7.2.2 MCData user initiated communication release
##### 7.7.2.2.1 General
During MCData communication, a transmitting participant can at any time
indicate to stop transmission to the MCData server.
##### 7.7.2.2.2 Release of MCData communication using media plane
###### 7.7.2.2.2.1 General
The subclause describes the procedure for MCData user initiated MCData
communication release where MCData communication is established as SDS using
media plane or SDS session or file distribution using media plane.
NOTE: The release of MCData communication over MBMS is out of scope of the
current specification.
###### 7.7.2.2.2.2 Procedure
The procedure in figure 7.7.2.2.2.2-1 describes signalling control plane
procedure for the case where MCData communication is ongoing and transmitting
participant initiates MCData communication release. The procedure is
applicable for one-to-one and group MCData communications.
Pre-conditions:
1\. MCData users on MCData client 1 and client 2 are already registered for
receiving MCData service.
2\. MCData communication is established between MCData client 1 and MCData
client 2 and MCData client1 is the initiator of the MCData communication.
Figure 7.7.2.2.2.2-1: Release of MCData communication using media plane
1\. MCData user at MCData client 1 requests to release ongoing MCData
communication.
2\. MCData client 1 sends MCData communication release request towards MCData
server, for tearing down the communication with the other MCData client(s).
3\. MCData server sends MCData communication release request to all the
participants of the MCData communication.
4\. Recipient MCData clients notifies respective MCData user about the release
of MCData communication.
5\. MCData clients receiving the MCData communication release request provide
communication release response back towards MCData server.
6\. MCData server sends MCData communication release response back to MCData
client 1.
7\. All participants of the MCData communication have successfully released
the media plane resources associated with the MCData communication that is
released.
8\. MCData client 1 notifies the MCData user about the communication release.
##### 7.7.2.2.3 Release of MCData communication using HTTP
NOTE: The backward compatibility handling of this procedure is outside the
scope of the present document.
#### 7.7.2.3 MCData server initiated communication release without prior
indication
##### 7.7.2.3.1 General
MCData server initiates the release of an ongoing MCData communication, since
at least one of the communication release conditions are met e.g. lack of
bearer capacity, limit for the maximum amount of data or time that a
participant transmits from a single request to transmit exceeded. Based on the
configuration, MCData server either pre-empts the MCData communication without
giving prior indication to MCData client or notifies the intent of release to
the MCData client initiating communication. Latter scenario allows the MCData
user to request for extension of MCData communication and defer the
communication release.
##### 7.7.2.3.2 Release of MCData communication using media plane
###### 7.7.2.3.2.1 General
The subclause describes the procedure for MCData server initiated MCData
communication release without prior indication, where MCData communication is
established as SDS using media plane or file distribution using media plane.
NOTE: The release of MCData communication over MBMS is out of scope of the
current specification.
###### 7.7.2.3.2.2 Procedure
The procedure in figure 7.7.2.3.2.2-1 describes signalling control plane
procedure for the case where during an ongoing MCData communication, based on
communication release conditions, MCData server initiates the communication
release. The procedure is applicable for one-to-one and group communication.
Pre-conditions:
1\. MCData users on MCData client 1, client 2 and client 3 are already
registered for receiving MCData service.
2\. A MCData administrator has configured the limits for the maximum amount of
data and time that a participant transmits from a single request to transmit.
3\. A MCData communication is ongoing between MCData client 1, client 2 and
client 3.
Figure 7.7.2.3.2.2-1: MCData server initiated release of MCData communication
using media plane
1\. MCData server would like to release the ongoing MCData communication,
identified by conversation identifier, since at least one of the release
conditions are met e.g. lack of capacity, limit for the maximum amount of data
or time that a participant transmits from a single request to transmit
exceeded. Based on configuration, MCData server decides to pre-empt the MCData
communication without giving prior indication to MCData client 1.
2\. MCData server identifies the participants of the ongoing MCData
communication and generates communication release request to release ongoing
MCData communication.
3\. MCData server sends server MCData communication release request towards
each participant of the MCData communication.
4\. MCData users are notified about the release of the MCData communication.
5\. MCData client at each MCData communication participant sends server MCData
communication release response towards the MCData server.
6\. All participants of the MCData communication have successfully released
the media plane resources associated with the MCData communication that is
released.
##### 7.7.2.3.3 Void
#### 7.7.2.4 MCData server initiated communication release with prior
indication
##### 7.7.2.4.1 General
The subclause describes the procedure for MCData server initiated MCData
communication release with prior indication, where MCData communication is
established as SDS using media plane or file distribution using media plane or
file distribution using HTTP.
##### 7.7.2.4.2 Procedure
The procedure in figure 7.7.2.4.2-1 describes signalling control plane
procedure for the case where during an ongoing MCData communication, based on
communication release conditions, MCData server initiates communication
release. As a result of configuration check, MCData server notifies the intent
to release MCData communication, optionally requesting for more information
(e.g. to know the remaining data volume to transmit) from the MCData client
initiating MCData communication.
Pre-conditions:
1\. MCData user on MCData client 1 is already registered for receiving MCData
service.
2\. MCData administrator has configured the limits for the maximum amount of
data and time that a participant transmits from a single request to transmit.
3\. MCData communication may be ongoing between MCData participants and MCData
client 1 is the initiator of the communication.
4\. MCData administrator has configured the time for which MCData server needs
to wait for extension request from the MCData user.
Figure 7.7.2.4.2-1: MCData server initiates communication release with prior
indication
1\. MCData server releases the ongoing MCData communication, identified by the
conversation identifier, since at least one of the release conditions are met
e.g. lack of capacity, limit for the maximum amount of data or time that a
participant transmits from a single request to transmit exceeded. Based on the
configuration, MCData server notifies the intent to release MCData
communication.
2\. MCData server sends the MCData release intent request towards the
communication initiating MCData client 1. MCData server may include request
for more information (e.g. to know the remaining data volume to transmit).
3\. MCData client 1 informs MCData user about the intent to release
communication.
4\. If request for more information is included in the received MCData release
intent request, MCData client 1 sends MCData more information response
including the remaining amount of data to transmit. Upon receiving more
information response from MCData client 1, MCData server may wait for the
request for extension until the time configured by the MCData administrator.
If MCData server does not receive MCData request for extension within the
configured timeout, the MCData server releases MCData communication as
described in subclause 7.7.2.3. Otherwise, continue with remaining steps.
5\. MCData user at MCData client 1 requests for extension of the ongoing
MCData communication.
6\. MCData client 1 sends MCData request for extension of the MCData
communication.
7\. Upon receiving the MCData request for extension of MCData communication
from the MCData client 1, MCData server asserts policies to accept or reject
the request for extension.
8\. MCData server sends MCData response for extension with success or failure
result to MCData client 1. MCData communication will continue if MCData server
accepted the request for extension from MCData client 1. Otherwise, MCData
communication is released according to procedures described in subclause
7.7.2.3.
#### 7.7.2.5 Authorized MCData user initiated communication release without
prior indication
##### 7.7.2.5.1 General
An authorized MCData user at any time during an ongoing MCData communication
decides to release communication. The authorized user may decide to release
MCData communication without prior indication to the initiator MCData client.
##### 7.7.2.5.2 Procedure
The procedure in figure 7.7.2.5.2-1 describes signalling control plane
procedure for the case where during an ongoing MCData communication,
authorized MCData user initiates MCData communication release without prior
indication to the initiator MCData client. An authorized MCData user is part
of the ongoing MCData communication.
Pre-conditions:
1\. An authorized MCData user on MCData client is already registered for
receiving MCData service.
2\. A MCData communication is ongoing between MCData participants and
authorized MCData user is keeping track of which participants are receiving
communication e.g. through \"message delivered\" and/or \"message read\"
indications for the MCData communication.
Figure 7.7.2.5.2-1: An authorized MCData user initiates communication release
without prior indication
1\. An authorized MCData user requests to release the ongoing MCData
communication, without providing prior indication to the initiator of the
MCData communication, MCData client 1.
2\. An authorized MCData client sends MCData auth user communication release
request towards MCData server identifying the MCData communication to release.
The request also includes indication to the MCData server to release MCData
communication without prior indication to the initiator of the MCData
communication, MCData client 1.
3\. MCData server validates the user from whom the MCData communication
release request is received and checks whether the requesting MCData user is
authorized to release communication or not.
4\. If the user is authorized to release communication, then MCData server
releases the ongoing MCData communication according to procedures described in
subclause 7.7.2.3.
5\. MCData server sends MCData auth user communication release response
containing the result of MCData communication release back to authorized
MCData client 1.
#### 7.7.2.6 Authorized MCData user initiated communication release with prior
indication
##### 7.7.2.6.1 General
An authorized MCData user at any time during an ongoing MCData communication
decides to release communication. The authorized user may decide to release
MCData communication with prior indication to the initiator MCData client. A
prior indication allows initiator MCData client to request for extension for
the MCData communication.
##### 7.7.2.6.2 Procedure
The procedure in figure 7.7.2.6.2-1 describes signalling control plane
procedure for the case where during an ongoing MCData communication,
authorized MCData user initiates MCData communication release with prior
indication to the initiator MCData client. An authorized MCData user is part
of the ongoing MCData communication. An initiator MCData user optionally
decides to request for the extension of the ongoing communication.
Pre-conditions:
1\. An authorized MCData user on MCData client is already registered for
receiving MCData service.
2\. A MCData communication is ongoing between MCData participants and
authorized MCData user is keeping track of which participants are receiving
communication e.g. through \"message delivered\" and/or \"message read\"
indications for the MCData communication
3\. MCData client 1 is the initiator of the MCData communication.
Figure 7.7.2.6.2-1: An authorized MCData user initiates communication release
with prior indication
1\. An authorized MCData user requests to release the ongoing MCData
communication by providing prior indication to the initiator of MCData
communication, MCData client 1.
2\. An authorized MCData client sends MCData auth user communication release
request towards MCData server including the communication identifier
identifying the MCData communication to release. Authorized MCData client may
include request for more information (e.g. to know the remaining data volume
to transmit). The request also includes indication to MCData server to release
MCData communication with prior indication to the initiator MCData client.
3\. MCData server validates the user from whom the communication release
request is received and checks whether the requesting user is authorized to
release communication or not.
4\. If the user is authorized to release communication, then the MCData server
sends MCData release intent request, may be including the reason for the
release. MCData server may include request for more information as received in
the request from the authorized MCData client.
5\. MCData client informs MCData user about the intent to release
communication by the authorized MCData user.
6\. If request for more information is included in the received MCData release
intent request, MCData client 1 sends MCData more information response
including the remaining amount of data to transmit.
7\. MCData server forwards the MCData more information response to the
authorized MCData client.
NOTE: Upon receiving more information response from MCData client 1, MCData
server may wait for the request for extension until the time configured by the
MCData administrator. If MCData server does not receive request for extension
within the configured timeout, the MCData server releases MCData communication
as described in subclause 7.7.2.3. Otherwise, continue with remaining steps.
8\. MCData user at MCData client 1 decides to request for extension of the
ongoing MCData communication.
9 and 10. MCData client sends MCData request for extension towards MCData
server. And MCData server forwards the MCData request for extension towards
the authorized MCData client.
11\. Authorized MCData client notifies the authorized user about the incoming
request for extension. An authorized MCData user decides to accept or reject
the request for extension.
12 and 13. Authorized MCData user decision is sent in MCData response for
extension request towards the MCData server. MCData server forwards the MCData
response for extension request to MCData client 1.
14\. MCData communication will continue if the authorized user accepted the
request for extension from MCData client 1. Otherwise, MCData communication
will be released according to procedures described in subclause 7.7.2.3.
15\. After MCData communication is released, MCData server sends the MCData
auth user communication release response back to the authorized MCData client.
## 7.8 Conversation management
### 7.8.1 General
Conversation management is a collection of related MCData transmissions for a
given activity. Conversation management associates SDS and FD communication
transmission and present them as a single thread to the user.
Conversation management for on-network is described in clause 7.8.2 and for
off-network in clause 7.8.3. Off-network conversation management is based on
ProSe capabilities as described in clause 7.16.
### 7.8.2 Conversation management for on-network
#### 7.8.2.1 Information flows for conversation management
The information flow parameters related to conversation management are as
described in the subclauses 7.4.2.1 and subclauses 7.5.2.1.5, 7.5.2.1.6,
7.5.2.1.7, 7.5.2.1.8, 7.5.2.1.9, 7.5.2.1.10, 7.5.2.1.11, 7.5.2.1.12, and
7.5.2.1.13.
#### 7.8.2.2 One-to-one conversation management
##### 7.8.2.2.1 Procedure
The procedure for an MCData user to associate multiple MCData transmissions
between a pair of users for a given activity is illustrated in figure
7.8.2.2.1-1.
Pre-conditions:
1\. MCData user(s) on MCData client 1 and 2 are registered for receiving
MCData service.
Figure 7.8.2.2.1-1: One-to-one conversation management
1\. The user at MCData client 1 initiates conversation. A universally unique
conversation identifier is generated to identify new conversation.
Conversation identifier is used in procedures mentioned in step 2. If the
intent of the user at MCData client 1 is to transmit within an existing
conversation, then corresponding conversation identifier is used in procedures
mentioned in step 2. To allow multiple parallel conversations for the same
pair of users, different conversation identifier is used for each
conversation. The MCData users can view the MCData conversation at any time
after the first MCData transaction is initiated within the conversation.
2\. The procedure of one-to-one SDS or one-to-one FD or combination of both
these procedures can be executed.
#### 7.8.2.3 Group conversation management
##### 7.8.2.3.1 Procedure
The procedure for an MCData user to associate multiple MCData transmissions
between users of a group for a given activity is illustrated in figure
7.8.2.3.1-1.
Pre-conditions:
1\. MCData user(s) on MCData client 1, 2, and n are registered for receiving
MCData service.
2\. The MCData users 1, 2 and n are members of the same MCData group and
affiliated to the MCData service.
Figure 7.8.2.3.1-1: Group conversation management
1\. The user at MCData client 1 initiates conversation. A unique conversation
identifier is generated to identify new conversation. Conversation identifier
is used in procedures mentioned in step 2. If the intent of the user at MCData
client 1 is to transmit within an existing conversation, then corresponding
conversation identifier is used in procedures mentioned in step 2. To allow
multiple parallel conversations for the same group of users, different
conversation identifier is used for each conversation. The MCData users can
view the MCData conversation at any time after the first MCData transaction is
initiated within the conversation.
2\. The procedure of group SDS or group FD or combination of both these
procedures can be executed.
### 7.8.3 Conversation management for off-network
#### 7.8.3.1 One-to-one conversation management
##### 7.8.3.1.1 Procedure
The procedure for an MCData user to associate multiple off-network MCData
transmissions between a pair of users is illustrated in figure 7.8.3.1.1-1.
Pre-conditions:
1\. MCData client 1 and MCData client 2 are members of the same ProSe
Discovery group and are ProSe 1:1 direct communication capable.
2\. MCData client 1 has discovered MCData client 2 in proximity, associated
with MCData user B, using ProSe Discovery procedures.
Figure 7.8.3.1.1-1: One-to-one conversation management
1\. The user at MCData client 1 initiates conversation. A universally unique
conversation identifier is generated to identify the new conversation.
Conversation identifier is used in the procedures mentioned in step 2. If the
intent of the user at MCData client 1 is to transmit within an existing
conversation, then corresponding conversation identifier from the existing
conversation is used in the procedures mentioned in step 2. To allow multiple
parallel conversations for the same pair of users, different conversation
identifier is used for each conversation. The MCData users can view the MCData
conversation at any time after the first MCData transaction is initiated
within the conversation.
2\. The procedure of one-to-one SDS or one-to-one FD or a combination of these
can be executed.
#### 7.8.3.2 Group conversation management
##### 7.8.3.2.1 Procedure
The procedure for an MCData user to associate multiple off-network MCData
transmissions between users of a group is illustrated in figure 7.8.3.2.1-1.
Pre-conditions:
1\. Information for ProSe direct communications corresponding to the MCData
group and its mapping to ProSe Layer-2 Group ID are pre-configured in MCData
client 1.
2\. MCData client 1 to MCData client N are members of the same MCData group.
Figure 7.8.3.2.1-1: Group conversation management
1\. The user at MCData client 1 initiates conversation. A universally unique
conversation identifier is generated to identify the new conversation.
Conversation identifier is used in the procedures mentioned in step 2. If the
intent of the user at MCData client 1 is to transmit within an existing
conversation, then corresponding conversation identifier from the existing
conversation is used in the procedures mentioned in step 2. To allow multiple
parallel conversations for the same group of users, different conversation
identifier is used for each conversation. The MCData users can view the MCData
conversation at any time after the first MCData transaction is initiated
within the conversation.
2\. The procedure of group SDS or group FD or combination of both can be
executed.
## 7.9 Enhanced status
### 7.9.1 General
Enhanced status corresponds to information specific to the activities
performed by the mission critical service users during their operation(s) e.g.
available, in operation on site, going to the operation site, or just arrived.
Enhanced status for on-network is described in clause 7.9.3 and for off-
network in clause 7.9.4. Off-network enhanced status is based on ProSe
capabilities as described in clause 7.16.
### 7.9.2 Preset values for enhanced status
The enhanced status information i.e. the set of possible values corresponding
to the activities of the MCData user, shall be configured by the MCData
administrator. The configuration of status values is applicable on a per-group
basis, and therefore shall be part of the MCData group configuration data as
described in Annex A.4.
The configuration mechanism shall allow the MCData administrator to configure
a minimum of 32 possible values and allow up to 65536 separate values. The set
of values may be divided into a fixed set of values defined by 3GPP standards
which are common across all MCData systems, and a set which may be freely
configured for any purpose.
### 7.9.3 Enhanced status for on-network
#### 7.9.3.1 Sharing enhanced status information
##### 7.9.3.1.1 Procedure
The procedure for an MCData user to share the enhanced status information to
the members of the selected group is illustrated in figure 7.9.3.1.1-1.
Pre-conditions:
1\. MCData user(s) on MCData client 1, 2, and n are registered for receiving
MCData service.
2\. The MCData users 1, 2 and n are members of the same MCData group and
affiliated to the MCData service.
3\. The MCData group is pre-configured with the possible values for enhanced
status information.
Figure 7.9.3.1.1-1: Sharing enhanced status information
1\. The user at MCData client 1 selects the MCData group to share the enhanced
status information. The user also selects the value of the status information
to be shared from the list of pre-configured status values available for the
MCData group.
2\. The procedure of group standalone SDS using signalling control plane as
described in subclause 7.4.2.5, is used to deliver the enhanced status
information.
3\. The MCData users at MCData client 2 and n are notified of the enhanced
status information.
### 7.9.4 Enhanced status for off-network
#### 7.9.4.1 Sharing enhanced status information
##### 7.9.4.1.1 Procedure
The procedure for an MCData user to share the enhanced status information to
the members of the selected group is illustrated in figure 7.9.4.1.1-1.
Pre-conditions:
1\. Information for ProSe direct communications corresponding to the MCData
group and its mapping to ProSe Layer-2 Group ID are pre-configured in MCData
client 1.
2\. MCData client 1, 2 and n are members of the same MCData group.
3\. The MCData group is pre-configured with the possible values for enhanced
status information.
Figure 7.9.4.1.1-1: Sharing enhanced status information
1\. The user at MCData client 1 selects the MCData group to share the enhanced
status information. The user also selects the value of the status information
to be shared from the list of pre-configured status values available for the
MCData group.
2\. The procedure of off-network group standalone SDS using signalling control
plane as described in subclause 7.4.3.4, is used to deliver the enhanced
status information.
3\. The MCData users at MCData client 2 and n are notified of the enhanced
status information.
## 7.10 MCData emergency alert (on-network and off-network)
The MCData service shall support the procedures and related information flows
as specified in subclause 10.10 of 3GPP TS 23.280 [5] with the following
clarifications:
\- The MC service client is the MCData client;
\- The MC service server is the MCData server;
\- The MC service group ID is the MCData Group ID; and
\- The MC service user profile index is the MCData user profile index.
## 7.10a MCData ad hoc group emergency alert (on-network)
The MCData service shall support the procedures and related information flows
as specified in subclause 10.10.3 of 3GPP TS 23.280 [5] with the following
clarifications:
\- The MC service client is the MCData client;
\- The MC service server is the MCData server;
\- The MC service group ID is the MCData Group ID; and
\- The MC service user profile index is the MCData user profile index.
## 7.11 User authentication and authorization for MCData service
NOTE: Flow 7.11-1 is a high level user authentication and authorization flow.
3GPP TS 33.180 [13] defines the specific user authentication and authorization
architecture required by the MCData service in order to realize the MCData
user authentication and authorization requirements as defined in 3GPP TS
22.280 [2].
A procedure for user authentication is illustrated in figure 7.11-1. The user
authentication is performed based on the procedure specified in subclause 10.6
of 3GPP TS 23.280 [5].
Figure 7.11-1: MCData user authentication and registration, single domain
1\. The user authentication is performed as per the general user
authentication procedure specified in subclause 10.6 of 3GPP TS 23.280 [5].
2\. MCData client performs the MCData service authorization for the user. Step
2 utilizes the results of step 1.
## 7.12 MCData resource management (on-network)
### 7.12.1 General
Procedures for resource management are defined in subclause 10.11 of 3GPP TS
23.280 [5].
### 7.12.2 Void
## 7.13 Operations on MCData message store
The MCData message store allows an MCData user to deposit his MCData
communication information (i.e. messages or files) securely and permanently
for later retrieval. During an active MCData communication, a message or a
file with its associated metadata is deposited as an object in the MCData
message store with an object identifier; this object identifier enabling a
direct access to that object. The objects in the MCData message store are
managed from both the MCData server and the message store client.
Each MCData user is allocated a dedicated and secured storage area (i.e. with
a user account) in the MCData message store. All MCData communications of a
MCData user can be stored in his dedicated storage area. The access to this
secured storage area is possible only after successful authentication and
authorization procedures. A message store client can create a local copy of
the stored objects into the device by synchronizing with the MCData message
store for the MCData user using the device.
### 7.13.1 MCData message store structure
MCData message store supports a tree like architecture to securely store
MCData communications for the MCData users. Figure 7.13.1 below illustrates
the high-level structure of a MCData message store:
Figure 7.13.1 Message store structure
As illustrated in Figure 7.13.1 all MCData user storage areas are accessed
only through the common root. The authorized MCData user shall only have the
access to the MCData user\'s storage area after the successful authentication
and authorization procedures. A MCData user shall not be able to access
objects stored for other MCData users.
The MCData user shall manage his stored objects using message store client
through the MCData-7 reference point. The MCData server shall use the MCData-8
reference point to deposit MCData communication information, during an active
MCData communication, into the designated MCData user\'s storage area in the
MCData message store.
One way to manage user stored objects is using folder hierarchy structure like
the popular email system today. Annex D provides a simple example of how it
will look like in deployment. When the user account is created in the MCData
message store, a default folder (such as Inbox) is also created to capture all
the objects during an active communication. To group relevant stored objects
together and provide easier navigation interactively, a MCData user can create
folders in his user account. Each folder is identified by its unique folder
identifier that is composed with the location of the folder and the name of
the folder. A folder may have child folders to further group the stored
objects in more meaningful ways. For example, the folder identifier of the
default Inbox folder is /MCDatamessagestore /MCDatauser1/Inbox. The folder
identifier /MCDatamessagestore/MCDatauser1/Squad1/20190225 points to a folder
named 20190225 which is a child folder of Squad1 folder in the MCData user1
user account.
NOTE: The details of how the objects are stored in the MCData message store is
out of scope of the present document.
### 7.13.2 Authentication and authorization
The MCData message store shall authenticate the credential of MCData server or
the authorized MCData user before authorizing access to the MCData user\'s
storage area. The success of authentication and authorization shall allow
access to that MCData user\'s storage area only.
NOTE: The authentication and authorization aspects of MCData message store
access and its operational supports are the responsibility of SA3 and thus
outside the scope of the present document.
### 7.13.3 Manage MCData message store
#### 7.13.3.1 Information flows for managing MCData message store
##### 7.13.3.1.1 MCData retrieve a stored object request
Table 7.13.3.1.1-1 describes the information flow for the MCData retrieve a
stored object request sent from the message store client to the MCData message
store.
Table 7.13.3.1.1-1: MCData retrieve a stored object request
* * *
Information element Status Description MCData ID M The identity of the MCData
user Object identifier M The object identifier of the object stored in the
MCData message store
* * *
##### 7.13.3.1.2 MCData retrieve a stored object response
Table 7.13.3.1.2-1 describes the information flow for the MCData retrieve a
stored object response sent from the MCData message store to the message store
client.
Table 7.13.3.1.2-1: MCData retrieve a stored object response
* * *
Information element Status Description MCData ID M The identity of the MCData
user Stored object M The stored object identified by the object identifier in
the request. This information element shall be returned as empty when there is
no stored object can be identified by the object identifier in the request
* * *
##### 7.13.3.1.3 MCData search stored objects request
Table 7.13.3.1.3-1 describes the information flow for the MCData search stored
objects request sent from the message store client to the MCData message
store.
Table 7.13.3.1.3-1: MCData search stored objects request
* * *
Information element Status Description MCData ID M The identity of the MCData
user Search criteria M Any part of the stored object can be the search
criteria. Linking multiple parts of a stored object as the search criteria is
possible
* * *
##### 7.13.3.1.4 MCData search stored objects response
Table 7.13.3.1.4-1 describes the information flow for the MCData search stored
objects response sent from the MCData message store to the message store
client.
Table 7.13.3.1.4-1: MCData search stored objects response
* * *
Information element Status Description MCData ID M The identity of the MCData
user Stored object(s) M The stored object(s) that meets the search criteria.
This information element shall be returned as empty when there is no stored
object can be identified by the search criteria in the request
* * *
##### 7.13.3.1.5 MCData update a stored object request
Table 7.13.3.1.5-1 describes the information flow for the MCData update a
stored object request sent from the message store client to the MCData message
store.
Table 7.13.3.1.5-1: MCData update a stored object request
* * *
Information element Status Description MCData ID M The identity of the MCData
user Object identifier M The object identifier of the object stored in the
MCData message store Metadata M The metadata that will be updated
* * *
##### 7.13.3.1.6 MCData update a stored object response
Table 7.13.3.1.6-1 describes the information flow for the MCData update a
stored object response sent from the MCData message store to the message store
client.
Table 7.13.3.1.6-1: MCData update a stored object response
* * *
Information element Status Description MCData ID M The identity of the MCData
user storage area in the MCData message store Result M The result if the
update is success or failure
* * *
##### 7.13.3.1.7 MCData delete a stored object request
Table 7.13.3.1.7-1 describes the information flow for the MCData delete a
stored object request sent from the message store client to the MCData message
store.
Table 7.13.3.1.7-1: MCData delete a stored object request
* * *
Information element Status Description MCData ID M The identity of the MCData
user Object identifier M The object identifier of the object stored in the
MCData message store
* * *
##### 7.13.3.1.8 MCData delete a stored object response
Table 7.13.3.1.8-1 describes the information flow for the MCData delete a
stored object response sent from the MCData message store to the message store
client.
Table 7.13.3.1.8-1: MCData delete a stored object response
* * *
Information element Status Description MCData ID M The identity of the MCData
user storage area in the MCData message store Result M The result if the
delete is success or failure
* * *
##### 7.13.3.1.9 MCData synchronization request
Table 7.13.3.1.9-1 describes the information flow for the MCData
synchronization request sent from the message store client to the MCData
message store.
Table 7.13.3.1.9-1: MCData synchronization request
* * *
Information element Status Description MCData ID M The identity of the MCData
user Synchronization type M Indicates the type of synchronization is
requested. It can be a full or partial synchronization Filter criteria (see
NOTE) O The filter criteria indicate what kind of stored objects needs to be
synchronized to the device local message store NOTE: Filter criteria
information element shall be presented if the Synchronization type is partial.
* * *
##### 7.13.3.1.10 MCData synchronization response
Table 7.13.3.1.10-1 describes the information flow for the MCData
synchronization response sent from the MCData message store to the message
store client.
Table 7.13.3.1.10-1: MCData synchronization response
* * *
Information element Status Description MCData ID M The identity of the MCData
user Stored objects M The stored objects that need to be synchronized with the
device local message store. Empty information element means no stored objects
need to be synchronized
* * *
##### 7.13.3.1.11 MCData create a user account request
Table 7.13.3.1.11-1 describes the information flow for the MCData create a
user account request sent from the MCData server to the MCData message store.
Table 7.13.3.1.11-1: MCData create a user account request
* * *
Information element Status Description MCData ID M The identity of the MCData
user
* * *
##### 7.13.3.1.12 MCData create a user account response
Table 7.13.3.1.12-1 describes the information flow for the MCData create a
user account response sent from the MCData message store to the MCData server.
Table 7.13.3.1.12-1: MCData create a user account response
* * *
Information element Status Description MCData ID M The identity of the MCData
user Result M The result if the account creation is success or failure
* * *
##### 7.13.3.1.13 MCData deposit an object request
Table 7.13.3.1.13-1 describes the information flow for the MCData deposit an
object request sent from the MCData server to the MCData message store.
Table 7.13.3.1.13-1: MCData deposit an object request
* * *
Information element Status Description MCData ID M The identity of the MCData
user Retrieve file indication O Flag to instruct the MCData message store to
retrieve the file to locally store in the MCData user\'s account Object M The
object needs to be stored
* * *
##### 7.13.3.1.14 MCData deposit an object response
Table 7.13.3.1.14-1 describes the information flow for the MCData deposit an
object response sent from the MCData message store to the MCData server.
Table 7.13.3.1.14-1: MCData deposit an object response
* * *
Information element Status Description MCData ID M The identity of the MCData
user Object Identifier M The object identifier that will be used to retrieve
this object in the MCData message store directly. If this information element
is empty it means the object is not stored
* * *
##### 7.13.3.1.15 MCData copy a stored object request
Table 7.13.3.1.15-1 describes the information flow for the MCData copy a
stored object request sent from the message store client to the MCData message
store.
Table 7.13.3.1.15-1: MCData copy a stored object request
* * *
Information element Status Description MCData ID M The identity of the MCData
user Object identifier M The object identifier of the object stored in the
MCData message store Destination folder identifier M Indicates where the
object will be copied to
* * *
##### 7.13.3.1.16 MCData copy a stored object response
Table 7.13.3.1.16-1 describes the information flow for the MCData copy a
stored object response sent from the MCData message store to the message store
client.
Table 7.13.3.1.16-1: MCData copy a stored object response
* * *
Information element Status Description MCData ID M The identity of the MCData
user Result M The result if the operation is success or failure
* * *
##### 7.13.3.1.17 MCData move a stored object request
Table 7.13.3.1.17-1 describes the information flow for the MCData move a
stored object request sent from the message store client to the MCData message
store.
Table 7.13.3.1.17-1: MCData move a stored object request
* * *
Information element Status Description MCData ID M The identity of the MCData
user Object identifier M The object identifier of the object stored in the
MCData message store Destination folder identifier M Indicates where the
object will be moved to.
* * *
##### 7.13.3.1.18 MCData move a stored object response
Table 7.13.3.1.18-1 describes the information flow for the MCData move a
stored object response sent from the MCData message store to the message store
client.
Table 7.13.3.1.18-1: MCData move a stored object response
* * *
Information element Status Description MCData ID M The identity of the MCData
user Result M The result if the operation is success or failure
* * *
##### 7.13.3.1.19 MCData create folder request
Table 7.13.3.1.19-1 describes the information flow for the MCData create
folder request sent from the message store client to the MCData message store.
Table 7.13.3.1.19-1: MCData create folder request
* * *
Information element Status Description MCData ID M The identity of the MCData
user Parent folder identifier O The parent folder identifier of the created
folder Folder name O Indicates the name of the new folder
* * *
##### 7.13.3.1.20 MCData create folder response
Table 7.13.3.1.20-1 describes the information flow for the MCData create
folder response sent from the MCData message store to the message store
client.
Table 7.13.3.1.20-1: MCData create folder response
* * *
Information element Status Description MCData ID M The identity of the MCData
user Result M The result if the operation is success or failure Folder
identifier O The identifier of the folder that is created
* * *
##### 7.13.3.1.21 MCData delete folder request
Table 7.13.3.1.21-1 describes the information flow for the MCData delete
folder request sent from the message store client to the MCData message store.
Table 7.13.3.1.21-1: MCData delete folder request
* * *
Information element Status Description MCData ID M The identity of the MCData
user Folder identifier M The identifier of the folder to be deleted
* * *
##### 7.13.3.1.22 MCData delete folder response
Table 7.13.3.1.22-1 describes the information flow for the MCData delete
folder response sent from the MCData message store to the message store
client.
Table 7.13.3.1.22-1: MCData delete folder response
* * *
Information element Status Description MCData ID M The identity of the MCData
user Result M The result if the operation is success or failure
* * *
##### 7.13.3.1.23 MCData copy folder request
Table 7.13.3.1.23-1 describes the information flow for the MCData copy folder
request sent from the message store client to the MCData message store.
Table 7.13.3.1.23-1: MCData copy folder request
* * *
Information element Status Description MCData ID M The identity of the MCData
user Source folder identifier M The identifier of the folder to copy from
Destination folder identifier M The identifier of the folder to copy to New
folder name (see NOTE) O Indicates the name of the new folder NOTE: If no new
folder nameinformation element is provided, the new folder name will be the
same as the source folder name.
* * *
##### 7.13.3.1.24 MCData copy folder response
Table 7.13.3.1.24-1 describes the information flow for the MCData copy folder
response sent from the MCData message store to the message store client.
Table 7.13.3.1.24-1: MCData copy folder response
* * *
Information element Status Description MCData ID M The identity of the MCData
user Result M The result if the operation is success or failure New folder
identifier M Indicates the identifier of the new folder
* * *
##### 7.13.3.1.25 MCData move folder request
Table 7.13.3.1.25-1 describes the information flow for the MCData move folder
request sent from the message store client to the MCData message store.
Table 7.13.3.1.25-1: MCData move folder request
* * *
Information element Status Description MCData ID M The identity of the MCData
user Source folder identifier M The identifier of the folder to be moved
Destination folder identifier M The identifier of the folder to move to New
folder name (see NOTE) O Indicates the name of the new folder NOTE: If no new
folder name information element is provided, the new folder name will be the
same as the source folder name.
* * *
##### 7.13.3.1.26 MCData move folder response
Table 7.13.3.1.26-1 describes the information flow for the MCData move folder
response sent from the MCData message store to the message store client.
Table 7.13.3.1.26-1: MCData move folder response
* * *
Information element Status Description MCData ID M The identity of the MCData
user Result M The result if the operation is success or failure New folder
identifier M Indicates the identifier of the new folder
* * *
##### 7.13.3.1.27 MCData list folder request
Table 7.13.3.1.27-1 describes the information flow for the MCData list folder
request sent from the message store client to the MCData message store.
Table 7.13.3.1.27-1: MCData list folder request
* * *
Information element Status Description MCData ID M The identity of the MCData
user Folder identifier O The identifier of the folder to be listed
* * *
##### 7.13.3.1.28 MCData list folder response
Table 7.13.3.1.28-1 describes the information flow for the MCData list folder
response sent from the MCData message store to the message store client.
Table 7.13.3.1.28-1: MCData list folder response
* * *
Information element Status Description MCData ID M The identity of the MCData
user Result (see NOTE) M The result of the list operation NOTE: If no folder
identifier information element is provided in the request, the MCData message
store returns folders from the root of the user account. If folder identifier
information element is provided in the request, the MCData message store
returns the child folders from that folder identifier provided.
* * *
##### 7.13.3.1.29 MCData upload objects request
Table 7.13.3.1.29-1 describes the information flow for the MCData upload
objects request sent from the message store client to the MCData message
store.
Table 7.13.3.1.29-1: MCData upload objects request
* * *
Information element Status Description MCData ID M The identity of the MCData
user Targeted folder identifier M The folder where the uploaded objects will
be stored Uploaded objects M The objects in the client that need to be
uploaded to the MCData message store
* * *
##### 7.13.3.1.30 MCData upload objects response
Table 7.13.3.1.30-1 describes the information flow for the MCData upload
objects response sent from the MCData message store to the message store
client.
Table 7.13.3.1.30-1: MCData upload objects response
* * *
Information element Status Description MCData ID M The identity of the MCData
user Object upload result M Indicates if the objects upload is successful or
not
* * *
##### 7.13.3.1.31 MCData synchronization notification
Table 7.13.3.1.31-1 describes the information flow for the MCData
synchronization notification sent from the MCData message store to the message
store client.
Table 7.13.3.1.31-1: MCData synchronization notification
* * *
Information element Status Description MCData ID M The identity of the MCData
user that the notification is for
* * *
##### 7.13.3.1.32 Create notification channel request
Table 7.13.3.1.32-1 describes the information flow for the create notification
channel request sent from the message notification client to the MCData
notification server.
Table 7.13.3.1.32-1: Create notification channel request
* * *
Information element Status Description MCData ID M The identity of the MCData
client initiating the request Validity duration O How long the notification
channel is intended to be used (see NOTE) Channel Type M Indicates if PULL
(e.g. long-polling method) or PUSH method will be used to deliver notification
messages NOTE: If this element not present, a default validity duration shall
be provided by the server in response
* * *
##### 7.13.3.1.33 Create notification channel response
Table 7.13.3.1.33-1 describes the information flow for the create notification
channel response sent from the MCData notification server to the message
notification client.
Table 7.13.3.1.33-1: Create notification channel response
* * *
Information element Status Description MCData ID M The identity of the MCData
client initiating the request Validity duration M How long the notification
channel will last (i.e. channel lifetime) as granted by the MCData
notification server Notification URL O The URL to receive the notification
message if a Pull method is requested . For some PUSH method implementation
(such as WebSockets) this URL is used to start the PUSH notification service
from the MCData notification server Callback URL M The URL used by the Message
notification client to subscribe to MCData message store notifications
* * *
##### 7.13.3.1.34 Open notification channel
Table 7.13.3.1.34-1 describes the information flow for the open notification
channel sent from the message notification client to the MCData notification
server.
Table 7.13.3.1.34-1: Open notification channel request
* * *
Information element Status Description MCData ID M The identity of the MCData
client initiating the request Notification URL M The URL to receive the
notification message
* * *
##### 7.13.3.1.35 Subscribe for notification request
Table 7.13.3.1.35-1 describes the information flow for the subscribe for
notification request sent from the message store client to the MCData message
store.
Table 7.13.3.1.35-1: Subscribe for notification request
* * *
Information element Status Description MCData ID M The identity of the MCData
client initiating the request Callback URL M The URL where to send the
notification message Validity duration M How long the subscription to
notification will last (i.e. subscription lifetime); this value shall be the
returned value in the create notification channel response
* * *
##### 7.13.3.1.36 Subscribe for notification response
Table 7.13.3.1.36-1 describes the information flow for the subscribe for
notification response sent from the MCData message store to the message store
client.
Table 7.13.3.1.36-1: Subscribe for notification response
* * *
Information element Status Description MCData ID M The identity of the MCData
client initiating the request Validity duration M How long the subscription of
notification will last (i.e. subscription lifetime) as granted by the server
Result M Indicates if the subscription is success or failure
* * *
##### 7.13.3.1.37 MCData search folder request
Table 7.13.3.1.37-1 describes the information flow for the MCData search
folder request sent from the message store client to the MCData message store.
Table 7.13.3.1.37-1: MCData search folder request
* * *
Information element Status Description MCData ID M The identity of the MCData
user Search criteria M Any part of the folder information (such as metadata)
can be used as the search criteria. Linking multiple parts of the folder
information as the search criteria is possible
* * *
##### 7.13.3.1.38 MCData search folder response
Table 7.13.3.1.38-1 describes the information flow for the MCData search
folder response sent from the MCData message store to the message store
client.
Table 7.13.3.1.38-1: MCData search folder response
* * *
Information element Status Description MCData ID M The identity of the MCData
user Folder identifier(s) M The folder(s) that meets the search criteria. This
information element shall be returned as empty if there is no folder matching
the search criteria
* * *
##### 7.13.3.1.39 MCData retrieve folder content request
Table 7.13.3.1.39-1 describes the information flow for the MCData retrieve
folder content request sent from the message store client to the MCData
message store.
Table 7.13.3.1.39-1: MCData retrieve folder content request
* * *
Information element Status Description MCData ID M The identity of the MCData
user Folder identifier M The identifier of the folder its content is requested
to be returned
* * *
##### 7.13.3.1.40 MCData retrieve folder content response
Table 7.13.3.1.40-1 describes the information flow for the MCData retrieve
folder content response sent from the MCData message store to the message
store client.
Table 7.13.3.1.40-1: MCData retrieve folder content response
* * *
Information element Status Description MCData ID M The identity of the MCData
user Folder content M The content of the requested folder; such as objects and
subfolders. This information element shall be returned as empty if the
requested folder is not found.
* * *
##### 7.13.3.1.41 MCData retrieve file to store locally request
Table 7.13.3.1.41-1 describes the information flow for the MCData retrieve
file to store locally request sent from the message store client to the MCData
message store and from the MCData server to the MCData message store.
Table 7.13.3.1.41-1: MCData retrieve file to store locally request
* * *
Information element Status Description MCData ID M The identity of the MCData
user Object identifier M The object identifier of the FD communication object
stored in the MCData message store
* * *
##### 7.13.3.1.42 MCData retrieve file to store locally response
Table 7.13.3.1.42-1 describes the information flow for the MCData retrieve
file to store locally response sent from the MCData message store to the
message store client and the MCData server.
Table 7.13.3.1.42-1: MCData retrieve file to store locally response
* * *
Information element Status Description MCData ID M The identity of the MCData
user Result M Indicates success or failure of MCData update FD object with
file content request Content reference O URL reference to the file content
stored in the MCData user\'s storage area NOTE: Content reference shall be
present if the content stored into the MCData user\'s storage area
successfully.
* * *
##### 7.13.3.1.43 Update notification channel request
Table 7.13.3.1.43 describes the information flow for the update notification
channel request sent from the message notification client to the MCData
notification server.
Table 7.13.3.1.43: Update **notification** channel request
Information element Status Description
* * *
MCData ID M The identity of the MCData client initiating the request Validity
duration M How long the notification channel will last (i.e. channel lifetime)
as requested by the Message notification client.
##### 7.13.3.1.44 Update notification channel response
Table 7.13.3.1.44 describes the information flow for the update notification
channel response sent from the MCData notification server to the message
notification client.
Table 7.13.3.1.44: Update notification channel response
Information element Status Description
* * *
MCData ID M The identity of the MCData client initiating the request Validity
duration M How long the notification channel will last (i.e. channel lifetime)
as granted by the MCData notification server Result M Indicates if the update
is success or failure
##### 7.13.3.1.45 Update notification subscription request
Table 7.13.3.1.45 describes the information flow for the update notification
subscription request sent from the message store [client]{.underline} to the
MCData message store.
Table 7.13.3.1.45: Update notification subscription request
Information element Status Description
* * *
MCData ID M The identity of the MCData client initiating the request Validity
duration M How long the notification channel will last (i.e. notification
subscription lifetime). This value should be the returned value in the update
notification channel response
##### 7.13.3.1.46 Update notification subscription response
Table 7.13.3.1.46 describes the information flow for the update notification
subscription response sent from the MCData message store to the message store
client.
Table 7.13.3.1.46: Update notification subscription response
Information element Status Description
* * *
MCData ID M The identity of the MCData client initiating the request Validity
duration M How long the notification channel will last (i.e. notification
subscription lifetime) as granted by the MCData message store Result M
Indicates if the update is success or failure
##### 7.13.3.1.47 Delete notification channel request
Table 7.13.3.1.47 describes the information flow for the delete notification
channel request sent from the message notification client to the MCData
notification server.
Table 7.13.3.1.47: Delete notification channel request
Information element Status Description
* * *
MCData ID M The identity of the MCData client initiating the request
##### 7.13.3.1.48 Delete notification channel response
Table 7.13.3.1.48 describes the information flow for the delete notification
channel response sent from the MCData notification server to the message
notification client.
Table 7.13.3.1.48: Delete notification channel response
Information element Status Description
* * *
MCData ID M The identity of the MCData client initiating the request Result M
Indicates if deletion of notification channel is success or failure
##### 7.13.3.1.49 Delete notification subscription request
Table 7.13.3.1.49 describes the information flow for the delete notification
subscription request sent from the message store [client]{.underline} to the
MCData message store.
Table 7.13.3.1.49: Delete notification subscription request
Information element Status Description
* * *
MCData ID M The identity of the MCData client initiating the request
##### 7.13.3.1.50 Delete notification subscription response
Table 7.13.3.1.50 describes the information flow for the delete notification
subscription response sent from the MCData message store to the message store
client.
Table 7.13.3.1.50: Delete notification subscription response
Information element Status Description
* * *
MCData ID M The identity of the MCData client initiating the request Result M
Indicates if deletion of notification subscription is success or failure
##### 7.13.3.1.51 Notification message
Table 7.13.3.1.51-1 describes the information flow for the notification
message sent from the MCData message store to the MCData notification server
and from the MCData notification server to the MCData notification client.
Table 7.13.3.1.51-1: Notification message
* * *
Information element Status Description Event-data M The specific information
carried in the notification message to inform the MCData client of changes to
the MCData message store. (see NOTE) NOTE: MCData client uses the event
information for actions such as updating its local message store or uses the
event as a trigger for inquiring the Message store for desired changes.
* * *
#### 7.13.3.2 Retrieve a stored object
##### 7.13.3.2.1 General
A stored object can be retrieved from the MCData message store with the known
object identifier that is generated by the MCData message store when the
object was deposited.
##### 7.13.3.2.2 Procedure
The procedure in figure 7.13.3.2.2-1 describes the case when a message store
client retrieves a stored object from the MCData message store using the known
object identifier.
Pre-conditions:
1\. A successful authentication and authorization have been performed between
the message store client and the MCData message store.
2\. The message store client knows the object identifier of the stored object.
Figure 7.13.3.2.2-1: Retrieve a stored object
1\. The message store client would like to retrieve a stored object from the
MCData message store and initiates a MCData retrieve a stored object request
toward the MCData message store. The unique object identifier of the stored
object is included in the request.
2\. The MCData message store returns the stored object that is identified by
the object identifier in the MCData retrieve a stored object response.
#### 7.13.3.3 Search stored objects
##### 7.13.3.3.1 General
The message store client can search stored objects in the MCData message store
with certain criteria. This procedure allows the message store client to look
for stored object(s) without knowing the object identifier(s) of the object.
This procedure also allows the message store client to retrieve stored objects
that are related to each other; such as all messages and files exchanged in a
conversation.
##### 7.13.3.3.2 Procedure
The procedure in figure 7.13.3.3.2-1 describes the case when a message store
client searches and retrieves relevant stored objects from the MCData message
store.
Pre-conditions:
1\. A successful authentication and authorization have been performed between
the message store client and the MCData message store.
Figure 7.13.3.3.2-1: Search stored objects
1\. The message store client would like to retrieve stored objects that meet
certain criteria (such as with the same Conversation identifier) and initiates
a MCData search objects request toward the MCData message store. The search
criteria are included in the request.
2\. The MCData message store looks up all stored objects that meet the search
criteria and returns them in the MCData search objects response.
#### 7.13.3.4 Update a stored object
##### 7.13.3.4.1 General
The message store client can update the metadata of a stored object (such as
mark a stored object as \"flagged\").
##### 7.13.3.4.2 Procedure
The procedure in figure 7.13.3.4.2-1 describes the case when a message store
client updates metadata of a stored object in the MCData message store.
Pre-conditions:
1\. A successful authentication and authorization have been performed between
the message store client and the MCData message store.
2\. The message store client knows the object identifier of the stored object.
Figure 7.13.3.4.2-1: Update a stored object
1\. The message store client would like to update the metadata of a stored
object (such as \"flagged\") and initiates a MCData update a stored object
request toward the MCData message store. The stored object\'s object
identifier and the updated meta data are included in the request.
2\. The MCData message store locates the stored object with the object
identifier and updates its metadata as carried in the MCData update a stored
object request and communicates the result in the MCData update a stored
object response.
#### 7.13.3.5 Delete a stored object
##### 7.13.3.5.1 General
The message store client of an authorized user can delete a stored object in
the MCData message store.
##### 7.13.3.5.2 Procedure
The procedure in figure 7.13.3.5.2-1 describes the case when a stored object
in the MCData message store is deleted by the message store client of an
authorized MCData user.
Pre-conditions:
1\. A successful authentication and authorization have been performed between
the message store client and the MCData message store.
2\. The message store client knows the object identifierof the stored object.
3\. The MCData user is authorized to delete the stored object.
Figure 7.13.3.5.2-1: Delete a stored object
1\. The message store client would like to delete a stored object in the
MCData message store and initiates a MCData delete a stored object request
toward the MCData message store. The stored object\'s object identifier is
included in the request.
2\. The MCData message store locates the stored object with the object
identifier and permanently removes it from the MCData message store. It then
communicates the result in the MCData delete a stored object response.
#### 7.13.3.6 Synchronization
##### 7.13.3.6.1 General
The message store client can synchronize its local message store with the
MCData message store. Different level of synchronization shall be supported
with a filter in the request.
##### 7.13.3.6.2 Procedure
The procedure in figure 7.13.3.6.2-1 describes the case when a message store
client synchronizes its local message store with the MCData message store for
a MCData user.
Pre-conditions:
1\. A successful authentication and authorization have been performed between
the message store client and the MCData message store.
Figure 7.13.3.6.2-1: Synchronization
1\. The message store client would like to synchronize its local message store
with the MCData message store. It initiates the MCData synchronization request
toward the MCData message store. The synchronization type and optional filter
criteria are included in the request to indicate the type of synchronization
(such as full synchronization, partial synchronization etc.) is requested.
2\. The MCData message store returns all the stored objects, based on the
synchronization filter criteria, to the message store client in the MCData
synchronization response.
#### 7.13.3.7 Create a user account
##### 7.13.3.7.1 General
When the MCData server is ready to deposit an object into the MCData user\'s
storage area in the MCData message store the MCData user\'s storage area (i.e.
user account) needs to be created already. If the user account is not created,
the MCData server shall create the user account (i.e. allocate the MCData
user\'s storage area in the MCData message store) first and then deposit the
subsequent MCData communications.
NOTE: Another possible way to create a user account on the MCData message
store is through service provisioning which is out of the scope of the present
document.
##### 7.13.3.7.2 Procedure
The procedure in figure 7.13.3.7.2-1 describes how the MCData server creates a
user account (allocate MCData user storage area) in the MCData message store.
Pre-conditions:
1\. A successful authentication and authorization has been performed between
the MCData server and the MCData message store.
2\. No storage area in the MCData message store has been allocated for the
MCData user; i.e. no user account has been created.
3\. The MCData server is authorized to create user accounts on the MCData
message store.
Figure 7.13.3.7.2-1: Create a user account
1\. The MCData server would like to create a MCData user account in the MCData
message store to store the MCData communication for that MCData user and
initiates a MCData create a user account request toward the MCData message
store. The MCData ID of the MCData user is included in the request.
2\. The MCData message store creates a user account (i.e. allocate dedicated
and secured storage area) for the MCData user as specified in the request and
communicates the result back to the MCData server in the MCData create a user
account response.
#### 7.13.3.8 Deposit an object
##### 7.13.3.8.1 General
MCData server needs to store the communication information (i.e. an object)
for a MCData user during an active MCData communication. If there is a file
URL in the object for file distribution in the communication, the MCData
server may instruct the MCData message store to retrieve a copy of the file to
store locally in the MCData user\'s account.
##### 7.13.3.8.2 Procedure
The procedure in figure 7.13.3.8.2-1 describes how the MCData server deposit
an object into the MCData message store during an active MCData communication.
Pre-conditions:
1\. A successful authentication and authorization has been performed between
the MCData server and the MCData message store.
> 2\. The MCData user has been allocated a secured storage area in the MCData
> message store.
>
> 3\. The configuration to store the MCData communication in MCData message
> store is enabled for the MCData user.
>
> 4\. MCData user has requested to store his MCData communication and also
> store the distributed file content into his MCData message store account if
> the MCData communication is for file distribution through URL.
Figure 7.13.3.8.2-1: Deposit an object
1\. The MCData server would like to deposit a MCData communication information
(i.e. object) to the MCData user\'s storage area in the MCData message store
and initiates a MCData deposit an object request toward the MCData message
store. The object is constructed by the MCData server and is included in the
request. If the object is a message that carries a URL for file distribution,
the MCData server may instruct the MCData message store to retrieve a copy of
the file and store locally in the MCData user\'s account by setting the
retrieve file indication information element to true.
> 2\. The MCData message store deposits the object into the MCData user\'s
> storage area. If the retrieve file indication is set in the MCData deposit
> an object request the MCData message store retrieves the file URL from the
> stored object and fetches the file content from the MCData content server.
>
> 3\. The MCData message store stores the file content into the MCData user\'s
> storage area and update the object with the URL referencing the file content
> stored in the MCData user\'s storage area.
>
> 4\. The MCData message store communicates the result back to the MCData
> server in the MCData deposit an object response. The object identifier of
> the stored object is returned.
#### 7.13.3.9 Copy a stored object
##### 7.13.3.9.1 General
A stored object in the MCData message store can be copied to another location
(i.e. folder) in the same MCData user account where there is no such object
stored. After the successful object copy operation, the object will exist in
both the original and destination locations. This operation is only meaningful
when the user account in the MCData message store is structured in the folder
hierarchy.
##### 7.13.3.9.2 Procedure
The procedure in figure 7.13.3.9.2-1 describes the case when a stored object
is copied to a different location in the same MCData user account.
Pre-conditions:
1\. The MCData user has an account in the MCData message store.
2\. A successful authentication and authorization have been performed between
the message store client and the MCData message store.
3\. The message store client knows the object identifier of the stored object
and the destination folder identifier.
Figure 7.13.3.9.2-1: Copy a stored object
1\. The message store client would like to copy a stored object in the MCData
message store to a destination folder and initiates a MCData copy a stored
object request toward the MCData message store. The uniqe identifier of the
stored object and the destination folder are included in the request.
2\. The MCData message store copies the object to the target location.
3\. The MCData message store returns the result of the request in the MCData
copy a stored object response.
#### 7.13.3.10 Move a stored object
##### 7.13.3.10.1 General
A stored object in the MCData message store can be moved to a different
location (i.e. folder) in the same MCData user account. After the successful
object move operation the object will only exist in the new location. This
operation is only meaningful when the user account in the MCData message store
is structured in the folder hierarchy.
##### 7.13.3.10.2 Procedure
The procedure in figure 7.13.3.10.2-1 describes the case when a stored object
is moved to a different location in the same MCData user account.
Pre-conditions:
1\. The MCData user has an account in the MCData message store.
2\. A successful authentication and authorization have been performed between
the message store client and the MCData message store.
3\. The message store client knows the object identifier of the stored object
and the destination folder identifier.
Figure 7.13.3.10.2-1: Move a stored object
1\. The message store client would like to move a stored object in the MCData
message store to a destination folder and initiates a MCData move a stored
object request toward the MCData message store. The uniqe object identifier of
the stored object and the destination folder are included in the request.
2\. The MCData message store moves the object to the target location.
3\. The MCData message store returns the result of the request in the MCData
move a stored object response.
#### 7.13.3.11 Folder create operation
##### 7.13.3.11.1 General
A user can create a new folder in his user account n the MCData message store.
This operation is only meaningful when the user account in the MCData message
store is structured in the folder hierarchy.
##### 7.13.3.11.2 Procedure
The procedure in figure 7.13.3.11.2-1 describes the case when a MCData user
creates a new folder in the MCData message store.
Pre-conditions:
1\. The MCData user has an account in the MCData message store.
2\. A successful authentication and authorization have been performed between
the message store client and the MCData message store.
Figure 7.13.3.11.2-1: Create a new user folder
1\. The MCData user would like to create a new folder in his user account in
the MCData message store, the message store client initiates a MCData create
folder request toward the MCData message store. The parent folder identifier
and the folder name are included in the request to indicate where the new
folder will be created.
2\. The MCData message store creates the user folder in the location specified
in the request. If the folder name is provided in the request, the MCData
message store creates the folder with the provided folder name. If the
provided folder name has a conflict or no folder name is provided in the
request, the MCData message store assigns a name for the new user folder.
3\. The MCData message store returns the result in the MCData create folder
response. The identifier of the new folder is returned in the response.
#### 7.13.3.12 Folder delete operation
##### 7.13.3.12.1 General
A user can delete an existing folder in his user account in the MCData message
store. All the child folders and objects stored in that folder will be
deleted. This operation is only meaningful when the user account in the MCData
message store is structured in the folder hierarchy.
##### 7.13.3.12.2 Procedure
The procedure in figure 7.13.3.12.2-1 describes the case when a MCData user
deletes an existing folder in the MCData message store.
Pre-conditions:
1\. The MCData user has an account in the MCData message store.
2\. A successful authentication and authorization have been performed between
the message store client and the MCData message store.
Figure 7.13.3.12.2-1: Delete a user folder
1\. The MCData user would like to delete an existing folder in his user
account in the MCData message store, the message store client initiates a
MCData delete folder request toward the MCData message store. The folder
identifier of the folder to be deleted is included in the request.
2\. The MCData message store identifies the target folder and deletes it from
the user account. All the child folders and objects stored in this folder are
also deleted.
3\. The MCData message store returns the result in the MCData delete folder
response.
#### 7.13.3.13 Folder copy operation
##### 7.13.3.13.1 General
A user can copy an existing folder in his user account to a different
location. All the child folders and objects stored in that folder will be
copied to the new folder. The name of the new folder will be the same as the
folder it copies from or the name provided in the request. This operation is
only meaningful when the user account in the MCData message store is
structured in the folder hierarchy.
##### 7.13.3.13.2 Procedure
The procedure in figure 7.13.3.13.2-1 describes the case when a MCData user
copies an existing folder in the MCData message store.
Pre-conditions:
1\. The MCData user has an account in the MCData message store.
2\. A successful authentication and authorization have been performed between
the message store client and the MCData message store.
Figure 7.13.3.13.2-1: Copy a user folder
1\. The MCData user would like to copy an existing folder in his user account
in the MCData message store, the message store client initiates a MCData copy
folder request toward the MCData message store. The folder identifiers of the
source and destination folders and the new folder name are included in the
request.
2\. The MCData message store copy the source folder to the destination with
the new folder name. If no new folder name is provided in the request, the
source folder name will be used. All the child folders and objects stored in
this folder are also copied to the new folder.
3\. The MCData message store returns the result in the MCData copy folder
response. The identifier of the new folder is returned in the response.
#### 7.13.3.14 Folder move operation
##### 7.13.3.14.1 General
A user can move an existing folder in his user account to a different
location. All the child folders and objects stored in that folder will be
moved to the new folder. The name of the new folder will be the same as the
folder it moves from or the name provided in the request. This operation is
only meaningful when the user account in the MCData message store is
structured in the folder hierarchy.
##### 7.13.3.14.2 Procedure
The procedure in figure 7.13.3.14.2-1 describes the case when a MCData user
moves an existing folder in the MCData message store.
Pre-conditions:
1\. The MCData user has an account in the MCData message store.
2\. A successful authentication and authorization have been performed between
the message store client and the MCData message store.
Figure 7.13.3.14.2-1: Move a user folder
1\. The MCData user would like to move an existing folder in his user account
in the MCData message store to a new location, the message store client
initiates a MCData move folder request toward the MCData message store. The
folder identifiers of the source and destination folders and the new folder
name are included in the request.
2\. The MCData message store move the source folder to the destination with
the new folder name. If no new folder name is provided in the request, the
source folder name will be used. All the child folders and objects stored in
this folder are also moved to the new folder.
3\. The MCData message store returns the result in the MCData move folder
response. The identifier of the new folder is returned in the response.
#### 7.13.3.15 Folder list operation
##### 7.13.3.15.1 General
A user can view the folder structure in his user account in the MCData message
store. The target folder hierarchy structure will be presented to the user;
i.e. the folder and all its child folders. This operation is only meaningful
when the user account in the MCData message store is structured in the folder
hierarchy.
##### 7.13.3.15.2 Procedure
The procedure in figure 7.13.3.15.2-1 describes the case when a MCData user
lists an existing folder\'s hierarchy structure in the MCData message store.
Pre-conditions:
1\. The MCData user has an account in the MCData message store.
2\. A successful authentication and authorization have been performed between
the message store client and the MCData message store.
Figure 7.13.3.15.2-1: Folder list operation
1\. The MCData user would like to view the folder strcture of a targeted
folder in his user account in the MCData message store, the message store
client initiates a MCData list folder request toward the MCData message store.
The folder identifier of the target folder is included in the request.
2\. The MCData message store retrieves the target folder and all its child
folders. If no target folder name is provided in the request, the MCData
message store will use the root folder as the target folder.
3\. The MCData message store returns the result in the MCData list folder
response.
#### 7.13.3.16 Upload objects
##### 7.13.3.16.1 General
A MCData user, with an account in the MCData message store, involved in an
off-network communication will store the communication as objects in a
specific folder in the local message store on his UE. These objects can be
uploaded to his user account in the MCData message store once he is connected
to the network with MC data service again.
##### 7.13.3.16.2 Procedure
The procedure in figure 7.13.3.16.2-1 describes the case when a message store
client uploads new objects in its local message store to the MCData message
store for a MCData user.
Pre-conditions:
1\. The MCData user has an account with the MCData message store.
2\. A successful authentication and authorization have been performed between
the message store client and the MCData message store.
Figure 7.13.3.16.2-1: Upload objects
1\. The message store client would like to upload new objecs in its local
message store to the MCData message store. It initiates the MCData upload
objects request toward the MCData message store. The uploaded objects and the
target folder identifier where the objects will be stored are included in the
request.
2\. The MCData message store stores the uploaded objects to the target folder.
If the target folder doesn\'t exist, the MCData message store will create it.
3\. The MCData message store returns the result in the MCData upload objects
response.
#### 7.13.3.17 Notify client to synchronize
##### 7.13.3.17.1 General
MCData message store will send a notification to the MCData user when there
are new objects in the MCData message store that need to be synchronized with
his local message store.
##### 7.13.3.17.2 Procedure using in-band connection
The procedure in figure 7.13.3.17.2-1 describes how the MCData message store
notifies the message store client that there are new objects in the MCData
message store need to be synchronized.
Pre-conditions:
1\. The MCData user has an account with the MCData message store.
2\. A successful authentication and authorization have been performed between
the message store client and the MCData message store.
3\. The Message store client is in an ongoing session with the MCData message
store.
Figure 7.13.3.17.2-1: Notify client to synchronize using in-band connection
1\. The MCData message store receives new objects for the MCData user and
decides to send a notification to inform the MCData user.
NOTE: How MCData message store determines if a notification needs to be sent
to the message store client is out of scope of the present specification.
2\. The MCData message store sends the MCData synchronization notification to
the message store client.
##### 7.13.3.17.3 Procedure using MCData notification server
The procedure in figure 7.13.3.17.3-1 describes how the MCData message store
notifies the message notification client, using a MCData notification server,
that there are new objects in the MCData message store needing to be
synchronized. This procedure uses a web base notification mechanism in wide
deployment today. The Message notification client requests the notification
service from the MCData notification server and the MCData notification server
returns with two URLs; one used by the service client to inform the service
server where to send notification messages and the other one to use by the
service client to PULL notification messages from the MCData notification
server.
Pre-conditions:
1\. The MCData user has an account with the MCData message store.
2\. A successful authentication and authorization have been performed between
the message store client and the MCData message store.
3\. The Message store client doesn\'t have an ongoing session with the MCData
message store.
4\. The trust relationship between the MCData notification server and the
MCData message store has been established.
5\. The MCData notification server has a trust relationship and connection
with the PUSH Enabler server.
Figure 7.13.3.17.3-1: Notify client to synchronize through MCData notification
server
1\. The Message notification client wants to create notification channels
(i.e. endpoint URLs) to be used by the MCData message store to send
notification messages and sends a Create notification channel request to the
MCData notification server. The desired validity duration for the channels to
be used and the notification channel type (PUSH or PULL) are included in the
request.
2\. The MCData notification server authenticates the Message notification
client and authorizes its request.
3\. The MCData notification server sends the Message notification client the
Create notification channel response with the endpoint URLs that will be used
by the MCData message store to send the notification messages and the Message
notification client to receive the notification messages. The MCData
notification server also includes what is the valid duration for these
endpoint URLs to be used in the response.
4\. If the notification type is PULL method, the message notification client
sends the Open notification channel to the MCData notification server to start
receiving the notification message. For certain PUSH method notification type
(such as WebSockets) the message notification client requests the MCData
notification server to start the PUSH notification service with its specific
protocol that is outside the scope of this specification.
5\. The message store client sends the Subscribe for notification request to
the MCData message store asking to be notified if there are changes to its
message store account. The callback URL returned from the MCData notification
server in step 3 is included in the request for the MCData message store to
use to send notification messages.
6\. The MCData message store sends the Subscribe for notification response to
the message store client to acknowledge the request.
7\. The MCData user\'s message store account has changed and the MCData
message store generates a notification message.
8\. Using the callback URL, the MCData message store sends the notification
message to the MCData notification server.
9\. If the delivery method is PULL, the MCData notification server sends the
notification message to the message notification client over the opened
notification channel. If the delivery method is PUSH, the MCData notification
server sends the notification message to the PUSH Enabler server (not shown in
the figure) to deliver to the message notification client.
NOTE: The PUSH Enabler server is implementation specific and outside the scope
of this specification.
The procedure in figure 7.13.3.17.3-2 describes how the message notification
client updates the validity duration of a notification channel and
subscription to avoid its expiration, i.e. to extend its lifetime.
Pre-conditions:
1\. A notification channel has already been requested and established between
the message notification client and MCData notification server.
2\. The message store client has a successful notification subscription with
the MCData message store.
3\. The validity duration of the notification channel is about to expire.
Figure 7.13.3.17.3-2: Update a notification channel
1\. The message notification client sends the Update notification channel
request, including the desired new validity duration, to the MCData
notification server.
2\. The MCData notification server grants the request and sends the Update
notification channel response to the message notification client. The new
validity duration is included in the response.
3\. The message store client sends the Update notification subscription
request to the MCData message store with the new validity duration received
from the MCData notification server in step 2.
4\. The MCData message store sends the Update notification subscription
response to the message store client and confirms the new validity duration.
The procedure in figure 7.13.3.17.3-3 describes how the message notification
client delete a notification channel and subscription that is no longer
needed.
Pre-conditions:
1\. A notification channel has already been requested and established between
the message notification client and MCData notification server.
2\. The message store client has a successful notification subscription with
the MCData message store.
3\. The MCData user no longer wants to receive notifications from the MCData
message store.
Figure 7.13.3.17.3-3: Delete a notification channel
1\. The message store client decides to stop receiving notifications from the
MCData message store and sends the Delete notification subscription request to
the MCData message store.
2\. The MCData message store acknowledges the request and sends the Delete
notification subscription response to the message store client.
3\. The message notification client sends the Delete notification channel
request to the MCData notification server.
4\. The MCData notification server acknowledges the request and sends the
Delete notification channel response to the message notification client.
#### 7.13.3.18 Search folder
##### 7.13.3.18.1 General
The message store client can search stored folder(s) with certain criteria.
This procedure allows the message store client to look for folder(s) that meet
certain criteria such as when the folder is created. This procedure provides
the message store client the ability to locate a specific folder(s) matching
the search criteria to perform further operations.
##### 7.13.3.18.2 Procedure
The procedure in figure 7.13.3.18.2-1 describes the case when a message store
client searches and retrieves relevant stored objects from the MCData message
store.
Pre-conditions:
1\. A successful authentication and authorization have been performed between
the message store client and the MCData message store.
Figure 7.13.3.18.2-1: Search folder
1\. The message store client wants to retrieve message store folder(s) that
meet certain criteria (such as when the folder(s) was created, certain
keywords etc.) and initiates a MCData search folder request toward the MCData
message store. The search criteria are included in the request.
2\. The MCData message store identifies all folders that match the search
criteria and returns them in the MCData search folder response.
#### 7.13.3.19 Retrieve folder content
##### 7.13.3.19.1 General
An MCData user can retrieve the content of a folder in the user\'s message
store account. This procedure allows the message store client to retrieve the
specific folder\'s content from the MCData message store.
##### 7.13.3.19.2 Procedure
The procedure in figure 7.13.3.19.2-1 describes the case when a message store
client retrieves the content of a specific folder in the MCData message store.
Pre-conditions:
1\. A successful authentication and authorization have been performed between
the message store client and the MCData message store.
Figure 7.13.3.19.2-1: retrieve folder content
1\. The message store client wants to retrieve the content of a specific
folder and initiates a MCData retrieve folder content request toward the
MCData message store. The requested folder identifier is included in the
request.
2\. The MCData message store locates the requested folder and returns the
content of the folder (e.g. objects and subfolders) in the MCData retrieve
folder content response.
#### 7.13.3.20 Store file contents distributed using HTTP
##### 7.13.3.20.1 General
An MCData user can store the received file content in his message store
account. This procedure allows the message store client to request the MCData
message store to retrieve the file from the media storage function of MCData
content server and store into MCData message store account of the user.
##### 7.13.3.20.2 Procedure for storing the file -- receiver side
The procedure in figure 7.13.3.20.3-1 describes the case when a message store
client requests the MCData message store to retrieve the file from media
storage function of MCData content server and store into MCData message store
account of the user.
Pre-conditions:
1\. A successful authentication and authorization have been performed between
the message store client and the MCData message store.
> 2\. The configuration to store the MCData communication in MCData message
> store is enabled for the MCData user.
3\. MCData user has requested to store his MCData communication.
4\. The message store client knows the object identifier of the stored object.
Figure 7.13.3.20.3-1: store file contents distributed using HTTP -- receiver
side
1\. The Message store client initiates MCData retrieve file to store locally
request towards the MCData message store. The object identifier corresponding
to the stored MCData FD communication is included in the request.
2\. The MCData message store retrieves the file URL from the stored object and
fetches the file content from the MCData content server.
3\. The MCData message store stores the file content into the MCData user\'s
storage area and update the object with the URL referencing the file content
stored in the MCData user\'s storage area.
4\. The MCData message store provides the MCData retrieve file to store
locally response to the message store client. This response includes the URL
of the file being stored in the MCData user\'s storage area.
### 7.13.4 Generic outgoing SDS procedure with MCData message store
#### 7.13.4.1 General
When a MCData user is supported with MCData message store all his outgoing
communications shall be stored in his account in the MCData message store when
he has requested. This generic SDS procedure applies to all procedures in
subclause 7.4.2 when the MCData user requests to store the MCData
communication.
#### 7.13.4.2 Procedure
The procedure in figure 7.13.4.2-1 describes the generic SDS service where
MCData message store is supported.
Pre-conditions:
1\. MCData user has an account created with MCData message store.
> 2\. The configuration to store the MCData communication in MCData message
> store is enabled for the MCData user.
3\. MCData user has requested to store his MCData communication.
Figure 7.13.4.2-1 Generic outgoing SDS procedure with MCData message store
1\. MCData client initiates an MCData SDS service request; this service
request can be a private or group communication.
2\. MCData server stores the communication as an object to the MCData user
account in the MCData message store.
3\. MCData server checks and authorizes the service request and continue the
service request toward the targeted recipient(s) as described in subclause
7.4.2.
### 7.13.5 Generic incoming SDS procedure with MCData message store
#### 7.13.5.1 General
When a MCData user is supported with MCData message store all his incoming
communications shall be stored in his account in the MCData message store when
he has requested. This generic SDS procedure applies to all prcedures in
subclause 7.4.2 when the MCData user requests to store the MCData
communication.
#### 7.13.5.2 Procedure
The procedure in figure 7.13.5.2-1 describes the generic SDS service where
MCData message store is supported.
Pre-conditions:
1\. MCData user has an account created with MCData message store.
> 3\. The configuration to store the MCData communication in MCData message
> store is enabled for the MCData user.
3\. MCData user has requested to store his MCData communication.
Figure 7.13.5.2-1 Generic incoming SDS procedure with MCData message store
1\. The MCData server receives an incoming MCData SDS service request for the
MCData user. This service request can be a response to an earlier service
request sent by the MCData user or a new service request coming from any
sender.
2\. MCData server stores the communication as an object to the MCData user
account in the MCData message store.
3\. MCData server delivers the service request to MCData user as described in
subclause 7.4.2.
### 7.13.6 Interconnection and migration with MCData message store
#### 7.13.6.1 Interconnection
There is no interconnection of MCData message stores, as there are no defined
reference points providing connection between message stores in different
MCData systems.
#### 7.13.6.2 Migration
A migrated MCData user may be provided with access to a local message store by
the partner MCData system of the migrated MCData user. The MCData user is
identified by the MCData ID used in the partner MCData system by that migrated
MCData user in order to access the message store. There is no connection
between this message store in the partner MCData system of the migrated MCData
user and any message store that the MCData user has access to in the primary
MCData system of that MCData user, and therefore access to a message store in
the partner MCData system does not provide a means of accessing stored content
in the primary MCData system of the migrated MCData user.
A migrated MCData user may be provided with a means of access to the message
store in the primary MCData system of that MCData user, e.g. by providing the
MCData user with a suitable APN and appropriate IP routing, or by use of the
MCData IP connectivity service. Such access is outside the scope of the
present document.
## 7.14 IP connectivity
### 7.14.1 General
IP data shall be exchanged between two or more data hosts. The MCData client
as the link between data host and MC system enables the exchange of IP Data.
For addressing the corresponding MCData users either MCData ID or the
functional alias can be used independently of each other. The MCData server
provides the mechanisms to establish the association between MCData ID and
corresponding functional alias.
### 7.14.2 IP connectivity for on-network
#### 7.14.2.1 Information flows for IP connectivity
##### 7.14.2.1.1 MCData IPcon point-to-point request
Table 7.14.2.1.1-1 describes the information flow of the MCData IPcon point-
to-point request sent from the MCData client to the MCData server.
Table 7.14.2.1.1-1: MCData IPcon point-to-point request (MCData client to
MCData server)
+----------------------------+----------+----------------------------+ | Information element | Status | Description | +============================+==========+============================+ | MCData ID | M | The MCData identity of the | | | | originator MCData user; | +----------------------------+----------+----------------------------+ | Functional alias | O | The associated functional | | | | alias of the originator | | | | MCData user; | +----------------------------+----------+----------------------------+ | MCData ID | O | The MCData identity of the | | | | target MCData client IP | | | (NOTE 2) | connectivity is requested. | +----------------------------+----------+----------------------------+ | Functional alias | O\ | The functional alias of | | | (NOTE 2) | the target MCData client. | +----------------------------+----------+----------------------------+ | Requested Priority | O | Application priority level | | | | requested for this | | (NOTE 3) | | communication. | +----------------------------+----------+----------------------------+ | Location Information | O | Actual location | | | | information of the | | | (NOTE 1) | originating MCData user; | +----------------------------+----------+----------------------------+ | Time Limit | O | Proposed time limit of the | | | | requested IP connectivity | | | | (1min- infinite); | +----------------------------+----------+----------------------------+ | Establishment reason | O | IP connectivity | | | | establishment reason | +----------------------------+----------+----------------------------+ | NOTE 1: This information | | | | contains the latest | | | | available location | | | | information of the | | | | requesting MCData user | | | | that may be different to | | | | the latest available | | | | location information in | | | | the MC system. | | | | | | | | NOTE 2: Either the MCData | | | | ID or the functional alias | | | | of the target MCData user | | | | must be present. | | | | | | | | NOTE 3: The predefined | | | | priority of the MC service | | | | user is applied by the | | | | MCData server if the | | | | requested priority is not | | | | present or not accepted by | | | | the MCData server. | | | +----------------------------+----------+----------------------------+
Table 7.14.2.1.1-2: MCData IPcon point-to-point request (MCData server to
MCData client)
+----------------------------+----------+----------------------------+ | Information element | Status | Description | +============================+==========+============================+ | MCData ID | M | The MCData identity of the | | | | originator MCData user; | +----------------------------+----------+----------------------------+ | MCData ID | M | The MCData identity of the | | | | target MCData client IP | | | | connectivity is requested. | +----------------------------+----------+----------------------------+ | Location Information | O | Actual location | | | | information of the | | | (NOTE 1) | originating MCData user; | +----------------------------+----------+----------------------------+ | Time Limit | O | Proposed time limit of the | | | | requested IP connectivity | | | | (1min- infinite); | +----------------------------+----------+----------------------------+ | Establishment reason | O | IP connectivity | | | | establishment reason | +----------------------------+----------+----------------------------+ | NOTE 1: This information | | | | contains the latest | | | | available location | | | | information of the | | | | requesting MCData user. | | | +----------------------------+----------+----------------------------+
##### 7.14.2.1.2 MCData IPcon point-to-point response
Table 7.14.2.1.2-1 describes the information content of the MCData IPcon
point-to-point response as answer to MCData IPcon point-to-point request.
Table 7.14.2.1.2-1: MCData IPcon point-to-point response
Information element Status Description
* * *
MCData ID M The MCData identity of the targeted MCData user. MCData ID M The
MCData identity of the requesting MCData user. Time Limit O Negotiated time (1
min -- infinite) IP connectivity status M IP connectivity establishment result
##### 7.14.2.1.3 MCData remote IPcon point-to-point request
Table 7.14.2.1.3-1 describes the information flow of the MCData remote IPcon
point-to-point request sent from the remote MCData client to the MCData server
and from the MCData server to the asked MCData client.
Table 7.14.2.1.3-1: MCData remote IPcon point-to-point request
+-----------------------------+--------+-----------------------------+ | Information element | Status | Description | +=============================+========+=============================+ | MCData ID remote | M | The MCData identity of the | | | | remote MCData client that | | | | requests another MCData | | | | user to establish an IP | | | | connectivity point-to-point | | | | session. | +-----------------------------+--------+-----------------------------+ | Functional alias remote | O | The associated functional | | | | alias of the remote MCData | | | | user. | +-----------------------------+--------+-----------------------------+ | MCData ID asked | M | The MCData identity of the | | | | MCData client that is | | | | required to establish an IP | | | | connectivity point-to-point | | | | session. | +-----------------------------+--------+-----------------------------+ | Functional alias asked | O | The functional alias | | | | associated with the MCData | | | | identity of the MCData | | | | client that is required to | | | | establish an IP | | | | connectivity point-to-point | | | | session. | +-----------------------------+--------+-----------------------------+ | MCData ID targeted (NOTE 1) | O | The MCData identity of the | | | | MCData client that is the | | | | target of the requested IP | | | | connectivity point-to-point | | | | session. | +-----------------------------+--------+-----------------------------+ | Functional alias targeted | O | The functional alias | | (NOTE 1) | | associated with the MC | | | | MCData identity of the | | | | MCData client that is the | | | | target of the requested IP | | | | connectivity point-to-point | | | | session. | +-----------------------------+--------+-----------------------------+ | Requested Priority | O | Application priority level | | | | requested for this call. | | (NOTE 2) | | | +-----------------------------+--------+-----------------------------+ | Time Limit | O | Proposed time limit of the | | | | requested IP connectivity | | | | (1min- infinite). | +-----------------------------+--------+-----------------------------+ | Establishment reason | O | IP connectivity | | | | establishment reason | +-----------------------------+--------+-----------------------------+ | NOTE 1: Either the MCData | | | | ID or the functional alias | | | | of the targeted MCData user | | | | must be present. | | | | | | | | NOTE 2: The predefined | | | | priority of the MC service | | | | user is applied by the | | | | MCData server if the | | | | requested priority is not | | | | present or not accepted by | | | | the MCData server. | | | +-----------------------------+--------+-----------------------------+
##### 7.14.2.1.4 MCData remote IPcon point-to-point response
Table 7.14.2.1.4-1 describes the information content of the MCData remote
IPcon point-to-point response as answer to MCData remote IPcon point-to-point
request.
Table 7.14.2.1.4-1: MCData remote IPcon point-to-point response
Information element Status Description
* * *
MCData ID asked M The MCData identity of the asked MCData client in the
request message; MCData ID targeted M The MCData identity of the targeted
MCData client in the request message; IP connectivity status M The status
information about the IP connectivity session to the remote MCData user.
##### 7.14.2.1.5 MCData remote IPcon point-to-point tear down request
Table 7.14.2.1.5-1 describes the information flow of the MCData remote IPcon
point-to-point tear down request sent from the remote MCData client to the
MCData server and from the MCData server to the asked MCData client.
Table 7.14.2.1.5-1: MCData remote IPcon point-to-point tear down request
Information element Status Description
* * *
MCData ID remote M The MCData identity of the remote MCData client that
requests another MCData user to tear down an IP connectivity point-to-point
session. Functional alias remote O The associated functional alias of the
remote MCData user; MCData ID asked M The MCData identity of the MCData client
that is asked to tear down an IP connectivity point-to-point session. MCData
ID targeted M The MCData identity of the MCData client that is the target to
be tear down from the IP connectivity point-to-point session.
##### 7.14.2.1.6 MCData remote IPcon point-to-point tear down response
Table 7.14.2.1.6-1 describes the information content of the MCData remote
IPcon point-to-point tear down response as answer to MCData remote IPcon
point-to-point tear down request.
Table 7.14.2.1.6-1: MCData remote IPcon point-to-point tear down response
Information element Status Description
* * *
MCData ID asked M The MCData identity of the asked MCData client in the
request message. MCData ID targeted M The MCData identity of the targeted
MCData client in the request message. Tear down status M The status
information about the IP connectivity tear down status information
##### 7.14.2.1.7 MCData remote IPcon point-to-point application priority
change request
Table 7.14.2.1.7-1 describes the information flow of the MCData remote IPcon
point-to-point application priority change request sent from the remote MCData
client to the MCData server and from the MCData server to the asked MCData
client.
Table 7.14.2.1.7-1: MCData remote IPcon point-to-point application priority
change request
Information element Status Description
* * *
MCData ID remote M The MCData identity of the remote MCData client that
requests to change the application priority of an IP connectivity point-to-
point session. Functional alias remote O The associated functional alias of
the remote MCData user; MCData ID M The first MCData identity of the MCData
client that is involved in the IP connectivity point-to-point session. MCData
ID M The second MCData identity of the MCData client that is involved in the
IP connectivity point-to-point session. Requested Priority M Contains the
required application priority for the IP data communication between both
MCData clients.
##### 7.14.2.1.8 MCData remote IPcon point-to-point application priority
change response
Table 7.14.2.1.8-1 describes the information content of the MCData remote
IPcon point-to-point application priority change response as answer to MCData
remote IPcon point-to-point application priority change request.
Table 7.14.2.1.8-1: MCData remote IPcon point-to-point application priority
change response
Information element Status Description
* * *
MCData ID M The MCData identity of the first MCData client involved in the IP
connectivity point-to-point session. MCData ID M The MCData identity of the
second MCData client involved in the IP connectivity point-to-point session.
Requested priority change status M The status information about the
application priority of the addressed IP connectivity session.
#### 7.14.2.2 IP connectivity point-to-point MCData transport service
##### 7.14.2.2.1 General
IP connectivity service capabilities enables MCData unaware data hosts to use
usual MCData service capabilities, e.g. data communication between them. This
subclause describes the establishment of a point-to-point connection between
two IP connectivity clients using the media plane for IP Data transmission.
The target MCData user may be addressed using the functional alias that can be
shared by multiple MCData users.
In order not to violate the point-to-point principle when a functional alias
is shared, only two MCData user can participate to a point-to-point IP
connectivity session. If the MCData server detects that the functional alias
used as the target of the MCData FD request is simultaneously active for
multiple MCData users, then the MCData server can proceed by selecting an
appropriate MCData ID based on some selection criteria. The selection of an
appropriate MCData ID is left to implementation. These selection criteria can
include rejection of the IP connectivity request, if no suitable MCData ID is
selected.
##### 7.14.2.2.2 Procedure
The procedure in figure 7.14.2.2.2-1 describes the case where an IP
connectivity capable MCData client is initiating a point-to-point IP
connectivity with another IP connectivity capable MCData client.
Pre-conditions:
\- The total data volume limit, e.g. daily time limit or total data volume per
day does not restrict the establishment of an IP connectivity IP data
exchange.
\- MCData clients are linked with individual data hosts.
\- MCData clients belong to the same MCData system.
\- The data hosts linked with the MCData clients already have an IP address
allocated.
\- MCData clients have IP connectivity capabilities.
\- The linked data hosts are authorized to use the MCData clients to establish
an IP connectivity.
NOTE: How the data host is authorized to use the MCData client is out of the
scope of the present document.
\- The MCData server has subscribed to the MCData functional alias controlling
server within the MC system for functional alias activation/de-activation
updates.
\- MCData client 1 understands the correspondence between the IP addresses of
target data hosts and MCData client 2. How this relationship is determined is
out of scope of the present document.
\- Optionally, the MCData clients may have activated a functional alias to be
used.
Figure 7.14.2.2.2-1: Establishment of a point-to-point IP connectivity
1\. MCData client 1 has IP Data to send to MCData client 2 and initiates an IP
connectivity point-to-point request.
2\. MCData client 1 sends a MCData IPcon point-to-point request towards the
MCData server. The MCData IPcon point-to-point request contains either the
MCData ID of MCData client 2 or its associated functional alias. MCData user
at MCData client 1 may include its associated functional alias
3\. MCData server checks whether MCData user at MCData client 1 is authorized
to send an MCData IPcon point-to-point request and checks if MCData client 2
is authorised to receive the IP connectivity service. If a functional alias is
used to address the target MCData user, the MCData server resolves the
functional alias to the corresponding MCData ID(s) for which the functional
alias is active and proceed with step 4 otherwise proceed with step 6.
4\. The MCData server responds back to MCData client 1 with a functional alias
resolution response message that contains the resolved MCData ID.
5\. If the MCData server replies with a MCData functional alias resolution
response message, the MCData client 1 assumes the MCData IPcon point-to-point
request in step 2 is rejected and sends a new MCData IPcon point-to-point
request towards the resolved MCData ID.
6\. MCData server initiates the MCData IPcon point-to-point request towards
the determined MCData client 2.
NOTE: MCData client 2 corresponds to the MCData user(s) after resolution of
the functional alias.
7\. MCData client 2 sends a MCData IPcon point-to-point response to the MCData
server that contains the information if the request is accepted or the reason
of rejection. If accepted, the MCData client 2 may include the data
transmission time limit.
8\. MCData server forwards the MCData IPcon point-to-point response of MCData
client 2 to MCData client 1.
9\. The MCData server applies transmission and reception control and the
necessary policy to ensure that appropriate data is transmitted between the
MCData clients.
10\. MCData client 1 and MCData Client 2 have successfully established media
plane for data communication and MCData client 1 and MCData client 2 exchange
IP Data.
#### 7.14.2.3 Remote initiated point-to-point IP connectivity
##### 7.14.2.3.1 General
The MCData service shall support mechanisms that allow an authorized MCData
user to trigger remotely the establishment of a point-to-point IP connectivity
service. This encompasses the procedure of a remote MCData user that addresses
the establishment of an IP connectivity between the requested MCData client
and the destination MCData client.
##### 7.14.2.3.2 Procedure
The procedure in figure 7.14.2.3.2-1 describes the case where an authorised
MCData user triggers remotely the establishment of a point-to-point IP
connectivity connection between two other MCData users, required MCData user
that establish IP connectivity session to the targeted MCData user.
Pre-conditions:
\- The MCData clients are linked with individual data hosts.
\- MCData clients belong to the same MCData system.
\- The data hosts linked with the MCData clients already have an IP address
allocated.
\- MCData clients have IP connectivity capabilities.
\- The linked data hosts are authorized to use the MCData clients to establish
an IP connectivity.
NOTE: How the data host is authorized to use the MCData client is out of the
scope of the present document.
\- The MCData server has subscribed to the MCData functional alias controlling
server within the MC system for functional alias activation/de-activation
updates.
\- MCData clients understands the correspondence between the IP addresses of
target data hosts and MCData client 3. How this relationship is determined is
out of scope of the present document.
\- Optionally, the MCData clients may have activated a functional alias to be
used.
\- MCData client 1 is authorized to establish remote initiated point-to-point
IP connectivity sessions.
Figure 7.14.2.3.2-1: Establishment of a remote point-to-point IP connectivity
1\. MCData client 1 would like to establish a remote point-to-point IP
connectivity to allow IP Data exchange between two other MCData clients, the
asked MCData client 2 and the targeted MCData client 3.
2\. The MCData client 1 sends an MCData remote IPcon point-to-point request
towards the MCData server. The MCData IPcon point-to-point request contains
the MCData ID and optionally the corresponding functional aliases of MCData
client 2 and either the MCData ID or the functional alias of MCData client 3.
MCData user at MCData client 1 may include its associated functional alias.
3\. MCData server checks whether MCData user at MCData client 1 is authorized
to send a remote MCData IPcon point-to-point request and if MCData client 2
and 3 are authorized to receive the IP connectivity service.
4\. MCData server sends the MCData remote IPcon point-to-point request towards
the MCData client 2.
5\. MCData client 2 considers the provided targeted MCData ID or targeted
functional alias to establish the point-to-point IP connectivity to MCData
client 3 according to clause 7.14.2.2. The IP connectivity status shall be
forwarded by MCData client 2 to MCData client 1.
6\. MCData client 2 send an MCData remote IPcon point-to-point response to the
MCData server encompassing the IP connectivity status of the point-to-point IP
connectivity session between MCData client 2 and MCData client 3.
7\. The MCData server forwards the MCData remote IPcon point-to-point response
to the remote MCData client 1.
#### 7.14.2.4 MCData user remote initiated tear down point-to-point IP
connectivity
##### 7.14.2.4.1 General
The MCData service shall support mechanisms that allow an authorized MCData
user to tear down remotely an established point-to-point IP connectivity. This
encompasses the procedure of a remote MCData user that addresses the tear down
of an IP connectivity between the requested MCData client and the destination
MCData client.
##### 7.14.2.4.2 Procedure
The procedure in figure 7.14.2.4.2-1 describes the case where an authorised
MCData user triggers remotely the tear down of a point-to-point IP
connectivity connection between two other MCData users, the asked MCData user
that tear down IP connectivity session to the targeted MCData user.
Pre-conditions:
\- The point-to-point IP connectivity has been established between MCData
client 2 and MCData client 3.
\- Optionally, the MCData client 1 may have activated a functional alias to be
used.
\- MCData client 1 is authorized to tear down point-to-point IP connectivity
sessions.
Figure 7.14.2.4.2-1: Remote initiated tear down of a point-to-point IP
connectivity
1\. MCData client 1 would like to tear down a point-to-point IP connectivity
between two other MCData clients, the asked MCData client 2 and the targeted
MCData client 3.
2\. The MCData client 1 sends an MCData remote IPcon point-to-point tear down
request towards the MCData server. The MCData remote IPcon point-to-point tear
down request contains the MCData IDs of MCData client 2 and MCData client 3.
MCData user at MCData client 1 may include its associated functional alias.
3\. MCData server checks whether MCData user at MCData client 1 is authorized
to send MCData remote IPcon point-to-point tear down request and checks if the
asked MCData client 2 is allowed to tear down an IP connectivity point-to-
point session.
4\. MCData server sends the MCData remote IPcon point-to-point tear down
request towards the MCData client 2.
5\. MCData client 2 considers the provided targeted MCData ID to tear down the
point-to-point IP connectivity to MCData client 3. The status of the IP
connectivity tear down request shall be forwarded by MCData client 2 to remote
MCData client 1.
6\. MCData client 2 sends MCData remote IPcon point-to-point tear down
response to the MCData server encompassing the tear down IP connectivity
status between MCData client 2 and MCData client 3.
7\. The MCData server forwards the MCData remote IPcon point-to-point tear
down response to the remote MCData client 1.
#### 7.14.2.5 Remote initiated point-to-point IP connectivity application
priority change
##### 7.14.2.5.1 General
The MCData service shall support mechanisms that allow an authorized MCData
user to trigger remotely the adaptation of a point-to-point IP connectivity
data bearer service priority. This encompasses the procedure of a remote
MCData user that addresses the priority change of a point-to-point IP
connectivity between the requested MCData clients.
##### 7.14.2.5.2 Procedure
The procedure in figure 7.14.2.5.2-1 describes the case where an authorised
MCData user triggers remotely the priority change of a point-to-point IP
connectivity connection between two other MCData users.
Pre-conditions:
\- Optionally, the MCData client 1 may have activated a functional alias to be
used.
\- A point-to-point IP connectivity is established between MCData client 2 and
MCData client 3.
\- MCData client 1 is authorized to change remotely communication priority of
a point-to-point IP connectivity session.
Figure 7.14.2.5.2-1: Point-to-point IP connectivity application priority
change request by a remote MCData client
1\. MCData client 1 would like to change the priority that corresponds to an
established point-to-point IP connectivity between MCData client 2 and MCData
client 3.
2\. The MCData client 1 sends a remote MCData IPcon point-to-point application
priority change request towards the MCData server. The MCData IPcon point-to-
point application priority change request contains the MCData IDs of MCData
client 2 and MCData client 3. MCData user at MCData client 1 may include its
associated functional alias.
3\. MCData server checks whether MCData user at MCData client 1 is authorized
to send a remote MCData IPcon point-to-point application priority change
request.
4\. MCData server applies the requested priority to the point-to-point IP
connectivity between MCData client 2 and MCData client 3.
NOTE: Necessary adjustments in the relevant transport system can be included.
5\. MCData server sends the remote MCData IPcon point-to-point application
priority change response to MCData client 1 encompassing the priority status
of the point-to-point IP connectivity between MCData client 2 and MCData
client 3.
#### 7.14.2.6 Group standalone IP connectivity using media plane
##### 7.14.2.6.1 General
IP connectivity service capabilities enables authorized MCData unaware data
host to use usual MCData service capabilities, e.g. data communication among
them. This subclause describes the establishment of a group standalone IP
connectivity to a selected MCData group results in affiliated group members
exchanging IP data.
##### 7.14.2.6.2 Procedure
The procedure in figure 7.14.2.6.2-1 describes the case where an IP
connectivity capable MCData client is initiating group standalone MCData IP
connectivity communication session with an MCData group for exchanging IP Data
between group participants using MCData IPcon-2 reference point.
Pre-conditions:
\- MCData client 1 to MCData client n belong to the same MCData group, are
registered for receiving MCData service and are affiliated to the
corresponding MCData group.
\- The total data volume limit, e.g. daily time limit or total data volume per
day, does not restrict the establishment of an IP connectivity MCData
transmission.
\- MCData client 1 to MCData client n are linked with individual data hosts.
\- MCData client 1 to MCData client n belong to the same MCData system.
\- The data hosts linked with the MCData clients already have an IP address
allocated.
\- MCData clients have IP connectivity capabilities.
\- The linked data hosts are authorized to use the MCData clients to establish
an IP connectivity.
NOTE 1: How the data host is authorized to use the MCData client is out of the
scope of the present document.
\- The MCData server has subscribed to the MCData functional alias controlling
server within the MC system for functional alias activation/de-activation
updates.
\- MCData clients understand the correspondence between the IP addresses of
target data hosts and MCData clients. How this relationship is determined is
out of scope of the present document.
\- MCData clients understand the relationship between the addressing of IP
packets which are intended to be sent to the group and the MCData group
address.
NOTE 2: The allocation of IP addresses for group addressed communication is
outside the scope of the present document.
Figure 7.14.2.6.2-1: Establishment of IPcon group standalone communication
session
1\. MCData client 1 receives an IP packet from the IP data host which is
addressed to an IP address that signifies an MCData group destination.
2\. MCData client 1 uses the MCData group standalone short data service using
media plane procedure in accordance with clause 7.4.2.6 to establish IPcon
group standalone communication session to the MCData user that are members of
the corresponding MCData group with the following scope:
\- IP Data exchange
\- The application identifier is used to indicate about the use of a group
communication in the IP connectivity context
\- Payload destination indicates the consumption by the linked data host
\- The use of disposition shall be discarded for the use of IP connectivity
3\. MCData clients 2-n recognize that the payload is for IP connectivity
service and forward the received IP data to the linked data hosts.
## 7.15 Location information (on-network)
The MCData system makes use of all of the procedures for location management
as specified in 3GPP TS 23.280 [5], utilising the CSC-14 reference point
between the location management client and location management server and the
CSCâ€‘15 reference point between the MCData server and location management
server.
\- The MC service client is the MCData client;
\- The MC service server is the MCData server;
\- The MC service group is the MCData group;
\- The MC service ID is the MCData ID; and
\- The MC service group ID is the MCData group ID.
## 7.16 Use of ProSe capabilities in off-network MCData communications
### 7.16.1 General
When an MCData user using a ProSe-enabled UE wants to communicate with a
specific MCData group or MCData user using ProSe capabilities, the MCData
client enables the use of the ProSe layer procedures for public safety, as
specified in 3GPP TS 23.303 [7].
For an off-network MCData group communication, the MCData client obtains
configuration data such as the user info ID of the MCData user sending data
and the ProSe Group IP multicast address and ProSe Layer-2 Group ID associated
to the target MCData group (as described in clause 8.1.3.2 in 3GPP TS 23.280
[5]), and provides it to the ProSe layer. The ProSe Layer-2 Group ID of the
target MCData group may be used by the ProSe layer as the target group info
and the discovery group ID (defined in 3GPP TS 23.303 [7]).
Prior to initiating an off-network MCData group communication, a group member
discovery procedure may be initiated to identify whether other members of the
target MCData group are in the proximity of the MCData user sending data, as
described in the ProSe direct discovery for public safety use procedure in
3GPP TS 23.303 [7]. The off-network MCData group communication using the ProSe
capability is based on the one-to-many ProSe direct communication procedure
for public safety use described in 3GPP TS 23.303 [7].
For an off-network one-to-one MCData communication, the MCData client obtains
configuration data such as the ProSe discovery group ID and user info ID of
the target MCData user from the \"List of MCData users this MCData user is
authorized to initiate a one to-one communication\" in the MCData user profile
and requests the IP address of the MCData UE associated with the target MCData
user from the ProSe layer.
The MCData client enables the ProSe layer to determine the IP address for the
communication with the target MCData UE by providing the ProSe discovery group
ID and user info ID (as defined in 3GPP TS 23.303 [7]) associated to the
target MCData user. This may trigger the ProSe direct discovery for public
safety use procedure to identify whether the target MCData user is in the
proximity of the MCData user sending data. The user info ID of the target
MCData user is used by the ProSe layer as the target info (as defined in 3GPP
TS 23.303 [7]).
The ProSe layer can then provide the IP address related to the target MCData
user to the MCData client to initiate the off-network one-to-one MCData
communication based on the one-to-one ProSe direct communication procedure
described in 3GPP TS 23.303 [7].
### 7.16.2 Procedures
The off-network MCData communication procedures using the ProSe capabilities
are described within the corresponding clauses of each MCData capability, e.g.
SDS procedures for off-network are described in clause 7.4.3 and file
distribution procedures for off-network are described in clause 7.5.3.
## 7.17 Ad hoc group data communication
### 7.17.1 General
This subclause contains procedures for ad hoc group data communication across
a single MCData system for both SDS and FD services, and associated functions
such as emergency data communication, Imminent peril data communication and
others.
The ad hoc group data communications can use the participants list provided by
either an initiator of the data communication or MCData server. The MCData
server can use the criteria provided by the initiator of the data
communication to determine the participants list along with its own criteria
or local policies. The resulting ad hoc group uses the configuration of a
separate preconfigured MCData group.
NOTE 1: A preconfigured group which is intended only to provide configuration
for the ad hoc group is identified by a parameter in the group configuration
described in 3GPP TS 23.280 [5].
The preconfigured MCData group that provides the configuration is not used for
the MCData group communication, it only provides configuration for one or more
adhoc group data communications. The MCData group ID of the ad hoc group data
communication is provided by the MCData server when the ad hoc group data
communication is originated. In order to establish security context for the
end-to-end secured ad hoc group data communication, the security related
information is used from this preconfigured group.
NOTE 2: The configurations defined for the adhoc group data communication in
user profile and service configuration document as described in the Annex A.3
and A.5 is applicable only for single MCData system.
### 7.17.2 Common Information flows
#### 7.17.2.1 Ad hoc group data session request (MCData client -- MCData
server)
Table 7.17.2.1-1 describes the information flow ad hoc group data session
request from the MCData client to the MCData server.
Table 7.17.2.1-1 Ad hoc group data session request information elements
+-----------------------------+--------+-----------------------------+ | Information Element | Status | Description | +=============================+========+=============================+ | MCData ID | M | The identity of the MCData | | | | user sending data | +-----------------------------+--------+-----------------------------+ | Functional alias | O | The associated functional | | | | alias of the MCData user | | | | sending data. | +-----------------------------+--------+-----------------------------+ | MCData ad hoc group ID | O | The MCData group ID to be | | (see NOTE 1) | | associated with the ad hoc | | | | group data communication | +-----------------------------+--------+-----------------------------+ | Encryption supported | O | Indicates whether this | | (see NOTE 2) | | ad hoc group data | | | | communication supports | | | | end-to-end encryption | +-----------------------------+--------+-----------------------------+ | MCData ID list (see NOTE 3, | O | MCData IDs of the | | NOTE 5, NOTE 6) | | participants being invited | | | | for the ad hoc group data | | | | communication | +-----------------------------+--------+-----------------------------+ | SDP offer | M | Offered media parameters | +-----------------------------+--------+-----------------------------+ | Imminent peril indicator | O | Indicates that the ad hoc | | (see NOTE 4) | | group data communication | | | | request is for ad hoc group | | | | imminent peril data | | | | communication | +-----------------------------+--------+-----------------------------+ | Emergency Indicator | O | Indicates that the ad hoc | | (see NOTE 4) | | group data communication | | | | request is for ad hoc group | | | | emergency data | | | | communication | +-----------------------------+--------+-----------------------------+ | Broadcast indicator | O | Indicates that the ad hoc | | | | group data communication | | (see NOTE 4) | | request is for a broadcast | | | | ad hoc group data | | | | communication | +-----------------------------+--------+-----------------------------+ | MCData ID list (see NOTE 3) | O | List of participants | | | | required to acknowledge the | | | | ad hoc group data | | | | communication before start | | | | of the data transmission | +-----------------------------+--------+-----------------------------+ | Location information | O | Location of the of the | | | | MCData user sending data. | +-----------------------------+--------+-----------------------------+ | Criteria for determining | O | Carries the details of | | the participants | | criteria or meaningful | | (see NOTE 5) | | label identifying the | | | | criteria or the combination | | | | of both which will be used | | | | by the MCData server for | | | | determining the | | | | participants e.g., it can | | | | be a location based | | | | criteria to invite | | | | participants in a | | | | particular area | +-----------------------------+--------+-----------------------------+ | Requested priority | O | Application priority level | | | | requested for this ad hoc | | | | group data communication | +-----------------------------+--------+-----------------------------+ | NOTE 1: If this information | | | | element is not included, | | | | the MCData server assigns | | | | an MCData ad hoc group ID | | | | to be used for the ad hoc | | | | group data communication. | | | | This information element is | | | | returned to the MCData user | | | | who is sending the data to | | | | use in the ad hoc group | | | | data communication. If the | | | | request follows an ad hoc | | | | group for emergency alert, | | | | then this element must be | | | | present. | | | | | | | | NOTE 2: This information | | | | element is present and set | | | | to true only if this ad hoc | | | | group data communication is | | | | encrypted. When the ad hoc | | | | group data communication is | | | | initiated with participants | | | | provided by the initiator | | | | this acts as an indicator | | | | that subsequent requests | | | | follow targeting the | | | | individual participants and | | | | carrying the relevant key | | | | material. If this | | | | information element is set | | | | to false or not present, | | | | then this ad hoc group data | | | | communication is | | | | unencrypted. | | | | | | | | NOTE 3: This element is | | | | included only when the data | | | | communication initiating | | | | client sends the list of | | | | participants. | | | | | | | | NOTE 4: If used, only one | | | | of these information | | | | elements is present. | | | | | | | | NOTE 5: Only one of these | | | | information elements is | | | | present. | | | | | | | | NOTE 6: If the request | | | | follows an ad hoc group for | | | | emergency alert, then this | | | | element is not present. | | | +-----------------------------+--------+-----------------------------+
#### 7.17.2.2 Ad hoc group data session request return (MCData server --
MCData client)
Table 7.17.2.2-1 describes the information flow ad hoc group data session
request return from the MCData server to the MCData client. This response
could be intermediate response to provide the server assigned MCData ad hoc
group ID.
Table 7.17.2.2-1 Ad hoc group data session request return information elements
Information Element Status Description
* * *
MCData ID M The identity of the MCData user sending data MCData ad hoc group
ID O The MCData group ID to be associated with the ad hoc group data
communication which is either provided by the group data session initiator or
assigned by the MCData server. This information element shall be present if
the authorization result is success. Preconfigured MCData group ID O Group
identity whose configuration is to be applied for this ad hoc group data
communication. Authorization result M Indicate if authorization is success or
failure
#### 7.17.2.3 Ad hoc group data session request (MCData server -- MCData
server)
Table 7.17.2.3-1 describes the information flow ad hoc group data session
request between the MCData servers.
Table 7.17.2.3-1 Ad hoc group data session request information elements
+-----------------------------+--------+-----------------------------+ | Information Element | Status | Description | +=============================+========+=============================+ | MCData ID | M | The identity of the MCData | | | | user sending data | +-----------------------------+--------+-----------------------------+ | Functional alias | O | The associated functional | | | | alias of the MCData user | | | | sending data. | +-----------------------------+--------+-----------------------------+ | MCData ad hoc group ID | M | The MCData group ID to be | | | | associated with the ad hoc | | | | group data communication | +-----------------------------+--------+-----------------------------+ | MCData ID list | O | MCData IDs of the | | | | participants being invited | | (see NOTE 1, NOTE 3) | | for the ad hoc group data | | | | communication | +-----------------------------+--------+-----------------------------+ | SDP offer | M | Media parameters of MCData | | | | server | +-----------------------------+--------+-----------------------------+ | Broadcast indicator | O | Indicates that the ad hoc | | | | group data communication | | (see NOTE 2) | | request is for a broadcast | | | | ad hoc group data | | | | communication | +-----------------------------+--------+-----------------------------+ | Imminent peril indicator | O | Indicates that the ad hoc | | (see NOTE 2) | | group data communication | | | | request is for ad hoc group | | | | imminent peril data | | | | communication | +-----------------------------+--------+-----------------------------+ | Emergency Indicator | O | Indicates that the ad hoc | | (see NOTE 2) | | group data communication | | | | request is for ad hoc group | | | | emergency data | | | | communication | +-----------------------------+--------+-----------------------------+ | Preconfigured MCData group | O | Group identity whose | | ID | | configuration is to be | | | | applied for this ad hoc | | | | group data communication. | +-----------------------------+--------+-----------------------------+ | Criteria for determining | O | Carries the details of | | the participants | | criteria or meaningful | | (see NOTE 3) | | label identifying the | | | | criteria or the combination | | | | of both which will be used | | | | by the MCData server for | | | | determining the | | | | participants e.g., it can | | | | be a location based | | | | criteria to invite | | | | participants in a | | | | particular area | +-----------------------------+--------+-----------------------------+ | Requested priority | O | Application priority level | | | | requested for this group | | | | data communication | +-----------------------------+--------+-----------------------------+ | NOTE 1: This element is | | | | included only when the data | | | | communication initiating | | | | client sends the list of | | | | participants. | | | | | | | | NOTE 2: If used, only one | | | | of these information | | | | elements is present. | | | | | | | | NOTE 3: Only one of these | | | | information elements is | | | | present. | | | +-----------------------------+--------+-----------------------------+
Editor\'s Note: It is FFS if the server to server message is needed in a call
request or response message.
#### 7.17.2.4 Ad hoc group data session request (MCData server -- MCData
client)
Table 7.17.2.4-1 describes the information flow ad hoc group data session
request from the MCData server to the MCData client.
Table 7.17.2.4-1 Ad hoc group data session request information elements
+-----------------------------+--------+-----------------------------+ | Information Element | Status | Description | +=============================+========+=============================+ | MCData ID | M | The identity of the MCData | | | | user sending data | +-----------------------------+--------+-----------------------------+ | MCData ID | M | The identity of the MCData | | | | user towards which the | | | | request is sent | +-----------------------------+--------+-----------------------------+ | Functional alias | O | The associated functional | | | | alias of the MCData user | | | | sending data. | +-----------------------------+--------+-----------------------------+ | MCData ad hoc group ID | M | The MCData group ID | | | | associated with the ad hoc | | | | group data communication | +-----------------------------+--------+-----------------------------+ | SDP offer | M | Media parameters of MCData | | | | server | +-----------------------------+--------+-----------------------------+ | Broadcast indicator | O | Indicates that the ad hoc | | | | group data communication | | (see NOTE) | | request is for a broadcast | | | | ad hoc group data | | | | communication | +-----------------------------+--------+-----------------------------+ | Imminent peril indicator | O | Indicates that the ad hoc | | (see NOTE) | | group data communication | | | | request is for ad hoc group | | | | imminent peril data | | | | communication | +-----------------------------+--------+-----------------------------+ | Emergency Indicator | O | Indicates that the ad hoc | | (see NOTE) | | group data communication | | | | request is for ad hoc group | | | | emergency data | | | | communication | +-----------------------------+--------+-----------------------------+ | Preconfigured MCData group | O | Group identity whose | | ID | | configuration is to be | | | | applied for this ad hoc | | | | group data communication. | +-----------------------------+--------+-----------------------------+ | NOTE: If used, only one of | | | | these information elements | | | | is present. | | | +-----------------------------+--------+-----------------------------+
#### 7.17.2.5 Ad hoc group data session response (MCData server -- MCData
client)
Table 7.17.2.5-1 describes the information flow ad hoc group data session
response from the MCData server to the MCData client.
Table 7.17.2.5-1 Ad hoc group data session response information elements
Information Element Status Description
* * *
MCData ID M The identity of the MCData user sending data Functional alias O
The associated functional alias of the MCData user sending data. MCData ad hoc
group ID M The MCData group ID associated with the ad hoc group data
communication SDP answer O Media parameters selected and present if the Result
is success. Result M Result of the group data communication request (success
or failure)
#### 7.17.2.6 Ad hoc group data session response (MCData server -- MCData
server)
Table 7.17.2.6-1 describes the information flow ad hoc group data session
response between the MCData servers.
Table 7.17.2.6-1: Ad hoc group data session response information elements
Information Element Status Description
* * *
MCData ID M The identity of the MCData user receiving data Functional alias O
The functional alias of the MCData user receiving data MCData ad hoc group ID
M The MCData group ID associated with the ad hoc group data communication SDP
answer O Media parameters selected and present if the Result is success.
Result M Result of the ad hoc group data communication request (success or
failure)
Editor\'s Note: It is FFS if the server to server message is needed in a call
request or response message.
#### 7.17.2.7 Ad hoc group data session response (MCData client -- MCData
server)
Table 7.17.2.7-1 describes the information flow ad hoc group data session
response from the MCData client to the MCData server.
Table 7.17.2.7-1 Ad hoc group data session response information elements
Information Element Status Description
* * *
MCData ID M The identity of the MCData user receiving data Functional alias O
The functional alias of the MCData user receiving data MCData ad hoc group ID
M The MCData group ID associated with the ad hoc group data communication SDP
answer O Media parameters selected and present if the Result is success.
Result M Result of the ad hoc group data communication request (success or
failure)
#### 7.17.2.8 Ad hoc group data session release request (MCData server --
MCData client)
Table 7.17.2.8-1 describes the information flow ad hoc group data session
release request from the MCData server to the MCData client.
Table 7.17.2.8-1 Ad hoc group data session release request information
elements
Information Element Status Description
* * *
MCData ID M The MCData ID of the ad hoc group data communication participant
Functional alias O The functional alias of the ad hoc group data communication
participant MCData ad hoc group ID M The MCData group ID of the ad hoc group
data communication on which data communication is released
#### 7.17.2.9 Ad hoc group data session release response (MCData client --
MCData server)
Table 7.17.2.9-1 describes the information flow ad hoc group data session
release response from the MCData server to the MCData client.
Table 7.17.2.9-1 Ad hoc group data session release response information
elements
Information Element Status Description
* * *
MCData ID M The MCData ID of the ad hoc group data communication participant
Functional alias O The functional alias of the ad hoc group data communication
participant MCData ad hoc group ID M The MCData group ID of the ad hoc group
data communication on which data communication is released
#### 7.17.2.10 Ad hoc group data session notify (MCData server -- MCData
client)
Table 7.17.2.10-1 describes the information flow ad hoc group data session
notify from MCData server to MCData client.
Table 7.17.2.10-1: Ad hoc group data session notify
Information element Status Description
* * *
MCData ID M The MCData ID of the ad hoc group data communication participant
Functional alias O The associated functional alias of the MCData user of the
ad hoc group data communication participant MCData ad hoc group ID M The
MCData group ID associated with the ad hoc group data communication MCData ID
list O The list of the invited MCData users who did not acknowledged the ad
hoc group data communication request within a configured time or the list of
the invited MCData users who acknowledged the ad hoc group data communication
request and joined or the list of the MCData users who joined or left the
ongoing MCData ad hoc group data communication.
#### 7.17.2.11 Modify ad hoc group data session participants request (MCData
client -- MCData server)
Table 7.17.2.11-1 describes the information flow Modify ad hoc group data
session participants request from the MCData client to the MCData server.
Table 7.17.2.11-1: Modify ad hoc group data session participants request
Information element Status Description
* * *
MCData ID M The MCData ID of the MCData user who is requesting for
modification of ad hoc group data session participants Functional alias O The
associated functional alias of the MCData user who is requesting for
modification of ad hoc group data session participants MCData ad hoc group ID
M The MCData group ID of ad hoc group data communication whose participants
list needs to be modified MCData ID list (see NOTE) O List of additional
MCData users to be added to the on-going ad hoc group data communication
MCData ID list (see NOTE) O List of MCData users to be removed from the on-
going ad hoc group data communication NOTE: Either one or both of these
information elements is present
#### 7.17.2.12 Modify ad hoc group data session participants response (MCData
server -- MCData client)
Table 7.17.2.12-1 describes the information flow Modify ad hoc group data
session participants response from the MCData server to the MCData client.
Table 7.17.2.12-1 Modify Ad hoc group data session participants response
information elements
Information Element Status Description
* * *
MCData ID M The MCData ID of the MCData user who is requesting for
modification of ad hoc group data session participants Functional alias O The
associated functional alias of the MCData user who is requesting for
modification of ad hoc group data session participants MCData ad hoc group ID
M The MCData group ID of ad hoc group data communication whose participants
list needs to be modified Result M Result of the modify ad hoc group data
communication participants request (success or failure) MCData ID list O List
of MCData users who are not allowed to be added to the on-going ad hoc group
data communication. This list is provided if the operation is partially
success.
#### 7.17.2.13 Ad hoc group data session leave request (MCData server --
MCData client)
Table 7.17.2.13-1 describes the information flow ad hoc group data session
leave request from the MCData server to the MCData client.
Table 7.17.2.13-1 Ad hoc group data session leave request information elements
Information Element Status Description
* * *
MCData ID M The MCData ID of the ad hoc group data communication participant
leaving the ad hoc group data communication MCData ad hoc group ID M The
MCData group ID of ad hoc group data communication Reason to leave O Carries
the reason of why the MCData client is being asked to leave the ongoing ad hoc
group data communication
#### 7.17.2.14 Ad hoc group data session leave response (MCData client --
MCData server)
Table 7.17.2.14-1 describes the information flow Ad hoc group data session
leave response from the MCData client to the MCData server.
Table 7.17.2.14-1 Ad hoc group data session leave response information
elements
Information Element Status Description
* * *
MCData ID M The MCData ID of the ad hoc group data communication participant
leaving the ad hoc group data communication MCData ad hoc group ID M The
MCData group ID of ad hoc group data communication
#### 7.17.2.15 Ad hoc group data session get userlist (MCData server -- MCData
server)
Table 7.17.2.15-1 describes the information flow ad hoc group data session get
userlist from one MCData server to another MCData server.
Table 7.17.2.15-1: Ad hoc group data session get userlist
Information element Status Description
* * *
MCData ad hoc group ID M The MCData group ID associated with the ad hoc group
communication Criteria for determining the participants M Carries the details
of criteria or meaningful label identifying the criteria or the combination of
both which will be used by the MCData server for determining the participants
e.g., it can be a location based criteria to invite participants in a
particular area
#### 7.17.2.16 Ad hoc group data session get userlist response (MCData server
-- MCData server)
Table 7.17.2.16-1 describes the information flow ad hoc group data session get
userlist response from one MCData server to another MCData server.
Table 7.17.2.16-1: Ad hoc group data session get userlist response
Information element Status Description
* * *
MCData ad hoc group ID M The MCData group ID associated with the ad hoc group
communication MCData ID list M List of MCData IDs meeting the criteria
specified in the ad hoc group data session get userlist
#### 7.17.2.17 Ad hoc group data session add user notification (MCData server
-- MCData server)
Table 7.17.2.17-1 describes the information flow Ad hoc group data session add
user notification from one MCData server to another MCData server. This
notification is to provide the list of MCData IDs meeting the criteria
specified in the ad hoc group data session get userlist request from one
MCData server to another MCData server.
Table 7.17.2.17-1: Ad hoc group data session add user notification information
elements
Information Element Status Description
* * *
MCData ad hoc group ID M The MCData group ID associated with the ad hoc group
communication MCData ID list M List of MCData IDs meeting the criteria
specified in the ad hoc group data session get userlist
#### 7.17.2.18 Ad hoc group data session remove user notification (MCData
server -- MCData server)
Table 7.17.2.18-1 describes the information flow Ad hoc group data session
remove user notification from one MCData server to another MCData server. This
notification is to provide the list of MCData IDs no longer meeting the
criteria specified in the ad hoc group data session get userlist request from
one MCData server to another MCData server.
Table 7.17.2.18-1: Ad hoc group data session remove user notification
information elements
Information Element Status Description
* * *
MCData ad hoc group ID M The MCData group ID associated with the ad hoc group
communication MCData ID list M List of MCData IDs no longer meeting the
criteria specified in the ad hoc group data session get userlist
#### 7.17.2.19 Ad hoc group data session release notification (MCData server
-- MCData server)
Table 7.17.2.19 -1 describes the information flow Ad hoc group data session
release notification from one MCData server to another MCData server. This
notification is to indicate to stop evaluating the criteria to determine the
participants list if another MCData server is having the criteria specified in
the ad hoc group data session get userlist request.
Table 7.17.2.19-1: Ad hoc group data session release notification information
elements
Information Element Status Description
* * *
MCData ad hoc group ID M The MCData group ID associated with the ad hoc group
communication
#### 7.17.2.20 Modify ad hoc group data session criteria request (MCData
client -- MCData server)
Table 7.17.2.20-1 describes the information flow Modify ad hoc group data
session criteria request from the MCData client to the MCData server.
Table 7.17.2.20-1: Modify ad hoc group data session criteria request
Information element Status Description
* * *
MCData ID M The MCData ID of the MCData user who is requesting for
modification of ad hoc group data session participants Functional alias O The
associated functional alias of the MCData user who is requesting for
modification of ad hoc group data session participants MCData ad hoc group ID
M The MCData group ID of ad hoc group data communication whose participants
list needs to be modified Criteria to determine the list of participants O
Carries the details of criteria or meaningful label identifying the criteria
or the combination of both which will be used by the MCData server for
determining the participants e.g., it can be a location-based criteria to
invite participants in a particular area
#### 7.17.2.21 Modify ad hoc group data session criteria response (MCData
server -- MCData client)
Table 7.17.2.21-1 describes the information flow Modify ad hoc group data
session criteria response from the MCData server to the MCData client.
Table 7.17.2.21-1 Modify Ad hoc group data session criteria response
information elements
Information Element Status Description
* * *
MCData ID M The MCData ID of the MCData user who is requesting for
modification of ad hoc group data session participants Functional alias O The
associated functional alias of the MCData user who is requesting for
modification of ad hoc group data session participants MCData ad hoc group ID
M The MCData group ID of ad hoc group data communication whose participants
list needs to be modified Result M Result of the modify ad hoc group data
communication participants request (success or failure)
### 7.17.3 Common Ad hoc group data communication procedures
#### 7.17.3.1 Ad hoc group data communication procedures in single MCData
system
##### 7.17.3.1.1 Ad hoc group data communication setup
Figure 7.17.3.1.1-1 below illustrates the ad hoc group data communication
setup procedure initiated by an authorized user.
Pre-conditions:
1\. The authorized user at MCData client 1 wants to invite MCData users at
MCData client 2, MCData client 3 and MCData client 4 for the ad hoc group data
communication or to invite the ad hoc group member if the ad hoc group call
follows an ad hoc group emergency alert, the MCData client 1 is aware of the
ad hoc group ID.
2\. Number of participants being invited for the ad hoc group data
communication is within the limit.
3\. End-to-End encryption is supported for this ad hoc group data
communication.
4\. MCData client 1 is aware of the MCData IDs of the participants.
NOTE 1: Selection of MCData IDs of the participants can be manual or from the
user profile configuration data or by any other means. This is left for the
implementation.
5\. The pre-configured group identity and pre-configured group configuration
to be used for an ad hoc group have been preconfigured in MCData client and
other participants of ad hoc group have also received the relevant security
related information to allow them to communicate in an ad hoc group
communication.
Figure 7.17.3.1.1-1: Ad hoc group data communication setup
1\. User at MCData client 1 would like to initiate an ad hoc group data
communication. The MCData client 1 initiates the ad hoc group data
communication by sending the ad hoc group data session request containing the
list of participants or an ad hoc group ID from an ad hoc group emergency
alert to the MCData server. Encryption supported information element shall be
set to true since end-to-end encryption is supported. An SDP offer containing
the MCData client media parameters is included. If the MCData user of MCData
client 1 has selected a functional alias, then the ad hoc group data session
request contains that functional alias.
If the MCData user at MCData client 1 initiates an MCData emergency ad hoc
group data communication or the MCData emergency state is already set for the
MCData client 1 (due to a previously triggered MCData emergency alert):
i. the MCData ad hoc group data session request shall contain an emergency
indicator;
ii. if the MCData emergency state is not set already, MCData client 1 sets its
MCData emergency state. The MCData emergency state of MCData client 1 is
retained until explicitly cancelled by the user of MCData client 1.
2\. If the ad hoc group communication is supported, the MCData server verifies
whether the user at MCData client 1 is authorized to initiate an ad hoc group
data session request. If not authorized, the MCData server rejects the ad hoc
group data session request as specified in the step 3. The MCData server
accepts the ad hoc group data session request if the ad hoc group data
communication is supported and authorized. If authorised, it validates whether
the number of invited participants is within the configured limit before
proceeding with the data communication setup.
If functional alias is present, the MCData server checks whether the provided
functional alias allowed to be used and has been activated for the user.
If location information was included in the ad hoc group data session request,
the MCData server checks the privacy policy of the MCData user to decide if
the location information of MCData client 1 can be provided to other users on
the ad hoc group data communication (refer to Annex A.3 \"Authorisation to
provide location information to other MCData users on a data communication
when talking\").
> If an emergency indicator is present in the received MCData ad hoc group
> data session request, the MCData ad hoc group is considered to be in the in-
> progress emergency state until this ad hoc group data communication is
> terminated; and
>
> If an imminent peril indicator is present in the received MCData ad hoc
> group data session request, the MCData ad hoc group is considered to be in
> the in-progress imminent peril state until this ad hoc group data
> communication is terminated.
If the information received in the request in step 1 does not contain an ad
hoc group ID from an ad hoc group emergency alert, the MCData server forms the
ad hoc group by using received information, and determines the preconfigured
group to be used for the configuration of the ad hoc group. The MCData server
assigns a MCData group ID for the newly formed ad hoc group.
> The MCData server considers the ad hoc group data communication participants
> as implicitly affiliated to the ad hoc group.
>
> 3\. The MCData server shall send the ad hoc group data session request
> return message to MCData client 1 containing the below:
i. The MCData ad hoc group ID, either generated by the MCData server, if not
included in the ad hoc group call request of step 1, or if the provided MCData
ad hoc group ID is not accepted by the MCData server; or provided by the
MCData client 1 if the ad hoc group ID is from an ad hoc group emergency
alert;
ii. The group ID of the pre-configured group to be used for the ad hoc group
communication (only included when the ad hoc group data session is
authorized); and
iii. Result of whether the ad hoc group data session request is authorized or
not
> If the ad hoc group data session request is not authorized, the MCData
> server and MCData client 1 shall not proceed with the rest of the steps.
4a-4c. The MCData server sends the ad hoc group data session requests towards
the MCData clients of the invited users based on step 1. While sending the ad
hoc group data session requests, the MCData server shall remove the
information elements that are not required to be conveyed to the target MCData
clients (e.g. MCData ID list of the users who are required to acknowledge)
5a-5c. The receiving MCData clients notify their corresponding MCData user
about the incoming ad hoc group data session request with the information of
the MCData group ID for the ad hoc group.
6a-6c. The receiving MCData clients may accept or reject the ad hoc group data
session requests and send ad hoc group data session responses to the MCData
server. The response may also contain a functional alias of the responding
MCData user, which is verified (valid and activated for the user) by the
MCData server.
7\. The MCData server sends the ad hoc group data session response to MCData
client 1 through the signalling path to inform about successful data
communication establishment.
NOTE 2: Steps 5 to step 7 can start to occur before all of step 4 is completed
since the MCData server do not require to wait for the previous ad hoc group
data session request to complete before sending the ad hoc group data session
request to another participant.
8\. If the initiating MCData user requires the acknowledgement from the
invited MCData users, and the required MCData users do not acknowledge the
data session setup within a configured time (the \"acknowledged data
communication setup timeout\"), then the MCData server may proceed with or
abandon the data session and then notify the initiating MCData user that the
acknowledgements did not include all required members according to ad hoc
group data communication policy from the user profile configuration. The
MCData server may notify the initiating MCData user of all MCData users who
did not acknowledge the ad hoc group data session request within the
configured time. This notification may be sent to the initiating MCData user
by the MCData server more than once during the data communication when MCData
users join or leave the MCData ad hoc group data communication.
9\. MCData client 1, MCData client 2, MCData client 3 and MCData client 4
establish media plane for data communication.
NOTE 3: Step 9 can occur any time following step 7 if the conditions to
proceed with the data communication are met.
##### 7.17.3.1.2 Release ad hoc group data communication
The procedure focuses on the case where the MCData server releases an ongoing
MCData ad hoc group data communication for all the participants of that ad hoc
group data communication, since at least one of the release conditions are met
e.g., due to hang time expiry, last participant leaving, second last
participant leaving, initiator leaving.
Figure 7.17.3.1.2-1 below illustrates the signalling control plane procedure
for the MCData server initiating termination of an ongoing ad hoc group data
communication.
Figure 7.17.3.1.2-1: Release ad hoc group data communication
1\. It is assumed that MCData users on MCData client 1, client 2 and client 3
are already part of the ongoing ad hoc group data communication.
2\. MCData server would like to release the MCData ad hoc group data
communication which is ongoing e.g., due to hang time expiry, last participant
leaving, second last participant leaving, initiator leaving.
3\. MCData server identifies the participants of the ongoing ad hoc group data
communication and generates ad hoc group data session release request to
release ongoing data communication. The MCData server cancels the in-progress
emergency state or in-progress imminent peril state of the ad hoc group if the
ad hoc group data communication is an emergency or imminent peril data
communication respectively.
4\. MCData server sends ad hoc group data session release request via SIP core
towards each participant of the ongoing ad hoc group data communication.
5\. MCData users are notified about the release of the ad hoc group data
communication.
6\. MCData client(s) receiving ad hoc group data session release request,
acknowledge towards the MCData server by sending an ad hoc group data session
release response.
NOTE: If the initiator of the ad hoc group data communication does not supply
the participants list, the MCData client(s) may choose to store the list of
participants for easy re-initiation of another ad hoc group data communication
with the same participants.
7\. MCData client 1, client 2 and client 3 have successfully released the
media plane resources associated with the ad hoc group data communication that
is terminated and the ad hoc group ceases to exist (i.e., further data
communication is not possible over the same ad hoc group), otherwise if the ad
hoc group data communication follows an ad hoc group emergency alert the ad
hoc group continues to exist (i.e., further data communication is possible
over the same ad hoc group).
##### 7.17.3.1.3 Ad hoc group data communication setup with MCData server
determining the participants lists
Figure 7.17.3.1.3-1 below illustrates the ad hoc group data communication
setup procedure initiated by the MCData user and MCData client 1 wherein the
list of participants is determined by the MCData server based on the citeria
received from the MCData client.
Pre-conditions:
1\. The MCData user at MCData client 1 is authorized to initate ad hoc group
data communication.
2\. The MCData user at MCData client 1 wants to invite MCData users who are
satisying certain criteria for the ad hoc group data communication.
Figure 7.17.3.1.3-1: Ad hoc group data communication participants determined
by MCData server
1\. User at MCData client 1 would like to initiate an ad hoc group data
communication in-order to invite the participants satisfying specific
criteria. The MCData client 1 initiates the ad hoc group data communication by
sending the ad hoc group data session request containing the details of the
criteria to be applied by the MCData server for determining the participants
list. If end-to-end encryption is supported, the Encryption supported
information element shall be set to true and pre-configured MCData group whose
configuration is to be applied is included. An SDP offer containing the MCData
client media parameters is included. If the MCData user of MCData client 1 has
selected a functional alias, then the ad hoc group data session request
contains that functional alias.
If the MCData user at MCData client 1 initiates an MCData emergency ad hoc
group data communication or the MCData emergency state is already set for the
MCData client 1 (due to a previously triggered MCData emergency alert):
i. the MCData ad hoc group data session request shall contain an emergency
indicator;
ii. if the MCData emergency state is not set already, MCData client 1 sets its
MCData emergency state. The MCData emergency state of MCData client 1 is
retained until explicitly cancelled by the user of MCData client 1.
2\. If the ad hoc group data communication is supported, the MCData server
verifies whether the user at MCData client 1 is authorized to initiate an ad
hoc group data communication. If not authorized, the MCData server rejects the
ad hoc group data session request as specified in the step 3. The MCData
server accepts the ad hoc group data session request if the ad hoc group data
communication is supported and authorized.
If functional alias is present, the MCData server checks whether the provided
functional alias is allowed to be used and has been activated for the user.
If location information was included in the ad hoc group data session request,
the MCData server checks the privacy policy of the MCData user to decide if
the location information of MCData client 1 can be provided to other users on
the data communication (refer to Annex A.3 \"Authorisation to provide location
information to other MCData users on a data communication when talking\").
If an emergency indicator is present in the received MCData ad hoc group data
session request, the MCData ad hoc group is considered to be in the in-
progress emergency state until this ad hoc group data communication is
terminated;
If an imminent peril indicator is present in the received MCData ad hoc group
data session request, the MCData ad hoc group is considered to be in the in-
progress imminent peril state until this ad hoc group data communication is
terminated. and
If the information received in the request in step 1 does not contain an ad
hoc group ID from an ad hoc group emergency alert, the MCData server forms the
ad hoc group by using received information, and determines the preconfigured
group to be used for the configuration of the ad hoc group. The MCData server
assigns a MCData group ID for the newly formed ad hoc group. Further, the ad
hoc group participants are included to ad hoc group once determined as
specified in the step 4.
3\. The MCData server shall send the ad hoc group data session request return
message to MCData client 1 containing the below:
i. The MCData ad hoc group ID, either generated by the MCData server, if not
included in the ad hoc group call request of step 1, or if the provided MCData
ad hoc group ID is not accepted by the MCData server, or provided by the
MCData client 1 if the ad hoc group ID is from an ad hoc group emergency
alert;
ii. The group ID of the pre-configured group to be used for the ad hoc group
communication (only included when the ad hoc group data session is
authorized); and
iii. Result of whether the ad hoc group data session request is authorized or
not
If the ad hoc group data session request is not authorized, the MCData server
and MCData client 1 shall not proceed with the rest of the steps.
4\. The MCData server determines the list of participants to be invited for
the ad hoc group data communication based on the information present in the
information element Criteria for determining the participants. This
information element could carry either criteria or indicator identifying pre-
defined criteria or a combination of both.
NOTE 1: The content of the Criteria information element, the details of the
pre-defined criteria, and the way how their MCData server determines the list
of participants are left to implementation.
5\. The MCData server sends the ad hoc group data session requests towards the
MCData clients 2 and 3. While sending the ad hoc group data session requests,
the MCData server shall remove the information elements that are not required
to be conveyed to the target MCData clients. This request carries the pre-
configured group ID whose configuration is to be applied for this ad hoc group
data communication if end-to-end encryption is requested. The MCData server
considers the ad hoc group data communication participants as implicitly
affiliated to the ad hoc group.
6\. The receiving MCData clients notify their corresponding MCData user about
the incoming ad hoc group data communication.
7\. The receiving MCData clients may accept or reject the ad hoc group data
session requests and send ad hoc group data session responses to the MCData
server. The response may also contain a functional alias of the responding
MCData user, which is verified (valid and activated for the user) by the
MCData server.
8\. The MCData server sends the ad hoc group data session response to MCData
client 1 through the signalling path to inform about successful data
communication establishment.
9\. The MCData server may notify the initiating MCData user of all MCData
users who acknowledged the ad hoc group data session request and joined the ad
hoc group data communication. This notification may be sent to the initiating
MCData user by the MCData server more than once during the data communication
when MCData users join or leave the MCData ad hoc group data communication. If
the authorized users (not shown in figure) are configured to receive the
participants information of ad hoc group data communication, the MCData server
provides ad hoc group data session notify about all MCData users who
acknowledged the ad hoc group data session request and joined the ad hoc group
data communication, and when MCData users joins or leaves the MCData ad hoc
group data communication.
NOTE 2: The authorized user can learn who is currently affiliated to the
current adhoc group data communication.
10\. MCData client 1, MCData client 2 and MCData client 3 establish media
plane resources.
##### 7.17.3.1.4 Modification of ad hoc group data communication participants
by the initiator
Figure 7.17.3.1.4-1 below illustrates the modification of ad hoc group data
communication participants procedure by the initiator of the ad hoc group data
communication.
Pre-conditions:
1\. The MCData client 1 is the initiator of the ad hoc group data
communication.
2\. The MCData users on MCData client 1, MCData client 3 to MCData client n
are on an ongoing ad hoc group data communication.
3\. The MCData user 1 requests to remove the user of MCData client 3 from the
ad hoc group data communication and add user of MCData client 2 into the on-
going ad hoc group data communication.
Figure 7.17.3.1.4-1: Modification of ad hoc group data communication
participants by the initiator
1\. The MCData client 1 sends the modify ad hoc group data session
participants request to the MCData server in order to remove MCData client 3
from the ongoing ad hoc group data communication and add MCData client 2 into
it.
2\. The MCData server verifies whether the MCData client 1 is authorized to
add or remove (modify) the participants of the on-going ad hoc group data
communication.
3\. The MCData server sends modify ad hoc group data session participants
response to the MCData client 1.
4\. The MCData server sends the ad hoc group data session leave request to the
MCData client 3 in order to remove it from the on-going ad hoc group data
communication.
5\. The MCData client 3 notifies the user of the ad hoc group data session
leave request.
6\. The MCData client 3 sends the ad hoc group data session leave response to
the MCData server.
7\. The MCData server removes the MCData client 3 from the ongoing ad hoc
group data communication.
8\. The MCData server sends the ad hoc group data session request towards
MCData client 2.
NOTE: Steps 8 to 10 can occur at any time following step 3.
9\. The receiving MCData client 2 notifies the user about the incoming ad hoc
group data communication.
10\. The MCData client 2 accepts the ad hoc group data session request and
send ad hoc group data session responses to the MCData server. The response
may also contain a functional alias of the responding MCData user, which is
verified (valid and activated for the user) by the MCData server.
11\. The MCData server may notify the initiating MCData user of all the users
who are added to the on-going ad hoc group data communication. This
notification may be sent to the initiating MCData user by the MCData server
more than once during the data communication when MCData users join or leave
the ad hoc group data communication.
12\. The MCData server may notify the participants about the change in the
participants list of on-going ad hoc group data communication.
##### 7.17.3.1.5 Modification of ad hoc group data communication participants
by the MCData server
Figure 7.17.3.1.5-1 below illustrates the modification of ad hoc group data
communication participants procedure by the MCData server.
Pre-conditions:
1\. The MCData client 1 is the initiator of the ad hoc group data
communication.
2\. MCData server determined the participants for the ad hoc group data
communication based on the criteria specified by the MCData client 1 while
initiating the ad hoc group data communication.
3\. MCData server continuously evaluates the criteria to monitor the list of
users who meets or not meets the criteria for participating in the on-going ad
hoc group data communication.
4\. The MCData server detects that the MCData client 5 satisfies the criteria
and MCData client 4 stops to meet the criteria specified by the MCData client
1.
Figure 7.17.3.1.5-1: Modification of ad hoc group data communication
participants by the MCData server
1\. The ad hoc group data communication is established and on-going with the
participants MCData client 1, MCData client 2, MCData client 3 and MCData
client 4. The participants list is determined by the MCData server based on
the criteria specified by the MCData client 1 while initiating the data
communication.
2\. The MCData server detects that the MCData client 5 satisfies the criteria
specified by the MCData client.
3\. The MCData server sends the ad hoc group data session request to the
MCData client 5.
4\. The MCData client 5 notifies the user about the incoming ad hoc group data
communication.
5\. The MCData client 5 accepts the ad hoc group data session request and
sends the ad hoc group data session response to the MCData server.
6\. The on-going ad hoc group data communication is updated by adding MCData
client 5 which satisfies the criteria specified by the MCData client 1.
7\. The MCData server detects that the MCData client 4 is no more satisfying
the criteria to be the participant of the ad hoc group data communication.
8\. The MCData server sends the ad hoc group data communication leave request
to the MCData client 4 and removes it from the on-going ad hoc group data
communication.
9\. The MCData client 4 notifies the user of the ad hoc group data session
leave request.
10\. The MCData client 4 sends the ad hoc group data session leave response to
the MCData server.
11\. The on-going ad hoc group data communication is updated by removing
MCData client 4, which no more satisfies the criteria specified by the MCData
client 1.
##### 7.17.3.1.6 Modification of ad hoc group data communication criteria by
the initiator
Figure 7.17.3.1.6-1 below illustrates the modification of ad hoc group data
communication criteria procedure by the initiator of the ad hoc group data
communication.
Pre-conditions:
1\. The MCData client 1 is the initiator of the ad hoc group data
communication.
2\. The MCData users on MCData client 1, MCData client 3 to MCData client n
are on an ongoing ad hoc group data communication.
3\. MCdata user 1 requests to modify the criteria for determining the list of
participants. MCData client 3 does not meet the modified criteria while MCData
client 2 meets the modified criteria.
Figure 7.17.3.1.6-1: Modification of ad hoc group data communication criteria
by the initiator
1\. The MCData client 1 sends the modify ad hoc group data session criteria
request to the MCData server which contains an updated criteria to determine
the list of participants.
2\. The MCVideo server verifies whether the MCVideo client 1 is authorized to
modify the criteria which determines the list of participants during on-going
ad hoc group data communication. The MCData server determines the list of ad
hoc group call participants based on the criteria provided and indentifies
that MCData client 3 is to be removed from and MCData client 2 is to be added
to the group.
3\. The MCData server sends modify ad hoc group data session criteria response
to the MCData client 1.
4\. The MCData server sends the ad hoc group data session leave request to the
MCData client 3 in order to remove it from the on-going ad hoc group data
communication.
5\. The MCData client 3 notifies the user of the ad hoc group data session
leave request.
6\. The MCData client 3 sends the ad hoc group data session leave response to
the MCData server.
7\. The MCData server removes the MCData client 3 from the ongoing ad hoc
group data communication.
8\. The MCData server sends the ad hoc group data session request towards
MCData client 2.
NOTE 1: Steps 8 to 10 can occur at any time following step 3.
9\. The receiving MCData client 2 notifies the user about the incoming ad hoc
group data communication.
10\. The MCData client 2 accepts the ad hoc group data session request and
send ad hoc group data session responses to the MCData server. The response
may also contain a functional alias of the responding MCData user, which is
verified (valid and activated for the user) by the MCData server.
11\. The MCData server may notify the initiating MCData user of all the users
who are added to the on-going ad hoc group data communication. This
notification may be sent to the initiating MCData user by the MCData server
more than once during the data communication when MCData users join or leave
the ad hoc group data communication.
12\. The MCData server may notify the participants about the change in the
participants list of on-going ad hoc group data communication.
NOTE 2: If the ad hoc group call is associated with an ad hoc group emergency
alert and the change of criteria caused the modification of ad hoc group call
participant list then the ongoing ad hoc group emergency alert is modified
accordingly.
#### 7.17.3.2 Ad hoc group data communication involving multiple MC systems
##### 7.17.3.2.1 Procedure for ad hoc group data communication setup --
Participants list provided by the Initiator
Figure 7.17.3.2.1-1 illustrates the procedure for ad hoc group data
communication setup procedure initiated by an authorized user wherein either a
list of participants or an ad hoc group ID from an ad hoc group emergency
alert is provided by the authorised user and the determined MCData users are
from multiple MCData systems.
Pre-conditions:
1\. The security aspects of sharing the user information between primary and
partner MC systems shall be governed as per the service provider agreement
between them. In this case, it is considered that the partner MC system shares
their users\' information to the primary MC system.
2\. The authorized MCData user/dispatcher belongs to the primary MC system.
3\. The MCData server of the primary MC system is where the authorized MCData
user/dispatcher creates the ad hoc group.
4\. Some users of the ad hoc group belong to partner MC systems.
5\. The preconfigured group identity and preconfigured group configuration
(e.g. security related information) to be used for an ad hoc group have been
preconfigured in the MCData client and other participants of ad hoc group have
also received the relevant security related information to allow them to
communicate in an ad hoc group communication.
6\. If an ad hoc group ID from an ad hoc group emergency alert is used to
invite the ad hoc group members, MCData client is aware of the ad hoc group
ID.
Figure 7.17.3.2.1-1: Ad hoc group data communication setup
1\. The MCData client of the authorized user initiates an ad hoc group data
communication with multiple users from primary and partner MC systems. An ad
hoc group data session request message with the information of the
participants MCData IDs or an ad hoc group ID if the ad hoc group call follows
an ad hoc group emergency alert is routed to the MCData server of the primary
MC system.
2\. If the ad hoc group call is supported, the MCData server of the primary MC
system verifies whether the user at MCData client is authorized to initiate an
ad hoc group communication. If not authorized, the MCData server of the
primary MC system rejects the ad hoc group data session request as specified
in the step 3.
If the information received in the request in step 1 does not contain an ad
hoc group ID from an ad hoc group emergency alert, the MCData server of the
primary MC system forms the ad hoc group by using information received in step
1 and further determines the preconfigured group to be used for the
configuration (e.g. security related information). The MCData server assigns
an MCData ad hoc group ID for the newly formed ad hoc group.
If no MCData ad hoc group ID was included in the ad hoc group data session
request of step 1, or if the provided MCData ad hoc group ID is not accepted
by the MCData server, the MCData server assigns a MCData group ID for the
newly formed ad hoc group. The MCData server considers the ad hoc group
communication participants as implicitly affiliated to the ad hoc group.
NOTE 1: The newly formed ad hoc group information including the MCData group
ID and the list of users is held in dynamic data in the MCData server.
3\. The MCData server shall send the ad hoc group data session request return
message to MCData client containing the below:
i. The MCData ad hoc group ID either generated by the MCData server or
provided by the MCData client if the ad hoc group ID is from an ad hoc group
emergency alert (only included when the ad hoc group data session request is
authorized);
ii. The group ID of the pre-configured group to be used for the ad hoc group
data communication (only included when the ad hoc group data session request
is authorized); and
iii. Result of whether the ad hoc group data session request is authorized or
not.
If the ad hoc group data session request is not authorized, MCData client 1
shall not proceed with the rest of the steps.
4\. The MCData server of the primary MC system sends the ad hoc group data
session request to the group members of the ad hoc group belonging to the
primary MC system. While sending the ad hoc group data session requests, the
MCData server shall remove the information elements that are not required to
be conveyed to the target MCData clients (e.g. MCData ID list of the users who
are required to acknowledge).
5a-5b. The MCData clients receive in the ad hoc group data session request
with the information of the MCData group ID for the ad hoc group and further
notify their corresponding MCData user. The group members of the ad hoc group
of the primary MC system may accept or reject the ad hoc group data session
requests and respond with the ad hoc group data session responses.
6\. The primary MCData server further initiates an ad hoc group data session
request message to the MCData users of the partner MC system. The ad hoc group
data session request message is routed to the MCData users via the MCData
server of the partner MC system.
7a-7b. The MCData clients receive in the ad hoc group data session request the
information of the MCData group ID for the ad hoc group and further notify
their corresponding MCData user. The MCData users upon receipt of the
invitation may accept or reject the ad hoc group data session requests, and
respond with the ad hoc group data session responses. The ad hoc group data
session response message is routed to the MCData server of the primary MC
system via the MCData server of the partner MC system.
8\. The MCData server of the primary MC system provides an ad hoc group data
session response message to the MCData client of the authorized MCData user
upon receiving response to the corresponding ad hoc group data session request
in step 1. The ad hoc group data session response will consist of the success
or failure result and/or detailed reason information in case of failure.
NOTE 2: The ad hoc group data session response messages may be used by The
MCData client of the authorized user to determine if the ad hoc group
communication will proceed.
9\. Upon successful ad hoc group data session setup, a group data
communication is established amongst the group members from primary and
partner MC systems. The media plane resources for data communication are
established.
##### 7.17.3.2.2 Procedure for ad hoc group data communication release by
MCData server -- Participants list provided by the Initiator
This procedure focuses on the case where an MCData server initiates the
termination of an ongoing MCData ad hoc group data communication for all the
participants of that group data communication, since at least one of the
termination conditions are met e.g., due to hang time expiry, last participant
leaving, second last participant leaving, initiator leaving, or minimum number
of affiliated MCData group members are not present.
Procedures in figure 7.17.3.2.2-1 are the signalling control plane procedures
for the MCData server initiating termination of an ongoing MCData ad hoc group
data communication.
Pre-condition:
\- The MCData client 1 and MCData client 2 belong to primary MC system. The
MCData client 3 belongs to partner MC system.
\- The MCData users on MCData client 1, client 2 and client 3 are already part
of the ongoing ad hoc group data communication (e.g. as a result of ad hoc
group data communication setup as specified in clause 7.17.3.2.1).
Figure 7.17.3.2.2-1: Ad hoc group data communication release
1\. The MCData server determines to release the ongoing ad hoc group data
communication e.g., due to a hang timer expiry, last participant leaving,
second last participant leaving, initiator leaving, or a minimum number of
affiliated MCData group members not present.
2\. The MCData server identifies the participants of the ongoing ad hoc group
data communication and generates ad hoc group data session release request to
release ongoing data communication.
3\. The MCData server sends an ad hoc group data session release request to
each participant of the ongoing group data communication. If the participants
belong to the partner MC system, then the ad hoc group data session release
request is routed to the MCData clients of the partner MC system via the
partner MCData server.
4\. The MCData users are notified about the release of the ad hoc group data
communication.
5\. The MCData client(s), send an acknowledgment to the MCData server by
sending an ad hoc group data session release response.
6\. The MCData client 1, client 2 and client 3 have successfully released
media plane resources associated with the ad hoc group data communication that
is terminated. The primary MCData server removes the ad hoc group information
from the dynamic data and thus the ad hoc group ceases to exist.
##### 7.17.3.2.3 Ad hoc group data communication setup -- Participants list
determined by the MCData server
Figure 7.17.3.2.3-1 below illustrates the ad hoc group data communication
setup procedure initiated by an authorized user wherein the list of
participants is determined by the MCData server based on the citeria received
from the MCData client and determined MCData users are from multiple MCData
systems.
Pre-conditions:
1\. The security aspects of sharing the user information between primary and
partner MC systems shall be governed as per the service provider agreement
between them. In this case, it is considered that the partner MC system share
their users\' information to the primary MC system.
2\. The authorized MCData user/dispatcher belongs to the primary MC system.
3\. The MCData server 1 of the primary MC system is where the authorized
MCData user/dispatcher creates the ad hoc group.
4\. Some users of the ad hoc group may belong to MCData server 2 of the
partner MC systems.
5\. The pre-configured group identity and pre-configured group configuration
to be used for an ad hoc group have been preconfigured in MCData client and
other participants of ad hoc group have also received the relevant security
related information to allow them to communicate in an ad hoc group
communication.
Figure 7.17.3.2.3-1: Ad hoc group data communication setup involving multiple
MCData systems
1-3. Same as described in subclause 7.17.3.1.1.
4\. The MCData server 1 determines the list of participants from the primary
MC system and determines the partner MC system to be involved in the ad hoc
group data communication based on the information present in the information
element Criteria for determining the participants. This information element
carries the criteria, indicator identifying pre-defined criteria, or a
combination of both.
NOTE 1: The content of the Criteria information element, the details of the
pre-defined criteria, and the way how their MCData server determines the list
of participants are left to implementation.
5\. The MCData server 1 needs to involve the partner MC system based on the
agreement and based on the criteria for determining the participants list, it
sends the ad hoc group data session get userlist request to the MCData server
2. This request carries the criteria specified in the step 1.
6\. MCData server 2 evaluates the criteria and determines the participants
satisfying the criteria (i.e. MCData client 3 and MCData client 4) and sends
the response containing the list of MCData users satisfying the criteria. The
MCData server 2 may apply local policies if any while determining the
participants satisfying the criteria.
7\. The MCData server 1 compiles the list of participants to be invited for
the ad hoc group data communication including the participants from both
primary and partner MC system.
8a-8b. The MCData server 1 sends the ad hoc group data session request towards
the MCData client 3 and MCData client 4. While sending the ad hoc group data
session request, the MCData server shall remove the information elements that
are not required to be conveyed to the target MCData clients. This request
carries the pre-configured group ID whose configuration is to be applied for
this ad hoc group data communication if end-to-end encryption is requested.
The MCData server 1 considers the ad hoc group communication participants as
implicitly affiliated to the ad hoc group.
9\. The MCData server 1 sends the ad hoc group data session request towards
the MCData client 2. While sending the ad hoc group data session request, the
MCData server shall remove the information elements that are not required to
be conveyed to the target MCData clients. This request carries the pre-
configured group ID whose configuration is to be applied for this ad hoc group
data communication if end-to-end encryption is requested.
10a-10c. The MCData clients receive incoming ad hoc group data communication
and further notify their corresponding MCData users.
11\. The MCData client 2 accepts the ad hoc group data session request, and
sends ad hoc group data session response to the MCData server 1.
12\. The MCData client 3 accepts the ad hoc group data session request, and
sends ad hoc group data session response to the MCData server 1.
13\. The MCData client 4 accepts the ad hoc group data session request, and
sends ad hoc group data session response to the MCData server 1.
14\. The MCData server 1 sends the ad hoc group data session response to
MCData client 1 through the signalling path to inform about result of the
participants responses.
15\. The MCData server 1 may notify the initiating MCData user of all MCData
users who acknowledged the ad hoc group data session request and joined the ad
hoc group data communication. The MCData server 1 more than once during the
data communication may send this notification to the initiating MCData user
whenever an MCData user joins or leaves the MCData ad hoc group data
communication. If the authorized users (not shown in figure) are configured to
receive the participants information of ad hoc group data communication, the
MCData server provides ad hoc group data session notify about all MCData users
who acknowledged the ad hoc group data session request and joined the ad hoc
group data communication, and when MCData users joins or leaves the MCData ad
hoc group data communication.
16\. The MCData client 1, MCData client 2, MCData client 3 and MCData client 4
establish media plane resources for data communication.
NOTE 2: The ad hoc group data session request and response exchanged between
MCData server 1 of primary MC system and MCData client 3/MCData client 4 will
always traversal through the MCData server 2.
##### 7.17.3.2.4 MCData server modifying ad hoc group data communication
participants procedure involving multiple MCData systems -- Participants list
determined by the MCData server
Figure 7.17.3.2.4-1 below illustrates the MCData server modifying the ad hoc
group data communication participants procedure involving multiple MCData
systems.
Pre-conditions:
1\. The MCData user at MCData client 1 is authorized to initiate ad hoc group
data communication.
2\. The MCData server 1 of the primary and MCData server 2 of the partner
MCData systems determined the participants for the ad hoc group data
communication based on the criteria specified by the MCData client 1 while
initiating the ad hoc group data communication.
3\. The ad hoc group data communication is established and on-going with the
participants MCData client 1, MCData client 2, and MCData client 4. The
participants list is determined by both primary and partner MC systems.
4\. The MCData server 1 of the primary and MCData server 2 of the partner
MCData systems continuously evaluates the criteria to monitor the list of
users who meets or not meets the criteria for participating in the on-going ad
hoc group data communication.
5\. The MCData server 1 of the primary MCData system detects that the MCData
client 3 meets the criteria and MCData client 2 stops to meet the criteria
specified by the MCData client 1.
6\. The MCData server 2 of the partner MCData system detects that the MCData
client 5 meets the criteria and MCData client 4 stops to meet the criteria
specified by the MCData client 1.
Figure 7.17.3.2.4-1: MCData server modifying ad hoc group data communication
participants involving multiple MCData systems
1\. The MCData server 1 detects that MCData client 3 now meets criteria and
successfully added to group data communication.
2\. The MCData server 1 detects that MCData client 2 does not meet criteria
any more and successfully removed from a group data communication.
3\. The MCData server 2 detects that the MCData client 5 meets the criteria
specified by the MCData client 1.
4\. The MCData server 2 sends the notification to MCData server 1 of the
primary MCData system to add the MCData user at MCData client 5 to on-going ad
hoc group data communication.
5\. The MCData server 1 sends the ad hoc group data session request to the
MCData client 5.
6\. The MCData client 5 notifies the user about the incoming ad hoc group data
communication.
7\. The MCData client 5 accepts the ad hoc group data session request and
sends the ad hoc group data session response to the MCData server 1.
8\. The on-going ad hoc group data communication is updated by adding MCData
client 5 which meets the criteria specified by the MCData client 1.
9\. The MCData server 2 detects that the MCData client 4 is no longer
satisfying the criteria to be the participant of the ad hoc group data
communication.
10\. The MCData server 2 sends the notification to MCData server 1 of the
primary MCData system to remove the MCData user at MCData client 4 from on-
going ad hoc group data communication.
11\. The MCData server 1 sends the ad hoc group data session leave request to
the MCData client 4 and removes it from the on-going ad hoc group data
communication.
12\. The MCData client 4 notifies the user of the ad hoc group data session
leave request.
13\. The MCData client 4 sends the ad hoc group data session leave response to
the MCData server 1.
14\. The on-going ad hoc group data communication is updated by removing
MCData client 4, which no longer meets the criteria specified by the MCData
client 1.
NOTE: The ad hoc group data session request and response exchanged between
MCData server 1 of primary MC system and MCData client 4/MCData client 5 will
always traversal through the MCData server 2.
##### 7.17.3.2.5 Release ad hoc group data communication and stop determining
the ad hoc group data communication participants by partner MCData system --
Participants list determined by the MCData server
Figure 7.17.3.2.5-1 below illustrates the release of ad hoc group data
communication and stopping of MCData server at the partner MC system from
determining the ad hoc group data communication participants' procedure once
involving multiple MCData systems. This procedure, in particular describes
about how the partner MC system is notified about ad hoc group data
communication release to cease the determining of the participants by the
partner MC system.
Pre-conditions:
1\. The MCData user at MCData client 1 is authorized to initate ad hoc group
data communication.
2\. The ad hoc group data communication is established and on-going with the
participants MCData client 1, MCData client 2, MCData client 3, and MCData
client 4.
3\. The MCData server 1 of the primary and MCData server 2 of the partner
MCData systems determined the participants for the ad hoc group data
communication based on the criteria specified by the MCData client 1 while
initiating the ad hoc group data communication.
4\. The MCData server 1 of the primary and MCData server 2 of the partner
MCData systems continuously evaluates the criteria to monitor the list of
users who meets or not meets the criteria for participating in the on-going ad
hoc group data communication.
Figure 7.17.3.2.5-1: MCData server releases an ad hoc group data communication
and stops the determination of ad hoc group data communication participants
involving multiple MCData systems
1\. The MCData server 1 detects that the ad hoc group data communication which
is ongoing is to be released e.g., due to hang time expiry, last participant
leaving, second last participant leaving, initiator leaving, or minimum number
of affiliated MCData group members are not present.
2\. The MCData server 1 sends the ad hoc group data session release
notification to MCData server 2 of the partner MCData system about the ad hoc
group data communication release to stop determining the participants list by
MCData server 2 of the partner MCData system.
3a-3d. The MCData server 1 sends ad hoc group data session release request to
all the participants of the ad hoc group data communication.
4a-4d. The MCData clients notifies the user about the release of the ad hoc
group data communication.
5a-5d. All the participants of the ad hoc group data communication receives
the ad hoc group data session release request and sends the ad hoc group data
session release response to the MCData server 1 of the primary MCData server.
NOTE: The ad hoc group data session request and response exchanged between
MCData server 1 of primary MC system and MCData client 3/MCData client 4 will
always traversal through the MCData server 2.
### 7.17.4 Ad hoc group short data service data communication procedures
#### 7.17.4.1 General
This subclause contains procedures for ad hoc group short data service data
communication across a single MCData system, and uses the common procedures
defined in the subclause 7.17.3 in conjuction with the procedures defined in
this subclause. Other common procedures specified in the 7.17.3 are used at
any time after Ad hoc group short data service data communication
establishment based on the need of it. These procedures are applicable for
Group standalone short data service using media plane and Group short data
service session as specified in the subclause 7.4.2.6 and subclause 7.4.2.7
respectively.
#### 7.17.4.2 Information flows for short data service specific
Table 7.17.4.2-1 describes the information elements that are specific to short
data service and are used along with the common information flows defined in
the subclause 7.17.2 for the Ad hoc group short data service data
communication. These information elements are included when an Ad hoc group
data session request sent from the MCData client to the MCData server, between
the MCData servers, and from the MCData server to the MCData client.
Table 7.17.4.2-1: short data service specific
* * *
Information element Status Description Conversation Identifier M Identifies
the conversation Transaction Identifier M Identifies the MCData transaction
Reply Identifier O Identifies the original MCData transaction to which the
current transaction is a reply to Transaction type M Session based
transactions Disposition Type O Indicates the disposition type expected from
the receiver (i.e., delivered or read or both) Payload Destination Type M
Indicates whether the SDS payload is for application consumption or MCData
user consumption Application identifier (see NOTE 1) O Identifies the
application for which the payload is intended (e.g. text string, port address,
URI) Application metadata container O Implementation specific information that
is communicated to the recipient NOTE 1: The application identifier shall be
included only if the payload destination type indicates that the SDS message
is for application consumption.
* * *
#### 7.17.4.3 Ad hoc group short data service data communication procedures in
single MCData system
##### 7.17.4.3.1 General
The initiation of Ad hoc group SDS session results in ad hoc group
participants exchanging SDS data.
##### 7.17.4.3.2 Procedure
The procedure in figure 7.17.4.3.2-1 describes the case where an MCData user
is initiating SDS data communication session with an MCData ad hoc group for
exchanging SDS data transactions between the ad hoc group participants, with
or without disposition request.
Pre-conditions:
1\. As defined in the subclause 7.17.3.1.1.
Figure 7.17.4.3.2-1: Ad hoc group SDS data communication session
1\. User at MCData client 1 initiate an ad hoc group data communication as
specified in the subclause 7.17.3.1.1.
2\. MCData client 1 and the ad hoc group data session request accepted clients
have successfully established media plane for data communication and either
MCData client can transmit SDS data. The MCData data request may contain
disposition request if indicated by the client sending data. If the payload is
for MCData user consumption (e.g. is not application data, is not command
instructions, etc.) then the SDS data receiving MCData users may be notified,
otherwise those MCData users shall not be notified.
3\. If MCData data disposition was requested by the user, then the SDS data
receiving MCData client initiates a MCData data disposition notification for
delivery, read reports to the disposition requesting user. The MCData data
disposition notification from the receiving MCData clients may be stored by
the MCData server for disposition history interrogation from authorized users.
4\. Based on the MCData user action or conditions to release, the established
media plane for SDS data exchange is released as specified in the subclause
7.17.3.1.2.
#### 7.17.4.4 Ad hoc group short data service data communication procedures
involving multiple MC systems
##### 7.17.4.4.1 General
The initiation of Ad hoc group SDS session results in ad hoc group
participants exchanging SDS data.
##### 7.17.4.4.2 Procedure
The procedure in figure 7.17.4.4.2-1 describes the case where an MCData user
is initiating SDS data communication session with an MCData ad hoc group for
exchanging SDS data transactions between the ad hoc group participants, with
or without disposition request.
Pre-conditions:
1\. As defined in the Common Ad hoc group data communication procedures of
subclause 7.17.3.2.1 or subclause 7.17.3.2.3.
Figure 7.17.4.4.2-1: Ad hoc group SDS data communication session
1\. User at MCData client 1 initiate an ad hoc group data communication as
specified in the subclause 7.17.3.2.1 or subclause 7.17.3.2.3.
2\. MCData client 1 and the ad hoc group data session request accepted clients
have successfully established media plane for data communication and either
MCData client can transmit SDS data. The MCData data request may contain
disposition request if indicated by the client sending data. If the payload is
for MCData user consumption (e.g. is not application data, is not command
instructions, etc.) then the SDS data receiving MCData users may be notified,
otherwise those MCData users shall not be notified.
3\. If MCData data disposition was requested by the user, then the SDS data
receiving MCData client initiates a MCData data disposition notification for
delivery, read reports to the disposition requesting user. The MCData data
disposition notification from the receiving MCData clients may be stored by
the MCData server for disposition history interrogation from authorized users.
4\. Based on the MCData user action or conditions to release, the established
media plane for SDS data exchange is released as specified in the subclause
7.17.3.2.2 or subclause 7.17.3.2.5.
### 7.17.5 Ad hoc group file distribution communication procedures
#### 7.17.5.1 General
This subclause contains procedures for ad hoc group file distribution
communication across a single MCData system, and uses the common procedures
defined in the subclause 7.17.3 in conjuction with the procedures defined in
this subclause. Other common procedures specified in the 7.17.3 are used at
any time after Ad hoc group file distribution communication establishment
based on the need of it.
#### 7.17.5.2 Information flows for file distribution specific
Table 7.17.5.2-1 describes the information elements that are specific to file
distribution and are used along with the common information flows defined in
the subclause 7.17.2 for the Ad hoc group short data service data
communication. These information elements are included when an Ad hoc group
data session request sent from the MCData client to the MCData server, between
the MCData servers, and from the MCData server to the MCData client.
Table 7.17.5.2-1: file distribution specific
* * *
Information element Status Description Conversation Identifier M Identifies
the conversation Transaction Identifier M Identifies the MCData transaction
Reply Identifier O Identifies the original MCData transaction to which the
current transaction is a reply to Disposition indication O Indicates whether
file download completed report is expected or not Download indication O
Indicates mandatory download (i.e. auto accept this media plane setup request)
Application metadata container O Implementation specific information that is
communicated to the recipient
* * *
#### 7.17.5.3 Ad hoc group file distribution communication procedures in
single MCData system
##### 7.17.5.3.1 General
The initiation of Ad hoc group standalone FD using media plane results in ad
hoc group participants exchanging SDS data.
##### 7.17.5.3.2 Procedure
The procedure in figure 7.17.5.3.2-1 describes the case where an MCData user
is initiating ad hoc group standalone data communication for sending file to
multiple MCData users, with or without download completed report request.
Pre-conditions:
1\. As defined in the Common Ad hoc group data communication procedures of
subclause 7.17.3.1.1.
Figure 7.17.5.3.2-1: Ad hoc group SDS data communication session
1\. User at MCData client 1 initiate an ad hoc group data communication as
specified in the subclause 7.17.3.1.1.
2\. MCData client 1 and MCData server have successfully established media
plane for file transmission and the MCData client 1 transmits the file data.
MCData server distributes the file received from MCData client 1 to MCData
clients 2 to n over the established media plane. Distribution of file can be
via unicast or via MBMS bearer(s).
3\. The dispositions notifications are handled as specified in the subclause
7.5.2.7.
4\. Based on the MCData user action or conditions to release, the established
media plane for FD communication is released as specified in the subclause
7.17.3.1.2.
#### 7.17.5.4 Ad hoc group file distribution communication procedures
involving multiple MC systems
##### 7.17.5.4.1 General
The initiation of Ad hoc group standalone FD using media plane results in ad
hoc group participants exchanging FD data.
##### 7.17.5.4.2 Procedure
The procedure in figure 7.17.5.4.2-1 describes the case where an MCData user
is initiating ad hoc group standalone data communication for sending file to
multiple MCData users, with or without download completed report request.
Pre-conditions:
1\. As defined in the Common Ad hoc group data communication procedures of
subclause 7.17.3.2.1 or subclause 7.17.3.2.3.
Figure 7.17.5.4.2-1: Ad hoc group FD data communication session
1\. User at MCData client 1 initiate an ad hoc group data communication as
specified in the subclause 7.17.3.2.1 or subclause 7.17.3.2.3.
2\. MCData client 1 and MCData server have successfully established media
plane for file transmission and the MCData client 1 transmits the file data.
MCData server distributes the file received from MCData client 1 to MCData
clients 2 to n over the established media plane. Distribution of file can be
via unicast or via MBMS bearer(s).
3\. The dispositions notifications are handled as specified in the subclause
7.5.2.7.
4\. Based on the MCData user action or conditions to release, the established
media plane for FD communication is released as specified in the subclause
7.17.3.2.2 or subclause 7.17.3.2.5.
### 7.17.6 Ad hoc group standalone short data service using signalling control
plane
#### 7.17.6.1 Information flows
##### 7.17.6.1.1 Determine ad hoc group request (MCData client -- MCData
server)
Table 7.17.6.1.1-1 describes the information flow for the Determine ad hoc
group request sent from the MCData client to the MCData server.
Table 7.17.6.1.1-1: Determine ad hoc group request (MCData client -- MCData
server)
+-----------------------------+--------+-----------------------------+ | Information element | Status | Description | +-----------------------------+--------+-----------------------------+ | MCData ID | M | The identity of the MCData | | | | user sending the request | +-----------------------------+--------+-----------------------------+ | Functional alias | O | The associated functional | | | | alias of the MCData user | | | | sending request. | +-----------------------------+--------+-----------------------------+ | Encryption supported | M | Indicates whether ad hoc | | | | group data transfer support | | | | requires end-to-end | | | | encryption. | +-----------------------------+--------+-----------------------------+ | MCData ID list (see NOTE 1, | O | MCData IDs for the ad hoc | | NOTE 2) | | group standalone short data | | | | service. | +-----------------------------+--------+-----------------------------+ | Criteria for determining | O | Carries the details of | | the participants | | criteria or meaningful | | (see NOTE 2) | | label identifying the | | | | criteria or the combination | | | | of both which will be used | | | | by the MCData server for | | | | determining the list of | | | | MCData users e.g., it can | | | | be a location based | | | | criteria to SDS data | | | | transfer in a particular | | | | area. | +-----------------------------+--------+-----------------------------+ | NOTE 1: This element is | | | | included only when the the | | | | ad hoc group standalone | | | | short data service | | | | initiating client sends the | | | | list of MCData users. | | | | | | | | NOTE 2: Only one of these | | | | information elements is | | | | present. | | | +-----------------------------+--------+-----------------------------+
##### 7.17.6.1.2 Determine ad hoc group response (MCData server -- MCData
client)
Table 7.17.6.1.2-1 describes the information flow Determine ad hoc group
response from the MCData server to the MCData client. This response to provide
the server assigned MCData ad hoc group ID and preconfigured group identity of
preconfigured group from which the configurations to be used (e.g. security
related information).
Table 7.17.6.1.2-1 Determine ad hoc group response information elements
+-----------------------------+--------+-----------------------------+ | Information Element | Status | Description | +=============================+========+=============================+ | MCData ID | M | The identity of the MCData | | | | user sending the request` | +-----------------------------+--------+-----------------------------+ | MCData ad hoc group ID | O | The MCData group ID to be | | (see NOTE 1) | | associated with the ad hoc | | | | group standalone short data | | | | service which is genarted | | | | and assigned by the MCData | | | | server. | +-----------------------------+--------+-----------------------------+ | Preconfigured MCData group | O | Group identity whose | | ID (see NOTE 2) | | configuration is to be | | | | applied for ad hoc group | | | | standalone short data | | | | service. | +-----------------------------+--------+-----------------------------+ | Result | M | Result of the Determine | | | | ad hoc group request | | | | (success or failure) | +-----------------------------+--------+-----------------------------+ | NOTE 1: If the result is | | | | success then this IE shall | | | | be included | | | | | | | | NOTE 2: If the result is | | | | success and the end-to-end | | | | encryption is required, | | | | then this IE shall be | | | | included. | | | +-----------------------------+--------+-----------------------------+
##### 7.17.6.1.3 Ad hoc group standalone data request (MCData client -- MCData
server)
Table 7.17.6.1.3-1 describes the information flow for the Ad hoc group
standalone data request sent from the MCData client to the MCData server.
Table 7.17.6.1.3-1: Ad hoc group standalone data request (MCData client \--
MCData server)
+-----------------------------+--------+-----------------------------+ | Information element | Status | Description | +-----------------------------+--------+-----------------------------+ | MCData ID | M | The identity of the MCData | | | | user sending data | +-----------------------------+--------+-----------------------------+ | Functional alias | O | The associated functional | | | | alias of the MCData user | | | | sending data. | +-----------------------------+--------+-----------------------------+ | MCData ad hoc group ID | M | The MCData group ID to be | | (see NOTE 1) | | associated with the ad hoc | | | | group standalone short data | | | | service | +-----------------------------+--------+-----------------------------+ | Preconfigured MCData group | O | Group identity whose | | ID (see NOTE 2) | | configuration is to be | | | | applied for ad hoc group | | | | standalone short data | | | | service. | +-----------------------------+--------+-----------------------------+ | Conversation Identifier | M | Identifies the conversation | +-----------------------------+--------+-----------------------------+ | Transaction Identifier | M | Identifies the MCData | | | | transaction | +-----------------------------+--------+-----------------------------+ | Emergency indicator | O | Indicates that the data | | (see NOTE 3) | | request is for emergency | | | | ad hoc group standalone | | | | short data service | +-----------------------------+--------+-----------------------------+ | Imminent peril indicator | O | Indicates that the data | | (see NOTE 3) | | request is for imminent | | | | peril ad hoc group | | | | standalone short data | | | | service | +-----------------------------+--------+-----------------------------+ | Disposition Type | O | Indicates the disposition | | | | type expected from the | | | | receiver (i.e., delivered | | | | or read or both) | +-----------------------------+--------+-----------------------------+ | MCData ID list (see NOTE 4) | O | The specified MCData users | | | | who should send a | | | | disposition notification | | | | message. | +-----------------------------+--------+-----------------------------+ | Payload Destination Type | M | Indicates whether the | | | | payload is for application | | | | consumption or MCData user | | | | consumption | +-----------------------------+--------+-----------------------------+ | Location | O | Location of the Originating | | | | MCData user sending the SDS | +-----------------------------+--------+-----------------------------+ | Application identifier (see | O | Identifies the application | | NOTE 5) | | for which the payload is | | | | intended (e.g. text string, | | | | port address, URI) | +-----------------------------+--------+-----------------------------+ | Application metadata | O | Implementation specific | | container | | information that is | | | | communicated to the | | | | recipient | +-----------------------------+--------+-----------------------------+ | Payload | M | SDS content | +-----------------------------+--------+-----------------------------+ | Time to live | O | Indicates how long the | | | | ad hoc group is persisted | | | | and members can respond to | | | | the data transfer (e.g. | | | | duration for 5 mins or till | | | | certain future time). | +-----------------------------+--------+-----------------------------+ | NOTE 1: The MCData ad hoc | | | | group ID is determined | | | | prior to by using the | | | | Determine ad hoc group | | | | request. | | | | | | | | NOTE 2: If end-to-end | | | | encryption is required, | | | | then this element is | | | | included and the value is | | | | determined prior to by | | | | using the Determine ad hoc | | | | group request. | | | | | | | | NOTE 3: If used, only one | | | | of these information | | | | elements shall be present. | | | | | | | | NOTE 4: If Disposition Type | | | | IE is not present, this IE | | | | shall not be present. If | | | | Disposition Type IE is | | | | present but this IE is not, | | | | which indicates that all | | | | receivers shall respond | | | | with disposition | | | | notification message. | | | | | | | | NOTE 5: The application | | | | identifier shall be | | | | included only if the | | | | payload destination type | | | | indicates that the SDS | | | | message is for application | | | | consumption. | | | +-----------------------------+--------+-----------------------------+
##### 7.17.6.1.4 Ad hoc group standalone data request (MCData server -- MCData
client)
Table 7.17.6.1.4-1 describes the information flow for the Ad hoc group
standalone data request sent from the MCData server to the MCData client.
Table 7.17.6.1.4-1: Ad hoc group standalone data request (MCData server \--
MCData client)
+-----------------------------+--------+-----------------------------+ | Information element | Status | Description | +-----------------------------+--------+-----------------------------+ | MCData ID | M | The identity of the MCData | | | | user sending data | +-----------------------------+--------+-----------------------------+ | Functional alias | O | The associated functional | | | | alias of the MCData user | | | | sending data. | +-----------------------------+--------+-----------------------------+ | MCData ad hoc group ID | M | The MCData group ID | | | | associated with ad hoc | | | | group standalone short data | | | | service | +-----------------------------+--------+-----------------------------+ | Preconfigured MCData group | O | Group identity whose | | ID (see NOTE 1) | | configuration is to be | | | | applied for this ad hoc | | | | group standalone short data | | | | service. | +-----------------------------+--------+-----------------------------+ | MCData ID | M | The identity of the MCData | | | | user towards which the data | | | | is sent | +-----------------------------+--------+-----------------------------+ | Conversation Identifier | M | Identifies the conversation | +-----------------------------+--------+-----------------------------+ | Transaction Identifier | M | Identifies the MCData | | | | transaction | +-----------------------------+--------+-----------------------------+ | Emergency indicator | O | Indicates that the data | | (see NOTE 2) | | request is for emergency | | | | ad hoc group standalone | | | | short data service | +-----------------------------+--------+-----------------------------+ | Imminent peril indicator | O | Indicates that the data | | (see NOTE 2) | | request is for imminent | | | | peril ad hoc group | | | | standalone short data | | | | service | +-----------------------------+--------+-----------------------------+ | Disposition Type | O | Indicates the disposition | | | | type expected from the | | | | receiver (i.e., delivered | | | | or read or both) | +-----------------------------+--------+-----------------------------+ | Payload Destination Type | M | Indicates whether the | | | | payload is for application | | | | consumption or MCData user | | | | consumption | +-----------------------------+--------+-----------------------------+ | Location | O | Location of the Originating | | | | MCData user sending the SDS | +-----------------------------+--------+-----------------------------+ | Application identifier (see | O | Identifies the application | | NOTE 3) | | for which the payload is | | | | intended (e.g. text string, | | | | port address, URI) | +-----------------------------+--------+-----------------------------+ | Application metadata | O | Implementation specific | | container | | information that is | | | | communicated to the | | | | recipient | +-----------------------------+--------+-----------------------------+ | Payload | M | SDS content | +-----------------------------+--------+-----------------------------+ | Time to live | O | Indicates how long the | | | | ad hoc group is persisted | | | | and members can respond to | | | | the data transfer. | +-----------------------------+--------+-----------------------------+ | NOTE 1: If end-to-end | | | | encryption is required, | | | | then this element is | | | | included. | | | | | | | | NOTE 2: If used, only one | | | | of these information | | | | elements shall be present. | | | | | | | | NOTE 3: The application | | | | identifier shall be | | | | included only if the | | | | payload destination type | | | | indicates that the payload | | | | is for application | | | | consumption. | | | +-----------------------------+--------+-----------------------------+
##### 7.17.6.1.5 Ad hoc group standalone data get userlist (MCData server --
MCData server)
Table 7.17.6.1.5-1 describes the information flow Ad hoc group standalone data
get userlist from one MCData server to another MCData server.
Table 7.17.6.1.5-1: Ad hoc group standalone data get userlist
Information element Status Description
* * *
MCData ad hoc group ID M The MCData group ID associated with the ad hoc group
standalone short data service Criteria for determining the participants M
Carries the details of criteria or meaningful label identifying the criteria
or the combination of both which will be used by the MCData server for
determining the list of MCData users e.g., it can be a location based criteria
to SDS data transfer in a particular area
##### 7.17.6.1.6 Ad hoc group standalone data get userlist response (MCData
server -- MCData server)
Table 7.17.6.1.6-1 describes the information flow Ad hoc group standalone data
get userlist response from one MCData server to another MCData server.
Table 7.17.6.1.6-1: Ad hoc group standalone data get userlist response
Information element Status Description
* * *
MCData ad hoc group ID M The MCData group ID associated with the ad hoc group
standalone short data service MCData ID list M List of MCData IDs meeting the
criteria specified in the Ad hoc group standalone data get userlist
#### 7.17.6.2 Ad hoc group standalone short data service using signalling
control plane common procedure
##### 7.17.6.2.1 Determine the ad hoc group and preconfigured group for end-
to-end encryption
The procedure in figure 7.17.6.2.1-1 describes about determining the MCData ad
hoc group ID and preconfigured group identity of preconfigured group from
which the configurations to be used (e.g. security related information).
Pre-conditions:
1\. The MCData users belong to primary MCData system and partner MCData system
and already registered for receiving MCData service.
NOTE 1: Selection of MCData IDs of the ad hoc group members receiving the SDS
data can be manual or from the user profile configuration data or by any other
means. This is left for the implementation.
2\. Number of ad hoc group members receiving the SDS data should be within the
configured limit.
Figure 7.17.6.2.1-1: Determine ad hoc group and preconfigured group
1\. The user at MCData client 1 wants to initiate an SDS data transfer to
multiple MCData users with/without end-to-end encryption supported, and either
by providing the list of MCData users in the request or by providing the
certain criteria in the request.
2\. The MCData client 1 sends a Determine ad hoc group request towards the
MCData server of the primary MCData system. The Determine ad hoc group request
contains either the criteria to be applied by the MCData server of the primary
MCData system for determining the list of MCData users or the list of MCData
users as selected by the user at MCData client 1. The request may also contain
the indicator for data transfer is for emergency, imminent peril and the
application identifier for which the data transfer is intended.
3\. If the ad hoc group communication is supported, the MCData server of the
primary MCData system checks whether the MCData user at MCData client 1 is
authorized to initiate a Determine ad hoc group request. If not authorized,
the MCData server rejects the Determine ad hoc group request as specified in
the step 9. If the request contains the list of MCData users as selected by
the user at MCData client 1, the MCData server of the primary MCData system
validates whether the number of MCData users provided in the request are
within the configured limit. If not within the configured limit, the MCData
server rejects the Determine ad hoc group request as specified in the step 9.
4\. If the request contains the criteria, the MCData server of primary MCData
system determines the list of MCData users for ad hoc group standalone short
data service from the primary MCData system and determines the partner MCData
system to be involved in the ad hoc group standalone short data service based
on the criteria and according to local policy if required. This information
element to determine the ad hoc group member contains the criteria, indicator
identifying pre-defined criteria, or a combination of both.
NOTE 1: The values of criteria, indicator identifying pre-defined criteria and
determining the list of participants using these values by MCData server is
left to implementation.
5\. The MCData server of primary MCData system involves the partner MCData
system based on the agreement, based on the criteria for determining the list
of MCData users, and according to local policy if required. It sends the ad
hoc group standalone data get userlist request to the MCData server of partner
MCData system. This request carries the criteria received in the Determine ad
hoc group request.
6\. The MCData server of partner MCData system determines the list of MCData
users satisfying the criteria and sends the response containing the list of
MCData users satisfying the criteria. The MCData server of partner MCData
system may apply local policies if any while determining the participants
satisfying the criteria. The determination of list of MCData users is
performed only once.
7\. The MCData server of primary MCData system compiles the list of MCData
users for ad hoc group standalone short data service from primary MCData
system and from partner MCData system, if requested.
NOTE 2: The step 4 to step 7 are applicable if the request contains the
criteria for determining the ad hoc group members from primary system and may
be from partner system.
8\. The MCData server of the primary MCData system forms the ad hoc group by
using MCData users\' information received in the Determine ad hoc group
request and list of MCData users to be part of ad hoc group. The MCData server
further determines the preconfigured group to be used for the configuration
(e.g. security related information) of the ad hoc group if end-to-end
encryption is required. The MCData server selects an MCData ad hoc group ID
for the newly formed ad hoc group and optionally assign the time to live
value. The ad hoc group members can communicate in the ad hoc group until the
time to live value is expired. The MCData server ensure the list of MCData
users determined in the step 7 are within the configured limit.
NOTE 3: How the MCData server decides list of participants is implementation
specific.
9\. The MCData server of the primary MCData system send the Determine ad hoc
group response message to MCData client 1 containing the below:
i. The MCData ad hoc group ID (only included when the Determine ad hoc group
request is succesful);
ii. The MCData group ID of the pre-configured group whose configuration is to
be applied for this Ad hoc group standalone short data service if end-to-end
encryption is required (only included when the Determine ad hoc group request
is succesful); and
iii. Result of whether the Determine ad hoc group request successful or
failure.
> If the Determine ad hoc group request not authorized or result not
> succesful, the MCData client 1 shall not proceed with remaining steps for
> the data transfer as specified in the clause 7.17.6.3 and 7.17.6.4.
#### 7.17.6.3 Ad hoc group standalone short data service using signalling
control plane involving single MCData system
##### 7.17.6.3.1 General
The initiation of Ad hoc group standalone short data service using signalling
control plane results in ad hoc group members from single MCData system
receiving the SDS data. The SDS payload data size is assumed to be below the
configured maximum payload data size for SDS over signalling control plane.
##### 7.17.6.3.2 Procedure
The procedure in figure 7.17.6.3.2-1 describes the case where an MCData user
is initiating ad hoc group standalone short data service using signalling
control plane with or without disposition request.
Pre-conditions:
1\. MCData users on MCData clients 1 to n belong to the same MCData system and
are already registered for receiving MCData service.
2\. Number of ad hoc group members receiving the SDS data is within the
configured limit.
3\. The preconfigured group identity and preconfigured group configuration
(e.g. security related information) to be used for an ad hoc group have been
preconfigured in the MCData client and other MCData users of ad hoc group have
also received the relevant security related information.
Figure 7.17.6.3.2-1: Ad hoc group standalone short data service involving
single MCData system
1\. The user at MCData client 1 wants initiates an SDS data transfer to ad hoc
group members from primary MCData system.
2\. The MCData client 1 shall determine the preconfigured group if end-to-end
encryption is required and an ad hoc group by executing the procedures as
described in the clause 7.17.6.2.
3\. MCData client 1 sends an Ad hoc group standalone data request towards the
MCData server. The request shall contain the MCData ad hoc group ID as
determined in the step 2, the conversation identifier for message thread
indication, may include additional implementation specific information in the
application metadata container, may contain disposition request if indicated
by the user at MCData client 1 and may include associated functional alias of
the user at MCData client 1. If end-to-end encryption is required, the request
shall contain the Preconfigured MCData group ID as determined in the step 2.
If the end-to-end encryption is not required then include the payload without
encryption and if required then include the payload with encryption based on
the Preconfigured MCData group ID as determined in the step 2.
> If the MCData user at MCData client 1 initiates an emergency ad hoc group
> standalone short data service or the MCData emergency state is already set
> for the MCData client 1 (due to a previously triggered MCData emergency
> alert):
i) the Ad hoc group standalone data request shall contain an emergency
indicator;
ii) if the MCData emergency state is not set already, MCData client 1 sets its
MCData emergency state. The MCData emergency state is retained until
explicitly cancelled; and
iii) once an emergency SDS data transfer has been initiated, the ad hoc group
is considered to be in an in-progress emergency state until SDS data transfer
is completed and the time to live value of ad hoc group expires.
If the MCData user at MCData client 1 initiates an imminent peril ad hoc group
standalone short data service:
i) the Ad hoc group standalone data request shall contain imminent peril
indicator; and
ii) once an emergency SDS data transfer has been initiated, the ad hoc group
is considered to be in an in-progress imminent peril state until SDS data
transfer is completed and the time to live value of ad hoc group expires.
4\. If the ad hoc group communication is supported, the MCData server checks
whether the MCData user at MCData client 1 is authorized to send Ad hoc group
standalone data request. If not authorized, the MCData server rejects the Ad
hoc group standalone data request as specified in the step 9. The MCData
server checks whether any policy is to be asserted to limit certain types of
message or content to certain members, for example, to location or user
privilege. The MCData server also verifies whether the provided functional
alias can be used and has been activated for the user.
5\. The MCData server considers the the ad hoc group memebers as implicitly
affiliated to the ad hoc group.
i) If an emergency indicator is present in the received Ad hoc group
standalone data request and if the ad hoc group is not in the in-progress
emergency state, the ad hoc group is considered to be in the in-progress
emergency state until SDS data transfer is completed and the time to live
value of ad hoc group expires; and
ii) If an imminent peril indicator is present in the received Ad hoc group
standalone data request and if the ad hoc group is not in the in-progress
imminent peril state, the ad hoc group is considered to be in the in-progress
imminent peril state until SDS data transfer is completed and the time to live
value of ad hoc group expires; and
6\. The MCData server initiates a Ad hoc group standalone data request towards
each of the target MCData users. While sending the Ad hoc group standalone
data request, the MCData server shall remove the information elements that are
not required to be conveyed to the target MCData clients (e.g. MCData ID
list). The request should contain the ad hoc group ID, pre-configured group if
end-to-end encryption is required and time to live value for the ad hoc group.
The primary MCData server removes the ad hoc group information from the
dynamic data once the time to live value is expired and thus the ad hoc group
ceases to exist then the procedure stops.
7\. If the payload is for MCData user consumption (e.g. is not application
data, is not command instructions, etc.) then the MCData user of MCData
clients 2 to n may be notified. Otherwise if the payload is not for MCData
user consumption, then the MCData user of MCData clients 2 to n shall not be
notified. The action taken when the payload contains application data or
command instructions are specific based on the contents of the payload.
Payload content received by MCData client 2 which is addressed to a known
local non-MCData application that is not yet running shall cause the MCData
client 2 to start the local non-MCData application (i.e., remote start
application) and shall pass the payload content to the just started
application.
8\. If the MCData data disposition for delivery was requested by the user at
MCData client 1, then the receiving MCData client(s) initiates a MCData data
disposition notification for delivery report as described in the step 6 to
step 9 of clause 7.4.2.5.2.
#### 7.17.6.4 Ad hoc group standalone short data service using signalling
control plane involving multiple MCData system
##### 7.17.6.4.1 General
The initiation of Ad hoc group standalone short data service using signalling
control plane results in ad hoc group members from multiple MCData system
receiving the SDS data. The SDS payload data size is assumed to be below the
configured maximum payload data size for SDS over signalling control plane.
##### 7.17.6.4.2 Procedure
The procedure in figure 7.17.6.4.2-1 describes the case where an MCData user
is initiating ad hoc group standalone short data service using signalling
control plane with or without disposition request.
Pre-conditions:
1\. The security aspects of sharing the user information between primary and
partner MCData systems shall be governed as per the service provider agreement
between them. In this case, it is considered that the partner MCData system
share their users\' information to the primary MCData system.
2\. MCData users on MCData clients 1 to M belong to the primary MCData system
and MCData users on MCData clients 1 to N belong to the partner MCData system
and are already registered for receiving MCData service.
3\. The MCData server of the primary MCData system is where the authorized
MCData user/dispatcher creates the ad hoc group.
4\. Number of ad hoc group members receiving the SDS data is within configured
limit.
5\. The preconfigured group identity and preconfigured group configuration
(e.g. security related information) to be used for an ad hoc group have been
preconfigured in the MCData client and other MCData users of ad hoc group have
also received the relevant security related information.
Figure 7.17.6.4.2-1: Ad hoc group standalone short data service involving
multiple MCData system
1\. The user at MCData client 1 of the primary MCData system wants initiates
an SDS data transfer to ad hoc group members from primary and partner MCData
systems.
2-5. Same steps as described in the steps 2 to 5 of clause 7.17.6.3.2.
6-6a. The MCData server of the primary MCData system initiates an Ad hoc group
standalone data request towards each of the target MCData users in the primary
MCData system and the partner MCData system. While sending the Ad hoc group
standalone data requests, the MCData server of the primary MCData system shall
remove the information elements that are not required to be conveyed to the
target MCData clients (e.g. MCData ID list). The request should contain the ad
hoc group ID, pre-configured group if end-to-end encryption is required and
time to live value for the ad hoc group. The primary MCData server removes the
ad hoc group information from the dynamic data once the time to live value is
expired and thus the ad hoc group ceases to exist then the procedure stops.
7-7a. If the payload is for MCData user consumption (e.g. is not application
data, is not command instructions, etc.) then the MCData user of MCData
clients 2 to M and MCData clients 1 to N may be notified. Otherwise if the
payload is not for MCData user consumption, then the MCData user of MCData
clients 2 to M and MCData clients 1 to N shall not be notified. The action
taken when the payload contains application data or command instructions are
specific based on the contents of the payload. Payload content received by
MCData clients 2 to M and MCData clients 1 to N which is addressed to a known
local non-MCData application that is not yet running shall cause the clients 2
to M and MCData clients 1 to N to start the local non-MCData application
(i.e., remote start application) and shall pass the payload content to the
just started application.
8\. If the MCData data disposition for delivery was requested by the user at
MCData client 1 of the primary MCData system, then the receiving MCData
client(s) initiates a MCData data disposition notification for delivery report
as described in the step 6 to step 9 of clause 7.4.2.5.2.
###### ## Annex A (normative): MCData related configuration data
# A.1 General
This Annex provides information about the static data needed for configuration
for the MCData service, which belongs to one of the following categories:
\- MCData UE configuration data (see subclause A.2);
\- MCData user profile configuration data (see subclause A.3);
\- MCData related group configuration data (see subclause A.4); and
\- MCData service configuration data (see subclause A.5).
For each configuration category, data is split between configuration data that
is applicable to both on network and off network, configuration data that is
applicable to on-network only, and configuration data that is applicable to
off-network only. The configuration data in each configuration category
corresponds to a single instance of the category type i.e. the MCData UE,
MCData group, MCData user and MCData service configuration data refers to the
information that will be stored against each MCData UE, MCData group, MCData
user and MCData service. This means that the three separate tables (on-network
and off-network, on-network only, off-network only) for each configuration
category represent the complete set of data for each configuration data
category element.
The columns in the tables have the following meanings:
\- Reference: the reference of the corresponding requirement in 3GPP TS 22.282
[3] or 3GPP TS 22.280 [2] or the corresponding subclause from either the
present document or the referenced document.
\- Parameter description: A short definition of the semantics of the
corresponding item of data, including denotation of the level of the parameter
in the configuration hierarchy.
\- When it is not clear to which functional entities the parameter is
configured, then one or more columns indicating this are provided where the
following nomenclature is used:
\- \"Y\" to denote \"Yes\" i.e. the parameter denoted for the row needs to be
configured to the functional entity denoted for the column.
\- \"N\" to denote \"No\" i.e. the parameter denoted for the row does not need
to be configured to the functional entity denoted for the column.
Parameters within a set of configuration data have a level within a hierarchy
that pertains only to that configuration data. The hierarchy of the
configuration data is common across all three tables of on-network and off-
network, on network only and off network only. The level of a parameter within
the hierarchy of the configuration data is denoted by use of the character
\">\" in the parameter description field within each table, one per level.
Parameters that are at the top most level within the hierarchy have no \">\"
character. Parameters that have one or more \">\" characters are child
parameters of the first parameter above them that has one less \">\"
character. Parent parameters are parameters that have one or more child
parameters. Parent parameters act solely as a \"grouping\" of their child
parameters and therefore do not contain an actual value themselves i.e. they
are just containers for their child parameters.
Each parameter that can be configured online shall only be configured through
one online reference point. Each parameter that can be configured offline
shall only be configured through one offline reference point. The most recent
configuration data made available to the MCData UE shall always overwrite
previous configuration data, irrespective of whether the configuration data
was provided via the online or offline mechanism.
# A.2 MCData UE configuration data
The general aspects of UE configuration are specified in 3GPP TS 23.280 [5].
Data in tables A.2-1 and A.2-2 have to be known by the MCData UE after MCData
authorization.
Data in table A.2-1 can be configured offline using the CSC-11 reference
point. Table A.2-1 contains the UE configuration required to support the use
of off-network MCData service.
Table A.2-1: UE configuration data (on and off network)
Reference Parameter description
* * *
                                                                                                                              Short data service
[R-5.4.2-002] of 3GPP TS 22.280 [2] > Maximum number of simultaneous SDS
transactions (Nc4) [R-5.4.2-004] of 3GPP TS 22.280 [2] > Requested
presentation priority of SDS messages received (see NOTE) File distribution
[R-5.4.2-002] of 3GPP TS 22.280 [2] > Maximum number of simultaneous file
distribution transactions (Nc4) Transmission control [R-5.4.2-002] of 3GPP TS
22.280 [2] > Maximum number of simultaneous data transmissions (Nc4)
[R-5.4.2-003] of 3GPP TS 22.280 [2] > Maximum number of data transmissions
(Nc5) in a group Reception control [R-5.4.2-002] of 3GPP TS 22.280 [2] >
Maximum number of simultaneous data receptions (Nc4) [R-5.4.2-003] of 3GPP TS
22.280 [2] > Maximum number of data receptions (Nc5) in a group NOTE: Priority
of SDS messages includes enhanced status updates, since enhanced status
updates utilise the SDS mechanism.
Table A.2-2: UE configuration data (on network)
Reference Parameter description
* * *
Subclause 5.2.3 of 3GPP TS 23.280 [6] Relay service (Y/N) Subclause 5.2.3 of
3GPP TS 23.280 [6] List of allowed relayed MCData groups and their relay
service code (as specified in 3GPP TS 23.303 [7]) (optional) (see NOTE) >
MCData group ID > Relay service code (as specified in 3GPP TS 23.303 [7])
NOTE: When the value of the parameter Relay service is N, this parameter and
its child parameters are not needed.
# A.3 MCData user profile configuration data
The general aspects of MC service user profile configuration data are
specified in 3GPP TS 23.280 [5]. The MCData user profile configuration data is
stored in the MCData user database. The MCData server obtains the MCData user
profile configuration data from the MCData user database (MCData-2).
Tables A.3-1 and A.3-2 contain the MCData user profile configuration required
to support the use of on-network MCData service. Tables A.3-1 and A.3-3
contain the MCData user profile configuration required to support the use of
off-network MCData service. Data in table A.3-1 and A.3-3 can be configured
offline using the CSC-11 reference point.
Table A.3-1: MCData user profile configuration data (on and off network)
+----------+----------+----------+----------+----------+----------+ | R | P | MCData | MCData | Confi | MCData | | eference | arameter | UE | Server | guration | user | | | des | | | ma | database | | | cription | | | nagement | | | | | | | server | | +==========+==========+==========+==========+==========+==========+ | Subclau | MCData | Y | Y | Y | Y | | se 8.1.2 | identity | | | | | | of | (MCData | | | | | | 3GPP | ID) | | | | | | TS 23.2 | | | | | | | 80 [5] | | | | | | +----------+----------+----------+----------+----------+----------+ | 3GPP | KMSUri | Y | Y | Y | Y | | TS 33.18 | for | | | | | | 0 [13] | security | | | | | | | domain | | | | | | | of | | | | | | | MCData | | | | | | | ID (see | | | | | | | NOTE 1) | | | | | +----------+----------+----------+----------+----------+----------+ | Subclau | Preâ€‘ | Y | Y | Y | Y | | se 5.2.4 | selected | | | | | | of | MCData | | | | | | 3GPP | user | | | | | | TS 23.2 | profile | | | | | | 80 [5] | in | | | | | | | dication | | | | | | | (see | | | | | | | NOTE 2) | | | | | +----------+----------+----------+----------+----------+----------+ | Subclau | MCData | Y | Y | Y | Y | | se 5.2.4 | user | | | | | | of | profile | | | | | | 3GPP | index | | | | | | TS 23.2 | | | | | | | 80 [5] | | | | | | +----------+----------+----------+----------+----------+----------+ | Subclau | MCData | Y | Y | Y | Y | | se 5.2.4 | user | | | | | | of | profile | | | | | | 3GPP | name | | | | | | TS 23.2 | | | | | | | 80 [5] | | | | | | +----------+----------+----------+----------+----------+----------+ | [R-5.1 | User | | Y | Y | Y | | 7-007], | profile | | | | | | | status | | | | | | [R-6.13 | (e | | | | | | .4-002] | nabled/d | | | | | | of | isabled) | | | | | | 3GPP | | | | | | | TS 22.2 | | | | | | | 80 [2] | | | | | | +----------+----------+----------+----------+----------+----------+ | [R-5. | Au | | | Y | Y | | 7-001], | thorised | | | | | | | to | | | | | | [R-6 | create | | | | | | .9-003] | and | | | | | | of | delete | | | | | | 3GPP | aliases | | | | | | TS 22.2 | of an | | | | | | 80 [2] | MCData | | | | | | | user and | | | | | | | its | | | | | | | as | | | | | | | sociated | | | | | | | user | | | | | | | p | | | | | | | rofiles. | | | | | +----------+----------+----------+----------+----------+----------+ | [R-5. | Alph | Y | Y | Y | Y | | 7-002], | anumeric | | | | | | | aliases | | | | | | [R-6 | of user | | | | | | .9-003] | | | | | | | of | | | | | | | 3GPP | | | | | | | TS 22.2 | | | | | | | 80 [2] | | | | | | +----------+----------+----------+----------+----------+----------+ | [R-5.1. | Par | Y | Y | Y | Y | | 1-005], | ticipant | | | | | | | type of | | | | | | [R-5 | the user | | | | | | .9-001] | | | | | | | of | | | | | | | 3GPP | | | | | | | TS 22.2 | | | | | | | 80 [2] | | | | | | +----------+----------+----------+----------+----------+----------+ | [R-5.1. | User\'s | Y | Y | Y | Y | | 8-006], | Mission | | | | | | | Critical | | | | | | [R-5. | Orga | | | | | | 3-002], | nization | | | | | | | (i.e. | | | | | | [R-5. | which | | | | | | 9-001], | orga | | | | | | | nization | | | | | | \ | a user | | | | | | [R-5.16. | belongs | | | | | | 2-001], | to) | | | | | | | | | | | | | [R-5.16 | | | | | | | .2-002] | | | | | | | of | | | | | | | 3GPP | | | | | | | TS 22.2 | | | | | | | 80 [2] | | | | | | +----------+----------+----------+----------+----------+----------+ | [R-5.2 | Autho | | | Y | Y | | .2-003] | risation | | | | | | and | to | | | | | | [R6.6 | create a | | | | | | .3-002] | group-b | | | | | | of | roadcast | | | | | | 3GPP | group | | | | | | TS 22.2 | (see | | | | | | 80 [2] | NOTE 8) | | | | | +----------+----------+----------+----------+----------+----------+ | [R-5.2 | Autho | | | Y | Y | | .2-003] | risation | | | | | | and | to | | | | | | [R6.6 | create a | | | | | | .3-002] | user-b | | | | | | of | roadcast | | | | | | 3GPP | group | | | | | | TS 22.2 | (see | | | | | | 80 [2] | NOTE 8) | | | | | +----------+----------+----------+----------+----------+----------+ | [R | Au | Y | Y | Y | Y | | -5.6.2.4 | thorised | | | | | | .1-002] | to | | | | | | of | activate | | | | | | 3GPP | MCData | | | | | | TS 22.2 | e | | | | | | 80 [2] | mergency | | | | | | | alert | | | | | +----------+----------+----------+----------+----------+----------+ | [R | Autom | Y | Y | Y | Y | | -5.6.2.4 | atically | | | | | | .1-013] | trigger | | | | | | of | a MCData | | | | | | 3GPP | e | | | | | | TS 22.28 | mergency | | | | | | 0 [17] | commu | | | | | | | nication | | | | | | | after | | | | | | | in | | | | | | | itiating | | | | | | | the | | | | | | | MCData | | | | | | | e | | | | | | | mergency | | | | | | | alert | | | | | +----------+----------+----------+----------+----------+----------+ | [R | Group | | | | | | -5.6.2.4 | used on | | | | | | .1-004] | in | | | | | | | itiation | | | | | | [R | of an | | | | | | -5.6.2.4 | MCData | | | | | | .1-008] | e | | | | | | | mergency | | | | | | [R | group | | | | | | -5.6.2.4 | commu | | | | | | .1-012] | nication | | | | | | of | (see | | | | | | 3GPP | NOTE 3) | | | | | | TS 22.2 | | | | | | | 80 [2] | | | | | | +----------+----------+----------+----------+----------+----------+ | [R- | R | | | | | | 5.6.2.4. | ecipient | | | | | | 1-004], | for an | | | | | | [R- | MCData | | | | | | 5.6.2.4. | e | | | | | | 1-008], | mergency | | | | | | [R | private | | | | | | -5.6.2.4 | commu | | | | | | .1-012] | nication | | | | | | of | (see | | | | | | 3GPP | NOTE 3) | | | | | | TS 22.28 | | | | | | | 0 [17] | | | | | | +----------+----------+----------+----------+----------+----------+ | | > | Y | Y | Y | Y | | | MCData | | | | | | | ID | | | | | +----------+----------+----------+----------+----------+----------+ | 3GPP | > | Y | Y | Y | Y | | TS 33.18 | KMSUri | | | | | | 0 [19] | for | | | | | | | security | | | | | | | domain | | | | | | | of | | | | | | | MCData | | | | | | | ID | | | | | | | (see | | | | | | | NOTE 1) | | | | | +----------+----------+----------+----------+----------+----------+ | [R | Autho | Y | Y | Y | Y | | -5.6.2.4 | risation | | | | | | .2-002] | to | | | | | | of | cancel | | | | | | 3GPP | an | | | | | | TS 22.2 | MCData | | | | | | 80 [2] | e | | | | | | | mergency | | | | | | | alert | | | | | +----------+----------+----------+----------+----------+----------+ | [ | Au | Y | Y | Y | Y | | R-6.15.6 | thorised | | | | | | .2-002] | to | | | | | | of | activate | | | | | | 3GPP | an | | | | | | TS 22.2 | MCData | | | | | | 80 [2] | ad hoc | | | | | | | group | | | | | | | e | | | | | | | mergency | | | | | | | alert | | | | | +----------+----------+----------+----------+----------+----------+ | [ | Autho | Y | Y | Y | Y | | R-6.15.6 | risation | | | | | | .2-006] | to | | | | | | of | cancel | | | | | | 3GPP | an | | | | | | TS 22.2 | MCData | | | | | | 80 [2] | ad hoc | | | | | | | group | | | | | | | e | | | | | | | mergency | | | | | | | alert | | | | | +----------+----------+----------+----------+----------+----------+ | [ | Au | Y | Y | Y | Y | | R-6.15.6 | thorised | | | | | | .2-007] | to set | | | | | | of | up an | | | | | | 3GPP | MCData | | | | | | TS 22.2 | group | | | | | | 80 [2] | commu | | | | | | | nication | | | | | | | using | | | | | | | the ad | | | | | | | hoc | | | | | | | group | | | | | | | used for | | | | | | | the | | | | | | | alert | | | | | +----------+----------+----------+----------+----------+----------+ | | Au | Y | Y | Y | Y | | | thorised | | | | | | | to | | | | | | | receive | | | | | | | the | | | | | | | part | | | | | | | icipants | | | | | | | inf | | | | | | | ormation | | | | | | | of an | | | | | | | MCData | | | | | | | ad hoc | | | | | | | group | | | | | | | e | | | | | | | mergency | | | | | | | alert | | | | | +----------+----------+----------+----------+----------+----------+ | [ | In | Y | Y | Y | Y | | R-6.1.1. | dividual | | | | | | 2-005], | conv | | | | | | | ersation | | | | | | [ | hang | | | | | | R-6.1.1. | time | | | | | | 2-006], | | | | | | | | | | | | | | \ | | | | | | | [R-6.1.1 | | | | | | | .2-007] | | | | | | | of | | | | | | | 3GPP | | | | | | | TS 22.2 | | | | | | | 82 [3] | | | | | | +----------+----------+----------+----------+----------+----------+ | | On | | | | | | | e-to-one | | | | | | | commu | | | | | | | nication | | | | | +----------+----------+----------+----------+----------+----------+ | \ | > List | | | | | | [R-6.3.1 | of | | | | | | .2-007] | MCData | | | | | | of | users | | | | | | 3GPP | this | | | | | | TS 22.2 | MCData | | | | | | 82 [3] | user is | | | | | | and | au | | | | | | 3GPP | thorized | | | | | | TS 33.18 | to | | | | | | 0 [13] | initiate | | | | | | | a | | | | | | | on | | | | | | | eâ€‘to-one | | | | | | | commu | | | | | | | nication | | | | | +----------+----------+----------+----------+----------+----------+ | | >> | Y | N | Y | Y | | | MCData | | | | | | | ID | | | | | +----------+----------+----------+----------+----------+----------+ | | >> | Y | N | Y | Y | | | D | | | | | | | iscovery | | | | | | | Group ID | | | | | +----------+----------+----------+----------+----------+----------+ | | >> | Y | N | Y | Y | | | User | | | | | | | info ID | | | | | | | (as | | | | | | | s | | | | | | | pecified | | | | | | | in | | | | | | | 3GPP | | | | | | | TS 23.30 | | | | | | | 3 [7]) | | | | | +----------+----------+----------+----------+----------+----------+ | | >> | Y | Y | Y | Y | | | KMSUri | | | | | | | for | | | | | | | security | | | | | | | domain | | | | | | | of | | | | | | | MCData | | | | | | | ID (see | | | | | | | NOTE 1) | | | | | +----------+----------+----------+----------+----------+----------+ | [R-6.7 | Au | Y | Y | Y | Y | | .3-007] | thorised | | | | | | of | to make | | | | | | 3GPP | on | | | | | | TS 22.2 | e-to-one | | | | | | 80 [2] | commun | | | | | | | ications | | | | | | | towards | | | | | | | users | | | | | | | not | | | | | | | included | | | | | | | in | | | | | | | \"list | | | | | | | of | | | | | | | MCData | | | | | | | user(s) | | | | | | | this | | | | | | | MCData | | | | | | | user is | | | | | | | au | | | | | | | thorized | | | | | | | to | | | | | | | initiate | | | | | | | a | | | | | | | on | | | | | | | eâ€‘to-one | | | | | | | communi | | | | | | | cation\" | | | | | +----------+----------+----------+----------+----------+----------+ | | File | | | | | | | dist | | | | | | | ribution | | | | | +----------+----------+----------+----------+----------+----------+ | [R-5.3 | > List | | | | | | .2-010] | of | | | | | | of | MCData | | | | | | 3GPP | users | | | | | | TS 22.2 | this | | | | | | 82 [3] | MCData | | | | | | and | user is | | | | | | 3GPP | allowed | | | | | | TS 33.18 | to | | | | | | 0 [13] | cancel | | | | | | | dist | | | | | | | ribution | | | | | | | of files | | | | | | | being | | | | | | | sent or | | | | | | | waiting | | | | | | | to be | | | | | | | sent | | | | | +----------+----------+----------+----------+----------+----------+ | | >> | Y | Y | Y | Y | | | MCData | | | | | | | ID | | | | | +----------+----------+----------+----------+----------+----------+ | | >> | Y | Y | Y | Y | | | KMSUri | | | | | | | for | | | | | | | security | | | | | | | domain | | | | | | | of | | | | | | | MCData | | | | | | | ID (see | | | | | | | NOTE 1) | | | | | +----------+----------+----------+----------+----------+----------+ | | Tran | | | | | | | smission | | | | | | | and | | | | | | | r | | | | | | | eception | | | | | | | control | | | | | +----------+----------+----------+----------+----------+----------+ | \ | > | Y | Y | Y | Y | | [R-6.2.2 | Whether | | | | | | .1-001] | the | | | | | | of | MCData | | | | | | 3GPP | user is | | | | | | TS 22.2 | p | | | | | | 82 [3] | ermitted | | | | | | | to | | | | | | | transmit | | | | | | | data | | | | | +----------+----------+----------+----------+----------+----------+ | [R-6.2 | > | Y | Y | Y | Y | | .3-005] | Maximum | | | | | | of | amount | | | | | | 3GPP | of data | | | | | | TS 22.2 | that the | | | | | | 82 [3] | MCData | | | | | | | user can | | | | | | | transmit | | | | | | | in a | | | | | | | single | | | | | | | request | | | | | | | during | | | | | | | on | | | | | | | e-to-one | | | | | | | commu | | | | | | | nication | | | | | +----------+----------+----------+----------+----------+----------+ | [R-6.2 | > | Y | Y | Y | Y | | .3-005] | Maximum | | | | | | and | amount | | | | | | \ | of time | | | | | | [Râ€‘6.3.1 | that the | | | | | | .2-008] | MCData | | | | | | of | user can | | | | | | 3GPP | transmit | | | | | | TS 22.2 | in a | | | | | | 82 [3] | single | | | | | | | request | | | | | | | during | | | | | | | on | | | | | | | e-to-one | | | | | | | commu | | | | | | | nication | | | | | +----------+----------+----------+----------+----------+----------+ | [R-6.2 | > List | | | | | | .3-001] | of | | | | | | of | MCData | | | | | | 3GPP | users | | | | | | TS 22.2 | this | | | | | | 82 [3] | MCData | | | | | | | user is | | | | | | | allowed | | | | | | | to | | | | | | | request | | | | | | | the | | | | | | | release | | | | | | | of an | | | | | | | ongoing | | | | | | | tran | | | | | | | smission | | | | | | | that | | | | | | | this | | | | | | | MCData | | | | | | | user is | | | | | | | parti | | | | | | | cipating | | | | | | | in | | | | | +----------+----------+----------+----------+----------+----------+ | | >> | Y | Y | Y | Y | | | MCData | | | | | | | ID | | | | | +----------+----------+----------+----------+----------+----------+ | [R-5.1 | Priority | | Y | Y | Y | | .7-002] | of the | | | | | | and | user | | | | | | | (see | | | | | | \ | NOTE 4) | | | | | | [R-6.8.7 | | | | | | | .2-007] | | | | | | | and | | | | | | | \ | | | | | | | [R-6.8.7 | | | | | | | .2-008] | | | | | | | of | | | | | | | 3GPP | | | | | | | TS 22.2 | | | | | | | 80 [2] | | | | | | +----------+----------+----------+----------+----------+----------+ | | Lossless | Y | Y | Y | Y | | | commu | | | | | | | nication | | | | | | | for | | | | | | | private | | | | | | | commu | | | | | | | nication | | | | | +----------+----------+----------+----------+----------+----------+ | | Store | Y | Y | Y | Y | | | commu | | | | | | | nication | | | | | | | in | | | | | | | Message | | | | | | | Store | | | | | | | (see | | | | | | | NOTE 5) | | | | | +----------+----------+----------+----------+----------+----------+ | | Store | Y | Y | Y | Y | | | private | | | | | | | commu | | | | | | | nication | | | | | | | in | | | | | | | Message | | | | | | | Store | | | | | | | (see | | | | | | | NOTE 6) | | | | | +----------+----------+----------+----------+----------+----------+ | [R-6. | Au | Y | Y | Y | Y | | 12-003] | thorised | | | | | | of | to | | | | | | 3GPP | restrict | | | | | | TS 22.28 | the | | | | | | 0 [17] | disse | | | | | | | mination | | | | | | | of the | | | | | | | location | | | | | | | inf | | | | | | | ormation | | | | | +----------+----------+----------+----------+----------+----------+ | Subcla | Au | Y | Y | Y | Y | | use 10.9 | thorised | | | | | | **of** | to | | | | | | 3GPP TS | request | | | | | | 23.280 | location | | | | | | [5] | inf | | | | | | | ormation | | | | | | | of | | | | | | | another | | | | | | | user in | | | | | | | the | | | | | | | primary | | | | | | | MCData | | | | | | | system | | | | | | | (see | | | | | | | NOTE 7) | | | | | +----------+----------+----------+----------+----------+----------+ | Subcla | List of | | | | | | use 10.9 | partner | | | | | | **of** | MCData | | | | | | 3GPP TS | systems | | | | | | 23.280 | for | | | | | | [5] | which | | | | | | | user is | | | | | | | au | | | | | | | thorised | | | | | | | to | | | | | | | request | | | | | | | location | | | | | | | inf | | | | | | | ormation | | | | | | | for | | | | | | | another | | | | | | | user | | | | | +----------+----------+----------+----------+----------+----------+ | | > | Y | Y | Y | Y | | | Identity | | | | | | | of | | | | | | | partner | | | | | | | MCData | | | | | | | system | | | | | +----------+----------+----------+----------+----------+----------+ | NOTE 1: | | | | | | | If this | | | | | | | p | | | | | | | arameter | | | | | | | is | | | | | | | absent, | | | | | | | the | | | | | | | KMSUri | | | | | | | shall be | | | | | | | that | | | | | | | id | | | | | | | entified | | | | | | | in the | | | | | | | initial | | | | | | | MC | | | | | | | service | | | | | | | UE | | | | | | | confi | | | | | | | guration | | | | | | | data | | | | | | | (on- | | | | | | | network) | | | | | | | co | | | | | | | nfigured | | | | | | | in table | | | | | | | A.6-1 of | | | | | | | 3GPP TS | | | | | | | 23.280 | | | | | | | [5]. | | | | | | | | | | | | | | NOTE 2: | | | | | | | As | | | | | | | s | | | | | | | pecified | | | | | | | in | | | | | | | 3GPP | | | | | | | TS 23.28 | | | | | | | 0 [5], | | | | | | | for each | | | | | | | MCData | | | | | | | user\'s | | | | | | | set of | | | | | | | MCData | | | | | | | user | | | | | | | p | | | | | | | rofiles, | | | | | | | only one | | | | | | | MCData | | | | | | | user | | | | | | | profile | | | | | | | shall be | | | | | | | i | | | | | | | ndicated | | | | | | | as being | | | | | | | the | | | | | | | preâ€‘ | | | | | | | selected | | | | | | | MCData | | | | | | | user | | | | | | | profile. | | | | | | | | | | | | | | NOTE 3: | | | | | | | This | | | | | | | p | | | | | | | arameter | | | | | | | is used | | | | | | | for the | | | | | | | e | | | | | | | mergency | | | | | | | commu | | | | | | | nication | | | | | | | and also | | | | | | | used as | | | | | | | a target | | | | | | | of the | | | | | | | e | | | | | | | mergency | | | | | | | alert | | | | | | | request. | | | | | | | At most | | | | | | | one of | | | | | | | them is | | | | | | | con | | | | | | | figured; | | | | | | | i.e. | | | | | | | e | | | | | | | mergency | | | | | | | commu | | | | | | | nication | | | | | | | will go | | | | | | | to | | | | | | | either a | | | | | | | group or | | | | | | | a user. | | | | | | | If both | | | | | | | are not | | | | | | | co | | | | | | | nfigured | | | | | | | the | | | | | | | MCData | | | | | | | user\'s | | | | | | | c | | | | | | | urrently | | | | | | | selected | | | | | | | group | | | | | | | will be | | | | | | | used. | | | | | | | | | | | | | | NOTE 4: | | | | | | | The use | | | | | | | of the | | | | | | | p | | | | | | | arameter | | | | | | | is left | | | | | | | to | | | | | | | impleme | | | | | | | ntation. | | | | | | | | | | | | | | NOTE 5: | | | | | | | This is | | | | | | | the | | | | | | | t | | | | | | | op-level | | | | | | | control | | | | | | | p | | | | | | | arameter | | | | | | | to | | | | | | | d | | | | | | | etermine | | | | | | | whether | | | | | | | MCData | | | | | | | commun | | | | | | | ications | | | | | | | will be | | | | | | | stored | | | | | | | or not. | | | | | | | When | | | | | | | this | | | | | | | p | | | | | | | arameter | | | | | | | is set; | | | | | | | the | | | | | | | second | | | | | | | level | | | | | | | control | | | | | | | p | | | | | | | arameter | | | | | | | is used | | | | | | | to | | | | | | | d | | | | | | | etermine | | | | | | | whether | | | | | | | a | | | | | | | specific | | | | | | | MCData | | | | | | | commu | | | | | | | nication | | | | | | | (private | | | | | | | or which | | | | | | | group) | | | | | | | will be | | | | | | | stored | | | | | | | and | | | | | | | MCData | | | | | | | user can | | | | | | | request | | | | | | | for all | | | | | | | or | | | | | | | selected | | | | | | | of | | | | | | | his/her | | | | | | | MCData | | | | | | | commu | | | | | | | nication | | | | | | | shall be | | | | | | | stored | | | | | | | in the | | | | | | | MCData | | | | | | | message | | | | | | | store or | | | | | | | not. | | | | | | | | | | | | | | NOTE 6: | | | | | | | This is | | | | | | | the | | | | | | | second | | | | | | | level | | | | | | | control | | | | | | | p | | | | | | | arameter | | | | | | | to | | | | | | | d | | | | | | | etermine | | | | | | | whether | | | | | | | a | | | | | | | private | | | | | | | commu | | | | | | | nication | | | | | | | will be | | | | | | | stored | | | | | | | when the | | | | | | | Store | | | | | | | commu | | | | | | | nication | | | | | | | in | | | | | | | Message | | | | | | | Store | | | | | | | top | | | | | | | level | | | | | | | control | | | | | | | p | | | | | | | arameter | | | | | | | is set. | | | | | | | | | | | | | | NOTE 7 : | | | | | | | Further | | | | | | | differe | | | | | | | ntiation | | | | | | | on | | | | | | | autho | | | | | | | risation | | | | | | | for | | | | | | | re | | | | | | | questing | | | | | | | location | | | | | | | inf | | | | | | | ormation | | | | | | | based on | | | | | | | detailed | | | | | | | charact | | | | | | | eristics | | | | | | | (e.g. MC | | | | | | | organ | | | | | | | ization, | | | | | | | MC | | | | | | | service | | | | | | | ID, | | | | | | | fu | | | | | | | nctional | | | | | | | alias) | | | | | | | is left | | | | | | | to | | | | | | | impleme | | | | | | | ntation. | | | | | | | | | | | | | | NOTE 8: | | | | | | | This | | | | | | | p | | | | | | | arameter | | | | | | | applies | | | | | | | to | | | | | | | t | | | | | | | emporary | | | | | | | b | | | | | | | roadcast | | | | | | | groups | | | | | | | built | | | | | | | from | | | | | | | re | | | | | | | grouping | | | | | | | me | | | | | | | chanism. | | | | | | | This | | | | | | | autho | | | | | | | risation | | | | | | | autom | | | | | | | atically | | | | | | | sets the | | | | | | | or | | | | | | | iginator | | | | | | | of the | | | | | | | t | | | | | | | emporary | | | | | | | group as | | | | | | | the only | | | | | | | tran | | | | | | | smitting | | | | | | | party. | | | | | | +----------+----------+----------+----------+----------+----------+
Table A.3-2: MCData user profile configuration data (on network)
+----------+----------+----------+----------+----------+----------+ | R | P | MCData | MCData | Confi | MCData | | eference | arameter | UE | Server | guration | user | | | des | | | ma | database | | | cription | | | nagement | | | | | | | server | | +==========+==========+==========+==========+==========+==========+ | [R-5.1. | List of | | | | | | 5-001], | on | | | | | | | -network | | | | | | [R-5.1. | MCData | | | | | | 5-002], | groups | | | | | | | for use | | | | | | [R-5.1 | by an | | | | | | 0-001], | MCData | | | | | | | user | | | | | | [R-6.4. | | | | | | | 7-002], | | | | | | | | | | | | | | [R-6.8. | | | | | | | 1-008], | | | | | | | | | | | | | | [R-6.7 | | | | | | | .4-002] | | | | | | | of | | | | | | | 3GPP | | | | | | | TS 22.2 | | | | | | | 80 [2] | | | | | | +----------+----------+----------+----------+----------+----------+ | | > | Y | Y | Y | Y | | | MCData | | | | | | | Group ID | | | | | +----------+----------+----------+----------+----------+----------+ | | > Store | Y | Y | Y | Y | | | group | | | | | | | commu | | | | | | | nication | | | | | | | in | | | | | | | Message | | | | | | | Store | | | | | | | (see | | | | | | | NOTE 11) | | | | | +----------+----------+----------+----------+----------+----------+ | | > | | | | | | | App | | | | | | | lication | | | | | | | plane | | | | | | | server | | | | | | | identity | | | | | | | inf | | | | | | | ormation | | | | | | | of group | | | | | | | ma | | | | | | | nagement | | | | | | | server | | | | | | | where | | | | | | | group is | | | | | | | defined | | | | | +----------+----------+----------+----------+----------+----------+ | | >> | Y | Y | Y | Y | | | Server | | | | | | | URI | | | | | +----------+----------+----------+----------+----------+----------+ | | > | | | | | | | App | | | | | | | lication | | | | | | | plane | | | | | | | server | | | | | | | identity | | | | | | | inf | | | | | | | ormation | | | | | | | of | | | | | | | identity | | | | | | | ma | | | | | | | nagement | | | | | | | server | | | | | | | which | | | | | | | provides | | | | | | | autho | | | | | | | rization | | | | | | | for | | | | | | | group | | | | | | | (see | | | | | | | NOTE 1) | | | | | +----------+----------+----------+----------+----------+----------+ | | >> | Y | Y | Y | Y | | | Server | | | | | | | URI | | | | | +----------+----------+----------+----------+----------+----------+ | 3GPP | > | Y | Y | Y | Y | | TS 33.18 | KMSUri | | | | | | 0 [13] | for | | | | | | | security | | | | | | | domain | | | | | | | of group | | | | | | | (see | | | | | | | NOTE 2) | | | | | +----------+----------+----------+----------+----------+----------+ | | > | Y | N | Y | Y | | | Pres | | | | | | | entation | | | | | | | priority | | | | | | | of the | | | | | | | group | | | | | | | relative | | | | | | | to other | | | | | | | groups | | | | | | | and | | | | | | | users | | | | | | | (see | | | | | | | NOTE 3) | | | | | +----------+----------+----------+----------+----------+----------+ | | > | | | | | | | Tran | | | | | | | smission | | | | | | | and | | | | | | | r | | | | | | | eception | | | | | | | control | | | | | +----------+----------+----------+----------+----------+----------+ | | >> | Y | Y | Y | Y | | | Whether | | | | | | | MCData | | | | | | | user is | | | | | | | p | | | | | | | ermitted | | | | | | | to | | | | | | | transmit | | | | | | | data in | | | | | | | the | | | | | | | group | | | | | +----------+----------+----------+----------+----------+----------+ | | >> | Y | Y | Y | Y | | | Maximum | | | | | | | amount | | | | | | | of data | | | | | | | that the | | | | | | | MCData | | | | | | | user can | | | | | | | transmit | | | | | | | in a | | | | | | | single | | | | | | | request | | | | | | | during | | | | | | | group | | | | | | | commu | | | | | | | nication | | | | | +----------+----------+----------+----------+----------+----------+ | | >> | Y | Y | Y | Y | | | Maximum | | | | | | | amount | | | | | | | of time | | | | | | | that the | | | | | | | MCData | | | | | | | user can | | | | | | | transmit | | | | | | | in a | | | | | | | single | | | | | | | request | | | | | | | during | | | | | | | group | | | | | | | commu | | | | | | | nication | | | | | +----------+----------+----------+----------+----------+----------+ | Subclau | List of | | | | | | se 5.2.5 | groups | | | | | | of | user | | | | | | 3GPP | im | | | | | | TS 23.2 | plicitly | | | | | | 80 [5] | af | | | | | | | filiates | | | | | | | to after | | | | | | | MCData | | | | | | | service | | | | | | | autho | | | | | | | rization | | | | | | | for the | | | | | | | user | | | | | +----------+----------+----------+----------+----------+----------+ | | > | Y | Y | Y | Y | | | MCData | | | | | | | Group ID | | | | | +----------+----------+----------+----------+----------+----------+ | [R-6.4 | Autho | | Y | Y | Y | | .2-006] | risation | | | | | | of | of an | | | | | | 3GPP | MCData | | | | | | TS 22.2 | user to | | | | | | 80 [2] | request | | | | | | | a list | | | | | | | of which | | | | | | | MCData | | | | | | | groups a | | | | | | | user has | | | | | | | af | | | | | | | filiated | | | | | | | to | | | | | +----------+----------+----------+----------+----------+----------+ | [ | Autho | | Y | Y | Y | | R-6.4.6. | risation | | | | | | 1-002], | to | | | | | | | change | | | | | | \ | af | | | | | | [R-6.4.6 | filiated | | | | | | .1-003] | groups | | | | | | of | of other | | | | | | 3GPP | s | | | | | | TS 22.2 | pecified | | | | | | 80 [2] | user(s) | | | | | +----------+----------+----------+----------+----------+----------+ | [ | Autho | | Y | Y | Y | | R-6.4.6. | risation | | | | | | 2-001], | to | | | | | | | r | | | | | | \ | ecommend | | | | | | [R-6.4.6 | to | | | | | | .2-002] | s | | | | | | of | pecified | | | | | | 3GPP | user(s) | | | | | | TS 22.2 | to | | | | | | 80 [2] | a | | | | | | | ffiliate | | | | | | | to | | | | | | | specific | | | | | | | group(s) | | | | | +----------+----------+----------+----------+----------+----------+ | [R-6.6 | Autho | Y | Y | Y | Y | | .1-004] | risation | | | | | | of | to | | | | | | 3GPP | perform | | | | | | TS 22.2 | re | | | | | | 80 [2] | grouping | | | | | +----------+----------+----------+----------+----------+----------+ | [R-6.7 | Presence | Y | Y | Y | Y | | .2-001] | status | | | | | | of | is | | | | | | 3GPP | avail | | | | | | TS 22.2 | able/not | | | | | | 80 [2] | a | | | | | | | vailable | | | | | | | to other | | | | | | | users | | | | | +----------+----------+----------+----------+----------+----------+ | [R-6.7. | List of | | | | | | 1-002], | MCData | | | | | | | users | | | | | | [R-6.7 | that | | | | | | .2-002] | MCData | | | | | | of | user is | | | | | | 3GPP | au | | | | | | TS 22.2 | thorised | | | | | | 80 [2] | to | | | | | | | obtain | | | | | | | presence | | | | | | | of | | | | | +----------+----------+----------+----------+----------+----------+ | | > | Y | Y | Y | Y | | | MCData | | | | | | | IDs | | | | | +----------+----------+----------+----------+----------+----------+ | [R-6 | Autho | | Y | Y | Y | | .8.7.4.2 | risation | | | | | | -001],\ | of a | | | | | | [R | user to | | | | | | -6.8.7.4 | cancel | | | | | | .2-002] | an | | | | | | of | e | | | | | | 3GPP | mergency | | | | | | TS 22.2 | alert on | | | | | | 80 [2] | any | | | | | | | MCData | | | | | | | UE of | | | | | | | any user | | | | | +----------+----------+----------+----------+----------+----------+ | [R-6.13 | Autho | | Y | Y | Y | | .4-001] | risation | | | | | | of | for an | | | | | | 3GPP | MCData | | | | | | TS 22.2 | user to | | | | | | 80 [2] | enable | | | | | | | /disable | | | | | | | an | | | | | | | MCData | | | | | | | user | | | | | +----------+----------+----------+----------+----------+----------+ | [ | Autho | | Y | Y | Y | | R-6.13.4 | risation | | | | | | -003],\ | for an | | | | | | [ | MCData | | | | | | R-6.13.4 | user to | | | | | | -005],\ | (per | | | | | | [ | manently | | | | | | R-6.13.4 | /temp | | | | | | -006],\ | orarily) | | | | | | [R-6.13 | enable | | | | | | .4-007] | /disable | | | | | | of | a UE | | | | | | 3GPP | | | | | | | TS 22.2 | | | | | | | 80 [2] | | | | | | +----------+----------+----------+----------+----------+----------+ | [R-7.1 | Autho | Y | Y | Y | Y | | 4-002], | rization | | | | | | | for | | | | | | [R-7. | manual | | | | | | 14-003] | switch | | | | | | of | to | | | | | | 3GPP | off | | | | | | TS 22.2 | -network | | | | | | 80 [2] | while in | | | | | | | on | | | | | | | -network | | | | | +----------+----------+----------+----------+----------+----------+ | [R-5.1 | Li | N | Y | Y | Y | | .5-004] | mitation | | | | | | of | of | | | | | | 3GPP | number | | | | | | TS 22.2 | of | | | | | | 80 [2] | affi | | | | | | | liations | | | | | | | per user | | | | | | | (N2) | | | | | +----------+----------+----------+----------+----------+----------+ | [ | List of | | | | | | R-6.4.6. | MCData | | | | | | 1-001], | users | | | | | | | whose | | | | | | \ | selected | | | | | | [R-6.4.6 | groups | | | | | | .1-004] | are | | | | | | of | au | | | | | | 3GPP | thorized | | | | | | TS 22.2 | to be | | | | | | 80 [2] | remotely | | | | | | | changed | | | | | +----------+----------+----------+----------+----------+----------+ | | > | Y | Y | Y | Y | | | MCData | | | | | | | ID | | | | | +----------+----------+----------+----------+----------+----------+ | [R-6.7. | List of | | | | | | 3-007a] | MCData | | | | | | of | users | | | | | | 3GPP | this | | | | | | TS 22.2 | MCData | | | | | | 80 [2] | user is | | | | | | and | au | | | | | | 3GPP | thorized | | | | | | TS 33.18 | to | | | | | | 0 [13] | receive | | | | | | | a | | | | | | | on | | | | | | | eâ€‘to-one | | | | | | | commu | | | | | | | nication | | | | | +----------+----------+----------+----------+----------+----------+ | | > | Y | Y | Y | Y | | | MCData | | | | | | | ID | | | | | +----------+----------+----------+----------+----------+----------+ | | > | Y | Y | Y | Y | | | KMSUri | | | | | | | for | | | | | | | security | | | | | | | domain | | | | | | | of | | | | | | | MCData | | | | | | | ID | | | | | +----------+----------+----------+----------+----------+----------+ | | Conv | | | | | | | ersation | | | | | | | ma | | | | | | | nagement | | | | | +----------+----------+----------+----------+----------+----------+ | \ | > List | N | Y | Y | Y | | [R-6.1.1 | of | | | | | | .2-009] | MCData | | | | | | of | users to | | | | | | 3GPP | be sent | | | | | | TS 22.28 | message | | | | | | 2 [3]. | d | | | | | | | elivered | | | | | | | dis | | | | | | | position | | | | | | | notif | | | | | | | ications | | | | | | | in | | | | | | | addition | | | | | | | to the | | | | | | | message | | | | | | | sender | | | | | +----------+----------+----------+----------+----------+----------+ | | >> | N | Y | Y | Y | | | MCData | | | | | | | ID | | | | | +----------+----------+----------+----------+----------+----------+ | \ | > List | N | Y | Y | Y | | [R-6.1.1 | of | | | | | | .2-009] | MCData | | | | | | of | users to | | | | | | 3GPP | be sent | | | | | | TS 22.28 | message | | | | | | 2 [3]. | read | | | | | | | dis | | | | | | | position | | | | | | | notif | | | | | | | ications | | | | | | | in | | | | | | | addition | | | | | | | to the | | | | | | | message | | | | | | | sender | | | | | +----------+----------+----------+----------+----------+----------+ | | >> | N | Y | Y | Y | | | MCData | | | | | | | ID | | | | | +----------+----------+----------+----------+----------+----------+ | 3GPP T | Au | Y | Y | Y | Y | | S 23.283 | thorised | | | | | | [18] | to use | | | | | | | LMR E2EE | | | | | | | for | | | | | | | inte | | | | | | | rworking | | | | | +----------+----------+----------+----------+----------+----------+ | 3GPP T | > List | | | | | | S 23.283 | of | | | | | | [18] | s | | | | | | | upported | | | | | | | LMR | | | | | | | te | | | | | | | chnology | | | | | | | types | | | | | +----------+----------+----------+----------+----------+----------+ | 3GPP T | >> LMR | Y | N | Y | Y | | S 23.283 | te | | | | | | [18] | chnology | | | | | | | type | | | | | | | (P25, | | | | | | | TETRA | | | | | | | etc.) | | | | | +----------+----------+----------+----------+----------+----------+ | 3GPP T | >> URI | Y | N | Y | Y | | S 23.283 | of LMR | | | | | | [18] | key | | | | | | | ma | | | | | | | nagement | | | | | | | fu | | | | | | | nctional | | | | | | | entity | | | | | | | (see | | | | | | | NOTE 4 ) | | | | | +----------+----------+----------+----------+----------+----------+ | 3GPP T | >> LMR | Y | N | Y | Y | | S 23.283 | specific | | | | | | [18] | identity | | | | | | | (RSI for | | | | | | | P25 or | | | | | | | ITSI for | | | | | | | TETRA) | | | | | | | (see | | | | | | | NOTE 5) | | | | | +----------+----------+----------+----------+----------+----------+ | 3GPP T | >> LMR | Y | N | Y | Y | | S 23.283 | specific | | | | | | [18] | security | | | | | | | inf | | | | | | | ormation | | | | | | | (see | | | | | | | NOTE 5) | | | | | +----------+----------+----------+----------+----------+----------+ | | List of | | | | | | | servers | | | | | | | used in | | | | | | | the | | | | | | | private | | | | | | | and | | | | | | | group | | | | | | | commun | | | | | | | ications | | | | | +----------+----------+----------+----------+----------+----------+ | | > | | | | | | | MCData | | | | | | | content | | | | | | | server | | | | | | | where | | | | | | | the HTTP | | | | | | | FD file | | | | | | | is | | | | | | | uploaded | | | | | +----------+----------+----------+----------+----------+----------+ | | >> | Y | Y | Y | Y | | | Server | | | | | | | URI | | | | | +----------+----------+----------+----------+----------+----------+ | | > | | | | | | | MCData | | | | | | | message | | | | | | | store | | | | | | | where | | | | | | | the | | | | | | | commu | | | | | | | nication | | | | | | | history | | | | | | | stores | | | | | +----------+----------+----------+----------+----------+----------+ | | >> | Y | Y | Y | Y | | | Server | | | | | | | URI | | | | | +----------+----------+----------+----------+----------+----------+ | S | List of | | | | | | ubclause | partner | | | | | | 5.2.9 of | MCData | | | | | | * | systems | | | | | | _3GPP TS | in which | | | | | | 23.280 | this | | | | | | [16]__| profile | | | | | | | is valid | | | | | | | for use | | | | | | | during | | | | | | | m | | | | | | | igration | | | | | +----------+----------+----------+----------+----------+----------+ | S | > | Y | Y | Y | Y | | ubclause | Identity | | | | | | 5.2.9 of | of | | | | | | * | partner | | | | | | _3GPP TS | MCData | | | | | | 23.280 | system | | | | | | [16]**| | | | | | +----------+----------+----------+----------+----------+----------+ | S | > | Y | | Y | Y | | ubclause | Access | | | | | | 10.1.1 | inf | | | | | | of | ormation | | | | | | * | for | | | | | | *3GPP TS | partner | | | | | | 23.280 | MCData | | | | | | [16]** | system | | | | | | | (see | | | | | | | NOTE 6) | | | | | +----------+----------+----------+----------+----------+----------+ | [R-5. | Au | | Y | Y | Y | | 9a-012] | thorised | | | | | | of | to | | | | | | 3GPP | request | | | | | | TS 22.2 | inf | | | | | | 80 [2] | ormation | | | | | | | query of | | | | | | [R-5. | the | | | | | | 9a-013] | ass | | | | | | of | ociation | | | | | | 3GPP | between | | | | | | TS 22.2 | active | | | | | | 80 [2] | fu | | | | | | | nctional | | | | | | | a | | | | | | | lias(es) | | | | | | | and the | | | | | | | MCData | | | | | | | ID(s) | | | | | +----------+----------+----------+----------+----------+----------+ | [ | List of | | | | | | R-6.6.4. | groups | | | | | | 2-002a] | the | | | | | | and | client | | | | | | [ | affiliat | | | | | | R-6.6.4. | es/de-af | | | | | | 2-002b] | filiates | | | | | | of | when | | | | | | 3GPP | criteria | | | | | | TS 22.2 | is met | | | | | | 80 [2] | | | | | | +----------+----------+----------+----------+----------+----------+ | | > | Y | Y | Y | Y | | | MCData | | | | | | | Group ID | | | | | +----------+----------+----------+----------+----------+----------+ | | >> | Y | Y | Y | Y | | | Criteria | | | | | | | for | | | | | | | aff | | | | | | | iliation | | | | | | | (see | | | | | | | NOTE 7) | | | | | +----------+----------+----------+----------+----------+----------+ | | >> | Y | Y | Y | Y | | | Criteria | | | | | | | for | | | | | | | de-aff | | | | | | | iliation | | | | | | | (see | | | | | | | NOTE 7) | | | | | +----------+----------+----------+----------+----------+----------+ | | >> | Y | Y | Y | Y | | | Manual | | | | | | | de-aff | | | | | | | iliation | | | | | | | is not | | | | | | | allowed | | | | | | | if | | | | | | | criteria | | | | | | | for | | | | | | | aff | | | | | | | iliation | | | | | | | are met | | | | | +----------+----------+----------+----------+----------+----------+ | \ | List of | | | | | | [R-6.6.4 | groups | | | | | | .2-002] | the | | | | | | of | client | | | | | | 3GPP | af | | | | | | TS 22.2 | filiates | | | | | | 80 [2] | after | | | | | | | r | | | | | | | eceiving | | | | | | | an | | | | | | | e | | | | | | | mergency | | | | | | | alert | | | | | +----------+----------+----------+----------+----------+----------+ | | > | Y | Y | Y | Y | | | MCData | | | | | | | Group ID | | | | | +----------+----------+----------+----------+----------+----------+ | | >> | Y | Y | Y | Y | | | Manual | | | | | | | de-aff | | | | | | | iliation | | | | | | | is not | | | | | | | allowed | | | | | | | if | | | | | | | criteria | | | | | | | for | | | | | | | aff | | | | | | | iliation | | | | | | | are met | | | | | +----------+----------+----------+----------+----------+----------+ | | List of | | | | | | | fu | | | | | | | nctional | | | | | | | a | | | | | | | lias(es) | | | | | | | of the | | | | | | | MCData | | | | | | | user | | | | | +----------+----------+----------+----------+----------+----------+ | [R-5. | > | Y | Y | Y | Y | | 9a-005] | Fu | | | | | | of | nctional | | | | | | 3GPP | alias | | | | | | TS 22.2 | | | | | | | 80 [2] | | | | | | +----------+----------+----------+----------+----------+----------+ | [R-5. | >> | N | Y | Y | Y | | 9a-018] | Trigger | | | | | | of | criteria | | | | | | 3GPP | for | | | | | | TS 22.2 | ac | | | | | | 80 [2] | tivation | | | | | | | by the | | | | | | | MCData | | | | | | | server | | | | | | | (see | | | | | | | NOTE 8) | | | | | +----------+----------+----------+----------+----------+----------+ | [R-5.9 | >> | N | Y | Y | Y | | a-017], | Trigger | | | | | | [R-5. | criteria | | | | | | 9a-018] | for | | | | | | of | de-ac | | | | | | 3GPP | tivation | | | | | | TS 22.2 | by the | | | | | | 80 [2] | MCData | | | | | | | server | | | | | | | (see | | | | | | | NOTE 8) | | | | | +----------+----------+----------+----------+----------+----------+ | [R-5. | >> | Y | Y | Y | Y | | 9a-019] | Trigger | | | | | | of | criteria | | | | | | 3GPP | for | | | | | | TS 22.2 | ac | | | | | | 80 [2] | tivation | | | | | | | by the | | | | | | | MCData | | | | | | | client | | | | | | | (see | | | | | | | NOTE 8) | | | | | +----------+----------+----------+----------+----------+----------+ | [R-5. | >> | Y | Y | Y | Y | | 9a-019] | Trigger | | | | | | of | criteria | | | | | | 3GPP | for | | | | | | TS 22.2 | de-ac | | | | | | 80 [2] | tivation | | | | | | | by the | | | | | | | MCData | | | | | | | client | | | | | | | (see | | | | | | | NOTE 8) | | | | | +----------+----------+----------+----------+----------+----------+ | | >> | Y | Y | Y | Y | | | Manual | | | | | | | de-ac | | | | | | | tivation | | | | | | | is not | | | | | | | allowed | | | | | | | if the | | | | | | | criteria | | | | | | | are met | | | | | | | (see | | | | | | | NOTE 8) | | | | | +----------+----------+----------+----------+----------+----------+ | [R-5. | Au | | Y | Y | Y | | 9a-012] | thorised | | | | | | of | to take | | | | | | 3GPP | over a | | | | | | TS 22.2 | fu | | | | | | 80 [2] | nctional | | | | | | | alias | | | | | | | from | | | | | | | another | | | | | | | MCData | | | | | | | user | | | | | +----------+----------+----------+----------+----------+----------+ | | Au | Y | Y | Y | Y | | | thorised | | | | | | | to | | | | | | | par | | | | | | | ticipate | | | | | | | in an IP | | | | | | | conn | | | | | | | ectivity | | | | | | | session | | | | | +----------+----------+----------+----------+----------+----------+ | [R-5.5. | >List | | | | | | 2-003], | of | | | | | | | MCData | | | | | | [R-5.5 | users | | | | | | .2-004] | which | | | | | | 3GPP | can be | | | | | | TS 22.2 | included | | | | | | 82 [3] | in IP | | | | | | | conn | | | | | | | ectivity | | | | | | | s | | | | | | | essions. | | | | | +----------+----------+----------+----------+----------+----------+ | | >> | Y | Y | Y | Y | | | MCData | | | | | | | ID | | | | | +----------+----------+----------+----------+----------+----------+ | 3GPP TS | >> | Y | Y | Y | Y | | 33.180 | KMSUri | | | | | | [13] | for | | | | | | | security | | | | | | | domain | | | | | | | of the | | | | | | | MCData | | | | | | | ID | | | | | +----------+----------+----------+----------+----------+----------+ | | >>List | | | | | | | of | | | | | | | as | | | | | | | sociated | | | | | | | data | | | | | | | host IP | | | | | | | inf | | | | | | | ormation | | | | | +----------+----------+----------+----------+----------+----------+ | | >>>IP | Y | Y | Y | Y | | | inf | | | | | | | ormation | | | | | | | (see | | | | | | | NOTE 9) | | | | | +----------+----------+----------+----------+----------+----------+ | [R-5.5 | Au | N | Y | Y | Y | | .2-003] | thorised | | | | | | 3GPP | to | | | | | | TS 22.2 | initiate | | | | | | 82 [3] | remote | | | | | | | point- | | | | | | | to-point | | | | | | | IP | | | | | | | conn | | | | | | | ectivity | | | | | | | sessions | | | | | +----------+----------+----------+----------+----------+----------+ | | >List | | | | | | | of | | | | | | | MCData | | | | | | | users | | | | | | | which | | | | | | | can be | | | | | | | a | | | | | | | ddressed | | | | | | | in a | | | | | | | remote | | | | | | | i | | | | | | | nitiated | | | | | | | IP | | | | | | | conn | | | | | | | ectivity | | | | | | | session; | | | | | +----------+----------+----------+----------+----------+----------+ | | >> | N | Y | Y | Y | | | MCData | | | | | | | ID | | | | | +----------+----------+----------+----------+----------+----------+ | [R-5.5 | Au | N | Y | Y | Y | | .2-003] | thorised | | | | | | 3GPP | to tear | | | | | | TS 22.2 | down | | | | | | 82 [3] | point- | | | | | | | to-point | | | | | | | IP | | | | | | | conn | | | | | | | ectivity | | | | | | | sessions | | | | | +----------+----------+----------+----------+----------+----------+ | | >List | | | | | | | of | | | | | | | MCData | | | | | | | users | | | | | | | which | | | | | | | can be | | | | | | | a | | | | | | | ddressed | | | | | | | in a | | | | | | | remote | | | | | | | i | | | | | | | nitiated | | | | | | | IP | | | | | | | conn | | | | | | | ectivity | | | | | | | session | | | | | | | tear | | | | | | | down; | | | | | +----------+----------+----------+----------+----------+----------+ | | >> | N | Y | Y | Y | | | MCData | | | | | | | ID | | | | | +----------+----------+----------+----------+----------+----------+ | [R-5.5 | Au | | | | | | .2-006] | thorised | | | | | | | to | | | | | | 3GPP | request | | | | | | TS 22.2 | remotely | | | | | | 82 [3] | app | | | | | | | lication | | | | | | | priority | | | | | | | modi | | | | | | | fication | | | | | | | of | | | | | | | est | | | | | | | ablished | | | | | | | point- | | | | | | | to-point | | | | | | | IP | | | | | | | conn | | | | | | | ectivity | | | | | | | s | | | | | | | essions; | | | | | +----------+----------+----------+----------+----------+----------+ | | >List | Y | Y | Y | Y | | | of | | | | | | | MCData | | | | | | | users | | | | | | | which | | | | | | | can be | | | | | | | a | | | | | | | ddressed | | | | | | | remotely | | | | | | | to | | | | | | | change | | | | | | | the | | | | | | | app | | | | | | | lication | | | | | | | priority | | | | | | | of | | | | | | | est | | | | | | | ablished | | | | | | | IP | | | | | | | conn | | | | | | | ectivity | | | | | | | s | | | | | | | essions; | | | | | +----------+----------+----------+----------+----------+----------+ | [R-5.1 | Maximum | N | Y | Y | Y | | 0-001b] | number | | | | | | 3GPP TS | of | | | | | | 22.280 | su | | | | | | [2] | ccessful | | | | | | | simu | | | | | | | ltaneous | | | | | | | MCData | | | | | | | service | | | | | | | author | | | | | | | izations | | | | | | | for this | | | | | | | user | | | | | | | (see | | | | | | | NOTE 10) | | | | | +----------+----------+----------+----------+----------+----------+ | | ad hoc | | | | | | | group | | | | | | | data | | | | | | | commu | | | | | | | nication | | | | | | | author | | | | | | | izations | | | | | +----------+----------+----------+----------+----------+----------+ | [ | > | Y | Y | Y | Y | | R-6.15.5 | Au | | | | | | .3-001] | thorised | | | | | | of 3GPP | to | | | | | | TS | initiate | | | | | | 22.280 | ad hoc | | | | | | [2] | group | | | | | | | data | | | | | | | commu | | | | | | | nication | | | | | +----------+----------+----------+----------+----------+----------+ | R-6.15.5 | > | Y | Y | Y | Y | | .3-003] | Au | | | | | | of 3GPP | thorised | | | | | | TS | to | | | | | | 22.280 | par | | | | | | [2] | ticipate | | | | | | | in | | | | | | | ad hoc | | | | | | | group | | | | | | | data | | | | | | | commu | | | | | | | nication | | | | | +----------+----------+----------+----------+----------+----------+ | | > | Y | Y | Y | Y | | | Au | | | | | | | thorised | | | | | | | to | | | | | | | initiate | | | | | | | e | | | | | | | mergency | | | | | | | ad hoc | | | | | | | group | | | | | | | data | | | | | | | commu | | | | | | | nication | | | | | +----------+----------+----------+----------+----------+----------+ | | > | Y | Y | Y | Y | | | Au | | | | | | | thorised | | | | | | | to | | | | | | | initiate | | | | | | | imminent | | | | | | | peril | | | | | | | ad hoc | | | | | | | group | | | | | | | data | | | | | | | commu | | | | | | | nication | | | | | +----------+----------+----------+----------+----------+----------+ | | > | N | Y | Y | Y | | | Au | | | | | | | thorised | | | | | | | to | | | | | | | receive | | | | | | | the | | | | | | | part | | | | | | | icipants | | | | | | | inf | | | | | | | ormation | | | | | | | of an | | | | | | | ad hoc | | | | | | | group | | | | | | | commu | | | | | | | nication | | | | | +----------+----------+----------+----------+----------+----------+ | NOTE 1: | | | | | | | If this | | | | | | | p | | | | | | | arameter | | | | | | | is not | | | | | | | con | | | | | | | figured, | | | | | | | autho | | | | | | | rization | | | | | | | to use | | | | | | | the | | | | | | | group | | | | | | | shall be | | | | | | | obtained | | | | | | | from the | | | | | | | identity | | | | | | | ma | | | | | | | nagement | | | | | | | server | | | | | | | id | | | | | | | entified | | | | | | | in the | | | | | | | initial | | | | | | | MC | | | | | | | service | | | | | | | UE | | | | | | | confi | | | | | | | guration | | | | | | | data | | | | | | | (on- | | | | | | | network) | | | | | | | co | | | | | | | nfigured | | | | | | | in table | | | | | | | A.6-1 of | | | | | | | 3GPP T | | | | | | | S 23.280 | | | | | | | [5]. | | | | | | | | | | | | | | NOTE 2: | | | | | | | If this | | | | | | | p | | | | | | | arameter | | | | | | | is | | | | | | | absent, | | | | | | | the | | | | | | | KMSUri | | | | | | | shall be | | | | | | | that | | | | | | | id | | | | | | | entified | | | | | | | in the | | | | | | | initial | | | | | | | MC | | | | | | | service | | | | | | | UE | | | | | | | confi | | | | | | | guration | | | | | | | data | | | | | | | (on- | | | | | | | network) | | | | | | | co | | | | | | | nfigured | | | | | | | in table | | | | | | | A.6-1 of | | | | | | | 3GPP TS | | | | | | | 23.280 | | | | | | | [5]. | | | | | | | | | | | | | | NOTE 3: | | | | | | | The use | | | | | | | of this | | | | | | | p | | | | | | | arameter | | | | | | | by the | | | | | | | MCData | | | | | | | UE is | | | | | | | outside | | | | | | | the | | | | | | | scope of | | | | | | | the | | | | | | | present | | | | | | | d | | | | | | | ocument. | | | | | | | | | | | | | | NOTE 4: | | | | | | | The LMR | | | | | | | key | | | | | | | ma | | | | | | | nagement | | | | | | | fu | | | | | | | nctional | | | | | | | entity | | | | | | | is part | | | | | | | of the | | | | | | | LMR | | | | | | | system | | | | | | | and is | | | | | | | outside | | | | | | | the | | | | | | | scope of | | | | | | | the | | | | | | | present | | | | | | | d | | | | | | | ocument. | | | | | | | | | | | | | | NOTE 5: | | | | | | | This is | | | | | | | an LMR | | | | | | | specific | | | | | | | p | | | | | | | arameter | | | | | | | with no | | | | | | | meaning | | | | | | | within | | | | | | | MC | | | | | | | s | | | | | | | ervices. | | | | | | | | | | | | | | NOTE 6: | | | | | | | Access | | | | | | | inf | | | | | | | ormation | | | | | | | for each | | | | | | | partner | | | | | | | MCData | | | | | | | system | | | | | | | c | | | | | | | omprises | | | | | | | the list | | | | | | | of | | | | | | | inf | | | | | | | ormation | | | | | | | required | | | | | | | for | | | | | | | initial | | | | | | | UE | | | | | | | confi | | | | | | | guration | | | | | | | to | | | | | | | access | | | | | | | an | | | | | | | MCData | | | | | | | system, | | | | | | | as | | | | | | | defined | | | | | | | in table | | | | | | | A.6-1 of | | | | | | | * | | | | | | | _3GPP TS | | | | | | | 23.280 | | | | | | | [16]_ * | | | | | | | | | | | | | | NOTE 7: | | | | | | | The | | | | | | | criteria | | | | | | | may | | | | | | | consist | | | | | | | co | | | | | | | nditions | | | | | | | such as | | | | | | | the | | | | | | | location | | | | | | | of the | | | | | | | MCData | | | | | | | user or | | | | | | | the | | | | | | | active | | | | | | | fu | | | | | | | nctional | | | | | | | alias of | | | | | | | the | | | | | | | MCData | | | | | | | user. | | | | | | | | | | | | | | NOTE 8: | | | | | | | The | | | | | | | criteria | | | | | | | may | | | | | | | consist | | | | | | | of | | | | | | | co | | | | | | | nditions | | | | | | | such as | | | | | | | MCData | | | | | | | user | | | | | | | location | | | | | | | or time. | | | | | | | | | | | | | | NOTE 9: | | | | | | | IP | | | | | | | inf | | | | | | | ormation | | | | | | | may | | | | | | | contain | | | | | | | IP | | | | | | | ad | | | | | | | dresses, | | | | | | | corre | | | | | | | sponding | | | | | | | subnet | | | | | | | masks, | | | | | | | gateway | | | | | | | and DNS | | | | | | | s | | | | | | | ettings. | | | | | | | | | | | | | | NOTE 10: | | | | | | | If | | | | | | | con | | | | | | | figured, | | | | | | | this | | | | | | | value | | | | | | | has | | | | | | | pr | | | | | | | ecedence | | | | | | | over the | | | | | | | system | | | | | | | level | | | | | | | p | | | | | | | arameter | | | | | | | \ | | | | | | | "maximum | | | | | | | number | | | | | | | of | | | | | | | su | | | | | | | ccessful | | | | | | | simu | | | | | | | ltaneous | | | | | | | service | | | | | | | authoris | | | | | | | ations\" | | | | | | | in table | | | | | | | A.5-2. | | | | | | | If not | | | | | | | con | | | | | | | figured, | | | | | | | the | | | | | | | corre | | | | | | | sponding | | | | | | | p | | | | | | | arameter | | | | | | | from | | | | | | | table | | | | | | | A.5-2 | | | | | | | shall be | | | | | | | used. | | | | | | | | | | | | | | NOTE 11: | | | | | | | This is | | | | | | | the | | | | | | | second | | | | | | | level | | | | | | | control | | | | | | | p | | | | | | | arameter | | | | | | | to | | | | | | | d | | | | | | | etermine | | | | | | | whether | | | | | | | this | | | | | | | group | | | | | | | commu | | | | | | | nication | | | | | | | will be | | | | | | | stored | | | | | | | in the | | | | | | | MCData | | | | | | | message | | | | | | | store | | | | | | | when the | | | | | | | Store | | | | | | | commu | | | | | | | nication | | | | | | | in | | | | | | | Message | | | | | | | Store | | | | | | | top | | | | | | | level | | | | | | | control | | | | | | | p | | | | | | | arameter | | | | | | | is set. | | | | | | +----------+----------+----------+----------+----------+----------+
Table A.3-3: MCData user profile configuration data (off network)
+----------+----------+----------+----------+----------+----------+ | R | P | MCData | MCData | Confi | MCData | | eference | arameter | UE | Server | guration | user | | | des | | | ma | database | | | cription | | | nagement | | | | | | | server | | +==========+==========+==========+==========+==========+==========+ | [R-7. | List of | | | | | | 2-003], | off | | | | | | | -network | | | | | | [R-7 | MCData | | | | | | .6-004] | groups | | | | | | of | for use | | | | | | 3GPP | by this | | | | | | TS 22.2 | MCData | | | | | | 80 [2] | user | | | | | +----------+----------+----------+----------+----------+----------+ | | > | Y | N | Y | Y | | | MCData | | | | | | | Group ID | | | | | +----------+----------+----------+----------+----------+----------+ | | > Store | Y | N | Y | Y | | | group | | | | | | | commu | | | | | | | nication | | | | | | | in | | | | | | | Message | | | | | | | Store | | | | | | | (see | | | | | | | NOTE 4) | | | | | +----------+----------+----------+----------+----------+----------+ | | > | | | | | | | App | | | | | | | lication | | | | | | | plane | | | | | | | server | | | | | | | identity | | | | | | | inf | | | | | | | ormation | | | | | | | of group | | | | | | | ma | | | | | | | nagement | | | | | | | server | | | | | | | where | | | | | | | group is | | | | | | | defined | | | | | +----------+----------+----------+----------+----------+----------+ | | >> | Y | N | Y | Y | | | Server | | | | | | | URI | | | | | +----------+----------+----------+----------+----------+----------+ | | > | | | | | | | App | | | | | | | lication | | | | | | | plane | | | | | | | server | | | | | | | identity | | | | | | | inf | | | | | | | ormation | | | | | | | of | | | | | | | identity | | | | | | | ma | | | | | | | nagement | | | | | | | server | | | | | | | which | | | | | | | provides | | | | | | | autho | | | | | | | rization | | | | | | | for | | | | | | | group | | | | | | | (see | | | | | | | NOTE 1) | | | | | +----------+----------+----------+----------+----------+----------+ | | >> | Y | N | Y | Y | | | Server | | | | | | | URI | | | | | +----------+----------+----------+----------+----------+----------+ | 3GPP T | > | Y | N | Y | Y | | S 33.180 | KMSUri | | | | | | [13] | for | | | | | | | security | | | | | | | domain | | | | | | | of group | | | | | | | (see | | | | | | | NOTE 2) | | | | | +----------+----------+----------+----------+----------+----------+ | | > | Y | N | Y | Y | | | Pres | | | | | | | entation | | | | | | | priority | | | | | | | of the | | | | | | | group | | | | | | | relative | | | | | | | to other | | | | | | | groups | | | | | | | and | | | | | | | users | | | | | | | (see | | | | | | | NOTE 3) | | | | | +----------+----------+----------+----------+----------+----------+ | [R-7.1 | Autho | Y | N | Y | Y | | 2-002], | rization | | | | | | | for | | | | | | [R-7. | off | | | | | | 12-003] | -network | | | | | | of | services | | | | | | 3GPP | | | | | | | TS 22.2 | | | | | | | 80 [2] | | | | | | +----------+----------+----------+----------+----------+----------+ | Subclaus | User | Y | N | Y | Y | | e 7.16.1 | info ID | | | | | | | (as | | | | | | | s | | | | | | | pecified | | | | | | | in | | | | | | | 3GPP | | | | | | | TS 23.30 | | | | | | | 3 [7]) | | | | | +----------+----------+----------+----------+----------+----------+ | NOTE 1: | | | | | | | If this | | | | | | | p | | | | | | | arameter | | | | | | | is not | | | | | | | con | | | | | | | figured, | | | | | | | autho | | | | | | | rization | | | | | | | to use | | | | | | | the | | | | | | | group | | | | | | | shall be | | | | | | | obtained | | | | | | | from the | | | | | | | identity | | | | | | | ma | | | | | | | nagement | | | | | | | server | | | | | | | id | | | | | | | entified | | | | | | | in the | | | | | | | initial | | | | | | | MC | | | | | | | service | | | | | | | UE | | | | | | | confi | | | | | | | guration | | | | | | | data | | | | | | | (on- | | | | | | | network) | | | | | | | co | | | | | | | nfigured | | | | | | | in table | | | | | | | A.6-1 of | | | | | | | TS | | | | | | | 23.280 | | | | | | | [5]. | | | | | | | | | | | | | | NOTE 2: | | | | | | | If this | | | | | | | p | | | | | | | arameter | | | | | | | is | | | | | | | absent, | | | | | | | the | | | | | | | KMSUri | | | | | | | shall be | | | | | | | that | | | | | | | id | | | | | | | entified | | | | | | | in the | | | | | | | initial | | | | | | | MC | | | | | | | service | | | | | | | UE | | | | | | | confi | | | | | | | guration | | | | | | | data | | | | | | | (on- | | | | | | | network) | | | | | | | co | | | | | | | nfigured | | | | | | | in table | | | | | | | A.6-1 of | | | | | | | 3GPP TS | | | | | | | 23.280 | | | | | | | [5]. | | | | | | | | | | | | | | NOTE 3: | | | | | | | The use | | | | | | | of this | | | | | | | p | | | | | | | arameter | | | | | | | by the | | | | | | | MCData | | | | | | | UE is | | | | | | | outside | | | | | | | the | | | | | | | scope of | | | | | | | the | | | | | | | present | | | | | | | d | | | | | | | ocument. | | | | | | | | | | | | | | NOTE 4: | | | | | | | This is | | | | | | | the | | | | | | | second | | | | | | | level | | | | | | | control | | | | | | | p | | | | | | | arameter | | | | | | | to | | | | | | | d | | | | | | | etermine | | | | | | | whether | | | | | | | this | | | | | | | group | | | | | | | commu | | | | | | | nication | | | | | | | will be | | | | | | | stored | | | | | | | in the | | | | | | | MCData | | | | | | | message | | | | | | | store | | | | | | | when the | | | | | | | Store | | | | | | | commu | | | | | | | nication | | | | | | | in | | | | | | | Message | | | | | | | Store | | | | | | | top | | | | | | | level | | | | | | | control | | | | | | | p | | | | | | | arameter | | | | | | | is set. | | | | | | +----------+----------+----------+----------+----------+----------+
# A.4 MCData related Group configuration data
The general aspects of group configuration are specified in 3GPP TS 23.280
[5].
Parameters specified in table A.4-1 are child parameters of the \"MCData
configuration\" parameter specified in table A.4-1 in 3GPP TS 23.280 [5].
Parameters specified in table A.4-2 are child parameters of the \"MCData
configuration\" parameter specified in table A.4-2 in 3GPP TS 23.280 [5].
Parameters specified in table A.4-3 are child parameters of the \"MCData
configuration\" parameter specified in table A.4-3 in 3GPP TS 23.280 [5].
Table A.4-1: Group configuration data (on and off network)
Reference Parameter description MCData UE MCData Server Group management
server
* * *
[R-5.12-001] of 3GPP TS 22.280 [2] >> Media confidentiality and integrity
protection (see NOTE) Y Y Y [R-5.12-001] of 3GPP TS 22.280 [2] >> Transmission
control confidentiality and integrity protection (see NOTE) Y Y Y [R-5.12-001]
of 3GPP TS 22.280 [2] >> Group media protection security material (see NOTE) Y
N Y Subclause 5 >> MCData sub-services and features enabled for the group  
>>> Short data service enabled Y Y Y >>> File distribution enabled Y Y Y >>>
IP connectivity enabled Y Y Y >>> Conversation management enabled Y Y Y >>>
Transmission control enabled Y Y Y >>> Reception control enabled Y Y Y >>>
Enhanced status enabled Y Y Y >> Enhanced status  
[R-6.1.3.2-002] of 3GPP TS 22.282 [3] >>> List of operational status values Y
N Y [R-6.1.1.2-011] of 3GPP TS 22.282 [2] >> Lossless communication Y Y Y
[R-6.1.1.2-007] of 3GPP TS 22.282 [5] >> Conversation hang time Y Y Y NOTE:
Security mechanisms are specified in 3GPP TS 33.180 [13].
Table A.4-2: Group configuration data (on network)
+-------------+-------------+-----------+-------------+-------------+ | Reference | Parameter | MCData UE | MCData | Group | | | description | | Server | management | | | | | | server | +=============+=============+===========+=============+=============+ | [R-6 | >> | Y | Y | Y | | .4.5-001], | Au | | | | | | thorisation | | | | | [R- | of a user | | | | | 6.4.5-003] | to request | | | | | of | a list of | | | | | 3GPP TS 2 | affiliated | | | | | 2.280 [2] | members of | | | | | | a group | | | | +-------------+-------------+-----------+-------------+-------------+ | [R-5 | >> | N | Y | Y | | .1.7-002], | Priority of | | | | | | the group | | | | | [R-6 | | | | | | .2.2-001], | | | | | | | | | | | | [R-6.6 | | | | | | .2.2-006], | | | | | | | | | | | | [R-6. | | | | | | 8.7.2-003] | | | | | | of | | | | | | 3GPP TS 2 | | | | | | 2.280 [2] | | | | | +-------------+-------------+-----------+-------------+-------------+ | Subclause | >> | | | | | 6.2.2 of | T | | | | | 3GPP TS 2 | ransmission | | | | | 2.282 [3] | and | | | | | | reception | | | | | | control | | | | +-------------+-------------+-----------+-------------+-------------+ | | >>> | Y | Y | Y | | | Maximum | | | | | | data size | | | | | | for SDS | | | | +-------------+-------------+-----------+-------------+-------------+ | | >>> | Y | Y | Y | | | Maximum | | | | | | data size | | | | | | for FD | | | | +-------------+-------------+-----------+-------------+-------------+ | | >>> | N | Y | Y | | | Maximum | | | | | | data size | | | | | | for | | | | | | a | | | | | | uto-receive | | | | +-------------+-------------+-----------+-------------+-------------+ | 3GPP TS | >> | Y | N | Y | | 23.283 | Indication | | | | | [18] | whether use | | | | | | of LMR E2EE | | | | | | is | | | | | | permitted | | | | | | on the | | | | | | MCData | | | | | | group | | | | +-------------+-------------+-----------+-------------+-------------+ | 3GPP TS | >> LMR | Y | N | Y | | 23.283 | specific | | | | | [18] | identity | | | | | | for MCData | | | | | | group (see | | | | | | NOTE 1) | | | | +-------------+-------------+-----------+-------------+-------------+ | 3GPP TS | >> Group | Y | N | Y | | 23.283 | to key | | | | | [18] | binding | | | | | | (see | | | | | | NOTE 1) | | | | +-------------+-------------+-----------+-------------+-------------+ | [R-6. | >> List | | | | | 2.2.1-001] | of group | | | | | of | members | | | | | 3GP | which are | | | | | P TS 22.282 | allowed to | | | | | [3], | transmit | | | | | [R- | data (see | | | | | 5.2.1-001] | NOTE 2) | | | | | of 3GPP | | | | | | TS22.280 | | | | | | [2] | | | | | +-------------+-------------+-----------+-------------+-------------+ | | >>> | Y | Y | Y | | | MCData ID | | | | +-------------+-------------+-----------+-------------+-------------+ | NOTE 1: | | | | | | This is an | | | | | | LMR | | | | | | specific | | | | | | parameter | | | | | | with no | | | | | | meaning | | | | | | within MC | | | | | | services. | | | | | | | | | | | | NOTE 2: | | | | | | This | | | | | | parameter | | | | | | sets the | | | | | | au | | | | | | thorization | | | | | | to transmit | | | | | | data in | | | | | | p | | | | | | re-arranged | | | | | | groups used | | | | | | in | | | | | | broadcast | | | | | | calls. | | | | | +-------------+-------------+-----------+-------------+-------------+
Table A.4-3: Group configuration data (off network)
Reference Parameter description MCData UE MCData Server Group management
server
* * *
Subclause 10.10 of 3GPP TS 23.280 [5] >> Default ProSe Per-Packet priority (as
specified in 3GPP TS 23.303 [7]) values  
>>> MCData group call signalling Y N Y >>> MCData group call media Y N Y
# A.5 MCData service configuration data
The general aspects of MC service configuration are specified in 3GPP TS
23.280 [5]. The MCData service configuration data is stored in the MCData
server.
Tables A.5-1 and A.5-2 describe the configuration data required to support the
use of on-network MCData service. Tables A.5-1 and A.5-3 describe the
configuration data required to support the use of off-network MCData service.
Data in tables A.5-1 and A.5-3 can be configured offline using the CSC-11
reference point.
Table A.5-1: MCData service configuration data (on and off network)
* * *
Reference Parameter description MCData UE MCData Server Configuration
management server
* * *
Table A.5-2: MCData service configuration data (on network)
+-------------+-------------+-----------+-------------+-------------+ | Reference | Parameter | MCData UE | MCData | Co | | | description | | Server | nfiguration | | | | | | management | | | | | | server | +=============+=============+===========+=============+=============+ | Subclause | T | | | | | 6.2.2 of | ransmission | | | | | 3GPP TS 2 | and | | | | | 2.282 [3] | reception | | | | | | control | | | | +-------------+-------------+-----------+-------------+-------------+ | | > Maximum | Y | Y | Y | | | data size | | | | | | for SDS | | | | +-------------+-------------+-----------+-------------+-------------+ | | > Maximum | Y | Y | Y | | | payload | | | | | | data size | | | | | | for SDS | | | | | | over | | | | | | signalling | | | | | | control | | | | | | plane | | | | | | ( | | | | | | see NOTE 1) | | | | +-------------+-------------+-----------+-------------+-------------+ | | > Maximum | Y | Y | Y | | | data size | | | | | | for FD | | | | +-------------+-------------+-----------+-------------+-------------+ | [R-6.2. | > Time | N | Y | Y | | 2.1-002d], | limit for | | | | | | the | | | | | [R-6. | temporarily | | | | | 2.2.4-003] | stored data | | | | | of | waiting to | | | | | 3GPP TS 2 | be | | | | | 2.282 [3] | delivered | | | | | | to a | | | | | | receiving | | | | | | user | | | | +-------------+-------------+-----------+-------------+-------------+ | [R-6. | > Timer | N | Y | Y | | 2.2.3-001] | for | | | | | of | periodic | | | | | 3GPP TS 2 | a | | | | | 2.282 [3] | nnouncement | | | | | | with the | | | | | | list of | | | | | | available | | | | | | recently | | | | | | invited | | | | | | data group | | | | | | com | | | | | | munications | | | | +-------------+-------------+-----------+-------------+-------------+ | | > Maximum | N | Y | Y | | | data size | | | | | | for | | | | | | a | | | | | | uto-receive | | | | +-------------+-------------+-----------+-------------+-------------+ | | List of | | | | | | functional | | | | | | alias | | | | | | identities | | | | +-------------+-------------+-----------+-------------+-------------+ | [R | > | N | Y | Y | | -5.9a-005] | Functional | | | | | of | alias | | | | | 3GPP TS 22 | | | | | | .280 [17] | | | | | +-------------+-------------+-----------+-------------+-------------+ | [R | >> Limit | N | Y | Y | | -5.9a-005] | number of | | | | | of | s | | | | | 3GPP TS 22 | imultaneous | | | | | .280 [17] | activations | | | | +-------------+-------------+-----------+-------------+-------------+ | [R | >> This | N | Y | Y | | -5.9a-005] | functional | | | | | of | alias can | | | | | 3GPP TS 22 | be taken | | | | | .280 [17] | over | | | | +-------------+-------------+-----------+-------------+-------------+ | | >> List | | | | | | of users | | | | | | who can | | | | | | activate | | | | | | this | | | | | | functional | | | | | | alias | | | | +-------------+-------------+-----------+-------------+-------------+ | [R | >>> | N | Y | Y | | -5.9a-005] | MCData ID | | | | | of | | | | | | 3GPP TS 22 | | | | | | .280 [17] | | | | | +-------------+-------------+-----------+-------------+-------------+ | [R | >> | N | Y | Y | | -5.9a-016] | Co | | | | | of | mmunication | | | | | 3GPP TS 22 | priority | | | | | .280 [17] | ( | | | | | | see NOTE 2) | | | | +-------------+-------------+-----------+-------------+-------------+ | [R- | Maximum | N | Y | Y | | 5.10-001a] | number of | | | | | of | successful | | | | | 3GPP TS 2 | s | | | | | 2.280 [2] | imultaneous | | | | | | service | | | | | | aut | | | | | | horizations | | | | | | of clients | | | | | | from a user | | | | +-------------+-------------+-----------+-------------+-------------+ | | MCData | | | | | | n | | | | | | otification | | | | | | server | | | | +-------------+-------------+-----------+-------------+-------------+ | | > Server | Y | Y | Y | | | URI(s) | | | | +-------------+-------------+-----------+-------------+-------------+ | Sub | List of | | | | | clause 5.15 | permitted | | | | | of | GW MC | | | | | 3GPP TS 2 | service | | | | | 2.280 [2] | ID(s) | | | | +-------------+-------------+-----------+-------------+-------------+ | | > GW MC | Y | Y | Y | | | service ID | | | | +-------------+-------------+-----------+-------------+-------------+ | | Ad hoc | | | | | | group data | | | | | | co | | | | | | mmunication | | | | | | con | | | | | | figurations | | | | +-------------+-------------+-----------+-------------+-------------+ | [R-6.1 | > Support | Y | Y | Y | | 5.5.3-005] | of ad hoc | | | | | of 3GPP TS | group data | | | | | 22.280 | co | | | | | [2] | mmunication | | | | | | (enable | | | | | | d/disabled) | | | | | | ( | | | | | | see NOTE 3) | | | | +-------------+-------------+-----------+-------------+-------------+ | [R-6.1 | > Maximum | Y | Y | Y | | 5.5.3-002] | number of | | | | | of 3GPP TS | particpants | | | | | 22.280 | allowed to | | | | | [2] | participate | | | | | | in an | | | | | | ad hoc | | | | | | group data | | | | | | co | | | | | | mmunication | | | | +-------------+-------------+-----------+-------------+-------------+ | [R-6.1 | > Hang | N | Y | Y | | 5.5.3-004] | timer for | | | | | of 3GPP TS | ad hoc | | | | | 22.280 | group data | | | | | [2] | co | | | | | | mmunication | | | | +-------------+-------------+-----------+-------------+-------------+ | | > Maximum | Y | Y | Y | | | duration | | | | | | for ad hoc | | | | | | group data | | | | | | co | | | | | | mmunication | | | | +-------------+-------------+-----------+-------------+-------------+ | | > List of | Y | Y | Y | | | preferred | | | | | | media | | | | | | codecs for | | | | | | ad hoc | | | | | | group data | | | | | | co | | | | | | mmunication | | | | +-------------+-------------+-----------+-------------+-------------+ | NOTE 1: The | | | | | | maximum | | | | | | payload | | | | | | data size | | | | | | for SDS | | | | | | over | | | | | | signalling | | | | | | control | | | | | | plane shall | | | | | | be less | | | | | | than or | | | | | | equal to | | | | | | the maximum | | | | | | data size | | | | | | for SDS. | | | | | | | | | | | | NOTE 2: The | | | | | | usage of | | | | | | this | | | | | | parameter | | | | | | by the | | | | | | MCData | | | | | | server is | | | | | | up to | | | | | | impl | | | | | | ementation. | | | | | | | | | | | | NOTE 3: If | | | | | | the support | | | | | | for ad hoc | | | | | | group data | | | | | | co | | | | | | mmunication | | | | | | is disabled | | | | | | by the MC | | | | | | system then | | | | | | all other | | | | | | con | | | | | | figurations | | | | | | related to | | | | | | ad hoc | | | | | | group data | | | | | | co | | | | | | mmunication | | | | | | are not | | | | | | applicable | | | | | +-------------+-------------+-----------+-------------+-------------+
Table A.5-3: MCData service configuration data (off network)
Reference Parameter description MCData UE MCData Server Configuration
management server
* * *
Subclause 10.10 of 3GPP TS 23.280 [5] Default ProSe Per-Packet priority (as
specified in 3GPP TS 23.303 [7]) values  
> MCData one-to-one call signalling Y N Y > MCData one-to-one call media Y N Y
###### ## Annex B (informative): Transmission control for MCData
# B.1 Overview of transmission control process
The MCData server may receive several simultaneous requests for data
transmission, which may be associated with different types of communication
e.g. group, private, 1-to-many. For each communication, how the requests are
processed may be different. The requests that are not authorized shall be
rejected by the transmission control function. For message requests over the
signalling control plane, the processing should be immediate and is delivered
to the recipients either via unicast or broadcast. However, for message
requests over the media plane, transmission control arbitration (see Annex
B.2) will be necessary. Subsequent to transmission control arbitration, and
subject to the policy e.g. store and forward, the data is either delivered
directly to the recipient MCData user or stored in the network repository and
a corresponding URL is delivered. The end-to-end transmission control process
is illustrated in figure B.1-1.
Figure B.1-1: Transmission control process
# B.2 Transmission control arbitration
The transmission control arbitration is a central function of the transmission
control process and is implementation specific. In a typical deployment,
multiple or simultaneous requests can be received at the transmission control
arbitration function. Each of these requests may be categorized into different
request types with different queuing priorities, and therefore each request
type will be maintained with separate queues. Each request shall not be
present in more than one queue at any given time. The queue types and the
order of queues may be configured by the MCData administrator, as described
below.
\- Transmission control queue: It is the primary queue from which the request
is processed for transmission e.g. emergency communication requests may result
in this queue and processed at the highest priority.
\- Communication type queue: This queue may be sorted in the order of the
communication type associated with the request. For example, the group
communication requests may always take precedence over one-to-many or private
communication requests.
\- Static attribute queue: This queue may be formed based on the static
attributes associated with the request e.g. group priority, user priority,
which may be pre-configured by the MCData administrator.
\- Dynamic attribute queue: This queue may be formed based on the dynamic
attributes associated with the request e.g. location of the sending user,
content size, etc.
###### ## Annex C: Void
###### ## Annex D (informative): Example of a User Message Storage Area
The figure in subclause 7.13.1 illustrates the high-level structure of the
MCData message store where objects are stored in a flat structure in the user
storage area. This flat data structure provides maximum flexibility for UI
implementation to present stored objects to the user. However, a folder
hierarchy structure provides a better visual presentation of the stored
objects to the MCData user.
Figure D-1: User message storage area example
In figure D-1 the MCData user 1 message storage area in the MCData message
store is constructed in folder hierarchical way. A system default folder,
Inbox, is configured to receive all new objects coming from active
communications. The MCData user 1 creates Group 1, Group 2 and Group N folders
to store communication history for different group communications that he is a
member of. Once the Group 1 folder is created the MCData user 1 can then move
all the objects related to Group 1 communication from the Inbox to the Group 1
folder. The MCData user 1 can also create child folders in Group 1 folder to
further divide the stored objects into different groupings such as with
different subjects, Subject 1 and Subject 2. Similarly, the MCData user 1
creates child folders, Date 1 and Date 2, in Group N folder to store
communication history in group N occurred in different dates. With this
hierarchical folder structure, the MCData user 1 can browse his user account
in the MCData message store interactively and navigate to the information he
would like to see. For example, the MCData user 1 can start with the top-level
root folder and traverse down the folder hierarchy to reach to Date 2 folder
and see the communication history of group N in that particular date.
###### ## Annex E (informative): Change history