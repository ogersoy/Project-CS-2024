# Foreword
This Technical Report has been produced by the 3rd Generation Partnership
Project (3GPP).
The contents of the present document are subject to continuing work within the
TSG and may change following formal TSG approval. Should the TSG modify the
contents of the present document, it will be re-released by the TSG with an
identifying change of release date and an increase in version number as
follows:
Version x.y.z
where:
x the first digit:
1 presented to TSG for information;
2 presented to TSG for approval;
3 or greater indicates TSG approved document under change control.
y the second digit is incremented for all changes of substance, i.e. technical
enhancements, corrections, updates, etc.
z the third digit is incremented when editorial only changes have been
incorporated in the document.
In the present document, certain modal verbs have the following meanings:
**shall** indicates a mandatory requirement to do something
**shall not** indicates an interdiction (prohibition) to do something
> The constructions \"shall\" and \"shall not\" are confined to the context of
> normative provisions, and do not appear in Technical Reports.
>
> The constructions \"must\" and \"must not\" are not used as substitutes for
> \"shall\" and \"shall not\". Their use is avoided insofar as possible, and
> they are not used in a normative context except in a direct citation from an
> external, referenced, non-3GPP document, or so as to maintain continuity of
> style when extending or modifying the provisions of such a referenced
> document.
**should** indicates a recommendation to do something
**should not** indicates a recommendation not to do something
**may** indicates permission to do something
**need not** indicates permission not to do something
> The construction \"may not\" is ambiguous and is not used in normative
> elements. The unambiguous constructions \"might not\" or \"shall not\" are
> used instead, depending upon the meaning intended.
**can** indicates that something is possible
**cannot** indicates that something is impossible
The constructions \"can\" and \"cannot\" shall not to be used as substitutes
for \"may\" and \"need Not\".
**will** indicates that something is certain or expected to happen as a result
of action taken by an agency the behaviour of which is outside the scope of
the present document
**will not** indicates that something is certain or expected not to happen as
a result of action taken by an agency the behaviour of which is outside the
scope of the present document
**might** indicates a likelihood that something will happen as a result of
action taken by some agency the behaviour of which is outside the scope of the
present document
**might not** indicates a likelihood that something will not happen as a
result of action taken by some agency the behaviour of which is outside the
scope of the present document
In addition:
**is** (or any other verb in the indicative mood) indicates a statement of
fact
**is not** (or any other negative verb in the indicative mood) indicates a
statement of fact
The constructions \"is\" and \"is not\" do not indicate requirements.
# 1 Scope
The present document continues the study on charging aspects of network
slicing covered by TR 32.845 [2] but no longer limited to charging data
collection functionalities without quota management as specified for Network
Slice management charging in TS 28.202 [3] and for Network slice performance
and analytics charging in 3GPP TS 28.201 [4].
The following is studied:
\- Network slice converged charging for Network Slices enabled over 3GPP 5GS;
\- Correlation aspects between Network Slice charging and the end user
charging accessing the Network Slice;
\- Inter-Provider (B2B) charging aspects by considering the different
Organizations (e.g. MNO, Verticals).
The Converged Charging service aspects associated to the TR 23.700-40 [5]
conclusion on network slice information is also considered.
# 2 References
The following documents contain provisions which, through reference in this
text, constitute provisions of the present document.
\- References are either specific (identified by date of publication, edition
number, version number, etc.) or nonâ€‘specific.
\- For a specific reference, subsequent revisions do not apply.
\- For a non-specific reference, the latest version applies. In the case of a
reference to a 3GPP document (including a GSM document), a non-specific
reference implicitly refers to the latest version of that document _in the
same Release as the present document_.
[1] 3GPP TR 21.905: \"Vocabulary for 3GPP Specifications\".
[2] 3GPP TR 32.845: \"Charging management; Study on charging aspects of
network slicing".
[3] 3GPP TS 28.202: \"Charging management; Network slice management charging
in the 5G System (5GS); Stage 2\".
[4] 3GPP TS 28.201: \"Charging management; Network slice performance and
analytics charging in the 5G System (5GS); Stage 2\".
[5] 3GPP TR 23.700-40: \"Study on enhancement of network slicing; Phase 2".
[6] GSMA 5GJA NG.116: \"Generic Network Slice Template\".
[7] 3GPP TS 23.501: \"System Architecture for the 5G System (5GS); Stage 2\".
[8] 3GPP TS 28.530: \"Management and orchestration; Concepts, use cases and
requirements\".
[9] 3GPP TS 32.255: \"Telecommunication management; Charging management; 5G
data connectivity domain charging; Stage 2\".
[10] 3GPP TS 32.256: \"Telecommunication management; Charging management; 5G
connection and mobility domain charging; stage 2\".
[11] 3GPP TS 23.502: \"Procedures for the 5G System; Stage 2\".
[12] 3GPP TS 23.288: \"Architecture enhancements for 5G System (5GS) to
support network data analytics services\".
[13] 3GPP TS 28.532: \"Management and orchestration; Generic management
services\".
[14] 3GPP TS 28.554: \"Management and orchestration; 5G end to end Key
Performance Indicators (KPI) Generic management services\".
[15] 3GPP TS 28.552: \"Management and orchestration; 5G performance
measurements\".
[16] 3GPP TS 32.240: \"Telecommunication management; Charging management;
Charging architecture and principles\".
[17] 3GPP TS 28.541: \"Management and orchestration; 5G Network Resource Model
(NRM);Stage 2 and stage 3\".
# 3 Definitions of terms, symbols and abbreviations
## 3.1 Terms
For the purposes of the present document, the terms given in TR 21.905 [1] and
the following apply. A term defined in the present document takes precedence
over the definition of the same term, if any, in TR 21.905 [1].
## 3.2 Symbols
Void.
## 3.3 Abbreviations
For the purposes of the present document, the abbreviations given in TR 21.905
[1] and the following apply. An abbreviation defined in the present document
takes precedence over the definition of the same abbreviation, if any, in TR
21.905 [1].
5GJA 5G Joint Activity (Initiative of NG)
AMF Access and Mobility Management Function
CEF Charging Enablement Function
CHF Charging Function
CSC **Communication Service Customer**
CSP **Communication Service Provider**
EPS Evolved Packet System
GSM Global System for Mobile Communications
GSMA GSM Association
GST Generic Network Slice Template
MnS Management Service
NEST Network Slice Types
NG Networks Group (GSMA WG)
NOP **Network Operator**
**NS** Network Slice
NSC **Network Slice Customer**
NSI Network Slice Instance
NSP Network Slice Provider
NSSAA Network Slice-specific Authentication and Authorization
NSSAAF Network Slice-Specific Authentication and Authorization Function
NWDAF Network Data Analytics Function
PDU Protocol Data Unit
SMF Session Management Function
S-NSSAI Single Network Slice Selection Assistance Information
# 4 General background
## 4.1 Background from GSMA
GSMA 5GJA has specified in NG.116 [6] the concept of Generic Network Slice
Template (GST) from which several Network Slice Types (NESTs) can be derived
by assigning values to applicable attributes defined in the GST.
As per TS 23.501 [7] is the network slice a logical network that provides
specific network capabilities and network characteristics, and GSMA tailored
the network slice based on the specific requirements adhered to a Service
Level Agreement (SLA) agreed between Network Slice Customer (NSC) and Network
Slice Provider (NSP).
Multiple roles related to network slicing are defined by GSMA and displayed in
figure 4.1-1, based on some roles specified in TS 28.530 [8] and described in
TR 32.845 [2].
The Charging model will fulfil the following used roles:
**\- Communication Service Customer (CSC)** : Uses communication services,
e.g. end user, tenant, vertical.
**\- Communication Service Provider (CSP)** : Provides communication services.
Designs, builds and operates its communication services. The CSP provided
communication service can be built with or without network slice.
**\- Network Operator (NOP)** : Designs, builds and operates networks and
provides related services, including network services and network slices.
**\- Network Slice Customer (NSC):** The CSP or CSC who uses Network Slice as
a Service.
**\- Network Slice Provider (NSP):** The CSP or NOP who provides Network Slice
as a Service.
Depending on the scenarios an organisation can play one or several roles
simultaneously, and apply charging models based on corresponding business
relationship, e.g.:
**-** Charging models for CSP to charge CSC for using communication services
**-** Charging models for NOP to charge CSP for using their Networks and
related Network services
**-** Charging models for NOP playing NSP Role to charge CSP playing NSC Role
for using their Networks and related network slices
Figure 4.1-1: Model roles in network slicing
The GST is a set of generic attributes that can characterise a type of network
slice/service and is not tied to any specific network deployment.
The NEST is a GST filled with values. The attributes and their values are
assigned to fulfil a given set of requirements derived from a network slice
customer use case. The NEST is an input to the network slice preparation
performed by NSP. NEST-related attributes can be differentiated by a Service
Category. For instance, when an attribute of a NEST includes a Service
Category parameter and the UE subscription information includes a parameter
value associated with that Service Category, then the UE will be subject to
the differentiated service associated with the Service Category in the network
slice.
Figure 4.1-2 places the GST and NEST in the context of the network slice
lifecycle. As first step, the NSC provides the service requirements for the
use case that it would like to fulfil, to the NSP. The NSP maps the service
requirements into the attributes of the GST with the appropriate values
generating a NEST.
{width="6.269444444444445in" height="2.1041666666666665in"}
Figure 4.1-2: GST and NEST in context of the network slice lifecycle
In GSMA 5GJA NG.116 [6], there are two attributes the maximum number of UEs
and the maximum number of PDU sessions, which characterising the network slice
(one S-NSSAI) and defined as the maximum number of UEs and the maximum number
of PDU sessions that can use the network slice simultaneously.
The Network Slice Instance (NSI) concept is as used in TS 28.202 [3].
## 4.2 Background from 3GPP network architecture
The architectural requirements per TR 23.700-40 [5] are copied below to derive
potential charging requirements:
**-** Solutions have to build on the 5G System architectural principles as in
TS 23.501 [7], including flexibility and modularity for newly introduced
functionalities.
**-** Subject to operator policy and national/regional regulations, solutions
have to be able to exempt Emergency services, Multimedia Priority Service, and
Mission Critical Service from count limits.
NOTE: Handling of UE/PDU Session count exemption and any pre-emption to other
non-mission critical services is expected to be controlled by operator policy.
\- While the support of network slicing applies only to 5GS, solutions
supports subscriptions that allows EPS/5GS interworking. Therefore EPS/5GS
interworking needs to be considered for the enforcement of counts for maximum
number of UEs per network slice and for maximum number of PDU Sessions per
network slice.\"
## 4.3 Network Slice Management Charging
Network Slice Management Charging specified by TS _28.202 [3], enables the
Converged Charging System (CCS) to capture for each Network Slice instance per
TS 28.530 [8] definition, the supported list of service profiles_ representing
the Service Level Specification (SLS) between Network Slice Customer (NSC) and
Network Slice Provider (NSP).
For each _S-NSSAI, associated attributes and their values_ representing the
Service Level Specification (SLS) are available to the _Converged Charging
system, vi_ a _service profiles captured with the NetworkSlice instance._
These information are captured in NSM charging CHF record generated by CHF
upon _NetworkSlice instance creation, modification and termination._
## 4.4 Network Slice Performance and Analytics Charging
Network Slice Performance and Analytics Charging specified by TS _28.201 [4],
enables the Converged Charging System (CCS) via CEF (Charging Enablement
Function) to_ obtain _the performance and analytics information from MnS
procedure specified in TS 28.532 [_ 13 _]_ and/or _NWDAF_ described in TS
23.288 [12]_._
The charging information (e.g. Latency, Number of PDU sessions and Number of
registered Subscribers) is collected per Single Network Slice Selection
Assistance Information (S-NSSAI). NSPA charging CHF record generated by CHF
for each network slice (i.e. S-NSSAI)_._
_The definition of KPI measurement is present as the following:_
\- The number of PDU sessions: PDUSesMaxNbr KPI describes the maximum number
of PDU sessions that are successfully established in a network slice, as
specified in TS 28.554 [14] clause 6.4.5. The measurement of PDUSesMaxNbr is
obtained by sampling at a pre-defined interval, the number of PDU sessions
established by SMF (SM.SessionNbrMax.SNSSAI), and then selecting the maximum
value, as specified in the TS 28.552 [15] clause 5.3.1.2.
\- The number of registered Subscribers: AMFMaxRegNbr KPI describe the maximum
number of subscribers that are registered to a network slice, as specified in
TS 28.554 [14] clause 6.2.6.The measurement of AMFMaxRegNbr is obtained by
sampling at a pre-defined interval the number of registered subscribers in an
AMF (RM.RegisteredSubNbrMax.SNSSAI) and then taking the maximum, as specified
in the TS 28.552 [15] clause 5.2.1.2.
## 4.5 Different types of maximum
There are today three definitions of the maximum:
\- In the GSMA GST, GSMA 5GJA NG.116 [6], it is possible to specify the
maximum number UEs and PDU sessions allowed to of simultaneous use a network
slice, also aligned with the OAM, TS 28.541[17].
\- The NSACF, TS 23.501 [7] clause 5.15.11, allows for monitoring and
controlling the number of registered UEs per network slice and the number of
PDU Sessions per network slice.
\- The OAM, TS 28.554 [14] clauses 6.2.6 and 6.4.5, measures the number of UEs
or PDU sessions on a network slice at specific interval and may give the
maximum value of these.
From this it can be noticed that the GSMA and NSACF are aligned in the
definition as it may control the maximum as well as monitoring it, the OAM
provided 5G end to end Key Performance Indicators (KPI) in TS 28.554 [14] is
more of a measurement where samples are taken at certain interval and after
that there may be a maximum or median value calculated for a period. This
means in the OAM case that the values may have been higher than the reported
one if the sample was taken before and after a peak. OAM Service profile in TS
28.541[17] is the configuration of the network slice which can be obtained by
NSACF and CHF.
When the concept of \"maximum\" is used in this specification, the GSMA/NSACF
definition and service profile received by OAM is assumed.
# 5 Potential charging requirements
**REQ-NSCH-01** The 5G charging framework should support converged charging
per S-NSSAI.
**REQ-NSCH-02** The 5G charging framework should support converged charging
per S-NSSAI, based on \"number of UEs\".
**REQ-NSCH-03** The 5G charging framework should support converged charging
per S-NSSAI, based on \"number of PDU sessions\".
**REQ-NSCH-04** The 5G charging framework should support converged charging
per S-NSSAI, based on \"number of UEs\", exempting Emergency Registered UEs
**REQ-NSCH-05** The 5G charging framework should support converged charging
per S-NSSAI, based on \"number of PDU sessions\", exempting Emergency
services, Multimedia Priority Service, and Mission Critical Service.
**REQ-NSCH-06** The 5G charging framework should support converged charging
per S-NSSAI, based on \"number of UEs\", including UEs connected in the EPS.
**REQ-NSCH-07** The 5G charging framework should support converged charging
per S-NSSAI, based on \"number of PDU sessions\", including PDN connections in
the EPS.
**REQ-NSCH-08** The 5G charging framework should support converged charging
per tenant based on assigned group of S-NSSAI(s).
**REQ-NSCH-09** The 5G charging framework should support converged charging
per S-NSSAI, based on \"aggregated PDU sessions volume\".
**REQ-NSCH-10 void**
**REQ-NSCH-11** The 5G charging framework should support individual UE
converged charging based on Network Slice usage charging criteria.
**REQ-NSCH-12** The 5G charging framework should support converged charging
per S-NSSAI for the time an S-NSSAI is used.
**REQ-NSCH-13** The 5G charging framework should support converged charging
for UE Network Slice-specific Authentication and Authorization (NSSAA)
invocation towards a 3^rd^ party for network slice access.
# 6 Key Issues
## 6.1 Key Issue #1: Converged Charging for simultaneous number of UEs/max.
number of UEs per network slice
### 6.1.0 General Description
This key issue is for investigating how to support network slice access based
converged charging service on simultaneous/max. number of UEs, considering
**REQ-NSCH-01, REQ-NSCH-02, REQ-NSCH-04, REQ-NSCH-06**.
The maximum number of UEs is one of the attributes in the GST documented in
GSMA 5GJA NG.116 [6] characterising the network slice (one S-NSSAI) and
defined as the maximum number of UEs that can use the network slice
simultaneously. The max. number of UEs that can use the network slice
simultaneously is one criteria for usage control of network slice, it is
therefore an aspect to be considered for converged charging. Since the maximum
number of simultaneous UEs can part of the offering and in the extension part
of the price for the offering, then also the number of UEs that use the
network slice simultaneously can be a criterion for the charging (i.e. rate
and cost). For example, if during a period it never goes above a specific
number of simultaneous UEs one price and if it does go above another price.
This investigation covers the following:
\- determination of \"number of UEs\"/max. number of UEs per slice that can
use the network slice simultaneously to be used as a criteria for converged
charging service;
\- identification of the main charging information to be collected in addition
to \"number of UEs\"/max. number of UEs;
\- determination of the main interactions with the NF or service usage to
obtain the network slice authorization and usage based on \"number of
UEs\"/max. number of UEs;
\- determination of all needed charging information for online and offline
charging methods.
For the sake of simplification, \"number of UEs\" refers to \"number of UEs
that can use the network slice simultaneously\".
### 6.1.1 Solution#1.1 New NetworkSliceConvergedCharging service to NSACF --
quota request beyond _\"max Nb of Reg UEs\"_
#### 6.1.1.1 Procedure Description
This solution addresses the Key Issue #1 by considering the new 5GC NF which
has been defined as Network Slice Admission Control Function (NSACF). While
NSACF counts all UE registrations in S-NSSAI as received from the AMF(s), the
CHF/5G Converged Charging System functionalities provide the charging service
and quota management capabilities to this NSACF.
_The CHF receives and stores the_ \"Maximum Number of UEs\" via the
ConvergedCharging service, as specified in TS 28.202 [3] clause 5.1.3
\"Network Slice Management charging information\" and 6.2.1.3 Definition of
Service profile charging information. The \"max. Nb of Reg UEs\" is used in
the following clause.
As described in TS 23.501 [7] clause 5.15.11.0, , the NSACF is configured with
_\"max Nb of Reg UEs\"_.
_A new N_ etworkSliceConvergedCharging service is introduced for _this_
Network Slice quota management between the CHF and the NSACF and its use is
described in following clause. In this context, the Network Slice quota
(NS_quota) handled by the CHF relates to quota of \"Nb of Reg UEs\", with a
CCS defined maximum referred to as \"_NS Reg UEs Quota limit\"_.
In this solution, the \"_NS Reg UEs Quota limit\" may be above the \"max Nb of
Reg UEs\"_.
_During the UEs registration, the NSACF_ provides the network slice admission
control for all AMF(s) by counting the number of registered UEs against the
_\"max Nb of Reg UEs\", and once this maximum is reached NSACF will trigger_ a
request for more quota under NetworkSliceConvergedCharging service to CHF.
The following figure 6.1.1.1-1 represents the high-level entities involved in
the solution.
Figure 6.1.1.1-1 High level functional solution overview
#### 6.1.1.2 Flow description
The figure 6.1.1.2-1 describes the high-level charging procedure for Network
slice converged charging based on NS_quota handling by CHF.
Figure 6.1.1.2-1: NetworkSlice quota management - registration
The steps are with the following additions:
> 0ch. CHF gets per S-NSSAI the \"max Nb of Reg UEs\" obtained during NSI
> creation and determines the \"_NS Reg UEs Quota limit\"_.
>
> 0\. The NSACF counts the "Nb of Reg UEs" and check against the configured
> \"max Nb of Reg UEs\" value.
>
> 1\. NS admission control for UEs registrations per TS 23.502 [11].
>
> Xch-a: At least one S-NSSAI has reached the configured \"max Nb of Reg UEs\"
> value.
>
> Xch-b: the NSACF invokes the Nchf_NSConvergedCharging service for requesting
> more NS_quota of Nb of Reg UEs for the S-NSSAI.
>
> Xch-c. Account and rating control for the S-NSSAI. The S-NSSAI for which the
> configured value of "max Nb of Reg UEs" is reached will be either granted
> with more NS_quota or the request for more NS_quota is indicated as rejected
> by the CCS.
>
> Xch-d. CHF provides response to NSACF with "NS_Quota" for S-NSSAI(s) based
> on the status of step Xch-c.
>
> 2\. NS admission control for UEs registrations per TS 23.502 [11].
>
> Steps Xch-a to Xch-d can be repeated until the \"_NS Reg UEs Quota limit\"
> is reached._
### 6.1.2 Solution#1.2 NSACF (CTF) - Event based charging
#### 6.1.2.1 General
Event based charging where the thresholds values for simultaneous number of
UEs are set separately for going below (downwards) or above (upwards). This
means that when a UE is added to the network slice and it at that point passes
a upwards threshold it will trigger charging, and when a UE is removed from a
network slice and it at this point passes a downwards threshold it will
trigger charging. There may be several upwards triggers but only one
downwards.
#### 6.1.2.2 Charging information
The minimum information needed to be able to charge for the number of
simultaneous UE connected to a network slice can be found in table 6.1.2.2-1.
Table 6.1.2.2-1: Minimum charging information of simultaneous number of UEs
* * *
**Information Element** **Description** Identifier of Network Slice This field
identifies Network Slice and can be the Network Slice Instance or the S-NSSAI.
Trigger This field identifies the passing of the threshold upwards or
downwards for simultaneous number of UEs Trigger Timestamp This field holds
the time when the threshold was passed Number of simultaneous UEs This field
holds the number of simulations UEs after the passing of the threshold
* * *
#### 6.1.2.3 Trigger mechanism
Thresholds may be set at provisioning of the network slice together with other
network slice profiled information and updated by configuration changes.
#### 6.1.2.4 Architecture description
Figure 6.1.2.4-1: NSACF (CTF) converged charging architecture
#### 6.1.2.5 Flow description
The figure 6.1.2.5-1 describes the high-level charging procedure for Network
slice converged charging based on NSACF (CTF) using Nchf_NSConvergedCharging
service.
Figure 6.1.2.5-1: NSACF (CTF) and Nchf_NSConvergedCharging service event based
0ch. CHF obtains per S-NSSAI the \"max number of UEs\" during NSI creation,
corresponding to maximum value of NS_quota for \"Number of UEs\" unit.
1\. The NSACF is configured per S-NSSAI, with \"max number of UEs\" and a set
of \"Number of UEs\" intermediate thresholds (downwards and upwards triggers)
under the \"max number of UEs\".
2\. NS admission control triggered from AMF per TS 23.502 [11] clause 4.2.11
Number of UEs per network slice availability check and update procedure.
2ch-a: For a particular S-NSSAI one \"Number of UEs\" threshold is crossed or
\"max number of UEs\" is reached.
2ch-b: The NSACF invokes the Nchf_NSConvergedCharging service for reporting
used units \"Number of UEs\".
2ch-c. Account and rating control based on \"Number of UEs\" used units for
the S-NSSAI.
2ch-d. CHF provides response to NSACF.
### 6.1.3 Solution#1.3 NSACF (CTF) - Session based charging
#### 6.1.3.1 General
Session based charging where the session is started and kept as long as the
simultaneous number of UEs is above a certain value. This means that when a UE
is added to the network slice and it at that point passes the threshold it
will initiate charging, and when a UE is removed from a network slice and it
at this point it again passes the threshold it will terminate charging. In
between these the CHF may set new triggers.
#### 6.1.3.2 Charging information
The minimum information needed to be able to charge for the number of
simultaneous UE connected to a network slice can be found in table 6.1.3.2-1.
Table 6.1.3.2-1: Minimum charging information of simultaneous number of UEs
* * *
**Information Element** **Description** Identifier of Network Slice This field
identifies Network Slice and can be the Network Slice Instance or the S-NSSAI.
Trigger This field identifies the passing of the threshold for simultaneous
number of UEs Trigger Timestamp This field holds the time when the threshold
was passed Number of simultaneous UEs This field holds the number of
simulations UEs after the passing of the threshold
* * *
#### 6.1.3.3 Trigger mechanism
The threshold may be set at provisioning of the network slice together with
other network slice profiled information and updated by configuration changes.
The CHF may provide new triggers during the charging session.
The following table 6.1.3.3-1 describes the set of thresholds and triggering
conditions:
Table 6.1.3.3-1: trigger thresholds
* * *
**Thresholds** **Trigger conditions** **Allowed to be updated by CHF** N1
Number of simultaneous UEs for triggering [initial] when crossing upwards No
N2 Number of simultaneous UEs for triggering [update] when crossing upwards
and downwards yes N3 Number of simultaneous UEs for triggering [termination]
when crossing downwards yes
* * *
#### 6.1.3.4 Architecture description
Same architecture as clause 6.1.2.4.
#### 6.1.3.5 Flow description
The figure 6.1.3.5-1 describes the high-level charging procedure for Network
slice converged charging based on NSACF (CTF) using Nchf_NSConvergedCharging
service.
Figure 6.1.3.5-1: NSACF (CTF) and Nchf_NSConvergedCharging service session
based
> Steps 0ch to 1: same as flow in clause 6.1.2.5
2\. NS admission control triggered from AMF per TS 23.502 [11] per clause
4.2.11 Number of UEs per network slice availability check and update
procedure.
2ch-a: For a particular S-NSSAI one trigger occurs: one \"Number of UEs\"
threshold is crossed for initial.
2ch-b: The NSACF invokes the Nchf_NSConvergedCharging service initial and
reporting of used units \" Number of UEs\".
2ch-d. CHF provides response to NSACF, with possible new triggers.
3\. NS admission control triggered from AMF per TS 23.502 [11] Number of UEs
per network slice availability check and update procedure.
3ch-a: For a particular S-NSSAI one trigger occurs: one \" Number of UEs\"
threshold is crossed for update or termination.
3ch-b: The NSACF invokes the Nchf_NSConvergedCharging service update or
release and reporting of used units \" Number of UEs\".
3ch-c. Account and rating control.
3ch-d. CHF provides response to NSACF, with possible new triggers for the next
step.
#### 6.1.3.6 Charging scenarios
Determination of passing a threshold for a network slice using Session based
charging (SCUR).
Figure 6.1.3.6-1: SCUR -- UE addition or removal to network slice
**0) Threshold configured as initial trigger: N1.**
**1) UE to be added:** A UE is to be added to the network slice.
**2) Trigger evaluated:** the NSACF (CTF) determines that the addition of the
UE would cause the N1 threshold to be passed.
**3) Charging Data Request [Initial]:** the NSACF (CTF) starts the charging
session by sending a request to the CHF for the passing of the threshold.
**4) Account, Rating Control:** the CHF may use the information to rate and
make deductions from customer\'s account balance.
**5) Create CDR:** the CHF creates a CDR related to the service.
**6) Charging Data Response [Initial]:** the CHF informs the NSACF (CTF) on
the result of the request, the CHF may provide new thresholds indicated with
corresponding operation \"update or termination\": e.g. N2 (update), N3
(termination).
**7) UE added:** The UE is added to the network slice.
**8) UE to be added or removed:** a UE is to be added to or removed from the
network slice.
**9) Trigger evaluated:** the NSACF (CTF) determines that the change in number
of UE would cause a CHF provided (e.g. N2) to be passed.
**10) Charging Data Request [Update]:** the NSACF (CTF) updates the charging
session by sending a request to the CHF for the passing of the threshold.
**11) Account, Rating Control:** the CHF may use the information to rate and
make deductions from customer\'s account balance.
**12) Update CDR:** the CHF updates the CDR related to the service.
**13) Charging Data Response [Update]:** the CHF informs the NSACF (CTF) on
the result of the request. The CHF may provide new thresholds indicated with
corresponding operation \"update or termination\" overriding step 6 triggers.
**14) UE added:** if the trigger was addition of UE then the UE is added to
the network slice.
**15) UE removed:** a UE is to be removed from the network slice.
**16) Trigger evaluated:** the NSACF (CTF) determines that the removal of UE
would cause the termination threshold trigger (e.g. N3) to be passed.
**17) Charging Data Request [Termination]:** the NSACF (CTF) terminates the
charging session by sending a request to the CHF for the passing of the
threshold.
**18) Account, Rating Control:** the CHF may use the information to rate and
make deductions from customer\'s account balance.
**19) Close CDR:** the CHF closes the CDR related to the service.
**20) Charging Data Response [Termination]:** the CHF informs the NSACF (CTF)
on the result of the request.
### 6.1.4 Solution#1.4 NSACF and CEF - Event based charging
#### 6.1.4.1 General
The general description, charging information and triggers for this solution
are the same as for solution#1.2. Use of Nchf_NSConvergedCharging service from
CEF.
#### 6.1.4.2 Architecture description
Figure 6.1.4.2-1: NSACF converged charging architecture - CEF
#### 6.1.4.3 Flow description
The figure 6.1.4.3-1 describes the high-level charging procedure for Network
slice converged charging based on CEF using Nchf_NSConvergedCharging service
and NSACF service.
Figure 6.1.4.3-1: CEF and use of NSACF service
0ch and 1: same as clause 6.1.2.5 (with CEF instead of NSACF)
2\. Use of Nnsacf_SliceEventExposure_Subscribe/Unsubscribe service exposed by
NSACF to subscribe to be notified on \" Number of UEs\" intermediate
thresholds or \"max number of UEs\" per TS 23.502 [11] clause 4.15.3.2.10
flows and NSACF services.
3\. Use of Nnsacf_SliceEventExposure_Notify received by CEF based on
subscribed thresholds.
3ch-a to 3ch-d: same as steps 2ch-a to 2ch-d as clause 6.1.2.5 (with CEF
instead of NSACF).
### 6.1.5 Solution#1.5 NSACF and CEF - Session based charging
#### 6.1.5.1 General
The general description, charging information and triggers for this solution
are the same as for solution#1.3. Use of Nchf_NSConvergedCharging service from
CEF
#### 6.1.5.2 Architecture description
Same architecture as clause 6.1.4.2.
#### 6.1.5.3 Flow description
The figure 6.1.5.3-1 describes the high-level charging procedure for Network
slice converged charging based on CEF using Nchf_NSConvergedCharging service
and NSACF service.
Figure 6.1.5.3-1: CEF and use of NSACF service -- session based
0ch and 3: same as clause 6.1.4.3.
3ch-a to 3ch-d: same as 2ch-a to 2ch-d clause 6.1.3.5 with CEF instead of
NSACF.
4\. Nnsacf_SliceEventExposure_Notify received by CEF based on subscribed
thresholds.
4ch-a to 4ch-d: same as 3ch-a to 3ch-d clause 6.1.3.5 with CEF instead of
NSACF.
### 6.1.6 Solution#1.6 New NSACF (CTF) -- NS_quota management by CCS
#### 6.1.6.1 General Description
This solution combines solution#1.3 and parts of solution#1.1 based on Network
Slice quota management between the CHF and the NSACF, session based charging
and intermediate thresholds.
The general description is the same as clause 6.1.1.1, with the following
differences:
\- the \"CHF max Nb of Reg UEs\" correspond to the \"max Nb Reg UEs\" stored
in the CCS;
\- the \"NSACF max Nb of Reg UEs\" correspond to the \"max Nb Reg UEs\" stored
in the NSAC;
\- the \"NS Reg UEs Quota limit\" is always below the \"NSACF max Nb of Reg
UEs\";
The NSACF is configured at provisioning of the network slice, with \"NSACF max
Nb of Reg UEs\" and at least one intermediate \"Nb of Reg UEs\" threshold
below the \"max Nb of Reg UEs\" for triggering the CHF.
The CHF is configured at provisioning of the network slice, with \"CHF max Nb
Reg UEs\" which is below or equal to the \"NSACF max number of PDU sessions\".
When the \"CHF max Nb Reg UEs\" is met the CHF will reject any request from
NSACF increasing the Nb Reg UEs.
During the charging session, the CHF may provide new intermediate thresholds
which override existing ones, as described in solution #1.3, associated with
trigger mechanism in clause 6.1.3.3.
In this solution #1.6, the NSACF may request for NS_quota of \"Nb of Reg UEs\"
to be granted for the S-NSSAI:
\- upon crossed threshold triggering initial;
\- upon exceeding NS_quota previously supplied by CHF;
NS_quota supplied by CHF may be set to the \"NS Reg UEs Quota limit\", or to a
lower value.
#### 6.1.6.2 Architecture Description
Same architecture as clause 6.1.2.4.
#### 6.1.6.3 Flow description
The flow and steps are similar as in clause 6.1.3.5 apply with CCS control of
NS-quota and \"_NS Reg UEs Quota limit\" as described in figure 6.1.6.3-1._
Figure 6.1.6.3-1: NSACF (CTF) -- CCS control of NS_quota
Step 0ch: \"NS Reg UEs Quota limit\" under the \"max Nb of Reg UEs\" for
S-NSSAI, determined by CCS,.
Step 1: NSACF configured with \"max Nb of Reg UEs\" and a set of intermediate
thresholds per S-NSSAI.
Steps 2 to 2ch-a: same as figure 6.1.3.5-1.
2ch-b: The NSACF invokes the Nchf_NSConvergedCharging service initial and
request for NS_quota of \"Nb of Reg UEs\" to be granted for the S-NSSAI.
2ch-c. CHF Account and rating control, CHF determines NS_quota to be granted,
based on \"NS Reg UEs Quota limit\".
2ch-d. CHF provides response to NSACF, with possible NS_quota.
2ch-e. NS_quota as new limit for NSACF.
Steps 3 to 3ch-d: same as figure 6.1.3.5-1
4\. NS admission control procedure per TS 23.502 [11].
4ch-a. NS_quota of \"Nb of Reg UEs\" will be exceeded with addition of a new
UE.
4ch-b: The NSACF invokes the Nchf_NSConvergedCharging service update and
request for more NS_quota.
4ch-c. CHF Account and rating control, additional NS_quota for \'Nb of Reg
UEs\" may be granted or not by CHF.
4ch-d. CHF provides response to NSACF, with possible new NS_quota, or
rejection of additional UE.
4ch-e. if supplied the new NS_quota applies, otherwise (i.e. rejection of
additional UE) the previous NS_quota applies.
5\. NS admission control procedure per TS 23.502 [11].
### 6.1.7 Evaluation
This clause evaluates the solutions for Key issue#1, they are all based on the
Nchf_ConvergedCharging service.
Solution #1.1 partially solves Key issue#1:
Pro:
\- Use of CCS capability of Network Slice quota management to dynamically
grant additional NS_quota of \"Nb of Reg UEs\", to go beyond the NSACF
configured \"max Nb of Reg UEs\" (with CCS determined \"NS Reg UEs Quota
limit\"), based on charging criteria.
Cons:
\- Not possible to apply specific rate and costs for different ranges of \"Nb
of Reg UEs\" (before the NSACF configured \"NSACF max Nb of Reg UEs\" is
reached).
\- Not possible to control NS_quota of \"Nb of Reg UEs\" below the configured
\"NSACF max Nb of Reg UEs\".
\- Allowing to go beyond \"NSACF max Nb of Reg UEs\", could lead to network
performance issues due to insufficient deployed capacity.
Solutions #1.2 and #1.4 partially solves Key issue#1:
Pro:
\- Possible to apply specific rate and costs for different ranges of \"Nb of
Reg UEs\" (before the NSACF configured \"NSACF max Nb of Reg UEs\" is reached)
using pre-configured static thresholds.
\- Event-based to CHF (No charging session): simple implementation and low
resource usage in the CHF and CTF.
Cons:
\- Not possible to go beyond the NSACF configured \"NSACF max Nb of Reg UEs\"
for the Network Slice.
\- Not possible to control NS_quota of \"Nb of Reg UEs\" within the configured
\"NSACF max Nb of Reg UEs\".
\- Not possible to dynamically tune the ranges of \"Nb of Reg UEs\" for
specific rate and costs.
Solutions #1.3 and #1.5 partially solve Key issue#1:
Pro:
\- Possible to apply specific rate and costs for different ranges of \"Nb of
Reg UEs\", under the NSACF configured \"NSACF max Nb of Reg UEs\".
\- Possible to dynamically tune the ranges of \"Nb of Reg UEs\" for specific
rate and costs.
Cons:
\- Not possible to go beyond the NSACF configured \"NSACF max Nb of Reg UEs\"
for the Network Slice.
\- Not possible to control NS_quota of \"Nb of Reg UEs\" within the configured
\"NSACF max Nb of Reg UEs\".
\- Charging session to CHF: in case of long NS lifetime, the corresponding
charging session will be maintained for a long time if thresholds for
termination are not crossed.
Solutions #1.5 (CEF) compared to solution #1.3 does not allow the CHF (see
clause 6.1.3.6 Charging scenarios) to act before a UE is added or removed.
Solutions #1.6 incorporate solution#1.3 and fully solves Key issue#1:
Pro:
\- Use of CCS capability of Network Slice quota management to dynamically
grant additional NS_quota of \"Nb of Reg UEs\" within the \"CHF max Nb of Reg
UEs\", based on charging criteria.
\- Possible to apply specific rate and costs for different ranges of \"Nb of
Reg UEs\", under the \"CHF max Nb of Reg UEs\".
\- Possible to dynamically tune the ranges of \"Nb of Reg UEs\" for specific
rate and costs.
\- Avoid performance issues by remaining under \"NSACF max Nb of Reg UEs\".
Cons:
\- Charging session to CHF: in case of long NS lifetime, the corresponding
charging session will be maintained for a long time if thresholds for
termination are not crossed.
For all solutions, the particular REQ-NSCH-06 is covered under the NSACF
behaviour which counts UEs connected in EPS when EPS counting is required. In
this case, the network description of the solution relates to interworking
with EPC procedures instead of 5GC procedures involving the AMF.
For all solutions, the particular REQ-NSCH-04 cannot be fulfilled: based on
clause 5.15.11.0 of TS 23.501 [11], counts in the NSACF also include emergency
registered UEs undifferentiated from registered UEs.
### 6.1.8 Conclusion
Based on clause 6.1.7 evaluation, the solution #1.6 (incorporating solution
#1.3) in clause 6.1.6 is retained.
In order to cover the usual basic charging scenarios, it is also retained to
have an event-based charging solution in addition. Since the session-based
solution #1.6 relies on NSACF (CTF) architecture of figure 6.1.2.4-1, the same
architecture applies for the event-based solution, therefore solution #1.2 is
retained.
It is concluded not to introduce in normative work for this release, the CCS
enforcement of \"NS Reg UEs Quota limit\" beyond the configured \"NSACF max Nb
of Reg UEs\" in the NSACF, described under solution #1.1.
It is concluded not to introduce in normative work for this release the new
Nchf_NSConvergedCharging service, instead the existing Nchf_ConvergedCharging
service will be re-used. Further evaluations will be needed for a different
service to be specified. Therefore solutions #1.6 and #1.2 are concluded for
normative work with Nchf_ConvergedCharging service.
## 6.2 Key Issue #2: Converged Charging for simultaneous number of PDU
sessions/max. number of PDU sessions per network slice
### 6.2.0 General Description
This key issue is for investigating how to support network slice access based
converged charging service. on concurrent number of PDU sessions/max. number
of PDU sessions, considering **REQ-NSCH-01, REQ-NSCH-03, REQ-NSCH-05, REQ-
NSCH-07**.
The maximum number of PDU sessions is one of the attributes in the GST
documented in GSMA 5GJA NG.116 [6] characterising the network slice (one
S-NSSAI) and defined as maximum number of simultaneous PDU supported by the
network slice. The number of max. number of PDU sessions is one criteria for
usage control of network slice, it is therefore an aspect to be considered for
converged charging. Since the maximum number of simultaneous PDU sessions can
be part of the offering and in the extension part of the price for the
offering, then also the number of PDU sessions that use the network slice
simultaneous can be a criterion for the charging (i.e. rate and cost). For
example, if during a period it never goes above a specific number of
simultaneous PDU sessions one price and if it does go above another price.
This investigation covers the following:
\- determination of number of simultaneous PDU sessions/max. number of PDU
sessions per slice that can use the network slice simultaneously to be used as
a criteria for converged charging service;
\- identification of the main charging information to be collected in addition
to number of simultaneous PDU sessions/max. number of PDU sessions;
\- determination of the main interactions with the NF or service usage to
obtain the network slice authorization and usage based on max number of PDU
sessions;
\- determination of all needed charging information for online and offline
charging methods.
### 6.2.1 Solution#2.1 NSACF (CTF) -- Event based charging
#### 6.2.1.1 General
This solution is the same as solution#1.2 with:
\- \"number of UEs\" and \"max number of UEs\" are replaced by \"number of the
PDU Sessions\" and "max number of PDU Sessions";
\- NS admission control triggered from SMF (instead of AMF) per TS 23.502 [11]
clause 4.2.11 Number of PDU sessions per network slice availability check and
update procedure.
### 6.2.2 Solution#2.2 NSACF (CTF) - Session based charging
#### 6.2.2.1 General
This solution is the same as solution#1.3 with:
\- \"number of UEs\" \" and \"max number of UEs\" are replaced by \"number of
the PDU Sessions\" and "max number of PDU Sessions";
\- NS admission control triggered from SMF (instead of AMF) per TS 23.502 [11]
clause 4.2.11 Number of PDU sessions per network slice availability check and
update procedure.
### 6.2.3 Solution#2.3 NSACF and CEF - Event based charging
#### 6.2.3.1 General
This solution is the same as solution#1.4 with:
\- \"number of UEs\" and \"max number of UEs\" are replaced by \"number of the
PDU Sessions\" and "max number of PDU Sessions";
\- Use of Nnsacf_SliceEventExposure_Subscribe/Unsubscribe service exposed by
NSACF to subscribe to be notified on \" Number of PDU sessions\" intermediate
thresholds or \"max number of PDU sessions\"
### 6.2.4 Solution#2.4 NSACF and CEF - Session based charging
This solution is the same as solution#1.5 with:
\- \"number of UEs\" and \"max number of UEs\" are replaced by \"number of the
PDU Sessions\" and "max number of PDU Sessions";
\- Use of Nnsacf_SliceEventExposure_Subscribe/Unsubscribe service exposed by
NSACF to subscribe to be notified on \" Number of PDU sessions\" intermediate
thresholds or \"max number of PDU sessions\".
### 6.2.5 Solution#2.5 _NSACF (CTF) -- NS quota management_
This solution is the same as solution#1.6 with:
\- NS_quota management between the NSACF and CHF of solution#1.1 combined with
solution #2.2;
\- \"number of UEs\" and \" max number of UEs\" are replaced by \"number of
the PDU Sessions\" and "max number of PDU Sessions";
\- \"NS Reg UEs Quota limit\" replaced by \"NS PDU sessions Quota limit\";
\- NS admission control on number of PDU sessions triggered from SMF (instead
of AMF) per TS 23.502 [11] clause 4.2.11.4 Number of PDU sessions per network
slice availability check and update procedure.
### 6.2.6 Evaluation
This clause evaluates the solutions for Key issue#2, they are all based on the
Nchf_ConvergedCharging service.
The same 6.1.7 Evaluation applies, with following differences:
\- Key issue#1 replaced by Key issue#2;
\- The \"number of UEs\" and \"max number of UEs\" are replaced by \"number of
the PDU Sessions\" and "max number of PDU Sessions";
\- \"NS Reg UEs Quota limit\" replaced by \"NS PDU sessions Quota limit\";
\- Solution #2.1 instead of solution #1.2;
\- Solution #2.2 instead of solution #1.3;
\- Solution #2.3 instead of solution #1.4;
\- Solution #2.4 instead of solution #1.5;
\- Solution #2.5 instead of solution #1.6.
For all solutions, the particular REQ-NSCH-07 is covered under the NSACF
behaviour which counts PDN connections in EPS when EPS counting is required.
In this case, the network description of the solution relates to interworking
with EPC procedures instead of 5GC procedures involving the SMF.
For all solutions, the particular REQ-NSCH-05 cannot be fulfilled: based on
clause 5.15.11.0 of TS 23.501 [11], counts in the NSACF also include emergency
PDN connections undifferentiated from PDN connections.
### 6.2.7 Conclusion
The same 6.1.8 conclusion applies, with following differences:
\- Clause 6.1.7 evaluation replaced by clause 6.2.6 evaluation;
\- The \"NSACF Nb of Reg UEs\" replaced by \"NSACF number of the PDU
Sessions\";
\- \"NS Reg UEs Quota limit\" replaced by \"NS PDU sessions Quota limit\";
\- Solution #2.1 instead of solution #1.2;
> \- Solution #2.5 instead of solution #1.6.
## 6.3 Key Issue #3: Volume based Converged Charging per network slice
### 6.3.1 General Description
This key issue is for investigating how to support network slice usage
converged charging based on total PDU sessions volume per S-NSSAI.
The volume considered is the aggregated PDU sessions volume.
This investigation covers the following:
\- determination of which entity/entities in the 5G system is suitable to
provide the network slice usage information based on volume;
\- determination of the main interactions required to obtain network slice
usage information based on volume.
\- identification of the main charging information to be collected;
### 6.3.2 Solution#3.1 Volume aggregation by NS Tenant CCS
#### 6.3.2.1 General description
This solution addresses the Key Issue#3 for _REQ-NSCH-09 potential requirement
and is based on functional separation between NS Tenant Converged Charging
System (CCS) and UE CCS with exchanges between them_.
Two types of subscribers are considered in the context of Network Slice: the
Tenant the Network Slice is assigned to, which is referred to as \"NS-
Tenant\", and the individual end-user \"UE\" served under the Network Slice.
Each type of subscriber is handled under a dedicated Converged Charging System
(CCS): \"Tenant CCS\" and \"UE CCS\" respectively.
\"UE CCS\" performs charging functionalities for individual UEs, and includes
in particular:
\- CHF exposing Nchf services associated to individual UEs.
\- ABMF hosting individual UE account balance, provisioned with all necessary
information related to subscribed-to services the UE has paid for.
> \- The subscription description includes in particular the subscribed NSSAI
> (set of S-NSSAI(s)).
\"Tenant CCS\" performs charging functionalities for NS-Tenant, and includes
in particular:
\- CHF exposing Charging service(s) associated to NS-Tenant.
\- ABMF hosting NS-Tenant account balance, provisioned with all necessary
information related to the Network Slice matching SLS requirements the NS-
Tenant has paid for,
\- The subscription description includes in particular the list of service
profiles subscribed-to by the NS-Tenant, each service profile with assigned
group of S-NSSAI(s).
How the account balance is provisioned with the subscriber\'s profile (for
both NS-tenant and individual UE) and various subscribed-to services is
unspecified and expected to be covered at BSS level.
The UE 5G data connectivity converged charging from SMF is specified in TS
32.255 [9] and uses Nchf_ConvergedCharging service exposed by UE CCS for
individual UE PDU session charging.
A new charging service exposed by the CHF (Tenant CCS) is defined for enabling
association between individual UE charging and NS tenant charging. This
association is achieved by UE CCS responsible for individual UE charging
consuming this new charging service exposed by the Tenant CCS.
In this solution, the volume is the charging information used for this
association: when individual UE PDU session volume charging starts, the \"UE
allowed volume\" as determined by UE-CCS is sent to the Tenant CCS, and the
Tenant CCS is then able to aggregate UEs PDU sessions volume per S-NSSAI per
Tenant. When the individual UE PDU session volume charging terminates, the
\"UE consumed volume\" is sent to the Tenant CCS which recalculates the
aggregation.
There is a possible option for intermediate reporting of \"UE allowed volume\"
and \"UE consumed volume\" to the Tenant CCS for a better volume control by
the Tenant CCS.
When Communication Service Provider (CSP) and Network Slice Provider (NSP) are
the same in the model roles of network slicing defined in clause 4.1,
deployments can choose to collocate Tenant CCS with UE CCS.
#### 6.3.2.2 Architecture description
Figure 6.3.2.2-1: Distributed charging architecture in reference point
representation.
ChX for interaction between CHF (UE CCS) and CHF (Tenant CCS)
Deployments can choose to collocate Tenant CCS with UE CCS.
#### 6.3.2.3 Flow description (Tenant specific S-NSSAI)
The figures below describe the high level charging procedure for Volume based
Network slice converged charging using the distributed architecture when the
S-NSSAI is exclusive by the tenant only.
Figure 6.3.2.3-1 describes the procedure when new UE PDU session starts:
Figure 6.3.2.3-1: Volume based Network slice converged charging -- UE PDU
session start
1\. NS tenant volume based charging per S-NSSAI covered by Tenant CCS
Steps according to TS 32.255 [9] clause 5.2.2.2.2 for individual UE charging
covered by UE CCS.
9ch-b1. UE PDU session volume charging has a dependency with NS volume
charging for this S-NSSAI: determination to trigger ChX.
9ch-b2a. Charging service request to NS Tenant CCS with S-NSSAI, UE PDU
session charging information, Tenant ID (optional) and UE requested Network
Slice Charging information including the \"UE allowed volume\" which is
determined by UE-CCS.
9ch-b2b. Account, Rating and reservation control for the S-NSSAI based on new
S-NSSAI total volume (increased by \"UE allowed volume\" received in UE PDU
session charging information).
9ch-b2c. CHF (NS Tenant CCS) provides appropriate answer in Charging service
response.
9ch-b3. Account, Rating and reservation control for individual UE.
9ch-c. CHF (UE CCS) provides appropriate answer for the individual UE.
> Figure 6.3.2.3-2 describes the procedure when UE PDU session is released:
Figure 6.3.2.3-2: Volume based Network slice converged charging -- UE PDU
session release
Steps according to TS 32.255 [9] clause 5.2.2.2.4 for individual UE charging
covered by NS UE CCS.
2ch-b1. UE PDU session volume charging has a dependency with NS volume
charging for this S-NSSAI
2ch-b2a. Charging service request to NS Tenant CCS with S-NSSAI, UE PDU
session charging information, and UE requested Network Slice Charging
information including the \" UE consumed volume.\"
2ch-b2b. Account, Rating and reservation control for the S-NSSAI based on new
S-NSSAI total volume recalculated from received UE consumed volume.
2ch-b2c. CHF (NS Tenant CCS) provides appropriate answer in Charging service
response.
#### 6.3.2.4 Flow description (Shared S-NSSAI)
The figures describes the high level charging procedure for Volume based
Network slice converged charging using the distributed architecture when the
tenants share the S-NSSAI is the same with the figure 6.3.2.3-1 and 6.3.2.3-2.
The procedure for new UE PDU session starts when the tenants share the S-NSSAI
is the same with the figure 6.3.2.3-1 with the difference is descried as the
following:
> 9ch-b1. UE PDU session volume charging has a dependency with NS volume
> charging: determination to trigger ChX.
>
> 9ch-b2a. Charging service request to Tenant CCS with S-NSSAI, Tenant ID, UE
> PDU session charging information, and UE requested Network Slice Charging
> information including the \"UE allowed volume\" which is determined by UE-
> CCS.
>
> 9ch-b2b. Account, Rating and reservation control for the Tenant ID of the
> S-NSSAI based on new S-NSSAI total volume (increased by \"UE allowed
> volume\" received in UE PDU session charging information).
The procedure for UE PDU session release when the tenants share the S-NSSAI is
the same with the figure 6.3.2.3-2 with the difference is descried as the
following:
> 2ch-b2a. Charging service request to NS Tenant CCS with S-NSSAI, Tenant ID
> (optional), UE PDU session charging information, and UE requested Network
> Slice Charging information including the \"UE consumed volume.\"
>
> 2ch-b2b. Account, Rating and reservation control for Tenant ID of the
> S-NSSAI based on new S-NSSAI total volume recalculated from received UE
> consumed volume.
>
> 2ch-b2c. CHF (NS Tenant CCS) provides appropriate answer in Charging service
> response.
### 6.3.3 Solution#3.2 Volume control by CCS based on performance collection
#### 6.3.3.1 General description
This solution addresses the Key Issue#3 for _REQ-NSCH-09 potential requirement
and is based on volume control by CCS based on performance collection for a
S-NSSAI via CEF._
The Tenant the Network Slice is assigned to, is referred to as \"NS-Tenant\"
and handled under a Converged Charging System (CCS) \"Tenant CCS\" hosting NS-
Tenant account balance.
This solution is based on TS 28.201 [4] mechanisms, considering the total
volume of aggregated PDU sessions per S-NSSAI is part of the Network slice
performance and analytics (NSPA) charging information. The Mns Producer is
responsible to collect volume from UPFs, and to aggregate per S-NSsAI. and to
notify on volume thresholds triggers supplied by CCS.
This solution is based on successive volume blocks reservation by CCS which
are gradually debited based on volume collected under NSPA Charging.
During this mechanism, interaction with BSS takes place to either call for a
recharge, notify the cost for recorded extra-volume, or revoke the NS-Tenant
from using the S-NSSAI.
#### 6.3.3.2 Architecture description
The architecture for this solution is TS 28.201 [4] Figure 4.2.2-1: Network
slice performance and analytics converged charging architecture.
#### 6.3.3.3 Flow description
The following figure 6.3.3.3-1 describes the high level charging procedure for
Volume control by CCS based on performance collection:
Figure 6.3.3.3-1: Volume control by CCS based on performance collection
1\. NS tenant volume based charging per S-NSSAI covered by Tenant CCS; account
with maximum volume allowed Vm. Account, rating and reservation control for
V1, V2, ... Vn (with V1+V2+..Vn \ Solutions #3.1 allows to support network slice usage converged charging
> based on total PDU sessions volume per S-NSSAI aggregation by NS Tenant CCS
> interacting UE CCS during with individual UE charging.
>
> Pros:
\- Same NF source (i.e. SMF) used for volume usage collection by both
individual UE and aggregation
\- Good level of accuracy of NS volume usage
\- No need for a new NF in the signalling path for PDU session handling since
it relies on existing individual UE PDU session charging with UE CCS.
\- When NS volume limit is reached, new PDU sessions can be rejected.
\- Approaching NS volume limit can be anticipated.
> Cons:
\- high level signalling between NS tenant CHFs interfacing many UE CHFs
(based on each CCS can have multiple CHFs).
\- NS tenant CCS has to maintain the actual NS total volume usage.
Solutions #3.2 allows to support network slice usage converged charging based
on _volume control by CCS based on performance collection for a S-NSSAI via
CEF_
> Pros:
\- NS tenant CCS interfacing limited number of entities (aggregation handled
by MnS producers)
\- No need for NS tenant CCS to maintain the actual NS total volume usage
> Cons:
\- Different sources used for volume usage collection (i.e. SMF for individual
UE and UPFs for NS tenant) resulting in different nature of volume being
counted.
\- Risk of high mismatch between sum of individual UEs volume and NS total
volume
\- Risk of significant delay between when NS volume was actually consumed and
when account and rating control is processed for this volume.
\- No possibility for immediate stop by NS tenant CCS when NS volume crosses
the limit.
The major drawback of the solution #3.2 is to be more in \"offline charging\"
fashion by the lack of \"online charging\" control capabilities on actual
usage which can be better achieved by solution #3.1.
Drawbacks of the solution #3.1 can be resolved under appropriate deployment
options. When Communication Service Provider (CSP) and Network Slice Provider
(NSP) are the same, deployments can choose to collocate Tenant CCS with UE CCS
to simplify implementation. This deployment option is valid when the \"Maximum
Number of UEs\" allowed to access the NS Tenant(s) S-NSSAI is not too high.
For large deployments, the full solution#3.1 with separate UE CCS and NS
Tenant CCS distributed architecture is more appropriate to enable multiple UE
CCSs to interact with a particular NS Tenant CCS.
### 6.3.5 Conclusions
It is concluded for Key issue #3, to specify partial solution #3.1 in Rel-17
to cover the Combined UE CCS - Tenant CCS solution option for tenant specific
S-NSSAI and Shared S-NSSAI for when the Communication Service Provider (CSP)
and Network Slice Provider (NSP) are the same. The internal structure for this
combined CCS will not be detailed.
It is concluded for Key Issue #3 to specify full solution #3.1, with interface
between UE CCS and Tenant CCS specified based on SID conclusion, per
conclusion for Key Issue #9 in clause 6.9.5.
## 6.4 void
## 6.5 void
## 6.6 Key Issue #6: UE Converged Charging based on network slice charging
### 6.6.1 General Description
This key issue is for investigating how to support UE Converged Charging
influenced by network slice converged charging of the network slice serving
the UE.
UE Converged Charging is based on criteria related to the Network Slice
serving a UE. For example, the tenant has paid for a Network Slice allowing a
large number of UEs and when the load level of network slice is low, wants
some UE to be allowed with a lower tariff for using Network resources.
This investigation covers the following:
\- determination of which entity/entities is/are suitable to provide the
network slice level of charging information for UE Converged Charging.
\- determination of the main interactions for UE Converged Charging to be
influenced by network slice converged charging.
\- identification of the main charging information.
### 6.6.2 Solution#6.1 NS Tenant CCS separated from UE CCS
#### 6.6.2.1 General description
This solution addresses the Key Issue#6 for _REQ-NSCH-01, and REQ-NSCH-11
potential requirements and is based on_ distributed charging architecture
split between _NS Tenant Converged Charging System (CCS) and UE CCS and
exchanges between them_.
Two types of subscribers are considered in the context of Network Slice: the
Tenant the Network Slice is assigned to, which is referred to as \"NS-
Tenant\", and the individual end-user \"UE\" served under the Network Slice.
Each type of subscriber is handled under a dedicated Converged Charging System
(CCS): \"Tenant CCS\" and \"UE CCS\" respectively.
\"UE CCS\" performs charging functionalities for individual UEs, and includes
in particular:
\- CHF exposing Nchf services associated to individual UEs.
\- ABMF hosting individual UE account balance, provisioned with all necessary
information related to subscribed-to services the UE has paid for.
\- The subscription description includes in particular the subscribed NSSAI
(set of S-NSSAI(s)).
\"Tenant CCS\" performs charging functionalities for NS-Tenant, and includes
in particular:
\- CHF exposing Charging service(s) associated to NS-Tenant.
\- ABMF contains NS-Tenant account balance, provisioned with all necessary
information related to the Network Slice matching SLS requirements the NS-
Tenant has paid for,
\- The subscription description includes in Particular. the list of service
profiles subscribed-to by the NS-Tenant, each service profile with assigned
group of S-NSSAI(s).
How the account balance is provisioned with the subscriber\'s profile (for
both NS-Tenant and individual UE) and various subscribed-to services is
unspecified and expected to be covered at BSS level.
The UE 5G data connectivity converged charging from SMF is specified in TS
32.255 [9] and uses Nchf_ConvergedCharging service exposed by UE CCS for
individual UE PDU session charging.
The Registration management converged charging from AMF is specified in TS
32.256 [10] and uses Nchf_ConvergedCharging service exposed by UE CCS for
individual UE registration.
A new charging service exposed by the CHF (Tenant CCS) is defined for enabling
association between individual UE charging and NS tenant charging. This
association is achieved by UE CCS responsible for individual UE charging
consuming this new charging service exposed by the Tenant CCS.
In this solution, the NS Tenant charging information used for individual UE
charging can include a various set of information such as \"Max nb of PDU
sessions\", \"Nb of PDU sessions\", \"load level\", \"Max nb of registered
UEs\", \"Nb of registered UEs\".
When Communication Service Provider (CSP) and Network Slice Provider (NSP) are
the same in the model roles of network slicing defined in clause 4.1,
deployments can choose to collocate Tenant CCS with UE CCS.
#### 6.6.2.2 Architecture description
Figure 6.6.2.2-1: Distributed charging architecture in reference point
representation.
ChX for interaction between CHF (UE CCS) and CHF (Tenant CCS)
Deployments can choose to collocate Tenant CCS with UE CCS.
#### 6.6.2.3 Flow description
The figure 6.6.2.3-1 describes the high level charging procedure for UE PDU
session converged Charging influenced by Network slice converged charging
using distributed charging architecture.
Figure 6.6.2.3-1: UE PDU session converged Charging influenced by Network
slice converged charging
1ch. NS Tenant NSM charging per S-NSSAI covered by Tenant CCS: obtained
S-NSSAI in service profile: \"Max nb of PDU sessions\", \"Max nb of UEs\"...
2ch. NS Tenant NSPA based charging per S-NSSAI covered by Tenant CCS: obtained
S-NSSAI KPIs.
Steps according to TS 32.255 [9] clause 5.2.2.2.2 for individual UE charging
covered by UE CCS.
9ch-b1. UE PDU session charging needs input from NS charging for this S-NSSAI.
Examples of requested input: \"Max nb of PDU sessions\", \"Nb of PDU
sessions\", \"load level\"...
9ch-b2a. Charging service request to Tenant CCS (S-NSSAI, UE PDU session
charging information, UE requested NS charging information).
9ch-b2b. Based on received \"UE requested NS charging information\", Tenant
CCS correlates with existing NS charging information for the S-NSSAI: NSM
charging information (\"Max nb of PDU sessions\"..), NSPA charging information
(\"Nb of PDU sessions (increased by one for considering the new PDU
session)\", \"load level\",..)...
9ch-b2c. CHF (Tenant CCS) provides \"UE supplied NS charging information\" in
Charging service response.
9ch-b3. Account, Rating and reservation control for individual UE based on
\"UE supplied NS charging information\".
9ch-c. CHF (UE CCS) provides appropriate answer for the individual UE.
The figure 6.6.2.3-2 describes the high level charging procedure for UE
registration converged Charging influenced by Network slice converged charging
using distributed charging architecture.
Figure 6.6.2.3-2: UE Registration converged Charging influenced by Network
slice converged charging
1ch. NS Tenant NSM charging per S-NSSAI covered by Tenant CCS: obtained
S-NSSAI in service profile: \"Max nb of PDU sessions\", \"Max nb of UEs...\"
2ch. NS Tenant NSPA based charging per S-NSSAI covered by Tenant CCS: obtained
S-NSSAI KPIs
Steps according to TS 32.256 [10] clause 5.2.2.2.4 for individual UE
registration charging covered by UE CCS.
16ch-b1. Allowed S-NSSAI(s) in the Allowed NSSAI received for UE registration
converged charging, needs input from NS charging. Examples for criteria: \"Max
nb of registered UEs\", \"Nb of registered UEs\", \"load level\"...
16ch-b2. For each allowed S-NSSAI for which this association is needed:
16ch-b2a. Charging service request to Tenant CCS (S-NSSAI, UE registration
charging information, UE requested NS charging information).
16ch-b2b. Based on received \"UE requested NS charging information\",
correlates with existing NS charging information for the S-NSSAI: NSM charging
information (\"Max nb of UEs\"..), NSPA charging information (\"Nb of
registered UEs (increased by one for considering the new registration)\",
\"load level\",..)...
16ch-b2c. CHF (Tenant CCS) provides \"UE supplied NS charging information\" in
Charging service response.
16ch-b3. Account, Rating and reservation control for individual UE based on
\"UE supplied NS charging information\".
16ch-c. CHF (UE CCS) provides appropriate answer for the individual UE.
### 6.6.3 Solution#6.2 NWDAF based Network slice charging
#### 6.6.3.1 General description
This solution addresses the Key Issue#6 for _REQ-NSCH-01, and REQ-NSCH-11
potential requirements and is similar as solution#6.1, where the NWDAF is used
instead of Mns Producer for_ NS-Tenant Charging information.
The following set of Analytics of Table 7.1-2 of TS 23.288 [12] are not
relevant for criteria at \"Network Slice\" level:
\- NF Load information (NF level)
\- Network Performance information (Area of interest, RAN via OAM)
\- UE mobility information (UE level)
\- UE Communication information (UE level)
\- Expected UE behavioural parameters (UE level)
\- UE Abnormal behaviour information (UE level)
\- User Data Congestion information (Area of Interest)
\- QoS Sustainability (Area of Interest)
\- Session Management Congestion Control Experience (SMF level)
\- Redundant Transmission Experience (SMF level)
\- WLAN performance (WLAN level)
\- DN Performance (DN level)
\- Dispersion (UE level)
#### 6.6.3.2 Architecture description
Figure 6.6.3.2-1: NWDAF based Network slice charging
NOTE: The architecture part representing CEF/NWDAF can be part of architecture
in TS 32.240 [16] figure 4.2.4.1: Logical ubiquitous charging architecture for
management domain.
#### 6.6.3.3 Flow description
The flows are the same as:
\- Figure 6.6.2.3-1: UE PDU session converged Charging influenced by Network
slice converged charging
\- Figure 6.6.2.3-2: UE Registration converged Charging influenced by Network
slice converged charging
With the difference the CEF (consumer of the NWDAF) is used for steps 1ch and
2ch, instead of MnS Producer/CEF for the purpose of NS charging collection of
S-NSSAI charging information (KPIs...). Instead of NSM charging information
and NSPA charging information, analytics which could be obtained from NWDAF
are those of Table 6.2.1.3-1 in TS 28.201 [4] and \"max Nb of UEs\" is assumed
as known by the NS Tenant CCS.
### 6.6.4 Solution#6.3 NSACF based Network slice charging -- CEF based
#### 6.6.4.1 General description
This solution addresses the Key Issue#6 for _REQ-NSCH-01, and REQ-NSCH-11
potential requirements and is based Network slice charging performed based on
NSACF and CEF_.
#### 6.6.4.2 Architecture description
Figure 6.6.4.2-1: NSACF based Network slice charging
#### 6.6.4.3 Flow description
The following figure 6.6.4.3-1 describes the high level charging procedure for
_UE PDU session Converged Charging_ influenced by Network slice converged
charging based on NSACF.
Figure 6.6.4.3-1: UE PDU session converged Charging influenced by Network
slice converged charging based on NSACF
1\. Same steps as Figure 6.1.4.3-1 for solution #2.3 or Figure 6.1.5.3-1. for
solution #2.4: CEF use of Nnsacf_SliceEventExposure_Subscribe/Unsubscribe
service exposed by NSACF for getting notified on \"number of PDU Sessions\"
intermediate thresholds or \"maximum number of PDU Sessions\" reported to CHF.
2\. Same steps as Figure 6.6.2.3-1 between UE, SMF, UE CCF and Tenant CCS
with:
9ch-b1. UE PDU session charging needs NS charging information \"Number of PDU
sessions\" and \"maximum number of PDU Sessions\" for this S-NSSAI.
9ch-b2a. Charging service request to Tenant CCS (S-NSSAI, UE PDU session
charging information, UE requested NS charging information=\" Number of PDU
sessions\" and \"maximum number of PDU Sessions\").
9ch-b2b. Tenant CCS correlates received UE charging information with existing
content of NS charging information for the S-NSSAI for \"Number of PDU
sessions\" and \"maximum number of PDU Sessions\"
> 9ch-b2c. CHF (Tenant CCS) provides \"Number of PDU sessions\" and \"maximum
> number of PDU Sessions\" in Charging service response.
3\. Account, Rating and reservation control for individual UE based on NS
charging information \"Number of PDU sessions\" and \"maximum number of PDU
Sessions\".
The following figure 6.6.4.3-2 describes the high-level charging procedure for
_UE Registration Converged Charging_ influenced by Network slice converged
charging based on NSACF.
Figure 6.6.4.3-2: UE Registration converged Charging influenced by Network
slice converged charging based on NSACF
1\. Same steps as Figure 6.1.4.3-1 or Figure 6.1.5.3-1: CEF use of
Nnsacf_SliceEventExposure_Subscribe/Unsubscribe service exposed by NSACF for
getting notified on \"number of "UEs registered\" intermediate thresholds or
\"maximum number of UEs\" reported to CHF.
2\. Same steps as Figure 6.6.2.3-2 between UE, AMF, UE CCF and Tenant CCS
with:
16ch-b1. Allowed S-NSSAI(s) in the Allowed NSSAI received for UE registration
converged charging, needs NS charging information \"Number of registered UEs\"
and \"Maximum number of UEs\".
16ch-b2a. Charging service request to Tenant CCS (S-NSSAI, UE registration
charging information, UE requested NS charging information \"Number of
registered UEs\" and \"Maximum number of UEs\" ).
16ch-b2b. Tenant CCS correlates received UE charging information with existing
content of NS charging information for the S-NSSAI for \"Number of registered
UEs\" and \"Maximum number of UEs\".
16ch-b2c. CHF (Tenant CCS) provides \"Number of registered UEs\" and \"Maximum
number of UEs\" in Charging service response.
3\. Account, Rating and reservation control for individual UE based on NS
charging information \"Number of registered UEs\" and \"Maximum number of
UEs\".
### 6.6.5 Solution#6.4 NSACF based Network slice charging -- CTF based
#### 6.6.5.1 General description
This solution addresses the Key Issue#6 for _REQ-NSCH-01, and REQ-NSCH-11
potential requirements and is based Network slice charging performed based on
NSACF (CTF)_.
#### 6.6.5.2 Architecture description
Figure 6.6.5.2-1: NSACF (CTF) based Network slice charging
#### 6.6.5.3 Flow description
The following figure 6.6.5.3-1 describes the high level charging procedure for
_UE PDU session Converged Charging_ influenced by Network slice converged
charging based on NSACF (CTF).
Figure 6.6.5.3-1: UE PDU session converged Charging influenced by Network
slice converged charging based on NSACF
1\. Same steps as Figure 6.1.6.3-1 referred-to for solution #2.5: Tenant CCS
(instead of UE CCS) control of NS_quota under use of Nchf_ConvergedCharging
service.
2\. Same steps as Figure 6.6.2.3-1 between UE, SMF, UE CCS and Tenant CCS
with:
9ch-b1. UE PDU session charging needs NS charging information related to \"Nb
of PDU sessions\" for this S-NSSAI.
9ch-b2a. Charging service request to Tenant CCS (S-NSSAI, UE PDU session
charging information, UE requested NS charging information related to \"Nb of
PDU sessions\").
9ch-b2b. Tenant CCS correlates received UE charging information with existing
content of NS charging information for the S-NSSAI related to \"Nb of PDU
sessions\" .
The procedure under step1 between the Tenant CCS and NSACF, takes place
independent from other steps under step 2 (i.e. between UE, SMF, UE CCS and
Tenant CCS); For the correlation in 9ch-b2b, the Tenant CCS uses the NS
charging information applicable at the time the Charging service request in
9ch-b2a is received. This correlation process does not directly trigger Tenant
CCS and NSACF interaction.
This is similar as for :
\- for solutions #6.1, where the procedure between the Tenant CCS and Mns
Producer/CEF (steps 1ch and 2ch of figure 6.6.2.3-1)
\- for solutions #6.2, where the procedure between the Tenant CCS and
NWDAF/CEF (steps 1ch and 2ch of figure 6.6.2.3-1)
\- for solutions #6.3, where the procedure between the Tenant CCS and
NSACF/CEF (step 1 of Figure 6.6.4.3-1)
> takes place independent from other steps (i.e. between UE, SMF, UE CCS and
> Tenant CCS);
The following figure 6.6.5.3-2 describes the high-level charging procedure for
UE Registration Converged Charging influenced by Network slice converged
charging based on NSACF(CTF).
Figure 6.6.5.3-2: UE Registration converged Charging influenced by Network
slice converged charging based on NSACF
1\. Same steps as Figure 6.1.6.3-1: Tenant CCS (instead of UE CCS) control of
NS_quota under use of Nchf_ConvergedCharging service .
2\. Same steps as Figure 6.6.2.3-2 between UE, AMF, UE CCS and Tenant CCS
with:
16ch-b1. Allowed S-NSSAI(s) in the Allowed NSSAI received for UE registration
converged charging, needs NS charging information related to \"Nb of Reg
UEs\".
16ch-b2a. Charging service request to Tenant CCS (S-NSSAI, UE registration
charging information, UE requested NS charging information related to \"Nb of
Reg UEs\").
> 16ch-b2b. Tenant CCS correlates received UE charging information with
> existing content of NS charging information for the S-NSSAI related to \"Nb
> of Reg UEs\".
The procedure under step1 between the Tenant CCS and NSACF, takes place
independent from other steps under step 2 (i.e. between UE, AMF, UE CCS and
Tenant CCS); For the correlation in 16ch-b2b, the Tenant CCS uses the NS
charging information applicable at the time the Charging service request in
16ch-b2a is received. This correlation process does not directly trigger
Tenant CCS and NSACF interaction.
### 6.6.6 Evaluation
All Solutions #6.1, #6.2, #6.3 and #6.4 solve Key Issue #6, the one selected
depends on which criteria are retained for NS charging to influence UE
charging. Solutions #6.1 and #6.2 can coexist and be combined . Solution #6.3
can coexist and be combined with solutions #6.1 and #6.2. As an alternatively
to solution #6.3, based on operator's choice, solution #6.4 can be selected
and coexist, and be combined with solutions #6.1 and #6.2.
### 6.6.7 Conclusion
It is concluded on solutions #6.1 (MnS solution), #6.2 (NWDAF solution), #6.3
and #6.4 (NSACF solutions) to be normative with interface between UE CCS and
Tenant CCS per conclusion for Key Issue #9 in clause 6.9.5.
## 6.7 Key Issue #7: Converged Charging for actual duration per network slice
### 6.7.0 General Description
This key issue is for investigating how to support network slice usage
converged charging based on actual duration per S-NSSAI.
The duration a network slice is in use can part of the offering and in the
extension part of the price for the offering. The duration a network slice is
in use is defined as the duration an S-NSSAI (used to identify the network
slice) have at least one active PDU session.
This investigation covers the following:
\- determination of which entity/entities in the 5G system is suitable to
provide the network slice usage information based on actual duration;
\- determination of the main interactions required to obtain network slice
usage information based on actual duration.
\- identification of the main charging information to be collected;
### 6.7.1 Solution#7.1 Duration determination by NS Tenant CCS
#### 6.7.1.1 General description
This solution addresses the Key Issue#7 for _REQ-NSCH-12 potential requirement
and is based on functional separation between NS Tenant Converged Charging
System (CCS) and UE CCS as described for solution#3.1 and solution#6.1._
For a given S-NSSAI, _the_ Tenant CCS determines the start when receiving the
first request for a UE PDU session from a _UE CCS, and determines the end when
receiving_ the release of the last UE PDU session from a UE CCS.
When Communication Service Provider (CSP) and Network Slice Provider (NSP) are
the same in the model roles of network slicing defined in clause 4.1,
deployments can choose to collocate Tenant CCS with UE CCS.
#### 6.7.1.2 Architecture description
Same architecture as clause 6.3.2.2.
#### 6.7.1.3 Flow description
The figure 6.7.1.3-1 below describes the high level charging procedure for
Duration determination by NS Tenant CCS, in IEC scenario for the NS Tenant
CCS.
Figure 6.7.1.3-1: Duration determination by Tenant CCS
> 1-2. The first UE PDU session request initiates PDU session charging
>
> 3\. UE CCS sends a Charging service request [Event] to Tenant CCS with
> S-NSSAI, UE PDU session charging start.
4\. Tenant CCS receiving the first UE PDU session charging start, determines
the start time for this S-NSSAI.
5\. Tenant CCS provides appropriate answer in Charging service response.
6\. UE PDU session procedure continuation
7-9. A second UE PDU session request initiates UE PDU session charging to a UE
CCS different from the first UE PDU session, which sends a Charging service
request [Event] to Tenant CCS
10-11. Tenant CCS receiving the second UE PDU session charging start for this
S-NSSAI, increases the counter by one and provides appropriate answer in
Charging service response.
> 12\. The last UE PDU session release initiates PDU session charging release
13\. Tenant CCS receiving the last UE PDU session charging release, determines
the end time for this S-NSSAI.
### 6.7.2 Solution#7.2 Network slice actual duration charging from the SMF
#### 6.7.2.1 General description
This solution addresses the Key Issue#7 for _REQ-NSCH-12 potential requirement
and is NS actual duration measured by CHF based on the PDU session information
from the SMF_.
#### 6.7.2.2 Architecture description
The architecture for this solution is present as the following.
Figure 6.7.2.2-1: the NS actual duration from SMF Reporting
#### 6.7.2.3 Flow description
The following figure 6.7.2.3-1 describes the high level charging procedure for
_NS actual duration based on the PDU session establishment from the SMF_.
Figure 6.7.2.3-1: NS actual duration based on the SMF reporting
1\. NS actual duration charging per S-NSSAI covered by Tenant CCS. NS duration
charging is configurated in the UE CCS and Tenant CCS, including the
relationship between S-NSSAI/User ID and Tenant ID, etc.
2\. Steps according to TS 32.255 [9] clause 5.2.2.2.2 for individual UE
charging covered by UE CCS, including the PDU session establishment and PDU
Session release.
2ch-a. SMF determinates to trigger charging service request to CHF (UE CCS)
because the UE PDU session establishment and UE PDU session release of the
S-NSSAI for the tenant.
2ch-b. CHF (UE CCS) generates the UE CDR.
2ch-c. CHF (UE CCS) provides appropriate charging data response.
3ch-a. CHF (UE CCS) reports to CHF (Tenant CCS) each received Charging Data
Request related to PDU session establishment and PDU session release for
update of PDU sessions of the S-NSSAI for the tenant.
3ch-b. Charging service request to Tenant CCS with S-NSSAI, UE PDU session
charging information, and generate the CDRs. The billing domain can analysis
the charging information in the CDRs to get the NS actual duration.
3ch-c. CHF (Tenant CCS) provides appropriate charging data response.
### 6.7.3 Solution#7.3 Network slice actual duration charging from the NSACF
#### 6.7.3.1 General description
This solution addresses the Key Issue#7 for _REQ-NSCH-12 potential requirement
and is NS actual duration measured by CHF based on the concurrency number of
PDU sessions for an S-NSSAI._
#### 6.7.3.2 Architecture description
The architecture for this solution is present as the following figure
6.7.3.2-1.
Figure 6.7.3.2-1: the NS actual duration from NSACF Reporting
#### 6.7.3.3 Flow description
The following figure 6.7.3.3-1 describes the high level charging procedure for
_NS actual duration_ measured by Tenant CCS based on NSACF reporting.
Figure 6.7.3.3-1: NS actual duration based on the NSACF reporting
1\. NS actual duration charging per S-NSSAI covered by Tenant CCS. NS during
charging is configurated in the Tenant CCS, including the relationship between
S-NSSAI and Tenant ID, etc.
2\. Steps according to TS 23.501 [11] for the network slice access control,
including the control and count the number of the PDU session.
3\. NSACF counts and aggregates the number of the PDU sessions, when NSACF
counts the number of PDU session from 0 to greater than 0, "he trigger of
\"change of the number of "he PDU session\" is armed.
3ch-a. NSACF determinates to trigger charging service request to CHF (Tenant
CCS) with the number of PDU sessions.
3ch-b. CHF (Tenant CCS) counts the duration of the network slice for tenant.
3ch-c. CHF (Tenant CCS) provides appropriate charging data response.
4\. NSACF counts and aggregates the number of the PDU session, when NSACF
counts the number of PDU session from greater than 0 to 0, "he trigger of
\"change of the number of "he PDU session\" is armed.
4ch-a. NSACF determinates to trigger charging service request to CHF (Tenant
CCS) with the number of PDU sessions and time stamp.
4ch-b. CHF (Tenant CCS) counts the duration of the network slice for tenant.
4ch-c. CHF (Tenant CCS) provides appropriate charging data response.
### 6.7.4 Solution#7.4 Network slice actual duration charging from the NWDAF
#### 6.7.4.1 General description
This solution addresses the Key Issue#7 for _REQ-NSCH-12 potential requirement
and is NS actual duration measured by Tenant CCS based on performance
collection for an S-NSSAI via NWDAF._
#### 6.7.4.2 Architecture description
The architecture for this solution is present as the following figure
6.7.4.2-1.
Figure 6.7.4.2-1: the NS actual duration from NWDAF
#### 6.7.4.3 Flow description
The following figure 6.7.4.3-1 describes the high level charging procedure for
_NS actual duration_ measured by CCS based on performance collection:
Figure 6.7.4.3-1: the NS actual duration from NWDAF
1\. NS actual duration charging per S-NSSAI covered by Tenant CCS. NS during
charging is configurated in the Tenant CCS, including the relationship between
S-NSSAI and Tenant ID, etc.
2\. CEF subscribes the change of the number of PDU session, when NWDAF
analyses the number of PDU session from 0 to greater than 0 and counts the
number of PDU session from greater than 0 to 0, NWDAF notifies the CEF with
the status of number of PDU session.
3\. CEF counts the duration of NS based on the status of the number of PDU
session.
3ch-a. CEF determinates to trigger charging service request to CHF (Tenant
CCS) with S-NSSAI, time stamp and the number of PDU sessions.
3ch-b. CHF (Tenant CCS) counts the duration of the network slice for tenant.
3ch-c. CHF (Tenant CCS) provides appropriate charging data response.
### 6.7.5 Evaluation
All Solutions #7.1, #7.2, #7.3, and #7.4 solve Key issue #7.
Solutions #7.1 and #7.2 involve UE CCS, whereas solutions #7.3 and #7.4 are
independent from UE CCS.Since it is expected for a UE to always be served by a
UE CCS, Tenant may be served by different UE CCS(s), at least one of the
solutions between Solution #7.1 and #7.2 or both of them are relevant.
It can also be noted that Solutions #7.1 and #7.2 have a simplified option
described by existing TS 32.255 [9] Annex D with the Combined UE CCS - Tenant
CCS when the Communication Service Provider (CSP) and Network Slice Provider
(NSP) are the same.
The difference between Solution #7.1 and Solution #7.2 is the handling of the
NS duration by the Tenant CCS: the Solution #7.2 relies on post-processing
analysis of CDRs, whereas the Solution #7.1 needs the Tenant CCS to be
enhanced to support the calculation of NS duration in real-time.
### 6.7.6 Conclusions
It is concluded on Solution #7.2 to be normative work, with interface between
UE CCS and Tenant CCS per conclusion for Key Issue #9 in clause 6.9.5.
## 6.8 Key Issue #8: Converged Charging for NSSAA
### 6.8.1 General Description
This key issue is for investigating how to support UE Network Slice-specific
Authentication and Authorization (NSSAA) network slice access converged
charging.
NSSAA functionality specified in clause 5.15.10 of TS 23.501 [7] is an
additional AAA-S EAP based authorization for UE to access a network slice,
after the primary authorization was granted by the PLMN under the list of
allowed S-NSSAI(s). This capability can be offered and monetized by Operators
(PLMN) to 3^rd^ party enterprises owning AAA-S.
The use case for this key issue is:
A UE has a subscription with the MNO. The MNO is the owner of NSSAF and AAA-P.
The MNO has a business relationship with the 3^rd^ party MNO for access to
network slice(s) by MNO UEs requiring Slice-Specific Authentication and
Authorisation by the 3^rd^ party. The 3^rd^ party is the owner of AAA-S.
The MNO to 3^rd^ party charging could be based number of invocations by MNO
UEs for this additional Authentication and Authorization towards the 3^rd^
party:
This investigation covers the following:
\- determination of which entity/entities in the 5G system is suitable to
provide charging information for usage of NSSAA by UE;
\- determination of the main interactions required to obtain charging
information for usage of NSSAA.
\- identification of the main charging information to be collected;
### 6.8.2 Solution#8.1 Converged Charging for NSSAA
#### 6.8.2.1 General description
This solution addresses the Key Issue#8 for _REQ-NSCH-13 and is based on use
of_ Nchf _converged charging service by 5GS Network Functions involved in UE
NSSAA procedures._
AMF interacts with CHF during NSSAA procedure with the _Network Slice-Specific
Authentication and Authorization Function (NSSAAF) for a given UE and S-NSSAI
for CHF to produce appropriate CDR._
NSSAAF interacts with CHF during NSSAA procedure _for a given UE and S-NSSAI
for CHF to produce appropriate CDR._
The solution applies for NSSAA, AAA Server triggered Network Slice-Specific
Re-authentication and Re-authorization procedure and AAA Server triggered
Slice-Specific Authorization Revocation.
The AMF Charging characteristics (Annex A of TS 32.256[10]) is extended to
include NSSAA related configuration.
NSSAAF Charging characteristics pre-configured in NSSAAF includes NSSAA
related information.
#### 6.8.2.2 Architecture description
Figure 6.8.2.2-1: NSSAAF and AMF converged charging architecture
#### 6.8.2.3 Flow description
The figure 6.8.2.3-1 below describe the high level charging procedure for
Converged Charging in PEC mode for Network Slice-Specific Authentication and
Authorization (NSSAA) procedure based on figure 4.2.9.2-1 of TS 23.502 [11]:
Figure 6.8.2.3-1: Converged Charging for NSSAA - PEC
> Steps are based on steps of figure 4.2.9.2-1 of TS 23.502 [11], with the
> following additions: [ ]{.underline}
0ch. NSSAAF Charging characteristics is pre-configured in NSSAAF indicating:
Charging active (Yes/No) for NS authentication/auth, re-authentication/re-
auth, revocation per S-NSSAI.
17ch-a to c: Charging active in NSSAAF: Charging Data Request [Event] is sent
to CHF with the result of NSSAA Authentication (EAP-Success/Failure, S-NSSAI,
GPSI) for CHF NSSAAF CDR generation
17ch-d to e: Charging active in AMF: Charging Data Request [Event] is sent to
CHF by AMF with the result of NSSAA Authentication (EAP-Success/Failure,
S-NSSAI, GPSI) for CHF AMF CDR generation
The solution for Converged Charging AAA Server triggered Network Slice-
Specific Re-authentication and Re-authorization procedure are based on figure
4.2.9.3-1 of TS 23.502 [11] with additional interactions with CHF from NSSAAF
and AMF on Nnssaaf_NSSAA_Re-AuthNotification.
The solution for Converged Charging AAA Server triggered Slice-Specific
Authorization Revocation procedure are based on figure 4.2.9.4-11 of TS 23.502
[11] with additional interactions with CHF from NSSAAF and AMF on
Nnssaaf_NSSAA_RevocationNotification.
### 6.8.3 Solution#8.2 Converged Charging for NSSAA from AAA-P
#### 6.8.3.1 General description
This solution addresses the Key Issue#8 for _REQ-NSCH-13 and is based on use
of_ Nchf _converged charging service by AAA-P involved in UE NSSAA procedures
towards a AAA-S belonging to a third party._
AAA-P interacts with CHF during NSSAA procedure _for a given UE and S-NSSAI
for CHF to produce appropriate CDR_ for charging for \"requesting
(re-)authentication/authorization\" between the owner of the NSSAAF and the
owner of the AAA-S _._
The solution applies for AAA Server triggered Network Slice-Specific Re-
authentication and Re-authorization procedure and AAA Server triggered Slice-
Specific Authorization Revocation.
AAA-P Charging characteristics pre-configured in AAA-P includes NSSAA related
configuration.
#### 6.8.3.2 Architecture description
Figure 6.8.3.2-1: AAA-P converged charging architecture
#### 6.8.3.3 Flow description
The figure 6.8.3.3-1 below describes the high-level charging procedure for
Converged Charging in PEC mode for Network Slice-Specific Authentication and
Authorization (NSSAA) procedure based on figure 4.2.9.2-1 of TS 23.502 [11]:
Figure 6.8.3.3-1: Converged Charging for NSSAA from AAA-P - PEC
> Steps are based on steps of figure 4.2.9.2-1 of TS 23.502 [11], with the
> following additions: [ ]{.underline}
0ch. AAA-P Charging characteristics is pre-configured in AAA-P indicating:
Charging active (Yes/No) for NS authentication/auth, re-authentication/re-
auth, revocation per S-NSSAI.
16ch-a to c: Charging active in AAA-P: Charging Data Request [Event] is sent
to CHF with the result of NSSAA Authentication (EAP-Success/Failure, S-NSSAI,
GPSI) for CHF CDR generation
The solution for Converged Charging AAA Server triggered Network Slice-
Specific Re-authentication and Re-authorization procedure are based on figure
4.2.9.3-1 of TS 23.502 [11] with additional interactions with CHF from AAA-P
on AAA Protocol Re-Auth Response.
The solution for Converged Charging AAA Server triggered Slice-Specific
Authorization Revocation procedure are based on figure 4.2.9.4-11 of TS 23.502
[11] with additional interactions with CHF from AAA-P on AAA Protocol
Revocation Re-Auth Response.
### 6.8.4 Evaluation
Both solutions #8.1 and #8.2 solve Key Issue#8. Solution #8.1 relies on adding
a new 5GS NF (i.e. NSSAAF) to the charging architecture with corresponding
functionalities and extending charging from AMF: these principles are in the
continuity of the charging framework evolution.
Solution #8.2 relies on adding AAA-P to the charging architecture: Although
3GPP architectures have considered interfacing AAA framework since earlier
releases, it has never been considered to introduce charging from AAA
elements, based on the AAA framework definition is not under 3GPP scope. Also
the AAA framework includes accounting functionality used by this separate
infrastructure to address sub-set of charging capabilities. With the same
rationale, the AAA-P is not appropriate.
### 6.8.5 Conclusion
It is concluded on solution #8.1 to be part of normative work.
## 6.9 Key Issue #9: Service based interface between UE CCS and Tenant CCS
### 6.9.1 General Description
This Key Issue is for investigating on the selection for the service based
interface between UE CCS and Tenant CCS to support solutions introduced with
this distributed architecture under Key Issue #3, Key Issue #6 and Key Issue
#7.
The investigation covers the following main capabilities for the service:
\- Individual UE charging information from UE CCS to Tenant CCS: e.g. UE PDU
session charging information in solution #3.1;
\- UE CHF configured with indication on \"dependency between UE charging and
NS Charging\": e.g. NS duration charging in solutions #7.2;
\- NS Tenant Charging information exchanged between UE CHF and Tenant CHF in
both directions: e.g. UE charging conditioned to NS charging information in
solutions #6.1;
This key issue relates to when standard interface between UE CCS and Tenant
CCS is required.
### 6.9.2 Solution #9.1 Reusing Nchf_ConvergedCharging service between UE CHF
and Tenant CHF
#### 6.9.2.1 General description
This solution is based on the re-use of Nchf_ConvergedCharging service between
UE CHF and Tenant CHF to address the Key Issue #9.
UE CHF is a new \"NF service consumer\" (i.e. embedding a CTF) for
Nchf_ConvergedCharging service exposed by NS Tenant (the NF service producer).
Nchf_ConvergedCharging service is enhanced to simultaneously include both UE
level and NS level charging information.
Standard interface between UE CCS and Tenant CCS is required.
#### 6.9.2.2 Architecture description
Figure 6.9.2.2-1: UE CCS -- Tenant CCS distributed architecture
#### 6.9.2.3 Flow description
The flows between UE CHF - Tenant CHF are described in clauses 6.3.2.3,
6.6.2.3, 6.6.3.3, 6.6.4.3, 6.7.1.3 and 6.7.2.3, with \"ChS Charging service
Request\" replaced by the Nchf_ConvergedCharging service enhanced for UE CHF
-Tenant CHF.
In the flows, between the UE CHF and Tenant CHF, in addition to the S-NSSAI, a
\"Tenant Id\" is considered for shared NS scenarios.
### 6.9.3 Solution #9.2 New charging service API between UE CHF and Tenant CHF
#### 6.9.3.1 General description
This solution is based on the introduction of a new charging service API
between UE CHF and Tenant CHF to address the Key Issue #9.
UE CHF is the \"NF service consumer\" of this new charging service exposed by
NS Tenant CHF (the NF service producer).
The charging service simultaneously includes both UE level and NS level
charging information.
Standard interface between UE CCS and Tenant CCS is required.
#### 6.9.3.2 Architecture description
Same architecture as clause 6.9.2.2.
#### 6.9.3.3 Flow description
The flows between UE CHF - Tenant CHF are described in clauses 6.3.2.3,
6.6.2.3, 6.6.3.3, 6.6.4.3, 6.7.1.3 and 6.7.2.3, with \"ChS Charging service
Request\" replaced by the new charging service.
In the flows, between the UE CHF and Tenant CHF, in addition to the S-NSSAI, a
\"Tenant Id\" is considered for shared NS scenarios.
### 6.9.4 Evaluation
Both solutions #9.1 and #9.2 can solve Key Issue #9.
The need to address both UE level and NS Tenant level converged charging is
already supported by existing Nchf_ConvergedCharging service of the solution
#9.1.
The solution #9.2 does not bring any new charging functionality, compared to
solution #9.1.
The solution #9.1 introduces a new paradigm with CHF having two roles
regarding the Nchf_ConvergedCharging service: as a \"NF service consumer\" of
the Nchf_ConvergedCharging service (i.e. UE CHF) and as a \"NF service
provider\" of the Nchf_ConvergedCharging service (i.e. NS Tenant CHF). This
behaviour can be introduced without changing the existing
Nchf_ConvergedCharging service principles. .
### 6.9.5 Conclusion
It is concluded on solution #9.1 to be normative, i.e.:
\- the standard interface between UE CCS and Tenant CCS is required;
\- enhancing existing Nchf_ConvergedCharging service between UE CHF and Tenant
CHF.
## 6.10 Key Issue #10: Network slice charging based on the Tenant
### 6.10.1 General Description
This key issue is for investigating how to support Network Slice Charging
based on a Tenant for addressing **REQ-NSCH-08**.
This investigation covers the following:
\- determination of the main interactions for Tenant Converged Charging.
\- identification of the main charging information.
### 6.10.2 Solution#10.1 Tenant based Network slice charging
#### 6.10.2.1 General description
This solution addresses the Key Issue #10 for _REQ-NSCH-08 and is based on
Tenant CCS handling of the set of S-NSSAI(s) assigned to the Tenant_.
#### 6.10.2.2 Architecture description
Figure 6.10.2.2-1: Network slice Tenant charging
#### 6.10.2.3 Flow description
This solution is covered under solutions addressing Key issue #3 and Key issue
#7, in which the Network Slice usage (volume and duration) is collected by the
Tenant CCS, per S-NSSAI, and this, for each S-NSSAI of the group assigned to
the Tenant.
### 6.10.3 Evaluation
It is possible for this key issue #10, to rely on conclusions for Key issue #3
and Key issue #7, i.e. clause 6.3.5 and clause 6.7.6 respectively.
### 6.10.4 Conclusion
The solution #10.1 solves Key Issue #10.
# 7 Conclusions and recommendations
The following is concluded for normative work:
\- Solutions #1.2 and #1.6 for Key Issue #1 (Converged Charging for
simultaneous number of UEs/max. number of UEs per network slice) per clause
6.1.8 conclusion;
\- Solutions #2.1 and #2.5 for Key Issue #2 (Converged Charging for
simultaneous number of PDU sessions/max. number of PDU sessions per network
slice) per clause 6.2.7 conclusion.
It is concluded following solutions to go to normative phase:
\- Solution #3.1 for Key Issue #3 (Volume based Converged Charging per network
slice) per clause 6.3.5 conclusion;
\- Solutions #6.1, #6.2, #6.3 and #6.4 for Key Issue #6 (UE Converged Charging
based on network slice charging) per clause 6.6.5 conclusion;
\- Solution #7.2 for Key Issue #7 (Converged Charging for actual duration per
network slice) per clause 6.7.6 conclusion;
\- Solution #8.1 for Key Issue #8 (Converged Charging for NSSAA) per clause
6.8.5 conclusion.
And it is recommended to incorporate the description for this normative work
into a revision of the WID on Charging Aspects of Network Slicing Phase 2.
NOTE 1: DNN will be part of the charging information available for the UE CCS
and the Tenant CCS..
NOTE 2: The availability time of a slice will be included in the definition of
the interface.
#