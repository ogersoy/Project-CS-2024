# Foreword
This Technical Specification has been produced by the 3rd Generation
Partnership Project (3GPP).
The contents of the present document are subject to continuing work within the
TSG and may change following formal TSG approval. Should the TSG modify the
contents of the present document, it will be re-released by the TSG with an
identifying change of release date and an increase in version number as
follows:
Version x.y.z
where:
x the first digit:
1 presented to TSG for information;
2 presented to TSG for approval;
3 or greater indicates TSG approved document under change control.
y the second digit is incremented for all changes of substance, i.e. technical
enhancements, corrections, updates, etc.
z the third digit is incremented when editorial only changes have been
incorporated in the document.
In the present document, modal verbs have the following meanings:
**shall** indicates a mandatory requirement to do something
**shall not** indicates an interdiction (prohibition) to do something
The constructions \"shall\" and \"shall not\" are confined to the context of
normative provisions, and do not appear in Technical Reports.
The constructions \"must\" and \"must not\" are not used as substitutes for
\"shall\" and \"shall not\". Their use is avoided insofar as possible, and
they are not used in a normative context except in a direct citation from an
external, referenced, non-3GPP document, or so as to maintain continuity of
style when extending or modifying the provisions of such a referenced
document.
**should** indicates a recommendation to do something
**should not** indicates a recommendation not to do something
**may** indicates permission to do something
**need not** indicates permission not to do something
The construction \"may not\" is ambiguous and is not used in normative
elements. The unambiguous constructions \"might not\" or \"shall not\" are
used instead, depending upon the meaning intended.
**can** indicates that something is possible
**cannot** indicates that something is impossible
The constructions \"can\" and \"cannot\" are not substitutes for \"may\" and
\"need not\".
**will** indicates that something is certain or expected to happen as a result
of action taken by an agency the behaviour of which is outside the scope of
the present document
**will not** indicates that something is certain or expected not to happen as
a result of action taken by an agency the behaviour of which is outside the
scope of the present document
**might** indicates a likelihood that something will happen as a result of
action taken by some agency the behaviour of which is outside the scope of the
present document
**might not** indicates a likelihood that something will not happen as a
result of action taken by some agency the behaviour of which is outside the
scope of the present document
In addition:
**is** (or any other verb in the indicative mood) indicates a statement of
fact
**is not** (or any other negative verb in the indicative mood) indicates a
statement of fact
The constructions \"is\" and \"is not\" do not indicate requirements.
# 1 Scope
The present document specifies the stage 3 protocol and data model for the
Nsmf Service Based Interface. It provides stage 3 protocol definitions and
message flows, and specifies the API for each service offered by the SMF other
than the Session Management Event Exposure service and Session Management
services for Non-IP Data Delivery (NIDD).
The 5G System stage 2 architecture and procedures are specified in 3GPP TS
23.501 [2] and 3GPP TS 23.502 [3].
The Technical Realization of the Service Based Architecture and the Principles
and Guidelines for Services Definition are specified in 3GPP TS 29.500 [4] and
3GPP TS 29.501 [5].
The Session Management Event Exposure Service is specified in 3GPP TS 29.508
[6]. The Session Management services for Non-IP Data Delivery (NIDD) are
specified in 3GPP TS 29.542 [37].
# 2 References
The following documents contain provisions which, through reference in this
text, constitute provisions of the present document.
\- References are either specific (identified by date of publication, edition
number, version number, etc.) or nonâ€‘specific.
\- For a specific reference, subsequent revisions do not apply.
\- For a non-specific reference, the latest version applies. In the case of a
reference to a 3GPP document (including a GSM document), a non-specific
reference implicitly refers to the latest version of that document _in the
same Release as the present document_.
[1] 3GPP TR 21.905: \"Vocabulary for 3GPP Specifications\".
[2] 3GPP TS 23.501: \"System Architecture for the 5G System; Stage 2\".
[3] 3GPP TS 23.502: \"Procedures for the 5G System; Stage 2\".
[4] 3GPP TS 29.500: \"5G System; Technical Realization of Service Based
Architecture; Stage 3\".
[5] 3GPP TS 29.501: \"5G System; Principles and Guidelines for Services
Definition; Stage 3\".
[6] 3GPP TS 29.508: \"5G System; Session Management Event Exposure Service;
Stage 3\".
[7] 3GPP TS 24.501: \"Non-Access-Stratum (NAS) protocol for 5G System (5GS);
Stage 3\".
[8] 3GPP TS 24.007: \"Mobile radio interface signalling layer 3; General
aspects\".
[9] 3GPP TS 38.413: \"NG Radio Access Network (NG-RAN); NG Application
Protocol (NGAP)\".
[10] IETF RFC 2387: \"The MIME Multipart/Related Content-type\".
[11] IETF RFC 8259: \"The JavaScript Object Notation (JSON) Data Interchange
Format\".
[12] IETF RFC 2045: \"Multipurpose Internet Mail Extensions (MIME) Part One:
Format of Internet Message Bodies\".
[13] 3GPP TS 29.571: \"5G System; Common Data Types for Service Based
Interfaces; Stage 3\".
[14] IETF RFC 7540: \"Hypertext Transfer Protocol Version 2 (HTTP/2)\".
[15] OpenAPI Initiative, \"OpenAPI Specification Version 3.0.0\",
https://spec.openapis.org/oas/v3.0.0.
[16] 3GPP TS 29.274: \"3GPP Evolved Packet System (EPS); Evolved General
Packet Radio Service (GPRS) Tunnelling Protocol for Control plane (GTPv2-C);
Stage 3\".
[17] 3GPP TS 33.501: \"Security architecture and procedures for 5G system\".
[18] IETF RFC 6749: \"The OAuth 2.0 Authorization Framework\".
[19] 3GPP TS 29.510: \"Network Function Repository Services; Stage 3\".
[20] 3GPP TS 29.518: \"5G System; Access and Mobility Management Service;
Stage 3\".
[21] 3GPP TS 23.380: \"IMS Restoration Procedures\".
[22] 3GPP TS 32.422: \"Telecommunication management; Subscriber and equipment
trace; Trace control and configuration management\".
[23] IETF RFC 7807: \"Problem Details for HTTP APIs\".
[24] 3GPP TS 23.527: \"5G System; Restoration Procedures\".
[25] 3GPP TS 32.255: \"Charging management; 5G data connectivity domain
charging; stage 2\".
[26] 3GPP TS 32.291: \"Charging management; 5G system, charging service; Stage
3\".
[27] 3GPP TS 24.301: \"Non-Access-Stratum (NAS) protocol for Evolved Packet
System (EPS); Stage 3\".
[28] 3GPP TR 21.900: \"Technical Specification Group working methods\".
[29] 3GPP TS 29.244: \"Interface between the Control Plane and the User Plane
Nodes; stage 3\".
[30] 3GPP TS 29.512: \"5G System; Session Management Policy Control Service;
Stage 3\".
[31] IETF RFC 7230: \"Hypertext Transfer Protocol (HTTP/1.1): Message Syntax
and Routing\".
[32] IETF RFC 7231: \"Hypertext Transfer Protocol (HTTP/1.1): Semantics and
Content\".
[33] 3GPP TS 23.401: \"General Packet Radio Service (GPRS) enhancements for
Evolved Universal Terrestrial Radio Access Network (E-UTRAN) access; Stage
2\".
[34] 3GPP TS 29.524: \"5G System; Cause codes mapping between 5GC interfaces;
Stage 3\".
[35] 3GPP TS 23.216: \"Single Radio Voice Call Continuity (SRVCC); Stage 2\".
[36] 3GPP TS 23.316: \"Wireless and wireline convergence access support for
the 5G System (5GS)\".
[37] 3GPP TS 29.542: \"5G System; Session Management Services for Non-IP Data
Delivery (NIDD); Stage 3\".
[38] 3GPP TS 29.519: \"5G System; Usage of the Unified Data Repository service
for Policy Control Data, Application Data and Structured Data for Exposure;
Stage 3\".
[39] 3GPP TS 23.548: \"5G System Enhancements for Edge Computing; Stage 2\".
[40] 3GPP TS 29.531: \"5G System; Network Slice Selection Services; Stage 3\".
[41] 3GPP TS 23.256: \"Support of Uncrewed Aerial Systems (UAS) connectivity,
identification and tracking; Stage 2\".
[42] 3GPP TS 23.015: \"Technical realization of Operator Determined Barring
(ODB)\".
[43] 3GPP TS 23.304: \"Proximity based Services (ProSe) in the 5G System
(5GS)\".
[44] 3GPP TS 23.247: \"Architectural enhancements for 5G multicast-broadcast
services; Stage 2\".
[45] 3GPP TS 23.007: \"Restoration procedures\".
[46] 3GPP TS 29.503: \"5G System; Unified Data Management Services; Stage 3\".
# 3 Definitions and abbreviations
## 3.1 Definitions
For the purposes of the present document, the terms and definitions given in
3GPP TR 21.905 [1] and the following apply. A term defined in the present
document takes precedence over the definition of the same term, if any, in
3GPP TR 21.905 [1].
**Alternative S-NSSAI:** Indicating a compatible S-NSSAI for an S-NSSAI in the
Allowed NSSAI that the AMF uses to replace an S-NSSAI when the S-NSSAI is not
available or congested, as specified in 3GPP TS 23.501 [2].
## 3.2 Abbreviations
For the purposes of the present document, the abbreviations given in 3GPP TR
21.905 [1] and the following apply. An abbreviation defined in the present
document takes precedence over the definition of the same abbreviation, if
any, in 3GPP TR 21.905 [1].
BP Branching Point
DNAI Data Network Access Identifier
DNN Data Network Name
HR Home Routed
HR-SBO Home Routed Session BreakOut
H-SMF Home SMF
I-SMF Intermediate SMF
JSON Javascript Object NotationNAS Non-Access Stratum
LADN Local Area Data Network
MA Multi-Access
MO Mobile Originated
MT Mobile TerminatedPSA PDU Session Anchor
RSN Redundancy Sequence Number
SM Session Management
SMF Session Management Function
SNPN Stand-alone Non-Public Network
TNGF Trusted Non-3GPP Gateway Function
TWIF Trusted WLAN Interworking Function
UAS Uncrewed Aerial System
UAV Uncrewed Aerial Vehicle
UL CL Uplink Classifier
UPF User Plane Function
USS UAS Service Supplier
UUAA USS UAV Authorization/Authentication
V-SMF Visited SMF
W-AGF Wireline Access Gateway Function
# 4 Overview
## 4.1 Introduction
Within the 5GC, the SMF offers services to NF service consumers via the Nsmf
service based interface (see 3GPP TS 23.501 [2] and 3GPP TS 23.502 [3]).
Figure 4.1-1 provides the reference model (in service based interface
representation and in reference point representation), with focus on the SMF
services specified within the present specification.
Figure 4.1-1: Reference model -- SMF
N16 is the reference point between the V-SMF and H-SMF in Home Routed (HR)
roaming cases.
N16a is the reference point between SMF and I-SMF.
N38 is the reference point between I-SMFs or V-SMFs.
The functionalities supported by the SMF are listed in clause 6.2.2 of 3GPP TS
23.501 [2].
# 5 Services offered by the SMF
## 5.1 Introduction
The SMF supports the following services.
Table 5.1-1: NF Services provided by SMF
Service Name Description Example Consumer
* * *
Nsmf_PDUSession This service manages the PDU sessions and uses the policy and
charging rules received from the PCF. The service operations exposed by this
NF service allows the consumer NFs to establish, modify and delete the PDU
sessions, and to send mobile originated data. V-SMF, H-SMF, I-SMF, SMF, AMF
Nsmf_EventExposure See 3GPP TS 29.508 [6].  
Nsmf_NIDD See 3GPP TS 29.542 [37].
Table 5.1-2 summarizes the corresponding APIs defined in this specification.
Table 5.1-2: API Descriptions
Service Name Clause Description OpenAPI Specification File apiName **Annex**
* * *
Nsmf_PDUSession 6.1 SMF PDU Session Service TS29502_Nsmf_PDUSession.yaml nsmf-
pdusession A.2
## 5.2 Nsmf_PDUSession Service
### 5.2.1 Service Description
The Nsmf_PDUSession service operates on the PDU Sessions. The service
operations exposed by this service allow other NFs to establish, modify and
release the PDU Sessions. The following are the key functionalities of this NF
service:
\- Creation, modification and deletion of SM contexts for PDU Sessions; an SM
context represents an association between the NF Service Consumer (e.g. AMF)
and the SMF for a PDU session;
\- Retrieval of SM contexts of PDU sessions (i.e. UE EPS PDN connection or
complete SM context), e.g. to move PDU sessions towards the EPC using the N26
interface or to transfer SM contexts between I-SMFs or V-SMFs over the N38
interface;
\- Creation, modification and deletion of PDU sessions between the V-SMF and
H-SMF in HR roaming scenarios, or between the I-SMF and SMF for PDU sessions
involving an I-SMF;
\- Sending of mobile originated data (received over NAS) for a PDU session to
the SMF, V-SMF in HR roaming scenarios, or I-SMF for PDU sessions involving an
I-SMF;
\- Transferring of NEF anchored mobile originated data for a PDU session to
the H-SMF in HR roaming scenarios, or SMF for PDU sessions involving an I-SMF;
\- Transferring of NEF anchored mobile terminated data for a PDU session to
the V-SMF in HR roaming scenarios, or I-SMF for PDU sessions involving an
I-SMF;
\- Association of policy and charging rules with PDU Sessions and binding the
policy and charging rules to flows;
\- Interacting with the UPF over N4 for creating, modifying and releasing user
plane sessions;
\- Process user plane events from the UPF and apply the corresponding policy
and charging rules.
The Nsmf_PDUSession service supports the following service operations.
Table 5.2.1-1: Service operations supported by the Nsmf_PDUSession service
+----------------+----------------+----------------+----------------+ | Service | Description | Operation | Example | | Operations | | | Consumer(s) | | | | Semantics | | +================+================+================+================+ | Create SM | Create an SM | Re | AMF | | Context | context in | quest/Response | | | | SMF, or in | | | | | V-SMF in HR | | | | | roaming | | | | | scenarios, or | | | | | in I-SMF | | | | | during the | | | | | I-SMF | | | | | insertion and | | | | | change | | | | | scenarios, for | | | | | a PDU session. | | | +----------------+----------------+----------------+----------------+ | Update SM | Update the SM | Re | AMF, I-SMF | | Context | context of a | quest/Response | | | | PDU session | | | | | and/or provide | | | | | the SMF with | | | | | N1 or N2 SM | | | | | information | | | | | received from | | | | | the UE or from | | | | | the AN. | | | +----------------+----------------+----------------+----------------+ | Release SM | Release the SM | Re | AMF | | Context | context of a | quest/Response | | | | PDU session | | | | | when the PDU | | | | | session has | | | | | been released. | | | +----------------+----------------+----------------+----------------+ | Notify SM | Notify the NF | Su | AMF | | Context Status | Service | bscribe/Notify | | | | Consumer about | | | | (NOTE 1) | the status of | | | | | an SM Context | | | | | of a PDU | | | | | session (e.g. | | | | | the SM Context | | | | | is released | | | | | within the | | | | | SMF). | | | +----------------+----------------+----------------+----------------+ | Retrieve SM | Retrieve an SM | Re | AMF, I-SMF, | | Context | context of a | quest/Response | | | | PDU session: | | V-SMF, SMF | | (NOTE 2) | | | | | | - from SMF, | | | | | or from V-SMF | | | | | in HR roaming | | | | | scenarios, for | | | | | 5GS to EPS | | | | | mobility; | | | | | | | | | | - from SMF | | | | | during I-SMF | | | | | insertion or | | | | | from I-SMF | | | | | during I-SMF | | | | | c | | | | | hange/removal; | | | | | | | | | | - from V-SMF | | | | | during change | | | | | of V-SMF. | | | +----------------+----------------+----------------+----------------+ | Create | Create a PDU | Re | V-SMF, I-SMF | | | session in the | quest/Response | | | | H-SMF in HR | | | | | roaming | | | | | scenarios, or | | | | | in the SMF for | | | | | PDU sessions | | | | | involving an | | | | | I-SMF. | | | +----------------+----------------+----------------+----------------+ | Update | Update a PDU | Re | V-SMF, H-SMF, | | | session in the | quest/Response | | | | H-SMF or V-SMF | | I-SMF, SMF | | | in HR roaming | | | | | scenarios, or | | | | | in the I-SMF | | | | | or SMF for PDU | | | | | sessions | | | | | involving an | | | | | I-SMF. | | | +----------------+----------------+----------------+----------------+ | Release | Release a PDU | Re | V-SMF, I-SMF | | | session in the | quest/Response | | | | H-SMF in HR | | | | | roaming | | | | | scenarios, or | | | | | in the SMF for | | | | | PDU sessions | | | | | involving an | | | | | I-SMF. | | | +----------------+----------------+----------------+----------------+ | Notify Status | Notify the NF | Su | V-SMF, I-SMF | | | Service | bscribe/Notify | | | (NOTE 3) | Consumer about | | | | | the status of | | | | | a PDU session | | | | | (e.g. the PDU | | | | | session is | | | | | released due | | | | | to local | | | | | reasons within | | | | | the SMF). | | | +----------------+----------------+----------------+----------------+ | Retrieve | Retrieve | Re | V-SMF, I-SMF | | | information | quest/Response | | | (NOTE 2) | from a PDU | | | | | session | | | | | context from | | | | | the H-SMF for | | | | | a HR PDU | | | | | session, or | | | | | from the SMF | | | | | for a PDU | | | | | session with | | | | | an I-SMF. | | | +----------------+----------------+----------------+----------------+ | Send MO Data | Send mobile | Re | AMF | | | originated | quest/Response | | | | data received | | | | | over NAS for a | | | | | PDU session | | | +----------------+----------------+----------------+----------------+ | Transfer MO | Transfer NEF | Re | V-SMF, I-SMF | | Data | anchored | quest/Response | | | | mobile | | | | (NOTE 4) | originated | | | | | data received | | | | | from AMF for a | | | | | PDU session | | | +----------------+----------------+----------------+----------------+ | Transfer MT | Transfer NEF | Re | H-SMF, SMF | | Data | anchored | quest/Response | | | | mobile | | | | (NOTE 5) | terminated | | | | | data received | | | | | from NEF for a | | | | | PDU session | | | +----------------+----------------+----------------+----------------+ | NOTE 1: This | | | | | corresponds to | | | | | the | | | | | SMConte | | | | | xtStatusNotify | | | | | service | | | | | operation | | | | | defined in | | | | | 3GPP TS | | | | | 23.502 [3]. | | | | | | | | | | NOTE 2: This | | | | | corresponds to | | | | | the | | | | | ContextRequest | | | | | service | | | | | operation | | | | | defined in | | | | | 3GPP TS | | | | | 23.502 [3]. | | | | | | | | | | NOTE 3: This | | | | | corresponds to | | | | | the | | | | | StatusNotify | | | | | service | | | | | operation | | | | | defined in | | | | | 3GPP TS | | | | | 23.502 [3]. | | | | | | | | | | NOTE 4: This | | | | | corresponds to | | | | | the | | | | | M | | | | | essageTransfer | | | | | service | | | | | operation in | | | | | clause 4.25.4 | | | | | of | | | | | 3GPP TS | | | | | 23.502 [3]. | | | | | | | | | | NOTE 5: This | | | | | corresponds to | | | | | the | | | | | M | | | | | essageTransfer | | | | | service | | | | | operation in | | | | | clause 4.25.5 | | | | | of | | | | | 3GPP TS | | | | | 23.502 [3]. | | | | +----------------+----------------+----------------+----------------+
### 5.2.2 Service Operations
#### 5.2.2.1 Introduction
See Table 5.2.1-1 for an overview of the service operations supported by the
Nsmf_PDUSession service.
#### 5.2.2.2 Create SM Context service operation
##### 5.2.2.2.1 General
The Create SM Context service operation shall be used to create an individual
SM context, for a given PDU session, in the SMF, in the V-SMF for HR roaming
scenarios, or in the I-SMF for a PDU session with an I-SMF.
It is used in the following procedures:
\- UE requested PDU Session Establishment (see clauses 4.3.2 and 4.23.5.1 of
3GPP TS 23.502 [3]);
\- EPS to 5GS Idle mode mobility, EPS to 5GS Idle mode mobility with data
forwarding or handover using N26 interface (see clauses 4.11.1, 4.23.12.3,
4.23.12.5 and 4.23.12.7 of 3GPP TS 23.502 [3]);
\- EPS to 5GS mobility without N26 interface (see clause 4.11.2.3 3GPP TS
23.502 [3]);
\- Handover of a PDU session between 3GPP access and non-3GPP access, when the
target AMF does not know the SMF resource identifier of the SM context used by
the source AMF, e.g. when the target AMF is not in the PLMN of the N3IWF (see
clause 4.9.2.3.2 of 3GPP TS 23.502 [3]), or when the UE is roaming and the
selected N3IWF is in the HPLMN (see clause 4.9.2.4.2 of 3GPP TS 23.502 [3]);
\- Handover from EPS to 5GC-N3IWF (see clause 4.11.3.1 of 3GPP TS 23.502 [3]);
\- Handover from EPC/ePDG to 5GS (see clause 4.11.4.1 of 3GPP TS 23.502 [3]);
\- Xn based or N2 based handover with I-SMF or V-SMF insertion and change (see
clauses 4.23.7.3, 4.23.11 and 4.23.12 of 3GPP TS 23.502 [3]);
\- UE Triggered Service Request with I-SMF insertion/change/removal or V-SMF
change (see clause 4.23.4.3 of 3GPP TS 23.502 [3]);
\- Registration procedure for a UE with a PDU session with I-SMF or V-SMF
insertion, change and removal (see clause 4.23.3 of 3GPP TS 23.502 [3]);
\- Handover from EPC/ePDG to 5GS with I-SMF insertion (see clause 4.23 of 3GPP
TS 23.502 [3]);
\- Handover from non-3GPP to 3GPP access with I-SMF insertion or V-SMF change,
and Handover from 3GPP to non-3GPP access with I-SMF removal (see clause
4.23.16 of 3GPP TS 23.502 [3]);
\- SMF Context Transfer procedure, LBO or no Roaming, no I-SMF (see clause
4.26.5.3 of 3GPP TS 23.502 [3]);
\- I-SMF Context Transfer procedure (see clause 4.26.5.2 of 3GPP TS 23.502
[3]);
\- 5G-RG requested PDU Session Establishment via W-5GAN (see clause 7.3.1 of
3GPP TS 23.316 [36]);
\- FN-RG related PDU Session Establishment via W-5GAN (see clause 7.3.4 of
3GPP TS 23.316 [36]);
\- Non-5G capable device behind 5G-CRG and FN-CRG requested PDU Session
Establishment via W-5GAN (see clause 4.10a of 3GPP TS 23.316 [36]);
\- Handover from 3GPP access/EPS to W-5GAN/5GC (see clause 7.6.4.1 of 3GPP TS
23.316 [36]);
\- SMF triggered I-SMF selection or removal (see clause 4.23.5.4 of 3GPP TS
23.502 [3]);
\- Multicast Session join and session establishment procedure in clause
7.2.1.3 of 3GPP TS 23.247 [44].
There shall be only one individual SM context per PDU session.
The NF Service Consumer (e.g. AMF) shall create an SM context by using the
HTTP POST method as shown in Figure 5.2.2.2.1-1.
Figure 5.2.2.2.1-1: SM context creation
1\. The NF Service Consumer shall send a POST request to the resource
representing the SM contexts collection resource of the SMF. The payload body
of the POST request shall contain:
\- a representation of the individual SM context resource to be created;
\- the requestType IE, if the Request type IE is received from the UE for a
single access PDU session and if the request refers to an existing PDU session
or an existing Emergency PDU session; the requestType IE shall not be included
for a MA-PDU session establishment request; it may be included otherwise;
\- the Old PDU Session ID, if it is received from the UE (i.e. for a PDU
session establishment for the SSC mode 3 operation);
\- the indication that the UE is inside or outside of the LADN (Local Area
Data Network) service area, if the DNN corresponds to a LADN;
\- the perLadnDnnSnssaiInd IE, indicating that the PDU Session is subject to
LADN per LADN DNN and S-NSSAI, if the AMF enforces the LADN Service Area per
LADN DNN and S-NSSAI;
\- the indication that a MA-PDU session is requested if a MA-PDU session is
requested to be established by the UE, or the indication that the PDU session
is allowed to be upgraded to a MA-PDU session if so indicated by the UE;
\- the n3gPathSwitchSupportInd IE if the AMF supports non-3GPP access path
switching while maintaining two N2 connections for non-3GPP access, the
selected SMF supports non-3GPP path switching and if the UE supports non-3GPP
access path switching as specified in clause 4.22.2.1 of 3GPP TS 23.502 [3];
\- the indication that the same PCF is required for the requested DNN and
S-NSSAI, if it is received by the AMF from UE Subscription data in the UDM,
together with the PCF ID selected by the AMF;
> \- the alternative S-NSSAI, if the NF service consumer and UE support the
> network slice replacement and it is requested to replace the S-NSSAI with
> the alternative S-NSSAI (see clause 5.15.19 of 3GPP TS 23.501 [2]);
>
> \- the alternative HPLMN S-NSSAI, if the NF service consumer and UE support
> the network slice replacement and it is requested to replace the HPLMN
> S-NSSAI with the alternative HPLMN S-NSSAI for a HR PDU session (see clause
> 5.15.19 of 3GPP TS 23.501 [2]);
\- the anType;
\- the additionalAnType, if the UE is registered over both 3GPP and Non-3GPP
accesses;
\- the cpCiotEnabled IE with the value \"True\", if the NF service consumer
(e.g. the AMF) has verified that the CIOT feature is supported by the SMF (and
for a home-routed session, that it is also supported by the H-SMF), and
Control Plane CIoT 5GS Optimisation is enabled for this PDU session;
\- the cpOnlyInd IE with the value \"True\", if the PDU session shall only use
Control Plane CIoT 5GS Optimisation;
\- the Invoke NEF indication with the value \"True\" for a home-routed PDU
session, if the cpCiotEnabled IE is set to \"True\" and data delivery via NEF
is selected for the PDU session;
\- a subscription for SM context status notification;
\- the servingNfId identifying the serving AMF;
\- trace control and configuration parameters, if trace is to be activated
(see 3GPP TS 32.422 [22]);
\- identifiers (i.e. FQDN or IP address) of N3 terminations at the W-AGF, TNGF
or TWIF, if available;
\- a subscription for DDN failure notification, if the Availability after DDN
failure event is subscribed by the UDM;
\- the upipSupported IE set to \"true\", if the UE supports User Plane
Integrity Protection with EPS and if the AMF supports the related
functionality.
> For the UE requested PDU Session Establishment procedure in home routed
> roaming scenario (see clause 4.3.2.2.2 of 3GPP TS 23.502 [3]), the NF
> Service Consumer shall provide the URI of the Nsmf_PDUSession service of the
> H-SMF in the hSmfUri IE and optionally the corresponding SMF ID, and may
> provide the URI of the Nsmf_PDUSession service of additional H-SMF(s) with
> the corresponding SMF ID(s). The V-SMF shall try to create the PDU session
> using the hSmfUri IE. If due to communication failure on the N16 interface
> the V-SMF does not receive any response from the H-SMF, then:
\- depending on operator policy, the V-SMF may try reaching the hSmfUri via an
alternate path; or
\- if additional H-SMF URI is provided, the V-SMF may try to create the PDU
session on one of the additional H-SMF(s) provided.
> For a PDU session establishment with an I-SMF (see clause 4.23.5.1 of of
> 3GPP TS 23.502 [3]), the NF Service Consumer shall provide the URI of the
> Nsmf_PDUSession service of the SMF in the smfUri IE and optionally the
> corresponding SMF ID, and may provide the URI of the Nsmf_PDUSession service
> of additional SMF(s) with the corresponding SMF ID(s). The I-SMF shall try
> to create the PDU session using the smfUri IE. If due to communication
> failure on the N16a interface the I-SMF does not receive any response from
> the SMF, then:
\- depending on operator policy, the I-SMF may try reaching the smfUri via an
alternate path; or
\- if additional SMF URI is provided, the I-SMF may try to create the PDU
session on one of the additional SMF(s) provided.
> For the UE requested PDU Session Establishment procedure, if the AMF
> determines that the RAT type is NB-IoT and the UE has already 2 PDU Sessions
> with user plane resources activated, the AMF may continue with the PDU
> Session establishment and include the cpCiotEnabled IE or cpOnlyInd IE with
> the value \"True\" to the SMF as specified in clause 4.3.2.2.1 of 3GPP TS
> 23.502 [3].
The payload body of the POST request may further contain:
\- the name of the AMF service to which SM context status notification are to
be sent (see clause 6.5.2.2 of 3GPP TS 29.500 [4]), encoded in the serviceName
attribute;
\- the remote provisioning server information, if both the AMF and SMF support
the Remote Provisioning of UEs in Onboarding Network procedures and the AMF
received the information from AUSF for remote provisioning of the UE via user
plane;
\- the Onboarding Indication, if the UE is registered for onboarding in an
SNPN;
\- the indication of Notification for SM Policy Association events with the
value \"true\" and the callback information of the PCF for the UE (i.e. the
PCF for AM Policy and possibly UE Policy) to receive the notification, if both
NF service consumer and the SMF support the \"SPAE\" feature and if the SM
Policy Association Establishment and Termination events should be reported for
the PDU session by the PCF for SM Policy to the PCF for the UE. See clause
4.3.2.2.1 of 3GPP TS 23.502 [3];
\- the satelliteBackhaulCat IE indicating the category of the satellite
backhaul used towards the 5G AN serving the UE, if the AMF is aware of that a
satellite backhaul is used towards the 5G AN;
\- the disasterRoamingInd IE set to true during the PDU session establishment
if the UE is registered for Disaster Roaming service.
2a. On success, \"201 Created\" shall be returned, the payload body of the
POST response shall contain the representation describing the status of the
request and the \"Location\" header shall be present and shall contain the URI
of the created resource. The authority and/or deployment-specific string of
the apiRoot of the created resource URI may differ from the authority and/or
deployment-specific string of the apiRoot of the request URI received in the
POST request.\ \ If the requestType IE was received in the request and set to
EXISTING_PDU_SESSION or EXISTING_EMERGENCY_PDU_SESSION (i.e. indicating that
this is a UE request for an existing PDU session or an existing emergency PDU
session), the SMF shall identify the existing PDU session or emergency PDU
session based on the PDU Session ID; in this case, the SMF shall not create a
new SM context but instead update the existing SM context and provide the
representation of the updated SM context in the \"201 Created\" response to
the NF Service Consumer.
The POST request shall be considered as colliding with an existing SM context
if:
\- this is a request to establish a new PDU session, i.e.:
\- the RequestType IE is present in the request and set to INITIAL_REQUEST or
INITIAL_EMERGENCY_REQUEST (e.g. single access PDU session establishment
request);
\- the RequestType IE and the maRequestInd IE are both absent in the request
(e.g. EPS to 5GS mobility); or
\- the maRequestInd IE is present in the request (i.e. MA-PDU session
establishment request) and the access type indicated in the request
corresponds to the access type of the existing SM context.
and either of the following conditions is met:
\- this is a request to establish a non-emergency PDU session and the request
includes the same SUPI and the same PDU Session ID as for an existing SM
context; or
\- this is a request to establish an emergency PDU session and the request
includes the same SUPI, or PEI for an emergency registered UE without a UICC
or without an authenticated SUPI, as for an existing SM context for an
emergency PDU session.
A POST request that collides with an existing SM context shall be treated as a
request for a new SM context. Before creating the new SM context, the SMF
should delete the existing SM context locally and any associated resources in
the UPF, PCF, CHF, and UDM. If the UP connection of the existing PDU session
is active, the SMF should also request (R)AN to release associated resources.
See also clause 5.2.3.3.1 for the handling of requests which collide with an
existing SM context. If the smContextStatusUri of the existing SM context
differs from the smContextStatusUri received in the POST request, the SMF
shall also send an SM context status notification (see clause 5.2.2.5)
targeting the smContextStatusUri of the existing SM context to notify the
release of the existing SM context. For a HR PDU session, if the H-SMF URI in
the request is different from the H-SMF URI of the existing PDU session, the
V-SMF should also delete the existing PDU session in the H-SMF by invoking the
Release service operation (see clause 5.2.2.9). For a PDU session with an
I-SMF, if the SMF URI in the request is different from the SMF URI of the
existing PDU session, the I-SMF should also delete the existing PDU session in
the SMF by invoking the Release service operation (see clause 5.2.2.9).
If the requestType IE was received in the request and indicates this is a
request for a new PDU session (i.e. INITIAL_REQUEST) and if the Old PDU
Session ID was also included in the request, the SMF shall identify the
existing PDU session to release and to which the new PDU session establishment
relates, based on the Old PDU Session ID.
If no GPSI IE is provided in the request, e.g. for a PDU session moved from
another access or another system, and the SMF knows that a GPSI is already
associated with the PDU session (or a GPSI is received from h-SMF for a HR PDU
session), the SMF shall include the GPSI in the response.
If the indication of Notification for SM Policy Association events was
received with the value \"true\" together with the callback information of the
PCF for the UE in the request and SM Policy Association is to be established
for the PDU session, the SMF shall provide the callback information of the PCF
for the UE to the PCF for SM Policy during SM Policy Association
Establishment.
2b. If the request does not include the \"UE presence in LADN service area\"
indication and the SMF determines that the DNN corresponds to a LADN, then the
SMF shall consider that the UE is outside of the LADN service area. The SMF
shall reject the request if the UE is outside of the LADN service area.
On failure, or redirection during a UE requested PDU Session Establishment,
one of the HTTP status code listed in Table 6.1.3.2.3.1-3 shall be returned.
For a 4xx/5xx response, the message body shall contain an SmContextCreateError
structure, including:
\- a ProblemDetails structure with the \"cause\" attribute set to one of the
application error listed in Table 6.1.3.2.3.1-3;
\- N1 SM information (PDU Session Reject), if the request included N1 SM
information, except if the error prevents the SMF from generating a response
to the UE (e.g. invalid request format).
> For the UE requested PDU Session Establishment, the SMF shall reject the
> request with \"EXCEEDED_SLICE_DATA_RATE\" application error if the SMF
> receives from the PCF that the maximum bit rate per S-NSSAI is exceeded, or
> with \"EXCEEDED_UE_SLICE_DATA_RATE\" application error if the SMF receives
> from the PCF that the maximum bit rate per S-NSSAI per UE is exceeded.
##### 5.2.2.2.2 EPS to 5GS Idle mode mobility using N26 interface (with or
without data forwarding)
The NF Service Consumer (e.g. AMF) shall request the SMF to move a UE EPS PDN
connection to 5GS using N26 interface, as follows.
Figure 5.2.2.2.2-1: EPS to 5GS Idle mode mobility using N26 interface
1\. The NF Service Consumer shall send a POST request towards the SMF (+PGW-C)
of each UE EPS PDN connection, as specified in clause 5.2.2.2.1, with the
following additional information:
\- UE EPS PDN connection, including the EPS bearer contexts, received from the
MME, representing the individual SM context resource to be created;
\- the pduSessionsActivateList attribute, including the PDU Session ID of all
the PDU session(s) to be re-activated;
\- the epsBearerCtxStatus attribute, indicating the status of all the EPS
bearer contexts in the UE, if corresponding information is received in the
Registration Request from the UE;
\- the dlDataWaitingInd attribute, indicating that DL data buffered in EPS
needs to be forwarded to the UE, if such indication is present in the Context
Response received from the MME.
2a. Upon receipt of such a request, if:
\- a corresponding PDU session is found based on the EPS bearer contexts
(after invoking a Create service operation towards the H-SMF for a Home Routed
PDU session, or towards the SMF for a PDU session with an I-SMF);
\- the default EPS bearer context of the corresponding PDU session is not
reported as inactive by the UE in the epsBearerCtxStatus attribute, if
received; and
\- it is possible to proceed with moving the PDN connection to 5GS,
then the SMF shall return a 201 Created response including the following
information:
\- PDU Session ID corresponding to the default EPS bearer ID of the EPS PDN
connection;
\- S-NSSAI assigned to the PDU session; in home routed roaming case, the
S-NSSAI for home PLMN shall be returned;
\- the allocatedEbiList attribute, containing the EBI(s) allocated to the PDU
session;
and, if the PDU session that is derived by the SMF based on the EPS bearer
contexts was requested to be re-activated, i.e. if the PDU Session ID was
present in the pduSessionsActivateList,or if DL data buffered in EPS needs to
be forwarded to the UE:
\- the upCnxState attribute set to ACTIVATING;
\- N2 SM information to request the 5G-AN to assign resources to the PDU
session (see PDU Session Resource Setup Request Transfer IE in clause 9.3.4.1
of 3GPP TS 38.413 [9]), including (among others) the transport layer address
and tunnel endpoint of the uplink termination point for the user plane data
for this PDU session (i.e. UPF\'s GTP-U F-TEID for uplink traffic).
The \"Location\" header shall be present in the POST response and shall
contain the URI of the created SM context resource.
If the epsBearerCtxStatus attribute is received in the request, the SMF shall
check whether some EPS bearer(s) of the corresponding PDU session have been
deleted by the UE but not notified to the EPS, and if so, the SMF shall
release these EPS bearers, corresponding QoS rules and QoS flow level
parameters locally, as specified in clause 4.11.1.3.3 of 3GPP TS 23.502 [3].\
\ The NF Service Consumer (e.g. AMF) shall store the association of the PDU
Session ID and the SMF ID, and store the allocated EBI(s) associated to the
PDU Session ID.
NOTE: The behaviour specified in this step also applies if the POST request
collides with an existing SM context, i.e. if the POST request includes the
same SUPI, or PEI for an emergency registered UE without a UICC or without an
authenticated SUPI, and the default EPS bearer ID received in the UE EPS PDN
connection is the same as in the existing SM context.
2b. Same as step 2b of figure 5.2.2.2.1-1. Steps 3 to 4 are skipped in this
case.
If the SMF determines that seamless session continuity from EPS to 5GS is not
supported for the PDU session, the SMF shall set the \"cause\" attribute in
the ProblemDetails structure to \"NO_EPS_5GS_CONTINUITY\".
If the default EPS bearer context of the PDU session is reported as inactive
by the UE in the epsBearerCtxStatus attribute, the SMF shall set the \"cause\"
attribute in the ProblemDetails structure to \"DEFAULT_EPS_BEARER_INACTIVE\".
3\. Same as step 3 of figure 5.2.2.3.2.2-1, if the SMF returned a 201 Created
response with the upConnectionState set to ACTIVATING and N2 SM Information,
4\. Same as step 4 of figure 5.2.2.3.2.2-1. During an EPS to 5GS Idle mode
mobility using N26 interface with data forwarding (see clause 4.11.1.3.3A of
3GPP TS 23.502 [3]), the 200 OK response shall additionally contain the CN
tunnel information for data forwarding from EPS, i.e. the forwardingFTeid
attribute or the forwarding bearer contexts to be sent to the MME in the
Context Acknowledge, based on the association between the EPS bearer ID(s) and
QFI(s) for the QoS flow(s).
##### 5.2.2.2.3 EPS to 5GS Handover Preparation using N26 interface
The NF Service Consumer (e.g. AMF) shall request the SMF to handover a UE EPS
PDN connection to 5GS using N26 interface, as follows.
Figure 5.2.2.2.3-1: EPS to 5GS handover using N26 interface
1\. The NF Service Consumer shall send a POST request, as specified in clause
5.2.2.2.1, with the following additional information:
\- UE EPS PDN connection, including the EPS bearer contexts, representing the
individual SM context resource to be created;
\- hoState attribute set to PREPARING (see clause 5.2.2.3.4.1);
\- the indication of whether direct or indirect DL data forwarding applies;
\- targetId identifying the target RAN Node ID and TAI based on the Target ID
IE received in the Forward Relocation Request message from the source MME.
NOTE 1: The Target ID IE can be set to the Target NG-RAN Node ID containing a
Global RAN Node ID and selected TAI with 3-octets length, or the Target eNB ID
containing a Global eNB ID and selected TAI with 2-octets length; for the
latter case, the NF Service Consumer, i.e. the AMF needs determine a value for
the Target NG-RAN Node ID and TAI with 3-octets length based on the local
configuration to be provided to the SMF.
2a. Upon receipt of such a request, if a corresponding PDU session is found
based on the EPS bearer contexts (after invoking a Create service operation
towards the H-SMF, for a Home Routed PDU session) and it is possible to
proceed with handing over the PDN connection to 5GS, the SMF shall return a
201 Created response including the following information:
\- hoState attribute set to PREPARING and N2 SM information to request the
target 5G-AN to assign resources to the PDU session, as specified in step 2 of
Figure 5.2.2.3.4.2-1; if the SMF was indicated in step 1 that direct data
forwarding is applicable, the SMF shall include an indication that a direct
forwarding path is available in the N2 SM information;
\- PDU Session ID corresponding to the default EPS bearer ID of the EPS PDN
connection;
\- S-NSSAI assigned to the PDU session; in home routed roaming case, the
S-NSSAI for home PLMN shall be returned;
\- allocatedEbiList, containing the EBI(s) allocated to the PDU session;
\- optional udmGroupId, containing the identity of the UDM group serving the
UE, to facilitate the UDM selection at the target AMF;
\- optional pcfGroupId, containing the identity of the PCF group for Session
Management Policy for the PDU session, to facilitate the PCF selection at the
target AMF.
The \"Location\" header shall be present in the POST response and shall
contain the URI of the created SM context resource.\ \ The NF Service Consumer
(e.g. AMF) shall store the association of the PDU Session ID and the SMF ID,
and store the allocated EBI(s) associated to the PDU Session ID.
NOTE 2: The behaviour specified in this step also applies if the POST request
collides with an existing SM context, i.e. if the POST request includes the
same SUPI, or PEI for an emergency registered UE without a UICC or without an
authenticated SUPI, and the default EPS bearer ID received in the UE EPS PDN
connection is the same as in the existing SM context.
2b. Same as step 2b of figure 5.2.2.2.1-1 with the following additions. Steps
3 and 4 of figure 5.2.2.3.8.2-1 are skipped in this case.
If the SMF determines that seamless session continuity from EPS to 5GS is not
supported for the PDU session, the SMF shall set the \"cause\" attribute in
the ProblemDetails structure to \"NO_EPS_5GS_CONTINUITY\".
When receiving a 4xx/5xx response from the SMF, the NF service consumer (e.g.
the AMF) shall regard the hoState of the SM Context to be NONE.
##### 5.2.2.2.4 I-SMF Insertion, Change or Removal during Xn based Handover
The NF Service Consumer (e.g. AMF) shall request the I-SMF (for I-SMF
insertion or change) or the SMF (for I-SMF removal) to create a SM context
during Xn based handover, as follows.
1\. The NF Service Consumer shall send a POST request, with the following
additional information:
\- N2 SM information received from the target 5G-AN (see Path Switch Request
Transfer IE in clause 9.3.4.8 of 3GPP TS 38.413 [9]);
\- additional N2 SM information received from the source 5G-AN (see Secondary
RAT Data Usage Report Transfer IE in clause 9.3.4.23 of 3GPP TS 38.413 [9]),
if any;
\- the smContextRef attribute set to the identifier of the SM Context resource
in the SMF during I-SMF insertion, or the SM Context resource in the source
I-SMF during I-SMF change or removal, and optionally the NF instance
identifier of the SMF hosting the SM Context resource;
\- the smfUri IE attribute set to the API URI of the Nsmf_PDUSession service
of the SMF during I-SMF insertion or change, and optionally the NF instance
identifier of the SMF, if the \"ACSCR\" feature is not supported by the AMF
and I-SMF.
2a. On success, the SMF shall return a 201 Created response.
The \"Location\" header shall be present in the POST response and shall
contain the URI of the created SM context resource.\ \ The NF Service Consumer
(e.g. AMF) shall store the association of the PDU Session ID and the SMF ID.
2b. Same as step 2b of figure 5.2.2.2.1-1.
If the Path Swith Request Transfer IE is included within the N2 SM Information
in the request message but the path switch failed, the message body shall
contain an SmContextCreateError structure, including:
\- N2 SM information (Path Swith Request Unsuccessful Transfer).
##### 5.2.2.2.5 I-SMF Insertion, Change or Removal during N2 based Handover
The NF Service Consumer (e.g. AMF) shall request the I-SMF (for I-SMF
insertion or change) or the SMF (for I-SMF removal) to create a SM context
during N2 based handover, as follows.
1\. The NF Service Consumer shall send a POST request, with the following
additional information:
\- N2 SM information received from the source NG-RAN (see Handover Required
Transfer IE in clause 9.3.4.14 of 3GPP TS 38.413 [9]);
\- the hoState attribute set to PREPARING (see clause 5.2.2.3.4.1);
\- the smContextRef attribute set to the identifier of the SM Context resource
in the SMF during I-SMF insertion,,or the SM Context resource in the source
I-SMF during I-SMF change or removal, and optionally the NF instance
identifier of the SMF hosting the SM Context resource;
\- the smfUri IE attribute set to the API URI of the Nsmf_PDUSession service
of the SMF during I-SMF insertion or change, and optionally the NF instance
identifier of the SMF, if the \"ACSCR\" feature is not supported by the AMF
and I-SMF.
2a. On success, the SMF shall return a 201 Created response including the
following information:
\- hoState attribute set to PREPARING and N2 SM information to request the
target 5G-AN to assign resources to the PDU session, as specified in step 2 of
Figure 5.2.2.3.4.2-1;
The \"Location\" header shall be present in the POST response and shall
contain the URI of the created SM context resource.\ \ The NF Service Consumer
(e.g. AMF) shall store the association of the PDU Session ID and the SMF ID.
2b. Same as step 2b of figure 5.2.2.2.1-1.
##### 5.2.2.2.6 Service Request with I-SMF insertion/change/removal or with
V-SMF change
The NF Service Consumer (e.g. AMF) shall request the new I-SMF or new V-SMF to
create a SM context during a Service Request with I-SMF insertion/change or
with V-SMF change, or shall request the SMF to create a SM context during a
Service Request with I-SMF removal, as follows.
Figure 5.2.2.2.6-1: Service Request with I-SMF insertion/change/removal or
with V-SMF change
1\. The NF Service Consumer shall send a POST request as specified in clause
5.2.2.2.1, with the following additional information:
\- the smContextRef attribute set to the identifier of the SM Context resource
in the SMF (for a Service Request with an I-SMF insertion) or in the old I-SMF
(for a Service Request with an I-SMF change or removal) or in the old V-SMF
(for a Service Request with a V-SMF change), and optionally the NF instance
identifier of the SMF hosting the SM Context resource.
\- the upCnxState attribute set to ACTIVATING (see clause 5.2.2.3.2.1) to
indicate the establishment of N3 tunnel User Plane resources for the PDU
Session;
\- the smfUri IE attribute set to the API URI of the Nsmf_PDUSession service
of the SMF (for a Service Request with an I-SMF insertion or change), and
optionally the NF instance identifier of the SMF, if the \"ACSCR\" feature is
not supported by the AMF and I-SMF;
\- the hSmfUri IE attribute set to the API URI of the Nsmf_PDUSession service
of the H-SMF (for a Service Request with an V-SMF change), and optionally the
NF instance identifier of the H-SMF, if the \"ACSCR\" feature is not supported
by the AMF and V-SMF.
2a. On success, the SMF shall return a 201 Created response as specified in
clause 5.2.2.2.1 with the following additional information:
\- the upCnxState attribute set to ACTIVATING;
\- N2 SM information to request the 5G-AN to assign resources to the PDU
session (see PDU Session Resource Setup Request Transfer IE in clause 9.3.4.1
of 3GPP TS 38.413 [9]), including the transport layer address and tunnel
endpoint of the uplink termination point for the user plane data for this PDU
session (i.e. UPF\'s GTP-U F-TEID for uplink traffic).
2b. Same as step 2b of figure 5.2.2.2.1-1. Steps 3 to 4 of figure
5.2.2.3.2.2-1 are skipped in this case.
##### 5.2.2.2.7 Registration procedure for a UE with a PDU session with I-SMF
or V-SMF insertion, change and removal
The NF Service Consumer (e.g. AMF) shall request the SMF to create a SM
context during UE Registration procedure for a PDU session with I-SMF or V-SMF
insertion, change and removal, as follows.
1\. Same as step 1 of 5.2.2.2.1-1, the NF Service Consumer shall send a POST
request, with the following additional information:
\- the smContextRef attribute set to the identifier of the SM Context resource
in the SMF during I-SMF or V-SMF insertion or the SM Context resource in the
I-SMF or V-SMF during I-SMF or V-SMF removal or the SM Context resource in the
old I-SMF or old V-SMF during I-SMF or V-SMF change, and optionally the NF
instance identifier of the SMF hosting the SM Context resource;
\- the upCnxState attribute set to ACTIVATING (see clause 5.2.2.3.2.1) to
indicate the establishment of N3 tunnel User Plane resources for the PDU
Session, if the UE requested to activate the PDU session;
\- if the UE is in CM-CONNECTED state during the registration procedure after
an EPS to 5GS handover (see clause 4.11.1.3.3 of 3GPP TS 23.502 [3]), the
ranUnchangedInd attribute shall be set to indicate that NG-RAN is not changed
for the PDU Session (i.e. for this case, the NG-RAN tunnel info shall be
included in SM context retrieved from old I-SMF, or old V-SMF or SMF);
\- the smfUri IE attribute set to the API URI of the Nsmf_PDUSession service
of the SMF during I-SMF insertion or change, and optionally the NF instance
identifier of the SMF, if the \"ACSCR\" feature is not supported by the AMF
and I-SMF.
2a. On success, the SMF shall return a 201 Created response.
If the SMF establishes N3 tunnel User Plane resources for the PDU Session,
e.g. due to the NF Service Consumer requesting so or due to buffered DL data
in the old I-SMF/I-UPF or old V-SMF/V-UPF (see clause 4.23.3 of 3GPP TS 23.502
[3]), the 201 Created response shall contain the following additional
information:
\- the upCnxState attribute set to ACTIVATING;
\- N2 SM information to request the 5G-AN to assign resources to the PDU
session (see PDU Session Resource Setup Request Transfer IE in clause 9.3.4.1
of 3GPP TS 38.413 [9]), including the transport layer address and tunnel
endpoint of the uplink termination point for the user plane data for this PDU
session (i.e. UPF\'s GTP-U F-TEID for uplink traffic).
If the SMF receives the ranUnchangedInd attribute set to indicate that NG-RAN
is not changed for the PDU Session, the SMF shall respond with a 201 Created
with the following additional information:
\- N2 SM information to request the 5G-AN to update UPF tunnel info of the PDU
session (see PDU Session Resource Modify Request Transfer IE in clause 9.3.4.3
of 3GPP TS 38.413 [9]), including the transport layer address and tunnel
endpoint of the uplink termination point for the user plane data for this PDU
session (i.e. UPF\'s GTP-U F-TEID for uplink traffic and NG-RAN\'s GTP-U
F-TEID for downlink traffic).
The \"Location\" header shall be present in the POST response and shall
contain the URI of the created SM context resource.\ \ The NF Service Consumer
(e.g. AMF) shall store the association of the PDU Session ID and the SMF ID.
2b. Same as step 2b of figure 5.2.2.2.1-1.
##### 5.2.2.2.8 SMF Context Transfer procedure, LBO or no Roaming, no I-SMF
The NF Service Consumer (e.g. AMF) shall request the SMF to create a SM
context during an SMF Context Transfer procedure, LBO or no Roaming, no I-SMF,
as follows.
1\. Same as step 1 of 5.2.2.2.1-1, the NF Service Consumer shall send a POST
request, with the following additional information:
\- SMF transfer indication, Old SMF ID, the identifier of the SM Context
resource in old SMF.
2a. On success, the SMF shall return a 201 Created response.
The \"Location\" header shall be present in the POST response and shall
contain the URI of the created SM context resource.\ \ The NF Service Consumer
(e.g. AMF) shall store the association of the PDU Session ID and the SMF ID.
2b. Same as step 2b of figure 5.2.2.2.1-1.
##### 5.2.2.2.9 I-SMF Context Transfer procedure
The NF Service Consumer (e.g. AMF) shall request the SMF to create a SM
context during I-SMF Context Transfer procedure, as follows.
1\. Same as step 1 of 5.2.2.2.1-1, the NF Service Consumer shall send a POST
request, with the following additional information:
\- SMF transfer indication, Old SMF ID, the identifier of the SM Context
resource in old SMF.
2a. On success, the SMF shall return a 201 Created response.
The \"Location\" header shall be present in the POST response and shall
contain the URI of the created SM context resource.\ \ The NF Service Consumer
(e.g. AMF) shall store the association of the PDU Session ID and the SMF ID.
2b. Same as step 2b of figure 5.2.2.2.1-1.
##### 5.2.2.2.10 Handover between 3GPP and non-3GPP accesses with I-SMF
insertion/removal or V-SMF change
The NF Service Consumer (e.g. AMF) shall request the I-SMF (for I-SMF
insertion during a handover from non-3GPP to 3GPP access), the V-SMF (for
V-SMF change during a handover from non-3GPP to 3GPP access) or the SMF (for
I-SMF removal during a handover from 3GPP to non-3GPP access) to create a SM
context as follows.
1\. The NF Service Consumer shall send a POST request as specified in clause
5.2.2.2.1, with the following additional information:
\- the smContextRef attribute set to the identifier of the SM Context resource
in the SMF (during I-SMF insertion), the SM Context resource in the source
I-SMF during I-SMF removal, or the SM Context resource in the source V-SMF
during V-SMF change, and optionally the NF instance identifier of the SMF
hosting the SM Context resource;
\- the smfUri IE attribute set to the API URI of the Nsmf_PDUSession service
of the SMF (during I-SMF insertion), and optionally the NF instance identifier
of the SMF, if the \"ACSCR\" feature is not supported by the AMF and I-SMF;
\- the hSmfUri IE attribute set to the API URI of the Nsmf_PDUSession service
of the H-SMF (during V-SMF change), and optionally the NF instance identifier
of the H-SMF, if the \"ACSCR\" feature is not supported by the AMF and V-SMF.
2a. Same as step 2a of figure 5.2.2.2.1-1.
2b. Same as step 2b of figure 5.2.2.2.1-1.
The SMF (for I-SMF removal during a handover from 3GPP to non-3GPP access) may
perform Network Slice Admission Control before the PDU Session is moved to the
target access (i.e., before the N3 tunnel for the PDU Session is established).
##### 5.2.2.2.11 Void
##### 5.2.2.2.12 SMF triggered I-SMF selection or removal
The NF Service Consumer (e.g. AMF) shall invoke the following procedure to
request:
\- the new I-SMF to create a SM context if the SMF (or the associated old
I-SMF) cannot serve the target DNAI; or
\- the SMF to create the SM context if an I-SMF is used for the PDU Session
and the SMF itself can serve the target DNAI hence the existing I-SMF is no
longer needed; or
\- the SMF to create the SM context if an I-SMF is used for the PDU Session
and the DNAI currently served by I-SMF is not used for the PDU Session
anymore, hence the existing I-SMF is not needed.
Figure 5.2.2.2.12-1: I-SMF selection or removal per DNAI
1\. The NF Service Consumer shall send a POST request as defined in step 1 of
Figure 5.2.2.2.6-1, with the following additional information:
\- the smContextRef attribute set to the identifier of the SM Context resource
in the SMF during I-SMF insertion, or the SM Context resource in the source
I-SMF during I-SMF change/removal, and optionally the NF instance identifier
of the SMF hosting the SM Context resource;
\- the target DNAI, if it is received in the targetDnaiInfo attribute of the
SM context status notification;
\- if the UE is in CM-CONNECTED state, the ranUnchangedInd attribute shall be
set to indicate that NG-RAN is not changed for the PDU Session (i.e. for this
case, the NG-RAN tunnel info shall be included in SM context retrieved from
old I-SMF or SMF) as specified in clause 4.23.5.4 of 3GPP TS 23.502 [3];
\- the smfUri IE attribute set to the API URI of the Nsmf_PDUSession service
of the SMF (during I-SMF insertion or change), and optionally the NF instance
identifier of the SMF, if the \"ACSCR\" feature is not supported by the AMF
and I-SMF.
2a. On success, the SMF shall return a 201 Created response, with the
following additional information:
If the SMF receives the ranUnchangedInd attribute set to indicate that NG-RAN
is not changed for the PDU Session, the SMF shall include the N2 SM
information to request the 5G-AN to update UPF tunnel info of the PDU session
(see PDU Session Resource Modify Request Transfer IE in clause 9.3.4.3 of 3GPP
TS 38.413 [9]), including the transport layer address and tunnel endpoint of
the uplink termination point for the user plane data for this PDU session
(i.e. UPF\'s GTP-U F-TEID for uplink traffic and NG-RAN\'s GTP-U F-TEID for
downlink traffic).
The \"Location\" header shall be present in the POST response and shall
contain the URI of the created SM context resource.
The NF Service Consumer (e.g. AMF) shall store the association of the PDU
Session ID and the SMF ID.
2b. Same as step 2b of figure 5.2.2.2.1-1.
#### 5.2.2.3 Update SM Context service operation
##### 5.2.2.3.1 General
The Update SM Context service operation shall be used to update an individual
SM context and/or provide N1 or N2 SM information received from the UE or the
AN, for a given PDU session, towards the SMF, or the V-SMF for HR roaming
scenarios, or the I-SMF for a PDU session with an I-SMF.
It is used in the following procedures:
\- PDU Session modification (see clause 4.3.3 of 3GPP TS 23.502 [3]);
\- UE or network requested PDU session release (see clause 4.3.4.2 and clause
4.3.4.3 of 3GPP TS 23.502 [3]);
\- UE requested MA PDU session establishment over the other access (see clause
4.22.7 of 3GPP TS 23.502 [3]);
\- UE or network-initiated MA PDU session release over a single access (see
clause 4.22 of 3GPP TS 23.502 [3]);
\- Activation or Deactivation of the User Plane connection of an existing PDU
session, i.e. establishment or release of the N3 tunnel between the AN and
serving CN (see clause 5.6.8 of 3GPP TS 23.501 [2], clauses 4.2.2.2, 4.2.3,
4.2.6, 4.2.10 and 4.9.1.3.3 of 3GPP TS 23.502 [3], clauses 7.2.2.1, 7.2.2.2,
7.2.5.2 and 7.2.5.3 of 3GPP TS 23.316 [36]) and clause 7.2.5.2 of 3GPP TS
23.247 [44];
\- Xn and N2 Handover procedures (see clauses 4.9.1, 4.23.7 and 4.23.11 of
3GPP TS 23.502 [3]);
\- Handover between 3GPP and untrusted non-3GPP access procedures (see clause
4.9.2 of 3GPP TS 23.502 [3]);
\- Inter-AMF change due to AMF planned maintenance or AMF failure (see clause
5.21.2 of 3GPP TS 23.501 [2]), or inter-AMF mobility in CM-IDLE mode (see
clauses 4.2.2.2 and 4.23.3 of 3GPP TS 23.502 [3]);
\- RAN Initiated QoS Flow Mobility (see clause 4.14.1 of 3GPP TS 23.502 [3]
and clause 8.2.5 of 3GPP TS 38.413 [9]);
\- All procedures requiring to provide N1 or N2 SM information to the SMF,
e.g. UE requested PDU Session Establishment procedure (see clause 4.3.2.2 of
3GPP TS 23.502 [3]), USS UAV Authorization/Authentication (UUAA) to carry the
UUAA authentication message during the PDU Session Establishment (see clause
5.2.3.2 of 3GPP TS 23.256 [41] and Service-level-AA container in 3GPP TS
24.501 [7]), session continuity procedure (see clause 4.3.5 of 3GPP TS 23.502
[3]);
\- EPS to 5GS Idle mode mobility, EPS to 5GS Idle mode mobility with data
forwarding or handover using N26 interface (see clause 4.11 of 3GPP TS 23.502
[3]);
\- 5GS to EPS Handover using N26 interface (see clause 4.11.1.2 of 3GPP TS
23.502 [3]);
\- 5GS to EPS Idle mode mobility using N26 interface with data forwarding (see
clause 4.11.1.3.2A of 3GPP TS 23.502 [3]);
\- PDU Session Reactivation during P-CSCF Restoration procedure via AMF (see
clause 5.8.4.3 of 3GPP TS 23.380 [21]);
\- AMF requested PDU session release due to a change of the set of network
slices for a UE where a network slice instance is no longer available (see
clause 4.3.4.2 of 3GPP TS 23.502 [3]);
\- AMF receives an \"initial request\" with PDU Session Id which already
exists in PDU session context of the UE (see clause 5.4.5.2.5 of 3GPP TS
24.501 [7]);
\- Secondary RAT Usage Data Reporting (see clause 4.21 of 3GPP TS 23.502 [3]);
\- Service Request Procedures with I-SMF change or I-SMF removal when downlink
data packets are buffered at the I-UPF (See clause 4.23.4 of 3GPP TS 23.502
[3]);
\- Connection Suspend procedure (see clause 4.8.1.2 of 3GPP TS 23.502 [3]);
\- Connection Resume in CM-IDLE with Suspend procedure (see clause 4.8.2.3 of
3GPP TS 23.502 [3]);
\- 5G-RG or Network requested PDU Session Modification via W-5GAN (see clause
7.3.2 of 3GPP TS 23.316 [36]);
\- 5G-RG or Network requested PDU Session Release via W-5GAN (see clause 7.3.3
of 3GPP TS 23.316 [36]);
\- FN-RG or Network requested PDU Session Modification via W-5GAN (see clause
7.3.6 of 3GPP TS 23.316 [36]);
\- FN-RG or Network requested PDU Session Release via W-5GAN (see clause 7.3.7
of 3GPP TS 23.316 [36]);
\- Handover between 3GPP access/5GC and W-5GAN access (see clause 7.6.3 of
3GPP TS 23.316 [36]);
\- AMF requested PDU session release due to Network Slice-Specific
(Re-)Authentication and (Re-)Authorization failure or revocation (see clauses
4.2.9.2, 4.2.9.3 and 4.2.9.4 of 3GPP TS 23.502 [3]);
\- 5G-RG requested PDU Session Establishment via W-5GAN (see clause 7.3.1 of
3GPP TS 23.316 [36]);
\- FN-RG related PDU Session Establishment via W-5GAN (see clause 7.3.4 of
3GPP TS 23.316 [36]);
\- Non-5G capable device behind 5G-CRG and FN-CRG requested PDU Session
Establishment via W-5GAN (see clause 4.10a of 3GPP TS 23.316 [36]);
\- Non-5G capable device behind 5G-CRG and FN-CRG or Network requested PDU
Session Modification via W-5GAN (see clause 4.10a of 3GPP TS 23.316 [36]);
\- Non-5G capable device behind 5G-CRG and FN-CRG or Network requested PDU
Session Release via W-5GAN (see clause 4.10a of 3GPP TS 23.316 [36]);
\- CN-initiated selective deactivation of UP connection of an existing PDU
Session associated with W-5GAN Access (see clause 7.3.5 of 3GPP TS 23.316
[36]);
\- Handover between 3GPP access / EPS and W-5GAN/5GC access (see clause 7.6.4
of 3GPP TS 23.316 [36]);
\- AMF requested PDU session release due to Control Plane Only indication
associated with PDU Session is not applicable any longer as described in 3GPP
TS 23.501 [2] clause 5.31.4.1;
\- Subscribe to / unsubscribe from the DDN failure status notification (see
clauses 4.15.3.2.7 and 4.15.3.2.9 of 3GPP TS 23.502 [3]);
\- AMF requested PDU session release due to ODB changes (see clause 2.6C.2 of
3GPP TS 23.015 [42]);
\- Simultaneous change of Branching Points or UL CLs controlled by different
I-SMFs (see clause 4.23.9.5 of 3GPP TS 23.502 [3]);
\- Remote UE Report during 5G ProSe Communication via 5G ProSe Layer-3 UE-to-
Network Relay without N3IWF (see clause 6.5.1.1 of 3GPP TS 23.304 [43];
\- Multicast Session join and session establishment procedure in clause
7.2.1.3 of 3GPP TS 23.247 [44];
\- Multicast MBS session leave and release procedure in clause 7.2.2 of 3GPP
TS 23.247 [44];
\- MBS session activation procedure in clause 7.2.5.2 of 3GPP TS 23.247 [44];
\- Mobility procedures for MBS in clause 7.2.3 of 3GPP TS 23.247 [44];
\- Connection Inactive procedure with CN based MT communication handling in
clause 4.8.1.1a of 3GPP TS 23.502 [3];
\- UE Triggered Connection Resume in RRC Inactive procedure in clause 4.8.2.2
of 3GPP TS 23.502 [3];
\- Network Slice Replacement, see clause 5.15.19 of 3GPP TS 23.501 [2];
\- AMF requested PDU Session release due to MBSR not authorized as described
in clause 5.35A.4 of 3GPP TS 23.501 [2] and in clause 4.3.4.2 of 3GPP TS
23.502 [3].
The NF Service Consumer (e.g. AMF) shall update an individual SM context
and/or provide N1 or N2 SM information to the SMF by using the HTTP POST
method (modify custom operation) as shown in Figure 5.2.2.3.1-1.
Figure 5.2.2.3.1-1: SM context update
1\. The NF Service Consumer shall send a POST request to the resource
representing the individual SM context resource in the SMF. The payload body
of the POST request shall contain the modification instructions and/or the N1
or N2 SM information, or the indication that the PDU session is allowed to be
upgraded to a MA PDU session if so indicated by the UE as specified in clause
6.4.2.2 of 3GPP TS 24.501 [7], or subscribe/unsubscribe of the DDN failure
notification as specified in clause 4.15.3.2.7 of 3GPP TS 23.502 [3]. If the
request contains EBI(s) to revoke, then the SMF shall disassociate the EBI(s)
with the QFI(s) with which they are associated.
2a. On success, \"204 No Content\" or \"200 OK\" shall be returned; in the
latter case, the payload body of the POST response shall contain the
representation describing the status of the request and/or N1 or N2 SM
information.
If the ExemptionInd IE is included in the request message, indicating that the
NAS SM message included in the request was exempted from NAS congestion
control by the AMF, the SMF shall verify that the included 5G SM message can
be exempted from a NAS SM congestion control activated in the AMF as specified
in clause 5.19.7 of 3GPP TS 23.501 [2].
The SMF may indicate to the NF Service Consumer that it shall release EBI(s)
that were assigned to the PDU session by including the releaseEbiList IE, e.g.
when a QoS flow is released.
2b. On failure or redirection, one of the HTTP status codes listed in Table
6.1.3.3.4.2.2-2 shall be returned. For a 4xx/5xx response, the message body
shall contain an SmContextUpdateError structure, including:
\- a ProblemDetails structure with the \"cause\" attribute set to one of the
application errors listed in Table 6.1.3.3.4.2.2-2;
\- N1 SM information, if the SMF needs and can return a response to the UE;
\- N2 SM information, if the SMF needs and can return a response to the NG-
RAN.
The following clauses specify additional requirements applicable to specific
scenarios.
##### 5.2.2.3.2 Activation and Deactivation of the User Plane connection of a
PDU session
###### 5.2.2.3.2.1 General
The upCnxState attribute of an SM context represents the state of the User
Plane connection of the PDU session. The upCnxState attribute may take the
following values:
\- ACTIVATED: a N3 tunnel is established between the 5G-AN and UPF (F-TEIDs
assigned for both uplink and downlink traffic);
\- DEACTIVATED: no N3 tunnel is established between the 5G-AN and UPF;
\- ACTIVATING: a N3 tunnel is being established (5G-AN\'s F-TEID for downlink
traffic is not assigned yet).
Clauses 5.2.2.3.2.2 and 5.2.2.3.2.3 specify how the NF Service Consumer (e.g.
AMF) request the SMF to activate or deactivate the User Plane connection of
the PDU session, e.g. upon receiving a Service Request from the UE requesting
to activate a PDU session or upon an AN release procedure respectively. Clause
5.2.2.3.2.3 also applies in case of 5G-AN requested PDU session resource
release by sending the NGAP PDU SESSION RESOURCE NOTIFY to the AMF (see step
1d in clause 4.3.4.2 of 3GPP TS 23.502 [3]).
In scenarios where the SMF takes the initiative to activate or deactivate the
User Plane connection of the PDU session, e.g. during a Network Triggered
Service Request or CN-initiated selective deactivation of the User Plane
connection of a PDU session respectively, the SMF invokes the
Namf_N1N2MessageTransfer procedure with the inclusion of N2 SM Information
(and optionally of a N1 SM Container) as specified in 3GPP TS 23.502 [3] to
request the establishment or release of the PDU session\'s resources in the
5G-AN. The Update SM Context service operation is then used as specified in
clause 5.2.2.3.1 to transfer the response to the SMF.
Clause 5.2.2.3.2.4 specifies how the NF Service Consumer (e.g. AMF) indicates
to the SMF that the access type of a PDU session can be changed from non-3GPP
access to 3GPP access, during a Network Triggered Service Request initiated
for a PDU session associated to the non-3GPP access, if the PDU Session for
which the UE was paged or notified is in the List Of Allowed PDU Sessions
provided by the UE and if the AMF has received N2 SM Information only or N1 SM
Container and N2 SM Information for that PDU session from the SMF in step 3a
of clause 4.2.3.3 of 3GPP TS 23.502 [3].
###### 5.2.2.3.2.2 Activation of User Plane connectivity of a PDU session
The NF Service Consumer (e.g. AMF) shall request the SMF to activate the User
Plane connection of an existing PDU session, i.e. establish the N3 tunnel
between the 5G-AN and UPF, as follows.
Figure 5.2.2.3.2.2-1: Activation of the User Plane connection of a PDU session
1\. The NF Service Consumer shall request the SMF to activate the user plane
connection of the PDU session by sending a POST request, as specified in
clause 5.2.2.3.1, with the following information:
\- the upCnxState attribute set to ACTIVATING;
\- the user location and access type associated to the PDU session, if
modified;
\- the indication that the UE is inside or outside of the LADN service area,
if the DNN of the established PDU session corresponds to a LADN;
\- the access type for which the user plane connection needs to be re-
activated, for a MA PDU session (i.e. the access type over which a
Registration or Service Request was received);
\- the \"MO Exception Data Counter\" if the UE has accessed the network by
using \"MO exception data\" RRC establishment cause;
\- the n3gPathSwitchExecutionInd IE if the AMF receives the indication
\"Non-3GPP access path switching while using old AN resources\" in the
registration request message from the UE and if the SMF supports non-3GPP path
switching, so to request the SMF to add a new non-3GPP access path (while also
keeping the existing one) during a UE requested non-3GPP access switching for
a MA-PDU session;
\- other information, if necessary.
2a. Upon receipt of such a request, if the SMF can proceed with activating the
user plane connection of the PDU session (see clause 4.2.3 of 3GPP TS 23.502
[3]), the SMF shall set the upCnxState attribute to ACTIVATING and shall
return a 200 OK response including the following information:
\- upCnxState attribute set to ACTIVATING;
\- N2 SM information to request the 5G-AN to assign resources to the PDU
session (see PDU Session Resource Setup Request Transfer IE in clause 9.3.4.1
of 3GPP TS 38.413 [9]), including the transport layer address and tunnel
endpoint of the uplink termination point for the user plane data for this PDU
session (i.e. UPF\'s GTP-U F-TEID for uplink traffic).
If the SMF finds the PDU session already activated when receiving the request
in step 1, the SMF shall delete the N3 tunnel information and update the UPF
accordingly (see step 8a of clause 4.2.3.2 of 3GPP TS 23.502 [3]).
For a MA-PDU session, the SMF shall perform the above requirements for the
access type for which the user plane connection is requested to be re-
activated (i.e. the access type indicated in the anTypeToReactivate
attribute). The SMF shall not modify the user plane connection status for the
other access type, e.g. if the user plane connection is already established
for the other access type, it shall remain established. If the SMF receives
the n3gPathSwitchExecutionInd IE the SMF shall not trigger the release of the
UP connection in the old non-3GPP access.
If the \"MO Exception Data Counter\" is included in the request and Small Data
Rate Control is enabled for the PDU session, then the V-SMF/I-SMF shall
forward the counter to the H-SMF/SMF.
2b. If the request does not include the \"UE presence in LADN service area\"
indication and the SMF determines that the DNN corresponds to a LADN, then the
SMF shall consider that the UE is outside of the LADN service area. The SMF
shall reject the request if the UE is outside of the LADN service area.
If the SMF cannot proceed with activating the user plane connection of the PDU
session (e.g. if the PDU session corresponds to a PDU session of SSC mode 2
and the SMF decides to change the PDU Session Anchor), the SMF shall return an
error response, as specified for step 2b of figure 5.2.2.3.1-1. For a 4xx/5xx
response, the SmContextUpdateError structure shall include the following
additional information:
\- upCnxState attribute set to DEACTIVATED.
3\. If the SMF returned a 200 OK response, the NF Service Consumer (e.g. AMF)
shall subsequently update the SM context in the SMF by sending POST request,
as specified in clause 5.2.2.3.1, with the following information:
\- N2 SM information received from the 5G-AN (see PDU Session Resource Setup
Response Transfer IE in clause 9.3.4.2 of 3GPP TS 38.413 [9]), including the
transport layer address and tunnel endpoint of one or two downlink termination
point(s) and the associated list of QoS flows for this PDU session (i.e.
5G-AN\'s GTP-U F-TEID(s) for downlink traffic), if the 5G-AN succeeded in
establishing resources for the PDU sessions; or
\- N2 SM information received from the 5G-AN (see PDU Session Resource Setup
Unsuccessful Transfer IE in clause 9.3.4.16 of 3GPP TS 38.413 [9]), including
the Cause of the failure, if resources failed to be established for the PDU
session.
Upon receipt of this request, the SMF shall:
\- update the UPF with the 5G-AN\'s F-TEID(s) and set the upCnxState attribute
to ACTIVATED, if the 5G-AN succeeded in establishing resources for the PDU
sessions; or
\- consider that the activation of the User Plane connection has failed and
set the upCnxState attribute to DEACTIVATED\" otherwise.
4\. The SMF shall then return a 200 OK response including the upCnxState
attribute representing the final state of the user plane connection. If the
activation of the User Plane connection failed due to insufficient resources,
the cause IE shall be included in the response and set to
\"INSUFFICIENT_UP_RESOURCES\".
###### 5.2.2.3.2.3 Deactivation of User Plane connectivity of a PDU session
The NF Service Consumer (e.g. AMF) shall request the SMF to deactivate the
User Plane connectivity of an existing PDU session, i.e. release the N3
tunnel, as follows.
Figure 5.2.2.3.2.2-1: Deactivation of the User Plane connection of a PDU
session
1\. The NF Service Consumer shall request the SMF to deactivate the user plane
connection of the PDU session by sending a POST request, as specified in
clause 5.2.2.3.1, with the following information:
\- upCnxState attribute set to DEACTIVATED;
\- user location and user location timestamp;
\- cause of the user plane deactivation; the cause may indicate a cause
received from the 5G-AN or AMF has detected that the UE has moved out of the
network slice support area or due to an AMF internal event;
\- N2 SM information received from the 5G-AN (see PDU Session Resource Notify
Released Transfer IE in clause 9.3.4.13 of 3GPP TS 38.413 [9] and PDU Session
Resource Release Response Transfer IE in clause 9.3.4.21 of 3GPP TS 38.413
[9]), if the request is triggered due to an 5G-AN requested PDU session
resource release or due to an AN Release procedure respectively;
\- other information, if necessary.
NOTE: The SMF can receive a N2 SM information (PDU Session Resource Release
Response Transfer IE) without having sent any prior N2 SM information (PDU
Session Resource Release Command Transfer IE) to the AMF.
2\. Upon receipt of such a request, the SMF shall deactivate release the N3
tunnel of the PDU session, set the upCnxState attribute to DEACTIVATED and
return a 200 OK response including the upCnxState attribute set to
DEACTIVATED.
If the request is triggered due to 5G-AN requested PDU session resource
release, the SMF may decide to keep the PDU Session (with user plane
connection deactivated) or release the PDU Session. If the SMF decides to keep
the PDU Session, it shall return \"200 OK\" with the _upCnxState_ attribute
set to DEACTIVATED, but not including _n1SmMsg_ and _n2SmInfo_. If the SMF
decides to release the PDU Session, it shall return \"200 OK\" with the
_upCnxState_ attribute set to DEACTIVATED, including _n1SmMsg_ IE but not-
including _n2SmInfo_ IE.
###### 5.2.2.3.2.4 Changing the access type of a PDU session from non-3GPP
access to 3GPP access during a Service Request procedure
The NF Service Consumer (e.g. AMF) shall indicate to the SMF that the access
type of a PDU session can be changed as follows:
Figure 5.2.2.3.2.4-1: Indicating that the access type of a PDU session can be
changed
1\. The NF Service Consumer shall indicate that the access type of a PDU
session can be changed by sending a POST request, as specified in clause
5.2.2.3.1, with the following information:
\- anTypeCanBeChanged attribute set to \"true\";
\- other information, if necessary.
2a. Same as step 2a of figure 5.2.2.3.1-1. In HR roaming scenarios, the V-SMF
shall invoke the Update service operation towards the H-SMF to notify that the
access type of the PDU session can be changed (see clause 5.2.2.8.2.2).
2b. Same as step 2b of figure 5.2.2.3.1-1.
NOTE: This is used during a Service Request procedure (see clause 4.2.3.2 of
3GPP TS 23.502 [3]), in response to paging or NAS notification indicating
non-3GPP access, if the PDU Session for which the UE was paged or notified is
in the List Of Allowed PDU Sessions provided by the UE and if the AMF has
received N2 SM Information only or N1 SM Container and N2 SM Information for
that PDU session from the SMF in step 3a of clause 4.2.3.3 of 3GPP TS 23.502
[3].
The SMF may perform Network Slice Admission Control before the PDU Session is
moved from the non-3GPP access to 3GPP access (i,e, before N3 tunnel for the
PDU Session is established).
If the PDU Session is moved from the non-3GPP access to 3GPP access (i.e. N3
tunnel for the PDU Session is established successfully), the SMF and NF
Service Consumer (e.g. AMF) updates the associated access of the PDU Session.
##### 5.2.2.3.3 Xn Handover
The NF Service Consumer (e.g. AMF) shall request the SMF to switch the
downlink N3 tunnel of the PDU session towards a new GTP tunnel endpoint as
follows.
Figure 5.2.2.3.3-1: Xn handover
1\. The NF Service Consumer shall request the SMF to switch the downlink N3
tunnel of the PDU session towards a new GTP tunnel endpoint by sending a POST
request, as specified in clause 5.2.2.3.1, with the following information:
\- the indication that the PDU session is to be switched;
\- N2 SM information received from the target 5G-AN (see Path Switch Request
Transfer IE in clause 9.3.4.8 of 3GPP TS 38.413 [9]), including the new
transport layer address and tunnel endpoint of the downlink termination point
for the user data for this PDU session (i.e. 5G-AN\'s GTP-U F-TEID for
downlink traffic);
\- additional N2 SM information received from the source 5G-AN (see Secondary
RAT Data Usage Report Transfer IE in clause 9.3.4.23 of 3GPP TS 38.413 [9]),
if any;
\- the user location associated to the PDU session;
\- the indication that the UE is inside or outside of the LADN service area,
if the DNN of the established PDU session corresponds to a LADN;
\- other information, if necessary.
2a. If the SMF can proceed with switching the user plane connection of the PDU
session, the SMF shall return a 200 OK response including the following
information:
\- N2 SM information (see Path Switch Request Acknowledge Transfer IE in
clause 9.3.4.9 of 3GPP TS 38.413 [9]), including the transport layer address
and tunnel endpoint of the uplink termination point for the user data for this
PDU session (i.e. UPF\'s GTP-U F-TEID for uplink traffic).
If the request does not include the \"UE presence in LADN service area\"
indication and the SMF determines that the DNN corresponds to a LADN, then the
SMF shall consider that the UE is outside of the LADN service area. The SMF
shall proceed as specified in clause 5.6.5 of 3GPP TS 23.501 [2].
2b. If the SMF cannot proceed with switching the user plane connection of the
PDU session, the SMF shall return an error response, as specified for step 2b
of figure 5.2.2.3.1-1, including:
\- N2 SM information (see Path Switch Request Unsuccessul Transfer IE in
clause 9.3.4.20 of 3GPP TS 38.413 [9]), including the cause of the failure.
For a PDU session that is rejected by the target RAN (i.e. a PDU session
indicated as failed to setup in the PATH SWITCH REQUEST), the NF Service
Consumer (e.g. AMF) shall indicate the failure to setup the PDU session in the
target RAN as follows.
Figure 5.2.2.3.3-2: Xn handover -- PDU session rejected by the target RAN
1\. The NF Service Consumer shall indicate to the SMF that the PDU session
could not be setup in the target RAN by sending a POST request, as specified
in clause 5.2.2.3.1, with the following information:
\- the indication that the PDU session failed to be switched;
\- N2 SM information received from the target 5G-AN (see Path Switch Request
Setup Failed Transfer IE in clause 9.3.4.15 of 3GPP TS 38.413 [9]), including
the cause why the session could not be setup;
\- additional N2 SM information received from the source 5G-AN (see Secondary
RAT Data Usage Report Transfer IE in clause 9.3.4.23 of 3GPP TS 38.413 [9]),
if any;
\- other information, if necessary.
2a. Upon receipt of such a request, the SMF shall return a \"204 No Content\"
response. The SMF shall decide whether to release the PDU session or
deactivate the user plane connection of the PDU session, as specified in
clause 4.9.1.2 of 3GPP TS 23.502 [3].
2b. Same as step 2b of figure 5.2.2.3.1-1.
##### 5.2.2.3.4 N2 Handover
###### 5.2.2.3.4.1 General
The hoState attribute of an SM context represents the handover state of the
PDU session. The hoState attribute may take the following values:
\- NONE: no handover is in progress for the PDU session;
\- PREPARING: a handover is in preparation for the PDU session; SMF is
preparing the N3 tunnel between the target 5G-AN and UPF, i.e. the UPF\'s
F-TEID is assigned for uplink traffic;
\- PREPARED: a handover is prepared for the PDU session; SMF is updated for
the N3 tunnel between the target 5G-AN and UPF, with the target 5G-AN\'s
F-TEID to be assigned for downlink traffic upon handover execution;
\- COMPLETED: the handover is completed (successfully);
\- CANCELLED: the handover is cancelled.
###### 5.2.2.3.4.2 N2 Handover Preparation
The NF Service Consumer (e.g. T-AMF) shall request the SMF to prepare the
handover of an existing PDU session, i.e. prepare the N3 tunnel between the
target 5G-AN and UPF, as follows.
Figure 5.2.2.3.4.2-1: N2 Handover Preparation
1\. The NF Service Consumer shall request the SMF to prepare the handover of
the PDU session by sending a POST request, as specified in clause 5.2.2.3.1,
with the following information:
\- updating the hoState attribute of the individual SM Context resource in the
SMF to PREPARING;
\- targetId identifying the target RAN Node ID and TAI received in the
Handover Required from the source NG-RAN;
\- targetServingNfId set to the target AMF Id, for a N2 handover with AMF
change;
\- N2 SM information received from the source NG-RAN (see Handover Required
Transfer IE in clause 9.3.4.14 of 3GPP TS 38.413 [9]), indicating whether a
direct path is available;
\- the supportedFeatures IE indicating the optional features it supports, if
at least one optional feature defined in clause 6.1.8 is supported;
\- other information, if necessary.
2a. Upon receipt of such a request, if the SMF can proceed with preparing the
handover of the PDU session (see clause 4.9.1.3 of 3GPP TS 23.502 [3]), the
SMF shall set the hoState attribute to PREPARING and shall return a 200 OK
response including the following information:
\- hoState attribute set to PREPARING;
\- N2 SM information to request the target 5G-AN to assign resources to the
PDU session (see PDU Session Resource Setup Request Transfer IE in clause
9.3.4.1 of 3GPP TS 38.413 [9]), including (among others) the transport layer
address and tunnel endpoint of the uplink termination point for the user plane
data for this PDU session (i.e. UPF\'s GTP-U F-TEID for uplink traffic);
\- the supportedFeatures IE in the response, if the supportedFeatures IE was
received in the request and at least one optional feature defined in clause
6.1.8 is supported by the updated SM context resource.
The SMF shall store the targetServingNfId, if received in the request, but the
SMF shall still consider the AMF (previously) received in the servingNfId IE
as the serving AMF for the UE.
2b. If the SMF cannot proceed with preparing the handover of the PDU session
(e.g. the UE moves into a non-allowed service area), the SMF shall return an
error response, as specified in step 2b of figure 5.2.2.3.1-1.\ \ When
receiving a 4xx/5xx response from the SMF, the NF service consumer (e.g. the
AMF) shall regard the hoState of the SM Context to be NONE.
3\. If the SMF returned a 200 OK response in step 2a, the NF Service Consumer
(e.g. AMF) shall subsequently update the SM context in the SMF by sending POST
request, as specified in clause 5.2.2.3.1, with the following information:
\- hoState attribute set to PREPARED;
\- N2 SM information received from the target 5G-AN (see Handover Request
Acknowledge Transfer IE in clause 9.3.4.11 of 3GPP TS 38.413 [9]), including
(among others) the transport layer address and tunnel endpoint of the downlink
termination point for the user data for this PDU session (i.e. target 5G-AN\'s
GTP-U F-TEID for downlink traffic), if the target 5G-AN succeeded in
establishing resources for the PDU session;
\- N2 SM information received from the target 5G-AN (see Handover Resource
Allocation Unsuccessful Transfer IE in clause 9.3.4.19 of 3GPP TS 38.413 [9]),
including the Cause of the failure, if resources failed to be established for
the PDU sessions.
4a. If the target 5G-AN succeeded in establishing resources for the PDU
sessions, the SMF shall set the hoState attribute to PREPARED and return a 200
OK response including the following information:
\- hoState attribute to PREPARED;
\- N2 SM information (see Handover Command Transfer IE in clause 9.3.4.10 of
3GPP TS 38.413 [9]) containing DL forwarding tunnel information to be sent to
the source 5G-AN by the AMF if direct or indirect data forwarding applies (see
step 11f of clause 4.9.1.3.2 of 3GPP TS 23.502 [3]).
4b. If the SMF cannot proceed with preparing the handover of the PDU session
(e.g. the target 5G-AN failed to establish resources for the PDU session), the
SMF shall set the hoState to NONE, release resources reserved for the handover
to the target 5G-AN, and return an error response as specified in step 2b of
figure 5.2.2.3.1-1. For a 4xx/5xx response, the SmContextUpdateError structure
shall include the following additional information:
\- N2 SM information (see Handover Preparation Unsuccessful Transfer IE in
clause 9.3.4.18 of 3GPP TS 38.413 [9]) indicating the cause of the failure;
\- the cause in the error attribute set to
HANDOVER_RESOURCE_ALLOCATION_FAILURE, if the target 5G-AN failed to establish
resources for the PDU session.
When receiving a 4xx/5xx response from the SMF, the NF service consumer (e.g.
the AMF) shall regard the hoState of the SM Context to be NONE.
If the handover preparation fails completely on the target 5G-AN (i.e. target
5G-AN returns a NGAP HANDOVER_FAILURE), the (T-)AMF shall request the SMF to
cancel the handover of the PDU session as described in clause 5.2.2.3.4.4.
###### 5.2.2.3.4.3 N2 Handover Execution
The NF Service Consumer (e.g. T-AMF) shall request the SMF to complete the
execution the handover of an existing PDU session, upon being notified by the
target 5G-AN that the handover to the target 5G-AN has been successful, as
follows.
Figure 5.2.2.3.4.3-1: N2 Handover Execution
1\. The NF Service Consumer shall request the SMF to complete the execution of
the handover of the PDU session by sending a POST request, as specified in
clause 5.2.2.3.1, with the following information:
\- updating the hoState attribute of the individual SM Context resource in the
SMF to COMPLETED;
\- servingNfId set to the new serving AMF Id, for a N2 handover with AMF
change;
\- the indication that the UE is inside or outside of the LADN service area,
if the DNN of the established PDU session corresponds to a LADN;
\- N2 SM information received from the source 5G-AN (see Secondary RAT Data
Usage Report Transfer IE in clause 9.3.4.23 of 3GPP TS 38.413 [9]), if any;
\- other information, if necessary.
2\. Upon receipt of such a request, the SMF shall return a 200 OK response
including the following information:
\- hoState attribute set to COMPLETED.
The SMF shall complete the execution of the handover, e.g. switch the PDU
session towards the downlink termination point for the user data received from
the target 5G-AN (i.e. target 5G-AN\'s GTP-U F-TEID for downlink traffic), set
the hoState to NONE and delete any stored targetServingNfId. For PDU session
with I-SMF insertion, the I-SMF shall complete the execution of the handover
by initiating an Update service operation towards the anchor SMF in order to
switch the PDU session towards the I-UPF controlled by I-SMF (see clause
5.2.2.8.2.12).
If the request does not include the \"UE presence in LADN service area\"
indication and the SMF determines that the DNN corresponds to a LADN, then the
SMF shall consider that the UE is outside of the LADN service area. The SMF
shall proceed as specified in clause 5.6.5 of 3GPP TS 23.501 [2].
The (T-)AMF shall request the SMF to complete the execution of the handover of
the PDU session only for those PDU sessions that successfully completed the
handover procedure. If there are PDU sessions that failed to handover due to
timeout of SMF responses in any step of the handover preparation phase (e.g.
if the Update SM Context Response arrived too late or not at all during the
handover preparation phase, see step 7 of clause 4.9.1.3.3 of 3GPP TS 23.502
[3]), then the (T-)AMF shall inform the SMF about this failure, by sending a
POST request with the cause attribute set to \"HO_FAILURE\" for every such PDU
session, upon receipt of the NGAP HANDOVER NOTIFY. The SMF shall then release
the resources prepared for the handover and consider that the PDU session is
deactivated and that the handover attempt is terminated for the PDU session.
If the handover fails completely on the target 5G-AN due to the execution
phase not completed successfully (i.e. missing NGAP HANDOVER NOTIFY), the
(T-)AMF shall request the SMF to cancel the handover of the PDU session as
described in clause 5.2.2.3.4.4.
###### 5.2.2.3.4.4 N2 Handover Cancellation
The NF Service Consumer (e.g. T-AMF) shall request the SMF to cancel the
handover of an existing PDU session, e.g. upon receipt of such a request from
the source 5G-AN, as follows.
Figure 5.2.2.3.4.3-1: N2 Handover Cancellation
1\. The NF Service Consumer shall request the SMF to cancel the execution of
the handover of the PDU session by sending a POST request, as specified in
clause 5.2.2.3.1, with the following information:
\- updating the hoState attribute of the individual SM Context resource in the
SMF to CANCELLED;
\- cause information;
\- other information, if necessary.
2\. Upon receipt of such a request, the SMF return a 200 OK response including
the following information:
\- hoState attribute set to CANCELLED.
The SMF shall cancel the execution of the handover, e.g. release resources
reserved for the handover to the target 5G-AN, set the hoState to NONE and
delete any stored targetServingNfId. For PDU Session with I-SMF insertion, the
I-SMF shall cancel the handover by initiating an Update service operation
towards the anchor SMF in order to release resources at the SMF and PSA UPF
reserved during handover preparation (see clause 5.2.2.8.2.13).
##### 5.2.2.3.5 Handover between 3GPP and untrusted non-3GPP access procedures
###### 5.2.2.3.5.1 General
The handover of a PDU session between 3GPP and untrusted non-3GPP access shall
be supported as specified in clause 4.9.2 of 3GPP TS 23.502 [3]. Such a
handover may involve:
\- the same AMF, or a target AMF in the same PLMN as the source AMF (see
clauses 4.9.2.1, 4.9.2.2, 4.9.2.3.1 and 4.9.2.4.1 of 3GPP TS 23.502 [3]). The
Update SM Context service operation is used in these cases; or
\- a target AMF in a different PLMN than the source AMF (see clauses 4.9.2.3.2
and 4.9.2.4.2 of 3GPP TS 23.502 [3]). The Create SM Context service operation
is used in this case (see clause 5.2.2.2).
For a Home-Routed PDU session, the target AMF may be located in the VPLMN, or
in the HPLMN when the N3IWF is in the HPLMN.
###### 5.2.2.3.5.2 Handover of a PDU session without AMF change or with target
AMF in same PLMN
In these scenarios, the same V-SMF is used before and after the handover.
The NF Service Consumer (e.g. AMF) shall request the SMF to handover an
existing PDU session from 3GPP access to untrusted non-3GPP access, or vice-
versa, as follows.
Figure 5.2.2.3.5.2-1: Handover between 3GPP and untrusted non-3GPP access
1\. The NF Service Consumer shall request the SMF to handover an existing PDU
session from 3GPP access to untrusted non-3GPP access, or vice-versa, by
sending a POST request, as specified in clause 5.2.2.3.1, with the following
information:
\- updating the anType attribute of the individual SM Context resource in the
SMF to the target access type, i.e. to 3GPP_ACCESS or NON_3GPP_ACCESS;
\- other information, if necessary.
2a. Same as step 2a of Figure 5.2.2.3.1-1.
2b. If the SMF cannot proceed with handing over the PDU session to the target
access type, the SMF shall return an error response, as specified for step 2b
of figure 5.2.2.3.1-1. For a 4xx/5xx response, the SmContextUpdateError
structure shall include the following additional information:
\- N1 SM Information to reject the UE request.
The anchor SMF may perform Network Slice Admission Control before the PDU
Session is moved to the target access (i.e., before the N3 tunnel for the PDU
Session is established).
##### 5.2.2.3.6 Inter-AMF change or mobility
The NF Service Consumer (e.g. new AMF) shall inform the SMF that it has taken
over the role of serving the UE (e.g. it has taken the responsibility of the
signalling towards the UE), when so required by 3GPP TS 23.501 [2] and 3GPP TS
23.502 [3], as follows.
Figure 5.2.2.3.6-1: Inter-AMF change or mobility
1\. The NF Service Consumer shall update the SMF with the new serving AMF, by
sending a POST request, as specified in clause 5.2.2.3.1, with the following
information:
\- servingNfId set to the new serving AMF Id;
\- the supportedFeatures IE indicating the optional features it supports, if
at least one optional feature defined in clause 6.1.8 is supported;
\- other information, if necessary, e.g. to activate the user plane connection
of the PDU session (see clause 5.2.2.3.2.2).
2a. Same as step 2a of Figure 5.2.2.3.1-1. In addition, the SMF shall include
the supportedFeatures IE in the response, if the supportedFeatures IE was
received in the request and at least one optional feature defined in clause
6.1.8 is supported by the updated SM context resource.
2b. Same as step 2b of figure 5.2.2.3.1-1.
##### 5.2.2.3.7 RAN Initiated QoS Flow Mobility
The NF Service Consumer (e.g. AMF) shall request the SMF to transfer QoS flows
to and from Secondary RAN node, or more generally, handle a NG-RAN PDU Session
Resource Modify Indication, as follows.
Figure 5.2.2.3.7-1: RAN Initiated QoS Flow Mobility
1\. The NF Service Consumer shall request the SMF to modify the PDU session,
as requested by the NG-RAN, by sending a POST request, as specified in clause
5.2.2.3.1, with the following information:
\- N2 SM information received from the 5G-AN (see PDU Session Resource Modify
Indication Transfer IE in clause 9.3.4.6 of 3GPP TS 38.413 [9]), including the
transport layer information for the QoS flows of this PDU session (i.e.
5G-AN\'s GTP-U F-TEIDs for downlink traffic);
\- other information, if necessary.
2a. Upon receipt of such a request, if the SMF can proceed with switching the
QoS flows of the PDU session, the SMF shall return a 200 OK response including
the following information:
\- N2 SM information (see PDU Session Resource Modify Confirm Transfer IE in
clause 9.3.4.7 of 3GPP TS 38.413 [9]), including the list of QoS flows which
were modified successfully and the list of QoS flows which failed to be
modified if available.
2b. If the SMF cannot proceed with switching the QoS flows of the PDU session,
the SMF shall return an error response, as specified for step 2b of figure
5.2.2.3.1-1, including:
\- N2 SM information (see PDU Session Resource Modify Indication Unsuccessful
Transfer IE in clause 9.3.4.22 of 3GPP TS 38.413 [9]).
##### 5.2.2.3.8 EPS to 5GS Handover using N26 interface
###### 5.2.2.3.8.1 General
The NF Service Consumer (e.g. AMF) shall request the SMF to handover a UE EPS
PDN connection to 5GS using N26 interface, following the same requirements as
specified for N2 handover in clause 5.2.2.3.4 with the modifications specified
in this clause.
###### 5.2.2.3.8.2 EPS to 5GS Handover Preparation
The requirements specified in clause 5.2.2.3.4.2 shall apply with the
following modifications.
Figure 5.2.2.3.8.2-1: EPS to 5GS Handover Preparation
1\. Same as step 1 of Figure 5.2.2.2.3-1.
2a. Same as step 2 of Figure 5.2.2.2.3-1.
2b. Same as step 2b of figure 5.2.2.3.1-1.
3\. Same as step 3 of Figure 5.2.2.3.4.2-1.
4a. Same as step 4 of Figure 5.2.2.3.4.2-1, with the following modifications:\
\ The 200 OK response shall not include N2 SM information for DL forwarding
tunnel setup, but shall additionally contain:
\- the epsBearerSetup IE(s), containing the list of EPS bearer context(s)
successfully handed over to the 5GS and DL data forwarding information,
containing either:
\- CN tunnel information generated based on the list of accepted QFI(s)
received from the 5G-RAN, if indirect data forwarding applies; or
\- NG-RAN F-TEID per E-RAB accepted for direct data forwarding, as received
from the target NG-RAN, if direct data forwarding applies.
4b. Same as step 2b of figure 5.2.2.3.4.2-1.
###### 5.2.2.3.8.3 EPS to 5GS Handover Execution
The requirements specified in clause 5.2.2.3.4.3 shall apply, with the
following modifications.
In step 1 of Figure 5.2.2.3.4.3-1, the NF Service Consumer, i.e. the target
AMF, shall include one or more SecondaryRatUsageDataReportContainer(s) in the
SmContextUpdateData for the POST request if it received one or more Secondary
RAT Usage Data Report(s) applicable for the PDU session from the source MME.
In step 2 of Figure 5.2.2.3.4.3-1, for a Home Routed PDU session, the SMF
shall complete the execution of the handover by initiating an Update service
operation towards the H-SMF in order to switch the PDU session towards the
V-UPF (see clause 5.2.2.8.2.3).
If there are PDU sessions that failed to handover due to timeout of SMF
responses in any step of the handover preparation phase (e.g. if the Update SM
Context Response arrived too late or not at all during the handover
preparation phase), then the AMF shall consider that the PDU session will be
released by the MME and remove the PDU session context from the UE context.
For a HR PDU session or a PDU session with I-SMF, the AMF shall also release
the SM Context in the V-SMF or the I-SMF only.
###### 5.2.2.3.8.4 EPS to 5GS Handover Cancellation
The requirements specified in clause 5.2.2.3.4.4 shall apply, with the
following modifications.
In step 2 of Figure 5.2.2.3.4.4-1, for a Home Routed PDU session, the V-SMF
shall cancel the handover by initiating an Update service operation towards
the H-SMF in order to release resources at H-SMF and H-UPF reserved for
handover (see clause 5.2.2.8.2.14).
###### 5.2.2.3.8.5 EPS to 5GS Handover Failure
If the handover to 5GS failed, e.g. rejected by the target NG-RAN, the
requirements specified in clause 5.2.2.3.4.4 shall apply, with the following
modifications:
\- the hoState attribute set to \"CANCELLED\", to indicate the handover is
cancelled;
\- the cause attribute set to \"HO_FAILURE\".
In step 2 of Figure 5.2.2.3.4.4-1, for a Home Routed PDU session, the V-SMF
shall cancel the handover by initiating an Update service operation towards
the H-SMF in order to release resources at H-SMF and H-UPF reserved for
handover (see clause 5.2.2.8.2.17).
##### 5.2.2.3.9 5GS to EPS Handover using N26 interface
###### 5.2.2.3.9.1 General
The NF Service Consumer (e.g. AMF) shall request the SMF to setup data
forwarding tunnels if direct or indirect data forwarding applies to the 5GS to
EPS handover using N26 interface, and to remove the indirect data forwarding
tunnels previously established when the handover is cancelled or failed.
The AMF should initiate this procedure only if data forwarding is enabled and
the MME returns data forwarding F-TEIDs for the related PDN connection context
in the Forward Relocation response.
###### 5.2.2.3.9.2 Data forwarding tunnels setup during 5GS to EPS handover
If direct or indirect data forwarding applies to the 5GS to EPS handover, the
NF Service Consumer (e.g. AMF) shall provide the SMF with the data forwarding
information received from the MME, as specified in clause 4.11.1.2.1 of 3GPP
TS 23.502 [3]), as follows.
Figure 5.2.2.3.9-1: 5GS to EPS Handover using N26 interface (data forwarding
tunnels setup)
1\. The NF Service Consumer shall send a POST request, as specified in clause
5.2.2.3.1, with the following information:
\- dataForwarding IE set to true;
\- EPS bearer contexts received from the MME in the Forward Relocation
Response, including F-TEID(s) for DL data forwarding tunnel(s) towards the
target eNB (for direct data forwarding) or towards the forwarding SGW (for
indirect data forwarding).
2a. If indirect data forwarding applies, the SMF shall map the EPS bearers for
Data Forwarding to the 5G QoS flows based on the association between the EPS
bearer ID(s) and QFI(s) for the QoS flow(s).\ \ The SMF shall return a 200 OK
response including the following information:
\- N2 SM information (see Handover Command Transfer IE in clause 9.3.4.10 of
3GPP TS 38.413 [9]) containing DL forwarding tunnel information to be sent to
the source 5G-AN by the AMF if direct or indirect data forwarding applies (see
step 11f of clause 4.9.1.3.2 of 3GPP TS 23.502 [3]).
If direct data forwarding applies, the DL forwarding tunnel information shall
contain the E-UTRAN tunnel info for data forwarding per EPS bearer received
from the MME.\ \ If indirect data forwarding applies, the DL forwarding tunnel
information shall contain the CN transport layer address and tunnel endpoint
(i.e. UPF\'s GTP-U F-TEID) for Data Forwarding and the QoS flows for Data
Forwarding for this PDU session.
2b. If the SMF cannot proceed with the request, the SMF shall return an error
response, as specified for step 2b of figure 5.2.2.3.1-1.\ If none of the EPS
bearer contexts received in the POST request body includes an F-TEID for DL
data forwarding, the SMF shall return a 403 Forbidden response including a
ProblemDetails structure with the \"cause\" attribute set to
\"NO_DATA_FORWARDING\". Upon receipt of this response, the AMF shall proceed
with the handover procedure (as if data forwarding was disabled).
NOTE: The above use case can occur if an AMF initiates this procedure without
checking whether the MME returns data forwarding F-TEIDs for the related PDN
connection context in the Forward Relocation response (e.g. pre-Rel-17 or
Rel-17 AMF that does not support such checking).
###### 5.2.2.3.9.3 Indirect data forwarding tunnels removal for 5GS to EPS
handover cancellation or failure
During 5GS to EPS handover, if indirect data forwarding tunnel(s) have been
previously established during the preparation phase and the handover is
cancelled, the AMF shall update the SMF of handover cancellation by sending a
POST request with the cause attribute set to \"HO_CANCEL\" and dataForwarding
IE set to false with an empty list of EPS bearer contexts. The SMF shall then
release the resources prepared for the handover and proceed with the PDU
session as if no handover procedure had taken place.
If no resources for EPS bearer(s) can be assigned for any PDU session
attempted to be handed over, the AMF shall update the SMF with the information
that the handover preparation failed by sending a POST request with the cause
attribute set to \"HO_FAILURE\" and with an empty list of EPS bearer contexts
(and without the dataForwarding IE). The SMF shall then release the resources
prepared for the handover and proceed with the PDU session as if no handover
procedure had taken place.
##### 5.2.2.3.10 P-CSCF Restoration Procedure via AMF
The requirements specified in clause 5.2.2.3.1 shall apply with the following
modifications.
1\. Same as step 1 of Figure 5.2.2.3.1-1, with the following modifications.
The POST request shall contain:
\- the release IE set to true;
\- the cause IE set to REL_DUE_TO_REACTIVATION.
##### 5.2.2.3.11 AMF requested PDU Session Release due to duplicated PDU
Session Id
When the AMF receives an \"initial request\" with PDU Session Id which already
exists in PDU session context of the UE (see clause 5.4.5.2.5 of 3GPP TS
24.501 [7]), the AMF shall request the SMF to release the existing PDU
Session; upon subsequent receipt of an SM context status notification
indicating that the SM context has been deleted in the SMF, the AMF shall
release the stored context for the PDU session and proceed with the \"initial
request\" with the PDU Session Id.
The requirements for releasing the existing PDU Session specified in clause
5.2.2.3.1 shall apply with the following modifications.
1\. Same as step 1 of Figure 5.2.2.3.1-1, with the following modifications.
The POST request shall contain:
\- the release IE set to true;
\- the cause IE set to REL_DUE_TO_DUPLICATE_SESSION_ID.
When the SMF receives the request from AMF, the SMF shall start the PDU
Session Release procedure to release all the associated resources in UPF, PCF,
CHF, and UDM. If the UP connection of the existing PDU session is active, the
SMF should also request (R)AN to release associated resources.
NOTE: The SMF does not send NAS signaling to UE for the PDU session release in
this procedure.
##### 5.2.2.3.12 AMF requested PDU Session Release due to slice not available
If a network slice is detected as not available (e.g. due to slice congestion
or operational disable the slice), the NF Service Consumer (i.e. AMF) shall
use this procedure to release the PDU session associated to the unavailable
network slice. Such handling of PDU session release may also happen in network
slice replacement procedure (see clause 4.3.3.3 of 3GPP TS 23.502 [3]) when
the AMF determines the existing PDU session cannot serve the alternative
S-NSSAI.
The requirements specified in clause 5.2.2.3.1 shall apply with the following
modifications.
1\. Same as step 1 of Figure 5.2.2.3.1-1, with the following modifications.
The POST request shall contain:
\- the release IE set to true;
\- the cause IE set to S_NSSAI_CONGESTION or REL_DUE_TO_SLICE_NOT_AVAILABLE;
\- optionally the skipN2PduSessionResRelInd IE with the value \"true\" to skip
RAN resources release for the PDU session, e.g. for a PDU session with active
UP associated with a slice that is no longer available after a handover.
##### 5.2.2.3.13 Indirect Data Forwarding Tunnel establishment during N2 based
Handover with I-SMF
During N2 based handover with I-SMF insertion/change/removal, the NF Service
Consumer (e.g. target I-SMF) shall use this procedure to exchange N3/N9
forwarding tunnel information with the NF Service Producer (e.g. source
I-SMF).
The NF Service Consumer (e.g. target I-SMF) shall request the SMF to establish
one or more downlink and/or uplink indirect data forwarding tunnels, as
follows.
Figure 5.2.2.3.13-1: Indirect Data Forwarding Tunnel establishment during N2
based Handover with I-SMF
1\. The NF Service Consumer shall send a POST request, as specified in clause
5.2.2.3.1, with the following information:
\- dataForwarding attribute set to true, for the N2 based handover with I-SMF
insertion/change/removal;
\- n9DlForwardingTnlList attribute carrying the N9 downlink indirect data
forwarding tunnel(s) info of target I-UPF;
\- n9UlForwardingTnlList attribute carrying the N9 uplink indirect data
forwarding tunnel(s) info of target I-UPF;
\- other information, if necessary.
2a. Same as step 2a of Figure 5.2.2.3.1-1, with the following information:
\- n3DlForwardingTnlList attribute carrying the N3 downlink indirect data
forwarding tunnel(s) info of source I-UPF or source UPF;
\- n3UlForwardingTnlList attribute carrying the N3 uplink indirect data
forwarding tunnel(s) info of source I-UPF or source UPF;
\- other information, if necessary.
2b. If the source SMF cannot proceed with the request, the source I-SMF shall
return an error response, as specified for step 2b of figure 5.2.2.3.1-1.
##### 5.2.2.3.13A Indirect Data Forwarding Tunnel removal during N2 based
Handover with I-SMF
During N2 based handover cancellation with I-SMF insertion/change/removal, the
NF Service Consumer (e.g. target I-SMF) shall use this procedure to remove
previously established Indirect Data Forwarding Tunnel(s) at NF Service
Producer (e.g. source I-SMF).
The NF Service Consumer (e.g. target I-SMF) shall request the NF service
producer to remove the established Indirect Data Forwarding Tunnel(s), as
follows.
Figure 5.2.2.3.13A-1: Indirect Data Forwarding Tunnel Removal during N2 based
Handover with I-SMF
1\. The NF Service Consumer shall send a POST request, as specified in clause
5.2.2.3.1, with the following information:
\- dataForwarding attribute set to false;
\- other information, if necessary.
2a. If successful, the SMF shall return a 204 No Content response.
2b. If the SMF cannot proceed with the request, the SMF shall return an error
response, as specified for step 2b of figure 5.2.2.3.1-1.
##### 5.2.2.3.14 Request to forward buffered downlink data packets at I-UPF
For I-SMF change or I-SMF removal when downlink data packets are buffered at
the I-UPF, the new I-SMF (for I-SMF change) or SMF (for I-SMF removal) shall
request the (old) I-SMF to forward buffered downlink data packets as
following:
Figure 5.2.2.3.14-1: Request to forward buffered downlink data packets at
I-UPF
1\. The NF Service Consumer shall send a POST request, as specified in clause
5.2.2.3.1, with the following information:
\- n9ForwardingTunnel IE indicating the allocated tunnel endpoints information
to receive the buffered downlink data packets.
2a. On success, the SMF shall initiate N4 session modification to the I-UPF
trigger the sending of buffered DL data towards received tunnel endpoints and
shall return \"204 No Content\" response.
2b. If the SMF cannot proceed with the request, the SMF shall return an error
response, as specified for step 2b of figure 5.2.2.3.1-1.
##### 5.2.2.3.15 Connection Suspend procedure
The procedures specified in this clause and clause 5.2.2.3.16 are to support
the Connection Suspend and Connection Resume in CM-IDLE with Suspend
procedures as specified in clauses 4.8.1.2 and 4.8.2.3 of 3GPP TS 23.502 [3].
These procedures are used to support the User Plane CIoT 5GS Optimisation
feature for E-UTRAN access as specified in clauses 5.31.1 and 5.31.18 of 3GPP
TS 23.501 [2].
The NF Service Consumer (e.g. AMF) shall request the SMF to suspend the User
Plane connection of an existing PDU session if the SMF support the UPCSMT
feature, as follows.
Figure 5.2.2.3.15-1: Connection Suspend
1\. The NF Service Consumer shall request the SMF to suspend the user plane
connection of the PDU session by sending a POST request, as specified in
clause 5.2.2.3.1, with the following information:
\- upCnxState attribute set to SUSPENDED;
\- user location and user location timestamp;
\- N2 SM information received from the 5G-AN, including UE Context Suspend
Request Transfer IE, if available;
\- other information, if necessary.
2\. Upon receipt of such a request, the SMF shall deactivate the N3 tunnel of
the PDU session, set the upCnxState attribute to SUSPENDED and return a 200 OK
response including the upCnxState attribute set to SUSPENDED. The SMF shall
store the N3 tunnel info (including both AN Tunnel Info and the CN Tunnel
Info), and upon receiving subsequent DL Data report from the UPF, the SMF will
invoke the Namf_MT EnableUEReachability service operation to trigger the AMF
to page the UE.
##### 5.2.2.3.16 Connection Resume in CM-IDLE with Suspend procedure
The NF Service Consumer (e.g. AMF) shall request the SMF to resume the User
Plane connection of an existing PDU session, i.e. establish the N3 tunnel
between the 5G-AN and UPF, as follows.
Figure 5.2.2.3.16-1: Connection Resume in CM-IDLE with Suspend
1\. The NF Service Consumer shall request the SMF to resume the user plane
connection of the PDU session by sending a POST request, as specified in
clause 5.2.2.3.1, with the following information:
\- the upCnxState attribute set to ACTIVATING;
\- user location and user location timestamp;
\- cause attribute set to \"PDU_SESSION_RESUMED\";
\- N2 SM information received from the 5G-AN, i.e. Path Switch Request
Transfer including the new transport layer address and tunnel endpoint of the
downlink termination point for the user data for this PDU session (i.e.
5G-AN\'s GTP-U F-TEID for downlink traffic), or UE Context Resume Request
Transfer;
\- additional N2 SM information received from the 5G-AN, if any;
\- the \"MO Exception Data Counter\" if the UE has accessed the network by
using \"MO exception data\" RRC establishment cause;
\- other information, if necessary.
2a. If the SMF can proceed with resuming the user plane connection of the PDU
session, the SMF shall return a 200 OK response including the following
information:
\- the upCnxState attribute set to ACTIVATED;
\- N2 SM information, i.e. Path Switch Response Transfer including the
transport layer address and tunnel endpoint of the uplink termination point
for the user data for this PDU session (i.e. UPF\'s GTP-U F-TEID for uplink
traffic), or UE Context Resume Response Transfer.
If the \"MO Exception Data Counter is included in the request and Small Data
Rate Control is enabled for the PDU session, the V-SMF shall update the H-SMF
(see clause 5.2.2.8.2.2) for HR PDU Session (or I-SMF shall update the SMF for
PDU session with I-SMF).
2b. If the SMF cannot proceed with resuming the user plane connection of the
PDU session, the SMF shall return an error response, as specified for step 2b
of figure 5.2.2.3.1-1, including:
\- the upCnxState attribute representing the final state of the user plane
connection (e.g. SUSPENDED);
\- N2 SM information, including the cause of the failure.
##### 5.2.2.3.17 AMF requested PDU Session Release due to Network Slice-
Specific Authentication and Authorization failure or revocation
The requirements specified in clause 5.2.2.3.1 shall apply with the following
modifications.
1\. Same as step 1 of Figure 5.2.2.3.1-1, with the following modifications.
The POST request shall contain:
\- the release IE set to true;
\- the cause IE set to REL_DUE_TO_SLICE_NOT_AUTHORIZED.
##### 5.2.2.3.18 5GS to EPS Idle mode mobility using N26 interface with data
forwarding
The NF Service Consumer (e.g. AMF) shall request the SMF to forward buffered
DL data towards the EPS during a 5GS to EPS Idle mode mobility using N26
interface with data forwarding (see 4.11.1.3.2A of 3GPP TS 23.502 [3]), as
follows.
Figure 5.2.2.3.18-1: 5GS to EPS Idle mode mobility using N26 interface with
data forwarding
1\. The NF Service Consumer shall send a POST request, as specified in clause
5.2.2.3.1, with the following information:
\- forwardingFTeid received from the MME in the Context Acknowdge, if any; or
\- forwarding bearer contexts received from the MME in Context Acknowdge, if
any.
2a. Upon receipt of such a request, the SMF shall forward the buffered DL data
on the forwarding tunnel(s).
2b. If the SMF cannot proceed with the request, the SMF shall return an error
response, as specified for step 2b of figure 5.2.2.3.1-1.
##### 5.2.2.3.19 AMF requested PDU Session Release due to Control Plane Only
indication associated with PDU Session is not applicable any longer
The requirements specified in clause 5.2.2.3.1 shall apply with the following
modifications.
1\. Same as step 1 of Figure 5.2.2.3.1-1, with the following modifications.
The POST request shall contain:
\- the release IE set to true;
\- the cause IE set to REL_DUE_TO_CP_ONLY_NOT_APPLICABLE.
##### 5.2.2.3.20 AMF requested PDU Session Release due to ODB changes
The requirements specified in clause 5.2.2.3.1 shall apply with the following
modifications.
1\. Same as step 1 of Figure 5.2.2.3.1-1, with the following modifications.
The POST request shall contain:
\- the release IE set to true;
> \- the cause IE set to REL_DUE_TO_SUBSCRIPTION_CHANGE.
##### 5.2.2.3.21 N9 Forwarding Tunnel establishment between Branching Points
or UL CLs controlled by different I-SMFs
During simultaneous change of Branching Points or UL CLs controlled by
different I-SMFs, the NF Service Consumer (e.g. target I-SMF) shall use this
procedure to exchange N9 forwarding tunnel information with the NF Service
Producer (e.g. source I-SMF).
The NF Service Consumer (e.g. target I-SMF) shall request the source I-SMF to
establish one downlink and/or one uplink N9 data forwarding tunnels, as
follows.
Figure 5.2.2.3.21-1: N9 Forwarding Tunnel establishment between Branching
Points or UL CLs controlled by different I-SMFs
1\. The NF Service Consumer shall send a POST request, as specified in clause
5.2.2.3.1, with the following information:
\- dataForwarding attribute set to true, for the N9 Forwarding Tunnel
establishment between Branching Points or UL CLs controlled by different
I-SMFs;
\- n9DlForwardingTunnel attribute carrying the N9 downlink data forwarding
tunnel info of target Branching Point or UL CL;
\- other information, if necessary.
2a. Same as step 2a of Figure 5.2.2.3.1-1, with the following information:
\- n9UlForwardingTunnel attribute carrying the N9 uplink data forwarding
tunnel info of source Branching Point or UL CL;
\- other information, if necessary.
2b. If the source I-SMF cannot proceed with the request, the source I-SMF
shall return an error response, as specified for step 2b of figure
5.2.2.3.1-1.
##### 5.2.2.3.22 Remote UE Report during 5G ProSe Communication via 5G ProSe
Layer-3 UE-to-Network Relay without N3IWF procedure
The requirements specified in clause 5.2.2.3.1 shall apply with the following
modifications.
1\. Same as step 1 of Figure 5.2.2.3.1-1, with the following modifications.
The POST request shall contain:
\- the n1SmMsg IE containing the Remote UE Report NAS Message.
For Home-Routed PDU Session or PDU session with I-SMF, the V-SMF or I-SMF
shall invoke the Update service operation on the (H-)SMF, as specified in
clause 5.2.2.8.2.24.
2\. Same as step 2 of Figure 5.2.2.3.1-1, with the following modifications.
The POST response shall contain:
\- the n1SmMsg IE containing the Remote UE Report Response NAS Message.
##### 5.2.2.3.23 AMF requested PDU Session Release due to V/I-SMF failure
The AMF may request PDU Session Release towards an alternative V/I-SMF in the
same SMF Set when it detects the V/I-SMF has failed and if the V/I-SMF
supports the DLSET feature while the (H-)SMF doesn\'t support the PSETR
feature as specified in clause 6.8.2 of 3GPP TS 23.527 [24]. When the AMF
sends an Update SM Context Request, the requirements specified in clause
5.2.2.3.1 shall apply with the following modifications.
1\. Same as step 1 of Figure 5.2.2.3.1-1, with the following modifications.
The POST request shall contain:
\- the release IE set to true;
> \- the cause IE set to REL_DUE_TO_SMF_NOT_SUPPORT_PSETR.
##### 5.2.2.3.24 Connection Inactive procedure with CN based MT communication
handling
The NF Service Consumer (e.g. AMF) shall request the SMF to apply CN based MT
communication handling as specified in clauses 4.8.1.1a and 4.8.2.2b of 3GPP
TS 23.502 [3] when the AMF is notified by the NG-RAN that the NG-RAN has
transited the UE using eDRX to RRC_INACTIVE state and the SMF supports the
UPCSMT feature (see clause 6.1.8).
Figure 5.2.2.3.24-1: NG-RAN initiated Connection Inactive procedure
1\. The NF Service Consumer shall request the SMF to suspend the user plane
connection of the PDU session by sending a POST request, as specified in
clause 5.2.2.3.1, with the following information:
\- cnBasedMt is set to \"true\"
\- upCnxState attribute set to SUSPENDED;
\- user location and user location timestamp;
\- N2 SM information received from the 5G-AN, e.g. Secondary RAT Data Usage,
if available;
\- other information, if necessary.
Editor\'s Note: The N2 message and N2 IE(s) are to be aligned with RAN3.
NOTE 1: As an implementation option, the AMF can force the UE to enter CM Idle
if the SMF does not support the UPCSMT feature.
2\. Upon receipt of such a request, the SMF shall keep the NG-RAN N3 DL F-TEID
and set the upCnxState attribute to SUSPENDED and return a 200 OK response
including the upCnxState attribute set to SUSPENDED. The SMF will request the
UPF to buffer any subsequent downlink data and report the receiving DL data to
the SMF. Upon receiving DL data report, the SMF will invoke the
Namf_MT_EnableUEReachability service operation when the upCnxState of the PDU
session is set to SUSPENDED, to trigger a NG-RAN paging.
NOTE 2: The SMF applies the same behaviour for a PDU session with user plane
connection set to \"SUSPENDED\" with or without a cnBasedMt indication. The
cnBasedMt indication can be used for statistics purpose for UEs entering
RRC_Inactive with long eDRX.
##### 5.2.2.3.25 UE Triggered Connection Resume in RRC Inactive procedure
Upon receiving a notification from NG-RAN that the UE is in RRC_CONNECTED mode
or when receiving from NG-RAN a MT Communication Handling request indicating
the UE is now reachable for downlink data and/or signalling as specified in
clause 4.8.2.2 of 3GPP TS 23.502 [3], the NF Service Consumer (e.g. AMF) shall
request the SMF to resume the User Plane connection of an existing PDU
session, i.e. establish the N3 tunnel between the 5G-AN and UPF, as follows.
Figure 5.2.2.3.25-1: UE Triggered Connection Resume in RRC Inactive
1\. The NF Service Consumer shall request the SMF to resume the user plane
connection of the PDU session by sending a POST request, as specified in
clause 5.2.2.3.1, with the following information:
\- the upCnxState attribute set to ACTIVATING;
\- user location and user location timestamp;
\- cause attribute set to \"PDU_SESSION_RESUMED\";
\- N2 SM information received from the 5G-AN, i.e. the Path Switch Request
Transfer including the new transport layer address and tunnel endpoint of the
downlink termination point for the user data for this PDU session (i.e.
5G-AN\'s GTP-U F-TEID for downlink traffic), or the N2 Notification Request
Transfer;
Editor\'s Note: The N2 message (and its IEs, e.g. N2 Notification
Request/Response Transfer) to notify the AMF that UE transits into
RRC_CONNECTED when the NG-RAN has the UE context is to be aligned with NGAP
specification.
\- additional N2 SM information received from the 5G-AN, if any;
\- other information, if necessary.
2a. If the SMF can proceed with resuming the user plane connection of the PDU
session, i.e. request the UPF to forward any received DL data to the NG-RAN DL
F-TEID which is stored in the SMF when the SMF is requested to apply CN based
MT handling, the SMF shall return a 200 OK response including the following
information:
\- the upCnxState attribute set to ACTIVATED;
\- N2 SM information, i.e. Path Switch Response Transfer including the
transport layer address and tunnel endpoint of the uplink termination point
for the user data for this PDU session (i.e. UPF\'s GTP-U F-TEID for uplink
traffic), or N2 Notification Response Transfer.
2b. If the SMF cannot proceed with resuming the user plane connection of the
PDU session, the SMF shall return an error response, as specified for step 2b
of figure 5.2.2.3.1-1, including:
\- the upCnxState attribute representing the final state of the user plane
connection (e.g. DEACTIVATED);
\- N2 SM information, including the cause of the failure.
##### 5.2.2.3.26 AMF requested PDU Session Release due to Network Slice
instance not available
The requirements specified in clause 5.2.2.3.1 shall apply with the following
modifications.
1\. Same as step 1 of Figure 5.2.2.3.1-1, with the following modifications.
The POST request shall contain:
\- the release IE set to true;
\- the cause IE set to \"REL_DUE_TO_NSI_NOT_AVAILABLE\".
##### 5.2.2.3.27 AMF requested PDU Session Release due to MBSR not authorized
The requirements specified in clause 5.2.2.3.1 shall apply with the following
modifications.
1\. Same as step 1 of Figure 5.2.2.3.1-1, with the following modifications.
The POST request shall contain:
\- the release IE set to true;
\- the cause IE set to \"REL_DUE_TO_MBSR_NOT_AUTHORIZED\".
#### 5.2.2.4 Release SM Context service operation
##### 5.2.2.4.1 General
The Release SM Context service operation shall be used to release the SM
Context of a given PDU session, in the SMF, in the V-SMF for HR roaming
scenarios, or in the I-SMF for a PDU session with an I-SMF, in the following
procedures:
\- Registration procedure with I-SMF/V-SMF change and removal (see clause
4.23.3 of 3GPP TS 23.502 [3]);
\- UE Triggered Service Request with I-SMF change and removal or V-SMF change
(see clause 4.23.4.3 of 3GPP TS 23.502 [3]);
\- UE initiated Deregistration (see clause 4.2.2.3.2 of 3GPP TS 23.502 [3]);
\- Network initiated Deregistration, e.g. AMF initiated deregistration (see
clause 4.2.2.3.3 of 3GPP TS 23.502 [3]), UDM triggered deregistration by
sending Deregistration notification with initial Registration indication (see
clause 4.2.2.2.2 of 3GPP TS 23.502 [3]);
\- Network requested PDU session release (see clause 4.3.4.2 of 3GPP TS 23.502
[3]), e.g. AMF initiated release:
\- when there is a mismatch of the PDU session status between the UE and the;
\- when there is a change of the set of network slices for a UE where a
network slice instance is no longer available (as described in clause
5.15.5.2.2 of 3GPP TS 23.501 [2] and in clause 4.2.2.2 of 3GPP TS 23.502 [3])
and the PDU session is not activated;
\- when there is a PDU session rejected by the new AMF to the old AMF during
Registration procedure (as described in clause 4.2.2.2.2 of 3GPP TS 23.502
[3]); or
\- due to Mobility or Access Restrictions (see clause 5.16.4.3 of 3GPP TS
23.501 [2]).
\- 5GS to EPS Idle mode mobility or handover, to release the SM context in the
V-SMF only for a Home Routed PDU session or in the I-SMF only for a PDU
session with an I-SMF (see clauses 4.23.12.2 and 4.23.12.6 of 3GPP TS 23.502
[3]), for the PDU sessions that are transferred to EPC;
\- 5GS to EPS handover using N26 interface and 5GS to EPS Idle mode mobility
using N26, to release the PDU session not transferred to EPC (see clauses
4.11.1.2.1 and 4.11.1.3.2 of 3GPP TS 23.502 [3]);
\- Inter NG-RAN node Xn based handover and N2 based handover with I-SMF change
and removal;
\- 5G-SRVCC from NG-RAN to 3GPP UTRAN procedure (see clause 6.5.4 of 3GPP TS
23.216 [35]);
\- 5G-RG Deregistration via W-5GAN (see clause 7.2.1.2 of 3GPP TS 23.316
[36]);
\- FN-RG Deregistration via W-5GAN (see clause 7.2.1.4 of 3GPP TS 23.316
[36]);
\- Non-5G capable device behind 5G-CRG and FN-CRG Deregistration via W-5GAN
(see clause 4.10a of 3GPP TS 23.316 [36]);
\- 5G-RG or Network requested PDU Session Release via W-5GAN (see clause 7.3.3
of 3GPP TS 23.316 [36]);
\- FN-RG or Network Requested PDU Session Release via W-5GAN (see clause 7.3.7
of 3GPP TS 23.316 [36]);
\- Non-5G capable device behind 5G-CRG and FN-CRG or Network Requested PDU
Session Release via W-5GAN (see clause 4.10a of 3GPP TS 23.316 [36]);
\- Mobility procedures with AMF changes (e.g. Registration / N2 based handover
with AMF changes), to release the MA-PDU session if target AMF does not
support MA-PDU session (see clause 4.22.9 of 3GPP TS 23.502 [3]).
The SMF shall release the SM context without sending any signalling towards
the 5G-AN and the UE.
The NF Service Consumer (e.g. AMF) shall release the SM Context of a given PDU
session by using the HTTP \"release\" custom operation as shown in Figure
5.2.2.4.1-1.
Figure 5.2.2.4.1-1: SM context release
1\. The NF Service Consumer shall send a POST request to the resource
representing the individual SM context to be deleted. The payload body of the
POST request shall contain any data that needs to be passed to the SMF and/or
N2 SM information (if Secondary RAT usage data needs to be reported).\ \ For a
5GS to EPS Idle mode mobility or handover, for a Home Routed PDU session
associated with 3GPP access and with assigned EBI(s), the POST request shall
contain the vsmfReleaseOnly indication; for a PDU session with an I-SMF and
assigned EBI(s), the POST request shall contain the ismfReleaseOnly
indication.
For a 5GS to EPS Idle mode mobility or handover, for a Home Routed PDU session
associated with 3GPP access and with no assigned EBI(s), the POST request
shall not contain the vsmfReleaseOnly indication to release the PDU session in
the V-SMF and H-SMF; for a PDU session with an I-SMF and with no assigned
EBI(s), the POST request shall not contain the ismfReleaseOnly indication to
release the PDU session in the I-SMF and SMF.
For Registration, UE Triggered Service Request, Inter NG-RAN node Xn based
handover and N2 based handover procedures with I-SMF change or removal, the
POST request shall contain the ismfReleaseOnly indication; if with V-SMF
change or removal, the POST request shall contain the vsmfReleaseOnly
indication.
For 5G-SRVCC from NG-RAN to 3GPP UTRAN, the POST request body shall contain
the \"cause\" attribute with the value \"REL_DUE_TO_PS_TO_CS_HO\".
2a. On success, the SMF shall return a \"200 OK\" with message body containing
the representation of the SmContextReleasedData when information needs to be
returned to the NF Service Consumer, or a \"204 No Content\" response with an
empty payload body in the POST response.
If the POST request contains a vsmfReleaseOnly indication (i.e. for a 5GS to
EPS Idle mode mobility or handover, for a Home Routed PDU session with
assigned EBI(s)), the V-SMF shall release its SM context and corresponding PDU
session resource locally, i.e. without signalling towards the H-SMF.
If the POST request contains an ismfReleaseOnly indication (i.e. for a 5GS to
EPS Idle mode mobility or handover, for a PDU session with an I-SMF and
assigned EBI(s)), the I-SMF shall release its SM context and corresponding PDU
session resource locally, i.e. without signalling towards the SMF.
If the POST request body contains the \"cause\" attribute with the value
\"REL_DUE_TO_PS_TO_CS_HO\", the SMF shall indicate to the PCF within SM Policy
Association termination that the PDU session is released due to 5G-SRVCC, or
the cause value shall be passed from the V-SMF to the H-SMF (for a HR PDU
session) or from the I-SMF to the SMF (for a PDU session with an I-SMF) within
the Release service operation.
2b. On failure or redirection, one of the HTTP status code listed in Table
6.1.3.3.4.3.2-2 shall be returned. For a 4xx/5xx response, the message body
shall include a ProblemDetails structure with the \"cause\" attribute set to
one of the application error listed in Table 6.1.3.3.4.3.2-2.
#### 5.2.2.5 Notify SM Context Status service operation
##### 5.2.2.5.1 General
The Notify SM Context Status service operation shall be used by the SMF to
notify the NF Service Consumer about the status of an SM context related to a
PDU session (e.g. when the SM context is released and the release is not
triggered by a Release SM Context Request, or when the SM context is moved to
another system, or when the control of the PDU session is taken over by
another I-SMF/V-SMF/SMF in the same SMF set) in the SMF, or in the V-SMF for
HR roaming scenarios, or in the I-SMF for a PDU session with an I-SMF.
The Notify SM Context Status service operation may also be used by the SMF to
provide the SMF derived CN assisted RAN parameters tuning to the NF Service
Consumer (e.g. AMF), if the NF Service Consumer has indicated support of the
CARPT (CN Assisted RAN Parameters Tuning) feature.
The Notify SM Context Status service operation may also be used by the SMF to
notify the DDN failure status.
The Notify SM Context Status service operation may also be used to inform the
NF service consumer (e.g. AMF) that the V-SMF has created the PDU session
towards an alternative H-SMF for a HR PDU session or the I-SMF has created the
PDU session towards an alternative SMF for a PDU session with I-SMF, during
the PDU session establishment procedure.
It is used in the following procedures:
\- UE requested PDU Session Establishment procedure, when the PDU session
establishment fails after the Create SM Context response or to provide the SMF
derived CN assisted RAN parameters tuning, or when an alternative H-SMF is
used by the V-SMF for a HR PDU session (see clause 4.3.2.2 of 3GPP TS 23.502
[3]), or when an alternative SMF is used by the I-SMF for a PDU session with
an I-SMF (see clause 4.23.5.1 of 3GPP TS 23.502 [3]);
\- UE or Network requested PDU session Modification (see clause 4.3.3.2 of
3GPP TS 23.502 [3]) to provide the SMF derived CN assisted RAN parameters
tuning;
\- UE or Network requested PDU session release (see clause 4.3.4.2 of 3GPP TS
23.502 [3]), e.g. SMF initiated release;
\- Handover of a PDU Session procedure between untrusted non-3GPP to 3GPP
access (see clauses 4.9.2.3.2, 4.9.2.4.2 and 4.23.16.2 of 3GPP TS 23.502 [3]);
\- Interworking procedures without N26 interface, e.g. 5GS to EPS Mobility
(see clause 4.11.2.2 of 3GPP TS 23.502 [3]);
\- Handover from 5GC-N3IWF to EPS (see clause 4.11.3.2 of 3GPP TS 23.502 [3]);
\- Handover from 5GS to EPC/ePDG (see clause 4.11.4.2 of 3GPP TS 23.502 [3]);
\- I-SMF Context Transfer (see clause 4.26.5.2 of 3GPP TS 23.502 [3]);
\- SMF Context Transfer procedure, LBO or no Roaming, no I-SMF (see clause
4.26.5.3 of 3GPP TS 23.502 [3]);
\- Handover from W-5GAN/5GC to 3GPP access/EPS (see clause 7.6.4.2 of 3GPP TS
23.316 [36]);
\- 5G-RG requested PDU Session Establishment via W-5GAN (see clause 7.3.1 of
3GPP TS 23.316 [36]);
\- 5G-RG or Network requested PDU Session Modification via W-5GAN (see clause
7.3.2 of 3GPP TS 23.316 [36]);
\- 5G-RG or Network requested PDU Session Release via W-5GAN (see clause 7.3.3
of 3GPP TS 23.316 [36])
\- FN-RG related PDU Session Establishment via W-5GAN (see clause 7.3.4 of
3GPP TS 23.316 [36]);
\- FN-RG or Network Requested PDU Session Modification via W-5GAN (see clause
7.3.6 of 3GPP TS 23.316 [36]);
\- FN-RG or Network Requested PDU Session Release via W-5GAN (see clause 7.3.7
of 3GPP TS 23.316 [36]);
\- Non-5G capable device behind 5G-CRG and FN-CRG requested PDU Session
Establishment via W-5GAN (see clause 4.10a of 3GPP TS 23.316 [36]);
\- Non-5G capable device behind 5G-CRG and FN-CRG or Network requested PDU
Session Modification via W-5GAN (see clause 4.10a of 3GPP TS 23.316 [36]);
\- Non-5G capable device behind 5G-CRG and FN-CRG or Network requested PDU
Session Release via W-5GAN (see clause 4.10a of 3GPP TS 23.316 [36]);
\- Handover between 3GPP access/5GC and W-5GAN access (see clause 7.6.3 of
3GPP TS 23.316 [36]);
\- Handover from 3GPP access/EPS to W-5GAN/5GC (see clause 7.6.4.1 of 3GPP TS
23.316 [36]);
\- Information flow for Availability after DDN Failure with SMF buffering (see
clause 4.15.3.2.7 of 3GPP TS 23.502 [3]);
\- Information flow for Availability after DDN Failure with UPF buffering (see
clause 4.15.3.2.9 of 3GPP TS 23.502 [3]);
\- The control of the PDU session is taken over by a new anchor SMF within the
same SMF set (see clause 5.22 of 3GPP TS 29.244 [29]) or taken over by a new
intermediate SMF (e.g. I-SMF or V-SMF) within the same SMF set, and the new
SMF instance decides to notify the change of SMF;
\- SMF triggered I-SMF selection or removal (see clause 4.23.5.4 of 3GPP TS
23.502 [3]);
\- Change of SSC mode 2 PDU Session Anchor with different PDU Sessions (see
clause 4.3.5.1 of 3GPP TS 23.502 [3]);
\- Change of SSC mode 3 PDU Session Anchor with multiple PDU Sessions (see
clause 4.3.5.2 of 3GPP TS 23.502 [3]).
The SMF shall notify the NF Service Consumer by using the HTTP POST method as
shown in Figure 5.2.2.5.1-1.
Figure 5.2.2.5.1-1: SM context status notification
1\. The SMF shall send a POST request to the SM Context Status callback
reference provided by the NF Service Consumer during the subscription to this
notification. The payload body of the POST request shall contain the
notification payload.
If the notification is triggered by PDU session handover to release resources
of the PDU session in the source access, the notification payload shall
contain the resourceStatus IE with the value \"RELEASED\" and the Cause IE
with the value \"PDU_SESSION_HANDED_OVER\" as specified in clause 4.9.2.3.2 of
3GPP TS 23.502 [3].
If the notification is triggered by PDU session handover to release only the
SM Context with the I-SMF in the source access but without releasing the PDU
session in the AMF, the notification payload shall contain the resourceStatus
IE with the value \"UPDATED\" and the Cause IE with the value
\"PDU_SESSION_HANDED_OVER\" as specified in clause 4.23.16.2 of 3GPP TS 23.502
[3]. If the notification is triggered by PDU session handover to release
resources of the PDU session in the target access due to handover failure
between 3GPP access and non-3GPP access, the notification payload shall
contain the resourceStatus IE with the value \"RELEASED\" and the Cause IE
with the value \"PDU_SESSION_HAND_OVER_FAILURE\".
If the NF Service Consumer indicated support of the HOFAIL feature (see clause
6.1.8) and if the notification is triggered by PDU session handover to update
the access type of the PDU session due to a handover failure between 3GPP
access and non-3GPP access, the notification payload shall contain the
resourceStatus IE with the value \"UPDATED\", the anType IE with the value
\"3GPP\" or \"NON_3GPP\" indicating the access type of the PDU session after
the handover failure scenario and the Cause IE with the value
\"PDU_SESSION_HAND_OVER_FAILURE\".
If the notification is triggered by the SMF derived CN assisted RAN parameters
tuning, the notification payload shall contain the resourceStatus IE with the
value \"UNCHANGED\" and the Cause IE with the value
\"CN_ASSISTED_RAN_PARAMETER_TUNING\".
If the notification is triggered by SMF Context Transfer procedure, the
notification payload shall contain the Cause IE with the value
\"ISMF_CONTEXT_TRANSFER\" or \"SMF_CONTEXT_TRANSFER\".
If the notification is triggered by the report of the DDN failure, the
notification payload shall contain the resourceStatus IE with the value
\"UNCHANGED\" and the Cause IE with the value \"DDN_FAILURE_STATUS\".
If the notification is triggered to report that an alternative (H-)SMF has
been used during a HR PDU session establishment or the establishment of a PDU
session with an I-SMF, the notification payload shall contain the
resourceStatus IE with the value \"ALT_ANCHOR_SMF\". The notification payload
shall also include the altAnchorSmfUri IE containing the API URI of the
alternative (H-)SMF used for the PDU session and if available the
altAnchorSmfId IE containing the NF Instance Id of the alternative (H-)SMF.
The Notification shall only be sent to the NF service consumer (e.g. AMF)
supporting the AASN feature.
For a PDU session without an I-SMF or V-SMF, if upon a change of anchor SMF,
the new anchor SMF instance decides to notify the change of anchor SMF, then
the notification payload shall contain the resourceStatus IE with the value
\"UPDATED\" and the Cause IE with the value \"CHANGED_ANCHOR_SMF\". In
addition, the new anchor SMF shall include its SMF Instance ID in the
notification payload, and/or carry an updated binding indication in the HTTP
headers to indicate the change of anchor SMF (as per step 6 of clause 6.5.3.3
of 3GPP TS 29.500 [4]).
For a PDU session with an I-SMF or V-SMF, if upon a change of intermediate SMF
(e.g. I-SMF or V-SMF), the new intermediate SMF instance decides to notify the
change of intermediate SMF, then the notification payload shall contain the
resourceStatus IE with the value \"UPDATED\" and the Cause IE with the value
\"CHANGED_INTERMEDIATE_SMF\". In addition, the new intermediate SMF shall
include its SMF Instance ID in the notification payload, and/or carry an
updated binding indication in the HTTP headers to indicate the change of
intermediate SMF (as per step 6 of clause 6.5.3.3 of 3GPP TS 29.500 [4]).
For a PDU session with an I-SMF or V-SMF, if the notification is triggered by
the change of the anchor SMF (e.g. the PDU session is taken over by a new SMF
within the same SMF Set selected by the UPF), the notification payload shall
contain the resourceStatus IE with the value \"UPDATED\", the Cause IE with
the value \"CHANGED_ANCHOR_SMF\" and the SMF Instance ID of the new anchor
SMF.
If the notification is triggered by SMF for I-SMF selection or removal for the
current PDU session, or SMF selection during PDU Session re-establishment for
SSC mode 2/3, the notification payload shall contain the resourceStatus IE
with the value \"UNCHANGED\", the Cause IE with the value
\"TARGET_DNAI_NOTIFICATION\" and the targetDnaiInfo IE. The targetDnai IE in
the targetDnaiInfo IE shall be absent if the I-SMF removal is triggered due to
the DNAI currently served by the I-SMF being no longer used for the PDU
Session. If the notification is triggered for SMF selection during PDU Session
re-establishment for SSC mode 3, the notification payload may also contain the
oldPduSessionRef IE received from the SMF or the oldSmContextRef IE as
specified in clause 4.3.5.2 of 3GPP TS 23.502 [3].
> If the notification is triggered by a PDU session release due to slice
> inactivity as specified in clause 5.15.15.3 of 3GPP TS 23.501 [2], the
> notification payload shall contain the resourceStatus IE with the value
> \"RELEASED\" and the Cause IE with the value
> \"REL_DUE_TO_SLICE_INACTIVITY\".
2a. On success, \"204 No Content\" shall be returned and the payload body of
the POST response shall be empty.
If the SMF indicated in the request that the SM context resource is released,
the NF Service Consumer shall release its association with the SMF for the PDU
session and release the EBI(s) that were assigned to the PDU session.
If the SMF indicated in the request that the SM context resource is updated
with the anType IE, the NF Service Consumer shall change the access type of
the PDU session with the value of anType IE.
If the notification request was triggered by PDU session handover to release
only the SM Context with the I-SMF in the source access but without releasing
the PDU session in the AMF, the AMF shall remove its resources associated to
the SM context with the I-SMF, but the AMF shall not release the PDU session
in the AMF, and the I-SMF shall remove its resources associated to the PDU
session.
2b. On failure or redirection, one of the HTTP status code listed in Table
6.1.3.7.3.1-2 shall be returned. For a 4xx/5xx response, the message body
shall contain a ProblemDetails structure with the \"cause\" attribute set to
one of the application error listed in Table 6.1.3.7.3.1-2.
If the NF Service Consumer (e.g. AMF) is not able to handle the notification
but knows by implementation specific means that another NF Service Consumer
(e.g. AMF) is able to handle the notification (e.g. AMF deployment with Backup
AMF), it shall reply with an HTTP \"307 temporary redirect\" response pointing
to the URI of the new NF Service Consumer. If the NF Service Consumer is not
able to handle the notification but another unknown NF Service Consumer could
possibly handle the notification (e.g. AMF deployment with UDSF), it shall
reply with an HTTP \"404 Not found\" error response.
If the SMF receives a \"307 temporary redirect\" response, the SMF shall use
this URI as Notification URI in subsequent communication and shall resend the
notification to that URI.
If the SMF becomes aware that a new NF Service Consumer (e.g. AMF) is
requiring notifications (e.g. via the \"404 Not found\" response or via
Namf_Communication service AMFStatusChange Notifications, or via link level
failures, see clause 6.5.2 of 3GPP TS 29.500 [4]), and the SMF knows alternate
or backup Address(es) where to send Notifications (e.g. via the GUAMI and/or
backupAmfInfo received when the SM context was established or via
AMFStatusChange Notifications, or via the Nnrf_NFDiscovery service specified
in 3GPP TS 29.510 [19] using the service name and GUAMI or backupAMFInfo
obtained during the creation of the SM context, see clause 6.5.2.2 of 3GPP TS
29.500 [4]), the SMF shall exchange the authority part of the corresponding
Notification URI with one of those addresses and shall use that URI in
subsequent communication; the SMF shall resend the notification to that URI.
#### 5.2.2.6 Retrieve SM Context service operation
##### 5.2.2.6.1 General
The Retrieve SM Context service operation shall be used to retrieve an
individual SM context, for a given PDU session, from the (H-)SMF, from the
V-SMF during change or removal of V-SMF, or from the I-SMF during change or
removal of I-SMF.
It is used in the following procedures:
\- 5GS to EPS handover using N26 interface (see clause 4.11.1.2.1 of 3GPP TS
23.502 [3]), for PDU sessions associated with 3GPP access;
\- 5GS to EPS Idle mode mobility using N26 interface (see clause 4.11.1.3.2 of
3GPP TS 23.502 [3]), for PDU sessions associated with 3GPP access;
\- UE Triggered Service Request with I-SMF insertion/change/removal or with
V-SMF insertion/change/removal (see clause 4.23.4.3 of of 3GPP TS 23.502 [3]);
\- Xn based inter NG-RAN handover with insertion of intermediate SMF (see
clause 4.23.11 of 3GPP TS 23.502 [3]), for PDU sessions associated with 3GPP
access;
\- Inter NG-RAN node N2 based handover, preparation phase, with I-SMF or V-SMF
insertion/change (see clause 4.23.7.3.2 of 3GPP TS 23.502 [3]), for PDU
sessions associated with 3GPP access;
\- SMF Context Transfer procedure, LBO or no Roaming, no I-SMF (see clause
4.26.5.3 of 3GPP TS 23.502 [3]), for PDU sessions associated with 3GPP access;
\- I-SMF selection per DNAI (see clause 4.23.5.4 of 3GPP TS 23.502 [3]);
\- Change of SSC mode 3 PDU Session Anchor with multiple PDU Sessions (see
clause 4.3.5.2 of 3GPP TS 23.502 [3]).
The NF Service Consumer (e.g. AMF or SMF) shall retrieve an SM context by
using the HTTP POST method (retrieve custom operation) as shown in Figure
5.2.2.6.1-1.
Figure 5.2.2.6.1-1: SM context retrieval
1\. The NF Service Consumer shall send a POST request to the resource
representing the individual SM context to be retrieved. The POST request may
contain a payload body with the following parameters:
\- target MME capabilities, if available, to allow the SMF to determine
whether to include EPS bearer contexts for Ethernet PDN Type, non-IP PDN type,
or requiring UP integrity protection or not;
\- SM context type:
\- indicating that this is a request to retrieve the complete SM context (i.e.
5G SM context including EPS context information as defined in clause
6.1.6.2.39), during scenarios with an I-SMF or V-SMF insertion/change/removal
or SMF Context Transfer procedure; or
\- indicating that this is a request to retrieve the AF Coordination
Information as defined in clause 6.1.6.2.69, during the change of SSC mode 3
PDU Session Anchor with multiple PDU Sessions, if the runtime coordination
between old SMF and AF is enabled.
\- serving core network operator PLMN ID of the new V-SMF, when the procedure
is triggered by a new V-SMF, if the new V-SMF supports inter-PLMN V-SMF change
or insertion. Or the serving core network operator PLMN ID of the new I-SMF
during the procedure with an I-SMF insertion;
\- notToTransferEbiList IE, if the SM context type IE is absent or indicate a
request to retrieve the EPS PDN connection, to request the SMF to not transfer
EPS bearer context(s) corresponding to EBIs in the list, during an 5GS to EPS
mobility when the target MME does not support 15 EPS bearers;
\- ranUnchangedInd IE, if the NG-RAN Tunnel info is required in scenario of
I-SMF/V-SMF change/insertion during registration procedure after EPS to 5GS
handover or I-SMF selection/removal per DNAI, when the UE is in CM-CONNECTED
state as specified in clauses 5.2.2.2.7 and 5.2.2.2.12.
2a. On success, \"200 OK\" shall be returned; the payload body of the POST
response shall contain the mapped EPS bearer contexts if this is a request for
the UE EPS PDN connection, or the complete SM context if this is a request for
retrieving the complete SM context, or the AF Coordination Information if this
is a request for retrieving the AF Coordination Information.\ \ If this is a
request for the UE EPS PDN connection and the target MME capabilities were
provided in the request parameters:
\- if the target MME supports the non-IP PDN type, the SMF shall return, for a
PDU session with PDU session type \"Unstructured\", an EPS bearer context with
the \"non-IP\" PDN type;
\- if the target MME supports the Ethernet PDN type, the SMF shall return, for
a PDU session with PDU session type \"Ethernet\", an EPS bearer context with
the \"Ethernet\" PDN type;
\- if the target MME does not support the Ethernet PDN type but supports the
non-IP PDN type, the SMF shall return, for a PDU session with PDU session type
\"Ethernet\", an EPS bearer context with the \"non-IP\" PDN type.
If the notToTransferEbiList IE was included in the request, the SMF shall not
provide EPS bearer context(s) corresponding to EBIs in the list.
If this is a request for retrieving the complete SM context and there are
downlink data packets buffered at I-UPF, the SMF shall include the
\"forwardingInd\" attribute with value \"true\" in the response body to
indicate downlink data packets are buffered at the I-UPF. The NF Service
Consumer receiving the \"forwardingInd\" attribute with the value \"true\"
shall setup a forwarding tunnel for receiving the buffered downlink data
packets.
If this is a request for retrieving the complete SM context for an inter-PLMN
V-SMF change, i.e. if the request contains the serving core network operator
PLMN ID indicating a different PLMN than the PLMN of the SMF (acting as the
old V-SMF), the latter shall not include the chargingInfo IE and the
roamingChargingProfile IE in the SM context returned in the response.
During a procedure with an I-SMF or V-SMF insertion, the anchor SMF should use
the servingNetwork IE received in the Retrieve SM Context Request to determine
whether the inserted entity is an I-SMF or V-SMF, and if so, encode in the SM
Context returned in the response the applicable set of attributes (e.g.
hsmfUri, hSmfInstanceId, hSmfServiceInstanceId to a V-SMF, or smfUri,
smfInstanceId, smfServiceInstanceId to an I-SMF) and the applicable URI in the
pduSessionRef if different URIs are used for intra-PLMN and inter-PLMN
signaling requests targeting the PDU session context.
NOTE 1: During an inter-PLMN procedure with an I-SMF or V-SMF change, the old
V-SMF or I-SMF returns the attributes of the SM context as were received from
the anchor SMF.
If the UE, target MME and AMF support User Plane integrity protection with
EPS, the SMF shall include the UP Security Policy IE in the UE EPS PDN
connection context if User Plane integrity protection has been enabled by the
SMF as specified in clauses 4.11.1.2.1 and 4.11.1.3.2 of 3GPP TS 23.502 [3].
NOTE 2: During a 5GS to EPS handover, if User Plane Integrity Protection is
used in 5GS and QoS flows are associated with EPS bearer IDs, the I-SMF/V-SMF
considers that the UE supports User Plane Integrity Protection in EPS.
If this is a request for retrieving the complete SM context for an I-SMF or
V-SMF insertion, and the smfUri IE or hSmfUri IE is provided by the AMF in the
Create SM Context request and is different from the smfUri IE or hSmfUri IE in
the SM context returned in the Retrieve SM Context response, the latter (i.e.
the IEs received in the Retrieve SM Context response) shall prevail and be
used by the I-SMF or V-SMF to trigger the create service operation to the
(H-)SMF.
2b. On failure or redirection, one of the HTTP status code listed in Table
6.1.3.3.4.4.2-2 shall be returned. For a 4xx/5xx response, the message body
shall contain a ProblemDetails structure with the \"cause\" attribute set to
one of the application error listed in Table 6.1.3.3.4.4.2-2.
If the EBI value of the QoS Flow associated with the default QoS Rule is
included in the notToTransferEbiList IE, the SMF shall set the \"cause\"
attribute in the ProblemDetails structure to \"DEFAULT_EBI_NOT_TRANSFERRED\".
If a request for the UE EPS PDN connection is rejected due to the target MME
not being capable to support the PDU session, e.g. if the PDU session requires
UP integrity protection but the target MME does not support User Plane
Integrity Protection with EPS, the SMF shall return a 403 Forbidden response
with the \"cause\" attribute in the ProblemDetails structure set to \"
TARGET_MME_CAPABILITY\".
#### 5.2.2.7 Create service operation
##### 5.2.2.7.1 General
The Create service operation shall be used to create an individual PDU session
in the H-SMF for HR roaming scenarios, or in the SMF for PDU sessions
involving an I-SMF.
It is used in the following procedures:
\- UE requested PDU Session Establishment for home-routed roaming or with an
I-SMF (see clauses 4.3.2.2.2 and 4.23.5.1 of 3GPP TS 23.502 [3]);
\- when an I-SMF is inserted during the Registration, Service Request, Inter
NG-RAN node N2 based handover, Xn based handover and Handover from non-3GPP to
3GPP access procedures (see clauses 4.23.3, 4.23.4, 4.23.7.3, 4.23.11.2 and
4.23.16 of 3GPP TS 23.502 [3]);
\- when a V-SMF is inserted during the Registration and Inter NG-RAN node N2
based handover (see clauses 4.23.3 and 4.23.7.3 of 3GPP TS 23.502 [3]);
\- EPS to 5GS Idle mode mobility or handover using N26 interface (see clauses
4.11, 4.23.12.3, 4.23.12.5 and 4.23.12.7 of 3GPP TS 23.502 [3]);
\- EPS to 5GS mobility without N26 interface (see clause 4.11.2.3 of 3GPP TS
23.502 [3]);
\- Handover of a PDU session between 3GPP access and non-3GPP access, when the
target AMF does not know the SMF resource identifier of the SM context used by
the source AMF, e.g. when the target AMF is not in the PLMN of the N3IWF (see
clause 4.9.2.3.2 of 3GPP TS 23.502 [3]);
\- Handover from EPS to 5GC-N3IWF (see clause 4.11.3.1 of 3GPP TS 23.502 [3]);
\- Handover from EPC/ePDG to 5GS (see clause 4.11.4.1 of 3GPP TS 23.502 [3]);
> \- Support of Network Slice Replacement (see clause 5.15.19 of 3GPP TS
> 23.501 [2]).
The NF Service Consumer (e.g. V-SMF or I-SMF) shall create a PDU session in
the SMF (i.e. H-SMF for a HR PDU session, or SMF for a PDU session involving
an I-SMF) by using the HTTP POST method as shown in Figure 5.2.2.7.1-1.
Figure 5.2.2.7.1-1: PDU session creation
1\. The NF Service Consumer shall send a POST request to the resource
representing the PDU sessions collection resource of the SMF. The payload body
of the POST request shall contain:
\- a representation of the individual PDU session resource to be created;
\- the requestType IE, if the Request type IE is received from the UE for a
single access PDU session and if the request refers to an existing PDU session
or an existing Emergency PDU session; the requestType IE shall not be included
for a MA-PDU session establishment request; it may be included otherwise;
\- the indication that a MA-PDU session is requested if a MA-PDU session is
requested to be established by the UE, or the indication that the PDU session
is allowed to be upgraded to a MA PDU session if the UE indicated so;
\- the n3gPathSwitchSupportInd IE if the AMF, V-SMF and the UE support
non-3GPP access path switching as specified in clause 4.22.2.2.1 of 3GPP TS
23.502 [3];
\- the vsmfId IE or ismfId IE identifying the V-SMF or I-SMF respectively;
\- the cpCiotEnabled IE with the value \"True\", if Control Plane CIoT 5GS
Optimisation is enabled for this PDU session;
\- the cpOnlyInd IE with the value \"True\", if the PDU session shall only use
Control Plane CIoT 5GS Optimisation;
\- the Invoke NEF indication with the value \"True\", if the cpCiotEnabled IE
is set to \"True\" and data delivery via NEF is selected for the PDU session;
\- the vcnTunnelInfo IE or icnTunnelInfo IE with the N9 tunnel information of
the UPF controlled by the V-SMF or I-SMF respectively, except for EPS to 5GS
handover using N26 interface and when Control Plane CIoT 5GS Optimisation is
enabled and data delivery via NEF is selected for this PDU session;
\- the additionalCnTunnelInfo IE with additional N9 tunnel information, if a
MA PDU session is requested or if the PDU session is allowed to be upgraded to
a MA PDU session, and if the UE is registered over both 3GPP and Non-3GPP
accesses;
> \- the alternative S-NSSAI, if the NF service consumer and UE support the
> network slice replacement and it is requested to replace the S-NSSAI with
> the alternative S-NSSAI (see clause 5.15.19 of 3GPP TS 23.501 [2]);
\- the anType IE, indicating the access network type (3GPP or non-3GPP access)
associated to the PDU session;
\- the additionalAnType IE indicating an additional access network type
associated to the PDU session, for a MA PDU session, if the UE is registered
over both 3GPP and Non-3GPP accesses;
\- the n9ForwardingTunnelInfo IE indicating the allocated N9 tunnel endpoints
information for receiving the buffered downlink data packets, when downlink
data packets are buffered at I-UPF controlled by the SMF during I-SMF
insertion;
\- a callback URI ({vsmfPduSessionUri} or {ismfPduSessionUri}) representing
the PDU session resource in the V-SMF or I-SMF. The SMF shall construct the
callback URIs based on the received {vsmfPduSessionUri} or {ismfPduSessionUri}
as defined in clause 6.1, e.g. the callback URI \"{vsmfPduSessionUri}/modify\"
to modify a PDU session in the V-SMF;
\- the list of DNAIs supported by the I-SMF, for a PDU session with an I-SMF;
\- the QoS constraints from the VPLMN for the QoS Flow associated with the
default QoS rule and/or for the Session-AMBR if any, for the HR PDU session,
if the VQOS feature is supported by the V-SMF;
\- the upipSupported IE set to \"true\", if the UE supports User Plane
Integrity Protection with EPS and if the AMF supports the related
functionality.
The payload body of the POST request may further contain:
\- the satelliteBackhaulCat IE indicating the category of the satellite
backhaul used towards the 5G AN serving the UE, if the V-SMF/I-SMF received
this information from the AMF;
\- the disasterRoamingInd IE set to true during the PDU session establishment
if the UE is registered for Disaster Roaming service.
As specified in clause 4.3.2.2.2 of 3GPP TS 23.502 [3], the NF Service
Consumer shall be able to receive an Update request before receiving the
Create Response, e.g. for EPS bearer ID allocation (see clause 4.11.1.4.1 of
3GPP TS 23.502 [3]) or Secondary authorization/authentication (see clause
4.3.2.3 of 3GPP TS 23.502 [3]).
NOTE: If the H-SMF supports the VQOS feature, when QoS constraints are
received from the VPLMN and PCF is deployed, the H-SMF provides the QoS
constraints from the VPLMN to the PCF; otherwise, in case dynamic PCC is not
deployed, the SMF takes them into account when generating the default QoS
rule.
2a. On success, \"201 Created\" shall be returned, the payload body of the
POST response shall contain:
\- the representation describing the status of the request;
\- the QoS flow(s) to establish for the PDU session, except when Control Plane
CIoT 5GS Optimisation is enabled for this PDU session;
\- the epsPdnCnxInfo IE and, for each EPS bearer, an epsBearerInfo IE, if the
PDU session is associated to (or handed over to) the 3GPP access type and may
be moved to EPS during its lifetime;
\- a MA PDU Session Accepted indication, if a MA PDU session is established;
\- the smallDataRateControlEnabled indication set to \"true\" if small data
rate control is applicable on the PDU session;
\- the \"Location\" header containing the URI of the created resource;
\- the n3gPathSwitchSupportInd IE if the n3gPathSwitchSupportInd was set to
true in the request and the SMF supports non-3GPP access path switching as
specified in clause 4.22.2.2.1 of 3GPP TS 23.502 [3].
Editor\' Note: The need to populate n3gPathSwitchSupportInd between the V-SMF
and the H-SMF is FFS.
The payload body of the POST response may further contain:
\- the pending update information list, indicating the information elements
whose change(s) are not required to be updated in real-time to the (H-)SMF,
i.e. the change(s) of the indicated information elements may be piggybacked in
a subsequent update to the (H-)SMF together with other information elements.
The payload body of the POST response may also contain the upSecurity,
maxIntegrityProtectedDataRateUl and maxIntegrityProtectedDataRateDl IEs, if
the PDU session is associated to (or handed over to) the 3GPP access type.
The SMF may provide alternative QoS profiles for each GBR QoS flow with
Notification control enabled, to allow the NG-RAN to accept the setup of the
QoS flow if the requested QoS parameters or at least one of the alternative
QoS parameters sets can be fulfilled at the time of setup.
The authority and/or deployment-specific string of the apiRoot of the created
resource URI may differ from the authority and/or deployment-specific string
of the apiRoot of the request URI received in the POST request.
If an Update Request was sent to the NF Service Consumer before the Create
Response, the URI in the \"Location\" header and in the hsmfPduSessionUri IE
(carrying the PDU session resource URI of a HR PDU session or a PDU session
with an I-SMF) of the SMF initiated Update Request shall be the same. If the
requestType IE was received in the request and set to EXISTING_PDU_SESSION or
EXISTING_EMERGENCY_PDU_SESSION (i.e. indicating that this is a UE request for
an existing PDU session or an existing emergency PDU session), the SMF shall
identify the existing PDU session or emergency PDU session based on the PDU
Session ID; in this case, the SMF shall not create a new PDU session or
emergency PDU session but instead update the existing PDU session or emergency
PDU session and provide the representation of the updated PDU session or
emergency PDU session in the response to the NF Service Consumer.
The POST request shall be considered as colliding with an existing PDU session
context if:
\- this is a request to establish a new PDU session, i.e.:
\- the RequestType IE is present in the request and set to INITIAL_REQUEST or
INITIAL_EMERGENCY_REQUEST (e.g. single access PDU session establishment
request);
\- the RequestType IE and the maRequestInd IE are both absent in the request
(e.g. EPS to 5GS mobility); or
\- the maRequestInd IE is present in the request (i.e. MA-PDU session
establishment request) and the access type indicated in the request
corresponds to the access type of the existing PDU session context.
and either of the following conditions is met:
\- this is a request to establish a non-emergency PDU session and the request
includes the same SUPI and the same PDU Session ID as for an existing PDU
session context; or
\- this is a request to establish an emergency PDU session and the request
includes the same SUPI, or PEI for an emergency registered UE without a UICC
or without an authenticated SUPI, as for an existing PDU session context for
an emergency PDU session.
A POST request that collides with an existing PDU session context shall be
treated as a request for a new PDU session context. The SMF shall assign a new
PDU session reference, i.e. {pduSessionRef} (see clause 6.1.3.6.2), which is
different from the existing PDU session context. Before creating the new PDU
session context, the SMF should delete the existing PDU session context
locally and any associated resources in the UPF, PCF, CHF and UDM. See also
clause 5.2.3.3.1 for the handling of requests which collide with an existing
PDU session context. If the vsmfPduSessionUri or ismfPduSessionUri of the
existing PDU session context differs from the vsmfPduSessionUri or
ismfPduSessionUri received in the POST request, the SMF shall also send a
status notification (see clause 5.2.2.10) targeting the vsmfPduSessionUri or
ismfPduSessionUri of the existing PDU session context to notify the release of
the existing PDU session context. The SMF should include a cause IE with value
\"REL_DUE_TO_DUPLICATE_SESSION_ID\" in such a status notification. Upon
receipt of such a status notification, the V-SMF or I-SMF shall not send SM
context status notification to the AMF.
If the requestType IE was received in the request and indicates this is a
request for a new PDU session (i.e. INITIAL_REQUEST) and if the Old PDU
Session ID was also included in the request, the SMF shall identify the
existing PDU session to be released and to which the new PDU session
establishment relates, based on the Old PDU Session ID.
The NF Service Consumer shall store any epsPdnCnxInfo and EPS bearer
information received from the SMF.
If the response received from the SMF contains the alwaysOnGranted attribute
set to true, the NF Service Consumer shall check and determine whether the PDU
session can be established as an always-on PDU session based on local policy.
If no GPSI IE is provided in the request, e.g. for a PDU session moved from
another access or another system, and the SMF knows that a GPSI is already
associated with the PDU session, the SMF shall include the GPSI in the
response.
If one or more requested QoS flow(s) fail to be established, the V-SMF or
I-SMF shall send an Update Request including the qosFlowsRelNotifyList
attribute to report the failure to the H-SMF or SMF (see clause 5.2.2.8.2.2),
or a Release Request to release the PDU session if no QoS flow can be
established (see clause 5.2.2.9).
For UE mobility with I-SMF/V-SMF insertion procedure, if a requested
functionality is not supported for a PDU session with an I-SMF/V-SMF, the SMF
shall accept the POST request and release the PDU Session after the mobility
procedure, as specified in clause 4.23.1 of 3GPP TS 23.502 [3].
2b. On failure, or redirection during a UE requested PDU Session
Establishment, one of the HTTP status code listed in Table 6.1.3.5.3.1-3 shall
be returned. For a 4xx/5xx response, the message body shall contain a
PduSessionCreateError structure, including:
\- a ProblemDetails structure with the \"cause\" attribute set to one of the
application error listed in Table 6.1.3.5.3.1-3. The application error shall
be set to \"NOT_SUPPORTED_WITH_ISMF\" during a UE requested PDU Session
Establishment, if a requested functionality is not supported for a PDU session
with an I-SMF/V-SMF.
\- the n1SmCause IE with the 5GSM cause that the SMF proposes the NF Service
Consumer to return to the UE, if the request included n1SmInfoFromUe;
\- n1SmInfoToUe with any information to be sent to the UE (in the PDU Session
Establishment Reject).
##### 5.2.2.7.2 EPS to 5GS Idle mode mobility
The requirements specified in clause 5.2.2.7.1 shall apply with the following
modifications.
1\. Same as step 1 of Figure 5.2.2.7.1-1, with the following additions.
The POST request shall contain:
\- the list of EPS Bearer Ids received from the MME;
\- the PGW S8-C F-TEID received from the MME;
\- the epsBearerCtxStatus attribute, indicating the status of all the EPS
bearer contexts in the UE, if corresponding information has been received in
the Create SM Context request (see clause 5.2.2.2.2).
2a. Same as step 2 of Figure 5.2.2.7.1-1, with the following modifications.\ \
If:
\- the SMF finds a corresponding PDU session based on the EPS Bearer Ids and
PGW S8-C F-TEID received in the request;
\- the default EPS bearer context of the corresponding PDU session is not
reported as inactive by the UE in the epsBearerCtxStatus attribute, if
received; and
\- the SMF can proceed with moving the PDN connection to 5GS,
then the SMF shall return a 201 Created response including the following
additional information:
\- PDU Session ID corresponding to the EPS PDN connection;
\- other PDU session parameters, such as PDU Session Type, Session AMBR, QoS
flows information.
If the epsBearerCtxStatus attribute is received in the request, the SMF shall
check whether some EPS bearer(s) of the corresponding PDU session have been
deleted by the UE but not notified to the EPS, and if so, the SMF shall
release these EPS bearers, corresponding QoS rules and QoS flow level
parameters locally, as specified in clause 4.11.1.3.3 of 3GPP TS 23.502 [3].
NOTE: The behaviour specified in this step also applies if the POST request
collides with an existing PDU session context, i.e. if the POST request
includes the same SUPI, or PEI for an emergency registered UE without a UICC
or without an authenticated SUPI, and the received EPS bearer ID is the same
as in the existing PDU session context.
2b. Same as step 2b of Figure 5.2.2.7.1-1, with the following additions.
If the SMF determines that seamless session continuity from EPS to 5GS is not
supported for the PDU session, the SMF shall set the \"cause\" attribute in
the ProblemDetails structure to \"NO_EPS_5GS_CONTINUITY\".
If the default EPS bearer context of the PDU session is reported as inactive
by the UE in the epsBearerCtxStatus attribute, the SMF shall set the \"cause\"
attribute in the ProblemDetails structure to \"DEFAULT_EPS_BEARER_INACTIVE\".
##### 5.2.2.7.3 EPS to 5GS Handover Preparation
The requirements specified in clause 5.2.2.7.1 shall apply with the following
modifications.
1\. Same as step 1 of Figure 5.2.2.7.1-1, with the following modifications.
The POST request shall contain:
\- the list of EPS Bearer Ids received from the MME;
\- the PGW S8-C F-TEID received from the MME;
\- the hoPreparationIndication IE set to \"true\", to indicate that a handover
preparation is in progress and the PGW-C/SMF shall not switch the DL user
plane of the PDU session yet.
2a. Same as step 2 of Figure 5.2.2.7.1-1, with the following modifications.
If the SMF finds a corresponding PDU session based on the EPS Bearer Ids and
PGW S8-C F-TEID received in the request, and if it can proceed with the
procedure, the SMF shall return a 201 Created response including the following
information:
\- PDU Session ID corresponding to the EPS PDN connection;
\- other PDU session parameters, such as PDU Session Type, Session AMBR, QoS
flows information;
\- optional udmGroupId, containing the identity of the UDM group serving the
UE, to facilitate the UDM selection at the target AMF. The V/I-SMF shall
forward this IE in the SmContextCreatedData to the target AMF.
\- optional pcfGroupId, containing the identity of the PCF group for Session
Management Policy for the PDU session, to facilitate the PCF selection at the
target AMF. The V/I-SMF shall forward this IE in the SmContextCreatedData to
the target AMF.
The SMF shall not switch the DL user plane of the PDU session, if the
hoPreparationIndication IE was set to \"true\" in the request.
NOTE: The behaviour specified in this step also applies if the POST request
collides with an existing PDU session context, i.e. if the POST request
includes the same SUPI, or PEI for an emergency registered UE without a UICC
or without an authenticated SUPI, and the received EPS bearer ID is the same
as in the existing PDU session context.
2b. Same as step 2b of Figure 5.2.2.7.1-1, with the following additions.
If the H-SMF determines that seamless session continuity from EPS to 5GS is
not supported for the PDU session, the H-SMF shall set the \"cause\" attribute
in the ProblemDetails structure to \"NO_EPS_5GS_CONTINUITY\".
##### 5.2.2.7.4 N2 Handover Preparation with I-SMF Insertion
The requirements specified in clause 5.2.2.7.1 shall apply with the following
modifications.
1\. Same as step 1 of Figure 5.2.2.7.1-1, with the following modifications.
The POST request shall contain:
\- the hoPreparationIndication IE set to \"true\", to indicate that a handover
preparation is in progress and the SMF shall not switch the DL user plane of
the PDU session yet.
2a. Same as step 2 of Figure 5.2.2.7.1-1, with the following modifications:
The SMF shall not switch the DL user plane of the PDU session, if the
hoPreparationIndication IE was set to \"true\" in the request.
##### 5.2.2.7.5 Xn Handover with I-SMF Insertion
The requirements specified in clause 5.2.2.7.1 shall apply with the following
modifications.
1\. Same as step 1 of Figure 5.2.2.7.1-1, with the following modifications.
The POST request shall contain:
\- the upSecurityInfo IE, if received from the AMF.
2a. Same as step 2 of Figure 5.2.2.7.1-1, with the following modifications:
The SMF shall verify that the upSecurity IE included in the received
upSecurityInfo IE is same as the security policy for integrity protection and
encryption that the SMF has locally stored. If there is a mismatch, the SMF
shall send its locally stored security policy for integrity protection and
encryption in upSecurity IE to NG-RAN as specified in clause 6.6.1 of 3GPP TS
33.501 [17].
##### 5.2.2.7.6 UE Triggered Service Request with I-SMF Insertion
The requirements specified in clause 5.2.2.7.1 shall apply with the following
modifications.
1\. Same as step 1 of Figure 5.2.2.7.1-1, with the following modifications.
The POST request shall additionally contain:
\- the upCnxState IE set to ACTIVATING to indicate that User Plane resource
for the PDU Session is going to be established by the I-SMF.
2a. Same as step 2 of Figure 5.2.2.7.1-1, with the following modifications:
The SMF shall behave as specified in clause 4.23.4.3 (step 8a) of 3GPP TS
23.502 [3].
The SMF handling of a subsequent Update request with the upCnxState IE set to
ACTIVATED is specified in step 3 of clause 5.2.2.8.2.23.
NOTE: The upCnxState IE set to ACTIVATING implements the \"Operation Type\"
parameter set to \"UP Activate\" specified in clause 4.23.4.3 (step 8a) in
3GPP TS 23.502 [3].
#### 5.2.2.8 Update service operation
##### 5.2.2.8.1 General
The Update service operation shall be used for HR PDU sessions or for PDU
sessions involving an I-SMF to:
\- update an individual PDU session in the H-SMF or SMF and/or provide the
H-SMF or SMF with information received by the V-SMF or I-SMF in N1 SM
signalling from the UE;
\- update a MA PDU session to indicate an additional access type, if the UE
requests establishment of MA PDU session via the other access after the UE is
registered to both 3GPPP access and non-3GPP access and the MA PDU session was
successfully established on the first access (see clause 4.22.2.2 of 3GPP TS
23.502 [3]);
\- release a MA PDU session over a single access in the H-SMF or SMF;
\- update an individual PDU session in the V-SMF or I-SMF and/or provide
information necessary for the V-SMF or I-SMF to send N1 SM signalling to the
UE.
It is invoked by the V-SMF or I-SMF in the following procedures:
\- UE or network (e.g. V-SMF, I-SMF) requested PDU session modification (see
clauses 4.3.3.3 and 4.23.5.3 of 3GPP TS 23.502 [3]);
\- UE or network (e.g. AMF, V-SMF, I-SMF) requested PDU session release (see
clause 4.3.4.3 of 3GPP TS 23.502 [3]);
\- UE or network (e.g. AMF, V-SMF, I-SMF) initiated MA PDU session release
over a single access (see clause 4.22 of 3GPP TS 23.502 [3]);
\- EPS to 5GS handover execution using N26 interface (see clause 4.11 of 3GPP
TS 23.502 [3]);
\- Handover between 3GPP and untrusted or trusted non-3GPP access procedures
(see clauses 4.9.2 and 4.9.3 of 3GPP TS 23.502 [3]), without AMF change or
with target AMF in same PLMN;
\- All procedures requiring to provide the H-SMF or SMF with information
received by the V-SMF or I-SMF in N1 SM signalling from the UE to the H-SMF or
SMF;
\- Secondary RAT Usage Data Reporting (see clause 4.21 of 3GPP TS 23.502 [3]);
\- UPF anchored Mobile Originated Data Transport in Control Plane CIoT 5GS
Optimisation (see clause 4.24.1 of 3GPP TS 23.502 [3]);
\- Connection Resume in CM-IDLE with Suspend procedure (see clause 4.8.2.3 of
3GPP TS 23.502 [3]);
\- Reporting of satellite backhaul change to SMF (see clause 5.43.4 of 3GPP TS
23.501 [2]);
\- UE Triggered Service Request without I-SMF/V-SMF change/removal (see clause
4.23.4.2 of 3GPP TS 23.502 [2]) or UE Triggered Service Request with
I-SMF/V-SMF change or with I-SMF insertion (see clause 4.23.4.3 of 3GPP TS
23.502 [2]);
\- Remote UE Report during 5G ProSe Communication via 5G ProSe Layer-3 UE-to-
Network Relay without N3IWF (see clause 6.5.1.1 of 3GPP TS 23.304 [43];
> \- Support of Network Slice Replacement (see clause 5.15.19 of 3GPP TS
> 23.501 [2]).
It is invoked by the I-SMF in the following procedures:
\- Addition of PDU Session Anchor and Branching Point or UL CL controlled by
I-SMF (see clause 4.23.9.1 of 3GPP TS 23.502 [3]);
\- Removal of PDU Session Anchor and Branching Point or UL CL controlled by
I-SMF (see clause 4.23.9.2 of 3GPP TS 23.502 [3]);
\- Change of PDU Session Anchor for IPv6 multi-homing or UL CL controlled by
I-SMF (see clause 4.23.9.3 of 3GPP TS 23.502 [3]);
\- Sending by I-SMF of N4 notifications related with traffic usage reporting
(see clause 5.34.6 of 3GPP TS 23.501 [2]);
\- Simultaneous change of Branching Point or UL CL and additional PSA
controlled by I-SMF (see clause 4.23.9.4 of 3GPP TS 23.502 [3]);
\- Simultaneous change of Branching Points or UL CLs controlled by different
I-SMFs (see clause 4.23.9.5 of 3GPP TS 23.502 [3]).
It is invoked by the H-SMF or SMF in the following procedures:
\- Network (e.g. H-SMF, SMF) requested PDU session modification (see clauses
4.3.3.3 and 4.23.5.3 of 3GPP TS 23.502 [3]);
\- Network (e.g. H-SMF, SMF) requested PDU session release (see clause 4.3.4.3
of 3GPP TS 23.502 [3]);
\- Network (e.g. H-SMF, SMF) initiated MA PDU session release over a single
access (see clause 4.22 of 3GPP TS 23.502 [3]);
\- All procedures requiring to provide information necessary for the V-SMF or
I-SMF to send N1 SM signalling to the UE;
\- EPS Bearer ID allocation or revocation (see clauses 4.11.1.4.1 and
4.11.1.4.3 of 3GPP TS 23.502 [3]);
\- Secondary authorization/authentication by an DN-AAA server (see clause
4.3.2.3 of of 3GPP TS 23.502 [3]).
It is invoked by the SMF in the following procedures:
\- Addition of PDU Session Anchor and Branching Point or UL CL controlled by
I-SMF (see clause 4.23.9.1 of 3GPP TS 23.502 [3]);
\- Removal of PDU Session Anchor and Branching Point or UL CL controlled by
I-SMF (see clause 4.23.9.2 of 3GPP TS 23.502 [3]);
\- Change of PDU Session Anchor for IPv6 multi-homing or UL CL controlled by
I-SMF (see clause 4.23.9.3 of 3GPP TS 23.502 [3]);
\- Policy update procedures with an I-SMF (see clause 4.23.6.2 of 3GPP TS
23.502 [3]);
\- Simultaneous change of Branching Point or UL CL and additional PSA
controlled by I-SMF (see clause 4.23.9.4 of 3GPP TS 23.502 [3]);
\- Simultaneous change of Branching Points or UL CLs controlled by different
I-SMFs (see clause 4.23.9.5 of 3GPP TS 23.502 [3]).
##### 5.2.2.8.2 Update service operation towards H-SMF or SMF
###### 5.2.2.8.2.1 General
The NF Service Consumer (i.e. the V-SMF for a HR PDU session, or the I-SMF for
a PDU session with an I-SMF) shall update a PDU session in the H-SMF or SMF
and/or provide the H-SMF or SMF with information received by the NF Service
Consumer in N1 SM signalling from the UE, by using the HTTP POST method
(modify custom operation) as shown in Figure 5.2.2.8.2-1.
Figure 5.2.2.8.2-1: PDU session update towards H-SMF or SMF
1\. The NF Service Consumer shall send a POST request to the resource
representing the individual PDU session resource in the H-SMF or SMF. The
payload body of the POST request shall contain:
\- the requestIndication IE indicating the request type. Unless specified
otherwise in clause 5.2.2.8.2, the value of the requestIndication IE shall be
set to NW_REQ_PDU_SES_MOD;
\- the modification instructions and/or the information received by the NF
Service Consumer in N1 signalling from the UE.
The NF service consumer shall not include the hoPreparationIndication IE with
the value \"false\" in procedures other than handover execution, cancel and
failure procedures.
If the pending update information list was previously received from the
(H-)SMF, the NF service consumer should not send a request to the (H-)SMF
including only the information elements indicated by the pending update
information list. The change(s) of the indicated information elements may be
piggybacked in a subsequent update to the (H-)SMF together with other
information elements.
2a. On success, \"204 No Content\" or \"200 OK\" shall be returned; in the
latter case, the payload body of the POST response shall contain the
representation describing the status of the request and/or information
necessary for the NF Service Consumer to send N1 SM signalling to the UE. If
the PDU session may be moved to EPS with N26 and the EPS PDN Connection
Context information of the PDU session is changed, e.g. due to a new anchor
SMF is reselected, the payload shall include the \"epsPdnCnxInfo\" IE
including the updated EPS PDN Connection Context information. The NF Service
consumer shall overwrite the locally stored EPS PDN Connection Context
information with the new one if received.
2b. On failure or redirection, one of the HTTP status codes listed in Table
6.1.3.6.4.2.2-2 shall be returned. For a 4xx/5xx response, the message body
shall contain an HsmfUpdateError structure, including:
\- a ProblemDetails structure with the \"cause\" attribute set to one of the
application errors listed in Table 6.1.3.6.4.2.2-2;
\- the n1SmCause IE with the 5GSM cause the H-SMF or SMF proposes the NF
Service Consumer to return to the UE, if the request included n1SmInfoFromUe;
\- n1SmInfoToUe binary data, if the H-SMF or SMF needs to return NAS SM
information which the NF Service Consumer does not need to interpret;
\- the procedure transaction id that was received in the request, if this is a
response sent to a UE requested PDU session modification.
If the H-SMF or SMF receives the hoPreparationIndciation IE set to \"false\"
value in step 1, while it did not receive the hoPreparationIndication IE set
to \"true\" value in previous steps (see clauses 5.2.2.7.3 and 5.2.2.7.4), the
H-SMF or SMF shall ignore the hoPreparationIndication IE with \"false\" value
and proceed with the processing of the request.
###### 5.2.2.8.2.2 UE or network (e.g. AMF, V-SMF, I-SMF) requested PDU
session modification
The requirements specified in clause 5.2.2.8.2.1 shall apply with the
following modifications.
1\. Same as step 1 of Figure 5.2.2.8.2-1, with the following modifications.
The POST request shall contain:
\- the requestIndication set to UE_REQ_PDU_SES_MOD, and the modifications
requested by the UE, e.g. UE requested QoS rules or UE requested Qos flow
descriptions, in an N1 SM container IE as specified in clause 5.2.3.1, or
indication that the PDU session is allowed to be upgraded to a MA PDU session
as specified in clause 6.4.2.2 of 3GPP TS 24.501 [7], for a UE requested PDU
session modification; or
\- the requestIndication set to NW_REQ_PDU_SES_MOD, and the modifications
requested by the visited network or the notifications initiated by the visited
network, for a visited network requested PDU session modification, e.g. to:
\- report the release of QoS flow(s) or notify QoS flow(s) whose targets QoS
are no longer fulfilled; in the latter case, the V-SMF/I-SMF may also report
an alternative QoS profile which the NG-RAN can currently fulfil in the
currentQosProfileIndex IE or report that the NG-RAN cannot even fulfil the
lowest alternative QoS profile by setting the nullQoSProfileIndex IE to
\"true\" for the corresponding Qos flow(s);
\- report that the user plane security enforcement with a value Preferred is
not fulfilled or is fulfilled again, in the NotifyList IE and the
securityResult IE, if the new security status is received from NG-RAN;
\- report that access type of the PDU session can be changed; in this case,
the anTypeCanBeChanged attribute shall be set to \"true\";
\- report the \"MO Exception Data Counter\";
\- request for QoS modification initiated by VPLMN, if the H-SMF supports the
VPLMN QoS (VQOS) feature;
\- report the QoS flow(s) that are rejected by the RAN or rejected by the
V-SMF, during PDU session establishment procedure; in the latter case, the
V-SMF may also include the qosFlowsVsmfRejectedAddModList IE with the QoS
flow(s) that are rejected by the V-SMF.
If the update is performed to transfer the PDU Session from non-3gpp access to
3gpp access by setting the attribute anTypeCanBeChanged to \"true\", the SMF
may perform Network Slice Admission Control before the PDU Session is moved to
3GPP access (i,e, before N3/N9 tunnel for the PDU Session is established).
###### 5.2.2.8.2.3 UE requested PDU session release
The requirements specified in clause 5.2.2.8.2.1 shall apply with the
following modifications.
1\. Same as step 1 of Figure 5.2.2.8.2-1, with the following modifications.
The POST request shall contain:
\- the requestIndication set to UE_REQ_PDU_SES_REL.
###### 5.2.2.8.2.4 EPS to 5GS Handover Execution
The requirements specified in clause 5.2.2.8.2.1 shall apply with the
following modifications.
1\. Same as step 1 of Figure 5.2.2.8.2-1, with the following modifications.
The POST request shall contain:
\- the requestIndication set to PDU_SES_MOB;
\- the list of EPS Bearer Ids successfully handed over to 5GS;
\- the hoPreparationIndication IE set to \"false\", to indicate that there is
no handover preparation in progress anymore and that the PGW-C/SMF shall
switch the DL user plane of the PDU session;
\- one or more SecondaryRatUsageDataReportContainer(s) if it received the same
in the SmContextUpdateData from the AMF.
2\. Same as step 2 of Figure 5.2.2.8.2-1, with the following modifications.
The H-SMF or SMF shall return a 200 OK response. The H-SMF or SMF shall switch
the DL user plane of the PDU session using the N9 tunnel information that has
been received in the vcnTunnelInfo or icnTunnelInfo, if the
hoPreparationIndication IE was set to \"false\" in the request.
If the handover preparation failed (e.g. the target 5G-AN failed to establish
resources for the PDU session), the requirements specified in clause
5.2.2.8.2.1 shall apply with the following modifications.
1\. Same as step 1 of Figure 5.2.2.8.2-1, with the following modifications.
The POST request shall contain:
\- the requestIndication set to PDU_SES_MOB;- the cause attribute set to
\"HO_FAILURE\";
\- an empty list of EPS Bearer Ids;
\- the hoPreparationIndication IE set to \"false\", to indicate that there is
no handover preparation in progress anymore.
2\. Same as step 2 of Figure 5.2.2.8.2-1, with the following modifications.
The H-SMF or SMF shall return a 200 OK response. The H-SMF or SMF shall
release the resources prepared for the handover.
###### 5.2.2.8.2.5 Handover between 3GPP access and untrusted or trusted
non-3GPP access
For Handover between 3GPP access and untrusted or trusted non-3GPP access
procedures, without AMF change or with the target AMF in the same PLMN, the
requirements specified in clause 5.2.2.8.2.1 shall apply with the following
modifications.
1\. Same as step 1 of Figure 5.2.2.8.2-1, with the following modifications.
The POST request shall contain the anType set to the target access type, i.e.
to 3GPP_ACCESS or NON_3GPP_ACCESS.
The requestIndication IE shall be set to PDU_SES_MOB.
For a handover from non-3GPP access to 3GPP access with a V-SMF change, the
requirements specified in step 1 of clause 5.2.2.8.2.10, other than how to set
the requestIndication, shall also apply.
2a. Same as step 2a of Figure 5.2.2.8.2-1, with the following modifications.
The payload body of the POST response shall include:
\- all QoS information for the QoS Flow(s) applicable to the PDU Session for
the target access type, so that when sending the PDU Session Establishment
Accept, the V-SMF or I-SMF can include all QoS information (e.g. QoS Rule(s)
in N1 SM container, QFI(s) and QoS Profile(s) in N2 SM information) for the
QoS Flow(s) (acceptable according to VPLMN policies for a HR PDU session); and
\- the epsPdnCnxInfo IE and, for each EPS bearer, an epsBearerInfo IE, if the
PDU session may be moved to EPS during its lifetime, for a handover from
non-3GPP access to 3GPP access.
The payload body of the POST response may also contain the upSecurity,
maxIntegrityProtectedDataRateUl and maxIntegrityProtectedDataRateDl IEs during
a handover from non-3GPP access to 3GPP access.
For a handover from non-3GPP access to 3GPP access with a V-SMF change, the
requirements specified in step 2 of clause 5.2.2.8.2.10 shall also apply.
Upon receipt of the 200 OK response, the V-SMF or I-SMF shall delete any above
information received earlier for the source access type and use the new
information received for the target access type (see clause 6.1.6.2.12).
NOTE: As specified in clause 4.11.1.4.3 of 3GPP TS 23.502 [3], the AMF, the
SMF and the UE release locally the EBI(s) allocated to a PDU Session handed
over from 3GPP access to non-3GPP access.
For a handover from non-3GPP access to 3GPP access, if the PDU session may be
moved to EPS during its lifetime, the H-SMF or SMF may send an Update Request
towards the V-SMF or I-SMF to request the allocation of EBIs prior to step 2a.
If one or more requested QoS flow(s) fail to be established in the target
access type, the V-SMF or I-SMF shall send an Update Request including the
qosFlowsRelNotifyList attribute to report the failure to the H-SMF or SMF (see
clause 5.2.2.8.2.2), or a Release Request to release the PDU session if no QoS
flow can be established (see clause 5.2.2.9).
The SMF may perform Network Slice Admission Control for the target access and
reject the request when the NSAC has failed for the target access.
###### 5.2.2.8.2.6 P-CSCF Restoration Procedure via AMF
The requirements specified in clause 5.2.2.8.2.1 shall apply with the
following modifications.
1\. Same as step 1 of Figure 5.2.2.8.2-1, with the following modifications:
The POST request shall contain:
\- the requestIndication IE set to NW_REQ_PDU_SES_REL;
\- the cause IE set to REL_DUE_TO_REACTIVATION.
###### 5.2.2.8.2.7 Addition of PSA and BP or UL CL controlled by I-SMF
This clause applies only in case of non-roaming or LBO roaming as control of
an UL CL or BP in VPLMN is not supported in HR roaming case (see clause 5.34.4
of 3GPP TS 23.501 [2]).
An I-SMF and I-UPF have already been inserted for the PDU session.
The requirements specified in clause 5.2.2.8.2.1 shall apply with the
following modifications.
1\. Same as step 1 of Figure 5.2.2.8.2-1, with the following modifications:
The POST request shall contain:
\- the requestIndication IE set to NW_REQ_PDU_SES_MOD;
\- the indication that an UL CL or BP has been inserted into the data path of
the PDU session;
\- the list of DNAIs supported by the inserted PSA;
\- the new UE IPv6 prefix at the PSA, assigned by the I-SMF or by the UPF
supporting the PSA, if IPv6 multi-homing applies to the PDU session;
\- the icnTunnelInfo with the N9 tunnel information of the UL CL or BP for the
downlink traffic, if a UPF different from the earlier I-UPF is selected for
the UL CL or BP.
2a. Same as step 2a of Figure 5.2.2.8.2-1.
###### 5.2.2.8.2.8 Removal of PSA and BP or UL CL controlled by I-SMF
This clause applies only in case of non-roaming or LBO roaming as control of
an UL CL or BP in VPLMN is not supported in HR roaming case (see clause 5.34.4
of 3GPP TS 23.501 [2]).
The requirements specified in clause 5.2.2.8.2.1 shall apply with the
following modifications.
1\. Same as step 1 of Figure 5.2.2.8.2-1, with the following modifications:
The POST request shall contain:
\- the requestIndication IE set to NW_REQ_PDU_SES_MOD;
\- the indication that an UL CL or BP has been removed from the data path of
the PDU session;
\- the removed UE IPv6 prefix at the PSA, if IPv6 multi-homing applies to the
PDU session;
\- the list of DNAIs supported by the removed PSA;
\- the icnTunnelInfo with the N9 tunnel information of the I-UPF for the
downlink traffic.
2a. Same as step 2a of Figure 5.2.2.8.2-1.
###### 5.2.2.8.2.9 Change of PSA for IPv6 multi-homing or UL CL controlled by
I-SMF
This clause applies only in case of non-roaming or LBO roaming as control of
an UL CL or BP in VPLMN is not supported in HR roaming case (see clause 5.34.4
of 3GPP TS 23.501 [2]).
The requirements specified in clause 5.2.2.8.2.1 shall apply with the
following modifications.
1\. Same as step 1 of Figure 5.2.2.8.2-1, with the following modifications:
The POST request shall contain:
\- the requestIndication IE set to NW_REQ_PDU_SES_MOD;
\- the indication that a PSA is removed and another PSA is inserted;
\- the list of DNAIs supported by the inserted PSA;
\- the new UE IPv6 prefix at the inserted PSA, assigned by the I-SMF or by the
UPF supporting the PSA, if IPv6 multi-homing applies to the PDU session;
\- the removed UE IPv6 prefix at the removed PSA, if IPv6 multi-homing applies
to the PDU session;
\- the list of DNAIs supported by the removed PSA.
2a. Same as step 2a of Figure 5.2.2.8.2-1.
###### 5.2.2.8.2.10 PDU Session modification with I-SMF or V-SMF change
During PDU Session modification with I-SMF or V-SMF change, the NF Service
Consumer (i.e. the new V-SMF for a HR PDU session, or the new I-SMF for a PDU
session with an I-SMF) shall update the PDU session in the H-SMF or SMF and
provide the information of the new I-SMF or V-SMF.
The requirements specified in clause 5.2.2.8.2.1 shall apply with the
following modifications.
1\. Same as step 1 of Figure 5.2.2.8.2-1, with the following additions:
The POST request shall contain:
\- the requestIndication set to NW_REQ_PDU_SES_MOD or UE_REQ_PDU_SES_MOD for
network requested or UE requested PDU session modification respectively;
\- the ismfPduSessionUri or vsmfPduSessionUri IE containing the callback URI
({vsmfPduSessionUri} or {ismfPduSessionUri}) representing the PDU session in
the new I-SMF or new V-SMF. The H-SMF or SMF shall construct the callback URIs
based on the received {vsmfPduSessionUri} or {ismfPduSessionUri} as defined in
clause 6.1, e.g. the callback URI \"{vsmfPduSessionUri}/modify\" to modify a
PDU session in the V-SMF;
\- the ismfId or vsmfId IE containing the identifier of the new I-SMF or new
V-SMF;
\- optionally the iSmfServiceInstanceId or vSmfServiceInstanceId IE containing
the serviceInstanceId of the new I-SMF or new V-SMF service instance serving
the PDU session;
\- the supportedFeatures IE indicating the optional features the NF Service
Consumer supports, if at least one optional feature defined in clause 6.1.8 is
supported.
2\. Same as step 1 of Figure 5.2.2.8.2-1, the SMF shall replace the
corresponding information for the old I-SMF or old V-SMF stored locally with
the received information. In addition, the SMF shall include the
supportedFeatures IE in the response, if the supportedFeatures IE was received
in the request and at least one optional feature defined in clause 6.1.8 is
supported by the updated PDU session resource.
###### 5.2.2.8.2.11 Sending by I-SMF of N4 notifications related with traffic
usage reporting
This clause applies only in case of non-roaming or LBO roaming as control of
an UL CL or BP in VPLMN is not supported in HR roaming case (see clause 5.34.4
of 3GPP TS 23.501 [2]).
The requirements specified in clause 5.2.2.8.2.1 shall apply with the
following modifications.
1\. Same as step 1 of Figure 5.2.2.8.2-1, with the following modifications:
The POST request shall contain:
\- the requestIndication IE set to NW_REQ_PDU_SES_MOD;
\- N4 information related with traffic usage reporting (i.e. PFCP Session
Report Request, see Annex D of 3GPP TS 29.244 [29]);
\- the DNAI related to the N4 information if the latter relates to a local
PSA;
2a. Same as step 2a of Figure 5.2.2.8.2-1, with the following modifications:
The payload body of the POST response shall contain:
\- N4 response information (i.e. PFCP Session Report Response);
\- the DNAI related to the N4 information if the latter relates to a local
PSA.
###### 5.2.2.8.2.12 N2 Handover Execution with I-SMF Insertion
The requirements specified in clause 5.2.2.8.2.1 shall apply with the
following modifications.
1\. Same as step 1 of Figure 5.2.2.8.2-1, with the following modifications.
The POST request shall contain:
\- the requestIndication set to NW_REQ_PDU_SES_MOD;
\- the hoPreparationIndication IE set to \"false\", to indicate that there is
no handover preparation in progress anymore and that the SMF shall switch the
DL user plane of the PDU session;
\- the qosFlowsRelNotifyList IE indicating the failed QoS flow(s), if one or
more QoS flow(s) cannot be established at the target RAN.
2\. Same as step 2 of Figure 5.2.2.8.2-1, with the following modifications.
The SMF shall return a 200 OK response. The SMF shall switch the DL user plane
of the PDU session using the N9 tunnel information that has been received in
the icnTunnelInfo, if the hoPreparationIndication IE was set to \"false\" in
the request.
If the handover preparation failed (e.g. the target 5G-AN failed to establish
resources for the PDU session), the requirements specified in clause
5.2.2.8.2.1 shall apply with the following modifications.
1\. Same as step 1 of Figure 5.2.2.8.2-1, with the following modifications.
The POST request shall contain:
\- the requestIndication set to NW_REQ_PDU_SES_MOD;- the cause attribute set
to \"HO_FAILURE\";
\- the hoPreparationIndication IE set to \"false\", to indicate that there is
no handover preparation in progress anymore.
2\. Same as step 2 of Figure 5.2.2.8.2-1, with the following modifications.
The SMF shall return a 200 OK response. The SMF shall release the resources
prepared for the handover.
###### 5.2.2.8.2.13 N2 Handover Cancellation with I-SMF Insertion
For handover cancellation, the requirements specified in clause 5.2.2.8.2.1
shall apply with the following modifications.
1\. Same as step 1 of Figure 5.2.2.8.2-1, with the following modifications.
The POST request shall contain:
\- the requestIndication set to NW_REQ_PDU_SES_MOD;
\- the cause attribute set to \"HO_CANCEL\";
\- the hoPreparationIndication IE set to \"false\", to indicate that there is
no handover preparation in progress anymore.
2\. Same as step 2 of Figure 5.2.2.8.2-1, with the following modifications.
The SMF shall return a 200 OK response. The SMF shall release the resources
prepared for the handover.
###### 5.2.2.8.2.14 EPS to 5GS Handover Cancellation
If the handover cancellation, the requirements specified in clause 5.2.2.8.2.1
shall apply with the following modifications.
1\. Same as step 1 of Figure 5.2.2.8.2-1, with the following modifications.
The POST request shall contain:
\- the requestIndication set to PDU_SES_MOB;
\- the cause attribute set to \"HO_CANCEL\";
\- an empty list of EPS Bearer Ids;
\- the hoPreparationIndication IE set to \"false\", to indicate that there is
no handover preparation in progress anymore.
2\. Same as step 2 of Figure 5.2.2.8.2-1, with the following modifications.
The H-SMF or SMF shall return a 200 OK response. The H-SMF or SMF shall
release the resources prepared for the handover. The combined PGW-C+SMF shall
not release the PDN connection that was attempted to be handed over.
###### 5.2.2.8.2.15 5G-AN requested PDU session resource release
This clause applies only in case of 5G-AN requested PDU session resource
release by sending the NGAP PDU SESSION RESOURCE NOTIFY to the AMF case (see
step 1d in clause 4.3.4.3 of 3GPP TS 23.502 [3]).
The requirements specified in clause 5.2.2.8.2.1 shall apply with the
following modifications.
1\. Same as step 1 of Figure 5.2.2.8.2-1, with the following modifications.
The POST request shall contain:
\- the requestIndication set to REL_DUE_TO_5G_AN_REQUEST to indicate that the
PDU session resource has been released by the 5G-AN.
After receving the request, the SMF may decide to keep the PDU Session (with
user plane connection deactivated) or release the PDU Session. If the SMF
decides to keep the PDU Session, it shall return \"200 OK\" not including
_n1SmInfoToUe_. If the SMF decides to release the PDU Session, it shall return
\"200 OK\" including _n1SmInfoToUe_ binary data containing the Message Type
\"PDU Session Release Command\" and possibly PCO and cause information.
###### 5.2.2.8.2.16 Xn Handover with or without I-SMF or V-SMF Change
The requirements specified in clause 5.2.2.8.2.1 shall apply with the
following modifications.
1\. Same as step 1 of Figure 5.2.2.8.2-1, with the following modifications.
The POST request shall contain:
\- the upSecurityInfo IE, if received from the NG-RAN;
\- the qosFlowsRelNotifyList IE indicating the failed QoS flow(s), if one or
more QoS flow(s) cannot be established at the target RAN.
For an Xn handover with an I-SMF or V-SMF change, the requirements specified
in step 1 of clause 5.2.2.8.2.10, other than how to set the requestIndication,
shall also apply.
2\. Same as step 2 of Figure 5.2.2.8.2-1, with the following modifications.\ \
The SMF shall verify that the upSecurity IE included in the received
upSecurityInfo IE is same as the security policy for integrity protection and
encryption that the SMF has locally stored. If there is a mismatch, the SMF
shall send its locally stored security policy for integrity protection and
encryption in upSecurity IE to NG-RAN as specified in clause 6.6.1 of 3GPP TS
33.501 [17].
For an Xn handover with an I-SMF or V-SMF change, the requirements specified
in step 2 of clause 5.2.2.8.2.10 shall also apply.
###### 5.2.2.8.2.17 EPS to 5GS Handover Failure
If the handover to 5GS failed, e.g. rejected by the target NG-RAN, the
requirements specified in clause 5.2.2.8.2.1 shall apply with the following
modifications.
1\. Same as step 1 of Figure 5.2.2.8.2-1, with the following modifications.
The POST request shall contain:
\- the requestIndication set to PDU_SES_MOB;
\- the cause attribute set to \"HO_FAILURE\";
\- an empty list of EPS Bearer Ids;
\- the hoPreparationIndication IE set to \"false\", to indicate that there is
no handover preparation in progress anymore.
2\. Same as step 2 of Figure 5.2.2.8.2-1, with the following modifications.
The H-SMF or SMF shall return a 200 OK response. The H-SMF or SMF shall
release the resources prepared for the handover. The combined PGW-C+SMF shall
not release the PDN connection that was attempted to be handed over.
###### 5.2.2.8.2.18 EPS Bearer ID revocation
When the AMF decides to revoke some EBI(s) and the I-SMF or V-SMF receives the
request from AMF, the requirements specified in clause 5.2.2.8.2.1 shall apply
with the following modifications.
1\. Same as step 1 of Figure 5.2.2.8.2-1, with the following modifications.
The POST request shall contain:
The requestIndication shall be set to EBI_ASSIGNMENT_REQ.
> The NF Service Consumer shall include the revokeEbiList IE to request the
> SMF to release some EBI(s). The SMF shall disassociate the EBI(s) with the
> QFI(s) with which they are associated.
###### 5.2.2.8.2.19 Network requested PDU session release
The requirements specified in clause 5.2.2.8.2.1 shall apply with the
following modifications.
1\. Same as step 1 of Figure 5.2.2.8.2-1, with the following modifications.
The POST request shall contain:
\- the requestIndication set to NW_REQ_PDU_SES_REL.
###### 5.2.2.8.2.20 N2 Handover Execution with or without I-SMF or V-SMF
Change
The requirements specified in clause 5.2.2.8.2.1 shall apply with the
following modifications.
1\. Same as step 1 of Figure 5.2.2.8.2-1, with the following modifications.
The POST request shall contain:
\- the qosFlowsRelNotifyList IE indicating the failed QoS flow(s), if one or
more QoS flow(s) cannot be established at the target RAN.
For an N2 handover with an I-SMF or V-SMF change, the requirements specified
in step 1 of clause 5.2.2.8.2.10, other than how to set the requestIndication,
shall also apply.
2\. Same as step 2 of Figure 5.2.2.8.2-1, with the following modifications.\ \
For an N2 handover with an I-SMF or V-SMF change, the requirements specified
in step 2 of clause 5.2.2.8.2.10 shall also apply.
###### 5.2.2.8.2.21 Reporting of satellite backhaul change to (H-)SMF
If the V-SMF/I-SMF and the anchor SMF support the 5GSAT feature (see clause
6.1.8), the V-SMF/I-SMF shall report a change of the satellite backhaul
category used towards the 5G AN currently serving the UE if:
\- the satelliteBackhaulCat IE has been received from the AMF and there is a
change of the satelliteBackhaulCat IE compared to what has been signalled
earlier to the (H-)SMF (as determined from the SmContext); or
\- upon inter-AMF mobility (when a target AMF is taking over the control of
the PDU session), the new AMF does not include the satelliteBackhaulCat IE and
a satellite backhaul category had been signalled to the SMF (as determined
from the SmContext).
To report a change of the satellite backhaul category, the requirements
specified in clause 5.2.2.8.2.1 shall apply with the following modifications.
1\. Same as step 1 of Figure 5.2.2.8.2-1, with the following modifications.
The POST request shall contain:
\- the requestIndication IE set to NW_REQ_PDU_SES_MOD, unless specified
otherwise in clause 5.2.2.8. if the change of the satelliteBackhaulCat IE is
detected during a procedure for which it is requested to report a different
requestIndication value; and
\- the satelliteBackhaulCat IE set to the value received from the AMF or, in
the latter case, set to the value \"NON_SATELLITE\" to indicate that there is
no longer any satellite backhaul towards the new 5G AN serving the UE.
###### 5.2.2.8.2.22 Simultaneous change of PSA and BP or UL CL controlled by
I-SMF
This clause applies only in case of non-roaming or LBO roaming as control of
an UL CL or BP in VPLMN is not supported in HR roaming case (see clause 5.34.4
of 3GPP TS 23.501 [2]).
The requirements specified in clause 5.2.2.8.2.1 shall apply with the
following modifications.
1\. Same as step 1 of Figure 5.2.2.8.2-1, with the following modifications:
The POST request shall contain:
\- the requestIndication IE set to NW_REQ_PDU_SES_MOD;
\- a PsaInformation corresponding to the new PSA:
\- a _PsaIndication set to \"PSA_INSERTED\"_ ;
\- the list of DNAIs supported by the inserted PSA;
\- the new UE IPv6 prefix at the inserted PSA, assigned by the I-SMF or by the
UPF supporting the PSA, if IPv6 multi-homing applies to the PDU session;
\- the NF Instance Id of the inserted PSA;
\- a UlclBpInformation corresponding to the new UL CL or BP if it separate
from the new PSA:
\- the NF Instance Id of the inserted UL CL or BP;
\- a PsaInformation corresponding to the removed PSA, if either the I-SMF or
the SMF does not support the \"N9FSC\" feature:
\- a _PsaIndication set to \"PSA_REMOVED\"_ ;
\- the removed UE IPv6 prefix at the removed PSA, if IPv6 multi-homing applies
to the PDU session;
\- the list of DNAIs supported by the removed PSA.
NOTE: The I-SMF only includes the PsaInformation corresponding to the new PSA
and the UlclBpInformation corresponding to the new UL CL or BP during
simultaneous change of PSA and BP or UL CL as specified in clause D.2.7 of
3GPP TS 29.244 [29], if both the I-SMF and SMF support the \"N9FSC\" feature.
This enables the SMF to possibly request the I-SMF to apply data forwarding
between the old and the new UL CL/BP, in which case the I-SMF later informs
the SMF that it has removed the old UL CL/BP and local PSA upon user plane
inactivity of the N9 data forwarding tunnel.
2a. Same as step 2a of Figure 5.2.2.8.2-1.
###### 5.2.2.8.2.23 Service Request without I-SMF/V-SMF Change or with
I-SMF/V-SMF Change or with I-SMF Insertion
During a Service Request without I-SMF/V-SMF Change or with I-SMF/V-SMF Change
or with I-SMF Insertion, the NF Service Consumer (i.e. the V-SMF for a HR PDU
session, or the I-SMF for a PDU session with an I-SMF) shall update the PDU
session in the H-SMF or SMF as follows:
Figure 5.2.2.8.2.23-1: PDU session update towards H-SMF or SMF during Service
Request
The requirements specified in clause 5.2.2.8.2.1 shall apply with the
following modifications.
1\. Same as step 1 of Figure 5.2.2.8.2-1, with the following modifications.
The POST request shall additionally contain:
\- the upCnxState IE set to ACTIVATING if the User Plane resource for the PDU
Session is going to be established by the I-SMF/V-SMF.
2a. Same as step 2a of Figure 5.2.2.8.2-1, with the following modifications.
The SMF shall behave as specified in clause as specified in clause 4.23.4.2
(step 7a) and clause 4.23.4.3 (step 8a) of 3GPP TS 23.502 [3].
2b. Same as step 2b of Figure 5.2.2.8.2-1.
3\. Same as step 1 of Figure 5.2.2.8.2-1, with the following modifications.
The POST request shall additionally contain:
\- the upCnxState IE set to ACTIVATED when User Plane resource has been
established, if the upCnxState IE with the value ACTIVATING was previously
provided to the SMF in the procedure, via a previous Update operation (step 1)
or via Create operation for I-SMF/V-SMF insertion (see clause 5.2.2.7.6).
4a. Same as step 2a of Figure 5.2.2.8.2-1, with the following modifications.
The SMF shall behave as specified in clause as specified in clause 4.23.4.2
(step 16) and clause 4.23.4.3 (step 20a) of 3GPP TS 23.502 [3].
4b. Same as step 2b of Figure 5.2.2.8.2-1.
NOTE: The upCnxState IE set to ACTIVATING or ACTIVATED implements the
\"Operation Type\" parameter set to \"UP Activate\" or \"UP Activated\"
(respectively) specified in clause 4.23.4.2 (step 7a, 16) and clause 4.23.4.3
(step 8a, 20a) in 3GPP TS 23.502 [3].
###### 5.2.2.8.2.24 Remote UE Report during 5G ProSe Communication via 5G
ProSe Layer-3 UE-to-Network Relay without N3IWF
The requirements specified in clause 5.2.2.8.2.1 shall apply with the
following modifications.
1\. Same as step 1 of Figure 5.2.2.8.2-1, with the following modifications.
The POST request shall contain:
\- the n1SmInfoFromUe IE containing \"Remote UE context connected\" and/or
\"Remote UE context disconnected\" NAS IE.
##### 5.2.2.8.3 Update service operation towards V-SMF or I-SMF
###### 5.2.2.8.3.1 General
The NF Service Consumer (i.e. the H-SMF for a HR PDU session, or the SMF for a
PDU session with an I-SMF) shall update a PDU session in the V-SMF or I-SMF
and/or provide information necessary for the V-SMF or I-SMF to send N1 SM
signalling to the UE, or request to allocate or revoke EPS Bearer ID(s) for
the PDU session, by using the HTTP \"modify\" custom operation as shown in
Figure 5.2.2.8.3.1-1.
Figure 5.2.2.8.3.1-1: PDU session update towards V-SMF or I-SMF
1\. The NF Service Consumer shall send a POST request to the resource
representing the individual PDU session resource in the V-SMF or I-SMF. The
payload body of the POST request shall contain:
\- the requestIndication IE indicating the request type, which is set to
NW_REQ_PDU_SES_MOD;
\- the modification instructions and/or the information necessary for the
V-SMF or I-SMF to send N1 SM signalling to the UE;
\- the hsmfPduSessionUri IE if the Update Request is sent to the V-SMF or
I-SMF before the Create Response, and the H-SMF or SMF PDU session resource
URI has not been previously provided to the V-SMF or I-SMF; in this case, the
supportedFeatures IE shall also be included if at least one optional feature
defined in clause 6.1.8 is supported.
The payload body of the POST request may further contain:
\- the (updated) pending update information list.
If the PDU session may be moved to EPS with N26 and the EPS PDN Connection
Context information of the PDU session is changed, e.g. due to a new anchor
SMF is reselected, the payload shall include the \"epsPdnCnxInfo\" IE
including the updated EPS PDN Connection Context information. The NF Service
consumer shall overwrite the locally stored EPS PDN Connection Context
information with the new one if received.
If the service operation is invoked after the reselection of the anchor SMF
and the change of anchor SMF has not been signalled to the V-SMF or I-SMF
previously, the request may carry the SMF Instance ID of the new anchor SMF
and the updated PDU session resource URI in the HTTP payload body, and/or
carry an updated binding indication in the HTTP headers to indicate the change
of anchor SMF (as per step 6 of clause 6.5.3.3 of 3GPP TS 29.500 [4]).
2a. On success, \"204 No Content\" or \"200 OK\" shall be returned; in the
latter case, the payload body of the POST response shall contain the
representation describing the status of the request and/or information
received by the V-SMF or I-SMF in N1 signalling from the UE.
2b. On failure or redirection, one of the HTTP status code listed in Table
6.1.3.7.4.2.2-1 shall be returned. For a 4xx/5xx response, the message body
shall contain a VsmfUpdateError structure, including:
\- a ProblemDetails structure with the \"cause\" attribute set to one of the
application error listed in Table 6.1.3.7.4.2.2-1;
\- the n1SmCause IE with the 5GSM cause returned by the UE, if available;
\- n1SmInfoFromUe and/or unknownN1SmInfo binary data, if NAS SM information
has been received from the UE that needs to be transferred to the H-SMF or
SMF, or that the V-SMF or I-SMF does not comprehend;
\- the procedure transaction id received from the UE, if available.
###### 5.2.2.8.3.2 Network (e.g. H-SMF, SMF) requested PDU session
modification
The requirements specified in clause 5.2.2.8.3.1 shall apply with the
following modifications.
1\. Same as step 1 of Figure 5.2.2.8.3.1-1, with the following modifications.
The requestIndication shall be set to NW_REQ_PDU_SES_MOD.
As part of the modification instructions, the NF Service Consumer may request
to modify QoS parameters applicable at the PDU session level (e.g. modify the
authorized Session AMBR values) or at the QoS flow level (e.g. modify the MFBR
of a particular QoS flow).\ \ The NF Service Consumer may request to
establish, modify and/or release QoS flows by including the
qosFlowsAddModRequestList IE and/or the qosFlowsRelRequestList IE in the
payload body.
The H-SMF or SMF may provide alternative QoS profiles for each GBR QoS flow
with Notification control enabled, to allow the NG-RAN to accept the setup of
the QoS flow if the requested QoS parameters or at least one of the
alternative QoS parameters sets can be fulfilled at the time of setup. If the
H-SMF or SMF provides a new list of alternative QoS profile(s) for a given GBR
Qos flow, the V-SMF or I-SMF shall replace any previously stored list for this
Qos flow with it.
The NF Service Consumer may include epsBearerInfo IE(s), if the PDU session
may be moved to EPS during its lifetime and the EPS Bearer(s) information has
changed (e.g. a new EBI has been assigned or the mapped EPS bearer QoS for an
existing EBI has changed).
The NF Service Consumer may include the modifiedEbiList IE if the PDU session
modification procedure resulted in the change of ARP for a QoS flow that has
already been allocated an EBI.
The NF Service Consumer may include the revokeEbiList IE to request the V-SMF
or I-SMF to release some EBI(s) and delete any corresponding EPS bearer
context stored in the V-SMF or I-SMF. The V-SMF or I-SMF shall disassociate
the EBI(s) with the QFI(s) with which they are associated.
The H-SMF may include the hrsboRspInfo IE if the V-SMF supports the HR-SBO
feature and if the H-SMF needs to update the HR-SBO information towards the
V-SMF, e.g. due to a change of the user subscription data or policy
information. When doing so, H-SMF shall include the complete information for
HR-SBO and the V-SMF shall replace any earlier received HR-SBO information by
the new HR-SBO information.
2\. Same as step 2 of Figure 5.2.2.8.3.1-1, with the following modifications.
The V-SMF or I-SMF may accept all or only a subset of the QoS flows requested
to be created or modified within the request.\ \ The list of QoS flows which
have been successfully setup or modified, and those which failed to be so, if
any, shall be included in the qosFlowsAddModList IE and/or the
qosFlowsFailedtoAddModList IE respectively. If any QoS flow(s) are failed to
be setup or modified due to rejection by the V-SMF, the V-SMF may also include
the qosFlowsVsmfRejectedAddModList IE with the QoS flow(s) that are rejected
by the V-SMF.
The V-SMF or I-SMF may report an alternative QoS profile which the NG-RAN
currently fulfils in the currentQosProfileIndex IE of the corresponding Qos
flow in the qosFlowsAddModList IE, or report that the NG-RAN cannot even
fulfil the lowest alternative QoS profile by setting the nullQoSProfileIndex
IE to \"true\" for the corresponding Qos flow in the qosFlowsAddModList IE.
If the NG-RAN rejects the establishment of a voice QoS flow due to EPS
Fallback for IMS voice (see clause 4.13 of 3GPP TS 23.502 [3]), the V-SMF or
I-SMF shall return the cause indicating that \"mobility due to EPS fallback
for IMS voice is on-going\" for the corresponding flow in the
qosFlowsFailedtoAddModList IE.
The list of QoS flows which have been successfully released, and those which
failed to be so, if any, shall be included in the qosFlowsRelList and/or
qosFlowsFailedtoRelList IE respectively.\ \ For a QoS flow which failed to be
modified, the V-SMF or I-SMF shall fall back to the configuration of the QoS
flow as it was configured prior to the reception of the PDU session update
request from the NF Service Consumer.
The V-SMF or I-SMF shall store any EPS bearer information received from the
H-SMF or SMF. If the revokeEbiList IE is present in the request, the V-SMF or
I-SMF shall request delete the corresponding EPS bearer contexts and request
the AMF to release the EBIs listed in this IE. If the modifiedEbiList IE is
present in the request, the V-SMF or I-SMF shall request the AMF to update the
mapping of EBI and ARP if the EAEA feature is supported by both the AMF and
the V-SMF (or I-SMF), otherwise the V-SMF (or I-SMF) should indicate in the
response that the modifiedEbiList was not delivered to the AMF.
If the request received from the H-SMF or SMF contains the alwaysOnGranted
attribute set to true, the V-SMF or I-SMF shall check and determine whether
the PDU session can be established as an always-on PDU session based on local
policy.
###### 5.2.2.8.3.3 Network (e.g. H-SMF, SMF) or UE requested PDU session
release
The requirements specified in clause 5.2.2.8.3.1 shall apply with the
following modifications.
1\. Same as step 1 of Figure 5.2.2.8.3.1-1, with the following modifications.
The requestIndication shall be set to NW_REQ_PDU_SES_REL or UE_REQ_PDU_SES_REL
for a Network requested PDU session release or UE requested PDU session
release respectively.
2\. Same as step 2 of Figure 5.2.2.8.3.1-1, with the following modifications.
If the requestIndication in the request is set to NW_REQ_PDU_SES_REL or
UE_REQ_PDU_SES_REL, the V-SMF or I-SMF shall initiate the release of RAN
resources allocated for the PDU session if any and shall send a PDU session
release command to the UE.
The V-SMF or I-SMF shall not release the SM context for the PDU session.
NOTE: The SM context will be released when receiving Status notification from
the H-SMF or SMF indicating the PDU session is released in the H-SMF or SMF.
###### 5.2.2.8.3.4 Handover between 3GPP and untrusted non-3GPP access, from
5GC-N3IWF to EPS or from 5GS to EPC/ePDG
The requirements specified in clause 5.2.2.8.3.1 shall apply with the
following modifications.
1\. Same as step 1 of Figure 5.2.2.8.3.1-1, with the following modifications.
The NF Service Consumer shall request the source V-SMF or I-SMF to release the
resources in the VPLMN without sending a PDU session release command to the
UE, by setting the requestIndication IE to NW_REQ_PDU_SES_REL and the Cause IE
indicating \"Release due to Handover\", in the following scenarios:
\- Handover of a PDU session between 3GPP and untrusted non-3GPP access, when
the UE is roaming and the selected N3IWF is in the HPLMN (see clause 4.9.2.4.2
of 3GPP TS 23.502 [3]);
\- Handover from 5GC-N3IWF to EPS (see clause 4.11.3.2 of 3GPP TS 23.502 [3]);
\- Handover from 5GS to EPC/ePDG (see clause 4.11.4.2 of 3GPP TS 23.502 [3]).
2\. Same as step 2 of Figure 5.2.2.8.3.1-1, with the following modifications.
If the requestIndication in the request is set to NW_REQ_PDU_SES_REL and if
the Cause IE indicates \"Release due to Handover\", the V-SMF or I-SMF shall
initiate the release of RAN resources reserved for the PDU session if any but
shall not send a PDU session release command to the UE.
The V-SMF or I-SMF shall not release the SM context for the PDU session.
NOTE: The SM context will be released when receiving Status notification from
the H-SMF or SMF indicating the PDU session is released in the H-SMF or SMF.
###### 5.2.2.8.3.5 EPS Bearer ID assignment
The requirements specified in clause 5.2.2.8.3.1 shall apply with the
following modifications.
1\. Same as step 1 of Figure 5.2.2.8.3.1-1, with the following modifications.
The requestIndication shall be set to EBI_ASSIGNMENT_REQ.
The NF Service Consumer may include the assignEbiList IE to request the
allocation of EBI(s). The NF Service Consumer may include the revokeEbiList IE
to request the V-SMF or I-SMF to release some EBI(s) and delete any
corresponding EPS bearer context stored in the V-SMF or I-SMF. The V-SMF or
I-SMF shall disassociate the EBI(s) with the QFI(s) with which they are
associated.
NOTE: The SMF does not request EBI allocation when MA PDU Session is
established only over non-3GPP access. For MA PDU Session with both 3GPP and
non-3GPP accesses, the SMF does not allocate EBI(s) for GBR QoS Flow(s) that
are only allowed over non-3GPP access.
Upon receipt of this request, the V-SMF or I-SMF shall request the AMF to
assign (and release if required) EBIs (see clause 5.2.2.6 of 3GPP TS 29.518
[20].
2a. Same as step 2a of Figure 5.2.2.8.3.1-1, with the following modifications.
If the AMF has successfully assigned all or part of the requested EBIs, the
V-SMF or I-SMF shall respond with the status code 200 OK, and include the list
of EBIs successfully allocated, those which failed to be so if any, and the
list of EBIs released for this PDU session at AMF if any, in the
assignedEbiList IE, the failedtoAssignEbiList IE and/or the releasedEbiList IE
respectively.
2b. Same as step 2b of Figure 5.2.2.8.3.1-1, with the following modifications.
For a 4xx/5xx response, the message body shall contain a VsmfUpdateError
structure, including the list of EBIs which failed to be allocated in the
failedtoAssignEbiList IE.
###### 5.2.2.8.3.6 Addition of PSA and BP or UL CL controlled by I-SMF
The requirements specified in clause 5.2.2.8.3.1 shall apply with the
following modifications.
1\. Same as step 1 of Figure 5.2.2.8.3.1-1, with the following modifications.
The requestIndication shall be set to NW_REQ_PDU_SES_MOD.
The payload body of the POST request shall contain:
\- N4 information for the handling of the local traffic that is offloaded at
the PSA (see Annex D of 3GPP TS 29.244 [29]);
\- N4 information for the local offload rules at the UL CL/BP (see Annex D of
3GPP TS 29.244 [29]);
\- the DNAI related to N4 information targeting the local PSA;
\- the indication that the DNAI shall not change, if applicable;
\- the indication that the local PSA shall not change, if applicable.
For the Simultaneous change of Branching Points or UL CLs controlled by
different I-SMFs (see clause 4.23.9.5 of 3GPP TS 23.502 [3]), the POST request
may also contain:
\- n9DataForwardingInd set to true, if the N9 Forwarding Tunnel establishment
between Branching Points or UL CLs to support the EAS session continuity is
required;
\- n9UlPdrIdList pointing to the UL PDR(s) included in the N4 information for
UL N9 forwarding in the target Branching Point or UL CL to support the EAS
session continuity;
\- n9InactivityTimer to detect the end of activity on the N9 forwarding tunnel
to support the EAS session continuity.
2a. Same as step 2a of Figure 5.2.2.8.3.1-1, with the following modifications.
The payload body of the POST response shall contain:
\- N4 response information;
\- the DNAI related to the N4 information if the latter relates to a local
PSA.
2b. Same as step 2b of Figure 5.2.2.8.3.1-1, with the following modifications.
For a 4xx/5xx response, the message body shall contain a VsmfUpdateError
structure, including N4 response information if available (e.g. PFCP Session
Establishment Response with a rejection cause).
###### 5.2.2.8.3.7 Removal of PSA and BP or UL CL controlled by I-SMF
The requirements specified in clause 5.2.2.8.3.1 shall apply with the
following modifications.
1\. Same as step 1 of Figure 5.2.2.8.3.1-1, with the following modifications.
The requestIndication shall be set to NW_REQ_PDU_SES_MOD.
The payload body of the POST request shall contain:
\- N4 information for the removal of the local offload rules at the UL CL/BP
and PSA (see Annex D of 3GPP TS 29.244 [29]);
\- the DNAI related to N4 information targeting the local PSA.
2a. Same as step 2a of Figure 5.2.2.8.3.1-1, with the following modifications.
The payload body of the POST response shall contain:
\- N4 response information;
\- the DNAI related to the N4 information if the latter relates to a local
PSA.
2b. Same as step 2b of Figure 5.2.2.8.3.1-1, with the following modifications.
For a 4xx/5xx response, the message body shall contain a VsmfUpdateError
structure, including N4 response information if available (e.g. PFCP Session
Deletion Response with a rejection cause).
###### 5.2.2.8.3.8 Change of PSA for IPv6 multi-homing or UL CL controlled by
I-SMF
The requirements specified in clause 5.2.2.8.3.1 shall apply with the
following modifications.
1\. Same as step 1 of Figure 5.2.2.8.3.1-1, with the following modifications.
The requestIndication shall be set to NW_REQ_PDU_SES_MOD.
The payload body of the POST request shall contain:
\- N4 information for the removal of the local offload rules at the removed
PSA (see Annex D of 3GPP TS 29.244 [29]);
\- N4 information for the handling of the local traffic that is offloaded at
the inserted PSA (see Annex D of 3GPP TS 29.244 [29]);
\- N4 information for the updating of the local offload rules at the UL CL/BP
(see Annex D of 3GPP TS 29.244 [29]);
\- the DNAIs related to N4 information targeting the removed or inserted PSA.
2a. Same as step 2a of Figure 5.2.2.8.3.1-1, with the following modifications.
The payload body of the POST response shall contain:
\- N4 response information;
\- the DNAI related to the N4 information if the latter relates to a local
PSA.
2b. Same as step 2b of Figure 5.2.2.8.3.1-1, with the following modifications.
For a 4xx/5xx response, the message body shall contain a VsmfUpdateError
structure, including N4 response information if available (e.g. PFCP Session
Establishment Response with a rejection cause).
###### 5.2.2.8.3.9 Policy update procedures with an I-SMF
The requirements specified in clause 5.2.2.8.3.1 shall apply with the
following modifications.
1\. Same as step 1 of Figure 5.2.2.8.3.1-1, with the following modifications.
The requestIndication shall be set to NW_REQ_PDU_SES_MOD.
The payload body of the POST request may contain:
\- N4 information updating local offload rules at the I-SMF (see Annex D of
3GPP TS 29.244 [29]);
\- the DNAI related to the N4 information if the latter relates to a local
PSA;
\- an updated list of DNAI(s) of interest for the PDU Session.
2a. Same as step 2a of Figure 5.2.2.8.3.1-1, with the following modifications.
The payload body of the POST response shall contain:
\- N4 response information, if N4 information was received in the request;
\- the DNAI related to the N4 information if the latter relates to a local
PSA.
2b. Same as step 2b of Figure 5.2.2.8.3.1-1, with the following modifications.
For a 4xx/5xx response, the message body shall contain a VsmfUpdateError
structure, including N4 response information if available (e.g. PFCP Session
Modification Response with a rejection cause).
###### 5.2.2.8.3.10 Simultaneous change of PSA and BP or UL CL controlled by
I-SMF
The requirements specified in clause 5.2.2.8.3.1 shall apply with the
following modifications.
1\. Same as step 1 of Figure 5.2.2.8.3.1-1, with the following modifications.
The requestIndication shall be set to NW_REQ_PDU_SES_MOD.
The payload body of the POST request shall contain:
\- N4 information for the removal of the local offload rules at the removed
PSA (see Annex D of 3GPP TS 29.244 [29]);
\- N4 information for the handling of the local traffic that is offloaded at
the inserted PSA (see Annex D of 3GPP TS 29.244 [29]);
\- N4 information for the removal of the local offload rules at the removed UL
CL/BP (see Annex D of 3GPP TS 29.244 [29]);
\- N4 information for the creation of the local offload rules at the inserted
UL CL/BP (see Annex D of 3GPP TS 29.244 [29]);
\- the DNAIs related to N4 information targeting the removed or inserted PSA.
The payload body of the POST request may contain:
\- n9DataForwardingInd set to true, if the N9 Forwarding Tunnel establishment
between Branching Points or UL CLs to support the EAS session continuity is
required;
\- n9UlPdrIdList pointing to the UL PDR(s) included in the N4 information for
UL N9 forwarding in the target Branching Point or UL CL to support the EAS
session continuity;
\- n9InactivityTimer to detect the end of activity on the N9 forwarding tunnel
to support the EAS session continuity.
The SMF may only include the N4 information for the inserted PSA and the
inserted UL CL/BP as specified in clause D.2.7 of 3GPP TS 29.244 [29], if the
I-SMF only includes the PsaInformation corresponding to the new PSA and the
UlclBpInformation corresponding to the new UL CL or BP during simultaneous
change of PSA and BP or UL CL and data forwarding between the new and old UL
CL/BPs for EAS session continuity is required.
2a. Same as step 2a of Figure 5.2.2.8.3.1-1, with the following modifications.
The payload body of the POST response shall contain:
\- N4 response information;
\- the DNAI related to the N4 information if the latter relates to a local
PSA.
2b. Same as step 2b of Figure 5.2.2.8.3.1-1, with the following modifications.
For a 4xx/5xx response, the message body shall contain a VsmfUpdateError
structure, including N4 response information if available (e.g. PFCP Session
Establishment Response with a rejection cause).
###### 5.2.2.8.3.11 Network (e.g. AMF) triggered network slice replacement
with PDU session retained
During network slice replacement procedure, for HR PDU session, if the H-SMF
determines to retain the PDU session for the alternative HPLMN S-NSSAI, the
H-SMF shall use this procedure to instruct the V-SMF that the PDU session is
retained for the alternative HPLMN S-NSSAI (see clause 4.3.3.3 of 3GPP TS
23.502 [3]).
The requirements specified in clause 5.2.2.8.3.1 shall apply with the
following modifications.
1\. Same as step 1 of Figure 5.2.2.8.3.1-1, with the following modifications.
The requestIndication shall be set to NW_REQ_PDU_SES_MOD.
The payload body of the POST request shall contain:
\- an altHplmnSnssai IE to indicate the alternative HPLMN S-NSSAI applied to
the PDU session;
\- a pduSessionRetainInd IE to indicate the PDU session is retained;
Editor\'s Note: It needs FFS whether to define new Cause value (e.g.
PDU_SESSION_RETAINED) instead of using pduSessionRetainInd IE.
2a. Same as step 2a of Figure 5.2.2.8.3.1-1.
#### 5.2.2.9 Release service operation
##### 5.2.2.9.1 General
The Release service operation shall be used to request an immediate and
unconditional deletion of an invidual PDU session resource in the SMF (i.e. in
the H-SMF for a HR PDU session, or in the SMF for a PDU session with an
I-SMF).
It is invoked by the NF Service Consumer (i.e. V-SMF or I-SMF) in the
following procedures:
\- UE initiated Deregistration (see clause 4.2.2.3.2 of 3GPP TS 23.502 [3]);
\- Network initiated Deregistration (see clause 4.2.2.3.2 of 3GPP TS 23.502
[3]), e.g. AMF initiated deregistration;
\- visited network requested PDU Session release (see clause 4.3.4.3 of 3GPP
TS 23.502 [3]), e.g. AMF initiated release in the following cases:
\- when there is a mismatch of the PDU session status between the UE and the
AMF;
\- when a network slice is no longer available;
\- when the PDU session is rejected by the new AMF to the old AMF during
Registration procedure (as described in clause 4.2.2.2.2 of 3GPP TS 23.502
[3]); or
\- due to Mobility or Access Restrictions (see clause 5.16.4.3 of 3GPP TS
23.501 [2]).
\- 5GS to EPS handover using N26 interface and 5GS to EPS Idle mode mobility
using N26, to release the PDU session not transferred to EPC (see clauses
4.11.1.2.1 and 4.11.1.3.2 of 3GPP TS 23.502 [3]);
\- PDU session release procedure, for a PDU session with an I-SMF (see clause
4.23.5.2 of 3GPP TS 23.502 [3]);
\- 5G-SRVCC from NG-RAN to 3GPP UTRAN procedure (see clause 6.5.4 of 3GPP TS
23.216 [35]).
The SMF shall release the PDU session context without triggering any
signalling towards the 5G-AN and the UE.
The NF Service Consumer shall release a PDU session in the SMF by using the
HTTP \"release\" custom operation as shown in Figure 5.2.2.9.1-1.
Figure 5.2.2.9.1-1: Pdu session release
1\. The NF Service Consumer shall send a POST request to the resource
representing the individual PDU session resource in the SMF. The payload body
of the POST request shall contain any data that needs to be passed to the SMF.
If an UL CL/BP was inserted in the data path of the PDU session and traffic
usage measurements need to be reported to the SMF, the POST request shall
contain:
\- N4 information related with traffic usage reporting (i.e. PFCP Session
Report Request, see Annex D of 3GPP TS 29.244 [29]);
\- the DNAI related to the N4 information if the latter relates to a local
PSA.
If VPLMN QoS constraints are required for the PDU session and the H-SMF
provides QoS parameters not complying with VPLMN QoS required by the V-SMF,
the V-SMF may release the PDU session with the \"cause\" attribute set to
\"REL_DUE_TO_VPLMN_QOS_FAILURE\".
2a. On success, the SMF shall return a \"200 OK\" with message body containing
the representation of the ReleasedData when information needs to be returned
to the NF Service Consumer, or a \"204 No Content\" response with an empty
payload body in the POST response.
If N4 information was received in the request, the POST response shall
contain:
\- N4 response information (i.e. PFCP Session Report Response);
\- the DNAI related to the N4 information if the latter relates to a local
PSA.
If the request body contains the \"cause\" attribute with the value
\"REL_DUE_TO_PS_TO_CS_HO\", the (H-) SMF shall indicate to the PCF within SM
Policy Association termination that the PDU session is released due to
5G-SRVCC.
2b. On failure or redirection, one of the HTTP status code listed in Table
6.1.3.6.4.3.2-2 shall be returned. For a 4xx/5xx response, the message body
shall contain a ProblemDetails structure with the \"cause\" attribute set to
one of the application errors listed in Table 6.1.3.6.4.3.2-2.
#### 5.2.2.10 Notify Status service operation
##### 5.2.2.10.1 General
The Notify Status service operation shall be used to notify the NF Service
Consumer about status changes of a PDU session (e.g. when the PDU session is
released and the release is not triggered by a Release Request, or when the
PDU session is moved to another system, or when the control of the PDU session
is taken over by another anchor SMF), for a HR PDU session or a PDU session
involving an I-SMF.
It is used in the following procedures:
\- Home network requested PDU Session release (see clause 4.3.4.3 of 3GPP TS
23.502 [3]), e.g. H-SMF initiated release;
\- SMF requested PDU session release, for a PDU session involving an I-SMF
(see clause 4.23 of 3GPP TS 23.502 [3]);
\- Handover of a PDU Session procedure from 3GPP to untrusted non-3GPP access
(see clauses 4.9.2.4.2 and 4.23.16.2 of 3GPP TS 23.502 [3]);
\- Interworking procedures without N26 interface, e.g. 5GS to EPS Mobility
(see clause 4.11.2.2 of 3GPP TS 23.502 [3]);
\- Handover from 5GC-N3IWF to EPS (see clause 4.11.3.2 of 3GPP TS 23.502 [3]);
\- Handover from 5GS to EPC/ePDG (see clause 4.11.4.2 of 3GPP TS 23.502 [3]);
\- The control of PDU session is taken over by a new anchor SMF within the
same SMF set (see clause 5.22 of 3GPP TS 29.244 [29]), and the new SMF
instance decides to notify the change of SMF;
\- SMF triggered I-SMF selection or removal (see clause 4.23.5.4 of 3GPP TS
23.502 [3]);
\- Change of SSC mode 2 PDU Session Anchor with different PDU Sessions (see
clause 4.3.5.1 of 3GPP TS 23.502 [3]);
\- Change of SSC mode 3 PDU Session Anchor with multiple PDU Sessions (see
clause 4.3.5.2 of 3GPP TS 23.502 [3]).
The SMF (i.e. H-SMF for a HR PDU session, or SMF for a PDU session involving
an I-SMF) shall notify the NF Service Consumer (i.e. V-SMF for a HR PDU
session, or I-SMF for a PDU session involving an I-SMF) by using the HTTP POST
method as shown in Figure 5.2.2.10-1.
Figure 5.2.2.10-1: PDU session status notification
1\. The SMF shall send a POST request to the resource representing the
individual PDU session resource in the NF Service Consumer. The payload body
of the POST request shall contain the notification payload, with the status
information.
If the notification is triggered by PDU session handover to release resources
of the PDU Session in the source access, the notification payload shall
contain the resourceStatus IE with the value \"RELEASED\" and the Cause IE
with value \"PDU_SESSION_HANDED_OVER\" as specified in clause 4.2.9.4.2 of
3GPP TS 23.502 [3].
If the notification is triggered by PDU session handover to release only the
SM Context with the I-SMF in the source access but without releasing the PDU
session in the AMF, the notification payload shall contain the resourceStatus
IE with the value \"UPDATED\" and the Cause IE with the value
\"PDU_SESSION_HANDED_OVER\" as specified in clause 4.23.16.2 of 3GPP TS 23.502
[3].
If the notification is triggered by SMF for I-SMF selection or removal for the
current PDU session, or SMF selection during PDU Session re-establishment for
SSC mode 2/3, the notification payload shall contain the resourceStatus IE
with the value \"UNCHANGED\", the Cause IE with the value
\"TARGET_DNAI_NOTIFICATION\" and the targetDnaiInfo IE. The targetDnai IE in
the targetDnaiInfo IE shall be absent if the I-SMF removal is triggered due to
the DNAI currently served by the I-SMF being no longer used for the PDU
Session. If the notification is triggered for SMF selection during PDU Session
re-establishment for SSC mode 3, the notification payload may also contain the
oldPduSessionRef IE as specified in clause 4.3.5.2 of 3GPP TS 23.502 [3].
If the notification is triggered by PDU session handover to release resources
of the PDU Session in the target access due to handover failure between 3GPP
access and non-3GPP access, the notification payload shall contain the
resourceStatus IE with the value \"RELEASED\" and the Cause IE with the value
\"PDU_SESSION_HAND_OVER_FAILURE\".
If the NF Service Consumer indicated support of the HOFAIL feature (see clause
6.1.8) and if the notification is triggered by PDU session handover to update
access type of the PDU Session due to handover failure between 3GPP access and
non-3GPP access, the notification payload shall contain the resourceStatus IE
with the value \"UPDATED\", the anType IE with the value \"3GPP\" or
\"NON_3GPP\" indicating the access type of the PDU session after the handover
failure scenario and the Cause IE with the value
\"PDU_SESSION_HAND_OVER_FAILURE\".
If upon a change of anchor SMF, the new anchor SMF instance decides to notify
the change of anchor SMF, then the notification payload shall contain the
resourceStatus IE with the value \"UPDATED\" and the Cause IE with the value
\"CHANGED_ANCHOR_SMF\". In addition, the new anchor SMF instance shall include
its SMF Instance ID in the notification payload, and/or carry an updated
binding indication in the HTTP headers to indicate the change of anchor SMF
(as per step 6 of clause 6.5.3.3 of 3GPP TS 29.500 [4]). If the PDU session
may be moved to EPS with N26 and the EPS PDN Connection Context information of
the PDU session on the new anchor SMF is different from the one on the old
anchor SMF, the payload shall also include the \"epsPdnCnxInfo\" IE including
the updated EPS PDN Connection Context information. The NF Service consumer
shall overwrite the locally stored EPS PDN Connection Context information with
the new one if received.
If the notification is triggered by a PDU session release due to slice
inactivity as specified in clause 5.15.15.3 of 3GPP TS 23.501 [2], the
notification payload shall contain the resourceStatus IE with the value
\"RELEASED\" and the Cause IE with the value \"REL_DUE_TO_SLICE_INACTIVITY\".
2a. On success, \"204 No Content\" shall be returned and the payload body of
the POST response shall be empty.
If the SMF indicated in the request that the PDU session in the SMF is
released, the NF Service Consumer shall release the SM context for the PDU
session.
If the SMF indicated in the request that the SM context resource is updated
with the anType IE, the NF Service Consumer shall change the access type of
the PDU session with the value of anType IE.
2b. On failure or redirection, one of the HTTP status code listed in Table
6.1.3.7.3.1-2 shall be returned. For a 4xx/5xx response, the message body
shall contain a ProblemDetails structure with the \"cause\" attribute set to
one of the application errors listed in Table 6.1.3.7.3.1-2.
#### 5.2.2.11 Send MO Data service operation
##### 5.2.2.11.1 General
The Send MO Data service operation shall be used to send mobile originated
data received over NAS, for a given PDU session, towards the SMF, or the V-SMF
for HR roaming scenarios, or the I-SMF for a PDU session with an I-SMF.
It is used in the following procedures:
\- UPF anchored Mobile Originated Data Transport in Control Plane CIoT 5GS
Optimisation (see clause 4.24.1 of 3GPP TS 23.502 [3]);
\- NEF anchored Mobile Originated Data Transport (see clause 4.25.4 of 3GPP TS
23.502 [3]).
The NF Service Consumer (e.g. AMF) shall send mobile originated data to the
SMF by using the HTTP POST method (send-mo-data custom operation) as shown in
Figure 5.2.2.11.1-1.
Figure 5.2.2.11.1-1: Send MO Data
1\. The NF Service Consumer shall send a POST request to the resource
representing the individual SM context resource in the SMF. The payload body
of the POST request shall contain the mobile originated data to send.
The request body may include the \"MO Exception Data Counter\", which
indicates that the UE has accessed the network by using \"MO exception data\"
RRC establishment, if Small Data Rate Control is enabled for the PDU session
and the UE is accessing via the NB-IoT RAT.
2a. On success, \"204 No Content\" shall be returned.
For UPF anchored Mobile Originated Data Transport in Control Plane CIoT 5GS
Optimisation, if the \"MO Exception Data Counter\" is included in the request
then:
\- for HR PDU session, the V-SMF shall update the H-SMF (see clause
5.2.2.8.2.2);
\- for PDU session with I-SMF, the I-SMF shall update the SMF (see clause
5.2.2.8.2.2).
2b. On failure or redirection, one of the HTTP status codes listed in Table
6.1.3.3.4.5.2-2 shall be returned. For a 4xx/5xx response, the message body
shall contain a ProblemDetails, with the \"cause\" attribute indicating the
cause of the failure.
#### 5.2.2.12 Transfer MO Data service operation
##### 5.2.2.12.1 General
The Transfer MO Data service operation shall be used to transfer NEF anchored
mobile originated data received from AMF, for a given PDU session, towards the
H-SMF for HR roaming scenarios, or the SMF for a PDU session with an I-SMF.
It is used in the following procedures:
\- NEF anchored Mobile Originated Data Transport (see clause 4.25.4 of 3GPP TS
23.502 [3]).
The NF Service Consumer (e.g. V-SMF or I-SMF) shall transfer NEF anchored
mobile originated data to the SMF by using the HTTP POST method (transfer-mo-
data custom operation) as shown in Figure 5.2.2.12.1-1.
Figure 5.2.2.12.1-1: Transfer MO Data
1\. The NF Service Consumer shall send a POST request to the URI of Transfer
MO Data custom operation on an individual PDU Session resource in the SMF. The
payload body of the POST request shall contain the mobile originated data to
be transferred.
The payload body shall also contain the MO Exception Data Counter, if received
from AMF.
2a. On success, \"204 No Content\" shall be returned.
2b. On failure or redirection, one of the HTTP status code listed in Table
6.1.3.6.4.4.2-2 shall be returned. For a 4xx/5xx response, the message body
may contain a ProblemDetails, with the \"cause\" attribute indicating the
cause of the failure.
#### 5.2.2.13 Transfer MT Data service operation
##### 5.2.2.13.1 General
The Transfer MT Data service operation shall be used to transfer NEF anchored
mobile terminated data received from NEF, for a given PDU session, towards the
V-SMF for HR roaming scenarios, or the I-SMF for a PDU session with an I-SMF.
It is used in the following procedures:
\- NEF anchored Mobile Terminated Data Transport (see clause 4.25.5 of 3GPP TS
23.502 [3]).
The NF Service Consumer (e.g. H-SMF or SMF) shall transfer NEF anchored mobile
terminated data to the SMF by using the HTTP POST method (transfer-mt-data
custom operation) as shown in Figure 5.2.2.13.1-1.
Figure 5.2.2.13.1-1: Transfer MT Data
1\. The NF Service Consumer shall send a POST request to the URI of Transfer
MT Data custom operation on an individual PDU Session resource in the SMF. The
payload body of the POST request shall contain the mobile terminated data to
be transferred.
The SMF shall forward the mobile terminated data to AMF. If SMF determines
Extended Buffering is allowed by local policy and the NEF supports Extended
Buffering, the SMF indicate the Extending Buffering support to AMF.
If AMF responds that it is attempting to reach the UE, the SMF shall wait for
potential failure notification from AMF before responding to the NF consumer.
2a. On success, \"204 No Content\" shall be returned.
2b. On failure or redirection, one of the HTTP status code listed in Table
6.1.3.7.4.3.2-2 shall be returned. For a 4xx/5xx response, the message body
may contain a TransferMtDataError or ProblemDetails object, with the \"cause\"
attribute indicating the cause of the failure. If Estimated Maximum Waiting
Time is received from AMF, the SMF shall include it in the message body.
#### 5.2.2.14 Retrieve service operation
##### 5.2.2.14.1 General
The Retrieve service operation shall be used to retrieve information from a
PDU session context from the H-SMF for a HR PDU session, or from the SMF for a
PDU session with an I-SMF.
It is used in the following procedures:
\- 5GS to EPS handover using N26 interface and 5GS to EPS Idle mode mobility
using N26 interface (see clauses 4.11.1.2.1 and 4.11.1.2.3 of 3GPP TS 23.502
[3]), for PDU sessions associated with 3GPP access and for which small data
rate control is applicable.
\- Change of SSC mode 3 PDU Session Anchor with multiple PDU Sessions (see
clause 4.3.5.2 of 3GPP TS 23.502 [3]).
The NF Service Consumer (e.g. V-SMF or I-SMF) shall retrieve information from
a PDU session context by using the HTTP POST method (retrieve custom
operation) as shown in Figure 5.2.2.14.1-1.
Figure 5.2.2.14.1-1: Retrieval of information from a PDU session context
1\. The NF Service Consumer shall send a POST request to the resource
representing the individual PDU session context for which information needs to
be retrieved. The POST request may contain a payload body with the following
parameters:
\- smallDataRateStatusReq set to \"true\" to indicate a request to retrieve
the small data rate control status of the PDU session, if small data rate
control is applicable on the PDU session.
\- pduSessionContextType indicates that this is a request to retrieve the AF
Coordination Information as defined in clause 6.1.6.2.69, during the change of
SSC mode 3 PDU Session Anchor with multiple PDU Sessions, if the runtime
coordination between old SMF and AF is enabled.
2a. On success, \"200 OK\" shall be returned and the payload body of the POST
response shall contain the small data rate control status if this is a request
for retrieving the small data rate control status.
2b. On failure or redirection, one of the HTTP status code listed in Table
6.1.3.6.4.5.2-2 shall be returned. For a 4xx/5xx response, the message body
may contain a ProblemDetails structure with the \"cause\" attribute set to one
of the application error listed in Table 6.1.3.6.4.5.2-2.
### 5.2.3 General procedures
#### 5.2.3.1 Transfer of NAS SM information between UE and H-SMF for Home
Routed PDU sessions
##### 5.2.3.1.1 General
As specified in clause 4.3.1 of 3GPP TS 23.502 [3], for Home Routed PDU
sessions, there is NAS SM information that the V-SMF and H-SMF need to
interpret, and NAS SM information that the V-SMF only needs to transfer
between the UE and H-SMF but which it does not need to interpret.
NAS SM information that only needs to be transferred between the UE and H-SMF
by the V-SMF can be extended in later versions or releases of the NAS
specification, e.g. defining new fields or values within existing IEs, and the
extensions should not impact the V-SMF.
Besides, in HR roaming scenarios, the V-SMF and H-SMF can comply to different
versions or releases of the NAS specification. It should be possible to
support new SM features only requiring support from the H-SMF without
impacting the V-SMF, when the H-SMF complies with a more recent release than
the V-SMF, e.g. defining new NAS SM IEs in signalling from the UE to the H-SMF
and/or signalling from the H-SMF to the UE.
##### 5.2.3.1.2 V-SMF Behaviour
The V-SMF shall transfer NAS SM information that it only needs to transfer to
the H-SMF (i.e. known IEs, and IEs that have an unknown value not set to
\"reserved\" according to the release to which the V-SMF complies, that only
need to be forwarded by the V-SMF) in n1SmInfoFromUe binary data within the
HTTP payload. This carries N1 SM IE(s), encoded as specified in 3GPP TS 24.501
[7], including the Type field and, for TLV or TLV-E IEs, the Length field.
NOTE 1: N1 SM IEs defined without a Type field need to be defined over
N16/N16a as specific IEs.
The V-SMF shall transfer NAS SM information that it does not comprehend (i.e.
unknown IEs, or known IEs to be interpreted by the V-SMF that have an unknown
value not set to \"reserved\" according to the release to which the V-SMF
complies) in unknownN1SmInfo binary data within the HTTP payload. This carries
N1 SM IE(s), encoded as specified in 3GPP TS 24.501 [7], including the Type
field and, for TLV or TLV-E IEs, the Length field.
When receiving n1SmInfoToUe binary data in the HTTP payload from the H-SMF,
the V-SMF shall parse all the N1 SM IEs received in the binary data and
construct the NAS SM message to the UE according to 3GPP TS 24.501 [7]. The
V-SMF shall append unknown NAS SM IEs received in the binary data at the end
of the NAS SM message it sends to the UE.
NOTE 2: The V-SMF can infer the length of an unknown IE based on the IEI
value. See clause 11.2.4 of 3GPP TS 24.007 [8].
The V-SMF shall comprehend and be able to encode at their right place in a
given NAS message, all the IEs of the version of the NAS specification it
implements that do not need to be interpreted by the V-SMF and which precede
the last interpreted IE that the V-SMF implements in a NAS message.
NOTE 3: The V-SMF encodes comprehended IEs at their right place in the NAS SM
message
##### 5.2.3.1.3 H-SMF Behaviour
When receiving unknownN1SmInfo binary data in the HTTP payload from the V-SMF,
the H-SMF shall process any N1 SM IE received in this binary data that do not
require to be interpreted by the V-SMF. Other N1 SM IEs shall be dropped, e.g.
IEs that the H-SMF comprehends but which require to be interpreted by the
V-SMF.
The H-SMF shall transfer NAS SM information which the V-SMF does not need to
interpret (i.e. that it only needs to transfer to the UE) in n1SmInfoToUe
binary data within the HTTP payload. This carries N1 SM IE(s), encoded as
specified in 3GPP TS 24.501 [7], including the Type field and, for TLV or
TLV-E IEs, the Length field.
NOTE 1: N1 SM IEs defined without a Type field need to be defined over
N16/N16a as specific IEs.
The NAS SM IEs in n1SmInfoToUe binary data shall be encoded in the same order
as specified in 3GPP TS 24.501 [7].
N1 SM information which does not require to be interpreted by the V-SMF is
information that is not defined as specific IEs over N16.
#### 5.2.3.2 Transfer of NAS SM information between UE and SMF for PDU
sessions with an I-SMF
##### 5.2.3.2.1 General
The requirements specified in clause 5.2.3.1 shall also apply for the transfer
of NAS SM information between the UE and the SMF for PDU sessions with an
I-SMF, whereby the I-SMF and SMF shall take the role of the V-SMF and H-SMF
respectively.
#### 5.2.3.3 Detection and handling of late arriving requests
##### 5.2.3.3.1 Handling of requests which collide with an existing SM context
or PDU session context
###### 5.2.3.3.1.1 General
This procedure enables an SMF, which receives a request colliding with an
existing SM context or PDU session context, to know the time at which the new
request and the existing PDU session were originated, and to accept the new
request only if it is more recent than the existing PDU session.
The originating entities within the PLMN (i.e. AMFs) shall be NTP
synchronized.
###### 5.2.3.3.1.2 Principles
The following principles shall apply if this procedure is supported and
enabled by operator policy.
An AMF originating a Create SM Context request shall include in the message
the Origination Time Stamp indicating the absolute time at which the request
is initiated.
The V-SMF or I-SMF shall forward this header to the H-SMF or SMF, if it is
received from the AMF.
Upon receipt of a Create SM Context request or a Create request which collides
with an existing SM context or PDU session context, the SMF shall accept the
new PDU session establishment request only if it contains a more recent time
stamp than the time stamp stored for the existing PDU session. An incoming PDU
session establishment request shall be considered as more recent than an
existing PDU session and be accepted if no Origination Time Stamp information
was provided for at least one of the two PDU sessions. The SMF shall reject an
incoming request whose time stamp is less recent than the time stamp of the
existing PDU session with the HTTP status code \"403 Forbidden\" and the
application error \"LATE_OVERLAPPING_REQUEST\".
3GPP TS 29.512 [30] further specify:
\- the SMF requirements regarding the forwarding of the Origination Time Stamp
towards the PCF, when received from the AMF;
\- the handling of the Origination Time Stamp parameter by the PCF for an
incoming request colliding with an existing Individual SM Policy Association.
##### 5.2.3.3.2 Detection and handling of requests which have timed out at the
HTTP client
###### 5.2.3.3.2.1 General
The procedure specified in clause 6.11.2 of 3GPP TS 29.500 [4] shall apply
with the following additions.
An HTTP request may include the 3gpp-Sbi-Origination-Timestamp and the 3gpp-
Sbi-Max-Rsp-Time headers, with or without the 3gpp-Sbi-Sender-Timestamp
header.
The 3gpp-Sbi-Max-Rsp-Time header shall indicate the duration expressed in
milliseconds since the absolute time indicated in the 3gpp-Sbi-Sender-
Timestamp header, if this header is present, or indicated in the 3gpp-Sbi-
Origination-Timestamp header otherwise.
NOTE: The AMF does not need to include the 3gpp-Sbi-Sender-Timestamp if it
includes the 3gpp-Sbi-Origination-Timestamp. A V-SMF or I-SMF forwards the
3gpp-Sbi-Origination-Timestamp over N16 or N16a, if received, and can include
a 3gpp-Sbi-Sender-Timestamp header set to the time when it sends the Create
request, in which case the 3gpp-Sbi-Max-Rsp-Time header contains the response
time with respect to the 3gpp-Sbi-Sender-Timestamp header.
#### 5.2.3.4 UE Location Information
When attributes with the UserLocation data type (as defined in clause 5.4.4.7
of 3GPP TS 29.571 [13]) are included in the messages (as specified in clause
6) to report the UE location information to the SMF, the following information
shall be included in these attributes:
\- the TAI and NCGI for NR user location; or
\- the TAI and ECGI for E-UTRA user location; or
\- the TAI, UE local IP address, Port if NAT is detected, and optionally
n3Iwid if available, for untrusted non-3GPP access; or
\- the TAI and TNAP Id/TWAP Id for trusted non-3GPP access; or
\- the TAI and GLI and optionally LineType if available, or the TAI and
hfcNodeId, or the TAI and GCI, for wireline network access.
# 6 API Definitions
## 6.1 Nsmf_PDUSession Service API
### 6.1.1 API URI
The Nsmf_PDUSession service shall use the Nsmf_PDUSession API.
The API URI of the Nsmf_PDUSession API shall be:
**{apiRoot}/\ /\**
The request URIs used in HTTP requests from the NF service consumer towards
the NF service producer shall have the Resource URI structure defined in
clause 4.4.1 of 3GPP TS 29.501 [5], i.e.:
**{apiRoot}/\ /\/\**
with the following components:
\- The {apiRoot} shall be set as described in 3GPP TS 29.501 [5].
\- The \ shall be \"nsmf-pdusession\".
\- The \ shall be \"v1\".
\- The \ shall be set as described in clause
6.1.3.
### 6.1.2 Usage of HTTP
#### 6.1.2.1 General
HTTP/2, as defined in IETF RFC 7540 [14], shall be used as specified in clause
5 of 3GPP TS 29.500 [4].
HTTP/2 shall be transported as specified in clause 5.3 of 3GPP TS 29.500 [4].
HTTP messages and bodies for the Nsmf_PDUSession service shall comply with the
OpenAPI [15] specification contained in Annex A.
#### 6.1.2.2 HTTP standard headers
##### 6.1.2.2.1 General
The usage of HTTP standard headers shall be supported as specified in clause
5.2.2 of 3GPP TS 29.500 [4].
##### 6.1.2.2.2 Content type
The following content types shall be supported:
\- the JSON format (IETF RFC 8259 [11]). The use of the JSON format shall be
signalled by the content type \"application/json\". See also clause 5.4 of
3GPP TS 29.500 [4].
\- the Problem Details JSON Object (IETF RFC 7807 [23]). The use of the
Problem Details JSON object in a HTTP response body shall be signalled by the
content type \"application/problem+json\".
NOTE: \"application/json\" is used in a response that includes a payload body
containing an application-specific data structure, see clause 4.8 of 3GPP TS
29.501 [5].
Multipart messages shall also be supported (see clause 6.1.2.4) using the
content type \"multipart/related\", comprising:
\- one JSON body part with the \"application/json\" content type; and
\- one or two binary body parts with 3gpp vendor specific content subtypes.
The 3gpp vendor specific content subtypes defined in Table 6.1.2.2.2-1 shall
be supported.
Table 6.1.2.2.2-1: 3GPP vendor specific content subtypes
+----------------------------------+----------------------------------+ | content subtype | Description | +----------------------------------+----------------------------------+ | vnd.3gpp.ngap | Binary encoded payload, encoding | | | NG Application Protocol (NGAP) | | | IEs, as specified in clause 9.3 | | | of 3GPP TS 38.413 [9] (ASN.1 | | | encoded). | +----------------------------------+----------------------------------+ | vnd.3gpp.5gnas | Binary encoded payload, encoding | | | a 5GS NAS message or 5G NAS IEs, | | | as specified in | | | 3GPP TS 24.501 [7]. | +----------------------------------+----------------------------------+ | vnd.3gpp.pfcp | Binary encoded payload, encoding | | | a PFCP message, as specified in | | | 3GPP TS 29.244 [29]. (NOTE 2) | +----------------------------------+----------------------------------+ | NOTE 1: Using 3GPP vendor | | | content subtypes allows to | | | describe the nature of the | | | opaque payload (e.g. NGAP or 5GS | | | NAS information) without having | | | to rely on metadata in the JSON | | | payload. | | | | | | NOTE 2: Binary encoded payload | | | in vnd.3gpp.pfcp content subtype | | | shall include application layer | | | headers for PFCP and shall not | | | include transport layer headers, | | | i.e. IP and UDP. | | +----------------------------------+----------------------------------+
See clause 6.1.2.4 for the binary payloads supported in the binary body part
of multipart messages.
#### 6.1.2.3 HTTP custom headers
##### 6.1.2.3.1 General
For 3GPP specific HTTP custom headers used across all service based
interfaces, see clause 5.2.3 of 3GPP TS 29.500 [4].
Additional HTTP custom headers applicable to the Nsmf_PDUSession service are
specified in the following clauses.
##### 6.1.2.3.2 3gpp-Sbi-Origination-Timestamp
The header contains the date and time (with a millisecond granularity) when
the originating entity initiated the request.
The encoding of the header follows the ABNF as defined in IETF RFC 7230 [31].
Sbi-Origination-Timestamp-Header = \"3gpp-Sbi-Origination-Timestamp:\" OWS
day-name \",\" SP date1 SP time-of-day \".\" milliseconds SP \"GMT\" OWS
milliseconds = 3DIGIT
day-name, date1, time-of-day shall comply with the definition in clause
7.1.1.1 of IETF RFC 7231 [32].
NOTE: This is the same format as the Date header of clause 7.1.1.2 of IETF RFC
7231 [32], but with the time expressed with a millisecond granularity.
EXAMPLE: 3gpp-Sbi-Origination-Timestamp: Sun, 04 Aug 2019 08:49:37.845 GMT
#### 6.1.2.4 HTTP multipart messages
HTTP multipart messages shall be supported, to transfer opaque N1 and/or N2
SMpayloads or N4 information, in the following service operations (and HTTP
messages):
\- Create SM Context Request and Response (POST);
\- Update SM Context Request and Response (POST);
\- Release SM Context Request (POST);
\- Create Request and Response (POST);
\- Update Request and Response (POST (modify)).
HTTP multipart messages shall include one JSON body part and one or two binary
body parts comprising:
\- an N1 SM payload, an N2 SM payload or both, over N11 (see clause 6.1.6.4);
\- one or two N1 SM payloads, over N16 (see clause 6.1.6.4);
\- one or two N2 SM payloads over N11 (see clause 5.2.2.3.3);
\- one, two or three N4 payloads over N16a (see clause 6.1.6.4.5).
The JSON body part shall be the \"root\" body part of the multipart message.
It shall be encoded as the first body part of the multipart message. The
\"Start\" parameter does not need to be included.
The multipart message shall include a \"type\" parameter (see IETF RFC 2387
[10]) specifying the media type of the root body part, i.e.
\"application/json\".
NOTE: The \"root\" body part (or \"root\" object) is the first body part the
application processes when receiving a multipart/related message, see IETF RFC
2387 [10]. The default root is the first body within the multipart/related
message. The \"Start\" parameter indicates the root body part, e.g. when this
is not the first body part in the message.
For each binary body part in a HTTP multipart message, the binary body part
shall include a Content-ID header (see IETF RFC 2045 [12]), and the JSON body
part shall include an attribute, defined with the RefToBinaryData type, that
contains the value of the Content-ID header field of the referenced binary
body part.
Examples of multipart/related messages can be found in Annex B.
#### 6.1.2.5 HTTP/2 request retries
The principles specified in clause 5.2.8 of 3GPP TS 29.500 [4] shall be
applied with the following modifications.
The NF Service Consumer of Nsmf_PDUSession service, e.g. the AMF, shall retry
the same HTTP request in the following scenarios through a new TCP connection
towards an (alternative) service endpoint pertaining to the same NF (Service)
instance or set if the corresponding procedure triggering the service request
allows such retries, e.g. before the timeout of the corresponding N1 or N2
procedure:
\- If the stream for the service request has not been processed in the SMF as
specified in clause 5.2.8 of 3GPP TS 29.500 [4];
\- if the request is rejected by a HTTP status code indicating a temporary
failure in the SMF, e.g. the status code 429, 500 and 503, as specified in
clause 5.2.7 of 3GPP TS 29.500 [4];
\- if the request is timeout (i.e. the NF Service consumer doesn\'t receive
any response after an implementation specific timer expires).
The NF Service Consumer shall determine an alternative service instance as
specified in clause 6.5 of 3GPP TS 23.527 [24], i.e. using Binding Indication
if supported/available or the NF (service) set or service persistency info
from NF profile. The NF Service Consumer should also consider the Load control
Information and the Overload Control Information if available as specified in
clauses 6.3 and 6.4 in 3GPP TS 29.500 [4] when reselecting an alternative NF
service instance.
The SMF shall support handling repeated retries successfully.
NOTE: See clauses 5.2.2.2 and 5.2.2.7 for the handling by the SMF of an HTTP
POST request that would have already been processed by the SMF and that would
be retried by the NF Service Consumer.
HTTP conditional requests are not supported by the Nsmf_PDUSession service in
this version of the API.
### 6.1.3 Resources
#### 6.1.3.1 Overview
This clause describes the structure for the Resource URIs and the resources
and methods used for the service.
Figure 6.1.3.1-1 describes the resource URI structure of the Nsmf_PDUSession
API.
Figure 6.1.3.1-1: Resource URI structure of the Nsmf_PDUSession API
NOTE: The sm-contexts and pdu-sessions collection resources can be distributed
on different processing instances or hosts. Thus, the authority and/or
deployment-specific string of the apiRoot of the created individual sm context
and pdu-session resources\' URIs can differ from the authority and/or
deployment-specific string of the apiRoot of the sm-contexts and pdu-sessions
distributed collections\' URIs.
Table 6.1.3.1-1 provides an overview of the resources and applicable HTTP
methods.
Table 6.1.3.1-1: Resources and methods overview
+----------------+----------------+----------------+----------------+ | Resource name | Resource URI | HTTP method or | Description | | | | custom | | | | | operation | (service | | | | | operation) | +================+================+================+================+ | SM contexts | /sm-contexts | POST | Create SM | | | | | Context | | collection | | | | +----------------+----------------+----------------+----------------+ | Individual SM | /sm-cont | retrieve | Retrieve SM | | context | exts/{smContex | (POST) | Context | | | tRef}/retrieve | | | +----------------+----------------+----------------+----------------+ | | /sm-co | modify | Update SM | | | ntexts/{smCont | | Context | | | extRef}/modify | (POST) | | +----------------+----------------+----------------+----------------+ | | /sm-con | release | Release SM | | | texts/{smConte | | Context | | | xtRef}/release | (POST) | | +----------------+----------------+----------------+----------------+ | | /sm-contexts | send-mo-data | Send MO Data | | | /{smContextRef | | | | | }/send-mo-data | (POST) | | +----------------+----------------+----------------+----------------+ | PDU sessions | /pdu-sessions | POST | Create | | collection | | | | | | | | | | (H-SMF or SMF) | | | | +----------------+----------------+----------------+----------------+ | Individual PDU | /pdu-ses | modify | Update | | session | sions/{pduSess | | | | | ionRef}/modify | (POST) | (initiated by | | (H-SMF or SMF) | | | V-SMF or | | | | | I-SMF) | +----------------+----------------+----------------+----------------+ | | /pdu-sess | release | Release | | | ions/{pduSessi | | | | | onRef}/release | (POST) | | +----------------+----------------+----------------+----------------+ | | /pdu-sessi | retrieve | Retrieve | | | ons/{pduSessio | | | | | nRef}/retrieve | (POST) | | +----------------+----------------+----------------+----------------+ | | /pdu | tr | Transfer MO | | | -sessions/{pdu | ansfer-mo-data | Data | | | SessionRef}/tr | | | | | ansfer-mo-data | (POST) | | +----------------+----------------+----------------+----------------+ | Individual PDU | {vsmfPduSess | modify | Update | | session | ionUri}/modify | | | | | or | (POST) | (initiated by | | (V-SMF or | {ismfPduSess | | H-SMF or SMF) | | I-SMF) | ionUri}/modify | | | +----------------+----------------+----------------+----------------+ | | {vsmf | POST | Notify Status | | | PduSessionUri} | | | | | or | | | | | {ismf | | | | | PduSessionUri} | | | +----------------+----------------+----------------+----------------+ | | {vsmfPdu | tr | Transfer MT | | | SessionUri}/tr | ansfer-mt-data | Data | | | ansfer-mt-data | | | | | or | (POST) | | | | {ismfP | | | | | duSessionUri}/ | | | | | tr | | | | | ansfer-mt-data | | | +----------------+----------------+----------------+----------------+
#### 6.1.3.2 Resource: SM contexts collection
##### 6.1.3.2.1 Description
This resource represents the collection of the individual SM contexts created
in the SMF.
This resource is modelled with the Collection resource archetype (see clause
C.2 of 3GPP TS 29.501 [5]).
##### 6.1.3.2.2 Resource Definition
Resource URI: **{apiRoot}/nsmf-pdusession/\ /sm-contexts**
This resource shall support the resource URI variables defined in table
6.1.3.2.2-1.
Table 6.1.3.2.2-1: Resource URI variables for this resource
Name Data type Definition
* * *
apiRoot string See clause 6.1.1.
##### 6.1.3.2.3 Resource Standard Methods
###### 6.1.3.2.3.1 POST
This method creates an individual SM context resource in the SMF, or in V-SMF
in HR roaming scenarios.
This method shall support the URI query parameters specified in table
6.1.3.2.3.1-1.
Table 6.1.3.2.3.1-1: URI query parameters supported by the POST method on this
resource
* * *
Name Data type P Cardinality Description n/a
* * *
This method shall support the request data structures specified in table
6.1.3.2.3.1-2 and the response data structures and response codes specified in
table 6.1.3.2.3.1-3.
Table 6.1.3.2.3.1-2: Data structures supported by the POST Request Body on
this resource
* * *
Data type P Cardinality Description SmContextCreateData M 1 Representation of
the SM context to be created in the SMF.
* * *
Table 6.1.3.2.3.1-3: Data structures supported by the POST Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | SmConte | M | 1 | 201 Created | Successful | | xtCreatedData | | | | creation of | | | | | | an SM | | | | | | context. | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 307 Temporary | Temporary | | irectResponse | | | Redirect | redirection. | | | | | | | | | | | | (NOTE 2) | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 308 Permanent | Permanent | | irectResponse | | | Redirect | redirection. | | | | | | | | | | | | (NOTE 2) | +---------------+---+-------------+---------------+---------------+ | SmConte | M | 1 | 400 Bad | The \"cause\" | | xtCreateError | | | Request | attribute | | | | | | shall be set | | | | | | to one of the | | | | | | errors | | | | | | defined in | | | | | | Table | | | | | | 5.2.7.2-1 of | | | | | | 3GPP TS | | | | | | 29.500 [4]. | +---------------+---+-------------+---------------+---------------+ | P | O | 0..1 | 400 Bad | This error | | roblemDetails | | | Request | shall only be | | | | | | returned by | | | | | | an SCP for | | | | | | errors it | | | | | | originates. | | | | | | As an | | | | | | exception, | | | | | | this error | | | | | | may also be | | | | | | returned by | | | | | | an SMF, with | | | | | | an empty | | | | | | payload body, | | | | | | for a | | | | | | protocol | | | | | | error other | | | | | | than those | | | | | | specified for | | | | | | the SMF | | | | | | PDUSession | | | | | | service logic | | | | | | (e.g. | | | | | | protocol | | | | | | error found | | | | | | by the HTTP | | | | | | stack). | +---------------+---+-------------+---------------+---------------+ | SmConte | M | 1 | 403 Forbidden | The \"cause\" | | xtCreateError | | | | attribute | | | | | | shall be set | | | | | | to one of the | | | | | | following | | | | | | application | | | | | | error: | | | | | | | | | | | | - | | | | | | N1_SM_ERROR | | | | | | | | | | | | - | | | | | | N2_SM_ERROR | | | | | | | | | | | | - | | | | | | S | | | | | | NSSAI_DENIED | | | | | | | | | | | | - | | | | | | DNN_DENIED | | | | | | | | | | | | - | | | | | | PD | | | | | | UTYPE_DENIED | | | | | | | | | | | | - | | | | | | SSC_DENIED | | | | | | | | | | | | - | | | | | | SUBSCRI | | | | | | PTION_DENIED | | | | | | | | | | | | - | | | | | | DNN_N | | | | | | OT_SUPPORTED | | | | | | | | | | | | - | | | | | | PDUTYPE_N | | | | | | OT_SUPPORTED | | | | | | | | | | | | - | | | | | | SSC_N | | | | | | OT_SUPPORTED | | | | | | | | | | | | - | | | | | | HOME\ | | | | | | _ROUTED_ROAM | | | | | | ING_REQUIRED | | | | | | | | | | | | - | | | | | | OU | | | | | | T_OF_LADN_ | | | | | | SERVICE_AREA | | | | | | | | | | | | - | | | | | | NO_EPS_5G | | | | | | S_CONTINUITY | | | | | | | | | | | | - | | | | | | INT | | | | | | EGRITY_PROTE | | | | | | CTED_MDR_NO | | | | | | T_ACCEPTABLE | | | | | | | | | | | | - | | | | | | DEFA | | | | | | ULT_EPS_BEA | | | | | | RER_INACTIVE | | | | | | | | | | | | - | | | | | | NOT_SUPPORTE | | | | | | D_WITH_ISMF | | | | | | | | | | | | - | | | | | | SERVICE_NOT\ | | | | | | _AUTHORIZED_ | | | | | | BY_NEXT_HOP | | | | | | | | | | | | - | | | | | | EXCEE | | | | | | DED_UE_SLIC | | | | | | E_DATA_RATE | | | | | | | | | | | | - | | | | | | E | | | | | | XCEEDED_SLIC | | | | | | E_DATA_RATE | | | | | | | | | | | | See table | | | | | | 6.1.7.3-1 for | | | | | | the | | | | | | description | | | | | | of these | | | | | | errors. | +---------------+---+-------------+---------------+---------------+ | P | O | 0..1 | 403 Forbidden | This error | | roblemDetails | | | | shall only be | | | | | | returned by | | | | | | an SCP for | | | | | | errors it | | | | | | originates. | | | | | | As an | | | | | | exception, | | | | | | this error | | | | | | may also be | | | | | | returned by | | | | | | an SMF, with | | | | | | an empty | | | | | | payload body, | | | | | | for a | | | | | | protocol | | | | | | error other | | | | | | than those | | | | | | specified for | | | | | | the SMF | | | | | | PDUSession | | | | | | service logic | | | | | | (e.g. | | | | | | protocol | | | | | | error found | | | | | | by the HTTP | | | | | | stack). | +---------------+---+-------------+---------------+---------------+ | SmConte | M | 1 | 404 Not Found | The \"cause\" | | xtCreateError | | | | attribute | | | | | | shall be set | | | | | | to one of the | | | | | | following | | | | | | application | | | | | | error: | | | | | | | | | | | | - | | | | | | CONTEX | | | | | | T_NOT_FOUND | | | | | | | | | | | | See table | | | | | | 6.1.7.3-1 for | | | | | | the | | | | | | description | | | | | | of these | | | | | | errors. | +---------------+---+-------------+---------------+---------------+ | ExtP | O | 0..1 | 413 Payload | | | roblemDetails | | | Too Large | | +---------------+---+-------------+---------------+---------------+ | ExtP | O | 0..1 | 415 | | | roblemDetails | | | Unsupported | | | | | | Media Type | | +---------------+---+-------------+---------------+---------------+ | ExtP | O | 0..1 | 429 Too Many | | | roblemDetails | | | Requests | | +---------------+---+-------------+---------------+---------------+ | SmConte | M | 1 | 500 Internal | The \"cause\" | | xtCreateError | | | Server Error | attribute | | | | | | shall be set | | | | | | to one of the | | | | | | errors | | | | | | defined in | | | | | | Table | | | | | | 5.2.7.2-1 of | | | | | | 3GPP TS | | | | | | 29.500 [4] | | | | | | or to one of | | | | | | the following | | | | | | application | | | | | | errors: | | | | | | | | | | | | - | | | | | | INSU | | | | | | FFICIENT_RES | | | | | | OURCES_SLICE | | | | | | | | | | | | - | | | | | | INSUFFICI | | | | | | ENT_RESOURCE | | | | | | S_SLICE_DNN | | | | | | | | | | | | See table | | | | | | 6.1.7.3-1 for | | | | | | the | | | | | | description | | | | | | of these | | | | | | errors. | +---------------+---+-------------+---------------+---------------+ | P | O | 0..1 | 500 Internal | This error | | roblemDetails | | | Server Error | shall only be | | | | | | returned by | | | | | | an SCP for | | | | | | errors it | | | | | | originates. | | | | | | As an | | | | | | exception, | | | | | | this error | | | | | | may also be | | | | | | returned by | | | | | | an SMF, with | | | | | | an empty | | | | | | payload body, | | | | | | for a general | | | | | | server error | | | | | | other than | | | | | | those | | | | | | specified for | | | | | | the SMF | | | | | | PDUSession | | | | | | service | | | | | | logic. | +---------------+---+-------------+---------------+---------------+ | SmConte | M | 1 | 503 Service | The \"cause\" | | xtCreateError | | | Unavailable | attribute | | | | | | shall be set | | | | | | to one of the | | | | | | errors | | | | | | defined in | | | | | | Table | | | | | | 5.2.7.2-1 of | | | | | | 3GPP TS | | | | | | 29.500 [4] | | | | | | or to one of | | | | | | the following | | | | | | application | | | | | | errors: | | | | | | | | | | | | - | | | | | | DN | | | | | | N_CONGESTION | | | | | | | | | | | | - | | | | | | S_NSSA | | | | | | I_CONGESTION | | | | | | | | | | | | See table | | | | | | 6.1.7.3-1 for | | | | | | the | | | | | | description | | | | | | of these | | | | | | errors. | +---------------+---+-------------+---------------+---------------+ | P | O | 0..1 | 503 Service | This error | | roblemDetails | | | Unavailable | shall only be | | | | | | returned by | | | | | | an SCP for | | | | | | errors it | | | | | | originates. | | | | | | As an | | | | | | exception, | | | | | | this error | | | | | | may also be | | | | | | returned by | | | | | | an SMF, with | | | | | | an empty | | | | | | payload body, | | | | | | for a general | | | | | | server error | | | | | | other than | | | | | | those | | | | | | specified for | | | | | | the SMF | | | | | | PDUSession | | | | | | service | | | | | | logic. | +---------------+---+-------------+---------------+---------------+ | SmConte | M | 1 | 504 Gateway | The \"cause\" | | xtCreateError | | | Timeout | attribute | | | | | | shall be set | | | | | | to one of the | | | | | | following | | | | | | application | | | | | | error: | | | | | | | | | | | | - | | | | | | PEER_NO | | | | | | T_RESPONDING | | | | | | | | | | | | - | | | | | | NET | | | | | | WORK_FAILURE | | | | | | | | | | | | See table | | | | | | 6.1.7.3-1 for | | | | | | the | | | | | | description | | | | | | of these | | | | | | errors. | +---------------+---+-------------+---------------+---------------+ | P | O | 0..1 | 504 Gateway | This error | | roblemDetails | | | Timeout | shall only be | | | | | | returned by | | | | | | an SCP for | | | | | | errors it | | | | | | originates. | +---------------+---+-------------+---------------+---------------+ | NOTE 1: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the POST | | | | | | method listed | | | | | | in Table | | | | | | 5.2.7.1-1 of | | | | | | 3GPP TS | | | | | | 29.500 [4] | | | | | | other than | | | | | | those | | | | | | specified in | | | | | | the table | | | | | | above also | | | | | | apply, with a | | | | | | P | | | | | | roblemDetails | | | | | | data type | | | | | | (see | | | | | | clause 5.2.7 | | | | | | of | | | | | | 3GPP TS 2 | | | | | | 9.500 [4]). | | | | | | | | | | | | NOTE 2: | | | | | | Red | | | | | | irectResponse | | | | | | may be | | | | | | inserted by | | | | | | an SCP, see | | | | | | cl | | | | | | ause 6.10.9.1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.500 [4]. | | | | | +---------------+---+-------------+---------------+---------------+
Table 6.1.3.2.3.1-4: Headers supported by the 201 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 Contains the URI
of the newly created resource, according to the structure: {apiRoot}/nsmf-
pdusession/\/sm-contexts/{smContextRef}
* * *
Table 6.1.3.2.3.1-5: Headers supported by the 307 Response Code on this
resource
+-----------------+-----------+---+-------------+-----------------+ | Name | Data type | P | Cardinality | Description | +-----------------+-----------+---+-------------+-----------------+ | Location | string | M | 1 | An alternative | | | | | | URI of the | | | | | | resource | | | | | | located on an | | | | | | alternative | | | | | | service | | | | | | instance within | | | | | | the same SMF or | | | | | | SMF (service) | | | | | | set. | | | | | | | | | | | | For the case | | | | | | when a request | | | | | | is redirected | | | | | | to the same | | | | | | target resource | | | | | | via a different | | | | | | SCP, see | | | | | | clause 6.10.9.1 | | | | | | in | | | | | | 3GPP T | | | | | | S 29.500 [4]. | +-----------------+-----------+---+-------------+-----------------+ | 3gpp-S | string | O | 0..1 | Identifier of | | bi-Target-Nf-Id | | | | the target SMF | | | | | | (service) | | | | | | instance ID | | | | | | towards which | | | | | | the request is | | | | | | redirected | +-----------------+-----------+---+-------------+-----------------+
Table 6.1.3.2.3.1-6: Headers supported by the 308 Response Code on this
resource
+-----------------+-----------+---+-------------+-----------------+ | Name | Data type | P | Cardinality | Description | +-----------------+-----------+---+-------------+-----------------+ | Location | string | M | 1 | An alternative | | | | | | URI of the | | | | | | resource | | | | | | located on an | | | | | | alternative | | | | | | service | | | | | | instance within | | | | | | the same SMF or | | | | | | SMF (service) | | | | | | set. | | | | | | | | | | | | For the case | | | | | | when a request | | | | | | is redirected | | | | | | to the same | | | | | | target resource | | | | | | via a different | | | | | | SCP, see | | | | | | clause 6.10.9.1 | | | | | | in | | | | | | 3GPP T | | | | | | S 29.500 [4]. | +-----------------+-----------+---+-------------+-----------------+ | 3gpp-S | string | O | 0..1 | Identifier of | | bi-Target-Nf-Id | | | | the target SMF | | | | | | (service) | | | | | | instance ID | | | | | | towards which | | | | | | the request is | | | | | | redirected | +-----------------+-----------+---+-------------+-----------------+
##### 6.1.3.2.4 Resource Custom Operations
None.
#### 6.1.3.3 Resource: Individual SM context
##### 6.1.3.3.1 Description
This resource represents an individual SM context created in the SMF.
This resource is modelled with the Document resource archetype (see clause C.1
of 3GPP TS 29.501 [5]).
##### 6.1.3.3.2 Resource Definition
Resource URI: **{apiRoot}/nsmf-pdusession/\ /sm-
contexts/{smContextRef}**
This resource shall support the resource URI variables defined in table
6.1.3.3.2-1.
Table 6.1.3.3.2-1: Resource URI variables for this resource
Name Data type Definition
* * *
apiRoot string See clause 6.1.1. smContextRef string SM context reference
assigned by the SMF during the Create SM Context service operation.
##### 6.1.3.3.3 Resource Standard Methods
None.
##### 6.1.3.3.4 Resource Custom Operations
###### 6.1.3.3.4.1 Overview
Table 6.1.3.3.4.1-1: Custom operations
Operation Name Custom operation URI Mapped HTTP method Description
* * *
modify {resourceUri}/modify POST Update SM Context service operation release
{resourceUri}/release POST Release SM Context service operation retrieve
{resourceUri}/retrieve POST Retrieve SM Context service operation send-mo-data
{resourceUri}/send-mo-data POST Send MO Data service operation
###### 6.1.3.3.4.2 Operation: modify
###### # 6.1.3.3.4.2.1 Description
###### # 6.1.3.3.4.2.2 Operation Definition
This custom operation updates an individual SM context resource and/or provide
N1 or N2 SM information received from the UE or the AN, for a given PDU
session, towards the SMF, or in V-SMF in HR roaming scenario.
This operation shall support the request data structures specified in table
6.1.3.3.4.2.2-1 and the response data structure and response codes specified
in table 6.1.3.3.4.2.2-2.
Table 6.1.3.3.4.2.2-1: Data structures supported by the POST Request Body on
this resource
Data type P Cardinality Description
* * *
SmContextUpdateData M 1 Representation of the updates to apply to the SM
context.
Table 6.1.3.3.4.2.2-2: Data structures supported by the POST Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +===============+===+=============+===============+===============+ | SmConte | C | 0..1 | 200 OK | Successful | | xtUpdatedData | | | | update of the | | | | | | SM context, | | | | | | when the SMF | | | | | | needs to | | | | | | return | | | | | | information | | | | | | in the | | | | | | response. | +---------------+---+-------------+---------------+---------------+ | n/a | | | 204 No | Successful | | | | | Content | update of the | | | | | | SM context, | | | | | | when the SMF | | | | | | does not need | | | | | | to return | | | | | | information | | | | | | in the | | | | | | response. | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 307 Temporary | Temporary | | irectResponse | | | Redirect | redirection. | | | | | | | | | | | | (NOTE 2) | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 308 Permanent | Permanent | | irectResponse | | | Redirect | redirection. | | | | | | | | | | | | (NOTE 2) | +---------------+---+-------------+---------------+---------------+ | SmConte | M | 1 | 400 Bad | The \"cause\" | | xtUpdateError | | | Request | attribute | | | | | | shall be set | | | | | | to one of the | | | | | | errors | | | | | | defined in | | | | | | Table | | | | | | 5.2.7.2-1 of | | | | | | 3GPP TS | | | | | | 29.500 [4]. | +---------------+---+-------------+---------------+---------------+ | P | O | 0..1 | 400 Bad | This error | | roblemDetails | | | Request | shall only be | | | | | | returned by | | | | | | an SCP for | | | | | | errors it | | | | | | originates. | | | | | | As an | | | | | | exception, | | | | | | this error | | | | | | may also be | | | | | | returned by | | | | | | an SMF, with | | | | | | an empty | | | | | | payload body, | | | | | | for a | | | | | | protocol | | | | | | error other | | | | | | than those | | | | | | specified for | | | | | | the SMF | | | | | | PDUSession | | | | | | service logic | | | | | | (e.g. | | | | | | protocol | | | | | | error found | | | | | | by the HTTP | | | | | | stack). | +---------------+---+-------------+---------------+---------------+ | SmConte | M | 1 | 403 Forbidden | The \"cause\" | | xtUpdateError | | | | attribute | | | | | | shall be set | | | | | | to one of the | | | | | | following | | | | | | application | | | | | | error: | | | | | | | | | | | | - | | | | | | N1_SM_ERROR | | | | | | | | | | | | - | | | | | | N2_SM_ERROR | | | | | | | | | | | | - | | | | | | SUBSCRI | | | | | | PTION_DENIED | | | | | | | | | | | | - | | | | | | OU | | | | | | T_OF_LADN_ | | | | | | SERVICE_AREA | | | | | | | | | | | | - | | | | | | P | | | | | | RIORITIZED_S | | | | | | ERVICES_ONLY | | | | | | | | | | | | - | | | | | | PD | | | | | | U_SESSION_A | | | | | | NCHOR_CHANGE | | | | | | | | | | | | - | | | | | | NO_DAT | | | | | | A_FORWARDING | | | | | | | | | | | | - | | | | | | S_NSSAI_ | | | | | | UNAVAILABLE_ | | | | | | DUE_TO_NSAC | | | | | | | | | | | | See table | | | | | | 6.1.7.3-1 for | | | | | | the | | | | | | description | | | | | | of these | | | | | | errors. | +---------------+---+-------------+---------------+---------------+ | P | O | 0..1 | 403 Forbidden | This error | | roblemDetails | | | | shall only be | | | | | | returned by | | | | | | an SCP for | | | | | | errors it | | | | | | originates. | | | | | | As an | | | | | | exception, | | | | | | this error | | | | | | may also be | | | | | | returned by | | | | | | an SMF, with | | | | | | an empty | | | | | | payload body, | | | | | | for a | | | | | | protocol | | | | | | error other | | | | | | than those | | | | | | specified for | | | | | | the SMF | | | | | | PDUSession | | | | | | service logic | | | | | | (e.g. | | | | | | protocol | | | | | | error found | | | | | | by the HTTP | | | | | | stack). | +---------------+---+-------------+---------------+---------------+ | SmConte | M | 1 | 404 Not Found | The \"cause\" | | xtUpdateError | | | | attribute | | | | | | shall be set | | | | | | to one of the | | | | | | following | | | | | | application | | | | | | error: | | | | | | | | | | | | - | | | | | | CONTEX | | | | | | T_NOT_FOUND | | | | | | | | | | | | See table | | | | | | 6.1.7.3-1 for | | | | | | the | | | | | | description | | | | | | of these | | | | | | errors. | +---------------+---+-------------+---------------+---------------+ | ExtP | O | 0..1 | 413 Payload | | | roblemDetails | | | Too Large | | +---------------+---+-------------+---------------+---------------+ | ExtP | O | 0..1 | 415 | | | roblemDetails | | | Unsupported | | | | | | Media Type | | +---------------+---+-------------+---------------+---------------+ | ExtP | O | 0..1 | 429 Too Many | | | roblemDetails | | | Requests | | +---------------+---+-------------+---------------+---------------+ | SmConte | M | 1 | 500 Internal | The \"cause\" | | xtUpdateError | | | Server Error | attribute | | | | | | shall be set | | | | | | to one of the | | | | | | errors | | | | | | defined in | | | | | | Table | | | | | | 5.2.7.2-1 of | | | | | | 3GPP TS | | | | | | 29.500 [4]. | +---------------+---+-------------+---------------+---------------+ | P | O | 0..1 | 500 Internal | This error | | roblemDetails | | | Server Error | shall only be | | | | | | returned by | | | | | | an SCP for | | | | | | errors it | | | | | | originates. | | | | | | As an | | | | | | exception, | | | | | | this error | | | | | | may also be | | | | | | returned by | | | | | | an SMF, with | | | | | | an empty | | | | | | payload body, | | | | | | for a general | | | | | | server error | | | | | | other than | | | | | | those | | | | | | specified for | | | | | | the SMF | | | | | | PDUSession | | | | | | service | | | | | | logic. | +---------------+---+-------------+---------------+---------------+ | SmConte | M | 1 | 503 Service | The \"cause\" | | xtUpdateError | | | Unavailable | attribute | | | | | | shall be set | | | | | | to one of the | | | | | | errors | | | | | | defined in | | | | | | Table | | | | | | 5.2.7.2-1 of | | | | | | 3GPP TS | | | | | | 29.500 [4] | | | | | | or to one of | | | | | | the following | | | | | | application | | | | | | errors: | | | | | | | | | | | | - | | | | | | DN | | | | | | N_CONGESTION | | | | | | | | | | | | - | | | | | | S_NSSA | | | | | | I_CONGESTION | | | | | | | | | | | | See table | | | | | | 6.1.7.3-1 for | | | | | | the | | | | | | description | | | | | | of these | | | | | | errors. | +---------------+---+-------------+---------------+---------------+ | P | O | 0..1 | 503 Service | This error | | roblemDetails | | | Unavailable | shall only be | | | | | | returned by | | | | | | an SCP for | | | | | | errors it | | | | | | originates. | | | | | | As an | | | | | | exception, | | | | | | this error | | | | | | may also be | | | | | | returned by | | | | | | an SMF, with | | | | | | an empty | | | | | | payload body, | | | | | | for a general | | | | | | server error | | | | | | other than | | | | | | those | | | | | | specified for | | | | | | the SMF | | | | | | PDUSession | | | | | | service | | | | | | logic. | +---------------+---+-------------+---------------+---------------+ | NOTE 1: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the POST | | | | | | method listed | | | | | | in Table | | | | | | 5.2.7.1-1 of | | | | | | 3GPP TS | | | | | | 29.500 [4] | | | | | | other than | | | | | | those | | | | | | specified in | | | | | | the table | | | | | | above also | | | | | | apply, with a | | | | | | P | | | | | | roblemDetails | | | | | | data type | | | | | | (see | | | | | | clause 5.2.7 | | | | | | of | | | | | | 3GPP TS 2 | | | | | | 9.500 [4]). | | | | | | | | | | | | NOTE 2: | | | | | | Red | | | | | | irectResponse | | | | | | may be | | | | | | inserted by | | | | | | an SCP, see | | | | | | cl | | | | | | ause 6.10.9.1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.500 [4]. | | | | | +---------------+---+-------------+---------------+---------------+
Table 6.1.3.3.4.2.2-3: Headers supported by the 307 Response Code on this
resource
+-----------------+-----------+---+-------------+-----------------+ | Name | Data type | P | Cardinality | Description | +-----------------+-----------+---+-------------+-----------------+ | Location | string | M | 1 | An alternative | | | | | | URI of the | | | | | | resource | | | | | | located on an | | | | | | alternative | | | | | | service | | | | | | instance within | | | | | | the same SMF or | | | | | | SMF (service) | | | | | | set. | | | | | | | | | | | | For the case | | | | | | when a request | | | | | | is redirected | | | | | | to the same | | | | | | target resource | | | | | | via a different | | | | | | SCP, see | | | | | | clause 6.10.9.1 | | | | | | in | | | | | | 3GPP T | | | | | | S 29.500 [4]. | +-----------------+-----------+---+-------------+-----------------+ | 3gpp-S | string | O | 0..1 | Identifier of | | bi-Target-Nf-Id | | | | the target SMF | | | | | | (service) | | | | | | instance ID | | | | | | towards which | | | | | | the request is | | | | | | redirected | +-----------------+-----------+---+-------------+-----------------+
Table 6.1.3.3.4.2.2-4: Headers supported by the 308 Response Code on this
resource
+-----------------+-----------+---+-------------+-----------------+ | Name | Data type | P | Cardinality | Description | +-----------------+-----------+---+-------------+-----------------+ | Location | string | M | 1 | An alternative | | | | | | URI of the | | | | | | resource | | | | | | located on an | | | | | | alternative | | | | | | service | | | | | | instance within | | | | | | the same SMF or | | | | | | SMF (service) | | | | | | set. | | | | | | | | | | | | For the case | | | | | | when a request | | | | | | is redirected | | | | | | to the same | | | | | | target resource | | | | | | via a different | | | | | | SCP, see | | | | | | clause 6.10.9.1 | | | | | | in | | | | | | 3GPP T | | | | | | S 29.500 [4]. | +-----------------+-----------+---+-------------+-----------------+ | 3gpp-S | string | O | 0..1 | Identifier of | | bi-Target-Nf-Id | | | | the target SMF | | | | | | (service) | | | | | | instance ID | | | | | | towards which | | | | | | the request is | | | | | | redirected | +-----------------+-----------+---+-------------+-----------------+
###### 6.1.3.3.4.3 Operation: release
###### # 6.1.3.3.4.3.1 Description
###### # 6.1.3.3.4.3.2 Operation Definition
This custom operation releases an individual SM context resource in the SMF,
or in V-SMF in HR roaming scenario
This operation shall support the request data structures specified in table
6.1.3.3.4.3.2-1 and the response data structure and response codes specified
in table 6.1.3.3.4.3.2-2.
Table 6.1.3.3.4.3.2-1: Data structures supported by the POST Request Body on
this resource
* * *
Data type P Cardinality Description SmContextReleaseData C 0..1 Representation
of the data to be sent to the SMF when releasing the SM context.
* * *
Table 6.1.3.3.4.3.2-2: Data structures supported by the POST Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | SmContex | M | 1 | 200 OK | Successful | | tReleasedData | | | | release of an | | | | | | SM context, | | | | | | when | | | | | | information | | | | | | needs to be | | | | | | returned to | | | | | | the NF | | | | | | Service | | | | | | Consumer | | | | | | (NOTE 2). | +---------------+---+-------------+---------------+---------------+ | n/a | | | 204 No | Successful | | | | | Content | release of an | | | | | | SM context. | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 307 Temporary | Temporary | | irectResponse | | | Redirect | redirection. | | | | | | | | | | | | (NOTE 3) | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 308 Permanent | Permanent | | irectResponse | | | Redirect | redirection. | | | | | | | | | | | | (NOTE 3) | +---------------+---+-------------+---------------+---------------+ | NOTE 1: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the POST | | | | | | method listed | | | | | | in Table | | | | | | 5.2.7.1-1 of | | | | | | 3GPP TS | | | | | | 29.500 [4] | | | | | | other than | | | | | | those | | | | | | specified in | | | | | | the table | | | | | | above also | | | | | | apply, with a | | | | | | P | | | | | | roblemDetails | | | | | | data type | | | | | | (see | | | | | | clause 5.2.7 | | | | | | of | | | | | | 3GPP TS 2 | | | | | | 9.500 [4]). | | | | | | | | | | | | NOTE 2: The | | | | | | support for | | | | | | 200 OK shall | | | | | | be dependent | | | | | | on the | | | | | | support of | | | | | | the indicated | | | | | | feature. | | | | | | | | | | | | NOTE 3: | | | | | | Red | | | | | | irectResponse | | | | | | may be | | | | | | inserted by | | | | | | an SCP, see | | | | | | cl | | | | | | ause 6.10.9.1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.500 [4]. | | | | | +---------------+---+-------------+---------------+---------------+
Table 6.1.3.3.4.3.2-3: Headers supported by the 307 Response Code on this
resource
+-----------------+-----------+---+-------------+-----------------+ | Name | Data type | P | Cardinality | Description | +-----------------+-----------+---+-------------+-----------------+ | Location | string | M | 1 | An alternative | | | | | | URI of the | | | | | | resource | | | | | | located on an | | | | | | alternative | | | | | | service | | | | | | instance within | | | | | | the same SMF or | | | | | | SMF (service) | | | | | | set. | | | | | | | | | | | | For the case | | | | | | when a request | | | | | | is redirected | | | | | | to the same | | | | | | target resource | | | | | | via a different | | | | | | SCP, see | | | | | | clause 6.10.9.1 | | | | | | in | | | | | | 3GPP T | | | | | | S 29.500 [4]. | +-----------------+-----------+---+-------------+-----------------+ | 3gpp-S | string | O | 0..1 | Identifier of | | bi-Target-Nf-Id | | | | the target SMF | | | | | | (service) | | | | | | instance ID | | | | | | towards which | | | | | | the request is | | | | | | redirected | +-----------------+-----------+---+-------------+-----------------+
Table 6.1.3.3.4.3.2-4: Headers supported by the 308 Response Code on this
resource
+-----------------+-----------+---+-------------+-----------------+ | Name | Data type | P | Cardinality | Description | +-----------------+-----------+---+-------------+-----------------+ | Location | string | M | 1 | An alternative | | | | | | URI of the | | | | | | resource | | | | | | located on an | | | | | | alternative | | | | | | service | | | | | | instance within | | | | | | the same SMF or | | | | | | SMF (service) | | | | | | set. | | | | | | | | | | | | For the case | | | | | | when a request | | | | | | is redirected | | | | | | to the same | | | | | | target resource | | | | | | via a different | | | | | | SCP, see | | | | | | clause 6.10.9.1 | | | | | | in | | | | | | 3GPP T | | | | | | S 29.500 [4]. | +-----------------+-----------+---+-------------+-----------------+ | 3gpp-S | string | O | 0..1 | Identifier of | | bi-Target-Nf-Id | | | | the target SMF | | | | | | (service) | | | | | | instance ID | | | | | | towards which | | | | | | the request is | | | | | | redirected | +-----------------+-----------+---+-------------+-----------------+
###### 6.1.3.3.4.4 Operation: retrieve
###### # 6.1.3.3.4.4.1 Description
###### # 6.1.3.3.4.4.2 Operation Definition
This custom operation retrieves an individual SM context resource from the
SMF, from the V-SMF in HR roaming scenario or from the I-SMF.
This operation shall support the request data structures specified in table
6.1.3.3.4.4.2-1 and the response data structure and response codes specified
in table 6.1.3.3.4.4.2-2.
Table 6.1.3.3.4.4.2-1: Data structures supported by the POST Request Body on
this resource
* * *
Data type P Cardinality Description SmContextRetrieveData O 0..1 Optional
parameters used to retrieve the SM context, e.g. target MME capabilities, SM
context type.
* * *
Table 6.1.3.3.4.4.2-2: Data structures supported by the POST Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | SmContext | M | 1 | 200 OK | Successful | | RetrievedData | | | | retrieval of | | | | | | the SM | | | | | | context. | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 307 Temporary | Temporary | | irectResponse | | | Redirect | redirection. | | | | | | | | | | | | (NOTE 2) | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 308 Permanent | Permanent | | irectResponse | | | Redirect | redirection. | | | | | | | | | | | | (NOTE 2) | +---------------+---+-------------+---------------+---------------+ | P | M | 1 | 403 Forbidden | The \"cause\" | | roblemDetails | | | | attribute | | | | | | shall be set | | | | | | to one of the | | | | | | following | | | | | | application | | | | | | error: | | | | | | | | | | | | - | | | | | | TARGET_MM | | | | | | E_CAPABILITY | | | | | | | | | | | | - | | | | | | DEFA | | | | | | ULT_EBI_NOT | | | | | | _TRANSFERRED | | | | | | | | | | | | See table | | | | | | 6.1.7.3-1 for | | | | | | the | | | | | | description | | | | | | of these | | | | | | errors. | +---------------+---+-------------+---------------+---------------+ | P | O | 0..1 | 504 Gateway | The \"cause\" | | roblemDetails | | | Timeout | attribute may | | | | | | be set to one | | | | | | of the | | | | | | following | | | | | | application | | | | | | errors: | | | | | | | | | | | | - | | | | | | UPF_NO | | | | | | T_RESPONDING | | | | | | | | | | | | See table | | | | | | 6.1.7.3-1 for | | | | | | the | | | | | | description | | | | | | of these | | | | | | errors. | +---------------+---+-------------+---------------+---------------+ | NOTE 1: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the POST | | | | | | method listed | | | | | | in Table | | | | | | 5.2.7.1-1 of | | | | | | 3GPP TS | | | | | | 29.500 [4] | | | | | | other than | | | | | | those | | | | | | specified in | | | | | | the table | | | | | | above also | | | | | | apply, with a | | | | | | P | | | | | | roblemDetails | | | | | | data type | | | | | | (see | | | | | | clause 5.2.7 | | | | | | of | | | | | | 3GPP TS 2 | | | | | | 9.500 [4]). | | | | | | | | | | | | NOTE 2: | | | | | | Red | | | | | | irectResponse | | | | | | may be | | | | | | inserted by | | | | | | an SCP or | | | | | | SEPP, see | | | | | | cl | | | | | | ause 6.10.9.1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.500 [4]. | | | | | +---------------+---+-------------+---------------+---------------+
Table 6.1.3.3.4.4.2-3: Headers supported by the 307 Response Code on this
resource
+-----------------+-----------+---+-------------+-----------------+ | Name | Data type | P | Cardinality | Description | +-----------------+-----------+---+-------------+-----------------+ | Location | string | M | 1 | An alternative | | | | | | URI of the | | | | | | resource | | | | | | located on an | | | | | | alternative | | | | | | service | | | | | | instance within | | | | | | the same SMF or | | | | | | SMF (service) | | | | | | set. | | | | | | | | | | | | For the case | | | | | | when a request | | | | | | is redirected | | | | | | to the same | | | | | | target resource | | | | | | via a different | | | | | | SCP or SEPP, | | | | | | see | | | | | | clause 6.10.9.1 | | | | | | in | | | | | | 3GPP T | | | | | | S 29.500 [4]. | +-----------------+-----------+---+-------------+-----------------+ | 3gpp-S | string | O | 0..1 | Identifier of | | bi-Target-Nf-Id | | | | the target SMF | | | | | | (service) | | | | | | instance ID | | | | | | towards which | | | | | | the request is | | | | | | redirected | +-----------------+-----------+---+-------------+-----------------+
Table 6.1.3.3.4.4.2-4: Headers supported by the 308 Response Code on this
resource
+-----------------+-----------+---+-------------+-----------------+ | Name | Data type | P | Cardinality | Description | +-----------------+-----------+---+-------------+-----------------+ | Location | string | M | 1 | An alternative | | | | | | URI of the | | | | | | resource | | | | | | located on an | | | | | | alternative | | | | | | service | | | | | | instance within | | | | | | the same SMF or | | | | | | SMF (service) | | | | | | set. | | | | | | | | | | | | For the case | | | | | | when a request | | | | | | is redirected | | | | | | to the same | | | | | | target resource | | | | | | via a different | | | | | | SCP or SEPP, | | | | | | see | | | | | | clause 6.10.9.1 | | | | | | in | | | | | | 3GPP T | | | | | | S 29.500 [4]. | +-----------------+-----------+---+-------------+-----------------+ | 3gpp-S | string | O | 0..1 | Identifier of | | bi-Target-Nf-Id | | | | the target SMF | | | | | | (service) | | | | | | instance ID | | | | | | towards which | | | | | | the request is | | | | | | redirected | +-----------------+-----------+---+-------------+-----------------+
###### 6.1.3.3.4.5 Operation: send-mo-data
###### # 6.1.3.3.4.5.1 Description
###### # 6.1.3.3.4.5.2 Operation Definition
This custom operation enables to send mobile originated data received over
NAS, for a given PDU session, towards the SMF, or the V-SMF for HR roaming
scenarios, or the I-SMF for a PDU session with an I-SMF.
This operation shall support the request data structures specified in table
6.1.3.3.4.5.2-1 and the response data structure and response codes specified
in table 6.1.3.3.4.5.2-2.
Table 6.1.3.3.4.5.2-1: Data structures supported by the POST Request Body on
this resource
Data type P Cardinality Description
* * *
SendMoDataReqData M 1 Representation of the payload of a Send MO Data Request
Table 6.1.3.3.4.5.2-2: Data structures supported by the POST Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +===============+===+=============+===============+===============+ | n/a | | | 204 No | Successful MO | | | | | Content | data transfer | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 307 Temporary | Temporary | | irectResponse | | | Redirect | redirection. | | | | | | | | | | | | (NOTE 2) | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 308 Permanent | Permanent | | irectResponse | | | Redirect | redirection. | | | | | | | | | | | | (NOTE 2) | +---------------+---+-------------+---------------+---------------+ | ExtP | O | 0..1 | 400 Bad | | | roblemDetails | | | Request | | +---------------+---+-------------+---------------+---------------+ | ExtP | O | 0..1 | 401 | | | roblemDetails | | | Unauthorized | | +---------------+---+-------------+---------------+---------------+ | ExtP | O | 0..1 | 403 Forbidden | | | roblemDetails | | | | | +---------------+---+-------------+---------------+---------------+ | ExtP | O | 0..1 | 404 Not Found | | | roblemDetails | | | | | +---------------+---+-------------+---------------+---------------+ | ExtP | O | 0..1 | 413 Payload | | | roblemDetails | | | Too Large | | +---------------+---+-------------+---------------+---------------+ | ExtP | O | 0..1 | 415 | | | roblemDetails | | | Unsupported | | | | | | Media Type | | +---------------+---+-------------+---------------+---------------+ | ExtP | O | 0..1 | 429 Too Many | | | roblemDetails | | | Requests | | +---------------+---+-------------+---------------+---------------+ | ExtP | O | 0..1 | 500 Internal | | | roblemDetails | | | Server Error | | +---------------+---+-------------+---------------+---------------+ | ExtP | O | 0..1 | 503 Service | | | roblemDetails | | | Unavailable | | +---------------+---+-------------+---------------+---------------+ | NOTE 1: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the POST | | | | | | method listed | | | | | | in Table | | | | | | 5.2.7.1-1 of | | | | | | 3GPP TS | | | | | | 29.500 [4] | | | | | | other than | | | | | | those | | | | | | specified in | | | | | | the table | | | | | | above also | | | | | | apply, with a | | | | | | P | | | | | | roblemDetails | | | | | | data type | | | | | | (see | | | | | | clause 5.2.7 | | | | | | of | | | | | | 3GPP TS 2 | | | | | | 9.500 [4]). | | | | | | | | | | | | NOTE 2: | | | | | | Red | | | | | | irectResponse | | | | | | may be | | | | | | inserted by | | | | | | an SCP, see | | | | | | cl | | | | | | ause 6.10.9.1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.500 [4]. | | | | | +---------------+---+-------------+---------------+---------------+
Table 6.1.3.3.4.5.2-3: Headers supported by the 307 Response Code on this
resource
+-----------------+-----------+---+-------------+-----------------+ | Name | Data type | P | Cardinality | Description | +-----------------+-----------+---+-------------+-----------------+ | Location | string | M | 1 | An alternative | | | | | | URI of the | | | | | | resource | | | | | | located on an | | | | | | alternative | | | | | | service | | | | | | instance within | | | | | | the same SMF or | | | | | | SMF (service) | | | | | | set. | | | | | | | | | | | | For the case | | | | | | when a request | | | | | | is redirected | | | | | | to the same | | | | | | target resource | | | | | | via a different | | | | | | SCP, see | | | | | | clause 6.10.9.1 | | | | | | in | | | | | | 3GPP T | | | | | | S 29.500 [4]. | +-----------------+-----------+---+-------------+-----------------+ | 3gpp-S | string | O | 0..1 | Identifier of | | bi-Target-Nf-Id | | | | the target SMF | | | | | | (service) | | | | | | instance ID | | | | | | towards which | | | | | | the request is | | | | | | redirected | +-----------------+-----------+---+-------------+-----------------+
Table 6.1.3.3.4.5.2-4: Headers supported by the 308 Response Code on this
resource
+-----------------+-----------+---+-------------+-----------------+ | Name | Data type | P | Cardinality | Description | +-----------------+-----------+---+-------------+-----------------+ | Location | string | M | 1 | An alternative | | | | | | URI of the | | | | | | resource | | | | | | located on an | | | | | | alternative | | | | | | service | | | | | | instance within | | | | | | the same SMF or | | | | | | SMF (service) | | | | | | set. | | | | | | | | | | | | For the case | | | | | | when a request | | | | | | is redirected | | | | | | to the same | | | | | | target resource | | | | | | via a different | | | | | | SCP, see | | | | | | clause 6.10.9.1 | | | | | | in | | | | | | 3GPP T | | | | | | S 29.500 [4]. | +-----------------+-----------+---+-------------+-----------------+ | 3gpp-S | string | O | 0..1 | Identifier of | | bi-Target-Nf-Id | | | | the target SMF | | | | | | (service) | | | | | | instance ID | | | | | | towards which | | | | | | the request is | | | | | | redirected | +-----------------+-----------+---+-------------+-----------------+
#### 6.1.3.4 Void
#### 6.1.3.5 Resource: PDU sessions collection (H-SMF or SMF)
##### 6.1.3.5.1 Description
This resource represents the collection of the individual PDU sessions created
in the H-SMF for HR PDU sessions or in the SMF for PDU sessions with an I-SMF.
This resource is modelled with the Collection resource archetype (see clause
C.2 of 3GPP TS 29.501 [5]).
##### 6.1.3.5.2 Resource Definition
Resource URI: **{apiRoot}/nsmf-pdusession/\ /pdu-sessions**
This resource shall support the resource URI variables defined in table
6.1.3.5.2-1.
Table 6.1.3.5.2-1: Resource URI variables for this resource
Name Data type Definition
* * *
apiRoot string See clause 6.1.1.
##### 6.1.3.5.3 Resource Standard Methods
###### 6.1.3.5.3.1 POST
This method creates an individual PDU session resource in the H-SMF or SMF.
This method shall support the URI query parameters specified in table
6.1.3.5.3.1-1.
Table 6.1.3.5.3.1-1: URI query parameters supported by the POST method on this
resource
* * *
Name Data type P Cardinality Description n/a
* * *
This method shall support the request data structures specified in table
6.1.3.5.3.1-2 and the response data structures and response codes specified in
table 6.1.3.5.3.1-3.
Table 6.1.3.5.3.1-2: Data structures supported by the POST Request Body on
this resource
* * *
Data type P Cardinality Description PduSessionCreateData M 1 Representation of
the PDU session to be created in the H-SMF or SMF.
* * *
Table 6.1.3.5.3.1-3: Data structures supported by the POST Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | PduSessi | M | 1 | 201 Created | Successful | | onCreatedData | | | | creation of a | | | | | | PDU session. | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 307 Temporary | Temporary | | irectResponse | | | Redirect | redirection. | | | | | | | | | | | | (NOTE 2) | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 308 Permanent | Permanent | | irectResponse | | | Redirect | redirection. | | | | | | | | | | | | (NOTE 2) | +---------------+---+-------------+---------------+---------------+ | PduSessi | M | 1 | 400 Bad | The \"cause\" | | onCreateError | | | Request | attribute | | | | | | shall be set | | | | | | to one of the | | | | | | errors | | | | | | defined in | | | | | | Table | | | | | | 5.2.7.2-1 of | | | | | | 3GPP TS | | | | | | 29.500 [4]. | +---------------+---+-------------+---------------+---------------+ | P | O | 0..1 | 400 Bad | This error | | roblemDetails | | | Request | shall only be | | | | | | returned by | | | | | | an SCP or a | | | | | | SEPP for | | | | | | errors they | | | | | | originate. As | | | | | | an exception, | | | | | | this error | | | | | | may also be | | | | | | returned by | | | | | | an SMF, with | | | | | | an empty | | | | | | payload body, | | | | | | for a | | | | | | protocol | | | | | | error other | | | | | | than those | | | | | | specified for | | | | | | the SMF | | | | | | PDUSession | | | | | | service logic | | | | | | (e.g. | | | | | | protocol | | | | | | error found | | | | | | by the HTTP | | | | | | stack). | +---------------+---+-------------+---------------+---------------+ | PduSessi | M | 1 | 403 Forbidden | The \"cause\" | | onCreateError | | | | attribute | | | | | | shall be set | | | | | | to one of the | | | | | | following | | | | | | application | | | | | | error: | | | | | | | | | | | | - | | | | | | N1_SM_ERROR | | | | | | | | | | | | - | | | | | | S | | | | | | NSSAI_DENIED | | | | | | | | | | | | - | | | | | | DNN_DENIED | | | | | | | | | | | | - | | | | | | PD | | | | | | UTYPE_DENIED | | | | | | | | | | | | - | | | | | | SSC_DENIED | | | | | | | | | | | | - | | | | | | SUBSCRI | | | | | | PTION_DENIED | | | | | | | | | | | | - | | | | | | DNN_N | | | | | | OT_SUPPORTED | | | | | | | | | | | | - | | | | | | PDUTYPE_N | | | | | | OT_SUPPORTED | | | | | | | | | | | | - | | | | | | SSC_N | | | | | | OT_SUPPORTED | | | | | | | | | | | | - | | | | | | NO_EPS_5G | | | | | | S_CONTINUITY | | | | | | | | | | | | - | | | | | | INT | | | | | | EGRITY_PROTE | | | | | | CTED_MDR_NO | | | | | | T_ACCEPTABLE | | | | | | | | | | | | - | | | | | | NOT_SUPPORTE | | | | | | D_WITH_ISMF | | | | | | | | | | | | See table | | | | | | 6.1.7.3-1 for | | | | | | the | | | | | | description | | | | | | of these | | | | | | errors. | +---------------+---+-------------+---------------+---------------+ | P | O | 0..1 | 403 Forbidden | This error | | roblemDetails | | | | shall only be | | | | | | returned by | | | | | | an SCP or a | | | | | | SEPP for | | | | | | errors they | | | | | | originate. As | | | | | | an exception, | | | | | | this error | | | | | | may also be | | | | | | returned by | | | | | | an SMF, with | | | | | | an empty | | | | | | payload body, | | | | | | for a | | | | | | protocol | | | | | | error other | | | | | | than those | | | | | | specified for | | | | | | the SMF | | | | | | PDUSession | | | | | | service logic | | | | | | (e.g. | | | | | | protocol | | | | | | error found | | | | | | by the HTTP | | | | | | stack). | +---------------+---+-------------+---------------+---------------+ | PduSessi | M | 1 | 404 Not Found | The \"cause\" | | onCreateError | | | | attribute | | | | | | shall be set | | | | | | to one of the | | | | | | following | | | | | | application | | | | | | error: | | | | | | | | | | | | - | | | | | | CONTEX | | | | | | T_NOT_FOUND | | | | | | | | | | | | See table | | | | | | 6.1.7.3-1 for | | | | | | the | | | | | | description | | | | | | of these | | | | | | errors. | +---------------+---+-------------+---------------+---------------+ | PduSessi | M | 1 | 500 Internal | The \"cause\" | | onCreateError | | | Server Error | attribute | | | | | | shall be set | | | | | | to one of the | | | | | | errors | | | | | | defined in | | | | | | Table | | | | | | 5.2.7.2-1 of | | | | | | 3GPP TS | | | | | | 29.500 [4] | | | | | | or to one of | | | | | | the following | | | | | | application | | | | | | errors: | | | | | | | | | | | | - | | | | | | INSUFFIC_RES | | | | | | OURCES_SLICE | | | | | | | | | | | | - | | | | | | INSUF | | | | | | FIC_RESOURCE | | | | | | S_SLICE_DNN | | | | | | | | | | | | See table | | | | | | 6.1.7.3-1 for | | | | | | the | | | | | | description | | | | | | of these | | | | | | errors. | +---------------+---+-------------+---------------+---------------+ | P | O | 0..1 | 500 Internal | This error | | roblemDetails | | | Server Error | shall only be | | | | | | returned by | | | | | | an SCP or a | | | | | | SEPP for | | | | | | errors they | | | | | | originate. As | | | | | | an exception, | | | | | | this error | | | | | | may also be | | | | | | returned by | | | | | | an SMF, with | | | | | | an empty | | | | | | payload body, | | | | | | for a general | | | | | | server error | | | | | | other than | | | | | | those | | | | | | specified for | | | | | | the SMF | | | | | | PDUSession | | | | | | service | | | | | | logic. | +---------------+---+-------------+---------------+---------------+ | PduSessi | M | 1 | 503 Service | The \"cause\" | | onCreateError | | | Unavailable | attribute | | | | | | shall be set | | | | | | to one of the | | | | | | errors | | | | | | defined in | | | | | | Table | | | | | | 5.2.7.2-1 of | | | | | | 3GPP TS | | | | | | 29.500 [4] | | | | | | or to one of | | | | | | the following | | | | | | application | | | | | | errors: | | | | | | | | | | | | - | | | | | | DN | | | | | | N_CONGESTION | | | | | | | | | | | | - S-NSSAI_ | | | | | | CONGESTION | | | | | | | | | | | | See table | | | | | | 6.1.7.3-1 for | | | | | | the | | | | | | description | | | | | | of these | | | | | | errors. | +---------------+---+-------------+---------------+---------------+ | P | O | 0..1 | 503 Service | This error | | roblemDetails | | | Unavailable | shall only be | | | | | | returned by | | | | | | an SCP or a | | | | | | SEPP for | | | | | | errors they | | | | | | originate. As | | | | | | an exception, | | | | | | this error | | | | | | may also be | | | | | | returned by | | | | | | an SMF, with | | | | | | an empty | | | | | | payload body, | | | | | | for a general | | | | | | server error | | | | | | other than | | | | | | those | | | | | | specified for | | | | | | the SMF | | | | | | PDUSession | | | | | | service | | | | | | logic. | +---------------+---+-------------+---------------+---------------+ | PduSessi | M | 1 | 504 Gateway | The \"cause\" | | onCreateError | | | Timeout | attribute | | | | | | shall be set | | | | | | to one of the | | | | | | following | | | | | | application | | | | | | error: | | | | | | | | | | | | - | | | | | | PEER_NO | | | | | | T_RESPONDING | | | | | | | | | | | | - | | | | | | NET | | | | | | WORK_FAILURE | | | | | | | | | | | | See table | | | | | | 6.1.7.3-1 for | | | | | | the | | | | | | description | | | | | | of these | | | | | | errors. | +---------------+---+-------------+---------------+---------------+ | P | O | 0..1 | 504 Gateway | This error | | roblemDetails | | | Timeout | shall only be | | | | | | returned by | | | | | | an SCP or a | | | | | | SEPP for | | | | | | errors they | | | | | | originate. | +---------------+---+-------------+---------------+---------------+ | NOTE 1: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the POST | | | | | | method listed | | | | | | in Table | | | | | | 5.2.7.1-1 of | | | | | | 3GPP TS | | | | | | 29.500 [4] | | | | | | other than | | | | | | those | | | | | | specified in | | | | | | the table | | | | | | above also | | | | | | apply, with a | | | | | | P | | | | | | roblemDetails | | | | | | data type | | | | | | (see | | | | | | clause 5.2.7 | | | | | | of | | | | | | 3GPP TS 2 | | | | | | 9.500 [4]). | | | | | | | | | | | | NOTE 2: | | | | | | Red | | | | | | irectResponse | | | | | | may be | | | | | | inserted by | | | | | | an SCP or | | | | | | SEPP, see | | | | | | cl | | | | | | ause 6.10.9.1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.500 [4]. | | | | | +---------------+---+-------------+---------------+---------------+
Table 6.1.3.5.3.1-4: Headers supported by the 201 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 Contains the URI
of the newly created resource, according to the structure: {apiRoot}/nsmf-
pdusession/\/pdu-sessions/{pduSessionRef}
* * *
Table 6.1.3.5.3.1-5: Headers supported by the 307 Response Code on this
resource
+-----------------+-----------+---+-------------+-----------------+ | Name | Data type | P | Cardinality | Description | +-----------------+-----------+---+-------------+-----------------+ | Location | string | M | 1 | An alternative | | | | | | URI of the | | | | | | resource | | | | | | located on an | | | | | | alternative | | | | | | service | | | | | | instance within | | | | | | the same SMF or | | | | | | SMF (service) | | | | | | set. | | | | | | | | | | | | For the case | | | | | | when a request | | | | | | is redirected | | | | | | to the same | | | | | | target resource | | | | | | via a different | | | | | | SCP or SEPP, | | | | | | see | | | | | | clause 6.10.9.1 | | | | | | in | | | | | | 3GPP T | | | | | | S 29.500 [4]. | +-----------------+-----------+---+-------------+-----------------+ | 3gpp-S | string | O | 0..1 | Identifier of | | bi-Target-Nf-Id | | | | the target SMF | | | | | | (service) | | | | | | instance ID | | | | | | towards which | | | | | | the request is | | | | | | redirected | +-----------------+-----------+---+-------------+-----------------+
Table 6.1.3.5.3.1-6: Headers supported by the 308 Response Code on this
resource
+-----------------+-----------+---+-------------+-----------------+ | Name | Data type | P | Cardinality | Description | +-----------------+-----------+---+-------------+-----------------+ | Location | string | M | 1 | An alternative | | | | | | URI of the | | | | | | resource | | | | | | located on an | | | | | | alternative | | | | | | service | | | | | | instance within | | | | | | the same SMF or | | | | | | SMF (service) | | | | | | set. | | | | | | | | | | | | For the case | | | | | | when a request | | | | | | is redirected | | | | | | to the same | | | | | | target resource | | | | | | via a different | | | | | | SCP or SEPP, | | | | | | see | | | | | | clause 6.10.9.1 | | | | | | in | | | | | | 3GPP T | | | | | | S 29.500 [4]. | +-----------------+-----------+---+-------------+-----------------+ | 3gpp-S | string | O | 0..1 | Identifier of | | bi-Target-Nf-Id | | | | the target SMF | | | | | | (service) | | | | | | instance ID | | | | | | towards which | | | | | | the request is | | | | | | redirected | +-----------------+-----------+---+-------------+-----------------+
##### 6.1.3.5.4 Resource Custom Operations
###### 6.1.3.5.4.1 Overview
Table 6.1.3.5.4.1-1: Custom operations
Custom operaration URI Mapped HTTP method Description
* * *
n/a
#### 6.1.3.6 Resource: Individual PDU session (H-SMF or SMF)
##### 6.1.3.6.1 Description
This resource represents an individual PDU session created in the H-SMF for a
HR PDU session or in the SMF for a PDU session with an I-SMF.
This resource is modelled with the Document resource archetype (see clause C.1
of 3GPP TS 29.501 [5]).
##### 6.1.3.6.2 Resource Definition
Resource URI: **{apiRoot}/nsmf-pdusession/\ /pdu-
sessions/{pduSessionRef}**
This resource shall support the resource URI variables defined in table
6.1.3.6.2-1.
Table 6.1.3.6.2-1: Resource URI variables for this resource
Name Data type Definition
* * *
apiRoot string See clause 6.1.1. pduSessionRef string PDU session reference
assigned by the H-SMF or SMF during the Create service operation.
##### 6.1.3.6.3 Resource Standard Methods
None.
##### 6.1.3.6.4 Resource Custom Operations
###### 6.1.3.6.4.1 Overview
Table 6.1.3.6.4.1-1: Custom operations
Operation Name Custom operation URI Mapped HTTP method Description
* * *
modify {resourceUri}/modify POST Update service operation release
{resourceUri}/release POST Release service operation transfer-mo-data
{resourceUri}/ transfer-mo-data POST Transfer MO Data service operation
retrieve {resourceUri}/retrieve POST Retrieve service operation
###### 6.1.3.6.4.2 Operation: modify
###### # 6.1.3.6.4.2.1 Description
###### # 6.1.3.6.4.2.2 Operation Definition
This custom operation updates an individual PDU session resource in the H-SMF
or SMF and/or provide the H-SMF or SMF with information received by the V-SMF
or I-SMF in N1 SM signalling from the UE.
This operation shall support the request data structures specified in table
6.1.3.6.4.2.2-1 and the response data structure and response codes specified
in table 6.1.3.6.4.2.2-2.
Table 6.1.3.6.4.2.2-1: Data structures supported by the POST Request Body on
this resource
Data type P Cardinality Description
* * *
HsmfUpdateData M 1 Representation of the updates to apply to the PDU session.
Table 6.1.3.6.4.2.2-2: Data structures supported by the POST Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +===============+===+=============+===============+===============+ | Hs | C | 0..1 | 200 OK | This case | | mfUpdatedData | | | | represents a | | | | | | successful | | | | | | update of the | | | | | | PDU session, | | | | | | when the | | | | | | H-SMF or SMF | | | | | | needs to | | | | | | return | | | | | | information | | | | | | in the | | | | | | response. | +---------------+---+-------------+---------------+---------------+ | n/a | | | 204 No | This case | | | | | Content | represents a | | | | | | successful | | | | | | update of the | | | | | | PDU session, | | | | | | when the | | | | | | H-SMF or SMF | | | | | | does not need | | | | | | to return | | | | | | information | | | | | | in the | | | | | | response. | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 307 Temporary | Temporary | | irectResponse | | | Redirect | redirection. | | | | | | | | | | | | (NOTE 2) | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 308 Permanent | Permanent | | irectResponse | | | Redirect | redirection. | | | | | | | | | | | | (NOTE 2) | +---------------+---+-------------+---------------+---------------+ | Hs | M | 1 | 400 Bad | The \"cause\" | | mfUpdateError | | | Request | attribute | | | | | | shall be set | | | | | | to one of the | | | | | | errors | | | | | | defined in | | | | | | Table | | | | | | 5.2.7.2-1 of | | | | | | 3GPP TS | | | | | | 29.500 [4]. | +---------------+---+-------------+---------------+---------------+ | P | O | 0..1 | 400 Bad | This error | | roblemDetails | | | Request | shall only be | | | | | | returned by | | | | | | an SCP or a | | | | | | SEPP for | | | | | | errors they | | | | | | originate. As | | | | | | an exception, | | | | | | this error | | | | | | may also be | | | | | | returned by | | | | | | an SMF, with | | | | | | an empty | | | | | | payload body, | | | | | | for a | | | | | | protocol | | | | | | error other | | | | | | than those | | | | | | specified for | | | | | | the SMF | | | | | | PDUSession | | | | | | service logic | | | | | | (e.g. | | | | | | protocol | | | | | | error found | | | | | | by the HTTP | | | | | | stack). | +---------------+---+-------------+---------------+---------------+ | Hs | M | 1 | 403 Forbidden | The \"cause\" | | mfUpdateError | | | | attribute | | | | | | shall be set | | | | | | to one of the | | | | | | following | | | | | | application | | | | | | errors: | | | | | | | | | | | | - | | | | | | N1_SM_ERROR | | | | | | | | | | | | - | | | | | | SUBSCRI | | | | | | PTION_DENIED | | | | | | | | | | | | - | | | | | | PD | | | | | | U_SESSION_A | | | | | | NCHOR_CHANGE | | | | | | | | | | | | - | | | | | | S_NSSAI_ | | | | | | UNAVAILABLE_ | | | | | | DUE_TO_NSAC | | | | | | | | | | | | See table | | | | | | 6.1.7.3-1 for | | | | | | the | | | | | | description | | | | | | of these | | | | | | errors. | +---------------+---+-------------+---------------+---------------+ | P | O | 0..1 | 403 Forbidden | This error | | roblemDetails | | | | shall only be | | | | | | returned by | | | | | | an SCP or a | | | | | | SEPP for | | | | | | errors they | | | | | | originate. As | | | | | | an exception, | | | | | | this error | | | | | | may also be | | | | | | returned by | | | | | | an SMF, with | | | | | | an empty | | | | | | payload body, | | | | | | for a | | | | | | protocol | | | | | | error other | | | | | | than those | | | | | | specified for | | | | | | the SMF | | | | | | PDUSession | | | | | | service logic | | | | | | (e.g. | | | | | | protocol | | | | | | error found | | | | | | by the HTTP | | | | | | stack). | +---------------+---+-------------+---------------+---------------+ | Hs | M | 1 | 404 Not Found | The \"cause\" | | mfUpdateError | | | | attribute | | | | | | shall be set | | | | | | to one of the | | | | | | following | | | | | | application | | | | | | error: | | | | | | | | | | | | - | | | | | | CONTEX | | | | | | T_NOT_FOUND | | | | | | | | | | | | See table | | | | | | 6.1.7.3-1 for | | | | | | the | | | | | | description | | | | | | of these | | | | | | errors. | +---------------+---+-------------+---------------+---------------+ | Hs | M | 1 | 500 Internal | The \"cause\" | | mfUpdateError | | | Server Error | attribute | | | | | | shall be set | | | | | | to one of the | | | | | | errors | | | | | | defined in | | | | | | Table | | | | | | 5.2.7.2-1 of | | | | | | 3GPP TS | | | | | | 29.500 [4]. | +---------------+---+-------------+---------------+---------------+ | P | O | 0..1 | 500 Internal | This error | | roblemDetails | | | Server Error | shall only be | | | | | | returned by | | | | | | an SCP or a | | | | | | SEPP for | | | | | | errors they | | | | | | originate. As | | | | | | an exception, | | | | | | this error | | | | | | may also be | | | | | | returned by | | | | | | an SMF, with | | | | | | an empty | | | | | | payload body, | | | | | | for a general | | | | | | server error | | | | | | other than | | | | | | those | | | | | | specified for | | | | | | the SMF | | | | | | PDUSession | | | | | | service | | | | | | logic. | +---------------+---+-------------+---------------+---------------+ | Hs | M | 1 | 503 Service | The \"cause\" | | mfUpdateError | | | Unavailable | attribute | | | | | | shall be set | | | | | | to one of the | | | | | | errors | | | | | | defined in | | | | | | Table | | | | | | 5.2.7.2-1 of | | | | | | 3GPP TS | | | | | | 29.500 [4] | | | | | | or to one of | | | | | | the following | | | | | | application | | | | | | errors: | | | | | | | | | | | | - | | | | | | DN | | | | | | N_CONGESTION | | | | | | | | | | | | - | | | | | | S_NSSA | | | | | | I_CONGESTION | | | | | | | | | | | | See table | | | | | | 6.1.7.3-1 for | | | | | | the | | | | | | description | | | | | | of these | | | | | | errors. | +---------------+---+-------------+---------------+---------------+ | P | O | 0..1 | 503 Service | This error | | roblemDetails | | | Unavailable | shall only be | | | | | | returned by | | | | | | an SCP or a | | | | | | SEPP for | | | | | | errors they | | | | | | originate. As | | | | | | an exception, | | | | | | this error | | | | | | may also be | | | | | | returned by | | | | | | an SMF, with | | | | | | an empty | | | | | | payload body, | | | | | | for a general | | | | | | server error | | | | | | other than | | | | | | those | | | | | | specified for | | | | | | the SMF | | | | | | PDUSession | | | | | | service | | | | | | logic. | +---------------+---+-------------+---------------+---------------+ | NOTE 1: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the POST | | | | | | method listed | | | | | | in Table | | | | | | 5.2.7.1-1 of | | | | | | 3GPP TS | | | | | | 29.500 [4] | | | | | | other than | | | | | | those | | | | | | specified in | | | | | | the table | | | | | | above also | | | | | | apply, with a | | | | | | P | | | | | | roblemDetails | | | | | | data type | | | | | | (see | | | | | | clause 5.2.7 | | | | | | of | | | | | | 3GPP TS 2 | | | | | | 9.500 [4]). | | | | | | | | | | | | NOTE 2: | | | | | | Red | | | | | | irectResponse | | | | | | may be | | | | | | inserted by | | | | | | an SCP or | | | | | | SEPP, see | | | | | | cl | | | | | | ause 6.10.9.1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.500 [4]. | | | | | +---------------+---+-------------+---------------+---------------+
Table Table 6.1.3.6.4.2.2-3: Headers supported by the 307 Response Code on
this resource
+-----------------+-----------+---+-------------+-----------------+ | Name | Data type | P | Cardinality | Description | +-----------------+-----------+---+-------------+-----------------+ | Location | string | M | 1 | An alternative | | | | | | URI of the | | | | | | resource | | | | | | located on an | | | | | | alternative | | | | | | service | | | | | | instance within | | | | | | the same SMF or | | | | | | SMF (service) | | | | | | set. | | | | | | | | | | | | For the case | | | | | | when a request | | | | | | is redirected | | | | | | to the same | | | | | | target resource | | | | | | via a different | | | | | | SCP or SEPP, | | | | | | see | | | | | | clause 6.10.9.1 | | | | | | in | | | | | | 3GPP T | | | | | | S 29.500 [4]. | +-----------------+-----------+---+-------------+-----------------+ | 3gpp-S | string | O | 0..1 | Identifier of | | bi-Target-Nf-Id | | | | the target SMF | | | | | | (service) | | | | | | instance ID | | | | | | towards which | | | | | | the request is | | | | | | redirected | +-----------------+-----------+---+-------------+-----------------+
Table Table 6.1.3.6.4.2.2-4: Headers supported by the 308 Response Code on
this resource
+-----------------+-----------+---+-------------+-----------------+ | Name | Data type | P | Cardinality | Description | +-----------------+-----------+---+-------------+-----------------+ | Location | string | M | 1 | An alternative | | | | | | URI of the | | | | | | resource | | | | | | located on an | | | | | | alternative | | | | | | service | | | | | | instance within | | | | | | the same SMF or | | | | | | SMF (service) | | | | | | set. | | | | | | | | | | | | For the case | | | | | | when a request | | | | | | is redirected | | | | | | to the same | | | | | | target resource | | | | | | via a different | | | | | | SCP or SEPP, | | | | | | see | | | | | | clause 6.10.9.1 | | | | | | in | | | | | | 3GPP T | | | | | | S 29.500 [4]. | +-----------------+-----------+---+-------------+-----------------+ | 3gpp-S | string | O | 0..1 | Identifier of | | bi-Target-Nf-Id | | | | the target SMF | | | | | | (service) | | | | | | instance ID | | | | | | towards which | | | | | | the request is | | | | | | redirected | +-----------------+-----------+---+-------------+-----------------+
###### 6.1.3.6.4.3 Operation: release
###### # 6.1.3.6.4.3.1 Description
###### # 6.1.3.6.4.3.2 Operation Definition
This custom operation releases an individual PDU session resource in the H-SMF
for a HR PDU session or in the SMF for a PDU session with an I-SMF.
This operation shall support the request data structures specified in table
6.1.3.6.4.3.2-1 and the response data structure and response codes specified
in table 6.1.3.6.4.3.2-2.
Table 6.1.3.6.4.3.2-1: Data structures supported by the POST Request Body on
this resource
* * *
Data type P Cardinality Description ReleaseData C 0..1 Representation of the
data to be sent to the H-SMF or SMF when releasing the PDU session.
* * *
Table 6.1.3.6.4.3.2-2: Data structures supported by the POST Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | ReleasedData | M | 1 | 200 OK | Successful | | | | | | release of a | | | | | | PDU session | | | | | | context, when | | | | | | information | | | | | | needs to be | | | | | | returned to | | | | | | the NF | | | | | | Service | | | | | | Consumer. | | | | | | | | | | | | (NOTE 2) | +---------------+---+-------------+---------------+---------------+ | n/a | | | 204 No | Successful | | | | | Content | release of a | | | | | | PDU session. | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 307 Temporary | Temporary | | irectResponse | | | Redirect | redirection. | | | | | | | | | | | | (NOTE 3) | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 308 Permanent | Permanent | | irectResponse | | | Redirect | redirection. | | | | | | | | | | | | (NOTE 3) | +---------------+---+-------------+---------------+---------------+ | NOTE 1: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the POST | | | | | | method listed | | | | | | in Table | | | | | | 5.2.7.1-1 of | | | | | | 3GPP TS | | | | | | 29.500 [4] | | | | | | other than | | | | | | those | | | | | | specified in | | | | | | the table | | | | | | above also | | | | | | apply, with a | | | | | | P | | | | | | roblemDetails | | | | | | data type | | | | | | (see | | | | | | clause 5.2.7 | | | | | | of | | | | | | 3GPP TS 2 | | | | | | 9.500 [4]). | | | | | | | | | | | | NOTE 2: The | | | | | | support for | | | | | | 200 OK shall | | | | | | be dependent | | | | | | on the | | | | | | support of | | | | | | the indicated | | | | | | feature. | | | | | | | | | | | | NOTE 3: | | | | | | Red | | | | | | irectResponse | | | | | | may be | | | | | | inserted by | | | | | | an SCP or | | | | | | SEPP, see | | | | | | cl | | | | | | ause 6.10.9.1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.500 [4]. | | | | | +---------------+---+-------------+---------------+---------------+
Table 6.1.3.6.4.3.2-3: Headers supported by the 307 Response Code on this
resource
+-----------------+-----------+---+-------------+-----------------+ | Name | Data type | P | Cardinality | Description | +-----------------+-----------+---+-------------+-----------------+ | Location | string | M | 1 | An alternative | | | | | | URI of the | | | | | | resource | | | | | | located on an | | | | | | alternative | | | | | | service | | | | | | instance within | | | | | | the same SMF or | | | | | | SMF (service) | | | | | | set. | | | | | | | | | | | | For the case | | | | | | when a request | | | | | | is redirected | | | | | | to the same | | | | | | target resource | | | | | | via a different | | | | | | SCP or SEPP, | | | | | | see | | | | | | clause 6.10.9.1 | | | | | | in | | | | | | 3GPP T | | | | | | S 29.500 [4]. | +-----------------+-----------+---+-------------+-----------------+ | 3gpp-S | string | O | 0..1 | Identifier of | | bi-Target-Nf-Id | | | | the target SMF | | | | | | (service) | | | | | | instance ID | | | | | | towards which | | | | | | the request is | | | | | | redirected | +-----------------+-----------+---+-------------+-----------------+
Table 6.1.3.6.4.3.2-4: Headers supported by the 308 Response Code on this
resource
+-----------------+-----------+---+-------------+-----------------+ | Name | Data type | P | Cardinality | Description | +-----------------+-----------+---+-------------+-----------------+ | Location | string | M | 1 | An alternative | | | | | | URI of the | | | | | | resource | | | | | | located on an | | | | | | alternative | | | | | | service | | | | | | instance within | | | | | | the same SMF or | | | | | | SMF (service) | | | | | | set. | | | | | | | | | | | | For the case | | | | | | when a request | | | | | | is redirected | | | | | | to the same | | | | | | target resource | | | | | | via a different | | | | | | SCP or SEPP, | | | | | | see | | | | | | clause 6.10.9.1 | | | | | | in | | | | | | 3GPP T | | | | | | S 29.500 [4]. | +-----------------+-----------+---+-------------+-----------------+ | 3gpp-S | string | O | 0..1 | Identifier of | | bi-Target-Nf-Id | | | | the target SMF | | | | | | (service) | | | | | | instance ID | | | | | | towards which | | | | | | the request is | | | | | | redirected | +-----------------+-----------+---+-------------+-----------------+
###### 6.1.3.6.4.4 Operation: transfer-mo-data
###### # 6.1.3.6.4.4.1 Description
###### # 6.1.3.6.4.4.2 Operation Definition
This custom operation enables to transfer mobile originated data received from
AMF, for a given PDU session, towards the H-SMF for HR roaming scenarios, or
the SMF for a PDU session with an I-SMF.
This operation shall support the request data structures specified in table
6.1.3.6.4.4.2-1 and the response data structure and response codes specified
in table 6.1.3.6.4.4.2-2.
Table 6.1.3.6.4.4.2-1: Data structures supported by the POST Request Body on
this resource
Data type P Cardinality Description
* * *
TransferMoDataReqData M 1 Representation of the payload of a Transfer MO Data
Request
Table 6.1.3.6.4.4.2-2: Data structures supported by the POST Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +===============+===+=============+===============+===============+ | n/a | | | 204 No | Successful MO | | | | | Content | data transfer | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 307 Temporary | Temporary | | irectResponse | | | Redirect | redirection. | | | | | | | | | | | | (NOTE 2) | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 308 Permanent | Permanent | | irectResponse | | | Redirect | redirection. | | | | | | | | | | | | (NOTE 2) | +---------------+---+-------------+---------------+---------------+ | NOTE 1: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the POST | | | | | | method listed | | | | | | in Table | | | | | | 5.2.7.1-1 of | | | | | | 3GPP TS | | | | | | 29.500 [4] | | | | | | other than | | | | | | those | | | | | | specified in | | | | | | the table | | | | | | above also | | | | | | apply, with a | | | | | | P | | | | | | roblemDetails | | | | | | data type | | | | | | (see | | | | | | clause 5.2.7 | | | | | | of | | | | | | 3GPP TS 2 | | | | | | 9.500 [4]). | | | | | | | | | | | | NOTE 2: | | | | | | Red | | | | | | irectResponse | | | | | | may be | | | | | | inserted by | | | | | | an SCP or | | | | | | SEPP, see | | | | | | cl | | | | | | ause 6.10.9.1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.500 [4]. | | | | | +---------------+---+-------------+---------------+---------------+
Table 6.1.3.6.4.4.2-3: Headers supported by the 307 Response Code on this
resource
+-----------------+-----------+---+-------------+-----------------+ | Name | Data type | P | Cardinality | Description | +-----------------+-----------+---+-------------+-----------------+ | Location | string | M | 1 | An alternative | | | | | | URI of the | | | | | | resource | | | | | | located on an | | | | | | alternative | | | | | | service | | | | | | instance within | | | | | | the same SMF or | | | | | | SMF (service) | | | | | | set. | | | | | | | | | | | | For the case | | | | | | when a request | | | | | | is redirected | | | | | | to the same | | | | | | target resource | | | | | | via a different | | | | | | SCP or SEPP, | | | | | | see | | | | | | clause 6.10.9.1 | | | | | | in | | | | | | 3GPP T | | | | | | S 29.500 [4]. | +-----------------+-----------+---+-------------+-----------------+ | 3gpp-S | string | O | 0..1 | Identifier of | | bi-Target-Nf-Id | | | | the target SMF | | | | | | (service) | | | | | | instance ID | | | | | | towards which | | | | | | the request is | | | | | | redirected | +-----------------+-----------+---+-------------+-----------------+
Table 6.1.3.6.4.4.2-4: Headers supported by the 308 Response Code on this
resource
+-----------------+-----------+---+-------------+-----------------+ | Name | Data type | P | Cardinality | Description | +-----------------+-----------+---+-------------+-----------------+ | Location | string | M | 1 | An alternative | | | | | | URI of the | | | | | | resource | | | | | | located on an | | | | | | alternative | | | | | | service | | | | | | instance within | | | | | | the same SMF or | | | | | | SMF (service) | | | | | | set. | | | | | | | | | | | | For the case | | | | | | when a request | | | | | | is redirected | | | | | | to the same | | | | | | target resource | | | | | | via a different | | | | | | SCP or SEPP, | | | | | | see | | | | | | clause 6.10.9.1 | | | | | | in | | | | | | 3GPP T | | | | | | S 29.500 [4]. | +-----------------+-----------+---+-------------+-----------------+ | 3gpp-S | string | O | 0..1 | Identifier of | | bi-Target-Nf-Id | | | | the target SMF | | | | | | (service) | | | | | | instance ID | | | | | | towards which | | | | | | the request is | | | | | | redirected | +-----------------+-----------+---+-------------+-----------------+
###### 6.1.3.6.4.5 Operation: retrieve
###### # 6.1.3.6.4.5.1 Description
###### # 6.1.3.6.4.5.2 Operation Definition
This custom operation retrieves information from an individual PDU session
context in the H-SMF for a HR PDU session or in the SMF for a PDU session with
an I-SMF.
This operation shall support the request data structures specified in table
6.1.3.6.4.5.2-1 and the response data structure and response codes specified
in table 6.1.3.6.4.5.2-2.
Table 6.1.3.6.4.5.2-1: Data structures supported by the POST Request Body on
this resource
* * *
Data type P Cardinality Description RetrieveData M 1 Representation of the
payload of a Retrieve Request
* * *
Table 6.1.3.6.4.5.2-2: Data structures supported by the POST Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | RetrievedData | M | 1 | 200 OK | Successful | | | | | | retrieval of | | | | | | information | | | | | | from a PDU | | | | | | session | | | | | | context. | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 307 Temporary | Temporary | | irectResponse | | | Redirect | redirection. | | | | | | | | | | | | (NOTE 2) | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 308 Permanent | Permanent | | irectResponse | | | Redirect | redirection. | | | | | | | | | | | | (NOTE 2) | +---------------+---+-------------+---------------+---------------+ | P | O | 0..1 | 504 Gateway | The \"cause\" | | roblemDetails | | | Timeout | attribute may | | | | | | be set to one | | | | | | of the | | | | | | following | | | | | | application | | | | | | errors: | | | | | | | | | | | | - | | | | | | UPF_NO | | | | | | T_RESPONDING | | | | | | | | | | | | See table | | | | | | 6.1.7.3-1 for | | | | | | the | | | | | | description | | | | | | of these | | | | | | errors. | +---------------+---+-------------+---------------+---------------+ | NOTE 1: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the POST | | | | | | method listed | | | | | | in Table | | | | | | 5.2.7.1-1 of | | | | | | 3GPP TS | | | | | | 29.500 [4] | | | | | | other than | | | | | | those | | | | | | specified in | | | | | | the table | | | | | | above also | | | | | | apply, with a | | | | | | P | | | | | | roblemDetails | | | | | | data type | | | | | | (see | | | | | | clause 5.2.7 | | | | | | of | | | | | | 3GPP TS 2 | | | | | | 9.500 [4]). | | | | | | | | | | | | NOTE 2: | | | | | | Red | | | | | | irectResponse | | | | | | may be | | | | | | inserted by | | | | | | an SCP or | | | | | | SEPP, see | | | | | | cl | | | | | | ause 6.10.9.1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.500 [4]. | | | | | +---------------+---+-------------+---------------+---------------+
Table 6.1.3.6.4.5.2-3: Headers supported by the 307 Response Code on this
resource
+-----------------+-----------+---+-------------+-----------------+ | Name | Data type | P | Cardinality | Description | +-----------------+-----------+---+-------------+-----------------+ | Location | string | M | 1 | An alternative | | | | | | URI of the | | | | | | resource | | | | | | located on an | | | | | | alternative | | | | | | service | | | | | | instance within | | | | | | the same SMF or | | | | | | SMF (service) | | | | | | set. | | | | | | | | | | | | For the case | | | | | | when a request | | | | | | is redirected | | | | | | to the same | | | | | | target resource | | | | | | via a different | | | | | | SCP or SEPP, | | | | | | see | | | | | | clause 6.10.9.1 | | | | | | in | | | | | | 3GPP T | | | | | | S 29.500 [4]. | +-----------------+-----------+---+-------------+-----------------+ | 3gpp-S | string | O | 0..1 | Identifier of | | bi-Target-Nf-Id | | | | the target SMF | | | | | | (service) | | | | | | instance ID | | | | | | towards which | | | | | | the request is | | | | | | redirected | +-----------------+-----------+---+-------------+-----------------+
Table 6.1.3.6.4.5.2-4: Headers supported by the 308 Response Code on this
resource
+-----------------+-----------+---+-------------+-----------------+ | Name | Data type | P | Cardinality | Description | +-----------------+-----------+---+-------------+-----------------+ | Location | string | M | 1 | An alternative | | | | | | URI of the | | | | | | resource | | | | | | located on an | | | | | | alternative | | | | | | service | | | | | | instance within | | | | | | the same SMF or | | | | | | SMF (service) | | | | | | set. | | | | | | | | | | | | For the case | | | | | | when a request | | | | | | is redirected | | | | | | to the same | | | | | | target resource | | | | | | via a different | | | | | | SCP or SEPP, | | | | | | see | | | | | | clause 6.10.9.1 | | | | | | in | | | | | | 3GPP T | | | | | | S 29.500 [4]. | +-----------------+-----------+---+-------------+-----------------+ | 3gpp-S | string | O | 0..1 | Identifier of | | bi-Target-Nf-Id | | | | the target SMF | | | | | | (service) | | | | | | instance ID | | | | | | towards which | | | | | | the request is | | | | | | redirected | +-----------------+-----------+---+-------------+-----------------+
#### 6.1.3.7 Resource: Individual PDU session (V-SMF or I-SMF)
##### 6.1.3.7.1 Description
This resource represents an individual PDU session created in the V-SMF for a
HR PDU session or in the I-SMF for a PDU session with an I-SMF.
This resource is modelled with the Document resource archetype (see clause C.1
of 3GPP TS 29.501 [5]).
##### 6.1.3.7.2 Resource Definition
Callback URI: **{vsmfPduSessionUri} or {ismfPduSessionUri}**
This resource shall support the callback URI variables defined in table
6.1.3.7.2-1.
Table 6.1.3.7.2-1: Callback URI variables for this resource
Name Data type Definition
* * *
vsmfPduSessionUri Uri PDU session reference assigned by the V-SMF during the
Create service operation. ismfPduSessionUri Uri PDU session reference assigned
by the I-SMF during the Create service operation.
##### 6.1.3.7.3 Resource Standard Methods
###### 6.1.3.7.3.1 POST
This method sends a status notification to the NF Service Consumer.
This method shall support the URI query parameters specified in table
6.1.3.7.3.1-1.
Table 6.1.3.7.3.1-1: URI query parameters supported by the POST method on this
resource
* * *
Name Data type P Cardinality Description n/a
* * *
This method shall support the request data structures specified in table
6.1.3.7.3.1-2 and the response data structures and response codes specified in
table 6.1.3.7.3.1-3.
Table 6.1.3.7.3.1-2: Data structures supported by the POST Request Body on
this resource
* * *
Data type P Cardinality Description StatusNotification M 1 Representation of
the status notification.
* * *
Table 6.1.3.7.3.1-3: Data structures supported by the POST Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | n/a | | | 204 No | Successful | | | | | Content | notification | | | | | | of status | | | | | | change | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 307 Temporary | Temporary | | irectResponse | | | Redirect | redirection. | | | | | | | | | | | | (NOTE 2) | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 308 Permanent | Permanent | | irectResponse | | | Redirect | redirection. | | | | | | | | | | | | (NOTE 2) | +---------------+---+-------------+---------------+---------------+ | NOTE 1: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the POST | | | | | | method listed | | | | | | in Table | | | | | | 5.2.7.1-1 of | | | | | | 3GPP TS | | | | | | 29.500 [4] | | | | | | other than | | | | | | those | | | | | | specified in | | | | | | the table | | | | | | above also | | | | | | apply, with a | | | | | | P | | | | | | roblemDetails | | | | | | data type | | | | | | (see | | | | | | clause 5.2.7 | | | | | | of | | | | | | 3GPP TS 2 | | | | | | 9.500 [4]). | | | | | | | | | | | | NOTE 2: | | | | | | Red | | | | | | irectResponse | | | | | | may be | | | | | | inserted by | | | | | | an SCP or | | | | | | SEPP, see | | | | | | cl | | | | | | ause 6.10.9.1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.500 [4]. | | | | | +---------------+---+-------------+---------------+---------------+
Table 6.1.3.7.3.1-4: Headers supported by the 307 Response Code on this
resource
+-----------------+-----------+---+-------------+-----------------+ | Name | Data type | P | Cardinality | Description | +-----------------+-----------+---+-------------+-----------------+ | Location | string | M | 1 | An alternative | | | | | | URI of the | | | | | | resource | | | | | | located on an | | | | | | alternative | | | | | | service | | | | | | instance within | | | | | | the same SMF or | | | | | | SMF (service) | | | | | | set. | | | | | | | | | | | | For the case | | | | | | when a request | | | | | | is redirected | | | | | | to the same | | | | | | target resource | | | | | | via a different | | | | | | SCP or SEPP, | | | | | | see | | | | | | clause 6.10.9.1 | | | | | | in | | | | | | 3GPP T | | | | | | S 29.500 [4]. | +-----------------+-----------+---+-------------+-----------------+ | 3gpp-S | string | O | 0..1 | Identifier of | | bi-Target-Nf-Id | | | | the target SMF | | | | | | (service) | | | | | | instance ID | | | | | | towards which | | | | | | the request is | | | | | | redirected | +-----------------+-----------+---+-------------+-----------------+
Table 6.1.3.7.3.1-5: Headers supported by the 308 Response Code on this
resource
+-----------------+-----------+---+-------------+-----------------+ | Name | Data type | P | Cardinality | Description | +-----------------+-----------+---+-------------+-----------------+ | Location | string | M | 1 | An alternative | | | | | | URI of the | | | | | | resource | | | | | | located on an | | | | | | alternative | | | | | | service | | | | | | instance within | | | | | | the same SMF or | | | | | | SMF (service) | | | | | | set. | | | | | | | | | | | | For the case | | | | | | when a request | | | | | | is redirected | | | | | | to the same | | | | | | target resource | | | | | | via a different | | | | | | SCP or SEPP, | | | | | | see | | | | | | clause 6.10.9.1 | | | | | | in | | | | | | 3GPP T | | | | | | S 29.500 [4]. | +-----------------+-----------+---+-------------+-----------------+ | 3gpp-S | string | O | 0..1 | Identifier of | | bi-Target-Nf-Id | | | | the target SMF | | | | | | (service) | | | | | | instance ID | | | | | | towards which | | | | | | the request is | | | | | | redirected | +-----------------+-----------+---+-------------+-----------------+
##### 6.1.3.7.4 Resource Custom Operations
###### 6.1.3.7.4.1 Overview
Table 6.1.3.7.4.1-1: Custom operations
+----------------+----------------+----------------+----------------+ | Operation Name | Custom | Mapped HTTP | Description | | | operation URI | method | | +================+================+================+================+ | modify | {vsmfPduSess | POST | Update service | | | ionUri}/modify | | operation | | | or | | (initiated by | | | | | H-SMF or SMF) | | | {ismfPduSess | | | | | ionUri}/modify | | | +----------------+----------------+----------------+----------------+ | tr | {vsmfPdu | POST | Transfer MT | | ansfer-mt-data | SessionUri}/tr | | Data service | | | ansfer-mt-data | | operation | | | or | | | | | | | | | | {ismfPdu | | | | | SessionUri}/tr | | | | | ansfer-mt-data | | | +----------------+----------------+----------------+----------------+
###### 6.1.3.7.4.2 Operation: modify
###### # 6.1.3.7.4.2.1 Description
###### # 6.1.3.7.4.2.2 Operation Definition
This custom operation modifies an individual PDU session resource in the V-SMF
for a HR PDU session or in the I-SMF for a PDU session with an I-SMF.
This operation shall support the request data structures specified in table
6.1.3.7.4.2.2-1 and the response data structure and response codes specified
in table 6.1.3.7.4.2.2-2.
Table 6.1.3.7.4.2.2-1: Data structures supported by the POST Request Body on
this resource
* * *
Data type P Cardinality Description VsmfUpdateData M 1 Representation of the
updates to apply to the PDU session.
* * *
Table 6.1.3.7.4.2.2-2: Data structures supported by the POST Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | Vs | M | 1 | 200 OK | This case | | mfUpdatedData | | | | represents a | | | | | | successful | | | | | | update of the | | | | | | PDU session, | | | | | | when the | | | | | | V-SMF or | | | | | | I-SMF needs | | | | | | to return | | | | | | information | | | | | | in the | | | | | | response. | +---------------+---+-------------+---------------+---------------+ | n/a | | | 204 No | This case | | | | | Content | represents a | | | | | | successful | | | | | | update of the | | | | | | PDU session, | | | | | | when the | | | | | | V-SMF or | | | | | | I-SMF does | | | | | | not need to | | | | | | return | | | | | | information | | | | | | in the | | | | | | response. | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 307 Temporary | Temporary | | irectResponse | | | Redirect | redirection. | | | | | | | | | | | | (NOTE 2) | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 308 Permanent | Permanent | | irectResponse | | | Redirect | redirection. | | | | | | | | | | | | (NOTE 2) | +---------------+---+-------------+---------------+---------------+ | Vs | M | 1 | 400 Bad | The \"cause\" | | mfUpdateError | | | Request | attribute | | | | | | shall be set | | | | | | to one of the | | | | | | errors | | | | | | defined in | | | | | | Table | | | | | | 5.2.7.2-1 of | | | | | | 3GPP TS | | | | | | 29.500 [4]. | +---------------+---+-------------+---------------+---------------+ | P | O | 0..1 | 400 Bad | This error | | roblemDetails | | | Request | shall only be | | | | | | returned by | | | | | | an SCP or a | | | | | | SEPP for | | | | | | errors they | | | | | | originate. As | | | | | | an exception, | | | | | | this error | | | | | | may also be | | | | | | returned by | | | | | | an SMF, with | | | | | | an empty | | | | | | payload body, | | | | | | for a | | | | | | protocol | | | | | | error other | | | | | | than those | | | | | | specified for | | | | | | the SMF | | | | | | PDUSession | | | | | | service logic | | | | | | (e.g. | | | | | | protocol | | | | | | error found | | | | | | by the HTTP | | | | | | stack). | +---------------+---+-------------+---------------+---------------+ | Vs | M | 1 | 403 Forbidden | The \"cause\" | | mfUpdateError | | | | attribute | | | | | | shall be set | | | | | | to one of the | | | | | | following | | | | | | application | | | | | | errors: | | | | | | | | | | | | - | | | | | | N1_SM_ERROR | | | | | | | | | | | | - | | | | | | UNABLE\ | | | | | | _TO_PAGE_UE | | | | | | | | | | | | - | | | | | | UE_NO | | | | | | T_RESPONDING | | | | | | | | | | | | - | | | | | | REJ | | | | | | ECTED_BY_UE | | | | | | | | | | | | - | | | | | | RE | | | | | | JECTED_DUE_ | | | | | | VPLMN_POLICY | | | | | | | | | | | | - | | | | | | HO_TAU\ | | | | | | _IN_PROGRESS | | | | | | | | | | | | - | | | | | | E | | | | | | BI_EXHAUSTED | | | | | | | | | | | | - | | | | | | EBI | | | | | | _REJECTED_L | | | | | | OCAL_POLICY, | | | | | | if the EBI | | | | | | allocation | | | | | | was rejected | | | | | | due to local | | | | | | policies at | | | | | | the AMF as | | | | | | specified in | | | | | | clau | | | | | | se 4.11.1.4.1 | | | | | | of | | | | | | 3GPP TS | | | | | | 23.502 [3]. | | | | | | | | | | | | - | | | | | | EBI_REJEC | | | | | | TED_NO_N26, | | | | | | if the EBI | | | | | | allocation | | | | | | was rejected | | | | | | when the AMF | | | | | | is in a | | | | | | serving PLMN | | | | | | that does not | | | | | | support | | | | | | 5GS-EPS | | | | | | interworking | | | | | | procedures | | | | | | with N26 | | | | | | interface as | | | | | | specified in | | | | | | clau | | | | | | se 5.17.2.3.1 | | | | | | of | | | | | | 3GPP TS | | | | | | 23.501 [2]. | | | | | | | | | | | | See table | | | | | | 6.1.7.3-1 for | | | | | | the | | | | | | description | | | | | | of these | | | | | | errors. | +---------------+---+-------------+---------------+---------------+ | P | O | 0..1 | 403 Forbidden | This error | | roblemDetails | | | | shall only be | | | | | | returned by | | | | | | an SCP or a | | | | | | SEPP for | | | | | | errors they | | | | | | originate. As | | | | | | an exception, | | | | | | this error | | | | | | may also be | | | | | | returned by | | | | | | an SMF, with | | | | | | an empty | | | | | | payload body, | | | | | | for a | | | | | | protocol | | | | | | error other | | | | | | than those | | | | | | specified for | | | | | | the SMF | | | | | | PDUSession | | | | | | service logic | | | | | | (e.g. | | | | | | protocol | | | | | | error found | | | | | | by the HTTP | | | | | | stack). | +---------------+---+-------------+---------------+---------------+ | Vs | M | 1 | 404 Not Found | The \"cause\" | | mfUpdateError | | | | attribute | | | | | | shall be set | | | | | | to one of the | | | | | | following | | | | | | application | | | | | | error: | | | | | | | | | | | | - | | | | | | CONTEX | | | | | | T_NOT_FOUND | | | | | | | | | | | | See table | | | | | | 6.1.7.3-1 for | | | | | | the | | | | | | description | | | | | | of these | | | | | | errors. | +---------------+---+-------------+---------------+---------------+ | Vs | O | 0..1 | 409 Conflict | The \"cause\" | | mfUpdateError | | | | attribute may | | | | | | be used to | | | | | | indicate one | | | | | | of the | | | | | | following | | | | | | application | | | | | | errors: | | | | | | | | | | | | - | | | | | | HIGHER_P | | | | | | RIORITY_REQU | | | | | | EST_ONGOING; | | | | | | | | | | | | - | | | | | | UE_IN_CM | | | | | | _IDLE_STATE | | | | | | | | | | | | See table | | | | | | 6.1.7.3-1 for | | | | | | the | | | | | | description | | | | | | of these | | | | | | errors. | +---------------+---+-------------+---------------+---------------+ | Vs | M | 1 | 500 Internal | The \"cause\" | | mfUpdateError | | | Server Error | attribute | | | | | | shall be set | | | | | | to one of the | | | | | | errors | | | | | | defined in | | | | | | Table | | | | | | 5.2.7.2-1 of | | | | | | 3GPP TS | | | | | | 29.500 [4]. | +---------------+---+-------------+---------------+---------------+ | P | O | 0..1 | 500 Internal | This error | | roblemDetails | | | Server Error | shall only be | | | | | | returned by | | | | | | an SCP or a | | | | | | SEPP for | | | | | | errors they | | | | | | originate. As | | | | | | an exception, | | | | | | this error | | | | | | may also be | | | | | | returned by | | | | | | an SMF, with | | | | | | an empty | | | | | | payload body, | | | | | | for a general | | | | | | server error | | | | | | other than | | | | | | those | | | | | | specified for | | | | | | the SMF | | | | | | PDUSession | | | | | | service | | | | | | logic. | +---------------+---+-------------+---------------+---------------+ | Vs | M | 1 | 503 Service | The \"cause\" | | mfUpdateError | | | Unavailable | attribute | | | | | | shall be set | | | | | | to one of the | | | | | | errors | | | | | | defined in | | | | | | Table | | | | | | 5.2.7.2-1 of | | | | | | 3GPP TS | | | | | | 29.500 [4]. | +---------------+---+-------------+---------------+---------------+ | P | O | 0..1 | 503 Service | This error | | roblemDetails | | | Unavailable | shall only be | | | | | | returned by | | | | | | an SCP or a | | | | | | SEPP for | | | | | | errors they | | | | | | originate. As | | | | | | an exception, | | | | | | this error | | | | | | may also be | | | | | | returned by | | | | | | an SMF, with | | | | | | an empty | | | | | | payload body, | | | | | | for a general | | | | | | server error | | | | | | other than | | | | | | those | | | | | | specified for | | | | | | the SMF | | | | | | PDUSession | | | | | | service | | | | | | logic. | +---------------+---+-------------+---------------+---------------+ | Vs | M | 1 | 504 Gateway | The \"cause\" | | mfUpdateError | | | Timeout | attribute | | | | | | shall be set | | | | | | to one of the | | | | | | following | | | | | | application | | | | | | errors: | | | | | | | | | | | | - | | | | | | PEER_NO | | | | | | T_RESPONDING | | | | | | | | | | | | - | | | | | | NET | | | | | | WORK_FAILURE | | | | | | | | | | | | See table | | | | | | 6.1.7.3-1 for | | | | | | the | | | | | | description | | | | | | of these | | | | | | errors. | +---------------+---+-------------+---------------+---------------+ | P | O | 0..1 | 504 Gateway | This error | | roblemDetails | | | Timeout | shall only be | | | | | | returned by | | | | | | an SCP or a | | | | | | SEPP for | | | | | | errors they | | | | | | originate. | +---------------+---+-------------+---------------+---------------+ | NOTE 1: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the POST | | | | | | method listed | | | | | | in Table | | | | | | 5.2.7.1-1 of | | | | | | 3GPP TS | | | | | | 29.500 [4] | | | | | | other than | | | | | | those | | | | | | specified in | | | | | | the table | | | | | | above also | | | | | | apply, with a | | | | | | P | | | | | | roblemDetails | | | | | | data type | | | | | | (see | | | | | | clause 5.2.7 | | | | | | of | | | | | | 3GPP TS 2 | | | | | | 9.500 [4]). | | | | | | | | | | | | NOTE 2: | | | | | | Red | | | | | | irectResponse | | | | | | may be | | | | | | inserted by | | | | | | an SCP or | | | | | | SEPP, see | | | | | | cl | | | | | | ause 6.10.9.1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.500 [4]. | | | | | +---------------+---+-------------+---------------+---------------+
Table 6.1.3.7.4.2.2-3: Headers supported by the 307 Response Code on this
resource
+-----------------+-----------+---+-------------+-----------------+ | Name | Data type | P | Cardinality | Description | +-----------------+-----------+---+-------------+-----------------+ | Location | string | M | 1 | An alternative | | | | | | URI of the | | | | | | resource | | | | | | located on an | | | | | | alternative | | | | | | service | | | | | | instance within | | | | | | the same SMF or | | | | | | SMF (service) | | | | | | set. | | | | | | | | | | | | For the case | | | | | | when a request | | | | | | is redirected | | | | | | to the same | | | | | | target resource | | | | | | via a different | | | | | | SCP or SEPP, | | | | | | see | | | | | | clause 6.10.9.1 | | | | | | in | | | | | | 3GPP T | | | | | | S 29.500 [4]. | +-----------------+-----------+---+-------------+-----------------+ | 3gpp-S | string | O | 0..1 | Identifier of | | bi-Target-Nf-Id | | | | the target SMF | | | | | | (service) | | | | | | instance ID | | | | | | towards which | | | | | | the request is | | | | | | redirected | +-----------------+-----------+---+-------------+-----------------+
Table 6.1.3.7.4.2.2-4: Headers supported by the 308 Response Code on this
resource
+-----------------+-----------+---+-------------+-----------------+ | Name | Data type | P | Cardinality | Description | +-----------------+-----------+---+-------------+-----------------+ | Location | string | M | 1 | An alternative | | | | | | URI of the | | | | | | resource | | | | | | located on an | | | | | | alternative | | | | | | service | | | | | | instance within | | | | | | the same SMF or | | | | | | SMF (service) | | | | | | set. | | | | | | | | | | | | For the case | | | | | | when a request | | | | | | is redirected | | | | | | to the same | | | | | | target resource | | | | | | via a different | | | | | | SCP or SEPP, | | | | | | see | | | | | | clause 6.10.9.1 | | | | | | in | | | | | | 3GPP T | | | | | | S 29.500 [4]. | +-----------------+-----------+---+-------------+-----------------+ | 3gpp-S | string | O | 0..1 | Identifier of | | bi-Target-Nf-Id | | | | the target SMF | | | | | | (service) | | | | | | instance ID | | | | | | towards which | | | | | | the request is | | | | | | redirected | +-----------------+-----------+---+-------------+-----------------+
###### 6.1.3.7.4.3 Operation: transfer-mt-data
###### # 6.1.3.7.4.3.1 Description
This custom operation enables to transfer mobile terminated data received from
NEF, for a given PDU session, towards the V-SMF for HR roaming scenarios, or
the I-SMF for a PDU session with an I-SMF.
###### # 6.1.3.7.4.3.2 Operation Definition
This operation shall support the request data structures specified in Table
6.1.3.7.4.3.2-1 and the response data structure and response codes specified
in Table 6.1.3.7.4.3.2-2.
Table 6.1.3.7.4.3.2-1: Data structures supported by the POST Request Body on
this resource
Data type P Cardinality Description
* * *
TransferMtDataReqData M 1 Representation of the payload of a Transfer MT Data
Request
Table 6.1.3.7.4.3.2-2: Data structures supported by the POST Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +===============+===+=============+===============+===============+ | n/a | | | 204 No | Successful MT | | | | | Content | data transfer | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 307 Temporary | Temporary | | irectResponse | | | Redirect | redirection. | | | | | | | | | | | | (NOTE 2) | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 308 Permanent | Permanent | | irectResponse | | | Redirect | redirection. | | | | | | | | | | | | (NOTE 2) | +---------------+---+-------------+---------------+---------------+ | Transf | M | 1 | 504 Gateway | The \"cause\" | | erMtDataError | | | Timeout | attribute may | | | | | | be used to | | | | | | indicate the | | | | | | following | | | | | | application | | | | | | errors: | | | | | | | | | | | | - | | | | | | UE_NO | | | | | | T_REACHABLE, | | | | | | if the UE is | | | | | | not reachable | | | | | | to deliver | | | | | | the mobile | | | | | | terminated | | | | | | data; | | | | | | Estimated | | | | | | Maximum | | | | | | Waiting Time | | | | | | shall be | | | | | | included if | | | | | | available; | | | | | | | | | | | | See table | | | | | | 6.1.7.3-1 for | | | | | | the | | | | | | description | | | | | | of these | | | | | | errors. | +---------------+---+-------------+---------------+---------------+ | NOTE 1: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the POST | | | | | | method listed | | | | | | in Table | | | | | | 5.2.7.1-1 of | | | | | | 3GPP TS | | | | | | 29.500 [4] | | | | | | other than | | | | | | those | | | | | | specified in | | | | | | the table | | | | | | above also | | | | | | apply, with a | | | | | | P | | | | | | roblemDetails | | | | | | data type | | | | | | (see | | | | | | clause 5.2.7 | | | | | | of | | | | | | 3GPP TS 2 | | | | | | 9.500 [4]). | | | | | | | | | | | | NOTE 2: | | | | | | Red | | | | | | irectResponse | | | | | | may be | | | | | | inserted by | | | | | | an SCP or | | | | | | SEPP, see | | | | | | cl | | | | | | ause 6.10.9.1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.500 [4]. | | | | | +---------------+---+-------------+---------------+---------------+
Table 6.1.3.7.4.3.2-3: Headers supported by the 307 Response Code on this
resource
+-----------------+-----------+---+-------------+-----------------+ | Name | Data type | P | Cardinality | Description | +-----------------+-----------+---+-------------+-----------------+ | Location | string | M | 1 | An alternative | | | | | | URI of the | | | | | | resource | | | | | | located on an | | | | | | alternative | | | | | | service | | | | | | instance within | | | | | | the same SMF or | | | | | | SMF (service) | | | | | | set. | | | | | | | | | | | | For the case | | | | | | when a request | | | | | | is redirected | | | | | | to the same | | | | | | target resource | | | | | | via a different | | | | | | SCP or SEPP, | | | | | | see | | | | | | clause 6.10.9.1 | | | | | | in | | | | | | 3GPP T | | | | | | S 29.500 [4]. | +-----------------+-----------+---+-------------+-----------------+ | 3gpp-S | string | O | 0..1 | Identifier of | | bi-Target-Nf-Id | | | | the target SMF | | | | | | (service) | | | | | | instance ID | | | | | | towards which | | | | | | the request is | | | | | | redirected | +-----------------+-----------+---+-------------+-----------------+
Table 6.1.3.7.4.3.2-4: Headers supported by the 308 Response Code on this
resource
+-----------------+-----------+---+-------------+-----------------+ | Name | Data type | P | Cardinality | Description | +-----------------+-----------+---+-------------+-----------------+ | Location | string | M | 1 | An alternative | | | | | | URI of the | | | | | | resource | | | | | | located on an | | | | | | alternative | | | | | | service | | | | | | instance within | | | | | | the same SMF or | | | | | | SMF (service) | | | | | | set. | | | | | | | | | | | | For the case | | | | | | when a request | | | | | | is redirected | | | | | | to the same | | | | | | target resource | | | | | | via a different | | | | | | SCP or SEPP, | | | | | | see | | | | | | clause 6.10.9.1 | | | | | | in | | | | | | 3GPP T | | | | | | S 29.500 [4]. | +-----------------+-----------+---+-------------+-----------------+ | 3gpp-S | string | O | 0..1 | Identifier of | | bi-Target-Nf-Id | | | | the target SMF | | | | | | (service) | | | | | | instance ID | | | | | | towards which | | | | | | the request is | | | | | | redirected | +-----------------+-----------+---+-------------+-----------------+
### 6.1.4 Custom Operations without associated resources
None.
### 6.1.5 Notifications
#### 6.1.5.1 General
This clause specifies the notifications provided by the Nsmf_PDUSession
service.
The delivery of notifications shall be supported as specified in clause 6.2 of
3GPP TS 29.500 [4] for Server-initiated communication.
Table 6.1.5.1-1: Notifications overview
+----------------+----------------+----------------+----------------+ | Notification | Callback URI | HTTP method or | Description | | | | custom | | | | | operation | (service | | | | | operation) | +================+================+================+================+ | SM Context | {smCon | POST | Notify SM | | Status | textStatusUri} | | Context Status | | Notification | | | | | | (NF Service | | | | | Consumer | | | | | provided | | | | | callback | | | | | reference) | | | +----------------+----------------+----------------+----------------+
#### 6.1.5.2 SM Context Status Notification
##### 6.1.5.2.1 Description
If the NF Service Consumer (e.g AMF) has provided the callback URI for getting
notified about change of SM context status, the SMF shall notify the NF
Service Consumer when the SM context status information is updated.
##### 6.1.5.2.2 Notification Definition
The POST method shall be used for SM context status notification and the URI
shall be the callback reference provided by the NF Service Consumer during the
subscription to this notification.
Callback URI: **{smContextStatusUri}**
Support of URI query parameters is specified in table 6.1.5.2.2-1.
Table 6.1.5.2.2-1: URI query parameters supported by the POST method
* * *
Name Data type P Cardinality Description n/a
* * *
Support of request data structures is specified in table 6.1.5.2.2-2, and
support of response data structures and response codes is specified in table
6.1.5.2-3.
Table 6.1.5.2.2-2: Data structures supported by the POST Request Body
* * *
Data type P Cardinality Description SmContextStatusNotification M 1
Representation of the SM context status notification.
* * *
Table 6.1.5.2.2-3: Data structures supported by the POST Response Body
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | n/a | | | 204 No | Successful | | | | | Content | notification | | | | | | of the SM | | | | | | context | | | | | | status change | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 307 Temporary | Temporary | | irectResponse | | | Redirect | redirection. | | | | | | | | | | | | (NOTE 2) | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 308 Permanent | Permanent | | irectResponse | | | Redirect | redirection. | | | | | | | | | | | | (NOTE 2) | +---------------+---+-------------+---------------+---------------+ | NOTE 1: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the POST | | | | | | method listed | | | | | | in Table | | | | | | 5.2.7.1-1 of | | | | | | 3GPP TS | | | | | | 29.500 [4] | | | | | | other than | | | | | | those | | | | | | specified in | | | | | | the table | | | | | | above also | | | | | | apply, with a | | | | | | P | | | | | | roblemDetails | | | | | | data type | | | | | | (see | | | | | | clause 5.2.7 | | | | | | of | | | | | | 3GPP TS 2 | | | | | | 9.500 [4]). | | | | | | | | | | | | NOTE 2: | | | | | | Red | | | | | | irectResponse | | | | | | may be | | | | | | inserted by | | | | | | an SCP, see | | | | | | cl | | | | | | ause 6.10.9.1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.500 [4]. | | | | | +---------------+---+-------------+---------------+---------------+
Table 6.1.5.2.2-4: Headers supported by the 307 Response Code on this resource
* * *
Name Data type P Cardinality Description Location string M 1 A URI pointing to
the endpoint of NF service consumer to which the notification should be sent.
For the case when a request is redirected to the same target resource via a
different SCP, see clause 6.10.9.1 in 3GPP TS 29.500 [4]. 3gpp-Sbi-Target-Nf-
Id string O 0..1 Identifier of the target NF (service) instance ID towards
which the notification is redirected
* * *
Table 6.1.5.2.2-5: Headers supported by the 308 Response Code on this resource
* * *
Name Data type P Cardinality Description Location string M 1 A URI pointing to
the endpoint of NF service consumer to which the notification should be sent.
For the case when a request is redirected to the same target resource via a
different SCP, see clause 6.10.9.1 in 3GPP TS 29.500 [4]. 3gpp-Sbi-Target-Nf-
Id string O 0..1 Identifier of the target NF (service) instance ID towards
which the notification is redirected
* * *
### 6.1.6 Data Model
#### 6.1.6.1 General
This clause specifies the application data model supported by the API.
Table 6.1.6.1-1 specifies the data types defined for the Nsmf service-based
interface protocol.
Table 6.1.6.1-1: Nsmf specific Data Types
Data type Clause defined Description
* * *
SmContextCreateData 6.1.6.2.2 Data within Create SM Context Request
SmContextCreatedData 6.1.6.2.3 Data within Create SM Context Response
SmContextUpdateData 6.1.6.2.4 Data within Update SM Context Request
SmContextUpdatedData 6.1.6.2.5 Data within Update SM Context Response
SmContextReleaseData 6.1.6.2.6 Data within Release SM Context Request
SmContextRetrieveData 6.1.6.2.7 Data within Retrieve SM Context Request
SmContextStatusNotification 6.1.6.2.8 Data within Notify SM Context Status
Request PduSessionCreateData 6.1.6.2.9 Data within Create Request
PduSessionCreatedData 6.1.6.2.10 Data within Create Response HsmfUpdateData
6.1.6.2.11 Data within Update Request towards H-SMF, or from I-SMF to SMF
HsmfUpdatedData 6.1.6.2.12 Data within Update Response from H-SMF, or from SMF
to I-SMF ReleaseData 6.1.6.2.13 Data within Release Request HsmfUpdateError
6.1.6.2.14 Error within Update Response from H-SMF, or from SMF to I-SMF
VsmfUpdateData 6.1.6.2.15 Data within Update Request towards V-SMF, or from
SMF to I-SMF VsmfUpdatedData 6.1.6.2.16 Data within Update Response from
V-SMF, or from I-SMF to SMF StatusNotification 6.1.6.2.17 Data within Notify
Status Request QosFlowItem 6.1.6.2.18 Individual QoS flow QosFlowSetupItem
6.1.6.2.19 Individual QoS flow to setup QosFlowAddModifyRequestItem 6.1.6.2.20
Individual QoS flow requested to be created or modified
QosFlowReleaseRequestItem 6.1.6.2.21 Individual QoS flow requested to be
released QosFlowProfile 6.1.6.2.22 QoS flow profile GbrQosFlowInformation
6.1.6.2.23 GBR QoS flow information QosFlowNotifyItem 6.1.6.2.24 Notification
related to a QoS flow SmContextRetrievedData 6.1.6.2.27 Data within Retrieve
SM Context Response TunnelInfo 6.1.6.2.28 Tunnel Information StatusInfo
6.1.6.2.29 Status of SM context or of PDU session VsmfUpdateError 6.1.6.2.30
Error within Update Response from V-SMF, or from I-SMF to SMF EpsPdnCnxInfo
6.1.6.2.31 EPS PDN Connection Information from H-SMF to V-SMF, or from SMF to
I-SMF EpsBearerInfo 6.1.6.2.32 EPS Bearer Information from H-SMF to V-SMF, or
from SMF to I-SMF PduSessionNotifyItem 6.1.6.2.33 Notification related to a
PDU session EbiArpMapping 6.1.6.2.34 EBI to ARP mapping SmContextCreateError
6.1.6.2.35 Error within Create SM Context Response SmContextUpdateError
6.1.6.2.36 Error within Update SM Context Response PduSessionCreateError
6.1.6.2.37 Error within Create Response MmeCapabilities 6.1.6.2.38 MME
capabilities SmContext 6.1.6.2.39 Complete SM Context ExemptionInd 6.1.6.2.40
Exemption Indication PsaInformation 6.1.6.2.41 PSA Information DnaiInformation
6.1.6.2.42 DNAI Information N4Information 6.1.6.2.43 N4 Information
IndirectDataForwardingTunnelInfo 6.1.6.2.44 Indirect Data Forwarding Tunnel
Information SmContextReleasedData 6.1.6.2.45 Data within Release SM Context
Response ReleasedData 6.1.6.2.46 Data within Release Response
SendMoDataReqData 6.1.6.2.47 Data within Send MO Data Request
CnAssistedRanPara 6.1.6.2.48 SMF derived CN assisted RAN parameters tuning
UlclBpInformation 6.1.6.2.49 UL CL or BP Information TransferMoDataReqData
6.1.6.2.50 Data within Transfer MO Data Request TransferMtDataReqData
6.1.6.2.51 Data within Transfer MT Data Request TransferMtDataError 6.1.6.2.52
Transfer MT Data Error Response TransferMtDataAddInfo 6.1.6.2.53 Transfer MT
Data Error Response Additional Information VplmnQos 6.1.6.2.54 VPLMN QoS
DdnFailureSubs 6.1.6.2.55 DDN Failure Subscription RetrieveData 6.1.6.2.56
Data within Retrieve Request RetrievedData 6.1.6.2.57 Data within Retrieve
Response SecurityResult 6.1.6.2.58 Security Result UpSecurityInfo 6.1.6.2.59
User Plane Security Information DdnFailureSubInfo 6.1.6.2.60 DDN Failure
Subscription Information AlternativeQosProfile 6.1.6.2.61 Alternative QoS
Profile ProblemDetailsAddInfo 6.1.6.2.62 Problem Details Additional
Information ExtProblemDetails 6.1.6.2.63 Extended Problem Details
QosMonitoringInfo 6.1.6.2.64 QoS Monitoring Information IpAddress 6.1.6.2.65
IP Address RedundantPduSessionInformation 6.1.6.2.66 Redundant PDU Session
Information QosFlowTunnel 6.1.6.2.67 Tunnel Information per QoS Flow
TargetDnaiInfo 6.1.6.2.68 Target DNAI Information AfCoordinationInfo
6.1.6.2.69 AF Coordination Information NotificationInfo 6.1.6.2.70
Notification Correlation ID and Notification URI provided by the NF service
consumer AnchorSmfFeatures 6.1.6.2.71 Anchor SMF supported features
HrsboInfoFromVplmn 6.1.6.2.72 HR-SBO Information signaled from VPLMN
HrsboInfoFromHplmn 6.1.6.2.73 HR-SBO Information signaled from HPLMN Teid
6.1.6.3.2 GTP Tunnel Endpoint Identifier ProcedureTransactionId 6.1.6.3.2
Procedure Transaction Identifier EpsPdnCnxContainer 6.1.6.3.2 UE EPS PDN
Connection container from SMF to AMF EpsBearerId 6.1.6.3.2 EPS Bearer Id
EpsBearerContainer 6.1.6.3.2 EPS Bearer container from SMF to AMF
EpsBearerContextStatus 6.1.6.3.2 EPS Bearer context status DrbId 6.1.6.3.2
Data Radio Bearer Identifier UpCnxState 6.1.6.3.3 User Plane Connection State
HoState 6.1.6.3.4 Handover State RequestType 6.1.6.3.5 Request Type in Create
(SM context) service operation. RequestIndication 6.1.6.3.6 Request Indication
in Update (SM context) service operation. NotificationCause 6.1.6.3.7 Cause
for generating a notification Cause 6.1.6.3.8 Cause information ResourceStatus
6.1.6.3.9 Status of SM context or PDU session resource DnnSelectionMode
6.1.6.3.10 DNN Selection Mode EpsInterworkingIndication 6.1.6.3.11 EPS
Interworking Indication N2SmInfoType 6.1.6.3.12 N2 SM Information Type
MaxIntegrityProtectedDataRate 6.1.6.3.13 Maximum Integrity Protected Data Rate
MaReleaseIndication 6.1.6.3.14 Multi-Access PDU session release Indication
SmContextType 6.1.6.3.15 Type of SM Context information PsaIndication
6.1.6.3.16 Indication of whether a PSA is inserted or removed N4MessageType
6.1.6.3.17 N4 Message Type QosFlowAccessType 6.1.6.3.18 Access type associated
with the QoS Flow UnavailableAccessIndication 6.1.6.3.19 Indicates the access
type of a MA PDU session that is unavailable ProtectionResult 6.1.6.3.20
Protection Result of the security policy indicated as \"preferred\"
QosMonitoringReq 6.1.6.3.21 Indicates to measure UL, or DL, or both UL/DL
delays, or to stop on-going measurements. Rsn 6.1.6.3.22 Redundancy Sequence
Number SmfSelectionType 6.1.6.3.23 SMF Selection Type PduSessionContextType
6.1.6.3.24 PDU Session Context Type PendingUpdateInfo 6.1.6.3.25 Pending
Update Information
Table 6.1.6.1-2 specifies data types re-used by the Nsmf service based
interface protocol from other specifications, including a reference to their
respective specifications and when needed, a short description of their use
within the Nsmf service based interface.
Table 6.1.6.1-2: Nsmf re-used Data Types
Data type Reference Comments
* * *
Uint32 3GPP TS 29.571 [13] Unsigned 32-bit integers Ipv4Addr 3GPP TS 29.571
[13] IPv4 Address Ipv6Prefix 3GPP TS 29.571 [13] IPv6 Prefix Uri 3GPP TS
29.571 [13] Uniform Resource Identifier Supi 3GPP TS 29.571 [13] Subscription
Permanent Identifier Pei 3GPP TS 29.571 [13] Permanent Equipment Identifier
Gpsi 3GPP TS 29.571 [13] General Public Subscription Identifier AccessType
3GPP TS 29.571 [13] Access Type (3GPP or non-3GPP access) SupportedFeatures
3GPP TS 29.571 [13] Supported features Qfi 3GPP TS 29.571 [13] QoS Flow
Identifier PduSessionId 3GPP TS 29.571 [13] PDU Session Identifier
PduSessionType 3GPP TS 29.571 [13] PDU Session Type Ambr 3GPP TS 29.571 [13]
PDU Session Aggregate Maximum Bit Rate 5Qi 3GPP TS 29.571 [13] 5G QoS
Identifier Arp 3GPP TS 29.571 [13] Allocation and Retention Priority
ReflectiveQoSAttribute 3GPP TS 29.571 [13] Reflective QoS Attribute Dynamic5Qi
3GPP TS 29.571 [13] QoS characteristics for a 5QI that is neither standardized
nor pre-configured. NonDynamic5Qi 3GPP TS 29.571 [13] QoS characteristics that
replace the default QoS characteristics for a standardized or pre-configured
5QI. PacketLossRate 3GPP TS 29.571 [13] Packet Loss Rate NotificationControl
3GPP TS 29.571 [13] Notification Control Dnn 3GPP TS 29.571 [13] Data Network
Name Snssai 3GPP TS 29.571 [13] Single Network Slice Selection Assistance
Information NfInstanceId 3GPP TS 29.571 [13] NF Instance Identifier
UserLocation 3GPP TS 29.571 [13] User Location TimeZone 3GPP TS 29.571 [13]
Time Zone ProblemDetails 3GPP TS 29.571 [13] Error description UpSecurity 3GPP
TS 29.571 [13] User Plane Security Policy Enforcement information
RefToBinaryData 3GPP TS 29.571 [13] Cross-Reference to binary data encoded
within a binary body part in an HTTP multipart message. Guami 3GPP TS 29.571
[13] **Globally Unique AMF ID** BackupAmfInfo 3GPP TS 29.571 [13] Backup AMF
Information PresenceState 3GPP TS 29.571 [13] Indicates the UE presence in or
out of a LADN service area TraceData 3GPP TS 29.571 [13] Trace control and
configuration parameters PlmnId 3GPP TS 29.571 [13] PLMN Identity RatType 3GPP
TS 29.571 [13] RAT Type NgApCause 3GPP TS 29.571 [13] NGAP Cause 5GMmCause
3GPP TS 29.571 [13] 5G MM Cause DurationSec 3GPP TS 29.571 [13] Duration in
units of seconds AdditionalQosFlowInfo 3GPP TS 29.571 [13] Additional QoS Flow
Information NfGroupId 3GPP TS 29.571 [13] Network Function Group Id
SecondaryRatUsageReport 3GPP TS 29.571 [13] Secondary RAT Usage Report
SecondaryRatUsageInfo 3GPP TS 29.571 [13] Secondary RAT Usage Information Dnai
3GPP TS 29.571 [13] Data Network Access Identifier PlmnIdNid 3GPP TS 29.571
[13] PLMN Identity and, for SNPN, Network Identity SmallDataRateStatus 3GPP TS
29.571 [13] Small Data Rate Control Status ApnRateStatus 3GPP TS 29.571 [13]
APN Rate Control Status StationaryIndication 3GPP TS 29.571 [13] Stationary
Indication ScheduledCommunicationTime 3GPP TS 29.571 [13] Scheduled
Communication Time ScheduledCommunicationType 3GPP TS 29.571 [13] Scheduled
Communication Type TrafficProfile 3GPP TS 29.571 [13] Traffic Profile
BatteryIndication 3GPP TS 29.571 [13] Battery Indication NfSetId 3GPP TS
29.571 [13] NF Set Identifier MoExpDataCounter 3GPP TS 29.571 [13] MO
Exception Data Counter DddTrafficDescriptor 3GPP TS 29.571 [13] Traffic
Descriptor NfServiceSetId 3GPP TS 29.571 [13] NF Service Set ID
RedirectResponse 3GPP TS 29.571 [13] Response body of the redirect response
message ServerAddressingInfo 3GPP TS 29.571 [13] Information of a Provisioning
Server PcfUeCallbackInfo 3GPP TS 29.571 [13] The callback information of the
PCF for the UE to allow the PCF for the PDU session to send SM Policy
Association Establishment and Termination events notification
SatelliteBackhaulCategory 3GPP TS 29.571 [13] Satellite backhaul category
Uint16 3GPP TS 29.571 [13] Unsigned 16-bit integer GeoSatelliteId 3GPP TS
29.571 [13] GEO satellite ID (string) Uinteger 3GPP TS 29.571 [13] Unsigned
Integer common data type VplmnOffloadingInfo 3GPP TS 29.571 [13] VPLMN
Specific Offloading Information GroupId 3GPP TS 29.571 [13] Internal Group Id
EcsAddrConfigInfo 3GPP TS 29.503 [46] ECS Address Configuration Information
ServiceName 3GPP TS 29.510 [19] Service Name WAgfInfo 3GPP TS 29.510 [19]
Information about N3 terminations at the W-AGF TngfInfo 3GPP TS 29.510 [19]
Information about N3 terminations at the TNGF TwifInfo 3GPP TS 29.510 [19]
Information about N3 terminations at the TWIF ChargingInformation 3GPP TS
29.512 [30] CHF addresses NgRanTargetId 3GPP TS 29.518 [20] NG-RAN Target Id
SbiBindingLevel 3GPP TS 29.518 [20] SBI Binding Level IpIndex 3GPP TS 29.519
[38] Information that identifies which IP pool or external server is used to
allocate the IP address. RoamingChargingProfile 3GPP TS 32.291 [26] Roaming
Charging Profile
#### 6.1.6.2 Structured data types
##### 6.1.6.2.1 Introduction
This clause defines the structures to be used in resource representations.
##### 6.1.6.2.2 Type: SmContextCreateData
Table 6.1.6.2.2-1: Definition of type SmContextCreateData
+-----------+-----------+---+-----------+-----------+-----------+ | Attribute | Data type | P | Ca | De | Appl | | name | | | rdinality | scription | icability | +===========+===========+===+===========+===========+===========+ | supi | Supi | C | 0..1 | This IE | | | | | | | shall be | | | | | | | present, | | | | | | | except if | | | | | | | the UE is | | | | | | | emergency | | | | | | | r | | | | | | | egistered | | | | | | | and | | | | | | | UICCless. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | contain | | | | | | | the | | | | | | | s | | | | | | | ubscriber | | | | | | | permanent | | | | | | | identify. | | +-----------+-----------+---+-----------+-----------+-----------+ | u | boolean | C | 0..1 | This IE | | | nauthenti | | | | shall be | | | catedSupi | | | | present | | | | | | | if the | | | | | | | SUPI is | | | | | | | present | | | | | | | in the | | | | | | | message | | | | | | | but is | | | | | | | not | | | | | | | auth | | | | | | | enticated | | | | | | | and is | | | | | | | for an | | | | | | | emergency | | | | | | | r | | | | | | | egistered | | | | | | | UE. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | be set as | | | | | | | follows: | | | | | | | | | | | | | | > \- | | | | | | | > true: | | | | | | | > unauth | | | | | | | enticated | | | | | | | > SUPI; | | | | | | | > | | | | | | | > \- | | | | | | | > false | | | | | | | > ( | | | | | | | default): | | | | | | | > auth | | | | | | | enticated | | | | | | | > SUPI. | | +-----------+-----------+---+-----------+-----------+-----------+ | pei | Pei | C | 0..1 | This IE | | | | | | | shall be | | | | | | | present | | | | | | | if the UE | | | | | | | is | | | | | | | emergency | | | | | | | r | | | | | | | egistered | | | | | | | and it is | | | | | | | either | | | | | | | UIClless | | | | | | | or the | | | | | | | SUPI is | | | | | | | not | | | | | | | authe | | | | | | | nticated. | | | | | | | | | | | | | | For all | | | | | | | other | | | | | | | cases, | | | | | | | this IE | | | | | | | shall be | | | | | | | present | | | | | | | if it is | | | | | | | a | | | | | | | vailable. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | contain | | | | | | | the | | | | | | | permanent | | | | | | | equipment | | | | | | | id | | | | | | | entifier. | | +-----------+-----------+---+-----------+-----------+-----------+ | gpsi | Gpsi | C | 0..1 | This IE | | | | | | | shall be | | | | | | | present | | | | | | | if it is | | | | | | | a | | | | | | | vailable. | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | contain | | | | | | | the | | | | | | | user\'s | | | | | | | GPSI. | | +-----------+-----------+---+-----------+-----------+-----------+ | pdu | Pdu | C | 0..1 | This IE | | | SessionId | SessionId | | | shall be | | | | | | | present, | | | | | | | except | | | | | | | during an | | | | | | | EPS to | | | | | | | 5GS Idle | | | | | | | mode | | | | | | | mobility | | | | | | | or | | | | | | | handover | | | | | | | using the | | | | | | | N26 | | | | | | | i | | | | | | | nterface. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | contain | | | | | | | the PDU | | | | | | | Session | | | | | | | ID. | | +-----------+-----------+---+-----------+-----------+-----------+ | dnn | Dnn | C | 0..1 | This IE | | | | | | | shall be | | | | | | | present, | | | | | | | except | | | | | | | during an | | | | | | | EPS to | | | | | | | 5GS Idle | | | | | | | mode | | | | | | | mobility | | | | | | | or | | | | | | | handover | | | | | | | using the | | | | | | | N26 | | | | | | | i | | | | | | | nterface. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | contain | | | | | | | the | | | | | | | requested | | | | | | | DNN; the | | | | | | | DNN shall | | | | | | | be the | | | | | | | full DNN | | | | | | | (i.e. | | | | | | | with both | | | | | | | the | | | | | | | Network | | | | | | | I | | | | | | | dentifier | | | | | | | and | | | | | | | Operator | | | | | | | Id | | | | | | | entifier) | | | | | | | for a HR | | | | | | | PDU | | | | | | | session, | | | | | | | and it | | | | | | | should be | | | | | | | the full | | | | | | | DNN in | | | | | | | LBO and | | | | | | | no | | | | | | | n-roaming | | | | | | | s | | | | | | | cenarios. | | | | | | | If the | | | | | | | Operator | | | | | | | I | | | | | | | dentifier | | | | | | | is | | | | | | | absent, | | | | | | | the | | | | | | | serving | | | | | | | core | | | | | | | network | | | | | | | operator | | | | | | | shall be | | | | | | | assumed. | | +-----------+-----------+---+-----------+-----------+-----------+ | se | Dnn | C | 0..1 | This IE | | | lectedDnn | | | | shall be | | | | | | | present, | | | | | | | if | | | | | | | another | | | | | | | DNN other | | | | | | | than the | | | | | | | UE | | | | | | | requested | | | | | | | DNN is | | | | | | | selected | | | | | | | for this | | | | | | | PDU | | | | | | | session. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | contain | | | | | | | the | | | | | | | selected | | | | | | | DNN. The | | | | | | | DNN shall | | | | | | | be the | | | | | | | full DNN | | | | | | | (i.e. | | | | | | | with both | | | | | | | the | | | | | | | Network | | | | | | | I | | | | | | | dentifier | | | | | | | and | | | | | | | Operator | | | | | | | Id | | | | | | | entifier) | | | | | | | for a HR | | | | | | | PDU | | | | | | | session, | | | | | | | and it | | | | | | | should be | | | | | | | the full | | | | | | | DNN in | | | | | | | LBO and | | | | | | | no | | | | | | | n-roaming | | | | | | | s | | | | | | | cenarios. | | | | | | | If the | | | | | | | Operator | | | | | | | I | | | | | | | dentifier | | | | | | | is | | | | | | | absent, | | | | | | | the | | | | | | | serving | | | | | | | core | | | | | | | network | | | | | | | operator | | | | | | | shall be | | | | | | | assumed. | | +-----------+-----------+---+-----------+-----------+-----------+ | sNssai | Snssai | C | 0..1 | This IE | | | | | | | shall be | | | | | | | present | | | | | | | during | | | | | | | the PDU | | | | | | | session | | | | | | | esta | | | | | | | blishment | | | | | | | p | | | | | | | rocedure. | | | | | | | In this | | | | | | | case, it | | | | | | | shall | | | | | | | contain | | | | | | | the | | | | | | | requested | | | | | | | S-NSSAI | | | | | | | for the | | | | | | | serving | | | | | | | PLMN. | | | | | | | This | | | | | | | co | | | | | | | rresponds | | | | | | | to an | | | | | | | S-NSSAI | | | | | | | from the | | | | | | | allowed | | | | | | | NSSAI. | | | | | | | | | | | | | | This IE | | | | | | | shall | | | | | | | also be | | | | | | | present | | | | | | | during an | | | | | | | EPS to | | | | | | | 5GS idle | | | | | | | mode | | | | | | | mobility | | | | | | | or | | | | | | | handover | | | | | | | with | | | | | | | I- | | | | | | | SMF/V-SMF | | | | | | | involved | | | | | | | using the | | | | | | | N26 | | | | | | | i | | | | | | | nterface. | | | | | | | In this | | | | | | | case, it | | | | | | | shall | | | | | | | contain | | | | | | | the | | | | | | | S-NSSAI | | | | | | | c | | | | | | | onfigured | | | | | | | in the | | | | | | | AMF for | | | | | | | EPS | | | | | | | inte | | | | | | | rworking. | | +-----------+-----------+---+-----------+-----------+-----------+ | altSnssai | Snssai | C | 0..1 | This IE | NSRP | | | | | | shall be | | | | | | | present | | | | | | | during | | | | | | | the PDU | | | | | | | session | | | | | | | esta | | | | | | | blishment | | | | | | | procedure | | | | | | | if the NF | | | | | | | service | | | | | | | consumer | | | | | | | supports | | | | | | | the | | | | | | | network | | | | | | | slice | | | | | | | rep | | | | | | | lacement, | | | | | | | and the | | | | | | | network | | | | | | | slice | | | | | | | indicated | | | | | | | in the | | | | | | | sNssai IE | | | | | | | is | | | | | | | requested | | | | | | | to be | | | | | | | replaced. | | | | | | | In this | | | | | | | case, the | | | | | | | NF | | | | | | | service | | | | | | | consumer | | | | | | | shall | | | | | | | send the | | | | | | | S-NSSAI | | | | | | | and the | | | | | | | al | | | | | | | ternative | | | | | | | S-NSSAI. | | | | | | | See | | | | | | | claus | | | | | | | e 5.15.19 | | | | | | | of | | | | | | | 3GP | | | | | | | P TS 23.5 | | | | | | | 01 [2]. | | +-----------+-----------+---+-----------+-----------+-----------+ | hp | Snssai | C | 0..1 | This IE | | | lmnSnssai | | | | shall be | | | | | | | present | | | | | | | for a | | | | | | | roaming | | | | | | | PDU | | | | | | | session, | | | | | | | except | | | | | | | during an | | | | | | | EPS to | | | | | | | 5GS idle | | | | | | | mode | | | | | | | mobility | | | | | | | or | | | | | | | handover | | | | | | | using the | | | | | | | N26 | | | | | | | i | | | | | | | nterface. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | contain | | | | | | | the | | | | | | | requested | | | | | | | S-NSSAI | | | | | | | for the | | | | | | | HPLMN. | | | | | | | This | | | | | | | co | | | | | | | rresponds | | | | | | | to an | | | | | | | S-NSSAI | | | | | | | from the | | | | | | | Mapping | | | | | | | Of | | | | | | | Allowed | | | | | | | NSSAI | | | | | | | corr | | | | | | | esponding | | | | | | | to the | | | | | | | SNSSAI | | | | | | | value | | | | | | | included | | | | | | | in the | | | | | | | sNssai | | | | | | | IE. | | +-----------+-----------+---+-----------+-----------+-----------+ | altHp | Snssai | C | 0..1 | This IE | NSRP | | lmnSnssai | | | | shall be | | | | | | | present | | | | | | | for HR | | | | | | | PDU | | | | | | | session | | | | | | | during | | | | | | | the PDU | | | | | | | session | | | | | | | esta | | | | | | | blishment | | | | | | | procedure | | | | | | | if the NF | | | | | | | service | | | | | | | consumer | | | | | | | supports | | | | | | | the | | | | | | | network | | | | | | | slice | | | | | | | rep | | | | | | | lacement, | | | | | | | and the | | | | | | | network | | | | | | | slice | | | | | | | indicated | | | | | | | in the | | | | | | | hp | | | | | | | lmnSnssai | | | | | | | IE is | | | | | | | requested | | | | | | | to be | | | | | | | replaced. | | | | | | | In this | | | | | | | case, the | | | | | | | NF | | | | | | | service | | | | | | | consumer | | | | | | | shall | | | | | | | send the | | | | | | | HPLMN | | | | | | | S-NSSAI | | | | | | | and the | | | | | | | al | | | | | | | ternative | | | | | | | HPLMN | | | | | | | S-NSSAI. | | | | | | | See | | | | | | | claus | | | | | | | e 5.15.19 | | | | | | | of | | | | | | | 3GP | | | | | | | P TS 23.5 | | | | | | | 01 [2]. | | +-----------+-----------+---+-----------+-----------+-----------+ | se | NfI | M | 1 | This IE | | | rvingNfId | nstanceId | | | shall | | | | | | | contain | | | | | | | the | | | | | | | i | | | | | | | dentifier | | | | | | | of the | | | | | | | serving | | | | | | | NF (e.g. | | | | | | | serving | | | | | | | AMF). | | +-----------+-----------+---+-----------+-----------+-----------+ | guami | Guami | C | 0..1 | This IE | | | | | | | shall | | | | | | | contain | | | | | | | the | | | | | | | serving | | | | | | | AMF\'s | | | | | | | GUAMI. | | | | | | | | | | | | | | It shall | | | | | | | be | | | | | | | included | | | | | | | if the NF | | | | | | | service | | | | | | | consumer | | | | | | | is an | | | | | | | AMF. | | +-----------+-----------+---+-----------+-----------+-----------+ | se | Se | O | 0..1 | When | | | rviceName | rviceName | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | contain | | | | | | | the name | | | | | | | of the | | | | | | | AMF | | | | | | | service | | | | | | | to which | | | | | | | SM | | | | | | | context | | | | | | | status | | | | | | | noti | | | | | | | fications | | | | | | | are to be | | | | | | | sent (see | | | | | | | claus | | | | | | | e 6.5.2.2 | | | | | | | of | | | | | | | 3GPP | | | | | | | TS 29.50 | | | | | | | 0 [4]). | | | | | | | This IE | | | | | | | may be | | | | | | | included | | | | | | | if the NF | | | | | | | service | | | | | | | consumer | | | | | | | is an | | | | | | | AMF. | | +-----------+-----------+---+-----------+-----------+-----------+ | servi | PlmnIdNid | M | 1 | This IE | | | ngNetwork | | | | shall | | | | | | | contain | | | | | | | the | | | | | | | serving | | | | | | | core | | | | | | | network | | | | | | | operator | | | | | | | PLMN ID | | | | | | | and, for | | | | | | | an SNPN, | | | | | | | the NID | | | | | | | that | | | | | | | together | | | | | | | with the | | | | | | | PLMN ID | | | | | | | i | | | | | | | dentifies | | | | | | | the SNPN. | | +-----------+-----------+---+-----------+-----------+-----------+ | re | Re | C | 0..1 | This IE | | | questType | questType | | | shall be | | | | | | | present | | | | | | | if the | | | | | | | Request | | | | | | | type IE | | | | | | | is | | | | | | | received | | | | | | | from the | | | | | | | UE for a | | | | | | | single | | | | | | | access | | | | | | | PDU | | | | | | | session | | | | | | | and if | | | | | | | the | | | | | | | request | | | | | | | refers to | | | | | | | an | | | | | | | existing | | | | | | | PDU | | | | | | | session | | | | | | | or an | | | | | | | existing | | | | | | | emergency | | | | | | | PDU | | | | | | | session. | | | | | | | The | | | | | | | re | | | | | | | questType | | | | | | | IE shall | | | | | | | not be | | | | | | | included | | | | | | | for a | | | | | | | MA-PDU | | | | | | | session | | | | | | | esta | | | | | | | blishment | | | | | | | request. | | | | | | | It may be | | | | | | | present | | | | | | | o | | | | | | | therwise. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | indicate | | | | | | | whether | | | | | | | the | | | | | | | request | | | | | | | refers to | | | | | | | a new PDU | | | | | | | session | | | | | | | or | | | | | | | emergency | | | | | | | PDU | | | | | | | session, | | | | | | | or to an | | | | | | | existing | | | | | | | PDU | | | | | | | session | | | | | | | or | | | | | | | emergency | | | | | | | PDU | | | | | | | session. | | | | | | | | | | | | | | For | | | | | | | request | | | | | | | sent from | | | | | | | UE, this | | | | | | | IE shall | | | | | | | be set | | | | | | | based on | | | | | | | the | | | | | | | Request | | | | | | | type IE | | | | | | | received | | | | | | | (see | | | | | | | clause | | | | | | | 9.11.3.47 | | | | | | | of | | | | | | | 3GPP | | | | | | | TS 24.50 | | | | | | | 1 [7]). | | +-----------+-----------+---+-----------+-----------+-----------+ | n1SmMsg | RefToB | C | 0..1 | This IE | | | | inaryData | | | shall be | | | | | | | present | | | | | | | and | | | | | | | reference | | | | | | | the N1 SM | | | | | | | Message | | | | | | | binary | | | | | | | data (see | | | | | | | clause 6. | | | | | | | 1.6.4.2), | | | | | | | except | | | | | | | during an | | | | | | | EPS to | | | | | | | 5GS Idle | | | | | | | mode | | | | | | | mobility | | | | | | | or | | | | | | | handover | | | | | | | using | | | | | | | N26. | | +-----------+-----------+---+-----------+-----------+-----------+ | anType | A | M | 1 | This IE | | | | ccessType | | | shall | | | | | | | indicate | | | | | | | the | | | | | | | Access | | | | | | | Network | | | | | | | Type to | | | | | | | which the | | | | | | | PDU | | | | | | | session | | | | | | | is to be | | | | | | | as | | | | | | | sociated. | | +-----------+-----------+---+-----------+-----------+-----------+ | additio | A | C | 0..1 | This IE | MAPDU | | nalAnType | ccessType | | | shall | | | | | | | indicate | | | | | | | the | | | | | | | a | | | | | | | dditional | | | | | | | Access | | | | | | | Network | | | | | | | Type to | | | | | | | which the | | | | | | | PDU | | | | | | | session | | | | | | | is to be | | | | | | | as | | | | | | | sociated. | | | | | | | | | | | | | | This IE | | | | | | | shall be | | | | | | | present | | | | | | | if a | | | | | | | MA-PDU | | | | | | | session | | | | | | | is | | | | | | | requested | | | | | | | and the | | | | | | | UE is | | | | | | | r | | | | | | | egistered | | | | | | | over both | | | | | | | 3GPP | | | | | | | access | | | | | | | and | | | | | | | Non-3GPP | | | | | | | access. | | +-----------+-----------+---+-----------+-----------+-----------+ | ratType | RatType | C | 0..1 | This IE | | | | | | | shall be | | | | | | | present | | | | | | | and | | | | | | | indicate | | | | | | | the RAT | | | | | | | Type used | | | | | | | by the | | | | | | | UE, if | | | | | | | a | | | | | | | vailable. | | +-----------+-----------+---+-----------+-----------+-----------+ | prese | Pres | C | 0..1 | This IE | | | nceInLadn | enceState | | | shall be | | | | | | | present | | | | | | | if the | | | | | | | DNN | | | | | | | co | | | | | | | rresponds | | | | | | | to a | | | | | | | LADN. | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | be set to | | | | | | | \"IN\" or | | | | | | | \"OUT\" | | | | | | | to | | | | | | | indicate | | | | | | | that the | | | | | | | UE is in | | | | | | | or out of | | | | | | | the LADN | | | | | | | service | | | | | | | area. | | +-----------+-----------+---+-----------+-----------+-----------+ | p | boolean | C | 0..1 | This IE | | | erLadnDnn | | | | shall be | | | SnssaiInd | | | | present, | | | | | | | if the | | | | | | | AMF | | | | | | | enforces | | | | | | | the LADN | | | | | | | Service | | | | | | | Area per | | | | | | | LADN DNN | | | | | | | and | | | | | | | S-NSSAI | | | | | | | (see | | | | | | | clause | | | | | | | 4.3.2.2.1 | | | | | | | of | | | | | | | 3GPP | | | | | | | TS 23.50 | | | | | | | 2 [3]). | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | indicate | | | | | | | that the | | | | | | | PDU | | | | | | | Session | | | | | | | is | | | | | | | subject | | | | | | | to LADN | | | | | | | per LADN | | | | | | | DNN and | | | | | | | S-NSSAI | | | | | | | and be | | | | | | | set as | | | | | | | follows: | | | | | | | | | | | | | | > \- | | | | | | | > True: | | | | | | | > the PDU | | | | | | | > Session | | | | | | | > is | | | | | | | > subject | | | | | | | > to LADN | | | | | | | > per | | | | | | | > LADN | | | | | | | > DNN and | | | | | | | > | | | | | | | S-NSSAI. | | | | | | | > | | | | | | | > \- | | | | | | | > False | | | | | | | > ( | | | | | | | default): | | | | | | | > the PDU | | | | | | | > Session | | | | | | | > is not | | | | | | | > subject | | | | | | | > to LADN | | | | | | | > per | | | | | | | > LADN | | | | | | | > DNN and | | | | | | | > | | | | | | | S-NSSAI. | | +-----------+-----------+---+-----------+-----------+-----------+ | u | Use | C | 0..1 | This IE | | | eLocation | rLocation | | | shall | | | | | | | contain | | | | | | | the UE | | | | | | | location | | | | | | | in | | | | | | | formation | | | | | | | (see | | | | | | | clause | | | | | | | 5.2.3.4), | | | | | | | if it is | | | | | | | a | | | | | | | vailable. | | | | | | | (NOTE 1). | | +-----------+-----------+---+-----------+-----------+-----------+ | u | TimeZone | C | 0..1 | This IE | | | eTimeZone | | | | shall | | | | | | | contain | | | | | | | the UE | | | | | | | Time | | | | | | | Zone, if | | | | | | | it is | | | | | | | a | | | | | | | vailable. | | +-----------+-----------+---+-----------+-----------+-----------+ | addU | Use | O | 0..1 | A | | | eLocation | rLocation | | | dditional | | | | | | | UE | | | | | | | location. | | | | | | | | | | | | | | This IE | | | | | | | may be | | | | | | | present, | | | | | | | if anType | | | | | | | indicates | | | | | | | a | | | | | | | non-3GPP | | | | | | | access | | | | | | | and valid | | | | | | | 3GPP | | | | | | | access | | | | | | | user | | | | | | | location | | | | | | | in | | | | | | | formation | | | | | | | is | | | | | | | a | | | | | | | vailable. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | contain: | | | | | | | | | | | | | | - the | | | | | | | last | | | | | | | known | | | | | | | 3GPP | | | | | | | access | | | | | | | user | | | | | | | location | | | | | | | (see | | | | | | | clause | | | | | | | 5.2.3.4); | | | | | | | and | | | | | | | | | | | | | | - the | | | | | | | t | | | | | | | imestamp, | | | | | | | if | | | | | | | a | | | | | | | vailable, | | | | | | | i | | | | | | | ndicating | | | | | | | the UTC | | | | | | | time when | | | | | | | the | | | | | | | addU | | | | | | | eLocation | | | | | | | in | | | | | | | formation | | | | | | | was | | | | | | | acquired. | | | | | | | | | | | | | | (NOTE 1) | | +-----------+-----------+---+-----------+-----------+-----------+ | smContext | Uri | M | 1 | This IE | | | StatusUri | | | | shall | | | | | | | include | | | | | | | the | | | | | | | callback | | | | | | | URI to | | | | | | | receive | | | | | | | not | | | | | | | ification | | | | | | | of SM | | | | | | | context | | | | | | | status. | | +-----------+-----------+---+-----------+-----------+-----------+ | hSmfUri | Uri | C | 0..1 | This IE | | | | | | | shall be | | | | | | | present | | | | | | | in HR | | | | | | | roaming | | | | | | | s | | | | | | | cenarios, | | | | | | | including | | | | | | | Indirect | | | | | | | Comm | | | | | | | unication | | | | | | | with | | | | | | | Delegated | | | | | | | D | | | | | | | iscovery, | | | | | | | if the | | | | | | | AMF and | | | | | | | V-SMF do | | | | | | | not | | | | | | | support | | | | | | | the ACSCR | | | | | | | feature. | | | | | | | | | | | | | | This IE | | | | | | | shall be | | | | | | | present | | | | | | | in HR | | | | | | | roaming | | | | | | | scenarios | | | | | | | during a | | | | | | | PDU | | | | | | | session | | | | | | | esta | | | | | | | blishment | | | | | | | procedure | | | | | | | and EPS | | | | | | | to 5GS | | | | | | | mobility | | | | | | | pr | | | | | | | ocedures, | | | | | | | if the | | | | | | | AMF and | | | | | | | V-SMF | | | | | | | support | | | | | | | the ACSCR | | | | | | | feature. | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | contain | | | | | | | the API | | | | | | | URI of | | | | | | | the | | | | | | | Nsmf_P | | | | | | | DUSession | | | | | | | service | | | | | | | of the | | | | | | | selected | | | | | | | H-SMF. | | | | | | | The API | | | | | | | URI shall | | | | | | | be | | | | | | | formatted | | | | | | | as | | | | | | | specified | | | | | | | in | | | | | | | clau | | | | | | | se 6.1.1. | | | | | | | | | | | | | | (NOTE 8) | | +-----------+-----------+---+-----------+-----------+-----------+ | hSmfId | NfI | O | 0..1 | This IE | | | | nstanceId | | | may be | | | | | | | present | | | | | | | when | | | | | | | hSmfUri | | | | | | | is | | | | | | | present. | | | | | | | | | | | | | | If | | | | | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | carry the | | | | | | | NF | | | | | | | instance | | | | | | | ID of the | | | | | | | selected | | | | | | | H-SMF. | | | | | | | (NOTE 2) | | +-----------+-----------+---+-----------+-----------+-----------+ | smfUri | Uri | C | 0..1 | This IE | DTSSA | | | | | | shall be | | | | | | | present | | | | | | | for a PDU | | | | | | | session | | | | | | | with an | | | | | | | I-SMF, | | | | | | | including | | | | | | | Indirect | | | | | | | Comm | | | | | | | unication | | | | | | | with | | | | | | | Delegated | | | | | | | D | | | | | | | iscovery, | | | | | | | if the | | | | | | | AMF and | | | | | | | I-SMF do | | | | | | | not | | | | | | | support | | | | | | | the ACSCR | | | | | | | feature. | | | | | | | | | | | | | | This IE | | | | | | | shall be | | | | | | | present | | | | | | | for a PDU | | | | | | | session | | | | | | | with an | | | | | | | I-SMF | | | | | | | during a | | | | | | | PDU | | | | | | | session | | | | | | | esta | | | | | | | blishment | | | | | | | procedure | | | | | | | and EPS | | | | | | | to 5GS | | | | | | | mobility | | | | | | | pr | | | | | | | ocedures, | | | | | | | if the | | | | | | | AMF and | | | | | | | I-SMF | | | | | | | support | | | | | | | the ACSCR | | | | | | | feature. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | contain | | | | | | | the API | | | | | | | URI of | | | | | | | the | | | | | | | Nsmf_P | | | | | | | DUSession | | | | | | | service | | | | | | | of the | | | | | | | selected | | | | | | | SMF. The | | | | | | | API URI | | | | | | | shall be | | | | | | | formatted | | | | | | | as | | | | | | | specified | | | | | | | in | | | | | | | clau | | | | | | | se 6.1.1. | | | | | | | | | | | | | | (NOTE 8) | | +-----------+-----------+---+-----------+-----------+-----------+ | smfId | NfI | O | 0..1 | This IE | DTSSA | | | nstanceId | | | may be | | | | | | | present | | | | | | | when | | | | | | | smfUri is | | | | | | | present. | | | | | | | | | | | | | | If | | | | | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | carry the | | | | | | | NF | | | | | | | instance | | | | | | | ID of the | | | | | | | selected | | | | | | | SMF. | | | | | | | (NOTE 2) | | +-----------+-----------+---+-----------+-----------+-----------+ | oldPdu | Pdu | C | 0..1 | This IE | | | SessionId | SessionId | | | shall be | | | | | | | present | | | | | | | if this | | | | | | | in | | | | | | | formation | | | | | | | is | | | | | | | received | | | | | | | from the | | | | | | | UE. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | contain | | | | | | | the old | | | | | | | PDU | | | | | | | Session | | | | | | | ID | | | | | | | received | | | | | | | from the | | | | | | | UE. See | | | | | | | clauses | | | | | | | 4.3.2.2.1 | | | | | | | and | | | | | | | 4.3.5.2 | | | | | | | of | | | | | | | 3GP | | | | | | | P TS 23.5 | | | | | | | 02 [3]. | | +-----------+-----------+---+-----------+-----------+-----------+ | pduSe | a | C | 1..N | This IE | | | ssionsAct | rray(PduS | | | shall be | | | ivateList | essionId) | | | present, | | | | | | | during an | | | | | | | EPS to | | | | | | | 5GS Idle | | | | | | | mode | | | | | | | mobility | | | | | | | using the | | | | | | | N26 | | | | | | | i | | | | | | | nterface, | | | | | | | if the UE | | | | | | | indicated | | | | | | | PDU | | | | | | | s | | | | | | | ession(s) | | | | | | | to be | | | | | | | activated | | | | | | | in the | | | | | | | Reg | | | | | | | istration | | | | | | | Request. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | indicate | | | | | | | all the | | | | | | | PDU | | | | | | | s | | | | | | | ession(s) | | | | | | | requested | | | | | | | to be | | | | | | | re- | | | | | | | activated | | | | | | | by the | | | | | | | UE. | | +-----------+-----------+---+-----------+-----------+-----------+ | ueEpsPdnC | EpsPdnCnx | C | 0..1 | This IE | | | onnection | Container | | | shall be | | | | | | | present, | | | | | | | during an | | | | | | | EPS to | | | | | | | 5GS Idle | | | | | | | mode | | | | | | | mobility | | | | | | | or | | | | | | | handover | | | | | | | using the | | | | | | | N26 | | | | | | | i | | | | | | | nterface. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | contain | | | | | | | an | | | | | | | MME/SGSN | | | | | | | UE EPS | | | | | | | PDN | | | | | | | c | | | | | | | onnection | | | | | | | including | | | | | | | the EPS | | | | | | | bearer | | | | | | | co | | | | | | | ntext(s). | | +-----------+-----------+---+-----------+-----------+-----------+ | hoState | HoState | C | 0..1 | This IE | | | | | | | shall be | | | | | | | present | | | | | | | during an | | | | | | | EPS to | | | | | | | 5GS | | | | | | | handover | | | | | | | using N26 | | | | | | | interface | | | | | | | or during | | | | | | | a N2 | | | | | | | handover | | | | | | | with | | | | | | | I-SMF | | | | | | | insert | | | | | | | ion/chang | | | | | | | e/removal | | | | | | | p | | | | | | | rocedure, | | | | | | | to | | | | | | | request | | | | | | | the | | | | | | | pr | | | | | | | eparation | | | | | | | of a | | | | | | | handover | | | | | | | of the | | | | | | | PDU | | | | | | | session. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | be set as | | | | | | | specified | | | | | | | in | | | | | | | clauses | | | | | | | 5.2.2.2.3 | | | | | | | or | | | | | | | 5 | | | | | | | .2.2.2.5. | | +-----------+-----------+---+-----------+-----------+-----------+ | addition | a | O | 1..N | This IE | | | alHsmfUri | rray(Uri) | | | may be | | | | | | | present | | | | | | | in HR | | | | | | | roaming | | | | | | | s | | | | | | | cenarios. | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | contain | | | | | | | an array | | | | | | | of API | | | | | | | URI of | | | | | | | the | | | | | | | Nsmf_P | | | | | | | DUSession | | | | | | | service | | | | | | | of the | | | | | | | a | | | | | | | dditional | | | | | | | H-SMFs | | | | | | | d | | | | | | | iscovered | | | | | | | by the | | | | | | | AMF for | | | | | | | the given | | | | | | | DNN, | | | | | | | hp | | | | | | | lmnSnssai | | | | | | | and for | | | | | | | this PDU | | | | | | | session. | | | | | | | If | | | | | | | provided, | | | | | | | the V-SMF | | | | | | | shall use | | | | | | | these | | | | | | | a | | | | | | | dditional | | | | | | | H-SMF(s) | | | | | | | if the | | | | | | | V-SMF is | | | | | | | not able | | | | | | | to | | | | | | | receive | | | | | | | any | | | | | | | response | | | | | | | from the | | | | | | | H-SMF | | | | | | | i | | | | | | | dentified | | | | | | | by | | | | | | | hSmfUri. | | | | | | | | | | | | | | The API | | | | | | | URI shall | | | | | | | be | | | | | | | formatted | | | | | | | as | | | | | | | specified | | | | | | | in | | | | | | | clau | | | | | | | se 6.1.1. | | +-----------+-----------+---+-----------+-----------+-----------+ | additio | a | O | 1..N | This IE | | | nalHsmfId | rray(NfIn | | | may be | | | | stanceId) | | | present | | | | | | | when | | | | | | | addition | | | | | | | alHsmfUri | | | | | | | is | | | | | | | present. | | | | | | | | | | | | | | If | | | | | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | carry the | | | | | | | NF | | | | | | | instance | | | | | | | ID(s) of | | | | | | | H-SMF(s) | | | | | | | as stated | | | | | | | in | | | | | | | addition | | | | | | | alHsmfUri | | | | | | | IE, in | | | | | | | exactly | | | | | | | the same | | | | | | | order. | | | | | | | (NOTE 2) | | +-----------+-----------+---+-----------+-----------+-----------+ | additio | a | O | 1..N | This IE | DTSSA | | nalSmfUri | rray(Uri) | | | may be | | | | | | | present | | | | | | | for a PDU | | | | | | | session | | | | | | | with an | | | | | | | I-SMF. | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | contain | | | | | | | an array | | | | | | | of API | | | | | | | URI of | | | | | | | the | | | | | | | Nsmf_P | | | | | | | DUSession | | | | | | | service | | | | | | | of the | | | | | | | a | | | | | | | dditional | | | | | | | SMFs | | | | | | | d | | | | | | | iscovered | | | | | | | by the | | | | | | | AMF for | | | | | | | the given | | | | | | | DNN, | | | | | | | Snssai | | | | | | | and for | | | | | | | this PDU | | | | | | | session. | | | | | | | If | | | | | | | provided, | | | | | | | the I-SMF | | | | | | | shall use | | | | | | | these | | | | | | | a | | | | | | | dditional | | | | | | | SMF(s) if | | | | | | | the I-SMF | | | | | | | is not | | | | | | | able to | | | | | | | receive | | | | | | | any | | | | | | | response | | | | | | | from the | | | | | | | SMF | | | | | | | i | | | | | | | dentified | | | | | | | by | | | | | | | smfUri. | | | | | | | | | | | | | | The API | | | | | | | URI shall | | | | | | | be | | | | | | | formatted | | | | | | | as | | | | | | | specified | | | | | | | in | | | | | | | clau | | | | | | | se 6.1.1. | | +-----------+-----------+---+-----------+-----------+-----------+ | additi | a | O | 1..N | This IE | DTSSA | | onalSmfId | rray(NfIn | | | may be | | | | stanceId) | | | present | | | | | | | when | | | | | | | additio | | | | | | | nalSmfUri | | | | | | | is | | | | | | | present. | | | | | | | | | | | | | | If | | | | | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | carry the | | | | | | | NF | | | | | | | instance | | | | | | | ID(s) of | | | | | | | SMF(s) as | | | | | | | stated in | | | | | | | additio | | | | | | | nalSmfUri | | | | | | | IE, in | | | | | | | exactly | | | | | | | the same | | | | | | | order. | | | | | | | (NOTE 2) | | +-----------+-----------+---+-----------+-----------+-----------+ | pcfId | NfI | O | 0..1 | When | | | | nstanceId | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | contain | | | | | | | the | | | | | | | i | | | | | | | dentifier | | | | | | | of: | | | | | | | | | | | | | | - the | | | | | | | H-PCF | | | | | | | selected | | | | | | | by the | | | | | | | AMF (for | | | | | | | UE | | | | | | | Policy), | | | | | | | for a HR | | | | | | | PDU | | | | | | | session; | | | | | | | or | | | | | | | | | | | | | | - the | | | | | | | V-PCF | | | | | | | selected | | | | | | | by the | | | | | | | AMF (for | | | | | | | Access | | | | | | | and | | | | | | | Mobility | | | | | | | Policy), | | | | | | | for a PDU | | | | | | | session | | | | | | | in LBO | | | | | | | roaming | | | | | | | s | | | | | | | cenarios; | | | | | | | or | | | | | | | | | | | | | | - the | | | | | | | PCF | | | | | | | selected | | | | | | | by the | | | | | | | AMF (for | | | | | | | Access | | | | | | | and | | | | | | | Mobility | | | | | | | Policy | | | | | | | and/or UE | | | | | | | Policy), | | | | | | | for a PDU | | | | | | | session | | | | | | | in | | | | | | | no | | | | | | | n-roaming | | | | | | | s | | | | | | | cenarios. | | +-----------+-----------+---+-----------+-----------+-----------+ | p | NfGroupId | O | 0..1 | This IE | | | cfGroupId | | | | may be | | | | | | | present | | | | | | | in | | | | | | | no | | | | | | | n-roaming | | | | | | | and HR | | | | | | | roaming | | | | | | | s | | | | | | | cenarios. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | contain | | | | | | | the | | | | | | | identity | | | | | | | of the | | | | | | | (home) | | | | | | | PCF group | | | | | | | serving | | | | | | | the UE | | | | | | | for | | | | | | | Access | | | | | | | and | | | | | | | Mobility | | | | | | | Policy | | | | | | | and/or UE | | | | | | | Policy. | | +-----------+-----------+---+-----------+-----------+-----------+ | pcfSetId | NfSetId | O | 0..1 | This IE | | | | | | | may be | | | | | | | present | | | | | | | if pcfId | | | | | | | IE is | | | | | | | present. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | contain | | | | | | | the NF | | | | | | | Set ID of | | | | | | | the PCF | | | | | | | indicated | | | | | | | by the | | | | | | | pcfId IE. | | +-----------+-----------+---+-----------+-----------+-----------+ | nrfUri | Uri | O | 0..1 | This IE | | | | | | | may be | | | | | | | present | | | | | | | to | | | | | | | indicate | | | | | | | the NRF | | | | | | | to use | | | | | | | for PCF | | | | | | | selection | | | | | | | within | | | | | | | the same | | | | | | | network | | | | | | | slice | | | | | | | instance. | | | | | | | When | | | | | | | present, | | | | | | | the SMF | | | | | | | shall use | | | | | | | the NRF | | | | | | | URI to | | | | | | | select | | | | | | | the PCF. | | +-----------+-----------+---+-----------+-----------+-----------+ | supporte | Supporte | C | 0..1 | This IE | | | dFeatures | dFeatures | | | shall be | | | | | | | present | | | | | | | if at | | | | | | | least one | | | | | | | optional | | | | | | | feature | | | | | | | defined | | | | | | | in | | | | | | | cla | | | | | | | use 6.1.8 | | | | | | | is | | | | | | | s | | | | | | | upported. | | +-----------+-----------+---+-----------+-----------+-----------+ | selMode | DnnSele | C | 0..1 | This IE | | | | ctionMode | | | shall be | | | | | | | present | | | | | | | if it is | | | | | | | a | | | | | | | vailable. | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | be set | | | | | | | to: | | | | | | | | | | | | | | - | | | | | | | \"VE | | | | | | | RIFIED\", | | | | | | | if the | | | | | | | requested | | | | | | | DNN | | | | | | | provided | | | | | | | by UE or | | | | | | | the | | | | | | | selected | | | | | | | DNN | | | | | | | provided | | | | | | | by the | | | | | | | network | | | | | | | co | | | | | | | rresponds | | | | | | | to an | | | | | | | e | | | | | | | xplicitly | | | | | | | s | | | | | | | ubscribed | | | | | | | DNN; or | | | | | | | | | | | | | | - | | | | | | | \"UE_DNN | | | | | | | _NOT_VE | | | | | | | RIFIED\", | | | | | | | if the | | | | | | | requested | | | | | | | DNN | | | | | | | provided | | | | | | | by UE | | | | | | | co | | | | | | | rresponds | | | | | | | to the | | | | | | | usage of | | | | | | | a | | | | | | | wildcard | | | | | | | subs | | | | | | | cription; | | | | | | | or | | | | | | | | | | | | | | - | | | | | | | \"NW_DNN | | | | | | | _NOT_VE | | | | | | | RIFIED\", | | | | | | | if the | | | | | | | selected | | | | | | | DNN | | | | | | | provided | | | | | | | by the | | | | | | | network | | | | | | | co | | | | | | | rresponds | | | | | | | to the | | | | | | | usage of | | | | | | | a | | | | | | | wildcard | | | | | | | subs | | | | | | | cription. | | | | | | | | | | | | | | If both | | | | | | | the | | | | | | | requested | | | | | | | DNN (i.e. | | | | | | | dnn IE) | | | | | | | and | | | | | | | selected | | | | | | | DNN (i.e. | | | | | | | selected | | | | | | | Dnn IE) | | | | | | | are | | | | | | | present, | | | | | | | the | | | | | | | selMode | | | | | | | shall be | | | | | | | related | | | | | | | to the | | | | | | | selected | | | | | | | DNN. | | +-----------+-----------+---+-----------+-----------+-----------+ | back | ar | C | 1..N | This IE | | | upAmfInfo | ray(Backu | | | shall be | | | | pAmfInfo) | | | included | | | | | | | if the NF | | | | | | | service | | | | | | | consumer | | | | | | | is an AMF | | | | | | | and the | | | | | | | AMF | | | | | | | supports | | | | | | | the AMF | | | | | | | m | | | | | | | anagement | | | | | | | without | | | | | | | UDSF for | | | | | | | the | | | | | | | following | | | | | | | cases: | | | | | | | | | | | | | | - First | | | | | | | in | | | | | | | teraction | | | | | | | with SMF. | | | | | | | | | | | | | | - | | | | | | | Mod | | | | | | | ification | | | | | | | of the | | | | | | | Backu | | | | | | | pAmfInfo. | | +-----------+-----------+---+-----------+-----------+-----------+ | traceData | TraceData | C | 0..1 | This IE | | | | | | | shall be | | | | | | | included | | | | | | | if trace | | | | | | | is | | | | | | | required | | | | | | | to be | | | | | | | activated | | | | | | | (see | | | | | | | 3GPP | | | | | | | TS 32.422 | | | | | | | [22]). | | +-----------+-----------+---+-----------+-----------+-----------+ | u | NfGroupId | O | 0..1 | When | | | dmGroupId | | | | present, | | | | | | | it shall | | | | | | | indicate | | | | | | | the | | | | | | | identity | | | | | | | of the | | | | | | | UDM group | | | | | | | serving | | | | | | | the UE. | | +-----------+-----------+---+-----------+-----------+-----------+ | routing | string | O | 0..1 | When | | | Indicator | | | | present, | | | | | | | it shall | | | | | | | indicate | | | | | | | the | | | | | | | Routing | | | | | | | Indicator | | | | | | | of the | | | | | | | UE. | | +-----------+-----------+---+-----------+-----------+-----------+ | hN | integer | O | 0..1 | When | | | wPubKeyId | | | | present, | | | | | | | it shall | | | | | | | indicate | | | | | | | the Home | | | | | | | Network | | | | | | | Public | | | | | | | Key | | | | | | | I | | | | | | | dentifier | | | | | | | of the | | | | | | | UE. | | | | | | | (NOTE 3) | | +-----------+-----------+---+-----------+-----------+-----------+ | epsInterw | EpsInte | O | 0..1 | The AMF | | | orkingInd | rworkingI | | | may | | | | ndication | | | provide | | | | | | | the | | | | | | | i | | | | | | | ndication | | | | | | | when a | | | | | | | PGW-C+SMF | | | | | | | is | | | | | | | selected | | | | | | | to serve | | | | | | | the PDU | | | | | | | Session. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | indicate | | | | | | | whether | | | | | | | the PDU | | | | | | | session | | | | | | | may | | | | | | | possibly | | | | | | | be moved | | | | | | | to EPS | | | | | | | and | | | | | | | whether | | | | | | | N26 | | | | | | | interface | | | | | | | to be | | | | | | | used | | | | | | | during | | | | | | | EPS | | | | | | | int | | | | | | | erworking | | | | | | | pr | | | | | | | ocedures. | | | | | | | | | | | | | | The AMF | | | | | | | may | | | | | | | derive | | | | | | | the value | | | | | | | of the | | | | | | | i | | | | | | | ndication | | | | | | | from | | | | | | | different | | | | | | | sources, | | | | | | | like UE | | | | | | | 5GMM | | | | | | | cap | | | | | | | abilities | | | | | | | (e.g. | | | | | | | \"S1 mode | | | | | | | supp | | | | | | | orted\"), | | | | | | | UE | | | | | | | sub | | | | | | | scription | | | | | | | data | | | | | | | (e.g. | | | | | | | \"Core | | | | | | | Network | | | | | | | Type | | | | | | | Re | | | | | | | striction | | | | | | | to EPC\" | | | | | | | and | | | | | | | \"Int | | | | | | | erworking | | | | | | | with EPS | | | | | | | Ind | | | | | | | ication\" | | | | | | | for the | | | | | | | DNN) and | | | | | | | config | | | | | | | urations. | | +-----------+-----------+---+-----------+-----------+-----------+ | indi | boolean | C | 0..1 | The AMF | | | rectForwa | | | | shall | | | rdingFlag | | | | include | | | | | | | this | | | | | | | i | | | | | | | ndication | | | | | | | during | | | | | | | N26 based | | | | | | | Handover | | | | | | | procedure | | | | | | | from EPS | | | | | | | to 5GS | | | | | | | (see | | | | | | | 3GP | | | | | | | P TS 23.5 | | | | | | | 02 [3], | | | | | | | c | | | | | | | lause 4.1 | | | | | | | 1.1.2.2), | | | | | | | to inform | | | | | | | the SMF | | | | | | | of the | | | | | | | appl | | | | | | | icability | | | | | | | or | | | | | | | non-appl | | | | | | | icability | | | | | | | of | | | | | | | indirect | | | | | | | data | | | | | | | fo | | | | | | | rwarding. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | be set as | | | | | | | follows: | | | | | | | | | | | | | | > \- | | | | | | | > True: | | | | | | | > | | | | | | | indirect | | | | | | | > data | | | | | | | > f | | | | | | | orwarding | | | | | | | > is | | | | | | | > a | | | | | | | pplicable | | | | | | | > | | | | | | | > \- | | | | | | | > False: | | | | | | | > | | | | | | | indirect | | | | | | | > data | | | | | | | > f | | | | | | | orwarding | | | | | | | > is not | | | | | | | > a | | | | | | | pplicable | | +-----------+-----------+---+-----------+-----------+-----------+ | di | boolean | C | 0..1 | The AMF | | | rectForwa | | | | shall | | | rdingFlag | | | | include | | | | | | | this | | | | | | | i | | | | | | | ndication | | | | | | | during | | | | | | | N26 based | | | | | | | Handover | | | | | | | procedure | | | | | | | from EPS | | | | | | | to 5GS | | | | | | | (see | | | | | | | 3GP | | | | | | | P TS 23.5 | | | | | | | 02 [3], | | | | | | | c | | | | | | | lause 4.1 | | | | | | | 1.1.2.2), | | | | | | | to inform | | | | | | | the SMF | | | | | | | of the | | | | | | | appl | | | | | | | icability | | | | | | | or | | | | | | | non-appl | | | | | | | icability | | | | | | | of direct | | | | | | | data | | | | | | | fo | | | | | | | rwarding. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | be set as | | | | | | | follows: | | | | | | | | | | | | | | > \- | | | | | | | > True: | | | | | | | > direct | | | | | | | > data | | | | | | | > f | | | | | | | orwarding | | | | | | | > is | | | | | | | > a | | | | | | | pplicable | | | | | | | > | | | | | | | > \- | | | | | | | > False: | | | | | | | > direct | | | | | | | > data | | | | | | | > f | | | | | | | orwarding | | | | | | | > is not | | | | | | | > a | | | | | | | pplicable | | +-----------+-----------+---+-----------+-----------+-----------+ | targetId | NgRa | C | 0..1 | This IE | | | | nTargetId | | | shall be | | | | | | | present | | | | | | | in the | | | | | | | following | | | | | | | cases: | | | | | | | | | | | | | | > \- | | | | | | | > during | | | | | | | > an EPS | | | | | | | > to 5GS | | | | | | | > | | | | | | | handover | | | | | | | > pr | | | | | | | eparation | | | | | | | > using | | | | | | | > the N26 | | | | | | | > i | | | | | | | nterface, | | | | | | | > when | | | | | | | > the | | | | | | | > hoState | | | | | | | > IE is | | | | | | | > set to | | | | | | | > the | | | | | | | > value | | | | | | | > \"PRE | | | | | | | PARING\"; | | | | | | | > | | | | | | | > \- | | | | | | | > during | | | | | | | > N2 | | | | | | | > based | | | | | | | > | | | | | | | handover | | | | | | | > | | | | | | | procedure | | | | | | | > with | | | | | | | > I-SMF | | | | | | | > or | | | | | | | > V-SMF | | | | | | | > inserti | | | | | | | on/change | | | | | | | /removal, | | | | | | | > when | | | | | | | > hostate | | | | | | | > IE is | | | | | | | > set to | | | | | | | > the | | | | | | | > value | | | | | | | > \"PRE | | | | | | | PARING\". | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | contain | | | | | | | the | | | | | | | Target ID | | | | | | | id | | | | | | | entifying | | | | | | | the | | | | | | | target | | | | | | | RAN Node | | | | | | | ID and | | | | | | | TAI. In | | | | | | | case of | | | | | | | EPS to | | | | | | | 5GS | | | | | | | handover, | | | | | | | the TAI | | | | | | | is | | | | | | | received | | | | | | | in the | | | | | | | Forward | | | | | | | R | | | | | | | elocation | | | | | | | Request | | | | | | | from the | | | | | | | Source | | | | | | | MME. | | +-----------+-----------+---+-----------+-----------+-----------+ | epsBearer | EpsB | C | 0..1 | This IE | | | CtxStatus | earerCont | | | shall be | | | | extStatus | | | present | | | | | | | during an | | | | | | | EPS to | | | | | | | 5GS idle | | | | | | | mode | | | | | | | mobility | | | | | | | using the | | | | | | | N26 | | | | | | | i | | | | | | | nterface, | | | | | | | if | | | | | | | received | | | | | | | in the | | | | | | | Reg | | | | | | | istration | | | | | | | Request | | | | | | | from the | | | | | | | UE. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | be set to | | | | | | | the value | | | | | | | received | | | | | | | from the | | | | | | | UE. | | +-----------+-----------+---+-----------+-----------+-----------+ | cpCi | boolean | C | 0..1 | This IE | CIOT | | otEnabled | | | | shall be | | | | | | | present | | | | | | | with the | | | | | | | value | | | | | | | \"True\", | | | | | | | if | | | | | | | | | | | | | | > \- the | | | | | | | > NF | | | | | | | > service | | | | | | | > | | | | | | | consumer | | | | | | | > (e.g. | | | | | | | > the | | | | | | | > AMF) | | | | | | | > has | | | | | | | > | | | | | | | verified | | | | | | | > that | | | | | | | > the | | | | | | | > CIOT | | | | | | | > feature | | | | | | | > is | | | | | | | > | | | | | | | supported | | | | | | | > by the | | | | | | | > SMF | | | | | | | > (and | | | | | | | > for a | | | | | | | > ho | | | | | | | me-routed | | | | | | | > | | | | | | | session, | | | | | | | > that it | | | | | | | > is also | | | | | | | > | | | | | | | supported | | | | | | | > by the | | | | | | | > H-SMF); | | | | | | | > and | | | | | | | > | | | | | | | > \- | | | | | | | > Control | | | | | | | > Plane | | | | | | | > CIoT | | | | | | | > 5GS | | | | | | | > Opt | | | | | | | imisation | | | | | | | > is | | | | | | | > enabled | | | | | | | > for the | | | | | | | > PDU | | | | | | | > session | | | | | | | | | | | | | | (see | | | | | | | 3GP | | | | | | | P TS 23.5 | | | | | | | 02 [3], | | | | | | | clauses | | | | | | | 4.3.2.2.1 | | | | | | | and | | | | | | | 4. | | | | | | | 3.2.2.2). | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | be set as | | | | | | | follows: | | | | | | | | | | | | | | > \- | | | | | | | > True: | | | | | | | > Control | | | | | | | > Plane | | | | | | | > CIoT | | | | | | | > 5GS | | | | | | | > Opt | | | | | | | imisation | | | | | | | > is | | | | | | | > | | | | | | | enabled. | | | | | | | > | | | | | | | > \- | | | | | | | > False | | | | | | | > ( | | | | | | | default): | | | | | | | > Control | | | | | | | > Plane | | | | | | | > CIoT | | | | | | | > 5GS | | | | | | | > Opt | | | | | | | imisation | | | | | | | > is not | | | | | | | > | | | | | | | enabled. | | +-----------+-----------+---+-----------+-----------+-----------+ | cpOnlyInd | boolean | C | 0..1 | This IE | CIOT | | | | | | shall be | | | | | | | present | | | | | | | with the | | | | | | | value | | | | | | | \"True\", | | | | | | | if the | | | | | | | PDU | | | | | | | session | | | | | | | shall | | | | | | | only use | | | | | | | Control | | | | | | | Plane | | | | | | | CIoT 5GS | | | | | | | Opt | | | | | | | imisation | | | | | | | (see | | | | | | | clause | | | | | | | 5.31.4.1 | | | | | | | of | | | | | | | 3GPP | | | | | | | TS 23.50 | | | | | | | 1 [2]). | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | be set as | | | | | | | follows: | | | | | | | | | | | | | | > \- | | | | | | | > True: | | | | | | | > the PDU | | | | | | | > session | | | | | | | > shall | | | | | | | > only | | | | | | | > use | | | | | | | > Control | | | | | | | > Plane | | | | | | | > CIoT | | | | | | | > 5GS | | | | | | | > Opt | | | | | | | imisation | | | | | | | > | | | | | | | > \- | | | | | | | > False | | | | | | | > ( | | | | | | | default): | | | | | | | > the PDU | | | | | | | > session | | | | | | | > is not | | | | | | | > co | | | | | | | nstrained | | | | | | | > to only | | | | | | | > use | | | | | | | > Control | | | | | | | > Plane | | | | | | | > CIoT | | | | | | | > 5GS | | | | | | | > Opti | | | | | | | misation. | | +-----------+-----------+---+-----------+-----------+-----------+ | invokeNef | boolean | C | 0..1 | This IE | CIOT | | | | | | shall be | | | | | | | present | | | | | | | with the | | | | | | | value | | | | | | | \"True\", | | | | | | | if | | | | | | | Control | | | | | | | Plane | | | | | | | CIoT 5GS | | | | | | | Opt | | | | | | | imisation | | | | | | | is | | | | | | | enabled | | | | | | | and data | | | | | | | delivery | | | | | | | via NEF | | | | | | | is | | | | | | | selected | | | | | | | for the | | | | | | | PDU | | | | | | | session | | | | | | | (see | | | | | | | 3GP | | | | | | | P TS 23.5 | | | | | | | 02 [3], | | | | | | | clause 4. | | | | | | | 3.2.2.2). | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | be set as | | | | | | | follows: | | | | | | | | | | | | | | > \- | | | | | | | > True: | | | | | | | > Data | | | | | | | > | | | | | | | delivery | | | | | | | > via NEF | | | | | | | > is | | | | | | | > | | | | | | | selected. | | | | | | | > | | | | | | | > \- | | | | | | | > False | | | | | | | > ( | | | | | | | default): | | | | | | | > Data | | | | | | | > | | | | | | | delivery | | | | | | | > via NEF | | | | | | | > is not | | | | | | | > | | | | | | | selected. | | +-----------+-----------+---+-----------+-----------+-----------+ | maR | boolean | C | 0..1 | This IE | MAPDU | | equestInd | | | | shall be | | | | | | | present | | | | | | | if a | | | | | | | MA-PDU | | | | | | | session | | | | | | | is | | | | | | | requested | | | | | | | to be | | | | | | | est | | | | | | | ablished. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | be set as | | | | | | | follows: | | | | | | | | | | | | | | > \- | | | | | | | > True: a | | | | | | | > MA-PDU | | | | | | | > session | | | | | | | > is | | | | | | | > | | | | | | | requested | | | | | | | > | | | | | | | > \- | | | | | | | > False | | | | | | | > ( | | | | | | | default): | | | | | | | > a | | | | | | | > MA-PDU | | | | | | | > session | | | | | | | > is not | | | | | | | > | | | | | | | requested | | +-----------+-----------+---+-----------+-----------+-----------+ | maNwU | boolean | C | 0..1 | This IE | MAPDU | | pgradeInd | | | | shall | | | | | | | only be | | | | | | | present | | | | | | | if the | | | | | | | PDU | | | | | | | session | | | | | | | is | | | | | | | allowed | | | | | | | to be | | | | | | | upgraded | | | | | | | to MA PDU | | | | | | | session | | | | | | | (see | | | | | | | clau | | | | | | | se 4.22.3 | | | | | | | of | | | | | | | 3GPP | | | | | | | TS 23.50 | | | | | | | 2 [3]). | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | be set as | | | | | | | follows: | | | | | | | | | | | | | | > \- | | | | | | | > True: | | | | | | | > the PDU | | | | | | | > session | | | | | | | > is | | | | | | | > allowed | | | | | | | > to be | | | | | | | > | | | | | | | upgraded | | | | | | | > to MA | | | | | | | > PDU | | | | | | | > session | | | | | | | > | | | | | | | > \- | | | | | | | > False | | | | | | | > ( | | | | | | | default): | | | | | | | > the PDU | | | | | | | > session | | | | | | | > is not | | | | | | | > allowed | | | | | | | > to be | | | | | | | > | | | | | | | upgraded | | | | | | | > to MA | | | | | | | > PDU | | | | | | | > session | | | | | | | | | | | | | | When | | | | | | | maR | | | | | | | equestInd | | | | | | | is | | | | | | | present | | | | | | | and set | | | | | | | to | | | | | | | \"true\", | | | | | | | this IE | | | | | | | shall not | | | | | | | be | | | | | | | present. | | +-----------+-----------+---+-----------+-----------+-----------+ | n3gPa | boolean | C | 0..1 | This IE | N3GPS | | thSwitchS | | | | shall be | | | upportInd | | | | present | | | | | | | if AMF | | | | | | | supports | | | | | | | non-3GPP | | | | | | | access | | | | | | | path | | | | | | | switching | | | | | | | while | | | | | | | ma | | | | | | | intaining | | | | | | | two N2 | | | | | | | co | | | | | | | nnections | | | | | | | for | | | | | | | non-3GPP | | | | | | | access, | | | | | | | the | | | | | | | selected | | | | | | | SMF | | | | | | | supports | | | | | | | non-3GPP | | | | | | | path | | | | | | | switching | | | | | | | and if | | | | | | | the UE | | | | | | | supports | | | | | | | non-3GPP | | | | | | | access | | | | | | | path | | | | | | | switching | | | | | | | for a | | | | | | | MA-PDU | | | | | | | session. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | be set as | | | | | | | follows: | | | | | | | | | | | | | | > \- | | | | | | | > true: | | | | | | | > | | | | | | | non-3GPP | | | | | | | > access | | | | | | | > path | | | | | | | > | | | | | | | switching | | | | | | | > is | | | | | | | > | | | | | | | supported | | | | | | | > | | | | | | | > \- | | | | | | | > false | | | | | | | > ( | | | | | | | default): | | | | | | | > | | | | | | | non-3GPP | | | | | | | > access | | | | | | | > path | | | | | | | > | | | | | | | switching | | | | | | | > is not | | | | | | | > | | | | | | | supported | | +-----------+-----------+---+-----------+-----------+-----------+ | n2SmInfo | RefToB | C | 0..1 | This IE | DTSSA | | | inaryData | | | shall be | | | | | | | present | | | | | | | if N2 SM | | | | | | | In | | | | | | | formation | | | | | | | needs to | | | | | | | be sent | | | | | | | to the | | | | | | | I-SMF. | | +-----------+-----------+---+-----------+-----------+-----------+ | n2S | N2S | C | 0..1 | This IE | DTSSA | | mInfoType | mInfoType | | | shall be | | | | | | | present | | | | | | | if | | | | | | | \"n | | | | | | | 2SmInfo\" | | | | | | | attribute | | | | | | | is | | | | | | | present. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | indicate | | | | | | | the NG AP | | | | | | | IE type | | | | | | | for the | | | | | | | NG AP SMF | | | | | | | related | | | | | | | IE | | | | | | | container | | | | | | | carried | | | | | | | in | | | | | | | \"n | | | | | | | 2SmInfo\" | | | | | | | a | | | | | | | ttribute. | | +-----------+-----------+---+-----------+-----------+-----------+ | n2S | RefToB | C | 0..1 | This IE | DTSSA | | mInfoExt1 | inaryData | | | shall be | | | | | | | present | | | | | | | if more | | | | | | | than one | | | | | | | N2 SM | | | | | | | In | | | | | | | formation | | | | | | | has been | | | | | | | received | | | | | | | from the | | | | | | | AN. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | reference | | | | | | | the N2 SM | | | | | | | In | | | | | | | formation | | | | | | | binary | | | | | | | data (see | | | | | | | clause 6. | | | | | | | 1.6.4.3). | | +-----------+-----------+---+-----------+-----------+-----------+ | n2SmInf | N2S | C | 0..1 | This IE | DTSSA | | oTypeExt1 | mInfoType | | | shall be | | | | | | | present | | | | | | | if | | | | | | | \"n2SmI | | | | | | | nfoExt1\" | | | | | | | attribute | | | | | | | is | | | | | | | present. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | indicate | | | | | | | the NG AP | | | | | | | IE type | | | | | | | for the | | | | | | | NG AP SMF | | | | | | | related | | | | | | | IE | | | | | | | container | | | | | | | carried | | | | | | | in | | | | | | | \"n2SmI | | | | | | | nfoExt1\" | | | | | | | a | | | | | | | ttribute. | | +-----------+-----------+---+-----------+-----------+-----------+ | smC | Uri | C | 0..1 | This IE | DTSSA | | ontextRef | | | | shall be | | | | | | | present | | | | | | | during an | | | | | | | I-SMF or | | | | | | | V-SMF | | | | | | | insertion | | | | | | | if | | | | | | | available | | | | | | | and | | | | | | | during an | | | | | | | I-SMF or | | | | | | | V-SMF | | | | | | | change or | | | | | | | removal. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | contain | | | | | | | the URI | | | | | | | of the SM | | | | | | | Context | | | | | | | resource | | | | | | | in the | | | | | | | SMF or of | | | | | | | the SM | | | | | | | context | | | | | | | resource | | | | | | | in the | | | | | | | source | | | | | | | I-SMF or | | | | | | | V-SMF | | | | | | | during an | | | | | | | I-SMF or | | | | | | | V-SMF | | | | | | | insertion | | | | | | | or during | | | | | | | an I-SMF | | | | | | | or V-SMF | | | | | | | chang | | | | | | | e/removal | | | | | | | resp | | | | | | | ectively. | | | | | | | The URI | | | | | | | shall be | | | | | | | an | | | | | | | absolute | | | | | | | URI, | | | | | | | including | | | | | | | apiRoot | | | | | | | (see | | | | | | | clause 6. | | | | | | | 1.3.3.2). | | | | | | | | | | | | | | (NOTE 6) | | +-----------+-----------+---+-----------+-----------+-----------+ | smContext | PlmnIdNid | C | 0..1 | This IE | DTSSA | | SmfPlmnId | | | | shall be | | | | | | | present | | | | | | | during an | | | | | | | i | | | | | | | nter-PLMN | | | | | | | mobility | | | | | | | procedure | | | | | | | if the | | | | | | | smC | | | | | | | ontextRef | | | | | | | IE is | | | | | | | present. | | | | | | | It may be | | | | | | | present | | | | | | | o | | | | | | | therwise, | | | | | | | if the | | | | | | | smC | | | | | | | ontextRef | | | | | | | IE is | | | | | | | present. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | carry the | | | | | | | PLMN ID | | | | | | | of the | | | | | | | SMF which | | | | | | | hosts the | | | | | | | SM | | | | | | | Context | | | | | | | resource | | | | | | | i | | | | | | | dentified | | | | | | | by | | | | | | | smC | | | | | | | ontextRef | | | | | | | IE. For | | | | | | | an SNPN, | | | | | | | the NID | | | | | | | together | | | | | | | with the | | | | | | | PLMN ID | | | | | | | shall | | | | | | | identify | | | | | | | the SNPN. | | | | | | | | | | | | | | (NOTE 7) | | +-----------+-----------+---+-----------+-----------+-----------+ | smCon | NfI | O | 0..1 | This IE | DTSSA | | textSmfId | nstanceId | | | may be | | | | | | | present | | | | | | | if | | | | | | | smC | | | | | | | ontextRef | | | | | | | is | | | | | | | present. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | carry the | | | | | | | NF | | | | | | | instance | | | | | | | ID of the | | | | | | | SMF which | | | | | | | hosts the | | | | | | | SM | | | | | | | Context | | | | | | | resource | | | | | | | i | | | | | | | dentified | | | | | | | by | | | | | | | smC | | | | | | | ontextRef | | | | | | | IE. (NOTE | | | | | | | 2) | | +-----------+-----------+---+-----------+-----------+-----------+ | smContex | NfSetId | C | 0..1 | This IE | DTSSA | | tSmfSetId | | | | shall be | | | | | | | present, | | | | | | | if | | | | | | | a | | | | | | | vailable. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | contain | | | | | | | the NF | | | | | | | Set ID of | | | | | | | the old | | | | | | | V-SMF or | | | | | | | the old | | | | | | | I-SMF or | | | | | | | the SMF | | | | | | | as | | | | | | | i | | | | | | | dentified | | | | | | | by the | | | | | | | smCont | | | | | | | extSmfId. | | +-----------+-----------+---+-----------+-----------+-----------+ | smCont | NfSer | C | 0..1 | This IE | DTSSA | | extSmfSer | viceSetId | | | shall be | | | viceSetId | | | | present, | | | | | | | if | | | | | | | a | | | | | | | vailable. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | contain | | | | | | | the NF | | | | | | | Service | | | | | | | Set ID of | | | | | | | the | | | | | | | P | | | | | | | DUSession | | | | | | | service | | | | | | | instance | | | | | | | (for this | | | | | | | S | | | | | | | mContext) | | | | | | | in the | | | | | | | old V-SMF | | | | | | | or the | | | | | | | old I-SMF | | | | | | | or the | | | | | | | SMF. | | +-----------+-----------+---+-----------+-----------+-----------+ | s | SbiBin | C | 0..1 | This IE | DTSSA | | mContextS | dingLevel | | | shall be | | | mfBinding | | | | present, | | | | | | | if | | | | | | | a | | | | | | | vailable. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | contain | | | | | | | the SBI | | | | | | | binding | | | | | | | level of | | | | | | | the SM | | | | | | | context | | | | | | | resource. | | +-----------+-----------+---+-----------+-----------+-----------+ | u | U | C | 0..1 | This IE | DTSSA | | pCnxState | pCnxState | | | shall be | | | | | | | present | | | | | | | to | | | | | | | request | | | | | | | the | | | | | | | a | | | | | | | ctivation | | | | | | | of the | | | | | | | user | | | | | | | plane | | | | | | | c | | | | | | | onnection | | | | | | | of the | | | | | | | PDU | | | | | | | session, | | | | | | | in the | | | | | | | following | | | | | | | cases: | | | | | | | | | | | | | | > \- | | | | | | | > during | | | | | | | > Service | | | | | | | > Request | | | | | | | > | | | | | | | procedure | | | | | | | > with an | | | | | | | > I-SMF | | | | | | | > | | | | | | | insertion | | | | | | | > / | | | | | | | > change | | | | | | | > / | | | | | | | > | | | | | | | removal, | | | | | | | > or with | | | | | | | > a V-SMF | | | | | | | > change | | | | | | | > (see | | | | | | | > | | | | | | | clause 5. | | | | | | | 2.2.2.6); | | | | | | | > | | | | | | | > \- | | | | | | | > during | | | | | | | > Reg | | | | | | | istration | | | | | | | > | | | | | | | procedure | | | | | | | > with an | | | | | | | > I-SMF | | | | | | | > | | | | | | | insertion | | | | | | | > / | | | | | | | > change | | | | | | | > / | | | | | | | > | | | | | | | removal, | | | | | | | > or with | | | | | | | > a V-SMF | | | | | | | > | | | | | | | insertion | | | | | | | > / | | | | | | | > change | | | | | | | > / | | | | | | | > removal | | | | | | | > (see | | | | | | | > | | | | | | | clause 5. | | | | | | | 2.2.2.7), | | | | | | | > if this | | | | | | | > PDU | | | | | | | > session | | | | | | | > is | | | | | | | > | | | | | | | requested | | | | | | | > to be | | | | | | | > | | | | | | | activated | | | | | | | > by the | | | | | | | > UE. | | +-----------+-----------+---+-----------+-----------+-----------+ | s | S | C | 0..1 | This IE | CIOT | | mallDataR | mallDataR | | | shall be | | | ateStatus | ateStatus | | | present | | | | | | | if the | | | | | | | small | | | | | | | data rate | | | | | | | control | | | | | | | status is | | | | | | | available | | | | | | | in AMF, | | | | | | | see | | | | | | | clause | | | | | | | 5.31.14.3 | | | | | | | of 3GPP | | | | | | | TS 23. | | | | | | | 501 [2] | | | | | | | and | | | | | | | clause | | | | | | | 4.3.2.2.1 | | | | | | | of | | | | | | | 3GP | | | | | | | P TS 23.5 | | | | | | | 02 [3]. | | +-----------+-----------+---+-----------+-----------+-----------+ | apnR | ApnR | C | 0..1 | This IE | CIOT | | ateStatus | ateStatus | | | shall be | | | | | | | present | | | | | | | if the | | | | | | | APN rate | | | | | | | control | | | | | | | status is | | | | | | | available | | | | | | | in AMF, | | | | | | | see | | | | | | | claus | | | | | | | e 4.7.7.3 | | | | | | | in | | | | | | | 3GP | | | | | | | P TS 23.4 | | | | | | | 01 [33] | | | | | | | and | | | | | | | clause | | | | | | | 5.2.8.2.5 | | | | | | | in | | | | | | | 3GP | | | | | | | P TS 23.5 | | | | | | | 02 [3]. | | +-----------+-----------+---+-----------+-----------+-----------+ | ext | boolean | C | 0..1 | This IE | CIOT | | endedNasS | | | | shall be | | | mTimerInd | | | | present | | | | | | | with the | | | | | | | value | | | | | | | \"True\" | | | | | | | if the UE | | | | | | | supports | | | | | | | CE mode B | | | | | | | and use | | | | | | | of CE | | | | | | | mode B is | | | | | | | not | | | | | | | r | | | | | | | estricted | | | | | | | according | | | | | | | to the | | | | | | | Enhanced | | | | | | | Coverage | | | | | | | Re | | | | | | | striction | | | | | | | in | | | | | | | formation | | | | | | | in the UE | | | | | | | context | | | | | | | in the | | | | | | | AMF. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | indicate | | | | | | | whether | | | | | | | extended | | | | | | | NAS SM | | | | | | | timers | | | | | | | shall be | | | | | | | used for | | | | | | | the UE as | | | | | | | specified | | | | | | | in | | | | | | | 3GP | | | | | | | P TS 24.5 | | | | | | | 01 [7], | | | | | | | as | | | | | | | follows: | | | | | | | | | | | | | | > \- | | | | | | | > True: | | | | | | | > | | | | | | | extended | | | | | | | > NAS SM | | | | | | | > timers | | | | | | | > shall | | | | | | | > be used | | | | | | | > | | | | | | | > \- | | | | | | | > False | | | | | | | > ( | | | | | | | default): | | | | | | | > normal | | | | | | | > NAS SM | | | | | | | > timers | | | | | | | > shall | | | | | | | > be | | | | | | | > used. | | +-----------+-----------+---+-----------+-----------+-----------+ | dlDataW | boolean | C | 0..1 | This IE | CIOT | | aitingInd | | | | shall be | | | | | | | present | | | | | | | during an | | | | | | | EPS to | | | | | | | 5GS Idle | | | | | | | mode | | | | | | | mobility | | | | | | | using N26 | | | | | | | interface | | | | | | | with data | | | | | | | f | | | | | | | orwarding | | | | | | | (see | | | | | | | clause 4. | | | | | | | 11.1.3.3A | | | | | | | of | | | | | | | 3GPP | | | | | | | TS 23.50 | | | | | | | 2 [3]), | | | | | | | if the | | | | | | | same | | | | | | | i | | | | | | | ndication | | | | | | | is | | | | | | | received | | | | | | | from the | | | | | | | MME in | | | | | | | the | | | | | | | Context | | | | | | | Response | | | | | | | message. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | be set as | | | | | | | follows: | | | | | | | | | | | | | | - true: | | | | | | | DL data | | | | | | | needs to | | | | | | | be sent | | | | | | | to the | | | | | | | UE; | | | | | | | | | | | | | | - false | | | | | | | ( | | | | | | | default): | | | | | | | no DL | | | | | | | data | | | | | | | needs to | | | | | | | be sent | | | | | | | to the | | | | | | | UE. | | +-----------+-----------+---+-----------+-----------+-----------+ | ddnFa | DdnFa | C | 0..1 | This IE | CIOT | | ilureSubs | ilureSubs | | | shall be | | | | | | | present | | | | | | | to | | | | | | | subscribe | | | | | | | the | | | | | | | not | | | | | | | ification | | | | | | | of the | | | | | | | DDN | | | | | | | Failure | | | | | | | if the | | | | | | | Ava | | | | | | | ilability | | | | | | | after DDN | | | | | | | failure | | | | | | | event is | | | | | | | s | | | | | | | ubscribed | | | | | | | by the | | | | | | | UDM, see | | | | | | | clause 4 | | | | | | | .15.3.2.7 | | | | | | | of | | | | | | | 3GP | | | | | | | P TS 23.5 | | | | | | | 02 [3]. | | +-----------+-----------+---+-----------+-----------+-----------+ | smfTr | boolean | C | 0..1 | This IE | CTXTR | | ansferInd | | | | shall be | | | | | | | present | | | | | | | during an | | | | | | | SMF | | | | | | | Context | | | | | | | Transfer | | | | | | | p | | | | | | | rocedure, | | | | | | | LBO or no | | | | | | | Roaming, | | | | | | | no I-SMF. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | be set as | | | | | | | follows: | | | | | | | | | | | | | | > \- | | | | | | | > True: | | | | | | | > SMF | | | | | | | > Context | | | | | | | > | | | | | | | Transfer | | | | | | | > | | | | | | | > \- | | | | | | | > False | | | | | | | > ( | | | | | | | default): | | | | | | | > Not an | | | | | | | > SMF | | | | | | | > Context | | | | | | | > | | | | | | | Transfer | | +-----------+-----------+---+-----------+-----------+-----------+ | oldSmfId | NfI | C | 0..1 | This IE | CTXTR | | | nstanceId | | | shall be | | | | | | | present | | | | | | | if | | | | | | | smfTr | | | | | | | ansferInd | | | | | | | is set to | | | | | | | true. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | indicate | | | | | | | old SMF | | | | | | | instance | | | | | | | id | | | | | | | entifier. | | +-----------+-----------+---+-----------+-----------+-----------+ | oldSmC | Uri | C | 0..1 | This IE | CTXTR | | ontextRef | | | | shall be | | | | | | | present | EnEDGE | | | | | | if | | | | | | | smfTr | | | | | | | ansferInd | | | | | | | is set to | | | | | | | true. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | contain | | | | | | | the | | | | | | | i | | | | | | | dentifier | | | | | | | of the SM | | | | | | | Context | | | | | | | resource | | | | | | | in the | | | | | | | old SMF. | | | | | | | | | | | | | | This IE | | | | | | | shall | | | | | | | also be | | | | | | | present, | | | | | | | without | | | | | | | smfTr | | | | | | | ansferInd | | | | | | | set, if | | | | | | | this | | | | | | | in | | | | | | | formation | | | | | | | was | | | | | | | received | | | | | | | earlier | | | | | | | in Notify | | | | | | | SM | | | | | | | Context | | | | | | | Status, | | | | | | | see | | | | | | | claus | | | | | | | e 4.3.5.2 | | | | | | | of | | | | | | | 3GP | | | | | | | P TS 23.5 | | | | | | | 02 [3]. | | +-----------+-----------+---+-----------+-----------+-----------+ | wAgfInfo | WAgfInfo | C | 0..1 | This IE | | | | | | | shall be | | | | | | | present, | | | | | | | if | | | | | | | received | | | | | | | from the | | | | | | | W-AGF. | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | contain | | | | | | | in | | | | | | | formation | | | | | | | about the | | | | | | | N3 | | | | | | | ter | | | | | | | minations | | | | | | | of the | | | | | | | W-AGF. | | | | | | | The SMF | | | | | | | may use | | | | | | | this | | | | | | | in | | | | | | | formation | | | | | | | when | | | | | | | selecting | | | | | | | the UPF. | | +-----------+-----------+---+-----------+-----------+-----------+ | tngfInfo | tngfInfo | C | 0..1 | This IE | | | | | | | shall be | | | | | | | present, | | | | | | | if | | | | | | | received | | | | | | | from the | | | | | | | TNGF. | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | contain | | | | | | | in | | | | | | | formation | | | | | | | about the | | | | | | | N3 | | | | | | | ter | | | | | | | minations | | | | | | | of the | | | | | | | TNGF. The | | | | | | | SMF may | | | | | | | use this | | | | | | | in | | | | | | | formation | | | | | | | when | | | | | | | selecting | | | | | | | the UPF. | | +-----------+-----------+---+-----------+-----------+-----------+ | twifInfo | twifInfo | C | 0..1 | This IE | | | | | | | shall be | | | | | | | present, | | | | | | | if | | | | | | | received | | | | | | | from the | | | | | | | TWIF. | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | contain | | | | | | | in | | | | | | | formation | | | | | | | about the | | | | | | | N3 | | | | | | | ter | | | | | | | minations | | | | | | | of the | | | | | | | TWIF. The | | | | | | | SMF may | | | | | | | use this | | | | | | | in | | | | | | | formation | | | | | | | when | | | | | | | selecting | | | | | | | the UPF. | | +-----------+-----------+---+-----------+-----------+-----------+ | ranUnc | boolean | C | 0..1 | This IE | DTSSA | | hangedInd | | | | shall be | | | | | | | present | | | | | | | if the | | | | | | | NG-RAN is | | | | | | | not | | | | | | | changed | | | | | | | in case | | | | | | | of | | | | | | | I- | | | | | | | SMF/V-SMF | | | | | | | change or | | | | | | | insertion | | | | | | | during | | | | | | | CM- | | | | | | | CONNECTED | | | | | | | reg | | | | | | | istration | | | | | | | procedure | | | | | | | after EPS | | | | | | | to 5GS | | | | | | | handover | | | | | | | (see | | | | | | | clause 5 | | | | | | | .2.2.2.7) | | | | | | | or I-SMF | | | | | | | selection | | | | | | | per DNAI | | | | | | | (see | | | | | | | c | | | | | | | lause 5.2 | | | | | | | .2.2.12). | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | be set as | | | | | | | follows: | | | | | | | | | | | | | | - true: | | | | | | | NG-RAN is | | | | | | | not | | | | | | | changed; | | | | | | | | | | | | | | - false: | | | | | | | NG-RAN is | | | | | | | changed. | | +-----------+-----------+---+-----------+-----------+-----------+ | s | boolean | C | 0..1 | This IE | | | amePcfSel | | | | shall be | | | ectionInd | | | | present, | | | | | | | if the | | | | | | | AMF | | | | | | | received | | | | | | | the PCF | | | | | | | Selection | | | | | | | A | | | | | | | ssistance | | | | | | | info from | | | | | | | the UDM | | | | | | | i | | | | | | | ndicating | | | | | | | that the | | | | | | | same PCF | | | | | | | is | | | | | | | required. | | | | | | | (NOTE 4) | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | be set as | | | | | | | follows: | | | | | | | | | | | | | | > \- | | | | | | | > True: | | | | | | | > the SMF | | | | | | | > is | | | | | | | > | | | | | | | indicated | | | | | | | > to | | | | | | | > select | | | | | | | > the | | | | | | | > same | | | | | | | > PCF | | | | | | | > | | | | | | | instance | | | | | | | > for the | | | | | | | > PDU | | | | | | | > | | | | | | | session. | | | | | | | > | | | | | | | > \- | | | | | | | > False | | | | | | | > ( | | | | | | | default): | | | | | | | > the SMF | | | | | | | > is not | | | | | | | > | | | | | | | indicated | | | | | | | > to | | | | | | | > select | | | | | | | > the | | | | | | | > same | | | | | | | > PCF | | | | | | | > | | | | | | | instance | | | | | | | > for the | | | | | | | > PDU | | | | | | | > | | | | | | | session. | | +-----------+-----------+---+-----------+-----------+-----------+ | t | Dnai | C | 0..1 | This IE | EnEDGE | | argetDnai | | | | shall be | | | | | | | present, | | | | | | | if this | | | | | | | in | | | | | | | formation | | | | | | | was | | | | | | | received | | | | | | | earlier | | | | | | | in Notify | | | | | | | SM | | | | | | | Context | | | | | | | Status. | | | | | | | I-SMF or | | | | | | | SMF shall | | | | | | | use this | | | | | | | in | | | | | | | formation | | | | | | | for I-UPF | | | | | | | / L-PSA / | | | | | | | PSA | | | | | | | s | | | | | | | election, | | | | | | | see | | | | | | | clauses | | | | | | | 4.3.5.1, | | | | | | | 4.3.5.2 | | | | | | | or | | | | | | | 4.23.5.4 | | | | | | | of | | | | | | | 3GP | | | | | | | P TS 23.5 | | | | | | | 02 [3]. | | +-----------+-----------+---+-----------+-----------+-----------+ | nrfMana | Uri | C | 0..1 | If | | | gementUri | | | | included, | | | | | | | this IE | | | | | | | shall | | | | | | | contain | | | | | | | the API | | | | | | | URI of | | | | | | | the | | | | | | | NFM | | | | | | | anagement | | | | | | | Service | | | | | | | (see | | | | | | | cla | | | | | | | use 6.1.1 | | | | | | | of | | | | | | | 3GPP | | | | | | | TS 29.51 | | | | | | | 0 [19]) | | | | | | | of the | | | | | | | NRF or | | | | | | | hNRF. | | | | | | | | | | | | | | It shall | | | | | | | be | | | | | | | present | | | | | | | during | | | | | | | the PDU | | | | | | | session | | | | | | | esta | | | | | | | blishment | | | | | | | procedure | | | | | | | with an | | | | | | | I- | | | | | | | SMF/V-SMF | | | | | | | or | | | | | | | mobility | | | | | | | procedure | | | | | | | with | | | | | | | I- | | | | | | | SMF/V-SMF | | | | | | | insertio | | | | | | | n/change, | | | | | | | if it is | | | | | | | returned | | | | | | | from the | | | | | | | NSSF or | | | | | | | hNSSF | | | | | | | (see | | | | | | | clause | | | | | | | 6.1.6.2.7 | | | | | | | of | | | | | | | 3GPP | | | | | | | TS 29.531 | | | | | | | [40]). | | +-----------+-----------+---+-----------+-----------+-----------+ | nrfDis | Uri | C | 0..1 | If | | | coveryUri | | | | included, | | | | | | | this IE | | | | | | | shall | | | | | | | contain | | | | | | | the API | | | | | | | URI of | | | | | | | the | | | | | | | NF | | | | | | | Discovery | | | | | | | Service | | | | | | | (see | | | | | | | cla | | | | | | | use 6.2.1 | | | | | | | of | | | | | | | 3GPP | | | | | | | TS 29.51 | | | | | | | 0 [19]) | | | | | | | of the | | | | | | | NRF or | | | | | | | hNRF. | | | | | | | | | | | | | | It shall | | | | | | | be | | | | | | | present | | | | | | | during | | | | | | | the PDU | | | | | | | session | | | | | | | esta | | | | | | | blishment | | | | | | | procedure | | | | | | | with an | | | | | | | I- | | | | | | | SMF/V-SMF | | | | | | | or | | | | | | | mobility | | | | | | | procedure | | | | | | | with | | | | | | | I- | | | | | | | SMF/V-SMF | | | | | | | insertio | | | | | | | n/change, | | | | | | | if it is | | | | | | | returned | | | | | | | from the | | | | | | | NSSF or | | | | | | | hNSSF | | | | | | | (see | | | | | | | clause | | | | | | | 6.1.6.2.7 | | | | | | | of | | | | | | | 3GPP | | | | | | | TS 29.531 | | | | | | | [40]). | | +-----------+-----------+---+-----------+-----------+-----------+ | nrfAcces | Uri | C | 0..1 | If | | | sTokenUri | | | | included, | | | | | | | this IE | | | | | | | shall | | | | | | | contain | | | | | | | the API | | | | | | | URI of | | | | | | | the | | | | | | | Access | | | | | | | Token | | | | | | | Service | | | | | | | (see | | | | | | | cla | | | | | | | use 6.3.2 | | | | | | | of | | | | | | | 3GPP | | | | | | | TS 29.51 | | | | | | | 0 [19]) | | | | | | | of the | | | | | | | NRF or | | | | | | | hNRF. | | | | | | | | | | | | | | It shall | | | | | | | be | | | | | | | present | | | | | | | during | | | | | | | the PDU | | | | | | | session | | | | | | | esta | | | | | | | blishment | | | | | | | procedure | | | | | | | with an | | | | | | | I- | | | | | | | SMF/V-SMF | | | | | | | or | | | | | | | mobility | | | | | | | procedure | | | | | | | with | | | | | | | I- | | | | | | | SMF/V-SMF | | | | | | | insertio | | | | | | | n/change, | | | | | | | if it is | | | | | | | returned | | | | | | | from the | | | | | | | NSSF or | | | | | | | hNSSF | | | | | | | (see | | | | | | | clause | | | | | | | 6.1.6.2.7 | | | | | | | of | | | | | | | 3GPP | | | | | | | TS 29.531 | | | | | | | [40]). | | +-----------+-----------+---+-----------+-----------+-----------+ | nrfOauth | map | C | 1..N | This IE | | | 2Required | (boolean) | | | should be | | | | | | | present | | | | | | | if the | | | | | | | nrfUri | | | | | | | IE, | | | | | | | nrfMana | | | | | | | gementUri | | | | | | | IE or | | | | | | | nrfDis | | | | | | | coveryUri | | | | | | | IE is | | | | | | | present | | | | | | | and if | | | | | | | the | | | | | | | in | | | | | | | formation | | | | | | | is | | | | | | | a | | | | | | | vailable. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | indicate | | | | | | | whether | | | | | | | the NRF | | | | | | | requires | | | | | | | Oau | | | | | | | th2-based | | | | | | | auth | | | | | | | orization | | | | | | | for | | | | | | | accessing | | | | | | | its | | | | | | | services. | | | | | | | The key | | | | | | | of the | | | | | | | map shall | | | | | | | be the | | | | | | | name of | | | | | | | an NRF | | | | | | | service, | | | | | | | e.g. | | | | | | | \"n | | | | | | | nrf-nfm\" | | | | | | | or | | | | | | | \"nnr | | | | | | | f-disc\". | | | | | | | | | | | | | | The value | | | | | | | of each | | | | | | | entry of | | | | | | | the map | | | | | | | shall be | | | | | | | encoded | | | | | | | as | | | | | | | follows: | | | | | | | | | | | | | | - true: | | | | | | | OAuth2 | | | | | | | based | | | | | | | auth | | | | | | | orization | | | | | | | is | | | | | | | required. | | | | | | | | | | | | | | - false: | | | | | | | OAuth2 | | | | | | | based | | | | | | | auth | | | | | | | orization | | | | | | | is not | | | | | | | required. | | | | | | | | | | | | | | The | | | | | | | absence | | | | | | | of this | | | | | | | IE means | | | | | | | that no | | | | | | | i | | | | | | | ndication | | | | | | | is | | | | | | | available | | | | | | | about the | | | | | | | usage of | | | | | | | Oauth2 | | | | | | | for | | | | | | | auth | | | | | | | orization | | | | | | | of NRF | | | | | | | services. | | +-----------+-----------+---+-----------+-----------+-----------+ | smfBi | string | C | 0..1 | This IE | DTSSA | | ndingInfo | | | | shall be | | | | | | | present, | | | | | | | if | | | | | | | a | | | | | | | vailable. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | contain | | | | | | | the | | | | | | | Binding | | | | | | | in | | | | | | | dications | | | | | | | of the SM | | | | | | | context | | | | | | | resource | | | | | | | and shall | | | | | | | be set to | | | | | | | the value | | | | | | | of the | | | | | | | 3gpp-Sb | | | | | | | i-Binding | | | | | | | header | | | | | | | defined | | | | | | | in | | | | | | | clause | | | | | | | 5.2.3.2.6 | | | | | | | of | | | | | | | 3GP | | | | | | | P TS 29.5 | | | | | | | 00 [4], | | | | | | | without | | | | | | | the | | | | | | | header | | | | | | | name. | | +-----------+-----------+---+-----------+-----------+-----------+ | pvsInfo | array(Ser | C | 1..N | This IE | ENPN | | | verAddres | | | shall be | | | | singInfo) | | | present, | | | | | | | if the | | | | | | | AMF | | | | | | | received | | | | | | | this | | | | | | | in | | | | | | | formation | | | | | | | from AUSF | | | | | | | during | | | | | | | User | | | | | | | Plane | | | | | | | Remote | | | | | | | Pro | | | | | | | visioning | | | | | | | of UEs | | | | | | | procedure | | | | | | | (see | | | | | | | clause 5. | | | | | | | 30.2.10.4 | | | | | | | of | | | | | | | 3GPP | | | | | | | TS 23.501 | | | | | | | [40]). | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | contain | | | | | | | the | | | | | | | remote | | | | | | | Pro | | | | | | | visioning | | | | | | | Server(s) | | | | | | | inf | | | | | | | ormation. | | +-----------+-----------+---+-----------+-----------+-----------+ | onbo | boolean | C | 0..1 | This IE | ENPN | | ardingInd | | | | shall be | | | | | | | present, | | | | | | | if the UE | | | | | | | is | | | | | | | r | | | | | | | egistered | | | | | | | for | | | | | | | o | | | | | | | nboarding | | | | | | | in an | | | | | | | SNPN (see | | | | | | | clause 5. | | | | | | | 30.2.10.4 | | | | | | | in | | | | | | | 3GP | | | | | | | P TS 23.5 | | | | | | | 01 [40] | | | | | | | and | | | | | | | clause | | | | | | | 4.2.2.2.4 | | | | | | | in | | | | | | | 3GPP | | | | | | | TS 23.50 | | | | | | | 2 [3]). | | | | | | | | | | | | | | - false | | | | | | | ( | | | | | | | default): | | | | | | | The UE is | | | | | | | not | | | | | | | r | | | | | | | egistered | | | | | | | in an | | | | | | | SNPN for | | | | | | | the | | | | | | | purpose | | | | | | | of | | | | | | | on | | | | | | | boarding; | | | | | | | | | | | | | | - true: | | | | | | | The UE | | | | | | | has | | | | | | | r | | | | | | | egistered | | | | | | | in the | | | | | | | SNPN for | | | | | | | the | | | | | | | purpose | | | | | | | of | | | | | | | on | | | | | | | boarding. | | +-----------+-----------+---+-----------+-----------+-----------+ | oldPduS | Uri | C | 0..1 | This IE | EnEDGE | | essionRef | | | | shall be | | | | | | | present | | | | | | | if this | | | | | | | in | | | | | | | formation | | | | | | | was | | | | | | | received | | | | | | | earlier | | | | | | | in Notify | | | | | | | SM | | | | | | | Context | | | | | | | Status, | | | | | | | see | | | | | | | claus | | | | | | | e 4.3.5.2 | | | | | | | of | | | | | | | 3GP | | | | | | | P TS 23.5 | | | | | | | 02 [3]. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | contain | | | | | | | the URI | | | | | | | of the | | | | | | | PDU | | | | | | | session | | | | | | | resource | | | | | | | in the | | | | | | | old SMF. | | | | | | | The URI | | | | | | | shall be | | | | | | | an | | | | | | | absolute | | | | | | | URI, | | | | | | | including | | | | | | | apiRoot | | | | | | | (see | | | | | | | clause 6. | | | | | | | 1.3.6.2). | | +-----------+-----------+---+-----------+-----------+-----------+ | smPolicy | boolean | O | 0..1 | When | SPAE | | NotifyInd | | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | indicate | | | | | | | whether | | | | | | | the SM | | | | | | | Policy | | | | | | | As | | | | | | | sociation | | | | | | | Esta | | | | | | | blishment | | | | | | | and | | | | | | | Te | | | | | | | rmination | | | | | | | events | | | | | | | shall be | | | | | | | reported | | | | | | | for the | | | | | | | PDU | | | | | | | session | | | | | | | by the | | | | | | | PCF for | | | | | | | the SM | | | | | | | Policy to | | | | | | | the PCF | | | | | | | for the | | | | | | | UE: | | | | | | | | | | | | | | - true: | | | | | | | SM Policy | | | | | | | As | | | | | | | sociation | | | | | | | Esta | | | | | | | blishment | | | | | | | and | | | | | | | Te | | | | | | | rmination | | | | | | | events | | | | | | | shall be | | | | | | | reported | | | | | | | | | | | | | | - false | | | | | | | ( | | | | | | | default): | | | | | | | SM Policy | | | | | | | As | | | | | | | sociation | | | | | | | Esta | | | | | | | blishment | | | | | | | and | | | | | | | Te | | | | | | | rmination | | | | | | | events is | | | | | | | not | | | | | | | required | | | | | | | | | | | | | | (NOTE 5) | | +-----------+-----------+---+-----------+-----------+-----------+ | pcfUeCal | PcfUeCal | C | 0..1 | This IE | SPAE | | lbackInfo | lbackInfo | | | shall be | | | | | | | present | | | | | | | when the | | | | | | | smPolicy | | | | | | | NotifyInd | | | | | | | IE is | | | | | | | present | | | | | | | with | | | | | | | value | | | | | | | true. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | contain | | | | | | | the | | | | | | | callback | | | | | | | in | | | | | | | formation | | | | | | | of the | | | | | | | PCF for | | | | | | | the UE to | | | | | | | receive | | | | | | | SM Policy | | | | | | | As | | | | | | | sociation | | | | | | | Esta | | | | | | | blishment | | | | | | | and | | | | | | | Te | | | | | | | rmination | | | | | | | events | | | | | | | not | | | | | | | ification | | | | | | | from the | | | | | | | PCF for | | | | | | | the SM | | | | | | | Policy. | | | | | | | (NOTE 5) | | +-----------+-----------+---+-----------+-----------+-----------+ | sa | Satelli | O | 0..1 | This IE | 5GSAT | | telliteBa | teBackhau | | | may be | | | ckhaulCat | lCategory | | | present | | | | | | | if the | | | | | | | AMF | | | | | | | supports | | | | | | | the 5GSAT | | | | | | | feature | | | | | | | and the | | | | | | | AMF is | | | | | | | aware | | | | | | | that | | | | | | | there is | | | | | | | a | | | | | | | satellite | | | | | | | backhaul | | | | | | | towards | | | | | | | the 5G AN | | | | | | | serving | | | | | | | the UE. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | indicate | | | | | | | the | | | | | | | category | | | | | | | of the | | | | | | | satellite | | | | | | | backhaul | | | | | | | used | | | | | | | towards | | | | | | | the 5G AN | | | | | | | serving | | | | | | | the UE. | | +-----------+-----------+---+-----------+-----------+-----------+ | upip | boolean | C | 0..1 | This IE | UPIPE | | Supported | | | | shall be | | | | | | | present | | | | | | | during | | | | | | | the PDU | | | | | | | session | | | | | | | esta | | | | | | | blishment | | | | | | | p | | | | | | | rocedure, | | | | | | | if the UE | | | | | | | supports | | | | | | | User | | | | | | | Plane | | | | | | | Integrity | | | | | | | P | | | | | | | rotection | | | | | | | with EPS | | | | | | | and if | | | | | | | the AMF | | | | | | | supports | | | | | | | the | | | | | | | related | | | | | | | funct | | | | | | | ionality. | | | | | | | It may be | | | | | | | present | | | | | | | o | | | | | | | therwise. | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | shall be | | | | | | | set as | | | | | | | follows: | | | | | | | | | | | | | | > \- | | | | | | | > true: | | | | | | | > User | | | | | | | > Plane | | | | | | | > | | | | | | | Integrity | | | | | | | > P | | | | | | | rotection | | | | | | | > with | | | | | | | > EPS is | | | | | | | > s | | | | | | | upported; | | | | | | | > | | | | | | | > \- | | | | | | | > false | | | | | | | > ( | | | | | | | default): | | | | | | | > User | | | | | | | > Plane | | | | | | | > | | | | | | | Integrity | | | | | | | > P | | | | | | | rotection | | | | | | | > with | | | | | | | > EPS is | | | | | | | > not | | | | | | | > s | | | | | | | upported. | | +-----------+-----------+---+-----------+-----------+-----------+ | uavAuth | boolean | C | 0..1 | This IE | | | enticated | | | | shall be | | | | | | | present | | | | | | | during | | | | | | | the PDU | | | | | | | session | | | | | | | esta | | | | | | | blishment | | | | | | | p | | | | | | | rocedure, | | | | | | | if the | | | | | | | UAV has | | | | | | | been | | | | | | | auth | | | | | | | enticated | | | | | | | by the | | | | | | | USS for | | | | | | | the | | | | | | | requested | | | | | | | DNN | | | | | | | subject | | | | | | | to aerial | | | | | | | services. | | | | | | | It may be | | | | | | | present | | | | | | | o | | | | | | | therwise. | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | shall be | | | | | | | set as | | | | | | | follows: | | | | | | | | | | | | | | > \- | | | | | | | > true: | | | | | | | > UAV has | | | | | | | > been | | | | | | | > auth | | | | | | | enticated | | | | | | | > by the | | | | | | | > USS; | | | | | | | > | | | | | | | > \- | | | | | | | > false: | | | | | | | > UAV has | | | | | | | > not | | | | | | | > been | | | | | | | > auth | | | | | | | enticated | | | | | | | > by the | | | | | | | > USS. | | | | | | | | | | | | | | If both | | | | | | | the | | | | | | | requested | | | | | | | DNN (i.e. | | | | | | | dnn IE) | | | | | | | and | | | | | | | selected | | | | | | | DNN (i.e. | | | | | | | selected | | | | | | | Dnn IE) | | | | | | | are | | | | | | | present, | | | | | | | the | | | | | | | uavAuth | | | | | | | enticated | | | | | | | shall be | | | | | | | related | | | | | | | to the | | | | | | | selected | | | | | | | DNN. | | +-----------+-----------+---+-----------+-----------+-----------+ | disasterR | boolean | O | 0..1 | This IE | | | oamingInd | | | | may be | | | | | | | set | | | | | | | during | | | | | | | the PDU | | | | | | | session | | | | | | | estab | | | | | | | lishment. | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | shall be | | | | | | | set as | | | | | | | follows: | | | | | | | | | | | | | | > \- | | | | | | | > true: | | | | | | | > the UE | | | | | | | > is | | | | | | | > r | | | | | | | egistered | | | | | | | > for | | | | | | | > | | | | | | | Disaster | | | | | | | > Roaming | | | | | | | > service | | | | | | | > | | | | | | | > \- | | | | | | | > false | | | | | | | > ( | | | | | | | default): | | | | | | | > the UE | | | | | | | > is not | | | | | | | > r | | | | | | | egistered | | | | | | | > for | | | | | | | > | | | | | | | Disaster | | | | | | | > Roaming | | | | | | | > service | | +-----------+-----------+---+-----------+-----------+-----------+ | ancho | boolean | O | 0..1 | When | | | rSmfOauth | | | | present, | | | 2Required | | | | this IE | | | | | | | shall | | | | | | | indicate | | | | | | | whether | | | | | | | the H-SMF | | | | | | | or SMF | | | | | | | for a PDU | | | | | | | session | | | | | | | with an | | | | | | | I-SMF | | | | | | | requires | | | | | | | Oau | | | | | | | th2-based | | | | | | | auth | | | | | | | orization | | | | | | | for | | | | | | | accessing | | | | | | | its | | | | | | | Nsmf_P | | | | | | | DUSession | | | | | | | service. | | | | | | | | | | | | | | - true: | | | | | | | OAuth2 | | | | | | | based | | | | | | | auth | | | | | | | orization | | | | | | | is | | | | | | | required. | | | | | | | | | | | | | | - false: | | | | | | | OAuth2 | | | | | | | based | | | | | | | auth | | | | | | | orization | | | | | | | is not | | | | | | | required. | | | | | | | | | | | | | | The | | | | | | | absence | | | | | | | of this | | | | | | | IE means | | | | | | | that no | | | | | | | i | | | | | | | ndication | | | | | | | is | | | | | | | available | | | | | | | about the | | | | | | | usage of | | | | | | | Oauth2 | | | | | | | for | | | | | | | auth | | | | | | | orization | | | | | | | of the | | | | | | | anchor | | | | | | | SMF\'s | | | | | | | Nsmf_P | | | | | | | DUSession | | | | | | | service. | | | | | | | | | | | | | | (NOTE 2) | | +-----------+-----------+---+-----------+-----------+-----------+ | smContex | boolean | O | 0..1 | This IE | | | tSmfOauth | | | | may be | | | 2Required | | | | present | | | | | | | during an | | | | | | | I-SMF | | | | | | | i | | | | | | | nsertion, | | | | | | | change or | | | | | | | removal. | | | | | | | This IE | | | | | | | may be | | | | | | | present | | | | | | | when | | | | | | | V-SMF | | | | | | | changes | | | | | | | within | | | | | | | the same | | | | | | | PLMN. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | indicate | | | | | | | whether | | | | | | | the SMF | | | | | | | hosting | | | | | | | the SM | | | | | | | Context | | | | | | | requires | | | | | | | Oau | | | | | | | th2-based | | | | | | | auth | | | | | | | orization | | | | | | | for | | | | | | | accessing | | | | | | | its | | | | | | | Nsmf_P | | | | | | | DUSession | | | | | | | service. | | | | | | | | | | | | | | - true: | | | | | | | OAuth2 | | | | | | | based | | | | | | | auth | | | | | | | orization | | | | | | | is | | | | | | | required. | | | | | | | | | | | | | | - false: | | | | | | | OAuth2 | | | | | | | based | | | | | | | auth | | | | | | | orization | | | | | | | is not | | | | | | | required. | | | | | | | | | | | | | | The | | | | | | | absence | | | | | | | of this | | | | | | | IE means | | | | | | | that no | | | | | | | i | | | | | | | ndication | | | | | | | is | | | | | | | available | | | | | | | about the | | | | | | | usage of | | | | | | | Oauth2 | | | | | | | for | | | | | | | auth | | | | | | | orization | | | | | | | of the | | | | | | | Nsmf_P | | | | | | | DUSession | | | | | | | service | | | | | | | on the | | | | | | | SMF | | | | | | | hosting | | | | | | | the SM | | | | | | | Context. | | | | | | | | | | | | | | (NOTE 2) | | +-----------+-----------+---+-----------+-----------+-----------+ | geoSa | GeoSa | O | 0..1 | The AMF | 5GSATB | | telliteId | telliteId | | | may | | | | | | | include | | | | | | | this IE | | | | | | | during a | | | | | | | PDU | | | | | | | Session | | | | | | | Esta | | | | | | | blishment | | | | | | | procedure | | | | | | | (see | | | | | | | clause | | | | | | | 4.3.2.2.1 | | | | | | | of | | | | | | | 3GPP | | | | | | | TS 23.50 | | | | | | | 2 [3]). | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | contain a | | | | | | | GEO | | | | | | | satellite | | | | | | | ID. | | +-----------+-----------+---+-----------+-----------+-----------+ | hrsboA | boolean | O | 0..1 | This IE | HR-SBO | | llowedInd | | | | may be | | | | | | | present | | | | | | | in HR | | | | | | | roaming | | | | | | | s | | | | | | | cenarios. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | Indicate | | | | | | | whether | | | | | | | Session | | | | | | | Breakout | | | | | | | for HR | | | | | | | Session | | | | | | | in VPLMN | | | | | | | is | | | | | | | allowed: | | | | | | | | | | | | | | - true: | | | | | | | Allowed. | | | | | | | | | | | | | | - false | | | | | | | ( | | | | | | | default): | | | | | | | Not | | | | | | | allowed. | | +-----------+-----------+---+-----------+-----------+-----------+ | NOTE 1: | | | | | | | In shared | | | | | | | networks, | | | | | | | when the | | | | | | | message | | | | | | | is sent | | | | | | | from the | | | | | | | VPLMN to | | | | | | | the | | | | | | | HPLMN, | | | | | | | the PLMN | | | | | | | ID that | | | | | | | is | | | | | | | com | | | | | | | municated | | | | | | | in this | | | | | | | IE shall | | | | | | | be that | | | | | | | of the | | | | | | | selected | | | | | | | Core | | | | | | | Network | | | | | | | O | | | | | | | perator.\ | | | | | | | In shared | | | | | | | networks, | | | | | | | when the | | | | | | | AMF and | | | | | | | SMF | | | | | | | pertain | | | | | | | to the | | | | | | | same | | | | | | | PLMN, the | | | | | | | Primary | | | | | | | PLMN ID | | | | | | | shall be | | | | | | | com | | | | | | | municated | | | | | | | in the | | | | | | | ECGI or | | | | | | | NCGI to | | | | | | | the SMF. | | | | | | | The Core | | | | | | | Network | | | | | | | Operator | | | | | | | PLMN ID | | | | | | | shall be | | | | | | | com | | | | | | | municated | | | | | | | in the | | | | | | | TAI and | | | | | | | the | | | | | | | Serving | | | | | | | Network. | | | | | | | | | | | | | | NOTE 2: | | | | | | | If the | | | | | | | SMF is | | | | | | | aware | | | | | | | that | | | | | | | Oauth is | | | | | | | enabled | | | | | | | for the | | | | | | | indicated | | | | | | | next hop | | | | | | | SMF, e.g. | | | | | | | when the | | | | | | | ancho | | | | | | | rSmfOauth | | | | | | | 2Required | | | | | | | IE and/or | | | | | | | the | | | | | | | smContex | | | | | | | tSmfOauth | | | | | | | 2Required | | | | | | | IE are | | | | | | | received | | | | | | | with the | | | | | | | value | | | | | | | true or | | | | | | | when | | | | | | | received | | | | | | | a \"401 | | | | | | | Unaut | | | | | | | horized\" | | | | | | | response | | | | | | | code from | | | | | | | next hop | | | | | | | SMF, the | | | | | | | SMF shall | | | | | | | use the | | | | | | | NF | | | | | | | instance | | | | | | | I | | | | | | | dentifier | | | | | | | to | | | | | | | acquire | | | | | | | the | | | | | | | access | | | | | | | token for | | | | | | | the | | | | | | | Nsmf_P | | | | | | | duSession | | | | | | | service | | | | | | | on the | | | | | | | indicated | | | | | | | SMF. | | | | | | | | | | | | | | NOTE 3: | | | | | | | If | | | | | | | present, | | | | | | | this | | | | | | | attribute | | | | | | | shall be | | | | | | | used | | | | | | | together | | | | | | | with | | | | | | | routingI | | | | | | | ndicator. | | | | | | | This | | | | | | | attribute | | | | | | | is only | | | | | | | used by | | | | | | | the HPLMN | | | | | | | in | | | | | | | roaming | | | | | | | s | | | | | | | cenarios. | | | | | | | | | | | | | | NOTE 4: | | | | | | | If | | | | | | | present, | | | | | | | this | | | | | | | attribute | | | | | | | shall be | | | | | | | used | | | | | | | together | | | | | | | with the | | | | | | | PCF ID | | | | | | | received | | | | | | | from the | | | | | | | AMF for | | | | | | | selecting | | | | | | | the same | | | | | | | PCF | | | | | | | instance | | | | | | | for the | | | | | | | PDU | | | | | | | session. | | | | | | | | | | | | | | NOTE 5: | | | | | | | If the | | | | | | | AMF has | | | | | | | received | | | | | | | the | | | | | | | callback | | | | | | | in | | | | | | | formation | | | | | | | of the | | | | | | | PCF for | | | | | | | the UE | | | | | | | together | | | | | | | with the | | | | | | | in | | | | | | | formation | | | | | | | of the | | | | | | | PDU | | | | | | | sessions | | | | | | | (i.e. | | | | | | | Slice and | | | | | | | DNN | | | | | | | com | | | | | | | bination) | | | | | | | that are | | | | | | | a | | | | | | | pplicable | | | | | | | for | | | | | | | not | | | | | | | ification | | | | | | | of SM | | | | | | | Policy | | | | | | | As | | | | | | | sociation | | | | | | | events, | | | | | | | the AMF | | | | | | | shall | | | | | | | identify | | | | | | | whether | | | | | | | the | | | | | | | no | | | | | | | n-roaming | | | | | | | or local | | | | | | | breakout | | | | | | | PDU | | | | | | | session | | | | | | | to be | | | | | | | created | | | | | | | is | | | | | | | a | | | | | | | pplicable | | | | | | | for SM | | | | | | | Policy | | | | | | | As | | | | | | | sociation | | | | | | | events, | | | | | | | i.e, | | | | | | | whether | | | | | | | the slice | | | | | | | and DNN | | | | | | | co | | | | | | | mbination | | | | | | | of the | | | | | | | PDU | | | | | | | session | | | | | | | is listed | | | | | | | in the | | | | | | | received | | | | | | | PDU | | | | | | | session | | | | | | | in | | | | | | | formation | | | | | | | from the | | | | | | | PCF for | | | | | | | the UE. | | | | | | | If the | | | | | | | PDU | | | | | | | session | | | | | | | is | | | | | | | a | | | | | | | pplicable | | | | | | | for | | | | | | | not | | | | | | | ification | | | | | | | of SM | | | | | | | Policy | | | | | | | As | | | | | | | sociation | | | | | | | events, | | | | | | | the AMF | | | | | | | shall | | | | | | | include | | | | | | | the | | | | | | | smPolicy | | | | | | | NotifyInd | | | | | | | IE with | | | | | | | the value | | | | | | | \"true\" | | | | | | | and the | | | | | | | callback | | | | | | | in | | | | | | | formation | | | | | | | of the | | | | | | | PCF for | | | | | | | the UE in | | | | | | | the | | | | | | | request. | | | | | | | The SMF | | | | | | | shall | | | | | | | forward | | | | | | | the | | | | | | | callback | | | | | | | in | | | | | | | formation | | | | | | | of the | | | | | | | PCF for | | | | | | | the UE to | | | | | | | the PCF | | | | | | | for SM | | | | | | | Policy | | | | | | | during SM | | | | | | | Policy | | | | | | | As | | | | | | | sociation | | | | | | | Estab | | | | | | | lishment. | | | | | | | See | | | | | | | clause | | | | | | | 4.3.2.2.1 | | | | | | | of | | | | | | | 3GP | | | | | | | P TS 23.5 | | | | | | | 02 [3]. | | | | | | | | | | | | | | NOTE 6: | | | | | | | See NOTE | | | | | | | 2 of | | | | | | | Table 6.1 | | | | | | | .6.2.3-1. | | | | | | | | | | | | | | NOTE 7: | | | | | | | If the | | | | | | | PLMN ID | | | | | | | of the | | | | | | | SMF | | | | | | | holding | | | | | | | the SM | | | | | | | context | | | | | | | received | | | | | | | in | | | | | | | smContext | | | | | | | SmfPlmnId | | | | | | | attribute | | | | | | | is | | | | | | | different | | | | | | | from the | | | | | | | PLMN ID | | | | | | | of the | | | | | | | target | | | | | | | V-SMF/I-S | | | | | | | MF/anchor | | | | | | | SMF, the | | | | | | | target | | | | | | | V-SMF/I-S | | | | | | | MF/anchor | | | | | | | SMF shall | | | | | | | retrieve | | | | | | | the SM | | | | | | | Context | | | | | | | from the | | | | | | | SMF via | | | | | | | the SEPP. | | | | | | | In this | | | | | | | case, the | | | | | | | smContext | | | | | | | SmfPlmnId | | | | | | | attribute | | | | | | | may also | | | | | | | be used | | | | | | | for the | | | | | | | discovery | | | | | | | and | | | | | | | selection | | | | | | | of the | | | | | | | local | | | | | | | SEPP. | | | | | | | | | | | | | | NOTE 8: | | | | | | | The | | | | | | | smfUri | | | | | | | and | | | | | | | hSmfUri | | | | | | | a | | | | | | | ttributes | | | | | | | need not | | | | | | | be | | | | | | | included | | | | | | | in Create | | | | | | | SM | | | | | | | Context | | | | | | | request | | | | | | | in | | | | | | | p | | | | | | | rocedures | | | | | | | other | | | | | | | than PDU | | | | | | | session | | | | | | | esta | | | | | | | blishment | | | | | | | procedure | | | | | | | and EPS | | | | | | | to 5GS | | | | | | | mobility | | | | | | | p | | | | | | | rocedures | | | | | | | if the NF | | | | | | | Service | | | | | | | Consumer | | | | | | | (e.g. | | | | | | | AMF) and | | | | | | | I- | | | | | | | SMF/V-SMF | | | | | | | support | | | | | | | the | | | | | | | \"ACSCR\" | | | | | | | feature. | | | | | | | See | | | | | | | clau | | | | | | | se 6.1.8. | | | | | | +-----------+-----------+---+-----------+-----------+-----------+
##### 6.1.6.2.3 Type: SmContextCreatedData
Table 6.1.6.2.3-1: Definition of type SmContextCreatedData
+-----------+-----------+---+-----------+-----------+-----------+ | Attribute | Data type | P | Ca | De | Appl | | name | | | rdinality | scription | icability | +===========+===========+===+===========+===========+===========+ | hsmfUri | Uri | C | 0..1 | This IE | | | | | | | shall be | | | | | | | present | | | | | | | in HR | | | | | | | roaming | | | | | | | scenarios | | | | | | | if the | | | | | | | addition | | | | | | | alHsmfUri | | | | | | | IE was | | | | | | | received | | | | | | | in the | | | | | | | request | | | | | | | and the | | | | | | | V-SMF | | | | | | | es | | | | | | | tablished | | | | | | | the PDU | | | | | | | session | | | | | | | towards | | | | | | | an | | | | | | | al | | | | | | | ternative | | | | | | | SMF | | | | | | | listed in | | | | | | | the | | | | | | | addition | | | | | | | alHsmfUri | | | | | | | IE. When | | | | | | | present, | | | | | | | it shall | | | | | | | contain | | | | | | | the API | | | | | | | URI of | | | | | | | the H-SMF | | | | | | | towards | | | | | | | which the | | | | | | | PDU | | | | | | | session | | | | | | | was | | | | | | | est | | | | | | | ablished. | | | | | | | The API | | | | | | | URI shall | | | | | | | be | | | | | | | formatted | | | | | | | as | | | | | | | specified | | | | | | | in | | | | | | | clau | | | | | | | se 6.1.1. | | +-----------+-----------+---+-----------+-----------+-----------+ | smfUri | Uri | C | 0..1 | This IE | DTSSA | | | | | | shall be | | | | | | | present | | | | | | | for a PDU | | | | | | | session | | | | | | | with an | | | | | | | I-SMF, if | | | | | | | the | | | | | | | additio | | | | | | | nalSmfUri | | | | | | | IE was | | | | | | | received | | | | | | | in the | | | | | | | request | | | | | | | and the | | | | | | | I-SMF | | | | | | | es | | | | | | | tablished | | | | | | | the PDU | | | | | | | session | | | | | | | towards | | | | | | | an | | | | | | | al | | | | | | | ternative | | | | | | | SMF | | | | | | | listed in | | | | | | | the | | | | | | | additio | | | | | | | nalSmfUri | | | | | | | IE. When | | | | | | | present, | | | | | | | it shall | | | | | | | contain | | | | | | | the API | | | | | | | URI of | | | | | | | the SMF | | | | | | | towards | | | | | | | which the | | | | | | | PDU | | | | | | | session | | | | | | | was | | | | | | | est | | | | | | | ablished. | | | | | | | The API | | | | | | | URI shall | | | | | | | be | | | | | | | formatted | | | | | | | as | | | | | | | specified | | | | | | | in | | | | | | | clau | | | | | | | se 6.1.1. | | +-----------+-----------+---+-----------+-----------+-----------+ | pdu | Pdu | C | 0..1 | This IE | | | SessionId | SessionId | | | shall be | | | | | | | present, | | | | | | | during an | | | | | | | EPS to | | | | | | | 5GS Idle | | | | | | | mode | | | | | | | mobility | | | | | | | or | | | | | | | handover | | | | | | | using the | | | | | | | N26 | | | | | | | i | | | | | | | nterface. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | be set to | | | | | | | the PDU | | | | | | | Session | | | | | | | ID. | | +-----------+-----------+---+-----------+-----------+-----------+ | sNssai | Snssai | C | 0..1 | This IE | | | | | | | shall be | | | | | | | present | | | | | | | during an | | | | | | | EPS to | | | | | | | 5GS Idle | | | | | | | mode | | | | | | | mobility | | | | | | | or | | | | | | | handover | | | | | | | using the | | | | | | | N26 | | | | | | | i | | | | | | | nterface. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | contain | | | | | | | the | | | | | | | S-NSSAI | | | | | | | assigned | | | | | | | to the | | | | | | | PDU | | | | | | | session. | | | | | | | | | | | | | | In | | | | | | | Ho | | | | | | | me-Routed | | | | | | | roaming | | | | | | | case, | | | | | | | this IE | | | | | | | shall | | | | | | | contain | | | | | | | the | | | | | | | S-NSSAI | | | | | | | for home | | | | | | | PLMN. | | +-----------+-----------+---+-----------+-----------+-----------+ | additio | Snssai | C | 0..1 | This IE | | | nalSnssai | | | | shall be | | | | | | | present | | | | | | | during an | | | | | | | EPS to | | | | | | | 5GS Idle | | | | | | | mode | | | | | | | mobility | | | | | | | or | | | | | | | handover | | | | | | | using the | | | | | | | N26 | | | | | | | interface | | | | | | | for LBO | | | | | | | roaming | | | | | | | case. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | indicate | | | | | | | the | | | | | | | a | | | | | | | ssociated | | | | | | | S-NSSAI | | | | | | | in HPLMN | | | | | | | for the | | | | | | | PDU | | | | | | | Session. | | +-----------+-----------+---+-----------+-----------+-----------+ | u | U | C | 0..1 | This IE | | | pCnxState | pCnxState | | | shall be | | | | | | | present | | | | | | | if the | | | | | | | SMF was | | | | | | | requested | | | | | | | to | | | | | | | activate | | | | | | | the user | | | | | | | plane | | | | | | | c | | | | | | | onnection | | | | | | | of the | | | | | | | PDU | | | | | | | session | | | | | | | in the | | | | | | | corr | | | | | | | esponding | | | | | | | request. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | be set as | | | | | | | specified | | | | | | | in | | | | | | | clauses | | | | | | | 5 | | | | | | | .2.2.2.2, | | | | | | | 5.2.2.2.6 | | | | | | | or | | | | | | | 5 | | | | | | | .2.2.2.7. | | +-----------+-----------+---+-----------+-----------+-----------+ | n2SmInfo | RefToB | C | 0..1 | This IE | | | | inaryData | | | shall be | | | | | | | present | | | | | | | if N2 SM | | | | | | | In | | | | | | | formation | | | | | | | needs to | | | | | | | be sent | | | | | | | to the | | | | | | | AN. | | +-----------+-----------+---+-----------+-----------+-----------+ | n2S | N2S | C | 0..1 | This IE | | | mInfoType | mInfoType | | | shall be | | | | | | | present | | | | | | | if | | | | | | | \"n | | | | | | | 2SmInfo\" | | | | | | | attribute | | | | | | | is | | | | | | | present. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | indicate | | | | | | | the NG AP | | | | | | | IE type | | | | | | | for the | | | | | | | NG AP SMF | | | | | | | related | | | | | | | IE | | | | | | | container | | | | | | | carried | | | | | | | in | | | | | | | \"n | | | | | | | 2SmInfo\" | | | | | | | a | | | | | | | ttribute. | | +-----------+-----------+---+-----------+-----------+-----------+ | allocat | ar | C | 1..N | This IE | | | edEbiList | ray(EbiAr | | | shall be | | | | pMapping) | | | present | | | | | | | if the | | | | | | | consumer | | | | | | | NF is an | | | | | | | AMF and | | | | | | | Int | | | | | | | er-system | | | | | | | mobility | | | | | | | happens. | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | contain | | | | | | | an array | | | | | | | of EBI to | | | | | | | ARP | | | | | | | mappings | | | | | | | currently | | | | | | | allocated | | | | | | | to the | | | | | | | PDU | | | | | | | session. | | +-----------+-----------+---+-----------+-----------+-----------+ | hoState | HoState | C | 0..1 | This IE | | | | | | | shall be | | | | | | | present | | | | | | | if the | | | | | | | SMF was | | | | | | | requested | | | | | | | to | | | | | | | prepare | | | | | | | an EPS to | | | | | | | 5GS | | | | | | | handover | | | | | | | for the | | | | | | | PDU | | | | | | | session | | | | | | | in the | | | | | | | corr | | | | | | | esponding | | | | | | | request. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | be set as | | | | | | | specified | | | | | | | in | | | | | | | clause 5 | | | | | | | .2.2.2.3. | | +-----------+-----------+---+-----------+-----------+-----------+ | gpsi | Gpsi | C | 0..1 | This IE | | | | | | | shall be | | | | | | | present | | | | | | | if no | | | | | | | GPSI IE | | | | | | | is | | | | | | | provided | | | | | | | in the | | | | | | | request, | | | | | | | e.g. for | | | | | | | a PDU | | | | | | | session | | | | | | | moved | | | | | | | from | | | | | | | another | | | | | | | access or | | | | | | | another | | | | | | | system, | | | | | | | and the | | | | | | | SMF knows | | | | | | | that a | | | | | | | GPSI is | | | | | | | already | | | | | | | a | | | | | | | ssociated | | | | | | | with the | | | | | | | PDU | | | | | | | session | | | | | | | (or a | | | | | | | GPSI is | | | | | | | received | | | | | | | from | | | | | | | h-SMF for | | | | | | | a HR PDU | | | | | | | session). | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | contain | | | | | | | the | | | | | | | user\'s | | | | | | | GPSI | | | | | | | a | | | | | | | ssociated | | | | | | | with the | | | | | | | PDU | | | | | | | session. | | +-----------+-----------+---+-----------+-----------+-----------+ | sm | string | O | 0..1 | When | | | fServiceI | | | | present, | | | nstanceId | | | | this IE | | | | | | | shall | | | | | | | contain | | | | | | | the | | | | | | | serviceI | | | | | | | nstanceId | | | | | | | of the | | | | | | | SMF | | | | | | | P | | | | | | | DUSession | | | | | | | service | | | | | | | instance | | | | | | | serving | | | | | | | the SM | | | | | | | Context, | | | | | | | i.e. of: | | | | | | | | | | | | | | - the | | | | | | | I-SMF, | | | | | | | for a PDU | | | | | | | session | | | | | | | with | | | | | | | I-SMF; | | | | | | | | | | | | | | - the | | | | | | | V-SMF, | | | | | | | for a HR | | | | | | | PDU | | | | | | | session; | | | | | | | or | | | | | | | | | | | | | | - the | | | | | | | SMF, for | | | | | | | a | | | | | | | no | | | | | | | n-roaming | | | | | | | or an LBO | | | | | | | roaming | | | | | | | PDU | | | | | | | session | | | | | | | without | | | | | | | I-SMF. | | | | | | | | | | | | | | This IE | | | | | | | may be | | | | | | | used by | | | | | | | the AMF | | | | | | | to | | | | | | | identify | | | | | | | PDU | | | | | | | session | | | | | | | contexts | | | | | | | affected | | | | | | | by a | | | | | | | failure | | | | | | | or | | | | | | | restart | | | | | | | of the | | | | | | | SMF | | | | | | | service | | | | | | | instance | | | | | | | (see | | | | | | | c | | | | | | | lause 6.2 | | | | | | | of | | | | | | | 3GPP | | | | | | | TS 23.527 | | | | | | | [24]). | | +-----------+-----------+---+-----------+-----------+-----------+ | rec | DateTime | O | 0..1 | Timestamp | | | overyTime | | | | when the | | | | | | | SMF | | | | | | | service | | | | | | | instance | | | | | | | serving | | | | | | | the PDU | | | | | | | session | | | | | | | was | | | | | | | (r | | | | | | | e)started | | | | | | | (see | | | | | | | c | | | | | | | lause 6.3 | | | | | | | of | | | | | | | 3GPP | | | | | | | TS 23.527 | | | | | | | [24]). | | +-----------+-----------+---+-----------+-----------+-----------+ | supporte | Supporte | C | 0..1 | This IE | | | dFeatures | dFeatures | | | shall be | | | | | | | present | | | | | | | if at | | | | | | | least one | | | | | | | optional | | | | | | | feature | | | | | | | defined | | | | | | | in | | | | | | | cla | | | | | | | use 6.1.8 | | | | | | | is | | | | | | | s | | | | | | | upported. | | +-----------+-----------+---+-----------+-----------+-----------+ | sele | NfI | C | 0..1 | This IE | DTSSA | | ctedSmfId | nstanceId | | | shall be | | | | | | | present | | | | | | | if a new | | | | | | | (h)SMF is | | | | | | | selected | | | | | | | e.g. by | | | | | | | the new | | | | | | | I/V-SMF, | | | | | | | or a SCP | | | | | | | between | | | | | | | the new | | | | | | | I/V-SMF | | | | | | | and the | | | | | | | (h)SMF. | | | | | | | (NOTE 1) | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | contain | | | | | | | the | | | | | | | selected | | | | | | | SMF NF | | | | | | | Instance | | | | | | | Id. | | +-----------+-----------+---+-----------+-----------+-----------+ | selecte | NfI | C | 0..1 | This IE | DTSSA | | dOldSmfId | nstanceId | | | shall be | | | | | | | present | | | | | | | if | | | | | | | another | | | | | | | old | | | | | | | I | | | | | | | /V-SMF(as | | | | | | | al | | | | | | | ternative | | | | | | | to the | | | | | | | old | | | | | | | I/V-SMF) | | | | | | | is | | | | | | | selected, | | | | | | | e.g. by | | | | | | | the new | | | | | | | I/V-SMF, | | | | | | | anchor | | | | | | | SMF or a | | | | | | | SCP | | | | | | | between | | | | | | | the new | | | | | | | I/V-SMF | | | | | | | and the | | | | | | | old | | | | | | | I/V-SMF. | | | | | | | (NOTE 1) | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | contain | | | | | | | the | | | | | | | selected | | | | | | | old | | | | | | | I/V-SMF | | | | | | | NF | | | | | | | Instance | | | | | | | Id. | | +-----------+-----------+---+-----------+-----------+-----------+ | interPl | Uri | C | 0..1 | This IE | | | mnApiRoot | | | | should be | | | | | | | present | | | | | | | if the | | | | | | | PDU | | | | | | | session | | | | | | | may be | | | | | | | subject | | | | | | | to | | | | | | | i | | | | | | | nter-PLMN | | | | | | | mobility | | | | | | | and | | | | | | | different | | | | | | | SM | | | | | | | context | | | | | | | URIs | | | | | | | shall be | | | | | | | used for | | | | | | | i | | | | | | | ntra-PLMN | | | | | | | and | | | | | | | i | | | | | | | nter-PLMN | | | | | | | signaling | | | | | | | requests | | | | | | | targeting | | | | | | | the SM | | | | | | | context. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | contain | | | | | | | the | | | | | | | apiRoot | | | | | | | of the SM | | | | | | | context | | | | | | | to be | | | | | | | used in | | | | | | | i | | | | | | | nter-PLMN | | | | | | | s | | | | | | | ignalling | | | | | | | request | | | | | | | targeting | | | | | | | the SM | | | | | | | context. | | | | | | | | | | | | | | (NOTE 2) | | +-----------+-----------+---+-----------+-----------+-----------+ | u | NfGroupId | O | 0..1 | This IE | | | dmGroupId | | | | may be | | | | | | | present | | | | | | | during an | | | | | | | EPS to | | | | | | | 5GS | | | | | | | handover | | | | | | | using the | | | | | | | N26 | | | | | | | interface | | | | | | | p | | | | | | | rocedure. | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | indicate | | | | | | | the | | | | | | | identity | | | | | | | of the | | | | | | | UDM group | | | | | | | serving | | | | | | | the UE. | | +-----------+-----------+---+-----------+-----------+-----------+ | p | NfGroupId | O | 0..1 | This IE | | | cfGroupId | | | | may be | | | | | | | present | | | | | | | during an | | | | | | | EPS to | | | | | | | 5GS | | | | | | | handover | | | | | | | using the | | | | | | | N26 | | | | | | | interface | | | | | | | p | | | | | | | rocedure. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | contain | | | | | | | the | | | | | | | identity | | | | | | | of the | | | | | | | (home) | | | | | | | PCF group | | | | | | | serving | | | | | | | the PDU | | | | | | | session | | | | | | | for | | | | | | | Session | | | | | | | M | | | | | | | anagement | | | | | | | policy. | | +-----------+-----------+---+-----------+-----------+-----------+ | NOTE 1: | | | | | | | During an | | | | | | | SmContext | | | | | | | Creation | | | | | | | p | | | | | | | rocedure, | | | | | | | e.g. for | | | | | | | I-SMF | | | | | | | insertion | | | | | | | or I-SMF | | | | | | | change | | | | | | | p | | | | | | | rocedure, | | | | | | | when the | | | | | | | new | | | | | | | I/V-SMF | | | | | | | attempts | | | | | | | to | | | | | | | contact | | | | | | | the old | | | | | | | I/V-SMF | | | | | | | or (h)SMF | | | | | | | by | | | | | | | invoking | | | | | | | Nsmf_P | | | | | | | DUSession | | | | | | | _Context | | | | | | | Request, | | | | | | | if a new | | | | | | | (h)SMF | | | | | | | and/or | | | | | | | another | | | | | | | old | | | | | | | I/V-SMF | | | | | | | has been | | | | | | | re | | | | | | | -selected | | | | | | | (since | | | | | | | the old | | | | | | | I/V-SMF | | | | | | | or the | | | | | | | (h)SMF is | | | | | | | not | | | | | | | r | | | | | | | eachable) | | | | | | | by the | | | | | | | new | | | | | | | I-/V-SMF | | | | | | | or a SCP, | | | | | | | the | | | | | | | selected | | | | | | | old | | | | | | | I-/V-SMF | | | | | | | and/or | | | | | | | (h)SMF | | | | | | | shall be | | | | | | | returned | | | | | | | to the | | | | | | | AMF, in | | | | | | | order to | | | | | | | perform | | | | | | | potential | | | | | | | s | | | | | | | ubsequent | | | | | | | o | | | | | | | perations | | | | | | | on the | | | | | | | SMF | | | | | | | hosting | | | | | | | the | | | | | | | resource, | | | | | | | e.g. to | | | | | | | release | | | | | | | the SM | | | | | | | Context | | | | | | | on old | | | | | | | I-/V-SMF, | | | | | | | or to | | | | | | | create SM | | | | | | | Context | | | | | | | on SMF | | | | | | | when the | | | | | | | I/V-SMF | | | | | | | needs to | | | | | | | be | | | | | | | removed. | | | | | | | | | | | | | | NOTE 2: | | | | | | | The SM | | | | | | | Context | | | | | | | URI | | | | | | | returned | | | | | | | in the | | | | | | | Location | | | | | | | header in | | | | | | | the | | | | | | | Create SM | | | | | | | Context | | | | | | | response | | | | | | | shall | | | | | | | contain | | | | | | | an URI | | | | | | | suitable | | | | | | | for use | | | | | | | in | | | | | | | i | | | | | | | ntra-PLMN | | | | | | | signaling | | | | | | | requests | | | | | | | targeting | | | | | | | the SM | | | | | | | Context. | | | | | | | During an | | | | | | | i | | | | | | | nter-PLMN | | | | | | | mobility, | | | | | | | the | | | | | | | target | | | | | | | AMF shall | | | | | | | replace | | | | | | | the | | | | | | | apiRoot | | | | | | | of the | | | | | | | smC | | | | | | | ontextRef | | | | | | | with the | | | | | | | interPl | | | | | | | mnApiRoot | | | | | | | if | | | | | | | available | | | | | | | and send | | | | | | | the | | | | | | | resulting | | | | | | | smC | | | | | | | ontextRef | | | | | | | in the | | | | | | | Create SM | | | | | | | Context | | | | | | | request | | | | | | | towards | | | | | | | the | | | | | | | target | | | | | | | V-SMF, | | | | | | | I-SMF or | | | | | | | anchor | | | | | | | SMF. | | | | | | +-----------+-----------+---+-----------+-----------+-----------+
##### 6.1.6.2.4 Type: SmContextUpdateData
Table 6.1.6.2.4-1: Definition of type SmContextUpdateData
+-----------+-----------+---+-----------+-----------+-----------+ | Attribute | Data type | P | Ca | De | Appl | | name | | | rdinality | scription | icability | +===========+===========+===+===========+===========+===========+ | pei | Pei | C | 0..1 | This IE | | | | | | | shall be | | | | | | | present | | | | | | | if it is | | | | | | | available | | | | | | | and has | | | | | | | not been | | | | | | | provided | | | | | | | earlier | | | | | | | to the | | | | | | | SMF. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | contain | | | | | | | the | | | | | | | permanent | | | | | | | equipment | | | | | | | id | | | | | | | entifier. | | +-----------+-----------+---+-----------+-----------+-----------+ | se | NfI | C | 0..1 | This IE | | | rvingNfId | nstanceId | | | shall be | | | | | | | present | | | | | | | upon | | | | | | | inter-AMF | | | | | | | change or | | | | | | | mobility, | | | | | | | or upon a | | | | | | | N2 | | | | | | | handover | | | | | | | execution | | | | | | | with AMF | | | | | | | change. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | contain | | | | | | | the | | | | | | | i | | | | | | | dentifier | | | | | | | of the | | | | | | | serving | | | | | | | NF (e.g. | | | | | | | AMF). | | +-----------+-----------+---+-----------+-----------+-----------+ | smContext | Uri | C | 0..1 | This IE | | | StatusUri | | | | shall be | | | | | | | present | | | | | | | if the | | | | | | | se | | | | | | | rvingNfId | | | | | | | IE is | | | | | | | present. | | | | | | | It may be | | | | | | | present | | | | | | | o | | | | | | | therwise. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | include | | | | | | | the | | | | | | | callback | | | | | | | URI to | | | | | | | receive | | | | | | | not | | | | | | | ification | | | | | | | of SM | | | | | | | context | | | | | | | status. | | +-----------+-----------+---+-----------+-----------+-----------+ | guami | Guami | C | 0..1 | This IE | | | | | | | shall be | | | | | | | present | | | | | | | if the | | | | | | | se | | | | | | | rvingNfId | | | | | | | of AMF is | | | | | | | present. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | contain | | | | | | | the | | | | | | | serving | | | | | | | AMF\'s | | | | | | | GUAMI. | | +-----------+-----------+---+-----------+-----------+-----------+ | servi | PlmnIdNid | C | 0..1 | This IE | | | ngNetwork | | | | shall be | | | | | | | present | | | | | | | if the | | | | | | | se | | | | | | | rvingNfId | | | | | | | IE is | | | | | | | present. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | contain | | | | | | | the | | | | | | | serving | | | | | | | core | | | | | | | network | | | | | | | operator | | | | | | | PLMN ID | | | | | | | and, for | | | | | | | an SNPN, | | | | | | | the NID | | | | | | | that | | | | | | | together | | | | | | | with the | | | | | | | PLMN ID | | | | | | | i | | | | | | | dentifies | | | | | | | the SNPN. | | +-----------+-----------+---+-----------+-----------+-----------+ | back | ar | C | 1..N | This IE | | | upAmfInfo | ray(Backu | | | shall be | | | | pAmfInfo) | | | included | | | | | | | for the | | | | | | | mod | | | | | | | ification | | | | | | | of the | | | | | | | Back | | | | | | | upAmfInfo | | | | | | | if the NF | | | | | | | service | | | | | | | consumer | | | | | | | is an AMF | | | | | | | and the | | | | | | | AMF | | | | | | | supports | | | | | | | the AMF | | | | | | | m | | | | | | | anagement | | | | | | | without | | | | | | | UDSF. | | | | | | | | | | | | | | For | | | | | | | deleting | | | | | | | the | | | | | | | backu | | | | | | | pAmfInfo, | | | | | | | it shall | | | | | | | contain | | | | | | | the Null | | | | | | | value. | | +-----------+-----------+---+-----------+-----------+-----------+ | anType | A | C | 0..1 | This IE | | | | ccessType | | | shall be | | | | | | | present | | | | | | | upon a | | | | | | | change of | | | | | | | the | | | | | | | Access | | | | | | | Network | | | | | | | Type | | | | | | | a | | | | | | | ssociated | | | | | | | to the | | | | | | | PDU | | | | | | | session, | | | | | | | e.g. | | | | | | | during a | | | | | | | handover | | | | | | | of the | | | | | | | PDU | | | | | | | session | | | | | | | between | | | | | | | 3GPP | | | | | | | access | | | | | | | and | | | | | | | untrusted | | | | | | | non-3GPP | | | | | | | access | | | | | | | (see | | | | | | | cl | | | | | | | ause 5.2. | | | | | | | 2.3.5.2). | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | indicate | | | | | | | the | | | | | | | Access | | | | | | | Network | | | | | | | Type to | | | | | | | which the | | | | | | | PDU | | | | | | | session | | | | | | | is to be | | | | | | | as | | | | | | | sociated. | | +-----------+-----------+---+-----------+-----------+-----------+ | additio | A | C | 0..1 | This IE | MAPDU | | nalAnType | ccessType | | | shall | | | | | | | indicate | | | | | | | the | | | | | | | a | | | | | | | dditional | | | | | | | Access | | | | | | | Network | | | | | | | Type to | | | | | | | which the | | | | | | | PDU | | | | | | | session | | | | | | | is to be | | | | | | | as | | | | | | | sociated. | | | | | | | | | | | | | | This IE | | | | | | | shall be | | | | | | | present | | | | | | | when the | | | | | | | UE | | | | | | | requests | | | | | | | to | | | | | | | establish | | | | | | | resources | | | | | | | for MA | | | | | | | PDU | | | | | | | session | | | | | | | over the | | | | | | | other | | | | | | | access. | | +-----------+-----------+---+-----------+-----------+-----------+ | anTypeToR | A | C | 0..1 | This IE | MAPDU | | eactivate | ccessType | | | shall | | | | | | | indicate | | | | | | | the | | | | | | | Access | | | | | | | Network | | | | | | | Type for | | | | | | | which the | | | | | | | UP | | | | | | | c | | | | | | | onnection | | | | | | | is | | | | | | | requested | | | | | | | to be | | | | | | | re-a | | | | | | | ctivated, | | | | | | | for a MA | | | | | | | PDU | | | | | | | session. | | +-----------+-----------+---+-----------+-----------+-----------+ | ratType | RatType | C | 0..1 | This IE | | | | | | | shall be | | | | | | | present | | | | | | | and | | | | | | | indicate | | | | | | | the RAT | | | | | | | Type used | | | | | | | by the | | | | | | | UE, if | | | | | | | a | | | | | | | vailable, | | | | | | | upon a | | | | | | | change of | | | | | | | RAT Type. | | +-----------+-----------+---+-----------+-----------+-----------+ | prese | Pres | C | 0..1 | This IE | | | nceInLadn | enceState | | | shall be | | | | | | | present | | | | | | | during a | | | | | | | Service | | | | | | | Request | | | | | | | procedure | | | | | | | (see | | | | | | | c | | | | | | | lause 5.2 | | | | | | | .2.3.2.2) | | | | | | | ), an Xn | | | | | | | handover | | | | | | | (see | | | | | | | clause 5 | | | | | | | .2.2.3.3) | | | | | | | or a N2 | | | | | | | handover | | | | | | | execution | | | | | | | (see | | | | | | | cl | | | | | | | ause 5.2. | | | | | | | 2.3.4.3), | | | | | | | if the | | | | | | | DNN of | | | | | | | the PDU | | | | | | | session | | | | | | | co | | | | | | | rresponds | | | | | | | to a | | | | | | | LADN. | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | be set to | | | | | | | \"IN\" or | | | | | | | \"OUT\" | | | | | | | to | | | | | | | indicate | | | | | | | that the | | | | | | | UE is in | | | | | | | or out of | | | | | | | the LADN | | | | | | | service | | | | | | | area. | | +-----------+-----------+---+-----------+-----------+-----------+ | u | Use | C | 0..1 | This IE | | | eLocation | rLocation | | | shall be | | | | | | | present | | | | | | | if it is | | | | | | | available | | | | | | | and if it | | | | | | | needs to | | | | | | | be | | | | | | | reported | | | | | | | to the | | | | | | | SMF (e.g. | | | | | | | the user | | | | | | | location | | | | | | | has | | | | | | | changed | | | | | | | or the | | | | | | | user | | | | | | | plane of | | | | | | | the PDU | | | | | | | session | | | | | | | is | | | | | | | deac | | | | | | | tivated). | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | contain: | | | | | | | | | | | | | | - the UE | | | | | | | location | | | | | | | in | | | | | | | formation | | | | | | | (see | | | | | | | clause | | | | | | | 5.2.3.4); | | | | | | | and | | | | | | | | | | | | | | - the | | | | | | | t | | | | | | | imestamp, | | | | | | | if | | | | | | | a | | | | | | | vailable, | | | | | | | i | | | | | | | ndicating | | | | | | | the UTC | | | | | | | time when | | | | | | | the | | | | | | | U | | | | | | | eLocation | | | | | | | in | | | | | | | formation | | | | | | | was | | | | | | | acquired. | | | | | | | | | | | | | | (NOTE 1) | | +-----------+-----------+---+-----------+-----------+-----------+ | u | TimeZone | C | 0..1 | This IE | | | eTimeZone | | | | shall be | | | | | | | present | | | | | | | if it is | | | | | | | a | | | | | | | vailable, | | | | | | | the UE | | | | | | | Time Zone | | | | | | | has | | | | | | | changed | | | | | | | and needs | | | | | | | to be | | | | | | | reported | | | | | | | to the | | | | | | | SMF. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | contain | | | | | | | the UE | | | | | | | Time | | | | | | | Zone. | | +-----------+-----------+---+-----------+-----------+-----------+ | addU | Use | O | 0..1 | A | | | eLocation | rLocation | | | dditional | | | | | | | UE | | | | | | | location. | | | | | | | | | | | | | | This IE | | | | | | | may be | | | | | | | present, | | | | | | | if anType | | | | | | | indicates | | | | | | | a | | | | | | | non-3GPP | | | | | | | access | | | | | | | and a | | | | | | | valid | | | | | | | 3GPP | | | | | | | access | | | | | | | user | | | | | | | location | | | | | | | in | | | | | | | formation | | | | | | | is | | | | | | | a | | | | | | | vailable. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | contain: | | | | | | | | | | | | | | - the | | | | | | | last | | | | | | | known | | | | | | | 3GPP | | | | | | | access | | | | | | | user | | | | | | | location | | | | | | | (see | | | | | | | clause | | | | | | | 5.2.3.4); | | | | | | | and | | | | | | | | | | | | | | - the | | | | | | | t | | | | | | | imestamp, | | | | | | | if | | | | | | | a | | | | | | | vailable, | | | | | | | i | | | | | | | ndicating | | | | | | | the UTC | | | | | | | time when | | | | | | | the | | | | | | | addU | | | | | | | eLocation | | | | | | | in | | | | | | | formation | | | | | | | was | | | | | | | acquired. | | | | | | | | | | | | | | (NOTE 1) | | +-----------+-----------+---+-----------+-----------+-----------+ | u | U | C | 0..1 | This IE | | | pCnxState | pCnxState | | | shall be | | | | | | | present | | | | | | | to | | | | | | | request | | | | | | | the | | | | | | | a | | | | | | | ctivation | | | | | | | or the | | | | | | | dea | | | | | | | ctivation | | | | | | | of the | | | | | | | user | | | | | | | plane | | | | | | | c | | | | | | | onnection | | | | | | | of the | | | | | | | PDU | | | | | | | session. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | be set as | | | | | | | specified | | | | | | | in | | | | | | | clauses | | | | | | | 5 | | | | | | | .2.2.3.2, | | | | | | | 5 | | | | | | | .2.2.3.15 | | | | | | | and | | | | | | | 5. | | | | | | | 2.2.3.16. | | +-----------+-----------+---+-----------+-----------+-----------+ | hoState | HoState | C | 0..1 | This IE | | | | | | | shall be | | | | | | | present | | | | | | | to | | | | | | | request | | | | | | | the | | | | | | | pre | | | | | | | paration, | | | | | | | execution | | | | | | | or | | | | | | | can | | | | | | | cellation | | | | | | | of a | | | | | | | handover | | | | | | | of the | | | | | | | PDU | | | | | | | session. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | be set as | | | | | | | specified | | | | | | | in | | | | | | | clause 5 | | | | | | | .2.2.3.4. | | +-----------+-----------+---+-----------+-----------+-----------+ | toB | boolean | C | 0..1 | This IE | | | eSwitched | | | | shall be | | | | | | | present | | | | | | | during an | | | | | | | Xn | | | | | | | Handover | | | | | | | (see | | | | | | | clause 5 | | | | | | | .2.2.3.3) | | | | | | | to | | | | | | | request | | | | | | | to switch | | | | | | | the PDU | | | | | | | session | | | | | | | to a new | | | | | | | downlink | | | | | | | N3 tunnel | | | | | | | endpoint. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | be set as | | | | | | | follows: | | | | | | | | | | | | | | > \- | | | | | | | > true: | | | | | | | > request | | | | | | | > to | | | | | | | > switch | | | | | | | > to the | | | | | | | > PDU | | | | | | | > | | | | | | | session. | | | | | | | > | | | | | | | > \- | | | | | | | > false | | | | | | | > ( | | | | | | | default): | | | | | | | > no | | | | | | | > request | | | | | | | > to | | | | | | | > switch | | | | | | | > the PDU | | | | | | | > | | | | | | | session. | | +-----------+-----------+---+-----------+-----------+-----------+ | failedToB | boolean | C | 0..1 | This IE | | | eSwitched | | | | shall be | | | | | | | present | | | | | | | during an | | | | | | | Xn | | | | | | | Handover | | | | | | | (see | | | | | | | clause 5 | | | | | | | .2.2.3.3) | | | | | | | if the | | | | | | | PDU | | | | | | | session | | | | | | | failed to | | | | | | | be setup | | | | | | | in the | | | | | | | target | | | | | | | RAN. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | be to | | | | | | | true to | | | | | | | indicate | | | | | | | that the | | | | | | | PDU | | | | | | | session | | | | | | | failed to | | | | | | | be setup | | | | | | | in the | | | | | | | target | | | | | | | RAN. | | +-----------+-----------+---+-----------+-----------+-----------+ | n1SmMsg | RefToB | C | 0..1 | This IE | | | | inaryData | | | shall be | | | | | | | present | | | | | | | if N1 SM | | | | | | | In | | | | | | | formation | | | | | | | has been | | | | | | | received | | | | | | | from the | | | | | | | UE. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | reference | | | | | | | the N1 SM | | | | | | | Message | | | | | | | binary | | | | | | | data (see | | | | | | | clause 6. | | | | | | | 1.6.4.2). | | +-----------+-----------+---+-----------+-----------+-----------+ | n2SmInfo | RefToB | C | 0..1 | This IE | | | | inaryData | | | shall be | | | | | | | present | | | | | | | if N2 SM | | | | | | | In | | | | | | | formation | | | | | | | has been | | | | | | | received | | | | | | | from the | | | | | | | AN. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | reference | | | | | | | the N2 SM | | | | | | | In | | | | | | | formation | | | | | | | binary | | | | | | | data (see | | | | | | | clause 6. | | | | | | | 1.6.4.3). | | +-----------+-----------+---+-----------+-----------+-----------+ | n2S | N2S | C | 0..1 | This IE | | | mInfoType | mInfoType | | | shall be | | | | | | | present | | | | | | | if | | | | | | | \"n | | | | | | | 2SmInfo\" | | | | | | | attribute | | | | | | | is | | | | | | | present. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | indicate | | | | | | | the NG AP | | | | | | | IE type | | | | | | | for the | | | | | | | NG AP SMF | | | | | | | related | | | | | | | IE | | | | | | | container | | | | | | | carried | | | | | | | in | | | | | | | \"n | | | | | | | 2SmInfo\" | | | | | | | a | | | | | | | ttribute. | | +-----------+-----------+---+-----------+-----------+-----------+ | targetId | NgRa | C | 0..1 | This IE | | | | nTargetId | | | shall be | | | | | | | present | | | | | | | during a | | | | | | | N2 | | | | | | | handover | | | | | | | pre | | | | | | | paration, | | | | | | | when the | | | | | | | hoState | | | | | | | IE is set | | | | | | | to the | | | | | | | value | | | | | | | \"PRE | | | | | | | PARING\". | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | contain | | | | | | | the | | | | | | | Target ID | | | | | | | id | | | | | | | entifying | | | | | | | the | | | | | | | target | | | | | | | RAN Node | | | | | | | ID and | | | | | | | TAI | | | | | | | received | | | | | | | in the | | | | | | | Handover | | | | | | | Required | | | | | | | from the | | | | | | | Source | | | | | | | RAN. | | +-----------+-----------+---+-----------+-----------+-----------+ | targetSe | NfI | C | 0..1 | This IE | | | rvingNfId | nstanceId | | | shall be | | | | | | | present | | | | | | | during a | | | | | | | N2 | | | | | | | handover | | | | | | | pr | | | | | | | eparation | | | | | | | with AMF | | | | | | | change, | | | | | | | when the | | | | | | | hoState | | | | | | | IE is set | | | | | | | to the | | | | | | | value | | | | | | | \"PRE | | | | | | | PARING\". | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | contain | | | | | | | the | | | | | | | i | | | | | | | dentifier | | | | | | | of the | | | | | | | target | | | | | | | serving | | | | | | | NF (e.g. | | | | | | | AMF). | | +-----------+-----------+---+-----------+-----------+-----------+ | dataF | boolean | C | 0..1 | This IE | | | orwarding | | | | shall be | | | | | | | present | | | | | | | and set | | | | | | | as | | | | | | | specified | | | | | | | in | | | | | | | clause | | | | | | | 5.2.2.3.9 | | | | | | | during a | | | | | | | 5GS to | | | | | | | EPS | | | | | | | handover, | | | | | | | or as | | | | | | | specified | | | | | | | in | | | | | | | 5 | | | | | | | .2.2.3.13 | | | | | | | during a | | | | | | | N2 based | | | | | | | handover | | | | | | | with | | | | | | | I-SMF | | | | | | | inserti | | | | | | | on/change | | | | | | | /removal, | | | | | | | or as | | | | | | | specified | | | | | | | in | | | | | | | clause 5 | | | | | | | .2.2.3.21 | | | | | | | during N9 | | | | | | | F | | | | | | | orwarding | | | | | | | Tunnel | | | | | | | esta | | | | | | | blishment | | | | | | | between | | | | | | | Branching | | | | | | | Points or | | | | | | | UL CLs | | | | | | | c | | | | | | | ontrolled | | | | | | | by | | | | | | | different | | | | | | | I-SMFs. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | be set as | | | | | | | follows: | | | | | | | | | | | | | | - true: | | | | | | | setup the | | | | | | | direct or | | | | | | | indirect | | | | | | | data | | | | | | | f | | | | | | | orwarding | | | | | | | tunnels; | | | | | | | | | | | | | | - false | | | | | | | ( | | | | | | | default): | | | | | | | data | | | | | | | f | | | | | | | orwarding | | | | | | | tunnels | | | | | | | are not | | | | | | | required | | | | | | | to be | | | | | | | setup. | | +-----------+-----------+---+-----------+-----------+-----------+ | n9Forward | T | C | 0..1 | This IE | DTSSA | | ingTunnel | unnelInfo | | | shall be | | | | | | | present | | | | | | | in the | | | | | | | following | | | | | | | case: | | | | | | | | | | | | | | - UE | | | | | | | triggered | | | | | | | Service | | | | | | | Request | | | | | | | with | | | | | | | I-SMF | | | | | | | change | | | | | | | /removal, | | | | | | | if | | | | | | | r | | | | | | | equesting | | | | | | | to | | | | | | | forward | | | | | | | buffered | | | | | | | downlink | | | | | | | data | | | | | | | packets | | | | | | | at I-UPF | | | | | | | (See | | | | | | | clau | | | | | | | se 4.23.4 | | | | | | | of | | | | | | | 3GPP | | | | | | | TS 23.50 | | | | | | | 2 [3]). | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | carry the | | | | | | | N9 | | | | | | | f | | | | | | | orwarding | | | | | | | tunnel | | | | | | | info of | | | | | | | I-UPF. | | +-----------+-----------+---+-----------+-----------+-----------+ | n9D | array | C | 1..N | This IE | DTSSA | | lForwardi | (Indire | | | shall be | | | ngTnlList | ctDataFor | | | present | | | | wardingTu | | | in the | | | | nnelInfo) | | | following | | | | | | | case: | | | | | | | | | | | | | | - N2 | | | | | | | based | | | | | | | handover | | | | | | | with | | | | | | | I-SMF | | | | | | | inserti | | | | | | | on/change | | | | | | | /removal, | | | | | | | if | | | | | | | downlink | | | | | | | indirect | | | | | | | data | | | | | | | f | | | | | | | orwarding | | | | | | | tunnels | | | | | | | are | | | | | | | requested | | | | | | | to be | | | | | | | es | | | | | | | tablished | | | | | | | between | | | | | | | target | | | | | | | I-UPF and | | | | | | | source | | | | | | | I-UPF / | | | | | | | source | | | | | | | UPF (see | | | | | | | clau | | | | | | | se 4.23.7 | | | | | | | and | | | | | | | 4.23.11 | | | | | | | of | | | | | | | 3GPP | | | | | | | TS 23.50 | | | | | | | 2 [3]). | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | carry the | | | | | | | list of | | | | | | | N9 | | | | | | | downlink | | | | | | | indirect | | | | | | | data | | | | | | | f | | | | | | | orwarding | | | | | | | tunnel(s) | | | | | | | info of | | | | | | | I-UPF. | | +-----------+-----------+---+-----------+-----------+-----------+ | n9U | array | C | 1..N | This IE | DTSSA | | lForwardi | (Indire | | | shall be | | | ngTnlList | ctDataFor | | | present | | | | wardingTu | | | in the | | | | nnelInfo) | | | following | | | | | | | case: | | | | | | | | | | | | | | - N2 | | | | | | | based | | | | | | | handover | | | | | | | with | | | | | | | I-SMF | | | | | | | inserti | | | | | | | on/change | | | | | | | /removal, | | | | | | | if uplink | | | | | | | indirect | | | | | | | data | | | | | | | f | | | | | | | orwarding | | | | | | | tunnels | | | | | | | are | | | | | | | requested | | | | | | | to be | | | | | | | es | | | | | | | tablished | | | | | | | between | | | | | | | target | | | | | | | I-UPF and | | | | | | | source | | | | | | | I-UPF / | | | | | | | source | | | | | | | UPF (see | | | | | | | clau | | | | | | | se 4.23.7 | | | | | | | and | | | | | | | 4.23.11 | | | | | | | of | | | | | | | 3GPP | | | | | | | TS 23.50 | | | | | | | 2 [3]). | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | carry the | | | | | | | list of | | | | | | | N9 uplink | | | | | | | indirect | | | | | | | data | | | | | | | f | | | | | | | orwarding | | | | | | | tunnel(s) | | | | | | | info of | | | | | | | I-UPF. | | +-----------+-----------+---+-----------+-----------+-----------+ | n9 | T | C | 0..1 | This IE | N9FSC | | DlForward | unnelInfo | | | shall be | | | ingTunnel | | | | present | | | | | | | in the | | | | | | | following | | | | | | | case: | | | | | | | | | | | | | | - | | | | | | | sim | | | | | | | ultaneous | | | | | | | change of | | | | | | | Branching | | | | | | | Points or | | | | | | | UL CLs | | | | | | | c | | | | | | | ontrolled | | | | | | | by | | | | | | | different | | | | | | | I-SMFs, | | | | | | | if | | | | | | | downlink | | | | | | | data | | | | | | | f | | | | | | | orwarding | | | | | | | tunnel is | | | | | | | requested | | | | | | | to be | | | | | | | es | | | | | | | tablished | | | | | | | from | | | | | | | source BP | | | | | | | / UL CL | | | | | | | to target | | | | | | | BP / UL | | | | | | | CL (see | | | | | | | clause | | | | | | | 4.23.9.5 | | | | | | | of | | | | | | | 3GPP | | | | | | | TS 23.50 | | | | | | | 2 [3]). | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | carry the | | | | | | | N9 | | | | | | | downlink | | | | | | | data | | | | | | | f | | | | | | | orwarding | | | | | | | tunnel | | | | | | | info of | | | | | | | the | | | | | | | target BP | | | | | | | / UL CL. | | +-----------+-----------+---+-----------+-----------+-----------+ | n9Inacti | Du | O | 0..1 | When | N9FSC | | vityTimer | rationSec | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | indicate | | | | | | | an | | | | | | | i | | | | | | | nactivity | | | | | | | detection | | | | | | | timer, in | | | | | | | seconds, | | | | | | | that the | | | | | | | I-SMF may | | | | | | | use to | | | | | | | set the | | | | | | | N9 | | | | | | | f | | | | | | | orwarding | | | | | | | tunnel | | | | | | | inactive | | | | | | | traffic | | | | | | | detection | | | | | | | timer in | | | | | | | Branching | | | | | | | Point or | | | | | | | UL CL as | | | | | | | specified | | | | | | | in | | | | | | | clause | | | | | | | 4.23.9.5 | | | | | | | of | | | | | | | 3GP | | | | | | | P TS 23.5 | | | | | | | 02 [3]. | | +-----------+-----------+---+-----------+-----------+-----------+ | epsBe | array(E | C | 0..N | This IE | | | arerSetup | psBearerC | | | shall be | | | | ontainer) | | | present | | | | | | | during a | | | | | | | 5GS to | | | | | | | EPS | | | | | | | handover | | | | | | | using the | | | | | | | N26 | | | | | | | i | | | | | | | nterface. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | include | | | | | | | the EPS | | | | | | | bearer | | | | | | | c | | | | | | | ontext(s) | | | | | | | suc | | | | | | | cessfully | | | | | | | setup in | | | | | | | EPS. The | | | | | | | array | | | | | | | shall be | | | | | | | empty if | | | | | | | no | | | | | | | resource | | | | | | | was | | | | | | | suc | | | | | | | cessfully | | | | | | | allocated | | | | | | | in EPS | | | | | | | for any | | | | | | | PDU | | | | | | | session. | | +-----------+-----------+---+-----------+-----------+-----------+ | revo | array(Eps | C | 1..N | This IE | | | keEbiList | BearerId) | | | shall be | | | | | | | present | | | | | | | to | | | | | | | request | | | | | | | the SMF | | | | | | | to revoke | | | | | | | some EBIs | | | | | | | (see | | | | | | | clause 4 | | | | | | | .11.1.4.1 | | | | | | | of | | | | | | | 3GPP | | | | | | | TS 23.50 | | | | | | | 2 [3]). | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | contain | | | | | | | the EBIs | | | | | | | to | | | | | | | revoke. | | +-----------+-----------+---+-----------+-----------+-----------+ | release | boolean | C | 0..1 | This IE | | | | | | | shall be | | | | | | | used to | | | | | | | indicate | | | | | | | a network | | | | | | | initiated | | | | | | | PDU | | | | | | | session | | | | | | | release | | | | | | | is | | | | | | | r | | | | | | | equested. | | | | | | | | | | | | | | This IE | | | | | | | shall be | | | | | | | present | | | | | | | and set | | | | | | | as | | | | | | | specified | | | | | | | in | | | | | | | clause 5 | | | | | | | .2.2.3.10 | | | | | | | during | | | | | | | P-CSCF | | | | | | | re | | | | | | | storation | | | | | | | p | | | | | | | rocedure, | | | | | | | in | | | | | | | clause 5 | | | | | | | .2.2.3.11 | | | | | | | during | | | | | | | AMF | | | | | | | requested | | | | | | | PDU | | | | | | | Session | | | | | | | Release | | | | | | | due to | | | | | | | d | | | | | | | uplicated | | | | | | | PDU | | | | | | | Session | | | | | | | Id, in | | | | | | | clause 5 | | | | | | | .2.2.3.12 | | | | | | | during | | | | | | | AMF | | | | | | | requested | | | | | | | PDU | | | | | | | Session | | | | | | | Release | | | | | | | due to | | | | | | | slice not | | | | | | | a | | | | | | | vailable, | | | | | | | in | | | | | | | clause 5 | | | | | | | .2.2.3.17 | | | | | | | during | | | | | | | AMF | | | | | | | requested | | | | | | | PDU | | | | | | | Session | | | | | | | Release | | | | | | | due to | | | | | | | Network | | | | | | | Slice | | | | | | | -Specific | | | | | | | Authe | | | | | | | ntication | | | | | | | and | | | | | | | Auth | | | | | | | orization | | | | | | | failure | | | | | | | or | | | | | | | re | | | | | | | vocation, | | | | | | | in | | | | | | | clause 5 | | | | | | | .2.2.3.19 | | | | | | | during | | | | | | | AMF | | | | | | | requested | | | | | | | PDU | | | | | | | Session | | | | | | | Release | | | | | | | due to | | | | | | | Control | | | | | | | Plane | | | | | | | Only | | | | | | | i | | | | | | | ndication | | | | | | | a | | | | | | | ssociated | | | | | | | with PDU | | | | | | | Session | | | | | | | is not | | | | | | | a | | | | | | | pplicable | | | | | | | any | | | | | | | longer, | | | | | | | in | | | | | | | clause 5 | | | | | | | .2.2.3.20 | | | | | | | during | | | | | | | AMF | | | | | | | requested | | | | | | | PDU | | | | | | | Session | | | | | | | Release | | | | | | | due to | | | | | | | ODB | | | | | | | changes, | | | | | | | and in | | | | | | | clause 5 | | | | | | | .2.2.3.27 | | | | | | | during | | | | | | | AMF | | | | | | | requested | | | | | | | PDU | | | | | | | Session | | | | | | | Release | | | | | | | due to | | | | | | | MBSR not | | | | | | | au | | | | | | | thorized. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | be set as | | | | | | | follows: | | | | | | | | | | | | | | - true: | | | | | | | PDU | | | | | | | session | | | | | | | release | | | | | | | is | | | | | | | required; | | | | | | | | | | | | | | - false | | | | | | | ( | | | | | | | default): | | | | | | | PDU | | | | | | | session | | | | | | | release | | | | | | | is not | | | | | | | required. | | +-----------+-----------+---+-----------+-----------+-----------+ | cause | Cause | O | 0..1 | When | | | | | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | indicate | | | | | | | the cause | | | | | | | for the | | | | | | | requested | | | | | | | modi | | | | | | | fication, | | | | | | | e.g. the | | | | | | | NF | | | | | | | Service | | | | | | | Consumer | | | | | | | cause for | | | | | | | r | | | | | | | equesting | | | | | | | to | | | | | | | d | | | | | | | eactivate | | | | | | | the user | | | | | | | plane | | | | | | | c | | | | | | | onnection | | | | | | | of the | | | | | | | PDU | | | | | | | session. | | +-----------+-----------+---+-----------+-----------+-----------+ | ngApCause | NgApCause | C | 0..1 | This IE | | | | | | | shall be | | | | | | | present, | | | | | | | if the | | | | | | | in | | | | | | | formation | | | | | | | is | | | | | | | a | | | | | | | vailable. | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | indicate | | | | | | | the cause | | | | | | | for the | | | | | | | requested | | | | | | | modi | | | | | | | fication, | | | | | | | e.g. the | | | | | | | NGAP | | | | | | | cause for | | | | | | | r | | | | | | | equesting | | | | | | | to | | | | | | | d | | | | | | | eactivate | | | | | | | the user | | | | | | | plane | | | | | | | c | | | | | | | onnection | | | | | | | of the | | | | | | | PDU | | | | | | | session. | | +-----------+-----------+---+-----------+-----------+-----------+ | 5gMmC | 5GMmCause | C | 0..1 | This IE | | | auseValue | | | | shall be | | | | | | | included | | | | | | | if the | | | | | | | AMF | | | | | | | received | | | | | | | a 5GMM | | | | | | | cause | | | | | | | code from | | | | | | | the UE | | | | | | | during | | | | | | | any | | | | | | | network | | | | | | | initiated | | | | | | | PDU | | | | | | | session | | | | | | | mod | | | | | | | ification | | | | | | | or | | | | | | | release | | | | | | | p | | | | | | | rocedure. | | | | | | | (e.g 5GMM | | | | | | | Status | | | | | | | message | | | | | | | in | | | | | | | response | | | | | | | to a | | | | | | | Downlink | | | | | | | NAS | | | | | | | Transport | | | | | | | message | | | | | | | carrying | | | | | | | 5GSM | | | | | | | payload). | | +-----------+-----------+---+-----------+-----------+-----------+ | sNssai | Snssai | C | 0..1 | This IE | | | | | | | shall be | | | | | | | present | | | | | | | and sent | | | | | | | to the | | | | | | | V-SMF, | | | | | | | during an | | | | | | | EPS to | | | | | | | 5GS | | | | | | | mobility | | | | | | | reg | | | | | | | istration | | | | | | | using the | | | | | | | N26 | | | | | | | i | | | | | | | nterface, | | | | | | | if the | | | | | | | S-NSSAI | | | | | | | for the | | | | | | | serving | | | | | | | PLMN | | | | | | | derived | | | | | | | from the | | | | | | | S-NSSAI | | | | | | | of the | | | | | | | home PLMN | | | | | | | differs | | | | | | | from the | | | | | | | S-NSSAI | | | | | | | provided | | | | | | | in the | | | | | | | Create SM | | | | | | | Context | | | | | | | Request. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | contain | | | | | | | the | | | | | | | S-NSSAI | | | | | | | for the | | | | | | | serving | | | | | | | PLMN. | | +-----------+-----------+---+-----------+-----------+-----------+ | traceData | TraceData | C | 0..1 | This IE | | | | | | | shall be | | | | | | | included | | | | | | | if trace | | | | | | | is | | | | | | | required | | | | | | | to be | | | | | | | a | | | | | | | ctivated, | | | | | | | modified | | | | | | | or | | | | | | | de | | | | | | | activated | | | | | | | (see | | | | | | | 3GPP | | | | | | | TS 32.422 | | | | | | | [22]). | | | | | | | | | | | | | | For trace | | | | | | | modi | | | | | | | fication, | | | | | | | it shall | | | | | | | contain a | | | | | | | complete | | | | | | | re | | | | | | | placement | | | | | | | of trace | | | | | | | data. | | | | | | | | | | | | | | For trace | | | | | | | deac | | | | | | | tivation, | | | | | | | it shall | | | | | | | contain | | | | | | | the Null | | | | | | | value. | | +-----------+-----------+---+-----------+-----------+-----------+ | epsInterw | EpsInte | O | 0..1 | This IE | | | orkingInd | rworkingI | | | may be | | | | ndication | | | present | | | | | | | if the | | | | | | | i | | | | | | | ndication | | | | | | | has been | | | | | | | provided | | | | | | | during | | | | | | | the PDU | | | | | | | session | | | | | | | creation, | | | | | | | and its | | | | | | | value has | | | | | | | changed | | | | | | | after | | | | | | | session | | | | | | | creation | | | | | | | or last | | | | | | | update. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | indicate | | | | | | | whether | | | | | | | the PDU | | | | | | | session | | | | | | | may | | | | | | | possibly | | | | | | | be moved | | | | | | | to EPS | | | | | | | and | | | | | | | whether | | | | | | | N26 | | | | | | | interface | | | | | | | to be | | | | | | | used | | | | | | | during | | | | | | | EPS | | | | | | | int | | | | | | | erworking | | | | | | | pr | | | | | | | ocedures. | | +-----------+-----------+---+-----------+-----------+-----------+ | anTypeCan | boolean | C | 0..1 | This IE | | | BeChanged | | | | shall be | | | | | | | present | | | | | | | and set | | | | | | | to true | | | | | | | to | | | | | | | indicate | | | | | | | that the | | | | | | | Access | | | | | | | Network | | | | | | | Type | | | | | | | a | | | | | | | ssociated | | | | | | | to the | | | | | | | PDU | | | | | | | session | | | | | | | can be | | | | | | | changed | | | | | | | (see | | | | | | | cl | | | | | | | ause 5.2. | | | | | | | 2.3.2.4), | | | | | | | during a | | | | | | | Service | | | | | | | Request | | | | | | | procedure | | | | | | | (see | | | | | | | claus | | | | | | | e 4.2.3.2 | | | | | | | of | | | | | | | 3GPP | | | | | | | TS 23.502 | | | | | | | [3])), | | | | | | | in | | | | | | | response | | | | | | | to paging | | | | | | | or NAS | | | | | | | not | | | | | | | ification | | | | | | | i | | | | | | | ndicating | | | | | | | non-3GPP | | | | | | | access, | | | | | | | when the | | | | | | | PDU | | | | | | | Session | | | | | | | for which | | | | | | | the UE | | | | | | | was paged | | | | | | | or | | | | | | | notified | | | | | | | is in the | | | | | | | List Of | | | | | | | Allowed | | | | | | | PDU | | | | | | | Sessions | | | | | | | provided | | | | | | | by the | | | | | | | UE, and | | | | | | | the AMF | | | | | | | received | | | | | | | N2 SM | | | | | | | In | | | | | | | formation | | | | | | | only or | | | | | | | N1 SM | | | | | | | Container | | | | | | | and N2 SM | | | | | | | In | | | | | | | formation | | | | | | | from the | | | | | | | SMF in | | | | | | | step 3a | | | | | | | of | | | | | | | claus | | | | | | | e 4.2.3.3 | | | | | | | of | | | | | | | 3GP | | | | | | | P TS 23.5 | | | | | | | 02 [3]. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | be set as | | | | | | | follows: | | | | | | | | | | | | | | - true: | | | | | | | the | | | | | | | access | | | | | | | type of | | | | | | | the PDU | | | | | | | session | | | | | | | can be | | | | | | | changed. | | | | | | | | | | | | | | - false | | | | | | | ( | | | | | | | default): | | | | | | | the | | | | | | | access | | | | | | | type of | | | | | | | the PDU | | | | | | | session | | | | | | | cannot be | | | | | | | changed. | | +-----------+-----------+---+-----------+-----------+-----------+ | n2S | RefToB | C | 0..1 | This IE | | | mInfoExt1 | inaryData | | | shall be | | | | | | | present | | | | | | | if more | | | | | | | than one | | | | | | | N2 SM | | | | | | | In | | | | | | | formation | | | | | | | has been | | | | | | | received | | | | | | | from the | | | | | | | AN. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | reference | | | | | | | the N2 SM | | | | | | | In | | | | | | | formation | | | | | | | binary | | | | | | | data (see | | | | | | | clause 6. | | | | | | | 1.6.4.3). | | +-----------+-----------+---+-----------+-----------+-----------+ | n2SmInf | N2S | C | 0..1 | This IE | | | oTypeExt1 | mInfoType | | | shall be | | | | | | | present | | | | | | | if | | | | | | | \"n2SmI | | | | | | | nfoExt1\" | | | | | | | attribute | | | | | | | is | | | | | | | present. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | indicate | | | | | | | the NG AP | | | | | | | IE type | | | | | | | for the | | | | | | | NG AP SMF | | | | | | | related | | | | | | | IE | | | | | | | container | | | | | | | carried | | | | | | | in | | | | | | | \"n2SmI | | | | | | | nfoExt1\" | | | | | | | a | | | | | | | ttribute. | | +-----------+-----------+---+-----------+-----------+-----------+ | maR | M | C | 0..1 | This IE | MAPDU | | eleaseInd | aReleaseI | | | shall be | | | | ndication | | | present | | | | | | | if one | | | | | | | access of | | | | | | | a MA PDU | | | | | | | session | | | | | | | is | | | | | | | requested | | | | | | | to be | | | | | | | released, | | | | | | | in the | | | | | | | following | | | | | | | cases: | | | | | | | | | | | | | | - when | | | | | | | UE/AMF | | | | | | | initiates | | | | | | | MA PDU | | | | | | | session | | | | | | | release | | | | | | | over one | | | | | | | access; | | | | | | | or | | | | | | | | | | | | | | - when | | | | | | | UE | | | | | | | de | | | | | | | registers | | | | | | | from one | | | | | | | access. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | it | | | | | | | indicates | | | | | | | the | | | | | | | access to | | | | | | | be | | | | | | | released. | | +-----------+-----------+---+-----------+-----------+-----------+ | maNwU | boolean | C | 0..1 | This IE | MAPDU | | pgradeInd | | | | shall be | | | | | | | present | | | | | | | if the | | | | | | | PDU | | | | | | | session | | | | | | | is | | | | | | | allowed | | | | | | | to be | | | | | | | upgraded | | | | | | | to MA PDU | | | | | | | session | | | | | | | (see | | | | | | | claus | | | | | | | e 6.4.2.2 | | | | | | | of | | | | | | | 3GPP | | | | | | | TS 24.50 | | | | | | | 1 [7]). | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | be set as | | | | | | | follows: | | | | | | | | | | | | | | - true: | | | | | | | the PDU | | | | | | | session | | | | | | | is | | | | | | | allowed | | | | | | | to be | | | | | | | upgraded | | | | | | | to MA PDU | | | | | | | session | | | | | | | | | | | | | | - false | | | | | | | ( | | | | | | | default): | | | | | | | the PDU | | | | | | | session | | | | | | | is not | | | | | | | allowed | | | | | | | to be | | | | | | | upgraded | | | | | | | to MA PDU | | | | | | | session | | +-----------+-----------+---+-----------+-----------+-----------+ | maR | boolean | C | 0..1 | This IE | MAPDU | | equestInd | | | | shall be | | | | | | | present | | | | | | | if a | | | | | | | MA-PDU | | | | | | | session | | | | | | | is | | | | | | | requested | | | | | | | to be | | | | | | | es | | | | | | | tablished | | | | | | | (see | | | | | | | clause | | | | | | | 4.22.6.3 | | | | | | | of | | | | | | | 3GPP | | | | | | | TS 23.50 | | | | | | | 2 [3]). | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | be set as | | | | | | | follows: | | | | | | | | | | | | | | > \- | | | | | | | > true: a | | | | | | | > MA-PDU | | | | | | | > session | | | | | | | > is | | | | | | | > | | | | | | | requested | | | | | | | > | | | | | | | > \- | | | | | | | > false | | | | | | | > ( | | | | | | | default): | | | | | | | > a | | | | | | | > MA-PDU | | | | | | | > session | | | | | | | > is not | | | | | | | > | | | | | | | requested | | +-----------+-----------+---+-----------+-----------+-----------+ | n3gPath | boolean | O | 0..1 | This IE | N3GPS | | SwitchExe | | | | may be | | | cutionInd | | | | present | | | | | | | and set | | | | | | | to true | | | | | | | if the | | | | | | | AMF | | | | | | | receives | | | | | | | the | | | | | | | i | | | | | | | ndication | | | | | | | \ | | | | | | | "Non-3GPP | | | | | | | access | | | | | | | path | | | | | | | switching | | | | | | | while | | | | | | | using old | | | | | | | AN | | | | | | | re | | | | | | | sources\" | | | | | | | in the | | | | | | | reg | | | | | | | istration | | | | | | | request | | | | | | | message | | | | | | | from the | | | | | | | UE and if | | | | | | | the SMF | | | | | | | supports | | | | | | | non-3GPP | | | | | | | path | | | | | | | s | | | | | | | witching, | | | | | | | so to | | | | | | | request | | | | | | | the SMF | | | | | | | to add a | | | | | | | new | | | | | | | non-3GPP | | | | | | | access | | | | | | | path | | | | | | | (while | | | | | | | also | | | | | | | keeping | | | | | | | the | | | | | | | existing | | | | | | | one) | | | | | | | during a | | | | | | | UE | | | | | | | requested | | | | | | | non-3GPP | | | | | | | access | | | | | | | switching | | | | | | | for a | | | | | | | MA-PDU | | | | | | | session. | | +-----------+-----------+---+-----------+-----------+-----------+ | exe | Exe | C | 0..1 | This IE | | | mptionInd | mptionInd | | | shall be | | | | | | | present | | | | | | | if the | | | | | | | AMF has | | | | | | | exempted | | | | | | | the NAS | | | | | | | message | | | | | | | from a | | | | | | | NAS SM | | | | | | | c | | | | | | | ongestion | | | | | | | control | | | | | | | activated | | | | | | | in the | | | | | | | AMF. | | +-----------+-----------+---+-----------+-----------+-----------+ | supporte | Supporte | C | 0..1 | This IE | | | dFeatures | dFeatures | | | shall be | | | | | | | present | | | | | | | if the | | | | | | | se | | | | | | | rvingNfId | | | | | | | or the | | | | | | | targetSe | | | | | | | rvingNfId | | | | | | | is | | | | | | | present | | | | | | | (i.e. | | | | | | | during a | | | | | | | change of | | | | | | | AMF) and | | | | | | | at least | | | | | | | one | | | | | | | optional | | | | | | | feature | | | | | | | defined | | | | | | | in | | | | | | | cla | | | | | | | use 6.1.8 | | | | | | | is | | | | | | | supported | | | | | | | by the | | | | | | | new AMF. | | | | | | | | | | | | | | If this | | | | | | | IE is | | | | | | | absent | | | | | | | when the | | | | | | | se | | | | | | | rvingNfId | | | | | | | or the | | | | | | | targetSe | | | | | | | rvingNfId | | | | | | | is | | | | | | | present, | | | | | | | the new | | | | | | | serving | | | | | | | AMF or | | | | | | | the | | | | | | | target | | | | | | | AMF | | | | | | | res | | | | | | | pectively | | | | | | | shall be | | | | | | | c | | | | | | | onsidered | | | | | | | as not | | | | | | | s | | | | | | | upporting | | | | | | | any | | | | | | | optional | | | | | | | feature. | | +-----------+-----------+---+-----------+-----------+-----------+ | moExpDa | MoExpDa | C | 0..1 | This IE | CIOT | | taCounter | taCounter | | | shall be | | | | | | | included | | | | | | | if the UE | | | | | | | has | | | | | | | accessed | | | | | | | the | | | | | | | network | | | | | | | by using | | | | | | | \"MO | | | | | | | exception | | | | | | | data\" | | | | | | | RRC | | | | | | | esta | | | | | | | blishment | | | | | | | cause and | | | | | | | when the | | | | | | | AMF | | | | | | | decides | | | | | | | to send a | | | | | | | non-zero | | | | | | | value to | | | | | | | the SMF. | | | | | | | | | | | | | | (NOTE 2) | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | contain | | | | | | | the MO | | | | | | | Exception | | | | | | | Data | | | | | | | Counter. | | +-----------+-----------+---+-----------+-----------+-----------+ | ext | boolean | C | 0..1 | This IE | CIOT | | endedNasS | | | | shall be | | | mTimerInd | | | | present | | | | | | | if the UE | | | | | | | supports | | | | | | | CE mode B | | | | | | | and use | | | | | | | of CE | | | | | | | mode B | | | | | | | changes | | | | | | | from | | | | | | | r | | | | | | | estricted | | | | | | | to | | | | | | | unr | | | | | | | estricted | | | | | | | or vice | | | | | | | versa in | | | | | | | the | | | | | | | Enhanced | | | | | | | Coverage | | | | | | | Re | | | | | | | striction | | | | | | | in | | | | | | | formation | | | | | | | in the UE | | | | | | | context | | | | | | | in the | | | | | | | AMF. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | indicate | | | | | | | whether | | | | | | | extended | | | | | | | NAS SM | | | | | | | timers | | | | | | | shall be | | | | | | | used for | | | | | | | the UE as | | | | | | | specified | | | | | | | in | | | | | | | 3GP | | | | | | | P TS 24.5 | | | | | | | 01 [7], | | | | | | | as | | | | | | | follows: | | | | | | | | | | | | | | > \- | | | | | | | > True: | | | | | | | > | | | | | | | extended | | | | | | | > NAS SM | | | | | | | > timers | | | | | | | > shall | | | | | | | > be used | | | | | | | > | | | | | | | > \- | | | | | | | > False: | | | | | | | > normal | | | | | | | > NAS SM | | | | | | | > timers | | | | | | | > shall | | | | | | | > be | | | | | | | > used. | | +-----------+-----------+---+-----------+-----------+-----------+ | forwar | Bytes | C | 0..1 | This IE | CIOT | | dingFTeid | | | | shall be | | | | | | | present | | | | | | | during a | | | | | | | 5GS to | | | | | | | EPS Idle | | | | | | | mode | | | | | | | mobility | | | | | | | using N26 | | | | | | | interface | | | | | | | with data | | | | | | | f | | | | | | | orwarding | | | | | | | (see | | | | | | | clause 4. | | | | | | | 11.1.3.2A | | | | | | | of | | | | | | | 3GPP | | | | | | | TS 23.50 | | | | | | | 2 [3]), | | | | | | | if the | | | | | | | F | | | | | | | orwarding | | | | | | | F-TEID IE | | | | | | | is | | | | | | | present | | | | | | | in the | | | | | | | Context | | | | | | | Ac | | | | | | | knowledge | | | | | | | message | | | | | | | received | | | | | | | from the | | | | | | | MME. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | contain | | | | | | | Base6 | | | | | | | 4-encoded | | | | | | | ch | | | | | | | aracters, | | | | | | | encoding | | | | | | | the | | | | | | | F | | | | | | | orwarding | | | | | | | F-TEID in | | | | | | | the | | | | | | | Context | | | | | | | Ac | | | | | | | knowledge | | | | | | | message, | | | | | | | as | | | | | | | specified | | | | | | | in Figure | | | | | | | 8.22-1 of | | | | | | | 3GP | | | | | | | P TS 29.2 | | | | | | | 74 [16] | | | | | | | (starting | | | | | | | from | | | | | | | octet 1). | | +-----------+-----------+---+-----------+-----------+-----------+ | forwar | array | C | 1..N | This IE | CIOT | | dingBeare | (Forwardi | | | shall be | | | rContexts | ngBearerC | | | present | | | | ontainer) | | | during a | | | | | | | 5GS to | | | | | | | EPS Idle | | | | | | | mode | | | | | | | mobility | | | | | | | using N26 | | | | | | | interface | | | | | | | with data | | | | | | | f | | | | | | | orwarding | | | | | | | (see | | | | | | | clause 4. | | | | | | | 11.1.3.2A | | | | | | | of | | | | | | | 3GPP | | | | | | | TS 23.50 | | | | | | | 2 [3]), | | | | | | | if the | | | | | | | Bearer | | | | | | | Contexts | | | | | | | IE is | | | | | | | present | | | | | | | in the | | | | | | | Context | | | | | | | Ac | | | | | | | knowledge | | | | | | | message | | | | | | | received | | | | | | | from the | | | | | | | MME. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | contain | | | | | | | the | | | | | | | Bearer | | | | | | | Contexts | | | | | | | in the | | | | | | | Context | | | | | | | Ac | | | | | | | knowledge | | | | | | | message. | | +-----------+-----------+---+-----------+-----------+-----------+ | ddnFa | DdnFa | C | 0..1 | This IE | CIOT | | ilureSubs | ilureSubs | | | shall be | | | | | | | present | | | | | | | to | | | | | | | subscribe | | | | | | | or | | | | | | | un | | | | | | | subscribe | | | | | | | to the | | | | | | | not | | | | | | | ification | | | | | | | of the | | | | | | | DDN | | | | | | | Failure | | | | | | | if the | | | | | | | Ava | | | | | | | ilability | | | | | | | after DDN | | | | | | | failure | | | | | | | event is | | | | | | | subsc | | | | | | | ribed/uns | | | | | | | ubscribed | | | | | | | by the | | | | | | | UDM, see | | | | | | | clause 4 | | | | | | | .15.3.2.7 | | | | | | | of | | | | | | | 3GP | | | | | | | P TS 23.5 | | | | | | | 02 [3]. | | | | | | | | | | | | | | This IE | | | | | | | shall | | | | | | | also be | | | | | | | present | | | | | | | if it is | | | | | | | required | | | | | | | to add, | | | | | | | modify or | | | | | | | remove | | | | | | | DDN | | | | | | | failure | | | | | | | subsc | | | | | | | riptions. | | | | | | | If it is | | | | | | | present | | | | | | | and the | | | | | | | included | | | | | | | dnnFailu | | | | | | | reSubsInd | | | | | | | indicates | | | | | | | not | | | | | | | ification | | | | | | | of DDN | | | | | | | failure | | | | | | | is | | | | | | | su | | | | | | | bscribed, | | | | | | | the | | | | | | | content | | | | | | | of the | | | | | | | received | | | | | | | ddnFa | | | | | | | ilureSubs | | | | | | | shall | | | | | | | overwrite | | | | | | | any | | | | | | | ddnFa | | | | | | | ilureSubs | | | | | | | received | | | | | | | earlier. | | +-----------+-----------+---+-----------+-----------+-----------+ | skipN2P | boolean | O | 0..1 | This IE | | | duSession | | | | may be | | | ResRelInd | | | | present | | | | | | | when the | | | | | | | release | | | | | | | IE is | | | | | | | present | | | | | | | with | | | | | | | value | | | | | | | \"true\". | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | indicate | | | | | | | whether | | | | | | | N2 | | | | | | | message | | | | | | | shall be | | | | | | | skipped | | | | | | | for the | | | | | | | PDU | | | | | | | session | | | | | | | RAN | | | | | | | resources | | | | | | | release, | | | | | | | if the UP | | | | | | | c | | | | | | | onnection | | | | | | | is | | | | | | | active: | | | | | | | | | | | | | | - true: | | | | | | | N2 | | | | | | | message | | | | | | | shall be | | | | | | | skipped. | | | | | | | | | | | | | | - false | | | | | | | ( | | | | | | | default): | | | | | | | N2 | | | | | | | message | | | | | | | shall not | | | | | | | be | | | | | | | skipped. | | +-----------+-----------+---+-----------+-----------+-----------+ | secondary | array(S | C | 1..N | The IE | | | RatUsageD | econdaryR | | | shall be | | | ataReport | atUsageDa | | | present | | | Container | taReportC | | | during an | | | | ontainer) | | | EPS to | | | | | | | 5GS | | | | | | | handover | | | | | | | p | | | | | | | rocedure, | | | | | | | if one or | | | | | | | more | | | | | | | instance | | | | | | | of | | | | | | | Secondary | | | | | | | RAT Usage | | | | | | | Data | | | | | | | Report | | | | | | | IE(s) are | | | | | | | present | | | | | | | and | | | | | | | a | | | | | | | pplicable | | | | | | | to the | | | | | | | PDU | | | | | | | session. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | contain | | | | | | | Base6 | | | | | | | 4-encoded | | | | | | | ch | | | | | | | aracters, | | | | | | | encoding | | | | | | | the | | | | | | | Secondary | | | | | | | RAT Usage | | | | | | | Data | | | | | | | Report in | | | | | | | the | | | | | | | Forward | | | | | | | R | | | | | | | elocation | | | | | | | Complete | | | | | | | Ac | | | | | | | knowledge | | | | | | | message, | | | | | | | as | | | | | | | specified | | | | | | | in | | | | | | | Figur | | | | | | | e 8.132-1 | | | | | | | of | | | | | | | 3GP | | | | | | | P TS 29.2 | | | | | | | 74 [16] | | | | | | | (starting | | | | | | | from | | | | | | | octet 1). | | +-----------+-----------+---+-----------+-----------+-----------+ | smPolicy | boolean | O | 0..1 | When | SPAE | | NotifyInd | | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | indicate | | | | | | | that the | | | | | | | SM Policy | | | | | | | As | | | | | | | sociation | | | | | | | Esta | | | | | | | blishment | | | | | | | and | | | | | | | Te | | | | | | | rmination | | | | | | | events | | | | | | | shall be | | | | | | | reported | | | | | | | for the | | | | | | | PDU | | | | | | | session | | | | | | | by the | | | | | | | PCF for | | | | | | | the SM | | | | | | | Policy to | | | | | | | the PCF | | | | | | | for the | | | | | | | UE: | | | | | | | | | | | | | | - true: | | | | | | | SM Policy | | | | | | | As | | | | | | | sociation | | | | | | | Esta | | | | | | | blishment | | | | | | | and | | | | | | | Te | | | | | | | rmination | | | | | | | events | | | | | | | shall be | | | | | | | reported | | | | | | | | | | | | | | (NOTE 3) | | +-----------+-----------+---+-----------+-----------+-----------+ | pcfUeCal | PcfUeCal | C | 0..1 | This IE | SPAE | | lbackInfo | lbackInfo | | | shall be | | | | | | | present | | | | | | | when the | | | | | | | smPolicy | | | | | | | NotifyInd | | | | | | | IE is | | | | | | | present | | | | | | | with | | | | | | | value | | | | | | | true. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | contain | | | | | | | the | | | | | | | callback | | | | | | | in | | | | | | | formation | | | | | | | of the | | | | | | | PCF for | | | | | | | the UE to | | | | | | | receive | | | | | | | SM Policy | | | | | | | As | | | | | | | sociation | | | | | | | Esta | | | | | | | blishment | | | | | | | and | | | | | | | Te | | | | | | | rmination | | | | | | | events | | | | | | | not | | | | | | | ification | | | | | | | from the | | | | | | | PCF for | | | | | | | the SM | | | | | | | Policy. | | | | | | | (NOTE 3) | | +-----------+-----------+---+-----------+-----------+-----------+ | sa | Satelli | O | 0..1 | This IE | 5GSAT | | telliteBa | teBackhau | | | may be | | | ckhaulCat | lCategory | | | present | | | | | | | if the | | | | | | | AMF and | | | | | | | the SMF | | | | | | | supports | | | | | | | the 5GSAT | | | | | | | feature | | | | | | | and the | | | | | | | AMF is | | | | | | | aware | | | | | | | that: | | | | | | | | | | | | | | - there | | | | | | | is a | | | | | | | change of | | | | | | | the | | | | | | | satellite | | | | | | | backhaul | | | | | | | category; | | | | | | | or | | | | | | | | | | | | | | - the UE | | | | | | | is newly | | | | | | | served by | | | | | | | a 5G-AN | | | | | | | without | | | | | | | any | | | | | | | satellite | | | | | | | backhaul | | | | | | | and a | | | | | | | satellite | | | | | | | backhaul | | | | | | | category | | | | | | | had been | | | | | | | signalled | | | | | | | to the | | | | | | | SMF; or | | | | | | | | | | | | | | - the UE | | | | | | | is newly | | | | | | | served by | | | | | | | a 5G-AN | | | | | | | with a | | | | | | | satellite | | | | | | | backhaul | | | | | | | and no | | | | | | | satellite | | | | | | | backhaul | | | | | | | category | | | | | | | had been | | | | | | | signalled | | | | | | | to the | | | | | | | SMF; or | | | | | | | | | | | | | | - there | | | | | | | is a | | | | | | | satellite | | | | | | | backhaul | | | | | | | towards | | | | | | | the 5G AN | | | | | | | serving | | | | | | | the UE, | | | | | | | but it | | | | | | | does not | | | | | | | know | | | | | | | whether a | | | | | | | satellite | | | | | | | backhaul | | | | | | | category | | | | | | | had been | | | | | | | signalled | | | | | | | to the | | | | | | | SMF (e.g. | | | | | | | upon | | | | | | | Inter-AMF | | | | | | | m | | | | | | | obility). | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | indicate | | | | | | | the | | | | | | | category | | | | | | | of the | | | | | | | satellite | | | | | | | backhaul | | | | | | | used | | | | | | | towards | | | | | | | the new | | | | | | | 5G AN | | | | | | | serving | | | | | | | the UE, | | | | | | | or that | | | | | | | there is | | | | | | | no longer | | | | | | | any | | | | | | | satellite | | | | | | | backhaul | | | | | | | towards | | | | | | | the new | | | | | | | 5G AN | | | | | | | serving | | | | | | | the UE. | | +-----------+-----------+---+-----------+-----------+-----------+ | cnBasedMt | boolean | O | 0..1 | When | | | | | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | indicate | | | | | | | to the | | | | | | | SMF that | | | | | | | UE is in | | | | | | | RRC\ | | | | | | | _INACTIVE | | | | | | | mode with | | | | | | | eDRX and | | | | | | | CN Based | | | | | | | MT | | | | | | | handling | | | | | | | is | | | | | | | applied | | | | | | | for the | | | | | | | PDU | | | | | | | session, | | | | | | | i.e. the | | | | | | | user | | | | | | | plane | | | | | | | c | | | | | | | onnection | | | | | | | is | | | | | | | suspended | | | | | | | and the | | | | | | | UPF is | | | | | | | requested | | | | | | | to buffer | | | | | | | s | | | | | | | ubsequent | | | | | | | DL Data | | | | | | | and send | | | | | | | a report | | | | | | | upon | | | | | | | s | | | | | | | ubsequent | | | | | | | DL data | | | | | | | arrival, | | | | | | | the SMF | | | | | | | will then | | | | | | | invoke | | | | | | | the AMF | | | | | | | En | | | | | | | ableUERea | | | | | | | chability | | | | | | | service, | | | | | | | see also | | | | | | | clauses | | | | | | | 4.8.1.1a | | | | | | | and | | | | | | | 4.8.2.2b | | | | | | | of 3GPP | | | | | | | TS 23.502 | | | | | | | [3]. | | | | | | | | | | | | | | - true: | | | | | | | CN Based | | | | | | | MT | | | | | | | handling | | | | | | | is to be | | | | | | | applied. | | +-----------+-----------+---+-----------+-----------+-----------+ | geoSa | GeoSa | C | 0..1 | The AMF | 5GSATB | | telliteId | telliteId | | | shall | | | | | | | include | | | | | | | this | | | | | | | attribute | | | | | | | when the | | | | | | | Geo | | | | | | | satellite | | | | | | | ID | | | | | | | changes. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | contain a | | | | | | | GEO | | | | | | | satellite | | | | | | | ID. | | +-----------+-----------+---+-----------+-----------+-----------+ | altSnssai | Snssai | C | 0..1 | This IE | NSRP | | | | | | shall be | | | | | | | present | | | | | | | when the | | | | | | | PDU | | | | | | | Session | | | | | | | is to be | | | | | | | tr | | | | | | | ansferred | | | | | | | to an | | | | | | | al | | | | | | | ternative | | | | | | | S-NSSAI. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | indicate | | | | | | | the | | | | | | | al | | | | | | | ternative | | | | | | | network | | | | | | | slice to | | | | | | | be used | | | | | | | by the | | | | | | | PDU | | | | | | | session. | | | | | | | | | | | | | | See | | | | | | | claus | | | | | | | e 5.15.19 | | | | | | | of | | | | | | | 3GP | | | | | | | P TS 23.5 | | | | | | | 01 [2]. | | +-----------+-----------+---+-----------+-----------+-----------+ | altHp | Snssai | C | 0..1 | This IE | NSRP | | lmnSnssai | | | | shall be | | | | | | | present | | | | | | | for HR | | | | | | | PDU | | | | | | | session | | | | | | | when the | | | | | | | PDU | | | | | | | Session | | | | | | | is to be | | | | | | | tr | | | | | | | ansferred | | | | | | | to an | | | | | | | al | | | | | | | ternative | | | | | | | S-NSSAI | | | | | | | in HPLMN. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | indicate | | | | | | | the | | | | | | | al | | | | | | | ternative | | | | | | | network | | | | | | | slice to | | | | | | | be used | | | | | | | by the | | | | | | | PDU | | | | | | | session | | | | | | | in the | | | | | | | HPLMN. | | | | | | | | | | | | | | See | | | | | | | claus | | | | | | | e 5.15.19 | | | | | | | of | | | | | | | 3GP | | | | | | | P TS 23.5 | | | | | | | 01 [2]. | | +-----------+-----------+---+-----------+-----------+-----------+ | NOTE 1: | | | | | | | In shared | | | | | | | networks, | | | | | | | when the | | | | | | | message | | | | | | | is sent | | | | | | | from the | | | | | | | VPLMN to | | | | | | | the | | | | | | | HPLMN, | | | | | | | the PLMN | | | | | | | ID that | | | | | | | is | | | | | | | com | | | | | | | municated | | | | | | | in this | | | | | | | IE shall | | | | | | | be that | | | | | | | of the | | | | | | | selected | | | | | | | Core | | | | | | | Network | | | | | | | O | | | | | | | perator.\ | | | | | | | In shared | | | | | | | networks, | | | | | | | when the | | | | | | | AMF and | | | | | | | SMF | | | | | | | pertain | | | | | | | to the | | | | | | | same | | | | | | | PLMN, the | | | | | | | Primary | | | | | | | PLMN ID | | | | | | | shall be | | | | | | | com | | | | | | | municated | | | | | | | in the | | | | | | | ECGI or | | | | | | | NCGI to | | | | | | | the SMF. | | | | | | | The Core | | | | | | | Network | | | | | | | Operator | | | | | | | PLMN ID | | | | | | | shall be | | | | | | | com | | | | | | | municated | | | | | | | in the | | | | | | | TAI and | | | | | | | the | | | | | | | Serving | | | | | | | Network. | | | | | | | | | | | | | | NOTE 2: | | | | | | | The AMF | | | | | | | i | | | | | | | ncrements | | | | | | | the MO | | | | | | | Exception | | | | | | | Data | | | | | | | Counter | | | | | | | when the | | | | | | | UE | | | | | | | e | | | | | | | stablishe | | | | | | | s/resumes | | | | | | | RRC with | | | | | | | \"MO | | | | | | | Exception | | | | | | | Data\" | | | | | | | RRC | | | | | | | cause. | | | | | | | The AMF | | | | | | | may defer | | | | | | | sending | | | | | | | the | | | | | | | moExpDa | | | | | | | taCounter | | | | | | | attribute | | | | | | | to the | | | | | | | SMF based | | | | | | | on local | | | | | | | confi | | | | | | | guration. | | | | | | | The AMF | | | | | | | resets | | | | | | | the MO | | | | | | | Exception | | | | | | | Data | | | | | | | Counter | | | | | | | when | | | | | | | receiving | | | | | | | s | | | | | | | uccessful | | | | | | | response | | | | | | | from the | | | | | | | SMF. The | | | | | | | SMF | | | | | | | however | | | | | | | keeps | | | | | | | inc | | | | | | | rementing | | | | | | | the | | | | | | | counter | | | | | | | locally. | | | | | | | | | | | | | | NOTE 3: | | | | | | | If the | | | | | | | AMF has | | | | | | | received | | | | | | | the | | | | | | | callback | | | | | | | in | | | | | | | formation | | | | | | | of the | | | | | | | PCF for | | | | | | | the UE | | | | | | | together | | | | | | | with the | | | | | | | in | | | | | | | formation | | | | | | | of the | | | | | | | PDU | | | | | | | sessions | | | | | | | (i.e. | | | | | | | Slice and | | | | | | | DNN | | | | | | | com | | | | | | | bination) | | | | | | | that are | | | | | | | a | | | | | | | pplicable | | | | | | | for | | | | | | | not | | | | | | | ification | | | | | | | of SM | | | | | | | Policy | | | | | | | As | | | | | | | sociation | | | | | | | events, | | | | | | | the AMF | | | | | | | shall | | | | | | | identify | | | | | | | whether | | | | | | | any | | | | | | | ongoing | | | | | | | no | | | | | | | n-roaming | | | | | | | or local | | | | | | | breakout | | | | | | | PDU | | | | | | | session | | | | | | | is | | | | | | | a | | | | | | | pplicable | | | | | | | for SM | | | | | | | Policy | | | | | | | As | | | | | | | sociation | | | | | | | events, | | | | | | | i.e, | | | | | | | whether | | | | | | | the slice | | | | | | | and DNN | | | | | | | co | | | | | | | mbination | | | | | | | of the | | | | | | | PDU | | | | | | | session | | | | | | | is listed | | | | | | | in the | | | | | | | received | | | | | | | PDU | | | | | | | session | | | | | | | in | | | | | | | formation | | | | | | | from the | | | | | | | PCF for | | | | | | | the UE. | | | | | | | If the | | | | | | | PDU | | | | | | | session | | | | | | | is | | | | | | | a | | | | | | | pplicable | | | | | | | for | | | | | | | not | | | | | | | ification | | | | | | | of SM | | | | | | | Policy | | | | | | | As | | | | | | | sociation | | | | | | | events , | | | | | | | the AMF | | | | | | | shall | | | | | | | invoke | | | | | | | Update SM | | | | | | | context | | | | | | | service | | | | | | | operation | | | | | | | for the | | | | | | | PDU | | | | | | | session | | | | | | | and | | | | | | | include | | | | | | | the | | | | | | | smPolicy | | | | | | | NotifyInd | | | | | | | IE with | | | | | | | the value | | | | | | | \"true\" | | | | | | | and the | | | | | | | callback | | | | | | | in | | | | | | | formation | | | | | | | of the | | | | | | | PCF for | | | | | | | the UE in | | | | | | | the | | | | | | | request. | | | | | | | The SMF | | | | | | | shall | | | | | | | forward | | | | | | | the | | | | | | | callback | | | | | | | in | | | | | | | formation | | | | | | | of the | | | | | | | PCF for | | | | | | | the UE to | | | | | | | the PCF | | | | | | | for SM | | | | | | | Policy if | | | | | | | exists | | | | | | | via SM | | | | | | | Policy | | | | | | | As | | | | | | | sociation | | | | | | | Modi | | | | | | | fication. | | | | | | | See | | | | | | | claus | | | | | | | e 4.3.3.2 | | | | | | | of | | | | | | | 3GP | | | | | | | P TS 23.5 | | | | | | | 02 [3]. | | | | | | | The AMF | | | | | | | needs not | | | | | | | update | | | | | | | the SMF | | | | | | | if the | | | | | | | sub | | | | | | | scription | | | | | | | to the SM | | | | | | | Policy | | | | | | | As | | | | | | | sociation | | | | | | | events | | | | | | | for the | | | | | | | PDU | | | | | | | session | | | | | | | is | | | | | | | cancelled | | | | | | | by the | | | | | | | PCF for | | | | | | | UE. | | | | | | +-----------+-----------+---+-----------+-----------+-----------+
##### 6.1.6.2.5 Type: SmContextUpdatedData
Table 6.1.6.2.5-1: Definition of type SmContextUpdatedData
+-----------+-----------+---+-----------+-----------+-----------+ | Attribute | Data type | P | Ca | De | Appl | | name | | | rdinality | scription | icability | +===========+===========+===+===========+===========+===========+ | u | U | C | 0..1 | This IE | | | pCnxState | pCnxState | | | shall be | | | | | | | present | | | | | | | if the | | | | | | | SMF was | | | | | | | requested | | | | | | | to | | | | | | | activate | | | | | | | or | | | | | | | d | | | | | | | eactivate | | | | | | | the user | | | | | | | plane | | | | | | | c | | | | | | | onnection | | | | | | | of the | | | | | | | PDU | | | | | | | session | | | | | | | in the | | | | | | | corr | | | | | | | esponding | | | | | | | request. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | be set as | | | | | | | specified | | | | | | | in | | | | | | | clauses | | | | | | | 5 | | | | | | | .2.2.3.2, | | | | | | | 5 | | | | | | | .2.2.3.15 | | | | | | | and | | | | | | | 5. | | | | | | | 2.2.3.16. | | +-----------+-----------+---+-----------+-----------+-----------+ | hoState | HoState | C | 0..1 | This IE | | | | | | | shall be | | | | | | | present | | | | | | | if the | | | | | | | SMF was | | | | | | | requested | | | | | | | to | | | | | | | prepare, | | | | | | | execute | | | | | | | or cancel | | | | | | | a | | | | | | | handover | | | | | | | for the | | | | | | | PDU | | | | | | | session | | | | | | | in the | | | | | | | corr | | | | | | | esponding | | | | | | | request. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | be set as | | | | | | | specified | | | | | | | in | | | | | | | clause 5 | | | | | | | .2.2.3.4. | | +-----------+-----------+---+-----------+-----------+-----------+ | relea | array(Eps | C | 1..N | This IE | | | seEbiList | BearerId) | | | shall be | | | | | | | present | | | | | | | if the | | | | | | | SMF | | | | | | | d | | | | | | | etermines | | | | | | | that some | | | | | | | EBIs are | | | | | | | not | | | | | | | needed. | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | contain | | | | | | | the EBIs | | | | | | | to be | | | | | | | released. | | +-----------+-----------+---+-----------+-----------+-----------+ | allocat | ar | C | 1..N | This IE | | | edEbiList | ray(EbiAr | | | shall be | | | | pMapping) | | | present | | | | | | | if the | | | | | | | consumer | | | | | | | NF is an | | | | | | | AMF and | | | | | | | Int | | | | | | | er-system | | | | | | | mobility | | | | | | | happens. | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | contain | | | | | | | an array | | | | | | | of EBI to | | | | | | | ARP | | | | | | | mappings | | | | | | | currently | | | | | | | allocated | | | | | | | to the | | | | | | | PDU | | | | | | | session. | | +-----------+-----------+---+-----------+-----------+-----------+ | modifi | ar | C | 1..N | This IE | | | edEbiList | ray(EbiAr | | | shall be | | | | pMapping) | | | present | | | | | | | if a PDU | | | | | | | session | | | | | | | mod | | | | | | | ification | | | | | | | procedure | | | | | | | resulted | | | | | | | in the | | | | | | | change of | | | | | | | ARP for a | | | | | | | QoS flow | | | | | | | that was | | | | | | | already | | | | | | | allocated | | | | | | | an EBI. | | +-----------+-----------+---+-----------+-----------+-----------+ | n1SmMsg | RefToB | C | 0..1 | This IE | | | | inaryData | | | shall be | | | | | | | present | | | | | | | if N1 SM | | | | | | | In | | | | | | | formation | | | | | | | needs to | | | | | | | be sent | | | | | | | to the | | | | | | | UE. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | reference | | | | | | | the N1 SM | | | | | | | Message | | | | | | | binary | | | | | | | data (see | | | | | | | clause 6. | | | | | | | 1.6.4.2). | | +-----------+-----------+---+-----------+-----------+-----------+ | n2SmInfo | RefToB | C | 0..1 | This IE | | | | inaryData | | | shall be | | | | | | | present | | | | | | | if N2 SM | | | | | | | In | | | | | | | formation | | | | | | | needs to | | | | | | | be sent | | | | | | | to the | | | | | | | AN. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | reference | | | | | | | the N2 SM | | | | | | | In | | | | | | | formation | | | | | | | binary | | | | | | | data (see | | | | | | | clause 6. | | | | | | | 1.6.4.3). | | +-----------+-----------+---+-----------+-----------+-----------+ | n2S | N2S | C | 0..1 | This IE | | | mInfoType | mInfoType | | | shall be | | | | | | | present | | | | | | | if | | | | | | | \"n | | | | | | | 2SmInfo\" | | | | | | | attribute | | | | | | | is | | | | | | | present. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | indicate | | | | | | | the NG AP | | | | | | | IE type | | | | | | | for the | | | | | | | NG AP SMF | | | | | | | related | | | | | | | IE | | | | | | | container | | | | | | | carried | | | | | | | in | | | | | | | \"n | | | | | | | 2SmInfo\" | | | | | | | a | | | | | | | ttribute. | | +-----------+-----------+---+-----------+-----------+-----------+ | epsBe | array(E | C | 1..N | This IE | | | arerSetup | psBearerC | | | shall be | | | | ontainer) | | | present | | | | | | | during an | | | | | | | EPS to | | | | | | | 5GS | | | | | | | handover | | | | | | | using the | | | | | | | N26 | | | | | | | i | | | | | | | nterface. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | include | | | | | | | the EPS | | | | | | | bearer | | | | | | | c | | | | | | | ontext(s) | | | | | | | suc | | | | | | | cessfully | | | | | | | handed | | | | | | | over to | | | | | | | 5GS. | | +-----------+-----------+---+-----------+-----------+-----------+ | dataF | boolean | C | 0..1 | This IE | | | orwarding | | | | shall be | | | | | | | present | | | | | | | if it was | | | | | | | present | | | | | | | in the | | | | | | | corr | | | | | | | esponding | | | | | | | request. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | be set as | | | | | | | specified | | | | | | | in | | | | | | | clause | | | | | | | 5.2.2.3.9 | | | | | | | or | | | | | | | 5. | | | | | | | 2.2.3.21. | | +-----------+-----------+---+-----------+-----------+-----------+ | n3D | array | C | 1..N | This IE | DTSSA | | lForwardi | (Indire | | | shall be | | | ngTnlList | ctDataFor | | | present | | | | wardingTu | | | if | | | | nnelInfo) | | | indirect | | | | | | | data | | | | | | | f | | | | | | | orwarding | | | | | | | is | | | | | | | requested | | | | | | | and N9 | | | | | | | downlink | | | | | | | indirect | | | | | | | data | | | | | | | f | | | | | | | orwarding | | | | | | | tunnels | | | | | | | info is | | | | | | | included | | | | | | | in the | | | | | | | corr | | | | | | | esponding | | | | | | | request. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | carry the | | | | | | | list of | | | | | | | N3 | | | | | | | downlink | | | | | | | indirect | | | | | | | data | | | | | | | f | | | | | | | orwarding | | | | | | | tunnels | | | | | | | info of | | | | | | | source | | | | | | | I-UPF or | | | | | | | source | | | | | | | UPF. | | +-----------+-----------+---+-----------+-----------+-----------+ | n3U | array | C | 1..N | This IE | DTSSA | | lForwardi | (Indire | | | shall be | | | ngTnlList | ctDataFor | | | present | | | | wardingTu | | | if | | | | nnelInfo) | | | indirect | | | | | | | data | | | | | | | f | | | | | | | orwarding | | | | | | | is | | | | | | | requested | | | | | | | and N9 | | | | | | | uplink | | | | | | | indirect | | | | | | | data | | | | | | | f | | | | | | | orwarding | | | | | | | tunnels | | | | | | | info is | | | | | | | included | | | | | | | in the | | | | | | | corr | | | | | | | esponding | | | | | | | request. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | carry the | | | | | | | list of | | | | | | | N3 uplink | | | | | | | indirect | | | | | | | data | | | | | | | f | | | | | | | orwarding | | | | | | | tunnels | | | | | | | info of | | | | | | | source | | | | | | | I-UPF or | | | | | | | source | | | | | | | UPF. | | +-----------+-----------+---+-----------+-----------+-----------+ | n9 | T | C | 0..1 | This IE | N9FSC | | UlForward | unnelInfo | | | shall be | | | ingTunnel | | | | present | | | | | | | in the | | | | | | | following | | | | | | | case: | | | | | | | | | | | | | | - | | | | | | | sim | | | | | | | ultaneous | | | | | | | change of | | | | | | | Branching | | | | | | | Points or | | | | | | | UL CLs | | | | | | | c | | | | | | | ontrolled | | | | | | | by | | | | | | | different | | | | | | | I-SMFs, | | | | | | | if uplink | | | | | | | data | | | | | | | f | | | | | | | orwarding | | | | | | | tunnel is | | | | | | | requested | | | | | | | to be | | | | | | | es | | | | | | | tablished | | | | | | | from | | | | | | | target BP | | | | | | | / UL CL | | | | | | | to source | | | | | | | BP / UL | | | | | | | CL (see | | | | | | | clause | | | | | | | 4.23.9.5 | | | | | | | of | | | | | | | 3GPP | | | | | | | TS 23.50 | | | | | | | 2 [3]). | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | carry the | | | | | | | N9 uplink | | | | | | | data | | | | | | | f | | | | | | | orwarding | | | | | | | tunnel | | | | | | | info of | | | | | | | the | | | | | | | source BP | | | | | | | / UL CL. | | +-----------+-----------+---+-----------+-----------+-----------+ | cause | Cause | C | 0..1 | This IE | | | | | | | shall be | | | | | | | present | | | | | | | if the | | | | | | | a | | | | | | | ctivation | | | | | | | of the | | | | | | | User | | | | | | | Plane | | | | | | | c | | | | | | | onnection | | | | | | | failed | | | | | | | due to | | | | | | | ins | | | | | | | ufficient | | | | | | | resources | | | | | | | (see | | | | | | | cl | | | | | | | ause 5.2. | | | | | | | 2.3.2.2). | | +-----------+-----------+---+-----------+-----------+-----------+ | maAc | boolean | C | 0..1 | This IE | MAPDU | | ceptedInd | | | | shall be | | | | | | | present | | | | | | | if a | | | | | | | request | | | | | | | to modify | | | | | | | a single | | | | | | | access | | | | | | | PDU | | | | | | | session | | | | | | | into a MA | | | | | | | PDU | | | | | | | session | | | | | | | was | | | | | | | accepted | | | | | | | (see | | | | | | | clause | | | | | | | 4.22.6.3 | | | | | | | of | | | | | | | 3GPP | | | | | | | TS 23.50 | | | | | | | 2 [3]). | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | be set as | | | | | | | follows: | | | | | | | | | | | | | | > \- | | | | | | | > true: | | | | | | | > MA PDU | | | | | | | > session | | | | | | | > | | | | | | | > \- | | | | | | | > false | | | | | | | > ( | | | | | | | default): | | | | | | | > single | | | | | | | > access | | | | | | | > PDU | | | | | | | > session | | +-----------+-----------+---+-----------+-----------+-----------+ | supporte | Supporte | C | 0..1 | This IE | | | dFeatures | dFeatures | | | shall be | | | | | | | present | | | | | | | if the | | | | | | | supporte | | | | | | | dFeatures | | | | | | | IE was | | | | | | | received | | | | | | | in the | | | | | | | request | | | | | | | and at | | | | | | | least one | | | | | | | optional | | | | | | | feature | | | | | | | defined | | | | | | | in | | | | | | | cla | | | | | | | use 6.1.8 | | | | | | | is | | | | | | | supported | | | | | | | by the | | | | | | | updated | | | | | | | SM | | | | | | | context | | | | | | | resource. | | +-----------+-----------+---+-----------+-----------+-----------+ | forwar | Bytes | C | 0..1 | This IE | CIOT | | dingFTeid | | | | shall be | | | | | | | present | | | | | | | during an | | | | | | | EPS to | | | | | | | 5GS Idle | | | | | | | mode | | | | | | | mobility | | | | | | | using N26 | | | | | | | interface | | | | | | | with data | | | | | | | f | | | | | | | orwarding | | | | | | | (see | | | | | | | clause 4. | | | | | | | 11.1.3.3A | | | | | | | of | | | | | | | 3GPP | | | | | | | TS 23.50 | | | | | | | 2 [3]), | | | | | | | if the | | | | | | | F | | | | | | | orwarding | | | | | | | F-TEID IE | | | | | | | shall be | | | | | | | sent to | | | | | | | the MME | | | | | | | in the | | | | | | | Context | | | | | | | Ac | | | | | | | knowledge | | | | | | | message. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | contain | | | | | | | Base6 | | | | | | | 4-encoded | | | | | | | ch | | | | | | | aracters, | | | | | | | encoding | | | | | | | the | | | | | | | F | | | | | | | orwarding | | | | | | | F-TEID to | | | | | | | be sent | | | | | | | in the | | | | | | | Context | | | | | | | Ac | | | | | | | knowledge | | | | | | | message, | | | | | | | as | | | | | | | specified | | | | | | | in Figure | | | | | | | 8.22-1 of | | | | | | | 3GP | | | | | | | P TS 29.2 | | | | | | | 74 [16] | | | | | | | (starting | | | | | | | from | | | | | | | octet 1). | | +-----------+-----------+---+-----------+-----------+-----------+ | forwar | array | C | 1..N | This IE | CIOT | | dingBeare | (Forwardi | | | shall be | | | rContexts | ngBearerC | | | present | | | | ontainer) | | | during an | | | | | | | EOS to | | | | | | | 5GS Idle | | | | | | | mode | | | | | | | mobility | | | | | | | using N26 | | | | | | | interface | | | | | | | with data | | | | | | | f | | | | | | | orwarding | | | | | | | (see | | | | | | | clause 4. | | | | | | | 11.1.3.3A | | | | | | | of | | | | | | | 3GPP | | | | | | | TS 23.50 | | | | | | | 2 [3]), | | | | | | | if the | | | | | | | Bearer | | | | | | | Contexts | | | | | | | IE shall | | | | | | | be sent | | | | | | | to the | | | | | | | MME in | | | | | | | the | | | | | | | Context | | | | | | | Ac | | | | | | | knowledge | | | | | | | message. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | contain | | | | | | | the | | | | | | | Bearer | | | | | | | Contexts | | | | | | | to be | | | | | | | sent in | | | | | | | the | | | | | | | Context | | | | | | | Ac | | | | | | | knowledge | | | | | | | message. | | +-----------+-----------+---+-----------+-----------+-----------+ | sele | NfI | C | 0..1 | This IE | DTSSA | | ctedSmfId | nstanceId | | | shall be | | | | | | | present | | | | | | | if a new | | | | | | | (h)SMF is | | | | | | | selected | | | | | | | e.g. by | | | | | | | the new | | | | | | | I/V-SMF, | | | | | | | or a SCP | | | | | | | between | | | | | | | the new | | | | | | | I/V-SMF | | | | | | | and the | | | | | | | (h)SMF. | | | | | | | (NOTE) | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | contain | | | | | | | the | | | | | | | selected | | | | | | | SMF NF | | | | | | | Instance | | | | | | | Id. | | +-----------+-----------+---+-----------+-----------+-----------+ | selecte | NfI | C | 0..1 | This IE | DTSSA | | dOldSmfId | nstanceId | | | shall be | | | | | | | present | | | | | | | if if | | | | | | | another | | | | | | | old | | | | | | | I | | | | | | | /V-SMF(as | | | | | | | al | | | | | | | ternative | | | | | | | to the | | | | | | | old | | | | | | | I/V-SMF) | | | | | | | is | | | | | | | selected, | | | | | | | e.g. by | | | | | | | the new | | | | | | | I/V-SMF | | | | | | | or a SCP | | | | | | | between | | | | | | | the new | | | | | | | I/V-SMF | | | | | | | and the | | | | | | | old | | | | | | | I/V-SMF. | | | | | | | (NOTE) | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | contain | | | | | | | the | | | | | | | selected | | | | | | | old | | | | | | | I/V-SMF | | | | | | | NF | | | | | | | Instance | | | | | | | Id. | | +-----------+-----------+---+-----------+-----------+-----------+ | interPl | Uri | C | 0..1 | This IE | | | mnApiRoot | | | | should be | | | | | | | present | | | | | | | if the | | | | | | | in | | | | | | | formation | | | | | | | has | | | | | | | changed. | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | contain | | | | | | | the | | | | | | | apiRoot | | | | | | | of the SM | | | | | | | context | | | | | | | to be | | | | | | | used in | | | | | | | i | | | | | | | nter-PLMN | | | | | | | s | | | | | | | ignalling | | | | | | | request | | | | | | | targeting | | | | | | | the SM | | | | | | | context. | | +-----------+-----------+---+-----------+-----------+-----------+ | anchorSm | AnchorSm | O | 0..1 | This IE | | | fFeatures | fFeatures | | | may be | | | | | | | present | | | | | | | to | | | | | | | indicate | | | | | | | a list of | | | | | | | features | | | | | | | supported | | | | | | | by the | | | | | | | (H-)SMF | | | | | | | to the | | | | | | | AMF. | | +-----------+-----------+---+-----------+-----------+-----------+ | NOTE: | | | | | | | During an | | | | | | | SmContext | | | | | | | Update | | | | | | | p | | | | | | | rocedure, | | | | | | | if a new | | | | | | | (h)SMF | | | | | | | and/or | | | | | | | another | | | | | | | old | | | | | | | I/V-SMF | | | | | | | has been | | | | | | | re | | | | | | | -selected | | | | | | | (since | | | | | | | the old | | | | | | | I/V-SMF | | | | | | | or the | | | | | | | (h)SMF is | | | | | | | not | | | | | | | r | | | | | | | eachable) | | | | | | | by the | | | | | | | new | | | | | | | I-/V-SMF | | | | | | | or a SCP, | | | | | | | the | | | | | | | selected | | | | | | | old | | | | | | | I-/V-SMF | | | | | | | and/or | | | | | | | (h)SMF | | | | | | | shall be | | | | | | | returned | | | | | | | to the | | | | | | | AMF, in | | | | | | | order to | | | | | | | perform | | | | | | | potential | | | | | | | s | | | | | | | ubsequent | | | | | | | o | | | | | | | perations | | | | | | | on the | | | | | | | SMF | | | | | | | hosting | | | | | | | the | | | | | | | resource, | | | | | | | e.g. to | | | | | | | release | | | | | | | the SM | | | | | | | Context | | | | | | | on old | | | | | | | I-/V-SMF, | | | | | | | or to | | | | | | | create SM | | | | | | | Context | | | | | | | on SMF | | | | | | | when the | | | | | | | I/V-SMF | | | | | | | needs to | | | | | | | be | | | | | | | removed. | | | | | | +-----------+-----------+---+-----------+-----------+-----------+
##### 6.1.6.2.6 Type: SmContextReleaseData
Table 6.1.6.2.6-1: Definition of type SmContextReleaseData
+-----------+-----------+---+-----------+-----------+-----------+ | Attribute | Data type | P | Ca | De | Appl | | name | | | rdinality | scription | icability | +===========+===========+===+===========+===========+===========+ | cause | Cause | C | 0..1 | This IE | | | | | | | shall be | | | | | | | present, | | | | | | | if the | | | | | | | in | | | | | | | formation | | | | | | | is | | | | | | | a | | | | | | | vailable. | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | indicate | | | | | | | the NF | | | | | | | Service | | | | | | | Consumer | | | | | | | cause for | | | | | | | the | | | | | | | requested | | | | | | | SM | | | | | | | context | | | | | | | release. | | +-----------+-----------+---+-----------+-----------+-----------+ | ngApCause | NgApCause | C | 0..1 | This IE | | | | | | | shall be | | | | | | | present, | | | | | | | if the | | | | | | | in | | | | | | | formation | | | | | | | is | | | | | | | a | | | | | | | vailable. | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | indicate | | | | | | | the NGAP | | | | | | | cause for | | | | | | | the | | | | | | | requested | | | | | | | SM | | | | | | | context | | | | | | | release. | | +-----------+-----------+---+-----------+-----------+-----------+ | 5gMmC | 5GMmCause | C | 0..1 | This IE | | | auseValue | | | | shall be | | | | | | | included | | | | | | | if the | | | | | | | PDU | | | | | | | session | | | | | | | is | | | | | | | released | | | | | | | by the | | | | | | | AMF due | | | | | | | to any | | | | | | | 5GMM | | | | | | | failure. | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | contain | | | | | | | the 5GMM | | | | | | | cause | | | | | | | code | | | | | | | value | | | | | | | received | | | | | | | from the | | | | | | | UE. | | +-----------+-----------+---+-----------+-----------+-----------+ | u | Use | C | 0..1 | This IE | | | eLocation | rLocation | | | shall be | | | | | | | present, | | | | | | | if | | | | | | | a | | | | | | | vailable. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | contain | | | | | | | the UE | | | | | | | location | | | | | | | in | | | | | | | formation | | | | | | | (see | | | | | | | clause | | | | | | | 5.2.3.4). | | | | | | | See NOTE. | | +-----------+-----------+---+-----------+-----------+-----------+ | u | TimeZone | C | 0..1 | This IE | | | eTimeZone | | | | shall be | | | | | | | present, | | | | | | | if | | | | | | | a | | | | | | | vailable. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | contain | | | | | | | the UE | | | | | | | Time Zone | | | | | | | inf | | | | | | | ormation. | | +-----------+-----------+---+-----------+-----------+-----------+ | addU | Use | O | 0..1 | A | | | eLocation | rLocation | | | dditional | | | | | | | UE | | | | | | | location. | | | | | | | | | | | | | | This IE | | | | | | | may be | | | | | | | present, | | | | | | | if anType | | | | | | | p | | | | | | | reviously | | | | | | | reported | | | | | | | is a | | | | | | | non-3GPP | | | | | | | access | | | | | | | and a | | | | | | | valid | | | | | | | 3GPP | | | | | | | access | | | | | | | user | | | | | | | location | | | | | | | in | | | | | | | formation | | | | | | | is | | | | | | | a | | | | | | | vailable. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | contain: | | | | | | | | | | | | | | - the | | | | | | | last | | | | | | | known | | | | | | | 3GPP | | | | | | | access | | | | | | | user | | | | | | | location | | | | | | | (see | | | | | | | clause | | | | | | | 5.2.3.4); | | | | | | | and | | | | | | | | | | | | | | - the | | | | | | | t | | | | | | | imestamp, | | | | | | | if | | | | | | | a | | | | | | | vailable, | | | | | | | i | | | | | | | ndicating | | | | | | | the UTC | | | | | | | time when | | | | | | | the | | | | | | | addU | | | | | | | eLocation | | | | | | | in | | | | | | | formation | | | | | | | was | | | | | | | acquired. | | | | | | | | | | | | | | See NOTE. | | +-----------+-----------+---+-----------+-----------+-----------+ | vsmfRe | boolean | C | 0..1 | This IE | | | leaseOnly | | | | shall be | | | | | | | present | | | | | | | and set | | | | | | | to | | | | | | | \"true\" | | | | | | | during a | | | | | | | 5GS to | | | | | | | EPS Idle | | | | | | | mode | | | | | | | mobility | | | | | | | or | | | | | | | handover, | | | | | | | for a | | | | | | | Home | | | | | | | Routed | | | | | | | PDU | | | | | | | session | | | | | | | a | | | | | | | ssociated | | | | | | | with 3GPP | | | | | | | access | | | | | | | and with | | | | | | | assigned | | | | | | | EBI(s), | | | | | | | or during | | | | | | | Regi | | | | | | | stration, | | | | | | | UE | | | | | | | Triggered | | | | | | | Service | | | | | | | Request, | | | | | | | Inter | | | | | | | NG-RAN | | | | | | | node Xn | | | | | | | based | | | | | | | handover | | | | | | | and N2 | | | | | | | based | | | | | | | handover | | | | | | | p | | | | | | | rocedures | | | | | | | with | | | | | | | V-SMF | | | | | | | change or | | | | | | | removal. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | be set as | | | | | | | follows: | | | | | | | | | | | | | | > \- | | | | | | | > true: | | | | | | | > release | | | | | | | > the SM | | | | | | | > context | | | | | | | > and PDU | | | | | | | > session | | | | | | | > in the | | | | | | | > V-SMF | | | | | | | > only; | | | | | | | > | | | | | | | > \- | | | | | | | > false | | | | | | | > ( | | | | | | | default): | | | | | | | > release | | | | | | | > the SM | | | | | | | > context | | | | | | | > and PDU | | | | | | | > session | | | | | | | > in | | | | | | | > V-SMF | | | | | | | > and | | | | | | | > H-SMF. | | +-----------+-----------+---+-----------+-----------+-----------+ | n2SmInfo | RefToB | C | 0..1 | This IE | | | | inaryData | | | shall be | | | | | | | present | | | | | | | if N2 SM | | | | | | | In | | | | | | | formation | | | | | | | has been | | | | | | | received | | | | | | | from the | | | | | | | AN. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | reference | | | | | | | the N2 SM | | | | | | | In | | | | | | | formation | | | | | | | binary | | | | | | | data (see | | | | | | | clause 6. | | | | | | | 1.6.4.3). | | +-----------+-----------+---+-----------+-----------+-----------+ | n2S | N2S | C | 0..1 | This IE | | | mInfoType | mInfoType | | | shall be | | | | | | | present | | | | | | | if | | | | | | | \"n | | | | | | | 2SmInfo\" | | | | | | | attribute | | | | | | | is | | | | | | | present. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | indicate | | | | | | | the NG AP | | | | | | | IE type | | | | | | | for the | | | | | | | NG AP SMF | | | | | | | related | | | | | | | IE | | | | | | | container | | | | | | | carried | | | | | | | in | | | | | | | \"n | | | | | | | 2SmInfo\" | | | | | | | a | | | | | | | ttribute. | | +-----------+-----------+---+-----------+-----------+-----------+ | ismfRe | boolean | C | 0..1 | This IE | DTSSA | | leaseOnly | | | | shall be | | | | | | | present | | | | | | | and set | | | | | | | to | | | | | | | \"true\" | | | | | | | during a | | | | | | | 5GS to | | | | | | | EPS Idle | | | | | | | mode | | | | | | | mobility | | | | | | | or | | | | | | | handover | | | | | | | with | | | | | | | I-SMF | | | | | | | removal, | | | | | | | or during | | | | | | | Regi | | | | | | | stration, | | | | | | | UE | | | | | | | Triggered | | | | | | | Service | | | | | | | Request, | | | | | | | Inter | | | | | | | NG-RAN | | | | | | | node Xn | | | | | | | based | | | | | | | handover | | | | | | | and N2 | | | | | | | based | | | | | | | handover | | | | | | | with | | | | | | | I-SMF | | | | | | | change or | | | | | | | removal. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | be set as | | | | | | | follows: | | | | | | | | | | | | | | > \- | | | | | | | > true: | | | | | | | > only | | | | | | | > release | | | | | | | > the SM | | | | | | | > context | | | | | | | > of the | | | | | | | > PDU | | | | | | | > session | | | | | | | > in the | | | | | | | > I-SMF; | | | | | | | > | | | | | | | > \- | | | | | | | > false | | | | | | | > ( | | | | | | | default): | | | | | | | > release | | | | | | | > the SM | | | | | | | > context | | | | | | | > and PDU | | | | | | | > session | | | | | | | > in | | | | | | | > I-SMF | | | | | | | > and | | | | | | | > SMF. | | +-----------+-----------+---+-----------+-----------+-----------+ | NOTE: In | | | | | | | shared | | | | | | | networks, | | | | | | | when the | | | | | | | message | | | | | | | is sent | | | | | | | from the | | | | | | | VPLMN to | | | | | | | the | | | | | | | HPLMN, | | | | | | | the PLMN | | | | | | | ID that | | | | | | | is | | | | | | | com | | | | | | | municated | | | | | | | in this | | | | | | | IE shall | | | | | | | be that | | | | | | | of the | | | | | | | selected | | | | | | | Core | | | | | | | Network | | | | | | | O | | | | | | | perator.\ | | | | | | | In shared | | | | | | | networks, | | | | | | | when the | | | | | | | AMF and | | | | | | | SMF | | | | | | | pertain | | | | | | | to the | | | | | | | same | | | | | | | PLMN, the | | | | | | | Primary | | | | | | | PLMN ID | | | | | | | shall be | | | | | | | com | | | | | | | municated | | | | | | | in the | | | | | | | ECGI or | | | | | | | NCGI to | | | | | | | the SMF. | | | | | | | The Core | | | | | | | Network | | | | | | | Operator | | | | | | | PLMN ID | | | | | | | shall be | | | | | | | com | | | | | | | municated | | | | | | | in the | | | | | | | TAI and | | | | | | | the | | | | | | | Serving | | | | | | | Network. | | | | | | +-----------+-----------+---+-----------+-----------+-----------+
##### 6.1.6.2.7 Type: SmContextRetrieveData
Table 6.1.6.2.7-1: Definition of type SmContextRetrieveData
+-----------+-----------+---+-----------+-----------+-----------+ | Attribute | Data type | P | Ca | De | Appl | | name | | | rdinality | scription | icability | +===========+===========+===+===========+===========+===========+ | tar | MmeCap | C | 0..1 | This IE | | | getMmeCap | abilities | | | shall be | | | | | | | present | | | | | | | if it is | | | | | | | a | | | | | | | vailable. | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | contain | | | | | | | the | | | | | | | target | | | | | | | MME | | | | | | | capa | | | | | | | bilities. | | +-----------+-----------+---+-----------+-----------+-----------+ | smCo | SmCo | C | 0..1 | This IE | DTSSA, | | ntextType | ntextType | | | shall be | CTXTR | | | | | | present | | | | | | | if this | EnEDGE | | | | | | is a | | | | | | | request | | | | | | | to | | | | | | | retrieve | | | | | | | the | | | | | | | complete | | | | | | | SM | | | | | | | context, | | | | | | | during | | | | | | | scenarios | | | | | | | with an | | | | | | | I-SMF or | | | | | | | V-SMF | | | | | | | inserti | | | | | | | on/change | | | | | | | /removal, | | | | | | | or during | | | | | | | SMF | | | | | | | Context | | | | | | | Transfer | | | | | | | procedure | | | | | | | for LBO | | | | | | | or | | | | | | | no | | | | | | | n-roaming | | | | | | | PDU | | | | | | | session | | | | | | | without | | | | | | | I-SMF | | | | | | | (see | | | | | | | clause | | | | | | | 4.26.5.3 | | | | | | | of 3GPP | | | | | | | TS 23.50 | | | | | | | 2 [3]). | | | | | | | | | | | | | | This IE | | | | | | | shall | | | | | | | also be | | | | | | | present | | | | | | | if this | | | | | | | is a | | | | | | | request | | | | | | | to | | | | | | | retrieve | | | | | | | the AF | | | | | | | Coo | | | | | | | rdination | | | | | | | In | | | | | | | formation | | | | | | | during | | | | | | | the | | | | | | | change of | | | | | | | SSC mode | | | | | | | 3 PDU | | | | | | | Session | | | | | | | Anchor | | | | | | | with | | | | | | | multiple | | | | | | | PDU | | | | | | | Sessions, | | | | | | | if the | | | | | | | runtime | | | | | | | coo | | | | | | | rdination | | | | | | | between | | | | | | | old SMF | | | | | | | and AF is | | | | | | | enabled | | | | | | | (see | | | | | | | claus | | | | | | | e 4.3.5.2 | | | | | | | of | | | | | | | 3GPP | | | | | | | TS 23.50 | | | | | | | 2 [3]). | | +-----------+-----------+---+-----------+-----------+-----------+ | servi | PlmnId | C | 0..1 | This IE | DTSSA | | ngNetwork | | | | shall be | | | | | | | present | | | | | | | when the | | | | | | | procedure | | | | | | | is | | | | | | | triggered | | | | | | | by a new | | | | | | | V-SMF, if | | | | | | | the new | | | | | | | V-SMF | | | | | | | supports | | | | | | | i | | | | | | | nter-PLMN | | | | | | | V-SMF | | | | | | | change or | | | | | | | i | | | | | | | nsertion. | | | | | | | | | | | | | | This IE | | | | | | | shall | | | | | | | also be | | | | | | | present | | | | | | | during | | | | | | | the | | | | | | | procedure | | | | | | | with an | | | | | | | I-SMF | | | | | | | i | | | | | | | nsertion. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | contain | | | | | | | the | | | | | | | serving | | | | | | | core | | | | | | | network | | | | | | | operator | | | | | | | PLMN ID | | | | | | | of the NF | | | | | | | Service | | | | | | | Consumer | | | | | | | (i.e. new | | | | | | | V-SMF or | | | | | | | new | | | | | | | I-SMF). | | +-----------+-----------+---+-----------+-----------+-----------+ | no | array(Eps | C | 1..N | This IE | | | tToTransf | BearerId) | | | shall be | | | erEbiList | | | | present, | | | | | | | if the SM | | | | | | | context | | | | | | | type IE | | | | | | | is absent | | | | | | | or | | | | | | | indicate | | | | | | | a request | | | | | | | to | | | | | | | retrieve | | | | | | | the EPS | | | | | | | PDN | | | | | | | co | | | | | | | nnection, | | | | | | | and the | | | | | | | AMF | | | | | | | d | | | | | | | etermines | | | | | | | that | | | | | | | certain | | | | | | | EPS | | | | | | | bearers | | | | | | | shall not | | | | | | | to be | | | | | | | tr | | | | | | | ansferred | | | | | | | to EPS | | | | | | | during a | | | | | | | 5GS to | | | | | | | EPS | | | | | | | mobility | | | | | | | p | | | | | | | rocedure, | | | | | | | as | | | | | | | specified | | | | | | | in | | | | | | | clau | | | | | | | se 4.11.1 | | | | | | | of | | | | | | | 3GP | | | | | | | P TS 23.5 | | | | | | | 02 [3]. | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | contain | | | | | | | the EBI | | | | | | | list not | | | | | | | to be | | | | | | | tra | | | | | | | nsferred. | | +-----------+-----------+---+-----------+-----------+-----------+ | ranUnc | boolean | C | 0..1 | This IE | DTSSA | | hangedInd | | | | shall be | | | | | | | present | | | | | | | if AN | | | | | | | Tunnel is | | | | | | | required, | | | | | | | in | | | | | | | scenario | | | | | | | of | | | | | | | I- | | | | | | | SMF/V-SMF | | | | | | | change/ | | | | | | | insertion | | | | | | | during | | | | | | | reg | | | | | | | istration | | | | | | | procedure | | | | | | | after EPS | | | | | | | to 5GS | | | | | | | handover | | | | | | | or I-SMF | | | | | | | selection | | | | | | | per DNAI, | | | | | | | when UE | | | | | | | is in | | | | | | | CM- | | | | | | | CONNECTED | | | | | | | state | | | | | | | (see | | | | | | | clause 5. | | | | | | | 2.2.6.1). | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | be set as | | | | | | | follows: | | | | | | | | | | | | | | - true: | | | | | | | NG-RAN is | | | | | | | not | | | | | | | changed | | | | | | | and the | | | | | | | tunnel | | | | | | | in | | | | | | | formation | | | | | | | is | | | | | | | required; | | | | | | | | | | | | | | - false | | | | | | | (defaul | | | | | | | t):NG-RAN | | | | | | | is | | | | | | | changed | | | | | | | and the | | | | | | | tunnel | | | | | | | in | | | | | | | formation | | | | | | | is not | | | | | | | required. | | +-----------+-----------+---+-----------+-----------+-----------+ | hrsboS | boolean | C | 0..1 | This IE | | | upportInd | | | | shall be | | | | | | | present | | | | | | | if the | | | | | | | procedure | | | | | | | is | | | | | | | triggered | | | | | | | by a new | | | | | | | V-SMF | | | | | | | which | | | | | | | supports | | | | | | | the | | | | | | | HR-SBO | | | | | | | feature. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | be set as | | | | | | | follows: | | | | | | | | | | | | | | - true: | | | | | | | HR-SBO is | | | | | | | s | | | | | | | upported; | | | | | | | | | | | | | | - false | | | | | | | ( | | | | | | | default): | | | | | | | HR-SBO is | | | | | | | not | | | | | | | s | | | | | | | upported. | | +-----------+-----------+---+-----------+-----------+-----------+
##### 6.1.6.2.8 Type: SmContextStatusNotification
Table 6.1.6.2.8-1: Definition of type SmContextStatusNotification
+-----------+-----------+---+-----------+-----------+-----------+ | Attribute | Data type | P | Ca | De | Appl | | name | | | rdinality | scription | icability | +===========+===========+===+===========+===========+===========+ | s | S | M | 1 | This IE | | | tatusInfo | tatusInfo | | | shall | | | | | | | contain | | | | | | | status | | | | | | | in | | | | | | | formation | | | | | | | about the | | | | | | | SM | | | | | | | context. | | +-----------+-----------+---+-----------+-----------+-----------+ | s | S | C | 0..1 | This IE | CIOT | | mallDataR | mallDataR | | | shall be | | | ateStatus | ateStatus | | | present, | | | | | | | if the NF | | | | | | | Service | | | | | | | Consumer | | | | | | | has | | | | | | | indicated | | | | | | | support | | | | | | | of CIoT | | | | | | | and if | | | | | | | the | | | | | | | status is | | | | | | | a | | | | | | | vailable. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | indicate | | | | | | | the | | | | | | | current | | | | | | | small | | | | | | | data rate | | | | | | | control | | | | | | | status | | | | | | | for the | | | | | | | PDU | | | | | | | session. | | +-----------+-----------+---+-----------+-----------+-----------+ | apnR | ApnR | C | 0..1 | This IE | CIOT | | ateStatus | ateStatus | | | shall be | | | | | | | present, | | | | | | | if the NF | | | | | | | Service | | | | | | | Consumer | | | | | | | has | | | | | | | indicated | | | | | | | support | | | | | | | of CIoT | | | | | | | and if | | | | | | | the | | | | | | | status is | | | | | | | a | | | | | | | vailable. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | indicate | | | | | | | the | | | | | | | current | | | | | | | APN rate | | | | | | | control | | | | | | | status | | | | | | | for the | | | | | | | PDN | | | | | | | c | | | | | | | onnection | | | | | | | (APN | | | | | | | rates are | | | | | | | shared by | | | | | | | all PDN | | | | | | | co | | | | | | | nnections | | | | | | | of the UE | | | | | | | to this | | | | | | | APN). | | +-----------+-----------+---+-----------+-----------+-----------+ | ddnFail | boolean | C | 0..1 | This IE | CIOT | | ureStatus | | | | shall be | | | | | | | present | | | | | | | if the | | | | | | | DDN | | | | | | | Failure | | | | | | | shall be | | | | | | | reported | | | | | | | (see | | | | | | | clause | | | | | | | 5.2.8.2.8 | | | | | | | of | | | | | | | 3GPP | | | | | | | TS 23.50 | | | | | | | 2 [3]). | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | be set as | | | | | | | follows: | | | | | | | | | | | | | | - true: | | | | | | | DDN | | | | | | | failure | | | | | | | detected | | | | | | | | | | | | | | - false | | | | | | | ( | | | | | | | default): | | | | | | | DDN | | | | | | | failure | | | | | | | is not | | | | | | | detected | | +-----------+-----------+---+-----------+-----------+-----------+ | notify | arra | C | 1..N | This IE | CIOT | | Correlati | y(string) | | | shall be | | | onIdsFord | | | | present | | | dnFailure | | | | if the | | | | | | | DDN | | | | | | | Failure | | | | | | | shall be | | | | | | | reported. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | contain | | | | | | | the | | | | | | | not | | | | | | | ification | | | | | | | co | | | | | | | rrelation | | | | | | | Id(s) of | | | | | | | the DDN | | | | | | | failure | | | | | | | subs | | | | | | | criptions | | | | | | | for which | | | | | | | a DDN | | | | | | | failure | | | | | | | has been | | | | | | | detected. | | | | | | | This | | | | | | | parameter | | | | | | | can be | | | | | | | useful if | | | | | | | the NF | | | | | | | service | | | | | | | consumer | | | | | | | has | | | | | | | multiple | | | | | | | subs | | | | | | | criptions | | | | | | | for the | | | | | | | same PDU | | | | | | | session. | | +-----------+-----------+---+-----------+-----------+-----------+ | ne | NfI | C | 0..1 | This IE | ES3XX | | wIntermed | nstanceId | | | may be | | | iateSmfId | | | | present | | | | | | | for a PDU | | | | | | | session | | | | | | | with an | | | | | | | I-SMF or | | | | | | | V-SMF, if | | | | | | | the | | | | | | | resou | | | | | | | rceStatus | | | | | | | attribute | | | | | | | in | | | | | | | s | | | | | | | tatusInfo | | | | | | | is set to | | | | | | | \" | | | | | | | UPDATED\" | | | | | | | and the | | | | | | | cause in | | | | | | | s | | | | | | | tatusInfo | | | | | | | is set to | | | | | | | \"CH | | | | | | | ANGED_IN | | | | | | | TERMEDIAT | | | | | | | E_SMF\". | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | include | | | | | | | the NF | | | | | | | instance | | | | | | | i | | | | | | | dentifier | | | | | | | of the | | | | | | | new | | | | | | | int | | | | | | | ermediate | | | | | | | SMF when | | | | | | | it is | | | | | | | changed | | | | | | | within an | | | | | | | SMF set. | | +-----------+-----------+---+-----------+-----------+-----------+ | newSmfId | NfI | C | 0..1 | This IE | CTXTR | | | nstanceId | | | may be | | | | | | | present | ES3XX | | | | | | if | | | | | | | resou | | | | | | | rceStatus | | | | | | | in | | | | | | | s | | | | | | | tatusInfo | | | | | | | is set to | | | | | | | \"TRANS | | | | | | | FERRED\". | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | include: | | | | | | | | | | | | | | > \- the | | | | | | | > new | | | | | | | > I-SMF | | | | | | | > | | | | | | | instance | | | | | | | > i | | | | | | | dentifier | | | | | | | > if | | | | | | | > | | | | | | | > the | | | | | | | > cause | | | | | | | > in | | | | | | | > s | | | | | | | tatusInfo | | | | | | | > is | | | | | | | > \ | | | | | | | "ISMF_CO | | | | | | | NTEXT_TR | | | | | | | ANSFER\"; | | | | | | | > | | | | | | | > \- the | | | | | | | > new SMF | | | | | | | > | | | | | | | instance | | | | | | | > i | | | | | | | dentifier | | | | | | | > if the | | | | | | | > cause | | | | | | | > in | | | | | | | > s | | | | | | | tatusInfo | | | | | | | > is | | | | | | | > | | | | | | | \"SMF_CO | | | | | | | NTEXT_TR | | | | | | | ANSFER\". | | | | | | | | | | | | | | This IE | | | | | | | may also | | | | | | | be | | | | | | | present | | | | | | | if the | | | | | | | resou | | | | | | | rceStatus | | | | | | | attribute | | | | | | | in | | | | | | | s | | | | | | | tatusInfo | | | | | | | is set to | | | | | | | \"U | | | | | | | PDATED\". | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | include | | | | | | | the NF | | | | | | | instance | | | | | | | i | | | | | | | dentifier | | | | | | | of the | | | | | | | new H-SMF | | | | | | | or SMF | | | | | | | (for a | | | | | | | PDU | | | | | | | session | | | | | | | with an | | | | | | | I-SMF) | | | | | | | handling | | | | | | | the PDU | | | | | | | session, | | | | | | | when it | | | | | | | is | | | | | | | changed | | | | | | | within an | | | | | | | SMF set, | | | | | | | if the | | | | | | | cause in | | | | | | | s | | | | | | | tatusInfo | | | | | | | is | | | | | | | \"CHANG | | | | | | | ED_ANCHO | | | | | | | R_SMF\". | | +-----------+-----------+---+-----------+-----------+-----------+ | ne | NfSetId | C | 0..1 | This IE | CTXTR | | wSmfSetId | | | | may be | | | | | | | present | | | | | | | if | | | | | | | resou | | | | | | | rceStatus | | | | | | | in | | | | | | | s | | | | | | | tatusInfo | | | | | | | is: | | | | | | | | | | | | | | > \- | | | | | | | > TR | | | | | | | ANSFERRED | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | include: | | | | | | | | | | | | | | > \- The | | | | | | | > new | | | | | | | > I-SMF | | | | | | | > set | | | | | | | > i | | | | | | | dentifier | | | | | | | > if | | | | | | | > cause | | | | | | | > in | | | | | | | > s | | | | | | | tatusInfo | | | | | | | > is | | | | | | | > \ | | | | | | | "ISMF_SE | | | | | | | RVICE_CO | | | | | | | NTEXT_TR | | | | | | | ANSFER\"; | | | | | | | > | | | | | | | > \- The | | | | | | | > new SMF | | | | | | | > set | | | | | | | > i | | | | | | | dentifier | | | | | | | > if | | | | | | | > cause | | | | | | | > in | | | | | | | > s | | | | | | | tatusInfo | | | | | | | > is | | | | | | | > | | | | | | | \"SMF_SE | | | | | | | RVICE_CO | | | | | | | NTEXT_TR | | | | | | | ANSFER\". | | +-----------+-----------+---+-----------+-----------+-----------+ | oldSmfId | NfI | C | 0..1 | This IE | CTXTR | | | nstanceId | | | shall be | | | | | | | present | | | | | | | if | | | | | | | resou | | | | | | | rceStatus | | | | | | | in | | | | | | | s | | | | | | | tatusInfo | | | | | | | is: | | | | | | | | | | | | | | > \- | | | | | | | > TR | | | | | | | ANSFERRED | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | include: | | | | | | | | | | | | | | > \- The | | | | | | | > old | | | | | | | > I-SMF | | | | | | | > | | | | | | | instance | | | | | | | > i | | | | | | | dentifier | | | | | | | > if | | | | | | | > cause | | | | | | | > in | | | | | | | > s | | | | | | | tatusInfo | | | | | | | > is | | | | | | | > \ | | | | | | | "ISMF_CO | | | | | | | NTEXT_TR | | | | | | | ANSFER\"; | | | | | | | > | | | | | | | > \- The | | | | | | | > old SMF | | | | | | | > | | | | | | | instance | | | | | | | > i | | | | | | | dentifier | | | | | | | > if | | | | | | | > cause | | | | | | | > in | | | | | | | > s | | | | | | | tatusInfo | | | | | | | > is | | | | | | | > | | | | | | | \"SMF_CO | | | | | | | NTEXT_TR | | | | | | | ANSFER\". | | +-----------+-----------+---+-----------+-----------+-----------+ | oldSmC | Uri | C | 0..1 | This IE | CTXTR | | ontextRef | | | | may be | | | | | | | present | EnEDGE | | | | | | if | | | | | | | resou | | | | | | | rceStatus | | | | | | | in | | | | | | | s | | | | | | | tatusInfo | | | | | | | is: | | | | | | | | | | | | | | > \- | | | | | | | > TR | | | | | | | ANSFERRED | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | include | | | | | | | the | | | | | | | i | | | | | | | dentifier | | | | | | | of the SM | | | | | | | Context | | | | | | | resource | | | | | | | in the | | | | | | | old I-SMF | | | | | | | or SMF. | | | | | | | | | | | | | | This IE | | | | | | | may also | | | | | | | be | | | | | | | present | | | | | | | if | | | | | | | resou | | | | | | | rceStatus | | | | | | | in | | | | | | | s | | | | | | | tatusInfo | | | | | | | is | | | | | | | \"UNC | | | | | | | HANGED\", | | | | | | | the SMF | | | | | | | selection | | | | | | | during | | | | | | | PDU | | | | | | | Session | | | | | | | re-esta | | | | | | | blishment | | | | | | | for SSC | | | | | | | mode 3 is | | | | | | | needed | | | | | | | and the | | | | | | | runtime | | | | | | | coo | | | | | | | rdination | | | | | | | between | | | | | | | old SMF | | | | | | | and AF is | | | | | | | enabled. | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | contain | | | | | | | the URI | | | | | | | of the SM | | | | | | | Context | | | | | | | resource | | | | | | | in the | | | | | | | old SMF | | | | | | | with the | | | | | | | s | | | | | | | tructure: | | | | | | | {a | | | | | | | piRoot}/n | | | | | | | smf-pduse | | | | | | | ssion/v1/ | | | | | | | sm-contex | | | | | | | ts/{smCon | | | | | | | textRef}. | | +-----------+-----------+---+-----------+-----------+-----------+ | altAnc | Uri | C | 0..1 | This IE | AASN | | horSmfUri | | | | shall be | | | | | | | present | | | | | | | if | | | | | | | resou | | | | | | | rceStatus | | | | | | | in | | | | | | | s | | | | | | | tatusInfo | | | | | | | is: | | | | | | | | | | | | | | > \- | | | | | | | > ALT_AN | | | | | | | CHOR_SMF | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | contain | | | | | | | the API | | | | | | | URI of | | | | | | | the | | | | | | | al | | | | | | | ternative | | | | | | | (H-)SMF | | | | | | | towards | | | | | | | which the | | | | | | | PDU | | | | | | | session | | | | | | | is | | | | | | | est | | | | | | | ablished. | | +-----------+-----------+---+-----------+-----------+-----------+ | altAn | NfI | C | 0..1 | This IE | AASN | | chorSmfId | nstanceId | | | may be | | | | | | | present | | | | | | | if | | | | | | | resou | | | | | | | rceStatus | | | | | | | in | | | | | | | s | | | | | | | tatusInfo | | | | | | | is: | | | | | | | | | | | | | | > \- | | | | | | | > ALT_AN | | | | | | | CHOR_SMF | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | contain | | | | | | | the NF | | | | | | | Instance | | | | | | | Id of the | | | | | | | al | | | | | | | ternative | | | | | | | (H-)SMF | | | | | | | towards | | | | | | | which the | | | | | | | PDU | | | | | | | session | | | | | | | is | | | | | | | est | | | | | | | ablished. | | +-----------+-----------+---+-----------+-----------+-----------+ | targe | Targe | C | 0..1 | This IE | EnEDGE | | tDnaiInfo | tDnaiInfo | | | shall be | | | | | | | present | | | | | | | if the | | | | | | | I-SMF | | | | | | | selection | | | | | | | or | | | | | | | removal | | | | | | | for the | | | | | | | current | | | | | | | PDU | | | | | | | session, | | | | | | | or SMF | | | | | | | selection | | | | | | | during | | | | | | | PDU | | | | | | | Session | | | | | | | re-esta | | | | | | | blishment | | | | | | | for SSC | | | | | | | mode 2/3 | | | | | | | is | | | | | | | needed, | | | | | | | or if it | | | | | | | is | | | | | | | received | | | | | | | from the | | | | | | | SMF in | | | | | | | Notify | | | | | | | Status. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | include | | | | | | | the | | | | | | | target | | | | | | | DNAI | | | | | | | Inf | | | | | | | ormation. | | +-----------+-----------+---+-----------+-----------+-----------+ | oldPduS | Uri | C | 0..1 | This IE | EnEDGE | | essionRef | | | | shall be | | | | | | | present | | | | | | | if | | | | | | | resou | | | | | | | rceStatus | | | | | | | in | | | | | | | s | | | | | | | tatusInfo | | | | | | | is | | | | | | | \"UNC | | | | | | | HANGED\", | | | | | | | the SMF | | | | | | | selection | | | | | | | during | | | | | | | PDU | | | | | | | Session | | | | | | | re-esta | | | | | | | blishment | | | | | | | for SSC | | | | | | | mode 3 is | | | | | | | needed | | | | | | | and the | | | | | | | runtime | | | | | | | coo | | | | | | | rdination | | | | | | | between | | | | | | | old SMF | | | | | | | and AF is | | | | | | | enabled. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | contain | | | | | | | the URI | | | | | | | of the | | | | | | | PDU | | | | | | | session | | | | | | | resource | | | | | | | in the | | | | | | | old SMF. | | | | | | | The URI | | | | | | | shall be | | | | | | | an | | | | | | | absolute | | | | | | | URI, | | | | | | | including | | | | | | | apiRoot | | | | | | | (see | | | | | | | clause 6. | | | | | | | 1.3.6.2). | | +-----------+-----------+---+-----------+-----------+-----------+ | interPl | Uri | C | 0..1 | This IE | | | mnApiRoot | | | | should be | | | | | | | present | | | | | | | if the | | | | | | | in | | | | | | | formation | | | | | | | has | | | | | | | changed | | | | | | | and, | | | | | | | within | | | | | | | the | | | | | | | s | | | | | | | tatusInfo | | | | | | | IE, the | | | | | | | resou | | | | | | | rceStatus | | | | | | | IE is set | | | | | | | to | | | | | | | \" | | | | | | | UPDATED\" | | | | | | | and the | | | | | | | cause IE | | | | | | | set to | | | | | | | \"CH | | | | | | | ANGED_IN | | | | | | | TERMEDIAT | | | | | | | E_SMF\". | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | contain | | | | | | | the | | | | | | | apiRoot | | | | | | | of the SM | | | | | | | context | | | | | | | to be | | | | | | | used in | | | | | | | i | | | | | | | nter-PLMN | | | | | | | s | | | | | | | ignalling | | | | | | | request | | | | | | | targeting | | | | | | | the SM | | | | | | | context. | | +-----------+-----------+---+-----------+-----------+-----------+ | NOTE: If | | | | | | | resou | | | | | | | rceStatus | | | | | | | in | | | | | | | s | | | | | | | tatusInfo | | | | | | | is | | | | | | | \"TRANS | | | | | | | FERRED\", | | | | | | | at least | | | | | | | one of | | | | | | | newSmfId | | | | | | | and | | | | | | | ne | | | | | | | wSmfSetId | | | | | | | shall be | | | | | | | included. | | | | | | +-----------+-----------+---+-----------+-----------+-----------+
##### 6.1.6.2.9 Type: PduSessionCreateData
Table 6.1.6.2.9-1: Definition of type PduSessionCreateData
+-----------+-----------+---+-----------+-----------+-----------+ | Attribute | Data type | P | Ca | De | Appl | | name | | | rdinality | scription | icability | +===========+===========+===+===========+===========+===========+ | supi | Supi | C | 0..1 | This IE | | | | | | | shall be | | | | | | | present, | | | | | | | except if | | | | | | | the UE is | | | | | | | emergency | | | | | | | r | | | | | | | egistered | | | | | | | and | | | | | | | UICCless. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | contain | | | | | | | the | | | | | | | s | | | | | | | ubscriber | | | | | | | permanent | | | | | | | identify. | | +-----------+-----------+---+-----------+-----------+-----------+ | u | boolean | C | 0..1 | This IE | | | nauthenti | | | | shall be | | | catedSupi | | | | present | | | | | | | if the | | | | | | | SUPI is | | | | | | | present | | | | | | | in the | | | | | | | message | | | | | | | but is | | | | | | | not | | | | | | | auth | | | | | | | enticated | | | | | | | and is | | | | | | | for an | | | | | | | emergency | | | | | | | r | | | | | | | egistered | | | | | | | UE. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | be set as | | | | | | | follows: | | | | | | | | | | | | | | > \- | | | | | | | > true: | | | | | | | > unauth | | | | | | | enticated | | | | | | | > SUPI; | | | | | | | > | | | | | | | > \- | | | | | | | > false | | | | | | | > ( | | | | | | | default): | | | | | | | > auth | | | | | | | enticated | | | | | | | > SUPI. | | +-----------+-----------+---+-----------+-----------+-----------+ | pei | Pei | C | 0..1 | This IE | | | | | | | shall be | | | | | | | present | | | | | | | if the UE | | | | | | | is | | | | | | | emergency | | | | | | | r | | | | | | | egistered | | | | | | | and it is | | | | | | | either | | | | | | | UIClless | | | | | | | or the | | | | | | | SUPI is | | | | | | | not | | | | | | | authe | | | | | | | nticated. | | | | | | | | | | | | | | For all | | | | | | | other | | | | | | | cases, | | | | | | | this IE | | | | | | | shall be | | | | | | | present | | | | | | | if it is | | | | | | | a | | | | | | | vailable. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | contain | | | | | | | the | | | | | | | permanent | | | | | | | equipment | | | | | | | id | | | | | | | entifier. | | +-----------+-----------+---+-----------+-----------+-----------+ | pdu | Pdu | C | 0..1 | This IE | | | SessionId | SessionId | | | shall | | | | | | | contain | | | | | | | the PDU | | | | | | | Session | | | | | | | ID, | | | | | | | except | | | | | | | during an | | | | | | | EPS to | | | | | | | 5GS Idle | | | | | | | mode | | | | | | | mobility | | | | | | | or | | | | | | | handover | | | | | | | using the | | | | | | | N26 | | | | | | | i | | | | | | | nterface. | | +-----------+-----------+---+-----------+-----------+-----------+ | dnn | Dnn | M | 1 | This IE | | | | | | | shall | | | | | | | contain | | | | | | | the | | | | | | | requested | | | | | | | DNN. The | | | | | | | DNN shall | | | | | | | be the | | | | | | | full DNN | | | | | | | (i.e. | | | | | | | with both | | | | | | | the | | | | | | | Network | | | | | | | I | | | | | | | dentifier | | | | | | | and | | | | | | | Operator | | | | | | | Id | | | | | | | entifier) | | | | | | | for a HR | | | | | | | PDU | | | | | | | session, | | | | | | | and it | | | | | | | should be | | | | | | | the full | | | | | | | DNN in | | | | | | | LBO and | | | | | | | no | | | | | | | n-roaming | | | | | | | s | | | | | | | cenarios. | | | | | | | If the | | | | | | | Operator | | | | | | | I | | | | | | | dentifier | | | | | | | is | | | | | | | absent, | | | | | | | the | | | | | | | serving | | | | | | | core | | | | | | | network | | | | | | | operator | | | | | | | shall be | | | | | | | assumed. | | +-----------+-----------+---+-----------+-----------+-----------+ | se | Dnn | C | 0..1 | This IE | | | lectedDnn | | | | shall be | | | | | | | present, | | | | | | | if | | | | | | | another | | | | | | | DNN other | | | | | | | than the | | | | | | | UE | | | | | | | requested | | | | | | | DNN is | | | | | | | selected | | | | | | | for this | | | | | | | PDU | | | | | | | session. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | contain | | | | | | | the | | | | | | | selected | | | | | | | DNN. The | | | | | | | DNN shall | | | | | | | be the | | | | | | | full DNN | | | | | | | (i.e. | | | | | | | with both | | | | | | | the | | | | | | | Network | | | | | | | I | | | | | | | dentifier | | | | | | | and | | | | | | | Operator | | | | | | | Id | | | | | | | entifier) | | | | | | | for a HR | | | | | | | PDU | | | | | | | session, | | | | | | | and it | | | | | | | should be | | | | | | | the full | | | | | | | DNN in | | | | | | | LBO and | | | | | | | no | | | | | | | n-roaming | | | | | | | s | | | | | | | cenarios. | | | | | | | If the | | | | | | | Operator | | | | | | | I | | | | | | | dentifier | | | | | | | is | | | | | | | absent, | | | | | | | the | | | | | | | serving | | | | | | | core | | | | | | | network | | | | | | | operator | | | | | | | shall be | | | | | | | assumed. | | +-----------+-----------+---+-----------+-----------+-----------+ | sNssai | Snssai | C | 0..1 | This IE | | | | | | | shall be | | | | | | | present, | | | | | | | except | | | | | | | during an | | | | | | | EPS to | | | | | | | 5GS idle | | | | | | | mode | | | | | | | mobility | | | | | | | or | | | | | | | handover | | | | | | | using the | | | | | | | N26 | | | | | | | i | | | | | | | nterface. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | contain: | | | | | | | | | | | | | | - the | | | | | | | HPLMN | | | | | | | S-NSSAI | | | | | | | for a HR | | | | | | | PDU | | | | | | | session, | | | | | | | which is | | | | | | | mapped | | | | | | | from the | | | | | | | requested | | | | | | | S-NSSAI | | | | | | | by the | | | | | | | VPLMN; or | | | | | | | | | | | | | | - the | | | | | | | requested | | | | | | | S-NSSAI | | | | | | | in the | | | | | | | serving | | | | | | | PLMN for | | | | | | | a PDU | | | | | | | session | | | | | | | with an | | | | | | | I-SMF. | | +-----------+-----------+---+-----------+-----------+-----------+ | altSnssai | Snssai | C | 0..1 | This IE | NSRP | | | | | | shall be | | | | | | | present | | | | | | | during | | | | | | | the PDU | | | | | | | session | | | | | | | esta | | | | | | | blishment | | | | | | | procedure | | | | | | | if the NF | | | | | | | service | | | | | | | consumer | | | | | | | supports | | | | | | | the | | | | | | | network | | | | | | | slice | | | | | | | rep | | | | | | | lacement, | | | | | | | and the | | | | | | | network | | | | | | | slice | | | | | | | indicated | | | | | | | in the | | | | | | | sNssai IE | | | | | | | is | | | | | | | requested | | | | | | | to be | | | | | | | replaced. | | | | | | | In this | | | | | | | case, the | | | | | | | NF | | | | | | | service | | | | | | | consumer | | | | | | | shall | | | | | | | send the | | | | | | | S-NSSAI | | | | | | | and the | | | | | | | al | | | | | | | ternative | | | | | | | S-NSSAI. | | | | | | | See | | | | | | | claus | | | | | | | e 5.15.19 | | | | | | | of | | | | | | | 3GP | | | | | | | P TS 23.5 | | | | | | | 01 [2]. | | +-----------+-----------+---+-----------+-----------+-----------+ | hp | Snssai | C | 0..1 | This IE | DTSSA | | lmnSnssai | | | | shall be | | | | | | | present | | | | | | | for an | | | | | | | LBO PDU | | | | | | | session | | | | | | | with an | | | | | | | I-SMF, | | | | | | | except | | | | | | | during an | | | | | | | EPS to | | | | | | | 5GS idle | | | | | | | mode | | | | | | | mobility | | | | | | | or | | | | | | | handover | | | | | | | using the | | | | | | | N26 | | | | | | | i | | | | | | | nterface. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | contain | | | | | | | the HPLMN | | | | | | | S-NSSAI | | | | | | | of the | | | | | | | LBO PDU | | | | | | | session, | | | | | | | which is | | | | | | | mapped | | | | | | | from the | | | | | | | requested | | | | | | | S-NSSAI | | | | | | | by the | | | | | | | VPLMN. | | +-----------+-----------+---+-----------+-----------+-----------+ | vsmfId | NfI | C | 0..1 | This IE | | | | nstanceId | | | shall be | | | | | | | present | | | | | | | for a HR | | | | | | | PDU | | | | | | | session. | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | contain | | | | | | | the | | | | | | | i | | | | | | | dentifier | | | | | | | of the | | | | | | | V-SMF. | | +-----------+-----------+---+-----------+-----------+-----------+ | ismfId | NfI | C | 0..1 | This IE | DTSSA | | | nstanceId | | | shall be | | | | | | | present | | | | | | | for a PDU | | | | | | | session | | | | | | | with an | | | | | | | I-SMF. | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | contain | | | | | | | the | | | | | | | i | | | | | | | dentifier | | | | | | | of the | | | | | | | I-SMF. | | +-----------+-----------+---+-----------+-----------+-----------+ | servi | PlmnIdNid | M | 1 | This IE | | | ngNetwork | | | | shall | | | | | | | contain | | | | | | | the | | | | | | | serving | | | | | | | core | | | | | | | network | | | | | | | operator | | | | | | | PLMN ID | | | | | | | and, for | | | | | | | an SNPN, | | | | | | | the NID | | | | | | | that | | | | | | | together | | | | | | | with the | | | | | | | PLMN ID | | | | | | | i | | | | | | | dentifies | | | | | | | the SNPN. | | +-----------+-----------+---+-----------+-----------+-----------+ | re | Re | C | 0..1 | This IE | | | questType | questType | | | shall be | | | | | | | present | | | | | | | if the | | | | | | | Request | | | | | | | type IE | | | | | | | is | | | | | | | received | | | | | | | from the | | | | | | | UE for a | | | | | | | single | | | | | | | access | | | | | | | PDU | | | | | | | session | | | | | | | and if | | | | | | | the | | | | | | | request | | | | | | | refers to | | | | | | | an | | | | | | | existing | | | | | | | PDU | | | | | | | session | | | | | | | or an | | | | | | | existing | | | | | | | emergency | | | | | | | PDU | | | | | | | session. | | | | | | | The | | | | | | | re | | | | | | | questType | | | | | | | IE shall | | | | | | | not be | | | | | | | included | | | | | | | for a | | | | | | | MA-PDU | | | | | | | session | | | | | | | esta | | | | | | | blishment | | | | | | | request. | | | | | | | It may be | | | | | | | present | | | | | | | o | | | | | | | therwise. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | indicate | | | | | | | whether | | | | | | | the | | | | | | | request | | | | | | | refers to | | | | | | | a new PDU | | | | | | | session | | | | | | | or | | | | | | | emergency | | | | | | | PDU | | | | | | | session, | | | | | | | or to an | | | | | | | existing | | | | | | | PDU | | | | | | | session | | | | | | | or | | | | | | | emergency | | | | | | | PDU | | | | | | | session. | | | | | | | | | | | | | | For | | | | | | | request | | | | | | | sent from | | | | | | | AMF, this | | | | | | | IE shall | | | | | | | be set | | | | | | | based on | | | | | | | the | | | | | | | re | | | | | | | questType | | | | | | | received. | | +-----------+-----------+---+-----------+-----------+-----------+ | ep | array(Eps | C | 1..N | This IE | | | sBearerId | BearerId) | | | shall be | | | | | | | present | | | | | | | during an | | | | | | | EPS to | | | | | | | 5GS Idle | | | | | | | mode | | | | | | | mobility | | | | | | | or | | | | | | | handover | | | | | | | pr | | | | | | | eparation | | | | | | | using the | | | | | | | N26 | | | | | | | i | | | | | | | nterface. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | contain | | | | | | | the list | | | | | | | of EPS | | | | | | | bearer | | | | | | | Id(s) | | | | | | | received | | | | | | | from the | | | | | | | MME. | | +-----------+-----------+---+-----------+-----------+-----------+ | pg | Bytes | C | 0..1 | This IE | | | wS8cFteid | | | | shall be | | | | | | | present | | | | | | | during an | | | | | | | EPS to | | | | | | | 5GS Idle | | | | | | | mode | | | | | | | mobility | | | | | | | or | | | | | | | handover | | | | | | | pr | | | | | | | eparation | | | | | | | using the | | | | | | | N26 | | | | | | | i | | | | | | | nterface. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | contain | | | | | | | Base6 | | | | | | | 4-encoded | | | | | | | ch | | | | | | | aracters, | | | | | | | encoding | | | | | | | the PGW | | | | | | | S8 F-TEID | | | | | | | for | | | | | | | Control | | | | | | | Plane as | | | | | | | specified | | | | | | | in Figure | | | | | | | 8.22-1 of | | | | | | | 3GP | | | | | | | P TS 29.2 | | | | | | | 74 [16] | | | | | | | (starting | | | | | | | from | | | | | | | octet 1), | | | | | | | received | | | | | | | from the | | | | | | | MME. | | +-----------+-----------+---+-----------+-----------+-----------+ | vsmfPduS | Uri | C | 0..1 | This IE | | | essionUri | | | | shall be | | | | | | | present | | | | | | | for a HR | | | | | | | PDU | | | | | | | session. | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | include | | | | | | | the | | | | | | | callback | | | | | | | URI | | | | | | | rep | | | | | | | resenting | | | | | | | the PDU | | | | | | | session | | | | | | | in the | | | | | | | V-SMF. | | +-----------+-----------+---+-----------+-----------+-----------+ | ismfPduS | Uri | C | 0..1 | This IE | DTSSA | | essionUri | | | | shall be | | | | | | | present | | | | | | | for a PDU | | | | | | | session | | | | | | | with an | | | | | | | I-SMF. | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | include | | | | | | | the | | | | | | | callback | | | | | | | URI | | | | | | | rep | | | | | | | resenting | | | | | | | the PDU | | | | | | | session | | | | | | | in the | | | | | | | I-SMF. | | +-----------+-----------+---+-----------+-----------+-----------+ | vcnT | T | C | 0..1 | This IE | | | unnelInfo | unnelInfo | | | shall be | | | | | | | present | | | | | | | for a HR | | | | | | | PDU | | | | | | | session, | | | | | | | except | | | | | | | for EPS | | | | | | | to 5GS | | | | | | | handover | | | | | | | using N26 | | | | | | | interface | | | | | | | and when | | | | | | | Control | | | | | | | Plane | | | | | | | CIoT 5GS | | | | | | | Opt | | | | | | | imisation | | | | | | | is | | | | | | | enabled | | | | | | | and data | | | | | | | delivery | | | | | | | via NEF | | | | | | | is | | | | | | | selected | | | | | | | for this | | | | | | | PDU | | | | | | | session. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | contain | | | | | | | the N9 | | | | | | | tunnel | | | | | | | in | | | | | | | formation | | | | | | | of the | | | | | | | visited | | | | | | | CN side, | | | | | | | i.e. | | | | | | | V-UPF. | | +-----------+-----------+---+-----------+-----------+-----------+ | icnT | T | C | 0..1 | This IE | DTSSA | | unnelInfo | unnelInfo | | | shall be | | | | | | | present | | | | | | | for a PDU | | | | | | | session | | | | | | | involving | | | | | | | an I-SMF, | | | | | | | except | | | | | | | when | | | | | | | Control | | | | | | | Plane | | | | | | | CIoT 5GS | | | | | | | Opt | | | | | | | imisation | | | | | | | is | | | | | | | enabled | | | | | | | and data | | | | | | | delivery | | | | | | | via NEF | | | | | | | is | | | | | | | selected | | | | | | | for this | | | | | | | PDU | | | | | | | session. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | contain | | | | | | | the N9 | | | | | | | tunnel | | | | | | | in | | | | | | | formation | | | | | | | of the | | | | | | | I-UPF | | | | | | | c | | | | | | | ontrolled | | | | | | | by the | | | | | | | I-SMF. | | +-----------+-----------+---+-----------+-----------+-----------+ | n9Fo | T | C | 0..1 | This IE | DTSSA | | rwardingT | unnelInfo | | | shall be | | | unnelInfo | | | | present | | | | | | | during | | | | | | | Service | | | | | | | Request | | | | | | | p | | | | | | | rocedures | | | | | | | with | | | | | | | I-SMF | | | | | | | i | | | | | | | nsertion, | | | | | | | if | | | | | | | buffered | | | | | | | DL data | | | | | | | is | | | | | | | available | | | | | | | at the | | | | | | | I-UPF | | | | | | | that is | | | | | | | c | | | | | | | ontrolled | | | | | | | by the | | | | | | | SMF (see | | | | | | | clau | | | | | | | se 4.23.4 | | | | | | | in | | | | | | | 3GPP | | | | | | | TS 23.50 | | | | | | | 2 [3]). | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | contain | | | | | | | the N9 | | | | | | | tunnel | | | | | | | in | | | | | | | formation | | | | | | | of the | | | | | | | I-UPF | | | | | | | c | | | | | | | ontrolled | | | | | | | by the | | | | | | | I-SMF. | | +-----------+-----------+---+-----------+-----------+-----------+ | addi | T | C | 0..1 | This IE | MAPDU | | tionalCnT | unnelInfo | | | shall be | | | unnelInfo | | | | present | | | | | | | if a MA | | | | | | | PDU | | | | | | | session | | | | | | | is | | | | | | | requested | | | | | | | or if the | | | | | | | PDU | | | | | | | session | | | | | | | is | | | | | | | allowed | | | | | | | to be | | | | | | | upgraded | | | | | | | to a MA | | | | | | | PDU | | | | | | | session, | | | | | | | and the | | | | | | | UE is | | | | | | | r | | | | | | | egistered | | | | | | | over both | | | | | | | 3GPP | | | | | | | access | | | | | | | and | | | | | | | Non-3GPP | | | | | | | access. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | contain | | | | | | | a | | | | | | | dditional | | | | | | | N9 tunnel | | | | | | | in | | | | | | | formation | | | | | | | of the | | | | | | | UPF | | | | | | | c | | | | | | | ontrolled | | | | | | | by the | | | | | | | V-SMF or | | | | | | | I-SMF. | | +-----------+-----------+---+-----------+-----------+-----------+ | anType | A | M | 1 | This IE | | | | ccessType | | | shall | | | | | | | indicate | | | | | | | the | | | | | | | Access | | | | | | | Network | | | | | | | Type to | | | | | | | which the | | | | | | | PDU | | | | | | | session | | | | | | | is to be | | | | | | | as | | | | | | | sociated. | | +-----------+-----------+---+-----------+-----------+-----------+ | additio | A | C | 0..1 | This IE | MAPDU | | nalAnType | ccessType | | | shall | | | | | | | indicate | | | | | | | the | | | | | | | a | | | | | | | dditional | | | | | | | Access | | | | | | | Network | | | | | | | Type to | | | | | | | which the | | | | | | | PDU | | | | | | | session | | | | | | | is to be | | | | | | | as | | | | | | | sociated. | | | | | | | | | | | | | | This IE | | | | | | | shall be | | | | | | | present | | | | | | | if a | | | | | | | MA-PDU | | | | | | | session | | | | | | | is | | | | | | | requested | | | | | | | and the | | | | | | | UE is | | | | | | | r | | | | | | | egistered | | | | | | | over both | | | | | | | 3GPP | | | | | | | access | | | | | | | and | | | | | | | Non-3GPP | | | | | | | access. | | +-----------+-----------+---+-----------+-----------+-----------+ | ratType | RatType | C | 0..1 | This IE | | | | | | | shall be | | | | | | | present | | | | | | | and | | | | | | | indicate | | | | | | | the RAT | | | | | | | Type used | | | | | | | by the | | | | | | | UE, if | | | | | | | a | | | | | | | vailable. | | +-----------+-----------+---+-----------+-----------+-----------+ | u | Use | C | 0..1 | This IE | | | eLocation | rLocation | | | shall | | | | | | | contain | | | | | | | the UE | | | | | | | location | | | | | | | in | | | | | | | formation | | | | | | | (see | | | | | | | clause | | | | | | | 5.2.3.4), | | | | | | | if it is | | | | | | | a | | | | | | | vailable. | | | | | | | (NOTE 1) | | +-----------+-----------+---+-----------+-----------+-----------+ | u | TimeZone | C | 0..1 | This IE | | | eTimeZone | | | | shall | | | | | | | contain | | | | | | | the UE | | | | | | | Time | | | | | | | Zone, if | | | | | | | it is | | | | | | | a | | | | | | | vailable. | | +-----------+-----------+---+-----------+-----------+-----------+ | addU | Use | O | 0..1 | A | | | eLocation | rLocation | | | dditional | | | | | | | UE | | | | | | | location. | | | | | | | | | | | | | | This IE | | | | | | | may be | | | | | | | present, | | | | | | | if anType | | | | | | | indicates | | | | | | | a | | | | | | | non-3GPP | | | | | | | access | | | | | | | and a | | | | | | | valid | | | | | | | 3GPP | | | | | | | access | | | | | | | user | | | | | | | location | | | | | | | in | | | | | | | formation | | | | | | | is | | | | | | | a | | | | | | | vailable. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | contain: | | | | | | | | | | | | | | - the | | | | | | | last | | | | | | | known | | | | | | | 3GPP | | | | | | | access | | | | | | | user | | | | | | | location | | | | | | | (see | | | | | | | clause | | | | | | | 5.2.3.4); | | | | | | | and | | | | | | | | | | | | | | - the | | | | | | | t | | | | | | | imestamp, | | | | | | | if | | | | | | | a | | | | | | | vailable, | | | | | | | i | | | | | | | ndicating | | | | | | | the UTC | | | | | | | time when | | | | | | | the | | | | | | | addU | | | | | | | eLocation | | | | | | | in | | | | | | | formation | | | | | | | was | | | | | | | acquired. | | | | | | | | | | | | | | (NOTE 1) | | +-----------+-----------+---+-----------+-----------+-----------+ | gpsi | Gpsi | C | 0..1 | This IE | | | | | | | shall be | | | | | | | present | | | | | | | if it is | | | | | | | a | | | | | | | vailable. | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | contain | | | | | | | the | | | | | | | user\'s | | | | | | | GPSI. | | +-----------+-----------+---+-----------+-----------+-----------+ | n1SmI | RefToB | C | 0..1 | This IE | | | nfoFromUe | inaryData | | | shall be | | | | | | | present | | | | | | | if the | | | | | | | V-SMF or | | | | | | | I-SMF has | | | | | | | received | | | | | | | known N1 | | | | | | | SM | | | | | | | in | | | | | | | formation | | | | | | | from the | | | | | | | UE that | | | | | | | does not | | | | | | | need to | | | | | | | be | | | | | | | in | | | | | | | terpreted | | | | | | | by the | | | | | | | V-SMF or | | | | | | | I-SMF. | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | reference | | | | | | | the | | | | | | | n1SmI | | | | | | | nfoFromUe | | | | | | | binary | | | | | | | data (see | | | | | | | clause 6. | | | | | | | 1.6.4.4). | | +-----------+-----------+---+-----------+-----------+-----------+ | unknow | RefToB | C | 0..1 | This IE | | | nN1SmInfo | inaryData | | | shall be | | | | | | | present | | | | | | | if the | | | | | | | V-SMF or | | | | | | | I-SMF has | | | | | | | received | | | | | | | unknown | | | | | | | N1 SM | | | | | | | in | | | | | | | formation | | | | | | | from the | | | | | | | UE. When | | | | | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | reference | | | | | | | the | | | | | | | unknow | | | | | | | nN1SmInfo | | | | | | | binary | | | | | | | data (see | | | | | | | clause 6. | | | | | | | 1.6.4.4). | | +-----------+-----------+---+-----------+-----------+-----------+ | supporte | Supporte | C | 0..1 | This IE | | | dFeatures | dFeatures | | | shall be | | | | | | | present | | | | | | | if at | | | | | | | least one | | | | | | | optional | | | | | | | feature | | | | | | | defined | | | | | | | in | | | | | | | cla | | | | | | | use 6.1.8 | | | | | | | is | | | | | | | s | | | | | | | upported. | | +-----------+-----------+---+-----------+-----------+-----------+ | hPcfId | NfI | O | 0..1 | This IE | | | | nstanceId | | | may be | | | | | | | used by | | | | | | | V-SMF to | | | | | | | indicate | | | | | | | the home | | | | | | | PCF | | | | | | | selected | | | | | | | by the | | | | | | | AMF for | | | | | | | the UE to | | | | | | | the | | | | | | | H-SMF, | | | | | | | for a HR | | | | | | | PDU | | | | | | | session. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | contain | | | | | | | the | | | | | | | i | | | | | | | dentifier | | | | | | | of the | | | | | | | H-PCF | | | | | | | selected | | | | | | | by the | | | | | | | AMF for | | | | | | | the UE | | | | | | | (for UE | | | | | | | Policy | | | | | | | Control). | | +-----------+-----------+---+-----------+-----------+-----------+ | pcfId | NfI | O | 0..1 | This IE | DTSSA | | | nstanceId | | | may be | | | | | | | used by | | | | | | | I-SMF to | | | | | | | indicate | | | | | | | the | | | | | | | (V-)PCF | | | | | | | selected | | | | | | | by the | | | | | | | AMF for | | | | | | | the UE to | | | | | | | the SMF, | | | | | | | for a PDU | | | | | | | session | | | | | | | with an | | | | | | | I-SMF. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | contain | | | | | | | the | | | | | | | i | | | | | | | dentifier | | | | | | | of the | | | | | | | PCF (for | | | | | | | Access | | | | | | | and | | | | | | | Mobility | | | | | | | Policy | | | | | | | Control | | | | | | | and/or UE | | | | | | | Policy | | | | | | | Control) | | | | | | | in | | | | | | | no | | | | | | | n-roaming | | | | | | | s | | | | | | | cenarios, | | | | | | | or the | | | | | | | V-PCF | | | | | | | (for | | | | | | | Access | | | | | | | and | | | | | | | Mobility | | | | | | | Policy | | | | | | | Control) | | | | | | | in LBO | | | | | | | roaming | | | | | | | s | | | | | | | cenarios. | | +-----------+-----------+---+-----------+-----------+-----------+ | p | NfGroupId | O | 0..1 | This IE | | | cfGroupId | | | | may be | | | | | | | present | | | | | | | in | | | | | | | no | | | | | | | n-roaming | | | | | | | and HR | | | | | | | roaming | | | | | | | s | | | | | | | cenarios. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | contain | | | | | | | the | | | | | | | identity | | | | | | | of the | | | | | | | (home) | | | | | | | PCF group | | | | | | | serving | | | | | | | the UE | | | | | | | for | | | | | | | Access | | | | | | | and | | | | | | | Mobility | | | | | | | Policy | | | | | | | and/or UE | | | | | | | Policy. | | +-----------+-----------+---+-----------+-----------+-----------+ | pcfSetId | NfSetId | O | 0..1 | When | | | | | | | present, | | | | | | | it shall | | | | | | | contain | | | | | | | the NF | | | | | | | Set ID of | | | | | | | the H-PCF | | | | | | | indicated | | | | | | | by the | | | | | | | hPcfId IE | | | | | | | or the | | | | | | | (V-)PCF | | | | | | | indicated | | | | | | | by the | | | | | | | pcfId IE. | | +-----------+-----------+---+-----------+-----------+-----------+ | hoPre | boolean | C | 0..1 | This IE | | | parationI | | | | shall be | | | ndication | | | | present | | | | | | | during an | | | | | | | EPS to | | | | | | | 5GS | | | | | | | handover | | | | | | | pr | | | | | | | eparation | | | | | | | using the | | | | | | | N26 | | | | | | | interface | | | | | | | or during | | | | | | | N2 | | | | | | | handover | | | | | | | pr | | | | | | | eparation | | | | | | | with | | | | | | | I-SMF | | | | | | | i | | | | | | | nsertion. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | be set as | | | | | | | follows: | | | | | | | | | | | | | | > \- | | | | | | | > true: | | | | | | | > an EPS | | | | | | | > to 5GS | | | | | | | > | | | | | | | handover | | | | | | | > pr | | | | | | | eparation | | | | | | | > or N2 | | | | | | | > | | | | | | | handover | | | | | | | > pr | | | | | | | eparation | | | | | | | > with | | | | | | | > I-SMF | | | | | | | > is in | | | | | | | > | | | | | | | progress; | | | | | | | > the | | | | | | | > | | | | | | | PGW-C/SMF | | | | | | | > shall | | | | | | | > not | | | | | | | > switch | | | | | | | > the DL | | | | | | | > user | | | | | | | > plane | | | | | | | > of the | | | | | | | > PDU | | | | | | | > session | | | | | | | > yet. | | | | | | | > | | | | | | | > \- | | | | | | | > false: | | | | | | | > there | | | | | | | > is no | | | | | | | > | | | | | | | on-going | | | | | | | > EPS to | | | | | | | > 5GS | | | | | | | > | | | | | | | handover | | | | | | | > pr | | | | | | | eparation | | | | | | | > or N2 | | | | | | | > | | | | | | | handover | | | | | | | > pr | | | | | | | eparation | | | | | | | > with | | | | | | | > I-SMF | | | | | | | > in | | | | | | | > | | | | | | | progress. | | | | | | | > If a | | | | | | | > | | | | | | | handover | | | | | | | > pr | | | | | | | eparation | | | | | | | > was in | | | | | | | > | | | | | | | progress, | | | | | | | > the | | | | | | | > | | | | | | | handover | | | | | | | > has | | | | | | | > been | | | | | | | > c | | | | | | | ompleted. | | | | | | | > The | | | | | | | > | | | | | | | PGW-C/SMF | | | | | | | > shall | | | | | | | > switch | | | | | | | > the DL | | | | | | | > user | | | | | | | > plane | | | | | | | > of the | | | | | | | > PDU | | | | | | | > session | | | | | | | > using | | | | | | | > the N9 | | | | | | | > tunnel | | | | | | | > in | | | | | | | formation | | | | | | | > that | | | | | | | > has | | | | | | | > been | | | | | | | > | | | | | | | received | | | | | | | > in the | | | | | | | > vcnT | | | | | | | unnelInfo | | | | | | | > or | | | | | | | > icnTu | | | | | | | nnelInfo. | | | | | | | | | | | | | | It shall | | | | | | | be set to | | | | | | | \"true\" | | | | | | | during an | | | | | | | EPS to | | | | | | | 5GS | | | | | | | handover | | | | | | | pr | | | | | | | eparation | | | | | | | using the | | | | | | | N26 | | | | | | | interface | | | | | | | or during | | | | | | | N2 | | | | | | | handover | | | | | | | pr | | | | | | | eparation | | | | | | | with | | | | | | | I-SMF | | | | | | | i | | | | | | | nsertion. | | +-----------+-----------+---+-----------+-----------+-----------+ | selMode | DnnSele | C | 0..1 | This IE | | | | ctionMode | | | shall be | | | | | | | present | | | | | | | if it is | | | | | | | a | | | | | | | vailable. | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | be set | | | | | | | to: | | | | | | | | | | | | | | > \- | | | | | | | > \"VE | | | | | | | RIFIED\", | | | | | | | > if the | | | | | | | > | | | | | | | requested | | | | | | | > DNN | | | | | | | > | | | | | | | provided | | | | | | | > by UE | | | | | | | > or the | | | | | | | > | | | | | | | selected | | | | | | | > DNN | | | | | | | > | | | | | | | provided | | | | | | | > by the | | | | | | | > network | | | | | | | > co | | | | | | | rresponds | | | | | | | > to an | | | | | | | > e | | | | | | | xplicitly | | | | | | | > s | | | | | | | ubscribed | | | | | | | > DNN; or | | | | | | | > | | | | | | | > \- | | | | | | | > | | | | | | | \"UE_DNN | | | | | | | _NOT_VE | | | | | | | RIFIED\", | | | | | | | > if the | | | | | | | > | | | | | | | requested | | | | | | | > DNN | | | | | | | > | | | | | | | provided | | | | | | | > by UE | | | | | | | > co | | | | | | | rresponds | | | | | | | > to the | | | | | | | > usage | | | | | | | > of a | | | | | | | > | | | | | | | wildcard | | | | | | | > subs | | | | | | | cription; | | | | | | | > or | | | | | | | > | | | | | | | > \- | | | | | | | > | | | | | | | \"NW_DNN | | | | | | | _NOT_VE | | | | | | | RIFIED\", | | | | | | | > if the | | | | | | | > | | | | | | | selected | | | | | | | > DNN | | | | | | | > | | | | | | | provided | | | | | | | > by the | | | | | | | > network | | | | | | | > co | | | | | | | rresponds | | | | | | | > to the | | | | | | | > usage | | | | | | | > of a | | | | | | | > | | | | | | | wildcard | | | | | | | > subs | | | | | | | cription. | | | | | | | | | | | | | | If both | | | | | | | the | | | | | | | requested | | | | | | | DNN (i.e. | | | | | | | dnn IE) | | | | | | | and | | | | | | | selected | | | | | | | DNN (i.e. | | | | | | | selected | | | | | | | Dnn IE) | | | | | | | are | | | | | | | present, | | | | | | | the | | | | | | | selMode | | | | | | | shall be | | | | | | | related | | | | | | | to the | | | | | | | selected | | | | | | | DNN. | | +-----------+-----------+---+-----------+-----------+-----------+ | alwaysOn | boolean | C | 0..1 | This IE | | | Requested | | | | shall be | | | | | | | present | | | | | | | and set | | | | | | | to true | | | | | | | if the UE | | | | | | | requests | | | | | | | to setup | | | | | | | an | | | | | | | always-on | | | | | | | PDU | | | | | | | session | | | | | | | and this | | | | | | | is | | | | | | | allowed | | | | | | | by local | | | | | | | policy in | | | | | | | the V-SMF | | | | | | | or I-SMF. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | be set as | | | | | | | follows: | | | | | | | | | | | | | | > \- | | | | | | | > true: | | | | | | | > request | | | | | | | > for an | | | | | | | > | | | | | | | always-on | | | | | | | > PDU | | | | | | | > session | | | | | | | > | | | | | | | > \- | | | | | | | > false | | | | | | | > ( | | | | | | | default): | | | | | | | > not a | | | | | | | > request | | | | | | | > for an | | | | | | | > | | | | | | | always-on | | | | | | | > PDU | | | | | | | > session | | +-----------+-----------+---+-----------+-----------+-----------+ | u | NfGroupId | O | 0..1 | When | | | dmGroupId | | | | present, | | | | | | | it shall | | | | | | | indicate | | | | | | | the | | | | | | | identity | | | | | | | of the | | | | | | | UDM group | | | | | | | serving | | | | | | | the UE. | | +-----------+-----------+---+-----------+-----------+-----------+ | routing | string | O | 0..1 | When | | | Indicator | | | | present, | | | | | | | it shall | | | | | | | indicate | | | | | | | the | | | | | | | Routing | | | | | | | Indicator | | | | | | | of the | | | | | | | UE. | | +-----------+-----------+---+-----------+-----------+-----------+ | hN | integer | O | 0..1 | When | | | wPubKeyId | | | | present, | | | | | | | it shall | | | | | | | indicate | | | | | | | the Home | | | | | | | Network | | | | | | | Public | | | | | | | Key | | | | | | | I | | | | | | | dentifier | | | | | | | of the | | | | | | | UE. | | | | | | | (NOTE 2) | | +-----------+-----------+---+-----------+-----------+-----------+ | epsInterw | EpsInte | O | 0..1 | This IE | | | orkingInd | rworkingI | | | may be | | | | ndication | | | present | | | | | | | if the | | | | | | | i | | | | | | | ndication | | | | | | | has been | | | | | | | received | | | | | | | from AMF | | | | | | | and is | | | | | | | allowed | | | | | | | to be | | | | | | | forwarded | | | | | | | to H-SMF | | | | | | | by | | | | | | | operator | | | | | | | confi | | | | | | | guration. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | indicate | | | | | | | whether | | | | | | | the PDU | | | | | | | session | | | | | | | may | | | | | | | possibly | | | | | | | be moved | | | | | | | to EPS | | | | | | | and | | | | | | | whether | | | | | | | N26 | | | | | | | interface | | | | | | | to be | | | | | | | used | | | | | | | during | | | | | | | EPS | | | | | | | int | | | | | | | erworking | | | | | | | pr | | | | | | | ocedures. | | +-----------+-----------+---+-----------+-----------+-----------+ | vSm | string | O | 0..1 | When | | | fServiceI | | | | present, | | | nstanceId | | | | this IE | | | | | | | shall | | | | | | | contain | | | | | | | the | | | | | | | serviceI | | | | | | | nstanceId | | | | | | | of the | | | | | | | V-SMF | | | | | | | service | | | | | | | instance | | | | | | | serving | | | | | | | the PDU | | | | | | | session. | | | | | | | | | | | | | | This IE | | | | | | | may be | | | | | | | used by | | | | | | | the H-SMF | | | | | | | to | | | | | | | identify | | | | | | | PDU | | | | | | | sessions | | | | | | | affected | | | | | | | by a | | | | | | | failure | | | | | | | or | | | | | | | restart | | | | | | | of the | | | | | | | V-SMF | | | | | | | service | | | | | | | (see | | | | | | | clauses | | | | | | | 6.2 and | | | | | | | 6.3 of | | | | | | | 3GPP | | | | | | | TS 23.527 | | | | | | | [24]). | | +-----------+-----------+---+-----------+-----------+-----------+ | iSm | string | O | 0..1 | When | DTSSA | | fServiceI | | | | present, | | | nstanceId | | | | this IE | | | | | | | shall | | | | | | | contain | | | | | | | the | | | | | | | serviceI | | | | | | | nstanceId | | | | | | | of I-SMF | | | | | | | service | | | | | | | instance | | | | | | | serving | | | | | | | the PDU | | | | | | | session. | | | | | | | | | | | | | | This IE | | | | | | | may be | | | | | | | used by | | | | | | | the SMF | | | | | | | to | | | | | | | identify | | | | | | | PDU | | | | | | | sessions | | | | | | | affected | | | | | | | by a | | | | | | | failure | | | | | | | or | | | | | | | restart | | | | | | | of the | | | | | | | I-SMF | | | | | | | service | | | | | | | (see | | | | | | | clauses | | | | | | | 6.2 and | | | | | | | 6.3 of | | | | | | | 3GPP | | | | | | | TS 23.527 | | | | | | | [24]). | | +-----------+-----------+---+-----------+-----------+-----------+ | rec | DateTime | O | 0..1 | Timestamp | | | overyTime | | | | when the | | | | | | | V-SMF or | | | | | | | I-SMF | | | | | | | service | | | | | | | instance | | | | | | | serving | | | | | | | the PDU | | | | | | | session | | | | | | | was | | | | | | | (r | | | | | | | e)started | | | | | | | (see | | | | | | | c | | | | | | | lause 6.3 | | | | | | | of | | | | | | | 3GPP | | | | | | | TS 23.527 | | | | | | | [24]). | | +-----------+-----------+---+-----------+-----------+-----------+ | roam | Roam | O | 0..1 | Roaming | | | ingChargi | ingChargi | | | Charging | | | ngProfile | ngProfile | | | Profile | | | | | | | a | | | | | | | pplicable | | | | | | | in the | | | | | | | VPLMN | | | | | | | (see | | | | | | | clauses | | | | | | | 5.1.9.1, | | | | | | | 5.2.1.7 | | | | | | | and | | | | | | | 5 | | | | | | | .2.2.12.2 | | | | | | | of | | | | | | | 3GPP | | | | | | | TS 32.255 | | | | | | | [25]). | | +-----------+-----------+---+-----------+-----------+-----------+ | c | string | O | 0..1 | Charging | | | hargingId | | | | ID (see | | | | | | | clauses | | | | | | | 5.1.9.1 | | | | | | | of | | | | | | | 3GPP | | | | | | | TS 32.255 | | | | | | | [25]). | | | | | | | | | | | | | | The | | | | | | | string | | | | | | | shall | | | | | | | encode | | | | | | | the | | | | | | | Charging | | | | | | | ID | | | | | | | (32-bit | | | | | | | unsigned | | | | | | | integer | | | | | | | value, | | | | | | | with | | | | | | | maximum | | | | | | | value | | | | | | | \"4294 | | | | | | | 967295\") | | | | | | | in | | | | | | | decimal | | | | | | | repres | | | | | | | entation. | | | | | | | | | | | | | | Pattern: | | | | | | | \ | | | | | | | '\^(0\|(\ | | | | | | | [1-9]{1} | | | | | | | [0-9]{0 | | | | | | | ,9}))\$\' | | | | | | | | | | | | | | (NOTE 4) | | +-----------+-----------+---+-----------+-----------+-----------+ | oldPdu | Pdu | C | 0..1 | This IE | | | SessionId | SessionId | | | shall be | | | | | | | present | | | | | | | if this | | | | | | | in | | | | | | | formation | | | | | | | is | | | | | | | received | | | | | | | from the | | | | | | | UE and | | | | | | | the same | | | | | | | SMF is | | | | | | | selected | | | | | | | for SSC | | | | | | | mode 3. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | contain | | | | | | | the old | | | | | | | PDU | | | | | | | Session | | | | | | | ID | | | | | | | received | | | | | | | from the | | | | | | | UE. See | | | | | | | clauses | | | | | | | 4.3.2.2.1 | | | | | | | and | | | | | | | 4.3.5.2 | | | | | | | of | | | | | | | 3GP | | | | | | | P TS 23.5 | | | | | | | 02 [3]. | | +-----------+-----------+---+-----------+-----------+-----------+ | epsBearer | EpsB | C | 0..1 | This IE | | | CtxStatus | earerCont | | | shall be | | | | extStatus | | | present | | | | | | | during an | | | | | | | EPS to | | | | | | | 5GS idle | | | | | | | mode | | | | | | | mobility | | | | | | | using the | | | | | | | N26 | | | | | | | i | | | | | | | nterface, | | | | | | | if | | | | | | | received | | | | | | | in the | | | | | | | Create SM | | | | | | | Context | | | | | | | request. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | be set to | | | | | | | the value | | | | | | | received | | | | | | | in the | | | | | | | Create SM | | | | | | | Context | | | | | | | request. | | +-----------+-----------+---+-----------+-----------+-----------+ | amfNfId | NfI | C | 0..1 | This IE | | | | nstanceId | | | shall be | | | | | | | present | | | | | | | if it is | | | | | | | received | | | | | | | in the | | | | | | | Create SM | | | | | | | Context | | | | | | | request, | | | | | | | unless | | | | | | | the PDU | | | | | | | session | | | | | | | is | | | | | | | related | | | | | | | to | | | | | | | r | | | | | | | egulatory | | | | | | | pr | | | | | | | ioritized | | | | | | | service. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | contain | | | | | | | the | | | | | | | i | | | | | | | dentifier | | | | | | | of the | | | | | | | serving | | | | | | | AMF. | | +-----------+-----------+---+-----------+-----------+-----------+ | guami | Guami | C | 0..1 | This IE | | | | | | | shall be | | | | | | | present | | | | | | | if the | | | | | | | amfNfId | | | | | | | is | | | | | | | present. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | contain | | | | | | | the | | | | | | | serving | | | | | | | AMF\'s | | | | | | | GUAMI. | | +-----------+-----------+---+-----------+-----------+-----------+ | maxI | Ma | C | 0..1 | This IE | | | ntegrityP | xIntegrit | | | shall be | | | rotectedD | yProtecte | | | present | | | ataRateUl | dDataRate | | | if it is | | | | | | | a | | | | | | | vailable. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | indicate | | | | | | | the | | | | | | | maximum | | | | | | | integrity | | | | | | | protected | | | | | | | data rate | | | | | | | supported | | | | | | | by the UE | | | | | | | for | | | | | | | uplink. | | +-----------+-----------+---+-----------+-----------+-----------+ | maxI | Ma | C | 0..1 | This IE | | | ntegrityP | xIntegrit | | | shall be | | | rotectedD | yProtecte | | | present | | | ataRateDl | dDataRate | | | if it is | | | | | | | a | | | | | | | vailable. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | indicate | | | | | | | the | | | | | | | maximum | | | | | | | integrity | | | | | | | protected | | | | | | | data rate | | | | | | | supported | | | | | | | by the UE | | | | | | | for | | | | | | | downlink. | | +-----------+-----------+---+-----------+-----------+-----------+ | cpCi | boolean | C | 0..1 | This IE | CIOT | | otEnabled | | | | shall be | | | | | | | present | | | | | | | with the | | | | | | | value | | | | | | | \"True\" | | | | | | | if the | | | | | | | \ | | | | | | | "5gCiotCp | | | | | | | Enabled\" | | | | | | | attribute | | | | | | | is | | | | | | | received | | | | | | | with | | | | | | | \"True\" | | | | | | | value in | | | | | | | SM | | | | | | | Context | | | | | | | Create | | | | | | | request, | | | | | | | i | | | | | | | ndicating | | | | | | | the | | | | | | | Control | | | | | | | Plane | | | | | | | CIoT 5GS | | | | | | | Opt | | | | | | | imisation | | | | | | | is | | | | | | | enabled | | | | | | | for the | | | | | | | PDU | | | | | | | session | | | | | | | (see | | | | | | | 3GP | | | | | | | P TS 23.5 | | | | | | | 02 [3], | | | | | | | clause 4. | | | | | | | 3.2.2.2). | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | be set as | | | | | | | follows: | | | | | | | | | | | | | | > \- | | | | | | | > True: | | | | | | | > Control | | | | | | | > Plane | | | | | | | > CIoT | | | | | | | > 5GS | | | | | | | > Opt | | | | | | | imisation | | | | | | | > is | | | | | | | > | | | | | | | enabled. | | | | | | | > | | | | | | | > \- | | | | | | | > False | | | | | | | > ( | | | | | | | default): | | | | | | | > Control | | | | | | | > Plane | | | | | | | > CIoT | | | | | | | > 5GS | | | | | | | > Opt | | | | | | | imisation | | | | | | | > is not | | | | | | | > | | | | | | | enabled. | | +-----------+-----------+---+-----------+-----------+-----------+ | cpOnlyInd | boolean | C | 0..1 | This IE | CIOT | | | | | | shall be | | | | | | | present | | | | | | | with the | | | | | | | value | | | | | | | \"True\", | | | | | | | if the | | | | | | | PDU | | | | | | | session | | | | | | | shall | | | | | | | only use | | | | | | | Control | | | | | | | Plane | | | | | | | CIoT 5GS | | | | | | | Opt | | | | | | | imisation | | | | | | | (see | | | | | | | clause | | | | | | | 5.31.4.1 | | | | | | | of | | | | | | | 3GPP | | | | | | | TS 23.50 | | | | | | | 1 [2]). | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | be set as | | | | | | | follows: | | | | | | | | | | | | | | > \- | | | | | | | > True: | | | | | | | > the PDU | | | | | | | > session | | | | | | | > shall | | | | | | | > only | | | | | | | > use | | | | | | | > Control | | | | | | | > Plane | | | | | | | > CIoT | | | | | | | > 5GS | | | | | | | > Opt | | | | | | | imisation | | | | | | | > | | | | | | | > \- | | | | | | | > False | | | | | | | > ( | | | | | | | default): | | | | | | | > the PDU | | | | | | | > session | | | | | | | > is not | | | | | | | > co | | | | | | | nstrained | | | | | | | > to only | | | | | | | > use | | | | | | | > Control | | | | | | | > Plane | | | | | | | > CIoT | | | | | | | > 5GS | | | | | | | > Opti | | | | | | | misation. | | +-----------+-----------+---+-----------+-----------+-----------+ | invokeNef | boolean | C | 0..1 | This IE | CIOT | | | | | | shall be | | | | | | | present | | | | | | | with | | | | | | | value | | | | | | | \"True\", | | | | | | | if | | | | | | | Control | | | | | | | Plane | | | | | | | CIoT 5GS | | | | | | | Opt | | | | | | | imisation | | | | | | | is | | | | | | | enabled | | | | | | | and data | | | | | | | delivery | | | | | | | via NEF | | | | | | | is | | | | | | | selected | | | | | | | for the | | | | | | | PDU | | | | | | | session. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | be set as | | | | | | | follows: | | | | | | | | | | | | | | > \- | | | | | | | > True: | | | | | | | > Data | | | | | | | > | | | | | | | delivery | | | | | | | > via NEF | | | | | | | > is | | | | | | | > | | | | | | | selected. | | | | | | | > | | | | | | | > \- | | | | | | | > False | | | | | | | > ( | | | | | | | default): | | | | | | | > Data | | | | | | | > | | | | | | | delivery | | | | | | | > via NEF | | | | | | | > is not | | | | | | | > | | | | | | | selected. | | +-----------+-----------+---+-----------+-----------+-----------+ | maR | boolean | C | 0..1 | This IE | MAPDU | | equestInd | | | | shall be | | | | | | | present | | | | | | | if a | | | | | | | MA-PDU | | | | | | | session | | | | | | | is | | | | | | | requested | | | | | | | to be | | | | | | | es | | | | | | | tablished | | | | | | | by the | | | | | | | UE. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | be set as | | | | | | | follows: | | | | | | | | | | | | | | > \- | | | | | | | > True: a | | | | | | | > MA-PDU | | | | | | | > session | | | | | | | > is | | | | | | | > | | | | | | | requested | | | | | | | > | | | | | | | > \- | | | | | | | > False | | | | | | | > ( | | | | | | | default): | | | | | | | > a | | | | | | | > MA-PDU | | | | | | | > session | | | | | | | > is not | | | | | | | > | | | | | | | requested | | +-----------+-----------+---+-----------+-----------+-----------+ | maNwU | boolean | C | 0..1 | This IE | MAPDU | | pgradeInd | | | | shall | | | | | | | only be | | | | | | | present | | | | | | | if the | | | | | | | PDU | | | | | | | session | | | | | | | is | | | | | | | allowed | | | | | | | to be | | | | | | | upgraded | | | | | | | to MA PDU | | | | | | | session | | | | | | | (see | | | | | | | clau | | | | | | | se 4.22.3 | | | | | | | of | | | | | | | 3GPP | | | | | | | TS 23.50 | | | | | | | 2 [3]). | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | be set as | | | | | | | follows: | | | | | | | | | | | | | | > \- | | | | | | | > True: | | | | | | | > the PDU | | | | | | | > session | | | | | | | > is | | | | | | | > allowed | | | | | | | > to be | | | | | | | > | | | | | | | upgraded | | | | | | | > to MA | | | | | | | > PDU | | | | | | | > session | | | | | | | > | | | | | | | > \- | | | | | | | > False | | | | | | | > ( | | | | | | | default): | | | | | | | > the PDU | | | | | | | > session | | | | | | | > is not | | | | | | | > allowed | | | | | | | > to be | | | | | | | > | | | | | | | upgraded | | | | | | | > to MA | | | | | | | > PDU | | | | | | | > session | | | | | | | | | | | | | | When | | | | | | | maR | | | | | | | equestInd | | | | | | | is | | | | | | | present | | | | | | | and set | | | | | | | to | | | | | | | \"true\", | | | | | | | this IE | | | | | | | shall not | | | | | | | be | | | | | | | present. | | +-----------+-----------+---+-----------+-----------+-----------+ | n3gPa | boolean | C | 0..1 | This IE | N3GPS | | thSwitchS | | | | shall be | | | upportInd | | | | present | | | | | | | if the | | | | | | | AMF, | | | | | | | V-SMF and | | | | | | | the UE | | | | | | | support | | | | | | | non-3GPP | | | | | | | access | | | | | | | path | | | | | | | switching | | | | | | | for a | | | | | | | MA-PDU | | | | | | | session. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | be set as | | | | | | | follows: | | | | | | | | | | | | | | > \- | | | | | | | > true: | | | | | | | > | | | | | | | non-3GPP | | | | | | | > access | | | | | | | > path | | | | | | | > | | | | | | | switching | | | | | | | > is | | | | | | | > | | | | | | | supported | | | | | | | > | | | | | | | > \- | | | | | | | > false | | | | | | | > ( | | | | | | | default): | | | | | | | > | | | | | | | non-3GPP | | | | | | | > access | | | | | | | > path | | | | | | | > | | | | | | | switching | | | | | | | > is not | | | | | | | > | | | | | | | supported | | +-----------+-----------+---+-----------+-----------+-----------+ | dnaiList | ar | C | 1..N | This IE | DTSSA | | | ray(Dnai) | | | shall be | | | | | | | present | | | | | | | over N16a | | | | | | | if an | | | | | | | I-SMF is | | | | | | | inserted | | | | | | | into a | | | | | | | PDU | | | | | | | session | | | | | | | during | | | | | | | the | | | | | | | following | | | | | | | pr | | | | | | | ocedures: | | | | | | | PDU | | | | | | | session | | | | | | | estab | | | | | | | lishment, | | | | | | | Regi | | | | | | | stration, | | | | | | | Service | | | | | | | Request, | | | | | | | Xn based | | | | | | | handover, | | | | | | | Inter | | | | | | | NG-RAN | | | | | | | node N2 | | | | | | | based | | | | | | | handover | | | | | | | (see | | | | | | | cl | | | | | | | ause 4.23 | | | | | | | of | | | | | | | 3GPP | | | | | | | TS 23.50 | | | | | | | 2 [3]). | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | include | | | | | | | the list | | | | | | | of DNAIs | | | | | | | supported | | | | | | | by the | | | | | | | I-SMF. | | +-----------+-----------+---+-----------+-----------+-----------+ | prese | Pres | C | 0..1 | This IE | DTSSA | | nceInLadn | enceState | | | shall be | | | | | | | present | | | | | | | during Xn | | | | | | | based | | | | | | | handover | | | | | | | with | | | | | | | I-SMF | | | | | | | i | | | | | | | nsertion, | | | | | | | if the | | | | | | | DNN | | | | | | | co | | | | | | | rresponds | | | | | | | to a | | | | | | | LADN. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | be set to | | | | | | | \"IN\" or | | | | | | | \"OUT\" | | | | | | | to | | | | | | | indicate | | | | | | | that the | | | | | | | UE is in | | | | | | | or out of | | | | | | | the LADN | | | | | | | service | | | | | | | area. | | +-----------+-----------+---+-----------+-----------+-----------+ | sec | a | O | 1..N | This IE | DTSSA | | ondaryRat | rray(Seco | | | may be | | | UsageInfo | ndaryRatU | | | present | | | | sageInfo) | | | to report | | | | | | | usage | | | | | | | data for | | | | | | | a | | | | | | | secondary | | | | | | | RAT for | | | | | | | QoS flows | | | | | | | and/or | | | | | | | the whole | | | | | | | PDU | | | | | | | session. | | +-----------+-----------+---+-----------+-----------+-----------+ | s | S | C | 0..1 | This IE | CIOT | | mallDataR | mallDataR | | | shall be | | | ateStatus | ateStatus | | | present | | | | | | | if the | | | | | | | small | | | | | | | data rate | | | | | | | control | | | | | | | status is | | | | | | | received | | | | | | | from AMF, | | | | | | | see | | | | | | | clause | | | | | | | 5.31.14.3 | | | | | | | of 3GPP | | | | | | | TS 23. | | | | | | | 501 [2] | | | | | | | and | | | | | | | clause | | | | | | | 4.3.2.2.2 | | | | | | | of | | | | | | | 3GP | | | | | | | P TS 23.5 | | | | | | | 02 [3]. | | +-----------+-----------+---+-----------+-----------+-----------+ | apnR | ApnR | C | 0..1 | This IE | CIOT | | ateStatus | ateStatus | | | shall be | | | | | | | present, | | | | | | | if the | | | | | | | APN rate | | | | | | | control | | | | | | | status | | | | | | | (APN | | | | | | | rates are | | | | | | | shared by | | | | | | | all PDN | | | | | | | co | | | | | | | nnections | | | | | | | of the UE | | | | | | | to this | | | | | | | APN) is | | | | | | | received | | | | | | | from the | | | | | | | AMF, see | | | | | | | claus | | | | | | | e 4.7.7.3 | | | | | | | in | | | | | | | 3GP | | | | | | | P TS 23.4 | | | | | | | 01 [33] | | | | | | | and | | | | | | | clause | | | | | | | 4.11.5.3 | | | | | | | in | | | | | | | 3GP | | | | | | | P TS 23.5 | | | | | | | 02 [3]. | | +-----------+-----------+---+-----------+-----------+-----------+ | dl | integer | C | 0..1 | This IE | CIOT | | ServingPl | | | | shall be | | | mnRateCtl | | | | present | | | | | | | if | | | | | | | Serving | | | | | | | PLMN Rate | | | | | | | Control | | | | | | | for | | | | | | | downlink | | | | | | | data | | | | | | | packets | | | | | | | is | | | | | | | enabled | | | | | | | in the | | | | | | | PLMN and | | | | | | | Control | | | | | | | Plane | | | | | | | CIoT 5GS | | | | | | | Opt | | | | | | | imisation | | | | | | | is | | | | | | | enabled | | | | | | | for the | | | | | | | PDU | | | | | | | session. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | contain | | | | | | | the | | | | | | | maximum | | | | | | | allowed | | | | | | | number of | | | | | | | Downlink | | | | | | | NAS Data | | | | | | | PDUs per | | | | | | | deci hour | | | | | | | of the | | | | | | | serving | | | | | | | PLMN, as | | | | | | | specified | | | | | | | in | | | | | | | clause | | | | | | | 5.31.14.2 | | | | | | | of | | | | | | | 3GP | | | | | | | P TS 23.5 | | | | | | | 01 [2]. | | | | | | | | | | | | | | Minimum: | | | | | | | 10 | | +-----------+-----------+---+-----------+-----------+-----------+ | upSec | UpSec | C | 0..1 | This IE | DTSSA | | urityInfo | urityInfo | | | shall be | | | | | | | present | | | | | | | if | | | | | | | received | | | | | | | from | | | | | | | NG-RAN | | | | | | | during Xn | | | | | | | handover | | | | | | | procedure | | | | | | | with | | | | | | | I-SMF | | | | | | | Insertion | | | | | | | (see | | | | | | | clause 5. | | | | | | | 2.2.7.5). | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | contain | | | | | | | the User | | | | | | | Plane | | | | | | | Security | | | | | | | In | | | | | | | formation | | | | | | | a | | | | | | | ssociated | | | | | | | to the | | | | | | | PDU | | | | | | | session. | | | | | | | See | | | | | | | clause | | | | | | | 9.3.1.60 | | | | | | | of | | | | | | | 3GP | | | | | | | P TS 38.4 | | | | | | | 13 [9]. | | +-----------+-----------+---+-----------+-----------+-----------+ | vplmnQos | VplmnQos | C | 0..1 | This IE | VQOS | | | | | | shall be | | | | | | | present | | | | | | | for a HR | | | | | | | PDU | | | | | | | session, | | | | | | | if the | | | | | | | V-SMF | | | | | | | supports | | | | | | | the VQOS | | | | | | | feature | | | | | | | and if | | | | | | | VPLMN QoS | | | | | | | co | | | | | | | nstraints | | | | | | | are | | | | | | | required | | | | | | | for the | | | | | | | PDU | | | | | | | session. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | contain | | | | | | | the QoS | | | | | | | co | | | | | | | nstraints | | | | | | | from the | | | | | | | VPLMN. | | +-----------+-----------+---+-----------+-----------+-----------+ | oldSmC | Uri | C | 0..1 | This IE | EnEDGE | | ontextRef | | | | shall be | | | | | | | present, | | | | | | | if it is | | | | | | | received | | | | | | | in the | | | | | | | Create SM | | | | | | | Context | | | | | | | request. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | contain | | | | | | | the | | | | | | | i | | | | | | | dentifier | | | | | | | of the SM | | | | | | | Context | | | | | | | resource | | | | | | | in the | | | | | | | old SMF. | | +-----------+-----------+---+-----------+-----------+-----------+ | redun | Red | C | 0..1 | This IE | DCE2ER | | dantPduSe | undantPdu | | | shall be | | | ssionInfo | SessionIn | | | present | | | | formation | | | for a PDU | | | | | | | session | | | | | | | with an | | | | | | | I-SMF, if | | | | | | | an RSN | | | | | | | and/or | | | | | | | PDU | | | | | | | Session | | | | | | | Pair ID | | | | | | | was | | | | | | | received | | | | | | | from the | | | | | | | UE. | | +-----------+-----------+---+-----------+-----------+-----------+ | oldPduS | Uri | C | 0..1 | This IE | EnEDGE | | essionRef | | | | shall be | | | | | | | present, | | | | | | | if it is | | | | | | | received | | | | | | | in the | | | | | | | Create SM | | | | | | | Context | | | | | | | request. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | contain | | | | | | | the URI | | | | | | | of the | | | | | | | PDU | | | | | | | session | | | | | | | resource | | | | | | | in the | | | | | | | old SMF. | | | | | | | The URI | | | | | | | shall be | | | | | | | an | | | | | | | absolute | | | | | | | URI, | | | | | | | including | | | | | | | apiRoot | | | | | | | (see | | | | | | | clause 6. | | | | | | | 1.3.6.2). | | +-----------+-----------+---+-----------+-----------+-----------+ | smPolicy | boolean | C | 0..1 | This IE | SPAE | | NotifyInd | | | | shall be | | | | | | | included | | | | | | | by I-SMF | | | | | | | to SMF, | | | | | | | if | | | | | | | received | | | | | | | from AMF. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | indicate | | | | | | | whether | | | | | | | the SM | | | | | | | Policy | | | | | | | As | | | | | | | sociation | | | | | | | Esta | | | | | | | blishment | | | | | | | and | | | | | | | Te | | | | | | | rmination | | | | | | | events | | | | | | | shall be | | | | | | | reported | | | | | | | for the | | | | | | | PDU | | | | | | | session | | | | | | | by the | | | | | | | PCF for | | | | | | | the SM | | | | | | | Policy to | | | | | | | the PCF | | | | | | | for the | | | | | | | UE: | | | | | | | | | | | | | | - true: | | | | | | | SM Policy | | | | | | | As | | | | | | | sociation | | | | | | | Esta | | | | | | | blishment | | | | | | | and | | | | | | | Te | | | | | | | rmination | | | | | | | events | | | | | | | shall be | | | | | | | reported | | | | | | | | | | | | | | - false | | | | | | | ( | | | | | | | default): | | | | | | | SM Policy | | | | | | | As | | | | | | | sociation | | | | | | | Esta | | | | | | | blishment | | | | | | | and | | | | | | | Te | | | | | | | rmination | | | | | | | events is | | | | | | | not | | | | | | | required | | | | | | | | | | | | | | (NOTE 3) | | +-----------+-----------+---+-----------+-----------+-----------+ | pcfUeCal | PcfUeCal | C | 0..1 | This IE | SPAE | | lbackInfo | lbackInfo | | | shall be | | | | | | | present | | | | | | | when the | | | | | | | smPolicy | | | | | | | NotifyInd | | | | | | | IE is | | | | | | | present | | | | | | | with | | | | | | | value | | | | | | | true. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | contain | | | | | | | the | | | | | | | callback | | | | | | | in | | | | | | | formation | | | | | | | of the | | | | | | | PCF for | | | | | | | the UE to | | | | | | | receive | | | | | | | SM Policy | | | | | | | As | | | | | | | sociation | | | | | | | Esta | | | | | | | blishment | | | | | | | and | | | | | | | Te | | | | | | | rmination | | | | | | | events | | | | | | | not | | | | | | | ification | | | | | | | from the | | | | | | | PCF for | | | | | | | the SM | | | | | | | Policy. | | | | | | | (NOTE 3) | | +-----------+-----------+---+-----------+-----------+-----------+ | sa | Satelli | O | 0..1 | This IE | 5GSAT | | telliteBa | teBackhau | | | may be | | | ckhaulCat | lCategory | | | present | | | | | | | if the | | | | | | | V- | | | | | | | SMF/I-SMF | | | | | | | supports | | | | | | | the 5GSAT | | | | | | | feature | | | | | | | and the | | | | | | | sa | | | | | | | telliteBa | | | | | | | ckhaulCat | | | | | | | IE has | | | | | | | been | | | | | | | received | | | | | | | from the | | | | | | | AMF. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | indicate | | | | | | | the value | | | | | | | received | | | | | | | from the | | | | | | | AMF. | | +-----------+-----------+---+-----------+-----------+-----------+ | upip | boolean | C | 0..1 | This IE | UPIPE | | Supported | | | | shall be | | | | | | | present | | | | | | | during | | | | | | | the PDU | | | | | | | session | | | | | | | esta | | | | | | | blishment | | | | | | | procedure | | | | | | | if the UE | | | | | | | supports | | | | | | | User | | | | | | | Plane | | | | | | | Integrity | | | | | | | P | | | | | | | rotection | | | | | | | with EPS | | | | | | | and if | | | | | | | the AMF | | | | | | | supports | | | | | | | the | | | | | | | related | | | | | | | funct | | | | | | | ionality. | | | | | | | It may be | | | | | | | present | | | | | | | o | | | | | | | therwise. | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | shall be | | | | | | | set as | | | | | | | follows: | | | | | | | | | | | | | | > \- | | | | | | | > true: | | | | | | | > User | | | | | | | > Plane | | | | | | | > | | | | | | | Integrity | | | | | | | > P | | | | | | | rotection | | | | | | | > with | | | | | | | > EPS is | | | | | | | > s | | | | | | | upported; | | | | | | | > | | | | | | | > \- | | | | | | | > false | | | | | | | > ( | | | | | | | default): | | | | | | | > User | | | | | | | > Plane | | | | | | | > | | | | | | | Integrity | | | | | | | > P | | | | | | | rotection | | | | | | | > with | | | | | | | > EPS is | | | | | | | > not | | | | | | | > s | | | | | | | upported. | | +-----------+-----------+---+-----------+-----------+-----------+ | u | U | C | 0..1 | This IE | | | pCnxState | pCnxState | | | shall be | | | | | | | present | | | | | | | to | | | | | | | indicate | | | | | | | that the | | | | | | | User | | | | | | | Plane | | | | | | | resource | | | | | | | for the | | | | | | | PDU | | | | | | | session | | | | | | | is going | | | | | | | to be | | | | | | | es | | | | | | | tablished | | | | | | | by the | | | | | | | I-S | | | | | | | MF/V-SMF, | | | | | | | during a | | | | | | | service | | | | | | | request | | | | | | | procedure | | | | | | | with | | | | | | | I- | | | | | | | SMF/V-SMF | | | | | | | insertion | | | | | | | (see | | | | | | | clause | | | | | | | 4.23.4.3 | | | | | | | of | | | | | | | 3GPP | | | | | | | TS 23.50 | | | | | | | 2 [3]). | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | shall be | | | | | | | set as | | | | | | | specified | | | | | | | in | | | | | | | clause 5 | | | | | | | .2.2.7.6. | | +-----------+-----------+---+-----------+-----------+-----------+ | disasterR | boolean | O | 0..1 | This IE | | | oamingInd | | | | may be | | | | | | | set | | | | | | | during | | | | | | | the PDU | | | | | | | session | | | | | | | estab | | | | | | | lishment. | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | shall be | | | | | | | set as | | | | | | | follows: | | | | | | | | | | | | | | > \- | | | | | | | > true: | | | | | | | > the UE | | | | | | | > is | | | | | | | > r | | | | | | | egistered | | | | | | | > for | | | | | | | > | | | | | | | Disaster | | | | | | | > Roaming | | | | | | | > service | | | | | | | > | | | | | | | > \- | | | | | | | > false | | | | | | | > ( | | | | | | | default): | | | | | | | > the UE | | | | | | | > is not | | | | | | | > r | | | | | | | egistered | | | | | | | > for | | | | | | | > | | | | | | | Disaster | | | | | | | > Roaming | | | | | | | > service | | +-----------+-----------+---+-----------+-----------+-----------+ | hrsboInfo | HrsboInfo | C | 0..1 | This IE | HR-SBO | | | FromVplmn | | | shall be | | | | | | | present | | | | | | | in HR | | | | | | | roaming | | | | | | | scenarios | | | | | | | if the | | | | | | | V-SMF | | | | | | | requests | | | | | | | HR SBO | | | | | | | autho | | | | | | | rization. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | Include | | | | | | | the | | | | | | | in | | | | | | | formation | | | | | | | for | | | | | | | HR-SBO. | | +-----------+-----------+---+-----------+-----------+-----------+ | ecsAddrCo | array( | C | 1..N | This IE | HR-SBO | | nfigInfos | EcsAddrCo | | | shall be | | | | nfigInfo) | | | included | | | | | | | by V-SMF | | | | | | | to SMF, | | | | | | | if | | | | | | | received | | | | | | | from NEF. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | contain | | | | | | | the ECS | | | | | | | Address | | | | | | | Conf | | | | | | | iguration | | | | | | | In | | | | | | | formation | | | | | | | Pa | | | | | | | rameters. | | | | | | | See | | | | | | | 3GPP | | | | | | | TS 23.54 | | | | | | | 8 [39]. | | +-----------+-----------+---+-----------+-----------+-----------+ | NOTE 1: | | | | | | | In shared | | | | | | | networks, | | | | | | | the PLMN | | | | | | | ID that | | | | | | | is | | | | | | | com | | | | | | | municated | | | | | | | in this | | | | | | | IE shall | | | | | | | be that | | | | | | | of the | | | | | | | selected | | | | | | | Core | | | | | | | Network | | | | | | | Operator. | | | | | | | | | | | | | | NOTE 2: | | | | | | | If | | | | | | | present, | | | | | | | this | | | | | | | attribute | | | | | | | shall be | | | | | | | used | | | | | | | together | | | | | | | with | | | | | | | routingI | | | | | | | ndicator. | | | | | | | This | | | | | | | attribute | | | | | | | is only | | | | | | | used by | | | | | | | the HPLMN | | | | | | | in | | | | | | | roaming | | | | | | | s | | | | | | | cenarios. | | | | | | | | | | | | | | NOTE 3: | | | | | | | If the | | | | | | | smPolicy | | | | | | | NotifyInd | | | | | | | IE is | | | | | | | received | | | | | | | with the | | | | | | | value | | | | | | | \"true\", | | | | | | | the SMF | | | | | | | shall | | | | | | | forward | | | | | | | the | | | | | | | callback | | | | | | | in | | | | | | | formation | | | | | | | of the | | | | | | | PCF for | | | | | | | the UE to | | | | | | | the PCF | | | | | | | for SM | | | | | | | Policy | | | | | | | during SM | | | | | | | Policy | | | | | | | As | | | | | | | sociation | | | | | | | Estab | | | | | | | lishment. | | | | | | | See | | | | | | | clause | | | | | | | 4.3.2.2.1 | | | | | | | of | | | | | | | 3GP | | | | | | | P TS 23.5 | | | | | | | 02 [3]. | | | | | | | | | | | | | | NOTE 4: | | | | | | | Usage of | | | | | | | Charging | | | | | | | ID with | | | | | | | Uint32 | | | | | | | value for | | | | | | | roaming | | | | | | | scenarios | | | | | | | may lead | | | | | | | to | | | | | | | Charging | | | | | | | ID | | | | | | | collision | | | | | | | between | | | | | | | SMFs. | | | | | | +-----------+-----------+---+-----------+-----------+-----------+
##### 6.1.6.2.10 Type: PduSessionCreatedData
Table 6.1.6.2.10-1: Definition of type PduSessionCreatedData
+-----------+-----------+---+-----------+-----------+-----------+ | Attribute | Data type | P | Ca | De | Appl | | name | | | rdinality | scription | icability | +===========+===========+===+===========+===========+===========+ | pduSe | PduSe | M | 1 | This IE | | | ssionType | ssionType | | | shall | | | | | | | indicate | | | | | | | the | | | | | | | selected | | | | | | | PDU type. | | +-----------+-----------+---+-----------+-----------+-----------+ | sscMode | string | M | 1 | This IE | | | | | | | shall | | | | | | | indicate | | | | | | | the SSC | | | | | | | mode | | | | | | | a | | | | | | | pplicable | | | | | | | to the | | | | | | | PDU | | | | | | | session. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | be | | | | | | | encoded | | | | | | | as one | | | | | | | character | | | | | | | in | | | | | | | he | | | | | | | xadecimal | | | | | | | repres | | | | | | | entation, | | | | | | | taking a | | | | | | | value of | | | | | | | \"0\" to | | | | | | | \"7\", | | | | | | | rep | | | | | | | resenting | | | | | | | the 3 | | | | | | | bits of | | | | | | | the SSC | | | | | | | mode | | | | | | | value of | | | | | | | the SSC | | | | | | | mode IE | | | | | | | specified | | | | | | | in | | | | | | | clause | | | | | | | 9.11.4.16 | | | | | | | of | | | | | | | 3GP | | | | | | | P TS 24.5 | | | | | | | 01 [7]. | | | | | | | | | | | | | | Pattern: | | | | | | | \"\^[ | | | | | | | 0-7]\$\" | | | | | | | | | | | | | | Example: | | | | | | | SSC mode | | | | | | | 3 shall | | | | | | | be | | | | | | | encoded | | | | | | | as \"3\". | | | | | | | | | | | | | | (NOTE 1). | | +-----------+-----------+---+-----------+-----------+-----------+ | hcnT | T | C | 0..1 | This IE | | | unnelInfo | unnelInfo | | | shall be | | | | | | | present | | | | | | | for a HR | | | | | | | PDU | | | | | | | session, | | | | | | | except | | | | | | | when | | | | | | | Control | | | | | | | Plane | | | | | | | CIoT 5GS | | | | | | | Opt | | | | | | | imisation | | | | | | | is | | | | | | | enabled | | | | | | | and data | | | | | | | delivery | | | | | | | via NEF | | | | | | | is | | | | | | | selected | | | | | | | for this | | | | | | | PDU | | | | | | | session. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | contain | | | | | | | the N9 | | | | | | | tunnel | | | | | | | in | | | | | | | formation | | | | | | | of the | | | | | | | home CN | | | | | | | side, | | | | | | | i.e. | | | | | | | H-UPF. | | +-----------+-----------+---+-----------+-----------+-----------+ | cnT | T | C | 0..1 | This IE | DTSSA | | unnelInfo | unnelInfo | | | shall be | | | | | | | present | | | | | | | for a PDU | | | | | | | session | | | | | | | involving | | | | | | | an I-SMF, | | | | | | | except | | | | | | | when | | | | | | | Control | | | | | | | Plane | | | | | | | CIoT 5GS | | | | | | | Opt | | | | | | | imisation | | | | | | | is | | | | | | | enabled | | | | | | | and data | | | | | | | delivery | | | | | | | via NEF | | | | | | | is | | | | | | | selected | | | | | | | for this | | | | | | | PDU | | | | | | | session. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | contain | | | | | | | the N9 | | | | | | | tunnel | | | | | | | in | | | | | | | formation | | | | | | | of the | | | | | | | PSA UPF. | | +-----------+-----------+---+-----------+-----------+-----------+ | addi | T | C | 0..1 | This IE | MAPDU | | tionalCnT | unnelInfo | | | shall be | | | unnelInfo | | | | present | | | | | | | if a | | | | | | | MA-PDU | | | | | | | session | | | | | | | is | | | | | | | es | | | | | | | tablished | | | | | | | for a UE | | | | | | | r | | | | | | | egistered | | | | | | | over both | | | | | | | 3GPP | | | | | | | access | | | | | | | and | | | | | | | Non-3GPP | | | | | | | access. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | contain | | | | | | | a | | | | | | | dditional | | | | | | | N9 tunnel | | | | | | | in | | | | | | | formation | | | | | | | of the | | | | | | | UPF | | | | | | | c | | | | | | | ontrolled | | | | | | | by the | | | | | | | H-SMF or | | | | | | | SMF. | | +-----------+-----------+---+-----------+-----------+-----------+ | se | Ambr | C | 0..1 | This IE | | | ssionAmbr | | | | shall be | | | | | | | present, | | | | | | | except | | | | | | | when | | | | | | | Control | | | | | | | Plane | | | | | | | CIoT 5GS | | | | | | | Opt | | | | | | | imisation | | | | | | | is | | | | | | | enabled | | | | | | | for the | | | | | | | PDU | | | | | | | session. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | contain | | | | | | | the | | | | | | | Session | | | | | | | AMBR | | | | | | | granted | | | | | | | to the | | | | | | | PDU | | | | | | | session. | | +-----------+-----------+---+-----------+-----------+-----------+ | qosFlows | array | C | 1..N | This IE | | | SetupList | (QosFlowS | | | shall be | | | | etupItem) | | | present, | | | | | | | except | | | | | | | when | | | | | | | Control | | | | | | | Plane | | | | | | | CIoT 5GS | | | | | | | Opt | | | | | | | imisation | | | | | | | is | | | | | | | enabled | | | | | | | for the | | | | | | | PDU | | | | | | | session. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | contain | | | | | | | the full | | | | | | | set of | | | | | | | QoS | | | | | | | flow(s) | | | | | | | to | | | | | | | establish | | | | | | | for the | | | | | | | PDU | | | | | | | session. | | | | | | | It shall | | | | | | | contain | | | | | | | at least | | | | | | | the Qos | | | | | | | flow | | | | | | | a | | | | | | | ssociated | | | | | | | to the | | | | | | | default | | | | | | | Qos rule. | | | | | | | | | | | | | | In | | | | | | | V- | | | | | | | SMF/I-SMF | | | | | | | insertion | | | | | | | scenarios | | | | | | | where no | | | | | | | QoS | | | | | | | Rule(s) | | | | | | | a | | | | | | | ssociated | | | | | | | to a QoS | | | | | | | flow can | | | | | | | or need | | | | | | | to be | | | | | | | sent to | | | | | | | the UE, | | | | | | | the | | | | | | | qosRules | | | | | | | attribute | | | | | | | of the | | | | | | | QosFlow | | | | | | | SetupItem | | | | | | | may be | | | | | | | set to an | | | | | | | empty | | | | | | | string or | | | | | | | to the | | | | | | | latest | | | | | | | QoS | | | | | | | Rule(s) | | | | | | | a | | | | | | | ssociated | | | | | | | to the | | | | | | | QoS flow. | | | | | | | (NOTE 3) | | +-----------+-----------+---+-----------+-----------+-----------+ | hSmfI | NfI | C | 0..1 | This IE | | | nstanceId | nstanceId | | | shall be | | | | | | | present | | | | | | | for a HR | | | | | | | PDU | | | | | | | session. | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | contain | | | | | | | the | | | | | | | i | | | | | | | dentifier | | | | | | | of the | | | | | | | home SMF. | | +-----------+-----------+---+-----------+-----------+-----------+ | smfI | NfI | C | 0..1 | This IE | DTSSA | | nstanceId | nstanceId | | | shall be | | | | | | | present | | | | | | | for a PDU | | | | | | | session | | | | | | | with an | | | | | | | I-SMF. | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | contain | | | | | | | the | | | | | | | i | | | | | | | dentifier | | | | | | | of the | | | | | | | SMF. | | +-----------+-----------+---+-----------+-----------+-----------+ | pdu | Pdu | C | 0..1 | This IE | | | SessionId | SessionId | | | shall be | | | | | | | present | | | | | | | during an | | | | | | | EPS to | | | | | | | 5GS Idle | | | | | | | mode | | | | | | | mobility | | | | | | | or | | | | | | | handover | | | | | | | pr | | | | | | | eparation | | | | | | | using the | | | | | | | N26 | | | | | | | i | | | | | | | nterface. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | be set to | | | | | | | the PDU | | | | | | | Session | | | | | | | ID. | | +-----------+-----------+---+-----------+-----------+-----------+ | sNssai | Snssai | C | 0..1 | This IE | | | | | | | shall be | | | | | | | present | | | | | | | during an | | | | | | | EPS to | | | | | | | 5GS Idle | | | | | | | mode | | | | | | | mobility | | | | | | | or | | | | | | | handover | | | | | | | using the | | | | | | | N26 | | | | | | | i | | | | | | | nterface. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | contain: | | | | | | | | | | | | | | - the | | | | | | | S-NSSAI | | | | | | | assigned | | | | | | | to the | | | | | | | PDU | | | | | | | session | | | | | | | in the | | | | | | | Home | | | | | | | PLMN, for | | | | | | | a HR PDU | | | | | | | session; | | | | | | | | | | | | | | - the | | | | | | | S-NSSAI | | | | | | | assigned | | | | | | | to the | | | | | | | PDU | | | | | | | session | | | | | | | in the | | | | | | | serving | | | | | | | PLMN, for | | | | | | | a PDU | | | | | | | session | | | | | | | with an | | | | | | | I-SMF. | | | | | | | The | | | | | | | Snssai | | | | | | | shall | | | | | | | overwrite | | | | | | | the | | | | | | | S-NSSAI | | | | | | | earlier | | | | | | | stored in | | | | | | | I-SMF, if | | | | | | | they are | | | | | | | d | | | | | | | ifferent. | | +-----------+-----------+---+-----------+-----------+-----------+ | additio | Snssai | C | 0..1 | This IE | | | nalSnssai | | | | shall be | | | | | | | present | | | | | | | during an | | | | | | | EPS to | | | | | | | 5GS Idle | | | | | | | mode | | | | | | | mobility | | | | | | | or | | | | | | | handover | | | | | | | using the | | | | | | | N26 | | | | | | | interface | | | | | | | for LBO | | | | | | | roaming | | | | | | | case. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | indicate | | | | | | | the | | | | | | | a | | | | | | | ssociated | | | | | | | S-NSSAI | | | | | | | in HPLMN | | | | | | | for the | | | | | | | PDU | | | | | | | Session. | | +-----------+-----------+---+-----------+-----------+-----------+ | e | boolean | C | 0..1 | This IE | | | nablePaus | | | | shall be | | | eCharging | | | | present, | | | | | | | based on | | | | | | | op | | | | | | | erator\'s | | | | | | | policy, | | | | | | | to enable | | | | | | | the use | | | | | | | of Pause | | | | | | | of | | | | | | | Charging | | | | | | | for the | | | | | | | PDU | | | | | | | session | | | | | | | (see | | | | | | | cla | | | | | | | use 4.4.4 | | | | | | | of | | | | | | | 3GPP | | | | | | | TS 23.50 | | | | | | | 2 [3]). | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | be set as | | | | | | | follows: | | | | | | | | | | | | | | > \- | | | | | | | > true: | | | | | | | > enable | | | | | | | > Pause | | | | | | | > of | | | | | | | > | | | | | | | Charging; | | | | | | | > | | | | | | | > \- | | | | | | | > false | | | | | | | > ( | | | | | | | default): | | | | | | | > disable | | | | | | | > Pause | | | | | | | > of | | | | | | | > | | | | | | | Charging. | | +-----------+-----------+---+-----------+-----------+-----------+ | ueIp | Ipv4Addr | C | 0..1 | This IE | | | v4Address | | | | shall be | | | | | | | present | | | | | | | if the | | | | | | | SMF | | | | | | | assigns a | | | | | | | UE IPv4 | | | | | | | address | | | | | | | to the | | | | | | | PDU | | | | | | | session. | | +-----------+-----------+---+-----------+-----------+-----------+ | ueI | I | C | 0..1 | This IE | | | pv6Prefix | pv6Prefix | | | shall be | | | | | | | present | | | | | | | if the | | | | | | | SMF | | | | | | | assigns a | | | | | | | UE IPv6 | | | | | | | prefix to | | | | | | | the PDU | | | | | | | session. | | +-----------+-----------+---+-----------+-----------+-----------+ | n1S | RefToB | C | 0..1 | This IE | | | mInfoToUe | inaryData | | | shall be | | | | | | | present | | | | | | | if the | | | | | | | SMF needs | | | | | | | to send | | | | | | | N1 SM | | | | | | | in | | | | | | | formation | | | | | | | to the UE | | | | | | | that does | | | | | | | not need | | | | | | | to be | | | | | | | in | | | | | | | terpreted | | | | | | | by the | | | | | | | V-SMF or | | | | | | | I-SMF. | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | reference | | | | | | | the | | | | | | | n1S | | | | | | | mInfoToUe | | | | | | | binary | | | | | | | data (see | | | | | | | clause 6. | | | | | | | 1.6.4.4). | | +-----------+-----------+---+-----------+-----------+-----------+ | epsP | EpsP | C | 0..1 | This IE | | | dnCnxInfo | dnCnxInfo | | | shall be | | | | | | | present | | | | | | | if the | | | | | | | PDU | | | | | | | session | | | | | | | may be | | | | | | | moved to | | | | | | | EPS | | | | | | | during | | | | | | | its | | | | | | | lifetime. | | +-----------+-----------+---+-----------+-----------+-----------+ | epsB | ar | C | 1..N | This IE | | | earerInfo | ray(EpsBe | | | shall be | | | | arerInfo) | | | present | | | | | | | if the | | | | | | | PDU | | | | | | | session | | | | | | | may be | | | | | | | moved to | | | | | | | EPS | | | | | | | during | | | | | | | its | | | | | | | lifetime. | | +-----------+-----------+---+-----------+-----------+-----------+ | supporte | Supporte | C | 0..1 | This IE | | | dFeatures | dFeatures | | | shall be | | | | | | | present | | | | | | | if at | | | | | | | least one | | | | | | | optional | | | | | | | feature | | | | | | | defined | | | | | | | in | | | | | | | cla | | | | | | | use 6.1.8 | | | | | | | is | | | | | | | s | | | | | | | upported. | | +-----------+-----------+---+-----------+-----------+-----------+ | ma | Ma | C | 0..1 | This IE | | | xIntegrit | xIntegrit | | | shall be | | | yProtecte | yProtecte | | | present | | | dDataRate | dDataRate | | | if the | | | | | | | u | | | | | | | pSecurity | | | | | | | IE is | | | | | | | present | | | | | | | and | | | | | | | indicates | | | | | | | that | | | | | | | integrity | | | | | | | p | | | | | | | rotection | | | | | | | is | | | | | | | preferred | | | | | | | or | | | | | | | required. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | indicate | | | | | | | the | | | | | | | maximum | | | | | | | integrity | | | | | | | protected | | | | | | | data rate | | | | | | | for | | | | | | | uplink. | | | | | | | | | | | | | | If the | | | | | | | maxI | | | | | | | ntegrityP | | | | | | | rotectedD | | | | | | | ataRateDl | | | | | | | _IE is | | | | | | | absent_ , | | | | | | | this IE | | | | | | | applies | | | | | | | to both | | | | | | | uplink | | | | | | | and | | | | | | | downlink. | | | | | | | | | | | | | | (NOTE 6) | | +-----------+-----------+---+-----------+-----------+-----------+ | maxI | Ma | C | 0..1 | This IE | | | ntegrityP | xIntegrit | | | may be | | | rotectedD | yProtecte | | | present | | | ataRateDl | dDataRate | | | if the | | | | | | | u | | | | | | | pSecurity | | | | | | | IE is | | | | | | | present | | | | | | | and | | | | | | | indicates | | | | | | | that | | | | | | | integrity | | | | | | | p | | | | | | | rotection | | | | | | | is | | | | | | | preferred | | | | | | | or | | | | | | | required. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | indicate | | | | | | | the | | | | | | | maximum | | | | | | | integrity | | | | | | | protected | | | | | | | data rate | | | | | | | for | | | | | | | downlink. | | | | | | | | | | | | | | (NOTE 6) | | +-----------+-----------+---+-----------+-----------+-----------+ | always | boolean | C | 0..1 | This IE | | | OnGranted | | | | shall be | | | | | | | present | | | | | | | if the | | | | | | | alwaysOn | | | | | | | Requested | | | | | | | IE was | | | | | | | received | | | | | | | in the | | | | | | | request | | | | | | | or if the | | | | | | | SMF | | | | | | | de | | | | | | | termines, | | | | | | | based on | | | | | | | local | | | | | | | policy, | | | | | | | that the | | | | | | | PDU | | | | | | | session | | | | | | | needs to | | | | | | | be | | | | | | | es | | | | | | | tablished | | | | | | | as an | | | | | | | always-on | | | | | | | PDU | | | | | | | session. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | be set as | | | | | | | follows: | | | | | | | | | | | | | | > \- | | | | | | | > true: | | | | | | | > | | | | | | | always-on | | | | | | | > PDU | | | | | | | > session | | | | | | | > | | | | | | | granted. | | | | | | | > | | | | | | | > \- | | | | | | | > false | | | | | | | > ( | | | | | | | default): | | | | | | | > | | | | | | | always-on | | | | | | | > PDU | | | | | | | > session | | | | | | | > not | | | | | | | > | | | | | | | granted. | | +-----------+-----------+---+-----------+-----------+-----------+ | gpsi | Gpsi | C | 0..1 | This IE | | | | | | | shall be | | | | | | | present | | | | | | | if no | | | | | | | GPSI IE | | | | | | | is | | | | | | | provided | | | | | | | in the | | | | | | | request, | | | | | | | e.g. for | | | | | | | a PDU | | | | | | | session | | | | | | | moved | | | | | | | from | | | | | | | another | | | | | | | access or | | | | | | | another | | | | | | | system, | | | | | | | and the | | | | | | | SMF knows | | | | | | | that a | | | | | | | GPSI is | | | | | | | already | | | | | | | a | | | | | | | ssociated | | | | | | | with the | | | | | | | PDU | | | | | | | session. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | contain | | | | | | | the | | | | | | | user\'s | | | | | | | GPSI | | | | | | | a | | | | | | | ssociated | | | | | | | with the | | | | | | | PDU | | | | | | | session. | | +-----------+-----------+---+-----------+-----------+-----------+ | u | U | O | 0..1 | When | | | pSecurity | pSecurity | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | indicate | | | | | | | the | | | | | | | security | | | | | | | policy | | | | | | | for | | | | | | | integrity | | | | | | | p | | | | | | | rotection | | | | | | | and | | | | | | | e | | | | | | | ncryption | | | | | | | for the | | | | | | | user | | | | | | | plane of | | | | | | | the PDU | | | | | | | session. | | | | | | | | | | | | | | If this | | | | | | | IE is | | | | | | | present, | | | | | | | it shall | | | | | | | not | | | | | | | indicate | | | | | | | that | | | | | | | integrity | | | | | | | p | | | | | | | rotection | | | | | | | is | | | | | | | preferred | | | | | | | or | | | | | | | required, | | | | | | | if the | | | | | | | ma | | | | | | | xIntegrit | | | | | | | yProtecte | | | | | | | dDataRate | | | | | | | IE is not | | | | | | | present | | | | | | | (e.g. if | | | | | | | UE | | | | | | | Integrity | | | | | | | P | | | | | | | rotection | | | | | | | Maximum | | | | | | | Data Rate | | | | | | | is not | | | | | | | available | | | | | | | in the | | | | | | | SMF). | | | | | | | | | | | | | | (NOTE 6) | | +-----------+-----------+---+-----------+-----------+-----------+ | roam | Roam | O | 0..1 | Roaming | | | ingChargi | ingChargi | | | Charging | | | ngProfile | ngProfile | | | Profile | | | | | | | selected | | | | | | | by the | | | | | | | HPLMN | | | | | | | (see | | | | | | | clauses | | | | | | | 5.1.9.1, | | | | | | | 5.2.1.7 | | | | | | | and | | | | | | | 5 | | | | | | | .2.2.12.2 | | | | | | | of | | | | | | | 3GPP | | | | | | | TS 32.255 | | | | | | | [25]). | | +-----------+-----------+---+-----------+-----------+-----------+ | hSm | string | O | 0..1 | When | | | fServiceI | | | | present, | | | nstanceId | | | | this IE | | | | | | | shall | | | | | | | contain | | | | | | | the | | | | | | | serviceI | | | | | | | nstanceId | | | | | | | of the | | | | | | | H-SMF | | | | | | | service | | | | | | | instance | | | | | | | serving | | | | | | | the PDU | | | | | | | session, | | | | | | | for a HR | | | | | | | PDU | | | | | | | session. | | | | | | | | | | | | | | This IE | | | | | | | may be | | | | | | | used by | | | | | | | the V-SMF | | | | | | | to | | | | | | | identify | | | | | | | PDU | | | | | | | sessions | | | | | | | affected | | | | | | | by a | | | | | | | failure | | | | | | | or | | | | | | | restart | | | | | | | of the | | | | | | | H-SMF | | | | | | | service | | | | | | | (see | | | | | | | c | | | | | | | lause 6.2 | | | | | | | of | | | | | | | 3GPP | | | | | | | TS 23.527 | | | | | | | [24]). | | +-----------+-----------+---+-----------+-----------+-----------+ | sm | string | O | 0..1 | When | DTSSA | | fServiceI | | | | present, | | | nstanceId | | | | this IE | | | | | | | shall | | | | | | | contain | | | | | | | the | | | | | | | serviceI | | | | | | | nstanceId | | | | | | | of the | | | | | | | SMF | | | | | | | service | | | | | | | instance | | | | | | | serving | | | | | | | the PDU | | | | | | | session, | | | | | | | for a PDU | | | | | | | session | | | | | | | with an | | | | | | | I-SMF. | | | | | | | | | | | | | | This IE | | | | | | | may be | | | | | | | used by | | | | | | | the I-SMF | | | | | | | to | | | | | | | identify | | | | | | | PDU | | | | | | | sessions | | | | | | | affected | | | | | | | by a | | | | | | | failure | | | | | | | or | | | | | | | restart | | | | | | | of the | | | | | | | SMF | | | | | | | service | | | | | | | (see | | | | | | | c | | | | | | | lause 6.2 | | | | | | | of | | | | | | | 3GPP | | | | | | | TS 23.527 | | | | | | | [24]). | | +-----------+-----------+---+-----------+-----------+-----------+ | rec | DateTime | O | 0..1 | Timestamp | | | overyTime | | | | when the | | | | | | | SMF | | | | | | | service | | | | | | | instance | | | | | | | serving | | | | | | | the PDU | | | | | | | session | | | | | | | was | | | | | | | (r | | | | | | | e)started | | | | | | | (see | | | | | | | c | | | | | | | lause 6.3 | | | | | | | of | | | | | | | 3GPP | | | | | | | TS 23.527 | | | | | | | [24]). | | +-----------+-----------+---+-----------+-----------+-----------+ | dnaiList | ar | C | 1..N | This IE | DTSSA | | | ray(Dnai) | | | shall be | | | | | | | present | D | | | | | | over | TSSA-Ext1 | | | | | | N16a, if | | | | | | | available | | | | | | | and an | | | | | | | I-SMF has | | | | | | | been | | | | | | | inserted | | | | | | | into a | | | | | | | PDU | | | | | | | session, | | | | | | | during | | | | | | | the | | | | | | | following | | | | | | | pr | | | | | | | ocedures: | | | | | | | PDU | | | | | | | session | | | | | | | estab | | | | | | | lishment, | | | | | | | Regi | | | | | | | stration, | | | | | | | Service | | | | | | | Request, | | | | | | | Xn based | | | | | | | handover, | | | | | | | Inter | | | | | | | NG-RAN | | | | | | | node N2 | | | | | | | based | | | | | | | handover | | | | | | | (see | | | | | | | cl | | | | | | | ause 4.23 | | | | | | | of | | | | | | | 3GPP | | | | | | | TS 23.50 | | | | | | | 2 [3]). | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | include | | | | | | | the list | | | | | | | of DNAIs | | | | | | | of | | | | | | | interest | | | | | | | for the | | | | | | | PDU | | | | | | | session | | | | | | | for local | | | | | | | traffic | | | | | | | steering | | | | | | | at the | | | | | | | I-SMF. | | | | | | | | | | | | | | If the | | | | | | | I-SMF and | | | | | | | the SMF | | | | | | | support | | | | | | | the | | | | | | | D | | | | | | | TSSA-Ext1 | | | | | | | feature, | | | | | | | when | | | | | | | present, | | | | | | | this IE | | | | | | | should | | | | | | | include | | | | | | | the full | | | | | | | list of | | | | | | | DNAIs of | | | | | | | interest | | | | | | | for PDU | | | | | | | session, | | | | | | | including | | | | | | | DNAIs | | | | | | | that may | | | | | | | not be | | | | | | | supported | | | | | | | by the | | | | | | | I-SMF and | | | | | | | excluding | | | | | | | the ones | | | | | | | supported | | | | | | | by the | | | | | | | Anchor | | | | | | | SMF. | | +-----------+-----------+---+-----------+-----------+-----------+ | ipv6Multi | boolean | C | 0..1 | This IE | DTSSA | | HomingInd | | | | shall be | | | | | | | present | | | | | | | over | | | | | | | N16a, if | | | | | | | available | | | | | | | and an | | | | | | | I-SMF has | | | | | | | been | | | | | | | inserted | | | | | | | into the | | | | | | | PDU | | | | | | | session | | | | | | | during | | | | | | | the | | | | | | | following | | | | | | | pr | | | | | | | ocedures: | | | | | | | PDU | | | | | | | session | | | | | | | estab | | | | | | | lishment, | | | | | | | Regi | | | | | | | stration, | | | | | | | Service | | | | | | | Request, | | | | | | | Xn based | | | | | | | handover, | | | | | | | Inter | | | | | | | NG-RAN | | | | | | | node N2 | | | | | | | based | | | | | | | handover | | | | | | | (see | | | | | | | cl | | | | | | | ause 4.23 | | | | | | | of | | | | | | | 3GPP | | | | | | | TS 23.50 | | | | | | | 2 [3]). | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | be set as | | | | | | | follows: | | | | | | | | | | | | | | > \- | | | | | | | > true: | | | | | | | > IPv6 | | | | | | | > mul | | | | | | | ti-homing | | | | | | | > is | | | | | | | > p | | | | | | | ermitted. | | | | | | | > | | | | | | | > \- | | | | | | | > false | | | | | | | > ( | | | | | | | default): | | | | | | | > IPv6 | | | | | | | > mul | | | | | | | ti-homing | | | | | | | > is not | | | | | | | > | | | | | | | allowed. | | +-----------+-----------+---+-----------+-----------+-----------+ | maAc | boolean | C | 0..1 | This IE | MAPDU | | ceptedInd | | | | shall be | | | | | | | present | | | | | | | if a | | | | | | | request | | | | | | | to | | | | | | | establish | | | | | | | a MA PDU | | | | | | | session | | | | | | | was | | | | | | | accepted | | | | | | | or if a | | | | | | | single | | | | | | | access | | | | | | | PDU | | | | | | | session | | | | | | | was | | | | | | | upgraded | | | | | | | into a MA | | | | | | | PDU | | | | | | | session | | | | | | | (see | | | | | | | clauses | | | | | | | 4.22.2 | | | | | | | and | | | | | | | 4.22.3 of | | | | | | | 3GPP | | | | | | | TS 23.50 | | | | | | | 2 [3]). | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | be set as | | | | | | | follows: | | | | | | | | | | | | | | > \- | | | | | | | > true: | | | | | | | > MA PDU | | | | | | | > session | | | | | | | > | | | | | | | > \- | | | | | | | > false | | | | | | | > ( | | | | | | | default): | | | | | | | > single | | | | | | | > access | | | | | | | > PDU | | | | | | | > session | | +-----------+-----------+---+-----------+-----------+-----------+ | n3gPa | boolean | C | 0..1 | This IE | N3GPS | | thSwitchS | | | | shall be | | | upportInd | | | | present | | | | | | | if the | | | | | | | n3gPa | | | | | | | thSwitchS | | | | | | | upportInd | | | | | | | was set | | | | | | | to true | | | | | | | in the | | | | | | | request | | | | | | | and the | | | | | | | anchor | | | | | | | SMF | | | | | | | supports | | | | | | | non-3GPP | | | | | | | access | | | | | | | path | | | | | | | switching | | | | | | | for a | | | | | | | MA-PDU | | | | | | | session. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | be set as | | | | | | | follows: | | | | | | | | | | | | | | > \- | | | | | | | > true: | | | | | | | > | | | | | | | non-3GPP | | | | | | | > access | | | | | | | > path | | | | | | | > | | | | | | | switching | | | | | | | > is | | | | | | | > | | | | | | | supported | | | | | | | > | | | | | | | > \- | | | | | | | > false | | | | | | | > ( | | | | | | | default): | | | | | | | > | | | | | | | non-3GPP | | | | | | | > access | | | | | | | > path | | | | | | | > | | | | | | | switching | | | | | | | > is not | | | | | | | > | | | | | | | supported | | +-----------+-----------+---+-----------+-----------+-----------+ | home | string | O | 0..1 | When | | | ProvidedC | | | | present, | | | hargingId | | | | this IE | | | | | | | shall | | | | | | | contain | | | | | | | the Home | | | | | | | provided | | | | | | | Charging | | | | | | | ID (see | | | | | | | 3GPP | | | | | | | TS 32.255 | | | | | | | [25]). | | | | | | | | | | | | | | This IE | | | | | | | shall be | | | | | | | present | | | | | | | during an | | | | | | | EPS to | | | | | | | 5GS Idle | | | | | | | mode | | | | | | | mobility | | | | | | | or | | | | | | | Handover | | | | | | | of a HR | | | | | | | PDU | | | | | | | session. | | | | | | | (NOTE 5) | | | | | | | | | | | | | | The | | | | | | | string | | | | | | | shall | | | | | | | encode | | | | | | | the | | | | | | | Charging | | | | | | | ID | | | | | | | (32-bit | | | | | | | unsigned | | | | | | | integer | | | | | | | value, | | | | | | | with | | | | | | | maximum | | | | | | | value | | | | | | | \"4294 | | | | | | | 967295\") | | | | | | | in | | | | | | | decimal | | | | | | | repres | | | | | | | entation. | | | | | | | | | | | | | | Pattern: | | | | | | | \ | | | | | | | '\^(0\|(\ | | | | | | | [1-9]{1} | | | | | | | [0-9]{0 | | | | | | | ,9}))\$\' | | | | | | | | | | | | | | (NOTE 8) | | +-----------+-----------+---+-----------+-----------+-----------+ | n | boolean | C | 0..1 | This IE | CIOT | | efExtBufS | | | | shall be | | | upportInd | | | | present | | | | | | | with | | | | | | | value | | | | | | | \"true\", | | | | | | | if NEF | | | | | | | has | | | | | | | indicated | | | | | | | Extended | | | | | | | Buffering | | | | | | | Support | | | | | | | for | | | | | | | mobile | | | | | | | t | | | | | | | erminated | | | | | | | data in | | | | | | | SMF-NEF | | | | | | | c | | | | | | | onnection | | | | | | | esta | | | | | | | blishment | | | | | | | response. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | shall be | | | | | | | set as | | | | | | | f | | | | | | | ollowing: | | | | | | | | | | | | | | > \- | | | | | | | > true: | | | | | | | > | | | | | | | Extended | | | | | | | > | | | | | | | Buffering | | | | | | | > | | | | | | | supported | | | | | | | > by NEF | | | | | | | > | | | | | | | > \- | | | | | | | > false | | | | | | | > ( | | | | | | | default): | | | | | | | > | | | | | | | Extended | | | | | | | > | | | | | | | Buffering | | | | | | | > not | | | | | | | > | | | | | | | supported | | | | | | | > by NEF | | +-----------+-----------+---+-----------+-----------+-----------+ | smallData | boolean | C | 0..1 | This IE | CIOT | | RateContr | | | | shall be | | | olEnabled | | | | present | | | | | | | and set | | | | | | | to | | | | | | | \"true\" | | | | | | | if small | | | | | | | data rate | | | | | | | control | | | | | | | is | | | | | | | a | | | | | | | pplicable | | | | | | | on the | | | | | | | PDU | | | | | | | session. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | be set as | | | | | | | follows: | | | | | | | | | | | | | | > \- | | | | | | | > true: | | | | | | | > small | | | | | | | > data | | | | | | | > rate | | | | | | | > control | | | | | | | > is | | | | | | | > ap | | | | | | | plicable. | | | | | | | > | | | | | | | > \- | | | | | | | > false | | | | | | | > ( | | | | | | | default): | | | | | | | > small | | | | | | | > data | | | | | | | > rate | | | | | | | > control | | | | | | | > is not | | | | | | | > ap | | | | | | | plicable. | | +-----------+-----------+---+-----------+-----------+-----------+ | ueIpv6In | string | C | 0..1 | This IE | | | terfaceId | | | | shall be | | | | | | | present | | | | | | | if the | | | | | | | H-SMF/SMF | | | | | | | has | | | | | | | assigned | | | | | | | IPv6 | | | | | | | interface | | | | | | | i | | | | | | | dentifier | | | | | | | to the UE | | | | | | | during | | | | | | | the PDU | | | | | | | session | | | | | | | esta | | | | | | | blishment | | | | | | | for the | | | | | | | Ho | | | | | | | me-routed | | | | | | | Roaming | | | | | | | scenario | | | | | | | or for a | | | | | | | PDU | | | | | | | session | | | | | | | with an | | | | | | | I-SMF. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | encode | | | | | | | the UE | | | | | | | IPv6 | | | | | | | Interface | | | | | | | I | | | | | | | dentifier | | | | | | | to be | | | | | | | used by | | | | | | | the UE | | | | | | | for its | | | | | | | l | | | | | | | ink-local | | | | | | | address | | | | | | | conf | | | | | | | iguration | | | | | | | with 16 | | | | | | | he | | | | | | | xadecimal | | | | | | | digits. | | | | | | | | | | | | | | Pattern: | | | | | | | \"\^[A | | | | | | | -Fa-f0-9\ | | | | | | | ]{16}\$\" | | +-----------+-----------+---+-----------+-----------+-----------+ | ipv6Index | IpIndex | C | 0..1 | This IE | DTSSA | | | | | | shall be | | | | | | | present | | | | | | | if IPv6 | | | | | | | Index has | | | | | | | been | | | | | | | received | | | | | | | from PCF | | | | | | | during SM | | | | | | | Policy | | | | | | | Creation. | | | | | | | (NOTE 4) | | +-----------+-----------+---+-----------+-----------+-----------+ | dnA | IpAddress | O | 0..1 | When | DTSSA | | aaAddress | | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | contain | | | | | | | the | | | | | | | address | | | | | | | of DN-AAA | | | | | | | server | | | | | | | for UE IP | | | | | | | Address | | | | | | | a | | | | | | | llocation | | | | | | | that has | | | | | | | been | | | | | | | received | | | | | | | from UDM. | | | | | | | (NOTE 4). | | +-----------+-----------+---+-----------+-----------+-----------+ | redun | Red | C | 0..1 | This IE | DCE2ER | | dantPduSe | undantPdu | | | shall be | | | ssionInfo | SessionIn | | | present | | | | formation | | | for a PDU | | | | | | | session | | | | | | | with an | | | | | | | I-SMF, if | | | | | | | Dual | | | | | | | Con | | | | | | | nectivity | | | | | | | based end | | | | | | | to end | | | | | | | Redundant | | | | | | | User | | | | | | | Plane | | | | | | | Paths | | | | | | | shall | | | | | | | apply as | | | | | | | specified | | | | | | | in | | | | | | | clause | | | | | | | 5.33.2.1 | | | | | | | of | | | | | | | 3GP | | | | | | | P TS 23.5 | | | | | | | 01 [2], | | | | | | | r | | | | | | | egardless | | | | | | | of | | | | | | | whether | | | | | | | the | | | | | | | redun | | | | | | | dantPduSe | | | | | | | ssionInfo | | | | | | | IE was | | | | | | | received | | | | | | | or not in | | | | | | | the | | | | | | | request. | | | | | | | If an RSN | | | | | | | and/or | | | | | | | PDU | | | | | | | Session | | | | | | | Pair ID | | | | | | | was | | | | | | | received | | | | | | | from the | | | | | | | UE, the | | | | | | | same RSN | | | | | | | and/or | | | | | | | PDU | | | | | | | Session | | | | | | | Pair ID | | | | | | | shall be | | | | | | | returned | | | | | | | in the | | | | | | | response; | | | | | | | addi | | | | | | | tionally, | | | | | | | if either | | | | | | | the RSN | | | | | | | or PDU | | | | | | | Session | | | | | | | Pair ID | | | | | | | was not | | | | | | | received | | | | | | | from the | | | | | | | UE, the | | | | | | | anchor | | | | | | | SMF shall | | | | | | | determine | | | | | | | and also | | | | | | | return an | | | | | | | RSN or | | | | | | | PDU | | | | | | | Session | | | | | | | Pair ID | | | | | | | res | | | | | | | pectively | | | | | | | in the | | | | | | | response. | | +-----------+-----------+---+-----------+-----------+-----------+ | nspuS | boolean | C | 0..1 | This IE | | | upportInd | | | | shall be | | | | | | | present | | | | | | | and set | | | | | | | to | | | | | | | \"true\" | | | | | | | if | | | | | | | e | | | | | | | nablePaus | | | | | | | eCharging | | | | | | | is set to | | | | | | | \"true\" | | | | | | | and if | | | | | | | the | | | | | | | (H-)SMF | | | | | | | and PSA | | | | | | | UPF | | | | | | | support | | | | | | | Notify | | | | | | | Start | | | | | | | Pause of | | | | | | | Charging | | | | | | | via user | | | | | | | plane | | | | | | | feature | | | | | | | as | | | | | | | specified | | | | | | | in | | | | | | | cl | | | | | | | ause 5.30 | | | | | | | of | | | | | | | 3GPP | | | | | | | TS 29.24 | | | | | | | 4 [29]. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | be set as | | | | | | | follows: | | | | | | | | | | | | | | > \- | | | | | | | > true: | | | | | | | > Notify | | | | | | | > Start | | | | | | | > Pause | | | | | | | > of | | | | | | | > | | | | | | | Charging | | | | | | | > via | | | | | | | > user | | | | | | | > plane | | | | | | | > feature | | | | | | | > is | | | | | | | > s | | | | | | | upported. | | +-----------+-----------+---+-----------+-----------+-----------+ | interPl | Uri | C | 0..1 | This IE | | | mnApiRoot | | | | should be | | | | | | | present | | | | | | | if the | | | | | | | PDU | | | | | | | session | | | | | | | may be | | | | | | | subject | | | | | | | to | | | | | | | i | | | | | | | nter-PLMN | | | | | | | mobility | | | | | | | and | | | | | | | different | | | | | | | PDU | | | | | | | session | | | | | | | context | | | | | | | URIs | | | | | | | shall be | | | | | | | used for | | | | | | | i | | | | | | | ntra-PLMN | | | | | | | and | | | | | | | i | | | | | | | nter-PLMN | | | | | | | signaling | | | | | | | requests | | | | | | | targeting | | | | | | | the PDU | | | | | | | session | | | | | | | context. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | contain | | | | | | | the | | | | | | | apiRoot | | | | | | | of the | | | | | | | PDU | | | | | | | session | | | | | | | context | | | | | | | to be | | | | | | | used in | | | | | | | i | | | | | | | nter-PLMN | | | | | | | s | | | | | | | ignalling | | | | | | | request | | | | | | | targeting | | | | | | | the PDU | | | | | | | session | | | | | | | context. | | | | | | | | | | | | | | (NOTE 7) | | +-----------+-----------+---+-----------+-----------+-----------+ | intraPl | Uri | C | 0..1 | This IE | | | mnApiRoot | | | | should be | | | | | | | present | | | | | | | if the | | | | | | | PDU | | | | | | | session | | | | | | | may be | | | | | | | subject | | | | | | | to | | | | | | | i | | | | | | | nter-PLMN | | | | | | | mobility | | | | | | | and | | | | | | | different | | | | | | | PDU | | | | | | | session | | | | | | | context | | | | | | | URIs | | | | | | | shall be | | | | | | | used for | | | | | | | i | | | | | | | ntra-PLMN | | | | | | | and | | | | | | | i | | | | | | | nter-PLMN | | | | | | | signaling | | | | | | | requests | | | | | | | targeting | | | | | | | the PDU | | | | | | | session | | | | | | | context. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | contain | | | | | | | the | | | | | | | apiRoot | | | | | | | of the | | | | | | | PDU | | | | | | | session | | | | | | | context | | | | | | | to be | | | | | | | used in | | | | | | | i | | | | | | | ntra-PLMN | | | | | | | s | | | | | | | ignalling | | | | | | | request | | | | | | | targeting | | | | | | | the PDU | | | | | | | session | | | | | | | context. | | | | | | | | | | | | | | (NOTE 7) | | +-----------+-----------+---+-----------+-----------+-----------+ | u | NfGroupId | O | 0..1 | This IE | | | dmGroupId | | | | may be | | | | | | | present | | | | | | | during an | | | | | | | EPS to | | | | | | | 5GS | | | | | | | handover | | | | | | | using the | | | | | | | N26 | | | | | | | interface | | | | | | | p | | | | | | | rocedure. | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | indicate | | | | | | | the | | | | | | | identity | | | | | | | of the | | | | | | | UDM group | | | | | | | serving | | | | | | | the UE. | | +-----------+-----------+---+-----------+-----------+-----------+ | p | NfGroupId | O | 0..1 | This IE | | | cfGroupId | | | | may be | | | | | | | present | | | | | | | during an | | | | | | | EPS to | | | | | | | 5GS | | | | | | | handover | | | | | | | using the | | | | | | | N26 | | | | | | | interface | | | | | | | p | | | | | | | rocedure. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | contain | | | | | | | the | | | | | | | identity | | | | | | | of the | | | | | | | (home) | | | | | | | PCF group | | | | | | | serving | | | | | | | the PDU | | | | | | | session | | | | | | | for | | | | | | | Session | | | | | | | M | | | | | | | anagement | | | | | | | policy. | | +-----------+-----------+---+-----------+-----------+-----------+ | hrsboInfo | HrsboInfo | C | 0..1 | This IE | HR-SBO | | | FromHplmn | | | shall be | | | | | | | present | | | | | | | in HR | | | | | | | roaming | | | | | | | scenarios | | | | | | | if the | | | | | | | H-SMF | | | | | | | supports | | | | | | | the | | | | | | | HR-SBO | | | | | | | feature | | | | | | | and it | | | | | | | receives | | | | | | | a request | | | | | | | for | | | | | | | HR-SBO. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | Include | | | | | | | the | | | | | | | in | | | | | | | formation | | | | | | | for | | | | | | | HR-SBO. | | | | | | | | | | | | | | The | | | | | | | absence | | | | | | | of this | | | | | | | IE shall | | | | | | | indicate | | | | | | | that the | | | | | | | HR-SBO is | | | | | | | not | | | | | | | allowed. | | +-----------+-----------+---+-----------+-----------+-----------+ | pen | array( | O | 1..N | When | | | dingUpdat | PendingUp | | | present, | | | eInfoList | dateInfo) | | | this IE | | | | | | | shall | | | | | | | indicate | | | | | | | the list | | | | | | | of | | | | | | | in | | | | | | | formation | | | | | | | that are | | | | | | | not | | | | | | | required | | | | | | | to be | | | | | | | updated | | | | | | | in | | | | | | | real-time | | | | | | | to the | | | | | | | (H-)SMF, | | | | | | | i.e. the | | | | | | | change of | | | | | | | the | | | | | | | listed | | | | | | | in | | | | | | | formation | | | | | | | (e.g. UE | | | | | | | location | | | | | | | or | | | | | | | Timezone) | | | | | | | may be | | | | | | | pi | | | | | | | ggybacked | | | | | | | in a | | | | | | | s | | | | | | | ubsequent | | | | | | | essential | | | | | | | update | | | | | | | (e.g. to | | | | | | | exchange | | | | | | | the N1 | | | | | | | message | | | | | | | from the | | | | | | | UE) to | | | | | | | the | | | | | | | (H-)SMF. | | | | | | | The NF | | | | | | | service | | | | | | | consumer | | | | | | | (i.e. | | | | | | | I-S | | | | | | | MF/V-SMF) | | | | | | | should | | | | | | | not | | | | | | | trigger | | | | | | | an Update | | | | | | | to the | | | | | | | (H-)SMF | | | | | | | including | | | | | | | only the | | | | | | | change(s) | | | | | | | of the | | | | | | | listed | | | | | | | inf | | | | | | | ormation. | | +-----------+-----------+---+-----------+-----------+-----------+ | NOTE 1: | | | | | | | This IE | | | | | | | contains | | | | | | | in | | | | | | | formation | | | | | | | that the | | | | | | | V-SMF or | | | | | | | I-SMF | | | | | | | only | | | | | | | needs to | | | | | | | transfer | | | | | | | to the UE | | | | | | | (without | | | | | | | interpr | | | | | | | etation). | | | | | | | It is | | | | | | | sent as a | | | | | | | separate | | | | | | | IE rather | | | | | | | than | | | | | | | within | | | | | | | the | | | | | | | n1S | | | | | | | mInfoToUE | | | | | | | binary | | | | | | | data | | | | | | | because | | | | | | | the | | | | | | | Selected | | | | | | | SSC mode | | | | | | | IE is | | | | | | | defined | | | | | | | as a | | | | | | | \"V\" IE | | | | | | | (i.e. | | | | | | | without a | | | | | | | Type | | | | | | | field) in | | | | | | | the NAS | | | | | | | PDU | | | | | | | Session | | | | | | | Esta | | | | | | | blishment | | | | | | | Accept | | | | | | | message. | | | | | | | | | | | | | | NOTE 2: | | | | | | | In | | | | | | | scenarios | | | | | | | with a | | | | | | | V- | | | | | | | SMF/I-SMF | | | | | | | i | | | | | | | nsertion, | | | | | | | the | | | | | | | V- | | | | | | | SMF/I-SMF | | | | | | | may | | | | | | | receive | | | | | | | in the | | | | | | | Create | | | | | | | Response | | | | | | | some IEs | | | | | | | it has | | | | | | | already | | | | | | | received | | | | | | | during | | | | | | | the | | | | | | | earlier | | | | | | | SM | | | | | | | context | | | | | | | retrieval | | | | | | | from the | | | | | | | SMF (e.g. | | | | | | | due to | | | | | | | the | | | | | | | condition | | | | | | | of | | | | | | | presence | | | | | | | of IEs in | | | | | | | the | | | | | | | Create | | | | | | | R | | | | | | | esponse). | | | | | | | In such a | | | | | | | case, the | | | | | | | V- | | | | | | | SMF/I-SMF | | | | | | | shall | | | | | | | overwrite | | | | | | | the IEs | | | | | | | earlier | | | | | | | received | | | | | | | with the | | | | | | | new IEs | | | | | | | received | | | | | | | in the | | | | | | | Create | | | | | | | Response. | | | | | | | | | | | | | | NOTE 3: | | | | | | | The | | | | | | | V- | | | | | | | SMF/I-SMF | | | | | | | shall | | | | | | | ignore | | | | | | | any QoS | | | | | | | Rule(s) | | | | | | | a | | | | | | | ssociated | | | | | | | to a QoS | | | | | | | flow | | | | | | | received | | | | | | | in | | | | | | | Pdu | | | | | | | SessionCr | | | | | | | eatedData | | | | | | | during | | | | | | | V- | | | | | | | SMF/I-SMF | | | | | | | insertion | | | | | | | scenarios | | | | | | | where no | | | | | | | QoS | | | | | | | Rule(s) | | | | | | | can be | | | | | | | sent to | | | | | | | the UE, | | | | | | | i.e. | | | | | | | during | | | | | | | Regi | | | | | | | stration, | | | | | | | Inter | | | | | | | NG-RAN | | | | | | | node N2 | | | | | | | based | | | | | | | handover, | | | | | | | and EPS | | | | | | | to 5GS | | | | | | | Idle mode | | | | | | | mobility | | | | | | | /handover | | | | | | | using N26 | | | | | | | interface | | | | | | | p | | | | | | | rocedures | | | | | | | with | | | | | | | V- | | | | | | | SMF/I-SMF | | | | | | | i | | | | | | | nsertion, | | | | | | | or during | | | | | | | Service | | | | | | | Request | | | | | | | and Xn | | | | | | | based | | | | | | | handover | | | | | | | p | | | | | | | rocedures | | | | | | | with | | | | | | | I-SMF | | | | | | | i | | | | | | | nsertion. | | | | | | | In such | | | | | | | s | | | | | | | cenarios, | | | | | | | the | | | | | | | (H-)SMF | | | | | | | shall | | | | | | | initiate | | | | | | | a | | | | | | | s | | | | | | | ubsequent | | | | | | | PDU | | | | | | | session | | | | | | | mod | | | | | | | ification | | | | | | | procedure | | | | | | | if it | | | | | | | needs to | | | | | | | change | | | | | | | the QoS | | | | | | | Rules | | | | | | | a | | | | | | | ssociated | | | | | | | to the | | | | | | | QoS | | | | | | | flows. | | | | | | | | | | | | | | NOTE 4: | | | | | | | The I-SMF | | | | | | | may use | | | | | | | IPv6 | | | | | | | index to | | | | | | | assist in | | | | | | | selecting | | | | | | | how the | | | | | | | IPv6 | | | | | | | prefix is | | | | | | | to be | | | | | | | allocated | | | | | | | for local | | | | | | | PSA when | | | | | | | IPv6 | | | | | | | mul | | | | | | | ti-homing | | | | | | | is | | | | | | | applied | | | | | | | for the | | | | | | | PDU | | | | | | | session. | | | | | | | If the | | | | | | | IPv6 | | | | | | | index | | | | | | | indicates | | | | | | | UE IP | | | | | | | address | | | | | | | a | | | | | | | llocation | | | | | | | should be | | | | | | | performed | | | | | | | towards | | | | | | | DN-AAA | | | | | | | server, | | | | | | | the | | | | | | | DN-AAA | | | | | | | server | | | | | | | address | | | | | | | may be | | | | | | | included | | | | | | | from the | | | | | | | SMF to | | | | | | | the | | | | | | | I-SMF. | | | | | | | | | | | | | | NOTE 5: | | | | | | | The | | | | | | | c | | | | | | | hargingId | | | | | | | IE in | | | | | | | SmContext | | | | | | | (see | | | | | | | clause 6. | | | | | | | 1.6.2.39) | | | | | | | shall be | | | | | | | set to | | | | | | | the value | | | | | | | received | | | | | | | in the | | | | | | | home | | | | | | | ProvidedC | | | | | | | hargingId | | | | | | | IE during | | | | | | | an EPS to | | | | | | | 5GS Idle | | | | | | | mode | | | | | | | mobility | | | | | | | or | | | | | | | Handover | | | | | | | of a HR | | | | | | | PDU | | | | | | | session. | | | | | | | | | | | | | | NOTE 6: | | | | | | | During | | | | | | | int | | | | | | | er-system | | | | | | | mobility | | | | | | | from EPS | | | | | | | to 5GS, | | | | | | | the UE | | | | | | | Integrity | | | | | | | P | | | | | | | rotection | | | | | | | Maximum | | | | | | | Data Rate | | | | | | | is not | | | | | | | available | | | | | | | at the | | | | | | | SMF | | | | | | | during | | | | | | | PDU | | | | | | | Session | | | | | | | Creation. | | | | | | | The UE | | | | | | | will | | | | | | | provide | | | | | | | UE | | | | | | | Integrity | | | | | | | P | | | | | | | rotection | | | | | | | Maximum | | | | | | | Data Rate | | | | | | | to the | | | | | | | network | | | | | | | within a | | | | | | | s | | | | | | | ubsequent | | | | | | | UE | | | | | | | triggered | | | | | | | PDU | | | | | | | session | | | | | | | mod | | | | | | | ification | | | | | | | p | | | | | | | rocedure, | | | | | | | as | | | | | | | specified | | | | | | | in | | | | | | | claus | | | | | | | e 4.3.3.2 | | | | | | | of | | | | | | | 3GP | | | | | | | P TS 23.5 | | | | | | | 02 [3]. | | | | | | | | | | | | | | NOTE 7: | | | | | | | During an | | | | | | | i | | | | | | | nter-PLMN | | | | | | | mobility, | | | | | | | after | | | | | | | r | | | | | | | etrieving | | | | | | | the SM | | | | | | | context | | | | | | | from the | | | | | | | old | | | | | | | V-SMF, | | | | | | | I-SMF or | | | | | | | anchor | | | | | | | SMF, the | | | | | | | target | | | | | | | V-SMF or | | | | | | | I-SMF | | | | | | | shall | | | | | | | replace | | | | | | | the | | | | | | | apiRoot | | | | | | | of the | | | | | | | pduS | | | | | | | essionRef | | | | | | | with the | | | | | | | interPl | | | | | | | mnApiRoot | | | | | | | (if | | | | | | | a | | | | | | | vailable) | | | | | | | if the | | | | | | | anchor | | | | | | | SMF is | | | | | | | not in | | | | | | | the | | | | | | | target | | | | | | | PLMN, or | | | | | | | with the | | | | | | | intraPl | | | | | | | mnApiRoot | | | | | | | (if | | | | | | | a | | | | | | | vailable) | | | | | | | o | | | | | | | therwise. | | | | | | | The | | | | | | | Operator | | | | | | | I | | | | | | | dentifier | | | | | | | in the | | | | | | | DNN | | | | | | | indicates | | | | | | | the PLMN | | | | | | | ID of the | | | | | | | anchor | | | | | | | SMF. | | | | | | | | | | | | | | NOTE 8: | | | | | | | Usage of | | | | | | | Charging | | | | | | | ID with | | | | | | | Uint32 | | | | | | | value for | | | | | | | roaming | | | | | | | scenarios | | | | | | | may lead | | | | | | | to | | | | | | | Charging | | | | | | | ID | | | | | | | collision | | | | | | | between | | | | | | | SMFs. | | | | | | +-----------+-----------+---+-----------+-----------+-----------+
##### 6.1.6.2.11 Type: HsmfUpdateData
Table 6.1.6.2.11-1: Definition of type HsmfUpdateData
+-----------+-----------+---+-----------+-----------+-----------+ | Attribute | Data type | P | Ca | De | Appl | | name | | | rdinality | scription | icability | +===========+===========+===+===========+===========+===========+ | requestI | RequestI | M | 1 | This IE | | | ndication | ndication | | | shall | | | | | | | indicate | | | | | | | the | | | | | | | request | | | | | | | type. | | +-----------+-----------+---+-----------+-----------+-----------+ | pei | Pei | C | 0..1 | This IE | | | | | | | shall be | | | | | | | present | | | | | | | if it is | | | | | | | available | | | | | | | and has | | | | | | | not been | | | | | | | provided | | | | | | | earlier | | | | | | | to the | | | | | | | H-SMF or | | | | | | | SMF. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | contain | | | | | | | the | | | | | | | permanent | | | | | | | equipment | | | | | | | id | | | | | | | entifier. | | +-----------+-----------+---+-----------+-----------+-----------+ | vcnT | T | C | 1 | This IE | | | unnelInfo | unnelInfo | | | shall be | | | | | | | present | | | | | | | if the N9 | | | | | | | tunnel | | | | | | | in | | | | | | | formation | | | | | | | on the | | | | | | | visited | | | | | | | CN side | | | | | | | provided | | | | | | | earlier | | | | | | | to the | | | | | | | H-SMF has | | | | | | | changed. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | contain | | | | | | | the new | | | | | | | N9 tunnel | | | | | | | in | | | | | | | formation | | | | | | | on the | | | | | | | visited | | | | | | | CN side. | | +-----------+-----------+---+-----------+-----------+-----------+ | icnT | T | C | 0..1 | This IE | DTSSA | | unnelInfo | unnelInfo | | | shall be | | | | | | | present | | | | | | | if the N9 | | | | | | | tunnel | | | | | | | in | | | | | | | formation | | | | | | | of the | | | | | | | I-UPF for | | | | | | | DL | | | | | | | traffic | | | | | | | provided | | | | | | | earlier | | | | | | | by the | | | | | | | I-SMF to | | | | | | | the SMF | | | | | | | has | | | | | | | changed. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | contain | | | | | | | the new | | | | | | | N9 tunnel | | | | | | | in | | | | | | | formation | | | | | | | of the | | | | | | | I-UPF. | | +-----------+-----------+---+-----------+-----------+-----------+ | addi | T | C | 0..1 | This IE | MAPDU | | tionalCnT | unnelInfo | | | shall be | | | unnelInfo | | | | present | | | | | | | if | | | | | | | a | | | | | | | dditional | | | | | | | N9 tunnel | | | | | | | in | | | | | | | formation | | | | | | | provided | | | | | | | earlier | | | | | | | has | | | | | | | changed, | | | | | | | or if the | | | | | | | UE | | | | | | | requests | | | | | | | to | | | | | | | establish | | | | | | | resources | | | | | | | for a MA | | | | | | | PDU | | | | | | | session | | | | | | | over the | | | | | | | other | | | | | | | access. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | contain | | | | | | | a | | | | | | | dditional | | | | | | | N9 tunnel | | | | | | | in | | | | | | | formation | | | | | | | of the | | | | | | | UPF | | | | | | | c | | | | | | | ontrolled | | | | | | | by the | | | | | | | V-SMF or | | | | | | | I-SMF. | | +-----------+-----------+---+-----------+-----------+-----------+ | servi | PlmnIdNid | C | 0..1 | This IE | | | ngNetwork | | | | shall | | | | | | | contain | | | | | | | the | | | | | | | serving | | | | | | | core | | | | | | | network | | | | | | | operator | | | | | | | PLMN ID, | | | | | | | and, for | | | | | | | an SNPN, | | | | | | | the NID | | | | | | | that | | | | | | | together | | | | | | | with the | | | | | | | PLMN ID | | | | | | | i | | | | | | | dentifies | | | | | | | the SNPN, | | | | | | | if the | | | | | | | serving | | | | | | | network | | | | | | | has | | | | | | | changed. | | +-----------+-----------+---+-----------+-----------+-----------+ | anType | A | C | 0..1 | This IE | | | | ccessType | | | shall be | | | | | | | present | | | | | | | if the | | | | | | | Access | | | | | | | Network | | | | | | | Type | | | | | | | provided | | | | | | | earlier | | | | | | | to the | | | | | | | H-SMF or | | | | | | | SMF has | | | | | | | changed, | | | | | | | e.g. | | | | | | | during a | | | | | | | handover | | | | | | | of the | | | | | | | PDU | | | | | | | session | | | | | | | between | | | | | | | 3GPP | | | | | | | access | | | | | | | and | | | | | | | untrusted | | | | | | | non-3GPP | | | | | | | access | | | | | | | (see | | | | | | | cl | | | | | | | ause 5.2. | | | | | | | 2.8.2.5). | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | indicate | | | | | | | the new | | | | | | | Access | | | | | | | Network | | | | | | | Type to | | | | | | | which the | | | | | | | PDU | | | | | | | session | | | | | | | is to be | | | | | | | as | | | | | | | sociated. | | +-----------+-----------+---+-----------+-----------+-----------+ | additio | A | C | 0..1 | This IE | MAPDU | | nalAnType | ccessType | | | shall | | | | | | | indicate | | | | | | | the | | | | | | | a | | | | | | | dditional | | | | | | | Access | | | | | | | Network | | | | | | | Type to | | | | | | | which the | | | | | | | PDU | | | | | | | session | | | | | | | is to be | | | | | | | as | | | | | | | sociated. | | | | | | | | | | | | | | This IE | | | | | | | shall be | | | | | | | present | | | | | | | when the | | | | | | | UE | | | | | | | requests | | | | | | | to | | | | | | | establish | | | | | | | resources | | | | | | | for MA | | | | | | | PDU | | | | | | | session | | | | | | | over the | | | | | | | other | | | | | | | access. | | +-----------+-----------+---+-----------+-----------+-----------+ | ratType | RatType | C | 0..1 | This IE | | | | | | | shall be | | | | | | | present | | | | | | | and | | | | | | | indicate | | | | | | | the RAT | | | | | | | Type used | | | | | | | by the | | | | | | | UE, if | | | | | | | a | | | | | | | vailable, | | | | | | | upon a | | | | | | | change of | | | | | | | RAT Type. | | +-----------+-----------+---+-----------+-----------+-----------+ | u | Use | C | 0..1 | This IE | | | eLocation | rLocation | | | shall be | | | | | | | present | | | | | | | if it is | | | | | | | a | | | | | | | vailable, | | | | | | | the UE | | | | | | | Location | | | | | | | has | | | | | | | changed | | | | | | | and needs | | | | | | | to be | | | | | | | reported | | | | | | | to the | | | | | | | H-SMF or | | | | | | | SMF. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | contain: | | | | | | | | | | | | | | - the | | | | | | | new UE | | | | | | | location | | | | | | | in | | | | | | | formation | | | | | | | (see | | | | | | | clause | | | | | | | 5.2.3.4); | | | | | | | and | | | | | | | | | | | | | | - the | | | | | | | t | | | | | | | imestamp, | | | | | | | if | | | | | | | a | | | | | | | vailable, | | | | | | | i | | | | | | | ndicating | | | | | | | the UTC | | | | | | | time when | | | | | | | the | | | | | | | U | | | | | | | eLocation | | | | | | | in | | | | | | | formation | | | | | | | was | | | | | | | acquired. | | | | | | | | | | | | | | (NOTE 1) | | +-----------+-----------+---+-----------+-----------+-----------+ | u | TimeZone | C | 0..1 | This IE | | | eTimeZone | | | | shall be | | | | | | | present | | | | | | | if it is | | | | | | | a | | | | | | | vailable, | | | | | | | the UE | | | | | | | Time Zone | | | | | | | has | | | | | | | changed | | | | | | | and needs | | | | | | | to be | | | | | | | reported | | | | | | | to the | | | | | | | H-SMF or | | | | | | | SMF. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | contain | | | | | | | the new | | | | | | | UE Time | | | | | | | Zone. | | +-----------+-----------+---+-----------+-----------+-----------+ | addU | Use | O | 0..1 | A | | | eLocation | rLocation | | | dditional | | | | | | | UE | | | | | | | location. | | | | | | | | | | | | | | This IE | | | | | | | may be | | | | | | | present, | | | | | | | if anType | | | | | | | indicates | | | | | | | a | | | | | | | non-3GPP | | | | | | | access | | | | | | | and a | | | | | | | valid | | | | | | | 3GPP | | | | | | | access | | | | | | | user | | | | | | | location | | | | | | | in | | | | | | | formation | | | | | | | is | | | | | | | a | | | | | | | vailable. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | contain: | | | | | | | | | | | | | | - the | | | | | | | last | | | | | | | known | | | | | | | 3GPP | | | | | | | access | | | | | | | user | | | | | | | location | | | | | | | (see | | | | | | | clause | | | | | | | 5.2.3.4); | | | | | | | and | | | | | | | | | | | | | | - the | | | | | | | t | | | | | | | imestamp, | | | | | | | if | | | | | | | a | | | | | | | vailable, | | | | | | | i | | | | | | | ndicating | | | | | | | the UTC | | | | | | | time when | | | | | | | the | | | | | | | addU | | | | | | | eLocation | | | | | | | in | | | | | | | formation | | | | | | | was | | | | | | | acquired. | | | | | | | | | | | | | | (NOTE 1) | | +-----------+-----------+---+-----------+-----------+-----------+ | paus | boolean | C | 0..1 | This IE | | | eCharging | | | | shall be | | | | | | | present | | | | | | | if the | | | | | | | H-SMF or | | | | | | | SMF | | | | | | | enabled | | | | | | | the use | | | | | | | of Pause | | | | | | | Pause of | | | | | | | Charging | | | | | | | for the | | | | | | | PDU | | | | | | | session | | | | | | | during | | | | | | | the PDU | | | | | | | session | | | | | | | esta | | | | | | | blishment | | | | | | | and | | | | | | | | | | | | | | Pause of | | | | | | | Charging | | | | | | | needs to | | | | | | | be | | | | | | | started | | | | | | | or | | | | | | | stopped | | | | | | | (see | | | | | | | cla | | | | | | | use 4.4.4 | | | | | | | of | | | | | | | 3GPP | | | | | | | TS 23.50 | | | | | | | 2 [3]). | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | be set as | | | | | | | follows: | | | | | | | | | | | | | | > \- | | | | | | | > true: | | | | | | | > to | | | | | | | > Start | | | | | | | > Pause | | | | | | | > of | | | | | | | > | | | | | | | Charging; | | | | | | | > | | | | | | | > \- | | | | | | | > false: | | | | | | | > to Stop | | | | | | | > Pause | | | | | | | > of | | | | | | | > | | | | | | | Charging. | | +-----------+-----------+---+-----------+-----------+-----------+ | pti | Proc | C | 0..1 | This IE | | | | edureTran | | | shall be | | | | sactionId | | | present | | | | | | | if the | | | | | | | requestI | | | | | | | ndication | | | | | | | indicates | | | | | | | a UE | | | | | | | requested | | | | | | | PDU | | | | | | | session | | | | | | | mod | | | | | | | ification | | | | | | | or | | | | | | | release. | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | contain | | | | | | | the PTI | | | | | | | value | | | | | | | received | | | | | | | from the | | | | | | | UE. | | +-----------+-----------+---+-----------+-----------+-----------+ | n1SmI | RefToB | C | 0..1 | This IE | | | nfoFromUe | inaryData | | | shall be | | | | | | | present | | | | | | | if the | | | | | | | V-SMF or | | | | | | | I-SMF has | | | | | | | received | | | | | | | known N1 | | | | | | | SM | | | | | | | in | | | | | | | formation | | | | | | | from the | | | | | | | UE that | | | | | | | does not | | | | | | | need to | | | | | | | be | | | | | | | in | | | | | | | terpreted | | | | | | | by the | | | | | | | V-SMF or | | | | | | | I-SMF. | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | reference | | | | | | | the | | | | | | | n1SmI | | | | | | | nfoFromUe | | | | | | | binary | | | | | | | data (see | | | | | | | clause 6. | | | | | | | 1.6.4.4). | | +-----------+-----------+---+-----------+-----------+-----------+ | unknow | RefToB | C | 0..1 | This IE | | | nN1SmInfo | inaryData | | | shall be | | | | | | | present | | | | | | | if the | | | | | | | V-SMF or | | | | | | | I-SMF has | | | | | | | received | | | | | | | unknown | | | | | | | N1 SM | | | | | | | in | | | | | | | formation | | | | | | | from the | | | | | | | UE. When | | | | | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | reference | | | | | | | the | | | | | | | unknow | | | | | | | nN1SmInfo | | | | | | | binary | | | | | | | data (see | | | | | | | clause 6. | | | | | | | 1.6.4.4). | | +-----------+-----------+---+-----------+-----------+-----------+ | qos | array(Qos | C | 1..N | This IE | | | FlowsRelN | FlowItem) | | | shall be | | | otifyList | | | | present | | | | | | | if QoS | | | | | | | flows | | | | | | | have been | | | | | | | released. | | | | | | | | | | | | | | This IE | | | | | | | shall | | | | | | | also be | | | | | | | present | | | | | | | if QoS | | | | | | | flow(s) | | | | | | | have been | | | | | | | rejected | | | | | | | by the | | | | | | | RAN or | | | | | | | rejected | | | | | | | by the | | | | | | | V-SMF, | | | | | | | during | | | | | | | PDU | | | | | | | session | | | | | | | esta | | | | | | | blishment | | | | | | | p | | | | | | | rocedure. | | +-----------+-----------+---+-----------+-----------+-----------+ | qosFlo | a | O | 1..N | This IE | | | wsVsmfRej | rray(Qfi) | | | may be | | | ectedList | | | | present | | | | | | | from | | | | | | | V-SMF to | | | | | | | H-SMF | | | | | | | when | | | | | | | qos | | | | | | | FlowsRelN | | | | | | | otifyList | | | | | | | is | | | | | | | present. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | include | | | | | | | the QFIs | | | | | | | of the | | | | | | | QoS flows | | | | | | | that were | | | | | | | rejected | | | | | | | by the | | | | | | | V-SMF. | | | | | | | | | | | | | | When the | | | | | | | H-SMF | | | | | | | sub | | | | | | | sequently | | | | | | | send N1 | | | | | | | Message | | | | | | | to the UE | | | | | | | to remove | | | | | | | the QoS | | | | | | | rules and | | | | | | | QoS Flow | | | | | | | level QoS | | | | | | | p | | | | | | | arameters | | | | | | | a | | | | | | | ssociated | | | | | | | with the | | | | | | | rejected | | | | | | | QoS | | | | | | | Flow(s) | | | | | | | as | | | | | | | indicated | | | | | | | in the | | | | | | | qos | | | | | | | FlowsRelN | | | | | | | otifyList | | | | | | | IE, the | | | | | | | H-SMF | | | | | | | should | | | | | | | exclude | | | | | | | the V-SMF | | | | | | | rejected | | | | | | | QoS | | | | | | | flow(s). | | | | | | | If all | | | | | | | the | | | | | | | rejected | | | | | | | QoS | | | | | | | flow(s) | | | | | | | were | | | | | | | rejected | | | | | | | by the | | | | | | | V-SMF, | | | | | | | the H-SMF | | | | | | | should | | | | | | | skip the | | | | | | | s | | | | | | | ubsequent | | | | | | | N1 | | | | | | | message | | | | | | | update to | | | | | | | the UE. | | +-----------+-----------+---+-----------+-----------+-----------+ | qosFlowsN | array( | C | 1..N | This IE | | | otifyList | QosFlowNo | | | shall be | | | | tifyItem) | | | present | | | | | | | if the | | | | | | | QoS | | | | | | | targets | | | | | | | for GBR | | | | | | | QoS | | | | | | | flow(s) | | | | | | | are not | | | | | | | fulfilled | | | | | | | anymore | | | | | | | or when | | | | | | | they are | | | | | | | fulfilled | | | | | | | again. | | | | | | | For each | | | | | | | GBR QoS | | | | | | | flow | | | | | | | indicated | | | | | | | as not | | | | | | | fulfilled | | | | | | | anymore, | | | | | | | the | | | | | | | V- | | | | | | | SMF/I-SMF | | | | | | | may also | | | | | | | indicate | | | | | | | an | | | | | | | al | | | | | | | ternative | | | | | | | QoS | | | | | | | profile | | | | | | | which the | | | | | | | NG-RAN | | | | | | | currently | | | | | | | fulfils | | | | | | | in the | | | | | | | curr | | | | | | | entQosPro | | | | | | | fileIndex | | | | | | | IE or | | | | | | | indicate | | | | | | | that the | | | | | | | NG-RAN | | | | | | | cannot | | | | | | | even | | | | | | | fulfil | | | | | | | the | | | | | | | lowest | | | | | | | al | | | | | | | ternative | | | | | | | QoS | | | | | | | profile. | | +-----------+-----------+---+-----------+-----------+-----------+ | N | array(Pdu | C | 1..N | De | | | otifyList | SessionNo | | | scription | | | | tifyItem) | | | of | | | | | | | noti | | | | | | | fications | | | | | | | related | | | | | | | to the | | | | | | | PDU | | | | | | | session. | | | | | | | This IE | | | | | | | shall be | | | | | | | present | | | | | | | if the | | | | | | | NG-RAN | | | | | | | has | | | | | | | es | | | | | | | tablished | | | | | | | user | | | | | | | plane | | | | | | | resources | | | | | | | for the | | | | | | | PDU | | | | | | | session | | | | | | | that do | | | | | | | not | | | | | | | fulfil | | | | | | | the User | | | | | | | Plane | | | | | | | Security | | | | | | | En | | | | | | | forcement | | | | | | | with a | | | | | | | value | | | | | | | P | | | | | | | referred, | | | | | | | or when | | | | | | | the user | | | | | | | plane | | | | | | | security | | | | | | | en | | | | | | | forcement | | | | | | | is | | | | | | | fulfilled | | | | | | | again. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | include | | | | | | | the | | | | | | | not | | | | | | | ification | | | | | | | cause | | | | | | | \"UP_SEC | | | | | | | _NOT_FU | | | | | | | LFILLED\" | | | | | | | if at | | | | | | | least one | | | | | | | of the UP | | | | | | | integrity | | | | | | | p | | | | | | | rotection | | | | | | | or UP | | | | | | | ciphering | | | | | | | security | | | | | | | en | | | | | | | forcement | | | | | | | is not | | | | | | | f | | | | | | | ulfilled. | | | | | | | | | | | | | | If the | | | | | | | secur | | | | | | | ityResult | | | | | | | IE is | | | | | | | present | | | | | | | in the | | | | | | | message, | | | | | | | it | | | | | | | provides | | | | | | | a | | | | | | | dditional | | | | | | | details | | | | | | | on the | | | | | | | security | | | | | | | en | | | | | | | forcement | | | | | | | results. | | | | | | | | | | | | | | (NOTE 4) | | +-----------+-----------+---+-----------+-----------+-----------+ | ep | array(Eps | C | 0..N | This IE | | | sBearerId | BearerId) | | | shall be | | | | | | | present | | | | | | | during an | | | | | | | EPS to | | | | | | | 5GS | | | | | | | handover | | | | | | | execution | | | | | | | using the | | | | | | | N26 | | | | | | | i | | | | | | | nterface. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | contain | | | | | | | the list | | | | | | | of EPS | | | | | | | bearer | | | | | | | Id(s) | | | | | | | suc | | | | | | | cessfully | | | | | | | handed | | | | | | | over to | | | | | | | 5GS. The | | | | | | | array | | | | | | | shall be | | | | | | | empty if | | | | | | | no | | | | | | | resource | | | | | | | was | | | | | | | suc | | | | | | | cessfully | | | | | | | allocated | | | | | | | in 5GS | | | | | | | for any | | | | | | | PDU | | | | | | | session. | | +-----------+-----------+---+-----------+-----------+-----------+ | hoPre | boolean | C | 0..1 | This IE | | | parationI | | | | shall be | | | ndication | | | | present | | | | | | | during an | | | | | | | EPS to | | | | | | | 5GS | | | | | | | handover | | | | | | | pr | | | | | | | eparation | | | | | | | and | | | | | | | handover | | | | | | | execution | | | | | | | using the | | | | | | | N26 | | | | | | | interface | | | | | | | or during | | | | | | | N2 | | | | | | | handover | | | | | | | execution | | | | | | | with | | | | | | | I-SMF | | | | | | | i | | | | | | | nsertion. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | be set as | | | | | | | follows: | | | | | | | | | | | | | | > \- | | | | | | | > true: | | | | | | | > an EPS | | | | | | | > to 5GS | | | | | | | > | | | | | | | handover | | | | | | | > pr | | | | | | | eparation | | | | | | | > or N2 | | | | | | | > | | | | | | | handover | | | | | | | > pr | | | | | | | eparation | | | | | | | > with | | | | | | | > I-SMF | | | | | | | > is in | | | | | | | > | | | | | | | progress; | | | | | | | > the | | | | | | | > | | | | | | | PGW-C/SMF | | | | | | | > shall | | | | | | | > not | | | | | | | > switch | | | | | | | > the DL | | | | | | | > user | | | | | | | > plane | | | | | | | > of the | | | | | | | > PDU | | | | | | | > session | | | | | | | > yet. | | | | | | | > | | | | | | | > \- | | | | | | | > false: | | | | | | | > there | | | | | | | > is no | | | | | | | > | | | | | | | on-going | | | | | | | > EPS to | | | | | | | > 5GS | | | | | | | > | | | | | | | handover | | | | | | | > pr | | | | | | | eparation | | | | | | | > or N2 | | | | | | | > | | | | | | | handover | | | | | | | > pr | | | | | | | eparation | | | | | | | > with | | | | | | | > I-SMF | | | | | | | > in | | | | | | | > | | | | | | | progress. | | | | | | | > If a | | | | | | | > | | | | | | | handover | | | | | | | > pr | | | | | | | eparation | | | | | | | > was in | | | | | | | > | | | | | | | progress, | | | | | | | > the | | | | | | | > | | | | | | | handover | | | | | | | > has | | | | | | | > been | | | | | | | > c | | | | | | | ompleted. | | | | | | | > The | | | | | | | > | | | | | | | PGW-C/SMF | | | | | | | > shall | | | | | | | > switch | | | | | | | > the DL | | | | | | | > user | | | | | | | > plane | | | | | | | > of the | | | | | | | > PDU | | | | | | | > session | | | | | | | > using | | | | | | | > the N9 | | | | | | | > tunnel | | | | | | | > in | | | | | | | formation | | | | | | | > that | | | | | | | > has | | | | | | | > been | | | | | | | > | | | | | | | received | | | | | | | > in the | | | | | | | > vcnT | | | | | | | unnelInfo | | | | | | | > or | | | | | | | > icnTu | | | | | | | nnelInfo. | | | | | | | | | | | | | | It shall | | | | | | | be set to | | | | | | | \"true\" | | | | | | | during an | | | | | | | EPS to | | | | | | | 5GS | | | | | | | handover | | | | | | | pr | | | | | | | eparation | | | | | | | using the | | | | | | | N26 | | | | | | | i | | | | | | | nterface. | | | | | | | | | | | | | | It shall | | | | | | | be set to | | | | | | | \"false\" | | | | | | | during an | | | | | | | EPS to | | | | | | | 5GS | | | | | | | handover | | | | | | | execution | | | | | | | using the | | | | | | | N26 | | | | | | | interface | | | | | | | or during | | | | | | | N2 | | | | | | | handover | | | | | | | execution | | | | | | | with | | | | | | | I-SMF | | | | | | | i | | | | | | | nsertion. | | +-----------+-----------+---+-----------+-----------+-----------+ | revo | array(Eps | C | 1..N | This IE | | | keEbiList | BearerId) | | | shall be | | | | | | | present | | | | | | | to | | | | | | | request | | | | | | | the H-SMF | | | | | | | or SMF to | | | | | | | revoke | | | | | | | some EBIs | | | | | | | (see | | | | | | | clause 4 | | | | | | | .11.1.4.1 | | | | | | | of | | | | | | | 3GPP | | | | | | | TS 23.50 | | | | | | | 2 [3]). | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | contain | | | | | | | the EBIs | | | | | | | to | | | | | | | revoke. | | +-----------+-----------+---+-----------+-----------+-----------+ | cause | Cause | C | 0..1 | This IE | | | | | | | shall be | | | | | | | present | | | | | | | and set | | | | | | | as | | | | | | | specified | | | | | | | in | | | | | | | clause 5. | | | | | | | 2.2.8.2.6 | | | | | | | during | | | | | | | P-CSCF | | | | | | | re | | | | | | | storation | | | | | | | p | | | | | | | rocedure, | | | | | | | clause 5. | | | | | | | 2.2.8.2.3 | | | | | | | during | | | | | | | 5G-AN | | | | | | | requested | | | | | | | PDU | | | | | | | session | | | | | | | resource | | | | | | | release | | | | | | | procedure | | | | | | | and | | | | | | | clause | | | | | | | 5 | | | | | | | .2.2.3.26 | | | | | | | during | | | | | | | AMF | | | | | | | requested | | | | | | | PDU | | | | | | | Session | | | | | | | Release | | | | | | | due to | | | | | | | Network | | | | | | | Slice | | | | | | | instance | | | | | | | not | | | | | | | a | | | | | | | vailable. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | indicate | | | | | | | the NF | | | | | | | Service | | | | | | | Consumer | | | | | | | cause of | | | | | | | the | | | | | | | requested | | | | | | | modi | | | | | | | fication. | | +-----------+-----------+---+-----------+-----------+-----------+ | ngApCause | NgApCause | C | 0..1 | The V-SMF | | | | | | | or I-SMF | | | | | | | shall | | | | | | | include | | | | | | | this IE | | | | | | | if it | | | | | | | received | | | | | | | it from | | | | | | | the 5G-AN | | | | | | | and, for | | | | | | | a HR PDU | | | | | | | session, | | | | | | | if this | | | | | | | in | | | | | | | formation | | | | | | | is | | | | | | | permitted | | | | | | | to be | | | | | | | sent to | | | | | | | the H-SMF | | | | | | | operator | | | | | | | according | | | | | | | to the | | | | | | | V-SMF | | | | | | | op | | | | | | | erator\'s | | | | | | | policy. | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | indicate | | | | | | | the NGAP | | | | | | | cause for | | | | | | | the | | | | | | | requested | | | | | | | modi | | | | | | | fication. | | +-----------+-----------+---+-----------+-----------+-----------+ | 5gMmC | 5GMmCause | C | 0..1 | The V-SMF | | | auseValue | | | | or I-SMF | | | | | | | shall | | | | | | | include | | | | | | | this IE | | | | | | | if it | | | | | | | received | | | | | | | it from | | | | | | | the AMF | | | | | | | and, for | | | | | | | a HR PDU | | | | | | | session, | | | | | | | if this | | | | | | | in | | | | | | | formation | | | | | | | is | | | | | | | permitted | | | | | | | to be | | | | | | | sent to | | | | | | | the H-SMF | | | | | | | operator | | | | | | | according | | | | | | | to the | | | | | | | V-SMF | | | | | | | op | | | | | | | erator\'s | | | | | | | policy. | | +-----------+-----------+---+-----------+-----------+-----------+ | alwaysOn | boolean | C | 0..1 | This IE | | | Requested | | | | shall be | | | | | | | present | | | | | | | and set | | | | | | | to true | | | | | | | if the UE | | | | | | | requests | | | | | | | to change | | | | | | | the PDU | | | | | | | session | | | | | | | to an | | | | | | | always-on | | | | | | | PDU | | | | | | | session | | | | | | | and this | | | | | | | is | | | | | | | allowed | | | | | | | by local | | | | | | | policy in | | | | | | | the V-SMF | | | | | | | or I-SMF. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | be set as | | | | | | | follows: | | | | | | | | | | | | | | > \- | | | | | | | > true: | | | | | | | > request | | | | | | | > for an | | | | | | | > | | | | | | | always-on | | | | | | | > PDU | | | | | | | > session | | | | | | | > | | | | | | | > \- | | | | | | | > false | | | | | | | > ( | | | | | | | default): | | | | | | | > not a | | | | | | | > request | | | | | | | > for an | | | | | | | > | | | | | | | always-on | | | | | | | > PDU | | | | | | | > session | | +-----------+-----------+---+-----------+-----------+-----------+ | epsInterw | EpsInte | O | 0..1 | This IE | | | orkingInd | rworkingI | | | may be | | | | ndication | | | present | | | | | | | if the | | | | | | | i | | | | | | | ndication | | | | | | | has been | | | | | | | received | | | | | | | from AMF | | | | | | | and, for | | | | | | | a HR PDU | | | | | | | session, | | | | | | | it is | | | | | | | allowed | | | | | | | to be | | | | | | | forwarded | | | | | | | to H-SMF | | | | | | | by | | | | | | | operator | | | | | | | confi | | | | | | | guration. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | indicate | | | | | | | whether | | | | | | | the PDU | | | | | | | session | | | | | | | may | | | | | | | possibly | | | | | | | be moved | | | | | | | to EPS | | | | | | | and | | | | | | | whether | | | | | | | N26 | | | | | | | interface | | | | | | | to be | | | | | | | used | | | | | | | during | | | | | | | EPS | | | | | | | int | | | | | | | erworking | | | | | | | pr | | | | | | | ocedures. | | +-----------+-----------+---+-----------+-----------+-----------+ | secon | arr | O | 1..N | This IE | | | daryRatUs | ay(Second | | | may be | | | ageReport | aryRatUsa | | | present | | | | geReport) | | | to report | | | | | | | usage | | | | | | | data for | | | | | | | a | | | | | | | secondary | | | | | | | RAT for | | | | | | | QoS | | | | | | | flows. | | | | | | | | | | | | | | (NOTE 2) | | +-----------+-----------+---+-----------+-----------+-----------+ | sec | a | O | 1..N | This IE | | | ondaryRat | rray(Seco | | | may be | | | UsageInfo | ndaryRatU | | | present | | | | sageInfo) | | | to report | | | | | | | usage | | | | | | | data for | | | | | | | a | | | | | | | secondary | | | | | | | RAT for | | | | | | | QoS flows | | | | | | | and/or | | | | | | | the whole | | | | | | | PDU | | | | | | | session. | | +-----------+-----------+---+-----------+-----------+-----------+ | anTypeCan | boolean | C | 0..1 | This IE | | | BeChanged | | | | shall be | | | | | | | present | | | | | | | and set | | | | | | | to true | | | | | | | to | | | | | | | indicate | | | | | | | that the | | | | | | | Access | | | | | | | Network | | | | | | | Type | | | | | | | a | | | | | | | ssociated | | | | | | | to the | | | | | | | PDU | | | | | | | session | | | | | | | can be | | | | | | | changed | | | | | | | (see | | | | | | | cl | | | | | | | ause 5.2. | | | | | | | 2.8.2.2), | | | | | | | during a | | | | | | | Service | | | | | | | Request | | | | | | | procedure | | | | | | | (see | | | | | | | clauses | | | | | | | 4.2.3.2 | | | | | | | and | | | | | | | 4.3.3.3 | | | | | | | of | | | | | | | 3GPP | | | | | | | TS 23.502 | | | | | | | [3])), | | | | | | | in | | | | | | | response | | | | | | | to paging | | | | | | | or NAS | | | | | | | not | | | | | | | ification | | | | | | | i | | | | | | | ndicating | | | | | | | non-3GPP | | | | | | | access, | | | | | | | when the | | | | | | | PDU | | | | | | | Session | | | | | | | for which | | | | | | | the UE | | | | | | | was paged | | | | | | | or | | | | | | | notified | | | | | | | is in the | | | | | | | List Of | | | | | | | Allowed | | | | | | | PDU | | | | | | | Sessions | | | | | | | provided | | | | | | | by the | | | | | | | UE, and | | | | | | | the AMF | | | | | | | received | | | | | | | N2 SM | | | | | | | In | | | | | | | formation | | | | | | | only or | | | | | | | N1 SM | | | | | | | Container | | | | | | | and N2 SM | | | | | | | In | | | | | | | formation | | | | | | | from the | | | | | | | SMF in | | | | | | | step 3a | | | | | | | of | | | | | | | claus | | | | | | | e 4.2.3.3 | | | | | | | of | | | | | | | 3GP | | | | | | | P TS 23.5 | | | | | | | 02 [3]. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | be set as | | | | | | | follows: | | | | | | | | | | | | | | - true: | | | | | | | the | | | | | | | access | | | | | | | type of | | | | | | | the PDU | | | | | | | session | | | | | | | can be | | | | | | | changed. | | | | | | | | | | | | | | - false | | | | | | | ( | | | | | | | default): | | | | | | | the | | | | | | | access | | | | | | | type of | | | | | | | the PDU | | | | | | | session | | | | | | | cannot be | | | | | | | changed. | | +-----------+-----------+---+-----------+-----------+-----------+ | maR | M | C | 0..1 | This IE | MAPDU | | eleaseInd | aReleaseI | | | shall be | | | | ndication | | | present | | | | | | | if a MA | | | | | | | PDU | | | | | | | session | | | | | | | is | | | | | | | requested | | | | | | | to be | | | | | | | released | | | | | | | over a | | | | | | | single | | | | | | | access, | | | | | | | in the | | | | | | | following | | | | | | | cases: | | | | | | | | | | | | | | > \- when | | | | | | | > UE/ | | | | | | | AMF/V-SMF | | | | | | | > | | | | | | | initiates | | | | | | | > MA PDU | | | | | | | > session | | | | | | | > release | | | | | | | > over | | | | | | | > one | | | | | | | > access; | | | | | | | > or | | | | | | | > | | | | | | | > \- when | | | | | | | > UE | | | | | | | > de | | | | | | | registers | | | | | | | > from | | | | | | | > one | | | | | | | > access. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | indicate | | | | | | | the | | | | | | | access to | | | | | | | be | | | | | | | released. | | +-----------+-----------+---+-----------+-----------+-----------+ | maNwU | boolean | C | 0..1 | This IE | MAPDU | | pgradeInd | | | | shall be | | | | | | | present | | | | | | | if the | | | | | | | PDU | | | | | | | session | | | | | | | is | | | | | | | allowed | | | | | | | to be | | | | | | | upgraded | | | | | | | to MA PDU | | | | | | | session | | | | | | | (see | | | | | | | claus | | | | | | | e 6.4.2.2 | | | | | | | of | | | | | | | 3GPP | | | | | | | TS 24.50 | | | | | | | 1 [7]). | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | be set as | | | | | | | follows: | | | | | | | | | | | | | | - true: | | | | | | | the PDU | | | | | | | session | | | | | | | is | | | | | | | allowed | | | | | | | to be | | | | | | | upgraded | | | | | | | to MA PDU | | | | | | | session | | | | | | | | | | | | | | - false | | | | | | | ( | | | | | | | default): | | | | | | | the PDU | | | | | | | session | | | | | | | is not | | | | | | | allowed | | | | | | | to be | | | | | | | upgraded | | | | | | | to MA PDU | | | | | | | session | | +-----------+-----------+---+-----------+-----------+-----------+ | maR | boolean | C | 0..1 | This IE | MAPDU | | equestInd | | | | shall be | | | | | | | present | | | | | | | if a | | | | | | | MA-PDU | | | | | | | session | | | | | | | is | | | | | | | requested | | | | | | | to be | | | | | | | es | | | | | | | tablished | | | | | | | (see | | | | | | | clause | | | | | | | 4.22.6.3 | | | | | | | of | | | | | | | 3GPP | | | | | | | TS 23.50 | | | | | | | 2 [3]). | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | be set as | | | | | | | follows: | | | | | | | | | | | | | | > \- | | | | | | | > true: a | | | | | | | > MA-PDU | | | | | | | > session | | | | | | | > is | | | | | | | > | | | | | | | requested | | | | | | | > | | | | | | | > \- | | | | | | | > false | | | | | | | > ( | | | | | | | default): | | | | | | | > a | | | | | | | > MA-PDU | | | | | | | > session | | | | | | | > is not | | | | | | | > | | | | | | | requested | | +-----------+-----------+---+-----------+-----------+-----------+ | un | Unavailab | C | 0..1 | This IE | MAPDU | | available | leAccessI | | | shall be | | | Accesslnd | ndication | | | present | | | | | | | if an | | | | | | | access of | | | | | | | a MA-PDU | | | | | | | session | | | | | | | is | | | | | | | un | | | | | | | available | | | | | | | (see | | | | | | | clau | | | | | | | se 4.22.7 | | | | | | | of | | | | | | | 3GPP | | | | | | | TS 23.50 | | | | | | | 2 [3]). | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | indicate | | | | | | | the | | | | | | | access | | | | | | | that is | | | | | | | una | | | | | | | vailable. | | +-----------+-----------+---+-----------+-----------+-----------+ | psaInfo | arr | C | 1..N | This IE | DTSSA | | | ay(PsaInf | | | shall be | | | | ormation) | | | present, | | | | | | | for a PDU | | | | | | | session | | | | | | | with an | | | | | | | I-SMF, if | | | | | | | one or | | | | | | | more PSAs | | | | | | | UPF are | | | | | | | inserted | | | | | | | and/or | | | | | | | removed | | | | | | | by the | | | | | | | I-SMF. | | +-----------+-----------+---+-----------+-----------+-----------+ | u | UlclBpIn | C | 0..1 | This IE | DTSSA | | lclBpInfo | formation | | | shall be | | | | | | | present, | | | | | | | for a PDU | | | | | | | session | | | | | | | with an | | | | | | | I-SMF, if | | | | | | | an UL CL | | | | | | | or BP UPF | | | | | | | separate | | | | | | | from the | | | | | | | local PSA | | | | | | | is | | | | | | | inserted. | | +-----------+-----------+---+-----------+-----------+-----------+ | n4Info | N4In | O | 0..1 | This IE | DTSSA | | | formation | | | may be | | | | | | | present | | | | | | | if the | | | | | | | I-SMF | | | | | | | needs to | | | | | | | send N4 | | | | | | | in | | | | | | | formation | | | | | | | (e.g. | | | | | | | traffic | | | | | | | usage | | | | | | | r | | | | | | | eporting) | | | | | | | to the | | | | | | | SMF for | | | | | | | traffic | | | | | | | offloaded | | | | | | | at a PSA | | | | | | | c | | | | | | | ontrolled | | | | | | | by an | | | | | | | I-SMF. | | +-----------+-----------+---+-----------+-----------+-----------+ | n | N4In | O | 0..1 | This IE | DTSSA | | 4InfoExt1 | formation | | | may be | | | | | | | present | | | | | | | if the | | | | | | | I-SMF | | | | | | | needs to | | | | | | | send | | | | | | | a | | | | | | | dditional | | | | | | | N4 | | | | | | | in | | | | | | | formation | | | | | | | (e.g. | | | | | | | traffic | | | | | | | usage | | | | | | | r | | | | | | | eporting) | | | | | | | to the | | | | | | | SMF for | | | | | | | traffic | | | | | | | offloaded | | | | | | | at a PSA | | | | | | | c | | | | | | | ontrolled | | | | | | | by an | | | | | | | I-SMF. | | +-----------+-----------+---+-----------+-----------+-----------+ | n | N4In | O | 0..1 | This IE | DTSSA | | 4InfoExt2 | formation | | | may be | | | | | | | present | | | | | | | if the | | | | | | | I-SMF | | | | | | | needs to | | | | | | | send | | | | | | | a | | | | | | | dditional | | | | | | | N4 | | | | | | | in | | | | | | | formation | | | | | | | to the | | | | | | | SMF (e.g. | | | | | | | during a | | | | | | | change of | | | | | | | PSA). | | +-----------+-----------+---+-----------+-----------+-----------+ | prese | Pres | C | 0..1 | This IE | DTSSA | | nceInLadn | enceState | | | shall be | | | | | | | present | | | | | | | during Xn | | | | | | | based | | | | | | | handover | | | | | | | with | | | | | | | I-SMF | | | | | | | change, | | | | | | | if the | | | | | | | DNN | | | | | | | co | | | | | | | rresponds | | | | | | | to a | | | | | | | LADN. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | be set to | | | | | | | \"IN\" or | | | | | | | \"OUT\" | | | | | | | to | | | | | | | indicate | | | | | | | that the | | | | | | | UE is in | | | | | | | or out of | | | | | | | the LADN | | | | | | | service | | | | | | | area. | | +-----------+-----------+---+-----------+-----------+-----------+ | vsmfPduS | Uri | C | 0..1 | This IE | DTSSA | | essionUri | | | | shall be | | | | | | | present | | | | | | | during | | | | | | | any | | | | | | | procedure | | | | | | | when the | | | | | | | V-SMF has | | | | | | | changed, | | | | | | | as | | | | | | | specified | | | | | | | in | | | | | | | clause | | | | | | | 4.23.4.3 | | | | | | | of | | | | | | | 3GP | | | | | | | P TS 23.5 | | | | | | | 02 [3]. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | include | | | | | | | the | | | | | | | callback | | | | | | | URI | | | | | | | rep | | | | | | | resenting | | | | | | | the PDU | | | | | | | session | | | | | | | in the | | | | | | | new | | | | | | | V-SMF. | | +-----------+-----------+---+-----------+-----------+-----------+ | ismfPduS | Uri | C | 0..1 | This IE | DTSSA | | essionUri | | | | shall be | | | | | | | present | | | | | | | during | | | | | | | any | | | | | | | procedure | | | | | | | when the | | | | | | | I-SMF has | | | | | | | changed, | | | | | | | as | | | | | | | specified | | | | | | | in | | | | | | | clause | | | | | | | 4.23.4.3 | | | | | | | of | | | | | | | 3GP | | | | | | | P TS 23.5 | | | | | | | 02 [3]. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | include | | | | | | | the | | | | | | | callback | | | | | | | URI | | | | | | | rep | | | | | | | resenting | | | | | | | the PDU | | | | | | | session | | | | | | | in the | | | | | | | new | | | | | | | I-SMF. | | +-----------+-----------+---+-----------+-----------+-----------+ | vsmfId | NfI | C | 0..1 | This IE | DTSSA | | | nstanceId | | | shall be | | | | | | | present | | | | | | | during | | | | | | | any | | | | | | | procedure | | | | | | | when the | | | | | | | V-SMF has | | | | | | | changed, | | | | | | | as | | | | | | | specified | | | | | | | in | | | | | | | clause | | | | | | | 4.23.4.3 | | | | | | | of | | | | | | | 3GP | | | | | | | P TS 23.5 | | | | | | | 02 [3]. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | contain | | | | | | | the | | | | | | | i | | | | | | | dentifier | | | | | | | of the | | | | | | | new | | | | | | | V-SMF. | | +-----------+-----------+---+-----------+-----------+-----------+ | ismfId | NfI | C | 0..1 | This IE | DTSSA | | | nstanceId | | | shall be | | | | | | | present | | | | | | | during | | | | | | | any | | | | | | | procedure | | | | | | | when the | | | | | | | I-SMF has | | | | | | | changed, | | | | | | | as | | | | | | | specified | | | | | | | in | | | | | | | clause | | | | | | | 4.23.4.3 | | | | | | | of | | | | | | | 3GP | | | | | | | P TS 23.5 | | | | | | | 02 [3]. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | contain | | | | | | | the | | | | | | | i | | | | | | | dentifier | | | | | | | of the | | | | | | | new | | | | | | | I-SMF. | | +-----------+-----------+---+-----------+-----------+-----------+ | vSm | string | O | 0..1 | This IE | DTSSA | | fServiceI | | | | may be | | | nstanceId | | | | present | | | | | | | during | | | | | | | any | | | | | | | procedure | | | | | | | when the | | | | | | | V-SMF has | | | | | | | changed, | | | | | | | as | | | | | | | specified | | | | | | | in | | | | | | | clause | | | | | | | 4.23.4.3 | | | | | | | of | | | | | | | 3GP | | | | | | | P TS 23.5 | | | | | | | 02 [3]. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | contain | | | | | | | the | | | | | | | serviceI | | | | | | | nstanceId | | | | | | | of the | | | | | | | new V-SMF | | | | | | | service | | | | | | | instance | | | | | | | serving | | | | | | | the PDU | | | | | | | session. | | | | | | | | | | | | | | This IE | | | | | | | may be | | | | | | | used by | | | | | | | the H-SMF | | | | | | | to | | | | | | | identify | | | | | | | PDU | | | | | | | sessions | | | | | | | affected | | | | | | | by a | | | | | | | failure | | | | | | | or | | | | | | | restart | | | | | | | of the | | | | | | | V-SMF | | | | | | | service | | | | | | | (see | | | | | | | clauses | | | | | | | 6.2 and | | | | | | | 6.3 of | | | | | | | 3GPP | | | | | | | TS 23.527 | | | | | | | [24]). | | +-----------+-----------+---+-----------+-----------+-----------+ | iSm | string | O | 0..1 | This IE | DTSSA | | fServiceI | | | | may be | | | nstanceId | | | | present | | | | | | | during | | | | | | | any | | | | | | | procedure | | | | | | | when the | | | | | | | I-SMF has | | | | | | | changed, | | | | | | | as | | | | | | | specified | | | | | | | in | | | | | | | clause | | | | | | | 4.23.4.3 | | | | | | | of | | | | | | | 3GP | | | | | | | P TS 23.5 | | | | | | | 02 [3]. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | contain | | | | | | | the | | | | | | | serviceI | | | | | | | nstanceId | | | | | | | of the | | | | | | | new I-SMF | | | | | | | service | | | | | | | instance | | | | | | | serving | | | | | | | the PDU | | | | | | | session. | | | | | | | | | | | | | | This IE | | | | | | | may be | | | | | | | used by | | | | | | | the SMF | | | | | | | to | | | | | | | identify | | | | | | | PDU | | | | | | | sessions | | | | | | | affected | | | | | | | by a | | | | | | | failure | | | | | | | or | | | | | | | restart | | | | | | | of the | | | | | | | I-SMF | | | | | | | service | | | | | | | (see | | | | | | | clauses | | | | | | | 6.2 and | | | | | | | 6.3 of | | | | | | | 3GPP | | | | | | | TS 23.527 | | | | | | | [24]). | | +-----------+-----------+---+-----------+-----------+-----------+ | dl | integer | C | 0..1 | The IE | CIOT | | ServingPl | | | | shall be | | | mnRateCtl | | | | present | | | | | | | when the | | | | | | | Serving | | | | | | | PLMN Rate | | | | | | | Control | | | | | | | for | | | | | | | Downlink | | | | | | | data | | | | | | | packets | | | | | | | has | | | | | | | changed | | | | | | | since | | | | | | | last | | | | | | | update to | | | | | | | the H-SMF | | | | | | | (for HR | | | | | | | PDU | | | | | | | session) | | | | | | | or SMF | | | | | | | (for PDU | | | | | | | sessions | | | | | | | with an | | | | | | | I-SMF). | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | contain | | | | | | | the | | | | | | | maximum | | | | | | | allowed | | | | | | | number of | | | | | | | Downlink | | | | | | | NAS Data | | | | | | | PDUs per | | | | | | | deci hour | | | | | | | of the | | | | | | | serving | | | | | | | PLMN, as | | | | | | | specified | | | | | | | in | | | | | | | clause | | | | | | | 5.31.14.2 | | | | | | | of | | | | | | | 3GP | | | | | | | P TS 23.5 | | | | | | | 01 [2]. | | | | | | | If | | | | | | | Serving | | | | | | | PLMN Rate | | | | | | | Control | | | | | | | is | | | | | | | disabled, | | | | | | | the IE | | | | | | | shall be | | | | | | | set to | | | | | | | null | | | | | | | value. | | | | | | | | | | | | | | Minimum: | | | | | | | 10 | | +-----------+-----------+---+-----------+-----------+-----------+ | dnaiList | ar | C | 1..N | This IE | DTSSA | | | ray(Dnai) | | | shall be | | | | | | | present | | | | | | | over N16a | | | | | | | during UE | | | | | | | Triggered | | | | | | | Service | | | | | | | Request | | | | | | | procedure | | | | | | | with | | | | | | | I-SMF | | | | | | | change, | | | | | | | Xn based | | | | | | | handover | | | | | | | and Inter | | | | | | | NG-RAN | | | | | | | node N2 | | | | | | | based | | | | | | | handover | | | | | | | with | | | | | | | I-SMF | | | | | | | change | | | | | | | (see | | | | | | | clauses | | | | | | | 4.23.4.3, | | | | | | | 4.23.11.3 | | | | | | | and | | | | | | | 4 | | | | | | | .23.7.3.3 | | | | | | | in | | | | | | | 3GPP | | | | | | | TS 23.50 | | | | | | | 2 [3]). | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | include | | | | | | | the list | | | | | | | of DNAIs | | | | | | | supported | | | | | | | by the | | | | | | | new | | | | | | | I-SMF. | | +-----------+-----------+---+-----------+-----------+-----------+ | supporte | Supporte | C | 0..1 | This IE | | | dFeatures | dFeatures | | | shall be | | | | | | | present | | | | | | | if the | | | | | | | vsmfId or | | | | | | | the | | | | | | | ismfId is | | | | | | | present | | | | | | | (i.e. | | | | | | | during a | | | | | | | change of | | | | | | | V-SMF or | | | | | | | I-SMF) | | | | | | | and at | | | | | | | least one | | | | | | | optional | | | | | | | feature | | | | | | | defined | | | | | | | in | | | | | | | cla | | | | | | | use 6.1.8 | | | | | | | is | | | | | | | supported | | | | | | | by the | | | | | | | new V-SMF | | | | | | | or I-SMF. | | | | | | | | | | | | | | If this | | | | | | | IE is | | | | | | | absent | | | | | | | when the | | | | | | | vsmfId or | | | | | | | the | | | | | | | ismfId is | | | | | | | present, | | | | | | | the new | | | | | | | V-SMF or | | | | | | | I-SMF | | | | | | | res | | | | | | | pectively | | | | | | | shall be | | | | | | | c | | | | | | | onsidered | | | | | | | as not | | | | | | | s | | | | | | | upporting | | | | | | | any | | | | | | | optional | | | | | | | feature. | | +-----------+-----------+---+-----------+-----------+-----------+ | roam | Roam | O | 0..1 | This IE | | | ingChargi | ingChargi | | | may be | | | ngProfile | ngProfile | | | present | | | | | | | during an | | | | | | | i | | | | | | | nter-PLMN | | | | | | | V-SMF | | | | | | | change | | | | | | | ( | | | | | | | including | | | | | | | the | | | | | | | i | | | | | | | nter-PLMN | | | | | | | mobility | | | | | | | from | | | | | | | HPLMN | | | | | | | with | | | | | | | I-SMF to | | | | | | | VPLMN). | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | contain | | | | | | | the | | | | | | | Roaming | | | | | | | Charging | | | | | | | Profile | | | | | | | a | | | | | | | pplicable | | | | | | | in the | | | | | | | VPLMN | | | | | | | (see | | | | | | | clauses | | | | | | | 5.1.9.1, | | | | | | | 5.2.1.7 | | | | | | | and | | | | | | | 5 | | | | | | | .2.2.12.2 | | | | | | | of | | | | | | | 3GPP | | | | | | | TS 32.255 | | | | | | | [25]). | | +-----------+-----------+---+-----------+-----------+-----------+ | moExpDa | MoExpDa | C | 0..1 | This IE | CIOT | | taCounter | taCounter | | | shall be | | | | | | | present | | | | | | | if | | | | | | | received | | | | | | | from AMF. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | contain | | | | | | | the MO | | | | | | | Exception | | | | | | | Data | | | | | | | Counter. | | +-----------+-----------+---+-----------+-----------+-----------+ | vplmnQos | VplmnQos | O | 0..1 | When | VQOS | | | | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | contain | | | | | | | the VPLMN | | | | | | | QoS to be | | | | | | | applied | | | | | | | to the | | | | | | | QoS flow | | | | | | | with | | | | | | | default | | | | | | | QoS of | | | | | | | the PDU | | | | | | | Session. | | +-----------+-----------+---+-----------+-----------+-----------+ | secur | Secur | C | 0..1 | This IE | | | ityResult | ityResult | | | shall be | | | | | | | present | | | | | | | if | | | | | | | received | | | | | | | from | | | | | | | NG-RAN. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | contain | | | | | | | the | | | | | | | Security | | | | | | | Result | | | | | | | a | | | | | | | ssociated | | | | | | | to the | | | | | | | PDU | | | | | | | session. | | | | | | | See | | | | | | | clause | | | | | | | 9.3.1.59 | | | | | | | of | | | | | | | 3GP | | | | | | | P TS 38.4 | | | | | | | 13 [9]. | | +-----------+-----------+---+-----------+-----------+-----------+ | upSec | UpSec | C | 0..1 | This IE | | | urityInfo | urityInfo | | | shall be | | | | | | | present | | | | | | | if | | | | | | | received | | | | | | | from | | | | | | | NG-RAN | | | | | | | during Xn | | | | | | | handover | | | | | | | procedure | | | | | | | (see | | | | | | | cla | | | | | | | use 5.2.2 | | | | | | | .8.2.16). | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | contain | | | | | | | the User | | | | | | | Plane | | | | | | | Security | | | | | | | In | | | | | | | formation | | | | | | | a | | | | | | | ssociated | | | | | | | to the | | | | | | | PDU | | | | | | | session. | | | | | | | See | | | | | | | clause | | | | | | | 9.3.1.60 | | | | | | | of | | | | | | | 3GP | | | | | | | P TS 38.4 | | | | | | | 13 [9]. | | +-----------+-----------+---+-----------+-----------+-----------+ | amfNfId | NfI | C | 0..1 | This IE | | | | nstanceId | | | shall be | | | | | | | present | | | | | | | if it is | | | | | | | received | | | | | | | in the | | | | | | | Update SM | | | | | | | Context | | | | | | | request. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | contain | | | | | | | the | | | | | | | i | | | | | | | dentifier | | | | | | | of the | | | | | | | serving | | | | | | | AMF. | | +-----------+-----------+---+-----------+-----------+-----------+ | guami | Guami | C | 0..1 | This IE | | | | | | | shall be | | | | | | | present | | | | | | | if the | | | | | | | amfNfId | | | | | | | is | | | | | | | present. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | contain | | | | | | | the | | | | | | | serving | | | | | | | AMF\'s | | | | | | | GUAMI. | | +-----------+-----------+---+-----------+-----------+-----------+ | secondary | array(S | C | 1..N | The IE | | | RatUsageD | econdaryR | | | shall be | | | ataReport | atUsageDa | | | present | | | Container | taReportC | | | during an | | | | ontainer) | | | EPS to | | | | | | | 5GS | | | | | | | handover | | | | | | | p | | | | | | | rocedure, | | | | | | | if one or | | | | | | | more | | | | | | | instance | | | | | | | of | | | | | | | Secondary | | | | | | | RAT Usage | | | | | | | Data | | | | | | | Report | | | | | | | IE(s) are | | | | | | | present | | | | | | | and | | | | | | | a | | | | | | | pplicable | | | | | | | to the | | | | | | | PDU | | | | | | | session. | | | | | | | | | | | | | | The | | | | | | | V-/I-SMF | | | | | | | may | | | | | | | determine | | | | | | | to pass | | | | | | | or not | | | | | | | the | | | | | | | in | | | | | | | formation | | | | | | | to the | | | | | | | (H-)SMF | | | | | | | based on | | | | | | | operator | | | | | | | policy; | | | | | | | if the | | | | | | | V-/I-SMF | | | | | | | d | | | | | | | etermines | | | | | | | to pass | | | | | | | the | | | | | | | inf | | | | | | | ormation, | | | | | | | the | | | | | | | V-/I-SMF | | | | | | | shall | | | | | | | tran | | | | | | | sparently | | | | | | | forward | | | | | | | this | | | | | | | in | | | | | | | formation | | | | | | | to the | | | | | | | (H-)SMF. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | contain | | | | | | | Base6 | | | | | | | 4-encoded | | | | | | | ch | | | | | | | aracters, | | | | | | | encoding | | | | | | | the | | | | | | | Secondary | | | | | | | RAT Usage | | | | | | | Data | | | | | | | Report in | | | | | | | the | | | | | | | Forward | | | | | | | R | | | | | | | elocation | | | | | | | Complete | | | | | | | Ac | | | | | | | knowledge | | | | | | | message, | | | | | | | as | | | | | | | specified | | | | | | | in | | | | | | | Figur | | | | | | | e 8.132-1 | | | | | | | of | | | | | | | 3GP | | | | | | | P TS 29.2 | | | | | | | 74 [16] | | | | | | | (starting | | | | | | | from | | | | | | | octet 1). | | +-----------+-----------+---+-----------+-----------+-----------+ | smPolicy | boolean | C | 0..1 | This IE | SPAE | | NotifyInd | | | | shall be | | | | | | | included | | | | | | | by I-SMF | | | | | | | to SMF, | | | | | | | if it is | | | | | | | received | | | | | | | from AMF | | | | | | | and it is | | | | | | | not | | | | | | | p | | | | | | | reviously | | | | | | | provided | | | | | | | to the | | | | | | | SMF. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | indicate | | | | | | | that the | | | | | | | SM Policy | | | | | | | As | | | | | | | sociation | | | | | | | Esta | | | | | | | blishment | | | | | | | and | | | | | | | Te | | | | | | | rmination | | | | | | | events | | | | | | | shall be | | | | | | | reported | | | | | | | for the | | | | | | | PDU | | | | | | | session | | | | | | | by the | | | | | | | PCF for | | | | | | | the SM | | | | | | | Policy to | | | | | | | the PCF | | | | | | | for the | | | | | | | UE: | | | | | | | | | | | | | | - true: | | | | | | | SM Policy | | | | | | | As | | | | | | | sociation | | | | | | | Esta | | | | | | | blishment | | | | | | | and | | | | | | | Te | | | | | | | rmination | | | | | | | events | | | | | | | shall be | | | | | | | reported | | | | | | | | | | | | | | (NOTE 3) | | +-----------+-----------+---+-----------+-----------+-----------+ | pcfUeCal | PcfUeCal | C | 0..1 | This IE | SPAE | | lbackInfo | lbackInfo | | | shall be | | | | | | | present | | | | | | | when the | | | | | | | smPolicy | | | | | | | NotifyInd | | | | | | | IE is | | | | | | | present | | | | | | | with | | | | | | | value | | | | | | | true. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | contain | | | | | | | the | | | | | | | callback | | | | | | | in | | | | | | | formation | | | | | | | of the | | | | | | | PCF for | | | | | | | the UE to | | | | | | | receive | | | | | | | SM Policy | | | | | | | As | | | | | | | sociation | | | | | | | Esta | | | | | | | blishment | | | | | | | and | | | | | | | Te | | | | | | | rmination | | | | | | | events | | | | | | | not | | | | | | | ification | | | | | | | from the | | | | | | | PCF for | | | | | | | the SM | | | | | | | Policy. | | | | | | | (NOTE 3) | | +-----------+-----------+---+-----------+-----------+-----------+ | sa | Satelli | C | 0..1 | This IE | 5GSAT | | telliteBa | teBackhau | | | shall be | | | ckhaulCat | lCategory | | | present | | | | | | | if the | | | | | | | V- | | | | | | | SMF/I-SMF | | | | | | | and the | | | | | | | anchor | | | | | | | SMF | | | | | | | supports | | | | | | | the 5GSAT | | | | | | | feature | | | | | | | and: | | | | | | | | | | | | | | - the | | | | | | | sa | | | | | | | telliteBa | | | | | | | ckhaulCat | | | | | | | IE has | | | | | | | been | | | | | | | received | | | | | | | from the | | | | | | | AMF and | | | | | | | there is | | | | | | | a change | | | | | | | of the | | | | | | | sa | | | | | | | telliteBa | | | | | | | ckhaulCat | | | | | | | IE | | | | | | | compared | | | | | | | to what | | | | | | | has been | | | | | | | signalled | | | | | | | earlier | | | | | | | to the | | | | | | | (H-)SMF | | | | | | | (as | | | | | | | d | | | | | | | etermined | | | | | | | from the | | | | | | | Sm | | | | | | | Context); | | | | | | | or | | | | | | | | | | | | | | - upon | | | | | | | inter-AMF | | | | | | | mobility | | | | | | | (when a | | | | | | | target | | | | | | | AMF is | | | | | | | taking | | | | | | | over the | | | | | | | control | | | | | | | of the | | | | | | | PDU | | | | | | | session), | | | | | | | the new | | | | | | | AMF does | | | | | | | not | | | | | | | include | | | | | | | the | | | | | | | sa | | | | | | | telliteBa | | | | | | | ckhaulCat | | | | | | | IE and a | | | | | | | satellite | | | | | | | backhaul | | | | | | | category | | | | | | | had been | | | | | | | signalled | | | | | | | to the | | | | | | | SMF (as | | | | | | | d | | | | | | | etermined | | | | | | | from the | | | | | | | Sm | | | | | | | Context). | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | indicate | | | | | | | the value | | | | | | | received | | | | | | | from the | | | | | | | AMF or, | | | | | | | in the | | | | | | | latter | | | | | | | case, the | | | | | | | value | | | | | | | \"NON_SA | | | | | | | TELLITE\" | | | | | | | to | | | | | | | indicate | | | | | | | that | | | | | | | there is | | | | | | | no longer | | | | | | | any | | | | | | | satellite | | | | | | | backhaul | | | | | | | towards | | | | | | | the new | | | | | | | 5G AN | | | | | | | serving | | | | | | | the UE. | | +-----------+-----------+---+-----------+-----------+-----------+ | maxI | Ma | C | 0..1 | This IE | | | ntegrityP | xIntegrit | | | shall be | | | rotectedD | yProtecte | | | present | | | ataRateUl | dDataRate | | | if | | | | | | | received | | | | | | | from the | | | | | | | UE during | | | | | | | PDU | | | | | | | session | | | | | | | mod | | | | | | | ification | | | | | | | p | | | | | | | rocedure, | | | | | | | see | | | | | | | claus | | | | | | | e 4.3.3.2 | | | | | | | of | | | | | | | 3GP | | | | | | | P TS 23.5 | | | | | | | 02 [3]. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | indicate | | | | | | | the | | | | | | | maximum | | | | | | | integrity | | | | | | | protected | | | | | | | data rate | | | | | | | supported | | | | | | | by the UE | | | | | | | for | | | | | | | uplink. | | +-----------+-----------+---+-----------+-----------+-----------+ | maxI | Ma | C | 0..1 | This IE | | | ntegrityP | xIntegrit | | | shall be | | | rotectedD | yProtecte | | | present | | | ataRateDl | dDataRate | | | if | | | | | | | received | | | | | | | from the | | | | | | | UE during | | | | | | | PDU | | | | | | | session | | | | | | | mod | | | | | | | ification | | | | | | | p | | | | | | | rocedure, | | | | | | | see | | | | | | | claus | | | | | | | e 4.3.3.2 | | | | | | | of | | | | | | | 3GP | | | | | | | P TS 23.5 | | | | | | | 02 [3]. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | indicate | | | | | | | the | | | | | | | maximum | | | | | | | integrity | | | | | | | protected | | | | | | | data rate | | | | | | | supported | | | | | | | by the UE | | | | | | | for | | | | | | | downlink. | | +-----------+-----------+---+-----------+-----------+-----------+ | u | U | C | 0..1 | This IE | | | pCnxState | pCnxState | | | shall be | | | | | | | present | | | | | | | to | | | | | | | indicate | | | | | | | the User | | | | | | | Plane | | | | | | | resource | | | | | | | esta | | | | | | | blishment | | | | | | | status in | | | | | | | the | | | | | | | I-S | | | | | | | MF/V-SMF, | | | | | | | if an | | | | | | | Update or | | | | | | | Create | | | | | | | request | | | | | | | is | | | | | | | required | | | | | | | to be | | | | | | | sent to | | | | | | | the | | | | | | | (H-)SMF | | | | | | | before | | | | | | | the User | | | | | | | Plane | | | | | | | resource | | | | | | | for the | | | | | | | PDU | | | | | | | session | | | | | | | is | | | | | | | es | | | | | | | tablished | | | | | | | during a | | | | | | | service | | | | | | | request | | | | | | | procedure | | | | | | | for a PDU | | | | | | | session | | | | | | | with an | | | | | | | I- | | | | | | | SMF/V-SMF | | | | | | | (see | | | | | | | clause | | | | | | | 4.23.4.2 | | | | | | | and | | | | | | | clause | | | | | | | 4.23.4.3 | | | | | | | of | | | | | | | 3GPP | | | | | | | TS 23.50 | | | | | | | 2 [3]). | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | shall be | | | | | | | set as | | | | | | | specified | | | | | | | in | | | | | | | cl | | | | | | | ause 5.2. | | | | | | | 2.8.2.23. | | +-----------+-----------+---+-----------+-----------+-----------+ | ecsAddrCo | array( | C | 1..N | This IE | HR-SBO | | nfigInfos | EcsAddrCo | | | shall be | | | | nfigInfo) | | | sent if | | | | | | | the | | | | | | | in | | | | | | | formation | | | | | | | is | | | | | | | modified | | | | | | | by the | | | | | | | NEF. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | replace | | | | | | | any | | | | | | | earlier | | | | | | | received | | | | | | | ECS | | | | | | | Address | | | | | | | Conf | | | | | | | iguration | | | | | | | In | | | | | | | formation | | | | | | | P | | | | | | | arameters | | | | | | | in SMF. | | +-----------+-----------+---+-----------+-----------+-----------+ | hrsboInfo | HrsboInfo | C | 0..1 | This IE | HR-SBO | | | FromVplmn | | | shall be | | | | | | | present | | | | | | | in the | | | | | | | following | | | | | | | s | | | | | | | cenarios, | | | | | | | for a HR | | | | | | | PDU | | | | | | | session, | | | | | | | if the | | | | | | | new V-SMF | | | | | | | requests | | | | | | | HR SBO | | | | | | | autho | | | | | | | rization: | | | | | | | | | | | | | | - V-SMF | | | | | | | | | | | | | | insertion | | | | | | | (i.e. | | | | | | | | | | | | | | H-PLMN | | | | | | | to | | | | | | | | | | | | | | V-PLMN | | | | | | | m | | | | | | | obility); | | | | | | | and | | | | | | | | | | | | | | - I | | | | | | | nter-PLMN | | | | | | | V-SMF | | | | | | | | | | | | | | change | | | | | | | (i.e. | | | | | | | | | | | | | | mobility | | | | | | | | | | | | | | between | | | | | | | | | | | | | | different | | | | | | | | | | | | | | V-PLMNs). | | | | | | | | | | | | | | This IE | | | | | | | shall | | | | | | | also be | | | | | | | present, | | | | | | | for a HR | | | | | | | PDU | | | | | | | session, | | | | | | | if the | | | | | | | HR-SBO | | | | | | | in | | | | | | | formation | | | | | | | signaled | | | | | | | earlier | | | | | | | by the | | | | | | | V-SMF to | | | | | | | the H-SMF | | | | | | | needs to | | | | | | | be | | | | | | | changed, | | | | | | | e.g. to | | | | | | | signal a | | | | | | | new | | | | | | | V-EASDF | | | | | | | IP | | | | | | | address | | | | | | | upon a | | | | | | | change of | | | | | | | V-SMF. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | Include | | | | | | | the | | | | | | | in | | | | | | | formation | | | | | | | for | | | | | | | HR-SBO as | | | | | | | defined | | | | | | | in | | | | | | | clause 6. | | | | | | | 1.6.2.72. | | +-----------+-----------+---+-----------+-----------+-----------+ | altSnssai | Snssai | C | 0..1 | This IE | NSRP | | | | | | shall be | | | | | | | present | | | | | | | when the | | | | | | | PDU | | | | | | | Session | | | | | | | is to be | | | | | | | tr | | | | | | | ansferred | | | | | | | to an | | | | | | | al | | | | | | | ternative | | | | | | | S-NSSAI. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | indicate | | | | | | | the | | | | | | | al | | | | | | | ternative | | | | | | | network | | | | | | | slice to | | | | | | | be used | | | | | | | by the | | | | | | | PDU | | | | | | | session. | | | | | | | | | | | | | | See | | | | | | | claus | | | | | | | e 5.15.19 | | | | | | | of | | | | | | | 3GP | | | | | | | P TS 23.5 | | | | | | | 01 [2]. | | +-----------+-----------+---+-----------+-----------+-----------+ | NOTE 1: | | | | | | | In shared | | | | | | | networks, | | | | | | | the PLMN | | | | | | | ID that | | | | | | | is | | | | | | | com | | | | | | | municated | | | | | | | in this | | | | | | | IE shall | | | | | | | be that | | | | | | | of the | | | | | | | selected | | | | | | | Core | | | | | | | Network | | | | | | | Operator. | | | | | | | | | | | | | | NOTE 2: | | | | | | | An SMF | | | | | | | complying | | | | | | | with this | | | | | | | version | | | | | | | of the | | | | | | | spec | | | | | | | ification | | | | | | | should | | | | | | | report | | | | | | | secondary | | | | | | | RAT usage | | | | | | | using the | | | | | | | sec | | | | | | | ondaryRat | | | | | | | UsageInfo | | | | | | | attribute | | | | | | | that | | | | | | | replaces | | | | | | | the | | | | | | | secon | | | | | | | daryRatUs | | | | | | | ageReport | | | | | | | a | | | | | | | ttribute. | | | | | | | | | | | | | | NOTE 3: | | | | | | | If the | | | | | | | smPolicy | | | | | | | NotifyInd | | | | | | | IE is | | | | | | | received | | | | | | | with the | | | | | | | value | | | | | | | \"true\", | | | | | | | the SMF | | | | | | | shall | | | | | | | forward | | | | | | | the | | | | | | | callback | | | | | | | in | | | | | | | formation | | | | | | | of the | | | | | | | PCF for | | | | | | | the UE to | | | | | | | the PCF | | | | | | | for SM | | | | | | | Policy if | | | | | | | exists | | | | | | | via SM | | | | | | | Policy | | | | | | | As | | | | | | | sociation | | | | | | | Modi | | | | | | | fication. | | | | | | | See | | | | | | | claus | | | | | | | e 4.3.3.2 | | | | | | | of | | | | | | | 3GP | | | | | | | P TS 23.5 | | | | | | | 02 [3]. | | | | | | | | | | | | | | NOTE 4: | | | | | | | The | | | | | | | attribute | | | | | | | name does | | | | | | | not | | | | | | | follow | | | | | | | the | | | | | | | naming | | | | | | | co | | | | | | | nventions | | | | | | | specified | | | | | | | in | | | | | | | 3GP | | | | | | | P TS 29.5 | | | | | | | 01 [5]. | | | | | | | The | | | | | | | attribute | | | | | | | name is | | | | | | | kept | | | | | | | though as | | | | | | | defined | | | | | | | in the | | | | | | | current | | | | | | | spec | | | | | | | ification | | | | | | | for | | | | | | | backward | | | | | | | comp | | | | | | | atibility | | | | | | | reason. | | | | | | +-----------+-----------+---+-----------+-----------+-----------+
##### 6.1.6.2.12 Type: HsmfUpdatedData
Table 6.1.6.2.12-1: Definition of type HsmfUpdatedData
+-----------+-----------+---+-----------+-----------+-----------+ | Attribute | Data type | P | Ca | De | Appl | | name | | | rdinality | scription | icability | +===========+===========+===+===========+===========+===========+ | n1S | RefToB | C | 0..1 | This IE | | | mInfoToUe | inaryData | | | shall be | | | | | | | present | | | | | | | if the | | | | | | | H-SMF/SMF | | | | | | | needs to | | | | | | | send N1 | | | | | | | SM | | | | | | | in | | | | | | | formation | | | | | | | to the UE | | | | | | | that does | | | | | | | not need | | | | | | | to be | | | | | | | in | | | | | | | terpreted | | | | | | | by the | | | | | | | V-S | | | | | | | MF/I-SMF. | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | reference | | | | | | | the | | | | | | | n1S | | | | | | | mInfoToUe | | | | | | | binary | | | | | | | data (see | | | | | | | clause 6. | | | | | | | 1.6.4.4). | | +-----------+-----------+---+-----------+-----------+-----------+ | n4Info | N4In | O | 0..1 | This IE | DTSSA | | | formation | | | may be | | | | | | | present | | | | | | | if the | | | | | | | SMF needs | | | | | | | to send | | | | | | | N4 | | | | | | | response | | | | | | | in | | | | | | | formation | | | | | | | to the | | | | | | | I-SMF | | | | | | | (e.g. | | | | | | | related | | | | | | | with | | | | | | | traffic | | | | | | | usage | | | | | | | re | | | | | | | porting). | | +-----------+-----------+---+-----------+-----------+-----------+ | n | N4In | O | 0..1 | This IE | DTSSA | | 4InfoExt1 | formation | | | may be | | | | | | | present | | | | | | | if the | | | | | | | SMF needs | | | | | | | to send | | | | | | | a | | | | | | | dditional | | | | | | | N4 | | | | | | | response | | | | | | | in | | | | | | | formation | | | | | | | to the | | | | | | | I | | | | | | | -SMF(e.g. | | | | | | | related | | | | | | | with | | | | | | | traffic | | | | | | | usage | | | | | | | re | | | | | | | porting). | | +-----------+-----------+---+-----------+-----------+-----------+ | n | N4In | O | 0..1 | This IE | DTSSA | | 4InfoExt2 | formation | | | may be | | | | | | | present | | | | | | | if the | | | | | | | SMF needs | | | | | | | to send | | | | | | | a | | | | | | | dditional | | | | | | | N4 | | | | | | | response | | | | | | | in | | | | | | | formation | | | | | | | to the | | | | | | | I-SMF | | | | | | | (e.g. | | | | | | | related | | | | | | | with | | | | | | | traffic | | | | | | | usage | | | | | | | re | | | | | | | porting). | | +-----------+-----------+---+-----------+-----------+-----------+ | dnaiList | ar | C | 1..N | This IE | DTSSA | | | ray(Dnai) | | | shall be | | | | | | | present | D | | | | | | over N16a | TSSA-Ext1 | | | | | | during UE | | | | | | | Triggered | | | | | | | Service | | | | | | | Request | | | | | | | procedure | | | | | | | with | | | | | | | I-SMF | | | | | | | change, | | | | | | | Xn based | | | | | | | handover | | | | | | | and Inter | | | | | | | NG-RAN | | | | | | | node N2 | | | | | | | based | | | | | | | handover | | | | | | | with | | | | | | | I-SMF | | | | | | | change | | | | | | | (see | | | | | | | clauses | | | | | | | 4.23.4.3, | | | | | | | 4.23.11.3 | | | | | | | and | | | | | | | 4 | | | | | | | .23.7.3.3 | | | | | | | in | | | | | | | 3GPP | | | | | | | TS 23.50 | | | | | | | 2 [3]). | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | include | | | | | | | the | | | | | | | DNAI(s) | | | | | | | of | | | | | | | interest | | | | | | | for this | | | | | | | PDU | | | | | | | Session. | | | | | | | | | | | | | | If the | | | | | | | I-SMF and | | | | | | | the SMF | | | | | | | support | | | | | | | the | | | | | | | D | | | | | | | TSSA-Ext1 | | | | | | | feature, | | | | | | | when | | | | | | | present, | | | | | | | this IE | | | | | | | should | | | | | | | include | | | | | | | the full | | | | | | | list of | | | | | | | DNAIs of | | | | | | | interest | | | | | | | for PDU | | | | | | | session, | | | | | | | including | | | | | | | DNAIs | | | | | | | that may | | | | | | | not be | | | | | | | supported | | | | | | | by the | | | | | | | I-SMF and | | | | | | | excluding | | | | | | | the ones | | | | | | | supported | | | | | | | by the | | | | | | | Anchor | | | | | | | SMF. | | +-----------+-----------+---+-----------+-----------+-----------+ | supporte | Supporte | C | 0..1 | This IE | | | dFeatures | dFeatures | | | shall be | | | | | | | present | | | | | | | if the | | | | | | | supporte | | | | | | | dFeatures | | | | | | | IE was | | | | | | | received | | | | | | | in the | | | | | | | request | | | | | | | and at | | | | | | | least one | | | | | | | optional | | | | | | | feature | | | | | | | defined | | | | | | | in | | | | | | | cla | | | | | | | use 6.1.8 | | | | | | | is | | | | | | | supported | | | | | | | by the | | | | | | | updated | | | | | | | PDU | | | | | | | session | | | | | | | resource. | | +-----------+-----------+---+-----------+-----------+-----------+ | roam | Roam | O | 0..1 | This IE | | | ingChargi | ingChargi | | | may be | | | ngProfile | ngProfile | | | present | | | | | | | during an | | | | | | | i | | | | | | | nter-PLMN | | | | | | | V-SMF | | | | | | | change | | | | | | | ( | | | | | | | including | | | | | | | the | | | | | | | i | | | | | | | nter-PLMN | | | | | | | mobility | | | | | | | from | | | | | | | HPLMN | | | | | | | with | | | | | | | I-SMF to | | | | | | | VPLMN). | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | contain | | | | | | | the | | | | | | | Roaming | | | | | | | Charging | | | | | | | Profile | | | | | | | selected | | | | | | | by the | | | | | | | HPLMN | | | | | | | (see | | | | | | | clauses | | | | | | | 5.1.9.1, | | | | | | | 5.2.1.7 | | | | | | | and | | | | | | | 5 | | | | | | | .2.2.12.2 | | | | | | | of | | | | | | | 3GPP | | | | | | | TS 32.255 | | | | | | | [25]). | | +-----------+-----------+---+-----------+-----------+-----------+ | home | string | C | 0..1 | When | DTSSA | | ProvidedC | | | | present, | | | hargingId | | | | this IE | | | | | | | shall | | | | | | | contain | | | | | | | the Home | | | | | | | provided | | | | | | | Charging | | | | | | | ID (see | | | | | | | 3GPP | | | | | | | TS 32.255 | | | | | | | [25]). | | | | | | | | | | | | | | This IE | | | | | | | shall be | | | | | | | present | | | | | | | during a | | | | | | | HPLMN to | | | | | | | VPLMN | | | | | | | mobility | | | | | | | of a PDU | | | | | | | session | | | | | | | with | | | | | | | I-SMF in | | | | | | | HPLMN. | | | | | | | | | | | | | | The | | | | | | | string | | | | | | | shall | | | | | | | encode | | | | | | | the | | | | | | | Charging | | | | | | | ID | | | | | | | (32-bit | | | | | | | unsigned | | | | | | | integer | | | | | | | value, | | | | | | | with | | | | | | | maximum | | | | | | | value | | | | | | | \"4294 | | | | | | | 967295\") | | | | | | | in | | | | | | | decimal | | | | | | | repres | | | | | | | entation. | | | | | | | | | | | | | | Pattern: | | | | | | | \ | | | | | | | '\^(0\|(\ | | | | | | | [1-9]{1} | | | | | | | [0-9]{0 | | | | | | | ,9}))\$\' | | | | | | | | | | | | | | (NOTE 3, | | | | | | | NOTE 4) | | +-----------+-----------+---+-----------+-----------+-----------+ | ipv6Multi | boolean | C | 0..1 | This IE | DTSSA | | HomingInd | | | | shall be | | | | | | | present | | | | | | | over | | | | | | | N16a, if | | | | | | | available | | | | | | | and an | | | | | | | I-SMF has | | | | | | | been | | | | | | | changed | | | | | | | during | | | | | | | the | | | | | | | following | | | | | | | pr | | | | | | | ocedures: | | | | | | | Regi | | | | | | | stration, | | | | | | | Service | | | | | | | Request, | | | | | | | Xn based | | | | | | | handover, | | | | | | | Inter | | | | | | | NG-RAN | | | | | | | node N2 | | | | | | | based | | | | | | | handover | | | | | | | (see | | | | | | | cl | | | | | | | ause 4.23 | | | | | | | of | | | | | | | 3GPP | | | | | | | TS 23.50 | | | | | | | 2 [3]). | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | be set as | | | | | | | follows: | | | | | | | | | | | | | | > \- | | | | | | | > true: | | | | | | | > IPv6 | | | | | | | > mul | | | | | | | ti-homing | | | | | | | > is | | | | | | | > p | | | | | | | ermitted. | | | | | | | > | | | | | | | > \- | | | | | | | > false | | | | | | | > ( | | | | | | | default): | | | | | | | > IPv6 | | | | | | | > mul | | | | | | | ti-homing | | | | | | | > is not | | | | | | | > | | | | | | | allowed. | | +-----------+-----------+---+-----------+-----------+-----------+ | u | U | C | 0..1 | This IE | | | pSecurity | pSecurity | | | shall be | | | | | | | present | | | | | | | if the | | | | | | | \"upSecur | | | | | | | ityInfo\" | | | | | | | IE was | | | | | | | received | | | | | | | in the | | | | | | | request | | | | | | | (i.e. | | | | | | | during an | | | | | | | Xn | | | | | | | h | | | | | | | andover), | | | | | | | and there | | | | | | | is a | | | | | | | mismatch | | | | | | | between | | | | | | | security | | | | | | | policy | | | | | | | received | | | | | | | and | | | | | | | stored | | | | | | | (see | | | | | | | cla | | | | | | | use 5.2.2 | | | | | | | .8.2.16). | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | indicate | | | | | | | the | | | | | | | security | | | | | | | policy | | | | | | | for | | | | | | | integrity | | | | | | | p | | | | | | | rotection | | | | | | | and | | | | | | | e | | | | | | | ncryption | | | | | | | for the | | | | | | | user | | | | | | | plane of | | | | | | | the PDU | | | | | | | session. | | | | | | | | | | | | | | This IE | | | | | | | may be | | | | | | | present | | | | | | | during a | | | | | | | handover | | | | | | | from | | | | | | | non-3GPP | | | | | | | access to | | | | | | | 3GPP | | | | | | | access, | | | | | | | to | | | | | | | indicate | | | | | | | the | | | | | | | security | | | | | | | policy | | | | | | | for | | | | | | | integrity | | | | | | | p | | | | | | | rotection | | | | | | | and | | | | | | | e | | | | | | | ncryption | | | | | | | for the | | | | | | | user | | | | | | | plane of | | | | | | | the PDU | | | | | | | session | | | | | | | in the | | | | | | | target | | | | | | | access | | | | | | | type. | | | | | | | | | | | | | | This IE | | | | | | | may be | | | | | | | present | | | | | | | when UE | | | | | | | Integrity | | | | | | | P | | | | | | | rotection | | | | | | | Maximum | | | | | | | Data Rate | | | | | | | was | | | | | | | received | | | | | | | in the | | | | | | | request, | | | | | | | during a | | | | | | | UE | | | | | | | triggered | | | | | | | PDU | | | | | | | session | | | | | | | mod | | | | | | | ification | | | | | | | p | | | | | | | rocedure. | | | | | | | | | | | | | | (NOTE 1, | | | | | | | NOTE 2) | | +-----------+-----------+---+-----------+-----------+-----------+ | maxI | Ma | C | 0..1 | This IE | | | ntegrityP | xIntegrit | | | shall be | | | rotectedD | yProtecte | | | present | | | ataRateUl | dDataRate | | | if the | | | | | | | u | | | | | | | pSecurity | | | | | | | IE is | | | | | | | present | | | | | | | and | | | | | | | indicates | | | | | | | that | | | | | | | integrity | | | | | | | p | | | | | | | rotection | | | | | | | is | | | | | | | preferred | | | | | | | or | | | | | | | required. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | indicate | | | | | | | the | | | | | | | maximum | | | | | | | integrity | | | | | | | protected | | | | | | | data rate | | | | | | | supported | | | | | | | by the UE | | | | | | | for | | | | | | | uplink. | | | | | | | | | | | | | | (NOTE 1) | | +-----------+-----------+---+-----------+-----------+-----------+ | maxI | Ma | C | 0..1 | This IE | | | ntegrityP | xIntegrit | | | shall be | | | rotectedD | yProtecte | | | present | | | ataRateDl | dDataRate | | | if the | | | | | | | u | | | | | | | pSecurity | | | | | | | IE is | | | | | | | present | | | | | | | and | | | | | | | indicates | | | | | | | that | | | | | | | integrity | | | | | | | p | | | | | | | rotection | | | | | | | is | | | | | | | preferred | | | | | | | or | | | | | | | required. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | indicate | | | | | | | the | | | | | | | maximum | | | | | | | integrity | | | | | | | protected | | | | | | | data rate | | | | | | | supported | | | | | | | by the UE | | | | | | | for | | | | | | | downlink. | | | | | | | | | | | | | | (NOTE 1) | | +-----------+-----------+---+-----------+-----------+-----------+ | qosFlows | array | C | 1..N | This IE | | | SetupList | (QosFlowS | | | shall be | | | | etupItem) | | | present | | | | | | | during a | | | | | | | handover | | | | | | | between | | | | | | | 3GPP and | | | | | | | non-3GPP | | | | | | | accesses. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | contain | | | | | | | the set | | | | | | | of QoS | | | | | | | flow(s) | | | | | | | to | | | | | | | establish | | | | | | | for the | | | | | | | PDU | | | | | | | session | | | | | | | for the | | | | | | | target | | | | | | | access | | | | | | | type. | | | | | | | | | | | | | | (NOTE 1) | | +-----------+-----------+---+-----------+-----------+-----------+ | se | Ambr | C | 0..1 | This IE | | | ssionAmbr | | | | shall be | | | | | | | present | | | | | | | during a | | | | | | | handover | | | | | | | between | | | | | | | 3GPP and | | | | | | | non-3GPP | | | | | | | accesses. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | contain | | | | | | | the | | | | | | | Session | | | | | | | AMBR | | | | | | | a | | | | | | | uthorized | | | | | | | for the | | | | | | | PDU | | | | | | | session | | | | | | | for the | | | | | | | target | | | | | | | access | | | | | | | type. | | | | | | | | | | | | | | (NOTE 1) | | +-----------+-----------+---+-----------+-----------+-----------+ | epsP | EpsP | C | 0..1 | This IE | | | dnCnxInfo | dnCnxInfo | | | shall be | | | | | | | present | | | | | | | during a | | | | | | | handover | | | | | | | from | | | | | | | non-3GPP | | | | | | | access to | | | | | | | 3GPP | | | | | | | access, | | | | | | | if the | | | | | | | PDU | | | | | | | session | | | | | | | may be | | | | | | | moved to | | | | | | | EPS | | | | | | | during | | | | | | | its | | | | | | | lifetime. | | | | | | | | | | | | | | (NOTE 1) | | | | | | | | | | | | | | The IE | | | | | | | shall | | | | | | | also be | | | | | | | included | | | | | | | when the | | | | | | | EPS PDN | | | | | | | C | | | | | | | onnection | | | | | | | Context | | | | | | | In | | | | | | | formation | | | | | | | of the | | | | | | | PDU | | | | | | | session | | | | | | | is | | | | | | | changed, | | | | | | | e.g. due | | | | | | | to | | | | | | | re | | | | | | | selection | | | | | | | of anchor | | | | | | | SMF. | | +-----------+-----------+---+-----------+-----------+-----------+ | epsB | ar | C | 1..N | This IE | | | earerInfo | ray(EpsBe | | | shall be | | | | arerInfo) | | | present | | | | | | | during a | | | | | | | handover | | | | | | | from | | | | | | | non-3GPP | | | | | | | access to | | | | | | | 3GPP | | | | | | | access, | | | | | | | if the | | | | | | | PDU | | | | | | | session | | | | | | | may be | | | | | | | moved to | | | | | | | EPS | | | | | | | during | | | | | | | its | | | | | | | lifetime. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | include | | | | | | | the | | | | | | | complete | | | | | | | epsB | | | | | | | earerInfo | | | | | | | IE(s) for | | | | | | | all EBIs. | | | | | | | | | | | | | | (NOTE 1) | | +-----------+-----------+---+-----------+-----------+-----------+ | pti | Proc | C | 0..1 | This IE | | | | edureTran | | | shall be | | | | sactionId | | | present | | | | | | | during a | | | | | | | handover | | | | | | | between | | | | | | | 3GPP and | | | | | | | non-3GPP | | | | | | | accesses. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | contain | | | | | | | the PTI | | | | | | | value | | | | | | | received | | | | | | | in the | | | | | | | corr | | | | | | | esponding | | | | | | | request. | | +-----------+-----------+---+-----------+-----------+-----------+ | interPl | Uri | C | 0..1 | This IE | | | mnApiRoot | | | | should be | | | | | | | present | | | | | | | if the | | | | | | | in | | | | | | | formation | | | | | | | has | | | | | | | changed. | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | contain | | | | | | | the | | | | | | | apiRoot | | | | | | | of the | | | | | | | PDU | | | | | | | session | | | | | | | context | | | | | | | to be | | | | | | | used in | | | | | | | i | | | | | | | nter-PLMN | | | | | | | s | | | | | | | ignalling | | | | | | | request | | | | | | | targeting | | | | | | | the PDU | | | | | | | session | | | | | | | context. | | +-----------+-----------+---+-----------+-----------+-----------+ | intraPl | Uri | C | 0..1 | This IE | | | mnApiRoot | | | | should be | | | | | | | present | | | | | | | if the | | | | | | | in | | | | | | | formation | | | | | | | has | | | | | | | changed. | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | contain | | | | | | | the | | | | | | | apiRoot | | | | | | | of the | | | | | | | PDU | | | | | | | session | | | | | | | context | | | | | | | to be | | | | | | | used in | | | | | | | i | | | | | | | ntra-PLMN | | | | | | | s | | | | | | | ignalling | | | | | | | request | | | | | | | targeting | | | | | | | the PDU | | | | | | | session | | | | | | | context. | | +-----------+-----------+---+-----------+-----------+-----------+ | hrsboInfo | HrsboInfo | C | 0..1 | This IE | HR-SBO | | | FromHplmn | | | shall be | | | | | | | present | | | | | | | in the | | | | | | | following | | | | | | | scenarios | | | | | | | if the | | | | | | | H-SMF | | | | | | | supports | | | | | | | the | | | | | | | HR-SBO | | | | | | | feature | | | | | | | and if it | | | | | | | receives | | | | | | | a request | | | | | | | for | | | | | | | HR-SBO | | | | | | | auth | | | | | | | orization | | | | | | | in the | | | | | | | Update | | | | | | | request: | | | | | | | | | | | | | | - V-SMF | | | | | | | | | | | | | | insertion | | | | | | | (i.e. | | | | | | | | | | | | | | H-PLMN | | | | | | | to | | | | | | | | | | | | | | V-PLMN | | | | | | | m | | | | | | | obility); | | | | | | | and | | | | | | | | | | | | | | - I | | | | | | | nter-PLMN | | | | | | | V-SMF | | | | | | | | | | | | | | change | | | | | | | (i.e. | | | | | | | | | | | | | | mobility | | | | | | | | | | | | | | between | | | | | | | | | | | | | | different | | | | | | | | | | | | | | V-PLMNs). | | | | | | | | | | | | | | This IE | | | | | | | shall | | | | | | | also be | | | | | | | present, | | | | | | | for a HR | | | | | | | PDU | | | | | | | session, | | | | | | | if the | | | | | | | HR-SBO | | | | | | | in | | | | | | | formation | | | | | | | signaled | | | | | | | earlier | | | | | | | by the | | | | | | | H-SMF to | | | | | | | the V-SMF | | | | | | | needs to | | | | | | | be | | | | | | | changed, | | | | | | | e.g. to | | | | | | | signal a | | | | | | | new Home | | | | | | | DNS | | | | | | | Server | | | | | | | address. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | Include | | | | | | | the | | | | | | | in | | | | | | | formation | | | | | | | for | | | | | | | HR-SBO as | | | | | | | defined | | | | | | | in | | | | | | | clause 6. | | | | | | | 1.6.2.73. | | | | | | | | | | | | | | The | | | | | | | absence | | | | | | | of this | | | | | | | IE in an | | | | | | | Update | | | | | | | response | | | | | | | when the | | | | | | | Update | | | | | | | request | | | | | | | includes | | | | | | | a request | | | | | | | for HR | | | | | | | SBO | | | | | | | auth | | | | | | | orization | | | | | | | shall be | | | | | | | in | | | | | | | terpreted | | | | | | | as | | | | | | | i | | | | | | | ndicating | | | | | | | that | | | | | | | HR-SBO is | | | | | | | not | | | | | | | allowed. | | +-----------+-----------+---+-----------+-----------+-----------+ | NOTE 1: | | | | | | | During a | | | | | | | handover | | | | | | | between | | | | | | | 3GPP and | | | | | | | non-3GPP | | | | | | | accesses, | | | | | | | the V-SMF | | | | | | | or I-SMF | | | | | | | shall | | | | | | | delete | | | | | | | any | | | | | | | corr | | | | | | | esponding | | | | | | | in | | | | | | | formation | | | | | | | received | | | | | | | earlier | | | | | | | for the | | | | | | | source | | | | | | | access | | | | | | | type and | | | | | | | use the | | | | | | | new | | | | | | | in | | | | | | | formation | | | | | | | received | | | | | | | for the | | | | | | | target | | | | | | | access | | | | | | | type. | | | | | | | | | | | | | | NOTE 2: | | | | | | | During | | | | | | | int | | | | | | | er-system | | | | | | | mobility | | | | | | | from EPS | | | | | | | to 5GS, | | | | | | | the UE | | | | | | | Integrity | | | | | | | P | | | | | | | rotection | | | | | | | Maximum | | | | | | | Data Rate | | | | | | | is not | | | | | | | available | | | | | | | at the | | | | | | | SMF | | | | | | | during | | | | | | | PDU | | | | | | | Session | | | | | | | Creation. | | | | | | | The UE | | | | | | | will | | | | | | | provide | | | | | | | UE | | | | | | | Integrity | | | | | | | P | | | | | | | rotection | | | | | | | Maximum | | | | | | | Data Rate | | | | | | | to the | | | | | | | network | | | | | | | within a | | | | | | | s | | | | | | | ubsequent | | | | | | | UE | | | | | | | triggered | | | | | | | PDU | | | | | | | session | | | | | | | mod | | | | | | | ification | | | | | | | p | | | | | | | rocedure, | | | | | | | as | | | | | | | specified | | | | | | | in | | | | | | | claus | | | | | | | e 4.3.3.2 | | | | | | | of | | | | | | | 3GP | | | | | | | P TS 23.5 | | | | | | | 02 [3]. | | | | | | | | | | | | | | NOTE 3: | | | | | | | The | | | | | | | c | | | | | | | hargingId | | | | | | | IE in | | | | | | | SmContext | | | | | | | (see | | | | | | | clause 6. | | | | | | | 1.6.2.39) | | | | | | | shall be | | | | | | | set to | | | | | | | the value | | | | | | | received | | | | | | | in the | | | | | | | home | | | | | | | ProvidedC | | | | | | | hargingId | | | | | | | IE during | | | | | | | a HPLMN | | | | | | | to VPLMN | | | | | | | mobility | | | | | | | of a PDU | | | | | | | session | | | | | | | with | | | | | | | I-SMF in | | | | | | | HPLMN. | | | | | | | | | | | | | | NOTE 4: | | | | | | | Usage of | | | | | | | Charging | | | | | | | ID with | | | | | | | Uint32 | | | | | | | value for | | | | | | | roaming | | | | | | | scenarios | | | | | | | may lead | | | | | | | to | | | | | | | Charging | | | | | | | ID | | | | | | | collision | | | | | | | between | | | | | | | SMFs. | | | | | | +-----------+-----------+---+-----------+-----------+-----------+
##### 6.1.6.2.13 Type: ReleaseData
Table 6.1.6.2.13-1: Definition of type ReleaseData
+-----------+-----------+---+-----------+-----------+-----------+ | Attribute | Data type | P | Ca | De | Appl | | name | | | rdinality | scription | icability | +===========+===========+===+===========+===========+===========+ | cause | Cause | C | 0..1 | This IE | | | | | | | shall be | | | | | | | present, | | | | | | | if the | | | | | | | in | | | | | | | formation | | | | | | | is | | | | | | | a | | | | | | | vailable. | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | indicate | | | | | | | the NF | | | | | | | Service | | | | | | | Consumer | | | | | | | cause for | | | | | | | the | | | | | | | requested | | | | | | | PDU | | | | | | | session | | | | | | | release. | | +-----------+-----------+---+-----------+-----------+-----------+ | ngApCause | NgApCause | C | 0..1 | The V-SMF | | | | | | | or I-SMF | | | | | | | shall | | | | | | | include | | | | | | | this IE, | | | | | | | if it is | | | | | | | available | | | | | | | and, for | | | | | | | a HR PDU | | | | | | | session, | | | | | | | if this | | | | | | | in | | | | | | | formation | | | | | | | is | | | | | | | permitted | | | | | | | to be | | | | | | | sent to | | | | | | | the H-SMF | | | | | | | operator | | | | | | | according | | | | | | | to the | | | | | | | V-SMF | | | | | | | op | | | | | | | erator\'s | | | | | | | policy. | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | indicate | | | | | | | the NGAP | | | | | | | cause for | | | | | | | the | | | | | | | requested | | | | | | | PDU | | | | | | | session | | | | | | | release. | | +-----------+-----------+---+-----------+-----------+-----------+ | 5gMmC | 5GMmCause | C | 0..1 | The V-SMF | | | auseValue | | | | shall | | | | | | | include | | | | | | | this IE | | | | | | | if it | | | | | | | received | | | | | | | it from | | | | | | | the AMF | | | | | | | and if | | | | | | | this | | | | | | | in | | | | | | | formation | | | | | | | is | | | | | | | permitted | | | | | | | to be | | | | | | | sent to | | | | | | | the H-SMF | | | | | | | operator | | | | | | | according | | | | | | | to the | | | | | | | V-SMF | | | | | | | op | | | | | | | erator\'s | | | | | | | policy. | | +-----------+-----------+---+-----------+-----------+-----------+ | u | Use | C | 0..1 | This IE | | | eLocation | rLocation | | | shall be | | | | | | | present, | | | | | | | if | | | | | | | a | | | | | | | vailable. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | contain | | | | | | | the UE | | | | | | | location | | | | | | | in | | | | | | | formation | | | | | | | (see | | | | | | | clause | | | | | | | 5.2.3.4). | | +-----------+-----------+---+-----------+-----------+-----------+ | u | TimeZone | C | 0..1 | This IE | | | eTimeZone | | | | shall be | | | | | | | present, | | | | | | | if | | | | | | | a | | | | | | | vailable. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | contain | | | | | | | the UE | | | | | | | Time | | | | | | | Zone. | | +-----------+-----------+---+-----------+-----------+-----------+ | addU | Use | O | 0..1 | A | | | eLocation | rLocation | | | dditional | | | | | | | UE | | | | | | | location. | | | | | | | | | | | | | | This IE | | | | | | | may be | | | | | | | present, | | | | | | | if anType | | | | | | | p | | | | | | | reviously | | | | | | | reported | | | | | | | is a | | | | | | | non-3GPP | | | | | | | access | | | | | | | and a | | | | | | | valid | | | | | | | 3GPP | | | | | | | access | | | | | | | user | | | | | | | location | | | | | | | in | | | | | | | formation | | | | | | | is | | | | | | | a | | | | | | | vailable. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | contain: | | | | | | | | | | | | | | - the | | | | | | | last | | | | | | | known | | | | | | | 3GPP | | | | | | | access | | | | | | | user | | | | | | | location | | | | | | | (see | | | | | | | clause | | | | | | | 5.2.3.4); | | | | | | | and | | | | | | | | | | | | | | - the | | | | | | | t | | | | | | | imestamp, | | | | | | | if | | | | | | | a | | | | | | | vailable, | | | | | | | i | | | | | | | ndicating | | | | | | | the UTC | | | | | | | time when | | | | | | | the | | | | | | | addU | | | | | | | eLocation | | | | | | | in | | | | | | | formation | | | | | | | was | | | | | | | acquired. | | +-----------+-----------+---+-----------+-----------+-----------+ | secon | arr | O | 1..N | This IE | | | daryRatUs | ay(Second | | | may be | | | ageReport | aryRatUsa | | | present | | | | geReport) | | | to report | | | | | | | usage | | | | | | | data for | | | | | | | a | | | | | | | secondary | | | | | | | RAT for | | | | | | | QoS | | | | | | | flows. | | | | | | | | | | | | | | (NOTE) | | +-----------+-----------+---+-----------+-----------+-----------+ | sec | a | O | 1..N | This IE | | | ondaryRat | rray(Seco | | | may be | | | UsageInfo | ndaryRatU | | | present | | | | sageInfo) | | | to report | | | | | | | usage | | | | | | | data for | | | | | | | a | | | | | | | secondary | | | | | | | RAT for | | | | | | | QoS flows | | | | | | | and/or | | | | | | | the whole | | | | | | | PDU | | | | | | | session. | | +-----------+-----------+---+-----------+-----------+-----------+ | n4Info | N4In | O | 0..1 | This IE | DTSSA | | | formation | | | may be | | | | | | | present | | | | | | | if the | | | | | | | I-SMF | | | | | | | needs to | | | | | | | send N4 | | | | | | | in | | | | | | | formation | | | | | | | (e.g. | | | | | | | traffic | | | | | | | usage | | | | | | | r | | | | | | | eporting) | | | | | | | to the | | | | | | | SMF for | | | | | | | traffic | | | | | | | offloaded | | | | | | | at a PSA | | | | | | | c | | | | | | | ontrolled | | | | | | | by an | | | | | | | I-SMF. | | +-----------+-----------+---+-----------+-----------+-----------+ | n | N4In | O | 0..1 | This IE | DTSSA | | 4InfoExt1 | formation | | | may be | | | | | | | present | | | | | | | if the | | | | | | | I-SMF | | | | | | | needs to | | | | | | | send | | | | | | | a | | | | | | | dditional | | | | | | | N4 | | | | | | | in | | | | | | | formation | | | | | | | (e.g. | | | | | | | traffic | | | | | | | usage | | | | | | | r | | | | | | | eporting) | | | | | | | to the | | | | | | | SMF for | | | | | | | traffic | | | | | | | offloaded | | | | | | | at a PSA | | | | | | | c | | | | | | | ontrolled | | | | | | | by an | | | | | | | I-SMF. | | +-----------+-----------+---+-----------+-----------+-----------+ | n | N4In | O | 0..1 | This IE | DTSSA | | 4InfoExt2 | formation | | | may be | | | | | | | present | | | | | | | if the | | | | | | | I-SMF | | | | | | | needs to | | | | | | | send | | | | | | | a | | | | | | | dditional | | | | | | | N4 | | | | | | | in | | | | | | | formation | | | | | | | (e.g. | | | | | | | traffic | | | | | | | usage | | | | | | | r | | | | | | | eporting) | | | | | | | to the | | | | | | | SMF for | | | | | | | traffic | | | | | | | offloaded | | | | | | | at a PSA | | | | | | | c | | | | | | | ontrolled | | | | | | | by an | | | | | | | I-SMF. | | +-----------+-----------+---+-----------+-----------+-----------+ | NOTE: An | | | | | | | SMF | | | | | | | complying | | | | | | | with this | | | | | | | version | | | | | | | of the | | | | | | | spec | | | | | | | ification | | | | | | | should | | | | | | | report | | | | | | | secondary | | | | | | | RAT usage | | | | | | | using the | | | | | | | sec | | | | | | | ondaryRat | | | | | | | UsageInfo | | | | | | | attribute | | | | | | | that | | | | | | | replaces | | | | | | | the | | | | | | | secon | | | | | | | daryRatUs | | | | | | | ageReport | | | | | | | a | | | | | | | ttribute. | | | | | | +-----------+-----------+---+-----------+-----------+-----------+
##### 6.1.6.2.14 Type: HsmfUpdateError
Table 6.1.6.2.14-1: Definition of type HsmfUpdateError
+---------------+---------------+---+-------------+---------------+ | Attribute | Data type | P | Cardinality | Description | | name | | | | | +===============+===============+===+=============+===============+ | error | P | M | 1 | More | | | roblemDetails | | | information | | | | | | on the error | | | | | | shall be | | | | | | provided in | | | | | | the \"cause\" | | | | | | attribute of | | | | | | the | | | | | | \"Pro | | | | | | blemDetails\" | | | | | | structure. | +---------------+---------------+---+-------------+---------------+ | pti | Procedure | C | 0..1 | This IE shall | | | TransactionId | | | be present if | | | | | | this is a | | | | | | response sent | | | | | | to a UE | | | | | | requested PDU | | | | | | session | | | | | | modification. | | | | | | When present, | | | | | | it shall | | | | | | contain the | | | | | | PTI value | | | | | | received in | | | | | | the | | | | | | corresponding | | | | | | request. | +---------------+---------------+---+-------------+---------------+ | n1smCause | string | C | 0..1 | This IE shall | | | | | | be present if | | | | | | the request | | | | | | included | | | | | | n1 | | | | | | SmInfoFromUe. | | | | | | | | | | | | When present, | | | | | | it shall | | | | | | contain the | | | | | | 5GSM cause | | | | | | the H-SMF | | | | | | proposes the | | | | | | V-SMF to | | | | | | return to the | | | | | | UE. It shall | | | | | | be encoded as | | | | | | two | | | | | | characters in | | | | | | hexadecimal | | | | | | r | | | | | | epresentation | | | | | | with each | | | | | | character | | | | | | taking a | | | | | | value of | | | | | | \"0\" to | | | | | | \"9\" or | | | | | | \"A\" to | | | | | | \"F\", and | | | | | | represent the | | | | | | cause value | | | | | | of the 5GSM | | | | | | cause IE | | | | | | specified in | | | | | | cl | | | | | | ause 9.11.4.2 | | | | | | of | | | | | | 3GPP TS | | | | | | 24.501 [7]. | | | | | | | | | | | | Pattern: | | | | | | \"\^[A- | | | | | | F0-9]{2}\$\" | | | | | | | | | | | | Example: the | | | | | | cause | | | | | | \"Invalid | | | | | | mandatory | | | | | | information\" | | | | | | shall be | | | | | | encoded as | | | | | | \"60\". | | | | | | | | | | | | See NOTE. | +---------------+---------------+---+-------------+---------------+ | n1SmInfoToUe | Re | C | 0..1 | This IE shall | | | fToBinaryData | | | be present if | | | | | | the H-SMF | | | | | | needs to send | | | | | | N1 SM | | | | | | information | | | | | | to the UE | | | | | | that does not | | | | | | need to be | | | | | | interpreted | | | | | | by the V-SMF. | | | | | | When present, | | | | | | this IE shall | | | | | | reference the | | | | | | n1SmInfoToUe | | | | | | binary data | | | | | | (see | | | | | | claus | | | | | | e 6.1.6.4.4). | +---------------+---------------+---+-------------+---------------+ | backOffTimer | DurationSec | O | 0..1 | When present, | | | | | | this IE shall | | | | | | indicate a | | | | | | Back-off | | | | | | timer value, | | | | | | in seconds, | | | | | | that the | | | | | | V-SMF may use | | | | | | when | | | | | | rejecting the | | | | | | NAS message | | | | | | towards the | | | | | | UE. | +---------------+---------------+---+-------------+---------------+ | recoveryTime | DateTime | O | 0..1 | Timestamp | | | | | | when the | | | | | | H-SMF service | | | | | | instance was | | | | | | (re)started | | | | | | (see | | | | | | clause 6.3 of | | | | | | 3GPP TS 23 | | | | | | .527 [24]). | +---------------+---------------+---+-------------+---------------+ | NOTE: This IE | | | | | | contains | | | | | | information | | | | | | that the | | | | | | V-SMF shall | | | | | | transfer to | | | | | | the UE | | | | | | without | | | | | | in | | | | | | terpretation. | | | | | | It is sent as | | | | | | a separate IE | | | | | | rather than | | | | | | within the | | | | | | n1SmInfoToUE | | | | | | binary data | | | | | | because the | | | | | | 5GSM cause IE | | | | | | is defined as | | | | | | a \"V\" IE | | | | | | (i.e. without | | | | | | a Type field) | | | | | | in the NAS | | | | | | PDU Session | | | | | | Modification | | | | | | Reject | | | | | | message. | | | | | +---------------+---------------+---+-------------+---------------+
##### 6.1.6.2.15 Type: VsmfUpdateData
Table 6.1.6.2.15-1: Definition of type VsmfUpdateData
+-----------+-----------+---+-----------+-----------+-----------+ | Attribute | Data type | P | Ca | De | Appl | | name | | | rdinality | scription | icability | +===========+===========+===+===========+===========+===========+ | requestI | RequestI | M | 1 | This IE | | | ndication | ndication | | | shall | | | | | | | indicate | | | | | | | the | | | | | | | request | | | | | | | type. | | +-----------+-----------+---+-----------+-----------+-----------+ | se | Ambr | C | 1 | This IE | | | ssionAmbr | | | | shall be | | | | | | | present | | | | | | | if the | | | | | | | Session | | | | | | | AMBR | | | | | | | a | | | | | | | uthorized | | | | | | | for the | | | | | | | PDU | | | | | | | session | | | | | | | is | | | | | | | modified. | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | contain | | | | | | | the new | | | | | | | Session | | | | | | | AMBR | | | | | | | a | | | | | | | uthorized | | | | | | | for the | | | | | | | PDU | | | | | | | session. | | +-----------+-----------+---+-----------+-----------+-----------+ | qosFlow | array(Q | C | 1..N | This IE | | | sAddModRe | osFlowAdd | | | shall be | | | questList | ModifyReq | | | present | | | | uestItem) | | | if QoS | | | | | | | flows are | | | | | | | requested | | | | | | | to be | | | | | | | es | | | | | | | tablished | | | | | | | or | | | | | | | modified. | | +-----------+-----------+---+-----------+-----------+-----------+ | qosF | array | C | 1..N | This IE | | | lowsRelRe | (QosFlowR | | | shall be | | | questList | eleaseReq | | | present | | | | uestItem) | | | if QoS | | | | | | | flows are | | | | | | | requested | | | | | | | to be | | | | | | | released. | | +-----------+-----------+---+-----------+-----------+-----------+ | epsB | ar | C | 1..N | This IE | | | earerInfo | ray(EpsBe | | | shall be | | | | arerInfo) | | | present | | | | | | | if the | | | | | | | PDU | | | | | | | session | | | | | | | may be | | | | | | | moved to | | | | | | | EPS | | | | | | | during | | | | | | | its | | | | | | | lifetime | | | | | | | and the | | | | | | | ePSB | | | | | | | earerInfo | | | | | | | has | | | | | | | changed. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | only | | | | | | | include | | | | | | | epsB | | | | | | | earerInfo | | | | | | | IE(s) for | | | | | | | new EBI | | | | | | | or for | | | | | | | EBIs for | | | | | | | which the | | | | | | | epsB | | | | | | | earerInfo | | | | | | | has | | | | | | | changed. | | | | | | | The | | | | | | | complete | | | | | | | epsB | | | | | | | earerInfo | | | | | | | shall be | | | | | | | provided | | | | | | | for an | | | | | | | EBI that | | | | | | | is | | | | | | | included | | | | | | | (i.e. the | | | | | | | epsB | | | | | | | earerInfo | | | | | | | newly | | | | | | | received | | | | | | | for a | | | | | | | given EBI | | | | | | | replaces | | | | | | | any | | | | | | | epsB | | | | | | | earerInfo | | | | | | | p | | | | | | | reviously | | | | | | | received | | | | | | | for this | | | | | | | EBI). | | +-----------+-----------+---+-----------+-----------+-----------+ | assi | a | C | 1..N | This IE | | | gnEbiList | rray(Arp) | | | shall be | | | | | | | present | | | | | | | if the | | | | | | | H-SMF | | | | | | | requests | | | | | | | EBIs to | | | | | | | be | | | | | | | assigned. | | +-----------+-----------+---+-----------+-----------+-----------+ | revo | array(Eps | C | 1..N | This IE | | | keEbiList | BearerId) | | | shall be | | | | | | | present | | | | | | | if the | | | | | | | H-SMF/SMF | | | | | | | requests | | | | | | | the | | | | | | | V- | | | | | | | SMF/I-SMF | | | | | | | to revoke | | | | | | | some | | | | | | | EBI(s). | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | contain | | | | | | | the EBIs | | | | | | | to | | | | | | | revoke. | | +-----------+-----------+---+-----------+-----------+-----------+ | modifi | ar | C | 1..N | This IE | | | edEbiList | ray(EbiAr | | | shall be | | | | pMapping) | | | present | | | | | | | if a PDU | | | | | | | session | | | | | | | mod | | | | | | | ification | | | | | | | procedure | | | | | | | resulted | | | | | | | in the | | | | | | | change of | | | | | | | ARP for a | | | | | | | QoS flow | | | | | | | that was | | | | | | | already | | | | | | | allocated | | | | | | | an EBI. | | +-----------+-----------+---+-----------+-----------+-----------+ | pti | Proc | C | 0..1 | This IE | | | | edureTran | | | shall be | | | | sactionId | | | present | | | | | | | if the | | | | | | | request | | | | | | | is sent | | | | | | | in | | | | | | | response | | | | | | | to a UE | | | | | | | requested | | | | | | | PDU | | | | | | | session | | | | | | | mod | | | | | | | ification | | | | | | | or | | | | | | | release. | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | contain | | | | | | | the PTI | | | | | | | value | | | | | | | received | | | | | | | in the | | | | | | | corr | | | | | | | esponding | | | | | | | request. | | +-----------+-----------+---+-----------+-----------+-----------+ | n1S | RefToB | C | 0..1 | This IE | | | mInfoToUe | inaryData | | | shall be | | | | | | | present | | | | | | | if the | | | | | | | H-SMF/SMF | | | | | | | needs to | | | | | | | send N1 | | | | | | | SM | | | | | | | in | | | | | | | formation | | | | | | | to the UE | | | | | | | that does | | | | | | | not need | | | | | | | to be | | | | | | | in | | | | | | | terpreted | | | | | | | by the | | | | | | | V-S | | | | | | | MF/I-SMF. | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | reference | | | | | | | the | | | | | | | n1S | | | | | | | mInfoToUe | | | | | | | binary | | | | | | | data (see | | | | | | | clause 6. | | | | | | | 1.6.4.4). | | +-----------+-----------+---+-----------+-----------+-----------+ | always | boolean | C | 0..1 | This IE | | | OnGranted | | | | shall be | | | | | | | present | | | | | | | if: | | | | | | | | | | | | | | > \- an | | | | | | | > | | | | | | | alwaysOn | | | | | | | Requested | | | | | | | > IE was | | | | | | | > | | | | | | | received | | | | | | | > in an | | | | | | | > earlier | | | | | | | > V- | | | | | | | SMF/I-SMF | | | | | | | > | | | | | | | initiated | | | | | | | > Update | | | | | | | > request | | | | | | | > to | | | | | | | > change | | | | | | | > the PDU | | | | | | | > session | | | | | | | > to an | | | | | | | > | | | | | | | always-on | | | | | | | > PDU | | | | | | | > | | | | | | | session; | | | | | | | > or | | | | | | | > | | | | | | | > \- the | | | | | | | > | | | | | | | H-SMF/SMF | | | | | | | > de | | | | | | | termines, | | | | | | | > based | | | | | | | > on | | | | | | | > local | | | | | | | > policy, | | | | | | | > that | | | | | | | > the PDU | | | | | | | > session | | | | | | | > needs | | | | | | | > to be | | | | | | | > es | | | | | | | tablished | | | | | | | > as an | | | | | | | > | | | | | | | always-on | | | | | | | > PDU | | | | | | | > | | | | | | | session. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | be set as | | | | | | | follows: | | | | | | | | | | | | | | > \- | | | | | | | > true: | | | | | | | > | | | | | | | always-on | | | | | | | > PDU | | | | | | | > session | | | | | | | > | | | | | | | granted. | | | | | | | > | | | | | | | > \- | | | | | | | > false | | | | | | | > ( | | | | | | | default): | | | | | | | > | | | | | | | always-on | | | | | | | > PDU | | | | | | | > session | | | | | | | > not | | | | | | | > | | | | | | | granted. | | +-----------+-----------+---+-----------+-----------+-----------+ | hsmfPduS | Uri | C | 0..1 | This IE | | | essionUri | | | | shall be | | | | | | | included | | | | | | | if: | | | | | | | | | | | | | | > \- an | | | | | | | > Update | | | | | | | > Request | | | | | | | > is sent | | | | | | | > to the | | | | | | | > V- | | | | | | | SMF/I-SMF | | | | | | | > before | | | | | | | > the | | | | | | | > Create | | | | | | | > | | | | | | | Response | | | | | | | > (e.g. | | | | | | | > for EPS | | | | | | | > bearer | | | | | | | > ID | | | | | | | > a | | | | | | | llocation | | | | | | | > as | | | | | | | > | | | | | | | specified | | | | | | | > in | | | | | | | > | | | | | | | clause 4 | | | | | | | .11.1.4.1 | | | | | | | > of | | | | | | | > 3GP | | | | | | | P TS 23.5 | | | | | | | 02 [3], | | | | | | | > or for | | | | | | | > | | | | | | | Secondary | | | | | | | > a | | | | | | | uthorizat | | | | | | | ion/authe | | | | | | | ntication | | | | | | | > as | | | | | | | > | | | | | | | specified | | | | | | | > in | | | | | | | > claus | | | | | | | e 4.3.2.3 | | | | | | | > of | | | | | | | > 3GPP | | | | | | | TS 23.50 | | | | | | | 2 [3]), | | | | | | | > and | | | | | | | > | | | | | | | > \- the | | | | | | | > H-SMF | | | | | | | > PDU | | | | | | | > Session | | | | | | | > | | | | | | | Resource | | | | | | | > URI has | | | | | | | > not | | | | | | | > been | | | | | | | > p | | | | | | | reviously | | | | | | | > | | | | | | | provided | | | | | | | > to the | | | | | | | > V-S | | | | | | | MF/I-SMF. | | | | | | | | | | | | | | This IE | | | | | | | shall not | | | | | | | be | | | | | | | included | | | | | | | o | | | | | | | therwise. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | include | | | | | | | the URI | | | | | | | rep | | | | | | | resenting | | | | | | | the PDU | | | | | | | session | | | | | | | resource | | | | | | | in the | | | | | | | H-SMF. | | +-----------+-----------+---+-----------+-----------+-----------+ | newSmfId | NfI | C | 0..1 | This IE | | | | nstanceId | | | may be | | | | | | | present | | | | | | | if the | | | | | | | anchor | | | | | | | SMF has | | | | | | | changed | | | | | | | and the | | | | | | | SMF | | | | | | | Instance | | | | | | | ID of the | | | | | | | new | | | | | | | anchor | | | | | | | SMF has | | | | | | | not been | | | | | | | already | | | | | | | signalled | | | | | | | to the | | | | | | | I-SMF or | | | | | | | V-SMF. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | carry the | | | | | | | NF | | | | | | | instance | | | | | | | i | | | | | | | dentifier | | | | | | | of the | | | | | | | new | | | | | | | anchor | | | | | | | SMF | | | | | | | handling | | | | | | | the PDU | | | | | | | session. | | +-----------+-----------+---+-----------+-----------+-----------+ | n | Uri | C | 0..1 | This IE | | | ewSmfPduS | | | | shall be | | | essionUri | | | | present | | | | | | | if the | | | | | | | newSmfId | | | | | | | is | | | | | | | present. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | carry the | | | | | | | URI | | | | | | | rep | | | | | | | resenting | | | | | | | the | | | | | | | updated | | | | | | | PDU | | | | | | | session | | | | | | | resource | | | | | | | in the | | | | | | | new | | | | | | | anchor | | | | | | | SMF. | | +-----------+-----------+---+-----------+-----------+-----------+ | supporte | Supporte | C | 0..1 | This IE | | | dFeatures | dFeatures | | | shall be | | | | | | | present | | | | | | | if | | | | | | | \"h | | | | | | | smfPduSes | | | | | | | sionUri\" | | | | | | | IE is | | | | | | | present | | | | | | | and at | | | | | | | least one | | | | | | | optional | | | | | | | feature | | | | | | | defined | | | | | | | in | | | | | | | cla | | | | | | | use 6.1.8 | | | | | | | is | | | | | | | s | | | | | | | upported. | | +-----------+-----------+---+-----------+-----------+-----------+ | cause | Cause | O | 0..1 | When | | | | | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | indicate | | | | | | | the cause | | | | | | | for the | | | | | | | requested | | | | | | | modi | | | | | | | fication. | | +-----------+-----------+---+-----------+-----------+-----------+ | n1smCause | string | O | 0..1 | When | | | | | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | contain | | | | | | | the 5GSM | | | | | | | cause the | | | | | | | H-SMF | | | | | | | proposes | | | | | | | the | | | | | | | V- | | | | | | | SMF/I-SMF | | | | | | | to send | | | | | | | to the | | | | | | | UE. It | | | | | | | shall be | | | | | | | encoded | | | | | | | as two | | | | | | | c | | | | | | | haracters | | | | | | | in | | | | | | | he | | | | | | | xadecimal | | | | | | | repre | | | | | | | sentation | | | | | | | with each | | | | | | | character | | | | | | | taking a | | | | | | | value of | | | | | | | \"0\" to | | | | | | | \"9\" or | | | | | | | \"A\" to | | | | | | | \"F\", | | | | | | | and | | | | | | | represent | | | | | | | the cause | | | | | | | value of | | | | | | | the 5GSM | | | | | | | cause IE | | | | | | | specified | | | | | | | in | | | | | | | clause | | | | | | | 9.11.4.2 | | | | | | | of | | | | | | | 3GP | | | | | | | P TS 24.5 | | | | | | | 01 [7]. | | | | | | | | | | | | | | Example: | | | | | | | the cause | | | | | | | \"Invalid | | | | | | | mandatory | | | | | | | info | | | | | | | rmation\" | | | | | | | shall be | | | | | | | encoded | | | | | | | as | | | | | | | \"60\". | | | | | | | | | | | | | | See NOTE. | | +-----------+-----------+---+-----------+-----------+-----------+ | bac | Du | O | 0..1 | When | | | kOffTimer | rationSec | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | indicate | | | | | | | a | | | | | | | Back-off | | | | | | | timer | | | | | | | value, in | | | | | | | seconds, | | | | | | | that the | | | | | | | V- | | | | | | | SMF/I-SMF | | | | | | | may use | | | | | | | when | | | | | | | sending | | | | | | | the NAS | | | | | | | message | | | | | | | (PDU | | | | | | | Session | | | | | | | Release | | | | | | | Command) | | | | | | | towards | | | | | | | the UE. | | +-----------+-----------+---+-----------+-----------+-----------+ | maR | M | C | 0..1 | This IE | MAPDU | | eleaseInd | aReleaseI | | | shall be | | | | ndication | | | present | | | | | | | if one | | | | | | | access of | | | | | | | a MA PDU | | | | | | | session | | | | | | | is to be | | | | | | | released, | | | | | | | when | | | | | | | H-SMF or | | | | | | | SMF | | | | | | | initiates | | | | | | | MA PDU | | | | | | | session | | | | | | | release | | | | | | | over one | | | | | | | access. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | indicate | | | | | | | the | | | | | | | access | | | | | | | requested | | | | | | | to be | | | | | | | released. | | +-----------+-----------+---+-----------+-----------+-----------+ | maAc | boolean | C | 0..1 | This IE | MAPDU | | ceptedInd | | | | shall be | | | | | | | present | | | | | | | if a | | | | | | | request | | | | | | | to modify | | | | | | | a single | | | | | | | access | | | | | | | PDU | | | | | | | session | | | | | | | into a MA | | | | | | | PDU | | | | | | | session | | | | | | | was | | | | | | | accepted | | | | | | | (see | | | | | | | clause | | | | | | | 4.22.6.3 | | | | | | | of | | | | | | | 3GPP | | | | | | | TS 23.50 | | | | | | | 2 [3]). | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | be set as | | | | | | | follows: | | | | | | | | | | | | | | > \- | | | | | | | > true: | | | | | | | > MA PDU | | | | | | | > session | | | | | | | > | | | | | | | > \- | | | | | | | > false | | | | | | | > ( | | | | | | | default): | | | | | | | > single | | | | | | | > access | | | | | | | > PDU | | | | | | | > session | | +-----------+-----------+---+-----------+-----------+-----------+ | addi | T | C | 0..1 | This IE | MAPDU | | tionalCnT | unnelInfo | | | shall be | | | unnelInfo | | | | present | | | | | | | for a | | | | | | | MA-PDU | | | | | | | session | | | | | | | if the UE | | | | | | | requested | | | | | | | to | | | | | | | establish | | | | | | | resources | | | | | | | for a MA | | | | | | | PDU | | | | | | | session | | | | | | | over the | | | | | | | other | | | | | | | access. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | contain | | | | | | | a | | | | | | | dditional | | | | | | | N9 tunnel | | | | | | | in | | | | | | | formation | | | | | | | of the | | | | | | | UPF | | | | | | | c | | | | | | | ontrolled | | | | | | | by the | | | | | | | H-SMF or | | | | | | | SMF. | | +-----------+-----------+---+-----------+-----------+-----------+ | dnaiList | ar | C | 0..N | This IE | DTSSA | | | ray(Dnai) | | | shall be | | | | | | | present | D | | | | | | if | TSSA-Ext1 | | | | | | received | | | | | | | from PCF | | | | | | | during | | | | | | | I-SMF | | | | | | | Related | | | | | | | P | | | | | | | rocedures | | | | | | | with PCF | | | | | | | (see | | | | | | | clause | | | | | | | 4.23.6.2 | | | | | | | in | | | | | | | 3GPP | | | | | | | TS 23.50 | | | | | | | 2 [3]). | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | the IE | | | | | | | shall | | | | | | | include a | | | | | | | list of | | | | | | | DNAI(s) | | | | | | | the SMF | | | | | | | deems | | | | | | | relevant | | | | | | | for the | | | | | | | PDU | | | | | | | Session. | | | | | | | | | | | | | | If the | | | | | | | I-SMF and | | | | | | | the SMF | | | | | | | support | | | | | | | the | | | | | | | D | | | | | | | TSSA-Ext1 | | | | | | | feature, | | | | | | | when | | | | | | | present, | | | | | | | this IE | | | | | | | should | | | | | | | include | | | | | | | the full | | | | | | | list of | | | | | | | DNAIs of | | | | | | | interest | | | | | | | for PDU | | | | | | | session, | | | | | | | including | | | | | | | DNAIs | | | | | | | that may | | | | | | | not be | | | | | | | supported | | | | | | | by the | | | | | | | I-SMF and | | | | | | | excluding | | | | | | | the ones | | | | | | | supported | | | | | | | by the | | | | | | | Anchor | | | | | | | SMF. | | | | | | | | | | | | | | If this | | | | | | | IE is not | | | | | | | present, | | | | | | | the I-SMF | | | | | | | shall | | | | | | | consider | | | | | | | that the | | | | | | | dnaiList | | | | | | | has not | | | | | | | changed. | | | | | | | If there | | | | | | | is no | | | | | | | more DNAI | | | | | | | of | | | | | | | interest | | | | | | | for the | | | | | | | PDU | | | | | | | session, | | | | | | | the | | | | | | | dnaiList | | | | | | | attribute | | | | | | | shall be | | | | | | | present | | | | | | | and be | | | | | | | encoded | | | | | | | as an | | | | | | | empty | | | | | | | array. | | +-----------+-----------+---+-----------+-----------+-----------+ | n4Info | N4In | O | 0..1 | This IE | DTSSA | | | formation | | | may be | | | | | | | present | | | | | | | if the | | | | | | | SMF needs | | | | | | | to send | | | | | | | N4 | | | | | | | in | | | | | | | formation | | | | | | | to the | | | | | | | I-SMF for | | | | | | | the | | | | | | | control | | | | | | | of | | | | | | | traffic | | | | | | | offloaded | | | | | | | at a | | | | | | | PS | | | | | | | A/BP/ULCL | | | | | | | c | | | | | | | ontrolled | | | | | | | by an | | | | | | | I-SMF. | | +-----------+-----------+---+-----------+-----------+-----------+ | n | N4In | O | 0..1 | This IE | DTSSA | | 4InfoExt1 | formation | | | may be | | | | | | | present | | | | | | | if the | | | | | | | SMF needs | | | | | | | to send | | | | | | | a | | | | | | | dditional | | | | | | | N4 | | | | | | | in | | | | | | | formation | | | | | | | to the | | | | | | | I-SMF for | | | | | | | the | | | | | | | control | | | | | | | of | | | | | | | traffic | | | | | | | offloaded | | | | | | | at a | | | | | | | PS | | | | | | | A/BP/ULCL | | | | | | | c | | | | | | | ontrolled | | | | | | | by an | | | | | | | I-SMF. | | +-----------+-----------+---+-----------+-----------+-----------+ | n | N4In | O | 0..1 | This IE | DTSSA | | 4InfoExt2 | formation | | | may be | | | | | | | present | | | | | | | if the | | | | | | | SMF needs | | | | | | | to send | | | | | | | a | | | | | | | dditional | | | | | | | N4 | | | | | | | in | | | | | | | formation | | | | | | | to the | | | | | | | I-SMF for | | | | | | | the | | | | | | | control | | | | | | | of | | | | | | | traffic | | | | | | | offloaded | | | | | | | at a | | | | | | | PS | | | | | | | A/BP/ULCL | | | | | | | c | | | | | | | ontrolled | | | | | | | by an | | | | | | | I-SMF | | | | | | | (e.g. | | | | | | | during a | | | | | | | change of | | | | | | | PSA). | | +-----------+-----------+---+-----------+-----------+-----------+ | n | N4In | O | 0..1 | This IE | SCPBU | | 4InfoExt3 | formation | | | may be | | | | | | | present | | | | | | | if the | | | | | | | SMF needs | | | | | | | to send | | | | | | | a | | | | | | | dditional | | | | | | | N4 | | | | | | | in | | | | | | | formation | | | | | | | to the | | | | | | | I-SMF for | | | | | | | the | | | | | | | control | | | | | | | of | | | | | | | traffic | | | | | | | offloaded | | | | | | | at a | | | | | | | PS | | | | | | | A/BP/ULCL | | | | | | | c | | | | | | | ontrolled | | | | | | | by an | | | | | | | I-SMF | | | | | | | (e.g. | | | | | | | during | | | | | | | sim | | | | | | | ultaneous | | | | | | | change of | | | | | | | BP/ULCL | | | | | | | and PSA). | | +-----------+-----------+---+-----------+-----------+-----------+ | smallData | boolean | C | 0..1 | This IE | CIOT | | RateContr | | | | shall be | | | olEnabled | | | | present | | | | | | | if the | | | | | | | appl | | | | | | | icability | | | | | | | of small | | | | | | | data rate | | | | | | | control | | | | | | | on the | | | | | | | PDU | | | | | | | session | | | | | | | changes. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | be set as | | | | | | | follows: | | | | | | | | | | | | | | > \- | | | | | | | > true: | | | | | | | > small | | | | | | | > data | | | | | | | > rate | | | | | | | > control | | | | | | | > is | | | | | | | > ap | | | | | | | plicable. | | | | | | | > | | | | | | | > \- | | | | | | | > false: | | | | | | | > small | | | | | | | > data | | | | | | | > rate | | | | | | | > control | | | | | | | > is not | | | | | | | > ap | | | | | | | plicable. | | +-----------+-----------+---+-----------+-----------+-----------+ | qosMonit | QosMonit | C | 0..1 | This IE | DTSSA | | oringInfo | oringInfo | | | may be | | | | | | | present | | | | | | | if QoS | | | | | | | m | | | | | | | onitoring | | | | | | | has been | | | | | | | activated | | | | | | | for at | | | | | | | least one | | | | | | | QoS flow | | | | | | | of the | | | | | | | PDU | | | | | | | session | | | | | | | (see the | | | | | | | qosMoni | | | | | | | toringReq | | | | | | | attribute | | | | | | | in | | | | | | | c | | | | | | | lause 6.1 | | | | | | | .6.2.22). | | +-----------+-----------+---+-----------+-----------+-----------+ | epsP | EpsP | C | 0..1 | This IE | | | dnCnxInfo | dnCnxInfo | | | shall be | | | | | | | present | | | | | | | if the | | | | | | | PDU | | | | | | | session | | | | | | | may be | | | | | | | moved to | | | | | | | EPS | | | | | | | during | | | | | | | its | | | | | | | lifetime | | | | | | | and the | | | | | | | EpsInte | | | | | | | rworkingI | | | | | | | ndication | | | | | | | is | | | | | | | changed | | | | | | | to | | | | | | | \"WIT | | | | | | | H_N26\". | | | | | | | | | | | | | | The IE | | | | | | | shall | | | | | | | also be | | | | | | | present | | | | | | | when the | | | | | | | EPS PDN | | | | | | | C | | | | | | | onnection | | | | | | | Context | | | | | | | In | | | | | | | formation | | | | | | | of the | | | | | | | PDU | | | | | | | session | | | | | | | is | | | | | | | changed, | | | | | | | e.g. due | | | | | | | to change | | | | | | | of anchor | | | | | | | SMF. | | +-----------+-----------+---+-----------+-----------+-----------+ | n | boolean | C | 0..1 | This IE | N9FSC | | 9DataForw | | | | shall be | | | ardingInd | | | | present | | | | | | | and set | | | | | | | as | | | | | | | specified | | | | | | | in | | | | | | | clauses | | | | | | | 4.23.9.4 | | | | | | | and | | | | | | | 4.23.9.5 | | | | | | | of | | | | | | | 3G | | | | | | | PP TS 23. | | | | | | | 502 [3] | | | | | | | during | | | | | | | sim | | | | | | | ultaneous | | | | | | | change of | | | | | | | Branching | | | | | | | Points or | | | | | | | UL CLs | | | | | | | c | | | | | | | ontrolled | | | | | | | by I-SMF | | | | | | | or | | | | | | | c | | | | | | | ontrolled | | | | | | | by | | | | | | | different | | | | | | | I-SMFs. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | be set as | | | | | | | follows: | | | | | | | | | | | | | | - true: | | | | | | | setup N9 | | | | | | | f | | | | | | | orwarding | | | | | | | tunnels | | | | | | | between | | | | | | | Branching | | | | | | | Points or | | | | | | | UL CLs; | | | | | | | | | | | | | | - false | | | | | | | ( | | | | | | | default): | | | | | | | N9 | | | | | | | f | | | | | | | orwarding | | | | | | | tunnels | | | | | | | between | | | | | | | Branching | | | | | | | Points or | | | | | | | UL CLs | | | | | | | are not | | | | | | | required | | | | | | | to be | | | | | | | setup | | | | | | | (see | | | | | | | c | | | | | | | lauses 5. | | | | | | | 2.2.8.3.6 | | | | | | | and | | | | | | | 5.2.2 | | | | | | | .8.3.10). | | +-----------+-----------+---+-----------+-----------+-----------+ | n9Inacti | Du | O | 0..1 | When | N9FSC | | vityTimer | rationSec | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | indicate | | | | | | | an | | | | | | | i | | | | | | | nactivity | | | | | | | detection | | | | | | | timer, in | | | | | | | seconds, | | | | | | | that the | | | | | | | I-SMF may | | | | | | | use to | | | | | | | set the | | | | | | | N9 | | | | | | | f | | | | | | | orwarding | | | | | | | tunnel | | | | | | | inactive | | | | | | | traffic | | | | | | | detection | | | | | | | timer in | | | | | | | Branching | | | | | | | Point or | | | | | | | UL CL as | | | | | | | specified | | | | | | | in | | | | | | | clauses | | | | | | | 4.23.9.4 | | | | | | | and | | | | | | | 4.23.9.5 | | | | | | | of | | | | | | | 3GP | | | | | | | P TS 23.5 | | | | | | | 02 [3]. | | +-----------+-----------+---+-----------+-----------+-----------+ | hrsboInfo | HrsboInfo | O | 0..1 | This IE | HR-SBO | | | FromHplmn | | | may be | | | | | | | present | | | | | | | if the | | | | | | | H-SMF and | | | | | | | the V-SMF | | | | | | | supports | | | | | | | the | | | | | | | HR-SBO | | | | | | | feature | | | | | | | and if | | | | | | | the H-SMF | | | | | | | needs to | | | | | | | update | | | | | | | the | | | | | | | HR-SBO | | | | | | | in | | | | | | | formation | | | | | | | towards | | | | | | | the | | | | | | | V-SMF, | | | | | | | e.g. due | | | | | | | to a | | | | | | | change of | | | | | | | the user | | | | | | | sub | | | | | | | scription | | | | | | | data or | | | | | | | policy | | | | | | | inf | | | | | | | ormation. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | include | | | | | | | the | | | | | | | complete | | | | | | | in | | | | | | | formation | | | | | | | for | | | | | | | HR-SBO as | | | | | | | defined | | | | | | | in | | | | | | | clause 6 | | | | | | | .1.6.2.73 | | | | | | | and the | | | | | | | V-SMF | | | | | | | shall | | | | | | | replace | | | | | | | any | | | | | | | earlier | | | | | | | received | | | | | | | HR-SBO | | | | | | | in | | | | | | | formation | | | | | | | by the | | | | | | | new | | | | | | | HR-SBO | | | | | | | inf | | | | | | | ormation. | | +-----------+-----------+---+-----------+-----------+-----------+ | altHp | Snssai | C | 0..1 | This IE | NSRP | | lmnSnssai | | | | shall be | | | | | | | present | | | | | | | for a HR | | | | | | | PDU | | | | | | | session | | | | | | | if the | | | | | | | H-SMF | | | | | | | d | | | | | | | etermines | | | | | | | to retain | | | | | | | the PDU | | | | | | | session | | | | | | | for the | | | | | | | al | | | | | | | ternative | | | | | | | HPLMN | | | | | | | S-NSSAI, | | | | | | | during | | | | | | | network | | | | | | | slice | | | | | | | rep | | | | | | | lacement. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | indicate | | | | | | | the | | | | | | | al | | | | | | | ternative | | | | | | | HPLMN | | | | | | | S-NSSAI | | | | | | | to be | | | | | | | used by | | | | | | | the HR | | | | | | | PDU | | | | | | | session. | | | | | | | | | | | | | | See | | | | | | | claus | | | | | | | e 5.15.19 | | | | | | | of | | | | | | | 3GP | | | | | | | P TS 23.5 | | | | | | | 01 [2]. | | +-----------+-----------+---+-----------+-----------+-----------+ | p | boolean | C | 0..1 | This IE | NSRP | | duSession | | | | shall be | | | RetainInd | | | | present | | | | | | | and set | | | | | | | to true, | | | | | | | if the | | | | | | | H-SMF | | | | | | | d | | | | | | | etermines | | | | | | | to retain | | | | | | | the PDU | | | | | | | session | | | | | | | for the | | | | | | | al | | | | | | | ternative | | | | | | | HPLMN | | | | | | | S-NSSAI | | | | | | | during | | | | | | | network | | | | | | | slice | | | | | | | rep | | | | | | | lacement. | | | | | | | | | | | | | | When | | | | | | | present | | | | | | | with true | | | | | | | value, | | | | | | | this IE | | | | | | | indicates | | | | | | | the PDU | | | | | | | session | | | | | | | is | | | | | | | retained | | | | | | | for the | | | | | | | al | | | | | | | ternative | | | | | | | HPLMN | | | | | | | S-NSSAI. | | | | | | | | | | | | | | Present | | | | | | | with | | | | | | | false | | | | | | | value | | | | | | | shall be | | | | | | | pr | | | | | | | ohibited. | | | | | | | | | | | | | | See | | | | | | | claus | | | | | | | e 4.3.3.3 | | | | | | | of | | | | | | | 3GP | | | | | | | P TS 23.5 | | | | | | | 02 [3]. | | +-----------+-----------+---+-----------+-----------+-----------+ | pen | array( | O | 0..N | When | | | dingUpdat | PendingUp | | | present, | | | eInfoList | dateInfo) | | | this IE | | | | | | | shall | | | | | | | indicate | | | | | | | the | | | | | | | updated | | | | | | | list of | | | | | | | in | | | | | | | formation | | | | | | | that are | | | | | | | not | | | | | | | required | | | | | | | to be | | | | | | | updated | | | | | | | in | | | | | | | real-time | | | | | | | to the | | | | | | | (H-)SMF, | | | | | | | i.e. the | | | | | | | change of | | | | | | | the | | | | | | | listed | | | | | | | in | | | | | | | formation | | | | | | | (e.g. UE | | | | | | | location | | | | | | | or | | | | | | | Timezone) | | | | | | | may be | | | | | | | pi | | | | | | | ggybacked | | | | | | | in a | | | | | | | s | | | | | | | ubsequent | | | | | | | essential | | | | | | | update | | | | | | | (e.g. to | | | | | | | exchange | | | | | | | the N1 | | | | | | | message | | | | | | | from the | | | | | | | UE) to | | | | | | | the | | | | | | | (H-)SMF. | | | | | | | The NF | | | | | | | service | | | | | | | consumer | | | | | | | (i.e. | | | | | | | I-S | | | | | | | MF/V-SMF) | | | | | | | should | | | | | | | not | | | | | | | trigger | | | | | | | an Update | | | | | | | to the | | | | | | | (H-)SMF | | | | | | | including | | | | | | | only the | | | | | | | change(s) | | | | | | | of the | | | | | | | listed | | | | | | | inf | | | | | | | ormation. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | the NF | | | | | | | service | | | | | | | consumer | | | | | | | (i.e. | | | | | | | I-S | | | | | | | MF/V-SMF) | | | | | | | shall | | | | | | | replace | | | | | | | any | | | | | | | pen | | | | | | | dingUpdat | | | | | | | eInfoList | | | | | | | received | | | | | | | earlier | | | | | | | by the | | | | | | | new | | | | | | | in | | | | | | | formation | | | | | | | received | | | | | | | in this | | | | | | | IE. | | +-----------+-----------+---+-----------+-----------+-----------+ | NOTE: | | | | | | | This IE | | | | | | | contains | | | | | | | in | | | | | | | formation | | | | | | | that the | | | | | | | V-SMF | | | | | | | shall | | | | | | | transfer | | | | | | | to the UE | | | | | | | without | | | | | | | interp | | | | | | | retation. | | | | | | | It is | | | | | | | sent as a | | | | | | | separate | | | | | | | IE rather | | | | | | | than | | | | | | | within | | | | | | | the | | | | | | | n1S | | | | | | | mInfoToUE | | | | | | | binary | | | | | | | data | | | | | | | because | | | | | | | the 5GSM | | | | | | | cause IE | | | | | | | is | | | | | | | defined | | | | | | | as a | | | | | | | \"V\" IE | | | | | | | (i.e. | | | | | | | without a | | | | | | | Type | | | | | | | field) in | | | | | | | the NAS | | | | | | | PDU | | | | | | | Session | | | | | | | Release | | | | | | | Command | | | | | | | message. | | | | | | +-----------+-----------+---+-----------+-----------+-----------+
##### 6.1.6.2.16 Type: VsmfUpdatedData
Table 6.1.6.2.16-1: Definition of type VsmfUpdatedData
+-----------+-----------+---+-----------+-----------+-----------+ | Attribute | Data type | P | Ca | De | Appl | | name | | | rdinality | scription | icability | +===========+===========+===+===========+===========+===========+ | qosFlowsA | array(Qos | C | 1..N | This IE | | | ddModList | FlowItem) | | | shall be | | | | | | | present | | | | | | | if QoS | | | | | | | flows | | | | | | | have been | | | | | | | suc | | | | | | | cessfully | | | | | | | es | | | | | | | tablished | | | | | | | or | | | | | | | modified. | | | | | | | For each | | | | | | | GBR QoS | | | | | | | flow, the | | | | | | | V- | | | | | | | SMF/I-SMF | | | | | | | may also | | | | | | | indicate | | | | | | | an | | | | | | | al | | | | | | | ternative | | | | | | | QoS | | | | | | | profile | | | | | | | which the | | | | | | | NG-RAN | | | | | | | currently | | | | | | | fulfils | | | | | | | in the | | | | | | | curr | | | | | | | entQosPro | | | | | | | fileIndex | | | | | | | IE or | | | | | | | indicate | | | | | | | that the | | | | | | | NG-RAN | | | | | | | cannot | | | | | | | even | | | | | | | fulfil | | | | | | | the | | | | | | | lowest | | | | | | | al | | | | | | | ternative | | | | | | | QoS | | | | | | | profile. | | +-----------+-----------+---+-----------+-----------+-----------+ | qosFlo | array(Qos | C | 1..N | This IE | | | wsRelList | FlowItem) | | | shall be | | | | | | | present | | | | | | | if QoS | | | | | | | flows | | | | | | | have been | | | | | | | suc | | | | | | | cessfully | | | | | | | released. | | +-----------+-----------+---+-----------+-----------+-----------+ | qosFlows | array(Qos | C | 1..N | This IE | | | FailedtoA | FlowItem) | | | shall be | | | ddModList | | | | present | | | | | | | if QoS | | | | | | | flows | | | | | | | failed to | | | | | | | be | | | | | | | es | | | | | | | tablished | | | | | | | or | | | | | | | modified. | | +-----------+-----------+---+-----------+-----------+-----------+ | qos | a | O | 1..N | This IE | | | FlowsVsmf | rray(Qfi) | | | may be | | | RejectedA | | | | present | | | ddModList | | | | from | | | | | | | V-SMF to | | | | | | | H-SMF | | | | | | | when the | | | | | | | qosFlows | | | | | | | FailedtoA | | | | | | | ddModList | | | | | | | IE is | | | | | | | present. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | include | | | | | | | the QFIs | | | | | | | of the | | | | | | | QoS flows | | | | | | | failed to | | | | | | | be | | | | | | | es | | | | | | | tablished | | | | | | | or | | | | | | | modified | | | | | | | due to | | | | | | | rejection | | | | | | | by the | | | | | | | V-SMF. | | | | | | | | | | | | | | When the | | | | | | | H-SMF | | | | | | | sub | | | | | | | sequently | | | | | | | send N1 | | | | | | | Message | | | | | | | to the UE | | | | | | | to revert | | | | | | | the | | | | | | | update of | | | | | | | QoS rules | | | | | | | and QoS | | | | | | | Flow | | | | | | | level QoS | | | | | | | p | | | | | | | arameters | | | | | | | a | | | | | | | ssociated | | | | | | | with the | | | | | | | failed | | | | | | | QoS | | | | | | | Flow(s) | | | | | | | indicated | | | | | | | in the | | | | | | | qosFlows | | | | | | | FailedtoA | | | | | | | ddModList | | | | | | | IE, the | | | | | | | H-SMF | | | | | | | should | | | | | | | exclude | | | | | | | the QoS | | | | | | | flow(s) | | | | | | | that were | | | | | | | failed to | | | | | | | be | | | | | | | es | | | | | | | tablished | | | | | | | or | | | | | | | modified | | | | | | | due to | | | | | | | rejection | | | | | | | by the | | | | | | | V-SMF. If | | | | | | | all the | | | | | | | failed | | | | | | | QoS | | | | | | | flow(s) | | | | | | | were due | | | | | | | to | | | | | | | rejection | | | | | | | by the | | | | | | | V-SMF, | | | | | | | the H-SMF | | | | | | | should | | | | | | | skip the | | | | | | | s | | | | | | | ubsequent | | | | | | | N1 | | | | | | | message | | | | | | | update to | | | | | | | the UE. | | +-----------+-----------+---+-----------+-----------+-----------+ | qosFl | array(Qos | C | 1..N | This IE | | | owsFailed | FlowItem) | | | shall be | | | toRelList | | | | present | | | | | | | if QoS | | | | | | | flows | | | | | | | failed to | | | | | | | be | | | | | | | released. | | +-----------+-----------+---+-----------+-----------+-----------+ | n1SmI | RefToB | C | 0..1 | This IE | | | nfoFromUe | inaryData | | | shall be | | | | | | | present | | | | | | | if the | | | | | | | V- | | | | | | | SMF/I-SMF | | | | | | | has | | | | | | | received | | | | | | | known N1 | | | | | | | SM | | | | | | | in | | | | | | | formation | | | | | | | from the | | | | | | | UE that | | | | | | | does not | | | | | | | need to | | | | | | | be | | | | | | | in | | | | | | | terpreted | | | | | | | by the | | | | | | | V-S | | | | | | | MF/I-SMF. | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | reference | | | | | | | the | | | | | | | n1SmI | | | | | | | nfoFromUe | | | | | | | binary | | | | | | | data (see | | | | | | | clause 6. | | | | | | | 1.6.4.4). | | +-----------+-----------+---+-----------+-----------+-----------+ | unknow | RefToB | C | 0..1 | This IE | | | nN1SmInfo | inaryData | | | shall be | | | | | | | present | | | | | | | if the | | | | | | | V- | | | | | | | SMF/I-SMF | | | | | | | has | | | | | | | received | | | | | | | unknown | | | | | | | N1 SM | | | | | | | in | | | | | | | formation | | | | | | | from the | | | | | | | UE. When | | | | | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | reference | | | | | | | the | | | | | | | unknow | | | | | | | nN1SmInfo | | | | | | | binary | | | | | | | data (see | | | | | | | clause 6. | | | | | | | 1.6.4.4). | | +-----------+-----------+---+-----------+-----------+-----------+ | u | Use | C | 0..1 | This IE | | | eLocation | rLocation | | | shall be | | | | | | | present | | | | | | | if it is | | | | | | | available | | | | | | | and QoS | | | | | | | flows | | | | | | | have been | | | | | | | suc | | | | | | | cessfully | | | | | | | est | | | | | | | ablished, | | | | | | | modified | | | | | | | or | | | | | | | released. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | contain | | | | | | | the UE | | | | | | | location | | | | | | | in | | | | | | | formation | | | | | | | (see | | | | | | | clause | | | | | | | 5.2.3.4). | | +-----------+-----------+---+-----------+-----------+-----------+ | u | TimeZone | C | 0..1 | This IE | | | eTimeZone | | | | shall be | | | | | | | present | | | | | | | if it is | | | | | | | available | | | | | | | and QoS | | | | | | | flows | | | | | | | have been | | | | | | | suc | | | | | | | cessfully | | | | | | | est | | | | | | | ablished, | | | | | | | modified | | | | | | | or | | | | | | | released. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | contain | | | | | | | the new | | | | | | | UE Time | | | | | | | Zone. | | +-----------+-----------+---+-----------+-----------+-----------+ | addU | Use | O | 0..1 | A | | | eLocation | rLocation | | | dditional | | | | | | | UE | | | | | | | location. | | | | | | | | | | | | | | This IE | | | | | | | may be | | | | | | | present, | | | | | | | if anType | | | | | | | p | | | | | | | reviously | | | | | | | reported | | | | | | | is a | | | | | | | non-3GPP | | | | | | | access | | | | | | | and a | | | | | | | valid | | | | | | | 3GPP | | | | | | | access | | | | | | | user | | | | | | | location | | | | | | | in | | | | | | | formation | | | | | | | is | | | | | | | a | | | | | | | vailable. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | contain: | | | | | | | | | | | | | | - the | | | | | | | last | | | | | | | known | | | | | | | 3GPP | | | | | | | access | | | | | | | user | | | | | | | location | | | | | | | (see | | | | | | | clause | | | | | | | 5.2.3.4); | | | | | | | and | | | | | | | | | | | | | | - the | | | | | | | t | | | | | | | imestamp, | | | | | | | if | | | | | | | a | | | | | | | vailable, | | | | | | | i | | | | | | | ndicating | | | | | | | the UTC | | | | | | | time when | | | | | | | the | | | | | | | addU | | | | | | | eLocation | | | | | | | in | | | | | | | formation | | | | | | | was | | | | | | | acquired. | | +-----------+-----------+---+-----------+-----------+-----------+ | assign | ar | C | 1..N | This IE | | | edEbiList | ray(EbiAr | | | shall be | | | | pMapping) | | | present | | | | | | | if the | | | | | | | AMF | | | | | | | assigned | | | | | | | the | | | | | | | requested | | | | | | | EBI(s). | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | contain | | | | | | | the EBIs | | | | | | | that were | | | | | | | suc | | | | | | | cessfully | | | | | | | assigned. | | +-----------+-----------+---+-----------+-----------+-----------+ | fai | a | C | 1..N | This IE | | | ledToAssi | rray(Arp) | | | shall be | | | gnEbiList | | | | present | | | | | | | if the | | | | | | | AMF | | | | | | | failed to | | | | | | | assign | | | | | | | EBIs for | | | | | | | a set of | | | | | | | ARPs. | | +-----------+-----------+---+-----------+-----------+-----------+ | releas | array(Eps | C | 1..N | This IE | | | edEbiList | BearerId) | | | shall be | | | | | | | present | | | | | | | if the NF | | | | | | | Service | | | | | | | Consumer | | | | | | | requested | | | | | | | the | | | | | | | revoke | | | | | | | EBI(s) or | | | | | | | if the | | | | | | | AMF | | | | | | | revoked | | | | | | | already | | | | | | | assigned | | | | | | | EBI(s) | | | | | | | for this | | | | | | | PDU | | | | | | | session | | | | | | | towards | | | | | | | the | | | | | | | V-SMF. | | | | | | | This IE | | | | | | | shall | | | | | | | contain | | | | | | | the list | | | | | | | of EBI(s) | | | | | | | released | | | | | | | for this | | | | | | | PDU | | | | | | | session | | | | | | | at the | | | | | | | AMF. | | +-----------+-----------+---+-----------+-----------+-----------+ | secon | arr | O | 1..N | This IE | | | daryRatUs | ay(Second | | | may be | | | ageReport | aryRatUsa | | | present | | | | geReport) | | | to report | | | | | | | usage | | | | | | | data for | | | | | | | a | | | | | | | secondary | | | | | | | RAT for | | | | | | | QoS | | | | | | | flows. | | | | | | | | | | | | | | (NOTE) | | +-----------+-----------+---+-----------+-----------+-----------+ | sec | a | O | 1..N | This IE | | | ondaryRat | rray(Seco | | | may be | | | UsageInfo | ndaryRatU | | | present | | | | sageInfo) | | | to report | | | | | | | usage | | | | | | | data for | | | | | | | a | | | | | | | secondary | | | | | | | RAT for | | | | | | | QoS flows | | | | | | | and/or | | | | | | | the whole | | | | | | | PDU | | | | | | | session. | | +-----------+-----------+---+-----------+-----------+-----------+ | n4Info | N4In | O | 0..1 | This IE | DTSSA | | | formation | | | may be | | | | | | | present | | | | | | | if the | | | | | | | I-SMF | | | | | | | needs to | | | | | | | send N4 | | | | | | | response | | | | | | | in | | | | | | | formation | | | | | | | to the | | | | | | | SMF for | | | | | | | the | | | | | | | control | | | | | | | of | | | | | | | traffic | | | | | | | offloaded | | | | | | | at a | | | | | | | PS | | | | | | | A/BP/ULCL | | | | | | | c | | | | | | | ontrolled | | | | | | | by an | | | | | | | I-SMF. | | +-----------+-----------+---+-----------+-----------+-----------+ | n | N4In | O | 0..1 | This IE | DTSSA | | 4InfoExt1 | formation | | | may be | | | | | | | present | | | | | | | if the | | | | | | | I-SMF | | | | | | | needs to | | | | | | | send | | | | | | | a | | | | | | | dditional | | | | | | | N4 | | | | | | | response | | | | | | | in | | | | | | | formation | | | | | | | to the | | | | | | | SMF for | | | | | | | the | | | | | | | control | | | | | | | of | | | | | | | traffic | | | | | | | offloaded | | | | | | | at a | | | | | | | PS | | | | | | | A/BP/ULCL | | | | | | | c | | | | | | | ontrolled | | | | | | | by an | | | | | | | I-SMF. | | +-----------+-----------+---+-----------+-----------+-----------+ | n | N4In | O | 0..1 | This IE | DTSSA | | 4InfoExt2 | formation | | | may be | | | | | | | present | | | | | | | if the | | | | | | | I-SMF | | | | | | | needs to | | | | | | | send | | | | | | | a | | | | | | | dditional | | | | | | | N4 | | | | | | | response | | | | | | | in | | | | | | | formation | | | | | | | to the | | | | | | | SMF for | | | | | | | the | | | | | | | control | | | | | | | of | | | | | | | traffic | | | | | | | offloaded | | | | | | | at a | | | | | | | PS | | | | | | | A/BP/ULCL | | | | | | | c | | | | | | | ontrolled | | | | | | | by an | | | | | | | I-SMF | | | | | | | (e.g. | | | | | | | during a | | | | | | | change of | | | | | | | PSA). | | +-----------+-----------+---+-----------+-----------+-----------+ | n | N4In | O | 0..1 | This IE | SCPBU | | 4InfoExt3 | formation | | | may be | | | | | | | present | | | | | | | if the | | | | | | | I-SMF | | | | | | | needs to | | | | | | | send | | | | | | | a | | | | | | | dditional | | | | | | | N4 | | | | | | | response | | | | | | | in | | | | | | | formation | | | | | | | to the | | | | | | | SMF for | | | | | | | the | | | | | | | control | | | | | | | of | | | | | | | traffic | | | | | | | offloaded | | | | | | | at a | | | | | | | PS | | | | | | | A/BP/ULCL | | | | | | | c | | | | | | | ontrolled | | | | | | | by an | | | | | | | I-SMF | | | | | | | (e.g. | | | | | | | during | | | | | | | sim | | | | | | | ultaneous | | | | | | | change of | | | | | | | BP/ULCL | | | | | | | and PSA). | | +-----------+-----------+---+-----------+-----------+-----------+ | modifiedE | boolean | C | 0..1 | This IE | | | biListNot | | | | should be | | | Delivered | | | | present | | | | | | | with the | | | | | | | value | | | | | | | true when | | | | | | | the | | | | | | | modifi | | | | | | | edEbiList | | | | | | | IE was | | | | | | | received | | | | | | | in | | | | | | | VsmfU | | | | | | | pdateData | | | | | | | in | | | | | | | request | | | | | | | but | | | | | | | cannot be | | | | | | | updated | | | | | | | to the | | | | | | | AMF, | | | | | | | e.g., | | | | | | | during | | | | | | | (H-)SMF | | | | | | | triggered | | | | | | | PDU | | | | | | | session | | | | | | | mod | | | | | | | ification | | | | | | | procedure | | | | | | | and the | | | | | | | AMF | | | | | | | doesn't | | | | | | | support | | | | | | | the EAEA | | | | | | | feature. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | the IE | | | | | | | shall be | | | | | | | set as | | | | | | | f | | | | | | | ollowing: | | | | | | | | | | | | | | > \- | | | | | | | > true: | | | | | | | > the | | | | | | | > | | | | | | | received | | | | | | | > modifi | | | | | | | edEbiList | | | | | | | > was not | | | | | | | > | | | | | | | delivered | | | | | | | > to the | | | | | | | > AMF. | | | | | | | > | | | | | | | > \- | | | | | | | > false: | | | | | | | > the | | | | | | | > | | | | | | | received | | | | | | | > modifi | | | | | | | edEbiList | | | | | | | > was | | | | | | | > | | | | | | | delivered | | | | | | | > to the | | | | | | | > AMF. | | | | | | | | | | | | | | Absence | | | | | | | of this | | | | | | | IE means | | | | | | | whether | | | | | | | modifi | | | | | | | edEbiList | | | | | | | was | | | | | | | delivered | | | | | | | or not is | | | | | | | unknown. | | +-----------+-----------+---+-----------+-----------+-----------+ | NOTE: An | | | | | | | SMF | | | | | | | complying | | | | | | | with this | | | | | | | version | | | | | | | of the | | | | | | | spec | | | | | | | ification | | | | | | | should | | | | | | | report | | | | | | | secondary | | | | | | | RAT usage | | | | | | | using the | | | | | | | sec | | | | | | | ondaryRat | | | | | | | UsageInfo | | | | | | | attribute | | | | | | | that | | | | | | | replaces | | | | | | | the | | | | | | | secon | | | | | | | daryRatUs | | | | | | | ageReport | | | | | | | a | | | | | | | ttribute. | | | | | | +-----------+-----------+---+-----------+-----------+-----------+
##### 6.1.6.2.17 Type: StatusNotification
Table 6.1.6.2.17-1: Definition of type StatusNotification
+-----------+-----------+---+-----------+-----------+-----------+ | Attribute | Data type | P | Ca | De | Appl | | name | | | rdinality | scription | icability | +===========+===========+===+===========+===========+===========+ | s | S | M | 1 | This IE | | | tatusInfo | tatusInfo | | | shall | | | | | | | contain | | | | | | | status | | | | | | | in | | | | | | | formation | | | | | | | about the | | | | | | | PDU | | | | | | | session. | | +-----------+-----------+---+-----------+-----------+-----------+ | s | S | C | 0..1 | This IE | CIOT | | mallDataR | mallDataR | | | shall be | | | ateStatus | ateStatus | | | present, | | | | | | | if the NF | | | | | | | Service | | | | | | | Consumer | | | | | | | has | | | | | | | indicated | | | | | | | support | | | | | | | of CIoT | | | | | | | and if | | | | | | | the | | | | | | | status is | | | | | | | a | | | | | | | vailable. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | indicate | | | | | | | the | | | | | | | current | | | | | | | small | | | | | | | data rate | | | | | | | control | | | | | | | status | | | | | | | for the | | | | | | | PDU | | | | | | | session. | | +-----------+-----------+---+-----------+-----------+-----------+ | apnR | ApnR | C | 0..1 | This IE | CIOT | | ateStatus | ateStatus | | | shall be | | | | | | | present, | | | | | | | if the NF | | | | | | | Service | | | | | | | Consumer | | | | | | | has | | | | | | | indicated | | | | | | | support | | | | | | | of CIoT | | | | | | | and if | | | | | | | the | | | | | | | status is | | | | | | | a | | | | | | | vailable. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | indicate | | | | | | | the | | | | | | | current | | | | | | | APN rate | | | | | | | control | | | | | | | status | | | | | | | for the | | | | | | | PDN | | | | | | | c | | | | | | | onnection | | | | | | | (APN | | | | | | | rates are | | | | | | | shared by | | | | | | | all PDN | | | | | | | co | | | | | | | nnections | | | | | | | of the UE | | | | | | | to this | | | | | | | APN). | | +-----------+-----------+---+-----------+-----------+-----------+ | targe | Targe | C | 0..1 | This IE | EnEDGE | | tDnaiInfo | tDnaiInfo | | | shall be | | | | | | | present | | | | | | | if the | | | | | | | I-SMF | | | | | | | selection | | | | | | | or | | | | | | | removal | | | | | | | for the | | | | | | | current | | | | | | | PDU | | | | | | | session, | | | | | | | or SMF | | | | | | | selection | | | | | | | during | | | | | | | PDU | | | | | | | Session | | | | | | | re-esta | | | | | | | blishment | | | | | | | for SSC | | | | | | | mode 2/3 | | | | | | | is | | | | | | | needed. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | include | | | | | | | the | | | | | | | target | | | | | | | DNAI | | | | | | | Inf | | | | | | | ormation. | | +-----------+-----------+---+-----------+-----------+-----------+ | oldPduS | Uri | C | 0..1 | This IE | EnEDGE | | essionRef | | | | shall be | | | | | | | present | | | | | | | if | | | | | | | resou | | | | | | | rceStatus | | | | | | | in | | | | | | | s | | | | | | | tatusInfo | | | | | | | is | | | | | | | \"UNC | | | | | | | HANGED\", | | | | | | | the SMF | | | | | | | selection | | | | | | | during | | | | | | | PDU | | | | | | | Session | | | | | | | re-esta | | | | | | | blishment | | | | | | | for SSC | | | | | | | mode 3 is | | | | | | | needed | | | | | | | and the | | | | | | | runtime | | | | | | | coo | | | | | | | rdination | | | | | | | between | | | | | | | old SMF | | | | | | | and AF is | | | | | | | enabled. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | contain | | | | | | | the URI | | | | | | | of the | | | | | | | PDU | | | | | | | session | | | | | | | resource | | | | | | | in the | | | | | | | old SMF. | | | | | | | The URI | | | | | | | shall be | | | | | | | an | | | | | | | absolute | | | | | | | URI, | | | | | | | including | | | | | | | apiRoot | | | | | | | (see | | | | | | | clause 6. | | | | | | | 1.3.6.2). | | +-----------+-----------+---+-----------+-----------+-----------+ | newSmfId | NfI | C | 0..1 | This IE | ES3XX | | | nstanceId | | | may be | | | | | | | present | | | | | | | if the | | | | | | | resou | | | | | | | rceStatus | | | | | | | attribute | | | | | | | in | | | | | | | s | | | | | | | tatusInfo | | | | | | | is set to | | | | | | | \" | | | | | | | UPDATED\" | | | | | | | and the | | | | | | | cause IE | | | | | | | in | | | | | | | s | | | | | | | tatusInfo | | | | | | | is set to | | | | | | | \"CHANG | | | | | | | ED_ANCHO | | | | | | | R_SMF\". | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | include | | | | | | | the NF | | | | | | | instance | | | | | | | i | | | | | | | dentifier | | | | | | | of the | | | | | | | new H-SMF | | | | | | | or SMF | | | | | | | (for a | | | | | | | PDU | | | | | | | session | | | | | | | with an | | | | | | | I-SMF) | | | | | | | handling | | | | | | | the PDU | | | | | | | session, | | | | | | | when it | | | | | | | is | | | | | | | changed | | | | | | | within an | | | | | | | SMF set. | | +-----------+-----------+---+-----------+-----------+-----------+ | epsP | EpsP | C | 0..1 | This IE | ES3XX | | dnCnxInfo | dnCnxInfo | | | shall be | | | | | | | present | | | | | | | when the | | | | | | | EPS PDN | | | | | | | C | | | | | | | onnection | | | | | | | Context | | | | | | | In | | | | | | | formation | | | | | | | of the | | | | | | | PDU | | | | | | | session | | | | | | | is | | | | | | | changed, | | | | | | | e.g. due | | | | | | | to change | | | | | | | of anchor | | | | | | | SMF. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | include | | | | | | | the EPS | | | | | | | PDN | | | | | | | C | | | | | | | onnection | | | | | | | Context | | | | | | | In | | | | | | | formation | | | | | | | of the | | | | | | | PDU | | | | | | | session | | | | | | | on the | | | | | | | new | | | | | | | anchor | | | | | | | SMF. | | +-----------+-----------+---+-----------+-----------+-----------+ | interPl | Uri | C | 0..1 | This IE | | | mnApiRoot | | | | should be | | | | | | | present | | | | | | | if the | | | | | | | in | | | | | | | formation | | | | | | | has | | | | | | | changed | | | | | | | and, | | | | | | | within | | | | | | | the | | | | | | | s | | | | | | | tatusInfo | | | | | | | IE, the | | | | | | | resou | | | | | | | rceStatus | | | | | | | IE is set | | | | | | | to | | | | | | | \" | | | | | | | UPDATED\" | | | | | | | and the | | | | | | | cause IE | | | | | | | set to | | | | | | | \"CHANG | | | | | | | ED_ANCHO | | | | | | | R_SMF\". | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | contain | | | | | | | the | | | | | | | apiRoot | | | | | | | of the | | | | | | | PDU | | | | | | | session | | | | | | | context | | | | | | | to be | | | | | | | used in | | | | | | | i | | | | | | | nter-PLMN | | | | | | | s | | | | | | | ignalling | | | | | | | request | | | | | | | targeting | | | | | | | the PDU | | | | | | | session | | | | | | | context. | | +-----------+-----------+---+-----------+-----------+-----------+ | intraPl | Uri | C | 0..1 | This IE | | | mnApiRoot | | | | should be | | | | | | | present | | | | | | | if the | | | | | | | in | | | | | | | formation | | | | | | | has | | | | | | | changed | | | | | | | and, | | | | | | | within | | | | | | | the | | | | | | | s | | | | | | | tatusInfo | | | | | | | IE, the | | | | | | | resou | | | | | | | rceStatus | | | | | | | IE is set | | | | | | | to | | | | | | | \" | | | | | | | UPDATED\" | | | | | | | and the | | | | | | | cause IE | | | | | | | set to | | | | | | | \"CHANG | | | | | | | ED_ANCHO | | | | | | | R_SMF\". | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | contain | | | | | | | the | | | | | | | apiRoot | | | | | | | of the | | | | | | | PDU | | | | | | | session | | | | | | | context | | | | | | | to be | | | | | | | used in | | | | | | | i | | | | | | | ntra-PLMN | | | | | | | s | | | | | | | ignalling | | | | | | | request | | | | | | | targeting | | | | | | | the PDU | | | | | | | session | | | | | | | context. | | +-----------+-----------+---+-----------+-----------+-----------+
##### 6.1.6.2.18 Type: QosFlowItem
Table 6.1.6.2.18-1: Definition of type QosFlowItem
Attribute name Data type P Cardinality Description
* * *
qfi Qfi M 1 This IE shall contain the QoS Flow Identifier. cause Cause O 0..1
When present, this IE shall contain cause information. currentQosProfileIndex
Integer C 0..1 When present, this IE shall indicate the index of the currently
fulfilled alternative QoS profile. This IE shall not be present if the
nullQoSProfileIndex IE is present. nullQoSProfileIndex boolean C 0..1 This IE
shall be present and set to \"true\" if the NG-RAN cannot even fulfil the
lowest alternative QoS profile. This IE shall not be present if the
currentQosProfileIndex IE is present. ngApCause NgApCause C 0..1 The V-SMF or
I-SMF shall include this IE if it is available and, for a HR PDU session, if
this information is permitted to be sent to the H-SMF operator according to
the V-SMF operator\'s policy. When present, this IE shall indicate the NGAP
cause for the requested QoS Flow setup or modification failure.
##### 6.1.6.2.19 Type: QosFlowSetupItem
Table 6.1.6.2.19-1: Definition of type QosFlowSetupItem
+-----------+-----------+---+-----------+-----------+-----------+ | Attribute | Data type | P | Ca | De | Appl | | name | | | rdinality | scription | icability | +===========+===========+===+===========+===========+===========+ | qfi | Qfi | M | 1 | This IE | | | | | | | shall | | | | | | | contain | | | | | | | the QoS | | | | | | | Flow | | | | | | | Id | | | | | | | entifier. | | +-----------+-----------+---+-----------+-----------+-----------+ | qosRules | Bytes | M | 1 | This IE | | | | | | | shall | | | | | | | contain | | | | | | | the QoS | | | | | | | Rule(s) | | | | | | | a | | | | | | | ssociated | | | | | | | to the | | | | | | | QoS flow | | | | | | | to be | | | | | | | sent to | | | | | | | the UE. | | | | | | | It shall | | | | | | | be | | | | | | | encoded | | | | | | | as the | | | | | | | Qos rules | | | | | | | IE | | | | | | | specified | | | | | | | in | | | | | | | clause | | | | | | | 9.11.4.13 | | | | | | | of | | | | | | | 3G | | | | | | | PP TS 24. | | | | | | | 501 [7] | | | | | | | (starting | | | | | | | from | | | | | | | octet 4). | | +-----------+-----------+---+-----------+-----------+-----------+ | ebi | Ep | C | 0..1 | This IE | | | | sBearerId | | | shall be | | | | | | | included | | | | | | | when an | | | | | | | EPS | | | | | | | Bearer ID | | | | | | | is | | | | | | | allocated | | | | | | | for the | | | | | | | QoS Flow | | | | | | | for | | | | | | | int | | | | | | | erworking | | | | | | | with EPS. | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | contain | | | | | | | the | | | | | | | allocated | | | | | | | EPS | | | | | | | Bearer | | | | | | | ID. | | +-----------+-----------+---+-----------+-----------+-----------+ | qosFlowDe | Bytes | O | 0..1 | When | | | scription | | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | contain | | | | | | | the | | | | | | | de | | | | | | | scription | | | | | | | of the | | | | | | | QoS Flow | | | | | | | level Qos | | | | | | | p | | | | | | | arameters | | | | | | | to be | | | | | | | sent to | | | | | | | the UE. | | | | | | | It shall | | | | | | | be | | | | | | | encoded | | | | | | | as the | | | | | | | Qos flow | | | | | | | des | | | | | | | criptions | | | | | | | IE | | | | | | | specified | | | | | | | in | | | | | | | clause | | | | | | | 9.11.4.12 | | | | | | | of | | | | | | | 3G | | | | | | | PP TS 24. | | | | | | | 501 [7] | | | | | | | (starting | | | | | | | from | | | | | | | octet 1), | | | | | | | encoding | | | | | | | one | | | | | | | single | | | | | | | Qos flow | | | | | | | de | | | | | | | scription | | | | | | | for the | | | | | | | QoS flow | | | | | | | to be set | | | | | | | up. | | +-----------+-----------+---+-----------+-----------+-----------+ | qosFl | QosFl | O | 0..1 | When | | | owProfile | owProfile | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | contain | | | | | | | the | | | | | | | de | | | | | | | scription | | | | | | | of the | | | | | | | QoS Flow | | | | | | | level Qos | | | | | | | pa | | | | | | | rameters. | | +-----------+-----------+---+-----------+-----------+-----------+ | associa | QosFlowA | O | 0..1 | This IE | MAPDU | | tedAnType | ccessType | | | may be | | | | | | | present | | | | | | | if the | | | | | | | QoS Flow | | | | | | | belongs | | | | | | | to MA PDU | | | | | | | session. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | contain | | | | | | | the | | | | | | | indicated | | | | | | | access | | | | | | | type | | | | | | | a | | | | | | | ssociated | | | | | | | with the | | | | | | | QoS Flow. | | +-----------+-----------+---+-----------+-----------+-----------+ | defaultQ | boolean | C | 0..1 | This IE | | | osRuleInd | | | | shall be | | | | | | | present | | | | | | | if | | | | | | | a | | | | | | | vailable. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | be set as | | | | | | | follows: | | | | | | | | | | | | | | > \- | | | | | | | > true: | | | | | | | > QoS | | | | | | | > Flow is | | | | | | | > a | | | | | | | ssociated | | | | | | | > with | | | | | | | > the | | | | | | | > default | | | | | | | > QoS | | | | | | | > Rule. | | | | | | | > | | | | | | | > \- | | | | | | | > false: | | | | | | | > QoS | | | | | | | > Flow is | | | | | | | > not | | | | | | | > a | | | | | | | ssociated | | | | | | | > with | | | | | | | > the | | | | | | | > default | | | | | | | > QoS | | | | | | | > Rule. | | | | | | | | | | | | | | (NOTE) | | +-----------+-----------+---+-----------+-----------+-----------+ | NOTE: | | | | | | | Anchor | | | | | | | SMF | | | | | | | implem | | | | | | | entations | | | | | | | complying | | | | | | | with | | | | | | | earlier | | | | | | | versions | | | | | | | of the | | | | | | | spec | | | | | | | ification | | | | | | | may not | | | | | | | support | | | | | | | setting | | | | | | | this | | | | | | | In | | | | | | | dication. | | | | | | | If the | | | | | | | attribute | | | | | | | is | | | | | | | absent, | | | | | | | the I-SMF | | | | | | | or V-SMF | | | | | | | can | | | | | | | determine | | | | | | | whether | | | | | | | the QoS | | | | | | | Rule is | | | | | | | the | | | | | | | default | | | | | | | QoS Rule | | | | | | | by | | | | | | | decoding | | | | | | | the | | | | | | | available | | | | | | | qosRules | | | | | | | IE. The | | | | | | | absence | | | | | | | of the | | | | | | | attribute | | | | | | | shall not | | | | | | | be | | | | | | | in | | | | | | | terpreted | | | | | | | as | | | | | | | meaning | | | | | | | that the | | | | | | | QoS flow | | | | | | | is not | | | | | | | a | | | | | | | ssociated | | | | | | | with the | | | | | | | default | | | | | | | QoS Rule. | | | | | | +-----------+-----------+---+-----------+-----------+-----------+
##### 6.1.6.2.20 Type: QosFlowAddModifyRequestItem
Table 6.1.6.2.20-1: Definition of type QosFlowAddModifyRequestItem
+-----------+-----------+---+-----------+-----------+-----------+ | Attribute | Data type | P | Ca | De | Appl | | name | | | rdinality | scription | icability | +===========+===========+===+===========+===========+===========+ | qfi | Qfi | M | 1 | This IE | | | | | | | shall | | | | | | | contain | | | | | | | the QoS | | | | | | | Flow | | | | | | | Id | | | | | | | entifier. | | +-----------+-----------+---+-----------+-----------+-----------+ | ebi | Ep | C | 0..1 | This IE | | | | sBearerId | | | shall be | | | | | | | included | | | | | | | when the | | | | | | | EPS | | | | | | | Bearer ID | | | | | | | a | | | | | | | ssociated | | | | | | | with a | | | | | | | QoS Flow | | | | | | | is | | | | | | | modified. | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | contain | | | | | | | the EPS | | | | | | | Bearer | | | | | | | ID. | | +-----------+-----------+---+-----------+-----------+-----------+ | qosRules | Bytes | O | 0..1 | When | | | | | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | contain | | | | | | | the QoS | | | | | | | Rule(s) | | | | | | | to be | | | | | | | sent to | | | | | | | the UE. | | | | | | | It shall | | | | | | | be | | | | | | | encoded | | | | | | | as the | | | | | | | Qos rules | | | | | | | IE | | | | | | | specified | | | | | | | in | | | | | | | clause | | | | | | | 9.11.4.13 | | | | | | | of | | | | | | | 3G | | | | | | | PP TS 24. | | | | | | | 501 [7] | | | | | | | (starting | | | | | | | from | | | | | | | octet 4). | | +-----------+-----------+---+-----------+-----------+-----------+ | qosFlowDe | Bytes | O | 0..1 | When | | | scription | | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | contain | | | | | | | the | | | | | | | de | | | | | | | scription | | | | | | | of the | | | | | | | QoS Flow | | | | | | | level Qos | | | | | | | p | | | | | | | arameters | | | | | | | to be | | | | | | | sent to | | | | | | | the UE. | | | | | | | It shall | | | | | | | be | | | | | | | encoded | | | | | | | as the | | | | | | | Qos flow | | | | | | | des | | | | | | | criptions | | | | | | | IE | | | | | | | specified | | | | | | | in | | | | | | | clause | | | | | | | 9.11.4.12 | | | | | | | of | | | | | | | 3G | | | | | | | PP TS 24. | | | | | | | 501 [7] | | | | | | | (starting | | | | | | | from | | | | | | | octet 1), | | | | | | | encoding | | | | | | | one | | | | | | | single | | | | | | | Qos flow | | | | | | | de | | | | | | | scription | | | | | | | for the | | | | | | | QoS flow | | | | | | | to be | | | | | | | added or | | | | | | | modified. | | +-----------+-----------+---+-----------+-----------+-----------+ | qosFl | QosFl | O | 0..1 | When | | | owProfile | owProfile | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | contain | | | | | | | the | | | | | | | de | | | | | | | scription | | | | | | | of the | | | | | | | QoS Flow | | | | | | | level QoS | | | | | | | pa | | | | | | | rameters. | | | | | | | | | | | | | | When | | | | | | | modifying | | | | | | | a QoS | | | | | | | flow, the | | | | | | | IE shall | | | | | | | only | | | | | | | contain | | | | | | | the QoS | | | | | | | Flow | | | | | | | p | | | | | | | rofile\'s | | | | | | | a | | | | | | | ttributes | | | | | | | which are | | | | | | | modified. | | +-----------+-----------+---+-----------+-----------+-----------+ | associa | QosFlowA | O | 0..1 | This IE | MAPDU | | tedAnType | ccessType | | | may be | | | | | | | present | | | | | | | if the | | | | | | | QoS Flow | | | | | | | belongs | | | | | | | to MA PDU | | | | | | | session. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | contain | | | | | | | the | | | | | | | indicated | | | | | | | access | | | | | | | type | | | | | | | a | | | | | | | ssociated | | | | | | | with the | | | | | | | QoS Flow. | | +-----------+-----------+---+-----------+-----------+-----------+
##### 6.1.6.2.21 Type: QosFlowReleaseRequestItem
Table 6.1.6.2.21-1: Definition of type QosFlowReleaseRequestItem
Attribute name Data type P Cardinality Description
* * *
qfi Qfi M 1 This IE shall contain the QoS Flow Identifier. qosRules Bytes O
0..1 When present, this IE shall contain the QoS Rule(s) to be sent to the UE.
It shall be encoded as the Qos rules IE specified in clause 9.11.4.13 of 3GPP
TS 24.501 [7] (starting from octet 4). qosFlowDescription Bytes O 0..1 When
present, this IE shall contain the description of the QoS Flow level Qos
parameters to be sent to the UE. It shall be encoded as the Qos flow
descriptions IE specified in clause 9.11.4.12 of 3GPP TS 24.501 [7] (starting
from octet 1), encoding one single Qos flow description for the QoS flow to be
released.
##### 6.1.6.2.22 Type: QosFlowProfile
Table 6.1.6.2.22-1: Definition of type QosFlowProfile
+---------------+---------------+---+-------------+---------------+ | Attribute | Data type | P | Cardinality | Description | | name | | | | | +===============+===============+===+=============+===============+ | 5qi | 5Qi | M | 1 | This IE shall | | | | | | contain the | | | | | | 5G QoS | | | | | | Identifier | | | | | | (5QI) of the | | | | | | QoS flow. | +---------------+---------------+---+-------------+---------------+ | nonDynamic5Qi | NonDynamic5Qi | C | 0..1 | When present, | | | | | | this IE shall | | | | | | indicate the | | | | | | QoS | | | | | | Ch | | | | | | aracteristics | | | | | | for a | | | | | | standardized | | | | | | or | | | | | | p | | | | | | re-configured | | | | | | 5QI for | | | | | | downlink and | | | | | | uplink. | | | | | | | | | | | | See NOTE 1. | +---------------+---------------+---+-------------+---------------+ | dynamic5Qi | Dynamic5Qi | C | 0..1 | When present, | | | | | | this IE shall | | | | | | indicate the | | | | | | QoS | | | | | | Ch | | | | | | aracteristics | | | | | | for a | | | | | | Non | | | | | | -standardised | | | | | | or not | | | | | | p | | | | | | re-configured | | | | | | 5QI for | | | | | | downlink and | | | | | | uplink. | | | | | | | | | | | | See NOTE 1. | +---------------+---------------+---+-------------+---------------+ | arp | Arp | C | 0..1 | This IE shall | | | | | | be present | | | | | | when | | | | | | establishing | | | | | | a QoS flow; | | | | | | it may be | | | | | | present when | | | | | | modifying a | | | | | | QoS flow. | | | | | | | | | | | | When present, | | | | | | this IE shall | | | | | | contain the | | | | | | Allocation | | | | | | and Retention | | | | | | Priority | | | | | | (ARP) | | | | | | assigned to | | | | | | the QoS flow. | +---------------+---------------+---+-------------+---------------+ | g | GbrQosFl | C | 0..1 | This IE shall | | brQosFlowInfo | owInformation | | | be present | | | | | | when | | | | | | establishing | | | | | | a GBR QoS | | | | | | flow or if | | | | | | the GBR QoS | | | | | | flow | | | | | | information | | | | | | is modified. | +---------------+---------------+---+-------------+---------------+ | rqa | Reflectiv | O | 0..1 | This IE may | | | eQoSAttribute | | | be present | | | | | | for a non-GBR | | | | | | QoS flow and | | | | | | it shall be | | | | | | ignored | | | | | | otherwise. | | | | | | When present, | | | | | | it shall | | | | | | indicate | | | | | | whether | | | | | | certain | | | | | | traffic on | | | | | | this QoS flow | | | | | | may be | | | | | | subject to | | | | | | Reflective | | | | | | QoS. | +---------------+---------------+---+-------------+---------------+ | addition | Addition | O | 0..1 | This IE may | | alQosFlowInfo | alQosFlowInfo | | | be present | | | | | | for a non-GBR | | | | | | QoS flow. | | | | | | When present, | | | | | | this IE | | | | | | indicates | | | | | | that traffic | | | | | | for this QoS | | | | | | flow is | | | | | | likely to | | | | | | appear more | | | | | | often than | | | | | | traffic for | | | | | | other flows | | | | | | established | | | | | | for the PDU | | | | | | session. See | | | | | | cl | | | | | | ause 9.3.1.12 | | | | | | of | | | | | | 3GPP TS | | | | | | 38.413 [9]. | +---------------+---------------+---+-------------+---------------+ | qos | Qos | O | 0..1 | This IE may | | MonitoringReq | MonitoringReq | | | be present to | | | | | | indicate the | | | | | | measurement | | | | | | of UL, or DL, | | | | | | or both UL/DL | | | | | | delays for | | | | | | the | | | | | | associated | | | | | | QoS flow. | | | | | | This IE may | | | | | | also be used | | | | | | to indicate | | | | | | the stop of | | | | | | corresponding | | | | | | measurement, | | | | | | by setting | | | | | | the value to | | | | | | \"NONE\". See | | | | | | cl | | | | | | ause 9.3.1.12 | | | | | | of | | | | | | 3GPP TS | | | | | | 38.413 [9]. | +---------------+---------------+---+-------------+---------------+ | qosRepPeriod | DurationSec | O | 0..1 | This IE | | | | | | should be | | | | | | present if | | | | | | QoS | | | | | | monitoring is | | | | | | required. | | | | | | | | | | | | When present, | | | | | | this IE shall | | | | | | indicate the | | | | | | reporting | | | | | | period. See | | | | | | cl | | | | | | ause 4.23.5.3 | | | | | | of | | | | | | 3GPP TS | | | | | | 23.502 [3]. | +---------------+---------------+---+-------------+---------------+ | NOTE 1: | | | | | | Either the | | | | | | nonDynamic5Qi | | | | | | IE or the | | | | | | dynamic5Qi IE | | | | | | may be | | | | | | present when | | | | | | establishing | | | | | | a QoS flow. | | | | | | Either the | | | | | | nonDynamic5Qi | | | | | | IE or the | | | | | | dynamic5Qi IE | | | | | | may be | | | | | | present when | | | | | | modifying a | | | | | | QoS flow; | | | | | | when present, | | | | | | the received | | | | | | nonDynamic5Qi | | | | | | IE or | | | | | | dynamic5Qi IE | | | | | | shall replace | | | | | | any value | | | | | | received | | | | | | previously | | | | | | for this IE. | | | | | +---------------+---------------+---+-------------+---------------+
##### 6.1.6.2.23 Type: GbrQosFlowInformation
Table 6.1.6.2.23-1: Definition of type GbrQosFlowInformation
Attribute name Data type P Cardinality Description
* * *
maxFbrDl BitRate M 1 This IE shall contain the Maximum Bit Rate in Downlink.
See 3GPP TS 23.501 [2]. maxFbrUl BitRate M 1 This IE shall contain the Maximum
Bit Rate in Uplink. See 3GPP TS 23.501 [2]. guaFbrDl BitRate M 1 This IE shall
contain the Guaranteed Bit Rate in Downlink. See 3GPP TS 23.501 [2]. guaFbrUl
BitRate M 1 This IE shall contain the Guaranteed Bit Rate in Uplink. See 3GPP
TS 23.501 [2]. notifControl NotificationControl O 0..1 When present, this IE
shall indicate whether notifications are requested from the RAN when the GFBR
can no longer (or again) be fulfilled for a QoS flow during the lifetime of
the QoS flow. See 3GPP TS 23.501 [2]. maxPacketLossRateDl PacketLossRate O
0..1 When present, this IE shall indicate the maximum rate for lost packets
that can be tolerated in the downlink direction. See 3GPP TS 23.501 [2].
maxPacketLossRateUl PacketLossRate O 0..1 When present, this IE shall indicate
the maximum rate for lost packets that can be tolerated in the Uplink
direction. See 3GPP TS 23.501 [2]. alternativeQosProfileList
array(AlternativeQosProfile) O 0..N When present, this IE shall indicate
alternative QoS profiles for the QoS flow. An empty array shall be interpreted
as a request to delete any list of alternative QoS profiles associated with
this QoS flow.
##### 6.1.6.2.24 Type: QosFlowNotifyItem
Table 6.1.6.2.24-1: Definition of type QosFlowNotifyItem
Attribute name Data type P Cardinality Description
* * *
qfi Qfi M 1 This IE shall contain the QoS Flow Identifier. notificationCause
NotificationCause M 1  
currentQosProfileIndex Integer C 0..1 When present, this IE shall indicate the
index of the currently fulfilled alternative QoS profile. This IE shall not be
present if the nullQoSProfileIndex IE is present. nullQoSProfileIndex boolean
C 0..1 This IE shall be present and set to \"true\" if the NG-RAN cannot even
fulfil the lowest alternative QoS profile. This IE shall not be present if the
currentQosProfileIndex IE is present.
##### 6.1.6.2.25 Type: Void
##### 6.1.6.2.26 Type: Void
##### 6.1.6.2.27 Type: SmContextRetrievedData
Table 6.1.6.2.27-1: Definition of type SmContextRetrievedData
+-----------+-----------+---+-----------+-----------+-----------+ | Attribute | Data type | P | Ca | De | Appl | | name | | | rdinality | scription | icability | +===========+===========+===+===========+===========+===========+ | ueEpsPdnC | EpsPdnCnx | M | 1 | This IE | | | onnection | Container | | | shall | | | | | | | contain | | | | | | | an | | | | | | | MME/SGSN | | | | | | | UE EPS | | | | | | | PDN | | | | | | | C | | | | | | | onnection | | | | | | | including | | | | | | | the | | | | | | | mapped | | | | | | | EPS | | | | | | | bearer | | | | | | | co | | | | | | | ntext(s), | | | | | | | if the SM | | | | | | | context | | | | | | | type was | | | | | | | not | | | | | | | present | | | | | | | in the | | | | | | | request | | | | | | | or if it | | | | | | | was | | | | | | | present | | | | | | | and | | | | | | | indicated | | | | | | | a request | | | | | | | to | | | | | | | retrieve | | | | | | | the UE | | | | | | | EPS PDN | | | | | | | Co | | | | | | | nnection. | | | | | | | | | | | | | | This IE | | | | | | | shall be | | | | | | | set to an | | | | | | | empty | | | | | | | string if | | | | | | | the SM | | | | | | | context | | | | | | | type was | | | | | | | present | | | | | | | in the | | | | | | | request | | | | | | | and | | | | | | | indicated | | | | | | | a request | | | | | | | to | | | | | | | retrieve | | | | | | | the | | | | | | | complete | | | | | | | SM | | | | | | | context | | | | | | | or the AF | | | | | | | Coo | | | | | | | rdination | | | | | | | Inf | | | | | | | ormation. | | +-----------+-----------+---+-----------+-----------+-----------+ | smContext | SmContext | C | 0..1 | This IE | DTSSA | | | | | | shall be | | | | | | | present | | | | | | | if the SM | | | | | | | context | | | | | | | type was | | | | | | | present | | | | | | | in the | | | | | | | request | | | | | | | and | | | | | | | indicated | | | | | | | a request | | | | | | | to | | | | | | | retrieve | | | | | | | the | | | | | | | complete | | | | | | | SM | | | | | | | context. | | +-----------+-----------+---+-----------+-----------+-----------+ | s | S | C | 0..1 | This IE | CIOT | | mallDataR | mallDataR | | | shall be | | | ateStatus | ateStatus | | | present | | | | | | | during | | | | | | | N26 based | | | | | | | Int | | | | | | | erworking | | | | | | | Pr | | | | | | | ocedures, | | | | | | | if in the | | | | | | | request | | | | | | | the | | | | | | | smCo | | | | | | | ntextType | | | | | | | is set to | | | | | | | \"EPS\ | | | | | | | _PDN_CON | | | | | | | NECTION\" | | | | | | | and if | | | | | | | the | | | | | | | status is | | | | | | | available | | | | | | | (see | | | | | | | clauses | | | | | | | 4.11.1.1 | | | | | | | and | | | | | | | 4 | | | | | | | .11.1.3.2 | | | | | | | in | | | | | | | 3GPP | | | | | | | TS 23.50 | | | | | | | 2 [3]). | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | indicate | | | | | | | the small | | | | | | | data rate | | | | | | | control | | | | | | | status | | | | | | | for the | | | | | | | PDU | | | | | | | session. | | +-----------+-----------+---+-----------+-----------+-----------+ | apnR | ApnR | C | 0..1 | This IE | CIOT | | ateStatus | ateStatus | | | shall be | | | | | | | present | | | | | | | during | | | | | | | N26 based | | | | | | | Int | | | | | | | erworking | | | | | | | Pr | | | | | | | ocedures, | | | | | | | if in the | | | | | | | request | | | | | | | the | | | | | | | smCo | | | | | | | ntextType | | | | | | | is set to | | | | | | | \"EPS\ | | | | | | | _PDN_CON | | | | | | | NECTION\" | | | | | | | and if | | | | | | | the | | | | | | | status is | | | | | | | available | | | | | | | (see | | | | | | | clauses | | | | | | | 4.11.1.1 | | | | | | | and | | | | | | | 4 | | | | | | | .11.1.3.2 | | | | | | | in | | | | | | | 3GPP | | | | | | | TS 23.50 | | | | | | | 2 [3]). | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | indicate | | | | | | | the APN | | | | | | | rate | | | | | | | control | | | | | | | status | | | | | | | for the | | | | | | | PDN | | | | | | | c | | | | | | | onnection | | | | | | | (APN | | | | | | | rates are | | | | | | | shared by | | | | | | | all PDN | | | | | | | co | | | | | | | nnections | | | | | | | of the UE | | | | | | | to this | | | | | | | APN). | | +-----------+-----------+---+-----------+-----------+-----------+ | dlDataW | boolean | C | 0..1 | This IE | CIOT | | aitingInd | | | | shall be | | | | | | | present, | | | | | | | if the SM | | | | | | | context | | | | | | | type was | | | | | | | not | | | | | | | present | | | | | | | in the | | | | | | | request | | | | | | | or if it | | | | | | | was | | | | | | | present | | | | | | | and | | | | | | | indicated | | | | | | | a request | | | | | | | to | | | | | | | retrieve | | | | | | | the UE | | | | | | | EPS PDN | | | | | | | Co | | | | | | | nnection, | | | | | | | and if | | | | | | | downlink | | | | | | | data | | | | | | | buffered | | | | | | | in the | | | | | | | SMF/UPF | | | | | | | needs to | | | | | | | be | | | | | | | forwarded | | | | | | | to EPS | | | | | | | (see | | | | | | | clause 4. | | | | | | | 11.1.3.2A | | | | | | | of | | | | | | | 3GPP | | | | | | | TS 23.50 | | | | | | | 2 [3]). | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | be set as | | | | | | | follows: | | | | | | | | | | | | | | - true: | | | | | | | DL data | | | | | | | needs to | | | | | | | be sent | | | | | | | to the | | | | | | | UE; | | | | | | | | | | | | | | - false | | | | | | | ( | | | | | | | default): | | | | | | | no DL | | | | | | | data | | | | | | | needs to | | | | | | | be sent | | | | | | | to the | | | | | | | UE. | | +-----------+-----------+---+-----------+-----------+-----------+ | afCoordin | AfCoordin | C | 0..1 | This IE | EnEDGE | | ationInfo | ationInfo | | | shall be | | | | | | | present | | | | | | | if the SM | | | | | | | context | | | | | | | type was | | | | | | | present | | | | | | | in the | | | | | | | request | | | | | | | and | | | | | | | indicated | | | | | | | a request | | | | | | | to | | | | | | | retrieve | | | | | | | the AF | | | | | | | Coo | | | | | | | rdination | | | | | | | Inf | | | | | | | ormation. | | +-----------+-----------+---+-----------+-----------+-----------+
##### 6.1.6.2.28 Type: TunnelInfo
Table 6.1.6.2.28-1: Definition of type TunnelInfo
+-----------+-----------+---+-----------+-----------+-----------+ | Attribute | Data type | P | Ca | De | Appl | | name | | | rdinality | scription | icability | +===========+===========+===+===========+===========+===========+ | ipv4Addr | Ipv4Addr | C | 0..1 | When | | | | | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | contain | | | | | | | the GTP | | | | | | | tunnel | | | | | | | IPv4 | | | | | | | address. | | | | | | | | | | | | | | At least | | | | | | | one of | | | | | | | the | | | | | | | ipv4Addr | | | | | | | or | | | | | | | ipv6Addr | | | | | | | shall be | | | | | | | present. | | | | | | | Both may | | | | | | | be | | | | | | | present. | | +-----------+-----------+---+-----------+-----------+-----------+ | ipv6Addr | Ipv6Addr | C | 0..1 | When | | | | | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | contain | | | | | | | the GTP | | | | | | | tunnel | | | | | | | IPv6 | | | | | | | address. | | | | | | | | | | | | | | At least | | | | | | | one of | | | | | | | the | | | | | | | ipv4Addr | | | | | | | or | | | | | | | ipv6Addr | | | | | | | shall be | | | | | | | present. | | | | | | | Both may | | | | | | | be | | | | | | | present. | | +-----------+-----------+---+-----------+-----------+-----------+ | gtpTeid | Teid | M | 1 | This IE | | | | | | | shall | | | | | | | contain | | | | | | | the | | | | | | | 4-octet | | | | | | | GTP | | | | | | | tunnel | | | | | | | endpoint | | | | | | | id | | | | | | | entifier. | | | | | | | | | | | | | | If both | | | | | | | ipv4Addr | | | | | | | and | | | | | | | ipv6Addr | | | | | | | are | | | | | | | present, | | | | | | | the TEID | | | | | | | shall be | | | | | | | shared by | | | | | | | both | | | | | | | a | | | | | | | ddresses. | | +-----------+-----------+---+-----------+-----------+-----------+ | anType | A | C | 0..1 | This IE | MAPDU | | | ccessType | | | shall be | | | | | | | present | | | | | | | over | | | | | | | N16a/N16 | | | | | | | in MA PDU | | | | | | | session | | | | | | | s | | | | | | | cenarios, | | | | | | | to | | | | | | | indicate | | | | | | | the | | | | | | | access | | | | | | | type | | | | | | | a | | | | | | | ssociated | | | | | | | to the N9 | | | | | | | tunnel. | | +-----------+-----------+---+-----------+-----------+-----------+
##### 6.1.6.2.29 Type: StatusInfo
Table 6.1.6.2.29-1: Definition of type StatusInfo
+-----------+-----------+---+-----------+-----------+-----------+ | Attribute | Data type | P | Ca | De | Appl | | name | | | rdinality | scription | icability | +===========+===========+===+===========+===========+===========+ | resou | Resou | M | 1 | This IE | | | rceStatus | rceStatus | | | shall | | | | | | | indicate | | | | | | | the | | | | | | | status of | | | | | | | the SM | | | | | | | context | | | | | | | or PDU | | | | | | | session | | | | | | | resource. | | +-----------+-----------+---+-----------+-----------+-----------+ | cause | Cause | O | 0..1 | When | | | | | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | indicate | | | | | | | the cause | | | | | | | for the | | | | | | | resource | | | | | | | status | | | | | | | change. | | +-----------+-----------+---+-----------+-----------+-----------+ | re | boolean | O | 0..1 | This IE | | | moteError | | | | may be | | | | | | | present | | | | | | | in the SM | | | | | | | context | | | | | | | Status | | | | | | | Not | | | | | | | ification | | | | | | | sent from | | | | | | | the V-SMF | | | | | | | or I-SMF | | | | | | | to the | | | | | | | AMF. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | indicate | | | | | | | whether | | | | | | | the cause | | | | | | | indicated | | | | | | | in the | | | | | | | cause | | | | | | | IE is | | | | | | | o | | | | | | | riginated | | | | | | | by the | | | | | | | remote | | | | | | | entity or | | | | | | | by the | | | | | | | entity | | | | | | | sending | | | | | | | the | | | | | | | message, | | | | | | | as | | | | | | | follows: | | | | | | | | | | | | | | - true: | | | | | | | the error | | | | | | | is | | | | | | | o | | | | | | | riginated | | | | | | | by the | | | | | | | remote | | | | | | | entity | | | | | | | (i.e. | | | | | | | H-SMF or | | | | | | | SMF for a | | | | | | | PDU | | | | | | | session | | | | | | | with an | | | | | | | I-SMF). | | | | | | | | | | | | | | - false: | | | | | | | the error | | | | | | | is | | | | | | | o | | | | | | | riginated | | | | | | | by the | | | | | | | entity | | | | | | | sending | | | | | | | the | | | | | | | message | | | | | | | (i.e. | | | | | | | V-SM | | | | | | | F/I-SMF). | | | | | | | | | | | | | | This IE | | | | | | | shall be | | | | | | | present | | | | | | | and set | | | | | | | to true | | | | | | | for a HR | | | | | | | PDU | | | | | | | se | | | | | | | ssion, or | | | | | | | for a PDU | | | | | | | session | | | | | | | with an | | | | | | | I-SMF, | | | | | | | when | | | | | | | the cause | | | | | | | indicated | | | | | | | in the | | | | | | | cause IE | | | | | | | is | | | | | | | o | | | | | | | riginated | | | | | | | by the | | | | | | | remote | | | | | | | entity. | | +-----------+-----------+---+-----------+-----------+-----------+ | cnAssist | CnAssist | C | 0..1 | This | CARPT | | edRanPara | edRanPara | | | attribute | | | | | | | shall be | | | | | | | present | | | | | | | when the | | | | | | | cause | | | | | | | value is | | | | | | | \"CN\ | | | | | | | _ASSISTED | | | | | | | _RAN_PA | | | | | | | RAMETER_ | | | | | | | TUNING\". | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | include | | | | | | | the SMF | | | | | | | derived | | | | | | | CN | | | | | | | assisted | | | | | | | RAN | | | | | | | p | | | | | | | arameters | | | | | | | tuning. | | +-----------+-----------+---+-----------+-----------+-----------+ | anType | A | C | 0..1 | This IE | HOFAIL | | | ccessType | | | shall | | | | | | | indicate | | | | | | | the | | | | | | | access | | | | | | | type of | | | | | | | PDU | | | | | | | session. | | +-----------+-----------+---+-----------+-----------+-----------+
##### 6.1.6.2.30 Type: VsmfUpdateError
Table 6.1.6.2.30-1: Definition of type VsmfUpdateError
+-----------+-----------+---+-----------+-----------+-----------+ | Attribute | Data type | P | Ca | De | Appl | | name | | | rdinality | scription | icability | +===========+===========+===+===========+===========+===========+ | error | ExtProbl | M | 1 | More | | | | emDetails | | | in | | | | | | | formation | | | | | | | on the | | | | | | | error | | | | | | | shall be | | | | | | | provided | | | | | | | in the | | | | | | | \"cause\" | | | | | | | attribute | | | | | | | of the | | | | | | | \"Problem | | | | | | | Details\" | | | | | | | s | | | | | | | tructure. | | +-----------+-----------+---+-----------+-----------+-----------+ | pti | Proc | C | 0..1 | This IE | | | | edureTran | | | shall be | | | | sactionId | | | present | | | | | | | if | | | | | | | a | | | | | | | vailable. | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | contain | | | | | | | the PTI | | | | | | | value | | | | | | | received | | | | | | | from the | | | | | | | UE. | | +-----------+-----------+---+-----------+-----------+-----------+ | n1smCause | string | C | 0..1 | This IE | | | | | | | shall be | | | | | | | present | | | | | | | if | | | | | | | a | | | | | | | vailable. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | contain | | | | | | | the 5GSM | | | | | | | cause | | | | | | | received | | | | | | | from the | | | | | | | UE. | | | | | | | | | | | | | | It shall | | | | | | | be | | | | | | | encoded | | | | | | | as two | | | | | | | c | | | | | | | haracters | | | | | | | in | | | | | | | he | | | | | | | xadecimal | | | | | | | repre | | | | | | | sentation | | | | | | | with each | | | | | | | character | | | | | | | taking a | | | | | | | value of | | | | | | | \"0\" to | | | | | | | \"9\" or | | | | | | | \"A\" to | | | | | | | \"F\", | | | | | | | and | | | | | | | represent | | | | | | | the cause | | | | | | | value of | | | | | | | the 5GSM | | | | | | | cause IE | | | | | | | specified | | | | | | | in | | | | | | | clause | | | | | | | 9.11.4.2 | | | | | | | of | | | | | | | 3GP | | | | | | | P TS 24.5 | | | | | | | 01 [7]. | | | | | | | | | | | | | | Pattern: | | | | | | | \"\ | | | | | | | ^[A-F0-9 | | | | | | | ]{2}\$\" | | | | | | | | | | | | | | Example: | | | | | | | the cause | | | | | | | \"Invalid | | | | | | | mandatory | | | | | | | info | | | | | | | rmation\" | | | | | | | shall be | | | | | | | encoded | | | | | | | as | | | | | | | \"60\". | | | | | | | | | | | | | | See NOTE. | | +-----------+-----------+---+-----------+-----------+-----------+ | n1SmI | RefToB | C | 0..1 | This IE | | | nfoFromUe | inaryData | | | shall be | | | | | | | present | | | | | | | if the | | | | | | | V-SMF has | | | | | | | received | | | | | | | known N1 | | | | | | | SM | | | | | | | in | | | | | | | formation | | | | | | | from the | | | | | | | UE that | | | | | | | does not | | | | | | | need to | | | | | | | be | | | | | | | in | | | | | | | terpreted | | | | | | | by the | | | | | | | V-SMF. | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | reference | | | | | | | the | | | | | | | n1SmI | | | | | | | nfoFromUe | | | | | | | binary | | | | | | | data (see | | | | | | | clause 6. | | | | | | | 1.6.4.4). | | +-----------+-----------+---+-----------+-----------+-----------+ | unknow | RefToB | C | 0..1 | This IE | | | nN1SmInfo | inaryData | | | shall be | | | | | | | present | | | | | | | if the | | | | | | | V-SMF has | | | | | | | received | | | | | | | unknown | | | | | | | N1 SM | | | | | | | in | | | | | | | formation | | | | | | | from the | | | | | | | UE. When | | | | | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | reference | | | | | | | the | | | | | | | unknow | | | | | | | nN1SmInfo | | | | | | | binary | | | | | | | data (see | | | | | | | clause 6. | | | | | | | 1.6.4.4). | | +-----------+-----------+---+-----------+-----------+-----------+ | fai | a | C | 1..N | This IE | | | ledToAssi | rray(Arp) | | | shall be | | | gnEbiList | | | | present | | | | | | | if the | | | | | | | AMF | | | | | | | failed to | | | | | | | assign | | | | | | | the | | | | | | | requested | | | | | | | EBIs. | | +-----------+-----------+---+-----------+-----------+-----------+ | ngApCause | NgApCause | C | 0..1 | The V-SMF | | | | | | | or I-SMF | | | | | | | shall | | | | | | | include | | | | | | | this IE, | | | | | | | if it is | | | | | | | available | | | | | | | and, for | | | | | | | a HR PDU | | | | | | | session, | | | | | | | if this | | | | | | | in | | | | | | | formation | | | | | | | is | | | | | | | permitted | | | | | | | to be | | | | | | | sent to | | | | | | | the H-SMF | | | | | | | operator | | | | | | | according | | | | | | | to the | | | | | | | V-SMF | | | | | | | op | | | | | | | erator\'s | | | | | | | policy. | | +-----------+-----------+---+-----------+-----------+-----------+ | 5gMmC | 5GMmCause | C | 0..1 | The V-SMF | | | auseValue | | | | shall | | | | | | | include | | | | | | | this IE | | | | | | | if it | | | | | | | received | | | | | | | it from | | | | | | | the AMF | | | | | | | and if | | | | | | | this | | | | | | | in | | | | | | | formation | | | | | | | is | | | | | | | permitted | | | | | | | to be | | | | | | | sent to | | | | | | | the H-SMF | | | | | | | operator | | | | | | | according | | | | | | | to the | | | | | | | V-SMF | | | | | | | op | | | | | | | erator\'s | | | | | | | policy. | | +-----------+-----------+---+-----------+-----------+-----------+ | rec | DateTime | O | 0..1 | Timestamp | | | overyTime | | | | when the | | | | | | | V-SMF | | | | | | | service | | | | | | | instance | | | | | | | was | | | | | | | (r | | | | | | | e)started | | | | | | | (see | | | | | | | c | | | | | | | lause 6.3 | | | | | | | of | | | | | | | 3GPP | | | | | | | TS 23.527 | | | | | | | [24]). | | +-----------+-----------+---+-----------+-----------+-----------+ | n4Info | N4In | O | 0..1 | This IE | DTSSA | | | formation | | | may be | | | | | | | present | | | | | | | if the | | | | | | | I-SMF | | | | | | | needs to | | | | | | | send N4 | | | | | | | response | | | | | | | in | | | | | | | formation | | | | | | | to the | | | | | | | SMF for | | | | | | | the | | | | | | | control | | | | | | | of | | | | | | | traffic | | | | | | | offloaded | | | | | | | at a | | | | | | | PS | | | | | | | A/BP/ULCL | | | | | | | c | | | | | | | ontrolled | | | | | | | by an | | | | | | | I-SMF. | | +-----------+-----------+---+-----------+-----------+-----------+ | n | N4In | O | 0..1 | This IE | DTSSA | | 4InfoExt1 | formation | | | may be | | | | | | | present | | | | | | | if the | | | | | | | I-SMF | | | | | | | needs to | | | | | | | send | | | | | | | a | | | | | | | dditional | | | | | | | N4 | | | | | | | response | | | | | | | in | | | | | | | formation | | | | | | | to the | | | | | | | SMF for | | | | | | | the | | | | | | | control | | | | | | | of | | | | | | | traffic | | | | | | | offloaded | | | | | | | at a | | | | | | | PS | | | | | | | A/BP/ULCL | | | | | | | c | | | | | | | ontrolled | | | | | | | by an | | | | | | | I-SMF. | | +-----------+-----------+---+-----------+-----------+-----------+ | n | N4In | O | 0..1 | This IE | DTSSA | | 4InfoExt2 | formation | | | may be | | | | | | | present | | | | | | | if the | | | | | | | I-SMF | | | | | | | needs to | | | | | | | send | | | | | | | a | | | | | | | dditional | | | | | | | N4 | | | | | | | response | | | | | | | in | | | | | | | formation | | | | | | | to the | | | | | | | SMF for | | | | | | | the | | | | | | | control | | | | | | | of | | | | | | | traffic | | | | | | | offloaded | | | | | | | at a | | | | | | | PS | | | | | | | A/BP/ULCL | | | | | | | c | | | | | | | ontrolled | | | | | | | by an | | | | | | | I-SMF | | | | | | | (e.g. | | | | | | | during a | | | | | | | change of | | | | | | | PSA). | | +-----------+-----------+---+-----------+-----------+-----------+ | n | N4In | O | 0..1 | This IE | SCPBU | | 4InfoExt3 | formation | | | may be | | | | | | | present | | | | | | | if the | | | | | | | I-SMF | | | | | | | needs to | | | | | | | send | | | | | | | a | | | | | | | dditional | | | | | | | N4 | | | | | | | response | | | | | | | in | | | | | | | formation | | | | | | | to the | | | | | | | SMF for | | | | | | | the | | | | | | | control | | | | | | | of | | | | | | | traffic | | | | | | | offloaded | | | | | | | at a | | | | | | | PS | | | | | | | A/BP/ULCL | | | | | | | c | | | | | | | ontrolled | | | | | | | by an | | | | | | | I-SMF | | | | | | | (e.g. | | | | | | | during | | | | | | | sim | | | | | | | ultaneous | | | | | | | change of | | | | | | | BP/ULCL | | | | | | | and PSA). | | +-----------+-----------+---+-----------+-----------+-----------+ | r | Uinteger | O | 0..1 | This IE | | | etryAfter | | | | may be | | | | | | | included | | | | | | | if | | | | | | | received | | | | | | | from the | | | | | | | AMF | | | | | | | within an | | | | | | | error | | | | | | | response, | | | | | | | e.g., | | | | | | | during | | | | | | | N | | | | | | | 1N2Messag | | | | | | | eTransfer | | | | | | | service | | | | | | | operation | | | | | | | when UE | | | | | | | is not | | | | | | | r | | | | | | | esponding | | | | | | | to | | | | | | | paging. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | indicates | | | | | | | the | | | | | | | period in | | | | | | | number of | | | | | | | seconds. | | | | | | | The NF | | | | | | | consumer, | | | | | | | i.e. the | | | | | | | (H-)SMF, | | | | | | | should | | | | | | | not send | | | | | | | new | | | | | | | update | | | | | | | request | | | | | | | to the | | | | | | | V- | | | | | | | SMF/I-SMF | | | | | | | during | | | | | | | the | | | | | | | indicated | | | | | | | period. | | +-----------+-----------+---+-----------+-----------+-----------+ | NOTE: | | | | | | | This IE | | | | | | | is sent | | | | | | | as a | | | | | | | separate | | | | | | | IE rather | | | | | | | than | | | | | | | within | | | | | | | the | | | | | | | n1SmI | | | | | | | nfoFromUE | | | | | | | binary | | | | | | | data | | | | | | | because | | | | | | | the 5GSM | | | | | | | cause IE | | | | | | | is | | | | | | | defined | | | | | | | as a | | | | | | | \"V\" IE | | | | | | | (i.e. | | | | | | | without a | | | | | | | Type | | | | | | | field) in | | | | | | | the NAS | | | | | | | PDU | | | | | | | Session | | | | | | | Mod | | | | | | | ification | | | | | | | Command | | | | | | | Reject | | | | | | | message. | | | | | | +-----------+-----------+---+-----------+-----------+-----------+
##### 6.1.6.2.31 Type: EpsPdnCnxInfo
Table 6.1.6.2.31-1: Definition of type EpsPdnCnxInfo
Attribute name Data type P Cardinality Description
* * *
pgwS8cFteid Bytes M 1 Base64-encoded characters, encoding the PGW S8 F-TEID
for Control Plane as specified in Figure 8.22-1 of 3GPP TS 29.274 [16]
(starting from octet 1). pgwNodeName Bytes C 0..1 Base64-encoded characters,
encoding the PGW FQDN IE as specified in Figure 8.66-1 of 3GPP TS 29.274 [16]
(starting from octet 1). It shall be present, if it is available.
pgwChangeInfo Bytes O 0..1 Base64-encoded characters, encoding the PGW Change
Info IE as specified in Table 8.145-1 of 3GPP TS 29.274 [16] (starting from
octet 1). See clause 31.5 of 3GPP TS 23.007 [45]. linkedBearerId EpsBearerId C
0..1 An implementation complying with this version of the specification shall
include this attribute and set it to the default bearer ID associated with the
PDU session moved to EPS.
##### 6.1.6.2.32 Type: EpsBearerInfo
Table 6.1.6.2.32-1: Definition of type EpsBearerInfo
Attribute name Data type P Cardinality Description
* * *
ebi EpsBearerId M 1 EPS Bearer ID pgwS8uFteid Bytes M 1 Base64-encoded
characters, encoding the PGW S8 F-TEID for User Plane as specified in Figure
8.22-1 of 3GPP TS 29.274 [16] (starting from octet 1). bearerLevelQoS Bytes M
1 Base64-encoded characters, encoding the Bearer QoS IE as specified in Figure
8.15-1 of 3GPP TS 29.274 [16] (starting from octet 1).
##### 6.1.6.2.33 Type: PduSessionNotifyItem
Table 6.1.6.2.33-1: Definition of type PduSessionNotifyItem
Attribute name Data type P Cardinality Description
* * *
notificationCause NotificationCause M 1
##### 6.1.6.2.34 Type: EbiArpMapping
Table 6.1.6.2.34-1: Definition of type EbiArpMapping
Attribute name Data type P Cardinality Description
* * *
epsBearerId EpsBearerId M 1 This IE shall contain the EPS bearer identities.
arp Arp M 1 This IE shall contain the ARP corresponding to the EBI.
##### 6.1.6.2.35 Type: SmContextCreateError
Table 6.1.6.2.35-1: Definition of type SmContextCreateError
+---------------+---------------+---+-------------+---------------+ | Attribute | Data type | P | Cardinality | Description | | name | | | | | +===============+===============+===+=============+===============+ | error | ExtP | M | 1 | More | | | roblemDetails | | | information | | | | | | on the error | | | | | | shall be | | | | | | provided in | | | | | | the \"cause\" | | | | | | attribute of | | | | | | the | | | | | | \"Pro | | | | | | blemDetails\" | | | | | | structure. | +---------------+---------------+---+-------------+---------------+ | n1SmMsg | Re | C | 0..1 | This IE shall | | | fToBinaryData | | | be present, | | | | | | if an N1 SM | | | | | | information | | | | | | is received | | | | | | in the | | | | | | request and | | | | | | the SMF is | | | | | | able to | | | | | | return N1 SM | | | | | | information | | | | | | to the UE. | | | | | | | | | | | | When present, | | | | | | it shall | | | | | | reference the | | | | | | N1 SM Message | | | | | | binary data | | | | | | (see | | | | | | claus | | | | | | e 6.1.6.4.2). | +---------------+---------------+---+-------------+---------------+ | n2SmInfo | Re | C | 0..1 | This IE shall | | | fToBinaryData | | | be present, | | | | | | if N2 SM | | | | | | information | | | | | | needs to be | | | | | | returned to | | | | | | the NG-RAN | | | | | | during Xn | | | | | | based | | | | | | handover | | | | | | procedure | | | | | | with | | | | | | I-SMF/V-SMF | | | | | | insertion, | | | | | | change or | | | | | | removal. | | | | | | | | | | | | When present, | | | | | | it shall | | | | | | reference the | | | | | | N2 SM Message | | | | | | binary data | | | | | | (see | | | | | | claus | | | | | | e 6.1.6.4.3). | +---------------+---------------+---+-------------+---------------+ | n2SmInfoType | N2SmInfoType | C | 0..1 | This IE shall | | | | | | be present if | | | | | | \"n2SmInfo\" | | | | | | attribute is | | | | | | present. | | | | | | | | | | | | When present, | | | | | | this IE shall | | | | | | indicate the | | | | | | NG AP IE type | | | | | | for the NG AP | | | | | | SMF related | | | | | | IE container | | | | | | carried in | | | | | | \"n2SmInfo\" | | | | | | attribute. | +---------------+---------------+---+-------------+---------------+ | recoveryTime | DateTime | O | 0..1 | Timestamp | | | | | | when the SMF | | | | | | service | | | | | | instance was | | | | | | (re)started | | | | | | (see | | | | | | clause 6.3 of | | | | | | 3GPP TS 23 | | | | | | .527 [24]). | +---------------+---------------+---+-------------+---------------+
##### 6.1.6.2.36 Type: SmContextUpdateError
Table 6.1.6.2.36-1: Definition of type SmContextUpdateError
+---------------+---------------+---+-------------+---------------+ | Attribute | Data type | P | Cardinality | Description | | name | | | | | +===============+===============+===+=============+===============+ | error | ExtP | M | 1 | More | | | roblemDetails | | | information | | | | | | on the error | | | | | | shall be | | | | | | provided in | | | | | | the \"cause\" | | | | | | attribute of | | | | | | the | | | | | | \"Pro | | | | | | blemDetails\" | | | | | | structure. | +---------------+---------------+---+-------------+---------------+ | n1SmMsg | Re | C | 0..1 | This IE shall | | | fToBinaryData | | | be present, | | | | | | if N1 SM | | | | | | Information | | | | | | needs to be | | | | | | returned to | | | | | | the UE. | | | | | | | | | | | | When present, | | | | | | it shall | | | | | | reference the | | | | | | N1 SM Message | | | | | | binary data | | | | | | (see | | | | | | claus | | | | | | e 6.1.6.4.2). | +---------------+---------------+---+-------------+---------------+ | n2SmInfo | Re | C | 0..1 | This IE shall | | | fToBinaryData | | | be present, | | | | | | if N2 SM | | | | | | information | | | | | | needs to be | | | | | | returned to | | | | | | the NG-RAN. | | | | | | | | | | | | When present, | | | | | | it shall | | | | | | reference the | | | | | | N2 SM Message | | | | | | binary data | | | | | | (see | | | | | | claus | | | | | | e 6.1.6.4.3). | +---------------+---------------+---+-------------+---------------+ | n2SmInfoType | N2SmInfoType | C | 0..1 | This IE shall | | | | | | be present if | | | | | | \"n2SmInfo\" | | | | | | attribute is | | | | | | present. | | | | | | | | | | | | When present, | | | | | | this IE shall | | | | | | indicate the | | | | | | NG AP IE type | | | | | | for the NG AP | | | | | | SMF related | | | | | | IE container | | | | | | carried in | | | | | | \"n2SmInfo\" | | | | | | attribute. | +---------------+---------------+---+-------------+---------------+ | upCnxState | UpCnxState | C | 0..1 | This IE shall | | | | | | be present if | | | | | | the SMF was | | | | | | requested to | | | | | | activate or | | | | | | deactivate | | | | | | the user | | | | | | plane | | | | | | connection of | | | | | | the PDU | | | | | | session in | | | | | | the | | | | | | corresponding | | | | | | request. | | | | | | | | | | | | When present, | | | | | | it shall be | | | | | | set as | | | | | | specified in | | | | | | clauses | | | | | | 5.2.2.3.2 and | | | | | | 5.2.2.3.16. | +---------------+---------------+---+-------------+---------------+ | recoveryTime | DateTime | O | 0..1 | Timestamp | | | | | | when the SMF | | | | | | service | | | | | | instance was | | | | | | (re)started | | | | | | (see | | | | | | clause 6.3 of | | | | | | 3GPP TS 23 | | | | | | .527 [24]). | +---------------+---------------+---+-------------+---------------+
##### 6.1.6.2.37 Type: PduSessionCreateError
Table 6.1.6.2.37-1: Definition of type PduSessionCreateError
+---------------+---------------+---+-------------+---------------+ | Attribute | Data type | P | Cardinality | Description | | name | | | | | +===============+===============+===+=============+===============+ | error | P | M | 1 | More | | | roblemDetails | | | information | | | | | | on the error | | | | | | shall be | | | | | | provided in | | | | | | the \"cause\" | | | | | | attribute of | | | | | | the | | | | | | \"Pro | | | | | | blemDetails\" | | | | | | structure. | +---------------+---------------+---+-------------+---------------+ | n1smCause | string | C | 0..1 | This IE shall | | | | | | be present if | | | | | | the request | | | | | | included | | | | | | n1 | | | | | | SmInfoFromUe. | | | | | | | | | | | | When present, | | | | | | it shall | | | | | | contain the | | | | | | 5GSM cause | | | | | | the H-SMF | | | | | | proposes the | | | | | | V-SMF to | | | | | | return to the | | | | | | UE. It shall | | | | | | be encoded as | | | | | | two | | | | | | characters in | | | | | | hexadecimal | | | | | | r | | | | | | epresentation | | | | | | with each | | | | | | character | | | | | | taking a | | | | | | value of | | | | | | \"0\" to | | | | | | \"9\" or | | | | | | \"A\" to | | | | | | \"F\", and | | | | | | represent the | | | | | | cause value | | | | | | of the 5GSM | | | | | | cause IE | | | | | | specified in | | | | | | cl | | | | | | ause 9.11.4.2 | | | | | | of | | | | | | 3GPP TS | | | | | | 24.501 [7]. | | | | | | | | | | | | Pattern: | | | | | | \"\^[A- | | | | | | F0-9]{2}\$\" | | | | | | | | | | | | Example: the | | | | | | cause | | | | | | \"Invalid | | | | | | mandatory | | | | | | information\" | | | | | | shall be | | | | | | encoded as | | | | | | \"60\". | | | | | | | | | | | | (NOTE) | +---------------+---------------+---+-------------+---------------+ | n1SmInfoToUe | Re | C | 0..1 | This IE shall | | | fToBinaryData | | | be present if | | | | | | the H-SMF | | | | | | needs to send | | | | | | N1 SM | | | | | | information | | | | | | to the UE | | | | | | that does not | | | | | | need to be | | | | | | interpreted | | | | | | by the V-SMF. | | | | | | When present, | | | | | | this IE shall | | | | | | reference the | | | | | | n1SmInfoToUe | | | | | | binary data | | | | | | (see | | | | | | claus | | | | | | e 6.1.6.4.4). | +---------------+---------------+---+-------------+---------------+ | backOffTimer | DurationSec | O | 0..1 | When present, | | | | | | this IE shall | | | | | | indicate a | | | | | | Back-off | | | | | | timer value, | | | | | | in seconds, | | | | | | that the | | | | | | V-SMF may use | | | | | | when | | | | | | rejecting the | | | | | | NAS message | | | | | | towards the | | | | | | UE. | +---------------+---------------+---+-------------+---------------+ | recoveryTime | DateTime | O | 0..1 | When present, | | | | | | this IE shall | | | | | | contain the | | | | | | timestamp of | | | | | | the event | | | | | | when the | | | | | | H-SMF service | | | | | | instance was | | | | | | (re)started | | | | | | (see | | | | | | clause 6.3 of | | | | | | 3GPP TS 23 | | | | | | .527 [24]). | +---------------+---------------+---+-------------+---------------+ | NOTE: This IE | | | | | | contains | | | | | | information | | | | | | that the | | | | | | V-SMF may | | | | | | transfer to | | | | | | the UE | | | | | | without | | | | | | in | | | | | | terpretation. | | | | | | It is sent as | | | | | | a separate IE | | | | | | rather than | | | | | | within the | | | | | | n1SmInfoToUE | | | | | | binary data | | | | | | because the | | | | | | 5GSM cause IE | | | | | | is defined as | | | | | | a \"V\" IE | | | | | | (i.e. without | | | | | | a Type field) | | | | | | in the NAS | | | | | | PDU Session | | | | | | Establishment | | | | | | Reject | | | | | | message. | | | | | +---------------+---------------+---+-------------+---------------+
##### 6.1.6.2.38 Type: MmeCapabilities
Table 6.1.6.2.38-1: Definition of type MmeCapabilities
+-----------------+-----------+---+-------------+-----------------+ | Attribute name | Data type | P | Cardinality | Description | +=================+===========+===+=============+=================+ | nonIpSupported | boolean | C | 0..1 | This IE shall | | | | | | be present if | | | | | | non-IP PDN type | | | | | | is supported. | | | | | | It may be | | | | | | present | | | | | | otherwise. When | | | | | | present, this | | | | | | IE shall be set | | | | | | as follows: | | | | | | | | | | | | > \- true: | | | | | | > non-IP PDN | | | | | | > type is | | | | | | > supported; | | | | | | > | | | | | | > \- false | | | | | | > (default): | | | | | | > non-IP PDN | | | | | | > type is not | | | | | | > supported. | +-----------------+-----------+---+-------------+-----------------+ | et | boolean | C | 0..1 | This IE shall | | hernetSupported | | | | be present if | | | | | | Ethernet PDN | | | | | | type is | | | | | | supported. It | | | | | | may be present | | | | | | otherwise. When | | | | | | present, this | | | | | | IE shall be set | | | | | | as follows: | | | | | | | | | | | | > \- true: | | | | | | > Ethernet PDN | | | | | | > type is | | | | | | > supported; | | | | | | > | | | | | | > \- false | | | | | | > (default): | | | | | | > Ethernet PDN | | | | | | > type is not | | | | | | > supported. | +-----------------+-----------+---+-------------+-----------------+ | upipSupported | boolean | C | 0..1 | This IE shall | | | | | | be present if | | | | | | the MME | | | | | | supports User | | | | | | Plane Integrity | | | | | | Protection with | | | | | | EPS. It may be | | | | | | present | | | | | | otherwise. When | | | | | | present, this | | | | | | IE shall be set | | | | | | as follows: | | | | | | | | | | | | > \- true: User | | | | | | > Plane | | | | | | > Integrity | | | | | | > Protection | | | | | | > with EPS is | | | | | | > supported; | | | | | | > | | | | | | > \- false | | | | | | > (default): | | | | | | > User Plane | | | | | | > Integrity | | | | | | > Protection | | | | | | > with EPS is | | | | | | > not | | | | | | > supported. | +-----------------+-----------+---+-------------+-----------------+ | NOTE: The AMF | | | | | | should know the | | | | | | MME capability | | | | | | to support, or | | | | | | not, non-IP PDN | | | | | | type, Ethernet | | | | | | PDN type and | | | | | | User Plane | | | | | | Integrity | | | | | | Protection, | | | | | | through local | | | | | | configuration. | | | | | | Note however | | | | | | that the actual | | | | | | EPS support of | | | | | | User Plane | | | | | | Integrity | | | | | | Protection may | | | | | | depend on the | | | | | | target E-UTRAN | | | | | | coverage. | | | | | +-----------------+-----------+---+-------------+-----------------+
##### 6.1.6.2.39 Type: SmContext
Table 6.1.6.2.39-1: Definition of type SmContext
+-----------+-----------+---+-----------+-----------+-----------+ | Attribute | Data type | P | Ca | De | Appl | | name | | | rdinality | scription | icability | +===========+===========+===+===========+===========+===========+ | pdu | Pdu | M | 1 | This IE | | | SessionId | SessionId | | | shall | | | | | | | contain | | | | | | | the PDU | | | | | | | Session | | | | | | | ID. | | +-----------+-----------+---+-----------+-----------+-----------+ | dnn | Dnn | M | 1 | This IE | | | | | | | shall | | | | | | | contain | | | | | | | the UE | | | | | | | requested | | | | | | | DNN of | | | | | | | the PDU | | | | | | | session. | | | | | | | | | | | | | | The DNN | | | | | | | shall be | | | | | | | the full | | | | | | | DNN (i.e. | | | | | | | with both | | | | | | | the | | | | | | | Network | | | | | | | I | | | | | | | dentifier | | | | | | | and | | | | | | | Operator | | | | | | | Id | | | | | | | entifier) | | | | | | | for a HR | | | | | | | PDU | | | | | | | session, | | | | | | | and it | | | | | | | should be | | | | | | | the full | | | | | | | DNN in | | | | | | | LBO and | | | | | | | no | | | | | | | n-roaming | | | | | | | s | | | | | | | cenarios. | | | | | | | If the | | | | | | | Operator | | | | | | | I | | | | | | | dentifier | | | | | | | is | | | | | | | absent, | | | | | | | the | | | | | | | serving | | | | | | | core | | | | | | | network | | | | | | | operator | | | | | | | shall be | | | | | | | assumed. | | +-----------+-----------+---+-----------+-----------+-----------+ | se | Dnn | C | 0..1 | This IE | | | lectedDnn | | | | shall be | | | | | | | present, | | | | | | | if | | | | | | | another | | | | | | | DNN other | | | | | | | than the | | | | | | | UE | | | | | | | requested | | | | | | | DNN is | | | | | | | selected | | | | | | | for this | | | | | | | PDU | | | | | | | session. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | contain | | | | | | | the | | | | | | | selected | | | | | | | DNN. The | | | | | | | DNN shall | | | | | | | be the | | | | | | | full DNN | | | | | | | (i.e. | | | | | | | with both | | | | | | | the | | | | | | | Network | | | | | | | I | | | | | | | dentifier | | | | | | | and | | | | | | | Operator | | | | | | | Id | | | | | | | entifier) | | | | | | | for a HR | | | | | | | PDU | | | | | | | session, | | | | | | | and it | | | | | | | should be | | | | | | | the full | | | | | | | DNN in | | | | | | | LBO and | | | | | | | no | | | | | | | n-roaming | | | | | | | s | | | | | | | cenarios. | | | | | | | If the | | | | | | | Operator | | | | | | | I | | | | | | | dentifier | | | | | | | is | | | | | | | absent, | | | | | | | the | | | | | | | serving | | | | | | | core | | | | | | | network | | | | | | | operator | | | | | | | shall be | | | | | | | assumed. | | +-----------+-----------+---+-----------+-----------+-----------+ | sNssai | Snssai | M | 1 | This IE | | | | | | | shall | | | | | | | contain | | | | | | | the | | | | | | | S-NSSAI | | | | | | | for the | | | | | | | serving | | | | | | | PLMN. | | +-----------+-----------+---+-----------+-----------+-----------+ | hp | Snssai | C | 0..1 | This IE | | | lmnSnssai | | | | shall be | | | | | | | present | | | | | | | for a HR | | | | | | | PDU | | | | | | | session. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | contain | | | | | | | the | | | | | | | S-NSSAI | | | | | | | for the | | | | | | | HPLMN. | | +-----------+-----------+---+-----------+-----------+-----------+ | pduSe | PduSe | M | 1 | This IE | | | ssionType | ssionType | | | shall | | | | | | | indicate | | | | | | | the PDU | | | | | | | session | | | | | | | type. | | +-----------+-----------+---+-----------+-----------+-----------+ | gpsi | Gpsi | C | 0..1 | This IE | | | | | | | shall be | | | | | | | present | | | | | | | if it is | | | | | | | a | | | | | | | vailable. | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | contain | | | | | | | the | | | | | | | user\'s | | | | | | | GPSI. | | +-----------+-----------+---+-----------+-----------+-----------+ | hSmfUri | Uri | C | 0..1 | This IE | | | | | | | shall be | | | | | | | present | | | | | | | in HR | | | | | | | roaming | | | | | | | s | | | | | | | cenarios. | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | contain | | | | | | | the API | | | | | | | URI of | | | | | | | the | | | | | | | Nsmf_P | | | | | | | DUSession | | | | | | | service | | | | | | | of the | | | | | | | H-SMF. | | | | | | | The API | | | | | | | URI shall | | | | | | | be | | | | | | | formatted | | | | | | | as | | | | | | | specified | | | | | | | in | | | | | | | clau | | | | | | | se 6.1.1. | | +-----------+-----------+---+-----------+-----------+-----------+ | smfUri | Uri | C | 0..1 | This IE | | | | | | | shall be | | | | | | | present | | | | | | | for a PDU | | | | | | | session | | | | | | | with an | | | | | | | I-SMF. | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | contain | | | | | | | the API | | | | | | | URI of | | | | | | | the | | | | | | | Nsmf_P | | | | | | | DUSession | | | | | | | service | | | | | | | of the | | | | | | | SMF. The | | | | | | | API URI | | | | | | | shall be | | | | | | | formatted | | | | | | | as | | | | | | | specified | | | | | | | in | | | | | | | clau | | | | | | | se 6.1.1. | | +-----------+-----------+---+-----------+-----------+-----------+ | pduS | Uri | C | 0..1 | This IE | | | essionRef | | | | shall be | | | | | | | present | | | | | | | for a HR | | | | | | | PDU | | | | | | | session | | | | | | | or a PDU | | | | | | | session | | | | | | | with an | | | | | | | I-SMF. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | include | | | | | | | the | | | | | | | absolute | | | | | | | URI of | | | | | | | the PDU | | | | | | | Session | | | | | | | in H-SMF | | | | | | | or SMF, | | | | | | | including | | | | | | | apiRoot | | | | | | | (see | | | | | | | clause 6 | | | | | | | .1.3.6.2) | | +-----------+-----------+---+-----------+-----------+-----------+ | interPl | Uri | C | 0..1 | This IE | | | mnApiRoot | | | | shall be | | | | | | | present, | | | | | | | if | | | | | | | a | | | | | | | vailable. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | contain | | | | | | | the | | | | | | | apiRoot | | | | | | | of the | | | | | | | PDU | | | | | | | session | | | | | | | context | | | | | | | to be | | | | | | | used in | | | | | | | i | | | | | | | nter-PLMN | | | | | | | s | | | | | | | ignalling | | | | | | | request | | | | | | | targeting | | | | | | | the PDU | | | | | | | session | | | | | | | context. | | | | | | | | | | | | | | (NOTE 2) | | +-----------+-----------+---+-----------+-----------+-----------+ | intraPl | Uri | C | 0..1 | This IE | | | mnApiRoot | | | | shall be | | | | | | | present, | | | | | | | if | | | | | | | a | | | | | | | vailable. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | contain | | | | | | | the | | | | | | | apiRoot | | | | | | | of the | | | | | | | PDU | | | | | | | session | | | | | | | context | | | | | | | to be | | | | | | | used in | | | | | | | i | | | | | | | ntra-PLMN | | | | | | | s | | | | | | | ignalling | | | | | | | request | | | | | | | targeting | | | | | | | the PDU | | | | | | | session | | | | | | | context. | | | | | | | | | | | | | | (NOTE 2) | | +-----------+-----------+---+-----------+-----------+-----------+ | pcfId | NfI | O | 0..1 | When | | | | nstanceId | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | contain | | | | | | | the | | | | | | | i | | | | | | | dentifier | | | | | | | of: | | | | | | | | | | | | | | - the | | | | | | | H-PCF | | | | | | | selected | | | | | | | by the | | | | | | | AMF (for | | | | | | | UE | | | | | | | Policy), | | | | | | | for a HR | | | | | | | PDU | | | | | | | session; | | | | | | | or | | | | | | | | | | | | | | - the | | | | | | | V-PCF | | | | | | | selected | | | | | | | by the | | | | | | | AMF (for | | | | | | | Access | | | | | | | and | | | | | | | Mobility | | | | | | | Policy), | | | | | | | for a PDU | | | | | | | session | | | | | | | in LBO | | | | | | | roaming | | | | | | | s | | | | | | | cenarios; | | | | | | | or | | | | | | | | | | | | | | - the | | | | | | | PCF | | | | | | | selected | | | | | | | by the | | | | | | | AMF (for | | | | | | | Access | | | | | | | and | | | | | | | Mobility | | | | | | | Policy | | | | | | | and/or UE | | | | | | | Policy), | | | | | | | for a PDU | | | | | | | session | | | | | | | in | | | | | | | no | | | | | | | n-roaming | | | | | | | s | | | | | | | cenarios. | | +-----------+-----------+---+-----------+-----------+-----------+ | p | NfGroupId | O | 0..1 | This IE | | | cfGroupId | | | | may be | | | | | | | present | | | | | | | in | | | | | | | no | | | | | | | n-roaming | | | | | | | and HR | | | | | | | roaming | | | | | | | s | | | | | | | cenarios. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | contain | | | | | | | the | | | | | | | identity | | | | | | | of the | | | | | | | (home) | | | | | | | PCF group | | | | | | | serving | | | | | | | the UE | | | | | | | for | | | | | | | Access | | | | | | | and | | | | | | | Mobility | | | | | | | Policy | | | | | | | and/or UE | | | | | | | Policy. | | +-----------+-----------+---+-----------+-----------+-----------+ | pcfSetId | NfSetId | O | 0..1 | This IE | | | | | | | may be | | | | | | | present | | | | | | | if the | | | | | | | pcfId IE | | | | | | | is | | | | | | | present. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | contain | | | | | | | the NF | | | | | | | Set ID of | | | | | | | the PCF | | | | | | | indicated | | | | | | | by the | | | | | | | pcfId IE. | | +-----------+-----------+---+-----------+-----------+-----------+ | selMode | DnnSele | C | 0..1 | This IE | | | | ctionMode | | | shall be | | | | | | | present | | | | | | | if it is | | | | | | | a | | | | | | | vailable. | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | be set | | | | | | | to: | | | | | | | | | | | | | | - | | | | | | | \"VE | | | | | | | RIFIED\", | | | | | | | if the | | | | | | | requested | | | | | | | DNN | | | | | | | provided | | | | | | | by UE or | | | | | | | the | | | | | | | selected | | | | | | | DNN | | | | | | | provided | | | | | | | by the | | | | | | | network | | | | | | | co | | | | | | | rresponds | | | | | | | to an | | | | | | | e | | | | | | | xplicitly | | | | | | | s | | | | | | | ubscribed | | | | | | | DNN; or | | | | | | | | | | | | | | - | | | | | | | \"UE_DNN | | | | | | | _NOT_VE | | | | | | | RIFIED\", | | | | | | | if the | | | | | | | requested | | | | | | | DNN | | | | | | | provided | | | | | | | by UE | | | | | | | co | | | | | | | rresponds | | | | | | | to the | | | | | | | usage of | | | | | | | a | | | | | | | wildcard | | | | | | | subs | | | | | | | cription; | | | | | | | or | | | | | | | | | | | | | | - | | | | | | | \"NW_DNN | | | | | | | _NOT_VE | | | | | | | RIFIED\", | | | | | | | if the | | | | | | | selected | | | | | | | DNN | | | | | | | provided | | | | | | | by | | | | | | | network | | | | | | | co | | | | | | | rresponds | | | | | | | to the | | | | | | | usage of | | | | | | | a | | | | | | | wildcard | | | | | | | subs | | | | | | | cription. | | | | | | | | | | | | | | If both | | | | | | | the | | | | | | | requested | | | | | | | DNN (i.e. | | | | | | | dnn IE) | | | | | | | and | | | | | | | selected | | | | | | | DNN (i.e. | | | | | | | selected | | | | | | | Dnn IE) | | | | | | | are | | | | | | | present, | | | | | | | the | | | | | | | selMode | | | | | | | shall be | | | | | | | related | | | | | | | to the | | | | | | | selected | | | | | | | DNN. | | +-----------+-----------+---+-----------+-----------+-----------+ | u | NfGroupId | O | 0..1 | When | | | dmGroupId | | | | present, | | | | | | | it shall | | | | | | | indicate | | | | | | | the | | | | | | | identity | | | | | | | of the | | | | | | | UDM group | | | | | | | serving | | | | | | | the UE. | | +-----------+-----------+---+-----------+-----------+-----------+ | routing | string | O | 0..1 | When | | | Indicator | | | | present, | | | | | | | it shall | | | | | | | indicate | | | | | | | the | | | | | | | Routing | | | | | | | Indicator | | | | | | | of the | | | | | | | UE. | | +-----------+-----------+---+-----------+-----------+-----------+ | hN | integer | O | 0..1 | When | | | wPubKeyId | | | | present, | | | | | | | it shall | | | | | | | indicate | | | | | | | the Home | | | | | | | Network | | | | | | | Public | | | | | | | Key | | | | | | | I | | | | | | | dentifier | | | | | | | of the | | | | | | | UE. (NOTE | | | | | | | 1) | | +-----------+-----------+---+-----------+-----------+-----------+ | se | Ambr | M | 1 | This IE | | | ssionAmbr | | | | shall | | | | | | | contain | | | | | | | the | | | | | | | Session | | | | | | | AMBR | | | | | | | granted | | | | | | | to the | | | | | | | PDU | | | | | | | session. | | +-----------+-----------+---+-----------+-----------+-----------+ | qos | array | M | 1..N | This IE | | | FlowsList | (QosFlowS | | | shall | | | | etupItem) | | | contain | | | | | | | the set | | | | | | | of QoS | | | | | | | flow(s) | | | | | | | es | | | | | | | tablished | | | | | | | for the | | | | | | | PDU | | | | | | | session. | | | | | | | It shall | | | | | | | contain | | | | | | | at least | | | | | | | the Qos | | | | | | | flow | | | | | | | a | | | | | | | ssociated | | | | | | | to the | | | | | | | default | | | | | | | Qos rule. | | | | | | | | | | | | | | The | | | | | | | qosRules | | | | | | | attribute | | | | | | | of each | | | | | | | QosFlow | | | | | | | SetupItem | | | | | | | shall be | | | | | | | set to an | | | | | | | empty | | | | | | | string. | | +-----------+-----------+---+-----------+-----------+-----------+ | hSmfI | NfI | C | 0..1 | This IE | | | nstanceId | nstanceId | | | shall be | | | | | | | present | | | | | | | for a HR | | | | | | | PDU | | | | | | | session. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | contain | | | | | | | the | | | | | | | i | | | | | | | dentifier | | | | | | | of the | | | | | | | home SMF. | | +-----------+-----------+---+-----------+-----------+-----------+ | smfI | NfI | C | 0..1 | This IE | | | nstanceId | nstanceId | | | shall be | | | | | | | present | | | | | | | for a PDU | | | | | | | session | | | | | | | with an | | | | | | | I-SMF. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | contain | | | | | | | the | | | | | | | i | | | | | | | dentifier | | | | | | | of the | | | | | | | SMF. | | +-----------+-----------+---+-----------+-----------+-----------+ | pduSessio | NfSetId | C | 0..1 | This IE | | | nSmfSetId | | | | shall be | | | | | | | present, | | | | | | | if | | | | | | | a | | | | | | | vailable. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | contain | | | | | | | the NF | | | | | | | Set ID of | | | | | | | the home | | | | | | | SMF as | | | | | | | i | | | | | | | dentified | | | | | | | by | | | | | | | hSmfIn | | | | | | | stanceId, | | | | | | | or the | | | | | | | SMF as | | | | | | | i | | | | | | | dentified | | | | | | | by the | | | | | | | smfIn | | | | | | | stanceId. | | +-----------+-----------+---+-----------+-----------+-----------+ | pduSess | NfSer | C | 0..1 | This IE | | | ionSmfSer | viceSetId | | | shall be | | | viceSetId | | | | present, | | | | | | | if | | | | | | | a | | | | | | | vailable. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | contain | | | | | | | the NF | | | | | | | Service | | | | | | | Set ID of | | | | | | | the | | | | | | | P | | | | | | | DUSession | | | | | | | service | | | | | | | instance | | | | | | | (for this | | | | | | | PDU | | | | | | | session) | | | | | | | in the | | | | | | | home SMF | | | | | | | or the | | | | | | | SMF. | | +-----------+-----------+---+-----------+-----------+-----------+ | pd | SbiBin | C | 0..1 | This IE | | | uSessionS | dingLevel | | | shall be | | | mfBinding | | | | present, | | | | | | | if | | | | | | | a | | | | | | | vailable. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | contain | | | | | | | the SBI | | | | | | | binding | | | | | | | level of | | | | | | | the PDU | | | | | | | session | | | | | | | resource | | | | | | | in the | | | | | | | home SMF | | | | | | | or the | | | | | | | SMF. | | +-----------+-----------+---+-----------+-----------+-----------+ | e | boolean | C | 0..1 | This IE | | | nablePaus | | | | shall be | | | eCharging | | | | present | | | | | | | for a HR | | | | | | | PDU | | | | | | | session, | | | | | | | if | | | | | | | a | | | | | | | vailable. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | indicate | | | | | | | whether | | | | | | | the use | | | | | | | of Pause | | | | | | | of | | | | | | | Charging | | | | | | | is | | | | | | | enabled | | | | | | | for the | | | | | | | PDU | | | | | | | session | | | | | | | (see | | | | | | | cla | | | | | | | use 4.4.4 | | | | | | | of | | | | | | | 3GPP | | | | | | | TS 23.50 | | | | | | | 2 [3]). | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | be set as | | | | | | | follows: | | | | | | | | | | | | | | - true: | | | | | | | enable | | | | | | | Pause of | | | | | | | Charging; | | | | | | | | | | | | | | - false | | | | | | | ( | | | | | | | default): | | | | | | | disable | | | | | | | Pause of | | | | | | | Charging. | | +-----------+-----------+---+-----------+-----------+-----------+ | ueIp | Ipv4Addr | C | 0..1 | This IE | | | v4Address | | | | shall be | | | | | | | present | | | | | | | if a UE | | | | | | | IPv4 | | | | | | | address | | | | | | | to the | | | | | | | PDU | | | | | | | session. | | +-----------+-----------+---+-----------+-----------+-----------+ | ueI | I | C | 0..1 | This IE | | | pv6Prefix | pv6Prefix | | | shall be | | | | | | | present | | | | | | | if a UE | | | | | | | IPv6 | | | | | | | prefix to | | | | | | | the PDU | | | | | | | session. | | +-----------+-----------+---+-----------+-----------+-----------+ | epsP | EpsP | C | 0..1 | This IE | | | dnCnxInfo | dnCnxInfo | | | shall be | | | | | | | present | | | | | | | if the | | | | | | | PDU | | | | | | | session | | | | | | | may be | | | | | | | moved to | | | | | | | EPS | | | | | | | during | | | | | | | its | | | | | | | lifetime. | | +-----------+-----------+---+-----------+-----------+-----------+ | epsB | ar | C | 1..N | This IE | | | earerInfo | ray(EpsBe | | | shall be | | | | arerInfo) | | | present | | | | | | | if the | | | | | | | PDU | | | | | | | session | | | | | | | may be | | | | | | | moved to | | | | | | | EPS | | | | | | | during | | | | | | | its | | | | | | | lifetime. | | +-----------+-----------+---+-----------+-----------+-----------+ | ma | Ma | C | 0..1 | This IE | | | xIntegrit | xIntegrit | | | shall be | | | yProtecte | yProtecte | | | present | | | dDataRate | dDataRate | | | if the | | | | | | | u | | | | | | | pSecurity | | | | | | | IE is | | | | | | | present | | | | | | | and | | | | | | | indicates | | | | | | | that | | | | | | | integrity | | | | | | | p | | | | | | | rotection | | | | | | | is | | | | | | | preferred | | | | | | | or | | | | | | | required. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | indicate | | | | | | | the | | | | | | | maximum | | | | | | | integrity | | | | | | | protected | | | | | | | data rate | | | | | | | for | | | | | | | uplink. | | | | | | | | | | | | | | If the | | | | | | | maxI | | | | | | | ntegrityP | | | | | | | rotectedD | | | | | | | ataRateDl | | | | | | | _IE is | | | | | | | absent_ , | | | | | | | this IE | | | | | | | applies | | | | | | | to both | | | | | | | uplink | | | | | | | and | | | | | | | downlink. | | +-----------+-----------+---+-----------+-----------+-----------+ | maxI | Ma | C | 0..1 | This IE | | | ntegrityP | xIntegrit | | | may be | | | rotectedD | yProtecte | | | present | | | ataRateDl | dDataRate | | | if the | | | | | | | u | | | | | | | pSecurity | | | | | | | IE is | | | | | | | present | | | | | | | and | | | | | | | indicates | | | | | | | that | | | | | | | integrity | | | | | | | p | | | | | | | rotection | | | | | | | is | | | | | | | preferred | | | | | | | or | | | | | | | required. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | indicate | | | | | | | the | | | | | | | maximum | | | | | | | integrity | | | | | | | protected | | | | | | | data rate | | | | | | | for | | | | | | | downlink. | | +-----------+-----------+---+-----------+-----------+-----------+ | always | boolean | C | 0..1 | This IE | | | OnGranted | | | | shall be | | | | | | | present | | | | | | | if | | | | | | | a | | | | | | | vailable. | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | indicate | | | | | | | whether | | | | | | | this is | | | | | | | an always | | | | | | | On PDU | | | | | | | session | | | | | | | and it | | | | | | | shall be | | | | | | | set as | | | | | | | follows: | | | | | | | | | | | | | | - true: | | | | | | | always-on | | | | | | | PDU | | | | | | | session | | | | | | | granted. | | | | | | | | | | | | | | - false | | | | | | | ( | | | | | | | default): | | | | | | | always-on | | | | | | | PDU | | | | | | | session | | | | | | | not | | | | | | | granted. | | +-----------+-----------+---+-----------+-----------+-----------+ | u | U | O | 0..1 | When | | | pSecurity | pSecurity | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | indicate | | | | | | | the | | | | | | | security | | | | | | | policy | | | | | | | for | | | | | | | integrity | | | | | | | p | | | | | | | rotection | | | | | | | and | | | | | | | e | | | | | | | ncryption | | | | | | | for the | | | | | | | user | | | | | | | plane of | | | | | | | the PDU | | | | | | | session. | | +-----------+-----------+---+-----------+-----------+-----------+ | hSm | string | O | 0..1 | This IE | | | fServiceI | | | | may be | | | nstanceId | | | | present | | | | | | | for a HR | | | | | | | PDU | | | | | | | session. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | contain | | | | | | | the | | | | | | | serviceI | | | | | | | nstanceId | | | | | | | of the | | | | | | | H-SMF | | | | | | | service | | | | | | | instance | | | | | | | serving | | | | | | | the PDU | | | | | | | session. | | | | | | | | | | | | | | This IE | | | | | | | may be | | | | | | | used by | | | | | | | the V-SMF | | | | | | | to | | | | | | | identify | | | | | | | PDU | | | | | | | sessions | | | | | | | affected | | | | | | | by a | | | | | | | failure | | | | | | | or | | | | | | | restart | | | | | | | of the | | | | | | | H-SMF | | | | | | | service | | | | | | | (see | | | | | | | c | | | | | | | lause 6.2 | | | | | | | of | | | | | | | 3GPP | | | | | | | TS 23.527 | | | | | | | [24]). | | +-----------+-----------+---+-----------+-----------+-----------+ | sm | string | O | 0..1 | This IE | | | fServiceI | | | | may be | | | nstanceId | | | | present | | | | | | | for a PDU | | | | | | | session | | | | | | | with an | | | | | | | I-SMF. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | contain | | | | | | | the | | | | | | | serviceI | | | | | | | nstanceId | | | | | | | of the | | | | | | | SMF | | | | | | | service | | | | | | | instance | | | | | | | serving | | | | | | | the PDU | | | | | | | session. | | | | | | | | | | | | | | This IE | | | | | | | may be | | | | | | | used by | | | | | | | the I-SMF | | | | | | | to | | | | | | | identify | | | | | | | PDU | | | | | | | sessions | | | | | | | affected | | | | | | | by a | | | | | | | failure | | | | | | | or | | | | | | | restart | | | | | | | of the | | | | | | | SMF | | | | | | | service | | | | | | | (see | | | | | | | c | | | | | | | lause 6.2 | | | | | | | of | | | | | | | 3GPP | | | | | | | TS 23.527 | | | | | | | [24]). | | +-----------+-----------+---+-----------+-----------+-----------+ | rec | DateTime | O | 0..1 | This IE | | | overyTime | | | | may be | | | | | | | present | | | | | | | if | | | | | | | a | | | | | | | vailable. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | indicate | | | | | | | the | | | | | | | timestamp | | | | | | | when the | | | | | | | H-SMF or | | | | | | | SMF | | | | | | | service | | | | | | | instance | | | | | | | serving | | | | | | | the PDU | | | | | | | session | | | | | | | was | | | | | | | (r | | | | | | | e)started | | | | | | | (see | | | | | | | c | | | | | | | lause 6.3 | | | | | | | of | | | | | | | 3GPP | | | | | | | TS 23.527 | | | | | | | [24]). | | +-----------+-----------+---+-----------+-----------+-----------+ | forw | boolean | C | 0..1 | This IE | | | ardingInd | | | | shall be | | | | | | | present, | | | | | | | when | | | | | | | downlink | | | | | | | data | | | | | | | packets | | | | | | | are | | | | | | | buffered | | | | | | | at I-UPF. | | | | | | | The SMF | | | | | | | or I-SMF | | | | | | | shall use | | | | | | | this IE | | | | | | | to inform | | | | | | | the NF | | | | | | | service | | | | | | | consumer | | | | | | | that a | | | | | | | f | | | | | | | orwarding | | | | | | | tunnel is | | | | | | | needed | | | | | | | for | | | | | | | receiving | | | | | | | the | | | | | | | buffered | | | | | | | downlink | | | | | | | data | | | | | | | packets, | | | | | | | as | | | | | | | specified | | | | | | | in | | | | | | | clau | | | | | | | se 4.23.4 | | | | | | | of | | | | | | | 3GP | | | | | | | P TS 23.5 | | | | | | | 02 [3]. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | shall be | | | | | | | set as | | | | | | | follows: | | | | | | | | | | | | | | - true: | | | | | | | a | | | | | | | f | | | | | | | orwarding | | | | | | | tunnel is | | | | | | | needed | | | | | | | for | | | | | | | sending | | | | | | | buffered | | | | | | | downlink | | | | | | | data | | | | | | | packets; | | | | | | | | | | | | | | - false | | | | | | | ( | | | | | | | default): | | | | | | | f | | | | | | | orwarding | | | | | | | tunnel is | | | | | | | not | | | | | | | needed | | +-----------+-----------+---+-----------+-----------+-----------+ | psaT | T | C | 0..1 | This IE | | | unnelInfo | unnelInfo | | | shall be | | | | | | | present | | | | | | | if | | | | | | | a | | | | | | | vailable. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | contain | | | | | | | the N9 | | | | | | | tunnel | | | | | | | in | | | | | | | formation | | | | | | | of PDU | | | | | | | Session | | | | | | | Anchor | | | | | | | UPF | | | | | | | c | | | | | | | ontrolled | | | | | | | by SMF or | | | | | | | H-SMF. | | +-----------+-----------+---+-----------+-----------+-----------+ | c | string | C | 0..1 | This IE | | | hargingId | | | | shall be | | | | | | | present | | | | | | | for a HR | | | | | | | PDU | | | | | | | session, | | | | | | | in | | | | | | | scenarios | | | | | | | with a | | | | | | | V-SMF | | | | | | | inserti | | | | | | | on/change | | | | | | | /removal. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | contain | | | | | | | the | | | | | | | Charging | | | | | | | ID of the | | | | | | | PDU | | | | | | | session | | | | | | | (see | | | | | | | 3GPP | | | | | | | TS 32.255 | | | | | | | [25]). | | | | | | | | | | | | | | The | | | | | | | string | | | | | | | shall | | | | | | | encode | | | | | | | the | | | | | | | Charging | | | | | | | ID | | | | | | | (32-bit | | | | | | | unsigned | | | | | | | integer | | | | | | | value, | | | | | | | with | | | | | | | maximum | | | | | | | value | | | | | | | \"4294 | | | | | | | 967295\") | | | | | | | in | | | | | | | decimal | | | | | | | repres | | | | | | | entation. | | | | | | | | | | | | | | Pattern: | | | | | | | \ | | | | | | | '\^(0\|(\ | | | | | | | [1-9]{1} | | | | | | | [0-9]{0 | | | | | | | ,9}))\$\' | | | | | | | | | | | | | | (NOTE 4) | | +-----------+-----------+---+-----------+-----------+-----------+ | cha | C | C | 0..1 | This IE | | | rgingInfo | hargingIn | | | shall be | | | | formation | | | present | | | | | | | for a HR | | | | | | | PDU | | | | | | | session, | | | | | | | if | | | | | | | available | | | | | | | and if | | | | | | | the NF | | | | | | | Service | | | | | | | Consumer | | | | | | | r | | | | | | | equesting | | | | | | | the SM | | | | | | | Context | | | | | | | pertains | | | | | | | to the | | | | | | | same PLMN | | | | | | | (i.e. if | | | | | | | the | | | | | | | Retrieve | | | | | | | SM | | | | | | | Context | | | | | | | Request | | | | | | | does not | | | | | | | contain | | | | | | | the | | | | | | | servi | | | | | | | ngNetwork | | | | | | | attribute | | | | | | | set to a | | | | | | | different | | | | | | | PLMN ID). | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | contain | | | | | | | the | | | | | | | addresses | | | | | | | of the | | | | | | | V-CHF | | | | | | | used for | | | | | | | the PDU | | | | | | | session. | | +-----------+-----------+---+-----------+-----------+-----------+ | roam | Roam | C | 0..1 | This IE | | | ingChargi | ingChargi | | | shall be | | | ngProfile | ngProfile | | | present | | | | | | | for a HR | | | | | | | PDU | | | | | | | session, | | | | | | | if | | | | | | | available | | | | | | | and if | | | | | | | the NF | | | | | | | Service | | | | | | | Consumer | | | | | | | r | | | | | | | equesting | | | | | | | the SM | | | | | | | Context | | | | | | | pertains | | | | | | | to the | | | | | | | same PLMN | | | | | | | (i.e. if | | | | | | | the | | | | | | | Retrieve | | | | | | | SM | | | | | | | Context | | | | | | | Request | | | | | | | does not | | | | | | | contain | | | | | | | the | | | | | | | servi | | | | | | | ngNetwork | | | | | | | attribute | | | | | | | set to a | | | | | | | different | | | | | | | PLMN ID). | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | contain | | | | | | | the | | | | | | | Roaming | | | | | | | Charging | | | | | | | Profile | | | | | | | selected | | | | | | | by the | | | | | | | HPLMN | | | | | | | (see | | | | | | | clauses | | | | | | | 5.1.9.1, | | | | | | | 5.2.1.7 | | | | | | | and | | | | | | | 5 | | | | | | | .2.2.12.2 | | | | | | | of | | | | | | | 3GPP | | | | | | | TS 32.255 | | | | | | | [25]). | | +-----------+-----------+---+-----------+-----------+-----------+ | n | boolean | C | 0..1 | This IE | | | efExtBufS | | | | shall be | | | upportInd | | | | present | | | | | | | with | | | | | | | value | | | | | | | \"true\", | | | | | | | if the | | | | | | | anchor | | | | | | | NEF has | | | | | | | indicated | | | | | | | support | | | | | | | of | | | | | | | Extended | | | | | | | Buffering | | | | | | | for | | | | | | | mobile | | | | | | | t | | | | | | | erminated | | | | | | | data | | | | | | | during | | | | | | | SMF-NEF | | | | | | | c | | | | | | | onnection | | | | | | | estab | | | | | | | lishment. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | shall be | | | | | | | set as | | | | | | | f | | | | | | | ollowing: | | | | | | | | | | | | | | - true: | | | | | | | Extended | | | | | | | Buffering | | | | | | | supported | | | | | | | by NEF | | | | | | | | | | | | | | - false | | | | | | | ( | | | | | | | default): | | | | | | | Extended | | | | | | | Buffering | | | | | | | not | | | | | | | supported | | | | | | | by NEF | | +-----------+-----------+---+-----------+-----------+-----------+ | ipv6Index | IpIndex | C | 0..1 | This IE | | | | | | | shall be | | | | | | | present | | | | | | | during | | | | | | | I-SMF | | | | | | | change | | | | | | | s | | | | | | | cenarios, | | | | | | | if IPv6 | | | | | | | Index has | | | | | | | p | | | | | | | reviously | | | | | | | been | | | | | | | received | | | | | | | by old | | | | | | | I-SMF. | | +-----------+-----------+---+-----------+-----------+-----------+ | dnA | IpAddress | O | 0..1 | When | | | aaAddress | | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | contain | | | | | | | the | | | | | | | address | | | | | | | of DN-AAA | | | | | | | server | | | | | | | for UE IP | | | | | | | Address | | | | | | | a | | | | | | | llocation | | | | | | | p | | | | | | | reviously | | | | | | | received | | | | | | | by old | | | | | | | I-SMF. | | +-----------+-----------+---+-----------+-----------+-----------+ | redun | Red | C | 0..1 | This IE | | | dantPduSe | undantPdu | | | shall be | | | ssionInfo | SessionIn | | | present | | | | formation | | | for a PDU | | | | | | | session | | | | | | | with an | | | | | | | I-SMF, if | | | | | | | this | | | | | | | in | | | | | | | formation | | | | | | | has been | | | | | | | received | | | | | | | p | | | | | | | reviously | | | | | | | from the | | | | | | | UE, the | | | | | | | anchor | | | | | | | SMF or | | | | | | | the old | | | | | | | I-SMF. | | +-----------+-----------+---+-----------+-----------+-----------+ | ranT | QosF | C | 0..1 | This IE | | | unnelInfo | lowTunnel | | | shall be | | | | | | | present | | | | | | | if the | | | | | | | ranUnc | | | | | | | hangedInd | | | | | | | IE is set | | | | | | | to | | | | | | | \"true\" | | | | | | | in the SM | | | | | | | context | | | | | | | retrieve | | | | | | | request. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | contain | | | | | | | the N2 | | | | | | | tunnel | | | | | | | in | | | | | | | formation | | | | | | | of NG-RAN | | | | | | | with | | | | | | | a | | | | | | | ssociated | | | | | | | QoS flows | | | | | | | (see \"DL | | | | | | | QoS Flow | | | | | | | per TNL | | | | | | | Info | | | | | | | rmation\" | | | | | | | in | | | | | | | claus | | | | | | | e 9.3.4.2 | | | | | | | of | | | | | | | 3 | | | | | | | GPP 38.41 | | | | | | | 3 [9]). | | +-----------+-----------+---+-----------+-----------+-----------+ | addRanT | ar | C | 1..N | This IE | | | unnelInfo | ray(QosFl | | | shall be | | | | owTunnel) | | | present | | | | | | | if the | | | | | | | ranUnc | | | | | | | hangedInd | | | | | | | IE is set | | | | | | | to | | | | | | | \"true\" | | | | | | | in the SM | | | | | | | context | | | | | | | retrieve | | | | | | | request. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | contain | | | | | | | the | | | | | | | a | | | | | | | dditional | | | | | | | N2 tunnel | | | | | | | in | | | | | | | formation | | | | | | | of NG-RAN | | | | | | | together | | | | | | | with | | | | | | | a | | | | | | | ssociated | | | | | | | QoS flows | | | | | | | for split | | | | | | | PDU | | | | | | | session | | | | | | | (see | | | | | | | \"A | | | | | | | dditional | | | | | | | DL QoS | | | | | | | Flow per | | | | | | | TNL | | | | | | | Info | | | | | | | rmation\" | | | | | | | in | | | | | | | claus | | | | | | | e 9.3.4.2 | | | | | | | of | | | | | | | 3 | | | | | | | GPP 38.41 | | | | | | | 3 [9]). | | +-----------+-----------+---+-----------+-----------+-----------+ | redRanT | QosF | C | 0..1 | This IE | | | unnelInfo | lowTunnel | | | shall be | | | | | | | present | | | | | | | if the | | | | | | | ranUnc | | | | | | | hangedInd | | | | | | | IE is set | | | | | | | to | | | | | | | \"true\" | | | | | | | in the SM | | | | | | | context | | | | | | | retrieve | | | | | | | request. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | contain | | | | | | | the | | | | | | | a | | | | | | | dditional | | | | | | | N2 tunnel | | | | | | | in | | | | | | | formation | | | | | | | of NG-RAN | | | | | | | together | | | | | | | with | | | | | | | a | | | | | | | ssociated | | | | | | | QoS flows | | | | | | | for | | | | | | | Redundant | | | | | | | QoS | | | | | | | Flow(s) | | | | | | | (see | | | | | | | \" | | | | | | | Redundant | | | | | | | DL QoS | | | | | | | Flow per | | | | | | | TNL | | | | | | | Info | | | | | | | rmation\" | | | | | | | in | | | | | | | claus | | | | | | | e 9.3.4.2 | | | | | | | of | | | | | | | 3 | | | | | | | GPP 38.41 | | | | | | | 3 [9]). | | +-----------+-----------+---+-----------+-----------+-----------+ | a | ar | C | 1..N | This IE | | | ddRedRanT | ray(QosFl | | | shall be | | | unnelInfo | owTunnel) | | | present | | | | | | | if the | | | | | | | ranUnc | | | | | | | hangedInd | | | | | | | IE is set | | | | | | | to | | | | | | | \"true\" | | | | | | | in the SM | | | | | | | context | | | | | | | retrieve | | | | | | | request. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | contain | | | | | | | the | | | | | | | a | | | | | | | dditional | | | | | | | N2 tunnel | | | | | | | in | | | | | | | formation | | | | | | | of NG-RAN | | | | | | | together | | | | | | | with | | | | | | | a | | | | | | | ssociated | | | | | | | QoS flows | | | | | | | for | | | | | | | Redundant | | | | | | | QoS | | | | | | | Flow(s) | | | | | | | with | | | | | | | split PDU | | | | | | | session | | | | | | | (see | | | | | | | \"A | | | | | | | dditional | | | | | | | Redundant | | | | | | | DL QoS | | | | | | | Flow per | | | | | | | TNL | | | | | | | Info | | | | | | | rmation\" | | | | | | | in | | | | | | | claus | | | | | | | e 9.3.4.2 | | | | | | | of | | | | | | | 3 | | | | | | | GPP 38.41 | | | | | | | 3 [9]). | | +-----------+-----------+---+-----------+-----------+-----------+ | nspuS | boolean | C | 0..1 | This IE | | | upportInd | | | | shall be | | | | | | | present | | | | | | | and set | | | | | | | to | | | | | | | \"true\" | | | | | | | if the | | | | | | | e | | | | | | | nablePaus | | | | | | | eCharging | | | | | | | in the | | | | | | | SmContext | | | | | | | data type | | | | | | | is set to | | | | | | | \"true\" | | | | | | | and if | | | | | | | the | | | | | | | (H-)SMF | | | | | | | and PSA | | | | | | | UPF | | | | | | | support | | | | | | | Notify | | | | | | | Start | | | | | | | Pause of | | | | | | | Charging | | | | | | | via user | | | | | | | plane | | | | | | | feature | | | | | | | as | | | | | | | specified | | | | | | | in | | | | | | | cl | | | | | | | ause 5.30 | | | | | | | of | | | | | | | 3GPP | | | | | | | TS 29.24 | | | | | | | 4 [29]. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | be set as | | | | | | | follows: | | | | | | | | | | | | | | > \- | | | | | | | > true: | | | | | | | > Notify | | | | | | | > Start | | | | | | | > Pause | | | | | | | > of | | | | | | | > | | | | | | | Charging | | | | | | | > via | | | | | | | > user | | | | | | | > plane | | | | | | | > feature | | | | | | | > is | | | | | | | > s | | | | | | | upported. | | +-----------+-----------+---+-----------+-----------+-----------+ | smfBi | string | C | 0..1 | This IE | | | ndingInfo | | | | shall be | | | | | | | present, | | | | | | | if | | | | | | | a | | | | | | | vailable. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | contain | | | | | | | the | | | | | | | Binding | | | | | | | in | | | | | | | dications | | | | | | | of the | | | | | | | PDU | | | | | | | session | | | | | | | resource | | | | | | | in the | | | | | | | home SMF | | | | | | | or the | | | | | | | SMF and | | | | | | | shall be | | | | | | | set to | | | | | | | the value | | | | | | | of the | | | | | | | 3gpp-Sb | | | | | | | i-Binding | | | | | | | header | | | | | | | defined | | | | | | | in | | | | | | | clause | | | | | | | 5.2.3.2.6 | | | | | | | of | | | | | | | 3GP | | | | | | | P TS 29.5 | | | | | | | 00 [4], | | | | | | | without | | | | | | | the | | | | | | | header | | | | | | | name. | | +-----------+-----------+---+-----------+-----------+-----------+ | sa | Satelli | O | 0..1 | When | | | telliteBa | teBackhau | | | present, | | | ckhaulCat | lCategory | | | this IE | | | | | | | shall | | | | | | | indicate | | | | | | | the | | | | | | | satellite | | | | | | | backhaul | | | | | | | category | | | | | | | in | | | | | | | formation | | | | | | | last | | | | | | | signalled | | | | | | | towards | | | | | | | the | | | | | | | anchor | | | | | | | SMF, if | | | | | | | any. | | +-----------+-----------+---+-----------+-----------+-----------+ | sscMode | string | C | 0..1 | This IE | | | | | | | shall be | | | | | | | present, | | | | | | | if | | | | | | | a | | | | | | | vailable. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | indicate | | | | | | | the SSC | | | | | | | mode | | | | | | | a | | | | | | | pplicable | | | | | | | to the | | | | | | | PDU | | | | | | | session. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | be | | | | | | | encoded | | | | | | | as one | | | | | | | character | | | | | | | in | | | | | | | he | | | | | | | xadecimal | | | | | | | repres | | | | | | | entation, | | | | | | | taking a | | | | | | | value of | | | | | | | \"0\" to | | | | | | | \"7\", | | | | | | | rep | | | | | | | resenting | | | | | | | the 3 | | | | | | | bits of | | | | | | | the SSC | | | | | | | mode | | | | | | | value of | | | | | | | the SSC | | | | | | | mode IE | | | | | | | specified | | | | | | | in | | | | | | | clause | | | | | | | 9.11.4.16 | | | | | | | of | | | | | | | 3GP | | | | | | | P TS 24.5 | | | | | | | 01 [7]. | | | | | | | | | | | | | | Pattern: | | | | | | | \"\^[ | | | | | | | 0-7]\$\" | | | | | | | | | | | | | | Example: | | | | | | | SSC mode | | | | | | | 3 shall | | | | | | | be | | | | | | | encoded | | | | | | | as \"3\". | | +-----------+-----------+---+-----------+-----------+-----------+ | dlsetS | boolean | C | 0..1 | This IE | | | upportInd | | | | shall be | | | | | | | present | | | | | | | and set | | | | | | | to | | | | | | | \"true\" | | | | | | | if the | | | | | | | (H-)SMF | | | | | | | supports | | | | | | | the | | | | | | | \"DLSET\" | | | | | | | feature | | | | | | | as | | | | | | | specified | | | | | | | in | | | | | | | clau | | | | | | | se 6.1.8. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | be set as | | | | | | | follows: | | | | | | | | | | | | | | > \- | | | | | | | > true: | | | | | | | > the | | | | | | | > (H-)SMF | | | | | | | > | | | | | | | supports | | | | | | | > the | | | | | | | > | | | | | | | \"DLSET\" | | | | | | | > | | | | | | | feature. | | | | | | | > | | | | | | | > \- | | | | | | | > false: | | | | | | | > the | | | | | | | > (H-)SMF | | | | | | | > does | | | | | | | > not | | | | | | | > support | | | | | | | > the | | | | | | | > | | | | | | | \"DLSET\" | | | | | | | > feature | | +-----------+-----------+---+-----------+-----------+-----------+ | n9fscS | boolean | C | 0..1 | This IE | | | upportInd | | | | shall be | | | | | | | present | | | | | | | and set | | | | | | | to | | | | | | | \"true\" | | | | | | | if the | | | | | | | SMF | | | | | | | supports | | | | | | | the | | | | | | | \"N9FSC\" | | | | | | | feature | | | | | | | as | | | | | | | specified | | | | | | | in | | | | | | | clau | | | | | | | se 6.1.8. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | be set as | | | | | | | follows: | | | | | | | | | | | | | | > \- | | | | | | | > true: | | | | | | | > | | | | | | | \"N9FSC\" | | | | | | | > feature | | | | | | | > is | | | | | | | > s | | | | | | | upported. | | +-----------+-----------+---+-----------+-----------+-----------+ | disasterR | boolean | O | 0..1 | When | | | oamingInd | | | | present, | | | | | | | this IE | | | | | | | shall be | | | | | | | set as | | | | | | | follows: | | | | | | | | | | | | | | > \- | | | | | | | > true: | | | | | | | > the UE | | | | | | | > is | | | | | | | > r | | | | | | | egistered | | | | | | | > for | | | | | | | > | | | | | | | Disaster | | | | | | | > Roaming | | | | | | | > service | | | | | | | | | | | | | | - false | | | | | | | ( | | | | | | | default): | | | | | | | the UE is | | | | | | | not | | | | | | | r | | | | | | | egistered | | | | | | | for | | | | | | | Disaster | | | | | | | Roaming | | | | | | | service | | +-----------+-----------+---+-----------+-----------+-----------+ | ancho | boolean | O | 0..1 | This IE | | | rSmfOauth | | | | may be | | | 2Required | | | | present | | | | | | | when the | | | | | | | NF | | | | | | | consumer | | | | | | | (i.e. new | | | | | | | I-SMF or | | | | | | | new | | | | | | | V-SMF) | | | | | | | and the | | | | | | | NF | | | | | | | producer | | | | | | | (i.e. the | | | | | | | old | | | | | | | I-SMF, | | | | | | | V-SMF or | | | | | | | SMF) | | | | | | | belong to | | | | | | | the same | | | | | | | PLMN. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | indicate | | | | | | | whether | | | | | | | the H-SMF | | | | | | | or SMF | | | | | | | for a PDU | | | | | | | session | | | | | | | with an | | | | | | | I-SMF | | | | | | | requires | | | | | | | Oau | | | | | | | th2-based | | | | | | | auth | | | | | | | orization | | | | | | | for | | | | | | | accessing | | | | | | | its | | | | | | | Nsmf_P | | | | | | | DUSession | | | | | | | service. | | | | | | | | | | | | | | - true: | | | | | | | OAuth2 | | | | | | | based | | | | | | | auth | | | | | | | orization | | | | | | | is | | | | | | | required. | | | | | | | | | | | | | | - false: | | | | | | | OAuth2 | | | | | | | based | | | | | | | auth | | | | | | | orization | | | | | | | is not | | | | | | | required. | | | | | | | | | | | | | | The | | | | | | | absence | | | | | | | of this | | | | | | | IE means | | | | | | | that no | | | | | | | i | | | | | | | ndication | | | | | | | is | | | | | | | available | | | | | | | about the | | | | | | | usage of | | | | | | | Oauth2 | | | | | | | for | | | | | | | auth | | | | | | | orization | | | | | | | of the | | | | | | | anchor | | | | | | | SMF\'s | | | | | | | Nsmf_P | | | | | | | DUSession | | | | | | | service. | | | | | | | | | | | | | | (NOTE 3) | | +-----------+-----------+---+-----------+-----------+-----------+ | ful | ar | O | 1..N | This IE | D | | lDnaiList | ray(Dnai) | | | may be | TSSA-Ext1 | | | | | | present | | | | | | | to | | | | | | | contain | | | | | | | the full | | | | | | | list of | | | | | | | DNAIs of | | | | | | | interest | | | | | | | for PDU | | | | | | | session, | | | | | | | including | | | | | | | DNAIs | | | | | | | that may | | | | | | | not be | | | | | | | supported | | | | | | | by the | | | | | | | (source) | | | | | | | I-SMF and | | | | | | | excluding | | | | | | | the ones | | | | | | | supported | | | | | | | by the | | | | | | | Anchor | | | | | | | SMF. | | +-----------+-----------+---+-----------+-----------+-----------+ | hrsboA | boolean | C | 0..1 | This IE | HR-SBO | | uthResult | | | | shall be | | | | | | | present | | | | | | | for a HR | | | | | | | PDU | | | | | | | session, | | | | | | | during a | | | | | | | V-SMF | | | | | | | change | | | | | | | within | | | | | | | the same | | | | | | | PLMN | | | | | | | (i.e. if | | | | | | | the | | | | | | | Retrieve | | | | | | | SM | | | | | | | Context | | | | | | | Request | | | | | | | does not | | | | | | | contain | | | | | | | the | | | | | | | servi | | | | | | | ngNetwork | | | | | | | attribute | | | | | | | set to a | | | | | | | different | | | | | | | PLMN ID), | | | | | | | if HR-SBO | | | | | | | was | | | | | | | a | | | | | | | uthorized | | | | | | | by the | | | | | | | H-SMF and | | | | | | | the | | | | | | | request | | | | | | | indicates | | | | | | | that the | | | | | | | new V-SMF | | | | | | | supports | | | | | | | HR-SBO. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | Indicate | | | | | | | whether | | | | | | | HR-SBO | | | | | | | request | | | | | | | is | | | | | | | a | | | | | | | uthorized | | | | | | | | | | | | | | - true: | | | | | | | au | | | | | | | thorized. | | | | | | | | | | | | | | - false: | | | | | | | Not | | | | | | | au | | | | | | | thorized. | | +-----------+-----------+---+-----------+-----------+-----------+ | hDnsAddr | IpAddress | C | 0..1 | This IE | HR-SBO | | | | | | shall be | | | | | | | present | | | | | | | for a HR | | | | | | | PDU | | | | | | | session, | | | | | | | during a | | | | | | | V-SMF | | | | | | | change | | | | | | | within | | | | | | | the same | | | | | | | PLMN | | | | | | | (i.e. if | | | | | | | the | | | | | | | Retrieve | | | | | | | SM | | | | | | | Context | | | | | | | Request | | | | | | | does not | | | | | | | contain | | | | | | | the | | | | | | | servi | | | | | | | ngNetwork | | | | | | | attribute | | | | | | | set to a | | | | | | | different | | | | | | | PLMN ID), | | | | | | | if | | | | | | | a | | | | | | | vailable, | | | | | | | HR-SBO | | | | | | | was | | | | | | | a | | | | | | | uthorized | | | | | | | by the | | | | | | | H-SMF and | | | | | | | the | | | | | | | request | | | | | | | indicates | | | | | | | that the | | | | | | | new V-SMF | | | | | | | supports | | | | | | | HR-SBO. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | contain | | | | | | | the DNS | | | | | | | server | | | | | | | address | | | | | | | of HPLMN. | | +-----------+-----------+---+-----------+-----------+-----------+ | hPlmnAddr | IpAddress | C | 0..1 | This IE | HR-SBO | | | | | | shall be | | | | | | | present | | | | | | | for a HR | | | | | | | PDU | | | | | | | session, | | | | | | | during a | | | | | | | V-SMF | | | | | | | change | | | | | | | within | | | | | | | the same | | | | | | | PLMN | | | | | | | (i.e. if | | | | | | | the | | | | | | | Retrieve | | | | | | | SM | | | | | | | Context | | | | | | | Request | | | | | | | does not | | | | | | | contain | | | | | | | the | | | | | | | servi | | | | | | | ngNetwork | | | | | | | attribute | | | | | | | set to a | | | | | | | different | | | | | | | PLMN ID), | | | | | | | if | | | | | | | a | | | | | | | vailable, | | | | | | | HR-SBO | | | | | | | was | | | | | | | a | | | | | | | uthorized | | | | | | | by the | | | | | | | H-SMF and | | | | | | | the | | | | | | | request | | | | | | | indicates | | | | | | | that the | | | | | | | new V-SMF | | | | | | | supports | | | | | | | HR-SBO. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | contain | | | | | | | the HPLMN | | | | | | | address | | | | | | | in | | | | | | | formation | | | | | | | (e.g. | | | | | | | H-UPF IP | | | | | | | address | | | | | | | on N6). | | | | | | | The new | | | | | | | V-SMF may | | | | | | | configure | | | | | | | the new | | | | | | | V-EASDF | | | | | | | to build | | | | | | | EDNS | | | | | | | Client | | | | | | | Subnet | | | | | | | option | | | | | | | based on | | | | | | | this | | | | | | | HPLMN | | | | | | | address | | | | | | | in | | | | | | | formation | | | | | | | for | | | | | | | target | | | | | | | FQDN of | | | | | | | DNS | | | | | | | queries | | | | | | | which are | | | | | | | not | | | | | | | a | | | | | | | uthorized | | | | | | | for | | | | | | | HR-SBO. | | +-----------+-----------+---+-----------+-----------+-----------+ | v | V | C | 0..1 | This IE | HR-SBO | | plmnOfflo | plmnOfflo | | | shall be | | | adingInfo | adingInfo | | | present | | | | | | | for a HR | | | | | | | PDU | | | | | | | session, | | | | | | | during a | | | | | | | V-SMF | | | | | | | change | | | | | | | within | | | | | | | the same | | | | | | | PLMN | | | | | | | (i.e. if | | | | | | | the | | | | | | | Retrieve | | | | | | | SM | | | | | | | Context | | | | | | | Request | | | | | | | does not | | | | | | | contain | | | | | | | the | | | | | | | servi | | | | | | | ngNetwork | | | | | | | attribute | | | | | | | set to a | | | | | | | different | | | | | | | PLMN ID), | | | | | | | if | | | | | | | a | | | | | | | vailable, | | | | | | | HR-SBO | | | | | | | was | | | | | | | a | | | | | | | uthorized | | | | | | | by the | | | | | | | H-SMF and | | | | | | | the | | | | | | | request | | | | | | | indicates | | | | | | | that the | | | | | | | new V-SMF | | | | | | | supports | | | | | | | HR-SBO. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | contain | | | | | | | the | | | | | | | V-PLMN | | | | | | | O | | | | | | | ffloading | | | | | | | Info that | | | | | | | was | | | | | | | received | | | | | | | from the | | | | | | | H-SMF for | | | | | | | the | | | | | | | VPLMN. | | +-----------+-----------+---+-----------+-----------+-----------+ | pen | array( | O | 1..N | This IE | | | dingUpdat | PendingUp | | | should be | | | eInfoList | dateInfo) | | | included | | | | | | | by the | | | | | | | old | | | | | | | V- | | | | | | | SMF/I-SMF | | | | | | | if | | | | | | | received | | | | | | | from the | | | | | | | (H-)SMF. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | indicate | | | | | | | the list | | | | | | | of | | | | | | | in | | | | | | | formation | | | | | | | that are | | | | | | | not | | | | | | | required | | | | | | | to be | | | | | | | updated | | | | | | | in | | | | | | | real-time | | | | | | | to the | | | | | | | (H-)SMF, | | | | | | | i.e. the | | | | | | | change of | | | | | | | the | | | | | | | listed | | | | | | | in | | | | | | | formation | | | | | | | (e.g. UE | | | | | | | location | | | | | | | or | | | | | | | Timezone) | | | | | | | may be | | | | | | | pi | | | | | | | ggybacked | | | | | | | in a | | | | | | | s | | | | | | | ubsequent | | | | | | | essential | | | | | | | update | | | | | | | (e.g. to | | | | | | | exchange | | | | | | | the N1 | | | | | | | message | | | | | | | from the | | | | | | | UE) to | | | | | | | the | | | | | | | (H-)SMF. | | | | | | | The NF | | | | | | | service | | | | | | | consumer | | | | | | | (i.e. | | | | | | | I-S | | | | | | | MF/V-SMF) | | | | | | | should | | | | | | | not | | | | | | | trigger | | | | | | | an Update | | | | | | | to the | | | | | | | (H-)SMF | | | | | | | including | | | | | | | only the | | | | | | | change(s) | | | | | | | of the | | | | | | | listed | | | | | | | inf | | | | | | | ormation. | | +-----------+-----------+---+-----------+-----------+-----------+ | NOTE 1: | | | | | | | If | | | | | | | present, | | | | | | | this | | | | | | | attribute | | | | | | | shall be | | | | | | | used | | | | | | | together | | | | | | | with | | | | | | | routingI | | | | | | | ndicator. | | | | | | | This | | | | | | | attribute | | | | | | | is only | | | | | | | used by | | | | | | | the HPLMN | | | | | | | in | | | | | | | roaming | | | | | | | s | | | | | | | cenarios. | | | | | | | | | | | | | | NOTE 2: | | | | | | | See NOTE | | | | | | | 7 of | | | | | | | T | | | | | | | able 6.1. | | | | | | | 6.2.10-1. | | | | | | | | | | | | | | NOTE 3: | | | | | | | If the | | | | | | | ancho | | | | | | | rSmfOauth | | | | | | | 2Required | | | | | | | IE was | | | | | | | received | | | | | | | in | | | | | | | S | | | | | | | mContextC | | | | | | | reateData | | | | | | | from the | | | | | | | AMF, this | | | | | | | IE shall | | | | | | | be | | | | | | | ignored | | | | | | | by the | | | | | | | new I-SMF | | | | | | | or V-SMF. | | | | | | | | | | | | | | NOTE 4: | | | | | | | Usage of | | | | | | | Charging | | | | | | | ID with | | | | | | | Uint32 | | | | | | | value for | | | | | | | roaming | | | | | | | scenarios | | | | | | | may lead | | | | | | | to | | | | | | | Charging | | | | | | | ID | | | | | | | collision | | | | | | | between | | | | | | | SMFs. | | | | | | +-----------+-----------+---+-----------+-----------+-----------+
##### 6.1.6.2.40 Type: ExemptionInd
The ExemptionInd indicates that the included NAS SM message was exempted from
one or more NAS SM congestion control, e.g. DNN, and/or S-NSSAI based
congestion control, activated in the AMF.
Table 6.1.6.2.40-1: Definition of type ExemptionInd
+-----------------+-----------+---+-------------+-----------------+ | Attribute name | Data type | P | Cardinality | Description | +=================+===========+===+=============+=================+ | dnnCongestion | boolean | C | 0..1 | This IE shall | | | | | | be present and | | | | | | set to Yes if | | | | | | the included | | | | | | NAS Session | | | | | | Management | | | | | | message was | | | | | | exempted from | | | | | | the DNN based | | | | | | congestion | | | | | | activated in | | | | | | the AMF. | | | | | | | | | | | | true: Yes\ | | | | | | false | | | | | | (default): No | +-----------------+-----------+---+-------------+-----------------+ | s | boolean | C | 0..1 | This IE shall | | nssaiCongestion | | | | be present and | | | | | | set to Yes if | | | | | | the included | | | | | | NAS Session | | | | | | Management | | | | | | message was | | | | | | exempted from | | | | | | the S-NSSAI | | | | | | only based | | | | | | congestion | | | | | | activated in | | | | | | the AMF. | | | | | | | | | | | | true: Yes\ | | | | | | false | | | | | | (default): No | +-----------------+-----------+---+-------------+-----------------+ | snss | boolean | C | 0..1 | This IE shall | | aiDnnCongestion | | | | be present and | | | | | | set to Yes if | | | | | | the included | | | | | | NAS Session | | | | | | Management | | | | | | message was | | | | | | exempted from | | | | | | the S-NSSAI and | | | | | | DNN based | | | | | | congestion | | | | | | activated in | | | | | | the AMF. | | | | | | | | | | | | true: Yes\ | | | | | | false | | | | | | (default): No | +-----------------+-----------+---+-------------+-----------------+
##### 6.1.6.2.41 Type: PsaInformation
Table 6.1.6.2.41-1: Definition of type PsaInformation
Attribute name Data type P Cardinality Description
* * *
psaInd PsaIndication M 1 This IE shall indicate, for a PDU session with an
I-SMF, if a PSA and UL CL or BP, or only a PSA is inserted or removed by the
I-SMF. dnaiList array(Dnai) M 1..N This IE shall indicate the DNAI(s)
supported by the PSA that is inserted or removed. ueIpv6Prefix Ipv6Prefix C
0..1 This IE shall be present if a PSA and UL CL or BP is inserted or removed,
and IPv6 multi-homing applies to the PDU session. psaUpfId NfInstanceId C 0..1
This IE shall be present if a PSA UPF is inserted by the I-SMF. When present,
it shall contain the identifier of the PSA UPF.
##### 6.1.6.2.42 Type: DnaiInformation
Table 6.1.6.2.42-1: Definition of type DnaiInformation
+-----------------+-----------+---+-------------+-----------------+ | Attribute name | Data type | P | Cardinality | Description | +=================+===========+===+=============+=================+ | dnai | Dnai | M | 1 | | +-----------------+-----------+---+-------------+-----------------+ | noDnaiChangeInd | boolean | C | 0..1 | This IE shall | | | | | | be sent by the | | | | | | SMF to the | | | | | | I-SMF during | | | | | | the insertion | | | | | | of a PSA and | | | | | | BP/UL CL | | | | | | controlled by | | | | | | I-SMF. | | | | | | | | | | | | When present, | | | | | | it shall be set | | | | | | as follows: | | | | | | | | | | | | > \- true: DNAI | | | | | | > shall not be | | | | | | > changed; | | | | | | > | | | | | | > \- false: | | | | | | > DNAI may be | | | | | | > changed. | +-----------------+-----------+---+-------------+-----------------+ | noLo | boolean | C | 0..1 | This IE shall | | calPsaChangeInd | | | | be sent by the | | | | | | SMF to the | | | | | | I-SMF during | | | | | | the insertion | | | | | | of a PSA and | | | | | | BP/UL CL | | | | | | controlled by | | | | | | I-SMF. | | | | | | | | | | | | When present, | | | | | | it shall be set | | | | | | as follows: | | | | | | | | | | | | > \- true: | | | | | | > local PSA | | | | | | > shall not be | | | | | | > changed; | | | | | | > | | | | | | > \- false: | | | | | | > local PSA may | | | | | | > be changed. | +-----------------+-----------+---+-------------+-----------------+
##### 6.1.6.2.43 Type: N4Information
Table 6.1.6.2.43-1: Definition of type N4Information
+-----------+-----------+---+-----------+-----------+-----------+ | Attribute | Data type | P | Ca | De | Appl | | name | | | rdinality | scription | icability | +===========+===========+===+===========+===========+===========+ | n4Me | N4Me | M | 1 | This IE | | | ssageType | ssageType | | | shall | | | | | | | indicate | | | | | | | the PFCP | | | | | | | message | | | | | | | signalled | | | | | | | in the | | | | | | | n4Messag | | | | | | | ePayload. | | +-----------+-----------+---+-----------+-----------+-----------+ | n4Messa | RefToB | M | 1 | This IE | | | gePayload | inaryData | | | shall | | | | | | | reference | | | | | | | the N4 | | | | | | | Message | | | | | | | Payload | | | | | | | binary | | | | | | | data (for | | | | | | | the | | | | | | | n4Info | | | | | | | a | | | | | | | ttribute) | | | | | | | or the N4 | | | | | | | In | | | | | | | formation | | | | | | | extension | | | | | | | binary | | | | | | | data (for | | | | | | | the | | | | | | | n4 | | | | | | | InfoExt1, | | | | | | | n | | | | | | | 4InfoExt2 | | | | | | | and | | | | | | | n | | | | | | | 4InfoExt3 | | | | | | | att | | | | | | | ributes), | | | | | | | see | | | | | | | clause 6 | | | | | | | .1.6.4.5. | | +-----------+-----------+---+-----------+-----------+-----------+ | n | DnaiIn | C | 0..1 | This IE | | | 4DnaiInfo | formation | | | shall be | | | | | | | present | | | | | | | if the N4 | | | | | | | in | | | | | | | formation | | | | | | | relates | | | | | | | to a PSA. | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | indicate | | | | | | | the DNAI | | | | | | | related | | | | | | | to the N4 | | | | | | | Inf | | | | | | | ormation. | | | | | | | If this | | | | | | | IE is not | | | | | | | present, | | | | | | | this | | | | | | | indicates | | | | | | | N4 | | | | | | | in | | | | | | | formation | | | | | | | relates | | | | | | | to an UL | | | | | | | CL or BP. | | +-----------+-----------+---+-----------+-----------+-----------+ | psaUpfId | NfI | O | 0..1 | This IE | | | | nstanceId | | | may be | | | | | | | sent by | | | | | | | SMF to | | | | | | | I-SMF if | | | | | | | multiple | | | | | | | local | | | | | | | PSAs are | | | | | | | inserted | | | | | | | for the | | | | | | | PDU | | | | | | | session. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | contain | | | | | | | the | | | | | | | i | | | | | | | dentifier | | | | | | | of the | | | | | | | PSA UPF | | | | | | | for which | | | | | | | the N4 | | | | | | | in | | | | | | | formation | | | | | | | applies. | | +-----------+-----------+---+-----------+-----------+-----------+ | ulClBpId | NfI | O | 0..1 | When | | | | nstanceId | | | present, | | | | | | | it shall | | | | | | | contain | | | | | | | the | | | | | | | i | | | | | | | dentifier | | | | | | | of the UL | | | | | | | CL/BP for | | | | | | | which the | | | | | | | N4 | | | | | | | in | | | | | | | formation | | | | | | | applies. | | +-----------+-----------+---+-----------+-----------+-----------+ | n9Ul | arra | C | 1..N | This IE | N9FSC | | PdrIdList | y(Uint16) | | | shall be | | | | | | | sent by | | | | | | | the | | | | | | | anchor | | | | | | | SMF to | | | | | | | the (new) | | | | | | | I-SMF as | | | | | | | specified | | | | | | | in | | | | | | | clauses | | | | | | | 4.23.9.4 | | | | | | | and | | | | | | | 4.23.9.5 | | | | | | | of | | | | | | | 3G | | | | | | | PP TS 23. | | | | | | | 502 [3] | | | | | | | during | | | | | | | sim | | | | | | | ultaneous | | | | | | | change of | | | | | | | Branching | | | | | | | Points or | | | | | | | UL CLs | | | | | | | c | | | | | | | ontrolled | | | | | | | by I-SMF | | | | | | | or | | | | | | | c | | | | | | | ontrolled | | | | | | | by | | | | | | | different | | | | | | | I-SMFs, | | | | | | | if EAS | | | | | | | session | | | | | | | c | | | | | | | ontinuity | | | | | | | upon UL | | | | | | | CL | | | | | | | r | | | | | | | elocation | | | | | | | is | | | | | | | required. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | contain | | | | | | | the list | | | | | | | of Rule | | | | | | | IDs of | | | | | | | the UL | | | | | | | PDR(s) | | | | | | | included | | | | | | | in the | | | | | | | N4In | | | | | | | formation | | | | | | | to | | | | | | | establish | | | | | | | the UL N9 | | | | | | | data | | | | | | | f | | | | | | | orwarding | | | | | | | in the | | | | | | | target | | | | | | | Branching | | | | | | | Point or | | | | | | | UL CL | | | | | | | towards | | | | | | | the old | | | | | | | Branching | | | | | | | Point or | | | | | | | UL CL. | | +-----------+-----------+---+-----------+-----------+-----------+
##### 6.1.6.2.44 Type: IndirectDataForwardingTunnelInfo
Table 6.1.6.2.44-1: Definition of type IndirectDataForwardingTunnelInfo
+---------------+---------------+---+-------------+---------------+ | Attribute | Data type | P | Cardinality | Description | | name | | | | | +===============+===============+===+=============+===============+ | ipv4Addr | Ipv4Addr | C | 0..1 | When present, | | | | | | this IE shall | | | | | | contain the | | | | | | GTP tunnel | | | | | | IPv4 address. | | | | | | | | | | | | At least one | | | | | | of the | | | | | | ipv4Addr or | | | | | | ipv6Addr | | | | | | shall be | | | | | | present. Both | | | | | | may be | | | | | | present. | +---------------+---------------+---+-------------+---------------+ | ipv6Addr | Ipv6Addr | C | 0..1 | When present, | | | | | | this IE shall | | | | | | contain the | | | | | | GTP tunnel | | | | | | IPv6 address. | | | | | | | | | | | | At least one | | | | | | of the | | | | | | ipv4Addr or | | | | | | ipv6Addr | | | | | | shall be | | | | | | present. Both | | | | | | may be | | | | | | present. | +---------------+---------------+---+-------------+---------------+ | gtpTeid | Teid | M | 1 | This IE shall | | | | | | contain the | | | | | | 4-octet GTP | | | | | | tunnel | | | | | | endpoint | | | | | | identifier. | | | | | | | | | | | | If both | | | | | | ipv4Addr and | | | | | | ipv6Addr are | | | | | | present, the | | | | | | TEID shall be | | | | | | shared by | | | | | | both | | | | | | addresses. | +---------------+---------------+---+-------------+---------------+ | drbId | DrbId | C | 0..1 | This IE shall | | | | | | be present if | | | | | | this is an | | | | | | indirect data | | | | | | forwarding | | | | | | tunnel for a | | | | | | specific Data | | | | | | Radio Bearer | | | | | | (see | | | | | | cl | | | | | | ause 9.3.1.77 | | | | | | of | | | | | | 3GPP TS 3 | | | | | | 8.413 [9]). | | | | | | | | | | | | This IE shall | | | | | | not present | | | | | | if the | | | | | | ad | | | | | | ditionalTnlNb | | | | | | IE is | | | | | | present. | | | | | | | | | | | | (NOTE) | +---------------+---------------+---+-------------+---------------+ | ad | Ad | C | 0..1 | This IE shall | | ditionalTnlNb | ditionalTnlNb | | | be present if | | | | | | this is an | | | | | | additional | | | | | | indirect data | | | | | | forwarding | | | | | | tunnel for | | | | | | multi- | | | | | | connectivity. | | | | | | | | | | | | When present, | | | | | | it shall be | | | | | | set to the | | | | | | value 1 to 3 | | | | | | to indicate | | | | | | whether this | | | | | | is the first, | | | | | | second or | | | | | | third | | | | | | additional | | | | | | indirect data | | | | | | forwarding | | | | | | tunnel for | | | | | | multi- | | | | | | connectivity. | | | | | | | | | | | | This IE shall | | | | | | not present | | | | | | if the drbId | | | | | | IE is | | | | | | present. | | | | | | (NOTE) | +---------------+---------------+---+-------------+---------------+ | NOTE: If | | | | | | neither the | | | | | | drbId IE nor | | | | | | the | | | | | | ad | | | | | | ditionalTnlNb | | | | | | IE is | | | | | | present, the | | | | | | tunnel | | | | | | information | | | | | | shall | | | | | | correspond to | | | | | | the PDU | | | | | | session level | | | | | | indirect data | | | | | | forwarding | | | | | | tunnel (i.e. | | | | | | DL Forwarding | | | | | | UP TNL | | | | | | Information | | | | | | IE or UL | | | | | | Forwarding UP | | | | | | TNL | | | | | | Information | | | | | | IE of the | | | | | | Handover | | | | | | Request | | | | | | Acknowledge | | | | | | Transfer IE | | | | | | of | | | | | | cl | | | | | | ause 9.3.4.11 | | | | | | of | | | | | | 3GPP TS 3 | | | | | | 8.413 [9]). | | | | | +---------------+---------------+---+-------------+---------------+
##### 6.1.6.2.45 Type: SmContextReleasedData
Table 6.1.6.2.45-1: Definition of type SmContextReleasedData
+-----------+-----------+---+-----------+-----------+-----------+ | Attribute | Data type | P | Ca | De | Appl | | name | | | rdinality | scription | icability | +===========+===========+===+===========+===========+===========+ | s | S | C | 0..1 | This IE | CIOT | | mallDataR | mallDataR | | | shall be | | | ateStatus | ateStatus | | | present, | | | | | | | if the NF | | | | | | | Service | | | | | | | Consumer | | | | | | | has | | | | | | | indicated | | | | | | | support | | | | | | | of CIoT | | | | | | | and if | | | | | | | the | | | | | | | status is | | | | | | | a | | | | | | | vailable. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | indicate | | | | | | | the | | | | | | | current | | | | | | | small | | | | | | | data rate | | | | | | | control | | | | | | | status | | | | | | | for the | | | | | | | PDU | | | | | | | session. | | +-----------+-----------+---+-----------+-----------+-----------+ | apnR | ApnR | C | 0..1 | This IE | CIOT | | ateStatus | ateStatus | | | shall be | | | | | | | present, | | | | | | | if the NF | | | | | | | Service | | | | | | | Consumer | | | | | | | has | | | | | | | indicated | | | | | | | support | | | | | | | of CIoT | | | | | | | and if | | | | | | | the | | | | | | | status is | | | | | | | a | | | | | | | vailable. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | indicate | | | | | | | the | | | | | | | current | | | | | | | APN rate | | | | | | | control | | | | | | | status | | | | | | | for the | | | | | | | PDN | | | | | | | c | | | | | | | onnection | | | | | | | (APN | | | | | | | rates are | | | | | | | shared by | | | | | | | all PDN | | | | | | | co | | | | | | | nnections | | | | | | | of the UE | | | | | | | to this | | | | | | | APN). | | +-----------+-----------+---+-----------+-----------+-----------+
##### 6.1.6.2.46 Type: ReleasedData
Table 6.1.6.2.46-1: Definition of type ReleasedData
+-----------+-----------+---+-----------+-----------+-----------+ | Attribute | Data type | P | Ca | De | Appl | | name | | | rdinality | scription | icability | +===========+===========+===+===========+===========+===========+ | s | S | C | 0..1 | This IE | CIOT | | mallDataR | mallDataR | | | shall be | | | ateStatus | ateStatus | | | present, | | | | | | | if the NF | | | | | | | Service | | | | | | | Consumer | | | | | | | has | | | | | | | indicated | | | | | | | support | | | | | | | of CIoT | | | | | | | and if | | | | | | | a | | | | | | | vailable. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | indicate | | | | | | | the | | | | | | | current | | | | | | | small | | | | | | | data rate | | | | | | | control | | | | | | | status | | | | | | | for the | | | | | | | PDU | | | | | | | session. | | +-----------+-----------+---+-----------+-----------+-----------+ | apnR | ApnR | C | 0..1 | This IE | CIOT | | ateStatus | ateStatus | | | shall be | | | | | | | present, | | | | | | | if the NF | | | | | | | Service | | | | | | | Consumer | | | | | | | has | | | | | | | indicated | | | | | | | support | | | | | | | of CIoT | | | | | | | and if | | | | | | | the | | | | | | | status is | | | | | | | a | | | | | | | vailable. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | indicate | | | | | | | the | | | | | | | current | | | | | | | APN rate | | | | | | | control | | | | | | | status | | | | | | | for the | | | | | | | PDN | | | | | | | c | | | | | | | onnection | | | | | | | (APN | | | | | | | rates are | | | | | | | shared by | | | | | | | all PDN | | | | | | | co | | | | | | | nnections | | | | | | | of the UE | | | | | | | to this | | | | | | | APN). | | +-----------+-----------+---+-----------+-----------+-----------+ | n4Info | N4In | O | 0..1 | This IE | DTSSA | | | formation | | | may be | | | | | | | present | | | | | | | if the | | | | | | | SMF needs | | | | | | | to send | | | | | | | N4 | | | | | | | in | | | | | | | formation | | | | | | | (e.g. | | | | | | | acknow | | | | | | | ledgement | | | | | | | of | | | | | | | traffic | | | | | | | usage | | | | | | | r | | | | | | | eporting) | | | | | | | to the | | | | | | | I-SMF for | | | | | | | traffic | | | | | | | offloaded | | | | | | | at a PSA | | | | | | | c | | | | | | | ontrolled | | | | | | | by an | | | | | | | I-SMF. | | +-----------+-----------+---+-----------+-----------+-----------+ | n | N4In | O | 0..1 | This IE | DTSSA | | 4InfoExt1 | formation | | | may be | | | | | | | present | | | | | | | if the | | | | | | | SMF needs | | | | | | | to send | | | | | | | a | | | | | | | dditional | | | | | | | N4 | | | | | | | in | | | | | | | formation | | | | | | | (e.g. | | | | | | | acknow | | | | | | | ledgement | | | | | | | of | | | | | | | traffic | | | | | | | usage | | | | | | | r | | | | | | | eporting) | | | | | | | to the | | | | | | | I-SMF for | | | | | | | traffic | | | | | | | offloaded | | | | | | | at a PSA | | | | | | | c | | | | | | | ontrolled | | | | | | | by an | | | | | | | I-SMF. | | +-----------+-----------+---+-----------+-----------+-----------+ | n | N4In | O | 0..1 | This IE | DTSSA | | 4InfoExt2 | formation | | | may be | | | | | | | present | | | | | | | if the | | | | | | | SMF needs | | | | | | | to send | | | | | | | a | | | | | | | dditional | | | | | | | N4 | | | | | | | in | | | | | | | formation | | | | | | | (e.g. | | | | | | | acknow | | | | | | | ledgement | | | | | | | of | | | | | | | traffic | | | | | | | usage | | | | | | | r | | | | | | | eporting) | | | | | | | to the | | | | | | | I-SMF for | | | | | | | traffic | | | | | | | offloaded | | | | | | | at a PSA | | | | | | | c | | | | | | | ontrolled | | | | | | | by an | | | | | | | I-SMF. | | +-----------+-----------+---+-----------+-----------+-----------+
##### 6.1.6.2.47 Type: SendMoDataReqData
Table 6.1.6.2.47-1: Definition of type SendMoDataReqData
+-----------+-----------+---+-----------+-----------+-----------+ | Attribute | Data type | P | Ca | De | Appl | | name | | | rdinality | scription | icability | +===========+===========+===+===========+===========+===========+ | moData | RefToB | M | 1 | This IE | CIOT | | | inaryData | | | shall | | | | | | | reference | | | | | | | the | | | | | | | mobile | | | | | | | o | | | | | | | riginated | | | | | | | data (see | | | | | | | clause 6. | | | | | | | 1.6.4.6). | | +-----------+-----------+---+-----------+-----------+-----------+ | moExpDa | MoExpDa | C | 0..1 | This IE | CIOT | | taCounter | taCounter | | | shall be | | | | | | | included | | | | | | | if the UE | | | | | | | has | | | | | | | accessed | | | | | | | the | | | | | | | network | | | | | | | by using | | | | | | | \"MO | | | | | | | exception | | | | | | | data\" | | | | | | | RRC | | | | | | | esta | | | | | | | blishment | | | | | | | cause and | | | | | | | when the | | | | | | | AMF | | | | | | | decides | | | | | | | to send a | | | | | | | non-zero | | | | | | | value to | | | | | | | the SMF. | | | | | | | | | | | | | | (NOTE) | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | contain | | | | | | | the MO | | | | | | | Exception | | | | | | | Data | | | | | | | Counter. | | +-----------+-----------+---+-----------+-----------+-----------+ | u | Use | O | 0..1 | When | CIOT | | eLocation | rLocation | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | contain | | | | | | | the user | | | | | | | location. | | +-----------+-----------+---+-----------+-----------+-----------+ | NOTE: The | | | | | | | AMF | | | | | | | i | | | | | | | ncrements | | | | | | | the MO | | | | | | | Exception | | | | | | | Data | | | | | | | Counter | | | | | | | when the | | | | | | | UE | | | | | | | e | | | | | | | stablishe | | | | | | | s/resumes | | | | | | | RRC with | | | | | | | \"MO | | | | | | | Exception | | | | | | | Data\" | | | | | | | RRC | | | | | | | cause. | | | | | | | The AMF | | | | | | | may defer | | | | | | | sending | | | | | | | the | | | | | | | moExpDa | | | | | | | taCounter | | | | | | | attribute | | | | | | | to the | | | | | | | SMF based | | | | | | | on local | | | | | | | confi | | | | | | | guration. | | | | | | | The AMF | | | | | | | resets | | | | | | | the MO | | | | | | | Exception | | | | | | | Data | | | | | | | Counter | | | | | | | when | | | | | | | receiving | | | | | | | s | | | | | | | uccessful | | | | | | | response | | | | | | | from the | | | | | | | SMF. The | | | | | | | SMF | | | | | | | however | | | | | | | keeps | | | | | | | inc | | | | | | | rementing | | | | | | | the | | | | | | | counter | | | | | | | locally. | | | | | | +-----------+-----------+---+-----------+-----------+-----------+
##### 6.1.6.2.48 Type: CnAssistedRanPara
Table 6.1.6.2.48-1: Definition of type CnAssistedRanPara
+---------------+---------------+---+-------------+---------------+ | Attribute | Data type | P | Cardinality | Description | | name | | | | | +===============+===============+===+=============+===============+ | station | Station | O | 0..1 | Identifies | | aryIndication | aryIndication | | | whether the | | | | | | UE is | | | | | | stationary or | | | | | | mobile (see | | | | | | 3GPP TS | | | | | | 23.502 [3] | | | | | | clau | | | | | | se 4.15.6.3). | +---------------+---------------+---+-------------+---------------+ | communicatio | DurationSec | O | 0..1 | Indicates for | | nDurationTime | | | | how long the | | | | | | UE will | | | | | | normally stay | | | | | | in | | | | | | CM-Connected | | | | | | for data | | | | | | transmission | | | | | | (see | | | | | | 3GPP TS | | | | | | 23.502 [3] | | | | | | clau | | | | | | se 4.15.6.3). | +---------------+---------------+---+-------------+---------------+ | periodicTime | DurationSec | O | 0..1 | Identifies | | | | | | interval time | | | | | | of periodic | | | | | | communication | | | | | | (see | | | | | | 3GPP TS | | | | | | 23.502 [3] | | | | | | clau | | | | | | se 4.15.6.3). | +---------------+---------------+---+-------------+---------------+ | scheduledComm | ScheduledComm | O | 0..1 | Identifies | | unicationTime | unicationTime | | | time and day | | | | | | of the week | | | | | | when the UE | | | | | | is available | | | | | | for | | | | | | communication | | | | | | (see | | | | | | 3GPP TS | | | | | | 23.502 [3] | | | | | | clau | | | | | | se 4.15.6.3). | +---------------+---------------+---+-------------+---------------+ | scheduledComm | ScheduledComm | O | 0..1 | Indicates | | unicationType | unicationType | | | that the | | | | | | Scheduled | | | | | | Communication | | | | | | Type (see | | | | | | 3GPP TS | | | | | | 23.502 [3] | | | | | | clau | | | | | | se 4.15.6.3). | | | | | | | | | | | | (NOTE 2) | +---------------+---------------+---+-------------+---------------+ | t | T | O | 0..1 | Identifies | | rafficProfile | rafficProfile | | | the type of | | | | | | data | | | | | | transmission: | | | | | | single packet | | | | | | transmission | | | | | | (UL or DL), | | | | | | dual packet | | | | | | transmission | | | | | | (UL with | | | | | | subsequent DL | | | | | | or DL with | | | | | | subsequent | | | | | | UL), and | | | | | | multiple | | | | | | packets | | | | | | transmission | | | | | | (see | | | | | | 3GPP TS | | | | | | 23.502 [3] | | | | | | clau | | | | | | se 4.15.6.3). | +---------------+---------------+---+-------------+---------------+ | batt | Batt | O | 0..1 | Indicates the | | eryIndication | eryIndication | | | power | | | | | | consumption | | | | | | type(s) of | | | | | | the UE (see | | | | | | 3GPP TS | | | | | | 23.502 [3] | | | | | | clau | | | | | | se 4.15.6.3). | +---------------+---------------+---+-------------+---------------+ | NOTE 1: At | | | | | | least one of | | | | | | optional | | | | | | parameters | | | | | | above shall | | | | | | be present. | | | | | | | | | | | | NOTE 2: The | | | | | | value of | | | | | | attribute | | | | | | \"sc | | | | | | heduledCommun | | | | | | icationType\" | | | | | | shall be used | | | | | | together with | | | | | | the value of | | | | | | \"sch | | | | | | eduledCommuni | | | | | | cationTime\". | | | | | +---------------+---------------+---+-------------+---------------+
##### 6.1.6.2.49 Type: UlclBpInformation
Table 6.1.6.2.49-1: Definition of type UlclBpInformation
Attribute name Data type P Cardinality Description
* * *
ulclBpUpfId NfInstanceId C 0..1 This IE shall be present if an UL CL or BP UPF
separate from the local PSA is inserted by the I-SMF. When present, it shall
contain the identifier of the UL CL or BP UPF.
##### 6.1.6.2.50 Type: TransferMoDataReqData
Table 6.1.6.2.50-1: Definition of type TransferMoDataReqData
+-----------+-----------+---+-----------+-----------+-----------+ | Attribute | Data type | P | Ca | De | Appl | | name | | | rdinality | scription | icability | +===========+===========+===+===========+===========+===========+ | moData | RefToB | M | 1 | This IE | CIOT | | | inaryData | | | shall | | | | | | | reference | | | | | | | the | | | | | | | mobile | | | | | | | o | | | | | | | riginated | | | | | | | data (see | | | | | | | clause 6. | | | | | | | 1.6.4.6). | | +-----------+-----------+---+-----------+-----------+-----------+ | moExpDa | MoExpDa | C | 0..1 | This IE | CIOT | | taCounter | taCounter | | | shall be | | | | | | | present | | | | | | | if | | | | | | | received | | | | | | | from AMF. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | contain | | | | | | | the MO | | | | | | | Exception | | | | | | | Data | | | | | | | Counter. | | +-----------+-----------+---+-----------+-----------+-----------+ | u | Use | O | 0..1 | When | CIOT | | eLocation | rLocation | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | contain | | | | | | | the user | | | | | | | location. | | +-----------+-----------+---+-----------+-----------+-----------+
##### 6.1.6.2.51 Type: TransferMtDataReqData
Table 6.1.6.2.51-1: Definition of type TransferMtDataReqData
Attribute name Data type P Cardinality Description Applicability
* * *
mtData RefToBinaryData M 1 This IE shall reference the mobile terminated data
(see clause 6.1.6.4.7). CIOT
##### 6.1.6.2.52 Type: TransferMtDataError
Table 6.1.6.2.52-1: Definition of type TransferMtDataError as a list of to be
combined data types
Data type Cardinality Description Applicability
* * *
ExtProblemDetails 1 Detail information of the problem  
TransferMtDataAddInfo 1 Additional information to be returned in error
response.
##### 6.1.6.2.53 Type: TransferMtDataAddInfo
Table 6.1.6.2.53-1: Definition of type TransferMtDataAddInfo
+-----------+-----------+---+-----------+-----------+-----------+ | Attribute | Data type | P | Ca | De | Appl | | name | | | rdinality | scription | icability | +===========+===========+===+===========+===========+===========+ | maxWa | Du | C | 0..1 | This IE | CIOT | | itingTime | rationSec | | | shall be | | | | | | | present | | | | | | | if | | | | | | | a | | | | | | | vailable. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | contain | | | | | | | the | | | | | | | estimated | | | | | | | maximum | | | | | | | wait time | | | | | | | (see | | | | | | | clau | | | | | | | se 4.25.5 | | | | | | | of | | | | | | | 3 | | | | | | | GPP 23.50 | | | | | | | 2 [3]). | | +-----------+-----------+---+-----------+-----------+-----------+
##### 6.1.6.2.54 Type: VplmnQos
Table 6.1.6.2.54-1: Definition of type VplmnQos
Attribute name Data type P Cardinality Description
* * *
5qi 5Qi O 0..1 When present, this IE shall contain the 5G QoS Identifier (5QI)
accepted or requested for the QoS Flow associated with the default QoS rule.
arp Arp O 0..1 When present, this IE shall contain the Allocation and
Retention Priority (ARP) accepted by the VPLMN for the QoS Flow associated
with the default QoS rule. sessionAmbr Ambr O 0..1 When present, this IE shall
contain the highest Session-AMBR accepted by the VPLMN for the PDU session.
maxFbrDl BitRate O 0..1 When present, this IE shall contain the Maximum Bit
Rate in Downlink accepted by the VPLMN for the QoS Flow associated with the
default QoS rule (if this is a GBR QoS Flow). See 3GPP TS 23.501 [2]. maxFbrUl
BitRate O 0..1 When present, this IE shall contain the Maximum Bit Rate in
Uplink accepted by the VPLMN for the QoS Flow associated with the default QoS
rule (if this is a GBR QoS Flow). See 3GPP TS 23.501 [2]. guaFbrDl BitRate O
0..1 When present, this IE shall contain the Guaranteed Bit Rate in Downlink
accepted by the VPLMN for the QoS Flow associated with the default QoS rule
(if this is a GBR QoS Flow). See 3GPP TS 23.501 [2]. guaFbrUl BitRate O 0..1
This IE shall contain the Guaranteed Bit Rate in Uplink accepted by the VPLMN
for the QoS Flow associated with the default QoS rule (if this is a GBR QoS
Flow). See 3GPP TS 23.501 [2]. 5qiPL 5QiPriorityLevel O 0..1 This IE shall
contain the 5QI Priority Level when a 5QI Priority Level value different from
the standardized Default Priority Level value in the QoS characteristics Table
5.7.4-1 in 3GPP TS 23.501 [2] is required.
##### 6.1.6.2.55 Type: DdnFailureSubs
Table 6.1.6.2.55-1: Definition of type DdnFailureSubs
+---------------+---------------+---+-------------+---------------+ | Attribute | Data type | P | Cardinality | Description | | name | | | | | +===============+===============+===+=============+===============+ | ddnF | boolean | M | 1 | When present, | | ailureSubsInd | | | | it shall be | | | | | | set as | | | | | | follows: | | | | | | | | | | | | - true: | | | | | | Notification | | | | | | of DDN | | | | | | failure is | | | | | | subscribed. | | | | | | | | | | | | - false | | | | | | (default): | | | | | | Notification | | | | | | of DDN | | | | | | failure is | | | | | | not | | | | | | subscribed. | +---------------+---------------+---+-------------+---------------+ | ddnFailur | array(DdnFa | C | 1..N | This IE shall | | eSubsInfoList | ilureSubInfo) | | | be present, | | | | | | if | | | | | | notification | | | | | | of DDN | | | | | | failure is | | | | | | subscribed, | | | | | | to provide | | | | | | DDN failure | | | | | | subscription | | | | | | details. | +---------------+---------------+---+-------------+---------------+
##### 6.1.6.2.56 Type: RetrieveData
Table 6.1.6.2.56-1: Definition of type RetrieveData
+-----------+-----------+---+-----------+-----------+-----------+ | Attribute | Data type | P | Ca | De | Appl | | name | | | rdinality | scription | icability | +===========+===========+===+===========+===========+===========+ | smal | boolean | C | 0..1 | This IE | CIOT | | lDataRate | | | | shall be | | | StatusReq | | | | present | | | | | | | and set | | | | | | | to | | | | | | | \"true\" | | | | | | | if this | | | | | | | is a | | | | | | | request | | | | | | | to | | | | | | | retrieve | | | | | | | the Small | | | | | | | Data Rate | | | | | | | Status of | | | | | | | the PDU | | | | | | | session. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | be set as | | | | | | | follows: | | | | | | | | | | | | | | > \- | | | | | | | > true: | | | | | | | > small | | | | | | | > data | | | | | | | > rate | | | | | | | > control | | | | | | | > status | | | | | | | > is | | | | | | | > r | | | | | | | equested. | | | | | | | > | | | | | | | > \- | | | | | | | > false | | | | | | | > ( | | | | | | | default): | | | | | | | > small | | | | | | | > data | | | | | | | > rate | | | | | | | > control | | | | | | | > status | | | | | | | > is not | | | | | | | > r | | | | | | | equested. | | +-----------+-----------+---+-----------+-----------+-----------+ | pdu | Pdu | C | 0..1 | This IE | EnEDGE | | SessionCo | SessionCo | | | shall be | | | ntextType | ntextType | | | present | | | | | | | if this | | | | | | | is a | | | | | | | request | | | | | | | to | | | | | | | retrieve | | | | | | | the AF | | | | | | | Coo | | | | | | | rdination | | | | | | | In | | | | | | | formation | | | | | | | during | | | | | | | the | | | | | | | change of | | | | | | | SSC mode | | | | | | | 3 PDU | | | | | | | Session | | | | | | | Anchor | | | | | | | with | | | | | | | multiple | | | | | | | PDU | | | | | | | Sessions, | | | | | | | if the | | | | | | | runtime | | | | | | | coo | | | | | | | rdination | | | | | | | between | | | | | | | old SMF | | | | | | | and AF is | | | | | | | enabled | | | | | | | (see | | | | | | | claus | | | | | | | e 4.3.5.2 | | | | | | | of | | | | | | | 3GPP | | | | | | | TS 23.50 | | | | | | | 2 [3]). | | +-----------+-----------+---+-----------+-----------+-----------+
##### 6.1.6.2.57 Type: RetrievedData
Table 6.1.6.2.57-1: Definition of type RetrievedData
+-----------+-----------+---+-----------+-----------+-----------+ | Attribute | Data type | P | Ca | De | Appl | | name | | | rdinality | scription | icability | +===========+===========+===+===========+===========+===========+ | s | S | C | 0..1 | This IE | CIOT | | mallDataR | mallDataR | | | shall be | | | ateStatus | ateStatus | | | present | | | | | | | if the | | | | | | | in | | | | | | | formation | | | | | | | has been | | | | | | | requested | | | | | | | in the | | | | | | | request | | | | | | | and is | | | | | | | a | | | | | | | vailable. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | indicate | | | | | | | the | | | | | | | current | | | | | | | small | | | | | | | data rate | | | | | | | control | | | | | | | status | | | | | | | for the | | | | | | | PDU | | | | | | | session. | | +-----------+-----------+---+-----------+-----------+-----------+ | afCoordin | AfCoordin | C | 0..1 | This IE | EnEDGE | | ationInfo | ationInfo | | | shall be | | | | | | | present | | | | | | | if the | | | | | | | PDU | | | | | | | Session | | | | | | | Context | | | | | | | type was | | | | | | | present | | | | | | | in the | | | | | | | request | | | | | | | and | | | | | | | indicated | | | | | | | a request | | | | | | | to | | | | | | | retrieve | | | | | | | the AF | | | | | | | Coo | | | | | | | rdination | | | | | | | Inf | | | | | | | ormation. | | +-----------+-----------+---+-----------+-----------+-----------+
##### 6.1.6.2.58 Type: SecurityResult
Table 6.1.6.2.58-1: Definition of type SecurityResult
+---------------+---------------+---+-------------+---------------+ | Attribute | Data type | P | Cardinality | Description | | name | | | | | +===============+===============+===+=============+===============+ | integrityPro | Pro | C | 0..1 | This IE shall | | tectionResult | tectionResult | | | be included | | | | | | if available. | | | | | | | | | | | | If present, | | | | | | this IE | | | | | | indicates | | | | | | whether UP | | | | | | integrity | | | | | | protection is | | | | | | performed or | | | | | | not for the | | | | | | concerned PDU | | | | | | session. | +---------------+---------------+---+-------------+---------------+ | confi | Pro | C | 0..1 | This IE shall | | dentialityPro | tectionResult | | | be included | | tectionResult | | | | if available. | | | | | | | | | | | | If present, | | | | | | this IE | | | | | | indicates | | | | | | whether UP | | | | | | ciphering is | | | | | | performed or | | | | | | not for the | | | | | | concerned PDU | | | | | | session. | +---------------+---------------+---+-------------+---------------+
##### 6.1.6.2.59 Type: UpSecurityInfo
Table 6.1.6.2.59-1: Definition of type UpSecurityInfo
+---------------+---------------+---+-------------+---------------+ | Attribute | Data type | P | Cardinality | Description | | name | | | | | +===============+===============+===+=============+===============+ | upSecurity | UpSecurity | M | 1 | This IE shall | | | | | | indicate the | | | | | | security | | | | | | policy for | | | | | | integrity | | | | | | protection | | | | | | and | | | | | | encryption | | | | | | for the user | | | | | | plane of the | | | | | | PDU session. | | | | | | See | | | | | | cl | | | | | | ause 9.3.1.60 | | | | | | of | | | | | | 3GPP TS | | | | | | 38.413 [9]. | +---------------+---------------+---+-------------+---------------+ | maxIn | Max | C | 0..1 | This IE shall | | tegrityProtec | IntegrityProt | | | be present if | | tedDataRateUl | ectedDataRate | | | the | | | | | | upSecurity IE | | | | | | is present | | | | | | and indicates | | | | | | that | | | | | | integrity | | | | | | protection is | | | | | | preferred or | | | | | | required. See | | | | | | cl | | | | | | ause 9.3.1.60 | | | | | | of | | | | | | 3GPP TS | | | | | | 38.413 [9]. | | | | | | | | | | | | When present, | | | | | | it shall | | | | | | indicate the | | | | | | maximum | | | | | | integrity | | | | | | protected | | | | | | data rate | | | | | | supported by | | | | | | the UE for | | | | | | uplink. | +---------------+---------------+---+-------------+---------------+ | maxIn | Max | C | 0..1 | This IE shall | | tegrityProtec | IntegrityProt | | | be present if | | tedDataRateDl | ectedDataRate | | | the | | | | | | upSecurity IE | | | | | | is present | | | | | | and indicates | | | | | | that | | | | | | integrity | | | | | | protection is | | | | | | preferred or | | | | | | required. | | | | | | | | | | | | When present, | | | | | | it shall | | | | | | indicate the | | | | | | maximum | | | | | | integrity | | | | | | protected | | | | | | data rate | | | | | | supported by | | | | | | the UE for | | | | | | downlink. | +---------------+---------------+---+-------------+---------------+ | s | S | C | 0..1 | This IE shall | | ecurityResult | ecurityResult | | | be included | | | | | | if available. | | | | | | | | | | | | If present, | | | | | | this IE shall | | | | | | contain the | | | | | | Security | | | | | | Result | | | | | | associated to | | | | | | the PDU | | | | | | session. See | | | | | | claus | | | | | | e 9.3.1.60 of | | | | | | 3GPP TS | | | | | | 38.413 [9]. | +---------------+---------------+---+-------------+---------------+
##### 6.1.6.2.60 Type: DdnFailureSubInfo
Table 6.1.6.2.60-1: Definition of type DdnFailureSubInfo
Attribute name Data type P Cardinality Description
* * *
notifyCorrelationId string M 1 This IE shall indicate the notification
correlation Id provided by the NF service consumer (e.g. AMF) when subscribing
to the notification of the DDN Failure, which shall be returned by the SMF
when a DDN Failure is notified for this subscription. This parameter can be
useful if the NF service consumer has multiple subscriptions for the same PDU
session. dddTrafficDescriptorList array(DddTrafficDescriptor) C 1..N This IE
shall be present if it is received from the UDM. When present, it shall
contain a list of Traffic Descriptors related to the event of DDN Failure for
which the subscription applies.
##### 6.1.6.2.61 Type: AlternativeQosProfile
Table 6.1.6.2.61-1: Definition of type AlternativeQosProfile
+---------------+---------------+---+-------------+---------------+ | Attribute | Data type | P | Cardinality | Description | | name | | | | | +===============+===============+===+=============+===============+ | index | Integer | M | 1 | When present, | | | | | | this IE shall | | | | | | contain the | | | | | | index | | | | | | identifying | | | | | | the | | | | | | alternative | | | | | | QoS profile. | | | | | | | | | | | | Minimum = 1. | | | | | | Maximum = 8. | +---------------+---------------+---+-------------+---------------+ | guaFbrDl | BitRate | O | 0..1 | When present, | | | | | | this IE shall | | | | | | contain the | | | | | | Guaranteed | | | | | | Bit Rate in | | | | | | Downlink. See | | | | | | 3GPP TS | | | | | | 23.501 [2]. | +---------------+---------------+---+-------------+---------------+ | guaFbrUl | BitRate | O | 0..1 | When present, | | | | | | this IE shall | | | | | | contain the | | | | | | Guaranteed | | | | | | Bit Rate in | | | | | | Uplink. See | | | | | | 3GPP TS | | | | | | 23.501 [2]. | +---------------+---------------+---+-------------+---------------+ | pack | Pa | O | 0..1 | When present, | | etDelayBudget | cketDelBudget | | | this IE shall | | | | | | indicate the | | | | | | packet delay | | | | | | budget. | +---------------+---------------+---+-------------+---------------+ | packetErrRate | PacketErrRate | O | 0..1 | When present, | | | | | | this IE shall | | | | | | indicate the | | | | | | packet error | | | | | | rate. | +---------------+---------------+---+-------------+---------------+
##### 6.1.6.2.62 Type: ProblemDetailsAddInfo
Table 6.1.6.2.62-1: Definition of type ProblemDetailsAddInfo
+----------------+-----------+---+-------------+-----------------+ | Attribute name | Data type | P | Cardinality | Description | +================+===========+===+=============+=================+ | remoteError | boolean | O | 0..1 | When present, | | | | | | this IE shall | | | | | | indicate | | | | | | whether the | | | | | | error is | | | | | | originated by | | | | | | the remote | | | | | | entity or by | | | | | | the entity | | | | | | sending the | | | | | | response, as | | | | | | follows: | | | | | | | | | | | | - true: the | | | | | | error is | | | | | | originated by | | | | | | the remote | | | | | | entity (i.e. | | | | | | H-SMF/SMF or | | | | | | AMF). | | | | | | | | | | | | - false: the | | | | | | error is | | | | | | originated by | | | | | | the entity | | | | | | sending the | | | | | | response (i.e. | | | | | | V-SMF/I-SMF). | | | | | | | | | | | | This IE shall | | | | | | be present and | | | | | | set to \"true\" | | | | | | for a HR PDU | | | | | | session or for | | | | | | a PDU session | | | | | | with an I-SMF, | | | | | | when the | | | | | | V-SMF/I-SMF | | | | | | retuns an error | | | | | | response to the | | | | | | AMF that was | | | | | | originated by | | | | | | the H-SMF/SMF, | | | | | | or when the | | | | | | V-SMF/I-SMF | | | | | | returns an | | | | | | error response | | | | | | to the | | | | | | H-SMF/SMF that | | | | | | was originated | | | | | | by the AMF. | | | | | | | | | | | | This IE may be | | | | | | present if the | | | | | | error is | | | | | | originated by | | | | | | the | | | | | | V-SMF/I-SMF. | +----------------+-----------+---+-------------+-----------------+
##### 6.1.6.2.63 Type: ExtProblemDetails
Table 6.1.6.2.63-1: Definition of type ExtProblemDetails as a list of to be
combined data types
Data type Cardinality Description Applicability
* * *
ProblemDetails 1 Detail information of the problem  
ProblemDetailsAddInfo 1 Additional information to be returned in error
response.
##### 6.1.6.2.64 Type: QosMonitoringInfo
Table 6.1.6.2.64-1: Definition of type QosMonitoringInfo
+-----------------+-----------+---+-------------+-----------------+ | Attribute name | Data type | P | Cardinality | Description | +=================+===========+===+=============+=================+ | q | boolean | C | 0..1 | This IE shall | | osMonitoringInd | | | | be present and | | | | | | set to \"true\" | | | | | | if QoS | | | | | | monitoring | | | | | | activated for | | | | | | QoS flows of | | | | | | the PDU session | | | | | | is performed | | | | | | using end to | | | | | | end accumulated | | | | | | packet delay | | | | | | reporting in UL | | | | | | GTP-U packets | | | | | | (see | | | | | | clause 5.33.3.3 | | | | | | of | | | | | | 3GPP TS | | | | | | 23.501 [2]). | | | | | | | | | | | | - True: QoS | | | | | | monitoring is | | | | | | performed using | | | | | | end to end | | | | | | accumulated | | | | | | packet delay | | | | | | reporting in UL | | | | | | GTP-U packets | | | | | | (see | | | | | | clause 5.33.3.3 | | | | | | of | | | | | | 3GPP TS | | | | | | 23.501 [2]). | | | | | | | | | | | | - False | | | | | | (default): QoS | | | | | | monitoring is | | | | | | performed using | | | | | | UPF and RAN | | | | | | time | | | | | | information in | | | | | | GTP-U packets | | | | | | (see | | | | | | clause 5.33.3.2 | | | | | | of | | | | | | 3GPP TS | | | | | | 23.501 [2]). | | | | | | | | | | | | When this | | | | | | attribute is | | | | | | present and set | | | | | | to \"true\", | | | | | | the I-SMF shall | | | | | | provision the | | | | | | I-UPF to report | | | | | | an end to end | | | | | | accumulated | | | | | | packet delay in | | | | | | UL GTP-U | | | | | | packets as | | | | | | specified in | | | | | | 3GPP TS | | | | | | 29.244 [29]. | +-----------------+-----------+---+-------------+-----------------+
##### 6.1.6.2.65 Type: IpAddress
Table 6.1.6.2.65-1: Definition of type IpAddress
Attribute name Data type P Cardinality Description
* * *
ipv4Addr Ipv4Addr C 0..1 Indicate an IPv4 Address ipv6Addr Ipv6Addr C 0..1
Indicate an IPv6 Address ipv6Prefix Ipv6Prefix C 0..1 Indicate an IPv6 Prefix
NOTE: Either ipv4Addr, or ipv6Addr, or ipv6Prefix shall be present.
##### 6.1.6.2.66 Type: RedundantPduSessionInformation
Table 6.1.6.2.66-1: Definition of type RedundantPduSessionInformation
Attribute name Data type P Cardinality Description
* * *
rsn Rsn M 1 RSN pduSessionPairId integer O 0..1 PDU Session Pair ID
##### 6.1.6.2.67 Type: QosFlowTunnel
Table 6.1.6.2.67-1: Definition of type QosFlowTunnel
Attribute name Data type P Cardinality Description
* * *
qfiList array(Qfi) M 1..N This IE shall contain the list of QoS Flow
Identifiers. tunnelInfo TunnelInfo M 1 This IE shall contain the RAN Tunnel
Information.
##### 6.1.6.2.68 Type: TargetDnaiInfo
Table 6.1.6.2.68-1: Definition of type TargetDnaiInfo
+---------------+---------------+---+-------------+---------------+ | Attribute | Data type | P | Cardinality | Description | | name | | | | | +===============+===============+===+=============+===============+ | targetDnai | Dnai | C | 0..1 | This IE shall | | | | | | be present if | | | | | | the I-SMF | | | | | | selection/ | | | | | | removal or | | | | | | SMF selection | | | | | | per target | | | | | | DNAI is | | | | | | needed. | | | | | | | | | | | | When present, | | | | | | this IE shall | | | | | | contain the | | | | | | target DNAI. | | | | | | | | | | | | This IE shall | | | | | | be absent for | | | | | | an SMF | | | | | | triggered | | | | | | I-SMF removal | | | | | | due to the | | | | | | DNAI being no | | | | | | longer used | | | | | | by the PDU | | | | | | Session. | +---------------+---------------+---+-------------+---------------+ | smf | Smf | M | 1 | This IE shall | | SelectionType | SelectionType | | | indicate the | | | | | | I-SMF | | | | | | selection or | | | | | | removal for | | | | | | the current | | | | | | PDU session | | | | | | or SMF | | | | | | selection | | | | | | during PDU | | | | | | Session | | | | | | re- | | | | | | establishment | | | | | | for SSC mode | | | | | | 2/3. | +---------------+---------------+---+-------------+---------------+
##### 6.1.6.2.69 Type: AfCoordinationInfo
Table 6.1.6.2.69-1: Definition of type AfCoordinationInfo
Attribute name Data type P Cardinality Description
* * *
sourceDnai Dnai C 0..1 This IE shall be present if available. If present, this
IE shall contain the source DNAI. sourceUeIpv4Addr Ipv4Addr C 0..1 This IE
shall be present if available. If present, this IE shall contain the IPv4
Address of the served UE for the source DNAI. sourceUeIpv6Prefix Ipv6Prefix C
0..1 This IE shall be present if available. If present, this IE shall contain
the Ipv6 Address Prefix of the served UE for the source DNAI.
notificationInfoList array(NotificationInfo) C 1..N This IE shall be present
if available. If present, this IE shall contain the list of the Notification
Correlation ID and Notification URI provided by the NF service consumers.
##### 6.1.6.2.70 Type: NotificationInfo
Table 6.1.6.2.70-1: Definition of type NotificationInfo
+----------------+-----------+---+-------------+-----------------+ | Attribute name | Data type | P | Cardinality | Description | +================+===========+===+=============+=================+ | notifId | string | M | 1 | Notification | | | | | | Correlation ID | | | | | | provided by the | | | | | | NF service | | | | | | consumer. | +----------------+-----------+---+-------------+-----------------+ | notifUri | Uri | M | 1 | Identifies the | | | | | | recipient of | | | | | | Notifications | | | | | | sent by the | | | | | | SMF. | +----------------+-----------+---+-------------+-----------------+ | upBufferInd | boolean | C | 0..1 | This IE shall | | | | | | be present, if | | | | | | available. | | | | | | | | | | | | When present, | | | | | | it shall be set | | | | | | as follows: | | | | | | | | | | | | > \- true: | | | | | | > uplink | | | | | | > buffering is | | | | | | > required; | | | | | | > | | | | | | > \- false | | | | | | > (default): | | | | | | > uplink | | | | | | > buffering is | | | | | | > not required. | +----------------+-----------+---+-------------+-----------------+
##### 6.1.6.2.71 Type: AnchorSmfFeatures
The AnchorSmfFeatures indicates a list of features supported by the (H-)SMF to
the AMF.
Table 6.1.6.2.71-1: Definition of type AnchorSmfFeatures
+-----------------+-----------+---+-------------+-----------------+ | Attribute name | Data type | P | Cardinality | Description | +=================+===========+===+=============+=================+ | psetrSupportInd | boolean | C | 0..1 | This IE shall | | | | | | be present and | | | | | | set to \"true\" | | | | | | if the (H-)SMF | | | | | | supports the | | | | | | \"PSETR\" | | | | | | feature as | | | | | | specified in | | | | | | clause 6.8.1 of | | | | | | 3GPP TS | | | | | | 23.527 [24]. | | | | | | It may be | | | | | | present | | | | | | otherwise. | | | | | | | | | | | | When present, | | | | | | it shall be set | | | | | | as follows: | | | | | | | | | | | | > \- true: the | | | | | | > (H-)SMF | | | | | | > supports the | | | | | | > \"PSETR\" | | | | | | > feature | | | | | | > | | | | | | > \- false: the | | | | | | > (H-)SMF does | | | | | | > not support | | | | | | > the \"PSETR\" | | | | | | > feature. | +-----------------+-----------+---+-------------+-----------------+
##### 6.1.6.2.72 Type: HrsboInfoFromVplmn
Table 6.1.6.2.72-1: Definition of type HrsboInfoFromVplmn
+-----------------+-----------+---+-------------+-----------------+ | Attribute name | Data type | P | Cardinality | Description | +=================+===========+===+=============+=================+ | hrsboAuthReqInd | boolean | C | 0..1 | This IE shall | | | | | | be present, for | | | | | | a HR PDU | | | | | | session, if the | | | | | | V-SMF requests | | | | | | HR SBO | | | | | | authorization: | | | | | | | | | | | | - in a Create | | | | | | Request; | | | | | | and | | | | | | | | | | | | - in an | | | | | | Update | | | | | | Request | | | | | | sent during | | | | | | a V-SMF | | | | | | insertion | | | | | | (i.e. | | | | | | H-PLMN to | | | | | | V-PLMN | | | | | | mobility) | | | | | | and during | | | | | | an | | | | | | Inter-PLMN | | | | | | V-SMF | | | | | | change | | | | | | (i.e. | | | | | | mobility | | | | | | between | | | | | | different | | | | | | V-PLMNs). | | | | | | | | | | | | When present, | | | | | | this IE shall | | | | | | be set to true | | | | | | to indicate | | | | | | that | | | | | | authorization | | | | | | of Session | | | | | | Breakout for HR | | | | | | Session in | | | | | | VPLMN is | | | | | | requested. | +-----------------+-----------+---+-------------+-----------------+ | vEasdfAddr | IpAddress | C | 0..1 | This IE shall | | | | | | be present | | | | | | during a | | | | | | request for | | | | | | HR-SBO | | | | | | authorization, | | | | | | when using the | | | | | | EAS Discovery | | | | | | procedure with | | | | | | V-EASF for | | | | | | HR-SBO (see | | | | | | clause 6.7.2.3 | | | | | | of | | | | | | 3GPP TS | | | | | | 23.548 [39]) | | | | | | and if | | | | | | available, or | | | | | | if the V-EASDF | | | | | | IP address | | | | | | previously | | | | | | signaled to the | | | | | | H-SMF needs to | | | | | | be changed e.g. | | | | | | as a result of | | | | | | a V-SMF change. | | | | | | | | | | | | When present, | | | | | | this IE shall | | | | | | contain the IP | | | | | | Address of the | | | | | | (new) V-EASDF. | +-----------------+-----------+---+-------------+-----------------+ | localDnsAddr | IpAddress | O | 0..1 | This IE may be | | | | | | present during | | | | | | the EAS | | | | | | Discovery | | | | | | Procedure with | | | | | | Local DNS for | | | | | | HR-SBO (see | | | | | | clause 6.7.2.4 | | | | | | of | | | | | | 3GPP TS | | | | | | 23.548 [39]) | | | | | | after UL-CL/BP | | | | | | insertion. | | | | | | | | | | | | When present, | | | | | | it shall be set | | | | | | to the address | | | | | | of the Local | | | | | | DNS | | | | | | S | | | | | | erver/Resolver. | +-----------------+-----------+---+-------------+-----------------+ | ea | boolean | C | 0..1 | This IE shall | | sRediscoveryInd | | | | be present, for | | | | | | a HR PDU | | | | | | session, if the | | | | | | UE indicates | | | | | | the support of | | | | | | EAS rediscovery | | | | | | and the V-SMF | | | | | | requests EAS | | | | | | rediscovery in | | | | | | an Update | | | | | | Request sent | | | | | | during a V-SMF | | | | | | insertion (i.e. | | | | | | H-PLMN to | | | | | | V-PLMN | | | | | | mobility) and | | | | | | during an | | | | | | Inter-PLMN | | | | | | V-SMF change | | | | | | (i.e. mobility | | | | | | between | | | | | | different | | | | | | V-PLMNs). | | | | | | | | | | | | When present, | | | | | | this IE shall | | | | | | be set to true | | | | | | to indicate | | | | | | that EAS | | | | | | rediscovery is | | | | | | requested. | +-----------------+-----------+---+-------------+-----------------+
##### 6.1.6.2.73 Type: HrsboInfoFromHplmn
Table 6.1.6.2.73-1: Definition of type HrsboInfoFromHplmn
+---------------+---------------+---+-------------+---------------+ | Attribute | Data type | P | Cardinality | Description | | name | | | | | +===============+===============+===+=============+===============+ | hr | boolean | C | 0..1 | This IE shall | | sboAuthResult | | | | be present, | | | | | | for a HR PDU | | | | | | session, if | | | | | | the H-SMF | | | | | | received a | | | | | | request for | | | | | | HR SBO | | | | | | a | | | | | | uthorization: | | | | | | | | | | | | - in a | | | | | | Create | | | | | | Response; | | | | | | and | | | | | | | | | | | | - in an | | | | | | Update | | | | | | Response | | | | | | sent | | | | | | during a | | | | | | V-SMF | | | | | | insertion | | | | | | (i.e. | | | | | | H-PLMN to | | | | | | V-PLMN | | | | | | mobility) | | | | | | and | | | | | | during an | | | | | | | | | | | | Inter-PLMN | | | | | | V-SMF | | | | | | change | | | | | | (i.e. | | | | | | mobility | | | | | | between | | | | | | different | | | | | | V-PLMNs). | | | | | | | | | | | | When present, | | | | | | this IE shall | | | | | | indicate | | | | | | whether | | | | | | HR-SBO | | | | | | request is | | | | | | authorized as | | | | | | follows: | | | | | | | | | | | | - true: | | | | | | authorized. | | | | | | | | | | | | - false: Not | | | | | | authorized. | +---------------+---------------+---+-------------+---------------+ | hDnsAddr | IpAddress | C | 0..1 | This IE shall | | | | | | be present, | | | | | | when using | | | | | | the EAS | | | | | | Discovery | | | | | | procedure | | | | | | with V-EASF | | | | | | for HR-SBO | | | | | | (see | | | | | | c | | | | | | lause 6.7.2.3 | | | | | | of | | | | | | 3GPP TS 2 | | | | | | 3.548 [39]) | | | | | | or the EAS | | | | | | discovery | | | | | | procedure | | | | | | with V-EASDF | | | | | | using IP | | | | | | replacement | | | | | | mechanism for | | | | | | supporting | | | | | | HR-SBO (see | | | | | | c | | | | | | lause 6.7.2.5 | | | | | | of | | | | | | 3GPP TS 23 | | | | | | .548 [39]), | | | | | | if available. | | | | | | | | | | | | When present, | | | | | | this IE shall | | | | | | contain the | | | | | | DNS server | | | | | | address of | | | | | | HPLMN to be | | | | | | used: | | | | | | | | | | | | - for DNS | | | | | | requests | | | | | | related with | | | | | | traffic not | | | | | | to be subject | | | | | | to HR-SBO, to | | | | | | configure the | | | | | | V-EASDF when | | | | | | using the EAS | | | | | | Discovery | | | | | | procedure | | | | | | with V-EASF | | | | | | for HR-SBO | | | | | | (see | | | | | | c | | | | | | lause 6.7.2.3 | | | | | | of | | | | | | 3GPP TS 23 | | | | | | .548 [39]), | | | | | | or | | | | | | | | | | | | - for DNS | | | | | | requests | | | | | | related to | | | | | | traffic | | | | | | subject to | | | | | | HR-SBO, to | | | | | | configure the | | | | | | UPF in VPLMN | | | | | | to perform IP | | | | | | replacement | | | | | | when using | | | | | | the EAS | | | | | | discovery | | | | | | procedure | | | | | | with V-EASDF | | | | | | using IP | | | | | | replacement | | | | | | mechanism for | | | | | | supporting | | | | | | HR-SBO (see | | | | | | c | | | | | | lause 6.7.2.5 | | | | | | of | | | | | | 3GPP TS 23 | | | | | | .548 [39]). | | | | | | (NOTE 3). | +---------------+---------------+---+-------------+---------------+ | hPlmnAddr | IpAddress | O | 0..1 | This IE may | | | | | | be present | | | | | | when using | | | | | | the EAS | | | | | | Discovery | | | | | | procedure | | | | | | with V-EASF | | | | | | for HR-SBO | | | | | | (see | | | | | | c | | | | | | lause 6.7.2.3 | | | | | | of | | | | | | 3GPP TS 23 | | | | | | .548 [39]). | | | | | | | | | | | | When present, | | | | | | this IE shall | | | | | | contain the | | | | | | HPLMN address | | | | | | information | | | | | | (e.g. H-UPF | | | | | | IP address on | | | | | | N6) to be | | | | | | used by the | | | | | | V-SMF to | | | | | | configure the | | | | | | V-EASDF to | | | | | | build EDNS | | | | | | Client Subnet | | | | | | option for | | | | | | target FQDN | | | | | | of DNS | | | | | | queries which | | | | | | are not | | | | | | authorized | | | | | | for HR-SBO. | +---------------+---------------+---+-------------+---------------+ | vplmnO | VplmnO | O | 0..1 | When present, | | ffloadingInfo | ffloadingInfo | | | this IE shall | | | | | | include VPLMN | | | | | | specific | | | | | | Offloading | | | | | | Information. | +---------------+---------------+---+-------------+---------------+ | int | a | O | 1..N | When present, | | ernalGroupIds | rray(GroupId) | | | this IE shall | | | | | | include the | | | | | | list of | | | | | | internal | | | | | | group | | | | | | identifier if | | | | | | the UE | | | | | | belongs to | | | | | | any | | | | | | subscribed | | | | | | internal | | | | | | group(s). | +---------------+---------------+---+-------------+---------------+ | NOTE 1: The | | | | | | H-SMF sends | | | | | | the V-EASDF | | | | | | address | | | | | | received from | | | | | | the V-SMF to | | | | | | the UE in | | | | | | n1SmInfoToUe | | | | | | attribute | | | | | | when using | | | | | | the EAS | | | | | | Discovery | | | | | | procedure | | | | | | with V-EASDF | | | | | | for HR-SBO | | | | | | (see | | | | | | c | | | | | | lause 6.7.2.3 | | | | | | of | | | | | | 3GPP TS 23 | | | | | | .548 [39]). | | | | | | | | | | | | NOTE 2: The | | | | | | H-SMF sends | | | | | | the Local DNS | | | | | | Se | | | | | | rver/Resolver | | | | | | address | | | | | | received from | | | | | | the V-SMF to | | | | | | the UE in | | | | | | n1SmInfoToUe | | | | | | attribute | | | | | | when using | | | | | | the EAS | | | | | | Discovery | | | | | | Procedure | | | | | | with Local | | | | | | DNS for | | | | | | HR-SBO (see | | | | | | c | | | | | | lause 6.7.2.4 | | | | | | of | | | | | | 3GPP TS 23 | | | | | | .548 [39]). | | | | | | | | | | | | NOTE 3: The | | | | | | H-SMF also | | | | | | sends the DNS | | | | | | server IP | | | | | | address of | | | | | | the HPLMN to | | | | | | the UE in | | | | | | n1SmInfoToUe | | | | | | attribute | | | | | | (via PCO) | | | | | | when using | | | | | | the EAS | | | | | | discovery | | | | | | procedure | | | | | | with V-EASDF | | | | | | using IP | | | | | | replacement | | | | | | mechanism for | | | | | | supporting | | | | | | HR-SBO (see | | | | | | c | | | | | | lause 6.7.2.5 | | | | | | of | | | | | | 3GPP TS 23 | | | | | | .548 [39]). | | | | | | | | | | | | NOTE 4: The | | | | | | H-SMF sends | | | | | | the EAS | | | | | | rediscovery | | | | | | indication | | | | | | received from | | | | | | the V-SMF to | | | | | | the UE in | | | | | | n1SmInfoToUe | | | | | | attribute. | | | | | +---------------+---------------+---+-------------+---------------+
#### 6.1.6.3 Simple data types and enumerations
##### 6.1.6.3.1 Introduction
This clause defines simple data types and enumerations that can be referenced
from data structures defined in the previous clauses.
##### 6.1.6.3.2 Simple data types
The simple data types defined in table 6.1.6.3.2-1 shall be supported.
Table 6.1.6.3.2-1: Simple data types
+------------------------+-----------------+------------------------+ | Type Name | Type Definition | Description | +------------------------+-----------------+------------------------+ | ProcedureTransactionId | integer | Unsigned integer | | | | representing a | | | | Procedure Transaction | | | | Identity, within the | | | | range 0 to 255, as | | | | specified in | | | | 3GPP TS 24.007 [8]. | +------------------------+-----------------+------------------------+ | EpsBearerId | integer | Integer identifying an | | | | EPS bearer, within the | | | | range 0 to 15, as | | | | specified in | | | | clause 11.2.3.1.5, | | | | bits 5 to 8, of | | | | 3GPP TS 24.007 [8]. | +------------------------+-----------------+------------------------+ | EpsPdnCnxContainer | string | String with format | | | | \"byte\" as defined in | | | | OpenAPI | | | | Specification [15], | | | | i.e. base64-encoded | | | | characters, encoding | | | | the UeEpsPdnConnection | | | | IE specified in Table | | | | 7.3.1-2 or Table | | | | 7.3.6-2 of | | | | 3GPP TS 29.274 [16] | | | | for the N26 interface. | +------------------------+-----------------+------------------------+ | EpsBearerContainer | string | String with format | | | | \"byte\" as defined in | | | | OpenAPI | | | | Specification [15], | | | | i.e. base64-encoded | | | | characters, encoding | | | | the Bearer Context IE | | | | specified in Table | | | | 7.3.2-2 of | | | | 3GPP TS 29.274 [16]. | +------------------------+-----------------+------------------------+ | Teid | string | 4-octet GTP tunnel | | | | endpoint identifier, | | | | as defined in | | | | 3GPP TS 29.274 [16], | | | | in hexadecimal | | | | representation. Each | | | | character in the | | | | string shall take a | | | | value of \"0\" to | | | | \"9\" or \"a\" to | | | | \"f\" or \"A\" to | | | | \"F\" and shall | | | | represent 4 bits. The | | | | most significant | | | | character representing | | | | the 4 most significant | | | | bits of the TEID shall | | | | appear first in the | | | | string, and the | | | | character representing | | | | the 4 least | | | | significant bit of the | | | | TEID shall appear last | | | | in the string. | | | | | | | | Pattern: | | | | \"\^[A-Fa-f0-9]{8}\" | | | | | | | | Example: | | | | | | | | A GTP TEID 0x5BD60076 | | | | shall be encoded as | | | | \"5BD60076\". | +------------------------+-----------------+------------------------+ | EpsBearerContextStatus | string | EPS bearer context | | | | status, as defined in | | | | octets 3 and 4 of the | | | | EPS bearer context | | | | status IE in | | | | clause 9.9.2.1 of | | | | 3GPP TS 24.301 [27], | | | | in hexadecimal | | | | representation. Each | | | | character in the | | | | string shall take a | | | | value of \"0\" to | | | | \"9\" or \"a\" to | | | | \"f\" or \"A\" to | | | | \"F\" and shall | | | | represent 4 bits. The | | | | most significant | | | | character representing | | | | the 4 most significant | | | | bits of the EPS bearer | | | | context status shall | | | | appear first in the | | | | string, and the | | | | character representing | | | | the 4 least | | | | significant bit of the | | | | EPS bearer context | | | | status shall appear | | | | last in the string. | | | | | | | | Pattern: | | | | \' | | | | \^[A-Fa-f0-9]{4}\$\' | | | | | | | | Example: | | | | | | | | An EPS bearer context | | | | status IE where only | | | | the EBIs 2, 5, 6 and 9 | | | | are active shall be | | | | encoded as \"6402\". | +------------------------+-----------------+------------------------+ | DrbId | integer | Unsigned integer | | | | representing a Data | | | | Radio Bearer Identity, | | | | within the range 1 to | | | | 32, as specified in | | | | clause 9.3.1.53 of | | | | 3GPP TS 38.413 [9]. | +------------------------+-----------------+------------------------+ | AdditionalTnlNb | integer | Unsigned integer, | | | | within the range 1 to | | | | 3, indicating whether | | | | this is the first, | | | | second or third | | | | additional indirect | | | | data forwarding tunnel | | | | for | | | | multi-connectivity. | +------------------------+-----------------+------------------------+ | For | string | String with format | | wardingBearerContainer | | \"byte\" as defined in | | | | OpenAPI | | | | Specification [15], | | | | i.e. base64-encoded | | | | characters, encoding | | | | the Bearer Context IE | | | | within Context | | | | Acknowledge specified | | | | in Table 7.3.7-2 of | | | | 3GPP TS 29.274 [16]. | +------------------------+-----------------+------------------------+ | SecondaryRatUs | string | String with format | | ageDataReportContainer | | \"byte\" as defined in | | | | OpenAPI | | | | Specification [15], | | | | i.e. base64-encoded | | | | characters, encoding | | | | the Secondary RAT | | | | Usage Data Report IE | | | | within Forward | | | | Relocation Complete | | | | Acknowledge specified | | | | in Table 7.3.4-1 of | | | | 3GPP TS 29.274 [16] | | | | (starting from | | | | octet 1). | +------------------------+-----------------+------------------------+
##### 6.1.6.3.3 Enumeration: UpCnxState
The enumeration UpCnxState represents the state of the user plane connection
of a PDU session. It shall comply with the provisions defined in table
6.1.6.3.3-1.
Table 6.1.6.3.3-1: Enumeration UpCnxState
Enumeration value Description
* * *
\"ACTIVATED\" A N3 tunnel is established between the 5G-AN and UPF.
\"DEACTIVATED\" No N3 tunnel is established between the 5G-AN and UPF.
\"ACTIVATING\" A N3 tunnel is being established (the 5G-AN\'s F-TEID for
downlink traffic is not assigned yet). \"SUSPENDED\" A N3 tunnel is suspended
between the 5G-AN and UPF.
##### 6.1.6.3.4 Enumeration: HoState
The enumeration HoState represents the handover state of a PDU session. It
shall comply with the provisions defined in table 6.1.6.3.4-1.
Table 6.1.6.3.4-1: Enumeration HoState
Enumeration value Description
* * *
\"NONE\" No handover is in progress for the PDU session. \"PREPARING\" A
handover is in preparation for the PDU session; see clause 5.2.2.3.4.1.
\"PREPARED\" A handover is prepared for the PDU session; see clause
5.2.2.3.4.1. \"COMPLETED\" The handover is completed. \"CANCELLED\" The
handover is cancelled.
##### 6.1.6.3.5 Enumeration: RequestType
The enumeration RequestType indicates the type of a PDU session creation
request. It shall comply with the provisions defined in table 6.1.6.3.5-1.
Table 6.1.6.3.5-1: Enumeration RequestType
Enumeration value Description
* * *
\"INITIAL_REQUEST\" Request to establish a new PDU session.
\"EXISTING_PDU_SESSION\" Request referring to an existing PDU session.
\"INITIAL_EMERGENCY_REQUEST\" Request to establish a new PDU session for
Emergency Services. \"EXISTING_EMERGENCY_PDU_SESSION\" Request referring to an
existing PDU session for Emergency Services. NOTE: Clause 9.11.3.47 of 3GPP TS
24.501 [7] defines a specific Request type value in NAS PDUs for a MA PDU
request. This shall be mapped to the maRequestInd attribute in the Create SM
Context Request, Update SM Context Request, Create Request and Update Request.
Accordingly, no corresponding value is defined in the RequestType enumeration.
##### 6.1.6.3.6 Enumeration: RequestIndication
The enumeration RequestIndication indicates the request type. It shall comply
with the provisions defined in table 6.1.6.3.6-1.
Table 6.1.6.3.6-1: Enumeration RequestIndication
Enumeration value Description
* * *
\"UE_REQ_PDU_SES_MOD\" UE Requested PDU Session Modification
\"UE_REQ_PDU_SES_REL\" UE Requested PDU Session Release \"PDU_SES_MOB\" PDU
Session Mobility (e.g. between 3GPP and non-3GPP access, or from EPS to 5GS
with N26 interface) \"NW_REQ_PDU_SES_AUTH\" Network Requested PDU Session
Authentication. This value is used for the procedures with a secondary
authorization/ authentication in an Update request initiated by an H-SMF/SMF
during e.g. the PDU Session establishment procedure to inform the V-SMF/I-SMF
that the H-SMF/SMF decided to initiate the optional PDU Session establishment
authentication/authorization procedure (see clause 4.3.2.3 in 3GPP TS 23.502
[3]). \"NW_REQ_PDU_SES_MOD\" Network Requested PDU Session Modification
\"NW_REQ_PDU_SES_REL\" Network Requested PDU Session Release
\"EBI_ASSIGNMENT_REQ\" EPS Bearer ID Assignment Request or EPS Bearer ID
Revocation Request \"REL_DUE_TO_5G_AN_REQUEST\" 5G-AN Requested PDU Session
Resource Release
##### 6.1.6.3.7 Enumeration: NotificationCause
The enumeration NotificationCause indicates the cause of a notification. It
shall comply with the provisions defined in table 6.1.6.3.7-1.
Table 6.1.6.3.7-1: Enumeration NotificationCause
Enumeration value Description
* * *
\"QOS_FULFILLED\" The QoS targets are fulfilled again for the GBR QoS flow.
\"QOS_NOT_FULFILLED\" The QoS targets are no longer fulfilled for the GBR QoS
flow. \"UP_SEC_FULFILLED\" The user plane security enforcement \"Preferred\"
is fulfilled again for the PDU session. \"UP_SEC_NOT_FULFILLED\" The user
plane security enforcement \"Preferred\" is not fulfilled for the PDU session.
##### 6.1.6.3.8 Enumeration: Cause
The enumeration Cause indicates a cause information. It shall comply with the
provisions defined in table 6.1.6.3.8-1.
Table 6.1.6.3.8-1: Enumeration Cause
Enumeration value Description
* * *
\"REL_DUE_TO_HO\" Release due to Handover \"EPS_FALLBACK\" Mobility due to EPS
fallback for IMS voice is on-going. \"REL_DUE_TO_UP_SEC\" Release due to user
plane Security requirements that cannot be fulfilled. \"DNN_CONGESTION\"
Release due to the DNN based congestion control. \"S_NSSAI_CONGESTION\"
Release due to the S-NSSAI based congestion control.
\"REL_DUE_TO_REACTIVATION\" Release due to PDU session reactivation.
\"5G_AN_NOT_RESPONDING\" The 5G AN did not respond to the request initiated by
the network. \"REL_DUE_TO_SLICE_NOT_AVAILABLE\" Release due to the associated
S-NSSAI becomes no longer available (e.g. the validity time of the S-NSSAI
expires, or the S-NSSAI is decommissioned, etc.).
\"REL_DUE_TO_DUPLICATE_SESSION_ID\" Release due to a UE request to establish a
new PDU session with an identical PDU session Id.
\"PDU_SESSION_STATUS_MISMATCH\" Release due to mismatch of PDU Session status
between UE and AMF. \"HO_FAILURE\" Handover preparation failure
\"INSUFFICIENT_UP_RESOURCES\" Failure to activate the User Plane connection of
a PDU session due to insufficient user plane resources.
\"PDU_SESSION_HANDED_OVER\" The PDU session is handed over to another system
or access. \"PDU_SESSION_RESUMED\" Resume the user plane connection of the PDU
session. \"CN_ASSISTED_RAN_PARAMETER_TUNING\" SMF derived CN assisted RAN
parameters tuning. \"ISMF_ CONTEXT_TRANSFER\" The PDU session shall be
transferred from old I-SMF to new I-SMF. \"SMF_ CONTEXT_TRANSFER\" The PDU
session shall be transferred from old SMF to new SMF.
\"REL_DUE_TO_PS_TO_CS_HO\" Release due to 5G SRVCC from NG-RAN to 3GPP UTRAN,
as specified in clause 6.5.4 of 3GPP TS 23.216 [35].
\"REL_DUE_TO_SUBSCRIPTION_CHANGE\" PDU session release due to UE subscription
changes, triggered by the SMF e.g. due to the removal of subscribed DNNs, or
by the AMF e.g. due to ODB changes. \"HO_CANCEL\" Handover cancellation
\"REL_DUE_TO_SLICE_NOT_AUTHORIZED\" Release due to Network Slice-Specific
Authentication and Authorization failure or revocation.
\"PDU_SESSION_HAND_OVER_FAILURE\" Failure to handover PDU session to another
access \"DDN_FAILURE_STATUS\" DDN failure status reporting
\"REL_DUE_TO_CP_ONLY_NOT_APPLICABLE\" Release due to Control Plane Only
indication associated with PDU Session is not applicable any longer
\"NOT_SUPPORTED_WITH_ISMF\" PDU session release due to a requested
functionality that is not supported for a PDU session with an I-SMF/V-SMF.
\"CHANGED_ANCHOR_SMF\" The anchor SMF of the PDU session is changed.
\"CHANGED_INTERMEDIATE_SMF\" The intermediate SMF (e.g. I-SMF or V-SMF) is
changed. \"TARGET_DNAI_NOTIFICATION\" Notify the target DNAI for I-SMF
selection for the current PDU Session, or SMF selection during PDU Session re-
establishment for SSC mode 2/3. \"REL_DUE_TO_VPLMN_QOS_FAILURE\" Release due
to QoS not complying with VPLMN QoS constraints, i.e. VPLMN QoS constraints
are required for the PDU session and the H-SMF provides QoS parameters not
complying with VPLMN QoS required by the V-SMF.
\"REL_DUE_TO_SMF_NOT_SUPPORT_PSETR\" Release the PDU session due to the
(H-)SMF does not support the PSETR feature when the V/I-SMF has failed.
\"REL_DUE_TO_SNPN_SNPN_MOBILITY\" Release due to the PDU session is rejected
by the new AMF during registration procedure as the continuity of the PDU
Session cannot be supported between networks with SNPN-SNPN mobility.
\"REL_DUE_TO_NO_HR_AGREEMENT\" Release due to the PDU session is rejected by
the new AMF during registration procedure as the continuity of the PDU Session
cannot be supported between networks with inter-PLMN mobility where no HR
agreement exists. \"REL_DUE_TO_SNSSAI_DENIED" Release due to the subscriber
does not have the necessary subscription to access the SNSSAI.
\"REL_DUE_TO_DNN_DENIED" Release due to the subscriber does not have the
necessary subscription to access the DNN. \"REL_DUE_TO_PDUTYPE_DENIED" Release
due to the subscriber does not have the necessary subscription for the
requested PDU session type. \"REL_DUE_TO_SSC_DENIED" Release due to the
subscriber does not have the necessary subscription for the requested SSC
mode. \"REL_DUE_TO_SUBSCRIPTION_DENIED" Release due to an error, other than
those listed in this table, due to lack of necessary subscription to serve the
UE request. \"REL_DUE_TO_DNN_NOT_SUPPORTED" Release due to the DNN is not
supported by the SMF. \"REL_DUE_TO_PDUTYPE_NOT_SUPPORTED" Release due to the
requested PDU session type is not supported by the SMF for the PDN
corresponding to the DNN. \"REL_DUE_TO_SSC_NOT_SUPPORTED" Release due to the
requested SSC mode is not supported by the SMF for the PDN corresponding to
the DNN. \"REL_DUE_TO_INSUFFICIENT_RESOURCES_SLICE" Release due to
insufficient resources for the specific slice.
\"REL_DUE_TO_INSUFFICIENT_RESOURCES_SLICE_DNN" Release due to insufficient
resources for the specific slice and DNN. \"REL_DUE_TO_DNN_CONGESTION" The SMF
has detected congestion for the requested DNN and performs overload control
for that DNN which does not allow the PDU session to be established.
\"REL_DUE_TO_S_NSSAI_CONGESTION" The SMF has detected congestion for the
requested S-NSSAI and performs overload control for that S-NSSAI which does
not allow the PDU session to be established. \"REL_DUE_TO_PEER_NOT_RESPONDING"
No response is received from a remote peer, or the remote peer is known to be
not reachable, e.g. to indicate that no response has been received from the
H-SMF for a HR PDU session or the SMF for a PDU session with I-SMF.
\"REL_DUE_TO_NETWORK_FAILURE" The request is rejected due to a network
problem. \"REL_DUE_TO_UPF_NOT_RESPONDING" The request is rejected due to no
response received from the UPF. "REL_DUE_TO_NO_EPS_5GS_CONTINUITY" It is used
during an EPS to 5GS Idle mode mobility or handover, if the PDU session does
not support seamless session continuity to 5GS.
"REL_DUE_TO_NOT_SUPPORTED_WITH_ISMF" The request is rejected due to a
requested functionality that is not supported for a PDU session with an
I-SMF/V-SMF. "REL_DUE_TO_EXCEEDED_UE_SLICE_DATA_RATE" The request is rejected
due to the maximum bit rate per S-NSSAI per UE is exceeded, when the SMF
receives the same application error from the PCF.
"REL_DUE_TO_EXCEEDED_SLICE_DATA_RATE" The request is rejected due to the
maximum bit rate per S-NSSAI is exceeded, when the SMF receives the same
application error from the PCF. "REL_DUE_TO_CONTEXT_NOT_FOUND" It is used when
no context corresponding to the request exists in the SMF.
\"REL_DUE_TO_UNSPECIFIED_REASON\" Release due to unspecified reasons.
\"REL_DUE_TO_MOB_ACCESS_RESTRICTIONS\" Release due to Mobility Restrictions or
Access Restrictions (e.g. CAG restrictions). \"REL_DUE_TO_SLICE_INACTIVITY\"
Release due to slice inactivity \"REL_DUE_TO_NSI_NOT_AVAILABLE\" Release due
to the associated Network Slice Instance is congested or not available, as
specified in clause 5.2.16.3.3 of 3GPP TS 23.502 [3].
"REL_DUE_TO_MBSR_NOT_AUTHORIZED" Release due to the MBSR authorization status
is changed from \"authorized\" to \"not authorized\".
\"DEACT_DUE_TO_UE_OUT_OF_SLICE_SUPPORT_AREA\" User Plane deactivation due to
the UE moving out of the network slice area of support or availability, as
specified in clause 4.3.7 of 3GPP TS 23.502 [3].
##### 6.1.6.3.9 Enumeration: ResourceStatus
The enumeration ResourceStatus indicates the status of an SM context or PDU
session resource. It shall comply with the provisions defined in table
6.1.6.3.9-1.
Table 6.1.6.3.9-1: Enumeration ResourceStatus
+----------------------+-------------------------+---------------+ | Enumeration value | Description | Applicability | +======================+=========================+===============+ | \"RELEASED\" | The SM context or PDU | | | | session resource is | | | | released. | | +----------------------+-------------------------+---------------+ | \"UNCHANGED\" | The status of SM | | | | context or PDU session | | | | resource is not | | | | changed. | | +----------------------+-------------------------+---------------+ | \"TRANSFERRED\" | The SM context shall be | | | | transferred. | | +----------------------+-------------------------+---------------+ | \"UPDATED\" | The SM context or PDU | HOFAIL | | | session resource | | | | context has changed: | ES3XX | | | | | | | - The access type of | DTSSA | | | PDU session is changed. | | | | | | | | - The anchor SMF | | | | (H-SMF or SMF) or | | | | intermediate SMF (I-SMF | | | | or V-SMF) has changed | | | | within the SMF set. | | | | | | | | - The SM context with | | | | the I-SMF in the source | | | | access needs to be | | | | released but without | | | | releasing the PDU | | | | session in the AMF (see | | | | clauses 5.2.2.5.1 and | | | | 5.2.2.10.1). | | +----------------------+-------------------------+---------------+ | \"ALT_ANCHOR_SMF\" | The V-SMF has | AASN | | | established the PDU | | | | session towards an | | | | alternative H-SMF | | | | during PDU session | | | | establishment for HR | | | | PDU session, as | | | | specified in | | | | clause 4.3.2.2.2 of | | | | 3GPP TS 23.502 [3], | | | | or the I-SMF has | | | | established the PDU | | | | session towards an | | | | alternative SMF during | | | | PDU session | | | | establishment for a PDU | | | | session with I-SMF (see | | | | clause 4.23.5.1 of | | | | 3GPP TS 23.502 [3]). | | +----------------------+-------------------------+---------------+
##### 6.1.6.3.10 Enumeration: DnnSelectionMode
The enumeration DnnSelectionMode indicates whether the DNN of a PDU session
being established corresponds to an explicitly subscribed DNN or to the usage
of a wildcard subscription. It shall comply with the provisions defined in
table 6.1.6.3.10-1.
Table 6.1.6.3.10-1: Enumeration DnnSelectionMode
Enumeration value Description
* * *
\"VERIFIED\" UE or network provided DNN is authorized based on the explicitly
subscribed DNN, subscription verified \"UE_DNN_NOT_VERIFIED\" UE provided DNN
is authorized based on the wildcard DNN, subscription not verified
\"NW_DNN_NOT_VERIFIED\" Network provided DNN is authorized based on the
wildcard DNN, subscription not verified
##### 6.1.6.3.11 Enumeration: EpsInterworkingIndication
The enumeration EpsInterworkingIndication indicates whether and how the PDU
session will possibly be moved to EPS.
Table 6.1.6.3.11-1: Enumeration EpsInterworkingIndication
+----------------------------------+----------------------------------+ | Enumeration value | Description | +==================================+==================================+ | \"NONE\" | The PDU session cannot be moved | | | EPS. | | | | | | (NOTE) | +----------------------------------+----------------------------------+ | \"WITH_N26\" | The PDU session may possibly be | | | moved to EPS, with N26 interface | | | supported during EPS | | | interworking procedures. | | | | | | This may correspond to:\ | | | - a PDU session or an MA-PDU | | | session with a 3GPP access; or\ | | | - a MA PDU Session with a | | | non-3GPP access for a UE | | | registered to the same PLMN over | | | both 3GPP and non-3GPP accesses, | | | i.e. served by the same AMF for | | | both accesses. | +----------------------------------+----------------------------------+ | \"WITHOUT_N26\" | The PDU session may possibly be | | | moved to EPS, without N26 | | | interface supported during EPS | | | interworking procedures. | | | | | | This may correspond to:\ | | | - a PDU session or an MA-PDU | | | session with a 3GPP access; or\ | | | - a MA PDU Session with a | | | non-3GPP access for a UE | | | registered to the same PLMN over | | | both 3GPP and non-3GPP accesses, | | | i.e. served by the same AMF for | | | both accesses. | +----------------------------------+----------------------------------+ | \"IWK_NON_3GPP\" | The PDU session via non-3GPP | | | access may possibly be moved to | | | EPS. | +----------------------------------+----------------------------------+ | NOTE: Handover from 5GS to | | | EPC/ePDG (as specified in | | | clause 4.11.4.2 of | | | 3GPP TS 23.502 [3]) shall be | | | considered as allowed if the | | | value of | | | EpsInterworkingIndication is not | | | set to \"NONE\" and if such | | | handover is allowed based on | | | operator\'s policy. | | +----------------------------------+----------------------------------+
##### 6.1.6.3.12 Enumeration: N2SmInfoType
Table 6.1.6.3.12-1: Enumeration N2SmInfoType
Enumeration value Description
* * *
\"PDU_RES_SETUP_REQ\" PDU Session Resource Setup Request Transfer
\"PDU_RES_SETUP_RSP\" PDU Session Resource Setup Response Transfer
\"PDU_RES_SETUP_FAIL\" PDU Session Resource Setup Unsuccessful Transfer
\"PDU_RES_REL_CMD\" **_PDU Session Resource Release Command Transfer_**
\"PDU_RES_REL_RSP\" **_PDU Session Resource Release Response Transfer_**
\"PDU_RES_MOD_REQ\" **_PDU Session Resource Modify Request Transfer_**
\"PDU_RES_MOD_RSP\" **_PDU Session Resource Modify Response Transfer_**
\"PDU_RES_MOD_FAIL\" **_PDU Session Resource Modify Unsuccessful Transfer_**
\"PDU_RES_NTY\" **_PDU Session Resource Notify Transfer_** \"PDU_RES_NTY_REL\"
**_PDU Session Resource Notify Released Transfer_** \"PDU_RES_MOD_IND\" **_PDU
Session Resource Modify Indication Transfer_** \"PDU_RES_MOD_CFM\" **_PDU
Session Resource Modify Confirm Transfer_** \"PATH_SWITCH_REQ\" Path Switch
Request Transfer \"PATH_SWITCH_SETUP_FAIL\" Path Switch Request Setup Failed
Transfer \"PATH_SWITCH_REQ_ACK\" Path Switch Request Acknowledge Transfer
\"PATH_SWITCH_REQ_FAIL\" Path Switch Request Unsuccessful Transfer
\"HANDOVER_REQUIRED\" Handover Required Transfer \"HANDOVER_CMD\" Handover
Command Transfer \"HANDOVER_PREP_FAIL\" Handover Preparation Unsuccessful
Transfer \"HANDOVER_REQ_ACK\" Handover Request Acknowledge Transfer
\"HANDOVER_RES_ALLOC_FAIL\" Handover Resource Allocation Unsuccessful Transfer
\"SECONDARY_RAT_USAGE\" Secondary RAT Data Usage Report Transfer
\"PDU_RES_MOD_IND_FAIL\" PDU Session Resource Modify Indication Unsuccessful
Transfer \"UE_CONTEXT_RESUME_REQ\" UE Context Resume Request Transfer
\"UE_CONTEXT_RESUME_RSP\" UE Context Resume Response Transfer
\"UE_CONTEXT_SUSPEND_REQ UE Context Suspend Request Transfer
##### 6.1.6.3.13 Enumeration: MaxIntegrityProtectedDataRate
Table 6.1.6.3.13-1: Enumeration MaxIntegrityProtectedDataRate
Enumeration value Description
* * *
\"64_KBPS\" 64 kbps \"MAX_UE_RATE\" Full data rate
##### 6.1.6.3.14 Enumeration: MaReleaseIndication
The enumeration MaReleaseIndication indicates the access type over which the
MA PDU session is requested to be released.
Table 6.1.6.3.14-1: Enumeration MaReleaseIndication
Enumeration value Description
* * *
\"REL_MAPDU_OVER_3GPP\" The MA PDU session over 3GPP access is to be released
or has been released. \"REL_MAPDU_OVER_N3GPP\" The MA PDU session over
Non-3GPP access is to be released or has been released.
##### 6.1.6.3.15 Enumeration: SmContextType
The enumeration SmContextType represents the type of SM context information
requested during a Retrieve SM Context service operation. It shall comply with
the provisions defined in table 6.1.6.3.15-1.
Table 6.1.6.3.15-1: Enumeration SmContextType
Enumeration value Description
* * *
\"EPS_PDN_CONNECTION\" UE EPS PDN Connection. \"SM_CONTEXT\" Complete SM
Context (i.e. 5G SM context including EPS context information as defined in
clause 6.1.6.2.39) \"AF_COORDINATION_INFO\" AF Coordination Information
##### 6.1.6.3.16 Enumeration: PsaIndication
The enumeration PsaIndication indicates whether a PSA and an UL CL or BP, or
only a PSA has been inserted or removed to/from the data path of a PDU session
by an I-SMF. It shall comply with the provisions defined in table
6.1.6.3.16-1.
Table 6.1.6.3.16-1: Enumeration PsaIndication
Enumeration value Description
* * *
\"PSA_INSERTED\" A PSA and UL CL or BP has been inserted into the data path of
the PDU session. \"PSA_REMOVED\" A PSA and UL CL or BP has been removed from
the data path of the PDU session. \"PSA_INSERTED_ONLY\" A PSA has been
inserted into the data path of the PDU session and the UL CL or BP is not
changed. \"PSA_REMOVED_ONLY\" A PSA has been removed from the data path of the
PDU session and the UL CL or BP is not changed.
##### 6.1.6.3.17 Enumeration: N4MessageType
The enumeration N4MessageType indicates the PFCP message type sent within a N4
Message Payload. It shall comply with the provisions defined in table
6.1.6.3.17-1.
Table 6.1.6.3.17-1: Enumeration N4MessageType
Enumeration value Description
* * *
\"PFCP_SES_EST_REQ\" PFCP Session Establishment Request \"PFCP_SES_EST_RSP\"
PFCP Session Establishment Response \"PFCP_SES_MOD_REQ\" PFCP Session
Modification Request \"PFCP_SES_MOD_RSP\" PFCP Session Modification Response
\"PFCP_SES_DEL_REQ\" PFCP Session Deletion Request \"PFCP_SES_DEL_RSP\" PFCP
Session Deletion Response \"PFCP_SES_REP_REQ\" PFCP Session Report Request
\"PFCP_SES_REP_RSP\" PFCP Session Report Response
##### 6.1.6.3.18 Enumeration: QosFlowAccessType
The enumeration QoSFlowAccessType indicates the access type which the QoS Flow
is associated with.
Table 6.1.6.3.18-1: Enumeration QosFlowAccessType
Enumeration value Description
* * *
\"3GPP\" The QoS Flow is only associated with 3GPP access. \"NON_3GPP\" The
QoS Flow is only associated with Non-3GPP access. \"3GPP_AND_NON_3GPP\" The
QoS Flow is associated with both 3GPP access and Non-3GPP access.
##### 6.1.6.3.19 Enumeration: UnavailableAccessIndication
The enumeration UnavailableAccessIndication indicates the access type of the
MA PDU session that is unavailable.
Table 6.1.6.3.19-1: Enumeration UnavailableAccessIndication
Enumeration value Description
* * *
\"3GA_UNAVAILABLE\" The 3GPP access of the MA PDU session is unavailable.
\"N3GA_UNAVAILABLE\" The Non-3GPP access of the MA PDU session is unavailable.
##### 6.1.6.3.20 Enumeration: ProtectionResult
The enumeration ProtectionResult indicates whether the security policy
indicated as \"preferred\" is performed or not.
Table 6.1.6.3.20-1: Enumeration ProtectionResult
Enumeration value Description
* * *
\"PERFORMED\" The security policy indicated as \"preferred\" is performed
\"NOT_PERFORMED\" The security policy indicated as \"preferred\" is not
performed
##### 6.1.6.3.21 Enumeration: QosMonitoringReq
The enumeration QosMonitoringReq indicates the measurement of UL, or DL, or
both UL/DL delays, or no measurements are required.
Table 6.1.6.3.21-1: Enumeration QosMonitoringReq
Enumeration value Description
* * *
\"UL\" Measurement of UL delay. \"DL\" Measurement of DL delay. \"BOTH\"
Measurement of both UL/DL delays. \"NONE\" No measurements are required. This
value shall be used to stop on-going UL and/or DL measurements.
##### 6.1.6.3.22 Enumeration: Rsn
The enumeration Rsn indicates the RSN value which differentiates the PDU
sessions that are handled redundantly (see clause 5.33.2.1 of 3GPP TS 23.501
[2]).
Table 6.1.6.3.22-1: Enumeration Rsn
Enumeration value Description
* * *
\"V1\" V1 \"V2\" V2 \"NONE\" This value indicates that no RSN value is
available (NOTE) NOTE: This value shall be used in a Create Request if a PDU
Session Pair ID was received from the UE without an RSN value.
##### 6.1.6.3.23 Enumeration: SmfSelectionType
The enumeration SmfSelectionType represents the I-SMF selection or removal for
the current PDU Session, or the SMF selection during PDU Session re-
establishment for SSC mode 2/3. It shall comply with the provisions defined in
table 6.1.6.3.23-1.
Table 6.1.6.3.23-1: Enumeration SmfSelectionType
Enumeration value Description
* * *
\"CURRENT_PDU_SESSION\" I-SMF selection or removal for the current PDU
Session. \"NEXT_PDU_SESSION\" SMF selection for the next PDU Session, i.e. the
re-established PDU session for SSC mode 2/3.
##### 6.1.6.3.24 Enumeration: PduSessionContextType
The enumeration PduSessionContextType represents the type of PDU Session
information requested during a Retrieve service operation. It shall comply
with the provisions defined in table 6.1.6.3.24-1.
Table 6.1.6.3.24-1: Enumeration PduSessionContextType
Enumeration value Description
* * *
\"AF_COORDINATION_INFO\" AF Coordination Information
##### 6.1.6.3.25 Enumeration: PendingUpdateInfo
The enumeration PendingUpdateInfo indicates the information that are not
required to be updated in real-time.
Table 6.1.6.3.25-1: Enumeration PendingUpdateInfo
Enumeration value Description
* * *
\"UE_LOCATION\" UE Location \"TIMEZONE\" Timezone \"ACCESS_TYPE\" Access Type
\"RAT_TYPE\" Radio Access Type \"AMF_ID\" Serving AMF Identifier
#### 6.1.6.4 Binary data
##### 6.1.6.4.1 Introduction
This clause defines the binary data that shall be supported in a binary body
part in an HTTP multipart message (see clauses 6.1.2.2.2 and 6.1.2.4).
Table 6.1.6.4.1-1: Binary Data Types
Name Clause defined Content type
* * *
N1 SM Message 6.1.6.4.2 vnd.3gpp.5gnas N2 SM Information 6.1.6.4.3
vnd.3gpp.ngap n1SmInfoFromUe 6.1.6.4.4 vnd.3gpp.5gnas n1SmInfoToUe 6.1.6.4.4
vnd.3gpp.5gnas unknownN1SmInfo 6.1.6.4.4 vnd.3gpp.5gnas N4 Message Payload
6.1.6.4.5 vnd.3gpp.pfcp
##### 6.1.6.4.2 N1 SM Message
N1 SM Message shall encode a 5GS NAS SM message as specified in 3GPP TS 24.501
[7], using the vnd.3gpp.5gnas content-type.
N1 SM Message may encode any 5GS NAS SM message specified in 3GPP TS 24.501
[7], as summarized in Table 6.1.6.4.2-1.
Table 6.1.6.4.2-1: N1 SM Message content
+-----------------------------------------+------------------------+ | 5GS NAS message | Reference | | | | | | (3GPP TS 24.501 [7]) | +=========================================+========================+ | PDU session establishment request | 8.3.1 | +-----------------------------------------+------------------------+ | PDU session establishment accept | 8.3.2 | +-----------------------------------------+------------------------+ | PDU session establishment reject | 8.3.3 | +-----------------------------------------+------------------------+ | PDU session authentication command | 8.3.4 | +-----------------------------------------+------------------------+ | PDU session authentication complete | 8.3.5 | +-----------------------------------------+------------------------+ | PDU session authentication result | 8.3.6 | +-----------------------------------------+------------------------+ | PDU session modification request | 8.3.7 | +-----------------------------------------+------------------------+ | PDU session modification reject | 8.3.8 | +-----------------------------------------+------------------------+ | PDU session modification command | 8.3.9 | +-----------------------------------------+------------------------+ | PDU session modification complete | 8.3.10 | +-----------------------------------------+------------------------+ | PDU session modification command reject | 8.3.11 | +-----------------------------------------+------------------------+ | PDU session release request | 8.3.12 | +-----------------------------------------+------------------------+ | PDU session release reject | 8.3.13 | +-----------------------------------------+------------------------+ | PDU session release command | 8.3.14 | +-----------------------------------------+------------------------+ | PDU session release complete | 8.3.15 | +-----------------------------------------+------------------------+ | 5GSM status | 8.3.16 | +-----------------------------------------+------------------------+ | Service-level authentication command | 8.3.17 | +-----------------------------------------+------------------------+ | Service-level authentication complete | 8.3.18 | +-----------------------------------------+------------------------+ | Remote UE Report | 8.3.19 | +-----------------------------------------+------------------------+ | Remove UE Report Response | 8.3.20 | +-----------------------------------------+------------------------+
##### 6.1.6.4.3 N2 SM Information
N2 SM Information shall encode NG Application Protocol (NGAP) IEs, as
specified in clause 9.3 of 3GPP TS 38.413 [9] (ASN.1 encoded), using the
vnd.3gpp.ngap content-type.
N2 SM Information may encode any NGAP SMF related IE specified in 3GPP TS
38.413 [9], as summarized in Table 6.1.6.4.3-1.
Table 6.1.6.4.3-1: N2 SM Information content
+----------------------+----------------------+----------------------+ | N2 SM IE | Reference | Related NGAP message | | | | | | | (3 | | | | GPP TS 38.413 [9]) | | +======================+======================+======================+ | PDU Session Resource | 9.3.4.1 | PDU SESSION RESOURCE | | Setup Request | | SETUP REQUEST | | Transfer | | | | | | INITIAL CONTEXT | | | | SETUP REQUEST | | | | | | | | HANDOVER REQUEST | +----------------------+----------------------+----------------------+ | PDU Session Resource | 9.3.4.2 | PDU SESSION RESOURCE | | Setup Response | | SETUP RESPONSE | | Transfer | | | | | | INITIAL CONTEXT | | | | SETUP RESPONSE | +----------------------+----------------------+----------------------+ | PDU Session Resource | 9.3.4.16 | PDU SESSION RESOURCE | | Setup Unsuccessful | | SETUP RESPONSE | | Transfer | | | | | | INITIAL CONTEXT | | | | SETUP RESPONSE | +----------------------+----------------------+----------------------+ | **_PDU Session | 9.3.4.12 | PDU SESSION RESOURCE | | Resource Release | | RELEASE COMMAND | | Command Transfer_** | | | +----------------------+----------------------+----------------------+ | **_PDU Session | 9.3.4.21 | PDU SESSION RESOURCE | | Resource Release | | RELEASE RESPONSE | | Response Transfer_** | | | | | | UE CONTEXT RELEASE | | | | COMPLETE | +----------------------+----------------------+----------------------+ | **_PDU Session | 9.3.4.3 | PDU SESSION RESOURCE | | Resource Modify | | MODIFY REQUEST | | Request Transfer_** | | | +----------------------+----------------------+----------------------+ | **_PDU Session | 9.3.4.4 | PDU SESSION RESOURCE | | Resource Modify | | MODIFY RESPONSE | | Response Transfer_** | | | +----------------------+----------------------+----------------------+ | PDU Session Resource | 9.3.4.17 | PDU SESSION RESOURCE | | Modify Unsuccessful | | MODIFY RESPONSE | | Transfer | | | +----------------------+----------------------+----------------------+ | **_PDU Session | 9.3.4.5 | PDU SESSION RESOURCE | | Resource Notify | | NOTIFY | | Transfer_** | | | +----------------------+----------------------+----------------------+ | PDU Session Resource | 9.3.4.13 | PDU SESSION RESOURCE | | Notify Released | | NOTIFY | | Transfer | | | +----------------------+----------------------+----------------------+ | **_PDU Session | 9.3.4.6 | PDU SESSION RESOURCE | | Resource Modify | | MODIFY INDICATION | | Indication | | | | Transfer_** | | | +----------------------+----------------------+----------------------+ | **_PDU Session | 9.3.4.7 | PDU SESSION RESOURCE | | Resource Modify | | MODIFY CONFIRM | | Confirm Transfer_** | | | +----------------------+----------------------+----------------------+ | PDU Session Resource | 9.3.4.22 | PDU SESSION RESOURCE | | Modify Indication | | MODIFY CONFIRM | | Unsuccessful | | | | Transfer | | | +----------------------+----------------------+----------------------+ | Path Switch Request | 9.3.4.8 | PATH SWITCH REQUEST | | Transfer | | | +----------------------+----------------------+----------------------+ | Path Switch Request | 9.3.4.15 | PATH SWITCH REQUEST | | Setup Failed | | | | Transfer | | | +----------------------+----------------------+----------------------+ | Path Switch Request | 9.3.4.9 | PATH SWITCH REQUEST | | Acknowledge Transfer | | ACKNOWLEDGE | +----------------------+----------------------+----------------------+ | Path Switch Request | 9.3.4.20 | PATH SWITCH REQUEST | | Unsuccessful | | ACKNOWLEDGE | | Transfer | | | | | | PATH SWITCH REQUEST | | | | FAILURE | +----------------------+----------------------+----------------------+ | **_Handover Required | 9.3.4.14 | HANDOVER REQUIRED | | Transfer_** | | | +----------------------+----------------------+----------------------+ | Handover Request | 9.3.4.11 | HANDOVER REQUEST | | Acknowledge Transfer | | ACKNOWLEDGE | +----------------------+----------------------+----------------------+ | Handover Resource | 9.3.4.19 | HANDOVER REQUEST | | Allocation | | ACKNOWLEDGE | | Unsuccessful | | | | Transfer | | | +----------------------+----------------------+----------------------+ | Handover Command | 9.3.4.10 | HANDOVER COMMAND | | Transfer | | | +----------------------+----------------------+----------------------+ | Handover Preparation | 9.3.4.18 | HANDOVER COMMAND | | Unsuccessful | | | | Transfer | | | +----------------------+----------------------+----------------------+ | Secondary RAT Data | 9.3.4.23 | SECONDARY RAT DATA | | Usage Report | | USAGE REPORT | | Transfer | | | +----------------------+----------------------+----------------------+ | UE Context Resume | 9.3.4.24 | UE CONTEXT RESUME | | Request Transfer | | REQUEST | +----------------------+----------------------+----------------------+ | UE Context Resume | 9.3.4.25 | UE CONTEXT RESUME | | Response Transfer | | RESPONSE | +----------------------+----------------------+----------------------+ | UE Context Suspend | 9.3.4.26 | UE CONTEXT SUSPEND | | Request Transfer | | REQUEST | +----------------------+----------------------+----------------------+
##### 6.1.6.4.4 n1SmInfoFromUe, n1SmInfoToUe, unknownN1SmInfo
n1SmInfoFromUe, n1SmInfoToUe and unknownN1SmInfo shall encode one or more NAS
SM IEs, including the Type and Length fields, as specified in 3GPP TS 24.501
[7], using the vnd.3gpp.5gnas content-type.
Clause 5.2.3.1 specifies the information that shall be included in these
payloads.
n1SmInfoFromUe and n1SmInfoToUe may encode the 5GS NAS IEs listed in tables
6.1.6.4.4-1 and 6.1.6.4.4-2.
Table 6.1.6.4.4-1: n1SmInfoFromUE content
+----------------------+----------------------+----------------------+ | 5GS NAS IE | Reference | Related NAS SM | | | | message | | | (3 | | | | GPP TS 24.501 [7]) | | +======================+======================+======================+ | Message type | 9.7 | All NAS SM messages | +----------------------+----------------------+----------------------+ | PDU session type | 9.11.4.11 | PDU Session | | | | Establishment | | | | Request | +----------------------+----------------------+----------------------+ | SSC mode | 9.11.4.16 | PDU Session | | | | Establishment | | | | Request | +----------------------+----------------------+----------------------+ | Maximum number of | 9.11.4.9 | PDU Session | | supported packet | | Establishment | | filters | | Request | | | | | | | | PDU Session | | | | Modification Request | +----------------------+----------------------+----------------------+ | Integrity protection | 9.11.4.7 | PDU Session | | maximum data rate | | Modification Request | | | | | | | | (NOTE 3) | +----------------------+----------------------+----------------------+ | SM PDU DN request | 9.11.4.15 | PDU Session | | container | | Establishment | | | | Request | +----------------------+----------------------+----------------------+ | Extended protocol | 9.11.4.6 | PDU Session | | configuration | | Establishment | | options | | Request | | | | | | | | PDU Session | | | | Authentication | | | | Complete | | | | | | | | PDU Session | | | | Modification Request | | | | | | | | PDU Session | | | | Modification | | | | Complete | | | | | | | | PDU Session | | | | Modification Command | | | | Reject | | | | | | | | PDU Session Release | | | | Request | | | | | | | | PDU Session Release | | | | Complete | +----------------------+----------------------+----------------------+ | EAP message | 9.11.2.2 | PDU Session | | | | Authentication | | | | Complete | +----------------------+----------------------+----------------------+ | Requested QoS rules | 9.11.4.13 | PDU Session | | | | Modification Request | +----------------------+----------------------+----------------------+ | Requested QoS flow | 9.11.4.12 | PDU Session | | descriptions | | Modification Request | +----------------------+----------------------+----------------------+ | 5GSM cause | 9.11.4.2 | PDU Session | | | | Modification Request | | | | | | | | PDU Session Release | | | | Request | | | | | | | | PDU Session Release | | | | Complete | | | | | | | | (NOTE 2) | +----------------------+----------------------+----------------------+ | 5GSM capability | 9.11.4.1 | PDU Session | | | | Establishment | | | | Request | | | | | | | | PDU Session | | | | Modification Request | | | | | | | | (NOTE 1) | +----------------------+----------------------+----------------------+ | Mapped EPS bearer | 9.11.4.8 | PDU Session | | contexts | | Modification Request | +----------------------+----------------------+----------------------+ | Remote UE context | 9.11.4.29 | Remote UE Report | | connected | | | +----------------------+----------------------+----------------------+ | Remote UE context | 9.11.4.29 | Remote UE Report | | disconnected | | | +----------------------+----------------------+----------------------+ | NOTE 1: The 5GSM | | | | capability IE shall | | | | be encoded as | | | | received from the | | | | UE. It may contain | | | | UE capabilities that | | | | the V-SMF (or I-SMF) | | | | only needs to | | | | transfer to the | | | | H-SMF (or SMF), e.g. | | | | support of | | | | reflective QoS, or | | | | support of | | | | multi-homed IPv6 PDU | | | | session, and/or | | | | capabilities to be | | | | interpreted and used | | | | by the V-SMF (or | | | | I-SMF). | | | | | | | | NOTE 2: The 5GSM | | | | cause IE shall be | | | | encoded as received | | | | from the UE.\ | | | | This information is | | | | defined as a \"V\" | | | | IE (i.e. without a | | | | Type field) in other | | | | NAS messages, e.g. | | | | PDU Session | | | | Modification Command | | | | Reject message, in | | | | which case it shall | | | | be sent as a | | | | separate n1SmCause | | | | IE over N16/N16a and | | | | not within the | | | | n1SmInfoToUE binary | | | | data. | | | | | | | | NOTE 3: This | | | | information is | | | | defined as a \"V\" | | | | IE (i.e. without a | | | | Type field) in other | | | | NAS messages, e.g. | | | | PDU Session | | | | Establishment | | | | Request, in which | | | | case it shall be | | | | sent as separate | | | | maximum integrity | | | | protected data rate | | | | IEs over N16/N16a | | | | and not within the | | | | n1SmInfoToUE binary | | | | data. | | | +----------------------+----------------------+----------------------+
Table 6.1.6.4.4-2: n1SmInfoToUE parameters
+----------------------+----------------------+----------------------+ | 5GS NAS IE | Reference | Related NAS SM | | | | message | | | (3 | | | | GPP TS 24.501 [7]) | | +======================+======================+======================+ | Message type | 9.7 | All NAS SM messages | +----------------------+----------------------+----------------------+ | RQ timer value | 9.11.2.3 | PDU Session | | | | Establishment Accept | | | | | | | | PDU Session | | | | Modification Command | +----------------------+----------------------+----------------------+ | EAP message | 9.11.2.2 | PDU Session | | | | Establishment Accept | | | | | | | | PDU Session | | | | Establishment Reject | | | | | | | | PDU Session | | | | Authentication | | | | Command | | | | | | | | PDU Session | | | | Authentication | | | | Result | | | | | | | | PDU Session Release | | | | Command | +----------------------+----------------------+----------------------+ | Allowed SSC mode | 9.11.4.5 | PDU Session | | | | Establishment Reject | +----------------------+----------------------+----------------------+ | Extended protocol | 9.11.4.6 | PDU Session | | configuration | | Establishment Accept | | options | | | | | | PDU Session | | | | Establishment Reject | | | | | | | | PDU Session | | | | Authentication | | | | Command | | | | | | | | PDU Session | | | | Authentication | | | | Result | | | | | | | | PDU Session | | | | Modification Reject | | | | | | | | PDU Session | | | | Modification Command | | | | | | | | PDU Session Release | | | | Reject | | | | | | | | PDU Session Release | | | | Command | +----------------------+----------------------+----------------------+ | 5GSM cause | 9.11.4.2 | PDU Session | | | | Establishment Accept | | | | | | | | PDU Session | | | | Modification Command | | | | | | | | (NOTE) | +----------------------+----------------------+----------------------+ | Mapped EPS bearer | 9.11.4.8 | PDU Session | | contexts | | Establishment Accept | | | | | | | | PDU Session | | | | Modification Command | +----------------------+----------------------+----------------------+ | ATSSS container | 9.11.4.22 | PDU Session | | | | Establishment Accept | | | | | | | | PDU Session | | | | Modification Command | +----------------------+----------------------+----------------------+ | NOTE: This IE | | | | indicates the 5GSM | | | | cause the H-SMF (or | | | | SMF) requires the | | | | V-SMF (or I-SMF) to | | | | send to the UE. The | | | | V-SMF (or I-SMF) | | | | shall transfer the | | | | received value to | | | | the UE without | | | | interpretation.\ | | | | This information is | | | | defined as a \"V\" | | | | IE (i.e. without a | | | | Type field) in other | | | | NAS messages, e.g. | | | | PDU Session | | | | Establishment Reject | | | | message, in which | | | | case it shall be | | | | sent as a separate | | | | n1SmCause IE over | | | | N16/N16a and not | | | | within the | | | | n1SmInfoToUE binary | | | | data. | | | +----------------------+----------------------+----------------------+
The Message Type shall be present and encoded as the first 5GS NAS IE in any
n1SmInfoFromUe, n1SmInfoToUe and unknownN1SmInfo binary data, to enable the
receiver to decode the 5GS NAS IEs.
NOTE: The Information Element Identifier (see clause 11.2.1.1.3 of 3GPP TS
24.007 [8]) of a 5GS NAS IE uniquely identifies an IE in a given message.
##### 6.1.6.4.5 N4 Message Payload
The N4 Message Payload shall encode a PFCP session related message as
specified in 3GPP TS 29.244 [29], using the vnd.3gpp.pfcp content-type.
##### 6.1.6.4.6 Mobile Originated Data
Mobile Originated Data shall encode the Data Contents of the CIoT small data
container or Payload Container specified in 3GPP TS 24.501 [7], using the
vnd.3gpp.5gnas content-type, as summarized in Table 6.1.6.4.6-1.
Table 6.1.6.4.6-1: Mobile Originated Data
+----------------------+----------------------+----------------------+ | Mobile Originated | Reference | Related NAS SM | | Data | | message | | | (3 | | | | GPP TS 24.501 [7]) | | +======================+======================+======================+ | Data contents in | 9.11.3.18B | Control Plane | | octet 4 to octet up | | Service Request | | to 257 of CIoT small | (Figure | | | data container | 9.11.3.18B.2) | | | contents. | | | +----------------------+----------------------+----------------------+ | Payload container | 9.11.3.39 | Control Plane | | contents in octets 4 | | Service Request | | to n | (Figure 9.11.3.39.1) | | | | | UL NAS Transport | +----------------------+----------------------+----------------------+
##### 6.1.6.4.7 Mobile Terminated Data
Mobile Terminated Data shall encode the Data Contents of the Payload Container
specified in 3GPP TS 24.501 [7], using the vnd.3gpp.5gnas content-type, as
summarized in Table 6.1.6.4.7-1.
Table 6.1.6.4.7-1: Mobile Terminated Data
+----------------------+----------------------+----------------------+ | Mobile Terminated | Reference | Related NAS SM | | Data | | message | | | (3 | | | | GPP TS 24.501 [7]) | | +======================+======================+======================+ | Payload container | 9.11.3.39 | DL NAS Transport | | contents in octets 4 | | | | to n | (Figure 9.11.3.39.1) | | +----------------------+----------------------+----------------------+
### 6.1.7 Error Handling
#### 6.1.7.1 General
HTTP error handling shall be supported as specified in clause 5.2.4 of 3GPP TS
29.500 [4].
The Cause codes mapping performed by AMF between the following HTTP responses
returned by the SMF services to the AMF and the 5GMM related values is
specified in clause 4.3.2 of 3GPP TS 29.524 [34].
In order to enable the AMF to figure out whether a request (e.g. PDU session
establishment request) fails at the V-SMF/I-SMF or at the H-SMF/SMF for a HR
PDU session or a PDU session with an I-SMF:
\- a V-SMF/I-SMF that returns an HTTP error response to the AMF that was
originated by the H-SMF/SMF shall include the remoteError attribute set to
\"true\" in the ProblemDetails information in the HTTP error response;
\- a V-SMF/I-SMF that originates an error to the AMF may include the
remoteError attribute set to \"false\" in the ProblemDetails information in
the HTTP error response.
For a HR PDU session or a PDU session with an I-SMF, if the V-SMF or I-SMF
needs to reject the request from the AMF or the H-SMF/SMF because the
H-SMF/SMF or the AMF is not reachable respectively (even after retrying
alternative endpoint addresses e.g. according to the Binding Indication when
available), the V-SMF or I-SMF shall send a 504 Gateway Timeout response
including a problemDetails data structure with the cause attribute set to
\"PEER_NOT_RESPONDING\" and with the remoteError attribute set to \"false\".
#### 6.1.7.2 Protocol Errors
Protocol errors handling shall be supported as specified in clause 5.2.7 of
3GPP TS 29.500 [4].
#### 6.1.7.3 Application Errors
The common application errors defined in Table 5.2.7.2-1 of 3GPP TS 29.500 [4]
may be used for the Nsmf_PDUSession service.
The following application errors listed in Table 6.1.7.3-1 are specific to the
Nsmf_PDUSession service.
Table 6.1.7.3-1: Application errors
+----------------------+----------------------+----------------------+ | Application Error | HTTP status code | Description | +======================+======================+======================+ | N1_SM_ERROR | 403 Forbidden | This indicates that | | | | an error, other than | | | | those listed in this | | | | table, was detected | | | | when processing the | | | | N1 SM information | | | | received in the | | | | request, e.g. N1 SM | | | | protocol error. | +----------------------+----------------------+----------------------+ | N2_SM_ERROR | 403 Forbidden | This indicates that | | | | an error, other than | | | | those listed in this | | | | table, was detected | | | | when processing the | | | | N2 SM information | | | | received in the | | | | request, e.g. N2 SM | | | | protocol error. | +----------------------+----------------------+----------------------+ | SNSSAI_DENIED | 403 Forbidden | The subscriber does | | | | not have the | | | | necessary | | | | subscription to | | | | access the SNSSAI. | +----------------------+----------------------+----------------------+ | DNN_DENIED | 403 Forbidden | The subscriber does | | | | not have the | | | | necessary | | | | subscription to | | | | access the DNN. | +----------------------+----------------------+----------------------+ | PDUTYPE_DENIED | 403 Forbidden | The subscriber does | | | | not have the | | | | necessary | | | | subscription for the | | | | requested PDU | | | | session type. | +----------------------+----------------------+----------------------+ | SSC_DENIED | 403 Forbidden | The subscriber does | | | | not have the | | | | necessary | | | | subscription for the | | | | requested SSC mode. | +----------------------+----------------------+----------------------+ | SUBSCRIPTION_DENIED | 403 Forbidden | This indicates an | | | | error, other than | | | | those listed in this | | | | table, due to lack | | | | of necessary | | | | subscription to | | | | serve the UE | | | | request. | +----------------------+----------------------+----------------------+ | DNN_NOT_SUPPORTED | 403 Forbidden | The DNN is not | | | | supported by the | | | | SMF. | +----------------------+----------------------+----------------------+ | PDU | 403 Forbidden | The requested PDU | | TYPE_NOT_SUPPORTED | | session type is not | | | | supported by the SMF | | | | for the PDN | | | | corresponding to the | | | | DNN. | +----------------------+----------------------+----------------------+ | SSC_NOT_SUPPORTED | 403 Forbidden | The requested SSC | | | | mode is not | | | | supported by the SMF | | | | for the PDN | | | | corresponding to the | | | | DNN. | +----------------------+----------------------+----------------------+ | HOME_ROUTE | 403 Forbidden | It is used in LBO | | D_ROAMING_REQUIRED | | roaming, if the | | | | V-SMF is not able to | | | | process some part of | | | | the N1 SM | | | | information that | | | | requires Home Routed | | | | Roaming. | +----------------------+----------------------+----------------------+ | OUT_OF\ | 403 Forbidden | The PDU session | | _LADN_SERVICE_AREA | | corresponds to a | | | | LADN and the UE is | | | | outside of the LADN | | | | Service Area. | +----------------------+----------------------+----------------------+ | N2_SM_ERROR | 403 Forbidden | This indicates that | | | | an error, other than | | | | those listed in this | | | | table, was detected | | | | when processing the | | | | N2 SM information | | | | received in the | | | | request, e.g. N2 SM | | | | protocol error. | +----------------------+----------------------+----------------------+ | PRIORIT | 403 Forbidden | The SMF was notified | | IZED_SERVICES_ONLY | | that the UE is | | | | reachable only for | | | | regulatory | | | | prioritized service | | | | and the PDU Session | | | | to be activated is | | | | not for a regulatory | | | | prioritized service. | +----------------------+----------------------+----------------------+ | PDU_SES | 403 Forbidden | The SMF decided to | | SION_ANCHOR_CHANGE | | change the PDU | | | | Session Anchor for | | | | the PDU Session. | +----------------------+----------------------+----------------------+ | TAR | 403 Forbidden | A request to | | GET_MME_CAPABILITY | | retrieve an SM | | | | context is rejected | | | | due to the target | | | | MME not capable to | | | | support the PDU | | | | session. | +----------------------+----------------------+----------------------+ | NO_ | 403 Forbidden | It is used during an | | EPS_5GS_CONTINUITY | | EPS to 5GS Idle mode | | | | mobility or | | | | handover, if the PDU | | | | session does not | | | | support seamless | | | | session continuity | | | | to 5GS. | +----------------------+----------------------+----------------------+ | UNABLE_TO_PAGE_UE | 403 Forbidden | The request is | | | | rejected due to a | | | | temporarily | | | | inability to page | | | | the UE. | +----------------------+----------------------+----------------------+ | UE_NOT_RESPONDING | 403 Forbidden | The UE did not | | | | respond to the | | | | request initiated by | | | | the network, e.g. | | | | paging. | +----------------------+----------------------+----------------------+ | REJECTED_BY_UE | 403 Forbidden | The request is | | | | rejected by the UE. | +----------------------+----------------------+----------------------+ | REJECTED | 403 Forbidden | The request is | | _DUE_VPLMN_POLICY | | rejected due to | | | | VPLMN operator | | | | policy. | +----------------------+----------------------+----------------------+ | H | 403 Forbidden | The request is | | O_TAU_IN_PROGRESS | | rejected temporarily | | | | due to a mobilty | | | | procedure in | | | | progress. | +----------------------+----------------------+----------------------+ | IN | 403 Forbidden | The integrity | | TEGRITY_PROTECTED_ | | protected maximum | | MDR_NOT_ACCEPTABLE | | data rate value | | | | provided by the UE | | | | is not acceptable | | | | for the PDU session | | | | based on local | | | | policy at the SMF. | | | | This error is | | | | applicable when the | | | | UP Security Policy | | | | for the PDU Session | | | | is determined to | | | | have Integrity | | | | Protection set to | | | | \"Required\". | | | | | | | | An NF service | | | | consumer that | | | | receives this error | | | | cause may use it for | | | | maintaining KPIs. | +----------------------+----------------------+----------------------+ | EBI_EXHAUSTED | 403 Forbidden | The allocation of | | | | EPS Bearer ID failed | | | | due to exhaustion of | | | | EBI as the maximum | | | | number of EBIs has | | | | already been | | | | allocated to the UE. | +----------------------+----------------------+----------------------+ | EBI_REJ | 403 Forbidden | The allocation of | | ECTED_LOCAL_POLICY | | EPS Bearer ID was | | | | rejected due to | | | | local policy in the | | | | Serving PLMN. | +----------------------+----------------------+----------------------+ | EB | 403 Forbidden | The allocation of | | I_REJECTED_NO_N26 | | EPS Bearer ID was | | | | rejected when the | | | | AMF is in a serving | | | | PLMN that does not | | | | support 5GS-EPS | | | | interworking | | | | procedures with N26 | | | | interface. | +----------------------+----------------------+----------------------+ | DEFAULT_E | 403 Forbidden | It is used during | | PS_BEARER_INACTIVE | | EPS to 5GS mobility | | | | if the default EPS | | | | bearer context of | | | | the PDU session is | | | | reported as inactive | | | | by the UE in the | | | | epsBearerCtxStatus | | | | attribute. | +----------------------+----------------------+----------------------+ | HANDOVER_RESOURCE\ | 403 Forbidden | It is used during a | | _ALLOCATION_FAILURE | | N2 handover | | | | preparation or an | | | | EPS to 5GS handover | | | | preparation, if no | | | | resource is | | | | allocated by the | | | | target NG-RAN for | | | | the PDU session. | +----------------------+----------------------+----------------------+ | LATE_ | 403 Forbidden | The request is | | OVERLAPPING_REQUEST | | rejected because it | | | | collides with an | | | | existing SM context | | | | or PDU session | | | | context with a more | | | | recent origination | | | | timestamp (see | | | | clause 5.2.3.3). | +----------------------+----------------------+----------------------+ | DEFAULT_E | 403 Forbidden | It is used during | | BI_NOT_TRANSFERRED | | 5GS to EPS mobility | | | | if the EBI of the | | | | default EPS bearer | | | | is included in the | | | | notToTransferEbiList | | | | attribute. | +----------------------+----------------------+----------------------+ | NOT_S | 403 Forbidden | The request is | | UPPORTED_WITH_ISMF | | rejected due to a | | | | requested | | | | functionality that | | | | is not supported for | | | | a PDU session with | | | | an I-SMF/V-SMF. | +----------------------+----------------------+----------------------+ | SERVICE_NOT_AUTHO | 403 Forbidden | The SMF is not | | RIZED_BY_NEXT_HOP | | authorized to access | | | | service provided by | | | | next hop NF | | | | producer, e.g. H-SMF | | | | or SMF or old I-SMF | | | | or old V-SMF. | +----------------------+----------------------+----------------------+ | NO_DATA_FORWARDING | 403 Forbidden | The request to setup | | | | data forwarding | | | | tunnels is rejected | | | | because none of the | | | | EPS bearer contexts | | | | received in the | | | | request body | | | | contains an F-TEID | | | | for DL data | | | | forwarding. | +----------------------+----------------------+----------------------+ | S_NSSAI_UNAVAI | 403 Forbidden | The NSACF has | | LABLE_DUE_TO_NSAC | | returned error for | | | | the requested | | | | S-NSSAI and hence | | | | the PDU Session | | | | cannot be | | | | transferred from | | | | non-3gpp to 3gpp. | +----------------------+----------------------+----------------------+ | EXCEEDED_U | 403 Forbidden | The request is | | E_SLICE_DATA_RATE | | rejected due to the | | | | maximum bit rate per | | | | S-NSSAI per UE is | | | | exceeded, when the | | | | SMF receives the | | | | same application | | | | error from the PCF. | +----------------------+----------------------+----------------------+ | EXCEEDE | 403 Forbidden | The request is | | D_SLICE_DATA_RATE | | rejected due to the | | | | maximum bit rate per | | | | S-NSSAI is exceeded, | | | | when the SMF | | | | receives the same | | | | application error | | | | from the PCF. | +----------------------+----------------------+----------------------+ | CONTEXT_NOT_FOUND | 404 Not Found | It is used when no | | | | context | | | | corresponding to the | | | | request exists in | | | | the SMF. | +----------------------+----------------------+----------------------+ | HIGHER_PRIORI | 409 Conflict | The request is | | TY_REQUEST_ONGOING | | rejected temporarily | | | | due to procedure for | | | | higher priority | | | | session in progress. | +----------------------+----------------------+----------------------+ | UE\ | 409 Conflict | The request is | | _IN_CM_IDLE_STATE | | rejected due to the | | | | UE being in CM-IDLE | | | | state for the PDU | | | | session associated | | | | to non-3GPP access. | +----------------------+----------------------+----------------------+ | INSUFFICIE | 500 Internal Server | The request cannot | | NT_RESOURCES_SLICE | Error | be provided due to | | | | insufficient | | | | resources for the | | | | specific slice. | +----------------------+----------------------+----------------------+ | INSUFFICIENT_R | 500 Internal Server | The request cannot | | ESOURCES_SLICE_DNN | Error | be provided due to | | | | insufficient | | | | resources for the | | | | specific slice and | | | | DNN. | +----------------------+----------------------+----------------------+ | DNN_CONGESTION | 503 Service | The SMF has detected | | | Unavailable | congestion for the | | | | requested DNN and | | | | performs overload | | | | control for that DNN | | | | which does not allow | | | | the PDU session to | | | | be established. | +----------------------+----------------------+----------------------+ | S_NSSAI_CONGESTION | 503 Service | During PDU session | | | Unavailable | establishment, the | | | | SMF has detected | | | | congestion for the | | | | requested S-NSSAI | | | | (including the | | | | congestion due to | | | | NSAC failure) and | | | | performs overload | | | | control for that | | | | S-NSSAI which does | | | | not allow the PDU | | | | session to be | | | | established. | | | | | | | | During handover | | | | between 3GPP access | | | | and non-3GPP access, | | | | the SMF has detected | | | | congestion for the | | | | requested S-NSSAI on | | | | the target access | | | | (e.g., due to NSAC) | | | | and performs | | | | overload control for | | | | that S-NSSAI on the | | | | target access which | | | | does not allow the | | | | PDU session to be | | | | handover to the | | | | target access. | +----------------------+----------------------+----------------------+ | P | 504 Gateway Timeout | No response is | | EER_NOT_RESPONDING | | received from a | | | | remote peer, or the | | | | remote peer is known | | | | to be not reachable, | | | | e.g. to indicate | | | | that no response has | | | | been received from | | | | the H-SMF for a HR | | | | PDU session or the | | | | SMF for a PDU | | | | session with I-SMF. | +----------------------+----------------------+----------------------+ | NETWORK_FAILURE | 504 Gateway Timeout | The request is | | | | rejected due to a | | | | network problem. | +----------------------+----------------------+----------------------+ | UPF_NOT_RESPONDING | 504 Gateway Timeout | The request is | | | | rejected due to no | | | | response received | | | | from the UPF. | +----------------------+----------------------+----------------------+ | UE_NOT_REACHABLE | 504 Gateway Timeout | The UE is not | | | | reachable for | | | | service. | +----------------------+----------------------+----------------------+
### 6.1.8 Feature Negotiation
The feature negotiation mechanism specified in clause 6.6 of 3GPP TS 29.500
[4] shall be used to negotiate the optional features applicable between the
SMF and the NF Service Consumer, for the Nsmf_PDUSession service, if any.
The NF Service Consumer shall indicate the optional features it supports for
the Nsmf_PDUSession service, if any, by including the supportedFeatures
attribute in the HTTP POST request when requesting the SMF to create an SM
context or a PDU session resource. In scenarios with a change of NF Service
Consumer (e.g. change of AMF, V-SMF or I-SMF change), the new NF Service
Consumer shall indicate the optional features it supports for the
Nsmf_PDUSession service, if any, by including the supportedFeatures attribute
in the HTTP POST request when requesting the SMF to update an SM context or a
PDU session resource to change the NF Service Consumer.
The SMF shall determine the supported features for the created SM context or
PDU session resource, or for the updated SM context or PDU session resource in
scenarios with a change of NF Service Consumer, as specified in clause 6.6 of
3GPP TS 29.500 [4] and shall indicate the supported features by including the
supportedFeatures attribute in the representation of the SM context or PDU
session resource it returns in the HTTP response confirming the creation or
the modification of the resource.
The syntax of the supportedFeatures attribute is defined in clause 5.2.2 of
3GPP TS 29.571 [13].
The following features are defined for the Nsmf_PDUSession service.
Table 6.1.8-1: Features of supportedFeatures attribute used by Nsmf_PDUSession
service
+-----------------------+------------+-----+-----------------------+ | Feature Number | Feature | M/O | Description | +-----------------------+------------+-----+-----------------------+ | 1 | CIOT | O | Cellular IoT | | | | | | | | | | Support of this | | | | | feature implies the | | | | | support of all the | | | | | CIoT features | | | | | specified in | | | | | clause 5.31 of | | | | | 3GPP TS 23.501 [2], | | | | | including in | | | | | particular | | | | | corresponding SMF | | | | | PDUSession service\'s | | | | | extensions to | | | | | support: | | | | | | | | | | - NB-IoT and LTE-M | | | | | RAT types; | | | | | | | | | | - Control Plane CIoT | | | | | 5GS Optimisation; | | | | | | | | | | - Rate control of | | | | | user data; | | | | | | | | | | - Idle mode mobility | | | | | with data forwarding | | | | | between EPS and 5GS | | | | | using N26 interface. | | | | | | | | | | The SMF shall | | | | | indicate its support | | | | | of this feature in | | | | | supportedFeatures | | | | | attribute in its | | | | | profile registered in | | | | | NRF. | | | | | | | | | | A NF service consumer | | | | | (e.g. AMF) shall only | | | | | select SMF(s) that | | | | | supports this feature | | | | | for PDU sessions with | | | | | Control Plane CIoT | | | | | 5GS Optimisation | | | | | enabled. | +-----------------------+------------+-----+-----------------------+ | 2 | MAPDU | O | Multi-Access PDU | | | | | Session | | | | | | | | | | An SMF that supports | | | | | this feature shall | | | | | support the | | | | | procedures specified | | | | | i | | | | | n3GPP TS 23.501 [2] | | | | | and | | | | | 3GPP TS 23.502 [3] | | | | | related to Access | | | | | Traffic Steering, | | | | | Switching and | | | | | Splitting. | +-----------------------+------------+-----+-----------------------+ | 3 | DTSSA | O | Deployments | | | | | Topologies with | | | | | specific SMF Service | | | | | Areas | | | | | | | | | | A NF Service Consumer | | | | | and an SMF that | | | | | support this feature | | | | | shall support the | | | | | procedures specified | | | | | in clause 5.34 of | | | | | 3GPP TS 23.501 [2] | | | | | and in clause 4.23 of | | | | | 3GPP TS 23.502 [3]. | +-----------------------+------------+-----+-----------------------+ | 4 | CARPT | O | SMF derived CN | | | | | Assisted RAN | | | | | parameters Tuning. | | | | | | | | | | A NF Service Consumer | | | | | (e.g. AMF) and an SMF | | | | | that support this | | | | | feature shall support | | | | | exchanging SMF | | | | | derived CN assisted | | | | | RAN parameters in | | | | | Notify SM Context | | | | | Status service | | | | | operation (see | | | | | clause 5.2.2.5.1). | +-----------------------+------------+-----+-----------------------+ | 5 | CTXTR | O | This feature bit | | | | | indicates whether the | | | | | NF Service Consumer | | | | | (e.g. AMF) and SMF | | | | | supports Network | | | | | Function/NF Service | | | | | Context Transfer | | | | | Procedures specified | | | | | in clause 4.26 of | | | | | 3GPP TS 23.502 [3]. | | | | | | | | | | The SMF shall only | | | | | trigger these context | | | | | transfer procedures | | | | | if the NF Service | | | | | Consumer has | | | | | indicated support of | | | | | this feature. | +-----------------------+------------+-----+-----------------------+ | 6 | VQOS | O | VPLMN QoS | | | | | | | | | | An SMF that supports | | | | | this feature shall | | | | | support: | | | | | | | | | | - the handling of | | | | | QoS constraints from | | | | | the VPLMN during a HR | | | | | PDU session | | | | | establishment as | | | | | specified in | | | | | clause 4.3.2.2.2 of | | | | | 3GPP TS 23.502 [3]; | | | | | and | | | | | | | | | | - QoS modification | | | | | requests initiated by | | | | | the VPLMN, as | | | | | specified in | | | | | clause 4.3.3.3 of | | | | | 3GPP TS 23.502 [3]. | +-----------------------+------------+-----+-----------------------+ | 7 | HOFAIL | M | This feature bit | | | | | indicates whether the | | | | | NF Service Consumer | | | | | (e.g. AMF, V-SMF, | | | | | I-SMF) and SMF | | | | | supports the Notify | | | | | (SM Context) Status | | | | | procedure to indicate | | | | | a handover failure | | | | | with the Resource | | | | | Status set to | | | | | \"UPDATED\" between | | | | | 3GPP access and | | | | | non-3GPP access as | | | | | specified in | | | | | clauses 5.2.2.5.1 and | | | | | 5.2.2.10.1. | | | | | | | | | | The SMF shall only | | | | | trigger such a | | | | | resource status | | | | | notify procedure if | | | | | the NF Service | | | | | Consumer has | | | | | indicated support of | | | | | this feature. | +-----------------------+------------+-----+-----------------------+ | 8 | ES3XX | M | Extended Support of | | | | | HTTP 307/308 | | | | | redirection | | | | | | | | | | An NF Service | | | | | Consumer (e.g. AMF, | | | | | V-SMF, I-SMF) that | | | | | supports this feature | | | | | shall support | | | | | handling of HTTP | | | | | 307/308 redirection | | | | | for any service | | | | | operation of the | | | | | PDUSession service. | | | | | An NF Service | | | | | Consumer that does | | | | | not support this | | | | | feature does only | | | | | support HTTP | | | | | redirection as | | | | | specified for 3GPP | | | | | Release 15. | +-----------------------+------------+-----+-----------------------+ | 9 | DCE2ER | O | Dual Connectivity | | | | | based end to end | | | | | Redundant User Plane | | | | | Paths | | | | | | | | | | An NF service | | | | | consumer (e.g. I-SMF) | | | | | and SMF that supports | | | | | this feature shall | | | | | support the | | | | | procedures specified | | | | | in clause 5.33.2.1 of | | | | | 3GPP TS 23.501 [2]. | +-----------------------+------------+-----+-----------------------+ | 10 | AASN | M | This feature bit | | | | | indicates whether the | | | | | NF Service Consumer | | | | | (e.g. AMF) and the | | | | | SMF support the | | | | | Notify SM Context | | | | | Status procedure to | | | | | indicate that the PDU | | | | | session is | | | | | established towards | | | | | an alternative anchor | | | | | SMF, as specified in | | | | | clause 5.2.2.5.1. | | | | | | | | | | The SMF shall only | | | | | trigger such a Notify | | | | | SM Context Status | | | | | procedure if the NF | | | | | Service Consumer has | | | | | indicated support of | | | | | this feature. | +-----------------------+------------+-----+-----------------------+ | 11 | EnEDGE | O | Enhancement of Edge | | | | | Computing in 5G Core | | | | | network | | | | | | | | | | A NF Service Consumer | | | | | and an SMF that | | | | | support this feature | | | | | shall support to | | | | | signal the target | | | | | DNAI in Notify (SM | | | | | Context) Status and | | | | | Create SM Context | | | | | service operations, | | | | | support to signal the | | | | | URI of the SM Context | | | | | resource in Notify SM | | | | | Context Status, | | | | | Create SM Context and | | | | | create service | | | | | operations / signal | | | | | the URI of the PDU | | | | | Session resource in | | | | | Notify (SM Context) | | | | | Status, Create SM | | | | | Context and create | | | | | service operations to | | | | | retrieve the AF | | | | | Coordination | | | | | Information, as | | | | | specified in | | | | | 3GPP TS 23.501 [2], | | | | | 3GPP TS 23.502 [3] | | | | | and | | | | | 3 | | | | | GPP TS 23.548 [39]. | +-----------------------+------------+-----+-----------------------+ | 12 | SCPBU | O | Simultaneous Change | | | | | of PSA and BP or UL | | | | | CL | | | | | | | | | | This feature bit | | | | | indicates whether the | | | | | NF Service Consumer | | | | | (e.g. I-SMF) and the | | | | | SMF support the | | | | | n4InfoExt3 IE | | | | | included in | | | | | VsmfUpdateData, | | | | | VsmfUpdatedData or | | | | | VsmfUpdateError to | | | | | support the | | | | | simultaneous change | | | | | of PSA and BP or UL | | | | | CL controlled by | | | | | I-SMF. | | | | | | | | | | The SMF shall only | | | | | include the | | | | | n4InfoExt3 IE in | | | | | VsmfUpdateData if the | | | | | NF Service Consumer | | | | | has indicated support | | | | | of this feature. | +-----------------------+------------+-----+-----------------------+ | 13 | ENPN | O | Enhanced support of | | | | | Non-Public Networks | | | | | | | | | | Support of this | | | | | feature implies the | | | | | support of the Remote | | | | | Provisioning of UEs | | | | | in Onboarding Network | | | | | procedures, as | | | | | specified in | | | | | clause 5.30.2.10.4 of | | | | | 3GPP TS 23.501 [2] | | | | | and | | | | | clause 4.3.2.2.1 of | | | | | 3GPP TS 23.502 [3]. | | | | | | | | | | The SMF shall | | | | | indicate its support | | | | | of this feature in | | | | | supportedFeatures | | | | | attribute in its | | | | | profile registered in | | | | | NRF. | | | | | | | | | | A NF service consumer | | | | | (e.g. AMF) shall | | | | | select SMF(s) that | | | | | supports this feature | | | | | to setup PDU sessions | | | | | for Remote | | | | | Provisioning of UEs | | | | | in Onboarding | | | | | Network. | +-----------------------+------------+-----+-----------------------+ | 14 | SPAE | O | SM Policy Association | | | | | Events | | | | | | | | | | This feature bit | | | | | indicates whether the | | | | | NF Service Consumer | | | | | (e.g. AMF) and the | | | | | SMF supports the SM | | | | | Policy Association | | | | | establishment and | | | | | termination event | | | | | notification | | | | | information handling, | | | | | i.e. whereby the PCF | | | | | for UE subscribes to | | | | | SM Policy Association | | | | | events to the PCF for | | | | | SM Policy via the AMF | | | | | and SMF, as specified | | | | | in clause 4.3.2.2.1 | | | | | and clause 4.3.3.2 of | | | | | 3GPP TS 23.502 [3]. | +-----------------------+------------+-----+-----------------------+ | 15 | 5GSAT | O | This feature bit | | | | | indicates whether the | | | | | NF Service Consumer | | | | | (e.g. AMF, V-SMF, | | | | | I-SMF) and SMF | | | | | support the reporting | | | | | of satellite backhaul | | | | | information, as | | | | | specified in | | | | | clause 5.43.4 of | | | | | 3GPP TS 23.501 [2]. | +-----------------------+------------+-----+-----------------------+ | 16 | UPIPE | O | User Plane Integrity | | | | | Protection with EPS | | | | | | | | | | An NF service | | | | | consumer (e.g. AMF) | | | | | and SMF that supports | | | | | this feature shall | | | | | support the User | | | | | Plane Integrity | | | | | Protection with EPS | | | | | specified in | | | | | clauses 4.11.1 and | | | | | 4.11.5.3 of | | | | | 3GPP TS 23.502 [3]. | +-----------------------+------------+-----+-----------------------+ | 17 | BIUMR | O | This feature bit | | | | | indicates whether the | | | | | NF Service Consumer | | | | | (e.g. AMF, V-SMF, | | | | | I-SMF) and SMF | | | | | supports Binding | | | | | Indication Update for | | | | | multiple resource | | | | | contexts specified in | | | | | clauses 6.12.1 and | | | | | 5.2.3.2.6 of | | | | | 3GPP TS 29.500 [4]. | +-----------------------+------------+-----+-----------------------+ | 18 | ACSCR | O | Absence of smfUri and | | | | | hSmfUri attributes in | | | | | Create SM Context | | | | | Request for | | | | | procedures with | | | | | I-SMF/V-SMF | | | | | insertion/change | | | | | other than PDU | | | | | session establishment | | | | | and EPS to 5GS | | | | | mobility procedures. | | | | | | | | | | This feature bit | | | | | indicates that the NF | | | | | Service Consumer | | | | | (e.g. AMF) supports | | | | | not including, and | | | | | the I-SMF/V-SMF | | | | | supports not | | | | | receiving, the smfUri | | | | | and hSmfUri | | | | | attributes in the | | | | | Create SM Context | | | | | request in procedures | | | | | with I-SMF/V-SMF | | | | | insertion/change | | | | | other than PDU | | | | | session establishment | | | | | and EPS to 5GS | | | | | mobility procedures. | | | | | | | | | | An NF Service | | | | | Consumer and | | | | | I-SMF/V-SMF complying | | | | | with this release of | | | | | the specification | | | | | shall support this | | | | | feature if the DTSSA | | | | | feature is supported. | | | | | | | | | | The support of this | | | | | feature may remove | | | | | the need for the AMF | | | | | to fetch the smfUri | | | | | or hsmfUri from the | | | | | NRF where the anchor | | | | | SMF profile is | | | | | registered, e.g. | | | | | enable the AMF to | | | | | skip an inter-PLMN NF | | | | | Discovery procedure | | | | | towards the HPLMN | | | | | during a V-SMF | | | | | insertion/change when | | | | | the AMF can determine | | | | | by other means (e.g. | | | | | using the | | | | | ancho | | | | | rSmfSupportedFeatures | | | | | attribute in PDU | | | | | session context | | | | | received over N14) | | | | | whether the HPLMN | | | | | supports the DTSSA | | | | | feature, and | | | | | accordingly, to | | | | | fasten the execution | | | | | of mobility (e.g. | | | | | handover) scenarios. | +-----------------------+------------+-----+-----------------------+ | 19 | PSETR | O | This feature bit | | | | | indicates that the | | | | | SMF is able to | | | | | (re)select an | | | | | alternative peer SMF | | | | | (when available) when | | | | | it detects the peer | | | | | SMF has failed. See | | | | | also clause 6.8 in | | | | | 3 | | | | | GPP TS 23.527 [24]. | | | | | An SMF implementation | | | | | (complying with this | | | | | release of the | | | | | specification) should | | | | | support the PSETR | | | | | feature (i.e. support | | | | | reselecting a peer | | | | | SMF service instance | | | | | when the peer SMF | | | | | fails) | +-----------------------+------------+-----+-----------------------+ | 20 | DLSET | O | This feature bit | | | | | indicates that the | | | | | PDU session resources | | | | | served by the SMF are | | | | | not exclusively bound | | | | | to a SMF service | | | | | instance, i.e. they | | | | | are shared by | | | | | multiple SMF service | | | | | instances. See also | | | | | clause 6.8 in | | | | | 3 | | | | | GPP TS 23.527 [24]. | +-----------------------+------------+-----+-----------------------+ | 21 | N9FSC | O | N9 Forwarding between | | | | | Branching Points or | | | | | UL CLs controlled by | | | | | the same or different | | | | | I-SMFs for EAS | | | | | Session Continuity. | | | | | | | | | | An NF Service | | | | | Consumer and | | | | | I-SMF/SMF that | | | | | support this feature | | | | | shall support the | | | | | procedures specified | | | | | in clauses 4.23.9.4 | | | | | and 4.23.9.5 of | | | | | 3GPP TS 23.502 [3] | | | | | related to the N9 | | | | | forwarding tunnel | | | | | establishment between | | | | | Branching Points or | | | | | UL CLs controlled by | | | | | the same or different | | | | | I-SMFs to support EAS | | | | | session continuity. | +-----------------------+------------+-----+-----------------------+ | 22 | DTSSA-Ext1 | O | This feature bit | | | | | indicates that the | | | | | full list of DNAIs of | | | | | interest for PDU | | | | | session, including | | | | | DNAIs that may not be | | | | | supported by the | | | | | I-SMF and excluding | | | | | the ones supported by | | | | | the anchor SMF, can | | | | | be provisioned by the | | | | | anchor SMF or handled | | | | | by the I-SMF, which | | | | | enables the (target) | | | | | I-SMF to receive such | | | | | information earlier | | | | | during an I-SMF | | | | | insertion or change | | | | | procedures, so that | | | | | the I-SMF can decide | | | | | to insert UL CL/BP | | | | | and/or a local PSA | | | | | earlier to save some | | | | | signalling | | | | | transactions. | +-----------------------+------------+-----+-----------------------+ | 23 | 5GSATB | O | This feature bit | | | | | indicates whether the | | | | | NF Service Consumer | | | | | (e.g. AMF) is aware | | | | | that the UE is | | | | | accessing over a gNB | | | | | using GEO satellite | | | | | backhaul and GEO | | | | | Satellite ID needs to | | | | | be updated at the SMF | | | | | (see clause 5.43.2 of | | | | | 3GPP TS 23.501 [2]. | +-----------------------+------------+-----+-----------------------+ | 24 | HR-SBO | O | Home Routed Session | | | | | BreakOut | | | | | | | | | | An NF service | | | | | consumer (e.g. AMF | | | | | and V-SMF) and SMF | | | | | that supports this | | | | | feature shall support | | | | | local traffic routing | | | | | in VPLMN for HR-SBO | | | | | specified in clause | | | | | 6.7 of | | | | | 3 | | | | | GPP TS 23.548 [39]. | +-----------------------+------------+-----+-----------------------+ | 25 | N3GPS | O | Non-3GPP Access Path | | | | | Switching | | | | | | | | | | An SMF or NF service | | | | | consumer that | | | | | supports this feature | | | | | shall support the | | | | | procedures specified | | | | | in | | | | | 3GPP TS 23.501 [2] | | | | | and | | | | | 3GPP TS 23.502 [3] | | | | | related to non-3GPP | | | | | access path switching | | | | | while maintaining two | | | | | N2 connections for | | | | | non-3GPP access. | +-----------------------+------------+-----+-----------------------+ | 26 | NSRP | O | Network Slice | | | | | Replacement | | | | | | | | | | An NF service | | | | | consumer (e.g., AMF, | | | | | V-SMF or I-SMF) and | | | | | SMF that supports | | | | | this feature shall | | | | | support network slice | | | | | replacement as | | | | | specified in | | | | | clause 5.15.19 of | | | | | 3GPP TS 23.501 [2]. | +-----------------------+------------+-----+-----------------------+ | 27 | UPCSMT | O | User Plane Connection | | | | | Suspend State and MT | | | | | handling | | | | | | | | | | This feature bit | | | | | indicates whether the | | | | | SMF supports the user | | | | | plane connection | | | | | suspend state for a | | | | | UE entering | | | | | RRC_Suspend or | | | | | RRC_Inactive with | | | | | long eDRX mode and to | | | | | invoke Namf_MT | | | | | EnableUEReachability | | | | | service operation | | | | | upon receiving | | | | | subsequent DL Data | | | | | Notification from the | | | | | UPF. | +-----------------------+------------+-----+-----------------------+ | Feature number: The | | | | | order number of the | | | | | feature within the | | | | | s**upportedFeatures | | | | | attribute (starting | | | | | with 1).** | | | | | | | | | | **Feature: A short | | | | | name that can be used | | | | | to refer to the bit | | | | | and to the feature.** | | | | | | | | | | **M/O: Defines if the | | | | | implementation of the | | | | | feature is mandatory | | | | | (** \"**M** \"**) or | | | | | optional | | | | | (** \"**O** \"**).** | | | | | | | | | | Description: A clear | | | | | textual description | | | | | of the feature. | | | | +-----------------------+------------+-----+-----------------------+
### 6.1.9 Security
As indicated in 3GPP TS 33.501 [17] and 3GPP TS 29.500 [4], the access to the
Nsmf_PDUSession API may be authorized by means of the OAuth2 protocol (see
IETF RFC 6749 [18]), based on local configuration, using the \"Client
Credentials\" authorization grant, where the NRF (see 3GPP TS 29.510 [19])
plays the role of the authorization server.
If OAuth2 authorization is used, an NF Service Consumer, prior to consuming
services offered by the Nsmf_PDUSession API, shall obtain a \"token\" from the
authorization server, by invoking the Access Token Request service, as
described in 3GPP TS 29.510 [19], clause 5.4.2.2.
NOTE 1: When multiple NRFs are deployed in a network, the NRF used as
authorization server is the same NRF that the NF Service Consumer used for
discovering the Nsmf_PDUSession service.
NOTE 2: The security credentials for accessing a child resource URI of an sm-
contexts or pdu-sessions collection distributed on different processing
instances or hosts are the same as for accessing the collection URI.
The Nsmf_PDUSession API defines a single scope \"nsmf-pdusession\" for the
entire service, and it does not define any additional scopes at resource and
operation level.
### 6.1.10 HTTP redirection
An HTTP request may be redirected to a different SMF service instance, within
the same SMF or a different SMF of an SMF set, e.g. when an SMF service
instance is part of an SMF (service) set or when using indirect communications
(see 3GPP TS 29.500 [4]). See also the ES3XX feature in clause 6.1.8.
An SCP that reselects a different SMF producer instance will return the NF
Instance ID of the new SMF producer instance in the 3gpp-Sbi-Producer-Id
header, as specified in clause 6.10.3.4 of 3GPP TS 29.500 [4].
If an SMF within an SMF set redirects a service request to a different SMF of
the set using an 307 Temporary Redirect or 308 Permanent Redirect status code,
the identity of the new SMF towards which the service request is redirected
shall be indicated in the 3gpp-Sbi-Target-Nf-Id header of the 307 Temporary
Redirect or 308 Permanent Redirect response as specified in clause 6.10.9.1 of
3GPP TS 29.500 [4].
For a HR PDU session or a PDU session with an I-SMF, the V-SMF or I-SMF shall
update the AMF upon detecting a change of the H-SMF or SMF within the SMF set,
by sending an SM context status notification with the resourceStatus set to
\"UPDATED\", the cause in statusInfo set to \"CHANGED_ANCHOR_SMF\" and with
the new H-SMF or SMF identity (see clause 5.2.2.5.1).
NOTE: This allows the AMF to receive the NF Instance ID of the new SMF
handling the PDU session and to send the NF Instance ID of the last known SMF
handling the PDU session during inter-AMF mobility.
###### ## Annex A (normative): OpenAPI specification
# A.1 General
This Annex specifies the formal definition of the Nsmf_PDUSession service. It
consists of OpenAPI 3.0.0 specifications, in YAML format.
This Annex takes precedence when being discrepant to other parts of the
specification with respect to the encoding of information elements and methods
within the API(s).
NOTE: The semantics and procedures, as well as conditions, e.g. for the
applicability and allowed combinations of attributes or values, not expressed
in the OpenAPI definitions but defined in other parts of the specification
also apply.
Informative copies of the OpenAPI specification files contained in this 3GPP
Technical Specification are available on a Git-based repository, that uses the
GitLab software version control system (see 3GPP TS 29.501 [5] clause 5.3.1
and 3GPP TR 21.900 [7] clause 5B).
# A.2 Nsmf_PDUSession API
openapi: 3.0.0
info:
version: \'1.3.0-alpha.5\'
title: \'Nsmf_PDUSession\'
description: \|
SMF PDU Session Service.
Â© 2023, 3GPP Organizational Partners (ARIB, ATIS, CCSA, ETSI, TSDSI, TTA,
TTC).
All rights reserved.
externalDocs:
description: 3GPP TS 29.502 V18.4.0; 5G System; Session Management Services;
Stage 3
url: https://www.3gpp.org/ftp/Specs/archive/29_series/29.502/
servers:
\- url: \'{apiRoot}/nsmf-pdusession/v1\'
variables:
apiRoot:
default: https://example.com
description: >
apiRoot as defined in clause 4.4 of 3GPP TS 29.501. The sm-contexts and pdu-
sessions
resources can be distributed on different processing instances or hosts. Thus
the
authority and/or deployment-specific string of the apiRoot of the created
individual
sm context and pdu-session resources\' URIs may differ from the authority
and/or
deployment-specific string of the apiRoot of the sm-contexts and pdu-sessions
collections\' URIs.
security:
\- {}
\- oAuth2ClientCredentials:
\- nsmf-pdusession
paths:
/sm-contexts:
post:
summary: Create SM Context
tags:
\- SM contexts collection
operationId: PostSmContexts
requestBody:
description: representation of the SM context to be created in the SMF
required: true
content:
multipart/related: # message with binary body part(s)
schema:
type: object
properties: # Request parts
jsonData:
\$ref: \'#/components/schemas/SmContextCreateData\'
binaryDataN1SmMessage:
type: string
format: binary
binaryDataN2SmInformation:
type: string
format: binary
binaryDataN2SmInformationExt1:
type: string
format: binary
encoding:
jsonData:
contentType: application/json
binaryDataN1SmMessage:
contentType: application/vnd.3gpp.5gnas
headers:
Content-Id:
schema:
type: string
binaryDataN2SmInformation:
contentType: application/vnd.3gpp.ngap
headers:
Content-Id:
schema:
type: string
binaryDataN2SmInformationExt1:
contentType: application/vnd.3gpp.ngap
headers:
Content-Id:
schema:
type: string
callbacks:
smContextStatusNotification:
\'{\$request.body#/smContextStatusUri}\':
post:
requestBody: # contents of the callback message
required: true
content:
application/json:
schema:
\$ref: \'#/components/schemas/SmContextStatusNotification\'
responses:
\'204\':
description: successful notification
\'307\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'411\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'502\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/502\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
responses:
\'201\':
description: successful creation of an SM context
content:
application/json: # message without binary body part
schema:
\$ref: \'#/components/schemas/SmContextCreatedData\'
multipart/related: # message with binary body part(s)
schema:
type: object
properties: # Request parts
jsonData:
\$ref: \'#/components/schemas/SmContextCreatedData\'
binaryDataN2SmInformation:
type: string
format: binary
encoding:
jsonData:
contentType: application/json
binaryDataN2SmInformation:
contentType: application/vnd.3gpp.ngap
headers:
Content-Id:
schema:
type: string
headers:
Location:
description: >
Contains the URI of the newly created resource, according to the structure:
{apiRoot}/nsmf-pdusession/\/sm-contexts/{smContextRef}
required: true
schema:
type: string
\'307\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/308\'
\'400\':
description: unsuccessful creation of an SM context - bad request
content:
application/json: # message without binary body part
schema:
\$ref: \'#/components/schemas/SmContextCreateError\'
application/problem+json:
schema:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/ProblemDetails\'
multipart/related: # message with binary body part(s)
schema:
type: object
properties: # Request parts
jsonData:
\$ref: \'#/components/schemas/SmContextCreateError\'
binaryDataN1SmMessage:
type: string
format: binary
binaryDataN2SmMessage:
type: string
format: binary
encoding:
jsonData:
contentType: application/json
binaryDataN1SmMessage:
contentType: application/vnd.3gpp.5gnas
headers:
Content-Id:
schema:
type: string
binaryDataN2SmMessage:
contentType: application/vnd.3gpp.ngap
headers:
Content-Id:
schema:
type: string
\'401\':
\$ref: \'#/components/responses/401\'
\'403\':
description: unsuccessful creation of an SM context - forbidden
content:
application/json: # message without binary body part
schema:
\$ref: \'#/components/schemas/SmContextCreateError\'
application/problem+json:
schema:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/ProblemDetails\'
multipart/related: # message with binary body part(s)
schema:
type: object
properties: # Request parts
jsonData:
\$ref: \'#/components/schemas/SmContextCreateError\'
binaryDataN1SmMessage:
type: string
format: binary
binaryDataN2SmMessage:
type: string
format: binary
encoding:
jsonData:
contentType: application/json
binaryDataN1SmMessage:
contentType: application/vnd.3gpp.5gnas
headers:
Content-Id:
schema:
type: string
binaryDataN2SmMessage:
contentType: application/vnd.3gpp.ngap
headers:
Content-Id:
schema:
type: string
\'404\':
description: unsuccessful creation of an SM context - not found
content:
application/json: # message without binary body part
schema:
\$ref: \'#/components/schemas/SmContextCreateError\'
multipart/related: # message with binary body part(s)
schema:
type: object
properties: # Request parts
jsonData:
\$ref: \'#/components/schemas/SmContextCreateError\'
binaryDataN1SmMessage:
type: string
format: binary
binaryDataN2SmMessage:
type: string
format: binary
encoding:
jsonData:
contentType: application/json
binaryDataN1SmMessage:
contentType: application/vnd.3gpp.5gnas
headers:
Content-Id:
schema:
type: string
binaryDataN2SmMessage:
contentType: application/vnd.3gpp.ngap
headers:
Content-Id:
schema:
type: string
\'411\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'#/components/responses/413\'
\'415\':
\$ref: \'#/components/responses/415\'
\'429\':
\$ref: \'#/components/responses/429\'
\'500\':
description: unsuccessful creation of an SM context - internal server error
content:
application/json: # message without binary body part
schema:
\$ref: \'#/components/schemas/SmContextCreateError\'
application/problem+json:
schema:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/ProblemDetails\'
multipart/related: # message with binary body part(s)
schema:
type: object
properties: # Request parts
jsonData:
\$ref: \'#/components/schemas/SmContextCreateError\'
binaryDataN1SmMessage:
type: string
format: binary
binaryDataN2SmMessage:
type: string
format: binary
encoding:
jsonData:
contentType: application/json
binaryDataN1SmMessage:
contentType: application/vnd.3gpp.5gnas
headers:
Content-Id:
schema:
type: string
binaryDataN2SmMessage:
contentType: application/vnd.3gpp.ngap
headers:
Content-Id:
schema:
type: string
\'502\':
\$ref: \'#/components/responses/502\'
\'503\':
description: unsuccessful creation of an SM context - service unavailable
content:
application/json: # message without binary body part
schema:
\$ref: \'#/components/schemas/SmContextCreateError\'
application/problem+json:
schema:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/ProblemDetails\'
multipart/related: # message with binary body part(s)
schema:
type: object
properties: # Request parts
jsonData:
\$ref: \'#/components/schemas/SmContextCreateError\'
binaryDataN1SmMessage:
type: string
format: binary
binaryDataN2SmMessage:
type: string
format: binary
encoding:
jsonData:
contentType: application/json
binaryDataN1SmMessage:
contentType: application/vnd.3gpp.5gnas
headers:
Content-Id:
schema:
type: string
binaryDataN2SmMessage:
contentType: application/vnd.3gpp.ngap
headers:
Content-Id:
schema:
type: string
\'504\':
description: unsuccessful creation of an SM context - gateway timeout
content:
application/json: # message without binary body part
schema:
\$ref: \'#/components/schemas/SmContextCreateError\'
application/problem+json:
schema:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/ProblemDetails\'
multipart/related: # message with binary body part(s)
schema:
type: object
properties: # Request parts
jsonData:
\$ref: \'#/components/schemas/SmContextCreateError\'
binaryDataN1SmMessage:
type: string
format: binary
binaryDataN2SmMessage:
type: string
format: binary
encoding:
jsonData:
contentType: application/json
binaryDataN1SmMessage:
contentType: application/vnd.3gpp.5gnas
headers:
Content-Id:
schema:
type: string
binaryDataN2SmMessage:
contentType: application/vnd.3gpp.ngap
headers:
Content-Id:
schema:
type: string
default:
\$ref: \'TS29571_CommonData.yaml#/components/responses/default\'
/sm-contexts/{smContextRef}/retrieve:
post:
summary: Retrieve SM Context
tags:
\- Individual SM context
operationId: RetrieveSmContext
parameters:
\- name: smContextRef
in: path
description: SM context reference
required: true
schema:
type: string
requestBody:
description: parameters used to retrieve the SM context
required: false
content:
application/json:
schema:
\$ref: \'#/components/schemas/SmContextRetrieveData\'
responses:
\'200\':
description: successful retrieval of an SM context
content:
application/json:
schema:
\$ref: \'#/components/schemas/SmContextRetrievedData\'
\'307\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'411\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'502\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/502\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
\'504\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/504\'
default:
\$ref: \'TS29571_CommonData.yaml#/components/responses/default\'
/sm-contexts/{smContextRef}/modify:
post:
summary: Update SM Context
tags:
\- Individual SM context
operationId: UpdateSmContext
parameters:
\- name: smContextRef
in: path
description: SM context reference
required: true
schema:
type: string
requestBody:
description: representation of the updates to apply to the SM context
required: true
content:
application/json: # message without binary body part
schema:
\$ref: \'#/components/schemas/SmContextUpdateData\'
multipart/related: # message with binary body part(s)
schema:
type: object
properties: # Request parts
jsonData:
\$ref: \'#/components/schemas/SmContextUpdateData\'
binaryDataN1SmMessage:
type: string
format: binary
binaryDataN2SmInformation:
type: string
format: binary
binaryDataN2SmInformationExt1:
type: string
format: binary
encoding:
jsonData:
contentType: application/json
binaryDataN1SmMessage:
contentType: application/vnd.3gpp.5gnas
headers:
Content-Id:
schema:
type: string
binaryDataN2SmInformation:
contentType: application/vnd.3gpp.ngap
headers:
Content-Id:
schema:
type: string
binaryDataN2SmInformationExt1:
contentType: application/vnd.3gpp.ngap
headers:
Content-Id:
schema:
type: string
responses:
\'200\':
description: successful update of an SM context with content in the response
content:
application/json: # message without binary body part
schema:
\$ref: \'#/components/schemas/SmContextUpdatedData\'
multipart/related: # message with binary body part(s)
schema:
type: object
properties: # Request parts
jsonData:
\$ref: \'#/components/schemas/SmContextUpdatedData\'
binaryDataN1SmMessage:
type: string
format: binary
binaryDataN2SmInformation:
type: string
format: binary
encoding:
jsonData:
contentType: application/json
binaryDataN1SmMessage:
contentType: application/vnd.3gpp.5gnas
headers:
Content-Id:
schema:
type: string
binaryDataN2SmInformation:
contentType: application/vnd.3gpp.ngap
headers:
Content-Id:
schema:
type: string
\'204\':
description: successful update of an SM context without content in the
response
\'307\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/308\'
\'400\':
description: unsuccessful update of an SM context - bad request
content:
application/json: # message without binary body part
schema:
\$ref: \'#/components/schemas/SmContextUpdateError\'
application/problem+json:
schema:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/ProblemDetails\'
multipart/related: # message with binary body part(s)
schema:
type: object
properties: # Request parts
jsonData:
\$ref: \'#/components/schemas/SmContextUpdateError\'
binaryDataN1SmMessage:
type: string
format: binary
binaryDataN2SmInformation:
type: string
format: binary
encoding:
jsonData:
contentType: application/json
binaryDataN1SmMessage:
contentType: application/vnd.3gpp.5gnas
headers:
Content-Id:
schema:
type: string
binaryDataN2SmInformation:
contentType: application/vnd.3gpp.ngap
headers:
Content-Id:
schema:
type: string
\'401\':
\$ref: \'#/components/responses/401\'
\'403\':
description: unsuccessful update of an SM context - forbidden
content:
application/json: # message without binary body part
schema:
\$ref: \'#/components/schemas/SmContextUpdateError\'
application/problem+json:
schema:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/ProblemDetails\'
multipart/related: # message with binary body part(s)
schema:
type: object
properties: # Request parts
jsonData:
\$ref: \'#/components/schemas/SmContextUpdateError\'
binaryDataN1SmMessage:
type: string
format: binary
binaryDataN2SmInformation:
type: string
format: binary
encoding:
jsonData:
contentType: application/json
binaryDataN1SmMessage:
contentType: application/vnd.3gpp.5gnas
headers:
Content-Id:
schema:
type: string
binaryDataN2SmInformation:
contentType: application/vnd.3gpp.ngap
headers:
Content-Id:
schema:
type: string
\'404\':
description: unsuccessful update of an SM context - not found
content:
application/json: # message without binary body part
schema:
\$ref: \'#/components/schemas/SmContextUpdateError\'
multipart/related: # message with binary body part(s)
schema:
type: object
properties: # Request parts
jsonData:
\$ref: \'#/components/schemas/SmContextUpdateError\'
binaryDataN1SmMessage:
type: string
format: binary
binaryDataN2SmInformation:
type: string
format: binary
encoding:
jsonData:
contentType: application/json
binaryDataN1SmMessage:
contentType: application/vnd.3gpp.5gnas
headers:
Content-Id:
schema:
type: string
binaryDataN2SmInformation:
contentType: application/vnd.3gpp.ngap
headers:
Content-Id:
schema:
type: string
\'411\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'#/components/responses/413\'
\'415\':
\$ref: \'#/components/responses/415\'
\'429\':
\$ref: \'#/components/responses/429\'
\'500\':
description: unsuccessful update of an SM context - Internal server error
content:
application/json: # message without binary body part
schema:
\$ref: \'#/components/schemas/SmContextUpdateError\'
application/problem+json:
schema:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/ProblemDetails\'
multipart/related: # message with binary body part(s)
schema:
type: object
properties: # Request parts
jsonData:
\$ref: \'#/components/schemas/SmContextUpdateError\'
binaryDataN1SmMessage:
type: string
format: binary
binaryDataN2SmInformation:
type: string
format: binary
encoding:
jsonData:
contentType: application/json
binaryDataN1SmMessage:
contentType: application/vnd.3gpp.5gnas
headers:
Content-Id:
schema:
type: string
binaryDataN2SmInformation:
contentType: application/vnd.3gpp.ngap
headers:
Content-Id:
schema:
type: string
\'502\':
\$ref: \'#/components/responses/502\'
\'503\':
description: unsuccessful update of an SM context - Service Unavailable
content:
application/json: # message without binary body part
schema:
\$ref: \'#/components/schemas/SmContextUpdateError\'
application/problem+json:
schema:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/ProblemDetails\'
multipart/related: # message with binary body part(s)
schema:
type: object
properties: # Request parts
jsonData:
\$ref: \'#/components/schemas/SmContextUpdateError\'
binaryDataN1SmMessage:
type: string
format: binary
binaryDataN2SmInformation:
type: string
format: binary
encoding:
jsonData:
contentType: application/json
binaryDataN1SmMessage:
contentType: application/vnd.3gpp.5gnas
headers:
Content-Id:
schema:
type: string
binaryDataN2SmInformation:
contentType: application/vnd.3gpp.ngap
headers:
Content-Id:
schema:
type: string
default:
\$ref: \'TS29571_CommonData.yaml#/components/responses/default\'
/sm-contexts/{smContextRef}/release:
post:
summary: Release SM Context
tags:
\- Individual SM context
operationId: ReleaseSmContext
parameters:
\- name: smContextRef
in: path
description: SM context reference
required: true
schema:
type: string
requestBody:
description: representation of the data to be sent to the SMF when releasing
the SM context
required: false
content:
application/json: # message without binary body part
schema:
\$ref: \'#/components/schemas/SmContextReleaseData\'
multipart/related: # message with binary body part(s)
schema:
type: object
properties: # Request parts
jsonData:
\$ref: \'#/components/schemas/SmContextReleaseData\'
binaryDataN2SmInformation:
type: string
format: binary
encoding:
jsonData:
contentType: application/json
binaryDataN2SmInformation:
contentType: application/vnd.3gpp.ngap
headers:
Content-Id:
schema:
type: string
responses:
\'200\':
description: successful release of a PDU session with content in the response
content:
application/json: # message without binary body part
schema:
\$ref: \'#/components/schemas/SmContextReleasedData\'
\'204\':
description: successful release of an SM context without content in the
response
\'307\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'411\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'502\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/502\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29571_CommonData.yaml#/components/responses/default\'
/sm-contexts/{smContextRef}/send-mo-data:
post:
summary: Send MO Data
tags:
\- Individual SM context
operationId: SendMoData
parameters:
\- name: smContextRef
in: path
description: SM context reference
required: true
schema:
type: string
requestBody:
description: representation of the payload of Send MO Data Request
required: true
content:
multipart/related: # message with a binary body part
schema:
type: object
properties:
jsonData:
\$ref: \'#/components/schemas/SendMoDataReqData\'
binaryMoData:
type: string
format: binary
encoding:
jsonData:
contentType: application/json
binaryMoData:
contentType: application/vnd.3gpp.5gnas
headers:
Content-Id:
schema:
type: string
responses:
\'204\':
description: successful sending of MO data
\'307\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'#/components/responses/400\'
\'401\':
\$ref: \'#/components/responses/401\'
\'403\':
\$ref: \'#/components/responses/403\'
\'404\':
\$ref: \'#/components/responses/404\'
\'411\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'#/components/responses/413\'
\'415\':
\$ref: \'#/components/responses/415\'
\'429\':
\$ref: \'#/components/responses/429\'
\'500\':
\$ref: \'#/components/responses/500\'
\'502\':
\$ref: \'#/components/responses/502\'
\'503\':
\$ref: \'#/components/responses/503\'
default:
\$ref: \'TS29571_CommonData.yaml#/components/responses/default\'
/pdu-sessions:
post:
summary: Create
tags:
\- PDU sessions collection
operationId: PostPduSessions
requestBody:
description: representation of the PDU session to be created in the H-SMF or
SMF
required: true
content:
application/json: # message without binary body part
schema:
\$ref: \'#/components/schemas/PduSessionCreateData\'
multipart/related: # message with binary body part(s)
schema:
type: object
properties: # Request parts
jsonData:
\$ref: \'#/components/schemas/PduSessionCreateData\'
binaryDataN1SmInfoFromUe:
type: string
format: binary
binaryDataUnknownN1SmInfo:
type: string
format: binary
encoding:
jsonData:
contentType: application/json
binaryDataN1SmInfoFromUe:
contentType: application/vnd.3gpp.5gnas
headers:
Content-Id:
schema:
type: string
binaryDataUnknownN1SmInfo:
contentType: application/vnd.3gpp.5gnas
headers:
Content-Id:
schema:
type: string
callbacks:
statusNotification:
\'{\$request.body#/vsmfPduSessionUri}\':
post:
summary: Notify Status
tags:
\- Individual PDU session (V-SMF)
operationId: NotifyStatus
requestBody:
\$ref: \'#/components/requestBodies/NotifyStatusRequestBody\'
responses:
\'204\':
description: successful notificationof the status change
\'307\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'411\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'502\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/502\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29571_CommonData.yaml#/components/responses/default\'
statusNotification-ismf:
\'{\$request.body#/ismfPduSessionUri}\':
post:
summary: Notify Status
tags:
\- Individual PDU session (I-SMF)
operationId: NotifyStatus-isfm
requestBody:
\$ref: \'#/components/requestBodies/NotifyStatusRequestBody\'
responses:
\'204\':
description: successful notificationof the status change
\'307\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'411\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'502\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/502\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29571_CommonData.yaml#/components/responses/default\'
update:
\'{\$request.body#/vsmfPduSessionUri}/modify\':
post:
summary: Update (initiated by H-SMF)
tags:
\- Individual PDU session (V-SMF)
operationId: ModifyPduSession
requestBody:
\$ref: \'#/components/requestBodies/VsmfUpdateRequestBody\'
responses:
\'200\':
\$ref: \'#/components/responses/VsmfUpdateResponse200\'
\'204\':
description: successful update of a PDU session without content in the
response
\'307\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'#/components/responses/VsmfUpdateError\'
\'403\':
\$ref: \'#/components/responses/VsmfUpdateError\'
\'404\':
\$ref: \'#/components/responses/VsmfUpdateError\'
\'409\':
\$ref: \'#/components/responses/VsmfUpdateError\'
\'411\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'#/components/responses/VsmfUpdateError\'
\'502\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/502\'
\'503\':
\$ref: \'#/components/responses/VsmfUpdateError\'
\'504\':
\$ref: \'#/components/responses/VsmfUpdateError\'
default:
\$ref: \'TS29571_CommonData.yaml#/components/responses/default\'
update-ismf:
\'{\$request.body#/ismfPduSessionUri}/modify\':
post:
summary: Update (initiated by SMF)
tags:
\- Individual PDU session (I-SMF)
operationId: ModifyPduSession-ismf
requestBody:
\$ref: \'#/components/requestBodies/VsmfUpdateRequestBody\'
responses:
\'200\':
\$ref: \'#/components/responses/VsmfUpdateResponse200\'
\'204\':
description: successful update of a PDU session without content in the
response
\'307\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'#/components/responses/VsmfUpdateError\'
\'403\':
\$ref: \'#/components/responses/VsmfUpdateError\'
\'404\':
\$ref: \'#/components/responses/VsmfUpdateError\'
\'409\':
\$ref: \'#/components/responses/VsmfUpdateError\'
\'411\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'#/components/responses/VsmfUpdateError\'
\'502\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/502\'
\'503\':
\$ref: \'#/components/responses/VsmfUpdateError\'
\'504\':
\$ref: \'#/components/responses/VsmfUpdateError\'
default:
\$ref: \'TS29571_CommonData.yaml#/components/responses/default\'
transferMtData:
\'{\$request.body#/vsmfPduSessionUri}/transfer-mt-data\':
post:
summary: Transfer MT Data (by H-SMF)
tags:
\- Individual PDU session (V-SMF)
operationId: TransferMtData
requestBody:
description: representation of the payload of Transfer MT Data Request
required: true
content:
multipart/related: # message with a binary body part
schema:
type: object
properties:
jsonData:
\$ref: \'#/components/schemas/TransferMtDataReqData\'
binaryMtData:
type: string
format: binary
encoding:
jsonData:
contentType: application/json
binaryMtData:
contentType: application/vnd.3gpp.5gnas
headers:
Content-Id:
schema:
type: string
responses:
\'204\':
description: successful transfering of MT data
\'307\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'411\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'502\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/502\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
\'504\':
description: unsuccessful delivery of mobile terminated data - gateway timeout
content:
application/json:
schema:
\$ref: \'#/components/schemas/TransferMtDataError\'
default:
\$ref: \'TS29571_CommonData.yaml#/components/responses/default\'
transferMtData-ismf:
\'{\$request.body#/ismfPduSessionUri}/transfer-mt-data\':
post:
summary: Transfer MT Data (by SMF)
tags:
\- Individual PDU session (I-SMF)
operationId: TransferMtData-ismf
requestBody:
description: representation of the payload of Transfer MT Data Request
required: true
content:
multipart/related: # message with a binary body part
schema:
type: object
properties:
jsonData:
\$ref: \'#/components/schemas/TransferMtDataReqData\'
binaryMtData:
type: string
format: binary
encoding:
jsonData:
contentType: application/json
binaryMtData:
contentType: application/vnd.3gpp.5gnas
headers:
Content-Id:
schema:
type: string
responses:
\'204\':
description: successful transfering of MT data
\'307\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'411\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'502\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/502\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
\'504\':
description: unsuccessful delivery of mobile terminated data - gateway timeout
content:
application/json:
schema:
\$ref: \'#/components/schemas/TransferMtDataError\'
default:
\$ref: \'TS29571_CommonData.yaml#/components/responses/default\'
responses:
\'201\':
description: successful creation of a PDU session
content:
application/json: # message without binary body part
schema:
\$ref: \'#/components/schemas/PduSessionCreatedData\'
multipart/related: # message with binary body part(s)
schema:
type: object
properties: # Request parts
jsonData:
\$ref: \'#/components/schemas/PduSessionCreatedData\'
binaryDataN1SmInfoToUe:
type: string
format: binary
encoding:
jsonData:
contentType: application/json
binaryDataN1SmInfoToUe:
contentType: application/vnd.3gpp.5gnas
headers:
Content-Id:
schema:
type: string
headers:
Location:
description: >
Contains the URI of the newly created resource, according to the structure:
{apiRoot}/nsmf-pdusession/\/pdu-sessions/{pduSessionRef}
required: true
schema:
type: string
\'307\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'#/components/responses/PduSessionCreateError\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'#/components/responses/PduSessionCreateError\'
\'404\':
\$ref: \'#/components/responses/PduSessionCreateError\'
\'411\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'#/components/responses/PduSessionCreateError\'
\'502\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/502\'
\'503\':
\$ref: \'#/components/responses/PduSessionCreateError\'
\'504\':
\$ref: \'#/components/responses/PduSessionCreateError\'
default:
\$ref: \'TS29571_CommonData.yaml#/components/responses/default\'
/pdu-sessions/{pduSessionRef}/modify:
post:
summary: Update (initiated by V-SMF or I-SMF)
tags:
\- Individual PDU session (H-SMF or SMF)
operationId: UpdatePduSession
parameters:
\- name: pduSessionRef
in: path
description: PDU session reference
required: true
schema:
type: string
requestBody:
description: representation of the updates to apply to the PDU session
required: true
content:
application/json: # message without binary body part
schema:
\$ref: \'#/components/schemas/HsmfUpdateData\'
multipart/related: # message with binary body part(s)
schema:
type: object
properties: # Request parts
jsonData:
\$ref: \'#/components/schemas/HsmfUpdateData\'
binaryDataN1SmInfoFromUe:
type: string
format: binary
binaryDataUnknownN1SmInfo:
type: string
format: binary
binaryDataN4Information:
type: string
format: binary
binaryDataN4InformationExt1:
type: string
format: binary
binaryDataN4InformationExt2:
type: string
format: binary
encoding:
jsonData:
contentType: application/json
binaryDataN1SmInfoFromUe:
contentType: application/vnd.3gpp.5gnas
headers:
Content-Id:
schema:
type: string
binaryDataUnknownN1SmInfo:
contentType: application/vnd.3gpp.5gnas
headers:
Content-Id:
schema:
type: string
binaryDataN4Information:
contentType: application/vnd.3gpp.pfcp
headers:
Content-Id:
schema:
type: string
binaryDataN4InformationExt1:
contentType: application/vnd.3gpp.pfcp
headers:
Content-Id:
schema:
type: string
binaryDataN4InformationExt2:
contentType: application/vnd.3gpp.pfcp
headers:
Content-Id:
schema:
type: string
responses:
\'200\':
description: successful update of a PDU session with content in the response
content:
application/json: # message without binary body part
schema:
\$ref: \'#/components/schemas/HsmfUpdatedData\'
multipart/related: # message with binary body part(s)
schema:
type: object
properties: # Request parts
jsonData:
\$ref: \'#/components/schemas/HsmfUpdatedData\'
binaryDataN1SmInfoToUe:
type: string
format: binary
binaryDataN4Information:
type: string
format: binary
binaryDataN4InformationExt1:
type: string
format: binary
binaryDataN4InformationExt2:
type: string
format: binary
encoding:
jsonData:
contentType: application/json
binaryDataN1SmInfoToUe:
contentType: application/vnd.3gpp.5gnas
headers:
Content-Id:
schema:
type: string
binaryDataN4Information:
contentType: application/vnd.3gpp.pfcp
headers:
Content-Id:
schema:
type: string
binaryDataN4InformationExt1:
contentType: application/vnd.3gpp.pfcp
headers:
Content-Id:
schema:
type: string
binaryDataN4InformationExt2:
contentType: application/vnd.3gpp.pfcp
headers:
Content-Id:
schema:
type: string
\'204\':
description: successful update of a PDU session without content in the
response
\'307\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'#/components/responses/HsmfUpdateError\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'#/components/responses/HsmfUpdateError\'
\'404\':
\$ref: \'#/components/responses/HsmfUpdateError\'
\'411\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'#/components/responses/HsmfUpdateError\'
\'502\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/502\'
\'503\':
\$ref: \'#/components/responses/HsmfUpdateError\'
default:
\$ref: \'TS29571_CommonData.yaml#/components/responses/default\'
/pdu-sessions/{pduSessionRef}/release:
post:
summary: Release
tags:
\- Individual PDU session (H-SMF or SMF)
operationId: ReleasePduSession
parameters:
\- name: pduSessionRef
in: path
description: PDU session reference
required: true
schema:
type: string
requestBody:
description: data sent to H-SMF or SMF when releasing the PDU session
required: false
content:
application/json: # message without binary body part
schema:
\$ref: \'#/components/schemas/ReleaseData\'
multipart/related: # message with binary body part(s)
schema:
type: object
properties:
jsonData:
\$ref: \'#/components/schemas/ReleaseData\'
binaryDataN4Information:
type: string
format: binary
binaryDataN4InformationExt1:
type: string
format: binary
binaryDataN4InformationExt2:
type: string
format: binary
encoding:
jsonData:
contentType: application/json
binaryDataN4Information:
contentType: application/vnd.3gpp.pfcp
headers:
Content-Id:
schema:
type: string
binaryDataN4InformationExt1:
contentType: application/vnd.3gpp.pfcp
headers:
Content-Id:
schema:
type: string
binaryDataN4InformationExt2:
contentType: application/vnd.3gpp.pfcp
headers:
Content-Id:
schema:
type: string
responses:
\'200\':
description: successful release of a PDU session with content in the response
content:
application/json: # message without binary body part
schema:
\$ref: \'#/components/schemas/ReleasedData\'
multipart/related: # message with binary body part(s)
schema:
type: object
properties:
jsonData:
\$ref: \'#/components/schemas/ReleasedData\'
binaryDataN4Information:
type: string
format: binary
binaryDataN4InformationExt1:
type: string
format: binary
binaryDataN4InformationExt2:
type: string
format: binary
encoding:
jsonData:
contentType: application/json
binaryDataN4Information:
contentType: application/vnd.3gpp.pfcp
headers:
Content-Id:
schema:
type: string
binaryDataN4InformationExt1:
contentType: application/vnd.3gpp.pfcp
headers:
Content-Id:
schema:
type: string
binaryDataN4InformationExt2:
contentType: application/vnd.3gpp.pfcp
headers:
Content-Id:
schema:
type: string
\'204\':
description: successful release of a PDU session
\'307\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'411\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'502\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/502\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29571_CommonData.yaml#/components/responses/default\'
/pdu-sessions/{pduSessionRef}/retrieve:
post:
summary: Retrieve
tags:
\- Individual PDU session (H-SMF or SMF)
operationId: RetrievePduSession
parameters:
\- name: pduSessionRef
in: path
description: PDU session reference
required: true
schema:
type: string
requestBody:
description: representation of the payload of the Retrieve Request
required: true
content:
application/json:
schema:
\$ref: \'#/components/schemas/RetrieveData\'
responses:
\'200\':
description: successful information retrieval
content:
application/json: # message without binary body part
schema:
\$ref: \'#/components/schemas/RetrievedData\'
\'307\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'411\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'502\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/502\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
\'504\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/504\'
default:
\$ref: \'TS29571_CommonData.yaml#/components/responses/default\'
/pdu-sessions/{pduSessionRef}/transfer-mo-data:
post:
summary: Transfer MO Data
tags:
\- Individual PDU session (H-SMF or SMF)
operationId: TransferMoData
parameters:
\- name: pduSessionRef
in: path
description: PDU session reference
required: true
schema:
type: string
requestBody:
description: representation of the payload of Transfer MO Data Request
required: true
content:
multipart/related: # message with a binary body part
schema:
type: object
properties:
jsonData:
\$ref: \'#/components/schemas/TransferMoDataReqData\'
binaryMoData:
type: string
format: binary
encoding:
jsonData:
contentType: application/json
binaryMoData:
contentType: application/vnd.3gpp.5gnas
headers:
Content-Id:
schema:
type: string
responses:
\'204\':
description: successful transfering of MO data
\'307\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'411\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'502\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/502\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29571_CommonData.yaml#/components/responses/default\'
components:
securitySchemes:
oAuth2ClientCredentials:
type: oauth2
flows:
clientCredentials:
tokenUrl: \'{nrfApiRoot}/oauth2/token\'
scopes:
nsmf-pdusession: Access to the nsmf-pdusession API
schemas:
#
# STRUCTURED DATA TYPES
#
SmContextCreateData:
description: Data within Create SM Context Request
type: object
properties:
supi:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Supi\'
unauthenticatedSupi:
type: boolean
default: false
pei:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Pei\'
gpsi:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Gpsi\'
pduSessionId:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/PduSessionId\'
dnn:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Dnn\'
selectedDnn:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Dnn\'
sNssai:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Snssai\'
altSnssai:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Snssai\'
hplmnSnssai:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Snssai\'
altHplmnSnssai:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Snssai\'
servingNfId:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/NfInstanceId\'
guami:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Guami\'
serviceName:
\$ref: \'TS29510_Nnrf_NFManagement.yaml#/components/schemas/ServiceName\'
servingNetwork:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/PlmnIdNid\'
requestType:
\$ref: \'#/components/schemas/RequestType\'
n1SmMsg:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/RefToBinaryData\'
anType:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/AccessType\'
additionalAnType:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/AccessType\'
ratType:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/RatType\'
presenceInLadn:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/PresenceState\'
perLadnDnnSnssaiInd:
type: boolean
default: false
ueLocation:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/UserLocation\'
ueTimeZone:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/TimeZone\'
addUeLocation:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/UserLocation\'
smContextStatusUri:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Uri\'
hSmfUri:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Uri\'
hSmfId:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/NfInstanceId\'
smfUri:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Uri\'
smfId:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/NfInstanceId\'
additionalHsmfUri:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Uri\'
minItems: 1
additionalHsmfId:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/NfInstanceId\'
minItems: 1
additionalSmfUri:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Uri\'
minItems: 1
additionalSmfId:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/NfInstanceId\'
minItems: 1
oldPduSessionId:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/PduSessionId\'
pduSessionsActivateList:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/PduSessionId\'
minItems: 1
ueEpsPdnConnection:
\$ref: \'#/components/schemas/EpsPdnCnxContainer\'
hoState:
\$ref: \'#/components/schemas/HoState\'
pcfId:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/NfInstanceId\'
pcfGroupId:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/NfGroupId\'
pcfSetId:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/NfSetId\'
nrfUri:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Uri\'
supportedFeatures:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/SupportedFeatures\'
selMode:
\$ref: \'#/components/schemas/DnnSelectionMode\'
backupAmfInfo:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/BackupAmfInfo\'
minItems: 1
traceData:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/TraceData\'
udmGroupId:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/NfGroupId\'
routingIndicator:
type: string
hNwPubKeyId:
type: integer
epsInterworkingInd:
\$ref: \'#/components/schemas/EpsInterworkingIndication\'
indirectForwardingFlag:
type: boolean
directForwardingFlag:
type: boolean
targetId:
\$ref: \'TS29518_Namf_Communication.yaml#/components/schemas/NgRanTargetId\'
epsBearerCtxStatus:
\$ref: \'#/components/schemas/EpsBearerContextStatus\'
cpCiotEnabled:
type: boolean
default: false
cpOnlyInd:
type: boolean
default: false
invokeNef:
type: boolean
default: false
maRequestInd:
type: boolean
default: false
maNwUpgradeInd:
type: boolean
default: false
n3gPathSwitchSupportInd:
type: boolean
default: false
n2SmInfo:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/RefToBinaryData\'
n2SmInfoType:
\$ref: \'#/components/schemas/N2SmInfoType\'
n2SmInfoExt1:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/RefToBinaryData\'
n2SmInfoTypeExt1:
\$ref: \'#/components/schemas/N2SmInfoType\'
smContextRef:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Uri\'
smContextSmfPlmnId:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/PlmnIdNid\'
smContextSmfId:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/NfInstanceId\'
smContextSmfSetId:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/NfSetId\'
smContextSmfServiceSetId:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/NfServiceSetId\'
smContextSmfBinding:
\$ref: \'TS29518_Namf_Communication.yaml#/components/schemas/SbiBindingLevel\'
upCnxState:
\$ref: \'#/components/schemas/UpCnxState\'
smallDataRateStatus:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/SmallDataRateStatus\'
apnRateStatus:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/ApnRateStatus\'
extendedNasSmTimerInd:
type: boolean
default: false
dlDataWaitingInd:
type: boolean
default: false
ddnFailureSubs:
\$ref: \'#/components/schemas/DdnFailureSubs\'
smfTransferInd:
type: boolean
default: false
oldSmfId:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/NfInstanceId\'
oldSmContextRef:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Uri\'
wAgfInfo:
\$ref: \'TS29510_Nnrf_NFManagement.yaml#/components/schemas/WAgfInfo\'
tngfInfo:
\$ref: \'TS29510_Nnrf_NFManagement.yaml#/components/schemas/TngfInfo\'
twifInfo:
\$ref: \'TS29510_Nnrf_NFManagement.yaml#/components/schemas/TwifInfo\'
ranUnchangedInd:
type: boolean
samePcfSelectionInd:
type: boolean
default: false
targetDnai:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Dnai\'
nrfManagementUri:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Uri\'
nrfDiscoveryUri:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Uri\'
nrfAccessTokenUri:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Uri\'
nrfOauth2Required:
type: object
description: \'Map indicating whether the NRF requires Oauth2-based
authorization for
accessing its services. The key of the map shall be the name of an NRF
service, e.g.
\"nnrf-nfm\" or \"nnrf-disc\"\'
additionalProperties:
type: boolean
minProperties: 1
smfBindingInfo:
type: string
pvsInfo:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/ServerAddressingInfo\'
minItems: 1
onboardingInd:
type: boolean
default: false
oldPduSessionRef:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Uri\'
smPolicyNotifyInd:
type: boolean
default: false
pcfUeCallbackInfo:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/PcfUeCallbackInfo\'
satelliteBackhaulCat:
\$ref:
\'TS29571_CommonData.yaml#/components/schemas/SatelliteBackhaulCategory\'
upipSupported:
type: boolean
default: false
uavAuthenticated:
type: boolean
disasterRoamingInd:
type: boolean
default: false
anchorSmfOauth2Required:
type: boolean
smContextSmfOauth2Required:
type: boolean
geoSatelliteId:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/GeoSatelliteId\'
hrsboAllowedInd:
type: boolean
default: false
required:
\- servingNfId
\- servingNetwork
\- anType
\- smContextStatusUri
SmContextCreatedData:
description: Data within Create SM Context Response
type: object
properties:
hSmfUri:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Uri\'
smfUri:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Uri\'
pduSessionId:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/PduSessionId\'
sNssai:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Snssai\'
additionalSnssai:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Snssai\'
upCnxState:
\$ref: \'#/components/schemas/UpCnxState\'
n2SmInfo:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/RefToBinaryData\'
n2SmInfoType:
\$ref: \'#/components/schemas/N2SmInfoType\'
allocatedEbiList:
type: array
items:
\$ref: \'#/components/schemas/EbiArpMapping\'
minItems: 1
hoState:
\$ref: \'#/components/schemas/HoState\'
gpsi:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Gpsi\'
smfServiceInstanceId:
type: string
recoveryTime:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/DateTime\'
supportedFeatures:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/SupportedFeatures\'
selectedSmfId:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/NfInstanceId\'
selectedOldSmfId:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/NfInstanceId\'
interPlmnApiRoot:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Uri\'
udmGroupId:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/NfGroupId\'
pcfGroupId:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/NfGroupId\'
SmContextUpdateData:
description: Data within Update SM Context Request
type: object
properties:
pei:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Pei\'
servingNfId:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/NfInstanceId\'
guami:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Guami\'
servingNetwork:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/PlmnIdNid\'
backupAmfInfo:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/BackupAmfInfo\'
minItems: 1
nullable: true
anType:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/AccessType\'
additionalAnType:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/AccessType\'
anTypeToReactivate:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/AccessType\'
ratType:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/RatType\'
presenceInLadn:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/PresenceState\'
ueLocation:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/UserLocation\'
ueTimeZone:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/TimeZone\'
addUeLocation:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/UserLocation\'
upCnxState:
\$ref: \'#/components/schemas/UpCnxState\'
hoState:
\$ref: \'#/components/schemas/HoState\'
toBeSwitched:
type: boolean
default: false
failedToBeSwitched:
type: boolean
n1SmMsg:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/RefToBinaryData\'
n2SmInfo:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/RefToBinaryData\'
n2SmInfoType:
\$ref: \'#/components/schemas/N2SmInfoType\'
targetId:
\$ref: \'TS29518_Namf_Communication.yaml#/components/schemas/NgRanTargetId\'
targetServingNfId:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/NfInstanceId\'
smContextStatusUri:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Uri\'
dataForwarding:
type: boolean
default: false
n9ForwardingTunnel:
\$ref: \'#/components/schemas/TunnelInfo\'
n9DlForwardingTnlList:
type: array
items:
\$ref: \'#/components/schemas/IndirectDataForwardingTunnelInfo\'
minItems: 1
n9UlForwardingTnlList:
type: array
items:
\$ref: \'#/components/schemas/IndirectDataForwardingTunnelInfo\'
minItems: 1
n9DlForwardingTunnel:
\$ref: \'#/components/schemas/TunnelInfo\'
n9InactivityTimer:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/DurationSec\'
epsBearerSetup:
type: array
items:
\$ref: \'#/components/schemas/EpsBearerContainer\'
minItems: 0
revokeEbiList:
type: array
items:
\$ref: \'#/components/schemas/EpsBearerId\'
minItems: 1
release:
type: boolean
default: false
cause:
\$ref: \'#/components/schemas/Cause\'
ngApCause:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/NgApCause\'
5gMmCauseValue:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/5GMmCause\'
sNssai:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Snssai\'
traceData:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/TraceData\'
epsInterworkingInd:
\$ref: \'#/components/schemas/EpsInterworkingIndication\'
anTypeCanBeChanged:
type: boolean
default: false
n2SmInfoExt1:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/RefToBinaryData\'
n2SmInfoTypeExt1:
\$ref: \'#/components/schemas/N2SmInfoType\'
maReleaseInd:
\$ref: \'#/components/schemas/MaReleaseIndication\'
maNwUpgradeInd:
type: boolean
default: false
maRequestInd:
type: boolean
default: false
n3gPathSwitchExecutionInd:
type: boolean
enum:
\- true
exemptionInd:
\$ref: \'#/components/schemas/ExemptionInd\'
supportedFeatures:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/SupportedFeatures\'
moExpDataCounter:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/MoExpDataCounter\'
extendedNasSmTimerInd:
type: boolean
forwardingFTeid:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Bytes\'
forwardingBearerContexts:
type: array
items:
\$ref: \'#/components/schemas/ForwardingBearerContainer\'
minItems: 1
ddnFailureSubs:
\$ref: \'#/components/schemas/DdnFailureSubs\'
skipN2PduSessionResRelInd:
type: boolean
default: false
secondaryRatUsageDataReportContainer:
type: array
items:
\$ref: \'#/components/schemas/SecondaryRatUsageDataReportContainer\'
minItems: 1
smPolicyNotifyInd:
type: boolean
enum:
\- true
pcfUeCallbackInfo:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/PcfUeCallbackInfo\'
satelliteBackhaulCat:
\$ref:
\'TS29571_CommonData.yaml#/components/schemas/SatelliteBackhaulCategory\'
cnBasedMt:
type: boolean
enum:
\- true
geoSatelliteId:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/GeoSatelliteId\'
altSnssai:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Snssai\'
altHplmnSnssai:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Snssai\'
SmContextUpdatedData:
description: Data within Update SM Context Response
type: object
properties:
upCnxState:
\$ref: \'#/components/schemas/UpCnxState\'
hoState:
\$ref: \'#/components/schemas/HoState\'
releaseEbiList:
type: array
items:
\$ref: \'#/components/schemas/EpsBearerId\'
minItems: 1
allocatedEbiList:
type: array
items:
\$ref: \'#/components/schemas/EbiArpMapping\'
minItems: 1
modifiedEbiList:
type: array
items:
\$ref: \'#/components/schemas/EbiArpMapping\'
minItems: 1
n1SmMsg:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/RefToBinaryData\'
n2SmInfo:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/RefToBinaryData\'
n2SmInfoType:
\$ref: \'#/components/schemas/N2SmInfoType\'
epsBearerSetup:
type: array
items:
\$ref: \'#/components/schemas/EpsBearerContainer\'
minItems: 1
dataForwarding:
type: boolean
n3DlForwardingTnlList:
type: array
items:
\$ref: \'#/components/schemas/IndirectDataForwardingTunnelInfo\'
minItems: 1
n3UlForwardingTnlList:
type: array
items:
\$ref: \'#/components/schemas/IndirectDataForwardingTunnelInfo\'
minItems: 1
n9UlForwardingTunnel:
\$ref: \'#/components/schemas/TunnelInfo\'
cause:
\$ref: \'#/components/schemas/Cause\'
maAcceptedInd:
type: boolean
default: false
supportedFeatures:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/SupportedFeatures\'
forwardingFTeid:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Bytes\'
forwardingBearerContexts:
type: array
items:
\$ref: \'#/components/schemas/ForwardingBearerContainer\'
minItems: 1
selectedSmfId:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/NfInstanceId\'
selectedOldSmfId:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/NfInstanceId\'
interPlmnApiRoot:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Uri\'
anchorSmfFeatures:
\$ref: \'#/components/schemas/AnchorSmfFeatures\'
SmContextReleaseData:
description: Data within Release SM Context Request
type: object
properties:
cause:
\$ref: \'#/components/schemas/Cause\'
ngApCause:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/NgApCause\'
5gMmCauseValue:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/5GMmCause\'
ueLocation:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/UserLocation\'
ueTimeZone:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/TimeZone\'
addUeLocation:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/UserLocation\'
vsmfReleaseOnly:
type: boolean
default: false
n2SmInfo:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/RefToBinaryData\'
n2SmInfoType:
\$ref: \'#/components/schemas/N2SmInfoType\'
ismfReleaseOnly:
type: boolean
default: false
SmContextReleasedData:
description: Data within Release SM Context Response
type: object
properties:
smallDataRateStatus:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/SmallDataRateStatus\'
apnRateStatus:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/ApnRateStatus\'
SmContextStatusNotification:
description: Data within Notify SM Context Status Request
type: object
properties:
statusInfo:
\$ref: \'#/components/schemas/StatusInfo\'
smallDataRateStatus:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/SmallDataRateStatus\'
apnRateStatus:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/ApnRateStatus\'
ddnFailureStatus:
type: boolean
default: false
notifyCorrelationIdsForddnFailure:
type: array
items:
type: string
minItems: 1
newIntermediateSmfId:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/NfInstanceId\'
newSmfId:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/NfInstanceId\'
newSmfSetId:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/NfSetId\'
oldSmfId:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/NfInstanceId\'
oldSmContextRef:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Uri\'
altAnchorSmfUri:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Uri\'
altAnchorSmfId:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/NfInstanceId\'
targetDnaiInfo:
\$ref: \'#/components/schemas/TargetDnaiInfo\'
oldPduSessionRef:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Uri\'
interPlmnApiRoot:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Uri\'
required:
\- statusInfo
PduSessionCreateData:
description: Data within Create Request
type: object
properties:
supi:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Supi\'
unauthenticatedSupi:
type: boolean
default: false
pei:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Pei\'
pduSessionId:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/PduSessionId\'
dnn:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Dnn\'
selectedDnn:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Dnn\'
sNssai:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Snssai\'
altSnssai:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Snssai\'
hplmnSnssai:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Snssai\'
vsmfId:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/NfInstanceId\'
ismfId:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/NfInstanceId\'
servingNetwork:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/PlmnIdNid\'
requestType:
\$ref: \'#/components/schemas/RequestType\'
epsBearerId:
type: array
items:
\$ref: \'#/components/schemas/EpsBearerId\'
minItems: 1
pgwS8cFteid:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Bytes\'
vsmfPduSessionUri:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Uri\'
ismfPduSessionUri:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Uri\'
vcnTunnelInfo:
\$ref: \'#/components/schemas/TunnelInfo\'
icnTunnelInfo:
\$ref: \'#/components/schemas/TunnelInfo\'
n9ForwardingTunnelInfo:
\$ref: \'#/components/schemas/TunnelInfo\'
additionalCnTunnelInfo:
\$ref: \'#/components/schemas/TunnelInfo\'
anType:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/AccessType\'
additionalAnType:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/AccessType\'
ratType:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/RatType\'
ueLocation:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/UserLocation\'
ueTimeZone:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/TimeZone\'
addUeLocation:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/UserLocation\'
gpsi:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Gpsi\'
n1SmInfoFromUe:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/RefToBinaryData\'
unknownN1SmInfo:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/RefToBinaryData\'
supportedFeatures:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/SupportedFeatures\'
hPcfId:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/NfInstanceId\'
pcfId:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/NfInstanceId\'
pcfGroupId:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/NfGroupId\'
pcfSetId:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/NfSetId\'
hoPreparationIndication:
type: boolean
selMode:
\$ref: \'#/components/schemas/DnnSelectionMode\'
alwaysOnRequested:
type: boolean
default: false
udmGroupId:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/NfGroupId\'
routingIndicator:
type: string
hNwPubKeyId:
type: integer
epsInterworkingInd:
\$ref: \'#/components/schemas/EpsInterworkingIndication\'
vSmfServiceInstanceId:
type: string
iSmfServiceInstanceId:
type: string
recoveryTime:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/DateTime\'
roamingChargingProfile:
\$ref:
\'TS32291_Nchf_ConvergedCharging.yaml#/components/schemas/RoamingChargingProfile\'
chargingId:
type: string
pattern: \'\^(0\|([1-9]{1}[0-9]{0,9}))\$\'
oldPduSessionId:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/PduSessionId\'
epsBearerCtxStatus:
\$ref: \'#/components/schemas/EpsBearerContextStatus\'
amfNfId:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/NfInstanceId\'
guami:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Guami\'
maxIntegrityProtectedDataRateUl:
\$ref: \'#/components/schemas/MaxIntegrityProtectedDataRate\'
maxIntegrityProtectedDataRateDl:
\$ref: \'#/components/schemas/MaxIntegrityProtectedDataRate\'
cpCiotEnabled:
type: boolean
default: false
cpOnlyInd:
type: boolean
default: false
invokeNef:
type: boolean
default: false
maRequestInd:
type: boolean
default: false
maNwUpgradeInd:
type: boolean
default: false
n3gPathSwitchSupportInd:
type: boolean
default: false
dnaiList:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Dnai\'
minItems: 1
presenceInLadn:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/PresenceState\'
secondaryRatUsageInfo:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/SecondaryRatUsageInfo\'
minItems: 1
smallDataRateStatus:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/SmallDataRateStatus\'
apnRateStatus:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/ApnRateStatus\'
dlServingPlmnRateCtl:
type: integer
minimum: 10
upSecurityInfo:
\$ref: \'#/components/schemas/UpSecurityInfo\'
vplmnQos:
\$ref: \'#/components/schemas/VplmnQos\'
oldSmContextRef:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Uri\'
redundantPduSessionInfo:
\$ref: \'#/components/schemas/RedundantPduSessionInformation\'
oldPduSessionRef:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Uri\'
smPolicyNotifyInd:
type: boolean
default: false
pcfUeCallbackInfo:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/PcfUeCallbackInfo\'
satelliteBackhaulCat:
\$ref:
\'TS29571_CommonData.yaml#/components/schemas/SatelliteBackhaulCategory\'
upipSupported:
type: boolean
default: false
upCnxState:
\$ref: \'#/components/schemas/UpCnxState\'
disasterRoamingInd:
type: boolean
default: false
hrsboInfo:
\$ref: \'#/components/schemas/HrsboInfoFromVplmn\'
ecsAddrConfigInfos:
type: array
items:
\$ref: \'TS29503_Nudm_PP.yaml#/components/schemas/EcsAddrConfigInfo\'
minItems: 1
required:
\- dnn
\- servingNetwork
\- anType
oneOf:
\- required: [ vsmfId, vsmfPduSessionUri ]
\- required: [ ismfId, ismfPduSessionUri ]
PduSessionCreatedData:
description: Data within Create Response
type: object
properties:
pduSessionType:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/PduSessionType\'
sscMode:
type: string
pattern: \'\^[0-7]\$\'
hcnTunnelInfo:
\$ref: \'#/components/schemas/TunnelInfo\'
cnTunnelInfo:
\$ref: \'#/components/schemas/TunnelInfo\'
additionalCnTunnelInfo:
\$ref: \'#/components/schemas/TunnelInfo\'
sessionAmbr:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Ambr\'
qosFlowsSetupList:
type: array
items:
\$ref: \'#/components/schemas/QosFlowSetupItem\'
minItems: 1
hSmfInstanceId:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/NfInstanceId\'
smfInstanceId:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/NfInstanceId\'
pduSessionId:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/PduSessionId\'
sNssai:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Snssai\'
additionalSnssai:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Snssai\'
enablePauseCharging:
type: boolean
default: false
ueIpv4Address:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Ipv4Addr\'
ueIpv6Prefix:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Ipv6Prefix\'
n1SmInfoToUe:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/RefToBinaryData\'
epsPdnCnxInfo:
\$ref: \'#/components/schemas/EpsPdnCnxInfo\'
epsBearerInfo:
type: array
items:
\$ref: \'#/components/schemas/EpsBearerInfo\'
minItems: 1
supportedFeatures:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/SupportedFeatures\'
maxIntegrityProtectedDataRate:
\$ref: \'#/components/schemas/MaxIntegrityProtectedDataRate\'
maxIntegrityProtectedDataRateDl:
\$ref: \'#/components/schemas/MaxIntegrityProtectedDataRate\'
alwaysOnGranted:
type: boolean
default: false
gpsi:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Gpsi\'
upSecurity:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/UpSecurity\'
roamingChargingProfile:
\$ref:
\'TS32291_Nchf_ConvergedCharging.yaml#/components/schemas/RoamingChargingProfile\'
hSmfServiceInstanceId:
type: string
smfServiceInstanceId:
type: string
recoveryTime:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/DateTime\'
dnaiList:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Dnai\'
minItems: 1
ipv6MultiHomingInd:
type: boolean
default: false
maAcceptedInd:
type: boolean
default: false
n3gPathSwitchSupportInd:
type: boolean
default: false
homeProvidedChargingId:
type: string
pattern: \'\^(0\|([1-9]{1}[0-9]{0,9}))\$\'
nefExtBufSupportInd:
type: boolean
default: false
smallDataRateControlEnabled:
type: boolean
default: false
ueIpv6InterfaceId:
type: string
pattern: \'\^[A-Fa-f0-9]{16}\$\'
ipv6Index:
\$ref: \'TS29519_Policy_Data.yaml#/components/schemas/IpIndex\'
dnAaaAddress:
\$ref: \'#/components/schemas/IpAddress\'
redundantPduSessionInfo:
\$ref: \'#/components/schemas/RedundantPduSessionInformation\'
nspuSupportInd:
type: boolean
interPlmnApiRoot:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Uri\'
intraPlmnApiRoot:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Uri\'
udmGroupId:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/NfGroupId\'
pcfGroupId:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/NfGroupId\'
hrsboInfo:
\$ref: \'#/components/schemas/HrsboInfoFromHplmn\'
pendingUpdateInfoList:
type: array
items:
\$ref: \'#/components/schemas/PendingUpdateInfo\'
minItems: 1
required:
\- pduSessionType
\- sscMode
oneOf:
\- required: [ hSmfInstanceId ]
\- required: [ smfInstanceId ]
HsmfUpdateData:
description: Data within Update Request towards H-SMF, or from I-SMF to SMF
type: object
properties:
requestIndication:
\$ref: \'#/components/schemas/RequestIndication\'
pei:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Pei\'
vcnTunnelInfo:
\$ref: \'#/components/schemas/TunnelInfo\'
icnTunnelInfo:
\$ref: \'#/components/schemas/TunnelInfo\'
additionalCnTunnelInfo:
\$ref: \'#/components/schemas/TunnelInfo\'
servingNetwork:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/PlmnIdNid\'
anType:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/AccessType\'
additionalAnType:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/AccessType\'
ratType:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/RatType\'
ueLocation:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/UserLocation\'
ueTimeZone:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/TimeZone\'
addUeLocation:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/UserLocation\'
pauseCharging:
type: boolean
pti:
\$ref: \'#/components/schemas/ProcedureTransactionId\'
n1SmInfoFromUe:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/RefToBinaryData\'
unknownN1SmInfo:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/RefToBinaryData\'
qosFlowsRelNotifyList:
type: array
items:
\$ref: \'#/components/schemas/QosFlowItem\'
minItems: 1
qosFlowsVsmfRejectedList:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Qfi\'
minItems: 1
qosFlowsNotifyList:
type: array
items:
\$ref: \'#/components/schemas/QosFlowNotifyItem\'
minItems: 1
NotifyList:
type: array
items:
\$ref: \'#/components/schemas/PduSessionNotifyItem\'
minItems: 1
# The attribute name does not follow the naming conventions specified in 3GPP
TS 29.501. The attribute name is kept though as defined in the current
specification for backward compatibility reason.
epsBearerId:
type: array
items:
\$ref: \'#/components/schemas/EpsBearerId\'
minItems: 0
hoPreparationIndication:
type: boolean
revokeEbiList:
type: array
items:
\$ref: \'#/components/schemas/EpsBearerId\'
minItems: 1
cause:
\$ref: \'#/components/schemas/Cause\'
ngApCause:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/NgApCause\'
5gMmCauseValue:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/5GMmCause\'
alwaysOnRequested:
type: boolean
default: false
epsInterworkingInd:
\$ref: \'#/components/schemas/EpsInterworkingIndication\'
secondaryRatUsageReport:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/SecondaryRatUsageReport\'
minItems: 1
secondaryRatUsageInfo:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/SecondaryRatUsageInfo\'
minItems: 1
anTypeCanBeChanged:
type: boolean
default: false
maReleaseInd:
\$ref: \'#/components/schemas/MaReleaseIndication\'
maNwUpgradeInd:
type: boolean
default: false
maRequestInd:
type: boolean
default: false
unavailableAccessInd:
\$ref: \'#/components/schemas/UnavailableAccessIndication\'
psaInfo:
type: array
items:
\$ref: \'#/components/schemas/PsaInformation\'
minItems: 1
ulclBpInfo:
\$ref: \'#/components/schemas/UlclBpInformation\'
n4Info:
\$ref: \'#/components/schemas/N4Information\'
n4InfoExt1:
\$ref: \'#/components/schemas/N4Information\'
n4InfoExt2:
\$ref: \'#/components/schemas/N4Information\'
presenceInLadn:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/PresenceState\'
vsmfPduSessionUri:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Uri\'
vsmfId:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/NfInstanceId\'
vSmfServiceInstanceId:
type: string
ismfPduSessionUri:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Uri\'
ismfId:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/NfInstanceId\'
iSmfServiceInstanceId:
type: string
dlServingPlmnRateCtl:
type: integer
minimum: 10
nullable: true
dnaiList:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Dnai\'
minItems: 1
supportedFeatures:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/SupportedFeatures\'
roamingChargingProfile:
\$ref:
\'TS32291_Nchf_ConvergedCharging.yaml#/components/schemas/RoamingChargingProfile\'
moExpDataCounter:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/MoExpDataCounter\'
vplmnQos:
\$ref: \'#/components/schemas/VplmnQos\'
securityResult:
\$ref: \'#/components/schemas/SecurityResult\'
upSecurityInfo:
\$ref: \'#/components/schemas/UpSecurityInfo\'
amfNfId:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/NfInstanceId\'
guami:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Guami\'
secondaryRatUsageDataReportContainer:
type: array
items:
\$ref: \'#/components/schemas/SecondaryRatUsageDataReportContainer\'
minItems: 1
smPolicyNotifyInd:
type: boolean
enum:
\- true
pcfUeCallbackInfo:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/PcfUeCallbackInfo\'
satelliteBackhaulCat:
\$ref:
\'TS29571_CommonData.yaml#/components/schemas/SatelliteBackhaulCategory\'
maxIntegrityProtectedDataRateUl:
\$ref: \'#/components/schemas/MaxIntegrityProtectedDataRate\'
maxIntegrityProtectedDataRateDl:
\$ref: \'#/components/schemas/MaxIntegrityProtectedDataRate\'
upCnxState:
\$ref: \'#/components/schemas/UpCnxState\'
ecsAddrConfigInfos:
type: array
items:
\$ref: \'TS29503_Nudm_PP.yaml#/components/schemas/EcsAddrConfigInfo\'
minItems: 1
hrsboInfo:
\$ref: \'#/components/schemas/HrsboInfoFromVplmn\'
altSnssai:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Snssai\'
required:
\- requestIndication
HsmfUpdatedData:
description: Data within Update Response from H-SMF, or from SMF to I-SMF
type: object
properties:
n1SmInfoToUe:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/RefToBinaryData\'
n4Info:
\$ref: \'#/components/schemas/N4Information\'
n4InfoExt1:
\$ref: \'#/components/schemas/N4Information\'
n4InfoExt2:
\$ref: \'#/components/schemas/N4Information\'
dnaiList:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Dnai\'
minItems: 1
supportedFeatures:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/SupportedFeatures\'
roamingChargingProfile:
\$ref:
\'TS32291_Nchf_ConvergedCharging.yaml#/components/schemas/RoamingChargingProfile\'
homeProvidedChargingId:
type: string
pattern: \'\^(0\|([1-9]{1}[0-9]{0,9}))\$\'
upSecurity:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/UpSecurity\'
maxIntegrityProtectedDataRateUl:
\$ref: \'#/components/schemas/MaxIntegrityProtectedDataRate\'
maxIntegrityProtectedDataRateDl:
\$ref: \'#/components/schemas/MaxIntegrityProtectedDataRate\'
ipv6MultiHomingInd:
type: boolean
default: false
qosFlowsSetupList:
type: array
items:
\$ref: \'#/components/schemas/QosFlowSetupItem\'
minItems: 1
sessionAmbr:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Ambr\'
epsPdnCnxInfo:
\$ref: \'#/components/schemas/EpsPdnCnxInfo\'
epsBearerInfo:
type: array
items:
\$ref: \'#/components/schemas/EpsBearerInfo\'
minItems: 1
pti:
\$ref: \'#/components/schemas/ProcedureTransactionId\'
interPlmnApiRoot:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Uri\'
intraPlmnApiRoot:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Uri\'
hrsboInfo:
\$ref: \'#/components/schemas/HrsboInfoFromHplmn\'
ReleaseData:
description: Data within Release Request
type: object
properties:
cause:
\$ref: \'#/components/schemas/Cause\'
ngApCause:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/NgApCause\'
5gMmCauseValue:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/5GMmCause\'
ueLocation:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/UserLocation\'
ueTimeZone:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/TimeZone\'
addUeLocation:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/UserLocation\'
secondaryRatUsageReport:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/SecondaryRatUsageReport\'
minItems: 1
secondaryRatUsageInfo:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/SecondaryRatUsageInfo\'
minItems: 1
n4Info:
\$ref: \'#/components/schemas/N4Information\'
n4InfoExt1:
\$ref: \'#/components/schemas/N4Information\'
n4InfoExt2:
\$ref: \'#/components/schemas/N4Information\'
ReleasedData:
description: Data within Release Response
type: object
properties:
smallDataRateStatus:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/SmallDataRateStatus\'
apnRateStatus:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/ApnRateStatus\'
n4Info:
\$ref: \'#/components/schemas/N4Information\'
n4InfoExt1:
\$ref: \'#/components/schemas/N4Information\'
n4InfoExt2:
\$ref: \'#/components/schemas/N4Information\'
VsmfUpdateData:
description: Data within Update Request towards V-SMF, or from SMF to I-SMF
type: object
properties:
requestIndication:
\$ref: \'#/components/schemas/RequestIndication\'
sessionAmbr:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Ambr\'
qosFlowsAddModRequestList:
type: array
items:
\$ref: \'#/components/schemas/QosFlowAddModifyRequestItem\'
minItems: 1
qosFlowsRelRequestList:
type: array
items:
\$ref: \'#/components/schemas/QosFlowReleaseRequestItem\'
minItems: 1
epsBearerInfo:
type: array
items:
\$ref: \'#/components/schemas/EpsBearerInfo\'
minItems: 1
assignEbiList:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Arp\'
minItems: 1
revokeEbiList:
type: array
items:
\$ref: \'#/components/schemas/EpsBearerId\'
minItems: 1
modifiedEbiList:
type: array
items:
\$ref: \'#/components/schemas/EbiArpMapping\'
minItems: 1
pti:
\$ref: \'#/components/schemas/ProcedureTransactionId\'
n1SmInfoToUe:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/RefToBinaryData\'
alwaysOnGranted:
type: boolean
default: false
hsmfPduSessionUri:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Uri\'
newSmfId:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/NfInstanceId\'
newSmfPduSessionUri:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Uri\'
supportedFeatures:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/SupportedFeatures\'
cause:
\$ref: \'#/components/schemas/Cause\'
n1smCause:
type: string
backOffTimer:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/DurationSec\'
maReleaseInd:
\$ref: \'#/components/schemas/MaReleaseIndication\'
maAcceptedInd:
type: boolean
default: false
additionalCnTunnelInfo:
\$ref: \'#/components/schemas/TunnelInfo\'
dnaiList:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Dnai\'
n4Info:
\$ref: \'#/components/schemas/N4Information\'
n4InfoExt1:
\$ref: \'#/components/schemas/N4Information\'
n4InfoExt2:
\$ref: \'#/components/schemas/N4Information\'
n4InfoExt3:
\$ref: \'#/components/schemas/N4Information\'
smallDataRateControlEnabled:
type: boolean
qosMonitoringInfo:
\$ref: \'#/components/schemas/QosMonitoringInfo\'
epsPdnCnxInfo:
\$ref: \'#/components/schemas/EpsPdnCnxInfo\'
n9DataForwardingInd:
type: boolean
default: false
n9InactivityTimer:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/DurationSec\'
hrsboInfo:
\$ref: \'#/components/schemas/HrsboInfoFromHplmn\'
altHplmnSnssai:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Snssai\'
pduSessionRetainInd:
type: boolean
enum:
\- true
pendingUpdateInfoList:
type: array
items:
\$ref: \'#/components/schemas/PendingUpdateInfo\'
required:
\- requestIndication
VsmfUpdatedData:
description: Data within Update Response from V-SMF, or from I-SMF to SMF
type: object
properties:
qosFlowsAddModList:
type: array
items:
\$ref: \'#/components/schemas/QosFlowItem\'
minItems: 1
qosFlowsRelList:
type: array
items:
\$ref: \'#/components/schemas/QosFlowItem\'
minItems: 1
qosFlowsFailedtoAddModList:
type: array
items:
\$ref: \'#/components/schemas/QosFlowItem\'
minItems: 1
qosFlowsVsmfRejectedAddModList:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Qfi\'
minItems: 1
qosFlowsFailedtoRelList:
type: array
items:
\$ref: \'#/components/schemas/QosFlowItem\'
minItems: 1
n1SmInfoFromUe:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/RefToBinaryData\'
unknownN1SmInfo:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/RefToBinaryData\'
ueLocation:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/UserLocation\'
ueTimeZone:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/TimeZone\'
addUeLocation:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/UserLocation\'
assignedEbiList:
type: array
items:
\$ref: \'#/components/schemas/EbiArpMapping\'
minItems: 1
failedToAssignEbiList:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Arp\'
minItems: 1
releasedEbiList:
type: array
items:
\$ref: \'#/components/schemas/EpsBearerId\'
minItems: 1
secondaryRatUsageReport:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/SecondaryRatUsageReport\'
minItems: 1
secondaryRatUsageInfo:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/SecondaryRatUsageInfo\'
minItems: 1
n4Info:
\$ref: \'#/components/schemas/N4Information\'
n4InfoExt1:
\$ref: \'#/components/schemas/N4Information\'
n4InfoExt2:
\$ref: \'#/components/schemas/N4Information\'
n4InfoExt3:
\$ref: \'#/components/schemas/N4Information\'
modifiedEbiListNotDelivered:
type: boolean
StatusNotification:
description: Data within Notify Status Request
type: object
properties:
statusInfo :
\$ref: \'#/components/schemas/StatusInfo\'
smallDataRateStatus:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/SmallDataRateStatus\'
apnRateStatus:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/ApnRateStatus\'
targetDnaiInfo:
\$ref: \'#/components/schemas/TargetDnaiInfo\'
oldPduSessionRef:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Uri\'
newSmfId:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/NfInstanceId\'
epsPdnCnxInfo:
\$ref: \'#/components/schemas/EpsPdnCnxInfo\'
interPlmnApiRoot:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Uri\'
intraPlmnApiRoot:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Uri\'
required:
\- statusInfo
QosFlowItem:
description: Individual QoS flow
type: object
properties:
qfi:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Qfi\'
cause:
\$ref: \'#/components/schemas/Cause\'
currentQosProfileIndex:
type: integer
minimum: 1
maximum: 8
nullQoSProfileIndex:
type: boolean
ngApCause:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/NgApCause\'
required:
\- qfi
QosFlowSetupItem:
description: Individual QoS flow to setup
type: object
properties:
qfi:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Qfi\'
qosRules:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Bytes\'
ebi:
\$ref: \'#/components/schemas/EpsBearerId\'
qosFlowDescription:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Bytes\'
qosFlowProfile:
\$ref: \'#/components/schemas/QosFlowProfile\'
associatedAnType:
\$ref: \'#/components/schemas/QosFlowAccessType\'
defaultQosRuleInd:
type: boolean
required:
\- qfi
\- qosRules
QosFlowAddModifyRequestItem:
description: Individual QoS flow requested to be created or modified
type: object
properties:
qfi:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Qfi\'
ebi:
\$ref: \'#/components/schemas/EpsBearerId\'
qosRules:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Bytes\'
qosFlowDescription:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Bytes\'
qosFlowProfile:
\$ref: \'#/components/schemas/QosFlowProfile\'
associatedAnType:
\$ref: \'#/components/schemas/QosFlowAccessType\'
required:
\- qfi
QosFlowReleaseRequestItem:
description: Individual QoS flow requested to be released
type: object
properties:
qfi:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Qfi\'
qosRules:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Bytes\'
qosFlowDescription:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Bytes\'
required:
\- qfi
QosFlowProfile:
description: QoS flow profile
type: object
properties:
5qi:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/5Qi\'
nonDynamic5Qi:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/NonDynamic5Qi\'
dynamic5Qi:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Dynamic5Qi\'
arp:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Arp\'
gbrQosFlowInfo:
\$ref: \'#/components/schemas/GbrQosFlowInformation\'
rqa:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/ReflectiveQoSAttribute\'
additionalQosFlowInfo:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/AdditionalQosFlowInfo\'
qosMonitoringReq:
\$ref: \'#/components/schemas/QosMonitoringReq\'
qosRepPeriod:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/DurationSec\'
required:
\- 5qi
GbrQosFlowInformation:
description: GBR QoS flow information
type: object
properties:
maxFbrDl:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/BitRate\'
maxFbrUl:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/BitRate\'
guaFbrDl:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/BitRate\'
guaFbrUl:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/BitRate\'
notifControl:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/NotificationControl\'
maxPacketLossRateDl:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/PacketLossRate\'
maxPacketLossRateUl:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/PacketLossRate\'
alternativeQosProfileList:
type: array
items:
\$ref: \'#/components/schemas/AlternativeQosProfile\'
required:
\- maxFbrDl
\- maxFbrUl
\- guaFbrDl
\- guaFbrUl
QosFlowNotifyItem:
description: Notification related to a QoS flow
type: object
properties:
qfi:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Qfi\'
notificationCause:
\$ref: \'#/components/schemas/NotificationCause\'
currentQosProfileIndex:
type: integer
minimum: 1
maximum: 8
nullQoSProfileIndex:
type: boolean
required:
\- qfi
\- notificationCause
SmContextRetrieveData:
description: Data within Retrieve SM Context Request
type: object
properties:
targetMmeCap:
\$ref: \'#/components/schemas/MmeCapabilities\'
smContextType:
\$ref: \'#/components/schemas/SmContextType\'
servingNetwork:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/PlmnId\'
notToTransferEbiList:
type: array
items:
\$ref: \'#/components/schemas/EpsBearerId\'
minItems: 1
ranUnchangedInd:
type: boolean
default: false
hrsboSupportInd:
type: boolean
default: false
SmContextRetrievedData:
description: Data within Retrieve SM Context Response
type: object
properties:
ueEpsPdnConnection:
\$ref: \'#/components/schemas/EpsPdnCnxContainer\'
smContext:
\$ref: \'#/components/schemas/SmContext\'
smallDataRateStatus:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/SmallDataRateStatus\'
apnRateStatus:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/ApnRateStatus\'
dlDataWaitingInd:
type: boolean
default: false
afCoordinationInfo:
\$ref: \'#/components/schemas/AfCoordinationInfo\'
required:
\- ueEpsPdnConnection
MmeCapabilities:
description: MME capabilities
type: object
properties:
nonIpSupported:
type: boolean
default: false
ethernetSupported:
type: boolean
default: false
upipSupported:
type: boolean
default: false
TunnelInfo:
description: Tunnel Information
type: object
properties:
ipv4Addr:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Ipv4Addr\'
ipv6Addr:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Ipv6Addr\'
gtpTeid:
\$ref: \'#/components/schemas/Teid\'
anType:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/AccessType\'
required:
\- gtpTeid
StatusInfo:
description: Status of SM context or of PDU session
type: object
properties:
resourceStatus:
\$ref: \'#/components/schemas/ResourceStatus\'
cause:
\$ref: \'#/components/schemas/Cause\'
remoteError:
type: boolean
cnAssistedRanPara:
\$ref: \'#/components/schemas/CnAssistedRanPara\'
anType:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/AccessType\'
required:
\- resourceStatus
EpsPdnCnxInfo:
description: EPS PDN Connection Information from H-SMF to V-SMF, or from SMF
to I-SMF
type: object
properties:
pgwS8cFteid:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Bytes\'
pgwNodeName:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Bytes\'
pgwChangeInfo:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Bytes\'
linkedBearerId:
\$ref: \'#/components/schemas/EpsBearerId\'
required:
\- pgwS8cFteid
EpsBearerInfo:
description: EPS Bearer Information from H-SMF to V-SMF, or from SMF to I-SMF
type: object
properties:
ebi:
\$ref: \'#/components/schemas/EpsBearerId\'
pgwS8uFteid:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Bytes\'
bearerLevelQoS:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Bytes\'
required:
\- ebi
\- pgwS8uFteid
\- bearerLevelQoS
PduSessionNotifyItem:
description: Notification related to a PDU session
type: object
properties:
notificationCause:
\$ref: \'#/components/schemas/NotificationCause\'
required:
\- notificationCause
EbiArpMapping:
description: EBI to ARP mapping
type: object
properties:
epsBearerId:
\$ref: \'#/components/schemas/EpsBearerId\'
arp:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Arp\'
required:
\- epsBearerId
\- arp
SmContextCreateError:
description: Error within Create SM Context Response
type: object
properties:
error:
\$ref: \'#/components/schemas/ExtProblemDetails\'
n1SmMsg:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/RefToBinaryData\'
n2SmInfo:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/RefToBinaryData\'
n2SmInfoType:
\$ref: \'#/components/schemas/N2SmInfoType\'
recoveryTime:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/DateTime\'
required:
\- error
SmContextUpdateError:
description: Error within Update SM Context Response
type: object
properties:
error:
\$ref: \'#/components/schemas/ExtProblemDetails\'
n1SmMsg:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/RefToBinaryData\'
n2SmInfo:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/RefToBinaryData\'
n2SmInfoType:
\$ref: \'#/components/schemas/N2SmInfoType\'
upCnxState:
\$ref: \'#/components/schemas/UpCnxState\'
recoveryTime:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/DateTime\'
required:
\- error
PduSessionCreateError:
description: Error within Create Response
type: object
properties:
error:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/ProblemDetails\'
n1smCause:
type: string
pattern: \'\^[A-F0-9]{2}\$\'
n1SmInfoToUe:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/RefToBinaryData\'
backOffTimer:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/DurationSec\'
recoveryTime:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/DateTime\'
required:
\- error
HsmfUpdateError:
description: Error within Update Response from H-SMF, or from SMF to I-SMF
type: object
properties:
error:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/ProblemDetails\'
pti:
\$ref: \'#/components/schemas/ProcedureTransactionId\'
n1smCause:
type: string
pattern: \'\^[A-F0-9]{2}\$\'
n1SmInfoToUe:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/RefToBinaryData\'
backOffTimer:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/DurationSec\'
recoveryTime:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/DateTime\'
required:
\- error
VsmfUpdateError:
description: Error within Update Response from V-SMF, or from I-SMF to SMF
type: object
properties:
error:
\$ref: \'#/components/schemas/ExtProblemDetails\'
pti:
\$ref: \'#/components/schemas/ProcedureTransactionId\'
n1smCause:
type: string
pattern: \'\^[A-F0-9]{2}\$\'
n1SmInfoFromUe:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/RefToBinaryData\'
unknownN1SmInfo:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/RefToBinaryData\'
failedToAssignEbiList:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Arp\'
minItems: 1
ngApCause:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/NgApCause\'
5gMmCauseValue:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/5GMmCause\'
recoveryTime:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/DateTime\'
n4Info:
\$ref: \'#/components/schemas/N4Information\'
n4InfoExt1:
\$ref: \'#/components/schemas/N4Information\'
n4InfoExt2:
\$ref: \'#/components/schemas/N4Information\'
n4InfoExt3:
\$ref: \'#/components/schemas/N4Information\'
retryAfter:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Uinteger\'
required:
\- error
SmContext:
description: Complete SM Context
type: object
properties:
pduSessionId:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/PduSessionId\'
dnn:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Dnn\'
selectedDnn:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Dnn\'
sNssai:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Snssai\'
hplmnSnssai:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Snssai\'
pduSessionType:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/PduSessionType\'
gpsi:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Gpsi\'
hSmfUri:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Uri\'
smfUri:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Uri\'
pduSessionRef:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Uri\'
interPlmnApiRoot:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Uri\'
intraPlmnApiRoot:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Uri\'
pcfId:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/NfInstanceId\'
pcfGroupId:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/NfGroupId\'
pcfSetId:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/NfSetId\'
selMode:
\$ref: \'#/components/schemas/DnnSelectionMode\'
udmGroupId:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/NfGroupId\'
routingIndicator:
type: string
hNwPubKeyId:
type: integer
sessionAmbr:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Ambr\'
qosFlowsList:
type: array
items:
\$ref: \'#/components/schemas/QosFlowSetupItem\'
minItems: 1
hSmfInstanceId:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/NfInstanceId\'
smfInstanceId:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/NfInstanceId\'
pduSessionSmfSetId:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/NfSetId\'
pduSessionSmfServiceSetId:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/NfServiceSetId\'
pduSessionSmfBinding:
\$ref: \'TS29518_Namf_Communication.yaml#/components/schemas/SbiBindingLevel\'
enablePauseCharging:
type: boolean
default: false
ueIpv4Address:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Ipv4Addr\'
ueIpv6Prefix:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Ipv6Prefix\'
epsPdnCnxInfo:
\$ref: \'#/components/schemas/EpsPdnCnxInfo\'
epsBearerInfo:
type: array
items:
\$ref: \'#/components/schemas/EpsBearerInfo\'
minItems: 1
maxIntegrityProtectedDataRate:
\$ref: \'#/components/schemas/MaxIntegrityProtectedDataRate\'
maxIntegrityProtectedDataRateDl:
\$ref: \'#/components/schemas/MaxIntegrityProtectedDataRate\'
alwaysOnGranted:
type: boolean
default: false
upSecurity:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/UpSecurity\'
hSmfServiceInstanceId:
type: string
smfServiceInstanceId:
type: string
recoveryTime:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/DateTime\'
forwardingInd:
type: boolean
default: false
psaTunnelInfo:
\$ref: \'#/components/schemas/TunnelInfo\'
chargingId:
type: string
pattern: \'\^(0\|([1-9]{1}[0-9]{0,9}))\$\'
chargingInfo:
\$ref:
\'TS29512_Npcf_SMPolicyControl.yaml#/components/schemas/ChargingInformation\'
roamingChargingProfile:
\$ref:
\'TS32291_Nchf_ConvergedCharging.yaml#/components/schemas/RoamingChargingProfile\'
nefExtBufSupportInd:
type: boolean
default: false
ipv6Index:
\$ref: \'TS29519_Policy_Data.yaml#/components/schemas/IpIndex\'
dnAaaAddress:
\$ref: \'#/components/schemas/IpAddress\'
redundantPduSessionInfo:
\$ref: \'#/components/schemas/RedundantPduSessionInformation\'
ranTunnelInfo:
\$ref: \'#/components/schemas/QosFlowTunnel\'
addRanTunnelInfo:
type: array
items:
\$ref: \'#/components/schemas/QosFlowTunnel\'
minItems: 1
redRanTunnelInfo:
\$ref: \'#/components/schemas/QosFlowTunnel\'
addRedRanTunnelInfo:
type: array
items:
\$ref: \'#/components/schemas/QosFlowTunnel\'
minItems: 1
nspuSupportInd:
type: boolean
smfBindingInfo:
type: string
satelliteBackhaulCat:
\$ref:
\'TS29571_CommonData.yaml#/components/schemas/SatelliteBackhaulCategory\'
sscMode:
type: string
pattern: \'\^[0-7]\$\'
dlsetSupportInd:
type: boolean
n9fscSupportInd:
type: boolean
disasterRoamingInd:
type: boolean
default: false
anchorSmfOauth2Required:
type: boolean
fullDnaiList:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Dnai\'
minItems: 1
hrsboAuthReqInd:
type: boolean
hDnsAddr:
\$ref: \'#/components/schemas/IpAddress\'
hPlmnAddr:
\$ref: \'#/components/schemas/IpAddress\'
vplmnOffloadingInfo:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/VplmnOffloadingInfo\'
pendingUpdateInfoList:
type: array
items:
\$ref: \'#/components/schemas/PendingUpdateInfo\'
minItems: 1
required:
\- pduSessionId
\- dnn
\- sNssai
\- pduSessionType
\- sessionAmbr
\- qosFlowsList
ExemptionInd:
description: Exemption Indication
type: object
properties:
dnnCongestion:
type: boolean
default: false
snssaiOnlyCongestion:
type: boolean
default: false
snssaiDnnCongestion:
type: boolean
default: false
PsaInformation:
description: PSA Information
type: object
properties:
psaInd:
\$ref: \'#/components/schemas/PsaIndication\'
dnaiList:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Dnai\'
minItems: 1
ueIpv6Prefix:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Ipv6Prefix\'
psaUpfId:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/NfInstanceId\'
DnaiInformation:
description: DNAI Information
type: object
properties:
dnai:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Dnai\'
noDnaiChangeInd:
type: boolean
noLocalPsaChangeInd:
type: boolean
required:
\- dnai
N4Information:
description: N4 Information
type: object
properties:
n4MessageType:
\$ref: \'#/components/schemas/N4MessageType\'
n4MessagePayload:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/RefToBinaryData\'
n4DnaiInfo:
\$ref: \'#/components/schemas/DnaiInformation\'
psaUpfId:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/NfInstanceId\'
ulClBpId:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/NfInstanceId\'
n9UlPdrIdList:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Uint16\'
minItems: 1
required:
\- n4MessageType
\- n4MessagePayload
IndirectDataForwardingTunnelInfo:
description: Indirect Data Forwarding Tunnel Information
type: object
properties:
ipv4Addr:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Ipv4Addr\'
ipv6Addr:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Ipv6Addr\'
gtpTeid:
\$ref: \'#/components/schemas/Teid\'
drbId:
\$ref: \'#/components/schemas/DrbId\'
additionalTnlNb:
\$ref: \'#/components/schemas/AdditionalTnlNb\'
required:
\- gtpTeid
not:
required: [ drbId, additionalTnlNb ]
SendMoDataReqData:
description: Data within Send MO Data Request
type: object
properties:
moData:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/RefToBinaryData\'
moExpDataCounter:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/MoExpDataCounter\'
ueLocation:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/UserLocation\'
required:
\- moData
CnAssistedRanPara:
description: SMF derived CN assisted RAN parameters tuning
type: object
properties:
stationaryIndication:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/StationaryIndication\'
communicationDurationTime:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/DurationSec\'
periodicTime:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/DurationSec\'
scheduledCommunicationTime:
\$ref:
\'TS29571_CommonData.yaml#/components/schemas/ScheduledCommunicationTime\'
scheduledCommunicationType:
\$ref:
\'TS29571_CommonData.yaml#/components/schemas/ScheduledCommunicationType\'
trafficProfile:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/TrafficProfile\'
batteryIndication:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/BatteryIndication\'
UlclBpInformation:
description: UL CL or BP Information
type: object
properties:
ulclBpUpfId:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/NfInstanceId\'
TransferMoDataReqData:
description: Data within Transfer MO Data Request
type: object
properties:
moData:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/RefToBinaryData\'
moExpDataCounter:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/MoExpDataCounter\'
ueLocation:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/UserLocation\'
required:
\- moData
TransferMtDataReqData:
description: Data within Transfer MT Data Request
type: object
properties:
mtData:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/RefToBinaryData\'
required:
\- mtData
TransferMtDataError:
description: Transfer MT Data Error Response
allOf:
\- \$ref: \'#/components/schemas/ExtProblemDetails\'
\- \$ref: \'#/components/schemas/TransferMtDataAddInfo\'
TransferMtDataAddInfo:
description: Transfer MT Data Error Response Additional Information
type: object
properties:
maxWaitingTime:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/DurationSec\'
VplmnQos:
description: VPLMN QoS
type: object
properties:
5qi:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/5Qi\'
arp:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Arp\'
sessionAmbr:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Ambr\'
maxFbrDl:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/BitRate\'
maxFbrUl:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/BitRate\'
guaFbrDl:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/BitRate\'
guaFbrUl:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/BitRate\'
5qiPL:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/5QiPriorityLevel\'
DdnFailureSubs:
description: DDN Failure Subscription
type: object
properties:
ddnFailureSubsInd:
type: boolean
default: false
ddnFailureSubsInfoList:
type: array
items:
\$ref: \'#/components/schemas/DdnFailureSubInfo\'
minItems: 1
DdnFailureSubInfo:
description: DDN Failure Subscription Information
type: object
required:
\- notifyCorrelationId
properties:
notifyCorrelationId:
type: string
dddTrafficDescriptorList:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/DddTrafficDescriptor\'
minItems: 1
RetrieveData:
description: Data within Retrieve Request
type: object
properties:
smallDataRateStatusReq:
type: boolean
default: false
pduSessionContextType:
\$ref: \'#/components/schemas/PduSessionContextType\'
RetrievedData:
description: Data within Retrieve Response
type: object
properties:
smallDataRateStatus:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/SmallDataRateStatus\'
afCoordinationInfo:
\$ref: \'#/components/schemas/AfCoordinationInfo\'
SecurityResult:
description: Security Result
type: object
properties:
integrityProtectionResult:
\$ref: \'#/components/schemas/ProtectionResult\'
confidentialityProtectionResult:
\$ref: \'#/components/schemas/ProtectionResult\'
UpSecurityInfo:
description: User Plane Security Information
type: object
properties:
upSecurity:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/UpSecurity\'
maxIntegrityProtectedDataRateUl:
\$ref: \'#/components/schemas/MaxIntegrityProtectedDataRate\'
maxIntegrityProtectedDataRateDl:
\$ref: \'#/components/schemas/MaxIntegrityProtectedDataRate\'
securityResult:
\$ref: \'#/components/schemas/SecurityResult\'
required:
\- upSecurity
AlternativeQosProfile:
description: Alternative QoS Profile
type: object
properties:
index:
type: integer
minimum: 1
maximum: 8
guaFbrDl:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/BitRate\'
guaFbrUl:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/BitRate\'
packetDelayBudget:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/PacketDelBudget\'
packetErrRate:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/PacketErrRate\'
required:
\- index
ExtProblemDetails:
description: Extended Problem Details
allOf:
\- \$ref: \'TS29571_CommonData.yaml#/components/schemas/ProblemDetails\'
\- \$ref: \'#/components/schemas/ProblemDetailsAddInfo\'
ProblemDetailsAddInfo:
description: Problem Details Additional Information
type: object
properties:
remoteError:
type: boolean
QosMonitoringInfo:
description: QoS Monitoring Information
type: object
properties:
qosMonitoringInd:
type: boolean
default: false
IpAddress:
description: IP Address
type: object
oneOf:
\- required:
\- ipv4Addr
\- required:
\- ipv6Addr
\- required:
\- ipv6Prefix
properties:
ipv4Addr:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Ipv4Addr\'
ipv6Addr:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Ipv6Addr\'
ipv6Prefix:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Ipv6Prefix\'
RedundantPduSessionInformation:
description: Redundant PDU Session Information
type: object
properties:
rsn:
\$ref: \'#/components/schemas/Rsn\'
pduSessionPairId:
type: integer
minimum: 0
maximum: 255
required:
\- rsn
QosFlowTunnel:
description: Tunnel Information per QoS Flow
type: object
properties:
qfiList:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Qfi\'
minItems: 1
tunnelInfo:
\$ref: \'#/components/schemas/TunnelInfo\'
required:
\- qfiList
\- tunnelInfo
TargetDnaiInfo:
description: Target DNAI Information
type: object
properties:
targetDnai:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Dnai\'
smfSelectionType:
\$ref: \'#/components/schemas/SmfSelectionType\'
required:
\- smfSelectionType
AfCoordinationInfo:
description: AF Coordination Information
type: object
properties:
sourceDnai:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Dnai\'
sourceUeIpv4Addr:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Ipv4Addr\'
sourceUeIpv6Prefix:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Ipv6Prefix\'
notificationInfoList:
type: array
items:
\$ref: \'#/components/schemas/NotificationInfo\'
minItems: 1
NotificationInfo:
description: >
Notification Correlation ID and Notification URI provided by the NF service
consumer
type: object
properties:
notifId:
type: string
notifUri:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Uri\'
upBufferInd:
type: boolean
default: false
required:
\- notifId
\- notifUri
AnchorSmfFeatures:
description: Anchor SMF supported features
type: object
properties:
psetrSupportInd:
type: boolean
HrsboInfoFromVplmn:
description: HR-SBO Information in request message
type: object
properties:
hrsboAuthReqInd:
type: boolean
enum:
\- true
vEasdfAddr:
\$ref: \'#/components/schemas/IpAddress\'
localDnsAddr:
\$ref: \'#/components/schemas/IpAddress\'
easRediscoveryInd:
type: boolean
enum:
\- true
HrsboInfoFromHplmn:
description: HR-SBO Information in response message
type: object
properties:
hrsboAuthResult:
type: boolean
hDnsAddr:
\$ref: \'#/components/schemas/IpAddress\'
hPlmnAddr:
\$ref: \'#/components/schemas/IpAddress\'
vplmnOffloadingInfo:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/VplmnOffloadingInfo\'
internalGroupIds:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/GroupId\'
minItems: 1
#
# SIMPLE DATA TYPES
#
ProcedureTransactionId:
description: Procedure Transaction Identifier
type: integer
minimum: 0
maximum: 255
EpsBearerId:
description: EPS Bearer Identifier
type: integer
minimum: 0
maximum: 15
EpsPdnCnxContainer:
description: UE EPS PDN Connection container from SMF to AMF
type: string
format: byte
EpsBearerContainer:
description: EPS Bearer container from SMF to AMF
type: string
format: byte
Teid:
type: string
description: GTP Tunnel Endpoint Identifier
pattern: \'\^[A-Fa-f0-9]{8}\$\'
EpsBearerContextStatus:
description: EPS bearer context status
type: string
pattern: \'\^[A-Fa-f0-9]{4}\$\'
DrbId:
description: Data Radio Bearer Identity
type: integer
minimum: 1
maximum: 32
AdditionalTnlNb:
description: indicates first, second or third additional indirect data
forwarding tunnel
type: integer
minimum: 1
maximum: 3
ForwardingBearerContainer:
description: Forwarding Bearer Container
type: string
format: byte
SecondaryRatUsageDataReportContainer:
description: Secondary Rat Usage Data Report Container
type: string
format: byte
#
# ENUMERATIONS
#
UpCnxState:
anyOf:
\- type: string
enum:
\- ACTIVATED
\- DEACTIVATED
\- ACTIVATING
\- SUSPENDED
\- type: string
description: >
This string provides forward-compatibility with future
extensions to the enumeration but is not used to encode
content defined in the present version of this API.
description: \|
User Plane Connection State. Possible values are
\- ACTIVATED
\- DEACTIVATED
\- ACTIVATING
\- SUSPENDED
HoState:
anyOf:
\- type: string
enum:
\- NONE
\- PREPARING
\- PREPARED
\- COMPLETED
\- CANCELLED
\- type: string
description: >
This string provides forward-compatibility with future
extensions to the enumeration but is not used to encode
content defined in the present version of this API.
description: \|
Handover state. Possible values are
\- NONE
\- PREPARING
\- PREPARED
\- COMPLETED
\- CANCELLED
RequestType:
anyOf:
\- type: string
enum:
\- INITIAL_REQUEST
\- EXISTING_PDU_SESSION
\- INITIAL_EMERGENCY_REQUEST
\- EXISTING_EMERGENCY_PDU_SESSION
\- type: string
description: >
This string provides forward-compatibility with future
extensions to the enumeration but is not used to encode
content defined in the present version of this API.
description: \|
Request Type in Create (SM context) service operation. Possible values are
\- INITIAL_REQUEST
\- EXISTING_PDU_SESSION
\- INITIAL_EMERGENCY_REQUEST
\- EXISTING_EMERGENCY_PDU_SESSION
RequestIndication:
anyOf:
\- type: string
enum:
\- UE_REQ_PDU_SES_MOD
\- UE_REQ_PDU_SES_REL
\- PDU_SES_MOB
\- NW_REQ_PDU_SES_AUTH
\- NW_REQ_PDU_SES_MOD
\- NW_REQ_PDU_SES_REL
\- EBI_ASSIGNMENT_REQ
\- REL_DUE_TO_5G_AN_REQUEST
\- type: string
description: >
This string provides forward-compatibility with future
extensions to the enumeration but is not used to encode
content defined in the present version of this API.
description: \|
Request Indication in Update (SM context) service operation. Possible values
are
\- UE_REQ_PDU_SES_MOD
\- UE_REQ_PDU_SES_REL
\- PDU_SES_MOB
\- NW_REQ_PDU_SES_AUTH
\- NW_REQ_PDU_SES_MOD
\- NW_REQ_PDU_SES_REL
\- EBI_ASSIGNMENT_REQ
\- REL_DUE_TO_5G_AN_REQUEST
NotificationCause:
anyOf:
\- type: string
enum:
\- QOS_FULFILLED
\- QOS_NOT_FULFILLED
\- UP_SEC_FULFILLED
\- UP_SEC_NOT_FULFILLED
\- type: string
description: >
This string provides forward-compatibility with future
extensions to the enumeration but is not used to encode
content defined in the present version of this API.
description: \|
Cause for generating a notification. Possible values are
\- QOS_FULFILLED
\- QOS_NOT_FULFILLED
\- UP_SEC_FULFILLED
\- UP_SEC_NOT_FULFILLED
Cause:
anyOf:
\- type: string
enum:
\- REL_DUE_TO_HO
\- EPS_FALLBACK
\- REL_DUE_TO_UP_SEC
\- DNN_CONGESTION
\- S_NSSAI_CONGESTION
\- REL_DUE_TO_REACTIVATION
\- 5G_AN_NOT_RESPONDING
\- REL_DUE_TO_SLICE_NOT_AVAILABLE
\- REL_DUE_TO_DUPLICATE_SESSION_ID
\- PDU_SESSION_STATUS_MISMATCH
\- HO_FAILURE
\- INSUFFICIENT_UP_RESOURCES
\- PDU_SESSION_HANDED_OVER
\- PDU_SESSION_RESUMED
\- CN_ASSISTED_RAN_PARAMETER_TUNING
\- ISMF_CONTEXT_TRANSFER
\- SMF_CONTEXT_TRANSFER
\- REL_DUE_TO_PS_TO_CS_HO
\- REL_DUE_TO_SUBSCRIPTION_CHANGE
\- HO_CANCEL
\- REL_DUE_TO_SLICE_NOT_AUTHORIZED
\- PDU_SESSION_HAND_OVER_FAILURE
\- DDN_FAILURE_STATUS
\- REL_DUE_TO_CP_ONLY_NOT_APPLICABLE
\- NOT_SUPPORTED_WITH_ISMF
\- CHANGED_ANCHOR_SMF
\- CHANGED_INTERMEDIATE_SMF
\- TARGET_DNAI_NOTIFICATION
\- REL_DUE_TO_VPLMN_QOS_FAILURE
\- REL_DUE_TO_SMF_NOT_SUPPORT_PSETR
\- REL_DUE_TO_SNPN_SNPN_MOBILITY
\- REL_DUE_TO_NO_HR_AGREEMENT
\- REL_DUE_TO_UNSPECIFIED_REASON
\- REL_DUE_TO_MOB_ACCESS_RESTRICTIONS
\- REL_DUE_TO_SLICE_INACTIVITY
\- REL_DUE_TO_NSI_NOT_AVAILABLE
\- REL_DUE_TO_DNN_DENIED
\- REL_DUE_TO_PDUTYPE_DENIED
\- REL_DUE_TO_SSC_DENIED
\- REL_DUE_TO_SUBSCRIPTION_DENIED
\- REL_DUE_TO_DNN_NOT_SUPPORTED
\- REL_DUE_TO_PDUTYPE_NOT_SUPPORTED
\- REL_DUE_TO_SSC_NOT_SUPPORTED
\- REL_DUE_TO_INSUFFICIENT_RESOURCES_SLICE
\- REL_DUE_TO_INSUFFICIENT_RESOURCES_SLICE_DNN
\- REL_DUE_TO_DNN_CONGESTION
\- REL_DUE_TO_S_NSSAI_CONGESTION
\- REL_DUE_TO_PEER_NOT_RESPONDING
\- REL_DUE_TO_NETWORK_FAILURE
\- REL_DUE_TO_UPF_NOT_RESPONDING
\- REL_DUE_TO_NO_EPS_5GS_CONTINUITY
\- REL_DUE_TO_NOT_SUPPORTED_WITH_ISMF
\- REL_DUE_TO_EXCEEDED_UE_SLICE_DATA_RATE
\- REL_DUE_TO_EXCEEDED_SLICE_DATA_RATE
\- REL_DUE_TO_CONTEXT_NOT_FOUND
\- REL_DUE_TO_MBSR_NOT_AUTHORIZED
\- DEACT_DUE_TO_UE_OUT_OF_SLICE_SUPPORT_AREA
\- type: string
description: >
This string provides forward-compatibility with future
extensions to the enumeration but is not used to encode
content defined in the present version of this API.
description: \|
Cause information. Possible values are
\- REL_DUE_TO_HO
\- EPS_FALLBACK
\- REL_DUE_TO_UP_SEC
\- DNN_CONGESTION
\- S_NSSAI_CONGESTION
\- REL_DUE_TO_REACTIVATION
\- 5G_AN_NOT_RESPONDING
\- REL_DUE_TO_SLICE_NOT_AVAILABLE
\- REL_DUE_TO_DUPLICATE_SESSION_ID
\- PDU_SESSION_STATUS_MISMATCH
\- HO_FAILURE
\- INSUFFICIENT_UP_RESOURCES
\- PDU_SESSION_HANDED_OVER
\- PDU_SESSION_RESUMED
\- CN_ASSISTED_RAN_PARAMETER_TUNING
\- ISMF_CONTEXT_TRANSFER
\- SMF_CONTEXT_TRANSFER
\- REL_DUE_TO_PS_TO_CS_HO
\- REL_DUE_TO_SUBSCRIPTION_CHANGE
\- HO_CANCEL
\- REL_DUE_TO_SLICE_NOT_AUTHORIZED
\- PDU_SESSION_HAND_OVER_FAILURE
\- DDN_FAILURE_STATUS
\- REL_DUE_TO_CP_ONLY_NOT_APPLICABLE
\- NOT_SUPPORTED_WITH_ISMF
\- CHANGED_ANCHOR_SMF
\- CHANGED_INTERMEDIATE_SMF
\- TARGET_DNAI_NOTIFICATION
\- REL_DUE_TO_VPLMN_QOS_FAILURE
\- REL_DUE_TO_SMF_NOT_SUPPORT_PSETR
\- REL_DUE_TO_SNPN_SNPN_MOBILITY
\- REL_DUE_TO_NO_HR_AGREEMENT
\- REL_DUE_TO_UNSPECIFIED_REASON
\- REL_DUE_TO_MOB_ACCESS_RESTRICTIONS
\- REL_DUE_TO_SLICE_INACTIVITY
\- REL_DUE_TO_NSI_NOT_AVAILABLE
\- REL_DUE_TO_DNN_DENIED
\- REL_DUE_TO_PDUTYPE_DENIED
\- REL_DUE_TO_SSC_DENIED
\- REL_DUE_TO_SUBSCRIPTION_DENIED
\- REL_DUE_TO_DNN_NOT_SUPPORTED
\- REL_DUE_TO_PDUTYPE_NOT_SUPPORTED
\- REL_DUE_TO_SSC_NOT_SUPPORTED
\- REL_DUE_TO_INSUFFICIENT_RESOURCES_SLICE
\- REL_DUE_TO_INSUFFICIENT_RESOURCES_SLICE_DNN
\- REL_DUE_TO_DNN_CONGESTION
\- REL_DUE_TO_S_NSSAI_CONGESTION
\- REL_DUE_TO_PEER_NOT_RESPONDING
\- REL_DUE_TO_NETWORK_FAILURE
\- REL_DUE_TO_UPF_NOT_RESPONDING
\- REL_DUE_TO_NO_EPS_5GS_CONTINUITY
\- REL_DUE_TO_NOT_SUPPORTED_WITH_ISMF
\- REL_DUE_TO_EXCEEDED_UE_SLICE_DATA_RATE
\- REL_DUE_TO_EXCEEDED_SLICE_DATA_RATE
\- REL_DUE_TO_CONTEXT_NOT_FOUND
\- REL_DUE_TO_MBSR_NOT_AUTHORIZED
\- DEACT_DUE_TO_UE_OUT_OF_SLICE_SUPPORT_AREA
ResourceStatus:
anyOf:
\- type: string
enum:
\- RELEASED
\- UNCHANGED
\- TRANSFERRED
\- UPDATED
\- ALT_ANCHOR_SMF
\- type: string
description: >
This string provides forward-compatibility with future
extensions to the enumeration but is not used to encode
content defined in the present version of this API.
description: \|
Status of SM context or PDU session resource. Possible values are
\- RELEASED
\- UNCHANGED
\- TRANSFERRED
\- UPDATED
\- ALT_ANCHOR_SMF
DnnSelectionMode:
anyOf:
\- type: string
enum:
\- VERIFIED
\- UE_DNN_NOT_VERIFIED
\- NW_DNN_NOT_VERIFIED
\- type: string
description: >
This string provides forward-compatibility with future
extensions to the enumeration but is not used to encode
content defined in the present version of this API.
description: \|
DNN Selection Mode. Possible values are
\- VERIFIED
\- UE_DNN_NOT_VERIFIED
\- NW_DNN_NOT_VERIFIED
EpsInterworkingIndication:
anyOf:
\- type: string
enum:
\- NONE
\- WITH_N26
\- WITHOUT_N26
\- IWK_NON_3GPP
\- type: string
description: >
This string provides forward-compatibility with future
extensions to the enumeration but is not used to encode
content defined in the present version of this API.
description: \|
EPS Interworking Indication. Possible values are
\- NONE
\- WITH_N26
\- WITHOUT_N26
\- IWK_NON_3GPP
N2SmInfoType:
anyOf:
\- type: string
enum:
\- PDU_RES_SETUP_REQ
\- PDU_RES_SETUP_RSP
\- PDU_RES_SETUP_FAIL
\- PDU_RES_REL_CMD
\- PDU_RES_REL_RSP
\- PDU_RES_MOD_REQ
\- PDU_RES_MOD_RSP
\- PDU_RES_MOD_FAIL
\- PDU_RES_NTY
\- PDU_RES_NTY_REL
\- PDU_RES_MOD_IND
\- PDU_RES_MOD_CFM
\- PATH_SWITCH_REQ
\- PATH_SWITCH_SETUP_FAIL
\- PATH_SWITCH_REQ_ACK
\- PATH_SWITCH_REQ_FAIL
\- HANDOVER_REQUIRED
\- HANDOVER_CMD
\- HANDOVER_PREP_FAIL
\- HANDOVER_REQ_ACK
\- HANDOVER_RES_ALLOC_FAIL
\- SECONDARY_RAT_USAGE
\- PDU_RES_MOD_IND_FAIL
\- UE_CONTEXT_RESUME_REQ
\- UE_CONTEXT_RESUME_RSP
\- UE_CONTEXT_SUSPEND_REQ
\- type: string
description: >
This string provides forward-compatibility with future
extensions to the enumeration but is not used to encode
content defined in the present version of this API.
description: \|
N2 SM Information Type. Possible values are
\- PDU_RES_SETUP_REQ
\- PDU_RES_SETUP_RSP
\- PDU_RES_SETUP_FAIL
\- PDU_RES_REL_CMD
\- PDU_RES_REL_RSP
\- PDU_RES_MOD_REQ
\- PDU_RES_MOD_RSP
\- PDU_RES_MOD_FAIL
\- PDU_RES_NTY
\- PDU_RES_NTY_REL
\- PDU_RES_MOD_IND
\- PDU_RES_MOD_CFM
\- PATH_SWITCH_REQ
\- PATH_SWITCH_SETUP_FAIL
\- PATH_SWITCH_REQ_ACK
\- PATH_SWITCH_REQ_FAIL
\- HANDOVER_REQUIRED
\- HANDOVER_CMD
\- HANDOVER_PREP_FAIL
\- HANDOVER_REQ_ACK
\- HANDOVER_RES_ALLOC_FAIL
\- SECONDARY_RAT_USAGE
\- PDU_RES_MOD_IND_FAIL
\- UE_CONTEXT_RESUME_REQ
\- UE_CONTEXT_RESUME_RSP
\- UE_CONTEXT_SUSPEND_REQ
MaxIntegrityProtectedDataRate:
anyOf:
\- type: string
enum:
\- 64_KBPS
\- MAX_UE_RATE
\- type: string
description: >
This string provides forward-compatibility with future
extensions to the enumeration but is not used to encode
content defined in the present version of this API.
description: \|
Maximum Integrity Protected Data Rate. Possible values are
\- 64_KBPS
\- MAX_UE_RATE
MaReleaseIndication:
anyOf:
\- type: string
enum:
\- REL_MAPDU_OVER_3GPP
\- REL_MAPDU_OVER_N3GPP
\- type: string
description: >
This string provides forward-compatibility with future
extensions to the enumeration but is not used to encode
content defined in the present version of this API.
description: \|
Multi-Access PDU session release Indication. Possible values are
\- REL_MAPDU_OVER_3GPP
\- REL_MAPDU_OVER_N3GPP
SmContextType:
anyOf:
\- type: string
enum:
\- EPS_PDN_CONNECTION
\- SM_CONTEXT
\- AF_COORDINATION_INFO
\- type: string
description: >
This string provides forward-compatibility with future
extensions to the enumeration but is not used to encode
content defined in the present version of this API.
description: \|
Type of SM Context information. Possible values are
\- EPS_PDN_CONNECTION
\- SM_CONTEXT
\- AF_COORDINATION_INFO
PsaIndication:
anyOf:
\- type: string
enum:
\- PSA_INSERTED
\- PSA_REMOVED
\- PSA_INSERTED_ONLY
\- PSA_REMOVED_ONLY
\- type: string
description: >
This string provides forward-compatibility with future
extensions to the enumeration but is not used to encode
content defined in the present version of this API.
description: \|
Indication of whether a PSA is inserted or removed. Possible values are
\- PSA_INSERTED
\- PSA_REMOVED
\- PSA_INSERTED_ONLY
\- PSA_REMOVED_ONLY
N4MessageType:
anyOf:
\- type: string
enum:
\- PFCP_SES_EST_REQ
\- PFCP_SES_EST_RSP
\- PFCP_SES_MOD_REQ
\- PFCP_SES_MOD_RSP
\- PFCP_SES_DEL_REQ
\- PFCP_SES_DEL_RSP
\- PFCP_SES_REP_REQ
\- PFCP_SES_REP_RSP
\- type: string
description: >
This string provides forward-compatibility with future
extensions to the enumeration but is not used to encode
content defined in the present version of this API.
description: \|
N4 Message Type. Possible values are
\- PFCP_SES_EST_REQ
\- PFCP_SES_EST_RSP
\- PFCP_SES_MOD_REQ
\- PFCP_SES_MOD_RSP
\- PFCP_SES_DEL_REQ
\- PFCP_SES_DEL_RSP
\- PFCP_SES_REP_REQ
\- PFCP_SES_REP_RSP
QosFlowAccessType:
anyOf:
\- type: string
enum:
\- 3GPP
\- NON_3GPP
\- 3GPP_AND_NON_3GPP
\- type: string
description: >
This string provides forward-compatibility with future
extensions to the enumeration but is not used to encode
content defined in the present version of this API.
description: \|
Access type associated with a QoS Flow. Possible values are
\- 3GPP
\- NON_3GPP
\- 3GPP_AND_NON_3GPP
UnavailableAccessIndication:
anyOf:
\- type: string
enum:
\- 3GA_UNAVAILABLE
\- N3GA_UNAVAILABLE
\- type: string
description: >
This string provides forward-compatibility with future
extensions to the enumeration but is not used to encode
content defined in the present version of this API.
description: \|
Indicates the access type of a MA PDU session that is unavailable. Possible
values are
\- 3GA_UNAVAILABLE
\- N3GA_UNAVAILABLE
ProtectionResult:
anyOf:
\- type: string
enum:
\- PERFORMED
\- NOT_PERFORMED
\- type: string
description: >
This string provides forward-compatibility with future
extensions to the enumeration but is not used to encode
content defined in the present version of this API.
description: \|
Protection Result of the security policy indicated as \"preferred\". Possible
values are
\- PERFORMED
\- NOT_PERFORMED
QosMonitoringReq:
anyOf:
\- type: string
enum:
\- UL
\- DL
\- BOTH
\- NONE
\- type: string
description: >
This string provides forward-compatibility with future
extensions to the enumeration but is not used to encode
content defined in the present version of this API.
description: \|
QoS monitoring request. Possible values are
\- UL
\- DL
\- BOTH
\- NONE
Rsn:
anyOf:
\- type: string
enum:
\- V1
\- V2
\- NONE
\- type: string
description: >
This string provides forward-compatibility with future
extensions to the enumeration but is not used to encode
content defined in the present version of this API.
description: \|
Redundancy Sequence Number. Possible values are
\- V1
\- V2
\- NONE
SmfSelectionType:
anyOf:
\- type: string
enum:
\- CURRENT_PDU_SESSION
\- NEXT_PDU_SESSION
\- type: string
description: >
This string provides forward-compatibility with future
extensions to the enumeration but is not used to encode
content defined in the present version of this API.
description: \|
Smf Selection Type. Possible values are
\- CURRENT_PDU_SESSION
\- NEXT_PDU_SESSION
PduSessionContextType:
anyOf:
\- type: string
enum:
\- AF_COORDINATION_INFO
\- type: string
description: >
This string provides forward-compatibility with future
extensions to the enumeration but is not used to encode
content defined in the present version of this API.
description: \|
Type of PDU Session information. Possible values are
\- AF_COORDINATION_INFO
PendingUpdateInfo:
anyOf:
\- type: string
enum:
\- UE_LOCATION
\- TIMEZONE
\- ACCESS_TYPE
\- RAT_TYPE
\- AMF_ID
\- type: string
description: >
This string provides forward-compatibility with future
extensions to the enumeration but is not used to encode
content defined in the present version of this API.
description: \|
Pending Update Information. Possible values are
\- UE_LOCATION
\- TIMEZONE
\- ACCESS_TYPE
\- RAT_TYPE
\- AMF_ID
#
# HTTP request bodies
#
requestBodies:
\'VsmfUpdateRequestBody\':
description: representation of updates to apply to the PDU session
required: true
content:
application/json: # message without binary body part
schema:
\$ref: \'#/components/schemas/VsmfUpdateData\'
multipart/related: # message with binary body part(s)
schema:
type: object
properties: # Request parts
jsonData:
\$ref: \'#/components/schemas/VsmfUpdateData\'
binaryDataN1SmInfoToUe:
type: string
format: binary
binaryDataN4Information:
type: string
format: binary
binaryDataN4InformationExt1:
type: string
format: binary
binaryDataN4InformationExt2:
type: string
format: binary
binaryDataN4InformationExt3:
type: string
format: binary
encoding:
jsonData:
contentType: application/json
binaryDataN1SmInfoToUe:
contentType: application/vnd.3gpp.5gnas
headers:
Content-Id:
schema:
type: string
binaryDataN4Information:
contentType: application/vnd.3gpp.pfcp
headers:
Content-Id:
schema:
type: string
binaryDataN4InformationExt1:
contentType: application/vnd.3gpp.pfcp
headers:
Content-Id:
schema:
type: string
binaryDataN4InformationExt2:
contentType: application/vnd.3gpp.pfcp
headers:
Content-Id:
schema:
type: string
binaryDataN4InformationExt3:
contentType: application/vnd.3gpp.pfcp
headers:
Content-Id:
schema:
type: string
\'NotifyStatusRequestBody\':
description: representation of the status notification
required: true
content:
application/json:
schema:
\$ref: \'#/components/schemas/StatusNotification\'
#
# HTTP responses
#
responses:
\'VsmfUpdateResponse200\':
description: successful update of a PDU session with content in the response
content:
application/json: # message without binary body part
schema:
\$ref: \'#/components/schemas/VsmfUpdatedData\'
multipart/related: # message with binary body part(s)
schema:
type: object
properties: # Request parts
jsonData:
\$ref: \'#/components/schemas/VsmfUpdatedData\'
binaryDataN1SmInfoFromUe:
type: string
format: binary
binaryDataUnknownN1SmInfo:
type: string
format: binary
binaryDataN4Information:
type: string
format: binary
binaryDataN4InformationExt1:
type: string
format: binary
binaryDataN4InformationExt2:
type: string
format: binary
binaryDataN4InformationExt3:
type: string
format: binary
encoding:
jsonData:
contentType: application/json
binaryDataN1SmInfoFromUe:
contentType: application/vnd.3gpp.5gnas
headers:
Content-Id:
schema:
type: string
binaryDataUnknownN1SmInfo:
contentType: application/vnd.3gpp.5gnas
headers:
Content-Id:
schema:
type: string
binaryDataN4Information:
contentType: application/vnd.3gpp.pfcp
headers:
Content-Id:
schema:
type: string
binaryDataN4InformationExt1:
contentType: application/vnd.3gpp.pfcp
headers:
Content-Id:
schema:
type: string
binaryDataN4InformationExt2:
contentType: application/vnd.3gpp.pfcp
headers:
Content-Id:
schema:
type: string
binaryDataN4InformationExt3:
contentType: application/vnd.3gpp.pfcp
headers:
Content-Id:
schema:
type: string
\'PduSessionCreateError\':
description: unsuccessful creation of a PDU session
content:
application/json: # message without binary body part
schema:
\$ref: \'#/components/schemas/PduSessionCreateError\'
application/problem+json:
schema:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/ProblemDetails\'
multipart/related: # message with binary body part(s)
schema:
type: object
properties: # Request parts
jsonData:
\$ref: \'#/components/schemas/PduSessionCreateError\'
binaryDataN1SmInfoToUe:
type: string
format: binary
encoding:
jsonData:
contentType: application/json
binaryDataN1SmInfoToUe:
contentType: application/vnd.3gpp.5gnas
headers:
Content-Id:
schema:
type: string
\'HsmfUpdateError\':
description: unsuccessful update of a PDU session
content:
application/json: # message without binary body part
schema:
\$ref: \'#/components/schemas/HsmfUpdateError\'
application/problem+json:
schema:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/ProblemDetails\'
multipart/related: # message with binary body part(s)
schema:
type: object
properties: # Request parts
jsonData:
\$ref: \'#/components/schemas/HsmfUpdateError\'
binaryDataN1SmInfoToUe:
type: string
format: binary
encoding:
jsonData:
contentType: application/json
binaryDataN1SmInfoToUe:
contentType: application/vnd.3gpp.5gnas
headers:
Content-Id:
schema:
type: string
\'VsmfUpdateError\':
description: unsuccessful update of a PDU session
content:
application/json: # message without binary body part
schema:
\$ref: \'#/components/schemas/VsmfUpdateError\'
application/problem+json:
schema:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/ProblemDetails\'
multipart/related: # message with binary body part(s)
schema:
type: object
properties: # Request parts
jsonData:
\$ref: \'#/components/schemas/VsmfUpdateError\'
binaryDataN1SmInfoFromUe:
type: string
format: binary
binaryDataUnknownN1SmInfo:
type: string
format: binary
binaryDataN4Information:
type: string
format: binary
binaryDataN4InformationExt1:
type: string
format: binary
binaryDataN4InformationExt2:
type: string
format: binary
binaryDataN4InformationExt3:
type: string
format: binary
encoding:
jsonData:
contentType: application/json
binaryDataN1SmInfoFromUe:
contentType: application/vnd.3gpp.5gnas
headers:
Content-Id:
schema:
type: string
binaryDataUnknownN1SmInfo:
contentType: application/vnd.3gpp.5gnas
headers:
Content-Id:
schema:
type: string
binaryDataN4Information:
contentType: application/vnd.3gpp.pfcp
headers:
Content-Id:
schema:
type: string
binaryDataN4InformationExt1:
contentType: application/vnd.3gpp.pfcp
headers:
Content-Id:
schema:
type: string
binaryDataN4InformationExt2:
contentType: application/vnd.3gpp.pfcp
headers:
Content-Id:
schema:
type: string
binaryDataN4InformationExt3:
contentType: application/vnd.3gpp.pfcp
headers:
Content-Id:
schema:
type: string
\'400\':
description: Bad request
content:
application/problem+json:
schema:
\$ref: \'#/components/schemas/ExtProblemDetails\'
\'401\':
description: Unauthorized
content:
application/problem+json:
schema:
\$ref: \'#/components/schemas/ExtProblemDetails\'
\'403\':
description: Forbidden
content:
application/problem+json:
schema:
\$ref: \'#/components/schemas/ExtProblemDetails\'
\'404\':
description: Not Found
content:
application/problem+json:
schema:
\$ref: \'#/components/schemas/ExtProblemDetails\'
\'413\':
description: Payload Too Large
content:
application/problem+json:
schema:
\$ref: \'#/components/schemas/ExtProblemDetails\'
\'415\':
description: Unsupported Media Type
content:
application/problem+json:
schema:
\$ref: \'#/components/schemas/ExtProblemDetails\'
\'429\':
description: Too Many Requests
content:
application/problem+json:
schema:
\$ref: \'#/components/schemas/ExtProblemDetails\'
\'500\':
description: Internal Server Error
content:
application/problem+json:
schema:
\$ref: \'#/components/schemas/ExtProblemDetails\'
\'502\':
description: Bad Gateway
content:
application/problem+json:
schema:
\$ref: \'#/components/schemas/ExtProblemDetails\'
\'503\':
description: Service Unavailable
content:
application/problem+json:
schema:
\$ref: \'#/components/schemas/ExtProblemDetails\'
###### ## Annex B (Informative): HTTP Multipart Messages
# B.1 Example of HTTP multipart message
## B.1.1 General
This clause provides a (partial) example of HTTP multipart message. The
example does not aim to be a complete representation of the HTTP message, e.g.
additional information or headers can be included.
This Annex is informative and the normative descriptions in this specification
prevail over the description in this Annex if there is any difference.
## B.1.2 Example HTTP multipart message with N1 SM Message binary data
POST /example.com/nsmf-pdusession/v1/sm-contexts HTTP/2
Content-Type: multipart/related; type=\"application/json\";
boundary=----Boundary
Content-Length: xyz
\------Boundary
Content-Type: application/json
{
\"supi\": \"imsi-\\",
\"pduSessionId\": 235,
\"dnn\": \"\\",
\"sNssai\": {
\"sst\": 0
},
\"servingNfId\": \"\\",
\"n1SmMsg\": {
\"contentId\": \"n1msg\"
},
\"anType\": \"3GPP_ACCESS\",
\"smContextStatusUri\": \"\\"
}
\------Boundary
Content-Type: application/vnd.3gpp.5gnas
Content-Id: n1msg
{ ... N1 SM Message binary data ...}
\------Boundary
###### ## Annex C (Normative): ABNF grammar for 3GPP SBI HTTP custom headers
# C.1 General
This Annex contains a self-contained set of ABNF rules, comprising the re-used
rules from IETF RFCs, and the rules defined by the 3GPP custom headers defined
in this specification (see clause 6.1.2.3).
This grammar may be used as input to existing tools to help implementations to
parse 3GPP custom headers.
# C.2 ABNF definitions (Filename: \"TS29502_CustomHeaders.abnf\")
; \----------------------------------------
; RFC 5234
; \----------------------------------------
HTAB = %x09 ; horizontal tab
SP = %x20
DIGIT = %x30-39 ; 0-9
; \----------------------------------------
; RFC 7230
; \----------------------------------------
OWS = *( SP / HTAB )
; \----------------------------------------
; RFC 7231
; \----------------------------------------
date1 = day SP month SP year ; e.g., 02 Jun 1982
day = 2DIGIT
month = %x4A.61.6E ; \"Jan\", case-sensitive
/ %x46.65.62 ; \"Feb\", case-sensitive
/ %x4D.61.72 ; \"Mar\", case-sensitive
/ %x41.70.72 ; \"Apr\", case-sensitive
/ %x4D.61.79 ; \"May\", case-sensitive
/ %x4A.75.6E ; \"Jun\", case-sensitive
/ %x4A.75.6C ; \"Jul\", case-sensitive
/ %x41.75.67 ; \"Aug\", case-sensitive
/ %x53.65.70 ; \"Sep\", case-sensitive
/ %x4F.63.74 ; \"Oct\", case-sensitive
/ %x4E.6F.76 ; \"Nov\", case-sensitive
/ %x44.65.63 ; \"Dec\", case-sensitive
year = 4DIGIT
day-name = %x4D.6F.6E ; Mon
/ %x54.75.65 ; Tue
/ %x57.65.64 ; Wed
/ %x54.68.75 ; Thu
/ %x46.72.69 ; Fri
/ %x53.61.74 ; Sat
/ %x53.75.6E ; Sun
time-of-day = hour \":\" minute \":\" second
hour = 2DIGIT
minute = 2DIGIT
second = 2DIGIT
; \----------------------------------------
; 3GPP TS 29.502
;
; Version: 18.4.0 (September 2023)
;
; (c) 2023, 3GPP Organizational Partners (ARIB, ATIS, CCSA, ETSI, TSDSI, TTA,
TTC).
; \----------------------------------------
;
; Header: 3gpp-Sbi-Origination-Timestamp
;
Sbi-Origination-Timestamp-Header = \"3gpp-Sbi-Origination-Timestamp:\" OWS
day-name \",\"
SP date1 SP time-of-day \".\" milliseconds SP \"GMT\" OWS
milliseconds = 3DIGIT
#