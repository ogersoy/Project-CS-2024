# Foreword
This Technical Specification has been produced by the 3^rd^ Generation
Partnership Project (3GPP).
The contents of the present document are subject to continuing work within the
TSG and may change following formal TSG approval. Should the TSG modify the
contents of the present document, it will be re-released by the TSG with an
identifying change of release date and an increase in version number as
follows:
Version x.y.z
where:
x the first digit:
1 presented to TSG for information;
2 presented to TSG for approval;
3 or greater indicates TSG approved document under change control.
y the second digit is incremented for all changes of substance, i.e. technical
enhancements, corrections, updates, etc.
z the third digit is incremented when editorial only changes have been
incorporated in the document.
# 1 Scope
The present specification describes the protocol for the **NEF Northbound**
interface between the NEF and the AF. The **NEF Northbound** interface and the
related stage 2 functional requirements are defined in 3GPP TS 23.502 [2],
3GPP TS 23.316 [28], 3GPP TS 23.288 [29], 3GPP TS 23.548 [42] and 3GPP TS
23.503 [70].
# 2 References
The following documents contain provisions which, through reference in this
text, constitute provisions of the present document.
\- References are either specific (identified by date of publication, edition
number, version number, etc.) or nonâ€‘specific.
\- For a specific reference, subsequent revisions do not apply.
\- For a non-specific reference, the latest version applies. In the case of a
reference to a 3GPP document (including a GSM document), a non-specific
reference implicitly refers to the latest version of that document _in the
same Release as the present document_.
[1] 3GPP TR 21.905: \"Vocabulary for 3GPP Specifications\".
[2] 3GPP TS 23.502: \"Procedures for the 5G system\".
[3] 3GPP TS 23.501: \"System Architecture for the 5G\".
[4] 3GPP TS 29.122: \"T8 reference point for northbound Application
Programming Interfaces (APIs)\".
[5] OpenAPI: \"OpenAPI Specification Version 3.0.0\",
https://spec.openapis.org/oas/v3.0.0.
[6] 3GPP TS 33.501: \"Security architecture and procedures for 5G System\".
[7] 3GPP TS 29.514: \"5G System; Policy Authorization Service; Stage 3\".
[8] 3GPP TS 29.571: \"5G System; Common Data Types for Service Based
Interfaces; Stage 3\".
[9] 3GPP TS 29.521: \"5G System; Binding Support Management Service; Stage
3\".
[10] Void.
[11] 3GPP TS 23.222: \"Common API Framework for 3GPP Northbound APIs; Stage
2\".
[12] 3GPP TS 29.222: \"Common API Framework for 3GPP Northbound APIs; Stage
3\".
[13] IETF RFC 6749: \"The OAuth 2.0 Authorization Framework\".
[14] 3GPP TS 33.122: \"Security Aspects of Common API Framework for 3GPP
Northbound APIs\".
[15] Void.
[16] Void
[17] 3GPP TS 29.503: \"5G System; Unified Data Management Services; Stage 3\".
[18] 3GPP TS 29.518: \"5G System; Access and Mobility Management Services;
Stage 3\".
[19] 3GPP TS 29.554: \"5G System; Background Data Transfer Policy Control
Service; Stage 3\".
[20] 3GPP TS 29.504: \"5G System; Unified Data Repository Services; Stage 3\".
[21] 3GPP TR 21.900: \"Technical Specification Group working methods\".
[22] 3GPP TS 29.523: \"5G System; Policy Control Event Exposure Service; Stage
3\".
[23] 3GPP TS 29.519: \"5G System; Usage of the Unified Data Repository service
for Policy Control Data, Application Data and Structured Data for Exposure;
Stage 3\".
[24] 3GPP TS 29.541: \"5G System; Network Exposure (NE) function services for
Non-IP Data Delivery (NIDD) and Short Message Services (SMS); Stage 3\".
[25] 3GPP TS 29.542: \"5G System, Session management services for Non-IP Data
Delivery (NIDD); Stage 3\".
[26] 3GPP TS 29.508: \"5G System; Session Management Event Exposure Service;
Stage 3\".
[27] 3GPP TS 29.520: \"5G System; Network Data Analytics Services; Stage 3\".
[28] 3GPP TS 23.316: \"Wireless and wireline convergence access support for
the 5G system (5GS)\".
[29] 3GPP TS 23.288: \"Architecture enhancements for 5G System (5GS) to
support network data analytics services\".
[30] 3GPP TS 23.032: \"Universal Geographical Area Description (GAD)\".
[31] Void
[32] 3GPP TS 29.501: \"5G System; Principles and Guidelines for Services
Definition; Stage 3\".
[33] 3GPP TS 24.588: \"Vehicle-to-Everything (V2X) services in 5G System
(5GS); User Equipment (UE) policies; Stage 3\".
[34] 3GPP TS 29.572: \"5G System; Location Management Services; Stage 3\".
[35] 3GPP TS 29.515: \"5G System; Gateway Mobile Location Services; Stage 3\".
[36] 3GPP TS 23.273: \"5G System Location Services (LCS)\".
[37] 3GPP TS 33.535: \"**Authentication and Key Management for Applications
(AKMA) based on 3GPP credentials in the 5G System (5GS)** \".
[38] 3GPP TS 29.535: \"5G System; AKMA Anchor Services; Stage 3\".
[39] 3GPP TS 33.220: \"Generic Authentication Architecture (GAA); Generic
Bootstrapping Architecture (GBA)\".
[40] IETF RFC 7542: \"The Network Access Identifier\".
[41] 3GPP TS 29.512: \"5G System; Session Management Policy Control Service;
Stage 3\".
[42] 3GPP TS 23.548: \"5G System Enhancements for Edge Computing; Stage 2\".
[43] 3GPP TS 29.534: \"5G System; Access and Mobility Policy Authorization
Service; Stage 3\".
[44] IETF RFC 3986: \"Uniform Resource Identifier (URI): Generic Syntax\".
[45] IEEE Std 1588-2019: \"IEEE Standard for a Precision Clock Synchronization
Protocol for Networked Measurement and Control\".
[46] IEEE Std 802.1AS-2020: \"IEEE Standard for Local and metropolitan area
networks--Timing and Synchronization for Time-Sensitive Applications\".
[47] 3GPP TS 29.536: \"5G System; Network Slice Admission Control Services;
Stage 3\".
[48] 3GPP TS 24.526: \"User Equipment (UE) policies for 5G System (5GS); Stage
3\".
[49] 3GPP TS 24.555: \"Proximity based services (ProSe) in 5G system (5GS);
User Equipment (UE) policies; Stage 3\".
[50] 3GPP TS 29.565: \"5G System; Time Sensitive Communication and Time
Synchronization Function Services; Stage 3\".
[51] IEEE 802.1Q: \"Virtual Bridged Local Area Networks\".
[52] 3GPP TS 29.532: \"5G System; 5G Multicast-Broadcast Session Management
Services; Stage 3\".
[53] 3GPP TS 23.247: \"Architectural enhancements for 5G multicast-broadcast
services; Stage 2\".
[54] IETF RFC 6733: \"Diameter Base Protocol\".
[55] 3GPP TS 23.003: \"Numbering, addressing and identification\".
[56] 3GPP TS 33.558: \"Security aspects of enhancement of support for enabling
edge applications; Stage 2\".
[57] 3GPP TS 29.510: \"Network Function Repository Services; Stage 3\".
[58] 3GPP TS 29.517: \"5G System; Application Function (AF) event exposure
service\".
> [59] 3GPP TS 26.531: \"Data Collection and Reporting; General Description
> and Architecture\".
[60] 3GPP TS 26.532: \"Data Collection and Reporting; Protocols and Formats\".
[61] 3GPP TS 29.564: \"5G System; User Plane Function Services; Stage 3\".
[62] 3GPP TS 23.040: \"Technical realization of the Short Message Service
(SMS)\".
[63] 3GPP TS 29.537: \"Multicast/Broadcast Policy Control Services; Stage 3\".
[64] 3GPP TS 29.214: \"Policy and Charging Control over Rx reference point\".
[65] 3GPP TS 26.502: \"5G multicast--broadcast services; User Service
architecture\".
[66] 3GPP TS 29.580: \"Multicast/Broadcast Service Function Services; Stage
3\".
[67] 3GPP TS 26.512: \"5G Media Streaming (5GMS); Protocols\".
[68] 3GPP TS 29.543: \"5G System; Data Transfer Policy Control Services; Stage
3\".
[69] 3GPP TS 24.578: \"Aircraft-to-Everything (A2X) services in 5G System
(5GS); UE policies\".
[70] 3GPP TS 23.503: \"Policy and Charging Control Framework for the 5G
System; Stage 2\".
[71] 3GPP TS 26.517: \"5G Multicast-Broadcast User Services; Protocols and
Formats\".
[72] 3GPP TS 24.514: \"Ranging based services and sidelink positioning in 5G
system(5GS); Stage 3\".
# 3 Definitions and abbreviations
## 3.1 Definitions
For the purposes of the present document, the terms and definitions given in
3GPP TR 21.905 [1] and the following apply. A term defined in the present
document takes precedence over the definition of the same term, if any, in
3GPP TR 21.905 [1].
**Application AM context:** Information about the capabilities that an AF
application requires from the access network for a registered UE. It is
established by the AF before or during the use of the service that requires
it.
For the purposes of the present document, the following terms and definitions
given in 3GPP TS 23.503 [70], subclause 3.1 apply:
**VPLMN specific URSP rules**
## 3.2 Abbreviations
For the purposes of the present document, the abbreviations given in 3GPP TR
21.905 [1] and the following apply. An abbreviation defined in the present
document takes precedence over the definition of the same abbreviation, if
any, in 3GPP TR 21.905 [1].
A-KID AKMA Key IDentifier
A-TID _AKMA Temporary UE IDentifier_
A2X Aircraft-to-Everything
AAnF AKMA Anchor Function
ACS Auto-Configuration Server
AF Application Function
AKMA Authentication and Key Management for Applications
AM Access and Mobility management
ASTI Access Stratum TIme distribution
BAT Burst Arrival Time
BDT Background Data Transfer
CAPIF Common API Framework
CP Communication Pattern
DN Data Network
DNAI DN Access Identifier
DNN Data Network Name
EAS Edge Application Server
ECS Edge Configuration Server
EHE Edge Hosting Environment
FQDN Fully Qualified Domain Name
GMLC Global Mobile Location Centre
GPSI Generic Public Subscription Identifier
IPTV Internet Protocol Television
K~AF~ AKMA Application Key
**MBS** Multicast/Broadcast Service
MB-SMF Multicast/Broadcast Session Management Function
MCC Mobile Country Code
MNC Mobile Network Code
MO-LR Mobile Originated Location Request
NEF Network Exposure Function
NSAC Network Slice Admission Control
NSACF Network Slice Admission Control Function
PCF Policy Control Function
PEGC PIN Element with Gateway Capability
PCRF Policy and Charging Rule Function
PDTQ Planned Data Transfer with QoS requirements
PFD Packet Flow Description
PFDF Packet Flow Description Function
PIN Personal IoT Network
REST Representational State Transfer
SCEF Service Capability Exposure Function
SFC Service Function Chain
S-NSSAI Single Network Slice Selection Assistance Information
SSM Source Specific IP Multicast address
TAI Traffic Area Identity
TMGI Temporary Mobile Group Identity
> TNAP Trusted Network Access Point
TSC Time Sensitive Communication
TSCAI Time Sensitive Communication Assistance Information
TSCTSF Time Sensitive Communication and Time Synchronization Function
UDR Unified Data Repository
UP User Plane
UPF User Plane Function
URSP UE Route Selection Policy
WB Wide Band
# 4 **NEF Northbound** Interface
## 4.1 Overview
The **NEF Northbound** interface is between the NEF and the AF. It specifies
RESTful/RPC APIs that allow the AF to access the services and capabilities
provided by 3GPP network entities and securely exposed by the NEF.
This document also specifies the procedures triggered at the NEF by API
requests from the AF and by event notifications received from 3GPP network
entities.
The stage 2 level requirements and signalling flows for the **NEF Northbound**
interface are defined in 3GPP TS 23.502 [2], 3GPP TS 23.247 [53] for MBS
specific aspects and 3GPP TS 26.531 [59] for data reporting provisioning and
Media Streaming Event Exposure specific aspects.
The **NEF Northbound** interface supports the following procedures:
1) Procedures for Monitoring.
2) Procedures for Device Triggering.
3) Procedures for resource management of Background Data Transfer.
4) Procedures for CP Parameters, Network Configuration Parameters
Provisioning, 5G LAN Parameters Provisioning, ACS Configuration Parameter
Provisioning, Location Privacy Indication Parameters Provisioning, ECS address
provisioning and DNN and S-NSSAI specific Group Parameters provisioning.
5) Procedures for PFD Management.
6) Procedures for Traffic Influence.
7) Procedures for changing the chargeable party at session set up or during
the session.
8) Procedures for AF required QoS.
9) Procedures for MSISDN-less Mobile Originated SMS.
10) Procedures for non-IP data delivery.
11) Procedures for analytics information exposure.
12) Procedure for applying BDT policy.
13) Procedures for Enhanced Coverage Restriction Control.
14) Procedures for IPTV Configuration.
15) Procedures for Service Parameter Provisioning.
16) Procedures for RACS Parameter Provisioning.
17) Procedures for Mobile Originated Location Request.
18) Procedures for AKMA.
19) Procedures for AF triggered Access and Mobility Influence.
20) Procedures for AF triggered Access and Mobility Policy Authorization.
21) Procedures for Time Synchronization Exposure.
22) Procedures for EAS Deployment information provisioning.
23) Procedures for TMGI allocation, deallocation, expiry timer refresh and
timer expiry notification.
24) Procedures for MBS session management and parameters provisioning.
25) Procedures for Data Reporting.
26) Procedures for Data Reporting Provisioning.
27) Procedures for AF specific UE ID retrieval.
28) Procedures for Media Streaming Event Exposure.
29) Procedures for MBS User Service management.
30) Procedures for MBS User Data Ingest Session management.
31) Procedures for MBS Group Message Delivery management.
32) Procedures for DNAI mapping.
33) Procedures for negotiation of Planned Data Transfer with QoS requirements.
34) Procedures for Member UE Slection Assistance.
Which correspond to the following services respectively, supported by the NEF
as defined in 3GPP TS 23.502 [2] or 3GPP TS 26.531 [59]:
1) Nnef_EventExposure service and Nnef_APISupportCapability service.
2) Nnef_Trigger service.
3) Nnef_BDTPNegotiation service.
4) Nnef_ParameterProvision service.
5) Nnef_PFDManagement service.
6) Nnef_TrafficInfluence service.
7) Nnef_ChargeableParty service.
8) Nnef_AFsessionWithQoS service and Nnef_AF_Request_for_QoS service.
9) Nnef_MSISDN-less_MO_SMS service.
10) Nnef_NIDDConfiguration and Nnef_NIDD services.
11) Nnef_AnalyticsExposure service.
12) Nnef_ApplyPolicy service.
13) Nnef_ECRestriction service.
14) Nnef_IPTVConfiguration service.
15) Nnef_ServiceParameter service.
16) Nnef_UCMFProvisioning service.
17) Nnef_Location service.
18) Nnef_AKMA service.
19) Nnef_AMInfluence service.
20) Nnef_AMPolicyAuthorization service.
21) Nnef_TimeSynchronization and Nnef_ASTI services.
22) Nnef_EASDeployment service.
23) Nnef_MBSTMGI service.
24) Nnef_MBSSession service.
> 25) Nnef_DataReporting service.
>
> 26) Nnef_DataReportingProvisioning service.
27) Nnef_UEId service.
28) Nnef_MSEventExposure service.
29) Nnef_MBSUserService service.
30) Nnef_MBSUserDataIngestSession service.
31) Nnef_MBSGroupMsgDelivery service.
32) Nnef_DNAIMapping service.
33) Nnef_PDTQPolicyNegotiation service.
34) Nnef_MemberUESelectionAssistance service.
NOTE 1: For Nnef_PFDManagement service, only the
Nnef_PFDManagement_Create/Update/Delete service operations are applicable for
the NEF Northbound interface.
NOTE 2: For Nnef_NIDD service, NF consumer other than the AF does not use the
NEF Northbound interface.
NOTE 3: For Nnef_NIDDConfiguration service, the Nnef_NIDDConfiguration_Trigger
service operation is only applicable for the NEF Northbound interface.
NOTE 4: The Nnef_APISupportCapability service is only applicable in the
MonitoringEvent API when the monitoring type sets to
\"API_SUPPORT_CAPABILITY\".
NOTE 5: The Nnef_MSEventExposure service maps to the Nnef_EventExposure
service and is applicable for the case where the event consumer AF in the
Application Service Provider is deployed outside the trusted domain, as
described in 3GPP TS 26.531 [59], and the subscribed event is set to
\"MS_QOE_METRICS\", \"MS_CONSUMPTION\", \"MS_NET_ASSIST_INVOCATION\",
\"MS_DYN_POLICY_INVOCATION\", or \"MS_ACCESS_ACTIVITY\".
NOTE 6: The stage 2 Nnef_AF_request_for_QoS API is defined by reusing the
Nnef_AFsessionWithQoS API with the \"GMEC_5G\" feature.
## 4.2 Reference model
The **NEF Northbound** interface resides between the NEF and the AF as
depicted in figure 4.2.1. The overall NEF architecture is depicted in 3GPP TS
23.502 [2]. An AF can get services from multiple NEFs, and an NEF can provide
services to multiple AFs.
NOTE: The AF can be provided by a third party.
Figure 4.2-1: Reference Architecture for the Nnef Service; SBI representation
Figure 4.2-2: Reference Architecture for the Nnef Service; reference point
representation
## 4.3 Functional elements
### 4.3.1 NEF
The Network Exposure Function (NEF) is a functional element that supports the
following functionalities:
\- The NEF shall securely expose network capabilities and events provided by
3GPP NFs to AF.
\- The NEF shall provide means for the AF to securely provide information to
3GPP network and may authenticate, authorize and assist in throttling the AF.
\- The NEF shall be able to translate the information received from the AF to
the one sent to internal 3GPP NFs, and vice versa.
\- The NEF shall support to expose information (collected from other 3GPP NFs)
to the AF.
\- The NEF may support a PFD Function which allows the AF to provision PFD(s)
and may store and retrieve PFD(s) in the UDR. The NEF further provisions
PFD(s) to the SMF.
\- The NEF may support the time synchronization exposure function to the AF.
\- The NEF may provide means for the AF to influence access and mobility
management related policies.
\- The NEF may provide means for the AF to provide inputs that can be used by
the PCF for deciding access and mobility management related policies.
\- The NEF may provide means for the AF to provide the EAS Deployment
information.
\- The NEF may provide means for the AF to retrieve AF specific UE ID.
\- The NEF may provide means for an untrusted event consumer AF to perform
Media Streaming Event Exposure monitoring.
\- The NEF may provide means for the AF to request and manage MBS Group
Message Delivery.
\- The NEF may provide means for the AF to retrieve DNAI information.
Editor\'s Note: The above NEF functionalities may be not complete, how to
effectively handle is FFS.
A specific NEF instance may support one or more of the functionalities
described above and consequently an individual NEF may support a subset of the
APIs specified for capability exposure.
NOTE: The NEF can access the UDR located in the same PLMN as the NEF.
### 4.3.2 AF
The Application Function (AF) may interact with the 3GPP Core Network via the
NEF in order to access network capabilities.
## 4.4 Procedures over **NEF Northbound** Interface
### 4.4.1 Introduction
All procedures that operate across the **NEF Northbound** interface, as
specified in 3GPP TS 23.502 [2], and in 3GPP TS 23.247 [53] for MBS specific
aspects, are specified in the following clauses.
### 4.4.2 Procedures for Monitoring
The procedures for monitoring as described in clause 4.4.2 of 3GPP TS 29.122
[4] shall be applicable in 5GS with the following differences:
\- description of the SCS/AS applies to the AF;
\- description of the SCEF applies to the NEF;
\- description of the HSS applies to the UDM, and the NEF shall interact with
the UDM by using Nudm_EventExposure service as defined in 3GPP TS 29.503 [17];
\- description of the MME/SGSN applies to the AMF, the NEF shall resolve a
location area to the involved AMF(s) either by local configuration or via the
NRF, and the NEF shall interact with the AMF by using Namf_EventExposure
service as defined in 3GPP TS 29.518 [18];
\- description about the PCRF is not applicable;
\- description about the change of IMSI-IMEI(SV) association monitoring event
applies to the change of SUPI-PEI association monitoring event;
\- when \"monitoringType\" sets to \"LOCATION_REPORTING\" within the
MonitoringEventSubscription data type as defined in clause 5.3.2.1.2 of 3GPP
TS 29.122 [4] during the monitoring event subscription, only \"CGI_ECGI\",
\"TA_RA\", \"GEO_AREA\" and \"CIVIC_ADDR\" within the Accuracy data type as
defined in clause 5.3.2.4.7 of 3GPP TS 29.122 [4], are applicable for 5G
MonitoringEvent API;
\- after validation of the AF request, the NEF may determine a monitoring
expiry time, based on operator policy and take into account the monitoring
expire time if included in the request; and the NEF may provide a expiry time
(determined by the NEF, UDM or AMF) to the AF even the AF does not provided
before;
\- if the \"Loss_of_connectivity_notification\" feature as defined in clause
5.3.4 of 3GPP TS 29.122 [4] is supported, values 0-5 are not applicable for
the lossOfConnectReason attribute within MonitoringEventReport data type, the
lossOfConnectReason attribute shall be set to 6 if the UE is deregistered, 7
if the maximum detection timer expires, 8 if the UE is purged or 9 if the UE's
Unavailability Period Duration is available and the
\"Loss_of_connectivity_notification_5G\" feature as defined in clause 5.3.4 of
3GPP TS 29.122 [4] is supported;
\- the AF may include a periodic reporting time indicated by the \"repPeriod\"
attribute within MonitoringEventSubscription data type, which is only
applicable for the \"Location_notification\",
\"Number_of_UEs_in_an_area_notification_5G\" and \"NSAC\" features in the NEF;
\- if the \"locationType\" attribute sets to \"LAST_KNOWN_LOCATION\", the
\"maximumNumberOfReports\" attribute shall set to 1 as a One-time Monitoring
Request;
\- description about the PDN connectivity status event applies to the PDU
session status event, the description of the MME/SGSN applies to the SMF
during the reporting of monitoring event procedure, the NEF receives the event
notification via Nsmf_EventExposure service as defined in 3GPP TS 29.508 [26];
\- if the \"Session_Management_Enhancement\" feature as defined in clause
5.3.4 of 3GPP TS 29.122 [4] is supported, the \"dnn\"and/or \"snssai\" may be
provided in MonitoringEventSubscription data type for monitoring type provided
\"PDN_CONNECTIVITY_STATUS\" or \" DOWNLINK_DATA_DELIVERY_STATUS\";
\- when sending the UDM/AMF/SMF event report to the AF, the NEF may store the
event data in the report in the UDR as part of the data for exposure as
specified in 3GPP TS 29.519 [23] by using Nudr_DataRepository service as
specified in 3GPP TS 29.504 [20];
\- if the \"Downlink_data_delivery_status_5G\" feature as defined in clause
5.3.4 of 3GPP TS 29.122 [4] is supported, in order to support the downlink
data delivery status notification;
1) the AF shall send an HTTP POST message to the NEF to the resource
\"Monitoring Event Subscriptions\" as defined in clause 5.3.3.2 of 3GPP TS
29.122 [4] for creating an subscription or send an HTTP PUT message to the NEF
to the resource \"Individual Monitoring Event Subscription\" as defined in
clause 5.3.3.3 of 3GPP TS 29.122 [4] for updating the subscription with the
following difference:
A)within the MonitoringEventSubscription data structure the AF may
additionally include packet filter descriptor(s) within the
\"dddTraDescriptors\" attribute and the list of monitoring downlink data
delivery status event(s) within the \"dddStati\" attribute; and
B)the NEF shall subscribe the events to the appropriate UDM(s) within the
network by invoking the Nudm_EventExposure_Subscribe service operation as
defined in clause 5.5.2.2 of 3GPP TS 29.503 [17];
2)if the \"Partial_group_modification\" feature as defined in clause 5.3.4 of
3GPP TS 29.122 [4] is supported, in order to support partial cancellation or
addition of certain UE(s) within the active group event subscription, the NEF
shall map the \"excludedExternalIds\" and/or \"excludedMsisdns\" attributes to
the \"excludeGpsiList\" attribute for the partial group cancellation, or shall
map the \"addedExternalIds\" and/or \"addedMsisdns\" attributes to the
\"includeGpsiList\" attribute within the Nudm_EventExposure service; and
3)when the NEF receives the event notification as defined in clause 4.4.2 of
3GPP TS 29.508 [26], the NEF shall send an HTTP POST message to the AF as
defined in clause 4.4.2.3 of 3GPP TS 29.122 [4] with the difference that
within each MonitoringEventReport data structure, the NEF shall include:
A)the downlink data delivery status within the \"dddStatus\" attribute;
B)the downlink data descriptor impacted by the downlink data delivery status
change within the \"dddTraDescriptor\" attribute;
C)the estimated buffering time within the \"maxWaitTime\" attribute if the
downlink data delivery status is set to \"BUFFERED\"; and
D)if the \"Availability_after_DDN_failure_notification_enhancement\" feature
as defined in clause 5.3.4 of 3GPP TS 29.122 [4] is supported, the AF shall
send an HTTP POST message to the NEF to the resource \"Monitoring Event
Subscriptions\" as defined in clause 5.3.3.2 of 3GPP TS 29.122 [4] for
creating an subscription or send an HTTP PUT message to the NEF to the
resource \"Individual Monitoring Event Subscription\" as defined in clause
5.3.3.3 of 3GPP TS 29.122 [4] for updating the subscription with the
difference that within the MonitoringEventSubscription data structure, the AF
shall include packet filter descriptions within the \"dddTraDescriptors\"
attribute;
\- if the \"eLCS\" feature as defined in clause 5.3.4 of 3GPP TS 29.122 [4] is
supported, the AF may send an HTTP POST message to the NEF to the resource
\"Monitoring Event Subscriptions\" as defined in clause 5.3.3.2 of 3GPP TS
29.122 [4] for creating an subscription or send an HTTP PUT message to the NEF
to the resource \"Individual Monitoring Event Subscription\" as defined in
clause 5.3.3.3 of 3GPP TS 29.122 [4] for updating the subscription with the
following difference:
1)within the MonitoringEventSubscription data structure, the AF may
additionally include location QoS requirement within the \"locQoS\" attribute,
the service identifier within the \"svcId\" attribute, Location deferred
requested event type within the \"ldrType\" attribute, the validity start time
and the validity end time within the \"locTimeWindow\" attribute, the maximum
age of location estimate within the \"maxAgeOfLocEst\" attribute, the
requesting target UE velocity within the \"velocityRequested\" attribute, the
linear distance within the \"linearDistance\" attribute, the reporting target
UE location estimate indication within the \"reportingLocEstInd\" attribute,
the sampling interval within the \"samplingInterval\" attribute, the maximum
reporting expire interval within the \"maxRptExpireIntvl\" attribute, the
supported GAD shapes within the \"supportedGADShapes\" attribute, the Code
word within the \"codeword\" attribute, and other attributes as defined in
clause 5.3.2.3.2 of 3GPP TS 29.122 [4] for location information subscription;
The MonitoringEventSubscription data structure may also include the
\"locationArea5G\" attribute containing only the \"geographicAreas\" attribute
and the \"accuracy\" attribute set to the value \"GEO_AREA\". The \"accuracy\"
attribute and \"locQoS\" attribute are mutually exclusive. If the \"MULTIQOS\"
feature is also supported, Multiple QoS Class is supported in the
\"lcsQosClass\" attribute within the \"locQoS\" attribute for deferred MT-LR;
2)if the NEF identifies the location request precision higher than cell level
location accuracy is required based on the \"locQoS\" attribute received, the
NEF shall interact with the appropriate GMLC within the network by invoking
the Ngmlc_Location_ProvideLocation service operation as defined in clause 6.1
of 3GPP TS 29.515 [35];
3)if the location request precision is lower than or equal to cell level,
based on implementation, the NEF may interact with the GMLC by invoking the
Ngmlc_Location_ProvideLocation service operation as defined in clause 6.1 of
3GPP TS 29.515 [35]; or retrieve the UE location privacy information from the
UDM by using Nudm_SDM service as described in clause 5.2 of 3GPP TS 29.503
[17] and if the privacy setting is verified, the NEF shall interact with the
UDM for the serving AMF address by invoking the Nudm_UECM service as described
in clause 5.3 of 3GPP TS 29.503 [17]. After receiving the serving AMF address
from the UDM, the NEF shall interact with the AMF by invoking the
Namf_EventExposure_Subscribe service operation as defined in clause 5.3 of
3GPP TS 29.518 [18]; or may interact with UDM by using Nudm_EventExposure
service as defined in clause 5.5 of 3GPP TS 29.503 [17] and the NEF receives
the location event notification from the AMF via Namf_EventExposure service as
defined in in clause 5.5 of 3GPP TS 29.518 [18]; and
4)based on the received AF information and local authorization policy, the NEF
shall derive the LCS client type with a suitable enumeration value for the AF
location request, to be provided as the \"externalClientType\" attribute when
invoking the Ngmlc_Location_ProvideLocation service operation as defined in
clause 6.1 of 3GPP TS 29.515 [35];
Upon receipt of successful location response from the GMLC or the AMF or the
UDM, the NEF shall create or update the \"Individual Monitoring Event
Subscription\" resource and then send an HTTP POST or PUT response to the AF
as defined in clause 4.4.2.2 of 3GPP TS 29.122 [4]. Upon receipt of the
location Report from the GMLC or the AMF, the NEF shall determine the
monitoring event subscription associated with the corresponding Monitoring
Event Report as defined in clause 4.4.2.3 of 3GPP TS 29.122 [4].
In order to delete a previous active configured monitoring event subscription
at the NEF, the AF shall send an HTTP DELETE message to the NEF to the
resource \"Individual Monitoring Event Subscription\" which is received in the
response to the request that has created the monitoring events subscription
resource. The NEF shall interact with the GMLC or the AMF or the UDM to remove
the request, upon receipt of the successful response from the GMLC or the AMF
or the UDM, the NEF shall delete the active resource \"Individual Monitoring
Event Subscription\" addressed by the URI and send an HTTP response to the AF
with a \"204 No Content\" status code, or a \"200 OK\" status code including
the monitoring event report if received;
\- Based on local regulations\' requirements and operator policies, user
consent management specified in Annex V of 3GPP TS 33.501 [6] may be required
for EDGE applications to access the Nnef_EventExposure API for UE\'s location
retrieval. When it is the case and the NEF is used by the Edge Enabler Layer
entities to access 3GPP 5GC services, the NEF acts as the consent enforcement
entity, as specified in clause 5.1.3 of 3GPP TS 33.558 [56];
> When user consent management shall be carried out for EDGE applications,
> then:
1)if the AF (e.g. Edge Enabler Server) does not support the
\"UserConsentRevocation\" feature or does not indicate its support for this
feature in the HTTP POST request to create a new \"Individual Monitoring Event
Subscription\" resource with the \"monitoringType\" attribute set to
\"LOCATION_REPORTING\", the NEF shall reject the request and respond to the AF
with an HTTP \"403 Forbidden\" status code with the response body including a
ProblemDetails data structure containing the
\"CONSENT_REVOCATION_NOT_SUPPORTED\" application error within the \"cause\"
attribute;
2)if the AF indicates its support for the \"UserConsentRevocation\" feature in
the HTTP POST request to create a new \"Individual Monitoring Event
Subscription\" resource with the \"monitoringType\" attribute set to
\"LOCATION_REPORTING\", the NEF shall check user consent for the targeted
UE(s) by retrieving the user consent subscription data via the Nudm_SDM
service API of the UDM as specified in clause 5.2.2.2.24 of 3GPP TS 29.503
[17], subscribe to user consent revocation notifications only for those UE(s)
for which user consent is granted also using the Nudm_SDM service API of the
UDM and accept the request for the creation of the event monitoring
subscription only for the UE(s) for which user consent is granted;
3)if user consent is not granted for all the targeted UE(s), the NEF shall
reject the request and respond to the AF with an HTTP \"403 Forbidden\" status
code with the response body including a ProblemDetails data structure
including the \"USER_CONSENT_NOT_GRANTED\" application error within the
\"cause\" attribute;
4)the AF shall provide within the HTTP POST request to create a new event
monitoring subscription the URI via which it desires to receive user consent
revocation notifications within the \"revocationNotifUri\" attribute. The AF
may update this URI in subsequent HTTP PUT/PATCH requests to update/modify the
corresponding \"Individual Monitoring Event Subscription\" resource;
5)when becoming aware of user consent revocation for one or several UE(s), the
NEF shall:
A)stop processing the data related to the concerned UE(s);
B)send a user consent revocation notification to the AF by sending an HTTP
POST request with the request body including the ConsentRevocNotif data
structure that shall contain the user consent revocation information (e.g.
UE(s) for which user consent was revoked, etc.); and
C)remove the concerned UE(s) from the corresponding \"Individual Monitoring
Event Subscription\" resource and from the related subscriptions at the GMLC,
if any; and
D)unsubscribe from user consent revocation notifications for the concerned
UE(s) at the UDM;
and
6)at the reception of the user consent revocation notification from the NEF,
the AF shall take the necessary actions to stop processing the data related to
the UE(s) for which user consent was revoked;
\- if user consent is revoked for all the UE(s), the AF shall delete the
corresponding \"Individual Monitoring Event Subscription\" resource as
specified above in this clause.
\- if the \"NSAC\" feature defined in clause 5.3.4 of 3GPP TS 29.122 [4] is
supported, in order to support network slice status reporting:
1) the AF shall send an HTTP POST request to the NEF to the \"Monitoring Event
Subscriptions\" resource to create a subscription, as defined in clause
5.3.3.2.3.4 of 3GPP TS 29.122 [4], or send an HTTP PUT message to the NEF to
the \"Individual Monitoring Event Subscription\" resource to update an
existing subscription, as defined in clause 5.3.3.3.3.2 of 3GPP TS 29.122 [4],
with the following differences:
A) within the MonitoringEventSubscription data structure:
a) either the concerned network slice identified by the \"snssai\" attribute,
in the case of a trusted AF, or the AF service identifier within the
\"afServiceId\" attribute, in the case of an untrusted AF, shall be provided;
b) the value of the \"monitoringType\" attribute shall be set to
\"NUM_OF_REGD_UES\" to indicate that the AF requests to be notified of the
current number of registered UEs for the network slice, or
\"NUM_OF_ESTD_PDU_SESSIONS\" to indicate that the AF requests to be notified
of the current number of established PDU Sessions for the network slice;
c) the \"maximumNumberOfReports\" attribute set to a value of 1 shall be
provided, if one-time reporting of the current network slice status
information is requested;
d) if one-time reporting is not requested, either a targeted reporting
threshold within the \"tgtNsThreshold\" attribute (if threshold-based
reporting is requested) or a reporting periodicity within the \"repPeriod\"
attribute (if periodic reporting is requested) shall be provided;
e) if periodic reporting or one-time reporting is requested, the
\"nsRepFormat\" attribute shall be provided to indicate the requested
reporting format (i.e. numerical or percentage); and
f) the \"immediateRep\" attribute shall be set to \"true\", if immediate
reporting of the current network slice status information is requested or one-
time reporting of the current network slice status information is requested;
2) the NEF shall then further interact with the concerned NSACF(s) to create
or update the associated subscription(s) to notifications by invoking the
Nnsacf_SliceEventExposure_Subscribe service operation as specified in 3GPP TS
29.536 [47];
> If an AF service identifier was provided by the AF (case of an untrusted
> AF), the NEF shall translate it into the corresponding S-NSSAI prior to
> sending the request(s) to the NSACF(s).
NOTE 1: There can be a single or multiple NSACF(s) deployed in a network as
specified in clause 5.15.11 of 3GPP TS 23.501 [3]. Whether the NEF needs to
interact with one or multiple NSACF(s) to establish and manage network slice
status reporting depends on the deployed NSAC architecture option (cf. clause
5.15.11 of 3GPP TS 23.501 [3]).
NOTE 2: If multiple NSACFs need to be contacted by the NEF to establish and
manage network slice status reporting for the requested S-NSSAI, the NEF can
set the event reporting type to periodic in its request to these NSACFs,
irrespective of the requested reporting type by the AF (i.e. threshold based
reporting or periodic reporting).
> After receiving a successful response from the NSACF(s), the NEF shall:
A) for the HTTP POST request, respond to the AF as defined in clause
5.3.3.2.3.4 of 3GPP TS 29.122 [4] with either;
a) a \"201 Created\" status code and the response body containing the created
\"Individual Monitoring Event Subscription\" resource within the
MonitoringEventSubscription data structure. The NEF shall include the current
network slice status information received from the NSACF within the
\"monitoringEventReport\" attribute, if available and the \"immediateRep\"
attribute was provided and set to \"true\" in the request; or
b) a \"200 OK\" status code and the response body containing the current
network slice status information received from the NSACF within the
\"MonitoringEventReport\" data structure, if it is a one-time reporting
request with the \"immediateRep\" attribute set to \"true\"; and
B) for the HTTP PUT request, respond to the AF with a \"200 OK\" status code
as defined in clause 5.3.3.3.3.2 of 3GPP TS 29.122 [4] and the response body
including the MonitoringEventSubscription data structure containing a
representation of the updated \"Individual Monitoring Event Subscription\"
resource. The NEF shall include the current network slice status information
received from the NSACF within the \"monitoringEventReport\" attribute, if
available and the \"immediateRep\" attribute was provided and set to \"true\"
in the request;
NOTE 3: When the \"maximumNumberOfReports\" attribute is provided and set to a
value of 1 and the \"immediateRep\" attribute is provided and set to \"true\",
the \"Individual Monitoring Event Subscription\" is immediately terminated
after returning the current network slice status information in the HTTP POST
response body.
NOTE 4: After sending a subscription creation request for network slice status
reporting with a particular reporting format (e.g. percentage) for periodic
reporting, an AF cannot send a subsequent subscription creation request for
the same network slice with a different reporting format (e.g. numerical) for
periodic reporting.
3) when the NEF receives event report(s) from the NSACF(s) as defined in 3GPP
TS 29.536 [47], the NEF shall notify the AF via an HTTP POST message as
defined in clause 5.3.3A.2.3 of 3GPP TS 29.122 [4] with the following
differences:
A) within the MonitoringEventReport data type of the MonitoringNotification
data type;
a) the value of the \"monitoringType\" attribute shall be set to
\"NUM_OF_REGD_UES\" or \"NUM_OF_ESTD_PDU_SESSIONS\" (i.e. the same value
received during the HTTP POST or PUT request that created or modified the
subscription);
b) the AF service identifier to which the notification is related, within the
\"afServiceId\" attribute, if it was provided by the AF in the related
subscription request; and
c) the current network slice status information as the \"nSStatusInfo\"
attribute shall be provided, wherein:
i) if the event reporting is threshold based (i.e. the \"tgtNsThreshold\" was
provided within the MonitoringEventSubscription data type), the
\"nSStatusInfo\" attribute shall contain a confirmation for reaching the
targeted threshold value, i.e. by sending the current number of registered
UEs, or if \"eNSAC\" feature is also supported, the current number of UEs with
at least one PDU session/PDN connection, or the current number of established
PDU Sessions, for the network slice identified by the \"snssai\" attribute
provided during the subscription creation/update; and
ii) if the event reporting is periodical (i.e. the \"repPeriod\" was provided
within the MonitoringEventSubscription data type), the \"nSStatusInfo\"
attribute shall provide the current network slice status information, i.e. the
current number of registered UEs, or if \"eNSAC\" feature is also supported,
the current number of UEs with at least one PDU session/PDN connection, or the
current number of established PDU Sessions for the network slice identified by
the \"snssai\" attribute provided during the subscription creation/update; and
NOTE 5: The handling of threshold-based notifications is described in clause
4.15.3.2.10 of 3GPP TS 23.502 [2].
NOTE 6: If the NEF interacts with multiple NSACFs for the requested S-NSSAI,
the NEF performs the aggregation of the received network slice status reports
from all these NSACFs and determines based on that whether a notification
towards the subscribing AF needs to be sent or not (i.e. the reporting
conditions to trigger a notification towards the AF are fulfilled or not).
4) in order to unsubscribe from network slice status reporting, the AF shall
send an HTTP DELETE message to the NEF to the resource \"Individual Monitoring
Event Subscription\" as defined in clause 5.3.3.3.3.5 of 3GPP TS 29.122 [4] to
delete an existing network slice reporting subscription. Then the NEF shall
interact with the NSACF to delete the associated subscription to notifications
by invoking the Nnsacf_SliceEventExposure_Unsubscribe service operation as
specified in 3GPP TS 29.536 [47];
\- if the \"enNB1_5G\" feature as defined in clause 5.3.4 of 3GPP TS 29.122
[4] is supported, the AF may require immediate reporting of the subscribed
event(s) current available information with the \"immediateRep\" attribute set
to \"true\", then if the NEF receives the current subscribed available
event(s), shall include the \"monitoringEventReport\" attribute within the
MonitoringEventSubscription data type in the subscription response;
\- if the \"UEId_retrieval\" feature defined in clause 5.3.4 of 3GPP TS 29.122
[4] is supported, in order to support AF specific UE ID retrieval:
1) the AF may request AF specific UE ID retrieval for an individual UE, by
providing the UE\'s IP address in the \"ueIpAddr\" attribute or the UE\'s MAC
address in the \"ueMacAddr\" attribute within the MonitoringEventSubscription
data type;
2) the AF may also provide the DNN, within the \"dnn\" attribute, and/or the
S-NSSAI, within the \"snssai\" attribute, in the MonitoringEventSubscription
data type;
3) upon reception of the corresponding subscription request message from the
AF, the NEF shall check whether the AF is authorized to perform this operation
or not:
\- if the AF\'s request for AF specific UE ID retrieval is not authorized, the
NEF shall respond to the AF with a \"403 Forbidden\" status code with the
response body including the ProblemDetails data structure containing the
\"cause\" attribute set to the \"REQUEST_NOT_AUTHORIZED\" application error
indicating AF authorisation failure; and
\- if the AF request is for AF specific UE ID retrieval authorized by the NEF,
then if the DNN and/or S-NSSAI information is not available in the request,
the NEF shall determine the corresponding DNN and/or S-NSSAI information based
on the received requesting AF Identifier, and if provided, the MTC Provider
Information;
4) the NEF shall then interact with the BSF using the UE address and IP domain
(if the UE IPv4 address is provided), DNN and/or S-NSSAI to retrieve the
session binding information of the UE by invoking the
Nbsf_Management_Discovery service operation as described in 3GPP TS 29.521
[9];
5) if the NEF receives an error response from the BSF, the NEF shall respond
to the AF with a proper error status code. If the NEF received from the BSF an
error response including a \"ProblemDetails\" data structure with the
\"cause\" attribute indicating an application error, the NEF shall relay this
error response to the AF with a corresponding application error. If no SUPI
matching the provided UE information is returned by the BSF, the NEF shall
respond to the AF with a \"404 Not Found\" status code with the response body
including a ProblemDetails data structure containing the \"cause\" attribute
set to the \"UE_NOT_FOUND\" application error to indicate that the requested
UE address is not found;
6) upon success and a SUPI is returned by the BSF, the NEF shall then interact
with the UDM to retrieve the AF specific UE Identifier using the received SUPI
and at least one of the Application Port ID, MTC Provider Information or AF
Identifier information by invoking Nudm_SDM_Get service as described in clause
5.2.2.2 of 3GPP TS 29.503 [17];
7) upon success, the UDM responds to the NEF with an AF specific UE Identifier
represented as an External Identifier for the UE which is uniquely associated
with the MTC provider Information and/or AF Identifier. The NEF shall then
respond to the AF with the received information, i.e. the AF specific UE
Identifier represented as an External Identifier that was received from the
UDM;
8) if the NEF receives an error response from the UDM, the NEF shall respond
to the AF with a proper error status code. If the NEF received from the UDM an
error response including a \"ProblemDetails\" data structure with the
\"cause\" attribute indicating an application error, the NEF shall relay this
error response to the AF with a corresponding application error. If the UDM
indicates that the requested UE Identifier is not available in the
subscription data, the NEF shall respond to the AF with a \"404 Not Found\"
error status code with the response body including a ProblemDetails data
structure containing the \"cause\" attribute set to the
\"UE_ID_NOT_AVAILABLE\" application error to indicate that the AF specific UE
ID is not available;
NOTE 7: The case where the UE\'s IP address provided by the AF to the NEF
corresponds to an IP address that has been NATed (Network and Port Address
Translation) is not supported in this release of the specification.
\- if the \"GMEC\" feature defined in clause 5.3.4 of 3GPP TS 29.122 [4] is
supported, in order to support group status change reporting (e.g. the group
member list is updated to add new group member(s) or remove existing group
member(s)):
\- the AF shall send an HTTP POST request to the NEF targeting the
\"Monitoring Event Subscriptions\" resource as defined in clause 5.3.3.2.3.4
of 3GPP TS 29.122 [4] to request the creation of a subscription with the
following differences:
\- within the MonitoringEventSubscription data structure:
\- the external group identifier shall be provided within the
\"externalGroupId\" to identify the targeted group (e.g. 5G VN group); and
\- the value of the \"monitoringType\" attribute shall be set to
\"GROUP_MEMBER_LIST_CHANGE\" to indicate that the AF requests to be notified
of the Group Members List changes event reporting;
\- the AF may also update/modify an existing subscription to add group status
change reporting event(s) to the list of monitored event(s) or update/modify
its properties by sending and an HTTP PUT/PATCH request to the NEF targeting
the corresponding \"Individual Monitoring Event Subscription\" resource, as
defined in clause 5.3.3.3.3.2/5.3.3.3.3.3 of 3GPP TS 29.122 [4], including the
above mentioned attributes when relevant;
\- the NEF shall then further interact with the UDM to create or update the
associated subscription(s) to notifications by invoking the relevant service
operations of the Nudm_EventExposure API as specified in 3GPP TS 29.503 [17];
> Upon reception of a successful response from the UDM, the NEF shall respond
> to the AF as defined in clause 5.3.3.2.3.4, 5.3.3.3.3.2 or 5.3.3.3.3.3 of
> 3GPP TS 29.122 [4];
\- when the NEF receives Group Members List changes event report(s) from the
UDM as defined in 3GPP TS 29.503 [17], the NEF shall notify the AF by sending
an HTTP POST request message as defined in clause 5.3.3A.2.3 of 3GPP TS 29.122
[4] with the following differences:
\- within an array element of the \"monitoringEventReports\" attribute
(encoded via the MonitoringEventReport data structure) of the
MonitoringNotification data type:
\- the \"monitoringType\" attribute shall be set to
\"GROUP_MEMBER_LIST_CHANGE\" (i.e. the same value received during the HTTP
POST or PUT/PATCH request that created or updated/modified the subscription);
and
\- the information on the change(s) to the group member list shall be provided
within the \"groupMembListChanges\" attribute;
and,
\- in order to unsubscribe from group status events reporting;
\- if the AF subscribed to other monitoring event(s) in addition to group
status change reporting event(s), the AF shall update/modify the corresponding
subscription to remove the group status change reporting event(s) from the
list of monitoring event(s);
\- if the AF subscribed only to group status change reporting event(s) or the
AF desires to unsubscribe from all the monitoring event(s) that it has
subscribed to via this monitoring event subscription, then:
\- the AF shall send an HTTP DELETE request message to the NEF targeting the
corresponding \"Individual Monitoring Event Subscription\" resource, as
defined in clause 5.3.3.3.3.5 of 3GPP TS 29.122 [4], to request the deletion
of the related existing subscription;
\- for the group status change reporting event(s), the NEF shall then interact
with the UDM to request the deletion of the associated subscription(s) by
invoking the relevant service operation of the Nudm_EventExposure API as
specified in 3GPP TS 29.503 [17]; and
\- upon reception of a successful response from the UDM, the NEF shall delete
the targeted subscription and respond to the AF as defined in clause
5.3.3.3.3.5 of 3GPP TS 29.122 [4];
and,
\- if the \"AppDetection_5G\" feature defined in clause 5.3.4 of 3GPP TS
29.122 [4] is supported, in order to support AF request for Application
traffic detection (Start/Stop) monitoring event notification, the AF shall
send an HTTP POST request to the NEF targeting the \"Monitoring Event
Subscriptions\" resource as defined in clause 5.3.3.2.3.4 of 3GPP TS 29.122
[4] to request the creation of a subscription with the following differences:
1) targeting any UE application traffic associated with S-NSSAI indicated by
\"snssai\" attribute and DNN indicated by \"dnn\" attribute for an
application(s) identified by \"extAppIds\" in the MonitoringEventSubscription
data type for the monitoring type provided \"APPLICATION_START\" and/or
\"APPLICATION_STOP\";
2) upon reception of the corresponding subscription request message from the
AF, the NEF shall check whether the AF is authorized to perform this operation
or not:
\- if the AF\'s request for Application detection is not authorized, the NEF
shall respond to the AF with a \"403 Forbidden\" status code with the response
body including the ProblemDetails data structure containing the \"cause\"
attribute set to the \"REQUEST_NOT_AUTHORIZED\" application error indicating
AF authorisation failure;
3) upon successful AF authorization, the NEF shall subscribe for the
Application traffic detection (start/stop) event with the individual PCF
(local configured by NEF for the AF authorized DNN/S-NSSAI) using the
Npcf_EventExposure_Subscribe service as described in clause 4.2.2.2 of 3GPP TS
29.523 [22]; and
4) when the NEF receives an event notification from the PCF via
Npcf_EventExposure service as described in clause 4.2.4 of 3GPP TS 29.523 [22]
indicating that the subscribed event has been detected, then the NEF shall
provide a notification by sending an HTTP POST message to the AF.
### 4.4.3 Procedures for Device Triggering
The procedures for device triggering as described in clause 4.4.6 of 3GPP TS
29.122 [4] shall be applicable in 5G with the following differences:
\- description of the SCS/AS applies to the AF;
\- description of the SCEF applies to the NEF;
\- description of the HSS applies to the UDM;
\- the NEF shall interact with the UDM by using the
Nudm_SubscriberDataManagement service and the Nudm_UEContextManagement service
as defined in 3GPP TS 29.503 [17]; and
\- the NEF acts as MTC-IWF.
### 4.4.4 Procedures for resource management of Background Data Transfer
The procedures for resource management of Background Data Transfer (BDT) in
5GS are described in clause 4.4.3 of 3GPP TS 29.122 [4] with the following
differences:
\- description of the SCS/AS applies to the AF;
\- description of the SCEF applies to the NEF;
\- If the feature Group_Id is supported, an external group identifier may be
included in the HTTP POST or PUT request message by the NEF. If the external
group Id is sent from the AF to the NEF, the NEF shall interact with the UDM
by using Nudm_SubscriberDataManagement service as defined in 3GPP TS 29.503
[17] to translate the external group identifier into the corresponding
internal group identifier;
\- description of the PCRF applies to the PCF;
\- the NEF shall interact with the PCF by using Npcf_BDTPolicyControl service
as defined in 3GPP TS 29.554 [19];
NOTE: When the AF sends a PUT request to the NEF to update BDT negotiation
data different from selecting a transfer policy and/or toggling BDT warning
notifications, the NEF can delete the existing resource and create a new one
with the required values at the PCF using the Npcf_BDTPolicyControl service.
When the AF contacts NEF to select a transfer policy and/or to enable/disable
BDT warning notifications, the NEF will initiate a PATCH request for BDT
negotiation data on Npcf_BDTPolicyControl service.
\- if the \"BdtNotification_5G\" feature is supported, the AF may include a
notification URI within the \"notificationDestination\" attribute in the Bdt
data type during the background data transfer policy negotiation. In addition,
the AF may request to enable the BDT warning notification by setting the
\"warnNotifEnabled\" attribute to true. When the NEF receives the BDT warning
notification from the PCF as defined in clause 4.2.4.2 of 3GPP TS 29.554 [19]
and the \"warnNotifEnabled\" attribute was set to true, the NEF shall send an
HTTP POST message including the ExNotification data structure to the AF
identified by the notification destination URI received during the background
data transfer policy negotiation. The AF shall respond with an HTTP response
to confirm the received notification. The AF may select one policy from the
candidate of BDT policies if provided in the notification by using the HTTP
PATCH message as described in clause 5.4.3.3.3.3 of 3GPP TS 29.122 [4]. If the
selected policy is set to value \"0\" within the \"selectedPolicy\" attribute
in the HTTP PATCH message, it implies no transfer policy is selected by the
AF. The AF may also request to disable/enable the BDT warning notification by
including the \"warnNotifEnabled\" attribute in the HTTP PATCH message; and
\- The AF may include a traffic descriptor of background data within the
\"trafficDes\" attribute in the Bdt data type during the background data
transfer policy negotiation.
\- if the \"AspId_5G\" feature is supported, the AF may include an ASP
Identifier within the \"aspId\" attribute in the Bdt data type. If the
\"aspId\" attribute is included, the NEF shall not map the AF Identifier to
ASP Identifier.
### 4.4.5 Procedures for CP Parameters Provisioning
The procedures for CP parameters provisioning as described in clause 4.4.9 of
3GPP TS 29.122 [4] shall be applicable in 5G with the following differences:
\- description of the SCS/AS applies to the AF;
\- description of the SCEF applies to the NEF;
\- description of the HSS applies to the UDM;
\- the NEF shall interact with the UDM by using Nudm_ParameterProvision
service as defined in 3GPP TS 29.503 [17];
\- if the ExpectedUMT_5G feature as defined in clause 5.10.4 of 3GPP TS 29.122
[4] is supported, the expected UE moving trajectory within the
\"expectedUmts\" attribute shall also be included in the HTTP POST/PUT
request. In addition, if the ExpectedUmtTime_5G feature as defined in clause
5.10.4 of 3GPP TS 29.122 [4] is supported, the start time and duration may be
provided in the \"expectedUmts\" attribute to indicate when the UE arrives at
a location and how long the UE stays in the location and the periodicity in
the \"expectedUmtDays\" attribute may be provided to indicate the effective
days within a week;
\- if the \"AppExpUeBehaviour\" feature as defined in clause 5.10.4 of 3GPP TS
29.122 [4] is supported, the Application-Specific Expected UE Behaviour
parameters within the \"appExpUeBehvs\" attribute may also be included in the
HTTP POST/PUT request; and
\- if the \"UEId_retrieval\" feature defined in clause 5.10.4 of 3GPP TS
29.122 [4] is supported, in order to support the AF specific UE ID retrieval:
1) the AF may request AF specific UE ID retrieval for an individual UE, by
providing the UE\'s IP address in the \"ueIpAddr\" attribute or the UE\'s MAC
address in the \"ueMacAddr\" attribute within the CpInfo data type;
2) the AF may also provide the DNN, within the \"dnn\" attribute, and/or the
S-NSSAI, within the \"snssai\" attribute, within the CpInfo data type;
3) upon reception of the corresponding request message from the AF:
\- if the AF\'s request for AF specific UE ID retrieval is not authorized, the
NEF shall respond to the AF with a \"403 Forbidden\" status code with the
response body including the ProblemDetails data structure containing the
\"cause\" attribute set to the \"REQUEST_NOT_AUTHORIZED\" application error
indicating AF authorisation failure; and
\- if the AF\'s request for AF specific UE ID retrieval is authorized by the
NEF, then if the DNN and/or S-NSSAI information is not available in the
request, the NEF shall determine the corresponding DNN and/or S-NSSAI
information based on the received requesting AF Identifier, and if provided,
the MTC Provider Information;
4) the NEF shall interact using the the BSF with UE address and IP domain (if
the UE IPv4 address is provided), DNN and/or S-NSSAI to retrieve the session
binding information of the UE by invoking the Nbsf_Management_Discovery
service operation as described in 3GPP TS 29.521 [9];
5) if the NEF receives an error response from the BSF, the NEF shall respond
to the AF with a proper error status code. If the NEF received from the BSF an
error response including a \"ProblemDetails\" data structure with the
\"cause\" attribute indicating an application error, the NEF shall relay this
error response to the AF with a corresponding application error. If no SUPI
matching the provided UE information is returned by the BSF, the NEF shall
respond to the AF with a \"404 Not Found\" status code with the response body
including a ProblemDetails data structure containing the \"cause\" attribute
set to the \"UE_NOT_FOUND\" application error to indicate that the requested
UE address is not found;
6) upon success and a SUPI is returned by the BSF, the NEF shall interact with
the UDM to retrieve the AF specific UE Identifier using the received SUPI and
at least one of the Application Port ID, MTC Provider Information or AF
Identifier information by invoking Nudm_SDM_Get service as described in clause
5.2.2.2 of 3GPP TS 29.503 [17];
7) upon success, the UDM responds to the NEF with the AF specific UE
Identifier represented as an External Identifier for the UE which is uniquely
associated with the MTC provider Information and/or AF Identifier. The NEF
shall then respond to the AF with the received information, i.e. the AF
specific UE Identifier represented as an External Identifier that was received
from the UDM;
8) if the NEF receives an error response from the UDM, the NEF shall respond
to the AF with a proper error status code. If the NEF received from the UDM an
error response including a \"ProblemDetails\" data structure with the
\"cause\" attribute indicating an application error, the NEF shall relay this
error response to the AF with a corresponding application error. If the UDM
indicates that the requested UE Identifier is not available in the
subscription data, the NEF shall respond to the AF with a \"404 Not Found\"
error status code with the response body including a ProblemDetails data
structure containing the \"cause\" attribute set to the
\"UE_ID_NOT_AVAILABLE\" application error to indicate that the AF specific UE
ID is not available.
NOTE: The case where UE\'s IP address provided by the AF to the NEF
corresponds to an IP address that has been NATed (Network and Port Address
Translation) is not supported in this release of the specification.
### 4.4.6 Procedures for PFD Management
The procedures for PFD management as described in clause 4.4.10 of 3GPP TS
29.122 [4] shall be applicable for 5GS with the following differences:
\- description of the SCS/AS applies to the AF;
\- description of the SCEF applies to the NEF; and
\- the NEF (PFDF) shall interact with the UDR for PFD management by using
Nudr_DataRepository service as defined in 3GPP TS 29.504 [20]. The PFDF is
functionality within the NEF.
\- The NEF (PFDF) may interact with the NWDAF to retrieve the PFD
Determination analytics to assist the determination of PFDs for known
application identifiers by using Nnwdaf_EventsSubscription service or
Nnwdaf_AnalyticsInfo service as defined in 3GPP TS 29.520 [27].
\- If the PFDs are provisioned to at least one of the subscribed SMFs (but not
all) within the allowed delay, the NEF (PFDF) may notify the AF about the
failed PFD provisioning with the HTTP POST message by including the PfdReport
data structure in the body of the message. In addition, the NEF may include
the location area(s) of the user plane(s) which are unable to enforce the
provisioned PFD(s) within the \"locationArea\" attribute of the PFD report(s).
If the PFDs are provisioned to none of the subscribed SMFs within the allowed
delay, the NEF (PFDF) shall notify the AF about the failed PFD provisioning
with the HTTP POST message using appropriate failure code as defined in Table
5.11.2.2.3-1 of 3GPP TS 29.122 [4].
NOTE 1: Unsuccessful PFDs provisioning to the subscribed SMFs within the
allowed delay means that the PFDs are not provisioned successfully to the UPFs
served by the failed SMFs.
NOTE 2: The NEF maps the 3GPP network area(s) to the geographic area(s), civic
address(es) or DNAI(s) if the 3GPP network area(s) is not allowed to be
exposed to the 3rd party according to the operator policy.
### 4.4.7 Procedures for Traffic Influence
#### 4.4.7.1 General
In order to create a resource for the Traffic Influence to provide the
information of application function influence on traffic routing and/or N6-LAN
service function chaining(s), the AF shall send an HTTP POST message to the
NEF to the resource \"Traffic Influence Subscription\", the body of the HTTP
POST message may include the AF Service Identifier, external Group Identifier,
any UE Indication, the UE address, GPSI, DNN, S-NSSAI, Application Identifier
or traffic filtering information, Subscribed Event, Notification destination
address, a list of geographical areas(s), AF Transaction Identifier, a list of
DNAI(s), routing profile ID(s) or N6 traffic routing information, and/or
N6-LAN traffic steering information if SFC feature is supported, indication of
application relocation possibility, type of notifications, temporal validity
conditions, and if the URLLC feature is supported, indication of AF
acknowledgement to be expected and/or indication of UE IP address
preservation. If the AF_latency feature is supported, user plane latency
requirements may also be included and may support the indication of
simultaneous connectivity in the \"simConnInd\" attribute and the minimum time
interval for inactivity of traffic via source PSA in the \"simConnTerm\"
attribute. If the EASDiscovery feature is supported, the indication of the EAS
rediscovery may also be included. If the EASIPreplacement feature is
supported, EAS IP replacement information may also be included. If the EDGEAPP
feature is supported and the \"subscribedEvents\" attribute is provided, the
event reporting requirements may also be included within the \"eventReq\"
attribute. If the FinerGranUEs feature is supported, the External Subscriber
Category(ies) and one or more External Group Identifiers may also be included.
The Notification destination address shall be included if the Subscribed Event
is included in the HTTP request message.
If the feature \"CommonEASDNAI\" is supported, the AF may include the
\"tfcCorreInfo\" attribute within the \"TrafficInfluSub\" data type. Within
the \"TrafficCorrelationInfo\" data type, AF may include the \"COMMON_DNAI\"
within the \"correType\" attribute to indicate that the traffic of the set of
UEs associated with the same traffic correlation Id accessing the application
identified by an Application Identifier or traffic filtering information
should target the EAS(es) corresponding to a common DNAI from the list of
DNAI(s) or include the \"COMMON_EAS\" within the \"correType\" attribute to
indicate that the traffic of the set of UEs associated with the same traffic
correlation Id accessing the application identified by an Application
Identifier or traffic filtering information should target a common EAS. In the
case of common EAS within the \"TrafficCorrelationInfo\" data type, the AF
shall additionally include the common EAS address(es) within the
\"comEasIpv4Addr\" attribute and/or \"comEasIpv6Addr\" attribute and/or the
FQDN range corresponding to the application within the \"fqdnRange\"
attribute.
NOTE 1: Common EAS selection means the common DNAI is selected.
In order to update an existing traffic influence subscription, the AF shall
send an HTTP PUT or PATCH message to the resource \"Individual Traffic
Influence Subscription\" requesting to change the traffic influence
parameters.
In order to delete an existing traffic influence subscription, the AF shall
send an HTTP DELETE message to the NEF to the resource \"Individual Traffic
Influence Subscription\".
Upon receipt of the HTTP request from the AF, if the AF is authorized, the NEF
shall perform the mapping as described in 3GPP TS 23.501 [3], and then perform
as described in clause 4.4.7.2 if the request is identified by UE address or
perform as described in clause 4.4.7.3 if the request is not identified by UE
address.
If the EDGEAPP feature is supported and the \"subscribedEvents\" attribute is
provided in the received HTTP POST request, and immediate reporting was
requested by the AF, then user plane path management report(s) shall be
included in the HTTP POST response within the \"eventReports\" attribute, if
available. They may also be included in the HTTP PUT/PATCH response, if
available.
NOTE 2: The EAS IP Replacement information and the information indicating the
EAS rediscovery are not provided simultaneously.
#### 4.4.7.2 AF request identified by UE address
Upon receipt of the above AF request which is for an individual UE identified
by IP or Ethernet address, if the NEF supports HR-SBO scenarios, it may
determine if the HPLMN of the UE is the PLMN that the NEF belongs to.
Editor's Note: It is FFS how the NEF determines the HPLMN of the UE depending
on the received UE Address information.
If the derived HPLMN is the PLMN that the NEF belongs to, the procedure in
this clause applies. Otherwise, the procedure described in clause 4.4.7.5
shall be performed instead.
The NEF may interact with the BSF to retrieve the related PCF information by
invoking the Nbsf_Management_Discovery service operation as described in 3GPP
TS 29.521 [9]. If the NEF receives an error response from the BSF, the NEF
shall not create the resource and shall respond to the AF with a proper error
status code. If the NEF received within an error response a \"ProblemDetails\"
data structure with a \"cause\" attribute indicating an application error, the
NEF shall relay this error response to the AF with a corresponding application
error, when applicable.
After receiving a successful response from the BSF, the NEF shall interact
with the PCF by invoking the Npcf_PolicyAuthorization service as described in
3GPP TS 29.514 [7]. After receiving a successful response from the PCF, the
NEF shall:
\- for the HTTP POST request, create a resource \"Individual Traffic Influence
Subscription\" which represents the traffic influence subscription, addressed
by a URI that contains the AF Identifier and an NEF-created subscription
identifier, and shall respond to the AF with a 201 Created status code,
including a Location header field containing the URI for the created resource.
The AF shall use the URI received in the Location header in subsequent
requests to the NEF to refer to this traffic influence subscription:
\- for the HTTP PUT or PATCH request, update a resource \"Individual Traffic
Influence Subscription\" which represents the traffic influence subscription,
and shall responds to the AF with a 200 OK status code with the
\"TrafficInfluSub\" data structure as response body containing the
representation of the modified \"Individual Traffic Influence Subscription\",
or an HTTP \"204 No Content\" response; and
\- for the HTTP DELETE request, remove all properties of the resource and
delete the corresponding active resource \"Individual Traffic Influence
Subscription\" which represents the traffic influence subscription, then shall
responds to the AF with a 204 No Content status code. If the NEF received
within an error response a \"ProblemDetails\" data structure with a \"cause\"
attribute indicating an application error, the NEF shall relay this error
response to the AF with a corresponding application error, when applicable.
If the NEF receives a response with an error code from the PCF, the NEF shall
not create, update or delete the resource and shall respond to the AF with a
proper error status code.
#### 4.4.7.3 AF request not identified by UE address
For AF request not identified by UE address, it may target an individual UE,
one or more groups of UEs or any UE.
If HR-SBO scenarios are supported by the NEF, it may determine if the HPLMN of
the targeted UE(s) is the PLMN that the NEF belongs to.
Editor's Note: It is FFS how the NEF determines the HPLMN of the UE depending
on the received UE Address information.
If the derived HPLMN is the PLMN that the NEF belongs to, the procedure in
this clause applies. Otherwise, the procedure described in clause 4.4.7.5
shall be performed instead.
For an individual UE identified by GPSI, or one or more groups of UEs
identified by External Group Identifier, the NEF shall interact with the UDM
by invoking the Nudm_SubscriberDataManagement service as described in 3GPP TS
29.503 [17] to retrieve the SUPI or Internal Group Identifier.
When the feature FinerGranUEs is supported, the NEF may map the External
Subscriber Category(ies) and any UE indicator, or External Subscriber
Category(ies) and External Group Identifier(s) to Internal Group Identifier(s)
or Internal Group Identifier(s) and Subscriber Category(ies).
NOTE: As a user can be associated with multiple Subscriber Category(ies), some
values of Subscriber Category(ies) can correspond to an SLA between an
application provider represented by an AF and the 5GC operator. The
combination of application identifier and External Subscriber Category can
also be used to refer to this SLA.
The NEF shall interact with the UDR to store the traffic influence parameters
received from the AF, updated as required and mapped as applicable by invoking
the Nudr_DataRepository service as described in 3GPP TS 29.504 [20] and 3GPP
TS 29.519 [23]. If the NEF receives an error response from the UDR, the NEF
shall not create, update or delete the resource and shall respond to the AF
with a proper error status code. If the NEF received within an error response
a \"ProblemDetails\" data structure with a \"cause\" attribute indicating an
application error, the NEF shall relay this error response to the AF with a
corresponding application error, when applicable.
After receiving a successful response from the UDR, the NEF shall:
\- for the HTTP POST request, create a resource \"Individual Traffic Influence
Subscription\" which represents the traffic influence subscription, addressed
by a URI that contains the AF Identifier and an NEF-created subscription
identifier, and shall respond to the AF with a 201 Created status code,
including a Location header field containing the URI for the created resource.
The AF shall use the URI received in the Location header in subsequent
requests to the NEF to refer to this traffic influence subscription;
\- for the HTTP PUT or PATCH request, update a resource \"Individual Traffic
Influence Subscription\" which represents the traffic influence subscription,
and shall responds to the AF with a 200 OK status code with the
\"TrafficInfluSub\" data structure as response body containing the
representation of the modified \"Individual Traffic Influence Subscription\",
or an HTTP \"204 No Content\" response; and
\- for the HTTP DELETE request, delete the corresponding active resource
\"Individual Traffic Influence Subscription\" which represents the traffic
influence subscription, and shall responds to the AF with a 204 No Content
status code.
#### 4.4.7.4 Handling of UP path management event notification
If the NEF receives a UP path management event notification from the SMF
indicating that the subscribed event has been detected, then the NEF shall
provide a notification by sending an HTTP POST message that shall include the
EventNotification data type at least with the subscribed event (e.g. UP Path
has changed) to the AF identified by the notification destination received
during creation or modification of the Individual Traffic Influence
Subscription resource and, optionally, by the AF Transaction Identifier
received during the creation of the Individual Traffic Influence Subscription
resource. If a URI for AF acknowledgement within the \"ackUri\" attribute is
provided by the SMF in the event notification as defined in 3GPP TS 29.508
[26], the NEF shall also provide a URI for AF acknowledgement within the
\"afAckUri\" attribute in the EventNotification data.
Upon receipt of the event notification, the AF shall respond with a \"204 No
Content\" status code to confirm the received event notification.
Afterwards, if a URI for AF acknowledgement within the \"afAckUri\" attribute
is received during the UP path management event notification, the AF may
determine that an application layer relocation is needed, and may then send an
HTTP POST request as acknowledgement for the UP path management event
notification to inform the NEF about the result of application layer
relocation. If the application layer is ready and/or the application
relocation is completed, within the payload of the HTTP POST request, the AF
shall include the AfAckInfo data type with the \"afStatus\" attribute set to
\"SUCCESS\" and may provide within the AfResultInfo data the N6 traffic
routing information associated to the target DNAI as \"trafficRoute\"
attribute and, if the \"ULBuffering\" feature is supported, an indication that
buffering of uplink traffic to the target DNAI is needed as \"upBuffInd\"
attribute and, if the \"EASIPreplacement\" feature is supported, EAS IP
replacement information as \"easIpReplaceInfos\" attribute; otherwise, the AF
shall indicate the failure by including the AfAckInfo data type in the payload
with the \"afStatus\" attribute sets to the corresponding failure cause. The
NEF Northbound interface transaction identifier generated by the AF shall also
be provided as the \"afTransId\" attribute within the AfAckInfo data if the AF
has previously provided it.
Upon receipt of the AF acknowledgement, the NEF shall respond with a \"204 No
Content\" status code to confirm the received acknowledgement, and forward the
AF acknowledgement to the SMF as described in 3GPP TS 29.508 [26].
#### 4.4.7.5 Processing AF requests to influence traffic routing and/or
service function chaining for HR-SBO session
If HR-SBO scenarios are supported by the NEF and upon receiving the AF request
it determines that the derived PLMN as described in clause 4.4.7.2 and clause
4.4.7.3 does not correspond to the PLMN that the NEF belongs to the following
applies.
The NEF shall derive the information to be stored in the UDR.
Editor's Note: It is FFS how the NEF derives the required UE identity
information to be stored in the UDR.
After having performed the necessary mappings as described above, the NEF
shall interact with the UDR to store the traffic influence parameters.
### 4.4.8 Procedures for changing the chargeable party at session set up or
during the session
The procedures for changing the chargeable party at session set up or during
the session in 5GS are described in clause 4.4.4 of 3GPP TS 29.122 [4] with
the following differences:
\- description of the SCS/AS applies to the AF;
\- description of the SCEF applies to the NEF;
\- description of the PCRF applies to the PCF;
\- in the HTTP POST request, the AF may include the AF session subscribed
\"dnn\" attribute and/or \"snssai\" attribute;
\- if the EthChgParty_5G feature as defined in clause 5.5.4 of 3GPP TS 29.122
[4] is supported and the request is for Ethernet UE:
\- in the HTTP POST request, the AF shall include the UE MAC address within
the \"macAddr\" attribute instead of the UE IP address, If the AppId feature
is not supported,the AF shall include the Ethernet Flow description within the
\"ethFlowInfo\" attribute instead of the IP Flow description; otherwise, the
AF shall include either the External Application Identifier within the
\"exterAppId\" attribute or the Ethernet Flow description within the
\"ethFlowInfo\" attribute;
\- in the HTTP PATCH request, the AF may update the Ethernet Flow description
within the \"ethFlowInfo\" attribute or the External Application Identifier
within the \"exterAppId\" attribute;
\- the NEF may interact with BSF by using Nbsf_Management_Discovery service
(as defined in 3GPP TS 29.521 [9]) to retrieve the PCF address; and
\- the NEF shall interact with the PCF by using Npcf_PolicyAuthorization
service as defined in 3GPP TS 29.514 [7].
\- if the ToSTC_5G feature as defined in clause 5.5.4 of 3GPP TS 29.122 [4] is
supported,
\- in the HTTP POST request, the AF may include the \"tosTC\" attribute within
the \"flowInfo\" attribute of the ChargeableParty data type.
\- in the HTTP PATCH request, the AF may include the \"tosTC\" attribute
within the \"flowInfo\" attribute of the ChargeablePartyPatch data type.
### 4.4.9 Procedures for AF required QoS
#### 4.4.9.1 General
The following procedures are used for AF required QoS in 5GS:
\- Setting up an AF session with required QoS in 5GS for target UE identified
by UE address (i.e. IP address or Mac address) as described in clause 4.4.9.2.
\- AF required QoS in 5GS for target UE not identified by UE address as
described in clause 4.4.9.3.
#### 4.4.9.2 Procedures for AF setting up an AF session with required QoS for
target UE identified by UE address
The provisions and procedures for setting up an AF session with required QoS
in 5GS targeting a UE identified by its UE address (IP address or Mac address)
are described in clause 4.4.13 of 3GPP TS 29.122 [4] with the following
differences:
\- description of the SCS/AS applies to the AF;
\- description of the SCEF applies to the NEF;
\- description of the PCRF applies to the PCF;
\- the NEF may interact with BSF by using Nbsf_Management_Discovery service as
defined in 3GPP TS 29.521 [9] to retrieve the PCF address;
\- the NEF shall interact with the PCF by using Npcf_PolicyAuthorization
service as defined in 3GPP TS 29.514 [7];
\- in the HTTP POST request, the AF may include a \"dnn\" attribute and/or a
\"snssai\" attribute; and in the HTTP PUT request, the AF shall keep the same
value(s) of the \"dnn\" attribute and/or the \"snssai\" attribute as set in
the HTTP POST request if provided;
\- description about the INDICATION_OF_SUCCESSFUL_RESOURCES_ALLOCATION event
and INDICATION_OF_FAILED_RESOURCES_ALLOCATION event apply to the
SUCCESSFUL_RESOURCES_ALLOCATION event and FAILED_RESOURCES_ALLOCATION event
respectively; In addition, description about the
INDICATION_OF_RELEASE_OF_BEARER, INDICATION_OF_LOSS_OF_BEARER and
INDICATION_OF_RECOVERY_OF_BEARER events are not applicable in this
specification.
\- if the EthAsSessionQoS_5G feature as defined in clause 5.14.4 of 3GPP TS
29.122 [4] is supported and the request is for Ethernet UE:
\- in the HTTP POST/PUT request, the AF shall include the UE MAC address
within the \"macAddr\" attribute instead of the UE IP address. If the AppId
feature is not supported, the AF shall include the Ethernet Flow description
within the \"ethFlowInfo\" attribute instead of the IP Flow description;
otherwise, the AF shall include either the External Application Identifier
within the \"exterAppId\" attribute or the Ethernet Flow description within
the \"ethFlowInfo\" attribute;
\- in the HTTP PATCH request, the AF may update the Ethernet Flow description
within the \"ethFlowInfo\" attribute or the External Application Identifier
within the \"exterAppId\" attribute;
\- if the \"ListUE_5G\" feature as defined in clause 5.14.4 of 3GPP TS 29.122
[4] is supported, the AF may include the following attributes to support the
list of UEs from AF:
\- in the HTTP POST/PUT request, the AF may include the list of UE address
within the \"listUeAddrs\" attribute instead of the UE IP/MAC address.
\- in the HTTP PATCH request, the AF may update the list of UE address within
the \"listUeAddrs\" attribute;
\- if the \"QoSMonitoring_5G\" feature as defined in clause 5.14.4 of 3GPP TS
29.122 [4] is supported, in order to support the QoS Monitoring, the AF shall
include \"qosMonInfo\" attribute. The AF shall also include the
\"directNotifInd\" attribute set to true if the \"ExposureToEAS\" and/or
\"XRM_5G\" features are supported and the direct notification is required.
Within the QosMonitoringInformation data structure, the AF shall include:
\- one or more requested QoS Monitoring Parameter(s) within the
\"reqQosMonParams\"; and
\- one or more report frequency within the \"repFreqs\" attribute; and
\- when the \"repFreqs\" attribute includes the value \"PERIODIC\", the
periodic time for reporting and, if the feature \"PacketDelayFailureReport\"
or \"XRM_5G\" is supported, the maximum period with no QoS measurement results
reported within the \"repPeriod\" attribute; and
\- when the \"repFreqs\" attribute includes the value \"EVENT_TRIGGERED\":
a. for QoS monitoring for packet delay, the AF shall include:
\- the delay threshold for downlink with the \"repThreshDl\" attribute;
\- the delay threshold for uplink with the \"repThreshUl\" attribute; and/or
\- the delay threshold for round trip with the \"repThreshRp\" attribute;
b. when the XRM_5G\" feature is supported, for QoS monitoring for data rate:
\- the data rate threshold for downlink within the \"repThreshDatRateDl\"
attribute; and/or
\- the data rate threshold for uplink within the \"repThreshDatRateUl\"
attribute;
if the feature \"XRM_5G\" is supported, for QoS monitoring for congestion
information
\- the congestion threshold for downlink with the \"conThreshDl\" attribute;
and/or
\- the congestion threshold for uplink with the \"conThreshUl\" attribute;
Editor's Note: It is FFS whether the QoS monitoring requirements for
congestion measurements are different than the ones for packet delay, i.e., it
is FFS whether reporting period and reporting frequency apply, or different
criteria needs to be applied.
c. the minimum waiting time between subsequent reports within the \"waitTime\"
attribute; and
d. if the feature \"PacketDelayFailureReport\" or \"XRM_5G\" is supported, the
maximum period with no QoS measurement results reported within the
\"repPeriod\" attribute.
> Editor's note: Whether the applicable reporting frequency for the Data Rate
> QoS monitoring can be event triggered and/or periodic is FFS.
If the feature \"XRM_5G\" is supported, and QoS monitoring control is for data
rate, may include the averaging window within the \"avrgWndw\" attribute.
If the NEF authorizes the AF request, the NEF may create a QoS monitoring
notification correlation identifier for the AF transaction during the creation
of the AF resource and may provision it together with the received QoS
monitoring parameters to the PCF by invoking the Npcf_PolicyAuthorization
service as defined in 3GPP TS 29.514 [7] or, if the \"TSC_5G\" feature is
supported, to the TSCTSF by invoking the Ntsctsf_QoSandTSCAssistance service
as defined in 3GPP TS 29.565 [50];
\- when the NEF receives the event notification for the AF transaction as
defined in clause 4.2.2 of 3GPP TS 29.508 [26] or clauses 4.2.4.12 and
4.2.5.14 of 3GPP TS 29.514 [7] or, if the \"TSC_5G\" feature is supported,
clause 5.3.2.5.7 of 3GPP TS 29.565 [50], or when the AF requested direct
notification, as defined in clause 5.2.2.3 of 3GPP TS 29.564 [61], the NEF
shall include one or more QoS monitoring reports within the \"qosMonReports\"
and/or \"qosMonDatRateReps\" and/or \"qosMonCongReps\" attribute. Within the
QosMonitoringReport data structure, the NEF shall include the received
monitored QoS information.
\- For packet delay measurements, within \"qosMonReports\":
a. one or two uplink packet delays within the \"ulDelays\" attribute; and/or
b. one or two downlink packet delays within the \"dlDelays\" attribute; and/or
c. one or two round trip packet delays within the \"rtDelays\" attribute;
\- When the feature \"XRM_5G\" is supported, for congestion information
measurements, within the \"qosMonConInfoReps\":
a. the uplink congestion information measurement(s) within the \"ulConInfo\"
attribute;and/or
b. the downlink congestion information measurement(s) within the \"dlConInfo\"
attribute; or
c. the congestion information measurement failure indicator within the
\"cimf\" attribute
\- one or two congestion information within the \"CongInfo\" attribute; or
\- when the feature \"XRM_5G\" is supported, for data rate measurements,
within \"qosMonDatRateReports\":
a. one data rate measurement for the UL within the \"ulDataRate\" attribute;
and/or
b. one data rate measurement for the DL within the \"dlDataRate\" attribute;
or
> Editor's note: Whether maximum and minimum data rate calculated during the
> waiting time period applies for Data Rate QoS monitoring is FFS.
>
> \- if the feature \"PacketDelayFailureReport\" is supported, the packet
> delay measurement failure indicator within the \"pdmf\" attribute; or
>
> Editor's Note: It is FFS whether new data type structure is needed for QoS
> monitoring control for multi-modal services.
\- if the \"XRM_5G\" feature is supported, when the NEF receives the event
notification for the AF transaction as defined in clause 4.2.2 of 3GPP TS
29.508 [26] or clause 4.2.5.14 of 3GPP TS 29.514 [7], or when the AF requested
direct notification, as defined in clause 5.2.2.3 of 3GPP TS 29.564 [61], the
NEF shall include the affected single-modal identification number and the
corresponding flows within the \"multiModFlows\" attribute.
\- if the \"AlternativeQoS_5G\" feature is supported, the AF may include an
ordered list of QoS references within the \"altQosReferences\" attribute and,
if the \"DisableUENotification_5G\" feature is also supported, an indication
that the UE does not need to be informed about changes related to Alternative
QoS Profiles within the \"disUeNotif\" attribute.
\- When the NEF interfaces directly with the PCF, the NEF shall transfer them
to the PCF in the Npcf_PolicyAuthorization service and subscribe to PCF event
\"QOS_NOTIF\" in the Npcf_PolicyAuthorization service. When the NEF receives
the notification of PCF event \"QOS_NOTIF\", it shall notify the AF with
\"QOS_GUARANTEED\" event or with \"QOS_NOT_GUARANTEED\" event and the
currently applied QoS reference if received. When the NEF receives the
notification of PCF event \"SUCCESSFUL_RESOURCES_ALLOCATION\", it shall notify
the AF the event together with the currently applied QoS reference if
received.
\- If the \"TSC_5G\" feature is supported, when the NEF interfaces with the
TSCTSF, the NEF shall transfer the received alternative QoS references to the
TSCTSF in the Ntsctsf_QoSandTSCAssistance service and subscribe with TSCTSF to
\"QOS_GUARANTEED\" and \"QOS_NOT_GUARANTEED\" events. When the NEF receives
the event notification from the TSCTSF, the NEF shall notify the AF with
\"QOS_GUARANTEED\" event or with \"QOS_NOT_GUARANTEED\" event and the
currently applied QoS reference if received. When the NEF receives the
notification of TSCTSF event \"SUCCESSFUL_RESOURCES_ALLOCATION\", it shall
notify the AF the event together with the currently applied QoS reference if
received.
If the feature \"AltQoSProfilesSupportReport\" is supported, when the NEF
receives the indication from the PCF or the TSCTSF about the support of
alternative QoS profiles, the NEF shall notify the AF forwarding the received
indication within the \"altQosNotSuppInd\" attribute.
NOTE 1: Based on the operator configuration, the QoS reference identifiers
received from the AF can be the same or different as the QoS reference
identifiers known at the PCF. The NEF can perform a mapping for the QoS
reference identifier.
\- if the \"TSC_5G\" feature is supported, the AF may include:
\- the TSC QoS requirement within the \"tscQosReq\" attribute. Within the
TscQosRequirement data structure, the AF may include:
\- the input information to construct the TSC Assistance Container within the
\"tscaiInputUl\" attribute and/or \"tscaiInputDl\"attribute, and the (g)PTP
domain that the AF is located in within the \"tscaiTimeDom\" attribute;
> NOTE 2: For the adjustment of burst sending time and adjustment of
> periodicity within the \"periodicityRange\" attribute in the UL direction
> within the \"tscaiInputUl\" attribute, it is expected that the AF interacts
> with the application in the UE or devices behind the UE based on application
> layer signaling.
\- the capability for BAT adaptation within the \"capBatAdaptation\"
attribute, if the \"EnTSCAC\" feature is also supported. The capability for
BAT adaptation and the burst arrival time window (\"burstArrivalTimeWnd\"
attribute within the \"tscaiInputUl\" attribute and/or \"tscaiInputDl\"
attribute of the \"tscQosReq\" attribute) are mutually exclusive; and
\- if individual QoS parameters instead of QoS reference is provided, may
include:
\- requested GBR within the \"reqGbrDl\" attribute and/or \"reqGbrUl\"
attribute;
\- requested MBR within the \"reqMbrDl\" attribute and/or \"reqMbrUl\"
attribute;
\- the maximum burst size within the \"maxTscBurstSize\" attribute;
\- the priority within the \"priority\" attribute;
\- the requested 5GS delay within the \"req5Gsdelay\" attribute; and
\- the requested packet error rate within the \"reqPer\" attribute, if the
\"ExtQoS_5G\" feature is also supported.
If the NEF authorizes the AF request, the NEF may provision the received QoS
requirements to the TSCTSF by invoking the
Ntsctsf_QoSandTSCAssistance_Create/Update request as defined in 3GPP TS 29.565
[50]. The NEF determines whether to invoke the TSCTSF or to directly contact
the PCF based on operator configuration. This determination may consider the
AF identifier, whether the \"tscaiInputUl\" and/or \"tscaiInputDl\" attributes
within the \"tscQosReq\" attribute were received in the subscription request,
whether the \"qosReference\" attribute or individual QoS parameters within the
\"tscQosReq\" attribute were received in the subscription request, and SLA
between operator and application provider. A TSCTSF address may be locally
configured in the NEF or the NEF uses the DNN/S-NSSAI (which may be provided
in the request or determined based on the AF identifier) to discover the
TSCTSF from the NRF. If the NEF directly contacts the PCF while the NEF
determined to invoke the TSCTSF when authorizing the update request, the NEF
shall reject the request message by sending an HTTP response to the AF with a
status code set to 403 Forbidden and may include the
\"INVALID_SESSION_UPDATE\" error in the \"cause\" attribute of the
\"ProblemDetails\" structure and indicate which parameters can not be served
in current session in the \"invalidParams\" attribute of the
\"ProblemDetails\" structure.
NOTE 3: The NEF can determine whether the TSCTSF needs to be involved based on
the DNN/S-NSSAI for the AF session according to the SLA.
If the \"EnTSCAC\" feature is supported and the NEF receives the BAT offset
information from the TSCTSF about the BAT offset and the optionally adjusted
periodicity, the NEF shall send an Event Notification to the AF with the
\"event\" attribute set to BAT_OFFSET_INFO and including the
\"ranBatOffsetNotif\" attribute and optionally the \"adjPeriod\" attribute
within the \"batOffsetInfo\" attribute.
\- if the \"AltQosWithIndParams_5G\" feature is supported, the AF may include:
\- an ordered list of alternative service requirements that include individual
QoS parameter sets within the \"altQosReqs\" attribute and, if the
\"DisableUENotification_5G\" feature is also supported, an indication that the
UE does not need to be informed about changes related to Alternative QoS
Profiles within the \"disUeNotif\" attribute. Within the
AlternativeServiceRequirementsData data structure, the AF shall include:
\- a reference to the alternative individual QoS related parameter(s) included
in this set within the \"altQosParamSetRef\" attribute; and
\- at least one of the following:
\- The guaranteed bandwidth in uplink within the \"gbrUl\" attribute and the
guaranteed bandwidth in downlink within the \"gbrDl\" attribute;
\- The requested packet delay budget within the \"pdb\" attribute;
\- The requested packet error rate within the \"per\" attribute if the
\"ExtQoS_5G\" feature is supported;
If the NEF authorizes the AF request, and if the \"TSC_5G\" feature is
supported, the NEF may provision the received QoS requirements and subscribe
with the TSCTSF to \"QOS_GUARANTEED\" and \"QOS_NOT_GUARANTEED\" events by
invoking the Ntsctsf_QoSandTSCAssistance_Create request as defined in 3GPP TS
29.565 [50]. The NEF determines whether to invoke the TSCTSF or to directly
contact the PCF based on operator configuration. This determination may
consider the AF identifier, whether the \"tscaiInputUl\" and/or
\"tscaiInputDl\" attributes within the \"tscQosReq\" attribute were received
in the subscription request, whether the \"qosReference\" attribute or
individual QoS parameters within the \"altQosReqs\" attribute were received in
the subscription request, and SLA between operator and application provider. A
TSCTSF address may be locally configured in the NEF or the NEF uses the
DNN/S-NSSAI (which may be provided in the request or determined based on the
AF identifier) to discover the TSCTSF from the NRF. When the NEF receives the
notification of TSCTSF \"QOS_GUARANTEED\" event or \"QOS_NOT_GUARANTEED\"
event, it shall notify the AF with \"QOS_GUARANTEED\" event or
\"QOS_NOT_GUARANTEED\" event with the currently applied individual QoS
parameter set within the \"appliedQosRef\" attribute if received. When the NEF
receives the notification of the TSCTSF event
\"SUCCESSFUL_RESOURCES_ALLOCATION\", it shall notify the AF the event together
with the currently applied individual QoS parameter set within the
\"appliedQosRef\" attribute if received. If the NEF directly contacts the PCF
while the NEF determined to invoke the TSCTSF when authorizing the update
request, the NEF shall reject the request message by sending an HTTP response
to the AF with a status code set to 403 Forbidden and may include the
\"INVALID_SESSION_UPDATE\" error in the \"cause\" attribute of the
\"ProblemDetails\" structure and indicate which parameters can not be served
in current session in the \"invalidParams\" attribute of the
\"ProblemDetails\" structure.
NOTE 4: The NEF can determine whether the TSCTSF needs to be involved based on
the DNN/S-NSSAI for the AF session according to the SLA.
When the NEF interfaces directly with the PCF, the NEF shall transfer the
received QoS requirements to the PCF in the Npcf_PolicyAuthorization service
and subscribe to PCF event \"QOS_NOTIF\" in the Npcf_PolicyAuthorization
service. When the NEF receives the notification of PCF event \"QOS_NOTIF\", it
shall notify the AF with \"QOS_GUARANTEED\" event or with the
\"QOS_NOT_GUARANTEED\" event and the currently applied QoS reference if
received. When the NEF receives the notification of PCF event
\"SUCCESSFUL_RESOURCES_ALLOCATION\", it shall notify the AF the event together
with the currently applied QoS reference if received.
> If the feature \"AltQoSProfilesSupportReport\" is supported, when the NEF
> receives the indication from the PCF or the TSCTSF about the support of
> alternative QoS profiles, the NEF shall notify the AF forwarding the
> received indication within the \"altQosNotSuppInd\" attribute.
\- If the \"enNB_5G\" feature is supported, the AF may additionally subscribe
the event(s) \"ACCESS_TYPE_CHANGE\" and/or \"PLMN_CHG\". If the NEF authorizes
the AF request, the NEF shall subscribe the event(s) at the PCF by invoking
the Npcf_PolicyAuthorization service operation.
\- if the ToSTC_5G feature as defined in clause 5.14.4 of 3GPP TS 29.122 [4]
is supported,
\- in the HTTP POST request, the AF may include the \"tosTC\" attribute within
the \"flowInfo\" attribute of the AsSessionWithQoSSubscription data type.
\- in the HTTP PATCH request, the AF may include the \"tosTC\" attribute
within the \"flowInfo\" attribute of the AsSessionWithQoSSubscriptionPatch
data type.
\- if the \"XRM_5G\" feature is supported, the AF may include:
\- the Multi-Modal Service ID within the \"multiModalId\" attribute.
\- the Uplink and/or Downlink Periodicity information which indicates the time
period between the start of the two data bursts in Uplink and/or Downlink
direction within the \"periodInfo\" attribute;
\- in order to support the QoS Monitoring for packet delay variation, the AF
shall include the required Packet Delay Variation monitoring information
within \"pdvMon\" attribute. The subscribed event is \"PACK_DELAY_VAR\". The
AF shall include:
a) the requested Packet Delay Variation parameter(s) to be measured (i.e. DL,
UL and/or round trip packet delay variation) within the \"reqQosMonParams\"
attribute;
b) one or more report frequency within the \"repFreqs\" attribute;
c) when the \"repFreqs\" attribute is set to the value \"EVENT_TRIGGERED\":
\- the Packet Delay Variation threshold for downlink with the \"repThreshDl\"
attribute;
\- the Packet Delay Variation threshold for uplink with the \"repThreshUl\"
attribute; and/or
\- the Packet Delay Variation threshold for round trip with the
\"repThreshRp\" attribute;
d) when the \"repFreqs\" attribute is set to the value \"PERIODIC\", the
periodic time for reporting and the maximum period with no packet delay
variance measurement within the \"repPeriod\" attribute; and
e) when the \"repFreqs\" attribute is set to the value \"EVENT_DETECTION\",
the minimum waiting time between subsequent reports within the \"waitTime\"
attribute and the maximum period with no packet delay variation within the
\"repPeriod\" attribute;
Editor\'s note: Whether to reuse or enhance the QosMonitoringInformation data
type for the \"pdvMon\" attribute is FFS, then the description here needs to
be updated accordingly.
\- when the NEF receives the notification about Packet Delay Variation event
notification from the PCF as defined in clause 4.2.5.26 of 3GPP TS 29.514 [7],
the NEF shall notify the AF with \"PACK_DELAY_VAR\" event and include the
received monitored Packet Delay Variation information within the
\"pdvMonReports\" attribute, it may include:
a) the identification of the affected service flows (if not all the flows are
affected) encoded in the \"flows\" attribute if applicable;
b) one or two uplink packet delay variation measurement(s) within the
\"ulPdv\" attribute;
c) one or two downlink packet delay variation measurement(s) within the
\"dlPdv\" attribute;
d) one or two round trip packet delay variation measurement(s) within the
\"rtPdv\" attribute;
\- the required round-trip delay for multiple QoS flows with:
a) one or more report frequency within the \"repFreqs\" attribute;
b) the requested threshold of round-trip delay measurements for multiple QoS
flows within the \"repThreshRp\" attribute;
c) when the \"repFreqs\" attribute is set to the value \"PERIODIC\", the
periodic time for reporting and the maximum period with no round-trip delay
for multiple QoS flows within the \"repPeriod\" attribute; and
d) when the \"repFreqs\" attribute is set to the value \"EVENT_DETECTION\",
the minimum waiting time between subsequent reports within the \"waitTime\"
attribute and the maximum period with no round-trip delay for multiple QoS
flows within the \"repPeriod\" attribute;
\- when the NEF receives the notification about round-trip delay for multiple
QoS flows event notification from the PCF as defined in clause 4.2.5.28 of
3GPP TS 29.514 [7], the NEF shall notify the AF with \"RT_DELAY_TWO_FLOWS\"
event and include the received round-trip delay for multiple QoS flows
information with:
a) one or two round-trip delay for multiple QoS flows within the \"rtDelays\"
attribute; or
b) the packet delay measurement failure indicator within the \"pdmf\"
attribute.
Editor's Note: Whether the a new attribute is needed or the \"qosMonInfo\"
attribute can be used instead to convey both, packet delay and RTT
measurements information requires further discussion.
\- the multi-modal data flow(s) information of the multimodal service in the
\"multiModDatFlows\" attribute. The AF shall include for each single-modal
data flow(s) of the multimodal service:
1\. the single-modal data identification number within the \"medCompN\"
attribute;
2\. the IP data flow(s) description for the single-modal data flow within the
\"flowInfos\" attribute; and
3\. the parameters that describe the requested QoS for the single-modal data
flow, as follows:
a. the single-modal data flow type within the \"medType\" attribute, if
applicable;
b. either a reference to a pre-defined QoS information for the single-modal
data flow within the \"qosReference\" attribute, or individual QoS parameters
within the \"tsnQos\" attribute;
c. if individual QoS parameters are provided, an ordered list of alternative
service requirements for the single-modal data flow within the
\"altSerReqsData\" attribute, if applicable;
d. if a reference to pre-defined QoS information is provided, an ordered list
of QoS references for the single-modal data flow within the \"altSerReqs\"
attribute, if applicable;
e. QoS assistance information for the UL and/or DL for the single-modal data
flow within the \"tscaiInputUl\" and/or \"tscaiInputDl\" attribute, if
applicable;
f. an indication of whether UL-DL transmission adjustments to meet the RT
Latency applies to the single-modal data flow within the \"rTLatencyReq\"
attribute, if applicable; and
f. PDU Set QoS information for the single-modal data flow within the
\"pduSetQos\" attribute, if applicable;
\- the indication that the service data flow needs to meet the Round-Trip (RT)
latency requirement within the \"rTLatencyInd\" attribute;
NOTE 5: The single direction latency requirement between the UE and the PSA
UPF can be either explicitly included within the \"req5Gsdelay\" attribute or
can be derived from the \"qosReference\" attribute. The twice of the single
direction latency is used as the Uplink-Downlink Round Trip latency of the
indicated service.
Editor\'s note: Whether an independent feature for RT latency is needed is
FFS.
> Editor's note: It is FFS whether other IEs within the \"tscQosReq\"
> attribute than \"req5Gsdealy\" attribute can apply for multi-modal
> communication services.
NOTE 6: For multi-modal communication servicesrelated to multiple UEs,
multiple UE-specific AF requests are used, and the AF provided information to
NEF is the same as single UE case. For the single UE case, the AF can provide
the multiple single-modal data flows of the multi-modal communication service
via single or multiple AF requests.
If the NEF authorizes the AF request, the NEF shall transfer the received
Multi-modal service ID and, if applicable, the single-modal data flow(s)
information of the multi-modal communication service to the PCF via the
Npcf_PolicyAuthorization service.
\- the Low Latency, Low Loss and Scalable Throughput (L4S) Support within the
\"l4sInd\" attribute. In this case, the AF shall also subscribe to
notifications of ECN marking for L4S support information not available in 5GS
and available again by including the \"L4S_NOT_AVAILABLE\" and
\"L4S_AVAILABLE\" events in the \"events\" attribute. When the NEF receives
the ECN marking for L4S availability event notification from the PCF as
specified in 3GPP TS 29.514 [7], the NEF shall notify the AF with the
corresponding \"L4S_NOT_AVAILABLE\" or \"L4S_AVAILABLE\" event;
Editor\'s Note: As the QoS monitoring for congestion information and ECN
marking for L4S are mutually exclusive, either \"l4sInd\" attribute or the
congestion threshold within the \"conThreshDl\" and/or \"conThreshUl\"
attribute will be present. The application error in case both, L4S and
Congestion related attributes are present is FFS.
\- the protocol description within the \"pduSetProtDesc\" attribute for the
UPF to identify the PDU Set Information and or identify the last PDU of a data
burst in the DL traffic. The protocol description indicates transport protocol
(e.g. RTP, SRTP), transport protocol header extensions, payload type and
format (e.g. H.264, H.265), and format parameters (e.g. H.264 profile level
and packetization mode) used by the service data flow. In case of the multiple
flows, each flow will have the respective \"pduSetProtDesc\" attribute;
Editor's Note: XRM_5G feature name and granularity is FFS
Editor's Note: The applicability of QoS monitoring to multi-modal
communication services is FFS.
Editor's Note: the list of IEs of a multimodal data flow to complete the QoS
parameters developed for the media component in TS 29.514 and applicable to
external AFs is FFS.
Editor\'s Note: Whether the AF can provide an indication fo detection of last
PDU of the data burst is FFS based on stage 2 discussion.
\- the PDU Set specific QoS parameters as \"pduSetQoS\" attribute within
AsSessionWithQoSSubscription data type in the HTTP POST request or
\"pduSetQoS\" attribute within AsSessionWithQoSSubscriptionPatch data type in
the HTTP PATCH request;
\- if the NEF receives the AF request with optional attributes namely
\"pduSetQoS\", NEF shall forward the attributes to PCF to support the PDU Set
QoS configuration by invoking the Npcf_PolicyAuthorization_Create service
operation;
\- if the NEF receives from the PCF the indication that direct notification is
not possible for the requested QoS monitoring parameters as specified in 3GPP
TS 29.514 [7], the NEF shall include in the response to the AF request the
\"servAuthInfo\" attribute with the value \"DIRECT_NOTIF_NOT_POSSIBLE\";
\- if the \"QoSTiming_5G\" feature as defined in clause 5.14.4 of 3GPP TS
29.122 [4] is supported, NEF shall forward the following attributes to support
the QoS Timing information:
\- \"qosDuration\" attribute to indicate the QoS duration to transfer data
traffic (e.g., AI/ML traffic).
\- \"qosInactInt\" attribute for data traffic (e.g., AI/ML traffic) QoS
inactivity interval.
If the NEF authorizes the AF request, the NEF shall provision with the
received QoS timing parameters to the PCF by invoking the
Npcf_PolicyAuthorization service as defined in 3GPP TS 29.514 [7].
\- If the \"ExtErrors\" feature is supported, the NEF may send the following
error responses based on failed request responses received from the 5GC
(TSCTSF, as specified in 3GPP TS 29.565 [50], or PCF, as specified in 3GPP TS
29.514 [7]):
a. If the NEF receives the indication that the 5GC failed in executing session
binding, the NEF shall reject the HTTP POST request with an HTTP \"500
Internal Server Error\" response including the \"cause\" attribute set to
\"PDU_SESSION_NOT_AVAILABLE\".
b. If the service information provided in the body of the HTTP POST/PUT/PATCH
request is rejected by the 5GC (e.g. the subscribed guaranteed bandwidth for a
particular user is exceeded or the authorized data rate in that slice for a UE
is exceeded), the NEF shall indicate in an HTTP \"403 Forbidden\" response
message the cause for the rejection including the \"cause\" attribute set to
\"REQUESTED_SERVICE_NOT_AUTHORIZED\".
c. If the service information provided in the body of the HTTP POST/PUT/PATCH
request is rejected due to a temporary condition in the network, the NEF may
include in the \"403 Forbidden\" response the \"cause\" attribute set to
\"REQUESTED_SERVICE_TEMPORARILY_NOT_AUTHORIZED\", as received. The NEF may
also provide a received retry interval within the \"Retry-After\" HTTP header
field. When the NF service consumer receives the retry interval within the
\"Retry-After\" HTTP header field, the NF service consumer shall not send the
same service information to the NEF again (for the same application session
context) until the retry interval has elapsed. The \"Retry-After\" HTTP header
is described in 3GPP TS 29.122 [4].
The NEF may additionally provide the acceptable bandwidth within the attribute
\"acceptableServInfo\" included in the \"ProblemDetailsAsSessionQos\" data
structure returned in the rejection response message.
d. When the request to provision sponsored data connectivity information
provided in the body of the HTTP POST/PUT/PATCH request is rejected, the NEF
shall reject the request with the received status and error cause, as follows:
1\. HTTP \"403 Forbidden\" response message with the \"cause\" attribute set
to \"UNAUTHORIZED_SPONSORED_DATA_CONNECTIVITY\".
2\. HTTP \"403 Forbidden\" response message with the \"cause\" attribute set
to \"REQUESTED_SERVICE_NOT_AUTHORIZED\".
#### 4.4.9.3 Procedures for AF required QoS for target UE not identified by UE
address
When the \"GMEC_5G\" feature is supported and the AF required QoS targeting
one or several UE(s) not identified by the UE address as described in clause
4.15.6.14 of 3GPP TS 23.502 [2], the provisions and procedures of clause
4.4.9.2 shall apply with the following differences:
\- Either the \"extGroupId\" attribute or the \"gpsi\" attribute shall be
provided to identify the target UE(s) in the HTTP POST request message.
\- After the successful authorization of the request at the NEF, the NEF may
further support service specific authorization as described in clause
4.15.6.10 in 3GPP TS 23.502 [2] and 3GPP TS 29.503 [63].
\- The NEF shall either invoke the TSCTSF at the reception of the request, or
when it determines to not invoke the TSCTSF, invoke the Nudr_DataRepository
service as described in 3GPP TS 29.504 [20] and 3GPP TS 29.519 [23] to store
the information related to the Internal Group ID or SUPI as Application Data
in the UDR.
\- No direct interactions between the NEF and the PCF shall take place.
### 4.4.10 Procedures for MSISDN-less Mobile Originated SMS
The procedures are used by the NEF to send the MSISDN-less MO-SMS to the AF in
5GS are described in clause 4.4.14 of 3GPP TS 29.122 [4] with the following
differences:
\- description of the SCS/AS applies to the AF;
\- description of the SCEF applies to the NEF;
\- the NEF shall interact with UDM by using Nudm_SubscriberDataManagement
service (as defined in 3GPP TS 29.503 [17]) to retrieve the external
identifier; and
\- the NEF may receive an MSISDN-less MO-SMS via SM11 including a destination
SME address (long/short code of the AF) upon the SMS-SC invoking
Nnef_SMService.
### 4.4.11 Procedures for Network Configuration Parameters Provisioning
The procedures for network configuration parameters provisioning as described
in clause 4.4.12 of 3GPP TS 29.122 [4] shall be applicable in 5GS with the
following differences:
\- description of the SCS/AS applies to the AF;
\- description of the SCEF applies to the NEF;
\- description of the HSS applies to the UDM;
\- the NEF shall interact with the UDM by using Nudm_ParameterProvision
service as specified in 3GPP TS 29.503 [17]; and
\- if the \"UEId_retrieval\" feature defined in clause 5.13.4 of 3GPP TS
29.122 [4] is supported, in order to support the AF specific UE ID retrieval:
1) the AF may request AF specific UE ID retrieval for an individual UE, by
providing the UE\'s IP address in the \"ueIpAddr\" attribute or the UE\'s MAC
address in the \"ueMacAddr\" attribute within the NpConfiguration data type;
2) the AF may also provide the DNN, within the \"dnn\" attribute, and/or the
S-NSSAI, within the \"snssai\" attribute, within the NpConfiguration data
type;
3) upon reception of the corresponding request message from the AF:
\- if the AF\'s request for AF specific UE ID retrieval is not authorized, the
NEF shall respond to the AF with a \"403 Forbidden\" status code with the
response body including the ProblemDetails data structure containing the
\"cause\" attribute set to the \"REQUEST_NOT_AUTHORIZED\" application error
indicating AF authorisation failure; and
\- if the AF\'s request for AF specific UE ID retrieval is authorized by the
NEF, then if the DNN and/or S-NSSAI information is not available in the
request, the NEF shall determine the corresponding DNN and/or S-NSSAI
information based on the received requesting AF Identifier, and if provided,
the MTC Provider Information;
4) the NEF shall then interact with the BSF with the UE address and IP domain
(if the UE IPv4 address is provided), DNN and/or S-NSSAI to retrieve the
session binding information of the UE by invoking the
Nbsf_Management_Discovery service operation as described in 3GPP TS 29.521
[9];
5) if the NEF receives an error response from the BSF, the NEF shall respond
to the AF with a proper error status code. If the NEF received from the BSF an
error response including a \"ProblemDetails\" data structure with the
\"cause\" attribute indicating an application error, the NEF shall relay this
error response to the AF with a corresponding application error. If no SUPI
matching the provided UE information is returned by the BSF, the NEF shall
respond to the AF with a \"404 Not Found\" status code with the response body
including a ProblemDetails data structure containing the \"cause\" attribute
set to the \"UE_NOT_FOUND\" application error to indicate that the requested
UE address is not found;
6) upon success and a SUPI is returned by the BSF, the NEF shall interact with
the UDM to retrieve the AF specific UE Identifier using the received SUPI and
at least one of the Application Port ID, MTC Provider Information or AF
Identifier information by invoking Nudm_SDM_Get service as described in clause
5.2.2.2 of 3GPP TS 29.503 [17];
7) upon success, the UDM responds to the NEF with an AF specific UE Identifier
represented as an External Identifier for the UE which is uniquely associated
with the MTC provider Information and/or AF Identifier. The NEF shall then
respond to the AF with the received information, i.e. the AF specific UE
Identifier represented as an External Identifier that was received from the
UDM;
8) if the NEF receives an error response from the UDM, the NEF shall respond
to the AF with a proper error status code. If the NEF received from the UDM an
error response including a \"ProblemDetails\" data structure with the
\"cause\" attribute indicating an application error, the NEF shall relay this
error response to the AF with a corresponding application error. If the UDM
indicates that the requested UE Identifier is not available in the
subscription data, the NEF shall respond to the AF with a \"404 Not Found\"
error status code with the response body including a ProblemDetails data
structure containing the \"cause\" attribute set to the
\"UE_ID_NOT_AVAILABLE\" application error to indicate that the AF specific UE
ID is not available.
NOTE: The case where UE IP address provided by the AF to the NEF corresponds
to an IP address that has been NATed (Network and Port Address Translation) is
not supported in this release.
### 4.4.12 Procedures for Non-IP data delivery
#### 4.4.12.1 General
The procedures are used by the NEF to send/receive the non-IP data to/from the
AF. It comprises NIDD configuration and NIDD delivery.
The NIDD configuration may be triggered by the NEF or the AF. If it is
triggered by the NEF, the NiddConfigurationTrigger API described in clause 5.5
is used and the procedure is described in clause 4.4.12.2.
#### 4.4.12.2 NIDD configuration Triggered by the NEF
If the NEF receives a NIDD connection establishment request from the SMF and
if there is no NIDD configuration for the UE, the NEF may send a NIDD
configuration trigger to the AF. The NEF determines the destination URI by
local configuration. The NEF shall send to the determined destination URL an
HTTP POST request that shall include a NiddConfiguarationTrigger data type
with:
\- the NEF identifier,
\- the AF identifier, and
\- GPSI as UE identity.
The AF shall acknowledge the HTTP POST request with an HTTP 200 OK response.
Then the AF may start NIDD configuration procedure as described in clause
4.4.12.3.
#### 4.4.12.3 NIDD configuration triggered by the AF and NIDD delivery
The procedures for NIDD configuration triggered by the AF and NIDD delivery
are described in clause 4.4.5 of 3GPP TS 29.122 [4] with the following
differences:
\- description of the SCS/AS applies to the AF;
\- description of the SCEF applies to the NEF;
\- description of the MME/SGSN applies to the SMF;
\- for the connection establishment, the interaction between the NEF and the
SMF shall use Nnef_SMContext service as specified in 3GPP TS 29.541 [24];
\- for MO NIDD, the interaction between the SMF and the NEF shall use
Nnef_SMContext service as specified in 3GPP TS 29.541 [24]; and
\- for MT NIDD, the interaction between the SMF and the NEF shall use
Nsmf_NIDD service as specified in 3GPP TS 29.542 [25].
### 4.4.13 Procedures for RACS Parameter Provisioning
The procedures for RACS parameter provisioning as described in clause 4.4.15
of 3GPP TS 29.122 [4] shall be applicable in 5G with the following
differences:
\- description of the SCS/AS applies to the AF;
\- description of the SCEF applies to the NEF.
### 4.4.14 Procedures for analytics information exposure
#### 4.4.14.1 Subscription/unsubscription to notification of analytics
information
The procedures are used by the AF to subscribe/unsubscribe to retrieve
analytics information via NEF, and are used by the NEF to notify the AF about
the requested analytics information as described in 3GPP TS 23.288 [29].
In order to subscribe to retrieve analytics information, the AF shall send an
HTTP POST message to the NEF to the resource \"Analytics Exposure
Subscriptions\", the HTTP POST request message body shall include the
AnalyticsExposureSubsc data structure that shall include:
\- the URI where to receive the requested notifications as \"notifUri\"
attribute;
\- the Notification Correlation Identifier assigned by the NF service consumer
for the requested notifications as \"notifId\" attribute; and
\- a description of the subscribed events as \"analyEventsSubs\" attribute
that shall include for each event:
1) an event identifier as \"analyEvent\" attribute.
The AnalyticsExposureSubsc data structure may include:
\- event reporting requirement information as \"analyRepInfo\" attribute,
which applies for all events in a subscription and may contain the following
attributes:
1) event notification method (periodic, one time, on event detection) as
\"notifMethod\" attribute;
2) maximum Number of Reports as \"maxReportNbr\" attribute;
3) monitoring Duration as \"monDur\" attribute;
4) repetition period for periodic reporting as \"repPeriod\" attribute;
5) immediate reporting indication as \"immRep\" attribute;
6) sampling ratio as \"sampRatio\" attribute;
7) group reporting guard time as \"grpRepTime\" attribute;
8) partitioning criteria for partitioning the impacted UEs before performing
sampling as \"partitionCriteria\" attribute if the \"EneNA\" feature is
supported;
9) a notification flag (used for muting and retrieving notifications) as
\"notifFlag\" attribute if the \"EneNA\" feature is supported; and
> 10) notification muting exception instructions within the
> \"notifFlagInstruct\" attribute, if the EnhDataMgmt feature is supported and
> the \"notifFlag\" attribute is provided and set to \"DEACTIVATE\".
Each AnalyticsEventSubsc data structure may include:
\- event specific filters via the \"analyEventFilter\" attribute; and
\- the indication of the UEs to which the subscription applies via \"tgtUe\"
attribute, which if provided shall include one of the following attributes:
1) identification of an individual UE via a \"gpsi\" attribute;
2) identification of a group of UE(s) via a \"exterGroupId\" attribute; or
3) identification of any UE via the \"anyUeInd\" attribute.
Upon receipt of the HTTP POST request from the AF, if the AF is authorized,
the NEF shall interact with the UDM by using Nudm_SubscriberDataManagement
service as defined in 3GPP TS 29.503 [17] to translate the GPSI or external
group identifier into the corresponding SUPI or internal group identifier. If
the NEF receives an error response from the UDM, the NEF shall not create the
resource and shall respond to the AF with a proper error status code. If the
NEF receives from the UDM an error response including a \"ProblemDetails\"
data structure with the \"cause\" attribute indicating an application error,
the NEF shall relay this error response to the AF with a corresponding
application error, when applicable. After receiving a successful response from
the UDM, the NEF may perform further mappings and translations (e.g. map
application identifiers to DNN and S-NSSAI information, or translate
attributes of data type NetworkAreaInfo to attributes of data type
LocationArea5G) and it shall interact with the NWDAF to subscribe to the
subscription to the analytics information by using the
Nnwdaf_EventsSubscription service as defined in 3GPP TS 29.520 [27]. If the
NEF receives an error responsefrom the NWDAF, the NEF shall not create the
resource and shall respond to the AF with a proper error status code. If the
NEF received within an error response a \"ProblemDetails\" data structure with
a \"cause\" attribute indicating an application error, the NEF shall relay
this error response to the AF with a corresponding application error, when
applicable.
In order to update an existing analytics exposure subscription, the AF shall
send an HTTP PUT message to the NEF to the resource \"Individual Analytics
Exposure Subscription\" requesting to change the subscription.
In order to delete an existing analytics exposure subscription, the AF shall
send an HTTP DELETE message to the NEF to the resource \"Individual Analytics
Exposure Subscription\".
Upon receipt of the HTTP PUT or DELETE request from the AF, if the AF is
authorized, the NEF may perform further mappings and translations (e.g. map
application identifiers to DNN and S-NSSAI information, or translate
attributes of data type LocationArea5G to attributes of data type
NetworkAreaInfo as required by the data model) and it shall interact with the
NWDAF to modify or cancel the subscription to the analytics information by
using the Nnwdaf_EventsSubscription service as defined in 3GPP TS 29.520 [27].
If the NEF receives an error responsefrom the NWDAF, the NEF shall not update
or delete the resource and shall respond to the AF with a proper error status
code. If the NEF received within an error response a \"ProblemDetails\" data
structure with a \"cause\" attribute indicating an application error, the NEF
shall relay this error response to the AF with a corresponding application
error, when applicable.
After receiving a successful response from the NWDAF, the NEF shall:
\- for the HTTP POST request, create a resource \"Individual Analytics
Exposure Subscription\" which represents the analytics exposure subscription,
addressed by a URI that contains the AF Identifier and an NEF-created
subscription identifier, and shall respond to the AF with a 201 Created status
code, including a Location header field containing the URI for the created
resource. The AF shall use the URI received in the Location header in
subsequent requests to the NEF to refer to this analytics exposure
subscription. If not all the requested analytics events in the subscription
are accepted, then the NEF may include the \"failEventReports\" attribute
indicating the event(s) for which the subscription failed and the associated
reason(s):
\- for the HTTP PUT request, update a resource \"Individual Analytics Exposure
Subscription\" which represents the analytics exposure subscription, and shall
responds to the AF with a 200 OK or 204 No Content status code. When
responding with a 200 OK status code, if not all the requested analytics
events in the subscription are modified successfully, then the NEF may include
the \"failEventReports\" attribute indicating the event(s) for which the
modification failed and the associated reason(s); and
\- for the HTTP DELETE request, remove all properties of the resource and
delete the corresponding active resource \"Individual Analytics Exposure
Subscription\" which represents the analytics exposure subscription, then
shall responds to the AF with a 204 No Content status code.
If the immediate reporting indication in the \"immRep\" attribute within the
\"analyRepInfo\" attribute sets to true during the HTTP POST or PUT request,
the NEF shall also include the reports of the events subscribed, if available,
in the HTTP POST or PUT response to the AF.
If the NEF receives an analytics information notification from the NWDAF
indicating that the subscribed analytics event has been detected, the NEF may
perform further mappings and translations (e.g. translate attributes of data
type NetworkAreaInfo to attributes of data type LocationArea5G as required by
the data model), it may determine based on local configuration to hide from
the Untrusted AF network internal information (e.g. DNN, S-NSSAI) which was
included in the NWDAF notification, and it shall provide a notification by
sending HTTP POST message that include the AnalyticsEventNotification data
structure at least with the detected analytics event to the AF identified by
the notification URI together with the notification correlation identifier
received during creation/modification of the Individual Analytics Exposure
Subscription. Upon receipt of the analytics event notification, the AF shall
respond with a \"204 No Content\" status code to confirm the received
notification.
When the \"notifFlag\" attribute is included during the creation of a
subscription (HTTP POST request) and set to \"DEACTIVATE\", the NEF shall mute
the event notification and store the available events until the NF service
consumer requests to retrieve them by setting the \"notifFlag\" attribute to
\"RETRIEVAL\" or until a muting exception occurs (e.g. full buffer). When a
muting exception occurs, the NEF may consider the contents of the
\"notifFlagInstruct\" attribute (if provided) and/or local configuration to
determine its actions.
When the \"notifFlag\" attribute is included during the update of a
subscription (HTTP PUT request) and set to \"DEACTIVATE\", the NEF shall mute
the event notification and store the available events until the NF service
consumer requests to retrieve them by setting the \"notifFlag\" attribute to
\"RETRIEVAL\" or until a muting exception occurs (e.g. full buffer). When a
muting exception occurs, the NEF may consider the contents of the
\"notifFlagInstruct\" attribute (if provided) and/or local configuration to
determine its actions; if the \"notifFlag\" attribute is set to the value
\"RETRIEVAL\", the NEF shall send the stored events to the NF service
consumer, mute the event notification again and store available events; if the
\"notifFlag\" attribute is set to the value \"ACTIVATE\" and the event
notifications are muted (due to a previously received \"DECATIVATE\" value),
the NWDAF shall unmute the event notification, i.e. start sending again
notifications for available events.
For both the POST and the PUT requests, if the EnhDataMgmt feature is
supported and the NEF accepts the muting instructions provided in the
\"notifFlag\" and/or the \"notifFlagInstruct\" attributes, it may indicate the
applied muting notification settings within the \"mutingSetting\" attribute in
the response. If the NEF does not accept the muting instructions provided in
the \"notifFlag\" and/or the \"notifFlagInstruct\" attributes, it shall send
an HTTP \"403 Forbidden\" error response including the \"cause\" attribute set
to \"MUTING_INSTR_NOT_ACCEPTED\".
#### 4.4.14.2 Fetch analytics information
The procedures are used by the AF to fetch analytics information via NEF.
In order to fetch analytics information, the AF shall send an HTTP POST
request message to the NEF targetingthe custom operation URI \"{apiRoot}/3gpp-
analyticsexposure/v1/{afId}/fetch\", the HTTP POST request message body shall
include the AnalyticsRequest data structure that shall include:
\- the identification of the analytics events, encoded within the
\"analyEvent\" attribute;
and may include:
\- the description of the analytics reporting information, encoded within the
\"analyRep\" attribute;
\- an event filter, encoded within the \"analyEventFilter\" attribute.
\- the indication of the UEs to which the analytics request applies via
either:
a) the identification of an individual UE via the \"gpsi\" attribute;
b) the identification of a group of UE(s) via the \"exterGroupId\" attribute;
or
> c) the identification of any UE via the \"anyUeInd\" attribute.
Upon the reception of an HTTP POST request, if the AF is authorized, the NEF
shall interact with the UDM by using Nudm_SubscriberDataManagement service as
defined in 3GPP TS 29.503 [17] to translate the GPSI or external group
identifier into the corresponding SUPI or internal group identifier. If the
NEF receives an error response from the UDM, the NEF shall respond to the AF
with a proper error status code. If the NEF receives from the UDM an error
response including a \"ProblemDetails\" data structure with the \"cause\"
attribute indicating an application error, the NEF shall relay this error
response to the AF with a corresponding application error, when applicable.
After receiving a successful response from the UDM, the NEF may perform
further mappings and translations (e.g. map application identifiers to DNN and
S-NSSAI information, or translate attributes of data type NetworkAreaInfo to
attributes of data type LocationArea5G) and it shall interact with the NWDAF
by using Nnwdaf_AnalyticsInfo service as defined in 3GPP TS 29.520 [27]. If
the NEF receives an error responsefrom the NWDAF, the NEF shall respond to the
AF with a proper error status code. If the NEF received within an error
response a \"ProblemDetails\" data structure with a \"cause\" attribute
indicating an application error, the NEF shall relay this error response to
the AF with a corresponding application error, when applicable. If a
successful response including analytics information is received from the
NWDAF, the NEF shall translate the network internal information to external
information (e.g. SUPI to GPSI, Internal Group ID to External Group ID,
attributes of data type NetworkAreaInfo to attributes of data type
LocationArea5G), it may determine based on local configuration to hide from
the Untrusted AF network internal information (e.g. DNN, S-NSSAI) which was
included in the NWDAF response, and it shall send an HTTP POST response to the
AF by including analytics information within the AnalyticsData data structure.
### 4.4.15 Procedures for 5G LAN Parameter Provisioning
#### 4.4.15.1 General
The procedures are used by the AF to provision 5G LAN type service related
parameters to the NEF. The following procedures support:
\- Management of 5G Virtual Network group membership;
\- Management of 5G Virtual Network group data; and/or
\- Management of 5G Virtual Network group parameters provisioning.
#### 4.4.15.2 Creation of a new subscription for 5G LAN parameter provisioning
In order to create a new subscription to provision 5G LAN related parameters,
the AF shall initiate an HTTP POST request to the NEF for the \"5GLAN
Parameters Provision Subscriptions\" resource. The body of the HTTP POST
message shall include the 5G LAN service related parameters within the
\"5gLanParams\" attribute.
When the GMEC feature is supported, the AF may also provision the 5G VN group
related parameters (e.g., LPI parameters, ECS Address information, Network
Parameter Configuration).
Upon receipt of the corresponding HTTP POST message, if the AF is authorized
by the NEF to provision the parameters, the NEF shall interact with the UDM to
create a subscription at the UDM by using Nudm_ParameterProvision service as
defined in 3GPP TS 29.503 [17]. If the request is accepted by the UDM and the
UDM informs the NEF with a successful response, the NEF shall create a new
subscription and assign a subscription identifier for the \"Individual 5GLAN
Parameters Provision Subscription\" resource. Then the NEF shall send a HTTP
\"201 Created\" response with 5GLanParametersProvision data structure as
response body and a Location header field containing the URI of the created
individual subscription resource.
#### 4.4.15.3 Modification of an existing subscription for 5G LAN parameter
provisioning
To modify an existing subscription to provision 5G LAN parameters, the AF
shall initiate an HTTP PUT/PATCH request to the NEF for the \"Individual 5GLAN
Parameters Provision Subscription\" resource. The body of the HTTP PUT message
shall include the 5GLanParametersProvision data type as defined in clause
5.7.2.3.2. The External Group Identifier, DNN, S-NSSAI and PDU session type(s)
shall remain unchanged from previous values. The body of the HTTP PATCH
message shall include the 5GLanParametersProvisionPatch data as defined in
clause 5.7.2.3.5.
When the GMEC feature is supported, the AF may also update/modify the 5G VN
group related parameters (e.g., LPI parameters, ECS Address information,
Network Parameter Configuration).
Upon receipt of the corresponding HTTP PUT/PATCH message, if the AF is
authorized by the NEF to provision the parameters, the NEF shall interact with
the UDM to modify an existing subscription at the UDM by using
Nudm_ParameterProvision service as defined in 3GPP TS 29.503 [17]. If the
modification request is accepted by the UDM and the UDM informs the NEF with a
successful response, the NEF shall update the existing subscription for the
\"Individual 5GLAN Parameters Provision Subscription\" resource. Then the NEF
shall send a HTTP response including \"200 OK\" status code with
5GLanParametersProvision data structure or \"204 No Content\" status code.
#### 4.4.15.4 Deletion of an existing subscription for 5G LAN parameter
provisioning
To delete an existing subscription to 5GLAN provision parameters, the AF shall
initiate an HTTP DELETE request to the NEF for the \"Individual 5GLAN
Parameters Provision Subscription\" resource.
Upon receipt of the corresponding HTTP DELETE message, if the AF is
authorized, the NEF shall interact with the UDM to delete an existing
parameters provision subscription at the UDM by using Nudm_ParameterProvision
service as defined in 3GPP TS 29.503 [17]. If the request is accepted by the
UDM and informs the NEF with a successful response, the NEF shall delete the
existing subscription for the \"Individual 5GLAN Parameters Provision
Subscription\" resource. Then the NEF shall send a HTTP \"204 No Content\"
response.
#### 4.4.15.5 5G LAN parameter provisioning event notification
If the GMEC feature is supported and a previously subscribed AF shall be
notified on 5G LAN parameter provisioning events (e.g. when Network Parameters
Configuration information was provisioned), the NEF shall initiate an HTTP
POST request to the AF targeting the notification URI provided during the
creation of the corresponding \"Individual 5GLAN Parameters Provision
Subscription\" resource within the \"notifUri\" attribute.
Upon successful reception and processing of the HTTP POST request message, the
AF acknowledge the reception of the notification by responding with an HTTP
\"204 No Content\" status code.
On failure, the AF shall take proper error handling actions and respond to the
AF with an appropriate error status code as specified in clause 5.7.4.
### 4.4.16 Procedures for applying BDT policy
In order to create a resource for the applying a previously negotiated
Background Data Transfer Policy to a UE or a Group of UEs, the AF shall send
an HTTP POST message to the NEF to the resource \"Applied BDT Policy
Subscriptions\". The body of the HTTP POST message shall contain the external
Group Identifier or external Identifier, and the Background Data Transfer
Reference ID for a previously negotiated policy of a background data transfer.
Upon receipt of the HTTP POST request from the AF, if the AF is authorized,
the NEF shall interact with the UDM by invoking the
Nudm_SubscriberDataManagement service as described in 3GPP TS 29.503 [17] to
retrieve the SUPI or Internal Group Identifier.
In order to update an existing applied BDT policy subscription, the AF shall
send an HTTP PATCH message to the resource \"Individual Applied BDT Policy
Subscription\" requesting to change the applied BDT policy. The AF shall
include in the body of the HTTP PATCH request the new Background Data Transfer
Reference ID.
In order to delete an existing applied BDT policy subscription, the AF shall
send an HTTP DELETE message to the NEF to the resource \"Individual Applied
BDT Policy Subscription\".
The NEF shall interact with the UDR by invoking the Nudr_DataRepository
service as described in 3GPP TS 29.504 [20], if the NEF receives an error
responsefrom the UDR, the NEF shall not create, update or delete the resource
and shall respond to the AF with a proper error status code. If the NEF
received within an error response a \"ProblemDetails\" data structure with a
\"cause\" attribute indicating an application error, the NEF shall relay this
error response to the AF with a corresponding application error, when
applicable.
After receiving a successful response from the UDR, the NEF shall:
\- for the HTTP POST request, create a resource \"Individual Applied BDT
Policy Subscription\" addressed by a URI that contains the AF Identifier and
an NEF-created subscription identifier, and shall respond to the AF with a
\"201 Created\" status code, including a Location header field containing the
URI of the created resource. The AF shall use the URI received in the Location
header in subsequent requests to the NEF to refer to this resource;
\- for the HTTP PATCH request, update a resource \"Individual Applied BDT
Policy Subscription\" which represents the applied BDT policy subscription,
and shall respond to the AF with a \"200 OK\" or \"204 No Content\" status
code; and
\- for the HTTP DELETE request, delete the corresponding active resource
\"Individual Applied BDT Policy Subscription\", and shall respond to the AF
with a \"204 No Content\" status code.
### 4.4.17 Procedures for Enhanced Coverage Restriction Control
The procedures for network configuration parameters provisioning as described
in clause 4.4.11 of 3GPP TS 29.122 [4] shall be applicable in 5GS with the
following differences:
\- description of the SCS/AS applies to the AF;
\- description of the SCEF applies to the NEF;
\- description of the HSS applies to the UDM; and
\- upon receipt of HTTP POST request from the AF to query the current status
of enhanced coverage restriction, the NEF shall interact with the UDM by using
the Nudm_SubscriberDataManagement service as specified in 3GPP TS 29.503 [17].
\- upon receipt of HTTP POST request from the AF to configure the enhanced
converage restriction, the NEF shall interact with the UDM by using the
Nudm_ParameterProvision service as specified in 3GPP TS 29.503 [17].
\- if the ECR_WB_5G feature is supported, in order to configure the enhanced
coverage restriction for WB UE, the HTTP POST request message shall include
the WB mode related enhanced coverage restriction information via the
\"ecrDataWbs\" attribute for the WB UE.
### 4.4.18 Procedures for IPTV Configuration
The procedures are used by the AF to authorize the request and forward the
request for IPTV configuration information via NEF.
In order to configure IPTV information, the AF shall send an HTTP POST message
to the NEF to the resource \"IPTV Configurations\", the HTTP POST request
message body shall include the IptvConfigData data structure that shall
include:
\- indication of the UEs to which the subscription applies via:
> a) identification of an individual UE via a \"gpsi\" attribute; or
>
> b) identification of a group of UE(s) via a \"exterGroupId\" attribute;
\- an application identifier as \"appId\" attribute; and
\- a list of Multicast Access Control as \"multiAccCtrls\" attribute;
and may include:
\- an DNN as \"dnn\" attribute;
\- an S-NSSAI as \"snssai\" attribute; and
\- MTC Provider Information as \"mtcProviderId\" attribute.
NOTE: The NEF can check the received MTC Provider Id information and reject
the IPTV configuration request upon failure checking result.
In order to update an existing individual IPTV configuration, the AF shall
send an HTTP PUT or HTTP PATCH message to the NEF to the resource \"Individual
IPTV Configuration\" requesting to change the subscription. The External Group
Identifier, GPSI, DNN, S-NSSAI and Application Identifier shall remain
unchanged from previous values in the HTTP PUT message.
In order to delete an existing individual IPTV configuration, the AF shall
send an HTTP DELETE message to the NEF to the resource \"Individual IPTV
Configuration\".
Upon receipt of the HTTP request from the AF, if the AF is authorized, the NEF
shall interact with the UDM by invoking the Nudm_SubscriberDataManagement
service as described in 3GPP TS 29.503 [17] to retrieve the SUPI or Internal
Group Identifier. Then the NEF shall interact with the UDR to create, update
or delete the IPTV configuration by using the Nudr_DataRepository service as
defined in 3GPP TS 29.519 [23]. If the NEF receives an error responsefrom the
UDR, the NEF shall not create, update or delete the resource and shall respond
to the AF with a proper error status code. If the NEF received within an error
response a \"ProblemDetails\" data structure with a \"cause\" attribute
indicating an application error, the NEF shall relay this error response to
the AF with a corresponding application error, when applicable.
After receiving a successful response from the UDR, the NEF shall:
\- for the HTTP POST request, create a resource \"Individual IPTV
Configuration\" which represents the IPTV configuration request, addressed by
a URI that contains the AF Identifier and an NEF-created configuration
identifier, and shall respond to the AF with a 201 Created status code,
including a Location header field containing the URI for the created resource.
The AF shall use the URI received in the Location header in subsequent
requests to the NEF to refer to this IPTV configuration.
\- for the HTTP PUT or HTTP PATCH request, update a resource \"Individual IPTV
Configuration\" which represents the IPTV configuration, and shall responds to
the AF with a 200 OK or 204 No Content status code; and
\- for the HTTP DELETE request, remove all properties of the resource and
delete the corresponding active resource \"Individual IPTV Configuration\",
then shall responds to the AF with a 204 No Content status code.
4.4.19 Procedures for Location Privacy Indication Parameters Provisioning
The procedures are used by the AF to provision Location Privacy Indication
parameters to the NEF. The procedures are applicable for an individual UE or a
group of UEs.
In order to provision Location Privacy Indication parameters, the AF shall
initiate an HTTP POST request to the NEF for the \"LPI Parameters
Provisionings\" resource. The body of the HTTP POST message shall include the
Location Privacy Indication related parameters within the
LpiParametersProvision data structure.
Upon receipt of the corresponding HTTP POST message, if the AF is authorized
by the NEF to provision the parameters, the NEF shall interact with the UDM to
create a resource at the UDM by using Nudm_ParameterProvision service as
defined in 3GPP TS 29.503 [17]. If the request is accepted by the UDM and the
UDM informs the NEF with a successful response, the NEF shall create a new
resource and assign an identifier for the \"Individual LPI Parameters
Provisioning\" resource. Then the NEF shall send a HTTP \"201 Created\"
response with LpiParametersProvision data structure as response body and a
Location header field containing the URI of the created individual resource.
In order to update an existing individual LPI Parameters Provisioning, the AF
may send an HTTP PUT message to the resource \" Individual LPI Parameters
Provisioning\" requesting the NEF to change all properties in the existing
resource. The body of the HTTP PUT request message shall include
LpiParametersProvision data type as defined in clause 5.10.2.3.2. The External
Group Identifier or GPSI shall remain unchanged from previous values.
If the \"PatchUpdate\" feature defined in clause 5.10.3 is supported, in order
to partially modify an existing LPI Parameters Provisioning resource, the AF
may send an HTTP PATCH request message to the NEF on the \"Individual LPI
Parameters Provisioning\" resource, with the request body containing the
LpiParametersProvisionPatch data structure including only the attributes that
shall be updated.
Upon receipt of the corresponding HTTP PUT/PATCH request message, if the AF is
authorized by the NEF to provision the parameters, the NEF shall interact with
the UDM to modify an existing resource at the UDM by using
Nudm_ParameterProvision service as defined in 3GPP TS 29.503 [17]. If the
modification request is accepted by the UDM and the UDM informs the NEF with a
successful response, the NEF shall update the existing resource for the
\"Individual LPI Parameters Provisioning\" resource. Then the NEF shall send a
HTTP response including \"200 OK\" status code with LpiParametersProvision
data structure or \"204 No Content\" status code.
To delete an existing individual LPI Parameters Provisioning, the AF shall
initiate an HTTP DELETE request to the NEF for the \"Individual LPI Parameters
Provisioning\" resource.
Upon receipt of the corresponding HTTP DELETE message, if the AF is
authorized, the NEF shall interact with the UDM to delete an existing LPI
Parameters Provisioning at the UDM by using Nudm_ParameterProvision service as
defined in 3GPP TS 29.503 [17]. If the request is accepted by the UDM, the NEF
shall delete the existing resource for the \"Individual LPI Parameters
Provisioning\" resource. Then the NEF shall send a HTTP \"204 No Content\"
response.
### 4.4.20 Procedures for service specific parameter provisioning
These procedures are used by an AF to provide service specific parameters to
the 5G system via the NEF.
In order to provision service specific parameters to the 5G system, the AF
shall send an HTTP POST message to the NEF targetting the resource \"Service
Parameter Subscriptions\", the HTTP POST request message body shall include
the ServiceParameterData data structure that shall include:
\- service description via one of the following:
a) a combination of DNN and S-NSSAI within the \"dnn\" attribute and the
\"snssai\" attribute respectively;
b) an AF Service Identifier within the \"afServiceId\" attribute. In this
case, the NEF may translate the received AF service identifier into a DNN and
S-NSSAI combination; or
c) an application identifier within the \"appId\" attribute;
NOTE 1: When the feature \"AfGuideURSP\" is supported, the DNN, S-NSSAI and/or
Application Identifier information can be provided in the \"urspGuidance\"
attribute, hence only the \"afServiceId\" attribute needs to be included for
providing guidance for URSP determination.
\- indication of the UEs to which the subscription applies via one of the
following:
a) identification of an individual UE within the \"gpsi\" attribute;
b) an IPv4 address of the UE within the \"ueIpv4\" attribute;
c) an IPv6 address of the UE within the \"ueIpv6\" attribute;
d) a MAC address of the UE within the \"ueMac\" attribute;
e) an identification of a group of UE(s) within the \"externalGroupId\"
attribute;
NOTE 2: When the feature \"PIN\" is supported, AF can use \"externalGroupId\"
attribute to indicate the external group identifier if more than one PEGC is
present within the PIN. If external group identifier is not used for the PIN,
then AF will indicate \"gpsi\" attribute in the individual request for each of
the PEGC within the PIN.
f) an identification of any UE within the \"anyUeInd\" attribute; or
g) when the feature \"VPLMNSpecificURSP\" is supported, and the request is to
influence the determination of own PLMN(s) specific URSP rules for any inbound
roamer from one or more PLMN(s), an identification of the PLMN IDs of the
roaming UEs within the \"roamUeNetDescs\" attribute; and
\- service parameters for at least one of the following:
1) V2X service parameters via:
a) configuration parameters for V2X communications over PC5 within the
\"paramOverPc5\" attribute; and
b) configuration parameters for V2X communications over Uu within the
\"paramOverUu\" attribute;
2) if the \"ProSe\" and/or \"ProSe_Ph2\" feature(s) is/are supported, 5G ProSe
service parameters via:
a) configuration parameters for 5G ProSe direct discovery within the
\"paramForProSeDd\" attribute;
b) configuration parameters for 5G ProSe direct communication within the
\"paramForProSeDc\" attribute; and
c) configuration parameters for 5G ProSe UE-to-network relay, including
configuration parameters for 5G ProSe UE-to-network relay UE within the
\"paramForProSeU2NRelUe\" attribute and configuration parameters for 5G ProSe
remote UE within the \"ParamForProSeRemUe\" attribute;
d) configuration parameters for 5G ProSe UE-to-UE relay, including
configuration parameters for 5G ProSe UE-to-UE relay UE within the
\"paramForProSeU2URelUe\" attribute and configuration parameters for 5G ProSe
end UE within the \"ParamForProSeEndUe\" attribute, only if the \"ProSe_Ph2\"
feature is supported;
3) if the \"AfGuideURSP\" feature is supported, URSP service parameters via:
a) contents for the AF guidance on URSP within the \"urspGuidance\" attribute,
which shall include one or more URSP rule requests. Each URSP rule request may
include:
1\. a traffic descriptor within the \"trafficDesc\" attribute;
2\. a relative precedence within the \"relatPrecedence\" attribute;
3\. when the feature \"VPLMNSpecificURSP\" is supported and the AF guidance is
to influence the determination of VPLMN-specific URSP rules, the VPLMN
description within the \"visitedNetDescs\" attribute; and/or
4\. one or more route selection parameter sets within the
\"routeSelParamSets\" attribute. Each route selection parameter set may
include a precedence value within the \"precedence\" attribute, a DNN within
the \"dnn\" attribute, an S-NSSAI within the \"snssai\" attribute, and a
spatial validity condition within the \"spatialValidity\" attribute. If the
request contains only one route selection parameter set, each of the optional
attributes \"dnn\", \"snssai\", \"precedence\", and \"spatialValidity\" that
is missing from the request may be complemented by the NEF based on local
configuration for the provided AF service identifier. It is up to the NEF to
transform the information of the \"spatialValidity\" attribute into a list of
TAIs;
b) if the \"PIN\" feature is supported, traffic descriptor component within in
the URSP rule via PIN Identifier within the \"pinId\" attribute applicable for
the PEGC;
4) if the \"A2X\" feature is supported, A2X service parameters via:
a) configuration parameters for A2X communications over PC5 within the
\"a2xParamsPc5\" attribute;
5) if the \"AfGuideTNAPs\" feature is supported, TNAP ID(s) service parameters
via:
a) a list of the TNAP ID(s) collocated with the 5G-RG(s) of a specific user
within the \"tnaps\" attribute;
and
6) if the \"Ranging_SL\" feature is supported, ranging and sidelink
positioning service parameters via configuration parameters for ranging and
sidelink positioning within the \"paramForRangingSlPos\" attribute;
and may include:
\- if the \"AfNotifications\" feature is supported:
a) subscription to event notification of the outcome related to invocation of
service parameter provisioning within the \"subNotifEvents\" attribute; and
b) notification URI within the \"notificationDestination\" attribute.
In order to update an existing service parameter subscription, the AF shall
send an HTTP PUT or HTTP PATCH message to the NEF targetting the resource
\"Individual Service Parameter Subscription\" and requesting to change the
subscription. When the HTTP PUT method is used, the NF service consumer should
not update attributes that do not exist in the ServiceParameterDataPatch data
type, i.e. such attributes should remain unchanged compared to the initial
values provided in the HTTP POST request message.
In order to delete an existing service parameter subscription, the AF shall
send an HTTP DELETE message to the NEF targetting the resource \"Individual
Service Parameter Subscription\".
Upon receipt of the HTTP request from the AF, and if the AF is authorized, the
NEF shall interact with the UDM by invoking the Nudm_SubscriberDataManagement
service as described in 3GPP TS 29.503 [17] to retrieve the SUPI or Internal
Group Identifier. NEF may, based on local configuration, complement missing
service parameters. Additionally, based on operator\'s local policy, NEF may
support service specific authorization as described in clause 4.15.6.10 in
3GPP TS 23.502 [2]. Then the NEF shall interact with the UDR to create, update
or delete the associated service parameters by using the Nudr_DataRepository
service as defined in 3GPP TS 29.519 [23]. If information related to
AfNotifications feature are received from the AF, the NEF shall also include
the required information (e.g. \"policDelivNotifUri\" and
\"policDelivNotifCorreId\" attributes in 3GPP TS 29.519 [23]) in UDR data
creation if the NEF supports the DeliveryOutcome feature (as described in 3GPP
TS 29.504 [4]). If the NEF receives an error response from the UDR, the NEF
shall not create, update or delete the resource and shall respond to the AF
with a proper error status code. If the NEF received within an error response
a \"ProblemDetails\" data structure with a \"cause\" attribute indicating an
application error, the NEF shall relay this error response to the AF with a
corresponding application error, when applicable.
After receiving a successful response from the UDR, the NEF shall:
\- for an HTTP POST request, create an \"Individual Service Parameter
Subscription\" resource which represents the Service Parameter provisioning
request, addressed by a URI that contains the AF Identifier and a NEF-created
configuration identifier, and shall respond to the AF with a 201 Created
status code, including a Location header field containing the URI for the
created resource. The AF shall use the URI received in the Location header in
subsequent requests to the NEF to refer to this Service Parameter
Subscription;
\- for an HTTP PUT or HTTP PATCH request, update the \"Individual Service
Parameter Subscription\" resource which represents the service parameter
provisioning request, and respond to the AF with a 200 OK or 204 No Content
status code; and
\- for an HTTP DELETE request, remove all properties of the resource and
delete the corresponding active \"Individual Service Parameter Subscription\"
resource, then respond to the AF with a 204 No Content status code.
When the NEF receives the Service Specific Authorization Update information
from the UDM by Nudm_ServiceSpecificAuthorization_UpdateNotify service
operation defined in 3GPP TS 29.503 [17], if the authorization is revoked, the
NEF shall provide a notification to AF by sending HTTP POST message that
include the one or more AfNotification data structure(s). Upon receipt of the
notification, the AF shall respond with a \"204 No Content\" status code to
confirm the received notification.
When the NEF receives the notification of the outcome of invocation related to
AF provisioned service parameters from the PCF by Npcf_EventExposure_Notify
service operation defined in 3GPP TS 29.523 [22], the NEF shall determine the
corresponding service parameter subscription and provide a notification to AF
by sending HTTP POST message that include the AfNotification data structure.
Upon receipt of the notification, the AF shall respond with a \"204 No
Content\" status code to confirm the received notification.
### 4.4.21 Procedures for ACS configuration parameter provisioning
The procedures are used by the AF to provide ACS configuration information to
5G system via NEF.
In order to provision the ACS configuration information, the AF shall send an
HTTP POST message to the NEF to the resource \"ACS Configuration
Subscriptions\", the HTTP POST message shall include AcsConfigurationData data
structure as request body. The AcsConfigurationData data structure shall
include:
\- the URL of the ACS or the address of the ACS within the \"acsInfo\"
attribute; and
\- indication of the UEs to which the subscription applies via:
> a) identification of an individual UE via a \"gpsi\" attribute; or
>
> b) identification of a group of UE(s) via a \"exterGroupId\" attribute.
In order to update an existing ACS configuration subscription, the AF shall
send an HTTP PUT message to the NEF to the resource \"Individual ACS
Configuration Subscription\" requesting to change the subscription. The body
of the HTTP PUT request message shall include AcsConfigurationData data type.
The External Group Identifier or GPSI shall remain unchanged from previous
values.
If the \"PatchUpdate\" feature defined in clause 5.12.3 is supported, in order
to partially modify an existing ACS Configuration subscription, the AF shall
send an HTTP PATCH request message to the NEF on the \"Individual ACS
Configuration Subscription\" resource, with the request body containing the
AcsConfigurationDataPatch data structure including only the attributes that
shall be modified.
In order to delete an existing ACS configuration subscription, the AF shall
send an HTTP DELETE message to the NEF to the resource \"Individual ACS
configuration Subscription\".
Upon receipt of the corresponding HTTP message, if the AF is authorized by the
NEF to provision the parameters, the NEF shall interact with the UDM to create
a subscription at the UDM by using Nudm_ParameterProvision service as defined
in 3GPP TS 29.503 [17].
After receiving a successful response from the UDM, the NEF shall,
\- for the HTTP POST request, create a resource \"Individual ACS Configuration
Subscription\" which represents the ACS configuration parameter provisioning
request, addressed by a URI that contains the AF Identifier and an NEF-created
configuration identifier, and shall respond to the AF with a 201 Created
status code, including a Location header field containing the URI for the
created resource. The AF shall use the URI received in the Location header in
subsequent requests to the NEF to refer to this ACS Configuration
Subscription.
\- for the HTTP PUT/PATCH request, update/modify the concerned \"Individual
ACS Configuration Subscription\" resource which represents the ACS
configuration, and shall responds to the AF with an HTTP \"200 OK\" or an HTTP
\"204 No Content\" status code.
\- for the HTTP DELETE request, remove all properties of the resource and
delete the corresponding active resource \"Individual ACS Configuration
Subscription\", then shall responds to the AF with a 204 No Content status
code.
### 4.4.22 Procedures for Mobile Originated Location Request
#### 4.4.22.1 General
The procedure is used by NEF to transfer the updated UE location information
to AF. The following procedure support:
> \- Notify the AF of the updated UE location information as described in
> clause 6.2 of 3GPP TS 23.273 [36];
#### 4.4.22.2 Location Update Notification triggered by UE
In order to notify the AF of the updated UE location information received from
GMLC, the NEF shall initiate an HTTP POST request to the AF. The body of the
HTTP POST message shall include the location information related to UE MO-LR
within the LocUpdateData data structure.
Upon receipt of the corresponding HTTP POST message, if the AF cannot handle
the location estimate of the UE, e.g. the UE does not register to the AF, the
AF shall respond to the NEF with an error code. Otherwise, the AF shall handle
the location estimate according to the Service Identity if provided, and send
a HTTP response including \"200 OK\" status code with LocUpdateDataReply data
structure.
### 4.4.23 Procedures for AKMA
#### 4.4.23.1 General
The procedures support:
> \- request AKMA application key by the AF to the AAnF via the NEF as
> described in clause 6.3 of 3GPP TS 33.535 [37];
#### 4.4.23.2 AKMA Application Key Request
In order to retrieve the AKMA application key, the AF shall send an HTTP POST
request message to the resource URI \"{apiRoot}/3gpp-akma/v1/retrieve\". The
HTTP POST request includes the identification of AF and an A-KID.
Upon receipt of the corresponding HTTP POST message from the AF, if the AF\'s
request is authorized by the NEF, then the NEF shall interact with the AAnF to
retrieve the AKMA application key by using Naanf_AKMA service as defined in
3GPP TS 29.535 [38]. After receiving a successful response from the AAnF, the
NEF shall respond to the AF with a 200 OK status code, including a K~AF~ and
the expiration time of the K~AF,~ and if \"anonInd\" attribute contained in
AkmaAfKeyRequest data type is not set to \"true\" in the incoming request,
optionally the GPSI (external ID) which may be translated from the SUPI
received from the AAnF. The SUPI shall not be included in the response to the
external AF. If the NEF receives an error responsefrom the AAnF, the NEF shall
respond to the AF with a proper error status code.
If the NEF receives a response from the AAnF with an HTTP \"403 Forbidden\"
status code and the response message body including a ProblemDetails data
structure with the \"cause\" attribute set to the \"K_AKMA_NOT_PRESENT\"
application error, then the NEF shall relay this response to the AF.
### 4.4.24 Procedures for Time Synchronization Exposure
#### 4.4.24.0 General
Time synchronization exposure allows an AF to configure time synchronization
in 5GS. For (g)PTP operation, the Time synchronization service allows an AF to
subscribe to the UE and 5GC capabilities and availability for time
synchronization service (as described in clause 4.4.24.1), to configure the
(g)PTP instance in 5GS and monitor time synchronization service status as
described in clause 4.4.24.2. For 5G access stratum based time distribution,
the AF can influence the 5G access stratum time distribution and monitor time
synchronization service status as described in clause 4.4.24.3. The time
synchronization exposure is provided by NEF that uses the service provided by
TSCTSF. The AF that is part of operator\'s trust domain may invoke the
services directly with TSCTSF.
NOTE: The AF can use either the procedure for configuring the (g)PTP instance
in 5GS as described in clause 4.4.24.2 or the procedure for controlling the 5G
access stratum time distribution as described in clause 4.4.24.3 for a
particular UE. The procedures are not intended to be used in conjunction with
each other by the AF. However, the (g)PTP instance activation, modification,
and deactivation can influence the 5G access stratum time distribution for the
UEs that are part of the impacted PTP instance.
#### 4.4.24.1 Subscription and unsubscription to notification of Time
Synchronization Capabilites
The procedures are used by the AF to subscribe to notifications and to
explicitly cancel a previous subscription to notification of capabilities of
the time synchronization service for a list of UE(s), a group of UEs or any UE
using a DNN/S-NSSAI combination via the NEF.
In order to subscribe to the notification of capabilities of UE and 5GC, and
availability for the time synchronization service, the AF shall send an HTTP
POST rmessage to the NEF to the customized operation URI \"{apiRoot}/3gpp-
time-sync/v1/{afId}/subscriptions\". The HTTP POST request message body shall
include the TimeSyncExposureSubsc data structure that shall include:
\- one of the indication of the UEs to which the time synchronization
capabilities is requested via:
1)identification of a list of individual UEs within a \"gpsis\" attribute;
2)indication of any UE within the \"anyUeInd\" attribute if DNN and S-NSSAI
are provisioned; or
3)identification of a group of UE(s) via a \"exterGroupId\" attribute.
\- subscription to event(s) notification as \"subscribedEvents\" attribute
when the NF service consumer needs to subscribe to notifications;
\- notification URI within the \"subsNotifUri\" attribute; and
\- notification correlation Id within the \"subsNotifId\" attribute;
and may include:
\- either the DNN within the \"dnn\" attribute and the \"snssai\" attribute or
the AF Service Identifier within the \"afServiceId\" attribute;
\- the requested event filter(s) within the \"eventFilters\" attribute;
\- notification methods within the \"notifMethod\" attribute;
\- maximum number of reports within the \"maxReportNbr\" attribute;
\- expiry time within the \"expiry\" attribute; and
\- report period within the \"repPeriod\" attribute.
Upon the reception of an HTTP POST request, if the AF is authorized, the NEF
shall select a TSCTSF based on the local configuration or discover the TSCTSF
via Nnrf_NFDiscovery service as defined in 3GPP TS 29.510 [57] for a
DNN/S-NSSAI combination, if not configured. If the DNN and the S-NSSAI is
omitted in the AF request, prior the TSCTSF discovery the NEF shall determine
the corresponding DNN and S-NSSAI based on the received AF Service Identifier.
After the NEF obtains the TSCTSF, the NEF shall invoke the
Ntsctsf_TimeSynchronization_CapsSubscribe request service operation as defined
in clause 5.2.2.2.2 of 3GPP TS 29.565 [50] to the selected TSCTSF. If the NEF
receives an error responsefrom the TSCTSF, the NEF shall not create the
resource and shall respond to the AF with a proper error status code. If the
NEF received within an error response a \"ProblemDetails\" data structure with
a \"cause\" attribute indicating an application error, the NEF shall relay
this error response to the AF with a corresponding application error, when
applicable.
NOTE: It is assumed that there is only one TSCTSF set for a given DNN/S-NSSAI
in this release of the specification.
After receiving a successful response from the TSCTSF, the NEF shall create an
\"Individual Time Synchronization Exposure Subscription\" resource which
represents the time synchronization exposure subscription request, addressed
by a URI that contains the AF Identifier and a NEF-created configuration
identifier, and shall respond to the AF with a 201 Created status code,
including a Location header field containing the URI for the created resource.
The AF shall use the URI received in the Location header in subsequent
requests to the NEF to refer to this \"Individual Time Synchronization
Exposure Subscription\".
In order to update an existing subscription, the AF shall send an HTTP PUT
message to the NEF targeting the resource \"Individual Time Synchronization
Exposure Subscription\". The body of the HTTP PUT request message shall
include the TimeSyncExposureSubsc data type. Upon receipt of the corresponding
HTTP PUT message, if the AF is authorized by the NEF, the NEF shall interact
with the TSCTSF by invoking Ntsctsf_TimeSynchronization_CapsSubscribe request
service operation as defined in clause 5.2.2.2.3 of 3GPP TS 29.565 [50]. After
receiving a successful response from the TSCTSF, the NEF shall update a
resource \"Individual Time Synchronization Exposure Subscription\" which
represents the exposure subscription, and responds to the AF with a 200 OK
with TimeSyncExposureSubsc data structure or 204 No Content status code.
When the NEF receives the notification of the capabilities of the time
synchronization service from the TSCTSF as defined in clause 5.2.2.4.2 of 3GPP
TS 29.565 [50], the NEF shall provide a notification to AF by sending HTTP
POST message that includes the TimeSyncExposureSubsNotif data structure in the
request body. Upon receipt of the notification, the AF shall respond with a
\"204 No Content\" status code to confirm the received notification.
In order to delete an existing subscription, the AF shall send an HTTP DELETE
message to the NEF targeting the resource \"Individual Time Synchronization
Exposure Subscription\". The NEF shall interact with the TSCTSF by invoking
the Ntsctsf_TimeSynchronization_CapsUnsubscribe service operation as defined
in clause 5.2.2.3.2 of 3GPP TS 29.565 [50] and delete the corresponding active
\"Individual Time Synchronization Exposure Subscription\" resource, then
respond to the AF with a 204 No Content status code.
#### 4.4.24.2 Time Synchronization Exposure Configuration
The procedures are used by the AF to activate, modify or deactivate the (g)PTP
instances by performing the time synchronization configuration at the NEF.
In order to configure the time synchronization parameters, the AF shall
initiate an HTTP POST request to the NEF for the \"Time Synchronization
Exposure Configurations\" resource. The body of the HTTP POST message shall
include the Time Synchronization related parameters within the
TimeSyncExposureConfig data structure. To subscribe to time synchronization
stauts reports, and if the feature \"NetTimeSyncStatus\" is supported, the
TimeSyncExposureConfig data structure shall provide the clock quality
acceptance criteria.
Upon receipt of the corresponding HTTP POST message and the request is
authorized by the NEF, the NEF translates any potentially received Time
Synchronization Coverage Area from an external representation (e.g.
geographical area) to an internal representation (e.g. TAI list) if the
\"CoverageArea\" feature is supported, and invokes the
Ntsctsf_TimeSynchronization_ConfigCreate service operation with the
corresponding TSCTSF as defined in 3GPP TS 29.565 [50]. After receiving a
successful response from the TSCTSF, the NEF shall create a new resource and
assign an identifier for the \"Individual Time Synchronization Exposure
Configuration\" resource. Then the NEF shall send a HTTP \"201 Created\"
response with TimeSyncExposureConfig data structure as response body and a
Location header field containing the URI of the created individual resource.
In order to update an existing Individual Time Synchronization Exposure
Configuration, the AF may send an HTTP PUT message to the resource
\"Individual Time Synchronization Exposure Configuration\" requesting the NEF
to change all properties in the existing resource. The body of the HTTP PUT
request message shall include TimeSyncExposureConfig data type as defined in
clause 5.15.4.3.6. The user plane node Id shall remain unchanged from previous
values.
Upon receipt of the corresponding HTTP PUT message and the request is
authorized by the NEF, the NEF shall interact with the TSCTSF to modify an
existing resource at the TSCTSF by using
Ntsctsf_TimeSynchronization_ConfigUpdate service operation as defined in 3GPP
TS 29.565 [50]. If the modification request is accepted by the TSCTSF and the
TSCTSF informs the NEF with a successful response, the NEF shall update the
existing resource for the \"Individual Time Synchronization Exposure
Configuration\" resource. Then the NEF shall send a HTTP response including
\"200 OK\" status code with TimeSyncExposureConfig data structure or \"204 No
Content\" status code.
When the NEF receives the notification of the current state of time
synchronization service configuration and/or if the feature
\"NetTimeSyncStatus\" is supported, the time synchronization service status
update from the TSCSF by Ntsctsf_TimeSynchronization_ConfigUpdateNotify
service operation defined in 3GPP TS 29.565 [50], the NEF shall provide a
notification to AF by sending HTTP POST message that include the
TimeSyncExposureConfigNotif data structure in the request body. Upon receipt
of the notification, the AF shall respond with a \"204 No Content\" status
code to confirm the received notification.
To delete an existing \"Individual Time Synchronization Exposure
Configuration\", the AF shall initiate an HTTP DELETE request to the NEF for
the \"Individual Time Synchronization Exposure Subscription\" resource.
Upon receipt of the corresponding HTTP DELETE message, if the AF is
authorized, the NEF shall interact with the TSCTSF to delete an existing
Individual Time Synchronization Exposure Configuration at the TSCTSF by using
Ntsctsf_TimeSynchronization_ConfigDelete service operation as defined in 3GPP
TS 29.565 [50]. If the request is accepted by the TSCTSF, the NEF shall delete
the existing resource for the \"Individual Time Synchronization Exposure
Configuration\" resource. Then the NEF shall send a HTTP \"204 No Content\"
response.
#### 4.4.24.3 Management of 5G access stratum time distribution
The procedures are used by the AF to activate, update or delete the 5G access
stratum time distribution for one UE or group of UEs.
In order to configure the 5G access stratum time distribution parameters, the
AF shall initiate an HTTP POST request to the NEF for the \"ASTI
Configurations\" resource. The body of the HTTP POST message shall include the
5G access stratum time distribution parameters within the
AccessTimeDistributionData data structure as defined in clause 5.22.4.3.2.
Upon receipt of the corresponding HTTP POST message and the request is
authorized by the NEF, the NEF shall select a TSCTSF based on the local
configuration or discover the TSCTSF via Nnrf_NFDiscovery service as defined
in 3GPP TS 29.510 [57] for the GPSI or external group identifier, if not
configured. After the NEF obtains the TSCTSF, the NEF translates any
potentially received Time Synchronization Coverage Area from an external
representation (e.g. geographical area) to an internal representation (e.g.
TAI list) if the \"CoverageArea\" feature is supported, and invokes the
Ntsctsf_ASTI_Create service operation with the corresponding TSCTSF, if
available, as defined in 3GPP TS 29.565 [50]. After receiving a successful
response from the TSCTSF, the NEF shall create a new resource and assign an
identifier for the \"Individual ASTI Configuration\" resource. Then the NEF
shall send a HTTP \"201 Created\" response with AccessTimeDistributionData
data structure as response body and a Location header field containing the URI
of the created individual resource. If the NEF receives an error responsefrom
the TSCTSF, the NEF shall not create the resource and shall respond to the AF
with a proper error status code. If the NEF received within an error response
a \"ProblemDetails\" data structure with a \"cause\" attribute indicating an
application error, the NEF shall relay this error response to the AF with a
corresponding application error, when applicable.
In order to update an existing Individual ASTI Configuration, the AF may send
an HTTP PUT message to the resource \"Individual ASTI Configuration\"
requesting the NEF to change all properties in the existing resource. The body
of the HTTP PUT request message shall include the AccessTimeDistributionData
data type.
Upon receipt of the corresponding HTTP PUT message and the request is
authorized by the NEF, the NEF shall interact with the TSCTSF to modify an
existing resource at the TSCTSF by using Ntsctsf__ASTI_Update service
operation as defined in 3GPP TS 29.565 [50]. If the modification request is
accepted by the TSCTSF and the TSCTSF informs the NEF with a successful
response, the NEF shall update the existing resource for the \"Individual ASTI
Configuration\" resource. Then the NEF shall send a HTTP response including
\"200 OK\" status responsewith AccessTimeDistributionData data structure or
\"204 No Content\" status code. If the NEF receives an error code from the
TSCTSF, the NEF shall not update the resource and shall respond to the AF with
a proper error status code. If the NEF received within an error response a
\"ProblemDetails\" data structure with a \"cause\" attribute indicating an
application error, the NEF shall relay this error response to the AF with a
corresponding application error, when applicable.
To delete an existing Individual ASTI Configuration, the AF shall initiate an
HTTP DELETE request to the NEF for the \"Individual ASTI Configuration\"
resource.
Upon receipt of the corresponding HTTP DELETE message, if the AF is
authorized, the NEF shall interact with the TSCTSF to delete an existing
Individual ASTI Configuration at the TSCTSF by using Ntsctsf_ASTI_Delete
service operation as defined in 3GPP TS 29.565 [50]. If the request is
accepted by the TSCTSF, the NEF shall delete the existing resource for the
\"Individual ASTI Configuration\" resource. Then the NEF shall send a HTTP
\"204 No Content\" response. If the NEF receives an error responsefrom the
TSCTSF, the NEF shall not delete the resource and shall respond to the AF with
a proper error status code. If the NEF received within an error response a
\"ProblemDetails\" data structure with a \"cause\" attribute indicating an
application error, the NEF shall relay this error response to the AF with a
corresponding application error, when applicable.
AF may request and query the status of the access stratum time distribution
sending the HTTP POST request, \"retrieve\" custom operation, to the
resource\"ASTI Configurations\". The body of the HTTP POST request message
shall include the StatusRequestData data type as defined in clause 5.22.4.3.3.
Upon receipt of the corresponding HTTP POST message, if the AF is authorized,
the NEF shall interact with the TSCTSF by using Ntsctsf_ASTI_Get service
operation as defined in 3GPP TS 29.565 [50]. Upon receipt of response from the
TSCTSF, the NEF shall shall send a HTTP \"200 OK\" response with the
StatusResponseData data structure as defined in clause 5.22.4.3.4 in the
payload. If the NEF receives an error responsefrom the TSCTSF, the NEF shall
respond to the AF with a proper error status code. If the NEF received within
an error response a \"ProblemDetails\" data structure with a \"cause\"
attribute indicating an application error, the NEF shall relay this error
response to the AF with a corresponding application error, when applicable.
4.4.25 Procedures for ECS address Provisioning
The procedures are used by the AF to provision ECS address(es) to the NEF. The
procedures are applicable for an individual UE or a group of UEs.
In order to create an Individual ECS Address Provision Configuration resource,
the AF shall initiate an HTTP POST request to the NEF for the \"ECS Address
Provision Configurations\" resource. The body of the HTTP POST message shall
include within the EcsAddressProvision data structure the ECS address(es) via
the \"ecsServerAddr\" attribute, may include the spatial validity condition
via the \"spatialValidityCond\" attribute and target of UE information via the
\"tgtUe\" attirbute. Upon receipt of the corresponding HTTP POST message, if
the AF is authorized by the NEF to provision the ECS address(es), the NEF
shall interact with the UDM to create a resource at the UDM by using
Nudm_ParameterProvision service as defined in 3GPP TS 29.503 [17]. If the
request is accepted by the UDM and the UDM informs the NEF with a successful
response, the NEF shall create a new resource and assign an identifier for the
\"Individual ECS Address Provision Configuration\" resource. Then the NEF
shall send a HTTP \"201 Created\" response with EcsAddressProvision data
structure as response body and a Location header field containing the URI of
the created individual resource.
In order to update an existing Individual ECS Address Provision Configuration,
the AF shall send an HTTP PUT message to the resource \"Individual ECS Address
Provision Configuration\" requesting the NEF to change all properties in the
existing resource. The body of the HTTP PUT request message shall include the
EcsAddressProvision data type. Upon receipt of the corresponding HTTP PUT
message, if the AF is authorized by the NEF to provision the ECS address(es),
the NEF shall interact with the UDM to modify an existing resource at the UDM
by using Nudm_ParameterProvision service as defined in 3GPP TS 29.503 [17]. If
the modification request is accepted by the UDM and the UDM informs the NEF
with a successful response, the NEF shall update the existing resource for the
\"Individual ECS Address Provision Configuration\" resource. Then the NEF
shall send a HTTP response including \"200 OK\" status code with
EcsAddressProvision data structure or \"204 No Content\" status code.
To delete an existing Individual ECS Address Provision Configuration, the AF
shall initiate an HTTP DELETE request to the NEF for the \"Individual ECS
Address Provision Configuration\" resource. Upon receipt of the corresponding
HTTP DELETE message, if the AF is authorized, the NEF shall interact with the
UDM to delete the existing resource at the UDM by using
Nudm_ParameterProvision service as defined in 3GPP TS 29.503 [17]. If the
request is accepted by the UDM, the NEF shall delete the existing resource for
the \"Individual ECS Address Provision Configuration\" resource. Then the NEF
shall send a HTTP \"204 No Content\" response.
### 4.4.26 Procedures for AM Policy Authorization
#### 4.4.26.1 General
The procedures are used by AF to send request to NEF for AM Policy
Authorization, and for NEF to authorize an AF triggered AM Policy
Authorization request and trigger a respective Npcf_AMPolicyAuthorization
request. This service also allows the AF to subscribe/unsubscribe the
notification of event(s) for the existing AF application AM context.
The following procedures support:
\- Create/Modify/Delete of AF triggered application AM context; and
\- Subscribe/Unsubscribe/Notify event(s) for the existing AF application AM
context.
#### 4.4.26.2 Creation of a new Individual Application AM Context
In order to create a new Individual application AM context resource for a
given AF, the AF shall initiate an HTTP POST request to the NEF for the
\"Application AM Contexts\" resource. The HTTP POST request message body shall
include the AppAmContextExpData data structure that shall include:
\- identification of an individual UE via a \"gpsi\" attribute;
and may include:
\- subscription to AM policy event(s) notification as \"evSubscs\" attribute.
For each subscribed event, the AF may include the description of the event
reporting mode, as e.g. whether immediate reporting is required;
\- a high throughput requirement Indication as \"highThruInd\" attribute;
\- service coverage requirements as \"covReqs\" attribute; and
\- policy duration requirement as \"policyDuration\" attribute.
Upon receipt of the corresponding HTTP POST message, if the AF is authorized
by the NEF to request the AM policy authorization, the NEF may interact with
the BSF to retrieve the related PCF information by invoking the
Nbsf_Management_Discovery service operation as described in 3GPP TS 29.521
[9]. If the NEF received within an error response a \"ProblemDetails\" data
structure with a \"cause\" attribute indicating an application error, the NEF
shall relay this error response to the AF with a corresponding application
error, when applicable. After receiving a successful response from the BSF,
the NEF shall trigger a respective Npcf_AMPolicyAuthorization_Create request
as defined in 3GPP TS 29.534 [43]. If the request is accepted by the PCF and
the PCF informs the NEF with a successful response, the NEF shall create a new
\"Individual application AM Context\" and assign an application AM context
identifier for the \"Individual application AM Context\" resource.
Then the NEF shall send a HTTP \"201 Created\" response with:
\- AppAmContextExpRespData data structure as response body, including the
created \"Individual application AM Context\" resource and, if immediate
reporting was requested for the subscribed event(s), the currently available
value(s), if received from the PCF; and
\- a Location header field containing the URI of the created \"Individual
application AM Context\" resource to the AF.
If the NEF receives an error responsefrom the PCF, the NEF shall not create
the resource and shall respond to the AF with a proper error status code. If
the NEF received within an error response a \"ProblemDetails\" data structure
with a \"cause\" attribute indicating an application error, the NEF shall
relay this error response to the AF with a corresponding application error,
when applicable.
#### 4.4.26.3 Modification of an existing individual Application AM Context
In order to modify an existing individual Application AM Context resource, the
AF shall initiate an HTTP PATCH request to the NEF for the \"Individual
application AM Context\" resource. The body of the HTTP PATCH message shall
include the AppAmContextExpUpdateData data type as defined in clause
5.17.1.3.3.3.
Upon receipt of the corresponding HTTP PATCH message, if the AF is authorized
by the NEF to modify the AM policy authorization request, the NEF shall
interact with the PCF to modify an existing application AM context by using
Npcf_AMPolicyAuthorization_Update request as defined in 3GPP TS 29.534 [43].
If the modification request is accepted by the PCF and the PCF informs the NEF
with a successful response, the NEF shall update the existing application AM
context for the \"Individual application AM Context\" resource. Then the NEF
shall send a HTTP response including \"200 OK\" status code with
AppAmContextExpRespData data structure (including the updated resource
representation and, if immediate reporting was requested for the new
subscribed event(s), the currently available value(s), if received from the
PCF) or \"204 No Content\" status code to the AF.
If the NEF receives an error responsefrom the PCF, the NEF shall not modify
the resource and shall respond to the AF with a proper error status code. If
the NEF received within an error response a \"ProblemDetails\" data structure
with a \"cause\" attribute indicating an application error, the NEF shall
relay this error response to the AF with a corresponding application error,
when applicable.
#### 4.4.26.4 Deletion of an existing individual Application AM Context
To delete an existing application AM context, the AF shall initiate an HTTP
DELETE request to the NEF for the \"Individual application AM Context\"
resource.
Upon receipt of the corresponding HTTP DELETE message, if the AF is authorized
to delete the application AM context, the NEF shall interact with the PCF to
delete an existing application AM context at the PCF by using
Npcf_AMPolicyAuthorization_Delete request as defined in 3GPP TS 29.534 [43].
If the request is accepted by the PCF and informs the NEF with a successful
response, the NEF shall delete the existing application AM context for the
\"Individual application AM Context\" resource. Then the NEF shall send a HTTP
\"204 No Content\" response to the AF.
If the NEF receives an error responsefrom the PCF, the NEF shall take proper
error handling action and shall respond to the AF with a proper error status
code. If the NEF received within an error response a \"ProblemDetails\" data
structure with a \"cause\" attribute indicating an application error, the NEF
shall relay this error response to the AF with a corresponding application
error, when applicable.
#### 4.4.26.5 Create or modify subscription to notification of AM policy event
In order to create or modify the subscription to notification of AM policy
event(s) for the application AM context, the AF shall send an HTTP PUT message
to the NEF to the sub-resource \"AM Policy Events Subscription\", the HTTP PUT
message shall include the AmEventsSubscData data structure as request body.
Upon receipt of the HTTP request from the AF, if the AF is authorized, the NEF
shall interact with the PCF to subscribe to, or modify the subscription to the
AM policy event notification by using Npcf_AMPolicyAuthorization_Subscribe
request as defined in 3GPP TS 29.534 [43]. If the request is accepted by the
PCF and the PCF informs the NEF with a successful response, the NEF shall
create a new AM policy event subscription sub-resource in an existing
application AM context or modify an existing AM policy event subscription to
the \"AM Policy Events Subscription\" sub-resource. Then the NEF shall send:
\- for a subscription creation request, an HTTP \"201 Created\" response with:
a. AmEventsSubscRespData data structure as response body, including the
created \"AM Policy Events Subscription\" resource and, if immediate reporting
was requested for the subscribed event(s), the currently available value(s),
if received from the PCF; and
b. a Location header field containing the URI of the created individual
subscription resource to the AF; or
\- for a subscription update request, an HTTP \"200 OK\" response code with
AmEventsSubscRespData data structure with the updated \"AM Policy Events
Subscription\" resource or HTTP \"204 No Content\" response code and, if
immediate reporting was requested for the subscribed event(s), the currently
available value(s), if received from the PCF;
as response body to the AF.
If the NEF receives an error responsefrom the PCF, the NEF shall not create or
modify the sub-resource and shall respond to the AF with a proper error status
code. If the NEF received within an error response a \"ProblemDetails\" data
structure with a \"cause\" attribute indicating an application error, the NEF
shall relay this error response to the AF with a corresponding application
error, when applicable.
#### 4.4.26.6 Unsubscription to notification of AM policy event
In order to delete existing subscribed AM policy event(s) within the existing
Individual application AM context, the AF shall initiate the HTTP DELETE
request message to the NEF to the \"AM Policy Events Subscription\" sub-
resource.
Upon receipt of the corresponding HTTP DELETE message, if the AF is authorized
to delete the notification of AM policy event(s), the NEF shall interact with
the PCF to delete an existing subscription of notification to AM policy
event(s) within the existing application AM context at the PCF by using
Npcf_AMPolicyAuthorization_Unsubscribe request as defined in 3GPP TS 29.534
[43]. If the request is accepted by the PCF and informs the NEF with a
successful response, the NEF shall delete the existing subscription to
notification of AM policy event(s) within the existing application AM context
for the \"AM Policy Events Subscription\" resource. Then the NEF shall send a
HTTP \"204 No Content\" response to the AF.
If the NEF receives an error responsefrom the PCF, the NEF shall take proper
error handling action and shall respond to the AF with a proper error status
code. If the NEF received within an error response a \"ProblemDetails\" data
structure with a \"cause\" attribute indicating an application error, the NEF
shall relay this error response to the AF with a corresponding application
error, when applicable.
#### 4.4.26.7 Notification of AM policy event
If the NEF receives an AM policy event notification from the PCF indicating
that the subscribed AM policy event has been detected, the NEF shall provide a
notification to AF by sending HTTP POST message that include the
AmEventsNotification data structure in the request body. Upon receipt of the
AM policy event notification, the AF shall respond with a \"204 No Content\"
status code to confirm the received notification to the NEF.
### 4.4.27 Procedures for AF triggered Access and Mobility Influence
#### 4.4.27.1 General
The procedures are used by the AF to provision the Access and Mobility(AM)
policy related request via NEF to one or multiple UEs that may have already
registered or not. This service also allows the NEF to send the notification
of service area coverage outcome events to the AF.
#### 4.4.27.2 Create the AM Influence Subscription
In order to create a resource for the AM Influence, the AF shall send an HTTP
POST request message to the NEF for the \"AM Influence Subscription\"
resource. The request message may include the AF Transaction Identifier, GPSI,
DNN, S-NSSAI, External Group Identifier, list of External Application
Identifier(s), and for LBO roaming scenarios, a list of PLMN ID(s) for inbound
roaming UEs, AF Service Identifier, throughput requirements, service area
coverage requirements represented by list of geographical areas, policy
duration, subscribed event(s) and the notification destination address.
The request may target one or multiple UEs that may have already registered or
not. For an individual UE identified by GPSI, or a group of UEs identified by
External Group Identifier, the NEF shall interact with the UDM by invoking the
Nudm_SubscriberDataManagement service as described in 3GPP TS 29.503 [17] to
retrieve the SUPI or Internal Group Identifier. For all UEs, the NEF will not
interact with the UDM.
The NEF shall interact with the UDR by invoking the Nudr_DataRepository
service as described in 3GPP TS 29.504 [20] to store the policy data in the
UDR.
If the NEF receives an error response from the UDR, the NEF shall not create
the resource and shall respond to the AF with a proper error status code. If
the NEF received within an error response a \"ProblemDetails\" data structure
with a \"cause\" attribute indicating an application error, the NEF shall
relay this error response to the AF with a corresponding application error,
when applicable.
After receiving a successful response from the UDR, the NEF shall create a
resource \"Individual AM Influence Subscription\", which represents the AM
influence subscription, addressed by a URI that contains the AF Identifier and
an NEF-created subscription identifier. The NEF shall respond to the AF with a
\"201 Created\" status code, including a Location header field containing the
URI for the created resource. The AF shall use the URI received in the
Location header when it subsequently sends requests to the NEF to reference
this AM influence subscription.
#### 4.4.27.3 Modifiy the AM Influence Subscription
In order to update an existing AM influence subscription, the AF shall send an
HTTP PUT or HTTP PATCH request message to the NEF for the \"Individual AM
Influence Subscription\" resource. The NEF shall interact with the UDR by
invoking the Nudr_DataRepository service as described in 3GPP TS 29.504 [20]
to update the policy data in the UDR.
If the NEF receives an error responsefrom the UDR, the NEF shall not update
the resource and shall respond to the AF with a proper error status code. If
the NEF received within an error response a \"ProblemDetails\" data structure
with a \"cause\" attribute indicating an application error, the NEF shall
relay this error response to the AF with a corresponding application error,
when applicable.
After receiving a successful response from the UDR, the NEF shall update the
\"Individual AM Influence Subscription\" resource which represents the AM
influence subscription, and shall respond to the AF with an HTTP \"200 OK\" or
\"204 No Content\" response message.
#### 4.4.27.4 Delete the AM Influence Subscription
In order to delete an existing AM influence subscription, the AF shall send an
HTTP DELETE request message to the NEF for the \"Individual AM Influence
Subscription\" resource. The NEF shall interact with the UDR by invoking the
Nudr_DataRepository service as described in 3GPP TS 29.504 [20] to delete the
policy data in the UDR. If the NEF receives an error responsefrom the UDR, the
NEF shall take proper error handling actions and shall respond to the AF with
a proper error status code. If the NEF received within an error response a
\"ProblemDetails\" data structure with a \"cause\" attribute indicating an
application error, the NEF shall relay this error response to the AF with a
corresponding application error, when applicable.
After receiving a successful response from the UDR, the NEF shall delete the
\"Individual AM Influence Subscription\" resource which represents the AM
influence subscription, and shall respond to the AF with an HTTP \"204 No
Content\" response message.
#### 4.4.27.5 Notification of service area coverage outcome events
When the NEF receives the notification of service area coverage outcome events
from the PCF as defined in 3GPP TS 29.534 [43], the NEF shall provide a
notification by sending an HTTP POST message to the AF. The HTTP POST message
shall include the subscribed event (service area coverage outcome event) to
the AF identified by the notification destination received during the
creation/modification of the AM Influence resource.
Upon receipt of the event notification, the AF shall respond with a \"204 No
Content\" status code to confirm the received event notification.
### 4.4.28 Procedures for Northbound EAS Deployment Information management
#### 4.4.28.1 General
The procedures are used by AF to provide, update or delete EAS Deployment
Information to NEF, and for NEF to authorize the AF provisioned EAS Deployment
Information to be stored in the UDR.
The following procedures support:
\- Create/Update/Delete the AF provisioned EAS Deployment information;
#### 4.4.28.2 Creation of a new Individual EAS Deployment information resource
In order to create a new Individual EAS Deployment information resource for a
given AF, the AF shall initiate an HTTP POST request to the NEF for the \"EAS
Deployment Information\" resource. The HTTP POST request message body shall
include the EasDeployInfo data structure that shall include:
\- FQDN(s) of an application deployed in the Local part of the DN via an
\"fqdnPatternList\" attribute;
and may include:
\- an AF service identifier as the \"afServiceId\" attribute;
\- an DNN as \"dnn\" attribute;
\- an S-NSSAI as \"snssai\" attribute;
\- an external Group Identifier as \"exterGroupId\" attribute;
\- identification of an application as \"appId\" attribute;
\- list of DNS server identifier and/or IP address(s) of the EAS in the local
DN for each DNAI as \"dnaiInfos\" attribute; and
\- the identifier of the AF that is responsible for the EAS associated with
this EAS deployment information as \"targetAfId\" attribute, if the
\"EasRelocationEnh\" feature is supported.
NOTE 1: The AF responsible for the EAS (indicated by the \"targetAfId\"
attribute) can be different from the AF that creates the EAS Deployment
information (indicated by the \"afId\" attribute in the URI of the resource).
NOTE 2: When the \"targetAfId\" attribute is provided, then all DNAI(s)
correspond to the same EHE provider. The \"targetAfId\" attribute can be used
in case of AF(s) involving different EHE providers, and the source EHE is
unaware of other/target EHE specific deployment details.
Upon receipt of the corresponding HTTP POST message, if the AF is authorized
by the NEF to provide the EAS Deployment Information, the NEF shall interact
with the UDM by using Nudm_SubscriberDataManagement service as defined in 3GPP
TS 29.503 [17] to translate the external group identifier into the
corresponding internal group identifier and the NEF may derive DNN and S-NSSAI
from the AF Service Identifier if not received explicitly. Then the NEF shall
interact with the UDR to create the associated EAS Deployment information by
using the Nudr_DataRepository service as defined in 3GPP TS 29.504 [20]. If
the request is accepted by the UDR and the UDR informs the NEF with a
successful response, the NEF shall create a new \"Individual EAS Deployment
Information\" resource. Then the NEF shall send a HTTP \"201 Created\"
response with the EasDeployInfo data structure including the contents of the
created EAS Deployment Information resource in theresponse body and a Location
header field containing the URI of the created individual EAS Deployment
Information resource. If the NEF receives an error responsefrom the UDR, the
NEF shall not create the resource and shall respond to the AF with a proper
error status code. If the NEF received within an error response a
\"ProblemDetails\" data structure with a \"cause\" attribute indicating an
application error, the NEF shall relay this error response to the AF with a
corresponding application error, when applicable.
#### 4.4.28.3 Modification of an existing individual EAS Deployment
Information resource
In order to modify an existing individual EAS Deployment Information resource,
the AF shall initiate an HTTP PUT request to the \"Individual EAS Deployment
Information\" resource. The request body shall include the EasDeployInfo data
structure. The \"afServiceId\" value shall remain unchanged from the previous
value, if available in the HTTP PUT message.
Upon receipt of the corresponding HTTP PUT request message, if the AF is
authorized by the NEF to modify the existing individual EAS Deployment
Information resource, the NEF shall interact with the UDR by invoking the
Nudr_DataRepository service as described in 3GPP TS 29.504 [20] to modify the
EAS Deployment Information in the UDR.
If the modification request is accepted by the UDR and the UDR informs the NEF
with a successful response, the NEF shall update the existing individual EAS
Deployment Information resource. Then the NEF shall send a HTTP response
including \"200 OK\" status code with EasDeployInfo data structure or \"204 No
Content\" status code.
If the NEF receives an error responsefrom the UDR, the NEF shall not update
the \"Individual EAS Deployment Information\" resource and shall respond a
proper error status code to the AF. If the NEF received within an error
response a \"ProblemDetails\" data structure with a \"cause\" attribute
indicating an application error, the NEF shall relay this error response to
the AF with a corresponding application error, when applicable.
#### 4.4.28.4 Deletion of an existing individual EAS Deployment Information
resource
In order to delete an existing EAS Deployment Information, the AF shall send
an HTTP DELETE request message to the NEF for the \"Individual EAS Deployment
Information\" resource. The NEF shall interact with the UDR by invoking the
Nudr_DataRepository service as described in 3GPP TS 29.504 [20] to delete the
EAS Deployment Information in the application data in the UDR.
After receiving a successful response from the UDR, the NEF shall delete the
\"Individual EAS Deployment Information\" resource and shall respond to the AF
with an HTTP \"204 No Content\" response message.
If the NEF receives an error responsefrom the UDR, the NEF shall take proper
error handling actions and shall respond to the AF with a proper error status
code. If the NEF received within an error response a \"ProblemDetails\" data
structure with a \"cause\" attribute indicating an application error, the NEF
shall relay this error response to the AF with a corresponding application
error, when applicable.
#### 4.4.28.5 Deletion of EAS Deplyoment Information based on given criteria
In order to delete existing EAS Deployment Information resource(s) which match
given attributes, the NF service consumer shall send an HTTP POST request with
\"{apiRoot}/3gpp-eas-deployment/\/remove-edis\" as URI. The POST
request body shall contain an EdiDeleteCriteria data structure. The
EdiDeleteCriteria data structure provided in the request body shall include at
least one of the following:
\- an AF identifier within the \"afId\" attribute;
\- DNN and slice information within the \"dnnSnssai\" attribute;
Upon the reception of this HTTP POST request, if the NF service consumer is
authorized by the NEF to delete the EAS Deployment Information, the NEF shall
determine the EAS Deployment Information resources that match the provided
criteria and interact with the UDR to delete the associated EAS Deployment
Information by using the Nudr_DataRepository service as defined in 3GPP TS
29.504 [20]. If the request is accepted by the UDR and the UDR informs the NEF
with a successful response, the NEF shall send a HTTP \"204 No Content\"
response. If the NEF receives an error code from the UDR, the NEF shall
respond to the AF with a proper error status code.
### 4.4.29 Procedures for MBS Management
#### 4.4.29.1 General
The procedures described in the clauses below are used by an AF to interact
with the 5GC for MBS management as defined in 3GPP TS 23.247 [53] and 3GPP TS
26.502 [65], in order to carry out the following procedures:
\- MBS TMGI management procedures.
\- MBS Session management procedures.
\- MBS User Service management procedures.
\- MBS User Data Ingest Session management procedures.
#### 4.4.29.2 Procedures for MBS TMGI management
##### 4.4.29.2.1 General
The procedures described in the clauses below are used by an AF to request and
manage TMGI(s) for MBS session(s) as defined in clause 7.1 of 3GPP TS 23.247
[53].
##### 4.4.29.2.2 Procedure for MBS TMGI(s) allocation or MBS TMGI(s) expiry
time refresh
This procedure is used by an AF to request the allocation of TMGI(s) for new
MBS session(s) or the refresh of the expiry time of already allocated MBS
TMGI(s).
In order to request the allocation of TMGI(s) for new MBS session(s) or the
refresh of the expiry time of already allocated MBS TMGI(s), an AF shall send
a Nnef_MBSTMGI_Allocation request message to the NEF using the HTTP POST
method with the request body including the TmgiAllocRequest data structure
that shall contain:
NOTE: The Nnef_MBSTMGI_Allocation service operation corresponds to the stage 2
Nnef_MBSTMGI_Allocate service operation defined in 3GPP TS 23.247 [53].
\- within the \"afId\" attribute, the identifier of the AF that is sending the
request;
\- within the \"tmgiParams\" attribute, the parameters (e.g. number of TMGI(s)
to be allocated, etc.) to request the allocation of TMGI(s) for new MBS
session(s) or the refresh of the expiry time of already allocated TMGI(s);
\- within the \"suppFeat\" attribute, the features supported by the AF, if
feature negotiation needs to take place;
and may contain:
\- within the \"notificationUri\" attribute, the notification URI via which
the AF desires to receive notifications on timer expiry for TMGI(s);
\- within the \"requestTestNotification\" attribute, an indication on whether
the NEF should send a test notification, if the \"Notification_test_event\"
feature is supported;
\- within the \"websockNotifConfig\" attribute, the configuration parameters
to set up notification delivery over Websocket protocol, if the
\"Notification_websocket\" feature is supported; and/or
\- within the either \"mbsServiceArea\" attribute or the \"extMbsServiceArea\"
attribute, the MBS service area for the TMGI(s) to be allocated, which may be
needed for a local MBS service.
The NEF shall then check whether the AF is authorized to perform this
operation or not as defined in clause 6.1.1 of 3GPP TS 23.247 [53]. If the AF
is authorized, then:
\- if the MBS Service Area information is provided via the
\"extMbsServiceArea\" attribute, the NEF shall translate the received
geographical area(s) or civic address(es) to a list of TAI(s) and/or cell
ID(s);
\- the NEF shall determine the target MB-SMF either by querying the NRF to
discover and select an MB-SMF (service) instance that can handle this request,
or based on local configuration; and
\- tthe NEF shall convey this MBS TMGI(s) allocation request or expiry time
refresh request to the selected MB-SMF using the Nmbsmf_TMGI service API as
defined in 3GPP TS 29.532 [52].
Upon reception of a successful response from the MB-SMF as defined in 3GPP TS
29.532 [52], the NEF shall forward the received information (e.g. allocated
MBS TMGI(s), expiry time or updated expiry time of existing MBS TMGI(s), etc.)
to the AF in a Nnef_MBSTMGI_Allocation response message with an HTTP \"200
OK\" status code and the response body including the TmgiAllocResponse data
structure that shall contain:
\- within the \"tmgiInfo\" attribute, the MBS TMGI(s) allocation information
or the refreshed expiry time for already allocated MBS TMGI(s); and
\- within the \"suppFeat\" attribute, the features supported by both the AF
and the NEF, if feature negotiation needs to take place and the AF provided
the list of its supported features in the corresponding request body.
On failure or if the NEF receives an error responsefrom the MB-SMF, the NEF
shall take proper error handling actions, as specified in clause 5.19.7, and
respond to the AF with an appropriate error status code. If the NEF received
within an error response a \"ProblemDetails\" data structure with a \"cause\"
attribute indicating an application error, the NEF shall relay this error
response to the AF with a corresponding application error, when applicable.
##### 4.4.29.2.3 Procedure for MBS TMGI(s) deallocation
This procedure is used by an AF to request the deallocation of previously
allocated MBS TMGI(s).
In order to request the deallocation of previously allocated MBS TMGI(s), an
AF shall send a Nnef_MBSTMGI_Deallocation request message to the NEF using the
HTTP POST method with the request body including the TmgiDeallocRequest data
structure that shall contain :
NOTE: The Nnef_MBSTMGI_Deallocation service operation corresponds to the stage
2 Nnef_MBSTMGI_Deallocate service operation defined in 3GPP TS 23.247 [53].
\- within the \"afId\" attribute, the identifier of the AF that is sending the
request; and
\- within the \"tmgis\" attribute, the list of MBS TMGI(s) for which
deallocation is requested.
The NEF shall then check whether the AF is authorized to perform this
operation or not as defined in clause 6.1.1 of 3GPP TS 23.247 [53]. If the AF
is authorized, the NEF shall convey this MBS TMGI(s) deallocation request to
the MB-SMF using the Nmbsmf_TMGI service API as defined in 3GPP TS 29.532
[52].
Upon reception of a successful response from the MB-SMF confirming the
deallocation of the TMGI(s), the NEF shall forward this confirmation to the AF
in a Nnef_MBSTMGI_Deallocation response message with an HTTP \"204 No
Content\" status code.
On failure or if the NEF receives an error responsefrom the MB-SMF, the NEF
shall take proper error handling actions, as specified in clause 5.19.7, and
respond to the AF with an appropriate error status code. If the NEF received
within an error response a \"ProblemDetails\" data structure with a \"cause\"
attribute indicating an application error, the NEF shall relay this error
response to the AF with a corresponding application error, when applicable.
##### 4.4.29.2.4 Procedure for MBS TMGI(s) timer expiry notification
This procedure is used by the NEF to notify an already subscribed AF of timer
expiry for previously allocated MBS TMGI(s).
In order to notify an AF of timer expiry for previously allocated MBS TMGI(s),
the NEF shall send a Nnef_MBSTMGI_ExpiryNotify request message to the AF using
the HTTP POST method with the request body including the ExpiryNotif data
structure that shall contain:
\- within the \"tmgis\" attribute, the list of MBS TMGI(s) for which the timer
has expired.
Upon reception of this notification request, the AF shall acknowledge its
successful reception by sending a Nnef_MBSTMGI_ExpiryNotify response message
with an HTTP \"204 No Content\" status code.
On failure, the AF shall take proper error handling actions, as specified in
clause 5.19.7, and respond to the NEF with an appropriate error status code.
#### 4.4.29.3 Procedures for MBS session management
##### 4.4.29.3.1 General
The procedures described in the clauses below are used by an AF to create,
update or delete MBS session(s) and to subscribe to / unsubscribe from MBS
Session Status event(s) reporting at the NEF.
This service is applicable for both broadcast and multicast sessions or, for a
location dependent MBS session, the part of an MBS Session within an MBS
service area, as defined in 3GPP TS 23.247 [53].
##### 4.4.29.3.2 Procedure for MBS session creation
This procedure is used by an AF to request the creation of a multicast or a
broadcast MBS session or, for a location dependent MBS session, the part of an
MBS Session within an MBS service area.
In order to request the creation of an MBS Session, an AF shall send a
Nnef_MBSSession_Create request to the NEF using the HTTP POST method and
targeting the \"MBS Sessions\" collection resource with the request message
body including the MbsSessionCreateReq data structure that shall contain:
\- within the \"afId\" attribute, the identifier of the AF that is sending the
request; and
\- within the \"mbsSession\" attribute, the characteristics of the MBS session
that is to be created.
The \"mbsSession\" attribute shall be encoded using the MbsSession data
structure that shall contain:
\- within the \"mbsSessionId\" attribute, the identifier of the MBS Session
(e.g. SSM, TMGI), if available;
\- within the \"tmgiAllocReq\" attribute, the TMGI allocation request
indication, if the \"mbsSessionId\" attribute is either absent or does not
contain a TMGI; and
\- within the \"serviceType\" attribute, the MBS service type (i.e. multicast
or broadcast);
\- within the \"locationDependent\" attribute, the location dependent MBS
session indication, if the request is related to a location dependent MBS;
and may further contain:
\- for a multicast or a broadcast MBS session:
\- within the \"ingressAddrReq\" attribute, the ingress transport address
request indication to indicate whether the allocation of an ingress transport
address is requested or not;
\- within the \"extMbsServiceArea\" attribute, the MBS service area, for a
location dependent MBS session or a local MBS session;
\- within the \"activationTime\" attribute, the MBS session activation time;
\- within the \"terminationTime\" attribute, the MBS session termination time;
\- within the \"mbsServInfo\" attribute, the MBS Service Information for the
MBS session; and
\- within the \"mbsSessionSubsc\" attribute, the parameters to request the
creation of a subscription to MBS session status event(s) reporting;
\- for a multicast MBS session:
\- within the \"activityStatus\" attribute, the MBS session activity status
(i.e. active or inactive); and
\- within the \"anyUeInd\" attribute, the indication of whether any UE may
join the MBS session;
\- for a broadcast MBS session:
\- within the \" mbsFsaIdList\" attribute, the list of MBS frequency selection
area Identifiers (i.e. FSA IDs); and
\- within the \"associatedSessionId\" attribute, the Associated Session ID.
At the reception of this HTTP POST request for MBS session creation:
\- the NEF may decide to interact with the PCF for MBS policy authorization of
the received MBS Service Information;
\- if the NEF decides to interact with the PCF, then:
\- if the NEF did not receive an MBS Session Identifier or received a TMGI
allocation request within the \"tmgiAllocReq\" attribute, the NEF shall
request TMGI allocation to the MB-SMF using the Nmbsmf_TMGI service API, as
specified in 3GPP TS 29.532 [52];
\- if the received MBS Session Creation request is for the creation of an MBS
Session that is part of a location dependent MBS, i.e. the
\"locationDependent\" attribute is present and set to \"true\", and there is a
need to select the same PCF for all the MBS Sessions composing the location
dependent MBS, the NEF shall interact with the BSF using the Nbsf_Management
service API to check whether there is already a PCF serving the MBS Sessions
of the location dependent MBS based on the MBS Session Identifier, as
specified in 3GPP TS 29.532 [52]. Then:
NOTE 1: Interacting with the BSF to discover whether there is already a PCF
serving the MBS Session is not necessary in a deployment with a single PCF.
\- if there is a PCF already serving the MBS Sessions of the location
dependent MBS, the NEF shall use this PCF for MBS policy authorization of the
received MBS Service Information;
\- if there is no PCF already serving the MBS Sessions of the location
dependent MBS or the NEF did not interact with the BSF, the NEF shall interact
with the NRF using the Nnrf_NFDiscovery service API to discover a PCF
(service) instance to serve the MBS Session possibly based on the MBS Session
Identifier, as specified in 3GPP TS 29.510 [57];
\- the NEF shall then interact with the selected PCF (service) instance using
the Npcf_MBSPolicyAuthorization service API for MBS policy authorization of
the received MBS Service Information and the creation of a corresponding MBS
Application Session Context at the PCF, as specified in 3GPP TS 29.537 [63];
and
\- if MBS session authorization is successful or when the NEF decides to not
interact with the PCF for MBS policy authorization, the NEF shall interact
with the MB-SMF using the Nmbsmf_MBSSession service API to request the
creation of a corresponding MBS session at the MB-SMF as specified in 3GPP TS
29.532 [52]; and
\- if the MBS Service Area information is provided within the
\"extMbsServiceArea\" attribute, the NEF shall translate the received
geographical area(s) or civic address(es) to a list of cell ID(s) and/or list
of TAI(s) before relaying it to the MB-SMF.
Upon reception of a successful response from the MB-SMF and successful MBS
session creation at the NEF, the NEF shall return a Nnef_MBSSession_Create
response with an HTTP \"201 Created\" status code to theAF including a
\"Location\" header that shall contain the URI of the created \"Individual MBS
Session\" resource, and the response body including the MbsSessionCreateRsp
data structure that shall contain:
\- within the \"mbsSession\" attribute, a representation of the created
Individual MBS Session resource encoded using the MbsSession data structure,
including:
\- the area session ID assigned by the MB-SMF in the case of a location
dependent MBS within the \"areaSessionId\" attribute of the MbsSession data
structure;
\- the allocated TMGI for the MBS session, if the MBS session creation request
included a \"tmgiAllocReq\" attribute requesting TMGI allocation for the MBS
session, within the \"tmgi\" attribute;
\- if unicast transport is used over N6mb/Nmb9, the ingress MB-UPF tunnel
information, within the \"ingressTunAddr\" attribute;
\- if the \"serviceType\" value is \"BROADCAST\" and any MBS FSA ID(s)
received from the MB-SMF, the list of MBS FSA ID(s) within the
\"mbsFsaIdList\" attribute.
\- within the \"eventList\" attribute, a list of MBS Session Status Event(s)
report(s), if available.
If the MBS session creation request contained a request to also create a
subscription to MBS session status event(s) within the \"mbsSessionSubsc\"
attribute, the the NEF shall also create a corresponding \"Individual MBS
Session Subscription\" resource and return a representation of it in the HTTP
POST response body within the \"mbsSessionSubsc\" attribute of the MbsSession
data structure. The \"mbsSessionSubsc\" attribute shall contains the
identifier of the created \"Individual MBS Session Subscription\" resource
within the \"subscriptionId\" attribute. The AF shall construct the URI of the
created \"Individual MBS Session Subscription\" resource by appending the path
segments \"/subscriptions/{subscriptionId}\", where the \"subscriptionId\"
takes the value of the received \"subscriptionId\" attribute, to the URI of
the created \"Individual MBS Session\" resource received within the HTTP
Location header.
On failure or if the NEF receives an error code from the PCF, the NRF or the
MB-SMF, the NEF shall take proper error handling actions, as specified in
clause 5.20.7, and respond to the AF with an appropriate error status code. If
the NEF received within an error response a \"ProblemDetails\" data structure
with a \"cause\" attribute indicating an application error, the NEF shall
relay this error response to the AF with a corresponding application error,
when applicable.
##### 4.4.29.3.3 Procedure for MBS session update
This procedure is used by an AF to request the modification of an existing
multicast or a broadcast MBS session or, for a location dependent MBS session,
the part of an MBS Session within an MBS service area.
In order to request the modification of an existing MBS Session, an AF shall
send a Nnef_MBSSession_Update request using the HTTP PATCH method and
targeting the URI of the corresponding \"Individual MBS Session\" resource and
the request message body including an array of PatchItem data structure(s)
containing the requested modifications. For a multicast or a broadcast MBS
session, only the \"mbsServiceArea\" attribute, and/or the \"mbsServInfo\"
attribute may be modified. For a multicast MBS session, the \"activityStatus\"
attribute may also be modified. For a broadcast MBS session, the
\"mbsFsaIdList\" attribute may also be modified.
At the reception of this HTTP PATCH request for MBS session modification:
\- if updated MBS Service Information is provided and the NEF decided to
interact with the PCF during MBS Session Creation as specified in clause
4.4.29.3.2, the NEF shall also interact with the PCF for MBS policy
authorization of the received updated MBS Service Information and the update
of the corresponding MBS Application Session Context, as specified in 3GPP TS
29.537 [63];
\- if MBS session authorization is successful or when the NEF does not
interact with the PCF, the NEF shall interact with the MB-SMF to request the
modification of the corresponding MBS session at the MB-SMF as specified in
3GPP TS 29.532 [52];
\- if the NEF receives an \"indication that the PCF shall be contacted\"
within the \"contactPcfInd\" attribute from the PCF as specified in 3GPP TS
29.537 [63], the NEF shall relay this indication to the MB-SMF;
and
\- if updated MBS Service Area information is provided within the
\"extMbsServiceArea\" attribute, the NEF shall translate the received
geographical area(s) or civic address(es) to a list of cell ID(s) and/or list
of TAI(s) before relaying it to the MB-SMF.
Upon reception of a successful response from the MB-SMF and successful MBS
session modification, the NEF shall return a Nnef_MBSSession_Update response
with an HTTP \"204 No Content\" status code.
On failure or if the NEF receives an error responsefrom the PCF or the MB-SMF,
the NEF shall take proper error handling actions, as specified in clause
5.20.7, and respond to the AF with an appropriate error status code. If the
NEF received within an error response a \"ProblemDetails\" data structure with
a \"cause\" attribute indicating an application error, the NEF shall relay
this error response to the AF with a corresponding application error, when
applicable.
##### 4.4.29.3.4 Procedure for MBS session deletion
This procedure is used by an AF to request the deletion of an existing
multicast or a broadcast MBS session or, for a location dependent MBS session,
the part of an MBS Session within an MBS service area.
In order to request the deletion of an existing MBS Session, an AF shall send
a Nnef_MBSSession_Delete request using the HTTP DELETE method and targeting
the URI of the corresponding \"Individual MBS Session\" resource.
At the reception of this HTTP DELETE request for MBS session deletion:
\- if the NEF decided to interact with the PCF during MBS Session Creation as
specified in clause 4.4.29.3.2, the NEF shall also interact with the PCF to
request the deletion of the corresponding MBS Application Session Context, as
specified in 3GPP TS 29.537 [63]; and
\- the NEF shall interact with the MB-SMF to request the deletion of the
corresponding MBS Session.
Upon success, the NEF shall return a Nnef_MBSSession_Delete response with an
HTTP \"204 No Content\" status code.On failure or if the NEF receives an error
responsefrom the PCF or the MB-SMF, the NEF shall take proper error handling
actions, as specified in clause 5.20.7, and respond to the AF with an
appropriate error status code. If the NEF received within an error response a
\"ProblemDetails\" data structure with a \"cause\" attribute indicating an
application error, the NEF shall relay this error response to the AF with a
corresponding application error, when applicable.
##### 4.4.29.3.5 Procedure for MBS session status subscription
This procedure is used by an AF to request to create a subscription to MBS
session status event(s) reportingfor a multicast or a broadcast MBS session
or, for a location dependent MBS session, the part of an MBS Session within an
MBS service area.
In order to request the creation of a new subscription to MBS Session status
event(s) reporting, an AF shall send a Nnef_MBSSession_StatusSubscribe request
to the NEF using the HTTP POST method and targeting the \"MBS Session
Subscriptions\" collection resource, with the request body including the
MbsSessionSubsc data structure.
On successful MBS session subscription creation, the NEF shall return a
Nnef_MBSSession_StatusSubscribe response with an HTTP \"201 Created\" status
code to the AF, including a \"Location\" header containing the URI of the
created \"Individual MBS Session Subscription\" resource and the response body
containing a representation of the created resource within the MbsSessionSubsc
data structure.
On failure or if the NEF receives an error responsefrom the MB-SMF, the NEF
shall take proper error handling actions, as specified in clause 5.20.7, and
respond to the AF with an appropriate error status code. If the NEF received
within an error response a \"ProblemDetails\" data structure with a \"cause\"
attribute indicating an application error, the NEF shall relay this error
response to the AF with a corresponding application error, when applicable.
##### 4.4.29.3.6 Procedure for MBS session status unsubscription
This procedure is used by an AF to request the deletion of an existing
subscription to MBS session status event(s) reportingfor a multicast or a
broadcast MBS session or, for a location dependent MBS session, the part of an
MBS Session within an MBS service area.
In order to request the deletion of an existing subscription to MBS Session
status event(s) reporting, an AF shall send a
Nnef_MBSSession_StatusUnsubscribe request to the NEF using the HTTP DELETE
method and targeting the corresponding \"Individual MBS Session Subscription\"
resource.
On successful deletion of the subscription, the NEF shall return a
Nnef_MBSSession_StatusUnsubcribe response with an HTTP \"204 No Content\"
status code.
On failure or if the NEF receives an error responsefrom the MB-SMF, the NEF
shall take proper error handling actions, as specified in clause 5.20.7, and
respond to the AF with an appropriate error status code. If the NEF received
within an error response a \"ProblemDetails\" data structure with a \"cause\"
attribute indicating an application error, the NEF shall relay this error
response to the AF with a corresponding application error, when applicable.
##### 4.4.29.3.7 Procedure for MBS session status notification
This procedure is used by the NEF to send MBS session status event(s)
notifications to a previously subscribed AF.
In order to send an MBS Session status event(s) notification, the NEF shall
send a Nnef_MBSSession_StatusNotify request to the AF using the HTTP POST
method and targeting the notification URI provided by the AF during the
corresponding MBS session subscription creation/modification, with the request
body including the MbsSessionStatusNotif data structure that shall contain:
\- within the \"eventList\" attribute, the reported MBS session event(s) ) and
the related information, encoded via the MbsSessionEventReportList data
structure that shall contain:
\- within the \"eventReportList\" attribute, one or several MBS session event
report(s), with each one of them encoded using the MbsSessionEventReport data
structure that shall contain:
\- within the \"eventType\" attribute, the reported MBS session status event;
\- within the \"timeStamp\" attribute, the time at which the event is
generated, if available;
\- within the \"ingressTunAddrInfo\" attribute, the ingress tunnel address to
use to send MBS session data over N6mb/Nmb9 interface, if the \"eventType\"
attribute is set to \"INGRESS_TUNNEL_ADD_CHANGE\";
and
\- within the \"eventList\" attribute, the list of MBS session events to be
reported, encoded via the MbsSessionEventReportList data structure that shall
contain;
\- within the \"eventReportList\" attribute, one or several individual MBS
session event report(s), with each one of them encoded within the
MbsSessionEventReport data structure that shall contain:
\- within the \"broadcastDelStatus\" attribute, the broadcast delivery status
(e.g. whether the MBS session is STARTED or TERMINATED), if the \"eventType\"
attribute is set to \"BROADCAST_DELIVERY_STATUS\".
Upon reception of this notification request, the AF shall acknowledge its
successful reception by sending a Nnef_MBSSession_StatusNotify response with
an HTTP \"204 No Content\" status code.
On failure, the AF shall take proper error handling actions, as specified in
clause 5.20.7, and respond to the NEF with an appropriate error status code.
#### 4.4.29.4 Procedures for MBS Parameters Provisioning
##### 4.4.29.4.1 General
The procedures described in the clauses below are used by an AF to perform MBS
parameters provisioning, e.g. multicast MBS Session Authorization information
provisioning as defined in clause 7.2.9 of 3GPP TS 23.247 [53], multicast MBS
Session Assistance Information provisioning as defined in clause 7.2.9a of
3GPP TS 23.247[53].
##### 4.4.29.4.2 Procedure for multicast MBS Session Authorization information
provisioning
This procedure is used by an AF to request the creation/update/deletion of an
MBS Session Authorization information provisioning for a multicast MBS group.
In order to request the creation of an MBS Parameters Provisioning for the
purpose of MBS Session Authorization information provisioning for a multicast
MBS group, an AF shall trigger the Nnef_MBSSession API by sending an HTTP POST
request to the NEF targeting the \"MBS Parameters Provisionings\" collection
resource, with the request body including the MbsPpData data structure that
shall contain:
\- within the \"afId\" attribute, the identifier of the AF that is sending the
request;
\- within the \"mbsSessAuthData\" attribute, the MBS Session Authorization
information data to be provisioned, encoded via the MbsSessAuthData data
structure that shall contain:
\- within the \"extGroupId\" attribute, the external group identifier of the
targeted multicast MBS Group; and
\- within the \"gpsisList\" attribute, the list of the GPSI(s) of the member
UE(s) constituting the multicast MBS group, if the multicast MBS group has not
yet been created or the list of its member(s) needs to be updated; and
\- within the \"mbsSessionIdList\" attribute, the identifier(s) of the
multicast MBS Session(s) that the multicast MBS group is authorized to join;
and
\- within the \"suppFeat\" attribute, the features supported by the AF, if
applicable (i.e. feature negociation needs to take place).
The NEF shall then check whether the AF is authorized to perform this
operation or not as defined in clause 7.2.9 of 3GPP TS 23.247 [53]. If the AF
is authorized, the NEF shall trigger the Nudm_ParameterProvision service API
of the UDM to request the provisioning of the received MBS Session
Authorization information.
Upon reception of a successful response from the UDM as defined in 3GPP TS
29.503 [17], the NEF shall respond to the AF with an HTTP \"201 Created\"
status code including a Location header field containing the URI of the
created resource, and the response body containing the MbsPpData data
structure containing a representation of the created \"Individual MBS
Parameters Provisioning\" resource.
In order to request the update of an existing \"Individual MBS Parameters
Provisioning\" resource for the purpose of MBS Session Authorization
information provisioning for a multicast MBS group, an AF shall trigger the
Nnef_MBSSession API by sending to the NEF either:
\- an HTTP PUT request targeting the concerned \"Individual MBS Parameters
Provisioning\" resource with the request body including the MbsPpData data
structure; or
\- an HTTP PATCH request targeting the concerned \"Individual MBS Parameters
Provisioning\" resource with the request body including the MbsPpDataPatch
data structure.
After authorizing the request, the NEF shall interact with the UDM via the the
Nudm_ParameterProvision service API to request the provisioning of the
received updated MBS Session Authorization information.
Upon reception of a successful response from the UDM as defined in 3GPP TS
29.503 [17], the NEF shall respond to the AF with an HTTP \"200 OK\" status
code with the response body containing a representation of the updated
Individual MBS Parameters Provisioning resource within the MbsPpData data
structure, or an HTTP \"204 No Content\" status code.
In order to request the deletion of an existing \"Individual MBS Parameters
Provisioning\" resource for the purpose of MBS Session Authorization
information provisioning for a multicast MBS group, an AF shall trigger the
Nnef_MBSSession API by sending an HTTP DELETE request targeting the concerned
\"Individual MBS Parameters Provisioning\" resource to the NEF. After
authorizing the request, the NEF shall interact with the UDM via the the
Nudm_ParameterProvision service API to request to update accordingly the MBS
Session Authorization information.
Upon reception of a successful response from the UDM as defined in 3GPP TS
29.503 [17], the NEF shall respond to the AF with an HTTP \"204 No Content\"
status code.
On failure or if the NEF receives an error code from the UDM, the NEF shall
take proper error handling actions, as specified in clause 5.20.7, and respond
to the AF with an appropriate error status code.
NOTE: The stage 2 Nnef_ParameterProvisioning API for MBS Parameters
Provisioning is implemented in stage 3 via the Nnef_MBSSession API.
##### 4.4.29.4.3 Procedure for multicast MBS Session Assistance information
provisioning
This procedure is used by an AF to request the creation/update/deletion of an
MBS Session Assistance information provisioning for multicast MBS sessions.
In order to request the creation of an MBS Parameters Provisioning for the
purpose of MBS Session Assistance information provisioning for multicast MBS
sessions, an AF shall trigger the Nnef_MBSSession API by sending an HTTP POST
request to the NEF targeting the \"MBS Parameters Provisionings\" collection
resource, with the request body including the MbsPpData data structure that
shall contain:
> \- within the \"afId\" attribute, the identifier of the AF that is sending
> the request;
>
> \- within the \"mbsSessAssistInfo\" attribute, the MBS Session Assistance
> information to be provisioned, encoded via the MbsSessAssistInfo data
> structure that shall contain:
>
> \- within the \"mbsSessAssistData\" attribute, the MBS Session Assistance
> information data;
>
> and
>
> \- within the \"suppFeat\" attribute, the features supported by the AF, if
> applicable (i.e. feature negociation needs to take place).
The NEF shall then check whether the AF is authorized to perform this
operation or not, as defined in clause 7.2.9a of 3GPP TS 23.247 [53]. If the
AF is authorized, the NEF shall trigger the Nudm_ParameterProvision service
API of the UDM to request the provisioning of the received MBS Session
Assistance information.
Upon reception of a successful response from the UDM, as defined in 3GPP TS
29.503 [17], the NEF shall respond to the AF with an HTTP \"201 Created\"
status code including a Location header field containing the URI of the
created resource, and the response body containing the MbsPpData data
structure containing a representation of the created \"Individual MBS
Parameters Provisioning\" resource.
In order to request the update or deletion of an existing \"Individual MBS
Parameters Provisioning\" resource for the purpose of MBS Session Assistance
information provisioning for multicast MBS sessions, an AF shall trigger the
Nnef_MBSSession API by reusing the same update/deletion procedures defined in
clause 4.4.29.4.2.
#### 4.4.29.5 Procedures for MBS User Service management
##### 4.4.29.5.1 General
The procedures described in the clauses below are used by an
external/untrusted AF (e.g. MBS Application Provider that lies outside the
trusted DN) to manage MBS User Services via the NEF, i.e. create, retrieve,
update and delete an MBS User Service, as defined in 3GPP TS 26.502 [65].
NOTE: The procedures defined in the clauses below are not applicable for the
MBS group message delivery feature specified in clauses 6.15 and 7.5 of 3GPP
TS 23.247 [53]. For MBS group message delivery, the NEF plays the role of an
AF and is hence responsible for the establishment and management of the
related MBS User Service based on the received MBS group message delivery
request from the AF. The NEF interacts for this purpose directly with the MBSF
using the Nmbsf_MBSUserService API defined in 3GPP TS 29.580 [66]. The
detailed procedures applicable for MBS group message delivery are defined in
clause 4.4.29.7.
##### 4.4.29.5.2 Procedure for MBS User Service creation
This procedure is used by an AF to request the creation of a new MBS User
Service at the NEF.
In order to request the creation of an MBS User Service, an AF shall send a
Nnef_MBSUserService_Create request to the NEF using the HTTP POST method and
targeting the \"MBS User Services\" collection resource, with the request
message body including the MBSUserService data structure, as specified in
clause 5.26.2.2.3.2.
The NEF shall then check whether the AF is authorized to perform this
operation or not. If the AF is authorized, the NEF shall then trigger the
Nmbsf_MBSUserService service API of the MBSF to request the creation of the
corresponding MBS User Service at the MBSF, as specified in 3GPP TS 29.580
[66].
Upon reception of a successful response from the MBSF, as defined in 3GPP TS
29.580 [66], the NEF shall return a Nnef_MBSUserService_Create response with
an HTTP \"201 Created\" status code including a \"Location\" header field that
shall contain the URI of the created resource, and the response body
containing a representation of the created \"Individual MBS User Service\"
resource within the MBSUserService data structure, as specified in clause
5.26.2.2.3.2.
On failure or if the NEF receives an error response from the MBSF, the NEF
shall take proper error handling actions, as specified in clause 5.26.7, and
respond to the AF with an appropriate error status code.
##### 4.4.29.5.3 Procedure for MBS User Service retrieval
This procedure is used by an AF to request the retrieval of an existing MBS
User Service at the NEF.
In order to request the retrieval of an existing MBS User Service, an AF shall
send a Nnef_MBSUserService_Retrieve request using the HTTP GET method and
targeting the URI of the concerned \"Individual MBS User Service\" resource,
as specified in clause 5.26.2.3.3.1.
The NEF shall then check whether the AF is authorized to perform this
operation or not. If the AF is authorized, the NEF shall then trigger the
Nmbsf_MBSUserService service API of the MBSF to request the retrieval of the
corresponding MBS User Service at the MBSF, as specified in 3GPP TS 29.580
[66].
Upon reception of a successful response from the MBSF, as defined in 3GPP TS
29.580 [66], the NEF shall return a Nnef_MBSUserService_Retrieve response with
an HTTP \"200 OK\" status code and the response body containing a
representation of the requested Individual MBS User Service resource within
the MBSUserService data structure, as specified in clauses 5.26.2.3.3.1.
On failure or if the NEF receives an error code from the MBSF, the NEF shall
take proper error handling actions, as specified in clause 5.26.7, and respond
to the AF with an appropriate error status code.
##### 4.4.29.5.4 Procedure for MBS User Service update/modification
This procedure is used by an AF to request the update/modification of an
existing MBS User Service at the NEF.
In order to request the update of an existing MBS User Service, an AF shall
send a Nnef_MBSUserService_Update request using the HTTP PUT method and
targeting the URI of the corresponding \"Individual MBS User Service\"
resource, with the request body including the MBSUserService data structure,
as specified in clause 5.26.2.3.3.2.
In order to request the modification of an existing MBS User Service, an AF
shall send a Nnef_MBSUserService_Update request using the HTTP PATCH method
and targeting the URI of the corresponding \"Individual MBS User Service\"
resource, with the request body including the MBSUserServicePatch data
structure, as specified in clause 5.26.2.3.3.3.
The NEF shall then check whether the AF is authorized to perform this
operation or not. If the AF is authorized, the NEF shall then trigger the
Nmbsf_MBSUserService service API of the MBSF to request the
update/modification of the corresponding MBS User Service at the MBSF, as
specified in 3GPP TS 29.580 [66].
Upon reception of a successful response from the MBSF, as defined in 3GPP TS
29.580 [66], the NEF shall return a Nnef_MBSUserService_Update response with
an HTTP \"200 OK\" status code with the response body containing a
representation of the updated Individual MBS User Service resource within the
MBSUserService data structure, or an HTTP \"204 No Content\" status code, as
specified in clause 5.26.2.3.3.2 or clause 5.26.2.3.3.3.
On failure or if the NEF receives an error code from the MBSF, the NEF shall
take proper error handling actions, as specified in clause 5.26.7, and respond
to the AF with an appropriate error status code.
##### 4.4.29.5.5 Procedure for MBS User Service deletion
This procedure is used by an AF to request the deletion of an existing MBS
User Service at the NEF.
In order to request the deletion of an existing MBS User Service, an AF shall
send a Nnef_MBSUserService_Delete request using the HTTP DELETE method and
targeting the URI of the concerned \"Individual MBS User Service\" resource,
as specified in clause 5.26.2.3.3.4.
NOTE: The Nnef_MBSUserService_Delete service operation corresponds to the
stage 2 Nnef_MBSUserService_Destroy service operation defined in 3GPP TS
26.502 [65].
The NEF shall then check whether the AF is authorized to perform this
operation or not. If the AF is authorized, the NEF shall then trigger the
Nmbsf_MBSUserService service API of the MBSF to request the deletion of the
corresponding MBS User Service at the MBSF, as specified in 3GPP TS 29.580
[66].
Upon reception of a successful response from the MBSF, as defined in 3GPP TS
29.580 [66], the NEF shall return a Nnef_MBSUserService_Delete response with
an HTTP \"204 No Content\" status code, as specified in clause 5.26.2.3.3.4.
On failure or if the NEF receives an error code from the MBSF, the NEF shall
take proper error handling actions, as specified in clause 5.26.7, and respond
to the AF with an appropriate error status code.
#### 4.4.29.6 Procedures for MBS User Data Ingest Session management
##### 4.4.29.6.1 General
The procedures described in the clauses below are used by an
external/untrusted AF (e.g. MBS Application Provider that lies outside the
trusted DN) to manage an MBS User Data Ingest Session along with its
subordinate MBS Distribution Session(s) via the NEF, i.e. create, retrieve,
update/modify and delete an MBS User Data Ingest Session, create, retrieve,
update/modify and delete an MBS User Data Ingest Session Status subscription,
and manage the related MBS User Data Ingest Session Status
subscriptions/notifications, as defined in 3GPP TS 26.502 [65].
NOTE: The procedures defined in the clauses below are not applicable for the
MBS group message delivery feature specified in clauses 6.15 and 7.5 of 3GPP
TS 23.247 [53]. For MBS group message delivery, the NEF plays the role of an
AF and is hence responsible for the establishment and management of the
related MBS User Data Ingest Session based on the received MBS group message
delivery request from the AF. The NEF interacts for this purpose directly with
the MBSF using the Nmbsf_MBSUserDataIngestSession API defined in 3GPP TS
29.580 [66]. The detailed procedures applicable for MBS group message delivery
are defined in clause 4.4.29.7.
##### 4.4.29.6.2 Procedure for MBS User Data Ingest Session creation
This procedure is used by an AF to request the creation of a new MBS User Data
Ingest Session at the NEF.
In order to request the creation of an MBS User Data Ingest Session, including
a set of subordinate MBS Distribution Session(s), an AF shall send a
Nnef_MBSUserDataIngestSession_Create request message to the NEF using the HTTP
POST method and targeting the \"MBS User Data Ingest Sessions\" collection
resource, with the request message body including the MBSUserDataIngSession
data structure, as specified in clause 5.27.2.2.3.2.
The NEF shall then check whether the AF is authorized to perform this
operation or not. If the AF is authorized, the NEF shall then trigger the
Nmbsf_MBSUserDataIngestSession API of the MBSF to request the creation of the
corresponding MBS User Data Ingest Session at the MBSF, as specified in 3GPP
TS 29.580 [66].
Upon reception of a successful response from the MBSF, as defined in 3GPP TS
29.580 [66], the NEF shall return a Nnef_MBSUserDataIngestSession_Create
response message with an HTTP \"201 Created\" status code including a
\"Location\" header field that shall contain the URI of the created resource,
and the response body containing a representation of the created \"Individual
MBS User Data Ingest Session\" resource within the MBSUserDataIngSession data
structure, as specified in clause 5.27.2.2.3.2.
On failure or if the NEF receives an error response from the MBSF, the NEF
shall take proper error handling actions, as specified in clause 5.27.7, and
respond to the AF with an appropriate error status code. If the NEF received
within an error response a ProblemDetails data structure with a \"cause\"
attribute indicating an application error, the NEF shall relay this error
response to the AF with a corresponding application error, when applicable.
##### 4.4.29.6.3 Procedure for MBS User Data Ingest Session retrieval
This procedure is used by an AF to request the retrieval of an existing MBS
User Data Ingest Session at the NEF.
In order to request the retrieval of an existing MBS User Data Ingest Session,
an AF shall send a Nnef_MBSUserDataIngestSession_Retrieve request message
using the HTTP GET method and targeting the URI of the concerned \"Individual
MBS User Data Ingest Session\" resource, as specified in clause 5.27.2.3.3.1.
The NEF shall then check whether the AF is authorized to perform this
operation or not. If the AF is authorized, the NEF shall then trigger the
Nmbsf_MBSUserDataIngestSession service API of the MBSF to request the
retrieval of the corresponding MBS User Data Ingest Session at the MBSF, as
specified in 3GPP TS 29.580 [66].
Upon reception of a successful response from the MBSF, as defined in 3GPP TS
29.580 [66], the NEF shall return a Nnef_MBSUserDataIngestSession_Retrieve
response message with an HTTP \"200 OK\" status code and the response body
containing a representation of the requested Individual MBS User Data Ingest
Session resource within the MBSUserDataIngSession data structure, as specified
in clauses 5.27.2.3.3.1.
On failure or if the NEF receives an error code from the MBSF, the NEF shall
take proper error handling actions, as specified in clause 5.27.7, and respond
to the AF with an appropriate error status code. If the NEF received within an
error response a ProblemDetails data structure with a \"cause\" attribute
indicating an application error, the NEF shall relay this error response to
the AF with a corresponding application error, when applicable.
##### 4.4.29.6.4 Procedure for MBS User Data Ingest Session
update/modification
This procedure is used by an AF to request the update/modification of an
existing MBS User Data Ingest Session at the NEF.
In order to request the update of an existing MBS User Data Ingest Session, an
AF shall send a Nnef_MBSUserDataIngestSession_Update request message using the
HTTP PUT method and targeting the URI of the corresponding \"Individual MBS
User Data Ingest Session\" resource, with the request body including the
MBSUserDataIngSession data structure, as specified in clause 5.27.2.3.3.2.
In order to request the modification of an existing MBS User Data Ingest
Session, an AF shall send a Nnef_MBSUserDataIngestSession_Update request
message using the HTTP PATCH method and targeting the URI of the corresponding
\"Individual MBS User Data Ingest Session\" resource, with the request body
including the MBSUserDataIngSessionPatch data structure, as specified in
clause 5.27.2.3.3.3.
The NEF shall then check whether the AF is authorized to perform this
operation or not. If the AF is authorized, the NEF shall then trigger the
Nmbsf_MBSUserDataIngestSession service API of the MBSF to request the
update/modification of the corresponding MBS User Data Ingest Session at the
MBSF, as specified in 3GPP TS 29.580 [66].
Upon reception of a successful response from the MBSF, as defined in 3GPP TS
29.580 [66], the NEF shall return a Nnef_MBSUserDataIngestSession_Update
response message with an HTTP \"200 OK\" status code with the response body
containing a representation of the updated Individual MBS User Data Ingest
Session resource within the MBSUserDataIngSession data structure, or an HTTP
\"204 No Content\" status code, as specified in clause 5.27.2.3.3.2 or clause
5.27.2.3.3.3.
On failure or if the NEF receives an error code from the MBSF, the NEF shall
take proper error handling actions, as specified in clause 5.27.7, and respond
to the AF with an appropriate error status code. If the NEF received within an
error response a ProblemDetails data structure with a \"cause\" attribute
indicating an application error, the NEF shall relay this error response to
the AF with a corresponding application error, when applicable.
##### 4.4.29.6.5 Procedure for MBS User Data Ingest Session deletion
This procedure is used by an AF to request the deletion of an existing MBS
User Data Ingest Session at the NEF.
In order to request the deletion of an existing MBS User Data Ingest Session,
an AF shall send a Nnef_MBSUserDataIngestSession_Delete request message using
the HTTP DELETE method and targeting the URI of the concerned \"Individual MBS
User Data Ingest Session\" resource, as specified in clause 5.27.2.3.3.4.
NOTE: The Nnef_MBSUserDataIngestSession_Delete service operation corresponds
to the stage 2 Nnef_MBSUserDataIngestSession_Destroy service operation defined
in 3GPP TS 26.502 [65].
The NEF shall then check whether the AF is authorized to perform this
operation or not. If the AF is authorized, the NEF shall then trigger the
Nmbsf_MBSUserDataIngestSession service API of the MBSF to request the deletion
of the corresponding MBS User Data Ingest Session at the MBSF, as specified in
3GPP TS 29.580 [66].
Upon reception of a successful response from the MBSF, as defined in 3GPP TS
29.580 [66], the NEF shall return a Nnef_MBSUserDataIngestSession_Delete
response message with an HTTP \"204 No Content\" status code, as specified in
clause 5.27.2.3.3.4.
On failure or if the NEF receives an error code from the MBSF, the NEF shall
take proper error handling actions, as specified in clause 5.27.7, and respond
to the AF with an appropriate error status code. If the NEF received within an
error response a ProblemDetails data structure with a \"cause\" attribute
indicating an application error, the NEF shall relay this error response to
the AF with a corresponding application error, when applicable.
##### 4.4.29.6.6 Procedure for MBS User Data Ingest Session Status
Subscription
This procedure is used by an AF to subscribe to MBS User Data Ingest Session
status event(s) reporting at the NEF.
In order to request the creation of an MBS User Data Ingest Session Status
Subscription, an AF shall send a Nnef_MBSUserDataIngestSession_StatusSubscribe
request message to the NEF using the HTTP POST method and targeting the \"MBS
User Data Ingest Session Status Subscriptions\" collection resource, with the
request message body including the MBSUserDataIngStatSubsc data structure, as
specified in clause 5.27.2.4.3.2.
The NEF shall then check whether the AF is authorized to perform this
operation or not. If the AF is authorized, the NEF shall then trigger the
Nmbsf_MBSUserDataIngestSession API of the MBSF to request the creation of the
corresponding MBS User Data Ingest Session Status Subscription at the MBSF, as
specified in 3GPP TS 29.580 [66].
Upon reception of a successful response from the MBSF, as defined in 3GPP TS
29.580 [66], the NEF shall return a
Nnef_MBSUserDataIngestSession_StatusSubscribe response message with an HTTP
\"201 Created\" status code including a \"Location\" header field that shall
contain the URI of the created resource, and the response body containing a
representation of the created \"Individual MBS User Data Ingest Session Status
Subscription\" resource within the MBSUserDataIngStatSubsc data structure, as
specified in clause 5.27.2.4.3.2.
On failure or if the NEF receives an error response from the MBSF, the NEF
shall take proper error handling actions, as specified in clause 5.27.7, and
respond to the AF with an appropriate error status code. If the NEF received
within an error response a ProblemDetails data structure with a \"cause\"
attribute indicating an application error, the NEF shall relay this error
response to the AF with a corresponding application error, when applicable.
##### 4.4.29.6.7 Procedure for MBS User Data Ingest Session Status
update/modification
This procedure is used by an AF to request the update/modification of an
existing MBS User Data Ingest Session Status Subscription at the NEF.
In order to request the update of an existing MBS User Data Ingest Session
Status Subscription, an AF shall send a
Nnef_MBSUserDataIngestSession_StatusSubscribeMod request message using the
HTTP PUT method and targeting the URI of the corresponding \"Individual MBS
User Data Ingest Session Status Subscription\" resource, with the request body
including the MBSUserDataIngStatSubsc data structure, as specified in clause
5.27.2.5.3.2.
In order to request the modification of an existing MBS User Data Ingest
Session Status Subscription, an AF shall send a
Nnef_MBSUserDataIngestSession_StatusSubscribeMod request message using the
HTTP PATCH method and targeting the URI of the corresponding \"Individual MBS
User Data Ingest Session Status Subscription\" resource, with the request body
including the MBSUserDataIngStatSubscPatch data structure, as specified in
clause 5.27.2.5.3.3.
The NEF shall then check whether the AF is authorized to perform this
operation or not. If the AF is authorized, the NEF shall then trigger the
Nmbsf_MBSUserDataIngestSession service API of the MBSF to request the
update/modification of the corresponding MBS User Data Ingest Session Status
Subscription at the MBSF, as specified in 3GPP TS 29.580 [66].
Upon reception of a successful response from the MBSF, as defined in 3GPP TS
29.580 [66], the NEF shall return a
Nnef_MBSUserDataIngestSession_StatusSubscribeMod response message with an HTTP
\"200 OK\" status code with the response body containing a representation of
the updated Individual MBS User Data Ingest Session resource within the
MBSUserDataIngStatSubsc data structure, or an HTTP \"204 No Content\" status
code, as specified in clause 5.27.2.5.3.2 or clause 5.27.2.5.3.3.
On failure or if the NEF receives an error code from the MBSF, the NEF shall
take proper error handling actions, as specified in clause 5.27.7, and respond
to the AF with an appropriate error status code. If the NEF received within an
error response a ProblemDetails data structure with a \"cause\" attribute
indicating an application error, the NEF shall relay this error response to
the AF with a corresponding application error, when applicable.
##### 4.4.29.6.8 Procedure for MBS User Data Ingest Session Status
Unsubscription
This procedure is used by an AF to request the deletion of an existing MBS
User Data Ingest Session Status Subscription at the NEF.
In order to request the deletion of an existing MBS User Data Ingest Session
Status Subscription, an AF shall send a
Nnef_MBSUserDataIngestSession_StatusUnsubscribe request message using the HTTP
DELETE method and targeting the URI of the concerned Individual MBS User Data
Ingest Session Stats Subscription resource, as specified in clause
5.27.2.5.3.4.
The NEF shall then check whether the AF is authorized to perform this
operation or not. If the AF is authorized, the NEF shall then trigger the
Nmbsf_MBSUserDataIngestSession service API of the MBSF to request the deletion
of the corresponding MBS User Data Ingest Session Status Subscription at the
MBSF, as specified in 3GPP TS 29.580 [66].
Upon reception of a successful response from the MBSF, as defined in 3GPP TS
29.580 [66], the NEF shall return a
Nnef_MBSUserDataIngestSession_StatusUnsubscribe response message with an HTTP
\"204 No Content\" status code, as specified in clause 5.27.2.5.3.4.
On failure or if the NEF receives an error code from the MBSF, the NEF shall
take proper error handling actions, as specified in clause 5.27.7, and respond
to the AF with an appropriate error status code. If the NEF received within an
error response a ProblemDetails data structure with a \"cause\" attribute
indicating an application error, the NEF shall relay this error response to
the AF with a corresponding application error, when applicable.
##### 4.4.29.6.9 Procedure for MBS User Data Ingest Session Status
Notification
This procedure is used by the NEF to send MBS User Data Ingest Session status
change notifications to a previously subscribed AF.
Upon reception of an MBS User Data Ingest Session Status Notification from the
MBSF, as specified in 3GPP TS 29.580 [66], the NEF shall relay this
notification to the AF by sending a Nnef_MBSUserDataIngestSession_StatusNotify
request message to the AF using the HTTP POST method and targeting the
notification URI provided by the AF during the creation of the corresponding
MBS User Data Ingest Session Status Subscription, with the request body
including the MBSUserDataIngStatNotif data structure, as specified in clause
5.27.4.2.3.1.
Upon successful reception of this notification request, the AF shall
acknowledge its successful reception by sending a
Nnef_MBSUserDataIngestSession_StatusNotify response message with an HTTP \"204
No Content\" status code, as specified in clause 5.27.4.2.3.1.
On failure, the AF shall take proper error handling actions, as specified in
clause 5.27.7, and respond to the NEF with an appropriate error status code.
#### 4.4.29.7 Procedures for MBS Group Message Delivery Management
##### 4.4.29.7.1 General
The procedures described in the clauses below are used by an AF to request and
manage MBS Group Message Delivery as defined in clauses 6.15 and 7.5 of 3GPP
TS 23.247 [53].
Editor\'s Note: The service description procedures in the below clauses are
still FFS and will be updated based on the progress of the related stage 2
requirements.
##### 4.4.29.7.2 Procedure for MBS Group Message Delivery Creation
This procedure is used by an AF to request MBS Group Message Delivery.
In order to request MBS Group Message Delivery, an AF shall send a
Nnef_MBSGroupMsgDelivery_Create request message to the NEF using the HTTP POST
method, with the Request body including the MbsGroupMsgDelReq data structure
that shall contain:
\- within the \"mbsGroupMsgDelData\" attribute, the group message delivery
data that shall contain:
\- within the \"extMbsServArea\" attribute or the \"mbsServArea\" attribute,
the MBS service area;
\- within the \"suppFeat\" attribute, the list of supported features, if
feature negotiation needs to take place.
The NEF shall then check whether the AF is authorized to perform this
operation or not, as defined in clause 6.1.1 of 3GPP TS 23.247 [53]. If the AF
is authorized, the NEF performs MBS User Service and MBS User Data Ingest
Session provisioning towards the MBSF using the Object Distribution Method, as
specified in 3GPP TS 26.502 [65] and 3GPP TS 29.580 [66]. If the AF provided
the MBS service area in the form of geographical area(s) or civic address(es),
the NEF may translate this information into a list of TAI(s) and/or a list of
cell ID(s) before sending the MBS service area information as part of MBS User
Data Ingest Session provisioning towards the MBSF.
Upon reception of a successful response from the MBSF, as defined in 3GPP TS
29.580 [66], the NEF shall send a Nnef_MBSGroupMsgDelivery_Create response to
the AF with an HTTP \"201 Created\" status code and the response body
including the MbsGroupMsgDelResp data structure that shall contain:
\- within the \"mbsGroupMsgDelData\" attribute, the representation of the
created \"Individual MBS Group Message Delivery\" resource;
\- within the \"delStatus\" attribute, the status of the Group Message
Delivery;
\- within the \"mbsUserServiceAnmt\" attribute, the MBS User Service
Announcement information currently associated with the MBS Group Message
Delivery; and
\- within the \"suppFeat\" attribute, the list of supported features, if
feature negotiation needs to take place.
On failure or if the NEF receives an error response from the MBSF, the NEF
shall take proper error handling actions, as specified in clause 5.29.7, and
respond to the AF with an appropriate error status code. If the NEF received
within an error response a \"ProblemDetails\" data structure with a \"cause\"
attribute indicating an application error, the NEF shall relay this error
response to the AF with a corresponding application error, when applicable.
##### 4.4.29.7.3 Procedure for MBS Group Message Delivery Update
This procedure is used by an AF to request the modification of an existing
\"Individual MBS Group Message Delivery\" resource at the NEF.
In order to modify a previously submitted group message delivery, an AF shall
send a Nnef_MBSGroupMsgDelivery_Update request message to the NEF using the
HTTP PATCH method with the request body including the MbsGroupMsgDelPatch data
structure.
The NEF shall then check whether the AF is authorized to perform this
operation or not, as defined in clause 6.1.1 of 3GPP TS 23.247 [53]. If the AF
is authorized the NEF may further interact with the MBSF to request the
modification of the associated MBS User Service and MBS User Data Ingest
Session instances.
Upon reception of a successful response from the MBSF confirming the
modification is successfully performed, the NEF shall send a
Nnef_MBSGroupMsgDelivery_Update response to the AF, with an HTTP \"200 OK\"
containing the MbsGroupMsgDelResp data structure, or an HTTP \"204 No
Content\" status code.
On failure or if the NEF receives an error response from the MBSF, the NEF
shall take proper error handling actions, as specified in clause 5.29.7, and
respond to the AF with an appropriate error status code. If the NEF received
within an error response a \"ProblemDetails\" data structure with a \"cause\"
attribute indicating an application error, the NEF shall relay this error
response to the AF with a corresponding application error, when applicable.
##### 4.4.29.7.4 Procedure for MBS Group Message Delivery Deletion
This procedure is used by an AF to request the deletion of an existing
\"Individual MBS Group Message Delivery\" resource at the NEF.
In order to delete a previously submitted group message delivery, an AF shall
send a Nnef_MBSGroupMsgDelivery_DELETE request message to the NEF using the
HTTP DELETE.
The NEF shall then check whether the AF is authorized to perform this
operation or not, as defined in clause 6.1.1 of 3GPP TS 23.247 [53].
Upon reception of a successful response from the MBSF, the NEF shall send a
Nnef_MBSGroupMsgDelivery_DELETE response to the AF, with an HTTP \"204 No
Content\" status code.
On failure or if the NEF receives an error response from the MBSF, the NEF
shall take proper error handling actions, as specified in clause 5.29.7, and
respond to the AF with an appropriate error status code. If the NEF received
within an error response a \"ProblemDetails\" data structure with a \"cause\"
attribute indicating an application error, the NEF shall relay this error
response to the AF with a corresponding application error, when applicable.
##### 4.4.29.7.5 Procedure for MBS Group Message Delivery Status Notification
This procedure is used by the NEF to notify an already subscribed AF of the
status for the previously submitted group message delivery.
In order to notify an AF of the status for the previously submitted group
message delivery, the NEF shall send a Nnef_MBSGroupMsgDelivery_StatusNotify
request message to the AF using the HTTP POST method with the request body
including the MbsGroupMsgDelStatusNotif data structure.
Upon reception of this notification request, the AF shall acknowledge its
successful reception by sending a Nnef_MBSGroupMsgDelivery_StatusNotify
response message with an HTTP \"204 No Content\" status code.
On failure, the AF shall take proper error handling actions, as specified in
clause 5.7.7, and respond to the NEF with an appropriate error status code.
### 4.4.30 Procedures for Data Reporting
#### 4.4.30.1 General
The procedures in this clause are used by an AF to obtain data collection and
reporting information and provide Data Reports, as defined in clause 4.2 of
3GPP TS 26.531 [59] and 3GPP TS 26.532 [60].
#### 4.4.30.2 Procedure for Data Reporting Session Management
This procedure is used by an AF to request the creation/update/delection of a
Data Reporting Session in order to obtain data collection and reporting
information.
In order to request the creation of a Data Reporting Session, an AF shall send
a Nnef_DataReporting_Create request to the NEF using the HTTP POST method,
targeting the \"Data Reporting Sessions\" collection resource with the request
message body including the DataReportingSession data structure as defined in
clause 5.23.2.2.3.1.
In order to read an existing Individual Data Reporting Session, an AF shall
send a Nnef_DataReporting_Retrieve request to the NEF using the HTTP GET
method, targeting the concerned \"Individual Data Reporting Session\"
resource. If successful, the response message body contains the requested
DataReportingSession data structure as defined in clause 5.23.2.3.3.1.
In order to request the update of an existing Data Reporting Session, an AF
shall send a Nnef_DataReporting_Update request to the NEF using the HTTP PUT
method, targeting the concerned \"Individual Data Reporting Session\" resource
with the request message body including the updated resource representation
within the DataReportingSession data structure as defined in clause
5.23.2.3.3.2.
In order to request the deletion of an existing Data Reporting Session, an AF
shall send a Nnef_DataReporting_Delete request to the NEF using the HTTP
DELETE method, targeting the concerned \"Individual Data Reporting Session\"
resource as defined in clause 5.23.2.3.3.3.
At the reception of the HTTP POST GET/PUT/DELETE requests from the AF, the NEF
shall trigger the necessary interaction with the DCAF as specified in 3GPP TS
26.532 [60] and:
\- for an HTTP GET request, retrieve the requested \"Individual Data Reporting
Session\" resource and respond to the AF with an HTTP \"200 OK\" status code;
\- for an HTTP POST request, create a new \"Individual Data Reporting
Session\" resource and respond to the AF with an HTTP \"200 OK\" status code
including an HTTP Location header field containing the URI of the created
resource and the response body including a representation of the created
\"Individual Data Reporting Session\" resource within the DataReportingSession
data structure;
\- for an HTTP PUT request, update the concerned \"Individual Data Reporting
Session\" resource and respond to the AF with an HTTP \"200 OK\" status code
with the response body including a representation of the updated \"Individual
Data Reporting Session\" resource within the DataReportingSession data
structure; and
\- for an HTTP DELETE request, delete the corresponding \"Individual Data
Reporting Session\" resource, and respond to the AF with an HTTP \"204 No
Content\" status code.
#### 4.4.30.3 Procedure for Data Report
This procedure is used by an AF to send collected UE Data Reports to the NEF.
In order to send a collected UE Data Report, an AF shall use the \"Report\"
custom operation. The AF shall send for this purpose an HTTP POST request
targeting the URI \"{apiRoot}/3gpp-data-
reporting/v1/sessions/{sessionId}/report\", with the request message body
including the DataReport data structure specified in 3GPP TS 26.532 [60]. Upon
successful reception of the report, the NEF shall respond to the AF with an
HTTP \"200 OK\" status code.
### 4.4.31 Procedures for Data Reporting Provisioning
#### 4.4.31.1 General
The procedures in this clause are used by an AF to supply data collection and
reporting provisioning information in the form of Data Reporting Provisioning
resources, as defined in clause 4.2 of 3GPP TS 26.531 [59] and 3GPP TS 26.532
[60].
#### 4.4.31.2 Procedure for Data Reporting Provisioning Session Management
This procedure is used by an AF to request the creation/deletion of a Data
Reporting Provisioning Session in order to supply data collection and
reporting provisioning information.
In order to request the creation of a Data Reporting Provisioning Session, an
AF shall send a Nnef_DataReportingProvisioning_Create request to the NEF using
the HTTP POST method and targeting the \"Data Reporting Provisioning
Sessions\" collection resource, with the request message body including the
DataReportingProvisioningSession data structure as defined in clause
5.24.2.2.3.1.
In order to read an existing \"Individual Data Reporting Provisioning
Session\" resource, an AF shall send a Nnef_DataReportingProvisioning_Retrieve
request to the NEF using the HTTP GET method and targeting the concerned
\"Individual Data Reporting Provisioning Session\" resource, as defined in
clause 5.24.2.3.3.1.
In order to request the deletion of an existing Data Reporting Provisioning
Session, an AF shall send a Nnef_DataReportingProvisioning_Delete request to
the NEF using the HTTP DELETE method and targeting the concerned \"Individual
Data Reporting Provisioning Session\" resource as defined in clause
5.24.2.3.3.3.
At the reception of the HTTP POST/GET/DELETE request from the AF, the NEF
shall trigger the necessary interactions with the DCAF as specified in 3GPP TS
26.532 [60] and:
\- for an HTTP POST request, create a new \"Individual Data Reporting
Provisioning Session\" resource and respond to the AF with an HTTP \"200 OK\"
status code including an HTTP Location header field containing the URI of the
created resource and the response body including a representation of the
created \"Individual Data Reporting Provisioning Session\" resource within the
DataReportingProvisioningSession data structure;
\- for an HTTP GET request, respond to the AF with an HTTP \"200 OK\" status
code with the response body including the representation of the requested
\"Individual Data Reporting Provisioning Session\" resource within the
DataReportingProvisioningSession data structure; and
\- for an HTTP DELETE request, delete the corresponding \"Individual Data
Reporting Provisioning Session\" resource and respond to the AF with an HTTP
\"204 No Content\" status code.
#### 4.4.31.3 Procedure for Data Reporting Configuration management
This procedure is used by an AF to manage Data Reporting Configuration.
In order to request the creation of a Data Reporting Configuration, an AF
shall send a Nnef_DataReportingProvisioning_CreateConfiguration request to the
NEF using the HTTP POST method and targeting the \"Data Reporting
Configurations\" collection resource, with the request message body including
the DataReportingConfiguration data structure as defined in clause
5.24.2.5.3.1.
In order to read an existing Data Reporting Configuration, an AF shall send a
Nnef_DataReportingProvisioning_RetrieveConfiguration request to the NEF using
the HTTP GET method and targeting the concerned \"Individual Data Reporting
Configuration\" resource. , as defined in clause 5.24.2.4.3.1.
In order to request the update of an existing Data Reporting Configuration, an
AF shall send a Nnef_DataReportingProvisioning_UpdateConfiguration request to
the NEF using the HTTP PUT method, targeting the concerned \"Individual Data
Reporting Configuration\" resource with the request message body including the
updated resource representation within the DataReportingConfiguration data
structure as defined in clause 5.24.2.5.3.3.
In order to request the modification of an existing Data Reporting
Configuration, an AF shall send a
Nnef_DataReportingProvisioning_UpdateConfiguration request to the NEF using
the HTTP PATCH method and targeting the concerned \"Individual Data Reporting
Configuration\" resource with the request message body containing the
DataReportingConfigurationPatch data structure, as defined in clause
5.24.2.5.3.3A.
In order to request the deletion of an existing Data Reporting Configuration,
an AF shall send a Nnef_DataReportingProvisioning_DeleteConfiguration request
to the NEF using the HTTP DELETE method and targeting the concerned
\"Individual Data Reporting Configuration\" resource as defined in clause
5.24.2.5.3.4.
At the reception of the HTTP POST/GET/PUT/PATCH/DELETE requests from the AF,
the NEF shall trigger the necessary interactions with the DCAF as specified in
3GPP TS 26.532 [60] and:
\- for an HTTP POST request, create a new \"Individual Data Reporting
Configuration\" resource and respond to the AF with an HTTP \"200 OK\" status
code including an HTTP Location header field containing the URI of the created
resource and the response body including a representation of the created
\"Data Reporting Configuration\" resource within the
DataReportingConfiguration data structure;
\- for an HTTP GET request, respond to the AF with an HTTP \"200 OK\" status
code with the response body including the representation of the requested
\"Individual Data Reporting Configuration \" resource within the
DataReportingConfiguration data structure;
\- for an HTTP PUT/PATCH request, update/modify the concerned \"Individual
Data Reporting Configuration\" resource and respond to the AF with an HTTP
\"200 OK\" status code with the response body including a representation of
the updated/modified \"Individual Data Reporting Configuration\" resource
within the DataReportingConfiguration data structure, or with an HTTP \"204 No
Content\" status code; and
\- for an HTTP DELETE request, delete the corresponding \"Individual Data
Reporting Configuration\" resource and respond to the AF with an HTTP \"204 No
Content\" status code.
### 4.4.32 Procedures for AF specific UE ID retrieval
#### 4.4.32.1 General
The procedures described in the clauses below are used by an AF to request the
NEF to provide an AF specific UE ID, as described in clause 4.15.10 of 3GPP TS
23.502 [2].
#### 4.4.32.2 Retrieve AF specific UE ID service operation
In order to retrieve AF specific UE ID information, the AF shall send an HTTP
POST request message to the NEF targeting the resource URI \"{apiRoot}/3gpp-
ueid/v1/retrieve\", with the request body including the UeIdReq data
structure. If the feature \"PortNumber\" is supported, the port number
associated with the UE IP address may be also included in the UeIdReq data
structure.
Upon reception of the HTTP POST request message from the AF, the NEF shall
check whether the AF is authorized to perform this operation or not:
\- if AF request for AF specific UE ID retrieval is not authorized, the NEF
shall respond to the AF with a \"403 Forbidden\" status code with the response
body including the ProblemDetails data structure containing the \"cause\"
attribute set to the \"REQUEST_NOT_AUTHORIZED\" application error indicating
the AF authorisation failure; or
\- if the AF\'s request for AF specific UE ID retrieval is authorized, then if
the DNN and/or S-NSSAI information is not available in the request, the NEF
shall determine the corresponding DNN and/or S-NSSAI information based on the
requesting AF Identifier, and if provided, the MTC Provider Information.
Upon success, if the port number associated with the UE IP address is received
and based on configuration, the NEF may recognize the address received is an
IP address which is different from the actual private UE IP address assigned
by 5GC, i.e. the UE is behind a NAT in UPF. If so, the NEF shall discover the
UPF implementing NAT functionality for the UE (public) IP address via
Nnrf_NFDiscovery service as defined in 3GPP TS 29.510 [57] and then the NEF
shall request UE\'s (private) IP address and IP domain (if the UE IPv4 address
is provided) from the UPF by invoking the Nupf_GetPrivateUEIP_Get service
operation as defined in 3GPP TS 29.564 [61]. If the UPF has the SUPI of the
UE, the UPF may directly return the SUPI to the NEF then the NEF shall skip
the interaction with the BSF. Otherwise the NEF shall then interact with the
BSF using the UE address and IP domain (if the UE IPv4 address is provided),
DNN and/or S-NSSAI to retrieve the session binding information of the UE by
invoking the Nbsf_Management_Discovery service operation, as described in 3GPP
TS 29.521 [9].
If the NEF receives an error response from the UPF or BSF, the NEF shall
respond to the AF with a proper error status code. If the NEF received from
the BSF an error response including a \"ProblemDetails\" data structure with
the \"cause\" attribute indicating an application error, the NEF shall relay
this error response to the AF with a corresponding application error. If no
SUPI matching the provided UE information is returned by the BSF, the NEF
shall respond to the AF with a \"404 Not Found\" status code with the response
body including a ProblemDetails data structure containing the \"cause\"
attribute set to the \"UE_NOT_FOUND\" application error to indicate that the
requested UE address is not found.
Upon success and a SUPI is returned by the BSF, the NEF shall then interact
with UDM to retrieve the AF specific UE Identifier using the received SUPI and
at least one of the Application Port ID, MTC Provider Information or AF
Identifier information by invoking Nudm_SDM_Get service, as described in
clause 5.2.2.2 of 3GPP TS 29.503 [17]. Upon success, the UDM responds to the
NEF with the AF specific UE Identifier represented as an External Identifier
for the UE which is uniquely associated with the Application Port ID, MTC
provider Information and/or AF Identifier. The NEF shall then respond to the
AF with the received information, i.e. the AF specific UE Identifier
represented as an External Identifier that was received from the UDM.
If the NEF receives an error response from the UDM, the NEF shall respond to
the AF with a proper error status code. If the NEF received from the UDM an
error response including a \"ProblemDetails\" data structure with the
\"cause\" attribute indicating an application error, the NEF shall relay this
error response to the AF with a corresponding application error. If the UDM
indicates that the requested UE Identifier is not available in the
subscription data, the NEF shall respond to the AF with a \"404 Not Found\"
error status code with the response body including a ProblemDetails data
structure containing the \"cause\" attribute set to the
\"UE_ID_NOT_AVAILABLE\" application error to indicate that the AF specific UE
ID is not available.
NOTE: The combination of IP address and Port Number can be used by 5GC to
derive the UE private IP address assigned by 5GC if the UE is behind a NAT
within UPF.
### 4.4.33 Procedures for Media Streaming Event Exposure
#### 4.4.33.1 General
The procedures described in the clauses below are used by an
external/untrusted event consumer AF to subscribe, update and delete a
subscription to Media Streaming Exposure event(s) reporting via the NEF, also
for a data collection AF to notify the observed Media Streaming event(s) which
has been subscribed, as defined in 3GPP TS 26.512 [67].
#### 4.4.33.2 Procedure for Media Streaming Event Exposure Subscription
Creation
This procedure is used by an event consumer AF to subscribe to at least one
Media Streaming Exposure event at the NEF.
In order to subscribe to at least one Media Streaming Exposure event, an event
consumer AF shall send a Nnef_MSEventExposure_Subscribe request message to the
NEF using the HTTP POST method and targeting the \"Media Streaming Event
Exposure Subscriptions\" collection resource, with the request message body
including the AfEventExposureSubsc data structure, as specified in clause
5.28.2.2.3.2.
The NEF shall then check whether the event consumer AF is authorized to
perform this operation or not. If the event consumer AF is authorized, the NEF
shall then trigger the Naf_EventExposure API of the data collection AF to
request the creation of the corresponding Application Event Subscriptions at
the AF, as specified in 3GPP TS 29.517 [58].
Upon reception of a successful response from the data collection AF, as
defined in 3GPP TS 29.517 [58], the NEF shall return a
Nnef_MSEventExposure_Subscribe response message with an HTTP \"201 Created\"
status code including a \"Location\" header field that shall contain the URI
of the created resource, i.e. \"{apiRoot}/3gpp-ms-event-
exposure/v1/subscriptions/{subscriptionId}\", and the response body containing
a representation of the created \"Individual Media Streaming Event Exposure
Subscription\" resource within the AfEventExposureSubsc data structure, as
specified in clause 5.28.2.2.3.2.
On failure or if the NEF receives an error response from the data collection
AF, the NEF shall take proper error handling actions, as specified in clause
5.28.7, and respond to the event consumer AF with an appropriate error status
code. If the NEF received within an error response a \"ProblemDetails\" data
structure with a \"cause\" attribute indicating an application error, the NEF
shall relay this error response to the AF with a corresponding application
error, when applicable.
#### 4.4.33.3 Procedure for Media Streaming Event Exposure Subscription Update
This procedure is used by an event consumer AF to update an existing Media
Streaming Event Exposure Subscription at the NEF.
In order to update an existing Media Streaming Event Exposure Subscription,
the event consumer AF shall send a Nnef_MSEventExposure_Subscribe request
message to the NEF using the HTTP PUT method and targeting the \"Individual
Media Streaming Event Exposure Subscription\" resource, with the request
message body including the AfEventExposureSubsc data structure, as specified
in clause 5.28.2.3.3.2.
The NEF shall then check whether the event consumer AF is authorized to
perform this operation or not. If the event consumer AF is authorized, the NEF
shall then trigger the Naf_EventExposure API of the data collection AF to
request the update of the corresponding Individual Application Event
Subscription at the AF, as specified in 3GPP TS 29.517 [58].
Upon reception of a successful response from the data collection AF, as
defined in 3GPP TS 29.517 [58], the NEF shall return a
Nnef_MSEventExposure_Subscribe response message with an HTTP \"200 OK\" status
code with the AfEventExposureSubsc data structure or "204 No Content" status
code, as specified in clause 5.28.2.3.3.2.
On failure or if the NEF receives an error response from the data collection
AF, the NEF shall take proper error handling actions, as specified in clause
5.28.7, and respond to the event consumer AF with an appropriate error status
code. If the NEF received within an error response a \"ProblemDetails\" data
structure with a \"cause\" attribute indicating an application error, the NEF
shall relay this error response to the AF with a corresponding application
error, when applicable.
#### 4.4.33.4 Procedure for Media Streaming Event Exposure Unsubscription
This procedure is used by an event consumer AF to request the deletion of an
existing Media Streaming Event Exposure Subscription at the NEF.
In order to request the deletion of an existing Media Streaming Event Exposure
Subscription, an event consumer AF shall send a
Nnef_MSEventExposure_Unsubscribe request message using the HTTP DELETE method
and targeting the URI of the concerned \"Individual Media Streaming Event
Exposure Subscription\" resource.
The NEF shall then check whether the event consumer AF is authorized to
perform this operation or not. If the AF is authorized, the NEF shall then
trigger the Naf_EventExposure service API of the data collection AF to request
the deletion of the corresponding Application Event Subscription at the AF, as
specified in 3GPP TS 29.517 [58].
Upon reception of a successful response from the data collection AF, as
defined in 3GPP TS 29.517 [58], the NEF shall return a
Nnef_MSEventExposure_Unsubscribe response message with an HTTP \"204 No
Content\" status code.
On failure or if the NEF receives an error code from the data collection AF,
the NEF shall take proper error handling actions, as specified in clause
5.28.7, and respond to the event consumer AF with an appropriate error status
code. If the NEF received within an error response a \"ProblemDetails\" data
structure with a \"cause\" attribute indicating an application error, the NEF
shall relay this error response to the AF with a corresponding application
error, when applicable.
#### 4.4.33.5 Procedure for Media Streaming Event Exposure Notification
This procedure is used by the NEF to send a Media Streaming Event Exposure
notification to a previously subscribed event consumer AF.
In order to send a Media Streaming Event Exposure notification, the NEF shall
send a Nnef_MSEventExposure_Notify request message to the AF using the HTTP
POST method and targeting the notification URI provided during the
creation/update of the corresponding subscription, with the request body
including the MSEventExposureNotif data structure as specified in clause
5.28.4.2.3.1.
Upon success, the event consumer AF shall send a Nnef_MSEventExposure_Notify
response message with an HTTP \"204 No Content\" status code.
On failure, the event consumer AF shall take proper error handling actions, as
specified in clause 5.28.7, and respond to the NEF with an appropriate error
status code.
### 4.4.34 Procedures for DNAI Mapping
#### 4.4.34.1 General
The procedures are used by AF to create or delete subscription(s) of DNAI
Mapping information to NEF and also by NEF to notify NF consumer about the
update of the DNAI Mapping information as defined in clause 5.2.6.34 of 3GPP
TS 23.502 [2]
#### 4.4.34.2 Creation of a new subscription for DNAI Mapping
In order to create a new subscription for DNAI Mapping for a given AF, the AF
shall initiate an HTTP POST request to the NEF for the \"DNAI Mapping
Subscriptions\" resource. The HTTP POST request message body shall include the
DnaiMapSub data structure that shall include either:
\- FQDN of the EAS in the Local part of the DN as the \"fqdn\" attribute;
or
\- EAS IP Address(es) in the Local part of the DN, \"easIpAddrs\" attribute;
and may include:
\- an DNN as \"dnn\" attribute;
\- an S-NSSAI as \"snssai\" attribute;
\- an Event reporting requirements as \"eventReq\" attribute.
Upon receipt of the corresponding HTTP POST message, if the AF is authorized
by the NEF to obtain the DNAI mapping information, the NEF shall interact with
the UDR by invoking the Nudr_DataRepository service as described in 3GPP TS
29.504 [20], if the NEF receives an error response from the UDR, the NEF shall
not create, update or delete the resource and shall respond to the AF with a
proper error status code. If the NEF received within an error response a
\"ProblemDetails\" data structure with a \"cause\" attribute indicating an
application error, the NEF shall relay this error response to the AF with a
corresponding application error, when applicable.
On successful DNAI Mapping subscription creation, the NEF shall return an HTTP
POST response with an HTTP \"201 Created\" status code to the AF, including a
\"Location\" header containing the URI of the created \"Individual DNAI
Mapping Subscription\" resource and the response body containing a
representation of the created resource within the DnaiMapSub data structure.
If one-time reporting is not requested, an Expriy time (if the subscription
can be expired based on the operator's policy) shall be included within the
DnaiMapSub data structure.
On failure, the NEF shall take proper error handling actions, as specified in
clause 5.30.7, and respond to the AF with an appropriate error status code.
#### 4.4.34.3 Deletion of an existing individual DNAI Mapping subscription
In order to delete an existing DNAI Mapping subscription, the AF shall send an
HTTP DELETE request message and targeting the correponding \"Individual DNAI
Mapping Subscription\" resource.
On successful deletion of the subscription, the NEF shall return a Nnef_
DNAIMapping _Unsubcribe response with an HTTP \"204 No Content\" status code.
On failure, the NEF shall take proper error handling actions, as specified in
clause 5.30.7, and respond to the AF with an appropriate error status code.
#### 4.4.34.4 Notification for updated DNAI Mapping information
This procedure is used by the NEF to send DNAI Mapping information update
notifications to a previously subscribed AF.
When the NEF receives the notification of the updated DNAI Mapping information
from the UDR as described in 3GPP TS 29.504 [20], the NEF shall provide a
notification by sending an HTTP POST request message to the AF with the
request body including the DnaiMapUpdateNotif data structure and targeting the
notification URI provided by the AF during the corresponding DNAI mapping
subscription.
Upon reception of this notification request, the AF shall acknowledge its
successful reception by sending a HTTP POST response message with an HTTP
\"204 No Content\" status code.
On failure, the AF shall take proper error handling actions, as specified in
clause 5.30.7, and respond to the NEF with an appropriate error status code.
### 4.4.35 Procedures for negotiation of planned data transfer with QoS
requirements
These procedures are used by an AF to perform negotiation of a viable time
window for the planned application data transfer via the support of the NEF.
In order to create a resource for the PDTQ policy, the AF shall send an HTTP
POST message to the NEF for the \"PDTQ Policy Subscriptions\" resource to
negotiate the PDTQ policy. The body of the HTTP POST message shall include the
ASP Identifier, Number of UEs, the list of Desired Time Windows, QoS reference
or individual QoS parameters and optionally network area information,
application identifier and Alternative Service Requirements. The AF may also
include a notification URI and a request to enable the PDTQ warning
notification during the planned data transfer policy negotiation.
After receiving the HTTP POST message, if the AF is authorized, the NEF may
map the information received from the AF (e.g. QoS reference and network area
information) based on local policies and negotiate the PDTQ policy with the
PCF as described in 3GPP TS 29.543 [68]. After receiving the response
including the determined PDTQ policies from the PCF, the NEF shall create an
\"Individual PDTQ Policy Subscription\" resource which represents the PDTQ
subscription, addressed by an URI that contains the AF identifier and a NEF-
created subscription identifier, and shall respond to the AF with a 201
Created message, including a Location header field containing the URI for the
created resource and a message body, which shall also include a PDTQ Reference
ID and a set of PDTQ policies. The AF shall use the URI received in the
Location header in subsequent requests to the NEF to refer to this PDTQ
subscription. If the NEF receives a response with an error code from the PCF,
the NEF shall not create the resource and shall respond to the AF with a
corresponding failure code as described in clause 5.31.5.
If more than one policy is included in the HTTP response, the AF shall send an
HTTP PATCH message to inform the NEF for the \"Individual PDTQ Subscription\"
resource of the PDTQ policy selected by the AF. The AF may also send an HTTP
PATCH to request to disable/enable the PDTQ warning notification at any
moment.
After receiving the HTTP PATCH message, the NEF shall send an HTTP response to
the AF with a \"200 OK\" status code and shall include the Pdtq data type in
the response body, or with a \"204 No Content\" status code, then the NEF
shall interact with the PCF as defined in 3GPP TS 29.543 [68]. If the NEF
identifies any error (e.g. selected policy is not within the set of PDTQ
policies), the NEF shall not update the resource and shall respond to the AF
with a corresponding failure code as described in clause 5.31.5.
When the NEF receives the PDTQ warning notification from the PCF as defined in
clause 5.2.2.4.2 of 3GPP TS 29.543 [68] and the \"warnNotifEnabled\" attribute
was set to true, the NEF shall send an HTTP POST message including the
Notification data structure to the AF identified by the notification
destination URI received during the planned data transfer policy negotiation.
The AF shall respond with an HTTP response to confirm the received
notification. The AF may select one policy from the candidate PDTQ policies if
provided in the notification by using the HTTP PATCH message. If the selected
policy is set to value \"0\" within the \"selectedPolicy\" attribute in the
HTTP PATCH message, it implies no PDTQ policy is selected by the AF. The AF
may also request to disable/enable the PDTQ warning notification by including
the \"warnNotifEnabled\" attribute in the HTTP PATCH message.
The AF may also send an HTTP DELETE message to the NEF for the \"Individual
PDTQ Policy Subscription\" resource requesting to remove an individual
resource identified by the URI received in the response to the request that
has created resource a URI. After receiving such request, the NEF shall delete
the resource and send an HTTP response to the AF with a corresponding status
code.
NOTE: The NEF can also remove the resource when the last window end time in
PDTQ policies expires.
### 4.4.36 Procedures for Member UE Selection Assistance
#### 4.4.36.1 General
The procedures described in the clauses below are used by an AF to subscribe,
update and delete a subscription to Member UE selection assistance information
via the NEF, also for the NEF to notify the AF about the member UE selection
assistance information which has been subscribed.
#### 4.4.36.2 Procedure for Member UE Selection Assistance Subscription
Creation
In order to subscribe to receive the Member UE selection assistance
information, the AF shall send an HTTP POST request message to the NEF
targeting the \"Member UE Selection Assistance Subscriptions\" collection
resource, with the request message body including the MemUeSelectAssistSubsc
data structure, as specified in clause 5.32.5.2.2.
The NEF shall then check whether the AF is authorized to perform this
operation or not. If the AF is authorized and based on the Member UE filtering
criteria provided by the AF, the NEF shall then interact with different 5GC
NFs via the services offered by the 5GC NFs as specified in clause 5.32.5.2.2.
Upon reception of a successful response from the 5GC NF, the NEF shall respond
to the AF with a \"201 Created\" status code including a \"Location\" header
field that shall contain the URI of the created resource, i.e.
\"{apiRoot}/3gpp-umsa/v1/{afId}/subscriptions/{subscriptionId}\", and the
response body containing a representation of the created \"Individual Member
UE Selection Assistance Subscription\" resource within the
MemUeSelectAssistSubsc data structure as specified in clause 5.32.5.2.2.
On failure or if the NEF receives an error response from the 5GC NF, the NEF
shall take proper error handling actions, as specified in clause 5.32.7, and
respond to the AF with an appropriate error status code. If the NEF received
within an error response a \"ProblemDetails\" data structure with a \"cause\"
attribute indicating an application error, the NEF shall relay this error
response to the AF with a corresponding application error, when applicable.
#### 4.4.36.3 Procedure for Member UE Selection Assistance Subscription Update
In order to update an existing Individual Member UE Selection Assistance
Subscription, the AF shall send an HTTP PUT request message to the NEF
targeting the \"Individual Member UE Selection Assistance Subscription\"
resource, with the request message body including the MemUeSelectAssistSubsc
data structure as specified in clause 5.32.5.2.2.
The NEF shall then check whether the AF is authorized to perform this
operation or not. If the AF is authorized and based on the Member UE filtering
criteria provided by the AF, the NEF shall then interact with different 5GC
NFs via the services offered by the 5GC NFs as specified in clause 5.32.5.2.2.
Upon reception of a successful response from the 5GC NF, the NEF shall respond
to the AF with a \"200 OK\" status code with the MemUeSelectAssistSubsc data
structure or \"204 No Content\" status code, as specified in clause
5.32.5.2.2.
On failure or if the NEF receives an error response from the 5GC NF, the NEF
shall take proper error handling actions, as specified in clause 5.32.7, and
respond to the AF with an appropriate error status code. If the NEF received
within an error response a \"ProblemDetails\" data structure with a \"cause\"
attribute indicating an application error, the NEF shall relay this error
response to the AF with a corresponding application error, when applicable.
#### 4.4.36.4 Procedure for Member UE Selection Assistance Subscription
Unsubscription
In order to request the deletion of an existing Individual Member UE Selection
Assistance Subscription, the AF shall send an HTTP DELETE request message
targeting the URI of the concerned \"Individual Member UE Selection Assistance
Subscription\" resource.
The NEF shall then check whether the AF is authorized to perform this
operation or not. If the AF is authorized, the the NEF shall then unsubscribe
from the different 5GC NFs to stop collecting the UE list.
Upon reception of a successful response from the 5GC NF, the NEF shall respond
to the AF with a HTTP \"204 No Content\" status code.
On failure or if the NEF receives an error code from the 5GC AF, the NEF shall
take proper error handling actions, as specified in clause 5.32.7, and respond
to the AF with an appropriate error status code. If the NEF received within an
error response a \"ProblemDetails\" data structure with a \"cause\" attribute
indicating an application error, the NEF shall relay this error response to
the AF with a corresponding application error, when applicable.
#### 4.4.36.5 Procedure for Member UE Selection Assistance Notification
In order to send a Member UE Selection Assistance notification, the NEF shall
send the HTTP POST request message to the AF using and targeting the
notification URI provided during the creation/update of the corresponding
subscription, with the request body including the MemUeSeletAssistNotif data
structure as specified in clause 5.32.5.2.3.
Upon success, the AF shall send a HTTP \"204 No Content\" status code.
On failure, the AF shall take proper error handling actions, as specified in
clause 5.32.7, and respond to the NEF with an appropriate error status code.
> Editor's Note: The list of Member UE filtering criteria and their
> corresponding procedures are FFS.
### 4.4.37 Procedures for Group Parameters Provisioning
#### 4.4.37.1 General
The procedures described in the clauses below are used by an AF to interact
with the 5GC for Group Parameters Provisioning, in order to carry out the
following procedures:
\- DNN and S-NSSAI Group parameters provisioning procedures (see clause
4.15.6.3e of 3GPP TS 23.502 [2]).
#### 4.4.37.2 Procedures for DNN and S-NSSAI Group Parameters Provisioning
This procedure is used by an AF to request the creation/update/deletion of a
DNN and S-NSSAI Group parameters provisioning.
In order to request the creation of a DNN and S-NSSAI Group Parameters
Provisioning:
\- an AF shall trigger the Nnef_GroupParametersProvisioning API by sending an
HTTP POST request to the NEF targeting the \"Group Parameters Provisionings\"
collection resource, with the request body including the GrpPpData data
structure that shall contain:
\- within the \"afId\" attribute, the identifier of the AF that is sending the
request;
\- within the \"dnnSnssaiGrpData\" attribute, the DNN and S-NSSAI specific
Group parameters data that are to be provisioned; and
\- within the \"suppFeat\" attribute, the features supported by the AF, if
applicable (i.e., feature negociation needs to take place);
\- the NEF shall then check whether the AF is authorized to perform this
operation or not;
\- if the AF is authorized:
\- if the LADN Service Area is provided by the AF within the
\"dnnSnssaiGrpData\" attribute (via the \"ladnServArea\" attribute) and in the
form of a list of geographic area(s) or a list of civic address(es), the NEF
shall translate this information into a list of TAI(s); and
\- the NEF shall then trigger the Nudm_ParameterProvision service API of the
UDM to request the provisioning of the received DNN and S-NSSAI Group
parameters provisioning data as specified in 3GPP TS 29.503 [17];
and
\- upon reception of a successful response from the UDM as defined in 3GPP TS
29.503 [17] and successful processing of the request, the NEF shall respond to
the AF with an HTTP \"200 OK\" status code including a Location header field
containing the URI of the created resource, and the response body including a
representation of the created \"Individual Group Parameters Provisioning\"
resource within the GrpPpData data structure.
In order to request the update of an existing \"Individual Group Parameters
Provisioning\" resource:
\- an AF shall trigger the Nnef_GroupParametersProvisioning API by sending to
the NEF either:
\- an HTTP PUT request targeting the concerned \"Individual Group Parameters
Provisioning\" resource with the request body including the GrpPpData data
structure; or
\- an HTTP PATCH request targeting the concerned \"Individual Group Parameters
Provisioning\" resource with the request body including the GrpPpDataPatch
data structure;
\- after authorizing the request, the NEF shall interact with the UDM via the
the Nudm_ParameterProvision service API to request the provisioning of the
received updated DNN and S-NSSAI Group parameters provisioning data; and
\- upon reception of a successful response from the UDM as defined in 3GPP TS
29.503 [17] and successful processing of the request, the NEF shall respond to
the AF with either:
\- an HTTP \"200 OK\" status code with the response body containing a
representation of the updated \"Individual Group Parameters Provisioning\"
resource within the GrpPpData data structure; or
\- an HTTP \"204 No Content\" status code.
In order to request the deletion of an existing \"Individual Parameters
Provisioning\" resource:
\- an AF shall trigger the Nnef_GroupParametersProvisioning API by sending an
HTTP DELETE request targeting the concerned \"Individual Group Parameters
Provisioning\" resource to the NEF; and
\- upon success, the NEF shall respond to the AF with an HTTP \"204 No
Content\" status code.
On failure or if the NEF receives an error code from the UDM, the NEF shall
take proper error handling actions, as specified in clause 5.33.7, and respond
to the AF with an appropriate error status code.
### 4.4.38 Procedures for Network Slice Parameters Provisioning
#### 4.4.38.1 General
The procedures described in the clauses below are used by an AF to interact
with the 5GC for Network Slice Parameters Provisioning, in order to carry out
the one or more of the following procedures:
\- Network Slice Usage Control parameters provisioning procedures (see clause
4.15.6.3g of 3GPP TS 23.502 [2]).
In order to request the creation of a Network Slice Parameters Provisioning:
\- an AF shall trigger the Nnef_SliceParamProvision API by sending an HTTP
POST request to the NEF targeting the \"Slice Parameters Provisionings\"
collection resource, with the request body including the SlicePpData data
structure that shall include:
\- within the \"afId\" attribute, the identifier of the AF that is sending the
request; and
\- within the \"suppFeat\" attribute, the features supported by the AF, if
applicable (i.e., feature negociation needs to take place);
\- the NEF shall then check whether the AF is authorized to perform this
operation or not;
\- if the AF is authorized, the NEF shall trigger the Nudm_ParameterProvision
service API of the UDM to request the provisioning of the received Network
Slice Parameters Provisioning data as specified in 3GPP TS 29.503 [17]; and
\- upon reception of a successful response from the UDM as defined in 3GPP TS
29.503 [17] and successful processing of the request, the NEF shall respond to
the AF with an HTTP \"200 OK\" status code including a Location header field
containing the URI of the created resource, and the response body including a
representation of the created \"Individual Slice Parameters Provisioning\"
resource within the SlicePpData data structure.
In order to request the update of an existing \"Individual Slice Parameters
Provisioning\" resource:
\- an AF shall trigger the Nnef_SliceParamProvision API by sending to the NEF
either:
\- an HTTP PUT request targeting the concerned \"Individual Slice Parameters
Provisioning\" resource with the request body including the updated
representation of the resource within the SlicePpData data structure; or
\- an HTTP PATCH request targeting the concerned \"Individual Slice Parameters
Provisioning\" resource with the request body including the requested
modifications to the resource within the SlicePpDataPatch data structure;
\- after authorizing the request, the NEF shall interact with the UDM via the
the Nudm_ParameterProvision service API to request the provisioning of the
received updated Network Slice parameters provisioning data; and
\- upon reception of a successful response from the UDM as defined in 3GPP TS
29.503 [17] and successful processing of the request, the NEF shall respond to
the AF with either:
\- an HTTP \"200 OK\" status code with the response body containing a
representation of the updated \"Individual Slice Parameters Provisioning\"
resource within the SlicePpData data structure; or
\- an HTTP \"204 No Content\" status code.
In order to request the deletion of an existing \"Individual Slice Parameters
Provisioning\" resource:
\- an AF shall trigger the Nnef_SliceParamProvision API by sending an HTTP
DELETE request targeting the concerned \"Individual Slice Parameters
Provisioning\" resource to the NEF; and
\- upon success, the NEF shall respond to the AF with an HTTP \"204 No
Content\" status code.
On failure or if the NEF receives an error code from the UDM, the NEF shall
take proper error handling actions, as specified in clause 5.34.7, and respond
to the AF with an appropriate error status code.
#### 4.4.38.2 Procedures for Network Slice Usage Control Parameters
Provisioning
This procedure is used by an AF to request Network Slice Usage Control
parameters provisioning by reusing the procedures defined in clause 4.4.38.1
with the following differences:
\- during the creation of the Network Slice Parameters Provisioning or update
of the Network Slice Parameters Provisioning using HTTP PUT, the SlicePpData
data structure shall include:
\- within the \"sliceUsgCtrlData\" attribute, the Network Slice Usage Control
parameters data that are to be provisioned;
and
\- during the modification of the Network Slice Parameters Provisioning or
update of the Network Slice Parameters Provisioning using HTTP PATCH, the
SlicePpDataPatch data structure shall include:
\- within the \"sliceUsgCtrlData\" attribute, the requested modification to
the Network Slice Usage Control parameters data.
# 5 **NEF Northbound** APIs
## 5.1 Introduction
The **NEF Northbound** APIs are a set of APIs defining the related procedures
and resources for the interaction between the NEF and the AF.
Tables 5.1-1 summarizes the APIs defined in this specification.
Table 5.1-1: API Descriptions
* * *
Service Name Clause defined Description OpenAPI Specification File API Name
Annex TrafficInfluence 5.4 Traffic Influence API TS29522_TrafficInfluence.yaml
3gpp-traffic-influence A.2 NiddConfigurationTrigger 5.5 NIDD (Non-IP Data
Delivery) Configuration Trigger API TS29522_NiddConfigurationTrigger.yaml
3gpp-nidd-configuration-trigger A.3 AnalyticsExposure 5.6 Analytics Exposure
API TS29522_AnalyticsExposure.yaml 3gpp-analyticsexposure A.4
5GLANParameterProvision 5.7 5G LAN Parameter Provision API
TS29522_5GLANParameterProvision.yaml 3gpp-5glan-pp A.5 ApplyingBdtPolicy 5.8
Applying BDT Policy API TS29522_ApplyingBdtPolicy.yaml 3gpp-applying-bdt-
policy A.6 IPTVConfiguration 5.9 IPTV Configuration API
TS29522_IPTVConfiguration.yaml 3gpp-iptvconfiguration A.7
LpiParameterProvision 5.10 LPI (Location Privacy Indicator) Parameter
Provision API TS29522_LpiParameterProvision.yaml 3gpp-lpi-pp A.8
ServiceParameter 5.11 Service Parameter API TS29522_ServiceParameter.yaml
3gpp-service-parameter A.9 ACSParameterProvision 5.12 ACS Parameter Provision
API TS29522_ACSParameterProvision.yaml 3gpp-acs-pp A.10 MoLcsNotify 5.13 MO
LCS Notify API TS29522_MoLcsNotify.yaml 3gpp-mo-lcs-notify A.11 AKMA 5.14 AKMA
API TS29522_AKMA.yaml 3gpp-akma A.12 TimeSyncExposure 5.15 Time Sync Exposure
API TS29522_TimeSyncExposure.yaml 3gpp-time-sync-exposure A.13
EcsAddressProvision 5.16 ECS Address Provision API
TS29522_EcsAddressProvision.yaml 3gpp-ecs-address-provision A.14
AMPolicyAuthorization 5.17 AM Policy Authorization API
TS29522_AMPolicyAuthorization.yaml 3gpp-am-policyauthorization A.15
AMInfluence 5.18 AM Influence API TS29522_AMInfluence.yaml 3gpp-am-influence
A.16 MBSTMGI 5.19 MBS TMGI API TS29522_MBSTMGI.yaml 3gpp-mbs-tmgi A.17
MBSSession 5.20 MBS Session API TS29522_MBSSession.yaml 3gpp-mbs-session A.18
EASDeployment 5.21 EAS Deployment API TS29522_EASDeployment.yaml 3gpp-eas-
deployment A.19 ASTI 5.22 ASTI API TS29522_ASTI.yaml 3gpp-asti A.20
DataReporting 5.23 DataReporting API TS29522_DataReporting.yaml 3gpp-data-
reporting A.21 DataReportingProvisioning 5.24 DataReportingProvisioning API
TS29522_DataReportingProvisioning.yaml 3gpp-data-reporting-provisioning A.22
UEId 5.25 UE ID API TS29522_UEId.yaml 3gpp-ueid A.23 MBSUserService 5.26
MBSUserService API TS29522_MBSUserService.yaml 3gpp-mb-us A.24
MBSUserDataIngestSession 5.27 MBSUserDataIngestSession API TS29522_
MBSUserDataIngestSession.yaml 3gpp-mb-ud-ingest A.25 MSEventExposure 5.28
MSEventExposure API TS29522_MSEventExposure.yaml 3gpp-event-exposure A.26
MBSGroupMsgDelivery 5.29 MBSGroupMsgDelivery API
TS29522_MBSGroupMsgDelivery.yaml 3gpp-mbs-group-msg A.27 DNAIMapping 5.30
DNAIMapping API TS29522_DNAIMapping.yaml 3gpp-dnai-mapping A.28
PDTQPolicyNegotiation 5.31 PDTQPolicyNegotiation API
TS29522_PDTQPolicyNegotiation.yaml 3gpp-pdtq-policy-negotiation A.29
MemberUESelectionAssistance 5.32 MemberUESelectionAssistance API
TS29522_MemberUESelectionAssistance.yaml 3gpp-musa A.30
GroupParametersProvisioning 5.33 Group Parameters provisioning API
TS29.522_GroupParametersProvisioning.yaml 3gpp-grp-pp A.31
* * *
## 5.2 Information applicable to several APIs
The usage of HTTP, content type and URI structure definition, as specified in
clauses 5.2.2, 5.2.3 and 5.2.4 of 3GPP TS 29.122 [4] respectively, shall be
applicable for NEF Northbound APIs.
The notification, error handling, feature negotiation, HTTP custom headers as
specified in clauses 5.2.5, 5.2.6, 5.2.7, 5.2.8 of 3GPP TS 29.122 [4]
respectively, shall be applicable for NEF Northbound APIs except that the SCEF
is replaced by the NEF and the SCS/AS is replaced by the AF.
The conventions for Open API specification files as specified in clause 5.2.9
of 3GPP TS 29.122 [4] shall be applicable for NEF Northbound APIs.
## 5.3 Reused APIs
This clause describes the northbound APIs which are applicable for both EPS
and 5GS.
Table 5.3-1: Reused APIs applicable for both EPS and 5GS
+---------------------------+-----------------------------------------+ | API Name | Differences | +---------------------------+-----------------------------------------+ | ResourceManagementOfBdt | - The following features as described | | | in clause 5.4.4 of 3GPP TS 29.122 [4] | | | may only be supported in 5G: | | | \"LocBdt_5G\", \"Group_Id\", | | | \"BdtNotification_5G\", \"AspId_5G\". | +---------------------------+-----------------------------------------+ | PfdManagement | - The following features as described | | | in clause 5.11.4 of | | | 3GPP TS 29.122 [4] may only be | | | supported in 5G: | | | \"FailureLocation_5G\". | +---------------------------+-----------------------------------------+ | MonitoringEvent | - The following features as described | | | in clause 5.3.4 of 3GPP TS 29.122 [4] | | | may only be supported in 5G: | | | \"Number_of\ | | | _UEs_in_an_area_notification_5G\", | | | \" | | | Downlink_data_delivery_status_5G\", | | | \"Availability_after_DDN | | | _failure_notification_enhancement\", | | | \"eLCS\", \"NSAC\", \"MULTIQOS\", | | | \"EDGEAPP\", \"UEId_retrieval\", | | | \"Loss | | | _of_connectivity_notification_5G\", | | | \"GMEC\", \"enNB1_5G\", | | | \"AppDetection_5G\", \"eNSAC\", | | | \"QoSTiming_5G\", \"ListUE_5G\". | | | | | | - For the | | | \"Pdn_connectivity_status\" feature, | | | APN is equivalent to DNN; the non-IP | | | PDN type is equivalent to the | | | unstructured PDU session type; and the | | | enumeration InterfaceIndication value | | | \"PDN_GATEWAY\" stands for PDU session | | | anchored in UPF in 5G. | +---------------------------+-----------------------------------------+ | DeviceTriggering | | +---------------------------+-----------------------------------------+ | CpProvisioning | - The following features as described | | | in clause 5.10.4 of | | | 3GPP TS 29.122 [4] may only be | | | supported in 5G: \"ExpectedUMT_5G\", | | | \"ExpectedUmtTime_5G\", | | | \"ScheduledCommType_5G\", | | | \"UEId_retrieval\", | | | \"AppExpUeBehaviour\". | +---------------------------+-----------------------------------------+ | ChargeableParty | - The following features as described | | | in clause 5.5.4 of 3GPP TS 29.122 [4] | | | may only be supported in 5G: | | | \"EthChgParty_5G\", | | | \"MacAddressRange_5G\", \"ToSTC_5G\". | | | | | | - The events (i.e. LOSS_OF_BEARER, | | | RECOVERY_OF_BEARER and | | | RELEASE_OF_BEARER) do not apply for | | | 5G. | +---------------------------+-----------------------------------------+ | AsSessionWithQoS | - The following features as described | | | in clause 5.14.4 of | | | 3GPP TS 29.122 [4] may only be | | | supported in 5G: | | | \"EthAsSessionQoS_5G\", | | | \"QoSMonitoring_5G\", | | | \"PacketDelayFailureReport\", | | | \"MacAddressRange_5G\", | | | \"AlternativeQoS_5G\", \"TSC_5G\", | | | \"DisableUENotification_5G\", | | | \"ExposureToEAS\", | | | \"AltQosWithIndParams_5G\", | | | \"EnEthAsSessionQoS_5G\", | | | \"enNB_5G\", | | | \"AltQoSProfilesSupportReport\", | | | \"ExtQoS_5G\", | | | \"EnTSCAC\",\"XRM_5G\", \"ToSTC_5G\" | | | and \"GMEC_5G\". | | | | | | - The events (i.e. LOSS_OF_BEARER, | | | RECOVERY_OF_BEARER and | | | RELEASE_OF_BEARER) do not apply for | | | 5G. | +---------------------------+-----------------------------------------+ | MsisdnLessMoSms | | +---------------------------+-----------------------------------------+ | NpConfiguration | - The following features as described | | | in clause 5.13.4 of | | | 3GPP TS 29.122 [4] may only be | | | supported in 5G: \"NpExpiry_5G\", | | | \"UEId_retrieval\". | +---------------------------+-----------------------------------------+ | NIDD | | +---------------------------+-----------------------------------------+ | RacsParameterProvisioning | | +---------------------------+-----------------------------------------+ | ECRControl | - The following features as described | | | in clause 5.12.4 of | | | 3GPP TS 29.122 [4] may only be | | | supported in 5G: \"ECR_WB_5G\". | +---------------------------+-----------------------------------------+
Editor's Note: XRM_5G feature name and granularity is FFS.
## 5.4 TrafficInfluence API
### 5.4.0 Introduction
The Nnef_TrafficInfuence service shall use the TrafficInfluence API.
The API URI of TrafficInfluence API shall be:
**{apiRoot}/3gpp-traffic-influence/v1**
with the following components:
\- \"apiRoot\" is set as defined in clause 5.2.4 of 3GPP TS 29.122 [4].
\- \"apiName\" shall be set to \"3gpp-traffic-influence\".
\- \"apiVersion\" shall be set to \"v1\" for the current version defined in
the present document.
All resource URIs in the clauses below are defined relative to the above API
URI.
### 5.4.1 Resources
#### 5.4.1.1 Overview
This clause describes the structure for the Resource URIs as shown in figure
5.4.1.1-1 and the resources and HTTP methods used for the TrafficInfluence
API.
Figure 5.4.1.1-1: Resource URI structure of the TrafficInfluence API
Table 5.4.1.1-1 provides an overview of the resources and HTTP methods
applicable for the TrafficInfluence API.
Table 5.4.1.1-1: Resources and methods overview
* * *
Resource name Resource URI HTTP method Description Traffic Influence
Subscription /{afId}/subscriptions GET Read all subscriptions for a given AF
POST Create a new subscription to traffic influence Individual Traffic
Influence Subscription /{afId}/subscriptions/{subscriptionId} GET Read a
subscription to traffic influence PUT Modify all of the properties of an
existing subscription to traffic influence PATCH Modify part of the properties
of an existing subscription to traffic influence DELETE Delete a subscription
to traffic influence
* * *
#### 5.4.1.2 Resource: Traffic Influence Subscription
##### 5.4.1.2.1 Introduction
This resource allows a AF to read all active traffic influence subscribtions
for the given AF.
##### 5.4.1.2.2 Resource Definition
Resource URI: **{apiRoot}/3gpp-traffic-influence/v1/{afId}/subscriptions**
This resource shall support the resource URI variables defined in table
5.4.1.2.2-1.
Table 5.4.1.2.2-1: Resource URI variables for this resource
* * *
Name Data type Definition apiRoot string Clause 5.2.4 of 3GPP TS 29.122 [4].
afId string Identifier of the AF.
* * *
##### 5.4.1.2.3 Resource Methods
###### 5.4.1.2.3.1 General
The following clauses specify the resource methods supported by the resource
as described in clause 5.4.1.2.2.
###### 5.4.1.2.3.2 GET
The GET method allows to read all active subscriptions for a given AF. The AF
shall initiate the HTTP GET request message and the NEF shall respond to the
message.
This method shall support the URI query parameters specified in table
5.4.1.2.3.2-1.
Table 5.4.1.2.3.2-1: URI query parameters supported by the GET method on this
resource
* * *
Name Data type P Cardinality Description N/A
* * *
This method shall support the request data structures specified in table
5.4.1.2.3.2-2 and the response data structures and response codes specified in
table 5.4.1.2.3.2-3.
Table 5.4.1.2.3.2-2: Data structures supported by the GET Request Body on this
resource
* * *
Data type P Cardinality Description N/A
* * *
Table 5.4.1.2.3.2-3: Data structures supported by the GET Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | array(Tra | M | 0..N | 200 OK | The | | fficInfluSub) | | | | subscription | | | | | | information | | | | | | for the AF in | | | | | | the request | | | | | | URI are | | | | | | returned. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 307 Temporary | Temporary | | | | | Redirect | redirection, | | | | | | during | | | | | | subscription | | | | | | retrieval. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 308 Permanent | Permanent | | | | | Redirect | redirection, | | | | | | during | | | | | | subscription | | | | | | retrieval. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the GET | | | | | | method listed | | | | | | in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.4.1.2.3.2-4: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
Table 5.4.1.2.3.2-5: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
###### 5.4.1.2.3.3 POST
The POST method creates a new subscription resource to traffic influence
subscription for a given AF. The AF shall initiate the HTTP POST request
message and the NEF shall respond to the message. The NEF shall construct the
URI of the created resource.
This method shall support the request data structures specified in table
5.4.1.2.3.3-1 and the response data structures and response codes specified in
table 5.4.1.2.3.3-2.
Table 5.4.1.2.3.3-1: Data structures supported by the POST Request Body on
this resource
* * *
Data type P Cardinality Description TrafficInfluSub M 1 Parameters to register
a subscription to influencing traffic routing and/or notification about UP
management events with the NEF.
* * *
Table 5.4.1.2.3.3-2: Data structures supported by the POST Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | Tr | M | 1 | 201 Created | The | | afficInfluSub | | | | subscription | | | | | | was created | | | | | | successfully. | | | | | | | | | | | | The URI of | | | | | | the created | | | | | | resource | | | | | | shall be | | | | | | returned in | | | | | | the | | | | | | \"Location\" | | | | | | HTTP header. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the POST | | | | | | method listed | | | | | | in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.4.1.2.3.3-3: Headers supported by the 201 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 Contains the URI
of the newly created resource, according to the structure: {apiRoot}/3gpp-
traffic-Influence/v1/{afId}/subscriptions/{subscriptionId}
* * *
#### 5.4.1.3 Resource: Individual Traffic Influence Subscription
##### 5.4.1.3.1 Introduction
This resource allows a AF to register a subscription to influencing traffic
routing and/or notification about UP management events with the NEF.
##### 5.4.1.3.2 Resource Definition
Resource URI: **{apiRoot}/3gpp-traffic-
influence/v1/{afId}/subscriptions/{subscriptionId}**
This resource shall support the resource URI variables defined in table
5.4.1.3.2-1.
Table 5.4.1.3.2-1: Resource URI variables for this resource
* * *
Name Data type Definition apiRoot string Clause 5.2.4 of 3GPP TS 29.122 [4].
afId string Identifier of the AF. subscriptionId string Identifier of the
subscription.
* * *
##### 5.4.1.3.3 Resource Methods
###### 5.4.1.3.3.1 General
The following clauses specify the resource methods supported by the resource
as described in clause 5.4.1.3.2.
###### 5.4.1.3.3.2 GET
The GET method allows to read the active subscription for a given AF and
subscription Id. The AF shall initiate the HTTP GET request message and theNEF
shall respond to the message.
This method shall support the URI query parameters specified in table
5.4.1.3.3.2-1.
Table 5.4.1.3.3.2-1: URI query parameters supported by the GET method on this
resource
* * *
Name Data type P Cardinality Description N/A
* * *
This method shall support the request data structures specified in table
5.4.1.3.3.2-2 and the response data structures and response codes specified in
table 5.4.1.3.3.2-3.
Table 5.4.1.3.3.2-2: Data structures supported by the GET Request Body on this
resource
* * *
Data type P Cardinality Description N/A
* * *
Table 5.4.1.3.3.2-3: Data structures supported by the GET Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | Tr | M | 1 | 200 OK | The | | afficInfluSub | | | | subscription | | | | | | information | | | | | | for the AF in | | | | | | the request | | | | | | URI are | | | | | | returned. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 307 Temporary | Temporary | | | | | Redirect | redirection, | | | | | | during | | | | | | subscription | | | | | | retrieval. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 308 Permanent | Permanent | | | | | Redirect | redirection, | | | | | | during | | | | | | subscription | | | | | | retrieval. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the GET | | | | | | method listed | | | | | | in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.4.1.3.3.2-4: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
Table 5.4.1.3.3.2-5: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
###### 5.4.1.3.3.3 PUT
The PUT method is used to replace an existing subscription resource to update
a subscription. The AF shall initiate the HTTP PUT request message and the NEF
shall respond to the message.
This method shall support the request data structures specified in table
5.4.1.3.3.3-1 and the response data structures and response codes specified in
table 5.4.1.3.3.3-2.
Table 5.4.1.3.3.3-1: Data structures supported by the PUT Request Body on this
resource
* * *
Data type P Cardinality Description TrafficInfluSub M 1 Modify an existing
subscription to influencing traffic routing and/or notification about UP
management events with the NEF.
* * *
Table 5.4.1.3.3.3-2: Data structures supported by the PUT Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | Tr | M | 1 | 200 OK | The | | afficInfluSub | | | | subscription | | | | | | was replaced | | | | | | successfully | | | | | | and a | | | | | | r | | | | | | epresentation | | | | | | is returned. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 204 No | The | | | | | Content | subscription | | | | | | was replaced | | | | | | successfully. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 307 Temporary | Temporary | | | | | Redirect | redirection, | | | | | | during | | | | | | subscription | | | | | | modification. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 308 Permanent | Permanent | | | | | Redirect | redirection, | | | | | | during | | | | | | subscription | | | | | | modification. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the PUT | | | | | | method listed | | | | | | in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.4.1.3.3.3-3: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
Table 5.4.1.3.3.3-4: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
###### 5.4.1.3.3.4 PATCH
The PATCH method allows to change some properties of an existing traffic
influence subscription. The AF shall initiate the HTTP PATCH request message
and the NEF shall respond to the message.
This method shall support the request data structures specified in table
5.4.1.3.3.4-1 and the response data structures and response codes specified in
table 5.4.1.3.3.4-2.
Table 5.4.1.3.3.4-1: Data structures supported by the PATCH Request Body on
this resource
* * *
Data type P Cardinality Description TrafficInfluSubPatch M 1 Partial update of
a subscription to influencing traffic routing and/or notifications about UP
management events with the NEF.
* * *
Table 5.4.1.3.3.4-2: Data structures supported by the PATCH Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | Tr | M | 1 | 200 OK | The | | afficInfluSub | | | | subscription | | | | | | was partial | | | | | | modified | | | | | | successfully | | | | | | and a | | | | | | r | | | | | | epresentation | | | | | | is returned. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 204 No | The | | | | | Content | subscription | | | | | | was partial | | | | | | modified | | | | | | successfully. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 307 Temporary | Temporary | | | | | Redirect | redirection, | | | | | | during | | | | | | subscription | | | | | | modification. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 308 Permanent | Permanent | | | | | Redirect | redirection, | | | | | | during | | | | | | subscription | | | | | | modification. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the PATCH | | | | | | method listed | | | | | | in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.4.1.3.3.4-3: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
Table 5.4.1.3.3.4-4: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
###### 5.4.1.3.3.5 DELETE
The DELETE method deletes the traffic influence subscription for a given AF.
The AF shall initiate the HTTP DELETE request message and the NEF shall
respond to the message.
This method shall support the URI query parameters specified in table
5.4.1.3.3.5-1.
Table 5.4.1.3.3.5-1: URI query parameters supported by the DELETE method on
this resource
* * *
Name Data type P Cardinality Description N/A
* * *
This method shall support the request data structures specified in table
5.4.1.3.3.5-2 and the response data structures and response codes specified in
table 5.4.1.3.3.5-3.
Table 5.4.1.3.3.5-2: Data structures supported by the DELETE Request Body on
this resource
* * *
Data type P Cardinality Description N/A
* * *
Table 5.4.1.3.3.5-3: Data structures supported by the DELETE Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | N/A | | | 204 No | The | | | | | Content | subscription | | | | | | was | | | | | | terminated | | | | | | successfully. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 307 Temporary | Temporary | | | | | Redirect | redirection, | | | | | | during | | | | | | subscription | | | | | | termination. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 308 Permanent | Permanent | | | | | Redirect | redirection, | | | | | | during | | | | | | subscription | | | | | | termination. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the | | | | | | DELETE method | | | | | | listed in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.4.1.3.3.5-4: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
Table 5.4.1.3.3.5-5: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
### 5.4.1A Custom Operations without associated resources
There are no custom operations without associated resources defined for this
API in this release of the specification.
### 5.4.2 Notifications
#### 5.4.2.1 Introduction
Upon receipt of a UP management event notification from the SMF indicating the
subscribed event (e.g. a DNAI has changed) is detected, the NEF shall send an
HTTP POST message including the notified event to the AF.
Upon receipt of the event notification, the AF may send an HTTP POST request
as acknowledgement for the UP path management event notification to inform the
NEF about the result of application layer relocation.
The NEF and the AF shall support the notification mechanism as described in
clause 5.2.5 of 3GPP TS 29.122 [4].
Table 5.4.2.1-1: Notifications overview
+----------------+----------------+----------------+----------------+ | Notification | Callback URI | HTTP method or | Description | | | | custom | | | | | operation | (service | | | | | operation) | +----------------+----------------+----------------+----------------+ | Event | {notificati | POST | The UP | | Notification | onDestination} | | management | | | | | event | | | | | notification | | | | | from the NEF | | | | | to the AF. | +----------------+----------------+----------------+----------------+ | A | {afAckUri} | POST | The | | cknowledgement | | | A | | of event | | | cknowledgement | | notification | | | of Event | | | | | Notification | | | | | is used by the | | | | | AF to | | | | | acknowledge | | | | | the NEF about | | | | | handling | | | | | result of the | | | | | event | | | | | notification. | +----------------+----------------+----------------+----------------+
#### 5.4.2.2 Event Notification
##### 5.4.2.2.1 Description
The Event Notification is used by the NEF to report the UP path management
event notification from the SMF to the AF.
##### 5.4.2.2.2 Target URI
The Callback URI **\"{notificationDestination}\"** shall be used with the
callback URI variables defined in table 5.4.2.2.2-1.
Table 5.4.2.2.2-1: Callback URI variables
* * *
Name Data type Definition notificationDestination Link Callback reference
provided by the AF during creation/modification of the subscription within the
TrafficInfluSub data type as defined in table 5.4.3.3.2-1 or the
TrafficInfluSubPatch data type as defined in table 5.4.3.3.3-1.
* * *
##### 5.4.2.2.3 Operation Definition
##### 5.4.2.2.3.1 Notification via HTTP POST {#notification-via-http-post .H6}
This method shall support the request data structures specified in table
5.4.2.2.3.1-1 and the response data structures and response codes specified in
table 5.4.2.2.3.1-2.
Table 5.4.2.2.3.1-1: Data structures supported by the POST Request Body on
this resource
* * *
Data type P Cardinality Description EventNotification M 1 The UP management
event notification is provided by the NEF to the AF.
* * *
Table 5.4.2.2.3.1-2: Data structures supported by the POST Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | N/A | | | 204 No | The event | | | | | Content | notification | | | | | | is received | | | | | | successfully. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 307 Temporary | Temporary | | | | | Redirect | redirection, | | | | | | during event | | | | | | notification. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI | | | | | | representing | | | | | | the end point | | | | | | of an | | | | | | alternative | | | | | | AF where the | | | | | | notification | | | | | | should be | | | | | | sent. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 308 Permanent | Permanent | | | | | Redirect | redirection, | | | | | | during event | | | | | | notification. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI | | | | | | representing | | | | | | the end point | | | | | | of an | | | | | | alternative | | | | | | AF where the | | | | | | notification | | | | | | should be | | | | | | sent. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the POST | | | | | | method listed | | | | | | in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.4.2.2.3.1-3: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI representing the end point of an alternative AF towards which the
notification should be redirected.
* * *
Table 5.4.2.2.3.1-4: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI representing the end point of an alternative AF towards which the
notification should be redirected.
* * *
##### 5.4.2.2.3.2 Notification via Websocket {#notification-via-websocket .H6}
If supported by both AF and NEF and successfully negotiated, the
EventNotification may alternatively be delivered through the Websocket
mechanism as defined in clause 5.2.5.4 of 3GPP TS 29.122 [4].
#### 5.4.2.3 Acknowledgement of event notification
##### 5.4.2.3.1 Description
The Acknowledgement of Event Notification is used by the AF to acknowledge the
NEF about handling result of the event notification (e.g. UP path change).
##### 5.4.2.3.2 Target URI
The Callback URI **\"{afAckUri}\"** shall be used with the callback URI
variables defined in table 5.4.2.3.2-1.
Table 5.4.2.3.2-1: Callback URI variables
* * *
Name Data type Definition afAckUri Link Callback reference provided by the NEF
during event notification within the EventNotification data type as defined in
Table 5.4.3.3.4-1.
* * *
##### 5.4.2.3.3 Operation Definition
###### 5.4.2.3.3.1 Notification via HTTP POST
This method shall support the request data structures specified in table
5.4.2.3.3.1-1 and the response data structures and response codes specified in
table 5.4.2.3.3.1-2.
Table 5.4.2.3.3.1-1: Data structures supported by the POST Request Body on
this resource
* * *
Data type P Cardinality Description AfAckInfo M 1 Acknowledgement information
of event notification.
* * *
Table 5.4.2.3.3.1-2: Data structures supported by the POST Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | N/A | | | 204 No | The | | | | | Content | ac | | | | | | knowledgement | | | | | | of event | | | | | | notification | | | | | | is received | | | | | | successfully. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 307 Temporary | Temporary | | | | | Redirect | redirection, | | | | | | during | | | | | | ac | | | | | | knowledgement | | | | | | of event | | | | | | notification. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI | | | | | | representing | | | | | | the end point | | | | | | of an | | | | | | alternative | | | | | | NEF where the | | | | | | notification | | | | | | should be | | | | | | sent. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 308 Permanent | Permanent | | | | | Redirect | redirection, | | | | | | during | | | | | | ac | | | | | | knowledgement | | | | | | of event | | | | | | notification. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI | | | | | | representing | | | | | | the end point | | | | | | of an | | | | | | alternative | | | | | | NEF where the | | | | | | notification | | | | | | should be | | | | | | sent. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the POST | | | | | | method listed | | | | | | in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.4.2.3.3.1-3: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI representing the end point of an alternative NEF towards which the
notification should be redirected.
* * *
Table 5.4.2.3.3.1-4: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI representing the end point of an alternative NEF towards which the
notification should be redirected.
* * *
### 5.4.3 Data Model
#### 5.4.3.1 General
This clause specifies the application data model supported by the
TrafficInfluence API.
Table 5.4.3.1-1 specifies the data types defined for the TrafficInfluence API.
Table 5.4.3.1-1: TrafficInfluence API specific Data Types
* * *
Data type Clause defined Description Applicability AfAckInfo 5.4.3.3.6
Represents acknowledgement information of a traffic influence event
notification.  
AfResultInfo 5.4.3.3.5 Identifies the result of application layer handling.  
AfResultStatus 5.4.3.4.4 Represents the status of application handling result.  
EventNotification 5.4.3.3.4 Represents a traffic influence event notification.  
SubscribedEvent 5.4.3.4.3 Represents the type of UP path management events for
which the AF requests to be notified.  
TrafficInfluSub 5.4.3.3.2 Represents a traffic influence subscription.  
TrafficInfluSubPatch 5.4.3.3.3 Represents parameters to request the
modification of a traffic influence subscription resource.
* * *
#### 5.4.3.2 Reused data types
The data types reused by the TrafficInfluence API from other specifications
are listed in table 5.4.3.2-1.
Table 5.4.3.2-1: Re-used Data Types
* * *
Data type Reference Comments Dnai 3GPP TS 29.571 [8] Identifies a DNAI.
DnaiChangeType 3GPP TS 29.571 [8] Describes the types of DNAI change. Dnn 3GPP
TS 29.571 [8] Identifies a DNN. DurationSec 3GPP TS 29.571 [8] Identifies a
period of time in units of seconds. EasIpReplacementInfo 3GPP TS 29.571 [8]
Represents EAS IP replacement information. EthFlowDescription 3GPP TS 29.514
[7] Contains the Ethernet data flow information. (NOTE) ExternalGroupId 3GPP
TS 29.122 [4] External Group Identifier for a user group. FlowInfo 3GPP TS
29.122 [4] Contains the IP data flow information. FqdnPatternMatchingRule 3GPP
TS 29.571 [8] Identifies the FQDN pattern matching rule. GeographicalArea
Clause 5.17.3.3.4 Identifies a geographical area. Gpsi 3GPP TS 29.571 [8]
Identifies a GPSI. IpAddr 3GPP TS 29.571 [8] Identifes an IP address. Ipv4Addr
3GPP TS 29.122 [4] Identifies an IPv4 address. Ipv4AddrRm 3GPP TS 29.571 [8]
Identifies an IPv4 address. Ipv6Addr 3GPP TS 29.122 [4] Identifies an IPv6
address. Ipv6Prefix 3GPP TS 29.571 [8] Identifies an IPv6 Prefix. Ipv6AddrRm
3GPP TS 29.571 [8] Identifies an IPv6 address. Link 3GPP TS 29.122 [4]
Identifies a referenced resource. MacAddr48 3GPP TS 29.571 [8] Identifies a
MAC address. Metadata 3GPP TS 29.571 [8] Contains opaque information for the
service functions in the N6-LAN that is provided by AF and transparently sent
to UPF. ReportingInformation 3GPP TS 29.523 [22] Represents the event
reporting requirements. RouteToLocation 3GPP TS 29.571 [8] Describes the
traffic routes to the locations of the application. Snssai 3GPP TS 29.571 [8]
Identifies the S-NSSAI. SupportedFeatures 3GPP TS 29.571 [8] Used to negotiate
the applicability of the optional features defined in table 5.4.4-1.
TemporalValidity 3GPP TS 29.514 [7] Indicates the time interval(s) during
which the AF request is to be applied TrafficCorrelationInfo 3GPP TS 29.519
[23] Contains the information for traffic correlation. Uinteger 3GPP TS 29.571
[8] Unsigned integer. UintegerRm 3GPP TS 29.571 [8] This data type is defined
in the same way as the \"Uinteger\" data type, but with the OpenAPI
\"nullable: true\" property. WebsockNotifConfig 3GPP TS 29.122 [4] Contains
the configuration parameters to set up notification delivery over Websocket
protocol. NOTE: In order to support a set of MAC addresses with a specific
range in the traffic filter, feature MacAddressRange as specified in clause
5.4.4 shall be supported.
* * *
#### 5.4.3.3 Structured data types
##### 5.4.3.3.1 Introduction
This clause defines the structured data types to be used in resource
representations.
##### 5.4.3.3.2 Type: TrafficInfluSub
This type represents a traffic influence subscription. The same structure is
used in the subscription request and subscription response.
Table 5.4.3.3.2-1: Definition of type TrafficInfluSub
+-----------+-----------+---+-----------+-----------+-----------+ | Attribute | Data type | P | Ca | De | Appl | | name | | | rdinality | scription | icability | | | | | | | | | | | | | | (NOTE 1) | +-----------+-----------+---+-----------+-----------+-----------+ | af | string | O | 0..1 | I | | | ServiceId | | | | dentifies | | | | | | | a service | | | | | | | on behalf | | | | | | | of which | | | | | | | the AF is | | | | | | | issuing | | | | | | | the | | | | | | | request. | | +-----------+-----------+---+-----------+-----------+-----------+ | afAppId | string | O | 0..1 | I | | | | | | | dentifies | | | | | | | an | | | | | | | app | | | | | | | lication. | | | | | | | | | | | | | | (NOTE 3) | | +-----------+-----------+---+-----------+-----------+-----------+ | afTransId | string | O | 0..1 | I | | | | | | | dentifies | | | | | | | an NEF | | | | | | | N | | | | | | | orthbound | | | | | | | interface | | | | | | | tra | | | | | | | nsaction, | | | | | | | generated | | | | | | | by the | | | | | | | AF. | | +-----------+-----------+---+-----------+-----------+-----------+ | a | boolean | O | 0..1 | I | | | ppReloInd | | | | dentifies | | | | | | | whether | | | | | | | an | | | | | | | ap | | | | | | | plication | | | | | | | can be | | | | | | | relocated | | | | | | | once a | | | | | | | location | | | | | | | of the | | | | | | | ap | | | | | | | plication | | | | | | | has been | | | | | | | selected. | | | | | | | Set to | | | | | | | \"true\" | | | | | | | if it can | | | | | | | be | | | | | | | r | | | | | | | elocated; | | | | | | | otherwise | | | | | | | set to | | | | | | | \ | | | | | | | "false\". | | | | | | | Default | | | | | | | value is | | | | | | | \"false\" | | | | | | | if | | | | | | | omitted. | | +-----------+-----------+---+-----------+-----------+-----------+ | dnn | Dnn | O | 0..1 | I | | | | | | | dentifies | | | | | | | a DNN, a | | | | | | | full DNN | | | | | | | with both | | | | | | | the | | | | | | | Network | | | | | | | I | | | | | | | dentifier | | | | | | | and | | | | | | | Operator | | | | | | | Id | | | | | | | entifier, | | | | | | | or a DNN | | | | | | | with the | | | | | | | Network | | | | | | | I | | | | | | | dentifier | | | | | | | only. | | +-----------+-----------+---+-----------+-----------+-----------+ | snssai | Snssai | O | 0..1 | I | | | | | | | dentifies | | | | | | | an | | | | | | | S-NSSAI. | | +-----------+-----------+---+-----------+-----------+-----------+ | extern | Extern | O | 0..1 | I | | | alGroupId | alGroupId | | | dentifies | | | | | | | a group | | | | | | | of users. | | | | | | | | | | | | | | (NOTE 2) | | | | | | | (NOTE 6) | | +-----------+-----------+---+-----------+-----------+-----------+ | externa | arra | O | 2..N | List of | Fin | | lGroupIds | y(Externa | | | external | erGranUEs | | | lGroupId) | | | group | | | | | | | id | | | | | | | entifiers | | | | | | | a | | | | | | | ssociated | | | | | | | with the | | | | | | | su | | | | | | | bscriber. | | | | | | | | | | | | | | (NOTE 2) | | | | | | | (NOTE 6) | | | | | | | (NOTE 7) | | +-----------+-----------+---+-----------+-----------+-----------+ | ext | arra | O | 1..N | List of | Fin | | SubscCats | y(string) | | | external | erGranUEs | | | | | | c | | | | | | | ategories | | | | | | | a | | | | | | | ssociated | | | | | | | with the | | | | | | | su | | | | | | | bscriber. | | | | | | | | | | | | | | (NOTE 8) | | +-----------+-----------+---+-----------+-----------+-----------+ | anyUeInd | boolean | O | 0..1 | I | | | | | | | dentifies | | | | | | | whether | | | | | | | the AF | | | | | | | request | | | | | | | applies | | | | | | | to any UE | | | | | | | (i.e. all | | | | | | | UEs). | | | | | | | This | | | | | | | attribute | | | | | | | shall set | | | | | | | to | | | | | | | \"true\" | | | | | | | if | | | | | | | a | | | | | | | pplicable | | | | | | | for any | | | | | | | UE, | | | | | | | o | | | | | | | therwise, | | | | | | | set to | | | | | | | \ | | | | | | | "false\". | | | | | | | | | | | | | | (NOTE 2) | | +-----------+-----------+---+-----------+-----------+-----------+ | subscri | arra | O | 1..N | I | | | bedEvents | y(Subscri | | | dentifies | | | | bedEvent) | | | the | | | | | | | re | | | | | | | quirement | | | | | | | to be | | | | | | | notified | | | | | | | of the | | | | | | | event(s). | | +-----------+-----------+---+-----------+-----------+-----------+ | gpsi | Gpsi | O | 0..1 | I | | | | | | | dentifies | | | | | | | a user. | | | | | | | | | | | | | | (NOTE 2) | | +-----------+-----------+---+-----------+-----------+-----------+ | ipv4Addr | Ipv4Addr | O | 0..1 | I | | | | | | | dentifies | | | | | | | the IPv4 | | | | | | | address. | | | | | | | | | | | | | | (NOTE 2) | | +-----------+-----------+---+-----------+-----------+-----------+ | ipDomain | string | O | 0..1 | The IPv4 | | | | | | | address | | | | | | | domain | | | | | | | id | | | | | | | entifier. | | | | | | | | | | | | | | The | | | | | | | attribute | | | | | | | may only | | | | | | | be | | | | | | | provided | | | | | | | if the | | | | | | | ipv4Addr | | | | | | | attribute | | | | | | | is | | | | | | | present. | | +-----------+-----------+---+-----------+-----------+-----------+ | ipv6Addr | Ipv6Addr | O | 0..1 | I | | | | | | | dentifies | | | | | | | the IPv6 | | | | | | | address. | | | | | | | | | | | | | | (NOTE 2) | | +-----------+-----------+---+-----------+-----------+-----------+ | macAddr | MacAddr48 | O | 0..1 | I | | | | | | | dentifies | | | | | | | the MAC | | | | | | | address. | | | | | | | (NOTE 2) | | +-----------+-----------+---+-----------+-----------+-----------+ | dn | DnaiC | O | 0..1 | I | | | aiChgType | hangeType | | | dentifies | | | | | | | a type of | | | | | | | not | | | | | | | ification | | | | | | | regarding | | | | | | | UP path | | | | | | | m | | | | | | | anagement | | | | | | | event. | | +-----------+-----------+---+-----------+-----------+-----------+ | notif | Link | C | 0..1 | Contains | | | icationDe | | | | the | | | stination | | | | Callback | | | | | | | URL to | | | | | | | receive | | | | | | | the | | | | | | | not | | | | | | | ification | | | | | | | from the | | | | | | | NEF. | | | | | | | | | | | | | | It shall | | | | | | | be | | | | | | | present | | | | | | | if the | | | | | | | \" | | | | | | | subscribe | | | | | | | dEvents\" | | | | | | | is | | | | | | | present. | | +-----------+-----------+---+-----------+-----------+-----------+ | reque | boolean | O | 0..1 | Set to | Notific | | stTestNot | | | | true by | ation_te | | ification | | | | the AF to | st_event | | | | | | request | | | | | | | the NEF | | | | | | | to send a | | | | | | | test | | | | | | | not | | | | | | | ification | | | | | | | as | | | | | | | defined | | | | | | | in | | | | | | | claus | | | | | | | e 5.2.5.3 | | | | | | | of | | | | | | | 3GP | | | | | | | P TS 29.1 | | | | | | | 22 [4]. | | | | | | | Set to | | | | | | | false or | | | | | | | omitted | | | | | | | o | | | | | | | therwise. | | +-----------+-----------+---+-----------+-----------+-----------+ | websockNo | WebsockNo | O | 0..1 | Conf | Notif | | tifConfig | tifConfig | | | iguration | ication_ | | | | | | p | websocket | | | | | | arameters | | | | | | | to set up | | | | | | | not | | | | | | | ification | | | | | | | delivery | | | | | | | over | | | | | | | Websocket | | | | | | | protocol. | | +-----------+-----------+---+-----------+-----------+-----------+ | self | Link | C | 0..1 | Link to | | | | | | | the | | | | | | | created | | | | | | | resource. | | | | | | | | | | | | | | This | | | | | | | parameter | | | | | | | shall be | | | | | | | supplied | | | | | | | by the | | | | | | | NEF in | | | | | | | HTTP | | | | | | | responses | | | | | | | that | | | | | | | include | | | | | | | an object | | | | | | | of | | | | | | | Traffi | | | | | | | cInfluSub | | | | | | | type | | +-----------+-----------+---+-----------+-----------+-----------+ | traff | array( | O | 1..N | I | | | icFilters | FlowInfo) | | | dentifies | | | | | | | IP packet | | | | | | | filters. | | | | | | | | | | | | | | (NOTE 3) | | +-----------+-----------+---+-----------+-----------+-----------+ | ethTraff | array(E | O | 1..N | I | | | icFilters | thFlowDes | | | dentifies | | | | cription) | | | Ethernet | | | | | | | packet | | | | | | | filters. | | | | | | | | | | | | | | (NOTE 3) | | +-----------+-----------+---+-----------+-----------+-----------+ | traf | arra | O | 1..N | I | | | ficRoutes | y(RouteTo | | | dentifies | | | | Location) | | | the N6 | | | | | | | traffic | | | | | | | routing | | | | | | | req | | | | | | | uirement. | | | | | | | (NOTE 9) | | +-----------+-----------+---+-----------+-----------+-----------+ | sfcIdDl | string | O | 0..1 | Reference | SFC | | | | | | to a | | | | | | | pre-c | | | | | | | onfigured | | | | | | | steering | | | | | | | of user | | | | | | | traffic | | | | | | | to | | | | | | | service | | | | | | | function | | | | | | | chain in | | | | | | | downlink. | | | | | | | | | | | | | | (NOTE 5) | | +-----------+-----------+---+-----------+-----------+-----------+ | sfcIdUl | string | O | 0..1 | Reference | SFC | | | | | | to a | | | | | | | pre-c | | | | | | | onfigured | | | | | | | steering | | | | | | | of user | | | | | | | traffic | | | | | | | to | | | | | | | service | | | | | | | function | | | | | | | chain in | | | | | | | uplink. | | | | | | | | | | | | | | (NOTE 5) | | +-----------+-----------+---+-----------+-----------+-----------+ | metadata | Metadata | C | 0..1 | Contains | SFC | | | | | | opaque | | | | | | | in | | | | | | | formation | | | | | | | for the | | | | | | | service | | | | | | | functions | | | | | | | in the | | | | | | | N6-LAN | | | | | | | that is | | | | | | | provided | | | | | | | by AF and | | | | | | | tran | | | | | | | sparently | | | | | | | sent to | | | | | | | UPF. May | | | | | | | only | | | | | | | provided | | | | | | | when | | | | | | | \" | | | | | | | sfcIdDl\" | | | | | | | and/or | | | | | | | \" | | | | | | | sfcIdUl\" | | | | | | | are | | | | | | | provided. | | +-----------+-----------+---+-----------+-----------+-----------+ | t | boolean | O | 0..1 | I | | | fcCorrInd | | | | ndication | | | | | | | of | | | | | | | traffic | | | | | | | cor | | | | | | | relation. | | | | | | | | | | | | | | May only | | | | | | | be | | | | | | | included | | | | | | | when | | | | | | | \ | | | | | | | "external | | | | | | | GroupId\" | | | | | | | attribute | | | | | | | was | | | | | | | included | | | | | | | within | | | | | | | the | | | | | | | Traffi | | | | | | | cInfluSub | | | | | | | data type | | | | | | | pr | | | | | | | eviously. | | | | | | | | | | | | | | It is | | | | | | | used to | | | | | | | indicate | | | | | | | that for | | | | | | | the group | | | | | | | of UEs, | | | | | | | the | | | | | | | targeted | | | | | | | PDU | | | | | | | sessions | | | | | | | should be | | | | | | | c | | | | | | | orrelated | | | | | | | by a | | | | | | | common | | | | | | | DNAI. | | | | | | | | | | | | | | Set to | | | | | | | \"true\" | | | | | | | if it | | | | | | | should be | | | | | | | co | | | | | | | rrelated; | | | | | | | otherwise | | | | | | | set to | | | | | | | \ | | | | | | | "false\". | | | | | | | Default | | | | | | | value is | | | | | | | \"false\" | | | | | | | if | | | | | | | omitted. | | | | | | | (NOTE 4) | | | | | | | (NOTE 10) | | +-----------+-----------+---+-----------+-----------+-----------+ | tfc | Traf | O | 0..1 | Contains | Comm | | CorreInfo | ficCorrel | | | the | onEASDNAI | | | ationInfo | | | in | | | | | | | formation | | | | | | | for | | | | | | | traffic | | | | | | | cor | | | | | | | relation. | | | | | | | The | | | | | | | \"n | | | | | | | otifUri\" | | | | | | | and | | | | | | | \"noti | | | | | | | fCorrId\" | | | | | | | a | | | | | | | ttributes | | | | | | | are not | | | | | | | a | | | | | | | pplicable | | | | | | | for | | | | | | | \"tfcCo | | | | | | | rreInfo\" | | | | | | | a | | | | | | | ttribute. | | | | | | | (NOTE 10) | | +-----------+-----------+---+-----------+-----------+-----------+ | tempV | array | O | 1..N | Indicates | | | alidities | (Temporal | | | the time | | | | Validity) | | | in | | | | | | | terval(s) | | | | | | | during | | | | | | | which the | | | | | | | AF | | | | | | | request | | | | | | | is to be | | | | | | | applied. | | +-----------+-----------+---+-----------+-----------+-----------+ | validG | arra | O | 1..N | I | | | eoZoneIds | y(string) | | | dentifies | | | | | | | a | | | | | | | g | | | | | | | eographic | | | | | | | zone that | | | | | | | the AF | | | | | | | request | | | | | | | applies | | | | | | | only to | | | | | | | the | | | | | | | traffic | | | | | | | of UE(s) | | | | | | | located | | | | | | | in this | | | | | | | specific | | | | | | | zone. | | | | | | | | | | | | | | This | | | | | | | attribute | | | | | | | is | | | | | | | de | | | | | | | precated; | | | | | | | the | | | | | | | attribute | | | | | | | \"g | | | | | | | eoAreas\" | | | | | | | should be | | | | | | | used | | | | | | | instead. | | +-----------+-----------+---+-----------+-----------+-----------+ | geoAreas | array | O | 1..N | I | | | | (Geograph | | | dentifies | | | | icalArea) | | | geo | | | | | | | graphical | | | | | | | areas | | | | | | | within | | | | | | | which the | | | | | | | AF | | | | | | | request | | | | | | | applies. | | | | | | | | | | | | | | This | | | | | | | attribute | | | | | | | d | | | | | | | eprecates | | | | | | | validG | | | | | | | eoZoneIds | | | | | | | a | | | | | | | ttribute. | | +-----------+-----------+---+-----------+-----------+-----------+ | afAckInd | boolean | O | 0..1 | I | URLLC | | | | | | dentifies | | | | | | | whether | | | | | | | the AF | | | | | | | acknow | | | | | | | ledgement | | | | | | | of UP | | | | | | | path | | | | | | | event | | | | | | | not | | | | | | | ification | | | | | | | is | | | | | | | expected. | | | | | | | | | | | | | | Set to | | | | | | | \"true\" | | | | | | | if the AF | | | | | | | ac | | | | | | | knowledge | | | | | | | is | | | | | | | expected; | | | | | | | otherwise | | | | | | | set to | | | | | | | \ | | | | | | | "false\". | | | | | | | | | | | | | | Default | | | | | | | value is | | | | | | | \"false\" | | | | | | | if | | | | | | | omitted. | | +-----------+-----------+---+-----------+-----------+-----------+ | addr | boolean | O | 0..1 | Indicates | URLLC | | PreserInd | | | | whether | | | | | | | UE IP | | | | | | | address | | | | | | | should be | | | | | | | p | | | | | | | reserved. | | | | | | | | | | | | | | This | | | | | | | attribute | | | | | | | shall set | | | | | | | to | | | | | | | \"true\" | | | | | | | if | | | | | | | p | | | | | | | reserved, | | | | | | | o | | | | | | | therwise, | | | | | | | set to | | | | | | | \ | | | | | | | "false\". | | | | | | | | | | | | | | Defalult | | | | | | | value is | | | | | | | \"false\" | | | | | | | if | | | | | | | omitted. | | +-----------+-----------+---+-----------+-----------+-----------+ | s | boolean | O | 0..1 | I | SimultCon | | imConnInd | | | | ndication | nectivity | | | | | | of | | | | | | | sim | | | | | | | ultaneous | | | | | | | con | | | | | | | nectivity | | | | | | | te | | | | | | | mporarily | | | | | | | m | | | | | | | aintained | | | | | | | for the | | | | | | | source | | | | | | | and | | | | | | | target | | | | | | | PSA. If | | | | | | | it is | | | | | | | included | | | | | | | and set | | | | | | | to | | | | | | | \"true\", | | | | | | | temporary | | | | | | | sim | | | | | | | ultaneous | | | | | | | con | | | | | | | nectivity | | | | | | | should be | | | | | | | kept. The | | | | | | | default | | | | | | | value | | | | | | | \"false\" | | | | | | | applies, | | | | | | | if the | | | | | | | attribute | | | | | | | is not | | | | | | | present | | | | | | | and has | | | | | | | not been | | | | | | | supplied | | | | | | | pr | | | | | | | eviously. | | +-----------+-----------+---+-----------+-----------+-----------+ | si | Du | O | 0..1 | I | SimultCon | | mConnTerm | rationSec | | | ndication | nectivity | | | | | | of the | | | | | | | minimum | | | | | | | time | | | | | | | interval | | | | | | | to be | | | | | | | c | | | | | | | onsidered | | | | | | | for | | | | | | | i | | | | | | | nactivity | | | | | | | of the | | | | | | | traffic | | | | | | | routed | | | | | | | via the | | | | | | | source | | | | | | | PSA | | | | | | | during | | | | | | | the edge | | | | | | | re | | | | | | | -location | | | | | | | p | | | | | | | rocedure. | | | | | | | | | | | | | | It may be | | | | | | | included | | | | | | | when the | | | | | | | \"sim | | | | | | | ConnInd\" | | | | | | | attribute | | | | | | | is set to | | | | | | | true. | | +-----------+-----------+---+-----------+-----------+-----------+ | maxAll | Uinteger | O | 0..1 | Indicates | AF\ | | owedUpLat | | | | the | _lantency | | | | | | target | | | | | | | user | | | | | | | plane | | | | | | | latency | | | | | | | in units | | | | | | | of | | | | | | | mill | | | | | | | iseconds. | | | | | | | The SMF | | | | | | | may use | | | | | | | this | | | | | | | value to | | | | | | | decide | | | | | | | whether | | | | | | | edge | | | | | | | r | | | | | | | elocation | | | | | | | is needed | | | | | | | to ensure | | | | | | | that the | | | | | | | user | | | | | | | plane | | | | | | | latency | | | | | | | does not | | | | | | | exceed | | | | | | | the | | | | | | | value. | | +-----------+-----------+---+-----------+-----------+-----------+ | easIpRep | array(Eas | O | 1..N | Contains | EASIPre | | laceInfos | IpReplace | | | EAS IP | placement | | | mentInfo) | | | re | | | | | | | placement | | | | | | | inf | | | | | | | ormation. | | +-----------+-----------+---+-----------+-----------+-----------+ | ea | boolean | O | 0..1 | Indicates | EAS | | sRedisInd | | | | the EAS | Discovery | | | | | | re | | | | | | | discovery | | | | | | | is | | | | | | | required | | | | | | | for the | | | | | | | ap | | | | | | | plication | | | | | | | if it is | | | | | | | included | | | | | | | and set | | | | | | | to | | | | | | | \"true\". | | | | | | | Defalult | | | | | | | value is | | | | | | | \"false\" | | | | | | | if | | | | | | | omitted. | | | | | | | | | | | | | | The | | | | | | | i | | | | | | | ndication | | | | | | | shall be | | | | | | | invalid | | | | | | | after it | | | | | | | was | | | | | | | applied | | | | | | | unless it | | | | | | | is | | | | | | | provided | | | | | | | again. | | +-----------+-----------+---+-----------+-----------+-----------+ | eventReq | Re | O | 0..1 | Indicates | EDGEAPP | | | portingIn | | | the event | | | | formation | | | reporting | | | | | | | requ | | | | | | | irements. | | | | | | | | | | | | | | This | | | | | | | attribute | | | | | | | may be | | | | | | | provided | | | | | | | if the | | | | | | | \" | | | | | | | EDGEAPP\" | | | | | | | feature | | | | | | | is | | | | | | | supported | | | | | | | and the | | | | | | | \" | | | | | | | subscribe | | | | | | | dEvents\" | | | | | | | attribute | | | | | | | is | | | | | | | present. | | +-----------+-----------+---+-----------+-----------+-----------+ | eve | array( | C | 1..N | R | EDGEAPP | | ntReports | EventNoti | | | epresents | | | | fication) | | | user | | | | | | | plane | | | | | | | path | | | | | | | m | | | | | | | anagement | | | | | | | event | | | | | | | r | | | | | | | eport(s). | | | | | | | | | | | | | | This | | | | | | | attribute | | | | | | | shall be | | | | | | | present | | | | | | | in an | | | | | | | HTTP POST | | | | | | | response | | | | | | | if the | | | | | | | immediate | | | | | | | reporting | | | | | | | i | | | | | | | ndication | | | | | | | in the | | | | | | | \ | | | | | | | "immRep\" | | | | | | | attribute | | | | | | | within | | | | | | | the | | | | | | | \"e | | | | | | | ventReq\" | | | | | | | attribute | | | | | | | is set to | | | | | | | true and | | | | | | | the | | | | | | | \" | | | | | | | subscribe | | | | | | | dEvents\" | | | | | | | was | | | | | | | present | | | | | | | in the | | | | | | | corr | | | | | | | esponding | | | | | | | HTTP POST | | | | | | | request | | | | | | | and the | | | | | | | report(s) | | | | | | | are | | | | | | | a | | | | | | | vailable. | | | | | | | | | | | | | | This | | | | | | | attribute | | | | | | | may also | | | | | | | be | | | | | | | present | | | | | | | in an | | | | | | | HTTP PUT | | | | | | | or PATCH | | | | | | | response | | | | | | | when the | | | | | | | report(s) | | | | | | | are | | | | | | | a | | | | | | | vailable. | | +-----------+-----------+---+-----------+-----------+-----------+ | ca | boolean | O | 0..1 | I | Comm | | ndDnaiInd | | | | ndication | onEASDNAI | | | | | | of | | | | | | | reporting | | | | | | | candidate | | | | | | | DNAI(s). | | | | | | | If it is | | | | | | | included | | | | | | | and set | | | | | | | to | | | | | | | \"true\", | | | | | | | the | | | | | | | candidate | | | | | | | DNAI(s) | | | | | | | for the | | | | | | | PDU | | | | | | | session | | | | | | | need to | | | | | | | be | | | | | | | reported. | | | | | | | Otherwise | | | | | | | set to | | | | | | | \"false\" | | | | | | | or | | | | | | | omitted. | | +-----------+-----------+---+-----------+-----------+-----------+ | suppFeat | Supporte | C | 0..1 | Indicates | | | | dFeatures | | | the list | | | | | | | of | | | | | | | Supported | | | | | | | features | | | | | | | used as | | | | | | | described | | | | | | | in | | | | | | | clau | | | | | | | se 5.4.4. | | | | | | | | | | | | | | This | | | | | | | attribute | | | | | | | shall be | | | | | | | provided | | | | | | | in the | | | | | | | POST | | | | | | | request | | | | | | | and in | | | | | | | the | | | | | | | response | | | | | | | of | | | | | | | s | | | | | | | uccessful | | | | | | | resource | | | | | | | creation. | | +-----------+-----------+---+-----------+-----------+-----------+ | NOTE 1: | | | | | | | P | | | | | | | roperties | | | | | | | marked | | | | | | | with a | | | | | | | feature | | | | | | | as | | | | | | | defined | | | | | | | in | | | | | | | cla | | | | | | | use 5.4.4 | | | | | | | are | | | | | | | a | | | | | | | pplicable | | | | | | | as | | | | | | | described | | | | | | | in | | | | | | | cla | | | | | | | use 5.2.7 | | | | | | | of | | | | | | | 3GP | | | | | | | P TS 29.1 | | | | | | | 22 [4]. | | | | | | | If no | | | | | | | feature | | | | | | | is | | | | | | | i | | | | | | | ndicated, | | | | | | | the | | | | | | | related | | | | | | | property | | | | | | | applies | | | | | | | for all | | | | | | | the | | | | | | | features. | | | | | | | | | | | | | | NOTE 2: | | | | | | | One of | | | | | | | i | | | | | | | ndividual | | | | | | | UE | | | | | | | i | | | | | | | dentifier | | | | | | | (i.e. | | | | | | | \"gpsi\", | | | | | | | \"m | | | | | | | acAddr\", | | | | | | | \"i | | | | | | | pv4Addr\" | | | | | | | or | | | | | | | \"ipv | | | | | | | 6Addr\"), | | | | | | | External | | | | | | | Group | | | | | | | I | | | | | | | dentifier | | | | | | | (i.e. | | | | | | | \ | | | | | | | "external | | | | | | | GroupId\" | | | | | | | or | | | | | | | \" | | | | | | | externalG | | | | | | | roupIds\" | | | | | | | (is | | | | | | | included | | | | | | | when | | | | | | | Fin | | | | | | | erGranUEs | | | | | | | feature | | | | | | | is | | | | | | | su | | | | | | | pported)) | | | | | | | or any UE | | | | | | | i | | | | | | | ndication | | | | | | | \"a | | | | | | | nyUeInd\" | | | | | | | shall be | | | | | | | included. | | | | | | | | | | | | | | NOTE 3: | | | | | | | One of | | | | | | | \"a | | | | | | | fAppId\", | | | | | | | \"traffic | | | | | | | Filters\" | | | | | | | or | | | | | | | \"e | | | | | | | thTraffic | | | | | | | Filters\" | | | | | | | shall be | | | | | | | included. | | | | | | | | | | | | | | NOTE 4: | | | | | | | The | | | | | | | i | | | | | | | ndication | | | | | | | of | | | | | | | traffic | | | | | | | co | | | | | | | rrelation | | | | | | | shall be | | | | | | | provided | | | | | | | only when | | | | | | | the AF | | | | | | | requires | | | | | | | that all | | | | | | | the PDU | | | | | | | sessions | | | | | | | related | | | | | | | to the 5G | | | | | | | VN group | | | | | | | member | | | | | | | UEs | | | | | | | should be | | | | | | | c | | | | | | | orrelated | | | | | | | by a | | | | | | | common | | | | | | | DNAI in | | | | | | | the user | | | | | | | plane for | | | | | | | the | | | | | | | traffic | | | | | | | as | | | | | | | described | | | | | | | in | | | | | | | 3GP | | | | | | | P TS 23.5 | | | | | | | 01 [3], | | | | | | | claus | | | | | | | e 5.6.7.1 | | | | | | | and | | | | | | | cla | | | | | | | use 5.29. | | | | | | | | | | | | | | NOTE 5: | | | | | | | When the | | | | | | | SFC | | | | | | | feature | | | | | | | is | | | | | | | s | | | | | | | upported, | | | | | | | for the | | | | | | | purpose | | | | | | | of | | | | | | | in | | | | | | | fluencing | | | | | | | service | | | | | | | function | | | | | | | chaining, | | | | | | | at least | | | | | | | one | | | | | | | attribute | | | | | | | shall be | | | | | | | present. | | | | | | | | | | | | | | NOTE 6: | | | | | | | The | | | | | | | a | | | | | | | ttributes | | | | | | | \ | | | | | | | "external | | | | | | | GroupId\" | | | | | | | and | | | | | | | \" | | | | | | | externalG | | | | | | | roupIds\" | | | | | | | are | | | | | | | mutually | | | | | | | exclusive | | | | | | | at | | | | | | | tributes. | | | | | | | | | | | | | | NOTE 7: | | | | | | | The AF | | | | | | | request | | | | | | | applies | | | | | | | to the | | | | | | | UE(s) | | | | | | | that | | | | | | | belong to | | | | | | | all the | | | | | | | External | | | | | | | Group | | | | | | | Id | | | | | | | entifiers | | | | | | | indicated | | | | | | | by the | | | | | | | attribute | | | | | | | \" | | | | | | | e | | | | | | | xternalGr | | | | | | | oupIds\", | | | | | | | when | | | | | | | included. | | | | | | | | | | | | | | NOTE 8: | | | | | | | The AF | | | | | | | request | | | | | | | applies | | | | | | | to the | | | | | | | UE(s) | | | | | | | that | | | | | | | belong to | | | | | | | all the | | | | | | | External | | | | | | | S | | | | | | | ubscriber | | | | | | | C | | | | | | | ategories | | | | | | | indicated | | | | | | | by the | | | | | | | attribute | | | | | | | \" | | | | | | | extSub | | | | | | | scCats\", | | | | | | | which is | | | | | | | included | | | | | | | only if | | | | | | | either | | | | | | | \" | | | | | | | externalG | | | | | | | roupIds\" | | | | | | | attribute | | | | | | | is | | | | | | | included | | | | | | | or | | | | | | | \ | | | | | | | "external | | | | | | | GroupId\" | | | | | | | is | | | | | | | included | | | | | | | or | | | | | | | \"a | | | | | | | nyUeInd\" | | | | | | | attribute | | | | | | | is | | | | | | | included. | | | | | | | | | | | | | | NOTE 9: | | | | | | | When only | | | | | | | one DNAI | | | | | | | is | | | | | | | included, | | | | | | | and the | | | | | | | I | | | | | | | ndication | | | | | | | of | | | | | | | traffic | | | | | | | co | | | | | | | rrelation | | | | | | | within | | | | | | | the | | | | | | | \"tfc | | | | | | | CorrInd\" | | | | | | | attribute | | | | | | | is | | | | | | | available | | | | | | | or the | | | | | | | \"co | | | | | | | rreType\" | | | | | | | attribute | | | | | | | of the | | | | | | | \"tfcCo | | | | | | | rreInfo\" | | | | | | | includes | | | | | | | the value | | | | | | | \"COMMON | | | | | | | _DNAI\", | | | | | | | the DNAI | | | | | | | is used | | | | | | | as common | | | | | | | DNAI for | | | | | | | UEs | | | | | | | i | | | | | | | dentified | | | | | | | by AF | | | | | | | request. | | | | | | | | | | | | | | NOTE 10: | | | | | | | The | | | | | | | \"tfc | | | | | | | CorrInd\" | | | | | | | attribute | | | | | | | and the | | | | | | | \"tfcCo | | | | | | | rreInfo\" | | | | | | | attribute | | | | | | | are | | | | | | | mutually | | | | | | | e | | | | | | | xclusive. | | | | | | +-----------+-----------+---+-----------+-----------+-----------+
##### 5.4.3.3.3 Type: TrafficInfluSubPatch
This type represents a subscription of traffic influence parameters provided
by the AF to the NEF. The structure is used for HTTP PATCH request.
Table 5.4.3.3.3-1: Definition of type TrafficInfluSubPatch
+-----------+-----------+---+-----------+-----------+-----------+ | Attribute | Data type | P | Ca | De | Appl | | name | | | rdinality | scription | icability | +-----------+-----------+---+-----------+-----------+-----------+ | a | boolean | O | 0..1 | I | | | ppReloInd | | | | dentifies | | | | | | | whether | | | | | | | an | | | | | | | ap | | | | | | | plication | | | | | | | can be | | | | | | | relocated | | | | | | | once a | | | | | | | location | | | | | | | of the | | | | | | | ap | | | | | | | plication | | | | | | | has been | | | | | | | selected. | | | | | | | | | | | | | | (NOTE 1) | | +-----------+-----------+---+-----------+-----------+-----------+ | traff | array( | O | 1..N | I | | | icFilters | FlowInfo) | | | dentifies | | | | | | | IP packet | | | | | | | filters. | | +-----------+-----------+---+-----------+-----------+-----------+ | ethTraff | array(E | O | 1..N | I | | | icFilters | thFlowDes | | | dentifies | | | | cription) | | | Ethernet | | | | | | | packet | | | | | | | filters. | | +-----------+-----------+---+-----------+-----------+-----------+ | traf | arra | O | 1..N | I | | | ficRoutes | y(RouteTo | | | dentifies | | | | Location) | | | the N6 | | | | | | | traffic | | | | | | | routing | | | | | | | req | | | | | | | uirement. | | | | | | | | | | | | | | (NOTE 1) | | +-----------+-----------+---+-----------+-----------+-----------+ | sfcIdDl | string | O | 0..1 | Reference | SFC | | | | | | to a | | | | | | | pre-c | | | | | | | onfigured | | | | | | | steering | | | | | | | of user | | | | | | | traffic | | | | | | | to | | | | | | | service | | | | | | | function | | | | | | | chain in | | | | | | | downlink. | | +-----------+-----------+---+-----------+-----------+-----------+ | sfcIdUl | string | O | 0..1 | Reference | SFC | | | | | | to a | | | | | | | pre-c | | | | | | | onfigured | | | | | | | steering | | | | | | | of user | | | | | | | traffic | | | | | | | to | | | | | | | service | | | | | | | function | | | | | | | chain in | | | | | | | uplink. | | +-----------+-----------+---+-----------+-----------+-----------+ | metadata | Metadata | O | 0..1 | Contains | SFC | | | | | | opaque | | | | | | | in | | | | | | | formation | | | | | | | for the | | | | | | | service | | | | | | | functions | | | | | | | in the | | | | | | | N6-LAN | | | | | | | that is | | | | | | | provided | | | | | | | by AF and | | | | | | | tran | | | | | | | sparently | | | | | | | sent to | | | | | | | UPF. | | +-----------+-----------+---+-----------+-----------+-----------+ | t | boolean | O | 0..1 | I | | | fcCorrInd | | | | ndication | | | | | | | of | | | | | | | traffic | | | | | | | cor | | | | | | | relation. | | | | | | | | | | | | | | May only | | | | | | | be | | | | | | | included | | | | | | | when | | | | | | | \ | | | | | | | "external | | | | | | | GroupId\" | | | | | | | attribute | | | | | | | was | | | | | | | included | | | | | | | within | | | | | | | the | | | | | | | Traffi | | | | | | | cInfluSub | | | | | | | data type | | | | | | | pr | | | | | | | eviously. | | | | | | | | | | | | | | It is | | | | | | | used to | | | | | | | indicate | | | | | | | that for | | | | | | | the group | | | | | | | of UEs, | | | | | | | the | | | | | | | targeted | | | | | | | PDU | | | | | | | sessions | | | | | | | should be | | | | | | | c | | | | | | | orrelated | | | | | | | by a | | | | | | | common | | | | | | | DNAI. | | | | | | | (NOTE 2) | | +-----------+-----------+---+-----------+-----------+-----------+ | tfc | Traf | O | 0..1 | Contains | Comm | | CorreInfo | ficCorrel | | | the | onEASDNAI | | | ationInfo | | | in | | | | | | | formation | | | | | | | for | | | | | | | traffic | | | | | | | cor | | | | | | | relation. | | | | | | | The | | | | | | | \"n | | | | | | | otifUri\" | | | | | | | and | | | | | | | \"noti | | | | | | | fCorrId\" | | | | | | | a | | | | | | | ttributes | | | | | | | are not | | | | | | | a | | | | | | | pplicable | | | | | | | for | | | | | | | \"tfcCo | | | | | | | rreInfo\" | | | | | | | a | | | | | | | ttribute. | | | | | | | (NOTE 2) | | +-----------+-----------+---+-----------+-----------+-----------+ | tempV | array | O | 1..N | Indicates | | | alidities | (Temporal | | | the time | | | | Validity) | | | in | | | | | | | terval(s) | | | | | | | during | | | | | | | which the | | | | | | | AF | | | | | | | request | | | | | | | is to be | | | | | | | applied. | | | | | | | | | | | | | | (NOTE 1) | | +-----------+-----------+---+-----------+-----------+-----------+ | validG | arra | O | 1..N | I | | | eoZoneIds | y(string) | | | dentifies | | | | | | | a | | | | | | | g | | | | | | | eographic | | | | | | | zone that | | | | | | | the AF | | | | | | | request | | | | | | | applies | | | | | | | only to | | | | | | | the | | | | | | | traffic | | | | | | | of UE(s) | | | | | | | located | | | | | | | in this | | | | | | | specific | | | | | | | zone. | | | | | | | | | | | | | | (NOTE 1) | | | | | | | | | | | | | | This | | | | | | | attribute | | | | | | | is | | | | | | | de | | | | | | | precated; | | | | | | | the | | | | | | | attribute | | | | | | | \"g | | | | | | | eoAreas\" | | | | | | | should be | | | | | | | used | | | | | | | instead. | | +-----------+-----------+---+-----------+-----------+-----------+ | geoAreas | array | O | 1..N | I | | | | (Geograph | | | dentifies | | | | icalArea) | | | geo | | | | | | | graphical | | | | | | | areas | | | | | | | within | | | | | | | which the | | | | | | | AF | | | | | | | request | | | | | | | applies. | | | | | | | (NOTE 1) | | | | | | | | | | | | | | This | | | | | | | attribute | | | | | | | d | | | | | | | eprecates | | | | | | | validG | | | | | | | eoZoneIds | | | | | | | a | | | | | | | ttribute. | | +-----------+-----------+---+-----------+-----------+-----------+ | afAckInd | boolean | O | 0..1 | I | URLLC | | | | | | dentifies | | | | | | | whether | | | | | | | the AF | | | | | | | acknow | | | | | | | ledgement | | | | | | | of UP | | | | | | | path | | | | | | | event | | | | | | | not | | | | | | | ification | | | | | | | is | | | | | | | expected. | | | | | | | | | | | | | | (NOTE 3) | | +-----------+-----------+---+-----------+-----------+-----------+ | addr | boolean | O | 0..1 | Indicates | URLLC | | PreserInd | | | | whether | | | | | | | UE IP | | | | | | | address | | | | | | | should be | | | | | | | p | | | | | | | reserved. | | | | | | | | | | | | | | (NOTE 3) | | +-----------+-----------+---+-----------+-----------+-----------+ | s | boolean | O | 0..1 | I | SimultCon | | imConnInd | | | | ndication | nectivity | | | | | | of | | | | | | | sim | | | | | | | ultaneous | | | | | | | con | | | | | | | nectivity | | | | | | | te | | | | | | | mporarily | | | | | | | m | | | | | | | aintained | | | | | | | for the | | | | | | | source | | | | | | | and | | | | | | | target | | | | | | | PSA. If | | | | | | | it is | | | | | | | included | | | | | | | and set | | | | | | | to | | | | | | | \"true\", | | | | | | | temporary | | | | | | | sim | | | | | | | ultaneous | | | | | | | con | | | | | | | nectivity | | | | | | | should be | | | | | | | kept. | | +-----------+-----------+---+-----------+-----------+-----------+ | si | Du | O | 0..1 | I | SimultCon | | mConnTerm | rationSec | | | ndication | nectivity | | | | | | of the | | | | | | | minimum | | | | | | | time | | | | | | | interval | | | | | | | to be | | | | | | | c | | | | | | | onsidered | | | | | | | for | | | | | | | i | | | | | | | nactivity | | | | | | | of the | | | | | | | traffic | | | | | | | routed | | | | | | | via the | | | | | | | source | | | | | | | PSA | | | | | | | during | | | | | | | the edge | | | | | | | re | | | | | | | -location | | | | | | | p | | | | | | | rocedure. | | +-----------+-----------+---+-----------+-----------+-----------+ | maxAll | U | O | 0..1 | Indicates | AF | | owedUpLat | integerRm | | | the | _latency | | | | | | target | | | | | | | user | | | | | | | plane | | | | | | | latency | | | | | | | in units | | | | | | | of | | | | | | | mill | | | | | | | iseconds. | | | | | | | The SMF | | | | | | | may use | | | | | | | this | | | | | | | value to | | | | | | | decide | | | | | | | whether | | | | | | | edge | | | | | | | r | | | | | | | elocation | | | | | | | is needed | | | | | | | to ensure | | | | | | | that the | | | | | | | user | | | | | | | plane | | | | | | | latency | | | | | | | does not | | | | | | | exceed | | | | | | | the | | | | | | | value. | | +-----------+-----------+---+-----------+-----------+-----------+ | easIpRep | array(Eas | O | 1..N | Contains | EASIPre | | laceInfos | IpReplace | | | EAS IP | placement | | | mentInfo) | | | re | | | | | | | placement | | | | | | | inf | | | | | | | ormation. | | +-----------+-----------+---+-----------+-----------+-----------+ | ea | boolean | O | 0..1 | Indicates | EAS | | sRedisInd | | | | the EAS | Discovery | | | | | | re | | | | | | | discovery | | | | | | | is | | | | | | | required | | | | | | | for the | | | | | | | ap | | | | | | | plication | | | | | | | if it is | | | | | | | included | | | | | | | and set | | | | | | | to | | | | | | | \"true\". | | | | | | | Defalult | | | | | | | value is | | | | | | | \"false\" | | | | | | | if | | | | | | | omitted. | | | | | | | | | | | | | | The | | | | | | | i | | | | | | | ndication | | | | | | | shall be | | | | | | | invalid | | | | | | | after it | | | | | | | was | | | | | | | applied | | | | | | | unless it | | | | | | | is | | | | | | | provided | | | | | | | again. | | +-----------+-----------+---+-----------+-----------+-----------+ | notif | Link | O | 0..1 | Contains | | | icationDe | | | | the | | | stination | | | | Callback | | | | | | | URL to | | | | | | | receive | | | | | | | the | | | | | | | not | | | | | | | ification | | | | | | | from the | | | | | | | NEF. | | +-----------+-----------+---+-----------+-----------+-----------+ | eventReq | Re | O | 0..1 | Indicates | EDGEAPP | | | portingIn | | | the event | | | | formation | | | reporting | | | | | | | requ | | | | | | | irements. | | | | | | | | | | | | | | This | | | | | | | attribute | | | | | | | may be | | | | | | | provided | | | | | | | if the | | | | | | | \" | | | | | | | EDGEAPP\" | | | | | | | feature | | | | | | | is | | | | | | | s | | | | | | | upported. | | +-----------+-----------+---+-----------+-----------+-----------+ | NOTE 1: | | | | | | | The value | | | | | | | of the | | | | | | | property | | | | | | | shall be | | | | | | | set to | | | | | | | NULL for | | | | | | | removal. | | | | | | | | | | | | | | NOTE 2: | | | | | | | The | | | | | | | \"tfc | | | | | | | CorrInd\" | | | | | | | attribute | | | | | | | and the | | | | | | | \"tfcCo | | | | | | | rreInfo\" | | | | | | | attribute | | | | | | | are | | | | | | | mutually | | | | | | | e | | | | | | | xclusive. | | | | | | | | | | | | | | NOTE 3: | | | | | | | The value | | | | | | | of the | | | | | | | property | | | | | | | shall be | | | | | | | set to | | | | | | | NULL for | | | | | | | removal, | | | | | | | and in | | | | | | | that | | | | | | | case, the | | | | | | | default | | | | | | | value | | | | | | | \"false\" | | | | | | | applies. | | | | | | +-----------+-----------+---+-----------+-----------+-----------+
##### 5.4.3.3.4 Type: EventNotification
Table 5.4.3.3.4-1: Definition of type EventNotification
+-----------+-----------+---+-----------+-----------+-----------+ | Attribute | Data type | P | Ca | De | Appl | | name | | | rdinality | scription | icability | | | | | | | | | | | | | | (NOTE 1) | +-----------+-----------+---+-----------+-----------+-----------+ | afTransId | string | O | 0..1 | I | | | | | | | dentifies | | | | | | | an NEF | | | | | | | N | | | | | | | orthbound | | | | | | | interface | | | | | | | tra | | | | | | | nsaction, | | | | | | | generated | | | | | | | by the | | | | | | | AF. | | +-----------+-----------+---+-----------+-----------+-----------+ | dn | DnaiC | M | 1 | I | | | aiChgType | hangeType | | | dentifies | | | | | | | the type | | | | | | | of | | | | | | | not | | | | | | | ification | | | | | | | regarding | | | | | | | UP path | | | | | | | m | | | | | | | anagement | | | | | | | event. | | +-----------+-----------+---+-----------+-----------+-----------+ | sourceTra | RouteT | O | 0..1 | I | | | fficRoute | oLocation | | | dentifies | | | | | | | the N6 | | | | | | | traffic | | | | | | | routing | | | | | | | in | | | | | | | formation | | | | | | | a | | | | | | | ssociated | | | | | | | to the | | | | | | | source | | | | | | | DNAI. | | | | | | | | | | | | | | May be | | | | | | | present | | | | | | | if the | | | | | | | \ | | | | | | | "subscrib | | | | | | | edEvent\" | | | | | | | sets to | | | | | | | \"U | | | | | | | P_PATH_ | | | | | | | CHANGE\". | | | | | | | (NOTE 3) | | +-----------+-----------+---+-----------+-----------+-----------+ | subscr | Subscr | M | 1 | I | | | ibedEvent | ibedEvent | | | dentifies | | | | | | | a UP path | | | | | | | m | | | | | | | anagement | | | | | | | event the | | | | | | | AF | | | | | | | requested | | | | | | | to be | | | | | | | notified | | | | | | | of. | | +-----------+-----------+---+-----------+-----------+-----------+ | targetTra | RouteT | O | 0..1 | I | | | fficRoute | oLocation | | | dentifies | | | | | | | the N6 | | | | | | | traffic | | | | | | | routing | | | | | | | in | | | | | | | formation | | | | | | | a | | | | | | | ssociated | | | | | | | to the | | | | | | | target | | | | | | | DNAI. | | | | | | | | | | | | | | May be | | | | | | | present | | | | | | | if the | | | | | | | \ | | | | | | | "subscrib | | | | | | | edEvent\" | | | | | | | sets to | | | | | | | \"U | | | | | | | P_PATH_ | | | | | | | CHANGE\". | | | | | | | (NOTE 3) | | +-----------+-----------+---+-----------+-----------+-----------+ | s | Dnai | O | 0..1 | Source DN | | | ourceDnai | | | | Access | | | | | | | Id | | | | | | | entifier. | | | | | | | Shall be | | | | | | | included | | | | | | | for event | | | | | | | \" | | | | | | | UP_PATH\ | | | | | | | _CHANGE\" | | | | | | | if the | | | | | | | DNAI | | | | | | | changed | | | | | | | (NOTE 2, | | | | | | | NOTE 3). | | +-----------+-----------+---+-----------+-----------+-----------+ | t | Dnai | O | 0..1 | Target DN | | | argetDnai | | | | Access | | | | | | | Id | | | | | | | entifier. | | | | | | | Shall be | | | | | | | included | | | | | | | for event | | | | | | | \" | | | | | | | UP_PATH\ | | | | | | | _CHANGE\" | | | | | | | if the | | | | | | | DNAI | | | | | | | changed | | | | | | | (NOTE 2, | | | | | | | NOTE 3). | | +-----------+-----------+---+-----------+-----------+-----------+ | candi | ar | O | 1..N | The | Comm | | dateDnais | ray(Dnai) | | | candidate | onEASDNAI | | | | | | DNAI(s) | | | | | | | for the | | | | | | | PDU | | | | | | | Session. | | | | | | | May be | | | | | | | included | | | | | | | for event | | | | | | | \"U | | | | | | | P_PATH_ | | | | | | | CHANGE\". | | +-----------+-----------+---+-----------+-----------+-----------+ | candDna | boolean | O | 0..1 | If | Comm | | isPrioInd | | | | provided | onEASDNAI | | | | | | and set | | | | | | | to | | | | | | | \"true\", | | | | | | | it | | | | | | | indicates | | | | | | | that the | | | | | | | candidate | | | | | | | DNAIs | | | | | | | provided | | | | | | | in the | | | | | | | \"candida | | | | | | | teDnais\" | | | | | | | attribute | | | | | | | are in | | | | | | | d | | | | | | | escending | | | | | | | priority | | | | | | | order, | | | | | | | i.e. the | | | | | | | lower the | | | | | | | array | | | | | | | index the | | | | | | | higher | | | | | | | the | | | | | | | priority | | | | | | | of the | | | | | | | r | | | | | | | espective | | | | | | | DNAI. If | | | | | | | omitted, | | | | | | | the | | | | | | | default | | | | | | | value is | | | | | | | \ | | | | | | | "false\". | | | | | | | It may | | | | | | | only be | | | | | | | provided | | | | | | | if the | | | | | | | \"candida | | | | | | | teDnais\" | | | | | | | attribute | | | | | | | is | | | | | | | provided | | | | | | | and the | | | | | | | \"dnai | | | | | | | ChgType\" | | | | | | | attribute | | | | | | | is set to | | | | | | | the value | | | | | | | \ | | | | | | | "EARLY\". | | +-----------+-----------+---+-----------+-----------+-----------+ | easRedi | boolean | O | 0..1 | I | Comm | | scoverInd | | | | ndication | onEASDNAI | | | | | | of EAS | | | | | | | re-d | | | | | | | iscovery. | | | | | | | If | | | | | | | present | | | | | | | and set | | | | | | | to | | | | | | | \"true\", | | | | | | | it | | | | | | | indicates | | | | | | | the _EAS | | | | | | | re-d | | | | | | | iscovery_ | | | | | | | is | | | | | | | p | | | | | | | erformed, | | | | | | | _e.g. due | | | | | | | to change | | | | | | | of common | | | | | | | EAS_. | | | | | | | Default | | | | | | | value is | | | | | | | \"false\" | | | | | | | if | | | | | | | omitted. | | | | | | | | | | | | | | May be | | | | | | | included | | | | | | | for event | | | | | | | \"U | | | | | | | P_PATH_ | | | | | | | CHANGE\". | | +-----------+-----------+---+-----------+-----------+-----------+ | gpsi | Gpsi | O | 0..1 | I | | | | | | | dentifies | | | | | | | a user. | | +-----------+-----------+---+-----------+-----------+-----------+ | srcU | Ipv4Addr | O | 0..1 | The IPv4 | | | eIpv4Addr | | | | Address | | | | | | | of the | | | | | | | served UE | | | | | | | for the | | | | | | | source | | | | | | | DNAI. | | +-----------+-----------+---+-----------+-----------+-----------+ | srcUeI | I | O | 0..1 | The Ipv6 | | | pv6Prefix | pv6Prefix | | | Address | | | | | | | Prefix of | | | | | | | the | | | | | | | served UE | | | | | | | for the | | | | | | | source | | | | | | | DNAI. | | +-----------+-----------+---+-----------+-----------+-----------+ | tgtU | Ipv4Addr | O | 0..1 | The IPv4 | | | eIpv4Addr | | | | Address | | | | | | | of the | | | | | | | served UE | | | | | | | for the | | | | | | | target | | | | | | | DNAI. | | +-----------+-----------+---+-----------+-----------+-----------+ | tgtUeI | I | O | 0..1 | The Ipv6 | | | pv6Prefix | pv6Prefix | | | Address | | | | | | | Prefix of | | | | | | | the | | | | | | | served UE | | | | | | | for the | | | | | | | target | | | | | | | DNAI. | | +-----------+-----------+---+-----------+-----------+-----------+ | ueMac | MacAddr48 | O | 0..1 | UE MAC | | | | | | | address | | | | | | | of the | | | | | | | served | | | | | | | UE. | | +-----------+-----------+---+-----------+-----------+-----------+ | afAckUri | Link | O | 0..1 | The URI | URLLC | | | | | | provided | | | | | | | by the | | | | | | | NEF for | | | | | | | the AF | | | | | | | acknowl | | | | | | | edgement. | | | | | | | | | | | | | | May only | | | | | | | be | | | | | | | included | | | | | | | for event | | | | | | | \"U | | | | | | | P_PATH_ | | | | | | | CHANGE\". | | +-----------+-----------+---+-----------+-----------+-----------+ | NOTE 1: | | | | | | | P | | | | | | | roperties | | | | | | | marked | | | | | | | with a | | | | | | | feature | | | | | | | as | | | | | | | defined | | | | | | | in | | | | | | | cla | | | | | | | use 5.4.4 | | | | | | | are | | | | | | | a | | | | | | | pplicable | | | | | | | as | | | | | | | described | | | | | | | in | | | | | | | cla | | | | | | | use 5.2.7 | | | | | | | of | | | | | | | 3GP | | | | | | | P TS 29.1 | | | | | | | 22 [4]. | | | | | | | If no | | | | | | | feature | | | | | | | is | | | | | | | i | | | | | | | ndicated, | | | | | | | the | | | | | | | related | | | | | | | property | | | | | | | applies | | | | | | | for all | | | | | | | the | | | | | | | features. | | | | | | | | | | | | | | NOTE 2: | | | | | | | If the | | | | | | | DNAI is | | | | | | | not | | | | | | | changed | | | | | | | while the | | | | | | | N6 | | | | | | | traffic | | | | | | | routing | | | | | | | in | | | | | | | formation | | | | | | | is | | | | | | | changed, | | | | | | | the | | | | | | | \"sou | | | | | | | rceDnai\" | | | | | | | attribute | | | | | | | and | | | | | | | \"tar | | | | | | | getDnai\" | | | | | | | attribute | | | | | | | shall not | | | | | | | be | | | | | | | provided. | | | | | | | | | | | | | | NOTE 3: | | | | | | | The | | | | | | | change | | | | | | | from the | | | | | | | UP path | | | | | | | status | | | | | | | where no | | | | | | | DNAI | | | | | | | applies | | | | | | | to a | | | | | | | status | | | | | | | where a | | | | | | | DNAI | | | | | | | applies | | | | | | | indicates | | | | | | | the | | | | | | | a | | | | | | | ctivation | | | | | | | of the | | | | | | | related | | | | | | | AF | | | | | | | request | | | | | | | and | | | | | | | therefore | | | | | | | only the | | | | | | | target | | | | | | | DNAI and | | | | | | | N6 | | | | | | | traffic | | | | | | | routing | | | | | | | in | | | | | | | formation | | | | | | | is | | | | | | | provided | | | | | | | in the | | | | | | | event | | | | | | | noti | | | | | | | fication; | | | | | | | the | | | | | | | change | | | | | | | from the | | | | | | | UP path | | | | | | | status | | | | | | | where a | | | | | | | DNAI | | | | | | | applies | | | | | | | to a | | | | | | | status | | | | | | | where no | | | | | | | DNAI | | | | | | | applies | | | | | | | indicates | | | | | | | the | | | | | | | de-a | | | | | | | ctivation | | | | | | | of the | | | | | | | related | | | | | | | AF | | | | | | | request | | | | | | | and | | | | | | | therefore | | | | | | | only the | | | | | | | source | | | | | | | DNAI and | | | | | | | N6 | | | | | | | traffic | | | | | | | routing | | | | | | | in | | | | | | | formation | | | | | | | is | | | | | | | provided | | | | | | | in the | | | | | | | event | | | | | | | noti | | | | | | | fication. | | | | | | +-----------+-----------+---+-----------+-----------+-----------+
##### 5.4.3.3.5 Type: AfResultInfo
Table 5.4.3.3.5-1: Definition of type AfResultInfo
+-----------+-----------+---+-----------+-----------+-----------+ | Attribute | Data type | P | Ca | De | Appl | | name | | | rdinality | scription | icability | +-----------+-----------+---+-----------+-----------+-----------+ | afStatus | AfRes | M | 1 | I | | | | ultStatus | | | dentifies | | | | | | | the | | | | | | | result of | | | | | | | the | | | | | | | ap | | | | | | | plication | | | | | | | re | | | | | | | location. | | +-----------+-----------+---+-----------+-----------+-----------+ | tra | RouteT | O | 0..1 | I | | | fficRoute | oLocation | | | dentifies | | | | | | | the N6 | | | | | | | traffic | | | | | | | routing | | | | | | | in | | | | | | | formation | | | | | | | a | | | | | | | ssociated | | | | | | | to the | | | | | | | target | | | | | | | DNAI. | | | | | | | | | | | | | | May only | | | | | | | be | | | | | | | present | | | | | | | if the | | | | | | | \"a | | | | | | | fStatus\" | | | | | | | sets to | | | | | | | \"S | | | | | | | UCCESS\". | | +-----------+-----------+---+-----------+-----------+-----------+ | upBuffInd | boolean | O | 0..1 | If | UL | | | | | | present | Buffering | | | | | | and set | | | | | | | to | | | | | | | \"true\", | | | | | | | it | | | | | | | indicates | | | | | | | that | | | | | | | buffering | | | | | | | of uplink | | | | | | | traffic | | | | | | | to the | | | | | | | target | | | | | | | DNAI is | | | | | | | needed. | | | | | | | | | | | | | | The | | | | | | | default | | | | | | | value is | | | | | | | \ | | | | | | | "false\". | | | | | | | | | | | | | | May only | | | | | | | be | | | | | | | present | | | | | | | if the | | | | | | | \"a | | | | | | | fStatus\" | | | | | | | sets to | | | | | | | \"S | | | | | | | UCCESS\". | | +-----------+-----------+---+-----------+-----------+-----------+ | easIpRep | array(Eas | O | 1..N | Contains | EASIPre | | laceInfos | IpReplace | | | EAS IP | placement | | | mentInfo) | | | re | | | | | | | placement | | | | | | | inf | | | | | | | ormation. | | +-----------+-----------+---+-----------+-----------+-----------+
##### 5.4.3.3.6 Type AfAckInfo
Table 5.4.3.3.6-1: Definition of type AfAckInfo
* * *
Attribute name Data type P Cardinality Description Applicability afTransId
string C 0..1 Identifies an NEF Northbound interface transaction, generated by
the AF. It shall be provided if the AF has previously provided it.  
ackResult AfResultInfo M 1 Identifies the result of application layer
handling.  
gpsi Gpsi O 0..1 Identifies a GPSI.
* * *
#### 5.4.3.4 Simple data types and enumerations
##### 5.4.3.4.1 Introduction
This clause defines simple data types and enumerations that can be referenced
from data structures defined in the previous clauses.
##### 5.4.3.4.2 Simple data types
The simple data types defined in table 5.4.3.4.2-1 shall be supported.
Table 5.4.3.4.2-1: Simple data types
* * *
Type Name Type Definition Description Applicability
* * *
##### 5.4.3.4.3 Enumeration: SubscribedEvent
The enumeration SubscribedEvent represents the type of UP path management
events for which the AF requests to be notified. It shall comply with the
provisions defined in table 5.4.3.4.3-1.
Table 5.4.3.4.3-1: Enumeration SubscribedEvent
* * *
Enumeration value Description UP_PATH_CHANGE The AF requests to be notified
when the UP path changes for the PDU session.
* * *
##### 5.4.3.4.4 Enumeration: AfResultStatus
The enumeration AfResultStatus represents the status of application handling
result. It shall comply with the provisions defined in table 5.4.3.4.4-1.
Table 5.4.3.4.4-1: Enumeration AfResultStatus
* * *
Enumeration value Description SUCCESS The application layer is ready or the
relocation is completed. TEMP_CONGESTION The application relocation fails due
to temporary congestion. RELOC_NO_ALLOWED The application relocation fails
because application relocation is not allowed. OTHER The application
relocation fails due to other reason.
* * *
### 5.4.4 Used Features
The table below defines the features applicable to the TrafficInfluence API.
Those features are negotiated as described in clause 5.2.7 of 3GPP TS 29.122
[4].
Table 5.4.4-1: Features used by TrafficInfluence API
+----------------------+----------------------+----------------------+ | Feature number | Feature Name | Description | +----------------------+----------------------+----------------------+ | 1 | Not | The delivery of | | | ification_websocket | notifications over | | | | Websocket is | | | | supported as | | | | described in | | | | 3 | | | | GPP TS 29.122 [4]. | | | | This feature | | | | requires that the | | | | Notif | | | | ication_test_event | | | | feature is also | | | | supported. | +----------------------+----------------------+----------------------+ | 2 | Notif | The testing of | | | ication_test_event | notification | | | | connection is | | | | supported as | | | | described in | | | | 3 | | | | GPP TS 29.122 [4]. | +----------------------+----------------------+----------------------+ | 3 | URLLC | This feature | | | | indicates support of | | | | Ultra Reliable Low | | | | Latency | | | | Communication | | | | (URLLC) requirements | | | | (i.e. AF application | | | | relocation | | | | acknowledgement and | | | | UE address(es) | | | | preservation). | +----------------------+----------------------+----------------------+ | 4 | MacAddressRange | Indicates the | | | | support of a set of | | | | MAC addresses with a | | | | specific range in | | | | the traffic filter. | +----------------------+----------------------+----------------------+ | 5 | AF_latency | This feature | | | | indicates support | | | | for Edge relocation | | | | considering user | | | | plane latency. | +----------------------+----------------------+----------------------+ | 6 | EASDiscovery | This feature | | | | indicates the | | | | support of EAS | | | | (re)discovery. | +----------------------+----------------------+----------------------+ | 7 | EASIPreplacement | This feature | | | | indicates the | | | | support of | | | | provisioning of EAS | | | | IP replacement info. | +----------------------+----------------------+----------------------+ | 8 | ExposureToEAS | This feature | | | | indicates support | | | | for the indication | | | | provided by the AF | | | | of direct event | | | | notification of QoS | | | | monitoring events | | | | from the UPF to the | | | | Local NEF or the AF | | | | in 5GC. | +----------------------+----------------------+----------------------+ | 9 | SimultConnectivity | This feature | | | | indicates support of | | | | temporary | | | | simultaneous | | | | connectivity over | | | | source and target | | | | PSA at edge | | | | relocation. | +----------------------+----------------------+----------------------+ | 10 | ULBuffering | This feature | | | | indicates support | | | | for Uplink buffering | | | | indication for edge | | | | relocation. | +----------------------+----------------------+----------------------+ | 11 | EDGEAPP | This feature | | | | controls the support | | | | of EDGE applications | | | | related | | | | functionalities | | | | (e.g. support the | | | | provisioning of | | | | event reporting | | | | requirements). | +----------------------+----------------------+----------------------+ | 12 | SFC | **This feature | | | | indicates support | | | | for application | | | | function influence | | | | on service function | | | | chaining(s).** | +----------------------+----------------------+----------------------+ | 13 | FinerGranUEs | This feature | | | | indicates support | | | | for handling of more | | | | granular set of UEs. | +----------------------+----------------------+----------------------+ | 14 | CommonEASDNAI | This feature | | | | controls the support | | | | of the common | | | | EAS/DNAI selection. | +----------------------+----------------------+----------------------+ | Feature: A short | | | | name that can be | | | | used to refer to the | | | | bit and to the | | | | feature, e.g. | | | | \"Notification\". | | | | | | | | Description: A clear | | | | textual description | | | | of the feature. | | | +----------------------+----------------------+----------------------+
### 5.4.5 Error handling
#### 5.4.5.1 General
HTTP error handling shall be supported as specified in clause 5.2.6 of 3GPP TS
29.122 [4].
In addition, the requirements in the following clauses shall apply.
#### 5.4.5.2 Protocol Errors
In this Release of the specification, there are no additional protocol errors
applicable for the TrafficInfluence API.
#### 5.4.5.3 Application Errors
The application errors defined for TrafficInfluence API are listed in table
5.4.5.3-1.
Table 5.4.5.3-1: Application errors
* * *
Application Error HTTP status code Description Applicability
* * *
## 5.5 NiddConfigurationTrigger API
### 5.5.0 Introduction
The Nnef_NiddConfigurationTrigger service shall use the
NiddConfigurationTrigger API.
The API URI of NiddConfigurationTrigger API shall be:
**{apiRoot}/3gpp-nidd-configuration-trigger/v1**
with the following components:
\- \"apiRoot\" is set as defined in clause 5.2.4 of 3GPP TS 29.122 [4].
\- \"apiName\" shall be set to \"3gpp-nidd-configuration-trigger\".
\- \"apiVersion\" shall be set to \"v1\" for the current version defined in
the present document.
All resource URIs in the clauses below are defined relative to the above API
URI.
### 5.5.1 Resources
There is no resource defined for this API in this release of the
specification.
### 5.5.1A Custom Operations without associated resources
There are no custom operations without associated resources defined for this
API in this release of the specification.
### 5.5.2 Notifications
#### 5.5.2.1 Introduction
Upon receipt of a NIDD connection establishment request from the SMF and there
is no NIDD configuration for the UE, the NEF may send an HTTP POST message in
order to trigger the AF to start the NIDD configuration procedure as described
in clause 5.6.3.2.3.4 of 3GPP TS 29.122 [4].
Table 5.5.2.1-1: Notifications overview
+----------------+----------------+----------------+----------------+ | Notification | Callback URI | HTTP method or | Description | | | | custom | | | | | operation | (service | | | | | operation) | +----------------+----------------+----------------+----------------+ | Event | {no | POST | Request for | | Notification | tificationUri} | | the NIDD | | | | | Configuration | | | | | Trigger | +----------------+----------------+----------------+----------------+
#### 5.5.2.2 Event Notification
The Callback URI **\"{notificationUri}\"** shall be used with the callback URI
variables defined in table 5.5.2.2-1.
Table 5.5.2.2-1: Callback URI variables
+-----------------+-----------+--------------------------------------+ | Name | Data type | Definition | +-----------------+-----------+--------------------------------------+ | notificationUri | Link | A URI indicating the notification | | | | destination where N33 notification | | | | requests shall be delivered to. | | | | | | | | This URI shall be preconfigured in | | | | the NEF. | +-----------------+-----------+--------------------------------------+
#### 5.5.2.3 Operation Definition
##### 5.5.2.3.1 Notification via HTTP POST
This method shall support the request data structures specified in table
5.5.2.3.1-1 and the response data structures and response codes specified in
table 5.5.2.3.1-2.
Table 5.5.2.3.1-1: Data structures supported by the POST Request Body on this
resource
* * *
Data type P Cardinality Description NiddConfigurationTrigger M 1 The NIDD
Configuration Trigger is provided by the NEF to the AF.
* * *
Table 5.5.2.3.1-2: Data structures supported by the POST Response Body on this
resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | Nid | M | 1 | 200 OK | The trigger | | dConfiguratio | | | | is received | | nTriggerReply | | | | successfully. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 307 Temporary | Temporary | | | | | Redirect | redirection, | | | | | | during | | | | | | Configuration | | | | | | Trigger. The | | | | | | response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI | | | | | | representing | | | | | | the end point | | | | | | of an | | | | | | alternative | | | | | | AF where the | | | | | | notification | | | | | | should be | | | | | | sent. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 308 Permanent | Permanent | | | | | Redirect | redirection, | | | | | | during | | | | | | Configuration | | | | | | Trigger. The | | | | | | response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI | | | | | | representing | | | | | | the end point | | | | | | of an | | | | | | alternative | | | | | | AF where the | | | | | | notification | | | | | | should be | | | | | | sent. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the POST | | | | | | method listed | | | | | | in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Tabl 5.5.2.3.1-3: Headers supported by the 307 Response Code on this resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI representing the end point of an alternative AF towards which the
notification should be redirected.
* * *
Table 5.5.2.3.1-4: Headers supported by the 308 Response Code on this resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI representing the end point of an alternative AF towards which the
notification should be redirected.
* * *
##### 5.5.2.3.2 Notification via Websocket
Not specified in the present specification.
### 5.5.3 Data Model
#### 5.5.3.1 General
This clause specifies the application data model supported by the
NiddConfigurationTrigger API.
#### 5.5.3.2 Reused data types
The data types reused by the NiddConfigurationTrigger API from other
specifications are listed in table 5.5.3.2-1.
Table 5.5.3.2-1: Re-used Data Types
* * *
Data type Reference Comments Gpsi 3GPP TS 29.571 [8] Identifies a GPSI.
SupportedFeatures 3GPP TS 29.571 [8] Used to negotiate the applicability of
the optional features defined in table 5.5.4-1.
* * *
#### 5.5.3.3 Structured data types
##### 5.5.3.3.1 Introduction
This clause defines the structured data types to be used in resource
representations.
##### 5.5.3.3.2 Type: NiddConfigurationTrigger
This type represents a NIDD configuration trigger which is sent from the NEF
to the AF.
Table 5.5.3.3.2-1: Definition of type NiddConfigurationTrigger
+-----------+-----------+---+-----------+-----------+-----------+ | Attribute | Data type | P | Ca | De | Appl | | name | | | rdinality | scription | icability | | | | | | | | | | | | | | (NOTE) | +-----------+-----------+---+-----------+-----------+-----------+ | afId | string | M | 1 | I | | | | | | | dentifies | | | | | | | the | | | | | | | trigger | | | | | | | receiving | | | | | | | entity. | | +-----------+-----------+---+-----------+-----------+-----------+ | nefId | string | M | 1 | I | | | | | | | dentifies | | | | | | | the | | | | | | | trigger | | | | | | | sending | | | | | | | entity. | | +-----------+-----------+---+-----------+-----------+-----------+ | gpsi | Gpsi | M | 1 | I | | | | | | | dentifies | | | | | | | a user. | | +-----------+-----------+---+-----------+-----------+-----------+ | suppFeat | Supporte | M | 1 | Indicates | | | | dFeatures | | | the list | | | | | | | of | | | | | | | Supported | | | | | | | features | | | | | | | used as | | | | | | | described | | | | | | | in | | | | | | | clau | | | | | | | se 5.5.4. | | +-----------+-----------+---+-----------+-----------+-----------+ | NOTE: | | | | | | | P | | | | | | | roperties | | | | | | | marked | | | | | | | with a | | | | | | | feature | | | | | | | as | | | | | | | defined | | | | | | | in | | | | | | | cla | | | | | | | use 5.5.4 | | | | | | | are | | | | | | | a | | | | | | | pplicable | | | | | | | as | | | | | | | described | | | | | | | in | | | | | | | cla | | | | | | | use 5.2.7 | | | | | | | of | | | | | | | 3GP | | | | | | | P TS 29.1 | | | | | | | 22 [4]. | | | | | | | If no | | | | | | | feature | | | | | | | is | | | | | | | i | | | | | | | ndicated, | | | | | | | the | | | | | | | related | | | | | | | property | | | | | | | applies | | | | | | | for all | | | | | | | the | | | | | | | features. | | | | | | +-----------+-----------+---+-----------+-----------+-----------+
##### 5.5.3.3.3 Type: NiddConfigurationTriggerReply
This data type represents a reply to a NIDD configuration trigger and is sent
from the AF to the NEF.
Table 5.5.3.3.3-1: Definition of type NiddConfigurationTriggerReply
+-----------+-----------+---+-----------+-----------+-----------+ | Attribute | Data type | P | Ca | De | Appl | | name | | | rdinality | scription | icability | | | | | | | | | | | | | | (NOTE) | +-----------+-----------+---+-----------+-----------+-----------+ | suppFeat | Supporte | M | 1 | Indicates | | | | dFeatures | | | the list | | | | | | | of | | | | | | | Supported | | | | | | | features | | | | | | | used as | | | | | | | described | | | | | | | in | | | | | | | clau | | | | | | | se 5.5.4. | | +-----------+-----------+---+-----------+-----------+-----------+ | NOTE: | | | | | | | P | | | | | | | roperties | | | | | | | marked | | | | | | | with a | | | | | | | feature | | | | | | | as | | | | | | | defined | | | | | | | in | | | | | | | cla | | | | | | | use 5.5.4 | | | | | | | are | | | | | | | a | | | | | | | pplicable | | | | | | | as | | | | | | | described | | | | | | | in | | | | | | | cla | | | | | | | use 5.2.7 | | | | | | | of | | | | | | | 3GP | | | | | | | P TS 29.1 | | | | | | | 22 [4]. | | | | | | | If no | | | | | | | feature | | | | | | | is | | | | | | | i | | | | | | | ndicated, | | | | | | | the | | | | | | | related | | | | | | | property | | | | | | | applies | | | | | | | for all | | | | | | | the | | | | | | | features. | | | | | | +-----------+-----------+---+-----------+-----------+-----------+
#### 5.5.3.4 Simple data types and enumerations
##### 5.5.3.4.1 Introduction
This clause defines simple data types and enumerations that can be referenced
from data structures defined in the previous clauses.
##### 5.5.3.4.2 Simple data types
The simple data types defined in table 5.5.3.4.2-1 shall be supported.
Table 5.5.3.4.2-1: Simple data types
* * *
Type Name Type Definition Description Applicability
* * *
### 5.5.4 Used Features
The table below defines the features applicable to the
NiddConfigurationTrigger API. Those features are negotiated as described in
clause 5.2.7 of 3GPP TS 29.122 [4].
Table 5.5.4-1: Features used by NiddConfigurationTrigger API
* * *
Feature number Feature Name Description
* * *
### 5.5.5 Error handling
#### 5.5.5.1 General
HTTP error handling shall be supported as specified in clause 5.2.6 of 3GPP TS
29.122 [4].
In addition, the requirements in the following clauses shall apply.
#### 5.5.5.2 Protocol Errors
In this Release of the specification, there are no additional protocol errors
applicable for the NiddConfigurationTrigger API.
#### 5.5.5.3 Application Errors
The application errors defined for NiddConfigurationTrigger API are listed in
table 5.5.5.3-1.
Table 5.5.5.3-1: Application errors
* * *
Application Error HTTP status code Description Applicability
* * *
## 5.6 AnalyticsExposure API
### 5.6.1 Resources
### 5.6.0 Introduction
The Nnef_AnalyticsExposure service shall use the AnalyticsExposure API.
The API URI of AnalyticsExposure API shall be:
**{apiRoot}/3gpp-analyticsexposure/v1**
with the following components:
\- \"apiRoot\" is set as defined in clause 5.2.4 of 3GPP TS 29.122 [4].
\- \"apiName\" shall be set to \"3gpp-analyticsexposure\".
\- \"apiVersion\" shall be set to \"v1\" for the current version defined in
the present document.
All resource URIs in the clauses below are defined relative to the above API
URI.
#### 5.6.1.1 Overview
This clause describes the structure for the Resource URIs as shown in figure
5.6.1.1-1 and the resources and HTTP methods used for the AnalyticsExposure
API.
Figure 5.6.1.1-1: Resource URI structure of the AnalyticsExposure API
Table 5.6.1.1-1 provides an overview of the resources and HTTP methods
applicable for the AnalyticsExposure API.
Table 5.6.1.1-1: Resources and methods overview
* * *
Resource name Resource URI HTTP method Description Analytics Exposure
Subscriptions /{afId}/subscriptions GET Retrieve all the subscriptions to
analytics exposure for a given AF. POST Create a new subscription to analytics
exposure. Individual Analytics Exposure Subscription /{afId}/subscriptions
/{subscriptionId} GET Retrieve an existing subscription to analytics exposure.
PUT Update an existing subscription to analytics exposure. DELETE Delete an
existing subscription to analytics exposure.
* * *
#### 5.6.1.2 Resource: Analytics Exposure Subscriptions
##### 5.6.1.2.1 Introduction
This resource allows a AF to read all active analytics exposure subscribtions
for the given AF, or allows a AF to create a new subscription to retrieve
analytics information.
##### 5.6.1.2.2 Resource Definition
Resource URI: **{apiRoot}/3gpp-analyticsexposure/v1/{afId}/subscriptions**
This resource shall support the resource URI variables defined in table
5.6.1.2.2-1.
Table 5.6.1.2.2-1: Resource URI variables for this resource
* * *
Name Data type Definition apiRoot string Clause 5.2.4 of 3GPP TS 29.122 [4].
afId string Identifier of the AF.
* * *
##### 5.6.1.2.3 Resource Methods
###### 5.6.1.2.3.1 General
The following clauses specify the resource methods supported by the resource
as described in clause 5.6.1.2.2.
###### 5.6.1.2.3.2 GET
The GET method allows to read all active subscriptions for a given AF. The AF
shall initiate the HTTP GET request message and the NEF shall respond to the
message.
This method shall support the URI query parameters specified in table
5.6.1.2.3.2-1.
Table 5.6.1.2.3.2-1: URI query parameters supported by the GET method on this
resource
* * *
Name Data type P Cardinality Description supp-feat SupportedFeatures O 0..1
The features supported by the NF service consumer.
* * *
This method shall support the request data structures specified in table
5.6.1.2.3.2-2 and the response data structures and response codes specified in
table 5.6.1.2.3.2-3.
Table 5.6.1.2.3.2-2: Data structures supported by the GET Request Body on this
resource
* * *
Data type P Cardinality Description N/A
* * *
Table 5.6.1.2.3.2-3: Data structures supported by the GET Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | arr | M | 0..N | 200 OK | The | | ay(AnalyticsE | | | | subscription | | xposureSubsc) | | | | information | | | | | | for the AF in | | | | | | the request | | | | | | URI are | | | | | | returned. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 307 Temporary | Temporary | | | | | Redirect | redirection, | | | | | | during | | | | | | subscription | | | | | | retrieval. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 308 Permanent | Permanent | | | | | Redirect | redirection, | | | | | | during | | | | | | subscription | | | | | | retrieval. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | P | O | 0..1 | 404 Not Found | (NOTE 2) | | roblemDetails | | | | | +---------------+---+-------------+---------------+---------------+ | NOTE 1: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the GET | | | | | | method listed | | | | | | in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | | | | | | | | NOTE 2: | | | | | | Failure | | | | | | causes are | | | | | | described in | | | | | | clause 5.6.5. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.6.1.2.3.2-4: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
Table 5.6.1.2.3.2-5: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
###### 5.6.1.2.3.3 POST
The POST method creates a new subscription resource to analytics exposure
subscription for a given AF. The AF shall initiate the HTTP POST request
message and the NEF shall respond to the message. The NEF shall construct the
URI of the created resource.
This method shall support the request data structures specified in table
5.6.1.2.3.3-1 and the response data structures and response codes specified in
table 5.6.1.2.3.3-2.
Table 5.6.1.2.3.3-1: Data structures supported by the POST Request Body on
this resource
* * *
Data type P Cardinality Description AnalyticsExposureSubsc M 1 Parameters to
request a subscription to retrieve analytics information with the NEF.
* * *
Table 5.6.1.2.3.3-2: Data structures supported by the POST Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | Analytics | M | 1 | 201 Created | The | | ExposureSubsc | | | | subscription | | | | | | was created | | | | | | successfully. | | | | | | | | | | | | The URI of | | | | | | the created | | | | | | resource | | | | | | shall be | | | | | | returned in | | | | | | the | | | | | | \"Location\" | | | | | | HTTP header. | +---------------+---+-------------+---------------+---------------+ | P | O | 0..1 | 400 Bad | (NOTE 2) | | roblemDetails | | | Request | | +---------------+---+-------------+---------------+---------------+ | P | O | 0..1 | 403 Forbidden | (NOTE 2) | | roblemDetails | | | | | +---------------+---+-------------+---------------+---------------+ | P | O | 0..1 | 404 Not Found | (NOTE 2) | | roblemDetails | | | | | +---------------+---+-------------+---------------+---------------+ | P | O | 0..1 | 500 Internal | (NOTE 2) | | roblemDetails | | | Server Error | | +---------------+---+-------------+---------------+---------------+ | NOTE 1: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the POST | | | | | | method listed | | | | | | in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | | | | | | | | NOTE 2: | | | | | | Failure | | | | | | causes are | | | | | | described in | | | | | | clause 5.6.5. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.6.1.2.3.3-3: Headers supported by the 201 Response Code on this
resource
+----------+-----------+---+-------------+--------------------+ | Name | Data type | P | Cardinality | Description | +----------+-----------+---+-------------+--------------------+ | Location | string | M | 1 | Contains the URI | | | | | | of the newly | | | | | | created resource, | | | | | | according to the | | | | | | structure: | | | | | | | | | | | | { | | | | | | apiRoot}/3gpp-anal | | | | | | yticsexposure/v1/{ | | | | | | afId}/subscription | | | | | | s/{subscriptionId} | +----------+-----------+---+-------------+--------------------+
#### 5.6.1.3 Resource: Individual Analytics Exposure Subscription
##### 5.6.1.3.1 Introduction
This resource allows a AF to read/modify/cancel a subscription to retrieve
analytics information with the NEF.
##### 5.6.1.3.2 Resource Definition
Resource URI: **{apiRoot}/3gpp-
analyticsexposure/v1/{afId}/subscriptions/{subscriptionId}**
This resource shall support the resource URI variables defined in table
5.6.1.3.2-1.
Table 5.6.1.3.2-1: Resource URI variables for this resource
* * *
Name Data type Definition apiRoot string Clause 5.2.4 of 3GPP TS 29.122 [4].
afId string Identifier of the AF. subscriptionId string Identifier of the
subscription resource.
* * *
##### 5.6.1.3.3 Resource Methods
###### 5.6.1.3.3.1 General
The following clauses specify the resource methods supported by the resource
as described in clause 5.6.1.3.2.
###### 5.6.1.3.3.2 GET
The GET method allows to read the active subscription for a given AF and
subscription Id. The AF shall initiate the HTTP GET request message and theNEF
shall respond to the message.
This method shall support the URI query parameters specified in table
5.6.1.3.3.2-1.
Table 5.6.1.3.3.2-1: URI query parameters supported by the GET method on this
resource
* * *
Name Data type P Cardinality Description supp-feat SupportedFeatures O 0..1
The features supported by the NF service consumer.
* * *
This method shall support the request data structures specified in table
5.6.1.3.3.2-2 and the response data structures and response codes specified in
table 5.6.1.3.3.2-3.
Table 5.6.1.3.3.2-2: Data structures supported by the GET Request Body on this
resource
* * *
Data type P Cardinality Description N/A
* * *
Table 5.6.1.3.3.2-3: Data structures supported by the GET Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | Analytics | M | 1 | 200 OK | The | | ExposureSubsc | | | | subscription | | | | | | information | | | | | | for the AF in | | | | | | the request | | | | | | URI are | | | | | | returned. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 307 Temporary | Temporary | | | | | Redirect | redirection, | | | | | | during | | | | | | subscription | | | | | | retrieval. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 308 Permanent | Permanent | | | | | Redirect | redirection, | | | | | | during | | | | | | subscription | | | | | | retrieval. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the GET | | | | | | method listed | | | | | | in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.6.1.3.3.2-4: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
Table 5.6.1.3.3.2-5: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
###### 5.6.1.3.3.3 PUT
The PUT method modifies an existing subscription resource to update a
subscription. The AF shall initiate the HTTP PUT request message and the NEF
shall respond to the message.
This method shall support the request data structures specified in table
5.6.1.3.3.3-1 and the response data structures and response codes specified in
table 5.6.1.3.3.3-2.
Table 5.6.1.3.3.3-1: Data structures supported by the PUT Request Body on this
resource
* * *
Data type P Cardinality Description AnalyticsExposureSubsc M 1 Modify an
existing subscription to retrieve analytics information with the NEF.
* * *
Table 5.6.1.3.3.3-2: Data structures supported by the PUT Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | Analytics | M | 1 | 200 OK | The | | ExposureSubsc | | | | subscription | | | | | | was updated | | | | | | successfully. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 204 No | The | | | | | Content | subscription | | | | | | was updated | | | | | | successfully. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 307 Temporary | Temporary | | | | | Redirect | redirection, | | | | | | during | | | | | | subscription | | | | | | modification. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 308 Permanent | Permanent | | | | | Redirect | redirection, | | | | | | during | | | | | | subscription | | | | | | modification. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | P | O | 0..1 | 400 Bad | (NOTE 2) | | roblemDetails | | | Request | | +---------------+---+-------------+---------------+---------------+ | P | O | 0..1 | 403 Forbidden | (NOTE 2) | | roblemDetails | | | | | +---------------+---+-------------+---------------+---------------+ | P | O | 0..1 | 500 Internal | (NOTE 2) | | roblemDetails | | | Server Error | | +---------------+---+-------------+---------------+---------------+ | NOTE 1: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the PUT | | | | | | method listed | | | | | | in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | | | | | | | | NOTE 2: | | | | | | Failure | | | | | | causes are | | | | | | described in | | | | | | clause 5.6.5. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.6.1.3.3.3-3: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
Table 5.6.1.3.3.3-4: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
###### 5.6.1.3.3.4 DELETE
The DELETE method deletes the analytics exposure subscription for a given AF.
The AF shall initiate the HTTP DELETE request message and the NEF shall
respond to the message.
This method shall support the URI query parameters specified in table
5.6.1.3.3.4-1.
Table 5.6.1.3.3.4-1: URI query parameters supported by the DELETE method on
this resource
* * *
Name Data type P Cardinality Description N/A
* * *
This method shall support the request data structures specified in table
5.6.1.3.3.4-2 and the response data structures and response codes specified in
table 5.6.1.3.3.4-3.
Table 5.6.1.3.3.4-2: Data structures supported by the DELETE Request Body on
this resource
* * *
Data type P Cardinality Description N/A
* * *
Table 5.6.1.3.3.4-3: Data structures supported by the DELETE Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | N/A | | | 204 No | The | | | | | Content | subscription | | | | | | was | | | | | | terminated | | | | | | successfully. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 307 Temporary | Temporary | | | | | Redirect | redirection, | | | | | | during | | | | | | subscription | | | | | | termination. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 308 Permanent | Permanent | | | | | Redirect | redirection, | | | | | | during | | | | | | subscription | | | | | | termination. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the | | | | | | DELETE method | | | | | | listed in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.6.1.3.3.4-4: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
Table 5.6.1.3.3.4-5: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
### 5.6.1A Custom Operations without associated resources
#### 5.6.1A.1 Overview
Custom operations used for this API are summarized in table 5.6.1A.1-1.
\"apiRoot\" is set as described in clause 5.2.4 of 3GPP TS 29.122 [4].
Table 5.6.1A.1-1: Custom operations without associated resources
* * *
Operation name Custom operation URI Mapped HTTP method Description fetch
{apiRoot}/3gpp-analyticsexposure/v1/{afId}/fetch POST Request to fetch
analytics information
* * *
#### 5.6.1A.2 Operation: fetch
##### 5.6.1A.2.1 Description
The custom operation allows a service consumer to fetch analytics information
via the NEF.
##### 5.6.1A.2.2 Operation Definition
This operation shall support the response data structures and response codes
specified in tables 5.6.1A.2.2-1 and 5.6.1A.2.2-2.
Table 5.6.1A.2.2-1: Data structures supported by the POST Request Body on this
resource
* * *
Data type P Cardinality Description AnalyticsRequest M 1 Parameters to request
to fetch analytics information.
* * *
Table 5.6.1A.2.2-2: Data structures supported by the POST Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | AnalyticsData | M | 1 | 200 OK | The requested | | | | | | analytics | | | | | | information | | | | | | was returned | | | | | | successfully. | +---------------+---+-------------+---------------+---------------+ | n/a | | | 204 No | If the | | | | | Content | request | | | | | | Analytics | | | | | | data does not | | | | | | exist, the | | | | | | NEF shall | | | | | | respond with | | | | | | \"204 No | | | | | | Content\". | +---------------+---+-------------+---------------+---------------+ | N/A | | | 307 Temporary | Temporary | | | | | Redirect | redirection, | | | | | | during | | | | | | analytics | | | | | | information | | | | | | retrieval. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 308 Permanent | Permanent | | | | | Redirect | redirection, | | | | | | during | | | | | | analytics | | | | | | information | | | | | | retrieval. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | **Pro | O | 0..1 | 400 Bad | (NOTE 2) | | blemDetails** | | | Request | | +---------------+---+-------------+---------------+---------------+ | P | O | 0..1 | 403 Forbidden | (NOTE 2) | | roblemDetails | | | | | +---------------+---+-------------+---------------+---------------+ | **Pro | O | 0..1 | 500 Internal | (NOTE 2) | | blemDetails** | | | Server Error | | +---------------+---+-------------+---------------+---------------+ | ProblemD | O | 0..1 | 500 Internal | The request | | etailsAnalyti | | | Server Error | is rejected | | csInfoRequest | | | | by the NEF | | | | | | and more | | | | | | details (not | | | | | | only the | | | | | | Pr | | | | | | oblemDetails) | | | | | | may be | | | | | | returned. | | | | | | | | | | | | (NOTE 2) | +---------------+---+-------------+---------------+---------------+ | NOTE 1: The | | | | | | manadatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the POST | | | | | | method listed | | | | | | in Table | | | | | | 5.2.6-1 of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | | | | | | | | NOTE 2: | | | | | | Failure | | | | | | causes are | | | | | | described in | | | | | | clause 5.6.5. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.6.1A.2.2-3: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
Table 5.6.1A.2.2-4: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
### 5.6.2 Notifications
#### 5.6.2.1 Introduction
Upon receipt of analytics information notification from the NWDAF indicating
the subscribed analytics event is detected, the NEF shall send an HTTP POST
message including the notified analytics event to the AF. The NEF and the AF
shall support the notification mechanism as described in clause 5.2.5 of 3GPP
TS 29.122 [4].
Table 5.6.2.1-1: Notifications overview
+----------------+--------------+----------------+----------------+ | Notification | Callback URI | HTTP method or | Description | | | | custom | | | | | operation | (service | | | | | operation) | +----------------+--------------+----------------+----------------+ | Event | {notifUri} | POST | The analytics | | Notification | | | event | | | | | notification | | | | | is provided by | | | | | the NEF to the | | | | | AF. | +----------------+--------------+----------------+----------------+
#### 5.6.2.2 Event Notification
The Callback URI **\"{notifUri}\"** shall be used with the callback URI
variables defined in table 5.6.2.2-1.
Table 5.6.2.2-1: Callback URI variables
* * *
Name Definition notifUri Callback reference provided by the AF during
creation/modification of the subscription within the AnalyticsExposureSubsc
data type as defined in Table 5.6.3.3.2-1.
* * *
#### 5.6.2.3 Operation Definition
##### 5.6.2.3.1 Notification via HTTP POST
This method shall support the request data structures specified in table
5.6.2.3.1-1 and the response data structures and response codes specified in
table 5.6.2.3.1-2.
Table 5.6.2.3.1-1: Data structures supported by the POST Request Body on this
resource
* * *
Data type P Cardinality Description AnalyticsEventNotification M 1 The
analytics event notification is provided by the NEF to the AF.
* * *
Table 5.6.2.3.1-2: Data structures supported by the POST Response Body on this
resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | N/A | | | 204 No | The event | | | | | Content | notification | | | | | | is received | | | | | | successfully. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 307 Temporary | Temporary | | | | | Redirect | redirection, | | | | | | during event | | | | | | notification. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI | | | | | | representing | | | | | | the end point | | | | | | of an | | | | | | alternative | | | | | | AF where the | | | | | | notification | | | | | | should be | | | | | | sent. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 308 Permanent | Permanent | | | | | Redirect | redirection, | | | | | | during event | | | | | | notification. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI | | | | | | representing | | | | | | the end point | | | | | | of an | | | | | | alternative | | | | | | AF where the | | | | | | notification | | | | | | should be | | | | | | sent. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the POST | | | | | | method listed | | | | | | in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.6.2.3.1-3: Headers supported by the 307 Response Code on this resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI representing the end point of an alternative AF towards which the
notification should be redirected.
* * *
Table 5.6.2.3.1-4: Headers supported by the 308 Response Code on this resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI representing the end point of an alternative AF towards which the
notification should be redirected.
* * *
##### 5.6.2.3.2 Notification via Websocket
If supported by both AF and NEF and successfully negotiated, the
AnalyticsEventNotification may alternatively be delivered through the
Websocket mechanism as defined in clause 5.2.5.4 of 3GPP TS 29.122 [4].
### 5.6.3 Data Model
#### 5.6.3.1 General
This clause specifies the application data model supported by the
AnalyticsExposure API.
Table 5.6.3.1-1 specifies the data types defined for the AnalyticsExposure
API.
Table 5.6.3.1-1: AnalyticsExposure API specific Data Types
* * *
Data type Clause defined Description Applicability AbnormalExposure 5.6.3.3.15
Represents a user\'s abnormal behavior information. Abnormal_Behavior
AnalyticsData 5.6.3.3.14 Represents analytics data.  
AnalyticsEvent 5.6.3.4.3 Event that is subscribed.  
AnalyticsEventFilter 5.6.3.3.13 Represents analytics event filter information.  
AnalyticsEventFilterSubsc 5.6.3.3.6 Represents an analytics event filter.  
AnalyticsEventNotif 5.4.3.3.4 Represents an analytics event to be reported.  
AnalyticsEventNotification 5.6.3.3.3 Represents an analytics event(s)
notification.  
AnalyticsEventSubsc 5.6.3.3.5 Represents a subscribed analytics event.  
AnalyticsExposureSubsc 5.6.3.3.2 Represents an analytics exposure
subscription.  
AnalyticsFailureCode 5.6.3.4.4 Identifies the failure reason.  
AnalyticsFailureEventInfo 5.6.3.3.20 Represents an event for which the
subscription request was not successful and including the associated failure
reason.  
AnalyticsRequest 5.6.3.3.12 Represents the parameters to request to retrieve
analytics information.  
CongestInfo 5.6.3.3.16 Represents a UE\'s user data congestion information.
Congestion CongestionAnalytics 5.6.3.3.17 Represents data congestion analytics
for transfer over the user plane, control plane or both.  
NetworkPerfExposure 5.6.3.3.19 Represents network performance information.
Network_Performance QosSustainabilityExposure 5.6.3.3.18 Represents a QoS
sustainability information. QoS_Sustainability TargetUeId 5.6.3.3.7 Represents
the target UE(s) information.  
UeLocationInfo 5.6.3.3.10 Represents a UE location information.  
UeMobilityExposure 5.6.3.3.9 Represents a UE mobility information. Ue_Mobility
* * *
#### 5.6.3.2 Reused data types
The data types reused by the AnalyticsExposure API from other specifications
are listed in table 5.6.3.2-1.
Table 5.6.3.2-1: Re-used Data Types
* * *
Data type Reference Comments AdditionalMeasurement 3GPP TS 29.520 [27]
Represents additional measurement information. AddrFqdn 3GPP TS 29.517 [58]
Represents an IP address and/or an FQDN. AnalyticsSubset 3GPP TS 29.520 [27]
Represents an analytics Subset used to indicate the content of the analytics.
ReportingInformation 3GPP TS 29.523 [22] Describes the analytics reporting
requirement information. BitRate 3GPP TS 29.571 [8] Represents a bit rate.
BwRequirement 3GPP TS 29.520 [27] Represents bandwidth requirements.
CongestionType 3GPP TS 29.520 [27] Represents a congestion analytics type.
DateTime 3GPP TS 29.122 [4] Represents a date and a time. DirectionInfo 3GPP
TS 29.520 [27] Represents the UE direction information DispersionInfo 3GPP TS
29.520 [27] Dispersion information. DispersionRequirement 3GPP TS 29.520 [27]
Dispersion requirement. Dnai 3GPP TS 29.571 [8] Identifies a user plane access
to one or more DN(s). Dnn 3GPP TS 29.571 [8] Represents a DNN. DnPerfInfo 3GPP
TS 29.520 [27] DN Performance information. DnPerformanceReq 3GPP TS 29.520
[27] DN Performance requirement. DurationSec 3GPP TS 29.122 [4] Seconds of
duration. EventReportingRequirement 3GPP TS 29.520 [27] Represents the
required type of reporting. ExternalGroupId 3GPP TS 29.122 [4] External Group
Identifier for a user group. Exception 3GPP TS 29.520 [27] Represents
exception information. ExceptionId 3GPP TS 29.520 [27] Represents the
identifier of an exception. ExpectedAnalyticsType 3GPP TS 29.520 [27]
Represents the exception\'s trend. ExpectedUeBehaviourData 3GPP TS 29.503 [17]
Represents the expected UE behaviour data. Float 3GPP TS 29.571 [8] Represents
a number with the \"float\" format. GeoDistributionInfo 3GPP TS 29.520 [27]
Represents the geographical distribution of the UEs. GeographicalArea
5.17.3.3.4 Identifies the geographical information with shapes. Gpsi 3GPP TS
29.571 [8] Identifies a GPSI. LocInfoGranularity 3GPP TS 29.520 [27]
Represents the preferred granularity of location information.
MatchingDirection 3GPP TS 29.520 [27] Matching direction MovBehavInfo 3GPP TS
29.520 [27] Represents the Movement Behaviour information. MovBehavReq 3GPP TS
29.520 [27] Represents the Movement Behaviour analytics requirements.
NetworkPerfRequirement 3GPP TS 29.520 [27] Represents a network performance
requirement. NsiIdInfo 3GPP TS 29.520 [27] Represents the S-NSSAI and the
optionally associated Network Slice Instance Identifier(s). NwdafFailureCode
3GPP TS 29.520 [27] Identifies the analytics failure reason. PduSessionInfo
3GPP TS 29.520 [27] Identifies combination of PDU Session parameters
information. ProblemDetails 3GPP TS 29.122 [4] Represents error related
information. ProblemDetailsAnalyticsInfoRequest 3GPP TS 29.520 [27] Represents
an extension to the ProblemDetails data structure with additional information
on why the analytics request is rejected QosRequirement 3GPP TS 29.520 [27]
Represents QoS requirements. RatFreqInformation 3GPP TS 29.520 [27] Represents
the RAT type and/or Frequency information. ResourceUsageRequirement 3GPP TS
29.520 [27]  
RetainabilityThreshold 3GPP TS 29.520 [27] Represents a QoS flow retainability
threshold. SamplingRatio 3GPP TS 29.571 [8] Indicates Sampling Ratio.
ScheduledCommunicationTime 3GPP TS 29.122 [4] Represents an offered scheduled
communication time. ServiceExperienceInfo 3GPP TS 29.520 [27] Represents the
service experience information. Snssai 3GPP TS 29.571 [8] Represents an
S-NSSAI. SupportedFeatures 3GPP TS 29.571 [8] Used to negotiate the
applicability of the optional features. TermCause 3GPP TS 29.520 [27] Cause
for requesting the termination of a subscription. ThresholdLevel 3GPP TS
29.520 [27] Represents a threshold level. TimeWindow 3GPP TS 29.122 [4]
Represents a time window. TopApplication 3GPP TS 29.520 [27] Top application
that contributes the most to the traffic. UeCommunication 3GPP TS 29.520 [27]
Represents UE communication information. UeCommReq 3GPP TS 29.520 [27] UE
communication analytics requirement. UeMobilityReq 3GPP TS 29.520 [27] UE
mobility analytics requirement. Uinteger 3GPP TS 29.571 [8] Unsigned integer.
Uri 3GPP TS 29.571 [8] Identifies a referenced resource. UserDataCongestReq
3GPP TS 29.520 [27] The User Data Congestion requirement. UserDataConOrderCrit
3GPP TS 29.520 [27] The ordering criterion for the list of User Data
Congestion analytics. LocationArea5G 3GPP TS 29.122 [4] Represents a user
location area when the UE is attached to 5G.
* * *
#### 5.6.3.3 Structured data types
##### 5.6.3.3.1 Introduction
This clause defines the structured data types to be used in resource
representations.
##### 5.6.3.3.2 Type: AnalyticsExposureSubsc
This type represents an analytics exposure subscription. The same structure is
used in the subscription request and subscription response.
Table 5.6.3.3.2-1: Definition of type AnalyticsExposureSubsc
+-----------+-----------+---+-----------+-----------+-----------+ | Attribute | Data type | P | Ca | De | Appl | | name | | | rdinality | scription | icability | | | | | | | | | | | | | | (NOTE 1) | +-----------+-----------+---+-----------+-----------+-----------+ | analyE | array(An | M | 1..N | S | | | ventsSubs | alyticsEv | | | ubscribed | | | | entSubsc) | | | analytics | | | | | | | events. | | +-----------+-----------+---+-----------+-----------+-----------+ | ana | Re | O | 0..1 | Reporting | | | lyRepInfo | portingIn | | | re | | | | formation | | | quirement | | | | | | | in | | | | | | | formation | | | | | | | of the | | | | | | | subs | | | | | | | cription. | | | | | | | | | | | | | | If | | | | | | | omitted, | | | | | | | the | | | | | | | default | | | | | | | values | | | | | | | within | | | | | | | the | | | | | | | Re | | | | | | | portingIn | | | | | | | formation | | | | | | | data type | | | | | | | apply. | | | | | | | (NOTE 2) | | +-----------+-----------+---+-----------+-----------+-----------+ | notifUri | Uri | M | 1 | Not | | | | | | | ification | | | | | | | URI for | | | | | | | analytics | | | | | | | event | | | | | | | r | | | | | | | eporting. | | +-----------+-----------+---+-----------+-----------+-----------+ | notifId | string | M | 1 | Not | | | | | | | ification | | | | | | | Co | | | | | | | rrelation | | | | | | | ID | | | | | | | assigned | | | | | | | by the NF | | | | | | | service | | | | | | | consumer. | | +-----------+-----------+---+-----------+-----------+-----------+ | eve | array(An | C | 1..N | R | | | ntNotifis | alyticsEv | | | epresents | | | | entNotif) | | | the | | | | | | | Events to | | | | | | | be | | | | | | | reported. | | | | | | | | | | | | | | Shall | | | | | | | only be | | | | | | | present | | | | | | | if the | | | | | | | immediate | | | | | | | reporting | | | | | | | i | | | | | | | ndication | | | | | | | in the | | | | | | | \ | | | | | | | "immRep\" | | | | | | | attribute | | | | | | | within | | | | | | | the | | | | | | | \"analy | | | | | | | RepInfo\" | | | | | | | attribute | | | | | | | sets to | | | | | | | true | | | | | | | during | | | | | | | the event | | | | | | | subs | | | | | | | cription, | | | | | | | and the | | | | | | | reports | | | | | | | are | | | | | | | a | | | | | | | vailable. | | +-----------+-----------+---+-----------+-----------+-----------+ | failEve | array | O | 1..N | Supplied | | | ntReports | (Analytic | | | by the | | | | sFailureE | | | NWDAF. | | | | ventInfo) | | | | | | | | | | When | | | | | | | a | | | | | | | vailable, | | | | | | | shall | | | | | | | contain | | | | | | | the | | | | | | | event(s) | | | | | | | for which | | | | | | | the | | | | | | | sub | | | | | | | scription | | | | | | | is not | | | | | | | su | | | | | | | ccessful, | | | | | | | including | | | | | | | the | | | | | | | failure | | | | | | | r | | | | | | | eason(s). | | +-----------+-----------+---+-----------+-----------+-----------+ | suppFeat | Supporte | C | 0..1 | Indicates | | | | dFeatures | | | the list | | | | | | | of | | | | | | | Supported | | | | | | | features | | | | | | | used as | | | | | | | described | | | | | | | in | | | | | | | clau | | | | | | | se 5.6.4. | | | | | | | | | | | | | | This | | | | | | | attribute | | | | | | | shall be | | | | | | | provided | | | | | | | in the | | | | | | | POST | | | | | | | request | | | | | | | and in | | | | | | | the | | | | | | | response | | | | | | | of | | | | | | | s | | | | | | | uccessful | | | | | | | resource | | | | | | | creation, | | | | | | | or in the | | | | | | | HTTP GET | | | | | | | response | | | | | | | if the | | | | | | | \"su | | | | | | | pp-feat\" | | | | | | | attribute | | | | | | | query | | | | | | | parameter | | | | | | | is | | | | | | | included | | | | | | | in the | | | | | | | HTTP GET | | | | | | | request. | | +-----------+-----------+---+-----------+-----------+-----------+ | self | Link | C | 0..1 | I | | | | | | | dentifies | | | | | | | the | | | | | | | I | | | | | | | ndividual | | | | | | | Analytics | | | | | | | Exposure | | | | | | | Sub | | | | | | | scription | | | | | | | resource. | | | | | | | | | | | | | | Shall be | | | | | | | present | | | | | | | in the | | | | | | | HTTP GET | | | | | | | response | | | | | | | when | | | | | | | reading | | | | | | | all the | | | | | | | subs | | | | | | | criptions | | | | | | | for an | | | | | | | AF. | | +-----------+-----------+---+-----------+-----------+-----------+ | reque | boolean | O | 0..1 | Set to | Notific | | stTestNot | | | | true by | ation_te | | ification | | | | the AF to | st_event | | | | | | request | | | | | | | the NEF | | | | | | | to send a | | | | | | | test | | | | | | | not | | | | | | | ification | | | | | | | as | | | | | | | defined | | | | | | | in | | | | | | | claus | | | | | | | e 5.2.5.3 | | | | | | | of | | | | | | | 3GP | | | | | | | P TS 29.1 | | | | | | | 22 [4]. | | | | | | | Set to | | | | | | | false or | | | | | | | omitted | | | | | | | o | | | | | | | therwise. | | +-----------+-----------+---+-----------+-----------+-----------+ | websockNo | WebsockNo | O | 0..1 | Conf | Notif | | tifConfig | tifConfig | | | iguration | ication_ | | | | | | p | websocket | | | | | | arameters | | | | | | | to set up | | | | | | | not | | | | | | | ification | | | | | | | delivery | | | | | | | over | | | | | | | Websocket | | | | | | | protocol. | | +-----------+-----------+---+-----------+-----------+-----------+ | NOTE 1: | | | | | | | P | | | | | | | roperties | | | | | | | marked | | | | | | | with a | | | | | | | feature | | | | | | | as | | | | | | | defined | | | | | | | in | | | | | | | cla | | | | | | | use 5.6.4 | | | | | | | are | | | | | | | a | | | | | | | pplicable | | | | | | | as | | | | | | | described | | | | | | | in | | | | | | | cla | | | | | | | use 5.2.7 | | | | | | | of | | | | | | | 3GP | | | | | | | P TS 29.1 | | | | | | | 22 [4]. | | | | | | | If no | | | | | | | feature | | | | | | | is | | | | | | | i | | | | | | | ndicated, | | | | | | | the | | | | | | | related | | | | | | | property | | | | | | | applies | | | | | | | for all | | | | | | | the | | | | | | | features. | | | | | | | | | | | | | | NOTE 2: | | | | | | | The | | | | | | | a | | | | | | | ttributes | | | | | | | \"p | | | | | | | artitionC | | | | | | | riteria\" | | | | | | | and | | | | | | | \"no | | | | | | | tifFlag\" | | | | | | | of the | | | | | | | data type | | | | | | | Re | | | | | | | portingIn | | | | | | | formation | | | | | | | are | | | | | | | a | | | | | | | pplicable | | | | | | | only if | | | | | | | the | | | | | | | \"EneNA\" | | | | | | | feature | | | | | | | is | | | | | | | s | | | | | | | upported. | | | | | | | The | | | | | | | muting | | | | | | | ins | | | | | | | tructions | | | | | | | within | | | | | | | the | | | | | | | \"n | | | | | | | otifFlagI | | | | | | | nstruct\" | | | | | | | attribute | | | | | | | and/or | | | | | | | muting | | | | | | | noti | | | | | | | fications | | | | | | | settings | | | | | | | within | | | | | | | the | | | | | | | \"muting | | | | | | | Setting\" | | | | | | | attribute | | | | | | | are | | | | | | | a | | | | | | | pplicable | | | | | | | only if | | | | | | | the | | | | | | | En | | | | | | | hDataMgmt | | | | | | | feature | | | | | | | is | | | | | | | s | | | | | | | upported. | | | | | | +-----------+-----------+---+-----------+-----------+-----------+
##### 5.6.3.3.3 Type: AnalyticsEventNotification
Table 5.6.3.3.3-1: Definition of type AnalyticsEventNotification
* * *
Attribute name Data type P Cardinality Description Applicability notifId
string M 1 Notification Correlation ID assigned by the NF service consumer.  
analyEventNotifs array(AnalyticsEventNotif) M 1..N Represents the analytics
events to be reported according to the subscription corresponding to the
Notification Correlation ID.  
termCause TermCause O 0..1 A cause for which the NEF will send no further
notifications for this subscription. Its presence indicates that the NEF
requests the termination of the subscription. TermRequest
* * *
##### 5.6.3.3.4 Type: AnalyticsEventNotif
Table 5.6.3.3.4-1: Definition of type AnalyticsEventNotif
+-----------+-----------+---+-----------+-----------+-----------+ | Attribute | Data type | P | Ca | De | Appl | | name | | | rdinality | scription | icability | +-----------+-----------+---+-----------+-----------+-----------+ | a | Analy | M | 1 | Detected | | | nalyEvent | ticsEvent | | | analytics | | | | | | | event. | | +-----------+-----------+---+-----------+-----------+-----------+ | expiry | DateTime | O | 0..1 | Defines | | | | | | | the | | | | | | | e | | | | | | | xpiration | | | | | | | time | | | | | | | after | | | | | | | which the | | | | | | | analytics | | | | | | | in | | | | | | | formation | | | | | | | will | | | | | | | become | | | | | | | invalid. | | | | | | | (NOTE 2) | | +-----------+-----------+---+-----------+-----------+-----------+ | timeStamp | DateTime | M | 1 | Time at | | | | | | | which the | | | | | | | event is | | | | | | | observed. | | +-----------+-----------+---+-----------+-----------+-----------+ | failN | An | C | 0..1 | I | EneNA | | otifyCode | alyticsFa | | | dentifies | | | | ilureCode | | | the | | | | | | | failure | | | | | | | reason | | | | | | | for the | | | | | | | event | | | | | | | noti | | | | | | | fication. | | | | | | | | | | | | | | It shall | | | | | | | only be | | | | | | | included | | | | | | | if the | | | | | | | event | | | | | | | not | | | | | | | ification | | | | | | | is failed | | | | | | | or the | | | | | | | analytics | | | | | | | in | | | | | | | formation | | | | | | | is not | | | | | | | ready. | | | | | | | (NOTE 1) | | +-----------+-----------+---+-----------+-----------+-----------+ | r | Du | O | 0..1 | Indicates | EneNA | | vWaitTime | rationSec | | | a | | | | | | | re | | | | | | | commended | | | | | | | time | | | | | | | interval | | | | | | | (in | | | | | | | seconds) | | | | | | | which is | | | | | | | used to | | | | | | | determine | | | | | | | the time | | | | | | | when | | | | | | | analytics | | | | | | | in | | | | | | | formation | | | | | | | is needed | | | | | | | in | | | | | | | similar | | | | | | | future | | | | | | | event | | | | | | | subsc | | | | | | | riptions. | | | | | | | It may | | | | | | | only be | | | | | | | included | | | | | | | if the | | | | | | | \"failNot | | | | | | | ifyCode\" | | | | | | | attribute | | | | | | | sets to | | | | | | | \"UNSATI | | | | | | | SFIED_RE | | | | | | | QUESTED_ | | | | | | | ANALYTICS | | | | | | | _TIME\". | | +-----------+-----------+---+-----------+-----------+-----------+ | ueMobi | array(U | C | 1..N | Contains | Ue\ | | lityInfos | eMobility | | | the UE | _Mobility | | | Exposure) | | | mobility | | | | | | | inf | | | | | | | ormation. | | | | | | | | | | | | | | Shall be | | | | | | | present | | | | | | | if the | | | | | | | \"ana | | | | | | | lyEvent\" | | | | | | | attribute | | | | | | | sets to | | | | | | | \"UE_MO | | | | | | | BILITY\". | | +-----------+-----------+---+-----------+-----------+-----------+ | ue | arra | C | 1..N | Contains | Ue_Comm | | CommInfos | y(UeCommu | | | the | unication | | | nication) | | | ap | | | | | | | plication | | | | | | | comm | | | | | | | unication | | | | | | | inf | | | | | | | ormation. | | | | | | | | | | | | | | Shall be | | | | | | | present | | | | | | | if the | | | | | | | \"ana | | | | | | | lyEvent\" | | | | | | | attribute | | | | | | | sets to | | | | | | | \"UE | | | | | | | _COMM\". | | | | | | | | | | | | | | (NOTE 5) | | +-----------+-----------+---+-----------+-----------+-----------+ | abno | array | C | 1..N | Contains | Abnormal\ | | rmalInfos | (Abnormal | | | the | _Behavior | | | Exposure) | | | user\'s | | | | | | | abnormal | | | | | | | behavior | | | | | | | inf | | | | | | | ormation. | | | | | | | | | | | | | | Shall be | | | | | | | present | | | | | | | if the | | | | | | | \"ana | | | | | | | lyEvent\" | | | | | | | attribute | | | | | | | sets to | | | | | | | \"ABN | | | | | | | ORMAL_BE | | | | | | | HAVIOR\". | | +-----------+-----------+---+-----------+-----------+-----------+ | con | array(Con | C | 1..N | Contains | C | | gestInfos | gestInfo) | | | the UE\'s | ongestion | | | | | | user data | | | | | | | c | | | | | | | ongestion | | | | | | | inf | | | | | | | ormation. | | | | | | | | | | | | | | Shall be | | | | | | | present | | | | | | | if the | | | | | | | \"ana | | | | | | | lyEvent\" | | | | | | | attribute | | | | | | | sets to | | | | | | | \"CONG | | | | | | | ESTION\". | | +-----------+-----------+---+-----------+-----------+-----------+ | nw | array(Ne | C | 1..N | Contains | Ne | | PerfInfos | tworkPerf | | | the | twork_Pe | | | Exposure) | | | network | rformance | | | | | | pe | | | | | | | rformance | | | | | | | inf | | | | | | | ormation. | | | | | | | | | | | | | | Shall be | | | | | | | present | | | | | | | if the | | | | | | | \"ana | | | | | | | lyEvent\" | | | | | | | attribute | | | | | | | is set to | | | | | | | \"NETWO | | | | | | | RK_PERFO | | | | | | | RMANCE\". | | +-----------+-----------+---+-----------+-----------+-----------+ | qosSus | array | C | 1..N | Contains | Q | | tainInfos | (QosSusta | | | the QoS | oS_Susta | | | inability | | | susta | inability | | | Exposure) | | | inability | | | | | | | inf | | | | | | | ormation. | | | | | | | | | | | | | | Shall be | | | | | | | present | | | | | | | if the | | | | | | | \"ana | | | | | | | lyEvent\" | | | | | | | attribute | | | | | | | is set to | | | | | | | \"QOS\ | | | | | | | _SUSTAINA | | | | | | | BILITY\". | | +-----------+-----------+---+-----------+-----------+-----------+ | di | arr | C | 1..N | Contains | D | | sperInfos | ay(Disper | | | the | ispersion | | | sionInfo) | | | D | | | | | | | ispersion | | | | | | | inf | | | | | | | ormation. | | | | | | | | | | | | | | Shall be | | | | | | | present | | | | | | | if the | | | | | | | \"ana | | | | | | | lyEvent\" | | | | | | | attribute | | | | | | | is set to | | | | | | | \"DISP | | | | | | | ERSION\". | | +-----------+-----------+---+-----------+-----------+-----------+ | dn | array(Dn | C | 1..N | Contains | DnPe | | PerfInfos | PerfInfo) | | | the DN | rformance | | | | | | pe | | | | | | | rformance | | | | | | | inf | | | | | | | ormation. | | | | | | | | | | | | | | Shall be | | | | | | | present | | | | | | | if the | | | | | | | \"ana | | | | | | | lyEvent\" | | | | | | | attribute | | | | | | | is set to | | | | | | | \" | | | | | | | DN_PERFO | | | | | | | RMANCE\". | | | | | | | | | | | | | | (NOTE 4) | | +-----------+-----------+---+-----------+-----------+-----------+ | svcExps | a | C | 1..N | Contains | ServiceE | | | rray(Serv | | | the | xperience | | | iceExperi | | | service | | | | enceInfo) | | | e | | | | | | | xperience | | | | | | | inf | | | | | | | ormation. | | | | | | | | | | | | | | Shall be | | | | | | | present | | | | | | | if the | | | | | | | "an | | | | | | | alyEvent" | | | | | | | attribute | | | | | | | is set to | | | | | | | \"SERV | | | | | | | ICE_EXPE | | | | | | | RIENCE\". | | +-----------+-----------+---+-----------+-----------+-----------+ | tim | DateTime | O | 0..1 | It | EneNA | | eStampGen | | | | defines | | | | | | | the | | | | | | | timestamp | | | | | | | of | | | | | | | analytics | | | | | | | ge | | | | | | | neration. | | +-----------+-----------+---+-----------+-----------+-----------+ | start | DateTime | O | 0..1 | It | EneNA | | | | | | defines | | | | | | | the start | | | | | | | time of | | | | | | | which the | | | | | | | analytics | | | | | | | in | | | | | | | formation | | | | | | | will | | | | | | | become | | | | | | | valid. | | | | | | | (NOTE 2) | | +-----------+-----------+---+-----------+-----------+-----------+ | locArea | Locat | O | 0..1 | Ident | Abnormal | | | ionArea5G | | | ification | _Behavio | | | | | | of | rExt_eNA | | | | | | loc | | | | | | | ationarea | DnP | | | | | | to which | erformanc | | | | | | the | eExt_eNA | | | | | | not | | | | | | | ification | Service | | | | | | applies | Experienc | | | | | | within | eExt_eNA | | | | | | the | | | | | | | s | UeCom | | | | | | ubscribed | municatio | | | | | | location | nExt_eNA | | | | | | area. | | | | | | | | E | | | | | | (NOTE 3) | 2eDataVol | | | | | | | TransTime | +-----------+-----------+---+-----------+-----------+-----------+ | dataVl | arr | C | 1..N | E2E data | E | | TrnsTmIfs | ay(E2eDat | | | volume | 2eDataVol | | | aVolTrans | | | transfer | TransTime | | | TimeInfo) | | | time | | | | | | | inf | | | | | | | ormation. | | | | | | | | | | | | | | Shall be | | | | | | | present | | | | | | | if the | | | | | | | s | | | | | | | ubscribed | | | | | | | event is | | | | | | | \"E2E | | | | | | | _DATA_V | | | | | | | OL_TRANS | | | | | | | _TIME\". | | +-----------+-----------+---+-----------+-----------+-----------+ | movB | a | C | 1..N | The | Movement | | ehavInfos | rray(MovB | | | Movement | Behaviour | | | ehavInfo) | | | Behaviour | | | | | | | inf | | | | | | | ormation. | | | | | | | | | | | | | | Shall be | | | | | | | present f | | | | | | | the | | | | | | | "an | | | | | | | alyEvent" | | | | | | | attribute | | | | | | | is set to | | | | | | | \"MOVE | | | | | | | MENT_BEH | | | | | | | AVIOUR\". | | +-----------+-----------+---+-----------+-----------+-----------+ | pauseInd | boolean | O | 0..1 | Pause | Analytic | | | | | | analytics | sAccuracy | | | | | | co | | | | | | | nsumption | | | | | | | i | | | | | | | ndication | | | | | | | a | | | | | | | pplicable | | | | | | | on | | | | | | | analytics | | | | | | | ID level. | | | | | | | et to | | | | | | | \"true\" | | | | | | | to | | | | | | | indicate | | | | | | | the | | | | | | | consumer | | | | | | | to stop | | | | | | | the | | | | | | | co | | | | | | | nsumption | | | | | | | of the | | | | | | | analytics | | | | | | | because | | | | | | | the | | | | | | | accuracy | | | | | | | level | | | | | | | needs to | | | | | | | be | | | | | | | i | | | | | | | ncreased. | | | | | | | | | | | | | | Default | | | | | | | value is | | | | | | | \"false\" | | | | | | | if | | | | | | | omitted. | | +-----------+-----------+---+-----------+-----------+-----------+ | resumeInd | boolean | O | 0..1 | Resume | Analytic | | | | | | analytics | sAccuracy | | | | | | co | | | | | | | nsumption | | | | | | | i | | | | | | | ndication | | | | | | | a | | | | | | | pplicable | | | | | | | on | | | | | | | analytics | | | | | | | ID level. | | | | | | | Set to | | | | | | | \"true\" | | | | | | | to | | | | | | | indicate | | | | | | | the | | | | | | | consumer | | | | | | | to resume | | | | | | | the | | | | | | | co | | | | | | | nsumption | | | | | | | of the | | | | | | | analytics | | | | | | | because | | | | | | | the | | | | | | | accuracy | | | | | | | has been | | | | | | | improved. | | | | | | | | | | | | | | Default | | | | | | | value is | | | | | | | \"false\" | | | | | | | if | | | | | | | omitted. | | +-----------+-----------+---+-----------+-----------+-----------+ | NOTE 1: | | | | | | | The | | | | | | | values of | | | | | | | \"U | | | | | | | NAVAILABL | | | | | | | E_DATA\" | | | | | | | and | | | | | | | \"BOTH\ | | | | | | | _STAT_PR | | | | | | | ED_NOT_ | | | | | | | ALLOWED\" | | | | | | | of the | | | | | | | An | | | | | | | alyticsFa | | | | | | | ilureCode | | | | | | | data type | | | | | | | are not | | | | | | | a | | | | | | | pplicable | | | | | | | for the | | | | | | | \"failNot | | | | | | | ifyCode\" | | | | | | | a | | | | | | | ttribute. | | | | | | | | | | | | | | NOTE 2: | | | | | | | If the | | | | | | | \"start\" | | | | | | | attribute | | | | | | | and the | | | | | | | \ | | | | | | | "expiry\" | | | | | | | attribute | | | | | | | are both | | | | | | | provided, | | | | | | | the | | | | | | | DateTime | | | | | | | of the | | | | | | | \ | | | | | | | "expiry\" | | | | | | | attribute | | | | | | | shall not | | | | | | | be | | | | | | | earlier | | | | | | | than the | | | | | | | DateTime | | | | | | | of the | | | | | | | \"start\" | | | | | | | a | | | | | | | ttribute. | | | | | | | | | | | | | | NOTE 3: | | | | | | | The | | | | | | | Networ | | | | | | | kAreaInfo | | | | | | | data type | | | | | | | within | | | | | | | the | | | | | | | \" | | | | | | | locArea\" | | | | | | | attribute | | | | | | | is not | | | | | | | a | | | | | | | pplicable | | | | | | | for the | | | | | | | untrusted | | | | | | | AF unless | | | | | | | the | | | | | | | corr | | | | | | | esponding | | | | | | | SLA is | | | | | | | agreed | | | | | | | between | | | | | | | the | | | | | | | operator | | | | | | | and | | | | | | | ap | | | | | | | plication | | | | | | | provider. | | | | | | | The NEF | | | | | | | may | | | | | | | translate | | | | | | | the | | | | | | | network | | | | | | | area | | | | | | | in | | | | | | | formation | | | | | | | (received | | | | | | | from the | | | | | | | NWDAF, | | | | | | | e.g. for | | | | | | | \"ABN | | | | | | | ORMAL_BE | | | | | | | HAVIOR\", | | | | | | | \" | | | | | | | DN_PERFO | | | | | | | RMANCE\", | | | | | | | \"SERV | | | | | | | ICE_EXPE | | | | | | | RIENCE\", | | | | | | | or | | | | | | | \"U | | | | | | | E_COMM\" | | | | | | | event) to | | | | | | | an | | | | | | | external | | | | | | | repre | | | | | | | sentation | | | | | | | of the | | | | | | | area, | | | | | | | which is | | | | | | | provided | | | | | | | within | | | | | | | the | | | | | | | \" | | | | | | | locArea\" | | | | | | | a | | | | | | | ttribute. | | | | | | | | | | | | | | NOTE 4: | | | | | | | The | | | | | | | \ | | | | | | | "minTraff | | | | | | | icRate\", | | | | | | | \ | | | | | | | "aggTraff | | | | | | | icRate\", | | | | | | | \ | | | | | | | "varTraff | | | | | | | icRate\", | | | | | | | \"trafRat | | | | | | | eUeIds\", | | | | | | | \ | | | | | | | "avePacke | | | | | | | tDelay\", | | | | | | | \ | | | | | | | "maxPacke | | | | | | | tDelay\", | | | | | | | \ | | | | | | | "varPacke | | | | | | | tDelay\", | | | | | | | \ | | | | | | | "packDela | | | | | | | yUeIds\", | | | | | | | \"ma | | | | | | | xPacketLo | | | | | | | ssRate\", | | | | | | | \"v | | | | | | | arPacketL | | | | | | | ossRate\" | | | | | | | and | | | | | | | \ | | | | | | | "packetLo | | | | | | | ssUeIds\" | | | | | | | att | | | | | | | ribute(s) | | | | | | | within | | | | | | | the | | | | | | | D | | | | | | | nPerfInfo | | | | | | | data type | | | | | | | is | | | | | | | a | | | | | | | pplicable | | | | | | | only if | | | | | | | the | | | | | | | \"DnPer | | | | | | | formanceE | | | | | | | xt_AIML" | | | | | | | feature | | | | | | | is | | | | | | | s | | | | | | | upported. | | | | | | | | | | | | | | NOTE 5: | | | | | | | If the | | | | | | | \"Ue | | | | | | | MobilityE | | | | | | | xt_eNA\" | | | | | | | feature | | | | | | | is | | | | | | | supported | | | | | | | and the | | | | | | | \ | | | | | | | "location | | | | | | | GranReq\" | | | | | | | attribute | | | | | | | value | | | | | | | \"LON\ | | | | | | | _AND_LAT | | | | | | | _LEVEL\" | | | | | | | is | | | | | | | su | | | | | | | bscribed, | | | | | | | the | | | | | | | \ | | | | | | | "geoLoc\" | | | | | | | attribute | | | | | | | within | | | | | | | the | | | | | | | \"UeM | | | | | | | obility\" | | | | | | | type may | | | | | | | be | | | | | | | provided | | | | | | | to report | | | | | | | the | | | | | | | geo | | | | | | | graphical | | | | | | | location | | | | | | | ( | | | | | | | longitude | | | | | | | and | | | | | | | latitude | | | | | | | level). | | | | | | +-----------+-----------+---+-----------+-----------+-----------+
##### 5.6.3.3.5 Type: AnalyticsEventSubsc
Table 5.6.3.3.5-1: Definition of type AnalyticsEventSubsc
* * *
Attribute name Data type P Cardinality Description Applicability analyEvent
AnalyticsEvent M 1 Requested analytics event.  
analyEventFilter AnalyticsEventFilterSubsc O 0..1 Represents analytics event
filter. (NOTE) tgtUe TargetUeId O 0..1 Identifies target UE information (NOTE)
NOTE: Applicability is further described in the corresponding data type.
* * *
##### 5.6.3.3.6 Type: AnalyticsEventFilterSubsc
Table 5.6.3.3.6-1: Definition of type AnalyticsEventFilterSubsc
+-----------+-----------+---+-----------+-----------+-----------+ | Attribute | Data type | P | Ca | De | Appl | | name | | | rdinality | scription | icability | +-----------+-----------+---+-----------+-----------+-----------+ | locArea | Locat | O | 0..1 | Ident | Abnormal\ | | | ionArea5G | | | ification | _Behavior | | | | | | of | | | | | | | network | C | | | | | | area to | ongestion | | | | | | which the | | | | | | | sub | Ue_Comm | | | | | | scription | unication | | | | | | applies. | | | | | | | | Ue\ | | | | | | (NOTE 1) | _Mobility | | | | | | (NOTE 7) | | | | | | | (NOTE 14) | Q | | | | | | | oS_Susta | | | | | | | inability | | | | | | | | | | | | | | Ne | | | | | | | twork_Pe | | | | | | | rformance | | | | | | | | | | | | | | D | | | | | | | ispersion | | | | | | | | | | | | | | DnPe | | | | | | | rformance | | | | | | | | | | | | | | ServiceE | | | | | | | xperience | | | | | | | | | | | | | | E | | | | | | | 2eDataVol | | | | | | | TransTime | | | | | | | | | | | | | | Movement | | | | | | | Behaviour | +-----------+-----------+---+-----------+-----------+-----------+ | fine | array | O | 1..N | Indicates | Service | | GranAreas | (Geograph | | | the fine | Experienc | | | icalArea) | | | gr | eExt_eNA | | | | | | anularity | | | | | | | areas to | Ue | | | | | | which the | _Mobilit | | | | | | sub | yExt_eNA | | | | | | scription | | | | | | | applies. | QoS_Sust | | | | | | (i.e. | ainabilit | | | | | | with a | yExt_eNA | | | | | | finer | | | | | | | gr | | | | | | | anularity | | | | | | | than | | | | | | | cell). | | | | | | | | | | | | | | (NOTE 1, | | | | | | | NOTE 14) | | +-----------+-----------+---+-----------+-----------+-----------+ | dnn | Dnn | O | 0..1 | I | Ue_Comm | | | | | | dentifies | unication | | | | | | the DNN. | | | | | | | (NOTE 7) | Abnormal\ | | | | | | | _Behavior | | | | | | | | | | | | | | ServiceE | | | | | | | xperience | | | | | | | | | | | | | | DnPe | | | | | | | rformance | +-----------+-----------+---+-----------+-----------+-----------+ | dnns | a | O | 1..N | I | UeCom | | | rray(Dnn) | | | dentifies | municatio | | | | | | the | nExt_eNA | | | | | | DNN(s) to | | | | | | | which the | Abnormal | | | | | | sub | _Behavio | | | | | | scription | rExt_eNA | | | | | | applies. | | | | | | | (NOTE 7) | Se | | | | | | | rviceExpe | | | | | | | rience**E | | | | | | | xt_eNA** | | | | | | | | | | | | | | DnPerfo | | | | | | | rmance**E | | | | | | | xt_eNA** | | | | | | | | | | | | | | E | | | | | | | 2eDataVol | | | | | | | TransTime | +-----------+-----------+---+-----------+-----------+-----------+ | dnais | ar | O | 1..N | Identifi | DnPe | | | ray(Dnai) | | | cation(s) | rformance | | | | | | of user | | | | | | | plane | ServiceE | | | | | | access to | xperience | | | | | | DN(s) | | | | | | | which the | E | | | | | | sub | 2eDataVol | | | | | | scription | TransTime | | | | | | applies. | | +-----------+-----------+---+-----------+-----------+-----------+ | appIds | ar | O | 1..N | Each | Abnormal\ | | | ray(Appli | | | element | _Behavior | | | cationId) | | | i | | | | | | | dentifies | Ue_Comm | | | | | | an | unication | | | | | | app | | | | | | | lication. | D | | | | | | (NOTE 7) | ispersion | | | | | | (NOTE 13) | | | | | | | | DnPe | | | | | | | rformance | | | | | | | | | | | | | | ServiceE | | | | | | | xperience | | | | | | | | | | | | | | E | | | | | | | 2eDataVol | | | | | | | TransTime | +-----------+-----------+---+-----------+-----------+-----------+ | dataVl | ar | O | 1..N | R | E | | TrnsTmRqs | ray(e2eDa | | | epresents | 2eDataVol | | | taVolTran | | | the E2E | TransTime | | | sTimeReq) | | | data | | | | | | | volume | | | | | | | transfer | | | | | | | time | | | | | | | req | | | | | | | uirements | | +-----------+-----------+---+-----------+-----------+-----------+ | e | array(E | O | 1..N | R | Abnormal\ | | xcepRequs | xception) | | | epresents | _Behavior | | | | | | a list of | | | | | | | Exception | | | | | | | Ids with | | | | | | | a | | | | | | | ssociated | | | | | | | th | | | | | | | resholds. | | | | | | | | | | | | | | (NOTE 2, | | | | | | | NOTE 3) | | +-----------+-----------+---+-----------+-----------+-----------+ | ex | Exp | O | 0..1 | R | Abnormal\ | | ptAnaType | ectedAnal | | | epresents | _Behavior | | | yticsType | | | expected | | | | | | | UE | | | | | | | analytics | | | | | | | type. | | | | | | | | | | | | | | (NOTE 3) | | +-----------+-----------+---+-----------+-----------+-----------+ | ex | Expec | O | 0..1 | R | Abnormal\ | | ptUeBehav | tedUeBeha | | | epresents | _Behavior | | | viourData | | | expected | | | | | | | UE | | | | | | | b | | | | | | | ehaviour. | | +-----------+-----------+---+-----------+-----------+-----------+ | ma | Matching | O | 0..1 | A | Q | | tchingDir | Direction | | | matching | oS_Susta | | | | | | direction | inability | | | | | | may be | | | | | | | provided | Co | | | | | | alongside | ngestion, | | | | | | a | | | | | | | t | Ne | | | | | | hreshold. | twork_Pe | | | | | | If | rformance | | | | | | omitted, | | | | | | | the | | | | | | | default | | | | | | | value is | | | | | | | CROSSED. | | +-----------+-----------+---+-----------+-----------+-----------+ | reptThlds | arr | O | 1..N | R | C | | | ay(Thresh | | | epresents | ongestion | | | oldLevel) | | | the | | | | | | | levels to | | | | | | | be | | | | | | | reached | | | | | | | in order | | | | | | | to be | | | | | | | notified | | | | | | | by the | | | | | | | NEF. | | | | | | | | | | | | | | (NOTE 4) | | +-----------+-----------+---+-----------+-----------+-----------+ | n | ar | C | 1..N | R | Ne | | wPerfReqs | ray(Netwo | | | epresents | twork_Pe | | | rkPerfReq | | | the | rformance | | | uirement) | | | network | | | | | | | pe | | | | | | | rformance | | | | | | | requ | | | | | | | irements. | | | | | | | This | | | | | | | attribute | | | | | | | shall be | | | | | | | included | | | | | | | when | | | | | | | s | | | | | | | ubscribed | | | | | | | event is | | | | | | | \"NETWO | | | | | | | RK_PERFO | | | | | | | RMANCE\". | | +-----------+-----------+---+-----------+-----------+-----------+ | snssai | Snssai | O | 0..1 | I | UeComm | | | | | | dentifies | unication | | | | | | the | | | | | | | network | Q | | | | | | slice | oS_Susta | | | | | | inf | inability | | | | | | ormation. | | | | | | | (NOTE 7) | Abnormal\ | | | | | | | _Behavior | | | | | | | | | | | | | | C | | | | | | | ongestion | | | | | | | | | | | | | | D | | | | | | | ispersion | | | | | | | | | | | | | | ServiceE | | | | | | | xperience | | | | | | | | | | | | | | DnPe | | | | | | | rformance | +-----------+-----------+---+-----------+-----------+-----------+ | snssais | arra | O | 1..N | I | Ue | | | y(Snssai) | | | dentifies | _Communi | | | | | | the | cation**E | | | | | | network | xt_eNA** | | | | | | slice | | | | | | | inf | QoS\ | | | | | | ormation. | _Sustaina | | | | | | (NOTE 7) | bility**E | | | | | | | xt_eNA** | | | | | | | | | | | | | | Abn | | | | | | | ormal_Be | | | | | | | havior**E | | | | | | | xt_eNA** | | | | | | | | | | | | | | Cong | | | | | | | estion**E | | | | | | | xt_eNA** | | | | | | | | | | | | | | Disp | | | | | | | ersion**E | | | | | | | xt_eNA** | | | | | | | Se | | | | | | | rviceExpe | | | | | | | rience**E | | | | | | | xt_eNA** | | | | | | | | | | | | | | DnPerfo | | | | | | | rmance**E | | | | | | | xt_eNA** | | | | | | | | | | | | | | E | | | | | | | 2eDataVol | | | | | | | TransTime | +-----------+-----------+---+-----------+-----------+-----------+ | n | array(N | O | 1..N | Each | ServiceE | | siIdInfos | siIdInfo) | | | element | xperience | | | | | | i | | | | | | | dentifies | DnPe | | | | | | the | rformance | | | | | | S-NSSAI | | | | | | | and the | | | | | | | o | | | | | | | ptionally | | | | | | | a | | | | | | | ssociated | | | | | | | network | | | | | | | slice | | | | | | | ins | | | | | | | tance(s). | | | | | | | | | | | | | | May be | | | | | | | included | | | | | | | when | | | | | | | s | | | | | | | ubscribed | | | | | | | event is | | | | | | | \"SER | | | | | | | VICE_EXP | | | | | | | ERIENCE\" | | | | | | | or | | | | | | | \" | | | | | | | DN_PERFO | | | | | | | RMANCE\". | | +-----------+-----------+---+-----------+-----------+-----------+ | qosReq | QosRe | C | 0..1 | R | Q | | | quirement | | | epresents | oS_Susta | | | | | | the QoS | inability | | | | | | requ | | | | | | | irements. | E | | | | | | This | 2eDataVol | | | | | | attribute | TransTime | | | | | | shall be | | | | | | | included | | | | | | | when | | | | | | | s | | | | | | | ubscribed | | | | | | | event is | | | | | | | \"QOS\ | | | | | | | _SUSTAINA | | | | | | | BILITY\". | | +-----------+-----------+---+-----------+-----------+-----------+ | qosFl | ar | C | 1..N | R | Q | | owRetThds | ray(Retai | | | epresents | oS_Susta | | | nabilityT | | | the QoS | inability | | | hreshold) | | | flow | | | | | | | reta | | | | | | | inability | | | | | | | th | | | | | | | resholds, | | | | | | | | | | | | | | Shall be | | | | | | | supplied | | | | | | | for the | | | | | | | 5QI of | | | | | | | GBR | | | | | | | resource | | | | | | | type. | | | | | | | (NOTE 5) | | +-----------+-----------+---+-----------+-----------+-----------+ | ranUe | array | C | 1..N | R | Q | | ThrouThds | (BitRate) | | | epresents | oS_Susta | | | | | | the RAN | inability | | | | | | UE | | | | | | | t | | | | | | | hroughput | | | | | | | th | | | | | | | resholds. | | | | | | | | | | | | | | Shall be | | | | | | | supplied | | | | | | | for the | | | | | | | 5QI of | | | | | | | non-GBR | | | | | | | resource | | | | | | | type. | | | | | | | (NOTE 5) | | +-----------+-----------+---+-----------+-----------+-----------+ | d | a | O | 1..N | R | D | | isperReqs | rray(Disp | | | epresents | ispersion | | | ersionReq | | | the | | | | uirement) | | | d | | | | | | | ispersion | | | | | | | analytics | | | | | | | requ | | | | | | | irements. | | +-----------+-----------+---+-----------+-----------+-----------+ | d | array | O | 1..N | R | DnPe | | nPerfReqs | (DnPerfor | | | epresents | rformance | | | manceReq) | | | the DN | | | | | | | pe | | | | | | | rformance | | | | | | | analytics | | | | | | | requ | | | | | | | irements. | | +-----------+-----------+---+-----------+-----------+-----------+ | bwRequs | ar | O | 1..N | R | ServiceE | | | ray(BwReq | | | epresents | xperience | | | uirement) | | | the | | | | | | | bandwidth | | | | | | | re | | | | | | | quirement | | | | | | | for each | | | | | | | app | | | | | | | lication. | | +-----------+-----------+---+-----------+-----------+-----------+ | ratFreqs | array(R | O | 1..N | Identifi | ServiceE | | | atFreqInf | | | cation(s) | xperience | | | ormation) | | | of the | | | | | | | RAT type | | | | | | | and/or | | | | | | | fr | | | | | | | equencies | | | | | | | of UE's | | | | | | | serving | | | | | | | cell(s) | | | | | | | which the | | | | | | | subs | | | | | | | criptiont | | | | | | | applies. | | | | | | | (NOTE 8) | | +-----------+-----------+---+-----------+-----------+-----------+ | appSe | array( | C | 1..N | Each of | ServiceE | | rverAddrs | AddrFqdn) | | | the | xperience | | | | | | element | | | | | | | r | DnPe | | | | | | epresents | rformance | | | | | | the | | | | | | | Ap | | | | | | | plication | | | | | | | Server | | | | | | | Instance | | | | | | | (IP | | | | | | | add | | | | | | | ress/FQDN | | | | | | | of the | | | | | | | Ap | | | | | | | plication | | | | | | | Server) | | | | | | | (NOTE 9) | | +-----------+-----------+---+-----------+-----------+-----------+ | listOfA | arra | O | 1..N | The list | EneNA | | naSubsets | y(Analyti | | | of | | | | csSubset) | | | analytics | | | | | | | subsets | | | | | | | can be | | | | | | | used to | | | | | | | indicate | | | | | | | the | | | | | | | content | | | | | | | of the | | | | | | | a | | | | | | | nalytics. | | | | | | | (NOTE 12) | | +-----------+-----------+---+-----------+-----------+-----------+ | extra | EventRe | O | 0..1 | The extra | | | ReportReq | portingRe | | | event | | | | quirement | | | reporting | | | | | | | re | | | | | | | quirement | | | | | | | inf | | | | | | | ormation. | | | | | | | (NOTE 6) | | +-----------+-----------+---+-----------+-----------+-----------+ | maxNumO | Uinteger | O | 0..1 | Indicates | Cong | | fTopAppUl | | | | the | estionExt | | | | | | requested | | | | | | | maximum | | | | | | | number of | | | | | | | top | | | | | | | app | | | | | | | lications | | | | | | | that | | | | | | | c | | | | | | | ontribute | | | | | | | the most | | | | | | | to the | | | | | | | traffic | | | | | | | in Uplink | | | | | | | d | | | | | | | irection. | | | | | | | | | | | | | | Minimum = | | | | | | | 1. | | | | | | | | | | | | | | May be | | | | | | | included | | | | | | | when one | | | | | | | of the | | | | | | | element | | | | | | | in the | | | | | | | \" | | | | | | | listOfAna | | | | | | | Subsets\" | | | | | | | attribute | | | | | | | is set to | | | | | | | LIST\ | | | | | | | _OF_TOP\ | | | | | | | _APP_UL. | | +-----------+-----------+---+-----------+-----------+-----------+ | maxNumO | Uinteger | O | 0..1 | Indicates | Cong | | fTopAppDl | | | | the | estionExt | | | | | | requested | | | | | | | maximum | | | | | | | number of | | | | | | | top | | | | | | | app | | | | | | | lications | | | | | | | that | | | | | | | c | | | | | | | ontribute | | | | | | | the most | | | | | | | to the | | | | | | | traffic | | | | | | | in | | | | | | | Downlink | | | | | | | d | | | | | | | irection. | | | | | | | | | | | | | | Minimum = | | | | | | | 1. | | | | | | | | | | | | | | May be | | | | | | | included | | | | | | | when one | | | | | | | of the | | | | | | | element | | | | | | | in the | | | | | | | \" | | | | | | | listOfAna | | | | | | | Subsets\" | | | | | | | attribute | | | | | | | is set to | | | | | | | LIST\ | | | | | | | _OF_TOP\ | | | | | | | _APP_DL. | | +-----------+-----------+---+-----------+-----------+-----------+ | visite | arr | O | 1..N | Identi | Ue\ | | dLocAreas | ay(Locati | | | fications | _Mobility | | | onArea5G) | | | of | | | | | | | network | | | | | | | areas | | | | | | | which the | | | | | | | UEs had | | | | | | | p | | | | | | | reviously | | | | | | | been in | | | | | | | at least | | | | | | | one of | | | | | | | the | | | | | | | Visited | | | | | | | Area(s) | | | | | | | of | | | | | | | Interest. | | | | | | | | | | | | | | (NOTE 10) | | +-----------+-----------+---+-----------+-----------+-----------+ | u | array(U | O | 1..N | R | UeCom | | eCommReqs | eCommReq) | | | epresents | municatio | | | | | | the UE | nExt_eNA | | | | | | comm | | | | | | | unication | | | | | | | requ | | | | | | | irements. | | | | | | | This | | | | | | | attribute | | | | | | | may be | | | | | | | included | | | | | | | when the | | | | | | | s | | | | | | | ubscribed | | | | | | | event is | | | | | | | \"UE | | | | | | | _COMM\". | | +-----------+-----------+---+-----------+-----------+-----------+ | u | Us | O | 0..1 | The | Congestio | | serDataCo | erDataCon | | | ordering | nExt_eNA | | nOrderCri | OrderCrit | | | criterion | | | | | | | for the | | | | | | | list of | | | | | | | User Data | | | | | | | C | | | | | | | ongestion | | | | | | | a | | | | | | | nalytics. | | | | | | | (NOTE 11) | | +-----------+-----------+---+-----------+-----------+-----------+ | locGr | LocInfoGr | O | 0..1 | The | Service | | anularity | anularity | | | preferred | Experienc | | | | | | gr | eExt_eNA | | | | | | anularity | | | | | | | of UE | Ue | | | | | | location | _Mobilit | | | | | | inf | yExt_eNA | | | | | | ormation. | | | | | | | | Dispersio | | | | | | | nExt_eNA | +-----------+-----------+---+-----------+-----------+-----------+ | locOr | L | O | 0..1 | Indicates | Ue | | ientation | ocationOr | | | the | _Mobilit | | | ientation | | | preferred | yExt_eNA | | | | | | or | | | | | | | ientation | Movement | | | | | | of | Behaviour | | | | | | location | | | | | | | inf | | | | | | | ormation. | | +-----------+-----------+---+-----------+-----------+-----------+ | ueMob | ar | O | 1..N | R | Ue | | ilityReqs | ray(UeMob | | | epresents | _Mobilit | | | ilityReq) | | | the UE | yExt_eNA | | | | | | mobility | | | | | | | requ | | | | | | | irements. | | | | | | | This | | | | | | | attribute | | | | | | | may be | | | | | | | included | | | | | | | when the | | | | | | | s | | | | | | | ubscribed | | | | | | | event is | | | | | | | \"UE_MO | | | | | | | BILITY\". | | +-----------+-----------+---+-----------+-----------+-----------+ | mov | array(Mov | O | 1..N | R | Movement | | BehavReqs | BehavReq) | | | epresents | Behaviour | | | | | | the | | | | | | | Movement | | | | | | | Behaviour | | | | | | | analytics | | | | | | | requ | | | | | | | irements. | | +-----------+-----------+---+-----------+-----------+-----------+ | pd | arr | O | 1..N | R | Service | | uSesInfos | ay(PduSes | | | epresents | Experienc | | | sionInfo) | | | co | eExt_eNA | | | | | | mbination | | | | | | | of PDU | | | | | | | Session | | | | | | | p | | | | | | | arameters | | | | | | | inf | | | | | | | ormation. | | | | | | | (NOTE 13) | | +-----------+-----------+---+-----------+-----------+-----------+ | u | string | O | 0..1 | Indicates | ENAExt | | seCaseCxt | | | | the | | | | | | | context | | | | | | | of usage | | | | | | | of the | | | | | | | a | | | | | | | nalytics. | | | | | | | | | | | | | | The value | | | | | | | and | | | | | | | format of | | | | | | | this | | | | | | | parameter | | | | | | | are not | | | | | | | stan | | | | | | | dardized. | | +-----------+-----------+---+-----------+-----------+-----------+ | pauseFlg | boolean | O | 0..1 | Pause | Analytic | | | | | | analytics | sAccuracy | | | | | | co | | | | | | | nsumption | | | | | | | flag and | | | | | | | is | | | | | | | a | | | | | | | pplicable | | | | | | | on | | | | | | | analytics | | | | | | | ID level. | | | | | | | Set to | | | | | | | \"true\" | | | | | | | to | | | | | | | indicate | | | | | | | the NWDAF | | | | | | | to stop | | | | | | | including | | | | | | | analytics | | | | | | | of this | | | | | | | event | | | | | | | type in | | | | | | | its | | | | | | | noti | | | | | | | fications | | | | | | | (without | | | | | | | c | | | | | | | ancelling | | | | | | | the | | | | | | | subsc | | | | | | | ription), | | | | | | | because | | | | | | | the | | | | | | | accuracy | | | | | | | level | | | | | | | needs to | | | | | | | be | | | | | | | i | | | | | | | ncreased. | | | | | | | | | | | | | | Default | | | | | | | value is | | | | | | | \"false\" | | | | | | | if | | | | | | | omitted. | | | | | | | | | | | | | | This | | | | | | | attribute | | | | | | | may be | | | | | | | present | | | | | | | in a | | | | | | | update | | | | | | | request | | | | | | | message | | | | | | | if the | | | | | | | \"p | | | | | | | auseInd\" | | | | | | | attribute | | | | | | | was | | | | | | | provided | | | | | | | in the | | | | | | | noti | | | | | | | fication. | | +-----------+-----------+---+-----------+-----------+-----------+ | resumeFlg | boolean | O | 0..1 | Resume | Analytic | | | | | | analytics | sAccuracy | | | | | | co | | | | | | | nsumption | | | | | | | flag and | | | | | | | is | | | | | | | a | | | | | | | pplicable | | | | | | | on | | | | | | | analytics | | | | | | | ID level. | | | | | | | Set to | | | | | | | \"true\" | | | | | | | to | | | | | | | indicate | | | | | | | the NWDAF | | | | | | | to resume | | | | | | | sending | | | | | | | the | | | | | | | noti | | | | | | | fications | | | | | | | of | | | | | | | analytics | | | | | | | because | | | | | | | the | | | | | | | accuracy | | | | | | | has been | | | | | | | improved. | | | | | | | | | | | | | | Default | | | | | | | value is | | | | | | | \"false\" | | | | | | | if | | | | | | | omitted. | | | | | | | | | | | | | | This | | | | | | | attribute | | | | | | | may be | | | | | | | present | | | | | | | in a | | | | | | | update | | | | | | | request | | | | | | | message | | | | | | | if the | | | | | | | \"re | | | | | | | sumeInd\" | | | | | | | attribute | | | | | | | was | | | | | | | provided | | | | | | | in the | | | | | | | noti | | | | | | | fication. | | +-----------+-----------+---+-----------+-----------+-----------+ | tempora | Du | O | 0..1 | Indicates | N | | lGranSize | rationSec | | | the | etworkPer | | | | | | minimum | fExt_eNA | | | | | | duration | | | | | | | of each | Ue | | | | | | time slot | _Mobilit | | | | | | for which | yExt_eNA | | | | | | the | | | | | | | analytics | Congestio | | | | | | are | nExt_eNA | | | | | | provided. | | | | | | | | QoS_Sust | | | | | | | ainabilit | | | | | | | yExt_eNA | | | | | | | | | | | | | | Dispersio | | | | | | | nExt_eNA | | | | | | | | | | | | | | DnP | | | | | | | erformanc | | | | | | | eExt_eNA | +-----------+-----------+---+-----------+-----------+-----------+ | spatialG | Uinteger | O | 0..1 | Indicates | N | | ranSizeTa | | | | the | etworkPer | | | | | | maximum | fExt_eNA | | | | | | number of | | | | | | | TAs used | Ue | | | | | | to define | _Mobilit | | | | | | an area | yExt_eNA | | | | | | for which | | | | | | | the | UeCom | | | | | | analytics | municatio | | | | | | are | nExt_eNA | | | | | | provided. | | | | | | | | QoS_Sust | | | | | | May be | ainabilit | | | | | | included | yExt_eNA | | | | | | when the | | | | | | | \"netw | Dispersio | | | | | | orkArea\" | nExt_eNA | | | | | | attribute | | | | | | | in the | DnP | | | | | | EventSub | erformanc | | | | | | scription | eExt_eNA | | | | | | data type | | | | | | | is | | | | | | | provided. | | +-----------+-----------+---+-----------+-----------+-----------+ | s | Uinteger | O | 0..1 | Indicates | N | | patialGra | | | | the | etworkPer | | nSizeCell | | | | maximum | fExt_eNA | | | | | | number of | | | | | | | cells | Ue | | | | | | used to | _Mobilit | | | | | | define an | yExt_eNA | | | | | | area for | | | | | | | which the | UeCom | | | | | | analytics | municatio | | | | | | are | nExt_eNA | | | | | | provided. | | | | | | | | QoS_Sust | | | | | | May be | ainabilit | | | | | | included | yExt_eNA | | | | | | when the | | | | | | | \"netw | Dispersio | | | | | | orkArea\" | nExt_eNA | | | | | | attribute | | | | | | | in the | DnP | | | | | | EventSub | erformanc | | | | | | scription | eExt_eNA | | | | | | data type | | | | | | | is | | | | | | | provided. | | +-----------+-----------+---+-----------+-----------+-----------+ | NOTE 1: | | | | | | | The | | | | | | | Networ | | | | | | | kAreaInfo | | | | | | | within | | | | | | | the | | | | | | | \" | | | | | | | locArea\" | | | | | | | attribute | | | | | | | is not | | | | | | | a | | | | | | | pplicable | | | | | | | for the | | | | | | | untrusted | | | | | | | AF. For | | | | | | | \"NETW | | | | | | | ORK_PERF | | | | | | | ORMANCE\" | | | | | | | or | | | | | | | \"CON | | | | | | | GESTION\" | | | | | | | or | | | | | | | \"E2 | | | | | | | E_DATA_ | | | | | | | VOL_TRAN | | | | | | | S_TIME\" | | | | | | | event, | | | | | | | the | | | | | | | \" | | | | | | | locArea\" | | | | | | | attribute | | | | | | | shall be | | | | | | | provided | | | | | | | if the | | | | | | | event | | | | | | | applied | | | | | | | for all | | | | | | | UEs (i.e. | | | | | | | \"a | | | | | | | nyUeInd\" | | | | | | | attribute | | | | | | | set to | | | | | | | true | | | | | | | within | | | | | | | the | | | | | | | T | | | | | | | argetUeId | | | | | | | data). | | | | | | | For | | | | | | | \"QOS | | | | | | | _SUSTAIN | | | | | | | ABILITY\" | | | | | | | or | | | | | | | \"MOV | | | | | | | EMENT_BE | | | | | | | HAVIOUR\" | | | | | | | event, at | | | | | | | least one | | | | | | | of the | | | | | | | \" | | | | | | | locArea\" | | | | | | | attribute | | | | | | | and | | | | | | | \"fineGr | | | | | | | anAreas\" | | | | | | | attribute | | | | | | | shall be | | | | | | | provided. | | | | | | | | | | | | | | NOTE 2: | | | | | | | Only | | | | | | | \" | | | | | | | excepId\" | | | | | | | and | | | | | | | \"exc | | | | | | | epLevel\" | | | | | | | within | | | | | | | the | | | | | | | Exception | | | | | | | data type | | | | | | | apply to | | | | | | | the | | | | | | | \"exc | | | | | | | epRequs\" | | | | | | | a | | | | | | | ttribute. | | | | | | | | | | | | | | NOTE 3: | | | | | | | Either | | | | | | | \"exc | | | | | | | epRequs\" | | | | | | | or | | | | | | | \"expt | | | | | | | AnaType\" | | | | | | | shall be | | | | | | | provided | | | | | | | if the | | | | | | | s | | | | | | | ubscribed | | | | | | | event is | | | | | | | \"ABN | | | | | | | ORMAL_BE | | | | | | | HAVIOR\". | | | | | | | | | | | | | | NOTE 4: | | | | | | | If the | | | | | | | s | | | | | | | ubscribed | | | | | | | event is | | | | | | | \"CON | | | | | | | GESTION\" | | | | | | | or | | | | | | | \" | | | | | | | DN_PERFO | | | | | | | RMANCE\", | | | | | | | this | | | | | | | attribute | | | | | | | shall be | | | | | | | provided | | | | | | | if | | | | | | | \"noti | | | | | | | fMethod\" | | | | | | | within | | | | | | | \"analy | | | | | | | RepInfo\" | | | | | | | sets to | | | | | | | \"ON_ | | | | | | | EVENT_DE | | | | | | | TECTION\" | | | | | | | or | | | | | | | omitted. | | | | | | | | | | | | | | NOTE 5: | | | | | | | For | | | | | | | \"QOS\ | | | | | | | _SUSTAINA | | | | | | | BILITY\", | | | | | | | this | | | | | | | property | | | | | | | shall be | | | | | | | provided | | | | | | | if the | | | | | | | \"noti | | | | | | | fMethod\" | | | | | | | in | | | | | | | \"analy | | | | | | | RepInfo\" | | | | | | | is set to | | | | | | | \"ON_ | | | | | | | EVENT_DE | | | | | | | TECTION\" | | | | | | | or | | | | | | | omitted. | | | | | | | | | | | | | | NOTE 6: | | | | | | | The | | | | | | | \"sa | | | | | | | mpRatio\" | | | | | | | attribute | | | | | | | and the | | | | | | | \"h | | | | | | | istAnaTim | | | | | | | ePeriod\" | | | | | | | attribute | | | | | | | within | | | | | | | EventRe | | | | | | | portingRe | | | | | | | quirement | | | | | | | data type | | | | | | | is not | | | | | | | a | | | | | | | pplicable | | | | | | | for the | | | | | | | present | | | | | | | API. The | | | | | | | a | | | | | | | ttributes | | | | | | | \"accPer | | | | | | | Subset\", | | | | | | | \"offset | | | | | | | Period\", | | | | | | | and | | | | | | | \"timeAn | | | | | | | aNeeded\" | | | | | | | within | | | | | | | the | | | | | | | EventRe | | | | | | | portingRe | | | | | | | quirement | | | | | | | data type | | | | | | | are | | | | | | | a | | | | | | | pplicable | | | | | | | only if | | | | | | | the | | | | | | | \"EneNA\" | | | | | | | feature | | | | | | | is | | | | | | | s | | | | | | | upported. | | | | | | | | | | | | | | NOTE 7: | | | | | | | For | | | | | | | \"AB | | | | | | | NORMAL_B | | | | | | | EHAVIOR\" | | | | | | | event | | | | | | | with | | | | | | | \"a | | | | | | | nyUeInd\" | | | | | | | attribute | | | | | | | in | | | | | | | \"tgtUe\" | | | | | | | attribute | | | | | | | sets to | | | | | | | true, | | | | | | | | | | | | | | > \- at | | | | | | | > least | | | | | | | > one of | | | | | | | > the | | | | | | | > \" | | | | | | | locArea\" | | | | | | | > and the | | | | | | | > \ | | | | | | | "snssai\" | | | | | | | > | | | | | | | attribute | | | | | | | > should | | | | | | | > be | | | | | | | > | | | | | | | included, | | | | | | | > if the | | | | | | | > | | | | | | | expected | | | | | | | > | | | | | | | analytics | | | | | | | > type | | | | | | | > via | | | | | | | > | | | | | | | the\"expt | | | | | | | AnaType\" | | | | | | | > | | | | | | | attribute | | | | | | | > or the | | | | | | | > list of | | | | | | | > | | | | | | | Exception | | | | | | | > Ids via | | | | | | | > the | | | | | | | > \"exc | | | | | | | epRequs\" | | | | | | | > | | | | | | | attribute | | | | | | | > is | | | | | | | > | | | | | | | mobility | | | | | | | > | | | | | | | related; | | | | | | | > | | | | | | | > \- at | | | | | | | > least | | | | | | | > one of | | | | | | | > the | | | | | | | > \"l | | | | | | | ocArea\", | | | | | | | > \" | | | | | | | appIds\", | | | | | | | > | | | | | | | \"dnn\", | | | | | | | > "dnns", | | | | | | | > | | | | | | | "snssai" | | | | | | | > and | | | | | | | > \" | | | | | | | snssais\" | | | | | | | > | | | | | | | attribute | | | | | | | > should | | | | | | | > be | | | | | | | > | | | | | | | included, | | | | | | | > if the | | | | | | | > | | | | | | | expected | | | | | | | > | | | | | | | analytics | | | | | | | > type | | | | | | | > via | | | | | | | > | | | | | | | the\"expt | | | | | | | AnaType\" | | | | | | | > | | | | | | | attribute | | | | | | | > or the | | | | | | | > list of | | | | | | | > | | | | | | | Exception | | | | | | | > Ids via | | | | | | | > the | | | | | | | > \"exc | | | | | | | epRequs\" | | | | | | | > | | | | | | | attribute | | | | | | | > is | | | | | | | > comm | | | | | | | unication | | | | | | | > | | | | | | | related; | | | | | | | > | | | | | | | > \- the | | | | | | | > | | | | | | | expected | | | | | | | > | | | | | | | analytics | | | | | | | > type | | | | | | | > via | | | | | | | > | | | | | | | the\"expt | | | | | | | AnaType\" | | | | | | | > | | | | | | | attribute | | | | | | | > or the | | | | | | | > list of | | | | | | | > | | | | | | | Exception | | | | | | | > Ids via | | | | | | | > \"exc | | | | | | | epRequs\" | | | | | | | > | | | | | | | attribute | | | | | | | > shall | | | | | | | > not be | | | | | | | > | | | | | | | requested | | | | | | | > for | | | | | | | > both | | | | | | | > | | | | | | | mobility | | | | | | | > and | | | | | | | > comm | | | | | | | unication | | | | | | | > related | | | | | | | > | | | | | | | analytics | | | | | | | > at the | | | | | | | > same | | | | | | | > time. | | | | | | | > | | | | | | | > \- | | | | | | | > "dnns" | | | | | | | > and | | | | | | | > | | | | | | | "snssais" | | | | | | | > is | | | | | | | > | | | | | | | mutually | | | | | | | > | | | | | | | exclusive | | | | | | | > for | | | | | | | > "dnn" | | | | | | | > and | | | | | | | > | | | | | | | "snssai". | | | | | | | > "dnn" | | | | | | | > and | | | | | | | > | | | | | | | "snssai" | | | | | | | > are | | | | | | | > | | | | | | | available | | | | | | | > for the | | | | | | | > | | | | | | | backward | | | | | | | > comp | | | | | | | atibility | | | | | | | > to the | | | | | | | > | | | | | | | previous | | | | | | | > release | | | | | | | > of this | | | | | | | > speci | | | | | | | fication. | | | | | | | | | | | | | | NOTE 8: | | | | | | | If both | | | | | | | the | | | | | | | \" | | | | | | | allFreq\" | | | | | | | attribute | | | | | | | and the | | | | | | | \ | | | | | | | "allRat\" | | | | | | | attribute | | | | | | | within | | | | | | | the | | | | | | | \"r | | | | | | | atFreqs\" | | | | | | | attribute | | | | | | | are | | | | | | | present, | | | | | | | then the | | | | | | | ca | | | | | | | rdinality | | | | | | | shall be | | | | | | | 1 as the | | | | | | | \"all\" | | | | | | | i | | | | | | | ndication | | | | | | | for all | | | | | | | the RAT | | | | | | | type and | | | | | | | Frequency | | | | | | | value the | | | | | | | NWDAF has | | | | | | | received | | | | | | | for the | | | | | | | app | | | | | | | lication. | | | | | | | | | | | | | | NOTE 9: | | | | | | | This | | | | | | | parameter | | | | | | | shall be | | | | | | | provided | | | | | | | when a | | | | | | | consumer | | | | | | | requires | | | | | | | analytics | | | | | | | for an | | | | | | | edge | | | | | | | ap | | | | | | | plication | | | | | | | over a UP | | | | | | | path. | | | | | | | | | | | | | | NOTE 10: | | | | | | | The | | | | | | | Networ | | | | | | | kAreaInfo | | | | | | | within | | | | | | | the | | | | | | | \ | | | | | | | "visitedL | | | | | | | ocAreas\" | | | | | | | attribute | | | | | | | is not | | | | | | | a | | | | | | | pplicable | | | | | | | for the | | | | | | | untrusted | | | | | | | AF. If | | | | | | | this | | | | | | | attribute | | | | | | | is | | | | | | | provided, | | | | | | | the | | | | | | | analytics | | | | | | | target | | | | | | | period | | | | | | | shall be | | | | | | | a past | | | | | | | time | | | | | | | period | | | | | | | (i.e. | | | | | | | only | | | | | | | s | | | | | | | tatistics | | | | | | | is | | | | | | | su | | | | | | | pported). | | | | | | | | | | | | | | NOTE 11: | | | | | | | If the | | | | | | | the value | | | | | | | of | | | | | | | \"use | | | | | | | rDataConO | | | | | | | rderCri\" | | | | | | | attribute | | | | | | | is | | | | | | | \" | | | | | | | APPLICABL | | | | | | | E_TIME_ | | | | | | | WINDOW\", | | | | | | | the | | | | | | | \"AS | | | | | | | CENDING\" | | | | | | | direction | | | | | | | indicates | | | | | | | that the | | | | | | | list of | | | | | | | User Data | | | | | | | C | | | | | | | ongestion | | | | | | | analytics | | | | | | | are in | | | | | | | chro | | | | | | | nological | | | | | | | order and | | | | | | | the | | | | | | | \"DES | | | | | | | CENDING\" | | | | | | | direction | | | | | | | indicates | | | | | | | that the | | | | | | | list of | | | | | | | User Data | | | | | | | C | | | | | | | ongestion | | | | | | | analytics | | | | | | | are in | | | | | | | reverse | | | | | | | chro | | | | | | | nological | | | | | | | order. | | | | | | | | | | | | | | NOTE 12: | | | | | | | The | | | | | | | \"AGG | | | | | | | _TRAFFIC | | | | | | | _RATE\", | | | | | | | \"VAR | | | | | | | _TRAFFIC | | | | | | | _RATE\", | | | | | | | \"VAR | | | | | | | _PACKET\ | | | | | | | _DELAY\", | | | | | | | \"MAX_PA | | | | | | | CKET_LOS | | | | | | | S_RATE\" | | | | | | | and | | | | | | | \"VAR_PA | | | | | | | CKET_LOS | | | | | | | S_RATE\" | | | | | | | en | | | | | | | umeration | | | | | | | value(s) | | | | | | | within | | | | | | | the | | | | | | | Analyt | | | | | | | icsSubset | | | | | | | data type | | | | | | | is | | | | | | | a | | | | | | | pplicable | | | | | | | only if | | | | | | | the | | | | | | | \"DnPer | | | | | | | formanceE | | | | | | | xt_AIML" | | | | | | | feature | | | | | | | is | | | | | | | s | | | | | | | upported. | | | | | | | | | | | | | | NOTE 13: | | | | | | | When the | | | | | | | \"pduS | | | | | | | esInfos\" | | | | | | | attribute | | | | | | | is | | | | | | | provided, | | | | | | | the | | | | | | | a | | | | | | | ssociated | | | | | | | \ | | | | | | | "appIds\" | | | | | | | attribute | | | | | | | shall | | | | | | | also be | | | | | | | provided | | | | | | | for the | | | | | | | NWDAF to | | | | | | | be able | | | | | | | to | | | | | | | compute | | | | | | | the | | | | | | | service | | | | | | | e | | | | | | | xperience | | | | | | | per | | | | | | | app | | | | | | | lication. | | | | | | | | | | | | | | NOTE 14: | | | | | | | If both | | | | | | | \" | | | | | | | locArea\" | | | | | | | and | | | | | | | \"fineGr | | | | | | | anAreas\" | | | | | | | a | | | | | | | ttributes | | | | | | | are | | | | | | | provided, | | | | | | | the Area | | | | | | | of | | | | | | | Interest | | | | | | | is | | | | | | | in | | | | | | | terpreted | | | | | | | as the | | | | | | | int | | | | | | | ersection | | | | | | | area | | | | | | | indicated | | | | | | | by these | | | | | | | two | | | | | | | at | | | | | | | tributes. | | | | | | +-----------+-----------+---+-----------+-----------+-----------+
EditorÂ´s note: The definition of the threshold for E2E data volume transfer
time is FFS.
##### 5.6.3.3.7 Type TargetUeId
Table 5.6.3.3.7-1: Definition of type TargetUeId
+----------+----------+-------+----------+----------+----------+ | **A |** Data | **P** | **Cardi |** Descr | * | | ttribute | type**| | nality** | iption**| *Applica | | name** | | | | | bility** | +----------+----------+-------+----------+----------+----------+ | anyUeInd | boolean | O | 0..1 | Id | Ab | | | | | | entifies | normal_ | | | | | | whether | Behavior | | | | | | the AF | | | | | | | request | Co | | | | | | applies | ngestion | | | | | | to any | | | | | | | UE. | Netw | | | | | | | ork_Per | | | | | | This | formance | | | | | | a | | | | | | | ttribute | QoS | | | | | | shall | _Sustai | | | | | | set to | nability | | | | | | \"true\" | | | | | | | if | Di | | | | | | ap | spersion | | | | | | plicable | | | | | | | for any | DnPer | | | | | | UE, | formance | | | | | | ot | | | | | | | herwise, | S | | | | | | set to | erviceEx | | | | | | \" | perience | | | | | | false\". | | +----------+----------+-------+----------+----------+----------+ | gpsi | Gpsi | O | 0..1 | Id | Ab | | | | | | entifies | normal_ | | | | | | a GPSI | Behavior | | | | | | for an | | | | | | | UE. | Co | | | | | | | ngestion | | | | | | | | | | | | | | Ue_ | | | | | | | Mobility | | | | | | | | | | | | | | U | | | | | | | e_Commu | | | | | | | nication | | | | | | | | | | | | | | Netw | | | | | | | ork_Per | | | | | | | formance | | | | | | | | | | | | | | Di | | | | | | | spersion | | | | | | | | | | | | | | DnPer | | | | | | | formance | | | | | | | | | | | | | | S | | | | | | | erviceEx | | | | | | | perience | +----------+----------+-------+----------+----------+----------+ | exte | Externa | O | 0..1 | Re | Abnorm | | rGroupId | lGroupId | | | presents | al_Beha | | | | | | an | viorUe_ | | | | | | external | Mobility | | | | | | group | | | | | | | id | U | | | | | | entifier | e_Commu | | | | | | and | nication | | | | | | id | | | | | | | entifies | Netw | | | | | | a group | ork_Per | | | | | | of UEs. | formance | | | | | | | | | | | | | | Di | | | | | | | spersion | | | | | | | | | | | | | | DnPer | | | | | | | formance | | | | | | | | | | | | | | S | | | | | | | erviceEx | | | | | | | perience | +----------+----------+-------+----------+----------+----------+ | NOTE: | | | | | | | For an | | | | | | | ap | | | | | | | plicable | | | | | | | feature, | | | | | | | only one | | | | | | | a | | | | | | | ttribute | | | | | | | ide | | | | | | | ntifying | | | | | | | the | | | | | | | target | | | | | | | UE shall | | | | | | | be | | | | | | | p | | | | | | | rovided. | | | | | | +----------+----------+-------+----------+----------+----------+
##### 5.6.3.3.8 Void
##### 5.6.3.3.9 Type UeMobilityExposure
Table 5.6.3.3.9-1: Definition of type UeMobilityExposure
+----------+----------+-------+----------+----------+----------+ | **A |** Data | **P** | **Cardi |** Descr | * | | ttribute | type**| | nality** | iption**| *Applica | | name** | | | | | bility** | +----------+----------+-------+----------+----------+----------+ | ts | DateTime | O | 0..1 | This | | | | | | | a | | | | | | | ttribute | | | | | | | id | | | | | | | entifies | | | | | | | the | | | | | | | t | | | | | | | imestamp | | | | | | | when the | | | | | | | UE | | | | | | | arrives | | | | | | | the | | | | | | | l | | | | | | | ocation. | | | | | | | (NOTE 1) | | +----------+----------+-------+----------+----------+----------+ | recur | Sc | O | 0..1 | Id | | | ringTime | heduledC | | | entifies | | | | ommunica | | | time of | | | | tionTime | | | the day | | | | | | | and day | | | | | | | of the | | | | | | | week | | | | | | | which | | | | | | | are | | | | | | | valid | | | | | | | within | | | | | | | the | | | | | | | obs | | | | | | | ervation | | | | | | | period | | | | | | | when the | | | | | | | UE | | | | | | | moves. | | | | | | | (NOTE 1, | | | | | | | NOTE 2) | | +----------+----------+-------+----------+----------+----------+ | duration | Dur | M | 1 | This | | | | ationSec | | | a | | | | | | | ttribute | | | | | | | id | | | | | | | entifies | | | | | | | the time | | | | | | | duration | | | | | | | the UE | | | | | | | stays in | | | | | | | the | | | | | | | l | | | | | | | ocation. | | | | | | | | | | | | | | If the | | | | | | | a | | | | | | | nalytics | | | | | | | result | | | | | | | applies | | | | | | | for a | | | | | | | group of | | | | | | | UEs, it | | | | | | | i | | | | | | | ndicates | | | | | | | the | | | | | | | average | | | | | | | duration | | | | | | | for the | | | | | | | group of | | | | | | | UEs. | | | | | | | | | | | | | | (NOTE 3) | | +----------+----------+-------+----------+----------+----------+ | duration | Float | C | 0..1 | This | | | Variance | | | | a | | | | | | | ttribute | | | | | | | i | | | | | | | ndicates | | | | | | | the | | | | | | | variance | | | | | | | of the | | | | | | | analysed | | | | | | | d | | | | | | | urations | | | | | | | for the | | | | | | | group of | | | | | | | UEs. It | | | | | | | shall be | | | | | | | provided | | | | | | | if the | | | | | | | a | | | | | | | nalytics | | | | | | | result | | | | | | | applies | | | | | | | for a | | | | | | | group of | | | | | | | UEs. | | +----------+----------+-------+----------+----------+----------+ | locInfo | array | M | 1..N | This | | | | (UeLocat | | | a | | | | ionInfo) | | | ttribute | | | | | | | includes | | | | | | | a list | | | | | | | of UE | | | | | | | location | | | | | | | inf | | | | | | | ormation | | | | | | | during | | | | | | | the time | | | | | | | d | | | | | | | uration. | | | | | | | | | | | | | | (NOTE 4) | | +----------+----------+-------+----------+----------+----------+ | direct | arra | O | 1..N | This | UeM | | ionInfos | y(Direct | | | a | obilityE | | | ionInfo) | | | ttribute | xt_AIML | | | | | | includes | | | | | | | a list | | | | | | | of UE | | | | | | | d | | | | | | | irection | | | | | | | info | | | | | | | rmation. | | +----------+----------+-------+----------+----------+----------+ | NOTE 1: | | | | | | | Either | | | | | | | ts or | | | | | | | recur | | | | | | | ringTime | | | | | | | shall be | | | | | | | p | | | | | | | rovided. | | | | | | | | | | | | | | NOTE 2: | | | | | | | If this | | | | | | | a | | | | | | | ttribute | | | | | | | is | | | | | | | present, | | | | | | | it | | | | | | | i | | | | | | | ndicates | | | | | | | the UE | | | | | | | movement | | | | | | | is | | | | | | | p | | | | | | | eriodic. | | | | | | | This | | | | | | | a | | | | | | | ttribute | | | | | | | is | | | | | | | suitable | | | | | | | to be | | | | | | | present | | | | | | | for a | | | | | | | r | | | | | | | ecurring | | | | | | | mobility | | | | | | | in a | | | | | | | long | | | | | | | obs | | | | | | | ervation | | | | | | | time. | | | | | | | | | | | | | | NOTE 3: | | | | | | | If the | | | | | | | \"te | | | | | | | mporalGr | | | | | | | anSize\" | | | | | | | a | | | | | | | ttribute | | | | | | | is | | | | | | | provided | | | | | | | in the | | | | | | | request, | | | | | | | the | | | | | | | duration | | | | | | | i | | | | | | | ndicated | | | | | | | by the | | | | | | | \"du | | | | | | | ration\" | | | | | | | a | | | | | | | ttribute | | | | | | | shall be | | | | | | | greater | | | | | | | than or | | | | | | | equal to | | | | | | | the | | | | | | | value of | | | | | | | the | | | | | | | \"te | | | | | | | mporalGr | | | | | | | anSize\" | | | | | | | at | | | | | | | tribute. | | | | | | | | | | | | | | NOTE 4: | | | | | | | If the | | | | | | | \"spa | | | | | | | tialGran | | | | | | | SizeTa\" | | | | | | | and/or | | | | | | | \"spati | | | | | | | alGranSi | | | | | | | zeCell\" | | | | | | | at | | | | | | | tributes | | | | | | | are | | | | | | | provided | | | | | | | in the | | | | | | | request, | | | | | | | the | | | | | | | number | | | | | | | of TAs | | | | | | | or cells | | | | | | | c | | | | | | | ontained | | | | | | | in | | | | | | | \"l | | | | | | | ocInfo\" | | | | | | | a | | | | | | | ttribute | | | | | | | shall be | | | | | | | smaller | | | | | | | than or | | | | | | | equal to | | | | | | | the | | | | | | | values | | | | | | | of the | | | | | | | \"spa | | | | | | | tialGran | | | | | | | SizeTa\" | | | | | | | and/or | | | | | | | \"spati | | | | | | | alGranSi | | | | | | | zeCell\" | | | | | | | att | | | | | | | ributes. | | | | | | +----------+----------+-------+----------+----------+----------+
##### 5.6.3.3.10 Type UeLocationInfo
Table 5.6.3.3.10-1: Definition of type UeLocationInfo
+----------+----------+-------+----------+----------+----------+ | **A |** Data | **P** | **Cardi |** Descr | * | | ttribute | type**| | nality** | iption**| *Applica | | name** | | | | | bility** | +----------+----------+-------+----------+----------+----------+ | loc | Locati | M | 1 | This | | | | onArea5G | | | a | | | | | | | ttribute | | | | | | | contains | | | | | | | the | | | | | | | detailed | | | | | | | l | | | | | | | ocation. | | +----------+----------+-------+----------+----------+----------+ | ratio | Sampl | C | 0..1 | This | | | | ingRatio | | | a | | | | | | | ttribute | | | | | | | contains | | | | | | | the | | | | | | | pe | | | | | | | rcentage | | | | | | | of UEs | | | | | | | in the | | | | | | | group. | | | | | | | | | | | | | | Shall be | | | | | | | present | | | | | | | if the | | | | | | | a | | | | | | | nalytics | | | | | | | result | | | | | | | applies | | | | | | | for a | | | | | | | group of | | | | | | | UEs. | | +----------+----------+-------+----------+----------+----------+ | co | Uinteger | C | 0..1 | I | | | nfidence | | | | ndicates | | | | | | | the | | | | | | | co | | | | | | | nfidence | | | | | | | of the | | | | | | | pre | | | | | | | diction. | | | | | | | (NOTE) | | | | | | | | | | | | | | Shall be | | | | | | | present | | | | | | | if the | | | | | | | a | | | | | | | nalytics | | | | | | | result | | | | | | | is a | | | | | | | pre | | | | | | | diction. | | | | | | | | | | | | | | Minimum | | | | | | | = 0. | | | | | | | Maximum | | | | | | | = 100. | | +----------+----------+-------+----------+----------+----------+ | geoDi | ar | O | 1..N | I | UeM | | strInfos | ray(GeoD | | | ndicates | obilityE | | | istribut | | | the | xt_AIML | | | ionInfo) | | | geog | | | | | | | raphical | | | | | | | dist | | | | | | | ribution | | | | | | | of the | | | | | | | UEs that | | | | | | | may be | | | | | | | selected | | | | | | | by the | | | | | | | AF for | | | | | | | app | | | | | | | lication | | | | | | | service. | | +----------+----------+-------+----------+----------+----------+ | NOTE: If | | | | | | | the | | | | | | | r | | | | | | | equested | | | | | | | period | | | | | | | id | | | | | | | entified | | | | | | | by the | | | | | | | \"s | | | | | | | tartTs\" | | | | | | | and | | | | | | | \ | | | | | | | "endTs\" | | | | | | | at | | | | | | | tributes | | | | | | | in the | | | | | | | \"Eve | | | | | | | ntReport | | | | | | | ingRequi | | | | | | | rement\" | | | | | | | type is | | | | | | | a future | | | | | | | time | | | | | | | period, | | | | | | | which | | | | | | | means | | | | | | | the | | | | | | | a | | | | | | | nalytics | | | | | | | result | | | | | | | is a | | | | | | | pre | | | | | | | diction. | | | | | | | If no | | | | | | | su | | | | | | | fficient | | | | | | | data is | | | | | | | c | | | | | | | ollected | | | | | | | to | | | | | | | provide | | | | | | | the | | | | | | | co | | | | | | | nfidence | | | | | | | of the | | | | | | | pr | | | | | | | ediction | | | | | | | before | | | | | | | the time | | | | | | | d | | | | | | | eadline, | | | | | | | a zero | | | | | | | co | | | | | | | nfidence | | | | | | | shall be | | | | | | | r | | | | | | | eturned. | | | | | | +----------+----------+-------+----------+----------+----------+
##### 5.6.3.3.11 Void
##### 5.6.3.3.12 Type: AnalyticsRequest
Table 5.6.3.3.12-1: Definition of type AnalyticsRequest
* * *
Attribute name Data type P Cardinality Description Applicability analyEvent
AnalyticsEvent M 1 Identifies the analytics type.  
analyEventFilter AnalyticsEventFilter C 0..1 Shall be included to identify the
analytics when filter information is needed for the related event.  
analyRep EventReportingRequirement O 0..1 Identifies the analytics reporting
requirement information. (NOTE)  
tgtUe TargetUeId O 0..1 Identifies the target UE information.  
suppFeat SupportedFeatures M 1 Represents the features supported by the NF
service consumer.  
NOTE: The attributes \"accPerSubset\", \"offsetPeriod\", and \"timeAnaNeeded\"
within the EventReportingRequirement data type are applicable only if the
\"EneNA\" feature is supported.
* * *
##### 5.6.3.3.13 Type AnalyticsEventFilter
Table 5.6.3.3.13-1: Definition of type AnalyticsEventFilter
+-----------+-----------+---+-----------+-----------+-----------+ | Attribute | Data type | P | Ca | De | Appl | | name | | | rdinality | scription | icability | +-----------+-----------+---+-----------+-----------+-----------+ | locArea | Locat | C | 0..1 | This IE | Ue\ | | | ionArea5G | | | r | _Mobility | | | | | | epresents | | | | | | | the | Ue_Comm | | | | | | network | unication | | | | | | area | | | | | | | where the | Ne | | | | | | NF | twork_Pe | | | | | | service | rformance | | | | | | consumer | | | | | | | wants to | Q | | | | | | know the | oS_Susta | | | | | | analytics | inability | | | | | | result. | | | | | | | | Abnormal\ | | | | | | (NOTE 2, | _Behavior | | | | | | NOTE 3, | | | | | | | NOTE 10) | C | | | | | | | ongestion | | | | | | | | | | | | | | D | | | | | | | ispersion | | | | | | | | | | | | | | DnPe | | | | | | | rformance | | | | | | | | | | | | | | ServiceE | | | | | | | xperience | | | | | | | | | | | | | | E | | | | | | | 2eDataVol | | | | | | | TransTime | | | | | | | | | | | | | | Movement | | | | | | | Behaviour | +-----------+-----------+---+-----------+-----------+-----------+ | fine | array | O | 1..N | Indicates | Service | | GranAreas | (Geograph | | | the fine | Experienc | | | icalArea) | | | gr | eExt_eNA | | | | | | anularity | | | | | | | areas to | Ue | | | | | | which the | _Mobilit | | | | | | request | yExt_eNA | | | | | | applies. | | | | | | | (i.e. | QoS_Sust | | | | | | with a | ainabilit | | | | | | finer | yExt_eNA | | | | | | gr | | | | | | | anularity | | | | | | | than | | | | | | | cell). | | | | | | | | | | | | | | (NOTE 2, | | | | | | | NOTE 10) | | +-----------+-----------+---+-----------+-----------+-----------+ | tempora | Du | O | 0..1 | Indicates | N | | lGranSize | rationSec | | | the | etworkPer | | | | | | minimum | fExt_eNA | | | | | | duration | | | | | | | of each | Ue | | | | | | time slot | _Mobilit | | | | | | for which | yExt_eNA | | | | | | the | | | | | | | analytics | Congestio | | | | | | are | nExt_eNA | | | | | | provided. | | | | | | | | QoS_Sust | | | | | | | ainabilit | | | | | | | yExt_eNA | | | | | | | | | | | | | | Dispersio | | | | | | | nExt_eNA | | | | | | | | | | | | | | DnP | | | | | | | erformanc | | | | | | | eExt_eNA | +-----------+-----------+---+-----------+-----------+-----------+ | spatialG | Uinteger | O | 0..1 | Indicates | N | | ranSizeTa | | | | the | etworkPer | | | | | | maximum | fExt_eNA | | | | | | number of | | | | | | | TAs used | Ue | | | | | | to define | _Mobilit | | | | | | an area | yExt_eNA | | | | | | for which | | | | | | | the | UeCom | | | | | | analytics | municatio | | | | | | are | nExt_eNA | | | | | | provided. | | | | | | | | QoS_Sust | | | | | | May be | ainabilit | | | | | | included | yExt_eNA | | | | | | when the | | | | | | | \"netw | Dispersio | | | | | | orkArea\" | nExt_eNA | | | | | | attribute | | | | | | | in the | DnP | | | | | | EventSub | erformanc | | | | | | scription | eExt_eNA | | | | | | data type | | | | | | | is | | | | | | | provided. | | +-----------+-----------+---+-----------+-----------+-----------+ | s | Uinteger | O | 0..1 | Indicates | N | | patialGra | | | | the | etworkPer | | nSizeCell | | | | maximum | fExt_eNA | | | | | | number of | | | | | | | cells | Ue | | | | | | used to | _Mobilit | | | | | | define an | yExt_eNA | | | | | | area for | | | | | | | which the | UeCom | | | | | | analytics | municatio | | | | | | are | nExt_eNA | | | | | | provided. | | | | | | | | QoS_Sust | | | | | | May be | ainabilit | | | | | | included | yExt_eNA | | | | | | when the | | | | | | | \"netw | Dispersio | | | | | | orkArea\" | nExt_eNA | | | | | | attribute | | | | | | | in the | DnP | | | | | | EventSub | erformanc | | | | | | scription | eExt_eNA | | | | | | data type | | | | | | | is | | | | | | | provided. | | +-----------+-----------+---+-----------+-----------+-----------+ | dnn | Dnn | O | 0..1 | I | Ue_Comm | | | | | | dentifies | unication | | | | | | the DNN. | | | | | | | (NOTE 3) | Abnormal\ | | | | | | | _Behavior | | | | | | | | | | | | | | DnPe | | | | | | | rformance | | | | | | | | | | | | | | ServiceE | | | | | | | xperience | +-----------+-----------+---+-----------+-----------+-----------+ | dnns | a | O | 1..N | I | UeCom | | | rray(Dnn) | | | dentifies | municatio | | | | | | the DNN. | nExt_eNA | | | | | | (NOTE 3) | | | | | | | | Abnormal | | | | | | | _Behavio | | | | | | | rExt_eNA | | | | | | | | | | | | | | DnP | | | | | | | erformanc | | | | | | | eExt_eNA | | | | | | | | | | | | | | Service | | | | | | | Experienc | | | | | | | eExt_eNA | | | | | | | | | | | | | | E | | | | | | | 2eDataVol | | | | | | | TransTime | +-----------+-----------+---+-----------+-----------+-----------+ | dnais | ar | O | 1..N | Identifi | DnPe | | | ray(Dnai) | | | cation(s) | rformance | | | | | | of user | | | | | | | plane | ServiceE | | | | | | access to | xperience | | | | | | DN(s) | | | | | | | which the | E | | | | | | sub | 2eDataVol | | | | | | scription | TransTime | | | | | | applies. | | +-----------+-----------+---+-----------+-----------+-----------+ | nw | arra | C | 1..N | R | Ne | | PerfTypes | y(Network | | | epresents | twork_Pe | | | PerfType) | | | the | rformance | | | | | | network | | | | | | | pe | | | | | | | rformance | | | | | | | requ | | | | | | | irements. | | | | | | | This | | | | | | | attribute | | | | | | | shall be | | | | | | | included | | | | | | | when | | | | | | | requested | | | | | | | event is | | | | | | | \"NETWO | | | | | | | RK_PERFO | | | | | | | RMANCE\". | | +-----------+-----------+---+-----------+-----------+-----------+ | dataVlT | ar | O | 1..N | R | E | | rnsTmReqs | ray(e2eDa | | | epresents | 2eDataVol | | | taVolTran | | | the E2E | TransTime | | | sTimeReq) | | | data | | | | | | | volume | | | | | | | transfer | | | | | | | time | | | | | | | req | | | | | | | uirements | | +-----------+-----------+---+-----------+-----------+-----------+ | appIds | ar | O | 1..N | Each | Ue_Comm | | | ray(Appli | | | element | unication | | | cationId) | | | i | Abnormal\ | | | | | | dentifies | _Behavior | | | | | | an | | | | | | | app | DnPe | | | | | | lication. | rformance | | | | | | The | | | | | | | absence | ServiceE | | | | | | of appIds | xperience | | | | | | means all | | | | | | | appl | D | | | | | | ications. | ispersion | | | | | | (NOTE 3) | | | | | | | (NOTE 9) | E | | | | | | | 2eDataVol | | | | | | | TransTime | +-----------+-----------+---+-----------+-----------+-----------+ | excepIds | array(Exc | O | 1..N | R | Abnormal\ | | | eptionId) | | | epresents | _Behavior | | | | | | a list of | | | | | | | Exception | | | | | | | Ids. | | | | | | | (NOTE 1) | | +-----------+-----------+---+-----------+-----------+-----------+ | ex | Exp | O | 0..1 | R | Abnormal\ | | ptAnaType | ectedAnal | | | epresents | _Behavior | | | yticsType | | | expected | | | | | | | UE | | | | | | | analytics | | | | | | | type. | | | | | | | (NOTE 1) | | +-----------+-----------+---+-----------+-----------+-----------+ | ex | Expec | O | 0..1 | R | Abnormal\ | | ptUeBehav | tedUeBeha | | | epresents | _Behavior | | | viourData | | | expected | | | | | | | UE | | | | | | | b | | | | | | | ehaviour. | | +-----------+-----------+---+-----------+-----------+-----------+ | snssai | Snssai | O | 0..1 | I | Ue_Comm | | | | | | dentifies | unication | | | | | | the | | | | | | | network | Q | | | | | | slice | oS_Susta | | | | | | inf | inability | | | | | | ormation. | | | | | | | (NOTE 3) | Abnormal\ | | | | | | | _Behavior | | | | | | | | | | | | | | C | | | | | | | ongestion | | | | | | | | | | | | | | D | | | | | | | ispersion | | | | | | | | | | | | | | DnPe | | | | | | | rformance | | | | | | | | | | | | | | ServiceE | | | | | | | xperience | +-----------+-----------+---+-----------+-----------+-----------+ | snssais | arra | O | 1..N | I | UeCom | | | y(Snssai) | | | dentifies | municatio | | | | | | the | nExt_eNA | | | | | | network | | | | | | | slice | QoS_Sust | | | | | | inf | ainabilit | | | | | | ormation. | yExt_eNA | | | | | | (NOTE 3) | | | | | | | | Abnormal | | | | | | | _Behavio | | | | | | | rExt_eNA | | | | | | | | | | | | | | Congestio | | | | | | | nExt_eNA | | | | | | | | | | | | | | Dispersio | | | | | | | nExt_eNA | | | | | | | | | | | | | | Service | | | | | | | Experienc | | | | | | | eExt_eNA | | | | | | | | | | | | | | DnP | | | | | | | erformanc | | | | | | | eExt_eNA | | | | | | | | | | | | | | E | | | | | | | 2eDataVol | | | | | | | TransTime | +-----------+-----------+---+-----------+-----------+-----------+ | n | array(N | O | 1..N | Each | ServiceE | | siIdInfos | siIdInfo) | | | element | xperience | | | | | | i | | | | | | | dentifies | DnPe | | | | | | the | rformance | | | | | | S-NSSAI | | | | | | | and the | | | | | | | o | | | | | | | ptionally | | | | | | | a | | | | | | | ssociated | | | | | | | network | | | | | | | slice | | | | | | | ins | | | | | | | tance(s). | | | | | | | | | | | | | | May be | | | | | | | included | | | | | | | when | | | | | | | requested | | | | | | | event is | | | | | | | \"SER | | | | | | | VICE_EXP | | | | | | | ERIENCE\" | | | | | | | or | | | | | | | \" | | | | | | | DN_PERFO | | | | | | | RMANCE\". | | +-----------+-----------+---+-----------+-----------+-----------+ | qosReq | QosRe | C | 0..1 | R | Q | | | quirement | | | epresents | oS_Susta | | | | | | the QoS | inability | | | | | | requ | | | | | | | irements. | E | | | | | | This | 2eDataVol | | | | | | attribute | TransTime | | | | | | shall be | | | | | | | included | | | | | | | when | | | | | | | requested | | | | | | | event is | | | | | | | \"QOS\ | | | | | | | _SUSTAINA | | | | | | | BILITY\". | | +-----------+-----------+---+-----------+-----------+-----------+ | listOfA | arra | O | 1..N | The list | EneNA | | naSubsets | y(Analyti | | | of | | | | csSubset) | | | analytics | | | | | | | subsets | | | | | | | can be | | | | | | | used to | | | | | | | indicate | | | | | | | the | | | | | | | content | | | | | | | of the | | | | | | | a | | | | | | | nalytics. | | | | | | | (NOTE 8) | | +-----------+-----------+---+-----------+-----------+-----------+ | d | array | O | 1..N | R | DnPe | | nPerfReqs | (DnPerfor | | | epresents | rformance | | | manceReq) | | | the DN | | | | | | | pe | | | | | | | rformance | | | | | | | analytics | | | | | | | requ | | | | | | | irements. | | +-----------+-----------+---+-----------+-----------+-----------+ | bwRequs | ar | O | 1..N | R | ServiceE | | | ray(BwReq | | | epresents | xperience | | | uirement) | | | the | | | | | | | media/ap | | | | | | | plication | | | | | | | bandwidth | | | | | | | re | | | | | | | quirement | | | | | | | for each | | | | | | | app | | | | | | | lication. | | | | | | | | | | | | | | It may | | | | | | | only be | | | | | | | present | | | | | | | if | | | | | | | \ | | | | | | | "appIds\" | | | | | | | attribute | | | | | | | is | | | | | | | provided. | | +-----------+-----------+---+-----------+-----------+-----------+ | ratFreqs | array(R | O | 1..N | Identifi | ServiceE | | | atFreqInf | | | cation(s) | xperience | | | ormation) | | | of the | | | | | | | RAT type | | | | | | | and/or | | | | | | | fr | | | | | | | equencies | | | | | | | of UE's | | | | | | | serving | | | | | | | cell(s) | | | | | | | which the | | | | | | | subs | | | | | | | criptiont | | | | | | | applies. | | | | | | | (NOTE 4) | | +-----------+-----------+---+-----------+-----------+-----------+ | appSe | array( | C | 1..N | Each of | ServiceE | | rverAddrs | AddrFqdn) | | | the | xperience | | | | | | element | | | | | | | r | DnPe | | | | | | epresents | rformance | | | | | | the | | | | | | | Ap | | | | | | | plication | | | | | | | Server | | | | | | | Instance | | | | | | | (IP | | | | | | | add | | | | | | | ress/FQDN | | | | | | | of the | | | | | | | Ap | | | | | | | plication | | | | | | | Server). | | | | | | | (NOTE 5) | | +-----------+-----------+---+-----------+-----------+-----------+ | d | a | O | 1..N | R | D | | isperReqs | rray(Disp | | | epresents | ispersion | | | ersionReq | | | the | | | | uirement) | | | req | | | | | | | uirements | | | | | | | of | | | | | | | d | | | | | | | ispersion | | | | | | | a | | | | | | | nalytics. | | +-----------+-----------+---+-----------+-----------+-----------+ | maxNumO | Uinteger | O | 0..1 | Indicates | Cong | | fTopAppUl | | | | the | estionExt | | | | | | requested | | | | | | | maximum | | | | | | | number of | | | | | | | top | | | | | | | app | | | | | | | lications | | | | | | | that | | | | | | | c | | | | | | | ontribute | | | | | | | the most | | | | | | | to the | | | | | | | traffic | | | | | | | in Uplink | | | | | | | d | | | | | | | irection. | | | | | | | | | | | | | | Minimum = | | | | | | | 1. | | | | | | | | | | | | | | May be | | | | | | | included | | | | | | | when one | | | | | | | of the | | | | | | | elements | | | | | | | in the | | | | | | | \" | | | | | | | listOfAna | | | | | | | Subsets\" | | | | | | | attribute | | | | | | | is set to | | | | | | | LIST\ | | | | | | | _OF_TOP\ | | | | | | | _APP_UL. | | +-----------+-----------+---+-----------+-----------+-----------+ | maxNumO | Uinteger | O | 0..1 | Indicates | Cong | | fTopAppDl | | | | the | estionExt | | | | | | requested | | | | | | | maximum | | | | | | | number of | | | | | | | top | | | | | | | app | | | | | | | lications | | | | | | | that | | | | | | | c | | | | | | | ontribute | | | | | | | the most | | | | | | | to the | | | | | | | traffic | | | | | | | in | | | | | | | Downlink | | | | | | | d | | | | | | | irection. | | | | | | | | | | | | | | Minimum = | | | | | | | 1. | | | | | | | | | | | | | | May be | | | | | | | included | | | | | | | when one | | | | | | | of the | | | | | | | elements | | | | | | | in the | | | | | | | \" | | | | | | | listOfAna | | | | | | | Subsets\" | | | | | | | attribute | | | | | | | is set to | | | | | | | LIST\ | | | | | | | _OF_TOP\ | | | | | | | _APP_DL. | | +-----------+-----------+---+-----------+-----------+-----------+ | visite | arr | O | 1..N | Identi | Ue\ | | dLocAreas | ay(Locati | | | fications | _Mobility | | | onArea5G) | | | of | | | | | | | network | | | | | | | areas | | | | | | | which the | | | | | | | UEs had | | | | | | | p | | | | | | | reviously | | | | | | | been in | | | | | | | at least | | | | | | | one of | | | | | | | the | | | | | | | Visited | | | | | | | Area(s) | | | | | | | of | | | | | | | Interest. | | | | | | | | | | | | | | (NOTE 6) | | +-----------+-----------+---+-----------+-----------+-----------+ | u | array(U | O | 1..N | R | UeCom | | eCommReqs | eCommReq) | | | epresents | municatio | | | | | | the UE | nExt_eNA | | | | | | comm | | | | | | | unication | | | | | | | requ | | | | | | | irements. | | | | | | | This | | | | | | | attribute | | | | | | | may be | | | | | | | included | | | | | | | when the | | | | | | | s | | | | | | | ubscribed | | | | | | | event is | | | | | | | \"UE | | | | | | | _COMM\". | | +-----------+-----------+---+-----------+-----------+-----------+ | userD | UserDataC | O | 0..1 | The | Congestio | | ataConReq | ongestReq | | | ordering | nExt_eNA | | | | | | criterion | | | | | | | for the | | | | | | | list of | | | | | | | User Data | | | | | | | C | | | | | | | ongestion | | | | | | | a | | | | | | | nalytics. | | | | | | | (NOTE 7) | | +-----------+-----------+---+-----------+-----------+-----------+ | locGr | LocInfoGr | O | 0..1 | The | Service | | anularity | anularity | | | preferred | Experienc | | | | | | gr | eExt_eNA | | | | | | anularity | | | | | | | of UE | Ue | | | | | | location | _Mobilit | | | | | | inf | yExt_eNA | | | | | | ormation. | | | | | | | | Dispersio | | | | | | | nExt_eNA | +-----------+-----------+---+-----------+-----------+-----------+ | locOr | L | O | 0..1 | Indicates | Ue | | ientation | ocationOr | | | the | _Mobilit | | | ientation | | | preferred | yExt_eNA | | | | | | or | | | | | | | ientation | Movement | | | | | | of | Behaviour | | | | | | location | | | | | | | inf | | | | | | | ormation. | | +-----------+-----------+---+-----------+-----------+-----------+ | ueMob | ar | O | 1..N | R | Ue | | ilityReqs | ray(UeMob | | | epresents | _Mobilit | | | ilityReq) | | | the UE | yExt_eNA | | | | | | mobility | | | | | | | requ | | | | | | | irements. | | | | | | | This | | | | | | | attribute | | | | | | | may be | | | | | | | included | | | | | | | when the | | | | | | | s | | | | | | | ubscribed | | | | | | | event is | | | | | | | \"UE_MO | | | | | | | BILITY\". | | +-----------+-----------+---+-----------+-----------+-----------+ | mov | array(Mov | O | 1..N | R | Movement | | BehavReqs | BehavReq) | | | epresents | Behaviour | | | | | | the | | | | | | | Movement | | | | | | | Behaviour | | | | | | | analytics | | | | | | | requ | | | | | | | irements. | | +-----------+-----------+---+-----------+-----------+-----------+ | pd | arr | O | 1..N | R | Service | | uSesInfos | ay(PduSes | | | epresents | Experienc | | | sionInfo) | | | co | eExt_eNA | | | | | | mbination | | | | | | | of PDU | | | | | | | Session | | | | | | | p | | | | | | | arameters | | | | | | | inf | | | | | | | ormation. | | | | | | | (NOTE 9) | | +-----------+-----------+---+-----------+-----------+-----------+ | u | string | O | 0..1 | Indicates | ENAExt | | seCaseCxt | | | | the | | | | | | | context | | | | | | | of usage | | | | | | | of the | | | | | | | a | | | | | | | nalytics. | | | | | | | | | | | | | | The value | | | | | | | and | | | | | | | format of | | | | | | | this | | | | | | | parameter | | | | | | | are not | | | | | | | stan | | | | | | | dardized. | | +-----------+-----------+---+-----------+-----------+-----------+ | NOTE 1: | | | | | | | Either | | | | | | | \"e | | | | | | | xcepIds\" | | | | | | | or | | | | | | | \"expt | | | | | | | AnaType\" | | | | | | | shall be | | | | | | | provided | | | | | | | if the | | | | | | | requested | | | | | | | event is | | | | | | | \"ABN | | | | | | | ORMAL_BE | | | | | | | HAVIOR\". | | | | | | | | | | | | | | NOTE 2: | | | | | | | The | | | | | | | Networ | | | | | | | kAreaInfo | | | | | | | within | | | | | | | the | | | | | | | \" | | | | | | | locArea\" | | | | | | | attribute | | | | | | | is not | | | | | | | a | | | | | | | pplicable | | | | | | | for the | | | | | | | untrusted | | | | | | | AF. For | | | | | | | \"NETW | | | | | | | ORK_PERF | | | | | | | ORMANCE\" | | | | | | | or | | | | | | | \"CON | | | | | | | GESTION\" | | | | | | | event, | | | | | | | the | | | | | | | \" | | | | | | | locArea\" | | | | | | | attribute | | | | | | | shall be | | | | | | | provided | | | | | | | if the | | | | | | | event | | | | | | | applied | | | | | | | for all | | | | | | | UEs (i.e. | | | | | | | \"a | | | | | | | nyUeInd\" | | | | | | | attribute | | | | | | | set to | | | | | | | true | | | | | | | within | | | | | | | the | | | | | | | T | | | | | | | argetUeId | | | | | | | data). | | | | | | | For | | | | | | | \"QOS | | | | | | | _SUSTAIN | | | | | | | ABILITY\" | | | | | | | or | | | | | | | \"MOV | | | | | | | EMENT_BE | | | | | | | HAVIOUR\" | | | | | | | event, at | | | | | | | least one | | | | | | | of | | | | | | | \" | | | | | | | locArea\" | | | | | | | attribute | | | | | | | and | | | | | | | \"fineGr | | | | | | | anAreas\" | | | | | | | attribute | | | | | | | shall be | | | | | | | provided. | | | | | | | | | | | | | | NOTE 3: | | | | | | | For | | | | | | | \"AB | | | | | | | NORMAL_B | | | | | | | EHAVIOR\" | | | | | | | event | | | | | | | with | | | | | | | \"a | | | | | | | nyUeInd\" | | | | | | | attribute | | | | | | | in | | | | | | | \"tgtUe\" | | | | | | | attribute | | | | | | | sets to | | | | | | | true, | | | | | | | | | | | | | | > \- at | | | | | | | > least | | | | | | | > one of | | | | | | | > the | | | | | | | > \" | | | | | | | locArea\" | | | | | | | > and the | | | | | | | > \ | | | | | | | "snssai\" | | | | | | | > | | | | | | | attribute | | | | | | | > should | | | | | | | > be | | | | | | | > | | | | | | | included, | | | | | | | > if the | | | | | | | > | | | | | | | expected | | | | | | | > | | | | | | | analytics | | | | | | | > type | | | | | | | > via | | | | | | | > | | | | | | | the\"expt | | | | | | | AnaType\" | | | | | | | > | | | | | | | attribute | | | | | | | > or the | | | | | | | > list of | | | | | | | > | | | | | | | Exception | | | | | | | > Ids via | | | | | | | > the | | | | | | | > \"e | | | | | | | xcepIds\" | | | | | | | > | | | | | | | attribute | | | | | | | > is | | | | | | | > | | | | | | | mobility | | | | | | | > | | | | | | | related; | | | | | | | > | | | | | | | > \- at | | | | | | | > least | | | | | | | > one of | | | | | | | > the | | | | | | | > \"l | | | | | | | ocArea\", | | | | | | | > \" | | | | | | | appIds\", | | | | | | | > \"dnn\" | | | | | | | > and | | | | | | | > \ | | | | | | | "snssai\" | | | | | | | > | | | | | | | attribute | | | | | | | > should | | | | | | | > be | | | | | | | > | | | | | | | included, | | | | | | | > if the | | | | | | | > | | | | | | | expected | | | | | | | > | | | | | | | analytics | | | | | | | > type | | | | | | | > via | | | | | | | > | | | | | | | the\"expt | | | | | | | AnaType\" | | | | | | | > | | | | | | | attribute | | | | | | | > or the | | | | | | | > list of | | | | | | | > | | | | | | | Exception | | | | | | | > Ids via | | | | | | | > the | | | | | | | > \"e | | | | | | | xcepIds\" | | | | | | | > | | | | | | | attribute | | | | | | | > is | | | | | | | > comm | | | | | | | unication | | | | | | | > | | | | | | | related; | | | | | | | > | | | | | | | > \- the | | | | | | | > | | | | | | | expected | | | | | | | > | | | | | | | analytics | | | | | | | > type | | | | | | | > via | | | | | | | > | | | | | | | the\"expt | | | | | | | AnaType\" | | | | | | | > | | | | | | | attribute | | | | | | | > or the | | | | | | | > list of | | | | | | | > | | | | | | | Exception | | | | | | | > Ids via | | | | | | | > \"e | | | | | | | xcepIds\" | | | | | | | > | | | | | | | attribute | | | | | | | > shall | | | | | | | > not be | | | | | | | > | | | | | | | requested | | | | | | | > for | | | | | | | > both | | | | | | | > | | | | | | | mobility | | | | | | | > and | | | | | | | > comm | | | | | | | unication | | | | | | | > related | | | | | | | > | | | | | | | analytics | | | | | | | > at the | | | | | | | > same | | | | | | | > time. | | | | | | | > | | | | | | | > \- | | | | | | | > "dnns" | | | | | | | > and | | | | | | | > | | | | | | | "snssais" | | | | | | | > is | | | | | | | > | | | | | | | mutually | | | | | | | > | | | | | | | exclusive | | | | | | | > for | | | | | | | > "dnn" | | | | | | | > and | | | | | | | > | | | | | | | "snssai". | | | | | | | > "dnn" | | | | | | | > and | | | | | | | > | | | | | | | "snssai" | | | | | | | > are | | | | | | | > | | | | | | | available | | | | | | | > for the | | | | | | | > | | | | | | | backward | | | | | | | > comp | | | | | | | atibility | | | | | | | > to the | | | | | | | > | | | | | | | previous | | | | | | | > release | | | | | | | > of this | | | | | | | > speci | | | | | | | fication. | | | | | | | | | | | | | | NOTE 4: | | | | | | | If both | | | | | | | the | | | | | | | \" | | | | | | | allFreq\" | | | | | | | attribute | | | | | | | and the | | | | | | | \ | | | | | | | "allRat\" | | | | | | | attribute | | | | | | | within | | | | | | | the | | | | | | | \"r | | | | | | | atFreqs\" | | | | | | | attribute | | | | | | | are | | | | | | | present, | | | | | | | then the | | | | | | | ca | | | | | | | rdinality | | | | | | | shall be | | | | | | | 1 as the | | | | | | | \"all\" | | | | | | | i | | | | | | | ndication | | | | | | | for all | | | | | | | the RAT | | | | | | | type and | | | | | | | Frequency | | | | | | | value the | | | | | | | NWDAF has | | | | | | | received | | | | | | | for the | | | | | | | app | | | | | | | lication. | | | | | | | | | | | | | | NOTE 5: | | | | | | | This | | | | | | | parameter | | | | | | | shall be | | | | | | | provided | | | | | | | when a | | | | | | | consumer | | | | | | | requires | | | | | | | analytics | | | | | | | for an | | | | | | | edge | | | | | | | ap | | | | | | | plication | | | | | | | over a UP | | | | | | | path. | | | | | | | | | | | | | | NOTE 6: | | | | | | | The | | | | | | | Networ | | | | | | | kAreaInfo | | | | | | | within | | | | | | | the | | | | | | | \ | | | | | | | "visitedL | | | | | | | ocAreas\" | | | | | | | attribute | | | | | | | is not | | | | | | | a | | | | | | | pplicable | | | | | | | for the | | | | | | | untrusted | | | | | | | AF. If | | | | | | | this | | | | | | | attribute | | | | | | | is | | | | | | | provided, | | | | | | | the | | | | | | | analytics | | | | | | | target | | | | | | | period | | | | | | | shall be | | | | | | | a past | | | | | | | time | | | | | | | period | | | | | | | (i.e. | | | | | | | only | | | | | | | s | | | | | | | tatistics | | | | | | | is | | | | | | | su | | | | | | | pported). | | | | | | | | | | | | | | NOTE 7: | | | | | | | If the | | | | | | | the value | | | | | | | of | | | | | | | \"orderCr | | | | | | | iterion\" | | | | | | | attribute | | | | | | | contained | | | | | | | in | | | | | | | \"userDat | | | | | | | aConReq\" | | | | | | | attribute | | | | | | | is | | | | | | | \" | | | | | | | APPLICABL | | | | | | | E_TIME_ | | | | | | | WINDOW\", | | | | | | | the | | | | | | | \"AS | | | | | | | CENDING\" | | | | | | | direction | | | | | | | indicates | | | | | | | that the | | | | | | | list of | | | | | | | User Data | | | | | | | C | | | | | | | ongestion | | | | | | | analytics | | | | | | | are in | | | | | | | chro | | | | | | | nological | | | | | | | order and | | | | | | | the | | | | | | | \"DES | | | | | | | CENDING\" | | | | | | | direction | | | | | | | indicates | | | | | | | that the | | | | | | | list of | | | | | | | User Data | | | | | | | C | | | | | | | ongestion | | | | | | | analytics | | | | | | | are in | | | | | | | reverse | | | | | | | chro | | | | | | | nological | | | | | | | order. | | | | | | | | | | | | | | NOTE 8: | | | | | | | The | | | | | | | \"AGG | | | | | | | _TRAFFIC | | | | | | | _RATE\", | | | | | | | \"VAR | | | | | | | _TRAFFIC | | | | | | | _RATE\", | | | | | | | \"VAR | | | | | | | _PACKET\ | | | | | | | _DELAY\", | | | | | | | \"MAX_PA | | | | | | | CKET_LOS | | | | | | | S_RATE\" | | | | | | | and | | | | | | | \"VAR_PA | | | | | | | CKET_LOS | | | | | | | S_RATE\" | | | | | | | en | | | | | | | umeration | | | | | | | value(s) | | | | | | | within | | | | | | | the | | | | | | | Analyt | | | | | | | icsSubset | | | | | | | data type | | | | | | | is | | | | | | | a | | | | | | | pplicable | | | | | | | only if | | | | | | | the | | | | | | | \"DnPer | | | | | | | formanceE | | | | | | | xt_AIML" | | | | | | | feature | | | | | | | is | | | | | | | s | | | | | | | upported. | | | | | | | | | | | | | | NOTE 9: | | | | | | | When the | | | | | | | \"pduS | | | | | | | esInfos\" | | | | | | | attribute | | | | | | | is | | | | | | | provided, | | | | | | | the | | | | | | | a | | | | | | | ssociated | | | | | | | \ | | | | | | | "appIds\" | | | | | | | attribute | | | | | | | shall | | | | | | | also be | | | | | | | provided | | | | | | | for the | | | | | | | NWDAF to | | | | | | | be able | | | | | | | to | | | | | | | compute | | | | | | | the | | | | | | | service | | | | | | | e | | | | | | | xperience | | | | | | | per | | | | | | | app | | | | | | | lication. | | | | | | | | | | | | | | NOTE 10: | | | | | | | If both | | | | | | | \" | | | | | | | locArea\" | | | | | | | and | | | | | | | \"fineGr | | | | | | | anAreas\" | | | | | | | a | | | | | | | ttributes | | | | | | | are | | | | | | | provided, | | | | | | | the Area | | | | | | | of | | | | | | | Interest | | | | | | | is | | | | | | | in | | | | | | | terpreted | | | | | | | as the | | | | | | | int | | | | | | | ersection | | | | | | | area | | | | | | | indicated | | | | | | | by these | | | | | | | two | | | | | | | at | | | | | | | tributes. | | | | | | +-----------+-----------+---+-----------+-----------+-----------+
##### 5.6.3.3.14 Type AnalyticsData
Table 5.6.3.3.14-1: Definition of type AnalyticsData
+-----------+-----------+---+-----------+-----------+-----------+ | Attribute | Data type | P | Ca | De | Appl | | name | | | rdinality | scription | icability | +-----------+-----------+---+-----------+-----------+-----------+ | start | DateTime | O | 0..1 | It | EneNA | | | | | | defines | | | | | | | the start | | | | | | | time of | | | | | | | which the | | | | | | | analytics | | | | | | | in | | | | | | | formation | | | | | | | will | | | | | | | become | | | | | | | valid. | | | | | | | (NOTE 1) | | +-----------+-----------+---+-----------+-----------+-----------+ | expiry | DateTime | O | 0..1 | Defines | | | | | | | the | | | | | | | e | | | | | | | xpiration | | | | | | | time | | | | | | | after | | | | | | | which the | | | | | | | analytics | | | | | | | in | | | | | | | formation | | | | | | | will | | | | | | | become | | | | | | | invalid. | | | | | | | (NOTE 1) | | +-----------+-----------+---+-----------+-----------+-----------+ | tim | DateTime | O | 0..1 | It | EneNA | | eStampGen | | | | defines | | | | | | | the | | | | | | | timestamp | | | | | | | of | | | | | | | analytics | | | | | | | ge | | | | | | | neration. | | +-----------+-----------+---+-----------+-----------+-----------+ | ueMobi | array(U | C | 1..N | Contains | Ue\ | | lityInfos | eMobility | | | the UE | _Mobility | | | Exposure) | | | mobility | | | | | | | inf | | | | | | | ormation. | | | | | | | | | | | | | | Shall be | | | | | | | present | | | | | | | if the | | | | | | | \"ana | | | | | | | lyEvent\" | | | | | | | attribute | | | | | | | sets to | | | | | | | \"UE_MO | | | | | | | BILITY\". | | | | | | | | | | | | | | (NOTE 4) | | +-----------+-----------+---+-----------+-----------+-----------+ | ue | arra | C | 1..N | Contains | Ue_Comm | | CommInfos | y(UeCommu | | | the | unication | | | nication) | | | ap | | | | | | | plication | | | | | | | comm | | | | | | | unication | | | | | | | inf | | | | | | | ormation. | | | | | | | | | | | | | | Shall be | | | | | | | present | | | | | | | if the | | | | | | | \"ana | | | | | | | lyEvent\" | | | | | | | attribute | | | | | | | sets to | | | | | | | \"U | | | | | | | E_COMM\" | | +-----------+-----------+---+-----------+-----------+-----------+ | nw | array(Ne | C | 1..N | Contains | Ne | | PerfInfos | tworkPerf | | | the | twork_Pe | | | Exposure) | | | network | rformance | | | | | | pe | | | | | | | rformance | | | | | | | inf | | | | | | | ormation. | | | | | | | | | | | | | | Shall be | | | | | | | present | | | | | | | if the | | | | | | | \"ana | | | | | | | lyEvent\" | | | | | | | attribute | | | | | | | is set to | | | | | | | \"NETWO | | | | | | | RK_PERFO | | | | | | | RMANCE\". | | +-----------+-----------+---+-----------+-----------+-----------+ | abno | array | C | 1..N | Contains | Abnormal\ | | rmalInfos | (Abnormal | | | the | _Behavior | | | Exposure) | | | user\'s | | | | | | | abnormal | | | | | | | behavior | | | | | | | inf | | | | | | | ormation. | | | | | | | | | | | | | | Shall be | | | | | | | present | | | | | | | if the | | | | | | | \"ana | | | | | | | lyEvent\" | | | | | | | attribute | | | | | | | sets to | | | | | | | \"ABN | | | | | | | ORMAL_BE | | | | | | | HAVIOR\". | | +-----------+-----------+---+-----------+-----------+-----------+ | con | array(Con | C | 1..N | Contains | C | | gestInfos | gestInfo) | | | the UE\'s | ongestion | | | | | | user data | | | | | | | c | | | | | | | ongestion | | | | | | | inf | | | | | | | ormation. | | | | | | | | | | | | | | Shall be | | | | | | | present | | | | | | | if the | | | | | | | \"ana | | | | | | | lyEvent\" | | | | | | | attribute | | | | | | | sets to | | | | | | | \"CONG | | | | | | | ESTION\". | | +-----------+-----------+---+-----------+-----------+-----------+ | dataVlTr | arr | C | 1..N | Contains | E | | nsTmInfos | ay(E2eDat | | | the E2E | 2eDataVol | | | aVolTrans | | | data | TransTime | | | TimeInfo) | | | volume | | | | | | | transfer | | | | | | | time | | | | | | | inf | | | | | | | ormation. | | | | | | | | | | | | | | Shall be | | | | | | | present | | | | | | | if the | | | | | | | \"ana | | | | | | | lyEvent\" | | | | | | | attribute | | | | | | | is set to | | | | | | | \"E2E | | | | | | | _DATA_V | | | | | | | OL_TRANS | | | | | | | _TIME\". | | +-----------+-----------+---+-----------+-----------+-----------+ | qosSus | array | C | 1..N | Contains | Q | | tainInfos | (QosSusta | | | the QoS | oS_Susta | | | inability | | | susta | inability | | | Exposure) | | | inability | | | | | | | inf | E | | | | | | ormation. | 2eDataVol | | | | | | | TransTime | | | | | | Shall be | | | | | | | present | | | | | | | if the | | | | | | | \"ana | | | | | | | lyEvent\" | | | | | | | attribute | | | | | | | is set to | | | | | | | \"QOS\ | | | | | | | _SUSTAINA | | | | | | | BILITY\". | | | | | | | | | | | | | | (NOTE 2) | | +-----------+-----------+---+-----------+-----------+-----------+ | di | arr | C | 1..N | Contains | D | | sperInfos | ay(Disper | | | the | ispersion | | | sionInfo) | | | D | | | | | | | ispersion | | | | | | | inf | | | | | | | ormation. | | | | | | | | | | | | | | Shall be | | | | | | | present | | | | | | | if the | | | | | | | \"ana | | | | | | | lyEvent\" | | | | | | | attribute | | | | | | | is set to | | | | | | | \"DISP | | | | | | | ERSION\". | | +-----------+-----------+---+-----------+-----------+-----------+ | dn | array(Dn | C | 1..N | Contains | DnPe | | PerfInfos | PerfInfo) | | | the DN | rformance | | | | | | pe | | | | | | | rformance | | | | | | | inf | | | | | | | ormation. | | | | | | | | | | | | | | Shall be | | | | | | | present | | | | | | | if the | | | | | | | \"ana | | | | | | | lyEvent\" | | | | | | | attribute | | | | | | | is set to | | | | | | | \" | | | | | | | DN_PERFO | | | | | | | RMANCE\". | | | | | | | | | | | | | | (NOTE 3) | | +-----------+-----------+---+-----------+-----------+-----------+ | movB | a | C | 1..N | The | Movement | | ehavInfos | rray(MovB | | | Movement | Behaviour | | | ehavInfo) | | | Behaviour | | | | | | | inf | | | | | | | ormation. | | | | | | | | | | | | | | Shall be | | | | | | | present | | | | | | | if the | | | | | | | "an | | | | | | | alyEvent" | | | | | | | attribute | | | | | | | is set to | | | | | | | \"MOVE | | | | | | | MENT_BEH | | | | | | | AVIOUR\", | | +-----------+-----------+---+-----------+-----------+-----------+ | svcExps | a | C | 1..N | Contains | ServiceE | | | rray(Serv | | | the | xperience | | | iceExperi | | | service | | | | enceInfo) | | | e | | | | | | | xperience | | | | | | | inf | | | | | | | ormation. | | | | | | | | | | | | | | Shall be | | | | | | | present | | | | | | | if the | | | | | | | \"ana | | | | | | | lyEvent\" | | | | | | | attribute | | | | | | | is set to | | | | | | | \"SERV | | | | | | | ICE_EXPE | | | | | | | RIENCE\". | | +-----------+-----------+---+-----------+-----------+-----------+ | suppFeat | Supporte | M | 1 | R | | | | dFeatures | | | epresents | | | | | | | the | | | | | | | features | | | | | | | supported | | | | | | | by both | | | | | | | the AF | | | | | | | and the | | | | | | | NEF. | | +-----------+-----------+---+-----------+-----------+-----------+ | NOTE 1: | | | | | | | If the | | | | | | | \"start\" | | | | | | | attribute | | | | | | | and the | | | | | | | \ | | | | | | | "expiry\" | | | | | | | attribute | | | | | | | are both | | | | | | | provided, | | | | | | | the | | | | | | | DateTime | | | | | | | of the | | | | | | | \ | | | | | | | "expiry\" | | | | | | | attribute | | | | | | | shall not | | | | | | | be | | | | | | | earlier | | | | | | | than the | | | | | | | DateTime | | | | | | | of the | | | | | | | \"start\" | | | | | | | a | | | | | | | ttribute. | | | | | | | | | | | | | | NOTE 2: | | | | | | | The | | | | | | | \"qosFlo | | | | | | | wRetThd\" | | | | | | | and | | | | | | | \"ranUeT | | | | | | | hrouThd\" | | | | | | | a | | | | | | | ttributes | | | | | | | in | | | | | | | QosSust | | | | | | | ainabilit | | | | | | | yExposure | | | | | | | data type | | | | | | | are not | | | | | | | ap | | | | | | | plicable. | | | | | | | | | | | | | | NOTE 3: | | | | | | | The | | | | | | | \ | | | | | | | "minTraff | | | | | | | icRate\", | | | | | | | \ | | | | | | | "aggTraff | | | | | | | icRate\", | | | | | | | \ | | | | | | | "varTraff | | | | | | | icRate\", | | | | | | | \"trafRat | | | | | | | eUeIds\", | | | | | | | \ | | | | | | | "avePacke | | | | | | | tDelay\", | | | | | | | \ | | | | | | | "maxPacke | | | | | | | tDelay\", | | | | | | | \ | | | | | | | "varPacke | | | | | | | tDelay\", | | | | | | | \ | | | | | | | "packDela | | | | | | | yUeIds\", | | | | | | | \"ma | | | | | | | xPacketLo | | | | | | | ssRate\", | | | | | | | \"v | | | | | | | arPacketL | | | | | | | ossRate\" | | | | | | | and | | | | | | | \ | | | | | | | "packetLo | | | | | | | ssUeIds\" | | | | | | | att | | | | | | | ribute(s) | | | | | | | within | | | | | | | the | | | | | | | D | | | | | | | nPerfInfo | | | | | | | data type | | | | | | | is | | | | | | | a | | | | | | | pplicable | | | | | | | only if | | | | | | | the | | | | | | | \"DnPer | | | | | | | formanceE | | | | | | | xt_AIML" | | | | | | | feature | | | | | | | is | | | | | | | s | | | | | | | upported. | | | | | | | | | | | | | | NOTE 4: | | | | | | | If the | | | | | | | \"Ue | | | | | | | MobilityE | | | | | | | xt_eNA\" | | | | | | | feature | | | | | | | is | | | | | | | supported | | | | | | | and the | | | | | | | \ | | | | | | | "location | | | | | | | GranReq\" | | | | | | | attribute | | | | | | | value | | | | | | | \"LON\ | | | | | | | _AND_LAT | | | | | | | _LEVEL\" | | | | | | | is | | | | | | | r | | | | | | | equested, | | | | | | | the | | | | | | | \ | | | | | | | "geoLoc\" | | | | | | | attribute | | | | | | | within | | | | | | | the | | | | | | | \"UeM | | | | | | | obility\" | | | | | | | type may | | | | | | | be | | | | | | | provided | | | | | | | to report | | | | | | | the | | | | | | | geo | | | | | | | graphical | | | | | | | location | | | | | | | ( | | | | | | | longitude | | | | | | | and | | | | | | | latitude | | | | | | | level). | | | | | | +-----------+-----------+---+-----------+-----------+-----------+
##### 5.6.3.3.15 Type AbnormalExposure
Table 5.6.3.3.15-1: Definition of type AbnormalExposure
+-----------+-----------+---+-----------+-----------+-----------+ | Attribute | Data type | P | Ca | De | Appl | | name | | | rdinality | scription | icability | +-----------+-----------+---+-----------+-----------+-----------+ | gpsis | ar | C | 1..N | Each | | | | ray(Gpsi) | | | element | | | | | | | i | | | | | | | dentifies | | | | | | | a UE | | | | | | | which is | | | | | | | affected | | | | | | | with the | | | | | | | E | | | | | | | xception. | | | | | | | | | | | | | | Shall be | | | | | | | present | | | | | | | if the | | | | | | | sub | | | | | | | scription | | | | | | | request | | | | | | | applies | | | | | | | to more | | | | | | | than one | | | | | | | UE. | | +-----------+-----------+---+-----------+-----------+-----------+ | excep | Exception | M | 1 | Contains | | | | | | | the | | | | | | | exception | | | | | | | inf | | | | | | | ormation. | | +-----------+-----------+---+-----------+-----------+-----------+ | appId | Appl | O | 0..1 | I | | | | icationId | | | dentifies | | | | | | | an | | | | | | | app | | | | | | | lication. | | | | | | | May only | | | | | | | be | | | | | | | present | | | | | | | if the | | | | | | | \ | | | | | | | "appIds\" | | | | | | | attribute | | | | | | | was | | | | | | | provided | | | | | | | within | | | | | | | An | | | | | | | alyticsEv | | | | | | | entFilter | | | | | | | during | | | | | | | the | | | | | | | sub | | | | | | | scription | | | | | | | for event | | | | | | | not | | | | | | | ification | | | | | | | p | | | | | | | rocedure. | | +-----------+-----------+---+-----------+-----------+-----------+ | dnn | Dnn | O | 0..1 | I | Abnor | | | | | | dentifies | mal_Beha | | | | | | DNN, a | vior_Ext | | | | | | full DNN | | | | | | | with both | | | | | | | the | | | | | | | Network | | | | | | | I | | | | | | | dentifier | | | | | | | and | | | | | | | Operator | | | | | | | Id | | | | | | | entifier, | | | | | | | or a DNN | | | | | | | with the | | | | | | | Network | | | | | | | I | | | | | | | dentifier | | | | | | | only. | | +-----------+-----------+---+-----------+-----------+-----------+ | snssai | Snssai | O | 0..1 | I | Abnor | | | | | | dentifies | mal_Beha | | | | | | the | vior_Ext | | | | | | network | | | | | | | slice | | | | | | | inf | | | | | | | ormation. | | +-----------+-----------+---+-----------+-----------+-----------+ | ratio | Samp | C | 0..1 | This | | | | lingRatio | | | attribute | | | | | | | contains | | | | | | | the | | | | | | | p | | | | | | | ercentage | | | | | | | of UEs | | | | | | | with same | | | | | | | analytics | | | | | | | result in | | | | | | | the group | | | | | | | or among | | | | | | | all UEs. | | | | | | | | | | | | | | Shall be | | | | | | | present | | | | | | | if the | | | | | | | analytics | | | | | | | result | | | | | | | applies | | | | | | | for a | | | | | | | group of | | | | | | | UEs or | | | | | | | any UE. | | +-----------+-----------+---+-----------+-----------+-----------+ | c | Uinteger | C | 0..1 | Indicates | | | onfidence | | | | the | | | | | | | c | | | | | | | onfidence | | | | | | | of the | | | | | | | pr | | | | | | | ediction. | | | | | | | (NOTE) | | | | | | | | | | | | | | Shall be | | | | | | | present | | | | | | | if the | | | | | | | analytics | | | | | | | result is | | | | | | | a | | | | | | | pr | | | | | | | ediction. | | | | | | | | | | | | | | Minimum = | | | | | | | 0. | | | | | | | Maximum = | | | | | | | 100. | | +-----------+-----------+---+-----------+-----------+-----------+ | add | Add | O | 0..1 | A | | | tMeasInfo | itionalMe | | | dditional | | | | asurement | | | mea | | | | | | | surement. | | +-----------+-----------+---+-----------+-----------+-----------+ | NOTE: If | | | | | | | the | | | | | | | requested | | | | | | | period | | | | | | | i | | | | | | | dentified | | | | | | | by the | | | | | | | \" | | | | | | | startTs\" | | | | | | | and | | | | | | | \"endTs\" | | | | | | | a | | | | | | | ttributes | | | | | | | in the | | | | | | | \" | | | | | | | EventRepo | | | | | | | rtingRequ | | | | | | | irement\" | | | | | | | type is a | | | | | | | future | | | | | | | time | | | | | | | period, | | | | | | | which | | | | | | | means the | | | | | | | analytics | | | | | | | result is | | | | | | | a | | | | | | | pr | | | | | | | ediction. | | | | | | | If no | | | | | | | s | | | | | | | ufficient | | | | | | | data is | | | | | | | collected | | | | | | | to | | | | | | | provide | | | | | | | the | | | | | | | c | | | | | | | onfidence | | | | | | | of the | | | | | | | p | | | | | | | rediction | | | | | | | before | | | | | | | the time | | | | | | | deadline, | | | | | | | a zero | | | | | | | c | | | | | | | onfidence | | | | | | | shall be | | | | | | | returned. | | | | | | +-----------+-----------+---+-----------+-----------+-----------+
##### 5.6.3.3.16 Type CongestInfo
Table 5.6.3.3.16-1: Definition of type CongestInfo
* * *
Attribute name Data type P Cardinality Description Applicability locArea
LocationArea5G M 1 Network area of interest. (NOTE)  
cngAnas array(CongestionAnalytics) M 1..N Represents data congestion analytics
for transfer over the user plane, control plane or both planes.  
NOTE: The NetworkAreaInfo data within the LocationArea5G data is not
applicable.
* * *
##### 5.6.3.3.17 Type CongestionAnalytics
Table 5.6.3.3.17-1: Definition of type CongestionAnalytics
+-----------+-----------+---+-----------+-----------+-----------+ | Attribute | Data type | P | Ca | De | Appl | | name | | | rdinality | scription | icability | +-----------+-----------+---+-----------+-----------+-----------+ | cngType | Conge | M | 1 | R | | | | stionType | | | epresents | | | | | | | c | | | | | | | ongestion | | | | | | | type. | | +-----------+-----------+---+-----------+-----------+-----------+ | tmWdw | T | M | 1 | R | | | | imeWindow | | | epresents | | | | | | | a start | | | | | | | time and | | | | | | | a stop | | | | | | | time | | | | | | | observed | | | | | | | for the | | | | | | | c | | | | | | | ongestion | | | | | | | inf | | | | | | | ormation. | | | | | | | | | | | | | | (NOTE 2) | | +-----------+-----------+---+-----------+-----------+-----------+ | nsi | Thres | M | 1 | R | | | | holdLevel | | | epresents | | | | | | | network | | | | | | | c | | | | | | | ongestion | | | | | | | level. | | +-----------+-----------+---+-----------+-----------+-----------+ | c | Uinteger | C | 0..1 | Indicates | | | onfidence | | | | the | | | | | | | c | | | | | | | onfidence | | | | | | | of the | | | | | | | pr | | | | | | | ediction. | | | | | | | (NOTE 1) | | | | | | | | | | | | | | Shall be | | | | | | | present | | | | | | | if the | | | | | | | analytics | | | | | | | result is | | | | | | | a | | | | | | | pr | | | | | | | ediction. | | | | | | | | | | | | | | Minimum = | | | | | | | 0. | | | | | | | Maximum = | | | | | | | 100. | | +-----------+-----------+---+-----------+-----------+-----------+ | top | arr | C | 1..N | List of | Cong | | AppListUl | ay(TopApp | | | top | estionExt | | | lication) | | | app | | | | | | | lications | | | | | | | in | | | | | | | Uplink. | | | | | | | Shall be | | | | | | | present | | | | | | | if one of | | | | | | | the | | | | | | | element | | | | | | | in the | | | | | | | \" | | | | | | | listOfAna | | | | | | | Subsets\" | | | | | | | attribute | | | | | | | was set | | | | | | | to | | | | | | | LIST\ | | | | | | | _OF_TOP\ | | | | | | | _APP_UL. | | +-----------+-----------+---+-----------+-----------+-----------+ | top | arr | C | 1..N | List of | Cong | | AppListDl | ay(TopApp | | | top | estionExt | | | lication) | | | app | | | | | | | lications | | | | | | | in | | | | | | | Downlink. | | | | | | | Shall be | | | | | | | present | | | | | | | if one of | | | | | | | the | | | | | | | element | | | | | | | in the | | | | | | | \" | | | | | | | listOfAna | | | | | | | Subsets\" | | | | | | | attribute | | | | | | | was set | | | | | | | to | | | | | | | LIST\ | | | | | | | _OF_TOP\ | | | | | | | _APP_DL. | | +-----------+-----------+---+-----------+-----------+-----------+ | NOTE 1: | | | | | | | If the | | | | | | | requested | | | | | | | period | | | | | | | i | | | | | | | dentified | | | | | | | by the | | | | | | | \" | | | | | | | startTs\" | | | | | | | and | | | | | | | \"endTs\" | | | | | | | a | | | | | | | ttributes | | | | | | | in the | | | | | | | \" | | | | | | | EventRepo | | | | | | | rtingRequ | | | | | | | irement\" | | | | | | | type is a | | | | | | | future | | | | | | | time | | | | | | | period, | | | | | | | which | | | | | | | means the | | | | | | | analytics | | | | | | | result is | | | | | | | a | | | | | | | pr | | | | | | | ediction. | | | | | | | If no | | | | | | | s | | | | | | | ufficient | | | | | | | data is | | | | | | | collected | | | | | | | to | | | | | | | provide | | | | | | | the | | | | | | | c | | | | | | | onfidence | | | | | | | of the | | | | | | | p | | | | | | | rediction | | | | | | | before | | | | | | | the time | | | | | | | deadline, | | | | | | | a zero | | | | | | | c | | | | | | | onfidence | | | | | | | shall be | | | | | | | returned. | | | | | | | | | | | | | | NOTE 2: | | | | | | | If the | | | | | | | \" | | | | | | | temporalG | | | | | | | ranSize\" | | | | | | | attribute | | | | | | | is | | | | | | | provided | | | | | | | in the | | | | | | | request, | | | | | | | the | | | | | | | duration | | | | | | | indicated | | | | | | | by the | | | | | | | \"tmWdw\" | | | | | | | attribute | | | | | | | shall be | | | | | | | greater | | | | | | | than or | | | | | | | equal to | | | | | | | the value | | | | | | | of the | | | | | | | \" | | | | | | | temporalG | | | | | | | ranSize\" | | | | | | | a | | | | | | | ttribute. | | | | | | +-----------+-----------+---+-----------+-----------+-----------+
##### 5.6.3.3.18 Type QosSustainabilityExposure
Table 5.6.3.3.18-1: Definition of type QosSustainabilityExposure
+-----------+-----------+---+-----------+-----------+-----------+ | Attribute | Data type | P | Ca | De | Appl | | name | | | rdinality | scription | icability | +-----------+-----------+---+-----------+-----------+-----------+ | locArea | Locat | M | 1 | Identifi | | | | ionArea5G | | | cation(s) | | | | | | | of | | | | | | | a | | | | | | | pplicable | | | | | | | location | | | | | | | areas | | | | | | | where the | | | | | | | analytics | | | | | | | result | | | | | | | applies. | | | | | | | (NOTE 3, | | | | | | | NOTE 5) | | +-----------+-----------+---+-----------+-----------+-----------+ | fine | array | O | 1..N | This | QoS_Sust | | AreaInfos | (Geograph | | | attribute | ainabilit | | | icalArea) | | | contains | yExt_eNA | | | | | | the | | | | | | | geo | | | | | | | graphical | | | | | | | locations | | | | | | | in a fine | | | | | | | gr | | | | | | | anularity | | | | | | | (e.g. | | | | | | | smaller | | | | | | | than a | | | | | | | cell). | | | | | | | | | | | | | | May be | | | | | | | provided | | | | | | | when the | | | | | | | \"fineGr | | | | | | | anAreas\" | | | | | | | attribute | | | | | | | is | | | | | | | provided | | | | | | | in the | | | | | | | request. | | +-----------+-----------+---+-----------+-----------+-----------+ | startTs | DateTime | M | 1 | R | | | | | | | epresents | | | | | | | the start | | | | | | | time of | | | | | | | the | | | | | | | a | | | | | | | pplicable | | | | | | | observing | | | | | | | period. | | | | | | | | | | | | | | (NOTE 4) | | +-----------+-----------+---+-----------+-----------+-----------+ | endTs | DateTime | M | 1 | R | | | | | | | epresents | | | | | | | the end | | | | | | | time of | | | | | | | the | | | | | | | a | | | | | | | pplicable | | | | | | | observing | | | | | | | period. | | +-----------+-----------+---+-----------+-----------+-----------+ | qosF | Reta | O | 0..1 | The | | | lowRetThd | inability | | | reporting | | | | Threshold | | | QoS Flow | | | | | | | Reta | | | | | | | inability | | | | | | | Threshold | | | | | | | that are | | | | | | | met or | | | | | | | crossed | | | | | | | for 5QI | | | | | | | of GBR | | | | | | | resource | | | | | | | type. | | | | | | | | | | | | | | (NOTE 1) | | +-----------+-----------+---+-----------+-----------+-----------+ | ranU | BitRate | O | 0..1 | The | | | eThrouThd | | | | reporting | | | | | | | RAN UE | | | | | | | T | | | | | | | hroughput | | | | | | | Threshold | | | | | | | that are | | | | | | | met or | | | | | | | crossed | | | | | | | for 5QI | | | | | | | of | | | | | | | non-GBR | | | | | | | resource | | | | | | | type. | | | | | | | | | | | | | | (NOTE 1) | | +-----------+-----------+---+-----------+-----------+-----------+ | snssai | Snssai | O | 0..1 | I | QoS_S | | | | | | dentifies | ustainabi | | | | | | the | lity_Ext | | | | | | network | | | | | | | slice | | | | | | | inf | | | | | | | ormation. | | +-----------+-----------+---+-----------+-----------+-----------+ | c | Uinteger | C | 0..1 | Indicates | | | onfidence | | | | the | | | | | | | c | | | | | | | onfidence | | | | | | | of the | | | | | | | pr | | | | | | | ediction. | | | | | | | (NOTE 2) | | | | | | | | | | | | | | Shall be | | | | | | | present | | | | | | | if the | | | | | | | analytics | | | | | | | result is | | | | | | | a | | | | | | | pr | | | | | | | ediction. | | | | | | | | | | | | | | Minimum = | | | | | | | 0. | | | | | | | Maximum = | | | | | | | 100. | | +-----------+-----------+---+-----------+-----------+-----------+ | NOTE 1: | | | | | | | Either | | | | | | | qosF | | | | | | | lowRetThd | | | | | | | or | | | | | | | ranU | | | | | | | eThrouThd | | | | | | | shall be | | | | | | | provided. | | | | | | | | | | | | | | NOTE 2: | | | | | | | If the | | | | | | | requested | | | | | | | period | | | | | | | i | | | | | | | dentified | | | | | | | by the | | | | | | | \" | | | | | | | startTs\" | | | | | | | and | | | | | | | \"endTs\" | | | | | | | a | | | | | | | ttributes | | | | | | | in the | | | | | | | \" | | | | | | | EventRepo | | | | | | | rtingRequ | | | | | | | irement\" | | | | | | | type is a | | | | | | | future | | | | | | | time | | | | | | | period, | | | | | | | which | | | | | | | means the | | | | | | | analytics | | | | | | | result is | | | | | | | a | | | | | | | pr | | | | | | | ediction. | | | | | | | If no | | | | | | | s | | | | | | | ufficient | | | | | | | data is | | | | | | | collected | | | | | | | to | | | | | | | provide | | | | | | | the | | | | | | | c | | | | | | | onfidence | | | | | | | of the | | | | | | | p | | | | | | | rediction | | | | | | | before | | | | | | | the time | | | | | | | deadline, | | | | | | | a zero | | | | | | | c | | | | | | | onfidence | | | | | | | shall be | | | | | | | returned. | | | | | | | | | | | | | | NOTE 3: | | | | | | | The | | | | | | | Networ | | | | | | | kAreaInfo | | | | | | | data | | | | | | | within | | | | | | | the | | | | | | | Locat | | | | | | | ionArea5G | | | | | | | data is | | | | | | | not | | | | | | | ap | | | | | | | plicable. | | | | | | | | | | | | | | NOTE 4: | | | | | | | If the | | | | | | | \" | | | | | | | temporalG | | | | | | | ranSize\" | | | | | | | attribute | | | | | | | is | | | | | | | provided | | | | | | | in the | | | | | | | request, | | | | | | | the | | | | | | | duration | | | | | | | indicated | | | | | | | by the | | | | | | | \" | | | | | | | startTs\" | | | | | | | and | | | | | | | \"endTs\" | | | | | | | a | | | | | | | ttributes | | | | | | | shall be | | | | | | | greater | | | | | | | than or | | | | | | | equal to | | | | | | | the value | | | | | | | of the | | | | | | | \" | | | | | | | temporalG | | | | | | | ranSize\" | | | | | | | a | | | | | | | ttribute. | | | | | | | | | | | | | | NOTE 5: | | | | | | | If the | | | | | | | \"s | | | | | | | patialGra | | | | | | | nSizeTa\" | | | | | | | and/or | | | | | | | \"spa | | | | | | | tialGranS | | | | | | | izeCell\" | | | | | | | a | | | | | | | ttributes | | | | | | | are | | | | | | | provided | | | | | | | in the | | | | | | | request, | | | | | | | the | | | | | | | number of | | | | | | | TAs or | | | | | | | cells | | | | | | | contained | | | | | | | in | | | | | | | \" | | | | | | | locArea\" | | | | | | | attribute | | | | | | | shall be | | | | | | | smaller | | | | | | | than or | | | | | | | equal to | | | | | | | the | | | | | | | values of | | | | | | | the | | | | | | | \"s | | | | | | | patialGra | | | | | | | nSizeTa\" | | | | | | | and/or | | | | | | | \"spa | | | | | | | tialGranS | | | | | | | izeCell\" | | | | | | | at | | | | | | | tributes. | | | | | | +-----------+-----------+---+-----------+-----------+-----------+
##### 5.6.3.3.19 Type NetworkPerfExposure
Table 5.6.3.3.19-1: Definition of type NetworkPerfExposure
+-----------+-----------+---+-----------+-----------+-----------+ | Attribute | Data type | P | Ca | De | Appl | | name | | | rdinality | scription | icability | +-----------+-----------+---+-----------+-----------+-----------+ | locArea | Locat | M | 1 | Ident | | | | ionArea5G | | | ification | | | | | | | of | | | | | | | network | | | | | | | area to | | | | | | | which the | | | | | | | sub | | | | | | | scription | | | | | | | applies. | | | | | | | | | | | | | | (NOTE 3, | | | | | | | NOTE 6) | | +-----------+-----------+---+-----------+-----------+-----------+ | n | Networ | M | 1 | The type | | | wPerfType | kPerfType | | | of the | | | | | | | network | | | | | | | pe | | | | | | | rformance | | +-----------+-----------+---+-----------+-----------+-----------+ | anaPeriod | T | O | 0..1 | Indicates | N | | | imeWindow | | | the | etworkPer | | | | | | analytics | fExt_eNA | | | | | | target | | | | | | | period | | | | | | | subset | | | | | | | within | | | | | | | the | | | | | | | requested | | | | | | | analytics | | | | | | | target | | | | | | | period. | | | | | | | | | | | | | | (NOTE 5) | | +-----------+-----------+---+-----------+-----------+-----------+ | rela | Samp | O | 0..1 | The | | | tiveRatio | lingRatio | | | reported | | | | | | | relative | | | | | | | ratio | | | | | | | expressed | | | | | | | in | | | | | | | pe | | | | | | | rcentage. | | | | | | | (NOTE 1) | | +-----------+-----------+---+-----------+-----------+-----------+ | ab | Uinteger | O | 0..1 | The | | | soluteNum | | | | reported | | | | | | | absolute | | | | | | | number | | | | | | | (NOTE 1) | | +-----------+-----------+---+-----------+-----------+-----------+ | rscUsgReq | Resour | O | 0..1 | Indicates | NetworkPe | | | ceUsageRe | | | more | rformance | | | quirement | | | in | Ext_AIML | | | | | | formation | | | | | | | when | | | | | | | providing | | | | | | | resource | | | | | | | usage | | | | | | | in | | | | | | | formation | | | | | | | for the | | | | | | | network | | | | | | | pe | | | | | | | rformance | | | | | | | type | | | | | | | indicated | | | | | | | by the | | | | | | | \"nwP | | | | | | | erfType\" | | | | | | | a | | | | | | | ttribute. | | | | | | | (NOTE 4) | | +-----------+-----------+---+-----------+-----------+-----------+ | c | Uinteger | C | 0..1 | Indicates | | | onfidence | | | | the | | | | | | | c | | | | | | | onfidence | | | | | | | of the | | | | | | | pr | | | | | | | ediction. | | | | | | | (NOTE 2) | | | | | | | | | | | | | | Shall be | | | | | | | present | | | | | | | if the | | | | | | | analytics | | | | | | | result is | | | | | | | a | | | | | | | pr | | | | | | | ediction. | | | | | | | | | | | | | | Minimum = | | | | | | | 0. | | | | | | | Maximum = | | | | | | | 100. | | +-----------+-----------+---+-----------+-----------+-----------+ | NOTE 1: | | | | | | | Either | | | | | | | rela | | | | | | | tiveRatio | | | | | | | or | | | | | | | ab | | | | | | | soluteNum | | | | | | | shall be | | | | | | | provided. | | | | | | | | | | | | | | NOTE 2: | | | | | | | If the | | | | | | | requested | | | | | | | period | | | | | | | i | | | | | | | dentified | | | | | | | by the | | | | | | | \" | | | | | | | startTs\" | | | | | | | and | | | | | | | \"endTs\" | | | | | | | a | | | | | | | ttributes | | | | | | | in the | | | | | | | \" | | | | | | | EventRepo | | | | | | | rtingRequ | | | | | | | irement\" | | | | | | | type is a | | | | | | | future | | | | | | | time | | | | | | | period, | | | | | | | which | | | | | | | means the | | | | | | | analytics | | | | | | | result is | | | | | | | a | | | | | | | pr | | | | | | | ediction. | | | | | | | If no | | | | | | | s | | | | | | | ufficient | | | | | | | data is | | | | | | | collected | | | | | | | to | | | | | | | provide | | | | | | | the | | | | | | | c | | | | | | | onfidence | | | | | | | of the | | | | | | | p | | | | | | | rediction | | | | | | | before | | | | | | | the time | | | | | | | deadline, | | | | | | | a zero | | | | | | | c | | | | | | | onfidence | | | | | | | shall be | | | | | | | returned. | | | | | | | | | | | | | | NOTE 3: | | | | | | | The | | | | | | | Networ | | | | | | | kAreaInfo | | | | | | | data | | | | | | | within | | | | | | | the | | | | | | | Locat | | | | | | | ionArea5G | | | | | | | data is | | | | | | | not | | | | | | | ap | | | | | | | plicable. | | | | | | | | | | | | | | NOTE 4: | | | | | | | The | | | | | | | \"rs | | | | | | | cUsgReq\" | | | | | | | value is | | | | | | | only | | | | | | | a | | | | | | | pplicable | | | | | | | when the | | | | | | | \"nwP | | | | | | | erfType\" | | | | | | | attribute | | | | | | | is set to | | | | | | | \" | | | | | | | GNB_RSC\ | | | | | | | _USAGE_O | | | | | | | VERALL_T | | | | | | | RAFFIC\", | | | | | | | \"GNB\ | | | | | | | _RSC_USA | | | | | | | GE_GBR_ | | | | | | | TRAFFIC\" | | | | | | | or | | | | | | | \" | | | | | | | GNB_RSC\ | | | | | | | _USAGE_D | | | | | | | ELAY_CRI | | | | | | | T_GBR_T | | | | | | | RAFFIC\". | | | | | | | | | | | | | | NOTE 5: | | | | | | | If the | | | | | | | \" | | | | | | | temporalG | | | | | | | ranSize\" | | | | | | | attribute | | | | | | | is | | | | | | | provided | | | | | | | in the | | | | | | | request, | | | | | | | the | | | | | | | duration | | | | | | | indicated | | | | | | | by the | | | | | | | \"an | | | | | | | aPeriod\" | | | | | | | attribute | | | | | | | is | | | | | | | greater | | | | | | | than or | | | | | | | equal to | | | | | | | the value | | | | | | | of the | | | | | | | \" | | | | | | | temporalG | | | | | | | ranSize\" | | | | | | | a | | | | | | | ttribute. | | | | | | | | | | | | | | NOTE 6: | | | | | | | If the | | | | | | | \"s | | | | | | | patialGra | | | | | | | nSizeTa\" | | | | | | | and/or | | | | | | | \"spa | | | | | | | tialGranS | | | | | | | izeCell\" | | | | | | | a | | | | | | | ttributes | | | | | | | are | | | | | | | provided | | | | | | | in the | | | | | | | request, | | | | | | | the | | | | | | | number of | | | | | | | TAs or | | | | | | | cells | | | | | | | contained | | | | | | | in | | | | | | | \" | | | | | | | locArea\" | | | | | | | attribute | | | | | | | shall be | | | | | | | smaller | | | | | | | than or | | | | | | | equal to | | | | | | | the | | | | | | | values of | | | | | | | the | | | | | | | \"s | | | | | | | patialGra | | | | | | | nSizeTa\" | | | | | | | and/or | | | | | | | \"spa | | | | | | | tialGranS | | | | | | | izeCell\" | | | | | | | at | | | | | | | tributes. | | | | | | +-----------+-----------+---+-----------+-----------+-----------+
##### 5.6.3.3.20 Type AnalyticsFailureEventInfo
Table 5.6.3.3.20-1: Definition of type AnalyticsFailureEventInfo
* * *
Attribute name Data type P Cardinality Description Applicability event
AnalyticsEvent M 1 Event that is subscribed.  
failureCode AnalyticsFailureCode M 1 Identifies the failure reason
* * *
#### 5.6.3.4 Simple data types and enumerations
##### 5.6.3.4.1 Introduction
This clause defines simple data types and enumerations that can be referenced
from data structures defined in the previous clauses.
##### 5.6.3.4.2 Simple data types
The simple data types defined in table 5.6.3.4.2-1 shall be supported.
Table 5.6.3.4.2-1: Simple data types
* * *
Type Name Type Definition Description Applicability
* * *
##### 5.6.3.4.3 Enumeration: AnalyticsEvent
The enumeration represents the type of analytics events of which the AF
requests to be notified. It shall comply with the provisions defined in table
5.6.3.4.3-1.
Table 5.6.3.4.3-1: Enumeration AnalyticsEvent
* * *
Enumeration value Description Applicability UE_MOBILITY The AF requests to be
notified about analytics information of UE mobility. Ue_Mobility UE_COMM The
AF requests to be notified about analytics information of UE communication.
Ue_Communication ABNORMAL_BEHAVIOR The AF requests to be notified about
analytics information of UE\'s abnormal behavior. Abnormal_Behavior CONGESTION
The AF requests to be notified about analytics information of user data
congestion information. Congestion NETWORK_PERFORMANCE The AF requests to be
notified about analytics information of network performance information.
Network_Performance QOS_SUSTAINABILITY The AF requests to be notified about
analytics information of QoS sustainability. QoS_Sustainability DISPERSION The
AF requests to be notified about analytics information of Dispersion
information. Dispersion DN_PERFORMANCE The AF requests to be notified about
analytics information of DN performance information. DnPerformance
SERVICE_EXPERIENCE The AF requests to be notified about analytics information
of service experience. ServiceExperience E2E_DATA_VOL_TRANS_TIME Indicates
that the event subscribed is E2E data volume transfer time E2eDataVolTransTime
MOVEMENT_BEHAVIOUR Indicates that the event subscribed is the Movement
Behaviour information. MovementBehaviour
* * *
##### 5.6.3.4.4 Enumeration: AnalyticsFailureCode
Table 5.6.3.4.4-1: Enumeration AnalyticsFailureCode
* * *
Enumeration value Description Applicability BOTH_STAT_PRED_NOT_ALLOWED The
event is rejected since the start time is in the past and the end time is in
the future, which means the NF service consumer requested both statistics and
prediction for the analytics.  
UNAVAILABLE_DATA The event is rejected since necessary data to perform the
service is unavailable.  
UNSATISFIED_REQUESTED_ANALYTICS_TIME Indicates that the requested event is
rejected since the analytics information is not ready when the time indicated
by the \"timeAnaNeeded\" attribute (as provided during the creation or
modification of subscription) is reached. EneNA OTHER The event is rejected
due to other reasons.
* * *
### 5.6.4 Used Features
The table below defines the features applicable to the AnalyticsExposure API.
Those features are negotiated as described in clause 5.2.7 of 3GPP TS 29.122
[4].
Table 5.6.4-1: Features used by AnalyticsExposure API
+----------------+-------------------------+-------------------------+ | Feature number | Feature Name | Description | +----------------+-------------------------+-------------------------+ | 1 | Ue_Mobility | This feature indicates | | | | support for the | | | | analytics event related | | | | to UE mobility. | +----------------+-------------------------+-------------------------+ | 2 | Ue_Communication | This feature indicates | | | | support for the | | | | analytics event related | | | | to UE communication | | | | information. | +----------------+-------------------------+-------------------------+ | 3 | Abnormal_Behavior | This feature indicates | | | | support for the | | | | analytics event related | | | | to UE\'s abnormal | | | | behaviour. | +----------------+-------------------------+-------------------------+ | 4 | Congestion | This feature indicates | | | | support for the | | | | analytics event related | | | | to UE\'s user data | | | | congestion information. | +----------------+-------------------------+-------------------------+ | 5 | Network_Performance | This feature indicates | | | | support for the | | | | analytics event related | | | | to network performance. | +----------------+-------------------------+-------------------------+ | 6 | QoS_Sustainability | This feature indicates | | | | support for the | | | | analytics event related | | | | to QoS sustainability. | +----------------+-------------------------+-------------------------+ | 7 | Notification_websocket | The delivery of | | | | notifications over | | | | Websocket is supported | | | | as described in | | | | 3GPP TS 29.122 [4]. | | | | This feature requires | | | | that the | | | | No | | | | tification_test_event | | | | feature is also | | | | supported. | +----------------+-------------------------+-------------------------+ | 8 | No | The testing of | | | tification_test_event | notification connection | | | | is supported as | | | | described in | | | | 3GPP TS 29.122 [4]. | +----------------+-------------------------+-------------------------+ | 9 | Dispersion | This feature indicates | | | | support for the | | | | analytics event related | | | | to Dispersion | | | | analytics. | +----------------+-------------------------+-------------------------+ | 10 | EneNA | This feature indicates | | | | support for the | | | | enhancements of network | | | | data analytics | | | | requirements. | +----------------+-------------------------+-------------------------+ | 11 | DnPerformance | This feature indicates | | | | the support of the | | | | analytics event related | | | | to DN performance. | +----------------+-------------------------+-------------------------+ | 12 | ServiceExperience | This feature indicates | | | | support for the event | | | | related to service | | | | experience. | +----------------+-------------------------+-------------------------+ | 13 | CongestionExt | This feature indicates | | | | support for the | | | | extensions to the event | | | | related to user data | | | | congestion, including | | | | support of GPSI and/or | | | | list of Top | | | | applications. | | | | Supporting this feature | | | | also requires the | | | | support of feature | | | | Congestion. | +----------------+-------------------------+-------------------------+ | 14 | Abnormal_Behavior_Ext | This feature indicates | | | | support for the | | | | extensions to the event | | | | related to abnormal | | | | behavior, including | | | | support of exposing DNN | | | | and S-NSSAI | | | | information. | | | | | | | | Supporting this feature | | | | also requires the | | | | support of feature | | | | Abnormal_Behavior. | +----------------+-------------------------+-------------------------+ | 15 | Q | This feature indicates | | | oS_Sustainability_Ext | support for the | | | | extensions to the event | | | | related to QoS | | | | sustainability, | | | | including support of | | | | exposing S-NSSAI | | | | information. | | | | | | | | Supporting this feature | | | | also requires the | | | | support of feature | | | | QoS_Sustainability. | +----------------+-------------------------+-------------------------+ | 16 | TermRequest | This feature indicates | | | | support for Analytics | | | | Exposure Subscription | | | | termination requests | | | | sent by the NEF to the | | | | NF service consumer. | +----------------+-------------------------+-------------------------+ | 17 | QoS\ | This feature indicates | | | _SustainabilityExt_eNA | support for the | | | | extensions related to | | | | eNA to the event | | | | related to QoS | | | | sustainability, | | | | including support of | | | | exposing S-NSSAI | | | | information. | | | | | | | | Supporting this feature | | | | also requires the | | | | support of feature | | | | QoS_Sustainability. | +----------------+-------------------------+-------------------------+ | 18 | Se | This feature indicates | | | rviceExperienceExt_eNA | support for the | | | | extensions to the event | | | | related to service | | | | experience supporting | | | | eNA, including support | | | | for DNN, S-NSSAI, | | | | Location Area, PDU | | | | Session parameters | | | | information for service | | | | experience analytics. | | | | Supporting this feature | | | | also requires the | | | | support of feature | | | | ServiceExperience. | +----------------+-------------------------+-------------------------+ | 19 | Abn | This feature indicates | | | ormal_BehaviorExt_eNA | support for the | | | | extensions to the event | | | | related to abnormal | | | | behavior related to | | | | eNA, including support | | | | of exposing DNN and | | | | S-NSSAI information. | | | | | | | | Supporting this feature | | | | also requires the | | | | support of feature | | | | Abnormal_Behavior. | +----------------+-------------------------+-------------------------+ | 20 | CongestionExt_eNA | This feature indicates | | | | support for the | | | | extensions to the event | | | | related to user data | | | | congestion related to | | | | eNA, including support | | | | of GPSI and/or list of | | | | Top applications. | | | | Supporting this feature | | | | also requires the | | | | support of feature | | | | Congestion. | +----------------+-------------------------+-------------------------+ | 21 | DispersionExt_eNA | This feature indicates | | | | support for the | | | | extensions associated | | | | with analytics event | | | | related to Dispersion | | | | analytics. Supporting | | | | this feature also | | | | requires the support of | | | | feature Congestion. | +----------------+-------------------------+-------------------------+ | 22 | DnPerformanceExt_eNA | This feature indicates | | | | the support of the | | | | analytics event related | | | | to DN performance. | | | | Supporting this feature | | | | also requires the | | | | support of feature | | | | DnPerformance. | +----------------+-------------------------+-------------------------+ | 23 | UeCommunicationExt_eNA | This feature indicates | | | | the support of the | | | | analytics event related | | | | to UE communication | | | | related to eNA. | | | | Supporting this feature | | | | also requires the | | | | support of feature | | | | Ue_Communication. | +----------------+-------------------------+-------------------------+ | 24 | Ue_MobilityExt_eNA | This feature indicates | | | | the support of the | | | | analytics event related | | | | to UE Mobility | | | | supporting eNA, | | | | including ordering | | | | criterion and preferred | | | | granularity of | | | | location. Supporting | | | | this feature also | | | | requires the support of | | | | feature Ue_Mobility. | +----------------+-------------------------+-------------------------+ | 25 | DnPerformanceExt_AIML | This feature indicates | | | | support for extensions | | | | to the event related to | | | | DN Performance | | | | supporting AIML, | | | | including support of | | | | extended DN Performance | | | | Analytics for group of | | | | UEs. Supporting this | | | | feature also requires | | | | the support of feature | | | | DnPerformance. | +----------------+-------------------------+-------------------------+ | 26 | UeMobilityExt_AIML | This feature indicates | | | | support for further | | | | extensions to the event | | | | related to UE mobility | | | | supporting AIML, | | | | including support of | | | | UE's geographical | | | | distribution and | | | | direction analytics. | | | | Supporting this feature | | | | also requires the | | | | support of feature | | | | UeMobility. | +----------------+-------------------------+-------------------------+ | 27 | Netw | This feature indicates | | | orkPerformanceExt_AIML | support of the network | | | | performance | | | | enhancements for | | | | AI/ML-based Services. | | | | Within this feature the | | | | following enhacements | | | | are covered: | | | | | | | | - support of providing | | | | gNB resource usage for | | | | GBR traffic and | | | | Delay-critical GBR | | | | traffic. | | | | | | | | Supporting this feature | | | | also requires the | | | | support of | | | | Network_Performance | | | | feature. | +----------------+-------------------------+-------------------------+ | 28 | EnhDataMgmt | Indicates the support | | | | of enhanced data | | | | management mechanisms. | | | | Supporting this feature | | | | also requires the | | | | support of feature | | | | EneNA. | +----------------+-------------------------+-------------------------+ | 29 | E2eDataVolTransTi | This feature indicates | | | | support for E2E data | | | me | volume transfer time | | | | analytics | +----------------+-------------------------+-------------------------+ | 30 | ENAExt | This feature indicates | | | | support for the general | | | | enhancements of | | | | analytics exposure | | | | requirements, including | | | | support for use case | | | | context sent by the NF | | | | service consumer to the | | | | NEF. | +----------------+-------------------------+-------------------------+ | 31 | NetworkPerfExt_eNA | This feature indicates | | | | support for the | | | | enhancements of network | | | | performance. Within | | | | this feature the | | | | following enhacements | | | | are covered: | | | | | | | | - support of providing | | | | target period subset in | | | | the analytics. | | | | | | | | Supporting this feature | | | | also requires the | | | | support of | | | | Network_Performance | | | | feature. | +----------------+-------------------------+-------------------------+ | 32 | MovementBehaviour | This feature indicates | | | | support for the | | | | Movement Behaviour | | | | information. | +----------------+-------------------------+-------------------------+
### 5.6.5 Error handling
#### 5.6.5.1 General
HTTP error handling shall be supported as specified in clause 5.2.6 of 3GPP TS
29.122 [4].
In addition, the requirements in the following clauses shall apply.
#### 5.6.5.2 Protocol Errors
In this Release of the specification, there are no additional protocol errors
applicable for the AnalyticsExposure API.
#### 5.6.5.3 Application Errors
The application errors defined for the AnalyticsExposure API are listed in
table 5.6.5.3-1.
Table 5.6.5.3-1: Application errors
* * *
**Application Error** **HTTP status code** **Description**
BOTH_STAT_PRED_NOT_ALLOWED 400 Bad Request For the requested observation
period, the start time is in the past and the end time is in the future, which
means the AF requested both statistics and prediction for the analytics.
USER_CONSENT_NOT_GRANTED 403 Forbidden Indicates that the request shall be
rejected because an impacted user has not provided the required user consent.
MUTING_INSTR_NOT_ACCEPTED 403 Forbidden Indicates that the muting instructions
received by the NF service consumer cannot be accepted. DATA_NOT_FOUND 404 Not
Found The requested UE subscription data is not found/does not exist.
USER_NOT_FOUND 404 Not Found The user does not exist.
GROUP_IDENTIFIER_NOT_FOUND 404 Not Found The requested Group Identifier does
not exist. SUBSCRIPTION_NOT_FOUND 404 Not Found The subscription does not
exist. UNAVAILABLE_DATA 500 Internal Server Error Indicates the requested
statistics in the past is rejected since necessary data to perform the service
is unavailable. UNSATISFIED_REQUESTED_ANALYTICS_TIME 500 Internal Server Error
Indicates that the requested event is rejected since the analytics information
is not ready when the time indicated by the \"timeAnaNeeded\" attribute (as
provided during the request) is reached.
* * *
## 5.7 5GLANParameterProvision API
### 5.7.0 Introduction
The Nnef_ParameterProvision service shall use the 5GLANParameterProvision API
for 5G LAN parameters provisioning.
The API URI of 5GLANParameterProvision API shall be:
**{apiRoot}/3gpp-5glan-pp/v1**
with the following components:
\- \"apiRoot\" is set as defined in clause 5.2.4 of 3GPP TS 29.122 [4].
\- \"apiName\" shall be set to \"3gpp-5glan-pp\".
\- \"apiVersion\" shall be set to \"v1\" for the current version defined in
the present document.
All resource URIs in the clauses below are defined relative to the above API
URI.
### 5.7.1 Resources
#### 5.7.1.1 Overview
This clause describes the structure for the Resource URIs as shown in figure
5.7.1.1-1 and the resources and HTTP methods used for the
5GLANParameterProvision API.
Figure 5.7.1.1-1: Resource URI structure of the 5GLANParameterProvision API
Table 5.7.1.1-1 provides an overview of the resources and HTTP methods
applicable for the 5GLANParameterProvision API.
Table 5.7.1.1-1: Resources and methods overview
* * *
Resource name Resource URI HTTP method Description 5GLAN Parameters Provision
Subscriptions /{afId}/subscriptions GET Read all subscriptions for a given AF.
POST Create a new subscription to provision parameters. Individual 5GLAN
Parameters Provision Subscription /{afId}/subscriptions/{subscriptionId} GET
Read an existing subscription identified by {subscriptionId}. PUT Update an
existing subscription identified by {subscriptionId}. PATCH Modify an existing
subscription identified by {subscriptionId}. DELETE Delete a subscription
identified by {subscriptionId}.
* * *
#### 5.7.1.2 Resource: 5GLAN Parameters Provision Subscriptions
##### 5.7.1.2.1 Introduction
This resource allows a AF to read all active 5GLAN parameters provision
subscribtions for the given AF, or create an new individual 5GLAN parameters
provision subscription to provision parameters to the NEF.
##### 5.7.1.2.2 Resource Definition
Resource URI: **{apiRoot}/3gpp-5glan-pp/v1/{afId}/subscriptions**
This resource shall support the resource URI variables defined in table
5.7.1.2.2-1.
Table 5.7.1.2.2-1: Resource URI variables for this resource
* * *
Name Data type Definition apiRoot string Clause 5.2.4 of 3GPP TS 29.122 [4].
afId string Identifier of the AF.
* * *
##### 5.7.1.2.3 Resource Methods
###### 5.7.1.2.3.1 General
The following clauses specify the resource methods supported by the resource
as described in clause 5.7.1.2.2.
###### 5.7.1.2.3.2 GET
The GET method allows to read all active subscriptions for a given AF. The AF
shall initiate the HTTP GET request message and the NEF shall respond to the
message.
This method shall support the URI query parameters specified in table
5.7.1.2.3.2-1.
Table 5.7.1.2.3.2-1: URI query parameters supported by the GET method on this
resource
* * *
Name Data type P Cardinality Description N/A
* * *
This method shall support the request data structures specified in table
5.7.1.2.3.2-2 and the response data structures and response codes specified in
table 5.7.1.2.3.2-3.
Table 5.7.1.2.3.2-2: Data structures supported by the GET Request Body on this
resource
* * *
Data type P Cardinality Description N/A
* * *
Table 5.7.1.2.3.2-3: Data structures supported by the GET Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | array | M | 0..N | 200 OK | All the | | (5GLanParamet | | | | subscription | | ersProvision) | | | | information | | | | | | for the AF in | | | | | | the request | | | | | | URI are | | | | | | returned. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 307 Temporary | Temporary | | | | | Redirect | redirection, | | | | | | during | | | | | | subscription | | | | | | retrieval. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 308 Permanent | Permanent | | | | | Redirect | redirection, | | | | | | during | | | | | | subscription | | | | | | retrieval. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the GET | | | | | | method listed | | | | | | in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.7.1.2.3.2-4: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
Table 5.7.1.2.3.2-5: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
###### 5.7.1.2.3.3 POST
The POST method creates a new resource to individual 5GLAN parameters
provision subscription for a given AF. The AF shall initiate the HTTP POST
request message and the NEF shall respond to the message. The NEF shall
construct the URI of the created resource.
This method shall support the request data structures specified in table
5.7.1.2.3.3-1 and the response data structures and response codes specified in
table 5.7.1.2.3.3-2.
Table 5.7.1.2.3.3-1: Data structures supported by the POST Request Body on
this resource
* * *
Data type P Cardinality Description 5GLanParametersProvision M 1 Parameters to
create a subscription to provision parameters.
* * *
Table 5.7.1.2.3.3-2: Data structures supported by the POST Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | 5GLanParame | M | 1 | 201 Created | The | | tersProvision | | | | subscription | | | | | | was created | | | | | | successfully. | | | | | | | | | | | | The URI of | | | | | | the created | | | | | | resource | | | | | | shall be | | | | | | returned in | | | | | | the | | | | | | \"Location\" | | | | | | HTTP header. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the POST | | | | | | method listed | | | | | | in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.7.1.2.3.3-3: Headers supported by the 201 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 Contains the URI
of the newly created resource, according to the structure:
{apiRoot}/3gpp-5glan-pp/v1/{afId}/subscriptions/{subscriptionId}
* * *
#### 5.7.1.3 Resource: Individual 5GLAN Parameters Provision Subscription
##### 5.7.1.3.1 Introduction
This resource allows a AF to read, update or delete an existing subscription
to provision 5GLAN parameters.
##### 5.7.1.3.2 Resource Definition
Resource URI: **{apiRoot}/3gpp-5glan-
pp/v1/{afId}/subscriptions/{subscriptionId}**
This resource shall support the resource URI variables defined in table
5.7.1.3.2-1.
Table 5.7.1.3.2-1: Resource URI variables for this resource
* * *
Name Data type Definition apiRoot string Clause 5.2.4 of 3GPP TS 29.122 [4].
afId string Identifier of the AF. subscriptionId string Identifier of the
subscription resource.
* * *
##### 5.7.1.3.3 Resource Methods
###### 5.7.1.3.3.1 General
The following clauses specify the resource methods supported by the resource
as described in clause 5.7.1.3.2.
###### 5.7.1.3.3.2 GET
The GET method allows to read the active subscription for a given AF and
subscription Id. The AF shall initiate the HTTP GET request message and the
NEF shall respond to the message.
This method shall support the URI query parameters specified in table
5.7.1.3.3.2-1.
Table 5.7.1.3.3.2-1: URI query parameters supported by the GET method on this
resource
* * *
Name Data type P Cardinality Description N/A
* * *
This method shall support the request data structures specified in table
5.7.1.3.3.2-2 and the response data structures and response codes specified in
table 5.7.1.3.3.2-3.
Table 5.7.1.3.3.2-2: Data structures supported by the GET Request Body on this
resource
* * *
Data type P Cardinality Description N/A
* * *
Table 5.7.1.3.3.2-3: Data structures supported by the GET Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | 5GLanParame | M | 1 | 200 OK | The | | tersProvision | | | | information | | | | | | for the | | | | | | subscription | | | | | | in the | | | | | | request URI | | | | | | are returned. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 307 Temporary | Temporary | | | | | Redirect | redirection, | | | | | | during | | | | | | subscription | | | | | | retrieval. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 308 Permanent | Permanent | | | | | Redirect | redirection, | | | | | | during | | | | | | subscription | | | | | | retrieval. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the GET | | | | | | method listed | | | | | | in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.7.1.3.3.2-4: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
Table 5.7.1.3.3.2-5: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
###### 5.7.1.3.3.3 PUT
The PUT method modifies an existing resource to update a subscription. The AF
shall initiate the HTTP PUT request message and the NEF shall respond to the
message.
This method shall support the request data structures specified in table
5.7.1.3.3.3-1 and the response data structures and response codes specified in
table 5.7.1.3.3.3-2.
Table 5.7.1.3.3.3-1: Data structures supported by the PUT Request Body on this
resource
* * *
Data type P Cardinality Description 5GLanParametersProvision M 1 Modify an
existing subscription to provision parameters.
* * *
Table 5.7.1.3.3.3-2: Data structures supported by the PUT Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | 5GLanParame | M | 1 | 200 OK | The | | tersProvision | | | | subscription | | | | | | was updated | | | | | | successfully. | +---------------+---+-------------+---------------+---------------+ | n/a | | | 204 No | The | | | | | Content | subscription | | | | | | was updated | | | | | | successfully. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 307 Temporary | Temporary | | | | | Redirect | redirection, | | | | | | during | | | | | | subscription | | | | | | modification. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 308 Permanent | Permanent | | | | | Redirect | redirection, | | | | | | during | | | | | | subscription | | | | | | modification. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the PUT | | | | | | method listed | | | | | | in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.7.1.3.3.3-3: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
Table 5.7.1.3.3.3-4: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
###### 5.7.1.3.3.4 DELETE
The DELETE method deletes an existing individual 5GLAN parameters provision
subscription for a given AF. The AF shall initiate the HTTP DELETE request
message and the NEF shall respond to the message.
This method shall support the URI query parameters specified in table
5.7.1.3.3.4-1.
Table 5.7.1.3.3.4-1: URI query parameters supported by the DELETE method on
this resource
* * *
Name Data type P Cardinality Description N/A
* * *
This method shall support the request data structures specified in table
5.7.1.3.3.4-2 and the response data structures and response codes specified in
table 5.7.1.3.3.4-3.
Table 5.7.1.3.3.4-2: Data structures supported by the DELETE Request Body on
this resource
* * *
Data type P Cardinality Description N/A
* * *
Table 5.7.1.3.3.4-3: Data structures supported by the DELETE Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | N/A | | | 204 No | The | | | | | Content | subscription | | | | | | was | | | | | | terminated | | | | | | successfully. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 307 Temporary | Temporary | | | | | Redirect | redirection, | | | | | | during | | | | | | subscription | | | | | | termination. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 308 Permanent | Permanent | | | | | Redirect | redirection, | | | | | | during | | | | | | subscription | | | | | | termination. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the | | | | | | DELETE method | | | | | | listed in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.7.1.3.3.4-4: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
Table 5.7.1.3.3.4-5: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
###### 5.7.1.3.3.5 PATCH
The PATCH method allows to change some properties of an existing resource to
update a subscription. The AF shall initiate the HTTP PATCH request message
and the NEF shall respond to the message.
This method shall support the request data structures specified in table
5.7.1.3.3.5-1 and the response data structures and response codes specified in
table 5.7.1.3.3.5-2.
Table 5.7.1.3.3.5-1: Data structures supported by the PATCH Request Body on
this resource
* * *
Data type P Cardinality Description 5GLanParametersProvisionPatch M 1 Modify
an existing subscription to provision parameters.
* * *
Table 5.7.1.3.3.5-2: Data structures supported by the PATCH Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | 5GLanParame | M | 1 | 200 OK | The | | tersProvision | | | | subscription | | | | | | was updated | | | | | | successfully. | +---------------+---+-------------+---------------+---------------+ | n/a | | | 204 No | The | | | | | Content | subscription | | | | | | was updated | | | | | | successfully. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 307 Temporary | Temporary | | | | | Redirect | redirection, | | | | | | during | | | | | | subscription | | | | | | modification. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 308 Permanent | Permanent | | | | | Redirect | redirection, | | | | | | during | | | | | | subscription | | | | | | modification. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the PATCH | | | | | | method listed | | | | | | in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.7.1.3.3.5-3: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
Table 5.7.1.3.3.5-4: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
### 5.7.1A Custom Operations without associated resources
There are no custom operations without associated resources defined for this
API in this release of the specification.
### 5.7.1B Notifications
#### 5.7.1B.1 General
Notifications shall comply to clause 5.2.5 of 3GPP TS 29.122 [4].
Table 5.7.1B.1-1: Notifications overview
+----------------+--------------+----------------+----------------+ | Notification | Callback URI | HTTP method or | Description | | | | custom | | | | | operation | (service | | | | | operation) | +----------------+--------------+----------------+----------------+ | 5G LAN | {notifUri} | POST | This operation | | Parameter | | | enables the | | Provisioning | | | NEF to notify | | Event | | | a previously | | Notification | | | subscribed AF | | | | | on 5G LAN | | | | | Parameter | | | | | Provisioning | | | | | related | | | | | Events. | +----------------+--------------+----------------+----------------+
#### 5.7.1B.2 5G LAN Parameter Provisioning Event Notification
##### 5.7.1B.2.1 Description
The 5G LAN Parameter Provisioning Event Notification is used by the NEF to
report 5G LAN Parameter Provisioning related Events to a previously subscribed
AF.
##### 5.7.1B.2.2 Target URI
The Callback URI **\"{notifUri}\"** shall be used with the callback URI
variables defined in table 5.7.1B.2.2-1.
Table 5.7.1B.2.2-1: Callback URI variables
* * *
Name Definition notifUri Callback reference provided by the AF during the
creation/update/modification of the related 5G LAN Parameters Provisioning.
* * *
##### 5.7.1B.2.3 Operation Definition
###### 5.7.1B.2.3.1 Notification via HTTP POST
This method shall support the request data structures specified in table
5.7.1B.2.3.1-1 and the response data structures and response codes specified
in table 5.7.1B.2.3.1-2.
Table 5.7.1B.2.3.1-1: Data structures supported by the POST Request Body on
this resource
* * *
Data type P Cardinality Description 5GLanParamProvNotif M 1 Provides
information about the observed 5G LAN Parameter Provisioning related Events.
* * *
Table 5.7.1B.2.3.1-2: Data structures supported by the POST Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | n/a | | | 204 No | The 5G LAN | | | | | Content | Parameter | | | | | | Provisioning | | | | | | Event | | | | | | Notification | | | | | | is | | | | | | successfully | | | | | | received. | +---------------+---+-------------+---------------+---------------+ | n/a | | | 307 Temporary | Temporary | | | | | Redirect | redirection. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI | | | | | | representing | | | | | | the end point | | | | | | of an | | | | | | alternative | | | | | | AF where the | | | | | | notification | | | | | | should be | | | | | | sent. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | n/a | | | 308 Permanent | Permanent | | | | | Redirect | redirection. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI | | | | | | representing | | | | | | the end point | | | | | | of an | | | | | | alternative | | | | | | AF where the | | | | | | notification | | | | | | should be | | | | | | sent. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the POST | | | | | | method listed | | | | | | in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.7.1B.2.3.1-3: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI representing the end point of an alternative AF towards which the
notification should be redirected.
* * *
Table 5.7.1B.2.3.1-4: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI representing the end point of an alternative AF towards which the
notification should be redirected.
* * *
###### 5.7.1B.2.3.2 Notification via Websocket
If supported by both AF and NEF and successfully negotiated, the 5G LAN
Parameter Provisioning Event Notification may alternatively be delivered
through the Websocket mechanism as defined in clause 5.2.5.4 of 3GPP TS 29.122
[4].
### 5.7.2 Data Model
#### 5.7.2.1 General
This clause specifies the application data model supported by the
5GLANParameterProvision API.
Table 5.7.2.1-1 specifies the data types defined for the
5GLANParameterProvision API.
Table 5.7.2.1-1: 5GLANParameterProvision API specific Data Types
* * *
Data type Clause defined Description Applicability 5GLanParameters 5.7.2.3.3
Represents 5G LAN service related parameters that need to be provisioned.  
5GLanParametersPatch 5.7.2.3.6 Represents 5G LAN service related parameters
that need to be modified.  
5GLanParametersProvision 5.7.2.3.2 Represents an individual 5G LAN parameters
provision subscription resource.  
5GLanParametersProvisionPatch 5.7.2.3.5 Represents the 5G LAN parameters to
request the modification of a subscription to provision parameters.  
5GLanParamProvNotif 5.7.3.15 Represents a 5G LAN Parameter Provisioning Event
Notification. GMEC AaaUsage 5.7.2.4.3 Represents the usage of the DN-AAA
server.  
AcsParams 5.7.3.12 Represents ACS configuration parameters. GMEC AppDescriptor
5.7.2.3.4 Represents an operation system and the corresponding applications.  
AppDescriptorRm 5.7.2.3.7 Represents the same as the AppDescriptor data type
but with the \"nullable: true\" property.  
CpParams 5.7.3.9 Represents Communication Pattern parameters. GMEC
DnnSnssaiParams 5.7.3.14 Represents DNN and S-NSSAI specific group parameters.
GMEC ECSAddrParams 5.7.3.13 Represents ECS address configuration parameters.
GMEC LpiParams 5.7.3.11 Represents Location Privacy Indication parameters.
GMEC NpConfigNotif 5.7.3.16 Represents a Network Parameters Configuration
related notification. GMEC NpConfigParams 5.7.3.10 Represents Network
Parameters Configuration information. GMEC CpParams 5.7.3.9 Represents
Communication Pattern parameters. GMEC MaxGrpDataRateInfo 5.7.2.3.17
Represents the Maximum Group Data Rate related information. GMEC
* * *
#### 5.7.2.2 Reused data types
The data types reused by the 5GLANParameterProvision API from other
specifications are listed in table 5.7.2.2-1.
Table 5.7.2.2-1: Re-used Data Types
* * *
Data type Reference Comments AfReqDefaultQoS Clause 5.33.5.2.5 Represents the
AF requested default QoS. AppliedParameterConfiguration 3GPP TS 29.122 [4]
Represents the parameter configuration applied in the network. ApplicationId
3GPP TS 29.571 [8] Represents the identifier of an application. AcsInfo 3GPP
TS 29.571 [8] Contains the ACS information. BitRate 3GPP TS 29.571 [8]
Represents a bit rate. CpParameterSet 3GPP TS 29.122 [4] Represents an offered
Communication Pattern parameter set. CpReport 3GPP TS 29.122 [4] Represents a
CP report. ConfigResult 3GPP TS 29.122 [4] Represents one configuration
processing result for a group\'s members. DateTime 3GPP TS 29.122 [4]
Represents a data and a time. Dnn 3GPP TS 29.571 [8] Identifies a DNN.
DurationSec 3GPP TS 29.122 [4] Indicates a time duration. EcsServerAddr 3GPP
TS 29.571 [8] Represents the Edge Configuration Server (ECS) address
configuration information. ExternalGroupId 3GPP TS 29.122 [4] External Group
Identifier for a user group. Gpsi 3GPP TS 29.571 [8] Identifies a GPSI.
Ipv4Addr 3GPP TS 29.571 [8] Identifies an IPv4 address. Ipv6Addr 3GPP TS
29.571 [8] Identifies an IPv6 address. LadnServArea Clause 5.33.5.2.6
Represents an LADN Service Area. Link 3GPP TS 29.122 [4] Represents a
referenced resource. Lpi 3GPP TS 29.503 [17] Represents the Location Privacy
Indication information. MtcProviderInformation 3GPP TS 29.571 [8] Indicates
MTC provider information for 5G VN Group Configuration authorization. OsId
3GPP TS 29.519 [23] Operating System. PduSessionType 3GPP TS 29.571 [8] PDU
session type. Snssai 3GPP TS 29.571 [8] Identifies the S-NSSAI.
SpatialValidityCond 3GPP TS 29.571 [8] Represents the Spatial Validity
Condition. SupportedFeatures 3GPP TS 29.571 [8] Used to negotiate the
applicability of the optional features. WebsockNotifConfig 3GPP TS 29.122 [4]
Contains the configuration parameters to set up notification delivery over
Websocket protocol.
* * *
#### 5.7.2.3 Structured data types
##### 5.7.2.3.1 Introduction
This clause defines the structured data types to be used in resource
representations.
##### 5.7.2.3.2 Type: 5GLanParametersProvision
Table 5.7.2.3.2-1: Definition of type 5GLanParametersProvision
+-----------+-----------+---+-----------+-----------+-----------+ | Attribute | Data type | P | Ca | De | Appl | | name | | | rdinality | scription | icability | +-----------+-----------+---+-----------+-----------+-----------+ | self | Link | C | 0..1 | I | | | | | | | dentifies | | | | | | | the | | | | | | | i | | | | | | | ndividual | | | | | | | p | | | | | | | arameters | | | | | | | provision | | | | | | | sub | | | | | | | scription | | | | | | | resource. | | | | | | | | | | | | | | Shall be | | | | | | | present | | | | | | | in the | | | | | | | HTTP GET | | | | | | | response | | | | | | | when | | | | | | | reading | | | | | | | all the | | | | | | | subs | | | | | | | criptions | | | | | | | for an | | | | | | | AF. | | +-----------+-----------+---+-----------+-----------+-----------+ | 5g | 5GLanP | M | 1 | R | | | LanParams | arameters | | | epresents | | | | | | | the 5G | | | | | | | LAN | | | | | | | service | | | | | | | related | | | | | | | pa | | | | | | | rameters. | | +-----------+-----------+---+-----------+-----------+-----------+ | suppFeat | Supporte | M | 1 | Indicates | | | | dFeatures | | | the | | | | | | | n | | | | | | | egotiated | | | | | | | supported | | | | | | | features. | | +-----------+-----------+---+-----------+-----------+-----------+
##### 5.7.2.3.3 Type: 5GLanParameters
This type represents the 5G LAN service related parameters need to be
provisioned.
Table 5.7.2.3.3-1: Definition of type 5GLanParameters
+-----------+-----------+---+-----------+-----------+-----------+ | Attribute | Data type | P | Ca | De | Appl | | name | | | rdinality | scription | icability | +-----------+-----------+---+-----------+-----------+-----------+ | ext | Extern | M | 1 | I | | | erGroupId | alGroupId | | | dentifies | | | | | | | an 5G | | | | | | | Virtual | | | | | | | Network | | | | | | | Group. | | +-----------+-----------+---+-----------+-----------+-----------+ | gpsis | map(Gpsi) | M | 1..N | R | | | | | | | epresents | | | | | | | the list | | | | | | | of 5G VN | | | | | | | Group | | | | | | | members, | | | | | | | each | | | | | | | member is | | | | | | | i | | | | | | | dentified | | | | | | | by GPSI. | | | | | | | | | | | | | | Any | | | | | | | string | | | | | | | value can | | | | | | | be used | | | | | | | as a key | | | | | | | of the | | | | | | | map. | | +-----------+-----------+---+-----------+-----------+-----------+ | dnn | Dnn | M | 1 | DNN for | | | | | | | the 5G VN | | | | | | | group, a | | | | | | | full DNN | | | | | | | with both | | | | | | | the | | | | | | | Network | | | | | | | I | | | | | | | dentifier | | | | | | | and | | | | | | | Operator | | | | | | | Id | | | | | | | entifier, | | | | | | | or a DNN | | | | | | | with the | | | | | | | Network | | | | | | | I | | | | | | | dentifier | | | | | | | only. | | +-----------+-----------+---+-----------+-----------+-----------+ | aa | Ipv4Addr | O | 1 | I | | | aIpv4Addr | | | | dentifies | | | | | | | the | | | | | | | DN-AAA | | | | | | | server | | | | | | | IPv4 | | | | | | | address | | | | | | | provided | | | | | | | by AF, | | | | | | | for the | | | | | | | secondary | | | | | | | a | | | | | | | uthentica | | | | | | | tion/auth | | | | | | | orization | | | | | | | and/or UE | | | | | | | IP | | | | | | | address | | | | | | | a | | | | | | | llocation | | | | | | | by DN-AAA | | | | | | | server. | | +-----------+-----------+---+-----------+-----------+-----------+ | aa | Ipv6Addr | O | 1 | I | | | aIpv6Addr | | | | dentifies | | | | | | | the | | | | | | | DN-AAA | | | | | | | server | | | | | | | IPv6 | | | | | | | address | | | | | | | provided | | | | | | | by AF, | | | | | | | for the | | | | | | | secondary | | | | | | | a | | | | | | | uthentica | | | | | | | tion/auth | | | | | | | orization | | | | | | | and/or UE | | | | | | | IP | | | | | | | address | | | | | | | a | | | | | | | llocation | | | | | | | by DN-AAA | | | | | | | server. | | +-----------+-----------+---+-----------+-----------+-----------+ | aaaUsgs | array( | O | 1..N | I | | | | AaaUsage) | | | dentifies | | | | | | | the usage | | | | | | | needs for | | | | | | | secondary | | | | | | | a | | | | | | | uthentica | | | | | | | tion/auth | | | | | | | orization | | | | | | | and/or UE | | | | | | | IP | | | | | | | address | | | | | | | a | | | | | | | llocation | | | | | | | from the | | | | | | | DN-AAA | | | | | | | server. | | | | | | | (NOTE 3) | | +-----------+-----------+---+-----------+-----------+-----------+ | mtcP | MtcP | O | 0..1 | Indicates | | | roviderId | roviderIn | | | MTC | | | | formation | | | provider | | | | | | | in | | | | | | | formation | | | | | | | for 5G VN | | | | | | | Group | | | | | | | Conf | | | | | | | iguration | | | | | | | autho | | | | | | | rization. | | | | | | | (NOTE 1) | | +-----------+-----------+---+-----------+-----------+-----------+ | snssai | Snssai | M | 1 | S-NSSAI | | | | | | | for the | | | | | | | 5G VN | | | | | | | group. | | +-----------+-----------+---+-----------+-----------+-----------+ | se | PduSe | M | 1 | PDU | | | ssionType | ssionType | | | Session | | | | | | | Type | | | | | | | allowed | | | | | | | for 5G VN | | | | | | | group. | | +-----------+-----------+---+-----------+-----------+-----------+ | ses | arr | O | 1..N | If | mu | | sionTypes | ay(PduSes | | | further | ltipleSes | | | sionType) | | | PDU | sionTypes | | | | | | Session | | | | | | | Types (in | | | | | | | addition | | | | | | | to the | | | | | | | PDU | | | | | | | Session | | | | | | | Type | | | | | | | indicated | | | | | | | in the | | | | | | | \"sess | | | | | | | ionType\" | | | | | | | a | | | | | | | ttribute) | | | | | | | are | | | | | | | allowed | | | | | | | for the | | | | | | | 5G VN | | | | | | | group, | | | | | | | they are | | | | | | | provided | | | | | | | in this | | | | | | | a | | | | | | | ttribute. | | | | | | | (NOTE 2) | | +-----------+-----------+---+-----------+-----------+-----------+ | appDesps | map(AppDe | M | 1..N | Describes | | | | scriptor) | | | the | | | | | | | operation | | | | | | | systems | | | | | | | and the | | | | | | | corr | | | | | | | esponding | | | | | | | app | | | | | | | lications | | | | | | | for each | | | | | | | operation | | | | | | | systems. | | | | | | | The key | | | | | | | of map is | | | | | | | osId. | | +-----------+-----------+---+-----------+-----------+-----------+ | vnGro | boolean | O | 0..1 | Indicates | GMEC | | upCommInd | | | | whether | | | | | | | the 5G VN | | | | | | | group is | | | | | | | a | | | | | | | ssociated | | | | | | | with 5G | | | | | | | VN group | | | | | | | commu | | | | | | | nication. | | | | | | | | | | | | | | When set | | | | | | | to | | | | | | | \"true\", | | | | | | | it | | | | | | | indicates | | | | | | | that the | | | | | | | 5G VN | | | | | | | group is | | | | | | | a | | | | | | | ssociated | | | | | | | with 5G | | | | | | | VN group | | | | | | | commu | | | | | | | nication. | | | | | | | When set | | | | | | | to | | | | | | | \ | | | | | | | "false\", | | | | | | | it | | | | | | | indicates | | | | | | | that the | | | | | | | 5G VN | | | | | | | group is | | | | | | | not | | | | | | | a | | | | | | | ssociated | | | | | | | with 5G | | | | | | | VN group | | | | | | | commu | | | | | | | nication. | | | | | | | | | | | | | | The | | | | | | | default | | | | | | | value | | | | | | | when | | | | | | | omitted | | | | | | | is | | | | | | | \ | | | | | | | "false\". | | +-----------+-----------+---+-----------+-----------+-----------+ | maxGrpDat | MaxGrpDat | O | 0..1 | R | GMEC | | aRateInfo | aRateInfo | | | epresents | | | | | | | the | | | | | | | Maximum | | | | | | | Group | | | | | | | Data Rate | | | | | | | related | | | | | | | inf | | | | | | | ormation. | | +-----------+-----------+---+-----------+-----------+-----------+ | cpParams | CpParams | O | 0..1 | Contains | GMEC | | | | | | Comm | | | | | | | unication | | | | | | | Pattern | | | | | | | P | | | | | | | arameters | | | | | | | for the | | | | | | | 5G VN | | | | | | | group. | | +-----------+-----------+---+-----------+-----------+-----------+ | npCon | NpCon | O | 0..1 | Contains | GMEC | | figParams | figParams | | | Network | | | | | | | P | | | | | | | arameters | | | | | | | Conf | | | | | | | iguration | | | | | | | in | | | | | | | formation | | | | | | | for the | | | | | | | 5G VN | | | | | | | group. | | +-----------+-----------+---+-----------+-----------+-----------+ | lpiParams | LpiParams | O | 0..1 | Contains | GMEC | | | | | | Location | | | | | | | Privacy | | | | | | | I | | | | | | | ndication | | | | | | | p | | | | | | | arameters | | | | | | | for the | | | | | | | 5G VN | | | | | | | group. | | +-----------+-----------+---+-----------+-----------+-----------+ | acsParams | Acs | O | 0..1 | Contains | GMEC | | | | | | ACS | | | | | | | conf | | | | | | | iguration | | | | | | | p | | | | | | | arameters | | | | | | | for the | | | | | | | 5G VN | | | | | | | group. | | +-----------+-----------+---+-----------+-----------+-----------+ | ecsA | ECSA | O | 0..1 | Contains | GMEC | | ddrParams | ddrParams | | | ECS | | | | | | | address | | | | | | | p | | | | | | | arameters | | | | | | | for the | | | | | | | 5G VN | | | | | | | group. | | +-----------+-----------+---+-----------+-----------+-----------+ | dnnSns | DnnSns | O | 0..1 | Contains | GMEC | | saiParams | saiParams | | | DNN and | | | | | | | S-NSSAI | | | | | | | specific | | | | | | | p | | | | | | | arameters | | | | | | | for the | | | | | | | 5G VN | | | | | | | group. | | +-----------+-----------+---+-----------+-----------+-----------+ | notifUri | Link | O | 0..1 | Contains | GMEC | | | | | | a URI | | | | | | | i | | | | | | | ndicating | | | | | | | the | | | | | | | not | | | | | | | ification | | | | | | | de | | | | | | | stination | | | | | | | where | | | | | | | not | | | | | | | ification | | | | | | | requests | | | | | | | shall be | | | | | | | d | | | | | | | elivered. | | | | | | | | | | | | | | This | | | | | | | attribute | | | | | | | may be | | | | | | | provided | | | | | | | only if | | | | | | | 5G LAN | | | | | | | P | | | | | | | arameters | | | | | | | Pro | | | | | | | visioning | | | | | | | noti | | | | | | | fications | | | | | | | (e.g., | | | | | | | Network | | | | | | | Parameter | | | | | | | Conf | | | | | | | iguration | | | | | | | notif | | | | | | | ications) | | | | | | | need to | | | | | | | be | | | | | | | d | | | | | | | elivered. | | +-----------+-----------+---+-----------+-----------+-----------+ | reque | boolean | O | 0..1 | Set to | GMEC, | | stTestNot | | | | true by | Notific | | ification | | | | the AF to | ation_te | | | | | | request | st_event | | | | | | the NEF | | | | | | | to send a | | | | | | | test | | | | | | | not | | | | | | | ification | | | | | | | as | | | | | | | defined | | | | | | | in | | | | | | | claus | | | | | | | e 5.2.5.3 | | | | | | | of | | | | | | | 3GP | | | | | | | P TS 29.1 | | | | | | | 22 [4]. | | | | | | | Set to | | | | | | | false or | | | | | | | omitted | | | | | | | o | | | | | | | therwise. | | | | | | | | | | | | | | This | | | | | | | attribute | | | | | | | may be | | | | | | | provided | | | | | | | only if | | | | | | | 5G LAN | | | | | | | P | | | | | | | arameters | | | | | | | Pro | | | | | | | visioning | | | | | | | noti | | | | | | | fications | | | | | | | (e.g., | | | | | | | Network | | | | | | | Parameter | | | | | | | Conf | | | | | | | iguration | | | | | | | notif | | | | | | | ications) | | | | | | | need to | | | | | | | be | | | | | | | d | | | | | | | elivered. | | +-----------+-----------+---+-----------+-----------+-----------+ | websockNo | WebsockNo | O | 0..1 | Contains | GMEC, | | tifConfig | tifConfig | | | conf | Notif | | | | | | iguration | ication_ | | | | | | p | websocket | | | | | | arameters | | | | | | | to set up | | | | | | | not | | | | | | | ification | | | | | | | delivery | | | | | | | over | | | | | | | Websocket | | | | | | | protocol | | | | | | | as | | | | | | | defined | | | | | | | in | | | | | | | claus | | | | | | | e 5.2.5.4 | | | | | | | of | | | | | | | 3GP | | | | | | | P TS 29.1 | | | | | | | 22 [4]. | | | | | | | | | | | | | | This | | | | | | | attribute | | | | | | | may be | | | | | | | provided | | | | | | | only if | | | | | | | 5G LAN | | | | | | | P | | | | | | | arameters | | | | | | | Pro | | | | | | | visioning | | | | | | | noti | | | | | | | fications | | | | | | | (e.g., | | | | | | | Network | | | | | | | Parameter | | | | | | | Conf | | | | | | | iguration | | | | | | | notif | | | | | | | ications) | | | | | | | need to | | | | | | | be | | | | | | | d | | | | | | | elivered. | | +-----------+-----------+---+-----------+-----------+-----------+ | NOTE 1: | | | | | | | The NEF | | | | | | | should | | | | | | | check | | | | | | | received | | | | | | | MTC | | | | | | | Provider | | | | | | | in | | | | | | | formation | | | | | | | and then | | | | | | | the NEF | | | | | | | may: | | | | | | | | | | | | | | > \- | | | | | | | > | | | | | | | override | | | | | | | > it with | | | | | | | > local | | | | | | | > c | | | | | | | onfigured | | | | | | | > value | | | | | | | > and | | | | | | | > send it | | | | | | | > to UDM; | | | | | | | > | | | | | | | > \- send | | | | | | | > it | | | | | | | > | | | | | | | directly | | | | | | | > to the | | | | | | | > UDM; or | | | | | | | > | | | | | | | > \- | | | | | | | > reject | | | | | | | > the 5G | | | | | | | > VN | | | | | | | > Group | | | | | | | > Conf | | | | | | | iguration | | | | | | | > | | | | | | | request. | | | | | | | | | | | | | | NOTE 2: | | | | | | | Only one | | | | | | | PDU | | | | | | | Session | | | | | | | type is | | | | | | | applied | | | | | | | for a PDU | | | | | | | Session | | | | | | | of a VN | | | | | | | group at | | | | | | | a time. | | | | | | | | | | | | | | NOTE 3: | | | | | | | This | | | | | | | attribute | | | | | | | shall | | | | | | | contain | | | | | | | at most 2 | | | | | | | array | | | | | | | elements. | | | | | | | It is | | | | | | | however | | | | | | | kept | | | | | | | defined | | | | | | | as it is | | | | | | | (i.e. | | | | | | | with a | | | | | | | ca | | | | | | | rdinality | | | | | | | of | | | | | | | \"1..N\") | | | | | | | for | | | | | | | backward | | | | | | | comp | | | | | | | atibility | | | | | | | consid | | | | | | | erations. | | | | | | +-----------+-----------+---+-----------+-----------+-----------+
##### 5.7.2.3.4 Type: AppDescriptor
Table 5.7.2.3.4-1: Definition of type AppDescriptor
+-----------+-----------+---+-----------+-----------+-----------+ | Attribute | Data type | P | Ca | De | Appl | | name | | | rdinality | scription | icability | +-----------+-----------+---+-----------+-----------+-----------+ | osId | OsId | M | 1 | I | | | | | | | dentifies | | | | | | | an | | | | | | | operating | | | | | | | system | | | | | | | supported | | | | | | | by the | | | | | | | UE. | | +-----------+-----------+---+-----------+-----------+-----------+ | appIds | map(Appli | M | 1..N | I | | | | cationId) | | | dentifies | | | | | | | app | | | | | | | lications | | | | | | | that is | | | | | | | running | | | | | | | on the | | | | | | | UE\'s | | | | | | | operating | | | | | | | system. | | | | | | | | | | | | | | Any | | | | | | | string | | | | | | | value can | | | | | | | be used | | | | | | | as a key | | | | | | | of the | | | | | | | map. | | +-----------+-----------+---+-----------+-----------+-----------+
##### 5.7.2.3.5 Type: 5GLanParametersProvisionPatch
Table 5.7.2.3.5-1: Definition of type 5GLanParametersProvisionPatch
* * *
Attribute name Data type P Cardinality Description Applicability
5gLanParamsPatch 5GLanParametersPatch O 0..1 Represents the 5G LAN servise
related parameters.
* * *
##### 5.7.2.3.6 Type: 5GLanParametersPatch
Table 5.7.2.3.6-1: Definition of type 5GLanParametersPatch
+-----------+-----------+---+-----------+-----------+-----------+ | Attribute | Data type | P | Ca | De | Appl | | name | | | rdinality | scription | icability | +-----------+-----------+---+-----------+-----------+-----------+ | gpsis | ma | O | 1..N | R | | | | p(GpsiRm) | | | epresents | | | | | | | the list | | | | | | | of 5G VN | | | | | | | Group | | | | | | | members, | | | | | | | each | | | | | | | member is | | | | | | | i | | | | | | | dentified | | | | | | | by GPSI. | | | | | | | | | | | | | | Any | | | | | | | string | | | | | | | value can | | | | | | | be used | | | | | | | as a key | | | | | | | of the | | | | | | | map. | | +-----------+-----------+---+-----------+-----------+-----------+ | appDesps | ma | O | 1..N | Describes | | | | p(AppDesc | | | the | | | | riptorRm) | | | operation | | | | | | | systems | | | | | | | and the | | | | | | | corr | | | | | | | esponding | | | | | | | app | | | | | | | lications | | | | | | | for each | | | | | | | operation | | | | | | | system. | | | | | | | | | | | | | | The key | | | | | | | of map is | | | | | | | osId. | | +-----------+-----------+---+-----------+-----------+-----------+ | cpParams | CpParams | O | 0..1 | Contains | GMEC | | | | | | the | | | | | | | updated | | | | | | | Comm | | | | | | | unication | | | | | | | Pattern | | | | | | | P | | | | | | | arameters | | | | | | | for the | | | | | | | 5G VN | | | | | | | group. | | +-----------+-----------+---+-----------+-----------+-----------+ | npCon | NpCon | O | 0..1 | Contains | GMEC | | figParams | figParams | | | the | | | | | | | updated | | | | | | | Network | | | | | | | P | | | | | | | arameters | | | | | | | Conf | | | | | | | iguration | | | | | | | in | | | | | | | formation | | | | | | | for the | | | | | | | 5G VN | | | | | | | group. | | +-----------+-----------+---+-----------+-----------+-----------+ | lpiParams | LpiParams | O | 0..1 | Contains | GMEC | | | | | | the | | | | | | | updated | | | | | | | Location | | | | | | | Privacy | | | | | | | I | | | | | | | ndication | | | | | | | p | | | | | | | arameters | | | | | | | for the | | | | | | | 5G VN | | | | | | | group. | | +-----------+-----------+---+-----------+-----------+-----------+ | acsParams | AcsParams | O | 0..1 | Contains | GMEC | | | | | | the | | | | | | | updated | | | | | | | ACS | | | | | | | conf | | | | | | | iguration | | | | | | | p | | | | | | | arameters | | | | | | | for the | | | | | | | 5G VN | | | | | | | group. | | +-----------+-----------+---+-----------+-----------+-----------+ | ecsA | ECSA | O | 0..1 | Contains | GMEC | | ddrParams | ddrParams | | | the | | | | | | | updated | | | | | | | ECS | | | | | | | address | | | | | | | p | | | | | | | arameters | | | | | | | for the | | | | | | | 5G VN | | | | | | | group. | | +-----------+-----------+---+-----------+-----------+-----------+ | dnnSns | DnnSns | O | 0..1 | Contains | GMEC | | saiParams | saiParams | | | the | | | | | | | updated | | | | | | | DNN and | | | | | | | S-NSSAI | | | | | | | specific | | | | | | | p | | | | | | | arameters | | | | | | | for the | | | | | | | 5G VN | | | | | | | group. | | +-----------+-----------+---+-----------+-----------+-----------+ | notifUri | Link | O | 0..1 | Contains | GMEC | | | | | | the | | | | | | | updated | | | | | | | URI | | | | | | | i | | | | | | | ndicating | | | | | | | the | | | | | | | not | | | | | | | ification | | | | | | | de | | | | | | | stination | | | | | | | where | | | | | | | not | | | | | | | ification | | | | | | | requests | | | | | | | shall be | | | | | | | d | | | | | | | elivered. | | +-----------+-----------+---+-----------+-----------+-----------+
##### 5.7.2.3.7 Type: AppDescriptorRm
Table 5.7.2.3.7-1: Definition of type AppDescriptorRm
+-----------+-----------+---+-----------+-----------+-----------+ | Attribute | Data type | P | Ca | De | Appl | | name | | | rdinality | scription | icability | +-----------+-----------+---+-----------+-----------+-----------+ | appIds | ma | O | 1..N | I | | | | p(Applica | | | dentifies | | | | tionIdRm) | | | appli | | | | | | | cation(s) | | | | | | | on the | | | | | | | UE\'s | | | | | | | operating | | | | | | | system. | | | | | | | | | | | | | | Any | | | | | | | string | | | | | | | value can | | | | | | | be used | | | | | | | as a key | | | | | | | of the | | | | | | | map. | | +-----------+-----------+---+-----------+-----------+-----------+
##### 5.7.2.3.8 Void
##### 5.7.2.3.9 Type: CpParams
Table 5.7.2.3.9-1: Definition of type CpParams
+-----------+-----------+---+-----------+-----------+-----------+ | Attribute | Data type | P | Ca | De | Appl | | name | | | rdinality | scription | icability | +-----------+-----------+---+-----------+-----------+-----------+ | cpPara | m | M | 1..N | R | | | meterSets | ap(CpPara | | | epresents | | | | meterSet) | | | one or | | | | | | | more | | | | | | | set(s) of | | | | | | | CP | | | | | | | p | | | | | | | arameters | | | | | | | in | | | | | | | formation | | | | | | | for the | | | | | | | 5G VN | | | | | | | group. | | | | | | | | | | | | | | Any | | | | | | | string | | | | | | | value may | | | | | | | be used | | | | | | | as a key | | | | | | | of the | | | | | | | map. | | +-----------+-----------+---+-----------+-----------+-----------+ | cpReports | map( | C | 1..N | Contains | | | | CpReport) | | | the | | | | | | | iden | | | | | | | tifier(s) | | | | | | | of the | | | | | | | set(s) of | | | | | | | CP | | | | | | | p | | | | | | | arameters | | | | | | | for which | | | | | | | the | | | | | | | provided | | | | | | | CP | | | | | | | p | | | | | | | arameters | | | | | | | are not | | | | | | | added or | | | | | | | modified | | | | | | | suc | | | | | | | cessfully | | | | | | | with the | | | | | | | corr | | | | | | | esponding | | | | | | | failure | | | | | | | reason. | | | | | | | | | | | | | | Each | | | | | | | element | | | | | | | provides | | | | | | | the | | | | | | | related | | | | | | | in | | | | | | | formation | | | | | | | for one | | | | | | | or more | | | | | | | CP set | | | | | | | ident | | | | | | | ifier(s). | | | | | | | | | | | | | | The key | | | | | | | of the | | | | | | | map is a | | | | | | | string | | | | | | | rep | | | | | | | resenting | | | | | | | the | | | | | | | failure | | | | | | | id | | | | | | | entifier. | | | | | | | | | | | | | | This | | | | | | | attribute | | | | | | | may only | | | | | | | be | | | | | | | present | | | | | | | in | | | | | | | responses | | | | | | | from the | | | | | | | NEF to | | | | | | | the AF. | | | | | | | | | | | | | | (NOTE 4). | | +-----------+-----------+---+-----------+-----------+-----------+ | NOTE: At | | | | | | | least one | | | | | | | of these | | | | | | | a | | | | | | | ttributes | | | | | | | shall be | | | | | | | present. | | | | | | +-----------+-----------+---+-----------+-----------+-----------+
##### 5.7.2.3.10 Type: NpConfigParams
Table 5.7.2.3.10-1: Definition of type NpConfigParams
+-----------+-----------+---+-----------+-----------+-----------+ | Attribute | Data type | P | Ca | De | Appl | | name | | | rdinality | scription | icability | +-----------+-----------+---+-----------+-----------+-----------+ | maxim | Du | O | 0..1 | Contains | | | umLatency | rationSec | | | the | | | | | | | maximum | | | | | | | delay | | | | | | | a | | | | | | | cceptable | | | | | | | for | | | | | | | downlink | | | | | | | data | | | | | | | t | | | | | | | ransfers. | | +-----------+-----------+---+-----------+-----------+-----------+ | m | Du | O | 0..1 | Contains | | | aximumRes | rationSec | | | the time | | | ponseTime | | | | duration | | | | | | | that the | | | | | | | UE stays | | | | | | | reachable | | | | | | | to allow | | | | | | | the AF to | | | | | | | reliably | | | | | | | deliver | | | | | | | the | | | | | | | required | | | | | | | downlink | | | | | | | data. | | +-----------+-----------+---+-----------+-----------+-----------+ | suggeste | integer | O | 0..1 | Contains | | | dNumberOf | | | | the | | | DlPackets | | | | number of | | | | | | | packets | | | | | | | that the | | | | | | | serving | | | | | | | gateway | | | | | | | shall | | | | | | | buffer in | | | | | | | case the | | | | | | | UE is not | | | | | | | r | | | | | | | eachable. | | +-----------+-----------+---+-----------+-----------+-----------+ | group | Du | O | 0..1 | I | | | Reporting | rationSec | | | dentifies | | | GuardTime | | | | the group | | | | | | | reporting | | | | | | | ag | | | | | | | gregation | | | | | | | time | | | | | | | duration | | | | | | | that the | | | | | | | NEF shall | | | | | | | use when | | | | | | | ag | | | | | | | gregating | | | | | | | the | | | | | | | reports | | | | | | | detected | | | | | | | for the | | | | | | | UE(s) in | | | | | | | the 5G VN | | | | | | | group and | | | | | | | report | | | | | | | them | | | | | | | together | | | | | | | to the | | | | | | | AF. | | +-----------+-----------+---+-----------+-----------+-----------+ | val | DateTime | O | 0..1 | I | | | idityTime | | | | dentifies | | | | | | | when the | | | | | | | network | | | | | | | parameter | | | | | | | expires | | | | | | | and shall | | | | | | | be | | | | | | | deleted | | | | | | | locally | | | | | | | if it | | | | | | | expires. | | | | | | | | | | | | | | (NOTE) | | +-----------+-----------+---+-----------+-----------+-----------+ | NOTE: If | | | | | | | this | | | | | | | attribute | | | | | | | is | | | | | | | omitted, | | | | | | | no expiry | | | | | | | time | | | | | | | applies | | | | | | | for the | | | | | | | pr | | | | | | | ovisioned | | | | | | | network | | | | | | | parameter | | | | | | | confi | | | | | | | guration. | | | | | | +-----------+-----------+---+-----------+-----------+-----------+
##### 5.7.2.3.11 Type: LpiParams
Table 5.7.2.3.11-1: Definition of type LpiParams
* * *
Attribute name Data type P Cardinality Description Applicability lpi Lpi M 1
Contains the Location Privacy Indication parameters for the 5G VN group.
* * *
##### 5.7.2.3.12 Type: AcsParams
Table 5.7.2.3.12-1: Definition of type AcsParams
* * *
Attribute name Data type P Cardinality Description Applicability acsInfo
AcsInfo M 1 Contains the ACS parameters for the 5G VN group.
* * *
##### 5.7.2.3.13 Type: ECSAddrParams
Table 5.7.2.3.13-1: Definition of type ECSAddrParams
* * *
Attribute name Data type P Cardinality Description Applicability ecsServerAddr
EcsServerAddr M 1 Represents the ECS address(es).  
spatialValidityCond SpatialValidityCond O 0..1 Contains the spatial validity
conditions.
* * *
##### 5.7.2.3.14 Type: DnnSnssaiParams
Table 5.7.2.3.14-1: Definition of type DnnSnssaiParams
* * *
Attribute name Data type P Cardinality Description Applicability defQos
AfReqDefaultQoS C 0..1 Represents the AF-requested default QoS parameters
applicable to each UE within the 5G VN group.  
ladnServArea LadnServArea C 0..1 Represents the AF-requested LADN Service Area
applicable to each UE within the 5G VN group.  
NOTE: At least one of these attributes shall be present.
* * *
##### 5.7.2.3.15 Type: 5GLanParamProvNotif
Table 5.7.2.3.15-1: Definition of type 5GLanParamProvNotif
+-----------+-----------+---+-----------+-----------+-----------+ | Attribute | Data type | P | Ca | De | Appl | | name | | | rdinality | scription | icability | +-----------+-----------+---+-----------+-----------+-----------+ | npCo | NpCo | C | 0..1 | R | | | nfigNotif | nfigNotif | | | epresents | | | | | | | a | | | | | | | conf | | | | | | | iguration | | | | | | | result | | | | | | | not | | | | | | | ification | | | | | | | related | | | | | | | to the | | | | | | | pr | | | | | | | ovisioned | | | | | | | Network | | | | | | | P | | | | | | | arameters | | | | | | | Conf | | | | | | | iguration | | | | | | | inf | | | | | | | ormation. | | | | | | | | | | | | | | This | | | | | | | attribute | | | | | | | shall be | | | | | | | present | | | | | | | only if | | | | | | | Network | | | | | | | P | | | | | | | arameters | | | | | | | Conf | | | | | | | iguration | | | | | | | in | | | | | | | formation | | | | | | | was | | | | | | | pr | | | | | | | ovisioned | | | | | | | within | | | | | | | the | | | | | | | a | | | | | | | ssociated | | | | | | | 5G LAN | | | | | | | P | | | | | | | arameters | | | | | | | Pro | | | | | | | visioning | | | | | | | and a | | | | | | | conf | | | | | | | iguration | | | | | | | result | | | | | | | not | | | | | | | ification | | | | | | | needs to | | | | | | | be sent. | | +-----------+-----------+---+-----------+-----------+-----------+
##### 5.7.2.3.16 Type: NpConfigNotif
Table 5.7.2.3.16-1: Definition of type NpConfigNotif
* * *
Attribute name Data type P Cardinality Description Applicability configResults
array(ConfigResult) O 0..N Each element identifies a notification of grouping
configuration result.  
appliedParam AppliedParameterConfiguration O 0..1 Indicates the applied
parameter configuration in the network. The \"maximumDetectionTime\" attribute
within the AppliedParameterConfiguration data type is not applicable for
Network Parameter configuration.
* * *
##### 5.7.2.3.17 Type: MaxGrpDataRateInfo
Table 5.7.2.3.17-1: Definition of type MaxGrpDataRateInfo
* * *
Attribute name Data type P Cardinality Description Applicability
maxGrpDataRateUl BitRate C 0..1 Contains the maximum allowed aggregate UL data
rate across all GBR and Non-GBR QoS Flows within the 5G VN group.  
maxGrpDataRateDl BitRate C 0..1 Contains the maximum allowed aggregate DL data
rate across all GBR and Non-GBR QoS Flows within the 5G VN group.  
NOTE: At least one of these attributes shall be provided.
* * *
#### 5.7.2.4 Simple data types and enumerations
##### 5.7.2.4.1 Introduction
This clause defines simple data types and enumerations that can be referenced
from data structures defined in the previous clauses.
##### 5.7.2.4.2 Simple data types
The simple data types defined in table 5.7.2.4.2-1 shall be supported.
Table 5.7.2.4.2-1: Simple data types
* * *
Type Name Type Definition Description Applicability
* * *
##### 5.7.2.4.3 Enumeration: AaaUsage
Table 5.7.2.4.3-1: Enumeration AaaUsage
The enumeration AaaUsage represents the usage of the DN-AAA server.
* * *
Enumeration value Description \"AUTH\" Secondary authentication/authorization
by DN-AAA server \"IP_ALLOC\" UE IP address allocation by DN-AAA server
* * *
### 5.7.3 Used Features
The table below defines the features applicable to the 5GLANParameterProvision
API. Those features are negotiated as described in clause 5.2.7 of 3GPP TS
29.122 [4].
Table 5.7.3-1: Features used by 5GLANParameterProvision API
+----------------+-------------------------+-------------------------+ | Feature number | Feature Name | Description | +----------------+-------------------------+-------------------------+ | 1 | multipleSessionTypes | Indicates that multiple | | | | allowed PDU Session | | | | Types can be provided | | | | for a 5G VN group. | +----------------+-------------------------+-------------------------+ | 2 | GMEC | **This feature | | | | indicates the support | | | | of** Generic Group | | | | Management, Exposure | | | | and Communication | | | | Enhancements**.** | +----------------+-------------------------+-------------------------+ | 3 | No | **The testing of | | | tification_test_event | notification connection | | | | is supported as | | | | described in | | | | 3GPP TS 29.122 [4].** | +----------------+-------------------------+-------------------------+ | 4 | Notification_websocket | **The delivery of | | | | notifications over | | | | Websocket is supported | | | | as described in | | | | 3GPP TS 29.122 [4].** | | | | | | | | **This feature requires | | | | that the | | | | No | | | | tification_test_event | | | | feature is also | | | | supported.** | +----------------+-------------------------+-------------------------+
### 5.7.4 Error handling
#### 5.7.4.1 General
HTTP error handling shall be supported as specified in clause 5.2.6 of 3GPP TS
29.122 [4].
In addition, the requirements in the following clauses shall apply.
#### 5.7.4.2 Protocol Errors
In this Release of the specification, there are no additional protocol errors
applicable for the 5GLANParameterProvision API.
#### 5.7.4.3 Application Errors
The application errors defined for 5GLANParameterProvision API are listed in
table 5.7.4.3-1.
Table 5.7.4.3-1: Application errors
* * *
Application Error HTTP status code Description Applicability
* * *
## 5.8 ApplyingBdtPolicy API
### 5.8.0 Introduction
The Nnef_ApplyingBdtPolicy service shall use the ApplyingBdtPolicy API.
The API URI of ApplyingBdtPolicy API shall be:
**{apiRoot}/3gpp-applying-bdt-policy/v1**
with the following components:
\- \"apiRoot\" is set as defined in clause 5.2.4 of 3GPP TS 29.122 [4].
\- \"apiName\" shall be set to \"3gpp-applying-bdt-policy\".
\- \"apiVersion\" shall be set to \"v1\" for the current version defined in
the present document.
All resource URIs in the clauses below are defined relative to the above API
URI.
### 5.8.1 Resources
#### 5.8.1.1 Overview
This clause describes the structure for the Resource URIs as shown in figure
5.8.1.1-1 and the resources and HTTP methods used for the ApplyingBdtPolicy
API.
Figure 5.8.1.1-1: Resource URI structure of the ApplyingBdtPolicy API
Table 5.8.1.1-1 provides an overview of the resources and HTTP methods
applicable for the ApplyingBdtPolicy API.
Table 5.8.1.1-1: Resources and methods overview
* * *
Resource name Resource URI HTTP method Description Applied BDT Policy
Subscriptions /{afId}/subscriptions GET Read all applied BDT policy
subscriptions for a given AF. POST Create a new applied policy subscription.
Individual Applied BDT Policy Subscription
/{afId}/subscriptions/{subscriptionId} GET Read an applied BDT policy
subscription. PATCH Modify BDT Reference ID of an existing subscription to a
BDT policy. DELETE Delete an applied BDT policy subscription
* * *
#### 5.8.1.2 Resource: Applied BDT Policy Subscriptions
##### 5.8.1.2.1 Introduction
This resource allows a AF to read all applied BDT policy subscriptions for the
given AF.
##### 5.8.1.2.2 Resource Definition
Resource URI: **{apiRoot}/3gpp-applying-bdt-policy/v1/{afId}/subscriptions**
This resource shall support the resource URI variables defined in table
5.8.1.2.2-1.
Table 5.8.1.2.2-1: Resource URI variables for this resource
* * *
Name Data type Definition apiRoot string Clause 5.2.4 of 3GPP TS 29.122 [4].
afId string Identifier of the AF.
* * *
##### 5.8.1.2.3 Resource Methods
###### 5.8.1.2.3.1 General
The following clauses specify the resource methods supported by the resource
as described in clause 5.8.1.2.2.
###### 5.8.1.2.3.2 GET
The GET method allows to read all active applied BDT policy subscriptions for
a given AF. The AF shall initiate the HTTP GET request message and the NEF
shall respond to the message.
This method shall support the URI query parameters specified in table
5.8.1.2.3.2-1.
Table 5.8.1.2.3.2-1: URI query parameters supported by the GET method on this
resource
* * *
Name Data type P Cardinality Description N/A
* * *
This method shall support the request data structures specified in table
5.8.1.2.3.2-2 and the response data structures and response codes specified in
table 5.8.1.2.3.2-3.
Table 5.8.1.2.3.2-2: Data structures supported by the GET Request Body on this
resource
* * *
Data type P Cardinality Description N/A
* * *
Table 5.8.1.2.3.2-3: Data structures supported by the GET Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | array(Appl | M | 0..N | 200 OK | The applied | | iedBdtPolicy) | | | | BDT Policy | | | | | | subscriptions | | | | | | for the AF in | | | | | | the request | | | | | | URI are | | | | | | returned. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 307 Temporary | Temporary | | | | | Redirect | redirection, | | | | | | during | | | | | | subscription | | | | | | retrieval. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 308 Permanent | Permanent | | | | | Redirect | redirection, | | | | | | during | | | | | | subscription | | | | | | retrieval. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the GET | | | | | | method listed | | | | | | in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.8.1.2.3.2-4: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
Table 5.8.1.2.3.2-5: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
###### 5.8.1.2.3.3 POST
The POST method creates an applied BDT policy subscription for a given AF. The
AF shall initiate the HTTP POST request message and the NEF shall respond to
the message. The NEF shall construct the URI of the created resource.
This method shall support the request data structures specified in table
5.8.1.2.3.3-1 and the response data structures and response codes specified in
table 5.8.1.2.3.3-2.
Table 5.8.1.2.3.3-1: Data structures supported by the POST Request Body on
this resource
* * *
Data type P Cardinality Description AppliedBdtPolicy M 1 Parameters to create
a subscription of the applied BDT policy.
* * *
Table 5.8.1.2.3.3-2: Data structures supported by the POST Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | App | M | 1 | 201 Created | The | | liedBdtPolicy | | | | subscription | | | | | | was created | | | | | | successfully. | | | | | | | | | | | | The URI of | | | | | | the created | | | | | | resource | | | | | | shall be | | | | | | returned in | | | | | | the | | | | | | \"Location\" | | | | | | HTTP header. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the POST | | | | | | method listed | | | | | | in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.8.1.2.3.3-3: Headers supported by the 201 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 Contains the URI
of the newly created resource, according to the structure: {apiRoot}/3gpp-
applying-bdt-policy/v1/{afId}/subscriptions/{SubscriptionId}
* * *
#### 5.8.1.3 Resource: Individual Applied BDT Policy Subscription
##### 5.8.1.3.1 Introduction
This resource allows a AF to read or delete an active subscription of applied
BDT policy.
##### 5.8.1.3.2 Resource Definition
Resource URI: **{apiRoot}/3gpp-applying-bdt-
policy/v1/{afId}/subscriptions/{subscriptionId}**
This resource shall support the resource URI variables defined in table
5.8.1.3.2-1.
Table 5.8.1.3.2-1: Resource URI variables for this resource
* * *
Name Data type Definition apiRoot string Clause 5.2.4 of 3GPP TS 29.122 [4].
afId string Identifier of the AF. subscriptionId string Identifier of the
subscription resource.
* * *
##### 5.8.1.3.3 Resource Methods
###### 5.8.1.3.3.1 General
The following clauses specify the resource methods supported by the resource
as described in clause 5.8.1.3.2.
###### 5.8.1.3.3.2 GET
The GET method allows to read the active applied BDT policy for a given AF and
subscription Id. The AF shall initiate the HTTP GET request message and the
NEF shall respond to the message.
This method shall support the URI query parameters specified in table
5.8.1.3.3.2-1.
Table 5.8.1.3.3.2-1: URI query parameters supported by the GET method on this
resource
* * *
Name Data type P Cardinality Description N/A
* * *
This method shall support the request data structures specified in table
5.8.1.3.3.2-2 and the response data structures and response codes specified in
table 5.8.1.3.3.2-3.
Table 5.8.1.3.3.2-2: Data structures supported by the GET Request Body on this
resource
* * *
Data type P Cardinality Description N/A
* * *
Table 5.8.1.3.3.2-3: Data structures supported by the GET Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | App | M | 1 | 200 OK | The | | liedBdtPolicy | | | | subscription | | | | | | information | | | | | | for the AF in | | | | | | the request | | | | | | URI are | | | | | | returned. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 307 Temporary | Temporary | | | | | Redirect | redirection, | | | | | | during | | | | | | subscription | | | | | | retrieval. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 308 Permanent | Permanent | | | | | Redirect | redirection, | | | | | | during | | | | | | subscription | | | | | | retrieval. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the GET | | | | | | method listed | | | | | | in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.8.1.3.3.2-4: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
Table 5.8.1.3.3.2-5: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
###### 5.8.1.3.3.3 PATCH
The PATCH method allows to change some properties of an existing applied BDT
policy subscription. The AF shall initiate the HTTP PATCH request message and
the NEF shall respond to the message.
This method shall support the request data structures specified in table
5.8.1.3.3.3-1 and the response data structures and response codes specified in
table 5.8.1.3.3.3-2.
Table 5.8.1.3.3.3-1: Data structures supported by the PATCH Request Body on
this resource
* * *
Data type P Cardinality Description AppliedBdtPolicyPatch M 1 Partial update
of a subscription to applying BDT policy subscritpion.
* * *
Table 5.8.1.3.3.3-2: Data structures supported by the PATCH Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | App | M | 1 | 200 OK | The | | liedBdtPolicy | | | | subscription | | | | | | was modified | | | | | | successfully. | +---------------+---+-------------+---------------+---------------+ | n/a | | | 204 No | The | | | | | Content | subscription | | | | | | was modified | | | | | | successfully. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 307 Temporary | Temporary | | | | | Redirect | redirection, | | | | | | during | | | | | | subscription | | | | | | modification. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 308 Permanent | Permanent | | | | | Redirect | redirection, | | | | | | during | | | | | | subscription | | | | | | modification. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the PATCH | | | | | | method listed | | | | | | in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.8.1.3.3.3-3: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
Table 5.8.1.3.3.3-4: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
###### 5.8.1.3.3.4 DELETE
The DELETE method deletes an existing applied BDT policy subscription for a
given AF. The AF shall initiate the HTTP DELETE request message and the NEF
shall respond to the message.
This method shall support the URI query parameters specified in table
5.8.1.3.3.4-1.
Table 5.8.1.3.3.4-1: URI query parameters supported by the DELETE method on
this resource
* * *
Name Data type P Cardinality Description N/A
* * *
This method shall support the request data structures specified in table
5.8.1.3.3.4-2 and the response data structures and response codes specified in
table 5.8.1.3.3.4-3.
Table 5.8.1.3.3.4-2: Data structures supported by the DELETE Request Body on
this resource
* * *
Data type P Cardinality Description N/A
* * *
Table 5.8.1.3.3.4-3: Data structures supported by the DELETE Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | N/A | | | 204 No | The | | | | | Content | subscription | | | | | | was | | | | | | terminated | | | | | | successfully. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 307 Temporary | Temporary | | | | | Redirect | redirection, | | | | | | during | | | | | | subscription | | | | | | termination. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 308 Permanent | Permanent | | | | | Redirect | redirection, | | | | | | during | | | | | | subscription | | | | | | termination. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the | | | | | | DELETE method | | | | | | listed in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.8.1.3.3.4-4: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
Table 5.8.1.3.3.4-5: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
### 5.8.1A Custom Operations without associated resources
There are no custom operations without associated resources defined for this
API in this release of the specification.
### 5.8.2 Notifications
Notifications are not applicable to this API.
### 5.8.3 Data Model
#### 5.8.3.1 General
This clause specifies the application data model supported by the
ApplyingBdtPolicy API.
Table 5.8.3.1-1 specifies the data types defined for the ApplyingBdtPolicy
API.
Table 5.8.3.1-1: ApplyingBdtPolicy API specific Data Types
* * *
Data type Clause defined Description Applicability AppliedBdtPolicy 5.8.3.3.2
Represents an applied BDT policy.  
AppliedBdtPolicyPatch 5.8.3.3.3 Represents the parameters to request the
modification of a subscription to applied BDT policy.
* * *
#### 5.8.3.2 Reused data types
The data types reused by the ApplyingBdtPolicy API from other specifications
are listed in table 5.8.3.2-1.
Table 5.8.3.2-1: Re-used Data Types
* * *
Data type Reference Comments BdtReferenceId 3GPP TS 29.122 [4] Identifier of a
selected BDT policy. Gpsi 3GPP TS 29.571 [8] Identifies a GPSI.
ExternalGroupId 3GPP TS 29.122 [4] External Group Identifier for a user group.
SupportedFeatures 3GPP TS 29.571 [8] Used to negotiate the applicability of
the optional features defined in table 5.8.4-1.
* * *
#### 5.8.3.3 Structured data types
##### 5.8.3.3.1 Introduction
This clause defines the structured data types to be used in resource
representations.
##### 5.8.3.3.2 Type: AppliedBdtPolicy
This type represents an applied BDT policy which is sent from the AF to the
NEF.
Table 5.8.3.3.2-1: Definition of type AppliedBdtPolicy
+-----------+-----------+---+-----------+-----------+-----------+ | Attribute | Data type | P | Ca | De | Appl | | name | | | rdinality | scription | icability | | | | | | | | | | | | | | (NOTE) | +-----------+-----------+---+-----------+-----------+-----------+ | bdtRefId | BdtRe | M | 1 | I | | | | ferenceId | | | dentifies | | | | | | | a | | | | | | | selected | | | | | | | policy of | | | | | | | b | | | | | | | ackground | | | | | | | data | | | | | | | transfer. | | +-----------+-----------+---+-----------+-----------+-----------+ | gpsi | Gpsi | C | 0..1 | I | | | | | | | dentifies | | | | | | | a user. | | +-----------+-----------+---+-----------+-----------+-----------+ | extern | Extern | C | 0..1 | I | | | alGroupId | alGroupId | | | dentifies | | | | | | | a user | | | | | | | group. | | +-----------+-----------+---+-----------+-----------+-----------+ | suppFeat | Supporte | M | 1 | Indicates | | | | dFeatures | | | the list | | | | | | | of | | | | | | | Supported | | | | | | | features | | | | | | | used as | | | | | | | described | | | | | | | in | | | | | | | clau | | | | | | | se 5.8.4. | | | | | | | | | | | | | | This | | | | | | | attribute | | | | | | | shall be | | | | | | | provided | | | | | | | in the | | | | | | | POST | | | | | | | request | | | | | | | and in | | | | | | | the | | | | | | | response | | | | | | | of | | | | | | | s | | | | | | | uccessful | | | | | | | resource | | | | | | | creation | | +-----------+-----------+---+-----------+-----------+-----------+ | self | Link | C | 0..1 | I | | | | | | | dentifies | | | | | | | the | | | | | | | I | | | | | | | ndividual | | | | | | | Applied | | | | | | | BDT | | | | | | | Policy | | | | | | | Sub | | | | | | | scription | | | | | | | resource. | | | | | | | | | | | | | | Shall be | | | | | | | present | | | | | | | in the | | | | | | | HTTP GET | | | | | | | response | | | | | | | when | | | | | | | reading | | | | | | | all the | | | | | | | subs | | | | | | | criptions | | | | | | | for an | | | | | | | AF. | | +-----------+-----------+---+-----------+-----------+-----------+ | NOTE: | | | | | | | Only one | | | | | | | of the | | | | | | | p | | | | | | | roperties | | | | | | | \"gpsi\" | | | | | | | or | | | | | | | \ | | | | | | | "external | | | | | | | GroupId\" | | | | | | | shall be | | | | | | | included. | | | | | | +-----------+-----------+---+-----------+-----------+-----------+
##### 5.8.3.3.3 Type: AppliedBdtPolicyPatch
This type represents a subscription of applied BDT policy parameters provided
by the AF to the NEF. The structure is used for HTTP PATCH request.
Table 5.8.3.3.2-1: Definition of type AppliedBdtPolicyPatch
* * *
Attribute name Data type P Cardinality Description Applicability bdtRefId
BdtReferenceId M 1 Identifies a selected policy of background data transfer.
* * *
#### 5.8.3.4 Simple data types and enumerations
##### 5.8.3.4.1 Introduction
This clause defines simple data types and enumerations that can be referenced
from data structures defined in the previous clauses.
##### 5.8.3.4.2 Simple data types
The simple data types defined in table 5.8.3.4.2-1 shall be supported.
Table 5.8.3.4.2-1: Simple data types
* * *
Type Name Type Definition Description Applicability
* * *
### 5.8.4 Used Features
The table below defines the features applicable to the ApplyingBdtPolicy API.
Those features are negotiated as described in clause 5.2.7 of 3GPP TS 29.122
[4].
Table 5.8.4-1: Features used by ApplyingBdtPolicy API
* * *
Feature number Feature Name Description
* * *
### 5.8.5 Error handling
#### 5.8.5.1 General
HTTP error handling shall be supported as specified in clause 5.2.6 of 3GPP TS
29.122 [4].
In addition, the requirements in the following clauses shall apply.
#### 5.8.5.2 Protocol Errors
In this Release of the specification, there are no additional protocol errors
applicable for the ApplyingBdtPolicy API.
#### 5.8.5.3 Application Errors
The application errors defined for ApplyingBdtPolicy API are listed in table
5.8.5.3-1.
Table 5.8.5.3-1: Application errors
* * *
Application Error HTTP status code Description Applicability
* * *
## 5.9 IPTVConfiguration API
### 5.9.0 Introduction
The Nnef_IPTVConfiguration service shall use the IPTVConfiguration API.
The API URI of IPTVConfiguration API shall be:
**{apiRoot}/3gpp-iptvconfiguration/v1**
with the following components:
\- \"apiRoot\" is set as defined in clause 5.2.4 of 3GPP TS 29.122 [4].
\- \"apiName\" shall be set to \"3gpp-iptvconfiguration\".
\- \"apiVersion\" shall be set to \"v1\" for the current version defined in
the present document.
All resource URIs in the clauses below are defined relative to the above API
URI.
### 5.9.1 Resources
#### 5.9.1.1 Overview
This clause describes the structure for the Resource URIs as shown in figure
5.9.1.1-1 and the resources and HTTP methods used for the IPTVConfiguration
API.
Figure 5.9.1.1-1: Resource URI structure of the IPTVConfiguration API
Table 5.9.1.1-1 provides an overview of the resources and HTTP methods
applicable for the IPTVConfiguration API.
Table 5.9.1.1-1: Resources and methods overview
* * *
Resource name Resource URI HTTP method Description IPTV Configurations
/{afId}/configurations GET Read all configurations for a given AF. POST Create
a new IPTV configuration. Individual IPTV Configuration
/{afId}/configurations/{configurationId} GET Read an existing configuration
identified by {configurationId}. PUT Update an existing configuration
identified by {configurationId}. PATCH Modify an existing configuration
identified by {configurationId}. DELETE Delete a configuration identified by
{configurationId}.
* * *
#### 5.9.1.2 Resource: IPTV Configurations
##### 5.9.1.2.1 Introduction
This resource allows a AF to read all active IPTV configurations for the given
AF, or create an new individual IPTV configuration in the NEF.
##### 5.9.1.2.2 Resource Definition
Resource URI: **{apiRoot}/3gpp-iptvconfiguration/v1/{afId}/configurations**
This resource shall support the resource URI variables defined in table
5.9.1.2.2-1.
Table 5.9.1.2.2-1: Resource URI variables for this resource
* * *
Name Data type Definition apiRoot string Clause 5.2.4 of 3GPP TS 29.122 [4].
afId string Identifier of the AF.
* * *
##### 5.9.1.2.3 Resource Methods
###### 5.9.1.2.3.1 General
The following clauses specify the resource methods supported by the resource
as described in clause 5.9.1.2.2.
###### 5.9.1.2.3.2 GET
The GET method allows to read all active configurations for a given AF. The AF
shall initiate the HTTP GET request message and the NEF shall respond to the
message.
This method shall support the URI query parameters specified in table
5.9.1.2.3.2-1.
Table 5.9.1.2.3.2-1: URI query parameters supported by the GET method on this
resource
* * *
Name Data type P Cardinality Description N/A
* * *
This method shall support the request data structures specified in table
5.9.1.2.3.2-2 and the response data structures and response codes specified in
table 5.9.1.2.3.2-3.
Table 5.9.1.2.3.2-2: Data structures supported by the GET Request Body on this
resource
* * *
Data type P Cardinality Description N/A
* * *
Table 5.9.1.2.3.2-3: Data structures supported by the GET Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | array(Ip | M | 0..N | 200 OK | All the | | tvConfigData) | | | | configuration | | | | | | information | | | | | | for the AF in | | | | | | the request | | | | | | URI are | | | | | | returned. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 307 Temporary | Temporary | | | | | Redirect | redirection, | | | | | | during | | | | | | resource | | | | | | retrieval. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 308 Permanent | Permanent | | | | | Redirect | redirection, | | | | | | during | | | | | | resource | | | | | | retrieval. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the GET | | | | | | method listed | | | | | | in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.9.1.2.3.2-4: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
Table 5.9.1.2.3.2-5: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
###### 5.9.1.2.3.3 POST
The POST method creates a new resource to individual IPTV configuration for a
given AF. The AF shall initiate the HTTP POST request message and the NEF
shall respond to the message. The NEF shall construct the URI of the created
resource.
This method shall support the request data structures specified in table
5.9.1.2.3.3-1 and the response data structures and response codes specified in
table 5.9.1.2.3.3-2.
Table 5.9.1.2.3.3-1: Data structures supported by the POST Request Body on
this resource
* * *
Data type P Cardinality Description IptvConfigData M 1 Parameters to create an
IPTV Configuration resource.
* * *
Table 5.9.1.2.3.3-2: Data structures supported by the POST Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | I | M | 1 | 201 Created | The | | ptvConfigData | | | | configuration | | | | | | resource was | | | | | | created | | | | | | successfully. | | | | | | | | | | | | The URI of | | | | | | the created | | | | | | resource | | | | | | shall be | | | | | | returned in | | | | | | the | | | | | | \"Location\" | | | | | | HTTP header. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the POST | | | | | | method listed | | | | | | in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.9.1.2.3.3-3: Headers supported by the 201 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 Contains the URI
of the newly created resource, according to the structure: {apiRoot}/3gpp-
iptvconfiguration/v1/{afId}/configurations/{configurationId}
* * *
#### 5.9.1.3 Resource: Individual IPTV Configuration
##### 5.9.1.3.1 Introduction
This resource allows a AF to read, update or delete an existing IPTV
Configuration.
##### 5.9.1.3.2 Resource Definition
Resource URI: **{apiRoot}/3gpp-
iptvconfiguration/v1/{afId}/configurations/{configurationId}**
This resource shall support the resource URI variables defined in table
5.9.1.3.2-1.
Table 5.9.1.3.2-1: Resource URI variables for this resource
* * *
Name Data type Definition apiRoot string Clause 5.2.4 of 3GPP TS 29.122 [4].
afId string Identifier of the AF. configurationId string Identifier of the
configuration resource.
* * *
##### 5.9.1.3.3 Resource Methods
###### 5.9.1.3.3.1 General
The following clauses specify the resource methods supported by the resource
as described in clause 5.9.1.3.2.
###### 5.9.1.3.3.2 GET
The GET method allows to read the active configuration for a given AF and
subscription Id. The AF shall initiate the HTTP GET request message and theNEF
shall respond to the message.
This method shall support the URI query parameters specified in table
5.9.1.3.3.2-1.
Table 5.9.1.3.3.2-1: URI query parameters supported by the GET method on this
resource
* * *
Name Data type P Cardinality Description N/A
* * *
This method shall support the request data structures specified in table
5.9.1.3.3.2-2 and the response data structures and response codes specified in
table 5.9.1.3.3.2-3.
Table 5.9.1.3.3.2-2: Data structures supported by the GET Request Body on this
resource
* * *
Data type P Cardinality Description N/A
* * *
Table 5.9.1.3.3.2-3: Data structures supported by the GET Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | I | M | 1 | 200 OK | The | | ptvConfigData | | | | information | | | | | | for the | | | | | | configuration | | | | | | in the | | | | | | request URI | | | | | | are returned. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 307 Temporary | Temporary | | | | | Redirect | redirection, | | | | | | during | | | | | | resource | | | | | | retrieval. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 308 Permanent | Permanent | | | | | Redirect | redirection, | | | | | | during | | | | | | resource | | | | | | retrieval. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the GET | | | | | | method listed | | | | | | in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.9.1.3.3.2-4: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
Table 5.9.1.3.3.2-5: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
###### 5.9.1.3.3.3 PUT
The PUT method modifies an existing resource to update a configuration. The AF
shall initiate the HTTP PUT request message and the NEF shall respond to the
message.
This method shall support the request data structures specified in table
5.9.1.3.3.3-1 and the response data structures and response codes specified in
table 5.9.1.3.3.3-2.
Table 5.9.1.3.3.3-1: Data structures supported by the PUT Request Body on this
resource
* * *
Data type P Cardinality Description IptvConfigData M 1 Modify an existing
configuration.
* * *
Table 5.9.1.3.3.3-2: Data structures supported by the PUT Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | I | M | 1 | 200 OK | The | | ptvConfigData | | | | configuration | | | | | | resource was | | | | | | updated | | | | | | successfully. | +---------------+---+-------------+---------------+---------------+ | n/a | | | 204 No | The | | | | | Content | configuration | | | | | | resource was | | | | | | updated | | | | | | successfully. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 307 Temporary | Temporary | | | | | Redirect | redirection, | | | | | | during | | | | | | resource | | | | | | modification. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 308 Permanent | Permanent | | | | | Redirect | redirection, | | | | | | during | | | | | | resource | | | | | | modification. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the PUT | | | | | | method listed | | | | | | in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.9.1.3.3.3-3: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
Table 5.9.1.3.3.3-4: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
###### 5.9.1.3.3.4 DELETE
The DELETE method deletes an existing individual configuration for a given AF.
The AF shall initiate the HTTP DELETE request message and the NEF shall
respond to the message.
This method shall support the URI query parameters specified in table
5.9.1.3.3.4-1.
Table 5.9.1.3.3.4-1: URI query parameters supported by the DELETE method on
this resource
* * *
Name Data type P Cardinality Description N/A
* * *
This method shall support the request data structures specified in table
5.9.1.3.3.4-2 and the response data structures and response codes specified in
table 5.9.1.3.3.4-3.
Table 5.9.1.3.3.4-2: Data structures supported by the DELETE Request Body on
this resource
* * *
Data type P Cardinality Description N/A
* * *
Table 5.9.1.3.3.4-3: Data structures supported by the DELETE Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | N/A | | | 204 No | The | | | | | Content | configuration | | | | | | resource was | | | | | | terminated | | | | | | successfully. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 307 Temporary | Temporary | | | | | Redirect | redirection, | | | | | | during | | | | | | resource | | | | | | termination. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 308 Permanent | Permanent | | | | | Redirect | redirection, | | | | | | during | | | | | | resource | | | | | | termination. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the | | | | | | DELETE method | | | | | | listed in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.9.1.3.3.4-4: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
Table 5.9.1.3.3.4-5: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
###### 5.9.1.3.3.5 PATCH
The PATCH method allows to change some properties of an existing resource to
update a configuration. The AF shall initiate the HTTP PATCH request message
and the NEF shall respond to the message.
This method shall support the request data structures specified in table
5.9.1.3.3.5-1 and the response data structures and response codes specified in
table 5.9.1.3.3.5-2.
Table 5.9.1.3.3.5-1: Data structures supported by the PATCH Request Body on
this resource
* * *
Data type P Cardinality Description IptvConfigDataPatch M 1 Partial update an
existing configuration.
* * *
Table 5.9.1.3.3.5-2: Data structures supported by the PATCH Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | I | M | 1 | 200 OK | The | | ptvConfigData | | | | configuration | | | | | | resource was | | | | | | updated | | | | | | successfully. | +---------------+---+-------------+---------------+---------------+ | n/a | | | 204 No | The | | | | | Content | configuration | | | | | | resource was | | | | | | updated | | | | | | successfully. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 307 Temporary | Temporary | | | | | Redirect | redirection, | | | | | | during | | | | | | resource | | | | | | modification. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 308 Permanent | Permanent | | | | | Redirect | redirection, | | | | | | during | | | | | | resource | | | | | | modification. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the PATCH | | | | | | method listed | | | | | | in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.9.1.3.3.5-3: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
Table 5.9.1.3.3.5-4: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
### 5.9.1A Custom Operations without associated resources
There are no custom operations without associated resources defined for this
API in this release of the specification.
### 5.9.1B Notifications
There are no notifications defined for this API in this release of the
specification.
### 5.9.2 Data Model
#### 5.9.2.1 General
This clause specifies the application data model supported by the
IPTVConfiguration API.
Table 5.9.2.1-1 specifies the data types defined for the IPTVConfiguration
API.
Table 5.9.2.1-1: IPTVConfiguration API specific Data Types
* * *
Data type Clause defined Description Applicability AccessRightStatus 5.9.2.4.3
Represents the access right status for parameter provision.  
IptvConfigData 5.9.2.3.2 Represents an individual IPTV Configuration resource.  
IptvConfigDataPatch 5.9.2.3.4 Represents the parameters to request the
modification of an IPTV Configuration resource.  
MulticastAccessControl 5.9.2.3.3 Represents multicast address access control
information.
* * *
#### 5.9.2.2 Reused data types
The data types reused by the IPTVConfiguration API from other specifications
are listed in table 5.9.2.2-1.
Table 5.9.2.2-1: Re-used Data Types
* * *
Data type Reference Comments Dnn 3GPP TS 29.571 [8] Identifies a DNN.
ExternalGroupId 3GPP TS 29.122 [4] External Group Identifier for a user group.
Gpsi 3GPP TS 29.571 [8] Identifies a GPSI. Ipv4Addr 3GPP TS 29.571 [8]
Identifies an IPv4 address. Ipv6Addr 3GPP TS 29.571 [8] Identifies an IPv6
address. Link 3GPP TS 29.122 [4] Represents a referenced resource.
MtcProviderInformation 3GPP TS 29.571 [8] Indicates MTC provider information.
Snssai 3GPP TS 29.571 [8] Identifies the S-NSSAI. SupportedFeatures 3GPP TS
29.571 [8] Used to negotiate the applicability of the optional features
defined in table 5.9.3-1.
* * *
#### 5.9.2.3 Structured data types
##### 5.9.2.3.1 Introduction
This clause defines the structured data types to be used in resource
representations.
##### 5.9.2.3.2 Type: IptvConfigData
Table 5.9.2.3.2-1: Definition of type IptvConfigData
+-----------+-----------+---+-----------+-----------+-----------+ | Attribute | Data type | P | Ca | De | Appl | | name | | | rdinality | scription | icability | +-----------+-----------+---+-----------+-----------+-----------+ | self | Link | C | 0..1 | I | | | | | | | dentifies | | | | | | | the | | | | | | | i | | | | | | | ndividual | | | | | | | IPTV | | | | | | | conf | | | | | | | iguration | | | | | | | resource | | | | | | | URI. | | | | | | | | | | | | | | Shall be | | | | | | | present | | | | | | | in the | | | | | | | HTTP GET | | | | | | | response | | | | | | | when | | | | | | | reading | | | | | | | all the | | | | | | | confi | | | | | | | gurations | | | | | | | for an | | | | | | | AF. | | +-----------+-----------+---+-----------+-----------+-----------+ | gpsi | Gpsi | C | 0..1 | I | | | | | | | dentifies | | | | | | | GPSI. | | | | | | | (NOTE) | | +-----------+-----------+---+-----------+-----------+-----------+ | ext | Extern | C | 0..1 | R | | | erGroupId | alGroupId | | | epresents | | | | | | | a group | | | | | | | of users. | | | | | | | (NOTE) | | +-----------+-----------+---+-----------+-----------+-----------+ | afAppId | string | M | 1 | I | | | | | | | dentifies | | | | | | | an | | | | | | | app | | | | | | | lication. | | +-----------+-----------+---+-----------+-----------+-----------+ | dnn | Dnn | O | 0..1 | I | | | | | | | dentifies | | | | | | | a DNN, a | | | | | | | full DNN | | | | | | | with both | | | | | | | the | | | | | | | Network | | | | | | | I | | | | | | | dentifier | | | | | | | and | | | | | | | Operator | | | | | | | Id | | | | | | | entifier, | | | | | | | or a DNN | | | | | | | with the | | | | | | | Network | | | | | | | I | | | | | | | dentifier | | | | | | | only. | | +-----------+-----------+---+-----------+-----------+-----------+ | snssai | Snssai | O | 0..1 | I | | | | | | | dentifies | | | | | | | an | | | | | | | S-NSSAI. | | +-----------+-----------+---+-----------+-----------+-----------+ | mult | map(Multi | M | 1..N | I | | | iAccCtrls | castAcces | | | dentifies | | | | sControl) | | | a list of | | | | | | | multicast | | | | | | | address | | | | | | | access | | | | | | | control | | | | | | | inf | | | | | | | ormation. | | | | | | | | | | | | | | Any | | | | | | | string | | | | | | | value can | | | | | | | be used | | | | | | | as a key | | | | | | | of the | | | | | | | map. | | +-----------+-----------+---+-----------+-----------+-----------+ | mtcP | MtcP | O | 0..1 | Indicates | | | roviderId | roviderIn | | | MTC | | | | formation | | | provider | | | | | | | inf | | | | | | | ormation. | | +-----------+-----------+---+-----------+-----------+-----------+ | suppFeat | Supporte | M | 1 | Indicates | | | | dFeatures | | | the | | | | | | | n | | | | | | | egotiated | | | | | | | supported | | | | | | | features. | | +-----------+-----------+---+-----------+-----------+-----------+ | NOTE: | | | | | | | Only one | | | | | | | of the | | | | | | | \"gpsi\" | | | | | | | or | | | | | | | \"exter | | | | | | | GroupId\" | | | | | | | attribute | | | | | | | shall be | | | | | | | provided. | | | | | | +-----------+-----------+---+-----------+-----------+-----------+
##### 5.9.2.3.3 Type: MulticastAccessControl
Table 5.9.2.3.3-1: Definition of type MulticastAccessControl
+-----------+-----------+---+-----------+-----------+-----------+ | Attribute | Data type | P | Ca | De | Appl | | name | | | rdinality | scription | icability | +-----------+-----------+---+-----------+-----------+-----------+ | sr | Ipv4Addr | O | 0..1 | I | | | cIpv4Addr | | | | dentifies | | | | | | | the | | | | | | | source | | | | | | | IPv4 | | | | | | | address | | | | | | | of IPTV | | | | | | | multicast | | | | | | | channel. | | +-----------+-----------+---+-----------+-----------+-----------+ | sr | Ipv6Addr | O | 0..1 | I | | | cIpv6Addr | | | | dentifies | | | | | | | the | | | | | | | source | | | | | | | IPv6 | | | | | | | address | | | | | | | of IPTV | | | | | | | multicast | | | | | | | channel. | | +-----------+-----------+---+-----------+-----------+-----------+ | multic | Ipv4Addr | O | 0..1 | I | | | astV4Addr | | | | dentifies | | | | | | | the | | | | | | | multicast | | | | | | | IPv4 | | | | | | | address | | | | | | | of IPTV | | | | | | | multicast | | | | | | | channel. | | | | | | | | | | | | | | (NOTE) | | +-----------+-----------+---+-----------+-----------+-----------+ | multic | Ipv6Addr | O | 0..1 | I | | | astV6Addr | | | | dentifies | | | | | | | the | | | | | | | multicast | | | | | | | IPv6 | | | | | | | address | | | | | | | of IPTV | | | | | | | multicast | | | | | | | channel. | | | | | | | | | | | | | | (NOTE) | | +-----------+-----------+---+-----------+-----------+-----------+ | accStatus | AccessRi | M | 1 | R | | | | ghtStatus | | | epresents | | | | | | | access | | | | | | | right | | | | | | | status of | | | | | | | the | | | | | | | multicast | | | | | | | channel. | | +-----------+-----------+---+-----------+-----------+-----------+ | NOTE: At | | | | | | | least one | | | | | | | of the | | | | | | | \ | | | | | | | "multicas | | | | | | | tV4Addr\" | | | | | | | or | | | | | | | \ | | | | | | | "multicas | | | | | | | tV6Addr\" | | | | | | | attribute | | | | | | | shall be | | | | | | | provided. | | | | | | +-----------+-----------+---+-----------+-----------+-----------+
##### 5.9.2.3.4 Type: IptvConfigDataPatch
Table 5.9.2.3.4-1: Definition of type IptvConfigDataPatch
+-----------+-----------+---+-----------+-----------+-----------+ | Attribute | Data type | P | Ca | De | Appl | | name | | | rdinality | scription | icability | +-----------+-----------+---+-----------+-----------+-----------+ | mult | map(Multi | O | 1..N | I | | | iAccCtrls | castAcces | | | dentifies | | | | sControl) | | | a list of | | | | | | | multicast | | | | | | | address | | | | | | | access | | | | | | | control | | | | | | | inf | | | | | | | ormation. | | | | | | | | | | | | | | Any | | | | | | | string | | | | | | | value can | | | | | | | be used | | | | | | | as a key | | | | | | | of the | | | | | | | map. | | +-----------+-----------+---+-----------+-----------+-----------+
#### 5.9.2.4 Simple data types and enumerations
##### 5.9.2.4.1 Introduction
This clause defines simple data types and enumerations that can be referenced
from data structures defined in the previous clauses.
##### 5.9.2.4.2 Simple data types
The simple data types defined in table 5.9.2.4.2-1 shall be supported.
Table 5.9.2.4.2-1: Simple data types
* * *
Type Name Type Definition Description Applicability
* * *
##### 5.9.2.4.3 Enumeration: AccessRightStatus
The enumeration AccessRightStatus represents the parameters provision type of
which the AF requests to provision. It shall comply with the provisions
defined in table 5.9.2.4.3-1.
Table 5.9.2.4.3-1: Enumeration AccessRightStatus
* * *
Enumeration value Description FULLY_ALLOWED The User is fully allowed to
access to the channel. PREVIEW_ALLOWED The User is preview allowed to access
to the channel. NO_ALLOWED The User is not allowed to access to the channel.
* * *
### 5.9.3 Used Features
The table below defines the features applicable to the IPTVConfiguration API.
Those features are negotiated as described in clause 5.2.7 of 3GPP TS 29.122
[4].
Table 5.9.3-1: Features used by IPTVConfiguration API
* * *
Feature number Feature Name Description
* * *
### 5.9.4 Error handling
#### 5.9.4.1 General
HTTP error handling shall be supported as specified in clause 5.2.6 of 3GPP TS
29.122 [4].
In addition, the requirements in the following clauses shall apply.
#### 5.9.4.2 Protocol Errors
In this Release of the specification, there are no additional protocol errors
applicable for the IPTVConfiguration API.
#### 5.9.4.3 Application Errors
The application errors defined for IPTVConfiguration API are listed in table
5.9.4.3-1.
Table 5.9.4.3-1: Application errors
* * *
Application Error HTTP status code Description Applicability
* * *
## 5.10 LpiParameterProvision API
### 5.10.0 Introduction
The Nnef_ParameterProvision service shall use the LpiParameterProvision API
for LPI parameters provisioning.
The API URI of LpiParameterProvision API shall be:
**{apiRoot}/3gpp-lpi-pp/v1**
with the following components:
\- \"apiRoot\" is set as defined in clause 5.2.4 of 3GPP TS 29.122 [4].
\- \"apiName\" shall be set to \"3gpp-lpi-pp\".
\- \"apiVersion\" shall be set to \"v1\" for the current version defined in
the present document.
All resource URIs in the clauses below are defined relative to the above API
URI.
### 5.10.1 Resources
#### 5.10.1.1 Overview
This clause describes the structure for the Resource URIs as shown in figure
5.10.1.1-1 and the resources and HTTP methods used for the
LpiParameterProvision API.
Figure 5.10.1.1-1: Resource URI structure of the LpiParameterProvision API
Table 5.10.1.1-1 provides an overview of the resources and HTTP methods
applicable for the LpiParameterProvision API.
Table 5.10.1.1-1: Resources and methods overview
+-----------------+-----------------+-------------+-----------------+ | Resource name | Resource URI | HTTP method | Description | +-----------------+-----------------+-------------+-----------------+ | LPI Parameters | /{afId}/ | GET | Read all LPI | | Provisionings | provisionedLpis | | Parameters | | | | | Provisioning | | | (NOTE) | | resources for a | | | | | given AF. | +-----------------+-----------------+-------------+-----------------+ | | | POST | Create a new | | | | | Individual LPI | | | | | Parameters | | | | | Provisioning | | | | | resource. | +-----------------+-----------------+-------------+-----------------+ | Individual LPI | /{afId}/prov | GET | Read an | | Parameters | isionedLpis/{pr | | existing | | Provisioning | ovisionedLpiId} | | Individual LPI | | | | | Parameters | | | (NOTE) | | Provisioning | | | | | resource | | | | | identified by | | | | | {pro | | | | | visionedLpiId}. | +-----------------+-----------------+-------------+-----------------+ | | | PUT | Update an | | | | | existing | | | | | Individual LPI | | | | | Parameters | | | | | Provisioning | | | | | resource | | | | | identified by | | | | | {pro | | | | | visionedLpiId}. | +-----------------+-----------------+-------------+-----------------+ | | | PATCH | Modify an | | | | | existing | | | | | Individual LPI | | | | | Parameters | | | | | Provisioning | | | | | resource | | | | | identified by | | | | | {pro | | | | | visionedLpiId}. | +-----------------+-----------------+-------------+-----------------+ | | | DELETE | Delete an | | | | | existing | | | | | Individual LPI | | | | | Parameters | | | | | Provisioning | | | | | resource | | | | | identified by | | | | | {pro | | | | | visionedLpiId}. | +-----------------+-----------------+-------------+-----------------+ | NOTE: The path | | | | | segment | | | | | \"pr | | | | | ovisionedLpis\" | | | | | does not follow | | | | | the related | | | | | naming | | | | | convention | | | | | defined in | | | | | clause 5.2. The | | | | | path segment is | | | | | however kept as | | | | | currently | | | | | defined in this | | | | | specification | | | | | for backward | | | | | compatibility | | | | | considerations. | | | | +-----------------+-----------------+-------------+-----------------+
#### 5.10.1.2 Resource: LPI Parameters Provisionings
##### 5.10.1.2.1 Introduction
This resource allows a AF to read all active LPI Parameters Provisionings for
the given AF, or create an new individual LPI Parameters Provisioning resource
to provision parameters to the NEF.
##### 5.10.1.2.2 Resource Definition
Resource URI: **{apiRoot}/3gpp-lpi-pp/v1/{afId}/provisionedLpis**
This resource shall support the resource URI variables defined in table
5.10.1.2.2-1.
Table 5.10.1.2.2-1: Resource URI variables for this resource
* * *
Name Data type Definition apiRoot string Clause 5.2.4 of 3GPP TS 29.122 [4].
afId string Identifier of the AF.
* * *
##### 5.10.1.2.3 Resource Methods
###### 5.10.1.2.3.1 General
The following clauses specify the resource methods supported by the resource
as described in clause 5.10.1.2.3.
###### 5.10.1.2.3.2 GET
The GET method allows to read all active LPI Parameters Provisioning resources
for a given AF. The AF shall initiate the HTTP GET request message and the NEF
shall respond to the message.
This method shall support the URI query parameters specified in table
5.10.1.2.3.2-1.
Table 5.10.1.2.3.2-1: URI query parameters supported by the GET method on this
resource
* * *
Name Data type P Cardinality Description N/A
* * *
This method shall support the request data structures specified in table
5.10.1.2.3.2-2 and the response data structures and response codes specified
in table 5.10.1.2.3.2-3.
Table 5.10.1.2.3.2-2: Data structures supported by the GET Request Body on
this resource
* * *
Data type P Cardinality Description N/A
* * *
Table 5.10.1.2.3.2-3: Data structures supported by the GET Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | arr | M | 0..N | 200 OK | All the LPI | | ay(LpiParamet | | | | Parameters | | ersProvision) | | | | Provisioning | | | | | | information | | | | | | for the AF in | | | | | | the request | | | | | | URI are | | | | | | returned. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 307 Temporary | Temporary | | | | | Redirect | redirection, | | | | | | during | | | | | | resource | | | | | | retrieval. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 308 Permanent | Permanent | | | | | Redirect | redirection, | | | | | | during | | | | | | resource | | | | | | retrieval. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the GET | | | | | | method listed | | | | | | in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.10.1.2.3.2-4: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
Table 5.10.1.2.3.2-5: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
###### 5.10.1.2.3.3 POST
The POST method creates a new resource to LPI Parameters Provisionings for a
given AF. The AF shall initiate the HTTP POST request message and the NEF
shall respond to the message. The NEF shall construct the URI of the created
resource.
This method shall support the request data structures specified in table
5.10.1.2.3.3-1 and the response data structures and response codes specified
in table 5.10.1.2.3.3-2.
Table 5.10.1.2.3.3-1: Data structures supported by the POST Request Body on
this resource
* * *
Data type P Cardinality Description LpiParametersProvision M 1 Parameters to
create an Individual LPI Parameters Provisioning resource to provision
parameters.
* * *
Table 5.10.1.2.3.3-2: Data structures supported by the POST Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | LpiParame | M | 1 | 201 Created | The resource | | tersProvision | | | | was created | | | | | | successfully. | | | | | | | | | | | | The URI of | | | | | | the created | | | | | | resource | | | | | | shall be | | | | | | returned in | | | | | | the | | | | | | \"Location\" | | | | | | HTTP header. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the POST | | | | | | method listed | | | | | | in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.10.1.2.3.3-3: Headers supported by the 201 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 Contains the URI
of the newly created resource, according to the structure: {apiRoot}/3gpp-lpi-
pp/v1/{afId}/provisionedLpis/{provisionedLpiId}
* * *
#### 5.10.1.3 Resource: Individual LPI Parameters Provisioning
##### 5.10.1.3.1 Introduction
This resource allows a AF to read, update or delete an existing Individual LPI
Parameters Provisioning resource.
##### 5.10.1.3.2 Resource Definition
Resource URI: **{apiRoot}/3gpp-lpi-
pp/v1/{afId}/provisionedLpis/{provisionedLpiId}**
This resource shall support the resource URI variables defined in table
5.10.1.3.2-1.
Table 5.10.1.3.2-1: Resource URI variables for this resource
* * *
Name Data type Definition apiRoot string Clause 5.2.4 of 3GPP TS 29.122 [4].
afId string Identifier of the AF. provisionedLpiId string Identifier of the
provisioning resource.
* * *
##### 5.10.1.3.3 Resource Methods
###### 5.10.1.3.3.1 General
The following clauses specify the resource methods supported by the resource
as described in clause 5.10.1.3.3.
###### 5.10.1.3.3.2 GET
The GET method allows to read an active Individual LPI Parameters Provisioning
resource for a given AF and provisionedLpiId. The AF shall initiate the HTTP
GET request message and the NEF shall respond to the message.
This method shall support the URI query parameters specified in table
5.10.1.3.3.2-1.
Table 5.10.1.3.3.2-1: URI query parameters supported by the GET method on this
resource
* * *
Name Data type P Cardinality Description N/A
* * *
This method shall support the request data structures specified in table
5.10.1.3.3.2-2 and the response data structures and response codes specified
in table 5.10.1.3.3.2-3.
Table 5.10.1.3.3.2-2: Data structures supported by the GET Request Body on
this resource
* * *
Data type P Cardinality Description N/A
* * *
Table 5.10.1.3.3.2-3: Data structures supported by the GET Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | LpiParame | M | 1 | 200 OK | The | | tersProvision | | | | information | | | | | | for the | | | | | | source in the | | | | | | request URI | | | | | | are returned. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 307 Temporary | Temporary | | | | | Redirect | redirection, | | | | | | during | | | | | | resource | | | | | | retrieval. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 308 Permanent | Permanent | | | | | Redirect | redirection, | | | | | | during | | | | | | resource | | | | | | retrieval. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the GET | | | | | | method listed | | | | | | in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.10.1.3.3.2-4: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
Table 5.10.1.3.3.2-5: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
###### 5.10.1.3.3.3 PUT
The PUT method updates an existing resource to update an existing Individual
LPI Parameters Provisioning resource. The AF shall initiate the HTTP PUT
request message and the NEF shall respond to the message.
This method shall support the request data structures specified in table
5.10.1.3.3.3-1 and the response data structures and response codes specified
in table 5.10.1.3.3.3-2.
Table 5.10.1.3.3.3-1: Data structures supported by the PUT Request Body on
this resource
* * *
Data type P Cardinality Description LpiParametersProvision M 1 Update an
existing individual LPI Parameters Provisioning resource to provision
parameters.
* * *
Table 5.10.1.3.3.3-2: Data structures supported by the PUT Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | LpiParame | M | 1 | 200 OK | The resource | | tersProvision | | | | was updated | | | | | | successfully | | | | | | and a | | | | | | r | | | | | | epresentation | | | | | | of the | | | | | | updated | | | | | | resource is | | | | | | returned. | +---------------+---+-------------+---------------+---------------+ | n/a | | | 204 No | The resource | | | | | Content | was updated | | | | | | successfully | | | | | | and no | | | | | | additional | | | | | | content is | | | | | | sent in the | | | | | | response | | | | | | message. | +---------------+---+-------------+---------------+---------------+ | n/a | | | 307 Temporary | Temporary | | | | | Redirect | redirection, | | | | | | during | | | | | | resource | | | | | | modification. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 308 Permanent | Permanent | | | | | Redirect | redirection, | | | | | | during | | | | | | resource | | | | | | modification. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the PUT | | | | | | method listed | | | | | | in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.10.1.3.3.3-3: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
Table 5.10.1.3.3.3-4: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
###### 5.10.1.3.3.3A PATCH
The PATCH method modifies an existing resource to update an existing
individual LPI Parameters Provisioning resource. The AF shall initiate the
HTTP PATCH request message and the NEF shall respond to the message.
This method shall support the request data structures specified in table
5.10.1.3.3.3A-1 and the response data structures and response codes specified
in table 5.10.1.3.3.3A-2.
Table 5.10.1.3.3.3A-1: Data structures supported by the PATCH Request Body on
this resource
* * *
Data type P Cardinality Description LpiParametersProvisionPatch M 1 Modify an
existing individual LPI Parameters Provisioning resource to provision
parameters.
* * *
Table 5.10.1.3.3.3A-2: Data structures supported by the PATCH Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | LpiParame | M | 1 | 200 OK | The resource | | tersProvision | | | | was updated | | | | | | successfully | | | | | | and a | | | | | | r | | | | | | epresentation | | | | | | of the | | | | | | updated | | | | | | resource is | | | | | | returned. | +---------------+---+-------------+---------------+---------------+ | n/a | | | 204 No | The resource | | | | | Content | was updated | | | | | | successfully | | | | | | and no | | | | | | additional | | | | | | content is | | | | | | sent in the | | | | | | response | | | | | | message. | +---------------+---+-------------+---------------+---------------+ | n/a | | | 307 Temporary | Temporary | | | | | Redirect | redirection. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | n/a | | | 308 Permanent | Permanent | | | | | Redirect | redirection. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the PATCH | | | | | | method listed | | | | | | in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.10.1.3.3.3A-3: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
Table 5.10.1.3.3.3A-4: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
###### 5.10.1.3.3.4 DELETE
The DELETE method deletes an existing individual LPI Parameters Provisioning
resource for a given AF. The AF shall initiate the HTTP DELETE request message
and the NEF shall respond to the message.
This method shall support the URI query parameters specified in table
5.10.1.3.3.4-1.
Table 5.10.1.3.3.4-1: URI query parameters supported by the DELETE method on
this resource
* * *
Name Data type P Cardinality Description N/A
* * *
This method shall support the request data structures specified in table
5.10.1.3.3.4-2 and the response data structures and response codes specified
in table 5.10.1.3.3.4-3.
Table 5.10.1.3.3.4-2: Data structures supported by the DELETE Request Body on
this resource
* * *
Data type P Cardinality Description N/A
* * *
Table 5.10.1.3.3.4-3: Data structures supported by the DELETE Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | N/A | | | 204 No | The resource | | | | | Content | was removed | | | | | | successfully. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 307 Temporary | Temporary | | | | | Redirect | redirection, | | | | | | during | | | | | | resource | | | | | | termination. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 308 Permanent | Permanent | | | | | Redirect | redirection, | | | | | | during | | | | | | resource | | | | | | termination. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the | | | | | | DELETE method | | | | | | listed in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.10.1.3.3.4-4: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
Table 5.10.1.3.3.4-5: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
### 5.10.1A Custom Operations without associated resources
There are no custom operations without associated resources defined for this
API in this release of the specification.
### 5.10.1B Notifications
There are no notifications defined for this API in this release of the
specification.
### 5.10.2 Data Model
#### 5.10.2.1 General
This clause specifies the application data model supported by the
LpiParameterProvision API.
Table 5.10.2.1-1 specifies the data types defined for the
LpiParameterProvision API.
Table 5.10.2.1-1: LpiParameterProvision API specific Data Types
* * *
Data type Clause defined Description Applicability LpiParametersProvision
5.10.2.3.2 Represents an individual LPI Parameters Provisioning resource.
* * *
#### 5.10.2.2 Reused data types
The data types reused by the LpiParameterProvision API from other
specifications are listed in table 5.10.2.2-1.
Table 5.10.2.2-1: Re-used Data Types
* * *
Data type Reference Comments ExternalGroupId 3GPP TS 29.122 [4] External Group
Identifier for a user group. Gpsi 3GPP TS 29.571 [8] Identifies a GPSI. Link
3GPP TS 29.122 [4] Identifies a referenced resource. Lpi 3GPP TS 29.503 [17]
Identifies the Location Privacy Indication information. MtcProviderInformation
3GPP TS 29.571 [8] Indicates MTC provider information for LCS privacy
parameter configuration authorization. SupportedFeatures 3GPP TS 29.571 [8]
Used to negotiate the applicability of the optional features defined in table
5.10.3-1.
* * *
#### 5.10.2.3 Structured data types
##### 5.10.2.3.1 Introduction
This clause defines the structured data types to be used in resource
representations.
##### 5.10.2.3.2 Type: LpiParametersProvision
Table 5.10.2.3.2-1: Definition of type LpiParametersProvision
+-----------+-----------+---+-----------+-----------+-----------+ | Attribute | Data type | P | Ca | De | Appl | | name | | | rdinality | scription | icability | +-----------+-----------+---+-----------+-----------+-----------+ | self | Link | C | 0..1 | I | | | | | | | dentifies | | | | | | | the | | | | | | | i | | | | | | | ndividual | | | | | | | p | | | | | | | arameters | | | | | | | pro | | | | | | | visioning | | | | | | | resource. | | | | | | | | | | | | | | This | | | | | | | attribute | | | | | | | shall be | | | | | | | supplied | | | | | | | by the | | | | | | | NEF in | | | | | | | HTTP | | | | | | | responses | | | | | | | that | | | | | | | include | | | | | | | an object | | | | | | | of | | | | | | | LpiP | | | | | | | arameters | | | | | | | Provision | | | | | | | type. | | +-----------+-----------+---+-----------+-----------+-----------+ | ext | Extern | O | 0..1 | I | | | erGroupId | alGroupId | | | dentifies | | | | | | | a group | | | | | | | of UEs. | | | | | | | | | | | | | | (NOTE 1) | | +-----------+-----------+---+-----------+-----------+-----------+ | gpsi | Gpsi | O | 0..1 | I | | | | | | | dentifies | | | | | | | an UE | | | | | | | with | | | | | | | GPSI. | | | | | | | | | | | | | | (NOTE 1)) | | +-----------+-----------+---+-----------+-----------+-----------+ | lpi | Lpi | M | 1 | Location | | | | | | | Privacy | | | | | | | I | | | | | | | ndication | | | | | | | p | | | | | | | arameters | | +-----------+-----------+---+-----------+-----------+-----------+ | mtcP | MtcP | O | 0..1 | Indicates | | | roviderId | roviderIn | | | MTC | | | | formation | | | provider | | | | | | | in | | | | | | | formation | | | | | | | for LCS | | | | | | | privacy | | | | | | | parameter | | | | | | | conf | | | | | | | iguration | | | | | | | autho | | | | | | | rization. | | | | | | | (NOTE 2)) | | +-----------+-----------+---+-----------+-----------+-----------+ | suppFeat | Supporte | M | 1 | Indicates | | | | dFeatures | | | the | | | | | | | n | | | | | | | egotiated | | | | | | | supported | | | | | | | features. | | +-----------+-----------+---+-----------+-----------+-----------+ | NOTE 1: | | | | | | | Only one | | | | | | | of the | | | | | | | \"gpsi\" | | | | | | | or | | | | | | | \"exter | | | | | | | GroupId\" | | | | | | | attribute | | | | | | | shall be | | | | | | | provided. | | | | | | | | | | | | | | NOTE 2: | | | | | | | The NEF | | | | | | | should | | | | | | | check | | | | | | | received | | | | | | | MTC | | | | | | | Provider | | | | | | | in | | | | | | | formation | | | | | | | and then | | | | | | | the NEF | | | | | | | may: | | | | | | | | | | | | | | > \- | | | | | | | > | | | | | | | override | | | | | | | > it with | | | | | | | > local | | | | | | | > c | | | | | | | onfigured | | | | | | | > value | | | | | | | > and | | | | | | | > send it | | | | | | | > to UDM; | | | | | | | > | | | | | | | > \- send | | | | | | | > it | | | | | | | > | | | | | | | directly | | | | | | | > to the | | | | | | | > UDM; or | | | | | | | > | | | | | | | > \- | | | | | | | > reject | | | | | | | > the LPI | | | | | | | > | | | | | | | Parameter | | | | | | | > Pro | | | | | | | visioning | | | | | | | > | | | | | | | request. | | | | | | +-----------+-----------+---+-----------+-----------+-----------+
##### 5.10.2.3.3 Type: LpiParametersProvisionPatch
Table 5.10.2.3.3-1: Definition of type LpiParametersProvisionPatch
+-----------+-----------+---+-----------+-----------+-----------+ | Attribute | Data type | P | Ca | De | Appl | | name | | | rdinality | scription | icability | +-----------+-----------+---+-----------+-----------+-----------+ | lpi | Lpi | O | 1 | Location | | | | | | | Privacy | | | | | | | I | | | | | | | ndication | | | | | | | p | | | | | | | arameters | | +-----------+-----------+---+-----------+-----------+-----------+ | mtcP | MtcP | O | 0..1 | Indicates | | | roviderId | roviderIn | | | MTC | | | | formation | | | provider | | | | | | | in | | | | | | | formation | | | | | | | for LCS | | | | | | | privacy | | | | | | | parameter | | | | | | | conf | | | | | | | iguration | | | | | | | autho | | | | | | | rization. | | | | | | | (NOTE 1) | | +-----------+-----------+---+-----------+-----------+-----------+ | NOTE 1: | | | | | | | The NEF | | | | | | | should | | | | | | | check | | | | | | | received | | | | | | | MTC | | | | | | | Provider | | | | | | | in | | | | | | | formation | | | | | | | and then | | | | | | | the NEF | | | | | | | may: | | | | | | | | | | | | | | > \- | | | | | | | > | | | | | | | override | | | | | | | > it with | | | | | | | > local | | | | | | | > c | | | | | | | onfigured | | | | | | | > value | | | | | | | > and | | | | | | | > send it | | | | | | | > to UDM; | | | | | | | > | | | | | | | > \- send | | | | | | | > it | | | | | | | > | | | | | | | directly | | | | | | | > to the | | | | | | | > UDM; or | | | | | | | > | | | | | | | > \- | | | | | | | > reject | | | | | | | > the LPI | | | | | | | > | | | | | | | Parameter | | | | | | | > Pro | | | | | | | visioning | | | | | | | > mod | | | | | | | ification | | | | | | | > | | | | | | | request. | | | | | | +-----------+-----------+---+-----------+-----------+-----------+
#### 5.10.2.4 Simple data types and enumerations
##### 5.10.2.4.1 Introduction
This clause defines simple data types and enumerations that can be referenced
from data structures defined in the previous clauses.
##### 5.10.2.4.2 Simple data types
The simple data types defined in table 5.10.2.4.2-1 shall be supported.
Table 5.10.2.4.2-1: Simple data types
* * *
Type Name Type Definition Description Applicability
* * *
### 5.10.3 Used Features
The table below defines the features applicable to the LpiParameterProvision
API. Those features are negotiated as described in clause 5.2.7 of 3GPP TS
29.122 [4].
Table 5.10.3-1: Features used by LpiParameterProvision API
* * *
Feature number Feature Name Description 1 PatchUpdate Indicates the support of
enhancements to the northbound interfaces (e.g. support the partial
modification of an existing resource).
* * *
### 5.10.4 Error handling
#### 5.10.4.1 General
HTTP error handling shall be supported as specified in clause 5.2.6 of 3GPP TS
29.122 [4].
In addition, the requirements in the following clauses shall apply.
#### 5.10.4.2 Protocol Errors
In this Release of the specification, there are no additional protocol errors
applicable for the LpiParameterProvision API.
#### 5.10.4.3 Application Errors
The application errors defined for LpiParameterProvision API are listed in
table 5.10.4.3-1.
Table 5.10.4.3-1: Application errors
* * *
Application Error HTTP status code Description Applicability
* * *
## 5.11 ServiceParameter API
### 5.11.0 Introduction
The Nnef_ServiceParameter service shall use the ServiceParameter API.
The API URI of ServiceParameter API shall be:
**{apiRoot}/3gpp-service-parameter/v1**
with the following components:
\- \"apiRoot\" is set as defined in clause 5.2.4 of 3GPP TS 29.122 [4].
\- \"apiName\" shall be set to \"3gpp-service-parameter\".
\- \"apiVersion\" shall be set to \"v1\" for the current version defined in
the present document.
All resource URIs in the clauses below are defined relative to the above API
URI.
### 5.11.1 Resources
#### 5.11.1.1 Overview
This clause describes the structure for the Resource URIs as shown in figure
5.11.1.1-1 and the resources and HTTP methods used for the ServiceParameter
API.
Figure 5.11.1.1-1: Resource URI structure of the ServiceParameter API
Table 5.11.1.1-1 provides an overview of the resources and HTTP methods
applicable for the ServiceParameter API.
Table 5.11.1.1-1: Resources and methods overview
* * *
Resource name Resource URI HTTP method Description Service Parameter
Subscripions /{afId}/subscriptions GET Read all subscriptions for a given AF.
POST Create a new service parameter subscription. Individual Service Parameter
Subscripion /{afId}/subscriptions/{subscriptionId} GET Read an existing
service parameter subscription identified by {subscriptionId}. PUT Update an
existing service parameter subscription identified by {subscriptionId}. PATCH
Modify an existing service parameter subscription identified by
{subscriptionId}. DELETE Delete an existing service parameter subscription
identified by {subscriptionId}.
* * *
#### 5.11.1.2 Resource: Service Parameter Subscriptions
##### 5.11.1.2.1 Introduction
This resource allows a AF to read all active Service Parameter Subscriptions
for the given AF, or create an new individual service parameter subscription
in the NEF.
##### 5.11.1.2.2 Resource Definition
Resource URI: **{apiRoot}/3gpp-service-parameter/v1/{afId}/subscriptions**
This resource shall support the resource URI variables defined in table
5.11.1.2.2-1.
Table 5.11.1.2.2-1: Resource URI variables for this resource
* * *
Name Data type Definition apiRoot string Clause 5.2.4 of 3GPP TS 29.122 [4].
afId string Identifier of the AF.
* * *
##### 5.11.1.2.3 Resource Methods
###### 5.11.1.2.3.1 General
The following clauses specify the resource methods supported by the resource
as described in clause 5.11.1.2.3.
###### 5.11.1.2.3.2 GET
The GET method allows to read all active subscriptions for a given AF. The AF
shall initiate the HTTP GET request message and the NEF shall respond to the
message.
This method shall support the URI query parameters specified in table
5.11.1.2.3.2-1.
Table 5.11.1.2.3.2-1: URI query parameters supported by the GET method on this
resource
+-----------+-----------+---+-----------+-----------+-----------+ | Name | Data type | P | Ca | De | Appl | | | | | rdinality | scription | icability | +-----------+-----------+---+-----------+-----------+-----------+ | gpsis | ar | O | 1..N | The GPSI | EnNB | | | ray(Gpsi) | | | of the | | | | | | | requested | | | | | | | UE(s). | | +-----------+-----------+---+-----------+-----------+-----------+ | ip-addrs | arra | O | 1..N | The IP | EnNB | | | y(IpAddr) | | | ad | | | | | | | dress(es) | | | | | | | of the | | | | | | | requested | | | | | | | UE(s). | | +-----------+-----------+---+-----------+-----------+-----------+ | ip-domain | string | O | 1 | The IPv4 | EnNB | | | | | | address | | | | | | | domain | | | | | | | id | | | | | | | entifier. | | | | | | | | | | | | | | The | | | | | | | attribute | | | | | | | may only | | | | | | | be | | | | | | | provided | | | | | | | if IPv4 | | | | | | | address | | | | | | | is | | | | | | | included | | | | | | | in the | | | | | | | ip-addrs | | | | | | | query | | | | | | | p | | | | | | | arameter. | | +-----------+-----------+---+-----------+-----------+-----------+ | mac-addrs | array(M | O | 1..N | The MAC | EnNB | | | acAddr48) | | | ad | | | | | | | dress(es) | | | | | | | of the | | | | | | | requested | | | | | | | UE(s). | | +-----------+-----------+---+-----------+-----------+-----------+ | NOTE: One | | | | | | | of the | | | | | | | \"gpsis\" | | | | | | | p | | | | | | | arameter, | | | | | | | the | | | | | | | \"i | | | | | | | p-addrs\" | | | | | | | parameter | | | | | | | or the | | | | | | | \"ma | | | | | | | c-addrs\" | | | | | | | parameter | | | | | | | may be | | | | | | | provided | | | | | | | in the | | | | | | | same | | | | | | | request. | | | | | | | If | | | | | | | multiple | | | | | | | elements | | | | | | | are | | | | | | | provided | | | | | | | in the | | | | | | | array | | | | | | | data | | | | | | | s | | | | | | | tructure, | | | | | | | then each | | | | | | | element | | | | | | | shall be | | | | | | | treated | | | | | | | as a | | | | | | | separate | | | | | | | query | | | | | | | p | | | | | | | arameter. | | | | | | +-----------+-----------+---+-----------+-----------+-----------+
This method shall support the request data structures specified in table
5.11.1.2.3.2-2 and the response data structures and response codes specified
in table 5.11.1.2.3.2-3.
Table 5.11.1.2.3.2-2: Data structures supported by the GET Request Body on
this resource
* * *
Data type P Cardinality Description N/A
* * *
Table 5.11.1.2.3.2-3: Data structures supported by the GET Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | a | M | 0..N | 200 OK | All the | | rray(ServiceP | | | | subscription | | arameterData) | | | | information | | | | | | for the AF in | | | | | | the request | | | | | | URI are | | | | | | returned. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 307 Temporary | Temporary | | | | | Redirect | redirection, | | | | | | during | | | | | | subscription | | | | | | retrieval. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 308 Permanent | Permanent | | | | | Redirect | redirection, | | | | | | during | | | | | | subscription | | | | | | retrieval. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the GET | | | | | | method listed | | | | | | in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.11.1.2.3.2-4: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
Table 5.11.1.2.3.2-5: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
###### 5.11.1.2.3.3 POST
The POST method creates a new resource to individual service parameter
subscription for a given AF. The AF shall initiate the HTTP POST request
message and the NEF shall respond to the message. The NEF shall construct the
URI of the created resource.
This method shall support the request data structures specified in table
5.11.1.2.3.3-1 and the response data structures and response codes specified
in table 5.11.1.2.3.3-2.
Table 5.11.1.2.3.3-1: Data structures supported by the POST Request Body on
this resource
* * *
Data type P Cardinality Description ServiceParameterData M 1 Parameters to
create a service parameter subscription resource.
* * *
Table 5.11.1.2.3.3-2: Data structures supported by the POST Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | Service | M | 1 | 201 Created | The | | ParameterData | | | | subscription | | | | | | resource was | | | | | | created | | | | | | successfully. | | | | | | | | | | | | The URI of | | | | | | the created | | | | | | resource | | | | | | shall be | | | | | | returned in | | | | | | the | | | | | | \"Location\" | | | | | | HTTP header. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the POST | | | | | | method listed | | | | | | in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.11.1.2.3.3-3: Headers supported by the 201 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 Contains the URI
of the newly created resource, according to the structure: {apiRoot}/3gpp-
service-parameter/v1/{afId}/subscriptions/{subscriptionId}
* * *
#### 5.11.1.3 Resource: Individual Service Parameter Subscription
##### 5.11.1.3.1 Introduction
This resource allows a AF to read, update or delete an existing service
parameter subscription.
##### 5.11.1.3.2 Resource Definition
Resource URI: **{apiRoot}/3gpp-service-
parameter/v1/{afId}/subscriptions/{subscriptionId}**
This resource shall support the resource URI variables defined in table
5.9.1.3.2-1.
Table 5.11.1.3.2-1: Resource URI variables for this resource
* * *
Name Data type Definition apiRoot string Clause 5.2.4 of 3GPP TS 29.122 [4].
afId string Identifier of the AF. subscriptionId string Identifier of the
subscription resource.
* * *
##### 5.11.1.3.3 Resource Methods
###### 5.11.1.3.3.1 General
The following clauses specify the resource methods supported by the resource
as described in clause 5.11.1.3.3.
###### 5.11.1.3.3.2 GET
The GET method allows to read the active subscription for a given AF and
subscription Id. The AF shall initiate the HTTP GET request message and theNEF
shall respond to the message.
This method shall support the URI query parameters specified in table
5.11.1.3.3.2-1.
Table 5.11.1.3.3.2-1: URI query parameters supported by the GET method on this
resource
* * *
Name Data type P Cardinality Description N/A
* * *
This method shall support the request data structures specified in table
5.11.1.3.3.2-2 and the response data structures and response codes specified
in table 5.11.1.3.3.2-3.
Table 5.11.1.3.3.2-2: Data structures supported by the GET Request Body on
this resource
* * *
Data type P Cardinality Description N/A
* * *
Table 5.11.1.3.3.2-3: Data structures supported by the GET Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | Service | M | 1 | 200 OK | The | | ParameterData | | | | information | | | | | | for the | | | | | | subscription | | | | | | in the | | | | | | request URI | | | | | | are returned. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 307 Temporary | Temporary | | | | | Redirect | redirection, | | | | | | during | | | | | | subscription | | | | | | retrieval. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 308 Permanent | Permanent | | | | | Redirect | redirection, | | | | | | during | | | | | | subscription | | | | | | retrieval. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the GET | | | | | | method listed | | | | | | in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.11.1.3.3.2-4: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
Table 5.11.1.3.3.2-5: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
###### 5.11.1.3.3.3 PUT
The PUT method modifies an existing resource to update a configuration. The AF
shall initiate the HTTP PUT request message and the NEF shall respond to the
message.
This method shall support the request data structures specified in table
5.9.1.3.3.3-1 and the response data structures and response codes specified in
table 5.9.1.3.3.3-2.
Table 5.11.1.3.3.3-1: Data structures supported by the PUT Request Body on
this resource
* * *
Data type P Cardinality Description ServiceParameterData M 1 Modify an
existing subscription.
* * *
Table 5.11.1.3.3.3-2: Data structures supported by the PUT Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | Service | M | 1 | 200 OK | The | | ParameterData | | | | subscription | | | | | | resource was | | | | | | updated | | | | | | successfully. | +---------------+---+-------------+---------------+---------------+ | n/a | | | 204 No | The | | | | | Content | subscription | | | | | | resource was | | | | | | updated | | | | | | successfully. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 307 Temporary | Temporary | | | | | Redirect | redirection, | | | | | | during | | | | | | subscription | | | | | | modification. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 308 Permanent | Permanent | | | | | Redirect | redirection, | | | | | | during | | | | | | subscription | | | | | | modification. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the PUT | | | | | | method listed | | | | | | in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.11.1.3.3.3-3: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
Table 5.11.1.3.3.3-4: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
###### 5.11.1.3.3.4 DELETE
The DELETE method deletes an existing individual subscription for a given AF.
The AF shall initiate the HTTP DELETE request message and the NEF shall
respond to the message.
This method shall support the URI query parameters specified in table
5.11.1.3.3.4-1.
Table 5.11.1.3.3.4-1: URI query parameters supported by the DELETE method on
this resource
* * *
Name Data type P Cardinality Description N/A
* * *
This method shall support the request data structures specified in table
5.11.1.3.3.4-2 and the response data structures and response codes specified
in table 5.11.1.3.3.4-3.
Table 5.11.1.3.3.4-2: Data structures supported by the DELETE Request Body on
this resource
* * *
Data type P Cardinality Description N/A
* * *
Table 5.11.1.3.3.4-3: Data structures supported by the DELETE Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | N/A | | | 204 No | The | | | | | Content | subscription | | | | | | resource was | | | | | | terminated | | | | | | successfully. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 307 Temporary | Temporary | | | | | Redirect | redirection, | | | | | | during | | | | | | subscription | | | | | | termination. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 308 Permanent | Permanent | | | | | Redirect | redirection, | | | | | | during | | | | | | subscription | | | | | | termination. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the | | | | | | DELETE method | | | | | | listed in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.11.1.3.3.4-4: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
Table 5.11.1.3.3.4-5: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
###### 5.11.1.3.3.5 PATCH
The PATCH method allows to change some properties of an existing resource to
update a subscription. The AF shall initiate the HTTP PATCH request message
and the NEF shall respond to the message.
This method shall support the request data structures specified in table
5.11.1.3.3.5-1 and the response data structures and response codes specified
in table 5.11.1.3.3.5-2.
Table 5.11.1.3.3.5-1: Data structures supported by the PATCH Request Body on
this resource
* * *
Data type P Cardinality Description ServiceParameterDataPatch M 1 Partial
update an existing subscription.
* * *
Table 5.11.1.3.3.5-2: Data structures supported by the PATCH Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | Service | M | 1 | 200 OK | The | | ParameterData | | | | subscription | | | | | | resource was | | | | | | updated | | | | | | successfully. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 204 No | The | | | | | Content | subscription | | | | | | resource was | | | | | | updated | | | | | | successfully. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 307 Temporary | Temporary | | | | | Redirect | redirection, | | | | | | during | | | | | | subscription | | | | | | modification. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 308 Permanent | Permanent | | | | | Redirect | redirection, | | | | | | during | | | | | | subscription | | | | | | modification. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the PATCH | | | | | | method listed | | | | | | in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.11.1.3.3.5-3: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
Table 5.11.1.3.3.5-4: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
### 5.11.1A Notifications
#### 5.11.1A.1 Introduction
Upon NEF notify a Service Parameter Authorization Update (e.g. to revoke an
authorization) to AF, or forward a notification event related to invocation of
service parameter provisioning, e.g. the notification of outcome of UE
Policies Delivery to AF, the NEF shall send an HTTP POST message including the
notified event to the AF. The NEF and the AF shall support the notification
mechanism as described in clause 5.2.5 of 3GPP TS 29.122 [4].
Table 5.11.1A.1-1: Notifications overview
+----------------+----------------+----------------+----------------+ | Notification | Callback URI | HTTP method or | Description | | | | custom | | | | | operation | (service | | | | | operation) | +----------------+----------------+----------------+----------------+ | AF | {notificati | POST | The | | Notifications | onDestination} | | notification | | | | | of service | | | | | parameter | | | | | authorization | | | | | updates and/or | | | | | notification | | | | | event related | | | | | to the result | | | | | of invocation | | | | | of service | | | | | parameter | | | | | provisioning. | +----------------+----------------+----------------+----------------+
#### 5.11.1A.2 AF Notifications
##### 5.11.1A.2.1 Description
The AF Notifications are used by the NEF to send the Service Parameter
Authorization Update (e.g. to revoke an authorization) to the AF, and/or to
send AF subscribed event notification of the outcome related to the invocation
of service parameter provisioning to the AF.
##### 5.11.1A.2.2 Target URI
The Callback URI **\"{notificationDestination}\"** shall be used with the
callback URI variables defined in table 5.11.1A.2.2-1.
Table 5.11.1A.2.2-1: Callback URI variables
* * *
Name Data type Definition notificationDestination Link Callback reference
provided by the AF during creation/modification of the subscription within the
ServiceParameterData data type as defined in Table 5.11.2.3.2-1 or the
ServiceParameterDataPatch data type as defined in Table 5.11.2.3.3-1.
* * *
#### 5.11.1A.3 Operation Definition
##### 5.11.1A.3.1 Notification via HTTP POST
This method shall support the request data structures specified in table
5.11.1A.3.1-1 and the response data structure with response codes specified in
table 5.11.1A.3.1-2.
Table 5.11.1A.3.1-1: Data structures supported by the POST Request Body on
this resource
* * *
Data type P Cardinality Description array(AfNotification) M 1..N Notifications
upon AF Service Parameter Authorization Update, and/or AF subscribed event
notification of the outcome related to the invocation of service parameter
provisioning.
* * *
Table 5.11.1A.3.1-2: Data structures supported by the POST Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | N/A | | | 204 No | The event | | | | | Content | notification | | | | | | is received | | | | | | successfully. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 307 Temporary | Temporary | | | | | Redirect | redirection, | | | | | | during event | | | | | | notification. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI | | | | | | representing | | | | | | the end point | | | | | | of an | | | | | | alternative | | | | | | AF where the | | | | | | notification | | | | | | should be | | | | | | sent. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 308 Permanent | Permanent | | | | | Redirect | redirection, | | | | | | during event | | | | | | notification. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI | | | | | | representing | | | | | | the end point | | | | | | of an | | | | | | alternative | | | | | | AF where the | | | | | | notification | | | | | | should be | | | | | | sent. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the POST | | | | | | method listed | | | | | | in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.11.1A.3.1-3: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI representing the end point of an alternative AF towards which the
notification should be redirected.
* * *
Table 5.11.1A.3.1-4: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI representing the end point of an alternative AF towards which the
notification should be redirected.
* * *
##### 5.11.1A.3.2 Notification via Websocket
If supported by both AF and NEF and successfully negotiated, the AF subscribed
outcome event notification related to the invocation of service parameter
provisioning may alternatively be delivered through the Websocket mechanism as
defined in clause 5.2.5.4 of 3GPP TS 29.122 [4].
### 5.11.1B Custom Operations without associated resources
There are no custom operations without associated resources defined for this
API in this release of the specification.
### 5.11.2 Data Model
#### 5.11.2.1 General
This clause specifies the application data model supported by the
ServiceParameter API.
Table 5.11.2.1-1 specifies the data types defined for the ServiceParameter
API.
Table 5.11.2.1-1: ServiceParameter API specific Data Types
* * *
Data type Clause defined Description Applicability A2xParamsPc5 5.11.2.4.2
Represents the service parameters for A2X communication over PC5. A2X
A2xParamsPc5Rm 5.11.2.4.2 This data type is defined in the same way as the
A2xParamsPc5 data type, but with the OpenAPI nullable property set to true.
A2X AfNotification 5.11.2.3.6 Contains the reported event notification or the
service parameters authorization update result. AfNotifications
AuthorizationResult 5.11.2.4.4 Represents the result of the service parameters
authorization. AfNotifications ConnectionCapabilities 5.11.2.4.6 UE
application requests a network connection with certain capabilities.
AfGuideURSP Event 5.11.2.4.3 Identifies the AF subscribed events.
AfNotifications EventInfo 5.11.2.3.7 Indicates the event information.
AfNotifications Failure 5.11.2.4.5 Represents the failure reason for the
unsuccessful result. AfNotifications GeographicalArea 5.17.3.3.4 Identifies
the geographical area information. AfGuideURSP NetworkDescription 5.11.2.3.9
Represents the description of a PLMN, by the definition of the PLMN ID, the
MCC (and optionally applicable MNC(s)) or the indication of any PLMN.
VPLMNSpecificURSP ParameterOverPc5 5.11.2.4.2 Represents configuration
parameters for V2X communications over PC5 reference point.  
ParameterOverPc5Rm 5.11.2.4.2 Represents the same as the ParameterOverPc5 data
type but with the \"nullable: true\" property.  
ParameterOverUu 5.11.2.4.2 Represents configuration parameters for V2X
communications over Uu reference point.  
ParameterOverUuRm 5.11.2.4.2 Represents the same as the ParameterOverUu data
type but with the \"nullable: true\" property.  
ParamForProSeDc 5.11.2.4.2 Represents the service parameters for 5G ProSe
direct communications. ProSe ParamForProSeDcRm 5.11.2.4.2 This data type is
defined in the same way as the ParamForProSeDc data type, but with the OpenAPI
nullable property set to true. ProSe ParamForProSeDd 5.11.2.4.2 Represents the
service parameters for 5G ProSe direct discovery. ProSe ParamForProSeDdRm
5.11.2.4.2 This data type is defined in the same way as the ParamForProSeDd
data type, but with the OpenAPI nullable property set to true. ProSe
ParamForProSeEndUe 5.11.2.4.2 Represents the service parameters for 5G ProSe
end UE. ProSe_Ph2 ParamForProSeEndUeRm 5.11.2.4.2 This data type is defined in
the same way as the ParamForProSeEndUe data type, but with the OpenAPI
nullable property set to true. ProSe_Ph2 ParamForProSeRemUe 5.11.2.4.2
Represents the service parameters for 5G ProSe remote UE. ProSe
ParamForProSeRemUeRm 5.11.2.4.2 This data type is defined in the same way as
the ParamForProSeRemUe data type, but with the OpenAPI nullable property set
to true. ProSe ParamForProSeU2NRelUe 5.11.2.4.2 Represents the service
parameters for 5G ProSe UE-to-network relay UE. ProSe ParamForProSeU2NRelUeRm
5.11.2.4.2 This data type is defined in the same way as the
ParamForProSeU2NRelUe data type, but with the OpenAPI nullable property set to
true. ProSe ParamForProSeU2URelUe 5.11.2.4.2 Represents the service parameters
for 5G ProSe UE-to-UE relay UE. ProSe_Ph2 ParamForProSeU2URelUeRm 5.11.2.4.2
This data type is defined in the same way as the ParamForProSeU2URelUe data
type, but with the OpenAPI nullable property set to true. ProSe_Ph2
ParamForRangingSlPos 5.11.2.4.2 Represents the service parameters for ranging
and sidelink positioning. Ranging_SL ParamForRangingSlPosRm 5.11.2.4.2 This
data type is defined in the same way as the ParamForRangingSlPos data type,
but with the OpenAPI nullable property set to true. Ranging_SL
RouteSelectionParameterSet 5.11.2.3.5 Contains parameters that can be used to
guide the Route Selection Descriptors of the URSP. AfGuideURSP
ServiceParameterData 5.11.2.3.2 Represents an individual Service Parameter
subscription resource.  
ServiceParameterDataPatch 5.11.2.3.3 Represents the parameters to request the
modification of a service parameter subscription resource.  
TrafficDescriptorComponents 5.11.2.3.8 Traffic descriptor components for the
requested URSP. AfGuideURSP UrspRuleRequest 5.11.2.3.4 Contains parameters
that can be used to guide the URSP. AfGuideURSP
* * *
#### 5.11.2.2 Reused data types
The data types reused by the ServiceParameter API from other specifications
are listed in table 5.9.2.2-1.
Table 5.11.2.2-1: Re-used Data Types
* * *
Data type Reference Comments AppDescriptor Clause 5.7.2.3.4 Application
descriptor describes the operation systems and the corresponding applications
for each operation systems. Dnn 3GPP TS 29.571 [8] Identifies a DNN.
EthFlowDescription 3GPP TS 29.514 [7] Defines a packet filter for an Ethernet
flow. ExternalGroupId 3GPP TS 29.122 [4] External Group Identifier for a user
group. Gpsi 3GPP TS 29.571 [8] Identifies a GPSI. IpAddr 3GPP TS 29.571 [8] UE
IP Address. IPv4Addr 3GPP TS 29.571 [8] Identifies an IPv4 address. IPv6Addr
3GPP TS 29.571 [8] Identifies an IPv6 address. Link 3GPP TS 29.122 [4]
Represents a referenced resource. MacAddr48 3GPP TS 29.571 [8] Identifies an
MAC address. Mcc 3GPP TS 29.571 [8] Mobile Country Code. Mnc 3GPP TS 29.571
[8] Mobile Network Code. PlmnId 3GPP TS 29.571 [8] Identifies a PLMN
Identifier. MtcProviderInformation 3GPP TS 29.571 [8] Indicates MTC provider
information. Snssai 3GPP TS 29.571 [8] Identifies the S-NSSAI.
SupportedFeatures 3GPP TS 29.571 [8] Used to negotiate the applicability of
the optional features defined in table 5.11.3-1. Tai 3GPP TS 29.571 [8]
Tracking Area Identity information. TnapId 3GPP TS 29.571 [8] Trusted Network
Access Point identifier. Uinteger 3GPP TS 29.571 [8] Unsigned integer.
* * *
#### 5.11.2.3 Structured data types
##### 5.11.2.3.1 Introduction
This clause defines the structured data types to be used in resource
representations.
##### 5.11.2.3.2 Type: ServiceParameterData
Table 5.11.2.3.2-1: Definition of type ServiceParameterData
+-----------+-----------+---+-----------+-----------+-----------+ | Attribute | Data type | P | Ca | De | Appl | | name | | | rdinality | scription | icability | +-----------+-----------+---+-----------+-----------+-----------+ | self | Link | C | 0..1 | I | | | | | | | dentifies | | | | | | | the | | | | | | | i | | | | | | | ndividual | | | | | | | service | | | | | | | parameter | | | | | | | sub | | | | | | | scription | | | | | | | resource | | | | | | | URI. | | | | | | | | | | | | | | Shall be | | | | | | | present | | | | | | | by the | | | | | | | NEF in | | | | | | | HTTP | | | | | | | responses | | | | | | | that | | | | | | | include | | | | | | | an object | | | | | | | of | | | | | | | Se | | | | | | | rvicePara | | | | | | | meterData | | | | | | | type. | | +-----------+-----------+---+-----------+-----------+-----------+ | dnn | Dnn | O | 0..1 | I | | | | | | | dentifies | | | | | | | a DNN. | | | | | | | (NOTE 2) | | | | | | | (NOTE 3) | | +-----------+-----------+---+-----------+-----------+-----------+ | snssai | Snssai | O | 0..1 | I | | | | | | | dentifies | | | | | | | an | | | | | | | S-NSSAI. | | | | | | | (NOTE 2) | | | | | | | (NOTE 3) | | +-----------+-----------+---+-----------+-----------+-----------+ | af | string | O | 0..1 | I | | | ServiceId | | | | dentifies | | | | | | | a service | | | | | | | on behalf | | | | | | | of which | | | | | | | the AF is | | | | | | | issuing | | | | | | | the | | | | | | | request. | | | | | | | (NOTE 2) | | | | | | | (NOTE 3) | | +-----------+-----------+---+-----------+-----------+-----------+ | appId | string | O | 0..1 | I | | | | | | | dentifies | | | | | | | an | | | | | | | ap | | | | | | | plication | | | | | | | id | | | | | | | entifier. | | | | | | | (NOTE 2) | | +-----------+-----------+---+-----------+-----------+-----------+ | gpsi | Gpsi | O | 0..1 | I | | | | | | | dentifies | | | | | | | GPSI. | | | | | | | (NOTE 1) | | +-----------+-----------+---+-----------+-----------+-----------+ | ueIpv4 | Ipv4Addr | O | 0..1 | The IPv4 | | | | | | | address | | | | | | | of the | | | | | | | served | | | | | | | UE. | | | | | | | (NOTE 1) | | +-----------+-----------+---+-----------+-----------+-----------+ | ueIpv6 | Ipv6Addr | O | 0..1 | The IPv6 | | | | | | | address | | | | | | | of the | | | | | | | served | | | | | | | UE. | | | | | | | (NOTE 1) | | +-----------+-----------+---+-----------+-----------+-----------+ | ueMac | MacAddr48 | O | 0..1 | The MAC | | | | | | | address | | | | | | | of the | | | | | | | served | | | | | | | UE. | | | | | | | (NOTE 1) | | +-----------+-----------+---+-----------+-----------+-----------+ | extern | Extern | O | 0..1 | R | | | alGroupId | alGroupId | | | epresents | | | | | | | a group | | | | | | | of users. | | | | | | | (NOTE 1) | | +-----------+-----------+---+-----------+-----------+-----------+ | anyUeInd | boolean | O | 0..1 | I | | | | | | | dentifies | | | | | | | whether | | | | | | | the | | | | | | | service | | | | | | | p | | | | | | | arameters | | | | | | | apply to | | | | | | | any | | | | | | | no | | | | | | | n-roaming | | | | | | | UE. This | | | | | | | attribute | | | | | | | shall set | | | | | | | to | | | | | | | \"true\" | | | | | | | if | | | | | | | a | | | | | | | pplicable | | | | | | | for any | | | | | | | UE, | | | | | | | o | | | | | | | therwise, | | | | | | | set to | | | | | | | \ | | | | | | | "false\". | | | | | | | (NOTE 1) | | | | | | | (NOTE 3) | | +-----------+-----------+---+-----------+-----------+-----------+ | roamU | array(N | O | 1..N | Each | VPLMNSpe | | eNetDescs | etworkDes | | | element | cificURSP | | | cription) | | | i | | | | | | | dentifies | | | | | | | one | | | | | | | (e.g., | | | | | | | co | | | | | | | mbination | | | | | | | of MCC | | | | | | | and MNC) | | | | | | | or more | | | | | | | (e.g. a | | | | | | | MCC only) | | | | | | | PLMN | | | | | | | ID(s). It | | | | | | | indicates | | | | | | | the | | | | | | | PLMN(s) | | | | | | | of | | | | | | | inbound | | | | | | | roamers | | | | | | | to which | | | | | | | the | | | | | | | provided | | | | | | | AF | | | | | | | guidance | | | | | | | on | | | | | | | VPLMN | | | | | | | -specific | | | | | | | URSP | | | | | | | rules | | | | | | | apply. | | | | | | | (NOTE 1) | | +-----------+-----------+---+-----------+-----------+-----------+ | subNo | arr | C | 1..N | I | AfNoti | | tifEvents | ay(Event) | | | dentifies | fications | | | | | | the AF | | | | | | | s | | | | | | | ubscribed | | | | | | | event(s) | | | | | | | noti | | | | | | | fications | | | | | | | related | | | | | | | to AF | | | | | | | pr | | | | | | | ovisioned | | | | | | | service | | | | | | | pa | | | | | | | rameters. | | | | | | | (NOTE 4) | | +-----------+-----------+---+-----------+-----------+-----------+ | notif | Uri | C | 0..1 | Contains | AfNoti | | icationDe | | | | the | fications | | stination | | | | callback | | | | | | | URI to | | | | | | | receive | | | | | | | the | | | | | | | noti | | | | | | | fications | | | | | | | from the | | | | | | | NEF. | | | | | | | Shall be | | | | | | | present | | | | | | | If | | | | | | | \"subNoti | | | | | | | fEvents\" | | | | | | | attribute | | | | | | | is | | | | | | | included. | | +-----------+-----------+---+-----------+-----------+-----------+ | reque | boolean | O | 0..1 | Set to | Notific | | stTestNot | | | | true by | ation_te | | ification | | | | the AF to | st_event | | | | | | request | | | | | | | the NEF | | | | | | | to send a | | | | | | | test | | | | | | | not | | | | | | | ification | | | | | | | as | | | | | | | defined | | | | | | | in | | | | | | | claus | | | | | | | e 5.2.5.3 | | | | | | | of | | | | | | | 3GP | | | | | | | P TS 29.1 | | | | | | | 22 [4]. | | | | | | | Set to | | | | | | | false or | | | | | | | omitted | | | | | | | o | | | | | | | therwise. | | +-----------+-----------+---+-----------+-----------+-----------+ | websockNo | WebsockNo | O | 0..1 | Conf | Notif | | tifConfig | tifConfig | | | iguration | ication_ | | | | | | p | websocket | | | | | | arameters | | | | | | | to set up | | | | | | | not | | | | | | | ification | | | | | | | delivery | | | | | | | over | | | | | | | Websocket | | | | | | | protocol. | | +-----------+-----------+---+-----------+-----------+-----------+ | par | Paramet | O | 0..1 | Contains | | | amOverPc5 | erOverPc5 | | | the V2X | | | | | | | service | | | | | | | p | | | | | | | arameters | | | | | | | used over | | | | | | | PC5 | | +-----------+-----------+---+-----------+-----------+-----------+ | pa | Parame | O | 0..1 | Contains | | | ramOverUu | terOverUu | | | the V2X | | | | | | | service | | | | | | | p | | | | | | | arameters | | | | | | | used over | | | | | | | Uu | | +-----------+-----------+---+-----------+-----------+-----------+ | paramF | ParamF | O | 0..1 | Contains | ProSe | | orProSeDd | orProSeDd | | | the | | | | | | | service | | | | | | | p | | | | | | | arameters | | | | | | | for 5G | | | | | | | ProSe | | | | | | | direct | | | | | | | d | | | | | | | iscovery. | | +-----------+-----------+---+-----------+-----------+-----------+ | paramF | ParamF | O | 0..1 | Contains | ProSe | | orProSeDc | orProSeDc | | | the | | | | | | | service | | | | | | | p | | | | | | | arameters | | | | | | | for 5G | | | | | | | ProSe | | | | | | | direct | | | | | | | commun | | | | | | | ications. | | +-----------+-----------+---+-----------+-----------+-----------+ | par | Par | O | 0..1 | Contains | ProSe | | amForProS | amForProS | | | the | | | eU2NRelUe | eU2NRelUe | | | service | | | | | | | p | | | | | | | arameters | | | | | | | for 5G | | | | | | | ProSe | | | | | | | UE-t | | | | | | | o-network | | | | | | | relay UE. | | +-----------+-----------+---+-----------+-----------+-----------+ | paramForP | ParamForP | O | 0..1 | Contains | ProSe | | roSeRemUe | roSeRemUe | | | the | | | | | | | service | | | | | | | p | | | | | | | arameters | | | | | | | for 5G | | | | | | | ProSe | | | | | | | remote | | | | | | | UE. | | +-----------+-----------+---+-----------+-----------+-----------+ | par | Par | O | 0..1 | Contains | P | | amForProS | amForProS | | | the | roSe_Ph2 | | eU2URelUe | eU2URelUe | | | service | | | | | | | p | | | | | | | arameters | | | | | | | for 5G | | | | | | | ProSe | | | | | | | UE-to-UE | | | | | | | relay UE. | | +-----------+-----------+---+-----------+-----------+-----------+ | paramForP | ParamForP | O | 0..1 | Contains | P | | roSeEndUe | roSeEndUe | | | the | roSe_Ph2 | | | | | | service | | | | | | | p | | | | | | | arameters | | | | | | | for 5G | | | | | | | ProSe end | | | | | | | UE. | | +-----------+-----------+---+-----------+-----------+-----------+ | pa | Pa | O | 0..1 | Contains | Ra | | ramForRan | ramForRan | | | the | nging_SL | | gingSlPos | gingSlPos | | | service | | | | | | | p | | | | | | | arameters | | | | | | | for | | | | | | | ranging | | | | | | | and | | | | | | | sidelink | | | | | | | pos | | | | | | | itioning. | | +-----------+-----------+---+-----------+-----------+-----------+ | urs | arra | O | 1..N | Contains | Af | | pGuidance | y(UrspRul | | | the | GuideURSP | | | eRequest) | | | service | | | | | | | parameter | | | | | | | used to | | | | | | | guide the | | | | | | | URSP | | | | | | | and/or, | | | | | | | when the | | | | | | | VPLMNSpe | | | | | | | cificURSP | | | | | | | feature | | | | | | | is | | | | | | | s | | | | | | | upported, | | | | | | | to guide | | | | | | | the | | | | | | | VPLMN | | | | | | | -specific | | | | | | | URSP. | | +-----------+-----------+---+-----------+-----------+-----------+ | a2x | A2x | O | 0..1 | Contains | A2X | | ParamsPc5 | ParamsPc5 | | | the A2X | | | | | | | service | | | | | | | p | | | | | | | arameters | | | | | | | used over | | | | | | | PC5. | | +-----------+-----------+---+-----------+-----------+-----------+ | tnaps | arra | O | 1..N | Contains | AfG | | | y(TnapId) | | | the TNAP | uideTNAPs | | | | | | ID(s) | | | | | | | c | | | | | | | ollocated | | | | | | | with the | | | | | | | 5G-RG(s) | | | | | | | of a | | | | | | | specific | | | | | | | user. | | +-----------+-----------+---+-----------+-----------+-----------+ | mtcP | MtcP | O | 0..1 | Indicates | | | roviderId | roviderIn | | | MTC | | | | formation | | | provider | | | | | | | inf | | | | | | | ormation. | | +-----------+-----------+---+-----------+-----------+-----------+ | suppFeat | Supporte | C | 0..1 | Indicates | | | | dFeatures | | | the list | | | | | | | of | | | | | | | Supported | | | | | | | features | | | | | | | used as | | | | | | | described | | | | | | | in | | | | | | | claus | | | | | | | e 5.11.3. | | | | | | | | | | | | | | This | | | | | | | attribute | | | | | | | shall be | | | | | | | provided | | | | | | | in the | | | | | | | POST | | | | | | | request | | | | | | | and in | | | | | | | the | | | | | | | response | | | | | | | of | | | | | | | s | | | | | | | uccessful | | | | | | | resource | | | | | | | creation. | | +-----------+-----------+---+-----------+-----------+-----------+ | NOTE 1: | | | | | | | One of | | | | | | | i | | | | | | | ndividual | | | | | | | UE | | | | | | | i | | | | | | | dentifier | | | | | | | (i.e. | | | | | | | \"gpsi\", | | | | | | | \" | | | | | | | ueIpv4\", | | | | | | | \ | | | | | | | "ueIpv6\" | | | | | | | or | | | | | | | \"ueMac\" | | | | | | | at | | | | | | | tribute), | | | | | | | External | | | | | | | Group | | | | | | | I | | | | | | | dentifier | | | | | | | (i.e. | | | | | | | \ | | | | | | | "external | | | | | | | GroupId\" | | | | | | | a | | | | | | | ttribute) | | | | | | | or any UE | | | | | | | i | | | | | | | ndication | | | | | | | (i.e. | | | | | | | \"a | | | | | | | nyUeInd\" | | | | | | | a | | | | | | | ttribute) | | | | | | | , and | | | | | | | when the | | | | | | | feature | | | | | | | \"V | | | | | | | PLMNSpeci | | | | | | | ficURSP\" | | | | | | | is | | | | | | | s | | | | | | | upported, | | | | | | | or any | | | | | | | inbound | | | | | | | roaming | | | | | | | UE from | | | | | | | the | | | | | | | indicated | | | | | | | PLMN(s) | | | | | | | (i.e., | | | | | | | \"roamUeN | | | | | | | etDescs\" | | | | | | | a | | | | | | | ttribute) | | | | | | | shall be | | | | | | | included. | | | | | | | For V2X, | | | | | | | Prose | | | | | | | (when the | | | | | | | \"ProSe\" | | | | | | | and/or | | | | | | | \"Pro | | | | | | | Se_Ph2\" | | | | | | | feature | | | | | | | is | | | | | | | su | | | | | | | pported), | | | | | | | A2X (when | | | | | | | the | | | | | | | \"A2X\" | | | | | | | feature | | | | | | | is | | | | | | | s | | | | | | | upported) | | | | | | | and URSP | | | | | | | service | | | | | | | parameter | | | | | | | pro | | | | | | | visioning | | | | | | | (s | | | | | | | ee clause | | | | | | | 4.4.20), | | | | | | | only | | | | | | | \"an | | | | | | | yUeInd\", | | | | | | | \"gpsi\" | | | | | | | and | | | | | | | \ | | | | | | | "external | | | | | | | GroupId\" | | | | | | | a | | | | | | | ttributes | | | | | | | are | | | | | | | ap | | | | | | | plicable. | | | | | | | When the | | | | | | | \"V | | | | | | | PLMNSpeci | | | | | | | ficURSP\" | | | | | | | feature | | | | | | | is | | | | | | | s | | | | | | | upported, | | | | | | | the | | | | | | | \"roamUeN | | | | | | | etDescs\" | | | | | | | attribute | | | | | | | only | | | | | | | applies | | | | | | | to URSP | | | | | | | service | | | | | | | parameter | | | | | | | pro | | | | | | | visioning | | | | | | | and shall | | | | | | | be | | | | | | | included | | | | | | | when the | | | | | | | \"urspG | | | | | | | uidance\" | | | | | | | attribute | | | | | | | contains | | | | | | | VPLMN(s) | | | | | | | des | | | | | | | cription. | | | | | | | When the | | | | | | | \"AfGui | | | | | | | deTNAPs\" | | | | | | | feature | | | | | | | is | | | | | | | s | | | | | | | upported, | | | | | | | when TNAP | | | | | | | ID(s) is | | | | | | | pr | | | | | | | ovisioned | | | | | | | within | | | | | | | the | | | | | | | \"tnaps\" | | | | | | | a | | | | | | | ttribute, | | | | | | | only | | | | | | | \"gpsi\" | | | | | | | shall be | | | | | | | provided. | | | | | | | | | | | | | | NOTE 2: | | | | | | | Either | | | | | | | the | | | | | | | \"afSe | | | | | | | rviceId\" | | | | | | | a | | | | | | | ttribute, | | | | | | | \"appId\" | | | | | | | attribute | | | | | | | or the | | | | | | | co | | | | | | | mbination | | | | | | | of | | | | | | | \ | | | | | | | "snssai\" | | | | | | | and | | | | | | | \"dnn\" | | | | | | | a | | | | | | | ttributes | | | | | | | shall be | | | | | | | provided. | | | | | | | When the | | | | | | | feature | | | | | | | \"AfGu | | | | | | | ideURSP\" | | | | | | | is | | | | | | | s | | | | | | | upported, | | | | | | | only the | | | | | | | \"afSe | | | | | | | rviceId\" | | | | | | | attribute | | | | | | | shall be | | | | | | | provided | | | | | | | for | | | | | | | providing | | | | | | | guidance | | | | | | | for URSP | | | | | | | deter | | | | | | | mination. | | | | | | | When the | | | | | | | feature | | | | | | | \"AfGui | | | | | | | deTNAPs\" | | | | | | | is | | | | | | | s | | | | | | | upported, | | | | | | | when TNAP | | | | | | | ID(s) is | | | | | | | pr | | | | | | | ovisioned | | | | | | | within | | | | | | | the | | | | | | | \"tnaps\" | | | | | | | a | | | | | | | ttribute, | | | | | | | only the | | | | | | | \"afSe | | | | | | | rviceId\" | | | | | | | attribute | | | | | | | shall be | | | | | | | provided. | | | | | | | | | | | | | | NOTE 3: | | | | | | | When | | | | | | | \"a | | | | | | | nyUeInd\" | | | | | | | attribute | | | | | | | is | | | | | | | present, | | | | | | | \"appId\" | | | | | | | a | | | | | | | ttribute, | | | | | | | \"afSe | | | | | | | rviceId\" | | | | | | | attribute | | | | | | | or the | | | | | | | co | | | | | | | mbination | | | | | | | of | | | | | | | \ | | | | | | | "snssai\" | | | | | | | attribute | | | | | | | and | | | | | | | \"dnn\" | | | | | | | attribute | | | | | | | shall be | | | | | | | provided. | | | | | | | When the | | | | | | | feature | | | | | | | \"AfGu | | | | | | | ideURSP\" | | | | | | | is | | | | | | | s | | | | | | | upported, | | | | | | | only the | | | | | | | \"afSe | | | | | | | rviceId\" | | | | | | | attribute | | | | | | | shall be | | | | | | | provided | | | | | | | for | | | | | | | providing | | | | | | | guidance | | | | | | | for URSP | | | | | | | deter | | | | | | | mination. | | | | | | | | | | | | | | NOTE 4: | | | | | | | The | | | | | | | attribute | | | | | | | may be | | | | | | | present | | | | | | | when the | | | | | | | i | | | | | | | ndividual | | | | | | | UE | | | | | | | i | | | | | | | dentifier | | | | | | | (i.e. | | | | | | | \"gpsi\", | | | | | | | \" | | | | | | | ueIpv4\", | | | | | | | \ | | | | | | | "ueIpv6\" | | | | | | | or | | | | | | | \"ueMac\" | | | | | | | a | | | | | | | ttribute) | | | | | | | is | | | | | | | present. | | | | | | +-----------+-----------+---+-----------+-----------+-----------+
##### 5.11.2.3.3 Type: ServiceParameterDataPatch
Table 5.11.2.3.3-1: Definition of type ServiceParameterDataPatch
* * *
Attribute name Data type P Cardinality Description Applicability paramOverPc5
ParameterOverPc5Rm O 0..1 Contains the V2X service parameters used over PC5  
paramOverUu ParameterOverUuRm O 0..1 Contains the V2X service parameters used
over Uu  
paramForProSeDd ParamForProSeDdRm O 0..1 Contains the service parameters for
5G ProSe direct discovery. ProSe paramForProSeDc ParamForProSeDcRm O 0..1
Contains the service parameters for 5G ProSe direct communications. ProSe
paramForProSeU2NRelUE ParamForProSeU2NRelUeRm O 0..1 Contains the service
parameters for 5G ProSe UE-to-network relay UE. ProSe paramForProSeRemUe
ParamForProSeRemUeRm O 0..1 Contains the service parameters for 5G ProSe
remote UE. ProSe paramForProSeU2URelUE ParamForProSeU2URelUeRm O 0..1 Contains
the service parameters for 5G ProSe UE-to-UE relay UE. ProSe_Ph2
paramForProSeEndUe ParamForProSeEndUeRm O 0..1 Contains the service parameters
for 5G ProSe end UE. ProSe_Ph2 paramForRangingSlPos ParamForRangingSlPosRm O
0..1 Contains the service parameters for ranging and sidelink positioning.
Ranging_SL urspGuidance array(UrspRuleRequest) O 1..N Contains the service
parameter used to guide the URSP and/or, when the VPLMNSpecificURSP feature is
supported, to guide the VPLMN-specific URSP. AfGuideURSP a2xParamsPc5
A2xParamsPc5Rm O 0..1 Contains the A2X service parameters used over PC5. A2X
tnaps array(TnapId) O 1..N Contains the TNAP ID(s) collocated with the
5G-RG(s) of a specific user. AfGuideTNAPs subNotifEvents array(Event) O 1..N
Identifies the AF subscribed event(s) notifications related to AF provisioned
service parameters. AfNotifications notificationDestination Uri O 0..1
Contains the callback URI to receive the notifications from the NEF. May be
present If \"subNotifEvents\" attribute is included. AfNotifications
* * *
##### 5.11.2.3.4 Type: UrspRuleRequest
Table 5.11.2.3.4-1: Definition of type UrspRuleRequest
+-----------+-----------+---+-----------+-----------+-----------+ | Attribute | Data type | P | Ca | De | Appl | | name | | | rdinality | scription | icability | +-----------+-----------+---+-----------+-----------+-----------+ | tr | TrafficDe | O | 0..1 | Traffic | | | afficDesc | scriptorC | | | d | | | | omponents | | | escriptor | | | | | | | c | | | | | | | omponents | | | | | | | for the | | | | | | | requested | | | | | | | URSP. | | | | | | | (NOTE 1) | | +-----------+-----------+---+-----------+-----------+-----------+ | relatP | Uinteger | O | 0..1 | R | | | recedence | | | | epresents | | | | | | | the | | | | | | | relative | | | | | | | p | | | | | | | recedence | | | | | | | of the | | | | | | | URSP rule | | | | | | | within | | | | | | | the same | | | | | | | AF | | | | | | | request, | | | | | | | Lower | | | | | | | values | | | | | | | take | | | | | | | p | | | | | | | recedence | | | | | | | over | | | | | | | higher | | | | | | | values. | | | | | | | Its | | | | | | | absence | | | | | | | means | | | | | | | that the | | | | | | | AF has no | | | | | | | relative | | | | | | | p | | | | | | | recedence | | | | | | | re | | | | | | | quirement | | | | | | | for the | | | | | | | provided | | | | | | | URSP | | | | | | | rules. | | +-----------+-----------+---+-----------+-----------+-----------+ | visite | array(N | O | 1..N | It | VPLMNSpe | | dNetDescs | etworkDes | | | indicates | cificURSP | | | cription) | | | the | | | | | | | VPLMN(s) | | | | | | | to which | | | | | | | the | | | | | | | provided | | | | | | | AF | | | | | | | guidance | | | | | | | on | | | | | | | VPLMN | | | | | | | -specific | | | | | | | URSP | | | | | | | rules | | | | | | | apply. | | | | | | | | | | | | | | (NOTE 3) | | +-----------+-----------+---+-----------+-----------+-----------+ | routeSel | array( | O | 1..N | Route | | | ParamSets | RouteSele | | | Selection | | | | ctionPara | | | Parameter | | | | meterSet) | | | Sets, | | | | | | | i.e. sets | | | | | | | of | | | | | | | p | | | | | | | arameters | | | | | | | that may | | | | | | | be used | | | | | | | to guide | | | | | | | the Route | | | | | | | Selection | | | | | | | De | | | | | | | scriptors | | | | | | | of the | | | | | | | URSP. | | | | | | | (NOTE 2) | | +-----------+-----------+---+-----------+-----------+-----------+ | NOTE 1: | | | | | | | If the | | | | | | | \"traf | | | | | | | ficDesc\" | | | | | | | attribute | | | | | | | is not | | | | | | | present, | | | | | | | the NEF | | | | | | | may | | | | | | | derive | | | | | | | the | | | | | | | traffic | | | | | | | d | | | | | | | escriptor | | | | | | | c | | | | | | | omponents | | | | | | | from the | | | | | | | AF | | | | | | | Service | | | | | | | Id | | | | | | | entifier. | | | | | | | | | | | | | | NOTE 2: | | | | | | | If the | | | | | | | \"r | | | | | | | outeSelPa | | | | | | | ramSets\" | | | | | | | attribute | | | | | | | is not | | | | | | | present, | | | | | | | the NEF | | | | | | | may | | | | | | | derive | | | | | | | S- | | | | | | | NSSAI/DNN | | | | | | | and/or | | | | | | | other | | | | | | | related | | | | | | | p | | | | | | | arameters | | | | | | | from the | | | | | | | AF | | | | | | | Service | | | | | | | Identifer | | | | | | | according | | | | | | | to SLA. | | | | | | | | | | | | | | NOTE 3: | | | | | | | Each | | | | | | | element | | | | | | | of the | | | | | | | \ | | | | | | | "visitedN | | | | | | | etDescs\" | | | | | | | attribute | | | | | | | may | | | | | | | describe | | | | | | | one PLMN | | | | | | | (the | | | | | | | \ | | | | | | | "plmnId\" | | | | | | | attribute | | | | | | | is | | | | | | | included) | | | | | | | or more | | | | | | | than one | | | | | | | PLMNs | | | | | | | (the | | | | | | | \"mcc\" | | | | | | | attribute | | | | | | | and, | | | | | | | op | | | | | | | tionally, | | | | | | | the | | | | | | | \"mncs\" | | | | | | | attribute | | | | | | | are | | | | | | | i | | | | | | | ncluded). | | | | | | | To | | | | | | | indicate | | | | | | | any | | | | | | | VPLMN, | | | | | | | the | | | | | | | \ | | | | | | | "visitedN | | | | | | | etDescs\" | | | | | | | attribute | | | | | | | shall | | | | | | | contain | | | | | | | only one | | | | | | | entry | | | | | | | with the | | | | | | | \"any | | | | | | | PlmnInd\" | | | | | | | attribute | | | | | | | set to | | | | | | | true. | | | | | | +-----------+-----------+---+-----------+-----------+-----------+
##### 5.11.2.3.5 Type: RouteSelectionParameterSet
Table 5.11.2.3.5-1: Definition of type RouteSelectionParameterSet
* * *
Attribute name Data type P Cardinality Description Applicability dnn Dnn O
0..1 DNN to be matched with the DNN of the PDU Session.  
snssai Snssai O 0..1 S-NSSAI to be matched with the S-NSSAI of the PDU
Session.  
precedence Uinteger O 0..1 Determines the order in which the Route Selection
Descriptors are to be applied.  
spatialValidityAreas array(GeographicalArea) O 1..N Indicates where the route
selection parameters apply. It may correspond to a geographical area (e.g. a
geographic shape that is known to the AF and is configured by the operator to
correspond to a list of TAIs).  
spatialValidityTais array(Tai) O 1..N Indicates the TAIs in which the route
selection parameters apply. This attribute is applicable only within the 5GC
and it shall not be included in the request messages of untrusted AFs for URSP
guidance.
* * *
##### 5.11.2.3.6 Type: AfNotification
Table 5.11.2.3.6-1: Definition of type AfNotification
* * *
Attribute name Data type P Cardinality Description Applicability subscription
Link M 1 Link to the subscription resource to which this notification is
related.  
reportEvent Event C 0..1 Identifies the reported event notification. May be
present if the \"subNotifEvents\" attribute is included in the AF subscription
transaction. (NOTE)  
authResult AuthorizationResult C 0..1 Indicates the service parameters
authorization update result. (e.g. to revoke an authorization). (NOTE)  
gpsis array(Gpsi) C 1..N Identifies the list of GPSI(s) of the reported UE(s).
May be present if the \"exterGroupId\" attribute or \"anyUeInd\" attribute is
included in the AF subscription transaction and only if the \"authResult\"
attribute is provided.  
dnn Dnn O 0..1 Identifies a DNN.  
snssai Snssai O 0..1 Identifies an S-NSSAI.  
eventInfo EventInfo O 0..1 Indicates the event information.  
NOTE: At least one of \"reportEvent\" attribute and \"authResult\" attribute
shall be included.
* * *
##### 5.11.2.3.7 Type: EventInfo
Table 5.11.2.3.7-1: Definition of type EventInfo
* * *
Attribute name Data type P Cardinality Description Applicability failureCause
Failure O 0..1 Identify the failure reason for an unsuccessful result. May
present if the reportEvent attribute value is \"UNSUCCESS_UE_POL_DEL_SP\".
* * *
##### 5.11.2.3.8 Type: TrafficDescriptorComponents
Table 5.11.2.3.8-1: Definition of type TrafficDescriptorComponents
+-----------+-----------+---+-----------+-----------+-----------+ | Attribute | Data type | P | Ca | De | Appl | | name | | | rdinality | scription | icability | +-----------+-----------+---+-----------+-----------+-----------+ | appDescs | map(AppDe | C | 1..N | Describes | | | | scriptor) | | | the | | | | | | | operation | | | | | | | systems | | | | | | | and the | | | | | | | corr | | | | | | | esponding | | | | | | | app | | | | | | | lications | | | | | | | for each | | | | | | | operation | | | | | | | systems. | | | | | | | The key | | | | | | | of map is | | | | | | | osId. | | | | | | | (NOTE 2) | | +-----------+-----------+---+-----------+-----------+-----------+ | flowDescs | arra | C | 1..N | De | | | | y(string) | | | stination | | | | | | | IP 3 | | | | | | | tuple(s) | | | | | | | (IP | | | | | | | address | | | | | | | or IPv6 | | | | | | | network | | | | | | | prefix, | | | | | | | port | | | | | | | number, | | | | | | | protocol | | | | | | | ID of the | | | | | | | protocol | | | | | | | above | | | | | | | IP). The | | | | | | | content | | | | | | | of the | | | | | | | string | | | | | | | has the | | | | | | | same | | | | | | | encoding | | | | | | | as the | | | | | | | IPF | | | | | | | ilterRule | | | | | | | AVP value | | | | | | | as | | | | | | | defined | | | | | | | in | | | | | | | IET | | | | | | | F RFC 673 | | | | | | | 3 [54], | | | | | | | a | | | | | | | pplicable | | | | | | | only to | | | | | | | the | | | | | | | de | | | | | | | stination | | | | | | | IP 3 | | | | | | | tuple(s). | | | | | | | (NOTE 3) | | +-----------+-----------+---+-----------+-----------+-----------+ | do | arra | C | 1..N | FQDN(s) | | | mainDescs | y(string) | | | or a | | | | | | | regular | | | | | | | e | | | | | | | xpression | | | | | | | which are | | | | | | | used as a | | | | | | | domain | | | | | | | name | | | | | | | matching | | | | | | | criteria. | | | | | | | (NOTE 4) | | +-----------+-----------+---+-----------+-----------+-----------+ | eth | array(E | C | 1..N | Desc | | | FlowDescs | thFlowDes | | | riptor(s) | | | | cription) | | | for | | | | | | | de | | | | | | | stination | | | | | | | in | | | | | | | formation | | | | | | | of non-IP | | | | | | | traffic | | | | | | | in which | | | | | | | only | | | | | | | ethernet | | | | | | | flow | | | | | | | de | | | | | | | scription | | | | | | | is | | | | | | | defined. | | | | | | | (NOTE 3) | | +-----------+-----------+---+-----------+-----------+-----------+ | dnns | a | C | 1..N | This is | | | | rray(Dnn) | | | matched | | | | | | | against | | | | | | | the DNN | | | | | | | in | | | | | | | formation | | | | | | | provided | | | | | | | by the | | | | | | | app | | | | | | | lication. | | +-----------+-----------+---+-----------+-----------+-----------+ | connCaps | ar | C | 1..N | This is | | | | ray(Conne | | | matched | | | | ctionCapa | | | against | | | | bilities) | | | the | | | | | | | in | | | | | | | formation | | | | | | | provided | | | | | | | by a UE | | | | | | | ap | | | | | | | plication | | | | | | | when it | | | | | | | requests | | | | | | | a network | | | | | | | c | | | | | | | onnection | | | | | | | with | | | | | | | certain | | | | | | | capa | | | | | | | bilities. | | +-----------+-----------+---+-----------+-----------+-----------+ | pinId | FFS | C | 0..1 | This is | PIN | | | | | | matched | | | | | | | against a | | | | | | | PIN ID | | | | | | | for a | | | | | | | specific | | | | | | | PIN | | | | | | | c | | | | | | | onfigured | | | | | | | in the | | | | | | | PEGC. | | | | | | | (NOTE 5) | | +-----------+-----------+---+-----------+-----------+-----------+ | NOTE 1: | | | | | | | At least | | | | | | | one | | | | | | | attribute | | | | | | | of the | | | | | | | above | | | | | | | Traffic | | | | | | | d | | | | | | | escriptor | | | | | | | c | | | | | | | omponents | | | | | | | shall be | | | | | | | present. | | | | | | | | | | | | | | NOTE 2: | | | | | | | The | | | | | | | in | | | | | | | formation | | | | | | | is used | | | | | | | to | | | | | | | identify | | | | | | | the | | | | | | | Appli | | | | | | | cation(s) | | | | | | | that | | | | | | | is(are) | | | | | | | running | | | | | | | on the | | | | | | | UE\'s OS. | | | | | | | The OSId | | | | | | | does not | | | | | | | include | | | | | | | an OS | | | | | | | version | | | | | | | number. | | | | | | | The | | | | | | | OSAppId | | | | | | | does not | | | | | | | include a | | | | | | | version | | | | | | | number | | | | | | | for the | | | | | | | app | | | | | | | lication. | | | | | | | | | | | | | | NOTE 3: | | | | | | | \"fl | | | | | | | owDescs\" | | | | | | | attribute | | | | | | | and | | | | | | | \"ethFl | | | | | | | owDescs\" | | | | | | | attribute | | | | | | | are | | | | | | | mutually | | | | | | | e | | | | | | | xclusive. | | | | | | | | | | | | | | NOTE 4: | | | | | | | The match | | | | | | | of this | | | | | | | traffic | | | | | | | d | | | | | | | escriptor | | | | | | | component | | | | | | | does not | | | | | | | require | | | | | | | s | | | | | | | uccessful | | | | | | | DNS | | | | | | | r | | | | | | | esolution | | | | | | | of the | | | | | | | FQDN | | | | | | | provided | | | | | | | by the UE | | | | | | | App | | | | | | | lication. | | | | | | | | | | | | | | NOTE 5: | | | | | | | \"pinId\" | | | | | | | attribute | | | | | | | and other | | | | | | | a | | | | | | | ttributes | | | | | | | are | | | | | | | mutually | | | | | | | e | | | | | | | xclusive. | | | | | | +-----------+-----------+---+-----------+-----------+-----------+
Editor's note: The final data type of the \"pinId\" attribute is FFS.
##### 5.11.2.3.9 Type: NetworkDescription
Table 5.11.2.3.9-1: Definition of type NetworkDescription
+-----------+-----------+---+-----------+-----------+-----------+ | Attribute | Data type | P | Ca | De | Appl | | name | | | rdinality | scription | icability | +-----------+-----------+---+-----------+-----------+-----------+ | plmnId | PlmnId | C | 0..1 | PLMN | | | | | | | Id | | | | | | | entifier. | | | | | | | It | | | | | | | r | | | | | | | epresents | | | | | | | a | | | | | | | co | | | | | | | mbination | | | | | | | of MCC | | | | | | | and MNC. | | | | | | | | | | | | | | (NOTE) | | +-----------+-----------+---+-----------+-----------+-----------+ | mcc | Mcc | C | 0..1 | Mobile | | | | | | | Country | | | | | | | Code | | | | | | | (MCC). | | | | | | | | | | | | | | (NOTE) | | +-----------+-----------+---+-----------+-----------+-----------+ | mncs | a | O | 1..N | R | | | | rray(Mnc) | | | epresents | | | | | | | the | | | | | | | a | | | | | | | pplicable | | | | | | | MNC(s) | | | | | | | for the | | | | | | | indicated | | | | | | | MCC. | | | | | | | | | | | | | | It may be | | | | | | | present | | | | | | | when the | | | | | | | \"mcc\" | | | | | | | attribute | | | | | | | is | | | | | | | present. | | +-----------+-----------+---+-----------+-----------+-----------+ | a | boolean | C | 0..1 | Indicates | | | nyPlmnInd | | | | any PLMN. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | be set to | | | | | | | true. | | | | | | | | | | | | | | true: any | | | | | | | PLMN | | | | | | | (i.e., | | | | | | | any MCC | | | | | | | and any | | | | | | | MNC). | | | | | | | | | | | | | | (NOTE) | | +-----------+-----------+---+-----------+-----------+-----------+ | NOTE: One | | | | | | | of the | | | | | | | \" | | | | | | | plmnId\", | | | | | | | the | | | | | | | \"mcc\" | | | | | | | or the | | | | | | | \"any | | | | | | | PlmnInd\" | | | | | | | a | | | | | | | ttributes | | | | | | | shall be | | | | | | | included. | | | | | | +-----------+-----------+---+-----------+-----------+-----------+
#### 5.11.2.4 Simple data types and enumerations
##### 5.11.2.4.1 Introduction
This clause defines simple data types and enumerations that can be referenced
from data structures defined in the previous clauses.
##### 5.11.2.4.2 Simple data types
The simple data types defined in table 5.11.2.4.2-1 shall be supported.
Table 5.11.2.4.2-1: Simple data types
* * *
Type Name Type Definition Description Applicability A2xParamsPc5 string
Configuration parameters for A2X communication over PC5. Its encoding shall
comply with the UE policies for A2X communication over PC5 as defined in 3GPP
TS 24.578 [69]. A2X A2xParamsPc5Rm string This data type is defined in the
same way as the \"A2xParamsPc5\" data type, but with the OpenAPI \"nullable:
true\" property. A2X ParameterOverPc5 string Configuration parameters for V2X
communication over PC5. Its encoding shall comply with the UE policies for V2X
communication over PC5 as defined in clause 5.3 of 3GPP TS 24.588 [33].  
ParameterOverPc5Rm string This data type is defined in the same way as the
\"ParameterOverPc5\" data type, but with the OpenAPI \"nullable: true\"
property.  
ParameterOverUu string Configuration parameters for V2X communication over Uu.
Its encoding shall comply with the UE policies for V2X communication over Uu
as defined in clause 5.4 of 3GPP TS 24.588 [33].  
ParameterOverUuRm string This data type is defined in the same way as the
\"ParameterOverUu\" data type, but with the OpenAPI \"nullable: true\"
property.  
ParamForProSeDd string Configuration parameters for 5G ProSe direct discovery.
Its encoding shall comply with the UE policies for 5G ProSe direct discovery
defined in clause 5.3 of 3GPP TS 24.555 [49]. ProSe ParamForProSeDdRm string
This data type is defined in the same way as the \"ParamForProSeDd\" data
type, but with the OpenAPI \"nullable: true\" property. ProSe ParamForProSeDc
string Configuration parameters for 5G ProSe direct communications. Its
encoding shall comply with the UE policies for 5G ProSe direct communications
defined in clause 5.4 of 3GPP TS 24.555 [49]. ProSe ParamForProSeDcRm string
This data type is defined in the same way as the \"ParamForProSeDc\" data
type, but with the OpenAPI \"nullable: true\" property. ProSe
ParamForProSeU2NRelUe string Configuration parameters for 5G ProSe UE-to-
network relay UE. Its encoding shall comply with the UE policies for 5G ProSe
UE-to-network relay UE defined in clause 5.5 of 3GPP TS 24.555 [49]. ProSe
ParamForProSeU2NRelUeRm string This data type is defined in the same way as
the \"ParamForProSeU2NRelUe\" data type, but with the OpenAPI \"nullable:
true\" property. ProSe ParamForProSeRemUe string Configuration parameters for
5G ProSe remote UE. Its encoding shall comply with the UE policies for 5G
ProSe remote UE defined in clause 5.6 of 3GPP TS 24.555 [49]. ProSe
ParamForProSeRemUeRm string This data type is defined in the same way as the
\"ParamForProSeRemUe\" data type, but with the OpenAPI \"nullable: true\"
property. ProSe ParamForProSeU2URelUe string Configuration parameters for 5G
ProSe UE-to-UE relay UE. Its encoding shall comply with the UE policies for 5G
ProSe UE-to-UE relay UE defined in clause 5.8 of 3GPP TS 24.555 [49].
ProSe_Ph2 ParamForProSeU2URelUeRm string This data type is defined in the same
way as the \"ParamForProSeU2URelUe\" data type, but with the OpenAPI
\"nullable: true\" property. ProSe_Ph2 ParamForProSeEndUe string Configuration
parameters for 5G ProSe end UE. Its encoding shall comply with the UE policies
for 5G ProSe end UE defined in clause 5.9 of 3GPP TS 24.555 [49]. ProSe_Ph2
ParamForProSeEndUeRm string This data type is defined in the same way as the
\"ParamForProSeEndUe\" data type, but with the OpenAPI \"nullable: true\"
property. ProSe_Ph2 ParamForRangingSlPos string Configuration parameters for
ranging and sidelink positioning. Its encoding shall comply with the UE
policies for ranging and sidelink positioning defined in clause 5 of 3GPP TS
24.514 [xx] Ranging_SL ParamForRangingSlPosRm string This data type is defined
in the same way as the \"ParamForRangingslpos data type, but with the OpenAPI
\"nullable: true\" property. Ranging_SL
* * *
##### 5.11.2.4.3 Enumeration: Event
Table 5.11.2.4.3-1: Enumeration Event
The enumeration Event represents the AF subscribe to event notification of the
outcome related to the invocation of AF provisioned service parameters.
* * *
Enumeration value Description SUCCESS_UE_POL_DEL_SP Successful UE Policy
Delivery related to the invocation of AF provisioned Service Parameters.
UNSUCCESS_UE_POL_DEL_SP Unsuccessful UE Policy Delivery related to the
invocation of AF provisioned Service Parameters.
* * *
##### 5.11.2.4.4 Enumeration: AuthorizationResult
The enumeration AuthorizationResult represents the NEF notify the AF about the
service parameters authorization updates result, e.g. to revoke an
authorization.
Table 5.11.2.4.4-1: Enumeration AuthorizationResult
* * *
Enumeration value Description AUTH_REVOKED Indicated the service parameters
authorization is revoked.
* * *
##### 5.11.2.4.5 Enumeration: Failure
The enumeration Failure represents the failure reason for the unsuccessful
result.
Table 5.11.2.4.5-1: Enumeration Failure
* * *
Enumeration value Description UNSPECIFIED Indicates the PCF received the UE
sent UE policy delivery service cause #111 (Protocol error, unspecified).
UE_NOT_REACHABLE Indicates the PCF received the notification from the AMF that
the UE is not reachable. UNKNOWN Indicates unknown reasons upon no response
from the UE, e.g. UPDS message type is not defined or not implemented by the
UE, or not compatible with the UPDS state, in which the UE shall ignore the
UPDS message. UE_TEMP_UNREACHABLE Indicates the PCF received the notification
from the AMF that the UE is not reachable but the PCF will retry again.
* * *
##### 5.11.2.4.6 Enumeration: ConnectionCapabilities
The enumeration ConnectionCapabilities represents the information provided by
a UE application when it requests a network connection with certain
capabilities.
Table 5.11.2.4.6-1: Enumeration ConnectionCapabilities
* * *
Enumeration value Description IMS Indicates the connection capability to
support IMS service. MMS Indicates the connection capability to support MMS
service. SUPL Indicates the connection capability to support SUPL service.
INTERNET Indicates the connection capability to support Internet service.
* * *
### 5.11.3 Used Features
The table below defines the features applicable to the ServiceParameter API.
Those features are negotiated as described in clause 5.2.7 of 3GPP TS 29.122
[4].
Table 5.11.3-1: Features used by ServiceParameter API
+----------------+-------------------------+-------------------------+ | Feature number | Feature Name | Description | +----------------+-------------------------+-------------------------+ | 1 | ProSe | This feature indicates | | | | the support of UE | | | | policy and N2 | | | | information | | | | provisioning for 5G | | | | ProSe. | +----------------+-------------------------+-------------------------+ | 2 | enNB | Indicates the support | | | | of enhancements to the | | | | northbound interfaces. | +----------------+-------------------------+-------------------------+ | 3 | AfNotifications | This feature indicates | | | | the support of AF | | | | subscribed event(s) | | | | notifications. | +----------------+-------------------------+-------------------------+ | 4 | Notification_websocket | The delivery of | | | | notifications over | | | | Websocket is supported | | | | as described in | | | | 3GPP TS 29.122 [4]. | | | | This feature requires | | | | that the | | | | No | | | | tification_test_event | | | | feature is also | | | | supported. | +----------------+-------------------------+-------------------------+ | 5 | No | The testing of | | | tification_test_event | notification connection | | | | is supported as | | | | described in | | | | 3GPP TS 29.122 [4]. | +----------------+-------------------------+-------------------------+ | 6 | AfGuideURSP | This feature indicates | | | | the support of AF | | | | guidance for URSP | | | | determination. | +----------------+-------------------------+-------------------------+ | 7 | A2X | This feature indicates | | | | the support of A2X | | | | communication. | +----------------+-------------------------+-------------------------+ | 8 | ProSe_Ph2 | This feature indicates | | | | the support of UE | | | | policy and N2 | | | | information | | | | provisioning for 5G | | | | ProSe UE-to-UE Relay | | | | function. | | | | | | | | This feature requires | | | | that the ProSe feature | | | | is also supported. | +----------------+-------------------------+-------------------------+ | 9 | PIN | This feature indicates | | | | the support of Personal | | | | IoT Network | | | | requirements. | +----------------+-------------------------+-------------------------+ | 10 | VPLMNSpecificURSP | This feature indicates | | | | the support of AF | | | | guidance on | | | | VPLMN-specific URSP | | | | rules. | | | | | | | | This feature requires | | | | that AfGuideURSP is | | | | also supported. | +----------------+-------------------------+-------------------------+ | 11 | AfGuideTNAPs | This feature indicates | | | | the support of AF | | | | providing guidance to | | | | the HPLMN of the UE of | | | | the list of TNAP(s) | | | | collocated with the | | | | 5G-RG(s) of a specific | | | | user. | +----------------+-------------------------+-------------------------+ | 12 | Ranging_SL | This feature indicates | | | | the support of ranging | | | | and sidelink | | | | positioning | | | | requirements. | +----------------+-------------------------+-------------------------+
### 5.11.4 Error handling
#### 5.11.4.1 General
HTTP error handling shall be supported as specified in clause 5.2.6 of 3GPP TS
29.122 [4].
In addition, the requirements in the following clauses shall apply.
#### 5.11.4.2 Protocol Errors
In this Release of the specification, there are no additional protocol errors
applicable for the ServiceParameter API.
#### 5.11.4.3 Application Errors
The application errors defined for ServiceParameter API are listed in table
5.11.4.3-1.
Table 5.11.4.3-1: Application errors
* * *
Application Error HTTP status code Description Applicability
* * *
## 5.12 ACSParameterProvision API
### 5.12.0 Introduction
The Nnef_ParameterProvision service shall use the ACSParameterProvision API
for ACS parameters provisioning.
The API URI of ACSParameterProvision API shall be:
**{apiRoot}/3gpp-acs-pp/v1**
with the following components:
\- \"apiRoot\" is set as defined in clause 5.2.4 of 3GPP TS 29.122 [4].
\- \"apiName\" shall be set to \"3gpp-acs-pp\".
\- \"apiVersion\" shall be set to \"v1\" for the current version defined in
the present document.
All resource URIs in the clauses below are defined relative to the above API
URI.
### 5.12.1 Resources
#### 5.12.1.1 Overview
This clause describes the structure for the Resource URIs as shown in figure
5.12.1.1-1 and the resources and HTTP methods used for the
ACSParameterProvision API.
Figure 5.12.1.1-1: Resource URI structure of the ACSParameterProvision API
Table 5.12.1.1-1 provides an overview of the resources and HTTP methods
applicable for the ACSParameterProvision API.
Table 5.12.1.1-1: Resources and methods overview
* * *
Resource name Resource URI HTTP method Description ACS Configuration
Subscripions /{afId}/subscriptions GET Read all subscriptions for a given AF.
POST Create a new ACS configuration subscription. Individual ACS Configuration
Subscripion /{afId}/subscriptions/{subscriptionId} GET Read an existing ACS
configuration subscription identified by {subscriptionId}. PUT Update an
existing ACS configuration subscription identified by {subscriptionId}. PATCH
Modify an existing ACS configuration subscription identified by
{subscriptionId}. DELETE Delete an existing ACS configuration subscription
identified by {subscriptionId}.
* * *
#### 5.12.1.2 Resource: ACS Configuration Subscriptions
##### 5.12.1.2.1 Introduction
This resource allows a AF to read all active ACS Configuration Subscriptions
for the given AF, or create an new individual ACS Configuration subscription
in the NEF.
##### 5.12.1.2.2 Resource Definition
Resource URI: **{apiRoot}/3gpp-acs-pp/v1/{afId}/subscriptions**
This resource shall support the resource URI variables defined in table
5.12.1.2.2-1.
Table 5.12.1.2.2-1: Resource URI variables for this resource
* * *
Name Definition apiRoot Clause 5.2.4 of 3GPP TS 29.122 [4]. afId Identifier of
the AF of type string.
* * *
##### 5.12.1.2.3 Resource Methods
###### 5.12.1.2.3.1 General
The following clauses specify the resource methods supported by the resource
as described in clause 5.12.1.2.3.
###### 5.12.1.2.3.2 GET
The GET method allows to read all active subscriptions for a given AF. The AF
shall initiate the HTTP GET request message and the NEF shall respond to the
message.
This method shall support the URI query parameters specified in table
5.12.1.2.3.2-1.
Table 5.12.1.2.3.2-1: URI query parameters supported by the GET method on this
resource
* * *
Name Data type P Cardinality Description N/A
* * *
This method shall support the request data structures specified in table
5.12.1.2.3.2-2 and the response data structures and response codes specified
in table 5.12.1.2.3.2-3.
Table 5.12.1.2.3.2-2: Data structures supported by the GET Request Body on
this resource
* * *
Data type P Cardinality Description N/A
* * *
Table 5.12.1.2.3.2-3: Data structures supported by the GET Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | a | M | 0..N | 200 OK | All the | | rray(AcsConfi | | | | subscription | | gurationData) | | | | information | | | | | | for the AF in | | | | | | the request | | | | | | URI are | | | | | | returned. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 307 Temporary | Temporary | | | | | Redirect | redirection, | | | | | | during | | | | | | subscription | | | | | | retrieval. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 308 Permanent | Permanent | | | | | Redirect | redirection, | | | | | | during | | | | | | subscription | | | | | | retrieval. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the GET | | | | | | method listed | | | | | | in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.12.1.2.3.2-4: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
Table 5.12.1.2.3.2-5: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
###### 5.12.1.2.3.3 POST
The POST method creates a new resource to individual ACS Configuration
subscription for a given AF. The AF shall initiate the HTTP POST request
message and the NEF shall respond to the message. The NEF shall construct the
URI of the created resource.
This method shall support the request data structures specified in table
5.12.1.2.3.3-1 and the response data structures and response codes specified
in table 5.12.1.2.3.3-2.
Table 5.12.1.2.3.3-1: Data structures supported by the POST Request Body on
this resource
* * *
Data type P Cardinality Description AcsConfigurationData M 1 Parameters to
create an individual ACS Configuration subscription resource.
* * *
Table 5.12.1.2.3.3-2: Data structures supported by the POST Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | AcsConf | M | 1 | 201 Created | The | | igurationData | | | | subscription | | | | | | resource was | | | | | | created | | | | | | successfully. | | | | | | | | | | | | The URI of | | | | | | the created | | | | | | resource | | | | | | shall be | | | | | | returned in | | | | | | the | | | | | | \"Location\" | | | | | | HTTP header. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the POST | | | | | | method listed | | | | | | in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.12.1.2.3.3-3: Headers supported by the 201 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 Contains the URI
of the newly created resource, according to the structure: {apiRoot}/3gpp-acs-
pp/v1/{afId}/subscriptions/{subscriptionId}
* * *
#### 5.12.1.3 Resource: Individual ACS Configuration Subscription
##### 5.12.1.3.1 Introduction
This resource allows a AF to read, update or delete an existing ACS
Configuration subscription.
##### 5.12.1.3.2 Resource Definition
Resource URI: **{apiRoot}/3gpp-acs-
pp/v1/{afId}/subscriptions/{subscriptionId}**
This resource shall support the resource URI variables defined in table
5.9.1.3.2-1.
Table 5.12.1.3.2-1: Resource URI variables for this resource
* * *
Name Definition apiRoot Clause 5.2.4 of 3GPP TS 29.122 [4]. afId Identifier of
the AF of type string. subscriptionId Identifier of the subscription resource
of type string.
* * *
##### 5.12.1.3.3 Resource Methods
###### 5.12.1.3.3.1 General
The following clauses specify the resource methods supported by the resource
as described in clause 5.12.1.3.3.
###### 5.12.1.3.3.2 GET
The GET method allows to read the active subscription for a given AF and
subscription Id. The AF shall initiate the HTTP GET request message and theNEF
shall respond to the message.
This method shall support the URI query parameters specified in table
5.12.1.3.3.2-1.
Table 5.12.1.3.3.2-1: URI query parameters supported by the GET method on this
resource
* * *
Name Data type P Cardinality Description N/A
* * *
This method shall support the request data structures specified in table
5.12.1.3.3.2-2 and the response data structures and response codes specified
in table 5.12.1.3.3.2-3.
Table 5.12.1.3.3.2-2: Data structures supported by the GET Request Body on
this resource
* * *
Data type P Cardinality Description N/A
* * *
Table 5.12.1.3.3.2-3: Data structures supported by the GET Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | AcsConf | M | 1 | 200 OK | The | | igurationData | | | | information | | | | | | for the | | | | | | subscription | | | | | | in the | | | | | | request URI | | | | | | are returned. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 307 Temporary | Temporary | | | | | Redirect | redirection, | | | | | | during | | | | | | subscription | | | | | | retrieval. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 308 Permanent | Permanent | | | | | Redirect | redirection, | | | | | | during | | | | | | subscription | | | | | | retrieval. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the GET | | | | | | method listed | | | | | | in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.12.1.3.3.2-4: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
Table 5.12.1.3.3.2-5: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
###### 5.12.1.3.3.3 PUT
The PUT method updates an existing resource to update a configuration. The AF
shall initiate the HTTP PUT request message and the NEF shall respond to the
message.
This method shall support the request data structures specified in table
5.9.1.3.3.3-1 and the response data structures and response codes specified in
table 5.9.1.3.3.3-2.
Table 5.12.1.3.3.3-1: Data structures supported by the PUT Request Body on
this resource
* * *
Data type P Cardinality Description AcsConfigurationData M 1 Modify an
existing subscription.
* * *
Table 5.12.1.3.3.3-2: Data structures supported by the PUT Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | AcsConf | M | 1 | 200 OK | The | | igurationData | | | | subscription | | | | | | resource was | | | | | | updated | | | | | | successfully | | | | | | and a | | | | | | r | | | | | | epresentation | | | | | | of the | | | | | | updated | | | | | | resource is | | | | | | returned. | +---------------+---+-------------+---------------+---------------+ | n/a | | | 204 No | The | | | | | Content | subscription | | | | | | resource was | | | | | | updated | | | | | | successfully. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 307 Temporary | Temporary | | | | | Redirect | redirection, | | | | | | during | | | | | | subscription | | | | | | modification. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 308 Permanent | Permanent | | | | | Redirect | redirection, | | | | | | during | | | | | | subscription | | | | | | modification. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the PUT | | | | | | method listed | | | | | | in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.12.1.3.3.3-3: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
Table 5.12.1.3.3.3-4: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
###### 5.12.1.3.3.3A PATCH
The PATCH method modifies an existing resource to update an existing ACS
Configuration Subscripion. The AF shall initiate the HTTP PATCH request
message and the NEF shall respond to the message.
This method shall support the request data structures specified in table
5.9.1.3.3.3A-1 and the response data structures and response codes specified
in table 5.9.1.3.3.3A-2.
Table 5.12.1.3.3.3A-1: Data structures supported by the PATCH Request Body on
this resource
* * *
Data type P Cardinality Description AcsConfigurationDataPatch M 1 Modify an
existing subscription.
* * *
Table 5.12.1.3.3.3A-2: Data structures supported by the PATCH Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | AcsConf | M | 1 | 200 OK | The | | igurationData | | | | subscription | | | | | | resource was | | | | | | modified | | | | | | successfully | | | | | | and a | | | | | | r | | | | | | epresentation | | | | | | of the | | | | | | updated | | | | | | resource is | | | | | | returned. | +---------------+---+-------------+---------------+---------------+ | n/a | | | 204 No | The | | | | | Content | subscription | | | | | | resource was | | | | | | modified | | | | | | successfully. | +---------------+---+-------------+---------------+---------------+ | n/a | | | 307 Temporary | Temporary | | | | | Redirect | redirection. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | n/a | | | 308 Permanent | Permanent | | | | | Redirect | redirection. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the PATCH | | | | | | method listed | | | | | | in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.12.1.3.3.3A-3: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
Table 5.12.1.3.3.3A-4: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
###### 5.12.1.3.3.4 DELETE
The DELETE method deletes an existing individual subscription for a given AF.
The AF shall initiate the HTTP DELETE request message and the NEF shall
respond to the message.
This method shall support the URI query parameters specified in table
5.12.1.3.3.4-1.
Table 5.12.1.3.3.4-1: URI query parameters supported by the DELETE method on
this resource
* * *
Name Data type P Cardinality Description N/A
* * *
This method shall support the request data structures specified in table
5.12.1.3.3.4-2 and the response data structures and response codes specified
in table 5.12.1.3.3.4-3.
Table 5.12.1.3.3.4-2: Data structures supported by the DELETE Request Body on
this resource
* * *
Data type P Cardinality Description N/A
* * *
Table 5.12.1.3.3.4-3: Data structures supported by the DELETE Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | N/A | | | 204 No | The | | | | | Content | subscription | | | | | | resource was | | | | | | terminated | | | | | | successfully. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 307 Temporary | Temporary | | | | | Redirect | redirection, | | | | | | during | | | | | | subscription | | | | | | termination. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 308 Permanent | Permanent | | | | | Redirect | redirection, | | | | | | during | | | | | | subscription | | | | | | termination. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the | | | | | | DELETE method | | | | | | listed in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.12.1.3.3.4-4: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
Table 5.12.1.3.3.4-5: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
### 5.12.1A Custom Operations without associated resources
There are no custom operations without associated resources defined for this
API in this release of the specification.
### 5.12.1B Notifications
There are no notifications defined for this API in this release of the
specification.
### 5.12.2 Data Model
#### 5.12.2.1 General
This clause specifies the application data model supported by the
ACSParameterProvision API.
Table 5.12.2.1-1 specifies the data types defined for the
ACSParameterProvision API.
Table 5.12.2.1-1: ACSParameterProvision API specific Data Types
* * *
Data type Clause defined Description Applicability AcsConfigurationData
5.12.2.3.2 Represents an individual ACS Configuration subscription resource.  
AcsConfigurationDataPatch 5.12.2.3.3 Represents the parameters to request to
modify an existing ACS Configuration subscription. PatchUpdate
* * *
#### 5.12.2.2 Reused data types
The data types reused by the ACSParameterProvision API from other
specifications are listed in table 5.12.2.2-1.
Table 5.12.2.2-1: Re-used Data Types
* * *
Data type Reference Comments AcsInfo 3GPP TS 29.571 [8] Contains the
information of ACS ExternalGroupId 3GPP TS 29.122 [4] External Group
Identifier for a user group. Gpsi 3GPP TS 29.571 [8] Identifies a GPSI. Link
3GPP TS 29.122 [4] Represents a referenced resource. MtcProviderInformation
3GPP TS 29.571 [8] Indicates MTC provider information. SupportedFeatures 3GPP
TS 29.571 [8] Used to negotiate the applicability of the optional features
defined in table 5.9.4-1.
* * *
#### 5.12.2.3 Structured data types
##### 5.12.2.3.1 Introduction
This clause defines the structured data types to be used in resource
representations.
##### 5.12.2.3.2 Type: AcsConfigurationData
Table 5.12.2.3.2-1: Definition of type AcsConfigurationData
+-----------+-----------+---+-----------+-----------+-----------+ | Attribute | Data type | P | Ca | De | Appl | | name | | | rdinality | scription | icability | +-----------+-----------+---+-----------+-----------+-----------+ | self | Link | C | 0..1 | I | | | | | | | dentifies | | | | | | | the | | | | | | | i | | | | | | | ndividual | | | | | | | service | | | | | | | parameter | | | | | | | sub | | | | | | | scription | | | | | | | resource | | | | | | | URI. | | | | | | | | | | | | | | Shall be | | | | | | | present | | | | | | | by the | | | | | | | NEF in | | | | | | | HTTP | | | | | | | responses | | | | | | | that | | | | | | | include | | | | | | | an object | | | | | | | of | | | | | | | Ac | | | | | | | sConfigur | | | | | | | ationData | | | | | | | Data | | | | | | | type. | | +-----------+-----------+---+-----------+-----------+-----------+ | gpsi | Gpsi | O | 0..1 | I | | | | | | | dentifies | | | | | | | GPSI. | | | | | | | (NOTE) | | +-----------+-----------+---+-----------+-----------+-----------+ | ext | Extern | O | 0..1 | R | | | erGroupId | alGroupId | | | epresents | | | | | | | a group | | | | | | | of users. | | | | | | | (NOTE) | | +-----------+-----------+---+-----------+-----------+-----------+ | acsInfo | AcsInfo | M | 1 | Contains | | | | | | | the | | | | | | | in | | | | | | | formation | | | | | | | of ACS. | | +-----------+-----------+---+-----------+-----------+-----------+ | mtcP | MtcP | O | 0..1 | Indicates | | | roviderId | roviderIn | | | MTC | | | | formation | | | provider | | | | | | | inf | | | | | | | ormation. | | +-----------+-----------+---+-----------+-----------+-----------+ | suppFeat | Supporte | M | 1 | Indicates | | | | dFeatures | | | the list | | | | | | | of | | | | | | | Supported | | | | | | | features | | | | | | | used as | | | | | | | described | | | | | | | in | | | | | | | claus | | | | | | | e 5.12.3. | | | | | | | | | | | | | | This | | | | | | | parameter | | | | | | | shall be | | | | | | | supplied | | | | | | | by the NF | | | | | | | service | | | | | | | consumer | | | | | | | in the | | | | | | | POST | | | | | | | request | | | | | | | that | | | | | | | requested | | | | | | | the | | | | | | | creation | | | | | | | of an | | | | | | | i | | | | | | | ndividual | | | | | | | ACS | | | | | | | conf | | | | | | | iguration | | | | | | | Sub | | | | | | | scription | | | | | | | resource. | | +-----------+-----------+---+-----------+-----------+-----------+ | NOTE: | | | | | | | Only one | | | | | | | of the | | | | | | | \"gpsi\" | | | | | | | or | | | | | | | \"exter | | | | | | | GroupId\" | | | | | | | attribute | | | | | | | shall be | | | | | | | provided. | | | | | | +-----------+-----------+---+-----------+-----------+-----------+
##### 5.12.2.3.3 Type: AcsConfigurationDataPatch
Table 5.12.2.3.3-1: Definition of type AcsConfigurationDataPatch
* * *
Attribute name Data type P Cardinality Description Applicability acsInfo
AcsInfo O 0..1 Contains the information of ACS.  
mtcProviderId MtcProviderInformation O 0..1 Indicates MTC provider
information.
* * *
#### 5.12.2.4 Simple data types and enumerations
##### 5.12.2.4.1 Introduction
This clause defines simple data types and enumerations that can be referenced
from data structures defined in the previous clauses.
##### 5.12.2.4.2 Simple data types
The simple data types defined in table 5.12.2.4.2-1 shall be supported.
Table 5.12.2.4.2-1: Simple data types
* * *
Type Name Type Definition Description Applicability
* * *
### 5.12.3 Used Features
The table below defines the features applicable to the ACSParameterProvision
API. Those features are negotiated as described in clause 5.2.7 of 3GPP TS
29.122 [4].
Table 5.12.3-1: Features used by ACSParameterProvision API
* * *
Feature number Feature Name Description 1 PatchUpdate Indicates the support of
enhancements to the northbound interfaces (e.g. support the partial
modification of an existing subscription resource).
* * *
### 5.12.4 Error handling
#### 5.12.4.1 General
HTTP error handling shall be supported as specified in clause 5.2.6 of 3GPP TS
29.122 [4].
In addition, the requirements in the following clauses shall apply.
#### 5.12.4.2 Protocol Errors
In this Release of the specification, there are no additional protocol errors
applicable for the ACSParameterProvision API.
#### 5.12.4.3 Application Errors
The application errors defined for ACSParameterProvision API are listed in
table 5.12.4.3-1.
Table 5.12.4.3-1: Application errors
* * *
Application Error HTTP status code Description Applicability
* * *
## 5.13 MoLcsNotify API
### 5.13.0 Introduction
The Nnef_MoLcsNotify service shall use the MoLcsNotify API.
The API URI of MoLcsNotify API shall be:
**{apiRoot}/3gpp-mo-lcs-notify/v1**
with the following components:
\- \"apiRoot\" is set as defined in clause 5.2.4 of 3GPP TS 29.122 [4].
\- \"apiName\" shall be set to \"3gpp-mo-lcs-notify\".
\- \"apiVersion\" shall be set to \"v1\" for the current version defined in
the present document.
All resource URIs in the clauses below are defined relative to the above API
URI.
### 5.13.1 Resources
There are no resources defined for this API in this release of the
specification.
### 5.13.1A Custom Operations without associated resources
There are no custom operations without associated resources defined for this
API in this release of the specification.
### 5.13.2 Notifications
#### 5.13.2.1 Introduction
Upon receipt of a UE location information update notification from the GMLC,
the NEF shall send an HTTP POST message in order to notify the AF of the
updated UE location information.
#### 5.13.2.2 Event Notification
Callback URI: **{notificationDestination}** shall be used with the callback
URI variables defined in table 5.13.2.2-1.
Table 5.13.2.2-1: Callback URI variables
+-------------------------+-------------------------------------------+ | Name | Definition | +-------------------------+-------------------------------------------+ | notificationDestination | A URI indicating the notification | | | destination where N33 notification | | | requests shall be delivered to. | | | | | | This URI shall be preconfigured in the | | | NEF. | +-------------------------+-------------------------------------------+
#### 5.13.2.3 Operation Definition
##### 5.13.2.3.1 Notification via HTTP POST
This method shall support the request data structures specified in table
5.13.2.3.1-1 and the response data structures and response codes specified in
table 5.13.2.3.1-2.
Table 5.13.2.3.1-1: Data structures supported by the POST Request Body on this
resource
* * *
Data type P Cardinality Description LocUpdateData M 1 Delivers UE location to
AF during MO-LR procedure
* * *
Table 5.13.2.3.1-2: Data structures supported by the POST Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | LocUp | M | 1 | 200 OK | The | | dateDataReply | | | | notification | | | | | | is received | | | | | | successfully. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 307 Temporary | Temporary | | | | | Redirect | redirection, | | | | | | during | | | | | | notification. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI | | | | | | representing | | | | | | the end point | | | | | | of an | | | | | | alternative | | | | | | AF where the | | | | | | notification | | | | | | should be | | | | | | sent. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 308 Permanent | Permanent | | | | | Redirect | redirection, | | | | | | during | | | | | | notification. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI | | | | | | representing | | | | | | the end point | | | | | | of an | | | | | | alternative | | | | | | AF where the | | | | | | notification | | | | | | should be | | | | | | sent. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the POST | | | | | | method listed | | | | | | in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.13.2.3.1-3: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI representing the end point of an alternative AF towards which the
notification should be redirected.
* * *
Table 5.13.2.3.1-4: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI representing the end point of an alternative AF towards which the
notification should be redirected.
* * *
### 5.13.3 Data Model
#### 5.13.3.1 General
This clause specifies the application data model supported by the MoLcsNotify
API.
#### 5.13.3.2 Reused data types
The data types reused by the MoLcsNotify API from other specifications are
listed in table 5.13.3.2-1.
Table 5.13.3.2-1: Re-used Data Types
* * *
Data type Reference Comments SupportedFeatures 3GPP TS 29.571 [8] Used to
negotiate the applicability of the optional features defined in table
5.13.4-1. Gpsi 3GPP TS 29.571 [8] Identifies a GPSI. LocationInfo 3GPP TS
29.122 [4] Represent user location information for exposure. LcsQosClass 3GPP
TS 29.572 [34] LCS QoS Class. ServiceIdentity 3GPP TS 29.515 [35] Service
identity
* * *
#### 5.13.3.3 Structured data types
##### 5.13.3.3.1 Introduction
This clause defines the structured data types to be used by the MoLcsNotify
API.
##### 5.13.3.3.2 Type: LocUpdateData
This type represents a UE updated location information from the NEF to the AF.
Table 5.13.3.3.2-1: Definition of type LocUpdateData
* * *
Attribute name Data type P Cardinality Description Applicability gpsi Gpsi M 1
Generic Public Subscription identifier  
locInfo LocationInfo M 1 Represent user location information for exposure.  
lcsQosClass LcsQosClass M 1 LCS QoS Class.  
svcId ServiceIdentity O 0..1 Service Identity may be specified by the UE for
LCS request.  
suppFeat SupportedFeatures M 1 Indicates the list of Supported features used
as described in clause 5.13.4.  
additionalLocInfo array(LocationInfo) O 1..N Represent additionaly user
location information for exposure when location information for multiple UEs
is exposed.
* * *
##### 5.13.3.3.3 Type: LocUpdateDataReply
This data type represents a reply to a MO LCS notification and is sent from
the AF to the NEF.
Table 5.13.3.3.3-1: Definition of type LocUpdateDataReply
* * *
Attribute name Data type P Cardinality Description Applicability suppFeat
SupportedFeatures M 1 Indicates the list of Supported features used as
described in clause 5.13.4.
* * *
#### 5.13.3.4 Simple data types and enumerations
##### 5.13.3.4.1 Introduction
This clause defines simple data types and enumerations that can be referenced
from data structures defined in the previous clauses.
##### 5.13.3.4.2 Simple data types
The simple data types defined in table 5.13.3.4.2-1 shall be supported.
Table 5.13.3.4.2-1: Simple data types
* * *
Type Name Type Definition Description Applicability
* * *
### 5.13.4 Used Features
The table below defines the features applicable to the MoLcsNotify API. Those
features are negotiated as described in clause 5.2.7 of 3GPP TS 29.122 [4].
Table 5.13.4-1: Features used by MoLcsNotify API
* * *
Feature number Feature Name Description
* * *
### 5.13.5 Error handling
#### 5.13.5.1 General
HTTP error handling shall be supported as specified in clause 5.2.6 of 3GPP TS
29.122 [4].
In addition, the requirements in the following clauses shall apply.
#### 5.13.5.2 Protocol Errors
In this Release of the specification, there are no additional protocol errors
applicable for the MoLcsNotify API.
#### 5.13.5.3 Application Errors
The application errors defined for MoLcsNotify API are listed in table
5.13.5.3-1.
Table 5.13.5.3-1: Application errors
* * *
Application Error HTTP status code Description Applicability
* * *
## 5.14 AKMA API
### 5.14.1 Introduction
The Nnef_AKMA service shall use the AKMA API.
The API URI of AKMA API shall be:
**{apiRoot}/3gpp-akma/v1**
with the following components:
\- \"apiRoot\" is set as defined in clause 5.2.4 of 3GPP TS 29.122 [4].
\- \"apiName\" shall be set to \"3gpp-akma\".
\- \"apiVersion\" shall be set to \"v1\" for the current version defined in
the present document.
All resource URIs in the clauses below are defined relative to the above API
URI.
### 5.14.2 Resources
There are no resources defined for this API in this release of the
specification.
### 5.14.3 Custom Operations without associated resources
#### 5.14.3.1 Overview
The structure of the custom operation URIs of the AKMA API is shown in Figure
5.14.3.1-1.
Figure 5.14.3.1-1: Custom operation URI structure of the AKMA API
Table 5.14.3.1-1 provides an overview of the custom operations and applicable
HTTP methods.
Table 5.14.3.1-1: Custom operations without associated resources
* * *
Operation name Custom operation URI Mapped HTTP method Description Retrieve
/retrieve POST Request to retrieve AKMA Application Key information
* * *
#### 5.14.3.2 Operation: Retrieve
##### 5.14.3.2.1 Description
The custom operation allows a service consumer to retrieve AKMA application
key information via the NEF.
##### 5.14.3.2.2 Operation Definition
This operation shall support the request and response data structures and
response codes specified in tables 5.14.3.2.2-1 and 5.14.3.2.2-2.
Table 5.14.3.2.2-1: Data structures supported by the POST Request Body on this
resource
* * *
Data type P Cardinality Description AkmaAfKeyRequest M 1 Parameters to request
to retrieve AKMA Application Key information.
* * *
Table 5.14.3.2.2-2: Data structures supported by the POST Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | AkmaAfKeyData | M | 1 | 200 OK | The requested | | | | | | AKMA | | | | | | Application | | | | | | Key | | | | | | information | | | | | | was returned | | | | | | successfully. | +---------------+---+-------------+---------------+---------------+ | n/a | | | 204 No | If the | | | | | Content | requested | | | | | | data does not | | | | | | exist, the | | | | | | NEF shall | | | | | | respond with | | | | | | \"204 No | | | | | | Content\". | +---------------+---+-------------+---------------+---------------+ | n/a | | | 307 Temporary | Temporary | | | | | Redirect | redirection. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | n/a | | | 308 Permanent | Permanent | | | | | Redirect | redirection. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | +---------------+---+-------------+---------------+---------------+ | P | O | 0..1 | 403 Forbidden | (NOTE 2) | | roblemDetails | | | | | +---------------+---+-------------+---------------+---------------+ | NOTE 1: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the POST | | | | | | method listed | | | | | | in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | | | | | | | | NOTE 2: | | | | | | Failure cases | | | | | | are described | | | | | | in | | | | | | c | | | | | | lause 5.14.7. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.14.3.2.2-3: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
Table 5.14.3.2.2-4: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
### 5.14.4 Notifications
There are no notifications defined for this API in this release of the
specification.
### 5.14.5 Data Model
#### 5.14.5.1 General
This clause specifies the application data model supported by the AKMA API.
#### 5.14.5.2 Reused data types
The data types reused by the AKMA API from other specifications are listed in
table 514.5.2-1.
Table 5.14.5.2-1: Re-used Data Types
* * *
Data type Reference Comments DateTime 3GPP TS 29.122 [4] Represents a data and
a time. Gpsi 3GPP TS 29.571 [8] Represents a GPSI. ProblemDetails 3GPP TS
29.122 [4] Represents error related information. Supi 3GPP TS 29.571 [8]
Represents a SUPI. SupportedFeatures 3GPP TS 29.571 [8] Used to negotiate the
applicability of the optional features.
* * *
#### 5.14.5.3 Structured data types
##### 5.14.5.3.1 Introduction
This clause defines the structured data types to be used in resource
representations.
##### 5.14.5.3.2 Type: AkmaAfKeyRequest
Table 5.14.5.3.2-1: Definition of type AkmaAfKeyRequest
+-----------+-----------+---+-----------+-----------+-----------+ | Attribute | Data type | P | Ca | De | Appl | | name | | | rdinality | scription | icability | | | | | | | | | | | | | | (NOTE) | +-----------+-----------+---+-----------+-----------+-----------+ | afId | AfId | M | 1 | Ident | | | | | | | ification | | | | | | | of AF | | +-----------+-----------+---+-----------+-----------+-----------+ | aKId | AKId | M | 1 | A-KID | | +-----------+-----------+---+-----------+-----------+-----------+ | anonInd | boolean | O | 0..1 | Indicates | | | | | | | whether | | | | | | | an | | | | | | | anonymous | | | | | | | user | | | | | | | access. | | | | | | | Set to | | | | | | | \"true\" | | | | | | | if an | | | | | | | anonymous | | | | | | | user | | | | | | | access is | | | | | | | r | | | | | | | equested; | | | | | | | otherwise | | | | | | | set to | | | | | | | \ | | | | | | | "false\". | | | | | | | | | | | | | | Default | | | | | | | value is | | | | | | | \"false\" | | | | | | | if | | | | | | | omitted. | | +-----------+-----------+---+-----------+-----------+-----------+ | suppFeat | Supporte | O | 0..1 | Indicates | | | | dFeatures | | | the list | | | | | | | of | | | | | | | Supported | | | | | | | features | | | | | | | used as | | | | | | | described | | | | | | | in | | | | | | | claus | | | | | | | e 5.14.6. | | +-----------+-----------+---+-----------+-----------+-----------+ | NOTE: | | | | | | | P | | | | | | | roperties | | | | | | | marked | | | | | | | with a | | | | | | | feature | | | | | | | as | | | | | | | defined | | | | | | | in | | | | | | | clau | | | | | | | se 5.14.6 | | | | | | | are | | | | | | | a | | | | | | | pplicable | | | | | | | as | | | | | | | described | | | | | | | in | | | | | | | cla | | | | | | | use 5.2.7 | | | | | | | of | | | | | | | 3GP | | | | | | | P TS 29.1 | | | | | | | 22 [4]. | | | | | | | If no | | | | | | | feature | | | | | | | is | | | | | | | i | | | | | | | ndicated, | | | | | | | the | | | | | | | related | | | | | | | property | | | | | | | applies | | | | | | | for all | | | | | | | the | | | | | | | features. | | | | | | +-----------+-----------+---+-----------+-----------+-----------+
##### 5.14.5.3.3 Type: AkmaAfKeyData
Table 5.14.5.3.3-1: Definition of type AkmaAfKeyData
+-----------+-----------+---+-----------+-----------+-----------+ | Attribute | Data type | P | Ca | De | Appl | | name | | | rdinality | scription | icability | | | | | | | | | | | | | | (NOTE) | +-----------+-----------+---+-----------+-----------+-----------+ | kaf | string | M | 1 | K~AF~ | | +-----------+-----------+---+-----------+-----------+-----------+ | expiry | DateTime | M | 1 | E | | | | | | | xpiration | | | | | | | time of | | | | | | | K~AF~. | | +-----------+-----------+---+-----------+-----------+-----------+ | gpsi | Gpsi | O | 0..1 | Indicates | | | | | | | an | | | | | | | external | | | | | | | ID of the | | | | | | | UE. | | | | | | | (NOTE 2, | | | | | | | NOTE x) | | +-----------+-----------+---+-----------+-----------+-----------+ | supi | Supi | C | 0..1 | Indicates | | | | | | | the SUPI | | | | | | | of the | | | | | | | UE. | | | | | | | (NOTE 2) | | +-----------+-----------+---+-----------+-----------+-----------+ | suppFeat | Supporte | O | 0..1 | Indicates | | | | dFeatures | | | the | | | | | | | features | | | | | | | supported | | | | | | | by both | | | | | | | the AF | | | | | | | and the | | | | | | | NEF. | | +-----------+-----------+---+-----------+-----------+-----------+ | NOTE 1: | | | | | | | P | | | | | | | roperties | | | | | | | marked | | | | | | | with a | | | | | | | feature | | | | | | | as | | | | | | | defined | | | | | | | in | | | | | | | clau | | | | | | | se 5.14.6 | | | | | | | are | | | | | | | a | | | | | | | pplicable | | | | | | | as | | | | | | | described | | | | | | | in | | | | | | | cla | | | | | | | use 5.2.7 | | | | | | | of | | | | | | | 3GP | | | | | | | P TS 29.1 | | | | | | | 22 [4]. | | | | | | | If no | | | | | | | feature | | | | | | | is | | | | | | | i | | | | | | | ndicated, | | | | | | | the | | | | | | | related | | | | | | | property | | | | | | | applies | | | | | | | for all | | | | | | | the | | | | | | | features. | | | | | | | | | | | | | | NOTE 2: | | | | | | | When the | | | | | | | \"AkmaAf | | | | | | | KeyData\" | | | | | | | data | | | | | | | structure | | | | | | | is used | | | | | | | in the | | | | | | | current | | | | | | | release | | | | | | | of this | | | | | | | speci | | | | | | | fication, | | | | | | | the | | | | | | | \"gpsi\" | | | | | | | attribute | | | | | | | may be | | | | | | | included | | | | | | | and the | | | | | | | \"supi\" | | | | | | | attribute | | | | | | | is not | | | | | | | ap | | | | | | | plicable. | | | | | | | | | | | | | | NOTE 3 | | | | | | | When the | | | | | | | \" | | | | | | | anonInd\" | | | | | | | attribute | | | | | | | contained | | | | | | | in | | | | | | | AkmaAfK | | | | | | | eyRequest | | | | | | | data type | | | | | | | is set to | | | | | | | \"true\" | | | | | | | in the | | | | | | | incoming | | | | | | | request, | | | | | | | the | | | | | | | \"gpsi\" | | | | | | | attribute | | | | | | | shall not | | | | | | | be | | | | | | | included. | | | | | | +-----------+-----------+---+-----------+-----------+-----------+
#### 5.14.5.4 Simple data types and enumerations
##### 5.14.5.4.1 Introduction
This clause defines simple data types and enumerations that can be referenced
from data structures defined in the previous clauses.
##### 5.14.5.4.2 Simple data types
The simple data types defined in table 5.14.5.4.2-1 shall be supported.
Table 5.14.5.4.2-1: Simple data types
+-----------+-----------------+-------------------+---------------+ | Type Name | Type Definition | Description | Applicability | +-----------+-----------------+-------------------+---------------+ | AfId | string | Identification of | | | | | AF which is | | | | | formatted as the | | | | | following string: | | | | | | | | | | \"\.\\", wherein, | | | | | \ is the | | | | | FQDN of the AF | | | | | and \ is a string | | | | | of 5 octet and | | | | | the | | | | | identification of | | | | | the Ua* security | | | | | protocol is | | | | | specified as Ua | | | | | security protocol | | | | | identifier in | | | | | Annex H of | | | | | 3GPP | | | | | TS 33.220 [39] | | | | | that the AF will | | | | | use with the UE. | | | | | | | | | | Example: | | | | | | | | | | 1. FQDN: | | | | | ww | | | | | w.app1.com, | | | | | Ua* security | | | | | protocol id: | | | | | 0100BC0001, then | | | | | AfId: | | | | | www.a | | | | | pp1.com.0100BC000 | | | | | 1 | | +-----------+-----------------+-------------------+---------------+ | AKId | string | AKMA Key | | | | | Identifier shall | | | | | be in NAI format | | | | | as specified in | | | | | clause 2.2 of | | | | | IETF | | | | | RFC 7542 [40], | | | | | which is | | | | | formatted as the | | | | | following string: | | | | | | | | | | \"\@\\", | | | | | wherein, | | | | | \ | | | | | shall include | | | | | Routing | | | | | Indicatorand the | | | | | A-TID in the | | | | | format | | | | | \"rid\ | | | | | .atid\\", | | | | | where \"rid\" and | | | | | \"atid\" are | | | | | labels indicating | | | | | Routing Indicator | | | | | and A-TID and | | | | | \ shall | | | | | include Home | | | | | Network Id. | | | | | | | | | | Example: | | | | | | | | | | 1. If Routing | | | | | Indicator: 012, | | | | | A-TID: 019345346 | | | | | and Home Network | | | | | Id: | | | | | 5gc.mnc012.mcc345 | | | | | .3gppnetwork.org, | | | | | then AKId: | | | | | rid0 | | | | | 12.akid019345346\ | | | | | @5gc.mnc012.mcc34 | | | | | 5.3gppnetwork.org | | | | | | | | | | Routing | | | | | Indicator, Home | | | | | Network Id are | | | | | specified in | | | | | 3GPP | | | | | TS 23.003 [55]. | | | | | | | | | | A-TID is | | | | | specified in | | | | | 3GPP | | | | | TS 33.535 [38]. | | +-----------+-----------------+-------------------+---------------+
### 5.14.6 Used Features
The table below defines the features applicable to the AKMA API. Those
features are negotiated as described in clause 5.2.7 of 3GPP TS 29.122 [4].
Table 5.14.6-1: Features used by AKMA API
* * *
Feature number Feature Name Description
* * *
### 5.14.7 Error handling
#### 5.14.7.1 General
HTTP error handling shall be supported as specified in clause 5.2.6 of 3GPP TS
29.122 [4].
In addition, the requirements in the following clauses shall apply.
#### 5.14.7.2 Protocol Errors
In this Release of the specification, there are no additional protocol errors
applicable for the AKMA API.
#### 5.14.7.3 Application Errors
The application errors defined for the AKMA API are listed in table
5.14.7.3-1.
Table 5.14.7.3-1: Application errors
* * *
**Application Error** **HTTP status code** **Description** K_AKMA_NOT_PRESENT
403 Forbidden Indicates that the K~AKMA~ identified by the A-KID provided in
the AKMA Application Key retrieval request body is not present at the AAnF.
* * *
## 5.15 TimeSyncExposure API
### 5.15.0 Introduction
The Nnef_TimeSyncExposure service shall use the TimeSyncExposure API.
The API URI of TimeSyncExposure API shall be:
**{apiRoot}/3gpp-time-sync/v1**
with the following components:
\- \"apiRoot\" is set as defined in clause 5.2.4 of 3GPP TS 29.122 [4].
\- \"apiName\" shall be set to \"3gpp-time-sync\".
\- \"apiVersion\" shall be set to \"v1\" for the current version defined in
the present document.
All resource URIs in the clauses below are defined relative to the above API
URI.
### 5.15.1 Resources
#### 5.15.1.1 Overview
This clause describes the structure for the Resource URIs as shown in figure
5.15.1.1-1 and the resources and HTTP methods used for the TimeSyncExposure
API.
Figure 5.15.1.1-1: Resource URI structure of the TimeSyncExposure API
Table 5.15.1.1-1 provides an overview of the resources and HTTP methods
applicable for the TimeSyncExposure API.
Table 5.15.1.1-1: Resources and methods overview
* * *
Resource name Resource URI HTTP method Description Time Synchronization
Exposure Subscriptions /{afId}/subscriptions GET Read all subscriptions for a
given AF. POST Create a new subscription to time synchronization exposure.
Individual Time Synchronization Exposure Subscription
/{afId}/subscriptions/{subscriptionId} GET Read a subscription to time
synchronization exposure. PUT Modify all of the properties of an existing
subscription to time synchronization exposure. DELETE Delete a subscription to
time synchronization exposure. Time Synchronization Exposure Configurations
/{afId}/subscriptions/{subscriptionId}/configurations GET Read all
configurations for a given AF and subscription. POST Create a new
configuration to time synchronization exposure Individual Time Synchronization
Exposure Configuration
/{afId}/subscriptions/{subscriptionId}/configurations/{instanceReference} GET
Read a configuration to time synchronization exposure. PUT Modify all of the
properties of an existing configuration to time synchronization exposure.
DELETE Delete a configuration to time synchronization exposure. DELETE DELETE
a new configuration of 5G access stratum time distribution.
* * *
#### 5.15.1.2 Resource: Time Synchronization Exposure Subscriptions
##### 5.15.1.2.1 Introduction
This resource allows an AF to read all active time synchronization exposure
subscribtions for the given AF, or allows an AF to create a new Individual
Time Synchronization Exposure Subscription in the NEF.
##### 5.15.1.2.2 Resource Definition
Resource URI: **{apiRoot}/3gpp-time-sync/v1/{afId}/subscriptions**
This resource shall support the resource URI variables defined in table
5.15.1.2.2-1.
Table 5.15.1.2.2-1: Resource URI variables for this resource
* * *
Name Data type Definition apiRoot string Clause 5.2.4 of 3GPP TS 29.122 [4].
afId string Identifier of the AF.
* * *
##### 5.15.1.2.3 Resource Methods
###### 5.15.1.2.3.1 General
The following clauses specify the resource methods supported by the resource
as described in clause 5.15.1.2.2.
###### 5.15.1.2.3.2 GET
The GET method allows to read all active subscriptions for a given AF. The AF
shall initiate the HTTP GET request message and the NEF shall respond to the
message.
This method shall support the URI query parameters specified in table
5.15.1.2.3.2-1.
Table 5.15.1.2.3.2-1: URI query parameters supported by the GET method on this
resource
* * *
Name Data type P Cardinality Description supp-feat SupportedFeatures O 0..1
The features supported by the NF service consumer.
* * *
This method shall support the request data structures specified in table
5.15.1.2.3.2-2 and the response data structures and response codes specified
in table 5.15.1.2.3.2-3.
Table 5.15.1.2.3.2-2: Data structures supported by the GET Request Body on
this resource
* * *
Data type P Cardinality Description N/A
* * *
Table 5.15.1.2.3.2-3: Data structures supported by the GET Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | ar | M | 0..N | 200 OK | The | | ray(TimeSyncE | | | | subscription | | xposureSubsc) | | | | information | | | | | | for the AF in | | | | | | the request | | | | | | URI are | | | | | | returned. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 307 Temporary | Temporary | | | | | Redirect | redirection, | | | | | | during | | | | | | subscription | | | | | | retrieval. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 308 Permanent | Permanent | | | | | Redirect | redirection, | | | | | | during | | | | | | subscription | | | | | | retrieval. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the GET | | | | | | method listed | | | | | | in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.15.1.2.3.2-4: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
Table 5.15.1.2.3.2-5: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
###### 5.15.1.2.3.3 POST
The POST method creates a new subscription resource to time synchronization
exposure subscription for a given AF. The AF shall initiate the HTTP POST
request message and the NEF shall respond to the message. The NEF shall
construct the URI of the created resource.
This method shall support the request data structures specified in table
5.15.1.2.3.3-1 and the response data structures and response codes specified
in table 5.15.1.2.3.3-2.
Table 5.15.1.2.3.3-1: Data structures supported by the POST Request Body on
this resource
* * *
Data type P Cardinality Description TimeSyncExposureSubsc M 1 Contains the
information for the creation of a new Individual Time Synchronization Exposure
Subscription resource**.**
* * *
Table 5.15.1.2.3.3-2: Data structures supported by the POST Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | TimeSync | M | 1 | 201 Created | The | | ExposureSubsc | | | | subscription | | | | | | was created | | | | | | successfully. | | | | | | | | | | | | The URI of | | | | | | the created | | | | | | resource | | | | | | shall be | | | | | | returned in | | | | | | the | | | | | | \"Location\" | | | | | | HTTP header. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the POST | | | | | | method listed | | | | | | in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.15.1.2.3.3-3: Headers supported by the 201 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 Contains the URI
of the newly created resource, according to the structure: {apiRoot}/3gpp-
time-sync/v1/{afId}/subscriptions/{subscriptionId}
* * *
#### 5.15.1.3 Resource: Individual Time Synchronization Exposure Subscription
##### 5.15.1.3.1 Introduction
This resource allows an AF to read, update or delete an existing Individual
Time Synchronization Exposure Subscription.
##### 5.15.1.3.2 Resource Definition
Resource URI: **{apiRoot}/3gpp-time-
sync/v1/{afId}/subscriptions/{subscriptionId}**
This resource shall support the resource URI variables defined in table
5.15.1.3.2-1.
Table 5.15.1.3.2-1: Resource URI variables for this resource
* * *
Name Data type Definition apiRoot string Clause 5.2.4 of 3GPP TS 29.122 [4].
afId string Identifier of the AF. subscriptionId string Identifier of the
subscription resource.
* * *
##### 5.15.1.3.3 Resource Methods
###### 5.15.1.3.3.1 General
The following clauses specify the resource methods supported by the resource
as described in clause 5.15.1.3.2.
###### 5.15.1.3.3.2 GET
The GET method allows to read the active subscription for a given AF and
subscription Id. The AF shall initiate the HTTP GET request message and theNEF
shall respond to the message.
This method shall support the URI query parameters specified in table
5.15.1.3.3.2-1.
Table 5.15.1.3.3.2-1: URI query parameters supported by the GET method on this
resource
* * *
Name Data type P Cardinality Description supp-feat SupportedFeatures O 0..1
The features supported by the NF service consumer.
* * *
This method shall support the request data structures specified in table
5.15.1.3.3.2-2 and the response data structures and response codes specified
in table 5.15.1.3.3.2-3.
Table 5.15.1.3.3.2-2: Data structures supported by the GET Request Body on
this resource
* * *
Data type P Cardinality Description N/A
* * *
Table 5.15.1.3.3.2-3: Data structures supported by the GET Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | TimeSync | M | 1 | 200 OK | The | | ExposureSubsc | | | | subscription | | | | | | information | | | | | | for the AF in | | | | | | the request | | | | | | URI are | | | | | | returned. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 307 Temporary | Temporary | | | | | Redirect | redirection, | | | | | | during | | | | | | subscription | | | | | | retrieval. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 308 Permanent | Permanent | | | | | Redirect | redirection, | | | | | | during | | | | | | subscription | | | | | | retrieval. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the GET | | | | | | method listed | | | | | | in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.15.1.3.3.2-4: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
Table 5.15.1.3.3.2-5: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
###### 5.15.1.3.3.3 PUT
The PUT method modifies an existing subscription resource to update a
subscription. The AF shall initiate the HTTP PUT request message and the NEF
shall respond to the message.
This method shall support the request data structures specified in table
5.15.1.3.3.3-1 and the response data structures and response codes specified
in table 5.15.1.3.3.3-2.
Table 5.15.1.3.3.3-1: Data structures supported by the PUT Request Body on
this resource
* * *
Data type P Cardinality Description TimeSyncExposureSubsc M 1 Modify an
existing Time Synchronization Exposure Subscription.
* * *
Table 5.15.1.3.3.3-2: Data structures supported by the PUT Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | TimeSync | M | 1 | 200 OK | The | | ExposureSubsc | | | | subscription | | | | | | was updated | | | | | | successfully. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 204 No | The | | | | | Content | subscription | | | | | | was updated | | | | | | successfully. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 307 Temporary | Temporary | | | | | Redirect | redirection, | | | | | | during | | | | | | subscription | | | | | | modification. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 308 Permanent | Permanent | | | | | Redirect | redirection, | | | | | | during | | | | | | subscription | | | | | | modification. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the PUT | | | | | | method listed | | | | | | in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.15.1.3.3.3-3: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
Table 5.15.1.3.3.3-4: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
###### 5.15.1.3.3.4 DELETE
The DELETE method deletes the time synchronization exposure subscription for a
given AF. The AF shall initiate the HTTP DELETE request message and the NEF
shall respond to the message.
This method shall support the URI query parameters specified in table
5.15.1.3.3.4-1.
Table 5.15.1.3.3.4-1: URI query parameters supported by the DELETE method on
this resource
* * *
Name Data type P Cardinality Description N/A
* * *
This method shall support the request data structures specified in table
5.15.1.3.3.4-2 and the response data structures and response codes specified
in table 5.15.1.3.3.4-3.
Table 5.15.1.3.3.4-2: Data structures supported by the DELETE Request Body on
this resource
* * *
Data type P Cardinality Description N/A
* * *
Table 5.15.1.3.3.4-3: Data structures supported by the DELETE Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | N/A | | | 204 No | The | | | | | Content | subscription | | | | | | was | | | | | | terminated | | | | | | successfully. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 307 Temporary | Temporary | | | | | Redirect | redirection, | | | | | | during | | | | | | subscription | | | | | | termination. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 308 Permanent | Permanent | | | | | Redirect | redirection, | | | | | | during | | | | | | subscription | | | | | | termination. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the | | | | | | DELETE method | | | | | | listed in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.15.1.3.3.4-4: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
Table 5.15.1.3.3.4-5: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
#### 5.15.1.4 Resource: Time Synchronization Exposure Configurations
##### 5.15.1.4.1 Introduction
This resource allows an AF to read all active time synchronization exposure
configuration for the given AF and subscription, or allows an AF to create a
new time synchronization configuration and activate the time synchronization
service with the configuration.
##### 5.15.1.4.2 Resource Definition
Resource URI: **{apiRoot}/3gpp-time-
sync/v1/{afId}/subscriptions/{subscriptionId}/configurations**
This resource shall support the resource URI variables defined in table
5.15.1.4.2-1.
Table 5.15.1.4.2-1: Resource URI variables for this resource
* * *
Name Data type Definition apiRoot string Clause 5.2.4 of 3GPP TS 29.122 [4].
afId string Identifier of the AF. subscriptionId string Identifier of the
subscription resource.
* * *
##### 5.15.1.4.3 Resource Methods
###### 5.15.1.4.3.1 General
The following clauses specify the resource methods supported by the resource
as described in clause 5.15.1.4.3.
###### 5.15.1.4.3.2 GET
The GET method allows to read all active configurations for a given AF and
subscription. The AF shall initiate the HTTP GET request message and the NEF
shall respond to the message.
This method shall support the URI query parameters specified in table
5.15.1.4.3.2-1.
Table 5.15.1.4.3.2-1: URI query parameters supported by the GET method on this
resource
* * *
Name Data type P Cardinality Description N/A
* * *
This method shall support the request data structures specified in table
5.15.1.4.3.2-2 and the response data structures and response codes specified
in table 5.15.1.4.3.2-3.
Table 5.15.1.4.3.2-2: Data structures supported by the GET Request Body on
this resource
* * *
Data type P Cardinality Description N/A
* * *
Table 5.15.1.4.3.2-3: Data structures supported by the GET Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | arr | M | 0..N | 200 OK | The | | ay(TimeSyncEx | | | | configuration | | posureConfig) | | | | information | | | | | | for the AF in | | | | | | the request | | | | | | URI are | | | | | | returned. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 307 Temporary | Temporary | | | | | Redirect | redirection, | | | | | | during | | | | | | subscription | | | | | | retrieval. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 308 Permanent | Permanent | | | | | Redirect | redirection, | | | | | | during | | | | | | subscription | | | | | | retrieval. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the GET | | | | | | method listed | | | | | | in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.15.1.4.3.2-4: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
Table 5.15.1.4.3.2-5: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
###### 5.15.1.4.3.3 POST
The POST method creates a new configuration resource to activate time
synchronization service for a given AF. The AF shall initiate the HTTP POST
request message and the NEF shall respond to the message. The NEF shall
construct the URI of the created resource.
This method shall support the request data structures specified in table
5.15.1.4.3.3-1 and the response data structures and response codes specified
in table 5.15.1.4.3.3-2.
Table 5.15.1.4.3.3-1: Data structures supported by the POST Request Body on
this resource
* * *
Data type P Cardinality Description TimeSyncExposureConfig M 1 Parameters to
create a configuration and to activate time synchronization service.
* * *
Table 5.15.1.2.4.3-2: Data structures supported by the POST Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | TimeSyncE | M | 1 | 201 Created | The | | xposureConfig | | | | subscription | | | | | | was created | | | | | | successfully. | | | | | | | | | | | | The URI of | | | | | | the created | | | | | | resource | | | | | | shall be | | | | | | returned in | | | | | | the | | | | | | \"Location\" | | | | | | HTTP header. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the POST | | | | | | method listed | | | | | | in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.15.1.4.3.3-3: Headers supported by the 201 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 Contains the URI
of the newly created resource, according to the structure: {apiRoot}/3gpp-
time-
sync/v1/{afId}/subscriptions/{subscriptionId}/configurations/{instanceReference}
* * *
#### 5.15.1.5 Resource: Individual Time Synchronization Exposure Configuration
##### 5.15.1.5.1 Introduction
This resource allows an AF to read/modify/cancel a configuration to
active/modify/deactivate Time Synchronization service with the NEF.
##### 5.15.1.5.2 Resource Definition
Resource URI: **{apiRoot}/3gpp-time-
sync/v1/{afId}/subscriptions/{subscriptionId}/configuration/{instanceReference}**
This resource shall support the resource URI variables defined in table
5.15.1.5.2-1.
Table 5.15.1.5.2-1: Resource URI variables for this resource
* * *
Name Data type Definition apiRoot string Clause 5.2.4 of 3GPP TS 29.122 [4].
afId string Identifier of the AF. subscriptionId string Identifier of the
subscription resource. instanceReference string Identifier of the PTP instance
resource
* * *
##### 5.15.1.5.3 Resource Methods
###### 5.15.1.5.3.1 General
The following clauses specify the resource methods supported by the resource
as described in clause 5.15.1.5.2.
###### 5.15.1.5.3.2 GET
The GET method allows to read the active configuration for a given AF,
subscription Id and configuration Id. The AF shall initiate the HTTP GET
request message and the NEF shall respond to the message.
This method shall support the URI query parameters specified in table
5.15.1.5.3.2-1.
Table 5.15.1.5.3.2-1: URI query parameters supported by the GET method on this
resource
* * *
Name Data type P Cardinality Description N/A
* * *
This method shall support the request data structures specified in table
5.15.1.5.3.2-2 and the response data structures and response codes specified
in table 5.15.1.5.3.2-3.
Table 5.15.1.5.3.2-2: Data structures supported by the GET Request Body on
this resource
* * *
Data type P Cardinality Description N/A
* * *
Table 5.15.1.5.3.2-3: Data structures supported by the GET Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | TimeSyncE | M | 1 | 200 OK | The | | xposureConfig | | | | configuration | | | | | | information | | | | | | for the AF in | | | | | | the request | | | | | | URI are | | | | | | returned. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 307 Temporary | Temporary | | | | | Redirect | redirection, | | | | | | during | | | | | | subscription | | | | | | retrieval. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 308 Permanent | Permanent | | | | | Redirect | redirection, | | | | | | during | | | | | | subscription | | | | | | retrieval. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the GET | | | | | | method listed | | | | | | in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.15.1.5.3.2-4: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
Table 5.15.1.5.3.2-5: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
###### 5.15.1.5.3.3 PUT
The PUT method modifies an existing configuration resource to update a
configuration. The AF shall initiate the HTTP PUT request message and the NEF
shall respond to the message.
This method shall support the request data structures specified in table
5.15.1.5.3.3-1 and the response data structures and response codes specified
in table 5.15.1.5.3.3-2.
Table 5.15.1.5.3.3-1: Data structures supported by the PUT Request Body on
this resource
* * *
Data type P Cardinality Description TimeSyncExposureConfig M 1 Modify an
existing Time Synchronization Exposure Configuration.
* * *
Table 5.15.1.5.3.3-2: Data structures supported by the PUT Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | TimeSyncE | M | 1 | 200 OK | The | | xposureConfig | | | | subscription | | | | | | was updated | | | | | | successfully. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 204 No | The | | | | | Content | subscription | | | | | | was updated | | | | | | successfully. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 307 Temporary | Temporary | | | | | Redirect | redirection, | | | | | | during | | | | | | subscription | | | | | | modification. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 308 Permanent | Permanent | | | | | Redirect | redirection, | | | | | | during | | | | | | subscription | | | | | | modification. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the PUT | | | | | | method listed | | | | | | in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.15.1.5.3.3-3: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
Table 5.15.1.5.3.3-4: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
###### 5.15.1.5.3.4 DELETE
The DELETE method deletes the time synchronization exposure subscription for a
given AF. The AF shall initiate the HTTP DELETE request message and the NEF
shall respond to the message.
This method shall support the URI query parameters specified in table
5.15.1.5.3.4-1.
Table 5.15.1.5.3.4-1: URI query parameters supported by the DELETE method on
this resource
* * *
Name Data type P Cardinality Description N/A
* * *
This method shall support the request data structures specified in table
5.15.1.5.3.4-2 and the response data structures and response codes specified
in table 5.15.1.5.3.4-3.
Table 5.15.1.5.3.4-2: Data structures supported by the DELETE Request Body on
this resource
* * *
Data type P Cardinality Description N/A
* * *
Table 5.15.1.5.3.4-3: Data structures supported by the DELETE Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | N/A | | | 204 No | The | | | | | Content | configuration | | | | | | was | | | | | | terminated | | | | | | successfully. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 307 Temporary | Temporary | | | | | Redirect | redirection, | | | | | | during | | | | | | subscription | | | | | | termination. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 308 Permanent | Permanent | | | | | Redirect | redirection, | | | | | | during | | | | | | subscription | | | | | | termination. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the | | | | | | DELETE method | | | | | | listed in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.15.1.5.3.4-4: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
Table 5.15.1.5.3.4-5: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
### 5.15.2 Custom Operations without associated resources
There are no custom operations without associated resources defined for this
API in this release of the specification.
### 5.15.3 Notifications
#### 5.15.3.1 Introduction
.
Table 5.15.3.1-1: Notifications overview
+----------------+----------------+----------------+----------------+ | Notification | Callback URI | HTTP method or | Description | | | | custom | | | | | operation | (service | | | | | operation) | +----------------+----------------+----------------+----------------+ | Time | {subsNotifUri} | POST | Time | | S | | | S | | ynchronization | | | ynchronization | | Capability | | | Capability | | Notification | | | Notification | | | | | for a list of | | | | | UEs. | +----------------+----------------+----------------+----------------+ | Time | {c | POST | Current State | | S | onfigNotifUri} | | of Time | | ynchronization | | | S | | Configuration | | | ynchronization | | Notification | | | configuration | | | | | Notification. | +----------------+----------------+----------------+----------------+
#### 5.15.3.2 Time Synchronization Capability Notification
##### 5.15.3.2.1 Description
The Notification is used by the NEF to report the Time Synchronization
Capability to the AF.
##### 5.15.3.2.2 Callback URI
The Callback URI **\"{subsNotifUri}\"** shall be used with the callback URI
variables defined in table 5.15.3.2.2-1.
Table 5.15.3.2.2-1: Callback URI variables
* * *
Name Definition subsNotifUri Callback reference provided by the AF during
creation/modification of the subscription as defined in Table 5.15.4.3.2-1.
* * *
##### 5.15.3.2.3 Operation Definition
###### 5.15.3.2.3.1 Notification via HTTP POST
This method shall support the request data structures specified in table
5.15.3.2.3.1-1 and the response data structures and response codes specified
in table 5.15.3.2.3.1-2 and the Location Headers specified in table
5.15.3.2.3.1-3 and table 5.15.3.2.3.1-4.
Table 5.15.3.2.3.1-1: Data structures supported by the POST Request Body on
this resource
* * *
Data type P Cardinality Description TimeSyncExposureSubsNotif M 1 Provides the
time synchroniziation capabilities of a list of UEs by the NEF to the AF.
* * *
Table 5.15.3.2.3.1-2: Data structures supported by the POST Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | N/A | | | 204 No | The event | | | | | Content | notification | | | | | | is received | | | | | | successfully. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 307 Temporary | Temporary | | | | | Redirect | redirection, | | | | | | during event | | | | | | notification. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI | | | | | | representing | | | | | | the end point | | | | | | of an | | | | | | alternative | | | | | | AF where the | | | | | | notification | | | | | | should be | | | | | | sent. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 308 Permanent | Permanent | | | | | Redirect | redirection, | | | | | | during event | | | | | | notification. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI | | | | | | representing | | | | | | the end point | | | | | | of an | | | | | | alternative | | | | | | AF where the | | | | | | notification | | | | | | should be | | | | | | sent. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the POST | | | | | | method listed | | | | | | in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.15.3.2.3.1-3: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI representing the end point of an alternative AF towards which the
notification should be redirected.
* * *
Table 5.15.3.2.3.1-4: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI representing the end point of an alternative AF towards which the
notification should be redirected.
* * *
###### 5.15.3.2.3.2 Notification via Websocket
If supported by both AF and NEF and successfully negotiated, the Time
Synchroniaition Capability Notification may alternatively be delivered through
the Websocket mechanism as defined in clause 5.2.5.4 of 3GPP TS 29.122 [4].
#### 5.15.3.3 Time Synchronization Configuration Notification
##### 5.15.3.3.1 Description
The Notification is used by the NEF to report the state of Time
Synchronization service configuration to the AF.
##### 5.15.3.3.2 Callback URI
The Callback URI **\"{configNotifUri}\"** shall be used with the callback URI
variables defined in table 5.15.3.3.2-1.
Table 5.15.3.3.2-1: Callback URI variables
* * *
Name Definition configNotifUri Callback reference provided by the AF during
creation/modification of the configuration as defined in Table 5.15.4.3.6-1.
* * *
##### 5.15.3.3.3 Operation Definition
###### 5.15.3.3.3.1 Notification via HTTP POST
This method shall support the request data structures specified in table
5.15.3.3.3.1-1 and the response data structures and response codes specified
in table 5.15.3.3.3.1-2 and the Location Headers specified in table
5.15.3.3.3.1-3 and table 5.15.3.3.3.1-4.
Table 5.15.3.3.3.1-1: Data structures supported by the POST Request Body on
this resource
* * *
Data type P Cardinality Description TimeSyncExposureConfigNotif M 1 Provides
the current state of time synchroniziation service configuration by the NEF to
the AF.
* * *
Table 5.15.5.3.3.1-2: Data structures supported by the POST Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | N/A | | | 204 No | The | | | | | Content | notification | | | | | | is received | | | | | | successfully. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 307 Temporary | Temporary | | | | | Redirect | redirection, | | | | | | during event | | | | | | notification. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI | | | | | | representing | | | | | | the end point | | | | | | of an | | | | | | alternative | | | | | | AF where the | | | | | | notification | | | | | | should be | | | | | | sent. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 308 Permanent | Permanent | | | | | Redirect | redirection, | | | | | | during event | | | | | | notification. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI | | | | | | representing | | | | | | the end point | | | | | | of an | | | | | | alternative | | | | | | AF where the | | | | | | notification | | | | | | should be | | | | | | sent. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the POST | | | | | | method listed | | | | | | in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.15.3.3.3.1-3: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI representing the end point of an alternative AF towards which the
notification should be redirected.
* * *
Table 5.15.2.2.3.1-4: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI representing the end point of an alternative AF towards which the
notification should be redirected.
* * *
###### 5.15.3.3.3.2 Notification via Websocket
If supported by both AF and NEF and successfully negotiated, the state of Time
Synchroniaition Service Configuration Notification may alternatively be
delivered through the Websocket mechanism as defined in clause 5.2.5.4 of 3GPP
TS 29.122 [4].
### 5.15.4 Data Model
#### 5.15.4.1 General
This clause specifies the application data model supported by the
TimeSyncExposure API.
Table 5.15.4.1-1 specifies the data types defined for the TimeSyncExposure
API.
Table 5.15.4.1-1: TimeSyncExposure API specific Data Types
* * *
Data type Clause defined Description Applicability AsTimeResource 5.15.4.4.8
Identifies the supported 5G clock quality.  
ClockQualityAcceptanceCriteriaResult 5.15.4.3.20 Contains the clock quality
acceptance criteria result. NetTimeSyncStatus
AcceptanceCriteriaResultIndication 5.15.4.4.9 Contains the acceptable/not
acceptable indication of the clock quality acceptance criteria result
information. NetTimeSyncStatus TimeSyncStatusParam 5.15.4.3.21 Contains the
clock quality parameters. NetTimeSyncStatus ConfigForPort 5.15.4.3.18 Contains
configuration information for each port.  
EventFilter 5.15.4.3.10 Contains the filter conditions to match for notifying
the event(s) of time synchronization capabilities.  
GmCapable 5.15.4.4.5 Identifies the supported grandmaster.  
InstanceType 5.15.4.4.7 Identifies supported PTP instance type.  
Protocol 5.15.4.4.4 Identifies the supported protocol.  
PtpCapabilitiesPerUe 5.15.4.3.11 Contains the supported PTP capabilities per
UE.  
PtpInstance 5.15.4.3.12 Contains PTP instance configuration and activation
information requested by the AF.  
StageOfConfiguration 5.15.4.3.17 Contains the PTP port state of the time
synchronization configuration.  
StateOfDstt 5.15.4.3.19 Contains the PTP port state of a DS-TT  
SubscribedEvent 5.15.4.4.6 Identifies the supported event.  
SubsEventNotification 5.15.4.3.8 Represents the notification about a
subscribed Individual Event.  
SyncState 5.15.4.4.10 Contains the information on the node synchronization
status. NetTimeSyncStatus TimeSyncCapability 5.15.4.3.3 Contains the time
synchronization capability.  
TimeSyncExposureConfig 5.15.4.3.6 Contains the Time Synchronization
Configuration parameters.  
TimeSyncExposureConfigNotif 5.15.4.3.9 Contains the notification of time
synchronization service state.  
TimeSyncExposureSubsc 5.15.4.3.2 Contains the requested parameters for the
subscription to time synchronization capability notifications.  
TimeSyncExposureSubsNotif 5.15.4.3.7 Contains the notification of time
synchronization capability.
* * *
#### 5.15.4.2 Reused data types
The data types reused by the TimeSyncExposure API from other specifications
are listed in table 5.15.4.2-1.
Table 5.15.4.2-1: Re-used Data Types
* * *
Data type Reference Comments ClockQualityAcceptanceCriterion 3GPP TS 29.571
[8] Identifies clock quality acceptance criteria information.
ClockQualityDetailLevel 3GPP TS 29.571 [8] Identifies clock quality detail
level information. DateTime 3GPP TS 29.571 [8] Represents a data and a time.
Dnn 3GPP TS 29.571 [8] Identifies a DNN. ExternalGroupId 3GPP TS 29.122 [4]
External Group Identifier for a user group. NotificationMethod 3GPP TS 29.508
[26] Represents the notification method. Gpsi 3GPP TS 29.571 [8] Identifies a
GPSI. Snssai 3GPP TS 29.571 [8] Identifies the S-NSSAI. SpatialValidityCond
3GPP TS 29.571 [8] Represents the Spatial Validity Condition.
SupportedFeatures 3GPP TS 29.571 [8] Used to negotiate the applicability of
the optional features defined in table 5.15.5-1. Uinteger 3GPP TS 29.571 [8]
Unsigned integer. Uri 3GPP TS 29.571 [8] Identifies a referenced resource.
* * *
#### 5.15.4.3 Structured data types
##### 5.15.4.3.1 Introduction
This clause defines the structured data types to be used in resource
representations.
##### 5.15.4.3.2 Type: TimeSyncExposureSubsc
Table 5.15.4.3.2-1: Definition of type TimeSyncExposureSubsc
+-----------+-----------+---+-----------+-----------+-----------+ | Attribute | Data type | P | Ca | De | Appl | | name | | | rdinality | scription | icability | +-----------+-----------+---+-----------+-----------+-----------+ | ext | Extern | C | 0..1 | I | | | erGroupId | alGroupId | | | dentifies | | | | | | | a group | | | | | | | of UE(s) | | | | | | | for which | | | | | | | the time | | | | | | | synchr | | | | | | | onization | | | | | | | cap | | | | | | | abilities | | | | | | | is | | | | | | | r | | | | | | | equested. | | | | | | | (NOTE 1) | | +-----------+-----------+---+-----------+-----------+-----------+ | gpsis | ar | C | 1..N | Contains | | | | ray(Gpsi) | | | a list of | | | | | | | UE for | | | | | | | which the | | | | | | | time | | | | | | | synchr | | | | | | | onization | | | | | | | cap | | | | | | | abilities | | | | | | | is | | | | | | | r | | | | | | | equested. | | | | | | | (NOTE 1) | | +-----------+-----------+---+-----------+-----------+-----------+ | anyUeInd | boolean | C | 0..1 | I | | | | | | | dentifies | | | | | | | whether | | | | | | | the AF | | | | | | | request | | | | | | | applies | | | | | | | to any UE | | | | | | | (i.e. all | | | | | | | UEs). | | | | | | | This | | | | | | | attribute | | | | | | | shall set | | | | | | | to | | | | | | | \"true\" | | | | | | | if | | | | | | | a | | | | | | | pplicable | | | | | | | for any | | | | | | | UE, | | | | | | | o | | | | | | | therwise, | | | | | | | set to | | | | | | | \ | | | | | | | "false\". | | | | | | | (NOTE 1) | | | | | | | (NOTE 2) | | +-----------+-----------+---+-----------+-----------+-----------+ | no | Notificat | O | 0..1 | If | | | tifMethod | ionMethod | | | \"noti | | | | | | | fMethod\" | | | | | | | is not | | | | | | | supplied, | | | | | | | the | | | | | | | default | | | | | | | value | | | | | | | \"ON_ | | | | | | | EVENT_DE | | | | | | | TECTION\" | | | | | | | applies. | | +-----------+-----------+---+-----------+-----------+-----------+ | dnn | Dnn | C | 0..1 | I | | | | | | | dentifies | | | | | | | a DNN, a | | | | | | | full DNN | | | | | | | with both | | | | | | | the | | | | | | | Network | | | | | | | I | | | | | | | dentifier | | | | | | | and | | | | | | | Operator | | | | | | | Id | | | | | | | entifier, | | | | | | | or a DNN | | | | | | | with the | | | | | | | Network | | | | | | | I | | | | | | | dentifier | | | | | | | only. | | | | | | | (NOTE 2) | | +-----------+-----------+---+-----------+-----------+-----------+ | snssai | Snssai | C | 0..1 | I | | | | | | | dentifies | | | | | | | an | | | | | | | S-NSSAI. | | | | | | | (NOTE 2) | | +-----------+-----------+---+-----------+-----------+-----------+ | af | string | O | 0..1 | I | | | ServiceId | | | | dentifies | | | | | | | a service | | | | | | | on behalf | | | | | | | of which | | | | | | | the AF is | | | | | | | issuing | | | | | | | the | | | | | | | request. | | +-----------+-----------+---+-----------+-----------+-----------+ | subscri | arra | O | 1..N | I | | | bedEvents | y(Subscri | | | dentifies | | | | bedEvent) | | | the | | | | | | | re | | | | | | | quirement | | | | | | | to be | | | | | | | notified | | | | | | | of the | | | | | | | event(s). | | +-----------+-----------+---+-----------+-----------+-----------+ | eve | array(Eve | O | 1..N | Contains | | | ntFilters | ntFilter) | | | the | | | | | | | filter | | | | | | | c | | | | | | | onditions | | | | | | | to match | | | | | | | for | | | | | | | notifying | | | | | | | the | | | | | | | event(s) | | | | | | | of time | | | | | | | synchr | | | | | | | onization | | | | | | | cap | | | | | | | abilities | | | | | | | for a | | | | | | | list of | | | | | | | UE(s). | | +-----------+-----------+---+-----------+-----------+-----------+ | sub | Uri | M | 1 | Not | | | sNotifUri | | | | ification | | | | | | | URI for | | | | | | | time | | | | | | | sensitive | | | | | | | c | | | | | | | apability | | | | | | | r | | | | | | | eporting. | | +-----------+-----------+---+-----------+-----------+-----------+ | su | string | M | 1 | Not | | | bsNotifId | | | | ification | | | | | | | Co | | | | | | | rrelation | | | | | | | ID | | | | | | | assigned | | | | | | | by the NF | | | | | | | service | | | | | | | consumer. | | +-----------+-----------+---+-----------+-----------+-----------+ | max | Uinteger | O | 0..1 | If | | | ReportNbr | | | | omitted, | | | | | | | there is | | | | | | | no limit. | | +-----------+-----------+---+-----------+-----------+-----------+ | expiry | DateTime | C | 0..1 | This | | | | | | | attribute | | | | | | | indicates | | | | | | | the | | | | | | | expiry | | | | | | | time of | | | | | | | the | | | | | | | subs | | | | | | | cription, | | | | | | | after | | | | | | | which the | | | | | | | NEF shall | | | | | | | not send | | | | | | | any event | | | | | | | noti | | | | | | | fications | | | | | | | and the | | | | | | | sub | | | | | | | scription | | | | | | | becomes | | | | | | | invalid. | | | | | | | It may be | | | | | | | included | | | | | | | in an | | | | | | | event | | | | | | | sub | | | | | | | scription | | | | | | | request | | | | | | | and may | | | | | | | be | | | | | | | included | | | | | | | in an | | | | | | | event | | | | | | | sub | | | | | | | scription | | | | | | | response | | | | | | | based on | | | | | | | operator | | | | | | | policies. | | | | | | | If an | | | | | | | expiry | | | | | | | time was | | | | | | | included | | | | | | | in the | | | | | | | request, | | | | | | | then the | | | | | | | expiry | | | | | | | time | | | | | | | returned | | | | | | | in the | | | | | | | response | | | | | | | should be | | | | | | | less than | | | | | | | or equal | | | | | | | to that | | | | | | | value. If | | | | | | | the | | | | | | | expiry | | | | | | | time is | | | | | | | not | | | | | | | included | | | | | | | in the | | | | | | | response, | | | | | | | the NF | | | | | | | service | | | | | | | consumer | | | | | | | shall not | | | | | | | associate | | | | | | | an expiry | | | | | | | time for | | | | | | | the | | | | | | | subs | | | | | | | cription. | | +-----------+-----------+---+-----------+-----------+-----------+ | repPeriod | Du | C | 0..1 | Is | | | | rationSec | | | supplied | | | | | | | for | | | | | | | not | | | | | | | ification | | | | | | | Method | | | | | | | \"pe | | | | | | | riodic\". | | +-----------+-----------+---+-----------+-----------+-----------+ | reque | boolean | O | 0..1 | Set to | Notific | | stTestNot | | | | true by | ation_te | | ification | | | | the AF to | st_event | | | | | | request | | | | | | | the NEF | | | | | | | to send a | | | | | | | test | | | | | | | not | | | | | | | ification | | | | | | | as | | | | | | | defined | | | | | | | in | | | | | | | claus | | | | | | | e 5.2.5.3 | | | | | | | of | | | | | | | 3GP | | | | | | | P TS 29.1 | | | | | | | 22 [4]. | | | | | | | Set to | | | | | | | false or | | | | | | | omitted | | | | | | | o | | | | | | | therwise. | | +-----------+-----------+---+-----------+-----------+-----------+ | websockNo | WebsockNo | O | 0..1 | Conf | Notif | | tifConfig | tifConfig | | | iguration | ication_ | | | | | | p | websocket | | | | | | arameters | | | | | | | to set up | | | | | | | not | | | | | | | ification | | | | | | | delivery | | | | | | | over | | | | | | | Websocket | | | | | | | protocol. | | +-----------+-----------+---+-----------+-----------+-----------+ | suppFeat | Supporte | C | 0..1 | R | | | | dFeatures | | | epresents | | | | | | | the | | | | | | | features | | | | | | | supported | | | | | | | by the NF | | | | | | | service | | | | | | | consumer. | | | | | | | This | | | | | | | parameter | | | | | | | shall be | | | | | | | supplied | | | | | | | by the NF | | | | | | | service | | | | | | | consumer | | | | | | | in the | | | | | | | POST | | | | | | | request | | | | | | | and the | | | | | | | response | | | | | | | that | | | | | | | requested | | | | | | | the | | | | | | | creation | | | | | | | of an | | | | | | | I | | | | | | | ndividual | | | | | | | Time | | | | | | | Synchr | | | | | | | onization | | | | | | | Sub | | | | | | | scription | | | | | | | resource. | | +-----------+-----------+---+-----------+-----------+-----------+ | NOTE 1: | | | | | | | Only one | | | | | | | of the | | | | | | | p | | | | | | | roperties | | | | | | | \ | | | | | | | "gpsis\", | | | | | | | \"a | | | | | | | nyUeInd\" | | | | | | | or | | | | | | | \ | | | | | | | "external | | | | | | | GroupId\" | | | | | | | shall be | | | | | | | included. | | | | | | | | | | | | | | NOTE 2 | | | | | | | The | | | | | | | p | | | | | | | roperties | | | | | | | of | | | | | | | \"a | | | | | | | nyUeInd\" | | | | | | | may be | | | | | | | included | | | | | | | only when | | | | | | | the | | | | | | | p | | | | | | | roperties | | | | | | | of | | | | | | | \"dnn\" | | | | | | | and | | | | | | | \ | | | | | | | "snssai\" | | | | | | | are | | | | | | | included. | | | | | | +-----------+-----------+---+-----------+-----------+-----------+
##### 5.15.4.3.3 Type: TimeSyncCapability
Table 5.15.4.3.3-1: Definition of type TimeSyncCapability
+-----------+-----------+---+-----------+-----------+-----------+ | Attribute | Data type | P | Ca | De | Appl | | name | | | rdinality | scription | icability | +-----------+-----------+---+-----------+-----------+-----------+ | upNodeId | Uint64 | M | 1 | I | | | | | | | dentifies | | | | | | | the | | | | | | | a | | | | | | | pplicable | | | | | | | NW-TT. | | | | | | | Contains | | | | | | | a TSC | | | | | | | user | | | | | | | plane | | | | | | | node Id. | | | | | | | If | | | | | | | i | | | | | | | ntegrated | | | | | | | with TSN, | | | | | | | the user | | | | | | | plane | | | | | | | node Id | | | | | | | is a | | | | | | | bridge Id | | | | | | | defined | | | | | | | in | | | | | | | IEEE 802. | | | | | | | 1Q [51] | | | | | | | claus | | | | | | | e 14.2.5. | | +-----------+-----------+---+-----------+-----------+-----------+ | g | array(G | C | 1..N | Indicates | | | mCapables | mCapable) | | | whether | | | | | | | user | | | | | | | plane | | | | | | | node | | | | | | | supports | | | | | | | acting as | | | | | | | a gPTP | | | | | | | and/or | | | | | | | PTP | | | | | | | gra | | | | | | | ndmaster. | | | | | | | | | | | | | | (NOTE) | | +-----------+-----------+---+-----------+-----------+-----------+ | asTimeRes | AsTim | C | 0..1 | Indicates | | | | eResource | | | the | | | | | | | supported | | | | | | | 5G clock | | | | | | | quality | | | | | | | (i.e. the | | | | | | | source of | | | | | | | time used | | | | | | | by the | | | | | | | 5GS). | | | | | | | (NOTE) | | +-----------+-----------+---+-----------+-----------+-----------+ | ptp | map(Ptp | C | 1..N | Contains | | | CapForUes | Capabilit | | | the PTP | | | | iesPerUe) | | | cap | | | | | | | abilities | | | | | | | supported | | | | | | | by the | | | | | | | list of | | | | | | | UE(s). | | | | | | | The key | | | | | | | of the | | | | | | | map is | | | | | | | the gpsi. | | | | | | | | | | | | | | Shall be | | | | | | | present | | | | | | | if the | | | | | | | \"gmC | | | | | | | apables\" | | | | | | | attribute | | | | | | | is | | | | | | | included. | | +-----------+-----------+---+-----------+-----------+-----------+ | NOTE: At | | | | | | | least one | | | | | | | of the | | | | | | | \"gmC | | | | | | | apables\" | | | | | | | attribute | | | | | | | and | | | | | | | \"as | | | | | | | TimeRes\" | | | | | | | attribute | | | | | | | shall be | | | | | | | included. | | | | | | +-----------+-----------+---+-----------+-----------+-----------+
##### 5.15.4.3.4 Void
##### 5.15.4.3.5 Void
##### 5.15.4.3.6 Type: TimeSyncExposureConfig
Table 5.15.4.3.6-1: Definition of type TimeSyncExposureConfig
+-----------+-----------+---+-----------+-----------+-----------+ | Attribute | Data type | P | Ca | De | Appl | | name | | | rdinality | scription | icability | +-----------+-----------+---+-----------+-----------+-----------+ | upNodeId | Uint64 | M | 1 | I | | | | | | | dentifies | | | | | | | the | | | | | | | a | | | | | | | pplicable | | | | | | | NW-TT. | | | | | | | Contains | | | | | | | a TSC | | | | | | | user | | | | | | | plane | | | | | | | node Id. | | | | | | | If | | | | | | | i | | | | | | | ntegrated | | | | | | | with TSN, | | | | | | | the user | | | | | | | plane | | | | | | | node Id | | | | | | | is a | | | | | | | bridge Id | | | | | | | defined | | | | | | | in | | | | | | | IEEE 802. | | | | | | | 1Q [41] | | | | | | | claus | | | | | | | e 14.2.5. | | +-----------+-----------+---+-----------+-----------+-----------+ | reqPtpIns | Pt | M | 1 | I | | | | pInstance | | | dentifies | | | | | | | the PtP | | | | | | | instance | | | | | | | conf | | | | | | | iguration | | | | | | | and | | | | | | | a | | | | | | | ctivation | | | | | | | requested | | | | | | | by the | | | | | | | AF. | | +-----------+-----------+---+-----------+-----------+-----------+ | gmEnable | boolean | C | 0..1 | Indicates | | | | | | | that the | | | | | | | AF | | | | | | | requests | | | | | | | 5GS to | | | | | | | act as a | | | | | | | gr | | | | | | | andmaster | | | | | | | for PTP | | | | | | | or gPTP | | | | | | | if it is | | | | | | | included | | | | | | | and set | | | | | | | to true. | | | | | | | The | | | | | | | default | | | | | | | value | | | | | | | \"false\" | | | | | | | shall | | | | | | | apply, if | | | | | | | the | | | | | | | attribute | | | | | | | is not | | | | | | | present. | | +-----------+-----------+---+-----------+-----------+-----------+ | gmPrio | Uinteger | C | 0..1 | Indicates | | | | | | | a | | | | | | | priority | | | | | | | used as | | | | | | | d | | | | | | | efaultDS. | | | | | | | priority1 | | | | | | | when | | | | | | | g | | | | | | | enerating | | | | | | | Announce | | | | | | | message | | | | | | | when 5GS | | | | | | | acts as | | | | | | | (g)PTP | | | | | | | GM. It | | | | | | | may be | | | | | | | present | | | | | | | if the | | | | | | | \"g | | | | | | | mEnable\" | | | | | | | is set to | | | | | | | true. | | +-----------+-----------+---+-----------+-----------+-----------+ | timeDom | Uinteger | M | 1 | Indicate | | | | | | | the | | | | | | | (g)PTP | | | | | | | domain | | | | | | | that the | | | | | | | (TSN)AF | | | | | | | is | | | | | | | located | | | | | | | in. | | +-----------+-----------+---+-----------+-----------+-----------+ | timeSy | Uinteger | O | 0..1 | Indicates | | | ncErrBdgt | | | | the time | | | | | | | synchr | | | | | | | onization | | | | | | | error | | | | | | | budget | | | | | | | for the | | | | | | | time | | | | | | | synchr | | | | | | | onization | | | | | | | service | | | | | | | in units | | | | | | | of | | | | | | | nan | | | | | | | oseconds. | | | | | | | | | | | | | | Minimum = | | | | | | | 1. | | +-----------+-----------+---+-----------+-----------+-----------+ | tem | Tempora | O | 0..1 | Indicates | | | pValidity | lValidity | | | the time | | | | | | | period | | | | | | | when the | | | | | | | time | | | | | | | synchr | | | | | | | onization | | | | | | | service | | | | | | | for a PTP | | | | | | | instance | | | | | | | is | | | | | | | active. | | +-----------+-----------+---+-----------+-----------+-----------+ | confi | Uri | M | 1 | Not | | | gNotifUri | | | | ification | | | | | | | URI for | | | | | | | conf | | | | | | | iguration | | | | | | | state | | | | | | | r | | | | | | | eporting. | | +-----------+-----------+---+-----------+-----------+-----------+ | conf | string | M | 1 | Not | | | igNotifId | | | | ification | | | | | | | Co | | | | | | | rrelation | | | | | | | ID | | | | | | | assigned | | | | | | | by the NF | | | | | | | service | | | | | | | consumer. | | +-----------+-----------+---+-----------+-----------+-----------+ | cov | S | O | 0..1 | Time | Cov | | erageArea | patialVal | | | Synchr | erageArea | | | idityCond | | | onization | | | | | | | Coverage | | | | | | | Area. | | | | | | | (NOTE) | | +-----------+-----------+---+-----------+-----------+-----------+ | t | array(Ti | O | 1..N | Contains | | | imeSyncSt | meSyncSta | | | clock | | | atusParam | tusParam) | | | quality | | | | | | | detail | | | | | | | level and | | | | | | | clock | | | | | | | quality | | | | | | | a | | | | | | | cceptance | | | | | | | criteria | | | | | | | pa | | | | | | | rameters. | | +-----------+-----------+---+-----------+-----------+-----------+ | NOTE: The | | | | | | | \" | | | | | | | trackingA | | | | | | | reaList\" | | | | | | | attribute | | | | | | | within | | | | | | | the | | | | | | | \"cover | | | | | | | ageArea\" | | | | | | | attribute | | | | | | | is not | | | | | | | a | | | | | | | pplicable | | | | | | | for the | | | | | | | untrusted | | | | | | | AF. | | | | | | +-----------+-----------+---+-----------+-----------+-----------+
##### 5.15.4.3.7 Type: TimeSyncExposureSubsNotif
Table 5.15.4.3.7-1: Definition of type TimeSyncExposureSubsNotif
* * *
Attribute name Data type P Cardinality Description Applicability subsNotifId
string M 1 Notification Correlation ID assigned by the NF service consumer.  
eventNotifs array(SubsEventNotification) M 1..N Notifications about subscribed
Individual Events
* * *
##### 5.15.4.3.8 Type SubsEventNotification
Table 5.15.4.3.8-1: Definition of type SubsEventNotification
* * *
Attribute name Data type P Cardinality Description Applicability event
SubscribedEvent M 1 Subscribed events.  
timeSyncCapas array(TimeSyncCapability) O 1..N Contains a list of time
synchronization capabilities for the UE(s).
* * *
##### 5.15.4.3.9 Type: TimeSyncExposureConfigNotif
Table 5.15.4.3.9-1: Definition of type TimeSyncExposureConfigNotif
* * *
Attribute name Data type P Cardinality Description Applicability configNotifId
string M 1 Notification Correlation ID assigned by the NF service consumer.  
stateOfConfig StateOfConfiguration M 1 Indicates the current state of time
synchroniztion service configuration
* * *
##### 5.15.4.3.10 Type: EventFilter
Table 5.15.4.3.10-1: Definition of type EventFilter
* * *
Attribute name Data type P Cardinality Description Applicability instanceTypes
array(InstanceType) O 1..N Indicates the PTP instance type(s).  
transProtocols array(Protocol) O 1..N Indicates the transport protocol
type(s).  
ptpProfiles array(string) O 1..N Identifies the supported PTP profiles.
* * *
##### 5.15.4.3.11 Type: PtpCapabilitiesPerUe
Table 5.15.4.3.11-1: Definition of type PtpCapabilitiesPerUe
* * *
Attribute name Data type P Cardinality Description Applicability gpsi Gpsi M 1
Identifies the UE to which the reported PTP instance below apply.  
ptpCaps array(EventFilter) M 1..N Contains the reported PTP capabilities for
the UE.
* * *
##### 5.15.4.3.12 Type: PtpInstance
Table 5.15.4.3.12-1: Definition of type PtpInstance
* * *
Attribute name Data type P Cardinality Description Applicability instanceType
InstanceType M 1 Indicates the PTP instance type.  
protocol Protocol M 1 Indicates the protocol type.  
ptpProfile string M 1 Identifies the PTP profile.  
portConfigs arrary(ConfigForPort) O 1..N Contains the configurations for the
PTP port(s) in the PTP instance.
* * *
##### 5.15.4.3.13 Void
##### 5.15.4.3.14 Void
##### 5.15.4.3.15 Void
##### 5.15.4.3.16 Void
##### 5.15.4.3.17 Type: StateOfConfiguration
Table 5.15.4.3.17-1: Definition of type StateOfConfiguration
* * *
Attribute name Data type P Cardinality Description Applicability stateOfNwtt
boolean O 0..1 When the PTP port state is Leader, Follower or Passive, it is
included and set to true to indicate the state of configuration for NW-TT port
is active; when PTP port state is in any other case, it is included and set to
false to indicate the state of configuration for NW-TT port is inactive.
Default value is false. (NOTE)  
stateOfDstts array(StateOfDstt) O 1..N Contains the PTP port states of the DS-
TT(s).  
clkQltAcptCriReports array(ClockQualityAcceptanceCriteriaResult) O 1..N
Indicates the clock quality acceptance criteria changes (\"ACCEPTABLE\",
\"NOT_ACCEPTABLE\") for the indicated PTP port(s). NetTimeSyncStatus NOTE:
Leader and Follower terms in this specification are aligned with NOTE 2 in
clause 5.27.1.2.2.1 of 3GPP TS 23.501 [3].
* * *
##### 5.15.4.3.18 Type: ConfigForPort
Table 5.15.4.3.18-1: Definition of type ConfigForPort
+-----------+-----------+---+-----------+-----------+-----------+ | Attribute | Data type | P | Ca | De | Appl | | name | | | rdinality | scription | icability | +-----------+-----------+---+-----------+-----------+-----------+ | gpsi | Gpsi | C | 0..1 | I | | | | | | | dentifies | | | | | | | the | | | | | | | UE/DS-TT | | | | | | | which the | | | | | | | p | | | | | | | arameters | | | | | | | below | | | | | | | apply. | | +-----------+-----------+---+-----------+-----------+-----------+ | n6Ind | boolean | C | 0..1 | Indicates | | | | | | | the N6 | | | | | | | te | | | | | | | rmination | | | | | | | which the | | | | | | | p | | | | | | | arameters | | | | | | | below | | | | | | | apply. | | +-----------+-----------+---+-----------+-----------+-----------+ | ptpEnable | boolean | O | 0..1 | This is | | | | | | | used to | | | | | | | set the | | | | | | | portDS.po | | | | | | | rtEnable. | | | | | | | If | | | | | | | omitted, | | | | | | | the | | | | | | | default | | | | | | | value as | | | | | | | described | | | | | | | in the | | | | | | | PTP | | | | | | | Profile | | | | | | | is used | | +-----------+-----------+---+-----------+-----------+-----------+ | log | integer | O | 0..1 | Specifies | | | SyncInter | | | | the mean | | | | | | | time | | | | | | | interval | | | | | | | between | | | | | | | s | | | | | | | uccessive | | | | | | | Sync | | | | | | | messages. | | | | | | | This is | | | | | | | a | | | | | | | pplicable | | | | | | | for | | | | | | | IE | | | | | | | EE Std 15 | | | | | | | 88 [45] | | | | | | | Boundary | | | | | | | Clock or | | | | | | | IEEE | | | | | | | Std 802.1 | | | | | | | AS [46] | | | | | | | o | | | | | | | peration. | | | | | | | If | | | | | | | omitted, | | | | | | | the | | | | | | | default | | | | | | | value as | | | | | | | described | | | | | | | in the | | | | | | | PTP | | | | | | | Profile | | | | | | | is used. | | +-----------+-----------+---+-----------+-----------+-----------+ | logSyn | boolean | O | 0..1 | When set | | | cInterInd | | | | to FALSE, | | | | | | | the value | | | | | | | of | | | | | | | \"logSy | | | | | | | ncInter\" | | | | | | | attribute | | | | | | | is used | | | | | | | to set | | | | | | | the | | | | | | | init | | | | | | | ialLogSyn | | | | | | | cInterval | | | | | | | as | | | | | | | described | | | | | | | in | | | | | | | IEEE S | | | | | | | td 802.1A | | | | | | | S [46]. | | | | | | | When set | | | | | | | to TRUE, | | | | | | | the value | | | | | | | of | | | | | | | \"logSy | | | | | | | ncInter\" | | | | | | | attribute | | | | | | | is used | | | | | | | to set | | | | | | | the | | | | | | | mgtSetta | | | | | | | bleLogSyn | | | | | | | cInterval | | | | | | | as | | | | | | | described | | | | | | | in | | | | | | | IEEE S | | | | | | | td 802.1A | | | | | | | S [46]. | | | | | | | | | | | | | | If | | | | | | | omitted, | | | | | | | the | | | | | | | default | | | | | | | value as | | | | | | | described | | | | | | | in the | | | | | | | IEEE | | | | | | | Std 802.1 | | | | | | | AS [46] | | | | | | | is used. | | +-----------+-----------+---+-----------+-----------+-----------+ | logA | integer | O | 0..1 | Specifies | | | nnouInter | | | | the mean | | | | | | | time | | | | | | | interval | | | | | | | between | | | | | | | s | | | | | | | uccessive | | | | | | | Announce | | | | | | | messages. | | | | | | | This is | | | | | | | a | | | | | | | pplicable | | | | | | | for | | | | | | | IE | | | | | | | EE Std 15 | | | | | | | 88 [45] | | | | | | | Boundary | | | | | | | Clock or | | | | | | | IEEE | | | | | | | Std 802.1 | | | | | | | AS [46] | | | | | | | o | | | | | | | peration. | | | | | | | If | | | | | | | omitted, | | | | | | | the | | | | | | | default | | | | | | | value as | | | | | | | described | | | | | | | in the | | | | | | | PTP | | | | | | | Profile | | | | | | | is used. | | +-----------+-----------+---+-----------+-----------+-----------+ | logAnno | boolean | O | 0..1 | When set | | | uInterInd | | | | to FALSE, | | | | | | | the value | | | | | | | of | | | | | | | \"logAnn | | | | | | | ouInter\" | | | | | | | attribute | | | | | | | is used | | | | | | | to set | | | | | | | the | | | | | | | initialL | | | | | | | ogAnnounc | | | | | | | eInterval | | | | | | | as | | | | | | | described | | | | | | | in | | | | | | | IE | | | | | | | EE 802.1A | | | | | | | S [46]. | | | | | | | When set | | | | | | | to TRUE, | | | | | | | the value | | | | | | | of | | | | | | | \"logAnn | | | | | | | ouInter\" | | | | | | | attribute | | | | | | | is used | | | | | | | to set | | | | | | | the | | | | | | | mgt | | | | | | | SettableL | | | | | | | ogAnnounc | | | | | | | eInterval | | | | | | | as | | | | | | | described | | | | | | | in | | | | | | | IEEE S | | | | | | | td 802.1A | | | | | | | S [46]. | | | | | | | | | | | | | | If | | | | | | | omitted, | | | | | | | the | | | | | | | default | | | | | | | value as | | | | | | | described | | | | | | | in the | | | | | | | IEE | | | | | | | E Std 802 | | | | | | | .1AS [46 | | | | | | | is used. | | +-----------+-----------+---+-----------+-----------+-----------+ | NOTE: | | | | | | | Either | | | | | | | \"gpsi\" | | | | | | | or | | | | | | | \"n6Ind\" | | | | | | | attribute | | | | | | | shall be | | | | | | | included. | | | | | | +-----------+-----------+---+-----------+-----------+-----------+
##### 5.15.4.3.19 Type: StateOfDstt
Table 5.15.4.3.19-1: Definition of type StateOfDstt
* * *
Attribute name Data type P Cardinality Description Applicability gpsi Gpsi M 1
Identifies the UE/DS-TT which the parameters below apply.  
state boolean M 1 When the PTP port state is Leader, Follower or Passive, it
is included and set to true to indicate the state of configuration for DS-TT
port is active; when PTP port state is in any other case, it is included and
set to false to indicate the state of configuration for DS-TT port is
inactive. Default value is false.  
NOTE: Leader and Follower terms in this specification are aligned with NOTE 2
in clause 5.27.1.2.2.1 of TS 23.501 [3].
* * *
##### 5.15.4.3.20 Type: ClockQualityAcceptanceCriteriaResult
Table 5.15.4.3.20-1: Definition of type ClockQualityAcceptanceCriteriaResult
+-----------+-----------+---+-----------+-----------+-----------+ | Attribute | Data type | P | Ca | De | Appl | | name | | | rdinality | scription | icability | +-----------+-----------+---+-----------+-----------+-----------+ | supi | Supi | C | 0..1 | I | | | | | | | dentifies | | | | | | | the UE to | | | | | | | which the | | | | | | | clock | | | | | | | quality | | | | | | | a | | | | | | | cceptance | | | | | | | criteria | | | | | | | result | | | | | | | below | | | | | | | apply. | | | | | | | | | | | | | | (NOTE 1) | | | | | | | (NOTE 2) | | +-----------+-----------+---+-----------+-----------+-----------+ | gpsi | Gpsi | C | 0..1 | I | | | | | | | dentifies | | | | | | | the UE to | | | | | | | which the | | | | | | | clock | | | | | | | quality | | | | | | | a | | | | | | | cceptance | | | | | | | criteria | | | | | | | result | | | | | | | below | | | | | | | apply. | | | | | | | | | | | | | | (NOTE 1) | | +-----------+-----------+---+-----------+-----------+-----------+ | c | Accepta | M | 1 | Indicates | | | lkQltAcpt | nceCriter | | | if the | | | CriResInd | iaResultI | | | clock | | | | ndication | | | quality | | | | | | | a | | | | | | | cceptance | | | | | | | criteria | | | | | | | for the | | | | | | | service | | | | | | | can be | | | | | | | met or | | | | | | | not.\ | | | | | | | A | | | | | | | cceptable | | | | | | | = PTP | | | | | | | port | | | | | | | meets the | | | | | | | clock | | | | | | | quality | | | | | | | a | | | | | | | cceptance | | | | | | | criteria. | | | | | | | | | | | | | | Non | | | | | | | a | | | | | | | cceptable | | | | | | | = PTP | | | | | | | port does | | | | | | | not meet | | | | | | | the clock | | | | | | | quality | | | | | | | a | | | | | | | cceptance | | | | | | | criteria. | | +-----------+-----------+---+-----------+-----------+-----------+ | NOTE 1: | | | | | | | Either | | | | | | | the | | | | | | | "supi" or | | | | | | | the | | | | | | | "gpsi" | | | | | | | attribute | | | | | | | is | | | | | | | included, | | | | | | | based on | | | | | | | whether | | | | | | | the | | | | | | | request | | | | | | | contained | | | | | | | an | | | | | | | internal | | | | | | | or an | | | | | | | external | | | | | | | id | | | | | | | entifier. | | | | | | | | | | | | | | NOTE 2: | | | | | | | When the | | | | | | | "C | | | | | | | lockQuali | | | | | | | tyAccepta | | | | | | | nceCriter | | | | | | | iaResult" | | | | | | | data | | | | | | | structure | | | | | | | is used | | | | | | | in the | | | | | | | current | | | | | | | release | | | | | | | of this | | | | | | | speci | | | | | | | fication, | | | | | | | the | | | | | | | "gpsi" | | | | | | | attribute | | | | | | | shall be | | | | | | | included | | | | | | | and the | | | | | | | "supi" | | | | | | | attribute | | | | | | | is not | | | | | | | ap | | | | | | | plicable. | | | | | | +-----------+-----------+---+-----------+-----------+-----------+
##### 5.15.4.3.21 Type: TimeSyncStatusParam
Table 5.15.4.3.21-1: Definition of type TimeSyncStatusParam
+-----------+-----------+---+-----------+-----------+-----------+ | Attribute | Data type | P | Ca | De | Appl | | name | | | rdinality | scription | icability | +-----------+-----------+---+-----------+-----------+-----------+ | supi | Supi | C | 0..1 | **Sub | | | | | | | scription | | | | | | | Permanent | | | | | | | Id | | | | | | | entifier. | | | | | | | (NOTE 1) | | | | | | | ( | | | | | | | NOTE 2)** | | +-----------+-----------+---+-----------+-----------+-----------+ | gpsi | Gpsi | C | 0..1 | **Generic | | | | | | | Public | | | | | | | Sub | | | | | | | scription | | | | | | | Id | | | | | | | entifier. | | | | | | | Shall be | | | | | | | provided | | | | | | | when | | | | | | | av | | | | | | | ailable.( | | | | | | | NOTE 1)** | | +-----------+-----------+---+-----------+-----------+-----------+ | clk | Clock | O | 0..1 | **For | | | QltDetLvl | QualityDe | | | (g)PTP | | | | tailLevel | | | services, | | | | | | | its | | | | | | | value, if | | | | | | | provided, | | | | | | | shall be | | | | | | | set to | | | | | | | \"ACCE | | | | | | | PT_INDIC | | | | | | | ATION\"** | | +-----------+-----------+---+-----------+-----------+-----------+ | clkQ | Cloc | O | 0..1 | **It | | | ltAcptCri | kQualityA | | | indicates | | | | cceptance | | | the clock | | | | Criterion | | | quality | | | | | | | a | | | | | | | cceptance | | | | | | | criteria, | | | | | | | and it is | | | | | | | used to | | | | | | | determine | | | | | | | whether | | | | | | | the time | | | | | | | synchr | | | | | | | onization | | | | | | | status | | | | | | | for the | | | | | | | (g)PTP | | | | | | | service | | | | | | | is | | | | | | | accep | | | | | | | table/not | | | | | | | ac | | | | | | | cepatable | | | | | | | . It | | | | | | | shall be | | | | | | | present | | | | | | | when the | | | | | | | \"clkQl | | | | | | | tDetLvl\" | | | | | | | attribute | | | | | | | is | | | | | | | pres | | | | | | | ent...** | | +-----------+-----------+---+-----------+-----------+-----------+ | NOTE 1: | | | | | | | Either | | | | | | | the | | | | | | | \"supi\" | | | | | | | or the | | | | | | | \"gpsi\" | | | | | | | attribute | | | | | | | is | | | | | | | included, | | | | | | | based on | | | | | | | whether | | | | | | | the | | | | | | | request | | | | | | | contained | | | | | | | an | | | | | | | internal | | | | | | | or an | | | | | | | external | | | | | | | id | | | | | | | entifier. | | | | | | | | | | | | | | NOTE 2: | | | | | | | When the | | | | | | | \"Tim | | | | | | | eSyncStat | | | | | | | usParam\" | | | | | | | data | | | | | | | structure | | | | | | | is used | | | | | | | in the | | | | | | | current | | | | | | | release | | | | | | | of this | | | | | | | speci | | | | | | | fication, | | | | | | | the | | | | | | | \"gpsi\" | | | | | | | attribute | | | | | | | shall be | | | | | | | included | | | | | | | and the | | | | | | | \"supi\" | | | | | | | attribute | | | | | | | is not | | | | | | | ap | | | | | | | plicable. | | | | | | +-----------+-----------+---+-----------+-----------+-----------+
#### 5.15.4.4 Simple data types and enumerations
##### 5.15.4.4.1 Introduction
This clause defines simple data types and enumerations that can be referenced
from data structures defined in the previous clauses.
##### 5.15.4.4.2 Simple data types
The simple data types defined in table 5.15.4.4.2-1 shall be supported.
Table 5.15.4.4.2-1: Simple data types
* * *
Type Name Type Definition Description Applicability
* * *
##### 5.15.4.4.3 Void
##### 5.15.4.4.4 Enumeration: Protocol
Table 5.15.4.4.4-1: Enumeration Protocol
* * *
Enumeration value Description Applicability ETH Indicates Ethernet as defined
in IEEE Std 1588 [45] Annex E is supported.  
IPV4 Indicates IPv4 as defined in IEEE Std 1588 [45] Annex C is supported.  
IPV6 Indicates IPv6 as defined in IEEE Std 1588 [45] Annex D is supported
* * *
##### 5.15.4.4.5 Enumeration: GmCapable
Table 5.15.4.4.5-1: Enumeration GmCapable
* * *
Enumeration value Description Applicability GPTP gPTP grandmaster is
supported.  
PTP PTP grandmaste is supported.
* * *
##### 5.15.4.4.6 Enumeration: SubscribedEvent
Table 5.15.4.4.6-1: Enumeration SubscribedEvent
* * *
Enumeration value Description AVAILABILITY_FOR_TIME_SYNC_SERVICE The AF
requests to be notified when the UE is availablility for time synchronization
service.
* * *
##### 5.15.4.4.7 Enumeration: InstanceType
Table 5.15.4.4.7-1: Enumeration InstanceType
* * *
Enumeration value Description Applicability BOUNDARY_CLOCK Indicates Boundary
Clock as defined in IEEE Std 1588 [45].  
E2E_TRANS_CLOCK Indicates End-to-End Transparent Clock as defined in IEEE Std
1588 [45].  
P2P_TRANS_CLOCK Indicates Peer-to-Peer Transparent Clock as defined in IEEE
Std 1588 [45].  
PTP_RELAY_INSTANCE Indicates PTP Relay instance as defined in IEEE Std 802.1AS
[46]
* * *
##### 5.15.4.4.8 Enumeration: AsTimeResource
The enumeration AsTimeResource represents the supported 5G clock quality (i.e.
the source of time used by the 5GS). It shall comply with the provisions
defined in table 5.15.4.4.8-1.
Table 5.15.4.4.8-1: Enumeration AsTimeResource
* * *
Enumeration value Description Applicability ATOMIC_CLOCK Indicates atomic
clock is supported.  
GNSS Indicates Global Navigation Satellite System is supported.  
TERRESTRIAL_RADIO Indicates terrestrial radio is supported.  
SERIAL_TIME_CODE Indicates serial time code is supported.  
PTP Indicates PTP is supported.  
NTP Indicates NTP is supported.  
HAND_SET Indicates hand set is supported.  
INTERNAL_OSCILLATOR Indicates internal oscillator is supported.  
OTHER Indicates other source of time is supported.
* * *
##### 5.15.4.4.9 Enumeration: AcceptanceCriteriaResultIndication
Table 5.15.4.4.9-1: Enumeration AcceptanceCriteriaResultIndication
* * *
Enumeration value Description Applicability ACCEPTABLE PTP port meets the
clock quality acceptance criteria.  
NON_ACCEPTABLE PTP port does not meet the clock quality acceptance criteria.
* * *
### 5.15.5 Used Features
The table below defines the features applicable to the TimeSyncExposure API.
Those features are negotiated as described in clause 5.2.7 of 3GPP TS 29.122
[4].
Table 5.15.5-1: Features used by TimeSyncExposure API
* * *
Feature number Feature Name Description 1 Notification_websocket The delivery
of notifications over Websocket is supported as defined in 3GPP TS 29.122 [4].
This feature requires that the Notification_test_event feature is also
supported. 2 Notification_test_event The testing of notification connection is
supported as defined in 3GPP TS 29.122 [4]. 3 CoverageArea Indicates support
of the inclusion of the Time Synchronization Coverage Area in time synch
configuration requests. 4 NetTimeSyncStatus This feature indicates the support
of network timing synchronization status and reporting.
* * *
### 5.15.6 Error handling
#### 5.15.6.1 General
HTTP error handling shall be supported as specified in clause 5.2.6 of 3GPP TS
29.122 [4].
In addition, the requirements in the following clauses shall apply.
#### 5.15.6.2 Protocol Errors
In this Release of the specification, there are no additional protocol errors
applicable for the TimeSyncExposure API.
#### 5.15.6.3 Application Errors
The application errors defined for the TimeSyncExposure API are listed in
table 5.15.6.3-1.
Table 5.15.6.3-1: Application errors
* * *
**Application Error** **HTTP status code** **Description**
* * *
## 5.16 EcsAddressProvision API
### 5.16.0 Introduction
The Nnef_EcsAddressProvision service shall use the EcsAddressProvision API.
The API URI of EcsAddressProvision API shall be:
**{apiRoot}/3gpp-ecs-address-provision/v1**
with the following components:
\- \"apiRoot\" is set as defined in clause 5.2.4 of 3GPP TS 29.122 [4].
\- \"apiName\" shall be set to \"3gpp-ecs-address-provision\".
\- \"apiVersion\" shall be set to \"v1\" for the current version defined in
the present document.
All resource URIs in the clauses below are defined relative to the above API
URI.
### 5.16.1 Resources
#### 5.16.1.1 Overview
This clause describes the structure for the Resource URIs as shown in figure
5.16.1.1-1 and the resources and HTTP methods used for the EcsAddressProvision
API.
Figure 5.16.1.1-1: Resource URI structure of the EcsAddressProvision API
Table 5.16.1.1-1 provides an overview of the resources and HTTP methods
applicable for the EcsAddressProvision API.
Table 5.16.1.1-1: Resources and methods overview
+-----------------+-----------------+-------------+-----------------+ | Resource name | Resource URI | HTTP method | Description | +-----------------+-----------------+-------------+-----------------+ | ECS Address | /{a | GET | Read all | | Provision | fId}/configurat | | configurations | | Configurations | ions {#afidconf | | for a given AF | | | igurations .TT} | | identified by | | | ======= | | {afId}. | | | =============== | | | +-----------------+-----------------+-------------+-----------------+ | | | POST | Create a new | | | | | configuration | | | | | to provision | | | | | ECS | | | | | address(es). | +-----------------+-----------------+-------------+-----------------+ | Individual ECS | /{afId}/co | GET | Read an | | Address | nfigurations/{c | | existing | | Provision | onfigurationId} | | configuration | | Configuration | | | identified by | | | | | {co | | | | | nfigurationId}. | +-----------------+-----------------+-------------+-----------------+ | | | PUT | Modify all of | | | | | the properties | | | | | of an existing | | | | | configuration | | | | | identified by | | | | | {co | | | | | nfigurationId}. | +-----------------+-----------------+-------------+-----------------+ | | | DELETE | Delete a | | | | | configuration | | | | | identified by | | | | | {co | | | | | nfigurationId}. | +-----------------+-----------------+-------------+-----------------+
#### 5.16.1.2 Resource: ECS Address Provision Configurations
##### 5.16.1.2.1 Introduction
This resource allows a AF to read all active ECS Address Provision
Configurations for a given AF, or create an new Individual ECS Address
Provision Configuration to the NEF.
##### 5.16.1.2.2 Resource Definition
Resource URI: **{apiRoot}/3gpp-ecs-address-
provision/v1/{afId}/configurations**
This resource shall support the resource URI variables defined in table
5.16.1.2.2-1.
Table 5.16.1.2.2-1: Resource URI variables for this resource
* * *
Name Data type Definition apiRoot string Clause 5.2.4 of 3GPP TS 29.122 [4].
afId string Identifier of the AF.
* * *
##### 5.16.1.2.3 Resource Methods
###### 5.16.1.2.3.1 General
The following clauses specify the resource methods supported by the resource
as described in clause 5.16.1.2.2.
###### 5.16.1.2.3.2 GET
The GET method allows to read all active configurations for a given AF. The AF
shall initiate the HTTP GET request message and the NEF shall respond to the
message.
This method shall support the URI query parameters specified in table
5.16.1.2.3.2-1.
Table 5.16.1.2.3.2-1: URI query parameters supported by the GET method on this
resource
* * *
Name Data type P Cardinality Description N/A
* * *
This method shall support the request data structures specified in table
5.16.1.2.3.2-2 and the response data structures and response codes specified
in table 5.16.1.2.3.2-3.
Table 5.16.1.2.3.2-2: Data structures supported by the GET Request Body on
this resource
* * *
Data type P Cardinality Description N/A
* * *
Table 5.16.1.2.3.2-3: Data structures supported by the GET Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | array(EcsAddr | M | 0..N | 200 OK | All the | | essProvision) | | | | c | | | | | | onfigurations | | | | | | for the AF | | | | | | are returned. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 307 Temporary | Temporary | | | | | Redirect | redirection, | | | | | | during | | | | | | configuration | | | | | | retrieval. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 308 Permanent | Permanent | | | | | Redirect | redirection, | | | | | | during | | | | | | configuration | | | | | | retrieval. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the GET | | | | | | method listed | | | | | | in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.16.1.2.3.2-4: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
Table 5.16.1.2.3.2-5: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
###### 5.16.1.2.3.3 POST
The POST method creates a new resource to Individual ECS Address Provision
Configuration for a given AF. The AF shall initiate the HTTP POST request
message and the NEF shall respond to the message. The NEF shall construct the
URI of the created resource.
This method shall support the request data structures specified in table
5.16.1.2.3.3-1 and the response data structures and response codes specified
in table 5.16.1.2.3.3-2.
Table 5.16.1.2.3.3-1: Data structures supported by the POST Request Body on
this resource
* * *
Data type P Cardinality Description EcsAddressProvision M 1 Parameters to
create a confirguation to provision ECS address.
* * *
Table 5.16.1.2.3.3-2: Data structures supported by the POST Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | EcsAdd | M | 1 | 201 Created | The | | ressProvision | | | | configuration | | | | | | was created | | | | | | successfully. | | | | | | | | | | | | The URI of | | | | | | the created | | | | | | resource | | | | | | shall be | | | | | | returned in | | | | | | the | | | | | | \"Location\" | | | | | | HTTP header. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the POST | | | | | | method listed | | | | | | in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.16.1.2.3.3-3: Headers supported by the 201 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 Contains the URI
of the newly created resource, according to the structure: {apiRoot}/3gpp-ecs-
address-provision/v1/{afId}/configurations/{configurationId}
* * *
#### 5.16.1.3 Resource: Individual ECS Address Provision Configuration
##### 5.16.1.3.1 Introduction
This resource allows a AF to read, update or delete an existing Individual ECS
Address Provision Configuration.
##### 5.16.1.3.2 Resource Definition
Resource URI: **{apiRoot}/3gpp-ecs-address-
provision/v1/{afId}/configurations/{configurationId}**
This resource shall support the resource URI variables defined in table
5.16.1.3.2-1.
Table 5.16.1.3.2-1: Resource URI variables for this resource
* * *
Name Data type Definition apiRoot string Clause 5.2.4 of 3GPP TS 29.122 [4].
afId string Identifier of the AF. configurationId string Identifier of the
configuration resource.
* * *
##### 5.16.1.3.3 Resource Methods
###### 5.16.1.3.3.1 General
The following clauses specify the resource methods supported by the resource
as described in clause 5.16.1.3.2.
###### 5.16.1.3.3.2 GET
The GET method allows to read the active configuration for a given AF and a
given configuration Id. The AF shall initiate the HTTP GET request message and
the NEF shall respond to the message.
This method shall support the URI query parameters specified in table
5.16.1.3.3.2-1.
Table 5.16.1.3.3.2-1: URI query parameters supported by the GET method on this
resource
* * *
Name Data type P Cardinality Description N/A
* * *
This method shall support the request data structures specified in table
5.16.1.3.3.2-2 and the response data structures and response codes specified
in table 5.16.1.3.3.2-3.
Table 5.16.1.3.3.2-2: Data structures supported by the GET Request Body on
this resource
* * *
Data type P Cardinality Description N/A
* * *
Table 5.16.1.3.3.2-3: Data structures supported by the GET Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | EcsAdd | M | 1 | 200 OK | The | | ressProvision | | | | information | | | | | | for the | | | | | | configuration | | | | | | in the | | | | | | request URI | | | | | | are returned. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 307 Temporary | Temporary | | | | | Redirect | redirection, | | | | | | during | | | | | | configuration | | | | | | retrieval. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 308 Permanent | Permanent | | | | | Redirect | redirection, | | | | | | during | | | | | | configuration | | | | | | retrieval. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the GET | | | | | | method listed | | | | | | in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.16.1.3.3.2-4: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
Table 5.16.1.3.3.2-5: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
###### 5.16.1.3.3.3 PUT
The PUT method is used to replace an existing Individual ECS Address Provision
Configuration. The AF shall initiate the HTTP PUT request message and the NEF
shall respond to the message.
This method shall support the request data structures specified in table
5.16.1.3.3.3-1 and the response data structures and response codes specified
in table 5.16.1.3.3.3-2.
Table 5.16.1.3.3.3-1: Data structures supported by the PUT Request Body on
this resource
* * *
Data type P Cardinality Description EcsAddressProvision M 1 Replace an
existing Individual ECS Address Provision Configuration.
* * *
Table 5.16.1.3.3.3-2: Data structures supported by the PUT Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | EcsAdd | M | 1 | 200 OK | The | | ressProvision | | | | configuration | | | | | | was updated | | | | | | successfully. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 204 No | The | | | | | Content | configuration | | | | | | was updated | | | | | | successfully. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 307 Temporary | Temporary | | | | | Redirect | redirection, | | | | | | during | | | | | | configuration | | | | | | modification. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 308 Permanent | Permanent | | | | | Redirect | redirection, | | | | | | during | | | | | | configuration | | | | | | modification. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the PUT | | | | | | method listed | | | | | | in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.16.1.3.3.3-3: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
Table 5.16.1.3.3.3-4: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
###### 5.16.1.3.3.4 DELETE
The DELETE method deletes an existing Individual ECS Address Provision
Configuration. The AF shall initiate the HTTP DELETE request message and the
NEF shall respond to the message.
This method shall support the URI query parameters specified in table
5.7.1.3.3.4-1.
Table 5.7.1.3.3.4-1: URI query parameters supported by the DELETE method on
this resource
* * *
Name Data type P Cardinality Description N/A
* * *
This method shall support the request data structures specified in table
5.7.1.3.3.4-2 and the response data structures and response codes specified in
table 5.7.1.3.3.4-3.
Table 5.7.1.3.3.4-2: Data structures supported by the DELETE Request Body on
this resource
* * *
Data type P Cardinality Description N/A
* * *
Table 5.7.1.3.3.4-3: Data structures supported by the DELETE Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | N/A | | | 204 No | The | | | | | Content | configuration | | | | | | was | | | | | | terminated | | | | | | successfully. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 307 Temporary | Temporary | | | | | Redirect | redirection, | | | | | | during | | | | | | configuration | | | | | | termination. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 308 Permanent | Permanent | | | | | Redirect | redirection, | | | | | | during | | | | | | configuration | | | | | | termination. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the | | | | | | DELETE method | | | | | | listed in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.7.1.3.3.4-4: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
Table 5.7.1.3.3.4-5: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
### 5.16.1A Custom Operations without associated resources
There are no custom operations without associated resources defined for this
API in this release of the specification.
### 5.16.1B Notifications
There are no notifications defined for this API in this release of the
specification.
### 5.16.2 Data Model
#### 5.16.2.1 General
This clause specifies the application data model supported by the
EcsAddressProvision API.
Table 5.16.2.1-1 specifies the data types defined for the EcsAddressProvision
API.
Table 5.16.2.1-1: EcsAddressProvision API specific Data Types
* * *
Data type Clause defined Description Applicability EcsAddressProvision
5.16.2.3.2 Represents ECS address provision configuration information.
* * *
#### 5.16.2.2 Reused data types
The data types reused by the EcsAddressProvision API from other specifications
are listed in table 5.16.2.2-1.
Table 5.16.2.2-1: Re-used Data Types
* * *
Data type Reference Comments EcsServerAddr 3GPP TS 29.571 [8] Represents the
Edge Configuration Server (ECS) address configuration information. Link 3GPP
TS 29.122 [4] Represents a referenced resource. SpatialValidityCond 3GPP TS
29.571 [8] Represents the Spatial Validity Condition. SupportedFeatures 3GPP
TS 29.571 [8] Used to negotiate the applicability of the optional features
defined in table 5.16.3-1. TargetUeId clause 5.6.3.3.7 Represents the target
UE(s) information.
* * *
#### 5.16.2.3 Structured data types
##### 5.16.2.3.1 Introduction
This clause defines the structured data types to be used in resource
representations.
##### 5.16.2.3.2 Type: EcsAddressProvision
Table 5.16.2.3.2-1: Definition of type EcsAddressProvision
+-----------+-----------+---+-----------+-----------+-----------+ | Attribute | Data type | P | Ca | De | Appl | | name | | | rdinality | scription | icability | +-----------+-----------+---+-----------+-----------+-----------+ | self | Link | C | 0..1 | I | | | | | | | dentifies | | | | | | | the | | | | | | | i | | | | | | | ndividual | | | | | | | conf | | | | | | | iguration | | | | | | | resource. | | | | | | | | | | | | | | Shall be | | | | | | | present | | | | | | | in the | | | | | | | HTTP GET | | | | | | | response | | | | | | | when | | | | | | | reading | | | | | | | all the | | | | | | | confi | | | | | | | gurations | | | | | | | for an | | | | | | | AF. | | +-----------+-----------+---+-----------+-----------+-----------+ | ecsS | EcsS | M | 1 | R | | | erverAddr | erverAddr | | | epresents | | | | | | | the ECS | | | | | | | add | | | | | | | ress(es). | | +-----------+-----------+---+-----------+-----------+-----------+ | s | S | O | 0..1 | Spatial | | | patialVal | patialVal | | | validity | | | idityCond | idityCond | | | c | | | | | | | ondition. | | +-----------+-----------+---+-----------+-----------+-----------+ | tgtUe | T | O | 0..1 | Target UE | | | | argetUeId | | | inf | | | | | | | ormation. | | +-----------+-----------+---+-----------+-----------+-----------+ | suppFeat | Supporte | M | 1 | Indicates | | | | dFeatures | | | the | | | | | | | n | | | | | | | egotiated | | | | | | | supported | | | | | | | features. | | +-----------+-----------+---+-----------+-----------+-----------+
#### 5.16.2.4 Simple data types and enumerations
##### 5.16.2.4.1 Introduction
This clause defines simple data types and enumerations that can be referenced
from data structures defined in the previous clauses.
##### 5.16.2.4.2 Simple data types
The simple data types defined in table 5.16.2.4.2-1 shall be supported.
Table 5.16.2.4.2-1: Simple data types
* * *
Type Name Type Definition Description Applicability
* * *
### 5.16.3 Used Features
The table below defines the features applicable to the EcsAddressProvision
API. Those features are negotiated as described in clause 5.2.7 of 3GPP TS
29.122 [4].
Table 5.16.3-1: Features used by EcsAddressProvision API
* * *
Feature number Feature Name Description
* * *
### 5.16.4 Error handling
#### 5.16.4.1 General
HTTP error handling shall be supported as specified in clause 5.2.6 of 3GPP TS
29.122 [4].
In addition, the requirements in the following clauses shall apply.
#### 5.16.4.2 Protocol Errors
In this Release of the specification, there are no additional protocol errors
applicable for the EcsAddressProvision API.
#### 5.16.4.3 Application Errors
The application errors defined for EcsAddressProvision API are listed in table
5.16.4.3-1.
Table 5.16.4.3-1: Application errors
* * *
Application Error HTTP status code Description Applicability
* * *
5.17 AMPolicyAuthorization API
### 5.17.0 Introduction
The Nnef_AMPolicyAuthorization service shall use the AMPolicyAuthorization
API.
The API URI of AMPolicyAuthorization API shall be:
**{apiRoot}/3gpp-am-policyauthorization/v1**
with the following components:
\- \"apiRoot\" is set as defined in clause 5.2.4 of 3GPP TS 29.122 [4].
\- \"apiName\" shall be set to \"3gpp-am-policyauthorization\".
\- \"apiVersion\" shall be set to \"v1\" for the current version defined in
the present document.
All resource URIs in the clauses below are defined relative to the above API
URI.
5.17.1 Resources
#### 5.17.1.1 Overview
This clause describes the structure for the Resource URIs as shown in figure
5.17.1.1-1 and the resources and HTTP methods used for the
AMPolicyAuthorization API.
Figure 5.17.1.1-1: Resource URI structure of the AMPolicyAuthorization API
Table 5.17.1.1-1 provides an overview of the resources and HTTP methods
applicable for the AMPolicyAuthorization API.
Table 5.17.1.1-1: Resources and methods overview
* * *
Resource name Resource URI HTTP method Description Application AM Contexts
/{afId}/app-am-contexts POST Create a new Individual application AM context
resource and may create the child AM Policy Events Subscription sub-resource.
Individual application AM Context /{afId}/app-am-contexts/{appAmContextId} GET
Reads an existing Individual application AM context resource. PATCH Updates an
existing Individual application AM context resource. It can also create or
update an AM Policy Events Subscription sub-resource. DELETE Deletes an
existing Individual application AM context resource and the child AM Policy
Events Subscription sub-resource. AM Policy Events Subscription /{afId}/app-
am-contexts/{appAmContextId}/events-subscription PUT Creates a new AM Policy
Events Subscription sub-resource or modifies an existing AM Policy Events
Subscription sub-resource. DELETE Deletes an AM Policy Events Subscription
sub-resource.
* * *
5.17.1.2 Resource: Application AM Contexts
5.17.1.2.1 Introduction
This resource allows an AF to request the creation of a new Individual
application AM context resource.
5.17.1.2.2 Resource Definition
Resource URI: **{apiRoot}/3gpp-am-policyauthorization/v1/{afId}/app-am-
contexts**
This resource shall support the resource URI variables defined in table
5.17.1.2.2-1.
Table 5.17.1.2.2-1: Resource URI variables for this resource
* * *
Name Data type Definition apiRoot string Clause 5.2.4 of 3GPP TS 29.122 [4].
afId string Identifier of the AF.
* * *
5.17.1.2.3 Resource Methods
5.17.1.2.3.1 General
The following clauses specify the resource methods supported by the resource
as described in clause 5.17.1.2.2.
5.17.1.2.3.2 POST
The POST method creates a new resource to Individual application AM context
for a given AF. The AF shall initiate the HTTP POST request message and the
NEF shall respond to the message. The NEF shall construct the URI of the
created resource.
This method shall support the request data structures specified in table
5.17.1.2.3.2-1 and shall support the response data structures and response
codes specified in table 5.17.1.2.3.2-2.
Table 5.17.1.2.3.2-1: Data structures supported by the POST Request Body on
this resource
* * *
Data type P Cardinality Description AppAmContextExpData M 1 Contains the
exposure information for the creation of a new Individual application AM
context resource.
* * *
Table 5.17.1.2.3.2-2: Data structures supported by the POST Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | AppAmConte | M | 1 | 201 Created | Successful | | xtExpRespData | | | | case. | | | | | | | | | | | | The | | | | | | Individual | | | | | | application | | | | | | AM context | | | | | | resource was | | | | | | created | | | | | | successfully. | | | | | | | | | | | | The URI of | | | | | | the created | | | | | | resource | | | | | | shall be | | | | | | returned in | | | | | | the | | | | | | \"Location\" | | | | | | HTTP header. | +---------------+---+-------------+---------------+---------------+ | P | O | 0..1 | 500 Internal | (NOTE 2) | | roblemDetails | | | Server Error | | +---------------+---+-------------+---------------+---------------+ | NOTE 1: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the POST | | | | | | method listed | | | | | | in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | | | | | | | | NOTE 2: | | | | | | Failure | | | | | | causes are | | | | | | described in | | | | | | c | | | | | | lause 5.17.5. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.17.1.2.3.2-3: Headers supported by the 201 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 Contains the URI
of the newly created resource, according to the structure: {apiRoot}/3gpp-am-
policyauthorization/v1/{afId}/ app-am-contexts/{appAmContextId}
* * *
5.17.1.3 Resource: Individual Application AM Context
5.17.1.3.1 Introduction
This resource allows an AF to read, update or delete an existing Individual
application AM context.
5.17.1.3.2 Resource Definition
Resource URI: **{apiRoot}/3gpp-am-policyauthorization/v1/{afId}/app-am-
contexts/{appAmContextId}**
This resource shall support the resource URI variables defined in table
5.17.1.3.2-1.
**Table 5.17.1.3.2-1: Resource URI variables for this resource**
* * *
**Name** **Data type** **Definition** apiRoot string Clause 5.2.4 of 3GPP TS
29.122 [4]. afId string Identifier of the AF. appAmContextId string Identifier
of the application AM context formatted according to IETF RFC 3986 [44].
* * *
5.17.1.3.3 Resource Methods
5.17.1.3.3.1 General
The following clauses specify the resource methods supported by the resource
as described in clause 5.17.1.3.2.
5.17.1.3.3.2 GET
The GET method allows to read the existing application AM context for a given
AF and a given application AM context Id. The AF shall initiate the HTTP GET
request message and the NEF shall respond to the message.
This method shall support the URI query parameters specified in table
5.17.1.3.3.2-1.
**Table 5.17.1.3.3.2-1: URI query parameters supported by the GET method on
this resource**
* * *
**Name** **Data type** **P** **Cardinality** **Description** N/A
* * *
This method shall support the request data structures specified in table
5.17.1.3.3.2-2, the response data structures and response codes specified in
table 5.17.1.3.3.2-3 and the Location Headers specified in table
5.17.1.3.3.2-4 and table 5.17.1.3.3.2-5.
**Table 5.17.1.3.3.2-2: Data structures supported by the GET** Request Body on
this resource
* * *
**Data type** **P** **Cardinality** **Description** N/A
* * *
**Table 5.17.1.3.3.2-3: Data structures supported by the GET** Response Body
on this resource
+--------------+-------+--------------+--------------+--------------+ | **Data |** P**|** C | **Response |** D | | type**| | ardinality** | codes**| escription** | +--------------+-------+--------------+--------------+--------------+ | AppAmCo | M | 1 | 200 OK | Successful | | ntextExpData | | | | case. | | | | | | | | | | | | The exposure | | | | | | information | | | | | | of an | | | | | | existing | | | | | | Individual | | | | | | application | | | | | | AM context | | | | | | in the | | | | | | request URI | | | | | | is returned. | +--------------+-------+--------------+--------------+--------------+ | N/A | | | 307 | Temporary | | | | | Temporary | redirection, | | | | | Redirect | during the | | | | | | AM context | | | | | | retrieval. | | | | | | The response | | | | | | shall | | | | | | include a | | | | | | Location | | | | | | header field | | | | | | containing | | | | | | an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in | | | | | | an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | c | | | | | | lause 5.2.10 | | | | | | of | | | | | | 3GPP TS 2 | | | | | | 9.122 [4]. | +--------------+-------+--------------+--------------+--------------+ | N/A | | | 308 | Permanent | | | | | Permanent | redirection, | | | | | Redirect | during the | | | | | | AM context | | | | | | retrieval. | | | | | | The response | | | | | | shall | | | | | | include a | | | | | | Location | | | | | | header field | | | | | | containing | | | | | | an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in | | | | | | an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | c | | | | | | lause 5.2.10 | | | | | | of | | | | | | 3GPP TS 2 | | | | | | 9.122 [4]. | +--------------+-------+--------------+--------------+--------------+ | Pr | O | 0..1 | 404 Not | (NOTE 2) | | oblemDetails | | | Found | | +--------------+-------+--------------+--------------+--------------+ | NOTE 1: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the GET | | | | | | method | | | | | | listed in | | | | | | t | | | | | | able 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | | | | | | | | NOTE 2: | | | | | | Failure | | | | | | causes are | | | | | | described in | | | | | | cl | | | | | | ause 5.17.5. | | | | | +--------------+-------+--------------+--------------+--------------+
**Table 5.17.1.3.3.2-4: Headers suppo** rted by the 307 Response Code on this
resource
* * *
**Name** **Data type** **P** **Cardinality** **Description** Location string M
1 An alternative URI of the resource located in an alternative NEF.
* * *
**Table 5.17.1.3.3.2-5: Headers supported by the 308 Response Code on this
resour** ce
* * *
**Name** **Data type** **P** **Cardinality** **Description** Location string M
1 An alternative URI of the resource located in an alternative NEF.
* * *
5.17.1.3.3.3 PATCH
The PATCH method is used to modify an existing Individual application AM
context. The AF shall initiate the HTTP PATCH request message and the NEF
shall respond to the message.
This method shall support the URI query parameters specified in table
5.17.1.3.3.3-1.
Table 5.17.1.3.3.3-1: URI query parameters supported by the PATCH method on
this resource
* * *
Name Data type P Cardinality Description Applicability n/a
* * *
This method shall support the request data structures specified in table
5.17.1.3.3.3-2, the response data structures and response codes specified in
table 5.17.1.3.3.3-3 and the Location Headers specified in table
5.17.1.3.3.3-4 and table 5.17.1.3.3.3-5.
**Table 5.17.1.3.3.3-2: Data structures supported by the PATCH** Request Body
on this resource
* * *
**Data type** **P** **Cardinality** **Description** AppAmContextExpUpdateData
M 1 Contains the modification(s) to be applied to the Individual application
AM context resource.
* * *
**Table 5.17.1.3.3.3-3: Data structures supported by the PATCH** Response Body
on this resource
+--------------+-------+--------------+--------------+--------------+ | **Data |** P**|** C | **Response |** D | | type**| | ardinality** | codes**| escription** | +--------------+-------+--------------+--------------+--------------+ | AppAmContex | M | 1 | 200 OK | Successful | | tExpRespData | | | | case. | | | | | | | | | | | | The exposure | | | | | | information | | | | | | of the | | | | | | updated | | | | | | application | | | | | | AM context. | +--------------+-------+--------------+--------------+--------------+ | N/A | | | 204 No | The | | | | | Content | application | | | | | | AM context | | | | | | was updated | | | | | | s | | | | | | uccessfully. | +--------------+-------+--------------+--------------+--------------+ | N/A | | | 307 | Temporary | | | | | Temporary | redirection, | | | | | Redirect | during the | | | | | | AM context | | | | | | m | | | | | | odification. | | | | | | The response | | | | | | shall | | | | | | include a | | | | | | Location | | | | | | header field | | | | | | containing | | | | | | an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in | | | | | | an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | c | | | | | | lause 5.2.10 | | | | | | of | | | | | | 3GPP TS 2 | | | | | | 9.122 [4]. | +--------------+-------+--------------+--------------+--------------+ | N/A | | | 308 | Permanent | | | | | Permanent | redirection, | | | | | Redirect | during the | | | | | | AM context | | | | | | m | | | | | | odification. | | | | | | The response | | | | | | shall | | | | | | include a | | | | | | Location | | | | | | header field | | | | | | containing | | | | | | an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in | | | | | | an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | c | | | | | | lause 5.2.10 | | | | | | of | | | | | | 3GPP TS 2 | | | | | | 9.122 [4]. | +--------------+-------+--------------+--------------+--------------+ | Pr | O | 0..1 | 400 Bad | (NOTE 2) | | oblemDetails | | | Request | | +--------------+-------+--------------+--------------+--------------+ | Pr | O | 0..1 | 404 Not | (NOTE 2) | | oblemDetails | | | Found | | +--------------+-------+--------------+--------------+--------------+ | NOTE 1: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the PUT | | | | | | method | | | | | | listed in | | | | | | t | | | | | | able 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | | | | | | | | NOTE 2: | | | | | | Failure | | | | | | causes are | | | | | | described in | | | | | | cl | | | | | | ause 5.17.5. | | | | | +--------------+-------+--------------+--------------+--------------+
**Table 5.17.1.3.3.3-4: Headers** supported by the 307 Response Code on this
resource
* * *
**Name** **Data type** **P** **Cardinality** **Description** Location String M
1 An alternative URI of the resource located in an alternative NEF.
* * *
**Table 5.17.1.3.3.3-5: Headers supported by the 308 Response Code on this r**
esource
* * *
**Name** **Data type** **P** **Cardinality** **Description** Location String M
1 An alternative URI of the resource located in an alternative NEF.
* * *
5.17.1.3.3.4 DELETE
The DELETE method deletes an existing Individual application AM context. The
AF shall initiate the HTTP DELETE request message and the NEF shall respond to
the message.
This method shall support the URI query parameters specified in table
5.17.1.3.3.4-1.
**Table 5.17.1.3.3.4-1: URI query parameters supported by the DELETE method on
this resource**
* * *
**Name** **Data type** **P** **Cardinality** **Description** N/A
* * *
This method shall support the request data structures specified in table
5.17.1.3.3.4-2 and the response data structures and response codes specified
in table 5.17.1.3.3.4-3, and the Location Headers specified in table
5.17.1.3.3.4-4 and table 5.17.1.3.3.4-5.
**Table 5.17.1.3.3.4-2: Data structures supported by the DELETE** Request Body
on this resource
* * *
**Data type** **P** **Cardinality** **Description** N/A
* * *
**Table 5.17.1.3.3.4-3: Data structures supported by the DELETE Response**
Body on this resource
+--------------+-------+--------------+--------------+--------------+ | **Data |** P**|** C | **Response |** D | | type**| | ardinality** | codes**| escription** | +--------------+-------+--------------+--------------+--------------+ | N/A | | | 204 No | Successful | | | | | Content | case. | | | | | | | | | | | | The | | | | | | application | | | | | | AM context | | | | | | was | | | | | | terminated | | | | | | s | | | | | | uccessfully. | +--------------+-------+--------------+--------------+--------------+ | N/A | | | 307 | Temporary | | | | | Temporary | redirection, | | | | | Redirect | during the | | | | | | AM context | | | | | | termination. | | | | | | The response | | | | | | shall | | | | | | include a | | | | | | Location | | | | | | header field | | | | | | containing | | | | | | an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in | | | | | | an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | c | | | | | | lause 5.2.10 | | | | | | of | | | | | | 3GPP TS 2 | | | | | | 9.122 [4]. | +--------------+-------+--------------+--------------+--------------+ | N/A | | | 308 | Permanent | | | | | Permanent | redirection, | | | | | Redirect | during the | | | | | | AM context | | | | | | termination. | | | | | | The response | | | | | | shall | | | | | | include a | | | | | | Location | | | | | | header field | | | | | | containing | | | | | | an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in | | | | | | an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | c | | | | | | lause 5.2.10 | | | | | | of | | | | | | 3GPP TS 2 | | | | | | 9.122 [4]. | +--------------+-------+--------------+--------------+--------------+ | Pr | O | 0..1 | 404 Not | (NOTE 2) | | oblemDetails | | | Found | | +--------------+-------+--------------+--------------+--------------+ | NOTE 1: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the | | | | | | DELETE | | | | | | method | | | | | | listed in | | | | | | t | | | | | | able 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | | | | | | | | NOTE 2: | | | | | | Failure | | | | | | causes are | | | | | | described in | | | | | | cl | | | | | | ause 5.17.5. | | | | | +--------------+-------+--------------+--------------+--------------+
**Table 5.17.1.3.3.4-4: Headers supported by th** e 307 Response Code on this
resource
* * *
**Name** **Data type** **P** **Cardinality** **Description** Location string M
1 An alternative URI of the resource located in an alternative NEF.
* * *
**Table** 5.17.1.3.3.4-5: Headers supported by the 308 Response Code on this
resource
* * *
**Name** **Data type** **P** **Cardinality** **Description** Location string M
1 An alternative URI of the resource located in an alternative NEF.
* * *
5.17.1.4 Resource: AM Policy Events Subscription
5.17.1.4.1 Introduction
This resource allows an AF to create a new AM policy events subscription sub-
resource or modifies an existing AM policy events subscription sub-resource.
5.17.1.4.2 Resource Definition
Resource URI: **{apiRoot}/3gpp-am-policyauthorization/v1/{afId}/app-am-
contexts/{appAmContextId}/events-subscription**
This sub-resource shall support the resource URI variables defined in table
5.17.1.4.2-1.
Table 5.17.1.4.2-1: Resource URI variables for this resource
* * *
Name Data type Definition apiRoot string Clause 5.2.4 of 3GPP TS 29.122 [4].
afId string Identifier of the AF. appAmContextId string Identifier of the
application AM context formatted according to IETF RFC 3986 [44].
* * *
5.17.1.4.3 Resource Methods
5.17.1.4.3.1 General
The following clauses specify the resource methods supported by the sub-
resource as described in clause 5.17.1.4.2.
5.17.1.4.3.2 PUT
The PUT method allows to create a new AM policy events subscription sub-
resource in an existing application AM context or modifies an existing AM
policy events subscription sub-resource. The AF shall initiate the HTTP PUT
request message and the NEF shall respond to the message.
This method shall support the URI query parameters specified in table
5.17.1.4.3.2-1.
Table 5.17.1.4.3.2-1: URI query parameters supported by the PUT method on this
resource
* * *
Name Data type P Cardinality Description N/A
* * *
This method shall support the request data structures specified in table
5.17.1.4.3.2-2, the response data structures and response codes specified in
table 5.17.1.4.3.2-3 and the Location Headers specified in table
5.17.1.4.3.2-4, table 5.17.1.4.3.2-5 and table 5.17.1.4.3.2-6.
Table 5.17.1.4.3.2-2: Data structures supported by the PUT Request Body on
this resource
* * *
Data type P Cardinality Description AmEventsSubscData M 1 Contains the
information for the creation and/or modification of the AM Policy Events
Subscription.
* * *
Table 5.17.1.4.3.2-3: Data structures supported by the PUT Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | AmEvents | M | 1 | 201 Created | Successful | | SubscRespData | | | | case. | | | | | | | | | | | | The AM policy | | | | | | events | | | | | | subscription | | | | | | sub-resource | | | | | | was created. | | | | | | The | | | | | | r | | | | | | epresentation | | | | | | of the AM | | | | | | Policy Events | | | | | | Subscription | | | | | | sub-resource | | | | | | is included | | | | | | within the | | | | | | properties of | | | | | | the | | | | | | AmEv | | | | | | entsSubscData | | | | | | data type. | | | | | | The one or | | | | | | more matched | | | | | | events, if | | | | | | available, | | | | | | are included | | | | | | within the | | | | | | properties of | | | | | | the | | | | | | AmEvent | | | | | | sNotification | | | | | | data type. | +---------------+---+-------------+---------------+---------------+ | AmEvents | M | 1 | 200 OK | Successful | | SubscRespData | | | | case. | | | | | | | | | | | | The AM policy | | | | | | events | | | | | | subscription | | | | | | sub-resource | | | | | | was modified | | | | | | and a | | | | | | r | | | | | | epresentation | | | | | | of the | | | | | | sub-resource | | | | | | is returned. | | | | | | The | | | | | | r | | | | | | epresentation | | | | | | of the AM | | | | | | Policy Events | | | | | | Subscription | | | | | | sub-resource | | | | | | is included | | | | | | within the | | | | | | properties of | | | | | | the | | | | | | AmEv | | | | | | entsSubscData | | | | | | data type. | | | | | | The one or | | | | | | more matched | | | | | | events, if | | | | | | available, | | | | | | are included | | | | | | within the | | | | | | properties of | | | | | | the | | | | | | AmEvent | | | | | | sNotification | | | | | | data type. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 204 No | Successful | | | | | Content | case. | | | | | | | | | | | | The AM policy | | | | | | events | | | | | | subscription | | | | | | sub-resource | | | | | | was modified | | | | | | successfully, | | | | | | with no | | | | | | content to be | | | | | | sent in the | | | | | | response | | | | | | message body. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 307 Temporary | Temporary | | | | | Redirect | redirection, | | | | | | during the AM | | | | | | policy events | | | | | | subscription | | | | | | or | | | | | | modification. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 308 Permanent | Permanent | | | | | Redirect | redirection, | | | | | | during the AM | | | | | | policy events | | | | | | subscription | | | | | | or | | | | | | modification. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | P | O | 0..1 | 404 Not Found | (NOTE 2) | | roblemDetails | | | | | +---------------+---+-------------+---------------+---------------+ | NOTE 1: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the GET | | | | | | method listed | | | | | | in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | | | | | | | | NOTE 2: | | | | | | Failure | | | | | | causes are | | | | | | described in | | | | | | c | | | | | | lause 5.17.5. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.17.1.4.3.2-4: Headers supported by the 201 Response Code on this
resource
* * *
Name Data type P Cardinality Description
Location String M 1 Contains the URI of the resource in which an AM policy
events subscription sub-resource has been created, according to the
structure:\ {apiRoot}/3gpp-am-policyauthorization/v1/{afId}/app-am-
contexts/{appAmContextId}/events-subscription
* * *
Table 5.17.1.4.3.2-5: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location String M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
Table 5.17.1.4.3.2-6: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
5.17.1.4.3.3 DELETE
The DELETE method deletes existing subscribed AM policy event(s) within the
existing Individual application AM context. The AF shall initiate the HTTP
DELETE request message and the NEF shall respond to the message.
This method shall support the URI query parameters specified in table
5.17.1.4.3.3-1.
**Table 5.17.1.4.3.3-1: URI query parameters supported by the DELETE method on
this resource**
* * *
**Name** **Data type** **P** **Cardinality** **Description** N/A
* * *
This method shall support the request data structures specified in table
5.17.1.4.3.3-2 and the response data structures and response codes specified
in table 5.17.1.4.3.3-3 and the Location Headers specified in table
5.17.1.4.3.3-4 and table 5.17.1.4.3.3-5.
**Table 5.17.1.4.3.3-2: Data structures supported by the DELETE** Request Body
on this resource
* * *
**Data type** **P** **Cardinality** **Description** N/A
* * *
**Table 5.17.1.4.3.3-3: Data structures supported by the DELETE** Response
Body on this resource
+--------------+-------+--------------+--------------+--------------+ | **Data |** P**|** C | **Response |** D | | type**| | ardinality** | codes**| escription** | +--------------+-------+--------------+--------------+--------------+ | N/A | | | 204 No | Successful | | | | | Content | case. | | | | | | | | | | | | The AM | | | | | | policy | | | | | | event(s) | | | | | | subscription | | | | | | resource is | | | | | | deleted. | +--------------+-------+--------------+--------------+--------------+ | N/A | | | 307 | Temporary | | | | | Temporary | redirection, | | | | | Redirect | during the | | | | | | AM policy | | | | | | events | | | | | | deletion. | | | | | | The response | | | | | | shall | | | | | | include a | | | | | | Location | | | | | | header field | | | | | | containing | | | | | | an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in | | | | | | an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | c | | | | | | lause 5.2.10 | | | | | | of | | | | | | 3GPP TS 2 | | | | | | 9.122 [4]. | +--------------+-------+--------------+--------------+--------------+ | N/A | | | 308 | Permanent | | | | | Permanent | redirection, | | | | | Redirect | during the | | | | | | AM policy | | | | | | events | | | | | | deletion. | | | | | | The response | | | | | | shall | | | | | | include a | | | | | | Location | | | | | | header field | | | | | | containing | | | | | | an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in | | | | | | an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | c | | | | | | lause 5.2.10 | | | | | | of | | | | | | 3GPP TS 2 | | | | | | 9.122 [4]. | +--------------+-------+--------------+--------------+--------------+ | Pr | O | 0..1 | 404 Not | (NOTE 2) | | oblemDetails | | | Found | | +--------------+-------+--------------+--------------+--------------+ | NOTE 1: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the | | | | | | DELETE | | | | | | method | | | | | | listed in | | | | | | t | | | | | | able 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | | | | | | | | NOTE 2: | | | | | | Failure | | | | | | causes are | | | | | | described in | | | | | | cl | | | | | | ause 5.17.5. | | | | | +--------------+-------+--------------+--------------+--------------+
**Table** 5.17.1.4.3.3-4: Headers supported by the 307 Response Code on this
resource
* * *
**Name** **Data type** **P** **Cardinality** **Description** Location String M
1 An alternative URI of the resource located in an alternative NEF.
* * *
**Table** 5.17.1.4.3.3-5: Headers supported by the 308 Response Code on this
resource
* * *
**Name** **Data type** **P** **Cardinality** **Description** Location String M
1 An alternative URI of the resource located in an alternative NEF.
* * *
### 5.17.1A Custom Operations without associated resources
There are no custom operations without associated resources defined for this
API in this release of the specification.
5.17.2 Notifications
#### 5.17.2.1 Introduction
Upon receipt of AM Event Notification from the PCF indicating the subscribed
AM policy event is detected, the NEF shall send an HTTP POST message including
the notified AM policy event to the AF. The NEF and the AF shall support the
notification mechanism as described in clause 5.2.5 of 3GPP TS 29.122 [4].
Table 5.17.2.1-1: Notifications overview
+----------------+----------------+----------------+----------------+ | Notification | Callback URI | HTTP method or | Description | | | | custom | | | | | operation | (service | | | | | operation) | +----------------+----------------+----------------+----------------+ | AM Event | { | POST | The AM policy | | Notification | eventNotifUri} | | changes event | | | | | notification | | | | | is provided by | | | | | the NEF to the | | | | | AF. | +----------------+----------------+----------------+----------------+
#### 5.17.2.2 AM Event Notification
##### 5.17.2.2.1 Description
The AM Event Notification is used by the NEF to report one or several observed
AM policy change events to AF that has subscribed to such Notifications via
the AM policy events subscription sub-resource.
##### 5.17.2.2.2 Callback URI
The Callback URI **\"{eventNotifUri}\"** shall be used with the callback URI
variables defined in table 5.17.2.2.2-1.
Table 5.17.2.2.2-1: Callback URI variables
* * *
Name Definition eventNotifUri Callback reference provided by the AF during
creation/modification of the subscription within the AM policy events
subscription sub-resource as defined in Table 5.17.3.3.2-1 or Table
5.17.3.3.3-1 or Table 5.6.2.4-1 of 3GPP TS 29.534 [43].
* * *
##### 5.17.2.2.3 Operation Definition
###### 5.17.2.2.3.1 Notification via HTTP POST
This method shall support the request data structures specified in table
5.17.2.2.3.1-1 and the response data structures and response codes specified
in table 5.17.2.2.3.1-2 and the Location Headers specified in table
5.17.2.2.3.1-3 and table 5.17.2.2.3.1-4.
Table 5.17.2.2.3.1-1: Data structures supported by the POST Request Body on
this resource
* * *
Data type P Cardinality Description AmEventsNotification M 1 Provides
information about the observed access and mobility policy change events by the
NEF to the AF.
* * *
Table 5.17.2.2.3.1-2: Data structures supported by the POST Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | N/A | | | 204 No | The event | | | | | Content | notification | | | | | | is received | | | | | | successfully. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 307 Temporary | Temporary | | | | | Redirect | redirection, | | | | | | during event | | | | | | notification. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI | | | | | | representing | | | | | | the end point | | | | | | of an | | | | | | alternative | | | | | | AF where the | | | | | | notification | | | | | | should be | | | | | | sent. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 308 Permanent | Permanent | | | | | Redirect | redirection, | | | | | | during event | | | | | | notification. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI | | | | | | representing | | | | | | the end point | | | | | | of an | | | | | | alternative | | | | | | AF where the | | | | | | notification | | | | | | should be | | | | | | sent. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the POST | | | | | | method listed | | | | | | in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.17.2.2.3.1-3: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location String M 1 An alternative
URI representing the end point of an alternative AF towards which the
notification should be redirected.
* * *
Table 5.17.2.2.3.1-4: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location String M 1 An alternative
URI representing the end point of an alternative AF towards which the
notification should be redirected.
* * *
###### 5.17.2.2.3.2 Notification via Websocket
If supported by both AF and NEF and successfully negotiated, the AM Event
Notification may alternatively be delivered through the Websocket mechanism as
defined in clause 5.2.5.4 of 3GPP TS 29.122 [4].
5.17.3 Data Model
5.17.3.1 General
This clause specifies the application data model supported by the
AMPolicyAuthorization API.
Table 5.17.3.1-1 specifies the data types defined for the
AMPolicyAuthorization API.
Table 5.17.3.1-1: AMPolicyAuthorization API specific Data Types
* * *
Data type Clause defined Description Applicability AppAmContextExpData
5.17.3.3.2 Represents an Individual application AM context exposure resource.  
AppAmContextExpRespData 5.17.3.5.1 Represents a response to a modification or
creation request of an Individual Application AM context resource. It may
contain the notification of the already met events.  
AppAmContextExpUpdateData 5.17.3.3.3 Contains the modification(s) to be
applied to the Individual application AM context exposure resource.  
GeographicalArea 5.17.3.3.4 Contains geographical area information (e.g. a
civic address or shapes).
* * *
5.17.3.2 Reused data types
The data types reused by the AMPolicyAuthorization API from other
specifications are listed in table 5.17.3.2-1.
**Table 5.17.3**.2-1: Re-used Data Types
* * *
Data type Reference Comments AmEventsNotification 3GPP TS 29.534 [43]
Describes the notification about the events occurred within an Individual
application AM context resource. AmEventsSubscData 3GPP TS 29.534 [43]
Identifies the AM policy events the application subscribes to.
AmEventsSubscDataRm 3GPP TS 29.534 [43] This data type is defined in the same
way as the \"AmEventsSubscData\" data type, but with the OpenAPI \"nullable:
true\" property. AmEventsSubscRespData 3GPP TS 29.534 [43] It represents a
response to an AM policy events subscription request and contains the
created/updated AM Policy Events Subscription resource. It may also include
the Notification of the events met at the time of subscription. CivicAddress
3GPP TS 29.572 [34] Identifies the civic address. DurationSec 3GPP TS 29.122
[4] Indicates the time duration. DurationSecRm 3GPP TS 29.122 [4] Indicates
the time duration, same as the \"DurationSec\" data type, but with the OpenAPI
\"nullable: true\" property. GeographicArea 3GPP TS 29.572 [34] Identifies the
geographical information with shapes. Gpsi 3GPP TS 29.571 [8] Identifies a
GPSI. Link 3GPP TS 29.122 [4] Identifies a referenced resource. ProblemDetails
3GPP TS 29.122 [4] Represents error related information. SupportedFeatures
3GPP TS 29.571 [8] Used to negotiate the applicability of the optional
features defined in table 5.17.4-1. WebsockNotifConfig 3GPP TS 29.122 [4]
Contains the configuration parameters to set up notification delivery over
Websocket protocol.
* * *
5.17.3.3 Structured data types
5.17.3.3.1 Introduction
This clause defines the structured data types to be used in resource
representations.
##### 5.17.3.3.2 Type: AppAmContextExpData
Table 5.17.3.3.2-1: Definition of type AppAmContextExpData
+-----------+-----------+---+-----------+-----------+-----------+ | Attribute | Data type | P | Ca | De | Appl | | name | | | rdinality | scription | icability | +-----------+-----------+---+-----------+-----------+-----------+ | self | Link | C | 0..1 | I | | | | | | | dentifies | | | | | | | the | | | | | | | i | | | | | | | ndividual | | | | | | | conf | | | | | | | iguration | | | | | | | resource. | | | | | | | | | | | | | | Shall be | | | | | | | present | | | | | | | in the | | | | | | | HTTP GET | | | | | | | response | | | | | | | when | | | | | | | reading | | | | | | | all the | | | | | | | confi | | | | | | | gurations | | | | | | | for an | | | | | | | AF. | | +-----------+-----------+---+-----------+-----------+-----------+ | evSubscs | AmEvents | O | 0..1 | R | | | | SubscData | | | epresents | | | | | | | the | | | | | | | sub | | | | | | | scription | | | | | | | to one or | | | | | | | more AM | | | | | | | policy | | | | | | | events. | | +-----------+-----------+---+-----------+-----------+-----------+ | gpsi | Gpsi | M | 1 | I | | | | | | | dentifies | | | | | | | the GPSI. | | +-----------+-----------+---+-----------+-----------+-----------+ | hi | boolean | C | 0..1 | Indicates | | | ghThruInd | | | | whether | | | | | | | high | | | | | | | t | | | | | | | hroughput | | | | | | | is | | | | | | | desired | | | | | | | for the | | | | | | | indicated | | | | | | | UE | | | | | | | traffic. | | | | | | | Set to | | | | | | | \"true\" | | | | | | | if high | | | | | | | t | | | | | | | hroughput | | | | | | | is | | | | | | | desired; | | | | | | | otherwise | | | | | | | set to | | | | | | | \ | | | | | | | "false\". | | | | | | | Default | | | | | | | value is | | | | | | | \"false\" | | | | | | | if | | | | | | | omitted. | | | | | | | (NOTE) | | +-----------+-----------+---+-----------+-----------+-----------+ | covReqs | array | C | 1..N | I | | | | (Geograph | | | dentifies | | | | icalArea) | | | the | | | | | | | allowed | | | | | | | geo | | | | | | | graphical | | | | | | | areas. | | | | | | | (NOTE) | | +-----------+-----------+---+-----------+-----------+-----------+ | polic | Du | O | 0..1 | Indicates | | | yDuration | rationSec | | | the time | | | | | | | duration | | | | | | | that the | | | | | | | policy | | | | | | | shall | | | | | | | last. | | +-----------+-----------+---+-----------+-----------+-----------+ | suppFeat | Supporte | C | 0..1 | Indicates | | | | dFeatures | | | the | | | | | | | n | | | | | | | egotiated | | | | | | | supported | | | | | | | f | | | | | | | eatures.. | | | | | | | | | | | | | | It shall | | | | | | | be | | | | | | | supplied | | | | | | | by the AF | | | | | | | in the | | | | | | | POST | | | | | | | request | | | | | | | that | | | | | | | requests | | | | | | | a | | | | | | | creation | | | | | | | of an | | | | | | | I | | | | | | | ndividual | | | | | | | ap | | | | | | | plication | | | | | | | AM | | | | | | | context | | | | | | | resource. | | | | | | | | | | | | | | It shall | | | | | | | be | | | | | | | supplied | | | | | | | by the | | | | | | | NEF in | | | | | | | the | | | | | | | response | | | | | | | to the | | | | | | | POST | | | | | | | request | | | | | | | that | | | | | | | requests | | | | | | | a | | | | | | | creation | | | | | | | of an | | | | | | | I | | | | | | | ndividual | | | | | | | ap | | | | | | | plication | | | | | | | AM | | | | | | | context | | | | | | | resource. | | +-----------+-----------+---+-----------+-----------+-----------+ | reque | boolean | O | 0..1 | Set to | Notific | | stTestNot | | | | true by | ation_te | | ification | | | | the AF to | st_event | | | | | | request | | | | | | | the NEF | | | | | | | to send a | | | | | | | test | | | | | | | not | | | | | | | ification | | | | | | | as | | | | | | | defined | | | | | | | in | | | | | | | claus | | | | | | | e 5.2.5.3 | | | | | | | of | | | | | | | 3GP | | | | | | | P TS 29.1 | | | | | | | 22 [4]. | | | | | | | Set to | | | | | | | false or | | | | | | | omitted | | | | | | | o | | | | | | | therwise. | | +-----------+-----------+---+-----------+-----------+-----------+ | websockNo | WebsockNo | O | 0..1 | Conf | Notif | | tifConfig | tifConfig | | | iguration | ication_ | | | | | | p | websocket | | | | | | arameters | | | | | | | to set up | | | | | | | not | | | | | | | ification | | | | | | | delivery | | | | | | | over | | | | | | | Websocket | | | | | | | protocol. | | +-----------+-----------+---+-----------+-----------+-----------+ | NOTE: | | | | | | | Either | | | | | | | \"high | | | | | | | ThruInd\" | | | | | | | attribute | | | | | | | or | | | | | | | \" | | | | | | | covReqs\" | | | | | | | attribute | | | | | | | or both | | | | | | | shall be | | | | | | | included. | | | | | | +-----------+-----------+---+-----------+-----------+-----------+
##### 5.17.3.3.3 Type: AppAmContextExpUpdateData
Table 5.17.3.3.3-1: Definition of type AppAmContextExpUpdateData
* * *
Attribute name Data type P Cardinality Description Applicability evSubscs
AmEventsSubscDataRm O 0..1 Represents the subscription to one or more AM
policy events.  
highThruInd boolean O 0..1 Indicates whether high throughput is desired for
the indicated UE traffic. Set to \"true\" if high throughput is desired;
otherwise set to \"false\".  
covReqs array(GeographicalArea) O 1..N Identifies the allowed geographical
areas. (NOTE)  
policyDuration DurationSecRm O 0..1 Indicates the time duration that the
policy shall last.  
NOTE: The value of the property shall be set to NULL for removal.
* * *
##### 5.17.3.3.4 Type: GeographicalArea
Table 5.17.3.3.4-1: Definition of type GeographicalArea
* * *
Attribute name Data type P Cardinality Description Applicability civicAddress
CivicAddress C 0..1 Identifies a civic address.  
shapes GeographicArea C 0..1 Identifies a geographic area specified by
different shapes.  
NOTE: One of \"civicAddress\" attribute or \"shapes\" attribute shall be
included.
* * *
5.17.3.4 Simple data types and enumerations
5.17.3.4.1 Introduction
This clause defines simple data types and enumerations that can be referenced
from data structures defined in the previous clauses.
5.17.3.4.2 Simple data types
The simple data types defined in table 5.17.3.4.2-1 shall be supported.
**Table 5.17.3**.4.2-1: Simple data types
* * *
**Type Name** **Type Definition** **Description** **Applicability**
* * *
#### 5.17.3.5 Data types describing alternative data types or combinations of
data types
##### 5.17.3.5.1 Type: AppAmContextExpRespData
Table 5.17.3.5.1-1: Definition of type AppAmContextExpRespData as a list of
non-exclusive alternatives
* * *
Data type Cardinality Description Applicability AmEventsNotification 0..1 It
represents the notification of a match event during the creation or
modification of the Individual application AM context data.  
AppAmContextExpData 1 It represents the Individual application AM context
resource.
* * *
5.17.4 Used Features
The table below defines the features applicable to the AMPolicyControl API.
Those features are negotiated as described in clause 5.2.7 of 3GPP TS 29.122
[4].
**Table 5.17.4-1: Features used by AMPolicyAuthorizati** on API
* * *
**Feature number** **Feature Name** **Description** 1 Notification_websocket
The delivery of notifications over Websocket is supported as described in 3GPP
TS 29.122 [4]. This feature requires that the Notification_test_event feature
is also supported. 2 Notification_test_event The testing of notification
connection is supported as described in 3GPP TS 29.122 [4].
* * *
### 5.17.5 Error handling
#### 5.17.5.1 General
HTTP error handling shall be supported as specified in clause 5.2.6 of 3GPP TS
29.122 [4].
In addition, the requirements in the following clauses shall apply.
#### 5.17.5.2 Protocol Errors
In this Release of the specification, there are no additional protocol errors
applicable for the AMPolicyAuthorization API.
#### 5.17.5.3 Application Errors
The application errors defined for the AMPolicyAuthorization API are listed in
table 5.17.5.3-1.
Table 5.17.5.3-1: Application errors
* * *
Application Error HTTP status code Description INVALID_POLICY_REQUEST 400 Bad
Request The HTTP request is rejected because the service information for the
AM context is invalid or insufficient for the PCF to perform the requested
action. APPLICATION_AM_CONTEXT_NOT_FOUND 404 Not Found The HTTP request is
rejected because the specified Individual Application AM Context does not
exist. POLICY_ASSOCIATION_NOT_AVAILABLE 500 Internal Server Error The PCF
failed in executing binding with the UE/AM Policy Context.
* * *
## 5.18 AMInfluence API
### 5.18.0 Introduction
The Nnef_AMInfluence service shall use the AMInfluence API.
The API URI of AMInfluence API shall be:
**{apiRoot}/3gpp-am-influence/v1**
with the following components:
\- \"apiRoot\" is set as defined in clause 5.2.4 of 3GPP TS 29.122 [4].
\- \"apiName\" shall be set to \"3gpp-am-influence\".
\- \"apiVersion\" shall be set to \"v1\" for the current version defined in
the present document.
All resource URIs in the clauses below are defined relative to the above API
URI.
### 5.18.1 Resources
#### 5.18.1.1 Overview
This clause describes the structure for the Resource URIs as shown in figure
5.18.1.1-1 and the resources and HTTP methods used for the AMInfluence API.
Figure 5.18.1.1-1: Resource URI structure of the AMInfluence API
Table 5.18.1.1-1 provides an overview of the resources and HTTP methods
applicable for the AMInfluence API.
Table 5.18.1.1-1: Resources and methods overview
+-----------------+-----------------+-------------+-----------------+ | Resource name | Resource URI | HTTP method | Description | +-----------------+-----------------+-------------+-----------------+ | AM Influence | /{afId | GET | Read all | | Subscription | }/subscriptions | | subscriptions | | | | | for a given AF. | | (NOTE) | | | | +-----------------+-----------------+-------------+-----------------+ | | | POST | Create a new | | | | | subscription to | | | | | AM influence. | +-----------------+-----------------+-------------+-----------------+ | Individual AM | /{afId}/ | GET | Read an | | Influence | subscriptions/{ | | existing | | Subscription | subscriptionId} | | subscription to | | | | | AM influence. | +-----------------+-----------------+-------------+-----------------+ | | | PUT | Update an | | | | | existing | | | | | subscription to | | | | | AM influence. | +-----------------+-----------------+-------------+-----------------+ | | | PATCH | Modify an | | | | | existing | | | | | subscription to | | | | | AM influence. | +-----------------+-----------------+-------------+-----------------+ | | | DELETE | Delete an | | | | | existing | | | | | subscription to | | | | | AM influence. | +-----------------+-----------------+-------------+-----------------+ | NOTE: The \"AM | | | | | Influence | | | | | Subscription\" | | | | | resource is a | | | | | collection | | | | | resource and | | | | | corresponds to | | | | | the collection | | | | | of AM Influence | | | | | Subscriptions | | | | | managed by the | | | | | NEF. | | | | +-----------------+-----------------+-------------+-----------------+
#### 5.18.1.2 Resource: AM Influence Subscription
##### 5.18.1.2.1 Introduction
This resource allows an AF to read all active AM influence subscribtions and
create a new subscription resource for a given AF.
##### 5.18.1.2.2 Resource Definition
Resource URI: **{apiRoot}/3gpp-am-influence/v1/{afId}/subscriptions**
This resource shall support the resource URI variables defined in table
5.18.1.2.2-1.
Table 5.18.1.2.2-1: Resource URI variables for this resource
* * *
Name Data type Definition apiRoot string Clause 5.2.4 of 3GPP TS 29.122 [4].
afId string Identifier of the AF.
* * *
##### 5.18.1.2.3 Resource Methods
###### 5.18.1.2.3.1 General
The following clauses specify the resource methods supported by the resource
as described in clause 5.18.1.2.2.
###### 5.18.1.2.3.2 GET
The GET method allows to read all active subscriptions for a given AF. The AF
shall initiate the HTTP GET request message and the NEF shall respond to the
message.
This method shall support the URI query parameters specified in table
5.18.1.2.3.2-1.
Table 5.18.1.2.3.2-1: URI query parameters supported by the GET method on this
resource
* * *
Name Data type P Cardinality Description N/A
* * *
This method shall support the request data structures specified in table
5.18.1.2.3.2-2 and the response data structures and response codes specified
in table 5.18.1.2.3.2-3.
Table 5.18.1.2.3.2-2: Data structures supported by the GET Request Body on
this resource
* * *
Data type P Cardinality Description N/A
* * *
Table 5.18.1.2.3.2-3: Data structures supported by the GET Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | arra | M | 0..N | 200 OK | The | | y(AmInfluSub) | | | | subscription | | | | | | information | | | | | | for the AF in | | | | | | the request | | | | | | URI are | | | | | | returned. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 307 Temporary | Temporary | | | | | Redirect | redirection, | | | | | | during | | | | | | subscription | | | | | | retrieval. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 308 Permanent | Permanent | | | | | Redirect | redirection, | | | | | | during | | | | | | subscription | | | | | | retrieval. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the GET | | | | | | method listed | | | | | | in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.18.1.2.3.2-4: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
Table 5.18.1.2.3.2-5: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
###### 5.18.1.2.3.3 POST
The POST method creates a new subscription resource to AM influence
subscription for a given AF. The AF shall initiate the HTTP POST request
message and the NEF shall respond to the message. The NEF shall construct the
URI of the created resource.
This method shall support the request data structures specified in table
5.18.1.2.3.3-1 and the response data structures and response codes specified
in table 5.18.1.2.3.3-2.
Table 5.18.1.2.3.3-1: Data structures supported by the POST Request Body on
this resource
* * *
Data type P Cardinality Description AmInfluSub M 1 Parameters to create a
resource for the AM Influence and/or notification about service area coverage
outcome events with the NEF.
* * *
Table 5.18.1.2.3.3-2: Data structures supported by the POST Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | AmInfluSub | M | 1 | 201 Created | The | | | | | | subscription | | | | | | was created | | | | | | successfully. | | | | | | | | | | | | The URI of | | | | | | the created | | | | | | resource | | | | | | shall be | | | | | | returned in | | | | | | the | | | | | | \"Location\" | | | | | | HTTP header. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the POST | | | | | | method listed | | | | | | in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.18.1.2.3.3-3: Headers supported by the 201 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 Contains the URI
of the newly created resource, according to the structure: {apiRoot}/3gpp-am-
Influence/v1/{afId}/subscriptions/{subscriptionId}
* * *
#### 5.18.1.3 Resource: Individual AM Influence Subscription
##### 5.18.1.3.1 Introduction
This resource allows an AF to read, update or delete an existing AM Influence
subscription.
##### 5.18.1.3.2 Resource Definition
Resource URI: **{apiRoot}/3gpp-am-
influence/v1/{afId}/subscriptions/{subscriptionId}**
This resource shall support the resource URI variables defined in table
5.18.1.3.2-1.
Table 5.18.1.3.2-1: Resource URI variables for this resource
* * *
Name Data type Definition apiRoot string Clause 5.2.4 of 3GPP TS 29.122 [4].
afId string Identifier of the AF. subscriptionId string Identifier of the
subscription.
* * *
##### 5.18.1.3.3 Resource Methods
###### 5.18.1.3.3.1 General
The following clauses specify the resource methods supported by the resource
as described in clause 5.18.1.3.2.
###### 5.18.1.3.3.2 GET
The GET method allows to read the active subscription for a given AF and
subscription Id. The AF shall initiate the HTTP GET request message and the
NEF shall respond to the message.
This method shall support the URI query parameters specified in table
5.18.1.3.3.2-1.
Table 5.18.1.3.3.2-1: URI query parameters supported by the GET method on this
resource
* * *
Name Data type P Cardinality Description N/A
* * *
This method shall support the request data structures specified in table
5.18.1.3.3.2-2 and the response data structures and response codes specified
in table 5.18.1.3.3.2-3.
Table 5.18.1.3.3.2-2: Data structures supported by the GET Request Body on
this resource
* * *
Data type P Cardinality Description N/A
* * *
Table 5.18.1.3.3.2-3: Data structures supported by the GET Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | AmInfluSub | M | 1 | 200 OK | The | | | | | | subscription | | | | | | information | | | | | | for the AF in | | | | | | the request | | | | | | URI are | | | | | | returned. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 307 Temporary | Temporary | | | | | Redirect | redirection, | | | | | | during | | | | | | subscription | | | | | | retrieval. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 308 Permanent | Permanent | | | | | Redirect | redirection, | | | | | | during | | | | | | subscription | | | | | | retrieval. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the GET | | | | | | method listed | | | | | | in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.18.1.3.3.2-4: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
Table 5.18.1.3.3.2-5: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
###### 5.18.1.3.3.3 PUT
The PUT method is used to replace an existing subscription resource to update
a subscription. The AF shall initiate the HTTP PUT request message and the NEF
shall respond to the message.
This method shall support the request data structures specified in table
5.18.1.3.3.3-1 and the response data structures and response codes specified
in table 5.18.1.3.3.3-2.
Table 5.18.1.3.3.3-1: Data structures supported by the PUT Request Body on
this resource
* * *
Data type P Cardinality Description AmInfluSub M 1 Modify an existing AM
Influence subscription.
* * *
Table 5.18.1.3.3.3-2: Data structures supported by the PUT Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | AmInfluSub | M | 1 | 200 OK | The | | | | | | subscription | | | | | | was replaced | | | | | | successfully | | | | | | and a | | | | | | r | | | | | | epresentation | | | | | | is returned. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 204 No | The | | | | | Content | subscription | | | | | | was replaced | | | | | | successfully. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 307 Temporary | Temporary | | | | | Redirect | redirection, | | | | | | during | | | | | | subscription | | | | | | modification. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 308 Permanent | Permanent | | | | | Redirect | redirection, | | | | | | during | | | | | | subscription | | | | | | modification. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the PUT | | | | | | method listed | | | | | | in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.18.1.3.3.3-3: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
Table 5.18.1.3.3.3-4: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
###### 5.18.1.3.3.4 PATCH
The PATCH method allows to change some properties of an existing AM influence
subscription. The AF shall initiate the HTTP PATCH request message and the NEF
shall respond to the message.
This method shall support the request data structures specified in table
5.18.1.3.3.4-1 and the response data structures and response codes specified
in table 5.18.1.3.3.4-2.
Table 5.18.1.3.3.4-1: Data structures supported by the PATCH Request Body on
this resource
* * *
Data type P Cardinality Description AmInfluSubPatch M 1 Partial update of a
subscription to AM influence and/or notifications about service area coverage
outcome events with the NEF.
* * *
Table 5.18.1.3.3.4-2: Data structures supported by the PATCH Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | AmInfluSub | M | 1 | 200 OK | The | | | | | | subscription | | | | | | was partial | | | | | | modified | | | | | | successfully | | | | | | and a | | | | | | r | | | | | | epresentation | | | | | | is returned. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 204 No | The | | | | | Content | subscription | | | | | | was partial | | | | | | modified | | | | | | successfully. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 307 Temporary | Temporary | | | | | Redirect | redirection, | | | | | | during | | | | | | subscription | | | | | | modification. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 308 Permanent | Permanent | | | | | Redirect | redirection, | | | | | | during | | | | | | subscription | | | | | | modification. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the PATCH | | | | | | method listed | | | | | | in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.18.1.3.3.4-3: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
Table 5.18.1.3.3.4-4: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
###### 5.18.1.3.3.5 DELETE
The DELETE method deletes an existing individual AM influence subscription for
a given AF. The AF shall initiate the HTTP DELETE request message and the NEF
shall respond to the message.
This method shall support the URI query parameters specified in table
5.18.1.3.3.5-1.
Table 5.18.1.3.3.5-1: URI query parameters supported by the DELETE method on
this resource
* * *
Name Data type P Cardinality Description N/A
* * *
This method shall support the request data structures specified in table
5.18.1.3.3.5-2 and the response data structures and response codes specified
in table 5.18.1.3.3.5-3.
Table 5.18.1.3.3.5-2: Data structures supported by the DELETE Request Body on
this resource
* * *
Data type P Cardinality Description N/A
* * *
Table 5.18.1.3.3.5-3: Data structures supported by the DELETE Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | N/A | | | 204 No | The | | | | | Content | subscription | | | | | | was | | | | | | terminated | | | | | | successfully. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 307 Temporary | Temporary | | | | | Redirect | redirection, | | | | | | during | | | | | | subscription | | | | | | termination. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 308 Permanent | Permanent | | | | | Redirect | redirection, | | | | | | during | | | | | | subscription | | | | | | termination. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the | | | | | | DELETE method | | | | | | listed in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.18.1.3.3.5-4: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
Table 5.18.1.3.3.5-5: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
### 5.18.1A Custom Operations without associated resources
There are no custom operations without associated resources defined for this
API in this release of the specification.
### 5.18.2 Notifications
#### 5.18.2.1 Introduction
Upon receipt of a service area coverage outcome event from the PCF, the NEF
shall send an HTTP POST message including the notified event to the AF.The NEF
and the AF shall support the notification mechanism as described in clause
5.2.5 of 3GPP TS 29.122 [4].
Table 5.18.2.1-1: Notifications overview
+----------------+----------------+----------------+----------------+ | Notification | Callback URI | HTTP method or | Description | | | | custom | | | | | operation | (service | | | | | operation) | +----------------+----------------+----------------+----------------+ | Event | {notificati | POST | The service | | Notification | onDestination} | | area coverage | | | | | outcome event | | | | | from the NEF | | | | | to the AF. | +----------------+----------------+----------------+----------------+
#### 5.18.2.2 Event Notification
##### 5.18.2.2.1 Description
The Event Notification is used by the NEF to report notification of the
service area coverage outcome event from the PCF to the AF.
##### 5.18.2.2.2 Target URI
The Callback URI **\"{notificationDestination}\"** shall be used with the
callback URI variables defined in table 5.18.2.2.2-1.
Table 5.18.2.2.2-1: Callback URI variables
* * *
Name Data type Definition notificationDestination Link Callback reference
provided by the AF during creation/modification of the subscription within the
AmInfluSub data type as defined in Table 5.18.3.3.2-1 or the AmInfluSubPatch
data type as defined in Table 5.18.3.3.3-1.
* * *
##### 5.18.2.2.3 Operation Definition
##### 5.18.2.2.3.1 Notification via HTTP POST {#notification-via-http-post-8
.H6}
This method shall support the request data structures specified in table
5.18.2.2.3.1-1 and the response data structures and response codes specified
in table 5.18.2.2.3.1-2.
Table 5.18.2.2.3.1-1: Data structures supported by the POST Request Body on
this resource
* * *
Data type P Cardinality Description AmInfluEventNotif M 1 The service area
coverage outcome event notification is provided by the NEF to the AF.
* * *
Table 5.18.2.2.3.1-2: Data structures supported by the POST Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | N/A | | | 204 No | The event | | | | | Content | notification | | | | | | is received | | | | | | successfully. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 307 Temporary | Temporary | | | | | Redirect | redirection, | | | | | | during event | | | | | | notification. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI | | | | | | representing | | | | | | the end point | | | | | | of an | | | | | | alternative | | | | | | AF where the | | | | | | notification | | | | | | should be | | | | | | sent. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 308 Permanent | Permanent | | | | | Redirect | redirection, | | | | | | during event | | | | | | notification. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI | | | | | | representing | | | | | | the end point | | | | | | of an | | | | | | alternative | | | | | | AF where the | | | | | | notification | | | | | | should be | | | | | | sent. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the POST | | | | | | method listed | | | | | | in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.18.2.2.3.1-3: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI representing the end point of an alternative AF towards which the
notification should be redirected.
* * *
Table 5.18.2.2.3.1-4: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI representing the end point of an alternative AF towards which the
notification should be redirected.
* * *
##### 5.18.2.2.3.2 Notification via Websocket {#notification-via-websocket-6
.H6}
If supported by both AF and NEF and successfully negotiated, the
AmInfluEventNotif may alternatively be delivered through the Websocket
mechanism as defined in clause 5.2.5.4 of 3GPP TS 29.122 [4].
### 5.18.3 Data Model
#### 5.18.3.1 General
This clause specifies the application data model supported by the AMInfluence
API.
Table 5.18.3.1-1 specifies the data types defined for the AMInfluence API.
Table 5.18.3.1-1: AMInfluence API specific Data Types
* * *
Data type Clause defined Description Applicability AmInfluEvent 5.18.3.4.3
Represents the service area coverage outcome event.  
AmInfluEventNotif 5.18.3.3.4 Represents an AM influence event notification.  
AmInfluSub 5.18.3.3.2 Represents an AM influence subscription.  
AmInfluSubPatch 5.18.3.3.3 Represents parameters to request the modification
of an AM influence subscription resource.  
DnnSnssaiInformation 5.18.3.3.5 Represents a (DNN, SNSSAI) combination.
* * *
#### 5.18.3.2 Reused data types
The data types reused by the AMInfluence API from other specifications are
listed in table 5.18.3.2-1.
Table 5.18.3.2-1: Re-used Data Types
* * *
Data type Reference Comments Dnn 3GPP TS 29.571 [8] Identifies a DNN.
DurationSec 3GPP TS 29.122 [4] Indicates the time duration. DurationSecRm 3GPP
TS 29.122 [4] Indicates the time duration, same as the \"DurationSec\" data
type, but with the OpenAPI \"nullable: true\" property. ExternalGroupId 3GPP
TS 29.122 [4] External Group Identifier for a user group. GeographicalArea
5.17.3.3.4 Identifies the geographical area information. Gpsi 3GPP TS 29.571
[8] Identifies a GPSI. LinkRm 3GPP TS 29.122 [4] Indicates a referenced
resource, same as the \"Link\" data type, but with the OpenAPI \"nullable:
true\" property. Link 3GPP TS 29.122 [4] Identifies a referenced resource.
PlmnId 3GPP TS 29.571 [8] Identifies a PLMN. Snssai 3GPP TS 29.571 [8]
Identifies the S-NSSAI. SupportedFeatures 3GPP TS 29.571 [8] Used to negotiate
the applicability of the optional features defined in table 5.18.4-1.
WebsockNotifConfig 3GPP TS 29.122 [4] Contains the configuration parameters to
set up notification delivery over Websocket protocol.
* * *
#### 5.18.3.3 Structured data types
##### 5.18.3.3.1 Introduction
This clause defines the structured data types to be used in resource
representations.
##### 5.18.3.3.2 Type: AmInfluSub
This type represents an AM influence subscription. The same structure is used
in the subscription request and subscription response.
Table 5.18.3.3.2-1: Definition of type AMInfluSub
+-----------+-----------+---+-----------+-----------+-----------+ | Attribute | Data type | P | Ca | De | Appl | | name | | | rdinality | scription | icability | | | | | | | | | | | | | | (NOTE 1) | +-----------+-----------+---+-----------+-----------+-----------+ | afTransId | string | M | 1 | I | | | | | | | dentifies | | | | | | | an NEF | | | | | | | N | | | | | | | orthbound | | | | | | | interface | | | | | | | tr | | | | | | | ansaction | | | | | | | request, | | | | | | | generated | | | | | | | by the | | | | | | | AF. | | +-----------+-----------+---+-----------+-----------+-----------+ | gpsi | Gpsi | O | 0..1 | I | | | | | | | dentifies | | | | | | | a user | | | | | | | with | | | | | | | GPSI. | | | | | | | | | | | | | | (NOTE 3) | | +-----------+-----------+---+-----------+-----------+-----------+ | extern | Extern | O | 0..1 | I | | | alGroupId | alGroupId | | | dentifies | | | | | | | a group | | | | | | | of users. | | | | | | | | | | | | | | (NOTE 3) | | +-----------+-----------+---+-----------+-----------+-----------+ | anyUeInd | boolean | O | 0..1 | I | | | | | | | dentifies | | | | | | | whether | | | | | | | the AF | | | | | | | request | | | | | | | applies | | | | | | | to any UE | | | | | | | (i.e. all | | | | | | | no | | | | | | | n-roaming | | | | | | | UEs). | | | | | | | This | | | | | | | attribute | | | | | | | shall set | | | | | | | to | | | | | | | \"true\" | | | | | | | if | | | | | | | a | | | | | | | pplicable | | | | | | | for any | | | | | | | no | | | | | | | n-roaming | | | | | | | UE, | | | | | | | o | | | | | | | therwise, | | | | | | | set to | | | | | | | \ | | | | | | | "false\". | | | | | | | | | | | | | | (NOTE 2) | | | | | | | (NOTE 3) | | +-----------+-----------+---+-----------+-----------+-----------+ | roam | arra | O | 1..N | Indicates | D | | UePlmnIds | y(PlmnId) | | | a list of | CAMP_Roa | | | | | | PLMNs | ming_LBO | | | | | | rep | | | | | | | resenting | | | | | | | the home | | | | | | | PLMN for | | | | | | | the | | | | | | | inbound | | | | | | | roaming | | | | | | | UEs in | | | | | | | LBO | | | | | | | roaming | | | | | | | s | | | | | | | cenarios. | | | | | | | (NOTE 3) | | | | | | | (NOTE 5) | | +-----------+-----------+---+-----------+-----------+-----------+ | dnnSn | array(Dnn | O | 1..N | Each of | | | ssaiInfos | SnssaiInf | | | the | | | | ormation) | | | element | | | | | | | i | | | | | | | dentifies | | | | | | | a | | | | | | | co | | | | | | | mbination | | | | | | | of (DNN, | | | | | | | S-NSSAI). | | +-----------+-----------+---+-----------+-----------+-----------+ | afAppIds | arra | O | 1..N | I | | | | y(string) | | | dentifies | | | | | | | applic | | | | | | | ation(s). | | +-----------+-----------+---+-----------+-----------+-----------+ | hi | boolean | C | 0..1 | Indicates | | | ghThruInd | | | | whether | | | | | | | high | | | | | | | t | | | | | | | hroughput | | | | | | | is | | | | | | | desired | | | | | | | for UE | | | | | | | traffic. | | | | | | | Set to | | | | | | | \"true\" | | | | | | | if high | | | | | | | t | | | | | | | hroughput | | | | | | | is | | | | | | | desired; | | | | | | | otherwise | | | | | | | set to | | | | | | | \ | | | | | | | "false\". | | | | | | | Default | | | | | | | value is | | | | | | | \"false\" | | | | | | | if | | | | | | | omitted. | | | | | | | (NOTE 4) | | +-----------+-----------+---+-----------+-----------+-----------+ | geoAreas | array | C | 1..N | I | | | | (Geograph | | | dentifies | | | | icalArea) | | | geo | | | | | | | graphical | | | | | | | areas of | | | | | | | the user | | | | | | | where the | | | | | | | request | | | | | | | is | | | | | | | ap | | | | | | | plicable. | | | | | | | (NOTE 4) | | +-----------+-----------+---+-----------+-----------+-----------+ | polic | Du | O | 0..1 | Indicates | | | yDuration | rationSec | | | the time | | | | | | | duration | | | | | | | that the | | | | | | | policy | | | | | | | shall | | | | | | | last. | | +-----------+-----------+---+-----------+-----------+-----------+ | self | Link | C | 0..1 | Link to | | | | | | | the | | | | | | | created | | | | | | | resource. | | | | | | | | | | | | | | This | | | | | | | parameter | | | | | | | shall be | | | | | | | supplied | | | | | | | by the | | | | | | | NEF in | | | | | | | HTTP | | | | | | | responses | | | | | | | that | | | | | | | include | | | | | | | an object | | | | | | | of | | | | | | | A | | | | | | | mInfluSub | | | | | | | type. | | +-----------+-----------+---+-----------+-----------+-----------+ | subscri | a | O | 1..N | I | | | bedEvents | rray(AmIn | | | dentifies | | | | fluEvent) | | | the | | | | | | | re | | | | | | | quirement | | | | | | | to be | | | | | | | notified | | | | | | | of the | | | | | | | event(s). | | +-----------+-----------+---+-----------+-----------+-----------+ | notif | Link | C | 0..1 | Contains | | | icationDe | | | | the | | | stination | | | | Callback | | | | | | | URL to | | | | | | | receive | | | | | | | the | | | | | | | not | | | | | | | ification | | | | | | | from the | | | | | | | NEF. | | | | | | | | | | | | | | It shall | | | | | | | be | | | | | | | present | | | | | | | if the | | | | | | | \" | | | | | | | subscribe | | | | | | | dEvents\" | | | | | | | is | | | | | | | present. | | +-----------+-----------+---+-----------+-----------+-----------+ | reque | boolean | O | 0..1 | Set to | Notific | | stTestNot | | | | true by | ation_te | | ification | | | | the AF to | st_event | | | | | | request | | | | | | | the NEF | | | | | | | to send a | | | | | | | test | | | | | | | not | | | | | | | ification | | | | | | | as | | | | | | | defined | | | | | | | in | | | | | | | claus | | | | | | | e 5.2.5.3 | | | | | | | of | | | | | | | 3GP | | | | | | | P TS 29.1 | | | | | | | 22 [4]. | | | | | | | Set to | | | | | | | false or | | | | | | | omitted | | | | | | | o | | | | | | | therwise. | | +-----------+-----------+---+-----------+-----------+-----------+ | websockNo | WebsockNo | O | 0..1 | Conf | Notif | | tifConfig | tifConfig | | | iguration | ication_ | | | | | | p | websocket | | | | | | arameters | | | | | | | to set up | | | | | | | not | | | | | | | ification | | | | | | | delivery | | | | | | | over | | | | | | | Websocket | | | | | | | protocol. | | +-----------+-----------+---+-----------+-----------+-----------+ | suppFeat | Supporte | C | 0..1 | Indicates | | | | dFeatures | | | the list | | | | | | | of | | | | | | | Supported | | | | | | | features | | | | | | | used as | | | | | | | described | | | | | | | in | | | | | | | claus | | | | | | | e 5.18.4. | | | | | | | | | | | | | | This | | | | | | | attribute | | | | | | | shall be | | | | | | | provided | | | | | | | in the | | | | | | | POST | | | | | | | request | | | | | | | and in | | | | | | | the | | | | | | | response | | | | | | | of | | | | | | | s | | | | | | | uccessful | | | | | | | resource | | | | | | | creation. | | +-----------+-----------+---+-----------+-----------+-----------+ | NOTE 1: | | | | | | | P | | | | | | | roperties | | | | | | | marked | | | | | | | with a | | | | | | | feature | | | | | | | as | | | | | | | defined | | | | | | | in | | | | | | | clau | | | | | | | se 5.18.4 | | | | | | | are | | | | | | | a | | | | | | | pplicable | | | | | | | as | | | | | | | described | | | | | | | in | | | | | | | cla | | | | | | | use 5.2.7 | | | | | | | of | | | | | | | 3GP | | | | | | | P TS 29.1 | | | | | | | 22 [4]. | | | | | | | If no | | | | | | | feature | | | | | | | is | | | | | | | i | | | | | | | ndicated, | | | | | | | the | | | | | | | related | | | | | | | property | | | | | | | applies | | | | | | | for all | | | | | | | the | | | | | | | features. | | | | | | | | | | | | | | NOTE 2: | | | | | | | If target | | | | | | | to any | | | | | | | no | | | | | | | n-roaming | | | | | | | UE, then | | | | | | | \"a | | | | | | | nyUeInd\" | | | | | | | attribute | | | | | | | together | | | | | | | with | | | | | | | \"dnnSnss | | | | | | | aiInfos\" | | | | | | | attribute | | | | | | | or | | | | | | | \"a | | | | | | | fAppIds\" | | | | | | | attribute | | | | | | | shall be | | | | | | | included. | | | | | | | | | | | | | | NOTE 3: | | | | | | | One of | | | | | | | i | | | | | | | ndividual | | | | | | | UE | | | | | | | i | | | | | | | dentifier | | | | | | | (i.e. | | | | | | | \"gpsi\" | | | | | | | at | | | | | | | tribute), | | | | | | | External | | | | | | | Group | | | | | | | I | | | | | | | dentifier | | | | | | | (i.e. | | | | | | | \ | | | | | | | "external | | | | | | | GroupId\" | | | | | | | a | | | | | | | ttribute) | | | | | | | or any UE | | | | | | | i | | | | | | | ndication | | | | | | | (i.e. | | | | | | | \"a | | | | | | | nyUeInd\" | | | | | | | a | | | | | | | ttribute) | | | | | | | or any | | | | | | | inbound | | | | | | | roaming | | | | | | | UEs PLMN | | | | | | | ID (i.e. | | | | | | | \"roamUeP | | | | | | | lmnIds\") | | | | | | | shall be | | | | | | | included. | | | | | | | | | | | | | | NOTE 4: | | | | | | | Any of | | | | | | | the | | | | | | | \"high | | | | | | | ThruInd\" | | | | | | | attribute | | | | | | | or | | | | | | | \"g | | | | | | | eoAreas\" | | | | | | | attribute | | | | | | | shall be | | | | | | | included. | | | | | | | | | | | | | | NOTE 5: | | | | | | | \"roamUe | | | | | | | PlmnIds\" | | | | | | | attribute | | | | | | | is | | | | | | | a | | | | | | | pplicable | | | | | | | only in | | | | | | | LBO | | | | | | | roaming | | | | | | | scenarios | | | | | | | and if | | | | | | | \"a | | | | | | | fAppIds\" | | | | | | | attribute | | | | | | | or | | | | | | | \"dnnSnss | | | | | | | aiInfos\" | | | | | | | is | | | | | | | provided. | | | | | | +-----------+-----------+---+-----------+-----------+-----------+
##### 5.18.3.3.3 Type: AmInfluSubPatch
This type represents AM influence subscription parameters provided by the AF
to the NEF. The structure is used for HTTP PATCH request.
Table 5.18.3.3.3-1: Definition of type AmInfluSubPatch
+-----------+-----------+---+-----------+-----------+-----------+ | Attribute | Data type | P | Ca | De | Appl | | name | | | rdinality | scription | icability | +-----------+-----------+---+-----------+-----------+-----------+ | hi | boolean | O | 0..1 | Indicates | | | ghThruInd | | | | whether | | | | | | | high | | | | | | | t | | | | | | | hroughput | | | | | | | is | | | | | | | desired | | | | | | | for UE | | | | | | | traffic. | | | | | | | Set to | | | | | | | \"true\" | | | | | | | if high | | | | | | | t | | | | | | | hroughput | | | | | | | is | | | | | | | desired; | | | | | | | otherwise | | | | | | | set to | | | | | | | \ | | | | | | | "false\". | | +-----------+-----------+---+-----------+-----------+-----------+ | geoAreas | array | O | 1..N | I | | | | (Geograph | | | dentifies | | | | icalArea) | | | geo | | | | | | | graphical | | | | | | | areas of | | | | | | | the user | | | | | | | where the | | | | | | | UE is | | | | | | | located. | | | | | | | (NOTE 1) | | +-----------+-----------+---+-----------+-----------+-----------+ | polic | Dura | O | 0..1 | Indicates | | | yDuration | tionSecRm | | | the time | | | | | | | duration | | | | | | | that the | | | | | | | policy | | | | | | | shall | | | | | | | last. | | | | | | | (NOTE 1) | | +-----------+-----------+---+-----------+-----------+-----------+ | dnnSn | array(Dnn | O | 1..N | Each of | | | ssaiInfos | SnssaiInf | | | the | | | | ormation) | | | element | | | | | | | i | | | | | | | dentifies | | | | | | | a | | | | | | | co | | | | | | | mbination | | | | | | | of (DNN, | | | | | | | S-NSSAI). | | | | | | | (NOTE 1) | | +-----------+-----------+---+-----------+-----------+-----------+ | subscri | a | O | 1..N | I | | | bedEvents | rray(AmIn | | | dentifies | | | | fluEvent) | | | the | | | | | | | re | | | | | | | quirement | | | | | | | to be | | | | | | | notified | | | | | | | of the | | | | | | | event(s). | | | | | | | (NOTE 1) | | +-----------+-----------+---+-----------+-----------+-----------+ | notif | LinkRm | O | 0..1 | Contains | | | icationDe | | | | the | | | stination | | | | Callback | | | | | | | URL to | | | | | | | receive | | | | | | | the | | | | | | | not | | | | | | | ification | | | | | | | from the | | | | | | | NEF. | | | | | | | (NOTE 1, | | | | | | | NOTE 2) | | +-----------+-----------+---+-----------+-----------+-----------+ | afAppIds | arra | O | 1..N | I | | | | y(string) | | | dentifies | | | | | | | applic | | | | | | | ation(s). | | | | | | | (NOTE 1) | | +-----------+-----------+---+-----------+-----------+-----------+ | NOTE 1: | | | | | | | The value | | | | | | | of the | | | | | | | property | | | | | | | shall be | | | | | | | set to | | | | | | | NULL for | | | | | | | removal. | | | | | | | | | | | | | | NOTE 2: | | | | | | | The | | | | | | | notif | | | | | | | icationDe | | | | | | | stination | | | | | | | attribute | | | | | | | set to | | | | | | | NULL may | | | | | | | be | | | | | | | included | | | | | | | only if | | | | | | | the | | | | | | | subscri | | | | | | | bedEvents | | | | | | | attribute | | | | | | | is | | | | | | | included | | | | | | | and set | | | | | | | to NULL. | | | | | | +-----------+-----------+---+-----------+-----------+-----------+
##### 5.18.3.3.4 Type: AmInfluEventNotif
Table 5.18.3.3.4-1: Definition of type AmInfluEventNotif
+-----------+-----------+---+-----------+-----------+-----------+ | Attribute | Data type | P | Ca | De | Appl | | name | | | rdinality | scription | icability | | | | | | | | | | | | | | (NOTE 1) | +-----------+-----------+---+-----------+-----------+-----------+ | afTransId | string | M | 1 | I | | | | | | | dentifies | | | | | | | the AF | | | | | | | request | | | | | | | for AM | | | | | | | policy | | | | | | | influence | | | | | | | that the | | | | | | | event | | | | | | | report is | | | | | | | related | | | | | | | to. | | +-----------+-----------+---+-----------+-----------+-----------+ | event | AmI | M | 1 | Notified | | | | nfluEvent | | | event. | | +-----------+-----------+---+-----------+-----------+-----------+ | geoAreas | array | C | 1..N | I | | | | (Geograph | | | dentifies | | | | icalArea) | | | geo | | | | | | | graphical | | | | | | | areas of | | | | | | | the user | | | | | | | where the | | | | | | | UE is | | | | | | | located. | | +-----------+-----------+---+-----------+-----------+-----------+
##### 5.18.3.3.5 Type: DnnSnssaiInformation
Table 5.18.3.3.5-1: Definition of type DnnSnssaiInformation
* * *
Attribute name Data type P Cardinality Description Applicability dnn Dnn O
0..1 Identifies a DNN, a full DNN with both the Network Identifier and
Operator Identifier, or a DNN with the Network Identifier only.  
snssai Snssai O 0..1 Identifies an S-NSSAI.
* * *
#### 5.18.3.4 Simple data types and enumerations
##### 5.18.3.4.1 Introduction
This clause defines simple data types and enumerations that can be referenced
from data structures defined in the previous clauses.
##### 5.18.3.4.2 Simple data types
The simple data types defined in table 5.18.3.4.2-1 shall be supported.
Table 5.18.3.4.2-1: Simple data types
* * *
Type Name Type Definition Description Applicability
* * *
##### 5.18.3.4.3 Enumeration: AmInfluEvent
The enumeration AmInfluEvent represents the service area coverage outcome
event. It shall comply with the provisions defined in table 5.18.3.4.3-1.
Table 5.18.3.4.3-1: Enumeration AmInfluEvent
* * *
Enumeration value Description SERVICE_AREA_COVRG_OUTCOME Indicates the service
area coverage outcome.
* * *
### 5.18.4 Used Features
The table below defines the features applicable to the AMInfluence API. Those
features are negotiated as described in clause 5.2.7 of 3GPP TS 29.122 [4].
Table 5.18.4-1: Features used by AMInfluence API
+----------------------+----------------------+----------------------+ | Feature number | Feature Name | Description | +----------------------+----------------------+----------------------+ | 1 | Not | The delivery of | | | ification_websocket | notifications over | | | | Websocket is | | | | supported as | | | | described in | | | | 3 | | | | GPP TS 29.122 [4]. | | | | This feature | | | | requires that the | | | | Notif | | | | ication_test_event | | | | feature is also | | | | supported. | +----------------------+----------------------+----------------------+ | 2 | Notif | The testing of | | | ication_test_event | notification | | | | connection is | | | | supported as | | | | described in | | | | 3 | | | | GPP TS 29.122 [4]. | +----------------------+----------------------+----------------------+ | 3 | DCAMP_Roaming_LBO | This feature | | | | indicates support | | | | for dynamically | | | | changing AM policy | | | | for LBO roaming | | | | scenarios for | | | | inbound roaming | | | | UE(s). | +----------------------+----------------------+----------------------+ | Feature: A short | | | | name that can be | | | | used to refer to the | | | | bit and to the | | | | feature, e.g. | | | | \"Notification\". | | | | | | | | Description: A clear | | | | textual description | | | | of the feature. | | | +----------------------+----------------------+----------------------+
### 5.18.5 Error handling
#### 5.18.5.1 General
HTTP error handling shall be supported as specified in clause 5.2.6 of 3GPP TS
29.122 [4].
In addition, the requirements in the following clauses shall apply.
#### 5.18.5.2 Protocol Errors
In this Release of the specification, there are no additional protocol errors
applicable for the AMInfluence API.
#### 5.18.5.3 Application Errors
The application errors defined for AMInfluence API are listed in table
5.18.5.3-1.
Table 5.18.5.3-1: Application errors
* * *
Application Error HTTP status code Description Applicability
* * *
## 5.19 MBSTMGI API
### 5.19.1 Introduction
The Nnef_MBSTMGI service shall use the MBSTMGI API.
The API URI of MBSTMGI API shall be:
**{apiRoot}/3gpp-mbs-tmgi/v1**
with the following components:
\- \"apiRoot\" is set as defined in clause 5.2.4 of 3GPP TS 29.122 [4].
\- \"apiName\" shall be set to \"3gpp-mbs-tmgi\".
\- \"apiVersion\" shall be set to \"v1\" for the current version defined in
the present document.
All resource URIs in the clauses below are defined relative to the above API
URI.
### 5.19.2 Resources
There are no resources defined for this API in this release of the
specification.
### 5.19.3 Custom Operations without associated resources
#### 5.19.3.1 Overview
The structure of the custom operation URIs of the MBSTMGI API is shown in
Figure 5.19.3.1-1.
Figure 5.19.3.1-1: Custom operation URI structure of the MBSTMGI API
Table 5.19.3.1-1 provides an overview of the custom operations and applicable
HTTP methods.
Table 5.19.3.1-1: Custom operations without associated resources
* * *
Operation name Custom operation URI Mapped HTTP method Description Allocate
/allocate POST Request the allocation of TMGI(s) for new MBS session(s) or the
refresh of the expiry time of already allocated TMGI(s). Deallocate
/deallocate POST Request the deallocation of TMGI(s).
* * *
#### 5.19.3.2 Operation: Allocate
##### 5.19.3.2.1 Description
The custom operation enables an AF to request the allocation of TMGI(s) for
new MBS session(s) or the refresh of the expiry time of already allocated
TMGI(s).
##### 5.19.3.2.2 Operation Definition
This operation shall support the request and response data structures and
response codes specified in table 5.19.3.2.2-1 and table 5.19.3.2.2-2.
Table 5.19.3.2.2-1: Data structures supported by the POST Request Body on this
resource
* * *
Data type P Cardinality Description TmgiAllocRequest M 1 Represents the
parameters to request the allocation of TMGI(s) for new MBS session(s) or the
refresh of the expiry time of already allocated MBS TMGI(s).
* * *
Table 5.19.3.2.2-2: Data structures supported by the POST Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | Tmgi | M | 1 | 200 OK | Successful | | AllocResponse | | | | case: The | | | | | | TMGI | | | | | | allocation | | | | | | information | | | | | | (e.g. | | | | | | allocated MBS | | | | | | TMGIs, expiry | | | | | | time) or the | | | | | | refreshed | | | | | | expiry time | | | | | | for the | | | | | | concerned | | | | | | already | | | | | | allocated MBS | | | | | | TMGI(s) | | | | | | is/are | | | | | | returned to | | | | | | the | | | | | | requesting | | | | | | AF. | +---------------+---+-------------+---------------+---------------+ | n/a | | | 307 Temporary | Temporary | | | | | Redirect | redirection. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | target URI | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | n/a | | | 308 Permanent | Permanent | | | | | Redirect | redirection. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | target URI | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the POST | | | | | | method listed | | | | | | in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.19.3.2.2-3: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
target URI of the resource located in an alternative NEF.
* * *
Table 5.19.3.2.2-4: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
target URI of the resource located in an alternative NEF.
* * *
#### 5.19.3.3 Operation: Deallocate
##### 5.19.3.3.1 Description
The custom operation enables an AF to request the deallocation of TMGI(s).
##### 5.19.3.3.2 Operation Definition
This operation shall support the request and response data structures and
response codes specified in table 5.19.3.3.2-1 and table 5.19.3.3.2-2.
Table 5.19.3.3.2-1: Data structures supported by the POST Request Body on this
resource
* * *
Data type P Cardinality Description TmgiDeallocRequest M 1 Represents the MBS
TMGI(s) deallocation request information (e.g. list of MBS TMGI(s) to be
deallocated).
* * *
Table 5.19.3.3.2-2: Data structures supported by the POST Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | n/a | | | 204 No | Successful | | | | | Content | case: The | | | | | | requested MBS | | | | | | TMGI(s) are | | | | | | deallocated. | +---------------+---+-------------+---------------+---------------+ | n/a | | | 307 Temporary | Temporary | | | | | Redirect | redirection. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | target URI | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | n/a | | | 308 Permanent | Permanent | | | | | Redirect | redirection. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | target URI | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the POST | | | | | | method listed | | | | | | in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.19.3.3.2-3: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
target URI of the resource located in an alternative NEF.
* * *
Table 5.19.3.3.2-4: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
target URI of the resource located in an alternative NEF.
* * *
### 5.19.4 Notifications
#### 5.19.4.1 General
Notifications shall comply to clause 5.2.5 of 3GPP TS 29.122 [4].
Table 5.19.4.1-1: Notifications overview
+----------------+----------------+----------------+----------------+ | Notification | Callback URI | HTTP method or | Description | | | | custom | | | | | operation | (service | | | | | operation) | +----------------+----------------+----------------+----------------+ | Notification | {no | POST | Enable the NEF | | of Allocated | tificationUri} | | to notify an | | MBS TMGI(s) | | | AF of the | | Timer Expiry | | | timer expiry | | | | | for already | | | | | allocated MBS | | | | | TMGI(s). | +----------------+----------------+----------------+----------------+
#### 5.19.4.2 Notification of Allocated MBS TMGI(s) Timer Expiry
##### 5.19.4.2.1 Description
The Notification is used by the NEF to report timer expiry of already
allocated TMGI(s) to the AF.
##### 5.19.4.2.2 Target URI
The Callback URI **\"{notificationUri}\"** shall be used with the callback URI
variables defined in table 5.19.4.2.2-1.
Table 5.19.4.2.2-1: Callback URI variables
* * *
Name Definition notificationUri Callback URIprovided by the AF during the MBS
TMGI(s) allocation or expiry time refresh request as defined in table
5.19.5.2.2-1.
* * *
##### 5.19.4.2.3 Operation Definition
###### 5.19.4.2.3.1 Notification via HTTP POST
This method shall support the request data structures specified in table
5.19.4.2.3.1-1 and the response data structures and response codes specified
in table 5.19.4.2.3.1-2.
Table 5.19.4.2.3.1-1: Data structures supported by the POST Request Body on
this resource
* * *
Data type P Cardinality Description ExpiryNotif M 1 Represents the MBS TMGI(s)
timer expiry notification information (e.g. list of MBS TMGI(s) for which the
timer has expired).
* * *
Table 5.19.4.2.3.1-2: Data structures supported by the POST Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | n/a | | | 204 No | The | | | | | Content | notification | | | | | | is received | | | | | | successfully. | +---------------+---+-------------+---------------+---------------+ | n/a | | | 307 Temporary | Temporary | | | | | Redirect | redirection, | | | | | | during event | | | | | | notification. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI | | | | | | representing | | | | | | the end point | | | | | | of an | | | | | | alternative | | | | | | AF where the | | | | | | notification | | | | | | should be | | | | | | sent. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | n/a | | | 308 Permanent | Permanent | | | | | Redirect | redirection, | | | | | | during event | | | | | | notification. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI | | | | | | representing | | | | | | the end point | | | | | | of an | | | | | | alternative | | | | | | AF where the | | | | | | notification | | | | | | should be | | | | | | sent. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the POST | | | | | | method listed | | | | | | in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.19.4.2.3.1-3: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI representing the end point of an alternative AF towards which the
notification should be redirected.
* * *
Table 5.19.4.2.3.1-4: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI representing the end point of an alternative AF towards which the
notification should be redirected.
* * *
###### 5.19.4.2.3.2 Notification via Websocket
If supported by both AF and NEF and successfully negotiated, the Notification
of Allocated MBS TMGI(s) Timer Expiry may alternatively be delivered through
the Websocket mechanism as defined in clause 5.2.5.4 of 3GPP TS 29.122 [4].
### 5.19.5 Data Model
#### 5.19.5.1 General
This clause specifies the application data model supported by the MBSTMGI API.
Table 5.19.5.1-1 specifies the data types defined for the MBSTMGI API.
Table 5.19.5.1-1: MBSTMGI specific Data Types
* * *
Data type Clause defined Description Applicability ExpiryNotif 5.19.5.2.5
Represents TMGI(s) timer expiry notification information.  
ExternalMbsServiceArea 3GPP TS 29.571 [8] Represents an external MBS service
area.  
MbsServiceArea 3GPP TS 29.571 [8] Represents an MBS service area.  
TmgiAllocRequest 5.19.5.2.2 Represents the full set of parameters to initiate
a TMGI(s) allocation request or the refresh of the expiry time of already
allocated TMGI(s).  
TmgiAllocResponse 5.19.5.2.3 Represents TMGI(s) allocation information or the
refreshed expiry time for already allocated TMGI(s).  
TmgiDeallocRequest 5.19.5.2.4 Represents information to request the
deallocation of TMGI(s).
* * *
Table 5.19.5.1-2 specifies data types re-used by the MBSTMGI API from other
specifications, including a reference to their respective specifications and
when needed, a short description of their use within the MBSTMGI API.
Table 5.19.5.1-2: MBSTMGI API re-used Data Types
* * *
Data type Reference Comments Applicability SupportedFeatures 3GPP TS 29.571
[8] Represents the list of supported feature(s) and is used to negotiate the
applicability of the optional features.  
Tmgi 3GPP TS 29.571 [8] Contains a TMGI.  
TmgiAllocate 3GPP TS 29.532 [52] Contains parameters to initiate a TMGI(s)
allocation request or the refresh of the expiry time of already allocated
TMGI(s).  
TmgiAllocated 3GPP TS 29.532 [52] Contains the TMGI(s) allocation information
or the refreshed expiry time for already allocated TMGI(s).  
Uri 3GPP TS 29.122 [4] Contains a TMGI.  
WebsockNotifConfig 3GPP TS 29.122 [4] Contains the configuration parameters to
set up notification delivery over Websocket protocol.
* * *
#### 5.19.5.2 Structured data types
##### 5.19.5.2.1 Introduction
This clause defines the structured data types to be used in resource
representations.
##### 5.19.5.2.2 Type: TmgiAllocRequest
Table 5.19.5.2.2-1: Definition of type TmgiAllocRequest
+-----------+-----------+---+-----------+-----------+-----------+ | Attribute | Data type | P | Ca | De | Appl | | name | | | rdinality | scription | icability | +-----------+-----------+---+-----------+-----------+-----------+ | afId | string | M | 1 | Contains | | | | | | | the | | | | | | | i | | | | | | | dentifier | | | | | | | of the AF | | | | | | | that is | | | | | | | sending | | | | | | | the | | | | | | | request. | | +-----------+-----------+---+-----------+-----------+-----------+ | t | Tmg | M | 1 | Contains | | | mgiParams | iAllocate | | | the | | | | | | | p | | | | | | | arameters | | | | | | | to | | | | | | | request | | | | | | | the | | | | | | | a | | | | | | | llocation | | | | | | | of | | | | | | | TMGI(s) | | | | | | | for new | | | | | | | MBS | | | | | | | s | | | | | | | ession(s) | | | | | | | or the | | | | | | | refresh | | | | | | | of the | | | | | | | expiry | | | | | | | time of | | | | | | | already | | | | | | | allocated | | | | | | | MBS | | | | | | | TMGI(s). | | +-----------+-----------+---+-----------+-----------+-----------+ | notifi | Uri | O | 0..1 | The | | | cationUri | | | | not | | | | | | | ification | | | | | | | URI via | | | | | | | which the | | | | | | | AF | | | | | | | desires | | | | | | | to | | | | | | | receive | | | | | | | noti | | | | | | | fications | | | | | | | on timer | | | | | | | expiry | | | | | | | for MBS | | | | | | | TMGI(s). | | +-----------+-----------+---+-----------+-----------+-----------+ | mbsSe | MbsSe | O | 0..1 | Indicates | | | rviceArea | rviceArea | | | the MBS | | | | | | | service | | | | | | | area for | | | | | | | the | | | | | | | TMGI(s) | | | | | | | to be | | | | | | | a | | | | | | | llocated. | | | | | | | | | | | | | | This | | | | | | | attribute | | | | | | | may be | | | | | | | provided | | | | | | | by the AF | | | | | | | for a | | | | | | | local MBS | | | | | | | service. | | | | | | | | | | | | | | (NOTE) | | +-----------+-----------+---+-----------+-----------+-----------+ | extMbsSe | Exte | O | 0..1 | Indicates | | | rviceArea | rnalMbsSe | | | the | | | | rviceArea | | | external | | | | | | | MBS | | | | | | | service | | | | | | | area for | | | | | | | the | | | | | | | TMGI(s) | | | | | | | to be | | | | | | | a | | | | | | | llocated. | | | | | | | | | | | | | | This | | | | | | | attribute | | | | | | | may be | | | | | | | provided | | | | | | | by the AF | | | | | | | for a | | | | | | | local MBS | | | | | | | service. | | | | | | | | | | | | | | (NOTE) | | +-----------+-----------+---+-----------+-----------+-----------+ | reque | boolean | O | 0..1 | Indicates | Notific | | stTestNot | | | | whether | ation_te | | ification | | | | sending a | st_event | | | | | | test | | | | | | | not | | | | | | | ification | | | | | | | shall be | | | | | | | p | | | | | | | erformed. | | | | | | | | | | | | | | Set to | | | | | | | \"true\" | | | | | | | by the AF | | | | | | | to | | | | | | | request | | | | | | | the NEF | | | | | | | to send a | | | | | | | test | | | | | | | not | | | | | | | ification | | | | | | | as | | | | | | | defined | | | | | | | in | | | | | | | claus | | | | | | | e 5.2.5.3 | | | | | | | of | | | | | | | 3GP | | | | | | | P TS 29.1 | | | | | | | 22 [4]. | | | | | | | | | | | | | | Set to | | | | | | | \"false\" | | | | | | | or | | | | | | | omitted | | | | | | | o | | | | | | | therwise. | | +-----------+-----------+---+-----------+-----------+-----------+ | websockNo | WebsockNo | O | 0..1 | R | Notif | | tifConfig | tifConfig | | | epresents | ication_ | | | | | | conf | websocket | | | | | | iguration | | | | | | | p | | | | | | | arameters | | | | | | | to set up | | | | | | | not | | | | | | | ification | | | | | | | delivery | | | | | | | over the | | | | | | | Websocket | | | | | | | protocol. | | +-----------+-----------+---+-----------+-----------+-----------+ | suppFeat | Supporte | C | 0..1 | Indicates | | | | dFeatures | | | the | | | | | | | features | | | | | | | supported | | | | | | | by the | | | | | | | AF. | | | | | | | | | | | | | | This | | | | | | | attribute | | | | | | | shall be | | | | | | | provided | | | | | | | if | | | | | | | feature | | | | | | | ne | | | | | | | gotiation | | | | | | | needs to | | | | | | | take | | | | | | | place. | | +-----------+-----------+---+-----------+-----------+-----------+ | NOTE: | | | | | | | These | | | | | | | a | | | | | | | ttributes | | | | | | | are | | | | | | | mutually | | | | | | | e | | | | | | | xclusive. | | | | | | | Either | | | | | | | one of | | | | | | | them may | | | | | | | be | | | | | | | present. | | | | | | +-----------+-----------+---+-----------+-----------+-----------+
##### 5.19.5.2.3 Type: TmgiAllocResponse
Table 5.19.5.2.3-1: Definition of type TmgiAllocResponse
+-----------+-----------+---+-----------+-----------+-----------+ | Attribute | Data type | P | Ca | De | Appl | | name | | | rdinality | scription | icability | +-----------+-----------+---+-----------+-----------+-----------+ | tmgiInfo | Tmgi | M | 1 | Contains | | | | Allocated | | | the MBS | | | | | | | TMGI(s) | | | | | | | a | | | | | | | llocation | | | | | | | in | | | | | | | formation | | | | | | | or the | | | | | | | refreshed | | | | | | | expiry | | | | | | | time for | | | | | | | already | | | | | | | allocated | | | | | | | MBS | | | | | | | TMGI(s). | | +-----------+-----------+---+-----------+-----------+-----------+ | suppFeat | Supporte | C | 0..1 | Indicates | | | | dFeatures | | | the | | | | | | | features | | | | | | | supported | | | | | | | by both | | | | | | | the AF | | | | | | | and the | | | | | | | NEF. | | | | | | | | | | | | | | This | | | | | | | attribute | | | | | | | shall be | | | | | | | provided | | | | | | | if | | | | | | | feature | | | | | | | ne | | | | | | | gotiation | | | | | | | needs to | | | | | | | take | | | | | | | place and | | | | | | | it was | | | | | | | provided | | | | | | | by the AF | | | | | | | in the | | | | | | | corr | | | | | | | esponding | | | | | | | request | | | | | | | body. | | +-----------+-----------+---+-----------+-----------+-----------+
##### 5.19.5.2.4 Type: TmgiDeallocRequest
Table 5.19.5.2.4-1: Definition of type TmgiDeallocRequest
* * *
Attribute name Data type P Cardinality Description Applicability afId string M
1 Contains the identifier of the AF that is sending the request.  
tmgis array(Tmgi) M 1..N Contains the list of TMGI(s) to be deallocated.
* * *
##### 5.19.5.2.5 Type: ExpiryNotif
Table 5.19.5.2.5-1: Definition of type ExpiryNotif
* * *
Attribute name Data type P Cardinality Description Applicability tmgis
array(Tmgi) M 1..N Contains the list of previously allocated MBS TMGI(s) for
which the timer expired.
* * *
#### 5.19.5.3 Simple data types and enumerations
##### 5.19.5.3.1 Introduction
This clause defines simple data types and enumerations that can be referenced
from data structures defined in the previous clauses.
##### 5.19.5.3.2 Simple data types
The simple data types defined in Table 5.19.5.3.2-1 shall be supported.
Table 5.19.5.3.2-1: Simple data types
* * *
Type Name Type Definition Description Applicability
* * *
### 5.19.6 Used Features
The table below defines the features applicable to the MBSTMGI API. Those
features are negotiated as described in clause 5.2.7 of 3GPP TS 29.122 [4].
Table 5.19.6-1: Features used by MBSTMGI API
* * *
Feature number Feature Name Description 1 Notification_websocket The delivery
of notifications over Websocket is supported as described in 3GPP TS 29.122
[4]. This feature requires that the Notification_test_event feature is also
supported. 2 Notification_test_event The testing of notification connection is
supported as described in 3GPP TS 29.122 [4].
* * *
### 5.19.7 Error handling
#### 5.19.7.1 General
HTTP error handling shall be supported as specified in clause 5.2.6 of 3GPP TS
29.122 [4].
In addition, the requirements in the following clauses shall apply.
#### 5.19.7.2 Protocol Errors
In this Release of the specification, there are no additional protocol errors
applicable for the MBSTMGI API.
#### 5.19.7.3 Application Errors
The application errors defined for the MBSTMGI API are listed in table
5.19.7.3-1.
Table 5.19.7.3-1: Application errors
* * *
**Application Error** **HTTP status code** **Description**
* * *
## 5.20 MBSSession API
### 5.20.1 Introduction
The Nnef_MBSSession service shall use the MBSSession API.
The API URI of MBSSession API shall be:
**{apiRoot}/3gpp-mbs-session/v1**
with the following components:
\- \"apiRoot\" is set as defined in clause 5.2.4 of 3GPP TS 29.122 [4].
\- \"apiName\" shall be set to \"3gpp-mbs-session\".
\- \"apiVersion\" shall be set to \"v1\" for the current version defined in
the present document.
All resource URIs in the clauses below are defined relative to the above API
URI.
### 5.20.2 Resources
#### 5.20.2.1 Overview
This clause describes the structure for the Resource URIs as shown in figure
5.20.2.1-1 and the resources and HTTP methods used for the MBSSession API.
Figure 5.20.2.1-1: Resource URI structure of the MBSSession API
Table 5.20.2.1-1 provides an overview of the resources and applicable HTTP
methods.
Table 5.20.2.1-1: Resources and methods overview
+----------------+----------------+----------------+----------------+ | Resource name | Resource URI | HTTP method or | Description | | | (relative path | custom | | | | under API URI) | operation | (service | | | | | operation) | +----------------+----------------+----------------+----------------+ | MBS Sessions | /mbs-sessions | POST | Create an MBS | | | | | Session. | +----------------+----------------+----------------+----------------+ | Individual MBS | / | PATCH | Modify an | | Session | mbs-sessions/{ | | existing | | | mbsSessionRef} | | Individual MBS | | | | | Session | | | | | resource. | +----------------+----------------+----------------+----------------+ | | | DELETE | Delete an | | | | | existing | | | | | Individual MBS | | | | | Session | | | | | resource. | +----------------+----------------+----------------+----------------+ | MBS Session | /mbs-sessions | GET | Retrieve all | | Subscriptions | /subscriptions | | the MBS | | | | | Session | | | | | Subscriptions | +----------------+----------------+----------------+----------------+ | | | POST | Create an MBS | | | | | Session | | | | | Subscription. | +----------------+----------------+----------------+----------------+ | Individual MBS | /m | GET | Retrieve an | | Session | bs-sessions/su | | existing | | Subscription | bscriptions/{s | | Individual MBS | | | ubscriptionId} | | Session | | | | | Subscription | | | | | resource. | +----------------+----------------+----------------+----------------+ | | | DELETE | Delete an | | | | | existing | | | | | Individual MBS | | | | | Session | | | | | Subscription | | | | | resource. | +----------------+----------------+----------------+----------------+ | MBS Parameters | /mbs-pp | GET | Retrieve all | | Provisionings | | | the MBS | | | | | Parameters | | | | | Provisioning | | | | | resources. | +----------------+----------------+----------------+----------------+ | | | POST | Request the | | | | | creation of a | | | | | new MBS | | | | | Parameters | | | | | Provisioning. | +----------------+----------------+----------------+----------------+ | Individual MBS | /mb | GET | Retrieve an | | Parameters | s-pp/{mbsPpId} | | existing | | Provisioning | | | individual MBS | | | | | Parameters | | | | | Provisioning | | | | | resource. | +----------------+----------------+----------------+----------------+ | | | PUT | Request the | | | | | update of an | | | | | existing | | | | | Individual MBS | | | | | Parameters | | | | | Provisioning | | | | | resource. | +----------------+----------------+----------------+----------------+ | | | PATCH | Request the | | | | | modification | | | | | of an existing | | | | | Individual MBS | | | | | Parameters | | | | | Provisioning | | | | | resource. | +----------------+----------------+----------------+----------------+ | | | DELETE | Request the | | | | | deletion of an | | | | | existing | | | | | Individual MBS | | | | | Parameters | | | | | Provisioning | | | | | resource. | +----------------+----------------+----------------+----------------+
#### 5.20.2.2 Resource: MBS sessions
##### 5.20.2.2.1 Introduction
This resource represents the collection of MBS sessions managed by the NEF.
This resource is modelled with the Collection resource archetype (see clause
C.2 of 3GPP TS 29.501 [3]).
##### 5.20.2.2.2 Resource Definition
Resource URI: **{apiRoot}/3gpp-mbs-session/v1/mbs-sessions**
This resource shall support the resource URI variables defined in table
5.20.2.2.2-1.
Table 5.20.2.2.2-1: Resource URI variables for this resource
* * *
Name Data type Definition apiRoot string See clause 5.20.1.
* * *
##### 5.20.2.2.3 Resource Methods
###### 5.20.2.2.3.1 POST
This method enables an AF to request the creation of an MBS session resource
at the NEF.
This method shall support the URI query parameters specified in table
5.20.2.2.3.1-1.
Table 5.20.2.2.3.1-1: URI query parameters supported by the POST method on
this resource
* * *
Name Data type P Cardinality Description Applicability N/A
* * *
This method shall support the request data structures specified in table
5.20.2.2.3.1-2 and the response data structures and response codes specified
in table 5.20.2.2.3.1-3.
Table 5.20.2.2.3.1-2: Data structures supported by the POST Request Body on
this resource
* * *
Data type P Cardinality Description MbsSessionCreateReq M 1 Representation of
the MBS session to be created at the NEF.
* * *
Table 5.20.2.2.3.1-3: Data structures supported by the POST Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | MbsSes | M | 1 | 201 Created | Successful | | sionCreateRsp | | | | case. A | | | | | | r | | | | | | epresentation | | | | | | of the | | | | | | created | | | | | | Individual | | | | | | MBS Session | | | | | | resource is | | | | | | returned. | | | | | | | | | | | | The URI of | | | | | | the created | | | | | | resource | | | | | | shall be | | | | | | returned in | | | | | | an HTTP | | | | | | \"Location\" | | | | | | header. | +---------------+---+-------------+---------------+---------------+ | P | O | 0..1 | 400 Bad | (NOTE 2) | | roblemDetails | | | Request | | +---------------+---+-------------+---------------+---------------+ | P | O | 0..1 | 403 Forbidden | (NOTE 2) | | roblemDetails | | | | | +---------------+---+-------------+---------------+---------------+ | P | O | 0..1 | 404 Not Found | (NOTE 2) | | roblemDetails | | | | | +---------------+---+-------------+---------------+---------------+ | P | O | 0..1 | 500 Internal | (NOTE 2) | | roblemDetails | | | Server Error | | +---------------+---+-------------+---------------+---------------+ | NOTE 1: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status code | | | | | | for the POST | | | | | | method listed | | | | | | in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | | | | | | | | NOTE 2: | | | | | | Failure cases | | | | | | are described | | | | | | in | | | | | | c | | | | | | lause 5.20.7. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.20.2.2.3.1-4: Headers supported by the 201 response code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 Contains the URI
of the newly created resource, according to the structure: {apiRoot}/3gpp-mbs-
session/v1/mbs-sessions/{mbsSessionRef}
* * *
##### 5.20.2.2.4 Resource Custom Operations
There are no resource custom operations defined for this resource in this
release of the specification.
#### 5.20.2.3 Resource: Individual MBS Session
##### 5.20.2.3.1 Introduction
This resource represents an Individual MBS Session managed by the NEF.
This resource is modelled with the Document resource archetype (see clause C.1
of 3GPP TS 29.501 [3]).
##### 5.20.2.3.2 Resource Definition
Resource URI: **{apiRoot}/3gpp-mbs-session/v1/mbs-sessions/{mbsSessionRef}**
This resource shall support the resource URI variables defined in table
5.20.2.3.2-1.
Table 5.20.2.3.2-1: Resource URI variables for this resource
* * *
Name Data type Definition apiRoot string See clause 5.20.1. mbsSessionRef
string Contains the identifier of the Individual MBS Session resource assigned
by the NEF.
* * *
##### 5.20.2.3.3 Resource Standard Methods
###### 5.20.2.3.3.1 PATCH
The HTTP PATCH method enables an AF to request the modification of an existing
Individual MBS Session resource at the NEF.
This method shall support the URI query parameters specified in table
5.20.2.3.3.1-1.
Table 5.20.2.3.3.1-1: URI query parameters supported by the PATCH method on
this resource
* * *
Name Data type P Cardinality Description Applicability n/a
* * *
This method shall support the request data structures specified in table
5.20.2.3.3.1-2 and the response data structures and response codes specified
in table 5.20.2.3.3.1-3.
Table 5.20.2.3.3.1-2: Data structures supported by the PATCH Request Body on
this resource
* * *
Data type P Cardinality Description array(PatchItem) M 1 Represents the list
of modifications to be applied to the concerned existing Individual MBS
Session resource, as specified in clause 4.6.1.1.3 of 3GPP TS 29.501 [32].
* * *
Table 5.20.2.3.3.1-3: Data structures supported by the PATCH Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | n/a | | | 204 No | Successful | | | | | Content | response. The | | | | | | Individual | | | | | | MBS Session | | | | | | resource was | | | | | | successfully | | | | | | modified. | +---------------+---+-------------+---------------+---------------+ | n/a | | | 307 Temporary | Temporary | | | | | Redirect | redirection. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | target URI | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | n/a | | | 308 Permanent | Permanent | | | | | Redirect | redirection. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | target URI | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | P | O | 0..1 | 400 Bad | (NOTE 2) | | roblemDetails | | | Request | | +---------------+---+-------------+---------------+---------------+ | P | O | 0..1 | 403 Forbidden | (NOTE 2) | | roblemDetails | | | | | +---------------+---+-------------+---------------+---------------+ | P | O | 0..1 | 404 Not Found | (NOTE 2) | | roblemDetails | | | | | +---------------+---+-------------+---------------+---------------+ | NOTE 1: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status code | | | | | | for the PATCH | | | | | | method listed | | | | | | in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | | | | | | | | NOTE 2: | | | | | | Failure cases | | | | | | are described | | | | | | in | | | | | | c | | | | | | lause 5.20.7. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.20.2.3.3.1-4: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
Table 5.20.2.3.3.1-5: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
###### 5.20.2.3.3.3 DELETE
This method enables an AF to request the deletion of an Individual MBS Session
resource at the NEF.
This method shall support the URI query parameters specified in table
5.20.2.3.3.3-1.
Table 5.20.2.3.3.3-1: URI query parameters supported by the DELETE method on
this resource
* * *
Name Data type P Cardinality Description Applicability n/a
* * *
This method shall support the request data structures specified in table
5.20.2.3.3.3-2 and the response data structures and response codes specified
in table 5.20.2.3.3.3-3.
Table 5.20.2.3.3.3-2: Data structures supported by the DELETE Request Body on
this resource
* * *
Data type P Cardinality Description n/a
* * *
Table 5.20.2.3.3.3-3: Data structures supported by the DELETE Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | Codes | | +---------------+---+-------------+---------------+---------------+ | n/a | | | 204 No | Successful | | | | | Content | response. The | | | | | | Individual | | | | | | MBS Session | | | | | | resource was | | | | | | successfully | | | | | | deleted. | +---------------+---+-------------+---------------+---------------+ | | | | 307 Temporary | Temporary | | | | | Redirect | redirection. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | target URI | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | | | | 308 Permanent | Permanent | | | | | Redirect | redirection. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | target URI | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | P | O | 0..1 | 404 Not Found | (NOTE 2) | | roblemDetails | | | | | +---------------+---+-------------+---------------+---------------+ | NOTE 1: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status code | | | | | | for the | | | | | | DELETE method | | | | | | listed in | | | | | | Table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | | | | | | | | NOTE 2: | | | | | | Failure cases | | | | | | are described | | | | | | in | | | | | | c | | | | | | lause 5.20.7. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.20.2.3.3.3-4: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
Table 5.20.2.3.3.3-5: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
##### 5.20.2.3.4 Resource Custom Operations
There are no resource custom operations defined for this resource in this
release of the specification.
#### 5.20.2.4 Resource: MBS Session Subscriptions
##### 5.20.2.4.1 Introduction
This resource represents the collection of MBS Session Subscriptions managed
by the NEF.
This resource is modelled with the Collection resource archetype (see clause
C.2 of 3GPP TS 29.501 [3]).
##### 5.20.2.4.2 Resource Definition
Resource URI: **{apiRoot}/3gpp-mbs-session/v1/mbs-sessions/subscriptions**
This resource shall support the resource URI variables defined in table
5.20.2.4.2-1.
Table 5.20.2.4.2-1: Resource URI variables for this resource
* * *
Name Data type Definition apiRoot string See clause 5.20.1.
* * *
##### 5.20.2.4.3 Resource Methods
###### 5.20.2.4.3.1 GET
This method enables an AF to request to retrieve all the MBS Session
Subscription resources managed by the NEF.
This method shall support the URI query parameters specified in table
5.20.2.4.3.1-1.
Table 5.20.2.4.3.1-1: URI query parameters supported by the GET method on this
resource
* * *
Name Data type P Cardinality Description Applicability n/a
* * *
This method shall support the request data structures specified in table
5.20.2.4.3.1-2 and the response data structures and response codes specified
in table 5.20.2.4.3.1-3.
Table 5.20.2.4.3.1-2: Data structures supported by the GET Request Body on
this resource
* * *
Data type P Cardinality Description n/a
* * *
Table 5.20.2.4.3.1-3: Data structures supported by the GET Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | array(Mbs | M | 0..N | 200 OK | Successful | | SessionSubsc) | | | | case. All the | | | | | | MBS Session | | | | | | Subscription | | | | | | resources | | | | | | managed by | | | | | | the NEF are | | | | | | returned. | +---------------+---+-------------+---------------+---------------+ | n/a | | | 307 Temporary | Temporary | | | | | Redirect | redirection. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | target URI | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | n/a | | | 308 Permanent | Permanent | | | | | Redirect | redirection. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | target URI | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status code | | | | | | for the GET | | | | | | method listed | | | | | | in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.20.2.4.3.1-4: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
target URI of the resource located in an alternative NEF.
* * *
Table 5.20.2.4.3.1-5: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
target URI of the resource located in an alternative NEF.
* * *
###### 5.20.2.4.3.2 POST
This method enables an AF to request the creation of an MBS Session
Subscription resource at the NEF.
This method shall support the URI query parameters specified in table
5.20.2.4.3.2-1.
Table 5.20.2.4.3.2-1: URI query parameters supported by the POST method on
this resource
* * *
Name Data type P Cardinality Description Applicability n/a
* * *
This method shall support the request data structures specified in table
5.20.2.4.3.2-2 and the response data structures and response codes specified
in table 5.20.2.4.3.2-3.
Table 5.20.2.4.3.2-2: Data structures supported by the POST Request Body on
this resource
* * *
Data type P Cardinality Description MbsSessionSubsc M 1 Representation of the
MBS session to be created at the NEF.
* * *
Table 5.20.2.4.3.2-3: Data structures supported by the POST Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | Mb | M | 1 | 201 Created | Successful | | sSessionSubsc | | | | case. A | | | | | | r | | | | | | epresentation | | | | | | of the | | | | | | created | | | | | | Individual | | | | | | MBS Session | | | | | | Subscription | | | | | | resource is | | | | | | returned. | | | | | | | | | | | | The URI of | | | | | | the created | | | | | | resource is | | | | | | returned in | | | | | | an HTTP | | | | | | \"Location\" | | | | | | header. | +---------------+---+-------------+---------------+---------------+ | P | O | 0..1 | 404 Not Found | (NOTE 2) | | roblemDetails | | | | | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status code | | | | | | for the POST | | | | | | method listed | | | | | | in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.20.2.4.3.2-4: Headers supported by the 201 response code on this
resource
+----------+-----------+---+-------------+--------------------+ | Name | Data type | P | Cardinality | Description | +----------+-----------+---+-------------+--------------------+ | Location | string | M | 1 | Contains the URI | | | | | | of the newly | | | | | | created resource, | | | | | | according to the | | | | | | structure: | | | | | | | | | | | | { | | | | | | apiRoot}/3gpp-mbs- | | | | | | session/v1/mbs-ses | | | | | | sions/subscription | | | | | | s/{subscriptionId} | +----------+-----------+---+-------------+--------------------+
##### 5.20.2.4.4 Resource Custom Operations
There are no resource custom operations defined for this resource in this
release of the specification.
#### 5.20.2.5 Resource: Individual MBS Session Subscription
##### 5.20.2.5.1 Introduction
This resource represents an Individual MBS Session Subscription managed by the
NEF.
This resource is modelled with the Document resource archetype (see clause C.2
of 3GPP TS 29.501 [3]).
##### 5.20.2.5.2 Resource Definition
Resource URI: **{apiRoot}/3gpp-mbs-session/v1/mbs-
sessions/subscriptions/{subscriptionId}**
This resource shall support the resource URI variables defined in table
5.20.2.5.2-1.
Table 5.20.2.5.2-1: Resource URI variables for this resource
* * *
Name Data type Definition apiRoot string See clause 5.20.1. subscriptionId
string Identifier of the Individual MBS Session Subscription resource.
* * *
##### 5.20.2.5.3 Resource Methods
###### 5.20.2.5.3.1 GET
This method enables an AF to request to retrieve an existing Individual MBS
Session Subscription resource at the NEF.
This method shall support the URI query parameters specified in table
5.20.2.5.3.1-1.
Table 5.20.2.5.3.1-1: URI query parameters supported by the GET method on this
resource
* * *
Name Data type P Cardinality Description Applicability n/a
* * *
This method shall support the request data structures specified in table
5.20.2.5.3.1-2 and the response data structures and response codes specified
in table 5.20.2.5.3.1-3.
Table 5.20.2.5.3.1-2: Data structures supported by the GET Request Body on
this resource
* * *
Data type P Cardinality Description n/a
* * *
Table 5.20.2.5.3.1-3: Data structures supported by the GET Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | Mb | M | 1 | 200 OK | Successful | | sSessionSubsc | | | | case. The | | | | | | requested | | | | | | Individual | | | | | | MBS Session | | | | | | Subscription | | | | | | resource is | | | | | | returned. | +---------------+---+-------------+---------------+---------------+ | n/a | | | 307 Temporary | Temporary | | | | | Redirect | redirection. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | target URI | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | n/a | | | 308 Permanent | Permanent | | | | | Redirect | redirection. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | target URI | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status code | | | | | | for the GET | | | | | | method listed | | | | | | in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.20.2.5.3.1-4: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
target URI of the resource located in an alternative NEF.
* * *
Table 5.20.2.5.3.1-5: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
target URI of the resource located in an alternative NEF.
* * *
###### 5.20.2.5.3.2 DELETE
This method enables an AF to request the deletion of an existing Individual
MBS Session Subscription resource at the NEF.
This method shall support the URI query parameters specified in table
5.20.2.5.3.2-1.
Table 5.20.2.5.3.2-1: URI query parameters supported by the DELETE method on
this resource
* * *
Name Data type P Cardinality Description Applicability n/a
* * *
This method shall support the request data structures specified in table
5.20.2.5.3.2-2 and the response data structures and response codes specified
in table 5.20.2.5.3.2-3.
Table 5.20.2.5.3.2-2: Data structures supported by the DELETE Request Body on
this resource
* * *
Data type P Cardinality Description n/a
* * *
Table 5.20.2.5.3.2-3: Data structures supported by the DELETE Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | n/a | | | 204 No | Successful | | | | | Content | case. The | | | | | | concerned | | | | | | Individual | | | | | | MBS Session | | | | | | Subscription | | | | | | resource is | | | | | | successfully | | | | | | deleted. | +---------------+---+-------------+---------------+---------------+ | n/a | | | 307 Temporary | Temporary | | | | | Redirect | redirection. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | target URI | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | n/a | | | 308 Permanent | Permanent | | | | | Redirect | redirection. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | target URI | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status code | | | | | | for the | | | | | | DELETE method | | | | | | listed in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.20.2.5.3.2-4: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
target URI of the resource located in an alternative NEF.
* * *
Table 5.20.2.5.3.2-5: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
target URI of the resource located in an alternative NEF.
* * *
##### 5.20.2.5.4 Resource Custom Operations
There are no resource custom operations defined for this resource in this
release of the specification.
#### 5.20.2.6 Resource: MBS Parameters Provisionings
##### 5.20.2.6.1 Introduction
This resource represents the collection of MBS Parameters Provisionings
managed by the NEF.
This resource is modelled with the Collection resource archetype (see clause
C.2 of 3GPP TS 29.501 [3]).
##### 5.20.2.6.2 Resource Definition
Resource URI: **{apiRoot}/3gpp-mbs-session/v1/mbs-pp**
This resource shall support the resource URI variables defined in table
5.20.2.6.2-1.
Table 5.20.2.6.2-1: Resource URI variables for this resource
* * *
Name Data type Definition apiRoot string See clause 5.20.1.
* * *
##### 5.20.2.6.3 Resource Methods
###### 5.20.2.6.3.1 GET
This method enables an AF to request to retrieve all the MBS Parameters
Provisionings resources managed by the NEF.
This method shall support the URI query parameters specified in table
5.20.2.6.3.1-1.
Table 5.20.2.6.3.1-1: URI query parameters supported by the GET method on this
resource
* * *
Name Data type P Cardinality Description Applicability n/a
* * *
This method shall support the request data structures specified in table
5.20.2.6.3.1-2 and the response data structures and response codes specified
in table 5.20.2.6.3.1-3.
Table 5.20.2.6.3.1-2: Data structures supported by the GET Request Body on
this resource
* * *
Data type P Cardinality Description n/a
* * *
Table 5.20.2.6.3.1-3: Data structures supported by the GET Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | arr | M | 1..N | 200 OK | Successful | | ay(MbsPpData) | | | | case. All the | | | | | | Individual | | | | | | MBS | | | | | | Parameters | | | | | | Provisionings | | | | | | resources | | | | | | managed by | | | | | | the NEF are | | | | | | returned. | +---------------+---+-------------+---------------+---------------+ | n/a | | | 307 Temporary | Temporary | | | | | Redirect | redirection. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | target URI | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | n/a | | | 308 Permanent | Permanent | | | | | Redirect | redirection. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | target URI | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status code | | | | | | for the GET | | | | | | method listed | | | | | | in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.20.2.6.3.1-4: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
target URI of the resource located in an alternative NEF.
* * *
Table 5.20.2.6.3.1-5: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
target URI of the resource located in an alternative NEF.
* * *
###### 5.20.2.6.3.2 POST
This method enables an AF to request the creation of a new MBS Parameters
Provisioning at the NEF.
This method shall support the URI query parameters specified in table
5.20.2.6.3.2-1.
Table 5.20.2.6.3.2-1: URI query parameters supported by the POST method on
this resource
* * *
Name Data type P Cardinality Description Applicability n/a
* * *
This method shall support the request data structures specified in table
5.20.2.6.3.2-2 and the response data structures and response codes specified
in table 5.20.2.6.3.2-3.
Table 5.20.2.6.3.2-2: Data structures supported by the POST Request Body on
this resource
* * *
Data type P Cardinality Description MbsPpData M 1 Contain the representation
of the new MBS Parameters Provisioning to be created at the NEF.
* * *
Table 5.20.2.6.3.2-3: Data structures supported by the POST Response Body on
this resource
+---------------+---+-------------+-------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+-------------+---------------+ | MbsPpData | M | 1 | 201 Created | Successful | | | | | | case. A | | | | | | r | | | | | | epresentation | | | | | | of the | | | | | | created | | | | | | Individual | | | | | | MBS | | | | | | Parameters | | | | | | Provisioning | | | | | | resource is | | | | | | returned. | | | | | | | | | | | | The URI of | | | | | | the created | | | | | | resource | | | | | | shall be | | | | | | returned in | | | | | | an HTTP | | | | | | \"Location\" | | | | | | header. | +---------------+---+-------------+-------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status code | | | | | | for the POST | | | | | | method listed | | | | | | in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+-------------+---------------+
Table 5.20.2.6.3.2-4: Headers supported by the 201 response code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 Contains the URI
of the newly created resource, according to the structure: {apiRoot}/3gpp-mbs-
session/v1/mbs-pp/{mbsPpId}
* * *
##### 5.20.2.6.4 Resource Custom Operations
There are no resource custom operations defined for this resource in this
release of the specification.
#### 5.20.2.7 Resource: Individual MBS Parameters Provisioning
##### 5.20.2.7.1 Introduction
This resource represents an Individual MBS Parameters Provisioning resource
managed by the NEF.
This resource is modelled with the Document resource archetype (see clause C.2
of 3GPP TS 29.501 [3]).
##### 5.20.2.7.2 Resource Definition
Resource URI: **{apiRoot}/3gpp-mbs-session/v1/mbs-pp/{mbsPpId}**
This resource shall support the resource URI variables defined in table
5.20.2.7.2-1.
Table 5.20.2.7.2-1: Resource URI variables for this resource
* * *
Name Data type Definition apiRoot string See clause 5.20.1. mbsPpId string
Identifier of the Individual MBS Parameters Provisioning resource.
* * *
##### 5.20.2.7.3 Resource Methods
###### 5.20.2.7.3.1 GET
This method enables an AF to request to retrieve an existing Individual MBS
Parameters Provisioning resource managed by the NEF.
This method shall support the URI query parameters specified in table
5.20.2.7.3.1-1.
Table 5.20.2.7.3.1-1: URI query parameters supported by the GET method on this
resource
* * *
Name Data type P Cardinality Description Applicability n/a
* * *
This method shall support the request data structures specified in table
5.20.2.7.3.1-2 and the response data structures and response codes specified
in table 5.20.2.7.3.1-3.
Table 5.20.2.7.3.1-2: Data structures supported by the GET Request Body on
this resource
* * *
Data type P Cardinality Description n/a
* * *
Table 5.20.2.7.3.1-3: Data structures supported by the GET Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | MbsPpData | M | 1 | 200 OK | Successful | | | | | | case. The | | | | | | requested | | | | | | Individual | | | | | | MBS | | | | | | Parameters | | | | | | Provisioning | | | | | | resource is | | | | | | successfully | | | | | | returned. | +---------------+---+-------------+---------------+---------------+ | n/a | | | 307 Temporary | Temporary | | | | | Redirect | redirection. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | target URI | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | n/a | | | 308 Permanent | Permanent | | | | | Redirect | redirection. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | target URI | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status code | | | | | | for the GET | | | | | | method listed | | | | | | in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.20.2.7.3.1-4: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
target URI of the resource located in an alternative NEF.
* * *
Table 5.20.2.7.3.1-5: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
target URI of the resource located in an alternative NEF.
* * *
###### 5.20.2.7.3.2 PUT
This method enables an AF to request the update of an existing Individual MBS
Parameters Provisioning resource at the NEF.
This method shall support the URI query parameters specified in table
5.20.2.7.3.2-1.
Table 5.20.2.7.3.2-1: URI query parameters supported by the PUT method on this
resource
* * *
Name Data type P Cardinality Description Applicability n/a
* * *
This method shall support the request data structures specified in table
5.20.2.7.3.2-2 and the response data structures and response codes specified
in table 5.20.2.7.3.2-3.
Table 5.20.2.7.3.2-2: Data structures supported by the PUT Request Body on
this resource
* * *
Data type P Cardinality Description MbsPpData M 1 Represents the updated
Individual MBS Parameters Provisioning resource representation.
* * *
Table 5.20.2.7.3.2-3: Data structures supported by the PUT Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | MbsPpData | M | 1 | 200 OK | Successful | | | | | | response. The | | | | | | Individual | | | | | | MBS | | | | | | Parameters | | | | | | Provisioning | | | | | | resource is | | | | | | successfully | | | | | | updated and a | | | | | | r | | | | | | epresentation | | | | | | of the | | | | | | updated | | | | | | resource is | | | | | | returned in | | | | | | the response | | | | | | body. | +---------------+---+-------------+---------------+---------------+ | n/a | | | 204 No | Successful | | | | | Content | response. The | | | | | | Individual | | | | | | MBS | | | | | | Parameters | | | | | | Provisioning | | | | | | resource is | | | | | | successfully | | | | | | updated and | | | | | | no content is | | | | | | to be | | | | | | returned in | | | | | | the response | | | | | | body. | +---------------+---+-------------+---------------+---------------+ | n/a | | | 307 Temporary | Temporary | | | | | Redirect | redirection. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | target URI | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | n/a | | | 308 Permanent | Permanent | | | | | Redirect | redirection. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | target URI | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | NOTE 1: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status code | | | | | | for the PUT | | | | | | method listed | | | | | | in | | | | | | Table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.20.2.7.3.2-4: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
Table 5.20.2.7.3.2-5: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
###### 5.20.2.7.3.3 PATCH
This method enables an AF to request the modification of an existing
Individual MBS Parameters Provisioning resource at the NEF.
This method shall support the URI query parameters specified in table
5.20.2.7.3.3-1.
Table 5.20.2.7.3.3-1: URI query parameters supported by the PATCH method on
this resource
* * *
Name Data type P Cardinality Description Applicability n/a
* * *
This method shall support the request data structures specified in table
5.20.2.7.3.3-2 and the response data structures and response codes specified
in table 5.20.2.7.3.3-3.
Table 5.20.2.7.3.3-2: Data structures supported by the PATCH Request Body on
this resource
* * *
Data type P Cardinality Description MbsPpDataPatch M 1 Represents the
requested modifications to the Individual MBS Parameters Provisioning
resource.
* * *
Table 5.20.2.7.3.3-3: Data structures supported by the PATCH Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | MbsPpData | M | 1 | 200 OK | Successful | | | | | | response. The | | | | | | Individual | | | | | | MBS | | | | | | Parameters | | | | | | Provisioning | | | | | | resource is | | | | | | successfully | | | | | | modified and | | | | | | a | | | | | | r | | | | | | epresentation | | | | | | of the | | | | | | updated | | | | | | resource is | | | | | | returned in | | | | | | the response | | | | | | body. | +---------------+---+-------------+---------------+---------------+ | n/a | | | 204 No | Successful | | | | | Content | response. The | | | | | | Individual | | | | | | MBS | | | | | | Parameters | | | | | | Provisioning | | | | | | resource is | | | | | | successfully | | | | | | modified and | | | | | | no content is | | | | | | to be | | | | | | returned in | | | | | | the response | | | | | | body. | +---------------+---+-------------+---------------+---------------+ | n/a | | | 307 Temporary | Temporary | | | | | Redirect | redirection. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | target URI | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | n/a | | | 308 Permanent | Permanent | | | | | Redirect | redirection. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | target URI | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | NOTE 1: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status code | | | | | | for the PATCH | | | | | | method listed | | | | | | in | | | | | | Table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.20.2.7.3.3-4: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
Table 5.20.2.7.3.3-5: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
###### 5.20.2.7.3.4 DELETE
This method enables an AF to request the deletion of an existing Individual
MBS Parameters Provisioning resource at the NEF.
This method shall support the URI query parameters specified in table
5.20.2.7.3.4-1.
Table 5.20.2.7.3.4-1: URI query parameters supported by the DELETE method on
this resource
* * *
Name Data type P Cardinality Description Applicability n/a
* * *
This method shall support the request data structures specified in table
5.20.2.7.3.4-2 and the response data structures and response codes specified
in table 5.20.2.7.3.4-3.
Table 5.20.2.7.3.4-2: Data structures supported by the DELETE Request Body on
this resource
* * *
Data type P Cardinality Description n/a
* * *
Table 5.20.2.7.3.4-3: Data structures supported by the DELETE Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | n/a | | | 204 No | Successful | | | | | Content | case. The | | | | | | concerned | | | | | | Individual | | | | | | MBS | | | | | | Parameters | | | | | | Provisioning | | | | | | resource is | | | | | | successfully | | | | | | deleted. | +---------------+---+-------------+---------------+---------------+ | n/a | | | 307 Temporary | Temporary | | | | | Redirect | redirection. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | target URI | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | n/a | | | 308 Permanent | Permanent | | | | | Redirect | redirection. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | target URI | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status code | | | | | | for the | | | | | | DELETE method | | | | | | listed in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.20.2.7.3.4-4: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
target URI of the resource located in an alternative NEF.
* * *
Table 5.20.2.7.3.4-5: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
target URI of the resource located in an alternative NEF.
* * *
##### 5.20.2.7.4 Resource Custom Operations
There are no resource custom operations defined for this resource in this
release of the specification.
### 5.20.3 Custom Operations without associated resources
There are no customoperations without associated resources defined for this
API in this release of the specification.
### 5.20.4 Notifications
#### 5.20.4.1 General
Notifications shall comply to clause 5.2.5 of 3GPP TS 29.122 [4].
Table 5.20.4.1-1: Notifications overview
+----------------+----------------+----------------+----------------+ | Notification | Callback URI | HTTP method or | Description | | | | custom | | | | | operation | (service | | | | | operation) | +----------------+----------------+----------------+----------------+ | MBS Session | {no | POST | Enables to | | Status | tificationUri} | | notify a | | Notification | | | previously | | | | | subscribed AF | | | | | on MBS session | | | | | status | | | | | information. | +----------------+----------------+----------------+----------------+
#### 5.20.4.2 MBS Session Status Notification
##### 5.20.4.2.1 Description
The MBS Session Status Notification is used by the NEF to report MBS session
status information to a subscribed AF.
##### 5.20.4.2.2 Target URI
The Callback URI **\"{notificationUri}\"** shall be used with the callback URI
variables defined in table 5.20.4.2.2-1.
Table 5.20.4.2.2-1: Callback URI variables
* * *
Name Data type Definition notificationUri Uri Callback URIprovided by the AF
during the creation/modification of the subscription.
* * *
##### 5.20.4.2.3 Operation Definition
###### 5.20.4.2.3.1 Notification via HTTP POST
This method shall support the request data structures specified in table
5.20.4.2.3.1-1 and the response data structures and response codes specified
in table 5.20.4.2.3.1-2.
Table 5.20.4.2.3.1-1: Data structures supported by the POST Request Body on
this resource
* * *
Data type P Cardinality Description MbsSessionStatusNotif M 1 Represents the
MBS Session Status information to be reported to the AF.
* * *
Table 5.20.4.2.3.1-2: Data structures supported by the POST Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | n/a | | | 204 No | The MBS | | | | | Content | Session | | | | | | Status | | | | | | notification | | | | | | is | | | | | | successfully | | | | | | received. | +---------------+---+-------------+---------------+---------------+ | n/a | | | 307 Temporary | Temporary | | | | | Redirect | redirection. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI | | | | | | representing | | | | | | the end point | | | | | | of an | | | | | | alternative | | | | | | AF where the | | | | | | notification | | | | | | should be | | | | | | sent. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | n/a | | | 308 Permanent | Permanent | | | | | Redirect | redirection. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI | | | | | | representing | | | | | | the end point | | | | | | of an | | | | | | alternative | | | | | | AF where the | | | | | | notification | | | | | | should be | | | | | | sent. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the POST | | | | | | method listed | | | | | | in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.20.4.2.3.1-3: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI representing the end point of an alternative AF towards which the
notification should be redirected.
* * *
Table 5.20.4.2.3.1-4: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI representing the end point of an alternative AF towards which the
notification should be redirected.
* * *
###### 5.4.2.2.3.2 Notification via Websocket
If supported by both AF and NEF and successfully negotiated, the MBS Session
Status Notification may alternatively be delivered through the Websocket
mechanism as defined in clause 5.2.5.4 of 3GPP TS 29.122 [4].
### 5.20.5 Data Model
#### 5.20.5.1 General
This clause specifies the application data model supported by the MBSSession
API. Table 5.20.5.1-1 specifies the data types defined for the MBSSession API.
Table 5.20.5.1-1: MBSSession specific Data Types
* * *
Data type Clause defined Description Applicability MbsPpData 5.20.5.2.6
Represents MBS Parameters Provisioning data.  
MbsPpDataPatch 5.20.5.2.8 Represents the requested modification to existing
MBS Parameters Provisioning data.  
MbsSessAuthData 5.20.5.2.7 Represents the MBS Session Authorization data.  
MbsSessAssistInfo 5.20.5.2.9 Represents the MBS Session Assistance
information. 5MBS2 MbsSessionCreateReq 5.20.5.2.2 Represents the parameters to
request MBS Session creation.  
MbsSessionCreateResp 5.20.5.2.3 Represents the parameters to be returned in an
MBS Session creation response.  
MbsSessionSubsc 5.20.5.2.4 Represents an MBS Session Subscription.  
MbsSessionStatusNotif 5.20.5.2.5 Represents an MBS Session Status
notification.
* * *
Table 5.20.5.1-2 specifies data types re-used by the MBSSession API from other
specifications, including a reference to their respective specifications, and
when needed, a short description of their use within the MBSSession API.
Table 5.20.5.1-2: Re-used Data Types
* * *
Data type Reference Comments Applicability 5MbsAuthorizationInfo 3GPP TS
29.503 [17] Contains the MBS Session authorization information.  
DateTime 3GPP TS 29.122 [4] Represents a date and a time  
ExternalGroupId 3GPP TS 29.122 [4] Represents the External Group Identifier
for a user group.  
Gpsi 3GPP TS 29.571 [8] Represents a GPSI.  
MbsSessAssistData 3GPP TS 29.571 [8] Represents the MBS Session Assistance
data. 5MBS2 MbsSession 3GPP TS 29.571 [8] Represents MBS session information.  
MbsSessionId 3GPP TS 29.571 [8] Represents the identifier of an MBS Session.  
PatchItem 3GPP TS 29.571 [8] Represents the requested modifications to a
resource via the PATCH method.  
MbsSessionEventReportList 3GPP TS 29.571 [8] Represents the list of MBS
Session Event Report(a).  
MbsSessionSubscription 3GPP TS 29.571 [8] Represents an MBS Session
Subscription  
SupportedFeatures 3GPP TS 29.571 [8] Represents the list of supported
feature(s) and used to negotiate the applicability of the optional features.  
Tmgi 3GPP TS 29.571 [8] Represents a TMGI.  
TunnelAddress 3GPP TS 29.571 [8] Represents a Tunnel Address (UDP/IP).  
Uri 3GPP TS 29.122 [4] Represents a URI.
* * *
Editor\'s Note: The name of the MbsSessAssistData data type is FFS and pending
SA2\'s progress and will be defined by CT4 in 3GPP TS 29.571.
#### 5.20.5.2 Structured data types
##### 5.20.5.2.1 Introduction
This clause defines the structures to be used in resource representations.
##### 5.20.5.2.2 Type: MbsSessionCreateReq
Table 5.20.5.2.2-1: Definition of type MbsSessionCreateReq
+-----------+-----------+---+-----------+-----------+-----------+ | Attribute | Data type | P | Ca | De | Appl | | name | | | rdinality | scription | icability | +-----------+-----------+---+-----------+-----------+-----------+ | afId | string | M | 1 | Contains | | | | | | | the | | | | | | | i | | | | | | | dentifier | | | | | | | of the AF | | | | | | | that is | | | | | | | sending | | | | | | | the | | | | | | | request. | | +-----------+-----------+---+-----------+-----------+-----------+ | m | M | M | 1 | MBS | | | bsSession | bsSession | | | session | | | | | | | to be | | | | | | | created. | | +-----------+-----------+---+-----------+-----------+-----------+ | suppFeat | Supporte | C | 0..1 | Contains | | | | dFeatures | | | the list | | | | | | | of | | | | | | | supported | | | | | | | features. | | | | | | | | | | | | | | This | | | | | | | attribute | | | | | | | shall be | | | | | | | provided | | | | | | | in the | | | | | | | HTTP POST | | | | | | | request | | | | | | | to create | | | | | | | a new MBS | | | | | | | session, | | | | | | | if | | | | | | | feature | | | | | | | ne | | | | | | | gotiation | | | | | | | needs to | | | | | | | take | | | | | | | place. | | +-----------+-----------+---+-----------+-----------+-----------+
##### 5.20.5.2.3 Type: MbsSessionCreateRsp
Table 5.20.5.2.3-1: Definition of type MbsSessionCreateRsp
+-----------+-----------+---+-----------+-----------+-----------+ | Attribute | Data type | P | Ca | De | Appl | | name | | | rdinality | scription | icability | +-----------+-----------+---+-----------+-----------+-----------+ | m | M | M | 1 | R | | | bsSession | bsSession | | | epresents | | | | | | | the | | | | | | | created | | | | | | | MBS | | | | | | | session. | | +-----------+-----------+---+-----------+-----------+-----------+ | eventList | MbsSess | C | 0..1 | Contains | | | | ionEventR | | | a list of | | | | eportList | | | MBS | | | | | | | Session | | | | | | | Status | | | | | | | Event(s) | | | | | | | r | | | | | | | eport(s), | | | | | | | if | | | | | | | a | | | | | | | vailable. | | +-----------+-----------+---+-----------+-----------+-----------+ | suppFeat | Supporte | C | 0..1 | Contains | | | | dFeatures | | | the list | | | | | | | of | | | | | | | supported | | | | | | | features. | | | | | | | | | | | | | | This | | | | | | | attribute | | | | | | | shall be | | | | | | | provided | | | | | | | in the | | | | | | | HTTP POST | | | | | | | response | | | | | | | to a | | | | | | | request | | | | | | | to create | | | | | | | a new MBS | | | | | | | session, | | | | | | | if it was | | | | | | | present | | | | | | | in the | | | | | | | corr | | | | | | | esponding | | | | | | | HTTP POST | | | | | | | request. | | +-----------+-----------+---+-----------+-----------+-----------+
##### 5.20.5.2.4 Type: MbsSessionSubsc
Table 5.20.5.2.4-1: Definition of type MbsSessionSubsc
+-----------+-----------+---+-----------+-----------+-----------+ | Attribute | Data type | P | Ca | De | Appl | | name | | | rdinality | scription | icability | +-----------+-----------+---+-----------+-----------+-----------+ | afId | string | M | 1 | Contains | | | | | | | the | | | | | | | i | | | | | | | dentifier | | | | | | | of the AF | | | | | | | that is | | | | | | | sending | | | | | | | the | | | | | | | request. | | +-----------+-----------+---+-----------+-----------+-----------+ | sub | MbsS | M | 1 | R | | | scription | essionSub | | | epresents | | | | scription | | | the | | | | | | | p | | | | | | | arameters | | | | | | | of the | | | | | | | MBS | | | | | | | Session | | | | | | | Status | | | | | | | sub | | | | | | | scription | | | | | | | to be | | | | | | | created | | +-----------+-----------+---+-----------+-----------+-----------+ | subsc | string | C | 0..1 | Contains | | | riptionId | | | | the | | | | | | | i | | | | | | | dentifier | | | | | | | of the | | | | | | | created | | | | | | | I | | | | | | | ndividual | | | | | | | MBS | | | | | | | Session | | | | | | | Sub | | | | | | | scription | | | | | | | resource. | | | | | | | | | | | | | | This | | | | | | | attribute | | | | | | | shall | | | | | | | only be | | | | | | | present | | | | | | | in the | | | | | | | HTTP POST | | | | | | | response | | | | | | | to an MBS | | | | | | | session | | | | | | | creation | | | | | | | request. | | +-----------+-----------+---+-----------+-----------+-----------+
##### 5.20.5.2.5 Type: MbsSessionStatusNotif
Table 5.20.5.2.5-1: Definition of type MbsSessionStatusNotif
* * *
Attribute name Data type P Cardinality Description Applicability eventList
MbsSessionEventReportList M 1 Contains the reported MBS session event(s) and
the related information.
* * *
##### 5.20.5.2.6 Type: MbsPpData
Table 5.20.5.2.6-1: Definition of type MbsPpData
+-----------+-----------+---+-----------+-----------+-----------+ | Attribute | Data type | P | Ca | De | Appl | | name | | | rdinality | scription | icability | +-----------+-----------+---+-----------+-----------+-----------+ | afId | string | M | 1 | Contains | | | | | | | the | | | | | | | i | | | | | | | dentifier | | | | | | | of the AF | | | | | | | that is | | | | | | | sending | | | | | | | the | | | | | | | request. | | +-----------+-----------+---+-----------+-----------+-----------+ | mbsSes | MbsSes | C | 0..1 | Contains | | | sAuthData | sAuthData | | | the MBS | | | | | | | Session | | | | | | | Auth | | | | | | | orization | | | | | | | data that | | | | | | | the AF | | | | | | | requests | | | | | | | to | | | | | | | p | | | | | | | rovision. | | | | | | | | | | | | | | This | | | | | | | attribute | | | | | | | shall be | | | | | | | present | | | | | | | when the | | | | | | | AF | | | | | | | request | | | | | | | to | | | | | | | provision | | | | | | | MBS | | | | | | | Session | | | | | | | Auth | | | | | | | orization | | | | | | | data. | | +-----------+-----------+---+-----------+-----------+-----------+ | mbsSessA | MbsSessA | C | 0..1 | Contains | 5MBS2 | | ssistInfo | ssistInfo | | | the MBS | | | | | | | Session | | | | | | | A | | | | | | | ssistance | | | | | | | in | | | | | | | formation | | | | | | | that the | | | | | | | AF | | | | | | | requests | | | | | | | to | | | | | | | p | | | | | | | rovision. | | | | | | | | | | | | | | This | | | | | | | attribute | | | | | | | shall be | | | | | | | present | | | | | | | when the | | | | | | | AF | | | | | | | requests | | | | | | | to | | | | | | | provision | | | | | | | MBS | | | | | | | Session | | | | | | | A | | | | | | | ssistance | | | | | | | inf | | | | | | | ormation. | | +-----------+-----------+---+-----------+-----------+-----------+ | suppFeat | Supporte | C | 0..1 | Contains | | | | dFeatures | | | the list | | | | | | | of | | | | | | | supported | | | | | | | features | | | | | | | among the | | | | | | | ones | | | | | | | defined | | | | | | | in | | | | | | | claus | | | | | | | e 5.20.6. | | | | | | | | | | | | | | This | | | | | | | attribute | | | | | | | shall be | | | | | | | provided | | | | | | | when | | | | | | | feature | | | | | | | n | | | | | | | egocation | | | | | | | needs to | | | | | | | take | | | | | | | place. | | +-----------+-----------+---+-----------+-----------+-----------+
##### 5.20.5.2.7 Type: MbsSessAuthData
Table 5.20.5.2.7-1: Definition of type MbsSessAuthData
+-----------+-----------+---+-----------+-----------+-----------+ | Attribute | Data type | P | Ca | De | Appl | | name | | | rdinality | scription | icability | +-----------+-----------+---+-----------+-----------+-----------+ | e | Extern | M | 1 | R | | | xtGroupId | alGroupId | | | epresents | | | | | | | the | | | | | | | external | | | | | | | group | | | | | | | i | | | | | | | dentifier | | | | | | | of the | | | | | | | targeted | | | | | | | multicast | | | | | | | MBS | | | | | | | Group. | | +-----------+-----------+---+-----------+-----------+-----------+ | gpsisList | map(Gpsi) | C | 1..N | R | | | | | | | epresents | | | | | | | the list | | | | | | | of the | | | | | | | GPSI(s) | | | | | | | of the | | | | | | | member | | | | | | | UE(s) | | | | | | | con | | | | | | | stituting | | | | | | | the | | | | | | | multicast | | | | | | | MBS | | | | | | | group. | | | | | | | | | | | | | | Any value | | | | | | | of type | | | | | | | string | | | | | | | can be | | | | | | | used as a | | | | | | | key of | | | | | | | the map. | | | | | | | | | | | | | | This | | | | | | | attribute | | | | | | | shall be | | | | | | | present | | | | | | | only if | | | | | | | the | | | | | | | multicast | | | | | | | MBS group | | | | | | | has not | | | | | | | yet been | | | | | | | created | | | | | | | or the | | | | | | | list of | | | | | | | its | | | | | | | member(s) | | | | | | | needs to | | | | | | | be | | | | | | | updated. | | +-----------+-----------+---+-----------+-----------+-----------+ | mbsSess | 5Mb | M | 1 | Contains | | | ionIdList | sAuthoriz | | | the | | | | ationInfo | | | iden | | | | | | | tifier(s) | | | | | | | of the | | | | | | | multicast | | | | | | | MBS | | | | | | | S | | | | | | | ession(s) | | | | | | | that the | | | | | | | multicast | | | | | | | MBS group | | | | | | | is | | | | | | | a | | | | | | | uthorized | | | | | | | to join. | | +-----------+-----------+---+-----------+-----------+-----------+
##### 5.20.5.2.8 Type: MbsPpDataPatch
Table 5.20.5.2.8-1: Definition of type MbsPpDataPatch
* * *
Attribute name Data type P Cardinality Description Applicability
mbsSessAuthData MbsSessAuthData O 0..1 Contains the modified MBS Session
Authorization data that the AF requests to provision.  
mbsSessAssistInfo MbsSessAssisInfo O 0..1 Contains the modified MBS Session
Assistance information that the AF requests to provision. 5MBS2 suppFeat
SupportedFeatures O 0..1 Contains the modified list of supported features
among the ones defined in clause 5.20.6.
* * *
##### 5.20.5.2.9 Type: MbsSessAssistInfo
Table 5.20.5.2.9-1: Definition of type MbsSessAssistInfo
* * *
Attribute name Data type P Cardinality Description Applicability
mbsSessAssistData MbsSessAssistData M 1 Contains the MBS Session Assistance
information data.
* * *
Editor\'s Note: The content (including the presence conditions and the
cardinality) of the MbsSessAssistInfo data type and the definition of the
MbsSessAssistData data type is FFS and pending SA2\'s progress.
#### 5.20.5.3 Simple data types and enumerations
##### 5.20.5.3.1 Introduction
This clause defines simple data types and enumerations that can be referenced
from data structures defined in the previous clauses.
##### 5.20.5.3.2 Simple data types
The simple data types defined in table 5.20.5.3.2-1 shall be supported.
Table 5.20.5.3.2-1: Simple data types
* * *
Type Name Type Definition Description Applicability
* * *
### 5.20.6 Used Features
The table below defines the features applicable to the MBSSession API. Those
features are negotiated as described in clause 5.2.7 of 3GPP TS 29.122 [4].
Table 5.20.6-1: Supported Features
* * *
Feature number Feature Name Description 1 5MBS2 Represents the support of the
Rel-18 enhancements (e.g. MBS Session Assistance information provisioning) to
the 5G Multicast/Broadcast services.
* * *
### 5.20.7 Error handling
#### 5.20.7.1 General
HTTP error handling shall be supported as specified in clause 5.2.6 of 3GPP TS
29.122 [4].
In addition, the requirements in the following clauses shall apply.
#### 5.20.7.2 Protocol Errors
In this Release of the specification, there are no additional protocol errors
applicable for the MBSSession API.
#### 5.20.7.3 Application Errors
The application errors defined for the MBSSession API are listed in table
5.20.7.3-1.
Table 5.20.7.3-1: Application errors
* * *
**Application Error** **HTTP status code** **Description**
TRANS_RESOURCE_RES_FAILURE 500 Internal Server Error Indicates that the MBS
Session creation failed due to transmission resources reservation failure.
INVALID_MBS_SERVICE_INFO 400 Bad Request The provided MBS Service Information
is invalid (e.g. invalid QoS reference), incorrect or insufficient to perform
MBS policy authorization. FILTER_RESTRICTIONS_NOT_OBSERVED 400 Bad Request The
MBS IP flow(s) description provided within the MBS Service Information cannot
be handled due to the restrictions defined in clause 5.3.8 of 3GPP TS 29.214
[64] not being observed. MBS_SERVICE_INFO_NOT_AUTHORIZED 403 Forbidden The
provided MBS Service Information is rejected. MBS_SESSION_ALREADY_CREATED 403
Forbidden The requested MBS session has already been created at the NEF/MB-
SMF. OVERLAPPING_MBS_SERVICE_AREA 403 Forbidden The provided MBS service area
overlaps with the MBS service area of an existing MBS Session that shares the
same MBS session Identifier. UNKNOWN_TMGI 404 Not Found The TMGI provided in
the request does not exist. MBS_SESSION_CONTEXT_NOT_FOUND 404 Not Found The
targeted Individual MBS Session does not exist. UNKNOWN_MBS_SERVICE_AREA 404
Not Found The requested MBS service area (e.g. identified by the Area Session
ID) cannot be found.
* * *
## 5.21 EASDeployment API
### 5.21.0 Introduction
The Nnef_EASDeployment service shall use the EASDeployment API.
The API URI of EASDeployment API shall be:
**{apiRoot}/3gpp-eas-deployment/v1**
with the following components:
\- \"apiRoot\" is set as defined in clause 5.2.4 of 3GPP TS 29.122 [4].
\- \"apiName\" shall be set to \"3gpp-eas-deployment\".
\- \"apiVersion\" shall be set to \"v1\" for the current version defined in
the present document.
All resource URIs in the clauses below are defined relative to the above API
URI.
### 5.21.1 Resources
#### 5.21.1.1 Overview
This clause describes the structure for the Resource URIs as shown in figure
5.21.1.1-1 and the resources and HTTP methods used for AF provisioned EAS
Deployment information management in the northbound EASDeployment API.
Figure 5.21.1.1-1: Resource URI structure of the northbound EASDeployment API
Table 5.21.1.1-1 provides an overview of the resources and HTTP methods
applicable for the northbound EASDeployment API.
Table 5.21.1.1-1: Resources and methods overview
* * *
Resource name Resource URI HTTP method Description EAS Deployment Information
/{afId}/eas-deployment-info GET Read all EAS Deployment information for a
given AF. POST Create a new Individual EAS Deployment information resource.
Individual EAS Deployment Information /{afId}/eas-deployment-
info/{easDeployInfoId} GET Reads an active Individual EAS Deployment
Information resource. PUT Update an existing Individual EAS Deployment
Information resource. DELETE Deletes an existing Individual EAS Deployment
Information resource.
* * *
#### 5.21.1.2 Resource: EAS Deployment Information
##### 5.21.1.2.1 Introduction
This resource allows an AF to request the creation of a new Individual EAS
Deployment Information resource.
##### 5.21.1.2.2 Resource Definition
Resource URI: **{apiRoot}/3gpp-eas-deployment/v1/{afId}/eas-deployment-info**
This resource shall support the resource URI variables defined in table
5.21.1.2.2-1.
Table 5.21.1.2.2-1: Resource URI variables for this resource
* * *
Name Data type Definition apiRoot string Clause 5.2.4 of 3GPP TS 29.122 [4].
afId string Identifier of the AF.
* * *
##### 5.21.1.2.3 Resource Methods
###### 5.21.1.2.3.1 General
The following clauses specify the resource methods supported by the resource
as described in clause 5.21.1.2.2.
###### 5.21.1.2.3.2 GET
The GET method allows to read all active EAS Deployment information for a
given AF and subscription. The AF shall initiate the HTTP GET request message
and the NEF shall respond to the message.
This method shall support the URI query parameters specified in table
5.21.1.2.3.2-1.
Table 5.21.1.2.3.2-1: URI query parameters supported by the GET method on this
resource
* * *
Name Data type P Cardinality Description N/A
* * *
This method shall support the request data structures specified in table
5.21.1.2.3.2-2, the response data structures and response codes specified in
table 5.21.1.2.3.2-3, and the location headers specified in table
5.21.1.2.3.2-4 and table 5.21.1.2.3.2-5.
Table 5.21.1.2.3.2-2: Data structures supported by the GET Request Body on
this resource
* * *
Data type P Cardinality Description N/A
* * *
Table 5.21.1.2.3.2-3: Data structures supported by the GET Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | array(E | M | 0..N | 200 OK | The | | asDeployInfo) | | | | configuration | | | | | | information | | | | | | for the AF in | | | | | | the request | | | | | | URI are | | | | | | returned. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 307 Temporary | Temporary | | | | | Redirect | redirection, | | | | | | during EAS | | | | | | deployment | | | | | | information | | | | | | retrieval. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 308 Permanent | Permanent | | | | | Redirect | redirection, | | | | | | during EAS | | | | | | deployment | | | | | | information | | | | | | retrieval. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the GET | | | | | | method listed | | | | | | in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.21.1.2.3.2-4: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
Table 5.21.1.2.3.2-5: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
###### 5.21.1.2.3.3 POST
The POST method creates a new resource of Individual EAS Deployment
Information for a given AF. The AF shall initiate the HTTP POST request
message and the NEF shall respond to the message. The NEF shall construct the
URI of the created resource.
This method shall support the request data structures specified in table
5.21.1.2.3.3-1, the response data structures and response codes specified in
table 5.21.1.2.3.3-2, and the Location Headers specified in table
5.21.1.2.3.3-3.
Table 5.21.1.2.3.3-1: Data structures supported by the POST Request Body on
this resource
* * *
Data type P Cardinality Description EasDeployInfo M 1 EAS Deployment
Information, indicates how edge services are deployed in each Local DN.
* * *
Table 5.21.1.2.3.3-2: Data structures supported by the POST Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | EasDeployInfo | M | 1 | 201 Created | The | | | | | | Individual | | | | | | EAS | | | | | | Deployment | | | | | | Information | | | | | | resource was | | | | | | created | | | | | | successfully. | | | | | | | | | | | | The URI of | | | | | | the created | | | | | | resource | | | | | | shall be | | | | | | returned in | | | | | | the | | | | | | \"Location\" | | | | | | HTTP header. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the POST | | | | | | method listed | | | | | | in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.21.1.2.3.3-3: Headers supported by the 201 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 Contains the URI
of the newly created resource, according to the structure: {apiRoot}/3gpp-eas-
deployment/v1/{afId}/eas-deployment-info/{easDeployInfoId}
* * *
#### 5.21.1.3 Resource: Individual EAS Deployment Information
##### 5.21.1.3.1 Introduction
This resource allows an AF to read, update or delete an existing Individual
EAS Deployment Information.
##### 5.21.1.3.2 Resource Definition
Resource URI: **{apiRoot}/3gpp-eas-deployment/v1/{afId}/eas-deployment-
info/{easDeployInfoId}**
This resource shall support the resource URI variables defined in table
5.21.1.3.2-1.
Table 5.21.1.3.2-1: Resource URI variables for this resource
* * *
Name Data type Definition apiRoot string Clause 5.2.4 of 3GPP TS 29.122 [4].
afId string Identifier of the AF. easDeployInfoId string Identifier of the EAS
Deployment Information formatted according to IETF RFC 3986 [44].
* * *
##### 5.21.1.3.3 Resource Methods
###### 5.21.1.3.3.1 General
The following clauses specify the resource methods supported by the resource
as described in clause 5.21.1.3.2.
###### 5.21.1.3.3.2 GET
The GET method allows to read the existing EAS Deployment Information for a
given AF and a given EAS Deployment Information Id. The AF shall initiate the
HTTP GET request message and the NEF shall respond to the message.
This method shall support the URI query parameters specified in table
5.21.1.3.3.2-1.
Table 5.21.1.3.3.2-1: URI query parameters supported by the GET method on this
resource
* * *
Name Data type P Cardinality Description N/A
* * *
This method shall support the request data structures specified in table
5.21.1.3.3.2-2, the response data structures and response codes specified in
table 5.21.1.3.3.2-3, and the Location Headers specified in table
5.21.1.3.3.2-4 and table 5.21.1.3.3.2-5.
Table 5.21.1.3.3.2-2: Data structures supported by the GET Request Body on
this resource
* * *
Data type P Cardinality Description N/A
* * *
Table 5.21.1.3.3.2-3: Data structures supported by the GET Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | EasDeployInfo | M | 1 | 200 OK | Successful | | | | | | case. | | | | | | | | | | | | The exposure | | | | | | information | | | | | | of an | | | | | | existing | | | | | | Individual | | | | | | EAS | | | | | | Deployment | | | | | | Information | | | | | | in the | | | | | | request URI | | | | | | is returned. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 307 Temporary | Temporary | | | | | Redirect | redirection, | | | | | | during the | | | | | | EAS | | | | | | Deployment | | | | | | Information | | | | | | retrieval. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 308 Permanent | Permanent | | | | | Redirect | redirection, | | | | | | during the | | | | | | EAS | | | | | | Deployment | | | | | | Information | | | | | | retrieval. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the GET | | | | | | method listed | | | | | | in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.21.1.3.3.2-4: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
Table 5.21.1.3.3.2-5: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
###### 5.21.1.3.3.3 PUT
The PUT method is used to modify an existing Individual EAS Deployment
Information resource. The AF shall initiate the HTTP PUT request message and
the NEF shall respond to the message.
This method shall support the URI query parameters specified in table
5.21.1.3.3.3-1.
Table 5.21.1.3.3.3-1: URI query parameters supported by the PUT method on this
resource
* * *
Name Data type P Cardinality Description Applicability n/a
* * *
This method shall support the request data structures specified in table
5.21.1.3.3.3-2, the response data structures and response codes specified in
table 5.21.1.3.3.3-3, and the Location Headers specified in table
5.21.1.3.3.3-4 and table 5.21.1.3.3.3-5.
Table 5.21.1.3.3.3-2: Data structures supported by the PUT Request Body on
this resource
* * *
Data type P Cardinality Description EasDeployInfo M 1 Modify the Individual
EAS Deployment Information resource.
* * *
Table 5.21.1.3.3.3-3: Data structures supported by the PUT Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | EasDeployInfo | M | 1 | 200 OK | Successful | | | | | | case. | | | | | | | | | | | | The exposure | | | | | | information | | | | | | of the | | | | | | updated EAS | | | | | | Deployment | | | | | | Information. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 204 No | The EAS | | | | | Content | Deployment | | | | | | change was | | | | | | updated | | | | | | successfully. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 307 Temporary | Temporary | | | | | Redirect | redirection, | | | | | | during the | | | | | | EAS | | | | | | Deployment | | | | | | Information | | | | | | modification. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 308 Permanent | Permanent | | | | | Redirect | redirection, | | | | | | during the | | | | | | EAS | | | | | | Deployment | | | | | | Information | | | | | | modification. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the PUT | | | | | | method listed | | | | | | in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.21.1.3.3.3-4: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
Table 5.21.1.3.3.3-5: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
###### 5.21.1.3.3.4 DELETE
The DELETE method deletes an existing Individual EAS Deployment Information
resource. The AF shall initiate the HTTP DELETE request message and the NEF
shall respond to the message.
This method shall support the URI query parameters specified in table
5.21.1.3.3.4-1.
**Table 5.21.1.3.3.4-1: URI query parameters supported by the DELETE method on
this resource**
* * *
**Name** **Data type** **P** **Cardinality** **Description** N/A
* * *
This method shall support the request data structures specified in table
5.21.1.3.3.4-2, the response data structures and response codes specified in
table 5.21.1.3.3.4-3, and the Location Headers specified in table
5.21.1.3.3.4-4 and table 5.21.1.3.3.4-5.
Table 5.21.1.3.3.4-2: Data structures supported by the DELETE Request Body on
this resource
* * *
Data type P Cardinality Description N/A
* * *
Table 5.21.1.3.3.4-3: Data structures supported by the DELETE Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | N/A | | | 204 No | The | | | | | Content | Individual | | | | | | EAS | | | | | | Deployment | | | | | | Information | | | | | | resource was | | | | | | terminated | | | | | | successfully. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 307 Temporary | Temporary | | | | | Redirect | redirection, | | | | | | during the | | | | | | termination. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 308 Permanent | Permanent | | | | | Redirect | redirection, | | | | | | during the | | | | | | termination. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the | | | | | | DELETE method | | | | | | listed in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.21.1.3.3.4-4: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
Table 5.21.1.3.3.4-5: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
### 5.21.2 Custom Operations without associated resources
#### 5.21.2.1 Overview
The structure of the custom operation URIs of the Nnef_EASDeployment service
is shown in Figure 5.21.2.1-1.
Figure 5.21.2.1-1: Custom operation URI structure of the Nnef_EASDeployment
API
Table 5.21.2.1-1 provides an overview of the custom operations and applicable
HTTP methods.
Table 5.21.2.1-1: Custom operations without associated resources
* * *
Custom operation URI Mapped HTTP method Description {apiRoot}/3gpp-eas-
deployment/\/remove-edis POST Request the NEF to delete EAS
Deployment Information based on given attributes.
* * *
#### 5.21.2.2 Operation: remove-edis
##### 5.21.2.2.1 Description
The operation is used by the NF service consumer to delete EAS Deployment
Information based on given attributes.
##### 5.21.2.2.2 Operation Definition
This operation shall support the request data structures shown in Table
5.21.2.2.2-1 and the response data structures and error codes specified in
Table 5.21.2.2.2-2.
Table 5.21.2.2.2-1: Data structures supported by the POST Request Body on this
resource
* * *
Data type P Cardinality Description EdiDeleteCriteria M 1 Information about
the criteria to be used for EAS Deployment Information deletion.
* * *
Table 5.21.2.2.2-2: Data structures supported by the POST Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | n/a | | | 204 No | Successful | | | | | Content | request to | | | | | | remove EAS | | | | | | Deployment | | | | | | Information | | | | | | based on | | | | | | given | | | | | | criteria. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the POST | | | | | | method listed | | | | | | in | | | | | | Table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
### 5.21.3 Notifications
There are no notifications defined for this API in this release of the
specification.
### 5.21.4 Data Model
#### 5.21.4.1 General
This clause specifies the application data model supported by the
EASDeployment API. Table 5.21.4.1-1 specifies the data types defined for the
EASDeployment API.
Table 5.21.4.1-1: EASDeployment API specific Data Types
* * *
Data type Clause defined Description Applicability EasDeployInfo 5.21.4.3.2
EAS Deployment Information, indicates how edge services are deployed in each
Local DN.  
EdiDeleteCriteria 5.21.4.3.5 Contains criteria for deleting EAS Deployment
Information.  
DnaiInformation 5.21.4.3.3 list of DNS server identifier and/or IP address(s)
of the EAS in the local DN for the DNAI.  
DnsServerIdentifier 5.21.4.3.4 DNS server identifier (consisting of IP address
and port).
* * *
#### 5.21.4.2 Reused data types
The data types reused by the EASDeployment API from other specifications are
listed in table 5.21.4.2-1.
Table 5.21.4.2-1: Re-used Data Types
* * *
Data type Reference Comments AfId 5.14.5.4.2 Represents an AF identifier. Dnai
3GPP TS 29.571 [8] Identifies a DNAI. Dnn 3GPP TS 29.571 [8] Identifies a DNN.
DnnSnssaiInformation 5.18.3.3.5 Contains DNN and S-NSSAI information.
ExternalGroupId 3GPP TS 29.122 [4] External Group Identifier for a user group.
FqdnPatternMatchingRule 3GPP TS 29.571 [8] Identifies the FQDN pattern
matching rule. IpAddr 3GPP TS 29.571 [8] IP Address. Snssai 3GPP TS 29.571 [8]
Identifies the S-NSSAI. Uinteger 3GPP TS 29.571 [8] Unsigned integer. Link
3GPP TS 29.122 [4] Identifies a referenced resource.
* * *
#### 5.21.4.3 Structured data types
##### 5.21.4.3.1 Introduction
This clause defines the structured data types to be used in resource
representations.
##### 5.21.4.3.2 Type: EasDeployInfo
Table 5.21.4.3.2-1: Definition of type EasDeployInfo
+-----------+-----------+---+-----------+-----------+-----------+ | Attribute | Data type | P | Ca | De | Appl | | name | | | rdinality | scription | icability | +-----------+-----------+---+-----------+-----------+-----------+ | self | Link | C | 0..1 | I | | | | | | | dentifies | | | | | | | the | | | | | | | i | | | | | | | ndividual | | | | | | | EAS | | | | | | | D | | | | | | | eployment | | | | | | | in | | | | | | | formation | | | | | | | resource. | | | | | | | | | | | | | | Shall be | | | | | | | present | | | | | | | in the | | | | | | | HTTP GET | | | | | | | response | | | | | | | when | | | | | | | reading | | | | | | | all the | | | | | | | confi | | | | | | | gurations | | | | | | | for an | | | | | | | AF. | | +-----------+-----------+---+-----------+-----------+-----------+ | af | string | O | 0..1 | I | | | ServiceId | | | | dentifies | | | | | | | a service | | | | | | | on behalf | | | | | | | of which | | | | | | | the AF is | | | | | | | issuing | | | | | | | the | | | | | | | request. | | +-----------+-----------+---+-----------+-----------+-----------+ | fqdnPa | arr | M | 1..N | Supported | | | tternList | ay(FqdnPa | | | FQDN | | | | tternMatc | | | p | | | | hingRule) | | | attern(s) | | | | | | | for | | | | | | | appli | | | | | | | cation(s) | | | | | | | deployed | | | | | | | in the | | | | | | | Local | | | | | | | part of | | | | | | | the DN | | | | | | | where | | | | | | | each FQDN | | | | | | | pattern | | | | | | | is | | | | | | | described | | | | | | | by a FQDN | | | | | | | Pattern | | | | | | | Matching | | | | | | | Rule. | | +-----------+-----------+---+-----------+-----------+-----------+ | appId | string | O | 0..1 | I | | | | | | | dentifies | | | | | | | the | | | | | | | ap | | | | | | | plication | | | | | | | for which | | | | | | | the EAS | | | | | | | D | | | | | | | eployment | | | | | | | In | | | | | | | formation | | | | | | | co | | | | | | | rresponds | | | | | | | to. | | +-----------+-----------+---+-----------+-----------+-----------+ | dnn | Dnn | O | 0..1 | DNN for | | | | | | | the EAS | | | | | | | D | | | | | | | eployment | | | | | | | Inf | | | | | | | ormation. | | +-----------+-----------+---+-----------+-----------+-----------+ | snssai | Snssai | O | 0..1 | S-NSSAI | | | | | | | for the | | | | | | | EAS | | | | | | | D | | | | | | | eployment | | | | | | | Inf | | | | | | | ormation. | | +-----------+-----------+---+-----------+-----------+-----------+ | ext | Extern | O | 0..1 | External | | | erGroupId | alGroupId | | | Group ID | | | | | | | for the | | | | | | | EAS | | | | | | | D | | | | | | | eployment | | | | | | | Inf | | | | | | | ormation. | | +-----------+-----------+---+-----------+-----------+-----------+ | dnaiInfos | ma | O | 1..N | list of | | | | p(DnaiInf | | | DNS | | | | ormation) | | | server | | | | | | | i | | | | | | | dentifier | | | | | | | (c | | | | | | | onsisting | | | | | | | of IP | | | | | | | address | | | | | | | and port) | | | | | | | and/or IP | | | | | | | a | | | | | | | ddress(s) | | | | | | | of the | | | | | | | EAS in | | | | | | | the local | | | | | | | DN for | | | | | | | each | | | | | | | DNAI. The | | | | | | | key of | | | | | | | map is | | | | | | | the DNAI. | | +-----------+-----------+---+-----------+-----------+-----------+ | t | string | O | 0..1 | I | EasRelo | | argetAfId | | | | dentifier | cationEnh | | | | | | of the AF | | | | | | | that is | | | | | | | re | | | | | | | sponsible | | | | | | | for the | | | | | | | EAS | | | | | | | a | | | | | | | ssociated | | | | | | | with this | | | | | | | EAS | | | | | | | d | | | | | | | eployment | | | | | | | inf | | | | | | | ormation. | | +-----------+-----------+---+-----------+-----------+-----------+
##### 5.21.4.3.3 Type: DnaiInformation
Table 5.21.4.3.3-1: Definition of type DnaiInformation
* * *
Attribute name Data type P Cardinality Description Applicability dnai Dnai M 1
Identifer the DNAI.  
dnsServIds array(DnsServerIdentifier) C 1..N list of DNS server identifier
(consisting of IP address and port) for each DNAI.  
easIpAddrs array(IpAddr) C 1..N IP address(s) of the EASs in the local DN for
each DNAI.  
NOTE: At least one of the \"dnsServIds\" or \"easIpAddrs\" attribute shall be
provided.
* * *
##### 5.21.4.3.4 Type: DnsServerIdentifier
Table 5.21.4.3.4-1: Definition of type DnsServerIdentifier
* * *
Attribute name Data type P Cardinality Description Applicability dnsServIpAddr
IpAddr M 1 DNS server IP address.  
portNumber Uinteger M 1 DNS port number.
* * *
##### 5.21.4.3.5 Type: EdiDeleteCriteria
Table 5.21.4.3.5-1: Definition of type EdiDeleteCriteria
* * *
Attribute name Data type P Cardinality Description Applicability afId AfId C
0..1 AF identifier to be used as deletion criterion. (NOTE)  
dnnSnssai DnnSnssaiInformation C 0..1 DNN and S-NSSAI information to be used
as deletion criterion. (NOTE)  
NOTE: At least one of those attributes shall be provided.
* * *
#### 5.21.4.4 Simple data types and enumerations
##### 5.21.4.4.1 Introduction
This clause defines simple data types and enumerations that can be referenced
from data structures defined in the previous clauses.
##### 5.21.4.4.2 Simple data types
The simple data types defined in table 5.21.4.4.2-1 shall be supported.
Table 5.21.4.4.2-1: Simple data types
* * *
Type Name Type Definition Description Applicability
* * *
### 5.21.5 Used Features
The table below defines the features applicable to the EASDeployment API.
Those features are negotiated as described in clause 5.2.7 of 3GPP TS 29.122
[4].
Table 5.21.5-1: Features used by EASDeployment API
* * *
Feature number Feature Name Description 1 EasRelocationEnh This feature
indicates enhanced support of EAS relocation procedures via additional
information about the AFs that are responsible for certain EAS.
* * *
### 5.21.6 Error handling
#### 5.21.6.1 General
HTTP error handling shall be supported as specified in clause 5.2.6 of 3GPP TS
29.122 [4].
In addition, the requirements in the following clauses shall apply.
#### 5.21.6.2 Protocol Errors
In this Release of the specification, there are no additional protocol errors
applicable for the EASDeployment API.
#### 5.21.6.3 Application Errors
The application errors defined for EASDeployment API are listed in table
5.21.6.3-1.
Table 5.21.6.3-1: Application errors
* * *
Application Error HTTP status code Description Applicability
* * *
## 5.22 ASTI API
### 5.22.0 Introduction
The Nnef_ASTI service shall use the ASTI API.
The API URI of ASTI API shall be:
**{apiRoot}/3gpp-asti/v1**
with the following components:
\- \"apiRoot\" is set as defined in clause 5.2.4 of 3GPP TS 29.122 [4].
\- \"apiName\" shall be set to \"3gpp-asti\".
\- \"apiVersion\" shall be set to \"v1\" for the current version defined in
the present document.
All resource URIs in the clauses below are defined relative to the above API
URI.
### 5.22.1 Resources
#### 5.22.1.1 Overview
This clause describes the structure for the Resource URIs as shown in figure
5.22.1.1-1 and the resources and HTTP methods used for the ASTI API.
Figure 5.22.1.1-1: Resource URI structure of the ASTI API
Table 5.22.1.1-1 provides an overview of the resources and HTTP methods
applicable for the ASTI API.
Table 5.22.1.1-1: Resources and methods overview
+-----------------+-----------------+-------------+-----------------+ | Resource name | Resource URI | HTTP method | Description | +-----------------+-----------------+-------------+-----------------+ | ASTI | /{afId} | GET | Read all | | Configurations | /configurations | | configurations | | | | | of 5G access | | | | | stratum time | | | | | distribution | | | | | for a given AF | | | | | and | | | | | subscription. | +-----------------+-----------------+-------------+-----------------+ | | | POST | Create a new | | | | | configuration | | | | | of 5G access | | | | | stratum time | | | | | distribution. | +-----------------+-----------------+-------------+-----------------+ | | / | retrieve | Retrieval of | | | {afId}/configur | | the status of | | | ations/retrieve | (POST) | access stratum | | | | | time | | | | | distribution. | +-----------------+-----------------+-------------+-----------------+ | Individual ASTI | /{a | PUT | Modify a | | Configuration | fId}/configurat | | configuration | | | ions/{configId} | | configuration | | | | | of 5G access | | | | | stratum time | | | | | distribution. | +-----------------+-----------------+-------------+-----------------+ | | | DELETE | Delete a | | | | | configuration | | | | | of 5G access | | | | | stratum time | | | | | distribution. | +-----------------+-----------------+-------------+-----------------+ | | | GET | Query the | | | | | status of the | | | | | access time | | | | | distribution | +-----------------+-----------------+-------------+-----------------+
#### 5.22.1.2 Resource: ASTI Configurations
##### 5.22.1.2.1 Introduction
This resource allows an AF to read all active configurations of 5G access
stratum time distribution for a given AF, or allows an AF to create a new new
configuration of 5G access stratum time distribution.
##### 5.22.1.2.2 Resource Definition
Resource URI: **{apiRoot}/3gpp-asti/v1/{afId}/configurations**
This resource shall support the resource URI variables defined in table
5.22.1.2.2-1.
Table 5.22.1.2.2-1: Resource URI variables for this resource
* * *
Name Data type Definition apiRoot string Clause 5.2.4 of 3GPP TS 29.122 [4].
afId string Identifier of the AF.
* * *
##### 5.22.1.2.3 Resource Methods
###### 5.22.1.2.3.1 General
The following clauses specify the resource methods supported by the resource
as described in clause 5.22.1.2.2.
###### 5.22.1.2.3.2 GET
The GET method allows to read all active configurations of 5G access stratum
time distribution for a given AF and subscription. The AF shall initiate the
HTTP GET request message and the NEF shall respond to the message.
This method shall support the URI query parameters specified in table
5.22.1.2.3.2-1.
Table 5.22.1.2.3.2-1: URI query parameters supported by the GET method on this
resource
* * *
Name Data type P Cardinality Description N/A
* * *
This method shall support the request data structures specified in table
5.22.1.2.3.2-2 and the response data structures and response codes specified
in table 5.22.1.2.3.2-3.
Table 5.22.1.2.3.2-2: Data structures supported by the GET Request Body on
this resource
* * *
Data type P Cardinality Description N/A
* * *
Table 5.22.1.2.3.2-3: Data structures supported by the GET Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | array(A | M | 0..N | 200 OK | The | | ccessTimeDist | | | | configuration | | ributionData) | | | | information | | | | | | for the AF | | | | | | are returned. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 307 Temporary | Temporary | | | | | Redirect | redirection, | | | | | | during | | | | | | configuration | | | | | | retrieval. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 308 Permanent | Permanent | | | | | Redirect | redirection, | | | | | | during | | | | | | configuration | | | | | | retrieval. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the GET | | | | | | method listed | | | | | | in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.22.1.2.3.2-4: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
Table 5.22.1.2.3.2-5: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
###### 5.22.1.2.3.3 POST
The POST method creates a new configuration of 5G access stratum time
distribution for a given AF. The AF shall initiate the HTTP POST request
message and the NEF shall respond to the message. The NEF shall construct the
URI of the created resource.
This method shall support the request data structures specified in table
5.22.1.2.3.3-1 and the response data structures and response codes specified
in table 5.22.1.2.3.3-2.
Table 5.22.1.2.3.3-1: Data structures supported by the POST Request Body on
this resource
* * *
Data type P Cardinality Description AccessTimeDistributionData M 1 Parameters
to create a configuration of 5G access stratum time distribution.
* * *
Table 5.22.1.2.3.3-2: Data structures supported by the POST Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | AccessTimeDis | M | 1 | 201 Created | The | | tributionData | | | | configuration | | | | | | was created | | | | | | successfully. | | | | | | | | | | | | The URI of | | | | | | the created | | | | | | resource | | | | | | shall be | | | | | | returned in | | | | | | the | | | | | | \"Location\" | | | | | | HTTP header. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the POST | | | | | | method listed | | | | | | in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.22.1.2.3.3-3: Headers supported by the 201 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 Contains the URI
of the newly created resource, according to the structure: {apiRoot}/3gpp-
asti/v1/{afId}/configurations/{configId}
* * *
##### 5.22.1.2.4 Resource Custom Operations
###### 5.22.1.2.4.1 Overview
Table 5.22.1.2.4.1-1: Custom operations
* * *
Operation Name Custom operation URI Mapped HTTP method Description retrieve
/configurations/retrieve retrieve (POST) Request the status of the 5G access
stratum time distribution for a list of UEs.
* * *
###### 5.22.1.2.4.2 Operation: retrieve
###### # 5.22.1.2.4.2.1 Description
This custom operation retrieves the status of the access stratum time
distribution for a list of UEs.
###### # 5.22.1.2.4.2.2 Operation Definition
This operation shall support the request data structures specified in table
5.22.1.2.4.2.2-1 and the response data structure and response codes specified
in table 5.22.1.2.4.2.2-2.
Table 5.22.1.2.4.2.2-1: Data structures supported by the POST Request Body on
this resource
* * *
Data type P Cardinality Description StatusRequestData M 1 Parameters to be
sent by the NF service consumer when the status of the 5G access stratum time
distribution for a list of UEs is requested.
* * *
Table 5.22.1.2.4.2.2-2: Data structures supported by the POST Response Body on
this resource
* * *
Data type P Cardinality Response codes Description StatusResponseData M 1 200
OK Status of the 5G access stratum time distribution for a list of UEs is
returned. NOTE: The mandatory HTTP error status codes for the POST method
listed in table 5.2.6-1 of 3GPP TS 29.122 [4] also apply.
* * *
#### 5.22.1.3 Resource: Individual ASTI Configuration
##### 5.22.1.3.1 Introduction
This resource allows an AF to read/modify/cancel a configuration of 5G access
stratum time distribution with the NEF.
##### 5.22.1.3.2 Resource Definition
Resource URI: **{apiRoot}/3gpp-asti/v1/{afId}/configurations/{configId}**
This resource shall support the resource URI variables defined in table
5.22.1.3.2-1.
Table 5.22.1.3.2-1: Resource URI variables for this resource
* * *
Name Data type Definition apiRoot string Clause 5.2.4 of 3GPP TS 29.122 [4].
afId string Identifier of the AF. configId string Identifier of the
configuration resource.
* * *
##### 5.22.1.3.3 Resource Methods
###### 5.22.1.3.3.1 General
The following clauses specify the resource methods supported by the resource
as described in clause 5.22.1.3.2.
###### 5.22.1.3.3.2 GET
The GET method allows to read the active configuration for a given AF and
configuration Id. The AF shall initiate the HTTP GET request message and the
NEF shall respond to the message.
This method shall support the URI query parameters specified in table
5.22.1.3.3.2-1.
Table 5.22.1.3.3.2-1: URI query parameters supported by the GET method on this
resource
* * *
Name Data type P Cardinality Description N/A
* * *
This method shall support the request data structures specified in table
5.22.1.3.3.2-2 and the response data structures and response codes specified
in table 5.22.1.3.3.2-3.
Table 5.22.1.3.3.2-2: Data structures supported by the GET Request Body on
this resource
* * *
Data type P Cardinality Description N/A
* * *
Table 5.22.1.3.3.2-3: Data structures supported by the GET Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | AccessTimeDis | M | 1 | 200 OK | The | | tributionData | | | | configuration | | | | | | information | | | | | | for the AF in | | | | | | the request | | | | | | URI are | | | | | | returned. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 307 Temporary | Temporary | | | | | Redirect | redirection, | | | | | | during | | | | | | configuration | | | | | | retrieval. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 308 Permanent | Permanent | | | | | Redirect | redirection, | | | | | | during | | | | | | configuration | | | | | | retrieval. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the GET | | | | | | method listed | | | | | | in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.22.1.3.3.2-4: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
Table 5.22.1.3.3.2-5: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
###### 5.22.1.3.3.3 PUT
The PUT method modifies an existing configuration resource to update a
configuration. The AF shall initiate the HTTP PUT request message and the NEF
shall respond to the message.
This method shall support the request data structures specified in table
5.22.1.3.3.3-1 and the response data structures and response codes specified
in table 5.22.1.3.3.3-2.
Table 5.22.1.3.3.3-1: Data structures supported by the PUT Request Body on
this resource
* * *
Data type P Cardinality Description AccessTimeDistributionData M 1 Modify an
existing configuration of 5G access stratum time distribution.
* * *
Table 5.22.1.3.3.3-2: Data structures supported by the PUT Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | AccessTimeDis | M | 1 | 200 OK | The | | tributionData | | | | configuration | | | | | | was updated | | | | | | successfully. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 204 No | The | | | | | Content | configuration | | | | | | was updated | | | | | | successfully. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 307 Temporary | Temporary | | | | | Redirect | redirection, | | | | | | during | | | | | | configuration | | | | | | modification. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 308 Permanent | Permanent | | | | | Redirect | redirection, | | | | | | during | | | | | | configuration | | | | | | modification. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the PUT | | | | | | method listed | | | | | | in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.22.1.3.3.3-3: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
Table 5.22.1.3.3.3-4: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
###### 5.22.1.3.3.4 DELETE
The DELETE method deletes the configuration of 5G access stratum time
distribution for a given AF. The AF shall initiate the HTTP DELETE request
message and the NEF shall respond to the message.
This method shall support the URI query parameters specified in table
5.22.1.3.3.4-1.
Table 5.22.1.3.3.4-1: URI query parameters supported by the DELETE method on
this resource
* * *
Name Data type P Cardinality Description N/A
* * *
This method shall support the request data structures specified in table
5.22.1.3.3.4-2 and the response data structures and response codes specified
in table 5.22.1.3.3.4-3.
Table 5.22.1.3.3.4-2: Data structures supported by the DELETE Request Body on
this resource
* * *
Data type P Cardinality Description N/A
* * *
Table 5.22.1.3.3.4-3: Data structures supported by the DELETE Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | N/A | | | 204 No | The | | | | | Content | configuration | | | | | | was | | | | | | terminated | | | | | | successfully. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 307 Temporary | Temporary | | | | | Redirect | redirection, | | | | | | during | | | | | | configuration | | | | | | termination. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 308 Permanent | Permanent | | | | | Redirect | redirection, | | | | | | during | | | | | | configuration | | | | | | termination. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the | | | | | | DELETE method | | | | | | listed in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.22.1.3.3.4-4: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
Table 5.22.1.3.3.4-5: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
### 5.22.2 Custom Operations without associated resources
There are no custom operations without associated resources defined for this
API in this release of the specification.
### 5.22.3 Notifications
There are no notifications defined for this API in this release of the
specification.
### 5.22.4 Data Model
#### 5.22.4.1 General
This clause specifies the application data model supported by the ASTI API.
Table 5.22.4.1-1 specifies the data types defined for the ASTI API.
Table 5.22.4.1-1: ASTI API specific Data Types
* * *
Data type Clause defined Description Applicability AccessTimeDistributionData
5.22.4.3.2 Contains the parameters for the creation of 5G access stratum time
distribution configuration.  
ActiveUe 5.22.4.3.5 Contains the UE identifier whose status of the access
stratum time distribution is active and the optional requested time
synchronization error budget.  
StatusRequestData 5.22.4.3.3 Contains the parameters for retrieval of the
status of the access stratum time distribution for a list of UEs.  
StatusResponseData 5.22.4.3.4 Contains the parameters for the status of the
access stratum time distribution for a list of UEs.
* * *
#### 5.22.4.2 Reused data types
The data types reused by the TimeSyncExposure API from other specifications
are listed in table 5.22.4.2-1.
Table 5.22.4.2-1: Re-used Data Types
* * *
Data type Reference Comments AsTimeDistributionParam 3GPP TS 29.565 [50]
Contains the 5G access stratum time distribution parameters. ExternalGroupId
3GPP TS 29.122 [4] External Group Identifier for a user group. Gpsi 3GPP TS
29.571 [8] Identifies a GPSI. SpatialValidityCond 3GPP TS 29.571 [8]
Represents the Spatial Validity Condition. SupportedFeatures 3GPP TS 29.571
[8] Used to negotiate the applicability of the optional features defined in
table 5.22.5-1.
* * *
#### 5.22.4.3 Structured data types
##### 5.22.4.3.1 Introduction
This clause defines the structured data types to be used in resource
representations.
##### 5.22.4.3.2 Type: AccessTimeDistributionData
Table 5.22.4.3.2-1: Definition of type AccessTimeDistributionData
+-----------+-----------+---+-----------+-----------+-----------+ | Attribute | Data type | P | Ca | De | Appl | | name | | | rdinality | scription | icability | +-----------+-----------+---+-----------+-----------+-----------+ | gpsis | ar | C | 1..N | I | | | | ray(Gpsi) | | | dentifies | | | | | | | a list of | | | | | | | UE(s). | | | | | | | (NOTE 1) | | +-----------+-----------+---+-----------+-----------+-----------+ | ext | Extern | C | 0.1 | R | | | erGroupId | alGroupId | | | epresents | | | | | | | a group | | | | | | | of users. | | | | | | | (NOTE 1) | | +-----------+-----------+---+-----------+-----------+-----------+ | asTim | AsTim | M | 1 | 5G access | | | eDisParam | eDistribu | | | stratum | | | | tionParam | | | time | | | | | | | dis | | | | | | | tribution | | | | | | | p | | | | | | | arameters | | +-----------+-----------+---+-----------+-----------+-----------+ | cov | S | O | 0..1 | Time | Cov | | erageArea | patialVal | | | Synchr | erageArea | | | idityCond | | | onization | | | | | | | Coverage | | | | | | | Area. | | | | | | | (NOTE 2) | | +-----------+-----------+---+-----------+-----------+-----------+ | suppFeat | Supporte | C | 0..1 | R | | | | dFeatures | | | epresents | | | | | | | the | | | | | | | features | | | | | | | supported | | | | | | | by the NF | | | | | | | service | | | | | | | consumer. | | | | | | | This | | | | | | | parameter | | | | | | | shall be | | | | | | | supplied | | | | | | | by the NF | | | | | | | service | | | | | | | consumer | | | | | | | in the | | | | | | | POST | | | | | | | request | | | | | | | and the | | | | | | | response | | | | | | | that | | | | | | | requested | | | | | | | the | | | | | | | creation | | | | | | | of an | | | | | | | I | | | | | | | ndividual | | | | | | | ASTI | | | | | | | Conf | | | | | | | iguration | | | | | | | resource. | | +-----------+-----------+---+-----------+-----------+-----------+ | NOTE 1: | | | | | | | One of | | | | | | | \"gpsis\" | | | | | | | or | | | | | | | \ | | | | | | | "external | | | | | | | GroupId\" | | | | | | | attribute | | | | | | | shall be | | | | | | | provided. | | | | | | | | | | | | | | NOTE 2: | | | | | | | The | | | | | | | \" | | | | | | | trackingA | | | | | | | reaList\" | | | | | | | attribute | | | | | | | within | | | | | | | the | | | | | | | \"cover | | | | | | | ageArea\" | | | | | | | attribute | | | | | | | is not | | | | | | | a | | | | | | | pplicable | | | | | | | for the | | | | | | | untrusted | | | | | | | AF. | | | | | | +-----------+-----------+---+-----------+-----------+-----------+
##### 5.22.4.3.3 Type: StatusRequestData
Table 5.22.4.3.3-1: Definition of type StatusRequestData
* * *
Attribute name Data type P Cardinality Description Applicability gpsis
array(Gpsi) M 1..N Identifies a list of UE(s).
* * *
##### 5.22.4.3.4 Type: StatusResponseData
Table 5.22.4.3.4-1: Definition of type StatusResponseData
* * *
Attribute name Data type P Cardinality Description Applicability inactiveUes
array(Gpsi) O 1..N Indicate the UE(s) whose status of the access stratum time
distribution is inactive.  
activeUes array(ActiveUe) O 1..N Contains the UE identifier(s) whose status of
the access stratum time distribution is active and the optional requested time
synchronization error budget.
* * *
##### 5.22.4.3.5 Type: ActiveUe
Table 5.22.4.3.5-1: Definition of type ActiveUe
* * *
Attribute name Data type P Cardinality Description Applicability gpsi Gpsi M 1
Indicate the UE whose status of the access stratum time distribution is
active.  
timeSyncErrBdgt Uinteger O 0..1 Indicates the time synchronization error
budget in terms of time units of nanoseconds.
* * *
#### 5.22.4.4 Simple data types and enumerations
##### 5.22.4.4.1 Introduction
This clause defines simple data types and enumerations that can be referenced
from data structures defined in the previous clauses.
##### 5.22.4.4.2 Simple data types
The simple data types defined in table 5.22.4.4.2-1 shall be supported.
Table 5.22.4.4.2-1: Simple data types
* * *
Type Name Type Definition Description Applicability
* * *
### 5.22.5 Used Features
The table below defines the features applicable to the ASTI API. Those
features are negotiated as described in clause 5.2.7 of 3GPP TS 29.122 [4].
Table 5.22.5-1: Features used by ASTI API
* * *
Feature number Feature Name Description 1 CoverageArea Indicates support of
the inclusion of the Time Synchronization Coverage Area in ASTI requests.
* * *
### 5.22.6 Error handling
#### 5.22.6.1 General
HTTP error handling shall be supported as specified in clause 5.2.6 of 3GPP TS
29.122 [4].
In addition, the requirements in the following clauses shall apply.
#### 5.22.6.2 Protocol Errors
In this Release of the specification, there are no additional protocol errors
applicable for the ASTI API.
#### 5.22.6.3 Application Errors
The application errors defined for the ASTI API are listed in table
5.22.6.3-1.
Table 5.22.6.3-1: Application errors
* * *
**Application Error** **HTTP status code** **Description**
* * *
## 5.23 DataReporting API
### 5.23.1 Introduction
The Nnef_DataReporting service shall use the DataReporting API.
The API URI of DataReporting API shall be:
{apiRoot}/\/\
The request URIs used in HTTP requests shall have the Resource URI structure
defined in clause 5.2.4 of 3GPP TS 29.122 [2], i.e.:
{apiRoot}/\/\/\
with the following components:
\- \"apiRoot\" is set as defined in clause 5.2.4 of 3GPP TS 29.122 [4].
\- \"apiName\" shall be set to \"3gpp-data-reporting\".
\- \"apiVersion\" shall be set to \"v1\" for the current version defined in
the present document.
All resource URIs in the clauses below are defined relative to the above API
URI.
### 5.23.2 Resources
This clause describes the structure for the Resource URIs as shown in Figure
5.23.2-1 and the resources and HTTP methods used for the DataReporting API.
Figure 5.23.2-1: Resource URI structure of the DataReporting API
Table 5.23.2-1 provides an overview of the resources and applicable HTTP
methods.
Table 5.23.2-1: Resources and methods overview
+----------------+----------------+----------------+----------------+ | Resource name | Resource URI | HTTP method or | Description | | | (relative path | custom | | | | under API URI) | operation | (service | | | | | operation) | +----------------+----------------+----------------+----------------+ | Data Reporting | /sessions | POST | Create a Data | | Sessions | | | Reporting | | | | | Session | +----------------+----------------+----------------+----------------+ | Individual | /sessio | GET | Retreive an | | Data Reporting | ns/{sessionId} | | existing | | Session | | | Individual | | | | | Data Reporting | | | | | Session | | | | | resource. | +----------------+----------------+----------------+----------------+ | | | PUT | Update an | | | | | Individual | | | | | existing Data | | | | | Reporting | | | | | Session | | | | | resource. | +----------------+----------------+----------------+----------------+ | | | DELETE | Delete an | | | | | existing | | | | | Individual | | | | | Data Reporting | | | | | Session | | | | | resource. | +----------------+----------------+----------------+----------------+ | | | report | Report data. | | | | | | | | | (POST) | | +----------------+----------------+----------------+----------------+
#### 5.23.2.2 Resource: Data Reporting Sessions
##### 5.23.2.2.1 Introduction
This resource represents the collection of Data Reporting Sessions managed by
the NEF.
This resource is modelled with the Collection resource archetype (see clause
C.2 of 3GPP TS 29.501 [3]).
##### 5.23.2.2.2 Resource definition
Resource URL: **{apiRoot}/3gpp-data-reporting/v1/sessions**
This resource shall support the resource URL variables defined in table
5.23.2.2.2-1.
Table 5.23.2.2.2-1: Resource URL variables for this resource
* * *
Name Data type Definition apiRoot string See clause 5.213.1.
* * *
##### 5.23.2.2.3 Resource Methods
###### 5.23.2.2.3.1 POST
This method enables an AF to request the creation of a Data Reporting Session
at the NEF.
This method shall support the URI query parameters specified in table
5.23.2.2.3.1-1.
Table 5.23.2.2.3.1-1: URI query parameters supported by the POST method on
this resource
* * *
Name Data type P Cardinality Description Applicability n/a
* * *
This method shall support the request data structures specified in table
5.23.2.2.3.1-2 and the response data structures and response codes specified
in table 5.23.2.2.3.1-4.
Table 5.23.2.2.3.1-2: Data structures supported by the POST request body on
this resource
* * *
Data type P Cardinality Description DataReportingSession (NOTE) M 1
Representation of the Data Reporting Session to be created in the NEF. NOTE:
The \"sessionId\" attribute of the DataReportingSession data type shall not be
provided as it is not applicable.
* * *
Table 5.23.2.2.3.1-3: Data structures supported by the POST response body on
this resource
+---------------+---+-------------+-------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+-------------+---------------+ | DataRep | M | 1 | 201 Created | Successful | | ortingSession | | | | case. A | | | | | | r | | (NOTE 2) | | | | epresentation | | | | | | of the | | | | | | created | | | | | | Individual | | | | | | Data | | | | | | Reporting | | | | | | Session | | | | | | resource is | | | | | | returned. | | | | | | | | | | | | The URI of | | | | | | the created | | | | | | resource | | | | | | shall be | | | | | | returned in | | | | | | an HTTP | | | | | | \"Location\" | | | | | | header. | +---------------+---+-------------+-------------+---------------+ | NOTE 1: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the POST | | | | | | method listed | | | | | | in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | | | | | | | | NOTE 2: The | | | | | | "sessionId" | | | | | | attribute of | | | | | | the | | | | | | DataRep | | | | | | ortingSession | | | | | | data type | | | | | | shall not be | | | | | | provided as | | | | | | it is not | | | | | | applicable. | | | | | +---------------+---+-------------+-------------+---------------+
Table 5.23.2.2.3.1-4: Headers supported by the 201 response code on this
resource
* * *
HTTP response header Data type P Cardinality Description Location string M 1
The URI of the newly created resource, according to the structure:
{apiRoot}/3gpp-data-reporting/v1/sessions/{sessionId}
* * *
#### 5.23.2.3 Resource: Individual Data Reporting Session
##### 5.23.2.3.1 Introduction
This resource represents an Individual Data Reporting Session managed bythe
NEF.
This resource is modelled with the Document resource archetype (see clause C.1
of 3GPP TS 29.501 [3]).
##### 5.23.2.3.2 Resource Definition
Resource URL: **{apiRoot}/3gpp-data-reporting/v1/sessions/{sessionId}**
This resource shall support the resource URI variables defined in table
5.23.2.3.2-1.
Table 5.23.2.3.2-1: Resource URL variables for this resource
* * *
Name Data type Definition apiRoot string See clause 5.23.1 sessionId string
Represents the identifier of the Individual Data Reporting Sessions resource.
* * *
##### 5.23.2.3.3 Resource standard methods
###### 5.23.2.3.3.1 GET
This method enables an AF to retrieve an existing Individual Data Reporting
Session resource at the NEF.
This method shall support the URI query parameters specified in table
5.23.2.3.3.1-1.
Table 5.23.2.3.3.1-1: URI query parameters supported by the GET method on this
resource
* * *
Name Data type P Cardinality Description Applicability n/a
* * *
This method shall support the request data structures specified in table
5.23.2.3.3.1-2 and the response data structures and response codes specified
in table 5.23.2.3.3.1-3.
Table 5.23.2.3.3.1-2: Data structures supported by the GET Request Body on
this resource
* * *
Data type P Cardinality Description n/a
* * *
Table 5.23.2.3.3.1-3: Data structures supported by the GET Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | DataRep | M | 1 | 200 OK | Successful | | ortingSession | | | | case. The | | | | | | requested | | | | | | Individual | | | | | | Data | | | | | | Reporting | | | | | | Session | | | | | | resource is | | | | | | returned to | | | | | | the AF. | +---------------+---+-------------+---------------+---------------+ | n/a | | | 307 Temporary | Temporary | | | | | Redirect | redirection. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | target URI | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | n/a | | | 308 Permanent | Permanent | | | | | Redirect | redirection. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | target URI | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | NOTE 1: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status code | | | | | | for the GET | | | | | | method listed | | | | | | in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | | | | | | | | NOTE 2: The | | | | | | "sessionId" | | | | | | attribute of | | | | | | the | | | | | | DataRep | | | | | | ortingSession | | | | | | data type | | | | | | shall not be | | | | | | provided as | | | | | | it is not | | | | | | applicable. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.23.2.3.3.1-4: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
target URI located in an alternative NEF.
* * *
Table 5.23.2.3.3.1-5: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
target URI of the resource located in an alternative NEF.
* * *
###### 5.23.2.3.3.2 PUT
This method enables an AF to update an existing Individual Data Reporting
Session resource at the NEF.
This method shall support the URI query parameters specified in table
5.23.2.3.3.2-1.
Table 5.23.2.3.3.2-1: URI query parameters supported by the PUT method on this
resource
* * *
Name Data type P Cardinality Description
* * *
This method shall support the request data structures specified in table
5.23.2.3.3.2-2 and the response data structures and response codes specified
in table 5.23.2.3.3.2-4.
Table 5.23.2.3.3.2-2: Data structures supported by the PUT request body on
this resource
* * *
Data type P Cardinality Description DataReportingSession M 1 Parameters to
update the Individual Data Reporting Session resource. NOTE: The "sessionId"
attribute of the DataReportingSession data type shall not be provided as it is
not applicable.
* * *
Table 5.23.2.3.3.2-3: Data structures supported by the PUT response body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | DataRep | M | 1 | 200 OK | The | | ortingSession | | | | Individual | | | | | | Data | | | | | | Reporting | | | | | | Session | | | | | | resource was | | | | | | updated | | | | | | successfully | | | | | | and a | | | | | | r | | | | | | epresentation | | | | | | of the | | | | | | created | | | | | | resource is | | | | | | returned in | | | | | | the response | | | | | | body. | +---------------+---+-------------+---------------+---------------+ | n/a | | | 204 No | The | | | | | Content | Individual | | | | | | Data | | | | | | Reporting | | | | | | Session | | | | | | resource was | | | | | | successfully | | | | | | updated and | | | | | | no content is | | | | | | to be | | | | | | returned in | | | | | | the response | | | | | | body. | +---------------+---+-------------+---------------+---------------+ | n/a | | | 307 Temporary | Temporary | | | | | Redirect | redirection. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | target URI | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | n/a | | | 308 Permanent | Permanent | | | | | Redirect | redirection. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | target URI | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | NOTE 1: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status code | | | | | | for the PUT | | | | | | method listed | | | | | | in | | | | | | Table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | | | | | | | | NOTE 2: The | | | | | | \"sessionId\" | | | | | | attribute of | | | | | | the | | | | | | DataRep | | | | | | ortingSession | | | | | | data type | | | | | | shall not be | | | | | | provided as | | | | | | it is not | | | | | | applicable. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.23.2.3.3.2-4: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
Table 5.23.2.3.3.2-5: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
###### 5.23.2.3.3.3 DELETE
This method enables an AF to request the deletion of an Individual Data
Reporting Session resource at the NEF.
This method shall support the URI query parameters specified in table
5.23.2.3.3.3-1.
Table 5.23.2.3.3.3-1: URI query parameters supported by the DELETE method on
this resource
* * *
Name Data type P Cardinality Description n/a
* * *
This method shall support the request data structures specified in table
5.23.2.3.3.3-2 and the response data structures and response codes specified
in table 5.23.2.3.3.3-3.
Table 5.23.2.3.3.3-2: Data structures supported by the DELETE request body on
this resource
* * *
Data type P Cardinality Description n/a
* * *
Table 5.23.2.3.3.3-3: Data structures supported by the DELETE response body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | Codes | | +---------------+---+-------------+---------------+---------------+ | n/a | | | 204 No | Successful | | | | | Content | response. The | | | | | | Individual | | | | | | Data | | | | | | Reporting | | | | | | Session | | | | | | resource was | | | | | | successfully | | | | | | deleted. | +---------------+---+-------------+---------------+---------------+ | | | | 307 Temporary | Temporary | | | | | Redirect | redirection. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | target URI | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | | | | 308 Permanent | Permanent | | | | | Redirect | redirection. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | target URI | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | NOTE 1: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status code | | | | | | for the | | | | | | DELETE method | | | | | | listed in | | | | | | Table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.23.2.3.3.3-4: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
Table 5.23.2.3.3.3-5: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
##### 5.23.2.3.4 Resource custom operations
##### 5.23.2.3.4.1 Overview {#overview-20 .H6}
Table 5.23.2.3.4.1-1: Custom operations
* * *
Operation name Custom operaration URI Mapped HTTP method Description Report
/sessions/{sessionId}/report POST Enables to send collected UE data reports.
* * *
##### 5.23.2.3.4.2 Operation: Report {#operation-report .H6}
##### 5.23.2.3.4.2.1 Description {#description-13 .H6}
The custom operation enables an AF to send collected UE data reports to the
NEF.
##### 5.23.2.3.4.2.2 Operation Definition {#operation-definition-16 .H6}
This operation shall support the request data structures specified in table
5.23.2.3.4.2.2-1 and the response data structures and response codes specified
in table 5.23.2.3.4.2.2-2.
Table 5.23.2.3.4.2.2-1: Data structures supported by the POST request body on
this resource
* * *
Data type P Cardinality Description DataReport M 1 UE data reported by the
data collection client.
* * *
Table 5.23.2.3.4.2.2-2: Data structures supported by the POST response body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | DataRep | O | 0..1 | 200 OK | The UE data | | ortingSession | | | | report was | | | | | | successfully | | | | | | received. | +---------------+---+-------------+---------------+---------------+ | n/a | | | 307 Temporary | Temporary | | | | | Redirect | redirection. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | target URI | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | n/a | | | 308 Permanent | Permanent | | | | | Redirect | redirection. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | target URI | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | +---------------+---+-------------+---------------+---------------+ | NOTE 1: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status code | | | | | | for the POST | | | | | | method listed | | | | | | in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | | | | | | | | NOTE 2: The | | | | | | "sessionId" | | | | | | attribute of | | | | | | the | | | | | | DataRep | | | | | | ortingSession | | | | | | data type | | | | | | shall not be | | | | | | provided as | | | | | | it is not | | | | | | applicable. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.23.2.3.4.2.2-3: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
Table 5.23.2.3.4.2.2-4: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
### 5.23.3 Custom Operations without associated resources
There are no custom operations without associated resources defined for this
API in this release of the specification.
### 5.23.4 Notifications
There are no notifications defined for this API in this release of the
specification.
### 5.23.5 Data Model
#### 5.23.3.1 General
This clause specifies the application data model supported by the
DataReporting API. Table 5.23.5.1-1 specifies the data types defined for the
DataReporting API.
Table 5.23.5.1-1: DataReporting specific Data Types
* * *
Data type Clause defined Description n/a
* * *
Table 5.23.5.1-2 specifies data types re-used by the DataReporting API from
other specifications, including a reference to their respective
specifications, and when needed, a short description of their use within the
DataReporting API.
Table 5.23.5.1-2: Re-used Data Types
* * *
Data type Reference Comments Applicability DataReport 3GPP TS 26.532 [60]
Reported data by the AF.  
_DataReportingSession_ 3GPP TS 26.532 [60] Configuration by the AF specifying
the data to be reported.
* * *
### 5.23.6 Used Features
The table below defines the features applicable to the DataReporting API.
Those features are negotiated as described in clause 5.2.7 of 3GPP TS 29.122
[4].
Table 5.23.6-1: Features used by DataReporting API
* * *
Feature number Feature Name Description
* * *
### 5.23.7 Error handling
#### 5.23.7.1 General
HTTP error handling shall be supported as specified in clause 5.2.6 of 3GPP TS
29.122 [4].
In addition, the requirements in the following clauses shall apply.
#### 5.23.7.2 Protocol Errors
In this Release of the specification, there are no additional protocol errors
applicable for the DataReporting API.
#### 5.23.7.3 Application Errors
The application errors defined for the DataReporting API are listed in table
5.23.7.3-1.
Table 5.23.7.3-1: Application errors
* * *
Application Error HTTP status code Description
* * *
## 5.24 DataReportingProvisioning API
### 5.24.1 Introduction
The Nnef_DataReportingProvisioning service shall use the
DataReportingProvisioning API.
The API URI of the DataReportingProvisioning API shall be:
{apiRoot}/\/\
The request URIs used in HTTP requests shall have the Resource URI structure
defined in clause 5.2.4 of 3GPP TS 29.122 [4], i.e.:
{apiRoot}/\/\/\
with the following components:
\- \"apiRoot\" is set as defined in clause 5.2.4 of 3GPP TS 29.122 [4].
\- \"apiName\" shall be set to \"3gpp-data-reporting-provisioning\".
\- \"apiVersion\" shall be set to \"v1\" for the current version defined in
the present document.
All resource URIs in the clauses below are defined relative to the above API
URI.
### 5.24.2 Resources
This clause describes the structure for the Resource URIs as shown in Figure
5.24.2-1 and the resources and HTTP methods used for the
DataReportingProvisioning API.
Figure 5.24.2-1: Resource URI structure of the DataReportingProvisioning API
Table 5.24.2-1 provides an overview of the resources and applicable HTTP
methods.
Table 5.24.2-1: Resources and methods overview
+-----------------+-----------------+-------------+-----------------+ | Resource name | Resource URI | HTTP method | Description | | | (relative path | | | | | under API URI) | | (service | | | | | operation) | +-----------------+-----------------+-------------+-----------------+ | Data Reporting | /sessions | POST | Create a Data | | Provisioning | | | Reporting | | Sessions | | | Provisioning | | | | | Session. | +-----------------+-----------------+-------------+-----------------+ | Individual Data | /sessi | GET | Retreive an | | Reporting | ons/{sessionId} | | existing | | Provisioning | | | Individual Data | | Session | | | Reporting | | | | | Provisioning | | | | | Session | | | | | resource. | +-----------------+-----------------+-------------+-----------------+ | | | | | +-----------------+-----------------+-------------+-----------------+ | | | DELETE | Delete an | | | | | existing | | | | | Individual Data | | | | | Reporting | | | | | Provisioning | | | | | Session | | | | | resource. | +-----------------+-----------------+-------------+-----------------+ | Data Reporting | /sessio | POST | Create a new | | Configuration | ns/{sessionId}/ | | Data Reporting | | | | | Configuration. | | | configurations | | | +-----------------+-----------------+-------------+-----------------+ | Individual Data | /sessio | GET | Retrieves an | | Reporting | ns/{sessionId}/ | | existing | | Configuration | | | individual Data | | | co | | Reporting | | | nfigurations/{c | | Configuration | | | onfigurationId} | | resource. | +-----------------+-----------------+-------------+-----------------+ | | | PUT | Update an | | | | | existing | | | | | individual Data | | | | | Reporting | | | | | Configuration | | | | | resource. | +-----------------+-----------------+-------------+-----------------+ | | | PATCH | Modify an | | | | | existing | | | | | Individual Data | | | | | Reporting | | | | | Configuration | | | | | resource. | +-----------------+-----------------+-------------+-----------------+ | | | DELETE | Delete an | | | | | existing | | | | | Individual Data | | | | | Reporting | | | | | Configuration | | | | | resource. | +-----------------+-----------------+-------------+-----------------+
#### 5.24.2.2 Resource: Data Reporting Provisioning Sessions
##### 5.24.2.2.1 Introduction
This resource represents the collection of Data Reporting Provisioning
Sessions managed by the NEF.
This resource is modelled with the Collection resource archetype (see clause
C.2 of 3GPP TS 29.501 [3]).
##### 5.24.2.2.2 Resource definition
Resource URL: **{apiRoot}/3gpp-data-reporting-provisioning/v1/sessions**
This resource shall support the resource URI variables defined in table
5.24.2.2.2-1.
Table 5.24.2.2.2-1: Resource URL variables for this resource
* * *
Name Data type Definition apiRoot string See clause 5.24.1.
* * *
##### 5.24.2.2.3 Resource Methods
###### 5.24.2.2.3.1 POST
This method enables an AF to request the creation of a Data Reporting
Provisioning Session at the NEF.
This method shall support the URI query parameters specified in table
5.24.2.2.3.1-1.
Table 5.24.2.2.3.1-1: URI query parameters supported by the POST method on
this resource
* * *
Name Data type P Cardinality Description Applicability N/A
* * *
This method shall support the request data structures specified in table
5.24.2.2.3.1-2 and the response data structures and response codes specified
in table 5.24.2.2.3.1-4.
Table 5.24.2.2.3.1-2: Data structures supported by the POST request body on
this resource
+------------------------+---+-------------+------------------------+ | Data type | P | Cardinality | Description | +------------------------+---+-------------+------------------------+ | DataReport | M | 1 | Representation of the | | ingProvisioningSession | | | Individual Data | | | | | Reporting Provisioning | | (NOTE) | | | Session to be created | | | | | in the NEF. | +------------------------+---+-------------+------------------------+ | NOTE: The | | | | | " | | | | | provisioningSessionId" | | | | | attribute of the | | | | | DataReport | | | | | ingProvisioningSession | | | | | data type shall not be | | | | | provided as it is not | | | | | applicable. | | | | +------------------------+---+-------------+------------------------+
Table 5.24.2.2.3.1-3: Data structures supported by the POST response body on
this resource
+---------------+---+-------------+-------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+-------------+---------------+ | DataRe | M | 1 | 201 Created | Successful | | portingProvis | | | | case. A | | ioningSession | | | | r | | | | | | epresentation | | (NOTE 2) | | | | of the | | | | | | created | | | | | | Individual | | | | | | Data | | | | | | Reporting | | | | | | Provisioning | | | | | | Session | | | | | | resource is | | | | | | returned. | | | | | | | | | | | | The URI of | | | | | | the created | | | | | | resource | | | | | | shall be | | | | | | returned in | | | | | | an HTTP | | | | | | \"Location\" | | | | | | header. | +---------------+---+-------------+-------------+---------------+ | NOTE 1: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the POST | | | | | | method listed | | | | | | in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | | | | | | | | NOTE 2: The | | | | | | "provision | | | | | | ingSessionId" | | | | | | attribute of | | | | | | the | | | | | | DataRe | | | | | | portingProvis | | | | | | ioningSession | | | | | | data type | | | | | | shall not be | | | | | | provided as | | | | | | it is not | | | | | | applicable. | | | | | +---------------+---+-------------+-------------+---------------+
Table 5.24.2.2.3.1-4: Headers supported by the _201_ response code on this
resource
* * *
HTTP response header Data type P Cardinality Description Location string M 1
The URI of the newly created resource, according to the structure:
{apiRoot}/3gpp-data-reporting-provisioning/v1/sessions/{sessionId}
* * *
#### 5.24.2.3 Resource: Individual Data Reporting Provisioning Session
##### 5.24.2.3.1 Introduction
This resource represents an Individual Data Reporting Provisioning Session
managed by the NEF.
This resource is modelled with the Document resource archetype (see clause C.1
of 3GPP TS 29.501 [3]).
##### 5.24.2.3.2 Resource Definition
Resource URL: **{apiRoot}/3gpp-data-reporting-
provisioning/v1/sessions/{sessionId}**
This resource shall support the resource URI variables defined in table
5.24.2.3.2-1.
Table 5.24.2.3.2-1: Resource URL variables for this resource
* * *
Name Data type Definition apiRoot string See clause 5.24.1 sessionId string
Represents the identifierof the Individual Data Reporting Provisioning Session
resource.
* * *
##### 5.24.2.3.3 Resource standard methods
5.24.2.3.3.1 GETThis method enables an AF to retrieve an existing Individual
Data Reporting Provisioning Session resource at the NEF.
This method shall support the URI query parameters specified in table
5.24.2.3.3.1-1.
Table 5.24.2.3.3.1-1: URI query parameters supported by the GET method on this
resource
* * *
Name Data type P Cardinality Description Applicability n/a
* * *
This method shall support the request data structures specified in table
5.24.2.3.3.1-2 and the response data structures and response codes specified
in table 5.24.2.3.3.1-3.
Table 5.24.2.3.3.1-2: Data structures supported by the GET Request Body on
this resource
* * *
Data type P Cardinality Description n/a
* * *
Table 5.24.2.3.3.1-3: Data structures supported by the GET Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | DataRe | M | 1 | 200 OK | Successful | | portingProvis | | | | case. The | | ioningSession | | | | requested | | | | | | Individual | | (NOTE 2) | | | | Data | | | | | | Reporting | | | | | | Provisioning | | | | | | Session | | | | | | resource is | | | | | | returned to | | | | | | the AF. | +---------------+---+-------------+---------------+---------------+ | n/a | | | 307 Temporary | Temporary | | | | | Redirect | redirection. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | target URI | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | n/a | | | 308 Permanent | Permanent | | | | | Redirect | redirection. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | target URI | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | NOTE 1: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status code | | | | | | for the GET | | | | | | method listed | | | | | | in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | | | | | | | | NOTE 2: The | | | | | | "provision | | | | | | ingSessionId" | | | | | | attribute of | | | | | | the | | | | | | DataRe | | | | | | portingProvis | | | | | | ioningSession | | | | | | data type | | | | | | shall not be | | | | | | provided as | | | | | | it is not | | | | | | applicable. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.24.2.3.3.1-4: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
target URI located in an alternative NEF.
* * *
Table 5.24.2.3.3.1-5: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
target URI of the resource located in an alternative NEF.
* * *
###### 5.24.2.3.3.2 Void
###### 5.24.2.3.3.3 DELETE
This method enables an AF to request the deletion of an existing Individual
Data Reporting Provisioning Session resource at the NEF.
This method shall support the URI query parameters specified in table
5.24.2.3.3.3-1.
Table 5.24.2.3.3.3-1: URI query parameters supported by the DELETE method on
this resource
* * *
Name Data type P Cardinality Description n/a
* * *
This method shall support the request data structures specified in table
5.24.2.3.3.3-2 and the response data structures and response codes specified
in table 5.24.2.3.3.3-3.
Table 5.24.2.3.3.3-2: Data structures supported by the DELETE request body on
this resource
* * *
Data type P Cardinality Description n/a
* * *
Table 5.24.2.3.3.3-3: Data structures supported by the DELETE response body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | Codes | | +---------------+---+-------------+---------------+---------------+ | n/a | | | 204 No | Successful | | | | | Content | response. The | | | | | | Individual | | | | | | Data | | | | | | Reporting | | | | | | Provisioning | | | | | | Session | | | | | | resource was | | | | | | successfully | | | | | | deleted. | +---------------+---+-------------+---------------+---------------+ | | | | 307 Temporary | Temporary | | | | | Redirect | redirection. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | target URI | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | | | | 308 Permanent | Permanent | | | | | Redirect | redirection. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | target URI | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status code | | | | | | for the | | | | | | DELETE method | | | | | | listed in | | | | | | Table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.24.2.3.3.3-4: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located on an alternative service instance within the same
NEF.
* * *
Table 5.24.2.3.3.3-5: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location String M 1 An alternative
URI of the resource located on an alternative service instance within the same
NEF.
* * *
#### 5.24.2.4 Resource: Data Reporting Configurations
##### 5.24.2.4.1 Introduction
This resource represents the collection of Data Reporting Configurations
managed by the NEF.
This resource is modelled with the Collection resource archetype (see clause
C.2 of 3GPP TS 29.501 [3]).
##### 5.24.2.4.2 Resource definition
Resource URL: **{apiRoot}/3gpp-data-reporting-
provisioning/v1/sessions/{sessionId}/configurations**
This resource shall support the resource URI variables defined in table
5.24.2.4.2-1.
Table 5.24.2.4.2-1: Resource URL variables for this resource
* * *
Name Data type Definition apiRoot string See clause 5.24.1. sessionId string
Represents the identifier of the existing Data Reporting Provisioning Session
resource.
* * *
##### 5.24.2.4.3 Resource Methods
###### 5.24.2.4.3.1 POST
This method enables an AF to request the creation of a Data Reporting
Configuration at the NEF.
This method shall support the URI query parameters specified in table
5.24.2.4.3.1-1.
Table 5.24.2.4.3.1-1: URI query parameters supported by the POST method on
this resource
* * *
Name Data type P Cardinality Description Applicability n/a
* * *
This method shall support the request data structures specified in table
5.24.2.4.3.1-2 and the response data structures and response codes specified
in table 5.24.2.4.3.1-4.
Table 5.24.2.4.3.1-2: Data structures supported by the POST request body on
this resource
+------------------------+---+-------------+------------------------+ | Data type | P | Cardinality | Description | +------------------------+---+-------------+------------------------+ | Data | M | 1 | Representation of the | | ReportingConfiguration | | | Data Reporting | | | | | Configuration to be | | (NOTE) | | | created in the NEF. | +------------------------+---+-------------+------------------------+ | NOTE: The | | | | | "dataRep | | | | | ortingConfigurationId" | | | | | attribute of the | | | | | Data | | | | | ReportingConfiguration | | | | | data type shall not be | | | | | provided as it is not | | | | | applicable. | | | | +------------------------+---+-------------+------------------------+
Table 5.24.2.4.3.1-3: Data structures supported by the POST response body on
this resource
+---------------+---+-------------+-------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+-------------+---------------+ | DataReporting | M | 1 | 201 Created | Successful | | Configuration | | | | case. A | | | | | | r | | (NOTE 2) | | | | epresentation | | | | | | of the | | | | | | created | | | | | | Individual | | | | | | Data | | | | | | Reporting | | | | | | Configuration | | | | | | resource is | | | | | | returned. | | | | | | | | | | | | The URI of | | | | | | the created | | | | | | resource | | | | | | shall be | | | | | | returned in | | | | | | an HTTP | | | | | | \"Location\" | | | | | | header. | +---------------+---+-------------+-------------+---------------+ | NOTE 1: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the POST | | | | | | method listed | | | | | | in table | | | | | | 5.2.6-1 of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | | | | | | | | NOTE 2: The | | | | | | "dat | | | | | | aReportingCon | | | | | | figurationId" | | | | | | attribute of | | | | | | the | | | | | | DataReporting | | | | | | Configuration | | | | | | data type | | | | | | shall not be | | | | | | provided as | | | | | | it is not | | | | | | applicable. | | | | | +---------------+---+-------------+-------------+---------------+
Table 5.24.2.4.3.1-4: Headers supported by the _201_ response code on this
resource
* * *
HTTP response header Data type P Cardinality Description Location string M 1
The URI of the newly created resource, according to the structure:
{apiRoot}/3gpp-data-reporting-provisioning
/v1/sessions/{sessionId}/configurations
* * *
Table 5.24.2.4.3.1-5: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
target URI located in an alternative NEF.
* * *
Table 5.24.2.4.3.1-6: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
target URI of the resource located in an alternative NEF.
* * *
#### 5.24.2.5 Resource: Individual Data Reporting Configuration
##### 5.24.2.5.1 Introduction
This resource represents an Individual Data Reporting Configuration resource
managed by the NEF.
This resource is modelled with the Document resource archetype (see clause C.1
of 3GPP TS 29.501 [3]).
##### 5.24.2.5.2 Resource Definition
Resource URL: **{apiRoot}/3gpp-data-reporting-
provisioning/v1/sessions/{sessionId}/configurations/{configurationId}**
This resource shall support the resource URI variables defined in table
5.24.2.5.2-1.
Table 5.24.2.5.2-1: Resource URL variables for this resource
* * *
Name Data type Definition apiRoot string See clause 5.24.1 sessionId string
Represents the identifier of the Individual Data Reporting Provisioning
Session resource. configurationId string Represents the identifier of the
Individual Data Reporting Configuration resource.
* * *
##### 5.24.2.5.3 Resource standard methods
###### 5.24.2.5.3.2 GET
This method enables an AF to retrieve an existing Individual Data Reporting
Configuration resource at the NEF.
This method shall support the URI query parameters specified in table
5.24.2.5.3.2-1.
Table 5.24.2.5.3.2-1: URI query parameters supported by the GET method on this
resource
* * *
Name Data type P Cardinality Description Applicability n/a
* * *
This method shall support the request data structures specified in table
5.24.2.5.3.2-2 and the response data structures and response codes specified
in table 5.24.2.5.3.2-3.
Table 5.24.2.5.3.2-2: Data structures supported by the GET Request Body on
this resource
* * *
Data type P Cardinality Description n/a
* * *
Table 5.24.2.5.3.2-3: Data structures supported by the GET Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | DataReporting | M | 1 | 200 OK | Successful | | Configuration | | | | case. The | | | | | | requested | | (NOTE 2) | | | | Individual | | | | | | Data | | | | | | Reporting | | | | | | Configuration | | | | | | resource is | | | | | | returned to | | | | | | the AF. | +---------------+---+-------------+---------------+---------------+ | n/a | | | 307 Temporary | Temporary | | | | | Redirect | redirection. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | target URI | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | n/a | | | 308 Permanent | Permanent | | | | | Redirect | redirection. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | target URI | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | NOTE 1: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status code | | | | | | for the GET | | | | | | method listed | | | | | | in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | | | | | | | | NOTE 2: The | | | | | | "dat | | | | | | aReportingCon | | | | | | figurationId" | | | | | | attribute of | | | | | | the | | | | | | DataReporting | | | | | | Configuration | | | | | | data type | | | | | | shall not be | | | | | | provided as | | | | | | it is not | | | | | | applicable. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.24.2.5.3.2-4: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
target URI located in an alternative NEF.
* * *
Table 5.24.2.5.3.2-5: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
target URI of the resource located in an alternative NEF.
* * *
###### 5.24.2.5.3.3 PUT
This method enables an AF to update an existing Individual Data Reporting
Configuration resource at the NEF.
This method shall support the URI query parameters specified in table
5.24.2.5.3.3-1.
Table 5.24.2.5.3.3-1: URI query parameters supported by the PUT method on this
resource
* * *
Name Data type P Cardinality Description
* * *
This method shall support the request data structures specified in table
5.24.2.5.3.3-2 and the response data structures and response codes specified
in table 5.24.2.5.3.3-3.
Table 5.24.2.5.3.3-2: Data structures supported by the PUT request body on
this resource
+------------------------+---+-------------+------------------------+ | Data type | P | Cardinality | Description | +------------------------+---+-------------+------------------------+ | Data | M | 1 | Parameters to | | ReportingConfiguration | | | updatethe Individual | | | | | Data Reporting | | (NOTE) | | | Configuration | | | | | resource. | +------------------------+---+-------------+------------------------+ | NOTE: The | | | | | "dataRep | | | | | ortingConfigurationId" | | | | | attribute of the | | | | | Data | | | | | ReportingConfiguration | | | | | data type shall not be | | | | | provided as it is not | | | | | applicable. | | | | +------------------------+---+-------------+------------------------+
Table 5.24.2.5.3.3-3: Data structures supported by the PUT response body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | DataReporting | M | 1 | 200 OK | The | | Configuration | | | | Individual | | | | | | Data | | (NOTE 2) | | | | Reporting | | | | | | Configuration | | | | | | resource was | | | | | | updated | | | | | | successfully | | | | | | and a | | | | | | r | | | | | | epresentation | | | | | | of the | | | | | | updated | | | | | | resource is | | | | | | returned in | | | | | | the response | | | | | | body. | +---------------+---+-------------+---------------+---------------+ | n/a | | | 204 No | The | | | | | Content | Individual | | | | | | Data | | | | | | Reporting | | | | | | Configuration | | | | | | resource was | | | | | | successfully | | | | | | updated and | | | | | | no content is | | | | | | to be | | | | | | returned in | | | | | | the response | | | | | | body. | +---------------+---+-------------+---------------+---------------+ | n/a | | | 307 Temporary | Temporary | | | | | Redirect | redirection. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | target URI | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | n/a | | | 308 Permanent | Permanent | | | | | Redirect | redirection. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | target URI | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | NOTE 1: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status code | | | | | | for the PUT | | | | | | method listed | | | | | | in Table | | | | | | 5.2.6-1 of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | | | | | | | | NOTE 2: The | | | | | | "dat | | | | | | aReportingCon | | | | | | figurationId" | | | | | | attribute of | | | | | | the | | | | | | DataReporting | | | | | | Configuration | | | | | | data type | | | | | | shall not be | | | | | | provided as | | | | | | it is not | | | | | | applicable. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.24.2.5.3.3-4: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
Table 5.24.2.5.3.3-5: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
###### 5.24.2.5.3.3A PATCH
The PATCH method is used to modify an existing Individual Data Reporting
Configuration resource.
This method shall support the request data structures specified in table
5.24.2.5.3.3A-1, and the response data structures and response codes specified
in table 5.24.2.5.3.3A-2.
Table 5.24.2.5.3.3A-1: Data structures supported by the PATCH request body on
this resource
* * *
Data type P Cardinality Description DataReportingConfigurationPatch M 1
Parameters to modify for a Data Reporting Configuration resource.
* * *
Table 5.24.2.5.3.3A-2: Data structures supported by the PATCH response body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | DataReporting | M | 1 | 200 OK | The Data | | Configuration | | | | Reporting | | | | | | Configuration | | (NOTE 2) | | | | resource was | | | | | | updated | | | | | | successfully | | | | | | by | | | | | | configuration | | | | | | data | | | | | | provided. | +---------------+---+-------------+---------------+---------------+ | n/a | | | 204 No | The Data | | | | | Content | Reporting | | | | | | Configuration | | | | | | resource was | | | | | | successfully | | | | | | updated and | | | | | | no content is | | | | | | to be | | | | | | returned in | | | | | | the response | | | | | | body. | +---------------+---+-------------+---------------+---------------+ | n/a | | | 307 Temporary | Temporary | | | | | Redirect | redirection. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | target URI | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | n/a | | | 308 Permanent | Permanent | | | | | Redirect | redirection. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | target URI | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | NOTE 1: The | | | | | | mandadatory | | | | | | HTTP error | | | | | | status code | | | | | | for the PATCH | | | | | | method listed | | | | | | in Table | | | | | | 5.2.6-1 of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | | | | | | | | NOTE 2: The | | | | | | "dat | | | | | | aReportingCon | | | | | | figurationId" | | | | | | attribute of | | | | | | the | | | | | | DataReporting | | | | | | Configuration | | | | | | data type | | | | | | shall not be | | | | | | provided as | | | | | | it is not | | | | | | applicable. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.24.2.5.3.3A-3: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
Table 5.24.2.5.3.3A-4: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
###### 5.24.2.5.3.4 DELETE
This method enables an AF to request the deletion of an existing Individual
Data Reporting Configuration resource at the NEF.
This method shall support the URI query parameters specified in table
5.24.2.5.3.4-1.
Table 5.24.2.5.3.4-1: URI query parameters supported by the DELETE method on
this resource
* * *
Name Data type P Cardinality Description n/a
* * *
This method shall support the request data structures specified in table
5.24.2.5.3.4-2 and the response data structures and response codes specified
in table 5.24.2.5.3.4-3.
Table 5.24.2.5.3.4-2: Data structures supported by the DELETE request body on
this resource
* * *
Data type P Cardinality Description n/a
* * *
Table 5.24.2.5.3.4-3: Data structures supported by the DELETE response body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | Codes | | +---------------+---+-------------+---------------+---------------+ | n/a | | | 204 No | Successful | | | | | Content | response. The | | | | | | Data | | | | | | Reporting | | | | | | Configuration | | | | | | resource was | | | | | | successfully | | | | | | deleted. | +---------------+---+-------------+---------------+---------------+ | | | | 307 Temporary | Temporary | | | | | Redirect | redirection. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | target URI | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | | | | 308 Permanent | Permanent | | | | | Redirect | redirection. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | target URI | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | NOTE 1: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status code | | | | | | for the | | | | | | DELETE method | | | | | | listed in | | | | | | Table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.24.2.5.3.4-4: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
Table 5.24.2.5.3.4-5: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location String M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
### 5.24.3 Custom Operations without associated resources
There are no custom operations without associated resources defined for this
API in this release of the specification.
### 5.24.4 Notifications
There are no notifications defined for this API in this release of the
specification.
### 5.24.5 Data Model
#### 5.24.5.1 General
This clause specifies the application data model supported by the
DataReportingProvisioning API. Table 5.24.5.1-1 specifies the data types
defined for the DataReportingProvisioning API.
Table 5.24.5.1-1: DataReportingProvisioning specific Data Types
* * *
Data type Clause defined Description n/a
* * *
Table 5.24.5.1-2 specifies data types re-used by the DataReportingProvisioning
API from other specifications, including a reference to their respective
specifications, and when needed, a short description of their use within the
DataReportingProvisioning API.
Table 5.24.5.1-2: DataReportingProvisioning re-used Data Types
* * *
Data type Reference Comments Applicability _DataReportingProvisioningSession_
3GPP TS 26.532 [60] Configuration by the AF specifying the data to be
collected, processed and reported.  
DataReportingConfiguration 3GPP TS 26.532 [60] Configuration data related to
UE data collection and reporting.  
DataReportingConfigurationPatch 3GPP TS 26.532 [60] Contains the requested
modifications to the configuration data regarding UE data collection and
reporting.
* * *
### 5.24.6 Used Features
The table below defines the features applicable to the
DataReportingProvisioning API. Those features are negotiated as described in
clause 5.2.7 of 3GPP TS 29.122 [4].
Table 5.24.6-1: Features used by DataReportingProvisioning API
* * *
Feature number Feature Name Description
* * *
### 5.24.7 Error handling
#### 5.24.7.1 General
HTTP error handling shall be supported as specified in clause 5.2.6 of 3GPP TS
29.122 [4].
In addition, the requirements in the following clauses shall apply.
#### 5.24.7.2 Protocol Errors
In this Release of the specification, there are no additional protocol errors
applicable for the DataReportingProvisioning API.
#### 5.24.7.3 Application Errors
The application errors defined for the DataReportingProvisioning API are
listed in table 5.24.7.3-1.
Table 5.24.7.3-1: Application errors
* * *
Application Error HTTP status code Description
* * *
## 5.25 UEId API
### 5.25.1 Introduction
The Nnef_UEId service shall use the UEId API.
The API URI of UEId API shall be:
**{apiRoot}/3gpp-ueid/v1**
with the following components:
\- \"apiRoot\" is set as described in clause 5.2.4 in 3GPP TS 29.122 [4].
\- \"apiName\" shall be set to \"3gpp-ueid\".
\- \"apiVersion\" shall be set to \"v1\" for the current version defined in
the present document.
All resource URIs in the clauses below are defined relative to the above API
URI.
### 5.25.2 Resources
There are no resources defined for this API in this release of the
specification.
### 5.25.3 Custom Operations without associated resources
#### 5.25.3.1 Overview
The structure of the custom operation URIs of the UEId API is shown in Figure
5.25.3.1-1.
Figure 5.25.3.1-1: Custom operation URI structure of the UEId API
Table 5.25.3.1-1 provides an overview of the custom operations and applicable
HTTP methods.
Table 5.25.3.1-1: Custom operations without associated resources
* * *
Operation name Custom operation URI Mapped HTTP method Description Retrieve
/retrieve POST Request to retrieve AF specific UE ID information.
* * *
#### 5.25.3.2 Operation: Retrieve
##### 5.25.3.2.1 Description
The custom operation allows a service consumer to retrieve AF specific UE ID
information via the NEF.
##### 5.25.3.2.2 Operation Definition
This operation shall support the request and response data structures and
response codes specified in table 5.25.3.2.2-1 and table 5.25.3.2.2-2.
Table 5.25.3.2.2-1: Data structures supported by the POST Request Body on this
resource
* * *
Data type P Cardinality Description UeIdReq M 1 Parameters to request to
retrieve AF specific UE ID information.
* * *
Table 5.25.3.2.2-2: Data structures supported by the POST Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | UeIdInfo | M | 1 | 200 OK | The requested | | | | | | AF specific | | | | | | UE ID | | | | | | information | | | | | | was returned | | | | | | successfully. | +---------------+---+-------------+---------------+---------------+ | P | O | 0..1 | 403 Forbidden | If the AF | | roblemDetails | | | | request is | | | | | | not | | | | | | authorized, | | | | | | the NEF shall | | | | | | respond with | | | | | | \"403 | | | | | | Forbidden\". | +---------------+---+-------------+---------------+---------------+ | P | O | 0..1 | 404 Not Found | If the | | roblemDetails | | | | requested UE | | | | | | ID does not | | | | | | exist or not | | | | | | available in | | | | | | the | | | | | | subscription, | | | | | | the NEF shall | | | | | | respond with | | | | | | \"404 Not | | | | | | Found\". | +---------------+---+-------------+---------------+---------------+ | n/a | | | 307 Temporary | Temporary | | | | | Redirect | redirection. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | n/a | | | 308 Permanent | Permanent | | | | | Redirect | redirection. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the POST | | | | | | method listed | | | | | | in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.25.3.2.2-3: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
Table 5.25.3.2.2-4: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
### 5.25.4 Notifications
There are no Notifications defined for this API in this release of the
specification.
### 5.25.5 Data Model
#### 5.25.5.1 General
This clause specifies the application data model supported by the UEId API.
Table 5.25.5.1-1 specifies the data types defined for the UEId API.
Table 5.25.5.1-1: UEId service specific Data Types
* * *
Data type Clause defined Description Applicability UeIdReq 5.25.5.2.2
Represents the parameters to requestAF specific UE ID retrieval.  
UeIdInfo 5.25.5.2.3 Represents AF specific UE ID information.
* * *
Table 5.25.5.1-2 specifies data types re-used by the UEId API from other
specifications, including a reference to their respective specifications, and
when needed, a short description of their use within the UEId API.
Table 5.25.5.1-2: Re-used Data Types
* * *
Data type Reference Comments Dnn 3GPP TS 29.571 [8] Identifies a DNN.
ExternalId 3GPP TS 29.122 [4] Represents an External Identifier. IpAddr 3GPP
TS 29.571 [8] Identifes an IP address. MacAddr48 3GPP TS 29.571 [8] Identifies
a MAC address. MtcProviderInformation 3GPP TS 29.571 [8] Indicates MTC
provider information. Port 3GPP TS 29.122 [4] Identifies a port, unsigned
integer with valid values between 0 and 65535. ProblemDetails 3GPP TS 29.122
[4] Represents error related information. Snssai 3GPP TS 29.571 [8] Identifies
the S-NSSAI. Uinteger 3GPP TS 29.571 [8] Represents a unsigned integer.
* * *
#### 5.25.5.2 Structured data types
##### 5.25.5.2.1 Introduction
This clause defines the structured data types to be used in resource
representations.
##### 5.25.5.2.2 Type: UeIdReq
Table 5.25.5.2.2-1: Definition of type UeIdReq
+-----------+-----------+---+-----------+-----------+-----------+ | Attribute | Data type | P | Ca | De | Appl | | name | | | rdinality | scription | icability | | | | | | | | | | | | | | (NOTE 1) | +-----------+-----------+---+-----------+-----------+-----------+ | afId | string | M | 1 | R | | | | | | | epresents | | | | | | | the | | | | | | | i | | | | | | | dentifier | | | | | | | of theAF | | | | | | | that is | | | | | | | sending | | | | | | | the | | | | | | | request. | | +-----------+-----------+---+-----------+-----------+-----------+ | appPortId | Port | O | 0..1 | I | | | | | | | dentifies | | | | | | | an | | | | | | | ap | | | | | | | plication | | | | | | | port ID. | | | | | | | See | | | | | | | clause 9 | | | | | | | .2.3.24.4 | | | | | | | of | | | | | | | 3GP | | | | | | | P TS 23.0 | | | | | | | 40 [62] | | | | | | | for | | | | | | | further | | | | | | | details. | | +-----------+-----------+---+-----------+-----------+-----------+ | dnn | Dnn | O | 0..1 | I | | | | | | | dentifies | | | | | | | a DNN. | | +-----------+-----------+---+-----------+-----------+-----------+ | ipDomain | string | O | 0..1 | The IPv4 | | | | | | | address | | | | | | | domain | | | | | | | id | | | | | | | entifier. | | | | | | | | | | | | | | The | | | | | | | attribute | | | | | | | may only | | | | | | | be | | | | | | | present | | | | | | | if the | | | | | | | IPv4 | | | | | | | address | | | | | | | is | | | | | | | provided | | | | | | | in the | | | | | | | \"u | | | | | | | eIpAddr\" | | | | | | | a | | | | | | | ttribute. | | +-----------+-----------+---+-----------+-----------+-----------+ | mtcP | MtcP | O | 0..1 | Indicates | | | roviderId | roviderIn | | | MTC | | | | formation | | | provider | | | | | | | inf | | | | | | | ormation. | | +-----------+-----------+---+-----------+-----------+-----------+ | p | Port | O | 0..1 | Indicates | P | | ortNumber | | | | the UDP | ortNumber | | | | | | or TCP | | | | | | | port | | | | | | | number | | | | | | | a | | | | | | | ssociated | | | | | | | with the | | | | | | | UE IP | | | | | | | address | | | | | | | as | | | | | | | provided | | | | | | | in the | | | | | | | \"u | | | | | | | eIpAddr\" | | | | | | | a | | | | | | | ttribute. | | +-----------+-----------+---+-----------+-----------+-----------+ | snssai | Snssai | O | 0..1 | I | | | | | | | dentifies | | | | | | | an | | | | | | | S-NSSAI. | | +-----------+-----------+---+-----------+-----------+-----------+ | ueIpAddr | IpAddr | C | 0..1 | I | | | | | | | dentifies | | | | | | | a UE IP | | | | | | | Address. | | | | | | | | | | | | | | (NOTE 2) | | +-----------+-----------+---+-----------+-----------+-----------+ | ueMacAddr | MacAddr48 | C | 0..1 | I | | | | | | | dentifies | | | | | | | a UE MAC | | | | | | | Address. | | | | | | | | | | | | | | (NOTE 2) | | +-----------+-----------+---+-----------+-----------+-----------+ | NOTE 1: | | | | | | | P | | | | | | | roperties | | | | | | | marked | | | | | | | with a | | | | | | | feature | | | | | | | as | | | | | | | defined | | | | | | | in | | | | | | | clau | | | | | | | se 5.25.6 | | | | | | | are | | | | | | | a | | | | | | | pplicable | | | | | | | as | | | | | | | described | | | | | | | in | | | | | | | cla | | | | | | | use 5.2.7 | | | | | | | of | | | | | | | 3GP | | | | | | | P TS 29.1 | | | | | | | 22 [4]. | | | | | | | If no | | | | | | | feature | | | | | | | is | | | | | | | i | | | | | | | ndicated, | | | | | | | the | | | | | | | related | | | | | | | property | | | | | | | is always | | | | | | | applied. | | | | | | | | | | | | | | NOTE 2: | | | | | | | One of | | | | | | | the | | | | | | | \"u | | | | | | | eIpAddr\" | | | | | | | attribute | | | | | | | or | | | | | | | \"ue | | | | | | | MacAddr\" | | | | | | | attribute | | | | | | | shall be | | | | | | | included. | | | | | | +-----------+-----------+---+-----------+-----------+-----------+
##### 5.25.5.2.3 Type: UeIdInfo
Table 5.25.5.2.3-1: Definition of type UeIdInfo
* * *
Attribute name Data type P Cardinality Description Applicability externalId
ExternalId M 1 Contains the AF specific UE ID in the form of an external
identifier uniquely identifying the user.
* * *
#### 5.25.5.3 Simple data types and enumerations
##### 5.25.5.3.1 Introduction
This clause defines simple data types and enumerations that can be referenced
from data structures defined in the previous clauses.
##### 5.25.5.3.2 Simple data types
The simple data types defined in table 5.25.5.3.2-1 shall be supported.
Table 5.25.5.3.2-1: Simple data types
* * *
Type Name Type Definition Description Applicability
* * *
### 5.25.6 Used Features
The table below defines the features applicable to the UEId API. Those
features are negotiated as described in clause 5.2.7 of 3GPP TS 29.122 [4].
Table 5.25.6-1: Features used by UEId API
* * *
Feature number Feature Name Description 1 PortNumber This feature indicates
supporting AF providing Port Number associated with the UE IP address in the
request.
* * *
### 5.25.7 Error handling
#### 5.25.7.1 General
HTTP error handling shall be supported as specified in clause 5.2.6 of 3GPP TS
29.122 [4].
In addition, the requirements in the following clauses shall apply.
#### 5.25.7.2 Protocol Errors
In this Release of the specification, there are no additional protocol errors
applicable for the UEId API.
#### 5.25.7.3 Application Errors
The application errors defined for the UEId API are listed in table
5.25.7.3-1.
Table 5.25.7.3-1: Application errors
* * *
**Application Error** **HTTP status code** **Description**
REQUEST_NOT_AUTHORIZED 403 Forbidden Indicates that the AF specific UE ID
retrieval request is not authorized. UE_ID_NOT_AVAILABLE 404 Not Found
Indicates that the requested AF specific UE ID is not available. UE_NOT_FOUND
404 Not Found Indicates that the requested UE address is not found.
* * *
## 5.26 MBSUserService API
### 5.26.1 Introduction
The Nnef_MBSUserService service shall use the MBSUserService API.
The API URI of MBSUserService API shall be:
**{apiRoot}/3gpp-mbs-us/v1**
with the following components:
\- \"apiRoot\" is set as defined in clause 5.2.4 of 3GPP TS 29.122 [4].
\- \"apiName\" shall be set to \"3gpp-mbs-us\".
\- \"apiVersion\" shall be set to \"v1\" for the current version defined in
the present document.
All resource URIs in the clauses below are defined relative to the above API
URI.
### 5.26.2 Resources
#### 5.26.2.1 Overview
This clause describes the structure for the Resource URIs as shown in figure
5.26.2.1-1 and the resources and HTTP methods used for the MBSUserService API.
Figure 5.26.2.1-1: Resource URI structure of the MBSUserService API
Table 5.26.2.1-1 provides an overview of the resources and applicable HTTP
methods.
Table 5.26.2.1-1: Resources and methods overview
+----------------+----------------+----------------+----------------+ | Resource name | Resource URI | HTTP method or | Description | | | (relative path | custom | | | | under API URI) | operation | (service | | | | | operation) | +----------------+----------------+----------------+----------------+ | MBS User | /mbs | GET | Retrieve all | | Services | -user-services | | the active MBS | | | | | User Services | | | | | managed by the | | | | | NEF. | +----------------+----------------+----------------+----------------+ | | | POST | Request the | | | | | creation of a | | | | | new MBS User | | | | | Service. | +----------------+----------------+----------------+----------------+ | Individual MBS | /mbs-u | GET | Retrieve an | | User Service | ser-services/{ | | existng MBS | | | mbsUserServId} | | User Service | | | | | managed by the | | | | | NEF. | +----------------+----------------+----------------+----------------+ | | | PUT | Update an | | | | | existng MBS | | | | | User Service | | | | | managed by the | | | | | NEF. | +----------------+----------------+----------------+----------------+ | | | PATCH | Modify an | | | | | existng MBS | | | | | User Service | | | | | managed by the | | | | | NEF. | +----------------+----------------+----------------+----------------+ | | | DELETE | Delete an | | | | | existng MBS | | | | | User Service | | | | | managed by the | | | | | NEF. | +----------------+----------------+----------------+----------------+
#### 5.26.2.2 Resource: MBS User Services
##### 5.26.2.2.1 Introduction
This resource represents the collection of MBS User Services managed by the
NEF.
This resource is modelled with the Collection resource archetype (see clause
C.2 of 3GPP TS 29.501 [3]).
##### 5.26.2.2.2 Resource Definition
Resource URI: **{apiRoot}/3gpp-mbs-us/v1/mbs-user-services**
This resource shall support the resource URI variables defined in table
5.26.2.2.2-1.
Table 5.26.2.2.2-1: Resource URI variables for this resource
* * *
Name Data type Definition apiRoot string See clause 5.26.1.
* * *
##### 5.26.2.2.3 Resource Standard Methods
###### 5.26.2.2.3.1 GET
This method allows an AF to retrieve all the active MBS User Service resources
at the NEF.
This method shall support the URI query parameters specified in table
5.26.2.2.3.1-1.
Table 5.26.2.2.3.1-1: URI query parameters supported by the GET method on this
resource
* * *
Name Data type P Cardinality Description Applicability n/a
* * *
This method shall support the request data structures specified in table
5.26.2.2.3.1-2 and the response data structures and response codes specified
in table 5.26.2.2.3.1-3.
Table 5.26.2.2.3.1-2: Data structures supported by the GET Request Body on
this resource
* * *
Data type P Cardinality Description n/a
* * *
Table 5.26.2.2.3.1-3: Data structures supported by the GET Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | array _(_ MB | M | 0..N | 200 OK | Successful | | SUserService) | | | | case. All the | | | | | | active MBS | | | | | | User Services | | | | | | managed by | | | | | | the NEF are | | | | | | returned. | +---------------+---+-------------+---------------+---------------+ | n/a | | | 307 Temporary | Temporary | | | | | Redirect | redirection. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | target URI | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | n/a | | | 308 Permanent | Permanent | | | | | Redirect | redirection. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | target URI | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status code | | | | | | for the GET | | | | | | method listed | | | | | | in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.26.2.2.3.1-4: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
Table 5.26.2.2.3.1-5: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
###### 5.26.2.2.3.2 POST
This method enables an AF to request the creation of an MBS User Service
resource at the NEF.
This method shall support the URI query parameters specified in table
5.26.2.2.3.2-1.
Table 5.26.2.2.3.2-1: URI query parameters supported by the POST method on
this resource
* * *
Name Data type P Cardinality Description Applicability n/a
* * *
This method shall support the request data structures specified in table
5.26.2.2.3.2-2 and the response data structures and response codes specified
in table 5.26.2.2.3.2-3.
Table 5.26.2.2.3.2-2: Data structures supported by the POST Request Body on
this resource
* * *
Data type P Cardinality Description MBSUserService M 1 Contains the parameters
to request the creation of a new MBS User Service at the NEF.
* * *
Table 5.26.2.2.3.2-3: Data structures supported by the POST Response Body on
this resource
+---------------+---+-------------+-------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+-------------+---------------+ | M | M | 1 | 201 Created | Successful | | BSUserService | | | | case. A new | | | | | | MBS User | | | | | | Service is | | | | | | successfully | | | | | | created and a | | | | | | r | | | | | | epresentation | | | | | | of the | | | | | | created | | | | | | Individual | | | | | | MBS User | | | | | | Service | | | | | | resource is | | | | | | returned. | | | | | | | | | | | | An HTTP | | | | | | \"Location\" | | | | | | header that | | | | | | contains the | | | | | | resource URI | | | | | | of the | | | | | | created | | | | | | Individual | | | | | | MBS User | | | | | | Service | | | | | | resource | | | | | | shall also be | | | | | | included. | +---------------+---+-------------+-------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status code | | | | | | for the POST | | | | | | method listed | | | | | | in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+-------------+---------------+
Table 5.26.2.2.3.2-4: Headers supported by the 201 response code on this
resource
+----------+-----------+---+-------------+--------------------+ | Name | Data type | P | Cardinality | Description | +----------+-----------+---+-------------+--------------------+ | Location | string | M | 1 | Contains the URI | | | | | | of the newly | | | | | | created resource, | | | | | | according to the | | | | | | structure: | | | | | | | | | | | | {api | | | | | | Root}/3gpp-mbs-us/ | | | | | | v1/mbs-user-servic | | | | | | es/{mbsUserServId} | +----------+-----------+---+-------------+--------------------+
##### 5.26.2.2.4 Resource Custom Operations
There are no resource custom operations defined for this resource in this
release of the specification.
#### 5.26.2.3 Resource: Individual MBS User Service
##### 5.26.2.3.1 Introduction
This resource represents an Individual MBS User Service managed by the NEF.
This resource is modelled with the Document resource archetype (see clause C.1
of 3GPP TS 29.501 [3]).
##### 5.26.2.3.2 Resource Definition
Resource URI: **{apiRoot}/3gpp-mbs-us/v1/mbs-user-services/{mbsUserServId}**
This resource shall support the resource URI variables defined in table
5.26.2.3.2-1.
Table 5.26.2.3.2-1: Resource URI variables for this resource
* * *
Name Data type Definition apiRoot string See clause 5.26.1. mbsUserServId
string Contains the unique identifier of the Individual MBS User Service
resource assigned by the NEF.
* * *
##### 5.26.2.3.3 Resource Standard Methods
###### 5.26.2.3.3.1 GET
This method allows an AF to retrieve an existing Individual MBS User Service
resource at the NEF.
This method shall support the URI query parameters specified in table
5.26.2.3.3.1-1.
Table 5.26.2.3.3.1-1: URI query parameters supported by the GET method on this
resource
* * *
Name Data type P Cardinality Description Applicability n/a
* * *
This method shall support the request data structures specified in table
5.26.2.3.3.1-2 and the response data structures and response codes specified
in table 5.26.2.3.3.1-3.
Table 5.26.2.3.3.1-2: Data structures supported by the GET Request Body on
this resource
* * *
Data type P Cardinality Description n/a
* * *
Table 5.26.2.3.3.1-3: Data structures supported by the GET Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | M | M | 1 | 200 OK | Successful | | BSUserService | | | | case. The | | | | | | requested | | | | | | Individual | | | | | | MBS User | | | | | | Service | | | | | | resource is | | | | | | successfully | | | | | | returned. | +---------------+---+-------------+---------------+---------------+ | n/a | | | 307 Temporary | Temporary | | | | | Redirect | redirection. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | target URI | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | n/a | | | 308 Permanent | Permanent | | | | | Redirect | redirection. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | target URI | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status code | | | | | | for the GET | | | | | | method listed | | | | | | in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.26.2.3.3.1-4: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
Table 5.26.2.3.3.1-5: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
###### 5.26.2.3.3.2 PUT
This method enables an AF to request the update of an existing Individual MBS
User Service resource at the NEF.
This method shall support the URI query parameters specified in table
5.26.2.3.3.2-1.
Table 5.26.2.3.3.2-1: URI query parameters supported by the PUT method on this
resource
* * *
Name Data type P Cardinality Description Applicability n/a
* * *
This method shall support the request data structures specified in table
5.26.2.3.3.2-2 and the response data structures and response codes specified
in table 5.26.2.3.3.2-3.
Table 5.26.2.3.3.2-2: Data structures supported by the PUT Request Body on
this resource
* * *
Data type P Cardinality Description MBSUserService M 1 Contains the updated
representation of the Individual MBS User Service resource that is to be
updated.
* * *
Table 5.26.2.3.3.2-3: Data structures supported by the PUT Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | M | M | 1 | 200 OK | Successful | | BSUserService | | | | case. The | | | | | | concerned | | | | | | Individual | | | | | | MBS User | | | | | | Service | | | | | | resource is | | | | | | successfully | | | | | | updated and a | | | | | | r | | | | | | epresentation | | | | | | of the | | | | | | updated | | | | | | resource is | | | | | | returned in | | | | | | the response | | | | | | body. | +---------------+---+-------------+---------------+---------------+ | n/a | | | 204 No | Successful | | | | | Content | case. The | | | | | | concerned | | | | | | Individual | | | | | | MBS User | | | | | | Service | | | | | | resource is | | | | | | successfully | | | | | | updated and | | | | | | no content is | | | | | | returned in | | | | | | the response | | | | | | body. | +---------------+---+-------------+---------------+---------------+ | n/a | | | 307 Temporary | Temporary | | | | | Redirect | redirection. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | target URI | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | n/a | | | 308 Permanent | Permanent | | | | | Redirect | redirection. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | target URI | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status code | | | | | | for the PUT | | | | | | method listed | | | | | | in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.26.2.3.3.2-4: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
Table 5.26.2.3.3.2-5: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
###### 5.26.2.3.3.3 PATCH
This method enables an AF to request the modification of an existing
Individual MBS User Service resource at the NEF.
This method shall support the URI query parameters specified in table
5.26.2.3.3.3-1.
Table 5.26.2.3.3.3-1: URI query parameters supported by the PATCH method on
this resource
* * *
Name Data type P Cardinality Description Applicability n/a
* * *
This method shall support the request data structures specified in table
5.26.2.3.3.3-2 and the response data structures and response codes specified
in table 5.26.2.3.3.3-3.
Table 5.26.2.3.3.3-2: Data structures supported by the PATCH Request Body on
this resource
* * *
Data type P Cardinality Description MBSUserServicePatch M 1 Contains the
parameters to request the modification of the Individual MBS User Service
resource.
* * *
Table 5.26.2.3.3.3-3: Data structures supported by the PATCH Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | M | M | 1 | 200 OK | Successful | | BSUserService | | | | case. The | | | | | | concerned | | | | | | Individual | | | | | | MBS User | | | | | | Service | | | | | | resource is | | | | | | successfully | | | | | | modified and | | | | | | a | | | | | | r | | | | | | epresentation | | | | | | of the | | | | | | updated | | | | | | resource is | | | | | | returned in | | | | | | the response | | | | | | body. | +---------------+---+-------------+---------------+---------------+ | n/a | | | 204 No | Successful | | | | | Content | response. The | | | | | | Individual | | | | | | MBS User | | | | | | Service | | | | | | resource was | | | | | | successfully | | | | | | modified and | | | | | | no content is | | | | | | returned in | | | | | | the response | | | | | | body. | +---------------+---+-------------+---------------+---------------+ | n/a | | | 307 Temporary | Temporary | | | | | Redirect | redirection. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | target URI | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | n/a | | | 308 Permanent | Permanent | | | | | Redirect | redirection. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | target URI | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status code | | | | | | for the PATCH | | | | | | method listed | | | | | | in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.26.2.3.3.3-4: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
Table 5.26.2.3.3.3-5: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
###### 5.26.2.3.3.4 DELETE
This method enables an AF to request the deletion of an existing Individual
MBS User Service resource at the NEF.
This method shall support the URI query parameters specified in table
5.26.2.3.3.4-1.
Table 5.26.2.3.3.4-1: URI query parameters supported by the DELETE method on
this resource
* * *
Name Data type P Cardinality Description Applicability n/a
* * *
This method shall support the request data structures specified in table
5.26.2.3.3.4-2 and the response data structures and response codes specified
in table 5.26.2.3.3.4-3.
Table 5.26.2.3.3.4-2: Data structures supported by the DELETE Request Body on
this resource
* * *
Data type P Cardinality Description n/a
* * *
Table 5.26.2.3.3.4-3: Data structures supported by the DELETE Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | Codes | | +---------------+---+-------------+---------------+---------------+ | n/a | | | 204 No | Successful | | | | | Content | response. The | | | | | | Individual | | | | | | MBS User | | | | | | Service | | | | | | resource is | | | | | | successfully | | | | | | deleted. | +---------------+---+-------------+---------------+---------------+ | | | | 307 Temporary | Temporary | | | | | Redirect | redirection. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | target URI | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | | | | 308 Permanent | Permanent | | | | | Redirect | redirection. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | target URI | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status code | | | | | | for the | | | | | | DELETE method | | | | | | listed in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.26.2.3.3.4-4: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
Table 5.26.2.3.3.4-5: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
##### 5.26.2.3.4 Resource Custom Operations
There are no resource custom operations defined for this resource in this
release of the specification.
### 5.26.3 Custom Operations without associated resources
There are no custom operations without associated resources defined for this
API in this release of the specification.
### 5.26.4 Notifications
There are no notifications defined for this API in this release of the
specification.
### 5.26.5 Data Model
#### 5.26.5.1 General
This clause specifies the application data model supported by the
MBSUserService API. Table 5.26.5.1-1 specifies the data types defined for the
MBSUserService API.
Table 5.26.5.1-1: MBSUserService specific Data Types
* * *
Data type Clause defined Description Applicability
* * *
Table 5.26.5.1-2 specifies data types re-used by the MBSUserService API from
other specifications, including a reference to their respective
specifications, and when needed, a short description of their use within the
MBSUserService API.
Table 5.26.5.1-2: Re-used Data Types
* * *
Data type Reference Comments Applicability MBSUserService 3GPP TS 29.580 [66]
Represents MBS User Service parameters.  
MBSUserServicePatch 3GPP TS 29.580 [66] Represents the requested modifications
to an MBS User Service resource representation.
* * *
#### 5.26.5.2 Structured data types
##### 5.26.5.2.1 Introduction
This clause defines the structures to be used in resource representations.
There are no structured data types defined for this API in this release of the
specification.
#### 5.26.5.3 Simple data types and enumerations
##### 5.26.5.3.1 Introduction
This clause defines simple data types and enumerations that can be referenced
from data structures defined in the previous clauses.
##### 5.26.5.3.2 Simple data types
The simple data types defined in table 5.26.5.3.2-1 shall be supported.
Table 5.26.5.3.2-1: Simple data types
* * *
Type Name Type Definition Description Applicability
* * *
### 5.26.6 Used Features
The table below defines the features applicable to the MBSUserService API.
Those features are negotiated as described in clause 5.2.7 of 3GPP TS 29.122
[4].
Table 5.26.6-1: Features used by MBSUserService API
* * *
Feature number Feature Name Description
* * *
### 5.26.7 Error handling
#### 5.26.7.1 General
HTTP error handling shall be supported as specified in clause 5.2.6 of 3GPP TS
29.122 [4].
In addition, the requirements in the following clauses shall apply.
#### 5.26.7.2 Protocol Errors
In this Release of the specification, there are no additional protocol errors
applicable for the MBSUserService API.
#### 5.26.7.3 Application Errors
The application errors defined for the MBSUserService API are listed in table
5.26.7.3-1.
Table 5.26.7.3-1: Application errors
* * *
**Application Error** **HTTP status code** **Description**
* * *
## 5.27 MBSUserDataIngestSession API
### 5.27.1 Introduction
The Nnef_MBSUserDataIngestSession service shall use the
MBSUserDataIngestSession API.
The API URI of MBSUserDataIngestSession API shall be:
**{apiRoot}/3gpp-mbs-ud-ingest/v1**
with the following components:
\- \"apiRoot\" is set as defined in clause 5.2.4 of 3GPP TS 29.122 [4].
\- \"apiName\" shall be set to \"3gpp-mbs-ud-ingest\".
\- \"apiVersion\" shall be set to \"v1\" for the current version defined in
the present document.
All resource URIs in the clauses below are defined relative to the above API
URI.
### 5.27.2 Resources
#### 5.27.2.1 Overview
This clause describes the structure for the Resource URIs as shown in figure
5.27.2.1-1 and the resources and HTTP methods used for the
MBSUserDataIngestSession API.
Figure 5.27.2.1-1: Resource URI structure of the MBSUserDataIngestSession API
Table 5.27.2.1-1 provides an overview of the resources and applicable HTTP
methods.
Table 5.27.2.1-1: Resources and methods overview
+----------------+----------------+----------------+----------------+ | Resource name | Resource URI | HTTP method or | Description | | | (relative path | custom | | | | under API URI) | operation | (service | | | | | operation) | +----------------+----------------+----------------+----------------+ | MBS User Data | /sessions | GET | Retrieve all | | Ingest | | | the active MBS | | Sessions | | | User Data | | | | | Ingest | | | | | Sessions | | | | | managed by the | | | | | NEF. | +----------------+----------------+----------------+----------------+ | | | POST | Request the | | | | | creation of a | | | | | new MBS User | | | | | Data Ingest | | | | | Session. | +----------------+----------------+----------------+----------------+ | Individual MBS | /sessio | GET | Retrieve an | | User Data | ns/{sessionId} | | existing | | Ingest Session | | | Individual MBS | | | | | User Data | | | | | Ingest Session | | | | | managed by the | | | | | NEF. | +----------------+----------------+----------------+----------------+ | | | PUT | Update an | | | | | existing | | | | | Individual MBS | | | | | User Data | | | | | Ingest Session | | | | | managed by the | | | | | NEF. | +----------------+----------------+----------------+----------------+ | | | PATCH | Modify an | | | | | existing | | | | | Individual MBS | | | | | User Data | | | | | Ingest Session | | | | | managed by the | | | | | NEF. | +----------------+----------------+----------------+----------------+ | | | DELETE | Delete an | | | | | existing | | | | | Individual MBS | | | | | User Data | | | | | Ingest Session | | | | | managed by the | | | | | NEF. | +----------------+----------------+----------------+----------------+ | MBS User Data | /status | GET | Retrieve all | | Ingest Session | -subscriptions | | the active MBS | | Status | | | User Data | | Subscriptions | | | Ingest Session | | | | | Status | | | | | Subscriptions | | | | | managed by the | | | | | NEF. | +----------------+----------------+----------------+----------------+ | | | POST | Request the | | | | | creation of a | | | | | new MBS User | | | | | Data Ingest | | | | | Session Status | | | | | Subscription. | +----------------+----------------+----------------+----------------+ | Individual MBS | /status-su | GET | Retrieve an | | User Data | bscriptions/{s | | existing | | Ingest Session | ubscriptionId} | | Individual MBS | | Status | | | User Data | | Subscription | | | Ingest Session | | | | | Status | | | | | Subscription | | | | | managed by the | | | | | NEF. | +----------------+----------------+----------------+----------------+ | | | PUT | Update an | | | | | existing MBS | | | | | User Data | | | | | Ingest Session | | | | | Status | | | | | Subscription | | | | | managed by the | | | | | NEF. | +----------------+----------------+----------------+----------------+ | | | PATCH | Modify an | | | | | existing MBS | | | | | User Data | | | | | Ingest Session | | | | | Status | | | | | Subscription | | | | | managed by the | | | | | NEF. | +----------------+----------------+----------------+----------------+ | | | DELETE | Delete an | | | | | existing | | | | | Individual MBS | | | | | User Data | | | | | Ingest Session | | | | | Status | | | | | Subscription | | | | | managed by the | | | | | NEF. | +----------------+----------------+----------------+----------------+
#### 5.27.2.2 Resource: MBS User Data Ingest Sessions
##### 5.27.2.2.1 Introduction
This resource represents the collection of MBS User Data Ingest Sessions
managed by the NEF.
This resource is modelled with the Collection resource archetype (see clause
C.2 of 3GPP TS 29.501 [3]).
##### 5.27.2.2.2 Resource Definition
Resource URI: **{apiRoot}/3gpp-mbs-ud-ingest/v1/sessions**
This resource shall support the resource URI variables defined in table
5.27.2.2.2-1.
Table 5.27.2.2.2-1: Resource URI variables for this resource
* * *
Name Data type Definition apiRoot string See clause 5.27.1.
* * *
##### 5.27.2.2.3 Resource Standard Methods
###### 5.27.2.2.3.1 GET
This method allows an AF to retrieve all the active MBS User Data Ingest
Sessions managed by the NEF.
This method shall support the URI query parameters specified in table
5.27.2.2.3.1-1.
Table 5.27.2.2.3.1-1: URI query parameters supported by the GET method on this
resource
* * *
Name Data type P Cardinality Description Applicability n/a
* * *
This method shall support the request data structures specified in table
5.27.2.2.3.1-2 and the response data structures and response codes specified
in table 5.27.2.2.3.1-3.
Table 5.27.2.2.3.1-2: Data structures supported by the GET Request Body on
this resource
* * *
Data type P Cardinality Description n/a
* * *
Table 5.27.2.2.3.1-3: Data structures supported by the GET Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | ar | M | 0..N | 200 OK | Successful | | ray(MBSUserDa | | | | case. All the | | taIngSession) | | | | active MBS | | | | | | User Data | | | | | | Ingest | | | | | | Sessions | | | | | | managed by | | | | | | the NEF are | | | | | | returned. | +---------------+---+-------------+---------------+---------------+ | n/a | | | 307 Temporary | Temporary | | | | | Redirect | redirection. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | n/a | | | 308 Permanent | Permanent | | | | | Redirect | redirection. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status code | | | | | | for the GET | | | | | | method listed | | | | | | in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.27.2.2.3.1-4: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
Table 5.27.2.2.3.1-5: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
###### 5.27.2.2.3.2 POST
This method enables an AF to request the creation of an MBS User Data Ingest
Session at the NEF.
This method shall support the URI query parameters specified in table
5.27.2.2.3.2-1.
Table 5.27.2.2.3.2-1: URI query parameters supported by the POST method on
this resource
* * *
Name Data type P Cardinality Description Applicability n/a
* * *
This method shall support the request data structures specified in table
5.27.2.2.3.2-2 and the response data structures and response codes specified
in table 5.27.2.2.3.2-3.
Table 5.27.2.2.3.2-2: Data structures supported by the POST Request Body on
this resource
* * *
Data type P Cardinality Description MBSUserDataIngSession M 1 Contains the
parameters to request the creation of a new MBS User Data Ingest Session at
the NEF.
* * *
Table 5.27.2.2.3.2-3: Data structures supported by the POST Response Body on
this resource
+---------------+---+-------------+-------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | Codes | | +---------------+---+-------------+-------------+---------------+ | MBSUserD | M | 1 | 201 Created | Successful | | ataIngSession | | | | case. A new | | | | | | MBS User Data | | | | | | Ingest | | | | | | Session is | | | | | | successfully | | | | | | created and a | | | | | | r | | | | | | epresentation | | | | | | of the | | | | | | created | | | | | | Individual | | | | | | MBS User Data | | | | | | Ingest | | | | | | Session | | | | | | resource is | | | | | | returned. | | | | | | | | | | | | An HTTP | | | | | | \"Location\" | | | | | | header that | | | | | | contains the | | | | | | URI of the | | | | | | created | | | | | | Individual | | | | | | MBS User Data | | | | | | Ingest | | | | | | Session | | | | | | resource is | | | | | | also | | | | | | included. | +---------------+---+-------------+-------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status code | | | | | | for the POST | | | | | | method listed | | | | | | in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+-------------+---------------+
Table 5.27.2.2.3.2-4: Headers supported by the 201 response code on this
resource
+----------+-----------+---+-------------+--------------------+ | Name | Data type | P | Cardinality | Description | +----------+-----------+---+-------------+--------------------+ | Location | string | M | 1 | Contains the URI | | | | | | of the newly | | | | | | created resource, | | | | | | according to the | | | | | | structure: | | | | | | | | | | | | {apiRoot}/3gpp-m | | | | | | bs-ud-ingest/v1/se | | | | | | ssions/{sessionId} | +----------+-----------+---+-------------+--------------------+
##### 5.27.2.2.4 Resource Custom Operations
There are no resource custom operations defined for this resource in this
release of the specification.
#### 5.27.2.3 Resource: Individual MBS User Data Ingest Session
##### 5.27.2.3.1 Introduction
This resource represents an Individual MBS User Data Ingest Session resource
managed by the NEF.
This resource is modelled with the Document resource archetype (see clause C.1
of 3GPP TS 29.501 [3]).
##### 5.27.2.3.2 Resource Definition
Resource URI: **{apiRoot}/3gpp-mbs-ud-ingest/v1/sessions/{sessionId}**
This resource shall support the resource URI variables defined in table
5.27.2.3.2-1.
Table 5.27.2.3.2-1: Resource URI variables for this resource
* * *
Name Data type Definition apiRoot string See clause 5.27.1. sessionId string
Contains the unique identifier of the Individual MBS User Data Ingest Session
resource assigned by the NEF.
* * *
##### 5.27.2.3.3 Resource Standard Methods
###### 5.27.2.3.3.1 GET
This method allows an AF to retrieve an existing \"Individual MBS User Data
Ingest Session\" resource at the NEF.
This method shall support the URI query parameters specified in table
5.27.2.3.3.1-1.
Table 5.27.2.3.3.1-1: URI query parameters supported by the GET method on this
resource
* * *
Name Data type P Cardinality Description Applicability n/a
* * *
This method shall support the request data structures specified in table
5.27.2.3.3.1-2 and the response data structures and response codes specified
in table 5.27.2.3.3.1-3.
Table 5.27.2.3.3.1-2: Data structures supported by the GET Request Body on
this resource
* * *
Data type P Cardinality Description n/a
* * *
Table 5.27.2.3.3.1-3: Data structures supported by the GET Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | MBSUserD | M | 1 | 200 OK | Successful | | ataIngSession | | | | case. The | | | | | | requested | | | | | | Individual | | | | | | MBS User Data | | | | | | Ingest | | | | | | Session | | | | | | resource is | | | | | | successfully | | | | | | returned. | +---------------+---+-------------+---------------+---------------+ | n/a | | | 307 Temporary | Temporary | | | | | Redirect | redirection. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | target URI | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | n/a | | | 308 Permanent | Permanent | | | | | Redirect | redirection. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | target URI | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status code | | | | | | for the GET | | | | | | method listed | | | | | | in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.27.2.3.3.1-4: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
Table 5.27.2.3.3.1-5: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
###### 5.27.2.3.3.2 PUT
This method enables an AF to request the update of an existing \"Individual
MBS User Data Ingest Session\" resource at the NEF.
This method shall support the URI query parameters specified in table
5.27.2.3.3.2-1.
Table 5.27.2.3.3.2-1: URI query parameters supported by the PUT method on this
resource
* * *
Name Data type P Cardinality Description Applicability n/a
* * *
This method shall support the request data structures specified in table
5.27.2.3.3.2-2 and the response data structures and response codes specified
in table 5.27.2.3.3.2-3.
Table 5.27.2.3.3.2-2: Data structures supported by the PUT Request Body on
this resource
* * *
Data type P Cardinality Description MBSUserDataIngSession M 1 Contains the
updated representation of the Individual MBS User Data Ingest Session resource
that is to be updated.
* * *
Table 5.27.2.3.3.2-3: Data structures supported by the PUT Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | MBSUserD | M | 1 | 200 OK | Successful | | ataIngSession | | | | case. The | | | | | | concerned | | | | | | Individual | | | | | | MBS User Data | | | | | | Ingest | | | | | | Session | | | | | | resource is | | | | | | successfully | | | | | | updated and a | | | | | | r | | | | | | epresentation | | | | | | of the | | | | | | updated | | | | | | resource is | | | | | | returned in | | | | | | the response | | | | | | body. | +---------------+---+-------------+---------------+---------------+ | n/a | | | 204 No | Successful | | | | | Content | case. The | | | | | | concerned | | | | | | Individual | | | | | | MBS User Data | | | | | | Ingest | | | | | | Session | | | | | | resource is | | | | | | successfully | | | | | | updated and | | | | | | no content is | | | | | | returned in | | | | | | the response | | | | | | body. | +---------------+---+-------------+---------------+---------------+ | n/a | | | 307 Temporary | Temporary | | | | | Redirect | redirection. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | target URI | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | n/a | | | 308 Permanent | Permanent | | | | | Redirect | redirection. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | target URI | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status code | | | | | | for the PUT | | | | | | method listed | | | | | | in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.27.2.3.3.2-4: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
Table 5.27.2.3.3.2-5: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
###### 5.27.2.3.3.3 PATCH
This method enables an AF to request the modification of an existing
\"Individual MBS User Data Ingest Session\" resource at the NEF.
This method shall support the URI query parameters specified in table
5.27.2.3.3.3-1.
Table 5.27.2.3.3.3-1: URI query parameters supported by the PATCH method on
this resource
* * *
Name Data type P Cardinality Description Applicability n/a
* * *
This method shall support the request data structures specified in table
5.27.2.3.3.3-2 and the response data structures and response codes specified
in table 5.27.2.3.3.3-3.
Table 5.27.2.3.3.3-2: Data structures supported by the PATCH Request Body on
this resource
* * *
Data type P Cardinality Description MBSUserDataIngSessionPatch M 1 Contains
the parameters to request the modification of the Individual MBS User Data
Ingest Session resource.
* * *
Table 5.27.2.3.3.3-3: Data structures supported by the PATCH Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | MBSUserD | M | 1 | 200 OK | Successful | | ataIngSession | | | | case. The | | | | | | concerned | | | | | | Individual | | | | | | MBS User Data | | | | | | Ingest | | | | | | Session | | | | | | resource is | | | | | | successfully | | | | | | modified and | | | | | | a | | | | | | r | | | | | | epresentation | | | | | | of the | | | | | | updated | | | | | | resource is | | | | | | returned in | | | | | | the response | | | | | | body. | +---------------+---+-------------+---------------+---------------+ | n/a | | | 204 No | Successful | | | | | Content | response. The | | | | | | Individual | | | | | | MBS User Data | | | | | | Ingest | | | | | | Session | | | | | | resource is | | | | | | successfully | | | | | | modified and | | | | | | no content is | | | | | | returned in | | | | | | the response | | | | | | body. | +---------------+---+-------------+---------------+---------------+ | n/a | | | 307 Temporary | Temporary | | | | | Redirect | redirection. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | target URI | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | n/a | | | 308 Permanent | Permanent | | | | | Redirect | redirection. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | target URI | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status code | | | | | | for the PATCH | | | | | | method listed | | | | | | in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.27.2.3.3.3-4: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
Table 5.27.2.3.3.3-5: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
###### 5.27.2.3.3.4 DELETE
This method enables an AF to request the deletion of an existing \"Individual
MBS User Data Ingest Session\" resource at the NEF.
This method shall support the URI query parameters specified in table
5.27.2.3.3.4-1.
Table 5.27.2.3.3.4-1: URI query parameters supported by the DELETE method on
this resource
* * *
Name Data type P Cardinality Description Applicability n/a
* * *
This method shall support the request data structures specified in table
5.27.2.3.3.4-2 and the response data structures and response codes specified
in table 5.27.2.3.3.4-3.
Table 5.27.2.3.3.4-2: Data structures supported by the DELETE Request Body on
this resource
* * *
Data type P Cardinality Description n/a
* * *
Table 5.27.2.3.3.4-3: Data structures supported by the DELETE Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | Codes | | +---------------+---+-------------+---------------+---------------+ | n/a | | | 204 No | Successful | | | | | Content | response. The | | | | | | Individual | | | | | | MBS User Data | | | | | | Ingest | | | | | | Session | | | | | | resource is | | | | | | successfully | | | | | | deleted. | +---------------+---+-------------+---------------+---------------+ | | | | 307 Temporary | Temporary | | | | | Redirect | redirection. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | target URI | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | | | | 308 Permanent | Permanent | | | | | Redirect | redirection. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | target URI | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | NOTE 1: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status code | | | | | | for the | | | | | | DELETE method | | | | | | listed in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.27.2.3.3.4-4: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
Table 5.27.2.3.3.4-5: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
##### 5.27.2.3.4 Resource Custom Operations
There are no resource custom operations defined for this resource in this
release of the specification.
#### 5.27.2.4 Resource: MBS User Data Ingest Session Status Subscriptions
##### 5.27.2.4.1 Introduction
This resource represents the collection of MBS User Data Ingest Session Status
Subscriptions managed by the NEF.
This resource is modelled with the Collection resource archetype (see clause
C.2 of 3GPP TS 29.501 [3]).
##### 5.27.2.4.2 Resource Definition
Resource URI: **{apiRoot}/3gpp-mbs-ud-ingest/v1/status-subscriptions**
This resource shall support the resource URI variables defined in table
5.27.2.4.2-1.
Table 5.27.2.4.2-1: Resource URI variables for this resource
* * *
Name Data type Definition apiRoot string See clause 5.27.1.
* * *
##### 5.27.2.4.3 Resource Standard Methods
###### 5.27.2.4.3.1 GET
This method allows an AF to retrieve all the active MBS User Data Ingest
Session Status Subscriptions managed by the NEF.
This method shall support the URI query parameters specified in table
5.27.2.4.3.1-1.
Table 5.27.2.4.3.1-1: URI query parameters supported by the GET method on this
resource
* * *
Name Data type P Cardinality Description Applicability n/a
* * *
This method shall support the request data structures specified in table
5.27.2.4.3.1-2 and the response data structures and response codes specified
in table 5.27.2.4.3.1-3.
Table 5.27.2.4.3.1-2: Data structures supported by the GET Request Body on
this resource
* * *
Data type P Cardinality Description n/a
* * *
Table 5.27.2.4.3.1-3: Data structures supported by the GET Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | arra | M | 0..N | 200 OK | Successful | | y(MBSUserData | | | | case. All the | | IngStatSubsc) | | | | active MBS | | | | | | User Data | | | | | | Ingest | | | | | | Session | | | | | | Status | | | | | | Subscriptions | | | | | | managed by | | | | | | the NEF are | | | | | | returned. | +---------------+---+-------------+---------------+---------------+ | n/a | | | 307 Temporary | Temporary | | | | | Redirect | redirection. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | n/a | | | 308 Permanent | Permanent | | | | | Redirect | redirection. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status code | | | | | | for the GET | | | | | | method listed | | | | | | in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.27.2.4.3.1-4: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
Table 5.27.2.4.3.1-5: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
###### 5.27.2.4.3.2 POST
This method enables an AF to request the creation of a new MBS User Data
Ingest Sesstion Status Subscription at the NEF.
This method shall support the URI query parameters specified in table
5.27.2.4.3.2-1.
Table 5.27.2.4.3.2-1: URI query parameters supported by the POST method on
this resource
* * *
Name Data type P Cardinality Description Applicability n/a
* * *
This method shall support the request data structures specified in table
5.27.2.4.3.2-2 and the response data structures and response codes specified
in table 5.27.2.4.3.2-3.
Table 5.27.2.4.3.2-2: Data structures supported by the POST Request Body on
this resource
* * *
Data type P Cardinality Description MBSUserDataIngStatSubsc M 1 Contains the
parameters to request the creation of a new MBS User Data Ingest Session
Status Subscription at the NEF.
* * *
Table 5.27.2.4.3.2-3: Data structures supported by the POST Response Body on
this resource
+---------------+---+-------------+-------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | Codes | | +---------------+---+-------------+-------------+---------------+ | MBSUserDat | M | 1 | 201 Created | Successful | | aIngStatSubsc | | | | case. A new | | | | | | MBS User Data | | | | | | Ingest | | | | | | Session | | | | | | Status | | | | | | Subscription | | | | | | is | | | | | | successfully | | | | | | created and a | | | | | | r | | | | | | epresentation | | | | | | of the | | | | | | created | | | | | | Individual | | | | | | MBS User Data | | | | | | Ingest | | | | | | Session | | | | | | Status | | | | | | Subscription | | | | | | resource is | | | | | | returned. | | | | | | | | | | | | An HTTP | | | | | | \"Location\" | | | | | | header that | | | | | | contains the | | | | | | URI of the | | | | | | created | | | | | | Individual | | | | | | MBS User Data | | | | | | Ingest | | | | | | Session | | | | | | Status | | | | | | Subscription | | | | | | resource is | | | | | | also | | | | | | included. | +---------------+---+-------------+-------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status code | | | | | | for the POST | | | | | | method listed | | | | | | in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+-------------+---------------+
Table 5.27.2.4.3.2-4: Headers supported by the 201 response code on this
resource
+----------+-----------+---+-------------+--------------------+ | Name | Data type | P | Cardinality | Description | +----------+-----------+---+-------------+--------------------+ | Location | string | M | 1 | Contains the URI | | | | | | of the newly | | | | | | created resource, | | | | | | according to the | | | | | | structure: | | | | | | | | | | | | {apiRoot}/3gpp- | | | | | | mbs-ud-ingest/v1/s | | | | | | tatus-subscription | | | | | | s/{subscriptionId} | +----------+-----------+---+-------------+--------------------+
##### 5.27.2.4.4 Resource Custom Operations
There are no resource custom operations defined for this resource in this
release of the specification.
#### 5.27.2.5 Resource: Individual MBS User Data Ingest Session Status
Subscription
##### 5.27.2.5.1 Introduction
This resource represents an Individual MBS User Data Ingest Session Status
Subscription managed by the NEF.
This resource is modelled with the Document resource archetype (see clause C.1
of 3GPP TS 29.501 [3]).
##### 5.27.2.5.2 Resource Definition
Resource URI: **{apiRoot}/3gpp-mbs-ud-ingest/v1/status-
subscriptions/{subscriptionId}**
This resource shall support the resource URI variables defined in table
5.27.2.5.2-1.
Table 5.27.2.5.2-1: Resource URI variables for this resource
* * *
Name Data type Definition apiRoot string See clause 5.27.1. sessionId string
Contains the unique identifier of the Individual MBS User Data Ingest Session
Status Subscription resource assigned by the NEF.
* * *
##### 5.27.2.5.3 Resource Standard Methods
###### 5.27.2.5.3.1 GET
This method allows an AF to retrieve an existing \"Individual MBS User Data
Ingest Session Status Subscription\" resource at the NEF.
This method shall support the URI query parameters specified in table
5.27.2.5.3.1-1.
Table 5.27.2.5.3.1-1: URI query parameters supported by the GET method on this
resource
* * *
Name Data type P Cardinality Description Applicability n/a
* * *
This method shall support the request data structures specified in table
5.27.2.5.3.1-2 and the response data structures and response codes specified
in table 5.27.2.5.3.1-3.
Table 5.27.2.5.3.1-2: Data structures supported by the GET Request Body on
this resource
* * *
Data type P Cardinality Description n/a
* * *
Table 5.27.2.5.3.1-3: Data structures supported by the GET Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | MBSUserDat | M | 1 | 200 OK | Successful | | aIngStatSubsc | | | | case. The | | | | | | requested | | | | | | Individual | | | | | | MBS User Data | | | | | | Ingest | | | | | | Session | | | | | | Status | | | | | | Subscription | | | | | | resource is | | | | | | successfully | | | | | | returned. | +---------------+---+-------------+---------------+---------------+ | n/a | | | 307 Temporary | Temporary | | | | | Redirect | redirection. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | target URI | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | n/a | | | 308 Permanent | Permanent | | | | | Redirect | redirection. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | target URI | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status code | | | | | | for the GET | | | | | | method listed | | | | | | in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.27.2.5.3.1-4: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
Table 5.27.2.5.3.1-5: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
###### 5.27.2.5.3.2 PUT
The PATCH method allows an AF to update an existing \"Individual MBS User Data
Ingest Session Status Subscription\" resource managed by the NEF.
This method shall support the URI query parameters specified in table
5.27.2.5.3.2-1.
Table 5.27.2.5.3.2-1: URI query parameters supported by the PUT method on this
resource
* * *
Name Data type P Cardinality Description Applicability n/a
* * *
This method shall support the request data structures specified in table
5.27.2.5.3.2-2 and the response data structures and response codes specified
in table 5.27.2.5.3.2-3.
Table 5.27.2.5.3.2-2: Data structures supported by the PUT Request Body on
this resource
* * *
Data type P Cardinality Description MBSUserDataIngStatSubsc M 1 Contains the
parameters to request the modification of an existing \"Individual MBS User
Data Ingest Session Status Subscription\" resource.
* * *
Table 5.27.2.5.3.2-3: Data structures supported by the PUT Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | MBSUserDat | M | 1 | 200 OK | Successful | | aIngStatSubsc | | | | case. The | | | | | | concerned | | | | | | \"Individual | | | | | | MBS User Data | | | | | | Ingest | | | | | | Session | | | | | | Status | | | | | | S | | | | | | ubscription\" | | | | | | resource is | | | | | | successfully | | | | | | updated and a | | | | | | r | | | | | | epresentation | | | | | | of the | | | | | | updated | | | | | | resource is | | | | | | returned in | | | | | | the response | | | | | | body. | +---------------+---+-------------+---------------+---------------+ | n/a | | | 204 No | Successful | | | | | Content | case. The | | | | | | concerned | | | | | | \"Individual | | | | | | MBS User Data | | | | | | Ingest | | | | | | Session | | | | | | Status | | | | | | S | | | | | | ubscription\" | | | | | | resource is | | | | | | successfully | | | | | | updated, and | | | | | | no content is | | | | | | returned in | | | | | | the response | | | | | | body. | +---------------+---+-------------+---------------+---------------+ | n/a | | | 307 Temporary | Temporary | | | | | Redirect | redirection. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | n/a | | | 308 Permanent | Permanent | | | | | Redirect | redirection. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status code | | | | | | for the PUT | | | | | | method listed | | | | | | in | | | | | | Table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.27.2.5.3.2-4: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
Table 5.27.2.5.3.2-5: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
###### 5.27.2.5.3.3 PATCH
The PATCH method allows an AF to modify an existing \"Individual MBS User Data
Ingest Session Status Subscription\" resource managed by the NEF.
This method shall support the URI query parameters specified in table
5.27.2.5.3.3-1.
Table 5.27.2.5.3.3-1: URI query parameters supported by the PATCH method on
this resource
* * *
Name Data type P Cardinality Description Applicability n/a
* * *
This method shall support the request data structures specified in table
5.27.2.5.3.3-2 and the response data structures and response codes specified
in table 5.27.2.5.3.3-3.
Table 5.27.2.5.3.3-2: Data structures supported by the PATCH Request Body on
this resource
* * *
Data type P Cardinality Description MBSUserDataIngStatSubscPatch M 1 Contains
the parameters to request the modification of an existing \"Individual MBS
User Data Ingest Session Status Subscription\" resource.
* * *
Table 5.27.2.5.3.3-3: Data structures supported by the PATCH Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | MBSUserDat | M | 1 | 200 OK | Successful | | aIngStatSubsc | | | | case. The | | | | | | concerned | | | | | | \"Individual | | | | | | MBS User Data | | | | | | Ingest | | | | | | Session | | | | | | Status | | | | | | S | | | | | | ubscription\" | | | | | | resource is | | | | | | successfully | | | | | | modified, and | | | | | | a | | | | | | r | | | | | | epresentation | | | | | | of the | | | | | | updated | | | | | | resource is | | | | | | returned in | | | | | | the response | | | | | | body. | +---------------+---+-------------+---------------+---------------+ | n/a | | | 204 No | Successful | | | | | Content | case. The | | | | | | concerned | | | | | | \"Individual | | | | | | MBS User Data | | | | | | Ingest | | | | | | Session | | | | | | Status | | | | | | S | | | | | | ubscription\" | | | | | | resource is | | | | | | successfully | | | | | | modified and | | | | | | no content is | | | | | | returned in | | | | | | the response | | | | | | body. | +---------------+---+-------------+---------------+---------------+ | n//a | | | 307 Temporary | Temporary | | | | | Redirect | redirection. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | n/a | | | 308 Permanent | Permanent | | | | | Redirect | redirection. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status code | | | | | | for the PATCH | | | | | | method listed | | | | | | in | | | | | | Table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.27.2.5.3.3-4: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
Table 5.27.2.5.3.3-5: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
###### 5.27.2.5.3.4 DELETE
This method enables an AF to request the deletion of an existing Individual
MBS User Data Ingest Session Status Subscription resource at the NEF.
This method shall support the URI query parameters specified in table
5.27.2.5.3.4-1.
Table 5.27.2.5.3.4-1: URI query parameters supported by the DELETE method on
this resource
* * *
Name Data type P Cardinality Description Applicability n/a
* * *
This method shall support the request data structures specified in table
5.27.2.5.3.4-2 and the response data structures and response codes specified
in table 5.27.2.5.3.4-3.
Table 5.27.2.5.3.4-2: Data structures supported by the DELETE Request Body on
this resource
* * *
Data type P Cardinality Description n/a
* * *
Table 5.27.2.5.3.4-3: Data structures supported by the DELETE Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | Codes | | +---------------+---+-------------+---------------+---------------+ | n/a | | | 204 No | Successful | | | | | Content | response. The | | | | | | Individual | | | | | | MBS User Data | | | | | | Ingest | | | | | | Session | | | | | | Status | | | | | | Subscription | | | | | | resource is | | | | | | successfully | | | | | | deleted. | +---------------+---+-------------+---------------+---------------+ | | | | 307 Temporary | Temporary | | | | | Redirect | redirection. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | target URI | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | | | | 308 Permanent | Permanent | | | | | Redirect | redirection. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | target URI | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | NOTE 1: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status code | | | | | | for the | | | | | | DELETE method | | | | | | listed in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.27.2.5.3.4-4: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
Table 5.27.2.5.3.4-5: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
##### 5.27.2.5.4 Resource Custom Operations
There are no resource custom operations defined for this resource in this
release of the specification.
### 5.27.3 Custom Operations without associated resources
There are no custom operations without associated resources defined for this
API in this release of the specification.
### 5.27.4 Notifications
#### 5.27.4.1 General
Notifications shall comply to clause 5.2.5 of 3GPP TS 29.122 [4].
Table 5.27.4.1-1: Notifications overview
+----------------+--------------+----------------+----------------+ | Notification | Callback URI | HTTP method or | Description | | | | custom | | | | | operation | (service | | | | | operation) | +----------------+--------------+----------------+----------------+ | MBS User Data | {notifUri} | POST | This operation | | Ingest Session | | | enables the | | Status | | | NEF to notify | | Notification | | | a previously | | | | | subscribed AF | | | | | on status | | | | | changes of an | | | | | MBS User Data | | | | | Ingest | | | | | Session. | +----------------+--------------+----------------+----------------+
#### 5.27.4.2 MBS User Data Ingest Session Status Change Notification
##### 5.27.4.2.1 Description
The MBS user data ingest session status change notification is used by the NEF
to report one or several observed MBS user data ingest session status change
events to a previously subscribed AF.
##### 5.27.4.2.2 Target URI
The Callback URI **\"{notifUri}\"** shall be used with the callback URI
variables defined in table 5.27.4.2.2-1.
Table 5.27.4.2.2-1: Callback URI variables
* * *
Name Definition notifUri Callback reference provided by the AF during the
creation/update/modification of the corresponding MBS User Data Ingest Session
Status Subscription.
* * *
##### 5.27.4.2.3 Operation Definition
###### 5.27.4.2.3.1 Notification via HTTP POST
This method shall support the request data structures specified in table
5.27.4.2.3.1-1 and the response data structures and response codes specified
in table 5.27.4.2.3.1-2.
Table 5.27.4.2.3.1-1: Data structures supported by the POST Request Body on
this resource
* * *
Data type P Cardinality Description MBSUserDataIngStatNotif M 1 Provides
information about the observed MBS user data ingest session status change
event notification by the NEF to the AF.
* * *
Table 5.27.4.2.3.1-2: Data structures supported by the POST Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | n/a | | | 204 No | The MBS User | | | | | Content | Data Ingest | | | | | | Session | | | | | | Status Change | | | | | | Notification | | | | | | is | | | | | | successfully | | | | | | received. | +---------------+---+-------------+---------------+---------------+ | n/a | | | 307 Temporary | Temporary | | | | | Redirect | redirection. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI | | | | | | representing | | | | | | the end point | | | | | | of an | | | | | | alternative | | | | | | AF where the | | | | | | notification | | | | | | should be | | | | | | sent. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | n/a | | | 308 Permanent | Permanent | | | | | Redirect | redirection. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI | | | | | | representing | | | | | | the end point | | | | | | of an | | | | | | alternative | | | | | | AF where the | | | | | | notification | | | | | | should be | | | | | | sent. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the POST | | | | | | method listed | | | | | | in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.27.4.2.3.1-3: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI representing the end point of an alternative AF towards which the
notification should be redirected.
* * *
Table 5.27.4.2.3.1-4: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI representing the end point of an alternative AF towards which the
notification should be redirected.
* * *
###### 5.27.4.2.3.2 Notification via Websocket
If supported by both AF and NEF and successfully negotiated, the MBS User Data
Ingest Session Status Change Notification may alternatively be delivered
through the Websocket mechanism as defined in clause 5.2.5.4 of 3GPP TS 29.122
[4].
### 5.27.5 Data Model
#### 5.27.5.1 General
This clause specifies the application data model supported by the
MBSUserDataIngestSession API. Table 5.27.5.1-1 specifies the data types
defined for the MBSUserDataIngestSession API.
Table 5.27.5.1-1: MBSUserDataIngestSession specific Data Types
* * *
Data type Clause defined Description Applicability
* * *
Table 5.27.5.1-2 specifies data types re-used by the MBSUserDataIngestSession
API from other specifications, including a reference to their respective
specifications, and when needed, a short description of their use within the
MBSUserDataIngestSession API.
Table 5.27.5.1-2: Re-used Data Types
* * *
Data type Reference Comments Applicability MBSUserDataIngSession 3GPP TS
29.580 [66] Represents MBS User Data Ingest Session parameters.  
MBSUserDataIngSessionPatch 3GPP TS 29.580 [66] Represents the requested
modifications to an MBS User Data Ingest Session resource representation.  
MBSUserDataIngStatNotif 3GPP TS 29.580 [66] Represents an MBS User Data Ingest
Session Status Notification.  
MBSUserDataIngStatSubsc 3GPP TS 29.580 [66] Represents an MBS User Data Ingest
Session Status Subscription.  
MBSUserDataIngStatSubscPatch 3GPP TS 29.580 [66] Represents the requested
modifications to an MBS User Data Ingest Session Status Subscription.
* * *
#### 5.27.5.2 Structured data types
##### 5.27.5.2.1 Introduction
This clause defines the structures to be used in resource representations.
There are no structured data types defined for this API in this release of the
specification.
#### 5.27.5.3 Simple data types and enumerations
##### 5.27.5.3.1 Introduction
This clause defines simple data types and enumerations that can be referenced
from data structures defined in the previous clauses.
##### 5.27.5.3.2 Simple data types
The simple data types defined in table 5.27.5.3.2-1 shall be supported.
Table 5.27.5.3.2-1: Simple data types
* * *
Type Name Type Definition Description Applicability
* * *
### 5.27.6 Used Features
The table below defines the features applicable to the
MBSUserDataIngestSession API. Those features are negotiated as described in
clause 5.2.7 of 3GPP TS 29.122 [4].
Table 5.27.6-1: Features used by MBSUserDataIngestSession API
+----------------+-------------------------+-------------------------+ | Feature number | Feature Name | Description | +----------------+-------------------------+-------------------------+ | 1 | Notification_websocket | The delivery of | | | | notifications over | | | | Websocket is supported | | | | as described in | | | | 3GPP TS 29.122 [4]. | | | | This feature requires | | | | that the | | | | No | | | | tification_test_event | | | | feature is also | | | | supported. | +----------------+-------------------------+-------------------------+ | 2 | No | The testing of | | | tification_test_event | notification connection | | | | is supported as | | | | described in | | | | 3GPP TS 29.122 [4]. | +----------------+-------------------------+-------------------------+ | 3 | 5MBS2 | This feature indicates | | | | the support of the | | | | Rel-18 enhancements to | | | | 5G Multicast/Broadcast | | | | services. | | | | | | | | The following | | | | functionalities are | | | | supported: | | | | | | | | - Support the | | | | provisioning of the | | | | Associated Session | | | | Identifier to enable | | | | 5MBS MOCN Network | | | | Sharing scenarios | | | | (e.g., MOCN with | | | | multiple broadcast MBS | | | | sessions transmitting | | | | the same content via | | | | different CNs). | +----------------+-------------------------+-------------------------+
### 5.27.7 Error handling
#### 5.27.7.1 General
HTTP error handling shall be supported as specified in clause 5.2.6 of 3GPP TS
29.122 [4].
In addition, the requirements in the following clauses shall apply.
#### 5.27.7.2 Protocol Errors
In this Release of the specification, there are no additional protocol errors
applicable for the MBSUserDataIngestSession API.
#### 5.27.7.3 Application Errors
The application errors defined for the MBSUserDataIngestSession API are listed
in table 5.27.7.3-1.
Table 5.27.7.3-1: Application errors
* * *
Application Error HTTP status code Description
* * *
## 5.28 MSEventExposure API
### 5.28.1 Introduction
The Nnef_MSEventExposure service shall use the MSEventExposure API.
The API URI of MSEventExposure API shall be:
**{apiRoot}/3gpp-ms-event-exposure/v1**
with the following components:
\- \"apiRoot\" is set as defined in clause 5.2.4 of 3GPP TS 29.122 [4].
\- \"apiName\" shall be set to \"3gpp-ms-event-exposure\".
\- \"apiVersion\" shall be set to \"v1\" for the current version defined in
the present document.
All resource URIs in the clauses below are defined relative to the above API
URI.
### 5.28.2 Resources
#### 5.28.2.1 Overview
This clause describes the structure for the Resource URIs as shown in figure
5.28.2.1-1 and the resources and HTTP methods used for the MSEventExposure
API.
Figure 5.28.2.1-1: Resource URI structure of the MSEventExposure API
Table 5.28.2.1-1 provides an overview of the resources and applicable HTTP
methods.
Table 5.28.2.1-1: Resources and methods overview
+----------------+----------------+----------------+----------------+ | Resource name | Resource URI | HTTP method or | Description | | | (relative path | custom | | | | under API URI) | operation | (service | | | | | operation) | +----------------+----------------+----------------+----------------+ | Media | /subscriptions | GET | Reads all the | | Streaming | | | existing Media | | Event Exposure | | | Streaming | | Subscriptions | | | Event Exposure | | | | | Subscriptions. | +----------------+----------------+----------------+----------------+ | | | POST | Request the | | | | | creation of a | | | | | Media | | | | | Streaming | | | | | Event | | | | | Subscription. | +----------------+----------------+----------------+----------------+ | Individual | /su | GET | Read an | | Media Sreaming | bscriptions/{s | | existing | | Event Exposure | ubscriptionId} | | Individual | | Subscription | | | Media | | | | | Streaming | | | | | Event Exposure | | | | | Subscription | | | | | resource. | +----------------+----------------+----------------+----------------+ | | | PUT | Update an | | | | | existing | | | | | Individual | | | | | Media | | | | | Streaming | | | | | Event Exposure | | | | | Subscription. | +----------------+----------------+----------------+----------------+ | | | DELETE | Delete an | | | | | existing | | | | | Individual | | | | | Media | | | | | Streaming | | | | | Event Exposure | | | | | Subscription. | +----------------+----------------+----------------+----------------+
#### 5.28.2.2 Resource: Media Streaming Event Exposure Subscriptions
##### 5.28.2.2.1 Introduction
This resource represents the collection of Media Streaming Event Exposure
Subscription resources managed by the NEF.
This resource is modelled with the Collection resource archetype (see clause
C.2 of 3GPP TS 29.501 [3]).
##### 5.28.2.2.2 Resource Definition
Resource URI: **{apiRoot}/3gpp-ms-event-exposure/v1/subscriptions**
This resource shall support the resource URI variables defined in table
5.28.2.2.2-1.
Table 5.28.2.2.2-1: Resource URI variables for this resource
* * *
Name Data type Definition apiRoot string See clause 5.28.1.
* * *
##### 5.28.2.2.3 Resource Standard Methods
###### 5.28.2.2.3.1 GET
This method allows an AF to retrieve all the active Media Streaming Event
Exposure Subscription resource at the NEF.
This method shall support the URI query parameters specified in table
5.28.2.2.3.1-1.
Table 5.28.2.2.3.1-1: URI query parameters supported by the GET method on this
resource
* * *
Name Data type P Cardinality Description Applicability n/a
* * *
This method shall support the request data structures specified in table
5.28.2.2.3.1-2 and the response data structures and response codes specified
in table 5.28.2.2.3.1-3.
Table 5.28.2.2.3.1-2: Data structures supported by the GET Request Body on
this resource
* * *
Data type P Cardinality Description n/a
* * *
Table 5.28.2.2.3.1-3: Data structures supported by the GET Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | a | M | 0..N | 200 OK | Successful | | rray(AfEventE | | | | case. All the | | xposureSubsc) | | | | active Media | | | | | | Streaming | | | | | | Event | | | | | | Exposure | | | | | | Subscriptions | | | | | | managed by | | | | | | the NEF are | | | | | | returned. | +---------------+---+-------------+---------------+---------------+ | n/a | | | 307 Temporary | Temporary | | | | | Redirect | redirection. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | n/a | | | 308 Permanent | Permanent | | | | | Redirect | redirection. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status code | | | | | | for the GET | | | | | | method listed | | | | | | in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.28.2.2.3.1-4: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
Table 5.28.2.2.3.1-5: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
###### 5.28.2.2.3.2 POST
This method enables an AF to request the creation of a new Media Streaming
Event Exposure Subscription at the NEF.
This method shall support the URI query parameters specified in table
5.28.2.2.3.2-1.
Table 5.28.2.2.3.2-1: URI query parameters supported by the POST method on
this resource
* * *
Name Data type P Cardinality Description Applicability n/a
* * *
This method shall support the request data structures specified in table
5.28.2.2.3.2-2 and the response data structures and response codes specified
in table 5.28.2.2.3.2-3.
Table 5.28.2.2.3.2-2: Data structures supported by the POST Request Body on
this resource
* * *
Data type P Cardinality Description AfEventExposureSubsc M 1 Contains the
parameters to request the creation of a new Media Streaming Event Exposure
Subscription at the NEF.
* * *
Table 5.28.2.2.3.2-3: Data structures supported by the POST Response Body on
this resource
+---------------+---+-------------+-------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | Codes | | +---------------+---+-------------+-------------+---------------+ | AfEvent | M | 1 | 201 Created | Successful | | ExposureSubsc | | | | case. A new | | | | | | Media | | | | | | Streaming | | | | | | Event | | | | | | Exposure | | | | | | Subscription | | | | | | is | | | | | | successfully | | | | | | created and a | | | | | | r | | | | | | epresentation | | | | | | of the | | | | | | created | | | | | | Individual | | | | | | Media | | | | | | Streaming | | | | | | Event | | | | | | Exposure | | | | | | Subscription | | | | | | resource is | | | | | | returned. | | | | | | | | | | | | An HTTP | | | | | | \"Location\" | | | | | | header that | | | | | | contains the | | | | | | resource URI | | | | | | of the | | | | | | created | | | | | | Individual | | | | | | Media | | | | | | Streaming | | | | | | Event | | | | | | Exposure | | | | | | Subscription | | | | | | resource | | | | | | shall also be | | | | | | included. | +---------------+---+-------------+-------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status code | | | | | | for the POST | | | | | | method listed | | | | | | in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+-------------+---------------+
Table 5.28.2.2.3.2-4: Headers supported by the 201 response code on this
resource
+----------+-----------+---+-------------+--------------------+ | Name | Data type | P | Cardinality | Description | +----------+-----------+---+-------------+--------------------+ | Location | string | M | 1 | Contains the URI | | | | | | of the newly | | | | | | created resource, | | | | | | according to the | | | | | | structure: | | | | | | | | | | | | {apiRoot}/3g | | | | | | pp-ms-event-exposu | | | | | | re/v1/subscription | | | | | | s/{subscriptionId} | +----------+-----------+---+-------------+--------------------+
##### 5.28.2.2.4 Resource Custom Operations
There are no resource custom operations defined for this resource in this
release of the specification.
#### 5.28.2.3 Resource: Individual Media Streaming Event Exposure Subscription
##### 5.28.2.3.1 Introduction
This resource represents an Individual Media Streaming Event Exposure
Subscription managed by the NEF.
This resource is modelled with the Document resource archetype (see clause C.1
of 3GPP TS 29.501 [3]).
##### 5.28.2.3.2 Resource Definition
Resource URI: **{apiRoot}/3gpp-ms-event-
exposure/v1/subscriptions/{subscriptionId}**
This resource shall support the resource URI variables defined in table
5.28.2.3.2-1.
Table 5.28.2.3.2-1: Resource URI variables for this resource
* * *
Name Data type Definition apiRoot string See clause 5.28.1. subscriptionId
string Contains the unique identifier of the Individual Media Streaming Event
Exposure Subscription resource assigned by the NEF.
* * *
##### 5.28.2.3.3 Resource Standard Methods
###### 5.28.2.3.3.1 GET
This method allows an AF to retrieve an existing Individual Media Streaming
Event Exposure Subscription resource at the NEF.
This method shall support the URI query parameters specified in table
5.28.2.3.3.1-1.
Table 5.28.2.3.3.1-1: URI query parameters supported by the GET method on this
resource
* * *
Name Data type P Cardinality Description Applicability n/a
* * *
This method shall support the request data structures specified in table
5.28.2.3.3.1-2 and the response data structures and response codes specified
in table 5.28.2.3.3.1-3.
Table 5.28.2.3.3.1-2: Data structures supported by the GET Request Body on
this resource
* * *
Data type P Cardinality Description n/a
* * *
Table 5.28.2.3.3.1-3: Data structures supported by the GET Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | AfEvent | M | 1 | 200 OK | Successful | | ExposureSubsc | | | | case. The | | | | | | requested | | | | | | Individual | | | | | | Media | | | | | | Streaming | | | | | | Event | | | | | | Exposure | | | | | | Subscription | | | | | | resource is | | | | | | successfully | | | | | | returned. | +---------------+---+-------------+---------------+---------------+ | n/a | | | 307 Temporary | Temporary | | | | | Redirect | redirection. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | target URI | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | n/a | | | 308 Permanent | Permanent | | | | | Redirect | redirection. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | target URI | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status code | | | | | | for the GET | | | | | | method listed | | | | | | in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.28.2.3.3.1-4: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
Table 5.28.2.3.3.1-5: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
###### 5.28.2.3.3.2 PUT
This method enables an AF to request the update of an existing Individual
Media Streaming Event Exposure Subscription resource at the NEF.
This method shall support the URI query parameters specified in table
5.28.2.3.3.2-1.
Table 5.28.2.3.3.2-1: URI query parameters supported by the PUT method on this
resource
* * *
Name Data type P Cardinality Description Applicability n/a
* * *
This method shall support the request data structures specified in table
5.28.2.3.3.2-2 and the response data structures and response codes specified
in table 5.28.2.3.3.2-3.
Table 5.28.2.3.3.2-2: Data structures supported by the PUT Request Body on
this resource
* * *
Data type P Cardinality Description AfEventExposureSubsc M 1 Contains the
updated representation of the Individual Media Streaming Event Exposure
Subscription resource that is to be updated.
* * *
Table 5.28.2.3.3.2-3: Data structures supported by the PUT Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | AfEvent | M | 1 | 200 OK | Successful | | ExposureSubsc | | | | case. The | | | | | | concerned | | | | | | Individual | | | | | | Media | | | | | | Streaming | | | | | | Event | | | | | | Exposure | | | | | | Subscription | | | | | | resource is | | | | | | successfully | | | | | | updated and a | | | | | | r | | | | | | epresentation | | | | | | of the | | | | | | updated | | | | | | resource is | | | | | | returned in | | | | | | the response | | | | | | body. | +---------------+---+-------------+---------------+---------------+ | n/a | | | 204 No | Successful | | | | | Content | case. The | | | | | | concerned | | | | | | Individual | | | | | | Media | | | | | | Streaming | | | | | | Event | | | | | | Exposure | | | | | | Subscription | | | | | | resource is | | | | | | successfully | | | | | | updated and | | | | | | no content is | | | | | | returned in | | | | | | the response | | | | | | body. | +---------------+---+-------------+---------------+---------------+ | n/a | | | 307 Temporary | Temporary | | | | | Redirect | redirection. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | target URI | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | n/a | | | 308 Permanent | Permanent | | | | | Redirect | redirection. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | target URI | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status code | | | | | | for the PUT | | | | | | method listed | | | | | | in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.28.2.3.3.2-4: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
Table 5.28.2.3.3.2-5: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
###### 5.28.2.3.3.3 DELETE
This method enables an AF to request the deletion of an existing Individual
Media Streaming Event Exposure resource at the NEF.
This method shall support the URI query parameters specified in table
5.28.2.3.3.3-1.
Table 5.28.2.3.3.3-1: URI query parameters supported by the DELETE method on
this resource
* * *
Name Data type P Cardinality Description Applicability n/a
* * *
This method shall support the request data structures specified in table
5.28.2.3.3.3-2 and the response data structures and response codes specified
in table 5.28.2.3.3.3-3.
Table 5.28.2.3.3.3-2: Data structures supported by the DELETE Request Body on
this resource
* * *
Data type P Cardinality Description n/a
* * *
Table 5.28.2.3.3.3-3: Data structures supported by the DELETE Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | Codes | | +---------------+---+-------------+---------------+---------------+ | n/a | | | 204 No | Successful | | | | | Content | response. The | | | | | | Individual | | | | | | Media | | | | | | Streaming | | | | | | Event | | | | | | Exposure | | | | | | resource is | | | | | | successfully | | | | | | deleted. | +---------------+---+-------------+---------------+---------------+ | | | | 307 Temporary | Temporary | | | | | Redirect | redirection. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | target URI | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | | | | 308 Permanent | Permanent | | | | | Redirect | redirection. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | target URI | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status code | | | | | | for the | | | | | | DELETE method | | | | | | listed in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.28.2.3.3.3-4: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
Table 5.28.2.3.3.3-5: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
##### 5.28.2.3.4 Resource Custom Operations
There are no resource custom operations defined for this resource in this
release of the specification.
### 5.28.3 Custom Operations without associated resources
There are no custom operations without associated resources defined for this
API in this release of the specification.
### 5.28.4 Notifications
#### 5.28.4.1 General
Notifications shall comply to clause 5.2.5 of 3GPP TS 29.122 [4].
Table 5.28.4.1-1: Notifications overview
+----------------+--------------+----------------+----------------+ | Notification | Callback URI | HTTP method or | Description | | | | custom | | | | | operation | (service | | | | | operation) | +----------------+--------------+----------------+----------------+ | Media | {notifUri} | POST | This operation | | Streaming | | | enables the | | Event Exposure | | | NEF to notify | | Notification | | | a previously | | | | | subscribed AF | | | | | on the Media | | | | | Streaming | | | | | Exposure | | | | | Event(s). | +----------------+--------------+----------------+----------------+
#### 5.28.4.2 Media Streaming Event Exposure Notification
##### 5.28.4.2.1 Description
The Media Streaming Event Exposure notification is used by the NEF to report
one or several observed Media Streaming event(s) to a previously subscribed
AF.
##### 5.28.4.2.2 Target URI
The Callback URI **\"{notifUri}\"** shall be used with the callback URI
variables defined in table 5.28.4.2.2-1.
Table 5.28.4.2.2-1: Callback URI variables
* * *
Name Definition notifUri Callback reference provided by the AF during the
creation/update of the corresponding Media Streaming Event Exposure
Subscription.
* * *
##### 5.28.4.2.3 Operation Definition
###### 5.28.4.2.3.1 Notification via HTTP POST
This method shall support the request data structures specified in table
5.28.4.2.3.1-1 and the response data structures and response codes specified
in table 5.28.4.2.3.1-2.
Table 5.28.4.2.3.1-1: Data structures supported by the POST Request Body on
this resource
* * *
Data type P Cardinality Description AfEventExposureNotif M 1 Contains the
Media Streaming Event Exposure Notification.
* * *
Table 5.28.4.2.3.1-2: Data structures supported by the POST Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | N/A | | | 204 No | The Media | | | | | Content | Streaming | | | | | | Event | | | | | | Notification | | | | | | is | | | | | | successfully | | | | | | received. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 307 Temporary | Temporary | | | | | Redirect | redirection. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI | | | | | | representing | | | | | | the end point | | | | | | of an | | | | | | alternative | | | | | | AF where the | | | | | | notification | | | | | | should be | | | | | | sent. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 308 Permanent | Permanent | | | | | Redirect | redirection. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI | | | | | | representing | | | | | | the end point | | | | | | of an | | | | | | alternative | | | | | | AF where the | | | | | | notification | | | | | | should be | | | | | | sent. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the POST | | | | | | method listed | | | | | | in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.28.4.2.3.1-3: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI representing the end point of an alternative AF towards which the
notification should be redirected.
* * *
Table 5.28.4.2.3.1-4: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI representing the end point of an alternative AF towards which the
notification should be redirected.
* * *
###### 5.28.4.2.3.2 Notification via Websocket
If supported by both AF and NEF and successfully negotiated, the Media
Streaming event notification may alternatively be delivered through the
Websocket mechanism as defined in clause 5.2.5.4 of 3GPP TS 29.122 [4].
### 5.28.5 Data Model
#### 5.28.5.1 General
This clause specifies the application data model supported by the
MSEventExposure API. Table 5.28.5.1-1 specifies the data types defined for the
MSEventExposure API.
Table 5.28.5.1-1: MSEventExposure specific Data Types
* * *
Data type Clause defined Description Applicability
* * *
Table 5.28.5.1-2 specifies data types re-used by the MSEventExposure API from
other specifications, including a reference to their respective
specifications, and when needed, a short description of their use within the
MSEventExposure API.
Table 5.28.5.1-2: Re-used Data Types
* * *
Data type Reference Comments Applicability AfEventExposureNotif 3GPP TS 29.517
[58] Represents a Media Streaming event notification.  
AfEventExposureSubsc 3GPP TS 29.517 [58] Represents a Media Streaming event
exposure subscription. Only applicable to the UE application events exposed
via Data Collection AF as defined in clause 4.1.1 of 3GPP TS 29.517 [58].
* * *
#### 5.28.5.2 Structured data types
##### 5.28.5.2.1 Introduction
This clause defines the structures to be used in resource representations.
There are no structured data types defined for this API in this release of the
specification.
#### 5.28.5.3 Simple data types and enumerations
##### 5.28.5.3.1 Introduction
This clause defines simple data types and enumerations that can be referenced
from data structures defined in the previous clauses.
##### 5.28.5.3.2 Simple data types
The simple data types defined in table 5.28.5.3.2-1 shall be supported.
Table 5.28.5.3.2-1: Simple data types
* * *
Type Name Type Definition Description Applicability
* * *
### 5.28.6 Used Features
The table below defines the features applicable to the MSEventExposure API.
Those features are negotiated as described in clause 5.2.7 of 3GPP TS 29.122
[4].
Table 5.28.6-1: Features used by MSEventExposure API
* * *
Feature number Feature Name Description
* * *
### 5.28.7 Error handling
#### 5.28.7.1 General
HTTP error handling shall be supported as specified in clause 5.2.6 of 3GPP TS
29.122 [4].
In addition, the requirements in the following clauses shall apply.
#### 5.28.7.2 Protocol Errors
In this Release of the specification, there are no additional protocol errors
applicable for the MSEventExposure API.
#### 5.28.7.3 Application Errors
The application errors defined for the MSEventExposure API are listed in table
5.28.7.3-1.
Table 5.28.7.3-1: Application errors
* * *
Application Error HTTP status code Description
* * *
5.29 MBSGroupMsgDelivery API
Editor\'s Note: The definition of this API in the below clauses is still FFS
and may be updated based in the progress of the related stage 2 requirements.
5.29.1 Introduction
The Nnef_MBSGroupMsgDelivery service shall use the MBSGroupMsgDelivery API.
The API URI of the MBSGroupMsgDelivery API shall be:
> **{apiRoot}/3gpp-mbs-group-msg/v1**
with the following components:
> \- \"apiRoot\" is set as defined in clause 5.2.4 of 3GPP TS 29.122 [4].
>
> \- \"apiName\" shall be set to \"3gpp-mbs-group-msg\".
>
> \- \"apiVersion\" shall be set to \"v1\" for the current version defined in
> the present document.
All resource URIs in the clauses below are defined relative to the above root
URI.
5.29.2 Resources
5.29.2.1 Overview
This clause describes the structure for the Resource URIs as shown in figure
5.29.2.1-1 and HTTP methods used for the MBSGroupMsgDelivery API.
The structure of the resource URIs of the MBSGroupMsgDelivery API is shown in
Figure 5.29.2.1-1.
Figure 5.29.2.1-1: Resource URI structure of the MBSGroupMsgDelivery API
Table 5.29.2.1-1 provides an overview of the resources and applicable HTTP
methods.
**Table 5.29.2.1-1: Resources and methods overview**
+----------------+----------------+----------------+----------------+ | **Resource |** Resource URI | **HTTP method | * | | name** | (relative path | or custom | _Description_ _| | | under API | operation_ _| | | | URI)__| |__(service | | | | | operation)_ * | +----------------+----------------+----------------+----------------+ | MBS Group | /deliveries | GET | Retrieve the | | Message | | | existing MBS | | Deliveries | | | Group Message | | | | | Deliveries. | +----------------+----------------+----------------+----------------+ | | | POST | Request the | | | | | creation of a | | | | | new MBS Group | | | | | Message | | | | | Delivery. | +----------------+----------------+----------------+----------------+ | Individual MBS | /deliv | GET | Retrieve a | | Group Message | eries/{delRef} | | previously | | Delivery | | | submitted MBS | | | | | Group Message | | | | | Delivery. | +----------------+----------------+----------------+----------------+ | | | PUT | Request the | | | | | update of a | | | | | previously | | | | | submitted MBS | | | | | Group Message | | | | | Delivery. | +----------------+----------------+----------------+----------------+ | | | PATCH | Request the | | | | | modification | | | | | of a | | | | | previously | | | | | submitted MBS | | | | | Group Message | | | | | Delivery. | +----------------+----------------+----------------+----------------+ | | | DELETE | Request the | | | | | deletion of a | | | | | previously | | | | | submitted MBS | | | | | Group Message | | | | | Delivery. | +----------------+----------------+----------------+----------------+
5.29.2.2 Resource: MBS Group Message Deliveries
##### 5.29.2.2.1 Introduction
This resource represents the collection of MBS Group Message Deliveries
managed by the NEF.
This resource is modelled with the Collection resource archetype (see clause
C.2 of 3GPP TS 29.501 [3]).
5.29.2.2.2 Resource Definition
Resource URI: **{apiRoot}/3gpp-mbs-group-msg/v1/deliveries**
This resource shall support the resource URI variables defined in table
5.29.2.2.2-1.
**Table 5.29.2.2.2-1: Resource URI variables for this resource**
* * *
**Name** **Data type** **Definition** apiRoot string See clause 5.29.1.
* * *
5.29.2.2.3 Resource Standard Methods
5.29.2.2.3.1 GET
This method allows an AF to retrieve all the active MBS Group Message
Deliveries managed by the NEF.
This method shall support the URI query parameters specified in table
5.29.2.2.3.1-1.
**Table 5.29.2.2.3.1-1: URI query parameters supported by the GET method on
this resource**
* * *
**Name** **Data type** **P** **Cardinality** **Description** **Applicability**
n/a
* * *
This method shall support the request data structures specified in table
5.29.2.2.3.1-2 and the response data structures and response codes specified
in table 5.29.2.2.3.1-3.
**Table 5.29.2.2.3.1-2: Data structures supported by the GET Request Body on
thi** s resource
* * *
**Data type** **P** **Cardinality** **Description** n/a
* * *
**Table 5.29**.2.2.3.1-3: Data structures supported by the GET Response Body
on this resource
+--------------+-------+--------------+--------------+--------------+ | **Data |** P**|** C | **Response** | **D | | type** | | ardinality**| | escription** | | | | | **codes** | | +--------------+-------+--------------+--------------+--------------+ | arr | M | 0..N | 200 OK | Successful | | ay _(_ MbsGrou | | | | case. All | | pMsgDelData) | | | | the active | | | | | | MBS Group | | | | | | Message | | | | | | Deliveries | | | | | | managed by | | | | | | the NEF are | | | | | | returned. | +--------------+-------+--------------+--------------+--------------+ | n/a | | | 307 | Temporary | | | | | Temporary | redirection. | | | | | Redirect | The response | | | | | | shall | | | | | | include a | | | | | | Location | | | | | | header field | | | | | | containing | | | | | | an | | | | | | alternative | | | | | | target URI | | | | | | located in | | | | | | an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | c | | | | | | lause 5.2.10 | | | | | | of | | | | | | 3GPP TS 2 | | | | | | 9.122 [4]. | +--------------+-------+--------------+--------------+--------------+ | n/a | | | 308 | Permanent | | | | | Permanent | redirection. | | | | | Redirect | The response | | | | | | shall | | | | | | include a | | | | | | Location | | | | | | header field | | | | | | containing | | | | | | an | | | | | | alternative | | | | | | target URI | | | | | | located in | | | | | | an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | c | | | | | | lause 5.2.10 | | | | | | of | | | | | | 3GPP TS 2 | | | | | | 9.122 [4]. | +--------------+-------+--------------+--------------+--------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status code | | | | | | for the GET | | | | | | method | | | | | | listed in | | | | | | t | | | | | | able 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +--------------+-------+--------------+--------------+--------------+
**Table 5.29.2.2.3.1-4: Headers supported by the 307 Response Code on this r**
esource
* * *
**Name** **Data type** **P** **Cardinality** **Description** Location string M
1 An alternative URI of the resource located in an alternative NEF.
* * *
**Table 5.29**.2.2.3.1-5: Headers supported by the 308 Response Code on this
resource
* * *
**Name** **Data type** **P** **Cardinality** **Description** Location string M
1 An alternative URI of the resource located in an alternative NEF.
* * *
5.29.2.2.3.2 POST
This method enables an AF to request the creation of an MBS Group Message
Delivery at the NEF.
This method shall support the URI query parameters specified in table
5.29.2.2.3.2-1.
**Table 5.29.2.2.3.2-1: URI query parameters supported by the POST method on
this resource**
* * *
**Name** **Data type** **P** **Cardinality** **Description** **Applicability**
n/a
* * *
This operation shall support the request and response data structures and
response codes specified in table 5.29.2.2.3.2-2 and table 5.29.2.2.3.2-3.
**Table 5.29.2.2.3.2-2** : Data structures supported by the POST Request Body
on this resource
* * *
**Data type** **P** **Cardinality** **Description** MbsGroupMsgDelReq M 1
Represents the Group Message Delivery to be created at the NEF.
* * *
**Table 5.29.2.2.3.2-3** : Data structures supported by the POST Response Body
on this resource
+--------------+-------+--------------+--------------+--------------+ | **Data |** P**|** C | **Response** | **D | | type** | | ardinality**| | escription** | | | | | **codes** | | +--------------+-------+--------------+--------------+--------------+ | MbsGro | M | 1 | 201 Created | Successful | | upMsgDelResp | | | | case: A | | | | | | re | | | | | | presentation | | | | | | of the | | | | | | created | | | | | | \"Individual | | | | | | MBS Group | | | | | | Message | | | | | | Delivery\" | | | | | | resource is | | | | | | returned in | | | | | | the response | | | | | | body. | | | | | | | | | | | | An HTTP | | | | | | \"Location\" | | | | | | header that | | | | | | contains the | | | | | | resource URI | | | | | | of the | | | | | | created | | | | | | \"Individual | | | | | | MBS Group | | | | | | Messge | | | | | | Delivery\" | | | | | | resource | | | | | | shall also | | | | | | be included. | +--------------+-------+--------------+--------------+--------------+ | NOTE 1: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the POST | | | | | | method | | | | | | listed in | | | | | | t | | | | | | able 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | | | | | | | | NOTE 2: | | | | | | Failure | | | | | | cases are | | | | | | described in | | | | | | cl | | | | | | ause 5.29.7. | | | | | +--------------+-------+--------------+--------------+--------------+
Table 5.29.2.2.3.2-4: Headers supported by the 201 response code on this
resource
+----------+-----------+---+-------------+--------------------+ | Name | Data type | P | Cardinality | Description | +----------+-----------+---+-------------+--------------------+ | Location | string | M | 1 | Contains the URI | | | | | | of the newly | | | | | | created resource, | | | | | | according to the | | | | | | structure: | | | | | | | | | | | | {apiRoot}/3gpp- | | | | | | mbs-group-msg/v1/d | | | | | | eliveries/{delRef} | +----------+-----------+---+-------------+--------------------+
5.29.2.2.4 Resource Custom Operations
There are no resource custom operations defined for this resource in this
release of the specification.
5.29.2.3 Resource: Individual MBS Group Message Delivery
5.29.2.3.1 Introduction
This resource represents an \"Individual MBS Group Message Delivery\" managed
by the NEF.
This resource is modelled with the Document resource archetype (see clause C.1
of 3GPP TS 29.501 [3]).
5.29.2.3.2 Resource Definition
Resource URI: **{apiRoot}/3gpp-mbs-group-msg/v1/deliveries/{delRef}**
This resource shall support the resource URI variables defined in table
5.29.2.3.2-1.
**Table 5.29.2.3.2-1: Resource URI variables for this resource**
* * *
**Name** **Data type** **Definition** apiRoot string See clause 5.29.1. delRef
string Contains the identifier of the \"Individual MBS Group Message
Delivery\" resource assigned by the NEF.
* * *
5.29.2.3.3 Resource Standard Methods
5.29.2.3.3.1 GET
This method allows an AF to retrieve an existing \"Individual MBS Group
Message Delivery\" resource at the NEF.
This method shall support the URI query parameters specified in table
5.29.2.3.3.1-1.
**Table 5.29.2.3.3.1-1: URI query parameters supported by the GET method on
this resource**
* * *
**Name** **Data type** **P** **Cardinality** **Description** **Applicability**
n/a
* * *
This method shall support the request data structures specified in table
5.29.2.3.3.1-2 and the response data structures and response codes specified
in table 5.29.2.3.3.1-3.
**Table 5.29**.2.3.3.1-2: Data structures supported by the GET Request Body on
this resource
* * *
**Data type** **P** **Cardinality** **Description** n/a
* * *
**Table 5.29.2.3.3.1-3: Data structures supported by t** he GET Response Body
on this resource
+--------------+-------+--------------+--------------+--------------+ | **Data |** P**|** C | **Response** | **D | | type** | | ardinality**| | escription** | | | | | **codes** | | +--------------+-------+--------------+--------------+--------------+ | MbsGro | M | 1 | 200 OK | Successful | | upMsgDelData | | | | case. The | | | | | | requested | | | | | | \"Individual | | | | | | MBS Group | | | | | | Message | | | | | | Delivery\" | | | | | | resource is | | | | | | successfully | | | | | | returned. | +--------------+-------+--------------+--------------+--------------+ | n/a | | | 307 | Temporary | | | | | Temporary | redirection. | | | | | Redirect | The response | | | | | | shall | | | | | | include a | | | | | | Location | | | | | | header field | | | | | | containing | | | | | | an | | | | | | alternative | | | | | | target URI | | | | | | located in | | | | | | an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | c | | | | | | lause 5.2.10 | | | | | | of | | | | | | 3GPP TS 2 | | | | | | 9.122 [4]. | +--------------+-------+--------------+--------------+--------------+ | n/a | | | 308 | Permanent | | | | | Permanent | redirection. | | | | | Redirect | The response | | | | | | shall | | | | | | include a | | | | | | Location | | | | | | header field | | | | | | containing | | | | | | an | | | | | | alternative | | | | | | target URI | | | | | | located in | | | | | | an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | c | | | | | | lause 5.2.10 | | | | | | of | | | | | | 3GPP TS 2 | | | | | | 9.122 [4]. | +--------------+-------+--------------+--------------+--------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status code | | | | | | for the GET | | | | | | method | | | | | | listed in | | | | | | t | | | | | | able 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +--------------+-------+--------------+--------------+--------------+
**Table 5.29**.2.3.3.1-4: Headers supported by the 307 Response Code on this
resource
* * *
**Name** **Data type** **P** **Cardinality** **Description** Location string M
1 An alternative URI of the resource located in an alternative NEF.
* * *
**Table 5.29**.2.3.3.1-5: Headers supported by the 308 Response Code on this
resource
* * *
**Name** **Data type** **P** **Cardinality** **Description** Location string M
1 An alternative URI of the resource located in an alternative NEF.
* * *
5.29.2.3.3.2 PATCH
This method enables an AF to request the modification of an existing
\"Individual MBS Group Message Delivery\" resource at the NEF.
This method shall support the URI query parameters specified in table
5.29.2.3.3.2-1.
**Table 5.29.2.3.3.2-1: URI query parameters supported by the PATCH method on
this resource**
* * *
**Name** **Data type** **P** **Cardinality** **Description** **Applicability**
n/a
* * *
This method shall support the request data structures specified in table
5.29.2.3.3.2-2 and the response data structures and response codes specified
in table 5.29.2.3.3.2-3.
**Table 5.29.2.3.3.2** -2: Data structures supported by the PATCH Request Body
on this resource
* * *
**Data type** **P** **Cardinality** **Description** MbsGroupMsgDelPatch M 1
Contains the parameters to request the modification of the \"Individual MBS
Group Message Delivery\" resource.
* * *
**Table 5.29.2.3.3.2** -3: Data structures supported by the PATCH Response
Body on this resource
+--------------+-------+--------------+--------------+--------------+ | **Data |** P**|** C | **Response** | **D | | type** | | ardinality**| | escription** | | | | | **codes** | | +--------------+-------+--------------+--------------+--------------+ | MbsGro | M | 1 | 200 OK | Successful | | upMsgDelResp | | | | case. The | | | | | | concerned | | | | | | \"Individual | | | | | | MBS Group | | | | | | Message | | | | | | Delivery\" | | | | | | resource is | | | | | | successfully | | | | | | modified and | | | | | | a | | | | | | re | | | | | | presentation | | | | | | of the | | | | | | updated | | | | | | resource is | | | | | | returned in | | | | | | the response | | | | | | body. | +--------------+-------+--------------+--------------+--------------+ | n/a | | | 204 No | Successful | | | | | Content | response. | | | | | | The | | | | | | \"Individual | | | | | | MBS Group | | | | | | Message | | | | | | Delivery\" | | | | | | resource was | | | | | | successfully | | | | | | modified and | | | | | | no content | | | | | | is returned | | | | | | in the | | | | | | response | | | | | | body. | +--------------+-------+--------------+--------------+--------------+ | n/a | | | 307 | Temporary | | | | | Temporary | redirection. | | | | | Redirect | The response | | | | | | shall | | | | | | include a | | | | | | Location | | | | | | header field | | | | | | containing | | | | | | an | | | | | | alternative | | | | | | target URI | | | | | | located in | | | | | | an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | c | | | | | | lause 5.2.10 | | | | | | of | | | | | | 3GPP TS 2 | | | | | | 9.122 [4]. | +--------------+-------+--------------+--------------+--------------+ | n/a | | | 308 | Permanent | | | | | Permanent | redirection. | | | | | Redirect | The response | | | | | | shall | | | | | | include a | | | | | | Location | | | | | | header field | | | | | | containing | | | | | | an | | | | | | alternative | | | | | | target URI | | | | | | located in | | | | | | an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | c | | | | | | lause 5.2.10 | | | | | | of | | | | | | 3GPP TS 2 | | | | | | 9.122 [4]. | +--------------+-------+--------------+--------------+--------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status code | | | | | | for the | | | | | | PATCH method | | | | | | listed in | | | | | | t | | | | | | able 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +--------------+-------+--------------+--------------+--------------+
**Table 5.29.2.3.3.2** -4: Headers supported by the 307 Response Code on this
resource
* * *
**Name** **Data type** **P** **Cardinality** **Description** Location string M
1 An alternative URI of the resource located in an alternative NEF.
* * *
**Table 5.29.2.3.3.2** -5: Headers supported by the 308 Response Code on this
resource
* * *
**Name** **Data type** **P** **Cardinality** **Description** Location string M
1 An alternative URI of the resource located in an alternative NEF.
* * *
5.29.2.3.3.3 DELETE
This method enables an AF to request the deletion of an existing \"Individual
MBS Group Message Delivery\" resource at the NEF.
This method shall support the URI query parameters specified in table
5.29.2.3.3.3-1.
**Table 5.29.2.3.3.3-1: URI query parameters supported by the DELETE method on
this resource**
* * *
**Name** **Data type** **P** **Cardinality** **Description** **Applicability**
n/a
* * *
This method shall support the request data structures specified in table
5.29.2.3.3.3-2 and the response data structures and response codes specified
in table 5.29.2.3.3.3-3.
**Table 5.29.2.3.3.3** -2: Data structures supported by the DELETE Request
Body on this resource
* * *
**Data type** **P** **Cardinality** **Description** n/a
* * *
**Table 5.29.2.3.3.3** -3: Data structures supported by the DELETE Response
Body on this resource
+--------------+-------+--------------+--------------+--------------+ | **Data |** P**|** C | **Response** | **D | | type** | | ardinality**| | escription** | | | | | **Codes** | | +--------------+-------+--------------+--------------+--------------+ | n/a | | | 204 No | Successful | | | | | Content | response. | | | | | | The | | | | | | \"Individual | | | | | | MBS Group | | | | | | Message | | | | | | Delivery\" | | | | | | resource was | | | | | | successfully | | | | | | deleted. | +--------------+-------+--------------+--------------+--------------+ | | | | 307 | Temporary | | | | | Temporary | redirection. | | | | | Redirect | The response | | | | | | shall | | | | | | include a | | | | | | Location | | | | | | header field | | | | | | containing | | | | | | an | | | | | | alternative | | | | | | target URI | | | | | | located in | | | | | | an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | c | | | | | | lause 5.2.10 | | | | | | of | | | | | | 3GPP TS 2 | | | | | | 9.122 [4]. | +--------------+-------+--------------+--------------+--------------+ | | | | 308 | Permanent | | | | | Permanent | redirection. | | | | | Redirect | The response | | | | | | shall | | | | | | include a | | | | | | Location | | | | | | header field | | | | | | containing | | | | | | an | | | | | | alternative | | | | | | target URI | | | | | | located in | | | | | | an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | c | | | | | | lause 5.2.10 | | | | | | of | | | | | | 3GPP TS 2 | | | | | | 9.122 [4]. | +--------------+-------+--------------+--------------+--------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status code | | | | | | for the | | | | | | DELETE | | | | | | method | | | | | | listed in | | | | | | Table | | | | | | 5.2.6-1 of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +--------------+-------+--------------+--------------+--------------+
**Table 5.29.2.3.3.3** -4: Headers supported by the 307 Response Code on this
resource
* * *
**Name** **Data type** **P** **Cardinality** **Description** Location string M
1 An alternative URI of the resource located in an alternative NEF.
* * *
**Table 5.29.2.3.3.3** -5: Headers supported by the 308 Response Code on this
resource
* * *
**Name** **Data type** **P** **Cardinality** **Description** Location string M
1 An alternative URI of the resource located in an alternative NEF.
* * *
5.29.2.3.4 Resource Custom Operations
There are no resource custom operations defined for this resource in this
release of the specification.
5.29.3 Custom Operations without associated resources
There are no custom operations without associated resources defined for this
API in this release of the specification.
5.29.4 Notifications
5.29.4.1 General
Notifications shall comply to clause 5.2.5 of 3GPP TS 29.122 [4].
**Table 5.29.4.1** -1: Notifications overview
+----------------+----------------+----------------+----------------+ | ** | **Callback |** HTTP method | * | | Notification**| URI** | or custom | _Description_ _| | | | operation_ _| | | | | |__(service | | | | | operation)_ * | +----------------+----------------+----------------+----------------+ | Notification | {notifUri} | POST | Enable the NEF | | of the status | | | to notify an | | of an MBS | | | AF of the | | Group Message | | | status of an | | Delivery. | | | MBS Group | | | | | Message | | | | | Delivery. | +----------------+----------------+----------------+----------------+
5.29.4.2 MBS Group Message Delivery Notification
5.29.4.2.1 Description
This Notification is used by the NEF to report the status of an MBS Group
Message Delivery to a previously subscribed AF.
5.29.4.2.2 Target URI
The Callback URI **"{notifUri}"** shall be used with the callback URI
variables defined in table 5.29.4.2.2-1.
**Table 5.29.4.2.2-1: Callback URI variables**
* * *
**Name** **Definition** notifUri Callback URI provided by the AF during MBS
Group Message Delivery creation/modification.
* * *
5.29.4.2.3 Operation Definition
This method shall support the request data structures specified in table
5.29.4.2.3-1 and the response data structures and response codes specified in
table 5.29.4.2.3.1-2.
**Table 5.29**.4.2.3-1: Data structures supported by the POST Request Body on
this resource
* * *
**Data type** **P** **Cardinality** **Description** MbsGroupMsgDelStatusNotif
M 1 Represents the notification on the status of MBS Group Message Delivery.
* * *
**Table 5.29**.4.2.3-2: Data structures supported by the POST Response Body on
this resource
+--------------+-------+--------------+--------------+--------------+ | **Data |** P**|** C | **Response** | **D | | type** | | ardinality**| | escription** | | | | | **codes** | | +--------------+-------+--------------+--------------+--------------+ | n/a | | | 204 No | The | | | | | Content | notification | | | | | | is | | | | | | successfully | | | | | | received. | +--------------+-------+--------------+--------------+--------------+ | n/a | | | 307 | Temporary | | | | | Temporary | redirection. | | | | | Redirect | The response | | | | | | shall | | | | | | include a | | | | | | Location | | | | | | header field | | | | | | containing | | | | | | an | | | | | | alternative | | | | | | URI | | | | | | representing | | | | | | the end | | | | | | point of an | | | | | | alternative | | | | | | AF towards | | | | | | which the | | | | | | notification | | | | | | should be | | | | | | sent. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | c | | | | | | lause 5.2.10 | | | | | | of | | | | | | 3GPP TS 2 | | | | | | 9.122 [4]. | +--------------+-------+--------------+--------------+--------------+ | n/a | | | 308 | Permanent | | | | | Permanent | redirection. | | | | | Redirect | The response | | | | | | shall | | | | | | include a | | | | | | Location | | | | | | header field | | | | | | containing | | | | | | an | | | | | | alternative | | | | | | URI | | | | | | representing | | | | | | the end | | | | | | point of an | | | | | | alternative | | | | | | AF towards | | | | | | which the | | | | | | notification | | | | | | should be | | | | | | sent. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | c | | | | | | lause 5.2.10 | | | | | | of | | | | | | 3GPP TS 2 | | | | | | 9.122 [4]. | +--------------+-------+--------------+--------------+--------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the POST | | | | | | method | | | | | | listed in | | | | | | t | | | | | | able 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +--------------+-------+--------------+--------------+--------------+
**Table 5.29**.4.2.3-3: Headers supported by the 307 Response Code on this
resource
* * *
**Name** **Data type** **P** **Cardinality** **Description** Location string M
1 An alternative URI representing the end point of an alternative AF towards
which the notification should be redirected.
* * *
**Table 5.29**.4.2.3-4: Headers supported by the 308 Response Code on this
resource
* * *
**Name** **Data type** **P** **Cardinality** **Description** Location string M
1 An alternative URI representing the end point of an alternative AF towards
which the notification should be redirected.
* * *
5.29.5 Data Model
5.29.5.1 General
This clause specifies the application data model supported by the
MBSGroupMsgDelivery API. Table 5.29.5.1-1 specifies the data types defined for
the MBSGroupMsgDelivery API.
**Table 5.29.5.1-1: MBSGroupMsgDelivery** specific Data Types
* * *
**Data type** **Clause defined** **Description** **Applicability**
MbsGroupMsgDelReq 5.29.5.2.2 Represents the full set of parameters to initiate
an MBS Group Message Delivery request.  
MbsGroupMsgDelData 5.29.5.2.3 Represents MBS Group Message Delivery data.  
MbsGroupMsgDelResp 5.29.5.2.4 Represents the response to an MBS Group Message
Delivery request.  
MbsGroupMsgDelPatch 5.29.5.2.5 Represents the parameters to request the
modification of an existing MBS Group Message Delivery.  
MbsGroupMsgDelStatusNotif 5.29.5.2.6 Represents a notification on the status
of MBS Group Message Delivery.
* * *
Table 5.29.5.1-2 specifies data types re-used by the MBSGroupMsgDelivery API
from other specifications, including a reference to their respective
specifications, and when needed, a short description of their use within the
MBSGroupMsgDelivery API.
**Table 5.29.5.1-2: MBSGroupMsgDelivery** API re-used Data Types
* * *
**Data type** **Reference** **Comments** **Applicability** DateTime 3GPP TS
29.122 [4] Represents a date and a time.  
ExternalGroupId 3GPP TS 29.122 [4] Represents an external Group Identifier.  
ExternalMbsServiceArea 3GPP TS 29.571 [8] Represents an external MBS service
area.  
MbsServiceArea 3GPP TS 29.571 [8] Represents an MBS service area.  
SupportedFeatures 3GPP TS 29.571 [8] Represents the list of supported
feature(s) and is used to negotiate the applicability of the optional
features.  
Tai 3GPP TS 29.571 [8] Represents a TAI.  
Uri 3GPP TS 29.122 [4] Contains a Uri.  
UserServiceDescription 3GPP TS 26.517 [68] Contains MBS User Service
Announcement information.
* * *
5.29.5.2 Structured data types
5.29.5.2.1 Introduction
This clause defines the structured data types to be used in resource
representations.
5.29.5.2.2 Type: MbsGroupMsgDelReq
**Table 5.29.5.2.2-1: Definition of type Mbs** GroupMsgDelReq
+----------+----------+-------+----------+----------+----------+ | **A |** Data | **P** | **Cardi |** Descr | * | | ttribute | type**| | nality** | iption**| *Applica | | name** | | | | | bility** | +----------+----------+-------+----------+----------+----------+ | mb | Mb | M | 1 | Re | | | sGroupMs | sGroupMs | | | presents | | | gDelData | gDelData | | | MBS | | | | | | | Group | | | | | | | Message | | | | | | | Delivery | | | | | | | Data. | | +----------+----------+-------+----------+----------+----------+ | suppFeat | S | C | 0..1 | I | | | | upported | | | ndicates | | | | Features | | | the list | | | | | | | of | | | | | | | s | | | | | | | upported | | | | | | | f | | | | | | | eatures. | | | | | | | | | | | | | | This | | | | | | | a | | | | | | | ttribute | | | | | | | shall be | | | | | | | provided | | | | | | | if | | | | | | | feature | | | | | | | neg | | | | | | | otiation | | | | | | | needs to | | | | | | | take | | | | | | | place. | | +----------+----------+-------+----------+----------+----------+
5.29.5.2.3 Type: MbsGroupMsgDelData
**Table 5.29.5.2.3-1: Definition of type Mbs** GroupMsgDelReq
+----------+----------+-------+----------+----------+----------+ | **A |** Data | **P** | **Cardi |** Descr | * | | ttribute | type**| | nality** | iption**| *Applica | | name** | | | | | bility** | +----------+----------+-------+----------+----------+----------+ | ex | Externa | M | 1 | Id | | | tGroupId | lGroupId | | | entifies | | | | | | | the | | | | | | | targeted | | | | | | | group of | | | | | | | UEs. | | +----------+----------+-------+----------+----------+----------+ | gr | UsageT | M | 1 | Contains | | | oupMsgDe | hreshold | | | the | | | lPayload | | | | payload | | | | | | | of the | | | | | | | r | | | | | | | equested | | | | | | | MBS | | | | | | | Group | | | | | | | Message | | | | | | | D | | | | | | | elivery. | | +----------+----------+-------+----------+----------+----------+ | mbs | MbsSer | C | 0..1 | Re | | | ServArea | viceArea | | | presents | | | | | | | the | | | | | | | internal | | | | | | | MBS | | | | | | | service | | | | | | | area | | | | | | | (i.e. in | | | | | | | the form | | | | | | | of a | | | | | | | list of | | | | | | | cell | | | | | | | ID(s) | | | | | | | and/or | | | | | | | list of | | | | | | | TAI(s)). | | | | | | | | | | | | | | (NOTE) | | +----------+----------+-------+----------+----------+----------+ | extMbs | Extern | C | 0..1 | Re | | | ServArea | alMbsSer | | | presents | | | | viceArea | | | the | | | | | | | external | | | | | | | MBS | | | | | | | service | | | | | | | area | | | | | | | (i.e. in | | | | | | | the form | | | | | | | of | | | | | | | geog | | | | | | | raphical | | | | | | | area(s) | | | | | | | or civic | | | | | | | addre | | | | | | | ss(es)). | | | | | | | | | | | | | | (NOTE) | | +----------+----------+-------+----------+----------+----------+ | s | DateTime | M | 1 | Re | | | tartTime | | | | presents | | | | | | | the | | | | | | | start | | | | | | | time of | | | | | | | the MBS | | | | | | | Group | | | | | | | Message | | | | | | | D | | | | | | | elivery. | | +----------+----------+-------+----------+----------+----------+ | stopTime | DateTime | M | 1 | Re | | | | | | | presents | | | | | | | the end | | | | | | | time of | | | | | | | the MBS | | | | | | | Group | | | | | | | Message | | | | | | | D | | | | | | | elivery. | | +----------+----------+-------+----------+----------+----------+ | notifUri | Uri | M | 1 | The | | | | | | | noti | | | | | | | fication | | | | | | | URI via | | | | | | | which | | | | | | | the AF | | | | | | | desires | | | | | | | to | | | | | | | receive | | | | | | | notif | | | | | | | ications | | | | | | | on the | | | | | | | status | | | | | | | of an | | | | | | | MBS | | | | | | | Group | | | | | | | Message | | | | | | | D | | | | | | | elivery. | | +----------+----------+-------+----------+----------+----------+ | NOTE: | | | | | | | These | | | | | | | at | | | | | | | tributes | | | | | | | are | | | | | | | mutually | | | | | | | ex | | | | | | | clusive. | | | | | | | Either | | | | | | | one of | | | | | | | them | | | | | | | should | | | | | | | be | | | | | | | present. | | | | | | +----------+----------+-------+----------+----------+----------+
Editor's Note: The definition of \"groupMsgDelPayload\" attribute is FFS.
5.29.5.2.4 Type: MbsGroupMsgDelResp
**Table 5.29.5.2.4-1: Definition of type MbsGroupMsgDelResp**
+----------+----------+-------+----------+----------+----------+ | **A |** Data | **P** | **Cardi |** Descr | * | | ttribute | type**| | nality** | iption**| *Applica | | name** | | | | | bility** | +----------+----------+-------+----------+----------+----------+ | mb | Mb | M | 1 | Re | | | sGroupMs | sGroupMs | | | presents | | | gDelData | gDelData | | | MBS | | | | | | | Group | | | | | | | Message | | | | | | | Delivery | | | | | | | Data. | | +----------+----------+-------+----------+----------+----------+ | d | boolean | M | 1 | Indicate | | | elStatus | | | | the | | | | | | | status | | | | | | | of Group | | | | | | | Message | | | | | | | D | | | | | | | elivery. | | | | | | | | | | | | | | - | | | | | | | \ | | | | | | | "true\": | | | | | | | Su | | | | | | | ccessful | | | | | | | d | | | | | | | elivery. | | | | | | | | | | | | | | - | | | | | | | \" | | | | | | | false\": | | | | | | | Failed | | | | | | | d | | | | | | | elivery. | | | | | | | | | | | | | | - | | | | | | | Default | | | | | | | value if | | | | | | | omitted: | | | | | | | \" | | | | | | | false\". | | +----------+----------+-------+----------+----------+----------+ | mb | UserSe | C | 0..1 | Re | | | sUserSer | rviceDes | | | presents | | | viceAnmt | cription | | | the MBS | | | | | | | User | | | | | | | Service | | | | | | | Anno | | | | | | | uncement | | | | | | | inf | | | | | | | ormation | | | | | | | c | | | | | | | urrently | | | | | | | as | | | | | | | sociated | | | | | | | with the | | | | | | | MBS | | | | | | | group | | | | | | | message | | | | | | | d | | | | | | | elivery. | | | | | | | | | | | | | | This | | | | | | | a | | | | | | | ttribute | | | | | | | shall be | | | | | | | present | | | | | | | in the | | | | | | | response | | | | | | | to an | | | | | | | MBS | | | | | | | Group | | | | | | | Message | | | | | | | Delivery | | | | | | | Creation | | | | | | | request | | | | | | | and may | | | | | | | be | | | | | | | present | | | | | | | in the | | | | | | | response | | | | | | | to an | | | | | | | MBS | | | | | | | Group | | | | | | | Message | | | | | | | Delivery | | | | | | | Update | | | | | | | request. | | +----------+----------+-------+----------+----------+----------+ | suppFeat | S | C | 0..1 | I | | | | upported | | | ndicates | | | | Features | | | the | | | | | | | s | | | | | | | upported | | | | | | | f | | | | | | | eatures. | | | | | | | | | | | | | | This | | | | | | | a | | | | | | | ttribute | | | | | | | shall be | | | | | | | provided | | | | | | | if | | | | | | | feature | | | | | | | neg | | | | | | | otiation | | | | | | | needs to | | | | | | | take | | | | | | | place. | | +----------+----------+-------+----------+----------+----------+
5.29.5.2.5 Type: MbsGroupMsgDelPatch
**Table 5.29.5.2.5-1: Definition of type MbsGroupMsgDelPatch**
+----------+----------+-------+----------+----------+----------+ | **A |** Data | **P** | **Cardi |** Descr | * | | ttribute | type**| | nality** | iption**| *Applica | | name** | | | | | bility** | +----------+----------+-------+----------+----------+----------+ | gr | UsageT | O | 0..1 | Contains | | | oupMsgDe | hreshold | | | uri to | | | lPayload | | | | the | | | | | | | payload | | | | | | | of the | | | | | | | r | | | | | | | equested | | | | | | | MBS | | | | | | | Group | | | | | | | Message | | | | | | | D | | | | | | | elivery. | | +----------+----------+-------+----------+----------+----------+ | mbs | MbsSer | O | 0..1 | Re | | | ServArea | viceArea | | | presents | | | | | | | the MBS | | | | | | | service | | | | | | | area. | | | | | | | | | | | | | | (NOTE) | | +----------+----------+-------+----------+----------+----------+ | extMbs | Extern | O | 0..1 | Re | | | ServArea | alMbsSer | | | presents | | | | viceArea | | | the | | | | | | | external | | | | | | | MBS | | | | | | | service | | | | | | | area. | | | | | | | | | | | | | | (NOTE) | | +----------+----------+-------+----------+----------+----------+ | s | DateTime | O | 0..1 | Re | | | tartTime | | | | presents | | | | | | | the | | | | | | | start | | | | | | | time | | | | | | | when the | | | | | | | MBS | | | | | | | Group | | | | | | | Message | | | | | | | Delivery | | | | | | | starts. | | +----------+----------+-------+----------+----------+----------+ | stopTime | DateTime | O | 0..1 | Re | | | | | | | presents | | | | | | | the stop | | | | | | | time | | | | | | | when the | | | | | | | MBS | | | | | | | Group | | | | | | | Message | | | | | | | Delivery | | | | | | | stops. | | +----------+----------+-------+----------+----------+----------+ | notifUri | Uri | O | 0..1 | The | | | | | | | noti | | | | | | | fication | | | | | | | URI via | | | | | | | which | | | | | | | the AF | | | | | | | desires | | | | | | | to | | | | | | | receive | | | | | | | notif | | | | | | | ications | | | | | | | on the | | | | | | | status | | | | | | | of an | | | | | | | MBS | | | | | | | Group | | | | | | | Message | | | | | | | D | | | | | | | elivery. | | +----------+----------+-------+----------+----------+----------+ | NOTE: | | | | | | | These | | | | | | | at | | | | | | | tributes | | | | | | | are | | | | | | | mutually | | | | | | | ex | | | | | | | clusive. | | | | | | | Either | | | | | | | one of | | | | | | | them may | | | | | | | be | | | | | | | present. | | | | | | +----------+----------+-------+----------+----------+----------+
Editor's Note: The definition of \"groupMsgDelPayload\" attribute is FFS.
5.29.5.2.6 Type: MbsGroupMsgDelStatusNotif
**Table 5.29.5.2.6-1: Definition of type MbsGroupMsgDel** StatusNotif
+----------+----------+-------+----------+----------+----------+ | **A |** Data | **P** | **Cardi |** Descr | * | | ttribute | type**| | nality** | iption**| *Applica | | name** | | | | | bility** | +----------+----------+-------+----------+----------+----------+ | d | boolean | M | 1 | Indicate | | | elStatus | | | | the | | | | | | | status | | | | | | | of Group | | | | | | | Message | | | | | | | D | | | | | | | elivery. | | | | | | | | | | | | | | - | | | | | | | \ | | | | | | | "true\": | | | | | | | Su | | | | | | | ccessful | | | | | | | d | | | | | | | elivery. | | | | | | | | | | | | | | - | | | | | | | \" | | | | | | | false\": | | | | | | | Failed | | | | | | | d | | | | | | | elivery. | | | | | | | | | | | | | | - | | | | | | | Default | | | | | | | value if | | | | | | | omitted: | | | | | | | \" | | | | | | | false\". | | +----------+----------+-------+----------+----------+----------+
5.29.5.3 Simple data types and enumerations
5.29.5.3.1 Introduction
This clause defines simple data types and enumerations that can be referenced
from data structures defined in the previous clauses.
5.29.5.3.2 Simple data types
The simple data types defined in Table 5.29.5.3.2-1 shall be supported.
**Table 5.29**.5.3.2-1: Simple data types
* * *
**Type Name** **Type Definition** **Description** **Applicability**
* * *
5.29.6 Used Features
The table below defines the features applicable to the MBSGROUPMSGDELIVERY
API. Those features are negotiated as described in clause 5.2.7 of 3GPP TS
29.122 [4].
**Table 5.29.6-1: Features used by the MBSGroupMsgDelivery** API
* * *
**Feature number** **Feature Name** **Description**
* * *
5.29.7 Error handling
5.29.7.1 General
HTTP error handling shall be supported as specified in clause 5.2.6 of 3GPP TS
29.122 [4].
In addition, the requirements in the following clauses shall apply.
5.29.7.2 Protocol Errors
In this Release of the specification, there are no additional protocol errors
applicable for the MBSGroupMsgDelivery API.
5.29.7.3 Application Errors
The application errors defined for the MBSGroupMsgDelivery API are listed in
table 5.29.7.3-1.
**Table 5.29**.7.3-1: Application errors
* * *
**Application Error** **HTTP status code** **Description**
* * *
## 5.30 DNAIMapping API
5.30.1 Introduction
The Nnef_DNAIMapping service shall use the DNAIMapping API.
The API URI of the DNAIMappingAPI shall be:
> **{apiRoot}/3gpp-dnai-mapping/v1**
with the following components:
> \- \"apiRoot\" is set as defined in clause 5.2.4 of 3GPP TS 29.122 [4].
>
> \- \"apiName\" shall be set to \"3gpp-dnai-mapping\".
>
> \- \"apiVersion\" shall be set to \"v1\" for the current version defined in
> the present document.
All resource URIs in the clauses below are defined relative to the above root
URI.
### 5.30.2 Resources
#### 5.30.2.1 Overview
This clause describes the structure for the Resource URIs as shown in figure
5.30.2.1-1 and the resources and HTTP methods used for the DNAIMapping API.
Figure 5.30.2.1-1: Resource URI structure of the DNAIMapping API
Table 5.30.2.1-1 provides an overview of the resources and HTTP methods
applicable for the DNAIMapping API.
Table 5.30.2.1-1: Resources and methods overview
* * *
Resource name Resource URI HTTP method Description DNAI Mapping Subscriptions
/{afId}/subscriptions GET Read all subscriptions for a given AF POST Create a
new subscription to DNAI Mapping Individual DNAI Mapping Subscription
/{afId}/subscriptions/{subscriptionId} GET Read a subscription to DNAI Mapping
DELETE Delete a subscription to DNAI Mapping
* * *
#### 5.30.2.2 Resource: DNAI Mapping Subscriptions
##### 5.30.2.2.1 Introduction
This resource allows a AF to read all active DNAI Mapping subscribtions for
the given AF.
This resource is modelled with the Collection resource archetype (see clause
C.2 of 3GPP TS 29.501 [3]).
##### 5.30.2.2.2 Resource Definition
Resource URI: **{apiRoot}/3gpp-dnai-mapping/v1/{afId}/subscriptions**
This resource shall support the resource URI variables defined in table
5.30.2.2.2-1.
Table 5.30.2.2.2-1: Resource URI variables for this resource
* * *
Name Data type Definition apiRoot string Clause 5.2.4 of 3GPP TS 29.122 [4].
afId string Identifier of the AF.
* * *
##### 5.30.2.2.3 Resource Methods
###### 5.30.2.2.3.1 General
The following clauses specify the resource methods supported by the resource
as described in clause 5.30.2.2.2.
###### 5.30.2.2.3.2 GET
The GET method allows to read all active subscriptions for a given AF. The AF
shall initiate the HTTP GET request message and the NEF shall respond to the
message.
This method shall support the URI query parameters specified in table
5.30.2.2.3.2-1.
Table 5.30.2.2.3.2-1: URI query parameters supported by the GET method on this
resource
* * *
Name Data type P Cardinality Description N/A
* * *
This method shall support the request data structures specified in table
5.30.2.2.3.2-2 and the response data structures and response codes specified
in table 5.30.2.2.3.2-3.
Table 5.30.2.2.3.2-2: Data structures supported by the GET Request Body on
this resource
* * *
Data type P Cardinality Description N/A
* * *
Table 5.30.2.2.3.2-3: Data structures supported by the GET Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | arra | M | 0..N | 200 OK | The | | y(DnaiMapSub) | | | | subscription | | | | | | information | | | | | | for the AF in | | | | | | the request | | | | | | URI are | | | | | | returned. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 307 Temporary | Temporary | | | | | Redirect | redirection, | | | | | | during | | | | | | subscription | | | | | | retrieval. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 308 Permanent | Permanent | | | | | Redirect | redirection, | | | | | | during | | | | | | subscription | | | | | | retrieval. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the GET | | | | | | method listed | | | | | | in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.30.2.2.3.2-4: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 Contains an
alternative URI of the resource located in an alternative NEF towards which
the request is redirected.
* * *
Table 5.30.2.2.3.2-5: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 Contains an
alternative URI of the resource located in an alternative NEF towards which
the request is redirected.
* * *
###### 5.30.2.2.3.3 POST
The POST method creates a new subscription resource to DNAI mapping
subscription for a given AF. The AF shall initiate the HTTP POST request
message and the NEF shall respond to the message. The NEF shall construct the
URI of the created resource.
This method shall support the request data structures specified in table
5.30.2.2.3.3-1 and the response data structures and response codes specified
in table 5.30.2.2.3.3-2.
Table 5.30.2.2.3.3-1: Data structures supported by the POST Request Body on
this resource
* * *
Data type P Cardinality Description DnaiMapSub M 1 Parameters to register a
subscription with the NEF.
* * *
Table 5.30.2.2.3.3-2: Data structures supported by the POST Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | DnaiMapSub | M | 1 | 201 Created | The | | | | | | subscription | | | | | | was created | | | | | | successfully. | | | | | | | | | | | | The URI of | | | | | | the created | | | | | | resource | | | | | | shall be | | | | | | returned in | | | | | | the | | | | | | \"Location\" | | | | | | HTTP header. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the POST | | | | | | method listed | | | | | | in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.30.2.2.3.3-3: Headers supported by the 201 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 Contains the URI
of the newly created resource, according to the structure: {apiRoot}/3gpp-
dnai-mapping/v1/{afId}/subscriptions/{subscriptionId}
* * *
#### 5.30.2.3 Resource: Individual DNAI Mapping Subscription
##### 5.30.2.3.1 Introduction
This resource represents an Individual DNAI Mapping Subscription managed by
the NEF.
This resource is modelled with the Document resource archetype (see clause C.2
of 3GPP TS 29.501 [3]).
##### 5.30.2.3.2 Resource Definition
Resource URI: **{apiRoot}/3gpp-dnai-
mapping/v1/{afId}/subscriptions/{subscriptionId}**
This resource shall support the resource URI variables defined in table
5.30.2.3.2-1.
Table 5.30.2.3.2-1: Resource URI variables for this resource
* * *
Name Data type Definition apiRoot string Clause 5.2.4 of 3GPP TS 29.122 [4].
afId string Identifier of the AF. subscriptionId string Identifier of the
subscription.
* * *
##### 5.30.2.3.3 Resource Methods
###### 5.30.2.3.3.1 General
The following clauses specify the resource methods supported by the resource
as described in clause 5.30.2.3.2.
###### 5.30.2.3.3.2 GET
The GET method allows to read the active subscription for a given AF and
subscription Id. The AF shall initiate the HTTP GET request message and the
NEF shall respond to the message.
This method shall support the URI query parameters specified in table
5.30.2.3.3.2-1.
Table 5.30.2.3.3.2-1: URI query parameters supported by the GET method on this
resource
* * *
Name Data type P Cardinality Description N/A
* * *
This method shall support the request data structures specified in table
5.30.2.3.3.2-2 and the response data structures and response codes specified
in table 5.30.2.3.3.2-3.
Table 5.30.2.3.3.2-2: Data structures supported by the GET Request Body on
this resource
* * *
Data type P Cardinality Description N/A
* * *
Table 5.30.2.3.3.2-3: Data structures supported by the GET Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | DnaiMapSub | M | 1 | 200 OK | The | | | | | | subscription | | | | | | information | | | | | | for the AF in | | | | | | the request | | | | | | URI are | | | | | | returned. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 307 Temporary | Temporary | | | | | Redirect | redirection, | | | | | | during | | | | | | subscription | | | | | | retrieval. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 308 Permanent | Permanent | | | | | Redirect | redirection, | | | | | | during | | | | | | subscription | | | | | | retrieval. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the GET | | | | | | method listed | | | | | | in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.30.2.3.3.2-4: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 Contains an
alternative URI of the resource located in an alternative NEF towards which
the request is redirected.
* * *
Table 5.30.2.3.3.2-5: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 Contains an
alternative URI of the resource located in an alternative NEF towards which
the request is redirected.
* * *
###### 5.30.2.3.3.3 DELETE
The DELETE method deletes the DNAI Mapping subscription for a given AF. The AF
shall initiate the HTTP DELETE request message and the NEF shall respond to
the message.
This method shall support the URI query parameters specified in table
5.30.2.3.3.3-1.
Table 5.30.2.3.3.3-1: URI query parameters supported by the DELETE method on
this resource
* * *
Name Data type P Cardinality Description N/A
* * *
This method shall support the request data structures specified in table
5.30.2.3.3.3-2 and the response data structures and response codes specified
in table 5.30.2.3.3.3-3.
Table 5.30.2.3.3.3-2: Data structures supported by the DELETE Request Body on
this resource
* * *
Data type P Cardinality Description N/A
* * *
Table 5.30.2.3.3.3-3: Data structures supported by the DELETE Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | N/A | | | 204 No | The | | | | | Content | subscription | | | | | | was | | | | | | terminated | | | | | | successfully. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 307 Temporary | Temporary | | | | | Redirect | redirection, | | | | | | during | | | | | | subscription | | | | | | termination. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 308 Permanent | Permanent | | | | | Redirect | redirection, | | | | | | during | | | | | | subscription | | | | | | termination. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the | | | | | | DELETE method | | | | | | listed in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.30.2.3.3.3-4: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 Contains an
alternative URI of the resource located in an alternative NEF towards which
the request is redirected.
* * *
Table 5.30.2.3.3.3-5: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 Contains an
alternative URI of the resource located in an alternative NEF towards which
the request is redirected.
* * *
5.30.3 Custom Operations without associated resources
There are no custom operations without associated resources defined for this
API in this release of the specification.
### 5.30.4 Notifications
#### 5.30.4.1 General
Upon receipt of an update of DNAI-EAS address(es) mapping information is
detected, the NEF shall send an HTTP POST message including the updated one or
more pairs of DNAI(s) and EAS address(es) to the AF.
The NEF and the AF shall support the notification mechanism as described in
clause 5.2.5 of 3GPP TS 29.122 [4].
Table 5.30.4.1-1: Notifications overview
+----------------+--------------+----------------+----------------+ | Notification | Callback URI | HTTP method or | Description | | | | custom | | | | | operation | (service | | | | | operation) | +----------------+--------------+----------------+----------------+ | Notification | {notifUri} | POST | The update of | | of the update | | | the DNAI-EAS | | of DNAI-EAS | | | address(es) | | address(es) | | | information is | | information | | | notified to | | | | | the AF by the | | | | | NEF. | +----------------+--------------+----------------+----------------+
#### 5.30.4.2 DNAI Mapping Information Update Notification
##### 5.30.4.2.1 Description
This Notification is used by the NEF to report the update of the DNAI Mapping
information to a subscribed AF.
##### 5.30.4.2.2 Target URI
The Callback URI **\"{notifUri}\"** shall be used with the callback URI
variables defined in table 5.30.4.2.2-1.
Table 5.30.4.2.2-1: Callback URI variables
* * *
Name Definition notifUri Callback URI provided by the AF during the
subscription creation.
* * *
##### 5.30.4.2.3 Operation Definition
###### 5.30.4.2.3.1 Notification via HTTP POST
This method shall support the request data structures specified in table
5.30.4.2.3-1 and the response data structures and response codes specified in
table 5.30.4.2.3.1-2.
Table 5.30.4.2.3-1: Data structures supported by the POST Request Body on this
resource
* * *
Data type P Cardinality Description DnaiMapUpdateNotif M 1 Represents the
update of the DNAI Mapping information to be reported to the AF
* * *
Table 5.30.4.2.3-2: Data structures supported by the POST Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | n/a | | | 204 No | The | | | | | Content | notification | | | | | | is | | | | | | successfully | | | | | | received. | +---------------+---+-------------+---------------+---------------+ | n/a | | | 307 Temporary | Temporary | | | | | Redirect | redirection. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | n/a | | | 308 Permanent | Permanent | | | | | Redirect | redirection. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the POST | | | | | | method listed | | | | | | in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.30.4.2.3-3: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location String M 1 Contains an
alternative URI representing the end point of an alternative AF towards which
the notification is redirected.
* * *
Table 5.30.4.2.3-4: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location String M 1 Contains an
alternative URI representing the end point of an alternative AF towards which
the notification is redirected.
* * *
###### 5.30.4.2.3.2 Notification via Websocket
If supported by both AF and NEF and successfully negotiated, the DNAI Mapping
Information Update Notification may alternatively be delivered through the
Websocket mechanism as defined in clause 5.2.5.4 of 3GPP TS 29.122 [4].
### 5.30.5 Data Model
#### 5.30.5.1 General
This clause specifies the application data model supported by the DNAIMapping
API. Table 5.30.5.1-1 specifies the data types defined for the DNAIMapping
API.
Table 5.30.5.1-1: DNAIMapping specific Data Types
* * *
Data type Clause defined Description Applicability DnaiMapSub 5.30.5.2.2
Represents DNAI Mapping subscription data.  
DnaiMapUpdateNotif 5.30.5.2.3 Represents the notification data of they update
of DNAI Mapping information.  
DnaiEasAddrMap 5.30.5.2.4 Represents the mapping information between the DNAI
and EAS IP address(es)/ range.
* * *
Table 5.30.5.1-2 specifies data types re-used by the DNAIMapping API from
other specifications, including a reference to their respective
specifications, and when needed, a short description of their use within the
DNAIMapping API.
Table 5.30.5.1-2: Re-used Data Types
* * *
Data type Reference Comments Applicability DateTime 3GPP TS 29.122 [4]
Represents a date and a time.  
Dnai 3GPP TS 29.571 [8] Identifies a DNAI.  
Dnn 3GPP TS 29.571 [8] Identifies the DNN.  
Fqdn 3GPP TS 29.571 [8] Identifies an FQDN.  
IpAddr 3GPP TS 29.571 [8] Identifes an IP address.  
ReportingInformation 3GPP TS 29.523 [22] Represents the event reporting
requirements.  
Snssai 3GPP TS 29.571 [8] Identifies an S-NSSAI.  
SupportedFeatures 3GPP TS 29.571 [8] Represents the list of supported
feature(s) and used to negotiate the applicability of the optional features.  
Uri 3GPP TS 29.122 [4] Contains a URI.  
WebsockNotifConfig 3GPP TS 29.122 [4] Contains the configuration parameters to
set up notification delivery over Websocket protocol.
* * *
#### 5.30.5.2 Structured data types
##### 5.30.5.2.1 Introduction
This clause defines the structures to be used in resource representations.
##### 5.30.5.2.2 Type: DnaiMapSub
Table 5.30.5.2.2-1: Definition of type DnaiMapSub
+-----------+-----------+---+-----------+-----------+-----------+ | Attribute | Data type | P | Ca | De | Appl | | name | | | rdinality | scription | icability | +-----------+-----------+---+-----------+-----------+-----------+ | e | arra | C | 1..N | IP | | | asIpAddrs | y(IpAddr) | | | ad | | | | | | | dress(es) | | | | | | | of the | | | | | | | EASs in | | | | | | | the Local | | | | | | | part of | | | | | | | the DN or | | | | | | | the IP | | | | | | | address | | | | | | | ranges | | | | | | | (IPv4 | | | | | | | subn | | | | | | | etwork(s) | | | | | | | and/or | | | | | | | IPv6 | | | | | | | p | | | | | | | refix(es) | | | | | | | of the | | | | | | | Local | | | | | | | part of | | | | | | | the DN | | | | | | | where the | | | | | | | EAS is | | | | | | | deployed | | | | | | | for each | | | | | | | DNAI. | | | | | | | | | | | | | | (NOTE) | | +-----------+-----------+---+-----------+-----------+-----------+ | fqdn | Fqdn | C | 1..N | FQDN of | | | | | | | the EAS | | | | | | | in the | | | | | | | Local | | | | | | | part of | | | | | | | the DN | | | | | | | where the | | | | | | | EAS is | | | | | | | deployed | | | | | | | for each | | | | | | | DNAI. | | | | | | | | | | | | | | (NOTE) | | +-----------+-----------+---+-----------+-----------+-----------+ | dnn | Dnn | O | 0..1 | I | | | | | | | dentifies | | | | | | | a DNN, a | | | | | | | full DNN | | | | | | | with both | | | | | | | the | | | | | | | Network | | | | | | | I | | | | | | | dentifier | | | | | | | and | | | | | | | Operator | | | | | | | Id | | | | | | | entifier, | | | | | | | or a DNN | | | | | | | with the | | | | | | | Network | | | | | | | I | | | | | | | dentifier | | | | | | | only. | | +-----------+-----------+---+-----------+-----------+-----------+ | snssai | Snssai | O | 0..1 | I | | | | | | | dentifies | | | | | | | an | | | | | | | S-NSSAI. | | +-----------+-----------+---+-----------+-----------+-----------+ | dnai | Dnai | O | 0..1 | I | | | | | | | dentifies | | | | | | | a DNAI. | | | | | | | | | | | | | | It shall | | | | | | | be | | | | | | | included | | | | | | | in a | | | | | | | sub | | | | | | | scription | | | | | | | response | | | | | | | if it is | | | | | | | a | | | | | | | vailable. | | +-----------+-----------+---+-----------+-----------+-----------+ | eventReq | Re | O | 0..1 | Indicates | | | | portingIn | | | the event | | | | formation | | | reporting | | | | | | | requ | | | | | | | irements. | | +-----------+-----------+---+-----------+-----------+-----------+ | notifUri | Uri | M | 1 | R | | | | | | | epresents | | | | | | | the | | | | | | | not | | | | | | | ification | | | | | | | URI to be | | | | | | | used for | | | | | | | DNAI | | | | | | | Mapping | | | | | | | in | | | | | | | formation | | | | | | | r | | | | | | | eporting. | | +-----------+-----------+---+-----------+-----------+-----------+ | reque | boolean | O | 0..1 | Set to | Notific | | stTestNot | | | | true by | ation_te | | ification | | | | the AF to | st_event | | | | | | request | | | | | | | the NEF | | | | | | | to send a | | | | | | | test | | | | | | | not | | | | | | | ification | | | | | | | as | | | | | | | defined | | | | | | | in | | | | | | | claus | | | | | | | e 5.2.5.3 | | | | | | | of | | | | | | | 3GP | | | | | | | P TS 29.1 | | | | | | | 22 [4]. | | | | | | | Set to | | | | | | | false or | | | | | | | omitted | | | | | | | o | | | | | | | therwise. | | +-----------+-----------+---+-----------+-----------+-----------+ | websockNo | WebsockNo | O | 0..1 | Conf | Notif | | tifConfig | tifConfig | | | iguration | ication_ | | | | | | p | websocket | | | | | | arameters | | | | | | | to set up | | | | | | | not | | | | | | | ification | | | | | | | delivery | | | | | | | over | | | | | | | Websocket | | | | | | | protocol. | | +-----------+-----------+---+-----------+-----------+-----------+ | suppFeat | Supporte | C | 0..1 | Indicates | | | | dFeatures | | | the list | | | | | | | of | | | | | | | Supported | | | | | | | features | | | | | | | used as | | | | | | | described | | | | | | | in | | | | | | | claus | | | | | | | e 5.30.4. | | | | | | | | | | | | | | This | | | | | | | attribute | | | | | | | shall be | | | | | | | provided | | | | | | | in the | | | | | | | POST | | | | | | | request | | | | | | | and in | | | | | | | the | | | | | | | response | | | | | | | of | | | | | | | s | | | | | | | uccessful | | | | | | | resource | | | | | | | creation. | | +-----------+-----------+---+-----------+-----------+-----------+ | NOTE: One | | | | | | | of | | | | | | | \"eas | | | | | | | IpAddrs\" | | | | | | | or | | | | | | | \"fqdn\" | | | | | | | attribute | | | | | | | shall be | | | | | | | provided. | | | | | | +-----------+-----------+---+-----------+-----------+-----------+
##### 5.30.5.2.3 Type: DnaiMapUpdateNotif
Table 5.30.5.2.3-1: Definition of type DnaiMapUpdateNotif
* * *
Attribute name Data type P Cardinality Description Applicability
dnaiEasAddrMap array(DnaiEasAddrMap) M 1..N Repsent the mapping information
between DNAI(s) and EAS address(es).
* * *
##### 5.30.5.2.4 Type: DnaiEasAddrMap
Table 5.30.5.2.4-1: Definition of type DnaiEasAddrMap
* * *
Attribute name Data type P Cardinality Description Applicability dnai Dnai M 1
Repsent DNAI of the Eas.  
easIpAddrs array(IpAddr) M 1..N IP address(es) of the EASs in the Local part
of the DN or the IP address ranges (IPv4 subnetwork(s) and/or IPv6 prefix(es)
of the Local part of the DN where the EAS is deployed for each DNAI.
* * *
#### 5.30.5.3 Simple data types and enumerations
##### 5.30.5.3.1 Introduction
This clause defines simple data types and enumerations that can be referenced
from data structures defined in the previous clauses.
##### 5.30.5.3.2 Simple data types
The simple data types defined in table 5.30.5.3.2-1 shall be supported.
Table 5.30.5.3.2-1: Simple data types
* * *
Type Name Type Definition Description Applicability
* * *
### 5.30.6 Used Features
The table below defines the features applicable to the DNAIMapping API. Those
features are negotiated as described in clause 5.2.7 of 3GPP TS 29.122 [4].
Table 5.30.6-1: Features used by DNAIMapping API
* * *
Feature number Feature Name Description 1 Notification_websocket The delivery
of notifications over Websocket is supported as described in 3GPP TS 29.122
[4]. This feature requires that the Notification_test_event feature is also
supported. 2 Notification_test_event The testing of notification connection is
supported as described in 3GPP TS 29.122 [4].
* * *
### 5.30.7 Error handling
#### 5.30.7.1 General
HTTP error handling shall be supported as specified in clause 5.2.6 of 3GPP TS
29.122 [4].
In addition, the requirements in the following clauses shall apply.
#### 5.30.7.2 Protocol Errors
In this Release of the specification, there are no additional protocol errors
applicable for the DNAIMapping API.
#### 5.30.7.3 Application Errors
The application errors defined for the DNAIMapping API are listed in table
5.30.7.3-1.
Table 5.30.7.3-1: Application errors
* * *
Application Error HTTP status code Description
* * *
## 5.31 PdtqPolicyNegotiation API
### 5.31.1 Resources
#### 5.31.1.1 Overview
All resource URIs of this API should have the following root:
**{apiRoot}/3gpp-pdtq-policy-negotiation/v1**
\"apiRoot\" is set as described in clause 5.2.4 in 3GPP TS 29.122 [4].
\"apiName\" shall be set to \"3gpp-pdtq-policy-negotiation\" and
\"apiVersion\" shall be set to \"v1\" for the current version defined in the
present document. All resource URIs in the clauses below are defined relative
to the above root URI.
This clause describes the structure for the Resource URIs as shown in figure
5.31.1.1-1 and the resources and HTTP methods used for the
PdtqPolicyNegotiation API.
Figure 5.31.1.1-1: Resource URI structure of the PdtqPolicyNegotiation API
Table 5.31.1.1-1 provides an overview of the resources and HTTP methods
applicable for the PdtqPolicyNegotiation API.
Table 5.31.1.1-1: Resources and methods overview
* * *
Resource name Resource URI HTTP method Description PDTQ Policy Subscriptions
/{afId}/subscriptions GET Read all active PDTQ Policy Subscription resources
for a given AF. POST Create a new PDTQ Policy Subscription resource.
Individual PDTQ Policy Subscription /{afId}/subscriptions/{subscriptionId} GET
Read a PDTQ Policy Subscription resource. PATCH Modify a PDTQ Policy
Subscription resource. DELETE Delete a PDTQ Policy Subscription resource.
* * *
#### 5.31.1.2 Resource: PDTQ Policy Subscriptions
##### 5.31.1.2.1 Introduction
This resource allows an AF to read all active PDTQ policy subscriptions for
the given AF.
##### 5.31.1.2.2 Resource Definition
Resource URI: **{apiRoot}/3gpp-pdtq-policy-
negotiation/v1/{afId}/subscriptions**
This resource shall support the resource URI variables defined in table
5.31.1.2.2-1.
Table 5.31.1.2.2-1: Resource URI variables for this resource
* * *
Name Data type Definition apiRoot string Clause 5.2.4 of 3GPP TS 29.122 [4].
afId string Identifier of the AF.
* * *
##### 5.31.1.2.3 Resource Methods
###### 5.31.1.2.3.1 General
The following clauses specify the resource methods supported by the resource
as described in clause 5.31.1.2.2.
###### 5.31.1.2.3.2 GET
The GET method allows to read all active PDTQ subscriptions for a given AF.
The AF shall initiate the HTTP GET request message and the NEF shall respond
to the message.
This method shall support the URI query parameters specified in table
5.31.1.2.3.2-1.
Table 5.31.1.2.3.2-1: URI query parameters supported by the GET method on this
resource
* * *
Name Data type P Cardinality Description N/A
* * *
This method shall support the request data structures specified in table
5.31.1.2.3.2-2 and the response data structures and response codes specified
in table 5.31.1.2.3.2-3.
Table 5.31.1.2.3.2-2: Data structures supported by the GET Request Body on
this resource
* * *
Data type P Cardinality Description N/A
* * *
Table 5.31.1.2.3.2-3: Data structures supported by the GET Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | array(Pdtq) | M | 1..N | 200 OK | The resource | | | | | | information | | | | | | for the AF in | | | | | | the request | | | | | | URI is | | | | | | returned. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 307 Temporary | Temporary | | | | | Redirect | redirection, | | | | | | during | | | | | | subscription | | | | | | retrieval. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 308 Permanent | Permanent | | | | | Redirect | redirection, | | | | | | during | | | | | | subscription | | | | | | retrieval. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the GET | | | | | | method listed | | | | | | in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.31.1.2.3.2-4: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
Table 5.31.1.2.3.2-5: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
###### 5.31.1.2.3.3 POST
The POST method creates a new Individual PDTQ policy subscription resource for
a given AF. The AF shall initiate the HTTP POST request message and the NEF
shall respond to the message.
This method shall support the request data structures specified in table
5.31.1.2.3.3-1 and the response data structures and response codes specified
in table 5.31.1.2.3.3-2.
Table 5.31.1.2.3.3-1: Data structures supported by the POST Request Body on
this resource
* * *
Data type P Cardinality Description Pdtq M 1 Contains information for the
creation of a new Individual PDTQ Policy Subscription resource.
* * *
Table 5.31.1.2.3.3-2: Data structures supported by the POST Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | Pdtq | M | 1 | 201 Created | The | | | | | | subscription | | | | | | was created | | | | | | successfully. | | | | | | | | | | | | An Individual | | | | | | PDTQ Policy | | | | | | Subscription | | | | | | resource is | | | | | | created and a | | | | | | r | | | | | | epresentation | | | | | | of that | | | | | | resource is | | | | | | returned. | | | | | | | | | | | | The URI of | | | | | | the created | | | | | | resource | | | | | | shall be | | | | | | returned in | | | | | | the | | | | | | \"Location\" | | | | | | HTTP header. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the POST | | | | | | method listed | | | | | | in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.31.1.2.3.3-3: Headers supported by the 201 Response Code on this
resource
+----------+-----------+---+-------------+--------------------+ | Name | Data type | P | Cardinality | Description | +----------+-----------+---+-------------+--------------------+ | Location | string | M | 1 | Contains the URI | | | | | | of the newly | | | | | | created resource, | | | | | | according to the | | | | | | structure: | | | | | | | | | | | | {apiRoo | | | | | | t}/3gpp-pdtq-polic | | | | | | y-negotiation/v1/{ | | | | | | afId}/subscription | | | | | | s/{subscriptionId} | +----------+-----------+---+-------------+--------------------+
#### 5.31.1.3 Resource: Individual PDTQ Policy Subscription
##### 5.31.1.3.1 Introduction
This resource allows an AF to read, modify or delete an active subscription of
PDTQ Policy Subscription.
##### 5.31.1.3.2 Resource Definition
Resource URI: **{apiRoot}/3gpp-pdtq-policy-
negotiation/v1/{afId}/subscriptions/{subscriptionId}**
This resource shall support the resource URI variables defined in table
5.31.1.3.2-1.
Table 5.31.1.3.2-1: Resource URI variables for this resource
* * *
Name Data type Definition apiRoot string Clause 5.2.4 of 3GPP TS 29.122 [4].
afId string Identifier of the AF. subscriptionId string Identifier of the
subscription resource.
* * *
##### 5.31.1.3.3 Resource Methods
###### 5.31.1.3.3.1 General
The following clauses specify the resource methods supported by the resource
as described in clause 5.31.1.3.2.
###### 5.31.1.3.3.2 GET
The GET method allows to read an individual PDTQ Policy Subscription resource
to obtain details of an active resource PDTQ Policy Subscription. The AF shall
initiate the HTTP GET request message and the NEF shall respond to the
message.
This method shall support the URI query parameters specified in table
5.31.1.3.3.2-1.
Table 5.31.1.3.3.2-1: URI query parameters supported by the GET method on this
resource
* * *
Name Data type P Cardinality Description N/A
* * *
This method shall support the request data structures specified in table
5.31.1.3.3.2-2 and the response data structures and response codes specified
in table 5.31.1.3.3.2-3.
Table 5.31.1.3.3.2-2: Data structures supported by the GET Request Body on
this resource
* * *
Data type P Cardinality Description N/A
* * *
Table 5.31.1.3.3.2-3: Data structures supported by the GET Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | Pdtq | M | 1 | 200 OK | The | | | | | | subscription | | | | | | information | | | | | | for the AF in | | | | | | the request | | | | | | URI is | | | | | | returned. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 307 Temporary | Temporary | | | | | Redirect | redirection, | | | | | | during | | | | | | subscription | | | | | | retrieval. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 308 Permanent | Permanent | | | | | Redirect | redirection, | | | | | | during | | | | | | subscription | | | | | | retrieval. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the GET | | | | | | method listed | | | | | | in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.31.1.3.3.2-4: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
Table 5.31.1.3.3.2-5: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
###### 5.31.1.3.3.3 PATCH
The PATCH method allows the AF to modify an existing subscription resource, in
order to notify the NEF about the selected PDTQ policy and/or enable warning
notification. The AF shall initiate the HTTP PATCH message and the NEF shall
respond to the message.
This method shall support the request data structures specified in table
5.31.1.3.3.3-1 and the response data structures and response codes specified
in table 5.31.1.3.3.3-2.
Table 5.31.1.3.3.3-1: Data structures supported by the PATCH Request Body on
this resource
* * *
Data type P Cardinality Description PdtqPatch M 1 Updated PDTQ policy
information.
* * *
Table 5.31.1.3.3.3-2: Data structures supported by the PATCH Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | Pdtq | M | 1 | 200 OK | The | | | | | | subscription | | | | | | was modified | | | | | | successfully. | | | | | | | | | | | | The NEF shall | | | | | | return an | | | | | | updated | | | | | | subscription | | | | | | in the | | | | | | response | | | | | | payload body. | +---------------+---+-------------+---------------+---------------+ | n/a | | | 204 No | The | | | | | Content | subscription | | | | | | was modified | | | | | | successfully. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 307 Temporary | Temporary | | | | | Redirect | redirection, | | | | | | during | | | | | | subscription | | | | | | modification. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 308 Permanent | Permanent | | | | | Redirect | redirection, | | | | | | during | | | | | | subscription | | | | | | modification. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the PATCH | | | | | | method listed | | | | | | in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.31.1.3.3.3-3: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
Table 5.31.1.3.3.3-4: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
###### 5.31.1.3.3.4 DELETE
The DELETE method deletes the resource and terminates the PDTQ Policy
Subscription. The AF shall initiate the HTTP DELETE message and the NEF shall
respond to the message.
This method shall support the URI query parameters specified in table
5.31.1.3.3.4.-1.
Table 5.31.1.3.3.4-1: URI query parameters supported by the DELETE method on
this resource
* * *
Name Data type P Cardinality Description N/A
* * *
This method shall support the request data structures specified in table
5.31.1.3.3.4-2 and the response data structures and response codes specified
in table 5.31.1.3.3.4-3.
Table 5.31.1.3.3.4-2: Data structures supported by the DELETE Request Body on
this resource
* * *
Data type P Cardinality Description N/A
* * *
Table 5.31.1.3.3.4-3: Data structures supported by the DELETE Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | N/A | | | 204 No | The | | | | | Content | subscription | | | | | | was | | | | | | terminated | | | | | | successfully. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 307 Temporary | Temporary | | | | | Redirect | redirection, | | | | | | during | | | | | | subscription | | | | | | termination. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | N/A | | | 308 Permanent | Permanent | | | | | Redirect | redirection, | | | | | | during | | | | | | subscription | | | | | | termination. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the | | | | | | DELETE method | | | | | | listed in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.31.1.3.3.4-4: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
Table 5.31.1.3.3.4-5: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
### 5.31.2 Notifications
#### 5.31.2.1 Introduction
The notifications provided by the PdtqPolicyNegotiation API are specified in
this clause.
Table 5.31.2.1-1: Notifications overview
+----------------+----------------+----------------+----------------+ | Notification | Callback URI | HTTP method or | Description | | | | custom | | | | | operation | (service | | | | | operation) | +----------------+----------------+----------------+----------------+ | PDTQ Warning | {notificati | POST | Notify the | | Notification | onDestination} | | PDTQ warning | | | | | from the NEF | | | | | to the AF | | | | | identified by | | | | | the | | | | | notification | | | | | destination | | | | | URI. | +----------------+----------------+----------------+----------------+
The NEF and the AF shall support the notification mechanism as described in
clause 5.2.5 of 3GPP TS 29.122 [4].
#### 5.31.2.2 PDTQ Warning Notification
##### 5.31.2.2.1 Description
The PDTQ warning notification is used by the NEF to notify the AF about
changed conditions for a planned data transfer with QoS requirements e.g. that
a network performance in the area of interest goes below the criteria set by
the operator.
##### 5.31.2.2.2 Target URI
The Callback URI \"{**notificationDestination**}\" shall be used with the
callback URI variables defined in table 5.31.2.2.2-1.
Table 5.31.2.2.2-1: Callback URI variables
+-------------------------+-----------+---------------------------+ | Name | Data type | Definition | +-------------------------+-----------+---------------------------+ | notificationDestination | Link | Reference provided by the | | | | AF when the AF requests | | | | to send a PDTQ warning | | | | notification when the | | | | network performance in | | | | the area of interest goes | | | | below the criteria set by | | | | the operator. | | | | | | | | This URI shall be | | | | provided within the | | | | \" | | | | notificationDestination\" | | | | attribute in the Pdtq | | | | data type. | +-------------------------+-----------+---------------------------+
##### 5.31.2.2.3 Operation Definition
###### 5.31.2.2.3.1 Notification via POST
The POST method allows to notify AF identified by the notification destination
URI of the PDTQ warning by the NEF and the AF shall respond to the message.
This method shall support the request data structures specified in table
5.31.2.2.3.1-1 and the response data structures and response codes specified
in table 5.31.2.2.3.1-2.
Table 5.31.2.2.3.1-1: Data structures supported by the POST Request Body
* * *
Data type Cardinality Description Notification 1 Representation of the PDTQ
warning notification.
* * *
Table 5.31.2.2.3.1-2: Data structures supported by the POST Response Body
+-----------------+-------------+-----------------+-----------------+ | Data type | Cardinality | Response codes | Description | +-----------------+-------------+-----------------+-----------------+ | none | | 204 No Content | This case | | | | | represents a | | | | | successful | | | | | notification of | | | | | PDTQ warning | | | | | notification. | +-----------------+-------------+-----------------+-----------------+ | none | | 307 Temporary | Temporary | | | | Redirect | redirection, | | | | | during event | | | | | notification. | | | | | The response | | | | | shall include a | | | | | Location header | | | | | field | | | | | containing an | | | | | alternative URI | | | | | representing | | | | | the end point | | | | | of an | | | | | alternative AF | | | | | where the | | | | | notification | | | | | should be sent. | | | | | | | | | | Redirection | | | | | handling is | | | | | described in | | | | | clause 5.2.10. | +-----------------+-------------+-----------------+-----------------+ | none | | 308 Permanent | Permanent | | | | Redirect | redirection, | | | | | during event | | | | | notification. | | | | | The response | | | | | shall include a | | | | | Location header | | | | | field | | | | | containing an | | | | | alternative URI | | | | | representing | | | | | the end point | | | | | of an | | | | | alternative AF | | | | | where the | | | | | notification | | | | | should be sent. | | | | | | | | | | Redirection | | | | | handling is | | | | | described in | | | | | clause 5.2.10. | +-----------------+-------------+-----------------+-----------------+ | NOTE: The | | | | | mandatory HTTP | | | | | error status | | | | | codes for the | | | | | POST method | | | | | listed in | | | | | table 5.2.6-1 | | | | | also apply. | | | | +-----------------+-------------+-----------------+-----------------+
Table 5.31.2.2.3.1-3: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI representing the end point of an alternative AF towards which the
notification should be redirected.
* * *
Table 5.31.2.2.3.1-4: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI representing the end point of an alternative AF towards which the
notification should be redirected.
* * *
### 5.31.3 Data Model
#### 5.31.3.1 General
This clause specifies the application data model supported by the
PdtqPolicyNegotiation API.
Table 5.31.3.1-1 specifies the data types defined for the
PdtqPolicyNegotiation API.
Table 5.31.3.1-1: PdtqPolicyNegotiation API specific Data Types
* * *
Data type Clause defined Description Applicability Notification 5.31.3.3.4
Represents a PDTQ related notification.  
Pdtq 5.31.3.3.2 Represents a PDTQ policy subscription.  
PdtqPatch 5.31.3.3.3 Represents the modification of an individual PDTQ policy
subscription.
* * *
#### 5.31.3.2 Reused data types
The data types reused by the PdtqPolicyNegotiation API from other
specifications are listed in table 5.31.3.2-1.
Table 5.31.3.2-1: Re-used Data Types
* * *
Data type Reference Comments AltQosParamSet 3GPP TS 29.543 [68] Contains the
alternative QoS requirements expressed as the list of individual QoS parameter
sets. ApplicationId 3GPP TS 29.571 [8] Contains the application identifier.
LocationArea5G 3GPP TS 29.122 [4] Contains user location area information.
PdtqPolicy 3GPP TS 29.543 [68] Represents the PDTQ policy. PdtqReferenceId
3GPP TS 29.543 [68] Represents a PDTQ Reference ID. QosParamSet 3GPP TS 29.543
[68] Contains the QoS requirements expressed as one or more individual QoS
parameters. SupportedFeatures 3GPP TS 29.571 [8] Represents the list of
supported feature(s) and is used to negotiate the applicability of the
optional features. TimeWindow 3GPP TS 29.122 [4] Represents a start time and a
stop time of a time window.
* * *
#### 5.31.3.3 Structured data types
##### 5.31.3.3.1 Introduction
This clause defines the structured data types to be used in resource
representations.
##### 5.31.3.3.2 Type: Pdtq
This type represents a PDTQ Policy Subscription.
Table 5.31.3.3.2-1: Definition of type Pdtq
+-----------+-----------+---+-----------+-----------+-----------+ | Attribute | Data type | P | Ca | De | Appl | | name | | | rdinality | scription | icability | | | | | | | | | | | | | | (NOTE 1) | +-----------+-----------+---+-----------+-----------+-----------+ | altQos | arr | O | 1..N | Contains | | | ParamSets | ay(AltQos | | | the | | | | ParamSet) | | | al | | | | | | | ternative | | | | | | | QoS | | | | | | | req | | | | | | | uirements | | | | | | | expressed | | | | | | | as the | | | | | | | list of | | | | | | | i | | | | | | | ndividual | | | | | | | QoS | | | | | | | parameter | | | | | | | sets in a | | | | | | | pr | | | | | | | ioritized | | | | | | | order. | | | | | | | | | | | | | | The lower | | | | | | | the index | | | | | | | of the | | | | | | | array for | | | | | | | a given | | | | | | | entry, | | | | | | | the | | | | | | | higher | | | | | | | the | | | | | | | priority. | | | | | | | | | | | | | | (NOTE 4) | | +-----------+-----------+---+-----------+-----------+-----------+ | a | arra | O | 1..N | Contains | | | ltQosRefs | y(string) | | | the | | | | | | | al | | | | | | | ternative | | | | | | | QoS | | | | | | | req | | | | | | | uirements | | | | | | | expressed | | | | | | | as the | | | | | | | list of | | | | | | | QoS | | | | | | | R | | | | | | | eferences | | | | | | | in a | | | | | | | pr | | | | | | | ioritized | | | | | | | order. | | | | | | | | | | | | | | The lower | | | | | | | the index | | | | | | | of the | | | | | | | array for | | | | | | | a given | | | | | | | entry, | | | | | | | the | | | | | | | higher | | | | | | | the | | | | | | | priority. | | | | | | | | | | | | | | (NOTE 3) | | +-----------+-----------+---+-----------+-----------+-----------+ | appId | Appl | O | 0..1 | Contains | | | | icationId | | | an | | | | | | | ap | | | | | | | plication | | | | | | | id | | | | | | | entifier. | | +-----------+-----------+---+-----------+-----------+-----------+ | aspId | string | M | 1 | Contains | | | | | | | an | | | | | | | identity | | | | | | | of an | | | | | | | ap | | | | | | | plication | | | | | | | service | | | | | | | provider. | | +-----------+-----------+---+-----------+-----------+-----------+ | de | array(Ti | M | 1..N | I | | | sTimeInts | meWindow) | | | dentifies | | | | | | | the time | | | | | | | int | | | | | | | erval(s). | | +-----------+-----------+---+-----------+-----------+-----------+ | locat | Locat | O | 0..1 | I | | | ionArea5G | ionArea5G | | | dentifies | | | | | | | the area | | | | | | | within | | | | | | | which the | | | | | | | AF | | | | | | | requests | | | | | | | the | | | | | | | number of | | | | | | | UE. | | +-----------+-----------+---+-----------+-----------+-----------+ | notif | Link | O | 0..1 | Contains | | | icationDe | | | | the URI | | | stination | | | | to | | | | | | | receive | | | | | | | the PDTQ | | | | | | | not | | | | | | | ification | | | | | | | from the | | | | | | | NEF. | | +-----------+-----------+---+-----------+-----------+-----------+ | nu | integer | M | 1 | I | | | mberOfUEs | | | | dentifies | | | | | | | the | | | | | | | number of | | | | | | | UEs. | | +-----------+-----------+---+-----------+-----------+-----------+ | pdt | array(Pd | O | 1..N | I | | | qPolicies | tqPolicy) | | | dentifies | | | | | | | the PDTQ | | | | | | | policies. | | +-----------+-----------+---+-----------+-----------+-----------+ | qo | QosPar | C | 0..1 | Contains | | | sParamSet | ameterSet | | | the | | | | | | | requested | | | | | | | QoS | | | | | | | req | | | | | | | uirements | | | | | | | expressed | | | | | | | as one or | | | | | | | more | | | | | | | i | | | | | | | ndividual | | | | | | | QoS | | | | | | | pa | | | | | | | rameters. | | | | | | | | | | | | | | (NOTE 2) | | +-----------+-----------+---+-----------+-----------+-----------+ | qos | string | C | 0..1 | Contains | | | Reference | | | | the | | | | | | | requested | | | | | | | QoS | | | | | | | req | | | | | | | uirements | | | | | | | expressed | | | | | | | as the | | | | | | | QoS | | | | | | | Reference | | | | | | | which | | | | | | | r | | | | | | | epresents | | | | | | | a | | | | | | | pr | | | | | | | e-defined | | | | | | | QoS | | | | | | | inf | | | | | | | ormation. | | | | | | | | | | | | | | (NOTE 2) | | +-----------+-----------+---+-----------+-----------+-----------+ | re | PdtqRe | O | 0..1 | I | | | ferenceId | ferenceId | | | dentifies | | | | | | | the PDTQ | | | | | | | policies | | | | | | | of | | | | | | | planned | | | | | | | data | | | | | | | transfer | | | | | | | with QoS | | | | | | | req | | | | | | | uirements | | | | | | | for an | | | | | | | AF. | | +-----------+-----------+---+-----------+-----------+-----------+ | selec | integer | O | 0..1 | Contains | | | tedPolicy | | | | the | | | | | | | identity | | | | | | | of the | | | | | | | selected | | | | | | | PDTQ | | | | | | | policy. | | | | | | | | | | | | | | Shall not | | | | | | | be | | | | | | | present | | | | | | | in | | | | | | | initial | | | | | | | message | | | | | | | exchange, | | | | | | | can be | | | | | | | provided | | | | | | | by NF | | | | | | | service | | | | | | | consumer | | | | | | | in a | | | | | | | s | | | | | | | ubsequent | | | | | | | message | | | | | | | exchange. | | | | | | | (NOTE 5) | | +-----------+-----------+---+-----------+-----------+-----------+ | self | Link | O | 0..1 | Link to | | | | | | | the | | | | | | | resource | | | | | | | \"I | | | | | | | ndividual | | | | | | | PDTQ | | | | | | | Subscr | | | | | | | iption\". | | | | | | | This | | | | | | | parameter | | | | | | | shall be | | | | | | | supplied | | | | | | | by the | | | | | | | NEF in | | | | | | | HTTP | | | | | | | r | | | | | | | esponses. | | +-----------+-----------+---+-----------+-----------+-----------+ | supporte | Supporte | O | 0..1 | Used to | | | dFeatures | dFeatures | | | negotiate | | | | | | | the | | | | | | | supported | | | | | | | optional | | | | | | | features | | | | | | | of the | | | | | | | API as | | | | | | | described | | | | | | | in | | | | | | | claus | | | | | | | e 5.31.4. | | | | | | | | | | | | | | This | | | | | | | attribute | | | | | | | shall be | | | | | | | provided | | | | | | | in the | | | | | | | POST | | | | | | | request | | | | | | | and in | | | | | | | the | | | | | | | response | | | | | | | of | | | | | | | s | | | | | | | uccessful | | | | | | | resource | | | | | | | creation. | | +-----------+-----------+---+-----------+-----------+-----------+ | warnNot | boolean | O | 0..1 | Indicates | | | ifEnabled | | | | whether | | | | | | | the PDTQ | | | | | | | warning | | | | | | | not | | | | | | | ification | | | | | | | is | | | | | | | enabled | | | | | | | or not. | | | | | | | | | | | | | | If it is | | | | | | | set to | | | | | | | true, the | | | | | | | PDTQ | | | | | | | warning | | | | | | | not | | | | | | | ification | | | | | | | is | | | | | | | enabled; | | | | | | | if it is | | | | | | | set to | | | | | | | false or | | | | | | | absent, | | | | | | | the PDTQ | | | | | | | warning | | | | | | | not | | | | | | | ification | | | | | | | is | | | | | | | disabled. | | +-----------+-----------+---+-----------+-----------+-----------+ | NOTE 1: | | | | | | | P | | | | | | | roperties | | | | | | | marked | | | | | | | with a | | | | | | | feature | | | | | | | as | | | | | | | defined | | | | | | | in | | | | | | | clau | | | | | | | se 5.31.4 | | | | | | | are | | | | | | | a | | | | | | | pplicable | | | | | | | as | | | | | | | described | | | | | | | in | | | | | | | cla | | | | | | | use 5.2.7 | | | | | | | of | | | | | | | 3G | | | | | | | PP TS 29. | | | | | | | 122[4]. | | | | | | | If no | | | | | | | feature | | | | | | | is | | | | | | | i | | | | | | | ndicated, | | | | | | | the | | | | | | | related | | | | | | | property | | | | | | | applies | | | | | | | for all | | | | | | | the | | | | | | | features. | | | | | | | | | | | | | | NOTE 2: | | | | | | | Either | | | | | | | the | | | | | | | \"qosRe | | | | | | | ference\" | | | | | | | attribute | | | | | | | or the | | | | | | | \"qosP | | | | | | | aramSet\" | | | | | | | attribute | | | | | | | shall be | | | | | | | included. | | | | | | | | | | | | | | NOTE 3: | | | | | | | The | | | | | | | \"alt | | | | | | | QosRefs\" | | | | | | | attribute | | | | | | | may be | | | | | | | included | | | | | | | only if | | | | | | | the | | | | | | | \"qosRe | | | | | | | ference\" | | | | | | | attribute | | | | | | | is | | | | | | | included. | | | | | | | | | | | | | | NOTE 4: | | | | | | | The | | | | | | | \ | | | | | | | "altQosPa | | | | | | | ramSets\" | | | | | | | attribute | | | | | | | may be | | | | | | | included | | | | | | | only if | | | | | | | the | | | | | | | \"qosP | | | | | | | aramSet\" | | | | | | | attribute | | | | | | | is | | | | | | | included. | | | | | | | | | | | | | | NOTE 5: | | | | | | | The value | | | | | | | \"0\" | | | | | | | indicates | | | | | | | that no | | | | | | | PDTQ | | | | | | | policy is | | | | | | | selected. | | | | | | +-----------+-----------+---+-----------+-----------+-----------+
##### 5.31.3.3.3 Type: PdtqPatch
This type represents the updated PDTQ information provided by the AF to the
NEF. The structure is used for HTTP PATCH request.
Table 5.31.3.3.3-1: Definition of type PdtqPatch
+-----------+-----------+---+-----------+-----------+-----------+ | Attribute | Data type | P | Ca | De | Appl | | name | | | rdinality | scription | icability | +-----------+-----------+---+-----------+-----------+-----------+ | selec | integer | O | 0..1 | Identity | | | tedPolicy | | | | of the | | | | | | | selected | | | | | | | PDTQ | | | | | | | policy. | | | | | | | | | | | | | | (NOTE) | | +-----------+-----------+---+-----------+-----------+-----------+ | warnNot | boolean | O | 0..1 | Indicates | | | ifEnabled | | | | whether | | | | | | | the PDTQ | | | | | | | warning | | | | | | | not | | | | | | | ification | | | | | | | is | | | | | | | enabled. | | | | | | | | | | | | | | - true: | | | | | | | the PDTQ | | | | | | | warning | | | | | | | not | | | | | | | ification | | | | | | | is | | | | | | | enabled; | | | | | | | | | | | | | | - false: | | | | | | | the PDTQ | | | | | | | warning | | | | | | | not | | | | | | | ification | | | | | | | is not | | | | | | | enabled. | | +-----------+-----------+---+-----------+-----------+-----------+ | notif | Link | O | 0..1 | Contains | | | icationDe | | | | the URI | | | stination | | | | to | | | | | | | receive | | | | | | | the PDTQ | | | | | | | policy | | | | | | | not | | | | | | | ification | | | | | | | from the | | | | | | | NEF. | | +-----------+-----------+---+-----------+-----------+-----------+ | NOTE: The | | | | | | | value | | | | | | | \"0\" | | | | | | | indicates | | | | | | | that no | | | | | | | PDTQ | | | | | | | policy is | | | | | | | selected. | | | | | | +-----------+-----------+---+-----------+-----------+-----------+
##### 5.31.3.3.4 Type: Notification
This type represents a PDTQ notification provided by the NEF to the AF. The
structure is used for POST request.
Table 5.31.3.3.4-1: Definition of type Notification
* * *
Attribute name Data type P Cardinality Description Applicability pdtqRefId
PdtqReferenceId M 1 This IE identifies the PDTQ policy to which the
notification corresponds.  
locationArea5G LocationArea5G O 0..1 This IE represents a network area.  
candPolicies array(PdtqPolicy) O 1..N This IE indicates a list of the
candidate PDTQ policies from which the AF may select a new PDTQ policy.
* * *
#### 5.31.3.4 Simple data types and enumerations
##### 5.31.3.4.1 Introduction
This clause defines simple data types and enumerations that can be referenced
from data structures defined in the previous clauses.
##### 5.31.3.4.2 Simple data types
The simple data types defined in table 5.31.3.4.2-1 shall be supported.
Table 5.31.3.4.2-1: Simple data types
* * *
Type Name Type Definition Description Applicability
* * *
### 5.31.4 Used Features
The table below defines the features applicable to the PdtqPolicyNegotiation
API. Those features are negotiated as described in clause 5.2.7 of 3GPP TS
29.122 [4].
Table 5.31.4-1: Features used by PdtqPolicyNegotiation API
* * *
Feature number Feature Name Description
* * *
### 5.31.5 Error handling
#### 5.31.5.1 General
HTTP error handling shall be supported as specified in clause 5.2.6 of 3GPP TS
29.122 [4].
In addition, the requirements in the following clauses shall apply.
#### 5.31.5.2 Protocol Errors
In this Release of the specification, there are no additional protocol errors
applicable for the PdtqPolicyNegotiation API.
#### 5.31.5.3 Application Errors
The application errors defined for PdtqPolicyNegotiation API are listed in
table 5.31.5.3-1.
Table 5.31.5.3-1: Application errors
* * *
Application Error HTTP status code Description Applicability
* * *
## 5.32 MemberUESelectionAssistance API
### 5.32.1 Introduction
The MemberUESelectionAssistance service shall use the
MemberUESelectionAssistance API.
The API URI of MemberUESelectionAssistance API shall be:
{apiRoot}/\/\
The request URIs used in HTTP requests shall have the Resource URI structure
defined in clause 5.2.4 of 3GPP TS 29.122 [2], i.e.:
{apiRoot}/\/\/\
with the following components:
\- \"apiRoot\" is set as defined in clause 5.2.4 of 3GPP TS 29.122 [4].
\- \"apiName\" shall be set to \"3gpp-musa\".
\- \"apiVersion\" shall be set to \"v1\" for the current version defined in
the present document.
All resource URIs in the clauses below are defined relative to the above API
URI.
### 5.32.2 Resources
This clause describes the structure for the Resource URIs as shown in Figure
5.32.2-1 and the resources and HTTP methods used for the
MemberUESelectionAssistance API.
Figure 5.32.2-1: Resource URI structure of the MemberUESelectionAssistance API
Table 5.32.2-1 provides an overview of the resources and applicable HTTP
methods.
Table 5.32.2-1: Resources and methods overview
+----------------+----------------+----------------+----------------+ | Resource name | Resource URI | HTTP method or | Description | | | (relative path | custom | | | | under API URI) | operation | (service | | | | | operation) | +----------------+----------------+----------------+----------------+ | Member UE | /{afId} | POST | Create a new | | Selection | /subscriptions | | subscription | | Assistance | | | to Member UE | | Subscriptions | | | Selection | | | | | Assistance. | +----------------+----------------+----------------+----------------+ | Individual | /{afId}/su | GET | Retreive an | | Member UE | bscriptions/{s | | existing | | Selection | ubscriptionId} | | Individual | | Assistance | | | Member UE | | Subscription | | | Selection | | | | | Assistance | | | | | Subscription | | | | | resource. | +----------------+----------------+----------------+----------------+ | | | PUT | Update an | | | | | existing | | | | | Individual | | | | | Member UE | | | | | Selection | | | | | Assistance | | | | | Subscription | | | | | resource. | +----------------+----------------+----------------+----------------+ | | | DELETE | Delete an | | | | | existing | | | | | Individual | | | | | Member UE | | | | | Selection | | | | | Assistance | | | | | Subscription | | | | | resource. | +----------------+----------------+----------------+----------------+
Editor\'s note: Whether PATCH method is needed is FFS.
#### 5.32.2.2 Resource: Member UE Selection Assistance Subscriptions
##### 5.32.2.2.1 Introduction
This resource allows an AF to create a new Member UE Selection Assistance
subscription resource for a given AF.
##### 5.32.2.2.2 Resource definition
Resource URL: **{apiRoot}/3gpp-musa/v1/{afId}/subscriptions**
This resource shall support the resource URL variables defined in table
5.32.2.2.2-1.
Table 5.32.2.2.2-1: Resource URL variables for this resource
* * *
Name Data type Definition apiRoot string Clause 5.2.4 of 3GPP TS 29.122 [4].
afId string Identifier of the AF.
* * *
##### 5.32.2.2.3 Resource Methods
###### 5.32.2.2.3.1 POST
This method enables an AF to request the creation of a new Member UE Selection
Assistance subscription at the NEF.
This method shall support the URI query parameters specified in table
5.32.2.2.3.1-1.
Table 5.32.2.2.3.1-1: URI query parameters supported by the POST method on
this resource
* * *
Name Data type P Cardinality Description Applicability n/a
* * *
This method shall support the request data structures specified in table
5.32.2.2.3.1-2 and the response data structures and response codes specified
in table 5.32.2.2.3.1-3.
Table 5.32.2.2.3.1-2: Data structures supported by the POST request body on
this resource
* * *
Data type P Cardinality Description MemUeSelectAssistSubsc M 1 Representation
of Member UE Selection Assistance to be created in the NEF.
* * *
Table 5.32.2.2.3.1-3: Data structures supported by the POST response body on
this resource
+---------------+---+-------------+-------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+-------------+---------------+ | MemUeSele | M | 1 | 201 Created | Successful | | ctAssistSubsc | | | | case. A | | | | | | r | | | | | | epresentation | | | | | | of the | | | | | | created | | | | | | Individual | | | | | | Member UE | | | | | | Selection | | | | | | Assistance | | | | | | subscription | | | | | | is returned. | | | | | | | | | | | | The URI of | | | | | | the created | | | | | | resource | | | | | | shall be | | | | | | returned in | | | | | | an HTTP | | | | | | \"Location\" | | | | | | header. | +---------------+---+-------------+-------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the POST | | | | | | method listed | | | | | | in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+-------------+---------------+
Table 5.32.2.2.3.1-4: Headers supported by the 201 response code on this
resource
* * *
HTTP response header Data type P Cardinality Description Location string M 1
The URI of the newly created resource, according to the structure:
{apiRoot}/3gpp-musa/v1/{afId}/subscriptions/{subscriptionId}
* * *
###### 5.32.2.2.3.2 GET
The GET method allows to read all active subscriptions for a given AF. The AF
shall initiate the HTTP GET request message and the NEF shall respond to the
message.
This method shall support the URI query parameters specified in table
5.32.12.2.3.2-1.
Table 5.32.2.2.3.2-1: URI query parameters supported by the GET method on this
resource
* * *
Name Data type P Cardinality Description N/A
* * *
This method shall support the request data structures specified in table
5.32.2.2.3.2-2 and the response data structures and response codes specified
in table 5.32.2.2.3.2-3.
Table 5.32.2.2.3.2-2: Data structures supported by the GET Request Body on
this resource
* * *
Data type P Cardinality Description N/A
* * *
Table 5.32.2.2.3.2-3-3: Data structures supported by the GET Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | arr | M | 0..N | 200 OK | The | | ay(MemUeSelec | | | | subscription | | tAssistSubsc) | | | | information | | | | | | for the AF in | | | | | | the request | | | | | | URI are | | | | | | returned. | +---------------+---+-------------+---------------+---------------+ | n/a | | | 307 Temporary | Temporary | | | | | Redirect | redirection, | | | | | | during | | | | | | subscription | | | | | | retrieval. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | n/a | | | 308 Permanent | Permanent | | | | | Redirect | redirection, | | | | | | during | | | | | | subscription | | | | | | retrieval. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the GET | | | | | | method listed | | | | | | in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.32.2.2.3.2-3-4: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
Table 5.32.2.2.3.2-3-5: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
#### 5.32.2.3 Resource: Individual Member UE Selection Assistance Subscription
##### 5.32.2.3.1 Introduction
This resource represents an Individual Data Reporting Session managed bythe
NEF.
This resource is modelled with the Document resource archetype (see clause C.1
of 3GPP TS 29.501 [3]).
##### 5.32.2.3.2 Resource Definition
Resource URL: **{apiRoot}/3gpp-musa/v1/{afId}/subscriptions/{subscriptionId}**
This resource shall support the resource URI variables defined in table
5.32.2.3.2-1.
Table 5.32.2.3.2-1: Resource URL variables for this resource
* * *
Name Data type Definition apiRoot string Clause 5.2.4 of 3GPP TS 29.122 [4].
afId string Identifier of the AF. subscriptionId string Identifier of the
subscription.
* * *
##### 5.32.2.3.3 Resource standard methods
###### 5.32.2.3.3.1 GET
This method enables an AF to retrieve an existing Individual Member UE
Selection Assistance Subscription resource at the NEF.
This method shall support the URI query parameters specified in table
5.32.2.3.3.1-1.
Table 5.32.2.3.3.1-1: URI query parameters supported by the GET method on this
resource
* * *
Name Data type P Cardinality Description Applicability n/a
* * *
This method shall support the request data structures specified in table
5.32.2.3.3.1-2 and the response data structures and response codes specified
in table 5.32.2.3.3.1-3.
Table 5.32.2.3.3.1-2: Data structures supported by the GET Request Body on
this resource
* * *
Data type P Cardinality Description n/a
* * *
Table 5.32.2.3.3.1-3: Data structures supported by the GET Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | MemUeSele | M | 1 | 200 OK | Successful | | ctAssistSubsc | | | | case. The | | | | | | requested | | | | | | Individual | | | | | | Member UE | | | | | | Selection | | | | | | Assistance | | | | | | Subscription | | | | | | resource is | | | | | | returned to | | | | | | the AF. | +---------------+---+-------------+---------------+---------------+ | n/a | | | 307 Temporary | Temporary | | | | | Redirect | redirection. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | target URI | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | n/a | | | 308 Permanent | Permanent | | | | | Redirect | redirection. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | target URI | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status code | | | | | | for the GET | | | | | | method listed | | | | | | in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.32.2.3.3.1-4: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
target URI located in an alternative NEF.
* * *
Table 5.32.2.3.3.1-5: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
target URI of the resource located in an alternative NEF.
* * *
###### 5.32.2.3.3.2 PUT
This method enables an AF to update an existing Member UE Selection Assistance
Subscription resource at the NEF.
This method shall support the URI query parameters specified in table
5.32.2.3.3.2-1.
Table 5.32.2.3.3.2-1: URI query parameters supported by the PUT method on this
resource
* * *
Name Data type P Cardinality Description
* * *
This method shall support the request data structures specified in table
5.32.2.3.3.2-2 and the response data structures and response codes specified
in table 5.32.2.3.3.2-4.
Table 5.32.2.3.3.2-2: Data structures supported by the PUT request body on
this resource
* * *
Data type P Cardinality Description MemUeSelectAssistSubsc M 1 Parameters to
update the Individual Member UE Selection Assistance Subscription resource.
* * *
Table 5.32.2.3.3.2-3: Data structures supported by the PUT response body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | MemUeSele | M | 1 | 200 OK | The | | ctAssistSubsc | | | | Individual | | | | | | Member UE | | | | | | Selection | | | | | | Assistance | | | | | | Subscription | | | | | | resource was | | | | | | updated | | | | | | successfully | | | | | | and a | | | | | | r | | | | | | epresentation | | | | | | of the | | | | | | created | | | | | | resource is | | | | | | returned in | | | | | | the response | | | | | | body. | +---------------+---+-------------+---------------+---------------+ | n/a | | | 204 No | The | | | | | Content | Individual | | | | | | Member UE | | | | | | Selection | | | | | | Assistance | | | | | | Subscription | | | | | | resource was | | | | | | successfully | | | | | | updated and | | | | | | no content is | | | | | | to be | | | | | | returned in | | | | | | the response | | | | | | body. | +---------------+---+-------------+---------------+---------------+ | n/a | | | 307 Temporary | Temporary | | | | | Redirect | redirection. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | target URI | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | n/a | | | 308 Permanent | Permanent | | | | | Redirect | redirection. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | target URI | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status code | | | | | | for the PUT | | | | | | method listed | | | | | | in | | | | | | Table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.32.2.3.3.2-4: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
Table 5.32.2.3.3.2-5: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
###### 5.32.2.3.3.3 DELETE
This method enables an AF to request the deletion of an Individual Member UE
Selection Assistance Subscription resource at the NEF.
This method shall support the URI query parameters specified in table
5.32.2.3.3.3-1.
Table 5.32.2.3.3.3-1: URI query parameters supported by the DELETE method on
this resource
* * *
Name Data type P Cardinality Description n/a
* * *
This method shall support the request data structures specified in table
5.32.2.3.3.3-2 and the response data structures and response codes specified
in table 5.32.2.3.3.3-3.
Table 5.32.2.3.3.3-2: Data structures supported by the DELETE request body on
this resource
* * *
Data type P Cardinality Description n/a
* * *
Table 5.32.2.3.3.3-3: Data structures supported by the DELETE response body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | Codes | | +---------------+---+-------------+---------------+---------------+ | n/a | | | 204 No | Successful | | | | | Content | response. The | | | | | | Individual | | | | | | Member UE | | | | | | Selection | | | | | | Assistance | | | | | | Subscription | | | | | | resource was | | | | | | successfully | | | | | | deleted. | +---------------+---+-------------+---------------+---------------+ | | | | 307 Temporary | Temporary | | | | | Redirect | redirection. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | target URI | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | | | | 308 Permanent | Permanent | | | | | Redirect | redirection. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | target URI | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | NOTE 1: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status code | | | | | | for the | | | | | | DELETE method | | | | | | listed in | | | | | | Table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.32.2.3.3.3-4: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
Table 5.32.2.3.3.3-5: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
Editor\'s note: Whether PATCH method is needed or not is FFS.
### 5.32.3 Custom Operations without associated resources
There are no custom operations without associated resources defined for this
API in this release of the specification.
### 5.32.4 Notifications
5.32.4.1 General
Notifications shall comply to clause 5.2.5 of 3GPP TS 29.122 [4].
**Table 5.32.4.1-1: Notif** ications overview
+----------------+----------------+----------------+----------------+ | ** | **Callback |** HTTP method | * | | Notification**| URI** | or custom | _Description_ _| | | | operation_ _| | | | | |__(service | | | | | operation)_ * | +----------------+----------------+----------------+----------------+ | Member UE | {notifUri} | POST | Enable the NEF | | Selection | | | to notify an | | Assistance | | | AF of Member | | Notification | | | UE Selection | | | | | Assistance | | | | | information. | +----------------+----------------+----------------+----------------+
5.32.4.2 Member UE Selection Assistance Notification
5.32.4.2.1 Description
This Notification is used by the NEF to report Member UE Selection Assistance
information to a previously subscribed AF.
5.32.4.2.2 Target URI
The Callback URI **"{notifUri}"** shall be used with the callback URI
variables defined in table 5.32.4.2.2-1.
**Table 5.32.4.2.2-1: Callback URI variables**
* * *
**Name** **Definition** notifUri Callback URI provided by the AF during Member
UE Selection Assistance creation/modification.
* * *
5.32.4.2.3 Operation Definition
This method shall support the request data structures specified in table
5.32.4.2.3-1 and the response data structures and response codes specified in
table 5.32.4.2.3-2.
**Table 5.32.4.2.3-1: Data structures supported by the POST Request Body on
this re** source
* * *
**Data type** **P** **Cardinality** **Description** MemUeSeletAssistNotif M 1
Represents the notification on Member UE Selection Assistance information.
* * *
**Table 5.32**.4.2.3-2: Data structures supported by the POST Response Body on
this resource
+--------------+-------+--------------+--------------+--------------+ | **Data |** P**|** C | **Response** | **D | | type** | | ardinality**| | escription** | | | | | **codes** | | +--------------+-------+--------------+--------------+--------------+ | n/a | | | 204 No | The | | | | | Content | notification | | | | | | is | | | | | | successfully | | | | | | received. | +--------------+-------+--------------+--------------+--------------+ | n/a | | | 307 | Temporary | | | | | Temporary | redirection. | | | | | Redirect | The response | | | | | | shall | | | | | | include a | | | | | | Location | | | | | | header field | | | | | | containing | | | | | | an | | | | | | alternative | | | | | | URI | | | | | | representing | | | | | | the end | | | | | | point of an | | | | | | alternative | | | | | | AF towards | | | | | | which the | | | | | | notification | | | | | | should be | | | | | | sent. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | c | | | | | | lause 5.2.10 | | | | | | of | | | | | | 3GPP TS 2 | | | | | | 9.122 [4]. | +--------------+-------+--------------+--------------+--------------+ | n/a | | | 308 | Permanent | | | | | Permanent | redirection. | | | | | Redirect | The response | | | | | | shall | | | | | | include a | | | | | | Location | | | | | | header field | | | | | | containing | | | | | | an | | | | | | alternative | | | | | | URI | | | | | | representing | | | | | | the end | | | | | | point of an | | | | | | alternative | | | | | | AF towards | | | | | | which the | | | | | | notification | | | | | | should be | | | | | | sent. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | c | | | | | | lause 5.2.10 | | | | | | of | | | | | | 3GPP TS 2 | | | | | | 9.122 [4]. | +--------------+-------+--------------+--------------+--------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the POST | | | | | | method | | | | | | listed in | | | | | | t | | | | | | able 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +--------------+-------+--------------+--------------+--------------+
**Table 5.32**.4.2.3-3: Headers supported by the 307 Response Code on this
resource
* * *
**Name** **Data type** **P** **Cardinality** **Description** Location string M
1 An alternative URI representing the end point of an alternative AF towards
which the notification should be redirected.
* * *
**Table 5.32**.4.2.3-4: Headers supported by the 308 Response Code on this
resource
* * *
**Name** **Data type** **P** **Cardinality** **Description** Location string M
1 An alternative URI representing the end point of an alternative AF towards
which the notification should be redirected.
* * *
### 5.32.5 Data Model
#### 5.32.5.1 General
This clause specifies the application data model supported by the
MemberUESelectionAssistance API. Table 5.32.5.1-1 specifies the data types
defined for the MemberUESelectionAssistance API.
Table 5.32.5.1-1: MemberUESelectionAssistance API specific Data Types
* * *
Data type Clause defined Description MemUeSeletAssistNotif 5.32.5.2.3  
MemUeSelectAssistSubsc 5.32.5.2.2
* * *
Table 5.32.5.1-2 specifies data types re-used by the
MemberUESelectionAssistance API from other specifications, including a
reference to their respective specifications, and when needed, a short
description of their use within the MemberUESelectionAssistance API.
Table 5.32.5.1-2: Re-used Data Types
* * *
Data type Reference Comments Applicability  
DateTime 3GPP TS 29.122 [4] Represents a date and a time.  
DurationSec 3GPP TS 29.122 [4] Indicates the time window.  
Gpsi 3GPP TS 29.571 [8] Identifies a GPSI.  
Uri 3GPP TS 29.571 [8] Identifies a referenced resource.
* * *
#### 5.32.5.2 Structured data types
##### 5.32.5.2.1 Introduction
This clause defines the structured data types to be used in resource
representations.
##### 5.32.5.2.2 Type: MemUeSelectAssistSubsc
Table 5.32.5.2.2-1: Definition of type MemUeSelectAssistSubsc
* * *
Attribute name Data type P Cardinality Description Applicability tgtUes
array(Gpsi) M 1..N Identifies the list of UEs for Member Selection Assistance
Reporting.  
notifUri Uri M 1 Notification URI for reporting.  
notifId string M 1 Notification Correlation ID assigned by the AF.  
filterCriters string M 1..N List of filtering criteria  
appId string O 0..1 Identifies an application.  
expTime DateTime O 0..1 Indicates the expiry time.  
timeWins array(DurationSec) O 1..N Indicates the time window for selecting the
candidate UEs.
* * *
Editor\'s note: The data type of \"filterCriters\" attribute is FFS.
Editor\'s note: The data model definitions needs to align with the stage 2
requirement once stable.
##### 5.32.5.2.3 Type: MemUeSeletAssistNotif
Table 5.32.5.2.3-1: Definition of type MemUeSeletAssistNotif
* * *
Attribute name Data type P Cardinality Description Applicability notifId
string M 1 Notification Correlation ID assigned by the AF.  
remdUes array(Gpsi) M 1..N Identifies the list of recommended UEs
* * *
### 5.32.6 Used Features
The table below defines the features applicable to the
MemberUESelectionAssistance API. Those features are negotiated as described in
clause 5.2.7 of 3GPP TS 29.122 [4].
Table 5.32.6-1: Features used by MemberUESelectionAssistance API
* * *
Feature number Feature Name Description
* * *
### 5.32.7 Error handling
#### 5.32.7.1 General
HTTP error handling shall be supported as specified in clause 5.2.6 of 3GPP TS
29.122 [4]. In addition, the requirements in the following clauses shall
apply.
#### 5.32.7.2 Protocol Errors
In this Release of the specification, there are no additional protocol errors
applicable for the MemberUESelectionAssistance API.
#### 5.32.7.3 Application Errors
The application errors defined for the MemberUESelectionAssistance API are
listed in table 5.32.7.3-1.
Table 5.32.7.3-1: Application errors
* * *
Application Error HTTP status code Description
* * *
## 5.33 GroupParametersProvisioning API
### 5.33.1 Introduction
The Nnef_ParameterProvision service shall use the GroupParametersProvisioning
API for:
\- DNN and S-NSSAI specific Group Parameters provisioning.
The API URI of the GroupParametersProvisioning API shall be:
**{apiRoot}/3gpp-grp-pp/\ **
with the following components:
\- \"apiRoot\" is set as defined in clause 5.2.4 of 3GPP TS 29.122 [4].
\- \"apiName\" shall be set to \"3gpp-grp-pp\".
\- \"apiVersion\" shall be set to \"v1\" for the current version defined in
the present document.
All resource URIs in the clauses below are defined relative to the above API
URI.
### 5.33.2 Resources
#### 5.33.2.1 Overview
This clause describes the structure for the Resource URIs as shown in figure
5.33.2.1-1 and the resources and HTTP methods used for the
GroupParametersProvisioning API.
Figure 5.33.2.1-1: Resource URI structure of the GroupParametersProvisioning
API
Table 5.33.2.1-1 provides an overview of the resources and applicable HTTP
methods.
Table 5.33.2.1-1: Resources and methods overview
+----------------+----------------+----------------+----------------+ | Resource name | Resource URI | HTTP method or | Description | | | (relative path | custom | | | | under API URI) | operation | (service | | | | | operation) | +----------------+----------------+----------------+----------------+ | Group | /pp | GET | Retrieve all | | Parameters | | | the active | | Provisionings | | | Group | | | | | Parameters | | | | | Provisionings | | | | | managed by the | | | | | NEF. | +----------------+----------------+----------------+----------------+ | | | POST | Request the | | | | | creation of a | | | | | new Group | | | | | Parameters | | | | | Provisioning | | | | | at the NEF. | +----------------+----------------+----------------+----------------+ | Individual | /pp/{ppId} | GET | Retrieve an | | Group | | | existing | | Parameters | | | \"Individual | | Provisioning | | | Group | | | | | Parameters | | | | | Provisioning\" | | | | | managed by the | | | | | NEF. | +----------------+----------------+----------------+----------------+ | | | PUT | Update an | | | | | existing | | | | | \"Individual | | | | | Group | | | | | Parameters | | | | | Provisioning\" | | | | | managed by the | | | | | NEF. | +----------------+----------------+----------------+----------------+ | | | PATCH | Modify an | | | | | existing | | | | | \"Individual | | | | | Group | | | | | Parameters | | | | | Provisioning\" | | | | | managed by the | | | | | NEF. | +----------------+----------------+----------------+----------------+ | | | DELETE | Delete an | | | | | existing | | | | | \"Individual | | | | | Group | | | | | Parameters | | | | | Provisioning\" | | | | | managed by the | | | | | NEF. | +----------------+----------------+----------------+----------------+
#### 5.33.2.2 Resource: Group Parameters Provisionings
##### 5.33.2.2.1 Introduction
This resource represents the collection of Group Parameters Provisionings
managed by the NEF.
This resource is modelled with the Collection resource archetype (see clause
C.2 of 3GPP TS 29.501 [32]).
##### 5.33.2.2.2 Resource Definition
Resource URI: **{apiRoot}/3gpp-grp-pp/\ /pp**
This resource shall support the resource URI variables defined in table
5.33.2.2.2-1.
Table 5.33.2.2.2-1: Resource URI variables for this resource
* * *
Name Data type Definition apiRoot string See clause 5.33.1.
* * *
##### 5.33.2.2.3 Resource Methods
###### 5.33.2.2.3.1 GET
This method enables an AF to request to retrieve all the \"Group Parameters
Provisionings\" resources managed by the NEF.
This method shall support the URI query parameters specified in table
5.33.2.2.3.1-1.
Table 5.33.2.2.3.1-1: URI query parameters supported by the GET method on this
resource
* * *
Name Data type P Cardinality Description Applicability n/a
* * *
This method shall support the request data structures specified in table
5.33.2.2.3.1-2 and the response data structures and response codes specified
in table 5.33.2.2.3.1-3.
Table 5.33.2.2.3.1-2: Data structures supported by the GET Request Body on
this resource
* * *
Data type P Cardinality Description n/a
* * *
Table 5.33.2.2.3.1-3: Data structures supported by the GET Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | arr | M | 0..N | 200 OK | Successful | | ay(GrpPpData) | | | | case. All the | | | | | | \"Individual | | | | | | Group | | | | | | Parameters | | | | | | P | | | | | | rovisioning\" | | | | | | resources | | | | | | managed by | | | | | | the NEF are | | | | | | returned. | +---------------+---+-------------+---------------+---------------+ | n/a | | | 307 Temporary | Temporary | | | | | Redirect | redirection. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | target URI | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | n/a | | | 308 Permanent | Permanent | | | | | Redirect | redirection. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | target URI | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status code | | | | | | for the GET | | | | | | method listed | | | | | | in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.33.2.2.3.1-4: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
target URI of the resource located in an alternative NEF.
* * *
Table 5.33.2.2.3.1-5: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
target URI of the resource located in an alternative NEF.
* * *
###### 5.33.2.2.3.2 POST
This method enables an AF to request the creation of a new Group Parameters
Provisioning at the NEF.
This method shall support the URI query parameters specified in table
5.33.2.2.3.2-1.
Table 5.33.2.2.3.2-1: URI query parameters supported by the POST method on
this resource
* * *
Name Data type P Cardinality Description Applicability n/a
* * *
This method shall support the request data structures specified in table
5.33.2.2.3.2-2 and the response data structures and response codes specified
in table 5.33.2.2.3.2-3.
Table 5.33.2.2.3.2-2: Data structures supported by the POST Request Body on
this resource
* * *
Data type P Cardinality Description GrpPpData M 1 Representation of the Group
Parameters Provisioning to be created at the NEF.
* * *
Table 5.33.2.2.3.2-3: Data structures supported by the POST Response Body on
this resource
+---------------+---+-------------+-------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+-------------+---------------+ | GrpPpData | M | 1 | 201 Created | Successful | | | | | | case. A | | | | | | r | | | | | | epresentation | | | | | | of the | | | | | | created | | | | | | \"Individual | | | | | | Group | | | | | | Parameters | | | | | | P | | | | | | rovisioning\" | | | | | | resource is | | | | | | returned in | | | | | | the response | | | | | | body. | | | | | | | | | | | | The URI of | | | | | | the created | | | | | | resource | | | | | | shall be | | | | | | returned in | | | | | | an HTTP | | | | | | \"Location\" | | | | | | header. | +---------------+---+-------------+-------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status code | | | | | | for the POST | | | | | | method listed | | | | | | in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+-------------+---------------+
Table 5.33.2.2.3.2-4: Headers supported by the 201 response code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 Contains the URI
of the newly created resource, according to the structure: {apiRoot}/3gpp-grp-
pp/\/pp/{ppId}
* * *
##### 5.33.2.2.4 Resource Custom Operations
There are no resource custom operations defined for this resource in this
release of the specification.
#### 5.33.2.3 Resource: Individual Group Parameters Provisioning
##### 5.33.2.3.1 Introduction
This resource represents an \"Individual Group Parameters Provisioning\"
resource managed by the NEF.
This resource is modelled with the Document resource archetype (see clause C.2
of 3GPP TS 29.501 [32]).
##### 5.33.2.3.2 Resource Definition
Resource URI: **{apiRoot}/3gpp-grp-pp/\ /pp/{ppId}**
This resource shall support the resource URI variables defined in table
5.33.2.3.2-1.
Table 5.33.2.3.2-1: Resource URI variables for this resource
* * *
Name Data type Definition apiRoot string See clause 5.33.1. ppId string
Represents the identifier of the \"Individual Group Parameters Provisioning\"
resource.
* * *
##### 5.33.2.3.3 Resource Methods
###### 5.33.2.3.3.1 GET
This method enables an AF to request to retrieve an existing \"Individual
Group Parameters Provisioning\" resource at the NEF.
This method shall support the URI query parameters specified in table
5.33.2.3.3.1-1.
Table 5.33.2.3.3.1-1: URI query parameters supported by the GET method on this
resource
* * *
Name Data type P Cardinality Description Applicability n/a
* * *
This method shall support the request data structures specified in table
5.33.2.3.3.1-2 and the response data structures and response codes specified
in table 5.33.2.3.3.1-3.
Table 5.33.2.3.3.1-2: Data structures supported by the GET Request Body on
this resource
* * *
Data type P Cardinality Description n/a
* * *
Table 5.33.2.3.3.1-3: Data structures supported by the GET Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | GrpPpData | M | 1 | 200 OK | Successful | | | | | | case. The | | | | | | requested | | | | | | \"Individual | | | | | | Group | | | | | | Parameters | | | | | | P | | | | | | rovisioning\" | | | | | | resource is | | | | | | successfully | | | | | | returned in | | | | | | the response | | | | | | body. | +---------------+---+-------------+---------------+---------------+ | n/a | | | 307 Temporary | Temporary | | | | | Redirect | redirection. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | target URI | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | n/a | | | 308 Permanent | Permanent | | | | | Redirect | redirection. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | target URI | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status code | | | | | | for the GET | | | | | | method listed | | | | | | in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.33.2.3.3.1-4: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
target URI of the resource located in an alternative NEF.
* * *
Table 5.33.2.3.3.1-5: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
target URI of the resource located in an alternative NEF.
* * *
###### 5.33.2.3.3.2 PUT
This method enables an AF to request the update of an existing \"Individual
Group Parameters Provisioning\" resource at the NEF.
This method shall support the URI query parameters specified in table
5.33.2.3.3.2-1.
Table 5.33.2.3.3.2-1: URI query parameters supported by the PUT method on this
resource
* * *
Name Data type P Cardinality Description Applicability n/a
* * *
This method shall support the request data structures specified in table
5.33.2.3.3.2-2 and the response data structures and response codes specified
in table 5.33.2.3.3.2-3.
Table 5.33.2.3.3.2-2: Data structures supported by the PUT Request Body on
this resource
* * *
Data type P Cardinality Description GrpPpData M 1 Represents the updated
\"Individual Group Parameters Provisioning\" resource representation.
* * *
Table 5.33.2.3.3.2-3: Data structures supported by the PUT Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | GrpPpData | M | 1 | 200 OK | Successful | | | | | | response. The | | | | | | \"Individual | | | | | | Group | | | | | | Parameters | | | | | | P | | | | | | rovisioning\" | | | | | | resource is | | | | | | successfully | | | | | | updated and a | | | | | | r | | | | | | epresentation | | | | | | of the | | | | | | updated | | | | | | resource is | | | | | | returned in | | | | | | the response | | | | | | body. | +---------------+---+-------------+---------------+---------------+ | n/a | | | 204 No | Successful | | | | | Content | response. The | | | | | | \"Individual | | | | | | Group | | | | | | Parameters | | | | | | P | | | | | | rovisioning\" | | | | | | resource is | | | | | | successfully | | | | | | updated and | | | | | | no content is | | | | | | returned in | | | | | | the response | | | | | | body. | +---------------+---+-------------+---------------+---------------+ | n/a | | | 307 Temporary | Temporary | | | | | Redirect | redirection. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | target URI | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | n/a | | | 308 Permanent | Permanent | | | | | Redirect | redirection. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | target URI | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status code | | | | | | for the PUT | | | | | | method listed | | | | | | in | | | | | | Table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.33.2.3.3.2-4: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
Table 5.33.2.3.3.2-5: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
###### 5.33.2.3.3.3 PATCH
This method enables an AF to request the modification of an existing
\"Individual Group Parameters Provisioning\" resource at the NEF.
This method shall support the URI query parameters specified in table
5.33.2.3.3.3-1.
Table 5.33.2.3.3.3-1: URI query parameters supported by the PATCH method on
this resource
* * *
Name Data type P Cardinality Description Applicability n/a
* * *
This method shall support the request data structures specified in table
5.33.2.3.3.3-2 and the response data structures and response codes specified
in table 5.33.2.3.3.3-3.
Table 5.33.2.3.3.3-2: Data structures supported by the PATCH Request Body on
this resource
* * *
Data type P Cardinality Description GrpPpDataPatch M 1 Represents the
requested modifications to the \"Individual Group Parameters Provisioning\"
resource.
* * *
Table 5.33.2.3.3.3-3: Data structures supported by the PATCH Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | GrpPpData | M | 1 | 200 OK | Successful | | | | | | response. The | | | | | | \"Individual | | | | | | Group | | | | | | Parameters | | | | | | P | | | | | | rovisioning\" | | | | | | resource is | | | | | | successfully | | | | | | modified and | | | | | | a | | | | | | r | | | | | | epresentation | | | | | | of the | | | | | | updated | | | | | | resource is | | | | | | returned in | | | | | | the response | | | | | | body. | +---------------+---+-------------+---------------+---------------+ | n/a | | | 204 No | Successful | | | | | Content | response. The | | | | | | \"Individual | | | | | | Group | | | | | | Parameters | | | | | | P | | | | | | rovisioning\" | | | | | | resource is | | | | | | successfully | | | | | | modified and | | | | | | no content is | | | | | | returned in | | | | | | the response | | | | | | body. | +---------------+---+-------------+---------------+---------------+ | n/a | | | 307 Temporary | Temporary | | | | | Redirect | redirection. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | target URI | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | n/a | | | 308 Permanent | Permanent | | | | | Redirect | redirection. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | target URI | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status code | | | | | | for the PATCH | | | | | | method listed | | | | | | in | | | | | | Table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.33.2.3.3.3-4: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
Table 5.33.2.3.3.3-5: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
###### 5.33.2.3.3.4 DELETE
This method enables an AF to request the deletion of an existing \"Individual
Group Parameters Provisioning\" resource at the NEF.
This method shall support the URI query parameters specified in table
5.33.2.3.3.4-1.
Table 5.33.2.3.3.4-1: URI query parameters supported by the DELETE method on
this resource
* * *
Name Data type P Cardinality Description Applicability n/a
* * *
This method shall support the request data structures specified in table
5.33.2.3.3.4-2 and the response data structures and response codes specified
in table 5.33.2.3.3.4-3.
Table 5.33.2.3.3.4-2: Data structures supported by the DELETE Request Body on
this resource
* * *
Data type P Cardinality Description n/a
* * *
Table 5.33.2.3.3.4-3: Data structures supported by the DELETE Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | n/a | | | 204 No | Successful | | | | | Content | case. The | | | | | | concerned | | | | | | \"Individual | | | | | | Group | | | | | | Parameters | | | | | | P | | | | | | rovisioning\" | | | | | | resource is | | | | | | successfully | | | | | | deleted. | +---------------+---+-------------+---------------+---------------+ | n/a | | | 307 Temporary | Temporary | | | | | Redirect | redirection. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | target URI | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | n/a | | | 308 Permanent | Permanent | | | | | Redirect | redirection. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | target URI | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status code | | | | | | for the | | | | | | DELETE method | | | | | | listed in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.33.2.3.3.4-4: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
target URI of the resource located in an alternative NEF.
* * *
Table 5.33.2.3.3.4-5: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
target URI of the resource located in an alternative NEF.
* * *
##### 5.33.2.3.4 Resource Custom Operations
There are no resource custom operations defined for this resource in this
release of the specification.
### 5.33.3 Custom Operations without associated resources
There are no custom operations without associated resources defined for this
API in this release of the specification.
### 5.33.4 Notifications
There are no notifications defined for this API in this release of the
specification.
### 5.33.5 Data Model
#### 5.33.5.1 General
This clause specifies the application data model supported by the
GroupParametersProvisioning API. Table 5.33.5.1-1 specifies the data types
defined for the GroupParametersProvisioning API.
Table 5.33.5.1-1: GroupParametersProvisioning API specific Data Types
* * *
Data type Clause defined Description Applicability AfReqDefaultQoS 5.33.5.2.5
Represents the AF requested default QoS.  
DnnSnssaiGrpData 5.33.5.2.4 Represents DNN and S-NSSAI specific Group
Parameters data.  
GrpPpData 5.33.5.2.2 Represents Group Parameters Provisioning data.  
GrpPpDataPatch 5.33.5.2.3 Represents the requested modification to an existing
Group Parameters Provisioning data.  
LadnServArea 5.33.5.2.6 Represents an LADN Service Area.
* * *
Table 5.33.5.1-2 specifies data types re-used by the
GroupParametersProvisioning API from other specifications, including a
reference to their respective specifications, and when needed, a short
description of their use within the GroupParametersProvisioning API.
Table 5.33.5.1-2: GroupParametersProvisioning API re-used Data Types
* * *
Data type Reference Comments Applicability 5Qi 3GPP TS 29.571 [8] Represents a
5G QoS Identifier.  
5QiPriorityLevelRm 3GPP TS 29.571 [8] Represents the 5QI Priority Level.  
Arp 3GPP TS 29.571 [8] Represents an ARP.  
BitRate 3GPP TS 29.571 [8] Represents a bit rate.  
BitRateRm 3GPP TS 29.571 [8] This data type is defined in the same way as the
\"BitRate\" data type, but with the OpenAPI \"nullable: true\" property.  
CivicAddress 3GPP TS 29.572 [34] Represents a civic address.  
Dnn 3GPP TS 29.571 [8] Represents a DNN.  
ExternalGroupId 3GPP TS 29.122 [4] Represents the External Group Identifier
for a user group.  
GeographicArea 3GPP TS 29.572 [34] Represents a geographical area.  
Snssai 3GPP TS 29.571 [8] Represents an S-NSSAI.  
SupportedFeatures 3GPP TS 29.571 [8] Represents the list of supported
feature(s) and used to negotiate the applicability of the optional features.  
Tai 3GPP TS 29.571 [8] Represents a Tracking Area Identifier.
* * *
#### 5.33.5.2 Structured data types
##### 5.33.5.2.1 Introduction
This clause defines the structures to be used in resource representations.
##### 5.33.5.2.2 Type: GrpPpData
Table 5.33.5.2.2-1: Definition of type GrpPpData
+-----------+-----------+---+-----------+-----------+-----------+ | Attribute | Data type | P | Ca | De | Appl | | name | | | rdinality | scription | icability | +-----------+-----------+---+-----------+-----------+-----------+ | afId | string | M | 1 | Contains | | | | | | | the | | | | | | | i | | | | | | | dentifier | | | | | | | of the AF | | | | | | | that is | | | | | | | sending | | | | | | | the | | | | | | | request. | | +-----------+-----------+---+-----------+-----------+-----------+ | dnnSnss | DnnSnss | C | 0..1 | Contains | | | aiGrpData | aiGrpData | | | the DNN | | | | | | | and | | | | | | | S-NSSAI | | | | | | | specific | | | | | | | Group | | | | | | | data that | | | | | | | the AF | | | | | | | requests | | | | | | | to | | | | | | | p | | | | | | | rovision. | | | | | | | | | | | | | | This | | | | | | | attribute | | | | | | | shall be | | | | | | | present | | | | | | | only when | | | | | | | the AF | | | | | | | requests | | | | | | | to | | | | | | | provision | | | | | | | DNN and | | | | | | | S-NSSAI | | | | | | | specific | | | | | | | Group | | | | | | | pa | | | | | | | rameters. | | +-----------+-----------+---+-----------+-----------+-----------+ | suppFeat | Supporte | C | 0..1 | Contains | | | | dFeatures | | | the list | | | | | | | of | | | | | | | supported | | | | | | | features | | | | | | | among the | | | | | | | ones | | | | | | | defined | | | | | | | in | | | | | | | claus | | | | | | | e 5.33.6. | | | | | | | | | | | | | | This | | | | | | | attribute | | | | | | | shall be | | | | | | | provided | | | | | | | when | | | | | | | feature | | | | | | | ne | | | | | | | gotiation | | | | | | | needs to | | | | | | | take | | | | | | | place. | | +-----------+-----------+---+-----------+-----------+-----------+
##### 5.33.5.2.3 Type: GrpPpDataPatch
Table 5.33.5.2.3-1: Definition of type GrpPpDataPatch
* * *
Attribute name Data type P Cardinality Description Applicability
dnnSnssaiGrpData DnnSnssaiGrpData O 0..1 Contains the modified DNN and S-NSSAI
specific Group data that the AF requests to provision.
* * *
##### 5.33.5.2.4 Type: DnnSnssaiGrpData
Table 5.33.5.2.4-1: Definition of type DnnSnssaiGrpData
+-----------+-----------+---+-----------+-----------+-----------+ | Attribute | Data type | P | Ca | De | Appl | | name | | | rdinality | scription | icability | +-----------+-----------+---+-----------+-----------+-----------+ | e | Extern | M | 1 | R | | | xtGroupId | alGroupId | | | epresents | | | | | | | the | | | | | | | external | | | | | | | group | | | | | | | i | | | | | | | dentifier | | | | | | | of the | | | | | | | targeted | | | | | | | group. | | +-----------+-----------+---+-----------+-----------+-----------+ | dnn | Dnn | M | 1 | R | | | | | | | epresents | | | | | | | the | | | | | | | concerned | | | | | | | DNN. | | +-----------+-----------+---+-----------+-----------+-----------+ | snssai | Snssai | M | 1 | R | | | | | | | epresents | | | | | | | the | | | | | | | concerned | | | | | | | S-NSSAI. | | +-----------+-----------+---+-----------+-----------+-----------+ | defQos | AfReqD | C | 0..1 | R | | | | efaultQoS | | | epresents | | | | | | | the | | | | | | | AF- | | | | | | | requested | | | | | | | default | | | | | | | QoS | | | | | | | p | | | | | | | arameters | | | | | | | to be | | | | | | | applied | | | | | | | to each | | | | | | | UE within | | | | | | | the | | | | | | | targeted | | | | | | | group. | | | | | | | | | | | | | | (NOTE) | | +-----------+-----------+---+-----------+-----------+-----------+ | lad | Lad | C | 0..1 | R | | | nServArea | nServArea | | | epresents | | | | | | | the | | | | | | | AF- | | | | | | | requested | | | | | | | LADN | | | | | | | Service | | | | | | | Area to | | | | | | | be | | | | | | | applied | | | | | | | to each | | | | | | | UE within | | | | | | | the | | | | | | | targeted | | | | | | | group. | | | | | | | | | | | | | | (NOTE) | | +-----------+-----------+---+-----------+-----------+-----------+ | NOTE: At | | | | | | | least one | | | | | | | of these | | | | | | | a | | | | | | | ttributes | | | | | | | shall be | | | | | | | present. | | | | | | +-----------+-----------+---+-----------+-----------+-----------+
##### 5.33.5.2.5 Type: AfReqDefaultQoS
Table 5.33.5.2.5-1: Definition of type AfReqDefaultQoS
* * *
Attribute name Data type P Cardinality Description Applicability 5qi 5Qi M 1
Represents the AF requested default 5G QoS Identifier.  
arp Arp M 1 Represents the AF requested default Allocation and Retention
Priority.  
priorityLevel 5QiPriorityLevelRm O 0..1 Represents the AF requested 5QI
Priority Level.
* * *
##### 5.33.5.2.6 Type: LadnServArea
Table 5.33.5.2.6-1: Definition of type LadnServArea
+-----------+-----------+---+-----------+-----------+-----------+ | Attribute | Data type | P | Ca | De | Appl | | name | | | rdinality | scription | icability | +-----------+-----------+---+-----------+-----------+-----------+ | geogra | arr | C | 1..N | R | | | phicAreas | ay(Geogra | | | epresents | | | | phicArea) | | | the AF | | | | | | | requested | | | | | | | list of | | | | | | | g | | | | | | | eographic | | | | | | | area(s). | | | | | | | | | | | | | | (NOTE) | | +-----------+-----------+---+-----------+-----------+-----------+ | civic | a | C | 1..N | R | | | Addresses | rray(Civi | | | epresents | | | | cAddress) | | | the AF | | | | | | | requested | | | | | | | list of | | | | | | | civic | | | | | | | add | | | | | | | resse(s). | | | | | | | | | | | | | | (NOTE) | | +-----------+-----------+---+-----------+-----------+-----------+ | tais | a | C | 1..N | R | | | | rray(Tai) | | | epresents | | | | | | | the AF | | | | | | | requested | | | | | | | list of | | | | | | | Tracking | | | | | | | Area | | | | | | | Ident | | | | | | | ifier(s). | | | | | | | | | | | | | | (NOTE) | | +-----------+-----------+---+-----------+-----------+-----------+ | NOTE: | | | | | | | These | | | | | | | a | | | | | | | ttributes | | | | | | | are | | | | | | | mutually | | | | | | | e | | | | | | | xclusive. | | | | | | | Either | | | | | | | one of | | | | | | | them | | | | | | | shall be | | | | | | | present. | | | | | | +-----------+-----------+---+-----------+-----------+-----------+
#### 5.33.5.3 Simple data types and enumerations
##### 5.33.5.3.1 Introduction
This clause defines simple data types and enumerations that can be referenced
from data structures defined in the previous clauses.
##### 5.33.5.3.2 Simple data types
The simple data types defined in table 5.33.5.3.2-1 shall be supported.
Table 5.33.5.3.2-1: Simple data types
* * *
Type Name Type Definition Description Applicability
* * *
### 5.33.6 Used Features
The table below defines the features applicable to the
GroupParametersProvisioning API. Those features are negotiated as described in
clause 5.2.7 of 3GPP TS 29.122 [4].
Table 5.33.6-1: Supported Features
* * *
Feature number Feature Name Description
* * *
### 5.33.7 Error handling
#### 5.33.7.1 General
HTTP error handling shall be supported as specified in clause 5.2.6 of 3GPP TS
29.122 [4].
In addition, the requirements in the following clauses shall apply.
#### 5.33.7.2 Protocol Errors
In this Release of the specification, there are no additional protocol errors
applicable for the GroupParametersProvisioning API.
#### 5.33.7.3 Application Errors
The application errors defined for the GroupParametersProvisioning API are
listed in table 5.33.7.3-1.
Table 5.33.7.3-1: Application errors
* * *
**Application Error** **HTTP status code** **Description**
* * *
## 5.34 SliceParamProvision API
### 5.34.1 Introduction
The Nnef_ParameterProvision service shall use the SliceParamProvision API for:
\- Network Slice Parameters provisioning.
The API URI of the SliceParamProvision API shall be:
**{apiRoot}/3gpp-slice-pp/\ **
with the following components:
\- \"apiRoot\" is set as defined in clause 5.2.4 of 3GPP TS 29.122 [4].
\- \"apiName\" shall be set to \"3gpp-slice-pp\".
\- \"apiVersion\" shall be set to \"v1\" for the current version defined in
the present document.
All resource URIs in the clauses below are defined relative to the above API
URI.
### 5.34.2 Resources
#### 5.34.2.1 Overview
This clause describes the structure for the Resource URIs as shown in figure
5.34.2.1-1 and the resources and HTTP methods used for the SliceParamProvision
API.
Figure 5.34.2.1-1: Resource URI structure of the SliceParamProvision API
Table 5.34.2.1-1 provides an overview of the resources and applicable HTTP
methods.
Table 5.34.2.1-1: Resources and methods overview
+----------------+----------------+----------------+----------------+ | Resource name | Resource URI | HTTP method or | Description | | | (relative path | custom | | | | under API URI) | operation | (service | | | | | operation) | +----------------+----------------+----------------+----------------+ | Slice | /pp | GET | Retrieve all | | Parameters | | | the active | | Provisionings | | | Slice | | | | | Parameters | | | | | Provisionings | | | | | managed by the | | | | | NEF. | +----------------+----------------+----------------+----------------+ | | | POST | Request the | | | | | creation of a | | | | | new Slice | | | | | Parameters | | | | | Provisioning. | +----------------+----------------+----------------+----------------+ | Individual | /pp/{ppId} | GET | Retrieve an | | Slice | | | existng | | Parameters | | | \"Individual | | Provisioning | | | Slice | | | | | Parameters | | | | | Provisioning\" | | | | | managed by the | | | | | NEF. | +----------------+----------------+----------------+----------------+ | | | PUT | Update an | | | | | existng | | | | | \"Individual | | | | | Slice | | | | | Parameters | | | | | Provisioning\" | | | | | managed by the | | | | | NEF. | +----------------+----------------+----------------+----------------+ | | | PATCH | Modify an | | | | | existing | | | | | \"Individual | | | | | Slice | | | | | Parameters | | | | | Provisioning\" | | | | | managed by the | | | | | NEF. | +----------------+----------------+----------------+----------------+ | | | DELETE | Delete an | | | | | existing | | | | | \"Individual | | | | | Slice | | | | | Parameters | | | | | Provisioning\" | | | | | managed by the | | | | | NEF. | +----------------+----------------+----------------+----------------+
#### 5.34.2.2 Resource: Slice Parameters Provisionings
##### 5.34.2.2.1 Introduction
This resource represents the collection of Slice Parameters Provisionings
managed by the NEF.
This resource is modelled with the Collection resource archetype (see clause
C.2 of 3GPP TS 29.501 [3]).
##### 5.34.2.2.2 Resource Definition
Resource URI: **{apiRoot}/3gpp-slice-pp/v1/pp**
This resource shall support the resource URI variables defined in table
5.34.2.2.2-1.
Table 5.34.2.2.2-1: Resource URI variables for this resource
* * *
Name Data type Definition apiRoot string See clause 5.34.1.
* * *
##### 5.34.2.2.3 Resource Methods
###### 5.34.2.2.3.1 GET
This method enables an AF to request to retrieve all the \"Slice Parameters
Provisionings\" resources managed by the NEF.
This method shall support the URI query parameters specified in table
5.34.2.2.3.1-1.
Table 5.34.2.2.3.1-1: URI query parameters supported by the GET method on this
resource
* * *
Name Data type P Cardinality Description Applicability n/a
* * *
This method shall support the request data structures specified in table
5.34.2.2.3.1-2 and the response data structures and response codes specified
in table 5.34.2.2.3.1-3.
Table 5.34.2.2.3.1-2: Data structures supported by the GET Request Body on
this resource
* * *
Data type P Cardinality Description n/a
* * *
Table 5.34.2.2.3.1-3: Data structures supported by the GET Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | array | M | 1..N | 200 OK | Successful | | (SlicePpData) | | | | case. All the | | | | | | \"Individual | | | | | | Slice | | | | | | Parameters | | | | | | P | | | | | | rovisioning\" | | | | | | resources | | | | | | managed by | | | | | | the NEF are | | | | | | returned. | +---------------+---+-------------+---------------+---------------+ | n/a | | | 307 Temporary | Temporary | | | | | Redirect | redirection. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | target URI | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | n/a | | | 308 Permanent | Permanent | | | | | Redirect | redirection. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | target URI | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status code | | | | | | for the GET | | | | | | method listed | | | | | | in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.34.2.2.3.1-4: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
target URI of the resource located in an alternative NEF.
* * *
Table 5.34.2.2.3.1-5: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
target URI of the resource located in an alternative NEF.
* * *
###### 5.34.2.2.3.2 POST
This method enables an AF to request the creation of a new Slice Parameters
Provisioning at the NEF.
This method shall support the URI query parameters specified in table
5.34.2.2.3.2-1.
Table 5.34.2.2.3.2-1: URI query parameters supported by the POST method on
this resource
* * *
Name Data type P Cardinality Description Applicability n/a
* * *
This method shall support the request data structures specified in table
5.34.2.2.3.2-2 and the response data structures and response codes specified
in table 5.34.2.2.3.2-3.
Table 5.34.2.2.3.2-2: Data structures supported by the POST Request Body on
this resource
* * *
Data type P Cardinality Description SlicePpData M 1 Representation of the
Slice Parameters Provisioning to be created at the NEF.
* * *
Table 5.34.2.2.3.2-3: Data structures supported by the POST Response Body on
this resource
+---------------+---+-------------+-------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+-------------+---------------+ | SlicePpData | M | 1 | 201 Created | Successful | | | | | | case. A | | | | | | r | | | | | | epresentation | | | | | | of the | | | | | | created | | | | | | \"Individual | | | | | | Slice | | | | | | Parameters | | | | | | P | | | | | | rovisioning\" | | | | | | resource is | | | | | | returned in | | | | | | the response | | | | | | body. | | | | | | | | | | | | The URI of | | | | | | the created | | | | | | resource | | | | | | shall be | | | | | | returned in | | | | | | an HTTP | | | | | | \"Location\" | | | | | | header. | +---------------+---+-------------+-------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status code | | | | | | for the POST | | | | | | method listed | | | | | | in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+-------------+---------------+
Table 5.34.2.2.3.2-4: Headers supported by the 201 response code on this
resource
+----------+-----------+---+-------------+--------------------+ | Name | Data type | P | Cardinality | Description | +----------+-----------+---+-------------+--------------------+ | Location | string | M | 1 | Contains the URI | | | | | | of the newly | | | | | | created resource, | | | | | | according to the | | | | | | structure: | | | | | | | | | | | | {apiRoot}/3g | | | | | | pp-slice-pp/\/pp/{ppId} | +----------+-----------+---+-------------+--------------------+
##### 5.34.2.2.4 Resource Custom Operations
There are no resource custom operations defined for this resource in this
release of the specification.
#### 5.34.2.3 Resource: Individual Slice Parameters Provisioning
##### 5.34.2.3.1 Introduction
This resource represents an \"Individual Slice Parameters Provisioning\"
resource managed by the NEF.
This resource is modelled with the Document resource archetype (see clause C.2
of 3GPP TS 29.501 [3]).
##### 5.34.2.3.2 Resource Definition
Resource URI: **{apiRoot}/3gpp-slice-pp/v1/pp/{ppId}**
This resource shall support the resource URI variables defined in table
5.34.2.3.2-1.
Table 5.34.2.3.2-1: Resource URI variables for this resource
* * *
Name Data type Definition apiRoot string See clause 5.34.1. ppId string
Represents the identifier of the \"Individual Slice Parameters Provisioning\"
resource.
* * *
##### 5.34.2.3.3 Resource Methods
###### 5.34.2.3.3.1 GET
This method enables an AF to request to retrieve an existing \"Individual
Slice Parameters Provisioning\" resource at the NEF.
This method shall support the URI query parameters specified in table
5.34.2.3.3.1-1.
Table 5.34.2.3.3.1-1: URI query parameters supported by the GET method on this
resource
* * *
Name Data type P Cardinality Description Applicability n/a
* * *
This method shall support the request data structures specified in table
5.34.2.3.3.1-2 and the response data structures and response codes specified
in table 5.34.2.3.3.1-3.
Table 5.34.2.3.3.1-2: Data structures supported by the GET Request Body on
this resource
* * *
Data type P Cardinality Description n/a
* * *
Table 5.34.2.3.3.1-3: Data structures supported by the GET Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | SlicePpData | M | 1 | 200 OK | Successful | | | | | | case. The | | | | | | requested | | | | | | \"Individual | | | | | | Slice | | | | | | Parameters | | | | | | P | | | | | | rovisioning\" | | | | | | resource is | | | | | | successfully | | | | | | returned in | | | | | | the response | | | | | | body. | +---------------+---+-------------+---------------+---------------+ | n/a | | | 307 Temporary | Temporary | | | | | Redirect | redirection. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | target URI | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | n/a | | | 308 Permanent | Permanent | | | | | Redirect | redirection. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | target URI | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status code | | | | | | for the GET | | | | | | method listed | | | | | | in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.34.2.3.3.1-4: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
target URI of the resource located in an alternative NEF.
* * *
Table 5.34.2.3.3.1-5: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
target URI of the resource located in an alternative NEF.
* * *
###### 5.34.2.3.3.2 PUT
This method enables an AF to request the update of an existing \"Individual
Slice Parameters Provisioning\" resource at the NEF.
This method shall support the URI query parameters specified in table
5.34.2.3.3.2-1.
Table 5.34.2.3.3.2-1: URI query parameters supported by the PUT method on this
resource
* * *
Name Data type P Cardinality Description Applicability n/a
* * *
This method shall support the request data structures specified in table
5.34.2.3.3.2-2 and the response data structures and response codes specified
in table 5.34.2.3.3.2-3.
Table 5.34.2.3.3.2-2: Data structures supported by the PUT Request Body on
this resource
* * *
Data type P Cardinality Description SlicePpData M 1 Represents the updated
\"Individual Slice Parameters Provisioning\" resource representation.
* * *
Table 5.34.2.3.3.2-3: Data structures supported by the PUT Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | SlicePpData | | | 200 OK | Successful | | | | | | response. The | | | | | | \"Individual | | | | | | Slice | | | | | | Parameters | | | | | | P | | | | | | rovisioning\" | | | | | | resource is | | | | | | successfully | | | | | | updated and a | | | | | | r | | | | | | epresentation | | | | | | of the | | | | | | updated | | | | | | resource is | | | | | | returned in | | | | | | the response | | | | | | body. | +---------------+---+-------------+---------------+---------------+ | n/a | | | 204 No | Successful | | | | | Content | response. The | | | | | | \"Individual | | | | | | Slice | | | | | | Parameters | | | | | | P | | | | | | rovisioning\" | | | | | | resource is | | | | | | successfully | | | | | | updated and | | | | | | no content is | | | | | | returned in | | | | | | the response | | | | | | body. | +---------------+---+-------------+---------------+---------------+ | n/a | | | 307 Temporary | Temporary | | | | | Redirect | redirection. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | target URI | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | n/a | | | 308 Permanent | Permanent | | | | | Redirect | redirection. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | target URI | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status code | | | | | | for the PUT | | | | | | method listed | | | | | | in | | | | | | Table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.34.2.3.3.2-4: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
Table 5.34.2.3.3.2-5: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
###### 5.34.2.3.3.3 PATCH
This method enables an AF to request the modification of an existing
\"Individual Slice Parameters Provisioning\" resource at the NEF.
This method shall support the URI query parameters specified in table
5.34.2.3.3.3-1.
Table 5.34.2.3.3.3-1: URI query parameters supported by the PATCH method on
this resource
* * *
Name Data type P Cardinality Description Applicability n/a
* * *
This method shall support the request data structures specified in table
5.34.2.3.3.3-2 and the response data structures and response codes specified
in table 5.34.2.3.3.3-3.
Table 5.34.2.3.3.3-2: Data structures supported by the PATCH Request Body on
this resource
* * *
Data type P Cardinality Description SlicePpDataPatch M 1 Represents the
requested modifications to the \"Individual Slice Parameters Provisioning\"
resource.
* * *
Table 5.34.2.3.3.3-3: Data structures supported by the PATCH Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | SlicePpData | | | 200 OK | Successful | | | | | | response. The | | | | | | \"Individual | | | | | | Slice | | | | | | Parameters | | | | | | P | | | | | | rovisioning\" | | | | | | resource is | | | | | | successfully | | | | | | modified and | | | | | | a | | | | | | r | | | | | | epresentation | | | | | | of the | | | | | | updated | | | | | | resource is | | | | | | returned in | | | | | | the response | | | | | | body. | +---------------+---+-------------+---------------+---------------+ | n/a | | | 204 No | Successful | | | | | Content | response. The | | | | | | \"Individual | | | | | | Slice | | | | | | Parameters | | | | | | P | | | | | | rovisioning\" | | | | | | resource is | | | | | | successfully | | | | | | modified and | | | | | | no content is | | | | | | returned in | | | | | | the response | | | | | | body. | +---------------+---+-------------+---------------+---------------+ | n/a | | | 307 Temporary | Temporary | | | | | Redirect | redirection. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | target URI | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | n/a | | | 308 Permanent | Permanent | | | | | Redirect | redirection. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | target URI | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status code | | | | | | for the PATCH | | | | | | method listed | | | | | | in | | | | | | Table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.34.2.3.3.3-4: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
Table 5.34.2.3.3.3-5: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative NEF.
* * *
###### 5.34.2.3.3.4 DELETE
This method enables an AF to request the deletion of an existing \"Individual
Slice Parameters Provisioning\" resource at the NEF.
This method shall support the URI query parameters specified in table
5.34.2.3.3.4-1.
Table 5.34.2.3.3.4-1: URI query parameters supported by the DELETE method on
this resource
* * *
Name Data type P Cardinality Description Applicability n/a
* * *
This method shall support the request data structures specified in table
5.34.2.3.3.4-2 and the response data structures and response codes specified
in table 5.34.2.3.3.4-3.
Table 5.34.2.3.3.4-2: Data structures supported by the DELETE Request Body on
this resource
* * *
Data type P Cardinality Description n/a
* * *
Table 5.34.2.3.3.4-3: Data structures supported by the DELETE Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | n/a | | | 204 No | Successful | | | | | Content | case. The | | | | | | concerned | | | | | | \"Individual | | | | | | Slice | | | | | | Parameters | | | | | | P | | | | | | rovisioning\" | | | | | | resource is | | | | | | successfully | | | | | | deleted. | +---------------+---+-------------+---------------+---------------+ | n/a | | | 307 Temporary | Temporary | | | | | Redirect | redirection. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | target URI | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | n/a | | | 308 Permanent | Permanent | | | | | Redirect | redirection. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing an | | | | | | alternative | | | | | | target URI | | | | | | located in an | | | | | | alternative | | | | | | NEF. | | | | | | | | | | | | Redirection | | | | | | handling is | | | | | | described in | | | | | | clause 5.2.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4]. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status code | | | | | | for the | | | | | | DELETE method | | | | | | listed in | | | | | | table 5.2.6-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.122 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.34.2.3.3.4-4: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
target URI of the resource located in an alternative NEF.
* * *
Table 5.34.2.3.3.4-5: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
target URI of the resource located in an alternative NEF.
* * *
##### 5.34.2.3.4 Resource Custom Operations
There are no resource custom operations defined for this resource in this
release of the specification.
### 5.34.3 Custom Operations without associated resources
There are no custom operations without associated resources defined for this
API in this release of the specification.
### 5.34.4 Notifications
There are no notifications defined for this API in this release of the
specification.
### 5.34.5 Data Model
#### 5.34.5.1 General
This clause specifies the application data model supported by the
SliceParamProvision API. Table 5.34.5.1-1 specifies the data types defined for
the SliceParamProvision API.
Table 5.34.5.1-1: SliceParamProvision API specific Data Types
* * *
Data type Clause defined Description Applicability SlicePpData 5.34.5.2.1
Represents Slice Parameters Provisioning data.  
SlicePpDataPatch 5.34.5.2.2 Represents the requested modification to existing
Slice Parameters Provisioning data.
* * *
Table 5.34.5.1-2 specifies data types re-used by the SliceParamProvision API
from other specifications, including a reference to their respective
specifications, and when needed, a short description of their use within the
SliceParamProvision API.
Table 5.34.5.1-2: SliceParamProvision API re-used Data Types
* * *
Data type Reference Comments Applicability DurationSec 3GPP TS 29.571 [8]
Represents a time duration.  
SliceUsageControlInfo 3GPP TS 29.571 [8] Represents the Network Slice Usage
Control information.  
Snssai 3GPP TS 29.571 [8] Identifies an S-NSSAI.  
SupportedFeatures 3GPP TS 29.571 [8] Represents the list of supported
feature(s) and used to negotiate the applicability of the optional features.
* * *
#### 5.34.5.2 Structured data types
##### 5.34.5.2.1 Introduction
This clause defines the structures to be used in resource representations.
##### 5.34.5.2.2 Type: SlicePpData
Table 5.34.5.2.2-1: Definition of type SlicePpData
+-----------+-----------+---+-----------+-----------+-----------+ | Attribute | Data type | P | Ca | De | Appl | | name | | | rdinality | scription | icability | +-----------+-----------+---+-----------+-----------+-----------+ | afId | string | M | 1 | R | | | | | | | epresents | | | | | | | the | | | | | | | i | | | | | | | dentifier | | | | | | | of the AF | | | | | | | that is | | | | | | | sending | | | | | | | the | | | | | | | request. | | +-----------+-----------+---+-----------+-----------+-----------+ | sliceUs | map(Slic | C | 1..N | R | | | gCtrlData | eUsageCon | | | epresents | | | | trolInfo) | | | the | | | | | | | Network | | | | | | | Slice | | | | | | | Usage | | | | | | | Control | | | | | | | in | | | | | | | formation | | | | | | | to be | | | | | | | pro | | | | | | | visioned. | | | | | | | | | | | | | | The key | | | | | | | of the | | | | | | | map shall | | | | | | | be the | | | | | | | AF- | | | | | | | dedicated | | | | | | | S-NSSAI | | | | | | | to which | | | | | | | the | | | | | | | Network | | | | | | | Slice | | | | | | | Usage | | | | | | | Control | | | | | | | in | | | | | | | formation | | | | | | | are | | | | | | | related | | | | | | | and that | | | | | | | is | | | | | | | provided | | | | | | | within | | | | | | | the | | | | | | | \ | | | | | | | "snssai\" | | | | | | | attribute | | | | | | | of the | | | | | | | corr | | | | | | | esponding | | | | | | | map value | | | | | | | encoded | | | | | | | via the | | | | | | | Sli | | | | | | | ceUsageCo | | | | | | | ntrolInfo | | | | | | | data | | | | | | | s | | | | | | | tructure. | | | | | | | | | | | | | | This | | | | | | | attribute | | | | | | | shall be | | | | | | | present | | | | | | | only when | | | | | | | the AF | | | | | | | request | | | | | | | to | | | | | | | provision | | | | | | | Network | | | | | | | Slice | | | | | | | Usage | | | | | | | Control | | | | | | | inf | | | | | | | ormation. | | +-----------+-----------+---+-----------+-----------+-----------+ | suppFeat | Supporte | C | 0..1 | R | | | | dFeatures | | | epresents | | | | | | | the list | | | | | | | of | | | | | | | supported | | | | | | | features | | | | | | | among the | | | | | | | ones | | | | | | | defined | | | | | | | in | | | | | | | claus | | | | | | | e 5.34.6. | | | | | | | | | | | | | | This | | | | | | | attribute | | | | | | | shall be | | | | | | | provided | | | | | | | when | | | | | | | feature | | | | | | | ne | | | | | | | gotiation | | | | | | | needs to | | | | | | | take | | | | | | | place. | | +-----------+-----------+---+-----------+-----------+-----------+
##### 5.34.5.2.3 Type: SlicePpDataPatch
Table 5.34.5.2.3-1: Definition of type SlicePpDataPatch
+-----------+-----------+---+-----------+-----------+-----------+ | Attribute | Data type | P | Ca | De | Appl | | name | | | rdinality | scription | icability | +-----------+-----------+---+-----------+-----------+-----------+ | sliceUs | map(Slic | O | 1..N | R | | | gCtrlData | eUsageCon | | | epresents | | | | trolInfo) | | | the | | | | | | | Network | | | | | | | Slice | | | | | | | Usage | | | | | | | Control | | | | | | | in | | | | | | | formation | | | | | | | to be | | | | | | | pro | | | | | | | visioned. | | | | | | | | | | | | | | The key | | | | | | | of the | | | | | | | map shall | | | | | | | be the | | | | | | | AF- | | | | | | | dedicated | | | | | | | S-NSSAI | | | | | | | to which | | | | | | | the | | | | | | | Network | | | | | | | Slice | | | | | | | Usage | | | | | | | Control | | | | | | | in | | | | | | | formation | | | | | | | are | | | | | | | related | | | | | | | and that | | | | | | | is | | | | | | | provided | | | | | | | within | | | | | | | the | | | | | | | \ | | | | | | | "snssai\" | | | | | | | attribute | | | | | | | of the | | | | | | | corr | | | | | | | esponding | | | | | | | map value | | | | | | | encoded | | | | | | | via the | | | | | | | Sli | | | | | | | ceUsageCo | | | | | | | ntrolInfo | | | | | | | data | | | | | | | s | | | | | | | tructure. | | +-----------+-----------+---+-----------+-----------+-----------+
#### 5.34.5.3 Simple data types and enumerations
##### 5.34.5.3.1 Introduction
This clause defines simple data types and enumerations that can be referenced
from data structures defined in the previous clauses.
##### 5.34.5.3.2 Simple data types
The simple data types defined in table 5.34.5.3.2-1 shall be supported.
Table 5.34.5.3.2-1: Simple data types
* * *
Type Name Type Definition Description Applicability
* * *
### 5.34.6 Used Features
The table below defines the features applicable to the SliceParamProvision
API. Those features are negotiated as described in clause 5.2.7 of 3GPP TS
29.122 [4].
Table 5.34.6-1: Supported Features
* * *
Feature number Feature Name Description
* * *
### 5.34.7 Error handling
#### 5.34.7.1 General
HTTP error handling shall be supported as specified in clause 5.2.6 of 3GPP TS
29.122 [4].
In addition, the requirements in the following clauses shall apply.
#### 5.34.7.2 Protocol Errors
In this Release of the specification, there are no additional protocol errors
applicable for the SliceParamProvision API.
#### 5.34.7.3 Application Errors
The application errors defined for the SliceParamProvision API are listed in
table 5.34.7.3-1.
Table 5.34.7.3-1: Application errors
* * *
**Application Error** **HTTP status code** **Description**
* * *
# 6 Security
TLS shall be used to support the security communication between the NEF and
the AF over NEF Northbound interface as defined in clause 12 of 3GPP TS 33.501
[6]. The access to the NEFnorthbound APIs shall be authorized by means of
OAuth2 protocol (see IETF RFC 6749 [13]), based on local configuration, using
the \"Client Credentials\" authorization grant. If OAuth2 is used, a client,
prior to consuming services offered by the NEF Northbound APIs, shall obtain a
\"token\" from the authorization server.
# 7 Using Common API Framework
## 7.1 General
When CAPIF is used with an NEF that is used for external exposure, the NEF
shall support the following as defined in 3GPP TS 29.222 [12]:
\- the API exposing function and related APIs over CAPIF-2/2e and CAPIF-3/3e
reference points;
\- the API publishing function and related APIs over CAPIF-4/4e reference
point;
\- the API management function and related APIs over CAPIF-5/5e reference
point; and
\- at least one of the security methods for authentication and authorization,
and related security mechanisms.
In a centralized deployment as defined in 3GPP TS 23.222 [11], where the CAPIF
core function and API provider domain functions are co-located, the
interactions between the CAPIF core function and API provider domain functions
may be independent of CAPIF-3/3e, CAPIF-4/4e and CAPIF-5/5e reference points.
## 7.2 Security
When CAPIF is used for external exposure, before invoking the API exposed by
the NEF, the AF as API invoker shall negotiate the security method (PKI, TLS-
PSK or OAUTH2) with CAPIF core function and ensure the NEF has enough
credential to authenticate the AF (see 3GPP TS 29.222 [12], clause 5.6.2.2 and
clause 6.2.2.2).
If PKI or TLS-PSK is used as the selected security method between the AF and
the NEF, upon API invocation, the NEF shall retrieve the authorization
information from the CAPIF core function as described in 3GPP TS 29.222 [12],
clause 5.6.2.4.
As indicated in 3GPP TS 33.122 [14], the access to the NEF northbound APIs may
be authorized by means of the OAuth2 protocol (see IETF RFC 6749 [13]), using
the \"Client Credentials\" authorization grant, where the CAPIF core function
(see 3GPP TS 29.222 [12]) plays the role of the authorization server.
NOTE 1: In this release, only \"Client Credentials\" authorization grant is
supported.
If OAuth2 is used as the selected security method between the AF and the NEF,
the AF, prior to consuming services offered by the NEF northbound APIs, shall
obtain a \"token\" from the authorization server, by invoking the
Obtain_Authorization service, as described in 3GPP TS 29.222 [12], clause
5.6.2.3.2.
The NEF northbound APIs do not define any scopes for OAuth2 authorization. It
is the NEF responsibility to check whether the AF is authorized to use an API
based on the \"token\". Once the NEF verifies the \"token\", it shall check
whether the NEF identifier in the \"token\" matches its own published
identifier, and whether the API name in the \"token\" matches its own
published API name. If those checks are passed, the AF has full authority to
access any resource or operation for the invoked API.
NOTE 2: For aforementioned security methods, the NEF needs to apply admission
control according to access control policies after performing the
authorization checks.
> NOTE 3: The security requirement in the current clause does not apply